var kle=Object.defineProperty;var JB=n=>{throw TypeError(n)};var Ele=(n,e,i)=>e in n?kle(n,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[e]=i;var mt=(n,e,i)=>Ele(n,typeof e!="symbol"?e+"":e,i),MI=(n,e,i)=>e.has(n)||JB("Cannot "+i);var P=(n,e,i)=>(MI(n,e,"read from private field"),i?i.call(n):e.get(n)),he=(n,e,i)=>e.has(n)?JB("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,i),te=(n,e,i,r)=>(MI(n,e,"write to private field"),r?r.call(n,i):e.set(n,i),i),fe=(n,e,i)=>(MI(n,e,"access private method"),i);var wo=(n,e,i,r)=>({set _(o){te(n,e,o,i)},get _(){return P(n,e,r)}});function Sle(n,e){for(var i=0;i<e.length;i++){const r=e[i];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const l=Object.getOwnPropertyDescriptor(r,o);l&&Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=i(o);fetch(o.href,l)}})();var Lt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function MN(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function PH(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var i=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(i,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}),i}var IH={exports:{}},ON={},jH={exports:{}},vn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IS=Symbol.for("react.element"),Ale=Symbol.for("react.portal"),Cle=Symbol.for("react.fragment"),Tle=Symbol.for("react.strict_mode"),Dle=Symbol.for("react.profiler"),Nle=Symbol.for("react.provider"),Ple=Symbol.for("react.context"),Ile=Symbol.for("react.forward_ref"),jle=Symbol.for("react.suspense"),Rle=Symbol.for("react.memo"),Mle=Symbol.for("react.lazy"),QB=Symbol.iterator;function Ole(n){return n===null||typeof n!="object"?null:(n=QB&&n[QB]||n["@@iterator"],typeof n=="function"?n:null)}var RH={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},MH=Object.assign,OH={};function B1(n,e,i){this.props=n,this.context=e,this.refs=OH,this.updater=i||RH}B1.prototype.isReactComponent={};B1.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};B1.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function FH(){}FH.prototype=B1.prototype;function iO(n,e,i){this.props=n,this.context=e,this.refs=OH,this.updater=i||RH}var rO=iO.prototype=new FH;rO.constructor=iO;MH(rO,B1.prototype);rO.isPureReactComponent=!0;var ez=Array.isArray,UH=Object.prototype.hasOwnProperty,sO={current:null},LH={key:!0,ref:!0,__self:!0,__source:!0};function BH(n,e,i){var r,o={},l=null,c=null;if(e!=null)for(r in e.ref!==void 0&&(c=e.ref),e.key!==void 0&&(l=""+e.key),e)UH.call(e,r)&&!LH.hasOwnProperty(r)&&(o[r]=e[r]);var u=arguments.length-2;if(u===1)o.children=i;else if(1<u){for(var h=Array(u),m=0;m<u;m++)h[m]=arguments[m+2];o.children=h}if(n&&n.defaultProps)for(r in u=n.defaultProps,u)o[r]===void 0&&(o[r]=u[r]);return{$$typeof:IS,type:n,key:l,ref:c,props:o,_owner:sO.current}}function Fle(n,e){return{$$typeof:IS,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function oO(n){return typeof n=="object"&&n!==null&&n.$$typeof===IS}function Ule(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(i){return e[i]})}var tz=/\/+/g;function OI(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Ule(""+n.key):e.toString(36)}function pD(n,e,i,r,o){var l=typeof n;(l==="undefined"||l==="boolean")&&(n=null);var c=!1;if(n===null)c=!0;else switch(l){case"string":case"number":c=!0;break;case"object":switch(n.$$typeof){case IS:case Ale:c=!0}}if(c)return c=n,o=o(c),n=r===""?"."+OI(c,0):r,ez(o)?(i="",n!=null&&(i=n.replace(tz,"$&/")+"/"),pD(o,e,i,"",function(m){return m})):o!=null&&(oO(o)&&(o=Fle(o,i+(!o.key||c&&c.key===o.key?"":(""+o.key).replace(tz,"$&/")+"/")+n)),e.push(o)),1;if(c=0,r=r===""?".":r+":",ez(n))for(var u=0;u<n.length;u++){l=n[u];var h=r+OI(l,u);c+=pD(l,e,i,h,o)}else if(h=Ole(n),typeof h=="function")for(n=h.call(n),u=0;!(l=n.next()).done;)l=l.value,h=r+OI(l,u++),c+=pD(l,e,i,h,o);else if(l==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return c}function ET(n,e,i){if(n==null)return n;var r=[],o=0;return pD(n,r,"","",function(l){return e.call(i,l,o++)}),r}function Lle(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(i){(n._status===0||n._status===-1)&&(n._status=1,n._result=i)},function(i){(n._status===0||n._status===-1)&&(n._status=2,n._result=i)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var jo={current:null},mD={transition:null},Ble={ReactCurrentDispatcher:jo,ReactCurrentBatchConfig:mD,ReactCurrentOwner:sO};function zH(){throw Error("act(...) is not supported in production builds of React.")}vn.Children={map:ET,forEach:function(n,e,i){ET(n,function(){e.apply(this,arguments)},i)},count:function(n){var e=0;return ET(n,function(){e++}),e},toArray:function(n){return ET(n,function(e){return e})||[]},only:function(n){if(!oO(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};vn.Component=B1;vn.Fragment=Cle;vn.Profiler=Dle;vn.PureComponent=iO;vn.StrictMode=Tle;vn.Suspense=jle;vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ble;vn.act=zH;vn.cloneElement=function(n,e,i){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=MH({},n.props),o=n.key,l=n.ref,c=n._owner;if(e!=null){if(e.ref!==void 0&&(l=e.ref,c=sO.current),e.key!==void 0&&(o=""+e.key),n.type&&n.type.defaultProps)var u=n.type.defaultProps;for(h in e)UH.call(e,h)&&!LH.hasOwnProperty(h)&&(r[h]=e[h]===void 0&&u!==void 0?u[h]:e[h])}var h=arguments.length-2;if(h===1)r.children=i;else if(1<h){u=Array(h);for(var m=0;m<h;m++)u[m]=arguments[m+2];r.children=u}return{$$typeof:IS,type:n.type,key:o,ref:l,props:r,_owner:c}};vn.createContext=function(n){return n={$$typeof:Ple,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:Nle,_context:n},n.Consumer=n};vn.createElement=BH;vn.createFactory=function(n){var e=BH.bind(null,n);return e.type=n,e};vn.createRef=function(){return{current:null}};vn.forwardRef=function(n){return{$$typeof:Ile,render:n}};vn.isValidElement=oO;vn.lazy=function(n){return{$$typeof:Mle,_payload:{_status:-1,_result:n},_init:Lle}};vn.memo=function(n,e){return{$$typeof:Rle,type:n,compare:e===void 0?null:e}};vn.startTransition=function(n){var e=mD.transition;mD.transition={};try{n()}finally{mD.transition=e}};vn.unstable_act=zH;vn.useCallback=function(n,e){return jo.current.useCallback(n,e)};vn.useContext=function(n){return jo.current.useContext(n)};vn.useDebugValue=function(){};vn.useDeferredValue=function(n){return jo.current.useDeferredValue(n)};vn.useEffect=function(n,e){return jo.current.useEffect(n,e)};vn.useId=function(){return jo.current.useId()};vn.useImperativeHandle=function(n,e,i){return jo.current.useImperativeHandle(n,e,i)};vn.useInsertionEffect=function(n,e){return jo.current.useInsertionEffect(n,e)};vn.useLayoutEffect=function(n,e){return jo.current.useLayoutEffect(n,e)};vn.useMemo=function(n,e){return jo.current.useMemo(n,e)};vn.useReducer=function(n,e,i){return jo.current.useReducer(n,e,i)};vn.useRef=function(n){return jo.current.useRef(n)};vn.useState=function(n){return jo.current.useState(n)};vn.useSyncExternalStore=function(n,e,i){return jo.current.useSyncExternalStore(n,e,i)};vn.useTransition=function(){return jo.current.useTransition()};vn.version="18.3.1";jH.exports=vn;var H=jH.exports;const or=MN(H),Y4=Sle({__proto__:null,default:or},[H]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zle=H,Vle=Symbol.for("react.element"),Wle=Symbol.for("react.fragment"),$le=Object.prototype.hasOwnProperty,qle=zle.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hle={key:!0,ref:!0,__self:!0,__source:!0};function VH(n,e,i){var r,o={},l=null,c=null;i!==void 0&&(l=""+i),e.key!==void 0&&(l=""+e.key),e.ref!==void 0&&(c=e.ref);for(r in e)$le.call(e,r)&&!Hle.hasOwnProperty(r)&&(o[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:Vle,type:n,key:l,ref:c,props:o,_owner:qle.current}}ON.Fragment=Wle;ON.jsx=VH;ON.jsxs=VH;IH.exports=ON;var b=IH.exports,WH={exports:{}},nl={},$H={exports:{}},qH={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(G,K){var ne=G.length;G.push(K);e:for(;0<ne;){var J=ne-1>>>1,ue=G[J];if(0<o(ue,K))G[J]=K,G[ne]=ue,ne=J;else break e}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var K=G[0],ne=G.pop();if(ne!==K){G[0]=ne;e:for(var J=0,ue=G.length,ee=ue>>>1;J<ee;){var xe=2*(J+1)-1,Se=G[xe],Me=xe+1,Re=G[Me];if(0>o(Se,ne))Me<ue&&0>o(Re,Se)?(G[J]=Re,G[Me]=ne,J=Me):(G[J]=Se,G[xe]=ne,J=xe);else if(Me<ue&&0>o(Re,ne))G[J]=Re,G[Me]=ne,J=Me;else break e}}return K}function o(G,K){var ne=G.sortIndex-K.sortIndex;return ne!==0?ne:G.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();n.unstable_now=function(){return c.now()-u}}var h=[],m=[],g=1,y=null,v=3,_=!1,A=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(G){for(var K=i(m);K!==null;){if(K.callback===null)r(m);else if(K.startTime<=G)r(m),K.sortIndex=K.expirationTime,e(h,K);else break;K=i(m)}}function O(G){if(S=!1,I(G),!A)if(i(h)!==null)A=!0,re(F);else{var K=i(m);K!==null&&ie(O,K.startTime-G)}}function F(G,K){A=!1,S&&(S=!1,T(B),B=-1),_=!0;var ne=v;try{for(I(K),y=i(h);y!==null&&(!(y.expirationTime>K)||G&&!me());){var J=y.callback;if(typeof J=="function"){y.callback=null,v=y.priorityLevel;var ue=J(y.expirationTime<=K);K=n.unstable_now(),typeof ue=="function"?y.callback=ue:y===i(h)&&r(h),I(K)}else r(h);y=i(h)}if(y!==null)var ee=!0;else{var xe=i(m);xe!==null&&ie(O,xe.startTime-K),ee=!1}return ee}finally{y=null,v=ne,_=!1}}var U=!1,V=null,B=-1,Z=5,ae=-1;function me(){return!(n.unstable_now()-ae<Z)}function Q(){if(V!==null){var G=n.unstable_now();ae=G;var K=!0;try{K=V(!0,G)}finally{K?ge():(U=!1,V=null)}}else U=!1}var ge;if(typeof N=="function")ge=function(){N(Q)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,Te=$.port2;$.port1.onmessage=Q,ge=function(){Te.postMessage(null)}}else ge=function(){C(Q,0)};function re(G){V=G,U||(U=!0,ge())}function ie(G,K){B=C(function(){G(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){A||_||(A=!0,re(F))},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return i(h)},n.unstable_next=function(G){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var ne=v;v=K;try{return G()}finally{v=ne}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,K){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ne=v;v=G;try{return K()}finally{v=ne}},n.unstable_scheduleCallback=function(G,K,ne){var J=n.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?J+ne:J):ne=J,G){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=ne+ue,G={id:g++,callback:K,priorityLevel:G,startTime:ne,expirationTime:ue,sortIndex:-1},ne>J?(G.sortIndex=ne,e(m,G),i(h)===null&&G===i(m)&&(S?(T(B),B=-1):S=!0,ie(O,ne-J))):(G.sortIndex=ue,e(h,G),A||_||(A=!0,re(F))),G},n.unstable_shouldYield=me,n.unstable_wrapCallback=function(G){var K=v;return function(){var ne=v;v=K;try{return G.apply(this,arguments)}finally{v=ne}}}})(qH);$H.exports=qH;var Gle=$H.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xle=H,tl=Gle;function dt(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var HH=new Set,g2={};function O0(n,e){v1(n,e),v1(n+"Capture",e)}function v1(n,e){for(g2[n]=e,n=0;n<e.length;n++)HH.add(e[n])}var nf=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),J4=Object.prototype.hasOwnProperty,Kle=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nz={},iz={};function Zle(n){return J4.call(iz,n)?!0:J4.call(nz,n)?!1:Kle.test(n)?iz[n]=!0:(nz[n]=!0,!1)}function Yle(n,e,i,r){if(i!==null&&i.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:i!==null?!i.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Jle(n,e,i,r){if(e===null||typeof e>"u"||Yle(n,e,i,r))return!0;if(r)return!1;if(i!==null)switch(i.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ro(n,e,i,r,o,l,c){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=i,this.propertyName=n,this.type=e,this.sanitizeURL=l,this.removeEmptyString=c}var Cs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Cs[n]=new Ro(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Cs[e]=new Ro(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Cs[n]=new Ro(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Cs[n]=new Ro(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Cs[n]=new Ro(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Cs[n]=new Ro(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Cs[n]=new Ro(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Cs[n]=new Ro(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Cs[n]=new Ro(n,5,!1,n.toLowerCase(),null,!1,!1)});var aO=/[\-:]([a-z])/g;function lO(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(aO,lO);Cs[e]=new Ro(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(aO,lO);Cs[e]=new Ro(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(aO,lO);Cs[e]=new Ro(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Cs[n]=new Ro(n,1,!1,n.toLowerCase(),null,!1,!1)});Cs.xlinkHref=new Ro("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Cs[n]=new Ro(n,1,!1,n.toLowerCase(),null,!0,!0)});function cO(n,e,i,r){var o=Cs.hasOwnProperty(e)?Cs[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Jle(e,i,o,r)&&(i=null),r||o===null?Zle(e)&&(i===null?n.removeAttribute(e):n.setAttribute(e,""+i)):o.mustUseProperty?n[o.propertyName]=i===null?o.type===3?!1:"":i:(e=o.attributeName,r=o.attributeNamespace,i===null?n.removeAttribute(e):(o=o.type,i=o===3||o===4&&i===!0?"":""+i,r?n.setAttributeNS(r,e,i):n.setAttribute(e,i))))}var gf=Xle.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ST=Symbol.for("react.element"),Pv=Symbol.for("react.portal"),Iv=Symbol.for("react.fragment"),uO=Symbol.for("react.strict_mode"),Q4=Symbol.for("react.profiler"),GH=Symbol.for("react.provider"),XH=Symbol.for("react.context"),dO=Symbol.for("react.forward_ref"),eR=Symbol.for("react.suspense"),tR=Symbol.for("react.suspense_list"),hO=Symbol.for("react.memo"),_p=Symbol.for("react.lazy"),KH=Symbol.for("react.offscreen"),rz=Symbol.iterator;function rk(n){return n===null||typeof n!="object"?null:(n=rz&&n[rz]||n["@@iterator"],typeof n=="function"?n:null)}var $i=Object.assign,FI;function Ak(n){if(FI===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);FI=e&&e[1]||""}return`
`+FI+n}var UI=!1;function LI(n,e){if(!n||UI)return"";UI=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(m){var r=m}Reflect.construct(n,[],e)}else{try{e.call()}catch(m){r=m}n.call(e.prototype)}else{try{throw Error()}catch(m){r=m}n()}}catch(m){if(m&&r&&typeof m.stack=="string"){for(var o=m.stack.split(`
`),l=r.stack.split(`
`),c=o.length-1,u=l.length-1;1<=c&&0<=u&&o[c]!==l[u];)u--;for(;1<=c&&0<=u;c--,u--)if(o[c]!==l[u]){if(c!==1||u!==1)do if(c--,u--,0>u||o[c]!==l[u]){var h=`
`+o[c].replace(" at new "," at ");return n.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",n.displayName)),h}while(1<=c&&0<=u);break}}}finally{UI=!1,Error.prepareStackTrace=i}return(n=n?n.displayName||n.name:"")?Ak(n):""}function Qle(n){switch(n.tag){case 5:return Ak(n.type);case 16:return Ak("Lazy");case 13:return Ak("Suspense");case 19:return Ak("SuspenseList");case 0:case 2:case 15:return n=LI(n.type,!1),n;case 11:return n=LI(n.type.render,!1),n;case 1:return n=LI(n.type,!0),n;default:return""}}function nR(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Iv:return"Fragment";case Pv:return"Portal";case Q4:return"Profiler";case uO:return"StrictMode";case eR:return"Suspense";case tR:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case XH:return(n.displayName||"Context")+".Consumer";case GH:return(n._context.displayName||"Context")+".Provider";case dO:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case hO:return e=n.displayName||null,e!==null?e:nR(n.type)||"Memo";case _p:e=n._payload,n=n._init;try{return nR(n(e))}catch{}}return null}function ece(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nR(e);case 8:return e===uO?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Tm(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ZH(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tce(n){var e=ZH(n)?"checked":"value",i=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,l=i.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return o.call(this)},set:function(c){r=""+c,l.call(this,c)}}),Object.defineProperty(n,e,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(c){r=""+c},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function AT(n){n._valueTracker||(n._valueTracker=tce(n))}function YH(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var i=e.getValue(),r="";return n&&(r=ZH(n)?n.checked?"true":"false":n.value),n=r,n!==i?(e.setValue(n),!0):!1}function h5(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function iR(n,e){var i=e.checked;return $i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??n._wrapperState.initialChecked})}function sz(n,e){var i=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;i=Tm(e.value!=null?e.value:i),n._wrapperState={initialChecked:r,initialValue:i,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function JH(n,e){e=e.checked,e!=null&&cO(n,"checked",e,!1)}function rR(n,e){JH(n,e);var i=Tm(e.value),r=e.type;if(i!=null)r==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+i):n.value!==""+i&&(n.value=""+i);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?sR(n,e.type,i):e.hasOwnProperty("defaultValue")&&sR(n,e.type,Tm(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function oz(n,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,i||e===n.value||(n.value=e),n.defaultValue=e}i=n.name,i!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,i!==""&&(n.name=i)}function sR(n,e,i){(e!=="number"||h5(n.ownerDocument)!==n)&&(i==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+i&&(n.defaultValue=""+i))}var Ck=Array.isArray;function ew(n,e,i,r){if(n=n.options,e){e={};for(var o=0;o<i.length;o++)e["$"+i[o]]=!0;for(i=0;i<n.length;i++)o=e.hasOwnProperty("$"+n[i].value),n[i].selected!==o&&(n[i].selected=o),o&&r&&(n[i].defaultSelected=!0)}else{for(i=""+Tm(i),e=null,o=0;o<n.length;o++){if(n[o].value===i){n[o].selected=!0,r&&(n[o].defaultSelected=!0);return}e!==null||n[o].disabled||(e=n[o])}e!==null&&(e.selected=!0)}}function oR(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(dt(91));return $i({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function az(n,e){var i=e.value;if(i==null){if(i=e.children,e=e.defaultValue,i!=null){if(e!=null)throw Error(dt(92));if(Ck(i)){if(1<i.length)throw Error(dt(93));i=i[0]}e=i}e==null&&(e=""),i=e}n._wrapperState={initialValue:Tm(i)}}function QH(n,e){var i=Tm(e.value),r=Tm(e.defaultValue);i!=null&&(i=""+i,i!==n.value&&(n.value=i),e.defaultValue==null&&n.defaultValue!==i&&(n.defaultValue=i)),r!=null&&(n.defaultValue=""+r)}function lz(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function eG(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function aR(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?eG(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var CT,tG=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,i,r,o){MSApp.execUnsafeLocalFunction(function(){return n(e,i,r,o)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(CT=CT||document.createElement("div"),CT.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=CT.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function b2(n,e){if(e){var i=n.firstChild;if(i&&i===n.lastChild&&i.nodeType===3){i.nodeValue=e;return}}n.textContent=e}var Zk={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nce=["Webkit","ms","Moz","O"];Object.keys(Zk).forEach(function(n){nce.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Zk[e]=Zk[n]})});function nG(n,e,i){return e==null||typeof e=="boolean"||e===""?"":i||typeof e!="number"||e===0||Zk.hasOwnProperty(n)&&Zk[n]?(""+e).trim():e+"px"}function iG(n,e){n=n.style;for(var i in e)if(e.hasOwnProperty(i)){var r=i.indexOf("--")===0,o=nG(i,e[i],r);i==="float"&&(i="cssFloat"),r?n.setProperty(i,o):n[i]=o}}var ice=$i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lR(n,e){if(e){if(ice[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(dt(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(dt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(dt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(dt(62))}}function cR(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uR=null;function fO(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var dR=null,tw=null,nw=null;function cz(n){if(n=MS(n)){if(typeof dR!="function")throw Error(dt(280));var e=n.stateNode;e&&(e=zN(e),dR(n.stateNode,n.type,e))}}function rG(n){tw?nw?nw.push(n):nw=[n]:tw=n}function sG(){if(tw){var n=tw,e=nw;if(nw=tw=null,cz(n),e)for(n=0;n<e.length;n++)cz(e[n])}}function oG(n,e){return n(e)}function aG(){}var BI=!1;function lG(n,e,i){if(BI)return n(e,i);BI=!0;try{return oG(n,e,i)}finally{BI=!1,(tw!==null||nw!==null)&&(aG(),sG())}}function y2(n,e){var i=n.stateNode;if(i===null)return null;var r=zN(i);if(r===null)return null;i=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(i&&typeof i!="function")throw Error(dt(231,e,typeof i));return i}var hR=!1;if(nf)try{var sk={};Object.defineProperty(sk,"passive",{get:function(){hR=!0}}),window.addEventListener("test",sk,sk),window.removeEventListener("test",sk,sk)}catch{hR=!1}function rce(n,e,i,r,o,l,c,u,h){var m=Array.prototype.slice.call(arguments,3);try{e.apply(i,m)}catch(g){this.onError(g)}}var Yk=!1,f5=null,p5=!1,fR=null,sce={onError:function(n){Yk=!0,f5=n}};function oce(n,e,i,r,o,l,c,u,h){Yk=!1,f5=null,rce.apply(sce,arguments)}function ace(n,e,i,r,o,l,c,u,h){if(oce.apply(this,arguments),Yk){if(Yk){var m=f5;Yk=!1,f5=null}else throw Error(dt(198));p5||(p5=!0,fR=m)}}function F0(n){var e=n,i=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(i=e.return),n=e.return;while(n)}return e.tag===3?i:null}function cG(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function uz(n){if(F0(n)!==n)throw Error(dt(188))}function lce(n){var e=n.alternate;if(!e){if(e=F0(n),e===null)throw Error(dt(188));return e!==n?null:n}for(var i=n,r=e;;){var o=i.return;if(o===null)break;var l=o.alternate;if(l===null){if(r=o.return,r!==null){i=r;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===i)return uz(o),n;if(l===r)return uz(o),e;l=l.sibling}throw Error(dt(188))}if(i.return!==r.return)i=o,r=l;else{for(var c=!1,u=o.child;u;){if(u===i){c=!0,i=o,r=l;break}if(u===r){c=!0,r=o,i=l;break}u=u.sibling}if(!c){for(u=l.child;u;){if(u===i){c=!0,i=l,r=o;break}if(u===r){c=!0,r=l,i=o;break}u=u.sibling}if(!c)throw Error(dt(189))}}if(i.alternate!==r)throw Error(dt(190))}if(i.tag!==3)throw Error(dt(188));return i.stateNode.current===i?n:e}function uG(n){return n=lce(n),n!==null?dG(n):null}function dG(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=dG(n);if(e!==null)return e;n=n.sibling}return null}var hG=tl.unstable_scheduleCallback,dz=tl.unstable_cancelCallback,cce=tl.unstable_shouldYield,uce=tl.unstable_requestPaint,rr=tl.unstable_now,dce=tl.unstable_getCurrentPriorityLevel,pO=tl.unstable_ImmediatePriority,fG=tl.unstable_UserBlockingPriority,m5=tl.unstable_NormalPriority,hce=tl.unstable_LowPriority,pG=tl.unstable_IdlePriority,FN=null,pd=null;function fce(n){if(pd&&typeof pd.onCommitFiberRoot=="function")try{pd.onCommitFiberRoot(FN,n,void 0,(n.current.flags&128)===128)}catch{}}var Kc=Math.clz32?Math.clz32:gce,pce=Math.log,mce=Math.LN2;function gce(n){return n>>>=0,n===0?32:31-(pce(n)/mce|0)|0}var TT=64,DT=4194304;function Tk(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function g5(n,e){var i=n.pendingLanes;if(i===0)return 0;var r=0,o=n.suspendedLanes,l=n.pingedLanes,c=i&268435455;if(c!==0){var u=c&~o;u!==0?r=Tk(u):(l&=c,l!==0&&(r=Tk(l)))}else c=i&~o,c!==0?r=Tk(c):l!==0&&(r=Tk(l));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,l=e&-e,o>=l||o===16&&(l&4194240)!==0))return e;if(r&4&&(r|=i&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)i=31-Kc(e),o=1<<i,r|=n[i],e&=~o;return r}function bce(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yce(n,e){for(var i=n.suspendedLanes,r=n.pingedLanes,o=n.expirationTimes,l=n.pendingLanes;0<l;){var c=31-Kc(l),u=1<<c,h=o[c];h===-1?(!(u&i)||u&r)&&(o[c]=bce(u,e)):h<=e&&(n.expiredLanes|=u),l&=~u}}function pR(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function mG(){var n=TT;return TT<<=1,!(TT&4194240)&&(TT=64),n}function zI(n){for(var e=[],i=0;31>i;i++)e.push(n);return e}function jS(n,e,i){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Kc(e),n[e]=i}function vce(n,e){var i=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<i;){var o=31-Kc(i),l=1<<o;e[o]=0,r[o]=-1,n[o]=-1,i&=~l}}function mO(n,e){var i=n.entangledLanes|=e;for(n=n.entanglements;i;){var r=31-Kc(i),o=1<<r;o&e|n[r]&e&&(n[r]|=e),i&=~o}}var Jn=0;function gG(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var bG,gO,yG,vG,wG,mR=!1,NT=[],ym=null,vm=null,wm=null,v2=new Map,w2=new Map,Ap=[],wce="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hz(n,e){switch(n){case"focusin":case"focusout":ym=null;break;case"dragenter":case"dragleave":vm=null;break;case"mouseover":case"mouseout":wm=null;break;case"pointerover":case"pointerout":v2.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":w2.delete(e.pointerId)}}function ok(n,e,i,r,o,l){return n===null||n.nativeEvent!==l?(n={blockedOn:e,domEventName:i,eventSystemFlags:r,nativeEvent:l,targetContainers:[o]},e!==null&&(e=MS(e),e!==null&&gO(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),n)}function xce(n,e,i,r,o){switch(e){case"focusin":return ym=ok(ym,n,e,i,r,o),!0;case"dragenter":return vm=ok(vm,n,e,i,r,o),!0;case"mouseover":return wm=ok(wm,n,e,i,r,o),!0;case"pointerover":var l=o.pointerId;return v2.set(l,ok(v2.get(l)||null,n,e,i,r,o)),!0;case"gotpointercapture":return l=o.pointerId,w2.set(l,ok(w2.get(l)||null,n,e,i,r,o)),!0}return!1}function xG(n){var e=ob(n.target);if(e!==null){var i=F0(e);if(i!==null){if(e=i.tag,e===13){if(e=cG(i),e!==null){n.blockedOn=e,wG(n.priority,function(){yG(i)});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){n.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}n.blockedOn=null}function gD(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var i=gR(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(i===null){i=n.nativeEvent;var r=new i.constructor(i.type,i);uR=r,i.target.dispatchEvent(r),uR=null}else return e=MS(i),e!==null&&gO(e),n.blockedOn=i,!1;e.shift()}return!0}function fz(n,e,i){gD(n)&&i.delete(e)}function _ce(){mR=!1,ym!==null&&gD(ym)&&(ym=null),vm!==null&&gD(vm)&&(vm=null),wm!==null&&gD(wm)&&(wm=null),v2.forEach(fz),w2.forEach(fz)}function ak(n,e){n.blockedOn===e&&(n.blockedOn=null,mR||(mR=!0,tl.unstable_scheduleCallback(tl.unstable_NormalPriority,_ce)))}function x2(n){function e(o){return ak(o,n)}if(0<NT.length){ak(NT[0],n);for(var i=1;i<NT.length;i++){var r=NT[i];r.blockedOn===n&&(r.blockedOn=null)}}for(ym!==null&&ak(ym,n),vm!==null&&ak(vm,n),wm!==null&&ak(wm,n),v2.forEach(e),w2.forEach(e),i=0;i<Ap.length;i++)r=Ap[i],r.blockedOn===n&&(r.blockedOn=null);for(;0<Ap.length&&(i=Ap[0],i.blockedOn===null);)xG(i),i.blockedOn===null&&Ap.shift()}var iw=gf.ReactCurrentBatchConfig,b5=!0;function kce(n,e,i,r){var o=Jn,l=iw.transition;iw.transition=null;try{Jn=1,bO(n,e,i,r)}finally{Jn=o,iw.transition=l}}function Ece(n,e,i,r){var o=Jn,l=iw.transition;iw.transition=null;try{Jn=4,bO(n,e,i,r)}finally{Jn=o,iw.transition=l}}function bO(n,e,i,r){if(b5){var o=gR(n,e,i,r);if(o===null)YI(n,e,r,y5,i),hz(n,r);else if(xce(o,n,e,i,r))r.stopPropagation();else if(hz(n,r),e&4&&-1<wce.indexOf(n)){for(;o!==null;){var l=MS(o);if(l!==null&&bG(l),l=gR(n,e,i,r),l===null&&YI(n,e,r,y5,i),l===o)break;o=l}o!==null&&r.stopPropagation()}else YI(n,e,r,null,i)}}var y5=null;function gR(n,e,i,r){if(y5=null,n=fO(r),n=ob(n),n!==null)if(e=F0(n),e===null)n=null;else if(i=e.tag,i===13){if(n=cG(e),n!==null)return n;n=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return y5=n,null}function _G(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dce()){case pO:return 1;case fG:return 4;case m5:case hce:return 16;case pG:return 536870912;default:return 16}default:return 16}}var fm=null,yO=null,bD=null;function kG(){if(bD)return bD;var n,e=yO,i=e.length,r,o="value"in fm?fm.value:fm.textContent,l=o.length;for(n=0;n<i&&e[n]===o[n];n++);var c=i-n;for(r=1;r<=c&&e[i-r]===o[l-r];r++);return bD=o.slice(n,1<r?1-r:void 0)}function yD(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function PT(){return!0}function pz(){return!1}function il(n){function e(i,r,o,l,c){this._reactName=i,this._targetInst=o,this.type=r,this.nativeEvent=l,this.target=c,this.currentTarget=null;for(var u in n)n.hasOwnProperty(u)&&(i=n[u],this[u]=i?i(l):l[u]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?PT:pz,this.isPropagationStopped=pz,this}return $i(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=PT)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=PT)},persist:function(){},isPersistent:PT}),e}var z1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vO=il(z1),RS=$i({},z1,{view:0,detail:0}),Sce=il(RS),VI,WI,lk,UN=$i({},RS,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wO,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==lk&&(lk&&n.type==="mousemove"?(VI=n.screenX-lk.screenX,WI=n.screenY-lk.screenY):WI=VI=0,lk=n),VI)},movementY:function(n){return"movementY"in n?n.movementY:WI}}),mz=il(UN),Ace=$i({},UN,{dataTransfer:0}),Cce=il(Ace),Tce=$i({},RS,{relatedTarget:0}),$I=il(Tce),Dce=$i({},z1,{animationName:0,elapsedTime:0,pseudoElement:0}),Nce=il(Dce),Pce=$i({},z1,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ice=il(Pce),jce=$i({},z1,{data:0}),gz=il(jce),Rce={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mce={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oce={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fce(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=Oce[n])?!!e[n]:!1}function wO(){return Fce}var Uce=$i({},RS,{key:function(n){if(n.key){var e=Rce[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=yD(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Mce[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wO,charCode:function(n){return n.type==="keypress"?yD(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?yD(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Lce=il(Uce),Bce=$i({},UN,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bz=il(Bce),zce=$i({},RS,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wO}),Vce=il(zce),Wce=$i({},z1,{propertyName:0,elapsedTime:0,pseudoElement:0}),$ce=il(Wce),qce=$i({},UN,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Hce=il(qce),Gce=[9,13,27,32],xO=nf&&"CompositionEvent"in window,Jk=null;nf&&"documentMode"in document&&(Jk=document.documentMode);var Xce=nf&&"TextEvent"in window&&!Jk,EG=nf&&(!xO||Jk&&8<Jk&&11>=Jk),yz=" ",vz=!1;function SG(n,e){switch(n){case"keyup":return Gce.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AG(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var jv=!1;function Kce(n,e){switch(n){case"compositionend":return AG(e);case"keypress":return e.which!==32?null:(vz=!0,yz);case"textInput":return n=e.data,n===yz&&vz?null:n;default:return null}}function Zce(n,e){if(jv)return n==="compositionend"||!xO&&SG(n,e)?(n=kG(),bD=yO=fm=null,jv=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return EG&&e.locale!=="ko"?null:e.data;default:return null}}var Yce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wz(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!Yce[n.type]:e==="textarea"}function CG(n,e,i,r){rG(r),e=v5(e,"onChange"),0<e.length&&(i=new vO("onChange","change",null,i,r),n.push({event:i,listeners:e}))}var Qk=null,_2=null;function Jce(n){UG(n,0)}function LN(n){var e=Ov(n);if(YH(e))return n}function Qce(n,e){if(n==="change")return e}var TG=!1;if(nf){var qI;if(nf){var HI="oninput"in document;if(!HI){var xz=document.createElement("div");xz.setAttribute("oninput","return;"),HI=typeof xz.oninput=="function"}qI=HI}else qI=!1;TG=qI&&(!document.documentMode||9<document.documentMode)}function _z(){Qk&&(Qk.detachEvent("onpropertychange",DG),_2=Qk=null)}function DG(n){if(n.propertyName==="value"&&LN(_2)){var e=[];CG(e,_2,n,fO(n)),lG(Jce,e)}}function eue(n,e,i){n==="focusin"?(_z(),Qk=e,_2=i,Qk.attachEvent("onpropertychange",DG)):n==="focusout"&&_z()}function tue(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return LN(_2)}function nue(n,e){if(n==="click")return LN(e)}function iue(n,e){if(n==="input"||n==="change")return LN(e)}function rue(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Jc=typeof Object.is=="function"?Object.is:rue;function k2(n,e){if(Jc(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var i=Object.keys(n),r=Object.keys(e);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var o=i[r];if(!J4.call(e,o)||!Jc(n[o],e[o]))return!1}return!0}function kz(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ez(n,e){var i=kz(n);n=0;for(var r;i;){if(i.nodeType===3){if(r=n+i.textContent.length,n<=e&&r>=e)return{node:i,offset:e-n};n=r}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=kz(i)}}function NG(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?NG(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function PG(){for(var n=window,e=h5();e instanceof n.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)n=e.contentWindow;else break;e=h5(n.document)}return e}function _O(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function sue(n){var e=PG(),i=n.focusedElem,r=n.selectionRange;if(e!==i&&i&&i.ownerDocument&&NG(i.ownerDocument.documentElement,i)){if(r!==null&&_O(i)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(n,i.value.length);else if(n=(e=i.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var o=i.textContent.length,l=Math.min(r.start,o);r=r.end===void 0?l:Math.min(r.end,o),!n.extend&&l>r&&(o=r,r=l,l=o),o=Ez(i,l);var c=Ez(i,r);o&&c&&(n.rangeCount!==1||n.anchorNode!==o.node||n.anchorOffset!==o.offset||n.focusNode!==c.node||n.focusOffset!==c.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),n.removeAllRanges(),l>r?(n.addRange(e),n.extend(c.node,c.offset)):(e.setEnd(c.node,c.offset),n.addRange(e)))}}for(e=[],n=i;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)n=e[i],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var oue=nf&&"documentMode"in document&&11>=document.documentMode,Rv=null,bR=null,e2=null,yR=!1;function Sz(n,e,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;yR||Rv==null||Rv!==h5(r)||(r=Rv,"selectionStart"in r&&_O(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),e2&&k2(e2,r)||(e2=r,r=v5(bR,"onSelect"),0<r.length&&(e=new vO("onSelect","select",null,e,i),n.push({event:e,listeners:r}),e.target=Rv)))}function IT(n,e){var i={};return i[n.toLowerCase()]=e.toLowerCase(),i["Webkit"+n]="webkit"+e,i["Moz"+n]="moz"+e,i}var Mv={animationend:IT("Animation","AnimationEnd"),animationiteration:IT("Animation","AnimationIteration"),animationstart:IT("Animation","AnimationStart"),transitionend:IT("Transition","TransitionEnd")},GI={},IG={};nf&&(IG=document.createElement("div").style,"AnimationEvent"in window||(delete Mv.animationend.animation,delete Mv.animationiteration.animation,delete Mv.animationstart.animation),"TransitionEvent"in window||delete Mv.transitionend.transition);function BN(n){if(GI[n])return GI[n];if(!Mv[n])return n;var e=Mv[n],i;for(i in e)if(e.hasOwnProperty(i)&&i in IG)return GI[n]=e[i];return n}var jG=BN("animationend"),RG=BN("animationiteration"),MG=BN("animationstart"),OG=BN("transitionend"),FG=new Map,Az="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bm(n,e){FG.set(n,e),O0(e,[n])}for(var XI=0;XI<Az.length;XI++){var KI=Az[XI],aue=KI.toLowerCase(),lue=KI[0].toUpperCase()+KI.slice(1);Bm(aue,"on"+lue)}Bm(jG,"onAnimationEnd");Bm(RG,"onAnimationIteration");Bm(MG,"onAnimationStart");Bm("dblclick","onDoubleClick");Bm("focusin","onFocus");Bm("focusout","onBlur");Bm(OG,"onTransitionEnd");v1("onMouseEnter",["mouseout","mouseover"]);v1("onMouseLeave",["mouseout","mouseover"]);v1("onPointerEnter",["pointerout","pointerover"]);v1("onPointerLeave",["pointerout","pointerover"]);O0("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));O0("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));O0("onBeforeInput",["compositionend","keypress","textInput","paste"]);O0("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));O0("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));O0("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dk="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cue=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dk));function Cz(n,e,i){var r=n.type||"unknown-event";n.currentTarget=i,ace(r,e,void 0,n),n.currentTarget=null}function UG(n,e){e=(e&4)!==0;for(var i=0;i<n.length;i++){var r=n[i],o=r.event;r=r.listeners;e:{var l=void 0;if(e)for(var c=r.length-1;0<=c;c--){var u=r[c],h=u.instance,m=u.currentTarget;if(u=u.listener,h!==l&&o.isPropagationStopped())break e;Cz(o,u,m),l=h}else for(c=0;c<r.length;c++){if(u=r[c],h=u.instance,m=u.currentTarget,u=u.listener,h!==l&&o.isPropagationStopped())break e;Cz(o,u,m),l=h}}}if(p5)throw n=fR,p5=!1,fR=null,n}function _i(n,e){var i=e[kR];i===void 0&&(i=e[kR]=new Set);var r=n+"__bubble";i.has(r)||(LG(e,n,2,!1),i.add(r))}function ZI(n,e,i){var r=0;e&&(r|=4),LG(i,n,r,e)}var jT="_reactListening"+Math.random().toString(36).slice(2);function E2(n){if(!n[jT]){n[jT]=!0,HH.forEach(function(i){i!=="selectionchange"&&(cue.has(i)||ZI(i,!1,n),ZI(i,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[jT]||(e[jT]=!0,ZI("selectionchange",!1,e))}}function LG(n,e,i,r){switch(_G(e)){case 1:var o=kce;break;case 4:o=Ece;break;default:o=bO}i=o.bind(null,e,i,n),o=void 0,!hR||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?n.addEventListener(e,i,{capture:!0,passive:o}):n.addEventListener(e,i,!0):o!==void 0?n.addEventListener(e,i,{passive:o}):n.addEventListener(e,i,!1)}function YI(n,e,i,r,o){var l=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var c=r.tag;if(c===3||c===4){var u=r.stateNode.containerInfo;if(u===o||u.nodeType===8&&u.parentNode===o)break;if(c===4)for(c=r.return;c!==null;){var h=c.tag;if((h===3||h===4)&&(h=c.stateNode.containerInfo,h===o||h.nodeType===8&&h.parentNode===o))return;c=c.return}for(;u!==null;){if(c=ob(u),c===null)return;if(h=c.tag,h===5||h===6){r=l=c;continue e}u=u.parentNode}}r=r.return}lG(function(){var m=l,g=fO(i),y=[];e:{var v=FG.get(n);if(v!==void 0){var _=vO,A=n;switch(n){case"keypress":if(yD(i)===0)break e;case"keydown":case"keyup":_=Lce;break;case"focusin":A="focus",_=$I;break;case"focusout":A="blur",_=$I;break;case"beforeblur":case"afterblur":_=$I;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=mz;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=Cce;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=Vce;break;case jG:case RG:case MG:_=Nce;break;case OG:_=$ce;break;case"scroll":_=Sce;break;case"wheel":_=Hce;break;case"copy":case"cut":case"paste":_=Ice;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=bz}var S=(e&4)!==0,C=!S&&n==="scroll",T=S?v!==null?v+"Capture":null:v;S=[];for(var N=m,I;N!==null;){I=N;var O=I.stateNode;if(I.tag===5&&O!==null&&(I=O,T!==null&&(O=y2(N,T),O!=null&&S.push(S2(N,O,I)))),C)break;N=N.return}0<S.length&&(v=new _(v,A,null,i,g),y.push({event:v,listeners:S}))}}if(!(e&7)){e:{if(v=n==="mouseover"||n==="pointerover",_=n==="mouseout"||n==="pointerout",v&&i!==uR&&(A=i.relatedTarget||i.fromElement)&&(ob(A)||A[rf]))break e;if((_||v)&&(v=g.window===g?g:(v=g.ownerDocument)?v.defaultView||v.parentWindow:window,_?(A=i.relatedTarget||i.toElement,_=m,A=A?ob(A):null,A!==null&&(C=F0(A),A!==C||A.tag!==5&&A.tag!==6)&&(A=null)):(_=null,A=m),_!==A)){if(S=mz,O="onMouseLeave",T="onMouseEnter",N="mouse",(n==="pointerout"||n==="pointerover")&&(S=bz,O="onPointerLeave",T="onPointerEnter",N="pointer"),C=_==null?v:Ov(_),I=A==null?v:Ov(A),v=new S(O,N+"leave",_,i,g),v.target=C,v.relatedTarget=I,O=null,ob(g)===m&&(S=new S(T,N+"enter",A,i,g),S.target=I,S.relatedTarget=C,O=S),C=O,_&&A)t:{for(S=_,T=A,N=0,I=S;I;I=hv(I))N++;for(I=0,O=T;O;O=hv(O))I++;for(;0<N-I;)S=hv(S),N--;for(;0<I-N;)T=hv(T),I--;for(;N--;){if(S===T||T!==null&&S===T.alternate)break t;S=hv(S),T=hv(T)}S=null}else S=null;_!==null&&Tz(y,v,_,S,!1),A!==null&&C!==null&&Tz(y,C,A,S,!0)}}e:{if(v=m?Ov(m):window,_=v.nodeName&&v.nodeName.toLowerCase(),_==="select"||_==="input"&&v.type==="file")var F=Qce;else if(wz(v))if(TG)F=iue;else{F=tue;var U=eue}else(_=v.nodeName)&&_.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(F=nue);if(F&&(F=F(n,m))){CG(y,F,i,g);break e}U&&U(n,v,m),n==="focusout"&&(U=v._wrapperState)&&U.controlled&&v.type==="number"&&sR(v,"number",v.value)}switch(U=m?Ov(m):window,n){case"focusin":(wz(U)||U.contentEditable==="true")&&(Rv=U,bR=m,e2=null);break;case"focusout":e2=bR=Rv=null;break;case"mousedown":yR=!0;break;case"contextmenu":case"mouseup":case"dragend":yR=!1,Sz(y,i,g);break;case"selectionchange":if(oue)break;case"keydown":case"keyup":Sz(y,i,g)}var V;if(xO)e:{switch(n){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else jv?SG(n,i)&&(B="onCompositionEnd"):n==="keydown"&&i.keyCode===229&&(B="onCompositionStart");B&&(EG&&i.locale!=="ko"&&(jv||B!=="onCompositionStart"?B==="onCompositionEnd"&&jv&&(V=kG()):(fm=g,yO="value"in fm?fm.value:fm.textContent,jv=!0)),U=v5(m,B),0<U.length&&(B=new gz(B,n,null,i,g),y.push({event:B,listeners:U}),V?B.data=V:(V=AG(i),V!==null&&(B.data=V)))),(V=Xce?Kce(n,i):Zce(n,i))&&(m=v5(m,"onBeforeInput"),0<m.length&&(g=new gz("onBeforeInput","beforeinput",null,i,g),y.push({event:g,listeners:m}),g.data=V))}UG(y,e)})}function S2(n,e,i){return{instance:n,listener:e,currentTarget:i}}function v5(n,e){for(var i=e+"Capture",r=[];n!==null;){var o=n,l=o.stateNode;o.tag===5&&l!==null&&(o=l,l=y2(n,i),l!=null&&r.unshift(S2(n,l,o)),l=y2(n,e),l!=null&&r.push(S2(n,l,o))),n=n.return}return r}function hv(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Tz(n,e,i,r,o){for(var l=e._reactName,c=[];i!==null&&i!==r;){var u=i,h=u.alternate,m=u.stateNode;if(h!==null&&h===r)break;u.tag===5&&m!==null&&(u=m,o?(h=y2(i,l),h!=null&&c.unshift(S2(i,h,u))):o||(h=y2(i,l),h!=null&&c.push(S2(i,h,u)))),i=i.return}c.length!==0&&n.push({event:e,listeners:c})}var uue=/\r\n?/g,due=/\u0000|\uFFFD/g;function Dz(n){return(typeof n=="string"?n:""+n).replace(uue,`
`).replace(due,"")}function RT(n,e,i){if(e=Dz(e),Dz(n)!==e&&i)throw Error(dt(425))}function w5(){}var vR=null,wR=null;function xR(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _R=typeof setTimeout=="function"?setTimeout:void 0,hue=typeof clearTimeout=="function"?clearTimeout:void 0,Nz=typeof Promise=="function"?Promise:void 0,fue=typeof queueMicrotask=="function"?queueMicrotask:typeof Nz<"u"?function(n){return Nz.resolve(null).then(n).catch(pue)}:_R;function pue(n){setTimeout(function(){throw n})}function JI(n,e){var i=e,r=0;do{var o=i.nextSibling;if(n.removeChild(i),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(r===0){n.removeChild(o),x2(e);return}r--}else i!=="$"&&i!=="$?"&&i!=="$!"||r++;i=o}while(i);x2(e)}function xm(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function Pz(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var i=n.data;if(i==="$"||i==="$!"||i==="$?"){if(e===0)return n;e--}else i==="/$"&&e++}n=n.previousSibling}return null}var V1=Math.random().toString(36).slice(2),dd="__reactFiber$"+V1,A2="__reactProps$"+V1,rf="__reactContainer$"+V1,kR="__reactEvents$"+V1,mue="__reactListeners$"+V1,gue="__reactHandles$"+V1;function ob(n){var e=n[dd];if(e)return e;for(var i=n.parentNode;i;){if(e=i[rf]||i[dd]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(n=Pz(n);n!==null;){if(i=n[dd])return i;n=Pz(n)}return e}n=i,i=n.parentNode}return null}function MS(n){return n=n[dd]||n[rf],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ov(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(dt(33))}function zN(n){return n[A2]||null}var ER=[],Fv=-1;function zm(n){return{current:n}}function Ei(n){0>Fv||(n.current=ER[Fv],ER[Fv]=null,Fv--)}function pi(n,e){Fv++,ER[Fv]=n.current,n.current=e}var Dm={},to=zm(Dm),sa=zm(!1),x0=Dm;function w1(n,e){var i=n.type.contextTypes;if(!i)return Dm;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},l;for(l in i)o[l]=e[l];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=o),o}function oa(n){return n=n.childContextTypes,n!=null}function x5(){Ei(sa),Ei(to)}function Iz(n,e,i){if(to.current!==Dm)throw Error(dt(168));pi(to,e),pi(sa,i)}function BG(n,e,i){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return i;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(dt(108,ece(n)||"Unknown",o));return $i({},i,r)}function _5(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Dm,x0=to.current,pi(to,n),pi(sa,sa.current),!0}function jz(n,e,i){var r=n.stateNode;if(!r)throw Error(dt(169));i?(n=BG(n,e,x0),r.__reactInternalMemoizedMergedChildContext=n,Ei(sa),Ei(to),pi(to,n)):Ei(sa),pi(sa,i)}var wh=null,VN=!1,QI=!1;function zG(n){wh===null?wh=[n]:wh.push(n)}function bue(n){VN=!0,zG(n)}function Vm(){if(!QI&&wh!==null){QI=!0;var n=0,e=Jn;try{var i=wh;for(Jn=1;n<i.length;n++){var r=i[n];do r=r(!0);while(r!==null)}wh=null,VN=!1}catch(o){throw wh!==null&&(wh=wh.slice(n+1)),hG(pO,Vm),o}finally{Jn=e,QI=!1}}return null}var Uv=[],Lv=0,k5=null,E5=0,Kl=[],Zl=0,_0=null,Zh=1,Yh="";function Zg(n,e){Uv[Lv++]=E5,Uv[Lv++]=k5,k5=n,E5=e}function VG(n,e,i){Kl[Zl++]=Zh,Kl[Zl++]=Yh,Kl[Zl++]=_0,_0=n;var r=Zh;n=Yh;var o=32-Kc(r)-1;r&=~(1<<o),i+=1;var l=32-Kc(e)+o;if(30<l){var c=o-o%5;l=(r&(1<<c)-1).toString(32),r>>=c,o-=c,Zh=1<<32-Kc(e)+o|i<<o|r,Yh=l+n}else Zh=1<<l|i<<o|r,Yh=n}function kO(n){n.return!==null&&(Zg(n,1),VG(n,1,0))}function EO(n){for(;n===k5;)k5=Uv[--Lv],Uv[Lv]=null,E5=Uv[--Lv],Uv[Lv]=null;for(;n===_0;)_0=Kl[--Zl],Kl[Zl]=null,Yh=Kl[--Zl],Kl[Zl]=null,Zh=Kl[--Zl],Kl[Zl]=null}var Qa=null,Ja=null,Pi=!1,Gc=null;function WG(n,e){var i=ec(5,null,null,0);i.elementType="DELETED",i.stateNode=e,i.return=n,e=n.deletions,e===null?(n.deletions=[i],n.flags|=16):e.push(i)}function Rz(n,e){switch(n.tag){case 5:var i=n.type;return e=e.nodeType!==1||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Qa=n,Ja=xm(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Qa=n,Ja=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(i=_0!==null?{id:Zh,overflow:Yh}:null,n.memoizedState={dehydrated:e,treeContext:i,retryLane:1073741824},i=ec(18,null,null,0),i.stateNode=e,i.return=n,n.child=i,Qa=n,Ja=null,!0):!1;default:return!1}}function SR(n){return(n.mode&1)!==0&&(n.flags&128)===0}function AR(n){if(Pi){var e=Ja;if(e){var i=e;if(!Rz(n,e)){if(SR(n))throw Error(dt(418));e=xm(i.nextSibling);var r=Qa;e&&Rz(n,e)?WG(r,i):(n.flags=n.flags&-4097|2,Pi=!1,Qa=n)}}else{if(SR(n))throw Error(dt(418));n.flags=n.flags&-4097|2,Pi=!1,Qa=n}}}function Mz(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Qa=n}function MT(n){if(n!==Qa)return!1;if(!Pi)return Mz(n),Pi=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!xR(n.type,n.memoizedProps)),e&&(e=Ja)){if(SR(n))throw $G(),Error(dt(418));for(;e;)WG(n,e),e=xm(e.nextSibling)}if(Mz(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(dt(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var i=n.data;if(i==="/$"){if(e===0){Ja=xm(n.nextSibling);break e}e--}else i!=="$"&&i!=="$!"&&i!=="$?"||e++}n=n.nextSibling}Ja=null}}else Ja=Qa?xm(n.stateNode.nextSibling):null;return!0}function $G(){for(var n=Ja;n;)n=xm(n.nextSibling)}function x1(){Ja=Qa=null,Pi=!1}function SO(n){Gc===null?Gc=[n]:Gc.push(n)}var yue=gf.ReactCurrentBatchConfig;function ck(n,e,i){if(n=i.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(dt(309));var r=i.stateNode}if(!r)throw Error(dt(147,n));var o=r,l=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===l?e.ref:(e=function(c){var u=o.refs;c===null?delete u[l]:u[l]=c},e._stringRef=l,e)}if(typeof n!="string")throw Error(dt(284));if(!i._owner)throw Error(dt(290,n))}return n}function OT(n,e){throw n=Object.prototype.toString.call(e),Error(dt(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Oz(n){var e=n._init;return e(n._payload)}function qG(n){function e(T,N){if(n){var I=T.deletions;I===null?(T.deletions=[N],T.flags|=16):I.push(N)}}function i(T,N){if(!n)return null;for(;N!==null;)e(T,N),N=N.sibling;return null}function r(T,N){for(T=new Map;N!==null;)N.key!==null?T.set(N.key,N):T.set(N.index,N),N=N.sibling;return T}function o(T,N){return T=Sm(T,N),T.index=0,T.sibling=null,T}function l(T,N,I){return T.index=I,n?(I=T.alternate,I!==null?(I=I.index,I<N?(T.flags|=2,N):I):(T.flags|=2,N)):(T.flags|=1048576,N)}function c(T){return n&&T.alternate===null&&(T.flags|=2),T}function u(T,N,I,O){return N===null||N.tag!==6?(N=oj(I,T.mode,O),N.return=T,N):(N=o(N,I),N.return=T,N)}function h(T,N,I,O){var F=I.type;return F===Iv?g(T,N,I.props.children,O,I.key):N!==null&&(N.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===_p&&Oz(F)===N.type)?(O=o(N,I.props),O.ref=ck(T,N,I),O.return=T,O):(O=SD(I.type,I.key,I.props,null,T.mode,O),O.ref=ck(T,N,I),O.return=T,O)}function m(T,N,I,O){return N===null||N.tag!==4||N.stateNode.containerInfo!==I.containerInfo||N.stateNode.implementation!==I.implementation?(N=aj(I,T.mode,O),N.return=T,N):(N=o(N,I.children||[]),N.return=T,N)}function g(T,N,I,O,F){return N===null||N.tag!==7?(N=b0(I,T.mode,O,F),N.return=T,N):(N=o(N,I),N.return=T,N)}function y(T,N,I){if(typeof N=="string"&&N!==""||typeof N=="number")return N=oj(""+N,T.mode,I),N.return=T,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ST:return I=SD(N.type,N.key,N.props,null,T.mode,I),I.ref=ck(T,null,N),I.return=T,I;case Pv:return N=aj(N,T.mode,I),N.return=T,N;case _p:var O=N._init;return y(T,O(N._payload),I)}if(Ck(N)||rk(N))return N=b0(N,T.mode,I,null),N.return=T,N;OT(T,N)}return null}function v(T,N,I,O){var F=N!==null?N.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return F!==null?null:u(T,N,""+I,O);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case ST:return I.key===F?h(T,N,I,O):null;case Pv:return I.key===F?m(T,N,I,O):null;case _p:return F=I._init,v(T,N,F(I._payload),O)}if(Ck(I)||rk(I))return F!==null?null:g(T,N,I,O,null);OT(T,I)}return null}function _(T,N,I,O,F){if(typeof O=="string"&&O!==""||typeof O=="number")return T=T.get(I)||null,u(N,T,""+O,F);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case ST:return T=T.get(O.key===null?I:O.key)||null,h(N,T,O,F);case Pv:return T=T.get(O.key===null?I:O.key)||null,m(N,T,O,F);case _p:var U=O._init;return _(T,N,I,U(O._payload),F)}if(Ck(O)||rk(O))return T=T.get(I)||null,g(N,T,O,F,null);OT(N,O)}return null}function A(T,N,I,O){for(var F=null,U=null,V=N,B=N=0,Z=null;V!==null&&B<I.length;B++){V.index>B?(Z=V,V=null):Z=V.sibling;var ae=v(T,V,I[B],O);if(ae===null){V===null&&(V=Z);break}n&&V&&ae.alternate===null&&e(T,V),N=l(ae,N,B),U===null?F=ae:U.sibling=ae,U=ae,V=Z}if(B===I.length)return i(T,V),Pi&&Zg(T,B),F;if(V===null){for(;B<I.length;B++)V=y(T,I[B],O),V!==null&&(N=l(V,N,B),U===null?F=V:U.sibling=V,U=V);return Pi&&Zg(T,B),F}for(V=r(T,V);B<I.length;B++)Z=_(V,T,B,I[B],O),Z!==null&&(n&&Z.alternate!==null&&V.delete(Z.key===null?B:Z.key),N=l(Z,N,B),U===null?F=Z:U.sibling=Z,U=Z);return n&&V.forEach(function(me){return e(T,me)}),Pi&&Zg(T,B),F}function S(T,N,I,O){var F=rk(I);if(typeof F!="function")throw Error(dt(150));if(I=F.call(I),I==null)throw Error(dt(151));for(var U=F=null,V=N,B=N=0,Z=null,ae=I.next();V!==null&&!ae.done;B++,ae=I.next()){V.index>B?(Z=V,V=null):Z=V.sibling;var me=v(T,V,ae.value,O);if(me===null){V===null&&(V=Z);break}n&&V&&me.alternate===null&&e(T,V),N=l(me,N,B),U===null?F=me:U.sibling=me,U=me,V=Z}if(ae.done)return i(T,V),Pi&&Zg(T,B),F;if(V===null){for(;!ae.done;B++,ae=I.next())ae=y(T,ae.value,O),ae!==null&&(N=l(ae,N,B),U===null?F=ae:U.sibling=ae,U=ae);return Pi&&Zg(T,B),F}for(V=r(T,V);!ae.done;B++,ae=I.next())ae=_(V,T,B,ae.value,O),ae!==null&&(n&&ae.alternate!==null&&V.delete(ae.key===null?B:ae.key),N=l(ae,N,B),U===null?F=ae:U.sibling=ae,U=ae);return n&&V.forEach(function(Q){return e(T,Q)}),Pi&&Zg(T,B),F}function C(T,N,I,O){if(typeof I=="object"&&I!==null&&I.type===Iv&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case ST:e:{for(var F=I.key,U=N;U!==null;){if(U.key===F){if(F=I.type,F===Iv){if(U.tag===7){i(T,U.sibling),N=o(U,I.props.children),N.return=T,T=N;break e}}else if(U.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===_p&&Oz(F)===U.type){i(T,U.sibling),N=o(U,I.props),N.ref=ck(T,U,I),N.return=T,T=N;break e}i(T,U);break}else e(T,U);U=U.sibling}I.type===Iv?(N=b0(I.props.children,T.mode,O,I.key),N.return=T,T=N):(O=SD(I.type,I.key,I.props,null,T.mode,O),O.ref=ck(T,N,I),O.return=T,T=O)}return c(T);case Pv:e:{for(U=I.key;N!==null;){if(N.key===U)if(N.tag===4&&N.stateNode.containerInfo===I.containerInfo&&N.stateNode.implementation===I.implementation){i(T,N.sibling),N=o(N,I.children||[]),N.return=T,T=N;break e}else{i(T,N);break}else e(T,N);N=N.sibling}N=aj(I,T.mode,O),N.return=T,T=N}return c(T);case _p:return U=I._init,C(T,N,U(I._payload),O)}if(Ck(I))return A(T,N,I,O);if(rk(I))return S(T,N,I,O);OT(T,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,N!==null&&N.tag===6?(i(T,N.sibling),N=o(N,I),N.return=T,T=N):(i(T,N),N=oj(I,T.mode,O),N.return=T,T=N),c(T)):i(T,N)}return C}var _1=qG(!0),HG=qG(!1),S5=zm(null),A5=null,Bv=null,AO=null;function CO(){AO=Bv=A5=null}function TO(n){var e=S5.current;Ei(S5),n._currentValue=e}function CR(n,e,i){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===i)break;n=n.return}}function rw(n,e){A5=n,AO=Bv=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(ia=!0),n.firstContext=null)}function sc(n){var e=n._currentValue;if(AO!==n)if(n={context:n,memoizedValue:e,next:null},Bv===null){if(A5===null)throw Error(dt(308));Bv=n,A5.dependencies={lanes:0,firstContext:n}}else Bv=Bv.next=n;return e}var ab=null;function DO(n){ab===null?ab=[n]:ab.push(n)}function GG(n,e,i,r){var o=e.interleaved;return o===null?(i.next=i,DO(e)):(i.next=o.next,o.next=i),e.interleaved=i,sf(n,r)}function sf(n,e){n.lanes|=e;var i=n.alternate;for(i!==null&&(i.lanes|=e),i=n,n=n.return;n!==null;)n.childLanes|=e,i=n.alternate,i!==null&&(i.childLanes|=e),i=n,n=n.return;return i.tag===3?i.stateNode:null}var kp=!1;function NO(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function XG(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Jh(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function _m(n,e,i){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Tn&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,sf(n,i)}return o=r.interleaved,o===null?(e.next=e,DO(r)):(e.next=o.next,o.next=e),r.interleaved=e,sf(n,i)}function vD(n,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,i|=r,e.lanes=i,mO(n,i)}}function Fz(n,e){var i=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var o=null,l=null;if(i=i.firstBaseUpdate,i!==null){do{var c={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};l===null?o=l=c:l=l.next=c,i=i.next}while(i!==null);l===null?o=l=e:l=l.next=e}else o=l=e;i={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:r.shared,effects:r.effects},n.updateQueue=i;return}n=i.lastBaseUpdate,n===null?i.firstBaseUpdate=e:n.next=e,i.lastBaseUpdate=e}function C5(n,e,i,r){var o=n.updateQueue;kp=!1;var l=o.firstBaseUpdate,c=o.lastBaseUpdate,u=o.shared.pending;if(u!==null){o.shared.pending=null;var h=u,m=h.next;h.next=null,c===null?l=m:c.next=m,c=h;var g=n.alternate;g!==null&&(g=g.updateQueue,u=g.lastBaseUpdate,u!==c&&(u===null?g.firstBaseUpdate=m:u.next=m,g.lastBaseUpdate=h))}if(l!==null){var y=o.baseState;c=0,g=m=h=null,u=l;do{var v=u.lane,_=u.eventTime;if((r&v)===v){g!==null&&(g=g.next={eventTime:_,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var A=n,S=u;switch(v=e,_=i,S.tag){case 1:if(A=S.payload,typeof A=="function"){y=A.call(_,y,v);break e}y=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=S.payload,v=typeof A=="function"?A.call(_,y,v):A,v==null)break e;y=$i({},y,v);break e;case 2:kp=!0}}u.callback!==null&&u.lane!==0&&(n.flags|=64,v=o.effects,v===null?o.effects=[u]:v.push(u))}else _={eventTime:_,lane:v,tag:u.tag,payload:u.payload,callback:u.callback,next:null},g===null?(m=g=_,h=y):g=g.next=_,c|=v;if(u=u.next,u===null){if(u=o.shared.pending,u===null)break;v=u,u=v.next,v.next=null,o.lastBaseUpdate=v,o.shared.pending=null}}while(!0);if(g===null&&(h=y),o.baseState=h,o.firstBaseUpdate=m,o.lastBaseUpdate=g,e=o.shared.interleaved,e!==null){o=e;do c|=o.lane,o=o.next;while(o!==e)}else l===null&&(o.shared.lanes=0);E0|=c,n.lanes=c,n.memoizedState=y}}function Uz(n,e,i){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],o=r.callback;if(o!==null){if(r.callback=null,r=i,typeof o!="function")throw Error(dt(191,o));o.call(r)}}}var OS={},md=zm(OS),C2=zm(OS),T2=zm(OS);function lb(n){if(n===OS)throw Error(dt(174));return n}function PO(n,e){switch(pi(T2,e),pi(C2,n),pi(md,OS),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:aR(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=aR(e,n)}Ei(md),pi(md,e)}function k1(){Ei(md),Ei(C2),Ei(T2)}function KG(n){lb(T2.current);var e=lb(md.current),i=aR(e,n.type);e!==i&&(pi(C2,n),pi(md,i))}function IO(n){C2.current===n&&(Ei(md),Ei(C2))}var Li=zm(0);function T5(n){for(var e=n;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ej=[];function jO(){for(var n=0;n<ej.length;n++)ej[n]._workInProgressVersionPrimary=null;ej.length=0}var wD=gf.ReactCurrentDispatcher,tj=gf.ReactCurrentBatchConfig,k0=0,zi=null,Dr=null,Jr=null,D5=!1,t2=!1,D2=0,vue=0;function zs(){throw Error(dt(321))}function RO(n,e){if(e===null)return!1;for(var i=0;i<e.length&&i<n.length;i++)if(!Jc(n[i],e[i]))return!1;return!0}function MO(n,e,i,r,o,l){if(k0=l,zi=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wD.current=n===null||n.memoizedState===null?kue:Eue,n=i(r,o),t2){l=0;do{if(t2=!1,D2=0,25<=l)throw Error(dt(301));l+=1,Jr=Dr=null,e.updateQueue=null,wD.current=Sue,n=i(r,o)}while(t2)}if(wD.current=N5,e=Dr!==null&&Dr.next!==null,k0=0,Jr=Dr=zi=null,D5=!1,e)throw Error(dt(300));return n}function OO(){var n=D2!==0;return D2=0,n}function Gu(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jr===null?zi.memoizedState=Jr=n:Jr=Jr.next=n,Jr}function oc(){if(Dr===null){var n=zi.alternate;n=n!==null?n.memoizedState:null}else n=Dr.next;var e=Jr===null?zi.memoizedState:Jr.next;if(e!==null)Jr=e,Dr=n;else{if(n===null)throw Error(dt(310));Dr=n,n={memoizedState:Dr.memoizedState,baseState:Dr.baseState,baseQueue:Dr.baseQueue,queue:Dr.queue,next:null},Jr===null?zi.memoizedState=Jr=n:Jr=Jr.next=n}return Jr}function N2(n,e){return typeof e=="function"?e(n):e}function nj(n){var e=oc(),i=e.queue;if(i===null)throw Error(dt(311));i.lastRenderedReducer=n;var r=Dr,o=r.baseQueue,l=i.pending;if(l!==null){if(o!==null){var c=o.next;o.next=l.next,l.next=c}r.baseQueue=o=l,i.pending=null}if(o!==null){l=o.next,r=r.baseState;var u=c=null,h=null,m=l;do{var g=m.lane;if((k0&g)===g)h!==null&&(h=h.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),r=m.hasEagerState?m.eagerState:n(r,m.action);else{var y={lane:g,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};h===null?(u=h=y,c=r):h=h.next=y,zi.lanes|=g,E0|=g}m=m.next}while(m!==null&&m!==l);h===null?c=r:h.next=u,Jc(r,e.memoizedState)||(ia=!0),e.memoizedState=r,e.baseState=c,e.baseQueue=h,i.lastRenderedState=r}if(n=i.interleaved,n!==null){o=n;do l=o.lane,zi.lanes|=l,E0|=l,o=o.next;while(o!==n)}else o===null&&(i.lanes=0);return[e.memoizedState,i.dispatch]}function ij(n){var e=oc(),i=e.queue;if(i===null)throw Error(dt(311));i.lastRenderedReducer=n;var r=i.dispatch,o=i.pending,l=e.memoizedState;if(o!==null){i.pending=null;var c=o=o.next;do l=n(l,c.action),c=c.next;while(c!==o);Jc(l,e.memoizedState)||(ia=!0),e.memoizedState=l,e.baseQueue===null&&(e.baseState=l),i.lastRenderedState=l}return[l,r]}function ZG(){}function YG(n,e){var i=zi,r=oc(),o=e(),l=!Jc(r.memoizedState,o);if(l&&(r.memoizedState=o,ia=!0),r=r.queue,FO(eX.bind(null,i,r,n),[n]),r.getSnapshot!==e||l||Jr!==null&&Jr.memoizedState.tag&1){if(i.flags|=2048,P2(9,QG.bind(null,i,r,o,e),void 0,null),es===null)throw Error(dt(349));k0&30||JG(i,e,o)}return o}function JG(n,e,i){n.flags|=16384,n={getSnapshot:e,value:i},e=zi.updateQueue,e===null?(e={lastEffect:null,stores:null},zi.updateQueue=e,e.stores=[n]):(i=e.stores,i===null?e.stores=[n]:i.push(n))}function QG(n,e,i,r){e.value=i,e.getSnapshot=r,tX(e)&&nX(n)}function eX(n,e,i){return i(function(){tX(e)&&nX(n)})}function tX(n){var e=n.getSnapshot;n=n.value;try{var i=e();return!Jc(n,i)}catch{return!0}}function nX(n){var e=sf(n,1);e!==null&&Zc(e,n,1,-1)}function Lz(n){var e=Gu();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:N2,lastRenderedState:n},e.queue=n,n=n.dispatch=_ue.bind(null,zi,n),[e.memoizedState,n]}function P2(n,e,i,r){return n={tag:n,create:e,destroy:i,deps:r,next:null},e=zi.updateQueue,e===null?(e={lastEffect:null,stores:null},zi.updateQueue=e,e.lastEffect=n.next=n):(i=e.lastEffect,i===null?e.lastEffect=n.next=n:(r=i.next,i.next=n,n.next=r,e.lastEffect=n)),n}function iX(){return oc().memoizedState}function xD(n,e,i,r){var o=Gu();zi.flags|=n,o.memoizedState=P2(1|e,i,void 0,r===void 0?null:r)}function WN(n,e,i,r){var o=oc();r=r===void 0?null:r;var l=void 0;if(Dr!==null){var c=Dr.memoizedState;if(l=c.destroy,r!==null&&RO(r,c.deps)){o.memoizedState=P2(e,i,l,r);return}}zi.flags|=n,o.memoizedState=P2(1|e,i,l,r)}function Bz(n,e){return xD(8390656,8,n,e)}function FO(n,e){return WN(2048,8,n,e)}function rX(n,e){return WN(4,2,n,e)}function sX(n,e){return WN(4,4,n,e)}function oX(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function aX(n,e,i){return i=i!=null?i.concat([n]):null,WN(4,4,oX.bind(null,e,n),i)}function UO(){}function lX(n,e){var i=oc();e=e===void 0?null:e;var r=i.memoizedState;return r!==null&&e!==null&&RO(e,r[1])?r[0]:(i.memoizedState=[n,e],n)}function cX(n,e){var i=oc();e=e===void 0?null:e;var r=i.memoizedState;return r!==null&&e!==null&&RO(e,r[1])?r[0]:(n=n(),i.memoizedState=[n,e],n)}function uX(n,e,i){return k0&21?(Jc(i,e)||(i=mG(),zi.lanes|=i,E0|=i,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,ia=!0),n.memoizedState=i)}function wue(n,e){var i=Jn;Jn=i!==0&&4>i?i:4,n(!0);var r=tj.transition;tj.transition={};try{n(!1),e()}finally{Jn=i,tj.transition=r}}function dX(){return oc().memoizedState}function xue(n,e,i){var r=Em(n);if(i={lane:r,action:i,hasEagerState:!1,eagerState:null,next:null},hX(n))fX(e,i);else if(i=GG(n,e,i,r),i!==null){var o=No();Zc(i,n,r,o),pX(i,e,r)}}function _ue(n,e,i){var r=Em(n),o={lane:r,action:i,hasEagerState:!1,eagerState:null,next:null};if(hX(n))fX(e,o);else{var l=n.alternate;if(n.lanes===0&&(l===null||l.lanes===0)&&(l=e.lastRenderedReducer,l!==null))try{var c=e.lastRenderedState,u=l(c,i);if(o.hasEagerState=!0,o.eagerState=u,Jc(u,c)){var h=e.interleaved;h===null?(o.next=o,DO(e)):(o.next=h.next,h.next=o),e.interleaved=o;return}}catch{}finally{}i=GG(n,e,o,r),i!==null&&(o=No(),Zc(i,n,r,o),pX(i,e,r))}}function hX(n){var e=n.alternate;return n===zi||e!==null&&e===zi}function fX(n,e){t2=D5=!0;var i=n.pending;i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e}function pX(n,e,i){if(i&4194240){var r=e.lanes;r&=n.pendingLanes,i|=r,e.lanes=i,mO(n,i)}}var N5={readContext:sc,useCallback:zs,useContext:zs,useEffect:zs,useImperativeHandle:zs,useInsertionEffect:zs,useLayoutEffect:zs,useMemo:zs,useReducer:zs,useRef:zs,useState:zs,useDebugValue:zs,useDeferredValue:zs,useTransition:zs,useMutableSource:zs,useSyncExternalStore:zs,useId:zs,unstable_isNewReconciler:!1},kue={readContext:sc,useCallback:function(n,e){return Gu().memoizedState=[n,e===void 0?null:e],n},useContext:sc,useEffect:Bz,useImperativeHandle:function(n,e,i){return i=i!=null?i.concat([n]):null,xD(4194308,4,oX.bind(null,e,n),i)},useLayoutEffect:function(n,e){return xD(4194308,4,n,e)},useInsertionEffect:function(n,e){return xD(4,2,n,e)},useMemo:function(n,e){var i=Gu();return e=e===void 0?null:e,n=n(),i.memoizedState=[n,e],n},useReducer:function(n,e,i){var r=Gu();return e=i!==void 0?i(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=xue.bind(null,zi,n),[r.memoizedState,n]},useRef:function(n){var e=Gu();return n={current:n},e.memoizedState=n},useState:Lz,useDebugValue:UO,useDeferredValue:function(n){return Gu().memoizedState=n},useTransition:function(){var n=Lz(!1),e=n[0];return n=wue.bind(null,n[1]),Gu().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,i){var r=zi,o=Gu();if(Pi){if(i===void 0)throw Error(dt(407));i=i()}else{if(i=e(),es===null)throw Error(dt(349));k0&30||JG(r,e,i)}o.memoizedState=i;var l={value:i,getSnapshot:e};return o.queue=l,Bz(eX.bind(null,r,l,n),[n]),r.flags|=2048,P2(9,QG.bind(null,r,l,i,e),void 0,null),i},useId:function(){var n=Gu(),e=es.identifierPrefix;if(Pi){var i=Yh,r=Zh;i=(r&~(1<<32-Kc(r)-1)).toString(32)+i,e=":"+e+"R"+i,i=D2++,0<i&&(e+="H"+i.toString(32)),e+=":"}else i=vue++,e=":"+e+"r"+i.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},Eue={readContext:sc,useCallback:lX,useContext:sc,useEffect:FO,useImperativeHandle:aX,useInsertionEffect:rX,useLayoutEffect:sX,useMemo:cX,useReducer:nj,useRef:iX,useState:function(){return nj(N2)},useDebugValue:UO,useDeferredValue:function(n){var e=oc();return uX(e,Dr.memoizedState,n)},useTransition:function(){var n=nj(N2)[0],e=oc().memoizedState;return[n,e]},useMutableSource:ZG,useSyncExternalStore:YG,useId:dX,unstable_isNewReconciler:!1},Sue={readContext:sc,useCallback:lX,useContext:sc,useEffect:FO,useImperativeHandle:aX,useInsertionEffect:rX,useLayoutEffect:sX,useMemo:cX,useReducer:ij,useRef:iX,useState:function(){return ij(N2)},useDebugValue:UO,useDeferredValue:function(n){var e=oc();return Dr===null?e.memoizedState=n:uX(e,Dr.memoizedState,n)},useTransition:function(){var n=ij(N2)[0],e=oc().memoizedState;return[n,e]},useMutableSource:ZG,useSyncExternalStore:YG,useId:dX,unstable_isNewReconciler:!1};function Ic(n,e){if(n&&n.defaultProps){e=$i({},e),n=n.defaultProps;for(var i in n)e[i]===void 0&&(e[i]=n[i]);return e}return e}function TR(n,e,i,r){e=n.memoizedState,i=i(r,e),i=i==null?e:$i({},e,i),n.memoizedState=i,n.lanes===0&&(n.updateQueue.baseState=i)}var $N={isMounted:function(n){return(n=n._reactInternals)?F0(n)===n:!1},enqueueSetState:function(n,e,i){n=n._reactInternals;var r=No(),o=Em(n),l=Jh(r,o);l.payload=e,i!=null&&(l.callback=i),e=_m(n,l,o),e!==null&&(Zc(e,n,o,r),vD(e,n,o))},enqueueReplaceState:function(n,e,i){n=n._reactInternals;var r=No(),o=Em(n),l=Jh(r,o);l.tag=1,l.payload=e,i!=null&&(l.callback=i),e=_m(n,l,o),e!==null&&(Zc(e,n,o,r),vD(e,n,o))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var i=No(),r=Em(n),o=Jh(i,r);o.tag=2,e!=null&&(o.callback=e),e=_m(n,o,r),e!==null&&(Zc(e,n,r,i),vD(e,n,r))}};function zz(n,e,i,r,o,l,c){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,l,c):e.prototype&&e.prototype.isPureReactComponent?!k2(i,r)||!k2(o,l):!0}function mX(n,e,i){var r=!1,o=Dm,l=e.contextType;return typeof l=="object"&&l!==null?l=sc(l):(o=oa(e)?x0:to.current,r=e.contextTypes,l=(r=r!=null)?w1(n,o):Dm),e=new e(i,l),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$N,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=o,n.__reactInternalMemoizedMaskedChildContext=l),e}function Vz(n,e,i,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,r),e.state!==n&&$N.enqueueReplaceState(e,e.state,null)}function DR(n,e,i,r){var o=n.stateNode;o.props=i,o.state=n.memoizedState,o.refs={},NO(n);var l=e.contextType;typeof l=="object"&&l!==null?o.context=sc(l):(l=oa(e)?x0:to.current,o.context=w1(n,l)),o.state=n.memoizedState,l=e.getDerivedStateFromProps,typeof l=="function"&&(TR(n,e,l,i),o.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&$N.enqueueReplaceState(o,o.state,null),C5(n,i,o,r),o.state=n.memoizedState),typeof o.componentDidMount=="function"&&(n.flags|=4194308)}function E1(n,e){try{var i="",r=e;do i+=Qle(r),r=r.return;while(r);var o=i}catch(l){o=`
Error generating stack: `+l.message+`
`+l.stack}return{value:n,source:e,stack:o,digest:null}}function rj(n,e,i){return{value:n,source:null,stack:i??null,digest:e??null}}function NR(n,e){try{console.error(e.value)}catch(i){setTimeout(function(){throw i})}}var Aue=typeof WeakMap=="function"?WeakMap:Map;function gX(n,e,i){i=Jh(-1,i),i.tag=3,i.payload={element:null};var r=e.value;return i.callback=function(){I5||(I5=!0,BR=r),NR(n,e)},i}function bX(n,e,i){i=Jh(-1,i),i.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;i.payload=function(){return r(o)},i.callback=function(){NR(n,e)}}var l=n.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(i.callback=function(){NR(n,e),typeof r!="function"&&(km===null?km=new Set([this]):km.add(this));var c=e.stack;this.componentDidCatch(e.value,{componentStack:c!==null?c:""})}),i}function Wz(n,e,i){var r=n.pingCache;if(r===null){r=n.pingCache=new Aue;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(i)||(o.add(i),n=Bue.bind(null,n,e,i),e.then(n,n))}function $z(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function qz(n,e,i,r,o){return n.mode&1?(n.flags|=65536,n.lanes=o,n):(n===e?n.flags|=65536:(n.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(e=Jh(-1,1),e.tag=2,_m(i,e,1))),i.lanes|=1),n)}var Cue=gf.ReactCurrentOwner,ia=!1;function To(n,e,i,r){e.child=n===null?HG(e,null,i,r):_1(e,n.child,i,r)}function Hz(n,e,i,r,o){i=i.render;var l=e.ref;return rw(e,o),r=MO(n,e,i,r,l,o),i=OO(),n!==null&&!ia?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~o,of(n,e,o)):(Pi&&i&&kO(e),e.flags|=1,To(n,e,r,o),e.child)}function Gz(n,e,i,r,o){if(n===null){var l=i.type;return typeof l=="function"&&!HO(l)&&l.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(e.tag=15,e.type=l,yX(n,e,l,r,o)):(n=SD(i.type,null,r,e,e.mode,o),n.ref=e.ref,n.return=e,e.child=n)}if(l=n.child,!(n.lanes&o)){var c=l.memoizedProps;if(i=i.compare,i=i!==null?i:k2,i(c,r)&&n.ref===e.ref)return of(n,e,o)}return e.flags|=1,n=Sm(l,r),n.ref=e.ref,n.return=e,e.child=n}function yX(n,e,i,r,o){if(n!==null){var l=n.memoizedProps;if(k2(l,r)&&n.ref===e.ref)if(ia=!1,e.pendingProps=r=l,(n.lanes&o)!==0)n.flags&131072&&(ia=!0);else return e.lanes=n.lanes,of(n,e,o)}return PR(n,e,i,r,o)}function vX(n,e,i){var r=e.pendingProps,o=r.children,l=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pi(Vv,Ka),Ka|=i;else{if(!(i&1073741824))return n=l!==null?l.baseLanes|i:i,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,pi(Vv,Ka),Ka|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:i,pi(Vv,Ka),Ka|=r}else l!==null?(r=l.baseLanes|i,e.memoizedState=null):r=i,pi(Vv,Ka),Ka|=r;return To(n,e,o,i),e.child}function wX(n,e){var i=e.ref;(n===null&&i!==null||n!==null&&n.ref!==i)&&(e.flags|=512,e.flags|=2097152)}function PR(n,e,i,r,o){var l=oa(i)?x0:to.current;return l=w1(e,l),rw(e,o),i=MO(n,e,i,r,l,o),r=OO(),n!==null&&!ia?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~o,of(n,e,o)):(Pi&&r&&kO(e),e.flags|=1,To(n,e,i,o),e.child)}function Xz(n,e,i,r,o){if(oa(i)){var l=!0;_5(e)}else l=!1;if(rw(e,o),e.stateNode===null)_D(n,e),mX(e,i,r),DR(e,i,r,o),r=!0;else if(n===null){var c=e.stateNode,u=e.memoizedProps;c.props=u;var h=c.context,m=i.contextType;typeof m=="object"&&m!==null?m=sc(m):(m=oa(i)?x0:to.current,m=w1(e,m));var g=i.getDerivedStateFromProps,y=typeof g=="function"||typeof c.getSnapshotBeforeUpdate=="function";y||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(u!==r||h!==m)&&Vz(e,c,r,m),kp=!1;var v=e.memoizedState;c.state=v,C5(e,r,c,o),h=e.memoizedState,u!==r||v!==h||sa.current||kp?(typeof g=="function"&&(TR(e,i,g,r),h=e.memoizedState),(u=kp||zz(e,i,u,r,v,h,m))?(y||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(e.flags|=4194308)):(typeof c.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=h),c.props=r,c.state=h,c.context=m,r=u):(typeof c.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{c=e.stateNode,XG(n,e),u=e.memoizedProps,m=e.type===e.elementType?u:Ic(e.type,u),c.props=m,y=e.pendingProps,v=c.context,h=i.contextType,typeof h=="object"&&h!==null?h=sc(h):(h=oa(i)?x0:to.current,h=w1(e,h));var _=i.getDerivedStateFromProps;(g=typeof _=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(u!==y||v!==h)&&Vz(e,c,r,h),kp=!1,v=e.memoizedState,c.state=v,C5(e,r,c,o);var A=e.memoizedState;u!==y||v!==A||sa.current||kp?(typeof _=="function"&&(TR(e,i,_,r),A=e.memoizedState),(m=kp||zz(e,i,m,r,v,A,h)||!1)?(g||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,A,h),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,A,h)),typeof c.componentDidUpdate=="function"&&(e.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof c.componentDidUpdate!="function"||u===n.memoizedProps&&v===n.memoizedState||(e.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||u===n.memoizedProps&&v===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=A),c.props=r,c.state=A,c.context=h,r=m):(typeof c.componentDidUpdate!="function"||u===n.memoizedProps&&v===n.memoizedState||(e.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||u===n.memoizedProps&&v===n.memoizedState||(e.flags|=1024),r=!1)}return IR(n,e,i,r,l,o)}function IR(n,e,i,r,o,l){wX(n,e);var c=(e.flags&128)!==0;if(!r&&!c)return o&&jz(e,i,!1),of(n,e,l);r=e.stateNode,Cue.current=e;var u=c&&typeof i.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&c?(e.child=_1(e,n.child,null,l),e.child=_1(e,null,u,l)):To(n,e,u,l),e.memoizedState=r.state,o&&jz(e,i,!0),e.child}function xX(n){var e=n.stateNode;e.pendingContext?Iz(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Iz(n,e.context,!1),PO(n,e.containerInfo)}function Kz(n,e,i,r,o){return x1(),SO(o),e.flags|=256,To(n,e,i,r),e.child}var jR={dehydrated:null,treeContext:null,retryLane:0};function RR(n){return{baseLanes:n,cachePool:null,transitions:null}}function _X(n,e,i){var r=e.pendingProps,o=Li.current,l=!1,c=(e.flags&128)!==0,u;if((u=c)||(u=n!==null&&n.memoizedState===null?!1:(o&2)!==0),u?(l=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(o|=1),pi(Li,o&1),n===null)return AR(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(c=r.children,n=r.fallback,l?(r=e.mode,l=e.child,c={mode:"hidden",children:c},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=c):l=GN(c,r,0,null),n=b0(n,r,i,null),l.return=e,n.return=e,l.sibling=n,e.child=l,e.child.memoizedState=RR(i),e.memoizedState=jR,n):LO(e,c));if(o=n.memoizedState,o!==null&&(u=o.dehydrated,u!==null))return Tue(n,e,c,r,u,o,i);if(l){l=r.fallback,c=e.mode,o=n.child,u=o.sibling;var h={mode:"hidden",children:r.children};return!(c&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=h,e.deletions=null):(r=Sm(o,h),r.subtreeFlags=o.subtreeFlags&14680064),u!==null?l=Sm(u,l):(l=b0(l,c,i,null),l.flags|=2),l.return=e,r.return=e,r.sibling=l,e.child=r,r=l,l=e.child,c=n.child.memoizedState,c=c===null?RR(i):{baseLanes:c.baseLanes|i,cachePool:null,transitions:c.transitions},l.memoizedState=c,l.childLanes=n.childLanes&~i,e.memoizedState=jR,r}return l=n.child,n=l.sibling,r=Sm(l,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=i),r.return=e,r.sibling=null,n!==null&&(i=e.deletions,i===null?(e.deletions=[n],e.flags|=16):i.push(n)),e.child=r,e.memoizedState=null,r}function LO(n,e){return e=GN({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function FT(n,e,i,r){return r!==null&&SO(r),_1(e,n.child,null,i),n=LO(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function Tue(n,e,i,r,o,l,c){if(i)return e.flags&256?(e.flags&=-257,r=rj(Error(dt(422))),FT(n,e,c,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(l=r.fallback,o=e.mode,r=GN({mode:"visible",children:r.children},o,0,null),l=b0(l,o,c,null),l.flags|=2,r.return=e,l.return=e,r.sibling=l,e.child=r,e.mode&1&&_1(e,n.child,null,c),e.child.memoizedState=RR(c),e.memoizedState=jR,l);if(!(e.mode&1))return FT(n,e,c,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var u=r.dgst;return r=u,l=Error(dt(419)),r=rj(l,r,void 0),FT(n,e,c,r)}if(u=(c&n.childLanes)!==0,ia||u){if(r=es,r!==null){switch(c&-c){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|c)?0:o,o!==0&&o!==l.retryLane&&(l.retryLane=o,sf(n,o),Zc(r,n,o,-1))}return qO(),r=rj(Error(dt(421))),FT(n,e,c,r)}return o.data==="$?"?(e.flags|=128,e.child=n.child,e=zue.bind(null,n),o._reactRetry=e,null):(n=l.treeContext,Ja=xm(o.nextSibling),Qa=e,Pi=!0,Gc=null,n!==null&&(Kl[Zl++]=Zh,Kl[Zl++]=Yh,Kl[Zl++]=_0,Zh=n.id,Yh=n.overflow,_0=e),e=LO(e,r.children),e.flags|=4096,e)}function Zz(n,e,i){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),CR(n.return,e,i)}function sj(n,e,i,r,o){var l=n.memoizedState;l===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:o}:(l.isBackwards=e,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=i,l.tailMode=o)}function kX(n,e,i){var r=e.pendingProps,o=r.revealOrder,l=r.tail;if(To(n,e,r.children,i),r=Li.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Zz(n,i,e);else if(n.tag===19)Zz(n,i,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(pi(Li,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(i=e.child,o=null;i!==null;)n=i.alternate,n!==null&&T5(n)===null&&(o=i),i=i.sibling;i=o,i===null?(o=e.child,e.child=null):(o=i.sibling,i.sibling=null),sj(e,!1,o,i,l);break;case"backwards":for(i=null,o=e.child,e.child=null;o!==null;){if(n=o.alternate,n!==null&&T5(n)===null){e.child=o;break}n=o.sibling,o.sibling=i,i=o,o=n}sj(e,!0,i,null,l);break;case"together":sj(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _D(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function of(n,e,i){if(n!==null&&(e.dependencies=n.dependencies),E0|=e.lanes,!(i&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(dt(153));if(e.child!==null){for(n=e.child,i=Sm(n,n.pendingProps),e.child=i,i.return=e;n.sibling!==null;)n=n.sibling,i=i.sibling=Sm(n,n.pendingProps),i.return=e;i.sibling=null}return e.child}function Due(n,e,i){switch(e.tag){case 3:xX(e),x1();break;case 5:KG(e);break;case 1:oa(e.type)&&_5(e);break;case 4:PO(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;pi(S5,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(pi(Li,Li.current&1),e.flags|=128,null):i&e.child.childLanes?_X(n,e,i):(pi(Li,Li.current&1),n=of(n,e,i),n!==null?n.sibling:null);pi(Li,Li.current&1);break;case 19:if(r=(i&e.childLanes)!==0,n.flags&128){if(r)return kX(n,e,i);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),pi(Li,Li.current),r)break;return null;case 22:case 23:return e.lanes=0,vX(n,e,i)}return of(n,e,i)}var EX,MR,SX,AX;EX=function(n,e){for(var i=e.child;i!==null;){if(i.tag===5||i.tag===6)n.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};MR=function(){};SX=function(n,e,i,r){var o=n.memoizedProps;if(o!==r){n=e.stateNode,lb(md.current);var l=null;switch(i){case"input":o=iR(n,o),r=iR(n,r),l=[];break;case"select":o=$i({},o,{value:void 0}),r=$i({},r,{value:void 0}),l=[];break;case"textarea":o=oR(n,o),r=oR(n,r),l=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=w5)}lR(i,r);var c;i=null;for(m in o)if(!r.hasOwnProperty(m)&&o.hasOwnProperty(m)&&o[m]!=null)if(m==="style"){var u=o[m];for(c in u)u.hasOwnProperty(c)&&(i||(i={}),i[c]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(g2.hasOwnProperty(m)?l||(l=[]):(l=l||[]).push(m,null));for(m in r){var h=r[m];if(u=o!=null?o[m]:void 0,r.hasOwnProperty(m)&&h!==u&&(h!=null||u!=null))if(m==="style")if(u){for(c in u)!u.hasOwnProperty(c)||h&&h.hasOwnProperty(c)||(i||(i={}),i[c]="");for(c in h)h.hasOwnProperty(c)&&u[c]!==h[c]&&(i||(i={}),i[c]=h[c])}else i||(l||(l=[]),l.push(m,i)),i=h;else m==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,u=u?u.__html:void 0,h!=null&&u!==h&&(l=l||[]).push(m,h)):m==="children"?typeof h!="string"&&typeof h!="number"||(l=l||[]).push(m,""+h):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(g2.hasOwnProperty(m)?(h!=null&&m==="onScroll"&&_i("scroll",n),l||u===h||(l=[])):(l=l||[]).push(m,h))}i&&(l=l||[]).push("style",i);var m=l;(e.updateQueue=m)&&(e.flags|=4)}};AX=function(n,e,i,r){i!==r&&(e.flags|=4)};function uk(n,e){if(!Pi)switch(n.tailMode){case"hidden":e=n.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?n.tail=null:i.sibling=null;break;case"collapsed":i=n.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Vs(n){var e=n.alternate!==null&&n.alternate.child===n.child,i=0,r=0;if(e)for(var o=n.child;o!==null;)i|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=n,o=o.sibling;else for(o=n.child;o!==null;)i|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=n,o=o.sibling;return n.subtreeFlags|=r,n.childLanes=i,e}function Nue(n,e,i){var r=e.pendingProps;switch(EO(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vs(e),null;case 1:return oa(e.type)&&x5(),Vs(e),null;case 3:return r=e.stateNode,k1(),Ei(sa),Ei(to),jO(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(MT(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gc!==null&&(WR(Gc),Gc=null))),MR(n,e),Vs(e),null;case 5:IO(e);var o=lb(T2.current);if(i=e.type,n!==null&&e.stateNode!=null)SX(n,e,i,r,o),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(dt(166));return Vs(e),null}if(n=lb(md.current),MT(e)){r=e.stateNode,i=e.type;var l=e.memoizedProps;switch(r[dd]=e,r[A2]=l,n=(e.mode&1)!==0,i){case"dialog":_i("cancel",r),_i("close",r);break;case"iframe":case"object":case"embed":_i("load",r);break;case"video":case"audio":for(o=0;o<Dk.length;o++)_i(Dk[o],r);break;case"source":_i("error",r);break;case"img":case"image":case"link":_i("error",r),_i("load",r);break;case"details":_i("toggle",r);break;case"input":sz(r,l),_i("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},_i("invalid",r);break;case"textarea":az(r,l),_i("invalid",r)}lR(i,l),o=null;for(var c in l)if(l.hasOwnProperty(c)){var u=l[c];c==="children"?typeof u=="string"?r.textContent!==u&&(l.suppressHydrationWarning!==!0&&RT(r.textContent,u,n),o=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(l.suppressHydrationWarning!==!0&&RT(r.textContent,u,n),o=["children",""+u]):g2.hasOwnProperty(c)&&u!=null&&c==="onScroll"&&_i("scroll",r)}switch(i){case"input":AT(r),oz(r,l,!0);break;case"textarea":AT(r),lz(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=w5)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{c=o.nodeType===9?o:o.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=eG(i)),n==="http://www.w3.org/1999/xhtml"?i==="script"?(n=c.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=c.createElement(i,{is:r.is}):(n=c.createElement(i),i==="select"&&(c=n,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):n=c.createElementNS(n,i),n[dd]=e,n[A2]=r,EX(n,e,!1,!1),e.stateNode=n;e:{switch(c=cR(i,r),i){case"dialog":_i("cancel",n),_i("close",n),o=r;break;case"iframe":case"object":case"embed":_i("load",n),o=r;break;case"video":case"audio":for(o=0;o<Dk.length;o++)_i(Dk[o],n);o=r;break;case"source":_i("error",n),o=r;break;case"img":case"image":case"link":_i("error",n),_i("load",n),o=r;break;case"details":_i("toggle",n),o=r;break;case"input":sz(n,r),o=iR(n,r),_i("invalid",n);break;case"option":o=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},o=$i({},r,{value:void 0}),_i("invalid",n);break;case"textarea":az(n,r),o=oR(n,r),_i("invalid",n);break;default:o=r}lR(i,o),u=o;for(l in u)if(u.hasOwnProperty(l)){var h=u[l];l==="style"?iG(n,h):l==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&tG(n,h)):l==="children"?typeof h=="string"?(i!=="textarea"||h!=="")&&b2(n,h):typeof h=="number"&&b2(n,""+h):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(g2.hasOwnProperty(l)?h!=null&&l==="onScroll"&&_i("scroll",n):h!=null&&cO(n,l,h,c))}switch(i){case"input":AT(n),oz(n,r,!1);break;case"textarea":AT(n),lz(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Tm(r.value));break;case"select":n.multiple=!!r.multiple,l=r.value,l!=null?ew(n,!!r.multiple,l,!1):r.defaultValue!=null&&ew(n,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(n.onclick=w5)}switch(i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vs(e),null;case 6:if(n&&e.stateNode!=null)AX(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(dt(166));if(i=lb(T2.current),lb(md.current),MT(e)){if(r=e.stateNode,i=e.memoizedProps,r[dd]=e,(l=r.nodeValue!==i)&&(n=Qa,n!==null))switch(n.tag){case 3:RT(r.nodeValue,i,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&RT(r.nodeValue,i,(n.mode&1)!==0)}l&&(e.flags|=4)}else r=(i.nodeType===9?i:i.ownerDocument).createTextNode(r),r[dd]=e,e.stateNode=r}return Vs(e),null;case 13:if(Ei(Li),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Pi&&Ja!==null&&e.mode&1&&!(e.flags&128))$G(),x1(),e.flags|=98560,l=!1;else if(l=MT(e),r!==null&&r.dehydrated!==null){if(n===null){if(!l)throw Error(dt(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(dt(317));l[dd]=e}else x1(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vs(e),l=!1}else Gc!==null&&(WR(Gc),Gc=null),l=!0;if(!l)return e.flags&65536?e:null}return e.flags&128?(e.lanes=i,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Li.current&1?Nr===0&&(Nr=3):qO())),e.updateQueue!==null&&(e.flags|=4),Vs(e),null);case 4:return k1(),MR(n,e),n===null&&E2(e.stateNode.containerInfo),Vs(e),null;case 10:return TO(e.type._context),Vs(e),null;case 17:return oa(e.type)&&x5(),Vs(e),null;case 19:if(Ei(Li),l=e.memoizedState,l===null)return Vs(e),null;if(r=(e.flags&128)!==0,c=l.rendering,c===null)if(r)uk(l,!1);else{if(Nr!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(c=T5(n),c!==null){for(e.flags|=128,uk(l,!1),r=c.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=i,i=e.child;i!==null;)l=i,n=r,l.flags&=14680066,c=l.alternate,c===null?(l.childLanes=0,l.lanes=n,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=c.childLanes,l.lanes=c.lanes,l.child=c.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=c.memoizedProps,l.memoizedState=c.memoizedState,l.updateQueue=c.updateQueue,l.type=c.type,n=c.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),i=i.sibling;return pi(Li,Li.current&1|2),e.child}n=n.sibling}l.tail!==null&&rr()>S1&&(e.flags|=128,r=!0,uk(l,!1),e.lanes=4194304)}else{if(!r)if(n=T5(c),n!==null){if(e.flags|=128,r=!0,i=n.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),uk(l,!0),l.tail===null&&l.tailMode==="hidden"&&!c.alternate&&!Pi)return Vs(e),null}else 2*rr()-l.renderingStartTime>S1&&i!==1073741824&&(e.flags|=128,r=!0,uk(l,!1),e.lanes=4194304);l.isBackwards?(c.sibling=e.child,e.child=c):(i=l.last,i!==null?i.sibling=c:e.child=c,l.last=c)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=rr(),e.sibling=null,i=Li.current,pi(Li,r?i&1|2:i&1),e):(Vs(e),null);case 22:case 23:return $O(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ka&1073741824&&(Vs(e),e.subtreeFlags&6&&(e.flags|=8192)):Vs(e),null;case 24:return null;case 25:return null}throw Error(dt(156,e.tag))}function Pue(n,e){switch(EO(e),e.tag){case 1:return oa(e.type)&&x5(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return k1(),Ei(sa),Ei(to),jO(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return IO(e),null;case 13:if(Ei(Li),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(dt(340));x1()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Ei(Li),null;case 4:return k1(),null;case 10:return TO(e.type._context),null;case 22:case 23:return $O(),null;case 24:return null;default:return null}}var UT=!1,Ys=!1,Iue=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function zv(n,e){var i=n.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(r){Yi(n,e,r)}else i.current=null}function OR(n,e,i){try{i()}catch(r){Yi(n,e,r)}}var Yz=!1;function jue(n,e){if(vR=b5,n=PG(),_O(n)){if("selectionStart"in n)var i={start:n.selectionStart,end:n.selectionEnd};else e:{i=(i=n.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var o=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{i.nodeType,l.nodeType}catch{i=null;break e}var c=0,u=-1,h=-1,m=0,g=0,y=n,v=null;t:for(;;){for(var _;y!==i||o!==0&&y.nodeType!==3||(u=c+o),y!==l||r!==0&&y.nodeType!==3||(h=c+r),y.nodeType===3&&(c+=y.nodeValue.length),(_=y.firstChild)!==null;)v=y,y=_;for(;;){if(y===n)break t;if(v===i&&++m===o&&(u=c),v===l&&++g===r&&(h=c),(_=y.nextSibling)!==null)break;y=v,v=y.parentNode}y=_}i=u===-1||h===-1?null:{start:u,end:h}}else i=null}i=i||{start:0,end:0}}else i=null;for(wR={focusedElem:n,selectionRange:i},b5=!1,Dt=e;Dt!==null;)if(e=Dt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Dt=n;else for(;Dt!==null;){e=Dt;try{var A=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var S=A.memoizedProps,C=A.memoizedState,T=e.stateNode,N=T.getSnapshotBeforeUpdate(e.elementType===e.type?S:Ic(e.type,S),C);T.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(dt(163))}}catch(O){Yi(e,e.return,O)}if(n=e.sibling,n!==null){n.return=e.return,Dt=n;break}Dt=e.return}return A=Yz,Yz=!1,A}function n2(n,e,i){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&n)===n){var l=o.destroy;o.destroy=void 0,l!==void 0&&OR(e,i,l)}o=o.next}while(o!==r)}}function qN(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var i=e=e.next;do{if((i.tag&n)===n){var r=i.create;i.destroy=r()}i=i.next}while(i!==e)}}function FR(n){var e=n.ref;if(e!==null){var i=n.stateNode;switch(n.tag){case 5:n=i;break;default:n=i}typeof e=="function"?e(n):e.current=n}}function CX(n){var e=n.alternate;e!==null&&(n.alternate=null,CX(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[dd],delete e[A2],delete e[kR],delete e[mue],delete e[gue])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function TX(n){return n.tag===5||n.tag===3||n.tag===4}function Jz(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||TX(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function UR(n,e,i){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?i.nodeType===8?i.parentNode.insertBefore(n,e):i.insertBefore(n,e):(i.nodeType===8?(e=i.parentNode,e.insertBefore(n,i)):(e=i,e.appendChild(n)),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=w5));else if(r!==4&&(n=n.child,n!==null))for(UR(n,e,i),n=n.sibling;n!==null;)UR(n,e,i),n=n.sibling}function LR(n,e,i){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?i.insertBefore(n,e):i.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(LR(n,e,i),n=n.sibling;n!==null;)LR(n,e,i),n=n.sibling}var ws=null,qc=!1;function mp(n,e,i){for(i=i.child;i!==null;)DX(n,e,i),i=i.sibling}function DX(n,e,i){if(pd&&typeof pd.onCommitFiberUnmount=="function")try{pd.onCommitFiberUnmount(FN,i)}catch{}switch(i.tag){case 5:Ys||zv(i,e);case 6:var r=ws,o=qc;ws=null,mp(n,e,i),ws=r,qc=o,ws!==null&&(qc?(n=ws,i=i.stateNode,n.nodeType===8?n.parentNode.removeChild(i):n.removeChild(i)):ws.removeChild(i.stateNode));break;case 18:ws!==null&&(qc?(n=ws,i=i.stateNode,n.nodeType===8?JI(n.parentNode,i):n.nodeType===1&&JI(n,i),x2(n)):JI(ws,i.stateNode));break;case 4:r=ws,o=qc,ws=i.stateNode.containerInfo,qc=!0,mp(n,e,i),ws=r,qc=o;break;case 0:case 11:case 14:case 15:if(!Ys&&(r=i.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var l=o,c=l.destroy;l=l.tag,c!==void 0&&(l&2||l&4)&&OR(i,e,c),o=o.next}while(o!==r)}mp(n,e,i);break;case 1:if(!Ys&&(zv(i,e),r=i.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=i.memoizedProps,r.state=i.memoizedState,r.componentWillUnmount()}catch(u){Yi(i,e,u)}mp(n,e,i);break;case 21:mp(n,e,i);break;case 22:i.mode&1?(Ys=(r=Ys)||i.memoizedState!==null,mp(n,e,i),Ys=r):mp(n,e,i);break;default:mp(n,e,i)}}function Qz(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var i=n.stateNode;i===null&&(i=n.stateNode=new Iue),e.forEach(function(r){var o=Vue.bind(null,n,r);i.has(r)||(i.add(r),r.then(o,o))})}}function Dc(n,e){var i=e.deletions;if(i!==null)for(var r=0;r<i.length;r++){var o=i[r];try{var l=n,c=e,u=c;e:for(;u!==null;){switch(u.tag){case 5:ws=u.stateNode,qc=!1;break e;case 3:ws=u.stateNode.containerInfo,qc=!0;break e;case 4:ws=u.stateNode.containerInfo,qc=!0;break e}u=u.return}if(ws===null)throw Error(dt(160));DX(l,c,o),ws=null,qc=!1;var h=o.alternate;h!==null&&(h.return=null),o.return=null}catch(m){Yi(o,e,m)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)NX(e,n),e=e.sibling}function NX(n,e){var i=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Dc(e,n),Vu(n),r&4){try{n2(3,n,n.return),qN(3,n)}catch(S){Yi(n,n.return,S)}try{n2(5,n,n.return)}catch(S){Yi(n,n.return,S)}}break;case 1:Dc(e,n),Vu(n),r&512&&i!==null&&zv(i,i.return);break;case 5:if(Dc(e,n),Vu(n),r&512&&i!==null&&zv(i,i.return),n.flags&32){var o=n.stateNode;try{b2(o,"")}catch(S){Yi(n,n.return,S)}}if(r&4&&(o=n.stateNode,o!=null)){var l=n.memoizedProps,c=i!==null?i.memoizedProps:l,u=n.type,h=n.updateQueue;if(n.updateQueue=null,h!==null)try{u==="input"&&l.type==="radio"&&l.name!=null&&JH(o,l),cR(u,c);var m=cR(u,l);for(c=0;c<h.length;c+=2){var g=h[c],y=h[c+1];g==="style"?iG(o,y):g==="dangerouslySetInnerHTML"?tG(o,y):g==="children"?b2(o,y):cO(o,g,y,m)}switch(u){case"input":rR(o,l);break;case"textarea":QH(o,l);break;case"select":var v=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!l.multiple;var _=l.value;_!=null?ew(o,!!l.multiple,_,!1):v!==!!l.multiple&&(l.defaultValue!=null?ew(o,!!l.multiple,l.defaultValue,!0):ew(o,!!l.multiple,l.multiple?[]:"",!1))}o[A2]=l}catch(S){Yi(n,n.return,S)}}break;case 6:if(Dc(e,n),Vu(n),r&4){if(n.stateNode===null)throw Error(dt(162));o=n.stateNode,l=n.memoizedProps;try{o.nodeValue=l}catch(S){Yi(n,n.return,S)}}break;case 3:if(Dc(e,n),Vu(n),r&4&&i!==null&&i.memoizedState.isDehydrated)try{x2(e.containerInfo)}catch(S){Yi(n,n.return,S)}break;case 4:Dc(e,n),Vu(n);break;case 13:Dc(e,n),Vu(n),o=n.child,o.flags&8192&&(l=o.memoizedState!==null,o.stateNode.isHidden=l,!l||o.alternate!==null&&o.alternate.memoizedState!==null||(VO=rr())),r&4&&Qz(n);break;case 22:if(g=i!==null&&i.memoizedState!==null,n.mode&1?(Ys=(m=Ys)||g,Dc(e,n),Ys=m):Dc(e,n),Vu(n),r&8192){if(m=n.memoizedState!==null,(n.stateNode.isHidden=m)&&!g&&n.mode&1)for(Dt=n,g=n.child;g!==null;){for(y=Dt=g;Dt!==null;){switch(v=Dt,_=v.child,v.tag){case 0:case 11:case 14:case 15:n2(4,v,v.return);break;case 1:zv(v,v.return);var A=v.stateNode;if(typeof A.componentWillUnmount=="function"){r=v,i=v.return;try{e=r,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(S){Yi(r,i,S)}}break;case 5:zv(v,v.return);break;case 22:if(v.memoizedState!==null){tV(y);continue}}_!==null?(_.return=v,Dt=_):tV(y)}g=g.sibling}e:for(g=null,y=n;;){if(y.tag===5){if(g===null){g=y;try{o=y.stateNode,m?(l=o.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(u=y.stateNode,h=y.memoizedProps.style,c=h!=null&&h.hasOwnProperty("display")?h.display:null,u.style.display=nG("display",c))}catch(S){Yi(n,n.return,S)}}}else if(y.tag===6){if(g===null)try{y.stateNode.nodeValue=m?"":y.memoizedProps}catch(S){Yi(n,n.return,S)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===n)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;g===y&&(g=null),y=y.return}g===y&&(g=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:Dc(e,n),Vu(n),r&4&&Qz(n);break;case 21:break;default:Dc(e,n),Vu(n)}}function Vu(n){var e=n.flags;if(e&2){try{e:{for(var i=n.return;i!==null;){if(TX(i)){var r=i;break e}i=i.return}throw Error(dt(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(b2(o,""),r.flags&=-33);var l=Jz(n);LR(n,l,o);break;case 3:case 4:var c=r.stateNode.containerInfo,u=Jz(n);UR(n,u,c);break;default:throw Error(dt(161))}}catch(h){Yi(n,n.return,h)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function Rue(n,e,i){Dt=n,PX(n)}function PX(n,e,i){for(var r=(n.mode&1)!==0;Dt!==null;){var o=Dt,l=o.child;if(o.tag===22&&r){var c=o.memoizedState!==null||UT;if(!c){var u=o.alternate,h=u!==null&&u.memoizedState!==null||Ys;u=UT;var m=Ys;if(UT=c,(Ys=h)&&!m)for(Dt=o;Dt!==null;)c=Dt,h=c.child,c.tag===22&&c.memoizedState!==null?nV(o):h!==null?(h.return=c,Dt=h):nV(o);for(;l!==null;)Dt=l,PX(l),l=l.sibling;Dt=o,UT=u,Ys=m}eV(n)}else o.subtreeFlags&8772&&l!==null?(l.return=o,Dt=l):eV(n)}}function eV(n){for(;Dt!==null;){var e=Dt;if(e.flags&8772){var i=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ys||qN(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ys)if(i===null)r.componentDidMount();else{var o=e.elementType===e.type?i.memoizedProps:Ic(e.type,i.memoizedProps);r.componentDidUpdate(o,i.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=e.updateQueue;l!==null&&Uz(e,l,r);break;case 3:var c=e.updateQueue;if(c!==null){if(i=null,e.child!==null)switch(e.child.tag){case 5:i=e.child.stateNode;break;case 1:i=e.child.stateNode}Uz(e,c,i)}break;case 5:var u=e.stateNode;if(i===null&&e.flags&4){i=u;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&i.focus();break;case"img":h.src&&(i.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var m=e.alternate;if(m!==null){var g=m.memoizedState;if(g!==null){var y=g.dehydrated;y!==null&&x2(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(dt(163))}Ys||e.flags&512&&FR(e)}catch(v){Yi(e,e.return,v)}}if(e===n){Dt=null;break}if(i=e.sibling,i!==null){i.return=e.return,Dt=i;break}Dt=e.return}}function tV(n){for(;Dt!==null;){var e=Dt;if(e===n){Dt=null;break}var i=e.sibling;if(i!==null){i.return=e.return,Dt=i;break}Dt=e.return}}function nV(n){for(;Dt!==null;){var e=Dt;try{switch(e.tag){case 0:case 11:case 15:var i=e.return;try{qN(4,e)}catch(h){Yi(e,i,h)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(h){Yi(e,o,h)}}var l=e.return;try{FR(e)}catch(h){Yi(e,l,h)}break;case 5:var c=e.return;try{FR(e)}catch(h){Yi(e,c,h)}}}catch(h){Yi(e,e.return,h)}if(e===n){Dt=null;break}var u=e.sibling;if(u!==null){u.return=e.return,Dt=u;break}Dt=e.return}}var Mue=Math.ceil,P5=gf.ReactCurrentDispatcher,BO=gf.ReactCurrentOwner,tc=gf.ReactCurrentBatchConfig,Tn=0,es=null,br=null,Ss=0,Ka=0,Vv=zm(0),Nr=0,I2=null,E0=0,HN=0,zO=0,i2=null,ea=null,VO=0,S1=1/0,gh=null,I5=!1,BR=null,km=null,LT=!1,pm=null,j5=0,r2=0,zR=null,kD=-1,ED=0;function No(){return Tn&6?rr():kD!==-1?kD:kD=rr()}function Em(n){return n.mode&1?Tn&2&&Ss!==0?Ss&-Ss:yue.transition!==null?(ED===0&&(ED=mG()),ED):(n=Jn,n!==0||(n=window.event,n=n===void 0?16:_G(n.type)),n):1}function Zc(n,e,i,r){if(50<r2)throw r2=0,zR=null,Error(dt(185));jS(n,i,r),(!(Tn&2)||n!==es)&&(n===es&&(!(Tn&2)&&(HN|=i),Nr===4&&Cp(n,Ss)),aa(n,r),i===1&&Tn===0&&!(e.mode&1)&&(S1=rr()+500,VN&&Vm()))}function aa(n,e){var i=n.callbackNode;yce(n,e);var r=g5(n,n===es?Ss:0);if(r===0)i!==null&&dz(i),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(i!=null&&dz(i),e===1)n.tag===0?bue(iV.bind(null,n)):zG(iV.bind(null,n)),fue(function(){!(Tn&6)&&Vm()}),i=null;else{switch(gG(r)){case 1:i=pO;break;case 4:i=fG;break;case 16:i=m5;break;case 536870912:i=pG;break;default:i=m5}i=LX(i,IX.bind(null,n))}n.callbackPriority=e,n.callbackNode=i}}function IX(n,e){if(kD=-1,ED=0,Tn&6)throw Error(dt(327));var i=n.callbackNode;if(sw()&&n.callbackNode!==i)return null;var r=g5(n,n===es?Ss:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=R5(n,r);else{e=r;var o=Tn;Tn|=2;var l=RX();(es!==n||Ss!==e)&&(gh=null,S1=rr()+500,g0(n,e));do try{Uue();break}catch(u){jX(n,u)}while(!0);CO(),P5.current=l,Tn=o,br!==null?e=0:(es=null,Ss=0,e=Nr)}if(e!==0){if(e===2&&(o=pR(n),o!==0&&(r=o,e=VR(n,o))),e===1)throw i=I2,g0(n,0),Cp(n,r),aa(n,rr()),i;if(e===6)Cp(n,r);else{if(o=n.current.alternate,!(r&30)&&!Oue(o)&&(e=R5(n,r),e===2&&(l=pR(n),l!==0&&(r=l,e=VR(n,l))),e===1))throw i=I2,g0(n,0),Cp(n,r),aa(n,rr()),i;switch(n.finishedWork=o,n.finishedLanes=r,e){case 0:case 1:throw Error(dt(345));case 2:Yg(n,ea,gh);break;case 3:if(Cp(n,r),(r&130023424)===r&&(e=VO+500-rr(),10<e)){if(g5(n,0)!==0)break;if(o=n.suspendedLanes,(o&r)!==r){No(),n.pingedLanes|=n.suspendedLanes&o;break}n.timeoutHandle=_R(Yg.bind(null,n,ea,gh),e);break}Yg(n,ea,gh);break;case 4:if(Cp(n,r),(r&4194240)===r)break;for(e=n.eventTimes,o=-1;0<r;){var c=31-Kc(r);l=1<<c,c=e[c],c>o&&(o=c),r&=~l}if(r=o,r=rr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Mue(r/1960))-r,10<r){n.timeoutHandle=_R(Yg.bind(null,n,ea,gh),r);break}Yg(n,ea,gh);break;case 5:Yg(n,ea,gh);break;default:throw Error(dt(329))}}}return aa(n,rr()),n.callbackNode===i?IX.bind(null,n):null}function VR(n,e){var i=i2;return n.current.memoizedState.isDehydrated&&(g0(n,e).flags|=256),n=R5(n,e),n!==2&&(e=ea,ea=i,e!==null&&WR(e)),n}function WR(n){ea===null?ea=n:ea.push.apply(ea,n)}function Oue(n){for(var e=n;;){if(e.flags&16384){var i=e.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var r=0;r<i.length;r++){var o=i[r],l=o.getSnapshot;o=o.value;try{if(!Jc(l(),o))return!1}catch{return!1}}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Cp(n,e){for(e&=~zO,e&=~HN,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var i=31-Kc(e),r=1<<i;n[i]=-1,e&=~r}}function iV(n){if(Tn&6)throw Error(dt(327));sw();var e=g5(n,0);if(!(e&1))return aa(n,rr()),null;var i=R5(n,e);if(n.tag!==0&&i===2){var r=pR(n);r!==0&&(e=r,i=VR(n,r))}if(i===1)throw i=I2,g0(n,0),Cp(n,e),aa(n,rr()),i;if(i===6)throw Error(dt(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Yg(n,ea,gh),aa(n,rr()),null}function WO(n,e){var i=Tn;Tn|=1;try{return n(e)}finally{Tn=i,Tn===0&&(S1=rr()+500,VN&&Vm())}}function S0(n){pm!==null&&pm.tag===0&&!(Tn&6)&&sw();var e=Tn;Tn|=1;var i=tc.transition,r=Jn;try{if(tc.transition=null,Jn=1,n)return n()}finally{Jn=r,tc.transition=i,Tn=e,!(Tn&6)&&Vm()}}function $O(){Ka=Vv.current,Ei(Vv)}function g0(n,e){n.finishedWork=null,n.finishedLanes=0;var i=n.timeoutHandle;if(i!==-1&&(n.timeoutHandle=-1,hue(i)),br!==null)for(i=br.return;i!==null;){var r=i;switch(EO(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&x5();break;case 3:k1(),Ei(sa),Ei(to),jO();break;case 5:IO(r);break;case 4:k1();break;case 13:Ei(Li);break;case 19:Ei(Li);break;case 10:TO(r.type._context);break;case 22:case 23:$O()}i=i.return}if(es=n,br=n=Sm(n.current,null),Ss=Ka=e,Nr=0,I2=null,zO=HN=E0=0,ea=i2=null,ab!==null){for(e=0;e<ab.length;e++)if(i=ab[e],r=i.interleaved,r!==null){i.interleaved=null;var o=r.next,l=i.pending;if(l!==null){var c=l.next;l.next=o,r.next=c}i.pending=r}ab=null}return n}function jX(n,e){do{var i=br;try{if(CO(),wD.current=N5,D5){for(var r=zi.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}D5=!1}if(k0=0,Jr=Dr=zi=null,t2=!1,D2=0,BO.current=null,i===null||i.return===null){Nr=1,I2=e,br=null;break}e:{var l=n,c=i.return,u=i,h=e;if(e=Ss,u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var m=h,g=u,y=g.tag;if(!(g.mode&1)&&(y===0||y===11||y===15)){var v=g.alternate;v?(g.updateQueue=v.updateQueue,g.memoizedState=v.memoizedState,g.lanes=v.lanes):(g.updateQueue=null,g.memoizedState=null)}var _=$z(c);if(_!==null){_.flags&=-257,qz(_,c,u,l,e),_.mode&1&&Wz(l,m,e),e=_,h=m;var A=e.updateQueue;if(A===null){var S=new Set;S.add(h),e.updateQueue=S}else A.add(h);break e}else{if(!(e&1)){Wz(l,m,e),qO();break e}h=Error(dt(426))}}else if(Pi&&u.mode&1){var C=$z(c);if(C!==null){!(C.flags&65536)&&(C.flags|=256),qz(C,c,u,l,e),SO(E1(h,u));break e}}l=h=E1(h,u),Nr!==4&&(Nr=2),i2===null?i2=[l]:i2.push(l),l=c;do{switch(l.tag){case 3:l.flags|=65536,e&=-e,l.lanes|=e;var T=gX(l,h,e);Fz(l,T);break e;case 1:u=h;var N=l.type,I=l.stateNode;if(!(l.flags&128)&&(typeof N.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(km===null||!km.has(I)))){l.flags|=65536,e&=-e,l.lanes|=e;var O=bX(l,u,e);Fz(l,O);break e}}l=l.return}while(l!==null)}OX(i)}catch(F){e=F,br===i&&i!==null&&(br=i=i.return);continue}break}while(!0)}function RX(){var n=P5.current;return P5.current=N5,n===null?N5:n}function qO(){(Nr===0||Nr===3||Nr===2)&&(Nr=4),es===null||!(E0&268435455)&&!(HN&268435455)||Cp(es,Ss)}function R5(n,e){var i=Tn;Tn|=2;var r=RX();(es!==n||Ss!==e)&&(gh=null,g0(n,e));do try{Fue();break}catch(o){jX(n,o)}while(!0);if(CO(),Tn=i,P5.current=r,br!==null)throw Error(dt(261));return es=null,Ss=0,Nr}function Fue(){for(;br!==null;)MX(br)}function Uue(){for(;br!==null&&!cce();)MX(br)}function MX(n){var e=UX(n.alternate,n,Ka);n.memoizedProps=n.pendingProps,e===null?OX(n):br=e,BO.current=null}function OX(n){var e=n;do{var i=e.alternate;if(n=e.return,e.flags&32768){if(i=Pue(i,e),i!==null){i.flags&=32767,br=i;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Nr=6,br=null;return}}else if(i=Nue(i,e,Ka),i!==null){br=i;return}if(e=e.sibling,e!==null){br=e;return}br=e=n}while(e!==null);Nr===0&&(Nr=5)}function Yg(n,e,i){var r=Jn,o=tc.transition;try{tc.transition=null,Jn=1,Lue(n,e,i,r)}finally{tc.transition=o,Jn=r}return null}function Lue(n,e,i,r){do sw();while(pm!==null);if(Tn&6)throw Error(dt(327));i=n.finishedWork;var o=n.finishedLanes;if(i===null)return null;if(n.finishedWork=null,n.finishedLanes=0,i===n.current)throw Error(dt(177));n.callbackNode=null,n.callbackPriority=0;var l=i.lanes|i.childLanes;if(vce(n,l),n===es&&(br=es=null,Ss=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||LT||(LT=!0,LX(m5,function(){return sw(),null})),l=(i.flags&15990)!==0,i.subtreeFlags&15990||l){l=tc.transition,tc.transition=null;var c=Jn;Jn=1;var u=Tn;Tn|=4,BO.current=null,jue(n,i),NX(i,n),sue(wR),b5=!!vR,wR=vR=null,n.current=i,Rue(i),uce(),Tn=u,Jn=c,tc.transition=l}else n.current=i;if(LT&&(LT=!1,pm=n,j5=o),l=n.pendingLanes,l===0&&(km=null),fce(i.stateNode),aa(n,rr()),e!==null)for(r=n.onRecoverableError,i=0;i<e.length;i++)o=e[i],r(o.value,{componentStack:o.stack,digest:o.digest});if(I5)throw I5=!1,n=BR,BR=null,n;return j5&1&&n.tag!==0&&sw(),l=n.pendingLanes,l&1?n===zR?r2++:(r2=0,zR=n):r2=0,Vm(),null}function sw(){if(pm!==null){var n=gG(j5),e=tc.transition,i=Jn;try{if(tc.transition=null,Jn=16>n?16:n,pm===null)var r=!1;else{if(n=pm,pm=null,j5=0,Tn&6)throw Error(dt(331));var o=Tn;for(Tn|=4,Dt=n.current;Dt!==null;){var l=Dt,c=l.child;if(Dt.flags&16){var u=l.deletions;if(u!==null){for(var h=0;h<u.length;h++){var m=u[h];for(Dt=m;Dt!==null;){var g=Dt;switch(g.tag){case 0:case 11:case 15:n2(8,g,l)}var y=g.child;if(y!==null)y.return=g,Dt=y;else for(;Dt!==null;){g=Dt;var v=g.sibling,_=g.return;if(CX(g),g===m){Dt=null;break}if(v!==null){v.return=_,Dt=v;break}Dt=_}}}var A=l.alternate;if(A!==null){var S=A.child;if(S!==null){A.child=null;do{var C=S.sibling;S.sibling=null,S=C}while(S!==null)}}Dt=l}}if(l.subtreeFlags&2064&&c!==null)c.return=l,Dt=c;else e:for(;Dt!==null;){if(l=Dt,l.flags&2048)switch(l.tag){case 0:case 11:case 15:n2(9,l,l.return)}var T=l.sibling;if(T!==null){T.return=l.return,Dt=T;break e}Dt=l.return}}var N=n.current;for(Dt=N;Dt!==null;){c=Dt;var I=c.child;if(c.subtreeFlags&2064&&I!==null)I.return=c,Dt=I;else e:for(c=N;Dt!==null;){if(u=Dt,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:qN(9,u)}}catch(F){Yi(u,u.return,F)}if(u===c){Dt=null;break e}var O=u.sibling;if(O!==null){O.return=u.return,Dt=O;break e}Dt=u.return}}if(Tn=o,Vm(),pd&&typeof pd.onPostCommitFiberRoot=="function")try{pd.onPostCommitFiberRoot(FN,n)}catch{}r=!0}return r}finally{Jn=i,tc.transition=e}}return!1}function rV(n,e,i){e=E1(i,e),e=gX(n,e,1),n=_m(n,e,1),e=No(),n!==null&&(jS(n,1,e),aa(n,e))}function Yi(n,e,i){if(n.tag===3)rV(n,n,i);else for(;e!==null;){if(e.tag===3){rV(e,n,i);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(km===null||!km.has(r))){n=E1(i,n),n=bX(e,n,1),e=_m(e,n,1),n=No(),e!==null&&(jS(e,1,n),aa(e,n));break}}e=e.return}}function Bue(n,e,i){var r=n.pingCache;r!==null&&r.delete(e),e=No(),n.pingedLanes|=n.suspendedLanes&i,es===n&&(Ss&i)===i&&(Nr===4||Nr===3&&(Ss&130023424)===Ss&&500>rr()-VO?g0(n,0):zO|=i),aa(n,e)}function FX(n,e){e===0&&(n.mode&1?(e=DT,DT<<=1,!(DT&130023424)&&(DT=4194304)):e=1);var i=No();n=sf(n,e),n!==null&&(jS(n,e,i),aa(n,i))}function zue(n){var e=n.memoizedState,i=0;e!==null&&(i=e.retryLane),FX(n,i)}function Vue(n,e){var i=0;switch(n.tag){case 13:var r=n.stateNode,o=n.memoizedState;o!==null&&(i=o.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(dt(314))}r!==null&&r.delete(e),FX(n,i)}var UX;UX=function(n,e,i){if(n!==null)if(n.memoizedProps!==e.pendingProps||sa.current)ia=!0;else{if(!(n.lanes&i)&&!(e.flags&128))return ia=!1,Due(n,e,i);ia=!!(n.flags&131072)}else ia=!1,Pi&&e.flags&1048576&&VG(e,E5,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_D(n,e),n=e.pendingProps;var o=w1(e,to.current);rw(e,i),o=MO(null,e,r,n,o,i);var l=OO();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,oa(r)?(l=!0,_5(e)):l=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,NO(e),o.updater=$N,e.stateNode=o,o._reactInternals=e,DR(e,r,n,i),e=IR(null,e,r,!0,l,i)):(e.tag=0,Pi&&l&&kO(e),To(null,e,o,i),e=e.child),e;case 16:r=e.elementType;e:{switch(_D(n,e),n=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=$ue(r),n=Ic(r,n),o){case 0:e=PR(null,e,r,n,i);break e;case 1:e=Xz(null,e,r,n,i);break e;case 11:e=Hz(null,e,r,n,i);break e;case 14:e=Gz(null,e,r,Ic(r.type,n),i);break e}throw Error(dt(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Ic(r,o),PR(n,e,r,o,i);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Ic(r,o),Xz(n,e,r,o,i);case 3:e:{if(xX(e),n===null)throw Error(dt(387));r=e.pendingProps,l=e.memoizedState,o=l.element,XG(n,e),C5(e,r,null,i);var c=e.memoizedState;if(r=c.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},e.updateQueue.baseState=l,e.memoizedState=l,e.flags&256){o=E1(Error(dt(423)),e),e=Kz(n,e,r,i,o);break e}else if(r!==o){o=E1(Error(dt(424)),e),e=Kz(n,e,r,i,o);break e}else for(Ja=xm(e.stateNode.containerInfo.firstChild),Qa=e,Pi=!0,Gc=null,i=HG(e,null,r,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(x1(),r===o){e=of(n,e,i);break e}To(n,e,r,i)}e=e.child}return e;case 5:return KG(e),n===null&&AR(e),r=e.type,o=e.pendingProps,l=n!==null?n.memoizedProps:null,c=o.children,xR(r,o)?c=null:l!==null&&xR(r,l)&&(e.flags|=32),wX(n,e),To(n,e,c,i),e.child;case 6:return n===null&&AR(e),null;case 13:return _X(n,e,i);case 4:return PO(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=_1(e,null,r,i):To(n,e,r,i),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Ic(r,o),Hz(n,e,r,o,i);case 7:return To(n,e,e.pendingProps,i),e.child;case 8:return To(n,e,e.pendingProps.children,i),e.child;case 12:return To(n,e,e.pendingProps.children,i),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,l=e.memoizedProps,c=o.value,pi(S5,r._currentValue),r._currentValue=c,l!==null)if(Jc(l.value,c)){if(l.children===o.children&&!sa.current){e=of(n,e,i);break e}}else for(l=e.child,l!==null&&(l.return=e);l!==null;){var u=l.dependencies;if(u!==null){c=l.child;for(var h=u.firstContext;h!==null;){if(h.context===r){if(l.tag===1){h=Jh(-1,i&-i),h.tag=2;var m=l.updateQueue;if(m!==null){m=m.shared;var g=m.pending;g===null?h.next=h:(h.next=g.next,g.next=h),m.pending=h}}l.lanes|=i,h=l.alternate,h!==null&&(h.lanes|=i),CR(l.return,i,e),u.lanes|=i;break}h=h.next}}else if(l.tag===10)c=l.type===e.type?null:l.child;else if(l.tag===18){if(c=l.return,c===null)throw Error(dt(341));c.lanes|=i,u=c.alternate,u!==null&&(u.lanes|=i),CR(c,i,e),c=l.sibling}else c=l.child;if(c!==null)c.return=l;else for(c=l;c!==null;){if(c===e){c=null;break}if(l=c.sibling,l!==null){l.return=c.return,c=l;break}c=c.return}l=c}To(n,e,o.children,i),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,rw(e,i),o=sc(o),r=r(o),e.flags|=1,To(n,e,r,i),e.child;case 14:return r=e.type,o=Ic(r,e.pendingProps),o=Ic(r.type,o),Gz(n,e,r,o,i);case 15:return yX(n,e,e.type,e.pendingProps,i);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Ic(r,o),_D(n,e),e.tag=1,oa(r)?(n=!0,_5(e)):n=!1,rw(e,i),mX(e,r,o),DR(e,r,o,i),IR(null,e,r,!0,n,i);case 19:return kX(n,e,i);case 22:return vX(n,e,i)}throw Error(dt(156,e.tag))};function LX(n,e){return hG(n,e)}function Wue(n,e,i,r){this.tag=n,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ec(n,e,i,r){return new Wue(n,e,i,r)}function HO(n){return n=n.prototype,!(!n||!n.isReactComponent)}function $ue(n){if(typeof n=="function")return HO(n)?1:0;if(n!=null){if(n=n.$$typeof,n===dO)return 11;if(n===hO)return 14}return 2}function Sm(n,e){var i=n.alternate;return i===null?(i=ec(n.tag,e,n.key,n.mode),i.elementType=n.elementType,i.type=n.type,i.stateNode=n.stateNode,i.alternate=n,n.alternate=i):(i.pendingProps=e,i.type=n.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=n.flags&14680064,i.childLanes=n.childLanes,i.lanes=n.lanes,i.child=n.child,i.memoizedProps=n.memoizedProps,i.memoizedState=n.memoizedState,i.updateQueue=n.updateQueue,e=n.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=n.sibling,i.index=n.index,i.ref=n.ref,i}function SD(n,e,i,r,o,l){var c=2;if(r=n,typeof n=="function")HO(n)&&(c=1);else if(typeof n=="string")c=5;else e:switch(n){case Iv:return b0(i.children,o,l,e);case uO:c=8,o|=8;break;case Q4:return n=ec(12,i,e,o|2),n.elementType=Q4,n.lanes=l,n;case eR:return n=ec(13,i,e,o),n.elementType=eR,n.lanes=l,n;case tR:return n=ec(19,i,e,o),n.elementType=tR,n.lanes=l,n;case KH:return GN(i,o,l,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case GH:c=10;break e;case XH:c=9;break e;case dO:c=11;break e;case hO:c=14;break e;case _p:c=16,r=null;break e}throw Error(dt(130,n==null?n:typeof n,""))}return e=ec(c,i,e,o),e.elementType=n,e.type=r,e.lanes=l,e}function b0(n,e,i,r){return n=ec(7,n,r,e),n.lanes=i,n}function GN(n,e,i,r){return n=ec(22,n,r,e),n.elementType=KH,n.lanes=i,n.stateNode={isHidden:!1},n}function oj(n,e,i){return n=ec(6,n,null,e),n.lanes=i,n}function aj(n,e,i){return e=ec(4,n.children!==null?n.children:[],n.key,e),e.lanes=i,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function que(n,e,i,r,o){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zI(0),this.expirationTimes=zI(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zI(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function GO(n,e,i,r,o,l,c,u,h){return n=new que(n,e,i,u,h),e===1?(e=1,l===!0&&(e|=8)):e=0,l=ec(3,null,null,e),n.current=l,l.stateNode=n,l.memoizedState={element:r,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},NO(l),n}function Hue(n,e,i){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pv,key:r==null?null:""+r,children:n,containerInfo:e,implementation:i}}function BX(n){if(!n)return Dm;n=n._reactInternals;e:{if(F0(n)!==n||n.tag!==1)throw Error(dt(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(oa(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(dt(171))}if(n.tag===1){var i=n.type;if(oa(i))return BG(n,i,e)}return e}function zX(n,e,i,r,o,l,c,u,h){return n=GO(i,r,!0,n,o,l,c,u,h),n.context=BX(null),i=n.current,r=No(),o=Em(i),l=Jh(r,o),l.callback=e??null,_m(i,l,o),n.current.lanes=o,jS(n,o,r),aa(n,r),n}function XN(n,e,i,r){var o=e.current,l=No(),c=Em(o);return i=BX(i),e.context===null?e.context=i:e.pendingContext=i,e=Jh(l,c),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=_m(o,e,c),n!==null&&(Zc(n,o,c,l),vD(n,o,c)),c}function M5(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function sV(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var i=n.retryLane;n.retryLane=i!==0&&i<e?i:e}}function XO(n,e){sV(n,e),(n=n.alternate)&&sV(n,e)}function Gue(){return null}var VX=typeof reportError=="function"?reportError:function(n){console.error(n)};function KO(n){this._internalRoot=n}KN.prototype.render=KO.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(dt(409));XN(n,e,null,null)};KN.prototype.unmount=KO.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;S0(function(){XN(null,n,null,null)}),e[rf]=null}};function KN(n){this._internalRoot=n}KN.prototype.unstable_scheduleHydration=function(n){if(n){var e=vG();n={blockedOn:null,target:n,priority:e};for(var i=0;i<Ap.length&&e!==0&&e<Ap[i].priority;i++);Ap.splice(i,0,n),i===0&&xG(n)}};function ZO(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function ZN(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function oV(){}function Xue(n,e,i,r,o){if(o){if(typeof r=="function"){var l=r;r=function(){var m=M5(c);l.call(m)}}var c=zX(e,r,n,0,null,!1,!1,"",oV);return n._reactRootContainer=c,n[rf]=c.current,E2(n.nodeType===8?n.parentNode:n),S0(),c}for(;o=n.lastChild;)n.removeChild(o);if(typeof r=="function"){var u=r;r=function(){var m=M5(h);u.call(m)}}var h=GO(n,0,!1,null,null,!1,!1,"",oV);return n._reactRootContainer=h,n[rf]=h.current,E2(n.nodeType===8?n.parentNode:n),S0(function(){XN(e,h,i,r)}),h}function YN(n,e,i,r,o){var l=i._reactRootContainer;if(l){var c=l;if(typeof o=="function"){var u=o;o=function(){var h=M5(c);u.call(h)}}XN(e,c,n,o)}else c=Xue(i,e,n,o,r);return M5(c)}bG=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var i=Tk(e.pendingLanes);i!==0&&(mO(e,i|1),aa(e,rr()),!(Tn&6)&&(S1=rr()+500,Vm()))}break;case 13:S0(function(){var r=sf(n,1);if(r!==null){var o=No();Zc(r,n,1,o)}}),XO(n,1)}};gO=function(n){if(n.tag===13){var e=sf(n,134217728);if(e!==null){var i=No();Zc(e,n,134217728,i)}XO(n,134217728)}};yG=function(n){if(n.tag===13){var e=Em(n),i=sf(n,e);if(i!==null){var r=No();Zc(i,n,e,r)}XO(n,e)}};vG=function(){return Jn};wG=function(n,e){var i=Jn;try{return Jn=n,e()}finally{Jn=i}};dR=function(n,e,i){switch(e){case"input":if(rR(n,i),e=i.name,i.type==="radio"&&e!=null){for(i=n;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var r=i[e];if(r!==n&&r.form===n.form){var o=zN(r);if(!o)throw Error(dt(90));YH(r),rR(r,o)}}}break;case"textarea":QH(n,i);break;case"select":e=i.value,e!=null&&ew(n,!!i.multiple,e,!1)}};oG=WO;aG=S0;var Kue={usingClientEntryPoint:!1,Events:[MS,Ov,zN,rG,sG,WO]},dk={findFiberByHostInstance:ob,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zue={bundleType:dk.bundleType,version:dk.version,rendererPackageName:dk.rendererPackageName,rendererConfig:dk.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gf.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=uG(n),n===null?null:n.stateNode},findFiberByHostInstance:dk.findFiberByHostInstance||Gue,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var BT=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!BT.isDisabled&&BT.supportsFiber)try{FN=BT.inject(Zue),pd=BT}catch{}}nl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kue;nl.createPortal=function(n,e){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ZO(e))throw Error(dt(200));return Hue(n,e,null,i)};nl.createRoot=function(n,e){if(!ZO(n))throw Error(dt(299));var i=!1,r="",o=VX;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=GO(n,1,!1,null,null,i,!1,r,o),n[rf]=e.current,E2(n.nodeType===8?n.parentNode:n),new KO(e)};nl.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(dt(188)):(n=Object.keys(n).join(","),Error(dt(268,n)));return n=uG(e),n=n===null?null:n.stateNode,n};nl.flushSync=function(n){return S0(n)};nl.hydrate=function(n,e,i){if(!ZN(e))throw Error(dt(200));return YN(null,n,e,!0,i)};nl.hydrateRoot=function(n,e,i){if(!ZO(n))throw Error(dt(405));var r=i!=null&&i.hydratedSources||null,o=!1,l="",c=VX;if(i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onRecoverableError!==void 0&&(c=i.onRecoverableError)),e=zX(e,null,n,1,i??null,o,!1,l,c),n[rf]=e.current,E2(n),r)for(n=0;n<r.length;n++)i=r[n],o=i._getVersion,o=o(i._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[i,o]:e.mutableSourceEagerHydrationData.push(i,o);return new KN(e)};nl.render=function(n,e,i){if(!ZN(e))throw Error(dt(200));return YN(null,n,e,!1,i)};nl.unmountComponentAtNode=function(n){if(!ZN(n))throw Error(dt(40));return n._reactRootContainer?(S0(function(){YN(null,null,n,!1,function(){n._reactRootContainer=null,n[rf]=null})}),!0):!1};nl.unstable_batchedUpdates=WO;nl.unstable_renderSubtreeIntoContainer=function(n,e,i,r){if(!ZN(i))throw Error(dt(200));if(n==null||n._reactInternals===void 0)throw Error(dt(38));return YN(n,e,i,!1,r)};nl.version="18.3.1-next-f1338f8080-20240426";function WX(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(WX)}catch(n){console.error(n)}}WX(),WH.exports=nl;var Yue=WH.exports,$X,aV=Yue;$X=aV.createRoot,aV.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function j2(){return j2=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},j2.apply(this,arguments)}var mm;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(mm||(mm={}));const lV="popstate";function Jue(n){n===void 0&&(n={});function e(o,l){let{pathname:c="/",search:u="",hash:h=""}=U0(o.location.hash.substr(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),$R("",{pathname:c,search:u,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function i(o,l){let c=o.document.querySelector("base"),u="";if(c&&c.getAttribute("href")){let h=o.location.href,m=h.indexOf("#");u=m===-1?h:h.slice(0,m)}return u+"#"+(typeof l=="string"?l:O5(l))}function r(o,l){YO(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(l)+")")}return ede(e,i,r,n)}function Vi(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function YO(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Que(){return Math.random().toString(36).substr(2,8)}function cV(n,e){return{usr:n.state,key:n.key,idx:e}}function $R(n,e,i,r){return i===void 0&&(i=null),j2({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?U0(e):e,{state:i,key:e&&e.key||r||Que()})}function O5(n){let{pathname:e="/",search:i="",hash:r=""}=n;return i&&i!=="?"&&(e+=i.charAt(0)==="?"?i:"?"+i),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function U0(n){let e={};if(n){let i=n.indexOf("#");i>=0&&(e.hash=n.substr(i),n=n.substr(0,i));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function ede(n,e,i,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:l=!1}=r,c=o.history,u=mm.Pop,h=null,m=g();m==null&&(m=0,c.replaceState(j2({},c.state,{idx:m}),""));function g(){return(c.state||{idx:null}).idx}function y(){u=mm.Pop;let C=g(),T=C==null?null:C-m;m=C,h&&h({action:u,location:S.location,delta:T})}function v(C,T){u=mm.Push;let N=$R(S.location,C,T);i&&i(N,C),m=g()+1;let I=cV(N,m),O=S.createHref(N);try{c.pushState(I,"",O)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;o.location.assign(O)}l&&h&&h({action:u,location:S.location,delta:1})}function _(C,T){u=mm.Replace;let N=$R(S.location,C,T);i&&i(N,C),m=g();let I=cV(N,m),O=S.createHref(N);c.replaceState(I,"",O),l&&h&&h({action:u,location:S.location,delta:0})}function A(C){let T=o.location.origin!=="null"?o.location.origin:o.location.href,N=typeof C=="string"?C:O5(C);return N=N.replace(/ $/,"%20"),Vi(T,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,T)}let S={get action(){return u},get location(){return n(o,c)},listen(C){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(lV,y),h=C,()=>{o.removeEventListener(lV,y),h=null}},createHref(C){return e(o,C)},createURL:A,encodeLocation(C){let T=A(C);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:v,replace:_,go(C){return c.go(C)}};return S}var uV;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(uV||(uV={}));function tde(n,e,i){return i===void 0&&(i="/"),nde(n,e,i)}function nde(n,e,i,r){let o=typeof e=="string"?U0(e):e,l=A1(o.pathname||"/",i);if(l==null)return null;let c=qX(n);ide(c);let u=null;for(let h=0;u==null&&h<c.length;++h){let m=pde(l);u=hde(c[h],m)}return u}function qX(n,e,i,r){e===void 0&&(e=[]),i===void 0&&(i=[]),r===void 0&&(r="");let o=(l,c,u)=>{let h={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};h.relativePath.startsWith("/")&&(Vi(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let m=Am([r,h.relativePath]),g=i.concat(h);l.children&&l.children.length>0&&(Vi(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),qX(l.children,e,g,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:ude(m,l.index),routesMeta:g})};return n.forEach((l,c)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))o(l,c);else for(let h of HX(l.path))o(l,c,h)}),e}function HX(n){let e=n.split("/");if(e.length===0)return[];let[i,...r]=e,o=i.endsWith("?"),l=i.replace(/\?$/,"");if(r.length===0)return o?[l,""]:[l];let c=HX(r.join("/")),u=[];return u.push(...c.map(h=>h===""?l:[l,h].join("/"))),o&&u.push(...c),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function ide(n){n.sort((e,i)=>e.score!==i.score?i.score-e.score:dde(e.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}const rde=/^:[\w-]+$/,sde=3,ode=2,ade=1,lde=10,cde=-2,dV=n=>n==="*";function ude(n,e){let i=n.split("/"),r=i.length;return i.some(dV)&&(r+=cde),e&&(r+=ode),i.filter(o=>!dV(o)).reduce((o,l)=>o+(rde.test(l)?sde:l===""?ade:lde),r)}function dde(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function hde(n,e,i){let{routesMeta:r}=n,o={},l="/",c=[];for(let u=0;u<r.length;++u){let h=r[u],m=u===r.length-1,g=l==="/"?e:e.slice(l.length)||"/",y=qR({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},g),v=h.route;if(!y)return null;Object.assign(o,y.params),c.push({params:o,pathname:Am([l,y.pathname]),pathnameBase:yde(Am([l,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(l=Am([l,y.pathnameBase]))}return c}function qR(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,r]=fde(n.path,n.caseSensitive,n.end),o=e.match(i);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:r.reduce((m,g,y)=>{let{paramName:v,isOptional:_}=g;if(v==="*"){let S=u[y]||"";c=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const A=u[y];return _&&!A?m[v]=void 0:m[v]=(A||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:n}}function fde(n,e,i){e===void 0&&(e=!1),i===void 0&&(i=!0),YO(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function pde(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return YO(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function A1(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,r=n.charAt(i);return r&&r!=="/"?null:n.slice(i)||"/"}function mde(n,e){e===void 0&&(e="/");let{pathname:i,search:r="",hash:o=""}=typeof n=="string"?U0(n):n;return{pathname:i?i.startsWith("/")?i:gde(i,e):e,search:vde(r),hash:wde(o)}}function gde(n,e){let i=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function lj(n,e,i,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bde(n){return n.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function JO(n,e){let i=bde(n);return e?i.map((r,o)=>o===i.length-1?r.pathname:r.pathnameBase):i.map(r=>r.pathnameBase)}function QO(n,e,i,r){r===void 0&&(r=!1);let o;typeof n=="string"?o=U0(n):(o=j2({},n),Vi(!o.pathname||!o.pathname.includes("?"),lj("?","pathname","search",o)),Vi(!o.pathname||!o.pathname.includes("#"),lj("#","pathname","hash",o)),Vi(!o.search||!o.search.includes("#"),lj("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,u;if(c==null)u=i;else{let y=e.length-1;if(!r&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),y-=1;o.pathname=v.join("/")}u=y>=0?e[y]:"/"}let h=mde(o,u),m=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&i.endsWith("/");return!h.pathname.endsWith("/")&&(m||g)&&(h.pathname+="/"),h}const Am=n=>n.join("/").replace(/\/\/+/g,"/"),yde=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),vde=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,wde=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function xde(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const GX=["post","put","patch","delete"];new Set(GX);const _de=["get",...GX];new Set(_de);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function R2(){return R2=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},R2.apply(this,arguments)}const JN=H.createContext(null),XX=H.createContext(null),bf=H.createContext(null),QN=H.createContext(null),kd=H.createContext({outlet:null,matches:[],isDataRoute:!1}),KX=H.createContext(null);function kde(n,e){let{relative:i}=e===void 0?{}:e;W1()||Vi(!1);let{basename:r,navigator:o}=H.useContext(bf),{hash:l,pathname:c,search:u}=e3(n,{relative:i}),h=c;return r!=="/"&&(h=c==="/"?r:Am([r,c])),o.createHref({pathname:h,search:u,hash:l})}function W1(){return H.useContext(QN)!=null}function Ed(){return W1()||Vi(!1),H.useContext(QN).location}function ZX(n){H.useContext(bf).static||H.useLayoutEffect(n)}function ns(){let{isDataRoute:n}=H.useContext(kd);return n?Ude():Ede()}function Ede(){W1()||Vi(!1);let n=H.useContext(JN),{basename:e,future:i,navigator:r}=H.useContext(bf),{matches:o}=H.useContext(kd),{pathname:l}=Ed(),c=JSON.stringify(JO(o,i.v7_relativeSplatPath)),u=H.useRef(!1);return ZX(()=>{u.current=!0}),H.useCallback(function(m,g){if(g===void 0&&(g={}),!u.current)return;if(typeof m=="number"){r.go(m);return}let y=QO(m,JSON.parse(c),l,g.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Am([e,y.pathname])),(g.replace?r.replace:r.push)(y,g.state,g)},[e,r,c,l,n])}const YX=H.createContext(null);function JX(){return H.useContext(YX)}function Sde(n){let e=H.useContext(kd).outlet;return e&&H.createElement(YX.Provider,{value:n},e)}function Ade(){let{matches:n}=H.useContext(kd),e=n[n.length-1];return e?e.params:{}}function e3(n,e){let{relative:i}=e===void 0?{}:e,{future:r}=H.useContext(bf),{matches:o}=H.useContext(kd),{pathname:l}=Ed(),c=JSON.stringify(JO(o,r.v7_relativeSplatPath));return H.useMemo(()=>QO(n,JSON.parse(c),l,i==="path"),[n,c,l,i])}function Cde(n,e){return Tde(n,e)}function Tde(n,e,i,r){W1()||Vi(!1);let{navigator:o}=H.useContext(bf),{matches:l}=H.useContext(kd),c=l[l.length-1],u=c?c.params:{};c&&c.pathname;let h=c?c.pathnameBase:"/";c&&c.route;let m=Ed(),g;if(e){var y;let C=typeof e=="string"?U0(e):e;h==="/"||(y=C.pathname)!=null&&y.startsWith(h)||Vi(!1),g=C}else g=m;let v=g.pathname||"/",_=v;if(h!=="/"){let C=h.replace(/^\//,"").split("/");_="/"+v.replace(/^\//,"").split("/").slice(C.length).join("/")}let A=tde(n,{pathname:_}),S=jde(A&&A.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:Am([h,o.encodeLocation?o.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?h:Am([h,o.encodeLocation?o.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),l,i,r);return e&&S?H.createElement(QN.Provider,{value:{location:R2({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:mm.Pop}},S):S}function Dde(){let n=Fde(),e=xde(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),i?H.createElement("pre",{style:o},i):null,null)}const Nde=H.createElement(Dde,null);class Pde extends H.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,i){return i.location!==e.location||i.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:i.error,location:i.location,revalidation:e.revalidation||i.revalidation}}componentDidCatch(e,i){console.error("React Router caught the following error during render",e,i)}render(){return this.state.error!==void 0?H.createElement(kd.Provider,{value:this.props.routeContext},H.createElement(KX.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ide(n){let{routeContext:e,match:i,children:r}=n,o=H.useContext(JN);return o&&o.static&&o.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=i.route.id),H.createElement(kd.Provider,{value:e},r)}function jde(n,e,i,r){var o;if(e===void 0&&(e=[]),i===void 0&&(i=null),r===void 0&&(r=null),n==null){var l;if(!i)return null;if(i.errors)n=i.matches;else if((l=r)!=null&&l.v7_partialHydration&&e.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let c=n,u=(o=i)==null?void 0:o.errors;if(u!=null){let g=c.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);g>=0||Vi(!1),c=c.slice(0,Math.min(c.length,g+1))}let h=!1,m=-1;if(i&&r&&r.v7_partialHydration)for(let g=0;g<c.length;g++){let y=c[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:v,errors:_}=i,A=y.route.loader&&v[y.route.id]===void 0&&(!_||_[y.route.id]===void 0);if(y.route.lazy||A){h=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((g,y,v)=>{let _,A=!1,S=null,C=null;i&&(_=u&&y.route.id?u[y.route.id]:void 0,S=y.route.errorElement||Nde,h&&(m<0&&v===0?(Lde("route-fallback"),A=!0,C=null):m===v&&(A=!0,C=y.route.hydrateFallbackElement||null)));let T=e.concat(c.slice(0,v+1)),N=()=>{let I;return _?I=S:A?I=C:y.route.Component?I=H.createElement(y.route.Component,null):y.route.element?I=y.route.element:I=g,H.createElement(Ide,{match:y,routeContext:{outlet:g,matches:T,isDataRoute:i!=null},children:I})};return i&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?H.createElement(Pde,{location:i.location,revalidation:i.revalidation,component:S,error:_,children:N(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):N()},null)}var QX=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(QX||{}),eK=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(eK||{});function Rde(n){let e=H.useContext(JN);return e||Vi(!1),e}function Mde(n){let e=H.useContext(XX);return e||Vi(!1),e}function Ode(n){let e=H.useContext(kd);return e||Vi(!1),e}function tK(n){let e=Ode(),i=e.matches[e.matches.length-1];return i.route.id||Vi(!1),i.route.id}function Fde(){var n;let e=H.useContext(KX),i=Mde(),r=tK();return e!==void 0?e:(n=i.errors)==null?void 0:n[r]}function Ude(){let{router:n}=Rde(QX.UseNavigateStable),e=tK(eK.UseNavigateStable),i=H.useRef(!1);return ZX(()=>{i.current=!0}),H.useCallback(function(o,l){l===void 0&&(l={}),i.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,R2({fromRouteId:e},l)))},[n,e])}const hV={};function Lde(n,e,i){hV[n]||(hV[n]=!0)}function Bde(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function fv(n){let{to:e,replace:i,state:r,relative:o}=n;W1()||Vi(!1);let{future:l,static:c}=H.useContext(bf),{matches:u}=H.useContext(kd),{pathname:h}=Ed(),m=ns(),g=QO(e,JO(u,l.v7_relativeSplatPath),h,o==="path"),y=JSON.stringify(g);return H.useEffect(()=>m(JSON.parse(y),{replace:i,state:r,relative:o}),[m,y,o,i,r]),null}function nK(n){return Sde(n.context)}function di(n){Vi(!1)}function zde(n){let{basename:e="/",children:i=null,location:r,navigationType:o=mm.Pop,navigator:l,static:c=!1,future:u}=n;W1()&&Vi(!1);let h=e.replace(/^\/*/,"/"),m=H.useMemo(()=>({basename:h,navigator:l,static:c,future:R2({v7_relativeSplatPath:!1},u)}),[h,u,l,c]);typeof r=="string"&&(r=U0(r));let{pathname:g="/",search:y="",hash:v="",state:_=null,key:A="default"}=r,S=H.useMemo(()=>{let C=A1(g,h);return C==null?null:{location:{pathname:C,search:y,hash:v,state:_,key:A},navigationType:o}},[h,g,y,v,_,A,o]);return S==null?null:H.createElement(bf.Provider,{value:m},H.createElement(QN.Provider,{children:i,value:S}))}function Vde(n){let{children:e,location:i}=n;return Cde(HR(e),i)}new Promise(()=>{});function HR(n,e){e===void 0&&(e=[]);let i=[];return H.Children.forEach(n,(r,o)=>{if(!H.isValidElement(r))return;let l=[...e,o];if(r.type===H.Fragment){i.push.apply(i,HR(r.props.children,l));return}r.type!==di&&Vi(!1),!r.props.index||!r.props.children||Vi(!1);let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=HR(r.props.children,l)),i.push(c)}),i}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function F5(){return F5=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},F5.apply(this,arguments)}function iK(n,e){if(n==null)return{};var i={},r=Object.keys(n),o,l;for(l=0;l<r.length;l++)o=r[l],!(e.indexOf(o)>=0)&&(i[o]=n[o]);return i}function Wde(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function $de(n,e){return n.button===0&&(!e||e==="_self")&&!Wde(n)}function GR(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,i)=>{let r=n[i];return e.concat(Array.isArray(r)?r.map(o=>[i,o]):[[i,r]])},[]))}function qde(n,e){let i=GR(n);return e&&e.forEach((r,o)=>{i.has(o)||e.getAll(o).forEach(l=>{i.append(o,l)})}),i}const Hde=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Gde=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Xde="6";try{window.__reactRouterVersion=Xde}catch{}const Kde=H.createContext({isTransitioning:!1}),Zde="startTransition",fV=Y4[Zde];function Yde(n){let{basename:e,children:i,future:r,window:o}=n,l=H.useRef();l.current==null&&(l.current=Jue({window:o,v5Compat:!0}));let c=l.current,[u,h]=H.useState({action:c.action,location:c.location}),{v7_startTransition:m}=r||{},g=H.useCallback(y=>{m&&fV?fV(()=>h(y)):h(y)},[h,m]);return H.useLayoutEffect(()=>c.listen(g),[c,g]),H.useEffect(()=>Bde(r),[r]),H.createElement(zde,{basename:e,children:i,location:u.location,navigationType:u.action,navigator:c,future:r})}const Jde=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qde=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yl=H.forwardRef(function(e,i){let{onClick:r,relative:o,reloadDocument:l,replace:c,state:u,target:h,to:m,preventScrollReset:g,viewTransition:y}=e,v=iK(e,Hde),{basename:_}=H.useContext(bf),A,S=!1;if(typeof m=="string"&&Qde.test(m)&&(A=m,Jde))try{let I=new URL(window.location.href),O=m.startsWith("//")?new URL(I.protocol+m):new URL(m),F=A1(O.pathname,_);O.origin===I.origin&&F!=null?m=F+O.search+O.hash:S=!0}catch{}let C=kde(m,{relative:o}),T=the(m,{replace:c,state:u,target:h,preventScrollReset:g,relative:o,viewTransition:y});function N(I){r&&r(I),I.defaultPrevented||T(I)}return H.createElement("a",F5({},v,{href:A||C,onClick:S||l?r:N,ref:i,target:h}))}),M2=H.forwardRef(function(e,i){let{"aria-current":r="page",caseSensitive:o=!1,className:l="",end:c=!1,style:u,to:h,viewTransition:m,children:g}=e,y=iK(e,Gde),v=e3(h,{relative:y.relative}),_=Ed(),A=H.useContext(XX),{navigator:S,basename:C}=H.useContext(bf),T=A!=null&&nhe(v)&&m===!0,N=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,I=_.pathname,O=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;o||(I=I.toLowerCase(),O=O?O.toLowerCase():null,N=N.toLowerCase()),O&&C&&(O=A1(O,C)||O);const F=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let U=I===N||!c&&I.startsWith(N)&&I.charAt(F)==="/",V=O!=null&&(O===N||!c&&O.startsWith(N)&&O.charAt(N.length)==="/"),B={isActive:U,isPending:V,isTransitioning:T},Z=U?r:void 0,ae;typeof l=="function"?ae=l(B):ae=[l,U?"active":null,V?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let me=typeof u=="function"?u(B):u;return H.createElement(Yl,F5({},y,{"aria-current":Z,className:ae,ref:i,style:me,to:h,viewTransition:m}),typeof g=="function"?g(B):g)});var XR;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(XR||(XR={}));var pV;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(pV||(pV={}));function ehe(n){let e=H.useContext(JN);return e||Vi(!1),e}function the(n,e){let{target:i,replace:r,state:o,preventScrollReset:l,relative:c,viewTransition:u}=e===void 0?{}:e,h=ns(),m=Ed(),g=e3(n,{relative:c});return H.useCallback(y=>{if($de(y,i)){y.preventDefault();let v=r!==void 0?r:O5(m)===O5(g);h(n,{replace:v,state:o,preventScrollReset:l,relative:c,viewTransition:u})}},[m,h,g,r,o,i,n,l,c,u])}function rK(n){let e=H.useRef(GR(n)),i=H.useRef(!1),r=Ed(),o=H.useMemo(()=>qde(r.search,i.current?null:e.current),[r.search]),l=ns(),c=H.useCallback((u,h)=>{const m=GR(typeof u=="function"?u(o):u);i.current=!0,l("?"+m,h)},[l,o]);return[o,c]}function nhe(n,e){e===void 0&&(e={});let i=H.useContext(Kde);i==null&&Vi(!1);let{basename:r}=ehe(XR.useViewTransitionState),o=e3(n,{relative:e.relative});if(!i.isTransitioning)return!1;let l=A1(i.currentLocation.pathname,r)||i.currentLocation.pathname,c=A1(i.nextLocation.pathname,r)||i.nextLocation.pathname;return qR(o.pathname,c)!=null||qR(o.pathname,l)!=null}const ihe="modulepreload",rhe=function(n){return"/accreda.github.io/"+n},mV={},la=function(e,i,r){let o=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));o=Promise.allSettled(i.map(h=>{if(h=rhe(h),h in mV)return;mV[h]=!0;const m=h.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const y=document.createElement("link");if(y.rel=m?"stylesheet":ihe,m||(y.as="script"),y.crossOrigin="",y.href=h,u&&y.setAttribute("nonce",u),document.head.appendChild(y),m)return new Promise((v,_)=>{y.addEventListener("load",v),y.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${h}`)))})}))}function l(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return o.then(c=>{for(const u of c||[])u.status==="rejected"&&l(u.reason);return e().catch(l)})},she=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...i)=>la(async()=>{const{default:r}=await Promise.resolve().then(()=>$1);return{default:r}},void 0).then(({default:r})=>r(...i)):e=fetch,(...i)=>e(...i)};class e8 extends Error{constructor(e,i="FunctionsError",r){super(e),this.name=i,this.context=r}}class ohe extends e8{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ahe extends e8{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class lhe extends e8{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var KR;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(KR||(KR={}));var che=function(n,e,i,r){function o(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function u(g){try{m(r.next(g))}catch(y){c(y)}}function h(g){try{m(r.throw(g))}catch(y){c(y)}}function m(g){g.done?l(g.value):o(g.value).then(u,h)}m((r=r.apply(n,e||[])).next())})};class uhe{constructor(e,{headers:i={},customFetch:r,region:o=KR.Any}={}){this.url=e,this.headers=i,this.region=o,this.fetch=she(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,i={}){var r;return che(this,void 0,void 0,function*(){try{const{headers:o,method:l,body:c}=i;let u={},{region:h}=i;h||(h=this.region),h&&h!=="any"&&(u["x-region"]=h);let m;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(u["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(u["Content-Type"]="application/json",m=JSON.stringify(c)));const g=yield this.fetch(`${this.url}/${e}`,{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),o),body:m}).catch(A=>{throw new ohe(A)}),y=g.headers.get("x-relay-error");if(y&&y==="true")throw new ahe(g);if(!g.ok)throw new lhe(g);let v=((r=g.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),_;return v==="application/json"?_=yield g.json():v==="application/octet-stream"?_=yield g.blob():v==="text/event-stream"?_=g:v==="multipart/form-data"?_=yield g.formData():_=yield g.text(),{data:_,error:null}}catch(o){return{data:null,error:o}}})}}var ta={},t8={},t3={},FS={},n3={},i3={},dhe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},C1=dhe();const hhe=C1.fetch,sK=C1.fetch.bind(C1),oK=C1.Headers,fhe=C1.Request,phe=C1.Response,$1=Object.freeze(Object.defineProperty({__proto__:null,Headers:oK,Request:fhe,Response:phe,default:sK,fetch:hhe},Symbol.toStringTag,{value:"Module"})),mhe=PH($1);var r3={};Object.defineProperty(r3,"__esModule",{value:!0});let ghe=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};r3.default=ghe;var aK=Lt&&Lt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(i3,"__esModule",{value:!0});const bhe=aK(mhe),yhe=aK(r3);let vhe=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=bhe.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,i){return this.headers=Object.assign({},this.headers),this.headers[e]=i,this}then(e,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,u,h;let m=null,g=null,y=null,v=l.status,_=l.statusText;if(l.ok){if(this.method!=="HEAD"){const T=await l.text();T===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?g=T:g=JSON.parse(T))}const S=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),C=(u=l.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");S&&C&&C.length>1&&(y=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(m={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,y=null,v=406,_="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const S=await l.text();try{m=JSON.parse(S),Array.isArray(m)&&l.status===404&&(g=[],m=null,v=200,_="OK")}catch{l.status===404&&S===""?(v=204,_="No Content"):m={message:S}}if(m&&this.isMaybeSingle&&(!((h=m==null?void 0:m.details)===null||h===void 0)&&h.includes("0 rows"))&&(m=null,v=200,_="OK"),m&&this.shouldThrowOnError)throw new yhe.default(m)}return{error:m,data:g,count:y,status:v,statusText:_}});return this.shouldThrowOnError||(o=o.catch(l=>{var c,u,h;return{error:{message:`${(c=l==null?void 0:l.name)!==null&&c!==void 0?c:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(u=l==null?void 0:l.stack)!==null&&u!==void 0?u:""}`,hint:"",code:`${(h=l==null?void 0:l.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),o.then(e,i)}returns(){return this}overrideTypes(){return this}};i3.default=vhe;var whe=Lt&&Lt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(n3,"__esModule",{value:!0});const xhe=whe(i3);let _he=class extends xhe.default{select(e){let i=!1;const r=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:i=!0,nullsFirst:r,foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${e}.${i?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:i,referencedTable:r=i}={}){const o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this}range(e,i,{foreignTable:r,referencedTable:o=r}={}){const l=typeof o>"u"?"offset":`${o}.offset`,c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${e}`),this.url.searchParams.set(c,`${i-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:i=!1,settings:r=!1,buffers:o=!1,wal:l=!1,format:c="text"}={}){var u;const h=[e?"analyze":null,i?"verbose":null,r?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),m=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${m}"; options=${h};`,c==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};n3.default=_he;var khe=Lt&&Lt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(FS,"__esModule",{value:!0});const Ehe=khe(n3);let She=class extends Ehe.default{eq(e,i){return this.url.searchParams.append(e,`eq.${i}`),this}neq(e,i){return this.url.searchParams.append(e,`neq.${i}`),this}gt(e,i){return this.url.searchParams.append(e,`gt.${i}`),this}gte(e,i){return this.url.searchParams.append(e,`gte.${i}`),this}lt(e,i){return this.url.searchParams.append(e,`lt.${i}`),this}lte(e,i){return this.url.searchParams.append(e,`lte.${i}`),this}like(e,i){return this.url.searchParams.append(e,`like.${i}`),this}likeAllOf(e,i){return this.url.searchParams.append(e,`like(all).{${i.join(",")}}`),this}likeAnyOf(e,i){return this.url.searchParams.append(e,`like(any).{${i.join(",")}}`),this}ilike(e,i){return this.url.searchParams.append(e,`ilike.${i}`),this}ilikeAllOf(e,i){return this.url.searchParams.append(e,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(e,i){return this.url.searchParams.append(e,`ilike(any).{${i.join(",")}}`),this}is(e,i){return this.url.searchParams.append(e,`is.${i}`),this}in(e,i){const r=Array.from(new Set(i)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,i){return typeof i=="string"?this.url.searchParams.append(e,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(e,`cs.{${i.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(i)}`),this}containedBy(e,i){return typeof i=="string"?this.url.searchParams.append(e,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(e,`cd.{${i.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(i)}`),this}rangeGt(e,i){return this.url.searchParams.append(e,`sr.${i}`),this}rangeGte(e,i){return this.url.searchParams.append(e,`nxl.${i}`),this}rangeLt(e,i){return this.url.searchParams.append(e,`sl.${i}`),this}rangeLte(e,i){return this.url.searchParams.append(e,`nxr.${i}`),this}rangeAdjacent(e,i){return this.url.searchParams.append(e,`adj.${i}`),this}overlaps(e,i){return typeof i=="string"?this.url.searchParams.append(e,`ov.${i}`):this.url.searchParams.append(e,`ov.{${i.join(",")}}`),this}textSearch(e,i,{config:r,type:o}={}){let l="";o==="plain"?l="pl":o==="phrase"?l="ph":o==="websearch"&&(l="w");const c=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${l}fts${c}.${i}`),this}match(e){return Object.entries(e).forEach(([i,r])=>{this.url.searchParams.append(i,`eq.${r}`)}),this}not(e,i,r){return this.url.searchParams.append(e,`not.${i}.${r}`),this}or(e,{foreignTable:i,referencedTable:r=i}={}){const o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${e})`),this}filter(e,i,r){return this.url.searchParams.append(e,`${i}.${r}`),this}};FS.default=She;var Ahe=Lt&&Lt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t3,"__esModule",{value:!0});const hk=Ahe(FS);let Che=class{constructor(e,{headers:i={},schema:r,fetch:o}){this.url=e,this.headers=i,this.schema=r,this.fetch=o}select(e,{head:i=!1,count:r}={}){const o=i?"HEAD":"GET";let l=!1;const c=(e??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),r&&(this.headers.Prefer=`count=${r}`),new hk.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:i,defaultToNull:r=!0}={}){const o="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),r||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const c=e.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new hk.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:i,ignoreDuplicates:r=!1,count:o,defaultToNull:l=!0}={}){const c="POST",u=[`resolution=${r?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&u.push(this.headers.Prefer),o&&u.push(`count=${o}`),l||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(e)){const h=e.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(h.length>0){const m=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",m.join(","))}}return new hk.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:i}={}){const r="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),this.headers.Prefer=o.join(","),new hk.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const i="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new hk.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};t3.default=Che;var s3={},o3={};Object.defineProperty(o3,"__esModule",{value:!0});o3.version=void 0;o3.version="0.0.0-automated";Object.defineProperty(s3,"__esModule",{value:!0});s3.DEFAULT_HEADERS=void 0;const The=o3;s3.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${The.version}`};var lK=Lt&&Lt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t8,"__esModule",{value:!0});const Dhe=lK(t3),Nhe=lK(FS),Phe=s3;let Ihe=class cK{constructor(e,{headers:i={},schema:r,fetch:o}={}){this.url=e,this.headers=Object.assign(Object.assign({},Phe.DEFAULT_HEADERS),i),this.schemaName=r,this.fetch=o}from(e){const i=new URL(`${this.url}/${e}`);return new Dhe.default(i,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new cK(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,i={},{head:r=!1,get:o=!1,count:l}={}){let c;const u=new URL(`${this.url}/rpc/${e}`);let h;r||o?(c=r?"HEAD":"GET",Object.entries(i).filter(([g,y])=>y!==void 0).map(([g,y])=>[g,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([g,y])=>{u.searchParams.append(g,y)})):(c="POST",h=i);const m=Object.assign({},this.headers);return l&&(m.Prefer=`count=${l}`),new Nhe.default({method:c,url:u,headers:m,schema:this.schemaName,body:h,fetch:this.fetch,allowEmpty:!1})}};t8.default=Ihe;var q1=Lt&&Lt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ta,"__esModule",{value:!0});ta.PostgrestError=ta.PostgrestBuilder=ta.PostgrestTransformBuilder=ta.PostgrestFilterBuilder=ta.PostgrestQueryBuilder=ta.PostgrestClient=void 0;const uK=q1(t8);ta.PostgrestClient=uK.default;const dK=q1(t3);ta.PostgrestQueryBuilder=dK.default;const hK=q1(FS);ta.PostgrestFilterBuilder=hK.default;const fK=q1(n3);ta.PostgrestTransformBuilder=fK.default;const pK=q1(i3);ta.PostgrestBuilder=pK.default;const mK=q1(r3);ta.PostgrestError=mK.default;var jhe=ta.default={PostgrestClient:uK.default,PostgrestQueryBuilder:dK.default,PostgrestFilterBuilder:hK.default,PostgrestTransformBuilder:fK.default,PostgrestBuilder:pK.default,PostgrestError:mK.default};const{PostgrestClient:Rhe,PostgrestQueryBuilder:OTe,PostgrestFilterBuilder:FTe,PostgrestTransformBuilder:UTe,PostgrestBuilder:LTe,PostgrestError:BTe}=jhe,Mhe="2.11.2",Ohe={"X-Client-Info":`realtime-js/${Mhe}`},Fhe="1.0.0",gK=1e4,Uhe=1e3;var ow;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(ow||(ow={}));var ja;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(ja||(ja={}));var Hc;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Hc||(Hc={}));var ZR;(function(n){n.websocket="websocket"})(ZR||(ZR={}));var ib;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(ib||(ib={}));class Lhe{constructor(){this.HEADER_LENGTH=1}decode(e,i){return e.constructor===ArrayBuffer?i(this._binaryDecode(e)):i(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const i=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,i,r)}_decodeBroadcast(e,i,r){const o=i.getUint8(1),l=i.getUint8(2);let c=this.HEADER_LENGTH+2;const u=r.decode(e.slice(c,c+o));c=c+o;const h=r.decode(e.slice(c,c+l));c=c+l;const m=JSON.parse(r.decode(e.slice(c,e.byteLength)));return{ref:null,topic:u,event:h,payload:m}}}class bK{constructor(e,i){this.callback=e,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var hi;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(hi||(hi={}));const gV=(n,e,i={})=>{var r;const o=(r=i.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((l,c)=>(l[c]=Bhe(c,n,e,o),l),{})},Bhe=(n,e,i,r)=>{const o=e.find(u=>u.name===n),l=o==null?void 0:o.type,c=i[n];return l&&!r.includes(l)?yK(l,c):YR(c)},yK=(n,e)=>{if(n.charAt(0)==="_"){const i=n.slice(1,n.length);return $he(e,i)}switch(n){case hi.bool:return zhe(e);case hi.float4:case hi.float8:case hi.int2:case hi.int4:case hi.int8:case hi.numeric:case hi.oid:return Vhe(e);case hi.json:case hi.jsonb:return Whe(e);case hi.timestamp:return qhe(e);case hi.abstime:case hi.date:case hi.daterange:case hi.int4range:case hi.int8range:case hi.money:case hi.reltime:case hi.text:case hi.time:case hi.timestamptz:case hi.timetz:case hi.tsrange:case hi.tstzrange:return YR(e);default:return YR(e)}},YR=n=>n,zhe=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Vhe=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},Whe=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},$he=(n,e)=>{if(typeof n!="string")return n;const i=n.length-1,r=n[i];if(n[0]==="{"&&r==="}"){let l;const c=n.slice(1,i);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(u=>yK(e,u))}return n},qhe=n=>typeof n=="string"?n.replace(" ","T"):n,vK=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class cj{constructor(e,i,r={},o=gK){this.channel=e,this.event=i,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,i){var r;return this._hasReceived(e)&&i((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:i}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(i))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var bV;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(bV||(bV={}));class s2{constructor(e,i){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(i==null?void 0:i.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:l,onLeave:c,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=s2.syncState(this.state,o,l,c),this.pendingDiffs.forEach(h=>{this.state=s2.syncDiff(this.state,h,l,c)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},o=>{const{onJoin:l,onLeave:c,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=s2.syncDiff(this.state,o,l,c),u())}),this.onJoin((o,l,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:c})}),this.onLeave((o,l,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,i,r,o){const l=this.cloneDeep(e),c=this.transformState(i),u={},h={};return this.map(l,(m,g)=>{c[m]||(h[m]=g)}),this.map(c,(m,g)=>{const y=l[m];if(y){const v=g.map(C=>C.presence_ref),_=y.map(C=>C.presence_ref),A=g.filter(C=>_.indexOf(C.presence_ref)<0),S=y.filter(C=>v.indexOf(C.presence_ref)<0);A.length>0&&(u[m]=A),S.length>0&&(h[m]=S)}else u[m]=g}),this.syncDiff(l,{joins:u,leaves:h},r,o)}static syncDiff(e,i,r,o){const{joins:l,leaves:c}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(l,(u,h)=>{var m;const g=(m=e[u])!==null&&m!==void 0?m:[];if(e[u]=this.cloneDeep(h),g.length>0){const y=e[u].map(_=>_.presence_ref),v=g.filter(_=>y.indexOf(_.presence_ref)<0);e[u].unshift(...v)}r(u,g,h)}),this.map(c,(u,h)=>{let m=e[u];if(!m)return;const g=h.map(y=>y.presence_ref);m=m.filter(y=>g.indexOf(y.presence_ref)<0),e[u]=m,o(u,m,h),m.length===0&&delete e[u]}),e}static map(e,i){return Object.getOwnPropertyNames(e).map(r=>i(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((i,r)=>{const o=e[r];return"metas"in o?i[r]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):i[r]=o,i},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yV;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(yV||(yV={}));var vV;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(vV||(vV={}));var bh;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(bh||(bh={}));class n8{constructor(e,i={config:{}},r){this.topic=e,this.params=i,this.socket=r,this.bindings={},this.state=ja.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new cj(this,Hc.join,this.params,this.timeout),this.rejoinTimer=new bK(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ja.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ja.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ja.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ja.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Hc.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new s2(this),this.broadcastEndpointURL=vK(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,i=this.timeout){var r,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:l,presence:c,private:u}}=this.params;this._onError(g=>e==null?void 0:e(bh.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(bh.CLOSED));const h={},m={broadcast:l,presence:c,postgres_changes:(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&o!==void 0?o:[],private:u};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:g})=>{var y;if(this.socket.setAuth(),g===void 0){e==null||e(bh.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,_=(y=v==null?void 0:v.length)!==null&&y!==void 0?y:0,A=[];for(let S=0;S<_;S++){const C=v[S],{filter:{event:T,schema:N,table:I,filter:O}}=C,F=g&&g[S];if(F&&F.event===T&&F.schema===N&&F.table===I&&F.filter===O)A.push(Object.assign(Object.assign({},C),{id:F.id}));else{this.unsubscribe(),e==null||e(bh.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,e&&e(bh.SUBSCRIBED);return}}).receive("error",g=>{e==null||e(bh.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(bh.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,i={}){return await this.send({type:"presence",event:"track",payload:e},i.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,i,r){return this._on(e,i,r)}async send(e,i={}){var r,o;if(!this._canPush()&&e.type==="broadcast"){const{event:l,payload:c}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(r=i.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,u,h;const m=this._push(e.type,e,i.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(u=(c=this.params)===null||c===void 0?void 0:c.config)===null||u===void 0?void 0:u.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ja.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Hc.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const o=new cj(this,Hc.leave,{},e);o.receive("ok",()=>{i(),r("ok")}).receive("timeout",()=>{i(),r("timed out")}).receive("error",()=>{r("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}async _fetchWithTimeout(e,i,r){const o=new AbortController,l=setTimeout(()=>o.abort(),r),c=await this.socket.fetch(e,Object.assign(Object.assign({},i),{signal:o.signal}));return clearTimeout(l),c}_push(e,i,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new cj(this,e,i,r);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(e,i,r){return i}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,i,r){var o,l;const c=e.toLocaleLowerCase(),{close:u,error:h,leave:m,join:g}=Hc;if(r&&[u,h,m,g].indexOf(c)>=0&&r!==this._joinRef())return;let v=this._onMessage(c,i,r);if(i&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(_=>{var A,S,C;return((A=_.filter)===null||A===void 0?void 0:A.event)==="*"||((C=(S=_.filter)===null||S===void 0?void 0:S.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===c}).map(_=>_.callback(v,r)):(l=this.bindings[c])===null||l===void 0||l.filter(_=>{var A,S,C,T,N,I;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in _){const O=_.id,F=(A=_.filter)===null||A===void 0?void 0:A.event;return O&&((S=i.ids)===null||S===void 0?void 0:S.includes(O))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((C=i.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const O=(N=(T=_==null?void 0:_.filter)===null||T===void 0?void 0:T.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return O==="*"||O===((I=i==null?void 0:i.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===c}).map(_=>{if(typeof v=="object"&&"ids"in v){const A=v.data,{schema:S,table:C,commit_timestamp:T,type:N,errors:I}=A;v=Object.assign(Object.assign({},{schema:S,table:C,commit_timestamp:T,eventType:N,new:{},old:{},errors:I}),this._getPayloadRecords(A))}_.callback(v,r)})}_isClosed(){return this.state===ja.closed}_isJoined(){return this.state===ja.joined}_isJoining(){return this.state===ja.joining}_isLeaving(){return this.state===ja.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,i,r){const o=e.toLocaleLowerCase(),l={type:o,filter:i,callback:r};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,i){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===r&&n8.isEqual(o.filter,i))}),this}static isEqual(e,i){if(Object.keys(e).length!==Object.keys(i).length)return!1;for(const r in e)if(e[r]!==i[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Hc.close,{},e)}_onError(e){this._on(Hc.error,{},i=>e(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ja.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const i={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(i.new=gV(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(i.old=gV(e.columns,e.old_record)),i}}const Hhe=()=>{},Ghe=typeof WebSocket<"u",Xhe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Khe{constructor(e,i){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Ohe,this.params={},this.timeout=gK,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Hhe,this.conn=null,this.sendBuffer=[],this.serializer=new Lhe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=l=>{let c;return l?c=l:typeof fetch>"u"?c=(...u)=>la(async()=>{const{default:h}=await Promise.resolve().then(()=>$1);return{default:h}},void 0).then(({default:h})=>h(...u)):c=fetch,(...u)=>c(...u)},this.endPoint=`${e}/${ZR.websocket}`,this.httpEndpoint=vK(e),i!=null&&i.transport?this.transport=i.transport:this.transport=null,i!=null&&i.params&&(this.params=i.params),i!=null&&i.headers&&(this.headers=Object.assign(Object.assign({},this.headers),i.headers)),i!=null&&i.timeout&&(this.timeout=i.timeout),i!=null&&i.logger&&(this.logger=i.logger),i!=null&&i.heartbeatIntervalMs&&(this.heartbeatIntervalMs=i.heartbeatIntervalMs);const o=(r=i==null?void 0:i.params)===null||r===void 0?void 0:r.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=i!=null&&i.reconnectAfterMs?i.reconnectAfterMs:l=>[1e3,2e3,5e3,1e4][l-1]||1e4,this.encode=i!=null&&i.encode?i.encode:(l,c)=>c(JSON.stringify(l)),this.decode=i!=null&&i.decode?i.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new bK(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(i==null?void 0:i.fetch),i!=null&&i.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(i==null?void 0:i.worker)||!1,this.workerUrl=i==null?void 0:i.workerUrl}this.accessToken=(i==null?void 0:i.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Ghe){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Zhe(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),la(async()=>{const{default:e}=await import("./browser-DgkjzqtR.js").then(i=>i.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Fhe}))}disconnect(e,i){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,i??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const i=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const e=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.disconnect(),e}log(e,i,r){this.logger(e,i,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ow.connecting:return ib.Connecting;case ow.open:return ib.Open;case ow.closing:return ib.Closing;default:return ib.Closed}}isConnected(){return this.connectionState()===ib.Open}channel(e,i={config:{}}){const r=new n8(`realtime:${e}`,i,this);return this.channels.push(r),r}push(e){const{topic:i,event:r,payload:o,ref:l}=e,c=()=>{this.encode(e,u=>{var h;(h=this.conn)===null||h===void 0||h.send(u)})};this.log("push",`${i} ${r} (${l})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){let i=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(i){let r=null;try{r=JSON.parse(atob(i.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=i,this.channels.forEach(o=>{i&&o.updateJoinPayload({access_token:i}),o.joinedOnce&&o._isJoined()&&o._push(Hc.access_token,{access_token:i})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Uhe,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let i=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${e}"`),i.unsubscribe())}_remove(e){this.channels=this.channels.filter(i=>i._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,i=>{let{topic:r,event:o,payload:l,ref:c}=i;c&&c===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${l.status||""} ${r} ${o} ${c&&"("+c+")"||""}`,l),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(o,l,c)),this.stateChangeCallbacks.message.forEach(u=>u(i))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(i=>i(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(i=>i(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Hc.error))}_appendParams(e,i){if(Object.keys(i).length===0)return e;const r=e.match(/\?/)?"&":"?",o=new URLSearchParams(i);return`${e}${r}${o}`}_workerObjectUrl(e){let i;if(e)i=e;else{const r=new Blob([Xhe],{type:"application/javascript"});i=URL.createObjectURL(r)}return i}}class Zhe{constructor(e,i,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ow.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class i8 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Yr(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class Yhe extends i8{constructor(e,i){super(e),this.name="StorageApiError",this.status=i}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class JR extends i8{constructor(e,i){super(e),this.name="StorageUnknownError",this.originalError=i}}var Jhe=function(n,e,i,r){function o(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function u(g){try{m(r.next(g))}catch(y){c(y)}}function h(g){try{m(r.throw(g))}catch(y){c(y)}}function m(g){g.done?l(g.value):o(g.value).then(u,h)}m((r=r.apply(n,e||[])).next())})};const wK=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...i)=>la(async()=>{const{default:r}=await Promise.resolve().then(()=>$1);return{default:r}},void 0).then(({default:r})=>r(...i)):e=fetch,(...i)=>e(...i)},Qhe=()=>Jhe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield la(()=>Promise.resolve().then(()=>$1),void 0)).Response:Response}),QR=n=>{if(Array.isArray(n))return n.map(i=>QR(i));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([i,r])=>{const o=i.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=QR(r)}),e};var L0=function(n,e,i,r){function o(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function u(g){try{m(r.next(g))}catch(y){c(y)}}function h(g){try{m(r.throw(g))}catch(y){c(y)}}function m(g){g.done?l(g.value):o(g.value).then(u,h)}m((r=r.apply(n,e||[])).next())})};const uj=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),efe=(n,e,i)=>L0(void 0,void 0,void 0,function*(){const r=yield Qhe();n instanceof r&&!(i!=null&&i.noResolveJson)?n.json().then(o=>{e(new Yhe(uj(o),n.status||500))}).catch(o=>{e(new JR(uj(o),o))}):e(new JR(uj(n),n))}),tfe=(n,e,i,r)=>{const o={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(o.body=JSON.stringify(r)),Object.assign(Object.assign({},o),i))};function US(n,e,i,r,o,l){return L0(this,void 0,void 0,function*(){return new Promise((c,u)=>{n(i,tfe(e,r,o,l)).then(h=>{if(!h.ok)throw h;return r!=null&&r.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>efe(h,u,r))})})}function U5(n,e,i,r){return L0(this,void 0,void 0,function*(){return US(n,"GET",e,i,r)})}function Ep(n,e,i,r,o){return L0(this,void 0,void 0,function*(){return US(n,"POST",e,r,o,i)})}function nfe(n,e,i,r,o){return L0(this,void 0,void 0,function*(){return US(n,"PUT",e,r,o,i)})}function ife(n,e,i,r){return L0(this,void 0,void 0,function*(){return US(n,"HEAD",e,Object.assign(Object.assign({},i),{noResolveJson:!0}),r)})}function xK(n,e,i,r,o){return L0(this,void 0,void 0,function*(){return US(n,"DELETE",e,r,o,i)})}var Ho=function(n,e,i,r){function o(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function u(g){try{m(r.next(g))}catch(y){c(y)}}function h(g){try{m(r.throw(g))}catch(y){c(y)}}function m(g){g.done?l(g.value):o(g.value).then(u,h)}m((r=r.apply(n,e||[])).next())})};const rfe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wV={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class sfe{constructor(e,i={},r,o){this.url=e,this.headers=i,this.bucketId=r,this.fetch=wK(o)}uploadOrUpdate(e,i,r,o){return Ho(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},wV),o);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),h&&l.append("metadata",this.encodeMetadata(h)),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl),h&&l.append("metadata",this.encodeMetadata(h))):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType,h&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),o!=null&&o.headers&&(u=Object.assign(Object.assign({},u),o.headers));const m=this._removeEmptyFolders(i),g=this._getFinalPath(m),y=yield this.fetch(`${this.url}/object/${g}`,Object.assign({method:e,body:l,headers:u},c!=null&&c.duplex?{duplex:c.duplex}:{})),v=yield y.json();return y.ok?{data:{path:m,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(l){if(Yr(l))return{data:null,error:l};throw l}})}upload(e,i,r){return Ho(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,i,r)})}uploadToSignedUrl(e,i,r,o){return Ho(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),u=new URL(this.url+`/object/upload/sign/${c}`);u.searchParams.set("token",i);try{let h;const m=Object.assign({upsert:wV.upsert},o),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.append("cacheControl",m.cacheControl)):(h=r,g["cache-control"]=`max-age=${m.cacheControl}`,g["content-type"]=m.contentType);const y=yield this.fetch(u.toString(),{method:"PUT",body:h,headers:g}),v=yield y.json();return y.ok?{data:{path:l,fullPath:v.Key},error:null}:{data:null,error:v}}catch(h){if(Yr(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,i){return Ho(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const o=Object.assign({},this.headers);i!=null&&i.upsert&&(o["x-upsert"]="true");const l=yield Ep(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),c=new URL(this.url+l.url),u=c.searchParams.get("token");if(!u)throw new i8("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:u},error:null}}catch(r){if(Yr(r))return{data:null,error:r};throw r}})}update(e,i,r){return Ho(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,i,r)})}move(e,i,r){return Ho(this,void 0,void 0,function*(){try{return{data:yield Ep(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:i,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(Yr(o))return{data:null,error:o};throw o}})}copy(e,i,r){return Ho(this,void 0,void 0,function*(){try{return{data:{path:(yield Ep(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:i,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(Yr(o))return{data:null,error:o};throw o}})}createSignedUrl(e,i,r){return Ho(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),l=yield Ep(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:i},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const c=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(o){if(Yr(o))return{data:null,error:o};throw o}})}createSignedUrls(e,i,r){return Ho(this,void 0,void 0,function*(){try{const o=yield Ep(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:e},{headers:this.headers}),l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(o){if(Yr(o))return{data:null,error:o};throw o}})}download(e,i){return Ho(this,void 0,void 0,function*(){const o=typeof(i==null?void 0:i.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((i==null?void 0:i.transform)||{}),c=l?`?${l}`:"";try{const u=this._getFinalPath(e);return{data:yield(yield U5(this.fetch,`${this.url}/${o}/${u}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(Yr(u))return{data:null,error:u};throw u}})}info(e){return Ho(this,void 0,void 0,function*(){const i=this._getFinalPath(e);try{const r=yield U5(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:QR(r),error:null}}catch(r){if(Yr(r))return{data:null,error:r};throw r}})}exists(e){return Ho(this,void 0,void 0,function*(){const i=this._getFinalPath(e);try{return yield ife(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Yr(r)&&r instanceof JR){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,i){const r=this._getFinalPath(e),o=[],l=i!=null&&i.download?`download=${i.download===!0?"":i.download}`:"";l!==""&&o.push(l);const u=typeof(i==null?void 0:i.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((i==null?void 0:i.transform)||{});h!==""&&o.push(h);let m=o.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${m}`)}}}remove(e){return Ho(this,void 0,void 0,function*(){try{return{data:yield xK(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(i){if(Yr(i))return{data:null,error:i};throw i}})}list(e,i,r){return Ho(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},rfe),i),{prefix:e||""});return{data:yield Ep(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(Yr(o))return{data:null,error:o};throw o}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const i=[];return e.width&&i.push(`width=${e.width}`),e.height&&i.push(`height=${e.height}`),e.resize&&i.push(`resize=${e.resize}`),e.format&&i.push(`format=${e.format}`),e.quality&&i.push(`quality=${e.quality}`),i.join("&")}}const ofe="2.7.1",afe={"X-Client-Info":`storage-js/${ofe}`};var pv=function(n,e,i,r){function o(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function u(g){try{m(r.next(g))}catch(y){c(y)}}function h(g){try{m(r.throw(g))}catch(y){c(y)}}function m(g){g.done?l(g.value):o(g.value).then(u,h)}m((r=r.apply(n,e||[])).next())})};class lfe{constructor(e,i={},r){this.url=e,this.headers=Object.assign(Object.assign({},afe),i),this.fetch=wK(r)}listBuckets(){return pv(this,void 0,void 0,function*(){try{return{data:yield U5(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Yr(e))return{data:null,error:e};throw e}})}getBucket(e){return pv(this,void 0,void 0,function*(){try{return{data:yield U5(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(i){if(Yr(i))return{data:null,error:i};throw i}})}createBucket(e,i={public:!1}){return pv(this,void 0,void 0,function*(){try{return{data:yield Ep(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Yr(r))return{data:null,error:r};throw r}})}updateBucket(e,i){return pv(this,void 0,void 0,function*(){try{return{data:yield nfe(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Yr(r))return{data:null,error:r};throw r}})}emptyBucket(e){return pv(this,void 0,void 0,function*(){try{return{data:yield Ep(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(Yr(i))return{data:null,error:i};throw i}})}deleteBucket(e){return pv(this,void 0,void 0,function*(){try{return{data:yield xK(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(i){if(Yr(i))return{data:null,error:i};throw i}})}}class cfe extends lfe{constructor(e,i={},r){super(e,i,r)}from(e){return new sfe(this.url,this.headers,e,this.fetch)}}const ufe="2.49.8";let Nk="";typeof Deno<"u"?Nk="deno":typeof document<"u"?Nk="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Nk="react-native":Nk="node";const dfe={"X-Client-Info":`supabase-js-${Nk}/${ufe}`},hfe={headers:dfe},ffe={schema:"public"},pfe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mfe={};var gfe=function(n,e,i,r){function o(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function u(g){try{m(r.next(g))}catch(y){c(y)}}function h(g){try{m(r.throw(g))}catch(y){c(y)}}function m(g){g.done?l(g.value):o(g.value).then(u,h)}m((r=r.apply(n,e||[])).next())})};const bfe=n=>{let e;return n?e=n:typeof fetch>"u"?e=sK:e=fetch,(...i)=>e(...i)},yfe=()=>typeof Headers>"u"?oK:Headers,vfe=(n,e,i)=>{const r=bfe(i),o=yfe();return(l,c)=>gfe(void 0,void 0,void 0,function*(){var u;const h=(u=yield e())!==null&&u!==void 0?u:n;let m=new o(c==null?void 0:c.headers);return m.has("apikey")||m.set("apikey",n),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),r(l,Object.assign(Object.assign({},c),{headers:m}))})};var wfe=function(n,e,i,r){function o(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function u(g){try{m(r.next(g))}catch(y){c(y)}}function h(g){try{m(r.throw(g))}catch(y){c(y)}}function m(g){g.done?l(g.value):o(g.value).then(u,h)}m((r=r.apply(n,e||[])).next())})};function xfe(n){return n.endsWith("/")?n:n+"/"}function _fe(n,e){var i,r;const{db:o,auth:l,realtime:c,global:u}=n,{db:h,auth:m,realtime:g,global:y}=e,v={db:Object.assign(Object.assign({},h),o),auth:Object.assign(Object.assign({},m),l),realtime:Object.assign(Object.assign({},g),c),global:Object.assign(Object.assign(Object.assign({},y),u),{headers:Object.assign(Object.assign({},(i=y==null?void 0:y.headers)!==null&&i!==void 0?i:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>wfe(this,void 0,void 0,function*(){return""})};return n.accessToken?v.accessToken=n.accessToken:delete v.accessToken,v}const _K="2.69.1",_v=30*1e3,eM=3,dj=eM*_v,kfe="http://localhost:9999",Efe="supabase.auth.token",Sfe={"X-Client-Info":`gotrue-js/${_K}`},tM="X-Supabase-Api-Version",kK={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Afe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Cfe=6e5;class r8 extends Error{constructor(e,i,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=r}}function pn(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class Tfe extends r8{constructor(e,i,r){super(e,i,r),this.name="AuthApiError",this.status=i,this.code=r}}function Dfe(n){return pn(n)&&n.name==="AuthApiError"}class EK extends r8{constructor(e,i){super(e),this.name="AuthUnknownError",this.originalError=i}}class Wm extends r8{constructor(e,i,r,o){super(e,r,o),this.name=i,this.status=r}}class yp extends Wm{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Nfe(n){return pn(n)&&n.name==="AuthSessionMissingError"}class hj extends Wm{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zT extends Wm{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class VT extends Wm{constructor(e,i=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Pfe(n){return pn(n)&&n.name==="AuthImplicitGrantRedirectError"}class xV extends Wm{constructor(e,i=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class nM extends Wm{constructor(e,i){super(e,"AuthRetryableFetchError",i,void 0)}}function fj(n){return pn(n)&&n.name==="AuthRetryableFetchError"}class _V extends Wm{constructor(e,i,r){super(e,"AuthWeakPasswordError",i,"weak_password"),this.reasons=r}}class o2 extends Wm{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const kV="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),EV=` 	
\r=`.split(""),Ife=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<EV.length;e+=1)n[EV[e].charCodeAt(0)]=-2;for(let e=0;e<kV.length;e+=1)n[kV[e].charCodeAt(0)]=e;return n})();function SK(n,e,i){const r=Ife[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)i(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function SV(n){const e=[],i=c=>{e.push(String.fromCodePoint(c))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=c=>{Mfe(c,r,i)};for(let c=0;c<n.length;c+=1)SK(n.charCodeAt(c),o,l);return e.join("")}function jfe(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function Rfe(n,e){for(let i=0;i<n.length;i+=1){let r=n.charCodeAt(i);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(n.charCodeAt(i+1)-56320&65535|o)+65536,i+=1}jfe(r,e)}}function Mfe(n,e,i){if(e.utf8seq===0){if(n<=127){i(n);return}for(let r=1;r<6;r+=1)if(!(n>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&i(e.codepoint)}}function Ofe(n){const e=[],i={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<n.length;o+=1)SK(n.charCodeAt(o),i,r);return new Uint8Array(e)}function Ffe(n){const e=[];return Rfe(n,i=>e.push(i)),new Uint8Array(e)}function Ufe(n){return Math.round(Date.now()/1e3)+n}function Lfe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const qu=()=>typeof window<"u"&&typeof document<"u",Gg={tested:!1,writable:!1},a2=()=>{if(!qu())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gg.tested)return Gg.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Gg.tested=!0,Gg.writable=!0}catch{Gg.tested=!0,Gg.writable=!1}return Gg.writable};function Bfe(n){const e={},i=new URL(n);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return i.searchParams.forEach((r,o)=>{e[o]=r}),e}const AK=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...i)=>la(async()=>{const{default:r}=await Promise.resolve().then(()=>$1);return{default:r}},void 0).then(({default:r})=>r(...i)):e=fetch,(...i)=>e(...i)},zfe=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",CK=async(n,e,i)=>{await n.setItem(e,JSON.stringify(i))},WT=async(n,e)=>{const i=await n.getItem(e);if(!i)return null;try{return JSON.parse(i)}catch{return i}},$T=async(n,e)=>{await n.removeItem(e)};class a3{constructor(){this.promise=new a3.promiseConstructor((e,i)=>{this.resolve=e,this.reject=i})}}a3.promiseConstructor=Promise;function pj(n){const e=n.split(".");if(e.length!==3)throw new o2("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Afe.test(e[r]))throw new o2("JWT not in base64url format");return{header:JSON.parse(SV(e[0])),payload:JSON.parse(SV(e[1])),signature:Ofe(e[2]),raw:{header:e[0],payload:e[1]}}}async function Vfe(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function Wfe(n,e){return new Promise((r,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await n(l);if(!e(l,null,c)){r(c);return}}catch(c){if(!e(l,c)){o(c);return}}})()})}function $fe(n){return("0"+n.toString(16)).substr(-2)}function qfe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=i.length;let o="";for(let l=0;l<56;l++)o+=i.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,$fe).join("")}async function Hfe(n){const i=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",i),o=new Uint8Array(r);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function Gfe(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const i=await Hfe(n);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function mv(n,e,i=!1){const r=qfe();let o=r;i&&(o+="/PASSWORD_RECOVERY"),await CK(n,`${e}-code-verifier`,o);const l=await Gfe(r);return[l,r===l?"plain":"s256"]}const Xfe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Kfe(n){const e=n.headers.get(tM);if(!e||!e.match(Xfe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Zfe(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function Yfe(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Jfe=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const Jg=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Qfe=[502,503,504];async function AV(n){var e;if(!zfe(n))throw new nM(Jg(n),0);if(Qfe.includes(n.status))throw new nM(Jg(n),n.status);let i;try{i=await n.json()}catch(l){throw new EK(Jg(l),l)}let r;const o=Kfe(n);if(o&&o.getTime()>=kK["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?r=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(r=i.error_code),r){if(r==="weak_password")throw new _V(Jg(i),n.status,((e=i.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new yp}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new _V(Jg(i),n.status,i.weak_password.reasons);throw new Tfe(Jg(i),n.status||500,r)}const epe=(n,e,i,r)=>{const o={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),i))};async function xn(n,e,i,r){var o;const l=Object.assign({},r==null?void 0:r.headers);l[tM]||(l[tM]=kK["2024-01-01"].name),r!=null&&r.jwt&&(l.Authorization=`Bearer ${r.jwt}`);const c=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(c.redirect_to=r.redirectTo);const u=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await tpe(n,e,i+u,{headers:l,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(h):{data:Object.assign({},h),error:null}}async function tpe(n,e,i,r,o,l){const c=epe(e,r,o,l);let u;try{u=await n(i,Object.assign({},c))}catch(h){throw console.error(h),new nM(Jg(h),0)}if(u.ok||await AV(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(h){await AV(h)}}function vp(n){var e;let i=null;spe(n)&&(i=Object.assign({},n),n.expires_at||(i.expires_at=Ufe(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:i,user:r},error:null}}function CV(n){const e=vp(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((i,r)=>i&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Tp(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function npe(n){return{data:n,error:null}}function ipe(n){const{action_link:e,email_otp:i,hashed_token:r,redirect_to:o,verification_type:l}=n,c=Jfe(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:i,hashed_token:r,redirect_to:o,verification_type:l},h=Object.assign({},c);return{data:{properties:u,user:h},error:null}}function rpe(n){return n}function spe(n){return n.access_token&&n.refresh_token&&n.expires_in}var ope=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};class ape{constructor({url:e="",headers:i={},fetch:r}){this.url=e,this.headers=i,this.fetch=AK(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,i="global"){try{return await xn(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(pn(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,i={}){try{return await xn(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:Tp})}catch(r){if(pn(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:i}=e,r=ope(e,["options"]),o=Object.assign(Object.assign({},r),i);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await xn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:ipe,redirectTo:i==null?void 0:i.redirectTo})}catch(i){if(pn(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(e){try{return await xn(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Tp})}catch(i){if(pn(i))return{data:{user:null},error:i};throw i}}async listUsers(e){var i,r,o,l,c,u,h;try{const m={nextPage:null,lastPage:0,total:0},g=await xn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(i=e==null?void 0:e.page)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:rpe});if(g.error)throw g.error;const y=await g.json(),v=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,_=(h=(u=g.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return _.length>0&&(_.forEach(A=>{const S=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(A.split(";")[1].split("=")[1]);m[`${C}Page`]=S}),m.total=parseInt(v)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(pn(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){try{return await xn(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Tp})}catch(i){if(pn(i))return{data:{user:null},error:i};throw i}}async updateUserById(e,i){try{return await xn(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:i,headers:this.headers,xform:Tp})}catch(r){if(pn(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,i=!1){try{return await xn(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:i},xform:Tp})}catch(r){if(pn(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:i,error:r}=await xn(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:i,error:r}}catch(i){if(pn(i))return{data:null,error:i};throw i}}async _deleteFactor(e){try{return{data:await xn(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(i){if(pn(i))return{data:null,error:i};throw i}}}const lpe={getItem:n=>a2()?globalThis.localStorage.getItem(n):null,setItem:(n,e)=>{a2()&&globalThis.localStorage.setItem(n,e)},removeItem:n=>{a2()&&globalThis.localStorage.removeItem(n)}};function TV(n={}){return{getItem:e=>n[e]||null,setItem:(e,i)=>{n[e]=i},removeItem:e=>{delete n[e]}}}function cpe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const gv={debug:!!(globalThis&&a2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class TK extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class upe extends TK{}async function dpe(n,e,i){gv.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),gv.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){gv.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return await i()}finally{gv.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(e===0)throw gv.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new upe(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(gv.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}cpe();const hpe={url:kfe,storageKey:Efe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Sfe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function DV(n,e,i){return await i()}class O2{constructor(e){var i,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=O2.nextInstanceID,O2.nextInstanceID+=1,this.instanceID>0&&qu()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},hpe),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new ape({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=AK(o.fetch),this.lock=o.lock||DV,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:qu()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=dpe:this.lock=DV,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:a2()?this.storage=lpe:(this.memoryStorage={},this.storage=TV(this.memoryStorage)):(this.memoryStorage={},this.storage=TV(this.memoryStorage)),qu()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${_K}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const i=Bfe(window.location.href);let r="none";if(this._isImplicitGrantCallback(i)?r="implicit":await this._isPKCECallback(i)&&(r="pkce"),qu()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:l}=await this._getSessionFromURL(i,r);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),Pfe(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:u}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",u),await this._saveSession(c),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return pn(i)?{error:i}:{error:new EK("Unexpected error during initialization",i)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var i,r,o;try{const l=await xn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:vp}),{data:c,error:u}=l;if(u||!c)return{data:{user:null,session:null},error:u};const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(l){if(pn(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var i,r,o;try{let l;if("email"in e){const{email:g,password:y,options:v}=e;let _=null,A=null;this.flowType==="pkce"&&([_,A]=await mv(this.storage,this.storageKey)),l=await xn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:g,password:y,data:(i=v==null?void 0:v.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:_,code_challenge_method:A},xform:vp})}else if("phone"in e){const{phone:g,password:y,options:v}=e;l=await xn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:y,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(o=v==null?void 0:v.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:vp})}else throw new zT("You must provide either an email or phone number and a password");const{data:c,error:u}=l;if(u||!c)return{data:{user:null,session:null},error:u};const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(l){if(pn(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let i;if("email"in e){const{email:l,password:c,options:u}=e;i=await xn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:CV})}else if("phone"in e){const{phone:l,password:c,options:u}=e;i=await xn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:CV})}else throw new zT("You must provide either an email or phone number and a password");const{data:r,error:o}=i;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new hj}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(i){if(pn(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOAuth(e){var i,r,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const i=await WT(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(i??"").split("/");try{const{data:l,error:c}=await xn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:vp});if(await $T(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new hj}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:c})}catch(l){if(pn(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:i,provider:r,token:o,access_token:l,nonce:c}=e,u=await xn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:vp}),{data:h,error:m}=u;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new hj}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:m})}catch(i){if(pn(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOtp(e){var i,r,o,l,c;try{if("email"in e){const{email:u,options:h}=e;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await mv(this.storage,this.storageKey));const{error:y}=await xn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(i=h==null?void 0:h.data)!==null&&i!==void 0?i:{},create_user:(r=h==null?void 0:h.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},redirectTo:h==null?void 0:h.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in e){const{phone:u,options:h}=e,{data:m,error:g}=await xn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(o=h==null?void 0:h.data)!==null&&o!==void 0?o:{},create_user:(l=h==null?void 0:h.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(c=h==null?void 0:h.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:g}}throw new zT("You must provide either an email or phone number.")}catch(u){if(pn(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var i,r;try{let o,l;"options"in e&&(o=(i=e.options)===null||i===void 0?void 0:i.redirectTo,l=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:c,error:u}=await xn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:vp});if(u)throw u;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,m=c.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(o){if(pn(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var i,r,o;try{let l=null,c=null;return this.flowType==="pkce"&&([l,c]=await mv(this.storage,this.storageKey)),await xn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(i=e.options)===null||i===void 0?void 0:i.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:npe})}catch(l){if(pn(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:i},error:r}=e;if(r)throw r;if(!i)throw new yp;const{error:o}=await xn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(pn(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const i=`${this.url}/resend`;if("email"in e){const{email:r,type:o,options:l}=e,{error:c}=await xn(this.fetch,"POST",i,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:r,type:o,options:l}=e,{data:c,error:u}=await xn(this.fetch,"POST",i,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new zT("You must provide either an email or phone number and a type")}catch(i){if(pn(i))return{data:{user:null,session:null},error:i};throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(e,i){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await i()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=i();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await e(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const i=await WT(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?e=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<dj:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let c=this.suppressGetSessionWarning;e=new Proxy(e,{get:(h,m,g)=>(!c&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,m,g))})}return{data:{session:e},error:null}}const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await xn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Tp}):await this._useSession(async i=>{var r,o,l;const{data:c,error:u}=i;if(u)throw u;return!(!((r=c.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new yp}:await xn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:Tp})})}catch(i){if(pn(i))return Nfe(i)&&(await this._removeSession(),await $T(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:i};throw i}}async updateUser(e,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,i))}async _updateUser(e,i={}){try{return await this._useSession(async r=>{const{data:o,error:l}=r;if(l)throw l;if(!o.session)throw new yp;const c=o.session;let u=null,h=null;this.flowType==="pkce"&&e.email!=null&&([u,h]=await mv(this.storage,this.storageKey));const{data:m,error:g}=await xn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i==null?void 0:i.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:h}),jwt:c.access_token,xform:Tp});if(g)throw g;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(r){if(pn(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new yp;const i=Date.now()/1e3;let r=i,o=!0,l=null;const{payload:c}=pj(e.access_token);if(c.exp&&(r=c.exp,o=r<=i),o){const{session:u,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!u)return{data:{user:null,session:null},error:null};l=u}else{const{data:u,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-i,expires_at:r},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(i){if(pn(i))return{data:{session:null,user:null},error:i};throw i}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async i=>{var r;if(!e){const{data:c,error:u}=i;if(u)throw u;e=(r=c.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new yp;const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(i){if(pn(i))return{data:{user:null,session:null},error:i};throw i}}async _getSessionFromURL(e,i){try{if(!qu())throw new VT("No browser detected.");if(e.error||e.error_description||e.error_code)throw new VT(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new xV("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new VT("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new xV("No code detected.");const{data:N,error:I}=await this._exchangeCodeForSession(e.code);if(I)throw I;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:l,refresh_token:c,expires_in:u,expires_at:h,token_type:m}=e;if(!l||!u||!c||!m)throw new VT("No session defined in URL");const g=Math.round(Date.now()/1e3),y=parseInt(u);let v=g+y;h&&(v=parseInt(h));const _=v-g;_*1e3<=_v&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${y}s`);const A=v-y;g-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,v,g):g-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,v,g);const{data:S,error:C}=await this._getUser(l);if(C)throw C;const T={provider_token:r,provider_refresh_token:o,access_token:l,expires_in:y,expires_at:v,refresh_token:c,token_type:m,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:T,redirectType:e.type},error:null}}catch(r){if(pn(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const i=await WT(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&i)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async i=>{var r;const{data:o,error:l}=i;if(l)return{error:l};const c=(r=o.session)===null||r===void 0?void 0:r.access_token;if(c){const{error:u}=await this.admin.signOut(c,e);if(u&&!(Dfe(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await $T(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const i=Lfe(),r={id:i,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async i=>{var r,o;try{const{data:{session:l},error:c}=i;if(c)throw c;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,i={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await mv(this.storage,this.storageKey,!0));try{return await xn(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(l){if(pn(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:i,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=i.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(i){if(pn(i))return{data:null,error:i};throw i}}async linkIdentity(e){var i;try{const{data:r,error:o}=await this._useSession(async l=>{var c,u,h,m,g;const{data:y,error:v}=l;if(v)throw v;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await xn(this.fetch,"GET",_,{headers:this.headers,jwt:(g=(m=y.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0})});if(o)throw o;return qu()&&!(!((i=e.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(pn(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async i=>{var r,o;const{data:l,error:c}=i;if(c)throw c;return await xn(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(i){if(pn(i))return{data:null,error:i};throw i}}async _refreshAccessToken(e){const i=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{const r=Date.now();return await Wfe(async o=>(o>0&&await Vfe(200*Math.pow(2,o-1)),this._debug(i,"refreshing attempt",o),await xn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:vp})),(o,l)=>{const c=200*Math.pow(2,o);return l&&fj(l)&&Date.now()+c-r<_v})}catch(r){if(this._debug(i,"error",r),pn(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(i,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,i){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",i,"url",r),qu()&&!i.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const r=await WT(this.storage,this.storageKey);if(this._debug(i,"session from storage",r),!this._isValidSession(r)){this._debug(i,"session is not valid"),r!==null&&await this._removeSession();return}const o=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<dj;if(this._debug(i,`session has${o?"":" not"} expired with margin of ${dj}s`),o){if(this.autoRefreshToken&&r.refresh_token){const{error:l}=await this._callRefreshToken(r.refresh_token);l&&(console.error(l),fj(l)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(i,"error",r),console.error(r);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var i,r;if(!e)throw new yp;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new a3;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new yp;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const u={session:l.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(l){if(this._debug(o,"error",l),pn(l)){const c={session:null,error:l};return fj(l)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(c),c}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,i,r=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",i,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:i});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,i)}catch(h){l.push(h)}});if(await Promise.all(c),l.length>0){for(let u=0;u<l.length;u+=1)console.error(l[u]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await CK(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await $T(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&qu()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),_v);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async i=>{const{data:{session:r}}=i;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-e)/_v);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${_v}ms, refresh threshold is ${eM} ticks`),o<=eM&&await this._callRefreshToken(r.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof TK)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qu()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const i=`#_onVisibilityChanged(${e})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,i,r){const o=[`provider=${encodeURIComponent(i)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[l,c]=await mv(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(u.toString())}if(r!=null&&r.queryParams){const l=new URLSearchParams(r.queryParams);o.push(l.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async i=>{var r;const{data:o,error:l}=i;return l?{data:null,error:l}:await xn(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(i){if(pn(i))return{data:null,error:i};throw i}}async _enroll(e){try{return await this._useSession(async i=>{var r,o;const{data:l,error:c}=i;if(c)return{data:null,error:c};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:h,error:m}=await xn(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=l==null?void 0:l.session)===null||r===void 0?void 0:r.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&(!((o=h==null?void 0:h.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(i){if(pn(i))return{data:null,error:i};throw i}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;const{data:o,error:l}=i;if(l)return{data:null,error:l};const{data:c,error:u}=await xn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:u})})}catch(i){if(pn(i))return{data:null,error:i};throw i}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;const{data:o,error:l}=i;return l?{data:null,error:l}:await xn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(i){if(pn(i))return{data:null,error:i};throw i}})}async _challengeAndVerify(e){const{data:i,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:i.id,code:e.code})}async _listFactors(){const{data:{user:e},error:i}=await this.getUser();if(i)return{data:null,error:i};const r=(e==null?void 0:e.factors)||[],o=r.filter(c=>c.factor_type==="totp"&&c.status==="verified"),l=r.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:r,totp:o,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var i,r;const{data:{session:o},error:l}=e;if(l)return{data:null,error:l};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=pj(o.access_token);let u=null;c.aal&&(u=c.aal);let h=u;((r=(i=o.user.factors)===null||i===void 0?void 0:i.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(h="aal2");const g=c.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(e,i={keys:[]}){let r=i.keys.find(c=>c.kid===e);if(r||(r=this.jwks.keys.find(c=>c.kid===e),r&&this.jwks_cached_at+Cfe>Date.now()))return r;const{data:o,error:l}=await xn(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;if(!o.keys||o.keys.length===0)throw new o2("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),r=o.keys.find(c=>c.kid===e),!r)throw new o2("No matching signing key found in JWKS");return r}async getClaims(e,i={keys:[]}){try{let r=e;if(!r){const{data:_,error:A}=await this.getSession();if(A||!_.session)return{data:null,error:A};r=_.session.access_token}const{header:o,payload:l,signature:c,raw:{header:u,payload:h}}=pj(r);if(Zfe(l.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:l,header:o,signature:c},error:null}}const m=Yfe(o.alg),g=await this.fetchJwk(o.kid,i),y=await crypto.subtle.importKey("jwk",g,m,!0,["verify"]);if(!await crypto.subtle.verify(m,y,c,Ffe(`${u}.${h}`)))throw new o2("Invalid JWT signature");return{data:{claims:l,header:o,signature:c},error:null}}catch(r){if(pn(r))return{data:null,error:r};throw r}}}O2.nextInstanceID=0;const fpe=O2;class ppe extends fpe{constructor(e){super(e)}}var mpe=function(n,e,i,r){function o(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function u(g){try{m(r.next(g))}catch(y){c(y)}}function h(g){try{m(r.throw(g))}catch(y){c(y)}}function m(g){g.done?l(g.value):o(g.value).then(u,h)}m((r=r.apply(n,e||[])).next())})};class gpe{constructor(e,i,r){var o,l,c;if(this.supabaseUrl=e,this.supabaseKey=i,!e)throw new Error("supabaseUrl is required.");if(!i)throw new Error("supabaseKey is required.");const u=xfe(e),h=new URL(u);this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const m=`sb-${h.hostname.split(".")[0]}-auth-token`,g={db:ffe,realtime:mfe,auth:Object.assign(Object.assign({},pfe),{storageKey:m}),global:hfe},y=_fe(r??{},g);this.storageKey=(o=y.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=y.global.headers)!==null&&l!==void 0?l:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(v,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=y.auth)!==null&&c!==void 0?c:{},this.headers,y.global.fetch),this.fetch=vfe(i,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new Rhe(new URL("rest/v1",h).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),y.accessToken||this._listenForAuthEvents()}get functions(){return new uhe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new cfe(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,i={},r={}){return this.rest.rpc(e,i,r)}channel(e,i={config:{}}){return this.realtime.channel(e,i)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,i;return mpe(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(i=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&i!==void 0?i:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:i,detectSessionInUrl:r,storage:o,storageKey:l,flowType:c,lock:u,debug:h},m,g){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ppe({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),m),storageKey:l,autoRefreshToken:e,persistSession:i,detectSessionInUrl:r,storage:o,flowType:c,lock:u,debug:h,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Khe(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,r)=>{this._handleTokenChanged(i,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,i,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const bpe=(n,e,i)=>new gpe(n,e,i);console.log("Environment variables check:");console.log("NODE_ENV:","production");console.log("VITE_SUPABASE_URL exists:",!0);console.log("VITE_SUPABASE_ANON_KEY exists:",!0);console.log("VITE_SUPABASE_URL:","https://bbixvnkqroskholbxkgj.supabase.co");console.log("VITE_SUPABASE_ANON_KEY:","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU");const ype="https://bbixvnkqroskholbxkgj.supabase.co",vpe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU",je=bpe(ype,vpe),AD=Object.freeze(Object.defineProperty({__proto__:null,supabase:je},Symbol.toStringTag,{value:"Module"})),B0="/accreda.github.io/assets/accreda-logo-rSXzK5SL.png",DK=H.createContext({});function wpe(n){const e=H.useRef(null);return e.current===null&&(e.current=n()),e.current}const s8=typeof window<"u",xpe=s8?H.useLayoutEffect:H.useEffect,o8=H.createContext(null);function a8(n,e){n.indexOf(e)===-1&&n.push(e)}function l8(n,e){const i=n.indexOf(e);i>-1&&n.splice(i,1)}const af=(n,e,i)=>i>e?e:i<n?n:i;let c8=()=>{};const lf={},NK=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function PK(n){return typeof n=="object"&&n!==null}const IK=n=>/^0[^.\s]+$/u.test(n);function u8(n){let e;return()=>(e===void 0&&(e=n()),e)}const nc=n=>n,_pe=(n,e)=>i=>e(n(i)),LS=(...n)=>n.reduce(_pe),F2=(n,e,i)=>{const r=e-n;return r===0?1:(i-n)/r};class d8{constructor(){this.subscriptions=[]}add(e){return a8(this.subscriptions,e),()=>l8(this.subscriptions,e)}notify(e,i,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,i,r);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(e,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const gd=n=>n*1e3,bd=n=>n/1e3;function jK(n,e){return e?n*(1e3/e):0}const RK=(n,e,i)=>(((1-3*i+3*e)*n+(3*i-6*e))*n+3*e)*n,kpe=1e-7,Epe=12;function Spe(n,e,i,r,o){let l,c,u=0;do c=e+(i-e)/2,l=RK(c,r,o)-n,l>0?i=c:e=c;while(Math.abs(l)>kpe&&++u<Epe);return c}function BS(n,e,i,r){if(n===e&&i===r)return nc;const o=l=>Spe(l,0,1,n,i);return l=>l===0||l===1?l:RK(o(l),e,r)}const MK=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,OK=n=>e=>1-n(1-e),FK=BS(.33,1.53,.69,.99),h8=OK(FK),UK=MK(h8),LK=n=>(n*=2)<1?.5*h8(n):.5*(2-Math.pow(2,-10*(n-1))),f8=n=>1-Math.sin(Math.acos(n)),BK=OK(f8),zK=MK(f8),Ape=BS(.42,0,1,1),Cpe=BS(0,0,.58,1),VK=BS(.42,0,.58,1),Tpe=n=>Array.isArray(n)&&typeof n[0]!="number",WK=n=>Array.isArray(n)&&typeof n[0]=="number",Dpe={linear:nc,easeIn:Ape,easeInOut:VK,easeOut:Cpe,circIn:f8,circInOut:zK,circOut:BK,backIn:h8,backInOut:UK,backOut:FK,anticipate:LK},Npe=n=>typeof n=="string",NV=n=>{if(WK(n)){c8(n.length===4);const[e,i,r,o]=n;return BS(e,i,r,o)}else if(Npe(n))return Dpe[n];return n},qT=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],PV={value:null};function Ppe(n,e){let i=new Set,r=new Set,o=!1,l=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},h=0;function m(y){c.has(y)&&(g.schedule(y),n()),h++,y(u)}const g={schedule:(y,v=!1,_=!1)=>{const S=_&&o?i:r;return v&&c.add(y),S.has(y)||S.add(y),y},cancel:y=>{r.delete(y),c.delete(y)},process:y=>{if(u=y,o){l=!0;return}o=!0,[i,r]=[r,i],i.forEach(m),e&&PV.value&&PV.value.frameloop[e].push(h),h=0,i.clear(),o=!1,l&&(l=!1,g.process(y))}};return g}const Ipe=40;function $K(n,e){let i=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>i=!0,c=qT.reduce((I,O)=>(I[O]=Ppe(l,e?O:void 0),I),{}),{setup:u,read:h,resolveKeyframes:m,preUpdate:g,update:y,preRender:v,render:_,postRender:A}=c,S=()=>{const I=lf.useManualTiming?o.timestamp:performance.now();i=!1,lf.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(I-o.timestamp,Ipe),1)),o.timestamp=I,o.isProcessing=!0,u.process(o),h.process(o),m.process(o),g.process(o),y.process(o),v.process(o),_.process(o),A.process(o),o.isProcessing=!1,i&&e&&(r=!1,n(S))},C=()=>{i=!0,r=!0,o.isProcessing||n(S)};return{schedule:qT.reduce((I,O)=>{const F=c[O];return I[O]=(U,V=!1,B=!1)=>(i||C(),F.schedule(U,V,B)),I},{}),cancel:I=>{for(let O=0;O<qT.length;O++)c[qT[O]].cancel(I)},state:o,steps:c}}const{schedule:Wi,cancel:Nm,state:xs,steps:mj}=$K(typeof requestAnimationFrame<"u"?requestAnimationFrame:nc,!0);let CD;function jpe(){CD=void 0}const ra={now:()=>(CD===void 0&&ra.set(xs.isProcessing||lf.useManualTiming?xs.timestamp:performance.now()),CD),set:n=>{CD=n,queueMicrotask(jpe)}},qK=n=>e=>typeof e=="string"&&e.startsWith(n),p8=qK("--"),Rpe=qK("var(--"),m8=n=>Rpe(n)?Mpe.test(n.split("/*")[0].trim()):!1,Mpe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,H1={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},U2={...H1,transform:n=>af(0,1,n)},HT={...H1,default:1},l2=n=>Math.round(n*1e5)/1e5,g8=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Ope(n){return n==null}const Fpe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,b8=(n,e)=>i=>!!(typeof i=="string"&&Fpe.test(i)&&i.startsWith(n)||e&&!Ope(i)&&Object.prototype.hasOwnProperty.call(i,e)),HK=(n,e,i)=>r=>{if(typeof r!="string")return r;const[o,l,c,u]=r.match(g8);return{[n]:parseFloat(o),[e]:parseFloat(l),[i]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},Upe=n=>af(0,255,n),gj={...H1,transform:n=>Math.round(Upe(n))},cb={test:b8("rgb","red"),parse:HK("red","green","blue"),transform:({red:n,green:e,blue:i,alpha:r=1})=>"rgba("+gj.transform(n)+", "+gj.transform(e)+", "+gj.transform(i)+", "+l2(U2.transform(r))+")"};function Lpe(n){let e="",i="",r="",o="";return n.length>5?(e=n.substring(1,3),i=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(e=n.substring(1,2),i=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),e+=e,i+=i,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const iM={test:b8("#"),parse:Lpe,transform:cb.transform},zS=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),wp=zS("deg"),yd=zS("%"),rn=zS("px"),Bpe=zS("vh"),zpe=zS("vw"),IV={...yd,parse:n=>yd.parse(n)/100,transform:n=>yd.transform(n*100)},Wv={test:b8("hsl","hue"),parse:HK("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:i,alpha:r=1})=>"hsla("+Math.round(n)+", "+yd.transform(l2(e))+", "+yd.transform(l2(i))+", "+l2(U2.transform(r))+")"},Zs={test:n=>cb.test(n)||iM.test(n)||Wv.test(n),parse:n=>cb.test(n)?cb.parse(n):Wv.test(n)?Wv.parse(n):iM.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?cb.transform(n):Wv.transform(n)},Vpe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Wpe(n){var e,i;return isNaN(n)&&typeof n=="string"&&(((e=n.match(g8))==null?void 0:e.length)||0)+(((i=n.match(Vpe))==null?void 0:i.length)||0)>0}const GK="number",XK="color",$pe="var",qpe="var(",jV="${}",Hpe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function L2(n){const e=n.toString(),i=[],r={color:[],number:[],var:[]},o=[];let l=0;const u=e.replace(Hpe,h=>(Zs.test(h)?(r.color.push(l),o.push(XK),i.push(Zs.parse(h))):h.startsWith(qpe)?(r.var.push(l),o.push($pe),i.push(h)):(r.number.push(l),o.push(GK),i.push(parseFloat(h))),++l,jV)).split(jV);return{values:i,split:u,indexes:r,types:o}}function KK(n){return L2(n).values}function ZK(n){const{split:e,types:i}=L2(n),r=e.length;return o=>{let l="";for(let c=0;c<r;c++)if(l+=e[c],o[c]!==void 0){const u=i[c];u===GK?l+=l2(o[c]):u===XK?l+=Zs.transform(o[c]):l+=o[c]}return l}}const Gpe=n=>typeof n=="number"?0:n;function Xpe(n){const e=KK(n);return ZK(n)(e.map(Gpe))}const Pm={test:Wpe,parse:KK,createTransformer:ZK,getAnimatableNone:Xpe};function bj(n,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?n+(e-n)*6*i:i<1/2?e:i<2/3?n+(e-n)*(2/3-i)*6:n}function Kpe({hue:n,saturation:e,lightness:i,alpha:r}){n/=360,e/=100,i/=100;let o=0,l=0,c=0;if(!e)o=l=c=i;else{const u=i<.5?i*(1+e):i+e-i*e,h=2*i-u;o=bj(h,u,n+1/3),l=bj(h,u,n),c=bj(h,u,n-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function L5(n,e){return i=>i>0?e:n}const Bi=(n,e,i)=>n+(e-n)*i,yj=(n,e,i)=>{const r=n*n,o=i*(e*e-r)+r;return o<0?0:Math.sqrt(o)},Zpe=[iM,cb,Wv],Ype=n=>Zpe.find(e=>e.test(n));function RV(n){const e=Ype(n);if(!e)return!1;let i=e.parse(n);return e===Wv&&(i=Kpe(i)),i}const MV=(n,e)=>{const i=RV(n),r=RV(e);if(!i||!r)return L5(n,e);const o={...i};return l=>(o.red=yj(i.red,r.red,l),o.green=yj(i.green,r.green,l),o.blue=yj(i.blue,r.blue,l),o.alpha=Bi(i.alpha,r.alpha,l),cb.transform(o))},rM=new Set(["none","hidden"]);function Jpe(n,e){return rM.has(n)?i=>i<=0?n:e:i=>i>=1?e:n}function Qpe(n,e){return i=>Bi(n,e,i)}function y8(n){return typeof n=="number"?Qpe:typeof n=="string"?m8(n)?L5:Zs.test(n)?MV:nme:Array.isArray(n)?YK:typeof n=="object"?Zs.test(n)?MV:eme:L5}function YK(n,e){const i=[...n],r=i.length,o=n.map((l,c)=>y8(l)(l,e[c]));return l=>{for(let c=0;c<r;c++)i[c]=o[c](l);return i}}function eme(n,e){const i={...n,...e},r={};for(const o in i)n[o]!==void 0&&e[o]!==void 0&&(r[o]=y8(n[o])(n[o],e[o]));return o=>{for(const l in r)i[l]=r[l](o);return i}}function tme(n,e){const i=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],c=n.indexes[l][r[l]],u=n.values[c]??0;i[o]=u,r[l]++}return i}const nme=(n,e)=>{const i=Pm.createTransformer(e),r=L2(n),o=L2(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?rM.has(n)&&!o.values.length||rM.has(e)&&!r.values.length?Jpe(n,e):LS(YK(tme(r,o),o.values),i):L5(n,e)};function JK(n,e,i){return typeof n=="number"&&typeof e=="number"&&typeof i=="number"?Bi(n,e,i):y8(n)(n,e)}const ime=n=>{const e=({timestamp:i})=>n(i);return{start:(i=!0)=>Wi.update(e,i),stop:()=>Nm(e),now:()=>xs.isProcessing?xs.timestamp:ra.now()}},QK=(n,e,i=10)=>{let r="";const o=Math.max(Math.round(e/i),2);for(let l=0;l<o;l++)r+=n(l/(o-1))+", ";return`linear(${r.substring(0,r.length-2)})`},B5=2e4;function v8(n){let e=0;const i=50;let r=n.next(e);for(;!r.done&&e<B5;)e+=i,r=n.next(e);return e>=B5?1/0:e}function rme(n,e=100,i){const r=i({...n,keyframes:[0,e]}),o=Math.min(v8(r),B5);return{type:"keyframes",ease:l=>r.next(o*l).value/e,duration:bd(o)}}const sme=5;function eZ(n,e,i){const r=Math.max(e-sme,0);return jK(i-n(r),e-r)}const Zi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},OV=.001;function ome({duration:n=Zi.duration,bounce:e=Zi.bounce,velocity:i=Zi.velocity,mass:r=Zi.mass}){let o,l,c=1-e;c=af(Zi.minDamping,Zi.maxDamping,c),n=af(Zi.minDuration,Zi.maxDuration,bd(n)),c<1?(o=m=>{const g=m*c,y=g*n,v=g-i,_=sM(m,c),A=Math.exp(-y);return OV-v/_*A},l=m=>{const y=m*c*n,v=y*i+i,_=Math.pow(c,2)*Math.pow(m,2)*n,A=Math.exp(-y),S=sM(Math.pow(m,2),c);return(-o(m)+OV>0?-1:1)*((v-_)*A)/S}):(o=m=>{const g=Math.exp(-m*n),y=(m-i)*n+1;return-.001+g*y},l=m=>{const g=Math.exp(-m*n),y=(i-m)*(n*n);return g*y});const u=5/n,h=lme(o,l,u);if(n=gd(n),isNaN(h))return{stiffness:Zi.stiffness,damping:Zi.damping,duration:n};{const m=Math.pow(h,2)*r;return{stiffness:m,damping:c*2*Math.sqrt(r*m),duration:n}}}const ame=12;function lme(n,e,i){let r=i;for(let o=1;o<ame;o++)r=r-n(r)/e(r);return r}function sM(n,e){return n*Math.sqrt(1-e*e)}const cme=["duration","bounce"],ume=["stiffness","damping","mass"];function FV(n,e){return e.some(i=>n[i]!==void 0)}function dme(n){let e={velocity:Zi.velocity,stiffness:Zi.stiffness,damping:Zi.damping,mass:Zi.mass,isResolvedFromDuration:!1,...n};if(!FV(n,ume)&&FV(n,cme))if(n.visualDuration){const i=n.visualDuration,r=2*Math.PI/(i*1.2),o=r*r,l=2*af(.05,1,1-(n.bounce||0))*Math.sqrt(o);e={...e,mass:Zi.mass,stiffness:o,damping:l}}else{const i=ome(n);e={...e,...i,mass:Zi.mass},e.isResolvedFromDuration=!0}return e}function z5(n=Zi.visualDuration,e=Zi.bounce){const i=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:o}=i;const l=i.keyframes[0],c=i.keyframes[i.keyframes.length-1],u={done:!1,value:l},{stiffness:h,damping:m,mass:g,duration:y,velocity:v,isResolvedFromDuration:_}=dme({...i,velocity:-bd(i.velocity||0)}),A=v||0,S=m/(2*Math.sqrt(h*g)),C=c-l,T=bd(Math.sqrt(h/g)),N=Math.abs(C)<5;r||(r=N?Zi.restSpeed.granular:Zi.restSpeed.default),o||(o=N?Zi.restDelta.granular:Zi.restDelta.default);let I;if(S<1){const F=sM(T,S);I=U=>{const V=Math.exp(-S*T*U);return c-V*((A+S*T*C)/F*Math.sin(F*U)+C*Math.cos(F*U))}}else if(S===1)I=F=>c-Math.exp(-T*F)*(C+(A+T*C)*F);else{const F=T*Math.sqrt(S*S-1);I=U=>{const V=Math.exp(-S*T*U),B=Math.min(F*U,300);return c-V*((A+S*T*C)*Math.sinh(B)+F*C*Math.cosh(B))/F}}const O={calculatedDuration:_&&y||null,next:F=>{const U=I(F);if(_)u.done=F>=y;else{let V=F===0?A:0;S<1&&(V=F===0?gd(A):eZ(I,F,U));const B=Math.abs(V)<=r,Z=Math.abs(c-U)<=o;u.done=B&&Z}return u.value=u.done?c:U,u},toString:()=>{const F=Math.min(v8(O),B5),U=QK(V=>O.next(F*V).value,F,30);return F+"ms "+U},toTransition:()=>{}};return O}z5.applyToOptions=n=>{const e=rme(n,100,z5);return n.ease=e.ease,n.duration=gd(e.duration),n.type="keyframes",n};function oM({keyframes:n,velocity:e=0,power:i=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:u,max:h,restDelta:m=.5,restSpeed:g}){const y=n[0],v={done:!1,value:y},_=B=>u!==void 0&&B<u||h!==void 0&&B>h,A=B=>u===void 0?h:h===void 0||Math.abs(u-B)<Math.abs(h-B)?u:h;let S=i*e;const C=y+S,T=c===void 0?C:c(C);T!==C&&(S=T-y);const N=B=>-S*Math.exp(-B/r),I=B=>T+N(B),O=B=>{const Z=N(B),ae=I(B);v.done=Math.abs(Z)<=m,v.value=v.done?T:ae};let F,U;const V=B=>{_(v.value)&&(F=B,U=z5({keyframes:[v.value,A(v.value)],velocity:eZ(I,B,v.value),damping:o,stiffness:l,restDelta:m,restSpeed:g}))};return V(0),{calculatedDuration:null,next:B=>{let Z=!1;return!U&&F===void 0&&(Z=!0,O(B),V(B)),F!==void 0&&B>=F?U.next(B-F):(!Z&&O(B),v)}}}function hme(n,e,i){const r=[],o=i||lf.mix||JK,l=n.length-1;for(let c=0;c<l;c++){let u=o(n[c],n[c+1]);if(e){const h=Array.isArray(e)?e[c]||nc:e;u=LS(h,u)}r.push(u)}return r}function fme(n,e,{clamp:i=!0,ease:r,mixer:o}={}){const l=n.length;if(c8(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=hme(e,r,o),h=u.length,m=g=>{if(c&&g<n[0])return e[0];let y=0;if(h>1)for(;y<n.length-2&&!(g<n[y+1]);y++);const v=F2(n[y],n[y+1],g);return u[y](v)};return i?g=>m(af(n[0],n[l-1],g)):m}function pme(n,e){const i=n[n.length-1];for(let r=1;r<=e;r++){const o=F2(0,e,r);n.push(Bi(i,1,o))}}function mme(n){const e=[0];return pme(e,n.length-1),e}function gme(n,e){return n.map(i=>i*e)}function bme(n,e){return n.map(()=>e||VK).splice(0,n.length-1)}function c2({duration:n=300,keyframes:e,times:i,ease:r="easeInOut"}){const o=Tpe(r)?r.map(NV):NV(r),l={done:!1,value:e[0]},c=gme(i&&i.length===e.length?i:mme(e),n),u=fme(c,e,{ease:Array.isArray(o)?o:bme(e,o)});return{calculatedDuration:n,next:h=>(l.value=u(h),l.done=h>=n,l)}}const yme=n=>n!==null;function w8(n,{repeat:e,repeatType:i="loop"},r,o=1){const l=n.filter(yme),u=o<0||e&&i!=="loop"&&e%2===1?0:l.length-1;return!u||r===void 0?l[u]:r}const vme={decay:oM,inertia:oM,tween:c2,keyframes:c2,spring:z5};function tZ(n){typeof n.type=="string"&&(n.type=vme[n.type])}class x8{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,i){return this.finished.then(e,i)}}const wme=n=>n/100;class _8 extends x8{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,o;const{motionValue:i}=this.options;i&&i.updatedAt!==ra.now()&&this.tick(ra.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(r=this.options).onStop)==null||o.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;tZ(e);const{type:i=c2,repeat:r=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=e;let{keyframes:u}=e;const h=i||c2;h!==c2&&typeof u[0]!="number"&&(this.mixKeyframes=LS(wme,JK(u[0],u[1])),u=[0,100]);const m=h({...e,keyframes:u});l==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...u].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=v8(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=m}updateTime(e){const i=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(e,i=!1){const{generator:r,totalDuration:o,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:g,repeat:y,repeatType:v,repeatDelay:_,type:A,onUpdate:S,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),i?this.currentTime=e:this.updateTime(e);const T=this.currentTime-m*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?T<0:T>o;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let I=this.currentTime,O=r;if(y){const B=Math.min(this.currentTime,o)/u;let Z=Math.floor(B),ae=B%1;!ae&&B>=1&&(ae=1),ae===1&&Z--,Z=Math.min(Z,y+1),!!(Z%2)&&(v==="reverse"?(ae=1-ae,_&&(ae-=_/u)):v==="mirror"&&(O=c)),I=af(0,1,ae)*u}const F=N?{done:!1,value:g[0]}:O.next(I);l&&(F.value=l(F.value));let{done:U}=F;!N&&h!==null&&(U=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return V&&A!==oM&&(F.value=w8(g,this.options,C,this.speed)),S&&S(F.value),V&&this.finish(),F}then(e,i){return this.finished.then(e,i)}get duration(){return bd(this.calculatedDuration)}get time(){return bd(this.currentTime)}set time(e){var i;e=gd(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(i=this.driver)==null||i.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ra.now());const i=this.playbackSpeed!==e;this.playbackSpeed=e,i&&(this.time=bd(this.currentTime))}play(){var o,l;if(this.isStopped)return;const{driver:e=ime,startTime:i}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(l=(o=this.options).onPlay)==null||l.call(o);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=i??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ra.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,i;this.notifyFinished(),this.teardown(),this.state="finished",(i=(e=this.options).onComplete)==null||i.call(e)}cancel(){var e,i;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(i=(e=this.options).onCancel)==null||i.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var i;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(i=this.driver)==null||i.stop(),e.observe(this)}}function xme(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const ub=n=>n*180/Math.PI,aM=n=>{const e=ub(Math.atan2(n[1],n[0]));return lM(e)},_me={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:aM,rotateZ:aM,skewX:n=>ub(Math.atan(n[1])),skewY:n=>ub(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},lM=n=>(n=n%360,n<0&&(n+=360),n),UV=aM,LV=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),BV=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),kme={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:LV,scaleY:BV,scale:n=>(LV(n)+BV(n))/2,rotateX:n=>lM(ub(Math.atan2(n[6],n[5]))),rotateY:n=>lM(ub(Math.atan2(-n[2],n[0]))),rotateZ:UV,rotate:UV,skewX:n=>ub(Math.atan(n[4])),skewY:n=>ub(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function cM(n){return n.includes("scale")?1:0}function uM(n,e){if(!n||n==="none")return cM(e);const i=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(i)r=kme,o=i;else{const u=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=_me,o=u}if(!o)return cM(e);const l=r[e],c=o[1].split(",").map(Sme);return typeof l=="function"?l(c):c[l]}const Eme=(n,e)=>{const{transform:i="none"}=getComputedStyle(n);return uM(i,e)};function Sme(n){return parseFloat(n.trim())}const G1=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],X1=new Set(G1),zV=n=>n===H1||n===rn,Ame=new Set(["x","y","z"]),Cme=G1.filter(n=>!Ame.has(n));function Tme(n){const e=[];return Cme.forEach(i=>{const r=n.getValue(i);r!==void 0&&(e.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),e}const y0={width:({x:n},{paddingLeft:e="0",paddingRight:i="0"})=>n.max-n.min-parseFloat(e)-parseFloat(i),height:({y:n},{paddingTop:e="0",paddingBottom:i="0"})=>n.max-n.min-parseFloat(e)-parseFloat(i),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>uM(e,"x"),y:(n,{transform:e})=>uM(e,"y")};y0.translateX=y0.x;y0.translateY=y0.y;const v0=new Set;let dM=!1,hM=!1,fM=!1;function nZ(){if(hM){const n=Array.from(v0).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),i=new Map;e.forEach(r=>{const o=Tme(r);o.length&&(i.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=i.get(r);o&&o.forEach(([l,c])=>{var u;(u=r.getValue(l))==null||u.set(c)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}hM=!1,dM=!1,v0.forEach(n=>n.complete(fM)),v0.clear()}function iZ(){v0.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(hM=!0)})}function Dme(){fM=!0,iZ(),nZ(),fM=!1}class k8{constructor(e,i,r,o,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=i,this.name=r,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(v0.add(this),dM||(dM=!0,Wi.read(iZ),Wi.resolveKeyframes(nZ))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:i,element:r,motionValue:o}=this;if(e[0]===null){const l=o==null?void 0:o.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&i){const u=r.readValue(i,c);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=c),o&&l===void 0&&o.set(e[0])}xme(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),v0.delete(this)}cancel(){this.state==="scheduled"&&(v0.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Nme=n=>n.startsWith("--");function Pme(n,e,i){Nme(e)?n.style.setProperty(e,i):n.style[e]=i}const Ime=u8(()=>window.ScrollTimeline!==void 0),jme={};function Rme(n,e){const i=u8(n);return()=>jme[e]??i()}const rZ=Rme(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Pk=([n,e,i,r])=>`cubic-bezier(${n}, ${e}, ${i}, ${r})`,VV={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pk([0,.65,.55,1]),circOut:Pk([.55,0,1,.45]),backIn:Pk([.31,.01,.66,-.59]),backOut:Pk([.33,1.53,.69,.99])};function sZ(n,e){if(n)return typeof n=="function"?rZ()?QK(n,e):"ease-out":WK(n)?Pk(n):Array.isArray(n)?n.map(i=>sZ(i,e)||VV.easeOut):VV[n]}function Mme(n,e,i,{delay:r=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:u="easeOut",times:h}={},m=void 0){const g={[e]:i};h&&(g.offset=h);const y=sZ(u,o);Array.isArray(y)&&(g.easing=y);const v={delay:r,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(v.pseudoElement=m),n.animate(g,v)}function oZ(n){return typeof n=="function"&&"applyToOptions"in n}function Ome({type:n,...e}){return oZ(n)&&rZ()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Fme extends x8{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:i,name:r,keyframes:o,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:u,onComplete:h}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,c8(typeof e.type!="string");const m=Ome(e);this.animation=Mme(i,r,o,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=w8(o,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(g):Pme(i,r,g),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,i;(i=(e=this.animation).finish)==null||i.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,i;this.isPseudoElement||(i=(e=this.animation).commitStyles)==null||i.call(e)}get duration(){var i,r;const e=((r=(i=this.animation.effect)==null?void 0:i.getComputedTiming)==null?void 0:r.call(i).duration)||0;return bd(Number(e))}get time(){return bd(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=gd(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:i}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Ime()?(this.animation.timeline=e,nc):i(this)}}const aZ={anticipate:LK,backInOut:UK,circInOut:zK};function Ume(n){return n in aZ}function Lme(n){typeof n.ease=="string"&&Ume(n.ease)&&(n.ease=aZ[n.ease])}const WV=10;class Bme extends Fme{constructor(e){Lme(e),tZ(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:i,onUpdate:r,onComplete:o,element:l,...c}=this.options;if(!i)return;if(e!==void 0){i.set(e);return}const u=new _8({...c,autoplay:!1}),h=gd(this.finishedTime??this.time);i.setWithVelocity(u.sample(h-WV).value,u.sample(h).value,WV),u.stop()}}const $V=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Pm.test(n)||n==="0")&&!n.startsWith("url("));function zme(n){const e=n[0];if(n.length===1)return!0;for(let i=0;i<n.length;i++)if(n[i]!==e)return!0}function Vme(n,e,i,r){const o=n[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=n[n.length-1],c=$V(o,e),u=$V(l,e);return!c||!u?!1:zme(n)||(i==="spring"||oZ(i))&&r}function lZ(n){return PK(n)&&"offsetHeight"in n}const Wme=new Set(["opacity","clipPath","filter","transform"]),$me=u8(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function qme(n){var m;const{motionValue:e,name:i,repeatDelay:r,repeatType:o,damping:l,type:c}=n;if(!lZ((m=e==null?void 0:e.owner)==null?void 0:m.current))return!1;const{onUpdate:u,transformTemplate:h}=e.owner.getProps();return $me()&&i&&Wme.has(i)&&(i!=="transform"||!h)&&!u&&!r&&o!=="mirror"&&l!==0&&c!=="inertia"}const Hme=40;class Gme extends x8{constructor({autoplay:e=!0,delay:i=0,type:r="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",keyframes:u,name:h,motionValue:m,element:g,...y}){var A;super(),this.stop=()=>{var S,C;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(C=this.keyframeResolver)==null||C.cancel()},this.createdAt=ra.now();const v={autoplay:e,delay:i,type:r,repeat:o,repeatDelay:l,repeatType:c,name:h,motionValue:m,element:g,...y},_=(g==null?void 0:g.KeyframeResolver)||k8;this.keyframeResolver=new _(u,(S,C,T)=>this.onKeyframesResolved(S,C,v,!T),h,m,g),(A=this.keyframeResolver)==null||A.scheduleResolve()}onKeyframesResolved(e,i,r,o){this.keyframeResolver=void 0;const{name:l,type:c,velocity:u,delay:h,isHandoff:m,onUpdate:g}=r;this.resolvedAt=ra.now(),Vme(e,l,c,u)||((lf.instantAnimations||!h)&&(g==null||g(w8(e,r,i))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const v={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>Hme?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...r,keyframes:e},_=!m&&qme(v)?new Bme({...v,element:v.motionValue.owner.current}):new _8(v);_.finished.then(()=>this.notifyFinished()).catch(nc),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,i){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Dme()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Xme=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Kme(n){const e=Xme.exec(n);if(!e)return[,];const[,i,r,o]=e;return[`--${i??r}`,o]}function cZ(n,e,i=1){const[r,o]=Kme(n);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const c=l.trim();return NK(c)?parseFloat(c):c}return m8(o)?cZ(o,e,i+1):o}function E8(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const uZ=new Set(["width","height","top","left","right","bottom",...G1]),Zme={test:n=>n==="auto",parse:n=>n},dZ=n=>e=>e.test(n),hZ=[H1,rn,yd,wp,zpe,Bpe,Zme],qV=n=>hZ.find(dZ(n));function Yme(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||IK(n):!0}const Jme=new Set(["brightness","contrast","saturate","opacity"]);function Qme(n){const[e,i]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=i.match(g8)||[];if(!r)return n;const o=i.replace(r,"");let l=Jme.has(e)?1:0;return r!==i&&(l*=100),e+"("+l+o+")"}const ege=/\b([a-z-]*)\(.*?\)/gu,pM={...Pm,getAnimatableNone:n=>{const e=n.match(ege);return e?e.map(Qme).join(" "):n}},HV={...H1,transform:Math.round},tge={rotate:wp,rotateX:wp,rotateY:wp,rotateZ:wp,scale:HT,scaleX:HT,scaleY:HT,scaleZ:HT,skew:wp,skewX:wp,skewY:wp,distance:rn,translateX:rn,translateY:rn,translateZ:rn,x:rn,y:rn,z:rn,perspective:rn,transformPerspective:rn,opacity:U2,originX:IV,originY:IV,originZ:rn},S8={borderWidth:rn,borderTopWidth:rn,borderRightWidth:rn,borderBottomWidth:rn,borderLeftWidth:rn,borderRadius:rn,radius:rn,borderTopLeftRadius:rn,borderTopRightRadius:rn,borderBottomRightRadius:rn,borderBottomLeftRadius:rn,width:rn,maxWidth:rn,height:rn,maxHeight:rn,top:rn,right:rn,bottom:rn,left:rn,padding:rn,paddingTop:rn,paddingRight:rn,paddingBottom:rn,paddingLeft:rn,margin:rn,marginTop:rn,marginRight:rn,marginBottom:rn,marginLeft:rn,backgroundPositionX:rn,backgroundPositionY:rn,...tge,zIndex:HV,fillOpacity:U2,strokeOpacity:U2,numOctaves:HV},nge={...S8,color:Zs,backgroundColor:Zs,outlineColor:Zs,fill:Zs,stroke:Zs,borderColor:Zs,borderTopColor:Zs,borderRightColor:Zs,borderBottomColor:Zs,borderLeftColor:Zs,filter:pM,WebkitFilter:pM},fZ=n=>nge[n];function pZ(n,e){let i=fZ(n);return i!==pM&&(i=Pm),i.getAnimatableNone?i.getAnimatableNone(e):void 0}const ige=new Set(["auto","none","0"]);function rge(n,e,i){let r=0,o;for(;r<n.length&&!o;){const l=n[r];typeof l=="string"&&!ige.has(l)&&L2(l).values.length&&(o=n[r]),r++}if(o&&i)for(const l of e)n[l]=pZ(i,o)}class sge extends k8{constructor(e,i,r,o,l){super(e,i,r,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let m=e[h];if(typeof m=="string"&&(m=m.trim(),m8(m))){const g=cZ(m,i.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!uZ.has(r)||e.length!==2)return;const[o,l]=e,c=qV(o),u=qV(l);if(c!==u)if(zV(c)&&zV(u))for(let h=0;h<e.length;h++){const m=e[h];typeof m=="string"&&(e[h]=parseFloat(m))}else y0[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:i}=this,r=[];for(let o=0;o<e.length;o++)(e[o]===null||Yme(e[o]))&&r.push(o);r.length&&rge(e,r,i)}measureInitialState(){const{element:e,unresolvedKeyframes:i,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=y0[r](e.measureViewportBox(),window.getComputedStyle(e.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){var u;const{element:e,name:i,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const o=e.getValue(i);o&&o.jump(this.measuredOrigin,!1);const l=r.length-1,c=r[l];r[l]=y0[i](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([h,m])=>{e.getValue(h).set(m)}),this.resolveNoneKeyframes()}}function oge(n,e,i){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=(i==null?void 0:i[n])??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const mZ=(n,e)=>e&&typeof n=="number"?e.transform(n):n,GV=30,age=n=>!isNaN(parseFloat(n));class lge{constructor(e,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{var c,u;const l=ra.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty();o&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=i.owner}setCurrent(e){this.current=e,this.updatedAt=ra.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=age(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,i){this.events[e]||(this.events[e]=new d8);const r=this.events[e].add(i);return e==="change"?()=>{r(),Wi.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,i){this.passiveEffect=e,this.stopPassiveEffect=i}set(e,i=!0){!i||!this.passiveEffect?this.updateAndNotify(e,i):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,i=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ra.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>GV)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,GV);return jK(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(e){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=e(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,i;(e=this.dependents)==null||e.clear(),(i=this.events.destroy)==null||i.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function T1(n,e){return new lge(n,e)}const{schedule:A8}=$K(queueMicrotask,!1),Nc={x:!1,y:!1};function gZ(){return Nc.x||Nc.y}function cge(n){return n==="x"||n==="y"?Nc[n]?null:(Nc[n]=!0,()=>{Nc[n]=!1}):Nc.x||Nc.y?null:(Nc.x=Nc.y=!0,()=>{Nc.x=Nc.y=!1})}function bZ(n,e){const i=oge(n),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[i,o,()=>r.abort()]}function XV(n){return!(n.pointerType==="touch"||gZ())}function uge(n,e,i={}){const[r,o,l]=bZ(n,i),c=u=>{if(!XV(u))return;const{target:h}=u,m=e(h,u);if(typeof m!="function"||!h)return;const g=y=>{XV(y)&&(m(y),h.removeEventListener("pointerleave",g))};h.addEventListener("pointerleave",g,o)};return r.forEach(u=>{u.addEventListener("pointerenter",c,o)}),l}const yZ=(n,e)=>e?n===e?!0:yZ(n,e.parentElement):!1,C8=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,dge=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function hge(n){return dge.has(n.tagName)||n.tabIndex!==-1}const TD=new WeakSet;function KV(n){return e=>{e.key==="Enter"&&n(e)}}function vj(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const fge=(n,e)=>{const i=n.currentTarget;if(!i)return;const r=KV(()=>{if(TD.has(i))return;vj(i,"down");const o=KV(()=>{vj(i,"up")}),l=()=>vj(i,"cancel");i.addEventListener("keyup",o,e),i.addEventListener("blur",l,e)});i.addEventListener("keydown",r,e),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),e)};function ZV(n){return C8(n)&&!gZ()}function pge(n,e,i={}){const[r,o,l]=bZ(n,i),c=u=>{const h=u.currentTarget;if(!ZV(u))return;TD.add(h);const m=e(h,u),g=(_,A)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",v),TD.has(h)&&TD.delete(h),ZV(_)&&typeof m=="function"&&m(_,{success:A})},y=_=>{g(_,h===window||h===document||i.useGlobalTarget||yZ(h,_.target))},v=_=>{g(_,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",v,o)};return r.forEach(u=>{(i.useGlobalTarget?window:u).addEventListener("pointerdown",c,o),lZ(u)&&(u.addEventListener("focus",m=>fge(m,o)),!hge(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),l}function vZ(n){return PK(n)&&"ownerSVGElement"in n}function mge(n){return vZ(n)&&n.tagName==="svg"}const Js=n=>!!(n&&n.getVelocity),gge=[...hZ,Zs,Pm],bge=n=>gge.find(dZ(n)),wZ=H.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function yge(n=!0){const e=H.useContext(o8);if(e===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=e,l=H.useId();H.useEffect(()=>{if(n)return o(l)},[n]);const c=H.useCallback(()=>n&&r&&r(l),[l,r,n]);return!i&&r?[!1,c]:[!0]}const xZ=H.createContext({strict:!1}),YV={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},D1={};for(const n in YV)D1[n]={isEnabled:e=>YV[n].some(i=>!!e[i])};function vge(n){for(const e in n)D1[e]={...D1[e],...n[e]}}const wge=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function V5(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||wge.has(n)}let _Z=n=>!V5(n);function xge(n){n&&(_Z=e=>e.startsWith("on")?!V5(e):n(e))}try{xge(require("@emotion/is-prop-valid").default)}catch{}function _ge(n,e,i){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(_Z(o)||i===!0&&V5(o)||!e&&!V5(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}function kge(n){if(typeof Proxy>"u")return n;const e=new Map,i=(...r)=>n(...r);return new Proxy(i,{get:(r,o)=>o==="create"?n:(e.has(o)||e.set(o,n(o)),e.get(o))})}const l3=H.createContext({});function c3(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function B2(n){return typeof n=="string"||Array.isArray(n)}const T8=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],D8=["initial",...T8];function u3(n){return c3(n.animate)||D8.some(e=>B2(n[e]))}function kZ(n){return!!(u3(n)||n.variants)}function Ege(n,e){if(u3(n)){const{initial:i,animate:r}=n;return{initial:i===!1||B2(i)?i:void 0,animate:B2(r)?r:void 0}}return n.inherit!==!1?e:{}}function Sge(n){const{initial:e,animate:i}=Ege(n,H.useContext(l3));return H.useMemo(()=>({initial:e,animate:i}),[JV(e),JV(i)])}function JV(n){return Array.isArray(n)?n.join(" "):n}const Age=Symbol.for("motionComponentSymbol");function $v(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Cge(n,e,i){return H.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),i&&(typeof i=="function"?i(r):$v(i)&&(i.current=r))},[e])}const N8=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Tge="framerAppearId",EZ="data-"+N8(Tge),SZ=H.createContext({});function Dge(n,e,i,r,o){var S,C;const{visualElement:l}=H.useContext(l3),c=H.useContext(xZ),u=H.useContext(o8),h=H.useContext(wZ).reducedMotion,m=H.useRef(null);r=r||c.renderer,!m.current&&r&&(m.current=r(n,{visualState:e,parent:l,props:i,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const g=m.current,y=H.useContext(SZ);g&&!g.projection&&o&&(g.type==="html"||g.type==="svg")&&Nge(m.current,i,o,y);const v=H.useRef(!1);H.useInsertionEffect(()=>{g&&v.current&&g.update(i,u)});const _=i[EZ],A=H.useRef(!!_&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,_))&&((C=window.MotionHasOptimisedAnimation)==null?void 0:C.call(window,_)));return xpe(()=>{g&&(v.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),A8.render(g.render),A.current&&g.animationState&&g.animationState.animateChanges())}),H.useEffect(()=>{g&&(!A.current&&g.animationState&&g.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var T;(T=window.MotionHandoffMarkAsComplete)==null||T.call(window,_)}),A.current=!1))}),g}function Nge(n,e,i,r){const{layoutId:o,layout:l,drag:c,dragConstraints:u,layoutScroll:h,layoutRoot:m,layoutCrossfade:g}=e;n.projection=new i(n.latestValues,e["data-framer-portal-id"]?void 0:AZ(n.parent)),n.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||u&&$v(u),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:h,layoutRoot:m})}function AZ(n){if(n)return n.options.allowProjection!==!1?n.projection:AZ(n.parent)}function Pge({preloadedFeatures:n,createVisualElement:e,useRender:i,useVisualState:r,Component:o}){n&&vge(n);function l(u,h){let m;const g={...H.useContext(wZ),...u,layoutId:Ige(u)},{isStatic:y}=g,v=Sge(u),_=r(u,y);if(!y&&s8){jge();const A=Rge(g);m=A.MeasureLayout,v.visualElement=Dge(o,_,g,e,A.ProjectionNode)}return b.jsxs(l3.Provider,{value:v,children:[m&&v.visualElement?b.jsx(m,{visualElement:v.visualElement,...g}):null,i(o,u,Cge(_,v.visualElement,h),_,y,v.visualElement)]})}l.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const c=H.forwardRef(l);return c[Age]=o,c}function Ige({layoutId:n}){const e=H.useContext(DK).id;return e&&n!==void 0?e+"-"+n:n}function jge(n,e){H.useContext(xZ).strict}function Rge(n){const{drag:e,layout:i}=D1;if(!e&&!i)return{};const r={...e,...i};return{MeasureLayout:e!=null&&e.isEnabled(n)||i!=null&&i.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const z2={};function Mge(n){for(const e in n)z2[e]=n[e],p8(e)&&(z2[e].isCSSVariable=!0)}function CZ(n,{layout:e,layoutId:i}){return X1.has(n)||n.startsWith("origin")||(e||i!==void 0)&&(!!z2[n]||n==="opacity")}const Oge={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Fge=G1.length;function Uge(n,e,i){let r="",o=!0;for(let l=0;l<Fge;l++){const c=G1[l],u=n[c];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(c.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||i){const m=mZ(u,S8[c]);if(!h){o=!1;const g=Oge[c]||c;r+=`${g}(${m}) `}i&&(e[c]=m)}}return r=r.trim(),i?r=i(e,o?"":r):o&&(r="none"),r}function P8(n,e,i){const{style:r,vars:o,transformOrigin:l}=n;let c=!1,u=!1;for(const h in e){const m=e[h];if(X1.has(h)){c=!0;continue}else if(p8(h)){o[h]=m;continue}else{const g=mZ(m,S8[h]);h.startsWith("origin")?(u=!0,l[h]=g):r[h]=g}}if(e.transform||(c||i?r.transform=Uge(e,n.transform,i):r.transform&&(r.transform="none")),u){const{originX:h="50%",originY:m="50%",originZ:g=0}=l;r.transformOrigin=`${h} ${m} ${g}`}}const I8=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function TZ(n,e,i){for(const r in e)!Js(e[r])&&!CZ(r,i)&&(n[r]=e[r])}function Lge({transformTemplate:n},e){return H.useMemo(()=>{const i=I8();return P8(i,e,n),Object.assign({},i.vars,i.style)},[e])}function Bge(n,e){const i=n.style||{},r={};return TZ(r,i,n),Object.assign(r,Lge(n,e)),r}function zge(n,e){const i={},r=Bge(n,e);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const Vge={offset:"stroke-dashoffset",array:"stroke-dasharray"},Wge={offset:"strokeDashoffset",array:"strokeDasharray"};function $ge(n,e,i=1,r=0,o=!0){n.pathLength=1;const l=o?Vge:Wge;n[l.offset]=rn.transform(-r);const c=rn.transform(e),u=rn.transform(i);n[l.array]=`${c} ${u}`}function DZ(n,{attrX:e,attrY:i,attrScale:r,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},h,m,g){if(P8(n,u,m),h){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:y,style:v}=n;y.transform&&(v.transform=y.transform,delete y.transform),(v.transform||y.transformOrigin)&&(v.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),v.transform&&(v.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),i!==void 0&&(y.y=i),r!==void 0&&(y.scale=r),o!==void 0&&$ge(y,o,l,c,!1)}const NZ=()=>({...I8(),attrs:{}}),PZ=n=>typeof n=="string"&&n.toLowerCase()==="svg";function qge(n,e,i,r){const o=H.useMemo(()=>{const l=NZ();return DZ(l,e,PZ(r),n.transformTemplate,n.style),{...l.attrs,style:{...l.style}}},[e]);if(n.style){const l={};TZ(l,n.style,n),o.style={...l,...o.style}}return o}const Hge=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function j8(n){return typeof n!="string"||n.includes("-")?!1:!!(Hge.indexOf(n)>-1||/[A-Z]/u.test(n))}function Gge(n=!1){return(i,r,o,{latestValues:l},c)=>{const h=(j8(i)?qge:zge)(r,l,c,i),m=_ge(r,typeof i=="string",n),g=i!==H.Fragment?{...m,...h,ref:o}:{},{children:y}=r,v=H.useMemo(()=>Js(y)?y.get():y,[y]);return H.createElement(i,{...g,children:v})}}function QV(n){const e=[{},{}];return n==null||n.values.forEach((i,r)=>{e[0][r]=i.get(),e[1][r]=i.getVelocity()}),e}function R8(n,e,i,r){if(typeof e=="function"){const[o,l]=QV(r);e=e(i!==void 0?i:n.custom,o,l)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[o,l]=QV(r);e=e(i!==void 0?i:n.custom,o,l)}return e}function DD(n){return Js(n)?n.get():n}function Xge({scrapeMotionValuesFromProps:n,createRenderState:e},i,r,o){return{latestValues:Kge(i,r,o,n),renderState:e()}}const IZ=n=>(e,i)=>{const r=H.useContext(l3),o=H.useContext(o8),l=()=>Xge(n,e,r,o);return i?l():wpe(l)};function Kge(n,e,i,r){const o={},l=r(n,{});for(const v in l)o[v]=DD(l[v]);let{initial:c,animate:u}=n;const h=u3(n),m=kZ(n);e&&m&&!h&&n.inherit!==!1&&(c===void 0&&(c=e.initial),u===void 0&&(u=e.animate));let g=i?i.initial===!1:!1;g=g||c===!1;const y=g?u:c;if(y&&typeof y!="boolean"&&!c3(y)){const v=Array.isArray(y)?y:[y];for(let _=0;_<v.length;_++){const A=R8(n,v[_]);if(A){const{transitionEnd:S,transition:C,...T}=A;for(const N in T){let I=T[N];if(Array.isArray(I)){const O=g?I.length-1:0;I=I[O]}I!==null&&(o[N]=I)}for(const N in S)o[N]=S[N]}}}return o}function M8(n,e,i){var l;const{style:r}=n,o={};for(const c in r)(Js(r[c])||e.style&&Js(e.style[c])||CZ(c,n)||((l=i==null?void 0:i.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(o[c]=r[c]);return o}const Zge={useVisualState:IZ({scrapeMotionValuesFromProps:M8,createRenderState:I8})};function jZ(n,e,i){const r=M8(n,e,i);for(const o in n)if(Js(n[o])||Js(e[o])){const l=G1.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[l]=n[o]}return r}const Yge={useVisualState:IZ({scrapeMotionValuesFromProps:jZ,createRenderState:NZ})};function Jge(n,e){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...j8(r)?Yge:Zge,preloadedFeatures:n,useRender:Gge(o),createVisualElement:e,Component:r};return Pge(c)}}function V2(n,e,i){const r=n.getProps();return R8(r,e,i!==void 0?i:r.custom,n)}const mM=n=>Array.isArray(n);function Qge(n,e,i){n.hasValue(e)?n.getValue(e).set(i):n.addValue(e,T1(i))}function ebe(n){return mM(n)?n[n.length-1]||0:n}function tbe(n,e){const i=V2(n,e);let{transitionEnd:r={},transition:o={},...l}=i||{};l={...l,...r};for(const c in l){const u=ebe(l[c]);Qge(n,c,u)}}function nbe(n){return!!(Js(n)&&n.add)}function gM(n,e){const i=n.getValue("willChange");if(nbe(i))return i.add(e);if(!i&&lf.WillChange){const r=new lf.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function RZ(n){return n.props[EZ]}const ibe=n=>n!==null;function rbe(n,{repeat:e,repeatType:i="loop"},r){const o=n.filter(ibe),l=e&&i!=="loop"&&e%2===1?0:o.length-1;return o[l]}const sbe={type:"spring",stiffness:500,damping:25,restSpeed:10},obe=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),abe={type:"keyframes",duration:.8},lbe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},cbe=(n,{keyframes:e})=>e.length>2?abe:X1.has(n)?n.startsWith("scale")?obe(e[1]):sbe:lbe;function ube({when:n,delay:e,delayChildren:i,staggerChildren:r,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:u,from:h,elapsed:m,...g}){return!!Object.keys(g).length}const O8=(n,e,i,r={},o,l)=>c=>{const u=E8(r,n)||{},h=u.delay||r.delay||0;let{elapsed:m=0}=r;m=m-gd(h);const g={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-m,onUpdate:v=>{e.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:n,motionValue:e,element:l?void 0:o};ube(u)||Object.assign(g,cbe(n,g)),g.duration&&(g.duration=gd(g.duration)),g.repeatDelay&&(g.repeatDelay=gd(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(y=!0)),(lf.instantAnimations||lf.skipAnimations)&&(y=!0,g.duration=0,g.delay=0),g.allowFlatten=!u.type&&!u.ease,y&&!l&&e.get()!==void 0){const v=rbe(g.keyframes,u);if(v!==void 0){Wi.update(()=>{g.onUpdate(v),g.onComplete()});return}}return u.isSync?new _8(g):new Gme(g)};function dbe({protectedKeys:n,needsAnimating:e},i){const r=n.hasOwnProperty(i)&&e[i]!==!0;return e[i]=!1,r}function MZ(n,e,{delay:i=0,transitionOverride:r,type:o}={}){let{transition:l=n.getDefaultTransition(),transitionEnd:c,...u}=e;r&&(l=r);const h=[],m=o&&n.animationState&&n.animationState.getState()[o];for(const g in u){const y=n.getValue(g,n.latestValues[g]??null),v=u[g];if(v===void 0||m&&dbe(m,g))continue;const _={delay:i,...E8(l||{},g)},A=y.get();if(A!==void 0&&!y.isAnimating&&!Array.isArray(v)&&v===A&&!_.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const T=RZ(n);if(T){const N=window.MotionHandoffAnimation(T,g,Wi);N!==null&&(_.startTime=N,S=!0)}}gM(n,g),y.start(O8(g,y,v,n.shouldReduceMotion&&uZ.has(g)?{type:!1}:_,n,S));const C=y.animation;C&&h.push(C)}return c&&Promise.all(h).then(()=>{Wi.update(()=>{c&&tbe(n,c)})}),h}function bM(n,e,i={}){var h;const r=V2(n,e,i.type==="exit"?(h=n.presenceContext)==null?void 0:h.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(o=i.transitionOverride);const l=r?()=>Promise.all(MZ(n,r,i)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:v}=o;return hbe(n,e,g+m,y,v,i)}:()=>Promise.resolve(),{when:u}=o;if(u){const[m,g]=u==="beforeChildren"?[l,c]:[c,l];return m().then(()=>g())}else return Promise.all([l(),c(i.delay)])}function hbe(n,e,i=0,r=0,o=1,l){const c=[],u=(n.variantChildren.size-1)*r,h=o===1?(m=0)=>m*r:(m=0)=>u-m*r;return Array.from(n.variantChildren).sort(fbe).forEach((m,g)=>{m.notify("AnimationStart",e),c.push(bM(m,e,{...l,delay:i+h(g)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(c)}function fbe(n,e){return n.sortNodePosition(e)}function pbe(n,e,i={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(l=>bM(n,l,i));r=Promise.all(o)}else if(typeof e=="string")r=bM(n,e,i);else{const o=typeof e=="function"?V2(n,e,i.custom):e;r=Promise.all(MZ(n,o,i))}return r.then(()=>{n.notify("AnimationComplete",e)})}function OZ(n,e){if(!Array.isArray(e))return!1;const i=e.length;if(i!==n.length)return!1;for(let r=0;r<i;r++)if(e[r]!==n[r])return!1;return!0}const mbe=D8.length;function FZ(n){if(!n)return;if(!n.isControllingVariants){const i=n.parent?FZ(n.parent)||{}:{};return n.props.initial!==void 0&&(i.initial=n.props.initial),i}const e={};for(let i=0;i<mbe;i++){const r=D8[i],o=n.props[r];(B2(o)||o===!1)&&(e[r]=o)}return e}const gbe=[...T8].reverse(),bbe=T8.length;function ybe(n){return e=>Promise.all(e.map(({animation:i,options:r})=>pbe(n,i,r)))}function vbe(n){let e=ybe(n),i=eW(),r=!0;const o=h=>(m,g)=>{var v;const y=V2(n,g,h==="exit"?(v=n.presenceContext)==null?void 0:v.custom:void 0);if(y){const{transition:_,transitionEnd:A,...S}=y;m={...m,...S,...A}}return m};function l(h){e=h(n)}function c(h){const{props:m}=n,g=FZ(n.parent)||{},y=[],v=new Set;let _={},A=1/0;for(let C=0;C<bbe;C++){const T=gbe[C],N=i[T],I=m[T]!==void 0?m[T]:g[T],O=B2(I),F=T===h?N.isActive:null;F===!1&&(A=C);let U=I===g[T]&&I!==m[T]&&O;if(U&&r&&n.manuallyAnimateOnMount&&(U=!1),N.protectedKeys={..._},!N.isActive&&F===null||!I&&!N.prevProp||c3(I)||typeof I=="boolean")continue;const V=wbe(N.prevProp,I);let B=V||T===h&&N.isActive&&!U&&O||C>A&&O,Z=!1;const ae=Array.isArray(I)?I:[I];let me=ae.reduce(o(T),{});F===!1&&(me={});const{prevResolvedValues:Q={}}=N,ge={...Q,...me},$=ie=>{B=!0,v.has(ie)&&(Z=!0,v.delete(ie)),N.needsAnimating[ie]=!0;const G=n.getValue(ie);G&&(G.liveStyle=!1)};for(const ie in ge){const G=me[ie],K=Q[ie];if(_.hasOwnProperty(ie))continue;let ne=!1;mM(G)&&mM(K)?ne=!OZ(G,K):ne=G!==K,ne?G!=null?$(ie):v.add(ie):G!==void 0&&v.has(ie)?$(ie):N.protectedKeys[ie]=!0}N.prevProp=I,N.prevResolvedValues=me,N.isActive&&(_={..._,...me}),r&&n.blockInitialAnimation&&(B=!1),B&&(!(U&&V)||Z)&&y.push(...ae.map(ie=>({animation:ie,options:{type:T}})))}if(v.size){const C={};if(typeof m.initial!="boolean"){const T=V2(n,Array.isArray(m.initial)?m.initial[0]:m.initial);T&&T.transition&&(C.transition=T.transition)}v.forEach(T=>{const N=n.getBaseTarget(T),I=n.getValue(T);I&&(I.liveStyle=!0),C[T]=N??null}),y.push({animation:C})}let S=!!y.length;return r&&(m.initial===!1||m.initial===m.animate)&&!n.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(y):Promise.resolve()}function u(h,m){var y;if(i[h].isActive===m)return Promise.resolve();(y=n.variantChildren)==null||y.forEach(v=>{var _;return(_=v.animationState)==null?void 0:_.setActive(h,m)}),i[h].isActive=m;const g=c(h);for(const v in i)i[v].protectedKeys={};return g}return{animateChanges:c,setActive:u,setAnimateFunction:l,getState:()=>i,reset:()=>{i=eW(),r=!0}}}function wbe(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!OZ(e,n):!1}function Xg(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function eW(){return{animate:Xg(!0),whileInView:Xg(),whileHover:Xg(),whileTap:Xg(),whileDrag:Xg(),whileFocus:Xg(),exit:Xg()}}class $m{constructor(e){this.isMounted=!1,this.node=e}update(){}}class xbe extends $m{constructor(e){super(e),e.animationState||(e.animationState=vbe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();c3(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:i}=this.node.prevProps||{};e!==i&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let _be=0;class kbe extends $m{constructor(){super(...arguments),this.id=_be++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);i&&!e&&o.then(()=>{i(this.id)})}mount(){const{register:e,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Ebe={animation:{Feature:xbe},exit:{Feature:kbe}};function W2(n,e,i,r={passive:!0}){return n.addEventListener(e,i,r),()=>n.removeEventListener(e,i)}function VS(n){return{point:{x:n.pageX,y:n.pageY}}}const Sbe=n=>e=>C8(e)&&n(e,VS(e));function u2(n,e,i,r){return W2(n,e,Sbe(i),r)}function UZ({top:n,left:e,right:i,bottom:r}){return{x:{min:e,max:i},y:{min:n,max:r}}}function Abe({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Cbe(n,e){if(!e)return n;const i=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}const LZ=1e-4,Tbe=1-LZ,Dbe=1+LZ,BZ=.01,Nbe=0-BZ,Pbe=0+BZ;function Do(n){return n.max-n.min}function Ibe(n,e,i){return Math.abs(n-e)<=i}function tW(n,e,i,r=.5){n.origin=r,n.originPoint=Bi(e.min,e.max,n.origin),n.scale=Do(i)/Do(e),n.translate=Bi(i.min,i.max,n.origin)-n.originPoint,(n.scale>=Tbe&&n.scale<=Dbe||isNaN(n.scale))&&(n.scale=1),(n.translate>=Nbe&&n.translate<=Pbe||isNaN(n.translate))&&(n.translate=0)}function d2(n,e,i,r){tW(n.x,e.x,i.x,r?r.originX:void 0),tW(n.y,e.y,i.y,r?r.originY:void 0)}function nW(n,e,i){n.min=i.min+e.min,n.max=n.min+Do(e)}function jbe(n,e,i){nW(n.x,e.x,i.x),nW(n.y,e.y,i.y)}function iW(n,e,i){n.min=e.min-i.min,n.max=n.min+Do(e)}function h2(n,e,i){iW(n.x,e.x,i.x),iW(n.y,e.y,i.y)}const rW=()=>({translate:0,scale:1,origin:0,originPoint:0}),qv=()=>({x:rW(),y:rW()}),sW=()=>({min:0,max:0}),ir=()=>({x:sW(),y:sW()});function Ll(n){return[n("x"),n("y")]}function wj(n){return n===void 0||n===1}function yM({scale:n,scaleX:e,scaleY:i}){return!wj(n)||!wj(e)||!wj(i)}function Qg(n){return yM(n)||zZ(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function zZ(n){return oW(n.x)||oW(n.y)}function oW(n){return n&&n!=="0%"}function W5(n,e,i){const r=n-i,o=e*r;return i+o}function aW(n,e,i,r,o){return o!==void 0&&(n=W5(n,o,r)),W5(n,i,r)+e}function vM(n,e=0,i=1,r,o){n.min=aW(n.min,e,i,r,o),n.max=aW(n.max,e,i,r,o)}function VZ(n,{x:e,y:i}){vM(n.x,e.translate,e.scale,e.originPoint),vM(n.y,i.translate,i.scale,i.originPoint)}const lW=.999999999999,cW=1.0000000000001;function Rbe(n,e,i,r=!1){const o=i.length;if(!o)return;e.x=e.y=1;let l,c;for(let u=0;u<o;u++){l=i[u],c=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Gv(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,VZ(n,c)),r&&Qg(l.latestValues)&&Gv(n,l.latestValues))}e.x<cW&&e.x>lW&&(e.x=1),e.y<cW&&e.y>lW&&(e.y=1)}function Hv(n,e){n.min=n.min+e,n.max=n.max+e}function uW(n,e,i,r,o=.5){const l=Bi(n.min,n.max,o);vM(n,e,i,l,r)}function Gv(n,e){uW(n.x,e.x,e.scaleX,e.scale,e.originX),uW(n.y,e.y,e.scaleY,e.scale,e.originY)}function WZ(n,e){return UZ(Cbe(n.getBoundingClientRect(),e))}function Mbe(n,e,i){const r=WZ(n,i),{scroll:o}=e;return o&&(Hv(r.x,o.offset.x),Hv(r.y,o.offset.y)),r}const $Z=({current:n})=>n?n.ownerDocument.defaultView:null,dW=(n,e)=>Math.abs(n-e);function Obe(n,e){const i=dW(n.x,e.x),r=dW(n.y,e.y);return Math.sqrt(i**2+r**2)}class qZ{constructor(e,i,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=_j(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,_=Obe(y.offset,{x:0,y:0})>=3;if(!v&&!_)return;const{point:A}=y,{timestamp:S}=xs;this.history.push({...A,timestamp:S});const{onStart:C,onMove:T}=this.handlers;v||(C&&C(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,y)},this.handlePointerMove=(y,v)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=xj(v,this.transformPagePoint),Wi.update(this.updatePoint,!0)},this.handlePointerUp=(y,v)=>{this.end();const{onEnd:_,onSessionEnd:A,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=_j(y.type==="pointercancel"?this.lastMoveEventInfo:xj(v,this.transformPagePoint),this.history);this.startEvent&&_&&_(y,C),A&&A(y,C)},!C8(e))return;this.dragSnapToOrigin=l,this.handlers=i,this.transformPagePoint=r,this.contextWindow=o||window;const c=VS(e),u=xj(c,this.transformPagePoint),{point:h}=u,{timestamp:m}=xs;this.history=[{...h,timestamp:m}];const{onSessionStart:g}=i;g&&g(e,_j(u,this.history)),this.removeListeners=LS(u2(this.contextWindow,"pointermove",this.handlePointerMove),u2(this.contextWindow,"pointerup",this.handlePointerUp),u2(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Nm(this.updatePoint)}}function xj(n,e){return e?{point:e(n.point)}:n}function hW(n,e){return{x:n.x-e.x,y:n.y-e.y}}function _j({point:n},e){return{point:n,delta:hW(n,HZ(e)),offset:hW(n,Fbe(e)),velocity:Ube(e,.1)}}function Fbe(n){return n[0]}function HZ(n){return n[n.length-1]}function Ube(n,e){if(n.length<2)return{x:0,y:0};let i=n.length-1,r=null;const o=HZ(n);for(;i>=0&&(r=n[i],!(o.timestamp-r.timestamp>gd(e)));)i--;if(!r)return{x:0,y:0};const l=bd(o.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-r.x)/l,y:(o.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Lbe(n,{min:e,max:i},r){return e!==void 0&&n<e?n=r?Bi(e,n,r.min):Math.max(n,e):i!==void 0&&n>i&&(n=r?Bi(i,n,r.max):Math.min(n,i)),n}function fW(n,e,i){return{min:e!==void 0?n.min+e:void 0,max:i!==void 0?n.max+i-(n.max-n.min):void 0}}function Bbe(n,{top:e,left:i,bottom:r,right:o}){return{x:fW(n.x,i,o),y:fW(n.y,e,r)}}function pW(n,e){let i=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([i,r]=[r,i]),{min:i,max:r}}function zbe(n,e){return{x:pW(n.x,e.x),y:pW(n.y,e.y)}}function Vbe(n,e){let i=.5;const r=Do(n),o=Do(e);return o>r?i=F2(e.min,e.max-r,n.min):r>o&&(i=F2(n.min,n.max-o,e.min)),af(0,1,i)}function Wbe(n,e){const i={};return e.min!==void 0&&(i.min=e.min-n.min),e.max!==void 0&&(i.max=e.max-n.min),i}const wM=.35;function $be(n=wM){return n===!1?n=0:n===!0&&(n=wM),{x:mW(n,"left","right"),y:mW(n,"top","bottom")}}function mW(n,e,i){return{min:gW(n,e),max:gW(n,i)}}function gW(n,e){return typeof n=="number"?n:n[e]||0}const qbe=new WeakMap;class Hbe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ir(),this.visualElement=e}start(e,{snapToCursor:i=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(VS(g).point)},l=(g,y)=>{const{drag:v,dragPropagation:_,onDragStart:A}=this.getProps();if(v&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=cge(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ll(C=>{let T=this.getAxisMotionValue(C).get()||0;if(yd.test(T)){const{projection:N}=this.visualElement;if(N&&N.layout){const I=N.layout.layoutBox[C];I&&(T=Do(I)*(parseFloat(T)/100))}}this.originPoint[C]=T}),A&&Wi.postRender(()=>A(g,y)),gM(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},c=(g,y)=>{const{dragPropagation:v,dragDirectionLock:_,onDirectionLock:A,onDrag:S}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:C}=y;if(_&&this.currentDirection===null){this.currentDirection=Gbe(C),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",y.point,C),this.updateAxis("y",y.point,C),this.visualElement.render(),S&&S(g,y)},u=(g,y)=>this.stop(g,y),h=()=>Ll(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)==null?void 0:y.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new qZ(e,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:$Z(this.visualElement)})}stop(e,i){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Wi.postRender(()=>l(e,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:i}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(e,i,r){const{drag:o}=this.getProps();if(!r||!GT(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=Lbe(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,o=this.constraints;e&&$v(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Bbe(r.layoutBox,e):this.constraints=!1,this.elastic=$be(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ll(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=Wbe(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:i}=this.getProps();if(!e||!$v(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=Mbe(r,o.root,this.visualElement.getTransformPagePoint());let c=zbe(o.layout.layoutBox,l);if(i){const u=i(Abe(c));this.hasMutatedConstraints=!!u,u&&(c=UZ(u))}return c}startAnimation(e){const{drag:i,dragMomentum:r,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},m=Ll(g=>{if(!GT(g,i,this.currentDirection))return;let y=h&&h[g]||{};c&&(y={min:0,max:0});const v=o?200:1e6,_=o?40:1e7,A={type:"inertia",velocity:r?e[g]:0,bounceStiffness:v,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...l,...y};return this.startAxisValueAnimation(g,A)});return Promise.all(m).then(u)}startAxisValueAnimation(e,i){const r=this.getAxisMotionValue(e);return gM(this.visualElement,e),r.start(O8(e,r,0,i,this.visualElement,!1))}stopAnimation(){Ll(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ll(e=>{var i;return(i=this.getAxisMotionValue(e).animation)==null?void 0:i.pause()})}getAnimationState(e){var i;return(i=this.getAxisMotionValue(e).animation)==null?void 0:i.state}getAxisMotionValue(e){const i=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[i];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ll(i=>{const{drag:r}=this.getProps();if(!GT(i,r,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(i);if(o&&o.layout){const{min:c,max:u}=o.layout.layoutBox[i];l.set(e[i]-Bi(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!$v(i)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Ll(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const h=u.get();o[c]=Vbe({min:h,max:h},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ll(c=>{if(!GT(c,e,null))return;const u=this.getAxisMotionValue(c),{min:h,max:m}=this.constraints[c];u.set(Bi(h,m,o[c]))})}addListeners(){if(!this.visualElement.current)return;qbe.set(this.visualElement,this);const e=this.visualElement.current,i=u2(e,"pointerdown",h=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();$v(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Wi.read(r);const c=W2(window,"resize",()=>this.scalePositionWithinConstraints()),u=o.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(Ll(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=h[g].translate,y.set(y.get()+h[g].translate))}),this.visualElement.render())});return()=>{c(),i(),l(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=wM,dragMomentum:u=!0}=e;return{...e,drag:i,dragDirectionLock:r,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:u}}}function GT(n,e,i){return(e===!0||e===n)&&(i===null||i===n)}function Gbe(n,e=10){let i=null;return Math.abs(n.y)>e?i="y":Math.abs(n.x)>e&&(i="x"),i}class Xbe extends $m{constructor(e){super(e),this.removeGroupControls=nc,this.removeListeners=nc,this.controls=new Hbe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||nc}unmount(){this.removeGroupControls(),this.removeListeners()}}const bW=n=>(e,i)=>{n&&Wi.postRender(()=>n(e,i))};class Kbe extends $m{constructor(){super(...arguments),this.removePointerDownListener=nc}onPointerDown(e){this.session=new qZ(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$Z(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:i,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:bW(e),onStart:bW(i),onMove:r,onEnd:(l,c)=>{delete this.session,o&&Wi.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=u2(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ND={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yW(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const fk={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(rn.test(n))n=parseFloat(n);else return n;const i=yW(n,e.target.x),r=yW(n,e.target.y);return`${i}% ${r}%`}},Zbe={correct:(n,{treeScale:e,projectionDelta:i})=>{const r=n,o=Pm.parse(n);if(o.length>5)return r;const l=Pm.createTransformer(n),c=typeof o[0]!="number"?1:0,u=i.x.scale*e.x,h=i.y.scale*e.y;o[0+c]/=u,o[1+c]/=h;const m=Bi(u,h,.5);return typeof o[2+c]=="number"&&(o[2+c]/=m),typeof o[3+c]=="number"&&(o[3+c]/=m),l(o)}};class Ybe extends H.Component{componentDidMount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:r,layoutId:o}=this.props,{projection:l}=e;Mge(Jbe),l&&(i.group&&i.group.add(l),r&&r.register&&o&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),ND.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:i,visualElement:r,drag:o,isPresent:l}=this.props,{projection:c}=r;return c&&(c.isPresent=l,o||e.layoutDependency!==i||i===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Wi.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),A8.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function GZ(n){const[e,i]=yge(),r=H.useContext(DK);return b.jsx(Ybe,{...n,layoutGroup:r,switchLayoutGroup:H.useContext(SZ),isPresent:e,safeToRemove:i})}const Jbe={borderRadius:{...fk,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fk,borderTopRightRadius:fk,borderBottomLeftRadius:fk,borderBottomRightRadius:fk,boxShadow:Zbe};function Qbe(n,e,i){const r=Js(n)?n:T1(n);return r.start(O8("",r,e,i)),r.animation}const e0e=(n,e)=>n.depth-e.depth;class t0e{constructor(){this.children=[],this.isDirty=!1}add(e){a8(this.children,e),this.isDirty=!0}remove(e){l8(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(e0e),this.isDirty=!1,this.children.forEach(e)}}function n0e(n,e){const i=ra.now(),r=({timestamp:o})=>{const l=o-i;l>=e&&(Nm(r),n(l-e))};return Wi.setup(r,!0),()=>Nm(r)}const XZ=["TopLeft","TopRight","BottomLeft","BottomRight"],i0e=XZ.length,vW=n=>typeof n=="string"?parseFloat(n):n,wW=n=>typeof n=="number"||rn.test(n);function r0e(n,e,i,r,o,l){o?(n.opacity=Bi(0,i.opacity??1,s0e(r)),n.opacityExit=Bi(e.opacity??1,0,o0e(r))):l&&(n.opacity=Bi(e.opacity??1,i.opacity??1,r));for(let c=0;c<i0e;c++){const u=`border${XZ[c]}Radius`;let h=xW(e,u),m=xW(i,u);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||wW(h)===wW(m)?(n[u]=Math.max(Bi(vW(h),vW(m),r),0),(yd.test(m)||yd.test(h))&&(n[u]+="%")):n[u]=m}(e.rotate||i.rotate)&&(n.rotate=Bi(e.rotate||0,i.rotate||0,r))}function xW(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const s0e=KZ(0,.5,BK),o0e=KZ(.5,.95,nc);function KZ(n,e,i){return r=>r<n?0:r>e?1:i(F2(n,e,r))}function _W(n,e){n.min=e.min,n.max=e.max}function Ol(n,e){_W(n.x,e.x),_W(n.y,e.y)}function kW(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function EW(n,e,i,r,o){return n-=e,n=W5(n,1/i,r),o!==void 0&&(n=W5(n,1/o,r)),n}function a0e(n,e=0,i=1,r=.5,o,l=n,c=n){if(yd.test(e)&&(e=parseFloat(e),e=Bi(c.min,c.max,e/100)-c.min),typeof e!="number")return;let u=Bi(l.min,l.max,r);n===l&&(u-=e),n.min=EW(n.min,e,i,u,o),n.max=EW(n.max,e,i,u,o)}function SW(n,e,[i,r,o],l,c){a0e(n,e[i],e[r],e[o],e.scale,l,c)}const l0e=["x","scaleX","originX"],c0e=["y","scaleY","originY"];function AW(n,e,i,r){SW(n.x,e,l0e,i?i.x:void 0,r?r.x:void 0),SW(n.y,e,c0e,i?i.y:void 0,r?r.y:void 0)}function CW(n){return n.translate===0&&n.scale===1}function ZZ(n){return CW(n.x)&&CW(n.y)}function TW(n,e){return n.min===e.min&&n.max===e.max}function u0e(n,e){return TW(n.x,e.x)&&TW(n.y,e.y)}function DW(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function YZ(n,e){return DW(n.x,e.x)&&DW(n.y,e.y)}function NW(n){return Do(n.x)/Do(n.y)}function PW(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class d0e{constructor(){this.members=[]}add(e){a8(this.members,e),e.scheduleRender()}remove(e){if(l8(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(e){const i=this.members.findIndex(o=>e===o);if(i===0)return!1;let r;for(let o=i;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,i){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,i&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:i,resumingFrom:r}=e;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function h0e(n,e,i){let r="";const o=n.x.translate/e.x,l=n.y.translate/e.y,c=(i==null?void 0:i.z)||0;if((o||l||c)&&(r=`translate3d(${o}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),i){const{transformPerspective:m,rotate:g,rotateX:y,rotateY:v,skewX:_,skewY:A}=i;m&&(r=`perspective(${m}px) ${r}`),g&&(r+=`rotate(${g}deg) `),y&&(r+=`rotateX(${y}deg) `),v&&(r+=`rotateY(${v}deg) `),_&&(r+=`skewX(${_}deg) `),A&&(r+=`skewY(${A}deg) `)}const u=n.x.scale*e.x,h=n.y.scale*e.y;return(u!==1||h!==1)&&(r+=`scale(${u}, ${h})`),r||"none"}const kj=["","X","Y","Z"],f0e={visibility:"hidden"},p0e=1e3;let m0e=0;function Ej(n,e,i,r){const{latestValues:o}=e;o[n]&&(i[n]=o[n],e.setStaticValue(n,0),r&&(r[n]=0))}function JZ(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const i=RZ(e);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(i,"transform",Wi,!(o||l))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&JZ(r)}function QZ({attachResizeListener:n,defaultParent:e,measureScroll:i,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},u=e==null?void 0:e()){this.id=m0e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(y0e),this.nodes.forEach(k0e),this.nodes.forEach(E0e),this.nodes.forEach(v0e)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new t0e)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new d8),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const h=this.eventHandlers.get(c);h&&h.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=vZ(c)&&!mge(c),this.instance=c;const{layoutId:u,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),n){let g;const y=()=>this.root.updateBlockedByResize=!1;n(c,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=n0e(y,250),ND.hasAnimatedSinceResize&&(ND.hasAnimatedSinceResize=!1,this.nodes.forEach(jW))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&m&&(u||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeLayoutChanged:v,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||m.getDefaultTransition()||D0e,{onLayoutAnimationStart:S,onLayoutAnimationComplete:C}=m.getProps(),T=!this.targetLayout||!YZ(this.targetLayout,_),N=!y&&v;if(this.options.layoutRoot||this.resumeFrom||N||y&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const I={...E8(A,"layout"),onPlay:S,onComplete:C};(m.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I),this.setAnimationOrigin(g,N)}else y||jW(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Nm(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(S0e),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&JZ(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(IW);return}this.isUpdating||this.nodes.forEach(x0e),this.isUpdating=!1,this.nodes.forEach(_0e),this.nodes.forEach(g0e),this.nodes.forEach(b0e),this.clearAllSnapshots();const u=ra.now();xs.delta=af(0,1e3/60,u-xs.timestamp),xs.timestamp=u,xs.isProcessing=!0,mj.update.process(xs),mj.preRender.process(xs),mj.render.process(xs),xs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,A8.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(w0e),this.sharedNodes.forEach(A0e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Wi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Wi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Do(this.snapshot.measuredBox.x)&&!Do(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ir(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u&&this.instance){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!ZZ(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;c&&this.instance&&(u||Qg(this.latestValues)||g)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return c&&(h=this.removeTransform(h)),N0e(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:c}=this.options;if(!c)return ir();const u=c.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(P0e))){const{scroll:g}=this.root;g&&(Hv(u.x,g.offset.x),Hv(u.y,g.offset.y))}return u}removeElementScroll(c){var h;const u=ir();if(Ol(u,c),(h=this.scroll)!=null&&h.wasRoot)return u;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:v}=g;g!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Ol(u,c),Hv(u.x,y.offset.x),Hv(u.y,y.offset.y))}return u}applyTransform(c,u=!1){const h=ir();Ol(h,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];!u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Gv(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Qg(g.latestValues)&&Gv(h,g.latestValues)}return Qg(this.latestValues)&&Gv(h,this.latestValues),h}removeTransform(c){const u=ir();Ol(u,c);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!Qg(m.latestValues))continue;yM(m.latestValues)&&m.updateSnapshot();const g=ir(),y=m.measurePageBox();Ol(g,y),AW(u,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Qg(this.latestValues)&&AW(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var v;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!(!this.layout||!(g||y))){if(this.resolvedRelativeTargetAt=xs.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ir(),this.relativeTargetOrigin=ir(),h2(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),Ol(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ir(),this.targetWithTransforms=ir()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),jbe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ol(this.target,this.layout.layoutBox),VZ(this.target,this.targetDelta)):Ol(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ir(),this.relativeTargetOrigin=ir(),h2(this.relativeTargetOrigin,this.target,_.target),Ol(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||yM(this.parent.latestValues)||zZ(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var A;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===xs.timestamp&&(h=!1),h)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;Ol(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,v=this.treeScale.y;Rbe(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ir());const{target:_}=c;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(kW(this.prevProjectionDelta.x,this.projectionDelta.x),kW(this.prevProjectionDelta.y,this.projectionDelta.y)),d2(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==v||!PW(this.projectionDelta.x,this.prevProjectionDelta.x)||!PW(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=qv(),this.projectionDelta=qv(),this.projectionDeltaWithTransform=qv()}setAnimationOrigin(c,u=!1){const h=this.snapshot,m=h?h.latestValues:{},g={...this.latestValues},y=qv();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const v=ir(),_=h?h.source:void 0,A=this.layout?this.layout.source:void 0,S=_!==A,C=this.getStack(),T=!C||C.members.length<=1,N=!!(S&&!T&&this.options.crossfade===!0&&!this.path.some(T0e));this.animationProgress=0;let I;this.mixTargetDelta=O=>{const F=O/1e3;RW(y.x,c.x,F),RW(y.y,c.y,F),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(h2(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),C0e(this.relativeTarget,this.relativeTargetOrigin,v,F),I&&u0e(this.relativeTarget,I)&&(this.isProjectionDirty=!1),I||(I=ir()),Ol(I,this.relativeTarget)),S&&(this.animationValues=g,r0e(g,m,this.latestValues,F,N,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var u,h,m;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(m=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||m.stop(),this.pendingAnimation&&(Nm(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Wi.update(()=>{ND.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=T1(0)),this.currentAnimation=Qbe(this.motionValue,[0,1e3],{...c,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),c.onUpdate&&c.onUpdate(g)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(p0e),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:h,layout:m,latestValues:g}=c;if(!(!u||!h||!m)){if(this!==c&&this.layout&&m&&eY(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||ir();const y=Do(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+y;const v=Do(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+v}Ol(u,h),Gv(u,g),d2(this.projectionDeltaWithTransform,this.layoutCorrected,u,g)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new d0e),this.sharedNodes.get(c).add(u);const m=u.options.initialPromotionConfig;u.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var u;const{layoutId:c}=this.options;return c?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:c}=this.options;return c?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const m={};h.z&&Ej("z",c,m,this.animationValues);for(let g=0;g<kj.length;g++)Ej(`rotate${kj[g]}`,c,m,this.animationValues),Ej(`skew${kj[g]}`,c,m,this.animationValues);c.render();for(const g in m)c.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return f0e;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=DD(c==null?void 0:c.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=DD(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Qg(this.latestValues)&&(_.transform=h?h({},""):"none",this.hasProjected=!1),_}const g=m.animationValues||m.latestValues;this.applyTransformsToTarget(),u.transform=h0e(this.projectionDeltaWithTransform,this.treeScale,g),h&&(u.transform=h(g,u.transform));const{x:y,y:v}=this.projectionDelta;u.transformOrigin=`${y.origin*100}% ${v.origin*100}% 0`,m.animationValues?u.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const _ in z2){if(g[_]===void 0)continue;const{correct:A,applyTo:S,isCSSVariable:C}=z2[_],T=u.transform==="none"?g[_]:A(g[_],m);if(S){const N=S.length;for(let I=0;I<N;I++)u[S[I]]=T}else C?this.options.visualElement.renderState.vars[_]=T:u[_]=T}return this.options.layoutId&&(u.pointerEvents=m===this?DD(c==null?void 0:c.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var u;return(u=c.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(IW),this.root.sharedNodes.clear()}}}function g0e(n){n.updateLayout()}function b0e(n){var i;const e=((i=n.resumeFrom)==null?void 0:i.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=n.layout,{animationType:l}=n.options,c=e.source!==n.layout.source;l==="size"?Ll(y=>{const v=c?e.measuredBox[y]:e.layoutBox[y],_=Do(v);v.min=r[y].min,v.max=v.min+_}):eY(l,e.layoutBox,r)&&Ll(y=>{const v=c?e.measuredBox[y]:e.layoutBox[y],_=Do(r[y]);v.max=v.min+_,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+_)});const u=qv();d2(u,r,e.layoutBox);const h=qv();c?d2(h,n.applyTransform(o,!0),e.measuredBox):d2(h,r,e.layoutBox);const m=!ZZ(u);let g=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:_}=y;if(v&&_){const A=ir();h2(A,e.layoutBox,v.layoutBox);const S=ir();h2(S,r,_.layoutBox),YZ(A,S)||(g=!0),y.options.layoutRoot&&(n.relativeTarget=S,n.relativeTargetOrigin=A,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function y0e(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function v0e(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function w0e(n){n.clearSnapshot()}function IW(n){n.clearMeasurements()}function x0e(n){n.isLayoutDirty=!1}function _0e(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function jW(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function k0e(n){n.resolveTargetDelta()}function E0e(n){n.calcProjection()}function S0e(n){n.resetSkewAndRotation()}function A0e(n){n.removeLeadSnapshot()}function RW(n,e,i){n.translate=Bi(e.translate,0,i),n.scale=Bi(e.scale,1,i),n.origin=e.origin,n.originPoint=e.originPoint}function MW(n,e,i,r){n.min=Bi(e.min,i.min,r),n.max=Bi(e.max,i.max,r)}function C0e(n,e,i,r){MW(n.x,e.x,i.x,r),MW(n.y,e.y,i.y,r)}function T0e(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const D0e={duration:.45,ease:[.4,0,.1,1]},OW=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),FW=OW("applewebkit/")&&!OW("chrome/")?Math.round:nc;function UW(n){n.min=FW(n.min),n.max=FW(n.max)}function N0e(n){UW(n.x),UW(n.y)}function eY(n,e,i){return n==="position"||n==="preserve-aspect"&&!Ibe(NW(e),NW(i),.2)}function P0e(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const I0e=QZ({attachResizeListener:(n,e)=>W2(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Sj={current:void 0},tY=QZ({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Sj.current){const n=new I0e({});n.mount(window),n.setOptions({layoutScroll:!0}),Sj.current=n}return Sj.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),j0e={pan:{Feature:Kbe},drag:{Feature:Xbe,ProjectionNode:tY,MeasureLayout:GZ}};function LW(n,e,i){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,l=r[o];l&&Wi.postRender(()=>l(e,VS(e)))}class R0e extends $m{mount(){const{current:e}=this.node;e&&(this.unmount=uge(e,(i,r)=>(LW(this.node,r,"Start"),o=>LW(this.node,o,"End"))))}unmount(){}}class M0e extends $m{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=LS(W2(this.node.current,"focus",()=>this.onFocus()),W2(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function BW(n,e,i){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),l=r[o];l&&Wi.postRender(()=>l(e,VS(e)))}class O0e extends $m{mount(){const{current:e}=this.node;e&&(this.unmount=pge(e,(i,r)=>(BW(this.node,r,"Start"),(o,{success:l})=>BW(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const xM=new WeakMap,Aj=new WeakMap,F0e=n=>{const e=xM.get(n.target);e&&e(n)},U0e=n=>{n.forEach(F0e)};function L0e({root:n,...e}){const i=n||document;Aj.has(i)||Aj.set(i,{});const r=Aj.get(i),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(U0e,{root:n,...e})),r[o]}function B0e(n,e,i){const r=L0e(e);return xM.set(n,i),r.observe(n),()=>{xM.delete(n),r.unobserve(n)}}const z0e={some:0,all:1};class V0e extends $m{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:i,margin:r,amount:o="some",once:l}=e,c={root:i?i.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:z0e[o]},u=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),v=m?g:y;v&&v(h)};return B0e(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:i}=this.node;["amount","margin","root"].some(W0e(e,i))&&this.startObserver()}unmount(){}}function W0e({viewport:n={}},{viewport:e={}}={}){return i=>n[i]!==e[i]}const $0e={inView:{Feature:V0e},tap:{Feature:O0e},focus:{Feature:M0e},hover:{Feature:R0e}},q0e={layout:{ProjectionNode:tY,MeasureLayout:GZ}},_M={current:null},nY={current:!1};function H0e(){if(nY.current=!0,!!s8)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>_M.current=n.matches;n.addListener(e),e()}else _M.current=!1}const G0e=new WeakMap;function X0e(n,e,i){for(const r in e){const o=e[r],l=i[r];if(Js(o))n.addValue(r,o);else if(Js(l))n.addValue(r,T1(o,{owner:n}));else if(l!==o)if(n.hasValue(r)){const c=n.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(r);n.addValue(r,T1(c!==void 0?c:o,{owner:n}))}}for(const r in i)e[r]===void 0&&n.removeValue(r);return e}const zW=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class K0e{scrapeMotionValuesFromProps(e,i,r){return{}}constructor({parent:e,props:i,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=k8,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=ra.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Wi.render(this.render,!1,!0))};const{latestValues:h,renderState:m}=c;this.latestValues=h,this.baseTarget={...h},this.initialValues=i.initial?{...h}:{},this.renderState=m,this.parent=e,this.props=i,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=u,this.blockInitialAnimation=!!l,this.isControllingVariants=u3(i),this.isVariantNode=kZ(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(i,{},this);for(const v in y){const _=y[v];h[v]!==void 0&&Js(_)&&_.set(h[v],!1)}}mount(e){this.current=e,G0e.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),nY.current||H0e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_M.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Nm(this.notifyUpdate),Nm(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const i=this.features[e];i&&(i.unmount(),i.isMounted=!1)}this.current=null}bindToMotionValue(e,i){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=X1.has(e);r&&this.onBindTransform&&this.onBindTransform();const o=i.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Wi.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=i.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,i)),this.valueSubscriptions.set(e,()=>{o(),l(),c&&c(),i.owner&&i.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in D1){const i=D1[e];if(!i)continue;const{isEnabled:r,Feature:o}=i;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ir()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,i){this.latestValues[e]=i}update(e,i){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<zW.length;r++){const o=zW[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=e[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=X0e(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(e),()=>i.variantChildren.delete(e)}addValue(e,i){const r=this.values.get(e);i!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,i),this.values.set(e,i),this.latestValues[e]=i.get())}removeValue(e){this.values.delete(e);const i=this.valueSubscriptions.get(e);i&&(i(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,i){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&i!==void 0&&(r=T1(i===null?void 0:i,{owner:this}),this.addValue(e,r)),r}readValue(e,i){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(NK(r)||IK(r))?r=parseFloat(r):!bge(r)&&Pm.test(i)&&(r=pZ(e,i)),this.setBaseTarget(e,Js(r)?r.get():r)),Js(r)?r.get():r}setBaseTarget(e,i){this.baseTarget[e]=i}getBaseTarget(e){var l;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const c=R8(this.props,i,(l=this.presenceContext)==null?void 0:l.custom);c&&(r=c[e])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Js(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,i){return this.events[e]||(this.events[e]=new d8),this.events[e].add(i)}notify(e,...i){this.events[e]&&this.events[e].notify(...i)}}class iY extends K0e{constructor(){super(...arguments),this.KeyframeResolver=sge}sortInstanceNodePosition(e,i){return e.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(e,i){return e.style?e.style[i]:void 0}removeValueFromRenderState(e,{vars:i,style:r}){delete i[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Js(e)&&(this.childSubscription=e.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function rY(n,{style:e,vars:i},r,o){Object.assign(n.style,e,o&&o.getProjectionStyles(r));for(const l in i)n.style.setProperty(l,i[l])}function Z0e(n){return window.getComputedStyle(n)}class Y0e extends iY{constructor(){super(...arguments),this.type="html",this.renderInstance=rY}readValueFromInstance(e,i){var r;if(X1.has(i))return(r=this.projection)!=null&&r.isProjecting?cM(i):Eme(e,i);{const o=Z0e(e),l=(p8(i)?o.getPropertyValue(i):o[i])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:i}){return WZ(e,i)}build(e,i,r){P8(e,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,i,r){return M8(e,i,r)}}const sY=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function J0e(n,e,i,r){rY(n,e,void 0,r);for(const o in e.attrs)n.setAttribute(sY.has(o)?o:N8(o),e.attrs[o])}class Q0e extends iY{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ir}getBaseTargetFromProps(e,i){return e[i]}readValueFromInstance(e,i){if(X1.has(i)){const r=fZ(i);return r&&r.default||0}return i=sY.has(i)?i:N8(i),e.getAttribute(i)}scrapeMotionValuesFromProps(e,i,r){return jZ(e,i,r)}build(e,i,r){DZ(e,i,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,i,r,o){J0e(e,i,r,o)}mount(e){this.isSVGTag=PZ(e.tagName),super.mount(e)}}const eye=(n,e)=>j8(n)?new Q0e(e):new Y0e(e,{allowProjection:n!==H.Fragment}),tye=Jge({...Ebe,...$0e,...j0e,...q0e},eye),oY=kge(tye);function nye(){var v;const[n,e]=H.useState(""),[i,r]=H.useState(""),[o,l]=H.useState(null),[c,u]=H.useState(!1),h=ns(),g=(v=Ed().state)==null?void 0:v.message,y=async _=>{_.preventDefault(),l(null),u(!0);try{const{data:A,error:S}=await je.auth.signInWithPassword({email:n,password:i});if(S)throw S;A!=null&&A.user&&h("/dashboard")}catch(A){A instanceof Error?A.message.includes("Invalid login credentials")?l("Invalid email or password"):A.message.includes("Email not confirmed")?l("Please confirm your email address before logging in"):l(A.message):l("An unexpected error occurred during login")}finally{u(!1)}};return b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#1a365d] to-[#0f2942] py-12 px-4 sm:px-6 lg:px-8",children:b.jsxs(oY.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md w-full space-y-8 bg-white p-8 rounded-2xl shadow-xl",children:[b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("img",{src:B0,alt:"Accreda Logo",className:"h-24 w-auto mb-6 cursor-pointer",onClick:()=>h("/")}),b.jsx("h2",{className:"text-2xl font-bold text-[#1a365d]",children:"Welcome back"}),b.jsx("p",{className:"mt-2 text-sm text-[#4a5568]",children:"Sign in to your EIT Track account"})]}),g&&b.jsx("div",{className:"rounded-lg bg-green-50 p-4 border border-green-100",children:b.jsx("div",{className:"text-sm text-green-700",children:g})}),b.jsxs("form",{className:"mt-8 space-y-6",onSubmit:y,children:[o&&b.jsx("div",{className:"rounded-lg bg-red-50 p-4 border border-red-100",children:b.jsx("div",{className:"text-sm text-red-700",children:o})}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-[#1a365d] mb-1",children:"Email address"}),b.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-200 placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a365d] focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your email",value:n,onChange:_=>e(_.target.value)})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-[#1a365d] mb-1",children:"Password"}),b.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-200 placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a365d] focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your password",value:i,onChange:_=>r(_.target.value)})]})]}),b.jsx("div",{className:"flex items-center justify-end",children:b.jsx("div",{className:"text-sm",children:b.jsx(Yl,{to:"/forgot-password",className:"font-medium text-[#1a365d] hover:text-[#2c5282] transition-colors",children:"Forgot your password?"})})}),b.jsx("div",{children:b.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-2.5 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-[#1a365d] hover:bg-[#2c5282] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#1a365d] transition-all duration-300 transform hover:scale-105 disabled:opacity-75 disabled:cursor-not-allowed",children:c?"Signing in...":"Sign in"})}),b.jsx("div",{className:"text-center",children:b.jsxs("p",{className:"text-sm text-[#4a5568]",children:["Don't have an account?"," ",b.jsx(Yl,{to:"/signup",className:"font-medium text-[#1a365d] hover:text-[#2c5282] transition-colors",children:"Create one now"})]})})]})]})})}function iye(){const[n,e]=H.useState({email:"",password:"",confirmPassword:"",fullName:"",organization:"",accountType:"eit",startDate:"",targetDate:""}),[i,r]=H.useState(null),[o,l]=H.useState(!1),[c,u]=H.useState(null),h=ns(),m=async g=>{g.preventDefault(),r(null),l(!0);try{if(n.password!==n.confirmPassword)throw new Error("Passwords do not match");if(n.password.length<6)throw new Error("Password must be at least 6 characters long");if(!n.fullName.trim())throw new Error("Full name is required");if(n.accountType==="supervisor"&&!n.organization.trim())throw new Error("Organization is required for supervisors");if(n.accountType==="eit"&&(!n.startDate||!n.targetDate))throw new Error("Please provide your program start and expected end date.");const{data:y,error:v}=await je.auth.signUp({email:n.email,password:n.password,options:{emailRedirectTo:`${window.location.origin}/login`}});if(v)throw new Error(`Authentication error: ${v.message}`);if(!y.user)throw new Error("Failed to create user account");const _={id:y.user.id,email:n.email,full_name:n.fullName,account_type:n.accountType,...n.accountType==="supervisor"&&{organization:n.organization},...n.accountType==="eit"&&{start_date:n.startDate,target_date:n.targetDate}},{error:A}=await je.from(n.accountType==="eit"?"eit_profiles":"supervisor_profiles").insert([_]);if(A)throw new Error(`Failed to create profile: ${A.message}`);u("Account created successfully! Please check your email for verification."),e({email:"",password:"",confirmPassword:"",fullName:"",organization:"",accountType:"eit",startDate:"",targetDate:""}),h("/login",{state:{message:"Please check your email to confirm your account. You can now sign in."}})}catch(y){let v=y instanceof Error?y.message:"An error occurred during signup";(v.includes("duplicate key value")||v.includes("unique constraint")||v.toLowerCase().includes("already exists"))&&(v="An account with this email already exists. Please log in or use a different email address."),r(v)}finally{l(!1)}};return H.useEffect(()=>{je.auth.getSession().then(({data:{session:g}})=>{g&&h("/dashboard")})},[h]),b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#1a365d] to-[#0f2942] py-12 px-4 sm:px-6 lg:px-8",children:b.jsxs(oY.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md w-full space-y-8 bg-white p-8 rounded-2xl shadow-xl",children:[b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("img",{src:B0,alt:"Accreda Logo",className:"h-24 w-auto mb-6 cursor-pointer",onClick:()=>h("/")}),b.jsx("h2",{className:"text-2xl font-bold text-[#1a365d]",children:"Create your account"}),b.jsx("p",{className:"mt-2 text-sm text-[#4a5568]",children:"Join EIT Track to start your journey"})]}),b.jsxs("form",{className:"mt-8 space-y-6",onSubmit:m,children:[i&&b.jsx("div",{className:"rounded-lg bg-red-50 p-4 border border-red-100",children:b.jsx("div",{className:"text-sm text-red-700",children:i})}),c&&b.jsx("div",{className:"rounded-lg bg-green-50 p-4 border border-green-100",children:b.jsx("div",{className:"text-sm text-green-700",children:c})}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex justify-center mb-4 gap-3",children:[b.jsx("button",{type:"button",className:`px-4 py-2 rounded-lg border font-semibold transition-all duration-200 transform focus:outline-none focus:ring-2 focus:ring-[#1a365d]
                  ${n.accountType==="eit"?"bg-[#1a365d] text-white scale-105 shadow-lg":"bg-white text-[#1a365d] border-[#1a365d] hover:scale-105 hover:brightness-95"}
                `,onClick:()=>e({...n,accountType:"eit"}),children:"EIT"}),b.jsx("button",{type:"button",className:`px-4 py-2 rounded-lg border font-semibold transition-all duration-200 transform focus:outline-none focus:ring-2 focus:ring-[#1a365d]
                  ${n.accountType==="supervisor"?"bg-[#1a365d] text-white scale-105 shadow-lg":"bg-white text-[#1a365d] border-[#1a365d] hover:scale-105 hover:brightness-95"}
                `,onClick:()=>e({...n,accountType:"supervisor"}),children:"Supervisor"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"full-name",className:"block text-sm font-medium text-[#1a365d] mb-1",children:"Full Name"}),b.jsx("input",{id:"full-name",name:"full-name",type:"text",autoComplete:"name",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-200 placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a365d] focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your full name",value:n.fullName,onChange:g=>e({...n,fullName:g.target.value})})]}),n.accountType==="supervisor"&&b.jsxs("div",{children:[b.jsx("label",{htmlFor:"organization",className:"block text-sm font-medium text-[#1a365d] mb-1",children:"Organization"}),b.jsx("input",{id:"organization",name:"organization",type:"text",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-200 placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a365d] focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your organization",value:n.organization,onChange:g=>e({...n,organization:g.target.value})})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-[#1a365d] mb-1",children:"Email address"}),b.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-200 placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a365d] focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your email",value:n.email,onChange:g=>e({...n,email:g.target.value})})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-[#1a365d] mb-1",children:"Password"}),b.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-200 placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a365d] focus:border-transparent sm:text-sm transition-colors",placeholder:"Create a password",value:n.password,onChange:g=>e({...n,password:g.target.value})})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-[#1a365d] mb-1",children:"Confirm Password"}),b.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-200 placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a365d] focus:border-transparent sm:text-sm transition-colors",placeholder:"Confirm your password",value:n.confirmPassword,onChange:g=>e({...n,confirmPassword:g.target.value})})]}),n.accountType==="eit"&&b.jsxs("div",{className:"card p-4 mb-2 bg-blue-50/50 border border-blue-100 rounded-lg",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),b.jsx("span",{className:"font-semibold text-blue-800",children:"Program Timeline"})]}),b.jsx("p",{className:"text-xs text-blue-700 mb-3",children:"Set your program start and expected end date for personalized progress tracking."}),b.jsxs("div",{className:"flex flex-col gap-3",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium text-blue-900 mb-1",children:"Start Date"}),b.jsx("input",{type:"date",className:"w-full border border-blue-200 rounded px-3 py-2 text-blue-900 focus:outline-none focus:ring-2 focus:ring-blue-400",value:n.startDate,onChange:g=>e({...n,startDate:g.target.value}),required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium text-blue-900 mb-1",children:"Expected End Date"}),b.jsx("input",{type:"date",className:"w-full border border-blue-200 rounded px-3 py-2 text-blue-900 focus:outline-none focus:ring-2 focus:ring-blue-400",value:n.targetDate,onChange:g=>e({...n,targetDate:g.target.value}),required:!0})]})]})]})]}),b.jsx("div",{children:b.jsx("button",{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-2.5 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-[#1a365d] hover:bg-[#2c5282] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#1a365d] transition-all duration-300 transform hover:scale-105 disabled:opacity-75 disabled:cursor-not-allowed",children:o?"Creating account...":"Create account"})}),b.jsx("div",{className:"text-center",children:b.jsxs("p",{className:"text-sm text-[#4a5568]",children:["Already have an account?"," ",b.jsx(Yl,{to:"/login",className:"font-medium text-[#1a365d] hover:text-[#2c5282] transition-colors",children:"Sign in"})]})})]})]})})}function rye(){const[n,e]=H.useState(""),[i,r]=H.useState(null),[o,l]=H.useState(null),[c,u]=H.useState(!1),h=async m=>{m.preventDefault(),r(null),l(null),u(!0);try{const{error:g}=await je.auth.resetPasswordForEmail(n,{redirectTo:`${window.location.origin}/reset-password`});if(g)throw g;l("Password reset instructions have been sent to your email address."),e("")}catch(g){r(g instanceof Error?g.message:"An error occurred while sending reset instructions")}finally{u(!1)}};return b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-slate-50 to-slate-100 py-12 px-4 sm:px-6 lg:px-8",children:b.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg",children:[b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("img",{src:B0,alt:"Accreda Logo",className:"h-24 w-auto mb-6"}),b.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Reset your password"}),b.jsx("p",{className:"mt-2 text-sm text-slate-600 text-center",children:"Enter your email address and we'll send you instructions to reset your password"})]}),o&&b.jsx("div",{className:"rounded-lg bg-green-50 p-4 border border-green-100",children:b.jsx("div",{className:"text-sm text-green-700",children:o})}),b.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[i&&b.jsx("div",{className:"rounded-lg bg-red-50 p-4 border border-red-100",children:b.jsx("div",{className:"text-sm text-red-700",children:i})}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-slate-700 mb-1",children:"Email address"}),b.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your email",value:n,onChange:m=>e(m.target.value)})]}),b.jsx("div",{children:b.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-2.5 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-colors disabled:opacity-75 disabled:cursor-not-allowed",children:c?"Sending instructions...":"Send reset instructions"})}),b.jsx("div",{className:"text-center",children:b.jsxs("p",{className:"text-sm text-slate-600",children:["Remember your password?"," ",b.jsx(Yl,{to:"/login",className:"font-medium text-teal-600 hover:text-teal-500 transition-colors",children:"Sign in"})]})})]})]})})}function sye(){const[n,e]=H.useState(""),[i,r]=H.useState(""),[o,l]=H.useState(null),[c,u]=H.useState(!1),h=ns();H.useEffect(()=>{je.auth.getSession().then(({data:{session:g}})=>{g||h("/login",{state:{message:"Password reset link is invalid or has expired. Please try again."}})})},[h]);const m=async g=>{if(g.preventDefault(),l(null),n!==i){l("Passwords do not match");return}if(n.length<6){l("Password must be at least 6 characters long");return}u(!0);try{const{error:y}=await je.auth.updateUser({password:n});if(y)throw y;await je.auth.signOut(),h("/login",{state:{message:"Your password has been reset successfully. Please sign in with your new password."}})}catch(y){l(y instanceof Error?y.message:"An error occurred while resetting your password")}finally{u(!1)}};return b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-slate-50 to-slate-100 py-12 px-4 sm:px-6 lg:px-8",children:b.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg",children:[b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("img",{src:B0,alt:"Accreda Logo",className:"h-24 w-auto mb-6"}),b.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Set new password"}),b.jsx("p",{className:"mt-2 text-sm text-slate-600 text-center",children:"Please enter your new password below"})]}),b.jsxs("form",{className:"mt-8 space-y-6",onSubmit:m,children:[o&&b.jsx("div",{className:"rounded-lg bg-red-50 p-4 border border-red-100",children:b.jsx("div",{className:"text-sm text-red-700",children:o})}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-1",children:"New Password"}),b.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your new password",value:n,onChange:g=>e(g.target.value)})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-slate-700 mb-1",children:"Confirm New Password"}),b.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Confirm your new password",value:i,onChange:g=>r(g.target.value)})]})]}),b.jsx("div",{children:b.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-2.5 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-colors disabled:opacity-75 disabled:cursor-not-allowed",children:c?"Resetting password...":"Reset password"})})]})]})})}/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oye={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aye=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ut=(n,e)=>{const i=H.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:u="",children:h,...m},g)=>H.createElement("svg",{ref:g,...oye,width:o,height:o,stroke:r,strokeWidth:c?Number(l)*24/Number(o):l,className:["lucide",`lucide-${aye(n)}`,u].join(" "),...m},[...e.map(([y,v])=>H.createElement(y,v)),...Array.isArray(h)?h:[h]]));return i.displayName=`${n}`,i};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=Ut("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8=Ut("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lye=Ut("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=Ut("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cye=Ut("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uye=Ut("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=Ut("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dye=Ut("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=Ut("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=Ut("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=Ut("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VW=Ut("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=Ut("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=Ut("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=Ut("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=Ut("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hye=Ut("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fye=Ut("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=Ut("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=Ut("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pye=Ut("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mye=Ut("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gye=Ut("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=Ut("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WW=Ut("CornerDownRight",[["polyline",{points:"15 10 20 15 15 20",key:"1q7qjw"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=Ut("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=Ut("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B8=Ut("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8=Ut("FilePen",[["path",{d:"M12 22h6a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v10",key:"x7tsz2"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10.4 12.6a2 2 0 1 1 3 3L8 21l-4 1 1-4Z",key:"o3xyfb"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=Ut("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bye=Ut("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yye=Ut("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=Ut("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=Ut("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=Ut("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vye=Ut("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=Ut("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V8=Ut("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W8=Ut("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $W=Ut("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dY=Ut("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=Ut("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=Ut("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=Ut("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=Ut("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=Ut("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=Ut("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fY=Ut("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $8=Ut("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=Ut("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q8=Ut("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wye=Ut("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=Ut("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xye=Ut("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mY=Ut("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=Ut("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=Ut("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ye=Ut("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bY=Ut("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=Ut("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=Ut("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=Ut("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),kye={},qW=n=>{let e;const i=new Set,r=(g,y)=>{const v=typeof g=="function"?g(e):g;if(!Object.is(v,e)){const _=e;e=y??(typeof v!="object"||v===null)?v:Object.assign({},e,v),i.forEach(A=>A(e,_))}},o=()=>e,h={setState:r,getState:o,getInitialState:()=>m,subscribe:g=>(i.add(g),()=>i.delete(g)),destroy:()=>{(kye?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},m=e=n(r,o,h);return h},Eye=n=>n?qW(n):qW;var vY={exports:{}},wY={},xY={exports:{}},_Y={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P1=H;function Sye(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Aye=typeof Object.is=="function"?Object.is:Sye,Cye=P1.useState,Tye=P1.useEffect,Dye=P1.useLayoutEffect,Nye=P1.useDebugValue;function Pye(n,e){var i=e(),r=Cye({inst:{value:i,getSnapshot:e}}),o=r[0].inst,l=r[1];return Dye(function(){o.value=i,o.getSnapshot=e,Cj(o)&&l({inst:o})},[n,i,e]),Tye(function(){return Cj(o)&&l({inst:o}),n(function(){Cj(o)&&l({inst:o})})},[n]),Nye(i),i}function Cj(n){var e=n.getSnapshot;n=n.value;try{var i=e();return!Aye(n,i)}catch{return!0}}function Iye(n,e){return e()}var jye=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Iye:Pye;_Y.useSyncExternalStore=P1.useSyncExternalStore!==void 0?P1.useSyncExternalStore:jye;xY.exports=_Y;var Rye=xY.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f3=H,Mye=Rye;function Oye(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Fye=typeof Object.is=="function"?Object.is:Oye,Uye=Mye.useSyncExternalStore,Lye=f3.useRef,Bye=f3.useEffect,zye=f3.useMemo,Vye=f3.useDebugValue;wY.useSyncExternalStoreWithSelector=function(n,e,i,r,o){var l=Lye(null);if(l.current===null){var c={hasValue:!1,value:null};l.current=c}else c=l.current;l=zye(function(){function h(_){if(!m){if(m=!0,g=_,_=r(_),o!==void 0&&c.hasValue){var A=c.value;if(o(A,_))return y=A}return y=_}if(A=y,Fye(g,_))return A;var S=r(_);return o!==void 0&&o(A,S)?(g=_,A):(g=_,y=S)}var m=!1,g,y,v=i===void 0?null:i;return[function(){return h(e())},v===null?void 0:function(){return h(v())}]},[e,i,r,o]);var u=Uye(n,l[0],l[1]);return Bye(function(){c.hasValue=!0,c.value=u},[u]),Vye(u),u};vY.exports=wY;var Wye=vY.exports;const $ye=MN(Wye),kY={},{useDebugValue:qye}=or,{useSyncExternalStoreWithSelector:Hye}=$ye;let HW=!1;const Gye=n=>n;function Xye(n,e=Gye,i){(kY?"production":void 0)!=="production"&&i&&!HW&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),HW=!0);const r=Hye(n.subscribe,n.getState,n.getServerState||n.getInitialState,e,i);return qye(r),r}const GW=n=>{(kY?"production":void 0)!=="production"&&typeof n!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof n=="function"?Eye(n):n,i=(r,o)=>Xye(e,r,o);return Object.assign(i,e),i},ac=n=>n?GW(n):GW;function Kye(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var EY=Kye,Zye=typeof Lt=="object"&&Lt&&Lt.Object===Object&&Lt,Yye=Zye,Jye=Yye,Qye=typeof self=="object"&&self&&self.Object===Object&&self,eve=Jye||Qye||Function("return this")(),SY=eve,tve=SY,nve=function(){return tve.Date.now()},ive=nve,rve=/\s/;function sve(n){for(var e=n.length;e--&&rve.test(n.charAt(e)););return e}var ove=sve,ave=ove,lve=/^\s+/;function cve(n){return n&&n.slice(0,ave(n)+1).replace(lve,"")}var uve=cve,dve=SY,hve=dve.Symbol,AY=hve,XW=AY,CY=Object.prototype,fve=CY.hasOwnProperty,pve=CY.toString,pk=XW?XW.toStringTag:void 0;function mve(n){var e=fve.call(n,pk),i=n[pk];try{n[pk]=void 0;var r=!0}catch{}var o=pve.call(n);return r&&(e?n[pk]=i:delete n[pk]),o}var gve=mve,bve=Object.prototype,yve=bve.toString;function vve(n){return yve.call(n)}var wve=vve,KW=AY,xve=gve,_ve=wve,kve="[object Null]",Eve="[object Undefined]",ZW=KW?KW.toStringTag:void 0;function Sve(n){return n==null?n===void 0?Eve:kve:ZW&&ZW in Object(n)?xve(n):_ve(n)}var Ave=Sve;function Cve(n){return n!=null&&typeof n=="object"}var Tve=Cve,Dve=Ave,Nve=Tve,Pve="[object Symbol]";function Ive(n){return typeof n=="symbol"||Nve(n)&&Dve(n)==Pve}var jve=Ive,Rve=uve,YW=EY,Mve=jve,JW=NaN,Ove=/^[-+]0x[0-9a-f]+$/i,Fve=/^0b[01]+$/i,Uve=/^0o[0-7]+$/i,Lve=parseInt;function Bve(n){if(typeof n=="number")return n;if(Mve(n))return JW;if(YW(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=YW(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=Rve(n);var i=Fve.test(n);return i||Uve.test(n)?Lve(n.slice(2),i?2:8):Ove.test(n)?JW:+n}var zve=Bve,Vve=EY,Tj=ive,QW=zve,Wve="Expected a function",$ve=Math.max,qve=Math.min;function Hve(n,e,i){var r,o,l,c,u,h,m=0,g=!1,y=!1,v=!0;if(typeof n!="function")throw new TypeError(Wve);e=QW(e)||0,Vve(i)&&(g=!!i.leading,y="maxWait"in i,l=y?$ve(QW(i.maxWait)||0,e):l,v="trailing"in i?!!i.trailing:v);function _(U){var V=r,B=o;return r=o=void 0,m=U,c=n.apply(B,V),c}function A(U){return m=U,u=setTimeout(T,e),g?_(U):c}function S(U){var V=U-h,B=U-m,Z=e-V;return y?qve(Z,l-B):Z}function C(U){var V=U-h,B=U-m;return h===void 0||V>=e||V<0||y&&B>=l}function T(){var U=Tj();if(C(U))return N(U);u=setTimeout(T,S(U))}function N(U){return u=void 0,v&&r?_(U):(r=o=void 0,c)}function I(){u!==void 0&&clearTimeout(u),m=0,r=h=o=u=void 0}function O(){return u===void 0?c:N(Tj())}function F(){var U=Tj(),V=C(U);if(r=arguments,o=this,h=U,V){if(u===void 0)return A(h);if(y)return clearTimeout(u),u=setTimeout(T,e),_(h)}return u===void 0&&(u=setTimeout(T,e)),c}return F.cancel=I,F.flush=O,F}var Gve=Hve;const Xve=MN(Gve),Kve=ac(n=>({results:[],loading:!1,error:null,search:Xve(async e=>{if(!e.trim()){n({results:[],loading:!1,error:null});return}n({loading:!0,error:null});try{const{data:{user:i}}=await je.auth.getUser();if(!i)throw new Error("No user found");const{data:r,error:o}=await je.rpc("search_all",{search_query:e,user_id:i.id});if(o)throw console.error("Search error:",o),new Error(o.message);const l=(r||[]).map(c=>{const u={id:c.id,type:c.type,title:c.title,description:c.description,category:c.category};switch(c.type){case"job":return{...u,metadata:{company:c.company,location:c.location}};case"reference":return{...u,metadata:{email:c.email,referenceNumber:c.reference_number}};case"validator":return{...u,metadata:{email:c.email,skillName:c.skill_name}};default:return u}});n({results:l,loading:!1})}catch(i){console.error("Search error:",i),n({error:"Failed to search",loading:!1})}},300),clearResults:()=>n({results:[],error:null})})),TY=()=>{const[n,e]=H.useState(""),[i,r]=H.useState(!1),[o,l]=H.useState(null),{results:c,loading:u,error:h,search:m,clearResults:g}=Kve(),y=ns(),v=H.useRef(null);H.useEffect(()=>{const T=N=>{v.current&&!v.current.contains(N.target)&&r(!1)};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[]),H.useEffect(()=>{(async()=>{const{data:{user:N}}=await la(()=>Promise.resolve().then(()=>AD),void 0).then(F=>F.supabase.auth.getUser());if(!N)return;const{data:I}=await la(async()=>{const{data:F}=await Promise.resolve().then(()=>AD);return{data:F}},void 0).then(F=>F.supabase.from("eit_profiles").select("id").eq("id",N.id).single()),{data:O}=await la(async()=>{const{data:F}=await Promise.resolve().then(()=>AD);return{data:F}},void 0).then(F=>F.supabase.from("supervisor_profiles").select("id").eq("id",N.id).single());O?l("supervisor"):I&&l("eit")})()},[]);const _=async T=>{if(e(T),T.trim()){r(!0);try{await m(T)}catch(N){console.error("Search error:",N),r(!0)}}else r(!1),g()},A=T=>{switch(r(!1),e(""),g(),T.type){case"document":y("/dashboard/documents"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("highlight-document",{detail:{documentId:T.id}}))},500);break;case"sao":y("/dashboard/saos"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("highlight-sao",{detail:{saoId:T.id}}))},500);break;case"skill":o==="eit"?(y("/dashboard/skills"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("scroll-to-skill",{detail:{skillId:T.id,timestamp:Date.now()}}))},500)):o==="supervisor"&&(y("/dashboard/supervisor/skills"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("scroll-to-skill",{detail:{skillId:T.id,timestamp:Date.now()}}))},500));break;case"job":y("/dashboard/references"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("scroll-to-item",{detail:{itemId:T.id,itemType:"job"}}))},500);break;case"reference":y("/dashboard/references"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("scroll-to-item",{detail:{itemId:T.id,itemType:"reference"}}))},500);break;case"validator":y("/dashboard/references"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("scroll-to-item",{detail:{itemId:T.id,itemType:"validator"}}))},500);break}},S=T=>{switch(T){case"document":return b.jsx(Sd,{size:16,className:"text-blue-500"});case"sao":return b.jsx(z8,{size:16,className:"text-amber-500"});case"skill":return b.jsx(K1,{size:16,className:"text-green-500"});case"job":return b.jsx(f2,{size:16,className:"text-purple-500"});case"reference":return b.jsx($S,{size:16,className:"text-indigo-500"});case"validator":return b.jsx(Im,{size:16,className:"text-teal-500"})}},C=T=>{if(!T.metadata)return null;switch(T.type){case"job":return`${T.metadata.company} • ${T.metadata.location}`;case"reference":return`Reference ${T.metadata.referenceNumber} • ${T.metadata.email}`;case"validator":return`${T.metadata.skillName} • ${T.metadata.email}`;default:return null}};return b.jsxs("div",{className:"relative",ref:v,children:[b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:"text",placeholder:"Search documents, SAOs, skills, jobs, references...",value:n,onChange:T=>_(T.target.value),className:"pl-9 pr-4 py-2 bg-slate-100 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 w-64"}),b.jsx($8,{className:"absolute left-3 top-2.5 text-slate-400",size:18}),u&&b.jsx(vye,{className:"absolute right-3 top-2.5 text-slate-400 animate-spin",size:18})]}),i&&(n.trim()||c.length>0)&&b.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white rounded-lg shadow-lg border border-slate-200 max-h-96 overflow-y-auto z-50",children:h?b.jsx("div",{className:"px-4 py-3 text-sm text-red-500",children:h}):c.length>0?b.jsx("div",{className:"py-2",children:c.map(T=>b.jsxs("button",{onClick:()=>A(T),className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center space-x-3",children:[S(T.type),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:T.title}),T.description&&b.jsx("p",{className:"text-xs text-slate-500 truncate",children:T.description}),T.category&&b.jsx("p",{className:"text-xs text-slate-500",children:T.category}),C(T)&&b.jsx("p",{className:"text-xs text-slate-500",children:C(T)})]})]},`${T.type}-${T.id}`))}):b.jsx("div",{className:"px-4 py-3 text-sm text-slate-500",children:"No results found"})})]})},DY=()=>{const[n,e]=H.useState(!1),[i,r]=H.useState(""),[o,l]=H.useState(""),[c,u]=H.useState(""),[h,m]=H.useState(null),g=H.useRef(null),y=ns();H.useEffect(()=>{(async()=>{var T,N,I;const{data:{user:C}}=await je.auth.getUser();if(C){l(C.email||""),r(((T=C.user_metadata)==null?void 0:T.full_name)||((N=C.email)==null?void 0:N.split("@")[0])||"User"),u(((I=C.user_metadata)==null?void 0:I.avatar_url)||"");const{data:O}=await je.from("eit_profiles").select("id").eq("id",C.id).single(),{data:F}=await je.from("supervisor_profiles").select("id").eq("id",C.id).single();F?m("supervisor"):O&&m("eit")}})()},[]),H.useEffect(()=>{const S=C=>{g.current&&!g.current.contains(C.target)&&e(!1)};return document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[]);const v=async()=>{try{await je.auth.signOut(),y("/login")}catch(S){console.error("Error signing out:",S)}},_=S=>S.split(" ").map(C=>C[0]).join("").toUpperCase().slice(0,2),A=()=>{y(h==="supervisor"?"/dashboard/supervisor/settings":"/dashboard/settings"),e(!1)};return b.jsxs("div",{className:"relative",ref:g,children:[b.jsxs("button",{className:"flex items-center space-x-2 focus:outline-none",onClick:()=>e(!n),children:[c?b.jsx("img",{src:c,alt:"Avatar",className:"w-8 h-8 rounded-full object-cover bg-teal-500 text-white"}):b.jsx("div",{className:"w-8 h-8 rounded-full bg-teal-500 flex items-center justify-center text-white",children:b.jsx("span",{className:"text-sm font-semibold",children:_(i)})}),b.jsx("span",{className:"hidden md:block text-sm font-medium",children:i}),b.jsx(WS,{size:16,className:`text-slate-500 transition-transform ${n?"rotate-180":""}`})]}),n&&b.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-1 z-50 border border-slate-200 animate-in fade-in slide-in-from-top-3 duration-200",children:[b.jsxs("div",{className:"px-4 py-2 border-b border-slate-200",children:[b.jsx("p",{className:"text-sm font-semibold",children:i}),b.jsx("p",{className:"text-xs text-slate-500",children:o})]}),b.jsxs("ul",{children:[b.jsx("li",{children:b.jsxs("button",{onClick:A,className:"w-full flex items-center px-4 py-2 text-sm text-slate-700 hover:bg-slate-50",children:[b.jsx(q8,{size:16,className:"mr-2"}),"Settings"]})}),b.jsx("li",{className:"border-t border-slate-200 mt-1",children:b.jsxs("button",{onClick:v,className:"w-full flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[b.jsx(V8,{size:16,className:"mr-2"}),"Sign out"]})})]})]})]})},p3=ac((n,e)=>({notifications:[],unreadCount:0,loading:!1,initialized:!1,initialize:async()=>{try{n({loading:!0});const{data:{user:i}}=await je.auth.getUser();if(!i)return;const{data:r,error:o}=await je.from("notifications").select("*").eq("user_id",i.id).order("created_at",{ascending:!1});if(o)throw o;n({notifications:r||[],unreadCount:(r==null?void 0:r.filter(l=>!l.read).length)||0,loading:!1,initialized:!0}),await e().setupRealtimeSubscriptions()}catch(i){console.error("Error initializing notifications:",i),n({loading:!1,initialized:!1})}},markAsRead:async i=>{try{const{error:r}=await je.from("notifications").update({read:!0}).eq("id",i);if(r)throw r;n(o=>({notifications:o.notifications.map(l=>l.id===i?{...l,read:!0}:l),unreadCount:o.unreadCount-1}))}catch(r){console.error("Error marking notification as read:",r)}},markAllAsRead:async()=>{try{const{data:{user:i}}=await je.auth.getUser();if(!i)return;const{error:r}=await je.from("notifications").update({read:!0}).eq("user_id",i.id).eq("read",!1);if(r)throw r;n(o=>({notifications:o.notifications.map(l=>({...l,read:!0})),unreadCount:0}))}catch(i){console.error("Error marking all notifications as read:",i)}},clearNotifications:()=>{n({notifications:[],unreadCount:0})},setupRealtimeSubscriptions:async()=>{const{data:{user:i}}=await je.auth.getUser();if(!i)return;const r=je.channel("notifications-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${i.id}`},o=>{const l=o.new;n(c=>({notifications:[l,...c.notifications],unreadCount:l.read?c.unreadCount:c.unreadCount+1}))}).subscribe();window.addEventListener("unload",()=>{r.unsubscribe()})}}));function Qr(n){const e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function NY(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}function Zve(n,e){const i=Qr(n);return isNaN(e)?NY(n,NaN):(i.setDate(i.getDate()+e),i)}const XT=43200,e$=1440;let Yve={};function Jve(){return Yve}function t$(n){const e=Qr(n),i=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return i.setUTCFullYear(e.getFullYear()),+n-+i}function Qve(n,e){const i=e*7;return Zve(n,i)}function PD(n,e){const i=Qr(n),r=Qr(e),o=i.getTime()-r.getTime();return o<0?-1:o>0?1:o}function ewe(n){return NY(n,Date.now())}function twe(n,e){const i=Qr(n),r=Qr(e),o=i.getFullYear()-r.getFullYear(),l=i.getMonth()-r.getMonth();return o*12+l}function nwe(n){return e=>{const r=(n?Math[n]:Math.trunc)(e);return r===0?0:r}}function iwe(n,e){return+Qr(n)-+Qr(e)}function rwe(n){const e=Qr(n);return e.setHours(23,59,59,999),e}function swe(n){const e=Qr(n),i=e.getMonth();return e.setFullYear(e.getFullYear(),i+1,0),e.setHours(23,59,59,999),e}function owe(n){const e=Qr(n);return+rwe(e)==+swe(e)}function awe(n,e){const i=Qr(n),r=Qr(e),o=PD(i,r),l=Math.abs(twe(i,r));let c;if(l<1)c=0;else{i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-o*l);let u=PD(i,r)===-o;owe(Qr(n))&&l===1&&PD(n,r)===1&&(u=!1),c=o*(l-Number(u))}return c===0?0:c}function lwe(n,e,i){const r=iwe(n,e)/1e3;return nwe(i==null?void 0:i.roundingMethod)(r)}const cwe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},uwe=(n,e,i)=>{let r;const o=cwe[n];return typeof o=="string"?r=o:e===1?r=o.one:r=o.other.replace("{{count}}",e.toString()),i!=null&&i.addSuffix?i.comparison&&i.comparison>0?"in "+r:r+" ago":r};function Dj(n){return(e={})=>{const i=e.width?String(e.width):n.defaultWidth;return n.formats[i]||n.formats[n.defaultWidth]}}const dwe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},hwe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},fwe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pwe={date:Dj({formats:dwe,defaultWidth:"full"}),time:Dj({formats:hwe,defaultWidth:"full"}),dateTime:Dj({formats:fwe,defaultWidth:"full"})},mwe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},gwe=(n,e,i,r)=>mwe[n];function mk(n){return(e,i)=>{const r=i!=null&&i.context?String(i.context):"standalone";let o;if(r==="formatting"&&n.formattingValues){const c=n.defaultFormattingWidth||n.defaultWidth,u=i!=null&&i.width?String(i.width):c;o=n.formattingValues[u]||n.formattingValues[c]}else{const c=n.defaultWidth,u=i!=null&&i.width?String(i.width):n.defaultWidth;o=n.values[u]||n.values[c]}const l=n.argumentCallback?n.argumentCallback(e):e;return o[l]}}const bwe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ywe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},vwe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},wwe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},xwe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_we={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},kwe=(n,e)=>{const i=Number(n),r=i%100;if(r>20||r<10)switch(r%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},Ewe={ordinalNumber:kwe,era:mk({values:bwe,defaultWidth:"wide"}),quarter:mk({values:ywe,defaultWidth:"wide",argumentCallback:n=>n-1}),month:mk({values:vwe,defaultWidth:"wide"}),day:mk({values:wwe,defaultWidth:"wide"}),dayPeriod:mk({values:xwe,defaultWidth:"wide",formattingValues:_we,defaultFormattingWidth:"wide"})};function gk(n){return(e,i={})=>{const r=i.width,o=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],l=e.match(o);if(!l)return null;const c=l[0],u=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],h=Array.isArray(u)?Awe(u,y=>y.test(c)):Swe(u,y=>y.test(c));let m;m=n.valueCallback?n.valueCallback(h):h,m=i.valueCallback?i.valueCallback(m):m;const g=e.slice(c.length);return{value:m,rest:g}}}function Swe(n,e){for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)&&e(n[i]))return i}function Awe(n,e){for(let i=0;i<n.length;i++)if(e(n[i]))return i}function Cwe(n){return(e,i={})=>{const r=e.match(n.matchPattern);if(!r)return null;const o=r[0],l=e.match(n.parsePattern);if(!l)return null;let c=n.valueCallback?n.valueCallback(l[0]):l[0];c=i.valueCallback?i.valueCallback(c):c;const u=e.slice(o.length);return{value:c,rest:u}}}const Twe=/^(\d+)(th|st|nd|rd)?/i,Dwe=/\d+/i,Nwe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Pwe={any:[/^b/i,/^(a|c)/i]},Iwe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},jwe={any:[/1/i,/2/i,/3/i,/4/i]},Rwe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Mwe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Owe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Fwe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Uwe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Lwe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Bwe={ordinalNumber:Cwe({matchPattern:Twe,parsePattern:Dwe,valueCallback:n=>parseInt(n,10)}),era:gk({matchPatterns:Nwe,defaultMatchWidth:"wide",parsePatterns:Pwe,defaultParseWidth:"any"}),quarter:gk({matchPatterns:Iwe,defaultMatchWidth:"wide",parsePatterns:jwe,defaultParseWidth:"any",valueCallback:n=>n+1}),month:gk({matchPatterns:Rwe,defaultMatchWidth:"wide",parsePatterns:Mwe,defaultParseWidth:"any"}),day:gk({matchPatterns:Owe,defaultMatchWidth:"wide",parsePatterns:Fwe,defaultParseWidth:"any"}),dayPeriod:gk({matchPatterns:Uwe,defaultMatchWidth:"any",parsePatterns:Lwe,defaultParseWidth:"any"})},zwe={code:"en-US",formatDistance:uwe,formatLong:pwe,formatRelative:gwe,localize:Ewe,match:Bwe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Vwe(n,e,i){const r=Jve(),o=(i==null?void 0:i.locale)??r.locale??zwe,l=2520,c=PD(n,e);if(isNaN(c))throw new RangeError("Invalid time value");const u=Object.assign({},i,{addSuffix:i==null?void 0:i.addSuffix,comparison:c});let h,m;c>0?(h=Qr(e),m=Qr(n)):(h=Qr(n),m=Qr(e));const g=lwe(m,h),y=(t$(m)-t$(h))/1e3,v=Math.round((g-y)/60);let _;if(v<2)return i!=null&&i.includeSeconds?g<5?o.formatDistance("lessThanXSeconds",5,u):g<10?o.formatDistance("lessThanXSeconds",10,u):g<20?o.formatDistance("lessThanXSeconds",20,u):g<40?o.formatDistance("halfAMinute",0,u):g<60?o.formatDistance("lessThanXMinutes",1,u):o.formatDistance("xMinutes",1,u):v===0?o.formatDistance("lessThanXMinutes",1,u):o.formatDistance("xMinutes",v,u);if(v<45)return o.formatDistance("xMinutes",v,u);if(v<90)return o.formatDistance("aboutXHours",1,u);if(v<e$){const A=Math.round(v/60);return o.formatDistance("aboutXHours",A,u)}else{if(v<l)return o.formatDistance("xDays",1,u);if(v<XT){const A=Math.round(v/e$);return o.formatDistance("xDays",A,u)}else if(v<XT*2)return _=Math.round(v/XT),o.formatDistance("aboutXMonths",_,u)}if(_=awe(m,h),_<12){const A=Math.round(v/XT);return o.formatDistance("xMonths",A,u)}else{const A=_%12,S=Math.trunc(_/12);return A<3?o.formatDistance("aboutXYears",S,u):A<9?o.formatDistance("overXYears",S,u):o.formatDistance("almostXYears",S+1,u)}}function Wwe(n,e){return Vwe(n,ewe(n),e)}function $we(n,e){return Qve(n,-2)}const PY=()=>{const[n,e]=H.useState(!1),[i,r]=H.useState(!1),o=H.useRef(null),{notifications:l,unreadCount:c,markAsRead:u,markAllAsRead:h}=p3(),m=ns();H.useEffect(()=>{const C=T=>{o.current&&!o.current.contains(T.target)&&(e(!1),r(!1))};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]);const g=async C=>{switch(C.read||await u(C.id),C.type){case"validation_request":m("/dashboard/supervisor/reviews");break;case"request":m("/dashboard/supervisor/team");break;case"score":m("/dashboard/skills");break;case"approval":m("/dashboard/skills");break;case"sao_feedback":m("/dashboard/supervisor/reviews");break}e(!1),r(!1)},y=C=>{switch(C){case"request":return"📝";case"score":return"⭐";case"approval":return"✅";case"validation_request":return"🔍";case"sao_feedback":return"📝";case"nudge":return"📣";default:return"📬"}},v=C=>b.jsx("div",{className:`p-3 border-b border-slate-100 hover:bg-slate-50 cursor-pointer ${C.read?"":"bg-slate-50"}`,onClick:()=>g(C),children:b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx("span",{className:"text-xl",children:y(C.type)}),b.jsxs("div",{className:"flex-1",children:[b.jsx("p",{className:"font-medium text-slate-800",children:C.title}),b.jsx("p",{className:"text-sm text-slate-600 mt-1",children:C.message}),b.jsx("p",{className:"text-xs text-slate-500 mt-1",children:Wwe(new Date(C.created_at),{addSuffix:!0})})]}),!C.read&&b.jsx("span",{className:"w-2 h-2 bg-teal-500 rounded-full mt-2"})]})},C.id),_=l.slice(0,5),A=$we(new Date),S=l.filter(C=>new Date(C.created_at)>=A);return b.jsxs("div",{className:"relative inline-block",children:[b.jsxs("button",{className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100 relative",onClick:()=>e(!n),"aria-label":"Notifications",children:[b.jsx($2,{size:20}),c>0&&b.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),n&&!i&&b.jsxs("div",{ref:o,className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-lg shadow-lg border border-slate-200 z-50",children:[b.jsxs("div",{className:"p-3 border-b border-slate-200 flex justify-between items-center",children:[b.jsx("h3",{className:"font-semibold text-slate-800",children:"Notifications"}),b.jsxs("div",{className:"flex items-center gap-2",children:[c>0&&b.jsx("button",{onClick:()=>h(),className:"text-sm text-teal-600 hover:text-teal-700",children:"Mark all as read"}),b.jsxs("button",{onClick:()=>r(!0),className:"text-sm text-slate-600 hover:text-slate-800 flex items-center gap-1",children:[b.jsx(z0,{size:14}),"View more"]})]})]}),b.jsx("div",{className:"max-h-96 overflow-y-auto",children:_.length>0?_.map(v):b.jsx("div",{className:"p-4 text-center text-slate-500",children:"No notifications"})})]}),i&&b.jsx("div",{className:"fixed inset-0 min-h-screen bg-black bg-opacity-50 z-50 flex items-center justify-center",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-lg mx-4 max-h-[80vh] flex flex-col",children:[b.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[b.jsx("h3",{className:"font-semibold text-slate-800",children:"Notification History"}),b.jsxs("div",{className:"flex items-center gap-2",children:[c>0&&b.jsx("button",{onClick:()=>h(),className:"text-sm text-teal-600 hover:text-teal-700",children:"Mark all as read"}),b.jsx("button",{onClick:()=>r(!1),className:"text-slate-500 hover:text-slate-700",children:b.jsx(eo,{size:20})})]})]}),b.jsx("div",{className:"overflow-y-auto flex-1",children:S.length>0?S.map(v):b.jsx("div",{className:"p-4 text-center text-slate-500",children:"No notifications in the last 2 weeks"})})]})})]})},qwe=({onMenuClick:n})=>b.jsxs("header",{className:"fixed top-0 right-0 left-0 md:left-64 bg-white/80 backdrop-blur-md z-10 border-b border-slate-200 px-4 py-3 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("button",{onClick:n,className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100 md:hidden","aria-label":"Menu",children:b.jsx(dY,{size:24})}),b.jsx("div",{className:"ml-2 md:ml-0",children:b.jsx("h1",{className:"text-xl font-semibold text-slate-800",children:"EIT Progress"})})]}),b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("div",{className:"hidden md:block",children:b.jsx(TY,{})}),b.jsx(PY,{}),b.jsx(DY,{})]})]}),Hwe=()=>{const n=[{name:"Home",path:"/dashboard",icon:b.jsx(h3,{size:20})},{name:"Skills",path:"/dashboard/skills",icon:b.jsx(yye,{size:20})},{name:"Documents",path:"/dashboard/documents",icon:b.jsx(Sd,{size:20})},{name:"Essays",path:"/dashboard/essays",icon:b.jsx(hY,{size:20})},{name:"Help",path:"/dashboard/help",icon:b.jsx(N1,{size:20})}];return b.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 p-2 z-10",children:b.jsx("ul",{className:"flex justify-around",children:n.map(e=>b.jsx("li",{children:b.jsxs(M2,{to:e.path,className:({isActive:i})=>`flex flex-col items-center p-2 rounded-lg transition-colors ${i?"text-teal-600":"text-slate-500 hover:text-teal-600"}`,children:[b.jsx("span",{children:e.icon}),b.jsx("span",{className:"text-xs mt-1",children:e.name})]})},e.name))})})},Gwe=()=>{const[n,e]=H.useState(!1),[i,r]=H.useState(!0),o=H.useRef(0);H.useEffect(()=>{const u=()=>{const h=window.pageYOffset;h>o.current&&(o.current=h),h>300?(e(!0),r(!1)):h===0?(e(!0),r(!0)):(e(!1),r(!1))};return window.addEventListener("scroll",u),()=>{window.removeEventListener("scroll",u)}},[]);const l=()=>{window.scrollTo({top:0,behavior:"smooth"})},c=()=>{window.scrollTo({top:o.current,behavior:"smooth"})};return b.jsx("div",{className:`fixed bottom-20 md:bottom-6 right-6 transition-all duration-300 z-50 ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"}`,children:b.jsx("button",{onClick:i?c:l,className:`p-3 text-white rounded-full shadow-lg transition-all duration-300 transform hover:scale-110 active:scale-95 ${i?"bg-slate-600 hover:bg-slate-700":"bg-teal-600 hover:bg-teal-700"}`,"aria-label":i?"Scroll to last position":"Scroll to top",children:i?b.jsx(lye,{size:20}):b.jsx(uye,{size:20})})})},KT=[{name:"Category 1 – Technical Competence",skills:[{id:"temp-1",name:"1.1 Regulations, Codes & Standards",status:"not-started",rank:void 0},{id:"temp-2",name:"1.2 Technical & Design Constraints",status:"not-started",rank:void 0},{id:"temp-3",name:"1.3 Risk Management for Technical Work",status:"not-started",rank:void 0},{id:"temp-4",name:"1.4 Application of Theory",status:"not-started",rank:void 0},{id:"temp-5",name:"1.5 Solution Techniques – Results Verification",status:"not-started",rank:void 0},{id:"temp-6",name:"1.6 Safety in Design & Technical Work",status:"not-started",rank:void 0},{id:"temp-7",name:"1.7 Systems & Their Components",status:"not-started",rank:void 0},{id:"temp-8",name:"1.8 Project or Asset Life-Cycle Awareness",status:"not-started",rank:void 0},{id:"temp-9",name:"1.9 Quality Assurance",status:"not-started",rank:void 0},{id:"temp-10",name:"1.10 Engineering Documentation",status:"not-started",rank:void 0}]},{name:"Category 2 – Communication",skills:[{id:"temp-11",name:"2.1 Oral Communication (English)",status:"not-started",rank:void 0},{id:"temp-12",name:"2.2 Written Communication (English)",status:"not-started",rank:void 0},{id:"temp-13",name:"2.3 Reading & Comprehension (English)",status:"not-started",rank:void 0}]},{name:"Category 3 – Project & Financial Management",skills:[{id:"temp-14",name:"3.1 Project Management Principles",status:"not-started",rank:void 0},{id:"temp-15",name:"3.2 Finances & Budget",status:"not-started",rank:void 0}]},{name:"Category 4 – Team Effectiveness",skills:[{id:"temp-16",name:"4.1 Promote Team Effectiveness & Resolve Conflict",status:"not-started",rank:void 0}]},{name:"Category 5 – Professional Accountability",skills:[{id:"temp-17",name:"5.1 Professional Accountability (Ethics, Liability, Limits)",status:"not-started",rank:void 0}]},{name:"Category 6 – Social, Economic, Environmental & Sustainability",skills:[{id:"temp-18",name:"6.1 Protection of the Public Interest",status:"not-started",rank:void 0},{id:"temp-19",name:"6.2 Benefits of Engineering to the Public",status:"not-started",rank:void 0},{id:"temp-20",name:"6.3 Role of Regulatory Bodies",status:"not-started",rank:void 0},{id:"temp-21",name:"6.4 Application of Sustainability Principles",status:"not-started",rank:void 0},{id:"temp-22",name:"6.5 Promotion of Sustainability",status:"not-started",rank:void 0}]}],cf=ac((n,e)=>({skillCategories:KT,loading:!1,error:null,skills:[],lastFetched:null,clearState:()=>n({skillCategories:KT,loading:!1,error:null,skills:[],lastFetched:null}),setSkillCategories:i=>n({skillCategories:i}),loadUserSkills:async(i=!1)=>{var l;const r=Date.now(),o=e().lastFetched;if(!(!i&&o&&r-o<5*60*1e3)){n({loading:!0,error:null});try{console.log("Starting loadUserSkills...");const{data:{user:c}}=await je.auth.getUser();if(!c)throw console.error("No authenticated user found"),new Error("No authenticated user found");console.log("User authenticated:",c.id),await je.from("eit_profiles").upsert({id:c.id,full_name:((l=c.user_metadata)==null?void 0:l.full_name)||"",email:c.email||""});const[u,h]=await Promise.all([je.from("skills").select("id, name, category"),je.from("eit_skills").select("id, eit_id, skill_id, category_name, skill_name, rank, status").eq("eit_id",c.id)]),m=u.data||[];let g=h.data||[];if(console.log("Skills fetched from DB:",m.length),console.log("Existing user skills:",g.length),!g||g.length===0){console.log("No existing skills found, initializing for new user...");const v=KT.flatMap(C=>C.skills.map(T=>{const N=m.find(I=>I.name===T.name&&I.category===C.name);return N?{eit_id:c.id,skill_id:N.id,category_name:C.name,skill_name:T.name,rank:null,status:"not-started"}:(console.warn(`No matching DB skill found for: ${T.name} in ${C.name}`),null)}).filter(Boolean));console.log("Initializing skills:",v.length);const{error:_}=await je.from("eit_skills").insert(v);if(_)throw console.error("Error initializing user skills:",_),_;console.log("Fetching newly initialized skills...");const{data:A,error:S}=await je.from("eit_skills").select("id, eit_id, skill_id, category_name, skill_name, rank, status").eq("eit_id",c.id);if(S)throw console.error("Error fetching newly initialized skills:",S),S;g=A,console.log("New skills fetched:",g==null?void 0:g.length)}console.log("Updating store with user skills...");const y=KT.map(v=>({...v,skills:v.skills.map(_=>{const A=m.find(C=>C.name===_.name&&C.category===v.name);if(!A)throw new Error(`No matching DB skill found for: ${_.name} in ${v.name}`);const S=g==null?void 0:g.find(C=>C.skill_id===A.id);return{..._,id:A.id,category_name:A.category,rank:(S==null?void 0:S.rank)||void 0,status:(S==null?void 0:S.status)||"not-started"}})}));console.log("Setting updated categories in store:",y.length),n({skillCategories:y,skills:y.flatMap(v=>v.skills),lastFetched:r})}catch(c){throw console.error("Error in loadUserSkills:",{error:c,message:c.message,details:c.details,hint:c.hint}),n({error:`Failed to load skills: ${c.message||"Unknown error"}`}),c}finally{n({loading:!1})}}},updateSkillRank:async(i,r,o)=>{try{const{data:{user:l},error:c}=await je.auth.getUser();if(c)throw console.error("Auth error:",c),new Error("Authentication error: "+c.message);if(!l)throw console.error("No authenticated user found"),new Error("No authenticated user found");console.log("Updating skill rank:",{categoryIndex:i,skillId:r,rank:o,userId:l.id});const u=e().skillCategories[i],h=u.skills.find(y=>y.id===r);if(!h)throw console.error("Skill not found:",{categoryIndex:i,skillId:r}),new Error("Skill not found");n(y=>({skillCategories:y.skillCategories.map((v,_)=>_===i?{...v,skills:v.skills.map(A=>A.id===r?{...A,rank:o||void 0,status:o?"completed":"not-started"}:A)}:v)}));const m={eit_id:l.id,skill_id:r,category_name:h.category_name||u.name,skill_name:h.name,rank:o||null,status:o?"completed":"not-started"};console.log("Sending update to Supabase:",m);const{error:g}=await je.from("eit_skills").upsert(m,{onConflict:"eit_id,skill_id"});if(g)throw console.error("Supabase error:",{error:g,message:g.message,details:g.details,hint:g.hint,code:g.code}),await e().loadUserSkills(),g;console.log("Successfully updated skill rank")}catch(l){console.error("Error updating skill rank:",{error:l,message:l.message,details:l.details,hint:l.hint,code:l.code}),n({error:`Failed to update skill rank: ${l.message||"Unknown error"}`})}},consoleLogSkillCategories:()=>{console.log("Skill categories in store:",e().skillCategories)}})),H2=ac((n,e)=>({overallProgress:0,completedSkills:0,totalSkills:22,documentedExperiences:0,totalExperiences:24,supervisorApprovals:0,totalApprovals:24,lastUpdated:new Date().toISOString(),loading:!1,initialized:!1,lastFetched:null,clearState:()=>n({overallProgress:0,completedSkills:0,documentedExperiences:0,supervisorApprovals:0,lastUpdated:new Date().toISOString(),loading:!1,initialized:!1,lastFetched:null}),setupRealtimeSubscriptions:async()=>{const{data:{user:i}}=await je.auth.getUser();if(!i)return;const r=je.channel("experiences-changes").on("postgres_changes",{event:"*",schema:"public",table:"experiences",filter:`eit_id=eq.${i.id}`},()=>{console.log("📝 Experience change detected, updating progress..."),e().updateProgress()}).subscribe(),o=je.channel("skills-changes").on("postgres_changes",{event:"*",schema:"public",table:"skills",filter:`eit_id=eq.${i.id}`},()=>{console.log("🎯 Skill change detected, updating progress..."),e().updateProgress()}).subscribe(),l=()=>{r.unsubscribe(),o.unsubscribe()};window.addEventListener("unload",l)},initialize:async(i=!1)=>{if(e().loading)return;const r=Date.now(),o=e().lastFetched;if(!(!i&&o&&r-o<5*60*1e3)){n({loading:!0});try{const{data:{user:l}}=await je.auth.getUser();if(!l)throw new Error("No user found");const c=cf.getState();c.skillCategories.length===0&&await c.loadUserSkills(),await new Promise(C=>setTimeout(C,100));const u=c.skillCategories.reduce((C,T)=>C+T.skills.filter(N=>N.rank!==void 0).length,0),{data:h,error:m}=await je.from("experiences").select("*").eq("eit_id",l.id);if(m)throw m;const{data:g,error:y}=await je.from("experiences").select("*").eq("eit_id",l.id).eq("supervisor_approved",!0);if(y)throw y;const v=u/22,_=((h==null?void 0:h.length)||0)/24,A=((g==null?void 0:g.length)||0)/24,S=Math.round((v+_+A)/3*100);console.log("Progress calculation:",{completedSkills:u,skillsProgress:v,experiencesProgress:_,approvalsProgress:A,overallProgress:S}),n({overallProgress:S,completedSkills:u,documentedExperiences:(h==null?void 0:h.length)||0,supervisorApprovals:(g==null?void 0:g.length)||0,lastUpdated:new Date().toISOString(),loading:!1,initialized:!0,lastFetched:r}),await e().setupRealtimeSubscriptions()}catch(l){console.error("Error initializing progress:",l),n({loading:!1,initialized:!1})}}},updateProgress:async(i=!1)=>{if(e().loading)return;const r=Date.now(),o=e().lastFetched;if(!(!i&&o&&r-o<5*60*1e3)){n({loading:!0});try{const{data:{user:l}}=await je.auth.getUser();if(!l)throw new Error("No user found");const c=cf.getState();c.skillCategories.length===0&&await c.loadUserSkills(),await new Promise(C=>setTimeout(C,100));const u=c.skillCategories.reduce((C,T)=>C+T.skills.filter(N=>N.rank!==void 0).length,0),{data:h,error:m}=await je.from("experiences").select("*").eq("eit_id",l.id);if(m)throw m;const{data:g,error:y}=await je.from("experiences").select("*").eq("eit_id",l.id).eq("supervisor_approved",!0);if(y)throw y;const v=u/22,_=((h==null?void 0:h.length)||0)/24,A=((g==null?void 0:g.length)||0)/24,S=Math.round((v+_+A)/3*100);console.log("Progress update calculation:",{completedSkills:u,skillsProgress:v,experiencesProgress:_,approvalsProgress:A,overallProgress:S}),n({overallProgress:S,completedSkills:u,documentedExperiences:(h==null?void 0:h.length)||0,supervisorApprovals:(g==null?void 0:g.length)||0,lastUpdated:new Date().toISOString(),loading:!1,lastFetched:r})}catch(l){console.error("Error updating progress:",l),n({loading:!1})}}}})),Xwe=[{name:"Dashboard",path:"/dashboard",icon:b.jsx(h3,{size:20})},{name:"Skills",path:"/dashboard/skills",icon:b.jsx(K1,{size:20})},{name:"SAOs",path:"/dashboard/saos",icon:b.jsx(z8,{size:20})},{name:"Documents",path:"/dashboard/documents",icon:b.jsx(Sd,{size:20})},{name:"Jobs",path:"/dashboard/references",icon:b.jsx(lY,{size:20})},{name:"Settings",path:"/dashboard/settings",icon:b.jsx(q8,{size:20})}],Kwe=[{name:"Help & Support",path:"/dashboard/help",icon:b.jsx(N1,{size:20})}],Zwe=({onClose:n})=>{const{overallProgress:e,loading:i}=H2(),r=Ed(),o=async()=>{await je.auth.signOut()},l=c=>c==="/dashboard"?r.pathname==="/dashboard":r.pathname.startsWith(c);return b.jsxs("aside",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-slate-900 text-white flex flex-col",children:[b.jsx("div",{className:"p-4 border-b border-slate-800 flex items-center justify-center",children:b.jsx("img",{src:B0,alt:"Accreda Logo",className:"h-28 w-auto"})}),b.jsxs("nav",{className:"flex-1 py-6",children:[b.jsx("ul",{className:"space-y-1 px-3",children:Xwe.map(c=>b.jsx("li",{children:b.jsxs(M2,{to:c.path,className:({isActive:u})=>`flex items-center px-3 py-2.5 rounded-lg transition-colors ${l(c.path)?"bg-teal-600 text-white":"text-slate-300 hover:text-white hover:bg-slate-800"}`,onClick:()=>{window.scrollTo({top:0,behavior:"smooth"}),n==null||n()},children:[b.jsx("span",{className:"mr-3",children:c.icon}),b.jsx("span",{children:c.name})]})},c.name))}),b.jsxs("div",{className:"mt-10 px-4",children:[b.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 mb-2 px-3",children:"Support"}),b.jsxs("ul",{className:"space-y-1 px-3",children:[Kwe.map(c=>b.jsx("li",{children:b.jsxs(M2,{to:c.path,className:({isActive:u})=>`flex items-center px-3 py-2.5 rounded-lg transition-colors ${l(c.path)?"bg-slate-800 text-white":"text-slate-400 hover:text-white hover:bg-slate-800"}`,onClick:()=>{window.scrollTo({top:0,behavior:"smooth"}),n==null||n()},children:[b.jsx("span",{className:"mr-3",children:c.icon}),b.jsx("span",{children:c.name})]})},c.name)),b.jsx("li",{children:b.jsxs("button",{onClick:o,className:"flex items-center px-3 py-2.5 rounded-lg transition-colors w-full text-slate-400 hover:text-white hover:bg-slate-800",children:[b.jsx(V8,{size:20,className:"mr-3"}),b.jsx("span",{children:"Sign Out"})]})})]})]})]}),b.jsxs("div",{className:"p-4 border-t border-slate-800 sticky bottom-0 bg-slate-900",children:[b.jsxs("div",{className:"mb-2 flex justify-between items-center",children:[b.jsx("h3",{className:"text-sm font-medium text-slate-300",children:"Program Progress"}),b.jsx("span",{className:"text-sm font-semibold text-teal-400",children:i?b.jsx("span",{className:"animate-pulse",children:"..."}):`${e}%`})]}),b.jsx("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden",children:b.jsx("div",{className:"h-full bg-teal-500 rounded-full transition-all duration-300",style:{width:i?"0%":`${e}%`}})})]})]})},Ywe=[{to:"/dashboard/supervisor",label:"Dashboard",icon:b.jsx(h3,{size:20})},{to:"/dashboard/supervisor/skills",label:"Skills",icon:b.jsx(K1,{size:20})},{to:"/dashboard/supervisor/team",label:"Team",icon:b.jsx($S,{size:20})},{to:"/dashboard/supervisor/reviews",label:"Reviews",icon:b.jsx(gye,{size:20})},{to:"/dashboard/supervisor/documents",label:"Documents",icon:b.jsx(Sd,{size:20})},{to:"/dashboard/supervisor/settings",label:"Settings",icon:b.jsx(q8,{size:20})}],Jwe=[{to:"/dashboard/supervisor/support",label:"Help & Support",icon:b.jsx(N1,{size:20})}],AM=({onClose:n})=>{const e=ns(),i=p3(o=>o.unreadCount),r=async()=>{await je.auth.signOut(),e("/login")};return b.jsxs("aside",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-slate-900 text-white flex flex-col",children:[b.jsx("div",{className:"p-4 border-b border-slate-800 flex items-center justify-center",children:b.jsx("img",{src:B0,alt:"Accreda Logo",className:"h-28 w-auto"})}),b.jsxs("nav",{className:"flex-1 py-6",children:[b.jsx("ul",{className:"space-y-1 px-3",children:Ywe.map(o=>b.jsx("li",{className:"relative",children:b.jsxs(M2,{to:o.to,className:({isActive:l})=>`flex items-center px-3 py-2.5 rounded-lg transition-colors font-medium ${l?"bg-teal-600 text-white":"text-slate-300 hover:text-white hover:bg-slate-800"}`,end:o.to==="/dashboard/supervisor",onClick:n,children:[b.jsx("span",{className:"mr-3",children:o.icon}),b.jsx("span",{children:o.label}),o.label==="Reviews"&&i>0&&b.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]})},o.to))}),b.jsxs("div",{className:"mt-10 px-4",children:[b.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 mb-2 px-3",children:"Help & Support"}),b.jsxs("ul",{className:"space-y-1 px-3",children:[Jwe.map(o=>b.jsx("li",{children:b.jsxs(M2,{to:o.to,className:({isActive:l})=>`flex items-center px-3 py-2.5 rounded-lg transition-colors font-medium ${l?"bg-slate-800 text-white":"text-slate-400 hover:text-white hover:bg-slate-800"}`,onClick:n,children:[b.jsx("span",{className:"mr-3",children:o.icon}),b.jsx("span",{children:o.label})]})},o.to)),b.jsx("li",{children:b.jsxs("button",{onClick:()=>{r(),n==null||n()},className:"flex items-center px-3 py-2.5 rounded-lg transition-colors w-full text-slate-400 hover:text-white hover:bg-slate-800",children:[b.jsx(V8,{size:20,className:"mr-3"}),b.jsx("span",{children:"Sign Out"})]})})]})]})]})]})},Qwe=()=>b.jsxs("aside",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-slate-900 text-white flex flex-col animate-pulse [animation-duration:2s]",children:[b.jsx("div",{className:"p-4 border-b border-slate-800 flex items-center justify-center",children:b.jsx("img",{src:B0,alt:"Accreda Logo",className:"h-28 w-auto"})}),b.jsx("div",{className:"flex-1 py-6 space-y-4 px-6",children:[...Array(6)].map((n,e)=>b.jsx("div",{className:"h-8 bg-slate-800/80 rounded-lg"},e))}),b.jsxs("div",{className:"p-4 border-t border-slate-800 bg-slate-900",children:[b.jsx("div",{className:"h-4 bg-slate-800/80 rounded w-1/2 mb-2"}),b.jsx("div",{className:"h-2 bg-slate-800/80 rounded w-full"})]})]}),n$=({onClose:n})=>{const[e,i]=H.useState(null),[r,o]=H.useState(!0);return H.useEffect(()=>{(async()=>{o(!0);const{data:{user:c}}=await je.auth.getUser();if(c){const{data:u}=await je.from("eit_profiles").select("id").eq("id",c.id).single(),{data:h}=await je.from("supervisor_profiles").select("id").eq("id",c.id).single();i(h?"supervisor":u?"eit":null)}o(!1)})()},[]),r?b.jsx(Qwe,{}):e==="supervisor"?b.jsx(AM,{onClose:n}):b.jsx(Zwe,{onClose:n})},e1e=({appLoaded:n})=>{const[e,i]=H.useState(!1);return b.jsxs("div",{className:"min-h-screen bg-[#F5F7FA]",children:[b.jsx("div",{className:"hidden md:block",children:b.jsx(n$,{})}),e&&b.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[b.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:()=>i(!1)}),b.jsx("div",{className:"fixed inset-y-0 left-0 w-full max-w-xs bg-white shadow-xl",children:b.jsx(n$,{onClose:()=>i(!1)})})]}),b.jsxs("div",{className:"md:pl-64 flex flex-col min-h-screen",children:[b.jsx(qwe,{onMenuClick:()=>i(!0)}),b.jsx("main",{className:"flex-1 p-4 md:p-6 pt-20 md:pt-24 pb-20 md:pb-6",children:b.jsx(nK,{context:{appLoaded:n}})}),b.jsx("div",{className:"md:hidden",children:b.jsx(Hwe,{})}),b.jsx(Gwe,{})]})]})},IY="https://openrouter.ai/api/v1/chat/completions",jY="https://accreda.com",RY="Accreda",MY="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",t1e=async n=>{var o,l,c;const e=`You are an expert in writing professional Situation-Action-Outcome (SAO) statements. Please enhance the following SAO statement following these specific guidelines:

1. Structure:
   - Situation: Clearly describe the context, challenge, or problem faced
   - Action: Detail the specific steps taken, emphasizing your personal involvement
   - Outcome: Quantify results and highlight the impact of your actions

2. Best Practices:
   - Use active voice and strong action verbs
   - Include specific metrics and numbers where possible
   - Focus on your personal contributions and leadership
   - Highlight problem-solving and decision-making skills
   - Maintain a professional and confident tone
   - Keep the statement concise but impactful

3. Key Elements to Include:
   - Clear problem statement
   - Specific actions taken
   - Measurable results
   - Skills demonstrated
   - Impact on the organization/team

Please enhance the following SAO statement while maintaining its core message and following these guidelines:

${n}

Format the response as a clear SAO statement with Situation, Action, and Outcome sections clearly separated.`,i=await fetch(IY,{method:"POST",headers:{Authorization:`Bearer ${MY}`,"HTTP-Referer":jY,"X-Title":RY,"Content-Type":"application/json"},body:JSON.stringify({model:"meta-llama/llama-3.1-8b-instruct:free",messages:[{role:"user",content:e}]})});if(!i.ok){const u=await i.text();throw new Error(`OpenRouter API error: ${i.status} - ${u}`)}return((c=(l=(o=(await i.json()).choices)==null?void 0:o[0])==null?void 0:l.message)==null?void 0:c.content)||""},n1e=async n=>{var o,l,c;const e=`You are an expert in improving the clarity and grammar of professional writing. Please enhance the following text by:

1. Fixing any grammatical errors
2. Improving sentence structure and flow
3. Enhancing clarity while maintaining the original meaning
4. Using more precise and professional language
5. Maintaining the original tone and style
6. Preserving all specific details, numbers, and technical terms

Please provide the enhanced version with clear markdown formatting to show the changes:

${n}

Format the response as a markdown diff, showing the original text with strikethrough and the improved text in bold.`,i=await fetch(IY,{method:"POST",headers:{Authorization:`Bearer ${MY}`,"HTTP-Referer":jY,"X-Title":RY,"Content-Type":"application/json"},body:JSON.stringify({model:"meta-llama/llama-3.1-8b-instruct:free",messages:[{role:"user",content:e}]})});if(!i.ok){const u=await i.text();throw new Error(`OpenRouter API error: ${i.status} - ${u}`)}return((c=(l=(o=(await i.json()).choices)==null?void 0:o[0])==null?void 0:l.message)==null?void 0:c.content)||""},H8=({feedback:n,onResolve:e,onSubmitFeedback:i,isSupervisor:r,saoContent:o})=>{const[l,c]=H.useState(""),[u,h]=H.useState(!1),[m,g]=H.useState(0),[y,v]=H.useState(!1),[_,A]=H.useState(null);H.useEffect(()=>{(async()=>{if(n.length>0){const{count:U}=await je.from("sao_annotation").select("id",{count:"exact",head:!0}).eq("sao_id",n[0].sao_id);g(U||0)}})()},[n]);const S=async F=>{if(F.preventDefault(),!(!l.trim()&&m===0)){h(!0);try{await i(n[0].sao_id,l),c("")}catch(U){console.error("Error submitting feedback:",U)}finally{h(!1)}}},C=async()=>{if(o){v(!0);try{const F=await n1e(o);A(F)}catch(F){console.error("Error in handleEnhanceClarity:",F),alert(F instanceof Error?F.message:"Failed to enhance text. Please try again.")}finally{v(!1)}}},T=()=>{_&&(c(F=>{const U=_.replace(/~~(.*?)~~/g,"").replace(/\*\*(.*?)\*\*/g,"$1");return F?`${F}

Enhanced Version:
${U}`:`Enhanced Version:
${U}`}),A(null))},N=()=>{A(null)},I=F=>{switch(F){case"pending":return b.jsx(C0,{className:"text-yellow-500",size:16});case"submitted":return b.jsx(Im,{className:"text-green-500",size:16});case"resolved":return b.jsx(yY,{className:"text-slate-400",size:16});default:return null}},O=F=>{switch(F){case"pending":return"Pending Review";case"submitted":return"Feedback Submitted";case"resolved":return"Resolved";default:return F}};return b.jsxs("div",{className:"mt-6 border-t pt-6",children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Supervisor Feedback"}),n.length>0?b.jsx("div",{className:"space-y-4",children:n.map(F=>b.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[I(F.status),b.jsx("span",{className:"text-sm font-medium text-slate-700",children:O(F.status)})]}),r&&F.status==="submitted"&&!1]}),F.feedback&&b.jsx("p",{className:"text-slate-600 whitespace-pre-wrap",children:F.feedback}),b.jsx("div",{className:"mt-2 text-xs text-slate-500",children:new Date(F.updated_at).toLocaleDateString()})]},F.id))}):b.jsx("p",{className:"text-slate-500 italic",children:"No feedback yet."}),r&&n.length>0&&n[0].status==="pending"&&b.jsxs("form",{onSubmit:S,className:"mt-4",children:[o&&b.jsx("div",{className:"mb-4",children:b.jsxs("button",{type:"button",onClick:C,disabled:!o||u||y,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-teal-600 hover:text-teal-700 hover:bg-teal-50 rounded-md transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:[b.jsx(pY,{size:16,className:y?"animate-pulse":""}),y?"Enhancing...":"Enhance Clarity"]})}),_&&b.jsxs("div",{className:"mb-4 p-4 bg-slate-50 rounded-lg",children:[b.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:_}}),b.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[b.jsx("button",{type:"button",onClick:T,className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 hover:bg-teal-700 rounded-md transition-all duration-300 hover:scale-105 active:scale-95",children:"Accept Changes"}),b.jsx("button",{type:"button",onClick:N,className:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-800 hover:bg-slate-100 rounded-md transition-all duration-300 hover:scale-105 active:scale-95",children:"Decline"})]})]}),b.jsx("textarea",{value:l,onChange:F=>c(F.target.value),placeholder:"Enter your feedback...",className:"w-full px-4 py-3 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",rows:4,disabled:u}),b.jsx("div",{className:"mt-2 flex justify-end",children:b.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u||!l.trim()&&m===0,children:u?"Submitting...":"Submit Feedback"})})]})]})},i1e=({isOpen:n,onClose:e,skillName:i,saos:r,jobs:o})=>{const l=ns();if(!n)return null;const c=h=>{l(`/saos?saoId=${h}`),e()},u=h=>{l(`/references?jobId=${h}`),e()};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:b.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsxs("h3",{className:"text-lg font-semibold",children:["Linked Items for ",i]}),b.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600",children:b.jsx(eo,{size:24})})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Linked SAOs"}),b.jsx("div",{className:"space-y-4",children:r.length>0?r.map(h=>b.jsxs("div",{className:"border rounded-lg p-4 hover:bg-slate-50",children:[b.jsxs("div",{className:"flex justify-between items-start mb-2",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("h4",{className:"font-medium text-slate-900",children:h.title}),h.feedback&&h.feedback.length>0&&b.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[b.jsx(C0,{size:14,className:"text-blue-500"}),b.jsx("span",{className:"text-xs text-blue-600",children:h.feedback.some(m=>m.status==="pending")?"Feedback Pending":"Has Feedback"})]})]}),b.jsx("button",{onClick:()=>c(h.id),className:"p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Open SAO",children:b.jsx(L8,{size:18})})]}),b.jsx("p",{className:"text-sm text-slate-600",children:h.content}),h.feedback&&h.feedback.length>0&&b.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200",children:b.jsx(H8,{feedback:h.feedback,onResolve:async()=>Promise.resolve(),onSubmitFeedback:async()=>Promise.resolve(),isSupervisor:!1})}),b.jsxs("div",{className:"mt-2 text-xs text-slate-500",children:["Created: ",new Date(h.created_at).toLocaleDateString()]})]},h.id)):b.jsx("p",{className:"text-slate-500 italic",children:"No SAOs linked to this skill yet."})})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Linked Jobs"}),b.jsx("div",{className:"space-y-4",children:o.length>0?o.map(h=>b.jsxs("div",{className:"border rounded-lg p-4 hover:bg-slate-50",children:[b.jsxs("div",{className:"flex justify-between items-start mb-2",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"font-medium text-slate-900",children:h.title}),b.jsx("p",{className:"text-sm text-slate-600",children:h.company})]}),b.jsx("button",{onClick:()=>u(h.id),className:"p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Open Job",children:b.jsx(f2,{size:18})})]}),b.jsxs("div",{className:"mt-2 text-xs text-slate-500",children:[new Date(h.start_date).toLocaleDateString()," - ",h.end_date?new Date(h.end_date).toLocaleDateString():"Present"]})]},h.id)):b.jsx("p",{className:"text-slate-500 italic",children:"No jobs linked to this skill yet."})})]})]}),b.jsx("div",{className:"flex justify-end mt-6",children:b.jsx("button",{onClick:e,className:"btn btn-primary",children:"Close"})})]})})},r1e=H.memo(({skill:n,categoryIndex:e,onRankChange:i,getStatusIcon:r,getStatusLabel:o,getStatusClass:l,getRankColor:c,getRankLabel:u,skillRef:h,linkedSkillIds:m,fetchLinkedItems:g})=>{const[y,v]=H.useState(!1),[_,A]=H.useState([]),[S,C]=H.useState([]),[T,N]=H.useState(!1),I=m.has(n.id),O=async()=>{N(!0);try{const{saos:F,jobs:U}=await g(n.id);A(F),C(U),v(!0)}catch(F){console.error("Error fetching linked items:",F)}finally{N(!1)}};return b.jsxs(b.Fragment,{children:[b.jsxs("div",{ref:h,className:"flex items-center justify-between p-3 rounded-lg border hover:border-slate-300 hover:bg-slate-50 transition-colors",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"mr-3",children:r(n)}),b.jsx("span",{className:"font-medium",children:n.name})]}),b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsx("button",{onClick:O,className:`p-2 rounded-full transition-colors ${I?"text-amber-500 hover:text-amber-600 hover:bg-amber-50 shadow-[0_0_8px_rgba(245,158,11,0.5)]":"text-slate-400 hover:text-slate-600 hover:bg-slate-100"}`,title:I?"View linked items":"No linked items",disabled:T,children:b.jsx(Sd,{size:18,className:T?"animate-pulse":""})}),b.jsxs("div",{className:"relative",children:[b.jsxs("select",{value:n.rank||"",onChange:F=>{i(e,n.id,Number(F.target.value))},className:`appearance-none px-3 py-1.5 rounded-full text-sm font-medium ${c(n.rank)} border-0 focus:ring-2 focus:ring-teal-500 focus:outline-none cursor-pointer`,children:[b.jsx("option",{value:"",children:"Not Ranked"}),[1,2,3,4,5].map(F=>b.jsxs("option",{value:F,children:[F," - ",u(F)]},F))]}),b.jsx(WS,{size:16,className:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none text-current"})]}),b.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full ${l(n)}`,children:o(n)})]})]}),b.jsx(i1e,{isOpen:y,onClose:()=>v(!1),skillName:n.name,saos:_,jobs:S})]})}),s1e=H.memo(({category:n,categoryIndex:e,onRankChange:i,getStatusIcon:r,getStatusLabel:o,getStatusClass:l,getRankColor:c,getRankLabel:u,getCategoryProgress:h,calculateCategoryMean:m,getMeanColor:g,showRequirementWarning:y,getRequirementMessage:v,skillRefs:_,linkedSkillIds:A,fetchLinkedItems:S})=>{const C=h(n.skills),{mean:T,isComplete:N}=m(n.skills);return b.jsxs("div",{className:"card",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("h2",{className:"text-lg font-semibold",children:n.name}),N&&b.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${g(T)}`,children:[b.jsx(d3,{size:16}),b.jsxs("span",{className:"text-sm font-medium",children:["Mean Score: ",T]})]})]}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-green-100 text-green-700 mr-2",children:b.jsx("span",{className:"text-sm font-bold",children:C.completed})}),b.jsx("div",{children:b.jsx("p",{className:"text-xs font-medium",children:"Completed"})})]}),b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-slate-100 text-slate-700 mr-2",children:b.jsx("span",{className:"text-sm font-bold",children:C.notStarted})}),b.jsx("div",{children:b.jsx("p",{className:"text-xs font-medium",children:"Not Started"})})]})]})]}),N&&y(n.name,T)&&b.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:b.jsxs("div",{className:"flex items-start gap-2",children:[b.jsx(F8,{size:18,className:"text-red-600 mt-0.5 flex-shrink-0"}),b.jsxs("div",{children:[b.jsx("p",{className:"text-sm font-medium text-red-800",children:"Warning: This category does not meet the minimum requirements"}),b.jsx("p",{className:"text-sm text-red-600 mt-1",children:v(n.name,T)})]})]})}),b.jsx("div",{className:"space-y-3",children:n.skills.map(I=>b.jsx(r1e,{skill:I,categoryIndex:e,onRankChange:i,getStatusIcon:r,getStatusLabel:o,getStatusClass:l,getRankColor:c,getRankLabel:u,skillRef:O=>_.current[I.id]=O,linkedSkillIds:A,fetchLinkedItems:S},I.id))})]})}),o1e=()=>{const{skillCategories:n,updateSkillRank:e,loadUserSkills:i,loading:r,error:o}=cf(),l=H.useRef({}),[c,u]=H.useState(new Set),h=H.useRef({});H.useEffect(()=>{i()},[i]),H.useEffect(()=>{(async()=>{try{const{data:{user:B}}=await je.auth.getUser();if(!B)return;const[{data:Z},{data:ae}]=await Promise.all([je.from("saos").select("*, sao_skills(skill_id)").eq("eit_id",B.id),je.from("jobs").select("id, skills").eq("eit_id",B.id)]),me=Z||[],Q=ae||[],ge=new Set;me.forEach($=>{$.sao_skills&&$.sao_skills.forEach(Te=>ge.add(Te.skill_id))}),Q.forEach($=>{Array.isArray($.skills)&&$.skills.forEach(Te=>ge.add(Te))}),u(ge)}catch(B){console.error("Error fetching all linked items:",B)}})()},[i]);const m=async V=>{if(h.current[V])return h.current[V];const{data:{user:B}}=await je.auth.getUser();if(!B)return{saos:[],jobs:[]};const{data:Z}=await je.from("saos").select("*, sao_skills!inner(skill_id)").eq("eit_id",B.id).eq("sao_skills.skill_id",V),ae=Z||[],{data:me}=await je.from("jobs").select("*").eq("eit_id",B.id).contains("skills",[V]),Q=me||[];return h.current[V]={saos:ae,jobs:Q},{saos:ae,jobs:Q}};H.useEffect(()=>{const V=B=>{const{skillId:Z,timestamp:ae}=B.detail;console.log("Scroll event received:",{skillId:Z,timestamp:ae}),setTimeout(()=>{const me=l.current[Z];console.log("Looking for element:",{skillId:Z,element:me}),me?(console.log("Scrolling to element"),me.scrollIntoView({behavior:"smooth",block:"center"}),me.classList.add("ring","ring-teal-400"),setTimeout(()=>me.classList.remove("ring","ring-teal-400"),1500)):(console.log("Element not found, retrying in 100ms"),setTimeout(()=>{const Q=l.current[Z];Q&&(Q.scrollIntoView({behavior:"smooth",block:"center"}),Q.classList.add("ring","ring-teal-400"),setTimeout(()=>Q.classList.remove("ring","ring-teal-400"),1500))},100))},100)};return window.addEventListener("scroll-to-skill",V),()=>window.removeEventListener("scroll-to-skill",V)},[]);const g=H.useCallback(async(V,B,Z)=>{try{console.log("Updating skill rank for skillId:",B,typeof B),await e(V,B,Z)}catch(ae){console.error("Error in handleRankChange:",ae)}},[e]),y=H.useCallback(V=>V.reduce((B,Z)=>(Z.rank!==void 0?B.completed++:B.notStarted++,B),{completed:0,notStarted:0}),[]),v=H.useCallback(V=>{const B=V.filter(ae=>ae.rank!==void 0);if(B.length!==V.length)return{mean:0,isComplete:!1};const Z=B.reduce((ae,me)=>ae+(me.rank||0),0);return{mean:Number((Z/V.length).toFixed(1)),isComplete:!0}},[]),_=H.useCallback(V=>V>=4.5?"bg-green-100 text-green-700":V>=3.5?"bg-blue-100 text-blue-700":V>=2.5?"bg-yellow-100 text-yellow-700":V>=1.5?"bg-orange-100 text-orange-700":"bg-red-100 text-red-700",[]),A=H.useCallback(V=>V.status==="completed"?b.jsx(Im,{size:18,className:"text-green-500"}):V.status==="in-progress"?b.jsx(xye,{size:18,className:"text-amber-500"}):V.rank!==void 0?b.jsx(pye,{size:18,className:"text-green-500"}):b.jsx(mye,{size:18,className:"text-slate-300"}),[]),S=H.useCallback(V=>V.rank!==void 0||V.status==="completed"?"Completed":V.status==="in-progress"?"In Progress":"Not Started",[]),C=H.useCallback(V=>V.rank!==void 0||V.status==="completed"?"bg-green-100 text-green-800":V.status==="in-progress"?"bg-amber-100 text-amber-800":"bg-slate-100 text-slate-800",[]),T=H.useCallback(V=>{if(!V)return"bg-slate-100 text-slate-600";switch(V){case 1:return"bg-red-100 text-red-600";case 2:return"bg-orange-100 text-orange-600";case 3:return"bg-yellow-100 text-yellow-600";case 4:return"bg-blue-100 text-blue-600";case 5:return"bg-green-100 text-green-600";default:return"bg-slate-100 text-slate-600"}},[]),N=H.useCallback(V=>{if(!V)return"Not Ranked";switch(V){case 1:return"Beginner";case 2:return"Basic";case 3:return"Intermediate";case 4:return"Advanced";case 5:return"Expert";default:return"Not Ranked"}},[]),I={"Category 1 – Technical Competence":3,"Category 2 – Communication":3,"Category 3 – Project & Financial Management":2,"Category 4 – Team Effectiveness":3,"Category 5 – Professional Accountability":3,"Category 6 – Social, Economic, Environmental & Sustainability":2},O=H.useCallback((V,B)=>{const Z=I[V];return B<Z},[]),F=H.useCallback((V,B)=>`A minimum average score of ${I[V]} is required for ${V}. Current average: ${B}`,[]),U=H.useMemo(()=>n.reduce((V,B)=>(B.skills.forEach(Z=>{Z.rank!==void 0?V.completed++:V.notStarted++}),V),{completed:0,notStarted:0}),[n]);return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Skills & Competencies"}),b.jsx("p",{className:"text-slate-500 mt-1",children:"Track and document your EIT program competencies"})]}),o&&b.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:b.jsxs("div",{className:"flex items-start gap-2",children:[b.jsx(F8,{size:18,className:"text-red-600 mt-0.5 flex-shrink-0"}),b.jsx("p",{className:"text-sm text-red-800",children:o})]})}),r?b.jsx("div",{className:"flex items-center justify-center py-12",children:b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"card p-6",children:[b.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Overall Progress"}),b.jsxs("div",{className:"flex flex-wrap gap-4",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center bg-green-100 text-green-700 mr-3",children:b.jsx("span",{className:"text-lg font-bold",children:U.completed})}),b.jsxs("div",{children:[b.jsx("p",{className:"font-medium",children:"Completed"}),b.jsx("p",{className:"text-sm text-slate-500",children:"Skills"})]})]}),b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center bg-slate-100 text-slate-700 mr-3",children:b.jsx("span",{className:"text-lg font-bold",children:U.notStarted})}),b.jsxs("div",{children:[b.jsx("p",{className:"font-medium",children:"Not Started"}),b.jsx("p",{className:"text-sm text-slate-500",children:"Skills"})]})]})]})]}),b.jsx("div",{className:"space-y-6",children:n.map((V,B)=>b.jsx(s1e,{category:V,categoryIndex:B,onRankChange:g,getStatusIcon:A,getStatusLabel:S,getStatusClass:C,getRankColor:T,getRankLabel:N,getCategoryProgress:y,calculateCategoryMean:v,getMeanColor:_,showRequirementWarning:O,getRequirementMessage:F,skillRefs:l,linkedSkillIds:c,fetchLinkedItems:m},V.name))})]})]})},a1e=H.memo(o1e),OY=ac((n,e)=>({documents:[],loading:!1,error:null,lastFetched:null,clearState:()=>n({documents:[],loading:!1,error:null,lastFetched:null}),createDocument:async(i,r,o,l,c)=>{var u;n({loading:!0,error:null});try{const{data:{user:h},error:m}=await je.auth.getUser();if(m)throw console.error("Auth error:",m),new Error("Authentication error: "+m.message);if(!h)throw new Error("No authenticated user found");await je.from("eit_profiles").upsert({id:h.id,full_name:((u=h.user_metadata)==null?void 0:u.full_name)||"",email:h.email||""});const g=(l==null?void 0:l.type)||"text/plain",y=(l==null?void 0:l.size)||r.length,v=c||"Uncategorized";let _=r;if(l&&(g==="application/pdf"||g==="application/msword"||g==="application/vnd.openxmlformats-officedocument.wordprocessingml.document")){const C=await l.arrayBuffer();_=btoa(String.fromCharCode(...new Uint8Array(C)))}console.log("Creating document:",{title:i,type:o,eit_id:h.id,file_type:g,file_size:y,category:v});const{data:A,error:S}=await je.from("documents").insert([{eit_id:h.id,title:i,content:_,type:o,status:"draft",word_count:r.split(/\s+/).length,file_type:g,file_size:y,category:v}]).select().single();if(S)throw S;n(C=>({documents:[...C.documents,A],loading:!1}))}catch(h){throw console.error("Error creating document:",h),n({error:h instanceof Error?h.message:"Failed to create document",loading:!1}),h}},updateDocument:async(i,r)=>{n({loading:!0,error:null});try{const{error:o}=await je.from("documents").update(r).eq("id",i);if(o)throw o;n(l=>({documents:l.documents.map(c=>c.id===i?{...c,...r}:c),loading:!1}))}catch(o){throw console.error("Error updating document:",o),n({error:o instanceof Error?o.message:"Failed to update document",loading:!1}),o}},deleteDocument:async i=>{n({loading:!0,error:null});try{const{error:r}=await je.from("documents").delete().eq("id",i);if(r)throw r;n(o=>({documents:o.documents.filter(l=>l.id!==i),loading:!1}))}catch(r){throw console.error("Error deleting document:",r),n({error:r instanceof Error?r.message:"Failed to delete document",loading:!1}),r}},loadUserDocuments:async()=>{n({loading:!0,error:null});try{const{data:{user:i},error:r}=await je.auth.getUser();if(r)throw r;if(!i)throw new Error("No authenticated user found");const{data:o,error:l}=await je.from("documents").select("*").eq("eit_id",i.id).order("created_at",{ascending:!1});if(l)throw l;const c=o.map(u=>{if(u.file_type&&(u.file_type==="application/pdf"||u.file_type==="application/msword"||u.file_type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"))try{const h=atob(u.content),m=new Uint8Array(h.length);for(let g=0;g<h.length;g++)m[g]=h.charCodeAt(g);u.content=m.buffer}catch(h){console.error("Error processing document content:",h)}return u});n({documents:c,loading:!1,lastFetched:new Date().toISOString()})}catch(i){console.error("Error loading documents:",i),n({error:i instanceof Error?i.message:"Failed to load documents",loading:!1})}}})),qS=ac((n,e)=>{let i=null;return{tier:"free",documentLimit:5,saoLimit:5,supervisorLimit:1,hasAiAccess:!1,isLoading:!1,error:null,fetchSubscription:async()=>{n({isLoading:!0,error:null});try{const{data:{user:r}}=await je.auth.getUser();if(!r)throw new Error("No user found");const{data:o,error:l}=await je.from("subscriptions").select("*").eq("user_id",r.id).single();if(l)throw l;if(o)n({tier:o.tier,documentLimit:o.document_limit,saoLimit:o.sao_limit,supervisorLimit:o.supervisor_limit,hasAiAccess:o.has_ai_access});else{const{error:c}=await je.from("subscriptions").insert([{user_id:r.id}]);if(c)throw c}i&&i.unsubscribe(),i=je.channel("subscription_changes").on("postgres_changes",{event:"*",schema:"public",table:"subscriptions",filter:`user_id=eq.${r.id}`},c=>{if(c.new){const u=c.new;n({tier:u.tier,documentLimit:u.document_limit,saoLimit:u.sao_limit,supervisorLimit:u.supervisor_limit,hasAiAccess:u.has_ai_access})}}).subscribe()}catch(r){n({error:r instanceof Error?r.message:"Failed to fetch subscription"})}finally{n({isLoading:!1})}},checkDocumentLimit:async()=>{const{documentLimit:r}=e();if(r===2147483647)return!0;const{data:{user:o}}=await je.auth.getUser();if(!o)return!1;const{count:l}=await je.from("documents").select("*",{count:"exact",head:!0}).eq("user_id",o.id);return(l||0)<r},checkSaoLimit:async()=>{const{saoLimit:r}=e();if(r===2147483647)return!0;const{data:{user:o}}=await je.auth.getUser();if(!o)return!1;const{count:l}=await je.from("saos").select("*",{count:"exact",head:!0}).eq("eit_id",o.id);return(l||0)<r},checkSupervisorLimit:async()=>{const{supervisorLimit:r}=e();if(r===2147483647)return!0;const{data:{user:o}}=await je.auth.getUser();if(!o)return!1;const{count:l}=await je.from("supervisor_eit_relationships").select("*",{count:"exact",head:!0}).eq("eit_id",o.id).eq("status","active");return(l||0)<r}}});function i$(n){const e=atob(n),i=e.length,r=new Uint8Array(i);for(let o=0;o<i;o++)r[o]=e.charCodeAt(o);return r}const FY=({document:n,onClose:e})=>{const[i,r]=H.useState(!0),[o,l]=H.useState(null),c=()=>{if(!n.file_type)return b.jsx("div",{className:"p-4 text-center",children:"No file type information."});if(n.file_type.startsWith("text/"))return typeof n.content=="string"?b.jsx("pre",{className:"whitespace-pre-wrap p-4 bg-slate-50 rounded text-left text-slate-800 max-h-[500px] overflow-auto",children:n.content}):b.jsx("div",{className:"p-4 text-center text-red-600",children:"Error: Text file content is not a string."});if(n.file_type==="application/pdf")try{let u;if(typeof n.content=="string"){const h=i$(n.content);u=new Blob([h],{type:"application/pdf"})}else return l("PDF content is not a string."),null;return b.jsx("iframe",{src:URL.createObjectURL(u),className:"w-full h-[600px]",onLoad:()=>r(!1),title:"PDF Preview"})}catch{return l("Failed to decode or display PDF."),null}return n.file_type==="application/msword"||n.file_type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?b.jsxs("div",{className:"p-4 text-center",children:[b.jsx(Sd,{size:48,className:"mx-auto text-slate-400 mb-4"}),b.jsxs("p",{className:"text-slate-600",children:["Word documents can be previewed after downloading.",b.jsx("br",{}),b.jsxs("button",{onClick:()=>{try{let u;if(typeof n.content=="string"){const g=i$(n.content);u=new Blob([g],{type:n.file_type})}else{l("DOC content is not a string.");return}const h=URL.createObjectURL(u),m=window.document.createElement("a");m.href=h,m.download=n.title,window.document.body.appendChild(m),m.click(),window.document.body.removeChild(m),URL.revokeObjectURL(h)}catch{l("Failed to download DOC file.")}},className:"mt-2 inline-flex items-center gap-2 text-teal-600 hover:text-teal-700",children:[b.jsx(cY,{size:16}),"Download to View"]})]})]}):b.jsx("div",{className:"p-4 text-center",children:b.jsx("p",{className:"text-slate-600",children:"Preview not available for this file type."})})};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:b.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] flex flex-col",children:[b.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[b.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:n.title}),b.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:text-slate-600",children:b.jsx(eo,{size:24})})]}),b.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[i&&!o&&b.jsx("div",{className:"flex items-center justify-center h-full",children:b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-teal-600"})}),o&&b.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-red-600",children:[b.jsx(A0,{size:32}),b.jsx("div",{className:"mt-2",children:o})]}),!o&&c()]})]})})},G2=({isOpen:n,onClose:e,children:i})=>n?b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-lg w-full relative",children:[b.jsx("button",{className:"absolute top-2 right-2 text-slate-400 hover:text-slate-600 text-xl font-bold",onClick:e,"aria-label":"Close",children:"×"}),i]})}):null,l1e=()=>{const{documents:n,loading:e,error:i,createDocument:r,updateDocument:o,deleteDocument:l,loadUserDocuments:c}=OY(),{tier:u,documentLimit:h,fetchSubscription:m}=qS(),[g,y]=H.useState(0),[v,_]=H.useState(""),[A,S]=H.useState("all"),[C,T]=H.useState(!1),[N,I]=H.useState("all"),[O,F]=H.useState("date"),[U,V]=H.useState("desc"),[B,Z]=H.useState(null),[ae,me]=H.useState(""),Q=or.useRef({}),[ge,$]=H.useState(null),[Te,re]=H.useState(null),[ie,G]=H.useState([]),[K,ne]=H.useState(""),[J,ue]=H.useState(!1),[ee,xe]=H.useState(null),[Se,Me]=H.useState(!1),[Re,Fe]=H.useState(null),[We,ze]=H.useState(!1),[Ne]=H.useState(()=>or.createRef()),ke=()=>window.gapi?Promise.resolve():new Promise(ce=>{const Ue=document.createElement("script");Ue.src="https://apis.google.com/js/api.js",Ue.onload=ce,document.body.appendChild(Ue)}),Be=async()=>{Me(!1),await ke(),alert("Google Drive picker scaffolded. Add credentials and logic when ready."),Fe("Imported content from Google Drive (simulated)."),ze(!0)},X=()=>window.OneDrive?Promise.resolve():new Promise(ce=>{const Ue=document.createElement("script");Ue.src="https://js.live.net/v7.2/OneDrive.js",Ue.onload=ce,document.body.appendChild(Ue)}),Ae=async()=>{Me(!1),await X(),alert("OneDrive picker scaffolded. Add credentials and logic when ready."),Fe("Imported content from OneDrive (simulated)."),ze(!0)};H.useEffect(()=>{console.log("Documents component mounted"),c()},[c]),H.useEffect(()=>{console.log("Documents array updated:",{documentCount:n.length,documents:n})},[n]),H.useEffect(()=>{const ce=Ue=>{const et=Ue.detail.documentId,nt=Q.current[et];nt&&(nt.scrollIntoView({behavior:"smooth",block:"center"}),nt.classList.add("ring","ring-teal-400","transition-all","duration-300"),setTimeout(()=>{nt.classList.remove("ring","ring-teal-400")},2e3))};return window.addEventListener("scroll-to-document",ce),()=>window.removeEventListener("scroll-to-document",ce)},[]),H.useEffect(()=>{(async()=>{await m();const{data:{user:Ue}}=await je.auth.getUser();if(Ue){const{data:et}=await je.from("subscriptions").select("document_created_count").eq("user_id",Ue.id).single();et&&typeof et.document_created_count=="number"&&y(et.document_created_count)}})()},[]),H.useEffect(()=>{Te&&(async()=>{var ce;xe(null),ue(!0);try{const{data:{user:Ue}}=await je.auth.getUser();if(!Ue)return;const{data:et,error:nt}=await je.from("supervisor_eit_relationships").select("supervisor_id, supervisor_profiles (id, full_name, email)").eq("eit_id",Ue.id).eq("status","active");if(nt)throw nt;const ct=(et||[]).map(ht=>ht.supervisor_profiles).filter(Boolean);G(ct),ne(((ce=ct[0])==null?void 0:ce.id)||"")}catch{xe("Failed to load supervisors.")}finally{ue(!1)}})()},[Te]);const Ie=async ce=>{var et;const Ue=(et=ce.target.files)==null?void 0:et[0];if(Ue)try{console.log("Starting document creation process...");let nt="";const ct=Ue.type;ct.startsWith("text/")?nt=await Ue.text():nt=`File type (${ct}) not directly viewable. Will be stored.`,await r(Ue.name,nt,"other",Ue),console.log("Document creation completed successfully"),ce.target.value=""}catch(nt){console.error("Document creation failed:",nt),alert("Failed to create document. Please try again.")}},be=async ce=>{try{const Ue=new Blob([ce.content],{type:"text/plain"}),et=URL.createObjectURL(Ue),nt=document.createElement("a");nt.href=et,nt.download=`${ce.title}.txt`,document.body.appendChild(nt),nt.click(),document.body.removeChild(nt),URL.revokeObjectURL(et)}catch(Ue){console.error("Download failed:",Ue),alert("Failed to download document")}},we=async ce=>{if(window.confirm("Are you sure you want to delete this document?"))try{await l(ce.id)}catch(Ue){console.error("Delete failed:",Ue),alert("Failed to delete document")}},Ee=async ce=>{Z({id:ce.id,title:ce.title}),me(ce.title)},He=async()=>{if(B)try{if(!n.find(Ue=>Ue.id===B.id))throw new Error("Document not found");await o(B.id,{title:ae}),Z(null)}catch(ce){console.error("Update failed:",ce),alert("Failed to update document title")}},qe=ce=>{$(ce)},Oe=n.filter(ce=>{const Ue=ce.title.toLowerCase().includes(v.toLowerCase())||ce.content.toLowerCase().includes(v.toLowerCase()),et=A==="all"||ce.type===A,nt=N==="all"||ce.status===N;return Ue&&et&&nt}).sort((ce,Ue)=>O==="date"?U==="asc"?new Date(ce.created_at).getTime()-new Date(Ue.created_at).getTime():new Date(Ue.created_at).getTime()-new Date(ce.created_at).getTime():U==="asc"?ce.title.localeCompare(Ue.title):Ue.title.localeCompare(ce.title)),Ce=["all",...new Set(n.map(ce=>ce.type))],_e=async()=>{if(!(!Te||!K)){ue(!0),xe(null);try{await o(Te.id,{supervisor_id:K}),re(null)}catch{xe("Failed to share document.")}finally{ue(!1)}}};return b.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[b.jsx(G2,{isOpen:We,onClose:()=>ze(!1),children:b.jsxs("div",{className:"p-6",children:[b.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Imported Content Preview"}),b.jsx("div",{className:"bg-slate-50 p-4 rounded mb-4 whitespace-pre-wrap text-slate-800 min-h-[120px]",children:Re}),b.jsx("button",{className:"btn btn-primary",onClick:()=>ze(!1),children:"Close"})]})}),b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Documents"}),b.jsx("p",{className:"text-slate-500 mt-1",children:"Upload, manage, and share your documents."})]}),b.jsxs("div",{className:"flex gap-2 items-center relative",children:[b.jsxs("button",{className:"btn flex items-center gap-2 bg-slate-100 hover:bg-slate-200 text-slate-700 border border-slate-200",onClick:()=>Me(ce=>!ce),type:"button",children:[b.jsx(gY,{size:18}),"Upload / Import"]}),Se&&b.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-slate-200 rounded-lg shadow-lg z-10",children:[b.jsx("button",{className:"w-full text-left px-4 py-2 hover:bg-slate-100",onClick:()=>{var ce;Me(!1),(ce=Ne.current)==null||ce.click()},children:"Upload from Device"}),b.jsx("button",{className:"w-full text-left px-4 py-2 hover:bg-slate-100",onClick:Be,children:"Import from Google Drive"}),b.jsx("button",{className:"w-full text-left px-4 py-2 hover:bg-slate-100",onClick:Ae,children:"Import from OneDrive"})]}),b.jsx("input",{type:"file",className:"hidden",ref:Ne,onChange:Ie,disabled:u==="free"&&g>=h})]})]}),u==="free"&&b.jsx("div",{className:"p-4 mb-4 bg-yellow-50 border border-yellow-200 rounded-lg text-yellow-900 text-center font-semibold",children:g<h?`You have ${h-g} document${h-g===1?"":"s"} left on the Free plan.`:"You have reached your document upload limit for the Free plan. Upgrade to add more."}),b.jsx("div",{className:"flex items-center justify-between",children:b.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Documents"})}),b.jsxs("div",{className:"card p-4",children:[b.jsxs("div",{className:"flex flex-wrap gap-4",children:[b.jsx("div",{className:"flex-1 min-w-[200px]",children:b.jsxs("div",{className:"relative",children:[b.jsx($8,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),b.jsx("input",{type:"text",value:v,onChange:ce=>_(ce.target.value),placeholder:"Search documents...",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500"}),v&&b.jsx("button",{onClick:()=>_(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:b.jsx(eo,{size:16})})]})}),b.jsxs("button",{onClick:()=>T(!C),className:"btn btn-secondary flex items-center",children:[b.jsx(bye,{size:16,className:"mr-1.5"}),"Filters"]})]}),C&&b.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Type"}),b.jsx("select",{value:A,onChange:ce=>S(ce.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:Ce.map(ce=>b.jsx("option",{value:ce,children:ce.charAt(0).toUpperCase()+ce.slice(1)},ce))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),b.jsxs("select",{value:N,onChange:ce=>I(ce.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:[b.jsx("option",{value:"all",children:"All Statuses"}),b.jsx("option",{value:"draft",children:"Draft"}),b.jsx("option",{value:"submitted",children:"Submitted"}),b.jsx("option",{value:"approved",children:"Approved"}),b.jsx("option",{value:"rejected",children:"Rejected"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Sort By"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsxs("select",{value:O,onChange:ce=>F(ce.target.value),className:"flex-1 px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:[b.jsx("option",{value:"date",children:"Date"}),b.jsx("option",{value:"name",children:"Name"})]}),b.jsx("button",{onClick:()=>V(U==="asc"?"desc":"asc"),className:"px-3 py-2 border border-slate-200 rounded-lg hover:bg-slate-50",children:U==="asc"?"↑":"↓"})]})]})]})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Oe.map(ce=>b.jsxs("div",{ref:Ue=>Q.current[ce.id]=Ue,"data-document-id":ce.id,className:"document-card bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200 ease-in-out",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[(B==null?void 0:B.id)===ce.id?b.jsx("div",{className:"flex-1 mr-2",children:b.jsx("input",{type:"text",value:ae,onChange:Ue=>me(Ue.target.value),className:"w-full px-2 py-1 border border-slate-200 rounded",onKeyDown:Ue=>{Ue.key==="Enter"&&He(),Ue.key==="Escape"&&Z(null)},autoFocus:!0})}):b.jsx("h3",{className:"font-semibold text-lg text-slate-800",children:ce.title}),b.jsxs("div",{className:"flex space-x-1",children:[b.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-slate-700",onClick:()=>Ee(ce),children:b.jsx(p2,{size:16})}),b.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-slate-700",onClick:()=>qe(ce),children:b.jsx(B8,{size:16})}),b.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-slate-700",onClick:()=>be(ce),children:b.jsx(cY,{size:16})}),b.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-red-600",onClick:()=>we(ce),children:b.jsx(T0,{size:16})})]})]}),ce.file_type&&ce.file_type.startsWith("text/")?b.jsx("p",{className:"text-sm text-slate-600 mt-2 line-clamp-2",children:ce.content}):null,b.jsxs("div",{className:"flex justify-between items-center mt-4 pt-3 border-t border-slate-100",children:[b.jsxs("div",{className:"text-xs text-slate-500",children:[b.jsx("span",{children:new Date(ce.created_at).toLocaleDateString()}),b.jsx("span",{className:"mx-2",children:"•"}),b.jsx("span",{className:"capitalize",children:ce.status})]}),ce.type==="other"?b.jsxs("button",{className:"text-xs px-2 py-1 rounded-full bg-teal-100 text-teal-700 flex items-center gap-1 hover:bg-teal-200 transition",onClick:()=>re(ce),title:"Share with Supervisor",children:[b.jsx(wye,{size:16})," Share"]}):b.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-600",children:ce.type})]})]},ce.id))}),ge&&b.jsx(FY,{document:ge,onClose:()=>$(null)}),Te&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:b.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md p-6",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx("h2",{className:"text-xl font-semibold",children:"Share Document"}),b.jsx("button",{onClick:()=>re(null),className:"text-slate-400 hover:text-slate-600",children:b.jsx(eo,{size:24})})]}),b.jsxs("div",{className:"mb-4",children:[b.jsxs("p",{className:"text-slate-700 mb-2",children:["Share ",b.jsx("span",{className:"font-semibold",children:Te.title})," with your supervisor."]}),J?b.jsx("div",{className:"text-slate-500 text-sm",children:"Loading supervisors..."}):ie.length===0?b.jsx("div",{className:"text-slate-500 text-sm",children:"No active supervisors found. Connect with a supervisor first."}):b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Supervisor"}),b.jsx("select",{value:K,onChange:ce=>ne(ce.target.value),className:"input w-full mb-2",children:ie.map(ce=>b.jsxs("option",{value:ce.id,children:[ce.full_name," (",ce.email,")"]},ce.id))})]}),ee&&b.jsx("div",{className:"text-red-600 text-sm mt-2",children:ee})]}),b.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[b.jsx("button",{type:"button",onClick:()=>re(null),className:"btn btn-secondary",disabled:J,children:"Cancel"}),b.jsx("button",{type:"button",className:`btn btn-primary ${!K||J?"opacity-50 cursor-not-allowed":""}`,disabled:!K||J,onClick:_e,children:J?"Sending...":"Send"})]})]})}),Oe.length===0&&b.jsxs("div",{className:"text-center py-12",children:[b.jsx(Sd,{size:48,className:"mx-auto text-slate-400"}),b.jsx("h3",{className:"mt-4 text-lg font-medium text-slate-900",children:"No documents found"}),b.jsx("p",{className:"mt-2 text-slate-500",children:v||A!=="all"||N!=="all"?"Try adjusting your search or filters":"Get started by uploading your first document"})]}),e&&b.jsxs("div",{className:"text-center py-12",children:[b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 mx-auto"}),b.jsx("p",{className:"mt-4 text-slate-500",children:"Loading documents..."})]}),i&&b.jsxs("div",{className:"text-center py-12",children:[b.jsx(A0,{size:48,className:"mx-auto text-red-400"}),b.jsx("h3",{className:"mt-4 text-lg font-medium text-slate-900",children:"Error loading documents"}),b.jsx("p",{className:"mt-2 text-slate-500",children:i})]})]})},c1e=()=>{const n=[{id:1,title:"Technical Problem Analysis",description:"Self-Assessment Outcome (SAO) for problem analysis competency",status:"complete",updatedAt:"2025-04-12",wordCount:850},{id:2,title:"Team Leadership Experience",description:"SAO documenting leadership skills in team environments",status:"draft",updatedAt:"2025-04-08",wordCount:620},{id:3,title:"Project Management Methodology",description:"SAO for project planning and execution competency",status:"ai-assisted",updatedAt:"2025-04-02",wordCount:740},{id:4,title:"Professional Ethics Application",description:"SAO for ethical decision making in engineering",status:"in-review",updatedAt:"2025-03-25",wordCount:910}],e={complete:"bg-green-100 text-green-800 border-green-200",draft:"bg-slate-100 text-slate-800 border-slate-200","ai-assisted":"bg-purple-100 text-purple-800 border-purple-200","in-review":"bg-amber-100 text-amber-800 border-amber-200"},i={complete:b.jsx(hye,{size:16,className:"mr-1"}),draft:b.jsx(SM,{size:16,className:"mr-1"}),"ai-assisted":b.jsx(VW,{size:16,className:"mr-1"}),"in-review":b.jsx(z0,{size:16,className:"mr-1"})};return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Essays"}),b.jsx("p",{className:"text-slate-500 mt-1",children:"Manage your Self-Assessment Outcome (SAO) essays"})]}),b.jsx("div",{className:"card bg-gradient-to-br from-teal-500 to-teal-700 text-white p-6",children:b.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[b.jsxs("div",{className:"mb-4 md:mb-0",children:[b.jsx("h2",{className:"text-xl font-bold",children:"AI Essay Assistant"}),b.jsx("p",{className:"mt-1 text-teal-100",children:"Let our AI analyze your documented experiences and draft SAO essays that highlight your key competencies."})]}),b.jsxs("button",{className:"btn bg-white text-teal-700 hover:bg-teal-50 flex items-center self-start",children:[b.jsx(VW,{size:16,className:"mr-2"}),"Start New AI-Assisted Essay"]})]})}),b.jsxs("div",{className:"flex flex-col md:flex-row justify-between space-y-4 md:space-y-0",children:[b.jsxs("button",{className:"btn btn-primary flex items-center",children:[b.jsx(hY,{size:16,className:"mr-1.5"}),"Create New Essay"]}),b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsxs("select",{className:"px-3 py-2 rounded-lg border border-slate-200 bg-white text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:[b.jsx("option",{value:"all",children:"All Essays"}),b.jsx("option",{value:"complete",children:"Completed"}),b.jsx("option",{value:"draft",children:"Drafts"}),b.jsx("option",{value:"ai-assisted",children:"AI-Assisted"}),b.jsx("option",{value:"in-review",children:"In Review"})]}),b.jsxs("select",{className:"px-3 py-2 rounded-lg border border-slate-200 bg-white text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:[b.jsx("option",{value:"recent",children:"Recently Updated"}),b.jsx("option",{value:"oldest",children:"Oldest First"}),b.jsx("option",{value:"alphabetical",children:"Alphabetical"})]})]})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(r=>b.jsxs("div",{className:"card hover:shadow-md transition-shadow",children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsx("h3",{className:"font-semibold text-lg text-slate-800",children:r.title}),b.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${e[r.status]}`,children:[i[r.status],r.status==="ai-assisted"?"AI Assisted":r.status.charAt(0).toUpperCase()+r.status.slice(1)]})]}),b.jsx("p",{className:"text-sm text-slate-600 mt-2",children:r.description}),b.jsxs("div",{className:"flex justify-between items-center mt-4 pt-3 border-t border-slate-100",children:[b.jsxs("div",{className:"text-xs text-slate-500",children:[b.jsxs("span",{children:["Updated ",new Date(r.updatedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]}),b.jsx("span",{className:"mx-2",children:"•"}),b.jsxs("span",{children:[r.wordCount," words"]})]}),b.jsxs("div",{className:"flex space-x-1",children:[b.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-slate-700",children:b.jsx(B8,{size:16})}),b.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-slate-700",children:b.jsx(SM,{size:16})}),b.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-red-600",children:b.jsx(T0,{size:16})})]})]})]},r.id))})]})},u1e={};function d1e(n,e){let i;try{i=n()}catch{return}return{getItem:o=>{var l;const c=h=>h===null?null:JSON.parse(h,void 0),u=(l=i.getItem(o))!=null?l:null;return u instanceof Promise?u.then(c):c(u)},setItem:(o,l)=>i.setItem(o,JSON.stringify(l,void 0)),removeItem:o=>i.removeItem(o)}}const X2=n=>e=>{try{const i=n(e);return i instanceof Promise?i:{then(r){return X2(r)(i)},catch(r){return this}}}catch(i){return{then(r){return this},catch(r){return X2(r)(i)}}}},h1e=(n,e)=>(i,r,o)=>{let l={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:C=>C,version:0,merge:(C,T)=>({...T,...C}),...e},c=!1;const u=new Set,h=new Set;let m;try{m=l.getStorage()}catch{}if(!m)return n((...C)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),i(...C)},r,o);const g=X2(l.serialize),y=()=>{const C=l.partialize({...r()});let T;const N=g({state:C,version:l.version}).then(I=>m.setItem(l.name,I)).catch(I=>{T=I});if(T)throw T;return N},v=o.setState;o.setState=(C,T)=>{v(C,T),y()};const _=n((...C)=>{i(...C),y()},r,o);let A;const S=()=>{var C;if(!m)return;c=!1,u.forEach(N=>N(r()));const T=((C=l.onRehydrateStorage)==null?void 0:C.call(l,r()))||void 0;return X2(m.getItem.bind(m))(l.name).then(N=>{if(N)return l.deserialize(N)}).then(N=>{if(N)if(typeof N.version=="number"&&N.version!==l.version){if(l.migrate)return l.migrate(N.state,N.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return N.state}).then(N=>{var I;return A=l.merge(N,(I=r())!=null?I:_),i(A,!0),y()}).then(()=>{T==null||T(A,void 0),c=!0,h.forEach(N=>N(A))}).catch(N=>{T==null||T(void 0,N)})};return o.persist={setOptions:C=>{l={...l,...C},C.getStorage&&(m=C.getStorage())},clearStorage:()=>{m==null||m.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>S(),hasHydrated:()=>c,onHydrate:C=>(u.add(C),()=>{u.delete(C)}),onFinishHydration:C=>(h.add(C),()=>{h.delete(C)})},S(),A||_},f1e=(n,e)=>(i,r,o)=>{let l={storage:d1e(()=>localStorage),partialize:S=>S,version:0,merge:(S,C)=>({...C,...S}),...e},c=!1;const u=new Set,h=new Set;let m=l.storage;if(!m)return n((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),i(...S)},r,o);const g=()=>{const S=l.partialize({...r()});return m.setItem(l.name,{state:S,version:l.version})},y=o.setState;o.setState=(S,C)=>{y(S,C),g()};const v=n((...S)=>{i(...S),g()},r,o);o.getInitialState=()=>v;let _;const A=()=>{var S,C;if(!m)return;c=!1,u.forEach(N=>{var I;return N((I=r())!=null?I:v)});const T=((C=l.onRehydrateStorage)==null?void 0:C.call(l,(S=r())!=null?S:v))||void 0;return X2(m.getItem.bind(m))(l.name).then(N=>{if(N)if(typeof N.version=="number"&&N.version!==l.version){if(l.migrate)return[!0,l.migrate(N.state,N.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,N.state];return[!1,void 0]}).then(N=>{var I;const[O,F]=N;if(_=l.merge(F,(I=r())!=null?I:v),i(_,!0),O)return g()}).then(()=>{T==null||T(_,void 0),_=r(),c=!0,h.forEach(N=>N(_))}).catch(N=>{T==null||T(void 0,N)})};return o.persist={setOptions:S=>{l={...l,...S},S.storage&&(m=S.storage)},clearStorage:()=>{m==null||m.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>A(),hasHydrated:()=>c,onHydrate:S=>(u.add(S),()=>{u.delete(S)}),onFinishHydration:S=>(h.add(S),()=>{h.delete(S)})},l.skipHydration||A(),_||v},p1e=(n,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((u1e?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),h1e(n,e)):f1e(n,e),G8=p1e,UY=ac()(G8((n,e)=>({documents:[],loading:!1,error:null,addDocument:(i,r,o)=>{const l={id:Date.now().toString(),name:i,content:r,category:o,size:`${(r.length/1024).toFixed(1)} KB`,created_at:new Date().toISOString(),attachments:[]};n(c=>({documents:[l,...c.documents]}))},getDocuments:()=>e().documents,getDocument:i=>e().documents.find(r=>r.id===i),updateDocument:(i,r)=>{n(o=>({documents:o.documents.map(l=>{if(l.id===i){const c={...l,...r};return r.content&&(c.size=`${(r.content.length/1024).toFixed(1)} KB`),c}return l})}))},deleteDocument:i=>{n(r=>({documents:r.documents.filter(o=>o.id!==i)}))}}),{name:"local-documents-storage"}));var H5={exports:{}};/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */H5.exports;(function(n,e){(function(i,r){n.exports=r(H)})(self,i=>(()=>{var r={703:(u,h,m)=>{var g=m(414);function y(){}function v(){}v.resetWarningCache=y,u.exports=function(){function _(C,T,N,I,O,F){if(F!==g){var U=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw U.name="Invariant Violation",U}}function A(){return _}_.isRequired=_;var S={array:_,bigint:_,bool:_,func:_,number:_,object:_,string:_,symbol:_,any:_,arrayOf:A,element:_,elementType:_,instanceOf:A,node:_,objectOf:A,oneOf:A,oneOfType:A,shape:A,exact:A,checkPropTypes:v,resetWarningCache:y};return S.PropTypes=S,S}},697:(u,h,m)=>{u.exports=m(703)()},414:u=>{u.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},787:u=>{u.exports=i}},o={};function l(u){var h=o[u];if(h!==void 0)return h.exports;var m=o[u]={exports:{}};return r[u](m,m.exports,l),m.exports}l.n=u=>{var h=u&&u.__esModule?()=>u.default:()=>u;return l.d(h,{a:h}),h},l.d=(u,h)=>{for(var m in h)l.o(h,m)&&!l.o(u,m)&&Object.defineProperty(u,m,{enumerable:!0,get:h[m]})},l.o=(u,h)=>Object.prototype.hasOwnProperty.call(u,h),l.r=u=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})};var c={};return(()=>{l.r(c),l.d(c,{CKEditor:()=>kl,CKEditorContext:()=>Ff});var u=l(787),h=l.n(u),m=l(697),g=l.n(m);const y=function(ye){var de=typeof ye;return ye!=null&&(de=="object"||de=="function")},v=typeof Lt=="object"&&Lt&&Lt.Object===Object&&Lt;var _=typeof self=="object"&&self&&self.Object===Object&&self;const A=v||_||Function("return this")(),S=function(){return A.Date.now()};var C=/\s/;const T=function(ye){for(var de=ye.length;de--&&C.test(ye.charAt(de)););return de};var N=/^\s+/;const I=function(ye){return ye&&ye.slice(0,T(ye)+1).replace(N,"")},O=A.Symbol;var F=Object.prototype,U=F.hasOwnProperty,V=F.toString,B=O?O.toStringTag:void 0;const Z=function(ye){var de=U.call(ye,B),Le=ye[B];try{ye[B]=void 0;var Ye=!0}catch{}var It=V.call(ye);return Ye&&(de?ye[B]=Le:delete ye[B]),It};var ae=Object.prototype.toString;const me=function(ye){return ae.call(ye)};var Q="[object Null]",ge="[object Undefined]",$=O?O.toStringTag:void 0;const Te=function(ye){return ye==null?ye===void 0?ge:Q:$&&$ in Object(ye)?Z(ye):me(ye)},re=function(ye){return ye!=null&&typeof ye=="object"};var ie="[object Symbol]";const G=function(ye){return typeof ye=="symbol"||re(ye)&&Te(ye)==ie};var K=NaN,ne=/^[-+]0x[0-9a-f]+$/i,J=/^0b[01]+$/i,ue=/^0o[0-7]+$/i,ee=parseInt;const xe=function(ye){if(typeof ye=="number")return ye;if(G(ye))return K;if(y(ye)){var de=typeof ye.valueOf=="function"?ye.valueOf():ye;ye=y(de)?de+"":de}if(typeof ye!="string")return ye===0?ye:+ye;ye=I(ye);var Le=J.test(ye);return Le||ue.test(ye)?ee(ye.slice(2),Le?2:8):ne.test(ye)?K:+ye};var Se="Expected a function",Me=Math.max,Re=Math.min;const Fe=function(ye,de,Le){var Ye,It,Qt,nn,vt,qi,jn=0,xa=!1,Uo=!1,wn=!0;if(typeof ye!="function")throw new TypeError(Se);function Ur(Ai){var cs=Ye,fo=It;return Ye=It=void 0,jn=Ai,nn=ye.apply(fo,cs)}function Lr(Ai){var cs=Ai-qi;return qi===void 0||cs>=de||cs<0||Uo&&Ai-jn>=Qt}function pc(){var Ai=S();if(Lr(Ai))return Wd(Ai);vt=setTimeout(pc,function(cs){var fo=de-(cs-qi);return Uo?Re(fo,Qt-(cs-jn)):fo}(Ai))}function Wd(Ai){return vt=void 0,wn&&Ye?Ur(Ai):(Ye=It=void 0,nn)}function Ms(){var Ai=S(),cs=Lr(Ai);if(Ye=arguments,It=this,qi=Ai,cs){if(vt===void 0)return function(fo){return jn=fo,vt=setTimeout(pc,de),xa?Ur(fo):nn}(qi);if(Uo)return clearTimeout(vt),vt=setTimeout(pc,de),Ur(qi)}return vt===void 0&&(vt=setTimeout(pc,de)),nn}return de=xe(de)||0,y(Le)&&(xa=!!Le.leading,Qt=(Uo="maxWait"in Le)?Me(xe(Le.maxWait)||0,de):Qt,wn="trailing"in Le?!!Le.trailing:wn),Ms.cancel=function(){vt!==void 0&&clearTimeout(vt),jn=0,Ye=qi=It=vt=void 0},Ms.flush=function(){return vt===void 0?nn:Wd(S())},Ms};var We="Expected a function";const ze=function(ye,de,Le){var Ye=!0,It=!0;if(typeof ye!="function")throw new TypeError(We);return y(Le)&&(Ye="leading"in Le?!!Le.leading:Ye,It="trailing"in Le?!!Le.trailing:It),Fe(ye,de,{leading:Ye,maxWait:de,trailing:It})},Ne=function(){this.__data__=[],this.size=0},ke=function(ye,de){return ye===de||ye!=ye&&de!=de},Be=function(ye,de){for(var Le=ye.length;Le--;)if(ke(ye[Le][0],de))return Le;return-1};var X=Array.prototype.splice;const Ae=function(ye){var de=this.__data__,Le=Be(de,ye);return!(Le<0)&&(Le==de.length-1?de.pop():X.call(de,Le,1),--this.size,!0)},Ie=function(ye){var de=this.__data__,Le=Be(de,ye);return Le<0?void 0:de[Le][1]},be=function(ye){return Be(this.__data__,ye)>-1},we=function(ye,de){var Le=this.__data__,Ye=Be(Le,ye);return Ye<0?(++this.size,Le.push([ye,de])):Le[Ye][1]=de,this};function Ee(ye){var de=-1,Le=ye==null?0:ye.length;for(this.clear();++de<Le;){var Ye=ye[de];this.set(Ye[0],Ye[1])}}Ee.prototype.clear=Ne,Ee.prototype.delete=Ae,Ee.prototype.get=Ie,Ee.prototype.has=be,Ee.prototype.set=we;const He=Ee,qe=function(){this.__data__=new He,this.size=0},Oe=function(ye){var de=this.__data__,Le=de.delete(ye);return this.size=de.size,Le},Ce=function(ye){return this.__data__.get(ye)},_e=function(ye){return this.__data__.has(ye)};var ce="[object AsyncFunction]",Ue="[object Function]",et="[object GeneratorFunction]",nt="[object Proxy]";const ct=function(ye){if(!y(ye))return!1;var de=Te(ye);return de==Ue||de==et||de==ce||de==nt},ht=A["__core-js_shared__"];var Pt=function(){var ye=/[^.]+$/.exec(ht&&ht.keys&&ht.keys.IE_PROTO||"");return ye?"Symbol(src)_1."+ye:""}();const Bt=function(ye){return!!Pt&&Pt in ye};var bt=Function.prototype.toString;const Zt=function(ye){if(ye!=null){try{return bt.call(ye)}catch{}try{return ye+""}catch{}}return""};var mn=/^\[object .+?Constructor\]$/,qt=Function.prototype,Vn=Object.prototype,rs=qt.toString,jr=Vn.hasOwnProperty,Rr=RegExp("^"+rs.call(jr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Ii=function(ye){return!(!y(ye)||Bt(ye))&&(ct(ye)?Rr:mn).test(Zt(ye))},bi=function(ye,de){return ye==null?void 0:ye[de]},yi=function(ye,de){var Le=bi(ye,de);return Ii(Le)?Le:void 0},vi=yi(A,"Map"),wt=yi(Object,"create"),Ht=function(){this.__data__=wt?wt(null):{},this.size=0},sn=function(ye){var de=this.has(ye)&&delete this.__data__[ye];return this.size-=de?1:0,de};var Wn="__lodash_hash_undefined__",Xn=Object.prototype.hasOwnProperty;const Mr=function(ye){var de=this.__data__;if(wt){var Le=de[ye];return Le===Wn?void 0:Le}return Xn.call(de,ye)?de[ye]:void 0};var Ji=Object.prototype.hasOwnProperty;const ft=function(ye){var de=this.__data__;return wt?de[ye]!==void 0:Ji.call(de,ye)};var An="__lodash_hash_undefined__";const Ps=function(ye,de){var Le=this.__data__;return this.size+=this.has(ye)?0:1,Le[ye]=wt&&de===void 0?An:de,this};function ss(ye){var de=-1,Le=ye==null?0:ye.length;for(this.clear();++de<Le;){var Ye=ye[de];this.set(Ye[0],Ye[1])}}ss.prototype.clear=Ht,ss.prototype.delete=sn,ss.prototype.get=Mr,ss.prototype.has=ft,ss.prototype.set=Ps;const Is=ss,ol=function(){this.size=0,this.__data__={hash:new Is,map:new(vi||He),string:new Is}},Mo=function(ye){var de=typeof ye;return de=="string"||de=="number"||de=="symbol"||de=="boolean"?ye!=="__proto__":ye===null},al=function(ye,de){var Le=ye.__data__;return Mo(de)?Le[typeof de=="string"?"string":"hash"]:Le.map},Oo=function(ye){var de=al(this,ye).delete(ye);return this.size-=de?1:0,de},ll=function(ye){return al(this,ye).get(ye)},so=function(ye){return al(this,ye).has(ye)},js=function(ye,de){var Le=al(this,ye),Ye=Le.size;return Le.set(ye,de),this.size+=Le.size==Ye?0:1,this};function Si(ye){var de=-1,Le=ye==null?0:ye.length;for(this.clear();++de<Le;){var Ye=ye[de];this.set(Ye[0],Ye[1])}}Si.prototype.clear=ol,Si.prototype.delete=Oo,Si.prototype.get=ll,Si.prototype.has=so,Si.prototype.set=js;const cl=Si;var Rs=200;const Or=function(ye,de){var Le=this.__data__;if(Le instanceof He){var Ye=Le.__data__;if(!vi||Ye.length<Rs-1)return Ye.push([ye,de]),this.size=++Le.size,this;Le=this.__data__=new cl(Ye)}return Le.set(ye,de),this.size=Le.size,this};function os(ye){var de=this.__data__=new He(ye);this.size=de.size}os.prototype.clear=qe,os.prototype.delete=Oe,os.prototype.get=Ce,os.prototype.has=_e,os.prototype.set=Or;const ul=os,lc=function(ye,de){for(var Le=-1,Ye=ye==null?0:ye.length;++Le<Ye&&de(ye[Le],Le,ye)!==!1;);return ye},su=function(){try{var ye=yi(Object,"defineProperty");return ye({},"",{}),ye}catch{}}(),Zm=function(ye,de,Le){de=="__proto__"&&su?su(ye,de,{configurable:!0,enumerable:!0,value:Le,writable:!0}):ye[de]=Le};var ma=Object.prototype.hasOwnProperty;const wf=function(ye,de,Le){var Ye=ye[de];ma.call(ye,de)&&ke(Ye,Le)&&(Le!==void 0||de in ye)||Zm(ye,de,Le)},xf=function(ye,de){for(var Le=-1,Ye=Array(ye);++Le<ye;)Ye[Le]=de(Le);return Ye};var ji="[object Arguments]";const dl=function(ye){return re(ye)&&Te(ye)==ji};var hl=Object.prototype,fl=hl.hasOwnProperty,Ym=hl.propertyIsEnumerable;const Cd=dl(function(){return arguments}())?dl:function(ye){return re(ye)&&fl.call(ye,"callee")&&!Ym.call(ye,"callee")},ou=Array.isArray,oo=function(){return!1};var Fo=e&&!e.nodeType&&e,ao=Fo&&!0&&n&&!n.nodeType&&n,cr=ao&&ao.exports===Fo?A.Buffer:void 0;const ga=(cr?cr.isBuffer:void 0)||oo;var cc=9007199254740991,pl=/^(?:0|[1-9]\d*)$/;const uc=function(ye,de){var Le=typeof ye;return!!(de=de??cc)&&(Le=="number"||Le!="symbol"&&pl.test(ye))&&ye>-1&&ye%1==0&&ye<de};var at=9007199254740991;const gt=function(ye){return typeof ye=="number"&&ye>-1&&ye%1==0&&ye<=at};var _t={};_t["[object Float32Array]"]=_t["[object Float64Array]"]=_t["[object Int8Array]"]=_t["[object Int16Array]"]=_t["[object Int32Array]"]=_t["[object Uint8Array]"]=_t["[object Uint8ClampedArray]"]=_t["[object Uint16Array]"]=_t["[object Uint32Array]"]=!0,_t["[object Arguments]"]=_t["[object Array]"]=_t["[object ArrayBuffer]"]=_t["[object Boolean]"]=_t["[object DataView]"]=_t["[object Date]"]=_t["[object Error]"]=_t["[object Function]"]=_t["[object Map]"]=_t["[object Number]"]=_t["[object Object]"]=_t["[object RegExp]"]=_t["[object Set]"]=_t["[object String]"]=_t["[object WeakMap]"]=!1;const oi=function(ye){return re(ye)&&gt(ye.length)&&!!_t[Te(ye)]},wi=function(ye){return function(de){return ye(de)}};var Fr=e&&!e.nodeType&&e,au=Fr&&!0&&n&&!n.nodeType&&n,wr=au&&au.exports===Fr&&v.process;const lo=function(){try{var ye=au&&au.require&&au.require("util").types;return ye||wr&&wr.binding&&wr.binding("util")}catch{}}();var Td=lo&&lo.isTypedArray;const ba=Td?wi(Td):oi;var Dd=Object.prototype.hasOwnProperty;const X0=function(ye,de){var Le=ou(ye),Ye=!Le&&Cd(ye),It=!Le&&!Ye&&ga(ye),Qt=!Le&&!Ye&&!It&&ba(ye),nn=Le||Ye||It||Qt,vt=nn?xf(ye.length,String):[],qi=vt.length;for(var jn in ye)!Dd.call(ye,jn)||nn&&(jn=="length"||It&&(jn=="offset"||jn=="parent")||Qt&&(jn=="buffer"||jn=="byteLength"||jn=="byteOffset")||uc(jn,qi))||vt.push(jn);return vt};var lu=Object.prototype;const ml=function(ye){var de=ye&&ye.constructor;return ye===(typeof de=="function"&&de.prototype||lu)},Jm=function(ye,de){return function(Le){return ye(de(Le))}},Qm=Jm(Object.keys,Object);var eg=Object.prototype.hasOwnProperty;const K0=function(ye){if(!ml(ye))return Qm(ye);var de=[];for(var Le in Object(ye))eg.call(ye,Le)&&Le!="constructor"&&de.push(Le);return de},tg=function(ye){return ye!=null&&gt(ye.length)&&!ct(ye)},ng=function(ye){return tg(ye)?X0(ye):K0(ye)};var _f=e&&!e.nodeType&&e,Pn=_f&&!0&&n&&!n.nodeType&&n,gl=Pn&&Pn.exports===_f?A.Buffer:void 0;gl&&gl.allocUnsafe;const cu=function(ye,de){return ye.slice()},uu=function(ye,de){for(var Le=-1,Ye=ye==null?0:ye.length,It=0,Qt=[];++Le<Ye;){var nn=ye[Le];de(nn,Le,ye)&&(Qt[It++]=nn)}return Qt},kf=function(){return[]};var bl=Object.prototype.propertyIsEnumerable,Nd=Object.getOwnPropertySymbols;const In=Nd?function(ye){return ye==null?[]:(ye=Object(ye),uu(Nd(ye),function(de){return bl.call(ye,de)}))}:kf,yl=function(ye,de){for(var Le=-1,Ye=de.length,It=ye.length;++Le<Ye;)ye[It+Le]=de[Le];return ye},Ef=Jm(Object.getPrototypeOf,Object),Z0=function(ye,de,Le){var Ye=de(ye);return ou(ye)?Ye:yl(Ye,Le(ye))},Pd=function(ye){return Z0(ye,ng,In)},Id=yi(A,"DataView"),co=yi(A,"Promise"),Sf=yi(A,"Set"),jd=yi(A,"WeakMap");var Af="[object Map]",Rd="[object Promise]",vl="[object Set]",du="[object WeakMap]",Md="[object DataView]",Y0=Zt(Id),Cf=Zt(vi),dc=Zt(co),Tf=Zt(Sf),as=Zt(jd),ya=Te;(Id&&ya(new Id(new ArrayBuffer(1)))!=Md||vi&&ya(new vi)!=Af||co&&ya(co.resolve())!=Rd||Sf&&ya(new Sf)!=vl||jd&&ya(new jd)!=du)&&(ya=function(ye){var de=Te(ye),Le=de=="[object Object]"?ye.constructor:void 0,Ye=Le?Zt(Le):"";if(Ye)switch(Ye){case Y0:return Md;case Cf:return Af;case dc:return Rd;case Tf:return vl;case as:return du}return de});const Od=ya;var Fd=Object.prototype.hasOwnProperty;const uo=function(ye){var de=ye.length,Le=new ye.constructor(de);return de&&typeof ye[0]=="string"&&Fd.call(ye,"index")&&(Le.index=ye.index,Le.input=ye.input),Le},Df=A.Uint8Array,wl=function(ye){var de=new ye.constructor(ye.byteLength);return new Df(de).set(new Df(ye)),de},J0=function(ye,de){var Le=wl(ye.buffer);return new ye.constructor(Le,ye.byteOffset,ye.byteLength)};var Ud=/\w*$/;const ig=function(ye){var de=new ye.constructor(ye.source,Ud.exec(ye));return de.lastIndex=ye.lastIndex,de};var rg=O?O.prototype:void 0,Ld=rg?rg.valueOf:void 0;const ix=function(ye){return Ld?Object(Ld.call(ye)):{}},Q0=function(ye,de){var Le=wl(ye.buffer);return new ye.constructor(Le,ye.byteOffset,ye.length)};var rx="[object Boolean]",sg="[object Date]",og="[object Map]",sx="[object Number]",ey="[object RegExp]",ty="[object Set]",ag="[object String]",ny="[object Symbol]",lg="[object ArrayBuffer]",iy="[object DataView]",cg="[object Float32Array]",ug="[object Float64Array]",dg="[object Int8Array]",hg="[object Int16Array]",ry="[object Int32Array]",Nf="[object Uint8Array]",hu="[object Uint8ClampedArray]",sy="[object Uint16Array]",fg="[object Uint32Array]";const oy=function(ye,de,Le){var Ye=ye.constructor;switch(de){case lg:return wl(ye);case rx:case sg:return new Ye(+ye);case iy:return J0(ye);case cg:case ug:case dg:case hg:case ry:case Nf:case hu:case sy:case fg:return Q0(ye);case og:return new Ye;case sx:case ag:return new Ye(ye);case ey:return ig(ye);case ty:return new Ye;case ny:return ix(ye)}};var pg=Object.create;const ay=function(){function ye(){}return function(de){if(!y(de))return{};if(pg)return pg(de);ye.prototype=de;var Le=new ye;return ye.prototype=void 0,Le}}(),ly=function(ye){return typeof ye.constructor!="function"||ml(ye)?{}:ay(Ef(ye))};var fu="[object Map]";const hc=function(ye){return re(ye)&&Od(ye)==fu};var fc=lo&&lo.isMap;const cy=fc?wi(fc):hc;var Pf="[object Set]";const xl=function(ye){return re(ye)&&Od(ye)==Pf};var If=lo&&lo.isSet;const jf=If?wi(If):xl;var uy="[object Arguments]",mg="[object Function]",Rf="[object GeneratorFunction]",Bd="[object Object]",Ln={};Ln[uy]=Ln["[object Array]"]=Ln["[object ArrayBuffer]"]=Ln["[object DataView]"]=Ln["[object Boolean]"]=Ln["[object Date]"]=Ln["[object Float32Array]"]=Ln["[object Float64Array]"]=Ln["[object Int8Array]"]=Ln["[object Int16Array]"]=Ln["[object Int32Array]"]=Ln["[object Map]"]=Ln["[object Number]"]=Ln[Bd]=Ln["[object RegExp]"]=Ln["[object Set]"]=Ln["[object String]"]=Ln["[object Symbol]"]=Ln["[object Uint8Array]"]=Ln["[object Uint8ClampedArray]"]=Ln["[object Uint16Array]"]=Ln["[object Uint32Array]"]=!0,Ln["[object Error]"]=Ln[mg]=Ln["[object WeakMap]"]=!1;const gg=function ye(de,Le,Ye,It,Qt,nn){var vt;if(Ye&&(vt=Qt?Ye(de,It,Qt,nn):Ye(de)),vt!==void 0)return vt;if(!y(de))return de;var qi=ou(de);if(qi)vt=uo(de);else{var jn=Od(de),xa=jn==mg||jn==Rf;if(ga(de))return cu(de);if(jn==Bd||jn==uy||xa&&!Qt)vt=xa?{}:ly(de);else{if(!Ln[jn])return Qt?de:{};vt=oy(de,jn)}}nn||(nn=new ul);var Uo=nn.get(de);if(Uo)return Uo;nn.set(de,vt),jf(de)?de.forEach(function(Ur){vt.add(ye(Ur,Le,Ye,Ur,de,nn))}):cy(de)&&de.forEach(function(Ur,Lr){vt.set(Lr,ye(Ur,Le,Ye,Lr,de,nn))});var wn=qi?void 0:Pd(de);return lc(wn||de,function(Ur,Lr){wn&&(Ur=de[Lr=Ur]),wf(vt,Lr,ye(Ur,Le,Ye,Lr,de,nn))}),vt};var dy=1,hy=4;const ox=function(ye,de){return gg(ye,dy|hy,de=typeof de=="function"?de:void 0)};var fy="[object Object]",ax=Function.prototype,ls=Object.prototype,py=ax.toString,zd=ls.hasOwnProperty,bg=py.call(Object);const my=function(ye){if(!re(ye)||Te(ye)!=fy)return!1;var de=Ef(ye);if(de===null)return!0;var Le=zd.call(de,"constructor")&&de.constructor;return typeof Le=="function"&&Le instanceof Le&&py.call(Le)==bg},yg=function(ye){return re(ye)&&ye.nodeType===1&&!my(ye)};function Vd(ye,de=new Set){const Le=[ye],Ye=new Set;let It=0;for(;Le.length>It;){const Qt=Le[It++];if(!(Ye.has(Qt)||Mf(Qt)||de.has(Qt)))if(Ye.add(Qt),Qt[Symbol.iterator])try{for(const nn of Qt)Le.push(nn)}catch{}else for(const nn in Qt)nn!=="defaultValue"&&Le.push(Qt[nn])}return Ye}function Mf(ye){const de=Object.prototype.toString.call(ye),Le=typeof ye;return Le==="number"||Le==="boolean"||Le==="string"||Le==="symbol"||Le==="function"||de==="[object Date]"||de==="[object RegExp]"||de==="[object Module]"||ye==null||ye._watchdogExcluded===!0||ye instanceof EventTarget||ye instanceof Event}function Bn(ye,de,Le=new Set){if(ye===de&&typeof(Ye=ye)=="object"&&Ye!==null)return!0;var Ye;const It=Vd(ye,Le),Qt=Vd(de,Le);for(const nn of It)if(Qt.has(nn))return!0;return!1}class va{constructor(de){if(this.crashes=[],this.state="initializing",this._crashNumberLimit=typeof de.crashNumberLimit=="number"?de.crashNumberLimit:3,this._now=Date.now,this._minimumNonErrorTimePeriod=typeof de.minimumNonErrorTimePeriod=="number"?de.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=Le=>{const Ye=Le.error||Le.reason;Ye instanceof Error&&this._handleError(Ye,Le)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}setCreator(de){this._creator=de}setDestructor(de){this._destructor=de}destroy(){this._stopErrorHandling(),this._listeners={}}on(de,Le){this._listeners[de]||(this._listeners[de]=[]),this._listeners[de].push(Le)}off(de,Le){this._listeners[de]=this._listeners[de].filter(Ye=>Ye!==Le)}_fire(de,...Le){const Ye=this._listeners[de]||[];for(const It of Ye)It.apply(this,[null,...Le])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(de,Le){if(this._shouldReactToError(de)){this.crashes.push({message:de.message,stack:de.stack,filename:Le.filename,lineno:Le.lineno,colno:Le.colno,date:this._now()});const Ye=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:de,causesRestart:Ye}),Ye?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(de){return de.is&&de.is("CKEditorError")&&de.context!==void 0&&de.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(de)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}class pu extends va{constructor(de,Le={}){super(Le),this._editor=null,this._throttledSave=ze(this._save.bind(this),typeof Le.saveInterval=="number"?Le.saveInterval:5e3),this._creator=(Ye,It)=>de.create(Ye,It),this._destructor=Ye=>Ye.destroy()}get editor(){return this._editor}get _item(){return this._editor}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(de=>{console.error("An error happened during the editor destroying.",de)}).then(()=>{if(typeof this._elementOrData=="string")return this.create(this._data,this._config,this._config.context);{const de=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,de,de.context)}}).then(()=>{this._fire("restart")})}create(de=this._elementOrData,Le=this._config,Ye){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=de,this._config=this._cloneEditorConfiguration(Le)||{},this._config.context=Ye,this._creator(de,this._config))).then(It=>{this._editor=It,It.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=It.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const de=this._editor;return this._editor=null,de.model.document.off("change:data",this._throttledSave),this._destructor(de)})}_save(){const de=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=de}catch(Le){console.error(Le,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(de){this._excludedProps=de}_getData(){const de={};for(const Le of this._editor.model.document.getRootNames())de[Le]=this._editor.data.get({rootName:Le});return de}_isErrorComingFromThisItem(de){return Bn(this._editor,de.context,this._excludedProps)}_cloneEditorConfiguration(de){return ox(de,(Le,Ye)=>yg(Le)||Ye==="context"?Le:void 0)}}const $n=new Array(256).fill("").map((ye,de)=>("0"+de.toString(16)).slice(-2)),_l=Symbol("MainQueueId");class Of extends va{constructor(de,Le={}){super(Le),this._watchdogs=new Map,this._watchdogConfig=Le,this._context=null,this._contextProps=new Set,this._actionQueues=new gy,this._creator=Ye=>de.create(Ye),this._destructor=Ye=>Ye.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}get context(){return this._context}create(de={}){return this._actionQueues.enqueue(_l,()=>(this._contextConfig=de,this._create()))}getItem(de){return this._getWatchdog(de)._item}getItemState(de){return this._getWatchdog(de).state}add(de){const Le=ho(de);return Promise.all(Le.map(Ye=>this._actionQueues.enqueue(Ye.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let It;if(this._watchdogs.has(Ye.id))throw new Error(`Item with the given id is already added: '${Ye.id}'.`);if(Ye.type==="editor")return It=new pu(this._watchdogConfig),It.setCreator(Ye.creator),It._setExcludedProperties(this._contextProps),Ye.destructor&&It.setDestructor(Ye.destructor),this._watchdogs.set(Ye.id,It),It.on("error",(Qt,{error:nn,causesRestart:vt})=>{this._fire("itemError",{itemId:Ye.id,error:nn}),vt&&this._actionQueues.enqueue(Ye.id,()=>new Promise(qi=>{It.on("restart",(function jn(){It.off("restart",jn),this._fire("itemRestart",{itemId:Ye.id}),qi()}).bind(this))}))}),It.create(Ye.sourceElementOrData,Ye.config,this._context);throw new Error(`Not supported item type: '${Ye.type}'.`)})))}remove(de){const Le=ho(de);return Promise.all(Le.map(Ye=>this._actionQueues.enqueue(Ye,()=>{const It=this._getWatchdog(Ye);return this._watchdogs.delete(Ye),It.destroy()})))}destroy(){return this._actionQueues.enqueue(_l,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(_l,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(de=>{console.error("An error happened during destroying the context or items.",de)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(de=>(this._context=de,this._contextProps=Vd(this._context),Promise.all(Array.from(this._watchdogs.values()).map(Le=>(Le._setExcludedProperties(this._contextProps),Le.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const de=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(Le=>Le.destroy())).then(()=>this._destructor(de))})}_getWatchdog(de){const Le=this._watchdogs.get(de);if(!Le)throw new Error(`Item with the given id was not registered: ${de}.`);return Le}_isErrorComingFromThisItem(de){for(const Le of this._watchdogs.values())if(Le._isErrorComingFromThisItem(de))return!1;return Bn(this._context,de.context)}}class gy{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._actions=new WeakMap,this._lastActionId=0,this._activeActions=0}onEmpty(de){this._onEmptyCallbacks.push(de)}enqueue(de,Le){const Ye=de===_l;this._activeActions++,this._queues.get(de)||this._queues.set(de,Promise.resolve());const It=(Ye?Promise.all(this._queues.values()):Promise.all([this._queues.get(_l),this._queues.get(de)])).then(Le),Qt=It.catch(()=>{});return this._queues.set(de,Qt),It.finally(()=>{this._activeActions--,this._queues.get(de)===Qt&&this._activeActions===0&&this._onEmptyCallbacks.forEach(nn=>nn())})}}function ho(ye){return Array.isArray(ye)?ye:[ye]}const wa=h().createContext("contextWatchdog");class Ff extends h().Component{constructor(de,Le){super(de,Le),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}async shouldComponentUpdate(de){return de.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(de.config)),de.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(de.config),!0):this.props.children!==de.children}render(){return h().createElement(wa.Provider,{value:this.contextWatchdog},this.props.children)}async componentWillUnmount(){await this._destroyContext()}async _initializeContextWatchdog(de){this.contextWatchdog=new Of(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",(Le,Ye)=>{this.props.onError(Ye.error,{phase:"runtime",willContextRestart:Ye.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(de).catch(Le=>{this.props.onError(Le,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}Ff.defaultProps={isLayoutReady:!0,onError:(ye,de)=>console.error(ye,de)},Ff.propTypes={id:g().string,isLayoutReady:g().bool,context:g().func,watchdogConfig:g().object,config:g().object,onReady:g().func,onError:g().func};const ur="Lock from React integration (@ckeditor/ckeditor5-react)";class kl extends h().Component{constructor(de){super(de),this.editorDestructionInProgress=null,this.domContainer=h().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:Le}=window;if(Le){const[Ye]=Le.split(".").map(Number);Ye<34&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 34 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(de){return!!this.editor&&(de.id!==this.props.id||(this._shouldUpdateEditor(de)&&this.editor.setData(de.data),"disabled"in de&&(de.disabled?this.editor.enableReadOnlyMode(ur):this.editor.disableReadOnlyMode(ur)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return h().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.watchdog||(this.context instanceof Of?this.watchdog=new qn(this.context):this.watchdog=new kl._EditorWatchdog(this.props.editor,this.props.watchdogConfig),this.watchdog.setCreator((de,Le)=>this._createEditor(de,Le)),this.watchdog.on("error",(de,{error:Le,causesRestart:Ye})=>{this.props.onError(Le,{phase:"runtime",willEditorRestart:Ye})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch(de=>this.props.onError(de,{phase:"initialization",willEditorRestart:!1})))}_createEditor(de,Le){return this.props.editor.create(de,Le).then(Ye=>{"disabled"in this.props&&this.props.disabled&&Ye.enableReadOnlyMode(ur);const It=Ye.model.document,Qt=Ye.editing.view.document;return It.on("change:data",nn=>{this.props.onChange&&this.props.onChange(nn,Ye)}),Qt.on("focus",nn=>{this.props.onFocus&&this.props.onFocus(nn,Ye)}),Qt.on("blur",nn=>{this.props.onBlur&&this.props.onBlur(nn,Ye)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(Ye)}),Ye})}async _destroyEditor(){this.editorDestructionInProgress=new Promise(de=>{setTimeout(()=>{this.watchdog?this.watchdog.destroy().then(()=>{this.watchdog=null,de()}):de()})})}_shouldUpdateEditor(de){return this.props.data!==de.data&&this.editor.getData()!==de.data}_getConfig(){return this.props.data&&this.props.config.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` properties. The config property is over the data value and the first one will be used when specified both."),{...this.props.config,initialData:this.props.config.initialData||this.props.data||""}}}class qn{constructor(de){this._contextWatchdog=de,this._id=function(){const Le=4294967296*Math.random()>>>0,Ye=4294967296*Math.random()>>>0,It=4294967296*Math.random()>>>0,Qt=4294967296*Math.random()>>>0;return"e"+$n[Le>>0&255]+$n[Le>>8&255]+$n[Le>>16&255]+$n[Le>>24&255]+$n[Ye>>0&255]+$n[Ye>>8&255]+$n[Ye>>16&255]+$n[Ye>>24&255]+$n[It>>0&255]+$n[It>>8&255]+$n[It>>16&255]+$n[It>>24&255]+$n[Qt>>0&255]+$n[Qt>>8&255]+$n[Qt>>16&255]+$n[Qt>>24&255]}()}setCreator(de){this._creator=de}create(de,Le){return this._contextWatchdog.add({sourceElementOrData:de,config:Le,creator:this._creator,id:this._id,type:"editor"})}on(de,Le){this._contextWatchdog.on("itemError",(Ye,{itemId:It,causesRestart:Qt,error:nn})=>{It===this._id&&Le(null,{error:nn,causesRestart:Qt})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}kl.contextType=wa,kl.propTypes={editor:g().func.isRequired,data:g().string,config:g().object,watchdogConfig:g().object,onChange:g().func,onReady:g().func,onFocus:g().func,onBlur:g().func,onError:g().func,disabled:g().bool,onInit:(ye,de)=>{if(ye[de])return new Error('The "onInit" property is not supported anymore by the CKEditor component. Use the "onReady" property instead.')}},kl.defaultProps={config:{},onError:(ye,de)=>console.error(ye,de)},kl._EditorWatchdog=pu})(),c})())})(H5,H5.exports);var m1e=H5.exports,G5={exports:{}};G5.exports;(function(n,e){(function(i){const r=i.en=i.en||{};r.dictionary=Object.assign(r.dictionary||{},{"%0 of %1":"%0 of %1",Accept:"Accept",Aquamarine:"Aquamarine",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Break text":"Break text","Bulleted List":"Bulleted List",Cancel:"Cancel","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Clear:"Clear","Click to edit block":"Click to edit block",Code:"Code",Column:"Column","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Downloadable:"Downloadable","Drag to move":"Drag to move","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Full size image":"Full size image",Green:"Green",Grey:"Grey","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",HEX:"HEX","Image resize list":"Image resize list","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Insert code block":"Insert code block","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table",Italic:"Italic","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link URL":"Link URL","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next","No results found":"No results found","No searchable items":"No searchable items","Numbered List":"Numbered List","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab",Orange:"Orange",Original:"Original",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.","Plain text":"Plain text","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Resize image":"Resize image","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Rich Text Editor":"Rich Text Editor","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Show more items":"Show more items","Side image":"Side image","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically","Table toolbar":"Table toolbar","Text alternative":"Text alternative","The URL must not be empty.":"The URL must not be empty.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on",Turquoise:"Turquoise",Undo:"Undo",Unlink:"Unlink","Upload failed":"Upload failed","Upload in progress":"Upload in progress",White:"White","Widget toolbar":"Widget toolbar","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(i,r){n.exports=r()}(self,()=>(()=>{var i={1924:(c,u,h)=>{var m=h(210),g=h(5559),y=g(m("String.prototype.indexOf"));c.exports=function(v,_){var A=m(v,!!_);return typeof A=="function"&&y(v,".prototype.")>-1?g(A):A}},5559:(c,u,h)=>{var m=h(8612),g=h(210),y=g("%Function.prototype.apply%"),v=g("%Function.prototype.call%"),_=g("%Reflect.apply%",!0)||m.call(v,y),A=g("%Object.getOwnPropertyDescriptor%",!0),S=g("%Object.defineProperty%",!0),C=g("%Math.max%");if(S)try{S({},"a",{value:1})}catch{S=null}c.exports=function(N){var I=_(m,v,arguments);return A&&S&&A(I,"length").configurable&&S(I,"length",{value:1+C(0,N.length-(arguments.length-1))}),I};var T=function(){return _(m,y,arguments)};S?S(c.exports,"apply",{value:T}):c.exports.apply=T},8168:(c,u,h)=>{const m=h(8874),g={};for(const v of Object.keys(m))g[m[v]]=v;const y={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};c.exports=y;for(const v of Object.keys(y)){if(!("channels"in y[v]))throw new Error("missing channels property: "+v);if(!("labels"in y[v]))throw new Error("missing channel labels property: "+v);if(y[v].labels.length!==y[v].channels)throw new Error("channel and label counts mismatch: "+v);const{channels:_,labels:A}=y[v];delete y[v].channels,delete y[v].labels,Object.defineProperty(y[v],"channels",{value:_}),Object.defineProperty(y[v],"labels",{value:A})}y.rgb.hsl=function(v){const _=v[0]/255,A=v[1]/255,S=v[2]/255,C=Math.min(_,A,S),T=Math.max(_,A,S),N=T-C;let I,O;T===C?I=0:_===T?I=(A-S)/N:A===T?I=2+(S-_)/N:S===T&&(I=4+(_-A)/N),I=Math.min(60*I,360),I<0&&(I+=360);const F=(C+T)/2;return O=T===C?0:F<=.5?N/(T+C):N/(2-T-C),[I,100*O,100*F]},y.rgb.hsv=function(v){let _,A,S,C,T;const N=v[0]/255,I=v[1]/255,O=v[2]/255,F=Math.max(N,I,O),U=F-Math.min(N,I,O),V=function(B){return(F-B)/6/U+.5};return U===0?(C=0,T=0):(T=U/F,_=V(N),A=V(I),S=V(O),N===F?C=S-A:I===F?C=.3333333333333333+_-S:O===F&&(C=.6666666666666666+A-_),C<0?C+=1:C>1&&(C-=1)),[360*C,100*T,100*F]},y.rgb.hwb=function(v){const _=v[0],A=v[1];let S=v[2];const C=y.rgb.hsl(v)[0],T=1/255*Math.min(_,Math.min(A,S));return S=1-.00392156862745098*Math.max(_,Math.max(A,S)),[C,100*T,100*S]},y.rgb.cmyk=function(v){const _=v[0]/255,A=v[1]/255,S=v[2]/255,C=Math.min(1-_,1-A,1-S);return[100*((1-_-C)/(1-C)||0),100*((1-A-C)/(1-C)||0),100*((1-S-C)/(1-C)||0),100*C]},y.rgb.keyword=function(v){const _=g[v];if(_)return _;let A,S=1/0;for(const N of Object.keys(m)){const I=m[N],O=(T=I,((C=v)[0]-T[0])**2+(C[1]-T[1])**2+(C[2]-T[2])**2);O<S&&(S=O,A=N)}var C,T;return A},y.keyword.rgb=function(v){return m[v]},y.rgb.xyz=function(v){let _=v[0]/255,A=v[1]/255,S=v[2]/255;return _=_>.04045?((_+.055)/1.055)**2.4:_/12.92,A=A>.04045?((A+.055)/1.055)**2.4:A/12.92,S=S>.04045?((S+.055)/1.055)**2.4:S/12.92,[100*(.4124*_+.3576*A+.1805*S),100*(.2126*_+.7152*A+.0722*S),100*(.0193*_+.1192*A+.9505*S)]},y.rgb.lab=function(v){const _=y.rgb.xyz(v);let A=_[0],S=_[1],C=_[2];return A/=95.047,S/=100,C/=108.883,A=A>.008856?A**.3333333333333333:7.787*A+.13793103448275862,S=S>.008856?S**.3333333333333333:7.787*S+.13793103448275862,C=C>.008856?C**.3333333333333333:7.787*C+.13793103448275862,[116*S-16,500*(A-S),200*(S-C)]},y.hsl.rgb=function(v){const _=v[0]/360,A=v[1]/100,S=v[2]/100;let C,T,N;if(A===0)return N=255*S,[N,N,N];C=S<.5?S*(1+A):S+A-S*A;const I=2*S-C,O=[0,0,0];for(let F=0;F<3;F++)T=_+.3333333333333333*-(F-1),T<0&&T++,T>1&&T--,N=6*T<1?I+6*(C-I)*T:2*T<1?C:3*T<2?I+(C-I)*(.6666666666666666-T)*6:I,O[F]=255*N;return O},y.hsl.hsv=function(v){const _=v[0];let A=v[1]/100,S=v[2]/100,C=A;const T=Math.max(S,.01);return S*=2,A*=S<=1?S:2-S,C*=T<=1?T:2-T,[_,100*(S===0?2*C/(T+C):2*A/(S+A)),100*((S+A)/2)]},y.hsv.rgb=function(v){const _=v[0]/60,A=v[1]/100;let S=v[2]/100;const C=Math.floor(_)%6,T=_-Math.floor(_),N=255*S*(1-A),I=255*S*(1-A*T),O=255*S*(1-A*(1-T));switch(S*=255,C){case 0:return[S,O,N];case 1:return[I,S,N];case 2:return[N,S,O];case 3:return[N,I,S];case 4:return[O,N,S];case 5:return[S,N,I]}},y.hsv.hsl=function(v){const _=v[0],A=v[1]/100,S=v[2]/100,C=Math.max(S,.01);let T,N;N=(2-A)*S;const I=(2-A)*C;return T=A*C,T/=I<=1?I:2-I,T=T||0,N/=2,[_,100*T,100*N]},y.hwb.rgb=function(v){const _=v[0]/360;let A=v[1]/100,S=v[2]/100;const C=A+S;let T;C>1&&(A/=C,S/=C);const N=Math.floor(6*_),I=1-S;T=6*_-N,1&N&&(T=1-T);const O=A+T*(I-A);let F,U,V;switch(N){default:case 6:case 0:F=I,U=O,V=A;break;case 1:F=O,U=I,V=A;break;case 2:F=A,U=I,V=O;break;case 3:F=A,U=O,V=I;break;case 4:F=O,U=A,V=I;break;case 5:F=I,U=A,V=O}return[255*F,255*U,255*V]},y.cmyk.rgb=function(v){const _=v[0]/100,A=v[1]/100,S=v[2]/100,C=v[3]/100;return[255*(1-Math.min(1,_*(1-C)+C)),255*(1-Math.min(1,A*(1-C)+C)),255*(1-Math.min(1,S*(1-C)+C))]},y.xyz.rgb=function(v){const _=v[0]/100,A=v[1]/100,S=v[2]/100;let C,T,N;return C=3.2406*_+-1.5372*A+-.4986*S,T=-.9689*_+1.8758*A+.0415*S,N=.0557*_+-.204*A+1.057*S,C=C>.0031308?1.055*C**.4166666666666667-.055:12.92*C,T=T>.0031308?1.055*T**.4166666666666667-.055:12.92*T,N=N>.0031308?1.055*N**.4166666666666667-.055:12.92*N,C=Math.min(Math.max(0,C),1),T=Math.min(Math.max(0,T),1),N=Math.min(Math.max(0,N),1),[255*C,255*T,255*N]},y.xyz.lab=function(v){let _=v[0],A=v[1],S=v[2];return _/=95.047,A/=100,S/=108.883,_=_>.008856?_**.3333333333333333:7.787*_+.13793103448275862,A=A>.008856?A**.3333333333333333:7.787*A+.13793103448275862,S=S>.008856?S**.3333333333333333:7.787*S+.13793103448275862,[116*A-16,500*(_-A),200*(A-S)]},y.lab.xyz=function(v){let _,A,S;A=(v[0]+16)/116,_=v[1]/500+A,S=A-v[2]/200;const C=A**3,T=_**3,N=S**3;return A=C>.008856?C:(A-.13793103448275862)/7.787,_=T>.008856?T:(_-.13793103448275862)/7.787,S=N>.008856?N:(S-.13793103448275862)/7.787,_*=95.047,A*=100,S*=108.883,[_,A,S]},y.lab.lch=function(v){const _=v[0],A=v[1],S=v[2];let C;return C=360*Math.atan2(S,A)/2/Math.PI,C<0&&(C+=360),[_,Math.sqrt(A*A+S*S),C]},y.lch.lab=function(v){const _=v[0],A=v[1],S=v[2]/360*2*Math.PI;return[_,A*Math.cos(S),A*Math.sin(S)]},y.rgb.ansi16=function(v,_=null){const[A,S,C]=v;let T=_===null?y.rgb.hsv(v)[2]:_;if(T=Math.round(T/50),T===0)return 30;let N=30+(Math.round(C/255)<<2|Math.round(S/255)<<1|Math.round(A/255));return T===2&&(N+=60),N},y.hsv.ansi16=function(v){return y.rgb.ansi16(y.hsv.rgb(v),v[2])},y.rgb.ansi256=function(v){const _=v[0],A=v[1],S=v[2];return _===A&&A===S?_<8?16:_>248?231:Math.round((_-8)/247*24)+232:16+36*Math.round(_/255*5)+6*Math.round(A/255*5)+Math.round(S/255*5)},y.ansi16.rgb=function(v){let _=v%10;if(_===0||_===7)return v>50&&(_+=3.5),_=_/10.5*255,[_,_,_];const A=.5*(1+~~(v>50));return[(1&_)*A*255,(_>>1&1)*A*255,(_>>2&1)*A*255]},y.ansi256.rgb=function(v){if(v>=232){const A=10*(v-232)+8;return[A,A,A]}let _;return v-=16,[Math.floor(v/36)/5*255,Math.floor((_=v%36)/6)/5*255,_%6/5*255]},y.rgb.hex=function(v){const _=(((255&Math.round(v[0]))<<16)+((255&Math.round(v[1]))<<8)+(255&Math.round(v[2]))).toString(16).toUpperCase();return"000000".substring(_.length)+_},y.hex.rgb=function(v){const _=v.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!_)return[0,0,0];let A=_[0];_[0].length===3&&(A=A.split("").map(C=>C+C).join(""));const S=parseInt(A,16);return[S>>16&255,S>>8&255,255&S]},y.rgb.hcg=function(v){const _=v[0]/255,A=v[1]/255,S=v[2]/255,C=Math.max(Math.max(_,A),S),T=Math.min(Math.min(_,A),S),N=C-T;let I,O;return I=N<1?T/(1-N):0,O=N<=0?0:C===_?(A-S)/N%6:C===A?2+(S-_)/N:4+(_-A)/N,O/=6,O%=1,[360*O,100*N,100*I]},y.hsl.hcg=function(v){const _=v[1]/100,A=v[2]/100,S=A<.5?2*_*A:2*_*(1-A);let C=0;return S<1&&(C=(A-.5*S)/(1-S)),[v[0],100*S,100*C]},y.hsv.hcg=function(v){const _=v[1]/100,A=v[2]/100,S=_*A;let C=0;return S<1&&(C=(A-S)/(1-S)),[v[0],100*S,100*C]},y.hcg.rgb=function(v){const _=v[0]/360,A=v[1]/100,S=v[2]/100;if(A===0)return[255*S,255*S,255*S];const C=[0,0,0],T=_%1*6,N=T%1,I=1-N;let O=0;switch(Math.floor(T)){case 0:C[0]=1,C[1]=N,C[2]=0;break;case 1:C[0]=I,C[1]=1,C[2]=0;break;case 2:C[0]=0,C[1]=1,C[2]=N;break;case 3:C[0]=0,C[1]=I,C[2]=1;break;case 4:C[0]=N,C[1]=0,C[2]=1;break;default:C[0]=1,C[1]=0,C[2]=I}return O=(1-A)*S,[255*(A*C[0]+O),255*(A*C[1]+O),255*(A*C[2]+O)]},y.hcg.hsv=function(v){const _=v[1]/100,A=_+v[2]/100*(1-_);let S=0;return A>0&&(S=_/A),[v[0],100*S,100*A]},y.hcg.hsl=function(v){const _=v[1]/100,A=v[2]/100*(1-_)+.5*_;let S=0;return A>0&&A<.5?S=_/(2*A):A>=.5&&A<1&&(S=_/(2*(1-A))),[v[0],100*S,100*A]},y.hcg.hwb=function(v){const _=v[1]/100,A=_+v[2]/100*(1-_);return[v[0],100*(A-_),100*(1-A)]},y.hwb.hcg=function(v){const _=v[1]/100,A=1-v[2]/100,S=A-_;let C=0;return S<1&&(C=(A-S)/(1-S)),[v[0],100*S,100*C]},y.apple.rgb=function(v){return[v[0]/65535*255,v[1]/65535*255,v[2]/65535*255]},y.rgb.apple=function(v){return[v[0]/255*65535,v[1]/255*65535,v[2]/255*65535]},y.gray.rgb=function(v){return[v[0]/100*255,v[0]/100*255,v[0]/100*255]},y.gray.hsl=function(v){return[0,0,v[0]]},y.gray.hsv=y.gray.hsl,y.gray.hwb=function(v){return[0,100,v[0]]},y.gray.cmyk=function(v){return[0,0,0,v[0]]},y.gray.lab=function(v){return[v[0],0,0]},y.gray.hex=function(v){const _=255&Math.round(v[0]/100*255),A=((_<<16)+(_<<8)+_).toString(16).toUpperCase();return"000000".substring(A.length)+A},y.rgb.gray=function(v){return[(v[0]+v[1]+v[2])/3/255*100]}},2085:(c,u,h)=>{const m=h(8168),g=h(4111),y={};Object.keys(m).forEach(v=>{y[v]={},Object.defineProperty(y[v],"channels",{value:m[v].channels}),Object.defineProperty(y[v],"labels",{value:m[v].labels});const _=g(v);Object.keys(_).forEach(A=>{const S=_[A];y[v][A]=function(C){const T=function(...N){const I=N[0];if(I==null)return I;I.length>1&&(N=I);const O=C(N);if(typeof O=="object")for(let F=O.length,U=0;U<F;U++)O[U]=Math.round(O[U]);return O};return"conversion"in C&&(T.conversion=C.conversion),T}(S),y[v][A].raw=function(C){const T=function(...N){const I=N[0];return I==null?I:(I.length>1&&(N=I),C(N))};return"conversion"in C&&(T.conversion=C.conversion),T}(S)})}),c.exports=y},4111:(c,u,h)=>{const m=h(8168);function g(_){const A=function(){const C={},T=Object.keys(m);for(let N=T.length,I=0;I<N;I++)C[T[I]]={distance:-1,parent:null};return C}(),S=[_];for(A[_].distance=0;S.length;){const C=S.pop(),T=Object.keys(m[C]);for(let N=T.length,I=0;I<N;I++){const O=T[I],F=A[O];F.distance===-1&&(F.distance=A[C].distance+1,F.parent=C,S.unshift(O))}}return A}function y(_,A){return function(S){return A(_(S))}}function v(_,A){const S=[A[_].parent,_];let C=m[A[_].parent][_],T=A[_].parent;for(;A[T].parent;)S.unshift(A[T].parent),C=y(m[A[T].parent][T],C),T=A[T].parent;return C.conversion=S,C}c.exports=function(_){const A=g(_),S={},C=Object.keys(A);for(let T=C.length,N=0;N<T;N++){const I=C[N];A[I].parent!==null&&(S[I]=v(I,A))}return S}},8874:c=>{c.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},8767:c=>{function u(h){if(h)return function(m){for(var g in u.prototype)m[g]=u.prototype[g];return m}(h)}c.exports=u,u.prototype.on=u.prototype.addEventListener=function(h,m){return this._callbacks=this._callbacks||{},(this._callbacks["$"+h]=this._callbacks["$"+h]||[]).push(m),this},u.prototype.once=function(h,m){function g(){this.off(h,g),m.apply(this,arguments)}return g.fn=m,this.on(h,g),this},u.prototype.off=u.prototype.removeListener=u.prototype.removeAllListeners=u.prototype.removeEventListener=function(h,m){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var g,y=this._callbacks["$"+h];if(!y)return this;if(arguments.length==1)return delete this._callbacks["$"+h],this;for(var v=0;v<y.length;v++)if((g=y[v])===m||g.fn===m){y.splice(v,1);break}return y.length===0&&delete this._callbacks["$"+h],this},u.prototype.emit=function(h){this._callbacks=this._callbacks||{};for(var m=new Array(arguments.length-1),g=this._callbacks["$"+h],y=1;y<arguments.length;y++)m[y-1]=arguments[y];if(g){y=0;for(var v=(g=g.slice(0)).length;y<v;++y)g[y].apply(this,m)}return this},u.prototype.listeners=function(h){return this._callbacks=this._callbacks||{},this._callbacks["$"+h]||[]},u.prototype.hasListeners=function(h){return!!this.listeners(h).length}},5363:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}",""]);const _=v},3789:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}",""]);const _=v},799:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',""]);const _=v},3624:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}",""]);const _=v},7372:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}",""]);const _=v},5037:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}",""]);const _=v},4249:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}",""]);const _=v},2430:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}",""]);const _=v},2423:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}",""]);const _=v},2400:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}",""]);const _=v},3534:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}",""]);const _=v},1547:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',""]);const _=v},6618:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',""]);const _=v},2926:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}",""]);const _=v},5269:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}",""]);const _=v},3925:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}",""]);const _=v},7536:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}",""]);const _=v},4874:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}",""]);const _=v},4784:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}",""]);const _=v},8705:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}",""]);const _=v},1922:(c,u,h)=>{h.d(u,{Z:()=>B});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y),_=h(1667),A=h.n(_),S=new URL(h(4493),h.b),C=new URL(h(2739),h.b),T=new URL(h(6631),h.b),N=new URL(h(7511),h.b),I=v()(g()),O=A()(S),F=A()(C),U=A()(T),V=A()(N);I.push([c.id,`.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(${O})}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(${F})}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(${U})}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(${V})}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}`,""]);const B=I},7138:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}",""]);const _=v},468:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}",""]);const _=v},2510:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}",""]);const _=v},8361:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}",""]);const _=v},1546:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',""]);const _=v},4029:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-modal)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}",""]);const _=v},4971:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}",""]);const _=v},7258:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}",""]);const _=v},4923:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}",""]);const _=v},4257:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}",""]);const _=v},6306:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}",""]);const _=v},5062:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}",""]);const _=v},1883:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}",""]);const _=v},4791:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',""]);const _=v},2704:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}",""]);const _=v},9847:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}",""]);const _=v},1874:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header .ck-icon{margin-right:var(--ck-spacing-medium)}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}",""]);const _=v},4746:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}",""]);const _=v},1977:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}",""]);const _=v},2470:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}",""]);const _=v},3525:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}",""]);const _=v},2933:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}",""]);const _=v},179:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>span{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}",""]);const _=v},4460:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',""]);const _=v},7592:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}",""]);const _=v},6356:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}",""]);const _=v},3707:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}",""]);const _=v},6603:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',""]);const _=v},9332:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}",""]);const _=v},6446:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:rotate 1.5s linear infinite}.ck.ck-spinner,.ck.ck-spinner-container{height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent}@keyframes rotate{to{transform:rotate(1turn)}}",""]);const _=v},5224:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck-textarea{overflow-x:hidden}",""]);const _=v},4176:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}",""]);const _=v},4768:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}",""]);const _=v},3888:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}",""]);const _=v},5167:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-modal) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}",""]);const _=v},7153:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}",""]);const _=v},4875:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}",""]);const _=v},2347:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',""]);const _=v},6059:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck-content pre{background:hsla(0,0%,78%,.3);border:1px solid #c4c4c4;border-radius:2px;color:#353535;direction:ltr;font-style:normal;min-width:200px;padding:1em;tab-size:4;text-align:left;white-space:pre-wrap}.ck-content pre code{background:unset;border-radius:0;padding:0}.ck.ck-editor__editable pre{position:relative}.ck.ck-editor__editable pre[data-language]:after{content:attr(data-language);position:absolute}:root{--ck-color-code-block-label-background:#757575}.ck.ck-editor__editable pre[data-language]:after{background:var(--ck-color-code-block-label-background);color:#fff;font-family:var(--ck-font-face);font-size:10px;line-height:16px;padding:var(--ck-spacing-tiny) var(--ck-spacing-medium);right:10px;top:-1px;white-space:nowrap}.ck.ck-code-block-dropdown .ck-dropdown__panel{max-height:250px;overflow-x:hidden;overflow-y:auto}",""]);const _=v},9330:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,'.dnx-box{background-color:#fff;color:#4a4a4a;display:block;padding:3.25rem}.dnx-modal lable{display:inline-block;font-weight:700;margin-bottom:5px}.dnx-modal input{-webkit-tap-highlight-color:rgba(255,255,255,0);background:#fff;border:1px solid rgba(34,36,38,.15);border-radius:.28571429rem;box-shadow:none;color:rgba(0,0,0,.87);flex:1 0 auto;line-height:1.21428571em;margin:0;outline:0;padding:.67857143em 1em;text-align:left;transition:box-shadow .1s ease,border-color .1s ease;width:100%}.dnx-modal input:focus{background:#fff;border-color:#85b7d9;-webkit-box-shadow:none;box-shadow:none;color:rgba(0,0,0,.8)}.dnx-modal{background:#fff;box-shadow:0 0 30px 5px rgba(0,0,0,.5);display:block;height:80%;left:50%;position:fixed;top:50%;transform:translate(-50%,-50%);width:70%;z-index:501}.dnx-modal-overlay.closed,.dnx-modal.closed{display:none}.dnx-modal-overlay{background:rgba(0,0,0,.2);height:100%;left:0;position:fixed;top:0;width:100%;z-index:500}.dnx-modal .modal-guts{left:0;overflow:hidden;position:absolute;top:0;width:100%}.dnx-close-button{height:28px;opacity:.3;position:absolute;right:15px;top:15px;width:28px;z-index:600}.dnx-close-button:hover{opacity:1}.dnx-close-button:after,.dnx-close-button:before{background-color:#333;content:" ";height:20px;left:15px;position:absolute;width:2px}.dnx-close-button:before{transform:rotate(45deg)}.dnx-close-button:after{transform:rotate(-45deg)}.dnx-unsplash-box{background-color:#fff;border-radius:6px;box-shadow:0 2px 3px hsla(0,0%,4%,.1),0 0 0 1px hsla(0,0%,4%,.1);color:#4a4a4a;display:block;padding:1.5rem}.dnx-photo-grid{display:flex;flex-wrap:wrap;height:70vh;list-style:none;margin:0 -8px -8px 0;overflow:auto;padding:0}.dnx-modal .dnx-photo-grid::-webkit-scrollbar{display:none}.dnx-photo-grid li{-webkit-box-flex:1;flex-grow:1;height:20vh;margin:0 8px 8px 0}.dnx-photo-grid li:last-child{-webkit-box-flex:10;flex-grow:10}.dnx-photo-grid img{border-radius:4px;cursor:pointer;max-height:100%;min-width:100%;-o-object-fit:cover;object-fit:cover;vertical-align:bottom}@media only screen and (max-width:768px){.dnx-box{padding:3.25rem 1.5rem}.dnx-modal{width:95%}}',""]);const _=v},3645:c=>{c.exports=function(u){var h=[];return h.toString=function(){return this.map(function(m){var g="",y=m[5]!==void 0;return m[4]&&(g+="@supports (".concat(m[4],") {")),m[2]&&(g+="@media ".concat(m[2]," {")),y&&(g+="@layer".concat(m[5].length>0?" ".concat(m[5]):""," {")),g+=u(m),y&&(g+="}"),m[2]&&(g+="}"),m[4]&&(g+="}"),g}).join("")},h.i=function(m,g,y,v,_){typeof m=="string"&&(m=[[null,m,void 0]]);var A={};if(y)for(var S=0;S<this.length;S++){var C=this[S][0];C!=null&&(A[C]=!0)}for(var T=0;T<m.length;T++){var N=[].concat(m[T]);y&&A[N[0]]||(_!==void 0&&(N[5]===void 0||(N[1]="@layer".concat(N[5].length>0?" ".concat(N[5]):""," {").concat(N[1],"}")),N[5]=_),g&&(N[2]&&(N[1]="@media ".concat(N[2]," {").concat(N[1],"}")),N[2]=g),v&&(N[4]?(N[1]="@supports (".concat(N[4],") {").concat(N[1],"}"),N[4]=v):N[4]="".concat(v)),h.push(N))}},h}},1667:c=>{c.exports=function(u,h){return h||(h={}),u&&(u=String(u.__esModule?u.default:u),/^['"].*['"]$/.test(u)&&(u=u.slice(1,-1)),h.hash&&(u+=h.hash),/["'() \t\n]|(%20)/.test(u)||h.needQuotes?'"'.concat(u.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):u)}},8081:c=>{c.exports=function(u){return u[1]}},4445:c=>{c.exports=v,v.default=v,v.stable=C,v.stableStringify=C;var u="[...]",h="[Circular]",m=[],g=[];function y(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function v(I,O,F,U){var V;U===void 0&&(U=y()),A(I,"",0,[],void 0,0,U);try{V=g.length===0?JSON.stringify(I,O,F):JSON.stringify(I,N(O),F)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;m.length!==0;){var B=m.pop();B.length===4?Object.defineProperty(B[0],B[1],B[3]):B[0][B[1]]=B[2]}}return V}function _(I,O,F,U){var V=Object.getOwnPropertyDescriptor(U,F);V.get!==void 0?V.configurable?(Object.defineProperty(U,F,{value:I}),m.push([U,F,O,V])):g.push([O,F,I]):(U[F]=I,m.push([U,F,O]))}function A(I,O,F,U,V,B,Z){var ae;if(B+=1,typeof I=="object"&&I!==null){for(ae=0;ae<U.length;ae++)if(U[ae]===I)return void _(h,I,O,V);if(Z.depthLimit!==void 0&&B>Z.depthLimit||Z.edgesLimit!==void 0&&F+1>Z.edgesLimit)return void _(u,I,O,V);if(U.push(I),Array.isArray(I))for(ae=0;ae<I.length;ae++)A(I[ae],ae,ae,U,I,B,Z);else{var me=Object.keys(I);for(ae=0;ae<me.length;ae++){var Q=me[ae];A(I[Q],Q,ae,U,I,B,Z)}}U.pop()}}function S(I,O){return I<O?-1:I>O?1:0}function C(I,O,F,U){U===void 0&&(U=y());var V,B=T(I,"",0,[],void 0,0,U)||I;try{V=g.length===0?JSON.stringify(B,O,F):JSON.stringify(B,N(O),F)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;m.length!==0;){var Z=m.pop();Z.length===4?Object.defineProperty(Z[0],Z[1],Z[3]):Z[0][Z[1]]=Z[2]}}return V}function T(I,O,F,U,V,B,Z){var ae;if(B+=1,typeof I=="object"&&I!==null){for(ae=0;ae<U.length;ae++)if(U[ae]===I)return void _(h,I,O,V);try{if(typeof I.toJSON=="function")return}catch{return}if(Z.depthLimit!==void 0&&B>Z.depthLimit||Z.edgesLimit!==void 0&&F+1>Z.edgesLimit)return void _(u,I,O,V);if(U.push(I),Array.isArray(I))for(ae=0;ae<I.length;ae++)T(I[ae],ae,ae,U,I,B,Z);else{var me={},Q=Object.keys(I).sort(S);for(ae=0;ae<Q.length;ae++){var ge=Q[ae];T(I[ge],ge,ae,U,I,B,Z),me[ge]=I[ge]}if(V===void 0)return me;m.push([V,O,I]),V[O]=me}U.pop()}}function N(I){return I=I!==void 0?I:function(O,F){return F},function(O,F){if(g.length>0)for(var U=0;U<g.length;U++){var V=g[U];if(V[1]===O&&V[0]===F){F=V[2],g.splice(U,1);break}}return I.call(this,O,F)}}},7648:c=>{var u=Array.prototype.slice,h=Object.prototype.toString;c.exports=function(m){var g=this;if(typeof g!="function"||h.call(g)!=="[object Function]")throw new TypeError("Function.prototype.bind called on incompatible "+g);for(var y,v=u.call(arguments,1),_=Math.max(0,g.length-v.length),A=[],S=0;S<_;S++)A.push("$"+S);if(y=Function("binder","return function ("+A.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof y){var T=g.apply(this,v.concat(u.call(arguments)));return Object(T)===T?T:this}return g.apply(m,v.concat(u.call(arguments)))}),g.prototype){var C=function(){};C.prototype=g.prototype,y.prototype=new C,C.prototype=null}return y}},8612:(c,u,h)=>{var m=h(7648);c.exports=Function.prototype.bind||m},210:(c,u,h)=>{var m,g=SyntaxError,y=Function,v=TypeError,_=function(G){try{return y('"use strict"; return ('+G+").constructor;")()}catch{}},A=Object.getOwnPropertyDescriptor;if(A)try{A({},"")}catch{A=null}var S=function(){throw new v},C=A?function(){try{return S}catch{try{return A(arguments,"callee").get}catch{return S}}}():S,T=h(1405)(),N=Object.getPrototypeOf||function(G){return G.__proto__},I={},O=typeof Uint8Array>"u"?m:N(Uint8Array),F={"%AggregateError%":typeof AggregateError>"u"?m:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?m:ArrayBuffer,"%ArrayIteratorPrototype%":T?N([][Symbol.iterator]()):m,"%AsyncFromSyncIteratorPrototype%":m,"%AsyncFunction%":I,"%AsyncGenerator%":I,"%AsyncGeneratorFunction%":I,"%AsyncIteratorPrototype%":I,"%Atomics%":typeof Atomics>"u"?m:Atomics,"%BigInt%":typeof BigInt>"u"?m:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?m:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?m:Float32Array,"%Float64Array%":typeof Float64Array>"u"?m:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?m:FinalizationRegistry,"%Function%":y,"%GeneratorFunction%":I,"%Int8Array%":typeof Int8Array>"u"?m:Int8Array,"%Int16Array%":typeof Int16Array>"u"?m:Int16Array,"%Int32Array%":typeof Int32Array>"u"?m:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":T?N(N([][Symbol.iterator]())):m,"%JSON%":typeof JSON=="object"?JSON:m,"%Map%":typeof Map>"u"?m:Map,"%MapIteratorPrototype%":typeof Map<"u"&&T?N(new Map()[Symbol.iterator]()):m,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?m:Promise,"%Proxy%":typeof Proxy>"u"?m:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?m:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?m:Set,"%SetIteratorPrototype%":typeof Set<"u"&&T?N(new Set()[Symbol.iterator]()):m,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?m:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":T?N(""[Symbol.iterator]()):m,"%Symbol%":T?Symbol:m,"%SyntaxError%":g,"%ThrowTypeError%":C,"%TypedArray%":O,"%TypeError%":v,"%Uint8Array%":typeof Uint8Array>"u"?m:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?m:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?m:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?m:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?m:WeakMap,"%WeakRef%":typeof WeakRef>"u"?m:WeakRef,"%WeakSet%":typeof WeakSet>"u"?m:WeakSet},U=function G(K){var ne;if(K==="%AsyncFunction%")ne=_("async function () {}");else if(K==="%GeneratorFunction%")ne=_("function* () {}");else if(K==="%AsyncGeneratorFunction%")ne=_("async function* () {}");else if(K==="%AsyncGenerator%"){var J=G("%AsyncGeneratorFunction%");J&&(ne=J.prototype)}else if(K==="%AsyncIteratorPrototype%"){var ue=G("%AsyncGenerator%");ue&&(ne=N(ue.prototype))}return F[K]=ne,ne},V={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},B=h(8612),Z=h(7642),ae=B.call(Function.call,Array.prototype.concat),me=B.call(Function.apply,Array.prototype.splice),Q=B.call(Function.call,String.prototype.replace),ge=B.call(Function.call,String.prototype.slice),$=B.call(Function.call,RegExp.prototype.exec),Te=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,re=/\\(\\)?/g,ie=function(G,K){var ne,J=G;if(Z(V,J)&&(J="%"+(ne=V[J])[0]+"%"),Z(F,J)){var ue=F[J];if(ue===I&&(ue=U(J)),ue===void 0&&!K)throw new v("intrinsic "+G+" exists, but is not available. Please file an issue!");return{alias:ne,name:J,value:ue}}throw new g("intrinsic "+G+" does not exist!")};c.exports=function(G,K){if(typeof G!="string"||G.length===0)throw new v("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof K!="boolean")throw new v('"allowMissing" argument must be a boolean');if($(/^%?[^%]*%?$/,G)===null)throw new g("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ne=function(Be){var X=ge(Be,0,1),Ae=ge(Be,-1);if(X==="%"&&Ae!=="%")throw new g("invalid intrinsic syntax, expected closing `%`");if(Ae==="%"&&X!=="%")throw new g("invalid intrinsic syntax, expected opening `%`");var Ie=[];return Q(Be,Te,function(be,we,Ee,He){Ie[Ie.length]=Ee?Q(He,re,"$1"):we||be}),Ie}(G),J=ne.length>0?ne[0]:"",ue=ie("%"+J+"%",K),ee=ue.name,xe=ue.value,Se=!1,Me=ue.alias;Me&&(J=Me[0],me(ne,ae([0,1],Me)));for(var Re=1,Fe=!0;Re<ne.length;Re+=1){var We=ne[Re],ze=ge(We,0,1),Ne=ge(We,-1);if((ze==='"'||ze==="'"||ze==="`"||Ne==='"'||Ne==="'"||Ne==="`")&&ze!==Ne)throw new g("property names with quotes must have matching quotes");if(We!=="constructor"&&Fe||(Se=!0),Z(F,ee="%"+(J+="."+We)+"%"))xe=F[ee];else if(xe!=null){if(!(We in xe)){if(!K)throw new v("base intrinsic for "+G+" exists, but the property is not available.");return}if(A&&Re+1>=ne.length){var ke=A(xe,We);xe=(Fe=!!ke)&&"get"in ke&&!("originalValue"in ke.get)?ke.get:xe[We]}else Fe=Z(xe,We),xe=xe[We];Fe&&!Se&&(F[ee]=xe)}}return xe}},1405:(c,u,h)=>{var m=typeof Symbol<"u"&&Symbol,g=h(5419);c.exports=function(){return typeof m=="function"&&typeof Symbol=="function"&&typeof m("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&g()}},5419:c=>{c.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var u={},h=Symbol("test"),m=Object(h);if(typeof h=="string"||Object.prototype.toString.call(h)!=="[object Symbol]"||Object.prototype.toString.call(m)!=="[object Symbol]")return!1;for(h in u[h]=42,u)return!1;if(typeof Object.keys=="function"&&Object.keys(u).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(u).length!==0)return!1;var g=Object.getOwnPropertySymbols(u);if(g.length!==1||g[0]!==h||!Object.prototype.propertyIsEnumerable.call(u,h))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var y=Object.getOwnPropertyDescriptor(u,h);if(y.value!==42||y.enumerable!==!0)return!1}return!0}},7642:(c,u,h)=>{var m=h(8612);c.exports=m.call(Function.call,Object.prototype.hasOwnProperty)},7418:c=>{var u=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable;c.exports=function(){try{if(!Object.assign)return!1;var g=new String("abc");if(g[5]="de",Object.getOwnPropertyNames(g)[0]==="5")return!1;for(var y={},v=0;v<10;v++)y["_"+String.fromCharCode(v)]=v;if(Object.getOwnPropertyNames(y).map(function(A){return y[A]}).join("")!=="0123456789")return!1;var _={};return"abcdefghijklmnopqrst".split("").forEach(function(A){_[A]=A}),Object.keys(Object.assign({},_)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(g,y){for(var v,_,A=function(N){if(N==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(N)}(g),S=1;S<arguments.length;S++){for(var C in v=Object(arguments[S]))h.call(v,C)&&(A[C]=v[C]);if(u){_=u(v);for(var T=0;T<_.length;T++)m.call(v,_[T])&&(A[_[T]]=v[_[T]])}}return A}},631:(c,u,h)=>{var m=typeof Map=="function"&&Map.prototype,g=Object.getOwnPropertyDescriptor&&m?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,y=m&&g&&typeof g.get=="function"?g.get:null,v=m&&Map.prototype.forEach,_=typeof Set=="function"&&Set.prototype,A=Object.getOwnPropertyDescriptor&&_?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,S=_&&A&&typeof A.get=="function"?A.get:null,C=_&&Set.prototype.forEach,T=typeof WeakMap=="function"&&WeakMap.prototype?WeakMap.prototype.has:null,N=typeof WeakSet=="function"&&WeakSet.prototype?WeakSet.prototype.has:null,I=typeof WeakRef=="function"&&WeakRef.prototype?WeakRef.prototype.deref:null,O=Boolean.prototype.valueOf,F=Object.prototype.toString,U=Function.prototype.toString,V=String.prototype.match,B=String.prototype.slice,Z=String.prototype.replace,ae=String.prototype.toUpperCase,me=String.prototype.toLowerCase,Q=RegExp.prototype.test,ge=Array.prototype.concat,$=Array.prototype.join,Te=Array.prototype.slice,re=Math.floor,ie=typeof BigInt=="function"?BigInt.prototype.valueOf:null,G=Object.getOwnPropertySymbols,K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ne=typeof Symbol=="function"&&typeof Symbol.iterator=="object",J=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ne||!0)?Symbol.toStringTag:null,ue=Object.prototype.propertyIsEnumerable,ee=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(_e){return _e.__proto__}:null);function xe(_e,ce){if(_e===1/0||_e===-1/0||_e!=_e||_e&&_e>-1e3&&_e<1e3||Q.call(/e/,ce))return ce;var Ue=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof _e=="number"){var et=_e<0?-re(-_e):re(_e);if(et!==_e){var nt=String(et),ct=B.call(ce,nt.length+1);return Z.call(nt,Ue,"$&_")+"."+Z.call(Z.call(ct,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Z.call(ce,Ue,"$&_")}var Se=h(4654),Me=Se.custom,Re=ke(Me)?Me:null;function Fe(_e,ce,Ue){var et=(Ue.quoteStyle||ce)==="double"?'"':"'";return et+_e+et}function We(_e){return Z.call(String(_e),/"/g,"&quot;")}function ze(_e){return!(Ae(_e)!=="[object Array]"||J&&typeof _e=="object"&&J in _e)}function Ne(_e){return!(Ae(_e)!=="[object RegExp]"||J&&typeof _e=="object"&&J in _e)}function ke(_e){if(ne)return _e&&typeof _e=="object"&&_e instanceof Symbol;if(typeof _e=="symbol")return!0;if(!_e||typeof _e!="object"||!K)return!1;try{return K.call(_e),!0}catch{}return!1}c.exports=function _e(ce,Ue,et,nt){var ct=Ue||{};if(X(ct,"quoteStyle")&&ct.quoteStyle!=="single"&&ct.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(X(ct,"maxStringLength")&&(typeof ct.maxStringLength=="number"?ct.maxStringLength<0&&ct.maxStringLength!==1/0:ct.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var ht=!X(ct,"customInspect")||ct.customInspect;if(typeof ht!="boolean"&&ht!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(X(ct,"indent")&&ct.indent!==null&&ct.indent!=="	"&&!(parseInt(ct.indent,10)===ct.indent&&ct.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(X(ct,"numericSeparator")&&typeof ct.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Pt=ct.numericSeparator;if(ce===void 0)return"undefined";if(ce===null)return"null";if(typeof ce=="boolean")return ce?"true":"false";if(typeof ce=="string")return be(ce,ct);if(typeof ce=="number"){if(ce===0)return 1/0/ce>0?"0":"-0";var Bt=String(ce);return Pt?xe(ce,Bt):Bt}if(typeof ce=="bigint"){var bt=String(ce)+"n";return Pt?xe(ce,bt):bt}var Zt=ct.depth===void 0?5:ct.depth;if(et===void 0&&(et=0),et>=Zt&&Zt>0&&typeof ce=="object")return ze(ce)?"[Array]":"[Object]";var mn=function(ft,An){var Ps;if(ft.indent==="	")Ps="	";else{if(!(typeof ft.indent=="number"&&ft.indent>0))return null;Ps=$.call(Array(ft.indent+1)," ")}return{base:Ps,prev:$.call(Array(An+1),Ps)}}(ct,et);if(nt===void 0)nt=[];else if(Ie(nt,ce)>=0)return"[Circular]";function qt(ft,An,Ps){if(An&&(nt=Te.call(nt)).push(An),Ps){var ss={depth:ct.depth};return X(ct,"quoteStyle")&&(ss.quoteStyle=ct.quoteStyle),_e(ft,ss,et+1,nt)}return _e(ft,ct,et+1,nt)}if(typeof ce=="function"&&!Ne(ce)){var Vn=function(ft){if(ft.name)return ft.name;var An=V.call(U.call(ft),/^function\s*([\w$]+)/);return An?An[1]:null}(ce),rs=Ce(ce,qt);return"[Function"+(Vn?": "+Vn:" (anonymous)")+"]"+(rs.length>0?" { "+$.call(rs,", ")+" }":"")}if(ke(ce)){var jr=ne?Z.call(String(ce),/^(Symbol\(.*\))_[^)]*$/,"$1"):K.call(ce);return typeof ce!="object"||ne?jr:Ee(jr)}if(function(ft){return!ft||typeof ft!="object"?!1:typeof HTMLElement<"u"&&ft instanceof HTMLElement?!0:typeof ft.nodeName=="string"&&typeof ft.getAttribute=="function"}(ce)){for(var Rr="<"+me.call(String(ce.nodeName)),Ii=ce.attributes||[],bi=0;bi<Ii.length;bi++)Rr+=" "+Ii[bi].name+"="+Fe(We(Ii[bi].value),"double",ct);return Rr+=">",ce.childNodes&&ce.childNodes.length&&(Rr+="..."),Rr+="</"+me.call(String(ce.nodeName))+">"}if(ze(ce)){if(ce.length===0)return"[]";var yi=Ce(ce,qt);return mn&&!function(ft){for(var An=0;An<ft.length;An++)if(Ie(ft[An],`
`)>=0)return!1;return!0}(yi)?"["+Oe(yi,mn)+"]":"[ "+$.call(yi,", ")+" ]"}if(function(ft){return!(Ae(ft)!=="[object Error]"||J&&typeof ft=="object"&&J in ft)}(ce)){var vi=Ce(ce,qt);return"cause"in Error.prototype||!("cause"in ce)||ue.call(ce,"cause")?vi.length===0?"["+String(ce)+"]":"{ ["+String(ce)+"] "+$.call(vi,", ")+" }":"{ ["+String(ce)+"] "+$.call(ge.call("[cause]: "+qt(ce.cause),vi),", ")+" }"}if(typeof ce=="object"&&ht){if(Re&&typeof ce[Re]=="function"&&Se)return Se(ce,{depth:Zt-et});if(ht!=="symbol"&&typeof ce.inspect=="function")return ce.inspect()}if(function(ft){if(!y||!ft||typeof ft!="object")return!1;try{y.call(ft);try{S.call(ft)}catch{return!0}return ft instanceof Map}catch{}return!1}(ce)){var wt=[];return v.call(ce,function(ft,An){wt.push(qt(An,ce,!0)+" => "+qt(ft,ce))}),qe("Map",y.call(ce),wt,mn)}if(function(ft){if(!S||!ft||typeof ft!="object")return!1;try{S.call(ft);try{y.call(ft)}catch{return!0}return ft instanceof Set}catch{}return!1}(ce)){var Ht=[];return C.call(ce,function(ft){Ht.push(qt(ft,ce))}),qe("Set",S.call(ce),Ht,mn)}if(function(ft){if(!T||!ft||typeof ft!="object")return!1;try{T.call(ft,T);try{N.call(ft,N)}catch{return!0}return ft instanceof WeakMap}catch{}return!1}(ce))return He("WeakMap");if(function(ft){if(!N||!ft||typeof ft!="object")return!1;try{N.call(ft,N);try{T.call(ft,T)}catch{return!0}return ft instanceof WeakSet}catch{}return!1}(ce))return He("WeakSet");if(function(ft){if(!I||!ft||typeof ft!="object")return!1;try{return I.call(ft),!0}catch{}return!1}(ce))return He("WeakRef");if(function(ft){return!(Ae(ft)!=="[object Number]"||J&&typeof ft=="object"&&J in ft)}(ce))return Ee(qt(Number(ce)));if(function(ft){if(!ft||typeof ft!="object"||!ie)return!1;try{return ie.call(ft),!0}catch{}return!1}(ce))return Ee(qt(ie.call(ce)));if(function(ft){return!(Ae(ft)!=="[object Boolean]"||J&&typeof ft=="object"&&J in ft)}(ce))return Ee(O.call(ce));if(function(ft){return!(Ae(ft)!=="[object String]"||J&&typeof ft=="object"&&J in ft)}(ce))return Ee(qt(String(ce)));if(!function(ft){return!(Ae(ft)!=="[object Date]"||J&&typeof ft=="object"&&J in ft)}(ce)&&!Ne(ce)){var sn=Ce(ce,qt),Wn=ee?ee(ce)===Object.prototype:ce instanceof Object||ce.constructor===Object,Xn=ce instanceof Object?"":"null prototype",Mr=!Wn&&J&&Object(ce)===ce&&J in ce?B.call(Ae(ce),8,-1):Xn?"Object":"",Ji=(Wn||typeof ce.constructor!="function"?"":ce.constructor.name?ce.constructor.name+" ":"")+(Mr||Xn?"["+$.call(ge.call([],Mr||[],Xn||[]),": ")+"] ":"");return sn.length===0?Ji+"{}":mn?Ji+"{"+Oe(sn,mn)+"}":Ji+"{ "+$.call(sn,", ")+" }"}return String(ce)};var Be=Object.prototype.hasOwnProperty||function(_e){return _e in this};function X(_e,ce){return Be.call(_e,ce)}function Ae(_e){return F.call(_e)}function Ie(_e,ce){if(_e.indexOf)return _e.indexOf(ce);for(var Ue=0,et=_e.length;Ue<et;Ue++)if(_e[Ue]===ce)return Ue;return-1}function be(_e,ce){if(_e.length>ce.maxStringLength){var Ue=_e.length-ce.maxStringLength,et="... "+Ue+" more character"+(Ue>1?"s":"");return be(B.call(_e,0,ce.maxStringLength),ce)+et}return Fe(Z.call(Z.call(_e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,we),"single",ce)}function we(_e){var ce=_e.charCodeAt(0),Ue={8:"b",9:"t",10:"n",12:"f",13:"r"}[ce];return Ue?"\\"+Ue:"\\x"+(ce<16?"0":"")+ae.call(ce.toString(16))}function Ee(_e){return"Object("+_e+")"}function He(_e){return _e+" { ? }"}function qe(_e,ce,Ue,et){return _e+" ("+ce+") {"+(et?Oe(Ue,et):$.call(Ue,", "))+"}"}function Oe(_e,ce){if(_e.length===0)return"";var Ue=`
`+ce.prev+ce.base;return Ue+$.call(_e,","+Ue)+`
`+ce.prev}function Ce(_e,ce){var Ue=ze(_e),et=[];if(Ue){et.length=_e.length;for(var nt=0;nt<_e.length;nt++)et[nt]=X(_e,nt)?ce(_e[nt],_e):""}var ct,ht=typeof G=="function"?G(_e):[];if(ne){ct={};for(var Pt=0;Pt<ht.length;Pt++)ct["$"+ht[Pt]]=ht[Pt]}for(var Bt in _e)X(_e,Bt)&&(Ue&&String(Number(Bt))===Bt&&Bt<_e.length||ne&&ct["$"+Bt]instanceof Symbol||(Q.call(/[^\w$]/,Bt)?et.push(ce(Bt,_e)+": "+ce(_e[Bt],_e)):et.push(Bt+": "+ce(_e[Bt],_e))));if(typeof G=="function")for(var bt=0;bt<ht.length;bt++)ue.call(_e,ht[bt])&&et.push("["+ce(ht[bt])+"]: "+ce(_e[ht[bt]],_e));return et}},5798:c=>{var u=String.prototype.replace,h=/%20/g,m="RFC1738",g="RFC3986";c.exports={default:g,formatters:{RFC1738:function(y){return u.call(y,h,"+")},RFC3986:function(y){return String(y)}},RFC1738:m,RFC3986:g}},129:(c,u,h)=>{var m=h(8261),g=h(5235),y=h(5798);c.exports={formats:y,parse:g,stringify:m}},5235:(c,u,h)=>{var m=h(2769),g=Object.prototype.hasOwnProperty,y=Array.isArray,v={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:m.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},_=function(C){return C.replace(/&#(\d+);/g,function(T,N){return String.fromCharCode(parseInt(N,10))})},A=function(C,T){return C&&typeof C=="string"&&T.comma&&C.indexOf(",")>-1?C.split(","):C},S=function(C,T,N,I){if(C){var O=N.allowDots?C.replace(/\.([^.[]+)/g,"[$1]"):C,F=/(\[[^[\]]*])/g,U=N.depth>0&&/(\[[^[\]]*])/.exec(O),V=U?O.slice(0,U.index):O,B=[];if(V){if(!N.plainObjects&&g.call(Object.prototype,V)&&!N.allowPrototypes)return;B.push(V)}for(var Z=0;N.depth>0&&(U=F.exec(O))!==null&&Z<N.depth;){if(Z+=1,!N.plainObjects&&g.call(Object.prototype,U[1].slice(1,-1))&&!N.allowPrototypes)return;B.push(U[1])}return U&&B.push("["+O.slice(U.index)+"]"),function(ae,me,Q,ge){for(var $=ge?me:A(me,Q),Te=ae.length-1;Te>=0;--Te){var re,ie=ae[Te];if(ie==="[]"&&Q.parseArrays)re=[].concat($);else{re=Q.plainObjects?Object.create(null):{};var G=ie.charAt(0)==="["&&ie.charAt(ie.length-1)==="]"?ie.slice(1,-1):ie,K=parseInt(G,10);Q.parseArrays||G!==""?!isNaN(K)&&ie!==G&&String(K)===G&&K>=0&&Q.parseArrays&&K<=Q.arrayLimit?(re=[])[K]=$:G!=="__proto__"&&(re[G]=$):re={0:$}}$=re}return $}(B,T,N,I)}};c.exports=function(C,T){var N=function(Z){if(!Z)return v;if(Z.decoder!==null&&Z.decoder!==void 0&&typeof Z.decoder!="function")throw new TypeError("Decoder has to be a function.");if(Z.charset!==void 0&&Z.charset!=="utf-8"&&Z.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var ae=Z.charset===void 0?v.charset:Z.charset;return{allowDots:Z.allowDots===void 0?v.allowDots:!!Z.allowDots,allowPrototypes:typeof Z.allowPrototypes=="boolean"?Z.allowPrototypes:v.allowPrototypes,allowSparse:typeof Z.allowSparse=="boolean"?Z.allowSparse:v.allowSparse,arrayLimit:typeof Z.arrayLimit=="number"?Z.arrayLimit:v.arrayLimit,charset:ae,charsetSentinel:typeof Z.charsetSentinel=="boolean"?Z.charsetSentinel:v.charsetSentinel,comma:typeof Z.comma=="boolean"?Z.comma:v.comma,decoder:typeof Z.decoder=="function"?Z.decoder:v.decoder,delimiter:typeof Z.delimiter=="string"||m.isRegExp(Z.delimiter)?Z.delimiter:v.delimiter,depth:typeof Z.depth=="number"||Z.depth===!1?+Z.depth:v.depth,ignoreQueryPrefix:Z.ignoreQueryPrefix===!0,interpretNumericEntities:typeof Z.interpretNumericEntities=="boolean"?Z.interpretNumericEntities:v.interpretNumericEntities,parameterLimit:typeof Z.parameterLimit=="number"?Z.parameterLimit:v.parameterLimit,parseArrays:Z.parseArrays!==!1,plainObjects:typeof Z.plainObjects=="boolean"?Z.plainObjects:v.plainObjects,strictNullHandling:typeof Z.strictNullHandling=="boolean"?Z.strictNullHandling:v.strictNullHandling}}(T);if(C===""||C==null)return N.plainObjects?Object.create(null):{};for(var I=typeof C=="string"?function(Z,ae){var me,Q={},ge=ae.ignoreQueryPrefix?Z.replace(/^\?/,""):Z,$=ae.parameterLimit===1/0?void 0:ae.parameterLimit,Te=ge.split(ae.delimiter,$),re=-1,ie=ae.charset;if(ae.charsetSentinel)for(me=0;me<Te.length;++me)Te[me].indexOf("utf8=")===0&&(Te[me]==="utf8=%E2%9C%93"?ie="utf-8":Te[me]==="utf8=%26%2310003%3B"&&(ie="iso-8859-1"),re=me,me=Te.length);for(me=0;me<Te.length;++me)if(me!==re){var G,K,ne=Te[me],J=ne.indexOf("]="),ue=J===-1?ne.indexOf("="):J+1;ue===-1?(G=ae.decoder(ne,v.decoder,ie,"key"),K=ae.strictNullHandling?null:""):(G=ae.decoder(ne.slice(0,ue),v.decoder,ie,"key"),K=m.maybeMap(A(ne.slice(ue+1),ae),function(ee){return ae.decoder(ee,v.decoder,ie,"value")})),K&&ae.interpretNumericEntities&&ie==="iso-8859-1"&&(K=_(K)),ne.indexOf("[]=")>-1&&(K=y(K)?[K]:K),g.call(Q,G)?Q[G]=m.combine(Q[G],K):Q[G]=K}return Q}(C,N):C,O=N.plainObjects?Object.create(null):{},F=Object.keys(I),U=0;U<F.length;++U){var V=F[U],B=S(V,I[V],N,typeof C=="string");O=m.merge(O,B,N)}return N.allowSparse===!0?O:m.compact(O)}},8261:(c,u,h)=>{var m=h(7478),g=h(2769),y=h(5798),v=Object.prototype.hasOwnProperty,_={brackets:function(V){return V+"[]"},comma:"comma",indices:function(V,B){return V+"["+B+"]"},repeat:function(V){return V}},A=Array.isArray,S=String.prototype.split,C=Array.prototype.push,T=function(V,B){C.apply(V,A(B)?B:[B])},N=Date.prototype.toISOString,I=y.default,O={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:g.encode,encodeValuesOnly:!1,format:I,formatter:y.formatters[I],indices:!1,serializeDate:function(V){return N.call(V)},skipNulls:!1,strictNullHandling:!1},F={},U=function V(B,Z,ae,me,Q,ge,$,Te,re,ie,G,K,ne,J,ue,ee){for(var xe,Se=B,Me=ee,Re=0,Fe=!1;(Me=Me.get(F))!==void 0&&!Fe;){var We=Me.get(B);if(Re+=1,We!==void 0){if(We===Re)throw new RangeError("Cyclic object value");Fe=!0}Me.get(F)===void 0&&(Re=0)}if(typeof Te=="function"?Se=Te(Z,Se):Se instanceof Date?Se=G(Se):ae==="comma"&&A(Se)&&(Se=g.maybeMap(Se,function(Ce){return Ce instanceof Date?G(Ce):Ce})),Se===null){if(Q)return $&&!J?$(Z,O.encoder,ue,"key",K):Z;Se=""}if(typeof(xe=Se)=="string"||typeof xe=="number"||typeof xe=="boolean"||typeof xe=="symbol"||typeof xe=="bigint"||g.isBuffer(Se)){if($){var ze=J?Z:$(Z,O.encoder,ue,"key",K);if(ae==="comma"&&J){for(var Ne=S.call(String(Se),","),ke="",Be=0;Be<Ne.length;++Be)ke+=(Be===0?"":",")+ne($(Ne[Be],O.encoder,ue,"value",K));return[ne(ze)+(me&&A(Se)&&Ne.length===1?"[]":"")+"="+ke]}return[ne(ze)+"="+ne($(Se,O.encoder,ue,"value",K))]}return[ne(Z)+"="+ne(String(Se))]}var X,Ae=[];if(Se===void 0)return Ae;if(ae==="comma"&&A(Se))X=[{value:Se.length>0?Se.join(",")||null:void 0}];else if(A(Te))X=Te;else{var Ie=Object.keys(Se);X=re?Ie.sort(re):Ie}for(var be=me&&A(Se)&&Se.length===1?Z+"[]":Z,we=0;we<X.length;++we){var Ee=X[we],He=typeof Ee=="object"&&Ee.value!==void 0?Ee.value:Se[Ee];if(!ge||He!==null){var qe=A(Se)?typeof ae=="function"?ae(be,Ee):be:be+(ie?"."+Ee:"["+Ee+"]");ee.set(B,Re);var Oe=m();Oe.set(F,ee),T(Ae,V(He,qe,ae,me,Q,ge,$,Te,re,ie,G,K,ne,J,ue,Oe))}}return Ae};c.exports=function(V,B){var Z,ae=V,me=function(J){if(!J)return O;if(J.encoder!==null&&J.encoder!==void 0&&typeof J.encoder!="function")throw new TypeError("Encoder has to be a function.");var ue=J.charset||O.charset;if(J.charset!==void 0&&J.charset!=="utf-8"&&J.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var ee=y.default;if(J.format!==void 0){if(!v.call(y.formatters,J.format))throw new TypeError("Unknown format option provided.");ee=J.format}var xe=y.formatters[ee],Se=O.filter;return(typeof J.filter=="function"||A(J.filter))&&(Se=J.filter),{addQueryPrefix:typeof J.addQueryPrefix=="boolean"?J.addQueryPrefix:O.addQueryPrefix,allowDots:J.allowDots===void 0?O.allowDots:!!J.allowDots,charset:ue,charsetSentinel:typeof J.charsetSentinel=="boolean"?J.charsetSentinel:O.charsetSentinel,delimiter:J.delimiter===void 0?O.delimiter:J.delimiter,encode:typeof J.encode=="boolean"?J.encode:O.encode,encoder:typeof J.encoder=="function"?J.encoder:O.encoder,encodeValuesOnly:typeof J.encodeValuesOnly=="boolean"?J.encodeValuesOnly:O.encodeValuesOnly,filter:Se,format:ee,formatter:xe,serializeDate:typeof J.serializeDate=="function"?J.serializeDate:O.serializeDate,skipNulls:typeof J.skipNulls=="boolean"?J.skipNulls:O.skipNulls,sort:typeof J.sort=="function"?J.sort:null,strictNullHandling:typeof J.strictNullHandling=="boolean"?J.strictNullHandling:O.strictNullHandling}}(B);typeof me.filter=="function"?ae=(0,me.filter)("",ae):A(me.filter)&&(Z=me.filter);var Q,ge=[];if(typeof ae!="object"||ae===null)return"";Q=B&&B.arrayFormat in _?B.arrayFormat:B&&"indices"in B?B.indices?"indices":"repeat":"indices";var $=_[Q];if(B&&"commaRoundTrip"in B&&typeof B.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var Te=$==="comma"&&B&&B.commaRoundTrip;Z||(Z=Object.keys(ae)),me.sort&&Z.sort(me.sort);for(var re=m(),ie=0;ie<Z.length;++ie){var G=Z[ie];me.skipNulls&&ae[G]===null||T(ge,U(ae[G],G,$,Te,me.strictNullHandling,me.skipNulls,me.encode?me.encoder:null,me.filter,me.sort,me.allowDots,me.serializeDate,me.format,me.formatter,me.encodeValuesOnly,me.charset,re))}var K=ge.join(me.delimiter),ne=me.addQueryPrefix===!0?"?":"";return me.charsetSentinel&&(me.charset==="iso-8859-1"?ne+="utf8=%26%2310003%3B&":ne+="utf8=%E2%9C%93&"),K.length>0?ne+K:""}},2769:(c,u,h)=>{var m=h(5798),g=Object.prototype.hasOwnProperty,y=Array.isArray,v=function(){for(var A=[],S=0;S<256;++S)A.push("%"+((S<16?"0":"")+S.toString(16)).toUpperCase());return A}(),_=function(A,S){for(var C=S&&S.plainObjects?Object.create(null):{},T=0;T<A.length;++T)A[T]!==void 0&&(C[T]=A[T]);return C};c.exports={arrayToObject:_,assign:function(A,S){return Object.keys(S).reduce(function(C,T){return C[T]=S[T],C},A)},combine:function(A,S){return[].concat(A,S)},compact:function(A){for(var S=[{obj:{o:A},prop:"o"}],C=[],T=0;T<S.length;++T)for(var N=S[T],I=N.obj[N.prop],O=Object.keys(I),F=0;F<O.length;++F){var U=O[F],V=I[U];typeof V=="object"&&V!==null&&C.indexOf(V)===-1&&(S.push({obj:I,prop:U}),C.push(V))}return function(B){for(;B.length>1;){var Z=B.pop(),ae=Z.obj[Z.prop];if(y(ae)){for(var me=[],Q=0;Q<ae.length;++Q)ae[Q]!==void 0&&me.push(ae[Q]);Z.obj[Z.prop]=me}}}(S),A},decode:function(A,S,C){var T=A.replace(/\+/g," ");if(C==="iso-8859-1")return T.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(T)}catch{return T}},encode:function(A,S,C,T,N){if(A.length===0)return A;var I=A;if(typeof A=="symbol"?I=Symbol.prototype.toString.call(A):typeof A!="string"&&(I=String(A)),C==="iso-8859-1")return escape(I).replace(/%u[0-9a-f]{4}/gi,function(V){return"%26%23"+parseInt(V.slice(2),16)+"%3B"});for(var O="",F=0;F<I.length;++F){var U=I.charCodeAt(F);U===45||U===46||U===95||U===126||U>=48&&U<=57||U>=65&&U<=90||U>=97&&U<=122||N===m.RFC1738&&(U===40||U===41)?O+=I.charAt(F):U<128?O+=v[U]:U<2048?O+=v[192|U>>6]+v[128|63&U]:U<55296||U>=57344?O+=v[224|U>>12]+v[128|U>>6&63]+v[128|63&U]:(F+=1,U=65536+((1023&U)<<10|1023&I.charCodeAt(F)),O+=v[240|U>>18]+v[128|U>>12&63]+v[128|U>>6&63]+v[128|63&U])}return O},isBuffer:function(A){return!(!A||typeof A!="object")&&!!(A.constructor&&A.constructor.isBuffer&&A.constructor.isBuffer(A))},isRegExp:function(A){return Object.prototype.toString.call(A)==="[object RegExp]"},maybeMap:function(A,S){if(y(A)){for(var C=[],T=0;T<A.length;T+=1)C.push(S(A[T]));return C}return S(A)},merge:function A(S,C,T){if(!C)return S;if(typeof C!="object"){if(y(S))S.push(C);else{if(!S||typeof S!="object")return[S,C];(T&&(T.plainObjects||T.allowPrototypes)||!g.call(Object.prototype,C))&&(S[C]=!0)}return S}if(!S||typeof S!="object")return[S].concat(C);var N=S;return y(S)&&!y(C)&&(N=_(S,T)),y(S)&&y(C)?(C.forEach(function(I,O){if(g.call(S,O)){var F=S[O];F&&typeof F=="object"&&I&&typeof I=="object"?S[O]=A(F,I,T):S.push(I)}else S[O]=I}),S):Object.keys(C).reduce(function(I,O){var F=C[O];return g.call(I,O)?I[O]=A(I[O],F,T):I[O]=F,I},N)}}},4448:(c,u,h)=>{var m=h(7294),g=h(7418),y=h(3840);function v(x){for(var E="https://reactjs.org/docs/error-decoder.html?invariant="+x,j=1;j<arguments.length;j++)E+="&args[]="+encodeURIComponent(arguments[j]);return"Minified React error #"+x+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!m)throw Error(v(227));var _=new Set,A={};function S(x,E){C(x,E),C(x+"Capture",E)}function C(x,E){for(A[x]=E,x=0;x<E.length;x++)_.add(E[x])}var T=!(typeof window>"u"||window.document===void 0||window.document.createElement===void 0),N=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I=Object.prototype.hasOwnProperty,O={},F={};function U(x,E,j,z,q,oe,pe){this.acceptsBooleans=E===2||E===3||E===4,this.attributeName=z,this.attributeNamespace=q,this.mustUseProperty=j,this.propertyName=x,this.type=E,this.sanitizeURL=oe,this.removeEmptyString=pe}var V={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(x){V[x]=new U(x,0,!1,x,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(x){var E=x[0];V[E]=new U(E,1,!1,x[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(x){V[x]=new U(x,2,!1,x.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(x){V[x]=new U(x,2,!1,x,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(x){V[x]=new U(x,3,!1,x.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(x){V[x]=new U(x,3,!0,x,null,!1,!1)}),["capture","download"].forEach(function(x){V[x]=new U(x,4,!1,x,null,!1,!1)}),["cols","rows","size","span"].forEach(function(x){V[x]=new U(x,6,!1,x,null,!1,!1)}),["rowSpan","start"].forEach(function(x){V[x]=new U(x,5,!1,x.toLowerCase(),null,!1,!1)});var B=/[\-:]([a-z])/g;function Z(x){return x[1].toUpperCase()}function ae(x,E,j,z){var q=V.hasOwnProperty(E)?V[E]:null;(q!==null?q.type===0:!z&&2<E.length&&(E[0]==="o"||E[0]==="O")&&(E[1]==="n"||E[1]==="N"))||(function(oe,pe,De,Ve){if(pe==null||function(Xe,ut,kt,lt){if(kt!==null&&kt.type===0)return!1;switch(typeof ut){case"function":case"symbol":return!0;case"boolean":return!lt&&(kt!==null?!kt.acceptsBooleans:(Xe=Xe.toLowerCase().slice(0,5))!=="data-"&&Xe!=="aria-");default:return!1}}(oe,pe,De,Ve))return!0;if(Ve)return!1;if(De!==null)switch(De.type){case 3:return!pe;case 4:return pe===!1;case 5:return isNaN(pe);case 6:return isNaN(pe)||1>pe}return!1}(E,j,q,z)&&(j=null),z||q===null?function(oe){return!!I.call(F,oe)||!I.call(O,oe)&&(N.test(oe)?F[oe]=!0:(O[oe]=!0,!1))}(E)&&(j===null?x.removeAttribute(E):x.setAttribute(E,""+j)):q.mustUseProperty?x[q.propertyName]=j===null?q.type!==3&&"":j:(E=q.attributeName,z=q.attributeNamespace,j===null?x.removeAttribute(E):(j=(q=q.type)===3||q===4&&j===!0?"":""+j,z?x.setAttributeNS(z,E,j):x.setAttribute(E,j))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(x){var E=x.replace(B,Z);V[E]=new U(E,1,!1,x,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(x){var E=x.replace(B,Z);V[E]=new U(E,1,!1,x,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(x){var E=x.replace(B,Z);V[E]=new U(E,1,!1,x,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(x){V[x]=new U(x,1,!1,x.toLowerCase(),null,!1,!1)}),V.xlinkHref=new U("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(x){V[x]=new U(x,1,!1,x.toLowerCase(),null,!0,!0)});var me=m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=60103,ge=60106,$=60107,Te=60108,re=60114,ie=60109,G=60110,K=60112,ne=60113,J=60120,ue=60115,ee=60116,xe=60121,Se=60128,Me=60129,Re=60130,Fe=60131;if(typeof Symbol=="function"&&Symbol.for){var We=Symbol.for;Q=We("react.element"),ge=We("react.portal"),$=We("react.fragment"),Te=We("react.strict_mode"),re=We("react.profiler"),ie=We("react.provider"),G=We("react.context"),K=We("react.forward_ref"),ne=We("react.suspense"),J=We("react.suspense_list"),ue=We("react.memo"),ee=We("react.lazy"),xe=We("react.block"),We("react.scope"),Se=We("react.opaque.id"),Me=We("react.debug_trace_mode"),Re=We("react.offscreen"),Fe=We("react.legacy_hidden")}var ze,Ne=typeof Symbol=="function"&&Symbol.iterator;function ke(x){return x===null||typeof x!="object"?null:typeof(x=Ne&&x[Ne]||x["@@iterator"])=="function"?x:null}function Be(x){if(ze===void 0)try{throw Error()}catch(j){var E=j.stack.trim().match(/\n( *(at )?)/);ze=E&&E[1]||""}return`
`+ze+x}var X=!1;function Ae(x,E){if(!x||X)return"";X=!0;var j=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(E)if(E=function(){throw Error()},Object.defineProperty(E.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(E,[])}catch(Ve){var z=Ve}Reflect.construct(x,[],E)}else{try{E.call()}catch(Ve){z=Ve}x.call(E.prototype)}else{try{throw Error()}catch(Ve){z=Ve}x()}}catch(Ve){if(Ve&&z&&typeof Ve.stack=="string"){for(var q=Ve.stack.split(`
`),oe=z.stack.split(`
`),pe=q.length-1,De=oe.length-1;1<=pe&&0<=De&&q[pe]!==oe[De];)De--;for(;1<=pe&&0<=De;pe--,De--)if(q[pe]!==oe[De]){if(pe!==1||De!==1)do if(pe--,0>--De||q[pe]!==oe[De])return`
`+q[pe].replace(" at new "," at ");while(1<=pe&&0<=De);break}}}finally{X=!1,Error.prepareStackTrace=j}return(x=x?x.displayName||x.name:"")?Be(x):""}function Ie(x){switch(x.tag){case 5:return Be(x.type);case 16:return Be("Lazy");case 13:return Be("Suspense");case 19:return Be("SuspenseList");case 0:case 2:case 15:return x=Ae(x.type,!1);case 11:return x=Ae(x.type.render,!1);case 22:return x=Ae(x.type._render,!1);case 1:return x=Ae(x.type,!0);default:return""}}function be(x){if(x==null)return null;if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x;switch(x){case $:return"Fragment";case ge:return"Portal";case re:return"Profiler";case Te:return"StrictMode";case ne:return"Suspense";case J:return"SuspenseList"}if(typeof x=="object")switch(x.$$typeof){case G:return(x.displayName||"Context")+".Consumer";case ie:return(x._context.displayName||"Context")+".Provider";case K:var E=x.render;return E=E.displayName||E.name||"",x.displayName||(E!==""?"ForwardRef("+E+")":"ForwardRef");case ue:return be(x.type);case xe:return be(x._render);case ee:E=x._payload,x=x._init;try{return be(x(E))}catch{}}return null}function we(x){switch(typeof x){case"boolean":case"number":case"object":case"string":case"undefined":return x;default:return""}}function Ee(x){var E=x.type;return(x=x.nodeName)&&x.toLowerCase()==="input"&&(E==="checkbox"||E==="radio")}function He(x){x._valueTracker||(x._valueTracker=function(E){var j=Ee(E)?"checked":"value",z=Object.getOwnPropertyDescriptor(E.constructor.prototype,j),q=""+E[j];if(!E.hasOwnProperty(j)&&z!==void 0&&typeof z.get=="function"&&typeof z.set=="function"){var oe=z.get,pe=z.set;return Object.defineProperty(E,j,{configurable:!0,get:function(){return oe.call(this)},set:function(De){q=""+De,pe.call(this,De)}}),Object.defineProperty(E,j,{enumerable:z.enumerable}),{getValue:function(){return q},setValue:function(De){q=""+De},stopTracking:function(){E._valueTracker=null,delete E[j]}}}}(x))}function qe(x){if(!x)return!1;var E=x._valueTracker;if(!E)return!0;var j=E.getValue(),z="";return x&&(z=Ee(x)?x.checked?"true":"false":x.value),(x=z)!==j&&(E.setValue(x),!0)}function Oe(x){if((x=x||(typeof document<"u"?document:void 0))===void 0)return null;try{return x.activeElement||x.body}catch{return x.body}}function Ce(x,E){var j=E.checked;return g({},E,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:j??x._wrapperState.initialChecked})}function _e(x,E){var j=E.defaultValue==null?"":E.defaultValue,z=E.checked!=null?E.checked:E.defaultChecked;j=we(E.value!=null?E.value:j),x._wrapperState={initialChecked:z,initialValue:j,controlled:E.type==="checkbox"||E.type==="radio"?E.checked!=null:E.value!=null}}function ce(x,E){(E=E.checked)!=null&&ae(x,"checked",E,!1)}function Ue(x,E){ce(x,E);var j=we(E.value),z=E.type;if(j!=null)z==="number"?(j===0&&x.value===""||x.value!=j)&&(x.value=""+j):x.value!==""+j&&(x.value=""+j);else if(z==="submit"||z==="reset")return void x.removeAttribute("value");E.hasOwnProperty("value")?nt(x,E.type,j):E.hasOwnProperty("defaultValue")&&nt(x,E.type,we(E.defaultValue)),E.checked==null&&E.defaultChecked!=null&&(x.defaultChecked=!!E.defaultChecked)}function et(x,E,j){if(E.hasOwnProperty("value")||E.hasOwnProperty("defaultValue")){var z=E.type;if(!(z!=="submit"&&z!=="reset"||E.value!==void 0&&E.value!==null))return;E=""+x._wrapperState.initialValue,j||E===x.value||(x.value=E),x.defaultValue=E}(j=x.name)!==""&&(x.name=""),x.defaultChecked=!!x._wrapperState.initialChecked,j!==""&&(x.name=j)}function nt(x,E,j){E==="number"&&Oe(x.ownerDocument)===x||(j==null?x.defaultValue=""+x._wrapperState.initialValue:x.defaultValue!==""+j&&(x.defaultValue=""+j))}function ct(x,E){return x=g({children:void 0},E),(E=function(j){var z="";return m.Children.forEach(j,function(q){q!=null&&(z+=q)}),z}(E.children))&&(x.children=E),x}function ht(x,E,j,z){if(x=x.options,E){E={};for(var q=0;q<j.length;q++)E["$"+j[q]]=!0;for(j=0;j<x.length;j++)q=E.hasOwnProperty("$"+x[j].value),x[j].selected!==q&&(x[j].selected=q),q&&z&&(x[j].defaultSelected=!0)}else{for(j=""+we(j),E=null,q=0;q<x.length;q++){if(x[q].value===j)return x[q].selected=!0,void(z&&(x[q].defaultSelected=!0));E!==null||x[q].disabled||(E=x[q])}E!==null&&(E.selected=!0)}}function Pt(x,E){if(E.dangerouslySetInnerHTML!=null)throw Error(v(91));return g({},E,{value:void 0,defaultValue:void 0,children:""+x._wrapperState.initialValue})}function Bt(x,E){var j=E.value;if(j==null){if(j=E.children,E=E.defaultValue,j!=null){if(E!=null)throw Error(v(92));if(Array.isArray(j)){if(!(1>=j.length))throw Error(v(93));j=j[0]}E=j}E==null&&(E=""),j=E}x._wrapperState={initialValue:we(j)}}function bt(x,E){var j=we(E.value),z=we(E.defaultValue);j!=null&&((j=""+j)!==x.value&&(x.value=j),E.defaultValue==null&&x.defaultValue!==j&&(x.defaultValue=j)),z!=null&&(x.defaultValue=""+z)}function Zt(x){var E=x.textContent;E===x._wrapperState.initialValue&&E!==""&&E!==null&&(x.value=E)}var mn={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function qt(x){switch(x){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vn(x,E){return x==null||x==="http://www.w3.org/1999/xhtml"?qt(E):x==="http://www.w3.org/2000/svg"&&E==="foreignObject"?"http://www.w3.org/1999/xhtml":x}var rs,jr,Rr=(jr=function(x,E){if(x.namespaceURI!==mn.svg||"innerHTML"in x)x.innerHTML=E;else{for((rs=rs||document.createElement("div")).innerHTML="<svg>"+E.valueOf().toString()+"</svg>",E=rs.firstChild;x.firstChild;)x.removeChild(x.firstChild);for(;E.firstChild;)x.appendChild(E.firstChild)}},typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(x,E,j,z){MSApp.execUnsafeLocalFunction(function(){return jr(x,E)})}:jr);function Ii(x,E){if(E){var j=x.firstChild;if(j&&j===x.lastChild&&j.nodeType===3)return void(j.nodeValue=E)}x.textContent=E}var bi={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yi=["Webkit","ms","Moz","O"];function vi(x,E,j){return E==null||typeof E=="boolean"||E===""?"":j||typeof E!="number"||E===0||bi.hasOwnProperty(x)&&bi[x]?(""+E).trim():E+"px"}function wt(x,E){for(var j in x=x.style,E)if(E.hasOwnProperty(j)){var z=j.indexOf("--")===0,q=vi(j,E[j],z);j==="float"&&(j="cssFloat"),z?x.setProperty(j,q):x[j]=q}}Object.keys(bi).forEach(function(x){yi.forEach(function(E){E=E+x.charAt(0).toUpperCase()+x.substring(1),bi[E]=bi[x]})});var Ht=g({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sn(x,E){if(E){if(Ht[x]&&(E.children!=null||E.dangerouslySetInnerHTML!=null))throw Error(v(137,x));if(E.dangerouslySetInnerHTML!=null){if(E.children!=null)throw Error(v(60));if(typeof E.dangerouslySetInnerHTML!="object"||!("__html"in E.dangerouslySetInnerHTML))throw Error(v(61))}if(E.style!=null&&typeof E.style!="object")throw Error(v(62))}}function Wn(x,E){if(x.indexOf("-")===-1)return typeof E.is=="string";switch(x){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Xn(x){return(x=x.target||x.srcElement||window).correspondingUseElement&&(x=x.correspondingUseElement),x.nodeType===3?x.parentNode:x}var Mr=null,Ji=null,ft=null;function An(x){if(x=Lf(x)){if(typeof Mr!="function")throw Error(v(280));var E=x.stateNode;E&&(E=wg(E),Mr(x.stateNode,x.type,E))}}function Ps(x){Ji?ft?ft.push(x):ft=[x]:Ji=x}function ss(){if(Ji){var x=Ji,E=ft;if(ft=Ji=null,An(x),E)for(x=0;x<E.length;x++)An(E[x])}}function Is(x,E){return x(E)}function ol(x,E,j,z,q){return x(E,j,z,q)}function Mo(){}var al=Is,Oo=!1,ll=!1;function so(){Ji===null&&ft===null||(Mo(),ss())}function js(x,E){var j=x.stateNode;if(j===null)return null;var z=wg(j);if(z===null)return null;j=z[E];e:switch(E){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(z=!z.disabled)||(z=!((x=x.type)==="button"||x==="input"||x==="select"||x==="textarea")),x=!z;break e;default:x=!1}if(x)return null;if(j&&typeof j!="function")throw Error(v(231,E,typeof j));return j}var Si=!1;if(T)try{var cl={};Object.defineProperty(cl,"passive",{get:function(){Si=!0}}),window.addEventListener("test",cl,cl),window.removeEventListener("test",cl,cl)}catch{Si=!1}function Rs(x,E,j,z,q,oe,pe,De,Ve){var Xe=Array.prototype.slice.call(arguments,3);try{E.apply(j,Xe)}catch(ut){this.onError(ut)}}var Or=!1,os=null,ul=!1,lc=null,su={onError:function(x){Or=!0,os=x}};function Zm(x,E,j,z,q,oe,pe,De,Ve){Or=!1,os=null,Rs.apply(su,arguments)}function ma(x){var E=x,j=x;if(x.alternate)for(;E.return;)E=E.return;else{x=E;do 1026&(E=x).flags&&(j=E.return),x=E.return;while(x)}return E.tag===3?j:null}function wf(x){if(x.tag===13){var E=x.memoizedState;if(E===null&&(x=x.alternate)!==null&&(E=x.memoizedState),E!==null)return E.dehydrated}return null}function xf(x){if(ma(x)!==x)throw Error(v(188))}function ji(x){if(x=function(j){var z=j.alternate;if(!z){if((z=ma(j))===null)throw Error(v(188));return z!==j?null:j}for(var q=j,oe=z;;){var pe=q.return;if(pe===null)break;var De=pe.alternate;if(De===null){if((oe=pe.return)!==null){q=oe;continue}break}if(pe.child===De.child){for(De=pe.child;De;){if(De===q)return xf(pe),j;if(De===oe)return xf(pe),z;De=De.sibling}throw Error(v(188))}if(q.return!==oe.return)q=pe,oe=De;else{for(var Ve=!1,Xe=pe.child;Xe;){if(Xe===q){Ve=!0,q=pe,oe=De;break}if(Xe===oe){Ve=!0,oe=pe,q=De;break}Xe=Xe.sibling}if(!Ve){for(Xe=De.child;Xe;){if(Xe===q){Ve=!0,q=De,oe=pe;break}if(Xe===oe){Ve=!0,oe=De,q=pe;break}Xe=Xe.sibling}if(!Ve)throw Error(v(189))}}if(q.alternate!==oe)throw Error(v(190))}if(q.tag!==3)throw Error(v(188));return q.stateNode.current===q?j:z}(x),!x)return null;for(var E=x;;){if(E.tag===5||E.tag===6)return E;if(E.child)E.child.return=E,E=E.child;else{if(E===x)break;for(;!E.sibling;){if(!E.return||E.return===x)return null;E=E.return}E.sibling.return=E.return,E=E.sibling}}return null}function dl(x,E){for(var j=x.alternate;E!==null;){if(E===x||E===j)return!0;E=E.return}return!1}var hl,fl,Ym,Cd,ou=!1,oo=[],Fo=null,ao=null,cr=null,ga=new Map,cc=new Map,pl=[],uc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function at(x,E,j,z,q){return{blockedOn:x,domEventName:E,eventSystemFlags:16|j,nativeEvent:q,targetContainers:[z]}}function gt(x,E){switch(x){case"focusin":case"focusout":Fo=null;break;case"dragenter":case"dragleave":ao=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":ga.delete(E.pointerId);break;case"gotpointercapture":case"lostpointercapture":cc.delete(E.pointerId)}}function _t(x,E,j,z,q,oe){return x===null||x.nativeEvent!==oe?(x=at(E,j,z,q,oe),E!==null&&(E=Lf(E))!==null&&fl(E),x):(x.eventSystemFlags|=z,E=x.targetContainers,q!==null&&E.indexOf(q)===-1&&E.push(q),x)}function oi(x){var E=mu(x.target);if(E!==null){var j=ma(E);if(j!==null){if((E=j.tag)===13){if((E=wf(j))!==null)return x.blockedOn=E,void Cd(x.lanePriority,function(){y.unstable_runWithPriority(x.priority,function(){Ym(j)})})}else if(E===3&&j.stateNode.hydrate)return void(x.blockedOn=j.tag===3?j.stateNode.containerInfo:null)}}x.blockedOn=null}function wi(x){if(x.blockedOn!==null)return!1;for(var E=x.targetContainers;0<E.length;){var j=Rd(x.domEventName,x.eventSystemFlags,E[0],x.nativeEvent);if(j!==null)return(E=Lf(j))!==null&&fl(E),x.blockedOn=j,!1;E.shift()}return!0}function Fr(x,E,j){wi(x)&&j.delete(E)}function au(){for(ou=!1;0<oo.length;){var x=oo[0];if(x.blockedOn!==null){(x=Lf(x.blockedOn))!==null&&hl(x);break}for(var E=x.targetContainers;0<E.length;){var j=Rd(x.domEventName,x.eventSystemFlags,E[0],x.nativeEvent);if(j!==null){x.blockedOn=j;break}E.shift()}x.blockedOn===null&&oo.shift()}Fo!==null&&wi(Fo)&&(Fo=null),ao!==null&&wi(ao)&&(ao=null),cr!==null&&wi(cr)&&(cr=null),ga.forEach(Fr),cc.forEach(Fr)}function wr(x,E){x.blockedOn===E&&(x.blockedOn=null,ou||(ou=!0,y.unstable_scheduleCallback(y.unstable_NormalPriority,au)))}function lo(x){function E(q){return wr(q,x)}if(0<oo.length){wr(oo[0],x);for(var j=1;j<oo.length;j++){var z=oo[j];z.blockedOn===x&&(z.blockedOn=null)}}for(Fo!==null&&wr(Fo,x),ao!==null&&wr(ao,x),cr!==null&&wr(cr,x),ga.forEach(E),cc.forEach(E),j=0;j<pl.length;j++)(z=pl[j]).blockedOn===x&&(z.blockedOn=null);for(;0<pl.length&&(j=pl[0]).blockedOn===null;)oi(j),j.blockedOn===null&&pl.shift()}function Td(x,E){var j={};return j[x.toLowerCase()]=E.toLowerCase(),j["Webkit"+x]="webkit"+E,j["Moz"+x]="moz"+E,j}var ba={animationend:Td("Animation","AnimationEnd"),animationiteration:Td("Animation","AnimationIteration"),animationstart:Td("Animation","AnimationStart"),transitionend:Td("Transition","TransitionEnd")},Dd={},X0={};function lu(x){if(Dd[x])return Dd[x];if(!ba[x])return x;var E,j=ba[x];for(E in j)if(j.hasOwnProperty(E)&&E in X0)return Dd[x]=j[E];return x}T&&(X0=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);var ml=lu("animationend"),Jm=lu("animationiteration"),Qm=lu("animationstart"),eg=lu("transitionend"),K0=new Map,tg=new Map,ng=["abort","abort",ml,"animationEnd",Jm,"animationIteration",Qm,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",eg,"transitionEnd","waiting","waiting"];function _f(x,E){for(var j=0;j<x.length;j+=2){var z=x[j],q=x[j+1];q="on"+(q[0].toUpperCase()+q.slice(1)),tg.set(z,E),K0.set(z,q),S(q,[z])}}(0,y.unstable_now)();var Pn=8;function gl(x){if(1&x)return Pn=15,1;if(2&x)return Pn=14,2;if(4&x)return Pn=13,4;var E=24&x;return E!==0?(Pn=12,E):32&x?(Pn=11,32):(E=192&x)!==0?(Pn=10,E):256&x?(Pn=9,256):(E=3584&x)!==0?(Pn=8,E):4096&x?(Pn=7,4096):(E=4186112&x)!==0?(Pn=6,E):(E=62914560&x)!==0?(Pn=5,E):67108864&x?(Pn=4,67108864):134217728&x?(Pn=3,134217728):(E=805306368&x)!==0?(Pn=2,E):1073741824&x?(Pn=1,1073741824):(Pn=8,x)}function cu(x,E){var j=x.pendingLanes;if(j===0)return Pn=0;var z=0,q=0,oe=x.expiredLanes,pe=x.suspendedLanes,De=x.pingedLanes;if(oe!==0)z=oe,q=Pn=15;else if((oe=134217727&j)!==0){var Ve=oe&~pe;Ve!==0?(z=gl(Ve),q=Pn):(De&=oe)!==0&&(z=gl(De),q=Pn)}else(oe=j&~pe)!==0?(z=gl(oe),q=Pn):De!==0&&(z=gl(De),q=Pn);if(z===0)return 0;if(z=j&((0>(z=31-yl(z))?0:1<<z)<<1)-1,E!==0&&E!==z&&(E&pe)==0){if(gl(E),q<=Pn)return E;Pn=q}if((E=x.entangledLanes)!==0)for(x=x.entanglements,E&=z;0<E;)q=1<<(j=31-yl(E)),z|=x[j],E&=~q;return z}function uu(x){return(x=-1073741825&x.pendingLanes)!==0?x:1073741824&x?1073741824:0}function kf(x,E){switch(x){case 15:return 1;case 14:return 2;case 12:return(x=bl(24&~E))===0?kf(10,E):x;case 10:return(x=bl(192&~E))===0?kf(8,E):x;case 8:return(x=bl(3584&~E))===0&&(x=bl(4186112&~E))===0&&(x=512),x;case 2:return(E=bl(805306368&~E))===0&&(E=268435456),E}throw Error(v(358,x))}function bl(x){return x&-x}function Nd(x){for(var E=[],j=0;31>j;j++)E.push(x);return E}function In(x,E,j){x.pendingLanes|=E;var z=E-1;x.suspendedLanes&=z,x.pingedLanes&=z,(x=x.eventTimes)[E=31-yl(E)]=j}var yl=Math.clz32?Math.clz32:function(x){return x===0?32:31-(Ef(x)/Z0|0)|0},Ef=Math.log,Z0=Math.LN2,Pd=y.unstable_UserBlockingPriority,Id=y.unstable_runWithPriority,co=!0;function Sf(x,E,j,z){Oo||Mo();var q=Af,oe=Oo;Oo=!0;try{ol(q,x,E,j,z)}finally{(Oo=oe)||so()}}function jd(x,E,j,z){Id(Pd,Af.bind(null,x,E,j,z))}function Af(x,E,j,z){var q;if(co)if((q=(4&E)==0)&&0<oo.length&&-1<uc.indexOf(x))x=at(null,x,E,j,z),oo.push(x);else{var oe=Rd(x,E,j,z);if(oe===null)q&&gt(x,z);else{if(q){if(-1<uc.indexOf(x))return x=at(oe,x,E,j,z),void oo.push(x);if(function(pe,De,Ve,Xe,ut){switch(De){case"focusin":return Fo=_t(Fo,pe,De,Ve,Xe,ut),!0;case"dragenter":return ao=_t(ao,pe,De,Ve,Xe,ut),!0;case"mouseover":return cr=_t(cr,pe,De,Ve,Xe,ut),!0;case"pointerover":var kt=ut.pointerId;return ga.set(kt,_t(ga.get(kt)||null,pe,De,Ve,Xe,ut)),!0;case"gotpointercapture":return kt=ut.pointerId,cc.set(kt,_t(cc.get(kt)||null,pe,De,Ve,Xe,ut)),!0}return!1}(oe,x,E,j,z))return;gt(x,z)}It(x,E,z,null,j)}}}function Rd(x,E,j,z){var q=Xn(z);if((q=mu(q))!==null){var oe=ma(q);if(oe===null)q=null;else{var pe=oe.tag;if(pe===13){if((q=wf(oe))!==null)return q;q=null}else if(pe===3){if(oe.stateNode.hydrate)return oe.tag===3?oe.stateNode.containerInfo:null;q=null}else oe!==q&&(q=null)}}return It(x,E,z,q,j),null}var vl=null,du=null,Md=null;function Y0(){if(Md)return Md;var x,E,j=du,z=j.length,q="value"in vl?vl.value:vl.textContent,oe=q.length;for(x=0;x<z&&j[x]===q[x];x++);var pe=z-x;for(E=1;E<=pe&&j[z-E]===q[oe-E];E++);return Md=q.slice(x,1<E?1-E:void 0)}function Cf(x){var E=x.keyCode;return"charCode"in x?(x=x.charCode)===0&&E===13&&(x=13):x=E,x===10&&(x=13),32<=x||x===13?x:0}function dc(){return!0}function Tf(){return!1}function as(x){function E(j,z,q,oe,pe){for(var De in this._reactName=j,this._targetInst=q,this.type=z,this.nativeEvent=oe,this.target=pe,this.currentTarget=null,x)x.hasOwnProperty(De)&&(j=x[De],this[De]=j?j(oe):oe[De]);return this.isDefaultPrevented=(oe.defaultPrevented!=null?oe.defaultPrevented:oe.returnValue===!1)?dc:Tf,this.isPropagationStopped=Tf,this}return g(E.prototype,{preventDefault:function(){this.defaultPrevented=!0;var j=this.nativeEvent;j&&(j.preventDefault?j.preventDefault():typeof j.returnValue!="unknown"&&(j.returnValue=!1),this.isDefaultPrevented=dc)},stopPropagation:function(){var j=this.nativeEvent;j&&(j.stopPropagation?j.stopPropagation():typeof j.cancelBubble!="unknown"&&(j.cancelBubble=!0),this.isPropagationStopped=dc)},persist:function(){},isPersistent:dc}),E}var ya,Od,Fd,uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(x){return x.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Df=as(uo),wl=g({},uo,{view:0,detail:0}),J0=as(wl),Ud=g({},wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ag,button:0,buttons:0,relatedTarget:function(x){return x.relatedTarget===void 0?x.fromElement===x.srcElement?x.toElement:x.fromElement:x.relatedTarget},movementX:function(x){return"movementX"in x?x.movementX:(x!==Fd&&(Fd&&x.type==="mousemove"?(ya=x.screenX-Fd.screenX,Od=x.screenY-Fd.screenY):Od=ya=0,Fd=x),ya)},movementY:function(x){return"movementY"in x?x.movementY:Od}}),ig=as(Ud),rg=as(g({},Ud,{dataTransfer:0})),Ld=as(g({},wl,{relatedTarget:0})),ix=as(g({},uo,{animationName:0,elapsedTime:0,pseudoElement:0})),Q0=g({},uo,{clipboardData:function(x){return"clipboardData"in x?x.clipboardData:window.clipboardData}}),rx=as(Q0),sg=as(g({},uo,{data:0})),og={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ey={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ty(x){var E=this.nativeEvent;return E.getModifierState?E.getModifierState(x):!!(x=ey[x])&&!!E[x]}function ag(){return ty}var ny=g({},wl,{key:function(x){if(x.key){var E=og[x.key]||x.key;if(E!=="Unidentified")return E}return x.type==="keypress"?(x=Cf(x))===13?"Enter":String.fromCharCode(x):x.type==="keydown"||x.type==="keyup"?sx[x.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ag,charCode:function(x){return x.type==="keypress"?Cf(x):0},keyCode:function(x){return x.type==="keydown"||x.type==="keyup"?x.keyCode:0},which:function(x){return x.type==="keypress"?Cf(x):x.type==="keydown"||x.type==="keyup"?x.keyCode:0}}),lg=as(ny),iy=as(g({},Ud,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),cg=as(g({},wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ag})),ug=as(g({},uo,{propertyName:0,elapsedTime:0,pseudoElement:0})),dg=g({},Ud,{deltaX:function(x){return"deltaX"in x?x.deltaX:"wheelDeltaX"in x?-x.wheelDeltaX:0},deltaY:function(x){return"deltaY"in x?x.deltaY:"wheelDeltaY"in x?-x.wheelDeltaY:"wheelDelta"in x?-x.wheelDelta:0},deltaZ:0,deltaMode:0}),hg=as(dg),ry=[9,13,27,32],Nf=T&&"CompositionEvent"in window,hu=null;T&&"documentMode"in document&&(hu=document.documentMode);var sy=T&&"TextEvent"in window&&!hu,fg=T&&(!Nf||hu&&8<hu&&11>=hu),oy=" ",pg=!1;function ay(x,E){switch(x){case"keyup":return ry.indexOf(E.keyCode)!==-1;case"keydown":return E.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ly(x){return typeof(x=x.detail)=="object"&&"data"in x?x.data:null}var fu=!1,hc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fc(x){var E=x&&x.nodeName&&x.nodeName.toLowerCase();return E==="input"?!!hc[x.type]:E==="textarea"}function cy(x,E,j,z){Ps(z),0<(E=nn(E,"onChange")).length&&(j=new Df("onChange","change",null,j,z),x.push({event:j,listeners:E}))}var Pf=null,xl=null;function If(x){kl(x,0)}function jf(x){if(qe($d(x)))return x}function uy(x,E){if(x==="change")return E}var mg=!1;if(T){var Rf;if(T){var Bd="oninput"in document;if(!Bd){var Ln=document.createElement("div");Ln.setAttribute("oninput","return;"),Bd=typeof Ln.oninput=="function"}Rf=Bd}else Rf=!1;mg=Rf&&(!document.documentMode||9<document.documentMode)}function gg(){Pf&&(Pf.detachEvent("onpropertychange",dy),xl=Pf=null)}function dy(x){if(x.propertyName==="value"&&jf(xl)){var E=[];if(cy(E,xl,x,Xn(x)),x=If,Oo)x(E);else{Oo=!0;try{Is(x,E)}finally{Oo=!1,so()}}}}function hy(x,E,j){x==="focusin"?(gg(),xl=j,(Pf=E).attachEvent("onpropertychange",dy)):x==="focusout"&&gg()}function ox(x){if(x==="selectionchange"||x==="keyup"||x==="keydown")return jf(xl)}function fy(x,E){if(x==="click")return jf(E)}function ax(x,E){if(x==="input"||x==="change")return jf(E)}var ls=typeof Object.is=="function"?Object.is:function(x,E){return x===E&&(x!==0||1/x==1/E)||x!=x&&E!=E},py=Object.prototype.hasOwnProperty;function zd(x,E){if(ls(x,E))return!0;if(typeof x!="object"||x===null||typeof E!="object"||E===null)return!1;var j=Object.keys(x),z=Object.keys(E);if(j.length!==z.length)return!1;for(z=0;z<j.length;z++)if(!py.call(E,j[z])||!ls(x[j[z]],E[j[z]]))return!1;return!0}function bg(x){for(;x&&x.firstChild;)x=x.firstChild;return x}function my(x,E){var j,z=bg(x);for(x=0;z;){if(z.nodeType===3){if(j=x+z.textContent.length,x<=E&&j>=E)return{node:z,offset:E-x};x=j}e:{for(;z;){if(z.nextSibling){z=z.nextSibling;break e}z=z.parentNode}z=void 0}z=bg(z)}}function yg(x,E){return!(!x||!E)&&(x===E||(!x||x.nodeType!==3)&&(E&&E.nodeType===3?yg(x,E.parentNode):"contains"in x?x.contains(E):!!x.compareDocumentPosition&&!!(16&x.compareDocumentPosition(E))))}function Vd(){for(var x=window,E=Oe();E instanceof x.HTMLIFrameElement;){try{var j=typeof E.contentWindow.location.href=="string"}catch{j=!1}if(!j)break;E=Oe((x=E.contentWindow).document)}return E}function Mf(x){var E=x&&x.nodeName&&x.nodeName.toLowerCase();return E&&(E==="input"&&(x.type==="text"||x.type==="search"||x.type==="tel"||x.type==="url"||x.type==="password")||E==="textarea"||x.contentEditable==="true")}var Bn=T&&"documentMode"in document&&11>=document.documentMode,va=null,pu=null,$n=null,_l=!1;function Of(x,E,j){var z=j.window===j?j.document:j.nodeType===9?j:j.ownerDocument;_l||va==null||va!==Oe(z)||("selectionStart"in(z=va)&&Mf(z)?z={start:z.selectionStart,end:z.selectionEnd}:z={anchorNode:(z=(z.ownerDocument&&z.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:z.anchorOffset,focusNode:z.focusNode,focusOffset:z.focusOffset},$n&&zd($n,z)||($n=z,0<(z=nn(pu,"onSelect")).length&&(E=new Df("onSelect","select",null,E,j),x.push({event:E,listeners:z}),E.target=va)))}_f("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),_f("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),_f(ng,2);for(var gy="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),ho=0;ho<gy.length;ho++)tg.set(gy[ho],0);C("onMouseEnter",["mouseout","mouseover"]),C("onMouseLeave",["mouseout","mouseover"]),C("onPointerEnter",["pointerout","pointerover"]),C("onPointerLeave",["pointerout","pointerover"]),S("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),S("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),S("onBeforeInput",["compositionend","keypress","textInput","paste"]),S("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),S("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),S("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ff=new Set("cancel close invalid load scroll toggle".split(" ").concat(wa));function ur(x,E,j){var z=x.type||"unknown-event";x.currentTarget=j,function(q,oe,pe,De,Ve,Xe,ut,kt,lt){if(Zm.apply(this,arguments),Or){if(!Or)throw Error(v(198));var zt=os;Or=!1,os=null,ul||(ul=!0,lc=zt)}}(z,E,void 0,x),x.currentTarget=null}function kl(x,E){E=(4&E)!=0;for(var j=0;j<x.length;j++){var z=x[j],q=z.event;z=z.listeners;e:{var oe=void 0;if(E)for(var pe=z.length-1;0<=pe;pe--){var De=z[pe],Ve=De.instance,Xe=De.currentTarget;if(De=De.listener,Ve!==oe&&q.isPropagationStopped())break e;ur(q,De,Xe),oe=Ve}else for(pe=0;pe<z.length;pe++){if(Ve=(De=z[pe]).instance,Xe=De.currentTarget,De=De.listener,Ve!==oe&&q.isPropagationStopped())break e;ur(q,De,Xe),oe=Ve}}}if(ul)throw x=lc,ul=!1,lc=null,x}function qn(x,E){var j=by(E),z=x+"__bubble";j.has(z)||(Ye(E,x,2,!1),j.add(z))}var ye="_reactListening"+Math.random().toString(36).slice(2);function de(x){x[ye]||(x[ye]=!0,_.forEach(function(E){Ff.has(E)||Le(E,!1,x,null),Le(E,!0,x,null)}))}function Le(x,E,j,z){var q=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,oe=j;x==="selectionchange"&&j.nodeType!==9&&(oe=j.ownerDocument);var pe=by(oe),De=x+"__"+(E?"capture":"bubble");pe.has(De)||(E&&(q|=4),Ye(oe,x,q,E),pe.add(De))}function Ye(x,E,j,z){var q=tg.get(E);switch(q===void 0?2:q){case 0:q=Sf;break;case 1:q=jd;break;default:q=Af}j=q.bind(null,E,j,x),q=void 0,!Si||E!=="touchstart"&&E!=="touchmove"&&E!=="wheel"||(q=!0),z?q!==void 0?x.addEventListener(E,j,{capture:!0,passive:q}):x.addEventListener(E,j,!0):q!==void 0?x.addEventListener(E,j,{passive:q}):x.addEventListener(E,j,!1)}function It(x,E,j,z,q){var oe=z;if(!(1&E)&&!(2&E)&&z!==null)e:for(;;){if(z===null)return;var pe=z.tag;if(pe===3||pe===4){var De=z.stateNode.containerInfo;if(De===q||De.nodeType===8&&De.parentNode===q)break;if(pe===4)for(pe=z.return;pe!==null;){var Ve=pe.tag;if((Ve===3||Ve===4)&&((Ve=pe.stateNode.containerInfo)===q||Ve.nodeType===8&&Ve.parentNode===q))return;pe=pe.return}for(;De!==null;){if((pe=mu(De))===null)return;if((Ve=pe.tag)===5||Ve===6){z=oe=pe;continue e}De=De.parentNode}}z=z.return}(function(Xe,ut,kt){if(ll)return Xe(ut,kt);ll=!0;try{return al(Xe,ut,kt)}finally{ll=!1,so()}})(function(){var Xe=oe,ut=Xn(j),kt=[];e:{var lt=K0.get(x);if(lt!==void 0){var zt=Df,an=x;switch(x){case"keypress":if(Cf(j)===0)break e;case"keydown":case"keyup":zt=lg;break;case"focusin":an="focus",zt=Ld;break;case"focusout":an="blur",zt=Ld;break;case"beforeblur":case"afterblur":zt=Ld;break;case"click":if(j.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":zt=ig;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":zt=rg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":zt=cg;break;case ml:case Jm:case Qm:zt=ix;break;case eg:zt=ug;break;case"scroll":zt=J0;break;case"wheel":zt=hg;break;case"copy":case"cut":case"paste":zt=rx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":zt=iy}var en=(4&E)!=0,Ze=!en&&x==="scroll",Ge=en?lt!==null?lt+"Capture":null:lt;en=[];for(var Ke,tt=Xe;tt!==null;){var rt=(Ke=tt).stateNode;if(Ke.tag===5&&rt!==null&&(Ke=rt,Ge!==null&&(rt=js(tt,Ge))!=null&&en.push(Qt(tt,rt,Ke))),Ze)break;tt=tt.return}0<en.length&&(lt=new zt(lt,an,null,j,ut),kt.push({event:lt,listeners:en}))}}if(!(7&E)){if(zt=x==="mouseout"||x==="pointerout",(!(lt=x==="mouseover"||x==="pointerover")||(16&E)!=0||!(an=j.relatedTarget||j.fromElement)||!mu(an)&&!an[Uf])&&(zt||lt)&&(lt=ut.window===ut?ut:(lt=ut.ownerDocument)?lt.defaultView||lt.parentWindow:window,zt?(zt=Xe,(an=(an=j.relatedTarget||j.toElement)?mu(an):null)!==null&&(an!==(Ze=ma(an))||an.tag!==5&&an.tag!==6)&&(an=null)):(zt=null,an=Xe),zt!==an)){if(en=ig,rt="onMouseLeave",Ge="onMouseEnter",tt="mouse",x!=="pointerout"&&x!=="pointerover"||(en=iy,rt="onPointerLeave",Ge="onPointerEnter",tt="pointer"),Ze=zt==null?lt:$d(zt),Ke=an==null?lt:$d(an),(lt=new en(rt,tt+"leave",zt,j,ut)).target=Ze,lt.relatedTarget=Ke,rt=null,mu(ut)===Xe&&((en=new en(Ge,tt+"enter",an,j,ut)).target=Ke,en.relatedTarget=Ze,rt=en),Ze=rt,zt&&an)e:{for(Ge=an,tt=0,Ke=en=zt;Ke;Ke=vt(Ke))tt++;for(Ke=0,rt=Ge;rt;rt=vt(rt))Ke++;for(;0<tt-Ke;)en=vt(en),tt--;for(;0<Ke-tt;)Ge=vt(Ge),Ke--;for(;tt--;){if(en===Ge||Ge!==null&&en===Ge.alternate)break e;en=vt(en),Ge=vt(Ge)}en=null}else en=null;zt!==null&&qi(kt,lt,zt,en,!1),an!==null&&Ze!==null&&qi(kt,Ze,an,en,!0)}if((zt=(lt=Xe?$d(Xe):window).nodeName&&lt.nodeName.toLowerCase())==="select"||zt==="input"&&lt.type==="file")var Kt=uy;else if(fc(lt))if(mg)Kt=ax;else{Kt=ox;var Et=hy}else(zt=lt.nodeName)&&zt.toLowerCase()==="input"&&(lt.type==="checkbox"||lt.type==="radio")&&(Kt=fy);switch(Kt&&(Kt=Kt(x,Xe))?cy(kt,Kt,j,ut):(Et&&Et(x,lt,Xe),x==="focusout"&&(Et=lt._wrapperState)&&Et.controlled&&lt.type==="number"&&nt(lt,"number",lt.value)),Et=Xe?$d(Xe):window,x){case"focusin":(fc(Et)||Et.contentEditable==="true")&&(va=Et,pu=Xe,$n=null);break;case"focusout":$n=pu=va=null;break;case"mousedown":_l=!0;break;case"contextmenu":case"mouseup":case"dragend":_l=!1,Of(kt,j,ut);break;case"selectionchange":if(Bn)break;case"keydown":case"keyup":Of(kt,j,ut)}var ln;if(Nf)e:{switch(x){case"compositionstart":var Ft="onCompositionStart";break e;case"compositionend":Ft="onCompositionEnd";break e;case"compositionupdate":Ft="onCompositionUpdate";break e}Ft=void 0}else fu?ay(x,j)&&(Ft="onCompositionEnd"):x==="keydown"&&j.keyCode===229&&(Ft="onCompositionStart");Ft&&(fg&&j.locale!=="ko"&&(fu||Ft!=="onCompositionStart"?Ft==="onCompositionEnd"&&fu&&(ln=Y0()):(du="value"in(vl=ut)?vl.value:vl.textContent,fu=!0)),0<(Et=nn(Xe,Ft)).length&&(Ft=new sg(Ft,x,null,j,ut),kt.push({event:Ft,listeners:Et}),(ln||(ln=ly(j))!==null)&&(Ft.data=ln))),(ln=sy?function(Vt,Xt){switch(Vt){case"compositionend":return ly(Xt);case"keypress":return Xt.which!==32?null:(pg=!0,oy);case"textInput":return(Vt=Xt.data)===oy&&pg?null:Vt;default:return null}}(x,j):function(Vt,Xt){if(fu)return Vt==="compositionend"||!Nf&&ay(Vt,Xt)?(Vt=Y0(),Md=du=vl=null,fu=!1,Vt):null;switch(Vt){case"paste":default:return null;case"keypress":if(!(Xt.ctrlKey||Xt.altKey||Xt.metaKey)||Xt.ctrlKey&&Xt.altKey){if(Xt.char&&1<Xt.char.length)return Xt.char;if(Xt.which)return String.fromCharCode(Xt.which)}return null;case"compositionend":return fg&&Xt.locale!=="ko"?null:Xt.data}}(x,j))&&0<(Xe=nn(Xe,"onBeforeInput")).length&&(ut=new sg("onBeforeInput","beforeinput",null,j,ut),kt.push({event:ut,listeners:Xe}),ut.data=ln)}kl(kt,E)})}function Qt(x,E,j){return{instance:x,listener:E,currentTarget:j}}function nn(x,E){for(var j=E+"Capture",z=[];x!==null;){var q=x,oe=q.stateNode;q.tag===5&&oe!==null&&(q=oe,(oe=js(x,j))!=null&&z.unshift(Qt(x,oe,q)),(oe=js(x,E))!=null&&z.push(Qt(x,oe,q))),x=x.return}return z}function vt(x){if(x===null)return null;do x=x.return;while(x&&x.tag!==5);return x||null}function qi(x,E,j,z,q){for(var oe=E._reactName,pe=[];j!==null&&j!==z;){var De=j,Ve=De.alternate,Xe=De.stateNode;if(Ve!==null&&Ve===z)break;De.tag===5&&Xe!==null&&(De=Xe,q?(Ve=js(j,oe))!=null&&pe.unshift(Qt(j,Ve,De)):q||(Ve=js(j,oe))!=null&&pe.push(Qt(j,Ve,De))),j=j.return}pe.length!==0&&x.push({event:E,listeners:pe})}function jn(){}var xa=null,Uo=null;function wn(x,E){switch(x){case"button":case"input":case"select":case"textarea":return!!E.autoFocus}return!1}function Ur(x,E){return x==="textarea"||x==="option"||x==="noscript"||typeof E.children=="string"||typeof E.children=="number"||typeof E.dangerouslySetInnerHTML=="object"&&E.dangerouslySetInnerHTML!==null&&E.dangerouslySetInnerHTML.__html!=null}var Lr=typeof setTimeout=="function"?setTimeout:void 0,pc=typeof clearTimeout=="function"?clearTimeout:void 0;function Wd(x){(x.nodeType===1||x.nodeType===9&&(x=x.body)!=null)&&(x.textContent="")}function Ms(x){for(;x!=null;x=x.nextSibling){var E=x.nodeType;if(E===1||E===3)break}return x}function Ai(x){x=x.previousSibling;for(var E=0;x;){if(x.nodeType===8){var j=x.data;if(j==="$"||j==="$!"||j==="$?"){if(E===0)return x;E--}else j==="/$"&&E++}x=x.previousSibling}return null}var cs=0,fo=Math.random().toString(36).slice(2),mc="__reactFiber$"+fo,vg="__reactProps$"+fo,Uf="__reactContainer$"+fo,dA="__reactEvents$"+fo;function mu(x){var E=x[mc];if(E)return E;for(var j=x.parentNode;j;){if(E=j[Uf]||j[mc]){if(j=E.alternate,E.child!==null||j!==null&&j.child!==null)for(x=Ai(x);x!==null;){if(j=x[mc])return j;x=Ai(x)}return E}j=(x=j).parentNode}return null}function Lf(x){return!(x=x[mc]||x[Uf])||x.tag!==5&&x.tag!==6&&x.tag!==13&&x.tag!==3?null:x}function $d(x){if(x.tag===5||x.tag===6)return x.stateNode;throw Error(v(33))}function wg(x){return x[vg]||null}function by(x){var E=x[dA];return E===void 0&&(E=x[dA]=new Set),E}var lx=[],qd=-1;function gu(x){return{current:x}}function li(x){0>qd||(x.current=lx[qd],lx[qd]=null,qd--)}function Gt(x,E){qd++,lx[qd]=x.current,x.current=E}var bu={},Ri=gu(bu),Br=gu(!1),yu=bu;function vu(x,E){var j=x.type.contextTypes;if(!j)return bu;var z=x.stateNode;if(z&&z.__reactInternalMemoizedUnmaskedChildContext===E)return z.__reactInternalMemoizedMaskedChildContext;var q,oe={};for(q in j)oe[q]=E[q];return z&&((x=x.stateNode).__reactInternalMemoizedUnmaskedChildContext=E,x.__reactInternalMemoizedMaskedChildContext=oe),oe}function Rn(x){return(x=x.childContextTypes)!=null}function cx(){li(Br),li(Ri)}function hA(x,E,j){if(Ri.current!==bu)throw Error(v(168));Gt(Ri,E),Gt(Br,j)}function ux(x,E,j){var z=x.stateNode;if(x=E.childContextTypes,typeof z.getChildContext!="function")return j;for(var q in z=z.getChildContext())if(!(q in x))throw Error(v(108,be(E)||"Unknown",q));return g({},j,z)}function yy(x){return x=(x=x.stateNode)&&x.__reactInternalMemoizedMergedChildContext||bu,yu=Ri.current,Gt(Ri,x),Gt(Br,Br.current),!0}function Os(x,E,j){var z=x.stateNode;if(!z)throw Error(v(169));j?(x=ux(x,E,yu),z.__reactInternalMemoizedMergedChildContext=x,li(Br),li(Ri),Gt(Ri,x)):li(Br),Gt(Br,j)}var ci=null,Hi=null,_a=y.unstable_runWithPriority,ka=y.unstable_scheduleCallback,xg=y.unstable_cancelCallback,dx=y.unstable_shouldYield,vy=y.unstable_requestPaint,hx=y.unstable_now,fA=y.unstable_getCurrentPriorityLevel,Lo=y.unstable_ImmediatePriority,pA=y.unstable_UserBlockingPriority,jt=y.unstable_NormalPriority,mA=y.unstable_LowPriority,Rt=y.unstable_IdlePriority,fx={},Ot=vy!==void 0?vy:function(){},gc=null,Tt=null,px=!1,Mt=hx(),Qi=1e4>Mt?hx:function(){return hx()-Mt};function El(){switch(fA()){case Lo:return 99;case pA:return 98;case jt:return 97;case mA:return 96;case Rt:return 95;default:throw Error(v(332))}}function on(x){switch(x){case 99:return Lo;case 98:return pA;case 97:return jt;case 96:return mA;case 95:return Rt;default:throw Error(v(332))}}function dr(x,E){return x=on(x),_a(x,E)}function bc(x,E,j){return x=on(x),ka(x,E,j)}function Sl(){if(Tt!==null){var x=Tt;Tt=null,xg(x)}mx()}function mx(){if(!px&&gc!==null){px=!0;var x=0;try{var E=gc;dr(99,function(){for(;x<E.length;x++){var j=E[x];do j=j(!0);while(j!==null)}}),gc=null}catch(j){throw gc!==null&&(gc=gc.slice(x+1)),ka(Lo,Sl),j}finally{px=!1}}}var wy=me.ReactCurrentBatchConfig;function Bo(x,E){if(x&&x.defaultProps){for(var j in E=g({},E),x=x.defaultProps)E[j]===void 0&&(E[j]=x[j]);return E}return E}var xy=gu(null),_y=null,Bf=null,_g=null;function ky(){_g=Bf=_y=null}function Ey(x){var E=xy.current;li(xy),x.type._context._currentValue=E}function gx(x,E){for(;x!==null;){var j=x.alternate;if((x.childLanes&E)===E){if(j===null||(j.childLanes&E)===E)break;j.childLanes|=E}else x.childLanes|=E,j!==null&&(j.childLanes|=E);x=x.return}}function Hd(x,E){_y=x,_g=Bf=null,(x=x.dependencies)!==null&&x.firstContext!==null&&(x.lanes&E&&(yo=!0),x.firstContext=null)}function po(x,E){if(_g!==x&&E!==!1&&E!==0)if(typeof E=="number"&&E!==1073741823||(_g=x,E=1073741823),E={context:x,observedBits:E,next:null},Bf===null){if(_y===null)throw Error(v(308));Bf=E,_y.dependencies={lanes:0,firstContext:E,responders:null}}else Bf=Bf.next=E;return x._currentValue}var mo=!1;function zf(x){x.updateQueue={baseState:x.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Sy(x,E){x=x.updateQueue,E.updateQueue===x&&(E.updateQueue={baseState:x.baseState,firstBaseUpdate:x.firstBaseUpdate,lastBaseUpdate:x.lastBaseUpdate,shared:x.shared,effects:x.effects})}function Al(x,E){return{eventTime:x,lane:E,tag:0,payload:null,callback:null,next:null}}function yc(x,E){if((x=x.updateQueue)!==null){var j=(x=x.shared).pending;j===null?E.next=E:(E.next=j.next,j.next=E),x.pending=E}}function bx(x,E){var j=x.updateQueue,z=x.alternate;if(z!==null&&j===(z=z.updateQueue)){var q=null,oe=null;if((j=j.firstBaseUpdate)!==null){do{var pe={eventTime:j.eventTime,lane:j.lane,tag:j.tag,payload:j.payload,callback:j.callback,next:null};oe===null?q=oe=pe:oe=oe.next=pe,j=j.next}while(j!==null);oe===null?q=oe=E:oe=oe.next=E}else q=oe=E;return j={baseState:z.baseState,firstBaseUpdate:q,lastBaseUpdate:oe,shared:z.shared,effects:z.effects},void(x.updateQueue=j)}(x=j.lastBaseUpdate)===null?j.firstBaseUpdate=E:x.next=E,j.lastBaseUpdate=E}function kg(x,E,j,z){var q=x.updateQueue;mo=!1;var oe=q.firstBaseUpdate,pe=q.lastBaseUpdate,De=q.shared.pending;if(De!==null){q.shared.pending=null;var Ve=De,Xe=Ve.next;Ve.next=null,pe===null?oe=Xe:pe.next=Xe,pe=Ve;var ut=x.alternate;if(ut!==null){var kt=(ut=ut.updateQueue).lastBaseUpdate;kt!==pe&&(kt===null?ut.firstBaseUpdate=Xe:kt.next=Xe,ut.lastBaseUpdate=Ve)}}if(oe!==null){for(kt=q.baseState,pe=0,ut=Xe=Ve=null;;){De=oe.lane;var lt=oe.eventTime;if((z&De)===De){ut!==null&&(ut=ut.next={eventTime:lt,lane:0,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null});e:{var zt=x,an=oe;switch(De=E,lt=j,an.tag){case 1:if(typeof(zt=an.payload)=="function"){kt=zt.call(lt,kt,De);break e}kt=zt;break e;case 3:zt.flags=-4097&zt.flags|64;case 0:if((De=typeof(zt=an.payload)=="function"?zt.call(lt,kt,De):zt)==null)break e;kt=g({},kt,De);break e;case 2:mo=!0}}oe.callback!==null&&(x.flags|=32,(De=q.effects)===null?q.effects=[oe]:De.push(oe))}else lt={eventTime:lt,lane:De,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},ut===null?(Xe=ut=lt,Ve=kt):ut=ut.next=lt,pe|=De;if((oe=oe.next)===null){if((De=q.shared.pending)===null)break;oe=De.next,De.next=null,q.lastBaseUpdate=De,q.shared.pending=null}}ut===null&&(Ve=kt),q.baseState=Ve,q.firstBaseUpdate=Xe,q.lastBaseUpdate=ut,Qd|=pe,x.lanes=pe,x.memoizedState=kt}}function Eg(x,E,j){if(x=E.effects,E.effects=null,x!==null)for(E=0;E<x.length;E++){var z=x[E],q=z.callback;if(q!==null){if(z.callback=null,z=j,typeof q!="function")throw Error(v(191,q));q.call(z)}}}var Vf=new m.Component().refs;function zo(x,E,j,z){j=(j=j(z,E=x.memoizedState))==null?E:g({},E,j),x.memoizedState=j,x.lanes===0&&(x.updateQueue.baseState=j)}var Ay={isMounted:function(x){return!!(x=x._reactInternals)&&ma(x)===x},enqueueSetState:function(x,E,j){x=x._reactInternals;var z=ai(),q=Vo(x),oe=Al(z,q);oe.payload=E,j!=null&&(oe.callback=j),yc(x,oe),Sc(x,q,z)},enqueueReplaceState:function(x,E,j){x=x._reactInternals;var z=ai(),q=Vo(x),oe=Al(z,q);oe.tag=1,oe.payload=E,j!=null&&(oe.callback=j),yc(x,oe),Sc(x,q,z)},enqueueForceUpdate:function(x,E){x=x._reactInternals;var j=ai(),z=Vo(x),q=Al(j,z);q.tag=2,E!=null&&(q.callback=E),yc(x,q),Sc(x,z,j)}};function Sg(x,E,j,z,q,oe,pe){return typeof(x=x.stateNode).shouldComponentUpdate=="function"?x.shouldComponentUpdate(z,oe,pe):!E.prototype||!E.prototype.isPureReactComponent||!zd(j,z)||!zd(q,oe)}function Wf(x,E,j){var z=!1,q=bu,oe=E.contextType;return typeof oe=="object"&&oe!==null?oe=po(oe):(q=Rn(E)?yu:Ri.current,oe=(z=(z=E.contextTypes)!=null)?vu(x,q):bu),E=new E(j,oe),x.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=Ay,x.stateNode=E,E._reactInternals=x,z&&((x=x.stateNode).__reactInternalMemoizedUnmaskedChildContext=q,x.__reactInternalMemoizedMaskedChildContext=oe),E}function Mn(x,E,j,z){x=E.state,typeof E.componentWillReceiveProps=="function"&&E.componentWillReceiveProps(j,z),typeof E.UNSAFE_componentWillReceiveProps=="function"&&E.UNSAFE_componentWillReceiveProps(j,z),E.state!==x&&Ay.enqueueReplaceState(E,E.state,null)}function $f(x,E,j,z){var q=x.stateNode;q.props=j,q.state=x.memoizedState,q.refs=Vf,zf(x);var oe=E.contextType;typeof oe=="object"&&oe!==null?q.context=po(oe):(oe=Rn(E)?yu:Ri.current,q.context=vu(x,oe)),kg(x,j,q,z),q.state=x.memoizedState,typeof(oe=E.getDerivedStateFromProps)=="function"&&(zo(x,E,oe,j),q.state=x.memoizedState),typeof E.getDerivedStateFromProps=="function"||typeof q.getSnapshotBeforeUpdate=="function"||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(E=q.state,typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount(),E!==q.state&&Ay.enqueueReplaceState(q,q.state,null),kg(x,j,q,z),q.state=x.memoizedState),typeof q.componentDidMount=="function"&&(x.flags|=4)}var wu=Array.isArray;function xu(x,E,j){if((x=j.ref)!==null&&typeof x!="function"&&typeof x!="object"){if(j._owner){if(j=j._owner){if(j.tag!==1)throw Error(v(309));var z=j.stateNode}if(!z)throw Error(v(147,x));var q=""+x;return E!==null&&E.ref!==null&&typeof E.ref=="function"&&E.ref._stringRef===q?E.ref:(E=function(oe){var pe=z.refs;pe===Vf&&(pe=z.refs={}),oe===null?delete pe[q]:pe[q]=oe},E._stringRef=q,E)}if(typeof x!="string")throw Error(v(284));if(!j._owner)throw Error(v(290,x))}return x}function Gd(x,E){if(x.type!=="textarea")throw Error(v(31,Object.prototype.toString.call(E)==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":E))}function qf(x){function E(Ze,Ge){if(x){var Ke=Ze.lastEffect;Ke!==null?(Ke.nextEffect=Ge,Ze.lastEffect=Ge):Ze.firstEffect=Ze.lastEffect=Ge,Ge.nextEffect=null,Ge.flags=8}}function j(Ze,Ge){if(!x)return null;for(;Ge!==null;)E(Ze,Ge),Ge=Ge.sibling;return null}function z(Ze,Ge){for(Ze=new Map;Ge!==null;)Ge.key!==null?Ze.set(Ge.key,Ge):Ze.set(Ge.index,Ge),Ge=Ge.sibling;return Ze}function q(Ze,Ge){return(Ze=Fu(Ze,Ge)).index=0,Ze.sibling=null,Ze}function oe(Ze,Ge,Ke){return Ze.index=Ke,x?(Ke=Ze.alternate)!==null?(Ke=Ke.index)<Ge?(Ze.flags=2,Ge):Ke:(Ze.flags=2,Ge):Ge}function pe(Ze){return x&&Ze.alternate===null&&(Ze.flags=2),Ze}function De(Ze,Ge,Ke,tt){return Ge===null||Ge.tag!==6?((Ge=Vx(Ke,Ze.mode,tt)).return=Ze,Ge):((Ge=q(Ge,Ke)).return=Ze,Ge)}function Ve(Ze,Ge,Ke,tt){return Ge!==null&&Ge.elementType===Ke.type?((tt=q(Ge,Ke.props)).ref=xu(Ze,Ge,Ke),tt.return=Ze,tt):((tt=Xy(Ke.type,Ke.key,Ke.props,null,Ze.mode,tt)).ref=xu(Ze,Ge,Ke),tt.return=Ze,tt)}function Xe(Ze,Ge,Ke,tt){return Ge===null||Ge.tag!==4||Ge.stateNode.containerInfo!==Ke.containerInfo||Ge.stateNode.implementation!==Ke.implementation?((Ge=ih(Ke,Ze.mode,tt)).return=Ze,Ge):((Ge=q(Ge,Ke.children||[])).return=Ze,Ge)}function ut(Ze,Ge,Ke,tt,rt){return Ge===null||Ge.tag!==7?((Ge=nh(Ke,Ze.mode,tt,rt)).return=Ze,Ge):((Ge=q(Ge,Ke)).return=Ze,Ge)}function kt(Ze,Ge,Ke){if(typeof Ge=="string"||typeof Ge=="number")return(Ge=Vx(""+Ge,Ze.mode,Ke)).return=Ze,Ge;if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case Q:return(Ke=Xy(Ge.type,Ge.key,Ge.props,null,Ze.mode,Ke)).ref=xu(Ze,null,Ge),Ke.return=Ze,Ke;case ge:return(Ge=ih(Ge,Ze.mode,Ke)).return=Ze,Ge}if(wu(Ge)||ke(Ge))return(Ge=nh(Ge,Ze.mode,Ke,null)).return=Ze,Ge;Gd(Ze,Ge)}return null}function lt(Ze,Ge,Ke,tt){var rt=Ge!==null?Ge.key:null;if(typeof Ke=="string"||typeof Ke=="number")return rt!==null?null:De(Ze,Ge,""+Ke,tt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case Q:return Ke.key===rt?Ke.type===$?ut(Ze,Ge,Ke.props.children,tt,rt):Ve(Ze,Ge,Ke,tt):null;case ge:return Ke.key===rt?Xe(Ze,Ge,Ke,tt):null}if(wu(Ke)||ke(Ke))return rt!==null?null:ut(Ze,Ge,Ke,tt,null);Gd(Ze,Ke)}return null}function zt(Ze,Ge,Ke,tt,rt){if(typeof tt=="string"||typeof tt=="number")return De(Ge,Ze=Ze.get(Ke)||null,""+tt,rt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case Q:return Ze=Ze.get(tt.key===null?Ke:tt.key)||null,tt.type===$?ut(Ge,Ze,tt.props.children,rt,tt.key):Ve(Ge,Ze,tt,rt);case ge:return Xe(Ge,Ze=Ze.get(tt.key===null?Ke:tt.key)||null,tt,rt)}if(wu(tt)||ke(tt))return ut(Ge,Ze=Ze.get(Ke)||null,tt,rt,null);Gd(Ge,tt)}return null}function an(Ze,Ge,Ke,tt){for(var rt=null,Kt=null,Et=Ge,ln=Ge=0,Ft=null;Et!==null&&ln<Ke.length;ln++){Et.index>ln?(Ft=Et,Et=null):Ft=Et.sibling;var Vt=lt(Ze,Et,Ke[ln],tt);if(Vt===null){Et===null&&(Et=Ft);break}x&&Et&&Vt.alternate===null&&E(Ze,Et),Ge=oe(Vt,Ge,ln),Kt===null?rt=Vt:Kt.sibling=Vt,Kt=Vt,Et=Ft}if(ln===Ke.length)return j(Ze,Et),rt;if(Et===null){for(;ln<Ke.length;ln++)(Et=kt(Ze,Ke[ln],tt))!==null&&(Ge=oe(Et,Ge,ln),Kt===null?rt=Et:Kt.sibling=Et,Kt=Et);return rt}for(Et=z(Ze,Et);ln<Ke.length;ln++)(Ft=zt(Et,Ze,ln,Ke[ln],tt))!==null&&(x&&Ft.alternate!==null&&Et.delete(Ft.key===null?ln:Ft.key),Ge=oe(Ft,Ge,ln),Kt===null?rt=Ft:Kt.sibling=Ft,Kt=Ft);return x&&Et.forEach(function(Xt){return E(Ze,Xt)}),rt}function en(Ze,Ge,Ke,tt){var rt=ke(Ke);if(typeof rt!="function")throw Error(v(150));if((Ke=rt.call(Ke))==null)throw Error(v(151));for(var Kt=rt=null,Et=Ge,ln=Ge=0,Ft=null,Vt=Ke.next();Et!==null&&!Vt.done;ln++,Vt=Ke.next()){Et.index>ln?(Ft=Et,Et=null):Ft=Et.sibling;var Xt=lt(Ze,Et,Vt.value,tt);if(Xt===null){Et===null&&(Et=Ft);break}x&&Et&&Xt.alternate===null&&E(Ze,Et),Ge=oe(Xt,Ge,ln),Kt===null?rt=Xt:Kt.sibling=Xt,Kt=Xt,Et=Ft}if(Vt.done)return j(Ze,Et),rt;if(Et===null){for(;!Vt.done;ln++,Vt=Ke.next())(Vt=kt(Ze,Vt.value,tt))!==null&&(Ge=oe(Vt,Ge,ln),Kt===null?rt=Vt:Kt.sibling=Vt,Kt=Vt);return rt}for(Et=z(Ze,Et);!Vt.done;ln++,Vt=Ke.next())(Vt=zt(Et,Ze,ln,Vt.value,tt))!==null&&(x&&Vt.alternate!==null&&Et.delete(Vt.key===null?ln:Vt.key),Ge=oe(Vt,Ge,ln),Kt===null?rt=Vt:Kt.sibling=Vt,Kt=Vt);return x&&Et.forEach(function(jl){return E(Ze,jl)}),rt}return function(Ze,Ge,Ke,tt){var rt=typeof Ke=="object"&&Ke!==null&&Ke.type===$&&Ke.key===null;rt&&(Ke=Ke.props.children);var Kt=typeof Ke=="object"&&Ke!==null;if(Kt)switch(Ke.$$typeof){case Q:e:{for(Kt=Ke.key,rt=Ge;rt!==null;){if(rt.key===Kt){if(rt.tag===7){if(Ke.type===$){j(Ze,rt.sibling),(Ge=q(rt,Ke.props.children)).return=Ze,Ze=Ge;break e}}else if(rt.elementType===Ke.type){j(Ze,rt.sibling),(Ge=q(rt,Ke.props)).ref=xu(Ze,rt,Ke),Ge.return=Ze,Ze=Ge;break e}j(Ze,rt);break}E(Ze,rt),rt=rt.sibling}Ke.type===$?((Ge=nh(Ke.props.children,Ze.mode,tt,Ke.key)).return=Ze,Ze=Ge):((tt=Xy(Ke.type,Ke.key,Ke.props,null,Ze.mode,tt)).ref=xu(Ze,Ge,Ke),tt.return=Ze,Ze=tt)}return pe(Ze);case ge:e:{for(rt=Ke.key;Ge!==null;){if(Ge.key===rt){if(Ge.tag===4&&Ge.stateNode.containerInfo===Ke.containerInfo&&Ge.stateNode.implementation===Ke.implementation){j(Ze,Ge.sibling),(Ge=q(Ge,Ke.children||[])).return=Ze,Ze=Ge;break e}j(Ze,Ge);break}E(Ze,Ge),Ge=Ge.sibling}(Ge=ih(Ke,Ze.mode,tt)).return=Ze,Ze=Ge}return pe(Ze)}if(typeof Ke=="string"||typeof Ke=="number")return Ke=""+Ke,Ge!==null&&Ge.tag===6?(j(Ze,Ge.sibling),(Ge=q(Ge,Ke)).return=Ze,Ze=Ge):(j(Ze,Ge),(Ge=Vx(Ke,Ze.mode,tt)).return=Ze,Ze=Ge),pe(Ze);if(wu(Ke))return an(Ze,Ge,Ke,tt);if(ke(Ke))return en(Ze,Ge,Ke,tt);if(Kt&&Gd(Ze,Ke),Ke===void 0&&!rt)switch(Ze.tag){case 1:case 22:case 0:case 11:case 15:throw Error(v(152,be(Ze.type)||"Component"))}return j(Ze,Ge)}}var Xd=qf(!0),Hf=qf(!1),Gf={},go=gu(Gf),vc=gu(Gf),_u=gu(Gf);function Kd(x){if(x===Gf)throw Error(v(174));return x}function Xf(x,E){switch(Gt(_u,E),Gt(vc,x),Gt(go,Gf),x=E.nodeType){case 9:case 11:E=(E=E.documentElement)?E.namespaceURI:Vn(null,"");break;default:E=Vn(E=(x=x===8?E.parentNode:E).namespaceURI||null,x=x.tagName)}li(go),Gt(go,E)}function Cl(){li(go),li(vc),li(_u)}function gA(x){Kd(_u.current);var E=Kd(go.current),j=Vn(E,x.type);E!==j&&(Gt(vc,x),Gt(go,j))}function yx(x){vc.current===x&&(li(go),li(vc))}var ui=gu(0);function ku(x){for(var E=x;E!==null;){if(E.tag===13){var j=E.memoizedState;if(j!==null&&((j=j.dehydrated)===null||j.data==="$?"||j.data==="$!"))return E}else if(E.tag===19&&E.memoizedProps.revealOrder!==void 0){if(64&E.flags)return E}else if(E.child!==null){E.child.return=E,E=E.child;continue}if(E===x)break;for(;E.sibling===null;){if(E.return===null||E.return===x)return null;E=E.return}E.sibling.return=E.return,E=E.sibling}return null}var wc=null,Ea=null,Fs=!1;function Zd(x,E){var j=Wo(5,null,null,0);j.elementType="DELETED",j.type="DELETED",j.stateNode=E,j.return=x,j.flags=8,x.lastEffect!==null?(x.lastEffect.nextEffect=j,x.lastEffect=j):x.firstEffect=x.lastEffect=j}function vx(x,E){switch(x.tag){case 5:var j=x.type;return(E=E.nodeType!==1||j.toLowerCase()!==E.nodeName.toLowerCase()?null:E)!==null&&(x.stateNode=E,!0);case 6:return(E=x.pendingProps===""||E.nodeType!==3?null:E)!==null&&(x.stateNode=E,!0);default:return!1}}function Cy(x){if(Fs){var E=Ea;if(E){var j=E;if(!vx(x,E)){if(!(E=Ms(j.nextSibling))||!vx(x,E))return x.flags=-1025&x.flags|2,Fs=!1,void(wc=x);Zd(wc,j)}wc=x,Ea=Ms(E.firstChild)}else x.flags=-1025&x.flags|2,Fs=!1,wc=x}}function xc(x){for(x=x.return;x!==null&&x.tag!==5&&x.tag!==3&&x.tag!==13;)x=x.return;wc=x}function Kf(x){if(x!==wc)return!1;if(!Fs)return xc(x),Fs=!0,!1;var E=x.type;if(x.tag!==5||E!=="head"&&E!=="body"&&!Ur(E,x.memoizedProps))for(E=Ea;E;)Zd(x,E),E=Ms(E.nextSibling);if(xc(x),x.tag===13){if(!(x=(x=x.memoizedState)!==null?x.dehydrated:null))throw Error(v(317));e:{for(x=x.nextSibling,E=0;x;){if(x.nodeType===8){var j=x.data;if(j==="/$"){if(E===0){Ea=Ms(x.nextSibling);break e}E--}else j!=="$"&&j!=="$!"&&j!=="$?"||E++}x=x.nextSibling}Ea=null}}else Ea=wc?Ms(x.stateNode.nextSibling):null;return!0}function Ty(){Ea=wc=null,Fs=!1}var Zf=[];function Dy(){for(var x=0;x<Zf.length;x++)Zf[x]._workInProgressVersionPrimary=null;Zf.length=0}var it=me.ReactCurrentDispatcher,bo=me.ReactCurrentBatchConfig,cn=0,Ci=null,zr=null,hr=null,Ag=!1,Yf=!1;function xr(){throw Error(v(321))}function Yd(x,E){if(E===null)return!1;for(var j=0;j<E.length&&j<x.length;j++)if(!ls(x[j],E[j]))return!1;return!0}function Jf(x,E,j,z,q,oe){if(cn=oe,Ci=E,E.memoizedState=null,E.updateQueue=null,E.lanes=0,it.current=x===null||x.memoizedState===null?hP:_A,x=j(z,q),Yf){oe=0;do{if(Yf=!1,!(25>oe))throw Error(v(301));oe+=1,hr=zr=null,E.updateQueue=null,it.current=kA,x=j(z,q)}while(Yf)}if(it.current=jy,E=zr!==null&&zr.next!==null,cn=0,hr=zr=Ci=null,Ag=!1,E)throw Error(v(300));return x}function Eu(){var x={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hr===null?Ci.memoizedState=hr=x:hr=hr.next=x,hr}function Su(){if(zr===null){var x=Ci.alternate;x=x!==null?x.memoizedState:null}else x=zr.next;var E=hr===null?Ci.memoizedState:hr.next;if(E!==null)hr=E,zr=x;else{if(x===null)throw Error(v(310));x={memoizedState:(zr=x).memoizedState,baseState:zr.baseState,baseQueue:zr.baseQueue,queue:zr.queue,next:null},hr===null?Ci.memoizedState=hr=x:hr=hr.next=x}return hr}function Tl(x,E){return typeof E=="function"?E(x):E}function Jd(x){var E=Su(),j=E.queue;if(j===null)throw Error(v(311));j.lastRenderedReducer=x;var z=zr,q=z.baseQueue,oe=j.pending;if(oe!==null){if(q!==null){var pe=q.next;q.next=oe.next,oe.next=pe}z.baseQueue=q=oe,j.pending=null}if(q!==null){q=q.next,z=z.baseState;var De=pe=oe=null,Ve=q;do{var Xe=Ve.lane;if((cn&Xe)===Xe)De!==null&&(De=De.next={lane:0,action:Ve.action,eagerReducer:Ve.eagerReducer,eagerState:Ve.eagerState,next:null}),z=Ve.eagerReducer===x?Ve.eagerState:x(z,Ve.action);else{var ut={lane:Xe,action:Ve.action,eagerReducer:Ve.eagerReducer,eagerState:Ve.eagerState,next:null};De===null?(pe=De=ut,oe=z):De=De.next=ut,Ci.lanes|=Xe,Qd|=Xe}Ve=Ve.next}while(Ve!==null&&Ve!==q);De===null?oe=z:De.next=pe,ls(z,E.memoizedState)||(yo=!0),E.memoizedState=z,E.baseState=oe,E.baseQueue=De,j.lastRenderedState=z}return[E.memoizedState,j.dispatch]}function Qf(x){var E=Su(),j=E.queue;if(j===null)throw Error(v(311));j.lastRenderedReducer=x;var z=j.dispatch,q=j.pending,oe=E.memoizedState;if(q!==null){j.pending=null;var pe=q=q.next;do oe=x(oe,pe.action),pe=pe.next;while(pe!==q);ls(oe,E.memoizedState)||(yo=!0),E.memoizedState=oe,E.baseQueue===null&&(E.baseState=oe),j.lastRenderedState=oe}return[oe,z]}function bA(x,E,j){var z=E._getVersion;z=z(E._source);var q=E._workInProgressVersionPrimary;if(q!==null?x=q===z:(x=x.mutableReadLanes,(x=(cn&x)===x)&&(E._workInProgressVersionPrimary=z,Zf.push(E))),x)return j(E._source);throw Zf.push(E),Error(v(350))}function Au(x,E,j,z){var q=_r;if(q===null)throw Error(v(349));var oe=E._getVersion,pe=oe(E._source),De=it.current,Ve=De.useState(function(){return bA(q,E,j)}),Xe=Ve[1],ut=Ve[0];Ve=hr;var kt=x.memoizedState,lt=kt.refs,zt=lt.getSnapshot,an=kt.source;kt=kt.subscribe;var en=Ci;return x.memoizedState={refs:lt,source:E,subscribe:z},De.useEffect(function(){lt.getSnapshot=j,lt.setSnapshot=Xe;var Ze=oe(E._source);if(!ls(pe,Ze)){Ze=j(E._source),ls(ut,Ze)||(Xe(Ze),Ze=Vo(en),q.mutableReadLanes|=Ze&q.pendingLanes),Ze=q.mutableReadLanes,q.entangledLanes|=Ze;for(var Ge=q.entanglements,Ke=Ze;0<Ke;){var tt=31-yl(Ke),rt=1<<tt;Ge[tt]|=Ze,Ke&=~rt}}},[j,E,z]),De.useEffect(function(){return z(E._source,function(){var Ze=lt.getSnapshot,Ge=lt.setSnapshot;try{Ge(Ze(E._source));var Ke=Vo(en);q.mutableReadLanes|=Ke&q.pendingLanes}catch(tt){Ge(function(){throw tt})}})},[E,z]),ls(zt,j)&&ls(an,E)&&ls(kt,z)||((x={pending:null,dispatch:null,lastRenderedReducer:Tl,lastRenderedState:ut}).dispatch=Xe=_x.bind(null,Ci,x),Ve.queue=x,Ve.baseQueue=null,ut=bA(q,E,j),Ve.memoizedState=Ve.baseState=ut),ut}function wx(x,E,j){return Au(Su(),x,E,j)}function Sa(x){var E=Eu();return typeof x=="function"&&(x=x()),E.memoizedState=E.baseState=x,x=(x=E.queue={pending:null,dispatch:null,lastRenderedReducer:Tl,lastRenderedState:x}).dispatch=_x.bind(null,Ci,x),[E.memoizedState,x]}function Cn(x,E,j,z){return x={tag:x,create:E,destroy:j,deps:z,next:null},(E=Ci.updateQueue)===null?(E={lastEffect:null},Ci.updateQueue=E,E.lastEffect=x.next=x):(j=E.lastEffect)===null?E.lastEffect=x.next=x:(z=j.next,j.next=x,x.next=z,E.lastEffect=x),x}function Aa(x){return x={current:x},Eu().memoizedState=x}function Cu(){return Su().memoizedState}function Ny(x,E,j,z){var q=Eu();Ci.flags|=x,q.memoizedState=Cn(1|E,j,void 0,z===void 0?null:z)}function Cg(x,E,j,z){var q=Su();z=z===void 0?null:z;var oe=void 0;if(zr!==null){var pe=zr.memoizedState;if(oe=pe.destroy,z!==null&&Yd(z,pe.deps))return void Cn(E,j,oe,z)}Ci.flags|=x,q.memoizedState=Cn(1|E,j,oe,z)}function Tg(x,E){return Ny(516,4,x,E)}function Py(x,E){return Cg(516,4,x,E)}function yA(x,E){return Cg(4,2,x,E)}function vA(x,E){return typeof E=="function"?(x=x(),E(x),function(){E(null)}):E!=null?(x=x(),E.current=x,function(){E.current=null}):void 0}function Iy(x,E,j){return j=j!=null?j.concat([x]):null,Cg(4,2,vA.bind(null,E,x),j)}function xx(){}function wA(x,E){var j=Su();E=E===void 0?null:E;var z=j.memoizedState;return z!==null&&E!==null&&Yd(E,z[1])?z[0]:(j.memoizedState=[x,E],x)}function xA(x,E){var j=Su();E=E===void 0?null:E;var z=j.memoizedState;return z!==null&&E!==null&&Yd(E,z[1])?z[0]:(x=x(),j.memoizedState=[x,E],x)}function dP(x,E){var j=El();dr(98>j?98:j,function(){x(!0)}),dr(97<j?97:j,function(){var z=bo.transition;bo.transition=1;try{x(!1),E()}finally{bo.transition=z}})}function _x(x,E,j){var z=ai(),q=Vo(x),oe={lane:q,action:j,eagerReducer:null,eagerState:null,next:null},pe=E.pending;if(pe===null?oe.next=oe:(oe.next=pe.next,pe.next=oe),E.pending=oe,pe=x.alternate,x===Ci||pe!==null&&pe===Ci)Yf=Ag=!0;else{if(x.lanes===0&&(pe===null||pe.lanes===0)&&(pe=E.lastRenderedReducer)!==null)try{var De=E.lastRenderedState,Ve=pe(De,j);if(oe.eagerReducer=pe,oe.eagerState=Ve,ls(Ve,De))return}catch{}Sc(x,q,z)}}var jy={readContext:po,useCallback:xr,useContext:xr,useEffect:xr,useImperativeHandle:xr,useLayoutEffect:xr,useMemo:xr,useReducer:xr,useRef:xr,useState:xr,useDebugValue:xr,useDeferredValue:xr,useTransition:xr,useMutableSource:xr,useOpaqueIdentifier:xr,unstable_isNewReconciler:!1},hP={readContext:po,useCallback:function(x,E){return Eu().memoizedState=[x,E===void 0?null:E],x},useContext:po,useEffect:Tg,useImperativeHandle:function(x,E,j){return j=j!=null?j.concat([x]):null,Ny(4,2,vA.bind(null,E,x),j)},useLayoutEffect:function(x,E){return Ny(4,2,x,E)},useMemo:function(x,E){var j=Eu();return E=E===void 0?null:E,x=x(),j.memoizedState=[x,E],x},useReducer:function(x,E,j){var z=Eu();return E=j!==void 0?j(E):E,z.memoizedState=z.baseState=E,x=(x=z.queue={pending:null,dispatch:null,lastRenderedReducer:x,lastRenderedState:E}).dispatch=_x.bind(null,Ci,x),[z.memoizedState,x]},useRef:Aa,useState:Sa,useDebugValue:xx,useDeferredValue:function(x){var E=Sa(x),j=E[0],z=E[1];return Tg(function(){var q=bo.transition;bo.transition=1;try{z(x)}finally{bo.transition=q}},[x]),j},useTransition:function(){var x=Sa(!1),E=x[0];return Aa(x=dP.bind(null,x[1])),[x,E]},useMutableSource:function(x,E,j){var z=Eu();return z.memoizedState={refs:{getSnapshot:E,setSnapshot:null},source:x,subscribe:j},Au(z,x,E,j)},useOpaqueIdentifier:function(){if(Fs){var x=!1,E=function(z){return{$$typeof:Se,toString:z,valueOf:z}}(function(){throw x||(x=!0,j("r:"+(cs++).toString(36))),Error(v(355))}),j=Sa(E)[1];return!(2&Ci.mode)&&(Ci.flags|=516,Cn(5,function(){j("r:"+(cs++).toString(36))},void 0,null)),E}return Sa(E="r:"+(cs++).toString(36)),E},unstable_isNewReconciler:!1},_A={readContext:po,useCallback:wA,useContext:po,useEffect:Py,useImperativeHandle:Iy,useLayoutEffect:yA,useMemo:xA,useReducer:Jd,useRef:Cu,useState:function(){return Jd(Tl)},useDebugValue:xx,useDeferredValue:function(x){var E=Jd(Tl),j=E[0],z=E[1];return Py(function(){var q=bo.transition;bo.transition=1;try{z(x)}finally{bo.transition=q}},[x]),j},useTransition:function(){var x=Jd(Tl)[0];return[Cu().current,x]},useMutableSource:wx,useOpaqueIdentifier:function(){return Jd(Tl)[0]},unstable_isNewReconciler:!1},kA={readContext:po,useCallback:wA,useContext:po,useEffect:Py,useImperativeHandle:Iy,useLayoutEffect:yA,useMemo:xA,useReducer:Qf,useRef:Cu,useState:function(){return Qf(Tl)},useDebugValue:xx,useDeferredValue:function(x){var E=Qf(Tl),j=E[0],z=E[1];return Py(function(){var q=bo.transition;bo.transition=1;try{z(x)}finally{bo.transition=q}},[x]),j},useTransition:function(){var x=Qf(Tl)[0];return[Cu().current,x]},useMutableSource:wx,useOpaqueIdentifier:function(){return Qf(Tl)[0]},unstable_isNewReconciler:!1},fP=me.ReactCurrentOwner,yo=!1;function us(x,E,j,z){E.child=x===null?Hf(E,null,j,z):Xd(E,x.child,j,z)}function EA(x,E,j,z,q){j=j.render;var oe=E.ref;return Hd(E,q),z=Jf(x,E,j,z,oe,q),x===null||yo?(E.flags|=1,us(x,E,z,q),E.child):(E.updateQueue=x.updateQueue,E.flags&=-517,x.lanes&=~q,_c(x,E,q))}function Ry(x,E,j,z,q,oe){if(x===null){var pe=j.type;return typeof pe!="function"||Bx(pe)||pe.defaultProps!==void 0||j.compare!==null||j.defaultProps!==void 0?((x=Xy(j.type,null,z,E,E.mode,oe)).ref=E.ref,x.return=E,E.child=x):(E.tag=15,E.type=pe,kx(x,E,pe,z,q,oe))}return pe=x.child,!(q&oe)&&(q=pe.memoizedProps,(j=(j=j.compare)!==null?j:zd)(q,z)&&x.ref===E.ref)?_c(x,E,oe):(E.flags|=1,(x=Fu(pe,z)).ref=E.ref,x.return=E,E.child=x)}function kx(x,E,j,z,q,oe){if(x!==null&&zd(x.memoizedProps,z)&&x.ref===E.ref){if(yo=!1,(oe&q)==0)return E.lanes=x.lanes,_c(x,E,oe);16384&x.flags&&(yo=!0)}return Sx(x,E,j,z,oe)}function Ex(x,E,j){var z=E.pendingProps,q=z.children,oe=x!==null?x.memoizedState:null;if(z.mode==="hidden"||z.mode==="unstable-defer-without-hiding")if(!(4&E.mode))E.memoizedState={baseLanes:0},qy(E,j);else{if(!(1073741824&j))return x=oe!==null?oe.baseLanes|j:j,E.lanes=E.childLanes=1073741824,E.memoizedState={baseLanes:x},qy(E,x),null;E.memoizedState={baseLanes:0},qy(E,oe!==null?oe.baseLanes:j)}else oe!==null?(z=oe.baseLanes|j,E.memoizedState=null):z=j,qy(E,z);return us(x,E,q,j),E.child}function SA(x,E){var j=E.ref;(x===null&&j!==null||x!==null&&x.ref!==j)&&(E.flags|=128)}function Sx(x,E,j,z,q){var oe=Rn(j)?yu:Ri.current;return oe=vu(E,oe),Hd(E,q),j=Jf(x,E,j,z,oe,q),x===null||yo?(E.flags|=1,us(x,E,j,q),E.child):(E.updateQueue=x.updateQueue,E.flags&=-517,x.lanes&=~q,_c(x,E,q))}function AA(x,E,j,z,q){if(Rn(j)){var oe=!0;yy(E)}else oe=!1;if(Hd(E,q),E.stateNode===null)x!==null&&(x.alternate=null,E.alternate=null,E.flags|=2),Wf(E,j,z),$f(E,j,z,q),z=!0;else if(x===null){var pe=E.stateNode,De=E.memoizedProps;pe.props=De;var Ve=pe.context,Xe=j.contextType;typeof Xe=="object"&&Xe!==null?Xe=po(Xe):Xe=vu(E,Xe=Rn(j)?yu:Ri.current);var ut=j.getDerivedStateFromProps,kt=typeof ut=="function"||typeof pe.getSnapshotBeforeUpdate=="function";kt||typeof pe.UNSAFE_componentWillReceiveProps!="function"&&typeof pe.componentWillReceiveProps!="function"||(De!==z||Ve!==Xe)&&Mn(E,pe,z,Xe),mo=!1;var lt=E.memoizedState;pe.state=lt,kg(E,z,pe,q),Ve=E.memoizedState,De!==z||lt!==Ve||Br.current||mo?(typeof ut=="function"&&(zo(E,j,ut,z),Ve=E.memoizedState),(De=mo||Sg(E,j,De,z,lt,Ve,Xe))?(kt||typeof pe.UNSAFE_componentWillMount!="function"&&typeof pe.componentWillMount!="function"||(typeof pe.componentWillMount=="function"&&pe.componentWillMount(),typeof pe.UNSAFE_componentWillMount=="function"&&pe.UNSAFE_componentWillMount()),typeof pe.componentDidMount=="function"&&(E.flags|=4)):(typeof pe.componentDidMount=="function"&&(E.flags|=4),E.memoizedProps=z,E.memoizedState=Ve),pe.props=z,pe.state=Ve,pe.context=Xe,z=De):(typeof pe.componentDidMount=="function"&&(E.flags|=4),z=!1)}else{pe=E.stateNode,Sy(x,E),De=E.memoizedProps,Xe=E.type===E.elementType?De:Bo(E.type,De),pe.props=Xe,kt=E.pendingProps,lt=pe.context,typeof(Ve=j.contextType)=="object"&&Ve!==null?Ve=po(Ve):Ve=vu(E,Ve=Rn(j)?yu:Ri.current);var zt=j.getDerivedStateFromProps;(ut=typeof zt=="function"||typeof pe.getSnapshotBeforeUpdate=="function")||typeof pe.UNSAFE_componentWillReceiveProps!="function"&&typeof pe.componentWillReceiveProps!="function"||(De!==kt||lt!==Ve)&&Mn(E,pe,z,Ve),mo=!1,lt=E.memoizedState,pe.state=lt,kg(E,z,pe,q);var an=E.memoizedState;De!==kt||lt!==an||Br.current||mo?(typeof zt=="function"&&(zo(E,j,zt,z),an=E.memoizedState),(Xe=mo||Sg(E,j,Xe,z,lt,an,Ve))?(ut||typeof pe.UNSAFE_componentWillUpdate!="function"&&typeof pe.componentWillUpdate!="function"||(typeof pe.componentWillUpdate=="function"&&pe.componentWillUpdate(z,an,Ve),typeof pe.UNSAFE_componentWillUpdate=="function"&&pe.UNSAFE_componentWillUpdate(z,an,Ve)),typeof pe.componentDidUpdate=="function"&&(E.flags|=4),typeof pe.getSnapshotBeforeUpdate=="function"&&(E.flags|=256)):(typeof pe.componentDidUpdate!="function"||De===x.memoizedProps&&lt===x.memoizedState||(E.flags|=4),typeof pe.getSnapshotBeforeUpdate!="function"||De===x.memoizedProps&&lt===x.memoizedState||(E.flags|=256),E.memoizedProps=z,E.memoizedState=an),pe.props=z,pe.state=an,pe.context=Ve,z=Xe):(typeof pe.componentDidUpdate!="function"||De===x.memoizedProps&&lt===x.memoizedState||(E.flags|=4),typeof pe.getSnapshotBeforeUpdate!="function"||De===x.memoizedProps&&lt===x.memoizedState||(E.flags|=256),z=!1)}return ep(x,E,j,z,oe,q)}function ep(x,E,j,z,q,oe){SA(x,E);var pe=(64&E.flags)!=0;if(!z&&!pe)return q&&Os(E,j,!1),_c(x,E,oe);z=E.stateNode,fP.current=E;var De=pe&&typeof j.getDerivedStateFromError!="function"?null:z.render();return E.flags|=1,x!==null&&pe?(E.child=Xd(E,x.child,null,oe),E.child=Xd(E,null,De,oe)):us(x,E,De,oe),E.memoizedState=z.state,q&&Os(E,j,!0),E.child}function My(x){var E=x.stateNode;E.pendingContext?hA(0,E.pendingContext,E.pendingContext!==E.context):E.context&&hA(0,E.context,!1),Xf(x,E.containerInfo)}var CA,Ax,Cx,TA,Tx={dehydrated:null,retryLane:0};function DA(x,E,j){var z,q=E.pendingProps,oe=ui.current,pe=!1;return(z=(64&E.flags)!=0)||(z=(x===null||x.memoizedState!==null)&&(2&oe)!=0),z?(pe=!0,E.flags&=-65):x!==null&&x.memoizedState===null||q.fallback===void 0||q.unstable_avoidThisFallback===!0||(oe|=1),Gt(ui,1&oe),x===null?(q.fallback!==void 0&&Cy(E),x=q.children,oe=q.fallback,pe?(x=Tu(E,x,oe,j),E.child.memoizedState={baseLanes:j},E.memoizedState=Tx,x):typeof q.unstable_expectedLoadTime=="number"?(x=Tu(E,x,oe,j),E.child.memoizedState={baseLanes:j},E.memoizedState=Tx,E.lanes=33554432,x):((j=zx({mode:"visible",children:x},E.mode,j,null)).return=E,E.child=j)):(x.memoizedState,pe?(q=NA(x,E,q.children,q.fallback,j),pe=E.child,oe=x.child.memoizedState,pe.memoizedState=oe===null?{baseLanes:j}:{baseLanes:oe.baseLanes|j},pe.childLanes=x.childLanes&~j,E.memoizedState=Tx,q):(j=pP(x,E,q.children,j),E.memoizedState=null,j))}function Tu(x,E,j,z){var q=x.mode,oe=x.child;return E={mode:"hidden",children:E},!(2&q)&&oe!==null?(oe.childLanes=0,oe.pendingProps=E):oe=zx(E,q,0,null),j=nh(j,q,z,null),oe.return=x,j.return=x,oe.sibling=j,x.child=oe,j}function pP(x,E,j,z){var q=x.child;return x=q.sibling,j=Fu(q,{mode:"visible",children:j}),!(2&E.mode)&&(j.lanes=z),j.return=E,j.sibling=null,x!==null&&(x.nextEffect=null,x.flags=8,E.firstEffect=E.lastEffect=x),E.child=j}function NA(x,E,j,z,q){var oe=E.mode,pe=x.child;x=pe.sibling;var De={mode:"hidden",children:j};return!(2&oe)&&E.child!==pe?((j=E.child).childLanes=0,j.pendingProps=De,(pe=j.lastEffect)!==null?(E.firstEffect=j.firstEffect,E.lastEffect=pe,pe.nextEffect=null):E.firstEffect=E.lastEffect=null):j=Fu(pe,De),x!==null?z=Fu(x,z):(z=nh(z,oe,q,null)).flags|=2,z.return=E,j.return=E,j.sibling=z,E.child=j,z}function PA(x,E){x.lanes|=E;var j=x.alternate;j!==null&&(j.lanes|=E),gx(x.return,E)}function Dx(x,E,j,z,q,oe){var pe=x.memoizedState;pe===null?x.memoizedState={isBackwards:E,rendering:null,renderingStartTime:0,last:z,tail:j,tailMode:q,lastEffect:oe}:(pe.isBackwards=E,pe.rendering=null,pe.renderingStartTime=0,pe.last=z,pe.tail=j,pe.tailMode=q,pe.lastEffect=oe)}function IA(x,E,j){var z=E.pendingProps,q=z.revealOrder,oe=z.tail;if(us(x,E,z.children,j),(2&(z=ui.current))!=0)z=1&z|2,E.flags|=64;else{if(x!==null&&64&x.flags)e:for(x=E.child;x!==null;){if(x.tag===13)x.memoizedState!==null&&PA(x,j);else if(x.tag===19)PA(x,j);else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===E)break e;for(;x.sibling===null;){if(x.return===null||x.return===E)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}z&=1}if(Gt(ui,z),(2&E.mode)==0)E.memoizedState=null;else switch(q){case"forwards":for(j=E.child,q=null;j!==null;)(x=j.alternate)!==null&&ku(x)===null&&(q=j),j=j.sibling;(j=q)===null?(q=E.child,E.child=null):(q=j.sibling,j.sibling=null),Dx(E,!1,q,j,oe,E.lastEffect);break;case"backwards":for(j=null,q=E.child,E.child=null;q!==null;){if((x=q.alternate)!==null&&ku(x)===null){E.child=q;break}x=q.sibling,q.sibling=j,j=q,q=x}Dx(E,!0,j,null,oe,E.lastEffect);break;case"together":Dx(E,!1,null,null,void 0,E.lastEffect);break;default:E.memoizedState=null}return E.child}function _c(x,E,j){if(x!==null&&(E.dependencies=x.dependencies),Qd|=E.lanes,(j&E.childLanes)!=0){if(x!==null&&E.child!==x.child)throw Error(v(153));if(E.child!==null){for(j=Fu(x=E.child,x.pendingProps),E.child=j,j.return=E;x.sibling!==null;)x=x.sibling,(j=j.sibling=Fu(x,x.pendingProps)).return=E;j.sibling=null}return E.child}return null}function Oy(x,E){if(!Fs)switch(x.tailMode){case"hidden":E=x.tail;for(var j=null;E!==null;)E.alternate!==null&&(j=E),E=E.sibling;j===null?x.tail=null:j.sibling=null;break;case"collapsed":j=x.tail;for(var z=null;j!==null;)j.alternate!==null&&(z=j),j=j.sibling;z===null?E||x.tail===null?x.tail=null:x.tail.sibling=null:z.sibling=null}}function mP(x,E,j){var z=E.pendingProps;switch(E.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return Rn(E.type)&&cx(),null;case 3:return Cl(),li(Br),li(Ri),Dy(),(z=E.stateNode).pendingContext&&(z.context=z.pendingContext,z.pendingContext=null),x!==null&&x.child!==null||(Kf(E)?E.flags|=4:z.hydrate||(E.flags|=256)),Ax(E),null;case 5:yx(E);var q=Kd(_u.current);if(j=E.type,x!==null&&E.stateNode!=null)Cx(x,E,j,z,q),x.ref!==E.ref&&(E.flags|=128);else{if(!z){if(E.stateNode===null)throw Error(v(166));return null}if(x=Kd(go.current),Kf(E)){z=E.stateNode,j=E.type;var oe=E.memoizedProps;switch(z[mc]=E,z[vg]=oe,j){case"dialog":qn("cancel",z),qn("close",z);break;case"iframe":case"object":case"embed":qn("load",z);break;case"video":case"audio":for(x=0;x<wa.length;x++)qn(wa[x],z);break;case"source":qn("error",z);break;case"img":case"image":case"link":qn("error",z),qn("load",z);break;case"details":qn("toggle",z);break;case"input":_e(z,oe),qn("invalid",z);break;case"select":z._wrapperState={wasMultiple:!!oe.multiple},qn("invalid",z);break;case"textarea":Bt(z,oe),qn("invalid",z)}for(var pe in sn(j,oe),x=null,oe)oe.hasOwnProperty(pe)&&(q=oe[pe],pe==="children"?typeof q=="string"?z.textContent!==q&&(x=["children",q]):typeof q=="number"&&z.textContent!==""+q&&(x=["children",""+q]):A.hasOwnProperty(pe)&&q!=null&&pe==="onScroll"&&qn("scroll",z));switch(j){case"input":He(z),et(z,oe,!0);break;case"textarea":He(z),Zt(z);break;case"select":case"option":break;default:typeof oe.onClick=="function"&&(z.onclick=jn)}z=x,E.updateQueue=z,z!==null&&(E.flags|=4)}else{switch(pe=q.nodeType===9?q:q.ownerDocument,x===mn.html&&(x=qt(j)),x===mn.html?j==="script"?((x=pe.createElement("div")).innerHTML="<script><\/script>",x=x.removeChild(x.firstChild)):typeof z.is=="string"?x=pe.createElement(j,{is:z.is}):(x=pe.createElement(j),j==="select"&&(pe=x,z.multiple?pe.multiple=!0:z.size&&(pe.size=z.size))):x=pe.createElementNS(x,j),x[mc]=E,x[vg]=z,CA(x,E,!1,!1),E.stateNode=x,pe=Wn(j,z),j){case"dialog":qn("cancel",x),qn("close",x),q=z;break;case"iframe":case"object":case"embed":qn("load",x),q=z;break;case"video":case"audio":for(q=0;q<wa.length;q++)qn(wa[q],x);q=z;break;case"source":qn("error",x),q=z;break;case"img":case"image":case"link":qn("error",x),qn("load",x),q=z;break;case"details":qn("toggle",x),q=z;break;case"input":_e(x,z),q=Ce(x,z),qn("invalid",x);break;case"option":q=ct(x,z);break;case"select":x._wrapperState={wasMultiple:!!z.multiple},q=g({},z,{value:void 0}),qn("invalid",x);break;case"textarea":Bt(x,z),q=Pt(x,z),qn("invalid",x);break;default:q=z}sn(j,q);var De=q;for(oe in De)if(De.hasOwnProperty(oe)){var Ve=De[oe];oe==="style"?wt(x,Ve):oe==="dangerouslySetInnerHTML"?(Ve=Ve?Ve.__html:void 0)!=null&&Rr(x,Ve):oe==="children"?typeof Ve=="string"?(j!=="textarea"||Ve!=="")&&Ii(x,Ve):typeof Ve=="number"&&Ii(x,""+Ve):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(A.hasOwnProperty(oe)?Ve!=null&&oe==="onScroll"&&qn("scroll",x):Ve!=null&&ae(x,oe,Ve,pe))}switch(j){case"input":He(x),et(x,z,!1);break;case"textarea":He(x),Zt(x);break;case"option":z.value!=null&&x.setAttribute("value",""+we(z.value));break;case"select":x.multiple=!!z.multiple,(oe=z.value)!=null?ht(x,!!z.multiple,oe,!1):z.defaultValue!=null&&ht(x,!!z.multiple,z.defaultValue,!0);break;default:typeof q.onClick=="function"&&(x.onclick=jn)}wn(j,z)&&(E.flags|=4)}E.ref!==null&&(E.flags|=128)}return null;case 6:if(x&&E.stateNode!=null)TA(x,E,x.memoizedProps,z);else{if(typeof z!="string"&&E.stateNode===null)throw Error(v(166));j=Kd(_u.current),Kd(go.current),Kf(E)?(z=E.stateNode,j=E.memoizedProps,z[mc]=E,z.nodeValue!==j&&(E.flags|=4)):((z=(j.nodeType===9?j:j.ownerDocument).createTextNode(z))[mc]=E,E.stateNode=z)}return null;case 13:return li(ui),z=E.memoizedState,64&E.flags?(E.lanes=j,E):(z=z!==null,j=!1,x===null?E.memoizedProps.fallback!==void 0&&Kf(E):j=x.memoizedState!==null,z&&!j&&2&E.mode&&(x===null&&E.memoizedProps.unstable_avoidThisFallback!==!0||1&ui.current?fr===0&&(fr=3):(fr!==0&&fr!==3||(fr=4),_r===null||!(134217727&Qd)&&!(134217727&Iu)||ap(_r,Mi))),(z||j)&&(E.flags|=4),null);case 4:return Cl(),Ax(E),x===null&&de(E.stateNode.containerInfo),null;case 10:return Ey(E),null;case 19:if(li(ui),(z=E.memoizedState)===null)return null;if(oe=(64&E.flags)!=0,(pe=z.rendering)===null)if(oe)Oy(z,!1);else{if(fr!==0||x!==null&&64&x.flags)for(x=E.child;x!==null;){if((pe=ku(x))!==null){for(E.flags|=64,Oy(z,!1),(oe=pe.updateQueue)!==null&&(E.updateQueue=oe,E.flags|=4),z.lastEffect===null&&(E.firstEffect=null),E.lastEffect=z.lastEffect,z=j,j=E.child;j!==null;)x=z,(oe=j).flags&=2,oe.nextEffect=null,oe.firstEffect=null,oe.lastEffect=null,(pe=oe.alternate)===null?(oe.childLanes=0,oe.lanes=x,oe.child=null,oe.memoizedProps=null,oe.memoizedState=null,oe.updateQueue=null,oe.dependencies=null,oe.stateNode=null):(oe.childLanes=pe.childLanes,oe.lanes=pe.lanes,oe.child=pe.child,oe.memoizedProps=pe.memoizedProps,oe.memoizedState=pe.memoizedState,oe.updateQueue=pe.updateQueue,oe.type=pe.type,x=pe.dependencies,oe.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext}),j=j.sibling;return Gt(ui,1&ui.current|2),E.child}x=x.sibling}z.tail!==null&&Qi()>Fx&&(E.flags|=64,oe=!0,Oy(z,!1),E.lanes=33554432)}else{if(!oe)if((x=ku(pe))!==null){if(E.flags|=64,oe=!0,(j=x.updateQueue)!==null&&(E.updateQueue=j,E.flags|=4),Oy(z,!0),z.tail===null&&z.tailMode==="hidden"&&!pe.alternate&&!Fs)return(E=E.lastEffect=z.lastEffect)!==null&&(E.nextEffect=null),null}else 2*Qi()-z.renderingStartTime>Fx&&j!==1073741824&&(E.flags|=64,oe=!0,Oy(z,!1),E.lanes=33554432);z.isBackwards?(pe.sibling=E.child,E.child=pe):((j=z.last)!==null?j.sibling=pe:E.child=pe,z.last=pe)}return z.tail!==null?(j=z.tail,z.rendering=j,z.tail=j.sibling,z.lastEffect=E.lastEffect,z.renderingStartTime=Qi(),j.sibling=null,E=ui.current,Gt(ui,oe?1&E|2:1&E),j):null;case 23:case 24:return Hy(),x!==null&&x.memoizedState!==null!=(E.memoizedState!==null)&&z.mode!=="unstable-defer-without-hiding"&&(E.flags|=4),null}throw Error(v(156,E.tag))}function gP(x){switch(x.tag){case 1:Rn(x.type)&&cx();var E=x.flags;return 4096&E?(x.flags=-4097&E|64,x):null;case 3:if(Cl(),li(Br),li(Ri),Dy(),(64&(E=x.flags))!=0)throw Error(v(285));return x.flags=-4097&E|64,x;case 5:return yx(x),null;case 13:return li(ui),4096&(E=x.flags)?(x.flags=-4097&E|64,x):null;case 19:return li(ui),null;case 4:return Cl(),null;case 10:return Ey(x),null;case 23:case 24:return Hy(),null;default:return null}}function Nx(x,E){try{var j="",z=E;do j+=Ie(z),z=z.return;while(z);var q=j}catch(oe){q=`
Error generating stack: `+oe.message+`
`+oe.stack}return{value:x,source:E,stack:q}}function Fy(x,E){try{console.error(E.value)}catch(j){setTimeout(function(){throw j})}}CA=function(x,E){for(var j=E.child;j!==null;){if(j.tag===5||j.tag===6)x.appendChild(j.stateNode);else if(j.tag!==4&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===E)break;for(;j.sibling===null;){if(j.return===null||j.return===E)return;j=j.return}j.sibling.return=j.return,j=j.sibling}},Ax=function(){},Cx=function(x,E,j,z){var q=x.memoizedProps;if(q!==z){x=E.stateNode,Kd(go.current);var oe,pe=null;switch(j){case"input":q=Ce(x,q),z=Ce(x,z),pe=[];break;case"option":q=ct(x,q),z=ct(x,z),pe=[];break;case"select":q=g({},q,{value:void 0}),z=g({},z,{value:void 0}),pe=[];break;case"textarea":q=Pt(x,q),z=Pt(x,z),pe=[];break;default:typeof q.onClick!="function"&&typeof z.onClick=="function"&&(x.onclick=jn)}for(Xe in sn(j,z),j=null,q)if(!z.hasOwnProperty(Xe)&&q.hasOwnProperty(Xe)&&q[Xe]!=null)if(Xe==="style"){var De=q[Xe];for(oe in De)De.hasOwnProperty(oe)&&(j||(j={}),j[oe]="")}else Xe!=="dangerouslySetInnerHTML"&&Xe!=="children"&&Xe!=="suppressContentEditableWarning"&&Xe!=="suppressHydrationWarning"&&Xe!=="autoFocus"&&(A.hasOwnProperty(Xe)?pe||(pe=[]):(pe=pe||[]).push(Xe,null));for(Xe in z){var Ve=z[Xe];if(De=q!=null?q[Xe]:void 0,z.hasOwnProperty(Xe)&&Ve!==De&&(Ve!=null||De!=null))if(Xe==="style")if(De){for(oe in De)!De.hasOwnProperty(oe)||Ve&&Ve.hasOwnProperty(oe)||(j||(j={}),j[oe]="");for(oe in Ve)Ve.hasOwnProperty(oe)&&De[oe]!==Ve[oe]&&(j||(j={}),j[oe]=Ve[oe])}else j||(pe||(pe=[]),pe.push(Xe,j)),j=Ve;else Xe==="dangerouslySetInnerHTML"?(Ve=Ve?Ve.__html:void 0,De=De?De.__html:void 0,Ve!=null&&De!==Ve&&(pe=pe||[]).push(Xe,Ve)):Xe==="children"?typeof Ve!="string"&&typeof Ve!="number"||(pe=pe||[]).push(Xe,""+Ve):Xe!=="suppressContentEditableWarning"&&Xe!=="suppressHydrationWarning"&&(A.hasOwnProperty(Xe)?(Ve!=null&&Xe==="onScroll"&&qn("scroll",x),pe||De===Ve||(pe=[])):typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===Se?Ve.toString():(pe=pe||[]).push(Xe,Ve))}j&&(pe=pe||[]).push("style",j);var Xe=pe;(E.updateQueue=Xe)&&(E.flags|=4)}},TA=function(x,E,j,z){j!==z&&(E.flags|=4)};var jA=typeof WeakMap=="function"?WeakMap:Map;function RA(x,E,j){(j=Al(-1,j)).tag=3,j.payload={element:null};var z=E.value;return j.callback=function(){Pg||(Pg=!0,Ig=z),Fy(0,E)},j}function MA(x,E,j){(j=Al(-1,j)).tag=3;var z=x.type.getDerivedStateFromError;if(typeof z=="function"){var q=E.value;j.payload=function(){return Fy(0,E),z(q)}}var oe=x.stateNode;return oe!==null&&typeof oe.componentDidCatch=="function"&&(j.callback=function(){typeof z!="function"&&(Nl===null?Nl=new Set([this]):Nl.add(this),Fy(0,E));var pe=E.stack;this.componentDidCatch(E.value,{componentStack:pe!==null?pe:""})}),j}var bP=typeof WeakSet=="function"?WeakSet:Set;function OA(x){var E=x.ref;if(E!==null)if(typeof E=="function")try{E(null)}catch(j){Ou(x,j)}else E.current=null}function Px(x,E){switch(E.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&E.flags&&x!==null){var j=x.memoizedProps,z=x.memoizedState;E=(x=E.stateNode).getSnapshotBeforeUpdate(E.elementType===E.type?j:Bo(E.type,j),z),x.__reactInternalSnapshotBeforeUpdate=E}return;case 3:return void(256&E.flags&&Wd(E.stateNode.containerInfo))}throw Error(v(163))}function Ix(x,E,j){switch(j.tag){case 0:case 11:case 15:case 22:if((E=(E=j.updateQueue)!==null?E.lastEffect:null)!==null){x=E=E.next;do{if((3&x.tag)==3){var z=x.create;x.destroy=z()}x=x.next}while(x!==E)}if((E=(E=j.updateQueue)!==null?E.lastEffect:null)!==null){x=E=E.next;do{var q=x;z=q.next,4&(q=q.tag)&&1&q&&(Cc(j,x),cp(j,x)),x=z}while(x!==E)}return;case 1:return x=j.stateNode,4&j.flags&&(E===null?x.componentDidMount():(z=j.elementType===j.type?E.memoizedProps:Bo(j.type,E.memoizedProps),x.componentDidUpdate(z,E.memoizedState,x.__reactInternalSnapshotBeforeUpdate))),void((E=j.updateQueue)!==null&&Eg(j,E,x));case 3:if((E=j.updateQueue)!==null){if(x=null,j.child!==null)switch(j.child.tag){case 5:case 1:x=j.child.stateNode}Eg(j,E,x)}return;case 5:return x=j.stateNode,void(E===null&&4&j.flags&&wn(j.type,j.memoizedProps)&&x.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(j.memoizedState===null&&(j=j.alternate,j!==null&&(j=j.memoizedState,j!==null&&(j=j.dehydrated,j!==null&&lo(j)))))}throw Error(v(163))}function Us(x,E){for(var j=x;;){if(j.tag===5){var z=j.stateNode;if(E)typeof(z=z.style).setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{z=j.stateNode;var q=j.memoizedProps.style;q=q!=null&&q.hasOwnProperty("display")?q.display:null,z.style.display=vi("display",q)}}else if(j.tag===6)j.stateNode.nodeValue=E?"":j.memoizedProps;else if((j.tag!==23&&j.tag!==24||j.memoizedState===null||j===x)&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===x)break;for(;j.sibling===null;){if(j.return===null||j.return===x)return;j=j.return}j.sibling.return=j.return,j=j.sibling}}function jx(x,E){if(Hi&&typeof Hi.onCommitFiberUnmount=="function")try{Hi.onCommitFiberUnmount(ci,E)}catch{}switch(E.tag){case 0:case 11:case 14:case 15:case 22:if((x=E.updateQueue)!==null&&(x=x.lastEffect)!==null){var j=x=x.next;do{var z=j,q=z.destroy;if(z=z.tag,q!==void 0)if(4&z)Cc(E,j);else{z=E;try{q()}catch(oe){Ou(z,oe)}}j=j.next}while(j!==x)}break;case 1:if(OA(E),typeof(x=E.stateNode).componentWillUnmount=="function")try{x.props=E.memoizedProps,x.state=E.memoizedState,x.componentWillUnmount()}catch(oe){Ou(E,oe)}break;case 5:OA(E);break;case 4:Du(x,E)}}function tp(x){x.alternate=null,x.child=null,x.dependencies=null,x.firstEffect=null,x.lastEffect=null,x.memoizedProps=null,x.memoizedState=null,x.pendingProps=null,x.return=null,x.updateQueue=null}function Rx(x){return x.tag===5||x.tag===3||x.tag===4}function Dg(x){e:{for(var E=x.return;E!==null;){if(Rx(E))break e;E=E.return}throw Error(v(160))}var j=E;switch(E=j.stateNode,j.tag){case 5:var z=!1;break;case 3:case 4:E=E.containerInfo,z=!0;break;default:throw Error(v(161))}16&j.flags&&(Ii(E,""),j.flags&=-17);e:t:for(j=x;;){for(;j.sibling===null;){if(j.return===null||Rx(j.return)){j=null;break e}j=j.return}for(j.sibling.return=j.return,j=j.sibling;j.tag!==5&&j.tag!==6&&j.tag!==18;){if(2&j.flags||j.child===null||j.tag===4)continue t;j.child.return=j,j=j.child}if(!(2&j.flags)){j=j.stateNode;break e}}z?Uy(x,j,E):Ly(x,j,E)}function Uy(x,E,j){var z=x.tag,q=z===5||z===6;if(q)x=q?x.stateNode:x.stateNode.instance,E?j.nodeType===8?j.parentNode.insertBefore(x,E):j.insertBefore(x,E):(j.nodeType===8?(E=j.parentNode).insertBefore(x,j):(E=j).appendChild(x),(j=j._reactRootContainer)!=null||E.onclick!==null||(E.onclick=jn));else if(z!==4&&(x=x.child)!==null)for(Uy(x,E,j),x=x.sibling;x!==null;)Uy(x,E,j),x=x.sibling}function Ly(x,E,j){var z=x.tag,q=z===5||z===6;if(q)x=q?x.stateNode:x.stateNode.instance,E?j.insertBefore(x,E):j.appendChild(x);else if(z!==4&&(x=x.child)!==null)for(Ly(x,E,j),x=x.sibling;x!==null;)Ly(x,E,j),x=x.sibling}function Du(x,E){for(var j,z,q=E,oe=!1;;){if(!oe){oe=q.return;e:for(;;){if(oe===null)throw Error(v(160));switch(j=oe.stateNode,oe.tag){case 5:z=!1;break e;case 3:case 4:j=j.containerInfo,z=!0;break e}oe=oe.return}oe=!0}if(q.tag===5||q.tag===6){e:for(var pe=x,De=q,Ve=De;;)if(jx(pe,Ve),Ve.child!==null&&Ve.tag!==4)Ve.child.return=Ve,Ve=Ve.child;else{if(Ve===De)break e;for(;Ve.sibling===null;){if(Ve.return===null||Ve.return===De)break e;Ve=Ve.return}Ve.sibling.return=Ve.return,Ve=Ve.sibling}z?(pe=j,De=q.stateNode,pe.nodeType===8?pe.parentNode.removeChild(De):pe.removeChild(De)):j.removeChild(q.stateNode)}else if(q.tag===4){if(q.child!==null){j=q.stateNode.containerInfo,z=!0,q.child.return=q,q=q.child;continue}}else if(jx(x,q),q.child!==null){q.child.return=q,q=q.child;continue}if(q===E)break;for(;q.sibling===null;){if(q.return===null||q.return===E)return;(q=q.return).tag===4&&(oe=!1)}q.sibling.return=q.return,q=q.sibling}}function pt(x,E){switch(E.tag){case 0:case 11:case 14:case 15:case 22:var j=E.updateQueue;if((j=j!==null?j.lastEffect:null)!==null){var z=j=j.next;do(3&z.tag)==3&&(x=z.destroy,z.destroy=void 0,x!==void 0&&x()),z=z.next;while(z!==j)}return;case 1:case 12:case 17:return;case 5:if((j=E.stateNode)!=null){z=E.memoizedProps;var q=x!==null?x.memoizedProps:z;x=E.type;var oe=E.updateQueue;if(E.updateQueue=null,oe!==null){for(j[vg]=z,x==="input"&&z.type==="radio"&&z.name!=null&&ce(j,z),Wn(x,q),E=Wn(x,z),q=0;q<oe.length;q+=2){var pe=oe[q],De=oe[q+1];pe==="style"?wt(j,De):pe==="dangerouslySetInnerHTML"?Rr(j,De):pe==="children"?Ii(j,De):ae(j,pe,De,E)}switch(x){case"input":Ue(j,z);break;case"textarea":bt(j,z);break;case"select":x=j._wrapperState.wasMultiple,j._wrapperState.wasMultiple=!!z.multiple,(oe=z.value)!=null?ht(j,!!z.multiple,oe,!1):x!==!!z.multiple&&(z.defaultValue!=null?ht(j,!!z.multiple,z.defaultValue,!0):ht(j,!!z.multiple,z.multiple?[]:"",!1))}}}return;case 6:if(E.stateNode===null)throw Error(v(162));return void(E.stateNode.nodeValue=E.memoizedProps);case 3:return void((j=E.stateNode).hydrate&&(j.hydrate=!1,lo(j.containerInfo)));case 13:return E.memoizedState!==null&&(Ox=Qi(),Us(E.child,!0)),void Yt(E);case 19:return void Yt(E);case 23:case 24:return void Us(E,E.memoizedState!==null)}throw Error(v(163))}function Yt(x){var E=x.updateQueue;if(E!==null){x.updateQueue=null;var j=x.stateNode;j===null&&(j=x.stateNode=new bP),E.forEach(function(z){var q=wP.bind(null,x,z);j.has(z)||(j.add(z),z.then(q,q))})}}function By(x,E){return x!==null&&((x=x.memoizedState)===null||x.dehydrated!==null)&&(E=E.memoizedState)!==null&&E.dehydrated===null}var Ca=Math.ceil,np=me.ReactCurrentDispatcher,Nu=me.ReactCurrentOwner,un=0,_r=null,xi=null,Mi=0,Pu=0,Ng=gu(0),fr=0,Dl=null,ip=0,Qd=0,Iu=0,Mx=0,rp=null,Ox=0,Fx=1/0;function ju(){Fx=Qi()+500}var FA,xt=null,Pg=!1,Ig=null,Nl=null,kc=!1,eh=null,sp=90,Ux=[],zy=[],Ta=null,Ec=0,Vy=null,jg=-1,Pl=0,Rg=0,ds=null,Ru=!1;function ai(){return 48&un?Qi():jg!==-1?jg:jg=Qi()}function Vo(x){if(!(2&(x=x.mode)))return 1;if(!(4&x))return El()===99?1:2;if(Pl===0&&(Pl=ip),wy.transition!==0){Rg!==0&&(Rg=rp!==null?rp.pendingLanes:0),x=Pl;var E=4186112&~Rg;return(E&=-E)===0&&(E=(x=4186112&~x)&-x)===0&&(E=8192),E}return x=El(),4&un&&x===98?x=kf(12,Pl):x=kf(x=function(j){switch(j){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(x),Pl),x}function Sc(x,E,j){if(50<Ec)throw Ec=0,Vy=null,Error(v(185));if((x=Wy(x,E))===null)return null;In(x,E,j),x===_r&&(Iu|=E,fr===4&&ap(x,Mi));var z=El();E===1?8&un&&!(48&un)?$y(x):(hs(x,j),un===0&&(ju(),Sl())):(!(4&un)||z!==98&&z!==99||(Ta===null?Ta=new Set([x]):Ta.add(x)),hs(x,j)),rp=x}function Wy(x,E){x.lanes|=E;var j=x.alternate;for(j!==null&&(j.lanes|=E),j=x,x=x.return;x!==null;)x.childLanes|=E,(j=x.alternate)!==null&&(j.childLanes|=E),j=x,x=x.return;return j.tag===3?j.stateNode:null}function hs(x,E){for(var j=x.callbackNode,z=x.suspendedLanes,q=x.pingedLanes,oe=x.expirationTimes,pe=x.pendingLanes;0<pe;){var De=31-yl(pe),Ve=1<<De,Xe=oe[De];if(Xe===-1){if(!(Ve&z)||Ve&q){Xe=E,gl(Ve);var ut=Pn;oe[De]=10<=ut?Xe+250:6<=ut?Xe+5e3:-1}}else Xe<=E&&(x.expiredLanes|=Ve);pe&=~Ve}if(z=cu(x,x===_r?Mi:0),E=Pn,z===0)j!==null&&(j!==fx&&xg(j),x.callbackNode=null,x.callbackPriority=0);else{if(j!==null){if(x.callbackPriority===E)return;j!==fx&&xg(j)}E===15?(j=$y.bind(null,x),gc===null?(gc=[j],Tt=ka(Lo,mx)):gc.push(j),j=fx):E===14?j=bc(99,$y.bind(null,x)):(j=function(kt){switch(kt){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(v(358,kt))}}(E),j=bc(j,op.bind(null,x))),x.callbackPriority=E,x.callbackNode=j}}function op(x){if(jg=-1,Rg=Pl=0,(48&un)!=0)throw Error(v(327));var E=x.callbackNode;if(Ac()&&x.callbackNode!==E)return null;var j=cu(x,x===_r?Mi:0);if(j===0)return null;var z=j,q=un;un|=16;var oe=zA();for(_r===x&&Mi===z||(ju(),lp(x,z));;)try{WA();break}catch(De){BA(x,De)}if(ky(),np.current=oe,un=q,xi!==null?z=0:(_r=null,Mi=0,z=fr),(ip&Iu)!=0)lp(x,0);else if(z!==0){if(z===2&&(un|=64,x.hydrate&&(x.hydrate=!1,Wd(x.containerInfo)),(j=uu(x))!==0&&(z=Mu(x,j))),z===1)throw E=Dl,lp(x,0),ap(x,j),hs(x,Qi()),E;switch(x.finishedWork=x.current.alternate,x.finishedLanes=j,z){case 0:case 1:throw Error(v(345));case 2:case 5:th(x);break;case 3:if(ap(x,j),(62914560&j)===j&&10<(z=Ox+500-Qi())){if(cu(x,0)!==0)break;if(((q=x.suspendedLanes)&j)!==j){ai(),x.pingedLanes|=x.suspendedLanes&q;break}x.timeoutHandle=Lr(th.bind(null,x),z);break}th(x);break;case 4:if(ap(x,j),(4186112&j)===j)break;for(z=x.eventTimes,q=-1;0<j;){var pe=31-yl(j);oe=1<<pe,(pe=z[pe])>q&&(q=pe),j&=~oe}if(j=q,10<(j=(120>(j=Qi()-j)?120:480>j?480:1080>j?1080:1920>j?1920:3e3>j?3e3:4320>j?4320:1960*Ca(j/1960))-j)){x.timeoutHandle=Lr(th.bind(null,x),j);break}th(x);break;default:throw Error(v(329))}}return hs(x,Qi()),x.callbackNode===E?op.bind(null,x):null}function ap(x,E){for(E&=~Mx,E&=~Iu,x.suspendedLanes|=E,x.pingedLanes&=~E,x=x.expirationTimes;0<E;){var j=31-yl(E),z=1<<j;x[j]=-1,E&=~z}}function $y(x){if(48&un)throw Error(v(327));if(Ac(),x===_r&&(x.expiredLanes&Mi)!=0){var E=Mi,j=Mu(x,E);ip&Iu&&(j=Mu(x,E=cu(x,E)))}else j=Mu(x,E=cu(x,0));if(x.tag!==0&&j===2&&(un|=64,x.hydrate&&(x.hydrate=!1,Wd(x.containerInfo)),(E=uu(x))!==0&&(j=Mu(x,E))),j===1)throw j=Dl,lp(x,0),ap(x,E),hs(x,Qi()),j;return x.finishedWork=x.current.alternate,x.finishedLanes=E,th(x),hs(x,Qi()),null}function UA(x,E){var j=un;un|=1;try{return x(E)}finally{(un=j)===0&&(ju(),Sl())}}function LA(x,E){var j=un;un&=-2,un|=8;try{return x(E)}finally{(un=j)===0&&(ju(),Sl())}}function qy(x,E){Gt(Ng,Pu),Pu|=E,ip|=E}function Hy(){Pu=Ng.current,li(Ng)}function lp(x,E){x.finishedWork=null,x.finishedLanes=0;var j=x.timeoutHandle;if(j!==-1&&(x.timeoutHandle=-1,pc(j)),xi!==null)for(j=xi.return;j!==null;){var z=j;switch(z.tag){case 1:(z=z.type.childContextTypes)!=null&&cx();break;case 3:Cl(),li(Br),li(Ri),Dy();break;case 5:yx(z);break;case 4:Cl();break;case 13:case 19:li(ui);break;case 10:Ey(z);break;case 23:case 24:Hy()}j=j.return}_r=x,xi=Fu(x.current,null),Mi=Pu=ip=E,fr=0,Dl=null,Mx=Iu=Qd=0}function BA(x,E){for(;;){var j=xi;try{if(ky(),it.current=jy,Ag){for(var z=Ci.memoizedState;z!==null;){var q=z.queue;q!==null&&(q.pending=null),z=z.next}Ag=!1}if(cn=0,hr=zr=Ci=null,Yf=!1,Nu.current=null,j===null||j.return===null){fr=1,Dl=E,xi=null;break}e:{var oe=x,pe=j.return,De=j,Ve=E;if(E=Mi,De.flags|=2048,De.firstEffect=De.lastEffect=null,Ve!==null&&typeof Ve=="object"&&typeof Ve.then=="function"){var Xe=Ve;if(!(2&De.mode)){var ut=De.alternate;ut?(De.updateQueue=ut.updateQueue,De.memoizedState=ut.memoizedState,De.lanes=ut.lanes):(De.updateQueue=null,De.memoizedState=null)}var kt=(1&ui.current)!=0,lt=pe;do{var zt;if(zt=lt.tag===13){var an=lt.memoizedState;if(an!==null)zt=an.dehydrated!==null;else{var en=lt.memoizedProps;zt=en.fallback!==void 0&&(en.unstable_avoidThisFallback!==!0||!kt)}}if(zt){var Ze=lt.updateQueue;if(Ze===null){var Ge=new Set;Ge.add(Xe),lt.updateQueue=Ge}else Ze.add(Xe);if(!(2&lt.mode)){if(lt.flags|=64,De.flags|=16384,De.flags&=-2981,De.tag===1)if(De.alternate===null)De.tag=17;else{var Ke=Al(-1,1);Ke.tag=2,yc(De,Ke)}De.lanes|=1;break e}Ve=void 0,De=E;var tt=oe.pingCache;if(tt===null?(tt=oe.pingCache=new jA,Ve=new Set,tt.set(Xe,Ve)):(Ve=tt.get(Xe))===void 0&&(Ve=new Set,tt.set(Xe,Ve)),!Ve.has(De)){Ve.add(De);var rt=vP.bind(null,oe,Xe,De);Xe.then(rt,rt)}lt.flags|=4096,lt.lanes=E;break e}lt=lt.return}while(lt!==null);Ve=Error((be(De.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}fr!==5&&(fr=2),Ve=Nx(Ve,De),lt=pe;do{switch(lt.tag){case 3:oe=Ve,lt.flags|=4096,E&=-E,lt.lanes|=E,bx(lt,RA(0,oe,E));break e;case 1:oe=Ve;var Kt=lt.type,Et=lt.stateNode;if(!(64&lt.flags)&&(typeof Kt.getDerivedStateFromError=="function"||Et!==null&&typeof Et.componentDidCatch=="function"&&(Nl===null||!Nl.has(Et)))){lt.flags|=4096,E&=-E,lt.lanes|=E,bx(lt,MA(lt,oe,E));break e}}lt=lt.return}while(lt!==null)}Lx(j)}catch(ln){E=ln,xi===j&&j!==null&&(xi=j=j.return);continue}break}}function zA(){var x=np.current;return np.current=jy,x===null?jy:x}function Mu(x,E){var j=un;un|=16;var z=zA();for(_r===x&&Mi===E||lp(x,E);;)try{VA();break}catch(q){BA(x,q)}if(ky(),un=j,np.current=z,xi!==null)throw Error(v(261));return _r=null,Mi=0,fr}function VA(){for(;xi!==null;)$A(xi)}function WA(){for(;xi!==null&&!dx();)$A(xi)}function $A(x){var E=FA(x.alternate,x,Pu);x.memoizedProps=x.pendingProps,E===null?Lx(x):xi=E,Nu.current=null}function Lx(x){var E=x;do{var j=E.alternate;if(x=E.return,(2048&E.flags)==0){if((j=mP(j,E,Pu))!==null)return void(xi=j);if((j=E).tag!==24&&j.tag!==23||j.memoizedState===null||1073741824&Pu||!(4&j.mode)){for(var z=0,q=j.child;q!==null;)z|=q.lanes|q.childLanes,q=q.sibling;j.childLanes=z}x!==null&&!(2048&x.flags)&&(x.firstEffect===null&&(x.firstEffect=E.firstEffect),E.lastEffect!==null&&(x.lastEffect!==null&&(x.lastEffect.nextEffect=E.firstEffect),x.lastEffect=E.lastEffect),1<E.flags&&(x.lastEffect!==null?x.lastEffect.nextEffect=E:x.firstEffect=E,x.lastEffect=E))}else{if((j=gP(E))!==null)return j.flags&=2047,void(xi=j);x!==null&&(x.firstEffect=x.lastEffect=null,x.flags|=2048)}if((E=E.sibling)!==null)return void(xi=E);xi=E=x}while(E!==null);fr===0&&(fr=5)}function th(x){var E=El();return dr(99,qA.bind(null,x,E)),null}function qA(x,E){do Ac();while(eh!==null);if(48&un)throw Error(v(327));var j=x.finishedWork;if(j===null)return null;if(x.finishedWork=null,x.finishedLanes=0,j===x.current)throw Error(v(177));x.callbackNode=null;var z=j.lanes|j.childLanes,q=z,oe=x.pendingLanes&~q;x.pendingLanes=q,x.suspendedLanes=0,x.pingedLanes=0,x.expiredLanes&=q,x.mutableReadLanes&=q,x.entangledLanes&=q,q=x.entanglements;for(var pe=x.eventTimes,De=x.expirationTimes;0<oe;){var Ve=31-yl(oe),Xe=1<<Ve;q[Ve]=0,pe[Ve]=-1,De[Ve]=-1,oe&=~Xe}if(Ta!==null&&!(24&z)&&Ta.has(x)&&Ta.delete(x),x===_r&&(xi=_r=null,Mi=0),1<j.flags?j.lastEffect!==null?(j.lastEffect.nextEffect=j,z=j.firstEffect):z=j:z=j.firstEffect,z!==null){if(q=un,un|=32,Nu.current=null,xa=co,Mf(pe=Vd())){if("selectionStart"in pe)De={start:pe.selectionStart,end:pe.selectionEnd};else e:if(De=(De=pe.ownerDocument)&&De.defaultView||window,(Xe=De.getSelection&&De.getSelection())&&Xe.rangeCount!==0){De=Xe.anchorNode,oe=Xe.anchorOffset,Ve=Xe.focusNode,Xe=Xe.focusOffset;try{De.nodeType,Ve.nodeType}catch{De=null;break e}var ut=0,kt=-1,lt=-1,zt=0,an=0,en=pe,Ze=null;t:for(;;){for(var Ge;en!==De||oe!==0&&en.nodeType!==3||(kt=ut+oe),en!==Ve||Xe!==0&&en.nodeType!==3||(lt=ut+Xe),en.nodeType===3&&(ut+=en.nodeValue.length),(Ge=en.firstChild)!==null;)Ze=en,en=Ge;for(;;){if(en===pe)break t;if(Ze===De&&++zt===oe&&(kt=ut),Ze===Ve&&++an===Xe&&(lt=ut),(Ge=en.nextSibling)!==null)break;Ze=(en=Ze).parentNode}en=Ge}De=kt===-1||lt===-1?null:{start:kt,end:lt}}else De=null;De=De||{start:0,end:0}}else De=null;Uo={focusedElem:pe,selectionRange:De},co=!1,ds=null,Ru=!1,xt=z;do try{Il()}catch(Vt){if(xt===null)throw Error(v(330));Ou(xt,Vt),xt=xt.nextEffect}while(xt!==null);ds=null,xt=z;do try{for(pe=x;xt!==null;){var Ke=xt.flags;if(16&Ke&&Ii(xt.stateNode,""),128&Ke){var tt=xt.alternate;if(tt!==null){var rt=tt.ref;rt!==null&&(typeof rt=="function"?rt(null):rt.current=null)}}switch(1038&Ke){case 2:Dg(xt),xt.flags&=-3;break;case 6:Dg(xt),xt.flags&=-3,pt(xt.alternate,xt);break;case 1024:xt.flags&=-1025;break;case 1028:xt.flags&=-1025,pt(xt.alternate,xt);break;case 4:pt(xt.alternate,xt);break;case 8:Du(pe,De=xt);var Kt=De.alternate;tp(De),Kt!==null&&tp(Kt)}xt=xt.nextEffect}}catch(Vt){if(xt===null)throw Error(v(330));Ou(xt,Vt),xt=xt.nextEffect}while(xt!==null);if(rt=Uo,tt=Vd(),Ke=rt.focusedElem,pe=rt.selectionRange,tt!==Ke&&Ke&&Ke.ownerDocument&&yg(Ke.ownerDocument.documentElement,Ke)){for(pe!==null&&Mf(Ke)&&(tt=pe.start,(rt=pe.end)===void 0&&(rt=tt),"selectionStart"in Ke?(Ke.selectionStart=tt,Ke.selectionEnd=Math.min(rt,Ke.value.length)):(rt=(tt=Ke.ownerDocument||document)&&tt.defaultView||window).getSelection&&(rt=rt.getSelection(),De=Ke.textContent.length,Kt=Math.min(pe.start,De),pe=pe.end===void 0?Kt:Math.min(pe.end,De),!rt.extend&&Kt>pe&&(De=pe,pe=Kt,Kt=De),De=my(Ke,Kt),oe=my(Ke,pe),De&&oe&&(rt.rangeCount!==1||rt.anchorNode!==De.node||rt.anchorOffset!==De.offset||rt.focusNode!==oe.node||rt.focusOffset!==oe.offset)&&((tt=tt.createRange()).setStart(De.node,De.offset),rt.removeAllRanges(),Kt>pe?(rt.addRange(tt),rt.extend(oe.node,oe.offset)):(tt.setEnd(oe.node,oe.offset),rt.addRange(tt))))),tt=[],rt=Ke;rt=rt.parentNode;)rt.nodeType===1&&tt.push({element:rt,left:rt.scrollLeft,top:rt.scrollTop});for(typeof Ke.focus=="function"&&Ke.focus(),Ke=0;Ke<tt.length;Ke++)(rt=tt[Ke]).element.scrollLeft=rt.left,rt.element.scrollTop=rt.top}co=!!xa,Uo=xa=null,x.current=j,xt=z;do try{for(Ke=x;xt!==null;){var Et=xt.flags;if(36&Et&&Ix(Ke,xt.alternate,xt),128&Et){tt=void 0;var ln=xt.ref;if(ln!==null){var Ft=xt.stateNode;xt.tag,tt=Ft,typeof ln=="function"?ln(tt):ln.current=tt}}xt=xt.nextEffect}}catch(Vt){if(xt===null)throw Error(v(330));Ou(xt,Vt),xt=xt.nextEffect}while(xt!==null);xt=null,Ot(),un=q}else x.current=j;if(kc)kc=!1,eh=x,sp=E;else for(xt=z;xt!==null;)E=xt.nextEffect,xt.nextEffect=null,8&xt.flags&&((Et=xt).sibling=null,Et.stateNode=null),xt=E;if((z=x.pendingLanes)===0&&(Nl=null),z===1?x===Vy?Ec++:(Ec=0,Vy=x):Ec=0,j=j.stateNode,Hi&&typeof Hi.onCommitFiberRoot=="function")try{Hi.onCommitFiberRoot(ci,j,void 0,(64&j.current.flags)==64)}catch{}if(hs(x,Qi()),Pg)throw Pg=!1,x=Ig,Ig=null,x;return 8&un||Sl(),null}function Il(){for(;xt!==null;){var x=xt.alternate;Ru||ds===null||(8&xt.flags?dl(xt,ds)&&(Ru=!0):xt.tag===13&&By(x,xt)&&dl(xt,ds)&&(Ru=!0));var E=xt.flags;256&E&&Px(x,xt),!(512&E)||kc||(kc=!0,bc(97,function(){return Ac(),null})),xt=xt.nextEffect}}function Ac(){if(sp!==90){var x=97<sp?97:sp;return sp=90,dr(x,yP)}return!1}function cp(x,E){Ux.push(E,x),kc||(kc=!0,bc(97,function(){return Ac(),null}))}function Cc(x,E){zy.push(E,x),kc||(kc=!0,bc(97,function(){return Ac(),null}))}function yP(){if(eh===null)return!1;var x=eh;if(eh=null,(48&un)!=0)throw Error(v(331));var E=un;un|=32;var j=zy;zy=[];for(var z=0;z<j.length;z+=2){var q=j[z],oe=j[z+1],pe=q.destroy;if(q.destroy=void 0,typeof pe=="function")try{pe()}catch(Ve){if(oe===null)throw Error(v(330));Ou(oe,Ve)}}for(j=Ux,Ux=[],z=0;z<j.length;z+=2){q=j[z],oe=j[z+1];try{var De=q.create;q.destroy=De()}catch(Ve){if(oe===null)throw Error(v(330));Ou(oe,Ve)}}for(De=x.current.firstEffect;De!==null;)x=De.nextEffect,De.nextEffect=null,8&De.flags&&(De.sibling=null,De.stateNode=null),De=x;return un=E,Sl(),!0}function Gy(x,E,j){yc(x,E=RA(0,E=Nx(j,E),1)),E=ai(),(x=Wy(x,1))!==null&&(In(x,1,E),hs(x,E))}function Ou(x,E){if(x.tag===3)Gy(x,x,E);else for(var j=x.return;j!==null;){if(j.tag===3){Gy(j,x,E);break}if(j.tag===1){var z=j.stateNode;if(typeof j.type.getDerivedStateFromError=="function"||typeof z.componentDidCatch=="function"&&(Nl===null||!Nl.has(z))){var q=MA(j,x=Nx(E,x),1);if(yc(j,q),q=ai(),(j=Wy(j,1))!==null)In(j,1,q),hs(j,q);else if(typeof z.componentDidCatch=="function"&&(Nl===null||!Nl.has(z)))try{z.componentDidCatch(E,x)}catch{}break}}j=j.return}}function vP(x,E,j){var z=x.pingCache;z!==null&&z.delete(E),E=ai(),x.pingedLanes|=x.suspendedLanes&j,_r===x&&(Mi&j)===j&&(fr===4||fr===3&&(62914560&Mi)===Mi&&500>Qi()-Ox?lp(x,0):Mx|=j),hs(x,E)}function wP(x,E){var j=x.stateNode;j!==null&&j.delete(E),(E=0)==0&&(2&(E=x.mode)?4&E?(Pl===0&&(Pl=ip),(E=bl(62914560&~Pl))===0&&(E=4194304)):E=El()===99?1:2:E=1),j=ai(),(x=Wy(x,E))!==null&&(In(x,E,j),hs(x,j))}function xP(x,E,j,z){this.tag=x,this.key=j,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=E,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=z,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Wo(x,E,j,z){return new xP(x,E,j,z)}function Bx(x){return!(!(x=x.prototype)||!x.isReactComponent)}function Fu(x,E){var j=x.alternate;return j===null?((j=Wo(x.tag,E,x.key,x.mode)).elementType=x.elementType,j.type=x.type,j.stateNode=x.stateNode,j.alternate=x,x.alternate=j):(j.pendingProps=E,j.type=x.type,j.flags=0,j.nextEffect=null,j.firstEffect=null,j.lastEffect=null),j.childLanes=x.childLanes,j.lanes=x.lanes,j.child=x.child,j.memoizedProps=x.memoizedProps,j.memoizedState=x.memoizedState,j.updateQueue=x.updateQueue,E=x.dependencies,j.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext},j.sibling=x.sibling,j.index=x.index,j.ref=x.ref,j}function Xy(x,E,j,z,q,oe){var pe=2;if(z=x,typeof x=="function")Bx(x)&&(pe=1);else if(typeof x=="string")pe=5;else e:switch(x){case $:return nh(j.children,q,oe,E);case Me:pe=8,q|=16;break;case Te:pe=8,q|=1;break;case re:return(x=Wo(12,j,E,8|q)).elementType=re,x.type=re,x.lanes=oe,x;case ne:return(x=Wo(13,j,E,q)).type=ne,x.elementType=ne,x.lanes=oe,x;case J:return(x=Wo(19,j,E,q)).elementType=J,x.lanes=oe,x;case Re:return zx(j,q,oe,E);case Fe:return(x=Wo(24,j,E,q)).elementType=Fe,x.lanes=oe,x;default:if(typeof x=="object"&&x!==null)switch(x.$$typeof){case ie:pe=10;break e;case G:pe=9;break e;case K:pe=11;break e;case ue:pe=14;break e;case ee:pe=16,z=null;break e;case xe:pe=22;break e}throw Error(v(130,x==null?x:typeof x,""))}return(E=Wo(pe,j,E,q)).elementType=x,E.type=z,E.lanes=oe,E}function nh(x,E,j,z){return(x=Wo(7,x,z,E)).lanes=j,x}function zx(x,E,j,z){return(x=Wo(23,x,z,E)).elementType=Re,x.lanes=j,x}function Vx(x,E,j){return(x=Wo(6,x,null,E)).lanes=j,x}function ih(x,E,j){return(E=Wo(4,x.children!==null?x.children:[],x.key,E)).lanes=j,E.stateNode={containerInfo:x.containerInfo,pendingChildren:null,implementation:x.implementation},E}function _P(x,E,j){this.tag=E,this.containerInfo=x,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=j,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Nd(0),this.expirationTimes=Nd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nd(0),this.mutableSourceEagerHydrationData=null}function Ky(x,E,j,z){var q=E.current,oe=ai(),pe=Vo(q);e:if(j){t:{if(ma(j=j._reactInternals)!==j||j.tag!==1)throw Error(v(170));var De=j;do{switch(De.tag){case 3:De=De.stateNode.context;break t;case 1:if(Rn(De.type)){De=De.stateNode.__reactInternalMemoizedMergedChildContext;break t}}De=De.return}while(De!==null);throw Error(v(171))}if(j.tag===1){var Ve=j.type;if(Rn(Ve)){j=ux(j,Ve,De);break e}}j=De}else j=bu;return E.context===null?E.context=j:E.pendingContext=j,(E=Al(oe,pe)).payload={element:x},(z=z===void 0?null:z)!==null&&(E.callback=z),yc(q,E),Sc(q,pe,oe),pe}function Wx(x){return(x=x.current).child?(x.child.tag,x.child.stateNode):null}function Mg(x,E){if((x=x.memoizedState)!==null&&x.dehydrated!==null){var j=x.retryLane;x.retryLane=j!==0&&j<E?j:E}}function $x(x,E){Mg(x,E),(x=x.alternate)&&Mg(x,E)}function qx(x,E,j){var z=j!=null&&j.hydrationOptions!=null&&j.hydrationOptions.mutableSources||null;if(j=new _P(x,E,j!=null&&j.hydrate===!0),E=Wo(3,null,null,E===2?7:E===1?3:0),j.current=E,E.stateNode=j,zf(E),x[Uf]=j.current,de(x.nodeType===8?x.parentNode:x),z)for(x=0;x<z.length;x++){var q=(E=z[x])._getVersion;q=q(E._source),j.mutableSourceEagerHydrationData==null?j.mutableSourceEagerHydrationData=[E,q]:j.mutableSourceEagerHydrationData.push(E,q)}this._internalRoot=j}function Og(x){return!(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11&&(x.nodeType!==8||x.nodeValue!==" react-mount-point-unstable "))}function Fg(x,E,j,z,q){var oe=j._reactRootContainer;if(oe){var pe=oe._internalRoot;if(typeof q=="function"){var De=q;q=function(){var Xe=Wx(pe);De.call(Xe)}}Ky(E,pe,x,q)}else{if(oe=j._reactRootContainer=function(Xe,ut){if(ut||(ut=!(!(ut=Xe?Xe.nodeType===9?Xe.documentElement:Xe.firstChild:null)||ut.nodeType!==1||!ut.hasAttribute("data-reactroot"))),!ut)for(var kt;kt=Xe.lastChild;)Xe.removeChild(kt);return new qx(Xe,0,ut?{hydrate:!0}:void 0)}(j,z),pe=oe._internalRoot,typeof q=="function"){var Ve=q;q=function(){var Xe=Wx(pe);Ve.call(Xe)}}LA(function(){Ky(E,pe,x,q)})}return Wx(pe)}function HA(x,E){var j=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Og(E))throw Error(v(200));return function(z,q,oe){var pe=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ge,key:pe==null?null:""+pe,children:z,containerInfo:q,implementation:oe}}(x,E,null,j)}FA=function(x,E,j){var z=E.lanes;if(x!==null)if(x.memoizedProps!==E.pendingProps||Br.current)yo=!0;else{if(!(j&z)){switch(yo=!1,E.tag){case 3:My(E),Ty();break;case 5:gA(E);break;case 1:Rn(E.type)&&yy(E);break;case 4:Xf(E,E.stateNode.containerInfo);break;case 10:z=E.memoizedProps.value;var q=E.type._context;Gt(xy,q._currentValue),q._currentValue=z;break;case 13:if(E.memoizedState!==null)return j&E.child.childLanes?DA(x,E,j):(Gt(ui,1&ui.current),(E=_c(x,E,j))!==null?E.sibling:null);Gt(ui,1&ui.current);break;case 19:if(z=(j&E.childLanes)!=0,(64&x.flags)!=0){if(z)return IA(x,E,j);E.flags|=64}if((q=E.memoizedState)!==null&&(q.rendering=null,q.tail=null,q.lastEffect=null),Gt(ui,ui.current),z)break;return null;case 23:case 24:return E.lanes=0,Ex(x,E,j)}return _c(x,E,j)}yo=(16384&x.flags)!=0}else yo=!1;switch(E.lanes=0,E.tag){case 2:if(z=E.type,x!==null&&(x.alternate=null,E.alternate=null,E.flags|=2),x=E.pendingProps,q=vu(E,Ri.current),Hd(E,j),q=Jf(null,E,z,x,q,j),E.flags|=1,typeof q=="object"&&q!==null&&typeof q.render=="function"&&q.$$typeof===void 0){if(E.tag=1,E.memoizedState=null,E.updateQueue=null,Rn(z)){var oe=!0;yy(E)}else oe=!1;E.memoizedState=q.state!==null&&q.state!==void 0?q.state:null,zf(E);var pe=z.getDerivedStateFromProps;typeof pe=="function"&&zo(E,z,pe,x),q.updater=Ay,E.stateNode=q,q._reactInternals=E,$f(E,z,x,j),E=ep(null,E,z,!0,oe,j)}else E.tag=0,us(null,E,q,j),E=E.child;return E;case 16:q=E.elementType;e:{switch(x!==null&&(x.alternate=null,E.alternate=null,E.flags|=2),x=E.pendingProps,q=(oe=q._init)(q._payload),E.type=q,oe=E.tag=function(ut){if(typeof ut=="function")return Bx(ut)?1:0;if(ut!=null){if((ut=ut.$$typeof)===K)return 11;if(ut===ue)return 14}return 2}(q),x=Bo(q,x),oe){case 0:E=Sx(null,E,q,x,j);break e;case 1:E=AA(null,E,q,x,j);break e;case 11:E=EA(null,E,q,x,j);break e;case 14:E=Ry(null,E,q,Bo(q.type,x),z,j);break e}throw Error(v(306,q,""))}return E;case 0:return z=E.type,q=E.pendingProps,Sx(x,E,z,q=E.elementType===z?q:Bo(z,q),j);case 1:return z=E.type,q=E.pendingProps,AA(x,E,z,q=E.elementType===z?q:Bo(z,q),j);case 3:if(My(E),z=E.updateQueue,x===null||z===null)throw Error(v(282));if(z=E.pendingProps,q=(q=E.memoizedState)!==null?q.element:null,Sy(x,E),kg(E,z,null,j),(z=E.memoizedState.element)===q)Ty(),E=_c(x,E,j);else{if((oe=(q=E.stateNode).hydrate)&&(Ea=Ms(E.stateNode.containerInfo.firstChild),wc=E,oe=Fs=!0),oe){if((x=q.mutableSourceEagerHydrationData)!=null)for(q=0;q<x.length;q+=2)(oe=x[q])._workInProgressVersionPrimary=x[q+1],Zf.push(oe);for(j=Hf(E,null,z,j),E.child=j;j;)j.flags=-3&j.flags|1024,j=j.sibling}else us(x,E,z,j),Ty();E=E.child}return E;case 5:return gA(E),x===null&&Cy(E),z=E.type,q=E.pendingProps,oe=x!==null?x.memoizedProps:null,pe=q.children,Ur(z,q)?pe=null:oe!==null&&Ur(z,oe)&&(E.flags|=16),SA(x,E),us(x,E,pe,j),E.child;case 6:return x===null&&Cy(E),null;case 13:return DA(x,E,j);case 4:return Xf(E,E.stateNode.containerInfo),z=E.pendingProps,x===null?E.child=Xd(E,null,z,j):us(x,E,z,j),E.child;case 11:return z=E.type,q=E.pendingProps,EA(x,E,z,q=E.elementType===z?q:Bo(z,q),j);case 7:return us(x,E,E.pendingProps,j),E.child;case 8:case 12:return us(x,E,E.pendingProps.children,j),E.child;case 10:e:{z=E.type._context,q=E.pendingProps,pe=E.memoizedProps,oe=q.value;var De=E.type._context;if(Gt(xy,De._currentValue),De._currentValue=oe,pe!==null)if(De=pe.value,(oe=ls(De,oe)?0:0|(typeof z._calculateChangedBits=="function"?z._calculateChangedBits(De,oe):1073741823))===0){if(pe.children===q.children&&!Br.current){E=_c(x,E,j);break e}}else for((De=E.child)!==null&&(De.return=E);De!==null;){var Ve=De.dependencies;if(Ve!==null){pe=De.child;for(var Xe=Ve.firstContext;Xe!==null;){if(Xe.context===z&&Xe.observedBits&oe){De.tag===1&&((Xe=Al(-1,j&-j)).tag=2,yc(De,Xe)),De.lanes|=j,(Xe=De.alternate)!==null&&(Xe.lanes|=j),gx(De.return,j),Ve.lanes|=j;break}Xe=Xe.next}}else pe=De.tag===10&&De.type===E.type?null:De.child;if(pe!==null)pe.return=De;else for(pe=De;pe!==null;){if(pe===E){pe=null;break}if((De=pe.sibling)!==null){De.return=pe.return,pe=De;break}pe=pe.return}De=pe}us(x,E,q.children,j),E=E.child}return E;case 9:return q=E.type,z=(oe=E.pendingProps).children,Hd(E,j),z=z(q=po(q,oe.unstable_observedBits)),E.flags|=1,us(x,E,z,j),E.child;case 14:return oe=Bo(q=E.type,E.pendingProps),Ry(x,E,q,oe=Bo(q.type,oe),z,j);case 15:return kx(x,E,E.type,E.pendingProps,z,j);case 17:return z=E.type,q=E.pendingProps,q=E.elementType===z?q:Bo(z,q),x!==null&&(x.alternate=null,E.alternate=null,E.flags|=2),E.tag=1,Rn(z)?(x=!0,yy(E)):x=!1,Hd(E,j),Wf(E,z,q),$f(E,z,q,j),ep(null,E,z,!0,x,j);case 19:return IA(x,E,j);case 23:case 24:return Ex(x,E,j)}throw Error(v(156,E.tag))},qx.prototype.render=function(x){Ky(x,this._internalRoot,null,null)},qx.prototype.unmount=function(){var x=this._internalRoot,E=x.containerInfo;Ky(null,x,null,function(){E[Uf]=null})},hl=function(x){x.tag===13&&(Sc(x,4,ai()),$x(x,4))},fl=function(x){x.tag===13&&(Sc(x,67108864,ai()),$x(x,67108864))},Ym=function(x){if(x.tag===13){var E=ai(),j=Vo(x);Sc(x,j,E),$x(x,j)}},Cd=function(x,E){return E()},Mr=function(x,E,j){switch(E){case"input":if(Ue(x,j),E=j.name,j.type==="radio"&&E!=null){for(j=x;j.parentNode;)j=j.parentNode;for(j=j.querySelectorAll("input[name="+JSON.stringify(""+E)+'][type="radio"]'),E=0;E<j.length;E++){var z=j[E];if(z!==x&&z.form===x.form){var q=wg(z);if(!q)throw Error(v(90));qe(z),Ue(z,q)}}}break;case"textarea":bt(x,j);break;case"select":(E=j.value)!=null&&ht(x,!!j.multiple,E,!1)}},Is=UA,ol=function(x,E,j,z,q){var oe=un;un|=4;try{return dr(98,x.bind(null,E,j,z,q))}finally{(un=oe)===0&&(ju(),Sl())}},Mo=function(){!(49&un)&&(function(){if(Ta!==null){var x=Ta;Ta=null,x.forEach(function(E){E.expiredLanes|=24&E.pendingLanes,hs(E,Qi())})}Sl()}(),Ac())},al=function(x,E){var j=un;un|=2;try{return x(E)}finally{(un=j)===0&&(ju(),Sl())}};var kP={Events:[Lf,$d,wg,Ps,ss,Ac,{current:!1}]},up={findFiberByHostInstance:mu,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Hx={bundleType:up.bundleType,version:up.version,rendererPackageName:up.rendererPackageName,rendererConfig:up.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:me.ReactCurrentDispatcher,findHostInstanceByFiber:function(x){return(x=ji(x))===null?null:x.stateNode},findFiberByHostInstance:up.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zy.isDisabled&&Zy.supportsFiber)try{ci=Zy.inject(Hx),Hi=Zy}catch{}}u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kP,u.createPortal=HA,u.findDOMNode=function(x){if(x==null)return null;if(x.nodeType===1)return x;var E=x._reactInternals;if(E===void 0)throw typeof x.render=="function"?Error(v(188)):Error(v(268,Object.keys(x)));return x=(x=ji(E))===null?null:x.stateNode},u.flushSync=function(x,E){var j=un;if(48&j)return x(E);un|=1;try{if(x)return dr(99,x.bind(null,E))}finally{un=j,Sl()}},u.hydrate=function(x,E,j){if(!Og(E))throw Error(v(200));return Fg(null,x,E,!0,j)},u.render=function(x,E,j){if(!Og(E))throw Error(v(200));return Fg(null,x,E,!1,j)},u.unmountComponentAtNode=function(x){if(!Og(x))throw Error(v(40));return!!x._reactRootContainer&&(LA(function(){Fg(null,null,x,!1,function(){x._reactRootContainer=null,x[Uf]=null})}),!0)},u.unstable_batchedUpdates=UA,u.unstable_createPortal=function(x,E){return HA(x,E,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)},u.unstable_renderSubtreeIntoContainer=function(x,E,j,z){if(!Og(j))throw Error(v(200));if(x==null||x._reactInternals===void 0)throw Error(v(38));return Fg(x,E,j,!1,z)},u.version="17.0.2"},3935:(c,u,h)=>{(function m(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE=="function")try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m)}catch(g){console.error(g)}})(),c.exports=h(4448)},2408:(c,u,h)=>{var m=h(7418),g=60103,y=60106;u.Fragment=60107,u.StrictMode=60108,u.Profiler=60114;var v=60109,_=60110,A=60112;u.Suspense=60113;var S=60115,C=60116;if(typeof Symbol=="function"&&Symbol.for){var T=Symbol.for;g=T("react.element"),y=T("react.portal"),u.Fragment=T("react.fragment"),u.StrictMode=T("react.strict_mode"),u.Profiler=T("react.profiler"),v=T("react.provider"),_=T("react.context"),A=T("react.forward_ref"),u.Suspense=T("react.suspense"),S=T("react.memo"),C=T("react.lazy")}var N=typeof Symbol=="function"&&Symbol.iterator;function I(ee){for(var xe="https://reactjs.org/docs/error-decoder.html?invariant="+ee,Se=1;Se<arguments.length;Se++)xe+="&args[]="+encodeURIComponent(arguments[Se]);return"Minified React error #"+ee+"; visit "+xe+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F={};function U(ee,xe,Se){this.props=ee,this.context=xe,this.refs=F,this.updater=Se||O}function V(){}function B(ee,xe,Se){this.props=ee,this.context=xe,this.refs=F,this.updater=Se||O}U.prototype.isReactComponent={},U.prototype.setState=function(ee,xe){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error(I(85));this.updater.enqueueSetState(this,ee,xe,"setState")},U.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")},V.prototype=U.prototype;var Z=B.prototype=new V;Z.constructor=B,m(Z,U.prototype),Z.isPureReactComponent=!0;var ae={current:null},me=Object.prototype.hasOwnProperty,Q={key:!0,ref:!0,__self:!0,__source:!0};function ge(ee,xe,Se){var Me,Re={},Fe=null,We=null;if(xe!=null)for(Me in xe.ref!==void 0&&(We=xe.ref),xe.key!==void 0&&(Fe=""+xe.key),xe)me.call(xe,Me)&&!Q.hasOwnProperty(Me)&&(Re[Me]=xe[Me]);var ze=arguments.length-2;if(ze===1)Re.children=Se;else if(1<ze){for(var Ne=Array(ze),ke=0;ke<ze;ke++)Ne[ke]=arguments[ke+2];Re.children=Ne}if(ee&&ee.defaultProps)for(Me in ze=ee.defaultProps)Re[Me]===void 0&&(Re[Me]=ze[Me]);return{$$typeof:g,type:ee,key:Fe,ref:We,props:Re,_owner:ae.current}}function $(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===g}var Te=/\/+/g;function re(ee,xe){return typeof ee=="object"&&ee!==null&&ee.key!=null?function(Se){var Me={"=":"=0",":":"=2"};return"$"+Se.replace(/[=:]/g,function(Re){return Me[Re]})}(""+ee.key):xe.toString(36)}function ie(ee,xe,Se,Me,Re){var Fe=typeof ee;Fe!=="undefined"&&Fe!=="boolean"||(ee=null);var We=!1;if(ee===null)We=!0;else switch(Fe){case"string":case"number":We=!0;break;case"object":switch(ee.$$typeof){case g:case y:We=!0}}if(We)return Re=Re(We=ee),ee=Me===""?"."+re(We,0):Me,Array.isArray(Re)?(Se="",ee!=null&&(Se=ee.replace(Te,"$&/")+"/"),ie(Re,xe,Se,"",function(ke){return ke})):Re!=null&&($(Re)&&(Re=function(ke,Be){return{$$typeof:g,type:ke.type,key:Be,ref:ke.ref,props:ke.props,_owner:ke._owner}}(Re,Se+(!Re.key||We&&We.key===Re.key?"":(""+Re.key).replace(Te,"$&/")+"/")+ee)),xe.push(Re)),1;if(We=0,Me=Me===""?".":Me+":",Array.isArray(ee))for(var ze=0;ze<ee.length;ze++){var Ne=Me+re(Fe=ee[ze],ze);We+=ie(Fe,xe,Se,Ne,Re)}else if(Ne=function(ke){return ke===null||typeof ke!="object"?null:typeof(ke=N&&ke[N]||ke["@@iterator"])=="function"?ke:null}(ee),typeof Ne=="function")for(ee=Ne.call(ee),ze=0;!(Fe=ee.next()).done;)We+=ie(Fe=Fe.value,xe,Se,Ne=Me+re(Fe,ze++),Re);else if(Fe==="object")throw xe=""+ee,Error(I(31,xe==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":xe));return We}function G(ee,xe,Se){if(ee==null)return ee;var Me=[],Re=0;return ie(ee,Me,"","",function(Fe){return xe.call(Se,Fe,Re++)}),Me}function K(ee){if(ee._status===-1){var xe=ee._result;xe=xe(),ee._status=0,ee._result=xe,xe.then(function(Se){ee._status===0&&(Se=Se.default,ee._status=1,ee._result=Se)},function(Se){ee._status===0&&(ee._status=2,ee._result=Se)})}if(ee._status===1)return ee._result;throw ee._result}var ne={current:null};function J(){var ee=ne.current;if(ee===null)throw Error(I(321));return ee}var ue={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:ae,IsSomeRendererActing:{current:!1},assign:m};u.Children={map:G,forEach:function(ee,xe,Se){G(ee,function(){xe.apply(this,arguments)},Se)},count:function(ee){var xe=0;return G(ee,function(){xe++}),xe},toArray:function(ee){return G(ee,function(xe){return xe})||[]},only:function(ee){if(!$(ee))throw Error(I(143));return ee}},u.Component=U,u.PureComponent=B,u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,u.cloneElement=function(ee,xe,Se){if(ee==null)throw Error(I(267,ee));var Me=m({},ee.props),Re=ee.key,Fe=ee.ref,We=ee._owner;if(xe!=null){if(xe.ref!==void 0&&(Fe=xe.ref,We=ae.current),xe.key!==void 0&&(Re=""+xe.key),ee.type&&ee.type.defaultProps)var ze=ee.type.defaultProps;for(Ne in xe)me.call(xe,Ne)&&!Q.hasOwnProperty(Ne)&&(Me[Ne]=xe[Ne]===void 0&&ze!==void 0?ze[Ne]:xe[Ne])}var Ne=arguments.length-2;if(Ne===1)Me.children=Se;else if(1<Ne){ze=Array(Ne);for(var ke=0;ke<Ne;ke++)ze[ke]=arguments[ke+2];Me.children=ze}return{$$typeof:g,type:ee.type,key:Re,ref:Fe,props:Me,_owner:We}},u.createContext=function(ee,xe){return xe===void 0&&(xe=null),(ee={$$typeof:_,_calculateChangedBits:xe,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:v,_context:ee},ee.Consumer=ee},u.createElement=ge,u.createFactory=function(ee){var xe=ge.bind(null,ee);return xe.type=ee,xe},u.createRef=function(){return{current:null}},u.forwardRef=function(ee){return{$$typeof:A,render:ee}},u.isValidElement=$,u.lazy=function(ee){return{$$typeof:C,_payload:{_status:-1,_result:ee},_init:K}},u.memo=function(ee,xe){return{$$typeof:S,type:ee,compare:xe===void 0?null:xe}},u.useCallback=function(ee,xe){return J().useCallback(ee,xe)},u.useContext=function(ee,xe){return J().useContext(ee,xe)},u.useDebugValue=function(){},u.useEffect=function(ee,xe){return J().useEffect(ee,xe)},u.useImperativeHandle=function(ee,xe,Se){return J().useImperativeHandle(ee,xe,Se)},u.useLayoutEffect=function(ee,xe){return J().useLayoutEffect(ee,xe)},u.useMemo=function(ee,xe){return J().useMemo(ee,xe)},u.useReducer=function(ee,xe,Se){return J().useReducer(ee,xe,Se)},u.useRef=function(ee){return J().useRef(ee)},u.useState=function(ee){return J().useState(ee)},u.version="17.0.2"},7294:(c,u,h)=>{c.exports=h(2408)},53:(c,u)=>{var h,m,g,y;if(typeof performance=="object"&&typeof performance.now=="function"){var v=performance;u.unstable_now=function(){return v.now()}}else{var _=Date,A=_.now();u.unstable_now=function(){return _.now()-A}}if(typeof window>"u"||typeof MessageChannel!="function"){var S=null,C=null,T=function(){if(S!==null)try{var Fe=u.unstable_now();S(!0,Fe),S=null}catch(We){throw setTimeout(T,0),We}};h=function(Fe){S!==null?setTimeout(h,0,Fe):(S=Fe,setTimeout(T,0))},m=function(Fe,We){C=setTimeout(Fe,We)},g=function(){clearTimeout(C)},u.unstable_shouldYield=function(){return!1},y=u.unstable_forceFrameRate=function(){}}else{var N=window.setTimeout,I=window.clearTimeout;if(typeof console<"u"){var O=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof O!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var F=!1,U=null,V=-1,B=5,Z=0;u.unstable_shouldYield=function(){return u.unstable_now()>=Z},y=function(){},u.unstable_forceFrameRate=function(Fe){0>Fe||125<Fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<Fe?Math.floor(1e3/Fe):5};var ae=new MessageChannel,me=ae.port2;ae.port1.onmessage=function(){if(U!==null){var Fe=u.unstable_now();Z=Fe+B;try{U(!0,Fe)?me.postMessage(null):(F=!1,U=null)}catch(We){throw me.postMessage(null),We}}else F=!1},h=function(Fe){U=Fe,F||(F=!0,me.postMessage(null))},m=function(Fe,We){V=N(function(){Fe(u.unstable_now())},We)},g=function(){I(V),V=-1}}function Q(Fe,We){var ze=Fe.length;Fe.push(We);e:for(;;){var Ne=ze-1>>>1,ke=Fe[Ne];if(!(ke!==void 0&&0<Te(ke,We)))break e;Fe[Ne]=We,Fe[ze]=ke,ze=Ne}}function ge(Fe){return(Fe=Fe[0])===void 0?null:Fe}function $(Fe){var We=Fe[0];if(We!==void 0){var ze=Fe.pop();if(ze!==We){Fe[0]=ze;e:for(var Ne=0,ke=Fe.length;Ne<ke;){var Be=2*(Ne+1)-1,X=Fe[Be],Ae=Be+1,Ie=Fe[Ae];if(X!==void 0&&0>Te(X,ze))Ie!==void 0&&0>Te(Ie,X)?(Fe[Ne]=Ie,Fe[Ae]=ze,Ne=Ae):(Fe[Ne]=X,Fe[Be]=ze,Ne=Be);else{if(!(Ie!==void 0&&0>Te(Ie,ze)))break e;Fe[Ne]=Ie,Fe[Ae]=ze,Ne=Ae}}}return We}return null}function Te(Fe,We){var ze=Fe.sortIndex-We.sortIndex;return ze!==0?ze:Fe.id-We.id}var re=[],ie=[],G=1,K=null,ne=3,J=!1,ue=!1,ee=!1;function xe(Fe){for(var We=ge(ie);We!==null;){if(We.callback===null)$(ie);else{if(!(We.startTime<=Fe))break;$(ie),We.sortIndex=We.expirationTime,Q(re,We)}We=ge(ie)}}function Se(Fe){if(ee=!1,xe(Fe),!ue)if(ge(re)!==null)ue=!0,h(Me);else{var We=ge(ie);We!==null&&m(Se,We.startTime-Fe)}}function Me(Fe,We){ue=!1,ee&&(ee=!1,g()),J=!0;var ze=ne;try{for(xe(We),K=ge(re);K!==null&&(!(K.expirationTime>We)||Fe&&!u.unstable_shouldYield());){var Ne=K.callback;if(typeof Ne=="function"){K.callback=null,ne=K.priorityLevel;var ke=Ne(K.expirationTime<=We);We=u.unstable_now(),typeof ke=="function"?K.callback=ke:K===ge(re)&&$(re),xe(We)}else $(re);K=ge(re)}if(K!==null)var Be=!0;else{var X=ge(ie);X!==null&&m(Se,X.startTime-We),Be=!1}return Be}finally{K=null,ne=ze,J=!1}}var Re=y;u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(Fe){Fe.callback=null},u.unstable_continueExecution=function(){ue||J||(ue=!0,h(Me))},u.unstable_getCurrentPriorityLevel=function(){return ne},u.unstable_getFirstCallbackNode=function(){return ge(re)},u.unstable_next=function(Fe){switch(ne){case 1:case 2:case 3:var We=3;break;default:We=ne}var ze=ne;ne=We;try{return Fe()}finally{ne=ze}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=Re,u.unstable_runWithPriority=function(Fe,We){switch(Fe){case 1:case 2:case 3:case 4:case 5:break;default:Fe=3}var ze=ne;ne=Fe;try{return We()}finally{ne=ze}},u.unstable_scheduleCallback=function(Fe,We,ze){var Ne=u.unstable_now();switch(typeof ze=="object"&&ze!==null?ze=typeof(ze=ze.delay)=="number"&&0<ze?Ne+ze:Ne:ze=Ne,Fe){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return Fe={id:G++,callback:We,priorityLevel:Fe,startTime:ze,expirationTime:ke=ze+ke,sortIndex:-1},ze>Ne?(Fe.sortIndex=ze,Q(ie,Fe),ge(re)===null&&Fe===ge(ie)&&(ee?g():ee=!0,m(Se,ze-Ne))):(Fe.sortIndex=ke,Q(re,Fe),ue||J||(ue=!0,h(Me))),Fe},u.unstable_wrapCallback=function(Fe){var We=ne;return function(){var ze=ne;ne=We;try{return Fe.apply(this,arguments)}finally{ne=ze}}}},3840:(c,u,h)=>{c.exports=h(53)},4670:(c,u,h)=>{c.exports=h(5607)},9829:(c,u,h)=>{var m,g,y,v=h(8946),_="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function A(){y=!1}function S(T){if(T){if(T!==m){if(T.length!==_.length)throw new Error("Custom alphabet for shortid must be "+_.length+" unique characters. You submitted "+T.length+" characters: "+T);var N=T.split("").filter(function(I,O,F){return O!==F.lastIndexOf(I)});if(N.length)throw new Error("Custom alphabet for shortid must be "+_.length+" unique characters. These characters were not unique: "+N.join(", "));m=T,A()}}else m!==_&&(m=_,A())}function C(){return y||(y=function(){m||S(_);for(var T,N=m.split(""),I=[],O=v.nextValue();N.length>0;)O=v.nextValue(),T=Math.floor(O*N.length),I.push(N.splice(T,1)[0]);return I.join("")}())}c.exports={get:function(){return m||_},characters:function(T){return S(T),m},seed:function(T){v.seed(T),g!==T&&(A(),g=T)},lookup:function(T){return C()[T]},shuffled:C}},480:(c,u,h)=>{var m,g,y=h(8416);h(9829),c.exports=function(v){var _="",A=Math.floor(.001*(Date.now()-1567752802062));return A===g?m++:(m=0,g=A),_+=y(7),_+=y(v),m>0&&(_+=y(m)),_+=y(A)}},8416:(c,u,h)=>{var m=h(9829),g=h(3766),y=h(296);c.exports=function(v){for(var _,A=0,S="";!_;)S+=y(g,m.get(),1),_=v<Math.pow(16,A+1),A++;return S}},5607:(c,u,h)=>{var m=h(9829),g=h(480),y=h(1082),v=h(5636)||0;function _(){return g(v)}c.exports=_,c.exports.generate=_,c.exports.seed=function(A){return m.seed(A),c.exports},c.exports.worker=function(A){return v=A,c.exports},c.exports.characters=function(A){return A!==void 0&&m.characters(A),m.shuffled()},c.exports.isValid=y},1082:(c,u,h)=>{var m=h(9829);c.exports=function(g){return!(!g||typeof g!="string"||g.length<6)&&!new RegExp("[^"+m.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(g)}},3766:c=>{var u,h=typeof window=="object"&&(window.crypto||window.msCrypto);u=h&&h.getRandomValues?function(m){return h.getRandomValues(new Uint8Array(m))}:function(m){for(var g=[],y=0;y<m;y++)g.push(Math.floor(256*Math.random()));return g},c.exports=u},8946:c=>{var u=1;c.exports={nextValue:function(){return(u=(9301*u+49297)%233280)/233280},seed:function(h){u=h}}},5636:c=>{c.exports=0},296:c=>{c.exports=function(u,h,m){for(var g=(2<<Math.log(h.length-1)/Math.LN2)-1,y=-~(1.6*g*m/h.length),v="";;)for(var _=u(y),A=y;A--;)if((v+=h[_[A]&g]||"").length===+m)return v}},7478:(c,u,h)=>{var m=h(210),g=h(1924),y=h(631),v=m("%TypeError%"),_=m("%WeakMap%",!0),A=m("%Map%",!0),S=g("WeakMap.prototype.get",!0),C=g("WeakMap.prototype.set",!0),T=g("WeakMap.prototype.has",!0),N=g("Map.prototype.get",!0),I=g("Map.prototype.set",!0),O=g("Map.prototype.has",!0),F=function(U,V){for(var B,Z=U;(B=Z.next)!==null;Z=B)if(B.key===V)return Z.next=B.next,B.next=U.next,U.next=B,B};c.exports=function(){var U,V,B,Z={assert:function(ae){if(!Z.has(ae))throw new v("Side channel does not contain "+y(ae))},get:function(ae){if(_&&ae&&(typeof ae=="object"||typeof ae=="function")){if(U)return S(U,ae)}else if(A){if(V)return N(V,ae)}else if(B)return function(me,Q){var ge=F(me,Q);return ge&&ge.value}(B,ae)},has:function(ae){if(_&&ae&&(typeof ae=="object"||typeof ae=="function")){if(U)return T(U,ae)}else if(A){if(V)return O(V,ae)}else if(B)return function(me,Q){return!!F(me,Q)}(B,ae);return!1},set:function(ae,me){_&&ae&&(typeof ae=="object"||typeof ae=="function")?(U||(U=new _),C(U,ae,me)):A?(V||(V=new A),I(V,ae,me)):(B||(B={key:{},next:null}),function(Q,ge,$){var Te=F(Q,ge);Te?Te.value=$:Q.next={key:ge,next:Q.next,value:$}}(B,ae,me))}};return Z}},3379:c=>{var u=[];function h(y){for(var v=-1,_=0;_<u.length;_++)if(u[_].identifier===y){v=_;break}return v}function m(y,v){for(var _={},A=[],S=0;S<y.length;S++){var C=y[S],T=v.base?C[0]+v.base:C[0],N=_[T]||0,I="".concat(T," ").concat(N);_[T]=N+1;var O=h(I),F={css:C[1],media:C[2],sourceMap:C[3],supports:C[4],layer:C[5]};if(O!==-1)u[O].references++,u[O].updater(F);else{var U=g(F,v);v.byIndex=S,u.splice(S,0,{identifier:I,updater:U,references:1})}A.push(I)}return A}function g(y,v){var _=v.domAPI(v);return _.update(y),function(A){if(A){if(A.css===y.css&&A.media===y.media&&A.sourceMap===y.sourceMap&&A.supports===y.supports&&A.layer===y.layer)return;_.update(y=A)}else _.remove()}}c.exports=function(y,v){var _=m(y=y||[],v=v||{});return function(A){A=A||[];for(var S=0;S<_.length;S++){var C=h(_[S]);u[C].references--}for(var T=m(A,v),N=0;N<_.length;N++){var I=h(_[N]);u[I].references===0&&(u[I].updater(),u.splice(I,1))}_=T}}},569:c=>{var u={};c.exports=function(h,m){var g=function(y){if(u[y]===void 0){var v=document.querySelector(y);if(window.HTMLIFrameElement&&v instanceof window.HTMLIFrameElement)try{v=v.contentDocument.head}catch{v=null}u[y]=v}return u[y]}(h);if(!g)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");g.appendChild(m)}},9216:c=>{c.exports=function(u){var h=document.createElement("style");return u.setAttributes(h,u.attributes),u.insert(h,u.options),h}},8575:c=>{c.exports=function(u,h){Object.keys(h).forEach(function(m){u.setAttribute(m,h[m])})}},9037:c=>{var u,h=(u=[],function(y,v){return u[y]=v,u.filter(Boolean).join(`
`)});function m(y,v,_,A){var S;if(_)S="";else{S="",A.supports&&(S+="@supports (".concat(A.supports,") {")),A.media&&(S+="@media ".concat(A.media," {"));var C=A.layer!==void 0;C&&(S+="@layer".concat(A.layer.length>0?" ".concat(A.layer):""," {")),S+=A.css,C&&(S+="}"),A.media&&(S+="}"),A.supports&&(S+="}")}if(y.styleSheet)y.styleSheet.cssText=h(v,S);else{var T=document.createTextNode(S),N=y.childNodes;N[v]&&y.removeChild(N[v]),N.length?y.insertBefore(T,N[v]):y.appendChild(T)}}var g={singleton:null,singletonCounter:0};c.exports=function(y){if(typeof document>"u")return{update:function(){},remove:function(){}};var v=g.singletonCounter++,_=g.singleton||(g.singleton=y.insertStyleElement(y));return{update:function(A){m(_,v,!1,A)},remove:function(A){m(_,v,!0,A)}}}},7903:c=>{function u(v,_){var A=typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(!A){if(Array.isArray(v)||(A=function(O,F){if(O){if(typeof O=="string")return h(O,F);var U=Object.prototype.toString.call(O).slice(8,-1);if(U==="Object"&&O.constructor&&(U=O.constructor.name),U==="Map"||U==="Set")return Array.from(O);if(U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return h(O,F)}}(v))||_){A&&(v=A);var S=0,C=function(){};return{s:C,n:function(){return S>=v.length?{done:!0}:{done:!1,value:v[S++]}},e:function(O){throw O},f:C}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var T,N=!0,I=!1;return{s:function(){A=A.call(v)},n:function(){var O=A.next();return N=O.done,O},e:function(O){I=!0,T=O},f:function(){try{N||A.return==null||A.return()}finally{if(I)throw T}}}}function h(v,_){(_==null||_>v.length)&&(_=v.length);for(var A=0,S=new Array(_);A<_;A++)S[A]=v[A];return S}function m(){this._defaults=[]}for(var g=0,y=["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"];g<y.length;g++){const v=y[g];m.prototype[v]=function(){for(var _=arguments.length,A=new Array(_),S=0;S<_;S++)A[S]=arguments[S];return this._defaults.push({fn:v,args:A}),this}}m.prototype._setDefaults=function(v){var _,A=u(this._defaults);try{for(A.s();!(_=A.n()).done;){const S=_.value;v[S.fn](...S.args)}}catch(S){A.e(S)}finally{A.f()}},c.exports=m},2968:(c,u,h)=>{function m(G,K){var ne=typeof Symbol<"u"&&G[Symbol.iterator]||G["@@iterator"];if(!ne){if(Array.isArray(G)||(ne=function(Me,Re){if(Me){if(typeof Me=="string")return g(Me,Re);var Fe=Object.prototype.toString.call(Me).slice(8,-1);if(Fe==="Object"&&Me.constructor&&(Fe=Me.constructor.name),Fe==="Map"||Fe==="Set")return Array.from(Me);if(Fe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Fe))return g(Me,Re)}}(G))||K){ne&&(G=ne);var J=0,ue=function(){};return{s:ue,n:function(){return J>=G.length?{done:!0}:{done:!1,value:G[J++]}},e:function(Me){throw Me},f:ue}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ee,xe=!0,Se=!1;return{s:function(){ne=ne.call(G)},n:function(){var Me=ne.next();return xe=Me.done,Me},e:function(Me){Se=!0,ee=Me},f:function(){try{xe||ne.return==null||ne.return()}finally{if(Se)throw ee}}}}function g(G,K){(K==null||K>G.length)&&(K=G.length);for(var ne=0,J=new Array(K);ne<K;ne++)J[ne]=G[ne];return J}let y;typeof window<"u"?y=window:typeof self>"u"?(console.warn("Using browser-only version of superagent in non-browser environment"),y=void 0):y=self;const v=h(8767),_=h(4445),A=h(129),S=h(8899),C=h(4506),T=C.isObject,N=C.mixin,I=C.hasOwn,O=h(1097),F=h(7903);function U(){}c.exports=function(G,K){return typeof K=="function"?new u.Request("GET",G).end(K):arguments.length===1?new u.Request("GET",G):new u.Request(G,K)};const V=u=c.exports;u.Request=$,V.getXHR=()=>{if(y.XMLHttpRequest)return new y.XMLHttpRequest;throw new Error("Browser-only version of superagent could not find XHR")};const B="".trim?G=>G.trim():G=>G.replace(/(^\s*|\s*$)/g,"");function Z(G){if(!T(G))return G;const K=[];for(const ne in G)I(G,ne)&&ae(K,ne,G[ne]);return K.join("&")}function ae(G,K,ne){if(ne!==void 0)if(ne!==null)if(Array.isArray(ne)){var J,ue=m(ne);try{for(ue.s();!(J=ue.n()).done;)ae(G,K,J.value)}catch(ee){ue.e(ee)}finally{ue.f()}}else if(T(ne))for(const ee in ne)I(ne,ee)&&ae(G,`${K}[${ee}]`,ne[ee]);else G.push(encodeURI(K)+"="+encodeURIComponent(ne));else G.push(encodeURI(K))}function me(G){const K={},ne=G.split("&");let J,ue;for(let ee=0,xe=ne.length;ee<xe;++ee)J=ne[ee],ue=J.indexOf("="),ue===-1?K[decodeURIComponent(J)]="":K[decodeURIComponent(J.slice(0,ue))]=decodeURIComponent(J.slice(ue+1));return K}function Q(G){return/[/+]json($|[^-\w])/i.test(G)}function ge(G){this.req=G,this.xhr=this.req.xhr,this.text=this.req.method!=="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||this.xhr.responseType===void 0?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;let K=this.xhr.status;K===1223&&(K=204),this._setStatusProperties(K),this.headers=function(ne){const J=ne.split(/\r?\n/),ue={};let ee,xe,Se,Me;for(let Re=0,Fe=J.length;Re<Fe;++Re)xe=J[Re],ee=xe.indexOf(":"),ee!==-1&&(Se=xe.slice(0,ee).toLowerCase(),Me=B(xe.slice(ee+1)),ue[Se]=Me);return ue}(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.text===null&&G._responseType?this.body=this.xhr.response:this.body=this.req.method==="HEAD"?null:this._parseBody(this.text?this.text:this.xhr.response)}function $(G,K){const ne=this;this._query=this._query||[],this.method=G,this.url=K,this.header={},this._header={},this.on("end",()=>{let J,ue=null,ee=null;try{ee=new ge(ne)}catch(xe){return ue=new Error("Parser is unable to parse the response"),ue.parse=!0,ue.original=xe,ne.xhr?(ue.rawResponse=ne.xhr.responseType===void 0?ne.xhr.responseText:ne.xhr.response,ue.status=ne.xhr.status?ne.xhr.status:null,ue.statusCode=ue.status):(ue.rawResponse=null,ue.status=null),ne.callback(ue)}ne.emit("response",ee);try{ne._isResponseOK(ee)||(J=new Error(ee.statusText||ee.text||"Unsuccessful HTTP response"))}catch(xe){J=xe}J?(J.original=ue,J.response=ee,J.status=J.status||ee.status,ne.callback(J,ee)):ne.callback(null,ee)})}V.serializeObject=Z,V.parseString=me,V.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},V.serialize={"application/x-www-form-urlencoded":A.stringify,"application/json":_},V.parse={"application/x-www-form-urlencoded":me,"application/json":JSON.parse},N(ge.prototype,O.prototype),ge.prototype._parseBody=function(G){let K=V.parse[this.type];return this.req._parser?this.req._parser(this,G):(!K&&Q(this.type)&&(K=V.parse["application/json"]),K&&G&&(G.length>0||G instanceof Object)?K(G):null)},ge.prototype.toError=function(){const G=this.req,K=G.method,ne=G.url,J=`cannot ${K} ${ne} (${this.status})`,ue=new Error(J);return ue.status=this.status,ue.method=K,ue.url=ne,ue},V.Response=ge,v($.prototype),N($.prototype,S.prototype),$.prototype.type=function(G){return this.set("Content-Type",V.types[G]||G),this},$.prototype.accept=function(G){return this.set("Accept",V.types[G]||G),this},$.prototype.auth=function(G,K,ne){arguments.length===1&&(K=""),typeof K=="object"&&K!==null&&(ne=K,K=""),ne||(ne={type:typeof btoa=="function"?"basic":"auto"});const J=ne.encoder?ne.encoder:ue=>{if(typeof btoa=="function")return btoa(ue);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(G,K,ne,J)},$.prototype.query=function(G){return typeof G!="string"&&(G=Z(G)),G&&this._query.push(G),this},$.prototype.attach=function(G,K,ne){if(K){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(G,K,ne||K.name)}return this},$.prototype._getFormData=function(){return this._formData||(this._formData=new y.FormData),this._formData},$.prototype.callback=function(G,K){if(this._shouldRetry(G,K))return this._retry();const ne=this._callback;this.clearTimeout(),G&&(this._maxRetries&&(G.retries=this._retries-1),this.emit("error",G)),ne(G,K)},$.prototype.crossDomainError=function(){const G=new Error(`Request has been terminated
Possible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.`);G.crossDomain=!0,G.status=this.status,G.method=this.method,G.url=this.url,this.callback(G)},$.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},$.prototype.ca=$.prototype.agent,$.prototype.buffer=$.prototype.ca,$.prototype.write=()=>{throw new Error("Streaming is not supported in browser version of superagent")},$.prototype.pipe=$.prototype.write,$.prototype._isHost=function(G){return G&&typeof G=="object"&&!Array.isArray(G)&&Object.prototype.toString.call(G)!=="[object Object]"},$.prototype.end=function(G){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=G||U,this._finalizeQueryString(),this._end()},$.prototype._setUploadTimeout=function(){const G=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout(()=>{G._timeoutError("Upload timeout of ",G._uploadTimeout,"ETIMEDOUT")},this._uploadTimeout))},$.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));const G=this;this.xhr=V.getXHR();const K=this.xhr;let ne=this._formData||this._data;this._setTimeouts(),K.addEventListener("readystatechange",()=>{const ue=K.readyState;if(ue>=2&&G._responseTimeoutTimer&&clearTimeout(G._responseTimeoutTimer),ue!==4)return;let ee;try{ee=K.status}catch{ee=0}if(!ee)return G.timedout||G._aborted?void 0:G.crossDomainError();G.emit("end")});const J=(ue,ee)=>{ee.total>0&&(ee.percent=ee.loaded/ee.total*100,ee.percent===100&&clearTimeout(G._uploadTimeoutTimer)),ee.direction=ue,G.emit("progress",ee)};if(this.hasListeners("progress"))try{K.addEventListener("progress",J.bind(null,"download")),K.upload&&K.upload.addEventListener("progress",J.bind(null,"upload"))}catch{}K.upload&&this._setUploadTimeout();try{this.username&&this.password?K.open(this.method,this.url,!0,this.username,this.password):K.open(this.method,this.url,!0)}catch(ue){return this.callback(ue)}if(this._withCredentials&&(K.withCredentials=!0),!this._formData&&this.method!=="GET"&&this.method!=="HEAD"&&typeof ne!="string"&&!this._isHost(ne)){const ue=this._header["content-type"];let ee=this._serializer||V.serialize[ue?ue.split(";")[0]:""];!ee&&Q(ue)&&(ee=V.serialize["application/json"]),ee&&(ne=ee(ne))}for(const ue in this.header)this.header[ue]!==null&&I(this.header,ue)&&K.setRequestHeader(ue,this.header[ue]);this._responseType&&(K.responseType=this._responseType),this.emit("request",this),K.send(ne===void 0?null:ne)},V.agent=()=>new F;for(var Te=0,re=["GET","POST","OPTIONS","PATCH","PUT","DELETE"];Te<re.length;Te++){const G=re[Te];F.prototype[G.toLowerCase()]=function(K,ne){const J=new V.Request(G,K);return this._setDefaults(J),ne&&J.end(ne),J}}function ie(G,K,ne){const J=V("DELETE",G);return typeof K=="function"&&(ne=K,K=null),K&&J.send(K),ne&&J.end(ne),J}F.prototype.del=F.prototype.delete,V.get=(G,K,ne)=>{const J=V("GET",G);return typeof K=="function"&&(ne=K,K=null),K&&J.query(K),ne&&J.end(ne),J},V.head=(G,K,ne)=>{const J=V("HEAD",G);return typeof K=="function"&&(ne=K,K=null),K&&J.query(K),ne&&J.end(ne),J},V.options=(G,K,ne)=>{const J=V("OPTIONS",G);return typeof K=="function"&&(ne=K,K=null),K&&J.send(K),ne&&J.end(ne),J},V.del=ie,V.delete=ie,V.patch=(G,K,ne)=>{const J=V("PATCH",G);return typeof K=="function"&&(ne=K,K=null),K&&J.send(K),ne&&J.end(ne),J},V.post=(G,K,ne)=>{const J=V("POST",G);return typeof K=="function"&&(ne=K,K=null),K&&J.send(K),ne&&J.end(ne),J},V.put=(G,K,ne)=>{const J=V("PUT",G);return typeof K=="function"&&(ne=K,K=null),K&&J.send(K),ne&&J.end(ne),J}},8899:(c,u,h)=>{const m=h(3695),g=h(4506),y=g.isObject,v=g.hasOwn;function _(){}c.exports=_,_.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},_.prototype.parse=function(C){return this._parser=C,this},_.prototype.responseType=function(C){return this._responseType=C,this},_.prototype.serialize=function(C){return this._serializer=C,this},_.prototype.timeout=function(C){if(!C||typeof C!="object")return this._timeout=C,this._responseTimeout=0,this._uploadTimeout=0,this;for(const T in C)if(v(C,T))switch(T){case"deadline":this._timeout=C.deadline;break;case"response":this._responseTimeout=C.response;break;case"upload":this._uploadTimeout=C.upload;break;default:console.warn("Unknown timeout option",T)}return this},_.prototype.retry=function(C,T){return arguments.length!==0&&C!==!0||(C=1),C<=0&&(C=0),this._maxRetries=C,this._retries=0,this._retryCallback=T,this};const A=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),S=new Set([408,413,429,500,502,503,504,521,522,524]);_.prototype._shouldRetry=function(C,T){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{const N=this._retryCallback(C,T);if(N===!0)return!0;if(N===!1)return!1}catch(N){console.error(N)}return!!(T&&T.status&&S.has(T.status)||C&&(C.code&&A.has(C.code)||C.timeout&&C.code==="ECONNABORTED"||C.crossDomain))},_.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},_.prototype.then=function(C,T){if(!this._fullfilledPromise){const N=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise((I,O)=>{N.on("abort",()=>{if(this._maxRetries&&this._maxRetries>this._retries)return;if(this.timedout&&this.timedoutError)return void O(this.timedoutError);const F=new Error("Aborted");F.code="ABORTED",F.status=this.status,F.method=this.method,F.url=this.url,O(F)}),N.end((F,U)=>{F?O(F):I(U)})})}return this._fullfilledPromise.then(C,T)},_.prototype.catch=function(C){return this.then(void 0,C)},_.prototype.use=function(C){return C(this),this},_.prototype.ok=function(C){if(typeof C!="function")throw new Error("Callback required");return this._okCallback=C,this},_.prototype._isResponseOK=function(C){return!!C&&(this._okCallback?this._okCallback(C):C.status>=200&&C.status<300)},_.prototype.get=function(C){return this._header[C.toLowerCase()]},_.prototype.getHeader=_.prototype.get,_.prototype.set=function(C,T){if(y(C)){for(const N in C)v(C,N)&&this.set(N,C[N]);return this}return this._header[C.toLowerCase()]=T,this.header[C]=T,this},_.prototype.unset=function(C){return delete this._header[C.toLowerCase()],delete this.header[C],this},_.prototype.field=function(C,T,N){if(C==null)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(y(C)){for(const I in C)v(C,I)&&this.field(I,C[I]);return this}if(Array.isArray(T)){for(const I in T)v(T,I)&&this.field(C,T[I]);return this}if(T==null)throw new Error(".field(name, val) val can not be empty");return typeof T=="boolean"&&(T=String(T)),N?this._getFormData().append(C,T,N):this._getFormData().append(C,T),this},_.prototype.abort=function(){if(this._aborted)return this;if(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req){if(m.gte(process.version,"v13.0.0")&&m.lt(process.version,"v14.0.0"))throw new Error("Superagent does not work in v13 properly with abort() due to Node.js core changes");this.req.abort()}return this.clearTimeout(),this.emit("abort"),this},_.prototype._auth=function(C,T,N,I){switch(N.type){case"basic":this.set("Authorization",`Basic ${I(`${C}:${T}`)}`);break;case"auto":this.username=C,this.password=T;break;case"bearer":this.set("Authorization",`Bearer ${C}`)}return this},_.prototype.withCredentials=function(C){return C===void 0&&(C=!0),this._withCredentials=C,this},_.prototype.redirects=function(C){return this._maxRedirects=C,this},_.prototype.maxResponseSize=function(C){if(typeof C!="number")throw new TypeError("Invalid argument");return this._maxResponseSize=C,this},_.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},_.prototype.send=function(C){const T=y(C);let N=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(T&&!this._data)Array.isArray(C)?this._data=[]:this._isHost(C)||(this._data={});else if(C&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(T&&y(this._data))for(const I in C){if(typeof C[I]=="bigint"&&!C[I].toJSON)throw new Error("Cannot serialize BigInt value to json");v(C,I)&&(this._data[I]=C[I])}else{if(typeof C=="bigint")throw new Error("Cannot send value of type BigInt");typeof C=="string"?(N||this.type("form"),N=this._header["content-type"],N&&(N=N.toLowerCase().trim()),this._data=N==="application/x-www-form-urlencoded"?this._data?`${this._data}&${C}`:C:(this._data||"")+C):this._data=C}return!T||this._isHost(C)||N||this.type("json"),this},_.prototype.sortQuery=function(C){return this._sort=C===void 0||C,this},_.prototype._finalizeQueryString=function(){const C=this._query.join("&");if(C&&(this.url+=(this.url.includes("?")?"&":"?")+C),this._query.length=0,this._sort){const T=this.url.indexOf("?");if(T>=0){const N=this.url.slice(T+1).split("&");typeof this._sort=="function"?N.sort(this._sort):N.sort(),this.url=this.url.slice(0,T)+"?"+N.join("&")}}},_.prototype._appendQueryString=()=>{console.warn("Unsupported")},_.prototype._timeoutError=function(C,T,N){if(this._aborted)return;const I=new Error(`${C+T}ms exceeded`);I.timeout=T,I.code="ECONNABORTED",I.errno=N,this.timedout=!0,this.timedoutError=I,this.abort(),this.callback(I)},_.prototype._setTimeouts=function(){const C=this;this._timeout&&!this._timer&&(this._timer=setTimeout(()=>{C._timeoutError("Timeout of ",C._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(()=>{C._timeoutError("Response timeout of ",C._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},1097:(c,u,h)=>{const m=h(4506);function g(){}c.exports=g,g.prototype.get=function(y){return this.header[y.toLowerCase()]},g.prototype._setHeaderProperties=function(y){const v=y["content-type"]||"";this.type=m.type(v);const _=m.params(v);for(const A in _)Object.prototype.hasOwnProperty.call(_,A)&&(this[A]=_[A]);this.links={};try{y.link&&(this.links=m.parseLinks(y.link))}catch{}},g.prototype._setStatusProperties=function(y){const v=Math.trunc(y/100);this.statusCode=y,this.status=this.statusCode,this.statusType=v,this.info=v===1,this.ok=v===2,this.redirect=v===3,this.clientError=v===4,this.serverError=v===5,this.error=(v===4||v===5)&&this.toError(),this.created=y===201,this.accepted=y===202,this.noContent=y===204,this.badRequest=y===400,this.unauthorized=y===401,this.notAcceptable=y===406,this.forbidden=y===403,this.notFound=y===404,this.unprocessableEntity=y===422}},4506:(c,u)=>{function h(g,y){var v=typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(!v){if(Array.isArray(g)||(v=function(N,I){if(N){if(typeof N=="string")return m(N,I);var O=Object.prototype.toString.call(N).slice(8,-1);if(O==="Object"&&N.constructor&&(O=N.constructor.name),O==="Map"||O==="Set")return Array.from(N);if(O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O))return m(N,I)}}(g))||y){v&&(g=v);var _=0,A=function(){};return{s:A,n:function(){return _>=g.length?{done:!0}:{done:!1,value:g[_++]}},e:function(N){throw N},f:A}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var S,C=!0,T=!1;return{s:function(){v=v.call(g)},n:function(){var N=v.next();return C=N.done,N},e:function(N){T=!0,S=N},f:function(){try{C||v.return==null||v.return()}finally{if(T)throw S}}}}function m(g,y){(y==null||y>g.length)&&(y=g.length);for(var v=0,_=new Array(y);v<y;v++)_[v]=g[v];return _}u.type=g=>g.split(/ *; */).shift(),u.params=g=>{const y={};var v,_=h(g.split(/ *; */));try{for(_.s();!(v=_.n()).done;){const A=v.value.split(/ *= */),S=A.shift(),C=A.shift();S&&C&&(y[S]=C)}}catch(A){_.e(A)}finally{_.f()}return y},u.parseLinks=g=>{const y={};var v,_=h(g.split(/ *, */));try{for(_.s();!(v=_.n()).done;){const A=v.value.split(/ *; */),S=A[0].slice(1,-1);y[A[1].split(/ *= */)[1].slice(1,-1)]=S}}catch(A){_.e(A)}finally{_.f()}return y},u.cleanHeader=(g,y)=>(delete g["content-type"],delete g["content-length"],delete g["transfer-encoding"],delete g.host,y&&(delete g.authorization,delete g.cookie),g),u.isObject=g=>g!==null&&typeof g=="object",u.hasOwn=Object.hasOwn||function(g,y){if(g==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(new Object(g),y)},u.mixin=(g,y)=>{for(const v in y)u.hasOwn(y,v)&&(g[v]=y[v])}},2739:c=>{c.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4="},6631:c=>{c.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg=="},7511:c=>{c.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4="},4493:c=>{c.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4="},4654:()=>{},3695:()=>{}},r={};function o(c){var u=r[c];if(u!==void 0)return u.exports;var h=r[c]={id:c,exports:{}};return i[c](h,h.exports,o),h.exports}o.m=i,o.n=c=>{var u=c&&c.__esModule?()=>c.default:()=>c;return o.d(u,{a:u}),u},o.d=(c,u)=>{for(var h in u)o.o(u,h)&&!o.o(c,h)&&Object.defineProperty(c,h,{enumerable:!0,get:u[h]})},o.o=(c,u)=>Object.prototype.hasOwnProperty.call(c,u),o.b=document.baseURI||self.location.href;var l={};return(()=>{function c({emitter:f,activator:t,callback:s,contextElements:a}){f.listenTo(document,"mousedown",(d,p)=>{if(!t())return;const w=typeof p.composedPath=="function"?p.composedPath():[],k=typeof a=="function"?a():a;for(const D of k)if(D.contains(p.target)||w.includes(D))return;s()})}function u(f){return class extends f{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...t){super(...t),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function h({view:f}){f.listenTo(f.element,"submit",(t,s)=>{s.preventDefault(),f.fire("submit")},{useCapture:!0})}o.d(l,{default:()=>RI});const m=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}(),g={isMac:v(m),isWindows:function(f){return f.indexOf("windows")>-1}(m),isGecko:function(f){return!!f.match(/gecko\/\d+/)}(m),isSafari:function(f){return f.indexOf(" applewebkit/")>-1&&f.indexOf("chrome")===-1}(m),isiOS:function(f){return!!f.match(/iphone|ipad/i)||v(f)&&navigator.maxTouchPoints>0}(m),isAndroid:function(f){return f.indexOf("android")>-1}(m),isBlink:function(f){return f.indexOf("chrome/")>-1&&f.indexOf("edge/")<0}(m),features:{isRegExpUnicodePropertySupported:function(){let f=!1;try{f="ć".search(new RegExp("[\\p{L}]","u"))===0}catch{}return f}()}},y=g;function v(f){return f.indexOf("macintosh")>-1}function _(f,t,s,a){s=s||function(D,R){return D===R};const d=Array.isArray(f)?f:Array.prototype.slice.call(f),p=Array.isArray(t)?t:Array.prototype.slice.call(t),w=function(D,R,M){const L=A(D,R,M);if(L===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const W=S(D,L),Y=S(R,L),se=A(W,Y,M),le=D.length-se,ve=R.length-se;return{firstIndex:L,lastIndexOld:le,lastIndexNew:ve}}(d,p,s);return a?function(D,R){const{firstIndex:M,lastIndexOld:L,lastIndexNew:W}=D;if(M===-1)return Array(R).fill("equal");let Y=[];return M>0&&(Y=Y.concat(Array(M).fill("equal"))),W-M>0&&(Y=Y.concat(Array(W-M).fill("insert"))),L-M>0&&(Y=Y.concat(Array(L-M).fill("delete"))),W<R&&(Y=Y.concat(Array(R-W).fill("equal"))),Y}(w,p.length):function(D,R){const M=[],{firstIndex:L,lastIndexOld:W,lastIndexNew:Y}=R;return Y-L>0&&M.push({index:L,type:"insert",values:D.slice(L,Y)}),W-L>0&&M.push({index:L+(Y-L),type:"delete",howMany:W-L}),M}(p,w)}function A(f,t,s){for(let a=0;a<Math.max(f.length,t.length);a++)if(f[a]===void 0||t[a]===void 0||!s(f[a],t[a]))return a;return-1}function S(f,t){return f.slice(t).reverse()}function C(f,t,s){s=s||function(le,ve){return le===ve};const a=f.length,d=t.length;if(a>200||d>200||a+d>300)return C.fastDiff(f,t,s,!0);let p,w;if(d<a){const le=f;f=t,t=le,p="delete",w="insert"}else p="insert",w="delete";const k=f.length,D=t.length,R=D-k,M={},L={};function W(le){const ve=(L[le-1]!==void 0?L[le-1]:-1)+1,Pe=L[le+1]!==void 0?L[le+1]:-1,$e=ve>Pe?-1:1;M[le+$e]&&(M[le]=M[le+$e].slice(0)),M[le]||(M[le]=[]),M[le].push(ve>Pe?p:w);let Qe=Math.max(ve,Pe),St=Qe-le;for(;St<k&&Qe<D&&s(f[St],t[Qe]);)St++,Qe++,M[le].push("equal");return Qe}let Y,se=0;do{for(Y=-se;Y<R;Y++)L[Y]=W(Y);for(Y=R+se;Y>R;Y--)L[Y]=W(Y);L[R]=W(R),se++}while(L[R]!==D);return M[R].slice(1)}C.fastDiff=_;const T=function(){return function f(){f.called=!0}};class N{constructor(t,s){this.source=t,this.name=s,this.path=[],this.stop=T(),this.off=T()}}const I=new Array(256).fill("").map((f,t)=>("0"+t.toString(16)).slice(-2));function O(){const f=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,s=4294967296*Math.random()>>>0,a=4294967296*Math.random()>>>0;return"e"+I[f>>0&255]+I[f>>8&255]+I[f>>16&255]+I[f>>24&255]+I[t>>0&255]+I[t>>8&255]+I[t>>16&255]+I[t>>24&255]+I[s>>0&255]+I[s>>8&255]+I[s>>16&255]+I[s>>24&255]+I[a>>0&255]+I[a>>8&255]+I[a>>16&255]+I[a>>24&255]}const F={get(f="normal"){return typeof f!="number"?this[f]||this.normal:f},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function U(f,t){const s=F.get(t.priority);for(let a=0;a<f.length;a++)if(F.get(f[a].priority)<s)return void f.splice(a,0,t);f.push(t)}const V="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class B extends Error{constructor(t,s,a){super(function(d,p){const w=new WeakSet,k=(M,L)=>{if(typeof L=="object"&&L!==null){if(w.has(L))return`[object ${L.constructor.name}]`;w.add(L)}return L},D=p?` ${JSON.stringify(p,k)}`:"",R=ae(d);return d+D+R}(t,a)),this.name="CKEditorError",this.context=s,this.data=a}is(t){return t==="CKEditorError"}static rethrowUnexpectedError(t,s){if(t.is&&t.is("CKEditorError"))throw t;const a=new B(t.message,s);throw a.stack=t.stack,a}}function Z(f,t){console.warn(...me(f,t))}function ae(f){return`
Read more: ${V}#error-${f}`}function me(f,t){const s=ae(f);return t?[f,t,s]:[f,s]}const Q="40.0.0",ge=new Date(2023,9,4);if(globalThis.CKEDITOR_VERSION)throw new B("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=Q;const $=Symbol("listeningTo"),Te=Symbol("emitterId"),re=Symbol("delegations"),ie=G(Object);function G(f){return f?class extends f{on(t,s,a){this.listenTo(this,t,s,a)}once(t,s,a){let d=!1;this.listenTo(this,t,(p,...w)=>{d||(d=!0,p.off(),s.call(this,p,...w))},a)}off(t,s){this.stopListening(this,t,s)}listenTo(t,s,a,d={}){let p,w;this[$]||(this[$]={});const k=this[$];ne(t)||K(t);const D=ne(t);(p=k[D])||(p=k[D]={emitter:t,callbacks:{}}),(w=p.callbacks[s])||(w=p.callbacks[s]=[]),w.push(a),function(R,M,L,W,Y){M._addEventListener?M._addEventListener(L,W,Y):R._addEventListener.call(M,L,W,Y)}(this,t,s,a,d)}stopListening(t,s,a){const d=this[$];let p=t&&ne(t);const w=d&&p?d[p]:void 0,k=w&&s?w.callbacks[s]:void 0;if(!(!d||t&&!w||s&&!k))if(a)Se(this,t,s,a),k.indexOf(a)!==-1&&(k.length===1?delete w.callbacks[s]:Se(this,t,s,a));else if(k){for(;a=k.pop();)Se(this,t,s,a);delete w.callbacks[s]}else if(w){for(s in w.callbacks)this.stopListening(t,s);delete d[p]}else{for(p in d)this.stopListening(d[p].emitter);delete this[$]}}fire(t,...s){try{const a=t instanceof N?t:new N(this,t),d=a.name;let p=ee(this,d);if(a.path.push(this),p){const k=[a,...s];p=Array.from(p);for(let D=0;D<p.length&&(p[D].callback.apply(this,k),a.off.called&&(delete a.off.called,this._removeEventListener(d,p[D].callback)),!a.stop.called);D++);}const w=this[re];if(w){const k=w.get(d),D=w.get("*");k&&xe(k,a,s),D&&xe(D,a,s)}return a.return}catch(a){B.rethrowUnexpectedError(a,this)}}delegate(...t){return{to:(s,a)=>{this[re]||(this[re]=new Map),t.forEach(d=>{const p=this[re].get(d);p?p.set(s,a):this[re].set(d,new Map([[s,a]]))})}}}stopDelegating(t,s){if(this[re])if(t)if(s){const a=this[re].get(t);a&&a.delete(s)}else this[re].delete(t);else this[re].clear()}_addEventListener(t,s,a){(function(w,k){const D=J(w);if(D[k])return;let R=k,M=null;const L=[];for(;R!==""&&!D[R];)D[R]={callbacks:[],childEvents:[]},L.push(D[R]),M&&D[R].childEvents.push(M),M=R,R=R.substr(0,R.lastIndexOf(":"));if(R!==""){for(const W of L)W.callbacks=D[R].callbacks.slice();D[R].childEvents.push(M)}})(this,t);const d=ue(this,t),p={callback:s,priority:F.get(a.priority)};for(const w of d)U(w,p)}_removeEventListener(t,s){const a=ue(this,t);for(const d of a)for(let p=0;p<d.length;p++)d[p].callback==s&&(d.splice(p,1),p--)}}:ie}function K(f,t){f[Te]||(f[Te]=t||O())}function ne(f){return f[Te]}function J(f){return f._events||Object.defineProperty(f,"_events",{value:{}}),f._events}function ue(f,t){const s=J(f)[t];if(!s)return[];let a=[s.callbacks];for(let d=0;d<s.childEvents.length;d++){const p=ue(f,s.childEvents[d]);a=a.concat(p)}return a}function ee(f,t){let s;return f._events&&(s=f._events[t])&&s.callbacks.length?s.callbacks:t.indexOf(":")>-1?ee(f,t.substr(0,t.lastIndexOf(":"))):null}function xe(f,t,s){for(let[a,d]of f){d?typeof d=="function"&&(d=d(t.name)):d=t.name;const p=new N(t.source,d);p.path=[...t.path],a.fire(p,...s)}}function Se(f,t,s,a){t._removeEventListener?t._removeEventListener(s,a):f._removeEventListener.call(t,s,a)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(f=>{G[f]=ie.prototype[f]});const Me=function(f){var t=typeof f;return f!=null&&(t=="object"||t=="function")},Re=Symbol("observableProperties"),Fe=Symbol("boundObservables"),We=Symbol("boundProperties"),ze=Symbol("decoratedMethods"),Ne=Symbol("decoratedOriginal"),ke=Be(G());function Be(f){return f?class extends f{set(t,s){if(Me(t))return void Object.keys(t).forEach(d=>{this.set(d,t[d])},this);X(this);const a=this[Re];if(t in this&&!a.has(t))throw new B("observable-set-cannot-override",this);Object.defineProperty(this,t,{enumerable:!0,configurable:!0,get:()=>a.get(t),set(d){const p=a.get(t);let w=this.fire(`set:${t}`,t,d,p);w===void 0&&(w=d),p===w&&a.has(t)||(a.set(t,w),this.fire(`change:${t}`,t,w,p))}}),this[t]=s}bind(...t){if(!t.length||!be(t))throw new B("observable-bind-wrong-properties",this);if(new Set(t).size!==t.length)throw new B("observable-bind-duplicate-properties",this);X(this);const s=this[We];t.forEach(d=>{if(s.has(d))throw new B("observable-bind-rebind",this)});const a=new Map;return t.forEach(d=>{const p={property:d,to:[]};s.set(d,p),a.set(d,p)}),{to:Ae,toMany:Ie,_observable:this,_bindProperties:t,_to:[],_bindings:a}}unbind(...t){if(!this[Re])return;const s=this[We],a=this[Fe];if(t.length){if(!be(t))throw new B("observable-unbind-wrong-properties",this);t.forEach(d=>{const p=s.get(d);p&&(p.to.forEach(([w,k])=>{const D=a.get(w),R=D[k];R.delete(p),R.size||delete D[k],Object.keys(D).length||(a.delete(w),this.stopListening(w,"change"))}),s.delete(d))})}else a.forEach((d,p)=>{this.stopListening(p,"change")}),a.clear(),s.clear()}decorate(t){X(this);const s=this[t];if(!s)throw new B("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:t});this.on(t,(a,d)=>{a.return=s.apply(this,d)}),this[t]=function(...a){return this.fire(t,a)},this[t][Ne]=s,this[ze]||(this[ze]=[]),this[ze].push(t)}stopListening(t,s,a){if(!t&&this[ze]){for(const d of this[ze])this[d]=this[d][Ne];delete this[ze]}super.stopListening(t,s,a)}}:ke}function X(f){f[Re]||(Object.defineProperty(f,Re,{value:new Map}),Object.defineProperty(f,Fe,{value:new Map}),Object.defineProperty(f,We,{value:new Map}))}function Ae(...f){const t=function(...p){if(!p.length)throw new B("observable-bind-to-parse-error",null);const w={to:[]};let k;return typeof p[p.length-1]=="function"&&(w.callback=p.pop()),p.forEach(D=>{if(typeof D=="string")k.properties.push(D);else{if(typeof D!="object")throw new B("observable-bind-to-parse-error",null);k={observable:D,properties:[]},w.to.push(k)}}),w}(...f),s=Array.from(this._bindings.keys()),a=s.length;if(!t.callback&&t.to.length>1)throw new B("observable-bind-to-no-callback",this);if(a>1&&t.callback)throw new B("observable-bind-to-extra-callback",this);var d;t.to.forEach(p=>{if(p.properties.length&&p.properties.length!==a)throw new B("observable-bind-to-properties-length",this);p.properties.length||(p.properties=this._bindProperties)}),this._to=t.to,t.callback&&(this._bindings.get(s[0]).callback=t.callback),d=this._observable,this._to.forEach(p=>{const w=d[Fe];let k;w.get(p.observable)||d.listenTo(p.observable,"change",(D,R)=>{k=w.get(p.observable)[R],k&&k.forEach(M=>{we(d,M.property)})})}),function(p){let w;p._bindings.forEach((k,D)=>{p._to.forEach(R=>{w=R.properties[k.callback?0:p._bindProperties.indexOf(D)],k.to.push([R.observable,w]),function(M,L,W,Y){const se=M[Fe],le=se.get(W),ve=le||{};ve[Y]||(ve[Y]=new Set),ve[Y].add(L),le||se.set(W,ve)}(p._observable,k,R.observable,w)})})}(this),this._bindProperties.forEach(p=>{we(this._observable,p)})}function Ie(f,t,s){if(this._bindings.size>1)throw new B("observable-bind-to-many-not-one-binding",this);this.to(...function(a,d){const p=a.map(w=>[w,d]);return Array.prototype.concat.apply([],p)}(f,t),s)}function be(f){return f.every(t=>typeof t=="string")}function we(f,t){const s=f[We].get(t);let a;s.callback?a=s.callback.apply(f,s.to.map(d=>d[0][d[1]])):(a=s.to[0],a=a[0][a[1]]),Object.prototype.hasOwnProperty.call(f,t)?f[t]=a:f.set(t,a)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(f=>{Be[f]=ke.prototype[f]});class Ee{constructor(){this._replacedElements=[]}replace(t,s){this._replacedElements.push({element:t,newElement:s}),t.style.display="none",s&&t.parentNode.insertBefore(s,t.nextSibling)}restore(){this._replacedElements.forEach(({element:t,newElement:s})=>{t.style.display="",s&&s.remove()}),this._replacedElements=[]}}function He(f){let t=0;for(const s of f)t++;return t}function qe(f,t){const s=Math.min(f.length,t.length);for(let a=0;a<s;a++)if(f[a]!=t[a])return a;return f.length==t.length?"same":f.length<t.length?"prefix":"extension"}function Oe(f){return!(!f||!f[Symbol.iterator])}const Ce=typeof Lt=="object"&&Lt&&Lt.Object===Object&&Lt;var _e=typeof self=="object"&&self&&self.Object===Object&&self;const ce=Ce||_e||Function("return this")(),Ue=ce.Symbol;var et=Object.prototype,nt=et.hasOwnProperty,ct=et.toString,ht=Ue?Ue.toStringTag:void 0;const Pt=function(f){var t=nt.call(f,ht),s=f[ht];try{f[ht]=void 0;var a=!0}catch{}var d=ct.call(f);return a&&(t?f[ht]=s:delete f[ht]),d};var Bt=Object.prototype.toString;const bt=function(f){return Bt.call(f)};var Zt=Ue?Ue.toStringTag:void 0;const mn=function(f){return f==null?f===void 0?"[object Undefined]":"[object Null]":Zt&&Zt in Object(f)?Pt(f):bt(f)},qt=Array.isArray,Vn=function(f){return f!=null&&typeof f=="object"},rs=function(f){return typeof f=="string"||!qt(f)&&Vn(f)&&mn(f)=="[object String]"};function jr(f,t,s={},a=[]){const d=s&&s.xmlns,p=d?f.createElementNS(d,t):f.createElement(t);for(const w in s)p.setAttribute(w,s[w]);!rs(a)&&Oe(a)||(a=[a]);for(let w of a)rs(w)&&(w=f.createTextNode(w)),p.appendChild(w);return p}const Rr=function(f,t){return function(s){return f(t(s))}},Ii=Rr(Object.getPrototypeOf,Object);var bi=Function.prototype,yi=Object.prototype,vi=bi.toString,wt=yi.hasOwnProperty,Ht=vi.call(Object);const sn=function(f){if(!Vn(f)||mn(f)!="[object Object]")return!1;var t=Ii(f);if(t===null)return!0;var s=wt.call(t,"constructor")&&t.constructor;return typeof s=="function"&&s instanceof s&&vi.call(s)==Ht},Wn=function(){this.__data__=[],this.size=0},Xn=function(f,t){return f===t||f!=f&&t!=t},Mr=function(f,t){for(var s=f.length;s--;)if(Xn(f[s][0],t))return s;return-1};var Ji=Array.prototype.splice;const ft=function(f){var t=this.__data__,s=Mr(t,f);return!(s<0)&&(s==t.length-1?t.pop():Ji.call(t,s,1),--this.size,!0)},An=function(f){var t=this.__data__,s=Mr(t,f);return s<0?void 0:t[s][1]},Ps=function(f){return Mr(this.__data__,f)>-1},ss=function(f,t){var s=this.__data__,a=Mr(s,f);return a<0?(++this.size,s.push([f,t])):s[a][1]=t,this};function Is(f){var t=-1,s=f==null?0:f.length;for(this.clear();++t<s;){var a=f[t];this.set(a[0],a[1])}}Is.prototype.clear=Wn,Is.prototype.delete=ft,Is.prototype.get=An,Is.prototype.has=Ps,Is.prototype.set=ss;const ol=Is,Mo=function(){this.__data__=new ol,this.size=0},al=function(f){var t=this.__data__,s=t.delete(f);return this.size=t.size,s},Oo=function(f){return this.__data__.get(f)},ll=function(f){return this.__data__.has(f)},so=function(f){if(!Me(f))return!1;var t=mn(f);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"},js=ce["__core-js_shared__"];var Si=function(){var f=/[^.]+$/.exec(js&&js.keys&&js.keys.IE_PROTO||"");return f?"Symbol(src)_1."+f:""}();const cl=function(f){return!!Si&&Si in f};var Rs=Function.prototype.toString;const Or=function(f){if(f!=null){try{return Rs.call(f)}catch{}try{return f+""}catch{}}return""};var os=/^\[object .+?Constructor\]$/,ul=Function.prototype,lc=Object.prototype,su=ul.toString,Zm=lc.hasOwnProperty,ma=RegExp("^"+su.call(Zm).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const wf=function(f){return!(!Me(f)||cl(f))&&(so(f)?ma:os).test(Or(f))},xf=function(f,t){return f==null?void 0:f[t]},ji=function(f,t){var s=xf(f,t);return wf(s)?s:void 0},dl=ji(ce,"Map"),hl=ji(Object,"create"),fl=function(){this.__data__=hl?hl(null):{},this.size=0},Ym=function(f){var t=this.has(f)&&delete this.__data__[f];return this.size-=t?1:0,t};var Cd=Object.prototype.hasOwnProperty;const ou=function(f){var t=this.__data__;if(hl){var s=t[f];return s==="__lodash_hash_undefined__"?void 0:s}return Cd.call(t,f)?t[f]:void 0};var oo=Object.prototype.hasOwnProperty;const Fo=function(f){var t=this.__data__;return hl?t[f]!==void 0:oo.call(t,f)},ao=function(f,t){var s=this.__data__;return this.size+=this.has(f)?0:1,s[f]=hl&&t===void 0?"__lodash_hash_undefined__":t,this};function cr(f){var t=-1,s=f==null?0:f.length;for(this.clear();++t<s;){var a=f[t];this.set(a[0],a[1])}}cr.prototype.clear=fl,cr.prototype.delete=Ym,cr.prototype.get=ou,cr.prototype.has=Fo,cr.prototype.set=ao;const ga=cr,cc=function(){this.size=0,this.__data__={hash:new ga,map:new(dl||ol),string:new ga}},pl=function(f){var t=typeof f;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?f!=="__proto__":f===null},uc=function(f,t){var s=f.__data__;return pl(t)?s[typeof t=="string"?"string":"hash"]:s.map},at=function(f){var t=uc(this,f).delete(f);return this.size-=t?1:0,t},gt=function(f){return uc(this,f).get(f)},_t=function(f){return uc(this,f).has(f)},oi=function(f,t){var s=uc(this,f),a=s.size;return s.set(f,t),this.size+=s.size==a?0:1,this};function wi(f){var t=-1,s=f==null?0:f.length;for(this.clear();++t<s;){var a=f[t];this.set(a[0],a[1])}}wi.prototype.clear=cc,wi.prototype.delete=at,wi.prototype.get=gt,wi.prototype.has=_t,wi.prototype.set=oi;const Fr=wi,au=function(f,t){var s=this.__data__;if(s instanceof ol){var a=s.__data__;if(!dl||a.length<199)return a.push([f,t]),this.size=++s.size,this;s=this.__data__=new Fr(a)}return s.set(f,t),this.size=s.size,this};function wr(f){var t=this.__data__=new ol(f);this.size=t.size}wr.prototype.clear=Mo,wr.prototype.delete=al,wr.prototype.get=Oo,wr.prototype.has=ll,wr.prototype.set=au;const lo=wr,Td=function(f,t){for(var s=-1,a=f==null?0:f.length;++s<a&&t(f[s],s,f)!==!1;);return f},ba=function(){try{var f=ji(Object,"defineProperty");return f({},"",{}),f}catch{}}(),Dd=function(f,t,s){t=="__proto__"&&ba?ba(f,t,{configurable:!0,enumerable:!0,value:s,writable:!0}):f[t]=s};var X0=Object.prototype.hasOwnProperty;const lu=function(f,t,s){var a=f[t];X0.call(f,t)&&Xn(a,s)&&(s!==void 0||t in f)||Dd(f,t,s)},ml=function(f,t,s,a){var d=!s;s||(s={});for(var p=-1,w=t.length;++p<w;){var k=t[p],D=void 0;D===void 0&&(D=f[k]),d?Dd(s,k,D):lu(s,k,D)}return s},Jm=function(f,t){for(var s=-1,a=Array(f);++s<f;)a[s]=t(s);return a},Qm=function(f){return Vn(f)&&mn(f)=="[object Arguments]"};var eg=Object.prototype,K0=eg.hasOwnProperty,tg=eg.propertyIsEnumerable;const ng=Qm(function(){return arguments}())?Qm:function(f){return Vn(f)&&K0.call(f,"callee")&&!tg.call(f,"callee")},_f=function(){return!1};var Pn=e&&!e.nodeType&&e,gl=Pn&&!0&&n&&!n.nodeType&&n,cu=gl&&gl.exports===Pn?ce.Buffer:void 0;const uu=(cu?cu.isBuffer:void 0)||_f;var kf=/^(?:0|[1-9]\d*)$/;const bl=function(f,t){var s=typeof f;return!!(t=t??9007199254740991)&&(s=="number"||s!="symbol"&&kf.test(f))&&f>-1&&f%1==0&&f<t},Nd=function(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=9007199254740991};var In={};In["[object Float32Array]"]=In["[object Float64Array]"]=In["[object Int8Array]"]=In["[object Int16Array]"]=In["[object Int32Array]"]=In["[object Uint8Array]"]=In["[object Uint8ClampedArray]"]=In["[object Uint16Array]"]=In["[object Uint32Array]"]=!0,In["[object Arguments]"]=In["[object Array]"]=In["[object ArrayBuffer]"]=In["[object Boolean]"]=In["[object DataView]"]=In["[object Date]"]=In["[object Error]"]=In["[object Function]"]=In["[object Map]"]=In["[object Number]"]=In["[object Object]"]=In["[object RegExp]"]=In["[object Set]"]=In["[object String]"]=In["[object WeakMap]"]=!1;const yl=function(f){return Vn(f)&&Nd(f.length)&&!!In[mn(f)]},Ef=function(f){return function(t){return f(t)}};var Z0=e&&!e.nodeType&&e,Pd=Z0&&!0&&n&&!n.nodeType&&n,Id=Pd&&Pd.exports===Z0&&Ce.process;const co=function(){try{var f=Pd&&Pd.require&&Pd.require("util").types;return f||Id&&Id.binding&&Id.binding("util")}catch{}}();var Sf=co&&co.isTypedArray;const jd=Sf?Ef(Sf):yl;var Af=Object.prototype.hasOwnProperty;const Rd=function(f,t){var s=qt(f),a=!s&&ng(f),d=!s&&!a&&uu(f),p=!s&&!a&&!d&&jd(f),w=s||a||d||p,k=w?Jm(f.length,String):[],D=k.length;for(var R in f)!t&&!Af.call(f,R)||w&&(R=="length"||d&&(R=="offset"||R=="parent")||p&&(R=="buffer"||R=="byteLength"||R=="byteOffset")||bl(R,D))||k.push(R);return k};var vl=Object.prototype;const du=function(f){var t=f&&f.constructor;return f===(typeof t=="function"&&t.prototype||vl)},Md=Rr(Object.keys,Object);var Y0=Object.prototype.hasOwnProperty;const Cf=function(f){if(!du(f))return Md(f);var t=[];for(var s in Object(f))Y0.call(f,s)&&s!="constructor"&&t.push(s);return t},dc=function(f){return f!=null&&Nd(f.length)&&!so(f)},Tf=function(f){return dc(f)?Rd(f):Cf(f)},as=function(f,t){return f&&ml(t,Tf(t),f)},ya=function(f){var t=[];if(f!=null)for(var s in Object(f))t.push(s);return t};var Od=Object.prototype.hasOwnProperty;const Fd=function(f){if(!Me(f))return ya(f);var t=du(f),s=[];for(var a in f)(a!="constructor"||!t&&Od.call(f,a))&&s.push(a);return s},uo=function(f){return dc(f)?Rd(f,!0):Fd(f)},Df=function(f,t){return f&&ml(t,uo(t),f)};var wl=e&&!e.nodeType&&e,J0=wl&&!0&&n&&!n.nodeType&&n,Ud=J0&&J0.exports===wl?ce.Buffer:void 0,ig=Ud?Ud.allocUnsafe:void 0;const rg=function(f,t){if(t)return f.slice();var s=f.length,a=ig?ig(s):new f.constructor(s);return f.copy(a),a},Ld=function(f,t){var s=-1,a=f.length;for(t||(t=Array(a));++s<a;)t[s]=f[s];return t},ix=function(f,t){for(var s=-1,a=f==null?0:f.length,d=0,p=[];++s<a;){var w=f[s];t(w,s,f)&&(p[d++]=w)}return p},Q0=function(){return[]};var rx=Object.prototype.propertyIsEnumerable,sg=Object.getOwnPropertySymbols;const og=sg?function(f){return f==null?[]:(f=Object(f),ix(sg(f),function(t){return rx.call(f,t)}))}:Q0,sx=function(f,t){return ml(f,og(f),t)},ey=function(f,t){for(var s=-1,a=t.length,d=f.length;++s<a;)f[d+s]=t[s];return f},ty=Object.getOwnPropertySymbols?function(f){for(var t=[];f;)ey(t,og(f)),f=Ii(f);return t}:Q0,ag=function(f,t){return ml(f,ty(f),t)},ny=function(f,t,s){var a=t(f);return qt(f)?a:ey(a,s(f))},lg=function(f){return ny(f,Tf,og)},iy=function(f){return ny(f,uo,ty)},cg=ji(ce,"DataView"),ug=ji(ce,"Promise"),dg=ji(ce,"Set"),hg=ji(ce,"WeakMap");var ry="[object Map]",Nf="[object Promise]",hu="[object Set]",sy="[object WeakMap]",fg="[object DataView]",oy=Or(cg),pg=Or(dl),ay=Or(ug),ly=Or(dg),fu=Or(hg),hc=mn;(cg&&hc(new cg(new ArrayBuffer(1)))!=fg||dl&&hc(new dl)!=ry||ug&&hc(ug.resolve())!=Nf||dg&&hc(new dg)!=hu||hg&&hc(new hg)!=sy)&&(hc=function(f){var t=mn(f),s=t=="[object Object]"?f.constructor:void 0,a=s?Or(s):"";if(a)switch(a){case oy:return fg;case pg:return ry;case ay:return Nf;case ly:return hu;case fu:return sy}return t});const fc=hc;var cy=Object.prototype.hasOwnProperty;const Pf=function(f){var t=f.length,s=new f.constructor(t);return t&&typeof f[0]=="string"&&cy.call(f,"index")&&(s.index=f.index,s.input=f.input),s},xl=ce.Uint8Array,If=function(f){var t=new f.constructor(f.byteLength);return new xl(t).set(new xl(f)),t},jf=function(f,t){var s=t?If(f.buffer):f.buffer;return new f.constructor(s,f.byteOffset,f.byteLength)};var uy=/\w*$/;const mg=function(f){var t=new f.constructor(f.source,uy.exec(f));return t.lastIndex=f.lastIndex,t};var Rf=Ue?Ue.prototype:void 0,Bd=Rf?Rf.valueOf:void 0;const Ln=function(f){return Bd?Object(Bd.call(f)):{}},gg=function(f,t){var s=t?If(f.buffer):f.buffer;return new f.constructor(s,f.byteOffset,f.length)},dy=function(f,t,s){var a=f.constructor;switch(t){case"[object ArrayBuffer]":return If(f);case"[object Boolean]":case"[object Date]":return new a(+f);case"[object DataView]":return jf(f,s);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return gg(f,s);case"[object Map]":case"[object Set]":return new a;case"[object Number]":case"[object String]":return new a(f);case"[object RegExp]":return mg(f);case"[object Symbol]":return Ln(f)}};var hy=Object.create;const ox=function(){function f(){}return function(t){if(!Me(t))return{};if(hy)return hy(t);f.prototype=t;var s=new f;return f.prototype=void 0,s}}(),fy=function(f){return typeof f.constructor!="function"||du(f)?{}:ox(Ii(f))},ax=function(f){return Vn(f)&&fc(f)=="[object Map]"};var ls=co&&co.isMap;const py=ls?Ef(ls):ax,zd=function(f){return Vn(f)&&fc(f)=="[object Set]"};var bg=co&&co.isSet;const my=bg?Ef(bg):zd;var yg="[object Arguments]",Vd="[object Function]",Mf="[object Object]",Bn={};Bn[yg]=Bn["[object Array]"]=Bn["[object ArrayBuffer]"]=Bn["[object DataView]"]=Bn["[object Boolean]"]=Bn["[object Date]"]=Bn["[object Float32Array]"]=Bn["[object Float64Array]"]=Bn["[object Int8Array]"]=Bn["[object Int16Array]"]=Bn["[object Int32Array]"]=Bn["[object Map]"]=Bn["[object Number]"]=Bn[Mf]=Bn["[object RegExp]"]=Bn["[object Set]"]=Bn["[object String]"]=Bn["[object Symbol]"]=Bn["[object Uint8Array]"]=Bn["[object Uint8ClampedArray]"]=Bn["[object Uint16Array]"]=Bn["[object Uint32Array]"]=!0,Bn["[object Error]"]=Bn[Vd]=Bn["[object WeakMap]"]=!1;const va=function f(t,s,a,d,p,w){var k,D=1&s,R=2&s,M=4&s;if(a&&(k=p?a(t,d,p,w):a(t)),k!==void 0)return k;if(!Me(t))return t;var L=qt(t);if(L){if(k=Pf(t),!D)return Ld(t,k)}else{var W=fc(t),Y=W==Vd||W=="[object GeneratorFunction]";if(uu(t))return rg(t,D);if(W==Mf||W==yg||Y&&!p){if(k=R||Y?{}:fy(t),!D)return R?ag(t,Df(k,t)):sx(t,as(k,t))}else{if(!Bn[W])return p?t:{};k=dy(t,W,D)}}w||(w=new lo);var se=w.get(t);if(se)return se;w.set(t,k),my(t)?t.forEach(function(ve){k.add(f(ve,s,a,ve,t,w))}):py(t)&&t.forEach(function(ve,Pe){k.set(Pe,f(ve,s,a,Pe,t,w))});var le=L?void 0:(M?R?iy:lg:R?uo:Tf)(t);return Td(le||t,function(ve,Pe){le&&(ve=t[Pe=ve]),lu(k,Pe,f(ve,s,a,Pe,t,w))}),k},pu=function(f,t){return va(f,5,t=typeof t=="function"?t:void 0)},$n=function(f){return Vn(f)&&f.nodeType===1&&!sn(f)};class _l{constructor(t,s){this._config={},s&&this.define(Of(s)),t&&this._setObjectToTarget(this._config,t)}set(t,s){this._setToTarget(this._config,t,s)}define(t,s){this._setToTarget(this._config,t,s,!0)}get(t){return this._getFromSource(this._config,t)}*names(){for(const t of Object.keys(this._config))yield t}_setToTarget(t,s,a,d=!1){if(sn(s))return void this._setObjectToTarget(t,s,d);const p=s.split(".");s=p.pop();for(const w of p)sn(t[w])||(t[w]={}),t=t[w];if(sn(a))return sn(t[s])||(t[s]={}),t=t[s],void this._setObjectToTarget(t,a,d);d&&t[s]!==void 0||(t[s]=a)}_getFromSource(t,s){const a=s.split(".");s=a.pop();for(const d of a){if(!sn(t[d])){t=null;break}t=t[d]}return t?Of(t[s]):void 0}_setObjectToTarget(t,s,a){Object.keys(s).forEach(d=>{this._setToTarget(t,d,s[d],a)})}}function Of(f){return pu(f,gy)}function gy(f){return $n(f)?f:void 0}function ho(f){if(f){if(f.defaultView)return f instanceof f.defaultView.Document;if(f.ownerDocument&&f.ownerDocument.defaultView)return f instanceof f.ownerDocument.defaultView.Node}return!1}function wa(f){const t=Object.prototype.toString.apply(f);return t=="[object Window]"||t=="[object global]"}const Ff=ur(G());function ur(f){return f?class extends f{listenTo(t,s,a,d={}){if(ho(t)||wa(t)){const p={capture:!!d.useCapture,passive:!!d.usePassive},w=this._getProxyEmitter(t,p)||new kl(t,p);this.listenTo(w,s,a,d)}else super.listenTo(t,s,a,d)}stopListening(t,s,a){if(ho(t)||wa(t)){const d=this._getAllProxyEmitters(t);for(const p of d)this.stopListening(p,s,a)}else super.stopListening(t,s,a)}_getProxyEmitter(t,s){return function(a,d){const p=a[$];return p&&p[d]?p[d].emitter:null}(this,qn(t,s))}_getAllProxyEmitters(t){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(s=>this._getProxyEmitter(t,s)).filter(s=>!!s)}}:Ff}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(f=>{ur[f]=Ff.prototype[f]});class kl extends G(){constructor(t,s){super(),K(this,qn(t,s)),this._domNode=t,this._options=s}attach(t){if(this._domListeners&&this._domListeners[t])return;const s=this._createDomListener(t);this._domNode.addEventListener(t,s,this._options),this._domListeners||(this._domListeners={}),this._domListeners[t]=s}detach(t){let s;!this._domListeners[t]||(s=this._events[t])&&s.callbacks.length||this._domListeners[t].removeListener()}_addEventListener(t,s,a){this.attach(t),G().prototype._addEventListener.call(this,t,s,a)}_removeEventListener(t,s){G().prototype._removeEventListener.call(this,t,s),this.detach(t)}_createDomListener(t){const s=a=>{this.fire(t,a)};return s.removeListener=()=>{this._domNode.removeEventListener(t,s,this._options),delete this._domListeners[t]},s}}function qn(f,t){let s=function(a){return a["data-ck-expando"]||(a["data-ck-expando"]=O())}(f);for(const a of Object.keys(t).sort())t[a]&&(s+="-"+a);return s}let ye;try{ye={window,document}}catch{ye={window:{},document:{}}}const de=ye;function Le(f){return Object.prototype.toString.call(f)=="[object Text]"}function Ye(f){return Object.prototype.toString.apply(f)=="[object Range]"}function It(f){const t=f.ownerDocument.defaultView.getComputedStyle(f);return{top:parseInt(t.borderTopWidth,10),right:parseInt(t.borderRightWidth,10),bottom:parseInt(t.borderBottomWidth,10),left:parseInt(t.borderLeftWidth,10)}}function Qt(f){return f&&f.parentNode?f.offsetParent===de.document.body?null:f.offsetParent:null}const nn=["top","right","bottom","left","width","height"];class vt{constructor(t){const s=Ye(t);if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),xa(t)||s)if(s){const a=vt.getDomRangeRects(t);qi(this,vt.getBoundingRect(a))}else qi(this,t.getBoundingClientRect());else if(wa(t)){const{innerWidth:a,innerHeight:d}=t;qi(this,{top:0,right:a,bottom:d,left:0,width:a,height:d})}else qi(this,t)}clone(){return new vt(this)}moveTo(t,s){return this.top=s,this.right=t+this.width,this.bottom=s+this.height,this.left=t,this}moveBy(t,s){return this.top+=s,this.right+=t,this.left+=t,this.bottom+=s,this}getIntersection(t){const s={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left),width:0,height:0};if(s.width=s.right-s.left,s.height=s.bottom-s.top,s.width<0||s.height<0)return null;{const a=new vt(s);return a._source=this._source,a}}getIntersectionArea(t){const s=this.getIntersection(t);return s?s.getArea():0}getArea(){return this.width*this.height}getVisible(){const t=this._source;let s=this.clone();if(jn(t))return s;let a,d=t,p=t.parentNode||t.commonAncestorContainer;for(;p&&!jn(p);){const k=((w=p)instanceof HTMLElement?w.ownerDocument.defaultView.getComputedStyle(w).overflow:"visible")==="visible";d instanceof HTMLElement&&Uo(d)==="absolute"&&(a=d);const D=Uo(p);if(k||a&&(D==="relative"&&k||D!=="relative")){d=p,p=p.parentNode;continue}const R=new vt(p),M=s.getIntersection(R);if(!M)return null;M.getArea()<s.getArea()&&(s=M),d=p,p=p.parentNode}var w;return s}isEqual(t){for(const s of nn)if(this[s]!==t[s])return!1;return!0}contains(t){const s=this.getIntersection(t);return!(!s||!s.isEqual(t))}toAbsoluteRect(){const{scrollX:t,scrollY:s}=de.window,a=this.clone().moveBy(t,s);if(xa(a._source)){const d=Qt(a._source);d&&function(p,w){const k=new vt(w),D=It(w);let R=0,M=0;R-=k.left,M-=k.top,R+=w.scrollLeft,M+=w.scrollTop,R-=D.left,M-=D.top,p.moveBy(R,M)}(a,d)}return a}excludeScrollbarsAndBorders(){const t=this._source;let s,a,d;if(wa(t))s=t.innerWidth-t.document.documentElement.clientWidth,a=t.innerHeight-t.document.documentElement.clientHeight,d=t.getComputedStyle(t.document.documentElement).direction;else{const p=It(t);s=t.offsetWidth-t.clientWidth-p.left-p.right,a=t.offsetHeight-t.clientHeight-p.top-p.bottom,d=t.ownerDocument.defaultView.getComputedStyle(t).direction,this.left+=p.left,this.top+=p.top,this.right-=p.right,this.bottom-=p.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=s,d==="ltr"?this.right-=s:this.left+=s,this.height-=a,this.bottom-=a,this}static getDomRangeRects(t){const s=[],a=Array.from(t.getClientRects());if(a.length)for(const d of a)s.push(new vt(d));else{let d=t.startContainer;Le(d)&&(d=d.parentNode);const p=new vt(d.getBoundingClientRect());p.right=p.left,p.width=0,s.push(p)}return s}static getBoundingRect(t){const s={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let a=0;for(const d of t)a++,s.left=Math.min(s.left,d.left),s.top=Math.min(s.top,d.top),s.right=Math.max(s.right,d.right),s.bottom=Math.max(s.bottom,d.bottom);return a==0?null:(s.width=s.right-s.left,s.height=s.bottom-s.top,new vt(s))}}function qi(f,t){for(const s of nn)f[s]=t[s]}function jn(f){return!!xa(f)&&f===f.ownerDocument.body}function xa(f){return f!==null&&typeof f=="object"&&f.nodeType===1&&typeof f.getBoundingClientRect=="function"}function Uo(f){return f instanceof HTMLElement?f.ownerDocument.defaultView.getComputedStyle(f).position:"static"}class wn{constructor(t,s){wn._observerInstance||wn._createObserver(),this._element=t,this._callback=s,wn._addElementCallback(t,s),wn._observerInstance.observe(t)}get element(){return this._element}destroy(){wn._deleteElementCallback(this._element,this._callback)}static _addElementCallback(t,s){wn._elementCallbacks||(wn._elementCallbacks=new Map);let a=wn._elementCallbacks.get(t);a||(a=new Set,wn._elementCallbacks.set(t,a)),a.add(s)}static _deleteElementCallback(t,s){const a=wn._getElementCallbacks(t);a&&(a.delete(s),a.size||(wn._elementCallbacks.delete(t),wn._observerInstance.unobserve(t))),wn._elementCallbacks&&!wn._elementCallbacks.size&&(wn._observerInstance=null,wn._elementCallbacks=null)}static _getElementCallbacks(t){return wn._elementCallbacks?wn._elementCallbacks.get(t):null}static _createObserver(){wn._observerInstance=new de.window.ResizeObserver(t=>{for(const s of t){const a=wn._getElementCallbacks(s.target);if(a)for(const d of a)d(s)}})}}function Ur(f,t){f instanceof HTMLTextAreaElement&&(f.value=t),f.innerHTML=t}function Lr(f){return t=>t+f}function pc(f){let t=0;for(;f.previousSibling;)f=f.previousSibling,t++;return t}function Wd(f,t,s){f.insertBefore(s,f.childNodes[t]||null)}function Ms(f){return f&&f.nodeType===Node.COMMENT_NODE}function Ai(f){return!!(f&&f.getClientRects&&f.getClientRects().length)}function cs({element:f,target:t,positions:s,limiter:a,fitInViewport:d,viewportOffsetConfig:p}){so(t)&&(t=t()),so(a)&&(a=a());const w=Qt(f),k=function(W){W=Object.assign({top:0,bottom:0,left:0,right:0},W);const Y=new vt(de.window);return Y.top+=W.top,Y.height-=W.top,Y.bottom-=W.bottom,Y.height-=W.bottom,Y}(p),D=new vt(f),R=fo(t,k);let M;if(!R||!k.getIntersection(R))return null;const L={targetRect:R,elementRect:D,positionedElementAncestor:w,viewportRect:k};if(a||d){if(a){const W=fo(a,k);W&&(L.limiterRect=W)}M=function(W,Y){const{elementRect:se}=Y,le=se.getArea(),ve=W.map(Qe=>new mc(Qe,Y)).filter(Qe=>!!Qe.name);let Pe=0,$e=null;for(const Qe of ve){const{limiterIntersectionArea:St,viewportIntersectionArea:tn}=Qe;if(St===le)return Qe;const Fn=tn**2+St**2;Fn>Pe&&(Pe=Fn,$e=Qe)}return $e}(s,L)}else M=new mc(s[0],L);return M}function fo(f,t){const s=new vt(f).getVisible();return s?s.getIntersection(t):null}wn._observerInstance=null,wn._elementCallbacks=null;class mc{constructor(t,s){const a=t(s.targetRect,s.elementRect,s.viewportRect,s.limiterRect);if(!a)return;const{left:d,top:p,name:w,config:k}=a;this.name=w,this.config=k,this._positioningFunctionCoordinates={left:d,top:p},this._options=s}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const t=this._options.limiterRect;return t?t.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function vg(f){const t=f.parentNode;t&&t.removeChild(f)}function Uf({window:f,rect:t,alignToTop:s,forceScroll:a,viewportOffset:d}){const p=t.clone().moveBy(0,d.bottom),w=t.clone().moveBy(0,-d.top),k=new vt(f).excludeScrollbarsAndBorders(),D=s&&a,R=[w,p].every(se=>k.contains(se));let{scrollX:M,scrollY:L}=f;const W=M,Y=L;D?L-=k.top-t.top+d.top:R||(Lf(w,k)?L-=k.top-t.top+d.top:mu(p,k)&&(L+=s?t.top-k.top-d.top:t.bottom-k.bottom+d.bottom)),R||($d(t,k)?M-=k.left-t.left+d.left:wg(t,k)&&(M+=t.right-k.right+d.right)),M==W&&L===Y||f.scrollTo(M,L)}function dA({parent:f,getRect:t,alignToTop:s,forceScroll:a,ancestorOffset:d=0,limiterElement:p}){const w=by(f),k=s&&a;let D,R,M;const L=p||w.document.body;for(;f!=L;)R=t(),D=new vt(f).excludeScrollbarsAndBorders(),M=D.contains(R),k?f.scrollTop-=D.top-R.top+d:M||(Lf(R,D)?f.scrollTop-=D.top-R.top+d:mu(R,D)&&(f.scrollTop+=s?R.top-D.top-d:R.bottom-D.bottom+d)),M||($d(R,D)?f.scrollLeft-=D.left-R.left+d:wg(R,D)&&(f.scrollLeft+=R.right-D.right+d)),f=f.parentNode}function mu(f,t){return f.bottom>t.bottom}function Lf(f,t){return f.top<t.top}function $d(f,t){return f.left<t.left}function wg(f,t){return f.right>t.right}function by(f){return Ye(f)?f.startContainer.ownerDocument.defaultView:f.ownerDocument.defaultView}function lx(f){if(Ye(f)){let t=f.commonAncestorContainer;return Le(t)&&(t=t.parentNode),t}return f.parentNode}function qd(f,t){const s=by(f),a=new vt(f);if(s===t)return a;{let d=s;for(;d!=t;){const p=d.frameElement,w=new vt(p).excludeScrollbarsAndBorders();a.moveBy(w.left,w.top),d=d.parent}}return a}const gu={ctrl:"⌃",cmd:"⌘",alt:"⌥",shift:"⇧"},li={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Gt=function(){const f={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let t=65;t<=90;t++)f[String.fromCharCode(t).toLowerCase()]=t;for(let t=48;t<=57;t++)f[t-48]=t;for(let t=112;t<=123;t++)f["f"+(t-111)]=t;for(const t of"`-=[];',./\\")f[t]=t.charCodeAt(0);return f}(),bu=Object.fromEntries(Object.entries(Gt).map(([f,t])=>[t,f.charAt(0).toUpperCase()+f.slice(1)]));function Ri(f){let t;if(typeof f=="string"){if(t=Gt[f.toLowerCase()],!t)throw new B("keyboard-unknown-key",null,{key:f})}else t=f.keyCode+(f.altKey?Gt.alt:0)+(f.ctrlKey?Gt.ctrl:0)+(f.shiftKey?Gt.shift:0)+(f.metaKey?Gt.cmd:0);return t}function Br(f){return typeof f=="string"&&(f=function(t){return t.split("+").map(s=>s.trim())}(f)),f.map(t=>typeof t=="string"?function(s){if(s.endsWith("!"))return Ri(s.slice(0,-1));const a=Ri(s);return(y.isMac||y.isiOS)&&a==Gt.ctrl?Gt.cmd:a}(t):t).reduce((t,s)=>s+t,0)}function yu(f){let t=Br(f);return Object.entries(y.isMac||y.isiOS?gu:li).reduce((s,[a,d])=>(t&Gt[a]&&(t&=~Gt[a],s+=d),s),"")+(t?bu[t]:"")}function vu(f,t){const s=t==="ltr";switch(f){case Gt.arrowleft:return s?"left":"right";case Gt.arrowright:return s?"right":"left";case Gt.arrowup:return"up";case Gt.arrowdown:return"down"}}function Rn(f){return Array.isArray(f)?f:[f]}function cx(f,t,s=1){if(typeof s!="number")throw new B("translation-service-quantity-not-a-number",null,{quantity:s});const a=Object.keys(de.window.CKEDITOR_TRANSLATIONS).length;a===1&&(f=Object.keys(de.window.CKEDITOR_TRANSLATIONS)[0]);const d=t.id||t.string;if(a===0||!function(D,R){return!!de.window.CKEDITOR_TRANSLATIONS[D]&&!!de.window.CKEDITOR_TRANSLATIONS[D].dictionary[R]}(f,d))return s!==1?t.plural:t.string;const p=de.window.CKEDITOR_TRANSLATIONS[f].dictionary,w=de.window.CKEDITOR_TRANSLATIONS[f].getPluralForm||(D=>D===1?0:1),k=p[d];return typeof k=="string"?k:k[Number(w(s))]}de.window.CKEDITOR_TRANSLATIONS||(de.window.CKEDITOR_TRANSLATIONS={});const hA=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function ux(f){return hA.includes(f)?"rtl":"ltr"}class yy{constructor({uiLanguage:t="en",contentLanguage:s}={}){this.uiLanguage=t,this.contentLanguage=s||this.uiLanguage,this.uiLanguageDirection=ux(this.uiLanguage),this.contentLanguageDirection=ux(this.contentLanguage),this.t=(a,d)=>this._t(a,d)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(t,s=[]){s=Rn(s),typeof t=="string"&&(t={string:t});const a=t.plural?s[0]:1;return function(d,p){return d.replace(/%(\d+)/g,(w,k)=>k<p.length?p[k]:w)}(cx(this.uiLanguage,t,a),s)}}class Os extends G(){constructor(t={},s={}){super();const a=Oe(t);if(a||(s=t),this._items=[],this._itemMap=new Map,this._idProperty=s.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],a)for(const d of t)this._items.push(d),this._itemMap.set(this._getItemIdBeforeAdding(d),d)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(t,s){return this.addMany([t],s)}addMany(t,s){if(s===void 0)s=this._items.length;else if(s>this._items.length||s<0)throw new B("collection-add-item-invalid-index",this);let a=0;for(const d of t){const p=this._getItemIdBeforeAdding(d),w=s+a;this._items.splice(w,0,d),this._itemMap.set(p,d),this.fire("add",d,w),a++}return this.fire("change",{added:t,removed:[],index:s}),this}get(t){let s;if(typeof t=="string")s=this._itemMap.get(t);else{if(typeof t!="number")throw new B("collection-get-invalid-arg",this);s=this._items[t]}return s||null}has(t){if(typeof t=="string")return this._itemMap.has(t);{const s=t[this._idProperty];return s&&this._itemMap.has(s)}}getIndex(t){let s;return s=typeof t=="string"?this._itemMap.get(t):t,s?this._items.indexOf(s):-1}remove(t){const[s,a]=this._remove(t);return this.fire("change",{added:[],removed:[s],index:a}),s}map(t,s){return this._items.map(t,s)}find(t,s){return this._items.find(t,s)}filter(t,s){return this._items.filter(t,s)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const t=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:t,index:0})}bindTo(t){if(this._bindToCollection)throw new B("collection-bind-to-rebind",this);return this._bindToCollection=t,{as:s=>{this._setUpBindToBinding(a=>new s(a))},using:s=>{typeof s=="function"?this._setUpBindToBinding(s):this._setUpBindToBinding(a=>a[s])}}}_setUpBindToBinding(t){const s=this._bindToCollection,a=(d,p,w)=>{const k=s._bindToCollection==this,D=s._bindToInternalToExternalMap.get(p);if(k&&D)this._bindToExternalToInternalMap.set(p,D),this._bindToInternalToExternalMap.set(D,p);else{const R=t(p);if(!R)return void this._skippedIndexesFromExternal.push(w);let M=w;for(const L of this._skippedIndexesFromExternal)w>L&&M--;for(const L of s._skippedIndexesFromExternal)M>=L&&M++;this._bindToExternalToInternalMap.set(p,R),this._bindToInternalToExternalMap.set(R,p),this.add(R,M);for(let L=0;L<s._skippedIndexesFromExternal.length;L++)M<=s._skippedIndexesFromExternal[L]&&s._skippedIndexesFromExternal[L]++}};for(const d of s)a(0,d,s.getIndex(d));this.listenTo(s,"add",a),this.listenTo(s,"remove",(d,p,w)=>{const k=this._bindToExternalToInternalMap.get(p);k&&this.remove(k),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((D,R)=>(w<R&&D.push(R-1),w>R&&D.push(R),D),[])})}_getItemIdBeforeAdding(t){const s=this._idProperty;let a;if(s in t){if(a=t[s],typeof a!="string")throw new B("collection-add-invalid-id",this);if(this.get(a))throw new B("collection-add-item-already-exists",this)}else t[s]=a=O();return a}_remove(t){let s,a,d,p=!1;const w=this._idProperty;if(typeof t=="string"?(a=t,d=this._itemMap.get(a),p=!d,d&&(s=this._items.indexOf(d))):typeof t=="number"?(s=t,d=this._items[s],p=!d,d&&(a=d[w])):(d=t,a=d[w],s=this._items.indexOf(d),p=s==-1||!this._itemMap.get(a)),p)throw new B("collection-remove-404",this);this._items.splice(s,1),this._itemMap.delete(a);const k=this._bindToInternalToExternalMap.get(d);return this._bindToInternalToExternalMap.delete(d),this._bindToExternalToInternalMap.delete(k),this.fire("remove",d,s),[d,s]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function ci(f){const t=f.next();return t.done?null:t.value}class Hi extends ur(Be()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(t){if(this._elements.has(t))throw new B("focustracker-add-element-already-exist",this);this.listenTo(t,"focus",()=>this._focus(t),{useCapture:!0}),this.listenTo(t,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(t)}remove(t){t===this.focusedElement&&this._blur(),this._elements.has(t)&&(this.stopListening(t),this._elements.delete(t))}destroy(){this.stopListening()}_focus(t){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=t,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class _a{constructor(){this._listener=new(ur())}listenTo(t){this._listener.listenTo(t,"keydown",(s,a)=>{this._listener.fire("_keydown:"+Ri(a),a)})}set(t,s,a={}){const d=Br(t),p=a.priority;this._listener.listenTo(this._listener,"_keydown:"+d,(w,k)=>{s(k,()=>{k.preventDefault(),k.stopPropagation(),w.stop()}),w.return=!0},{priority:p})}press(t){return!!this._listener.fire("_keydown:"+Ri(t),t)}stopListening(t){this._listener.stopListening(t)}destroy(){this.stopListening()}}function ka(f){return Oe(f)?new Map(f):function(t){const s=new Map;for(const a in t)s.set(a,t[a]);return s}(f)}function xg(f,t){let s;function a(...d){a.cancel(),s=setTimeout(()=>f(...d),t)}return a.cancel=()=>{clearTimeout(s)},a}function dx(f,t){return!!(s=f.charAt(t-1))&&s.length==1&&/[\ud800-\udbff]/.test(s)&&function(a){return!!a&&a.length==1&&/[\udc00-\udfff]/.test(a)}(f.charAt(t));var s}function vy(f,t){return!!(s=f.charAt(t))&&s.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(s);var s}const hx=function(){const f=new RegExp("\\p{Regional_Indicator}{2}","u").source,t="(?:"+[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")].map(s=>s.source).join("|")+")";return new RegExp(`${f}|${t}(?:‍${t})*`,"ug")}();function fA(f,t){const s=String(f).matchAll(hx);return Array.from(s).some(a=>a.index<t&&t<a.index+a[0].length)}class Lo extends Os{constructor(t=[]){super(t,{idProperty:"viewUid"}),this.on("add",(s,a,d)=>{this._renderViewIntoCollectionParent(a,d)}),this.on("remove",(s,a)=>{a.element&&this._parentElement&&a.element.remove()}),this._parentElement=null}destroy(){this.map(t=>t.destroy())}setParent(t){this._parentElement=t;for(const s of this)this._renderViewIntoCollectionParent(s)}delegate(...t){if(!t.length||!t.every(s=>typeof s=="string"))throw new B("ui-viewcollection-delegate-wrong-events",this);return{to:s=>{for(const a of this)for(const d of t)a.delegate(d).to(s);this.on("add",(a,d)=>{for(const p of t)d.delegate(p).to(s)}),this.on("remove",(a,d)=>{for(const p of t)d.stopDelegating(p,s)})}}}_renderViewIntoCollectionParent(t,s){t.isRendered||t.render(),t.element&&this._parentElement&&this._parentElement.insertBefore(t.element,this._parentElement.children[s])}remove(t){return super.remove(t)}}var pA=o(3379),jt=o.n(pA),mA=o(9037),Rt=o.n(mA),fx=o(569),Ot=o.n(fx),gc=o(8575),Tt=o.n(gc),px=o(9216),Mt=o.n(px),Qi=o(5167),El={attributes:{"data-cke":!0}};El.setAttributes=Tt(),El.insert=Ot().bind(null,"head"),El.domAPI=Rt(),El.insertStyleElement=Mt(),jt()(Qi.Z,El),Qi.Z&&Qi.Z.locals&&Qi.Z.locals;class on extends ur(Be()){constructor(t){super(),this.element=null,this.isRendered=!1,this.locale=t,this.t=t&&t.t,this._viewCollections=new Os,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(s,a)=>{a.locale=t,a.t=t&&t.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=dr.bind(this,this)}createCollection(t){const s=new Lo(t);return this._viewCollections.add(s),s}registerChild(t){Oe(t)||(t=[t]);for(const s of t)this._unboundChildren.add(s)}deregisterChild(t){Oe(t)||(t=[t]);for(const s of t)this._unboundChildren.remove(s)}setTemplate(t){this.template=new dr(t)}extendTemplate(t){dr.extend(this.template,t)}render(){if(this.isRendered)throw new B("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(t=>t.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}class dr extends G(){constructor(t){super(),Object.assign(this,ky(_g(t))),this._isRendered=!1,this._revertData=null}render(){const t=this._renderNode({intoFragment:!0});return this._isRendered=!0,t}apply(t){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:t,intoFragment:!1,isApplying:!0,revertData:this._revertData}),t}revert(t){if(!this._revertData)throw new B("ui-template-revert-not-applied",[this,t]);this._revertTemplateFromNode(t,this._revertData)}*getViews(){yield*function*t(s){if(s.children)for(const a of s.children)zf(a)?yield a:Sy(a)&&(yield*t(a))}(this)}static bind(t,s){return{to:(a,d)=>new Sl({eventNameOrFunction:a,attribute:a,observable:t,emitter:s,callback:d}),if:(a,d,p)=>new mx({observable:t,emitter:s,attribute:a,valueIfTrue:d,callback:p})}}static extend(t,s){if(t._isRendered)throw new B("template-extend-render",[this,t]);po(t,ky(_g(s)))}_renderNode(t){let s;if(s=t.node?this.tag&&this.text:this.tag?this.text:!this.text,s)throw new B("ui-template-wrong-syntax",this);return this.text?this._renderText(t):this._renderElement(t)}_renderElement(t){let s=t.node;return s||(s=t.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(t),this._renderElementChildren(t),this._setUpListeners(t),s}_renderText(t){let s=t.node;return s?t.revertData.text=s.textContent:s=t.node=document.createTextNode(""),wy(this.text)?this._bindToObservable({schema:this.text,updater:xy(s),data:t}):s.textContent=this.text.join(""),s}_renderAttributes(t){if(!this.attributes)return;const s=t.node,a=t.revertData;for(const d in this.attributes){const p=s.getAttribute(d),w=this.attributes[d];a&&(a.attributes[d]=p);const k=yc(w)?w[0].ns:null;if(wy(w)){const D=yc(w)?w[0].value:w;a&&bx(d)&&D.unshift(p),this._bindToObservable({schema:D,updater:_y(s,d,k),data:t})}else if(d=="style"&&typeof w[0]!="string")this._renderStyleAttribute(w[0],t);else{a&&p&&bx(d)&&w.unshift(p);const D=w.map(R=>R&&R.value||R).reduce((R,M)=>R.concat(M),[]).reduce(gx,"");mo(D)||s.setAttributeNS(k,d,D)}}}_renderStyleAttribute(t,s){const a=s.node;for(const d in t){const p=t[d];wy(p)?this._bindToObservable({schema:[p],updater:Bf(a,d),data:s}):a.style[d]=p}}_renderElementChildren(t){const s=t.node,a=t.intoFragment?document.createDocumentFragment():s,d=t.isApplying;let p=0;for(const w of this.children)if(Al(w)){if(!d){w.setParent(s);for(const k of w)a.appendChild(k.element)}}else if(zf(w))d||(w.isRendered||w.render(),a.appendChild(w.element));else if(ho(w))a.appendChild(w);else if(d){const k={children:[],bindings:[],attributes:{}};t.revertData.children.push(k),w._renderNode({intoFragment:!1,node:a.childNodes[p++],isApplying:!0,revertData:k})}else a.appendChild(w.render());t.intoFragment&&s.appendChild(a)}_setUpListeners(t){if(this.eventListeners)for(const s in this.eventListeners){const a=this.eventListeners[s].map(d=>{const[p,w]=s.split("@");return d.activateDomEventListener(p,w,t)});t.revertData&&t.revertData.bindings.push(a)}}_bindToObservable({schema:t,updater:s,data:a}){const d=a.revertData;Bo(t,s,a);const p=t.filter(w=>!mo(w)).filter(w=>w.observable).map(w=>w.activateAttributeListener(t,s,a));d&&d.bindings.push(p)}_revertTemplateFromNode(t,s){for(const d of s.bindings)for(const p of d)p();if(s.text)return void(t.textContent=s.text);const a=t;for(const d in s.attributes){const p=s.attributes[d];p===null?a.removeAttribute(d):a.setAttribute(d,p)}for(let d=0;d<s.children.length;++d)this._revertTemplateFromNode(a.childNodes[d],s.children[d])}}class bc{constructor(t){this.attribute=t.attribute,this.observable=t.observable,this.emitter=t.emitter,this.callback=t.callback}getValue(t){const s=this.observable[this.attribute];return this.callback?this.callback(s,t):s}activateAttributeListener(t,s,a){const d=()=>Bo(t,s,a);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,d),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,d)}}}class Sl extends bc{constructor(t){super(t),this.eventNameOrFunction=t.eventNameOrFunction}activateDomEventListener(t,s,a){const d=(p,w)=>{s&&!w.target.matches(s)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(w):this.observable.fire(this.eventNameOrFunction,w))};return this.emitter.listenTo(a.node,t,d),()=>{this.emitter.stopListening(a.node,t,d)}}}class mx extends bc{constructor(t){super(t),this.valueIfTrue=t.valueIfTrue}getValue(t){return!mo(super.getValue(t))&&(this.valueIfTrue||!0)}}function wy(f){return!!f&&(f.value&&(f=f.value),Array.isArray(f)?f.some(wy):f instanceof bc)}function Bo(f,t,{node:s}){const a=function(p,w){return p.map(k=>k instanceof bc?k.getValue(w):k)}(f,s);let d;d=f.length==1&&f[0]instanceof mx?a[0]:a.reduce(gx,""),mo(d)?t.remove():t.set(d)}function xy(f){return{set(t){f.textContent=t},remove(){f.textContent=""}}}function _y(f,t,s){return{set(a){f.setAttributeNS(s,t,a)},remove(){f.removeAttributeNS(s,t)}}}function Bf(f,t){return{set(s){f.style[t]=s},remove(){f.style[t]=null}}}function _g(f){return pu(f,t=>{if(t&&(t instanceof bc||Sy(t)||zf(t)||Al(t)))return t})}function ky(f){if(typeof f=="string"?f=function(t){return{text:[t]}}(f):f.text&&function(t){t.text=Rn(t.text)}(f),f.on&&(f.eventListeners=function(t){for(const s in t)Ey(t,s);return t}(f.on),delete f.on),!f.text){f.attributes&&function(s){for(const a in s)s[a].value&&(s[a].value=Rn(s[a].value)),Ey(s,a)}(f.attributes);const t=[];if(f.children)if(Al(f.children))t.push(f.children);else for(const s of f.children)Sy(s)||zf(s)||ho(s)?t.push(s):t.push(new dr(s));f.children=t}return f}function Ey(f,t){f[t]=Rn(f[t])}function gx(f,t){return mo(t)?f:mo(f)?t:`${f} ${t}`}function Hd(f,t){for(const s in t)f[s]?f[s].push(...t[s]):f[s]=t[s]}function po(f,t){if(t.attributes&&(f.attributes||(f.attributes={}),Hd(f.attributes,t.attributes)),t.eventListeners&&(f.eventListeners||(f.eventListeners={}),Hd(f.eventListeners,t.eventListeners)),t.text&&f.text.push(...t.text),t.children&&t.children.length){if(f.children.length!=t.children.length)throw new B("ui-template-extend-children-mismatch",f);let s=0;for(const a of t.children)po(f.children[s++],a)}}function mo(f){return!f&&f!==0}function zf(f){return f instanceof on}function Sy(f){return f instanceof dr}function Al(f){return f instanceof Lo}function yc(f){return Me(f[0])&&f[0].ns}function bx(f){return f=="class"||f=="style"}class kg extends Lo{constructor(t,s=[]){super(s),this.locale=t}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new dr({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let t=document.querySelector(".ck-body-wrapper");t||(t=jr(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(t)),t.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const t=document.querySelector(".ck-body-wrapper");t&&t.childElementCount==0&&t.remove()}}var Eg=o(1977),Vf={attributes:{"data-cke":!0}};Vf.setAttributes=Tt(),Vf.insert=Ot().bind(null,"head"),Vf.domAPI=Rt(),Vf.insertStyleElement=Mt(),jt()(Eg.Z,Vf),Eg.Z&&Eg.Z.locals&&Eg.Z.locals;class zo extends on{constructor(){super();const t=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",t.if("isVisible","ck-hidden",s=>!s),"ck-reset_all-excluded",t.if("isColorInherited","ck-icon_inherit-color")],viewBox:t.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const t=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),s=t.getAttribute("viewBox");s&&(this.viewBox=s);for(const{name:a,value:d}of Array.from(t.attributes))zo.presentationalAttributeNames.includes(a)&&this.element.setAttribute(a,d);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(t=>{t.style.fill=this.fillColor})}}zo.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];class Ay extends on{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const t=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:t.to("style"),id:t.to("id")},children:[{text:t.to("text")}]})}}var Sg=o(4971),Wf={attributes:{"data-cke":!0}};Wf.setAttributes=Tt(),Wf.insert=Ot().bind(null,"head"),Wf.domAPI=Rt(),Wf.insertStyleElement=Mt(),jt()(Sg.Z,Wf),Sg.Z&&Sg.Z.locals&&Sg.Z.locals;class Mn extends on{constructor(t,s=new Ay){super(t),this._focusDelayed=null;const a=this.bindTemplate,d=O();this.set("ariaChecked",void 0),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${d}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(s),this.iconView=new zo,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const p={tag:"button",attributes:{class:["ck","ck-button",a.to("class"),a.if("isEnabled","ck-disabled",w=>!w),a.if("isVisible","ck-hidden",w=>!w),a.to("isOn",w=>w?"ck-on":"ck-off"),a.if("withText","ck-button_with-text"),a.if("withKeystroke","ck-button_with-keystroke")],role:a.to("role"),type:a.to("type",w=>w||"button"),tabindex:a.to("tabindex"),"aria-label":a.to("ariaLabel"),"aria-labelledby":a.to("ariaLabelledBy"),"aria-disabled":a.if("isEnabled",!0,w=>!w),"aria-checked":a.to("isOn"),"aria-pressed":a.to("isOn",w=>!!this.isToggleable&&String(!!w)),"data-cke-tooltip-text":a.to("_tooltipString"),"data-cke-tooltip-position":a.to("tooltipPosition")},children:this.children,on:{click:a.to(w=>{this.isEnabled?this.fire("execute"):w.preventDefault()})}};y.isSafari&&(this._focusDelayed||(this._focusDelayed=xg(()=>this.focus(),0)),p.on.mousedown=a.to(()=>{this._focusDelayed()}),p.on.mouseup=a.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(p)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(t){return t.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),t}_createKeystrokeView(){const t=new on;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",s=>yu(s))}]}),t}_getTooltipString(t,s,a){return t?typeof t=="string"?t:(a&&(a=yu(a)),t instanceof Function?t(s,a):`${s}${a?` (${a})`:""}`):""}}var $f=o(7258),wu={attributes:{"data-cke":!0}};wu.setAttributes=Tt(),wu.insert=Ot().bind(null,"head"),wu.domAPI=Rt(),wu.insertStyleElement=Mt(),jt()($f.Z,wu),$f.Z&&$f.Z.locals&&$f.Z.locals;class xu extends Mn{constructor(t){super(t),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const t=new on;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),t}}var Gd=o(4923),qf={attributes:{"data-cke":!0}};qf.setAttributes=Tt(),qf.insert=Ot().bind(null,"head"),qf.domAPI=Rt(),qf.insertStyleElement=Mt(),jt()(Gd.Z,qf),Gd.Z&&Gd.Z.locals&&Gd.Z.locals,o(8874),o(2085);var Xd=o(3525),Hf={attributes:{"data-cke":!0}};Hf.setAttributes=Tt(),Hf.insert=Ot().bind(null,"head"),Hf.domAPI=Rt(),Hf.insertStyleElement=Mt(),jt()(Xd.Z,Hf),Xd.Z&&Xd.Z.locals&&Xd.Z.locals;class Gf extends on{constructor(t){super(t),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${O()}`;const s=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:s.to("for")},children:[{text:s.to("text")}]})}}var go=o(2933),vc={attributes:{"data-cke":!0}};vc.setAttributes=Tt(),vc.insert=Ot().bind(null,"head"),vc.domAPI=Rt(),vc.insertStyleElement=Mt(),jt()(go.Z,vc),go.Z&&go.Z.locals&&go.Z.locals;class _u extends on{constructor(t,s){super(t);const a=`ck-labeled-field-view-${O()}`,d=`ck-labeled-field-view-status-${O()}`;this.fieldView=s(this,a,d),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(a),this.statusView=this._createStatusView(d),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(w,k)=>w||k);const p=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",p.to("class"),p.if("isEnabled","ck-disabled",w=>!w),p.if("isEmpty","ck-labeled-field-view_empty"),p.if("isFocused","ck-labeled-field-view_focused"),p.if("placeholder","ck-labeled-field-view_placeholder"),p.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(t){const s=new Gf(this.locale);return s.for=t,s.bind("text").to(this,"label"),s}_createStatusView(t){const s=new on(this.locale),a=this.bindTemplate;return s.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",a.if("errorText","ck-labeled-field-view__status_error"),a.if("_statusText","ck-hidden",d=>!d)],id:t,role:a.if("errorText","alert")},children:[{text:a.to("_statusText")}]}),s}focus(t){this.fieldView.focus(t)}}class Kd extends on{constructor(t){super(t),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new Hi,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const s=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",s.if("isFocused","ck-input_focused"),s.if("isEmpty","ck-input-text_empty"),s.if("hasError","ck-error")],id:s.to("id"),placeholder:s.to("placeholder"),readonly:s.to("isReadOnly"),"aria-invalid":s.if("hasError",!0),"aria-describedby":s.to("ariaDescribedById")},on:{input:s.to((...a)=>{this.fire("input",...a),this._updateIsEmpty()}),change:s.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(t,s,a)=>{this._setDomElementValue(a),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(t){this.element.value=t||t===0?t:""}}var Xf=o(2470),Cl={attributes:{"data-cke":!0}};Cl.setAttributes=Tt(),Cl.insert=Ot().bind(null,"head"),Cl.domAPI=Rt(),Cl.insertStyleElement=Mt(),jt()(Xf.Z,Cl),Xf.Z&&Xf.Z.locals&&Xf.Z.locals;class gA extends Kd{constructor(t){super(t),this.set("inputMode","text");const s=this.bindTemplate;this.extendTemplate({attributes:{inputmode:s.to("inputMode")}})}}class yx extends gA{constructor(t){super(t),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var ui=o(5224),ku={attributes:{"data-cke":!0}};ku.setAttributes=Tt(),ku.insert=Ot().bind(null,"head"),ku.domAPI=Rt(),ku.insertStyleElement=Mt(),jt()(ui.Z,ku),ui.Z&&ui.Z.locals&&ui.Z.locals;class wc extends on{constructor(t){super(t);const s=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",s.to("position",a=>`ck-dropdown__panel_${a}`),s.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:s.to(a=>{a.target.tagName.toLocaleLowerCase()!=="input"&&a.preventDefault()})}})}focus(){if(this.children.length){const t=this.children.first;typeof t.focus=="function"?t.focus():Z("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const t=this.children.last;typeof t.focusLast=="function"?t.focusLast():t.focus()}}}var Ea=o(5062),Fs={attributes:{"data-cke":!0}};Fs.setAttributes=Tt(),Fs.insert=Ot().bind(null,"head"),Fs.domAPI=Rt(),Fs.insertStyleElement=Mt(),jt()(Ea.Z,Fs),Ea.Z&&Ea.Z.locals&&Ea.Z.locals;class Zd extends on{constructor(t,s,a){super(t);const d=this.bindTemplate;this.buttonView=s,this.panelView=a,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new _a,this.focusTracker=new Hi,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",d.to("class"),d.if("isEnabled","ck-disabled",p=>!p)],id:d.to("id"),"aria-describedby":d.to("ariaDescribedById")},children:[s,a]}),s.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":d.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(s,a,d)=>{if(d)if(this.panelPosition==="auto"){const p=Zd._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=p?p.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const t=(s,a)=>{this.isOpen&&(this.isOpen=!1,a())};this.keystrokes.set("arrowdown",(s,a)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,a())}),this.keystrokes.set("arrowright",(s,a)=>{this.isOpen&&a()}),this.keystrokes.set("arrowleft",t),this.keystrokes.set("esc",t)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:t,north:s,southEast:a,southWest:d,northEast:p,northWest:w,southMiddleEast:k,southMiddleWest:D,northMiddleEast:R,northMiddleWest:M}=Zd.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[a,d,k,D,t,p,w,R,M,s]:[d,a,D,k,t,w,p,M,R,s]}}Zd.defaultPanelPositions={south:(f,t)=>({top:f.bottom,left:f.left-(t.width-f.width)/2,name:"s"}),southEast:f=>({top:f.bottom,left:f.left,name:"se"}),southWest:(f,t)=>({top:f.bottom,left:f.left-t.width+f.width,name:"sw"}),southMiddleEast:(f,t)=>({top:f.bottom,left:f.left-(t.width-f.width)/4,name:"sme"}),southMiddleWest:(f,t)=>({top:f.bottom,left:f.left-3*(t.width-f.width)/4,name:"smw"}),north:(f,t)=>({top:f.top-t.height,left:f.left-(t.width-f.width)/2,name:"n"}),northEast:(f,t)=>({top:f.top-t.height,left:f.left,name:"ne"}),northWest:(f,t)=>({top:f.top-t.height,left:f.left-t.width+f.width,name:"nw"}),northMiddleEast:(f,t)=>({top:f.top-t.height,left:f.left-(t.width-f.width)/4,name:"nme"}),northMiddleWest:(f,t)=>({top:f.top-t.height,left:f.left-3*(t.width-f.width)/4,name:"nmw"})},Zd._getOptimalPosition=cs;const vx='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class Cy extends Mn{constructor(t){super(t),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",s=>String(s))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const t=new zo;return t.content=vx,t.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),t}}class xc extends G(){constructor(t){if(super(),this.focusables=t.focusables,this.focusTracker=t.focusTracker,this.keystrokeHandler=t.keystrokeHandler,this.actions=t.actions,t.actions&&t.keystrokeHandler)for(const s in t.actions){let a=t.actions[s];typeof a=="string"&&(a=[a]);for(const d of a)t.keystrokeHandler.set(d,(p,w)=>{this[s](),w()})}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(Kf)||null}get last(){return this.focusables.filter(Kf).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let t=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((s,a)=>{const d=s.element===this.focusTracker.focusedElement;return d&&(t=a),d}),t)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const t=this.next;t&&this.focusables.getIndex(t)===this.current||(t===this.first?this.fire("forwardCycle"):this._focus(t,1))}focusPrevious(){const t=this.previous;t&&this.focusables.getIndex(t)===this.current||(t===this.last?this.fire("backwardCycle"):this._focus(t,-1))}_focus(t,s){t&&t.focus(s)}_getFocusableItem(t){const s=this.current,a=this.focusables.length;if(!a)return null;if(s===null)return this[t===1?"first":"last"];let d=(s+a+t)%a;do{const p=this.focusables.get(d);if(Kf(p))return p;d=(d+a+t)%a}while(d!==s);return null}}function Kf(f){return!(!("focus"in f)||!Ai(f.element))}class Ty extends on{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class Zf extends on{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function Dy(f){return Array.isArray(f)?{items:f,removeItems:[]}:f?Object.assign({items:[],removeItems:[]},f):{items:[],removeItems:[]}}class it extends Be(){constructor(t){super(),this._disableStack=new Set,this.editor=t,this.set("isEnabled",!0)}forceDisabled(t){this._disableStack.add(t),this._disableStack.size==1&&(this.on("set:isEnabled",bo,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(t){this._disableStack.delete(t),this._disableStack.size==0&&(this.off("set:isEnabled",bo),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function bo(f){f.return=!1,f.stop()}class cn extends Be(){constructor(t){super(),this.editor=t,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(t,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",s=>{if(!this.affectsData)return;const a=t.model.document.selection,d=a.getFirstPosition().root.rootName!="$graveyard"&&t.model.canEditAt(a);(t.isReadOnly||this._isEnabledBasedOnSelection&&!d)&&(s.return=!1,s.stop())},{priority:"highest"}),this.on("execute",s=>{this.isEnabled||s.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(t){this._affectsData=t}refresh(){this.isEnabled=!0}forceDisabled(t){this._disableStack.add(t),this._disableStack.size==1&&(this.on("set:isEnabled",Ci,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(t){this._disableStack.delete(t),this._disableStack.size==0&&(this.off("set:isEnabled",Ci),this.refresh())}execute(...t){}destroy(){this.stopListening()}}function Ci(f){f.return=!1,f.stop()}class zr extends cn{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...t){const s=this._getFirstEnabledCommand();return!!s&&s.execute(t)}registerChildCommand(t,s={}){U(this._childCommandsDefinitions,{command:t,priority:s.priority||"normal"}),t.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const t=this._childCommandsDefinitions.find(({command:s})=>s.isEnabled);return t&&t.command}}class hr extends G(){constructor(t,s=[],a=[]){super(),this._plugins=new Map,this._context=t,this._availablePlugins=new Map;for(const d of s)d.pluginName&&this._availablePlugins.set(d.pluginName,d);this._contextPlugins=new Map;for(const[d,p]of a)this._contextPlugins.set(d,p),this._contextPlugins.set(p,d),d.pluginName&&this._availablePlugins.set(d.pluginName,d)}*[Symbol.iterator](){for(const t of this._plugins)typeof t[0]=="function"&&(yield t)}get(t){const s=this._plugins.get(t);if(!s){let a=t;throw typeof t=="function"&&(a=t.pluginName||t.name),new B("plugincollection-plugin-not-loaded",this._context,{plugin:a})}return s}has(t){return this._plugins.has(t)}init(t,s=[],a=[]){const d=this,p=this._context;(function se(le,ve=new Set){le.forEach(Pe=>{D(Pe)&&(ve.has(Pe)||(ve.add(Pe),Pe.pluginName&&!d._availablePlugins.has(Pe.pluginName)&&d._availablePlugins.set(Pe.pluginName,Pe),Pe.requires&&se(Pe.requires,ve)))})})(t),W(t);const w=[...function se(le,ve=new Set){return le.map(Pe=>D(Pe)?Pe:d._availablePlugins.get(Pe)).reduce((Pe,$e)=>ve.has($e)?Pe:(ve.add($e),$e.requires&&(W($e.requires,$e),se($e.requires,ve).forEach(Qe=>Pe.add(Qe))),Pe.add($e)),new Set)}(t.filter(se=>!M(se,s)))];(function(se,le){for(const ve of le){if(typeof ve!="function")throw new B("plugincollection-replace-plugin-invalid-type",null,{pluginItem:ve});const Pe=ve.pluginName;if(!Pe)throw new B("plugincollection-replace-plugin-missing-name",null,{pluginItem:ve});if(ve.requires&&ve.requires.length)throw new B("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:Pe});const $e=d._availablePlugins.get(Pe);if(!$e)throw new B("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:Pe});const Qe=se.indexOf($e);if(Qe===-1){if(d._contextPlugins.has($e))return;throw new B("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:Pe})}if($e.requires&&$e.requires.length)throw new B("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:Pe});se.splice(Qe,1,ve),d._availablePlugins.set(Pe,ve)}})(w,a);const k=function(se){return se.map(le=>{let ve=d._contextPlugins.get(le);return ve=ve||new le(p),d._add(le,ve),ve})}(w);return Y(k,"init").then(()=>Y(k,"afterInit")).then(()=>k);function D(se){return typeof se=="function"}function R(se){return D(se)&&!!se.isContextPlugin}function M(se,le){return le.some(ve=>ve===se||L(se)===ve||L(ve)===se)}function L(se){return D(se)?se.pluginName||se.name:se}function W(se,le=null){se.map(ve=>D(ve)?ve:d._availablePlugins.get(ve)||ve).forEach(ve=>{(function(Pe,$e){if(!D(Pe))throw $e?new B("plugincollection-soft-required",p,{missingPlugin:Pe,requiredBy:L($e)}):new B("plugincollection-plugin-not-found",p,{plugin:Pe})})(ve,le),function(Pe,$e){if(R($e)&&!R(Pe))throw new B("plugincollection-context-required",p,{plugin:L(Pe),requiredBy:L($e)})}(ve,le),function(Pe,$e){if($e&&M(Pe,s))throw new B("plugincollection-required",p,{plugin:L(Pe),requiredBy:L($e)})}(ve,le)})}function Y(se,le){return se.reduce((ve,Pe)=>Pe[le]?d._contextPlugins.has(Pe)?ve:ve.then(Pe[le].bind(Pe)):ve,Promise.resolve())}}destroy(){const t=[];for(const[,s]of this)typeof s.destroy!="function"||this._contextPlugins.has(s)||t.push(s.destroy());return Promise.all(t)}_add(t,s){this._plugins.set(t,s);const a=t.pluginName;if(a){if(this._plugins.has(a))throw new B("plugincollection-plugin-name-conflict",null,{pluginName:a,plugin1:this._plugins.get(a).constructor,plugin2:t});this._plugins.set(a,s)}}}class Ag{constructor(t){this._contextOwner=null,this.config=new _l(t,this.constructor.defaultConfig);const s=this.constructor.builtinPlugins;this.config.define("plugins",s),this.plugins=new hr(this,s);const a=this.config.get("language")||{};this.locale=new yy({uiLanguage:typeof a=="string"?a:a.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new Os}initPlugins(){const t=this.config.get("plugins")||[],s=this.config.get("substitutePlugins")||[];for(const a of t.concat(s)){if(typeof a!="function")throw new B("context-initplugins-constructor-only",null,{Plugin:a});if(a.isContextPlugin!==!0)throw new B("context-initplugins-invalid-plugin",null,{Plugin:a})}return this.plugins.init(t,[],s)}destroy(){return Promise.all(Array.from(this.editors,t=>t.destroy())).then(()=>this.plugins.destroy())}_addEditor(t,s){if(this._contextOwner)throw new B("context-addeditor-private-context");this.editors.add(t),s&&(this._contextOwner=t)}_removeEditor(t){return this.editors.has(t)&&this.editors.remove(t),this._contextOwner===t?this.destroy():Promise.resolve()}_getEditorConfig(){const t={};for(const s of this.config.names())["plugins","removePlugins","extraPlugins"].includes(s)||(t[s]=this.config.get(s));return t}static create(t){return new Promise(s=>{const a=new this(t);s(a.initPlugins().then(()=>a))})}}class Yf extends Be(){constructor(t){super(),this.context=t}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}var xr=o(7372),Yd={attributes:{"data-cke":!0}};Yd.setAttributes=Tt(),Yd.insert=Ot().bind(null,"head"),Yd.domAPI=Rt(),Yd.insertStyleElement=Mt(),jt()(xr.Z,Yd),xr.Z&&xr.Z.locals&&xr.Z.locals;const Jf=new WeakMap;let Eu=!1;function Su({view:f,element:t,text:s,isDirectHost:a=!0,keepOnFocus:d=!1}){const p=f.document;function w(k){Jf.get(p).set(t,{text:k,isDirectHost:a,keepOnFocus:d,hostElement:a?t:null}),f.change(D=>Jd(p,D))}Jf.has(p)||(Jf.set(p,new Map),p.registerPostFixer(k=>Jd(p,k)),p.on("change:isComposing",()=>{f.change(k=>Jd(p,k))},{priority:"high"})),t.is("editableElement")&&t.on("change:placeholder",(k,D,R)=>{w(R)}),t.placeholder?w(t.placeholder):s&&w(s),s&&function(){Eu||Z("enableplaceholder-deprecated-text-option"),Eu=!0}()}function Tl(f,t){return!!t.hasClass("ck-placeholder")&&(f.removeClass("ck-placeholder",t),!0)}function Jd(f,t){const s=Jf.get(f),a=[];let d=!1;for(const[p,w]of s)w.isDirectHost&&(a.push(p),Qf(t,p,w)&&(d=!0));for(const[p,w]of s){if(w.isDirectHost)continue;const k=bA(p);k&&(a.includes(k)||(w.hostElement=k,Qf(t,p,w)&&(d=!0)))}return d}function Qf(f,t,s){const{text:a,isDirectHost:d,hostElement:p}=s;let w=!1;return p.getAttribute("data-placeholder")!==a&&(f.setAttribute("data-placeholder",a,p),w=!0),(d||t.childCount==1)&&function(k,D){if(!k.isAttached()||Array.from(k.getChildren()).some(W=>!W.is("uiElement")))return!1;const M=k.document,L=M.selection.anchor;return!(M.isComposing&&L&&L.parent===k||!D&&M.isFocused&&(!L||L.parent===k))}(p,s.keepOnFocus)?function(k,D){return!D.hasClass("ck-placeholder")&&(k.addClass("ck-placeholder",D),!0)}(f,p)&&(w=!0):Tl(f,p)&&(w=!0),w}function bA(f){if(f.childCount){const t=f.getChild(0);if(t.is("element")&&!t.is("uiElement")&&!t.is("attributeElement"))return t}return null}class Au{is(){throw new Error("is() method is abstract")}}const wx=function(f){return va(f,4)};class Sa extends G(Au){constructor(t){super(),this.document=t,this.parent=null}get index(){let t;if(!this.parent)return null;if((t=this.parent.getChildIndex(this))==-1)throw new B("view-node-not-found-in-parent",this);return t}get nextSibling(){const t=this.index;return t!==null&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return t!==null&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}isAttached(){return this.root.is("rootElement")}getPath(){const t=[];let s=this;for(;s.parent;)t.unshift(s.index),s=s.parent;return t}getAncestors(t={}){const s=[];let a=t.includeSelf?this:this.parent;for(;a;)s[t.parentFirst?"push":"unshift"](a),a=a.parent;return s}getCommonAncestor(t,s={}){const a=this.getAncestors(s),d=t.getAncestors(s);let p=0;for(;a[p]==d[p]&&a[p];)p++;return p===0?null:a[p-1]}isBefore(t){if(this==t||this.root!==t.root)return!1;const s=this.getPath(),a=t.getPath(),d=qe(s,a);switch(d){case"prefix":return!0;case"extension":return!1;default:return s[d]<a[d]}}isAfter(t){return this!=t&&this.root===t.root&&!this.isBefore(t)}_remove(){this.parent._removeChildren(this.index)}_fireChange(t,s){this.fire(`change:${t}`,s),this.parent&&this.parent._fireChange(t,s)}toJSON(){const t=wx(this);return delete t.parent,t}}Sa.prototype.is=function(f){return f==="node"||f==="view:node"};class Cn extends Sa{constructor(t,s){super(t),this._textData=s}get data(){return this._textData}get _data(){return this.data}set _data(t){this._fireChange("text",this),this._textData=t}isSimilar(t){return t instanceof Cn&&(this===t||this.data===t.data)}_clone(){return new Cn(this.document,this.data)}}Cn.prototype.is=function(f){return f==="$text"||f==="view:$text"||f==="text"||f==="view:text"||f==="node"||f==="view:node"};class Aa extends Au{constructor(t,s,a){if(super(),this.textNode=t,s<0||s>t.data.length)throw new B("view-textproxy-wrong-offsetintext",this);if(a<0||s+a>t.data.length)throw new B("view-textproxy-wrong-length",this);this.data=t.data.substring(s,s+a),this.offsetInText=s}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(t={}){const s=[];let a=t.includeSelf?this.textNode:this.parent;for(;a!==null;)s[t.parentFirst?"push":"unshift"](a),a=a.parent;return s}}Aa.prototype.is=function(f){return f==="$textProxy"||f==="view:$textProxy"||f==="textProxy"||f==="view:textProxy"};class Cu{constructor(...t){this._patterns=[],this.add(...t)}add(...t){for(let s of t)(typeof s=="string"||s instanceof RegExp)&&(s={name:s}),this._patterns.push(s)}match(...t){for(const s of t)for(const a of this._patterns){const d=Ny(s,a);if(d)return{element:s,pattern:a,match:d}}return null}matchAll(...t){const s=[];for(const a of t)for(const d of this._patterns){const p=Ny(a,d);p&&s.push({element:a,pattern:d,match:p})}return s.length>0?s:null}getElementName(){if(this._patterns.length!==1)return null;const t=this._patterns[0],s=t.name;return typeof t=="function"||!s||s instanceof RegExp?null:s}}function Ny(f,t){if(typeof t=="function")return t(f);const s={};return t.name&&(s.name=function(a,d){return a instanceof RegExp?!!d.match(a):a===d}(t.name,f.name),!s.name)||t.attributes&&(s.attributes=function(a,d){const p=new Set(d.getAttributeKeys());return sn(a)?(a.style!==void 0&&Z("matcher-pattern-deprecated-attributes-style-key",a),a.class!==void 0&&Z("matcher-pattern-deprecated-attributes-class-key",a)):(p.delete("style"),p.delete("class")),Cg(a,p,w=>d.getAttribute(w))}(t.attributes,f),!s.attributes)||t.classes&&(s.classes=function(a,d){return Cg(a,d.getClassNames(),()=>{})}(t.classes,f),!s.classes)||t.styles&&(s.styles=function(a,d){return Cg(a,d.getStyleNames(!0),p=>d.getStyle(p))}(t.styles,f),!s.styles)?null:s}function Cg(f,t,s){const a=function(w){return Array.isArray(w)?w.map(k=>sn(k)?(k.key!==void 0&&k.value!==void 0||Z("matcher-pattern-missing-key-or-value",k),[k.key,k.value]):[k,!0]):sn(w)?Object.entries(w):[[w,!0]]}(f),d=Array.from(t),p=[];if(a.forEach(([w,k])=>{d.forEach(D=>{(function(R,M){return R===!0||R===M||R instanceof RegExp&&M.match(R)})(w,D)&&function(R,M,L){if(R===!0)return!0;const W=L(M);return R===W||R instanceof RegExp&&!!String(W).match(R)}(k,D,s)&&p.push(D)})}),a.length&&!(p.length<a.length))return p}const Tg=function(f){return typeof f=="symbol"||Vn(f)&&mn(f)=="[object Symbol]"};var Py=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,yA=/^\w*$/;const vA=function(f,t){if(qt(f))return!1;var s=typeof f;return!(s!="number"&&s!="symbol"&&s!="boolean"&&f!=null&&!Tg(f))||yA.test(f)||!Py.test(f)||t!=null&&f in Object(t)};function Iy(f,t){if(typeof f!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var s=function(){var a=arguments,d=t?t.apply(this,a):a[0],p=s.cache;if(p.has(d))return p.get(d);var w=f.apply(this,a);return s.cache=p.set(d,w)||p,w};return s.cache=new(Iy.Cache||Fr),s}Iy.Cache=Fr;const xx=Iy,wA=function(f){var t=xx(f,function(a){return s.size===500&&s.clear(),a}),s=t.cache;return t};var xA=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dP=/\\(\\)?/g,_x=wA(function(f){var t=[];return f.charCodeAt(0)===46&&t.push(""),f.replace(xA,function(s,a,d,p){t.push(d?p.replace(dP,"$1"):a||s)}),t});const jy=_x,hP=function(f,t){for(var s=-1,a=f==null?0:f.length,d=Array(a);++s<a;)d[s]=t(f[s],s,f);return d};var _A=Ue?Ue.prototype:void 0,kA=_A?_A.toString:void 0;const fP=function f(t){if(typeof t=="string")return t;if(qt(t))return hP(t,f)+"";if(Tg(t))return kA?kA.call(t):"";var s=t+"";return s=="0"&&1/t==-1/0?"-0":s},yo=function(f){return f==null?"":fP(f)},us=function(f,t){return qt(f)?f:vA(f,t)?[f]:jy(yo(f))},EA=function(f){var t=f==null?0:f.length;return t?f[t-1]:void 0},Ry=function(f){if(typeof f=="string"||Tg(f))return f;var t=f+"";return t=="0"&&1/f==-1/0?"-0":t},kx=function(f,t){for(var s=0,a=(t=us(t,f)).length;f!=null&&s<a;)f=f[Ry(t[s++])];return s&&s==a?f:void 0},Ex=function(f,t,s){var a=-1,d=f.length;t<0&&(t=-t>d?0:d+t),(s=s>d?d:s)<0&&(s+=d),d=t>s?0:s-t>>>0,t>>>=0;for(var p=Array(d);++a<d;)p[a]=f[a+t];return p},SA=function(f,t){return t.length<2?f:kx(f,Ex(t,0,-1))},Sx=function(f,t){return t=us(t,f),(f=SA(f,t))==null||delete f[Ry(EA(t))]},AA=function(f,t){return f==null||Sx(f,t)},ep=function(f,t,s){var a=f==null?void 0:kx(f,t);return a===void 0?s:a},My=function(f,t,s){(s!==void 0&&!Xn(f[t],s)||s===void 0&&!(t in f))&&Dd(f,t,s)},CA=function(f){return function(t,s,a){for(var d=-1,p=Object(t),w=a(t),k=w.length;k--;){var D=w[++d];if(s(p[D],D,p)===!1)break}return t}}(),Ax=function(f){return Vn(f)&&dc(f)},Cx=function(f,t){if((t!=="constructor"||typeof f[t]!="function")&&t!="__proto__")return f[t]},TA=function(f){return ml(f,uo(f))},Tx=function(f,t,s,a,d,p,w){var k=Cx(f,s),D=Cx(t,s),R=w.get(D);if(R)My(f,s,R);else{var M=void 0,L=M===void 0;if(L){var W=qt(D),Y=!W&&uu(D),se=!W&&!Y&&jd(D);M=D,W||Y||se?qt(k)?M=k:Ax(k)?M=Ld(k):Y?(L=!1,M=rg(D,!0)):se?(L=!1,M=gg(D,!0)):M=[]:sn(D)||ng(D)?(M=k,ng(k)?M=TA(k):Me(k)&&!so(k)||(M=fy(D))):L=!1}L&&(w.set(D,M),d(M,D,a,p,w),w.delete(D)),My(f,s,M)}},DA=function f(t,s,a,d,p){t!==s&&CA(s,function(w,k){if(p||(p=new lo),Me(w))Tx(t,s,k,a,f,d,p);else{var D=void 0;D===void 0&&(D=w),My(t,k,D)}},uo)},Tu=function(f){return f},pP=function(f,t,s){switch(s.length){case 0:return f.call(t);case 1:return f.call(t,s[0]);case 2:return f.call(t,s[0],s[1]);case 3:return f.call(t,s[0],s[1],s[2])}return f.apply(t,s)};var NA=Math.max;const PA=function(f,t,s){return t=NA(t===void 0?f.length-1:t,0),function(){for(var a=arguments,d=-1,p=NA(a.length-t,0),w=Array(p);++d<p;)w[d]=a[t+d];d=-1;for(var k=Array(t+1);++d<t;)k[d]=a[d];return k[t]=s(w),pP(f,this,k)}},Dx=function(f){return function(){return f}},IA=ba?function(f,t){return ba(f,"toString",{configurable:!0,enumerable:!1,value:Dx(t),writable:!0})}:Tu;var _c=Date.now;const mP=function(f){var t=0,s=0;return function(){var a=_c(),d=16-(a-s);if(s=a,d>0){if(++t>=800)return arguments[0]}else t=0;return f.apply(void 0,arguments)}}(IA),gP=function(f,t){return mP(PA(f,t,Tu),f+"")},Nx=function(f,t,s){if(!Me(s))return!1;var a=typeof t;return!!(a=="number"?dc(s)&&bl(t,s.length):a=="string"&&t in s)&&Xn(s[t],f)},Fy=function(f){return gP(function(t,s){var a=-1,d=s.length,p=d>1?s[d-1]:void 0,w=d>2?s[2]:void 0;for(p=f.length>3&&typeof p=="function"?(d--,p):void 0,w&&Nx(s[0],s[1],w)&&(p=d<3?void 0:p,d=1),t=Object(t);++a<d;){var k=s[a];k&&f(t,k,a,p)}return t})},jA=Fy(function(f,t,s){DA(f,t,s)}),RA=function(f,t,s,a){if(!Me(f))return f;for(var d=-1,p=(t=us(t,f)).length,w=p-1,k=f;k!=null&&++d<p;){var D=Ry(t[d]),R=s;if(D==="__proto__"||D==="constructor"||D==="prototype")return f;if(d!=w){var M=k[D];(R=void 0)==void 0&&(R=Me(M)?M:bl(t[d+1])?[]:{})}lu(k,D,R),k=k[D]}return f},MA=function(f,t,s){return f==null?f:RA(f,t,s)};class bP{constructor(t){this._styles={},this._styleProcessor=t}get isEmpty(){const t=Object.entries(this._styles);return!Array.from(t).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(t){this.clear();const s=Array.from(function(a){let d=null,p=0,w=0,k=null;const D=new Map;if(a==="")return D;a.charAt(a.length-1)!=";"&&(a+=";");for(let R=0;R<a.length;R++){const M=a.charAt(R);if(d===null)switch(M){case":":k||(k=a.substr(p,R-p),w=R+1);break;case'"':case"'":d=M;break;case";":{const L=a.substr(w,R-w);k&&D.set(k.trim(),L.trim()),k=null,p=R+1;break}}else M===d&&(d=null)}return D}(t).entries());for(const[a,d]of s)this._styleProcessor.toNormalizedForm(a,d,this._styles)}has(t){if(this.isEmpty)return!1;const s=this._styleProcessor.getReducedForm(t,this._styles).find(([a])=>a===t);return Array.isArray(s)}set(t,s){if(Me(t))for(const[a,d]of Object.entries(t))this._styleProcessor.toNormalizedForm(a,d,this._styles);else this._styleProcessor.toNormalizedForm(t,s,this._styles)}remove(t){const s=Px(t);AA(this._styles,s),delete this._styles[t],this._cleanEmptyObjectsOnPath(s)}getNormalized(t){return this._styleProcessor.getNormalized(t,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(t=>t.join(":")).sort().join(";")+";"}getAsString(t){if(this.isEmpty)return;if(this._styles[t]&&!Me(this._styles[t]))return this._styles[t];const s=this._styleProcessor.getReducedForm(t,this._styles).find(([a])=>a===t);return Array.isArray(s)?s[1]:void 0}getStyleNames(t=!1){return this.isEmpty?[]:t?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([s])=>s)}clear(){this._styles={}}_getStylesEntries(){const t=[],s=Object.keys(this._styles);for(const a of s)t.push(...this._styleProcessor.getReducedForm(a,this._styles));return t}_cleanEmptyObjectsOnPath(t){const s=t.split(".");if(!(s.length>1))return;const a=s.splice(0,s.length-1).join("."),d=ep(this._styles,a);d&&!Array.from(Object.keys(d)).length&&this.remove(a)}}class OA{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(t,s,a){if(Me(s))Ix(a,Px(t),s);else if(this._normalizers.has(t)){const d=this._normalizers.get(t),{path:p,value:w}=d(s);Ix(a,p,w)}else Ix(a,t,s)}getNormalized(t,s){if(!t)return jA({},s);if(s[t]!==void 0)return s[t];if(this._extractors.has(t)){const a=this._extractors.get(t);if(typeof a=="string")return ep(s,a);const d=a(t,s);if(d)return d}return ep(s,Px(t))}getReducedForm(t,s){const a=this.getNormalized(t,s);return a===void 0?[]:this._reducers.has(t)?this._reducers.get(t)(a):[[t,a]]}getStyleNames(t){const s=Array.from(this._consumables.keys()).filter(d=>{const p=this.getNormalized(d,t);return p&&typeof p=="object"?Object.keys(p).length:p}),a=new Set([...s,...Object.keys(t)]);return Array.from(a.values())}getRelatedStyles(t){return this._consumables.get(t)||[]}setNormalizer(t,s){this._normalizers.set(t,s)}setExtractor(t,s){this._extractors.set(t,s)}setReducer(t,s){this._reducers.set(t,s)}setStyleRelation(t,s){this._mapStyleNames(t,s);for(const a of s)this._mapStyleNames(a,[t])}_mapStyleNames(t,s){this._consumables.has(t)||this._consumables.set(t,[]),this._consumables.get(t).push(...s)}}function Px(f){return f.replace("-",".")}function Ix(f,t,s){let a=s;Me(s)&&(a=jA({},ep(f,t),s)),MA(f,t,a)}class Us extends Sa{constructor(t,s,a,d){if(super(t),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=s,this._attrs=function(p){const w=ka(p);for(const[k,D]of w)D===null?w.delete(k):typeof D!="string"&&w.set(k,String(D));return w}(a),this._children=[],d&&this._insertChild(0,d),this._classes=new Set,this._attrs.has("class")){const p=this._attrs.get("class");jx(this._classes,p),this._attrs.delete("class")}this._styles=new bP(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(t){if(t=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(t=="style"){const s=this._styles.toString();return s==""?void 0:s}return this._attrs.get(t)}hasAttribute(t){return t=="class"?this._classes.size>0:t=="style"?!this._styles.isEmpty:this._attrs.has(t)}isSimilar(t){if(!(t instanceof Us))return!1;if(this===t)return!0;if(this.name!=t.name||this._attrs.size!==t._attrs.size||this._classes.size!==t._classes.size||this._styles.size!==t._styles.size)return!1;for(const[s,a]of this._attrs)if(!t._attrs.has(s)||t._attrs.get(s)!==a)return!1;for(const s of this._classes)if(!t._classes.has(s))return!1;for(const s of this._styles.getStyleNames())if(!t._styles.has(s)||t._styles.getAsString(s)!==this._styles.getAsString(s))return!1;return!0}hasClass(...t){for(const s of t)if(!this._classes.has(s))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(t){return this._styles.getAsString(t)}getNormalizedStyle(t){return this._styles.getNormalized(t)}getStyleNames(t){return this._styles.getStyleNames(t)}hasStyle(...t){for(const s of t)if(!this._styles.has(s))return!1;return!0}findAncestor(...t){const s=new Cu(...t);let a=this.parent;for(;a&&!a.is("documentFragment");){if(s.match(a))return a;a=a.parent}return null}getCustomProperty(t){return this._customProperties.get(t)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const t=Array.from(this._classes).sort().join(","),s=this._styles.toString(),a=Array.from(this._attrs).map(d=>`${d[0]}="${d[1]}"`).sort().join(" ");return this.name+(t==""?"":` class="${t}"`)+(s?` style="${s}"`:"")+(a==""?"":` ${a}`)}shouldRenderUnsafeAttribute(t){return this._unsafeAttributesToRender.includes(t)}_clone(t=!1){const s=[];if(t)for(const d of this.getChildren())s.push(d._clone(t));const a=new this.constructor(this.document,this.name,this._attrs,s);return a._classes=new Set(this._classes),a._styles.set(this._styles.getNormalized()),a._customProperties=new Map(this._customProperties),a.getFillerOffset=this.getFillerOffset,a._unsafeAttributesToRender=this._unsafeAttributesToRender,a}_appendChild(t){return this._insertChild(this.childCount,t)}_insertChild(t,s){this._fireChange("children",this);let a=0;const d=function(p,w){return typeof w=="string"?[new Cn(p,w)]:(Oe(w)||(w=[w]),Array.from(w).map(k=>typeof k=="string"?new Cn(p,k):k instanceof Aa?new Cn(p,k.data):k))}(this.document,s);for(const p of d)p.parent!==null&&p._remove(),p.parent=this,p.document=this.document,this._children.splice(t,0,p),t++,a++;return a}_removeChildren(t,s=1){this._fireChange("children",this);for(let a=t;a<t+s;a++)this._children[a].parent=null;return this._children.splice(t,s)}_setAttribute(t,s){const a=String(s);this._fireChange("attributes",this),t=="class"?jx(this._classes,a):t=="style"?this._styles.setTo(a):this._attrs.set(t,a)}_removeAttribute(t){return this._fireChange("attributes",this),t=="class"?this._classes.size>0&&(this._classes.clear(),!0):t=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(t)}_addClass(t){this._fireChange("attributes",this);for(const s of Rn(t))this._classes.add(s)}_removeClass(t){this._fireChange("attributes",this);for(const s of Rn(t))this._classes.delete(s)}_setStyle(t,s){this._fireChange("attributes",this),typeof t!="string"?this._styles.set(t):this._styles.set(t,s)}_removeStyle(t){this._fireChange("attributes",this);for(const s of Rn(t))this._styles.remove(s)}_setCustomProperty(t,s){this._customProperties.set(t,s)}_removeCustomProperty(t){return this._customProperties.delete(t)}}function jx(f,t){const s=t.split(/\s+/);f.clear(),s.forEach(a=>f.add(a))}Us.prototype.is=function(f,t){return t?t===this.name&&(f==="element"||f==="view:element"):f==="element"||f==="view:element"||f==="node"||f==="view:node"};class tp extends Us{constructor(t,s,a,d){super(t,s,a,d),this.getFillerOffset=Rx}}function Rx(){const f=[...this.getChildren()],t=f[this.childCount-1];if(t&&t.is("element","br"))return this.childCount;for(const s of f)if(!s.is("uiElement"))return null;return this.childCount}tp.prototype.is=function(f,t){return t?t===this.name&&(f==="containerElement"||f==="view:containerElement"||f==="element"||f==="view:element"):f==="containerElement"||f==="view:containerElement"||f==="element"||f==="view:element"||f==="node"||f==="view:node"};class Dg extends Be(tp){constructor(t,s,a,d){super(t,s,a,d),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(t),this.bind("isFocused").to(t,"isFocused",p=>p&&t.selection.editableElement==this),this.listenTo(t.selection,"change",()=>{this.isFocused=t.isFocused&&t.selection.editableElement==this})}destroy(){this.stopListening()}}Dg.prototype.is=function(f,t){return t?t===this.name&&(f==="editableElement"||f==="view:editableElement"||f==="containerElement"||f==="view:containerElement"||f==="element"||f==="view:element"):f==="editableElement"||f==="view:editableElement"||f==="containerElement"||f==="view:containerElement"||f==="element"||f==="view:element"||f==="node"||f==="view:node"};const Uy=Symbol("rootName");class Ly extends Dg{constructor(t,s){super(t,s),this.rootName="main"}get rootName(){return this.getCustomProperty(Uy)}set rootName(t){this._setCustomProperty(Uy,t)}set _name(t){this.name=t}}Ly.prototype.is=function(f,t){return t?t===this.name&&(f==="rootElement"||f==="view:rootElement"||f==="editableElement"||f==="view:editableElement"||f==="containerElement"||f==="view:containerElement"||f==="element"||f==="view:element"):f==="rootElement"||f==="view:rootElement"||f==="editableElement"||f==="view:editableElement"||f==="containerElement"||f==="view:containerElement"||f==="element"||f==="view:element"||f==="node"||f==="view:node"};class Du{constructor(t={}){if(!t.boundaries&&!t.startPosition)throw new B("view-tree-walker-no-start-position",null);if(t.direction&&t.direction!="forward"&&t.direction!="backward")throw new B("view-tree-walker-unknown-direction",t.startPosition,{direction:t.direction});this.boundaries=t.boundaries||null,t.startPosition?this._position=pt._createAt(t.startPosition):this._position=pt._createAt(t.boundaries[t.direction=="backward"?"end":"start"]),this.direction=t.direction||"forward",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(t){let s,a;do a=this.position,s=this.next();while(!s.done&&t(s.value));s.done||(this._position=a)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let t=this.position.clone();const s=this.position,a=t.parent;if(a.parent===null&&t.offset===a.childCount)return{done:!0,value:void 0};if(a===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let d;if(a instanceof Cn){if(t.isAtEnd)return this._position=pt._createAfter(a),this._next();d=a.data[t.offset]}else d=a.getChild(t.offset);if(d instanceof Us){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}else t=new pt(d,0);return this._position=t,this._formatReturnValue("elementStart",d,s,t,1)}if(d instanceof Cn){if(this.singleCharacters)return t=new pt(d,0),this._position=t,this._next();let p,w=d.data.length;return d==this._boundaryEndParent?(w=this.boundaries.end.offset,p=new Aa(d,0,w),t=pt._createAfter(p)):(p=new Aa(d,0,d.data.length),t.offset++),this._position=t,this._formatReturnValue("text",p,s,t,w)}if(typeof d=="string"){let p;this.singleCharacters?p=1:p=(a===this._boundaryEndParent?this.boundaries.end.offset:a.data.length)-t.offset;const w=new Aa(a,t.offset,p);return t.offset+=p,this._position=t,this._formatReturnValue("text",w,s,t,p)}return t=pt._createAfter(a),this._position=t,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",a,s,t)}_previous(){let t=this.position.clone();const s=this.position,a=t.parent;if(a.parent===null&&t.offset===0)return{done:!0,value:void 0};if(a==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let d;if(a instanceof Cn){if(t.isAtStart)return this._position=pt._createBefore(a),this._previous();d=a.data[t.offset-1]}else d=a.getChild(t.offset-1);if(d instanceof Us)return this.shallow?(t.offset--,this._position=t,this._formatReturnValue("elementStart",d,s,t,1)):(t=new pt(d,d.childCount),this._position=t,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",d,s,t));if(d instanceof Cn){if(this.singleCharacters)return t=new pt(d,d.data.length),this._position=t,this._previous();let p,w=d.data.length;if(d==this._boundaryStartParent){const k=this.boundaries.start.offset;p=new Aa(d,k,d.data.length-k),w=p.data.length,t=pt._createBefore(p)}else p=new Aa(d,0,d.data.length),t.offset--;return this._position=t,this._formatReturnValue("text",p,s,t,w)}if(typeof d=="string"){let p;if(this.singleCharacters)p=1;else{const k=a===this._boundaryStartParent?this.boundaries.start.offset:0;p=t.offset-k}t.offset-=p;const w=new Aa(a,t.offset,p);return this._position=t,this._formatReturnValue("text",w,s,t,p)}return t=pt._createBefore(a),this._position=t,this._formatReturnValue("elementStart",a,s,t,1)}_formatReturnValue(t,s,a,d,p){return s instanceof Aa&&(s.offsetInText+s.data.length==s.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?a=pt._createAfter(s.textNode):(d=pt._createAfter(s.textNode),this._position=d)),s.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?a=pt._createBefore(s.textNode):(d=pt._createBefore(s.textNode),this._position=d))),{done:!1,value:{type:t,item:s,previousPosition:a,nextPosition:d,length:p}}}}class pt extends Au{constructor(t,s){super(),this.parent=t,this.offset=s}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const t=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===t}get root(){return this.parent.root}get editableElement(){let t=this.parent;for(;!(t instanceof Dg);){if(!t.parent)return null;t=t.parent}return t}getShiftedBy(t){const s=pt._createAt(this),a=s.offset+t;return s.offset=a<0?0:a,s}getLastMatchingPosition(t,s={}){s.startPosition=this;const a=new Du(s);return a.skip(t),a.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(t){const s=this.getAncestors(),a=t.getAncestors();let d=0;for(;s[d]==a[d]&&s[d];)d++;return d===0?null:s[d-1]}isEqual(t){return this.parent==t.parent&&this.offset==t.offset}isBefore(t){return this.compareWith(t)=="before"}isAfter(t){return this.compareWith(t)=="after"}compareWith(t){if(this.root!==t.root)return"different";if(this.isEqual(t))return"same";const s=this.parent.is("node")?this.parent.getPath():[],a=t.parent.is("node")?t.parent.getPath():[];s.push(this.offset),a.push(t.offset);const d=qe(s,a);switch(d){case"prefix":return"before";case"extension":return"after";default:return s[d]<a[d]?"before":"after"}}getWalker(t={}){return t.startPosition=this,new Du(t)}clone(){return new pt(this.parent,this.offset)}static _createAt(t,s){if(t instanceof pt)return new this(t.parent,t.offset);{const a=t;if(s=="end")s=a.is("$text")?a.data.length:a.childCount;else{if(s=="before")return this._createBefore(a);if(s=="after")return this._createAfter(a);if(s!==0&&!s)throw new B("view-createpositionat-offset-required",a)}return new pt(a,s)}}static _createAfter(t){if(t.is("$textProxy"))return new pt(t.textNode,t.offsetInText+t.data.length);if(!t.parent)throw new B("view-position-after-root",t,{root:t});return new pt(t.parent,t.index+1)}static _createBefore(t){if(t.is("$textProxy"))return new pt(t.textNode,t.offsetInText);if(!t.parent)throw new B("view-position-before-root",t,{root:t});return new pt(t.parent,t.index)}}pt.prototype.is=function(f){return f==="position"||f==="view:position"};class Yt extends Au{constructor(t,s=null){super(),this.start=t.clone(),this.end=s?s.clone():t.clone()}*[Symbol.iterator](){yield*new Du({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let t=this.start.getLastMatchingPosition(By,{direction:"backward"}),s=this.end.getLastMatchingPosition(By);return t.parent.is("$text")&&t.isAtStart&&(t=pt._createBefore(t.parent)),s.parent.is("$text")&&s.isAtEnd&&(s=pt._createAfter(s.parent)),new Yt(t,s)}getTrimmed(){let t=this.start.getLastMatchingPosition(By);if(t.isAfter(this.end)||t.isEqual(this.end))return new Yt(t,t);let s=this.end.getLastMatchingPosition(By,{direction:"backward"});const a=t.nodeAfter,d=s.nodeBefore;return a&&a.is("$text")&&(t=new pt(a,0)),d&&d.is("$text")&&(s=new pt(d,d.data.length)),new Yt(t,s)}isEqual(t){return this==t||this.start.isEqual(t.start)&&this.end.isEqual(t.end)}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,s=!1){t.isCollapsed&&(s=!1);const a=this.containsPosition(t.start)||s&&this.start.isEqual(t.start),d=this.containsPosition(t.end)||s&&this.end.isEqual(t.end);return a&&d}getDifference(t){const s=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&s.push(new Yt(this.start,t.start)),this.containsPosition(t.end)&&s.push(new Yt(t.end,this.end))):s.push(this.clone()),s}getIntersection(t){if(this.isIntersecting(t)){let s=this.start,a=this.end;return this.containsPosition(t.start)&&(s=t.start),this.containsPosition(t.end)&&(a=t.end),new Yt(s,a)}return null}getWalker(t={}){return t.boundaries=this,new Du(t)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let t=this.start.nodeAfter,s=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(t=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(s=this.end.parent.previousSibling),t&&t.is("element")&&t===s?t:null}clone(){return new Yt(this.start,this.end)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const s=new Du(t);for(const a of s)yield a.item}*getPositions(t={}){t.boundaries=this;const s=new Du(t);yield s.position;for(const a of s)yield a.nextPosition}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}static _createFromParentsAndOffsets(t,s,a,d){return new this(new pt(t,s),new pt(a,d))}static _createFromPositionAndShift(t,s){const a=t,d=t.getShiftedBy(s);return s>0?new this(a,d):new this(d,a)}static _createIn(t){return this._createFromParentsAndOffsets(t,0,t,t.childCount)}static _createOn(t){const s=t.is("$textProxy")?t.offsetSize:1;return this._createFromPositionAndShift(pt._createBefore(t),s)}}function By(f){return!(!f.item.is("attributeElement")&&!f.item.is("uiElement"))}Yt.prototype.is=function(f){return f==="range"||f==="view:range"};class Ca extends G(Au){constructor(...t){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",t.length&&this.setTo(...t)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.end:t.start).clone()}get focus(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.start:t.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const t of this._ranges)yield t.clone()}getFirstRange(){let t=null;for(const s of this._ranges)t&&!s.start.isBefore(t.start)||(t=s);return t?t.clone():null}getLastRange(){let t=null;for(const s of this._ranges)t&&!s.end.isAfter(t.end)||(t=s);return t?t.clone():null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}isEqual(t){if(this.isFake!=t.isFake||this.isFake&&this.fakeSelectionLabel!=t.fakeSelectionLabel||this.rangeCount!=t.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const s of this._ranges){let a=!1;for(const d of t._ranges)if(s.isEqual(d)){a=!0;break}if(!a)return!1}return!0}isSimilar(t){if(this.isBackward!=t.isBackward)return!1;const s=He(this.getRanges());if(s!=He(t.getRanges()))return!1;if(s==0)return!0;for(let a of this.getRanges()){a=a.getTrimmed();let d=!1;for(let p of t.getRanges())if(p=p.getTrimmed(),a.start.isEqual(p.start)&&a.end.isEqual(p.end)){d=!0;break}if(!d)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...t){let[s,a,d]=t;if(typeof a=="object"&&(d=a,a=void 0),s===null)this._setRanges([]),this._setFakeOptions(d);else if(s instanceof Ca||s instanceof np)this._setRanges(s.getRanges(),s.isBackward),this._setFakeOptions({fake:s.isFake,label:s.fakeSelectionLabel});else if(s instanceof Yt)this._setRanges([s],d&&d.backward),this._setFakeOptions(d);else if(s instanceof pt)this._setRanges([new Yt(s)]),this._setFakeOptions(d);else if(s instanceof Sa){const p=!!d&&!!d.backward;let w;if(a===void 0)throw new B("view-selection-setto-required-second-parameter",this);w=a=="in"?Yt._createIn(s):a=="on"?Yt._createOn(s):new Yt(pt._createAt(s,a)),this._setRanges([w],p),this._setFakeOptions(d)}else{if(!Oe(s))throw new B("view-selection-setto-not-selectable",this);this._setRanges(s,d&&d.backward),this._setFakeOptions(d)}this.fire("change")}setFocus(t,s){if(this.anchor===null)throw new B("view-selection-setfocus-no-ranges",this);const a=pt._createAt(t,s);if(a.compareWith(this.focus)=="same")return;const d=this.anchor;this._ranges.pop(),a.compareWith(d)=="before"?this._addRange(new Yt(a,d),!0):this._addRange(new Yt(d,a)),this.fire("change")}_setRanges(t,s=!1){t=Array.from(t),this._ranges=[];for(const a of t)this._addRange(a);this._lastRangeBackward=!!s}_setFakeOptions(t={}){this._isFake=!!t.fake,this._fakeSelectionLabel=t.fake&&t.label||""}_addRange(t,s=!1){if(!(t instanceof Yt))throw new B("view-selection-add-range-not-range",this);this._pushRange(t),this._lastRangeBackward=!!s}_pushRange(t){for(const s of this._ranges)if(t.isIntersecting(s))throw new B("view-selection-range-intersects",this,{addedRange:t,intersectingRange:s});this._ranges.push(new Yt(t.start,t.end))}}Ca.prototype.is=function(f){return f==="selection"||f==="view:selection"};class np extends G(Au){constructor(...t){super(),this._selection=new Ca,this._selection.delegate("change").to(this),t.length&&this._selection.setTo(...t)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(t){return this._selection.isEqual(t)}isSimilar(t){return this._selection.isSimilar(t)}_setTo(...t){this._selection.setTo(...t)}_setFocus(t,s){this._selection.setFocus(t,s)}}np.prototype.is=function(f){return f==="selection"||f=="documentSelection"||f=="view:selection"||f=="view:documentSelection"};class Nu extends N{constructor(t,s,a){super(t,s),this.startRange=a,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const un=Symbol("bubbling contexts");function _r(f){return class extends f{fire(t,...s){try{const a=t instanceof N?t:new N(this,t),d=Ng(this);if(!d.size)return;if(xi(a,"capturing",this),Mi(d,"$capture",a,...s))return a.return;const p=a.startRange||this.selection.getFirstRange(),w=p?p.getContainedElement():null,k=!!w&&!!Pu(d,w);let D=w||function(R){if(!R)return null;const M=R.start.parent,L=R.end.parent,W=M.getPath(),Y=L.getPath();return W.length>Y.length?M:L}(p);if(xi(a,"atTarget",D),!k){if(Mi(d,"$text",a,...s))return a.return;xi(a,"bubbling",D)}for(;D;){if(D.is("rootElement")){if(Mi(d,"$root",a,...s))return a.return}else if(D.is("element")&&Mi(d,D.name,a,...s))return a.return;if(Mi(d,D,a,...s))return a.return;D=D.parent,xi(a,"bubbling",D)}return xi(a,"bubbling",this),Mi(d,"$document",a,...s),a.return}catch(a){B.rethrowUnexpectedError(a,this)}}_addEventListener(t,s,a){const d=Rn(a.context||"$document"),p=Ng(this);for(const w of d){let k=p.get(w);k||(k=new(G()),p.set(w,k)),this.listenTo(k,t,s,a)}}_removeEventListener(t,s){const a=Ng(this);for(const d of a.values())this.stopListening(d,t,s)}}}{const f=_r(Object);["fire","_addEventListener","_removeEventListener"].forEach(t=>{_r[t]=f.prototype[t]})}function xi(f,t,s){f instanceof Nu&&(f._eventPhase=t,f._currentTarget=s)}function Mi(f,t,s,...a){const d=typeof t=="string"?f.get(t):Pu(f,t);return!!d&&(d.fire(s,...a),s.stop.called)}function Pu(f,t){for(const[s,a]of f)if(typeof s=="function"&&s(t))return a;return null}function Ng(f){return f[un]||(f[un]=new Map),f[un]}class fr extends _r(Be()){constructor(t){super(),this._postFixers=new Set,this.selection=new np,this.roots=new Os({idProperty:"rootName"}),this.stylesProcessor=t,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(t="main"){return this.roots.get(t)}registerPostFixer(t){this._postFixers.add(t)}destroy(){this.roots.map(t=>t.destroy()),this.stopListening()}_callPostFixers(t){let s=!1;do for(const a of this._postFixers)if(s=a(t),s)break;while(s)}}class Dl extends Us{constructor(t,s,a,d){super(t,s,a,d),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=ip}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new B("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(t){return this.id!==null||t.id!==null?this.id===t.id:super.isSimilar(t)&&this.priority==t.priority}_clone(t=!1){const s=super._clone(t);return s._priority=this._priority,s._id=this._id,s}}function ip(){if(Qd(this))return null;let f=this.parent;for(;f&&f.is("attributeElement");){if(Qd(f)>1)return null;f=f.parent}return!f||Qd(f)>1?null:this.childCount}function Qd(f){return Array.from(f.getChildren()).filter(t=>!t.is("uiElement")).length}Dl.DEFAULT_PRIORITY=10,Dl.prototype.is=function(f,t){return t?t===this.name&&(f==="attributeElement"||f==="view:attributeElement"||f==="element"||f==="view:element"):f==="attributeElement"||f==="view:attributeElement"||f==="element"||f==="view:element"||f==="node"||f==="view:node"};class Iu extends Us{constructor(t,s,a,d){super(t,s,a,d),this.getFillerOffset=Mx}_insertChild(t,s){if(s&&(s instanceof Sa||Array.from(s).length>0))throw new B("view-emptyelement-cannot-add",[this,s]);return 0}}function Mx(){return null}Iu.prototype.is=function(f,t){return t?t===this.name&&(f==="emptyElement"||f==="view:emptyElement"||f==="element"||f==="view:element"):f==="emptyElement"||f==="view:emptyElement"||f==="element"||f==="view:element"||f==="node"||f==="view:node"};class rp extends Us{constructor(t,s,a,d){super(t,s,a,d),this.getFillerOffset=Fx}_insertChild(t,s){if(s&&(s instanceof Sa||Array.from(s).length>0))throw new B("view-uielement-cannot-add",[this,s]);return 0}render(t,s){return this.toDomElement(t)}toDomElement(t){const s=t.createElement(this.name);for(const a of this.getAttributeKeys())s.setAttribute(a,this.getAttribute(a));return s}}function Ox(f){f.document.on("arrowKey",(t,s)=>function(a,d,p){if(d.keyCode==Gt.arrowright){const w=d.domTarget.ownerDocument.defaultView.getSelection(),k=w.rangeCount==1&&w.getRangeAt(0).collapsed;if(k||d.shiftKey){const D=w.focusNode,R=w.focusOffset,M=p.domPositionToView(D,R);if(M===null)return;let L=!1;const W=M.getLastMatchingPosition(Y=>(Y.item.is("uiElement")&&(L=!0),!(!Y.item.is("uiElement")&&!Y.item.is("attributeElement"))));if(L){const Y=p.viewPositionToDom(W);k?w.collapse(Y.parent,Y.offset):w.extend(Y.parent,Y.offset)}}}}(0,s,f.domConverter),{priority:"low"})}function Fx(){return null}rp.prototype.is=function(f,t){return t?t===this.name&&(f==="uiElement"||f==="view:uiElement"||f==="element"||f==="view:element"):f==="uiElement"||f==="view:uiElement"||f==="element"||f==="view:element"||f==="node"||f==="view:node"};class ju extends Us{constructor(t,s,a,d){super(t,s,a,d),this.getFillerOffset=FA}_insertChild(t,s){if(s&&(s instanceof Sa||Array.from(s).length>0))throw new B("view-rawelement-cannot-add",[this,s]);return 0}render(t,s){}}function FA(){return null}ju.prototype.is=function(f,t){return t?t===this.name&&(f==="rawElement"||f==="view:rawElement"||f==="element"||f==="view:element"):f==="rawElement"||f==="view:rawElement"||f===this.name||f==="view:"+this.name||f==="element"||f==="view:element"||f==="node"||f==="view:node"};class xt extends G(Au){constructor(t,s){super(),this._children=[],this._customProperties=new Map,this.document=t,s&&this._insertChild(0,s)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}getCustomProperty(t){return this._customProperties.get(t)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(t){return this._insertChild(this.childCount,t)}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(t,s){this._fireChange("children",this);let a=0;const d=function(p,w){return typeof w=="string"?[new Cn(p,w)]:(Oe(w)||(w=[w]),Array.from(w).map(k=>typeof k=="string"?new Cn(p,k):k instanceof Aa?new Cn(p,k.data):k))}(this.document,s);for(const p of d)p.parent!==null&&p._remove(),p.parent=this,this._children.splice(t,0,p),t++,a++;return a}_removeChildren(t,s=1){this._fireChange("children",this);for(let a=t;a<t+s;a++)this._children[a].parent=null;return this._children.splice(t,s)}_fireChange(t,s){this.fire("change:"+t,s)}_setCustomProperty(t,s){this._customProperties.set(t,s)}_removeCustomProperty(t){return this._customProperties.delete(t)}}xt.prototype.is=function(f){return f==="documentFragment"||f==="view:documentFragment"};class Pg{constructor(t){this._cloneGroups=new Map,this._slotFactory=null,this.document=t}setSelection(...t){this.document.selection._setTo(...t)}setSelectionFocus(t,s){this.document.selection._setFocus(t,s)}createDocumentFragment(t){return new xt(this.document,t)}createText(t){return new Cn(this.document,t)}createAttributeElement(t,s,a={}){const d=new Dl(this.document,t,s);return typeof a.priority=="number"&&(d._priority=a.priority),a.id&&(d._id=a.id),a.renderUnsafeAttributes&&d._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),d}createContainerElement(t,s,a={},d={}){let p=null;sn(a)?d=a:p=a;const w=new tp(this.document,t,s,p);return d.renderUnsafeAttributes&&w._unsafeAttributesToRender.push(...d.renderUnsafeAttributes),w}createEditableElement(t,s,a={}){const d=new Dg(this.document,t,s);return a.renderUnsafeAttributes&&d._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),d}createEmptyElement(t,s,a={}){const d=new Iu(this.document,t,s);return a.renderUnsafeAttributes&&d._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),d}createUIElement(t,s,a){const d=new rp(this.document,t,s);return a&&(d.render=a),d}createRawElement(t,s,a,d={}){const p=new ju(this.document,t,s);return a&&(p.render=a),d.renderUnsafeAttributes&&p._unsafeAttributesToRender.push(...d.renderUnsafeAttributes),p}setAttribute(t,s,a){a._setAttribute(t,s)}removeAttribute(t,s){s._removeAttribute(t)}addClass(t,s){s._addClass(t)}removeClass(t,s){s._removeClass(t)}setStyle(t,s,a){sn(t)&&a===void 0?s._setStyle(t):a._setStyle(t,s)}removeStyle(t,s){s._removeStyle(t)}setCustomProperty(t,s,a){a._setCustomProperty(t,s)}removeCustomProperty(t,s){return s._removeCustomProperty(t)}breakAttributes(t){return t instanceof pt?this._breakAttributes(t):this._breakAttributesRange(t)}breakContainer(t){const s=t.parent;if(!s.is("containerElement"))throw new B("view-writer-break-non-container-element",this.document);if(!s.parent)throw new B("view-writer-break-root",this.document);if(t.isAtStart)return pt._createBefore(s);if(!t.isAtEnd){const a=s._clone(!1);this.insert(pt._createAfter(s),a);const d=new Yt(t,pt._createAt(s,"end")),p=new pt(a,0);this.move(d,p)}return pt._createAfter(s)}mergeAttributes(t){const s=t.offset,a=t.parent;if(a.is("$text"))return t;if(a.is("attributeElement")&&a.childCount===0){const w=a.parent,k=a.index;return a._remove(),this._removeFromClonedElementsGroup(a),this.mergeAttributes(new pt(w,k))}const d=a.getChild(s-1),p=a.getChild(s);if(!d||!p)return t;if(d.is("$text")&&p.is("$text"))return sp(d,p);if(d.is("attributeElement")&&p.is("attributeElement")&&d.isSimilar(p)){const w=d.childCount;return d._appendChild(p.getChildren()),p._remove(),this._removeFromClonedElementsGroup(p),this.mergeAttributes(new pt(d,w))}return t}mergeContainers(t){const s=t.nodeBefore,a=t.nodeAfter;if(!(s&&a&&s.is("containerElement")&&a.is("containerElement")))throw new B("view-writer-merge-containers-invalid-position",this.document);const d=s.getChild(s.childCount-1),p=d instanceof Cn?pt._createAt(d,"end"):pt._createAt(s,"end");return this.move(Yt._createIn(a),pt._createAt(s,"end")),this.remove(Yt._createOn(a)),p}insert(t,s){zy(s=Oe(s)?[...s]:[s],this.document);const a=s.reduce((w,k)=>{const D=w[w.length-1],R=!k.is("uiElement");return D&&D.breakAttributes==R?D.nodes.push(k):w.push({breakAttributes:R,nodes:[k]}),w},[]);let d=null,p=t;for(const{nodes:w,breakAttributes:k}of a){const D=this._insertNodes(p,w,k);d||(d=D.start),p=D.end}return d?new Yt(d,p):new Yt(t)}remove(t){const s=t instanceof Yt?t:Yt._createOn(t);if(Ec(s,this.document),s.isCollapsed)return new xt(this.document);const{start:a,end:d}=this._breakAttributesRange(s,!0),p=a.parent,w=d.offset-a.offset,k=p._removeChildren(a.offset,w);for(const R of k)this._removeFromClonedElementsGroup(R);const D=this.mergeAttributes(a);return s.start=D,s.end=D.clone(),new xt(this.document,k)}clear(t,s){Ec(t,this.document);const a=t.getWalker({direction:"backward",ignoreElementEnd:!0});for(const d of a){const p=d.item;let w;if(p.is("element")&&s.isSimilar(p))w=Yt._createOn(p);else if(!d.nextPosition.isAfter(t.start)&&p.is("$textProxy")){const k=p.getAncestors().find(D=>D.is("element")&&s.isSimilar(D));k&&(w=Yt._createIn(k))}w&&(w.end.isAfter(t.end)&&(w.end=t.end),w.start.isBefore(t.start)&&(w.start=t.start),this.remove(w))}}move(t,s){let a;if(s.isAfter(t.end)){const d=(s=this._breakAttributes(s,!0)).parent,p=d.childCount;t=this._breakAttributesRange(t,!0),a=this.remove(t),s.offset+=d.childCount-p}else a=this.remove(t);return this.insert(s,a)}wrap(t,s){if(!(s instanceof Dl))throw new B("view-writer-wrap-invalid-attribute",this.document);if(Ec(t,this.document),t.isCollapsed){let d=t.start;d.parent.is("element")&&(a=d.parent,!Array.from(a.getChildren()).some(w=>!w.is("uiElement")))&&(d=d.getLastMatchingPosition(w=>w.item.is("uiElement"))),d=this._wrapPosition(d,s);const p=this.document.selection;return p.isCollapsed&&p.getFirstPosition().isEqual(t.start)&&this.setSelection(d),new Yt(d)}return this._wrapRange(t,s);var a}unwrap(t,s){if(!(s instanceof Dl))throw new B("view-writer-unwrap-invalid-attribute",this.document);if(Ec(t,this.document),t.isCollapsed)return t;const{start:a,end:d}=this._breakAttributesRange(t,!0),p=a.parent,w=this._unwrapChildren(p,a.offset,d.offset,s),k=this.mergeAttributes(w.start);k.isEqual(w.start)||w.end.offset--;const D=this.mergeAttributes(w.end);return new Yt(k,D)}rename(t,s){const a=new tp(this.document,t,s.getAttributes());return this.insert(pt._createAfter(s),a),this.move(Yt._createIn(s),pt._createAt(a,0)),this.remove(Yt._createOn(s)),a}clearClonedElementsGroup(t){this._cloneGroups.delete(t)}createPositionAt(t,s){return pt._createAt(t,s)}createPositionAfter(t){return pt._createAfter(t)}createPositionBefore(t){return pt._createBefore(t)}createRange(t,s){return new Yt(t,s)}createRangeOn(t){return Yt._createOn(t)}createRangeIn(t){return Yt._createIn(t)}createSelection(...t){return new Ca(...t)}createSlot(t="children"){if(!this._slotFactory)throw new B("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,t)}_registerSlotFactory(t){this._slotFactory=t}_clearSlotFactory(){this._slotFactory=null}_insertNodes(t,s,a){let d,p;if(d=a?Ig(t):t.parent.is("$text")?t.parent.parent:t.parent,!d)throw new B("view-writer-invalid-position-container",this.document);p=a?this._breakAttributes(t,!0):t.parent.is("$text")?eh(t):t;const w=d._insertChild(p.offset,s);for(const M of s)this._addToClonedElementsGroup(M);const k=p.getShiftedBy(w),D=this.mergeAttributes(p);D.isEqual(p)||k.offset--;const R=this.mergeAttributes(k);return new Yt(D,R)}_wrapChildren(t,s,a,d){let p=s;const w=[];for(;p<a;){const D=t.getChild(p),R=D.is("$text"),M=D.is("attributeElement");if(M&&this._wrapAttributeElement(d,D))w.push(new pt(t,p));else if(R||!M||Nl(d,D)){const L=d._clone();D._remove(),L._appendChild(D),t._insertChild(p,L),this._addToClonedElementsGroup(L),w.push(new pt(t,p))}else this._wrapChildren(D,0,D.childCount,d);p++}let k=0;for(const D of w)D.offset-=k,D.offset!=s&&(this.mergeAttributes(D).isEqual(D)||(k++,a--));return Yt._createFromParentsAndOffsets(t,s,t,a)}_unwrapChildren(t,s,a,d){let p=s;const w=[];for(;p<a;){const D=t.getChild(p);if(D.is("attributeElement"))if(D.isSimilar(d)){const R=D.getChildren(),M=D.childCount;D._remove(),t._insertChild(p,R),this._removeFromClonedElementsGroup(D),w.push(new pt(t,p),new pt(t,p+M)),p+=M,a+=M-1}else this._unwrapAttributeElement(d,D)?(w.push(new pt(t,p),new pt(t,p+1)),p++):(this._unwrapChildren(D,0,D.childCount,d),p++);else p++}let k=0;for(const D of w)D.offset-=k,!(D.offset==s||D.offset==a)&&(this.mergeAttributes(D).isEqual(D)||(k++,a--));return Yt._createFromParentsAndOffsets(t,s,t,a)}_wrapRange(t,s){const{start:a,end:d}=this._breakAttributesRange(t,!0),p=a.parent,w=this._wrapChildren(p,a.offset,d.offset,s),k=this.mergeAttributes(w.start);k.isEqual(w.start)||w.end.offset--;const D=this.mergeAttributes(w.end);return new Yt(k,D)}_wrapPosition(t,s){if(s.isSimilar(t.parent))return kc(t.clone());t.parent.is("$text")&&(t=eh(t));const a=this.createAttributeElement("_wrapPosition-fake-element");a._priority=Number.POSITIVE_INFINITY,a.isSimilar=()=>!1,t.parent._insertChild(t.offset,a);const d=new Yt(t,t.getShiftedBy(1));this.wrap(d,s);const p=new pt(a.parent,a.index);a._remove();const w=p.nodeBefore,k=p.nodeAfter;return w instanceof Cn&&k instanceof Cn?sp(w,k):kc(p)}_wrapAttributeElement(t,s){if(!Vy(t,s)||t.name!==s.name||t.priority!==s.priority)return!1;for(const a of t.getAttributeKeys())if(a!=="class"&&a!=="style"&&s.hasAttribute(a)&&s.getAttribute(a)!==t.getAttribute(a))return!1;for(const a of t.getStyleNames())if(s.hasStyle(a)&&s.getStyle(a)!==t.getStyle(a))return!1;for(const a of t.getAttributeKeys())a!=="class"&&a!=="style"&&(s.hasAttribute(a)||this.setAttribute(a,t.getAttribute(a),s));for(const a of t.getStyleNames())s.hasStyle(a)||this.setStyle(a,t.getStyle(a),s);for(const a of t.getClassNames())s.hasClass(a)||this.addClass(a,s);return!0}_unwrapAttributeElement(t,s){if(!Vy(t,s)||t.name!==s.name||t.priority!==s.priority)return!1;for(const a of t.getAttributeKeys())if(a!=="class"&&a!=="style"&&(!s.hasAttribute(a)||s.getAttribute(a)!==t.getAttribute(a)))return!1;if(!s.hasClass(...t.getClassNames()))return!1;for(const a of t.getStyleNames())if(!s.hasStyle(a)||s.getStyle(a)!==t.getStyle(a))return!1;for(const a of t.getAttributeKeys())a!=="class"&&a!=="style"&&this.removeAttribute(a,s);return this.removeClass(Array.from(t.getClassNames()),s),this.removeStyle(Array.from(t.getStyleNames()),s),!0}_breakAttributesRange(t,s=!1){const a=t.start,d=t.end;if(Ec(t,this.document),t.isCollapsed){const D=this._breakAttributes(t.start,s);return new Yt(D,D)}const p=this._breakAttributes(d,s),w=p.parent.childCount,k=this._breakAttributes(a,s);return p.offset+=p.parent.childCount-w,new Yt(k,p)}_breakAttributes(t,s=!1){const a=t.offset,d=t.parent;if(t.parent.is("emptyElement"))throw new B("view-writer-cannot-break-empty-element",this.document);if(t.parent.is("uiElement"))throw new B("view-writer-cannot-break-ui-element",this.document);if(t.parent.is("rawElement"))throw new B("view-writer-cannot-break-raw-element",this.document);if(!s&&d.is("$text")&&Ta(d.parent)||Ta(d))return t.clone();if(d.is("$text"))return this._breakAttributes(eh(t),s);if(a==d.childCount){const p=new pt(d.parent,d.index+1);return this._breakAttributes(p,s)}if(a===0){const p=new pt(d.parent,d.index);return this._breakAttributes(p,s)}{const p=d.index+1,w=d._clone();d.parent._insertChild(p,w),this._addToClonedElementsGroup(w);const k=d.childCount-a,D=d._removeChildren(a,k);w._appendChild(D);const R=new pt(d.parent,p);return this._breakAttributes(R,s)}}_addToClonedElementsGroup(t){if(!t.root.is("rootElement"))return;if(t.is("element"))for(const d of t.getChildren())this._addToClonedElementsGroup(d);const s=t.id;if(!s)return;let a=this._cloneGroups.get(s);a||(a=new Set,this._cloneGroups.set(s,a)),a.add(t),t._clonesGroup=a}_removeFromClonedElementsGroup(t){if(t.is("element"))for(const d of t.getChildren())this._removeFromClonedElementsGroup(d);const s=t.id;if(!s)return;const a=this._cloneGroups.get(s);a&&a.delete(t)}}function Ig(f){let t=f.parent;for(;!Ta(t);){if(!t)return;t=t.parent}return t}function Nl(f,t){return f.priority<t.priority||!(f.priority>t.priority)&&f.getIdentity()<t.getIdentity()}function kc(f){const t=f.nodeBefore;if(t&&t.is("$text"))return new pt(t,t.data.length);const s=f.nodeAfter;return s&&s.is("$text")?new pt(s,0):f}function eh(f){if(f.offset==f.parent.data.length)return new pt(f.parent.parent,f.parent.index+1);if(f.offset===0)return new pt(f.parent.parent,f.parent.index);const t=f.parent.data.slice(f.offset);return f.parent._data=f.parent.data.slice(0,f.offset),f.parent.parent._insertChild(f.parent.index+1,new Cn(f.root.document,t)),new pt(f.parent.parent,f.parent.index+1)}function sp(f,t){const s=f.data.length;return f._data+=t.data,t._remove(),new pt(f,s)}const Ux=[Cn,Dl,tp,Iu,ju,rp];function zy(f,t){for(const s of f){if(!Ux.some(a=>s instanceof a))throw new B("view-writer-insert-invalid-node-type",t);s.is("$text")||zy(s.getChildren(),t)}}function Ta(f){return f&&(f.is("containerElement")||f.is("documentFragment"))}function Ec(f,t){const s=Ig(f.start),a=Ig(f.end);if(!s||!a||s!==a)throw new B("view-writer-invalid-range-container",t)}function Vy(f,t){return f.id===null&&t.id===null}const jg=f=>f.createTextNode(" "),Pl=f=>{const t=f.createElement("span");return t.dataset.ckeFiller="true",t.innerText=" ",t},Rg=f=>{const t=f.createElement("br");return t.dataset.ckeFiller="true",t},ds=7,Ru="⁠".repeat(ds);function ai(f){return typeof f=="string"?f.substr(0,ds)===Ru:Le(f)&&f.data.substr(0,ds)===Ru}function Vo(f){return f.data.length==ds&&ai(f)}function Sc(f){const t=typeof f=="string"?f:f.data;return ai(f)?t.slice(ds):t}function Wy(f,t){if(t.keyCode==Gt.arrowleft){const s=t.domTarget.ownerDocument.defaultView.getSelection();if(s.rangeCount==1&&s.getRangeAt(0).collapsed){const a=s.getRangeAt(0).startContainer,d=s.getRangeAt(0).startOffset;ai(a)&&d<=ds&&s.collapse(a,0)}}}var hs=o(5037),op={attributes:{"data-cke":!0}};op.setAttributes=Tt(),op.insert=Ot().bind(null,"head"),op.domAPI=Rt(),op.insertStyleElement=Mt(),jt()(hs.Z,op),hs.Z&&hs.Z.locals&&hs.Z.locals;class ap extends Be(){constructor(t,s){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=t,this.selection=s,this.set("isFocused",!1),this.set("isSelecting",!1),y.isBlink&&!y.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(t,s){if(t==="text")this.domConverter.mapViewToDom(s.parent)&&this.markedTexts.add(s);else{if(!this.domConverter.mapViewToDom(s))return;if(t==="attributes")this.markedAttributes.add(s);else{if(t!=="children")throw new B("view-renderer-unknown-type",this);this.markedChildren.add(s)}}}render(){if(this.isComposing&&!y.isAndroid)return;let t=null;const s=!(y.isBlink&&!y.isAndroid)||!this.isSelecting;for(const a of this.markedChildren)this._updateChildrenMappings(a);s?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?t=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(t=this.selection.getFirstPosition(),this.markedChildren.add(t.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(t=this.domConverter.domPositionToView(this._inlineFiller),t&&t.parent.is("$text")&&(t=pt._createBefore(t.parent)));for(const a of this.markedAttributes)this._updateAttrs(a);for(const a of this.markedChildren)this._updateChildren(a,{inlineFillerPosition:t});for(const a of this.markedTexts)!this.markedChildren.has(a.parent)&&this.domConverter.mapViewToDom(a.parent)&&this._updateText(a,{inlineFillerPosition:t});if(s)if(t){const a=this.domConverter.viewPositionToDom(t),d=a.parent.ownerDocument;ai(a.parent)?this._inlineFiller=a.parent:this._inlineFiller=$y(d,a.parent,a.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(t){const s=this.domConverter.mapViewToDom(t);if(!s)return;const a=Array.from(s.childNodes),d=Array.from(this.domConverter.viewChildrenToDom(t,{withChildren:!1})),p=this._diffNodeLists(a,d),w=this._findUpdateActions(p,a,d,UA);if(w.indexOf("update")!==-1){const k={equal:0,insert:0,delete:0};for(const D of w)if(D==="update"){const R=k.equal+k.insert,M=k.equal+k.delete,L=t.getChild(R);!L||L.is("uiElement")||L.is("rawElement")||this._updateElementMappings(L,a[M]),vg(d[R]),k.equal++}else k[D]++}}_updateElementMappings(t,s){this.domConverter.unbindDomElement(s),this.domConverter.bindElements(s,t),this.markedChildren.add(t),this.markedAttributes.add(t)}_getInlineFillerPosition(){const t=this.selection.getFirstPosition();return t.parent.is("$text")?pt._createBefore(t.parent):t}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),s=this.domConverter.viewPositionToDom(t);return!!(s&&Le(s.parent)&&ai(s.parent))}_removeInlineFiller(){const t=this._inlineFiller;if(!ai(t))throw new B("view-renderer-filler-was-lost",this);Vo(t)?t.remove():t.data=t.data.substr(ds),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),s=t.parent,a=t.offset;if(!this.domConverter.mapViewToDom(s.root)||!s.is("element")||!function(w){if(w.getAttribute("contenteditable")=="false")return!1;const k=w.findAncestor(D=>D.hasAttribute("contenteditable"));return!k||k.getAttribute("contenteditable")=="true"}(s)||a===s.getFillerOffset())return!1;const d=t.nodeBefore,p=t.nodeAfter;return!(d instanceof Cn||p instanceof Cn)&&(!y.isAndroid||!d&&!p)}_updateText(t,s){const a=this.domConverter.findCorrespondingDomText(t);let d=this.domConverter.viewToDom(t).data;const p=s.inlineFillerPosition;p&&p.parent==t.parent&&p.offset==t.index&&(d=Ru+d),Hy(a,d)}_updateAttrs(t){const s=this.domConverter.mapViewToDom(t);if(!s)return;const a=Array.from(s.attributes).map(p=>p.name),d=t.getAttributeKeys();for(const p of d)this.domConverter.setDomElementAttribute(s,p,t.getAttribute(p),t);for(const p of a)t.hasAttribute(p)||this.domConverter.removeDomElementAttribute(s,p)}_updateChildren(t,s){const a=this.domConverter.mapViewToDom(t);if(!a)return;if(y.isAndroid){let L=null;for(const W of Array.from(a.childNodes)){if(L&&Le(L)&&Le(W)){a.normalize();break}L=W}}const d=s.inlineFillerPosition,p=a.childNodes,w=Array.from(this.domConverter.viewChildrenToDom(t,{bind:!0}));d&&d.parent===t&&$y(a.ownerDocument,w,d.offset);const k=this._diffNodeLists(p,w),D=this._findUpdateActions(k,p,w,LA);let R=0;const M=new Set;for(const L of D)L==="delete"?(M.add(p[R]),vg(p[R])):L!=="equal"&&L!=="update"||R++;R=0;for(const L of D)L==="insert"?(Wd(a,R,w[R]),R++):L==="update"?(Hy(p[R],w[R].data),R++):L==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(w[R])),R++);for(const L of M)L.parentNode||this.domConverter.unbindDomElement(L)}_diffNodeLists(t,s){return t=function(a,d){const p=Array.from(a);return p.length==0||!d||p[p.length-1]==d&&p.pop(),p}(t,this._fakeSelectionContainer),C(t,s,qy.bind(null,this.domConverter))}_findUpdateActions(t,s,a,d){if(t.indexOf("insert")===-1||t.indexOf("delete")===-1)return t;let p=[],w=[],k=[];const D={equal:0,insert:0,delete:0};for(const R of t)R==="insert"?k.push(a[D.equal+D.insert]):R==="delete"?w.push(s[D.equal+D.delete]):(p=p.concat(C(w,k,d).map(M=>M==="equal"?"update":M)),p.push("equal"),w=[],k=[]),D[R]++;return p.concat(C(w,k,d).map(R=>R==="equal"?"update":R))}_markDescendantTextToSync(t){if(t){if(t.is("$text"))this.markedTexts.add(t);else if(t.is("element"))for(const s of t.getChildren())this._markDescendantTextToSync(s)}}_updateSelection(){if(y.isBlink&&!y.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const t=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&t&&(this.selection.isFake?this._updateFakeSelection(t):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(t)):this.isComposing&&y.isAndroid||this._updateDomSelection(t))}_updateFakeSelection(t){const s=t.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(w){const k=w.createElement("div");return k.className="ck-fake-selection-container",Object.assign(k.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),k.textContent=" ",k}(s));const a=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(a,this.selection),!this._fakeSelectionNeedsUpdate(t))return;a.parentElement&&a.parentElement==t||t.appendChild(a),a.textContent=this.selection.fakeSelectionLabel||" ";const d=s.getSelection(),p=s.createRange();d.removeAllRanges(),p.selectNodeContents(a),d.addRange(p)}_updateDomSelection(t){const s=t.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(s))return;const a=this.domConverter.viewPositionToDom(this.selection.anchor),d=this.domConverter.viewPositionToDom(this.selection.focus);s.setBaseAndExtent(a.parent,a.offset,d.parent,d.offset),y.isGecko&&function(p,w){const k=p.parent;if(k.nodeType!=Node.ELEMENT_NODE||p.offset!=k.childNodes.length-1)return;const D=k.childNodes[p.offset];D&&D.tagName=="BR"&&w.addRange(w.getRangeAt(0))}(d,s)}_domSelectionNeedsUpdate(t){if(!this.domConverter.isDomSelectionCorrect(t))return!0;const s=t&&this.domConverter.domSelectionToView(t);return(!s||!this.selection.isEqual(s))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(s))}_fakeSelectionNeedsUpdate(t){const s=this._fakeSelectionContainer,a=t.ownerDocument.getSelection();return!s||s.parentElement!==t||a.anchorNode!==s&&!s.contains(a.anchorNode)||s.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const t of this.domDocuments){const s=t.getSelection();if(s.rangeCount){const a=t.activeElement,d=this.domConverter.mapDomToView(a);a&&d&&s.removeAllRanges()}}}_removeFakeSelection(){const t=this._fakeSelectionContainer;t&&t.remove()}_updateFocus(){if(this.isFocused){const t=this.selection.editableElement;t&&this.domConverter.focus(t)}}}function $y(f,t,s){const a=t instanceof Array?t:t.childNodes,d=a[s];if(Le(d))return d.data=Ru+d.data,d;{const p=f.createTextNode(Ru);return Array.isArray(t)?a.splice(s,0,p):Wd(t,s,p),p}}function UA(f,t){return ho(f)&&ho(t)&&!Le(f)&&!Le(t)&&!Ms(f)&&!Ms(t)&&f.tagName.toLowerCase()===t.tagName.toLowerCase()}function LA(f,t){return ho(f)&&ho(t)&&Le(f)&&Le(t)}function qy(f,t,s){return t===s||(Le(t)&&Le(s)?t.data===s.data:!(!f.isBlockFiller(t)||!f.isBlockFiller(s)))}function Hy(f,t){const s=f.data;if(s==t)return;const a=_(s,t);for(const d of a)d.type==="insert"?f.insertData(d.index,d.values.join("")):f.deleteData(d.index,d.howMany)}const lp=Rg(de.document),BA=jg(de.document),zA=Pl(de.document),Mu="data-ck-unsafe-attribute-",VA="data-ck-unsafe-element";class WA{constructor(t,{blockFillerMode:s,renderingMode:a="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new Cu,this._inlineObjectElementMatcher=new Cu,this.document=t,this.renderingMode=a,this.blockFillerMode=s||(a==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?de.document:de.document.implementation.createHTMLDocument("")}bindFakeSelection(t,s){this._fakeSelectionMapping.set(t,new Ca(s))}fakeSelectionToView(t){return this._fakeSelectionMapping.get(t)}bindElements(t,s){this._domToViewMapping.set(t,s),this._viewToDomMapping.set(s,t)}unbindDomElement(t){const s=this._domToViewMapping.get(t);if(s){this._domToViewMapping.delete(t),this._viewToDomMapping.delete(s);for(const a of Array.from(t.children))this.unbindDomElement(a)}}bindDocumentFragments(t,s){this._domToViewMapping.set(t,s),this._viewToDomMapping.set(s,t)}shouldRenderAttribute(t,s,a){return this.renderingMode==="data"||!(t=t.toLowerCase()).startsWith("on")&&(t!=="srcdoc"||!s.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(a==="img"&&(t==="src"||t==="srcset")||a==="source"&&t==="srcset"||!s.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(t,s){if(this.renderingMode==="data")return void(t.innerHTML=s);const a=new DOMParser().parseFromString(s,"text/html"),d=a.createDocumentFragment(),p=a.body.childNodes;for(;p.length>0;)d.appendChild(p[0]);const w=a.createTreeWalker(d,NodeFilter.SHOW_ELEMENT),k=[];let D;for(;D=w.nextNode();)k.push(D);for(const R of k){for(const L of R.getAttributeNames())this.setDomElementAttribute(R,L,R.getAttribute(L));const M=R.tagName.toLowerCase();this._shouldRenameElement(M)&&(qA(M),R.replaceWith(this._createReplacementDomElement(M,R)))}for(;t.firstChild;)t.firstChild.remove();t.append(d)}viewToDom(t,s={}){if(t.is("$text")){const a=this._processDataFromViewText(t);return this._domDocument.createTextNode(a)}{if(this.mapViewToDom(t))return this.mapViewToDom(t);let a;if(t.is("documentFragment"))a=this._domDocument.createDocumentFragment(),s.bind&&this.bindDocumentFragments(a,t);else{if(t.is("uiElement"))return a=t.name==="$comment"?this._domDocument.createComment(t.getCustomProperty("$rawContent")):t.render(this._domDocument,this),s.bind&&this.bindElements(a,t),a;this._shouldRenameElement(t.name)?(qA(t.name),a=this._createReplacementDomElement(t.name)):a=t.hasAttribute("xmlns")?this._domDocument.createElementNS(t.getAttribute("xmlns"),t.name):this._domDocument.createElement(t.name),t.is("rawElement")&&t.render(a,this),s.bind&&this.bindElements(a,t);for(const d of t.getAttributeKeys())this.setDomElementAttribute(a,d,t.getAttribute(d),t)}if(s.withChildren!==!1)for(const d of this.viewChildrenToDom(t,s))a.appendChild(d);return a}}setDomElementAttribute(t,s,a,d){const p=this.shouldRenderAttribute(s,a,t.tagName.toLowerCase())||d&&d.shouldRenderUnsafeAttribute(s);p||Z("domconverter-unsafe-attribute-detected",{domElement:t,key:s,value:a}),function(w){try{de.document.createAttribute(w)}catch{return!1}return!0}(s)?(t.hasAttribute(s)&&!p?t.removeAttribute(s):t.hasAttribute(Mu+s)&&p&&t.removeAttribute(Mu+s),t.setAttribute(p?s:Mu+s,a)):Z("domconverter-invalid-attribute-detected",{domElement:t,key:s,value:a})}removeDomElementAttribute(t,s){s!=VA&&(t.removeAttribute(s),t.removeAttribute(Mu+s))}*viewChildrenToDom(t,s={}){const a=t.getFillerOffset&&t.getFillerOffset();let d=0;for(const p of t.getChildren()){a===d&&(yield this._getBlockFiller());const w=p.is("element")&&!!p.getCustomProperty("dataPipeline:transparentRendering")&&!ci(p.getAttributes());w&&this.renderingMode=="data"?yield*this.viewChildrenToDom(p,s):(w&&Z("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:p}),yield this.viewToDom(p,s)),d++}a===d&&(yield this._getBlockFiller())}viewRangeToDom(t){const s=this.viewPositionToDom(t.start),a=this.viewPositionToDom(t.end),d=this._domDocument.createRange();return d.setStart(s.parent,s.offset),d.setEnd(a.parent,a.offset),d}viewPositionToDom(t){const s=t.parent;if(s.is("$text")){const a=this.findCorrespondingDomText(s);if(!a)return null;let d=t.offset;return ai(a)&&(d+=ds),{parent:a,offset:d}}{let a,d,p;if(t.offset===0){if(a=this.mapViewToDom(s),!a)return null;p=a.childNodes[0]}else{const w=t.nodeBefore;if(d=w.is("$text")?this.findCorrespondingDomText(w):this.mapViewToDom(w),!d)return null;a=d.parentNode,p=d.nextSibling}return Le(p)&&ai(p)?{parent:p,offset:ds}:{parent:a,offset:d?pc(d)+1:0}}}domToView(t,s={}){const a=[],d=this._domToView(t,s,a),p=d.next().value;return p?(d.next(),this._processDomInlineNodes(null,a,s),p.is("$text")&&p.data.length==0?null:p):null}*domChildrenToView(t,s={},a=[]){for(let d=0;d<t.childNodes.length;d++){const p=t.childNodes[d],w=this._domToView(p,s,a),k=w.next().value;k!==null&&(this._isBlockViewElement(k)&&this._processDomInlineNodes(t,a,s),yield k,w.next())}this._processDomInlineNodes(t,a,s)}domSelectionToView(t){if(function(d){if(!y.isGecko||!d.rangeCount)return!1;const p=d.getRangeAt(0).startContainer;try{Object.prototype.toString.call(p)}catch{return!0}return!1}(t))return new Ca([]);if(t.rangeCount===1){let d=t.getRangeAt(0).startContainer;Le(d)&&(d=d.parentNode);const p=this.fakeSelectionToView(d);if(p)return p}const s=this.isDomSelectionBackward(t),a=[];for(let d=0;d<t.rangeCount;d++){const p=t.getRangeAt(d),w=this.domRangeToView(p);w&&a.push(w)}return new Ca(a,{backward:s})}domRangeToView(t){const s=this.domPositionToView(t.startContainer,t.startOffset),a=this.domPositionToView(t.endContainer,t.endOffset);return s&&a?new Yt(s,a):null}domPositionToView(t,s=0){if(this.isBlockFiller(t))return this.domPositionToView(t.parentNode,pc(t));const a=this.mapDomToView(t);if(a&&(a.is("uiElement")||a.is("rawElement")))return pt._createBefore(a);if(Le(t)){if(Vo(t))return this.domPositionToView(t.parentNode,pc(t));const d=this.findCorrespondingViewText(t);let p=s;return d?(ai(t)&&(p-=ds,p=p<0?0:p),new pt(d,p)):null}if(s===0){const d=this.mapDomToView(t);if(d)return new pt(d,0)}else{const d=t.childNodes[s-1];if(Le(d)&&Vo(d)||d&&this.isBlockFiller(d))return this.domPositionToView(d.parentNode,pc(d));const p=Le(d)?this.findCorrespondingViewText(d):this.mapDomToView(d);if(p&&p.parent)return new pt(p.parent,p.index+1)}return null}mapDomToView(t){return this.getHostViewElement(t)||this._domToViewMapping.get(t)}findCorrespondingViewText(t){if(Vo(t))return null;const s=this.getHostViewElement(t);if(s)return s;const a=t.previousSibling;if(a){if(!this.isElement(a))return null;const d=this.mapDomToView(a);if(d){const p=d.nextSibling;return p instanceof Cn?p:null}}else{const d=this.mapDomToView(t.parentNode);if(d){const p=d.getChild(0);return p instanceof Cn?p:null}}return null}mapViewToDom(t){return this._viewToDomMapping.get(t)}findCorrespondingDomText(t){const s=t.previousSibling;return s&&this.mapViewToDom(s)?this.mapViewToDom(s).nextSibling:!s&&t.parent&&this.mapViewToDom(t.parent)?this.mapViewToDom(t.parent).childNodes[0]:null}focus(t){const s=this.mapViewToDom(t);if(s&&s.ownerDocument.activeElement!==s){const{scrollX:a,scrollY:d}=de.window,p=[];Lx(s,w=>{const{scrollLeft:k,scrollTop:D}=w;p.push([k,D])}),s.focus(),Lx(s,w=>{const[k,D]=p.shift();w.scrollLeft=k,w.scrollTop=D}),de.window.scrollTo(a,d)}}_clearDomSelection(){const t=this.mapViewToDom(this.document.selection.editableElement);if(!t)return;const s=t.ownerDocument.defaultView.getSelection(),a=this.domSelectionToView(s);a&&a.rangeCount>0&&s.removeAllRanges()}isElement(t){return t&&t.nodeType==Node.ELEMENT_NODE}isDocumentFragment(t){return t&&t.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(t){return this.blockFillerMode=="br"?t.isEqualNode(lp):!(t.tagName!=="BR"||!th(t,this.blockElements)||t.parentNode.childNodes.length!==1)||t.isEqualNode(zA)||function(s,a){return s.isEqualNode(BA)&&th(s,a)&&s.parentNode.childNodes.length===1}(t,this.blockElements)}isDomSelectionBackward(t){if(t.isCollapsed)return!1;const s=this._domDocument.createRange();try{s.setStart(t.anchorNode,t.anchorOffset),s.setEnd(t.focusNode,t.focusOffset)}catch{return!1}const a=s.collapsed;return s.detach(),a}getHostViewElement(t){const s=function(a){const d=[];let p=a;for(;p&&p.nodeType!=Node.DOCUMENT_NODE;)d.unshift(p),p=p.parentNode;return d}(t);for(s.pop();s.length;){const a=s.pop(),d=this._domToViewMapping.get(a);if(d&&(d.is("uiElement")||d.is("rawElement")))return d}return null}isDomSelectionCorrect(t){return this._isDomSelectionPositionCorrect(t.anchorNode,t.anchorOffset)&&this._isDomSelectionPositionCorrect(t.focusNode,t.focusOffset)}registerRawContentMatcher(t){this._rawContentElementMatcher.add(t)}registerInlineObjectMatcher(t){this._inlineObjectElementMatcher.add(t)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return jg(this._domDocument);case"markedNbsp":return Pl(this._domDocument);case"br":return Rg(this._domDocument)}}_isDomSelectionPositionCorrect(t,s){if(Le(t)&&ai(t)&&s<ds||this.isElement(t)&&ai(t.childNodes[s]))return!1;const a=this.mapDomToView(t);return!a||!a.is("uiElement")&&!a.is("rawElement")}*_domToView(t,s,a){if(this.isBlockFiller(t))return null;const d=this.getHostViewElement(t);if(d)return d;if(Ms(t)&&s.skipComments)return null;if(Le(t)){if(Vo(t))return null;{const p=t.data;if(p==="")return null;const w=new Cn(this.document,p);return a.push(w),w}}{let p=this.mapDomToView(t);if(p)return this._isInlineObjectElement(p)&&a.push(p),p;if(this.isDocumentFragment(t))p=new xt(this.document),s.bind&&this.bindDocumentFragments(t,p);else{p=this._createViewElement(t,s),s.bind&&this.bindElements(t,p);const k=t.attributes;if(k)for(let D=k.length,R=0;R<D;R++)p._setAttribute(k[R].name,k[R].value);if(this._isViewElementWithRawContent(p,s))return p._setCustomProperty("$rawContent",t.innerHTML),this._isBlockViewElement(p)||a.push(p),p;if(Ms(t))return p._setCustomProperty("$rawContent",t.data),p}yield p;const w=[];if(s.withChildren!==!1)for(const k of this.domChildrenToView(t,s,w))p._appendChild(k);if(this._isInlineObjectElement(p))a.push(p);else for(const k of w)a.push(k)}}_processDomInlineNodes(t,s,a){if(!s.length||t&&!this.isDocumentFragment(t)&&!this._isBlockDomElement(t))return;let d=!1;for(let p=0;p<s.length;p++){const w=s[p];if(!w.is("$text")){d=!1;continue}let k,D=!1;if($A(w,this.preElements))k=Sc(w.data);else{k=w.data.replace(/[ \n\t\r]{1,}/g," "),D=/[^\S\u00A0]/.test(k.charAt(k.length-1));const R=p>0?s[p-1]:null,M=p+1<s.length?s[p+1]:null,L=!R||R.is("element")&&R.name=="br"||d,W=!M&&!ai(w.data);a.withChildren!==!1&&(L&&(k=k.replace(/^ /,"")),W&&(k=k.replace(/ $/,""))),k=Sc(k),k=k.replace(/ \u00A0/g,"  ");const Y=M&&M.is("element")&&M.name!="br",se=M&&M.is("$text")&&M.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(k)||!M||Y||se)&&(k=k.replace(/\u00A0$/," ")),(L||R&&R.is("element")&&R.name!="br")&&(k=k.replace(/^\u00A0/," "))}k.length==0&&w.parent?(w._remove(),s.splice(p,1),p--):(w._data=k,d=D)}s.length=0}_processDataFromViewText(t){let s=t.data;if(t.getAncestors().some(a=>this.preElements.includes(a.name)))return s;if(s.charAt(0)==" "){const a=this._getTouchingInlineViewNode(t,!1);!(a&&a.is("$textProxy")&&this._nodeEndsWithSpace(a))&&a||(s=" "+s.substr(1))}if(s.charAt(s.length-1)==" "){const a=this._getTouchingInlineViewNode(t,!0),d=a&&a.is("$textProxy")&&a.data.charAt(0)==" ";s.charAt(s.length-2)!=" "&&a&&!d||(s=s.substr(0,s.length-1)+" ")}return s.replace(/ {2}/g,"  ")}_nodeEndsWithSpace(t){if(t.getAncestors().some(a=>this.preElements.includes(a.name)))return!1;const s=this._processDataFromViewText(t);return s.charAt(s.length-1)==" "}_getTouchingInlineViewNode(t,s){const a=new Du({startPosition:s?pt._createAfter(t):pt._createBefore(t),direction:s?"forward":"backward"});for(const d of a){if(d.item.is("element","br"))return null;if(this._isInlineObjectElement(d.item))return d.item;if(d.item.is("containerElement"))return null;if(d.item.is("$textProxy"))return d.item}return null}_isBlockDomElement(t){return this.isElement(t)&&this.blockElements.includes(t.tagName.toLowerCase())}_isBlockViewElement(t){return t.is("element")&&this.blockElements.includes(t.name)}_isInlineObjectElement(t){return!!t.is("element")&&(t.name=="br"||this.inlineObjectElements.includes(t.name)||!!this._inlineObjectElementMatcher.match(t))}_createViewElement(t,s){if(Ms(t))return new rp(this.document,"$comment");const a=s.keepOriginalCase?t.tagName:t.tagName.toLowerCase();return new Us(this.document,a)}_isViewElementWithRawContent(t,s){return s.withChildren!==!1&&t.is("element")&&!!this._rawContentElementMatcher.match(t)}_shouldRenameElement(t){const s=t.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(s)}_createReplacementDomElement(t,s){const a=this._domDocument.createElement("span");if(a.setAttribute(VA,t),s){for(;s.firstChild;)a.appendChild(s.firstChild);for(const d of s.getAttributeNames())a.setAttribute(d,s.getAttribute(d))}return a}}function $A(f,t){return f.getAncestors().some(s=>s.is("element")&&t.includes(s.name))}function Lx(f,t){let s=f;for(;s;)t(s),s=s.parentElement}function th(f,t){const s=f.parentNode;return!!s&&!!s.tagName&&t.includes(s.tagName.toLowerCase())}function qA(f){f==="script"&&Z("domconverter-unsafe-script-element-detected"),f==="style"&&Z("domconverter-unsafe-style-element-detected")}class Il extends ur(){constructor(t){super(),this._isEnabled=!1,this.view=t,this.document=t.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(t){return t&&t.nodeType===3&&(t=t.parentNode),!(!t||t.nodeType!==1)&&t.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const Ac=Fy(function(f,t){ml(t,uo(t),f)});class cp{constructor(t,s,a){this.view=t,this.document=t.document,this.domEvent=s,this.domTarget=s.target,Ac(this,a)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Cc extends Il{constructor(){super(...arguments),this.useCapture=!1}observe(t){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(s=>{this.listenTo(t,s,(a,d)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(d.target)&&this.onDomEvent(d)},{useCapture:this.useCapture})})}stopObserving(t){this.stopListening(t)}fire(t,s,a){this.isEnabled&&this.document.fire(t,new cp(this.view,s,a))}}class yP extends Cc{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(t){const s={keyCode:t.keyCode,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,metaKey:t.metaKey,get keystroke(){return Ri(this)}};this.fire(t.type,t,s)}}const Gy=function(){return ce.Date.now()};var Ou=/\s/;const vP=function(f){for(var t=f.length;t--&&Ou.test(f.charAt(t)););return t};var wP=/^\s+/;const xP=function(f){return f&&f.slice(0,vP(f)+1).replace(wP,"")};var Wo=/^[-+]0x[0-9a-f]+$/i,Bx=/^0b[01]+$/i,Fu=/^0o[0-7]+$/i,Xy=parseInt;const nh=function(f){if(typeof f=="number")return f;if(Tg(f))return NaN;if(Me(f)){var t=typeof f.valueOf=="function"?f.valueOf():f;f=Me(t)?t+"":t}if(typeof f!="string")return f===0?f:+f;f=xP(f);var s=Bx.test(f);return s||Fu.test(f)?Xy(f.slice(2),s?2:8):Wo.test(f)?NaN:+f};var zx=Math.max,Vx=Math.min;const ih=function(f,t,s){var a,d,p,w,k,D,R=0,M=!1,L=!1,W=!0;if(typeof f!="function")throw new TypeError("Expected a function");function Y($e){var Qe=a,St=d;return a=d=void 0,R=$e,w=f.apply(St,Qe)}function se($e){var Qe=$e-D;return D===void 0||Qe>=t||Qe<0||L&&$e-R>=p}function le(){var $e=Gy();if(se($e))return ve($e);k=setTimeout(le,function(Qe){var St=t-(Qe-D);return L?Vx(St,p-(Qe-R)):St}($e))}function ve($e){return k=void 0,W&&a?Y($e):(a=d=void 0,w)}function Pe(){var $e=Gy(),Qe=se($e);if(a=arguments,d=this,D=$e,Qe){if(k===void 0)return function(St){return R=St,k=setTimeout(le,t),M?Y(St):w}(D);if(L)return clearTimeout(k),k=setTimeout(le,t),Y(D)}return k===void 0&&(k=setTimeout(le,t)),w}return t=nh(t)||0,Me(s)&&(M=!!s.leading,p=(L="maxWait"in s)?zx(nh(s.maxWait)||0,t):p,W="trailing"in s?!!s.trailing:W),Pe.cancel=function(){k!==void 0&&clearTimeout(k),R=0,a=D=d=k=void 0},Pe.flush=function(){return k===void 0?w:ve(Gy())},Pe};class _P extends Il{constructor(t){super(t),this._fireSelectionChangeDoneDebounced=ih(s=>{this.document.fire("selectionChangeDone",s)},200)}observe(){const t=this.document;t.on("arrowKey",(s,a)=>{t.selection.isFake&&this.isEnabled&&a.preventDefault()},{context:"$capture"}),t.on("arrowKey",(s,a)=>{t.selection.isFake&&this.isEnabled&&this._handleSelectionMove(a.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(t){const s=this.document.selection,a=new Ca(s.getRanges(),{backward:s.isBackward,fake:!1});t!=Gt.arrowleft&&t!=Gt.arrowup||a.setTo(a.getFirstPosition()),t!=Gt.arrowright&&t!=Gt.arrowdown||a.setTo(a.getLastPosition());const d={oldSelection:s,newSelection:a,domSelection:null};this.document.fire("selectionChange",d),this._fireSelectionChangeDoneDebounced(d)}}const Ky=function(f){return this.__data__.set(f,"__lodash_hash_undefined__"),this},Wx=function(f){return this.__data__.has(f)};function Mg(f){var t=-1,s=f==null?0:f.length;for(this.__data__=new Fr;++t<s;)this.add(f[t])}Mg.prototype.add=Mg.prototype.push=Ky,Mg.prototype.has=Wx;const $x=Mg,qx=function(f,t){for(var s=-1,a=f==null?0:f.length;++s<a;)if(t(f[s],s,f))return!0;return!1},Og=function(f,t){return f.has(t)},Fg=function(f,t,s,a,d,p){var w=1&s,k=f.length,D=t.length;if(k!=D&&!(w&&D>k))return!1;var R=p.get(f),M=p.get(t);if(R&&M)return R==t&&M==f;var L=-1,W=!0,Y=2&s?new $x:void 0;for(p.set(f,t),p.set(t,f);++L<k;){var se=f[L],le=t[L];if(a)var ve=w?a(le,se,L,t,f,p):a(se,le,L,f,t,p);if(ve!==void 0){if(ve)continue;W=!1;break}if(Y){if(!qx(t,function(Pe,$e){if(!Og(Y,$e)&&(se===Pe||d(se,Pe,s,a,p)))return Y.push($e)})){W=!1;break}}else if(se!==le&&!d(se,le,s,a,p)){W=!1;break}}return p.delete(f),p.delete(t),W},HA=function(f){var t=-1,s=Array(f.size);return f.forEach(function(a,d){s[++t]=[d,a]}),s},kP=function(f){var t=-1,s=Array(f.size);return f.forEach(function(a){s[++t]=a}),s};var up=Ue?Ue.prototype:void 0,Hx=up?up.valueOf:void 0;const Zy=function(f,t,s,a,d,p,w){switch(s){case"[object DataView]":if(f.byteLength!=t.byteLength||f.byteOffset!=t.byteOffset)return!1;f=f.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(f.byteLength!=t.byteLength||!p(new xl(f),new xl(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Xn(+f,+t);case"[object Error]":return f.name==t.name&&f.message==t.message;case"[object RegExp]":case"[object String]":return f==t+"";case"[object Map]":var k=HA;case"[object Set]":var D=1&a;if(k||(k=kP),f.size!=t.size&&!D)return!1;var R=w.get(f);if(R)return R==t;a|=2,w.set(f,t);var M=Fg(k(f),k(t),a,d,p,w);return w.delete(f),M;case"[object Symbol]":if(Hx)return Hx.call(f)==Hx.call(t)}return!1};var x=Object.prototype.hasOwnProperty;const E=function(f,t,s,a,d,p){var w=1&s,k=lg(f),D=k.length;if(D!=lg(t).length&&!w)return!1;for(var R=D;R--;){var M=k[R];if(!(w?M in t:x.call(t,M)))return!1}var L=p.get(f),W=p.get(t);if(L&&W)return L==t&&W==f;var Y=!0;p.set(f,t),p.set(t,f);for(var se=w;++R<D;){var le=f[M=k[R]],ve=t[M];if(a)var Pe=w?a(ve,le,M,t,f,p):a(le,ve,M,f,t,p);if(!(Pe===void 0?le===ve||d(le,ve,s,a,p):Pe)){Y=!1;break}se||(se=M=="constructor")}if(Y&&!se){var $e=f.constructor,Qe=t.constructor;$e==Qe||!("constructor"in f)||!("constructor"in t)||typeof $e=="function"&&$e instanceof $e&&typeof Qe=="function"&&Qe instanceof Qe||(Y=!1)}return p.delete(f),p.delete(t),Y};var j="[object Arguments]",z="[object Array]",q="[object Object]",oe=Object.prototype.hasOwnProperty;const pe=function(f,t,s,a,d,p){var w=qt(f),k=qt(t),D=w?z:fc(f),R=k?z:fc(t),M=(D=D==j?q:D)==q,L=(R=R==j?q:R)==q,W=D==R;if(W&&uu(f)){if(!uu(t))return!1;w=!0,M=!1}if(W&&!M)return p||(p=new lo),w||jd(f)?Fg(f,t,s,a,d,p):Zy(f,t,D,s,a,d,p);if(!(1&s)){var Y=M&&oe.call(f,"__wrapped__"),se=L&&oe.call(t,"__wrapped__");if(Y||se){var le=Y?f.value():f,ve=se?t.value():t;return p||(p=new lo),d(le,ve,s,a,p)}}return!!W&&(p||(p=new lo),E(f,t,s,a,d,p))},De=function f(t,s,a,d,p){return t===s||(t==null||s==null||!Vn(t)&&!Vn(s)?t!=t&&s!=s:pe(t,s,a,d,f,p))},Ve=function(f,t,s){var a=(s=typeof s=="function"?s:void 0)?s(f,t):void 0;return a===void 0?De(f,t,void 0,s):!!a};class Xe extends Il{constructor(t){super(t),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=t.domConverter,this.renderer=t._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(t){this._domElements.add(t),this.isEnabled&&this._mutationObserver.observe(t,this._config)}stopObserving(t){if(this._domElements.delete(t),this.isEnabled){this._mutationObserver.disconnect();for(const s of this._domElements)this._mutationObserver.observe(s,this._config)}}enable(){super.enable();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(t){if(t.length===0)return;const s=this.domConverter,a=new Set,d=new Set;for(const w of t){const k=s.mapDomToView(w.target);k&&(k.is("uiElement")||k.is("rawElement")||w.type!=="childList"||this._isBogusBrMutation(w)||d.add(k))}for(const w of t){const k=s.mapDomToView(w.target);if((!k||!k.is("uiElement")&&!k.is("rawElement"))&&w.type==="characterData"){const D=s.findCorrespondingViewText(w.target);D&&!d.has(D.parent)?a.add(D):!D&&ai(w.target)&&d.add(s.mapDomToView(w.target.parentNode))}}let p=!1;for(const w of a)p=!0,this.renderer.markToSync("text",w);for(const w of d){const k=s.mapViewToDom(w),D=Array.from(w.getChildren()),R=Array.from(s.domChildrenToView(k,{withChildren:!1}));Ve(D,R,ut)||(p=!0,this.renderer.markToSync("children",w))}p&&this.view.forceRender()}_isBogusBrMutation(t){let s=null;return t.nextSibling===null&&t.removedNodes.length===0&&t.addedNodes.length==1&&(s=this.domConverter.domToView(t.addedNodes[0],{withChildren:!1})),s&&s.is("element","br")}}function ut(f,t){if(!Array.isArray(f))return f===t||!(!f.is("$text")||!t.is("$text"))&&f.data===t.data}class kt extends Cc{constructor(t){super(t),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const s=this.document;s.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),t.change(()=>{})},50)}),s.on("blur",(a,d)=>{const p=s.selection.editableElement;p!==null&&p!==d.target||(s.isFocused=!1,this._isFocusChanging=!1,t.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(t){this.fire(t.type,t)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class lt extends Il{constructor(t){super(t),this.mutationObserver=t.getObserver(Xe),this.focusObserver=t.getObserver(kt),this.selection=this.document.selection,this.domConverter=t.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=ih(s=>{this.document.fire("selectionChangeDone",s)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=ih(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(t){const s=t.ownerDocument,a=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,s),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(t,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(t,"keydown",a,{priority:"highest",useCapture:!0}),this.listenTo(t,"keyup",a,{priority:"highest",useCapture:!0}),this._documents.has(s)||(this.listenTo(s,"mouseup",a,{priority:"highest",useCapture:!0}),this.listenTo(s,"selectionchange",(d,p)=>{this.document.isComposing&&!y.isAndroid||(this._handleSelectionChange(p,s),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(s))}stopObserving(t){this.stopListening(t)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(t,s){if(!this.isEnabled)return;const a=s.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(a.anchorNode))return;this.mutationObserver.flush();const d=this.domConverter.domSelectionToView(a);if(d.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(d)||!this.domConverter.isDomSelectionCorrect(a))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(d))this.view.forceRender();else{const p={oldSelection:this.selection,newSelection:d,domSelection:a};this.document.fire("selectionChange",p),this._fireSelectionChangeDoneDebounced(p)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class zt extends Cc{constructor(t){super(t),this.domEventType=["compositionstart","compositionupdate","compositionend"];const s=this.document;s.on("compositionstart",()=>{s.isComposing=!0},{priority:"low"}),s.on("compositionend",()=>{s.isComposing=!1},{priority:"low"})}onDomEvent(t){this.fire(t.type,t,{data:t.data})}}class an{constructor(t,s={}){this._files=s.cacheFiles?en(t):null,this._native=t}get files(){return this._files||(this._files=en(this._native)),this._files}get types(){return this._native.types}getData(t){return this._native.getData(t)}setData(t,s){this._native.setData(t,s)}set effectAllowed(t){this._native.effectAllowed=t}get effectAllowed(){return this._native.effectAllowed}set dropEffect(t){this._native.dropEffect=t}get dropEffect(){return this._native.dropEffect}setDragImage(t,s,a){this._native.setDragImage(t,s,a)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function en(f){const t=Array.from(f.files||[]),s=Array.from(f.items||[]);return t.length?t:s.filter(a=>a.kind==="file").map(a=>a.getAsFile())}class Ze extends Cc{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(t){const s=t.getTargetRanges(),a=this.view,d=a.document;let p=null,w=null,k=[];if(t.dataTransfer&&(p=new an(t.dataTransfer)),t.data!==null?w=t.data:p&&(w=p.getData("text/plain")),d.selection.isFake)k=Array.from(d.selection.getRanges());else if(s.length)k=s.map(D=>{const R=a.domConverter.domPositionToView(D.startContainer,D.startOffset),M=a.domConverter.domPositionToView(D.endContainer,D.endOffset);return R?a.createRange(R,M):M?a.createRange(M):void 0}).filter(D=>!!D);else if(y.isAndroid){const D=t.target.ownerDocument.defaultView.getSelection();k=Array.from(a.domConverter.domSelectionToView(D).getRanges())}if(y.isAndroid&&t.inputType=="insertCompositionText"&&w&&w.endsWith(`
`))this.fire(t.type,t,{inputType:"insertParagraph",targetRanges:[a.createRange(k[0].end)]});else if(t.inputType=="insertText"&&w&&w.includes(`
`)){const D=w.split(/\n{1,2}/g);let R=k;for(let M=0;M<D.length;M++){const L=D[M];L!=""&&(this.fire(t.type,t,{data:L,dataTransfer:p,targetRanges:R,inputType:t.inputType,isComposing:t.isComposing}),R=[d.selection.getFirstRange()]),M+1<D.length&&(this.fire(t.type,t,{inputType:"insertParagraph",targetRanges:R}),R=[d.selection.getFirstRange()])}}else this.fire(t.type,t,{data:w,dataTransfer:p,targetRanges:k,inputType:t.inputType,isComposing:t.isComposing})}}class Ge extends Il{constructor(t){super(t),this.document.on("keydown",(s,a)=>{if(this.isEnabled&&((d=a.keyCode)==Gt.arrowright||d==Gt.arrowleft||d==Gt.arrowup||d==Gt.arrowdown)){const p=new Nu(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(p,a),p.stop.called&&s.stop()}var d})}observe(){}stopObserving(){}}class Ke extends Il{constructor(t){super(t);const s=this.document;s.on("keydown",(a,d)=>{if(!this.isEnabled||d.keyCode!=Gt.tab||d.ctrlKey)return;const p=new Nu(s,"tab",s.selection.getFirstRange());s.fire(p,d),p.stop.called&&a.stop()})}observe(){}stopObserving(){}}const tt=function(f){return va(f,5)};class rt extends Be(){constructor(t){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new fr(t),this.domConverter=new WA(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new ap(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new Pg(this.document),this.addObserver(Xe),this.addObserver(kt),this.addObserver(lt),this.addObserver(yP),this.addObserver(_P),this.addObserver(zt),this.addObserver(Ge),this.addObserver(Ze),this.addObserver(Ke),this.document.on("arrowKey",Wy,{priority:"low"}),Ox(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),y.isiOS&&this.listenTo(this.document,"blur",(s,a)=>{this.domConverter.mapDomToView(a.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(t,s="main"){const a=this.document.getRoot(s);a._name=t.tagName.toLowerCase();const d={};for(const{name:w,value:k}of Array.from(t.attributes))d[w]=k,w==="class"?this._writer.addClass(k.split(" "),a):this._writer.setAttribute(w,k,a);this._initialDomRootAttributes.set(t,d);const p=()=>{this._writer.setAttribute("contenteditable",(!a.isReadOnly).toString(),a),a.isReadOnly?this._writer.addClass("ck-read-only",a):this._writer.removeClass("ck-read-only",a)};p(),this.domRoots.set(s,t),this.domConverter.bindElements(t,a),this._renderer.markToSync("children",a),this._renderer.markToSync("attributes",a),this._renderer.domDocuments.add(t.ownerDocument),a.on("change:children",(w,k)=>this._renderer.markToSync("children",k)),a.on("change:attributes",(w,k)=>this._renderer.markToSync("attributes",k)),a.on("change:text",(w,k)=>this._renderer.markToSync("text",k)),a.on("change:isReadOnly",()=>this.change(p)),a.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const w of this._observers.values())w.observe(t,s)}detachDomRoot(t){const s=this.domRoots.get(t);Array.from(s.attributes).forEach(({name:d})=>s.removeAttribute(d));const a=this._initialDomRootAttributes.get(s);for(const d in a)s.setAttribute(d,a[d]);this.domRoots.delete(t),this.domConverter.unbindDomElement(s);for(const d of this._observers.values())d.stopObserving(s)}getDomRoot(t="main"){return this.domRoots.get(t)}addObserver(t){let s=this._observers.get(t);if(s)return s;s=new t(this),this._observers.set(t,s);for(const[a,d]of this.domRoots)s.observe(d,a);return s.enable(),s}getObserver(t){return this._observers.get(t)}disableObservers(){for(const t of this._observers.values())t.disable()}enableObservers(){for(const t of this._observers.values())t.enable()}scrollToTheSelection({alignToTop:t,forceScroll:s,viewportOffset:a=20,ancestorOffset:d=20}={}){const p=this.document.selection.getFirstRange();if(!p)return;const w=tt({alignToTop:t,forceScroll:s,viewportOffset:a,ancestorOffset:d});typeof a=="number"&&(a={top:a,bottom:a,left:a,right:a});const k={target:this.domConverter.viewRangeToDom(p),viewportOffset:a,ancestorOffset:d,alignToTop:t,forceScroll:s};this.fire("scrollToTheSelection",k,w),function({target:D,viewportOffset:R=0,ancestorOffset:M=0,alignToTop:L,forceScroll:W}){const Y=by(D);let se=Y,le=null;for(R=function(ve){return typeof ve=="number"?{top:ve,bottom:ve,left:ve,right:ve}:ve}(R);se;){let ve;ve=lx(se==Y?D:le),dA({parent:ve,getRect:()=>qd(D,se),alignToTop:L,ancestorOffset:M,forceScroll:W});const Pe=qd(D,se);if(Uf({window:se,rect:Pe,viewportOffset:R,alignToTop:L,forceScroll:W}),se.parent!=se){if(le=se.frameElement,se=se.parent,!le)return}else se=null}}(k)}focus(){if(!this.document.isFocused){const t=this.document.selection.editableElement;t&&(this.domConverter.focus(t),this.forceRender())}}change(t){if(this.isRenderingInProgress||this._postFixersInProgress)throw new B("cannot-change-view-tree",this);try{if(this._ongoingChange)return t(this._writer);this._ongoingChange=!0;const s=t(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),s}catch(s){B.rethrowUnexpectedError(s,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(kt).flush(),this.change(()=>{})}destroy(){for(const t of this._observers.values())t.destroy();this.document.destroy(),this.stopListening()}createPositionAt(t,s){return pt._createAt(t,s)}createPositionAfter(t){return pt._createAfter(t)}createPositionBefore(t){return pt._createBefore(t)}createRange(t,s){return new Yt(t,s)}createRangeOn(t){return Yt._createOn(t)}createRangeIn(t){return Yt._createIn(t)}createSelection(...t){return new Ca(...t)}_disableRendering(t){this._renderingDisabled=t,t==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Kt{is(){throw new Error("is() method is abstract")}}class Et extends Kt{constructor(t){super(),this.parent=null,this._attrs=ka(t)}get document(){return null}get index(){let t;if(!this.parent)return null;if((t=this.parent.getChildIndex(this))===null)throw new B("model-node-not-found-in-parent",this);return t}get startOffset(){let t;if(!this.parent)return null;if((t=this.parent.getChildStartOffset(this))===null)throw new B("model-node-not-found-in-parent",this);return t}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const t=this.index;return t!==null&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return t!==null&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const t=[];let s=this;for(;s.parent;)t.unshift(s.startOffset),s=s.parent;return t}getAncestors(t={}){const s=[];let a=t.includeSelf?this:this.parent;for(;a;)s[t.parentFirst?"push":"unshift"](a),a=a.parent;return s}getCommonAncestor(t,s={}){const a=this.getAncestors(s),d=t.getAncestors(s);let p=0;for(;a[p]==d[p]&&a[p];)p++;return p===0?null:a[p-1]}isBefore(t){if(this==t||this.root!==t.root)return!1;const s=this.getPath(),a=t.getPath(),d=qe(s,a);switch(d){case"prefix":return!0;case"extension":return!1;default:return s[d]<a[d]}}isAfter(t){return this!=t&&this.root===t.root&&!this.isBefore(t)}hasAttribute(t){return this._attrs.has(t)}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const t={};return this._attrs.size&&(t.attributes=Array.from(this._attrs).reduce((s,a)=>(s[a[0]]=a[1],s),{})),t}_clone(t){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(t,s){this._attrs.set(t,s)}_setAttributesTo(t){this._attrs=ka(t)}_removeAttribute(t){return this._attrs.delete(t)}_clearAttributes(){this._attrs.clear()}}Et.prototype.is=function(f){return f==="node"||f==="model:node"};class ln{constructor(t){this._nodes=[],t&&this._insertNodes(0,t)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((t,s)=>t+s.offsetSize,0)}getNode(t){return this._nodes[t]||null}getNodeIndex(t){const s=this._nodes.indexOf(t);return s==-1?null:s}getNodeStartOffset(t){const s=this.getNodeIndex(t);return s===null?null:this._nodes.slice(0,s).reduce((a,d)=>a+d.offsetSize,0)}indexToOffset(t){if(t==this._nodes.length)return this.maxOffset;const s=this._nodes[t];if(!s)throw new B("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(s)}offsetToIndex(t){let s=0;for(const a of this._nodes){if(t>=s&&t<s+a.offsetSize)return this.getNodeIndex(a);s+=a.offsetSize}if(s!=t)throw new B("model-nodelist-offset-out-of-bounds",this,{offset:t,nodeList:this});return this.length}_insertNodes(t,s){for(const a of s)if(!(a instanceof Et))throw new B("model-nodelist-insertnodes-not-node",this);this._nodes=function(a,d,p,w){if(Math.max(d.length,a.length)>1e4)return a.slice(0,p).concat(d).concat(a.slice(p+w,a.length));{const k=Array.from(a);return k.splice(p,w,...d),k}}(this._nodes,Array.from(s),t,0)}_removeNodes(t,s=1){return this._nodes.splice(t,s)}toJSON(){return this._nodes.map(t=>t.toJSON())}}class Ft extends Et{constructor(t,s){super(s),this._data=t||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const t=super.toJSON();return t.data=this.data,t}_clone(){return new Ft(this.data,this.getAttributes())}static fromJSON(t){return new Ft(t.data,t.attributes)}}Ft.prototype.is=function(f){return f==="$text"||f==="model:$text"||f==="text"||f==="model:text"||f==="node"||f==="model:node"};class Vt extends Kt{constructor(t,s,a){if(super(),this.textNode=t,s<0||s>t.offsetSize)throw new B("model-textproxy-wrong-offsetintext",this);if(a<0||s+a>t.offsetSize)throw new B("model-textproxy-wrong-length",this);this.data=t.data.substring(s,s+a),this.offsetInText=s}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const t=this.textNode.getPath();return t.length>0&&(t[t.length-1]+=this.offsetInText),t}getAncestors(t={}){const s=[];let a=t.includeSelf?this:this.parent;for(;a;)s[t.parentFirst?"push":"unshift"](a),a=a.parent;return s}hasAttribute(t){return this.textNode.hasAttribute(t)}getAttribute(t){return this.textNode.getAttribute(t)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Vt.prototype.is=function(f){return f==="$textProxy"||f==="model:$textProxy"||f==="textProxy"||f==="model:textProxy"};class Xt extends Et{constructor(t,s,a){super(s),this._children=new ln,this.name=t,a&&this._insertChild(0,a)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}offsetToIndex(t){return this._children.offsetToIndex(t)}getNodeByPath(t){let s=this;for(const a of t)s=s.getChild(s.offsetToIndex(a));return s}findAncestor(t,s={}){let a=s.includeSelf?this:this.parent;for(;a;){if(a.name===t)return a;a=a.parent}return null}toJSON(){const t=super.toJSON();if(t.name=this.name,this._children.length>0){t.children=[];for(const s of this._children)t.children.push(s.toJSON())}return t}_clone(t=!1){const s=t?Array.from(this._children).map(a=>a._clone(!0)):void 0;return new Xt(this.name,this.getAttributes(),s)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,s){const a=function(d){return typeof d=="string"?[new Ft(d)]:(Oe(d)||(d=[d]),Array.from(d).map(p=>typeof p=="string"?new Ft(p):p instanceof Vt?new Ft(p.data,p.getAttributes()):p))}(s);for(const d of a)d.parent!==null&&d._remove(),d.parent=this;this._children._insertNodes(t,a)}_removeChildren(t,s=1){const a=this._children._removeNodes(t,s);for(const d of a)d.parent=null;return a}static fromJSON(t){let s;if(t.children){s=[];for(const a of t.children)a.name?s.push(Xt.fromJSON(a)):s.push(Ft.fromJSON(a))}return new Xt(t.name,t.attributes,s)}}Xt.prototype.is=function(f,t){return t?t===this.name&&(f==="element"||f==="model:element"):f==="element"||f==="model:element"||f==="node"||f==="model:node"};class jl{constructor(t){if(!t||!t.boundaries&&!t.startPosition)throw new B("model-tree-walker-no-start-position",null);const s=t.direction||"forward";if(s!="forward"&&s!="backward")throw new B("model-tree-walker-unknown-direction",t,{direction:s});this.direction=s,this.boundaries=t.boundaries||null,t.startPosition?this._position=t.startPosition.clone():this._position=st._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(t){let s,a,d,p;do d=this.position,p=this._visitedParent,{done:s,value:a}=this.next();while(!s&&t(a));s||(this._position=d,this._visitedParent=p)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const t=this.position,s=this.position.clone(),a=this._visitedParent;if(a.parent===null&&s.offset===a.maxOffset)return{done:!0,value:void 0};if(a===this._boundaryEndParent&&s.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const d=Gx(s,a),p=d||jU(s,a,d);if(p instanceof Xt){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(s))return{done:!0,value:void 0};s.offset++}else s.path.push(0),this._visitedParent=p;return this._position=s,Ug("elementStart",p,t,s,1)}if(p instanceof Ft){let w;if(this.singleCharacters)w=1;else{let R=p.endOffset;this._boundaryEndParent==a&&this.boundaries.end.offset<R&&(R=this.boundaries.end.offset),w=R-s.offset}const k=s.offset-p.startOffset,D=new Vt(p,k,w);return s.offset+=w,this._position=s,Ug("text",D,t,s,w)}return s.path.pop(),s.offset++,this._position=s,this._visitedParent=a.parent,this.ignoreElementEnd?this._next():Ug("elementEnd",a,t,s)}_previous(){const t=this.position,s=this.position.clone(),a=this._visitedParent;if(a.parent===null&&s.offset===0)return{done:!0,value:void 0};if(a==this._boundaryStartParent&&s.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const d=s.parent,p=Gx(s,d),w=p||RU(s,d,p);if(w instanceof Xt)return s.offset--,this.shallow?(this._position=s,Ug("elementStart",w,t,s,1)):(s.path.push(w.maxOffset),this._position=s,this._visitedParent=w,this.ignoreElementEnd?this._previous():Ug("elementEnd",w,t,s));if(w instanceof Ft){let k;if(this.singleCharacters)k=1;else{let M=w.startOffset;this._boundaryStartParent==a&&this.boundaries.start.offset>M&&(M=this.boundaries.start.offset),k=s.offset-M}const D=s.offset-w.startOffset,R=new Vt(w,D-k,k);return s.offset-=k,this._position=s,Ug("text",R,t,s,k)}return s.path.pop(),this._position=s,this._visitedParent=a.parent,Ug("elementStart",a,t,s,1)}}function Ug(f,t,s,a,d){return{done:!1,value:{type:f,item:t,previousPosition:s,nextPosition:a,length:d}}}class st extends Kt{constructor(t,s,a="toNone"){if(super(),!t.is("element")&&!t.is("documentFragment"))throw new B("model-position-root-invalid",t);if(!(s instanceof Array)||s.length===0)throw new B("model-position-path-incorrect-format",t,{path:s});t.is("rootElement")?s=s.slice():(s=[...t.getPath(),...s],t=t.root),this.root=t,this.path=s,this.stickiness=a}get offset(){return this.path[this.path.length-1]}set offset(t){this.path[this.path.length-1]=t}get parent(){let t=this.root;for(let s=0;s<this.path.length-1;s++)if(t=t.getChild(t.offsetToIndex(this.path[s])),!t)throw new B("model-position-path-incorrect",this,{position:this});if(t.is("$text"))throw new B("model-position-path-incorrect",this,{position:this});return t}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Gx(this,this.parent)}get nodeAfter(){const t=this.parent;return jU(this,t,Gx(this,t))}get nodeBefore(){const t=this.parent;return RU(this,t,Gx(this,t))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(t){if(this.root!=t.root)return"different";const s=qe(this.path,t.path);switch(s){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[s]<t.path[s]?"before":"after"}}getLastMatchingPosition(t,s={}){s.startPosition=this;const a=new jl(s);return a.skip(t),a.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const t=this.parent;return t.is("documentFragment")?[t]:t.getAncestors({includeSelf:!0})}findAncestor(t){const s=this.parent;return s.is("element")?s.findAncestor(t,{includeSelf:!0}):null}getCommonPath(t){if(this.root!=t.root)return[];const s=qe(this.path,t.path),a=typeof s=="string"?Math.min(this.path.length,t.path.length):s;return this.path.slice(0,a)}getCommonAncestor(t){const s=this.getAncestors(),a=t.getAncestors();let d=0;for(;s[d]==a[d]&&s[d];)d++;return d===0?null:s[d-1]}getShiftedBy(t){const s=this.clone(),a=s.offset+t;return s.offset=a<0?0:a,s}isAfter(t){return this.compareWith(t)=="after"}isBefore(t){return this.compareWith(t)=="before"}isEqual(t){return this.compareWith(t)=="same"}isTouching(t){if(this.root!==t.root)return!1;const s=Math.min(this.path.length,t.path.length);for(let a=0;a<s;a++){const d=this.path[a]-t.path[a];if(d<-1||d>1)return!1;if(d===1)return MU(t,this,a);if(d===-1)return MU(this,t,a)}return this.path.length===t.path.length||(this.path.length>t.path.length?EP(this.path,s):EP(t.path,s))}hasSameParentAs(t){return this.root!==t.root?!1:qe(this.getParentPath(),t.getParentPath())=="same"}getTransformedByOperation(t){let s;switch(t.type){case"insert":s=this._getTransformedByInsertOperation(t);break;case"move":case"remove":case"reinsert":s=this._getTransformedByMoveOperation(t);break;case"split":s=this._getTransformedBySplitOperation(t);break;case"merge":s=this._getTransformedByMergeOperation(t);break;default:s=st._createAt(this)}return s}_getTransformedByInsertOperation(t){return this._getTransformedByInsertion(t.position,t.howMany)}_getTransformedByMoveOperation(t){return this._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany)}_getTransformedBySplitOperation(t){const s=t.movedRange;return s.containsPosition(this)||s.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(t.splitPosition,t.moveTargetPosition):t.graveyardPosition?this._getTransformedByMove(t.graveyardPosition,t.insertionPosition,1):this._getTransformedByInsertion(t.insertionPosition,1)}_getTransformedByMergeOperation(t){const s=t.movedRange;let a;return s.containsPosition(this)||s.start.isEqual(this)?(a=this._getCombined(t.sourcePosition,t.targetPosition),t.sourcePosition.isBefore(t.targetPosition)&&(a=a._getTransformedByDeletion(t.deletionPosition,1))):a=this.isEqual(t.deletionPosition)?st._createAt(t.deletionPosition):this._getTransformedByMove(t.deletionPosition,t.graveyardPosition,1),a}_getTransformedByDeletion(t,s){const a=st._createAt(this);if(this.root!=t.root)return a;if(qe(t.getParentPath(),this.getParentPath())=="same"){if(t.offset<this.offset){if(t.offset+s>this.offset)return null;a.offset-=s}}else if(qe(t.getParentPath(),this.getParentPath())=="prefix"){const d=t.path.length-1;if(t.offset<=this.path[d]){if(t.offset+s>this.path[d])return null;a.path[d]-=s}}return a}_getTransformedByInsertion(t,s){const a=st._createAt(this);if(this.root!=t.root)return a;if(qe(t.getParentPath(),this.getParentPath())=="same")(t.offset<this.offset||t.offset==this.offset&&this.stickiness!="toPrevious")&&(a.offset+=s);else if(qe(t.getParentPath(),this.getParentPath())=="prefix"){const d=t.path.length-1;t.offset<=this.path[d]&&(a.path[d]+=s)}return a}_getTransformedByMove(t,s,a){if(s=s._getTransformedByDeletion(t,a),t.isEqual(s))return st._createAt(this);const d=this._getTransformedByDeletion(t,a);return d===null||t.isEqual(this)&&this.stickiness=="toNext"||t.getShiftedBy(a).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(t,s):d._getTransformedByInsertion(s,a)}_getCombined(t,s){const a=t.path.length-1,d=st._createAt(s);return d.stickiness=this.stickiness,d.offset=d.offset+this.path[a]-t.offset,d.path=[...d.path,...this.path.slice(a+1)],d}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(t,s,a="toNone"){if(t instanceof st)return new st(t.root,t.path,t.stickiness);{const d=t;if(s=="end")s=d.maxOffset;else{if(s=="before")return this._createBefore(d,a);if(s=="after")return this._createAfter(d,a);if(s!==0&&!s)throw new B("model-createpositionat-offset-required",[this,t])}if(!d.is("element")&&!d.is("documentFragment"))throw new B("model-position-parent-incorrect",[this,t]);const p=d.getPath();return p.push(s),new this(d.root,p,a)}}static _createAfter(t,s){if(!t.parent)throw new B("model-position-after-root",[this,t],{root:t});return this._createAt(t.parent,t.endOffset,s)}static _createBefore(t,s){if(!t.parent)throw new B("model-position-before-root",t,{root:t});return this._createAt(t.parent,t.startOffset,s)}static fromJSON(t,s){if(t.root==="$graveyard"){const a=new st(s.graveyard,t.path);return a.stickiness=t.stickiness,a}if(!s.getRoot(t.root))throw new B("model-position-fromjson-no-root",s,{rootName:t.root});return new st(s.getRoot(t.root),t.path,t.stickiness)}}function Gx(f,t){const s=t.getChild(t.offsetToIndex(f.offset));return s&&s.is("$text")&&s.startOffset<f.offset?s:null}function jU(f,t,s){return s!==null?null:t.getChild(t.offsetToIndex(f.offset))}function RU(f,t,s){return s!==null?null:t.getChild(t.offsetToIndex(f.offset)-1)}function MU(f,t,s){return s+1!==f.path.length&&!!EP(t.path,s+1)&&!!function(a,d){let p=a.parent,w=a.path.length-1,k=0;for(;w>=d;){if(a.path[w]+k!==p.maxOffset)return!1;k=1,w--,p=p.parent}return!0}(f,s+1)}function EP(f,t){for(;t<f.length;){if(f[t]!==0)return!1;t++}return!0}st.prototype.is=function(f){return f==="position"||f==="model:position"};class Je extends Kt{constructor(t,s){super(),this.start=st._createAt(t),this.end=s?st._createAt(s):st._createAt(t),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new jl({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return qe(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,s=!1){t.isCollapsed&&(s=!1);const a=this.containsPosition(t.start)||s&&this.start.isEqual(t.start),d=this.containsPosition(t.end)||s&&this.end.isEqual(t.end);return a&&d}containsItem(t){const s=st._createBefore(t);return this.containsPosition(s)||this.start.isEqual(s)}isEqual(t){return this.start.isEqual(t.start)&&this.end.isEqual(t.end)}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}getDifference(t){const s=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&s.push(new Je(this.start,t.start)),this.containsPosition(t.end)&&s.push(new Je(t.end,this.end))):s.push(new Je(this.start,this.end)),s}getIntersection(t){if(this.isIntersecting(t)){let s=this.start,a=this.end;return this.containsPosition(t.start)&&(s=t.start),this.containsPosition(t.end)&&(a=t.end),new Je(s,a)}return null}getJoined(t,s=!1){let a=this.isIntersecting(t);if(a||(a=this.start.isBefore(t.start)?s?this.end.isTouching(t.start):this.end.isEqual(t.start):s?t.end.isTouching(this.start):t.end.isEqual(this.start)),!a)return null;let d=this.start,p=this.end;return t.start.isBefore(d)&&(d=t.start),t.end.isAfter(p)&&(p=t.end),new Je(d,p)}getMinimalFlatRanges(){const t=[],s=this.start.getCommonPath(this.end).length,a=st._createAt(this.start);let d=a.parent;for(;a.path.length>s+1;){const p=d.maxOffset-a.offset;p!==0&&t.push(new Je(a,a.getShiftedBy(p))),a.path=a.path.slice(0,-1),a.offset++,d=d.parent}for(;a.path.length<=this.end.path.length;){const p=this.end.path[a.path.length-1],w=p-a.offset;w!==0&&t.push(new Je(a,a.getShiftedBy(w))),a.offset=p,a.path.push(0)}return t}getWalker(t={}){return t.boundaries=this,new jl(t)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const s=new jl(t);for(const a of s)yield a.item}*getPositions(t={}){t.boundaries=this;const s=new jl(t);yield s.position;for(const a of s)yield a.nextPosition}getTransformedByOperation(t){switch(t.type){case"insert":return this._getTransformedByInsertOperation(t);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(t);case"split":return[this._getTransformedBySplitOperation(t)];case"merge":return[this._getTransformedByMergeOperation(t)]}return[new Je(this.start,this.end)]}getTransformedByOperations(t){const s=[new Je(this.start,this.end)];for(const a of t)for(let d=0;d<s.length;d++){const p=s[d].getTransformedByOperation(a);s.splice(d,1,...p),d+=p.length-1}for(let a=0;a<s.length;a++){const d=s[a];for(let p=a+1;p<s.length;p++){const w=s[p];(d.containsRange(w)||w.containsRange(d)||d.isEqual(w))&&s.splice(p,1)}}return s}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const t=this.start.nodeAfter,s=this.end.nodeBefore;return t&&t.is("element")&&t===s?t:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(t,s=!1){return this._getTransformedByInsertion(t.position,t.howMany,s)}_getTransformedByMoveOperation(t,s=!1){const a=t.sourcePosition,d=t.howMany,p=t.targetPosition;return this._getTransformedByMove(a,p,d,s)}_getTransformedBySplitOperation(t){const s=this.start._getTransformedBySplitOperation(t);let a=this.end._getTransformedBySplitOperation(t);return this.end.isEqual(t.insertionPosition)&&(a=this.end.getShiftedBy(1)),s.root!=a.root&&(a=this.end.getShiftedBy(-1)),new Je(s,a)}_getTransformedByMergeOperation(t){if(this.start.isEqual(t.targetPosition)&&this.end.isEqual(t.deletionPosition))return new Je(this.start);let s=this.start._getTransformedByMergeOperation(t),a=this.end._getTransformedByMergeOperation(t);return s.root!=a.root&&(a=this.end.getShiftedBy(-1)),s.isAfter(a)?(t.sourcePosition.isBefore(t.targetPosition)?(s=st._createAt(a),s.offset=0):(t.deletionPosition.isEqual(s)||(a=t.deletionPosition),s=t.targetPosition),new Je(s,a)):new Je(s,a)}_getTransformedByInsertion(t,s,a=!1){if(a&&this.containsPosition(t))return[new Je(this.start,t),new Je(t.getShiftedBy(s),this.end._getTransformedByInsertion(t,s))];{const d=new Je(this.start,this.end);return d.start=d.start._getTransformedByInsertion(t,s),d.end=d.end._getTransformedByInsertion(t,s),[d]}}_getTransformedByMove(t,s,a,d=!1){if(this.isCollapsed){const L=this.start._getTransformedByMove(t,s,a);return[new Je(L)]}const p=Je._createFromPositionAndShift(t,a),w=s._getTransformedByDeletion(t,a);if(this.containsPosition(s)&&!d&&(p.containsPosition(this.start)||p.containsPosition(this.end))){const L=this.start._getTransformedByMove(t,s,a),W=this.end._getTransformedByMove(t,s,a);return[new Je(L,W)]}let k;const D=this.getDifference(p);let R=null;const M=this.getIntersection(p);if(D.length==1?R=new Je(D[0].start._getTransformedByDeletion(t,a),D[0].end._getTransformedByDeletion(t,a)):D.length==2&&(R=new Je(this.start,this.end._getTransformedByDeletion(t,a))),k=R?R._getTransformedByInsertion(w,a,M!==null||d):[],M){const L=new Je(M.start._getCombined(p.start,w),M.end._getCombined(p.start,w));k.length==2?k.splice(1,0,L):k.push(L)}return k}_getTransformedByDeletion(t,s){let a=this.start._getTransformedByDeletion(t,s),d=this.end._getTransformedByDeletion(t,s);return a==null&&d==null?null:(a==null&&(a=t),d==null&&(d=t),new Je(a,d))}static _createFromPositionAndShift(t,s){const a=t,d=t.getShiftedBy(s);return s>0?new this(a,d):new this(d,a)}static _createIn(t){return new this(st._createAt(t,0),st._createAt(t,t.maxOffset))}static _createOn(t){return this._createFromPositionAndShift(st._createBefore(t),t.offsetSize)}static _createFromRanges(t){if(t.length===0)throw new B("range-create-from-ranges-empty-array",null);if(t.length==1)return t[0].clone();const s=t[0];t.sort((p,w)=>p.start.isAfter(w.start)?1:-1);const a=t.indexOf(s),d=new this(s.start,s.end);if(a>0)for(let p=a-1;t[p].end.isEqual(d.start);p++)d.start=st._createAt(t[p].start);for(let p=a+1;p<t.length&&t[p].start.isEqual(d.end);p++)d.end=st._createAt(t[p].end);return d}static fromJSON(t,s){return new this(st.fromJSON(t.start,s),st.fromJSON(t.end,s))}}Je.prototype.is=function(f){return f==="range"||f==="model:range"};class OU extends G(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(t,s)=>{if(s.viewPosition)return;const a=this._modelToViewMapping.get(s.modelPosition.parent);if(!a)throw new B("mapping-model-position-view-parent-not-found",this,{modelPosition:s.modelPosition});s.viewPosition=this.findPositionIn(a,s.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(t,s)=>{if(s.modelPosition)return;const a=this.findMappedViewAncestor(s.viewPosition),d=this._viewToModelMapping.get(a),p=this._toModelOffset(s.viewPosition.parent,s.viewPosition.offset,a);s.modelPosition=st._createAt(d,p)},{priority:"low"})}bindElements(t,s){this._modelToViewMapping.set(t,s),this._viewToModelMapping.set(s,t)}unbindViewElement(t,s={}){const a=this.toModelElement(t);if(this._elementToMarkerNames.has(t))for(const d of this._elementToMarkerNames.get(t))this._unboundMarkerNames.add(d);s.defer?this._deferredBindingRemovals.set(t,t.root):(this._viewToModelMapping.delete(t),this._modelToViewMapping.get(a)==t&&this._modelToViewMapping.delete(a))}unbindModelElement(t){const s=this.toViewElement(t);this._modelToViewMapping.delete(t),this._viewToModelMapping.get(s)==t&&this._viewToModelMapping.delete(s)}bindElementToMarker(t,s){const a=this._markerNameToElements.get(s)||new Set;a.add(t);const d=this._elementToMarkerNames.get(t)||new Set;d.add(s),this._markerNameToElements.set(s,a),this._elementToMarkerNames.set(t,d)}unbindElementFromMarkerName(t,s){const a=this._markerNameToElements.get(s);a&&(a.delete(t),a.size==0&&this._markerNameToElements.delete(s));const d=this._elementToMarkerNames.get(t);d&&(d.delete(s),d.size==0&&this._elementToMarkerNames.delete(t))}flushUnboundMarkerNames(){const t=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),t}flushDeferredBindings(){for(const[t,s]of this._deferredBindingRemovals)t.root==s&&this.unbindViewElement(t);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(t){return this._viewToModelMapping.get(t)}toViewElement(t){return this._modelToViewMapping.get(t)}toModelRange(t){return new Je(this.toModelPosition(t.start),this.toModelPosition(t.end))}toViewRange(t){return new Yt(this.toViewPosition(t.start),this.toViewPosition(t.end))}toModelPosition(t){const s={viewPosition:t,mapper:this};return this.fire("viewToModelPosition",s),s.modelPosition}toViewPosition(t,s={}){const a={modelPosition:t,mapper:this,isPhantom:s.isPhantom};return this.fire("modelToViewPosition",a),a.viewPosition}markerNameToElements(t){const s=this._markerNameToElements.get(t);if(!s)return null;const a=new Set;for(const d of s)if(d.is("attributeElement"))for(const p of d.getElementsWithSameId())a.add(p);else a.add(d);return a}registerViewToModelLength(t,s){this._viewToModelLengthCallbacks.set(t,s)}findMappedViewAncestor(t){let s=t.parent;for(;!this._viewToModelMapping.has(s);)s=s.parent;return s}_toModelOffset(t,s,a){if(a!=t)return this._toModelOffset(t.parent,t.index,a)+this._toModelOffset(t,s,t);if(t.is("$text"))return s;let d=0;for(let p=0;p<s;p++)d+=this.getModelLength(t.getChild(p));return d}getModelLength(t){if(this._viewToModelLengthCallbacks.get(t.name))return this._viewToModelLengthCallbacks.get(t.name)(t);if(this._viewToModelMapping.has(t))return 1;if(t.is("$text"))return t.data.length;if(t.is("uiElement"))return 0;{let s=0;for(const a of t.getChildren())s+=this.getModelLength(a);return s}}findPositionIn(t,s){let a,d=0,p=0,w=0;if(t.is("$text"))return new pt(t,s);for(;p<s;)a=t.getChild(w),d=this.getModelLength(a),p+=d,w++;return p==s?this._moveViewPositionToTextNode(new pt(t,w)):this.findPositionIn(a,s-(p-d))}_moveViewPositionToTextNode(t){const s=t.nodeBefore,a=t.nodeAfter;return s instanceof Cn?new pt(s,s.data.length):a instanceof Cn?new pt(a,0):t}}class vie{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(t,s){s=GA(s),t instanceof Vt&&(t=this._getSymbolForTextProxy(t)),this._consumable.has(t)||this._consumable.set(t,new Map),this._consumable.get(t).set(s,!0)}consume(t,s){return s=GA(s),t instanceof Vt&&(t=this._getSymbolForTextProxy(t)),!!this.test(t,s)&&(this._consumable.get(t).set(s,!1),!0)}test(t,s){s=GA(s),t instanceof Vt&&(t=this._getSymbolForTextProxy(t));const a=this._consumable.get(t);if(a===void 0)return null;const d=a.get(s);return d===void 0?null:d}revert(t,s){s=GA(s),t instanceof Vt&&(t=this._getSymbolForTextProxy(t));const a=this.test(t,s);return a===!1?(this._consumable.get(t).set(s,!0),!0):a!==!0&&null}verifyAllConsumed(t){const s=[];for(const[a,d]of this._consumable)for(const[p,w]of d){const k=p.split(":")[0];w&&t==k&&s.push({event:p,item:a.name||a.description})}if(s.length)throw new B("conversion-model-consumable-not-consumed",null,{items:s})}_getSymbolForTextProxy(t){let s=null;const a=this._textProxyRegistry.get(t.startOffset);if(a){const d=a.get(t.endOffset);d&&(s=d.get(t.parent))}return s||(s=this._addSymbolForTextProxy(t)),s}_addSymbolForTextProxy(t){const s=t.startOffset,a=t.endOffset,d=t.parent,p=Symbol("$textProxy:"+t.data);let w,k;return w=this._textProxyRegistry.get(s),w||(w=new Map,this._textProxyRegistry.set(s,w)),k=w.get(a),k||(k=new Map,w.set(a,k)),k.set(d,p),p}}function GA(f){const t=f.split(":");return t[0]=="insert"?t[0]:t[0]=="addMarker"||t[0]=="removeMarker"?f:t.length>1?t[0]+":"+t[1]:t[0]}class FU extends G(){constructor(t){super(),this._conversionApi={dispatcher:this,...t},this._firedEventsMap=new WeakMap}convertChanges(t,s,a){const d=this._createConversionApi(a,t.getRefreshedItems());for(const w of t.getMarkersToRemove())this._convertMarkerRemove(w.name,w.range,d);const p=this._reduceChanges(t.getChanges());for(const w of p)w.type==="insert"?this._convertInsert(Je._createFromPositionAndShift(w.position,w.length),d):w.type==="reinsert"?this._convertReinsert(Je._createFromPositionAndShift(w.position,w.length),d):w.type==="remove"?this._convertRemove(w.position,w.length,w.name,d):this._convertAttribute(w.range,w.attributeKey,w.attributeOldValue,w.attributeNewValue,d);for(const w of d.mapper.flushUnboundMarkerNames()){const k=s.get(w).getRange();this._convertMarkerRemove(w,k,d),this._convertMarkerAdd(w,k,d)}for(const w of t.getMarkersToAdd())this._convertMarkerAdd(w.name,w.range,d);d.mapper.flushDeferredBindings(),d.consumable.verifyAllConsumed("insert")}convert(t,s,a,d={}){const p=this._createConversionApi(a,void 0,d);this._convertInsert(t,p);for(const[w,k]of s)this._convertMarkerAdd(w,k,p);p.consumable.verifyAllConsumed("insert")}convertSelection(t,s,a){const d=this._createConversionApi(a);this.fire("cleanSelection",{selection:t},d);const p=t.getFirstPosition().root;if(!d.mapper.toViewElement(p))return;const w=Array.from(s.getMarkersAtPosition(t.getFirstPosition()));if(this._addConsumablesForSelection(d.consumable,t,w),this.fire("selection",{selection:t},d),t.isCollapsed){for(const k of w)if(d.consumable.test(t,"addMarker:"+k.name)){const D=k.getRange();if(!wie(t.getFirstPosition(),k,d.mapper))continue;const R={item:t,markerName:k.name,markerRange:D};this.fire(`addMarker:${k.name}`,R,d)}for(const k of t.getAttributeKeys())if(d.consumable.test(t,"attribute:"+k)){const D={item:t,range:t.getFirstRange(),attributeKey:k,attributeOldValue:null,attributeNewValue:t.getAttribute(k)};this.fire(`attribute:${k}:$text`,D,d)}}}_convertInsert(t,s,a={}){a.doNotAddConsumables||this._addConsumablesForInsert(s.consumable,Array.from(t));for(const d of Array.from(t.getWalker({shallow:!0})).map(UU))this._testAndFire("insert",d,s)}_convertRemove(t,s,a,d){this.fire(`remove:${a}`,{position:t,length:s},d)}_convertAttribute(t,s,a,d,p){this._addConsumablesForRange(p.consumable,t,`attribute:${s}`);for(const w of t){const k={item:w.item,range:Je._createFromPositionAndShift(w.previousPosition,w.length),attributeKey:s,attributeOldValue:a,attributeNewValue:d};this._testAndFire(`attribute:${s}`,k,p)}}_convertReinsert(t,s){const a=Array.from(t.getWalker({shallow:!0}));this._addConsumablesForInsert(s.consumable,a);for(const d of a.map(UU))this._testAndFire("insert",{...d,reconversion:!0},s)}_convertMarkerAdd(t,s,a){if(s.root.rootName=="$graveyard")return;const d=`addMarker:${t}`;if(a.consumable.add(s,d),this.fire(d,{markerName:t,markerRange:s},a),a.consumable.consume(s,d)){this._addConsumablesForRange(a.consumable,s,d);for(const p of s.getItems()){if(!a.consumable.test(p,d))continue;const w={item:p,range:Je._createOn(p),markerName:t,markerRange:s};this.fire(d,w,a)}}}_convertMarkerRemove(t,s,a){s.root.rootName!="$graveyard"&&this.fire(`removeMarker:${t}`,{markerName:t,markerRange:s},a)}_reduceChanges(t){const s={changes:t};return this.fire("reduceChanges",s),s.changes}_addConsumablesForInsert(t,s){for(const a of s){const d=a.item;if(t.test(d,"insert")===null){t.add(d,"insert");for(const p of d.getAttributeKeys())t.add(d,"attribute:"+p)}}return t}_addConsumablesForRange(t,s,a){for(const d of s.getItems())t.add(d,a);return t}_addConsumablesForSelection(t,s,a){t.add(s,"selection");for(const d of a)t.add(s,"addMarker:"+d.name);for(const d of s.getAttributeKeys())t.add(s,"attribute:"+d);return t}_testAndFire(t,s,a){const d=function(D,R){const M=R.item.is("element")?R.item.name:"$text";return`${D}:${M}`}(t,s),p=s.item.is("$textProxy")?a.consumable._getSymbolForTextProxy(s.item):s.item,w=this._firedEventsMap.get(a),k=w.get(p);if(k){if(k.has(d))return;k.add(d)}else w.set(p,new Set([d]));this.fire(d,s,a)}_testAndFireAddAttributes(t,s){const a={item:t,range:Je._createOn(t)};for(const d of a.item.getAttributeKeys())a.attributeKey=d,a.attributeOldValue=null,a.attributeNewValue=a.item.getAttribute(d),this._testAndFire(`attribute:${d}`,a,s)}_createConversionApi(t,s=new Set,a={}){const d={...this._conversionApi,consumable:new vie,writer:t,options:a,convertItem:p=>this._convertInsert(Je._createOn(p),d),convertChildren:p=>this._convertInsert(Je._createIn(p),d,{doNotAddConsumables:!0}),convertAttributes:p=>this._testAndFireAddAttributes(p,d),canReuseView:p=>!s.has(d.mapper.toModelElement(p))};return this._firedEventsMap.set(d,new Map),d}}function wie(f,t,s){const a=t.getRange(),d=Array.from(f.getAncestors());return d.shift(),d.reverse(),!d.some(p=>{if(a.containsItem(p))return!!s.toViewElement(p).getCustomProperty("addHighlight")})}function UU(f){return{item:f.item,range:Je._createFromPositionAndShift(f.previousPosition,f.length)}}class Da extends G(Kt){constructor(...t){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],t.length&&this.setTo(...t)}get anchor(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.end:t.start}return null}get focus(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.start:t.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(t){if(this.rangeCount!=t.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const s of this._ranges){let a=!1;for(const d of t._ranges)if(s.isEqual(d)){a=!0;break}if(!a)return!1}return!0}*getRanges(){for(const t of this._ranges)yield new Je(t.start,t.end)}getFirstRange(){let t=null;for(const s of this._ranges)t&&!s.start.isBefore(t.start)||(t=s);return t?new Je(t.start,t.end):null}getLastRange(){let t=null;for(const s of this._ranges)t&&!s.end.isAfter(t.end)||(t=s);return t?new Je(t.start,t.end):null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}setTo(...t){let[s,a,d]=t;if(typeof a=="object"&&(d=a,a=void 0),s===null)this._setRanges([]);else if(s instanceof Da)this._setRanges(s.getRanges(),s.isBackward);else if(s&&typeof s.getRanges=="function")this._setRanges(s.getRanges(),s.isBackward);else if(s instanceof Je)this._setRanges([s],!!d&&!!d.backward);else if(s instanceof st)this._setRanges([new Je(s)]);else if(s instanceof Et){const p=!!d&&!!d.backward;let w;if(a=="in")w=Je._createIn(s);else if(a=="on")w=Je._createOn(s);else{if(a===void 0)throw new B("model-selection-setto-required-second-parameter",[this,s]);w=new Je(st._createAt(s,a))}this._setRanges([w],p)}else{if(!Oe(s))throw new B("model-selection-setto-not-selectable",[this,s]);this._setRanges(s,d&&!!d.backward)}}_setRanges(t,s=!1){const a=Array.from(t),d=a.some(p=>{if(!(p instanceof Je))throw new B("model-selection-set-ranges-not-range",[this,t]);return this._ranges.every(w=>!w.isEqual(p))});(a.length!==this._ranges.length||d)&&(this._replaceAllRanges(a),this._lastRangeBackward=!!s,this.fire("change:range",{directChange:!0}))}setFocus(t,s){if(this.anchor===null)throw new B("model-selection-setfocus-no-ranges",[this,t]);const a=st._createAt(t,s);if(a.compareWith(this.focus)=="same")return;const d=this.anchor;this._ranges.length&&this._popRange(),a.compareWith(d)=="before"?(this._pushRange(new Je(a,d)),this._lastRangeBackward=!0):(this._pushRange(new Je(d,a)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(t){return this._attrs.has(t)}removeAttribute(t){this.hasAttribute(t)&&(this._attrs.delete(t),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}setAttribute(t,s){this.getAttribute(t)!==s&&(this._attrs.set(t,s),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const t=new WeakSet;for(const s of this.getRanges()){const a=BU(s.start,t);_ie(a,s)&&(yield a);for(const p of s.getWalker()){const w=p.item;p.type=="elementEnd"&&xie(w,t,s)&&(yield w)}const d=BU(s.end,t);kie(d,s)&&(yield d)}}containsEntireContent(t=this.anchor.root){const s=st._createAt(t,0),a=st._createAt(t,"end");return s.isTouching(this.getFirstPosition())&&a.isTouching(this.getLastPosition())}_pushRange(t){this._checkRange(t),this._ranges.push(new Je(t.start,t.end))}_checkRange(t){for(let s=0;s<this._ranges.length;s++)if(t.isIntersecting(this._ranges[s]))throw new B("model-selection-range-intersects",[this,t],{addedRange:t,intersectingRange:this._ranges[s]})}_replaceAllRanges(t){this._removeAllRanges();for(const s of t)this._pushRange(s)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function LU(f,t){return!t.has(f)&&(t.add(f),f.root.document.model.schema.isBlock(f)&&!!f.parent)}function xie(f,t,s){return LU(f,t)&&SP(f,s)}function BU(f,t){const s=f.parent.root.document.model.schema,a=f.parent.getAncestors({parentFirst:!0,includeSelf:!0});let d=!1;const p=a.find(w=>!d&&(d=s.isLimit(w),!d&&LU(w,t)));return a.forEach(w=>t.add(w)),p}function SP(f,t){const s=function(a){const d=a.root.document.model.schema;let p=a.parent;for(;p;){if(d.isBlock(p))return p;p=p.parent}}(f);return s?!t.containsRange(Je._createOn(s),!0):!0}function _ie(f,t){return!!f&&(!(!t.isCollapsed&&!f.isEmpty)||!t.start.isTouching(st._createAt(f,f.maxOffset))&&SP(f,t))}function kie(f,t){return!!f&&(!(!t.isCollapsed&&!f.isEmpty)||!t.end.isTouching(st._createAt(f,0))&&SP(f,t))}Da.prototype.is=function(f){return f==="selection"||f==="model:selection"};class Na extends G(Je){constructor(t,s){super(t,s),Eie.call(this)}detach(){this.stopListening()}toRange(){return new Je(this.start,this.end)}static fromRange(t){return new Na(t.start,t.end)}}function Eie(){this.listenTo(this.root.document.model,"applyOperation",(f,t)=>{const s=t[0];s.isDocumentOperation&&Sie.call(this,s)},{priority:"low"})}function Sie(f){const t=this.getTransformedByOperation(f),s=Je._createFromRanges(t),a=!s.isEqual(this),d=function(w,k){switch(k.type){case"insert":return w.containsPosition(k.position);case"move":case"remove":case"reinsert":case"merge":return w.containsPosition(k.sourcePosition)||w.start.isEqual(k.sourcePosition)||w.containsPosition(k.targetPosition);case"split":return w.containsPosition(k.splitPosition)||w.containsPosition(k.insertionPosition)}return!1}(this,f);let p=null;if(a){s.root.rootName=="$graveyard"&&(p=f.type=="remove"?f.sourcePosition:f.deletionPosition);const w=this.toRange();this.start=s.start,this.end=s.end,this.fire("change:range",w,{deletionPosition:p})}else d&&this.fire("change:content",this.toRange(),{deletionPosition:p})}Na.prototype.is=function(f){return f==="liveRange"||f==="model:liveRange"||f=="range"||f==="model:range"};const XA="selection:";class Tc extends G(Kt){constructor(t){super(),this._selection=new Aie(t),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(t){return this._selection.containsEntireContent(t)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(t){return this._selection.getAttribute(t)}hasAttribute(t){return this._selection.hasAttribute(t)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(t){this._selection.observeMarkers(t)}_setFocus(t,s){this._selection.setFocus(t,s)}_setTo(...t){this._selection.setTo(...t)}_setAttribute(t,s){this._selection.setAttribute(t,s)}_removeAttribute(t){this._selection.removeAttribute(t)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(t){this._selection.restoreGravity(t)}static _getStoreAttributeKey(t){return XA+t}static _isStoreAttributeKey(t){return t.startsWith(XA)}}Tc.prototype.is=function(f){return f==="selection"||f=="model:selection"||f=="documentSelection"||f=="model:documentSelection"};class Aie extends Da{constructor(t){super(),this.markers=new Os({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=t.model,this._document=t,this.listenTo(this._model,"applyOperation",(s,a)=>{const d=a[0];d.isDocumentOperation&&d.type!="marker"&&d.type!="rename"&&d.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(s,a,d,p)=>{this._updateMarker(a,p)}),this.listenTo(this._document,"change",(s,a)=>{(function(d,p){const w=d.document.differ;for(const k of w.getChanges()){if(k.type!="insert")continue;const D=k.position.parent;k.length===D.maxOffset&&d.enqueueChange(p,R=>{const M=Array.from(D.getAttributeKeys()).filter(L=>L.startsWith(XA));for(const L of M)R.removeAttribute(L,D)})}})(this._model,a)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let t=0;t<this._ranges.length;t++)this._ranges[t].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...t){super.setTo(...t),this._updateAttributes(!0),this.updateMarkers()}setFocus(t,s){super.setFocus(t,s),this._updateAttributes(!0),this.updateMarkers()}setAttribute(t,s){if(this._setAttribute(t,s)){const a=[t];this.fire("change:attribute",{attributeKeys:a,directChange:!0})}}removeAttribute(t){if(this._removeAttribute(t)){const s=[t];this.fire("change:attribute",{attributeKeys:s,directChange:!0})}}overrideGravity(){const t=O();return this._overriddenGravityRegister.add(t),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),t}restoreGravity(t){if(!this._overriddenGravityRegister.has(t))throw new B("document-selection-gravity-wrong-restore",this,{uid:t});this._overriddenGravityRegister.delete(t),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(t){this._observedMarkers.add(t),this.updateMarkers()}_replaceAllRanges(t){this._validateSelectionRanges(t),super._replaceAllRanges(t)}_popRange(){this._ranges.pop().detach()}_pushRange(t){const s=this._prepareRange(t);s&&this._ranges.push(s)}_validateSelectionRanges(t){for(const s of t)if(!this._document._validateSelectionRange(s))throw new B("document-selection-wrong-position",this,{range:s})}_prepareRange(t){if(this._checkRange(t),t.root==this._document.graveyard)return;const s=Na.fromRange(t);return s.on("change:range",(a,d,p)=>{if(this._hasChangedRange=!0,s.root==this._document.graveyard){this._selectionRestorePosition=p.deletionPosition;const w=this._ranges.indexOf(s);this._ranges.splice(w,1),s.detach()}}),s}updateMarkers(){if(!this._observedMarkers.size)return;const t=[];let s=!1;for(const d of this._model.markers){const p=d.name.split(":",1)[0];if(!this._observedMarkers.has(p))continue;const w=d.getRange();for(const k of this.getRanges())w.containsRange(k,!k.isCollapsed)&&t.push(d)}const a=Array.from(this.markers);for(const d of t)this.markers.has(d)||(this.markers.add(d),s=!0);for(const d of Array.from(this.markers))t.includes(d)||(this.markers.remove(d),s=!0);s&&this.fire("change:marker",{oldMarkers:a,directChange:!1})}_updateMarker(t,s){const a=t.name.split(":",1)[0];if(!this._observedMarkers.has(a))return;let d=!1;const p=Array.from(this.markers),w=this.markers.has(t);if(s){let k=!1;for(const D of this.getRanges())if(s.containsRange(D,!D.isCollapsed)){k=!0;break}k&&!w?(this.markers.add(t),d=!0):!k&&w&&(this.markers.remove(t),d=!0)}else w&&(this.markers.remove(t),d=!0);d&&this.fire("change:marker",{oldMarkers:p,directChange:!1})}_updateAttributes(t){const s=ka(this._getSurroundingAttributes()),a=ka(this.getAttributes());if(t)this._attributePriority=new Map,this._attrs=new Map;else for(const[p,w]of this._attributePriority)w=="low"&&(this._attrs.delete(p),this._attributePriority.delete(p));this._setAttributesTo(s);const d=[];for(const[p,w]of this.getAttributes())a.has(p)&&a.get(p)===w||d.push(p);for(const[p]of a)this.hasAttribute(p)||d.push(p);d.length>0&&this.fire("change:attribute",{attributeKeys:d,directChange:!1})}_setAttribute(t,s,a=!0){const d=a?"normal":"low";return d=="low"&&this._attributePriority.get(t)=="normal"?!1:super.getAttribute(t)!==s&&(this._attrs.set(t,s),this._attributePriority.set(t,d),!0)}_removeAttribute(t,s=!0){const a=s?"normal":"low";return(a!="low"||this._attributePriority.get(t)!="normal")&&(this._attributePriority.set(t,a),!!super.hasAttribute(t)&&(this._attrs.delete(t),!0))}_setAttributesTo(t){const s=new Set;for(const[a,d]of this.getAttributes())t.get(a)!==d&&this._removeAttribute(a,!1);for(const[a,d]of t)this._setAttribute(a,d,!1)&&s.add(a);return s}*getStoredAttributes(){const t=this.getFirstPosition().parent;if(this.isCollapsed&&t.isEmpty)for(const s of t.getAttributeKeys())s.startsWith(XA)&&(yield[s.substr(10),t.getAttribute(s)])}_getSurroundingAttributes(){const t=this.getFirstPosition(),s=this._model.schema;if(t.root.rootName=="$graveyard")return null;let a=null;if(this.isCollapsed){const d=t.textNode?t.textNode:t.nodeBefore,p=t.textNode?t.textNode:t.nodeAfter;if(this.isGravityOverridden||(a=Xx(d,s)),a||(a=Xx(p,s)),!this.isGravityOverridden&&!a){let w=d;for(;w&&!a;)w=w.previousSibling,a=Xx(w,s)}if(!a){let w=p;for(;w&&!a;)w=w.nextSibling,a=Xx(w,s)}a||(a=this.getStoredAttributes())}else{const d=this.getFirstRange();for(const p of d){if(p.item.is("element")&&s.isObject(p.item)){a=Xx(p.item,s);break}if(p.type=="text"){a=p.item.getAttributes();break}}}return a}_fixGraveyardSelection(t){const s=this._model.schema.getNearestSelectionRange(t);s&&this._pushRange(s)}}function Xx(f,t){if(!f)return null;if(f instanceof Vt||f instanceof Ft)return f.getAttributes();if(!t.isInline(f))return null;if(!t.isObject(f))return[];const s=[];for(const[a,d]of f.getAttributes())t.checkAttribute("$text",a)&&t.getAttributeProperties(a).copyFromObject!==!1&&s.push([a,d]);return s}class zU{constructor(t){this._dispatchers=t}add(t){for(const s of this._dispatchers)t(s);return this}}class Cie extends zU{elementToElement(t){return this.add(function(s){const a=$U(s.model),d=Kx(s.view,"container");return a.attributes.length&&(a.children=!0),p=>{p.on(`insert:${a.name}`,function(w,k=Die){return(D,R,M)=>{if(!k(R.item,M.consumable,{preflight:!0}))return;const L=w(R.item,M,R);if(!L)return;k(R.item,M.consumable);const W=M.mapper.toViewPosition(R.range.start);M.mapper.bindElements(R.item,L),M.writer.insert(W,L),M.convertAttributes(R.item),KU(L,R.item.getChildren(),M,{reconversion:R.reconversion})}}(d,XU(a)),{priority:s.converterPriority||"normal"}),(a.children||a.attributes.length)&&p.on("reduceChanges",GU(a),{priority:"low"})}}(t))}elementToStructure(t){return this.add(function(s){const a=$U(s.model),d=Kx(s.view,"container");return a.children=!0,p=>{if(p._conversionApi.schema.checkChild(a.name,"$text"))throw new B("conversion-element-to-structure-disallowed-text",p,{elementName:a.name});var w,k;p.on(`insert:${a.name}`,(w=d,k=XU(a),(D,R,M)=>{if(!k(R.item,M.consumable,{preflight:!0}))return;const L=new Map;M.writer._registerSlotFactory(function(se,le,ve){return(Pe,$e)=>{const Qe=Pe.createContainerElement("$slot");let St=null;if($e==="children")St=Array.from(se.getChildren());else{if(typeof $e!="function")throw new B("conversion-slot-mode-unknown",ve.dispatcher,{modeOrFilter:$e});St=Array.from(se.getChildren()).filter(tn=>$e(tn))}return le.set(Qe,St),Qe}}(R.item,L,M));const W=w(R.item,M,R);if(M.writer._clearSlotFactory(),!W)return;(function(se,le,ve){const Pe=Array.from(le.values()).flat(),$e=new Set(Pe);if($e.size!=Pe.length)throw new B("conversion-slot-filter-overlap",ve.dispatcher,{element:se});if($e.size!=se.childCount)throw new B("conversion-slot-filter-incomplete",ve.dispatcher,{element:se})})(R.item,L,M),k(R.item,M.consumable);const Y=M.mapper.toViewPosition(R.range.start);M.mapper.bindElements(R.item,W),M.writer.insert(Y,W),M.convertAttributes(R.item),function(se,le,ve,Pe){ve.mapper.on("modelToViewPosition",St,{priority:"highest"});let $e=null,Qe=null;for([$e,Qe]of le)KU(se,Qe,ve,Pe),ve.writer.move(ve.writer.createRangeIn($e),ve.writer.createPositionBefore($e)),ve.writer.remove($e);function St(tn,Fn){const Un=Fn.modelPosition.nodeAfter,$r=Qe.indexOf(Un);$r<0||(Fn.viewPosition=Fn.mapper.findPositionIn($e,$r))}ve.mapper.off("modelToViewPosition",St)}(W,L,M,{reconversion:R.reconversion})}),{priority:s.converterPriority||"normal"}),p.on("reduceChanges",GU(a),{priority:"low"})}}(t))}attributeToElement(t){return this.add(function(s){s=tt(s);let a=s.model;typeof a=="string"&&(a={key:a});let d=`attribute:${a.key}`;if(a.name&&(d+=":"+a.name),a.values)for(const w of a.values)s.view[w]=Kx(s.view[w],"attribute");else s.view=Kx(s.view,"attribute");const p=qU(s);return w=>{w.on(d,function(k){return(D,R,M)=>{if(!M.consumable.test(R.item,D.name))return;const L=k(R.attributeOldValue,M,R),W=k(R.attributeNewValue,M,R);if(!L&&!W)return;M.consumable.consume(R.item,D.name);const Y=M.writer,se=Y.document.selection;if(R.item instanceof Da||R.item instanceof Tc)Y.wrap(se.getFirstRange(),W);else{let le=M.mapper.toViewRange(R.range);R.attributeOldValue!==null&&L&&(le=Y.unwrap(le,L)),R.attributeNewValue!==null&&W&&Y.wrap(le,W)}}}(p),{priority:s.converterPriority||"normal"})}}(t))}attributeToAttribute(t){return this.add(function(s){s=tt(s);let a=s.model;typeof a=="string"&&(a={key:a});let d=`attribute:${a.key}`;if(a.name&&(d+=":"+a.name),a.values)for(const w of a.values)s.view[w]=HU(s.view[w]);else s.view=HU(s.view);const p=qU(s);return w=>{var k;w.on(d,(k=p,(D,R,M)=>{if(!M.consumable.test(R.item,D.name))return;const L=k(R.attributeOldValue,M,R),W=k(R.attributeNewValue,M,R);if(!L&&!W)return;M.consumable.consume(R.item,D.name);const Y=M.mapper.toViewElement(R.item),se=M.writer;if(!Y)throw new B("conversion-attribute-to-attribute-on-text",M.dispatcher,R);if(R.attributeOldValue!==null&&L)if(L.key=="class"){const le=Rn(L.value);for(const ve of le)se.removeClass(ve,Y)}else if(L.key=="style"){const le=Object.keys(L.value);for(const ve of le)se.removeStyle(ve,Y)}else se.removeAttribute(L.key,Y);if(R.attributeNewValue!==null&&W)if(W.key=="class"){const le=Rn(W.value);for(const ve of le)se.addClass(ve,Y)}else if(W.key=="style"){const le=Object.keys(W.value);for(const ve of le)se.setStyle(ve,W.value[ve],Y)}else se.setAttribute(W.key,W.value,Y)}),{priority:s.converterPriority||"normal"})}}(t))}markerToElement(t){return this.add(function(s){const a=Kx(s.view,"ui");return d=>{var p;d.on(`addMarker:${s.model}`,(p=a,(w,k,D)=>{k.isOpening=!0;const R=p(k,D);k.isOpening=!1;const M=p(k,D);if(!R||!M)return;const L=k.markerRange;if(L.isCollapsed&&!D.consumable.consume(L,w.name))return;for(const se of L)if(!D.consumable.consume(se.item,w.name))return;const W=D.mapper,Y=D.writer;Y.insert(W.toViewPosition(L.start),R),D.mapper.bindElementToMarker(R,k.markerName),L.isCollapsed||(Y.insert(W.toViewPosition(L.end),M),D.mapper.bindElementToMarker(M,k.markerName)),w.stop()}),{priority:s.converterPriority||"normal"}),d.on(`removeMarker:${s.model}`,(w,k,D)=>{const R=D.mapper.markerNameToElements(k.markerName);if(R){for(const M of R)D.mapper.unbindElementFromMarkerName(M,k.markerName),D.writer.clear(D.writer.createRangeOn(M),M);D.writer.clearClonedElementsGroup(k.markerName),w.stop()}},{priority:s.converterPriority||"normal"})}}(t))}markerToHighlight(t){return this.add(function(s){return a=>{var d;a.on(`addMarker:${s.model}`,(d=s.view,(p,w,k)=>{if(!w.item||!(w.item instanceof Da||w.item instanceof Tc||w.item.is("$textProxy")))return;const D=AP(d,w,k);if(!D||!k.consumable.consume(w.item,p.name))return;const R=k.writer,M=VU(R,D),L=R.document.selection;if(w.item instanceof Da||w.item instanceof Tc)R.wrap(L.getFirstRange(),M);else{const W=k.mapper.toViewRange(w.range),Y=R.wrap(W,M);for(const se of Y.getItems())if(se.is("attributeElement")&&se.isSimilar(M)){k.mapper.bindElementToMarker(se,w.markerName);break}}}),{priority:s.converterPriority||"normal"}),a.on(`addMarker:${s.model}`,function(p){return(w,k,D)=>{if(!k.item||!(k.item instanceof Xt))return;const R=AP(p,k,D);if(!R||!D.consumable.test(k.item,w.name))return;const M=D.mapper.toViewElement(k.item);if(M&&M.getCustomProperty("addHighlight")){D.consumable.consume(k.item,w.name);for(const L of Je._createIn(k.item))D.consumable.consume(L.item,w.name);M.getCustomProperty("addHighlight")(M,R,D.writer),D.mapper.bindElementToMarker(M,k.markerName)}}}(s.view),{priority:s.converterPriority||"normal"}),a.on(`removeMarker:${s.model}`,function(p){return(w,k,D)=>{if(k.markerRange.isCollapsed)return;const R=AP(p,k,D);if(!R)return;const M=VU(D.writer,R),L=D.mapper.markerNameToElements(k.markerName);if(L){for(const W of L)D.mapper.unbindElementFromMarkerName(W,k.markerName),W.is("attributeElement")?D.writer.unwrap(D.writer.createRangeOn(W),M):W.getCustomProperty("removeHighlight")(W,R.id,D.writer);D.writer.clearClonedElementsGroup(k.markerName),w.stop()}}}(s.view),{priority:s.converterPriority||"normal"})}}(t))}markerToData(t){return this.add(function(s){s=tt(s);const a=s.model;let d=s.view;return d||(d=p=>({group:a,name:p.substr(s.model.length+1)})),p=>{var w;p.on(`addMarker:${a}`,(w=d,(k,D,R)=>{const M=w(D.markerName,R);if(!M)return;const L=D.markerRange;R.consumable.consume(L,k.name)&&(WU(L,!1,R,D,M),WU(L,!0,R,D,M),k.stop())}),{priority:s.converterPriority||"normal"}),p.on(`removeMarker:${a}`,function(k){return(D,R,M)=>{const L=k(R.markerName,M);if(!L)return;const W=M.mapper.markerNameToElements(R.markerName);if(W){for(const se of W)M.mapper.unbindElementFromMarkerName(se,R.markerName),se.is("containerElement")?(Y(`data-${L.group}-start-before`,se),Y(`data-${L.group}-start-after`,se),Y(`data-${L.group}-end-before`,se),Y(`data-${L.group}-end-after`,se)):M.writer.clear(M.writer.createRangeOn(se),se);M.writer.clearClonedElementsGroup(R.markerName),D.stop()}function Y(se,le){if(le.hasAttribute(se)){const ve=new Set(le.getAttribute(se).split(","));ve.delete(L.name),ve.size==0?M.writer.removeAttribute(se,le):M.writer.setAttribute(se,Array.from(ve).join(","),le)}}}}(d),{priority:s.converterPriority||"normal"})}}(t))}}function VU(f,t){const s=f.createAttributeElement("span",t.attributes);return t.classes&&s._addClass(t.classes),typeof t.priority=="number"&&(s._priority=t.priority),s._id=t.id,s}function WU(f,t,s,a,d){const p=t?f.start:f.end,w=p.nodeAfter&&p.nodeAfter.is("element")?p.nodeAfter:null,k=p.nodeBefore&&p.nodeBefore.is("element")?p.nodeBefore:null;if(w||k){let D,R;t&&w||!t&&!k?(D=w,R=!0):(D=k,R=!1);const M=s.mapper.toViewElement(D);if(M)return void function(L,W,Y,se,le,ve){const Pe=`data-${ve.group}-${W?"start":"end"}-${Y?"before":"after"}`,$e=L.hasAttribute(Pe)?L.getAttribute(Pe).split(","):[];$e.unshift(ve.name),se.writer.setAttribute(Pe,$e.join(","),L),se.mapper.bindElementToMarker(L,le.markerName)}(M,t,R,s,a,d)}(function(D,R,M,L,W){const Y=`${W.group}-${R?"start":"end"}`,se=W.name?{name:W.name}:null,le=M.writer.createUIElement(Y,se);M.writer.insert(D,le),M.mapper.bindElementToMarker(le,L.markerName)})(s.mapper.toViewPosition(p),t,s,a,d)}function $U(f){return typeof f=="string"&&(f={name:f}),f.attributes?Array.isArray(f.attributes)||(f.attributes=[f.attributes]):f.attributes=[],f.children=!!f.children,f}function Kx(f,t){return typeof f=="function"?f:(s,a)=>function(d,p,w){typeof d=="string"&&(d={name:d});let k;const D=p.writer,R=Object.assign({},d.attributes);if(w=="container")k=D.createContainerElement(d.name,R);else if(w=="attribute"){const M={priority:d.priority||Dl.DEFAULT_PRIORITY};k=D.createAttributeElement(d.name,R,M)}else k=D.createUIElement(d.name,R);if(d.styles){const M=Object.keys(d.styles);for(const L of M)D.setStyle(L,d.styles[L],k)}if(d.classes){const M=d.classes;if(typeof M=="string")D.addClass(M,k);else for(const L of M)D.addClass(L,k)}return k}(f,a,t)}function qU(f){return f.model.values?(t,s,a)=>{const d=f.view[t];return d?d(t,s,a):null}:f.view}function HU(f){return typeof f=="string"?t=>({key:f,value:t}):typeof f=="object"?f.value?()=>f:t=>({key:f.key,value:t}):f}function AP(f,t,s){const a=typeof f=="function"?f(t,s):f;return a?(a.priority||(a.priority=10),a.id||(a.id=t.markerName),a):null}function GU(f){const t=function(s){return(a,d)=>{if(!a.is("element",s.name))return!1;if(d.type=="attribute"){if(s.attributes.includes(d.attributeKey))return!0}else if(s.children)return!0;return!1}}(f);return(s,a)=>{const d=[];a.reconvertedElements||(a.reconvertedElements=new Set);for(const p of a.changes){const w=p.type=="attribute"?p.range.start.nodeAfter:p.position.parent;if(w&&t(w,p)){if(!a.reconvertedElements.has(w)){a.reconvertedElements.add(w);const k=st._createBefore(w);let D=d.length;for(let R=d.length-1;R>=0;R--){const M=d[R],L=(M.type=="attribute"?M.range.start:M.position).compareWith(k);if(L=="before"||M.type=="remove"&&L=="same")break;D=R}d.splice(D,0,{type:"remove",name:w.name,position:k,length:1},{type:"reinsert",name:w.name,position:k,length:1})}}else d.push(p)}a.changes=d}}function XU(f){return(t,s,a={})=>{const d=["insert"];for(const p of f.attributes)t.hasAttribute(p)&&d.push(`attribute:${p}`);return!!d.every(p=>s.test(t,p))&&(a.preflight||d.forEach(p=>s.consume(t,p)),!0)}}function KU(f,t,s,a){for(const d of t)Tie(f.root,d,s,a)||s.convertItem(d)}function Tie(f,t,s,a){const{writer:d,mapper:p}=s;if(!a.reconversion)return!1;const w=p.toViewElement(t);return!(!w||w.root==f)&&!!s.canReuseView(w)&&(d.move(d.createRangeOn(w),p.toViewPosition(st._createBefore(t))),!0)}function Die(f,t,{preflight:s}={}){return s?t.test(f,"insert"):t.consume(f,"insert")}function ZU(f){const{schema:t,document:s}=f.model;for(const a of s.getRoots())if(a.isEmpty&&!t.checkChild(a,"$text")&&t.checkChild(a,"paragraph"))return f.insertElement("paragraph",a),!0;return!1}function YU(f,t,s){const a=s.createContext(f);return!!s.checkChild(a,"paragraph")&&!!s.checkChild(a.push("paragraph"),t)}function JU(f,t){const s=t.createElement("paragraph");return t.insert(s,f),t.createPositionAt(s,0)}class Nie extends zU{elementToElement(t){return this.add(QU(t))}elementToAttribute(t){return this.add(function(s){s=tt(s),eL(s);const a=tL(s,!1),d=CP(s.view),p=d?`element:${d}`:"element";return w=>{w.on(p,a,{priority:s.converterPriority||"low"})}}(t))}attributeToAttribute(t){return this.add(function(s){s=tt(s);let a=null;(typeof s.view=="string"||s.view.key)&&(a=function(p){typeof p.view=="string"&&(p.view={key:p.view});const w=p.view.key;let k;return w=="class"||w=="style"?k={[w=="class"?"classes":"styles"]:p.view.value}:k={attributes:{[w]:p.view.value===void 0?/[\s\S]*/:p.view.value}},p.view.name&&(k.name=p.view.name),p.view=k,w}(s)),eL(s,a);const d=tL(s,!0);return p=>{p.on("element",d,{priority:s.converterPriority||"low"})}}(t))}elementToMarker(t){return this.add(function(s){const a=function(d){return(p,w)=>{const k=typeof d=="string"?d:d(p,w);return w.writer.createElement("$marker",{"data-name":k})}}(s.model);return QU({...s,model:a})}(t))}dataToMarker(t){return this.add(function(s){s=tt(s),s.model||(s.model=w=>w?s.view+":"+w:s.view);const a={view:s.view,model:s.model},d=TP(nL(a,"start")),p=TP(nL(a,"end"));return w=>{w.on(`element:${s.view}-start`,d,{priority:s.converterPriority||"normal"}),w.on(`element:${s.view}-end`,p,{priority:s.converterPriority||"normal"});const k=F.low,D=F.highest,R=F.get(s.converterPriority)/D;w.on("element",function(M){return(L,W,Y)=>{const se=`data-${M.view}`;function le(ve,Pe){for(const $e of Pe){const Qe=M.model($e,Y),St=Y.writer.createElement("$marker",{"data-name":Qe});Y.writer.insert(St,ve),W.modelCursor.isEqual(ve)?W.modelCursor=W.modelCursor.getShiftedBy(1):W.modelCursor=W.modelCursor._getTransformedByInsertion(ve,1),W.modelRange=W.modelRange._getTransformedByInsertion(ve,1)[0]}}(Y.consumable.test(W.viewItem,{attributes:se+"-end-after"})||Y.consumable.test(W.viewItem,{attributes:se+"-start-after"})||Y.consumable.test(W.viewItem,{attributes:se+"-end-before"})||Y.consumable.test(W.viewItem,{attributes:se+"-start-before"}))&&(W.modelRange||Object.assign(W,Y.convertChildren(W.viewItem,W.modelCursor)),Y.consumable.consume(W.viewItem,{attributes:se+"-end-after"})&&le(W.modelRange.end,W.viewItem.getAttribute(se+"-end-after").split(",")),Y.consumable.consume(W.viewItem,{attributes:se+"-start-after"})&&le(W.modelRange.end,W.viewItem.getAttribute(se+"-start-after").split(",")),Y.consumable.consume(W.viewItem,{attributes:se+"-end-before"})&&le(W.modelRange.start,W.viewItem.getAttribute(se+"-end-before").split(",")),Y.consumable.consume(W.viewItem,{attributes:se+"-start-before"})&&le(W.modelRange.start,W.viewItem.getAttribute(se+"-start-before").split(",")))}}(a),{priority:k+R})}}(t))}}function QU(f){const t=TP(f=tt(f)),s=CP(f.view),a=s?`element:${s}`:"element";return d=>{d.on(a,t,{priority:f.converterPriority||"normal"})}}function CP(f){return typeof f=="string"?f:typeof f=="object"&&typeof f.name=="string"?f.name:null}function TP(f){const t=new Cu(f.view);return(s,a,d)=>{const p=t.match(a.viewItem);if(!p)return;const w=p.match;if(w.name=!0,!d.consumable.test(a.viewItem,w))return;const k=function(D,R,M){return D instanceof Function?D(R,M):M.writer.createElement(D)}(f.model,a.viewItem,d);k&&d.safeInsert(k,a.modelCursor)&&(d.consumable.consume(a.viewItem,w),d.convertChildren(a.viewItem,k),d.updateConversionResult(k,a))}}function eL(f,t=null){const s=t===null||(p=>p.getAttribute(t)),a=typeof f.model!="object"?f.model:f.model.key,d=typeof f.model!="object"||f.model.value===void 0?s:f.model.value;f.model={key:a,value:d}}function tL(f,t){const s=new Cu(f.view);return(a,d,p)=>{if(!d.modelRange&&t)return;const w=s.match(d.viewItem);if(!w||(function(M,L){const W=typeof M=="function"?M(L):M;return typeof W=="object"&&!CP(W)?!1:!W.classes&&!W.attributes&&!W.styles}(f.view,d.viewItem)?w.match.name=!0:delete w.match.name,!p.consumable.test(d.viewItem,w.match)))return;const k=f.model.key,D=typeof f.model.value=="function"?f.model.value(d.viewItem,p):f.model.value;if(D===null)return;d.modelRange||Object.assign(d,p.convertChildren(d.viewItem,d.modelCursor)),function(M,L,W,Y){let se=!1;for(const le of Array.from(M.getItems({shallow:W})))Y.schema.checkAttribute(le,L.key)&&(se=!0,le.hasAttribute(L.key)||Y.writer.setAttribute(L.key,L.value,le));return se}(d.modelRange,{key:k,value:D},t,p)&&(p.consumable.test(d.viewItem,{name:!0})&&(w.match.name=!0),p.consumable.consume(d.viewItem,w.match))}}function nL(f,t){return{view:`${f.view}-${t}`,model:(s,a)=>{const d=s.getAttribute("name"),p=f.model(d,a);return a.writer.createElement("$marker",{"data-name":p})}}}function Pie(f){f.document.registerPostFixer(t=>function(s,a){const d=a.document.selection,p=a.schema,w=[];let k=!1;for(const D of d.getRanges()){const R=iL(D,p);R&&!R.isEqual(D)?(w.push(R),k=!0):w.push(D)}return k&&s.setSelection(function(D){const R=[...D],M=new Set;let L=1;for(;L<R.length;){const W=R[L],Y=R.slice(0,L);for(const[se,le]of Y.entries())if(!M.has(se)){if(W.isEqual(le))M.add(se);else if(W.isIntersecting(le)){M.add(se),M.add(L);const ve=W.getJoined(le);R.push(ve)}}L++}return R.filter((W,Y)=>!M.has(Y))}(w),{backward:d.isBackward}),!1}(t,f))}function iL(f,t){return f.isCollapsed?function(s,a){const d=s.start,p=a.getNearestSelectionRange(d);if(!p){const k=d.getAncestors().reverse().find(D=>a.isObject(D));return k?Je._createOn(k):null}if(!p.isCollapsed)return p;const w=p.start;return d.isEqual(w)?null:new Je(w)}(f,t):function(s,a){const{start:d,end:p}=s,w=a.checkChild(d,"$text"),k=a.checkChild(p,"$text"),D=a.getLimitElement(d),R=a.getLimitElement(p);if(D===R){if(w&&k)return null;if(function(W,Y,se){const le=W.nodeAfter&&!se.isLimit(W.nodeAfter)||se.checkChild(W,"$text"),ve=Y.nodeBefore&&!se.isLimit(Y.nodeBefore)||se.checkChild(Y,"$text");return le||ve}(d,p,a)){const W=d.nodeAfter&&a.isSelectable(d.nodeAfter)?null:a.getNearestSelectionRange(d,"forward"),Y=p.nodeBefore&&a.isSelectable(p.nodeBefore)?null:a.getNearestSelectionRange(p,"backward"),se=W?W.start:d,le=Y?Y.end:p;return new Je(se,le)}}const M=D&&!D.is("rootElement"),L=R&&!R.is("rootElement");if(M||L){const W=d.nodeAfter&&p.nodeBefore&&d.nodeAfter.parent===p.nodeBefore.parent,Y=M&&(!W||!sL(d.nodeAfter,a)),se=L&&(!W||!sL(p.nodeBefore,a));let le=d,ve=p;return Y&&(le=st._createBefore(rL(D,a))),se&&(ve=st._createAfter(rL(R,a))),new Je(le,ve)}return null}(f,t)}function rL(f,t){let s=f,a=s;for(;t.isLimit(a)&&a.parent;)s=a,a=a.parent;return s}function sL(f,t){return f&&t.isSelectable(f)}class Iie extends Be(){constructor(t,s){super(),this.model=t,this.view=new rt(s),this.mapper=new OU,this.downcastDispatcher=new FU({mapper:this.mapper,schema:t.schema});const a=this.model.document,d=a.selection,p=this.model.markers;var w,k,D;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(a,"change",()=>{this.view.change(R=>{this.downcastDispatcher.convertChanges(a.differ,p,R),this.downcastDispatcher.convertSelection(d,p,R)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(R,M){return(L,W)=>{const Y=W.newSelection,se=[];for(const ve of Y.getRanges())se.push(M.toModelRange(ve));const le=R.createSelection(se,{backward:Y.isBackward});le.isEqual(R.document.selection)||R.change(ve=>{ve.setSelection(le)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(w=this.mapper,k=this.model.schema,D=this.view,(R,M)=>{if(!D.document.isComposing||y.isAndroid)for(let L=0;L<M.targetRanges.length;L++){const W=M.targetRanges[L],Y=w.toModelRange(W),se=iL(Y,k);se&&!se.isEqual(Y)&&(M.targetRanges[L]=w.toViewRange(se))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(R,M,L)=>{if(!L.consumable.consume(M.item,R.name))return;const W=L.writer,Y=L.mapper.toViewPosition(M.range.start),se=W.createText(M.item.data);W.insert(Y,se)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(R,M,L)=>{L.convertAttributes(M.item),M.reconversion||!M.item.is("element")||M.item.isEmpty||L.convertChildren(M.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(R,M,L)=>{const W=L.mapper.toViewPosition(M.position),Y=M.position.getShiftedBy(M.length),se=L.mapper.toViewPosition(Y,{isPhantom:!0}),le=L.writer.createRange(W,se),ve=L.writer.remove(le.getTrimmed());for(const Pe of L.writer.createRangeIn(ve).getItems())L.mapper.unbindViewElement(Pe,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(R,M,L)=>{const W=L.writer,Y=W.document.selection;for(const se of Y.getRanges())se.isCollapsed&&se.end.parent.isAttached()&&L.writer.mergeAttributes(se.start);W.setSelection(null)}),this.downcastDispatcher.on("selection",(R,M,L)=>{const W=M.selection;if(W.isCollapsed||!L.consumable.consume(W,"selection"))return;const Y=[];for(const se of W.getRanges())Y.push(L.mapper.toViewRange(se));L.writer.setSelection(Y,{backward:W.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(R,M,L)=>{const W=M.selection;if(!W.isCollapsed||!L.consumable.consume(W,"selection"))return;const Y=L.writer,se=W.getFirstPosition(),le=L.mapper.toViewPosition(se),ve=Y.breakAttributes(le);Y.setSelection(ve)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(R=>{if(R.rootName=="$graveyard")return null;const M=new Ly(this.view.document,R.name);return M.rootName=R.rootName,this.mapper.bindElements(R,M),M})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(t){const s=typeof t=="string"?t:t.name,a=this.model.markers.get(s);if(!a)throw new B("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:s});this.model.change(()=>{this.model.markers._refresh(a)})}reconvertItem(t){this.model.change(()=>{this.model.document.differ._refreshItem(t)})}}class Zx{constructor(){this._consumables=new Map}add(t,s){let a;t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):(this._consumables.has(t)?a=this._consumables.get(t):(a=new jie(t),this._consumables.set(t,a)),a.add(s))}test(t,s){const a=this._consumables.get(t);return a===void 0?null:t.is("$text")||t.is("documentFragment")?a:a.test(s)}consume(t,s){return!!this.test(t,s)&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!1):this._consumables.get(t).consume(s),!0)}revert(t,s){const a=this._consumables.get(t);a!==void 0&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):a.revert(s))}static consumablesFromElement(t){const s={element:t,name:!0,attributes:[],classes:[],styles:[]},a=t.getAttributeKeys();for(const w of a)w!="style"&&w!="class"&&s.attributes.push(w);const d=t.getClassNames();for(const w of d)s.classes.push(w);const p=t.getStyleNames();for(const w of p)s.styles.push(w);return s}static createFrom(t,s){if(s||(s=new Zx),t.is("$text"))return s.add(t),s;t.is("element")&&s.add(t,Zx.consumablesFromElement(t)),t.is("documentFragment")&&s.add(t);for(const a of t.getChildren())s=Zx.createFrom(a,s);return s}}const KA=["attributes","classes","styles"];class jie{constructor(t){this.element=t,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(t){t.name&&(this._canConsumeName=!0);for(const s of KA)s in t&&this._add(s,t[s])}test(t){if(t.name&&!this._canConsumeName)return this._canConsumeName;for(const s of KA)if(s in t){const a=this._test(s,t[s]);if(a!==!0)return a}return!0}consume(t){t.name&&(this._canConsumeName=!1);for(const s of KA)s in t&&this._consume(s,t[s])}revert(t){t.name&&(this._canConsumeName=!0);for(const s of KA)s in t&&this._revert(s,t[s])}_add(t,s){const a=qt(s)?s:[s],d=this._consumables[t];for(const p of a){if(t==="attributes"&&(p==="class"||p==="style"))throw new B("viewconsumable-invalid-attribute",this);if(d.set(p,!0),t==="styles")for(const w of this.element.document.stylesProcessor.getRelatedStyles(p))d.set(w,!0)}}_test(t,s){const a=qt(s)?s:[s],d=this._consumables[t];for(const p of a)if(t!=="attributes"||p!=="class"&&p!=="style"){const w=d.get(p);if(w===void 0)return null;if(!w)return!1}else{const w=p=="class"?"classes":"styles",k=this._test(w,[...this._consumables[w].keys()]);if(k!==!0)return k}return!0}_consume(t,s){const a=qt(s)?s:[s],d=this._consumables[t];for(const p of a)if(t!=="attributes"||p!=="class"&&p!=="style"){if(d.set(p,!1),t=="styles")for(const w of this.element.document.stylesProcessor.getRelatedStyles(p))d.set(w,!1)}else{const w=p=="class"?"classes":"styles";this._consume(w,[...this._consumables[w].keys()])}}_revert(t,s){const a=qt(s)?s:[s],d=this._consumables[t];for(const p of a)if(t!=="attributes"||p!=="class"&&p!=="style")d.get(p)===!1&&d.set(p,!0);else{const w=p=="class"?"classes":"styles";this._revert(w,[...this._consumables[w].keys()])}}}class Rie extends Be(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(t,s)=>{s[0]=new Lg(s[0])},{priority:"highest"}),this.on("checkChild",(t,s)=>{s[0]=new Lg(s[0]),s[1]=this.getDefinition(s[1])},{priority:"highest"})}register(t,s){if(this._sourceDefinitions[t])throw new B("schema-cannot-register-item-twice",this,{itemName:t});this._sourceDefinitions[t]=[Object.assign({},s)],this._clearCache()}extend(t,s){if(!this._sourceDefinitions[t])throw new B("schema-cannot-extend-missing-item",this,{itemName:t});this._sourceDefinitions[t].push(Object.assign({},s)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(t){let s;return s=typeof t=="string"?t:"is"in t&&(t.is("$text")||t.is("$textProxy"))?"$text":t.name,this.getDefinitions()[s]}isRegistered(t){return!!this.getDefinition(t)}isBlock(t){const s=this.getDefinition(t);return!(!s||!s.isBlock)}isLimit(t){const s=this.getDefinition(t);return!!s&&!(!s.isLimit&&!s.isObject)}isObject(t){const s=this.getDefinition(t);return!!s&&!!(s.isObject||s.isLimit&&s.isSelectable&&s.isContent)}isInline(t){const s=this.getDefinition(t);return!(!s||!s.isInline)}isSelectable(t){const s=this.getDefinition(t);return!!s&&!(!s.isSelectable&&!s.isObject)}isContent(t){const s=this.getDefinition(t);return!!s&&!(!s.isContent&&!s.isObject)}checkChild(t,s){return!!s&&this._checkContextMatch(s,t)}checkAttribute(t,s){const a=this.getDefinition(t.last);return!!a&&a.allowAttributes.includes(s)}checkMerge(t,s){if(t instanceof st){const a=t.nodeBefore,d=t.nodeAfter;if(!(a instanceof Xt))throw new B("schema-check-merge-no-element-before",this);if(!(d instanceof Xt))throw new B("schema-check-merge-no-element-after",this);return this.checkMerge(a,d)}for(const a of s.getChildren())if(!this.checkChild(t,a))return!1;return!0}addChildCheck(t){this.on("checkChild",(s,[a,d])=>{if(!d)return;const p=t(a,d);typeof p=="boolean"&&(s.stop(),s.return=p)},{priority:"high"})}addAttributeCheck(t){this.on("checkAttribute",(s,[a,d])=>{const p=t(a,d);typeof p=="boolean"&&(s.stop(),s.return=p)},{priority:"high"})}setAttributeProperties(t,s){this._attributeProperties[t]=Object.assign(this.getAttributeProperties(t),s)}getAttributeProperties(t){return this._attributeProperties[t]||{}}getLimitElement(t){let s;for(t instanceof st?s=t.parent:s=(t instanceof Je?[t]:Array.from(t.getRanges())).reduce((a,d)=>{const p=d.getCommonAncestor();return a?a.getCommonAncestor(p,{includeSelf:!0}):p},null);!this.isLimit(s)&&s.parent;)s=s.parent;return s}checkAttributeInSelection(t,s){if(t.isCollapsed){const a=[...t.getFirstPosition().getAncestors(),new Ft("",t.getAttributes())];return this.checkAttribute(a,s)}{const a=t.getRanges();for(const d of a)for(const p of d)if(this.checkAttribute(p.item,s))return!0}return!1}*getValidRanges(t,s){t=function*(a){for(const d of a)yield*d.getMinimalFlatRanges()}(t);for(const a of t)yield*this._getValidRangesForRange(a,s)}getNearestSelectionRange(t,s="both"){if(t.root.rootName=="$graveyard")return null;if(this.checkChild(t,"$text"))return new Je(t);let a,d;const p=t.getAncestors().reverse().find(w=>this.isLimit(w))||t.root;s!="both"&&s!="backward"||(a=new jl({boundaries:Je._createIn(p),startPosition:t,direction:"backward"})),s!="both"&&s!="forward"||(d=new jl({boundaries:Je._createIn(p),startPosition:t}));for(const w of function*(k,D){let R=!1;for(;!R;){if(R=!0,k){const M=k.next();M.done||(R=!1,yield{walker:k,value:M.value})}if(D){const M=D.next();M.done||(R=!1,yield{walker:D,value:M.value})}}}(a,d)){const k=w.walker==a?"elementEnd":"elementStart",D=w.value;if(D.type==k&&this.isObject(D.item))return Je._createOn(D.item);if(this.checkChild(D.nextPosition,"$text"))return new Je(D.nextPosition)}return null}findAllowedParent(t,s){let a=t.parent;for(;a;){if(this.checkChild(a,s))return a;if(this.isLimit(a))return null;a=a.parent}return null}setAllowedAttributes(t,s,a){const d=a.model;for(const[p,w]of Object.entries(s))d.schema.checkAttribute(t,p)&&a.setAttribute(p,w,t)}removeDisallowedAttributes(t,s){for(const a of t)if(a.is("$text"))oL(this,a,s);else{const d=Je._createIn(a).getPositions();for(const p of d)oL(this,p.nodeBefore||p.parent,s)}}getAttributesWithProperty(t,s,a){const d={};for(const[p,w]of t.getAttributes()){const k=this.getAttributeProperties(p);k[s]!==void 0&&(a!==void 0&&a!==k[s]||(d[p]=w))}return d}createContext(t){return new Lg(t)}_clearCache(){this._compiledDefinitions=null}_compile(){const t={},s=this._sourceDefinitions,a=Object.keys(s);for(const d of a)t[d]=Mie(s[d],d);for(const d of a)Oie(t,d);for(const d of a)Fie(t,d);for(const d of a)Uie(t,d);for(const d of a)Lie(t,d),Bie(t,d);for(const d of a)zie(t,d),Vie(t,d),Wie(t,d);this._compiledDefinitions=t}_checkContextMatch(t,s,a=s.length-1){const d=s.getItem(a);if(t.allowIn.includes(d.name)){if(a==0)return!0;{const p=this.getDefinition(d);return this._checkContextMatch(p,s,a-1)}}return!1}*_getValidRangesForRange(t,s){let a=t.start,d=t.start;for(const p of t.getItems({shallow:!0}))p.is("element")&&(yield*this._getValidRangesForRange(Je._createIn(p),s)),this.checkAttribute(p,s)||(a.isEqual(d)||(yield new Je(a,d)),a=st._createAfter(p)),d=st._createAfter(p);a.isEqual(d)||(yield new Je(a,d))}}class Lg{constructor(t){if(t instanceof Lg)return t;let s;s=typeof t=="string"?[t]:Array.isArray(t)?t:t.getAncestors({includeSelf:!0}),this._items=s.map(qie)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(t){const s=new Lg([t]);return s._items=[...this._items,...s._items],s}getItem(t){return this._items[t]}*getNames(){yield*this._items.map(t=>t.name)}endsWith(t){return Array.from(this.getNames()).join(" ").endsWith(t)}startsWith(t){return Array.from(this.getNames()).join(" ").startsWith(t)}}function Mie(f,t){const s={name:t,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(a,d){for(const p of a){const w=Object.keys(p).filter(k=>k.startsWith("is"));for(const k of w)d[k]=!!p[k]}}(f,s),Bg(f,s,"allowIn"),Bg(f,s,"allowContentOf"),Bg(f,s,"allowWhere"),Bg(f,s,"allowAttributes"),Bg(f,s,"allowAttributesOf"),Bg(f,s,"allowChildren"),Bg(f,s,"inheritTypesFrom"),function(a,d){for(const p of a){const w=p.inheritAllFrom;w&&(d.allowContentOf.push(w),d.allowWhere.push(w),d.allowAttributesOf.push(w),d.inheritTypesFrom.push(w))}}(f,s),s}function Oie(f,t){const s=f[t];for(const a of s.allowChildren){const d=f[a];d&&d.allowIn.push(t)}s.allowChildren.length=0}function Fie(f,t){for(const s of f[t].allowContentOf)f[s]&&$ie(f,s).forEach(a=>{a.allowIn.push(t)});delete f[t].allowContentOf}function Uie(f,t){for(const s of f[t].allowWhere){const a=f[s];if(a){const d=a.allowIn;f[t].allowIn.push(...d)}}delete f[t].allowWhere}function Lie(f,t){for(const s of f[t].allowAttributesOf){const a=f[s];if(a){const d=a.allowAttributes;f[t].allowAttributes.push(...d)}}delete f[t].allowAttributesOf}function Bie(f,t){const s=f[t];for(const a of s.inheritTypesFrom){const d=f[a];if(d){const p=Object.keys(d).filter(w=>w.startsWith("is"));for(const w of p)w in s||(s[w]=d[w])}}delete s.inheritTypesFrom}function zie(f,t){const s=f[t],a=s.allowIn.filter(d=>f[d]);s.allowIn=Array.from(new Set(a))}function Vie(f,t){const s=f[t];for(const a of s.allowIn)f[a].allowChildren.push(t)}function Wie(f,t){const s=f[t];s.allowAttributes=Array.from(new Set(s.allowAttributes))}function Bg(f,t,s){for(const a of f){const d=a[s];typeof d=="string"?t[s].push(d):Array.isArray(d)&&t[s].push(...d)}}function $ie(f,t){const s=f[t];return(a=f,Object.keys(a).map(d=>a[d])).filter(d=>d.allowIn.includes(s.name));var a}function qie(f){return typeof f=="string"||f.is("documentFragment")?{name:typeof f=="string"?f:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:f.is("element")?f.name:"$text",*getAttributeKeys(){yield*f.getAttributeKeys()},getAttribute:t=>f.getAttribute(t)}}function oL(f,t,s){for(const a of t.getAttributeKeys())f.checkAttribute(t,a)||s.removeAttribute(a,t)}class Hie extends G(){constructor(t){super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi={...t,consumable:null,writer:null,store:null,convertItem:(s,a)=>this._convertItem(s,a),convertChildren:(s,a)=>this._convertChildren(s,a),safeInsert:(s,a)=>this._safeInsert(s,a),updateConversionResult:(s,a)=>this._updateConversionResult(s,a),splitToAllowedParent:(s,a)=>this._splitToAllowedParent(s,a),getSplitParts:s=>this._getSplitParts(s),keepEmptyElement:s=>this._keepEmptyElement(s)}}convert(t,s,a=["$root"]){this.fire("viewCleanup",t),this._modelCursor=function(w,k){let D;for(const R of new Lg(w)){const M={};for(const W of R.getAttributeKeys())M[W]=R.getAttribute(W);const L=k.createElement(R.name,M);D&&k.insert(L,D),D=st._createAt(L,0)}return D}(a,s),this.conversionApi.writer=s,this.conversionApi.consumable=Zx.createFrom(t),this.conversionApi.store={};const{modelRange:d}=this._convertItem(t,this._modelCursor),p=s.createDocumentFragment();if(d){this._removeEmptyElements();for(const w of Array.from(this._modelCursor.parent.getChildren()))s.append(w,p);p.markers=function(w,k){const D=new Set,R=new Map,M=Je._createIn(w).getItems();for(const L of M)L.is("element","$marker")&&D.add(L);for(const L of D){const W=L.getAttribute("data-name"),Y=k.createPositionBefore(L);R.has(W)?R.get(W).end=Y.clone():R.set(W,new Je(Y.clone())),k.remove(L)}return R}(p,s)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,p}_convertItem(t,s){const a={viewItem:t,modelCursor:s,modelRange:null};if(t.is("element")?this.fire(`element:${t.name}`,a,this.conversionApi):t.is("$text")?this.fire("text",a,this.conversionApi):this.fire("documentFragment",a,this.conversionApi),a.modelRange&&!(a.modelRange instanceof Je))throw new B("view-conversion-dispatcher-incorrect-result",this);return{modelRange:a.modelRange,modelCursor:a.modelCursor}}_convertChildren(t,s){let a=s.is("position")?s:st._createAt(s,0);const d=new Je(a);for(const p of Array.from(t.getChildren())){const w=this._convertItem(p,a);w.modelRange instanceof Je&&(d.end=w.modelRange.end,a=w.modelCursor)}return{modelRange:d,modelCursor:a}}_safeInsert(t,s){const a=this._splitToAllowedParent(t,s);return!!a&&(this.conversionApi.writer.insert(t,a.position),!0)}_updateConversionResult(t,s){const a=this._getSplitParts(t),d=this.conversionApi.writer;s.modelRange||(s.modelRange=d.createRange(d.createPositionBefore(t),d.createPositionAfter(a[a.length-1])));const p=this._cursorParents.get(t);s.modelCursor=p?d.createPositionAt(p,0):s.modelRange.end}_splitToAllowedParent(t,s){const{schema:a,writer:d}=this.conversionApi;let p=a.findAllowedParent(s,t);if(p){if(p===s.parent)return{position:s};this._modelCursor.parent.getAncestors().includes(p)&&(p=null)}if(!p)return YU(s,t,a)?{position:JU(s,d)}:null;const w=this.conversionApi.writer.split(s,p),k=[];for(const R of w.range.getWalker())if(R.type=="elementEnd")k.push(R.item);else{const M=k.pop(),L=R.item;this._registerSplitPair(M,L)}const D=w.range.end.parent;return this._cursorParents.set(t,D),{position:w.position,cursorParent:D}}_registerSplitPair(t,s){this._splitParts.has(t)||this._splitParts.set(t,[t]);const a=this._splitParts.get(t);this._splitParts.set(s,a),a.push(s)}_getSplitParts(t){let s;return s=this._splitParts.has(t)?this._splitParts.get(t):[t],s}_keepEmptyElement(t){this._emptyElementsToKeep.add(t)}_removeEmptyElements(){let t=!1;for(const s of this._splitParts.keys())s.isEmpty&&!this._emptyElementsToKeep.has(s)&&(this.conversionApi.writer.remove(s),this._splitParts.delete(s),t=!0);t&&this._removeEmptyElements()}}class Gie{getHtml(t){const s=document.implementation.createHTMLDocument("").createElement("div");return s.appendChild(t),s.innerHTML}}class Xie{constructor(t){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new WA(t,{renderingMode:"data"}),this.htmlWriter=new Gie}toData(t){const s=this.domConverter.viewToDom(t);return this.htmlWriter.getHtml(s)}toView(t){const s=this._toDom(t);return this.domConverter.domToView(s,{skipComments:this.skipComments})}registerRawContentMatcher(t){this.domConverter.registerRawContentMatcher(t)}useFillerType(t){this.domConverter.blockFillerMode=t=="marked"?"markedNbsp":"nbsp"}_toDom(t){t.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(t=`<body>${t}</body>`);const s=this.domParser.parseFromString(t,"text/html"),a=s.createDocumentFragment(),d=s.body.childNodes;for(;d.length>0;)a.appendChild(d[0]);return a}}class Kie extends G(){constructor(t,s){super(),this.model=t,this.mapper=new OU,this.downcastDispatcher=new FU({mapper:this.mapper,schema:t.schema}),this.downcastDispatcher.on("insert:$text",(a,d,p)=>{if(!p.consumable.consume(d.item,a.name))return;const w=p.writer,k=p.mapper.toViewPosition(d.range.start),D=w.createText(d.item.data);w.insert(k,D)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(a,d,p)=>{p.convertAttributes(d.item),d.reconversion||!d.item.is("element")||d.item.isEmpty||p.convertChildren(d.item)},{priority:"lowest"}),this.upcastDispatcher=new Hie({schema:t.schema}),this.viewDocument=new fr(s),this.stylesProcessor=s,this.htmlProcessor=new Xie(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new Pg(this.viewDocument),this.upcastDispatcher.on("text",(a,d,{schema:p,consumable:w,writer:k})=>{let D=d.modelCursor;if(!w.test(d.viewItem))return;if(!p.checkChild(D,"$text")){if(!YU(D,"$text",p)||d.viewItem.data.trim().length==0)return;const M=D.nodeBefore;D=JU(D,k),M&&M.is("element","$marker")&&(k.move(k.createRangeOn(M),D),D=k.createPositionAfter(M))}w.consume(d.viewItem);const R=k.createText(d.viewItem.data);k.insert(R,D),d.modelRange=k.createRange(D,D.getShiftedBy(R.offsetSize)),d.modelCursor=d.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(a,d,p)=>{if(!d.modelRange&&p.consumable.consume(d.viewItem,{name:!0})){const{modelRange:w,modelCursor:k}=p.convertChildren(d.viewItem,d.modelCursor);d.modelRange=w,d.modelCursor=k}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(a,d,p)=>{if(!d.modelRange&&p.consumable.consume(d.viewItem,{name:!0})){const{modelRange:w,modelCursor:k}=p.convertChildren(d.viewItem,d.modelCursor);d.modelRange=w,d.modelCursor=k}},{priority:"lowest"}),Be().prototype.decorate.call(this,"init"),Be().prototype.decorate.call(this,"set"),Be().prototype.decorate.call(this,"get"),Be().prototype.decorate.call(this,"toView"),Be().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},ZU)},{priority:"lowest"})}get(t={}){const{rootName:s="main",trim:a="empty"}=t;if(!this._checkIfRootsExists([s]))throw new B("datacontroller-get-non-existent-root",this);const d=this.model.document.getRoot(s);return d.isAttached()||Z("datacontroller-get-detached-root",this),a!=="empty"||this.model.hasContent(d,{ignoreWhitespaces:!0})?this.stringify(d,t):""}stringify(t,s={}){const a=this.toView(t,s);return this.processor.toData(a)}toView(t,s={}){const a=this.viewDocument,d=this._viewWriter;this.mapper.clearBindings();const p=Je._createIn(t),w=new xt(a);this.mapper.bindElements(t,w);const k=t.is("documentFragment")?t.markers:function(D){const R=[],M=D.root.document;if(!M)return new Map;const L=Je._createIn(D);for(const W of M.model.markers){const Y=W.getRange(),se=Y.isCollapsed,le=Y.start.isEqual(L.start)||Y.end.isEqual(L.end);if(se&&le)R.push([W.name,Y]);else{const ve=L.getIntersection(Y);ve&&R.push([W.name,ve])}}return R.sort(([W,Y],[se,le])=>{if(Y.end.compareWith(le.start)!=="after")return 1;if(Y.start.compareWith(le.end)!=="before")return-1;switch(Y.start.compareWith(le.start)){case"before":return 1;case"after":return-1;default:switch(Y.end.compareWith(le.end)){case"before":return 1;case"after":return-1;default:return se.localeCompare(W)}}}),new Map(R)}(t);return this.downcastDispatcher.convert(p,k,d,s),w}init(t){if(this.model.document.version)throw new B("datacontroller-init-document-not-empty",this);let s={};if(typeof t=="string"?s.main=t:s=t,!this._checkIfRootsExists(Object.keys(s)))throw new B("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},a=>{for(const d of Object.keys(s)){const p=this.model.document.getRoot(d);a.insert(this.parse(s[d],p),p,0)}}),Promise.resolve()}set(t,s={}){let a={};if(typeof t=="string"?a.main=t:a=t,!this._checkIfRootsExists(Object.keys(a)))throw new B("datacontroller-set-non-existent-root",this);this.model.enqueueChange(s.batchType||{},d=>{d.setSelection(null),d.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const p of Object.keys(a)){const w=this.model.document.getRoot(p);d.remove(d.createRangeIn(w)),d.insert(this.parse(a[p],w),w,0)}})}parse(t,s="$root"){const a=this.processor.toView(t);return this.toModel(a,s)}toModel(t,s="$root"){return this.model.change(a=>this.upcastDispatcher.convert(t,a,s))}addStyleProcessorRules(t){t(this.stylesProcessor)}registerRawContentMatcher(t){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(t),this.htmlProcessor.registerRawContentMatcher(t)}destroy(){this.stopListening()}_checkIfRootsExists(t){for(const s of t)if(!this.model.document.getRoot(s))return!1;return!0}}class Zie{constructor(t,s){this._helpers=new Map,this._downcast=Rn(t),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Rn(s),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(t,s){const a=this._downcast.includes(s);if(!this._upcast.includes(s)&&!a)throw new B("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:t,dispatchers:[s],isDowncast:a})}for(t){if(!this._helpers.has(t))throw new B("conversion-for-unknown-group",this);return this._helpers.get(t)}elementToElement(t){this.for("downcast").elementToElement(t);for(const{model:s,view:a}of DP(t))this.for("upcast").elementToElement({model:s,view:a,converterPriority:t.converterPriority})}attributeToElement(t){this.for("downcast").attributeToElement(t);for(const{model:s,view:a}of DP(t))this.for("upcast").elementToAttribute({view:a,model:s,converterPriority:t.converterPriority})}attributeToAttribute(t){this.for("downcast").attributeToAttribute(t);for(const{model:s,view:a}of DP(t))this.for("upcast").attributeToAttribute({view:a,model:s})}_createConversionHelpers({name:t,dispatchers:s,isDowncast:a}){if(this._helpers.has(t))throw new B("conversion-group-exists",this);const d=a?new Cie(s):new Nie(s);this._helpers.set(t,d)}}function*DP(f){if(f.model.values)for(const t of f.model.values){const s={key:f.model.key,value:t},a=f.view[t],d=f.upcastAlso?f.upcastAlso[t]:void 0;yield*aL(s,a,d)}else yield*aL(f.model,f.view,f.upcastAlso)}function*aL(f,t,s){if(yield{model:f,view:t},s)for(const a of Rn(s))yield{model:f,view:a}}class Pa{constructor(t){this.baseVersion=t,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const t=Object.assign({},this);return t.__className=this.constructor.className,delete t.batch,delete t.isDocumentOperation,t}static get className(){return"Operation"}static fromJSON(t,s){return new this(t.baseVersion)}}function NP(f,t){const s=cL(t),a=s.reduce((w,k)=>w+k.offsetSize,0),d=f.parent;Qx(f);const p=f.index;return d._insertChild(p,s),Jx(d,p+s.length),Jx(d,p),new Je(f,f.getShiftedBy(a))}function lL(f){if(!f.isFlat)throw new B("operation-utils-remove-range-not-flat",this);const t=f.start.parent;Qx(f.start),Qx(f.end);const s=t._removeChildren(f.start.index,f.end.index-f.start.index);return Jx(t,f.start.index),s}function Yx(f,t){if(!f.isFlat)throw new B("operation-utils-move-range-not-flat",this);const s=lL(f);return NP(t=t._getTransformedByDeletion(f.start,f.end.offset-f.start.offset),s)}function cL(f){const t=[];(function s(a){if(typeof a=="string")t.push(new Ft(a));else if(a instanceof Vt)t.push(new Ft(a.data,a.getAttributes()));else if(a instanceof Et)t.push(a);else if(Oe(a))for(const d of a)s(d)})(f);for(let s=1;s<t.length;s++){const a=t[s],d=t[s-1];a instanceof Ft&&d instanceof Ft&&uL(a,d)&&(t.splice(s-1,2,new Ft(d.data+a.data,d.getAttributes())),s--)}return t}function Jx(f,t){const s=f.getChild(t-1),a=f.getChild(t);if(s&&a&&s.is("$text")&&a.is("$text")&&uL(s,a)){const d=new Ft(s.data+a.data,s.getAttributes());f._removeChildren(t-1,2),f._insertChild(t-1,d)}}function Qx(f){const t=f.textNode,s=f.parent;if(t){const a=f.offset-t.startOffset,d=t.index;s._removeChildren(d,1);const p=new Ft(t.data.substr(0,a),t.getAttributes()),w=new Ft(t.data.substr(a),t.getAttributes());s._insertChild(d,[p,w])}}function uL(f,t){const s=f.getAttributes(),a=t.getAttributes();for(const d of s){if(d[1]!==t.getAttribute(d[0]))return!1;a.next()}return a.next().done}class On extends Pa{constructor(t,s,a,d){super(d),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toNext",this.howMany=s,this.targetPosition=a.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[Je._createFromPositionAndShift(this.sourcePosition,this.howMany),Je._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new On(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new On(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1)}_validate(){const t=this.sourcePosition.parent,s=this.targetPosition.parent,a=this.sourcePosition.offset,d=this.targetPosition.offset;if(a+this.howMany>t.maxOffset)throw new B("move-operation-nodes-do-not-exist",this);if(t===s&&a<d&&d<a+this.howMany)throw new B("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&qe(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const p=this.sourcePosition.path.length-1;if(this.targetPosition.path[p]>=a&&this.targetPosition.path[p]<a+this.howMany)throw new B("move-operation-node-into-itself",this)}}_execute(){Yx(Je._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t.targetPosition=this.targetPosition.toJSON(),t}static get className(){return"MoveOperation"}static fromJSON(t,s){const a=st.fromJSON(t.sourcePosition,s),d=st.fromJSON(t.targetPosition,s);return new this(a,t.howMany,d,t.baseVersion)}}class Vr extends Pa{constructor(t,s,a){super(a),this.position=t.clone(),this.position.stickiness="toNone",this.nodes=new ln(cL(s)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const t=new ln([...this.nodes].map(a=>a._clone(!0))),s=new Vr(this.position,t,this.baseVersion);return s.shouldReceiveAttributes=this.shouldReceiveAttributes,s}getReversed(){const t=this.position.root.document.graveyard,s=new st(t,[0]);return new On(this.position,this.nodes.maxOffset,s,this.baseVersion+1)}_validate(){const t=this.position.parent;if(!t||t.maxOffset<this.position.offset)throw new B("insert-operation-position-invalid",this)}_execute(){const t=this.nodes;this.nodes=new ln([...t].map(s=>s._clone(!0))),NP(this.position,t)}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t.nodes=this.nodes.toJSON(),t}static get className(){return"InsertOperation"}static fromJSON(t,s){const a=[];for(const p of t.nodes)p.name?a.push(Xt.fromJSON(p)):a.push(Ft.fromJSON(p));const d=new Vr(st.fromJSON(t.position,s),a,t.baseVersion);return d.shouldReceiveAttributes=t.shouldReceiveAttributes,d}}class ei extends Pa{constructor(t,s,a,d,p){super(p),this.splitPosition=t.clone(),this.splitPosition.stickiness="toNext",this.howMany=s,this.insertionPosition=a,this.graveyardPosition=d?d.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const t=this.insertionPosition.path.slice();return t.push(0),new st(this.insertionPosition.root,t)}get movedRange(){const t=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Je(this.splitPosition,t)}get affectedSelectable(){const t=[Je._createFromPositionAndShift(this.splitPosition,0),Je._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&t.push(Je._createFromPositionAndShift(this.graveyardPosition,0)),t}clone(){return new ei(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=this.splitPosition.root.document.graveyard,s=new st(t,[0]);return new Gi(this.moveTargetPosition,this.howMany,this.splitPosition,s,this.baseVersion+1)}_validate(){const t=this.splitPosition.parent,s=this.splitPosition.offset;if(!t||t.maxOffset<s)throw new B("split-operation-position-invalid",this);if(!t.parent)throw new B("split-operation-split-in-root",this);if(this.howMany!=t.maxOffset-this.splitPosition.offset)throw new B("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new B("split-operation-graveyard-position-invalid",this)}_execute(){const t=this.splitPosition.parent;if(this.graveyardPosition)Yx(Je._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const s=t._clone();NP(this.insertionPosition,s)}Yx(new Je(st._createAt(t,this.splitPosition.offset),st._createAt(t,t.maxOffset)),this.moveTargetPosition)}toJSON(){const t=super.toJSON();return t.splitPosition=this.splitPosition.toJSON(),t.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(t.graveyardPosition=this.graveyardPosition.toJSON()),t}static get className(){return"SplitOperation"}static getInsertionPosition(t){const s=t.path.slice(0,-1);return s[s.length-1]++,new st(t.root,s,"toPrevious")}static fromJSON(t,s){const a=st.fromJSON(t.splitPosition,s),d=st.fromJSON(t.insertionPosition,s),p=t.graveyardPosition?st.fromJSON(t.graveyardPosition,s):null;return new this(a,t.howMany,d,p,t.baseVersion)}}class Gi extends Pa{constructor(t,s,a,d,p){super(p),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=s,this.targetPosition=a.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=d.clone()}get type(){return"merge"}get deletionPosition(){return new st(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const t=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Je(this.sourcePosition,t)}get affectedSelectable(){const t=this.sourcePosition.parent;return[Je._createOn(t),Je._createFromPositionAndShift(this.targetPosition,0),Je._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new Gi(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=this.targetPosition._getTransformedByMergeOperation(this),s=this.sourcePosition.path.slice(0,-1),a=new st(this.sourcePosition.root,s)._getTransformedByMergeOperation(this);return new ei(t,this.howMany,a,this.graveyardPosition,this.baseVersion+1)}_validate(){const t=this.sourcePosition.parent,s=this.targetPosition.parent;if(!t.parent)throw new B("merge-operation-source-position-invalid",this);if(!s.parent)throw new B("merge-operation-target-position-invalid",this);if(this.howMany!=t.maxOffset)throw new B("merge-operation-how-many-invalid",this)}_execute(){const t=this.sourcePosition.parent;Yx(Je._createIn(t),this.targetPosition),Yx(Je._createOn(t),this.graveyardPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=t.sourcePosition.toJSON(),t.targetPosition=t.targetPosition.toJSON(),t.graveyardPosition=t.graveyardPosition.toJSON(),t}static get className(){return"MergeOperation"}static fromJSON(t,s){const a=st.fromJSON(t.sourcePosition,s),d=st.fromJSON(t.targetPosition,s),p=st.fromJSON(t.graveyardPosition,s);return new this(a,t.howMany,d,p,t.baseVersion)}}class $o extends Pa{constructor(t,s,a,d,p,w){super(w),this.name=t,this.oldRange=s?s.clone():null,this.newRange=a?a.clone():null,this.affectsData=p,this._markers=d}get type(){return"marker"}get affectedSelectable(){const t=[];return this.oldRange&&t.push(this.oldRange.clone()),this.newRange&&(this.oldRange?t.push(...this.newRange.getDifference(this.oldRange)):t.push(this.newRange.clone())),t}clone(){return new $o(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new $o(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const t=super.toJSON();return this.oldRange&&(t.oldRange=this.oldRange.toJSON()),this.newRange&&(t.newRange=this.newRange.toJSON()),delete t._markers,t}static get className(){return"MarkerOperation"}static fromJSON(t,s){return new $o(t.name,t.oldRange?Je.fromJSON(t.oldRange,s):null,t.newRange?Je.fromJSON(t.newRange,s):null,s.model.markers,t.affectsData,t.baseVersion)}}const dL=function(f,t){return De(f,t)};class er extends Pa{constructor(t,s,a,d,p){super(p),this.range=t.clone(),this.key=s,this.oldValue=a===void 0?null:a,this.newValue=d===void 0?null:d}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new er(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new er(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const t=super.toJSON();return t.range=this.range.toJSON(),t}_validate(){if(!this.range.isFlat)throw new B("attribute-operation-range-not-flat",this);for(const t of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!dL(t.getAttribute(this.key),this.oldValue))throw new B("attribute-operation-wrong-old-value",this,{item:t,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&t.hasAttribute(this.key))throw new B("attribute-operation-attribute-exists",this,{node:t,key:this.key})}}_execute(){dL(this.oldValue,this.newValue)||function(t,s,a){Qx(t.start),Qx(t.end);for(const d of t.getItems({shallow:!0})){const p=d.is("$textProxy")?d.textNode:d;a!==null?p._setAttribute(s,a):p._removeAttribute(s),Jx(p.parent,p.index)}Jx(t.end.parent,t.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(t,s){return new er(Je.fromJSON(t.range,s),t.key,t.oldValue,t.newValue,t.baseVersion)}}class kr extends Pa{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new kr(this.baseVersion)}getReversed(){return new kr(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class qo extends Pa{constructor(t,s,a,d){super(d),this.position=t,this.position.stickiness="toNext",this.oldName=s,this.newName=a}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new qo(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new qo(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const t=this.position.nodeAfter;if(!(t instanceof Xt))throw new B("rename-operation-wrong-position",this);if(t.name!==this.oldName)throw new B("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t}static get className(){return"RenameOperation"}static fromJSON(t,s){return new qo(st.fromJSON(t.position,s),t.oldName,t.newName,t.baseVersion)}}class rh extends Pa{constructor(t,s,a,d,p){super(p),this.root=t,this.key=s,this.oldValue=a===void 0?null:a,this.newValue=d===void 0?null:d}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new rh(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new rh(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new B("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new B("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new B("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const t=super.toJSON();return t.root=this.root.toJSON(),t}static get className(){return"RootAttributeOperation"}static fromJSON(t,s){if(!s.getRoot(t.root))throw new B("rootattribute-operation-fromjson-no-root",this,{rootName:t.root});return new rh(s.getRoot(t.root),t.key,t.oldValue,t.newValue,t.baseVersion)}}class Uu extends Pa{constructor(t,s,a,d,p){super(p),this.rootName=t,this.elementName=s,this.isAdd=a,this._document=d,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new Uu(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Uu(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const t=super.toJSON();return delete t._document,t}static get className(){return"RootOperation"}static fromJSON(t,s){return new Uu(t.rootName,t.elementName,t.isAdd,s,t.baseVersion)}}const Rl={};Rl[er.className]=er,Rl[Vr.className]=Vr,Rl[$o.className]=$o,Rl[On.className]=On,Rl[kr.className]=kr,Rl[Pa.className]=Pa,Rl[qo.className]=qo,Rl[rh.className]=rh,Rl[Uu.className]=Uu,Rl[ei.className]=ei,Rl[Gi.className]=Gi;class Yie{static fromJSON(t,s){return Rl[t.__className].fromJSON(t,s)}}const PP=new Map;function Sn(f,t,s){let a=PP.get(f);a||(a=new Map,PP.set(f,a)),a.set(t,s)}function Jie(f){return[f]}function hL(f,t,s={}){const a=function(d,p){const w=PP.get(d);return w&&w.has(p)?w.get(p):Jie}(f.constructor,t.constructor);try{return a(f=f.clone(),t,s)}catch(d){throw d}}function Qie(f,t,s){f=f.slice(),t=t.slice();const a=new ere(s.document,s.useRelations,s.forceWeakRemove);a.setOriginalOperations(f),a.setOriginalOperations(t);const d=a.originalOperations;if(f.length==0||t.length==0)return{operationsA:f,operationsB:t,originalOperations:d};const p=new WeakMap;for(const D of f)p.set(D,0);const w={nextBaseVersionA:f[f.length-1].baseVersion+1,nextBaseVersionB:t[t.length-1].baseVersion+1,originalOperationsACount:f.length,originalOperationsBCount:t.length};let k=0;for(;k<f.length;){const D=f[k],R=p.get(D);if(R==t.length){k++;continue}const M=t[R],L=hL(D,M,a.getContext(D,M,!0)),W=hL(M,D,a.getContext(M,D,!1));a.updateRelation(D,M),a.setOriginalOperations(L,D),a.setOriginalOperations(W,M);for(const Y of L)p.set(Y,R+W.length);f.splice(k,1,...L),t.splice(R,1,...W)}return fL(f,w.nextBaseVersionB),fL(t,w.nextBaseVersionA),{operationsA:f,operationsB:t,originalOperations:d}}class ere{constructor(t,s,a=!1){this.originalOperations=new Map,this._history=t.history,this._useRelations=s,this._forceWeakRemove=!!a,this._relations=new Map}setOriginalOperations(t,s=null){const a=s?this.originalOperations.get(s):null;for(const d of t)this.originalOperations.set(d,a||d)}updateRelation(t,s){if(t instanceof On)s instanceof Gi?t.targetPosition.isEqual(s.sourcePosition)||s.movedRange.containsPosition(t.targetPosition)?this._setRelation(t,s,"insertAtSource"):t.targetPosition.isEqual(s.deletionPosition)?this._setRelation(t,s,"insertBetween"):t.targetPosition.isAfter(s.sourcePosition)&&this._setRelation(t,s,"moveTargetAfter"):s instanceof On&&(t.targetPosition.isEqual(s.sourcePosition)||t.targetPosition.isBefore(s.sourcePosition)?this._setRelation(t,s,"insertBefore"):this._setRelation(t,s,"insertAfter"));else if(t instanceof ei){if(s instanceof Gi)t.splitPosition.isBefore(s.sourcePosition)&&this._setRelation(t,s,"splitBefore");else if(s instanceof On)if(t.splitPosition.isEqual(s.sourcePosition)||t.splitPosition.isBefore(s.sourcePosition))this._setRelation(t,s,"splitBefore");else{const a=Je._createFromPositionAndShift(s.sourcePosition,s.howMany);if(t.splitPosition.hasSameParentAs(s.sourcePosition)&&a.containsPosition(t.splitPosition)){const d=a.end.offset-t.splitPosition.offset,p=t.splitPosition.offset-a.start.offset;this._setRelation(t,s,{howMany:d,offset:p})}}}else if(t instanceof Gi)s instanceof Gi?(t.targetPosition.isEqual(s.sourcePosition)||this._setRelation(t,s,"mergeTargetNotMoved"),t.sourcePosition.isEqual(s.targetPosition)&&this._setRelation(t,s,"mergeSourceNotMoved"),t.sourcePosition.isEqual(s.sourcePosition)&&this._setRelation(t,s,"mergeSameElement")):s instanceof ei&&t.sourcePosition.isEqual(s.splitPosition)&&this._setRelation(t,s,"splitAtSource");else if(t instanceof $o){const a=t.newRange;if(!a)return;if(s instanceof On){const d=Je._createFromPositionAndShift(s.sourcePosition,s.howMany),p=d.containsPosition(a.start)||d.start.isEqual(a.start),w=d.containsPosition(a.end)||d.end.isEqual(a.end);!p&&!w||d.containsRange(a)||this._setRelation(t,s,{side:p?"left":"right",path:p?a.start.path.slice():a.end.path.slice()})}else if(s instanceof Gi){const d=a.start.isEqual(s.targetPosition),p=a.start.isEqual(s.deletionPosition),w=a.end.isEqual(s.deletionPosition),k=a.end.isEqual(s.sourcePosition);(d||p||w||k)&&this._setRelation(t,s,{wasInLeftElement:d,wasStartBeforeMergedElement:p,wasEndBeforeMergedElement:w,wasInRightElement:k})}}}getContext(t,s,a){return{aIsStrong:a,aWasUndone:this._wasUndone(t),bWasUndone:this._wasUndone(s),abRelation:this._useRelations?this._getRelation(t,s):null,baRelation:this._useRelations?this._getRelation(s,t):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(t){const s=this.originalOperations.get(t);return s.wasUndone||this._history.isUndoneOperation(s)}_getRelation(t,s){const a=this.originalOperations.get(s),d=this._history.getUndoneOperation(a);if(!d)return null;const p=this.originalOperations.get(t),w=this._relations.get(p);return w&&w.get(d)||null}_setRelation(t,s,a){const d=this.originalOperations.get(t),p=this.originalOperations.get(s);let w=this._relations.get(d);w||(w=new Map,this._relations.set(d,w)),w.set(p,a)}}function fL(f,t){for(const s of f)s.baseVersion=t++}function pL(f,t,s){const a=f.nodes.getNode(0).getAttribute(t);if(a==s)return null;const d=new Je(f.position,f.position.getShiftedBy(f.howMany));return new er(d,t,a,s,0)}function mL(f,t){return f.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)===null}function Yy(f,t){const s=[];for(let a=0;a<f.length;a++){const d=f[a],p=new On(d.start,d.end.offset-d.start.offset,t,0);s.push(p);for(let w=a+1;w<f.length;w++)f[w]=f[w]._getTransformedByMove(p.sourcePosition,p.targetPosition,p.howMany)[0];t=t._getTransformedByMove(p.sourcePosition,p.targetPosition,p.howMany)}return s}Sn(er,er,(f,t,s)=>{if(f.key===t.key&&f.range.start.hasSameParentAs(t.range.start)){const a=f.range.getDifference(t.range).map(p=>new er(p,f.key,f.oldValue,f.newValue,0)),d=f.range.getIntersection(t.range);return d&&s.aIsStrong&&a.push(new er(d,t.key,t.newValue,f.newValue,0)),a.length==0?[new kr(0)]:a}return[f]}),Sn(er,Vr,(f,t)=>{if(f.range.start.hasSameParentAs(t.position)&&f.range.containsPosition(t.position)){const s=f.range._getTransformedByInsertion(t.position,t.howMany,!t.shouldReceiveAttributes).map(a=>new er(a,f.key,f.oldValue,f.newValue,f.baseVersion));if(t.shouldReceiveAttributes){const a=pL(t,f.key,f.oldValue);a&&s.unshift(a)}return s}return f.range=f.range._getTransformedByInsertion(t.position,t.howMany,!1)[0],[f]}),Sn(er,Gi,(f,t)=>{const s=[];f.range.start.hasSameParentAs(t.deletionPosition)&&(f.range.containsPosition(t.deletionPosition)||f.range.start.isEqual(t.deletionPosition))&&s.push(Je._createFromPositionAndShift(t.graveyardPosition,1));const a=f.range._getTransformedByMergeOperation(t);return a.isCollapsed||s.push(a),s.map(d=>new er(d,f.key,f.oldValue,f.newValue,f.baseVersion))}),Sn(er,On,(f,t)=>function(a,d){const p=Je._createFromPositionAndShift(d.sourcePosition,d.howMany);let w=null,k=[];p.containsRange(a,!0)?w=a:a.start.hasSameParentAs(p.start)?(k=a.getDifference(p),w=a.getIntersection(p)):k=[a];const D=[];for(let R of k){R=R._getTransformedByDeletion(d.sourcePosition,d.howMany);const M=d.getMovedRangeStart(),L=R.start.hasSameParentAs(M),W=R._getTransformedByInsertion(M,d.howMany,L);D.push(...W)}return w&&D.push(w._getTransformedByMove(d.sourcePosition,d.targetPosition,d.howMany,!1)[0]),D}(f.range,t).map(a=>new er(a,f.key,f.oldValue,f.newValue,f.baseVersion))),Sn(er,ei,(f,t)=>{if(f.range.end.isEqual(t.insertionPosition))return t.graveyardPosition||f.range.end.offset++,[f];if(f.range.start.hasSameParentAs(t.splitPosition)&&f.range.containsPosition(t.splitPosition)){const s=f.clone();return s.range=new Je(t.moveTargetPosition.clone(),f.range.end._getCombined(t.splitPosition,t.moveTargetPosition)),f.range.end=t.splitPosition.clone(),f.range.end.stickiness="toPrevious",[f,s]}return f.range=f.range._getTransformedBySplitOperation(t),[f]}),Sn(Vr,er,(f,t)=>{const s=[f];if(f.shouldReceiveAttributes&&f.position.hasSameParentAs(t.range.start)&&t.range.containsPosition(f.position)){const a=pL(f,t.key,t.newValue);a&&s.push(a)}return s}),Sn(Vr,Vr,(f,t,s)=>(f.position.isEqual(t.position)&&s.aIsStrong||(f.position=f.position._getTransformedByInsertOperation(t)),[f])),Sn(Vr,On,(f,t)=>(f.position=f.position._getTransformedByMoveOperation(t),[f])),Sn(Vr,ei,(f,t)=>(f.position=f.position._getTransformedBySplitOperation(t),[f])),Sn(Vr,Gi,(f,t)=>(f.position=f.position._getTransformedByMergeOperation(t),[f])),Sn($o,Vr,(f,t)=>(f.oldRange&&(f.oldRange=f.oldRange._getTransformedByInsertOperation(t)[0]),f.newRange&&(f.newRange=f.newRange._getTransformedByInsertOperation(t)[0]),[f])),Sn($o,$o,(f,t,s)=>{if(f.name==t.name){if(!s.aIsStrong)return[new kr(0)];f.oldRange=t.newRange?t.newRange.clone():null}return[f]}),Sn($o,Gi,(f,t)=>(f.oldRange&&(f.oldRange=f.oldRange._getTransformedByMergeOperation(t)),f.newRange&&(f.newRange=f.newRange._getTransformedByMergeOperation(t)),[f])),Sn($o,On,(f,t,s)=>{if(f.oldRange&&(f.oldRange=Je._createFromRanges(f.oldRange._getTransformedByMoveOperation(t))),f.newRange){if(s.abRelation){const a=Je._createFromRanges(f.newRange._getTransformedByMoveOperation(t));if(s.abRelation.side=="left"&&t.targetPosition.isEqual(f.newRange.start))return f.newRange.end=a.end,f.newRange.start.path=s.abRelation.path,[f];if(s.abRelation.side=="right"&&t.targetPosition.isEqual(f.newRange.end))return f.newRange.start=a.start,f.newRange.end.path=s.abRelation.path,[f]}f.newRange=Je._createFromRanges(f.newRange._getTransformedByMoveOperation(t))}return[f]}),Sn($o,ei,(f,t,s)=>{if(f.oldRange&&(f.oldRange=f.oldRange._getTransformedBySplitOperation(t)),f.newRange){if(s.abRelation){const a=f.newRange._getTransformedBySplitOperation(t);return f.newRange.start.isEqual(t.splitPosition)&&s.abRelation.wasStartBeforeMergedElement?f.newRange.start=st._createAt(t.insertionPosition):f.newRange.start.isEqual(t.splitPosition)&&!s.abRelation.wasInLeftElement&&(f.newRange.start=st._createAt(t.moveTargetPosition)),f.newRange.end.isEqual(t.splitPosition)&&s.abRelation.wasInRightElement?f.newRange.end=st._createAt(t.moveTargetPosition):f.newRange.end.isEqual(t.splitPosition)&&s.abRelation.wasEndBeforeMergedElement?f.newRange.end=st._createAt(t.insertionPosition):f.newRange.end=a.end,[f]}f.newRange=f.newRange._getTransformedBySplitOperation(t)}return[f]}),Sn(Gi,Vr,(f,t)=>(f.sourcePosition.hasSameParentAs(t.position)&&(f.howMany+=t.howMany),f.sourcePosition=f.sourcePosition._getTransformedByInsertOperation(t),f.targetPosition=f.targetPosition._getTransformedByInsertOperation(t),[f])),Sn(Gi,Gi,(f,t,s)=>{if(f.sourcePosition.isEqual(t.sourcePosition)&&f.targetPosition.isEqual(t.targetPosition)){if(s.bWasUndone){const a=t.graveyardPosition.path.slice();return a.push(0),f.sourcePosition=new st(t.graveyardPosition.root,a),f.howMany=0,[f]}return[new kr(0)]}if(f.sourcePosition.isEqual(t.sourcePosition)&&!f.targetPosition.isEqual(t.targetPosition)&&!s.bWasUndone&&s.abRelation!="splitAtSource"){const a=f.targetPosition.root.rootName=="$graveyard",d=t.targetPosition.root.rootName=="$graveyard";if(d&&!a||!(a&&!d)&&s.aIsStrong){const p=t.targetPosition._getTransformedByMergeOperation(t),w=f.targetPosition._getTransformedByMergeOperation(t);return[new On(p,f.howMany,w,0)]}return[new kr(0)]}return f.sourcePosition.hasSameParentAs(t.targetPosition)&&(f.howMany+=t.howMany),f.sourcePosition=f.sourcePosition._getTransformedByMergeOperation(t),f.targetPosition=f.targetPosition._getTransformedByMergeOperation(t),f.graveyardPosition.isEqual(t.graveyardPosition)&&s.aIsStrong||(f.graveyardPosition=f.graveyardPosition._getTransformedByMergeOperation(t)),[f]}),Sn(Gi,On,(f,t,s)=>{const a=Je._createFromPositionAndShift(t.sourcePosition,t.howMany);return t.type=="remove"&&!s.bWasUndone&&!s.forceWeakRemove&&f.deletionPosition.hasSameParentAs(t.sourcePosition)&&a.containsPosition(f.sourcePosition)?[new kr(0)]:(f.sourcePosition.hasSameParentAs(t.targetPosition)&&(f.howMany+=t.howMany),f.sourcePosition.hasSameParentAs(t.sourcePosition)&&(f.howMany-=t.howMany),f.sourcePosition=f.sourcePosition._getTransformedByMoveOperation(t),f.targetPosition=f.targetPosition._getTransformedByMoveOperation(t),f.graveyardPosition.isEqual(t.targetPosition)||(f.graveyardPosition=f.graveyardPosition._getTransformedByMoveOperation(t)),[f])}),Sn(Gi,ei,(f,t,s)=>{if(t.graveyardPosition&&(f.graveyardPosition=f.graveyardPosition._getTransformedByDeletion(t.graveyardPosition,1),f.deletionPosition.isEqual(t.graveyardPosition)&&(f.howMany=t.howMany)),f.targetPosition.isEqual(t.splitPosition)){const a=t.howMany!=0,d=t.graveyardPosition&&f.deletionPosition.isEqual(t.graveyardPosition);if(a||d||s.abRelation=="mergeTargetNotMoved")return f.sourcePosition=f.sourcePosition._getTransformedBySplitOperation(t),[f]}if(f.sourcePosition.isEqual(t.splitPosition)){if(s.abRelation=="mergeSourceNotMoved")return f.howMany=0,f.targetPosition=f.targetPosition._getTransformedBySplitOperation(t),[f];if(s.abRelation=="mergeSameElement"||f.sourcePosition.offset>0)return f.sourcePosition=t.moveTargetPosition.clone(),f.targetPosition=f.targetPosition._getTransformedBySplitOperation(t),[f]}return f.sourcePosition.hasSameParentAs(t.splitPosition)&&(f.howMany=t.splitPosition.offset),f.sourcePosition=f.sourcePosition._getTransformedBySplitOperation(t),f.targetPosition=f.targetPosition._getTransformedBySplitOperation(t),[f]}),Sn(On,Vr,(f,t)=>{const s=Je._createFromPositionAndShift(f.sourcePosition,f.howMany)._getTransformedByInsertOperation(t,!1)[0];return f.sourcePosition=s.start,f.howMany=s.end.offset-s.start.offset,f.targetPosition.isEqual(t.position)||(f.targetPosition=f.targetPosition._getTransformedByInsertOperation(t)),[f]}),Sn(On,On,(f,t,s)=>{const a=Je._createFromPositionAndShift(f.sourcePosition,f.howMany),d=Je._createFromPositionAndShift(t.sourcePosition,t.howMany);let p,w=s.aIsStrong,k=!s.aIsStrong;if(s.abRelation=="insertBefore"||s.baRelation=="insertAfter"?k=!0:s.abRelation!="insertAfter"&&s.baRelation!="insertBefore"||(k=!1),p=f.targetPosition.isEqual(t.targetPosition)&&k?f.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany):f.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),mL(f,t)&&mL(t,f))return[t.getReversed()];if(a.containsPosition(t.targetPosition)&&a.containsRange(d,!0))return a.start=a.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),a.end=a.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),Yy([a],p);if(d.containsPosition(f.targetPosition)&&d.containsRange(a,!0))return a.start=a.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),a.end=a.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),Yy([a],p);const D=qe(f.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if(D=="prefix"||D=="extension")return a.start=a.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),a.end=a.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),Yy([a],p);f.type!="remove"||t.type=="remove"||s.aWasUndone||s.forceWeakRemove?f.type=="remove"||t.type!="remove"||s.bWasUndone||s.forceWeakRemove||(w=!1):w=!0;const R=[],M=a.getDifference(d);for(const W of M){W.start=W.start._getTransformedByDeletion(t.sourcePosition,t.howMany),W.end=W.end._getTransformedByDeletion(t.sourcePosition,t.howMany);const Y=qe(W.start.getParentPath(),t.getMovedRangeStart().getParentPath())=="same",se=W._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,Y);R.push(...se)}const L=a.getIntersection(d);return L!==null&&w&&(L.start=L.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),L.end=L.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),R.length===0?R.push(L):R.length==1?d.start.isBefore(a.start)||d.start.isEqual(a.start)?R.unshift(L):R.push(L):R.splice(1,0,L)),R.length===0?[new kr(f.baseVersion)]:Yy(R,p)}),Sn(On,ei,(f,t,s)=>{let a=f.targetPosition.clone();f.targetPosition.isEqual(t.insertionPosition)&&t.graveyardPosition&&s.abRelation!="moveTargetAfter"||(a=f.targetPosition._getTransformedBySplitOperation(t));const d=Je._createFromPositionAndShift(f.sourcePosition,f.howMany);if(d.end.isEqual(t.insertionPosition))return t.graveyardPosition||f.howMany++,f.targetPosition=a,[f];if(d.start.hasSameParentAs(t.splitPosition)&&d.containsPosition(t.splitPosition)){let w=new Je(t.splitPosition,d.end);return w=w._getTransformedBySplitOperation(t),Yy([new Je(d.start,t.splitPosition),w],a)}f.targetPosition.isEqual(t.splitPosition)&&s.abRelation=="insertAtSource"&&(a=t.moveTargetPosition),f.targetPosition.isEqual(t.insertionPosition)&&s.abRelation=="insertBetween"&&(a=f.targetPosition);const p=[d._getTransformedBySplitOperation(t)];if(t.graveyardPosition){const w=d.start.isEqual(t.graveyardPosition)||d.containsPosition(t.graveyardPosition);f.howMany>1&&w&&!s.aWasUndone&&p.push(Je._createFromPositionAndShift(t.insertionPosition,1))}return Yy(p,a)}),Sn(On,Gi,(f,t,s)=>{const a=Je._createFromPositionAndShift(f.sourcePosition,f.howMany);if(t.deletionPosition.hasSameParentAs(f.sourcePosition)&&a.containsPosition(t.sourcePosition)){if(f.type!="remove"||s.forceWeakRemove){if(f.howMany==1)return s.bWasUndone?(f.sourcePosition=t.graveyardPosition.clone(),f.targetPosition=f.targetPosition._getTransformedByMergeOperation(t),[f]):[new kr(0)]}else if(!s.aWasUndone){const p=[];let w=t.graveyardPosition.clone(),k=t.targetPosition._getTransformedByMergeOperation(t);f.howMany>1&&(p.push(new On(f.sourcePosition,f.howMany-1,f.targetPosition,0)),w=w._getTransformedByMove(f.sourcePosition,f.targetPosition,f.howMany-1),k=k._getTransformedByMove(f.sourcePosition,f.targetPosition,f.howMany-1));const D=t.deletionPosition._getCombined(f.sourcePosition,f.targetPosition),R=new On(w,1,D,0),M=R.getMovedRangeStart().path.slice();M.push(0);const L=new st(R.targetPosition.root,M);k=k._getTransformedByMove(w,D,1);const W=new On(k,t.howMany,L,0);return p.push(R),p.push(W),p}}const d=Je._createFromPositionAndShift(f.sourcePosition,f.howMany)._getTransformedByMergeOperation(t);return f.sourcePosition=d.start,f.howMany=d.end.offset-d.start.offset,f.targetPosition=f.targetPosition._getTransformedByMergeOperation(t),[f]}),Sn(qo,Vr,(f,t)=>(f.position=f.position._getTransformedByInsertOperation(t),[f])),Sn(qo,Gi,(f,t)=>f.position.isEqual(t.deletionPosition)?(f.position=t.graveyardPosition.clone(),f.position.stickiness="toNext",[f]):(f.position=f.position._getTransformedByMergeOperation(t),[f])),Sn(qo,On,(f,t)=>(f.position=f.position._getTransformedByMoveOperation(t),[f])),Sn(qo,qo,(f,t,s)=>{if(f.position.isEqual(t.position)){if(!s.aIsStrong)return[new kr(0)];f.oldName=t.newName}return[f]}),Sn(qo,ei,(f,t)=>{if(qe(f.position.path,t.splitPosition.getParentPath())=="same"&&!t.graveyardPosition){const s=new qo(f.position.getShiftedBy(1),f.oldName,f.newName,0);return[f,s]}return f.position=f.position._getTransformedBySplitOperation(t),[f]}),Sn(rh,rh,(f,t,s)=>{if(f.root===t.root&&f.key===t.key){if(!s.aIsStrong||f.newValue===t.newValue)return[new kr(0)];f.oldValue=t.newValue}return[f]}),Sn(Uu,Uu,(f,t)=>f.rootName===t.rootName&&f.isAdd===t.isAdd?[new kr(0)]:[f]),Sn(ei,Vr,(f,t)=>(f.splitPosition.hasSameParentAs(t.position)&&f.splitPosition.offset<t.position.offset&&(f.howMany+=t.howMany),f.splitPosition=f.splitPosition._getTransformedByInsertOperation(t),f.insertionPosition=f.insertionPosition._getTransformedByInsertOperation(t),[f])),Sn(ei,Gi,(f,t,s)=>{if(!f.graveyardPosition&&!s.bWasUndone&&f.splitPosition.hasSameParentAs(t.sourcePosition)){const a=t.graveyardPosition.path.slice();a.push(0);const d=new st(t.graveyardPosition.root,a),p=ei.getInsertionPosition(new st(t.graveyardPosition.root,a)),w=new ei(d,0,p,null,0);return f.splitPosition=f.splitPosition._getTransformedByMergeOperation(t),f.insertionPosition=ei.getInsertionPosition(f.splitPosition),f.graveyardPosition=w.insertionPosition.clone(),f.graveyardPosition.stickiness="toNext",[w,f]}return f.splitPosition.hasSameParentAs(t.deletionPosition)&&!f.splitPosition.isAfter(t.deletionPosition)&&f.howMany--,f.splitPosition.hasSameParentAs(t.targetPosition)&&(f.howMany+=t.howMany),f.splitPosition=f.splitPosition._getTransformedByMergeOperation(t),f.insertionPosition=ei.getInsertionPosition(f.splitPosition),f.graveyardPosition&&(f.graveyardPosition=f.graveyardPosition._getTransformedByMergeOperation(t)),[f]}),Sn(ei,On,(f,t,s)=>{const a=Je._createFromPositionAndShift(t.sourcePosition,t.howMany);if(f.graveyardPosition){const p=a.start.isEqual(f.graveyardPosition)||a.containsPosition(f.graveyardPosition);if(!s.bWasUndone&&p){const w=f.splitPosition._getTransformedByMoveOperation(t),k=f.graveyardPosition._getTransformedByMoveOperation(t),D=k.path.slice();D.push(0);const R=new st(k.root,D);return[new On(w,f.howMany,R,0)]}f.graveyardPosition=f.graveyardPosition._getTransformedByMoveOperation(t)}const d=f.splitPosition.isEqual(t.targetPosition);if(d&&(s.baRelation=="insertAtSource"||s.abRelation=="splitBefore"))return f.howMany+=t.howMany,f.splitPosition=f.splitPosition._getTransformedByDeletion(t.sourcePosition,t.howMany),f.insertionPosition=ei.getInsertionPosition(f.splitPosition),[f];if(d&&s.abRelation&&s.abRelation.howMany){const{howMany:p,offset:w}=s.abRelation;return f.howMany+=p,f.splitPosition=f.splitPosition.getShiftedBy(w),[f]}if(f.splitPosition.hasSameParentAs(t.sourcePosition)&&a.containsPosition(f.splitPosition)){const p=t.howMany-(f.splitPosition.offset-t.sourcePosition.offset);return f.howMany-=p,f.splitPosition.hasSameParentAs(t.targetPosition)&&f.splitPosition.offset<t.targetPosition.offset&&(f.howMany+=t.howMany),f.splitPosition=t.sourcePosition.clone(),f.insertionPosition=ei.getInsertionPosition(f.splitPosition),[f]}return t.sourcePosition.isEqual(t.targetPosition)||(f.splitPosition.hasSameParentAs(t.sourcePosition)&&f.splitPosition.offset<=t.sourcePosition.offset&&(f.howMany-=t.howMany),f.splitPosition.hasSameParentAs(t.targetPosition)&&f.splitPosition.offset<t.targetPosition.offset&&(f.howMany+=t.howMany)),f.splitPosition.stickiness="toNone",f.splitPosition=f.splitPosition._getTransformedByMoveOperation(t),f.splitPosition.stickiness="toNext",f.graveyardPosition?f.insertionPosition=f.insertionPosition._getTransformedByMoveOperation(t):f.insertionPosition=ei.getInsertionPosition(f.splitPosition),[f]}),Sn(ei,ei,(f,t,s)=>{if(f.splitPosition.isEqual(t.splitPosition)){if(!f.graveyardPosition&&!t.graveyardPosition)return[new kr(0)];if(f.graveyardPosition&&t.graveyardPosition&&f.graveyardPosition.isEqual(t.graveyardPosition))return[new kr(0)];if(s.abRelation=="splitBefore")return f.howMany=0,f.graveyardPosition=f.graveyardPosition._getTransformedBySplitOperation(t),[f]}if(f.graveyardPosition&&t.graveyardPosition&&f.graveyardPosition.isEqual(t.graveyardPosition)){const a=f.splitPosition.root.rootName=="$graveyard",d=t.splitPosition.root.rootName=="$graveyard";if(d&&!a||!(a&&!d)&&s.aIsStrong){const p=[];return t.howMany&&p.push(new On(t.moveTargetPosition,t.howMany,t.splitPosition,0)),f.howMany&&p.push(new On(f.splitPosition,f.howMany,f.moveTargetPosition,0)),p}return[new kr(0)]}if(f.graveyardPosition&&(f.graveyardPosition=f.graveyardPosition._getTransformedBySplitOperation(t)),f.splitPosition.isEqual(t.insertionPosition)&&s.abRelation=="splitBefore")return f.howMany++,[f];if(t.splitPosition.isEqual(f.insertionPosition)&&s.baRelation=="splitBefore"){const a=t.insertionPosition.path.slice();a.push(0);const d=new st(t.insertionPosition.root,a);return[f,new On(f.insertionPosition,1,d,0)]}return f.splitPosition.hasSameParentAs(t.splitPosition)&&f.splitPosition.offset<t.splitPosition.offset&&(f.howMany-=t.howMany),f.splitPosition=f.splitPosition._getTransformedBySplitOperation(t),f.insertionPosition=ei.getInsertionPosition(f.splitPosition),[f]});class fs extends G(st){constructor(t,s,a="toNone"){if(super(t,s,a),!this.root.is("rootElement"))throw new B("model-liveposition-root-not-rootelement",t);tre.call(this)}detach(){this.stopListening()}toPosition(){return new st(this.root,this.path.slice(),this.stickiness)}static fromPosition(t,s){return new this(t.root,t.path.slice(),s||t.stickiness)}}function tre(){this.listenTo(this.root.document.model,"applyOperation",(f,t)=>{const s=t[0];s.isDocumentOperation&&nre.call(this,s)},{priority:"low"})}function nre(f){const t=this.getTransformedByOperation(f);if(!this.isEqual(t)){const s=this.toPosition();this.path=t.path,this.root=t.root,this.fire("change",s)}}fs.prototype.is=function(f){return f==="livePosition"||f==="model:livePosition"||f=="position"||f==="model:position"};class Jy{constructor(t={}){typeof t=="string"&&(t=t==="transparent"?{isUndoable:!1}:{},Z("batch-constructor-deprecated-string-type"));const{isUndoable:s=!0,isLocal:a=!0,isUndo:d=!1,isTyping:p=!1}=t;this.operations=[],this.isUndoable=s,this.isLocal=a,this.isUndo=d,this.isTyping=p}get type(){return Z("batch-type-deprecated"),"default"}get baseVersion(){for(const t of this.operations)if(t.baseVersion!==null)return t.baseVersion;return null}addOperation(t){return t.batch=this,this.operations.push(t),t}}class ire{constructor(t){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=t}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(t){const s=t;switch(s.type){case"insert":if(this._isInInsertedElement(s.position.parent))return;this._markInsert(s.position.parent,s.position.offset,s.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const a of s.range.getItems({shallow:!0}))this._isInInsertedElement(a.parent)||this._markAttribute(a);break;case"remove":case"move":case"reinsert":{if(s.sourcePosition.isEqual(s.targetPosition)||s.sourcePosition.getShiftedBy(s.howMany).isEqual(s.targetPosition))return;const a=this._isInInsertedElement(s.sourcePosition.parent),d=this._isInInsertedElement(s.targetPosition.parent);a||this._markRemove(s.sourcePosition.parent,s.sourcePosition.offset,s.howMany),d||this._markInsert(s.targetPosition.parent,s.getMovedRangeStart().offset,s.howMany);break}case"rename":{if(this._isInInsertedElement(s.position.parent))return;this._markRemove(s.position.parent,s.position.offset,1),this._markInsert(s.position.parent,s.position.offset,1);const a=Je._createFromPositionAndShift(s.position,1);for(const d of this._markerCollection.getMarkersIntersectingRange(a)){const p=d.getData();this.bufferMarkerChange(d.name,p,p)}break}case"split":{const a=s.splitPosition.parent;this._isInInsertedElement(a)||this._markRemove(a,s.splitPosition.offset,s.howMany),this._isInInsertedElement(s.insertionPosition.parent)||this._markInsert(s.insertionPosition.parent,s.insertionPosition.offset,1),s.graveyardPosition&&this._markRemove(s.graveyardPosition.parent,s.graveyardPosition.offset,1);break}case"merge":{const a=s.sourcePosition.parent;this._isInInsertedElement(a.parent)||this._markRemove(a.parent,a.startOffset,1);const d=s.graveyardPosition.parent;this._markInsert(d,s.graveyardPosition.offset,1);const p=s.targetPosition.parent;this._isInInsertedElement(p)||this._markInsert(p,s.targetPosition.offset,a.maxOffset);break}case"detachRoot":case"addRoot":{const a=s.affectedSelectable;if(!a._isLoaded||a.isAttached()==s.isAdd)return;this._bufferRootStateChange(s.rootName,s.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!s.root._isLoaded)return;const a=s.root.rootName;this._bufferRootAttributeChange(a,s.key,s.oldValue,s.newValue);break}}this._cachedChanges=null}bufferMarkerChange(t,s,a){s.range&&s.range.root.is("rootElement")&&!s.range.root._isLoaded&&(s.range=null),a.range&&a.range.root.is("rootElement")&&!a.range.root._isLoaded&&(a.range=null);let d=this._changedMarkers.get(t);d?d.newMarkerData=a:(d={newMarkerData:a,oldMarkerData:s},this._changedMarkers.set(t,d)),d.oldMarkerData.range==null&&a.range==null&&this._changedMarkers.delete(t)}getMarkersToRemove(){const t=[];for(const[s,a]of this._changedMarkers)a.oldMarkerData.range!=null&&t.push({name:s,range:a.oldMarkerData.range});return t}getMarkersToAdd(){const t=[];for(const[s,a]of this._changedMarkers)a.newMarkerData.range!=null&&t.push({name:s,range:a.newMarkerData.range});return t}getChangedMarkers(){return Array.from(this._changedMarkers).map(([t,s])=>({name:t,data:{oldRange:s.oldMarkerData.range,newRange:s.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0||this._changedRoots.size>0)return!0;for(const{newMarkerData:t,oldMarkerData:s}of this._changedMarkers.values()){if(t.affectsData!==s.affectsData)return!0;if(t.affectsData){const a=t.range&&!s.range,d=!t.range&&s.range,p=t.range&&s.range&&!t.range.isEqual(s.range);if(a||d||p)return!0}}return!1}getChanges(t={}){if(this._cachedChanges)return t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let s=[];for(const a of this._changesInElement.keys()){const d=this._changesInElement.get(a).sort((M,L)=>M.offset===L.offset?M.type!=L.type?M.type=="remove"?-1:1:0:M.offset<L.offset?-1:1),p=this._elementSnapshots.get(a),w=gL(a.getChildren()),k=rre(p.length,d);let D=0,R=0;for(const M of k)if(M==="i")s.push(this._getInsertDiff(a,D,w[D])),D++;else if(M==="r")s.push(this._getRemoveDiff(a,D,p[R])),R++;else if(M==="a"){const L=w[D].attributes,W=p[R].attributes;let Y;if(w[D].name=="$text")Y=new Je(st._createAt(a,D),st._createAt(a,D+1));else{const se=a.offsetToIndex(D);Y=new Je(st._createAt(a,D),st._createAt(a.getChild(se),0))}s.push(...this._getAttributesDiff(Y,W,L)),D++,R++}else D++,R++}s.sort((a,d)=>a.position.root!=d.position.root?a.position.root.rootName<d.position.root.rootName?-1:1:a.position.isEqual(d.position)?a.changeCount-d.changeCount:a.position.isBefore(d.position)?-1:1);for(let a=1,d=0;a<s.length;a++){const p=s[d],w=s[a],k=p.type=="remove"&&w.type=="remove"&&p.name=="$text"&&w.name=="$text"&&p.position.isEqual(w.position),D=p.type=="insert"&&w.type=="insert"&&p.name=="$text"&&w.name=="$text"&&p.position.parent==w.position.parent&&p.position.offset+p.length==w.position.offset,R=p.type=="attribute"&&w.type=="attribute"&&p.position.parent==w.position.parent&&p.range.isFlat&&w.range.isFlat&&p.position.offset+p.length==w.position.offset&&p.attributeKey==w.attributeKey&&p.attributeOldValue==w.attributeOldValue&&p.attributeNewValue==w.attributeNewValue;k||D||R?(p.length++,R&&(p.range.end=p.range.end.getShiftedBy(1)),s[a]=null):d=a}s=s.filter(a=>a);for(const a of s)delete a.changeCount,a.type=="attribute"&&(delete a.position,delete a.length);return this._changeCount=0,this._cachedChangesWithGraveyard=s,this._cachedChanges=s.filter(sre),t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(t=>{const s={...t};return s.state!==void 0&&delete s.attributes,s})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(t,s){if(!this._changedRoots.has(t))return void this._changedRoots.set(t,{name:t,state:s?"attached":"detached"});const a=this._changedRoots.get(t);a.state!==void 0?(delete a.state,a.attributes===void 0&&this._changedRoots.delete(t)):a.state=s?"attached":"detached"}_bufferRootAttributeChange(t,s,a,d){const p=this._changedRoots.get(t)||{name:t},w=p.attributes||{};if(w[s]){const k=w[s];d===k.oldValue?delete w[s]:k.newValue=d}else w[s]={oldValue:a,newValue:d};Object.entries(w).length===0?(delete p.attributes,p.state===void 0&&this._changedRoots.delete(t)):(p.attributes=w,this._changedRoots.set(t,p))}_refreshItem(t){if(this._isInInsertedElement(t.parent))return;this._markRemove(t.parent,t.startOffset,t.offsetSize),this._markInsert(t.parent,t.startOffset,t.offsetSize),this._refreshedItems.add(t);const s=Je._createOn(t);for(const a of this._markerCollection.getMarkersIntersectingRange(s)){const d=a.getData();this.bufferMarkerChange(a.name,d,d)}this._cachedChanges=null}_bufferRootLoad(t){if(t.isAttached()){this._bufferRootStateChange(t.rootName,!0),this._markInsert(t,0,t.maxOffset);for(const s of t.getAttributeKeys())this._bufferRootAttributeChange(t.rootName,s,null,t.getAttribute(s));for(const s of this._markerCollection)if(s.getRange().root==t){const a=s.getData();this.bufferMarkerChange(s.name,{...a,range:null},a)}}}_markInsert(t,s,a){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const d={type:"insert",offset:s,howMany:a,count:this._changeCount++};this._markChange(t,d)}_markRemove(t,s,a){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const d={type:"remove",offset:s,howMany:a,count:this._changeCount++};this._markChange(t,d),this._removeAllNestedChanges(t,s,a)}_markAttribute(t){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const s={type:"attribute",offset:t.startOffset,howMany:t.offsetSize,count:this._changeCount++};this._markChange(t.parent,s)}_markChange(t,s){this._makeSnapshot(t);const a=this._getChangesForElement(t);this._handleChange(s,a),a.push(s);for(let d=0;d<a.length;d++)a[d].howMany<1&&(a.splice(d,1),d--)}_getChangesForElement(t){let s;return this._changesInElement.has(t)?s=this._changesInElement.get(t):(s=[],this._changesInElement.set(t,s)),s}_makeSnapshot(t){this._elementSnapshots.has(t)||this._elementSnapshots.set(t,gL(t.getChildren()))}_handleChange(t,s){t.nodesToHandle=t.howMany;for(const a of s){const d=t.offset+t.howMany,p=a.offset+a.howMany;if(t.type=="insert"&&(a.type=="insert"&&(t.offset<=a.offset?a.offset+=t.howMany:t.offset<p&&(a.howMany+=t.nodesToHandle,t.nodesToHandle=0)),a.type=="remove"&&t.offset<a.offset&&(a.offset+=t.howMany),a.type=="attribute")){if(t.offset<=a.offset)a.offset+=t.howMany;else if(t.offset<p){const w=a.howMany;a.howMany=t.offset-a.offset,s.unshift({type:"attribute",offset:d,howMany:w-a.howMany,count:this._changeCount++})}}if(t.type=="remove"){if(a.type=="insert"){if(d<=a.offset)a.offset-=t.howMany;else if(d<=p)if(t.offset<a.offset){const w=d-a.offset;a.offset=t.offset,a.howMany-=w,t.nodesToHandle-=w}else a.howMany-=t.nodesToHandle,t.nodesToHandle=0;else if(t.offset<=a.offset)t.nodesToHandle-=a.howMany,a.howMany=0;else if(t.offset<p){const w=p-t.offset;a.howMany-=w,t.nodesToHandle-=w}}if(a.type=="remove"&&(d<=a.offset?a.offset-=t.howMany:t.offset<a.offset&&(t.nodesToHandle+=a.howMany,a.howMany=0)),a.type=="attribute"){if(d<=a.offset)a.offset-=t.howMany;else if(t.offset<a.offset){const w=d-a.offset;a.offset=t.offset,a.howMany-=w}else if(t.offset<p)if(d<=p){const w=a.howMany;a.howMany=t.offset-a.offset;const k=w-a.howMany-t.nodesToHandle;s.unshift({type:"attribute",offset:t.offset,howMany:k,count:this._changeCount++})}else a.howMany-=p-t.offset}}if(t.type=="attribute"){if(a.type=="insert")if(t.offset<a.offset&&d>a.offset){if(d>p){const w={type:"attribute",offset:p,howMany:d-p,count:this._changeCount++};this._handleChange(w,s),s.push(w)}t.nodesToHandle=a.offset-t.offset,t.howMany=t.nodesToHandle}else t.offset>=a.offset&&t.offset<p&&(d>p?(t.nodesToHandle=d-p,t.offset=p):t.nodesToHandle=0);if(a.type=="remove"&&t.offset<a.offset&&d>a.offset){const w={type:"attribute",offset:a.offset,howMany:d-a.offset,count:this._changeCount++};this._handleChange(w,s),s.push(w),t.nodesToHandle=a.offset-t.offset,t.howMany=t.nodesToHandle}a.type=="attribute"&&(t.offset>=a.offset&&d<=p?(t.nodesToHandle=0,t.howMany=0,t.offset=0):t.offset<=a.offset&&d>=p&&(a.howMany=0))}}t.howMany=t.nodesToHandle,delete t.nodesToHandle}_getInsertDiff(t,s,a){return{type:"insert",position:st._createAt(t,s),name:a.name,attributes:new Map(a.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(t,s,a){return{type:"remove",position:st._createAt(t,s),name:a.name,attributes:new Map(a.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(t,s,a){const d=[];a=new Map(a);for(const[p,w]of s){const k=a.has(p)?a.get(p):null;k!==w&&d.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:p,attributeOldValue:w,attributeNewValue:k,changeCount:this._changeCount++}),a.delete(p)}for(const[p,w]of a)d.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:p,attributeOldValue:null,attributeNewValue:w,changeCount:this._changeCount++});return d}_isInInsertedElement(t){const s=t.parent;if(!s)return!1;const a=this._changesInElement.get(s),d=t.startOffset;if(a){for(const p of a)if(p.type=="insert"&&d>=p.offset&&d<p.offset+p.howMany)return!0}return this._isInInsertedElement(s)}_removeAllNestedChanges(t,s,a){const d=new Je(st._createAt(t,s),st._createAt(t,s+a));for(const p of d.getItems({shallow:!0}))p.is("element")&&(this._elementSnapshots.delete(p),this._changesInElement.delete(p),this._removeAllNestedChanges(p,0,p.maxOffset))}}function gL(f){const t=[];for(const s of f)if(s.is("$text"))for(let a=0;a<s.data.length;a++)t.push({name:"$text",attributes:new Map(s.getAttributes())});else t.push({name:s.name,attributes:new Map(s.getAttributes())});return t}function rre(f,t){const s=[];let a=0,d=0;for(const p of t){if(p.offset>a){for(let w=0;w<p.offset-a;w++)s.push("e");d+=p.offset-a}if(p.type=="insert"){for(let w=0;w<p.howMany;w++)s.push("i");a=p.offset+p.howMany}else if(p.type=="remove"){for(let w=0;w<p.howMany;w++)s.push("r");a=p.offset,d+=p.howMany}else s.push(..."a".repeat(p.howMany).split("")),a=p.offset+p.howMany,d+=p.howMany}if(d<f)for(let p=0;p<f-d-a;p++)s.push("e");return s}function sre(f){const t="position"in f&&f.position.root.rootName=="$graveyard",s="range"in f&&f.range.root.rootName=="$graveyard";return!t&&!s}class ore{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(t){this._operations.length&&t>this._version+1&&this._gaps.set(this._version,t),this._version=t}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(t){if(t.baseVersion!==this.version)throw new B("model-document-history-addoperation-incorrect-version",this,{operation:t,historyVersion:this.version});this._operations.push(t),this._version++,this._baseVersionToOperationIndex.set(t.baseVersion,this._operations.length-1)}getOperations(t,s=this.version){if(!this._operations.length)return[];const a=this._operations[0];t===void 0&&(t=a.baseVersion);let d=s-1;for(const[k,D]of this._gaps)t>k&&t<D&&(t=D),d>k&&d<D&&(d=k-1);if(d<a.baseVersion||t>this.lastOperation.baseVersion)return[];let p=this._baseVersionToOperationIndex.get(t);p===void 0&&(p=0);let w=this._baseVersionToOperationIndex.get(d);return w===void 0&&(w=this._operations.length-1),this._operations.slice(p,w+1)}getOperation(t){const s=this._baseVersionToOperationIndex.get(t);if(s!==void 0)return this._operations[s]}setOperationAsUndone(t,s){this._undoPairs.set(s,t),this._undoneOperations.add(t)}isUndoingOperation(t){return this._undoPairs.has(t)}isUndoneOperation(t){return this._undoneOperations.has(t)}getUndoneOperation(t){return this._undoPairs.get(t)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class ZA extends Xt{constructor(t,s,a="main"){super(s),this._isAttached=!0,this._isLoaded=!0,this._document=t,this.rootName=a}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}ZA.prototype.is=function(f,t){return t?t===this.name&&(f==="rootElement"||f==="model:rootElement"||f==="element"||f==="model:element"):f==="rootElement"||f==="model:rootElement"||f==="element"||f==="model:element"||f==="node"||f==="model:node"};const bL="$graveyard";class are extends G(){constructor(t){super(),this.model=t,this.history=new ore,this.selection=new Tc(this),this.roots=new Os({idProperty:"rootName"}),this.differ=new ire(t.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",bL),this.listenTo(t,"applyOperation",(s,a)=>{const d=a[0];d.isDocumentOperation&&this.differ.bufferOperation(d)},{priority:"high"}),this.listenTo(t,"applyOperation",(s,a)=>{const d=a[0];d.isDocumentOperation&&this.history.addOperation(d)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(t.markers,"update",(s,a,d,p,w)=>{const k={...a.getData(),range:p};this.differ.bufferMarkerChange(a.name,w,k),d===null&&a.on("change",(D,R)=>{const M=a.getData();this.differ.bufferMarkerChange(a.name,{...M,range:R},M)})}),this.registerPostFixer(s=>{let a=!1;for(const d of this.roots)d.isAttached()||d.isEmpty||(s.remove(s.createRangeIn(d)),a=!0);for(const d of this.model.markers)d.getRange().root.isAttached()||(s.removeMarker(d),a=!0);return a})}get version(){return this.history.version}set version(t){this.history.version=t}get graveyard(){return this.getRoot(bL)}createRoot(t="$root",s="main"){if(this.roots.get(s))throw new B("model-document-createroot-name-exists",this,{name:s});const a=new ZA(this,t,s);return this.roots.add(a),a}destroy(){this.selection.destroy(),this.stopListening()}getRoot(t="main"){return this.roots.get(t)}getRootNames(t=!1){return this.getRoots(t).map(s=>s.rootName)}getRoots(t=!1){return Array.from(this.roots).filter(s=>s!=this.graveyard&&(t||s.isAttached())&&s._isLoaded)}registerPostFixer(t){this._postFixers.add(t)}toJSON(){const t=wx(this);return t.selection="[engine.model.DocumentSelection]",t.model="[engine.model.Model]",t}_handleChangeBlock(t){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(t),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",t.batch):this.fire("change",t.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const t=this.getRoots();return t.length?t[0]:this.graveyard}_getDefaultRange(){const t=this._getDefaultRoot(),s=this.model,a=s.schema,d=s.createPositionFromPath(t,[0]);return a.getNearestSelectionRange(d)||s.createRange(d)}_validateSelectionRange(t){return yL(t.start)&&yL(t.end)}_callPostFixers(t){let s=!1;do for(const a of this._postFixers)if(this.selection.refresh(),s=a(t),s)break;while(s)}}function yL(f){const t=f.textNode;if(t){const s=t.data,a=f.offset-t.startOffset;return!dx(s,a)&&!vy(s,a)}return!0}class lre extends G(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(t){const s=t instanceof Qy?t.name:t;return this._markers.has(s)}get(t){return this._markers.get(t)||null}_set(t,s,a=!1,d=!1){const p=t instanceof Qy?t.name:t;if(p.includes(","))throw new B("markercollection-incorrect-marker-name",this);const w=this._markers.get(p);if(w){const R=w.getData(),M=w.getRange();let L=!1;return M.isEqual(s)||(w._attachLiveRange(Na.fromRange(s)),L=!0),a!=w.managedUsingOperations&&(w._managedUsingOperations=a,L=!0),typeof d=="boolean"&&d!=w.affectsData&&(w._affectsData=d,L=!0),L&&this.fire(`update:${p}`,w,M,s,R),w}const k=Na.fromRange(s),D=new Qy(p,k,a,d);return this._markers.set(p,D),this.fire(`update:${p}`,D,null,s,{...D.getData(),range:null}),D}_remove(t){const s=t instanceof Qy?t.name:t,a=this._markers.get(s);return!!a&&(this._markers.delete(s),this.fire(`update:${s}`,a,a.getRange(),null,a.getData()),this._destroyMarker(a),!0)}_refresh(t){const s=t instanceof Qy?t.name:t,a=this._markers.get(s);if(!a)throw new B("markercollection-refresh-marker-not-exists",this);const d=a.getRange();this.fire(`update:${s}`,a,d,d,a.getData())}*getMarkersAtPosition(t){for(const s of this)s.getRange().containsPosition(t)&&(yield s)}*getMarkersIntersectingRange(t){for(const s of this)s.getRange().getIntersection(t)!==null&&(yield s)}destroy(){for(const t of this._markers.values())this._destroyMarker(t);this._markers=null,this.stopListening()}*getMarkersGroup(t){for(const s of this._markers.values())s.name.startsWith(t+":")&&(yield s)}_destroyMarker(t){t.stopListening(),t._detachLiveRange()}}class Qy extends G(Kt){constructor(t,s,a,d){super(),this.name=t,this._liveRange=this._attachLiveRange(s),this._managedUsingOperations=a,this._affectsData=d}get managedUsingOperations(){if(!this._liveRange)throw new B("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new B("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new B("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new B("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new B("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(t){return this._liveRange&&this._detachLiveRange(),t.delegate("change:range").to(this),t.delegate("change:content").to(this),this._liveRange=t,t}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Qy.prototype.is=function(f){return f==="marker"||f==="model:marker"};class cre extends Pa{constructor(t,s){super(null),this.sourcePosition=t.clone(),this.howMany=s}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t}_validate(){if(this.sourcePosition.root.document)throw new B("detach-operation-on-document-node",this)}_execute(){lL(Je._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class sh extends Kt{constructor(t){super(),this.markers=new Map,this._children=new ln,t&&this._insertChild(0,t)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}getPath(){return[]}getNodeByPath(t){let s=this;for(const a of t)s=s.getChild(s.offsetToIndex(a));return s}offsetToIndex(t){return this._children.offsetToIndex(t)}toJSON(){const t=[];for(const s of this._children)t.push(s.toJSON());return t}static fromJSON(t){const s=[];for(const a of t)a.name?s.push(Xt.fromJSON(a)):s.push(Ft.fromJSON(a));return new sh(s)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,s){const a=function(d){return typeof d=="string"?[new Ft(d)]:(Oe(d)||(d=[d]),Array.from(d).map(p=>typeof p=="string"?new Ft(p):p instanceof Vt?new Ft(p.data,p.getAttributes()):p))}(s);for(const d of a)d.parent!==null&&d._remove(),d.parent=this;this._children._insertNodes(t,a)}_removeChildren(t,s=1){const a=this._children._removeNodes(t,s);for(const d of a)d.parent=null;return a}}sh.prototype.is=function(f){return f==="documentFragment"||f==="model:documentFragment"};class ure{constructor(t,s){this.model=t,this.batch=s}createText(t,s){return new Ft(t,s)}createElement(t,s){return new Xt(t,s)}createDocumentFragment(){return new sh}cloneElement(t,s=!0){return t._clone(s)}insert(t,s,a=0){if(this._assertWriterUsedCorrectly(),t instanceof Ft&&t.data=="")return;const d=st._createAt(s,a);if(t.parent){if(xL(t.root,d.root))return void this.move(Je._createOn(t),d);if(t.root.document)throw new B("model-writer-insert-forbidden-move",this);this.remove(t)}const p=d.root.document?d.root.document.version:null,w=new Vr(d,t,p);if(t instanceof Ft&&(w.shouldReceiveAttributes=!0),this.batch.addOperation(w),this.model.applyOperation(w),t instanceof sh)for(const[k,D]of t.markers){const R=st._createAt(D.root,0),M={range:new Je(D.start._getCombined(R,d),D.end._getCombined(R,d)),usingOperation:!0,affectsData:!0};this.model.markers.has(k)?this.updateMarker(k,M):this.addMarker(k,M)}}insertText(t,s,a,d){s instanceof sh||s instanceof Xt||s instanceof st?this.insert(this.createText(t),s,a):this.insert(this.createText(t,s),a,d)}insertElement(t,s,a,d){s instanceof sh||s instanceof Xt||s instanceof st?this.insert(this.createElement(t),s,a):this.insert(this.createElement(t,s),a,d)}append(t,s){this.insert(t,s,"end")}appendText(t,s,a){s instanceof sh||s instanceof Xt?this.insert(this.createText(t),s,"end"):this.insert(this.createText(t,s),a,"end")}appendElement(t,s,a){s instanceof sh||s instanceof Xt?this.insert(this.createElement(t),s,"end"):this.insert(this.createElement(t,s),a,"end")}setAttribute(t,s,a){if(this._assertWriterUsedCorrectly(),a instanceof Je){const d=a.getMinimalFlatRanges();for(const p of d)vL(this,t,s,p)}else wL(this,t,s,a)}setAttributes(t,s){for(const[a,d]of ka(t))this.setAttribute(a,d,s)}removeAttribute(t,s){if(this._assertWriterUsedCorrectly(),s instanceof Je){const a=s.getMinimalFlatRanges();for(const d of a)vL(this,t,null,d)}else wL(this,t,null,s)}clearAttributes(t){this._assertWriterUsedCorrectly();const s=a=>{for(const d of a.getAttributeKeys())this.removeAttribute(d,a)};if(t instanceof Je)for(const a of t.getItems())s(a);else s(t)}move(t,s,a){if(this._assertWriterUsedCorrectly(),!(t instanceof Je))throw new B("writer-move-invalid-range",this);if(!t.isFlat)throw new B("writer-move-range-not-flat",this);const d=st._createAt(s,a);if(d.isEqual(t.start))return;if(this._addOperationForAffectedMarkers("move",t),!xL(t.root,d.root))throw new B("writer-move-different-document",this);const p=t.root.document?t.root.document.version:null,w=new On(t.start,t.end.offset-t.start.offset,d,p);this.batch.addOperation(w),this.model.applyOperation(w)}remove(t){this._assertWriterUsedCorrectly();const s=(t instanceof Je?t:Je._createOn(t)).getMinimalFlatRanges().reverse();for(const a of s)this._addOperationForAffectedMarkers("move",a),dre(a.start,a.end.offset-a.start.offset,this.batch,this.model)}merge(t){this._assertWriterUsedCorrectly();const s=t.nodeBefore,a=t.nodeAfter;if(this._addOperationForAffectedMarkers("merge",t),!(s instanceof Xt))throw new B("writer-merge-no-element-before",this);if(!(a instanceof Xt))throw new B("writer-merge-no-element-after",this);t.root.document?this._merge(t):this._mergeDetached(t)}createPositionFromPath(t,s,a){return this.model.createPositionFromPath(t,s,a)}createPositionAt(t,s){return this.model.createPositionAt(t,s)}createPositionAfter(t){return this.model.createPositionAfter(t)}createPositionBefore(t){return this.model.createPositionBefore(t)}createRange(t,s){return this.model.createRange(t,s)}createRangeIn(t){return this.model.createRangeIn(t)}createRangeOn(t){return this.model.createRangeOn(t)}createSelection(...t){return this.model.createSelection(...t)}_mergeDetached(t){const s=t.nodeBefore,a=t.nodeAfter;this.move(Je._createIn(a),st._createAt(s,"end")),this.remove(a)}_merge(t){const s=st._createAt(t.nodeBefore,"end"),a=st._createAt(t.nodeAfter,0),d=t.root.document.graveyard,p=new st(d,[0]),w=t.root.document.version,k=new Gi(a,t.nodeAfter.maxOffset,s,p,w);this.batch.addOperation(k),this.model.applyOperation(k)}rename(t,s){if(this._assertWriterUsedCorrectly(),!(t instanceof Xt))throw new B("writer-rename-not-element-instance",this);const a=t.root.document?t.root.document.version:null,d=new qo(st._createBefore(t),t.name,s,a);this.batch.addOperation(d),this.model.applyOperation(d)}split(t,s){this._assertWriterUsedCorrectly();let a,d,p=t.parent;if(!p.parent)throw new B("writer-split-element-no-parent",this);if(s||(s=p.parent),!t.parent.getAncestors({includeSelf:!0}).includes(s))throw new B("writer-split-invalid-limit-element",this);do{const w=p.root.document?p.root.document.version:null,k=p.maxOffset-t.offset,D=ei.getInsertionPosition(t),R=new ei(t,k,D,null,w);this.batch.addOperation(R),this.model.applyOperation(R),a||d||(a=p,d=t.parent.nextSibling),p=(t=this.createPositionAfter(t.parent)).parent}while(p!==s);return{position:t,range:new Je(st._createAt(a,"end"),st._createAt(d,0))}}wrap(t,s){if(this._assertWriterUsedCorrectly(),!t.isFlat)throw new B("writer-wrap-range-not-flat",this);const a=s instanceof Xt?s:new Xt(s);if(a.childCount>0)throw new B("writer-wrap-element-not-empty",this);if(a.parent!==null)throw new B("writer-wrap-element-attached",this);this.insert(a,t.start);const d=new Je(t.start.getShiftedBy(1),t.end.getShiftedBy(1));this.move(d,st._createAt(a,0))}unwrap(t){if(this._assertWriterUsedCorrectly(),t.parent===null)throw new B("writer-unwrap-element-no-parent",this);this.move(Je._createIn(t),this.createPositionAfter(t)),this.remove(t)}addMarker(t,s){if(this._assertWriterUsedCorrectly(),!s||typeof s.usingOperation!="boolean")throw new B("writer-addmarker-no-usingoperation",this);const a=s.usingOperation,d=s.range,p=s.affectsData!==void 0&&s.affectsData;if(this.model.markers.has(t))throw new B("writer-addmarker-marker-exists",this);if(!d)throw new B("writer-addmarker-no-range",this);return a?(e_(this,t,null,d,p),this.model.markers.get(t)):this.model.markers._set(t,d,a,p)}updateMarker(t,s){this._assertWriterUsedCorrectly();const a=typeof t=="string"?t:t.name,d=this.model.markers.get(a);if(!d)throw new B("writer-updatemarker-marker-not-exists",this);if(!s)return Z("writer-updatemarker-reconvert-using-editingcontroller",{markerName:a}),void this.model.markers._refresh(d);const p=typeof s.usingOperation=="boolean",w=typeof s.affectsData=="boolean",k=w?s.affectsData:d.affectsData;if(!p&&!s.range&&!w)throw new B("writer-updatemarker-wrong-options",this);const D=d.getRange(),R=s.range?s.range:D;p&&s.usingOperation!==d.managedUsingOperations?s.usingOperation?e_(this,a,null,R,k):(e_(this,a,D,null,k),this.model.markers._set(a,R,void 0,k)):d.managedUsingOperations?e_(this,a,D,R,k):this.model.markers._set(a,R,void 0,k)}removeMarker(t){this._assertWriterUsedCorrectly();const s=typeof t=="string"?t:t.name;if(!this.model.markers.has(s))throw new B("writer-removemarker-no-marker",this);const a=this.model.markers.get(s);if(!a.managedUsingOperations)return void this.model.markers._remove(s);e_(this,s,a.getRange(),null,a.affectsData)}addRoot(t,s="$root"){this._assertWriterUsedCorrectly();const a=this.model.document.getRoot(t);if(a&&a.isAttached())throw new B("writer-addroot-root-exists",this);const d=this.model.document,p=new Uu(t,s,!0,d,d.version);return this.batch.addOperation(p),this.model.applyOperation(p),this.model.document.getRoot(t)}detachRoot(t){this._assertWriterUsedCorrectly();const s=typeof t=="string"?this.model.document.getRoot(t):t;if(!s||!s.isAttached())throw new B("writer-detachroot-no-root",this);for(const p of this.model.markers)p.getRange().root===s&&this.removeMarker(p);for(const p of s.getAttributeKeys())this.removeAttribute(p,s);this.remove(this.createRangeIn(s));const a=this.model.document,d=new Uu(s.rootName,s.name,!1,a,a.version);this.batch.addOperation(d),this.model.applyOperation(d)}setSelection(...t){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...t)}setSelectionFocus(t,s){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(t,s)}setSelectionAttribute(t,s){if(this._assertWriterUsedCorrectly(),typeof t=="string")this._setSelectionAttribute(t,s);else for(const[a,d]of ka(t))this._setSelectionAttribute(a,d)}removeSelectionAttribute(t){if(this._assertWriterUsedCorrectly(),typeof t=="string")this._removeSelectionAttribute(t);else for(const s of t)this._removeSelectionAttribute(s)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(t){this.model.document.selection._restoreGravity(t)}_setSelectionAttribute(t,s){const a=this.model.document.selection;if(a.isCollapsed&&a.anchor.parent.isEmpty){const d=Tc._getStoreAttributeKey(t);this.setAttribute(d,s,a.anchor.parent)}a._setAttribute(t,s)}_removeSelectionAttribute(t){const s=this.model.document.selection;if(s.isCollapsed&&s.anchor.parent.isEmpty){const a=Tc._getStoreAttributeKey(t);this.removeAttribute(a,s.anchor.parent)}s._removeAttribute(t)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new B("writer-incorrect-use",this)}_addOperationForAffectedMarkers(t,s){for(const a of this.model.markers){if(!a.managedUsingOperations)continue;const d=a.getRange();let p=!1;if(t==="move"){const w=s;p=w.containsPosition(d.start)||w.start.isEqual(d.start)||w.containsPosition(d.end)||w.end.isEqual(d.end)}else{const w=s,k=w.nodeBefore,D=w.nodeAfter,R=d.start.parent==k&&d.start.isAtEnd,M=d.end.parent==D&&d.end.offset==0,L=d.end.nodeAfter==D,W=d.start.nodeAfter==D;p=R||M||L||W}p&&this.updateMarker(a.name,{range:d})}}}function vL(f,t,s,a){const d=f.model,p=d.document;let w,k,D,R=a.start;for(const L of a.getWalker({shallow:!0}))D=L.item.getAttribute(t),w&&k!=D&&(k!=s&&M(),R=w),w=L.nextPosition,k=D;function M(){const L=new Je(R,w),W=L.root.document?p.version:null,Y=new er(L,t,k,s,W);f.batch.addOperation(Y),d.applyOperation(Y)}w instanceof st&&w!=R&&k!=s&&M()}function wL(f,t,s,a){const d=f.model,p=d.document,w=a.getAttribute(t);let k,D;if(w!=s){if(a.root===a){const R=a.document?p.version:null;D=new rh(a,t,w,s,R)}else{k=new Je(st._createBefore(a),f.createPositionAfter(a));const R=k.root.document?p.version:null;D=new er(k,t,w,s,R)}f.batch.addOperation(D),d.applyOperation(D)}}function e_(f,t,s,a,d){const p=f.model,w=p.document,k=new $o(t,s,a,p.markers,!!d,w.version);f.batch.addOperation(k),p.applyOperation(k)}function dre(f,t,s,a){let d;if(f.root.document){const p=a.document,w=new st(p.graveyard,[0]);d=new On(f,t,w,p.version)}else d=new cre(f,t);s.addOperation(d),a.applyOperation(d)}function xL(f,t){return f===t||f instanceof ZA&&t instanceof ZA}function hre(f,t,s={}){if(t.isCollapsed)return;const a=t.getFirstRange();if(a.root.rootName=="$graveyard")return;const d=f.schema;f.change(p=>{if(!s.doNotResetEntireContent&&function(R,M){const L=R.getLimitElement(M);if(!M.containsEntireContent(L))return!1;const W=M.getFirstRange();return W.start.parent==W.end.parent?!1:R.checkChild(L,"paragraph")}(d,t))return void function(R,M){const L=R.model.schema.getLimitElement(M);R.remove(R.createRangeIn(L)),EL(R,R.createPositionAt(L,0),M)}(p,t);const w={};if(!s.doNotAutoparagraph){const R=t.getSelectedElement();R&&Object.assign(w,d.getAttributesWithProperty(R,"copyOnReplace",!0))}const[k,D]=function(R){const M=R.root.document.model,L=R.start;let W=R.end;if(M.hasContent(R,{ignoreMarkers:!0})){const Y=function(se){const le=se.parent,ve=le.root.document.model.schema,Pe=le.getAncestors({parentFirst:!0,includeSelf:!0});for(const $e of Pe){if(ve.isLimit($e))return null;if(ve.isBlock($e))return $e}}(W);if(Y&&W.isTouching(M.createPositionAt(Y,0))){const se=M.createSelection(R);M.modifySelection(se,{direction:"backward"});const le=se.getLastPosition(),ve=M.createRange(le,W);M.hasContent(ve,{ignoreMarkers:!0})||(W=le)}}return[fs.fromPosition(L,"toPrevious"),fs.fromPosition(W,"toNext")]}(a);k.isTouching(D)||p.remove(p.createRange(k,D)),s.leaveUnmerged||(function(R,M,L){const W=R.model;if(!IP(R.model.schema,M,L))return;const[Y,se]=function(le,ve){const Pe=le.getAncestors(),$e=ve.getAncestors();let Qe=0;for(;Pe[Qe]&&Pe[Qe]==$e[Qe];)Qe++;return[Pe[Qe],$e[Qe]]}(M,L);!Y||!se||(!W.hasContent(Y,{ignoreMarkers:!0})&&W.hasContent(se,{ignoreMarkers:!0})?kL(R,M,L,Y.parent):_L(R,M,L,Y.parent))}(p,k,D),d.removeDisallowedAttributes(k.parent.getChildren(),p)),SL(p,t,k),!s.doNotAutoparagraph&&function(R,M){const L=R.checkChild(M,"$text"),W=R.checkChild(M,"paragraph");return!L&&W}(d,k)&&EL(p,k,t,w),k.detach(),D.detach()})}function _L(f,t,s,a){const d=t.parent,p=s.parent;if(d!=a&&p!=a){for(t=f.createPositionAfter(d),(s=f.createPositionBefore(p)).isEqual(t)||f.insert(p,t),f.merge(t);s.parent.isEmpty;){const w=s.parent;s=f.createPositionBefore(w),f.remove(w)}IP(f.model.schema,t,s)&&_L(f,t,s,a)}}function kL(f,t,s,a){const d=t.parent,p=s.parent;if(d!=a&&p!=a){for(t=f.createPositionAfter(d),(s=f.createPositionBefore(p)).isEqual(t)||f.insert(d,s);t.parent.isEmpty;){const w=t.parent;t=f.createPositionBefore(w),f.remove(w)}s=f.createPositionBefore(p),function(w,k){const D=k.nodeBefore,R=k.nodeAfter;D.name!=R.name&&w.rename(D,R.name),w.clearAttributes(D),w.setAttributes(Object.fromEntries(R.getAttributes()),D),w.merge(k)}(f,s),IP(f.model.schema,t,s)&&kL(f,t,s,a)}}function IP(f,t,s){const a=t.parent,d=s.parent;return a!=d&&!f.isLimit(a)&&!f.isLimit(d)&&function(p,w,k){const D=new Je(p,w);for(const R of D.getWalker())if(k.isLimit(R.item))return!1;return!0}(t,s,f)}function EL(f,t,s,a={}){const d=f.createElement("paragraph");f.model.schema.setAllowedAttributes(d,a,f),f.insert(d,t),SL(f,s,f.createPositionAt(d,0))}function SL(f,t,s){t instanceof Tc?f.setSelection(s):t.setTo(s)}function AL(f,t){const s=[];Array.from(f.getItems({direction:"backward"})).map(a=>t.createRangeOn(a)).filter(a=>(a.start.isAfter(f.start)||a.start.isEqual(f.start))&&(a.end.isBefore(f.end)||a.end.isEqual(f.end))).forEach(a=>{s.push(a.start.parent),t.remove(a)}),s.forEach(a=>{let d=a;for(;d.parent&&d.isEmpty;){const p=t.createRangeOn(d);d=d.parent,t.remove(p)}})}class fre{constructor(t,s,a){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=t,this.writer=s,this.position=a,this.canMergeWith=new Set([this.position.parent]),this.schema=t.schema,this._documentFragment=s.createDocumentFragment(),this._documentFragmentPosition=s.createPositionAt(this._documentFragment,0)}handleNodes(t){for(const s of Array.from(t))this._handleNode(s);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(t){const s=this.writer.createPositionAfter(this._lastNode),a=this.writer.createPositionAfter(t);if(a.isAfter(s)){if(this._lastNode=t,this.position.parent!=t||!this.position.isAtEnd)throw new B("insertcontent-invalid-insertion-position",this);this.position=a,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?Je._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new Je(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(t){if(this.schema.isObject(t))return void this._handleObject(t);let s=this._checkAndAutoParagraphToAllowedPosition(t);s||(s=this._checkAndSplitToAllowedPosition(t),s)?(this._appendToFragment(t),this._firstNode||(this._firstNode=t),this._lastNode=t):this._handleDisallowedNode(t)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const t=fs.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=t.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=t.toPosition(),t.detach()}_handleObject(t){this._checkAndSplitToAllowedPosition(t)?this._appendToFragment(t):this._tryAutoparagraphing(t)}_handleDisallowedNode(t){t.is("element")?this.handleNodes(t.getChildren()):this._tryAutoparagraphing(t)}_appendToFragment(t){if(!this.schema.checkChild(this.position,t))throw new B("insertcontent-wrong-position",this,{node:t,position:this.position});this.writer.insert(t,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(t.offsetSize),this.schema.isObject(t)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=t:this._nodeToSelect=null,this._filterAttributesOf.push(t)}_setAffectedBoundaries(t){this._affectedStart||(this._affectedStart=fs.fromPosition(t,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(t)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=fs.fromPosition(t,"toNext"))}_mergeOnLeft(){const t=this._firstNode;if(!(t instanceof Xt)||!this._canMergeLeft(t))return;const s=fs._createBefore(t);s.stickiness="toNext";const a=fs.fromPosition(this.position,"toNext");this._affectedStart.isEqual(s)&&(this._affectedStart.detach(),this._affectedStart=fs._createAt(s.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=s.nodeBefore,this._lastNode=s.nodeBefore),this.writer.merge(s),s.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=fs._createAt(s.nodeBefore,"end","toNext")),this.position=a.toPosition(),a.detach(),this._filterAttributesOf.push(this.position.parent),s.detach()}_mergeOnRight(){const t=this._lastNode;if(!(t instanceof Xt)||!this._canMergeRight(t))return;const s=fs._createAfter(t);if(s.stickiness="toNext",!this.position.isEqual(s))throw new B("insertcontent-invalid-insertion-position",this);this.position=st._createAt(s.nodeBefore,"end");const a=fs.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(s)&&(this._affectedEnd.detach(),this._affectedEnd=fs._createAt(s.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=s.nodeBefore,this._lastNode=s.nodeBefore),this.writer.merge(s),s.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=fs._createAt(s.nodeBefore,0,"toPrevious")),this.position=a.toPosition(),a.detach(),this._filterAttributesOf.push(this.position.parent),s.detach()}_canMergeLeft(t){const s=t.previousSibling;return s instanceof Xt&&this.canMergeWith.has(s)&&this.model.schema.checkMerge(s,t)}_canMergeRight(t){const s=t.nextSibling;return s instanceof Xt&&this.canMergeWith.has(s)&&this.model.schema.checkMerge(t,s)}_tryAutoparagraphing(t){const s=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,s)&&this.schema.checkChild(s,t)&&(s._appendChild(t),this._handleNode(s))}_checkAndAutoParagraphToAllowedPosition(t){if(this.schema.checkChild(this.position.parent,t))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",t))return!1;this._insertPartialFragment();const s=this.writer.createElement("paragraph");return this.writer.insert(s,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=s,this.position=this.writer.createPositionAt(s,0),!0}_checkAndSplitToAllowedPosition(t){const s=this._getAllowedIn(this.position.parent,t);if(!s)return!1;for(s!=this.position.parent&&this._insertPartialFragment();s!=this.position.parent;)if(this.position.isAtStart){const a=this.position.parent;this.position=this.writer.createPositionBefore(a),a.isEmpty&&a.parent===s&&this.writer.remove(a)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const a=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=a,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(t,s){return this.schema.checkChild(t,s)?t:this.schema.isLimit(t)?null:this._getAllowedIn(t.parent,s)}}function CL(f,t,s="auto"){const a=f.getSelectedElement();if(a&&t.schema.isObject(a)&&!t.schema.isInline(a))return s=="before"||s=="after"?t.createRange(t.createPositionAt(a,s)):t.createRangeOn(a);const d=ci(f.getSelectedBlocks());if(!d)return t.createRange(f.focus);if(d.isEmpty)return t.createRange(t.createPositionAt(d,0));const p=t.createPositionAfter(d);return f.focus.isTouching(p)?t.createRange(p):t.createRange(t.createPositionBefore(d))}function pre(f,t,s,a={}){if(!f.schema.isObject(t))throw new B("insertobject-element-not-an-object",f,{object:t});const d=s||f.document.selection;let p=d;a.findOptimalPosition&&f.schema.isBlock(t)&&(p=f.createSelection(CL(d,f,a.findOptimalPosition)));const w=ci(d.getSelectedBlocks()),k={};return w&&Object.assign(k,f.schema.getAttributesWithProperty(w,"copyOnReplace",!0)),f.change(D=>{p.isCollapsed||f.deleteContent(p,{doNotAutoparagraph:!0});let R=t;const M=p.anchor.parent;!f.schema.checkChild(M,t)&&f.schema.checkChild(M,"paragraph")&&f.schema.checkChild("paragraph",t)&&(R=D.createElement("paragraph"),D.insert(t,R)),f.schema.setAllowedAttributes(R,k,D);const L=f.insertContent(R,p);return L.isCollapsed||a.setSelection&&function(W,Y,se,le){const ve=W.model;if(se=="on")return void W.setSelection(Y,"on");if(se!="after")throw new B("insertobject-invalid-place-parameter-value",ve);let Pe=Y.nextSibling;if(ve.schema.isInline(Y))return void W.setSelection(Y,"after");!(Pe&&ve.schema.checkChild(Pe,"$text"))&&ve.schema.checkChild(Y.parent,"paragraph")&&(Pe=W.createElement("paragraph"),ve.schema.setAllowedAttributes(Pe,le,W),ve.insertContent(Pe,W.createPositionAfter(Y))),Pe&&W.setSelection(Pe,0)}(D,t,a.setSelection,k),L})}const mre=' ,.?!:;"-()';function gre(f,t){const{isForward:s,walker:a,unit:d,schema:p,treatEmojiAsSingleUnit:w}=f,{type:k,item:D,nextPosition:R}=t;if(k=="text")return f.unit==="word"?function(M,L){let W=M.position.textNode;for(W||(W=L?M.position.nodeAfter:M.position.nodeBefore);W&&W.is("$text");){const Y=M.position.offset-W.startOffset;if(vre(W,Y,L))W=L?M.position.nodeAfter:M.position.nodeBefore;else{if(yre(W.data,Y,L))break;M.next()}}return M.position}(a,s):function(M,L,W){const Y=M.position.textNode;if(Y){const se=Y.data;let le=M.position.offset-Y.startOffset;for(;dx(se,le)||L=="character"&&vy(se,le)||W&&fA(se,le);)M.next(),le=M.position.offset-Y.startOffset}return M.position}(a,d,w);if(k==(s?"elementStart":"elementEnd")){if(p.isSelectable(D))return st._createAt(D,s?"after":"before");if(p.checkChild(R,"$text"))return R}else{if(p.isLimit(D))return void a.skip(()=>!0);if(p.checkChild(R,"$text"))return R}}function bre(f,t){const s=f.root,a=st._createAt(s,t?"end":0);return t?new Je(f,a):new Je(a,f)}function yre(f,t,s){const a=t+(s?0:-1);return mre.includes(f.charAt(a))}function vre(f,t,s){return t===(s?f.offsetSize:0)}class wre extends Be(){constructor(){super(),this.markers=new lre,this.document=new are(this),this.schema=new Rie,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(t=>this.decorate(t)),this.on("applyOperation",(t,s)=>{s[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((t,s)=>{if(s.name==="$marker")return!0}),Pie(this),this.document.registerPostFixer(ZU),this.on("insertContent",(t,[s,a])=>{t.return=function(d,p,w){return d.change(k=>{const D=w||d.document.selection;D.isCollapsed||d.deleteContent(D,{doNotAutoparagraph:!0});const R=new fre(d,k,D.anchor),M=[];let L;if(p.is("documentFragment")){if(p.markers.size){const se=[];for(const[le,ve]of p.markers){const{start:Pe,end:$e}=ve,Qe=Pe.isEqual($e);se.push({position:Pe,name:le,isCollapsed:Qe},{position:$e,name:le,isCollapsed:Qe})}se.sort(({position:le},{position:ve})=>le.isBefore(ve)?1:-1);for(const{position:le,name:ve,isCollapsed:Pe}of se){let $e=null,Qe=null;const St=le.parent===p&&le.isAtStart,tn=le.parent===p&&le.isAtEnd;St||tn?Pe&&(Qe=St?"start":"end"):($e=k.createElement("$marker"),k.insert($e,le)),M.push({name:ve,element:$e,collapsed:Qe})}}L=p.getChildren()}else L=[p];R.handleNodes(L);let W=R.getSelectionRange();if(p.is("documentFragment")&&M.length){const se=W?Na.fromRange(W):null,le={};for(let ve=M.length-1;ve>=0;ve--){const{name:Pe,element:$e,collapsed:Qe}=M[ve],St=!le[Pe];if(St&&(le[Pe]=[]),$e){const tn=k.createPositionAt($e,"before");le[Pe].push(tn),k.remove($e)}else{const tn=R.getAffectedRange();if(!tn){Qe&&le[Pe].push(R.position);continue}Qe?le[Pe].push(tn[Qe]):le[Pe].push(St?tn.start:tn.end)}}for(const[ve,[Pe,$e]]of Object.entries(le))Pe&&$e&&Pe.root===$e.root&&k.addMarker(ve,{usingOperation:!0,affectsData:!0,range:new Je(Pe,$e)});se&&(W=se.toRange(),se.detach())}W&&(D instanceof Tc?k.setSelection(W):D.setTo(W));const Y=R.getAffectedRange()||d.createRange(D.anchor);return R.destroy(),Y})}(this,s,a)}),this.on("insertObject",(t,[s,a,d])=>{t.return=pre(this,s,a,d)}),this.on("canEditAt",t=>{const s=!this.document.isReadOnly;t.return=s,s||t.stop()})}change(t){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new Jy,callback:t}),this._runPendingChanges()[0]):t(this._currentWriter)}catch(s){B.rethrowUnexpectedError(s,this)}}enqueueChange(t,s){try{t?typeof t=="function"?(s=t,t=new Jy):t instanceof Jy||(t=new Jy(t)):t=new Jy,this._pendingChanges.push({batch:t,callback:s}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(a){B.rethrowUnexpectedError(a,this)}}applyOperation(t){t._execute()}insertContent(t,s,a,...d){const p=jP(s,a);return this.fire("insertContent",[t,p,a,...d])}insertObject(t,s,a,d,...p){const w=jP(s,a);return this.fire("insertObject",[t,w,d,d,...p])}deleteContent(t,s){hre(this,t,s)}modifySelection(t,s){(function(a,d,p={}){const w=a.schema,k=p.direction!="backward",D=p.unit?p.unit:"character",R=!!p.treatEmojiAsSingleUnit,M=d.focus,L=new jl({boundaries:bre(M,k),singleCharacters:!0,direction:k?"forward":"backward"}),W={walker:L,schema:w,isForward:k,unit:D,treatEmojiAsSingleUnit:R};let Y;for(;Y=L.next();){if(Y.done)return;const se=gre(W,Y.value);if(se)return void(d instanceof Tc?a.change(le=>{le.setSelectionFocus(se)}):d.setFocus(se))}})(this,t,s)}getSelectedContent(t){return function(s,a){return s.change(d=>{const p=d.createDocumentFragment(),w=a.getFirstRange();if(!w||w.isCollapsed)return p;const k=w.start.root,D=w.start.getCommonPath(w.end),R=k.getNodeByPath(D);let M;M=w.start.parent==w.end.parent?w:d.createRange(d.createPositionAt(R,w.start.path[D.length]),d.createPositionAt(R,w.end.path[D.length]+1));const L=M.end.offset-M.start.offset;for(const W of M.getItems({shallow:!0}))W.is("$textProxy")?d.appendText(W.data,W.getAttributes(),p):d.append(d.cloneElement(W,!0),p);if(M!=w){const W=w._getTransformedByMove(M.start,d.createPositionAt(p,0),L)[0],Y=d.createRange(d.createPositionAt(p,0),W.start);AL(d.createRange(W.end,d.createPositionAt(p,"end")),d),AL(Y,d)}return p})}(this,t)}hasContent(t,s={}){const a=t instanceof Je?t:Je._createIn(t);if(a.isCollapsed)return!1;const{ignoreWhitespaces:d=!1,ignoreMarkers:p=!1}=s;if(!p){for(const w of this.markers.getMarkersIntersectingRange(a))if(w.affectsData)return!0}for(const w of a.getItems())if(this.schema.isContent(w)&&(!w.is("$textProxy")||!d||w.data.search(/\S/)!==-1))return!0;return!1}canEditAt(t){const s=jP(t);return this.fire("canEditAt",[s])}createPositionFromPath(t,s,a){return new st(t,s,a)}createPositionAt(t,s){return st._createAt(t,s)}createPositionAfter(t){return st._createAfter(t)}createPositionBefore(t){return st._createBefore(t)}createRange(t,s){return new Je(t,s)}createRangeIn(t){return Je._createIn(t)}createRangeOn(t){return Je._createOn(t)}createSelection(...t){return new Da(...t)}createBatch(t){return new Jy(t)}createOperationFromJSON(t){return Yie.fromJSON(t,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const t=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const s=this._pendingChanges[0].batch;this._currentWriter=new ure(this,s);const a=this._pendingChanges[0].callback(this._currentWriter);t.push(a),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return t}}function jP(f,t){if(f)return f instanceof Da||f instanceof Tc?f:f instanceof Et?t||t===0?new Da(f,t):f.is("rootElement")?new Da(f,"in"):new Da(f,"on"):new Da(f)}class xre extends Cc{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(t){this.fire(t.type,t)}}class YA extends Cc{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(t){this.fire(t.type,t)}}class RP{constructor(t){this.document=t}createDocumentFragment(t){return new xt(this.document,t)}createElement(t,s,a){return new Us(this.document,t,s,a)}createText(t){return new Cn(this.document,t)}clone(t,s=!1){return t._clone(s)}appendChild(t,s){return s._appendChild(t)}insertChild(t,s,a){return a._insertChild(t,s)}removeChildren(t,s,a){return a._removeChildren(t,s)}remove(t){const s=t.parent;return s?this.removeChildren(s.getChildIndex(t),1,s):[]}replace(t,s){const a=t.parent;if(a){const d=a.getChildIndex(t);return this.removeChildren(d,1,a),this.insertChild(d,s,a),!0}return!1}unwrapElement(t){const s=t.parent;if(s){const a=s.getChildIndex(t);this.remove(t),this.insertChild(a,t.getChildren(),s)}}rename(t,s){const a=new Us(this.document,t,s.getAttributes(),s.getChildren());return this.replace(s,a)?a:null}setAttribute(t,s,a){a._setAttribute(t,s)}removeAttribute(t,s){s._removeAttribute(t)}addClass(t,s){s._addClass(t)}removeClass(t,s){s._removeClass(t)}setStyle(t,s,a){sn(t)&&a===void 0?s._setStyle(t):a._setStyle(t,s)}removeStyle(t,s){s._removeStyle(t)}setCustomProperty(t,s,a){a._setCustomProperty(t,s)}removeCustomProperty(t,s){return s._removeCustomProperty(t)}createPositionAt(t,s){return pt._createAt(t,s)}createPositionAfter(t){return pt._createAfter(t)}createPositionBefore(t){return pt._createBefore(t)}createRange(t,s){return new Yt(t,s)}createRangeOn(t){return Yt._createOn(t)}createRangeIn(t){return Yt._createIn(t)}createSelection(...t){return new Ca(...t)}}class _re{constructor(){this._commands=new Map}add(t,s){this._commands.set(t,s)}get(t){return this._commands.get(t)}execute(t,...s){const a=this.get(t);if(!a)throw new B("commandcollection-command-not-found",this,{commandName:t});return a.execute(...s)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const t of this.commands())t.destroy()}}class kre extends _a{constructor(t){super(),this.editor=t}set(t,s,a={}){if(typeof s=="string"){const d=s;s=(p,w)=>{this.editor.execute(d),w()}}super.set(t,s,a)}}class Ere extends Be(){constructor(t={}){super();const s=this.constructor,a=t.language||s.defaultConfig&&s.defaultConfig.language;this._context=t.context||new Ag({language:a}),this._context._addEditor(this,!t.context);const d=Array.from(s.builtinPlugins||[]);this.config=new _l(t,s.defaultConfig),this.config.define("plugins",d),this.config.define(this._context._getEditorConfig()),this.plugins=new hr(this,d,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new _re,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new wre,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const p=new OA;this.data=new Kie(this.model,p),this.editing=new Iie(this.model,p),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new Zie([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new kre(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(t){throw new B("editor-isreadonly-has-no-setter")}enableReadOnlyMode(t){if(typeof t!="string"&&typeof t!="symbol")throw new B("editor-read-only-lock-id-invalid",null,{lockId:t});this._readOnlyLocks.has(t)||(this._readOnlyLocks.add(t),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(t){if(typeof t!="string"&&typeof t!="symbol")throw new B("editor-read-only-lock-id-invalid",null,{lockId:t});this._readOnlyLocks.has(t)&&(this._readOnlyLocks.delete(t),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const t=this.config,s=t.get("plugins"),a=t.get("removePlugins")||[],d=t.get("extraPlugins")||[],p=t.get("substitutePlugins")||[];return this.plugins.init(s.concat(d),a,p)}destroy(){let t=Promise.resolve();return this.state=="initializing"&&(t=new Promise(s=>this.once("ready",s))),t.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(t,...s){try{return this.commands.execute(t,...s)}catch(a){B.rethrowUnexpectedError(a,this)}}focus(){this.editing.view.focus()}static create(...t){throw new Error("This is an abstract method.")}}function JA(f){return class extends f{setData(t){this.data.set(t)}getData(t){return this.data.get(t)}}}{const f=JA(Object);JA.setData=f.prototype.setData,JA.getData=f.prototype.getData}function MP(f){return class extends f{updateSourceElement(t=this.data.get()){if(!this.sourceElement)throw new B("editor-missing-sourceelement",this);const s=this.config.get("updateSourceElementOnDestroy"),a=this.sourceElement instanceof HTMLTextAreaElement;Ur(this.sourceElement,s||a?t:"")}}}MP.updateSourceElement=MP(Object).prototype.updateSourceElement;class TL extends Yf{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Os({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(t){if(typeof t!="string")throw new B("pendingactions-add-invalid-message",this);const s=new(Be());return s.set("message",t),this._actions.add(s),this.hasAny=!0,s}remove(t){this._actions.remove(t),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const Kn={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>'};var QA=o(4768),t_={attributes:{"data-cke":!0}};t_.setAttributes=Tt(),t_.insert=Ot().bind(null,"head"),t_.domAPI=Rt(),t_.insertStyleElement=Mt(),jt()(QA.Z,t_),QA.Z&&QA.Z.locals&&QA.Z.locals;const{threeVerticalDots:DL}=Kn,Sre={alignLeft:Kn.alignLeft,bold:Kn.bold,importExport:Kn.importExport,paragraph:Kn.paragraph,plus:Kn.plus,text:Kn.text,threeVerticalDots:Kn.threeVerticalDots,pilcrow:Kn.pilcrow,dragIndicator:Kn.dragIndicator};class OP extends on{constructor(t,s){super(t);const a=this.bindTemplate,d=this.t;this.options=s||{},this.set("ariaLabel",d("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new Hi,this.keystrokes=new _a,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new Are(t),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const p=t.uiLanguageDirection==="rtl";this._focusCycler=new xc({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[p?"arrowright":"arrowleft","arrowup"],focusNext:[p?"arrowleft":"arrowright","arrowdown"]}});const w=["ck","ck-toolbar",a.to("class"),a.if("isCompact","ck-toolbar_compact")];var k;this.options.shouldGroupWhenFull&&this.options.isFloating&&w.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:w,role:"toolbar","aria-label":a.to("ariaLabel"),style:{maxWidth:a.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(k=this,k.bindTemplate.to(D=>{D.target===k.element&&D.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new Tre(this):new Cre(this)}render(){super.render(),this.focusTracker.add(this.element);for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",(t,s)=>{this.focusTracker.add(s.element)}),this.items.on("remove",(t,s)=>{this.focusTracker.remove(s.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(t,s,a){this.items.addMany(this._buildItemsFromConfig(t,s,a))}_buildItemsFromConfig(t,s,a){const d=Dy(t),p=a||d.removeItems;return this._cleanItemsConfiguration(d.items,s,p).map(w=>Me(w)?this._createNestedToolbarDropdown(w,s,p):w==="|"?new Ty:w==="-"?new Zf:s.create(w)).filter(w=>!!w)}_cleanItemsConfiguration(t,s,a){const d=t.filter((p,w,k)=>p==="|"||a.indexOf(p)===-1&&(p==="-"?!this.options.shouldGroupWhenFull||(Z("toolbarview-line-break-ignored-when-grouping-items",k),!1):!(!Me(p)&&!s.has(p))||(Z("toolbarview-item-unavailable",{item:p}),!1)));return this._cleanSeparatorsAndLineBreaks(d)}_cleanSeparatorsAndLineBreaks(t){const s=w=>w!=="-"&&w!=="|",a=t.length,d=t.findIndex(s);if(d===-1)return[];const p=a-t.slice().reverse().findIndex(s);return t.slice(d,p).filter((w,k,D)=>s(w)?!0:!(k>0&&D[k-1]===w))}_createNestedToolbarDropdown(t,s,a){let{label:d,icon:p,items:w,tooltip:k=!0,withText:D=!1}=t;if(w=this._cleanItemsConfiguration(w,s,a),!w.length)return null;const R=Lu(this.locale);return d||Z("toolbarview-nested-toolbar-dropdown-missing-label",t),R.class="ck-toolbar__nested-toolbar-dropdown",R.buttonView.set({label:d,tooltip:k,withText:!!D}),p!==!1?R.buttonView.icon=Sre[p]||p||DL:R.buttonView.withText=!0,FP(R,()=>R.toolbarView._buildItemsFromConfig(w,s,a)),R}}class Are extends on{constructor(t){super(t),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class Cre{constructor(t){const s=t.bindTemplate;t.set("isVertical",!1),t.itemsView.children.bindTo(t.items).using(a=>a),t.focusables.bindTo(t.items).using(a=>a),t.extendTemplate({attributes:{class:[s.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class Tre{constructor(t){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=t,this.viewChildren=t.children,this.viewFocusables=t.focusables,this.viewItemsView=t.itemsView,this.viewFocusTracker=t.focusTracker,this.viewLocale=t.locale,this.ungroupedItems=t.createCollection(),this.groupedItems=t.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),t.itemsView.children.bindTo(this.ungroupedItems).using(s=>s),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),t.children.on("change",this._updateFocusCycleableItems.bind(this)),t.items.on("change",(s,a)=>{const d=a.index,p=Array.from(a.added);for(const w of a.removed)d>=this.ungroupedItems.length?this.groupedItems.remove(w):this.ungroupedItems.remove(w);for(let w=d;w<d+p.length;w++){const k=p[w-d];w>this.ungroupedItems.length?this.groupedItems.add(k,w-this.ungroupedItems.length):this.ungroupedItems.add(k,w)}this._updateGrouping()}),t.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(t){this.viewElement=t.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(t)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Ai(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const t=this.groupedItems.length;let s;for(;this._areItemsOverflowing;)this._groupLastItem(),s=!0;if(!s&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==t&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const t=this.viewElement,s=this.viewLocale.uiLanguageDirection,a=new vt(t.lastChild),d=new vt(t);if(!this.cachedPadding){const p=de.window.getComputedStyle(t),w=s==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(p[w])}return s==="ltr"?a.right>d.right-this.cachedPadding:a.left<d.left+this.cachedPadding}_enableGroupingOnResize(){let t;this.resizeObserver=new wn(this.viewElement,s=>{t&&t===s.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),t=s.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(t){t.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new Ty),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const t=this.viewLocale,s=t.t,a=Lu(t);return a.class="ck-toolbar__grouped-dropdown",a.panelPosition=t.uiLanguageDirection==="ltr"?"sw":"se",FP(a,this.groupedItems),a.buttonView.set({label:s("Show more items"),tooltip:!0,tooltipPosition:t.uiLanguageDirection==="rtl"?"se":"sw",icon:DL}),a}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(t=>{this.viewFocusables.add(t)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class eC extends on{constructor(t){super(t);const s=this.bindTemplate,a=`ck-editor__label_${O()}`,d=new NL(t);this.children=this.createCollection(),this.children.addMany([this._createLabel(a),d]),this.set({label:"",isVisible:!0}),d.set({role:"group",ariaLabelledBy:a}),d.focusTracker.destroy(),d.keystrokes.destroy(),this.items=d.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",s.if("isVisible","ck-hidden",p=>!p)]},children:this.children})}_createLabel(t){const s=new on(this.locale),a=this.bindTemplate;return s.setTemplate({tag:"span",attributes:{id:t},children:[{text:a.to("label")}]}),s}focus(){this.items.first&&this.items.first.focus()}}var tC=o(179),n_={attributes:{"data-cke":!0}};n_.setAttributes=Tt(),n_.insert=Ot().bind(null,"head"),n_.domAPI=Rt(),n_.insertStyleElement=Mt(),jt()(tC.Z,n_),tC.Z&&tC.Z.locals&&tC.Z.locals;class NL extends on{constructor(t){super(t),this._listItemGroupToChangeListeners=new WeakMap;const s=this.bindTemplate;this.focusables=new Lo,this.items=this.createCollection(),this.focusTracker=new Hi,this.keystrokes=new _a,this._focusCycler=new xc({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:s.to("role"),"aria-label":s.to("ariaLabel"),"aria-labelledby":s.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const t of this.items)t instanceof eC?this._registerFocusableItemsGroup(t):this._registerFocusableListItem(t);this.items.on("change",(t,s)=>{for(const a of s.removed)a instanceof eC?this._deregisterFocusableItemsGroup(a):this._deregisterFocusableListItem(a);for(const a of Array.from(s.added).reverse())a instanceof eC?this._registerFocusableItemsGroup(a,s.index):this._registerFocusableListItem(a,s.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(t,s){this.focusTracker.add(t.element),this.focusables.add(t,s)}_deregisterFocusableListItem(t){this.focusTracker.remove(t.element),this.focusables.remove(t)}_getOnGroupItemsChangeCallback(t){return(s,a)=>{for(const d of a.removed)this._deregisterFocusableListItem(d);for(const d of Array.from(a.added).reverse())this._registerFocusableListItem(d,this.items.getIndex(t)+a.index)}}_registerFocusableItemsGroup(t,s){Array.from(t.items).forEach((d,p)=>{const w=s!==void 0?s+p:void 0;this._registerFocusableListItem(d,w)});const a=this._getOnGroupItemsChangeCallback(t);this._listItemGroupToChangeListeners.set(t,a),t.items.on("change",a)}_deregisterFocusableItemsGroup(t){for(const s of t.items)this._deregisterFocusableListItem(s);t.items.off("change",this._listItemGroupToChangeListeners.get(t)),this._listItemGroupToChangeListeners.delete(t)}}class PL extends on{constructor(t){super(t);const s=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",s.if("isVisible","ck-hidden",a=>!a)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class Dre extends on{constructor(t){super(t),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var nC=o(4791),i_={attributes:{"data-cke":!0}};i_.setAttributes=Tt(),i_.insert=Ot().bind(null,"head"),i_.domAPI=Rt(),i_.insertStyleElement=Mt(),jt()(nC.Z,i_),nC.Z&&nC.Z.locals&&nC.Z.locals;class iC extends on{constructor(t){super(t);const s=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new _a,this.focusTracker=new Hi,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",s.to("class"),s.if("isVisible","ck-hidden",a=>!a),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(t,s)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),s())}),this.keystrokes.set("arrowleft",(t,s)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),s())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const t=new Mn;return t.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),t.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),t.delegate("execute").to(this),t}_createArrowView(){const t=new Mn,s=t.bindTemplate;return t.icon=vx,t.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":s.to("isOn"),"aria-haspopup":!0,"aria-expanded":s.to("isOn",a=>String(a))}}),t.bind("isEnabled").to(this),t.bind("label").to(this),t.bind("tooltip").to(this),t.delegate("execute").to(this,"open"),t}}var rC=o(2704),r_={attributes:{"data-cke":!0}};r_.setAttributes=Tt(),r_.insert=Ot().bind(null,"head"),r_.domAPI=Rt(),r_.insertStyleElement=Mt(),jt()(rC.Z,r_),rC.Z&&rC.Z.locals&&rC.Z.locals;var sC=o(1883),s_={attributes:{"data-cke":!0}};s_.setAttributes=Tt(),s_.insert=Ot().bind(null,"head"),s_.domAPI=Rt(),s_.insertStyleElement=Mt(),jt()(sC.Z,s_),sC.Z&&sC.Z.locals&&sC.Z.locals;function Lu(f,t=Cy){const s=new t(f),a=new wc(f),d=new Zd(f,s,a);return s.bind("isEnabled").to(d),s instanceof iC?s.arrowView.bind("isOn").to(d,"isOpen"):s.bind("isOn").to(d,"isOpen"),function(p){(function(w){w.on("render",()=>{c({emitter:w,activator:()=>w.isOpen,callback:()=>{w.isOpen=!1},contextElements:()=>[w.element,...w.focusTracker._elements]})})})(p),function(w){w.on("execute",k=>{k.source instanceof xu||(w.isOpen=!1)})}(p),function(w){w.focusTracker.on("change:isFocused",(k,D,R)=>{w.isOpen&&!R&&(w.isOpen=!1)})}(p),function(w){w.keystrokes.set("arrowdown",(k,D)=>{w.isOpen&&(w.panelView.focus(),D())}),w.keystrokes.set("arrowup",(k,D)=>{w.isOpen&&(w.panelView.focusLast(),D())})}(p),function(w){w.on("change:isOpen",(k,D,R)=>{if(R)return;const M=w.panelView.element;M&&M.contains(de.document.activeElement)&&w.buttonView.focus()})}(p),function(w){w.on("change:isOpen",(k,D,R)=>{R&&w.panelView.focus()},{priority:"low"})}(p)}(d),d}function FP(f,t,s={}){f.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),f.isOpen?IL(f,t,s):f.once("change:isOpen",()=>IL(f,t,s),{priority:"highest"}),s.enableActiveItemFocusOnDropdownOpen&&RL(f,()=>f.toolbarView.items.find(a=>a.isOn))}function IL(f,t,s){const a=f.locale,d=a.t,p=f.toolbarView=new OP(a),w=typeof t=="function"?t():t;p.ariaLabel=s.ariaLabel||d("Dropdown toolbar"),s.maxWidth&&(p.maxWidth=s.maxWidth),s.class&&(p.class=s.class),s.isCompact&&(p.isCompact=s.isCompact),s.isVertical&&(p.isVertical=!0),w instanceof Lo?p.items.bindTo(w).using(k=>k):p.items.addMany(w),f.panelView.children.add(p),p.items.delegate("execute").to(f)}function oC(f,t,s={}){f.isOpen?jL(f,t,s):f.once("change:isOpen",()=>jL(f,t,s),{priority:"highest"}),RL(f,()=>f.listView.items.find(a=>a instanceof PL&&a.children.first.isOn))}function jL(f,t,s){const a=f.locale,d=f.listView=new NL(a),p=typeof t=="function"?t():t;d.ariaLabel=s.ariaLabel,d.role=s.role,ML(f,d.items,p,a),f.panelView.children.add(d),d.items.delegate("execute").to(f)}function RL(f,t){f.on("change:isOpen",()=>{if(!f.isOpen)return;const s=t();s&&(typeof s.focus=="function"?s.focus():Z("ui-dropdown-focus-child-on-open-child-missing-focus",{view:s}))},{priority:F.low-10})}function ML(f,t,s,a){t.bindTo(s).using(d=>{if(d.type==="separator")return new Dre(a);if(d.type==="group"){const p=new eC(a);return p.set({label:d.label}),ML(f,p.items,d.items,a),p.items.delegate("execute").to(f),p}if(d.type==="button"||d.type==="switchbutton"){const p=new PL(a);let w;return w=d.type==="button"?new Mn(a):new xu(a),w.bind(...Object.keys(d.model)).to(d.model),w.delegate("execute").to(p),p.children.add(w),p}return null})}const aC=(f,t,s)=>{const a=new yx(f.locale);return a.set({id:t,ariaDescribedById:s}),a.bind("isReadOnly").to(f,"isEnabled",d=>!d),a.bind("hasError").to(f,"errorText",d=>!!d),a.on("input",()=>{f.errorText=null}),f.bind("isEmpty","isFocused","placeholder").to(a),a},o_=(f,t=0,s=1)=>f>s?s:f<t?t:f,ps=(f,t=0,s=Math.pow(10,t))=>Math.round(s*f)/s,UP=f=>(f[0]==="#"&&(f=f.substring(1)),f.length<6?{r:parseInt(f[0]+f[0],16),g:parseInt(f[1]+f[1],16),b:parseInt(f[2]+f[2],16),a:f.length===4?ps(parseInt(f[3]+f[3],16)/255,2):1}:{r:parseInt(f.substring(0,2),16),g:parseInt(f.substring(2,4),16),b:parseInt(f.substring(4,6),16),a:f.length===8?ps(parseInt(f.substring(6,8),16)/255,2):1}),Nre=({h:f,s:t,v:s,a})=>{const d=(200-t)*s/100;return{h:ps(f),s:ps(d>0&&d<200?t*s/100/(d<=100?d:200-d)*100:0),l:ps(d/2),a:ps(a,2)}},LP=f=>{const{h:t,s,l:a}=Nre(f);return`hsl(${t}, ${s}%, ${a}%)`},Pre=({h:f,s:t,v:s,a})=>{f=f/360*6,t/=100,s/=100;const d=Math.floor(f),p=s*(1-t),w=s*(1-(f-d)*t),k=s*(1-(1-f+d)*t),D=d%6;return{r:ps(255*[s,w,p,p,k,s][D]),g:ps(255*[k,s,s,w,p,p][D]),b:ps(255*[p,p,k,s,s,w][D]),a:ps(a,2)}},lC=f=>{const t=f.toString(16);return t.length<2?"0"+t:t},Ire=({r:f,g:t,b:s,a})=>{const d=a<1?lC(ps(255*a)):"";return"#"+lC(f)+lC(t)+lC(s)+d},jre=({r:f,g:t,b:s,a})=>{const d=Math.max(f,t,s),p=d-Math.min(f,t,s),w=p?d===f?(t-s)/p:d===t?2+(s-f)/p:4+(f-t)/p:0;return{h:ps(60*(w<0?w+6:w)),s:ps(d?p/d*100:0),v:ps(d/255*100),a}},OL=(f,t)=>{if(f===t)return!0;for(const s in f)if(f[s]!==t[s])return!1;return!0},FL={},UL=f=>{let t=FL[f];return t||(t=document.createElement("template"),t.innerHTML=f,FL[f]=t),t},BP=(f,t,s)=>{f.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:s}))};let ev=!1;const zP=f=>"touches"in f,LL=(f,t)=>{const s=zP(t)?t.touches[0]:t,a=f.el.getBoundingClientRect();BP(f.el,"move",f.getMove({x:o_((s.pageX-(a.left+window.pageXOffset))/a.width),y:o_((s.pageY-(a.top+window.pageYOffset))/a.height)}))};class BL{constructor(t,s,a,d){const p=UL(`<div role="slider" tabindex="0" part="${s}" ${a}><div part="${s}-pointer"></div></div>`);t.appendChild(p.content.cloneNode(!0));const w=t.querySelector(`[part=${s}]`);w.addEventListener("mousedown",this),w.addEventListener("touchstart",this),w.addEventListener("keydown",this),this.el=w,this.xy=d,this.nodes=[w.firstChild,w]}set dragging(t){const s=t?document.addEventListener:document.removeEventListener;s(ev?"touchmove":"mousemove",this),s(ev?"touchend":"mouseup",this)}handleEvent(t){switch(t.type){case"mousedown":case"touchstart":if(t.preventDefault(),!(s=>!(ev&&!zP(s)||(ev||(ev=zP(s)),0)))(t)||!ev&&t.button!=0)return;this.el.focus(),LL(this,t),this.dragging=!0;break;case"mousemove":case"touchmove":t.preventDefault(),LL(this,t);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":((s,a)=>{const d=a.keyCode;d>40||s.xy&&d<37||d<33||(a.preventDefault(),BP(s.el,"move",s.getMove({x:d===39?.01:d===37?-.01:d===34?.05:d===33?-.05:d===35?1:d===36?-1:0,y:d===40?.01:d===38?-.01:0},!0)))})(this,t)}}style(t){t.forEach((s,a)=>{for(const d in s)this.nodes[a].style.setProperty(d,s[d])})}}class Rre extends BL{constructor(t){super(t,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:t}){this.h=t,this.style([{left:t/360*100+"%",color:LP({h:t,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${ps(t)}`)}getMove(t,s){return{h:s?o_(this.h+360*t.x,0,360):360*t.x}}}class Mre extends BL{constructor(t){super(t,"saturation",'aria-label="Color"',!0)}update(t){this.hsva=t,this.style([{top:100-t.v+"%",left:`${t.s}%`,color:LP(t)},{"background-color":LP({h:t.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${ps(t.s)}%, Brightness ${ps(t.v)}%`)}getMove(t,s){return{s:s?o_(this.hsva.s+100*t.x,0,100):100*t.x,v:s?o_(this.hsva.v-100*t.y,0,100):Math.round(100-100*t.y)}}}const cC=Symbol("same"),VP=Symbol("color"),zL=Symbol("hsva"),WP=Symbol("update"),VL=Symbol("parts"),WL=Symbol("css"),$L=Symbol("sliders");class Ore extends HTMLElement{static get observedAttributes(){return["color"]}get[WL](){return[':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',"[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}","[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}"]}get[$L](){return[Mre,Rre]}get color(){return this[VP]}set color(t){if(!this[cC](t)){const s=this.colorModel.toHsva(t);this[WP](s),this[VP]=t}}constructor(){super();const t=UL(`<style>${this[WL].join("")}</style>`),s=this.attachShadow({mode:"open"});s.appendChild(t.content.cloneNode(!0)),s.addEventListener("move",this),this[VL]=this[$L].map(a=>new a(s))}connectedCallback(){if(this.hasOwnProperty("color")){const t=this.color;delete this.color,this.color=t}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(t,s,a){const d=this.colorModel.fromAttr(a);this[cC](d)||(this.color=d)}handleEvent(t){const s=this[zL],a={...s,...t.detail};let d;this[WP](a),OL(a,s)||this[cC](d=this.colorModel.fromHsva(a))||(this[VP]=d,BP(this,"color-changed",{value:d}))}[cC](t){return this.color&&this.colorModel.equal(t,this.color)}[WP](t){this[zL]=t,this[VL].forEach(s=>s.update(t))}}const Fre={defaultColor:"#000",toHsva:f=>jre(UP(f)),fromHsva:({h:f,s:t,v:s})=>Ire(Pre({h:f,s:t,v:s,a:1})),equal:(f,t)=>f.toLowerCase()===t.toLowerCase()||OL(UP(f),UP(t)),fromAttr:f=>f};class Ure extends Ore{get colorModel(){return Fre}}customElements.define("hex-color-picker",class extends Ure{});var uC=o(4257),a_={attributes:{"data-cke":!0}};a_.setAttributes=Tt(),a_.insert=Ot().bind(null,"head"),a_.domAPI=Rt(),a_.insertStyleElement=Mt(),jt()(uC.Z,a_),uC.Z&&uC.Z.locals&&uC.Z.locals;var dC=o(6306),l_={attributes:{"data-cke":!0}};l_.setAttributes=Tt(),l_.insert=Ot().bind(null,"head"),l_.domAPI=Rt(),l_.insertStyleElement=Mt(),jt()(dC.Z,l_),dC.Z&&dC.Z.locals&&dC.Z.locals;class Lre{constructor(t){this._components=new Map,this.editor=t}*names(){for(const t of this._components.values())yield t.originalName}add(t,s){this._components.set($P(t),{callback:s,originalName:t})}create(t){if(!this.has(t))throw new B("componentfactory-item-missing",this,{name:t});return this._components.get($P(t)).callback(this.editor.locale)}has(t){return this._components.has($P(t))}}function $P(f){return String(f).toLowerCase()}var hC=o(4460),c_={attributes:{"data-cke":!0}};c_.setAttributes=Tt(),c_.insert=Ot().bind(null,"head"),c_.domAPI=Rt(),c_.insertStyleElement=Mt(),jt()(hC.Z,c_),hC.Z&&hC.Z.locals&&hC.Z.locals;const qL=Lr("px"),HL=de.document.body,Bre={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}};class Ls extends on{constructor(t){super(t);const s=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",s.to("position",a=>`ck-balloon-panel_${a}`),s.if("isVisible","ck-balloon-panel_visible"),s.if("withArrow","ck-balloon-panel_with-arrow"),s.to("class")],style:{top:s.to("top",qL),left:s.to("left",qL)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(t){this.show();const s=Ls.defaultPositions,a=Object.assign({},{element:this.element,positions:[s.southArrowNorth,s.southArrowNorthMiddleWest,s.southArrowNorthMiddleEast,s.southArrowNorthWest,s.southArrowNorthEast,s.northArrowSouth,s.northArrowSouthMiddleWest,s.northArrowSouthMiddleEast,s.northArrowSouthWest,s.northArrowSouthEast,s.viewportStickyNorth],limiter:HL,fitInViewport:!0},t),d=Ls._getOptimalPosition(a)||Bre,p=parseInt(d.left),w=parseInt(d.top),k=d.name,D=d.config||{},{withArrow:R=!0}=D;this.top=w,this.left=p,this.position=k,this.withArrow=R}pin(t){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(t):this._stopPinning()},this._startPinning(t),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(t){this.attachTo(t);const s=qP(t.target),a=t.limiter?qP(t.limiter):HL;this.listenTo(de.document,"scroll",(d,p)=>{const w=p.target,k=s&&w.contains(s),D=a&&w.contains(a);!k&&!D&&s&&a||this.attachTo(t)},{useCapture:!0}),this.listenTo(de.window,"resize",()=>{this.attachTo(t)})}_stopPinning(){this.stopListening(de.document,"scroll"),this.stopListening(de.window,"resize")}}function qP(f){return $n(f)?f:Ye(f)?f.commonAncestorContainer:typeof f=="function"?qP(f()):null}function GL(f={}){const{sideOffset:t=Ls.arrowSideOffset,heightOffset:s=Ls.arrowHeightOffset,stickyVerticalOffset:a=Ls.stickyVerticalOffset,config:d}=f;return{northWestArrowSouthWest:(k,D)=>({top:p(k,D),left:k.left-t,name:"arrow_sw",...d&&{config:d}}),northWestArrowSouthMiddleWest:(k,D)=>({top:p(k,D),left:k.left-.25*D.width-t,name:"arrow_smw",...d&&{config:d}}),northWestArrowSouth:(k,D)=>({top:p(k,D),left:k.left-D.width/2,name:"arrow_s",...d&&{config:d}}),northWestArrowSouthMiddleEast:(k,D)=>({top:p(k,D),left:k.left-.75*D.width+t,name:"arrow_sme",...d&&{config:d}}),northWestArrowSouthEast:(k,D)=>({top:p(k,D),left:k.left-D.width+t,name:"arrow_se",...d&&{config:d}}),northArrowSouthWest:(k,D)=>({top:p(k,D),left:k.left+k.width/2-t,name:"arrow_sw",...d&&{config:d}}),northArrowSouthMiddleWest:(k,D)=>({top:p(k,D),left:k.left+k.width/2-.25*D.width-t,name:"arrow_smw",...d&&{config:d}}),northArrowSouth:(k,D)=>({top:p(k,D),left:k.left+k.width/2-D.width/2,name:"arrow_s",...d&&{config:d}}),northArrowSouthMiddleEast:(k,D)=>({top:p(k,D),left:k.left+k.width/2-.75*D.width+t,name:"arrow_sme",...d&&{config:d}}),northArrowSouthEast:(k,D)=>({top:p(k,D),left:k.left+k.width/2-D.width+t,name:"arrow_se",...d&&{config:d}}),northEastArrowSouthWest:(k,D)=>({top:p(k,D),left:k.right-t,name:"arrow_sw",...d&&{config:d}}),northEastArrowSouthMiddleWest:(k,D)=>({top:p(k,D),left:k.right-.25*D.width-t,name:"arrow_smw",...d&&{config:d}}),northEastArrowSouth:(k,D)=>({top:p(k,D),left:k.right-D.width/2,name:"arrow_s",...d&&{config:d}}),northEastArrowSouthMiddleEast:(k,D)=>({top:p(k,D),left:k.right-.75*D.width+t,name:"arrow_sme",...d&&{config:d}}),northEastArrowSouthEast:(k,D)=>({top:p(k,D),left:k.right-D.width+t,name:"arrow_se",...d&&{config:d}}),southWestArrowNorthWest:k=>({top:w(k),left:k.left-t,name:"arrow_nw",...d&&{config:d}}),southWestArrowNorthMiddleWest:(k,D)=>({top:w(k),left:k.left-.25*D.width-t,name:"arrow_nmw",...d&&{config:d}}),southWestArrowNorth:(k,D)=>({top:w(k),left:k.left-D.width/2,name:"arrow_n",...d&&{config:d}}),southWestArrowNorthMiddleEast:(k,D)=>({top:w(k),left:k.left-.75*D.width+t,name:"arrow_nme",...d&&{config:d}}),southWestArrowNorthEast:(k,D)=>({top:w(k),left:k.left-D.width+t,name:"arrow_ne",...d&&{config:d}}),southArrowNorthWest:k=>({top:w(k),left:k.left+k.width/2-t,name:"arrow_nw",...d&&{config:d}}),southArrowNorthMiddleWest:(k,D)=>({top:w(k),left:k.left+k.width/2-.25*D.width-t,name:"arrow_nmw",...d&&{config:d}}),southArrowNorth:(k,D)=>({top:w(k),left:k.left+k.width/2-D.width/2,name:"arrow_n",...d&&{config:d}}),southArrowNorthMiddleEast:(k,D)=>({top:w(k),left:k.left+k.width/2-.75*D.width+t,name:"arrow_nme",...d&&{config:d}}),southArrowNorthEast:(k,D)=>({top:w(k),left:k.left+k.width/2-D.width+t,name:"arrow_ne",...d&&{config:d}}),southEastArrowNorthWest:k=>({top:w(k),left:k.right-t,name:"arrow_nw",...d&&{config:d}}),southEastArrowNorthMiddleWest:(k,D)=>({top:w(k),left:k.right-.25*D.width-t,name:"arrow_nmw",...d&&{config:d}}),southEastArrowNorth:(k,D)=>({top:w(k),left:k.right-D.width/2,name:"arrow_n",...d&&{config:d}}),southEastArrowNorthMiddleEast:(k,D)=>({top:w(k),left:k.right-.75*D.width+t,name:"arrow_nme",...d&&{config:d}}),southEastArrowNorthEast:(k,D)=>({top:w(k),left:k.right-D.width+t,name:"arrow_ne",...d&&{config:d}}),westArrowEast:(k,D)=>({top:k.top+k.height/2-D.height/2,left:k.left-D.width-s,name:"arrow_e",...d&&{config:d}}),eastArrowWest:(k,D)=>({top:k.top+k.height/2-D.height/2,left:k.right+s,name:"arrow_w",...d&&{config:d}}),viewportStickyNorth:(k,D,R,M)=>{const L=M||R;return k.getIntersection(L)?L.height-k.height>a?null:{top:L.top+a,left:k.left+k.width/2-D.width/2,name:"arrowless",config:{withArrow:!1,...d}}:null}};function p(k,D){return k.top-D.height-s}function w(k){return k.bottom+s}}Ls.arrowSideOffset=25,Ls.arrowHeightOffset=10,Ls.stickyVerticalOffset=20,Ls._getOptimalPosition=cs,Ls.defaultPositions=GL();var fC=o(3888),u_={attributes:{"data-cke":!0}};u_.setAttributes=Tt(),u_.insert=Ot().bind(null,"head"),u_.domAPI=Rt(),u_.insertStyleElement=Mt(),jt()(fC.Z,u_),fC.Z&&fC.Z.locals&&fC.Z.locals;const XL="ck-tooltip";class Wr extends ur(){constructor(t){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,Wr._editors.add(t),Wr._instance)return Wr._instance;Wr._instance=this,this.tooltipTextView=new on(t.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Ls(t.locale),this.balloonPanelView.class=XL,this.balloonPanelView.content.add(this.tooltipTextView),this._pinTooltipDebounced=ih(this._pinTooltip,600),this.listenTo(de.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(de.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(de.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(de.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(de.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(t){const s=t.ui.view&&t.ui.view.body;Wr._editors.delete(t),this.stopListening(t.ui),s&&s.has(this.balloonPanelView)&&s.remove(this.balloonPanelView),Wr._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Wr._instance=null)}static getPositioningFunctions(t){const s=Wr.defaultBalloonPositions;return{s:[s.southArrowNorth,s.southArrowNorthEast,s.southArrowNorthWest],n:[s.northArrowSouth],e:[s.eastArrowWest],w:[s.westArrowEast],sw:[s.southArrowNorthEast],se:[s.southArrowNorthWest]}[t]}_onEnterOrFocus(t,{target:s}){const a=HP(s);var d;a&&a!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(a,{text:(d=a).dataset.ckeTooltipText,position:d.dataset.ckeTooltipPosition||"s",cssClass:d.dataset.ckeTooltipClass||""}))}_onLeaveOrBlur(t,{target:s,relatedTarget:a}){if(t.name==="mouseleave"){if(!$n(s)||this._currentElementWithTooltip&&s!==this._currentElementWithTooltip)return;const d=HP(s),p=HP(a);d&&d!==p&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&s!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(t,{target:s}){this._currentElementWithTooltip&&(s.contains(this.balloonPanelView.element)&&s.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(t,{text:s,position:a,cssClass:d}){const p=ci(Wr._editors.values()).ui.view.body;p.has(this.balloonPanelView)||p.add(this.balloonPanelView),this.tooltipTextView.text=s,this.balloonPanelView.pin({target:t,positions:Wr.getPositioningFunctions(a)}),this._resizeObserver=new wn(t,()=>{Ai(t)||this._unpinTooltip()}),this.balloonPanelView.class=[XL,d].filter(w=>w).join(" ");for(const w of Wr._editors)this.listenTo(w.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=t,this._currentTooltipPosition=a}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const t of Wr._editors)this.stopListening(t.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){Ai(this._currentElementWithTooltip)?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Wr.getPositioningFunctions(this._currentTooltipPosition)}):this._unpinTooltip()}}function HP(f){return $n(f)?f.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}Wr.defaultBalloonPositions=GL({heightOffset:5,sideOffset:13}),Wr._editors=new Set,Wr._instance=null;const d_=function(f,t,s){var a=!0,d=!0;if(typeof f!="function")throw new TypeError("Expected a function");return Me(s)&&(a="leading"in s?!!s.leading:a,d="trailing"in s?!!s.trailing:d),ih(f,t,{leading:a,maxWait:t,trailing:d})},zre=50,Vre=350,Wre="Powered by";class $re extends ur(){constructor(t){super(),this.editor=t,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=d_(this._showBalloon.bind(this),50,{leading:!0}),t.on("ready",this._handleEditorReady.bind(this))}destroy(){const t=this._balloonView;t&&(t.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const t=this.editor;(t.config.get("ui.poweredBy.forceVisible")||function(s){function a(Y){return Y.length>=40&&Y.length<=255?"VALID":"INVALID"}if(!s)return"INVALID";let d="";try{d=atob(s)}catch{return"INVALID"}const p=d.split("-"),w=p[0],k=p[1];if(!k)return a(s);try{atob(k)}catch{try{if(atob(w),!atob(w).length)return a(s)}catch{return a(s)}}if(w.length<40||w.length>255)return"INVALID";let D="";try{atob(w),D=atob(k)}catch{return"INVALID"}if(D.length!==8)return"INVALID";const R=Number(D.substring(0,4)),M=Number(D.substring(4,6))-1,L=Number(D.substring(6,8)),W=new Date(R,M,L);return W<ge||isNaN(Number(W))?"INVALID":"VALID"}(t.config.get("licenseKey"))!=="VALID")&&t.ui.view&&(t.ui.focusTracker.on("change:isFocused",(s,a,d)=>{this._updateLastFocusedEditableElement(),d?this._showBalloon():this._hideBalloon()}),t.ui.focusTracker.on("change:focusedElement",(s,a,d)=>{this._updateLastFocusedEditableElement(),d&&this._showBalloon()}),t.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const t=this.editor,s=this._balloonView=new Ls,a=ZL(t),d=new qre(t.locale,a.label);s.content.add(d),s.set({class:"ck-powered-by-balloon"}),t.ui.view.body.add(s),t.ui.focusTracker.add(s.element),this._balloonView=s}_showBalloon(){if(!this._lastFocusedEditableElement)return;const t=function(s,a){const d=ZL(s),p=d.side==="right"?function(w,k){return KL(w,k,(D,R)=>D.left+D.width-R.width-k.horizontalOffset)}(a,d):function(w,k){return KL(w,k,D=>D.left+k.horizontalOffset)}(a,d);return{target:a,positions:[p]}}(this.editor,this._lastFocusedEditableElement);t&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(t))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const t=this.editor,s=t.ui.focusTracker.isFocused,a=t.ui.focusTracker.focusedElement;if(!s||!a)return void(this._lastFocusedEditableElement=null);const d=Array.from(t.ui.getEditableElementsNames()).map(p=>t.ui.getEditableElement(p));d.includes(a)?this._lastFocusedEditableElement=a:this._lastFocusedEditableElement=d[0]}}class qre extends on{constructor(t,s){super(t);const a=new zo,d=this.bindTemplate;a.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),a.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...s?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[s]}]:[],a],on:{dragstart:d.to(p=>p.preventDefault())}}]})}}function KL(f,t,s){return(a,d)=>{const p=new vt(f);if(p.width<Vre||p.height<zre)return null;let w;w=t.position==="inside"?p.bottom-d.height:p.bottom-d.height/2,w-=t.verticalOffset;const k=s(p,d),D=a.clone().moveTo(k,w).getIntersection(d.clone().moveTo(k,w)).getVisible();return!D||D.getArea()<d.getArea()?null:{top:w,left:k,name:`position_${t.position}-side_${t.side}`,config:{withArrow:!1}}}}function ZL(f){const t=f.config.get("ui.poweredBy"),s=t&&t.position||"border";return{position:s,label:Wre,verticalOffset:s==="inside"?5:0,horizontalOffset:5,side:f.locale.contentLanguageDirection==="ltr"?"right":"left",...t}}class Hre extends Be(){constructor(t){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const s=t.editing.view;this.editor=t,this.componentFactory=new Lre(t),this.focusTracker=new Hi,this.tooltipManager=new Wr(t),this.poweredBy=new $re(t),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(s.document,"layoutChanged",this.update.bind(this)),this.listenTo(s,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const t of this._editableElementsMap.values())t.ckeditorInstance=null,this.editor.keystrokes.stopListening(t);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(t,s){this._editableElementsMap.set(t,s),s.ckeditorInstance||(s.ckeditorInstance=this.editor),this.focusTracker.add(s);const a=()=>{this.editor.editing.view.getDomRoot(t)||this.editor.keystrokes.listenTo(s)};this.isReady?a():this.once("ready",a)}removeEditableElement(t){const s=this._editableElementsMap.get(t);s&&(this._editableElementsMap.delete(t),this.editor.keystrokes.stopListening(s),this.focusTracker.remove(s),s.ckeditorInstance=null)}getEditableElement(t="main"){return this._editableElementsMap.get(t)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(t,s={}){t.isRendered?(this.focusTracker.add(t.element),this.editor.keystrokes.listenTo(t.element)):t.once("render",()=>{this.focusTracker.add(t.element),this.editor.keystrokes.listenTo(t.element)}),this._focusableToolbarDefinitions.push({toolbarView:t,options:s})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const t=this.editor,s=t.config.get("ui.viewportOffset");if(s)return s;const a=t.config.get("toolbar.viewportTopOffset");return a?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:a}):{top:0}}_initFocusTracking(){const t=this.editor,s=t.editing.view;let a,d;t.keystrokes.set("Alt+F10",(p,w)=>{const k=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(k)&&!Array.from(s.domRoots.values()).includes(k)&&(a=k);const D=this._getCurrentFocusedToolbarDefinition();D&&d||(d=this._getFocusableCandidateToolbarDefinitions());for(let R=0;R<d.length;R++){const M=d.shift();if(d.push(M),M!==D&&this._focusFocusableCandidateToolbar(M)){D&&D.options.afterBlur&&D.options.afterBlur();break}}w()}),t.keystrokes.set("Esc",(p,w)=>{const k=this._getCurrentFocusedToolbarDefinition();k&&(a?(a.focus(),a=null):t.editing.view.focus(),k.options.afterBlur&&k.options.afterBlur(),w())})}_getFocusableCandidateToolbarDefinitions(){const t=[];for(const s of this._focusableToolbarDefinitions){const{toolbarView:a,options:d}=s;(Ai(a.element)||d.beforeFocus)&&t.push(s)}return t.sort((s,a)=>YL(s)-YL(a)),t}_getCurrentFocusedToolbarDefinition(){for(const t of this._focusableToolbarDefinitions)if(t.toolbarView.element&&t.toolbarView.element.contains(this.focusTracker.focusedElement))return t;return null}_focusFocusableCandidateToolbar(t){const{toolbarView:s,options:{beforeFocus:a}}=t;return a&&a(),!!Ai(s.element)&&(s.focus(),!0)}_handleScrollToTheSelection(t,s){const a={top:0,bottom:0,left:0,right:0,...this.viewportOffset};s.viewportOffset.top+=a.top,s.viewportOffset.bottom+=a.bottom,s.viewportOffset.left+=a.left,s.viewportOffset.right+=a.right}}function YL(f){const{toolbarView:t,options:s}=f;let a=10;return Ai(t.element)&&a--,s.isContextual&&a--,a}var pC=o(9847),h_={attributes:{"data-cke":!0}};h_.setAttributes=Tt(),h_.insert=Ot().bind(null,"head"),h_.domAPI=Rt(),h_.insertStyleElement=Mt(),jt()(pC.Z,h_),pC.Z&&pC.Z.locals&&pC.Z.locals;class Gre extends on{constructor(t){super(t),this.body=new kg(t)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class Xre extends Gre{constructor(t){super(t),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:t.uiLanguageDirection,lang:t.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const t=this.t,s=new Gf;return s.text=t("Rich Text Editor"),s.extendTemplate({attributes:{class:"ck-voice-label"}}),s}}class Kre extends on{constructor(t,s,a){super(t),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:t.contentLanguage,dir:t.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=a,this._hasExternalElement=!!this._editableElement,this._editingView=s}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const t=this._editingView;function s(a){t.change(d=>{const p=t.document.getRoot(a.name);d.addClass(a.isFocused?"ck-focused":"ck-blurred",p),d.removeClass(a.isFocused?"ck-blurred":"ck-focused",p)})}t.isRenderingInProgress?function a(d){t.once("change:isRenderingInProgress",(p,w,k)=>{k?a(d):s(d)})}(this):s(this)}}class Zre extends Kre{constructor(t,s,a,d={}){super(t,s,a);const p=t.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=d.label||(()=>p("Editor editing area: %0",this.name))}render(){super.render();const t=this._editingView;t.change(s=>{const a=t.document.getRoot(this.name);s.setAttribute("aria-label",this._generateLabel(this),a)})}}var mC=o(1874),f_={attributes:{"data-cke":!0}};f_.setAttributes=Tt(),f_.insert=Ot().bind(null,"head"),f_.domAPI=Rt(),f_.insertStyleElement=Mt(),jt()(mC.Z,f_),mC.Z&&mC.Z.locals&&mC.Z.locals;class JL extends Yf{static get pluginName(){return"Notification"}init(){this.on("show:warning",(t,s)=>{window.alert(s.message)},{priority:"lowest"})}showSuccess(t,s={}){this._showNotification({message:t,type:"success",namespace:s.namespace,title:s.title})}showInfo(t,s={}){this._showNotification({message:t,type:"info",namespace:s.namespace,title:s.title})}showWarning(t,s={}){this._showNotification({message:t,type:"warning",namespace:s.namespace,title:s.title})}_showNotification(t){const s=t.namespace?`show:${t.type}:${t.namespace}`:`show:${t.type}`;this.fire(s,{message:t.message,type:t.type,title:t.title||""})}}class gC extends Be(){constructor(t,s){super(),s&&Ac(this,s),t&&this.set(t)}}var bC=o(7592),p_={attributes:{"data-cke":!0}};p_.setAttributes=Tt(),p_.insert=Ot().bind(null,"head"),p_.domAPI=Rt(),p_.insertStyleElement=Mt(),jt()(bC.Z,p_),bC.Z&&bC.Z.locals&&bC.Z.locals;var yC=o(6356),m_={attributes:{"data-cke":!0}};m_.setAttributes=Tt(),m_.insert=Ot().bind(null,"head"),m_.domAPI=Rt(),m_.insertStyleElement=Mt(),jt()(yC.Z,m_),yC.Z&&yC.Z.locals&&yC.Z.locals;const vC=Lr("px");class wC extends it{static get pluginName(){return"ContextualBalloon"}constructor(t){super(t),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const s=this.editor.editing.view,a=s.document.selection.editableElement;return a?s.domConverter.mapViewToDom(a.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(t){return Array.from(this._viewToStack.keys()).includes(t)}add(t){if(this._view||this._createPanelView(),this.hasView(t.view))throw new B("contextualballoon-add-view-exist",[this,t]);const s=t.stackId||"main";if(!this._idToStack.has(s))return this._idToStack.set(s,new Map([[t.view,t]])),this._viewToStack.set(t.view,this._idToStack.get(s)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!t.singleViewMode||this.showStack(s));const a=this._idToStack.get(s);t.singleViewMode&&this.showStack(s),a.set(t.view,t),this._viewToStack.set(t.view,a),a===this._visibleStack&&this._showView(t)}remove(t){if(!this.hasView(t))throw new B("contextualballoon-remove-view-not-exist",[this,t]);const s=this._viewToStack.get(t);this._singleViewMode&&this.visibleView===t&&(this._singleViewMode=!1),this.visibleView===t&&(s.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(s.values())[s.size-2])),s.size===1?(this._idToStack.delete(this._getStackId(s)),this._numberOfStacks=this._idToStack.size):s.delete(t),this._viewToStack.delete(t)}updatePosition(t){t&&(this._visibleStack.get(this.visibleView).position=t),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(t){this.visibleStack=t;const s=this._idToStack.get(t);if(!s)throw new B("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==s&&this._showView(Array.from(s.values()).pop())}_createPanelView(){this._view=new Ls(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(t){return Array.from(this._idToStack.entries()).find(s=>s[1]===t)[0]}_showNextStack(){const t=Array.from(this._idToStack.values());let s=t.indexOf(this._visibleStack)+1;t[s]||(s=0),this.showStack(this._getStackId(t[s]))}_showPrevStack(){const t=Array.from(this._idToStack.values());let s=t.indexOf(this._visibleStack)-1;t[s]||(s=t.length-1),this.showStack(this._getStackId(t[s]))}_createRotatorView(){const t=new Yre(this.editor.locale),s=this.editor.locale.t;return this.view.content.add(t),t.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(a,d)=>!d&&a>1),t.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),t.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(a,d)=>{if(d<2)return"";const p=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return s("%0 of %1",[p,d])}),t.buttonNextView.on("execute",()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),t.buttonPrevView.on("execute",()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),t}_createFakePanelsView(){const t=new Jre(this.editor.locale,this.view);return t.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(s,a)=>!a&&s>=2?Math.min(s-1,2):0),t.listenTo(this.view,"change:top",()=>t.updatePosition()),t.listenTo(this.view,"change:left",()=>t.updatePosition()),this.editor.ui.view.body.add(t),t}_showView({view:t,balloonClassName:s="",withArrow:a=!0,singleViewMode:d=!1}){this.view.class=s,this.view.withArrow=a,this._rotatorView.showView(t),this.visibleView=t,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),d&&(this._singleViewMode=!0)}_getBalloonPosition(){let t=Array.from(this._visibleStack.values()).pop().position;return t&&(t.limiter||(t=Object.assign({},t,{limiter:this.positionLimiter})),t=Object.assign({},t,{viewportOffsetConfig:this.editor.ui.viewportOffset})),t}}class Yre extends on{constructor(t){super(t);const s=t.t,a=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Hi,this.buttonPrevView=this._createButtonView(s("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(s("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",a.to("isNavigationVisible",d=>d?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:a.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(t){this.hideView(),this.content.add(t)}hideView(){this.content.clear()}_createButtonView(t,s){const a=new Mn(this.locale);return a.set({label:t,icon:s,tooltip:!0}),a}}class Jre extends on{constructor(t,s){super(t);const a=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=s,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",a.to("numberOfPanels",d=>d?"":"ck-hidden")],style:{top:a.to("top",vC),left:a.to("left",vC),width:a.to("width",vC),height:a.to("height",vC)}},children:this.content}),this.on("change:numberOfPanels",(d,p,w,k)=>{w>k?this._addPanels(w-k):this._removePanels(k-w),this.updatePosition()})}_addPanels(t){for(;t--;){const s=new on;s.setTemplate({tag:"div"}),this.content.add(s),this.registerChild(s)}}_removePanels(t){for(;t--;){const s=this.content.last;this.content.remove(s),this.deregisterChild(s),s.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:t,left:s}=this._balloonPanelView,{width:a,height:d}=new vt(this._balloonPanelView.element);Object.assign(this,{top:t,left:s,width:a,height:d})}}}var xC=o(3707),g_={attributes:{"data-cke":!0}};g_.setAttributes=Tt(),g_.insert=Ot().bind(null,"head"),g_.domAPI=Rt(),g_.insertStyleElement=Mt(),jt()(xC.Z,g_),xC.Z&&xC.Z.locals&&xC.Z.locals;const tv=Lr("px");class Qre extends on{constructor(t){super(t);const s=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new dr({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:s.to("isSticky",a=>a?"block":"none"),height:s.to("isSticky",a=>a?tv(this._contentPanelRect.height):null)}}}).render(),this._contentPanel=new dr({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",s.if("isSticky","ck-sticky-panel__content_sticky"),s.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:s.to("isSticky",a=>a?tv(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:s.to("_stickyTopOffset",a=>a&&tv(a)),bottom:s.to("_stickyBottomOffset",a=>a&&tv(a)),marginLeft:s.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(de.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive)return void this._unstick();const t=new vt(this.limiterElement);let s=t.getVisible();if(s){const a=new vt(de.window);a.top+=this.viewportTopOffset,a.height-=this.viewportTopOffset,s=s.getIntersection(a)}if(s&&t.top<s.top){const a=s.top;if(a+this._contentPanelRect.height+this.limiterBottomOffset>s.bottom){const d=Math.max(t.bottom-s.bottom,0)+this.limiterBottomOffset;t.bottom-d>t.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(d):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<t.height?this._stickToTopOfAncestors(a):this._unstick()}else this._unstick()}_stickToTopOfAncestors(t){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=t,this._stickyBottomOffset=null,this._marginLeft=tv(-de.window.scrollX)}_stickToBottomOfLimiter(t){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=t,this._marginLeft=tv(-de.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new vt(this._contentPanel)}}class ese extends _u{constructor(t,s){const a=t.t,d=Object.assign({},{showResetButton:!0,showIcon:!0,creator:aC},s);super(t,d.creator),this.label=s.label,this._viewConfig=d,this._viewConfig.showIcon&&(this.iconView=new zo,this.iconView.content=Kn.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new Mn(t),this.resetButtonView.set({label:a("Clear"),icon:Kn.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",p=>!p),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class tse extends on{constructor(){super();const t=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",t.if("isVisible","ck-hidden",s=>!s)],tabindex:-1},children:[{tag:"span",children:[{text:[t.to("primaryText")]}]},{tag:"span",children:[{text:[t.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class nse extends on{constructor(t){super(t),this.children=this.createCollection(),this.focusTracker=new Hi,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new xc({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const t of this.children)this.focusTracker.add(t.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var QL=/[\\^$.*+?()[\]{}|]/g,ise=RegExp(QL.source);const e7=function(f){return(f=yo(f))&&ise.test(f)?f.replace(QL,"\\$&"):f};var _C=o(9332),b_={attributes:{"data-cke":!0}};b_.setAttributes=Tt(),b_.insert=Ot().bind(null,"head"),b_.domAPI=Rt(),b_.insertStyleElement=Mt(),jt()(_C.Z,b_),_C.Z&&_C.Z.locals&&_C.Z.locals;class rse extends on{constructor(t,s){super(t),this._config=s,this.filteredView=s.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new Hi,this.keystrokes=new _a,this.resultsView=new nse(t),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),s.infoView&&s.infoView.instance?this.infoView=s.infoView.instance:(this.infoView=new tse,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new xc({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(a,{resultsCount:d,totalItemsCount:p})=>{this.resultsCount=d,this.totalItemsCount=p}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",s.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const t=s=>s.stopPropagation();for(const s of this.focusableChildren)this.focusTracker.add(s.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(t){const s=t?new RegExp(e7(t),"ig"):null,a=this.filteredView.filter(s);this.fire("search",{query:t,...a})}_createSearchTextQueryView(){const t=new ese(this.locale,this._config.queryView);return this.listenTo(t.fieldView,"input",()=>{this.search(t.fieldView.element.value)}),t.on("reset",()=>this.reset()),t.bind("isEnabled").to(this),t}_enableDefaultInfoViewBehavior(){const t=this.locale.t,s=this.infoView;function a(d,{query:p,resultsCount:w,totalItemsCount:k}){return typeof d=="function"?d(p,w,k):d}this.on("search",(d,p)=>{if(p.resultsCount)s.set({isVisible:!1});else{const w=this._config.infoView&&this._config.infoView.text;let k,D;p.totalItemsCount?w&&w.notFound?(k=w.notFound.primary,D=w.notFound.secondary):(k=t("No results found"),D=""):w&&w.noSearchableItems?(k=w.noSearchableItems.primary,D=w.noSearchableItems.secondary):(k=t("No searchable items"),D=""),s.set({primaryText:a(k,p),secondaryText:a(D,p),isVisible:!0})}})}}var kC=o(4029),y_={attributes:{"data-cke":!0}};y_.setAttributes=Tt(),y_.insert=Ot().bind(null,"head"),y_.domAPI=Rt(),y_.insertStyleElement=Mt(),jt()(kC.Z,y_),kC.Z&&kC.Z.locals&&kC.Z.locals;class v_ extends rse{constructor(t,s){super(t,s),this._config=s;const a=Lr("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const d=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[d.if("isVisible","ck-hidden",p=>!p),d.to("_position",p=>`ck-search__results_${p}`)],style:{width:d.to("_width",a)}}}),this.focusTracker.on("change:isFocused",(p,w,k)=>{this._updateResultsVisibility(),k?this.resultsView.element.scrollTop=0:s.resetOnBlur&&this.queryView.reset()}),this.on("search",()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()}),this.keystrokes.set("esc",(p,w)=>{this.resultsView.isVisible=!1,w()}),this.listenTo(de.document,"scroll",()=>{this._updateResultsViewWidthAndPosition()}),this.on("change:isEnabled",()=>{this._updateResultsVisibility()}),this.filteredView.on("execute",(p,{value:w})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=w,this.resultsView.isVisible=!1}),this.resultsView.on("change:isVisible",()=>{this._updateResultsViewWidthAndPosition()})}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new vt(this.queryView.fieldView.element).width;const t=v_._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:v_.defaultResultsPositions});this.resultsView._position=t?t.name:"s"}_updateResultsVisibility(){const t=this._config.queryMinChars===void 0?0:this._config.queryMinChars,s=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&s>=t}}v_.defaultResultsPositions=[f=>({top:f.bottom,left:f.left,name:"s"}),(f,t)=>({top:f.top-t.height,left:f.left,name:"n"})],v_._getOptimalPosition=cs;var EC=o(4746),w_={attributes:{"data-cke":!0}};w_.setAttributes=Tt(),w_.insert=Ot().bind(null,"head"),w_.domAPI=Rt(),w_.insertStyleElement=Mt(),jt()(EC.Z,w_),EC.Z&&EC.Z.locals&&EC.Z.locals;var SC=o(6446),x_={attributes:{"data-cke":!0}};x_.setAttributes=Tt(),x_.insert=Ot().bind(null,"head"),x_.domAPI=Rt(),x_.insertStyleElement=Mt(),jt()(SC.Z,x_),SC.Z&&SC.Z.locals&&SC.Z.locals;var AC=o(4176),__={attributes:{"data-cke":!0}};__.setAttributes=Tt(),__.insert=Ot().bind(null,"head"),__.domAPI=Rt(),__.insertStyleElement=Mt(),jt()(AC.Z,__),AC.Z&&AC.Z.locals&&AC.Z.locals;class sse extends Hre{constructor(t,s){super(t),this.view=s,this._toolbarConfig=Dy(t.config.get("toolbar")),this._elementReplacer=new Ee,this.listenTo(t.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(t){const s=this.editor,a=this.view,d=s.editing.view,p=a.editable,w=d.document.getRoot();p.name=w.rootName,a.render();const k=p.element;this.setEditableElement(p.name,k),a.editable.bind("isFocused").to(this.focusTracker),d.attachDomRoot(k),t&&this._elementReplacer.replace(t,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const t=this.view,s=this.editor.editing.view;this._elementReplacer.restore(),s.detachDomRoot(t.editable.name),t.destroy()}_initToolbar(){const t=this.view;t.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),t.stickyPanel.limiterElement=t.element,t.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:s})=>s||0),t.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(t.toolbar)}_initPlaceholder(){const t=this.editor,s=t.editing.view,a=s.document.getRoot(),d=t.sourceElement;let p;const w=t.config.get("placeholder");w&&(p=typeof w=="string"?w:w[this.view.editable.name]),!p&&d&&d.tagName.toLowerCase()==="textarea"&&(p=d.getAttribute("placeholder")),p&&(a.placeholder=p),Su({view:s,element:a,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(t,s,a){const d=this.view.stickyPanel;if(d.isSticky){const p=new vt(d.element).height;s.viewportOffset.top+=p}else{const p=()=>{this.editor.editing.view.scrollToTheSelection(a)};this.listenTo(d,"change:isSticky",p),setTimeout(()=>{this.stopListening(d,"change:isSticky",p)},20)}}}var CC=o(3624),k_={attributes:{"data-cke":!0}};k_.setAttributes=Tt(),k_.insert=Ot().bind(null,"head"),k_.domAPI=Rt(),k_.insertStyleElement=Mt(),jt()(CC.Z,k_),CC.Z&&CC.Z.locals&&CC.Z.locals;class ose extends Xre{constructor(t,s,a={}){super(t),this.stickyPanel=new Qre(t),this.toolbar=new OP(t,{shouldGroupWhenFull:a.shouldToolbarGroupWhenFull}),this.editable=new Zre(t,s)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class t7{constructor(t){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof t.crashNumberLimit=="number"?t.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof t.minimumNonErrorTimePeriod=="number"?t.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=s=>{const a="error"in s?s.error:s.reason;a instanceof Error&&this._handleError(a,s)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(t,s){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(s)}off(t,s){this._listeners[t]=this._listeners[t].filter(a=>a!==s)}_fire(t,...s){const a=this._listeners[t]||[];for(const d of a)d.apply(this,[null,...s])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(t,s){if(this._shouldReactToError(t)){this.crashes.push({message:t.message,stack:t.stack,filename:s instanceof ErrorEvent?s.filename:void 0,lineno:s instanceof ErrorEvent?s.lineno:void 0,colno:s instanceof ErrorEvent?s.colno:void 0,date:this._now()});const a=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:t,causesRestart:a}),a?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(t){return t.is&&t.is("CKEditorError")&&t.context!==void 0&&t.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(t)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function GP(f,t=new Set){const s=[f],a=new Set;let d=0;for(;s.length>d;){const p=s[d++];if(!a.has(p)&&ase(p)&&!t.has(p))if(a.add(p),Symbol.iterator in p)try{for(const w of p)s.push(w)}catch{}else for(const w in p)w!=="defaultValue"&&s.push(p[w])}return a}function ase(f){const t=Object.prototype.toString.call(f),s=typeof f;return!(s==="number"||s==="boolean"||s==="string"||s==="symbol"||s==="function"||t==="[object Date]"||t==="[object RegExp]"||t==="[object Module]"||f==null||f._watchdogExcluded||f instanceof EventTarget||f instanceof Event)}function n7(f,t,s=new Set){if(f===t&&typeof(a=f)=="object"&&a!==null)return!0;var a;const d=GP(f,s),p=GP(t,s);for(const w of d)if(p.has(w))return!0;return!1}class i7 extends t7{constructor(t,s={}){super(s),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=d_(this._save.bind(this),typeof s.saveInterval=="number"?s.saveInterval:5e3),t&&(this._creator=(a,d)=>t.create(a,d)),this._destructor=a=>a.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(t=>{console.error("An error happened during the editor destroying.",t)}).then(()=>{const t={},s=[],a=this._config.rootsAttributes||{},d={};for(const[w,k]of Object.entries(this._data.roots))k.isLoaded?(t[w]="",d[w]=a[w]||{}):s.push(w);const p={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:s,rootsAttributes:d,_watchdogInitialData:this._data};return delete p.initialData,p.extraPlugins.push(lse),this._initUsingData?this.create(t,p,p.context):$n(this._elementOrData)?this.create(this._elementOrData,p,p.context):this.create(this._editables,p,p.context)}).then(()=>{this._fire("restart")})}create(t=this._elementOrData,s=this._config,a){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=t,this._initUsingData=typeof t=="string"||Object.keys(t).length>0&&typeof Object.values(t)[0]=="string",this._config=this._cloneEditorConfiguration(s)||{},this._config.context=a,this._creator(t,this._config))).then(d=>{this._editor=d,d.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=d.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const t=this._editor;return this._editor=null,t.model.document.off("change:data",this._throttledSave),this._destructor(t)})}_save(){const t=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=t}catch(s){console.error(s,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(t){this._excludedProps=t}_getData(){const t=this._editor,s=t.model.document.roots.filter(k=>k.isAttached()&&k.rootName!="$graveyard"),{plugins:a}=t,d=a.has("CommentsRepository")&&a.get("CommentsRepository"),p=a.has("TrackChanges")&&a.get("TrackChanges"),w={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};s.forEach(k=>{w.roots[k.rootName]={content:JSON.stringify(Array.from(k.getChildren())),attributes:JSON.stringify(Array.from(k.getAttributes())),isLoaded:k._isLoaded}});for(const k of t.model.markers)k._affectsData&&(w.markers[k.name]={rangeJSON:k.getRange().toJSON(),usingOperation:k._managedUsingOperations,affectsData:k._affectsData});return d&&(w.commentThreads=JSON.stringify(d.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),p&&(w.suggestions=JSON.stringify(p.getSuggestions({toJSON:!0,skipNotAttached:!0}))),w}_getEditables(){const t={};for(const s of this.editor.model.document.getRootNames()){const a=this.editor.ui.getEditableElement(s);a&&(t[s]=a)}return t}_isErrorComingFromThisItem(t){return n7(this._editor,t.context,this._excludedProps)}_cloneEditorConfiguration(t){return pu(t,(s,a)=>$n(s)||a==="context"?s:void 0)}}class lse{constructor(t){this.editor=t,this._data=t.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",t=>{t.stop(),this.editor.model.enqueueChange({isUndoable:!1},s=>{this._restoreCollaborationData(),this._restoreEditorData(s)}),this.editor.data.fire("ready")},{priority:999})}_createNode(t,s){if("name"in s){const a=t.createElement(s.name,s.attributes);if(s.children)for(const d of s.children)a._appendChild(this._createNode(t,d));return a}return t.createText(s.data,s.attributes)}_restoreEditorData(t){const s=this.editor;Object.entries(this._data.roots).forEach(([a,{content:d,attributes:p}])=>{const w=JSON.parse(d),k=JSON.parse(p),D=s.model.document.getRoot(a);for(const[R,M]of k)t.setAttribute(R,M,D);for(const R of w){const M=this._createNode(t,R);t.insert(M,D,"end")}}),Object.entries(this._data.markers).forEach(([a,d])=>{const{document:p}=s.model,{rangeJSON:{start:w,end:k},...D}=d,R=p.getRoot(w.root),M=t.createPositionFromPath(R,w.path,w.stickiness),L=t.createPositionFromPath(R,k.path,k.stickiness),W=t.createRange(M,L);t.addMarker(a,{range:W,...D})})}_restoreCollaborationData(){const t=JSON.parse(this._data.commentThreads),s=JSON.parse(this._data.suggestions);t.forEach(a=>{const d=this.editor.config.get("collaboration.channelId"),p=this.editor.plugins.get("CommentsRepository");p.hasCommentThread(a.threadId)&&p.getCommentThread(a.threadId).remove(),p.addCommentThread({channelId:d,...a})}),s.forEach(a=>{const d=this.editor.plugins.get("TrackChangesEditing");d.hasSuggestion(a.id)?d.getSuggestion(a.id).attributes=a.attributes:d.addSuggestionData(a)})}}const E_=Symbol("MainQueueId");class cse{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(t){this._onEmptyCallbacks.push(t)}enqueue(t,s){const a=t===E_;this._activeActions++,this._queues.get(t)||this._queues.set(t,Promise.resolve());const d=(a?Promise.all(this._queues.values()):Promise.all([this._queues.get(E_),this._queues.get(t)])).then(s),p=d.catch(()=>{});return this._queues.set(t,p),d.finally(()=>{this._activeActions--,this._queues.get(t)===p&&this._activeActions===0&&this._onEmptyCallbacks.forEach(w=>w())})}}function r7(f){return Array.isArray(f)?f:[f]}class TC extends JA(MP(Ere)){constructor(t,s={}){if(!DC(t)&&s.initialData!==void 0)throw new B("editor-create-initial-data",null);super(s),this.config.get("initialData")===void 0&&this.config.set("initialData",function(p){return DC(p)?(w=p,w instanceof HTMLTextAreaElement?w.value:w.innerHTML):p;var w}(t)),DC(t)&&(this.sourceElement=t),this.model.document.createRoot();const a=!this.config.get("toolbar.shouldNotGroupWhenFull"),d=new ose(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:a});this.ui=new sse(this,d),function(p){if(!so(p.updateSourceElement))throw new B("attachtoform-missing-elementapi-interface",p);const w=p.sourceElement;if(function(k){return!!k&&k.tagName.toLowerCase()==="textarea"}(w)&&w.form){let k;const D=w.form,R=()=>p.updateSourceElement();so(D.submit)&&(k=D.submit,D.submit=()=>{R(),k.apply(D)}),D.addEventListener("submit",R),p.on("destroy",()=>{D.removeEventListener("submit",R),k&&(D.submit=k)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(t,s={}){return new Promise(a=>{const d=new this(t,s);a(d.initPlugins().then(()=>d.ui.init(DC(t)?t:null)).then(()=>d.data.init(d.config.get("initialData"))).then(()=>d.fire("ready")).then(()=>d))})}}function DC(f){return $n(f)}TC.Context=Ag,TC.EditorWatchdog=i7,TC.ContextWatchdog=class extends t7{constructor(f,t={}){super(t),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new cse,this._watchdogConfig=t,this._creator=s=>f.create(s),this._destructor=s=>s.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(f){this._creator=f}setDestructor(f){this._destructor=f}get context(){return this._context}create(f={}){return this._actionQueues.enqueue(E_,()=>(this._contextConfig=f,this._create()))}getItem(f){return this._getWatchdog(f)._item}getItemState(f){return this._getWatchdog(f).state}add(f){const t=r7(f);return Promise.all(t.map(s=>this._actionQueues.enqueue(s.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let a;if(this._watchdogs.has(s.id))throw new Error(`Item with the given id is already added: '${s.id}'.`);if(s.type==="editor")return a=new i7(null,this._watchdogConfig),a.setCreator(s.creator),a._setExcludedProperties(this._contextProps),s.destructor&&a.setDestructor(s.destructor),this._watchdogs.set(s.id,a),a.on("error",(d,{error:p,causesRestart:w})=>{this._fire("itemError",{itemId:s.id,error:p}),w&&this._actionQueues.enqueue(s.id,()=>new Promise(k=>{const D=()=>{a.off("restart",D),this._fire("itemRestart",{itemId:s.id}),k()};a.on("restart",D)}))}),a.create(s.sourceElementOrData,s.config,this._context);throw new Error(`Not supported item type: '${s.type}'.`)})))}remove(f){const t=r7(f);return Promise.all(t.map(s=>this._actionQueues.enqueue(s,()=>{const a=this._getWatchdog(s);return this._watchdogs.delete(s),a.destroy()})))}destroy(){return this._actionQueues.enqueue(E_,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(E_,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(f=>{console.error("An error happened during destroying the context or items.",f)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(f=>(this._context=f,this._contextProps=GP(this._context),Promise.all(Array.from(this._watchdogs.values()).map(t=>(t._setExcludedProperties(this._contextProps),t.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const f=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(t=>t.destroy())).then(()=>this._destructor(f))})}_getWatchdog(f){const t=this._watchdogs.get(f);if(!t)throw new Error(`Item with the given id was not registered: ${f}.`);return t}_isErrorComingFromThisItem(f){for(const t of this._watchdogs.values())if(t._isErrorComingFromThisItem(f))return!1;return n7(this._context,f.context)}};class S_ extends Cc{constructor(t){super(t),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const s=this.document;function a(d){return(p,w)=>{w.preventDefault();const k=w.dropRange?[w.dropRange]:null,D=new N(s,d);s.fire(D,{dataTransfer:w.dataTransfer,method:p.name,targetRanges:k,target:w.target,domEvent:w.domEvent}),D.stop.called&&w.stopPropagation()}}this.listenTo(s,"paste",a("clipboardInput"),{priority:"low"}),this.listenTo(s,"drop",a("clipboardInput"),{priority:"low"}),this.listenTo(s,"dragover",a("dragging"),{priority:"low"})}onDomEvent(t){const s="clipboardData"in t?t.clipboardData:t.dataTransfer,a=t.type=="drop"||t.type=="paste",d={dataTransfer:new an(s,{cacheFiles:a})};t.type!="drop"&&t.type!="dragover"||(d.dropRange=function(p,w){const k=w.target.ownerDocument,D=w.clientX,R=w.clientY;let M;return k.caretRangeFromPoint&&k.caretRangeFromPoint(D,R)?M=k.caretRangeFromPoint(D,R):w.rangeParent&&(M=k.createRange(),M.setStart(w.rangeParent,w.rangeOffset),M.collapse(!0)),M?p.domConverter.domRangeToView(M):null}(this.view,t)),this.fire(t.type,t,d)}}const s7=["figcaption","li"];function o7(f){let t="";if(f.is("$text")||f.is("$textProxy"))t=f.data;else if(f.is("element","img")&&f.hasAttribute("alt"))t=f.getAttribute("alt");else if(f.is("element","br"))t=`
`;else{let s=null;for(const a of f.getChildren()){const d=o7(a);s&&(s.is("containerElement")||a.is("containerElement"))&&(s7.includes(s.name)||s7.includes(a.name)?t+=`
`:t+=`

`),t+=d,s=a}}return t}class oh extends it{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(S_),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(t,s,a){const d=this.editor.model.getSelectedContent(s);this.fire("outputTransformation",{dataTransfer:t,content:d,method:a})}_setupPasteDrop(){const t=this.editor,s=t.model,a=t.editing.view,d=a.document;this.listenTo(d,"clipboardInput",(p,w)=>{w.method!="paste"||t.model.canEditAt(t.model.document.selection)||p.stop()},{priority:"highest"}),this.listenTo(d,"clipboardInput",(p,w)=>{const k=w.dataTransfer;let D;if(w.content)D=w.content;else{let L="";k.getData("text/html")?L=function(W){return W.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(Y,se)=>se.length==1?" ":se).replace(/<!--[\s\S]*?-->/g,"")}(k.getData("text/html")):k.getData("text/plain")&&(((R=(R=k.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||R.includes("<br>"))&&(R=`<p>${R}</p>`),L=R),D=this.editor.data.htmlProcessor.toView(L)}var R;const M=new N(this,"inputTransformation");this.fire(M,{content:D,dataTransfer:k,targetRanges:w.targetRanges,method:w.method}),M.stop.called&&p.stop(),a.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(p,w)=>{if(w.content.isEmpty)return;const k=this.editor.data.toModel(w.content,"$clipboardHolder");k.childCount!=0&&(p.stop(),s.change(()=>{this.fire("contentInsertion",{content:k,method:w.method,dataTransfer:w.dataTransfer,targetRanges:w.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(p,w)=>{w.resultRange=s.insertContent(w.content)},{priority:"low"})}_setupCopyCut(){const t=this.editor,s=t.model.document,a=t.editing.view.document,d=(p,w)=>{const k=w.dataTransfer;w.preventDefault(),this._fireOutputTransformationEvent(k,s.selection,p.name)};this.listenTo(a,"copy",d,{priority:"low"}),this.listenTo(a,"cut",(p,w)=>{t.model.canEditAt(t.model.document.selection)?d(p,w):w.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(p,w)=>{const k=t.data.toView(w.content);a.fire("clipboardOutput",{dataTransfer:w.dataTransfer,content:k,method:w.method})},{priority:"low"}),this.listenTo(a,"clipboardOutput",(p,w)=>{w.content.isEmpty||(w.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(w.content)),w.dataTransfer.setData("text/plain",o7(w.content))),w.method=="cut"&&t.model.deleteContent(s.selection)},{priority:"low"})}}class a7{constructor(t,s=20){this._batch=null,this.model=t,this._size=0,this.limit=s,this._isLocked=!1,this._changeCallback=(a,d)=>{d.isLocal&&d.isUndoable&&d!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(t){this._size+=t,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(t=!1){this.isLocked&&!t||(this._batch=null,this._size=0)}}class use extends cn{constructor(t,s){super(t),this._buffer=new a7(t.model,s),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(t={}){const s=this.editor.model,a=s.document,d=t.text||"",p=d.length;let w=a.selection;if(t.selection?w=t.selection:t.range&&(w=s.createSelection(t.range)),!s.canEditAt(w))return;const k=t.resultRange;s.enqueueChange(this._buffer.batch,D=>{this._buffer.lock(),s.deleteContent(w),d&&s.insertContent(D.createText(d,a.selection.getAttributes()),w),k?D.setSelection(k):w.is("documentSelection")||D.setSelection(w),this._buffer.unlock(),this._buffer.input(p)})}}const l7=["insertText","insertReplacementText"];class dse extends Il{constructor(t){super(t),this.focusObserver=t.getObserver(kt),y.isAndroid&&l7.push("insertCompositionText");const s=t.document;s.on("beforeinput",(a,d)=>{if(!this.isEnabled)return;const{data:p,targetRanges:w,inputType:k,domEvent:D}=d;if(!l7.includes(k))return;this.focusObserver.flush();const R=new N(s,"insertText");s.fire(R,new cp(t,D,{text:p,selection:t.createSelection(w)})),R.stop.called&&a.stop()}),s.on("compositionend",(a,{data:d,domEvent:p})=>{this.isEnabled&&!y.isAndroid&&d&&s.fire("insertText",new cp(t,p,{text:d,selection:s.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class c7 extends it{static get pluginName(){return"Input"}init(){const t=this.editor,s=t.model,a=t.editing.view,d=s.document.selection;a.addObserver(dse);const p=new use(t,t.config.get("typing.undoStep")||20);t.commands.add("insertText",p),t.commands.add("input",p),this.listenTo(a.document,"insertText",(w,k)=>{a.document.isComposing||k.preventDefault();const{text:D,selection:R,resultRange:M}=k,L=Array.from(R.getRanges()).map(se=>t.editing.mapper.toModelRange(se));let W=D;if(y.isAndroid){const se=Array.from(L[0].getItems()).reduce((le,ve)=>le+(ve.is("$textProxy")?ve.data:""),"");se&&(se.length<=W.length?W.startsWith(se)&&(W=W.substring(se.length),L[0].start=L[0].start.getShiftedBy(se.length)):se.startsWith(W)&&(L[0].start=L[0].start.getShiftedBy(W.length),W=""))}const Y={text:W,selection:s.createSelection(L)};M&&(Y.resultRange=t.editing.mapper.toModelRange(M)),t.execute("insertText",Y),a.scrollToTheSelection()}),y.isAndroid?this.listenTo(a.document,"keydown",(w,k)=>{!d.isCollapsed&&k.keyCode==229&&a.document.isComposing&&u7(s,p)}):this.listenTo(a.document,"compositionstart",()=>{d.isCollapsed||u7(s,p)})}}function u7(f,t){if(!t.isEnabled)return;const s=t.buffer;s.lock(),f.enqueueChange(s.batch,()=>{f.deleteContent(f.document.selection)}),s.unlock()}class d7 extends cn{constructor(t,s){super(t),this.direction=s,this._buffer=new a7(t.model,t.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(t={}){const s=this.editor.model,a=s.document;s.enqueueChange(this._buffer.batch,d=>{this._buffer.lock();const p=d.createSelection(t.selection||a.selection);if(!s.canEditAt(p))return;const w=t.sequence||1,k=p.isCollapsed;if(p.isCollapsed&&s.modifySelection(p,{direction:this.direction,unit:t.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(w))return void this._replaceEntireContentWithParagraph(d);if(this._shouldReplaceFirstBlockWithParagraph(p,w))return void this.editor.execute("paragraph",{selection:p});if(p.isCollapsed)return;let D=0;p.getFirstRange().getMinimalFlatRanges().forEach(R=>{D+=He(R.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),s.deleteContent(p,{doNotResetEntireContent:k,direction:this.direction}),this._buffer.input(D),d.setSelection(p),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(t){if(t>1)return!1;const s=this.editor.model,a=s.document.selection,d=s.schema.getLimitElement(a);if(!(a.isCollapsed&&a.containsEntireContent(d))||!s.schema.checkChild(d,"paragraph"))return!1;const p=d.getChild(0);return!p||!p.is("element","paragraph")}_replaceEntireContentWithParagraph(t){const s=this.editor.model,a=s.document.selection,d=s.schema.getLimitElement(a),p=t.createElement("paragraph");t.remove(t.createRangeIn(d)),t.insert(p,d),t.setSelection(p,0)}_shouldReplaceFirstBlockWithParagraph(t,s){const a=this.editor.model;if(s>1||this.direction!="backward"||!t.isCollapsed)return!1;const d=t.getFirstPosition(),p=a.schema.getLimitElement(d),w=p.getChild(0);return d.parent==w&&!!t.containsEntireContent(w)&&!!a.schema.checkChild(p,"paragraph")&&w.name!="paragraph"}}const h7="word",dp="selection",nv="backward",A_="forward",f7={deleteContent:{unit:dp,direction:nv},deleteContentBackward:{unit:"codePoint",direction:nv},deleteWordBackward:{unit:h7,direction:nv},deleteHardLineBackward:{unit:dp,direction:nv},deleteSoftLineBackward:{unit:dp,direction:nv},deleteContentForward:{unit:"character",direction:A_},deleteWordForward:{unit:h7,direction:A_},deleteHardLineForward:{unit:dp,direction:A_},deleteSoftLineForward:{unit:dp,direction:A_}};class hse extends Il{constructor(t){super(t);const s=t.document;let a=0;s.on("keydown",()=>{a++}),s.on("keyup",()=>{a=0}),s.on("beforeinput",(d,p)=>{if(!this.isEnabled)return;const{targetRanges:w,domEvent:k,inputType:D}=p,R=f7[D];if(!R)return;const M={direction:R.direction,unit:R.unit,sequence:a};M.unit==dp&&(M.selectionToRemove=t.createSelection(w[0])),D==="deleteContentBackward"&&(y.isAndroid&&(M.sequence=1),function(W){if(W.length!=1||W[0].isCollapsed)return!1;const Y=W[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let se=0;for(const{nextPosition:le}of Y){if(le.parent.is("$text")){const ve=le.parent.data,Pe=le.offset;if(dx(ve,Pe)||vy(ve,Pe)||fA(ve,Pe))continue;se++}else se++;if(se>1)return!0}return!1}(w)&&(M.unit=dp,M.selectionToRemove=t.createSelection(w)));const L=new Nu(s,"delete",w[0]);s.fire(L,new cp(t,k,M)),L.stop.called&&d.stop()}),y.isBlink&&function(d){const p=d.view,w=p.document;let k=null,D=!1;function R(L){return L==Gt.backspace||L==Gt.delete}function M(L){return L==Gt.backspace?nv:A_}w.on("keydown",(L,{keyCode:W})=>{k=W,D=!1}),w.on("keyup",(L,{keyCode:W,domEvent:Y})=>{const se=w.selection,le=d.isEnabled&&W==k&&R(W)&&!se.isCollapsed&&!D;if(k=null,le){const ve=se.getFirstRange(),Pe=new Nu(w,"delete",ve),$e={unit:dp,direction:M(W),selectionToRemove:se};w.fire(Pe,new cp(p,Y,$e))}}),w.on("beforeinput",(L,{inputType:W})=>{const Y=f7[W];R(k)&&Y&&Y.direction==M(k)&&(D=!0)},{priority:"high"}),w.on("beforeinput",(L,{inputType:W,data:Y})=>{k==Gt.delete&&W=="insertText"&&Y==""&&L.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class ah extends it{static get pluginName(){return"Delete"}init(){const t=this.editor,s=t.editing.view,a=s.document,d=t.model.document;s.addObserver(hse),this._undoOnBackspace=!1;const p=new d7(t,"forward");t.commands.add("deleteForward",p),t.commands.add("forwardDelete",p),t.commands.add("delete",new d7(t,"backward")),this.listenTo(a,"delete",(w,k)=>{a.isComposing||k.preventDefault();const{direction:D,sequence:R,selectionToRemove:M,unit:L}=k,W=D==="forward"?"deleteForward":"delete",Y={sequence:R};if(L=="selection"){const se=Array.from(M.getRanges()).map(le=>t.editing.mapper.toModelRange(le));Y.selection=t.model.createSelection(se)}else Y.unit=L;t.execute(W,Y),s.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(a,"delete",(w,k)=>{this._undoOnBackspace&&k.direction=="backward"&&k.sequence==1&&k.unit=="codePoint"&&(this._undoOnBackspace=!1,t.execute("undo"),k.preventDefault(),w.stop())},{context:"$capture"}),this.listenTo(d,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class fse extends it{static get requires(){return[c7,ah]}static get pluginName(){return"Typing"}}function p7(f,t){let s=f.start;return{text:Array.from(f.getWalker({ignoreElementEnd:!1})).reduce((a,{item:d})=>d.is("$text")||d.is("$textProxy")?a+d.data:(s=t.createPositionAfter(d),""),""),range:t.createRange(s,f.end)}}class m7 extends Be(){constructor(t,s){super(),this.model=t,this.testCallback=s,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(t.document.selection),this.stopListening(t.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const t=this.model.document;this.listenTo(t.selection,"change:range",(s,{directChange:a})=>{a&&(t.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(t,"change:data",(s,a)=>{!a.isUndo&&a.isLocal&&this._evaluateTextBeforeSelection("data",{batch:a})})}_evaluateTextBeforeSelection(t,s={}){const a=this.model,d=a.document.selection,p=a.createRange(a.createPositionAt(d.focus.parent,0),d.focus),{text:w,range:k}=p7(p,a),D=this.testCallback(w);if(!D&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!D,D){const R=Object.assign(s,{text:w,range:k});typeof D=="object"&&Object.assign(R,D),this.fire(`matched:${t}`,R)}}}class NC extends it{static get pluginName(){return"TwoStepCaretMovement"}constructor(t){super(t),this.attributes=new Set,this._overrideUid=null}init(){const t=this.editor,s=t.model,a=t.editing.view,d=t.locale,p=s.document.selection;this.listenTo(a.document,"arrowKey",(w,k)=>{if(!p.isCollapsed||k.shiftKey||k.altKey||k.ctrlKey)return;const D=k.keyCode==Gt.arrowright,R=k.keyCode==Gt.arrowleft;if(!D&&!R)return;const M=d.contentLanguageDirection;let L=!1;L=M==="ltr"&&D||M==="rtl"&&R?this._handleForwardMovement(k):this._handleBackwardMovement(k),L===!0&&w.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(p,"change:range",(w,k)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!k.directChange&&IC(p.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(t){this.attributes.add(t)}_handleForwardMovement(t){const s=this.attributes,a=this.editor.model.document.selection,d=a.getFirstPosition();return!this._isGravityOverridden&&(!d.isAtStart||!XP(a,s))&&!!IC(d,s)&&(PC(t),this._overrideGravity(),!0)}_handleBackwardMovement(t){const s=this.attributes,a=this.editor.model,d=a.document.selection,p=d.getFirstPosition();return this._isGravityOverridden?(PC(t),this._restoreGravity(),KP(a,s,p),!0):p.isAtStart?!!XP(d,s)&&(PC(t),KP(a,s,p),!0):!!function(w,k){const D=w.getShiftedBy(-1);return IC(D,k)}(p,s)&&(p.isAtEnd&&!XP(d,s)&&IC(p,s)?(PC(t),KP(a,s,p),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(t=>t.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(t=>{t.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function XP(f,t){for(const s of t)if(f.hasAttribute(s))return!0;return!1}function KP(f,t,s){const a=s.nodeBefore;f.change(d=>{if(a){const p=[],w=f.schema.isObject(a)&&f.schema.isInline(a);for(const[k,D]of a.getAttributes())!f.schema.checkAttribute("$text",k)||w&&f.schema.getAttributeProperties(k).copyFromObject===!1||p.push([k,D]);d.setSelectionAttribute(p)}else d.removeSelectionAttribute(t)})}function PC(f){f.preventDefault()}function IC(f,t){const{nodeBefore:s,nodeAfter:a}=f;for(const d of t){const p=s?s.getAttribute(d):void 0;if((a?a.getAttribute(d):void 0)!==p)return!0}return!1}const g7={copyright:{from:"(c)",to:"©"},registeredTrademark:{from:"(r)",to:"®"},trademark:{from:"(tm)",to:"™"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"½",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"⅓",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"⅔",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"¼",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"¾",null]},lessThanOrEqual:{from:"<=",to:"≤"},greaterThanOrEqual:{from:">=",to:"≥"},notEqual:{from:"!=",to:"≠"},arrowLeft:{from:"<-",to:"←"},arrowRight:{from:"->",to:"→"},horizontalEllipsis:{from:"...",to:"…"},enDash:{from:/(^| )(--)( )$/,to:[null,"–",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"—",null]},quotesPrimary:{from:iv('"'),to:[null,"“",null,"”"]},quotesSecondary:{from:iv("'"),to:[null,"‘",null,"’"]},quotesPrimaryEnGb:{from:iv("'"),to:[null,"‘",null,"’"]},quotesSecondaryEnGb:{from:iv('"'),to:[null,"“",null,"”"]},quotesPrimaryPl:{from:iv('"'),to:[null,"„",null,"”"]},quotesSecondaryPl:{from:iv("'"),to:[null,"‚",null,"’"]}},b7={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},pse=["symbols","mathematical","typography","quotes"];function mse(f){return typeof f=="string"?new RegExp(`(${e7(f)})$`):f}function gse(f){return typeof f=="string"?()=>[f]:f instanceof Array?()=>f:f}function bse(f){return(f.textNode?f.textNode:f.nodeAfter).getAttributes()}function iv(f){return new RegExp(`(^|\\s)(${f})([^${f}]*)(${f})$`)}function rv(f,t,s,a){return a.createRange(y7(f,t,s,!0,a),y7(f,t,s,!1,a))}function y7(f,t,s,a,d){let p=f.textNode||(a?f.nodeBefore:f.nodeAfter),w=null;for(;p&&p.getAttribute(t)==s;)w=p,p=a?p.previousSibling:p.nextSibling;return w?d.createPositionAt(w,a?"before":"after"):f}function v7(f,t,s,a){const d=f.editing.view,p=new Set;d.document.registerPostFixer(w=>{const k=f.model.document.selection;let D=!1;if(k.hasAttribute(t)){const R=rv(k.getFirstPosition(),t,k.getAttribute(t),f.model),M=f.editing.mapper.toViewRange(R);for(const L of M.getItems())L.is("element",s)&&!L.hasClass(a)&&(w.addClass(a,L),p.add(L),D=!0)}return D}),f.conversion.for("editingDowncast").add(w=>{function k(){d.change(D=>{for(const R of p.values())D.removeClass(a,R),p.delete(R)})}w.on("insert",k,{priority:"highest"}),w.on("remove",k,{priority:"highest"}),w.on("attribute",k,{priority:"highest"}),w.on("selection",k,{priority:"highest"})})}function*w7(f,t){for(const s of t)s&&f.getAttributeProperties(s[0]).copyOnEnter&&(yield s)}class yse extends cn{execute(){this.editor.model.change(t=>{this.enterBlock(t),this.fire("afterExecute",{writer:t})})}enterBlock(t){const s=this.editor.model,a=s.document.selection,d=s.schema,p=a.isCollapsed,w=a.getFirstRange(),k=w.start.parent,D=w.end.parent;if(d.isLimit(k)||d.isLimit(D))return p||k!=D||s.deleteContent(a),!1;if(p){const R=w7(t.model.schema,a.getAttributes());return x7(t,w.start),t.setSelectionAttribute(R),!0}{const R=!(w.start.isAtStart&&w.end.isAtEnd),M=k==D;if(s.deleteContent(a,{leaveUnmerged:R}),R){if(M)return x7(t,a.focus),!0;t.setSelection(D,0)}}return!1}}function x7(f,t){f.split(t),f.setSelection(t.parent.nextSibling,0)}const vse={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class _7 extends Il{constructor(t){super(t);const s=this.document;let a=!1;s.on("keydown",(d,p)=>{a=p.shiftKey}),s.on("beforeinput",(d,p)=>{if(!this.isEnabled)return;let w=p.inputType;y.isSafari&&a&&w=="insertParagraph"&&(w="insertLineBreak");const k=p.domEvent,D=vse[w];if(!D)return;const R=new Nu(s,"enter",p.targetRanges[0]);s.fire(R,new cp(t,k,{isSoft:D.isSoft})),R.stop.called&&d.stop()})}observe(){}stopObserving(){}}class jC extends it{static get pluginName(){return"Enter"}init(){const t=this.editor,s=t.editing.view,a=s.document;s.addObserver(_7),t.commands.add("enter",new yse(t)),this.listenTo(a,"enter",(d,p)=>{a.isComposing||p.preventDefault(),p.isSoft||(t.execute("enter"),s.scrollToTheSelection())},{priority:"low"})}}class wse extends cn{execute(){const t=this.editor.model,s=t.document;t.change(a=>{(function(d,p,w){const k=w.isCollapsed,D=w.getFirstRange(),R=D.start.parent,M=D.end.parent,L=R==M;if(k){const W=w7(d.schema,w.getAttributes());k7(d,p,D.end),p.removeSelectionAttribute(w.getAttributeKeys()),p.setSelectionAttribute(W)}else{const W=!(D.start.isAtStart&&D.end.isAtEnd);d.deleteContent(w,{leaveUnmerged:W}),L?k7(d,p,w.focus):W&&p.setSelection(M,0)}})(t,a,s.selection),this.fire("afterExecute",{writer:a})})}refresh(){const t=this.editor.model,s=t.document;this.isEnabled=function(a,d){if(d.rangeCount>1)return!1;const p=d.anchor;if(!p||!a.checkChild(p,"softBreak"))return!1;const w=d.getFirstRange(),k=w.start.parent,D=w.end.parent;return!((ZP(k,a)||ZP(D,a))&&k!==D)}(t.schema,s.selection)}}function k7(f,t,s){const a=t.createElement("softBreak");f.insertContent(a,s),t.setSelection(a,"after")}function ZP(f,t){return!f.is("rootElement")&&(t.isLimit(f)||ZP(f.parent,t))}class E7 extends it{static get pluginName(){return"ShiftEnter"}init(){const t=this.editor,s=t.model.schema,a=t.conversion,d=t.editing.view,p=d.document;s.register("softBreak",{allowWhere:"$text",isInline:!0}),a.for("upcast").elementToElement({model:"softBreak",view:"br"}),a.for("downcast").elementToElement({model:"softBreak",view:(w,{writer:k})=>k.createEmptyElement("br")}),d.addObserver(_7),t.commands.add("shiftEnter",new wse(t)),this.listenTo(p,"enter",(w,k)=>{p.isComposing||k.preventDefault(),k.isSoft&&(t.execute("shiftEnter"),d.scrollToTheSelection())},{priority:"low"})}}class xse extends G(){constructor(){super(...arguments),this._stack=[]}add(t,s){const a=this._stack,d=a[0];this._insertDescriptor(t);const p=a[0];d===p||YP(d,p)||this.fire("change:top",{oldDescriptor:d,newDescriptor:p,writer:s})}remove(t,s){const a=this._stack,d=a[0];this._removeDescriptor(t);const p=a[0];d===p||YP(d,p)||this.fire("change:top",{oldDescriptor:d,newDescriptor:p,writer:s})}_insertDescriptor(t){const s=this._stack,a=s.findIndex(p=>p.id===t.id);if(YP(t,s[a]))return;a>-1&&s.splice(a,1);let d=0;for(;s[d]&&_se(s[d],t);)d++;s.splice(d,0,t)}_removeDescriptor(t){const s=this._stack,a=s.findIndex(d=>d.id===t);a>-1&&s.splice(a,1)}}function YP(f,t){return f&&t&&f.priority==t.priority&&RC(f.classes)==RC(t.classes)}function _se(f,t){return f.priority>t.priority||!(f.priority<t.priority)&&RC(f.classes)>RC(t.classes)}function RC(f){return Array.isArray(f)?f.sort().join(","):f}const kse='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',Ese="ck-widget",S7="ck-widget_selected";function Er(f){return!!f.is("element")&&!!f.getCustomProperty("widget")}function JP(f,t,s={}){if(!f.is("containerElement"))throw new B("widget-to-widget-wrong-element-type",null,{element:f});return t.setAttribute("contenteditable","false",f),t.addClass(Ese,f),t.setCustomProperty("widget",!0,f),f.getFillerOffset=Cse,t.setCustomProperty("widgetLabel",[],f),s.label&&function(a,d){a.getCustomProperty("widgetLabel").push(d)}(f,s.label),s.hasSelectionHandle&&function(a,d){const p=d.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(w){const k=this.toDomElement(w),D=new zo;return D.set("content",kse),D.render(),k.appendChild(D.element),k});d.insert(d.createPositionAt(a,0),p),d.addClass(["ck-widget_with-selection-handle"],a)}(f,t),A7(f,t),f}function Sse(f,t,s){if(t.classes&&s.addClass(Rn(t.classes),f),t.attributes)for(const a in t.attributes)s.setAttribute(a,t.attributes[a],f)}function Ase(f,t,s){if(t.classes&&s.removeClass(Rn(t.classes),f),t.attributes)for(const a in t.attributes)s.removeAttribute(a,f)}function A7(f,t,s=Sse,a=Ase){const d=new xse;d.on("change:top",(p,w)=>{w.oldDescriptor&&a(f,w.oldDescriptor,w.writer),w.newDescriptor&&s(f,w.newDescriptor,w.writer)}),t.setCustomProperty("addHighlight",(p,w,k)=>d.add(w,k),f),t.setCustomProperty("removeHighlight",(p,w,k)=>d.remove(w,k),f)}function C7(f,t,s={}){return t.addClass(["ck-editor__editable","ck-editor__nested-editable"],f),t.setAttribute("role","textbox",f),s.label&&t.setAttribute("aria-label",s.label,f),t.setAttribute("contenteditable",f.isReadOnly?"false":"true",f),f.on("change:isReadOnly",(a,d,p)=>{t.setAttribute("contenteditable",p?"false":"true",f)}),f.on("change:isFocused",(a,d,p)=>{p?t.addClass("ck-editor__nested-editable_focused",f):t.removeClass("ck-editor__nested-editable_focused",f)}),A7(f,t),f}function T7(f,t){const s=f.getSelectedElement();if(s){const a=hp(f);if(a)return t.createRange(t.createPositionAt(s,a))}return CL(f,t)}function Cse(){return null}const lh="widget-type-around";function zg(f,t,s){return!!f&&Er(f)&&!s.isInline(t)}function hp(f){return f.getAttribute(lh)}var MC=o(2347),C_={attributes:{"data-cke":!0}};C_.setAttributes=Tt(),C_.insert=Ot().bind(null,"head"),C_.domAPI=Rt(),C_.insertStyleElement=Mt(),jt()(MC.Z,C_),MC.Z&&MC.Z.locals&&MC.Z.locals;const D7=["before","after"],Tse=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,N7="ck-widget__type-around_disabled";class Dse extends it{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[jC,ah]}init(){const t=this.editor,s=t.editing.view;this.on("change:isEnabled",(a,d,p)=>{s.change(w=>{for(const k of s.document.roots)p?w.removeClass(N7,k):w.addClass(N7,k)}),p||t.model.change(w=>{w.removeSelectionAttribute(lh)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(t,s){const a=this.editor,d=a.editing.view,p=a.model.schema.getAttributesWithProperty(t,"copyOnReplace",!0);a.execute("insertParagraph",{position:a.model.createPositionAt(t,s),attributes:p}),d.focus(),d.scrollToTheSelection()}_listenToIfEnabled(t,s,a,d){this.listenTo(t,s,(...p)=>{this.isEnabled&&a(...p)},d)}_insertParagraphAccordingToFakeCaretPosition(){const t=this.editor.model.document.selection,s=hp(t);if(!s)return!1;const a=t.getSelectedElement();return this._insertParagraph(a,s),!0}_enableTypeAroundUIInjection(){const t=this.editor,s=t.model.schema,a=t.locale.t,d={before:a("Insert paragraph before block"),after:a("Insert paragraph after block")};t.editing.downcastDispatcher.on("insert",(p,w,k)=>{const D=k.mapper.toViewElement(w.item);D&&zg(D,w.item,s)&&(function(R,M,L){const W=R.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(Y){const se=this.toDomElement(Y);return function(le,ve){for(const Pe of D7){const $e=new dr({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${Pe}`],title:ve[Pe],"aria-hidden":"true"},children:[le.ownerDocument.importNode(Tse,!0)]});le.appendChild($e.render())}}(se,M),function(le){const ve=new dr({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});le.appendChild(ve.render())}(se),se});R.insert(R.createPositionAt(L,"end"),W)}(k.writer,d,D),D.getCustomProperty("widgetLabel").push(()=>this.isEnabled?a("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const t=this.editor,s=t.model,a=s.document.selection,d=s.schema,p=t.editing.view;function w(k){return`ck-widget_type-around_show-fake-caret_${k}`}this._listenToIfEnabled(p.document,"arrowKey",(k,D)=>{this._handleArrowKeyPress(k,D)},{context:[Er,"$text"],priority:"high"}),this._listenToIfEnabled(a,"change:range",(k,D)=>{D.directChange&&t.model.change(R=>{R.removeSelectionAttribute(lh)})}),this._listenToIfEnabled(s.document,"change:data",()=>{const k=a.getSelectedElement();k&&zg(t.editing.mapper.toViewElement(k),k,d)||t.model.change(D=>{D.removeSelectionAttribute(lh)})}),this._listenToIfEnabled(t.editing.downcastDispatcher,"selection",(k,D,R)=>{const M=R.writer;if(this._currentFakeCaretModelElement){const se=R.mapper.toViewElement(this._currentFakeCaretModelElement);se&&(M.removeClass(D7.map(w),se),this._currentFakeCaretModelElement=null)}const L=D.selection.getSelectedElement();if(!L)return;const W=R.mapper.toViewElement(L);if(!zg(W,L,d))return;const Y=hp(D.selection);Y&&(M.addClass(w(Y),W),this._currentFakeCaretModelElement=L)}),this._listenToIfEnabled(t.ui.focusTracker,"change:isFocused",(k,D,R)=>{R||t.model.change(M=>{M.removeSelectionAttribute(lh)})})}_handleArrowKeyPress(t,s){const a=this.editor,d=a.model,p=d.document.selection,w=d.schema,k=a.editing.view,D=function(L,W){const Y=vu(L,W);return Y==="down"||Y==="right"}(s.keyCode,a.locale.contentLanguageDirection),R=k.document.selection.getSelectedElement();let M;zg(R,a.editing.mapper.toModelElement(R),w)?M=this._handleArrowKeyPressOnSelectedWidget(D):p.isCollapsed?M=this._handleArrowKeyPressWhenSelectionNextToAWidget(D):s.shiftKey||(M=this._handleArrowKeyPressWhenNonCollapsedSelection(D)),M&&(s.preventDefault(),t.stop())}_handleArrowKeyPressOnSelectedWidget(t){const s=this.editor.model,a=hp(s.document.selection);return s.change(d=>a?a!==(t?"after":"before")?(d.removeSelectionAttribute(lh),!0):!1:(d.setSelectionAttribute(lh,t?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(t){const s=this.editor,a=s.model,d=a.schema,p=s.plugins.get("Widget"),w=p._getObjectElementNextToSelection(t);return!!zg(s.editing.mapper.toViewElement(w),w,d)&&(a.change(k=>{p._setSelectionOverElement(w),k.setSelectionAttribute(lh,t?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(t){const s=this.editor,a=s.model,d=a.schema,p=s.editing.mapper,w=a.document.selection,k=t?w.getLastPosition().nodeBefore:w.getFirstPosition().nodeAfter;return!!zg(p.toViewElement(k),k,d)&&(a.change(D=>{D.setSelection(k,"on"),D.setSelectionAttribute(lh,t?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const t=this.editor,s=t.editing.view;this._listenToIfEnabled(s.document,"mousedown",(a,d)=>{const p=d.domTarget.closest(".ck-widget__type-around__button");if(!p)return;const w=function(R){return R.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(p),k=function(R,M){const L=R.closest(".ck-widget");return M.mapDomToView(L)}(p,s.domConverter),D=t.editing.mapper.toModelElement(k);this._insertParagraph(D,w),d.preventDefault(),a.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const t=this.editor,s=t.model.document.selection,a=t.editing.view;this._listenToIfEnabled(a.document,"enter",(d,p)=>{if(d.eventPhase!="atTarget")return;const w=s.getSelectedElement(),k=t.editing.mapper.toViewElement(w),D=t.model.schema;let R;this._insertParagraphAccordingToFakeCaretPosition()?R=!0:zg(k,w,D)&&(this._insertParagraph(w,p.isSoft?"before":"after"),R=!0),R&&(p.preventDefault(),d.stop())},{context:Er})}_enableInsertingParagraphsOnTypingKeystroke(){const t=this.editor.editing.view.document;this._listenToIfEnabled(t,"insertText",(s,a)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(a.selection=t.selection)},{priority:"high"}),y.isAndroid?this._listenToIfEnabled(t,"keydown",(s,a)=>{a.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(t,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const t=this.editor,s=t.editing.view,a=t.model,d=a.schema;this._listenToIfEnabled(s.document,"delete",(p,w)=>{if(p.eventPhase!="atTarget")return;const k=hp(a.document.selection);if(!k)return;const D=w.direction,R=a.document.selection.getSelectedElement(),M=D=="forward";if(k==="before"===M)t.execute("delete",{selection:a.createSelection(R,"on")});else{const L=d.getNearestSelectionRange(a.createPositionAt(R,k),D);if(L)if(L.isCollapsed){const W=a.createSelection(L.start);if(a.modifySelection(W,{direction:D}),W.focus.isEqual(L.start)){const Y=function(se,le){let ve=le;for(const Pe of le.getAncestors({parentFirst:!0})){if(Pe.childCount>1||se.isLimit(Pe))break;ve=Pe}return ve}(d,L.start.parent);a.deleteContent(a.createSelection(Y,"on"),{doNotAutoparagraph:!0})}else a.change(Y=>{Y.setSelection(L),t.execute(M?"deleteForward":"delete")})}else a.change(W=>{W.setSelection(L),t.execute(M?"deleteForward":"delete")})}w.preventDefault(),p.stop()},{context:Er})}_enableInsertContentIntegration(){const t=this.editor,s=this.editor.model,a=s.document.selection;this._listenToIfEnabled(t.model,"insertContent",(d,[p,w])=>{if(w&&!w.is("documentSelection"))return;const k=hp(a);return k?(d.stop(),s.change(D=>{const R=a.getSelectedElement(),M=s.createPositionAt(R,k),L=D.createSelection(M),W=s.insertContent(p,L);return D.setSelection(L),W})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const t=this.editor,s=this.editor.model.document.selection;this._listenToIfEnabled(t.model,"insertObject",(a,d)=>{const[,p,w={}]=d;if(p&&!p.is("documentSelection"))return;const k=hp(s);k&&(w.findOptimalPosition=k,d[3]=w)},{priority:"high"})}_enableDeleteContentIntegration(){const t=this.editor,s=this.editor.model.document.selection;this._listenToIfEnabled(t.model,"deleteContent",(a,[d])=>{d&&!d.is("documentSelection")||hp(s)&&a.stop()},{priority:"high"})}}function Nse(f){const t=f.model;return(s,a)=>{const d=a.keyCode==Gt.arrowup,p=a.keyCode==Gt.arrowdown,w=a.shiftKey,k=t.document.selection;if(!d&&!p)return;const D=p;if(w&&function(M,L){return!M.isCollapsed&&M.isBackward==L}(k,D))return;const R=function(M,L,W){const Y=M.model;if(W){const se=L.isCollapsed?L.focus:L.getLastPosition(),le=P7(Y,se,"forward");if(!le)return null;const ve=Y.createRange(se,le),Pe=I7(Y.schema,ve,"backward");return Pe?Y.createRange(se,Pe):null}{const se=L.isCollapsed?L.focus:L.getFirstPosition(),le=P7(Y,se,"backward");if(!le)return null;const ve=Y.createRange(le,se),Pe=I7(Y.schema,ve,"forward");return Pe?Y.createRange(Pe,se):null}}(f,k,D);if(R){if(R.isCollapsed&&(k.isCollapsed||w))return;(R.isCollapsed||function(M,L,W){const Y=M.model,se=M.view.domConverter;if(W){const Qe=Y.createSelection(L.start);Y.modifySelection(Qe),Qe.focus.isAtEnd||L.start.isEqual(Qe.focus)||(L=Y.createRange(Qe.focus,L.end))}const le=M.mapper.toViewRange(L),ve=se.viewRangeToDom(le),Pe=vt.getDomRangeRects(ve);let $e;for(const Qe of Pe)if($e!==void 0){if(Math.round(Qe.top)>=$e)return!1;$e=Math.max($e,Math.round(Qe.bottom))}else $e=Math.round(Qe.bottom);return!0}(f,R,D))&&(t.change(M=>{const L=D?R.end:R.start;if(w){const W=t.createSelection(k.anchor);W.setFocus(L),M.setSelection(W)}else M.setSelection(L)}),s.stop(),a.preventDefault(),a.stopPropagation())}}}function P7(f,t,s){const a=f.schema,d=f.createRangeIn(t.root),p=s=="forward"?"elementStart":"elementEnd";for(const{previousPosition:w,item:k,type:D}of d.getWalker({startPosition:t,direction:s})){if(a.isLimit(k)&&!a.isInline(k))return w;if(D==p&&a.isBlock(k))return null}return null}function I7(f,t,s){const a=s=="backward"?t.end:t.start;if(f.checkChild(a,"$text"))return a;for(const{nextPosition:d}of t.getWalker({direction:s}))if(f.checkChild(d,"$text"))return d;return null}var OC=o(7153),T_={attributes:{"data-cke":!0}};T_.setAttributes=Tt(),T_.insert=Ot().bind(null,"head"),T_.domAPI=Rt(),T_.insertStyleElement=Mt(),jt()(OC.Z,T_),OC.Z&&OC.Z.locals&&OC.Z.locals;class D_ extends it{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[Dse,ah]}init(){const t=this.editor,s=t.editing.view,a=s.document;this.editor.editing.downcastDispatcher.on("selection",(d,p,w)=>{const k=w.writer,D=p.selection;if(D.isCollapsed)return;const R=D.getSelectedElement();if(!R)return;const M=t.editing.mapper.toViewElement(R);var L;Er(M)&&w.consumable.consume(D,"selection")&&k.setSelection(k.createRangeOn(M),{fake:!0,label:(L=M,L.getCustomProperty("widgetLabel").reduce((W,Y)=>typeof Y=="function"?W?W+". "+Y():Y():W?W+". "+Y:Y,""))})}),this.editor.editing.downcastDispatcher.on("selection",(d,p,w)=>{this._clearPreviouslySelectedWidgets(w.writer);const k=w.writer,D=k.document.selection;let R=null;for(const M of D.getRanges())for(const L of M){const W=L.item;Er(W)&&!Pse(W,R)&&(k.addClass(S7,W),this._previouslySelected.add(W),R=W)}},{priority:"low"}),s.addObserver(YA),this.listenTo(a,"mousedown",(...d)=>this._onMousedown(...d)),this.listenTo(a,"arrowKey",(...d)=>{this._handleSelectionChangeOnArrowKeyPress(...d)},{context:[Er,"$text"]}),this.listenTo(a,"arrowKey",(...d)=>{this._preventDefaultOnArrowKeyPress(...d)},{context:"$root"}),this.listenTo(a,"arrowKey",Nse(this.editor.editing),{context:"$text"}),this.listenTo(a,"delete",(d,p)=>{this._handleDelete(p.direction=="forward")&&(p.preventDefault(),d.stop())},{context:"$root"})}_onMousedown(t,s){const a=this.editor,d=a.editing.view,p=d.document;let w=s.target;if(function(D){let R=D;for(;R;){if(R.is("editableElement")&&!R.is("rootElement"))return!0;if(Er(R))return!1;R=R.parent}return!1}(w)){if((y.isSafari||y.isGecko)&&s.domEvent.detail>=3){const D=a.editing.mapper,R=w.is("attributeElement")?w.findAncestor(L=>!L.is("attributeElement")):w,M=D.toModelElement(R);s.preventDefault(),this.editor.model.change(L=>{L.setSelection(M,"in")})}return}if(!Er(w)&&(w=w.findAncestor(Er),!w))return;y.isAndroid&&s.preventDefault(),p.isFocused||d.focus();const k=a.editing.mapper.toModelElement(w);this._setSelectionOverElement(k)}_handleSelectionChangeOnArrowKeyPress(t,s){const a=s.keyCode,d=this.editor.model,p=d.schema,w=d.document.selection,k=w.getSelectedElement(),D=vu(a,this.editor.locale.contentLanguageDirection),R=D=="down"||D=="right",M=D=="up"||D=="down";if(k&&p.isObject(k)){const W=R?w.getLastPosition():w.getFirstPosition(),Y=p.getNearestSelectionRange(W,R?"forward":"backward");return void(Y&&(d.change(se=>{se.setSelection(Y)}),s.preventDefault(),t.stop()))}if(!w.isCollapsed&&!s.shiftKey){const W=w.getFirstPosition(),Y=w.getLastPosition(),se=W.nodeAfter,le=Y.nodeBefore;return void((se&&p.isObject(se)||le&&p.isObject(le))&&(d.change(ve=>{ve.setSelection(R?Y:W)}),s.preventDefault(),t.stop()))}if(!w.isCollapsed)return;const L=this._getObjectElementNextToSelection(R);if(L&&p.isObject(L)){if(p.isInline(L)&&M)return;this._setSelectionOverElement(L),s.preventDefault(),t.stop()}}_preventDefaultOnArrowKeyPress(t,s){const a=this.editor.model,d=a.schema,p=a.document.selection.getSelectedElement();p&&d.isObject(p)&&(s.preventDefault(),t.stop())}_handleDelete(t){const s=this.editor.model.document.selection;if(!this.editor.model.canEditAt(s)||!s.isCollapsed)return;const a=this._getObjectElementNextToSelection(t);return a?(this.editor.model.change(d=>{let p=s.anchor.parent;for(;p.isEmpty;){const w=p;p=w.parent,d.remove(w)}this._setSelectionOverElement(a)}),!0):void 0}_setSelectionOverElement(t){this.editor.model.change(s=>{s.setSelection(s.createRangeOn(t))})}_getObjectElementNextToSelection(t){const s=this.editor.model,a=s.schema,d=s.document.selection,p=s.createSelection(d);if(s.modifySelection(p,{direction:t?"forward":"backward"}),p.isEqual(d))return null;const w=t?p.focus.nodeBefore:p.focus.nodeAfter;return w&&a.isObject(w)?w:null}_clearPreviouslySelectedWidgets(t){for(const s of this._previouslySelected)t.removeClass(S7,s);this._previouslySelected.clear()}}function Pse(f,t){return!!t&&Array.from(f.getAncestors()).includes(t)}class FC extends it{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[wC]}static get pluginName(){return"WidgetToolbarRepository"}init(){const t=this.editor;if(t.plugins.has("BalloonToolbar")){const s=t.plugins.get("BalloonToolbar");this.listenTo(s,"show",a=>{(function(d){const p=d.getSelectedElement();return!(!p||!Er(p))})(t.editing.view.document.selection)&&a.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(t.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(t.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const t of this._toolbarDefinitions.values())t.view.destroy()}register(t,{ariaLabel:s,items:a,getRelatedElement:d,balloonClassName:p="ck-toolbar-container"}){if(!a.length)return void Z("widget-toolbar-no-items",{toolbarId:t});const w=this.editor,k=w.t,D=new OP(w.locale);if(D.ariaLabel=s||k("Widget toolbar"),this._toolbarDefinitions.has(t))throw new B("widget-toolbar-duplicated",this,{toolbarId:t});const R={view:D,getRelatedElement:d,balloonClassName:p,itemsConfig:a,initialized:!1};w.ui.addToolbar(D,{isContextual:!0,beforeFocus:()=>{const M=d(w.editing.view.document.selection);M&&this._showToolbar(R,M)},afterBlur:()=>{this._hideToolbar(R)}}),this._toolbarDefinitions.set(t,R)}_updateToolbarsVisibility(){let t=0,s=null,a=null;for(const d of this._toolbarDefinitions.values()){const p=d.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&p)if(this.editor.ui.focusTracker.isFocused){const w=p.getAncestors().length;w>t&&(t=w,s=p,a=d)}else this._isToolbarVisible(d)&&this._hideToolbar(d);else this._isToolbarInBalloon(d)&&this._hideToolbar(d)}a&&this._showToolbar(a,s)}_hideToolbar(t){this._balloon.remove(t.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(t,s){this._isToolbarVisible(t)?j7(this.editor,s):this._isToolbarInBalloon(t)||(t.initialized||(t.initialized=!0,t.view.fillFromConfig(t.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:t.view,position:R7(this.editor,s),balloonClassName:t.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const a of this._toolbarDefinitions.values())if(this._isToolbarVisible(a)){const d=a.getRelatedElement(this.editor.editing.view.document.selection);j7(this.editor,d)}}))}_isToolbarVisible(t){return this._balloon.visibleView===t.view}_isToolbarInBalloon(t){return this._balloon.hasView(t.view)}}function j7(f,t){const s=f.plugins.get("ContextualBalloon"),a=R7(f,t);s.updatePosition(a)}function R7(f,t){const s=f.editing.view,a=Ls.defaultPositions;return{target:s.domConverter.mapViewToDom(t),positions:[a.northArrowSouth,a.northArrowSouthWest,a.northArrowSouthEast,a.southArrowNorth,a.southArrowNorthWest,a.southArrowNorthEast,a.viewportStickyNorth]}}class Ise extends Be(){constructor(t){super(),this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=t,this._referenceCoordinates=null}get originalWidth(){return this._originalWidth}get originalHeight(){return this._originalHeight}get originalWidthPercents(){return this._originalWidthPercents}get aspectRatio(){return this._aspectRatio}begin(t,s,a){const d=new vt(s);this.activeHandlePosition=function(w){const k=["top-left","top-right","bottom-right","bottom-left"];for(const D of k)if(w.classList.contains(jse(D)))return D}(t),this._referenceCoordinates=function(w,k){const D=new vt(w),R=k.split("-"),M={x:R[1]=="right"?D.right:D.left,y:R[0]=="bottom"?D.bottom:D.top};return M.x+=w.ownerDocument.defaultView.scrollX,M.y+=w.ownerDocument.defaultView.scrollY,M}(s,function(w){const k=w.split("-"),D={top:"bottom",bottom:"top",left:"right",right:"left"};return`${D[k[0]]}-${D[k[1]]}`}(this.activeHandlePosition)),this._originalWidth=d.width,this._originalHeight=d.height,this._aspectRatio=d.width/d.height;const p=a.style.width;p&&p.match(/^\d+(\.\d*)?%$/)?this._originalWidthPercents=parseFloat(p):this._originalWidthPercents=function(w,k){const D=w.parentElement;let R=parseFloat(D.ownerDocument.defaultView.getComputedStyle(D).width);const M=5;let L=0,W=D;for(;isNaN(R);){if(W=W.parentElement,++L>M)return 0;R=parseFloat(D.ownerDocument.defaultView.getComputedStyle(W).width)}return k.width/R*100}(a,d)}update(t){this.proposedWidth=t.width,this.proposedHeight=t.height,this.proposedWidthPercents=t.widthPercents,this.proposedHandleHostWidth=t.handleHostWidth,this.proposedHandleHostHeight=t.handleHostHeight}}function jse(f){return`ck-widget__resizer__handle-${f}`}class Rse extends on{constructor(){super();const t=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",t.to("_viewPosition",s=>s?`ck-orientation-${s}`:"")],style:{display:t.if("_isVisible","none",s=>!s)}},children:[{text:t.to("_label")}]})}_bindToState(t,s){this.bind("_isVisible").to(s,"proposedWidth",s,"proposedHeight",(a,d)=>a!==null&&d!==null),this.bind("_label").to(s,"proposedHandleHostWidth",s,"proposedHandleHostHeight",s,"proposedWidthPercents",(a,d,p)=>t.unit==="px"?`${a}×${d}`:`${p}%`),this.bind("_viewPosition").to(s,"activeHandlePosition",s,"proposedHandleHostWidth",s,"proposedHandleHostHeight",(a,d,p)=>d<50||p<50?"above-center":a)}_dismiss(){this.unbind(),this._isVisible=!1}}class M7 extends Be(){constructor(t){super(),this._viewResizerWrapper=null,this._options=t,this.set("isEnabled",!0),this.set("isSelected",!1),this.bind("isVisible").to(this,"isEnabled",this,"isSelected",(s,a)=>s&&a),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",s=>{this.state.proposedWidth||this.state.proposedWidthPercents||(this._cleanup(),s.stop())},{priority:"high"})}get state(){return this._state}show(){this._options.editor.editing.view.change(t=>{t.removeClass("ck-hidden",this._viewResizerWrapper)})}hide(){this._options.editor.editing.view.change(t=>{t.addClass("ck-hidden",this._viewResizerWrapper)})}attach(){const t=this,s=this._options.viewElement;this._options.editor.editing.view.change(a=>{const d=a.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},function(p){const w=this.toDomElement(p);return t._appendHandles(w),t._appendSizeUI(w),w});a.insert(a.createPositionAt(s,"end"),d),a.addClass("ck-widget_with-resizer",s),this._viewResizerWrapper=d,this.isVisible||this.hide()}),this.on("change:isVisible",()=>{this.isVisible?(this.show(),this.redraw()):this.hide()})}begin(t){this._state=new Ise(this._options),this._sizeView._bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(t,this._getHandleHost(),this._getResizeHost())}updateSize(t){const s=this._proposeNewSize(t);this._options.editor.editing.view.change(D=>{const R=this._options.unit||"%",M=(R==="%"?s.widthPercents:s.width)+R;D.setStyle("width",M,this._options.viewElement)});const a=this._getHandleHost(),d=new vt(a),p=Math.round(d.width),w=Math.round(d.height),k=new vt(a);s.width=Math.round(k.width),s.height=Math.round(k.height),this.redraw(d),this.state.update({...s,handleHostWidth:p,handleHostHeight:w})}commit(){const t=this._options.unit||"%",s=(t==="%"?this.state.proposedWidthPercents:this.state.proposedWidth)+t;this._options.editor.editing.view.change(()=>{this._cleanup(),this._options.onCommit(s)})}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(t){const s=this._domResizerWrapper;if(!((a=s)&&a.ownerDocument&&a.ownerDocument.contains(a)))return;var a;const d=s.parentElement,p=this._getHandleHost(),w=this._viewResizerWrapper,k=[w.getStyle("width"),w.getStyle("height"),w.getStyle("left"),w.getStyle("top")];let D;if(d.isSameNode(p)){const R=t||new vt(p);D=[R.width+"px",R.height+"px",void 0,void 0]}else D=[p.offsetWidth+"px",p.offsetHeight+"px",p.offsetLeft+"px",p.offsetTop+"px"];qe(k,D)!=="same"&&this._options.editor.editing.view.change(R=>{R.setStyle({width:D[0],height:D[1],left:D[2],top:D[3]},w)})}containsHandle(t){return this._domResizerWrapper.contains(t)}static isResizeHandle(t){return t.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeView._dismiss(),this._options.editor.editing.view.change(t=>{t.setStyle("width",this._initialViewWidth,this._options.viewElement)})}_proposeNewSize(t){const s=this.state,a={x:(d=t).pageX,y:d.pageY};var d;const p=!this._options.isCentered||this._options.isCentered(this),w={x:s._referenceCoordinates.x-(a.x+s.originalWidth),y:a.y-s.originalHeight-s._referenceCoordinates.y};p&&s.activeHandlePosition.endsWith("-right")&&(w.x=a.x-(s._referenceCoordinates.x+s.originalWidth)),p&&(w.x*=2);let k=Math.abs(s.originalWidth+w.x),D=Math.abs(s.originalHeight+w.y);return(k/s.aspectRatio>D?"width":"height")=="width"?D=k/s.aspectRatio:k=D*s.aspectRatio,{width:Math.round(k),height:Math.round(D),widthPercents:Math.min(Math.round(s.originalWidthPercents/s.originalWidth*k*100)/100,100)}}_getResizeHost(){const t=this._domResizerWrapper.parentElement;return this._options.getResizeHost(t)}_getHandleHost(){const t=this._domResizerWrapper.parentElement;return this._options.getHandleHost(t)}get _domResizerWrapper(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}_appendHandles(t){const s=["top-left","top-right","bottom-right","bottom-left"];for(const d of s)t.appendChild(new dr({tag:"div",attributes:{class:"ck-widget__resizer__handle "+(a=d,`ck-widget__resizer__handle-${a}`)}}).render());var a}_appendSizeUI(t){this._sizeView=new Rse,this._sizeView.render(),t.appendChild(this._sizeView.element)}}var UC=o(4875),N_={attributes:{"data-cke":!0}};N_.setAttributes=Tt(),N_.insert=Ot().bind(null,"head"),N_.domAPI=Rt(),N_.insertStyleElement=Mt(),jt()(UC.Z,N_),UC.Z&&UC.Z.locals&&UC.Z.locals;class QP extends it{constructor(){super(...arguments),this._resizers=new Map}static get pluginName(){return"WidgetResize"}init(){const t=this.editor.editing,s=de.window.document;this.set("selectedResizer",null),this.set("_activeResizer",null),t.view.addObserver(YA),this._observer=new(ur()),this.listenTo(t.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(s,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(s,"mouseup",this._mouseUpListener.bind(this)),this._redrawSelectedResizerThrottled=d_(()=>this.redrawSelectedResizer(),200),this.editor.ui.on("update",this._redrawSelectedResizerThrottled),this.editor.model.document.on("change",()=>{for(const[d,p]of this._resizers)d.isAttached()||(this._resizers.delete(d),p.destroy())},{priority:"lowest"}),this._observer.listenTo(de.window,"resize",this._redrawSelectedResizerThrottled);const a=this.editor.editing.view.document.selection;a.on("change",()=>{const d=a.getSelectedElement(),p=this.getResizerByViewElement(d)||null;p?this.select(p):this.deselect()})}redrawSelectedResizer(){this.selectedResizer&&this.selectedResizer.isVisible&&this.selectedResizer.redraw()}destroy(){super.destroy(),this._observer.stopListening();for(const t of this._resizers.values())t.destroy();this._redrawSelectedResizerThrottled.cancel()}select(t){this.deselect(),this.selectedResizer=t,this.selectedResizer.isSelected=!0}deselect(){this.selectedResizer&&(this.selectedResizer.isSelected=!1),this.selectedResizer=null}attachTo(t){const s=new M7(t),a=this.editor.plugins;if(s.attach(),a.has("WidgetToolbarRepository")){const p=a.get("WidgetToolbarRepository");s.on("begin",()=>{p.forceDisabled("resize")},{priority:"lowest"}),s.on("cancel",()=>{p.clearForceDisabled("resize")},{priority:"highest"}),s.on("commit",()=>{p.clearForceDisabled("resize")},{priority:"highest"})}this._resizers.set(t.viewElement,s);const d=this.editor.editing.view.document.selection.getSelectedElement();return this.getResizerByViewElement(d)==s&&this.select(s),s}getResizerByViewElement(t){return this._resizers.get(t)}_getResizerByHandle(t){for(const s of this._resizers.values())if(s.containsHandle(t))return s}_mouseDownListener(t,s){const a=s.domTarget;M7.isResizeHandle(a)&&(this._activeResizer=this._getResizerByHandle(a)||null,this._activeResizer&&(this._activeResizer.begin(a),t.stop(),s.preventDefault()))}_mouseMoveListener(t,s){this._activeResizer&&this._activeResizer.updateSize(s)}_mouseUpListener(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}}const eI=Lr("px");class Mse extends on{constructor(){super();const t=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",t.if("isVisible","ck-hidden",s=>!s)],style:{left:t.to("left",s=>eI(s)),top:t.to("top",s=>eI(s)),width:t.to("width",s=>eI(s))}}})}}class LC extends it{constructor(){super(...arguments),this.removeDropMarkerDelayed=xg(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=d_(t=>this._updateDropMarker(t),40),this._reconvertMarkerThrottled=d_(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new Mse,this._domEmitter=new(ur()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:t}of this._scrollables.values())t.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(t,s,a,d,p){this.removeDropMarkerDelayed.cancel();const w=O7(this.editor,t,s,a,d,p);w&&this._updateDropMarkerThrottled(w)}getFinalDropRange(t,s,a,d,p){const w=O7(this.editor,t,s,a,d,p);return this.removeDropMarker(),w}removeDropMarker(){const t=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,t.markers.has("drop-target")&&t.change(s=>{s.removeMarker("drop-target")})}_setupDropMarker(){const t=this.editor;t.ui.view.body.add(this._dropTargetLineView),t.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),t.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(s,{writer:a})=>{if(t.model.schema.checkChild(s.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(a);s.markerRange.isCollapsed?this._updateDropTargetLine(s.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(t){const s=this.editor,a=s.model.markers;s.model.change(d=>{a.has("drop-target")?a.get("drop-target").getRange().isEqual(t)||d.updateMarker("drop-target",{range:t}):d.addMarker("drop-target",{range:t,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(t){return t.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(s){const a=this.toDomElement(s);return a.append("⁠",s.createElement("span"),"⁠"),a})}_updateDropTargetLine(t){const s=this.editor.editing,a=t.start.nodeBefore,d=t.start.nodeAfter,p=t.start.parent,w=a?s.mapper.toViewElement(a):null,k=w?s.view.domConverter.mapViewToDom(w):null,D=d?s.mapper.toViewElement(d):null,R=D?s.view.domConverter.mapViewToDom(D):null,M=s.mapper.toViewElement(p),L=s.view.domConverter.mapViewToDom(M),W=this._getScrollableRect(M),{scrollX:Y,scrollY:se}=de.window,le=k?new vt(k):null,ve=R?new vt(R):null,Pe=new vt(L).excludeScrollbarsAndBorders(),$e=le?le.bottom:Pe.top,Qe=ve?ve.top:Pe.bottom,St=de.window.getComputedStyle(L),tn=$e<=Qe?($e+Qe)/2:Qe;if(W.top<tn&&tn<W.bottom){const Fn=Pe.left+parseFloat(St.paddingLeft),Un=Pe.right-parseFloat(St.paddingRight),$r=Math.max(Fn+Y,W.left),vo=Math.min(Un+Y,W.right);this._dropTargetLineView.set({isVisible:!0,left:$r,top:tn+se,width:vo-$r})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(t){const s=t.root.rootName;let a;if(this._scrollables.has(s))a=this._scrollables.get(s).domElement;else{a=function(p){let w=p;do{w=w.parentElement;const k=de.window.getComputedStyle(w).overflowY;if(k=="auto"||k=="scroll")break}while(w.tagName!="BODY");return w}(this.editor.editing.view.domConverter.mapViewToDom(t)),this._domEmitter.listenTo(a,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const d=new wn(a,this._reconvertMarkerThrottled);this._scrollables.set(s,{domElement:a,resizeObserver:d})}return new vt(a).excludeScrollbarsAndBorders()}}function O7(f,t,s,a,d,p){const w=f.model,k=f.editing.mapper;let D=U7(f,t);for(;D;){if(!p){if(w.schema.checkChild(D,"$text")){const R=s?s[0].start:null,M=R?k.toModelPosition(R):null;if(M){if(w.schema.checkChild(M,"$text"))return w.createRange(M);if(R)return BC(f,U7(f,R.parent),a,d)}}else if(w.schema.isInline(D))return BC(f,D,a,d)}if(w.schema.isBlock(D))return BC(f,D,a,d);if(w.schema.checkChild(D,"$block")){const R=Array.from(D.getChildren()).filter(W=>W.is("element")&&!Ose(f,W));let M=0,L=R.length;if(L==0)return w.createRange(w.createPositionAt(D,"end"));for(;M<L-1;){const W=Math.floor((M+L)/2);F7(f,R[W],a,d)=="before"?L=W:M=W}return BC(f,R[M],a,d)}D=D.parent}return null}function Ose(f,t){const s=f.editing.mapper,a=f.editing.view.domConverter,d=s.toViewElement(t),p=a.mapViewToDom(d);return de.window.getComputedStyle(p).float!="none"}function BC(f,t,s,a){const d=f.model;return d.createRange(d.createPositionAt(t,F7(f,t,s,a)))}function F7(f,t,s,a){const d=f.editing.mapper,p=f.editing.view.domConverter,w=d.toViewElement(t),k=p.mapViewToDom(w),D=new vt(k);return f.model.schema.isInline(t)?s<(D.left+D.right)/2?"before":"after":a<(D.top+D.bottom)/2?"before":"after"}function U7(f,t){const s=f.editing.mapper,a=f.editing.view,d=s.toModelElement(t);if(d)return d;const p=a.createPositionBefore(t),w=s.findMappedViewAncestor(p);return s.toModelElement(w)}class Fse extends it{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(ur())}static get pluginName(){return"DragDropBlockToolbar"}init(){const t=this.editor;if(this.listenTo(t,"change:isReadOnly",(s,a,d)=>{d?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),y.isAndroid&&this.forceDisabled("noAndroidSupport"),t.plugins.has("BlockToolbar")){const s=t.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(s,"dragstart",(a,d)=>this._handleBlockDragStart(d)),this._domEmitter.listenTo(de.document,"dragover",(a,d)=>this._handleBlockDragging(d)),this._domEmitter.listenTo(de.document,"drop",(a,d)=>this._handleBlockDragging(d)),this._domEmitter.listenTo(de.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&s.setAttribute("draggable","true"),this.on("change:isEnabled",(a,d,p)=>{s.setAttribute("draggable",p?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(t){if(!this.isEnabled)return;const s=this.editor.model,a=s.document.selection,d=this.editor.editing.view,p=Array.from(a.getSelectedBlocks()),w=s.createRange(s.createPositionBefore(p[0]),s.createPositionAfter(p[p.length-1]));s.change(k=>k.setSelection(w)),this._isBlockDragging=!0,d.focus(),d.getObserver(S_).onDomEvent(t)}_handleBlockDragging(t){if(!this.isEnabled||!this._isBlockDragging)return;const s=t.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),a=t.clientY,d=document.elementFromPoint(s,a),p=this.editor.editing.view;d&&d.closest(".ck-editor__editable")&&p.getObserver(S_).onDomEvent({...t,type:t.type,dataTransfer:t.dataTransfer,target:d,clientX:s,clientY:a,preventDefault:()=>t.preventDefault(),stopPropagation:()=>t.stopPropagation()})}_handleBlockDragEnd(){this._isBlockDragging=!1}}var zC=o(799),P_={attributes:{"data-cke":!0}};P_.setAttributes=Tt(),P_.insert=Ot().bind(null,"head"),P_.domAPI=Rt(),P_.insertStyleElement=Mt(),jt()(zC.Z,P_),zC.Z&&zC.Z.locals&&zC.Z.locals;class Use extends it{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=xg(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new(ur())}static get pluginName(){return"DragDrop"}static get requires(){return[oh,D_,LC,Fse]}init(){const t=this.editor,s=t.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,s.addObserver(S_),s.addObserver(YA),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(t,"change:isReadOnly",(a,d,p)=>{p?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(a,d,p)=>{p||this._finalizeDragging(!1)}),y.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const t=this.editor,s=t.model,a=t.editing.view,d=a.document,p=t.plugins.get(LC);this.listenTo(d,"dragstart",(w,k)=>{if(k.target&&k.target.is("editableElement")||(this._prepareDraggedRange(k.target),!this._draggedRange))return void k.preventDefault();this._draggingUid=O(),k.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",k.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const D=s.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(k.dataTransfer,D,"dragstart");const{dataTransfer:R,domTarget:M,domEvent:L}=k,{clientX:W}=L;this._updatePreview({dataTransfer:R,domTarget:M,clientX:W}),k.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(d,"dragend",(w,k)=>{this._finalizeDragging(!k.dataTransfer.isCanceled&&k.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(de.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(d,"dragenter",()=>{this.isEnabled&&a.focus()}),this.listenTo(d,"dragleave",()=>{p.removeDropMarkerDelayed()}),this.listenTo(d,"dragging",(w,k)=>{if(!this.isEnabled)return void(k.dataTransfer.dropEffect="none");const{clientX:D,clientY:R}=k.domEvent;p.updateDropMarker(k.target,k.targetRanges,D,R,this._blockMode),this._draggedRange||(k.dataTransfer.dropEffect="copy"),y.isGecko||(k.dataTransfer.effectAllowed=="copy"?k.dataTransfer.dropEffect="copy":["all","copyMove"].includes(k.dataTransfer.effectAllowed)&&(k.dataTransfer.dropEffect="move")),w.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const t=this.editor,s=t.editing.view.document,a=t.plugins.get(LC);this.listenTo(s,"clipboardInput",(d,p)=>{if(p.method!="drop")return;const{clientX:w,clientY:k}=p.domEvent,D=a.getFinalDropRange(p.target,p.targetRanges,w,k,this._blockMode);if(!D)return this._finalizeDragging(!1),void d.stop();if(this._draggedRange&&this._draggingUid!=p.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),L7(p.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(D,!0))return this._finalizeDragging(!1),void d.stop();p.targetRanges=[t.editing.mapper.toViewRange(D)]},{priority:"high"})}_setupContentInsertionIntegration(){const t=this.editor.plugins.get(oh);t.on("contentInsertion",(s,a)=>{if(!this.isEnabled||a.method!=="drop")return;const d=a.targetRanges.map(p=>this.editor.editing.mapper.toModelRange(p));this.editor.model.change(p=>p.setSelection(d))},{priority:"high"}),t.on("contentInsertion",(s,a)=>{if(!this.isEnabled||a.method!=="drop")return;const d=L7(a.dataTransfer)=="move",p=!a.resultRange||!a.resultRange.isCollapsed;this._finalizeDragging(p&&d)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const t=this.editor,s=t.editing.view,a=s.document;this.listenTo(a,"mousedown",(d,p)=>{if(y.isAndroid||!p)return;this._clearDraggableAttributesDelayed.cancel();let w=B7(p.target);if(y.isBlink&&!t.isReadOnly&&!w&&!a.selection.isCollapsed){const k=a.selection.getSelectedElement();k&&Er(k)||(w=a.selection.editableElement)}w&&(s.change(k=>{k.setAttribute("draggable","true",w)}),this._draggableElement=t.editing.mapper.toModelElement(w))}),this.listenTo(a,"mouseup",()=>{y.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const t=this.editor.editing;t.view.change(s=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&s.removeAttribute("draggable",t.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(t){const s=this.editor,a=s.model;s.plugins.get(LC).removeDropMarker(),this._clearDraggableAttributes(),s.plugins.has("WidgetToolbarRepository")&&s.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(t&&this.isEnabled&&a.change(d=>{const p=a.createSelection(this._draggedRange);a.deleteContent(p,{doNotAutoparagraph:!0});const w=p.getFirstPosition().parent;w.isEmpty&&!a.schema.checkChild(w,"$text")&&a.schema.checkChild(w,"paragraph")&&d.insertElement("paragraph",w,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(t){const s=this.editor,a=s.model,d=a.document.selection,p=t?B7(t):null;if(p){const R=s.editing.mapper.toModelElement(p);this._draggedRange=Na.fromRange(a.createRangeOn(R)),this._blockMode=a.schema.isBlock(R),s.plugins.has("WidgetToolbarRepository")&&s.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(d.isCollapsed&&!d.getFirstPosition().parent.isEmpty)return;const w=Array.from(d.getSelectedBlocks()),k=d.getFirstRange();if(w.length==0)return void(this._draggedRange=Na.fromRange(k));const D=z7(a,w);if(w.length>1)this._draggedRange=Na.fromRange(D),this._blockMode=!0;else if(w.length==1){const R=k.start.isTouching(D.start)&&k.end.isTouching(D.end);this._draggedRange=Na.fromRange(R?D:k),this._blockMode=R}a.change(R=>R.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:t,domTarget:s,clientX:a}){const d=this.editor.editing.view,p=d.document.selection.editableElement,w=d.domConverter.mapViewToDom(p),k=de.window.getComputedStyle(w);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=jr(de.document,"div",{style:"position: fixed; left: -999999px;"}),de.document.body.appendChild(this._previewContainer));const D=new vt(w);if(w.contains(s))return;const R=parseFloat(k.paddingLeft),M=jr(de.document,"div");M.className="ck ck-content",M.style.width=k.width,M.style.paddingLeft=`${D.left-a+R}px`,y.isiOS&&(M.style.backgroundColor="white"),M.innerHTML=t.getData("text/html"),t.setDragImage(M,0,0),this._previewContainer.appendChild(M)}}function L7(f){return y.isGecko?f.dropEffect:["all","copyMove"].includes(f.effectAllowed)?"move":"copy"}function B7(f){if(f.is("editableElement"))return null;if(f.hasClass("ck-widget__selection-handle"))return f.findAncestor(Er);if(Er(f))return f;const t=f.findAncestor(s=>Er(s)||s.is("editableElement"));return Er(t)?t:null}function z7(f,t){const s=t[0],a=t[t.length-1],d=s.getCommonAncestor(a),p=f.createPositionBefore(s),w=f.createPositionAfter(a);if(d&&d.is("element")&&!f.schema.isLimit(d)){const k=f.createRangeOn(d),D=p.isTouching(k.start),R=w.isTouching(k.end);if(D&&R)return z7(f,[d])}return f.createRange(p,w)}class Lse extends it{static get pluginName(){return"PastePlainText"}static get requires(){return[oh]}init(){const t=this.editor,s=t.model,a=t.editing.view,d=a.document,p=s.document.selection;let w=!1;a.addObserver(S_),this.listenTo(d,"keydown",(k,D)=>{w=D.shiftKey}),t.plugins.get(oh).on("contentInsertion",(k,D)=>{(w||function(R,M){if(R.childCount>1)return!1;const L=R.getChild(0);return M.isObject(L)?!1:Array.from(L.getAttributeKeys()).length==0}(D.content,s.schema))&&s.change(R=>{const M=Array.from(p.getAttributes()).filter(([W])=>s.schema.getAttributeProperties(W).isFormatting);p.isCollapsed||s.deleteContent(p,{doNotAutoparagraph:!0}),M.push(...p.getAttributes());const L=R.createRangeIn(D.content);for(const W of L.getItems())W.is("$textProxy")&&R.setAttributes(M,W)})})}}class V7 extends it{static get pluginName(){return"Clipboard"}static get requires(){return[oh,Use,Lse]}}class Bse extends cn{constructor(t){super(t),this.affectsData=!1}execute(){const t=this.editor.model,s=t.document.selection;let a=t.schema.getLimitElement(s);if(s.containsEntireContent(a)||!W7(t.schema,a))do if(a=a.parent,!a)return;while(!W7(t.schema,a));t.change(d=>{d.setSelection(a,"in")})}}function W7(f,t){return f.isLimit(t)&&(f.checkChild(t,"$text")||f.checkChild(t,"paragraph"))}const zse=Br("Ctrl+A");class Vse extends it{static get pluginName(){return"SelectAllEditing"}init(){const t=this.editor,s=t.editing.view.document;t.commands.add("selectAll",new Bse(t)),this.listenTo(s,"keydown",(a,d)=>{Ri(d)===zse&&(t.execute("selectAll"),d.preventDefault())})}}class Wse extends it{static get pluginName(){return"SelectAllUI"}init(){const t=this.editor;t.ui.componentFactory.add("selectAll",s=>{const a=t.commands.get("selectAll"),d=new Mn(s),p=s.t;return d.set({label:p("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),d.bind("isEnabled").to(a,"isEnabled"),this.listenTo(d,"execute",()=>{t.execute("selectAll"),t.editing.view.focus()}),d})}}class $se extends it{static get requires(){return[Vse,Wse]}static get pluginName(){return"SelectAll"}}class $7 extends cn{constructor(t){super(t),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(t.data,"set",(s,a)=>{a[1]={...a[1]};const d=a[1];d.batchType||(d.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(t.data,"set",(s,a)=>{a[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(t){const s=this.editor.model.document.selection,a={ranges:s.hasOwnRange?Array.from(s.getRanges()):[],isBackward:s.isBackward};this._stack.push({batch:t,selection:a}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(t,s,a){const d=this.editor.model,p=d.document,w=[],k=t.map(R=>R.getTransformedByOperations(a)),D=k.flat();for(const R of k){const M=R.filter(L=>L.root!=p.graveyard).filter(L=>!Hse(L,D));M.length&&(qse(M),w.push(M[0]))}w.length&&d.change(R=>{R.setSelection(w,{backward:s})})}_undo(t,s){const a=this.editor.model,d=a.document;this._createdBatches.add(s);const p=t.operations.slice().filter(w=>w.isDocumentOperation);p.reverse();for(const w of p){const k=w.baseVersion+1,D=Array.from(d.history.getOperations(k)),R=Qie([w.getReversed()],D,{useRelations:!0,document:this.editor.model.document,forceWeakRemove:!0}).operationsA;for(let M of R){const L=M.affectedSelectable;L&&!a.canEditAt(L)&&(M=new kr(M.baseVersion)),s.addOperation(M),a.applyOperation(M),d.history.setOperationAsUndone(w,M)}}}}function qse(f){f.sort((t,s)=>t.start.isBefore(s.start)?-1:1);for(let t=1;t<f.length;t++){const s=f[t-1].getJoined(f[t],!0);s&&(t--,f.splice(t,2,s))}}function Hse(f,t){return t.some(s=>s!==f&&s.containsRange(f,!0))}class Gse extends $7{execute(t=null){const s=t?this._stack.findIndex(p=>p.batch==t):this._stack.length-1,a=this._stack.splice(s,1)[0],d=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(d,()=>{this._undo(a.batch,d);const p=this.editor.model.document.history.getOperations(a.batch.baseVersion);this._restoreSelection(a.selection.ranges,a.selection.isBackward,p)}),this.fire("revert",a.batch,d),this.refresh()}}class Xse extends $7{execute(){const t=this._stack.pop(),s=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(s,()=>{const a=t.batch.operations[t.batch.operations.length-1].baseVersion+1,d=this.editor.model.document.history.getOperations(a);this._restoreSelection(t.selection.ranges,t.selection.isBackward,d),this._undo(t.batch,s)}),this.refresh()}}class Kse extends it{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const t=this.editor;this._undoCommand=new Gse(t),this._redoCommand=new Xse(t),t.commands.add("undo",this._undoCommand),t.commands.add("redo",this._redoCommand),this.listenTo(t.model,"applyOperation",(s,a)=>{const d=a[0];if(!d.isDocumentOperation)return;const p=d.batch,w=this._redoCommand.createdBatches.has(p),k=this._undoCommand.createdBatches.has(p);this._batchRegistry.has(p)||(this._batchRegistry.add(p),p.isUndoable&&(w?this._undoCommand.addBatch(p):k||(this._undoCommand.addBatch(p),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(s,a,d)=>{this._redoCommand.addBatch(d)}),t.keystrokes.set("CTRL+Z","undo"),t.keystrokes.set("CTRL+Y","redo"),t.keystrokes.set("CTRL+SHIFT+Z","redo")}}const q7='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',H7='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class Zse extends it{static get pluginName(){return"UndoUI"}init(){const t=this.editor,s=t.locale,a=t.t,d=s.uiLanguageDirection=="ltr"?q7:H7,p=s.uiLanguageDirection=="ltr"?H7:q7;this._addButton("undo",a("Undo"),"CTRL+Z",d),this._addButton("redo",a("Redo"),"CTRL+Y",p)}_addButton(t,s,a,d){const p=this.editor;p.ui.componentFactory.add(t,w=>{const k=p.commands.get(t),D=new Mn(w);return D.set({label:s,icon:d,keystroke:a,tooltip:!0}),D.bind("isEnabled").to(k,"isEnabled"),this.listenTo(D,"execute",()=>{p.execute(t),p.editing.view.focus()}),D})}}class G7 extends it{static get requires(){return[Kse,Zse]}static get pluginName(){return"Undo"}}function fp(f,t,s,a){let d,p=null;typeof a=="function"?d=a:(p=f.commands.get(a),d=()=>{f.execute(a)}),f.model.document.on("change:data",(w,k)=>{if(p&&!p.isEnabled||!t.isEnabled)return;const D=ci(f.model.document.selection.getRanges());if(!D.isCollapsed||k.isUndo||!k.isLocal)return;const R=Array.from(f.model.document.differ.getChanges()),M=R[0];if(R.length!=1||M.type!=="insert"||M.name!="$text"||M.length!=1)return;const L=M.position.parent;if(L.is("element","codeBlock")||L.is("element","listItem")&&typeof a!="function"&&!["numberedList","bulletedList","todoList"].includes(a)||p&&p.value===!0)return;const W=L.getChild(0),Y=f.model.createRangeOn(W);if(!Y.containsRange(D)&&!D.end.isEqual(Y.end))return;const se=s.exec(W.data.substr(0,D.end.offset));se&&f.model.enqueueChange(le=>{const ve=le.createPositionAt(L,0),Pe=le.createPositionAt(L,se[0].length),$e=new Na(ve,Pe);if(d({match:se})!==!1){le.remove($e);const Qe=f.model.document.selection.getFirstRange(),St=le.createRangeIn(L);!L.isEmpty||St.isEqual(Qe)||St.containsRange(Qe,!0)||le.remove(L)}$e.detach(),f.model.enqueueChange(()=>{f.plugins.get("Delete").requestUndoOnBackspace()})})})}function sv(f,t,s,a){let d,p;s instanceof RegExp?d=s:p=s,p=p||(w=>{let k;const D=[],R=[];for(;(k=d.exec(w))!==null&&!(k&&k.length<4);){let{index:M,1:L,2:W,3:Y}=k;const se=L+W+Y;M+=k[0].length-se.length;const le=[M,M+L.length],ve=[M+L.length+W.length,M+L.length+W.length+Y.length];D.push(le),D.push(ve),R.push([M+L.length,M+L.length+W.length])}return{remove:D,format:R}}),f.model.document.on("change:data",(w,k)=>{if(k.isUndo||!k.isLocal||!t.isEnabled)return;const D=f.model,R=D.document.selection;if(!R.isCollapsed)return;const M=Array.from(D.document.differ.getChanges()),L=M[0];if(M.length!=1||L.type!=="insert"||L.name!="$text"||L.length!=1)return;const W=R.focus,Y=W.parent,{text:se,range:le}=function(Qe,St){let tn=Qe.start;return{text:Array.from(Qe.getItems()).reduce((Un,$r)=>!$r.is("$text")&&!$r.is("$textProxy")||$r.getAttribute("code")?(tn=St.createPositionAfter($r),""):Un+$r.data,""),range:St.createRange(tn,Qe.end)}}(D.createRange(D.createPositionAt(Y,0),W),D),ve=p(se),Pe=X7(le.start,ve.format,D),$e=X7(le.start,ve.remove,D);Pe.length&&$e.length&&D.enqueueChange(Qe=>{if(a(Qe,Pe)!==!1){for(const St of $e.reverse())Qe.remove(St);D.enqueueChange(()=>{f.plugins.get("Delete").requestUndoOnBackspace()})}})})}function X7(f,t,s){return t.filter(a=>a[0]!==void 0&&a[1]!==void 0).map(a=>s.createRange(f.getShiftedBy(a[0]),f.getShiftedBy(a[1])))}function VC(f,t){return(s,a)=>{if(!f.commands.get(t).isEnabled)return!1;const d=f.model.schema.getValidRanges(a,t);for(const p of d)s.setAttribute(t,!0,p);s.removeSelectionAttribute(t)}}class tI extends cn{constructor(t,s){super(t),this.attributeKey=s}refresh(){const t=this.editor.model,s=t.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=t.schema.checkAttributeInSelection(s.selection,this.attributeKey)}execute(t={}){const s=this.editor.model,a=s.document.selection,d=t.forceValue===void 0?!this.value:t.forceValue;s.change(p=>{if(a.isCollapsed)d?p.setSelectionAttribute(this.attributeKey,!0):p.removeSelectionAttribute(this.attributeKey);else{const w=s.schema.getValidRanges(a.getRanges(),this.attributeKey);for(const k of w)d?p.setAttribute(this.attributeKey,d,k):p.removeAttribute(this.attributeKey,k)}})}_getValueFromFirstAllowedNode(){const t=this.editor.model,s=t.schema,a=t.document.selection;if(a.isCollapsed)return a.hasAttribute(this.attributeKey);for(const d of a.getRanges())for(const p of d.getItems())if(s.checkAttribute(p,this.attributeKey))return p.hasAttribute(this.attributeKey);return!1}}const ov="bold";class Yse extends it{static get pluginName(){return"BoldEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:ov}),t.model.schema.setAttributeProperties(ov,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:ov,view:"strong",upcastAlso:["b",s=>{const a=s.getStyle("font-weight");return a&&(a=="bold"||Number(a)>=600)?{name:!0,styles:["font-weight"]}:null}]}),t.commands.add(ov,new tI(t,ov)),t.keystrokes.set("CTRL+B",ov)}}const nI="bold";class Jse extends it{static get pluginName(){return"BoldUI"}init(){const t=this.editor,s=t.t;t.ui.componentFactory.add(nI,a=>{const d=t.commands.get(nI),p=new Mn(a);return p.set({label:s("Bold"),icon:Kn.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),p.bind("isOn","isEnabled").to(d,"value","isEnabled"),this.listenTo(p,"execute",()=>{t.execute(nI),t.editing.view.focus()}),p})}}const av="italic";class Qse extends it{static get pluginName(){return"ItalicEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:av}),t.model.schema.setAttributeProperties(av,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:av,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),t.commands.add(av,new tI(t,av)),t.keystrokes.set("CTRL+I",av)}}const iI="italic";class eoe extends it{static get pluginName(){return"ItalicUI"}init(){const t=this.editor,s=t.t;t.ui.componentFactory.add(iI,a=>{const d=t.commands.get(iI),p=new Mn(a);return p.set({label:s("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),p.bind("isOn","isEnabled").to(d,"value","isEnabled"),this.listenTo(p,"execute",()=>{t.execute(iI),t.editing.view.focus()}),p})}}const Vg="code";class toe extends it{static get pluginName(){return"CodeEditing"}static get requires(){return[NC]}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:Vg}),t.model.schema.setAttributeProperties(Vg,{isFormatting:!0,copyOnEnter:!1}),t.conversion.attributeToElement({model:Vg,view:"code",upcastAlso:{styles:{"word-wrap":"break-word"}}}),t.commands.add(Vg,new tI(t,Vg)),t.plugins.get(NC).registerAttribute(Vg),v7(t,Vg,"code","ck-code_selected")}}var WC=o(5363),I_={attributes:{"data-cke":!0}};I_.setAttributes=Tt(),I_.insert=Ot().bind(null,"head"),I_.domAPI=Rt(),I_.insertStyleElement=Mt(),jt()(WC.Z,I_),WC.Z&&WC.Z.locals&&WC.Z.locals;const rI="code";class noe extends it{static get pluginName(){return"CodeUI"}init(){const t=this.editor,s=t.t;t.ui.componentFactory.add(rI,a=>{const d=t.commands.get(rI),p=new Mn(a);return p.set({label:s("Code"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.5 5.7 5.2 3.9v1.3l-5.6 4c-.1.2-.3.2-.5.2-.3-.1-.6-.7-.6-1l.3-.4 4.7-3.5L11.5 7l-.2-.2c-.1-.3-.1-.6 0-.8.2-.2.5-.4.8-.4a.8.8 0 0 1 .4.1zm-5.2 0L2 9.6v1.3l5.6 4c.1.2.3.2.5.2.3-.1.7-.7.6-1 0-.1 0-.3-.2-.4l-5-3.5L8.2 7l.2-.2c.1-.3.1-.6 0-.8-.2-.2-.5-.4-.8-.4a.8.8 0 0 0-.3.1z"/></svg>',tooltip:!0,isToggleable:!0}),p.bind("isOn","isEnabled").to(d,"value","isEnabled"),this.listenTo(p,"execute",()=>{t.execute(rI),t.editing.view.focus()}),p})}}function sI(f){const t=f.t,s=f.config.get("codeBlock.languages");for(const a of s)a.label==="Plain text"&&(a.label=t("Plain text")),a.class===void 0&&(a.class=`language-${a.language}`);return s}function oI(f,t,s){const a={};for(const d of f)t==="class"?a[d[t].split(" ").shift()]=d[s]:a[d[t]]=d[s];return a}function aI(f){return f.data.match(/^(\s*)/)[0]}function K7(f,t){const s=f.createDocumentFragment(),a=t.split(`
`).map(p=>f.createText(p)),d=a[a.length-1];for(const p of a)f.append(p,s),p!==d&&f.appendElement("softBreak",s);return s}function lI(f){const t=f.document.selection,s=[];if(t.isCollapsed)s.push(t.anchor);else{const a=t.getFirstRange().getWalker({ignoreElementEnd:!0,direction:"backward"});for(const{item:d}of a)if(d.is("$textProxy")&&d.parent.is("element","codeBlock")){const p=aI(d.textNode),{parent:w,startOffset:k}=d.textNode,D=f.createPositionAt(w,k+p.length);s.push(D)}}return s}function Z7(f){const t=ci(f.getSelectedBlocks());return t&&t.is("element","codeBlock")}var ioe=o(4670),roe=o.n(ioe);class soe extends cn{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const s=this.editor,a=s.model,d=a.document.selection,p=sI(s)[0],w=Array.from(d.getSelectedBlocks()),k=t.forceValue===void 0?!this.value:t.forceValue,D=t.language||p.language;a.change(R=>{k?this._applyCodeBlock(R,w,D):this._removeCodeBlock(R,w)})}_getValue(){const t=ci(this.editor.model.document.selection.getSelectedBlocks());return!(!t||!t.is("element","codeBlock"))&&t.getAttribute("language")}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.document.selection,s=this.editor.model.schema,a=ci(t.getSelectedBlocks());return!!a&&Y7(s,a)}_applyCodeBlock(t,s,a){const d=this.editor.model.schema,p=s.filter(w=>Y7(d,w));for(const w of p)t.rename(w,"codeBlock"),t.setAttribute("language",a,w),t.setAttribute("codeID",roe().generate(),w),d.removeDisallowedAttributes([w],t);p.reverse().forEach((w,k)=>{const D=p[k+1];w.previousSibling===D&&(t.appendElement("softBreak",D),t.merge(t.createPositionBefore(w)))})}_removeCodeBlock(t,s){const a=s.filter(d=>d.is("element","codeBlock"));for(const d of a){const p=t.createRangeOn(d);for(const w of Array.from(p.getItems()).reverse())if(w.is("element","softBreak")&&w.parent.is("element","codeBlock")){const{position:k}=t.split(t.createPositionBefore(w));t.rename(k.nodeAfter,"paragraph"),t.removeAttribute("language",k.nodeAfter),t.remove(w)}t.rename(d,"paragraph"),t.removeAttribute("language",d)}}}function Y7(f,t){return!t.is("rootElement")&&!f.isLimit(t)&&f.checkChild(t.parent,"codeBlock")}class ooe extends cn{constructor(t){super(t),this._indentSequence=t.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model;t.change(s=>{const a=lI(t);for(const d of a)s.insertText(this._indentSequence,d)})}_checkEnabled(){return!!this._indentSequence&&Z7(this.editor.model.document.selection)}}class aoe extends cn{constructor(t){super(t),this._indentSequence=t.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model;t.change(s=>{const a=lI(t);for(const d of a){const p=J7(this.editor.model,d,this._indentSequence);p&&s.remove(p)}})}_checkEnabled(){if(!this._indentSequence)return!1;const t=this.editor.model;return!!Z7(t.document.selection)&&lI(t).some(s=>J7(t,s,this._indentSequence))}}function J7(f,t,s){const a=function(D){let R=D.parent.getChild(D.index);return R&&!R.is("element","softBreak")||(R=D.nodeBefore),!R||R.is("element","softBreak")?null:R}(t);if(!a)return null;const d=aI(a),p=d.lastIndexOf(s);if(p+s.length!==d.length||p===-1)return null;const{parent:w,startOffset:k}=a;return f.createRange(f.createPositionAt(w,k+p),f.createPositionAt(w,k+p+s.length))}function Q7(f,t,s=!1){const a=oI(t,"language","class"),d=oI(t,"language","label");return(p,w,k)=>{const{writer:D,mapper:R,consumable:M}=k;let L="";if(!M.consume(w.item,"insert"))return;const W=w.item.getAttribute("language"),Y=w.item.getAttribute("codeID"),se=R.toViewPosition(f.createPositionBefore(w.item)),le={};s?(le["data-language"]=d[W],le.spellcheck="false"):L=Y;const ve=D.createContainerElement("pre",le),Pe=D.createContainerElement("code",{class:a[W]||null,id:L||null});D.insert(D.createPositionAt(ve,0),Pe),D.insert(se,ve),R.bindElements(w.item,Pe)}}const e9="paragraph";class loe extends it{static get pluginName(){return"CodeBlockEditing"}static get requires(){return[E7]}constructor(t){super(t),t.config.define("codeBlock",{languages:[{language:"plaintext",label:"Plain text"},{language:"c",label:"C"},{language:"cs",label:"C#"},{language:"cpp",label:"C++"},{language:"css",label:"CSS"},{language:"diff",label:"Diff"},{language:"html",label:"HTML"},{language:"java",label:"Java"},{language:"javascript",label:"JavaScript"},{language:"php",label:"PHP"},{language:"python",label:"Python"},{language:"ruby",label:"Ruby"},{language:"typescript",label:"TypeScript"},{language:"xml",label:"XML"}],indentSequence:"	"})}init(){const t=this.editor,s=t.model.schema,a=t.model,d=sI(t);t.commands.add("codeBlock",new soe(t)),t.commands.add("indentCodeBlock",new ooe(t)),t.commands.add("outdentCodeBlock",new aoe(t));const p=w=>(k,D)=>{this.editor.commands.get(w).isEnabled&&(this.editor.execute(w),D())};t.keystrokes.set("Tab",p("indentCodeBlock")),t.keystrokes.set("Shift+Tab",p("outdentCodeBlock")),s.register("codeBlock",{allowWhere:"$block",isBlock:!0,allowAttributes:["language","codeID"]}),s.extend("$text",{allowIn:"codeBlock"}),s.addAttributeCheck(w=>{if(w.endsWith("codeBlock $text"))return!1}),t.editing.downcastDispatcher.on("insert:codeBlock",Q7(a,d,!0)),t.data.downcastDispatcher.on("insert:codeBlock",Q7(a,d)),t.data.downcastDispatcher.on("insert:softBreak",function(w){return(k,D,R)=>{if(D.item.parent.name!=="codeBlock")return;const{writer:M,mapper:L,consumable:W}=R;if(!W.consume(D.item,"insert"))return;const Y=L.toViewPosition(w.createPositionBefore(D.item));M.insert(Y,M.createText(`
`))}}(a),{priority:"high"}),t.data.upcastDispatcher.on("element:pre",function(w,k){const D=oI(k,"class","language"),R=k[0].language;return(M,L,W)=>{const Y=L.viewItem,se=Y.getChild(0);if(!se||!se.is("element","code"))return;const{consumable:le,writer:ve}=W;if(!le.test(Y,{name:!0})||!le.test(se,{name:!0}))return;const Pe=ve.createElement("codeBlock"),$e=[...se.getClassNames()],Qe=se.getAttribute("id");Qe&&ve.setAttribute("codeID",Qe,Pe),$e.length||$e.push("");for(const tn of $e){const Fn=D[tn];if(Fn){ve.setAttribute("language",Fn,Pe);break}}Pe.hasAttribute("language")||ve.setAttribute("language",R,Pe);const St=K7(ve,[...w.createRangeIn(se)].filter(tn=>tn.type==="text").map(({item:tn})=>tn.data).join(""));ve.append(St,Pe),W.safeInsert(Pe,L.modelCursor)&&(le.consume(Y,{name:!0}),le.consume(se,{name:!0}),W.updateConversionResult(Pe,L))}}(t.editing.view,d)),this.listenTo(t.editing.view.document,"clipboardInput",(w,k)=>{const D=a.document.selection;if(!D.anchor.parent.is("element","codeBlock"))return;const R=k.dataTransfer.getData("text/plain");a.change(M=>{a.insertContent(K7(M,R),D),w.stop()})}),this.listenTo(a,"getSelectedContent",(w,[k])=>{const D=k.anchor;!k.isCollapsed&&D.parent.is("element","codeBlock")&&D.hasSameParentAs(k.focus)&&a.change(R=>{const M=w.return;if(M.childCount>1||k.containsEntireContent(D.parent)){const L=R.createElement("codeBlock",D.parent.getAttributes());R.append(M,L);const W=R.createDocumentFragment();R.append(L,W),w.return=W}else{const L=M.getChild(0);s.checkAttribute(L,"code")&&R.setAttribute("code",!0,L)}})})}afterInit(){const t=this.editor,s=t.commands,a=s.get("indent"),d=s.get("outdent");a&&a.registerChildCommand(s.get("indentCodeBlock")),d&&d.registerChildCommand(s.get("outdentCodeBlock")),this.listenTo(t.editing.view.document,"enter",(p,w)=>{t.model.document.selection.getLastPosition().parent.is("element","codeBlock")&&(function(k,D){const R=k.model,M=R.document,L=k.editing.view,W=M.selection.getLastPosition(),Y=W.nodeAfter;return D||!M.selection.isCollapsed||!W.isAtStart||!Y||!Y.is("element","softBreak")?!1:(k.model.change(se=>{k.execute("enter");const le=M.selection.anchor.parent.previousSibling;se.rename(le,e9),se.setSelection(le,"in"),k.model.schema.removeDisallowedAttributes([le],se),se.remove(Y)}),L.scrollToTheSelection(),!0)}(t,w.isSoft)||function(k,D){const R=k.model,M=R.document,L=k.editing.view,W=M.selection.getLastPosition(),Y=W.nodeBefore;let se;if(D||!M.selection.isCollapsed||!W.isAtEnd||!Y)return!1;if(Y.is("element","softBreak"))se=R.createRangeOn(Y);else{if(!Y.is("$text")||Y.data.match(/\S/)||!Y.previousSibling||!Y.previousSibling.is("element","softBreak"))return!1;se=R.createRange(R.createPositionBefore(Y.previousSibling),R.createPositionAfter(Y))}return k.model.change(le=>{le.remove(se),k.execute("enter");const ve=M.selection.anchor.parent;le.rename(ve,e9),k.model.schema.removeDisallowedAttributes([ve],le)}),L.scrollToTheSelection(),!0}(t,w.isSoft)||function(k){const D=k.model,R=D.document,M=R.selection.getLastPosition(),L=M.nodeBefore||M.textNode;let W;L&&L.is("$text")&&(W=aI(L)),k.model.change(Y=>{k.execute("shiftEnter"),W&&Y.insertText(W,R.selection.anchor)})}(t),w.preventDefault(),p.stop())})}}var $C=o(6059),j_={attributes:{"data-cke":!0}};j_.setAttributes=Tt(),j_.insert=Ot().bind(null,"head"),j_.domAPI=Rt(),j_.insertStyleElement=Mt(),jt()($C.Z,j_),$C.Z&&$C.Z.locals&&$C.Z.locals;class coe extends it{init(){const t=this.editor,s=t.t,a=t.ui.componentFactory,d=sI(t),p=d[0];a.add("codeBlock",w=>{const k=t.commands.get("codeBlock"),D=Lu(w,iC),R=D.buttonView;return R.set({label:s("Insert code block"),tooltip:!0,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231l.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2l-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',isToggleable:!0}),R.bind("isOn").to(k,"value",M=>!!M),R.on("execute",()=>{t.execute("codeBlock",{language:p.language}),t.editing.view.focus()}),D.on("execute",M=>{t.execute("codeBlock",{language:M.source._codeBlockLanguage,forceValue:!0}),t.editing.view.focus()}),D.class="ck-code-block-dropdown",D.bind("isEnabled").to(k),oC(D,this._getLanguageListItemDefinitions(d)),D})}_getLanguageListItemDefinitions(t){const s=this.editor.commands.get("codeBlock"),a=new Os;for(const d of t){const p={type:"button",model:new gC({_codeBlockLanguage:d.language,label:d.label,withText:!0})};p.model.bind("isOn").to(s,"value",w=>w===p.model._codeBlockLanguage),a.add(p)}return a}}class uoe extends cn{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const s=this.editor.model,a=s.schema,d=s.document.selection,p=Array.from(d.getSelectedBlocks()),w=t.forceValue===void 0?!this.value:t.forceValue;s.change(k=>{if(w){const D=p.filter(R=>qC(R)||n9(a,R));this._applyQuote(k,D)}else this._removeQuote(k,p.filter(qC))})}_getValue(){const t=ci(this.editor.model.document.selection.getSelectedBlocks());return!(!t||!qC(t))}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.document.selection,s=this.editor.model.schema,a=ci(t.getSelectedBlocks());return!!a&&n9(s,a)}_removeQuote(t,s){t9(t,s).reverse().forEach(a=>{if(a.start.isAtStart&&a.end.isAtEnd)return void t.unwrap(a.start.parent);if(a.start.isAtStart){const p=t.createPositionBefore(a.start.parent);return void t.move(a,p)}a.end.isAtEnd||t.split(a.end);const d=t.createPositionAfter(a.end.parent);t.move(a,d)})}_applyQuote(t,s){const a=[];t9(t,s).reverse().forEach(d=>{let p=qC(d.start);p||(p=t.createElement("blockQuote"),t.wrap(d,p)),a.push(p)}),a.reverse().reduce((d,p)=>d.nextSibling==p?(t.merge(t.createPositionAfter(d)),d):p)}}function qC(f){return f.parent.name=="blockQuote"?f.parent:null}function t9(f,t){let s,a=0;const d=[];for(;a<t.length;){const p=t[a],w=t[a+1];s||(s=f.createPositionBefore(p)),w&&p.nextSibling==w||(d.push(f.createRange(s,f.createPositionAfter(p))),s=null),a++}return d}function n9(f,t){const s=f.checkChild(t.parent,"blockQuote"),a=f.checkChild(["$root","blockQuote"],t);return s&&a}class doe extends it{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[jC,ah]}init(){const t=this.editor,s=t.model.schema;t.commands.add("blockQuote",new uoe(t)),s.register("blockQuote",{inheritAllFrom:"$container"}),t.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),t.model.document.registerPostFixer(w=>{const k=t.model.document.differ.getChanges();for(const D of k)if(D.type=="insert"){const R=D.position.nodeAfter;if(!R)continue;if(R.is("element","blockQuote")&&R.isEmpty)return w.remove(R),!0;if(R.is("element","blockQuote")&&!s.checkChild(D.position,R))return w.unwrap(R),!0;if(R.is("element")){const M=w.createRangeIn(R);for(const L of M.getItems())if(L.is("element","blockQuote")&&!s.checkChild(w.createPositionBefore(L),L))return w.unwrap(L),!0}}else if(D.type=="remove"){const R=D.position.parent;if(R.is("element","blockQuote")&&R.isEmpty)return w.remove(R),!0}return!1});const a=this.editor.editing.view.document,d=t.model.document.selection,p=t.commands.get("blockQuote");this.listenTo(a,"enter",(w,k)=>{!d.isCollapsed||!p.value||d.getLastPosition().parent.isEmpty&&(t.execute("blockQuote"),t.editing.view.scrollToTheSelection(),k.preventDefault(),w.stop())},{context:"blockquote"}),this.listenTo(a,"delete",(w,k)=>{if(k.direction!="backward"||!d.isCollapsed||!p.value)return;const D=d.getLastPosition().parent;D.isEmpty&&!D.previousSibling&&(t.execute("blockQuote"),t.editing.view.scrollToTheSelection(),k.preventDefault(),w.stop())},{context:"blockquote"})}}var HC=o(3789),R_={attributes:{"data-cke":!0}};R_.setAttributes=Tt(),R_.insert=Ot().bind(null,"head"),R_.domAPI=Rt(),R_.insertStyleElement=Mt(),jt()(HC.Z,R_),HC.Z&&HC.Z.locals&&HC.Z.locals;class hoe extends it{static get pluginName(){return"BlockQuoteUI"}init(){const t=this.editor,s=t.t;t.ui.componentFactory.add("blockQuote",a=>{const d=t.commands.get("blockQuote"),p=new Mn(a);return p.set({label:s("Block quote"),icon:Kn.quote,tooltip:!0,isToggleable:!0}),p.bind("isOn","isEnabled").to(d,"value","isEnabled"),this.listenTo(p,"execute",()=>{t.execute("blockQuote"),t.editing.view.focus()}),p})}}class foe extends cn{constructor(t){super(t),this._isEnabledBasedOnSelection=!1}refresh(){const t=this.editor.model,s=ci(t.document.selection.getSelectedBlocks());this.value=!!s&&s.is("element","paragraph"),this.isEnabled=!!s&&i9(s,t.schema)}execute(t={}){const s=this.editor.model,a=s.document,d=t.selection||a.selection;s.canEditAt(d)&&s.change(p=>{const w=d.getSelectedBlocks();for(const k of w)!k.is("element","paragraph")&&i9(k,s.schema)&&p.rename(k,"paragraph")})}}function i9(f,t){return t.checkChild(f.parent,"paragraph")&&!t.isObject(f)}class poe extends cn{constructor(t){super(t),this._isEnabledBasedOnSelection=!1}execute(t){const s=this.editor.model,a=t.attributes;let d=t.position;s.canEditAt(d)&&s.change(p=>{if(d=this._findPositionToInsertParagraph(d,p),!d)return;const w=p.createElement("paragraph");a&&s.schema.setAllowedAttributes(w,a,p),s.insertContent(w,d),p.setSelection(w,"in")})}_findPositionToInsertParagraph(t,s){const a=this.editor.model;if(a.schema.checkChild(t,"paragraph"))return t;const d=a.schema.findAllowedParent(t,"paragraph");if(!d)return null;const p=t.parent,w=a.schema.checkChild(p,"$text");return p.isEmpty||w&&t.isAtEnd?a.createPositionAfter(p):!p.isEmpty&&w&&t.isAtStart?a.createPositionBefore(p):s.split(t,d).position}}class M_ extends it{static get pluginName(){return"Paragraph"}init(){const t=this.editor,s=t.model;t.commands.add("paragraph",new foe(t)),t.commands.add("insertParagraph",new poe(t)),s.schema.register("paragraph",{inheritAllFrom:"$block"}),t.conversion.elementToElement({model:"paragraph",view:"p"}),t.conversion.for("upcast").elementToElement({model:(a,{writer:d})=>M_.paragraphLikeElements.has(a.name)?a.isEmpty?null:d.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}}M_.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class moe extends cn{constructor(t,s){super(t),this.modelElements=s}refresh(){const t=ci(this.editor.model.document.selection.getSelectedBlocks());this.value=!!t&&this.modelElements.includes(t.name)&&t.name,this.isEnabled=!!t&&this.modelElements.some(s=>r9(t,s,this.editor.model.schema))}execute(t){const s=this.editor.model,a=s.document,d=t.value;s.change(p=>{const w=Array.from(a.selection.getSelectedBlocks()).filter(k=>r9(k,d,s.schema));for(const k of w)k.is("element",d)||p.rename(k,d)})}}function r9(f,t,s){return s.checkChild(f.parent,t)&&!s.isObject(f)}const s9="paragraph";class goe extends it{static get pluginName(){return"HeadingEditing"}constructor(t){super(t),t.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[M_]}init(){const t=this.editor,s=t.config.get("heading.options"),a=[];for(const d of s)d.model!=="paragraph"&&(t.model.schema.register(d.model,{inheritAllFrom:"$block"}),t.conversion.elementToElement(d),a.push(d.model));this._addDefaultH1Conversion(t),t.commands.add("heading",new moe(t,a))}afterInit(){const t=this.editor,s=t.commands.get("enter"),a=t.config.get("heading.options");s&&this.listenTo(s,"afterExecute",(d,p)=>{const w=t.model.document.selection.getFirstPosition().parent;a.some(k=>w.is("element",k.model))&&!w.is("element",s9)&&w.childCount===0&&p.writer.rename(w,s9)})}_addDefaultH1Conversion(t){t.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:F.low+1})}}var GC=o(4249),O_={attributes:{"data-cke":!0}};O_.setAttributes=Tt(),O_.insert=Ot().bind(null,"head"),O_.domAPI=Rt(),O_.insertStyleElement=Mt(),jt()(GC.Z,O_),GC.Z&&GC.Z.locals&&GC.Z.locals;class boe extends it{static get pluginName(){return"HeadingUI"}init(){const t=this.editor,s=t.t,a=function(w){const k=w.t,D={Paragraph:k("Paragraph"),"Heading 1":k("Heading 1"),"Heading 2":k("Heading 2"),"Heading 3":k("Heading 3"),"Heading 4":k("Heading 4"),"Heading 5":k("Heading 5"),"Heading 6":k("Heading 6")};return w.config.get("heading.options").map(R=>{const M=D[R.title];return M&&M!=R.title&&(R.title=M),R})}(t),d=s("Choose heading"),p=s("Heading");t.ui.componentFactory.add("heading",w=>{const k={},D=new Os,R=t.commands.get("heading"),M=t.commands.get("paragraph"),L=[R];for(const Y of a){const se={type:"button",model:new gC({label:Y.title,class:Y.class,role:"menuitemradio",withText:!0})};Y.model==="paragraph"?(se.model.bind("isOn").to(M,"value"),se.model.set("commandName","paragraph"),L.push(M)):(se.model.bind("isOn").to(R,"value",le=>le===Y.model),se.model.set({commandName:"heading",commandValue:Y.model})),D.add(se),k[Y.model]=Y.title}const W=Lu(w);return oC(W,D,{ariaLabel:p,role:"menu"}),W.buttonView.set({ariaLabel:p,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:p}),W.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),W.bind("isEnabled").toMany(L,"isEnabled",(...Y)=>Y.some(se=>se)),W.buttonView.bind("label").to(R,"value",M,"value",(Y,se)=>{const le=Y||se&&"paragraph";return typeof le=="boolean"?d:k[le]?k[le]:d}),this.listenTo(W,"execute",Y=>{const{commandName:se,commandValue:le}=Y.source;t.execute(se,le?{value:le}:void 0),t.editing.view.focus()}),W})}}class yoe extends cn{refresh(){const t=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!t,this.isEnabled&&t.hasAttribute("alt")?this.value=t.getAttribute("alt"):this.value=!1}execute(t){const s=this.editor,a=s.plugins.get("ImageUtils"),d=s.model,p=a.getClosestSelectedImageElement(d.document.selection);d.change(w=>{w.setAttribute("alt",t.newValue,p)})}}function o9(f){return f.createContainerElement("figure",{class:"image"},[f.createEmptyElement("img"),f.createSlot("children")])}function a9(f,t){const s=f.plugins.get("ImageUtils"),a=f.plugins.has("ImageInlineEditing")&&f.plugins.has("ImageBlockEditing");return p=>s.isInlineImageView(p)?a&&(p.getStyle("display")=="block"||p.findAncestor(s.isBlockImageView)?"imageBlock":"imageInline")!==t?null:d(p):null;function d(p){const w={name:!0};return p.hasAttribute("src")&&(w.attributes=["src"]),w}}function cI(f,t){const s=ci(t.getSelectedBlocks());return!s||f.isObject(s)||s.isEmpty&&s.name!="listItem"?"imageBlock":"imageInline"}function XC(f){return f&&f.endsWith("px")?parseInt(f):null}function KC(f){const t=XC(f.getStyle("width")),s=XC(f.getStyle("height"));return!(!t||!s)}const voe=/^(image|image-inline)$/;class Ia extends it{constructor(){super(...arguments),this._domEmitter=new(ur())}static get pluginName(){return"ImageUtils"}isImage(t){return this.isInlineImage(t)||this.isBlockImage(t)}isInlineImageView(t){return!!t&&t.is("element","img")}isBlockImageView(t){return!!t&&t.is("element","figure")&&t.hasClass("image")}insertImage(t={},s=null,a=null,d={}){const p=this.editor,w=p.model,k=w.document.selection;a=l9(p,s||k,a),t={...Object.fromEntries(k.getAttributes()),...t};for(const D in t)w.schema.checkAttribute(a,D)||delete t[D];return w.change(D=>{const{setImageSizes:R=!0}=d,M=D.createElement(a,t);return w.insertObject(M,s,null,{setSelection:"on",findOptimalPosition:s||a=="imageInline"?void 0:"auto"}),M.parent?(R&&this.setImageNaturalSizeAttributes(M),M):null})}setImageNaturalSizeAttributes(t){const s=t.getAttribute("src");s&&(t.getAttribute("width")||t.getAttribute("height")||this.editor.model.change(a=>{const d=new de.window.Image;this._domEmitter.listenTo(d,"load",()=>{t.getAttribute("width")||t.getAttribute("height")||this.editor.model.enqueueChange(a.batch,p=>{p.setAttribute("width",d.naturalWidth,t),p.setAttribute("height",d.naturalHeight,t)}),this._domEmitter.stopListening(d,"load")}),d.src=s}))}getClosestSelectedImageWidget(t){const s=t.getFirstPosition();if(!s)return null;const a=t.getSelectedElement();if(a&&this.isImageWidget(a))return a;let d=s.parent;for(;d;){if(d.is("element")&&this.isImageWidget(d))return d;d=d.parent}return null}getClosestSelectedImageElement(t){const s=t.getSelectedElement();return this.isImage(s)?s:t.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(t){return t.findAncestor({classes:voe})}isImageAllowed(){const t=this.editor.model.document.selection;return function(s,a){if(l9(s,a,null)=="imageBlock"){const p=function(w,k){const D=T7(w,k),R=D.start.parent;return R.isEmpty&&!R.is("element","$root")?R.parent:R}(a,s.model);if(s.model.schema.checkChild(p,"imageBlock"))return!0}else if(s.model.schema.checkChild(a.focus,"imageInline"))return!0;return!1}(this.editor,t)&&function(s){return[...s.focus.getAncestors()].every(a=>!a.is("element","imageBlock"))}(t)}toImageWidget(t,s,a){return s.setCustomProperty("image",!0,t),JP(t,s,{label:()=>{const d=this.findViewImgElement(t).getAttribute("alt");return d?`${d} ${a}`:a}})}isImageWidget(t){return!!t.getCustomProperty("image")&&Er(t)}isBlockImage(t){return!!t&&t.is("element","imageBlock")}isInlineImage(t){return!!t&&t.is("element","imageInline")}findViewImgElement(t){if(this.isInlineImageView(t))return t;const s=this.editor.editing.view;for(const{item:a}of s.createRangeIn(t))if(this.isInlineImageView(a))return a}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function l9(f,t,s){const a=f.model.schema,d=f.config.get("image.insert.type");return f.plugins.has("ImageBlockEditing")?f.plugins.has("ImageInlineEditing")?s||(d==="inline"?"imageInline":d==="block"?"imageBlock":t.is("selection")?cI(a,t):a.checkChild(t,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class woe extends it{static get requires(){return[Ia]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new yoe(this.editor))}}var ZC=o(5269),F_={attributes:{"data-cke":!0}};F_.setAttributes=Tt(),F_.insert=Ot().bind(null,"head"),F_.domAPI=Rt(),F_.insertStyleElement=Mt(),jt()(ZC.Z,F_),ZC.Z&&ZC.Z.locals&&ZC.Z.locals;var YC=o(6603),U_={attributes:{"data-cke":!0}};U_.setAttributes=Tt(),U_.insert=Ot().bind(null,"head"),U_.domAPI=Rt(),U_.insertStyleElement=Mt(),jt()(YC.Z,U_),YC.Z&&YC.Z.locals&&YC.Z.locals;class xoe extends on{constructor(t){super(t);const s=this.locale.t;this.focusTracker=new Hi,this.keystrokes=new _a,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(s("Save"),Kn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(s("Cancel"),Kn.cancel,"ck-button-cancel","cancel"),this._focusables=new Lo,this._focusCycler=new xc({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),h({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(t,s,a,d){const p=new Mn(this.locale);return p.set({label:t,icon:s,tooltip:!0}),p.extendTemplate({attributes:{class:a}}),d&&p.delegate("execute").to(this,d),p}_createLabeledInputView(){const t=this.locale.t,s=new _u(this.locale,aC);return s.label=t("Text alternative"),s}}function c9(f){const t=f.editing.view,s=Ls.defaultPositions,a=f.plugins.get("ImageUtils");return{target:t.domConverter.mapViewToDom(a.getClosestSelectedImageWidget(t.document.selection)),positions:[s.northArrowSouth,s.northArrowSouthWest,s.northArrowSouthEast,s.southArrowNorth,s.southArrowNorthWest,s.southArrowNorthEast,s.viewportStickyNorth]}}class _oe extends it{static get requires(){return[wC]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const t=this.editor,s=t.t;t.ui.componentFactory.add("imageTextAlternative",a=>{const d=t.commands.get("imageTextAlternative"),p=new Mn(a);return p.set({label:s("Change image text alternative"),icon:Kn.lowVision,tooltip:!0}),p.bind("isEnabled").to(d,"isEnabled"),p.bind("isOn").to(d,"value",w=>!!w),this.listenTo(p,"execute",()=>{this._showForm()}),p})}_createForm(){const t=this.editor,s=t.editing.view.document,a=t.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(u(xoe))(t.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{t.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(d,p)=>{this._hideForm(!0),p()}),this.listenTo(t.ui,"update",()=>{a.getClosestSelectedImageWidget(s.selection)?this._isVisible&&function(d){const p=d.plugins.get("ContextualBalloon");if(d.plugins.get("ImageUtils").getClosestSelectedImageWidget(d.editing.view.document.selection)){const w=c9(d);p.updatePosition(w)}}(t):this._hideForm(!0)}),c({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const t=this.editor,s=t.commands.get("imageTextAlternative"),a=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:c9(t)}),a.fieldView.value=a.fieldView.element.value=s.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(t=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),t&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class u9 extends it{static get requires(){return[woe,_oe]}static get pluginName(){return"ImageTextAlternative"}}function d9(f,t){const s=(a,d,p)=>{if(!p.consumable.consume(d.item,a.name))return;const w=p.writer,k=p.mapper.toViewElement(d.item),D=f.findViewImgElement(k);d.attributeNewValue===null?(w.removeAttribute("srcset",D),w.removeAttribute("sizes",D)):d.attributeNewValue&&(w.setAttribute("srcset",d.attributeNewValue,D),w.setAttribute("sizes","100vw",D))};return a=>{a.on(`attribute:srcset:${t}`,s)}}function JC(f,t,s){const a=(d,p,w)=>{if(!w.consumable.consume(p.item,d.name))return;const k=w.writer,D=w.mapper.toViewElement(p.item),R=f.findViewImgElement(D);k.setAttribute(p.attributeKey,p.attributeNewValue||"",R)};return d=>{d.on(`attribute:${s}:${t}`,a)}}class h9 extends Il{observe(t){this.listenTo(t,"load",(s,a)=>{const d=a.target;this.checkShouldIgnoreEventFromTarget(d)||d.tagName=="IMG"&&this._fireEvents(a)},{useCapture:!0})}stopObserving(t){this.stopListening(t)}_fireEvents(t){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",t))}}class koe extends cn{constructor(t){super(t);const s=t.config.get("image.insert.type");t.plugins.has("ImageBlockEditing")||s==="block"&&Z("image-block-plugin-required"),t.plugins.has("ImageInlineEditing")||s==="inline"&&Z("image-inline-plugin-required")}refresh(){const t=this.editor.plugins.get("ImageUtils");this.isEnabled=t.isImageAllowed()}execute(t){const s=Rn(t.source),a=this.editor.model.document.selection,d=this.editor.plugins.get("ImageUtils"),p=Object.fromEntries(a.getAttributes());s.forEach((w,k)=>{const D=a.getSelectedElement();if(typeof w=="string"&&(w={src:w}),k&&D&&d.isImage(D)){const R=this.editor.model.createPositionAfter(D);d.insertImage({...w,...p},R)}else d.insertImage({...w,...p})})}}class Eoe extends cn{refresh(){const t=this.editor.plugins.get("ImageUtils"),s=this.editor.model.document.selection.getSelectedElement();this.isEnabled=t.isImage(s),this.value=this.isEnabled?s.getAttribute("src"):null}execute(t){const s=this.editor.model.document.selection.getSelectedElement();this.editor.model.change(a=>{a.setAttribute("src",t.source,s),a.removeAttribute("srcset",s),a.removeAttribute("sizes",s)})}}class f9 extends it{static get requires(){return[Ia]}static get pluginName(){return"ImageEditing"}init(){const t=this.editor,s=t.conversion;t.editing.view.addObserver(h9),s.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const a=new koe(t),d=new Eoe(t);t.commands.add("insertImage",a),t.commands.add("replaceImageSource",d),t.commands.add("imageInsert",a)}}class p9 extends it{static get requires(){return[Ia]}static get pluginName(){return"ImageSizeAttributes"}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(t){const s=this.editor,a=s.plugins.get("ImageUtils"),d=t==="imageBlock"?"figure":"img";function p(w,k,D,R){w.on(`attribute:${k}:${t}`,(M,L,W)=>{if(!W.consumable.consume(L.item,M.name))return;const Y=W.writer,se=W.mapper.toViewElement(L.item),le=a.findViewImgElement(se);if(L.attributeNewValue!==null?Y.setAttribute(D,L.attributeNewValue,le):Y.removeAttribute(D,le),L.item.hasAttribute("sources"))return;const ve=L.item.hasAttribute("resizedWidth");if(t==="imageInline"&&!ve&&!R)return;const Pe=L.item.getAttribute("width"),$e=L.item.getAttribute("height"),Qe=le.getStyle("aspect-ratio");Pe&&$e&&!Qe&&Y.setStyle("aspect-ratio",`${Pe}/${$e}`,le)})}s.conversion.for("upcast").attributeToAttribute({view:{name:d,styles:{width:/.+/}},model:{key:"width",value:w=>KC(w)?XC(w.getStyle("width")):null}}).attributeToAttribute({view:{name:d,key:"width"},model:"width"}).attributeToAttribute({view:{name:d,styles:{height:/.+/}},model:{key:"height",value:w=>KC(w)?XC(w.getStyle("height")):null}}).attributeToAttribute({view:{name:d,key:"height"},model:"height"}),s.conversion.for("editingDowncast").add(w=>{p(w,"width","width",!0),p(w,"height","height",!0)}),s.conversion.for("dataDowncast").add(w=>{p(w,"width","width",!1),p(w,"height","height",!1)})}}class m9 extends cn{constructor(t,s){super(t),this._modelElementName=s}refresh(){const t=this.editor.plugins.get("ImageUtils"),s=t.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=t.isInlineImage(s):this.isEnabled=t.isBlockImage(s)}execute(t={}){const s=this.editor,a=this.editor.model,d=s.plugins.get("ImageUtils"),p=d.getClosestSelectedImageElement(a.document.selection),w=Object.fromEntries(p.getAttributes());return w.src||w.uploadId?a.change(k=>{const{setImageSizes:D=!0}=t,R=Array.from(a.markers).filter(W=>W.getRange().containsItem(p)),M=d.insertImage(w,a.createSelection(p,"on"),this._modelElementName,{setImageSizes:D});if(!M)return null;const L=k.createRangeOn(M);for(const W of R){const Y=W.getRange(),se=Y.root.rootName!="$graveyard"?Y.getJoined(L,!0):L;k.updateMarker(W,{range:se})}return{oldElement:p,newElement:M}}):null}}class g9 extends it{static get requires(){return[f9,p9,Ia,oh]}static get pluginName(){return"ImageBlockEditing"}init(){const t=this.editor;t.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),t.plugins.has("ImageInlineEditing")&&(t.commands.add("imageTypeBlock",new m9(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const t=this.editor,s=t.t,a=t.conversion,d=t.plugins.get("ImageUtils");a.for("dataDowncast").elementToStructure({model:"imageBlock",view:(p,{writer:w})=>o9(w)}),a.for("editingDowncast").elementToStructure({model:"imageBlock",view:(p,{writer:w})=>d.toImageWidget(o9(w),w,s("image widget"))}),a.for("downcast").add(JC(d,"imageBlock","src")).add(JC(d,"imageBlock","alt")).add(d9(d,"imageBlock")),a.for("upcast").elementToElement({view:a9(t,"imageBlock"),model:(p,{writer:w})=>w.createElement("imageBlock",p.hasAttribute("src")?{src:p.getAttribute("src")}:void 0)}).add(function(p){const w=(k,D,R)=>{if(!R.consumable.test(D.viewItem,{name:!0,classes:"image"}))return;const M=p.findViewImgElement(D.viewItem);if(!M||!R.consumable.test(M,{name:!0}))return;R.consumable.consume(D.viewItem,{name:!0,classes:"image"});const L=ci(R.convertItem(M,D.modelCursor).modelRange.getItems());L?(R.convertChildren(D.viewItem,L),R.updateConversionResult(L,D)):R.consumable.revert(D.viewItem,{name:!0,classes:"image"})};return k=>{k.on("element:figure",w)}}(d))}_setupClipboardIntegration(){const t=this.editor,s=t.model,a=t.editing.view,d=t.plugins.get("ImageUtils"),p=t.plugins.get("ClipboardPipeline");this.listenTo(p,"inputTransformation",(w,k)=>{const D=Array.from(k.content.getChildren());let R;if(!D.every(d.isInlineImageView))return;R=k.targetRanges?t.editing.mapper.toModelRange(k.targetRanges[0]):s.document.selection.getFirstRange();const M=s.createSelection(R);if(cI(s.schema,M)==="imageBlock"){const L=new RP(a.document),W=D.map(Y=>L.createElement("figure",{class:"image"},Y));k.content=L.createDocumentFragment(W)}}),this.listenTo(p,"contentInsertion",(w,k)=>{k.method==="paste"&&s.change(D=>{const R=D.createRangeIn(k.content);for(const M of R.getItems())M.is("element","imageBlock")&&d.setImageNaturalSizeAttributes(M)})})}}var QC=o(2430),L_={attributes:{"data-cke":!0}};L_.setAttributes=Tt(),L_.insert=Ot().bind(null,"head"),L_.domAPI=Rt(),L_.insertStyleElement=Mt(),jt()(QC.Z,L_),QC.Z&&QC.Z.locals&&QC.Z.locals;class Soe extends it{static get requires(){return[g9,D_,u9]}static get pluginName(){return"ImageBlock"}}class Aoe extends it{static get requires(){return[f9,p9,Ia,oh]}static get pluginName(){return"ImageInlineEditing"}init(){const t=this.editor,s=t.model.schema;s.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),s.addChildCheck((a,d)=>{if(a.endsWith("caption")&&d.name==="imageInline")return!1}),this._setupConversion(),t.plugins.has("ImageBlockEditing")&&(t.commands.add("imageTypeInline",new m9(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const t=this.editor,s=t.t,a=t.conversion,d=t.plugins.get("ImageUtils");a.for("dataDowncast").elementToElement({model:"imageInline",view:(p,{writer:w})=>w.createEmptyElement("img")}),a.for("editingDowncast").elementToStructure({model:"imageInline",view:(p,{writer:w})=>d.toImageWidget(function(k){return k.createContainerElement("span",{class:"image-inline"},k.createEmptyElement("img"))}(w),w,s("image widget"))}),a.for("downcast").add(JC(d,"imageInline","src")).add(JC(d,"imageInline","alt")).add(d9(d,"imageInline")),a.for("upcast").elementToElement({view:a9(t,"imageInline"),model:(p,{writer:w})=>w.createElement("imageInline",p.hasAttribute("src")?{src:p.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const t=this.editor,s=t.model,a=t.editing.view,d=t.plugins.get("ImageUtils"),p=t.plugins.get("ClipboardPipeline");this.listenTo(p,"inputTransformation",(w,k)=>{const D=Array.from(k.content.getChildren());let R;if(!D.every(d.isBlockImageView))return;R=k.targetRanges?t.editing.mapper.toModelRange(k.targetRanges[0]):s.document.selection.getFirstRange();const M=s.createSelection(R);if(cI(s.schema,M)==="imageInline"){const L=new RP(a.document),W=D.map(Y=>Y.childCount===1?(Array.from(Y.getAttributes()).forEach(se=>L.setAttribute(...se,d.findViewImgElement(Y))),Y.getChild(0)):Y);k.content=L.createDocumentFragment(W)}}),this.listenTo(p,"contentInsertion",(w,k)=>{k.method==="paste"&&s.change(D=>{const R=D.createRangeIn(k.content);for(const M of R.getItems())M.is("element","imageInline")&&d.setImageNaturalSizeAttributes(M)})})}}class Coe extends it{static get requires(){return[Aoe,D_,u9]}static get pluginName(){return"ImageInline"}}class Toe extends cn{refresh(){const t=this.editor,s=t.plugins.get("ImageCaptionUtils"),a=t.plugins.get("ImageUtils");if(!t.plugins.has(g9))return this.isEnabled=!1,void(this.value=!1);const d=t.model.document.selection,p=d.getSelectedElement();if(!p){const w=s.getCaptionFromModelSelection(d);return this.isEnabled=!!w,void(this.value=!!w)}this.isEnabled=a.isImage(p),this.isEnabled?this.value=!!s.getCaptionFromImageModelElement(p):this.value=!1}execute(t={}){const{focusCaptionOnShow:s}=t;this.editor.model.change(a=>{this.value?this._hideImageCaption(a):this._showImageCaption(a,s)})}_showImageCaption(t,s){const a=this.editor.model.document.selection,d=this.editor.plugins.get("ImageCaptionEditing"),p=this.editor.plugins.get("ImageUtils");let w=a.getSelectedElement();const k=d._getSavedCaption(w);p.isInlineImage(w)&&(this.editor.execute("imageTypeBlock"),w=a.getSelectedElement());const D=k||t.createElement("caption");t.append(D,w),s&&t.setSelection(D,"in")}_hideImageCaption(t){const s=this.editor,a=s.model.document.selection,d=s.plugins.get("ImageCaptionEditing"),p=s.plugins.get("ImageCaptionUtils");let w,k=a.getSelectedElement();k?w=p.getCaptionFromImageModelElement(k):(w=p.getCaptionFromModelSelection(a),k=w.parent),d._saveCaption(k,w),t.setSelection(k,"on"),t.remove(w)}}class b9 extends it{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[Ia]}getCaptionFromImageModelElement(t){for(const s of t.getChildren())if(s&&s.is("element","caption"))return s;return null}getCaptionFromModelSelection(t){const s=this.editor.plugins.get("ImageUtils"),a=t.getFirstPosition().findAncestor("caption");return a&&s.isBlockImage(a.parent)?a:null}matchImageCaptionViewElement(t){const s=this.editor.plugins.get("ImageUtils");return t.name=="figcaption"&&s.isBlockImageView(t.parent)?{name:!0}:null}}class Doe extends it{static get requires(){return[Ia,b9]}static get pluginName(){return"ImageCaptionEditing"}constructor(t){super(t),this._savedCaptionsMap=new WeakMap}init(){const t=this.editor,s=t.model.schema;s.isRegistered("caption")?s.extend("caption",{allowIn:"imageBlock"}):s.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),t.commands.add("toggleImageCaption",new Toe(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const t=this.editor,s=t.editing.view,a=t.plugins.get("ImageUtils"),d=t.plugins.get("ImageCaptionUtils"),p=t.t;t.conversion.for("upcast").elementToElement({view:w=>d.matchImageCaptionViewElement(w),model:"caption"}),t.conversion.for("dataDowncast").elementToElement({model:"caption",view:(w,{writer:k})=>a.isBlockImage(w.parent)?k.createContainerElement("figcaption"):null}),t.conversion.for("editingDowncast").elementToElement({model:"caption",view:(w,{writer:k})=>{if(!a.isBlockImage(w.parent))return null;const D=k.createEditableElement("figcaption");k.setCustomProperty("imageCaption",!0,D),D.placeholder=p("Enter image caption"),Su({view:s,element:D,keepOnFocus:!0});const R=w.parent.getAttribute("alt");return C7(D,k,{label:R?p("Caption for image: %0",[R]):p("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const t=this.editor,s=t.plugins.get("ImageUtils"),a=t.plugins.get("ImageCaptionUtils"),d=t.commands.get("imageTypeInline"),p=t.commands.get("imageTypeBlock"),w=k=>{if(!k.return)return;const{oldElement:D,newElement:R}=k.return;if(!D)return;if(s.isBlockImage(D)){const L=a.getCaptionFromImageModelElement(D);if(L)return void this._saveCaption(R,L)}const M=this._getSavedCaption(D);M&&this._saveCaption(R,M)};d&&this.listenTo(d,"execute",w,{priority:"low"}),p&&this.listenTo(p,"execute",w,{priority:"low"})}_getSavedCaption(t){const s=this._savedCaptionsMap.get(t);return s?Xt.fromJSON(s):null}_saveCaption(t,s){this._savedCaptionsMap.set(t,s.toJSON())}_registerCaptionReconversion(){const t=this.editor,s=t.model,a=t.plugins.get("ImageUtils"),d=t.plugins.get("ImageCaptionUtils");s.document.on("change:data",()=>{const p=s.document.differ.getChanges();for(const w of p){if(w.attributeKey!=="alt")continue;const k=w.range.start.nodeAfter;if(a.isBlockImage(k)){const D=d.getCaptionFromImageModelElement(k);if(!D)return;t.editing.reconvertItem(D)}}})}}class Noe extends it{static get requires(){return[b9]}static get pluginName(){return"ImageCaptionUI"}init(){const t=this.editor,s=t.editing.view,a=t.plugins.get("ImageCaptionUtils"),d=t.t;t.ui.componentFactory.add("toggleImageCaption",p=>{const w=t.commands.get("toggleImageCaption"),k=new Mn(p);return k.set({icon:Kn.caption,tooltip:!0,isToggleable:!0}),k.bind("isOn","isEnabled").to(w,"value","isEnabled"),k.bind("label").to(w,"value",D=>d(D?"Toggle caption off":"Toggle caption on")),this.listenTo(k,"execute",()=>{t.execute("toggleImageCaption",{focusCaptionOnShow:!0});const D=a.getCaptionFromModelSelection(t.model.document.selection);if(D){const R=t.editing.mapper.toViewElement(D);s.scrollToTheSelection(),s.change(M=>{M.addClass("image__caption_highlighted",R)})}t.editing.view.focus()}),k})}}var eT=o(2423),B_={attributes:{"data-cke":!0}};B_.setAttributes=Tt(),B_.insert=Ot().bind(null,"head"),B_.domAPI=Rt(),B_.insertStyleElement=Mt(),jt()(eT.Z,B_),eT.Z&&eT.Z.locals&&eT.Z.locals;class Poe extends cn{constructor(t,s){super(t),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(s.map(a=>{if(a.isDefault)for(const d of a.modelElements)this._defaultStyles[d]=a.name;return[a.name,a]}))}refresh(){const t=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!t,this.isEnabled?t.hasAttribute("imageStyle")?this.value=t.getAttribute("imageStyle"):this.value=this._defaultStyles[t.name]:this.value=!1}execute(t={}){const s=this.editor,a=s.model,d=s.plugins.get("ImageUtils");a.change(p=>{const w=t.value,{setImageSizes:k=!0}=t;let D=d.getClosestSelectedImageElement(a.document.selection);w&&this.shouldConvertImageType(w,D)&&(this.editor.execute(d.isBlockImage(D)?"imageTypeInline":"imageTypeBlock",{setImageSizes:k}),D=d.getClosestSelectedImageElement(a.document.selection)),!w||this._styles.get(w).isDefault?p.removeAttribute("imageStyle",D):p.setAttribute("imageStyle",w,D),k&&d.setImageNaturalSizeAttributes(D)})}shouldConvertImageType(t,s){return!this._styles.get(t).modelElements.includes(s.name)}}const{objectFullWidth:Ioe,objectInline:y9,objectLeft:v9,objectRight:uI,objectCenter:dI,objectBlockLeft:w9,objectBlockRight:x9}=Kn,tT={get inline(){return{name:"inline",title:"In line",icon:y9,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:v9,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:w9,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:dI,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:uI,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:x9,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:dI,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:uI,modelElements:["imageBlock"],className:"image-style-side"}}},_9={full:Ioe,left:w9,right:x9,center:dI,inlineLeft:v9,inlineRight:uI,inline:y9},k9=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function E9(f){Z("image-style-configuration-definition-invalid",f)}const hI={normalizeStyles:function(f){return(f.configuredStyles.options||[]).map(t=>function(s){return s=typeof s=="string"?tT[s]?{...tT[s]}:{name:s}:function(a,d){const p={...d};for(const w in a)Object.prototype.hasOwnProperty.call(d,w)||(p[w]=a[w]);return p}(tT[s.name],s),typeof s.icon=="string"&&(s.icon=_9[s.icon]||s.icon),s}(t)).filter(t=>function(s,{isBlockPluginLoaded:a,isInlinePluginLoaded:d}){const{modelElements:p,name:w}=s;if(!(p&&p.length&&w))return E9({style:s}),!1;{const k=[a?"imageBlock":null,d?"imageInline":null];if(!p.some(D=>k.includes(D)))return Z("image-style-missing-dependency",{style:s,missingPlugins:p.map(D=>D==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(t,f))},getDefaultStylesConfiguration:function(f,t){return f&&t?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:f?{options:["block","side"]}:t?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(f){return f.has("ImageBlockEditing")&&f.has("ImageInlineEditing")?[...k9]:[]},warnInvalidStyle:E9,DEFAULT_OPTIONS:tT,DEFAULT_ICONS:_9,DEFAULT_DROPDOWN_DEFINITIONS:k9};function S9(f,t){for(const s of t)if(s.name===f)return s}class A9 extends it{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[Ia]}init(){const{normalizeStyles:t,getDefaultStylesConfiguration:s}=hI,a=this.editor,d=a.plugins.has("ImageBlockEditing"),p=a.plugins.has("ImageInlineEditing");a.config.define("image.styles",s(d,p)),this.normalizedStyles=t({configuredStyles:a.config.get("image.styles"),isBlockPluginLoaded:d,isInlinePluginLoaded:p}),this._setupConversion(d,p),this._setupPostFixer(),a.commands.add("imageStyle",new Poe(a,this.normalizedStyles))}_setupConversion(t,s){const a=this.editor,d=a.model.schema,p=(w=this.normalizedStyles,(D,R,M)=>{if(!M.consumable.consume(R.item,D.name))return;const L=S9(R.attributeNewValue,w),W=S9(R.attributeOldValue,w),Y=M.mapper.toViewElement(R.item),se=M.writer;W&&se.removeClass(W.className,Y),L&&se.addClass(L.className,Y)});var w;const k=function(D){const R={imageInline:D.filter(M=>!M.isDefault&&M.modelElements.includes("imageInline")),imageBlock:D.filter(M=>!M.isDefault&&M.modelElements.includes("imageBlock"))};return(M,L,W)=>{if(!L.modelRange)return;const Y=L.viewItem,se=ci(L.modelRange.getItems());if(se&&W.schema.checkAttribute(se,"imageStyle"))for(const le of R[se.name])W.consumable.consume(Y,{classes:le.className})&&W.writer.setAttribute("imageStyle",le.name,se)}}(this.normalizedStyles);a.editing.downcastDispatcher.on("attribute:imageStyle",p),a.data.downcastDispatcher.on("attribute:imageStyle",p),t&&(d.extend("imageBlock",{allowAttributes:"imageStyle"}),a.data.upcastDispatcher.on("element:figure",k,{priority:"low"})),s&&(d.extend("imageInline",{allowAttributes:"imageStyle"}),a.data.upcastDispatcher.on("element:img",k,{priority:"low"}))}_setupPostFixer(){const t=this.editor,s=t.model.document,a=t.plugins.get(Ia),d=new Map(this.normalizedStyles.map(p=>[p.name,p]));s.registerPostFixer(p=>{let w=!1;for(const k of s.differ.getChanges())if(k.type=="insert"||k.type=="attribute"&&k.attributeKey=="imageStyle"){let D=k.type=="insert"?k.position.nodeAfter:k.range.start.nodeAfter;if(D&&D.is("element","paragraph")&&D.childCount>0&&(D=D.getChild(0)),!a.isImage(D))continue;const R=D.getAttribute("imageStyle");if(!R)continue;const M=d.get(R);M&&M.modelElements.includes(D.name)||(p.removeAttribute("imageStyle",D),w=!0)}return w})}}var nT=o(3534),z_={attributes:{"data-cke":!0}};z_.setAttributes=Tt(),z_.insert=Ot().bind(null,"head"),z_.domAPI=Rt(),z_.insertStyleElement=Mt(),jt()(nT.Z,z_),nT.Z&&nT.Z.locals&&nT.Z.locals;class joe extends it{static get requires(){return[A9]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const t=this.editor.t;return{"Wrap text":t("Wrap text"),"Break text":t("Break text"),"In line":t("In line"),"Full size image":t("Full size image"),"Side image":t("Side image"),"Left aligned image":t("Left aligned image"),"Centered image":t("Centered image"),"Right aligned image":t("Right aligned image")}}init(){const t=this.editor.plugins,s=this.editor.config.get("image.toolbar")||[],a=C9(t.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const p of a)this._createButton(p);const d=C9([...s.filter(Me),...hI.getDefaultDropdownDefinitions(t)],this.localizedDefaultStylesTitles);for(const p of d)this._createDropdown(p,a)}_createDropdown(t,s){const a=this.editor.ui.componentFactory;a.add(t.name,d=>{let p;const{defaultItem:w,items:k,title:D}=t,R=k.filter(Y=>s.find(({name:se})=>T9(se)===Y)).map(Y=>{const se=a.create(Y);return Y===w&&(p=se),se});k.length!==R.length&&hI.warnInvalidStyle({dropdown:t});const M=Lu(d,iC),L=M.buttonView,W=L.arrowView;return FP(M,R,{enableActiveItemFocusOnDropdownOpen:!0}),L.set({label:D9(D,p.label),class:null,tooltip:!0}),W.unbind("label"),W.set({label:D}),L.bind("icon").toMany(R,"isOn",(...Y)=>{const se=Y.findIndex(Tu);return se<0?p.icon:R[se].icon}),L.bind("label").toMany(R,"isOn",(...Y)=>{const se=Y.findIndex(Tu);return D9(D,se<0?p.label:R[se].label)}),L.bind("isOn").toMany(R,"isOn",(...Y)=>Y.some(Tu)),L.bind("class").toMany(R,"isOn",(...Y)=>Y.some(Tu)?"ck-splitbutton_flatten":void 0),L.on("execute",()=>{R.some(({isOn:Y})=>Y)?M.isOpen=!M.isOpen:p.fire("execute")}),M.bind("isEnabled").toMany(R,"isEnabled",(...Y)=>Y.some(Tu)),this.listenTo(M,"execute",()=>{this.editor.editing.view.focus()}),M})}_createButton(t){const s=t.name;this.editor.ui.componentFactory.add(T9(s),a=>{const d=this.editor.commands.get("imageStyle"),p=new Mn(a);return p.set({label:t.title,icon:t.icon,tooltip:!0,isToggleable:!0}),p.bind("isEnabled").to(d,"isEnabled"),p.bind("isOn").to(d,"value",w=>w===s),p.on("execute",this._executeCommand.bind(this,s)),p})}_executeCommand(t){this.editor.execute("imageStyle",{value:t}),this.editor.editing.view.focus()}}function C9(f,t){for(const s of f)t[s.title]&&(s.title=t[s.title]);return f}function T9(f){return`imageStyle:${f}`}function D9(f,t){return(f?f+": ":"")+t}class Roe extends Be(){constructor(){super();const t=new window.FileReader;this._reader=t,this._data=void 0,this.set("loaded",0),t.onprogress=s=>{this.loaded=s.loaded}}get error(){return this._reader.error}get data(){return this._data}read(t){const s=this._reader;return this.total=t.size,new Promise((a,d)=>{s.onload=()=>{const p=s.result;this._data=p,a(p)},s.onerror=()=>{d("error")},s.onabort=()=>{d("aborted")},this._reader.readAsDataURL(t)})}abort(){this._reader.abort()}}class Wg extends it{constructor(){super(...arguments),this.loaders=new Os,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[TL]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(t,s)=>s?t/s*100:0)}getLoader(t){return this._loadersMap.get(t)||null}createLoader(t){if(!this.createUploadAdapter)return Z("filerepository-no-upload-adapter"),null;const s=new N9(Promise.resolve(t),this.createUploadAdapter);return this.loaders.add(s),this._loadersMap.set(t,s),t instanceof Promise&&s.file.then(a=>{this._loadersMap.set(a,s)}).catch(()=>{}),s.on("change:uploaded",()=>{let a=0;for(const d of this.loaders)a+=d.uploaded;this.uploaded=a}),s.on("change:uploadTotal",()=>{let a=0;for(const d of this.loaders)d.uploadTotal&&(a+=d.uploadTotal);this.uploadTotal=a}),s}destroyLoader(t){const s=t instanceof N9?t:this.getLoader(t);s._destroy(),this.loaders.remove(s),this._loadersMap.forEach((a,d)=>{a===s&&this._loadersMap.delete(d)})}_updatePendingAction(){const t=this.editor.plugins.get(TL);if(this.loaders.length){if(!this._pendingAction){const s=this.editor.t,a=d=>`${s("Upload in progress")} ${parseInt(d)}%.`;this._pendingAction=t.add(a(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",a)}}else t.remove(this._pendingAction),this._pendingAction=null}}class N9 extends Be(){constructor(t,s){super(),this.id=O(),this._filePromiseWrapper=this._createFilePromiseWrapper(t),this._adapter=s(this),this._reader=new Roe,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(a,d)=>d?a/d*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(t=>this._filePromiseWrapper?t:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new B("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(t=>this._reader.read(t)).then(t=>{if(this.status!=="reading")throw this.status;return this.status="idle",t}).catch(t=>{throw t==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:t)})}upload(){if(this.status!="idle")throw new B("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(t=>(this.uploadResponse=t,this.status="idle",t)).catch(t=>{throw this.status==="aborted"?"aborted":(this.status="error",t)})}abort(){const t=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?t=="reading"?this._reader.abort():t=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(t){const s={};return s.promise=new Promise((a,d)=>{s.rejecter=d,s.isFulfilled=!1,t.then(p=>{s.isFulfilled=!0,a(p)}).catch(p=>{s.isFulfilled=!0,d(p)})}),s}}class Moe extends on{constructor(t){super(t),this.buttonView=new Mn(t),this._fileInputView=new Ooe(t),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class Ooe extends on{constructor(t){super(t),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const s=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:s.to("acceptedType"),multiple:s.to("allowMultipleFiles")},on:{change:s.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}class Foe{constructor(t){this.loader=t}upload(){return new Promise((t,s)=>{const a=this.reader=new window.FileReader;a.addEventListener("load",()=>{t({default:a.result})}),a.addEventListener("error",d=>{s(d)}),a.addEventListener("abort",()=>{s()}),this.loader.file.then(d=>{a.readAsDataURL(d)})})}abort(){this.reader.abort()}}function P9(f){const t=f.map(s=>s.replace("+","\\+"));return new RegExp(`^image\\/(${t.join("|")})$`)}function Uoe(f){return new Promise((t,s)=>{const a=f.getAttribute("src");fetch(a).then(d=>d.blob()).then(d=>{const p=I9(d,a),w=p.replace("image/",""),k=new File([d],`image.${w}`,{type:p});t(k)}).catch(d=>d&&d.name==="TypeError"?function(p){return function(w){return new Promise((k,D)=>{const R=de.document.createElement("img");R.addEventListener("load",()=>{const M=de.document.createElement("canvas");M.width=R.width,M.height=R.height,M.getContext("2d").drawImage(R,0,0),M.toBlob(L=>L?k(L):D())}),R.addEventListener("error",()=>D()),R.src=w})}(p).then(w=>{const k=I9(w,p),D=k.replace("image/","");return new File([w],`image.${D}`,{type:k})})}(a).then(t).catch(s):s(d))})}function I9(f,t){return f.type?f.type:t.match(/data:(image\/\w+);base64/)?t.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class Loe extends it{static get pluginName(){return"ImageUploadUI"}init(){const t=this.editor,s=t.t,a=d=>{const p=new Moe(d),w=t.commands.get("uploadImage"),k=t.config.get("image.upload.types"),D=P9(k);return p.set({acceptedType:k.map(R=>`image/${R}`).join(","),allowMultipleFiles:!0}),p.buttonView.set({label:s("Insert image"),icon:Kn.image,tooltip:!0}),p.buttonView.bind("isEnabled").to(w),p.on("done",(R,M)=>{const L=Array.from(M).filter(W=>D.test(W.type));L.length&&(t.execute("uploadImage",{file:L}),t.editing.view.focus())}),p};t.ui.componentFactory.add("uploadImage",a),t.ui.componentFactory.add("imageUpload",a)}}var iT=o(2926),V_={attributes:{"data-cke":!0}};V_.setAttributes=Tt(),V_.insert=Ot().bind(null,"head"),V_.domAPI=Rt(),V_.insertStyleElement=Mt(),jt()(iT.Z,V_),iT.Z&&iT.Z.locals&&iT.Z.locals;var rT=o(1547),W_={attributes:{"data-cke":!0}};W_.setAttributes=Tt(),W_.insert=Ot().bind(null,"head"),W_.domAPI=Rt(),W_.insertStyleElement=Mt(),jt()(rT.Z,W_),rT.Z&&rT.Z.locals&&rT.Z.locals;var sT=o(6618),$_={attributes:{"data-cke":!0}};$_.setAttributes=Tt(),$_.insert=Ot().bind(null,"head"),$_.domAPI=Rt(),$_.insertStyleElement=Mt(),jt()(sT.Z,$_),sT.Z&&sT.Z.locals&&sT.Z.locals;class Boe extends it{static get pluginName(){return"ImageUploadProgress"}constructor(t){super(t),this.uploadStatusChange=(s,a,d)=>{const p=this.editor,w=a.item,k=w.getAttribute("uploadId");if(!d.consumable.consume(a.item,s.name))return;const D=p.plugins.get("ImageUtils"),R=p.plugins.get(Wg),M=k?a.attributeNewValue:null,L=this.placeholder,W=p.editing.mapper.toViewElement(w),Y=d.writer;if(M=="reading")return j9(W,Y),void R9(D,L,W,Y);if(M=="uploading"){const se=R.loaders.get(k);return j9(W,Y),void(se?(M9(W,Y),function(le,ve,Pe,$e){const Qe=function(St){const tn=St.createUIElement("div",{class:"ck-progress-bar"});return St.setCustomProperty("progressBar",!0,tn),tn}(ve);ve.insert(ve.createPositionAt(le,"end"),Qe),Pe.on("change:uploadedPercent",(St,tn,Fn)=>{$e.change(Un=>{Un.setStyle("width",Fn+"%",Qe)})})}(W,Y,se,p.editing.view),function(le,ve,Pe,$e){if($e.data){const Qe=le.findViewImgElement(ve);Pe.setAttribute("src",$e.data,Qe)}}(D,W,Y,se)):R9(D,L,W,Y))}M=="complete"&&R.loaders.get(k)&&function(se,le,ve){const Pe=le.createUIElement("div",{class:"ck-image-upload-complete-icon"});le.insert(le.createPositionAt(se,"end"),Pe),setTimeout(()=>{ve.change($e=>$e.remove($e.createRangeOn(Pe)))},3e3)}(W,Y,p.editing.view),function(se,le){F9(se,le,"progressBar")}(W,Y),M9(W,Y),function(se,le){le.removeClass("ck-appear",se)}(W,Y)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const t=this.editor;t.plugins.has("ImageBlockEditing")&&t.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),t.plugins.has("ImageInlineEditing")&&t.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function j9(f,t){f.hasClass("ck-appear")||t.addClass("ck-appear",f)}function R9(f,t,s,a){s.hasClass("ck-image-upload-placeholder")||a.addClass("ck-image-upload-placeholder",s);const d=f.findViewImgElement(s);d.getAttribute("src")!==t&&a.setAttribute("src",t,d),O9(s,"placeholder")||a.insert(a.createPositionAfter(d),function(p){const w=p.createUIElement("div",{class:"ck-upload-placeholder-loader"});return p.setCustomProperty("placeholder",!0,w),w}(a))}function M9(f,t){f.hasClass("ck-image-upload-placeholder")&&t.removeClass("ck-image-upload-placeholder",f),F9(f,t,"placeholder")}function O9(f,t){for(const s of f.getChildren())if(s.getCustomProperty(t))return s}function F9(f,t,s){const a=O9(f,s);a&&t.remove(t.createRangeOn(a))}class zoe extends cn{refresh(){const t=this.editor,s=t.plugins.get("ImageUtils"),a=t.model.document.selection.getSelectedElement();this.isEnabled=s.isImageAllowed()||s.isImage(a)}execute(t){const s=Rn(t.file),a=this.editor.model.document.selection,d=this.editor.plugins.get("ImageUtils"),p=Object.fromEntries(a.getAttributes());s.forEach((w,k)=>{const D=a.getSelectedElement();if(k&&D&&d.isImage(D)){const R=this.editor.model.createPositionAfter(D);this._uploadImage(w,p,R)}else this._uploadImage(w,p)})}_uploadImage(t,s,a){const d=this.editor,p=d.plugins.get(Wg).createLoader(t),w=d.plugins.get("ImageUtils");p&&w.insertImage({...s,uploadId:p.id},a)}}class Voe extends it{static get requires(){return[Wg,JL,oh,Ia]}static get pluginName(){return"ImageUploadEditing"}constructor(t){super(t),t.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const t=this.editor,s=t.model.document,a=t.conversion,d=t.plugins.get(Wg),p=t.plugins.get("ImageUtils"),w=t.plugins.get("ClipboardPipeline"),k=P9(t.config.get("image.upload.types")),D=new zoe(t);t.commands.add("uploadImage",D),t.commands.add("imageUpload",D),a.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(t.editing.view.document,"clipboardInput",(R,M)=>{if(L=M.dataTransfer,Array.from(L.types).includes("text/html")&&L.getData("text/html")!=="")return;var L;const W=Array.from(M.dataTransfer.files).filter(Y=>!!Y&&k.test(Y.type));W.length&&(R.stop(),t.model.change(Y=>{M.targetRanges&&Y.setSelection(M.targetRanges.map(se=>t.editing.mapper.toModelRange(se))),t.execute("uploadImage",{file:W})}))}),this.listenTo(w,"inputTransformation",(R,M)=>{const L=Array.from(t.editing.view.createRangeIn(M.content)).map(Y=>Y.item).filter(Y=>function(se,le){return!(!se.isInlineImageView(le)||!le.getAttribute("src")||!le.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!le.getAttribute("src").match(/^blob:/g))}(p,Y)&&!Y.getAttribute("uploadProcessed")).map(Y=>({promise:Uoe(Y),imageElement:Y}));if(!L.length)return;const W=new RP(t.editing.view.document);for(const Y of L){W.setAttribute("uploadProcessed",!0,Y.imageElement);const se=d.createLoader(Y.promise);se&&(W.setAttribute("src","",Y.imageElement),W.setAttribute("uploadId",se.id,Y.imageElement))}}),t.editing.view.document.on("dragover",(R,M)=>{M.preventDefault()}),s.on("change",()=>{const R=s.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),M=new Set;for(const L of R)if(L.type=="insert"&&L.name!="$text"){const W=L.position.nodeAfter,Y=L.position.root.rootName=="$graveyard";for(const se of Woe(t,W)){const le=se.getAttribute("uploadId");if(!le)continue;const ve=d.loaders.get(le);ve&&(Y?M.has(le)||ve.abort():(M.add(le),this._uploadImageElements.set(le,se),ve.status=="idle"&&this._readAndUpload(ve)))}}}),this.on("uploadComplete",(R,{imageElement:M,data:L})=>{const W=L.urls?L.urls:L;this.editor.model.change(Y=>{Y.setAttribute("src",W.default,M),this._parseAndSetSrcsetAttributeOnImage(W,M,Y),p.setImageNaturalSizeAttributes(M)})},{priority:"low"})}afterInit(){const t=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&t.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&t.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(t){const s=this.editor,a=s.model,d=s.locale.t,p=s.plugins.get(Wg),w=s.plugins.get(JL),k=s.plugins.get("ImageUtils"),D=this._uploadImageElements;return a.enqueueChange({isUndoable:!1},M=>{M.setAttribute("uploadStatus","reading",D.get(t.id))}),t.read().then(()=>{const M=t.upload(),L=D.get(t.id);if(y.isSafari){const W=s.editing.mapper.toViewElement(L),Y=k.findViewImgElement(W);s.editing.view.once("render",()=>{if(!Y.parent)return;const se=s.editing.view.domConverter.mapViewToDom(Y.parent);if(!se)return;const le=se.style.display;se.style.display="none",se._ckHack=se.offsetHeight,se.style.display=le})}return a.enqueueChange({isUndoable:!1},W=>{W.setAttribute("uploadStatus","uploading",L)}),M}).then(M=>{a.enqueueChange({isUndoable:!1},L=>{const W=D.get(t.id);L.setAttribute("uploadStatus","complete",W),this.fire("uploadComplete",{data:M,imageElement:W})}),R()}).catch(M=>{if(t.status!=="error"&&t.status!=="aborted")throw M;t.status=="error"&&M&&w.showWarning(M,{title:d("Upload failed"),namespace:"upload"}),a.enqueueChange({isUndoable:!1},L=>{L.remove(D.get(t.id))}),R()});function R(){a.enqueueChange({isUndoable:!1},M=>{const L=D.get(t.id);M.removeAttribute("uploadId",L),M.removeAttribute("uploadStatus",L),D.delete(t.id)}),p.destroyLoader(t)}}_parseAndSetSrcsetAttributeOnImage(t,s,a){let d=0;const p=Object.keys(t).filter(w=>{const k=parseInt(w,10);if(!isNaN(k))return d=Math.max(d,k),!0}).map(w=>`${t[w]} ${w}w`).join(", ");if(p!=""){const w={srcset:p};s.hasAttribute("width")||s.hasAttribute("height")||(w.width=d),a.setAttributes(w,s)}}}function Woe(f,t){const s=f.plugins.get("ImageUtils");return Array.from(f.model.createRangeOn(t)).filter(a=>s.isImage(a.item)).map(a=>a.item)}class $oe extends cn{refresh(){const t=this.editor,s=t.plugins.get("ImageUtils").getClosestSelectedImageElement(t.model.document.selection);this.isEnabled=!!s,s&&s.hasAttribute("resizedWidth")?this.value={width:s.getAttribute("resizedWidth"),height:null}:this.value=null}execute(t){const s=this.editor,a=s.model,d=s.plugins.get("ImageUtils"),p=d.getClosestSelectedImageElement(a.document.selection);this.value={width:t.width,height:null},p&&a.change(w=>{w.setAttribute("resizedWidth",t.width,p),w.removeAttribute("resizedHeight",p),d.setImageNaturalSizeAttributes(p)})}}class U9 extends it{static get requires(){return[Ia]}static get pluginName(){return"ImageResizeEditing"}constructor(t){super(t),t.config.define("image",{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}]})}init(){const t=this.editor,s=new $oe(t);this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline"),t.commands.add("resizeImage",s),t.commands.add("imageResize",s)}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["resizedWidth","resizedHeight"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["resizedWidth","resizedHeight"]})}_registerConverters(t){const s=this.editor,a=s.plugins.get("ImageUtils");s.conversion.for("downcast").add(d=>d.on(`attribute:resizedWidth:${t}`,(p,w,k)=>{if(!k.consumable.consume(w.item,p.name))return;const D=k.writer,R=k.mapper.toViewElement(w.item);w.attributeNewValue!==null?(D.setStyle("width",w.attributeNewValue,R),D.addClass("image_resized",R)):(D.removeStyle("width",R),D.removeClass("image_resized",R))})),s.conversion.for("dataDowncast").attributeToAttribute({model:{name:t,key:"resizedHeight"},view:d=>({key:"style",value:{height:d}})}),s.conversion.for("editingDowncast").add(d=>d.on(`attribute:resizedHeight:${t}`,(p,w,k)=>{if(!k.consumable.consume(w.item,p.name))return;const D=k.writer,R=k.mapper.toViewElement(w.item),M=t==="imageInline"?a.findViewImgElement(R):R;w.attributeNewValue!==null?D.setStyle("height",w.attributeNewValue,M):D.removeStyle("height",M)})),s.conversion.for("upcast").attributeToAttribute({view:{name:t==="imageBlock"?"figure":"img",styles:{width:/.+/}},model:{key:"resizedWidth",value:d=>KC(d)?null:d.getStyle("width")}}),s.conversion.for("upcast").attributeToAttribute({view:{name:t==="imageBlock"?"figure":"img",styles:{height:/.+/}},model:{key:"resizedHeight",value:d=>KC(d)?null:d.getStyle("height")}})}}const fI={small:Kn.objectSizeSmall,medium:Kn.objectSizeMedium,large:Kn.objectSizeLarge,original:Kn.objectSizeFull};class qoe extends it{static get requires(){return[U9]}static get pluginName(){return"ImageResizeButtons"}constructor(t){super(t),this._resizeUnit=t.config.get("image.resizeUnit")}init(){const t=this.editor,s=t.config.get("image.resizeOptions"),a=t.commands.get("resizeImage");this.bind("isEnabled").to(a);for(const d of s)this._registerImageResizeButton(d);this._registerImageResizeDropdown(s)}_registerImageResizeButton(t){const s=this.editor,{name:a,value:d,icon:p}=t,w=d?d+this._resizeUnit:null;s.ui.componentFactory.add(a,k=>{const D=new Mn(k),R=s.commands.get("resizeImage"),M=this._getOptionLabelValue(t,!0);if(!fI[p])throw new B("imageresizebuttons-missing-icon",s,t);return D.set({label:M,icon:fI[p],tooltip:M,isToggleable:!0}),D.bind("isEnabled").to(this),D.bind("isOn").to(R,"value",L9(w)),this.listenTo(D,"execute",()=>{s.execute("resizeImage",{width:w})}),D})}_registerImageResizeDropdown(t){const s=this.editor,a=s.t,d=t.find(w=>!w.value),p=w=>{const k=s.commands.get("resizeImage"),D=Lu(w,Cy),R=D.buttonView,M=a("Resize image");return R.set({tooltip:M,commandValue:d.value,icon:fI.medium,isToggleable:!0,label:this._getOptionLabelValue(d),withText:!0,class:"ck-resize-image-button",ariaLabel:M,ariaLabelledBy:void 0}),R.bind("label").to(k,"value",L=>L&&L.width?L.width:this._getOptionLabelValue(d)),D.bind("isEnabled").to(this),oC(D,()=>this._getResizeDropdownListItemDefinitions(t,k),{ariaLabel:a("Image resize list"),role:"menu"}),this.listenTo(D,"execute",L=>{s.execute(L.source.commandName,{width:L.source.commandValue}),s.editing.view.focus()}),D};s.ui.componentFactory.add("resizeImage",p),s.ui.componentFactory.add("imageResize",p)}_getOptionLabelValue(t,s=!1){const a=this.editor.t;return t.label?t.label:s?t.value?a("Resize image to %0",t.value+this._resizeUnit):a("Resize image to the original size"):t.value?t.value+this._resizeUnit:a("Original")}_getResizeDropdownListItemDefinitions(t,s){const a=new Os;return t.map(d=>{const p=d.value?d.value+this._resizeUnit:null,w={type:"button",model:new gC({commandName:"resizeImage",commandValue:p,label:this._getOptionLabelValue(d),role:"menuitemradio",withText:!0,icon:null})};w.model.bind("isOn").to(s,"value",L9(p)),a.add(w)}),a}}function L9(f){return t=>f===null&&t===f||t!==null&&t.width===f}const pI="image_resized";class Hoe extends it{static get requires(){return[QP,Ia]}static get pluginName(){return"ImageResizeHandles"}init(){const t=this.editor.commands.get("resizeImage");this.bind("isEnabled").to(t),this._setupResizerCreator()}_setupResizerCreator(){const t=this.editor,s=t.editing.view,a=t.plugins.get("ImageUtils");s.addObserver(h9),this.listenTo(s.document,"imageLoaded",(d,p)=>{if(!p.target.matches("figure.image.ck-widget > img,figure.image.ck-widget > picture > img,figure.image.ck-widget > a > img,figure.image.ck-widget > a > picture > img,span.image-inline.ck-widget > img,span.image-inline.ck-widget > picture > img"))return;const w=t.editing.view.domConverter,k=w.domToView(p.target),D=a.getImageWidgetFromImageView(k);let R=this.editor.plugins.get(QP).getResizerByViewElement(D);if(R)return void R.redraw();const M=t.editing.mapper,L=M.toModelElement(D);R=t.plugins.get(QP).attachTo({unit:t.config.get("image.resizeUnit"),modelElement:L,viewElement:D,editor:t,getHandleHost:W=>W.querySelector("img"),getResizeHost:()=>w.mapViewToDom(M.toViewElement(L.parent)),isCentered(){const W=L.getAttribute("imageStyle");return!W||W=="block"||W=="alignCenter"},onCommit(W){s.change(Y=>{Y.removeClass(pI,D)}),t.execute("resizeImage",{width:W})}}),R.on("updateSize",()=>{D.hasClass(pI)||s.change(Y=>{Y.addClass(pI,D)});const W=L.name==="imageInline"?k:D;W.getStyle("height")&&s.change(Y=>{Y.removeStyle("height",W)})}),R.bind("isEnabled").to(this)})}}var oT=o(2400),q_={attributes:{"data-cke":!0}};q_.setAttributes=Tt(),q_.insert=Ot().bind(null,"head"),q_.domAPI=Rt(),q_.insertStyleElement=Mt(),jt()(oT.Z,q_),oT.Z&&oT.Z.locals&&oT.Z.locals;class Goe extends it{static get pluginName(){return"IndentEditing"}init(){const t=this.editor;t.commands.add("indent",new zr(t)),t.commands.add("outdent",new zr(t))}}const B9='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',z9='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class Xoe extends it{static get pluginName(){return"IndentUI"}init(){const t=this.editor,s=t.locale,a=t.t,d=s.uiLanguageDirection=="ltr"?B9:z9,p=s.uiLanguageDirection=="ltr"?z9:B9;this._defineButton("indent",a("Increase indent"),d),this._defineButton("outdent",a("Decrease indent"),p)}_defineButton(t,s,a){const d=this.editor;d.ui.componentFactory.add(t,p=>{const w=d.commands.get(t),k=new Mn(p);return k.set({label:s,icon:a,tooltip:!0}),k.bind("isEnabled").to(w,"isEnabled"),this.listenTo(k,"execute",()=>{d.execute(t),d.editing.view.focus()}),k})}}class Koe{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(t){Array.isArray(t)?t.forEach(s=>this._definitions.add(s)):this._definitions.add(t)}getDispatcher(){return t=>{t.on("attribute:linkHref",(s,a,d)=>{if(!d.consumable.test(a.item,"attribute:linkHref")||!a.item.is("selection")&&!d.schema.isInline(a.item))return;const p=d.writer,w=p.document.selection;for(const k of this._definitions){const D=p.createAttributeElement("a",k.attributes,{priority:5});k.classes&&p.addClass(k.classes,D);for(const R in k.styles)p.setStyle(R,k.styles[R],D);p.setCustomProperty("link",!0,D),k.callback(a.attributeNewValue)?a.item.is("selection")?p.wrap(w.getFirstRange(),D):p.wrap(d.mapper.toViewRange(a.range),D):p.unwrap(d.mapper.toViewRange(a.range),D)}},{priority:"high"})}}getDispatcherForLinkedImage(){return t=>{t.on("attribute:linkHref:imageBlock",(s,a,{writer:d,mapper:p})=>{const w=p.toViewElement(a.item),k=Array.from(w.getChildren()).find(D=>D.is("element","a"));for(const D of this._definitions){const R=ka(D.attributes);if(D.callback(a.attributeNewValue)){for(const[M,L]of R)M==="class"?d.addClass(L,k):d.setAttribute(M,L,k);D.classes&&d.addClass(D.classes,k);for(const M in D.styles)d.setStyle(M,D.styles[M],k)}else{for(const[M,L]of R)M==="class"?d.removeClass(L,k):d.removeAttribute(M,k);D.classes&&d.removeClass(D.classes,k);for(const M in D.styles)d.removeStyle(M,k)}}})}}}const Zoe=function(f,t,s){var a=f.length;return s=s===void 0?a:s,Ex(f,t,s)};var Yoe=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const V9=function(f){return Yoe.test(f)},Joe=function(f){return f.split("")};var W9="\\ud800-\\udfff",Qoe="["+W9+"]",mI="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",gI="\\ud83c[\\udffb-\\udfff]",$9="[^"+W9+"]",q9="(?:\\ud83c[\\udde6-\\uddff]){2}",H9="[\\ud800-\\udbff][\\udc00-\\udfff]",G9="(?:"+mI+"|"+gI+")?",X9="[\\ufe0e\\ufe0f]?",eae=X9+G9+("(?:\\u200d(?:"+[$9,q9,H9].join("|")+")"+X9+G9+")*"),tae="(?:"+[$9+mI+"?",mI,q9,H9,Qoe].join("|")+")",nae=RegExp(gI+"(?="+gI+")|"+tae+eae,"g");const iae=function(f){return f.match(nae)||[]},rae=function(f){return V9(f)?iae(f):Joe(f)},sae=function(f){return function(t){t=yo(t);var s=V9(t)?rae(t):void 0,a=s?s[0]:t.charAt(0),d=s?Zoe(s,1).join(""):t.slice(1);return a[f]()+d}}("toUpperCase"),oae=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,aae=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,lae=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,cae=/^((\w+:(\/{2,})?)|(\W))/i,bI="Ctrl+K";function K9(f,{writer:t}){const s=t.createAttributeElement("a",{href:f},{priority:5});return t.setCustomProperty("link",!0,s),s}function Z9(f){const t=String(f);return function(s){return!!s.replace(oae,"").match(aae)}(t)?t:"#"}function yI(f,t){return!!f&&t.checkAttribute(f.name,"linkHref")}function vI(f,t){const s=(a=f,lae.test(a)?"mailto:":t);var a;const d=!!s&&!Y9(f);return f&&d?s+f:f}function Y9(f){return cae.test(f)}function J9(f){window.open(f,"_blank","noopener")}class uae extends cn{constructor(){super(...arguments),this.manualDecorators=new Os,this.automaticDecorators=new Koe}restoreManualDecoratorStates(){for(const t of this.manualDecorators)t.value=this._getDecoratorStateFromModel(t.id)}refresh(){const t=this.editor.model,s=t.document.selection,a=s.getSelectedElement()||ci(s.getSelectedBlocks());yI(a,t.schema)?(this.value=a.getAttribute("linkHref"),this.isEnabled=t.schema.checkAttribute(a,"linkHref")):(this.value=s.getAttribute("linkHref"),this.isEnabled=t.schema.checkAttributeInSelection(s,"linkHref"));for(const d of this.manualDecorators)d.value=this._getDecoratorStateFromModel(d.id)}execute(t,s={}){const a=this.editor.model,d=a.document.selection,p=[],w=[];for(const k in s)s[k]?p.push(k):w.push(k);a.change(k=>{if(d.isCollapsed){const D=d.getFirstPosition();if(d.hasAttribute("linkHref")){const R=Q9(d);let M=rv(D,"linkHref",d.getAttribute("linkHref"),a);d.getAttribute("linkHref")===R&&(M=this._updateLinkContent(a,k,M,t)),k.setAttribute("linkHref",t,M),p.forEach(L=>{k.setAttribute(L,!0,M)}),w.forEach(L=>{k.removeAttribute(L,M)}),k.setSelection(k.createPositionAfter(M.end.nodeBefore))}else if(t!==""){const R=ka(d.getAttributes());R.set("linkHref",t),p.forEach(L=>{R.set(L,!0)});const{end:M}=a.insertContent(k.createText(t,R),D);k.setSelection(M)}["linkHref",...p,...w].forEach(R=>{k.removeSelectionAttribute(R)})}else{const D=a.schema.getValidRanges(d.getRanges(),"linkHref"),R=[];for(const L of d.getSelectedBlocks())a.schema.checkAttribute(L,"linkHref")&&R.push(k.createRangeOn(L));const M=R.slice();for(const L of D)this._isRangeToUpdate(L,R)&&M.push(L);for(const L of M){let W=L;if(M.length===1){const Y=Q9(d);d.getAttribute("linkHref")===Y&&(W=this._updateLinkContent(a,k,L,t),k.setSelection(k.createSelection(W)))}k.setAttribute("linkHref",t,W),p.forEach(Y=>{k.setAttribute(Y,!0,W)}),w.forEach(Y=>{k.removeAttribute(Y,W)})}}})}_getDecoratorStateFromModel(t){const s=this.editor.model,a=s.document.selection,d=a.getSelectedElement();return yI(d,s.schema)?d.getAttribute(t):a.getAttribute(t)}_isRangeToUpdate(t,s){for(const a of s)if(a.containsRange(t))return!1;return!0}_updateLinkContent(t,s,a,d){const p=s.createText(d,{linkHref:d});return t.insertContent(p,a)}}function Q9(f){if(f.isCollapsed){const t=f.getFirstPosition();return t.textNode&&t.textNode.data}{const t=Array.from(f.getFirstRange().getItems());if(t.length>1)return null;const s=t[0];return s.is("$text")||s.is("$textProxy")?s.data:null}}class dae extends cn{refresh(){const t=this.editor.model,s=t.document.selection,a=s.getSelectedElement();yI(a,t.schema)?this.isEnabled=t.schema.checkAttribute(a,"linkHref"):this.isEnabled=t.schema.checkAttributeInSelection(s,"linkHref")}execute(){const t=this.editor,s=this.editor.model,a=s.document.selection,d=t.commands.get("link");s.change(p=>{const w=a.isCollapsed?[rv(a.getFirstPosition(),"linkHref",a.getAttribute("linkHref"),s)]:s.schema.getValidRanges(a.getRanges(),"linkHref");for(const k of w)if(p.removeAttribute("linkHref",k),d)for(const D of d.manualDecorators)p.removeAttribute(D.id,k)})}}class hae extends Be(){constructor({id:t,label:s,attributes:a,classes:d,styles:p,defaultValue:w}){super(),this.id=t,this.set("value",void 0),this.defaultValue=w,this.label=s,this.attributes=a,this.classes=d,this.styles=p}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var aT=o(3925),H_={attributes:{"data-cke":!0}};H_.setAttributes=Tt(),H_.insert=Ot().bind(null,"head"),H_.domAPI=Rt(),H_.insertStyleElement=Mt(),jt()(aT.Z,H_),aT.Z&&aT.Z.locals&&aT.Z.locals;const eB="automatic",fae=/^(https?:)?\/\//;class pae extends it{static get pluginName(){return"LinkEditing"}static get requires(){return[NC,c7,oh]}constructor(t){super(t),t.config.define("link",{addTargetToExternalLinks:!1})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:"linkHref"}),t.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:K9}),t.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(a,d)=>K9(Z9(a),d)}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:a=>a.getAttribute("href")}}),t.commands.add("link",new uae(t)),t.commands.add("unlink",new dae(t));const s=function(a,d){const p={"Open in a new tab":a("Open in a new tab"),Downloadable:a("Downloadable")};return d.forEach(w=>("label"in w&&p[w.label]&&(w.label=p[w.label]),w)),d}(t.t,function(a){const d=[];if(a)for(const[p,w]of Object.entries(a)){const k=Object.assign({},w,{id:`link${sae(p)}`});d.push(k)}return d}(t.config.get("link.decorators")));this._enableAutomaticDecorators(s.filter(a=>a.mode===eB)),this._enableManualDecorators(s.filter(a=>a.mode==="manual")),t.plugins.get(NC).registerAttribute("linkHref"),v7(t,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink(),this._enableClipboardIntegration()}_enableAutomaticDecorators(t){const s=this.editor,a=s.commands.get("link").automaticDecorators;s.config.get("link.addTargetToExternalLinks")&&a.add({id:"linkIsExternal",mode:eB,callback:d=>!!d&&fae.test(d),attributes:{target:"_blank",rel:"noopener noreferrer"}}),a.add(t),a.length&&s.conversion.for("downcast").add(a.getDispatcher())}_enableManualDecorators(t){if(!t.length)return;const s=this.editor,a=s.commands.get("link").manualDecorators;t.forEach(d=>{s.model.schema.extend("$text",{allowAttributes:d.id});const p=new hae(d);a.add(p),s.conversion.for("downcast").attributeToElement({model:p.id,view:(w,{writer:k,schema:D},{item:R})=>{if((R.is("selection")||D.isInline(R))&&w){const M=k.createAttributeElement("a",p.attributes,{priority:5});p.classes&&k.addClass(p.classes,M);for(const L in p.styles)k.setStyle(L,p.styles[L],M);return k.setCustomProperty("link",!0,M),M}}}),s.conversion.for("upcast").elementToAttribute({view:{name:"a",...p._createPattern()},model:{key:p.id}})})}_enableLinkOpen(){const t=this.editor,s=t.editing.view.document;this.listenTo(s,"click",(a,d)=>{if(!(y.isMac?d.domEvent.metaKey:d.domEvent.ctrlKey))return;let p=d.domTarget;if(p.tagName.toLowerCase()!="a"&&(p=p.closest("a")),!p)return;const w=p.getAttribute("href");w&&(a.stop(),d.preventDefault(),J9(w))},{context:"$capture"}),this.listenTo(s,"keydown",(a,d)=>{const p=t.commands.get("link").value;p&&d.keyCode===Gt.enter&&d.altKey&&(a.stop(),J9(p))})}_enableInsertContentSelectionAttributesFixer(){const t=this.editor.model,s=t.document.selection;this.listenTo(t,"insertContent",()=>{const a=s.anchor.nodeBefore,d=s.anchor.nodeAfter;s.hasAttribute("linkHref")&&a&&a.hasAttribute("linkHref")&&(d&&d.hasAttribute("linkHref")||t.change(p=>{wI(p,xI(t.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const t=this.editor,s=t.model;t.editing.view.addObserver(YA);let a=!1;this.listenTo(t.editing.view.document,"mousedown",()=>{a=!0}),this.listenTo(t.editing.view.document,"selectionChange",()=>{if(!a)return;a=!1;const d=s.document.selection;if(!d.isCollapsed||!d.hasAttribute("linkHref"))return;const p=d.getFirstPosition(),w=rv(p,"linkHref",d.getAttribute("linkHref"),s);(p.isTouching(w.start)||p.isTouching(w.end))&&s.change(k=>{wI(k,xI(s.schema))})})}_enableTypingOverLink(){const t=this.editor,s=t.editing.view;let a=null,d=!1;this.listenTo(s.document,"delete",()=>{d=!0},{priority:"high"}),this.listenTo(t.model,"deleteContent",()=>{const p=t.model.document.selection;p.isCollapsed||(d?d=!1:tB(t)&&function(w){const k=w.document.selection,D=k.getFirstPosition(),R=k.getLastPosition(),M=D.nodeAfter;if(!M||!M.is("$text")||!M.hasAttribute("linkHref"))return!1;const L=R.textNode||R.nodeBefore;return M===L?!0:rv(D,"linkHref",M.getAttribute("linkHref"),w).containsRange(w.createRange(D,R),!0)}(t.model)&&(a=p.getAttributes()))},{priority:"high"}),this.listenTo(t.model,"insertContent",(p,[w])=>{d=!1,tB(t)&&a&&(t.model.change(k=>{for(const[D,R]of a)k.setAttribute(D,R,w)}),a=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const t=this.editor,s=t.model,a=s.document.selection,d=t.editing.view;let p=!1,w=!1;this.listenTo(d.document,"delete",(k,D)=>{w=D.direction==="backward"},{priority:"high"}),this.listenTo(s,"deleteContent",()=>{p=!1;const k=a.getFirstPosition(),D=a.getAttribute("linkHref");if(!D)return;const R=rv(k,"linkHref",D,s);p=R.containsPosition(k)||R.end.isEqual(k)},{priority:"high"}),this.listenTo(s,"deleteContent",()=>{w&&(w=!1,p||t.model.enqueueChange(k=>{wI(k,xI(s.schema))}))},{priority:"low"})}_enableClipboardIntegration(){const t=this.editor,s=t.model,a=this.editor.config.get("link.defaultProtocol");a&&this.listenTo(t.plugins.get("ClipboardPipeline"),"contentInsertion",(d,p)=>{s.change(w=>{const k=w.createRangeIn(p.content);for(const D of k.getItems())if(D.hasAttribute("linkHref")){const R=vI(D.getAttribute("linkHref"),a);w.setAttribute("linkHref",R,D)}})})}}function wI(f,t){f.removeSelectionAttribute("linkHref");for(const s of t)f.removeSelectionAttribute(s)}function tB(f){return f.model.change(t=>t.batch).isTyping}function xI(f){return f.getDefinition("$text").allowAttributes.filter(t=>t.startsWith("link"))}var lT=o(4874),G_={attributes:{"data-cke":!0}};G_.setAttributes=Tt(),G_.insert=Ot().bind(null,"head"),G_.domAPI=Rt(),G_.insertStyleElement=Mt(),jt()(lT.Z,G_),lT.Z&&lT.Z.locals&&lT.Z.locals;class mae extends on{constructor(t,s){super(t),this.focusTracker=new Hi,this.keystrokes=new _a,this._focusables=new Lo;const a=t.t;this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(a("Save"),Kn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(a("Cancel"),Kn.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(s),this.children=this._createFormChildren(s.manualDecorators),this._focusCycler=new xc({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const d=["ck","ck-link-form","ck-responsive-form"];s.manualDecorators.length&&d.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:d,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((t,s)=>(t[s.name]=s.isOn,t),{})}render(){super.render(),h({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const t=this.locale.t,s=new _u(this.locale,aC);return s.label=t("Link URL"),s}_createButton(t,s,a,d){const p=new Mn(this.locale);return p.set({label:t,icon:s,tooltip:!0}),p.extendTemplate({attributes:{class:a}}),d&&p.delegate("execute").to(this,d),p}_createManualDecoratorSwitches(t){const s=this.createCollection();for(const a of t.manualDecorators){const d=new xu(this.locale);d.set({name:a.id,label:a.label,withText:!0}),d.bind("isOn").toMany([a,t],"value",(p,w)=>w===void 0&&p===void 0?!!a.defaultValue:!!p),d.on("execute",()=>{a.set("value",!d.isOn)}),s.add(d)}return s}_createFormChildren(t){const s=this.createCollection();if(s.add(this.urlInputView),t.length){const a=new on;a.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(d=>({tag:"li",children:[d],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),s.add(a)}return s.add(this.saveButtonView),s.add(this.cancelButtonView),s}}var cT=o(7536),X_={attributes:{"data-cke":!0}};X_.setAttributes=Tt(),X_.insert=Ot().bind(null,"head"),X_.domAPI=Rt(),X_.insertStyleElement=Mt(),jt()(cT.Z,X_),cT.Z&&cT.Z.locals&&cT.Z.locals;class gae extends on{constructor(t){super(t),this.focusTracker=new Hi,this.keystrokes=new _a,this._focusables=new Lo;const s=t.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(s("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(s("Edit link"),Kn.pencil,"edit"),this.set("href",void 0),this._focusCycler=new xc({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(t,s,a){const d=new Mn(this.locale);return d.set({label:t,icon:s,tooltip:!0}),d.delegate("execute").to(this,a),d}_createPreviewButton(){const t=new Mn(this.locale),s=this.bindTemplate,a=this.t;return t.set({withText:!0,tooltip:a("Open link in new tab")}),t.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:s.to("href",d=>d&&Z9(d)),target:"_blank",rel:"noopener noreferrer"}}),t.bind("label").to(this,"href",d=>d||a("This link has no URL")),t.bind("isEnabled").to(this,"href",d=>!!d),t.template.tag="a",t.template.eventListeners={},t}}const Bu="link-ui";class bae extends it{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[wC]}static get pluginName(){return"LinkUI"}init(){const t=this.editor;t.editing.view.addObserver(xre),this._balloon=t.plugins.get(wC),this._createToolbarLinkButton(),this._enableBalloonActivators(),t.conversion.for("editingDowncast").markerToHighlight({model:Bu,view:{classes:["ck-fake-link-selection"]}}),t.conversion.for("editingDowncast").markerToElement({model:Bu,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const t=this.editor,s=new gae(t.locale),a=t.commands.get("link"),d=t.commands.get("unlink");return s.bind("href").to(a,"value"),s.editButtonView.bind("isEnabled").to(a),s.unlinkButtonView.bind("isEnabled").to(d),this.listenTo(s,"edit",()=>{this._addFormView()}),this.listenTo(s,"unlink",()=>{t.execute("unlink"),this._hideUI()}),s.keystrokes.set("Esc",(p,w)=>{this._hideUI(),w()}),s.keystrokes.set(bI,(p,w)=>{this._addFormView(),w()}),s}_createFormView(){const t=this.editor,s=t.commands.get("link"),a=t.config.get("link.defaultProtocol"),d=new(u(mae))(t.locale,s);return d.urlInputView.fieldView.bind("value").to(s,"value"),d.urlInputView.bind("isEnabled").to(s,"isEnabled"),d.saveButtonView.bind("isEnabled").to(s),this.listenTo(d,"submit",()=>{const{value:p}=d.urlInputView.fieldView.element,w=vI(p,a);t.execute("link",w,d.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(d,"cancel",()=>{this._closeFormView()}),d.keystrokes.set("Esc",(p,w)=>{this._closeFormView(),w()}),d}_createToolbarLinkButton(){const t=this.editor,s=t.commands.get("link"),a=t.t;t.ui.componentFactory.add("link",d=>{const p=new Mn(d);return p.isEnabled=!0,p.label=a("Link"),p.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',p.keystroke=bI,p.tooltip=!0,p.isToggleable=!0,p.bind("isEnabled").to(s,"isEnabled"),p.bind("isOn").to(s,"value",w=>!!w),this.listenTo(p,"execute",()=>this._showUI(!0)),p})}_enableBalloonActivators(){const t=this.editor,s=t.editing.view.document;this.listenTo(s,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),t.keystrokes.set(bI,(a,d)=>{d(),t.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(t,s)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),s())},{priority:"high"}),this.editor.keystrokes.set("Esc",(t,s)=>{this._isUIVisible&&(this._hideUI(),s())}),c({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const t=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=t.value||""}_closeFormView(){const t=this.editor.commands.get("link");t.restoreManualDecoratorStates(),t.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(t=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),t&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),t&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const t=this.editor;this.stopListening(t.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),t.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const t=this.editor,s=t.editing.view.document;let a=this._getSelectedLinkElement(),d=w();const p=()=>{const k=this._getSelectedLinkElement(),D=w();a&&!k||!a&&D!==d?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),a=k,d=D};function w(){return s.selection.focus.getAncestors().reverse().find(k=>k.is("element"))}this.listenTo(t.ui,"update",p),this.listenTo(this._balloon,"change:visibleView",p)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const t=this._balloon.visibleView;return!!this.formView&&t==this.formView||this._areActionsVisible}_getBalloonPositionData(){const t=this.editor.editing.view,s=this.editor.model,a=t.document;let d;if(s.markers.has(Bu)){const p=Array.from(this.editor.editing.mapper.markerNameToElements(Bu)),w=t.createRange(t.createPositionBefore(p[0]),t.createPositionAfter(p[p.length-1]));d=t.domConverter.viewRangeToDom(w)}else d=()=>{const p=this._getSelectedLinkElement();return p?t.domConverter.mapViewToDom(p):t.domConverter.viewRangeToDom(a.selection.getFirstRange())};return{target:d}}_getSelectedLinkElement(){const t=this.editor.editing.view,s=t.document.selection,a=s.getSelectedElement();if(s.isCollapsed||a&&Er(a))return _I(s.getFirstPosition());{const d=s.getFirstRange().getTrimmed(),p=_I(d.start),w=_I(d.end);return p&&p==w&&t.createRangeIn(p).getTrimmed().isEqual(d)?p:null}}_showFakeVisualSelection(){const t=this.editor.model;t.change(s=>{const a=t.document.selection.getFirstRange();if(t.markers.has(Bu))s.updateMarker(Bu,{range:a});else if(a.start.isAtEnd){const d=a.start.getLastMatchingPosition(({item:p})=>!t.schema.isContent(p),{boundaries:a});s.addMarker(Bu,{usingOperation:!1,affectsData:!1,range:s.createRange(d,a.end)})}else s.addMarker(Bu,{usingOperation:!1,affectsData:!1,range:a})})}_hideFakeVisualSelection(){const t=this.editor.model;t.markers.has(Bu)&&t.change(s=>{s.removeMarker(Bu)})}}function _I(f){return f.getAncestors().find(t=>{return(s=t).is("attributeElement")&&!!s.getCustomProperty("link");var s})||null}const yae=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class vae extends it{static get requires(){return[ah]}static get pluginName(){return"AutoLink"}init(){const t=this.editor.model.document.selection;t.on("change:range",()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const t=this.editor,s=new m7(t.model,a=>{if(!function(p){return p.length>4&&p[p.length-1]===" "&&p[p.length-2]!==" "}(a))return;const d=nB(a.substr(0,a.length-1));return d?{url:d}:void 0});s.on("matched:data",(a,d)=>{const{batch:p,range:w,url:k}=d;if(!p.isTyping)return;const D=w.end.getShiftedBy(-1),R=D.getShiftedBy(-k.length),M=t.model.createRange(R,D);this._applyAutoLink(k,M)}),s.bind("isEnabled").to(this)}_enableEnterHandling(){const t=this.editor,s=t.model,a=t.commands.get("enter");a&&a.on("execute",()=>{const d=s.document.selection.getFirstPosition();if(!d.parent.previousSibling)return;const p=s.createRangeIn(d.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(p)})}_enableShiftEnterHandling(){const t=this.editor,s=t.model,a=t.commands.get("shiftEnter");a&&a.on("execute",()=>{const d=s.document.selection.getFirstPosition(),p=s.createRange(s.createPositionAt(d.parent,0),d.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(p)})}_checkAndApplyAutoLinkOnRange(t){const s=this.editor.model,{text:a,range:d}=p7(t,s),p=nB(a);if(p){const w=s.createRange(d.end.getShiftedBy(-p.length),d.end);this._applyAutoLink(p,w)}}_applyAutoLink(t,s){const a=this.editor.model,d=vI(t,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(p,w){return w.schema.checkAttributeInSelection(w.createSelection(p),"linkHref")}(s,a)&&Y9(d)&&!function(p){const w=p.start.nodeAfter;return!!w&&w.hasAttribute("linkHref")}(s)&&this._persistAutoLink(d,s)}_persistAutoLink(t,s){const a=this.editor.model,d=this.editor.plugins.get("Delete");a.enqueueChange(p=>{p.setAttribute("linkHref",t,s),a.enqueueChange(()=>{d.requestUndoOnBackspace()})})}}function nB(f){const t=yae.exec(f);return t?t[2]:null}class iB extends cn{constructor(t,s){super(t),this.type=s}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const s=this.editor.model,a=s.document,d=Array.from(a.selection.getSelectedBlocks()).filter(w=>sB(w,s.schema)),p=t.forceValue!==void 0?!t.forceValue:this.value;s.change(w=>{if(p){let k=d[d.length-1].nextSibling,D=Number.POSITIVE_INFINITY,R=[];for(;k&&k.name=="listItem"&&k.getAttribute("listIndent")!==0;){const M=k.getAttribute("listIndent");M<D&&(D=M);const L=M-D;R.push({element:k,listIndent:L}),k=k.nextSibling}R=R.reverse();for(const M of R)w.setAttribute("listIndent",M.listIndent,M.element)}if(!p){let k=Number.POSITIVE_INFINITY;for(const D of d)D.is("element","listItem")&&D.getAttribute("listIndent")<k&&(k=D.getAttribute("listIndent"));k=k===0?1:k,rB(d,!0,k),rB(d,!1,k)}for(const k of d.reverse())p&&k.name=="listItem"?w.rename(k,"paragraph"):p||k.name=="listItem"?p||k.name!="listItem"||k.getAttribute("listType")==this.type||w.setAttribute("listType",this.type,k):(w.setAttributes({listType:this.type,listIndent:0},k),w.rename(k,"listItem"));this.fire("_executeCleanup",d)})}_getValue(){const t=ci(this.editor.model.document.selection.getSelectedBlocks());return!!t&&t.is("element","listItem")&&t.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.document.selection,s=this.editor.model.schema,a=ci(t.getSelectedBlocks());return!!a&&sB(a,s)}}function rB(f,t,s){const a=t?f[0]:f[f.length-1];if(a.is("element","listItem")){let d=a[t?"previousSibling":"nextSibling"],p=a.getAttribute("listIndent");for(;d&&d.is("element","listItem")&&d.getAttribute("listIndent")>=s;)p>d.getAttribute("listIndent")&&(p=d.getAttribute("listIndent")),d.getAttribute("listIndent")==p&&f[t?"unshift":"push"](d),d=d[t?"previousSibling":"nextSibling"]}}function sB(f,t){return t.checkChild(f.parent,"listItem")&&!t.isObject(f)}class oB extends cn{constructor(t,s){super(t),this._indentBy=s=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model,s=t.document;let a=Array.from(s.selection.getSelectedBlocks());t.change(d=>{const p=a[a.length-1];let w=p.nextSibling;for(;w&&w.name=="listItem"&&w.getAttribute("listIndent")>p.getAttribute("listIndent");)a.push(w),w=w.nextSibling;this._indentBy<0&&(a=a.reverse());for(const k of a){const D=k.getAttribute("listIndent")+this._indentBy;D<0?d.rename(k,"paragraph"):d.setAttribute("listIndent",D,k)}this.fire("_executeCleanup",a)})}_checkEnabled(){const t=ci(this.editor.model.document.selection.getSelectedBlocks());if(!t||!t.is("element","listItem"))return!1;if(this._indentBy>0){const s=t.getAttribute("listIndent"),a=t.getAttribute("listType");let d=t.previousSibling;for(;d&&d.is("element","listItem")&&d.getAttribute("listIndent")>=s;){if(d.getAttribute("listIndent")==s)return d.getAttribute("listType")==a;d=d.previousSibling}return!1}return!0}}function wae(f,t){const s=t.mapper,a=t.writer,d=f.getAttribute("listType")=="numbered"?"ol":"ul",p=function(k){const D=k.createContainerElement("li");return D.getFillerOffset=kae,D}(a),w=a.createContainerElement(d,null);return a.insert(a.createPositionAt(w,0),p),s.bindElements(f,p),p}function aB(f,t,s,a){const d=t.parent,p=s.mapper,w=s.writer;let k=p.toViewPosition(a.createPositionBefore(f));const D=cB(f.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:f.getAttribute("listIndent")}),R=f.previousSibling;if(D&&D.getAttribute("listIndent")==f.getAttribute("listIndent")){const M=p.toViewElement(D);k=w.breakContainer(w.createPositionAfter(M))}else if(R&&R.name=="listItem"){k=p.toViewPosition(a.createPositionAt(R,"end"));const M=p.findMappedViewAncestor(k),L=function(W){for(const Y of W.getChildren())if(Y.name=="ul"||Y.name=="ol")return Y;return null}(M);k=L?w.createPositionBefore(L):w.createPositionAt(M,"end")}else k=p.toViewPosition(a.createPositionBefore(f));if(k=lB(k),w.insert(k,d),R&&R.name=="listItem"){const M=p.toViewElement(R),L=w.createRange(w.createPositionAt(M,0),k).getWalker({ignoreElementEnd:!0});for(const W of L)if(W.item.is("element","li")){const Y=w.breakContainer(w.createPositionBefore(W.item)),se=W.item.parent,le=w.createPositionAt(t,"end");Ml(w,le.nodeBefore,le.nodeAfter),w.move(w.createRangeOn(se),le),L._position=Y}}else{const M=d.nextSibling;if(M&&(M.is("element","ul")||M.is("element","ol"))){let L=null;for(const W of M.getChildren()){const Y=p.toModelElement(W);if(!(Y&&Y.getAttribute("listIndent")>f.getAttribute("listIndent")))break;L=W}L&&(w.breakContainer(w.createPositionAfter(L)),w.move(w.createRangeOn(L.parent),w.createPositionAt(t,"end")))}}Ml(w,d,d.nextSibling),Ml(w,d.previousSibling,d)}function Ml(f,t,s){return!t||!s||t.name!="ul"&&t.name!="ol"||t.name!=s.name||t.getAttribute("class")!==s.getAttribute("class")?null:f.mergeContainers(f.createPositionAfter(t))}function lB(f){return f.getLastMatchingPosition(t=>t.item.is("uiElement"))}function cB(f,t){const s=!!t.sameIndent,a=!!t.smallerIndent,d=t.listIndent;let p=f;for(;p&&p.name=="listItem";){const w=p.getAttribute("listIndent");if(s&&d==w||a&&d>w)return p;p=t.direction==="forward"?p.nextSibling:p.previousSibling}return null}function uB(f,t,s,a){f.ui.componentFactory.add(t,d=>{const p=f.commands.get(t),w=new Mn(d);return w.set({label:s,icon:a,tooltip:!0,isToggleable:!0}),w.bind("isOn","isEnabled").to(p,"value","isEnabled"),w.on("execute",()=>{f.execute(t),f.editing.view.focus()}),w})}function kI(f,t){const s=[],a=f.parent,d={ignoreElementEnd:!1,startPosition:f,shallow:!0,direction:t},p=a.getAttribute("listIndent"),w=[...new jl(d)].filter(k=>k.item.is("element")).map(k=>k.item);for(const k of w){if(!k.is("element","listItem")||k.getAttribute("listIndent")<p)break;if(!(k.getAttribute("listIndent")>p)){if(k.getAttribute("listType")!==a.getAttribute("listType")||k.getAttribute("listStyle")!==a.getAttribute("listStyle")||k.getAttribute("listReversed")!==a.getAttribute("listReversed")||k.getAttribute("listStart")!==a.getAttribute("listStart"))break;t==="backward"?s.unshift(k):s.push(k)}}return s}const xae=["disc","circle","square"],_ae=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function kae(){const f=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||f?0:Rx.call(this)}class Eae extends it{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(t){return function(s){return xae.includes(s)?"bulleted":_ae.includes(s)?"numbered":null}(t)}getSelectedListItems(t){return function(s){let a=[...s.document.selection.getSelectedBlocks()].filter(d=>d.is("element","listItem")).map(d=>{const p=s.change(w=>w.createPositionAt(d,0));return[...kI(p,"backward"),...kI(p,"forward")]}).flat();return a=[...new Set(a)],a}(t)}getSiblingNodes(t,s){return kI(t,s)}}function dB(f){return(t,s,a)=>{const d=a.consumable;if(!d.test(s.item,"insert")||!d.test(s.item,"attribute:listType")||!d.test(s.item,"attribute:listIndent"))return;d.consume(s.item,"insert"),d.consume(s.item,"attribute:listType"),d.consume(s.item,"attribute:listIndent");const p=s.item;aB(p,wae(p,a),a,f)}}const Sae=(f,t,s)=>{if(!s.consumable.test(t.item,f.name))return;const a=s.mapper.toViewElement(t.item),d=s.writer;d.breakContainer(d.createPositionBefore(a)),d.breakContainer(d.createPositionAfter(a));const p=a.parent,w=t.attributeNewValue=="numbered"?"ol":"ul";d.rename(w,p)},Aae=(f,t,s)=>{s.consumable.consume(t.item,f.name);const a=s.mapper.toViewElement(t.item).parent,d=s.writer;Ml(d,a,a.nextSibling),Ml(d,a.previousSibling,a)},hB=(f,t,s)=>{if(s.consumable.test(t.item,f.name)&&t.item.name!="listItem"){let a=s.mapper.toViewPosition(t.range.start);const d=s.writer,p=[];for(;(a.parent.name=="ul"||a.parent.name=="ol")&&(a=d.breakContainer(a),a.parent.name=="li");){const w=a,k=d.createPositionAt(a.parent,"end");if(!w.isEqual(k)){const D=d.remove(d.createRange(w,k));p.push(D)}a=d.createPositionAfter(a.parent)}if(p.length>0){for(let w=0;w<p.length;w++){const k=a.nodeBefore;if(a=d.insert(a,p[w]).end,w>0){const D=Ml(d,k,k.nextSibling);D&&D.parent==k&&a.offset--}}Ml(d,a.nodeBefore,a.nodeAfter)}}},Cae=(f,t,s)=>{const a=s.mapper.toViewPosition(t.position),d=a.nodeBefore,p=a.nodeAfter;Ml(s.writer,d,p)},Tae=(f,t,s)=>{if(s.consumable.consume(t.viewItem,{name:!0})){const a=s.writer,d=a.createElement("listItem"),p=function(D){let R=0,M=D.parent;for(;M;){if(M.is("element","li"))R++;else{const L=M.previousSibling;L&&L.is("element","li")&&R++}M=M.parent}return R}(t.viewItem);a.setAttribute("listIndent",p,d);const w=t.viewItem.parent&&t.viewItem.parent.name=="ol"?"numbered":"bulleted";if(a.setAttribute("listType",w,d),!s.safeInsert(d,t.modelCursor))return;const k=function(D,R,M){const{writer:L,schema:W}=M;let Y=L.createPositionAfter(D);for(const se of R)if(se.name=="ul"||se.name=="ol")Y=M.convertItem(se,Y).modelCursor;else{const le=M.convertItem(se,L.createPositionAt(D,"end")),ve=le.modelRange.start.nodeAfter;ve&&ve.is("element")&&!W.checkChild(D,ve.name)&&(D=le.modelCursor.parent.is("element","listItem")?le.modelCursor.parent:Pae(le.modelCursor),Y=L.createPositionAfter(D))}return Y}(d,t.viewItem.getChildren(),s);t.modelRange=a.createRange(t.modelCursor,k),s.updateConversionResult(d,t)}},fB=(f,t,s)=>{if(s.consumable.test(t.viewItem,{name:!0})){const a=Array.from(t.viewItem.getChildren());for(const d of a)!(d.is("element","li")||lv(d))&&d._remove()}},Dae=(f,t,s)=>{if(s.consumable.test(t.viewItem,{name:!0})){if(t.viewItem.childCount===0)return;const a=[...t.viewItem.getChildren()];let d=!1;for(const p of a)d&&!lv(p)&&p._remove(),lv(p)&&(d=!0)}};function pB(f){return(t,s)=>{if(s.isPhantom)return;const a=s.modelPosition.nodeBefore;if(a&&a.is("element","listItem")){const d=s.mapper.toViewElement(a),p=d.getAncestors().find(lv),w=f.createPositionAt(d,0).getWalker();for(const k of w){if(k.type=="elementStart"&&k.item.is("element","li")){s.viewPosition=k.previousPosition;break}if(k.type=="elementEnd"&&k.item==p){s.viewPosition=k.nextPosition;break}}}}}const Nae=function(f,[t,s]){const a=this;let d,p=t.is("documentFragment")?t.getChild(0):t;if(d=s?a.createSelection(s):a.document.selection,p&&p.is("element","listItem")){const w=d.getFirstPosition();let k=null;if(w.parent.is("element","listItem")?k=w.parent:w.nodeBefore&&w.nodeBefore.is("element","listItem")&&(k=w.nodeBefore),k){const D=k.getAttribute("listIndent");if(D>0)for(;p&&p.is("element","listItem");)p._setAttribute("listIndent",p.getAttribute("listIndent")+D),p=p.nextSibling}}};function Pae(f){const t=new jl({startPosition:f});let s;do s=t.next();while(!s.value.item.is("element","listItem"));return s.value.item}function mB(f,t,s,a,d,p){const w=cB(t.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:f}),k=d.mapper,D=d.writer,R=w?w.getAttribute("listIndent"):null;let M;if(w)if(R==f){const L=k.toViewElement(w).parent;M=D.createPositionAfter(L)}else{const L=p.createPositionAt(w,"end");M=k.toViewPosition(L)}else M=s;M=lB(M);for(const L of[...a.getChildren()])lv(L)&&(M=D.move(D.createRangeOn(L),M).end,Ml(D,L,L.nextSibling),Ml(D,L.previousSibling,L))}function lv(f){return f.is("element","ol")||f.is("element","ul")}var uT=o(4784),K_={attributes:{"data-cke":!0}};K_.setAttributes=Tt(),K_.insert=Ot().bind(null,"head"),K_.domAPI=Rt(),K_.insertStyleElement=Mt(),jt()(uT.Z,K_),uT.Z&&uT.Z.locals&&uT.Z.locals;class Iae extends it{static get pluginName(){return"ListEditing"}static get requires(){return[jC,ah,Eae]}init(){const t=this.editor;t.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const s=t.data,a=t.editing;var d;t.model.document.registerPostFixer(w=>function(k,D){const R=k.document.differ.getChanges(),M=new Map;let L=!1;for(const le of R)if(le.type=="insert"&&le.name=="listItem")W(le.position);else if(le.type=="insert"&&le.name!="listItem"){if(le.name!="$text"){const ve=le.position.nodeAfter;ve.hasAttribute("listIndent")&&(D.removeAttribute("listIndent",ve),L=!0),ve.hasAttribute("listType")&&(D.removeAttribute("listType",ve),L=!0),ve.hasAttribute("listStyle")&&(D.removeAttribute("listStyle",ve),L=!0),ve.hasAttribute("listReversed")&&(D.removeAttribute("listReversed",ve),L=!0),ve.hasAttribute("listStart")&&(D.removeAttribute("listStart",ve),L=!0);for(const Pe of Array.from(k.createRangeIn(ve)).filter($e=>$e.item.is("element","listItem")))W(Pe.previousPosition)}W(le.position.getShiftedBy(le.length))}else le.type=="remove"&&le.name=="listItem"?W(le.position):(le.type=="attribute"&&le.attributeKey=="listIndent"||le.type=="attribute"&&le.attributeKey=="listType")&&W(le.range.start);for(const le of M.values())Y(le),se(le);return L;function W(le){const ve=le.nodeBefore;if(ve&&ve.is("element","listItem")){let Pe=ve;if(M.has(Pe))return;for(let $e=Pe.previousSibling;$e&&$e.is("element","listItem");$e=Pe.previousSibling)if(Pe=$e,M.has(Pe))return;M.set(ve,Pe)}else{const Pe=le.nodeAfter;Pe&&Pe.is("element","listItem")&&M.set(Pe,Pe)}}function Y(le){let ve=0,Pe=null;for(;le&&le.is("element","listItem");){const $e=le.getAttribute("listIndent");if($e>ve){let Qe;Pe===null?(Pe=$e-ve,Qe=ve):(Pe>$e&&(Pe=$e),Qe=$e-Pe),D.setAttribute("listIndent",Qe,le),L=!0}else Pe=null,ve=le.getAttribute("listIndent")+1;le=le.nextSibling}}function se(le){let ve=[],Pe=null;for(;le&&le.is("element","listItem");){const $e=le.getAttribute("listIndent");if(Pe&&Pe.getAttribute("listIndent")>$e&&(ve=ve.slice(0,$e+1)),$e!=0)if(ve[$e]){const Qe=ve[$e];le.getAttribute("listType")!=Qe&&(D.setAttribute("listType",Qe,le),L=!0)}else ve[$e]=le.getAttribute("listType");Pe=le,le=le.nextSibling}}}(t.model,w)),a.mapper.registerViewToModelLength("li",EI),s.mapper.registerViewToModelLength("li",EI),a.mapper.on("modelToViewPosition",pB(a.view)),a.mapper.on("viewToModelPosition",(d=t.model,(w,k)=>{const D=k.viewPosition,R=D.parent,M=k.mapper;if(R.name=="ul"||R.name=="ol"){if(D.isAtEnd){const L=M.toModelElement(D.nodeBefore),W=M.getModelLength(D.nodeBefore);k.modelPosition=d.createPositionBefore(L).getShiftedBy(W)}else{const L=M.toModelElement(D.nodeAfter);k.modelPosition=d.createPositionBefore(L)}w.stop()}else if(R.name=="li"&&D.nodeBefore&&(D.nodeBefore.name=="ul"||D.nodeBefore.name=="ol")){const L=M.toModelElement(R);let W=1,Y=D.nodeBefore;for(;Y&&lv(Y);)W+=M.getModelLength(Y),Y=Y.previousSibling;k.modelPosition=d.createPositionBefore(L).getShiftedBy(W),w.stop()}})),s.mapper.on("modelToViewPosition",pB(a.view)),t.conversion.for("editingDowncast").add(w=>{w.on("insert",hB,{priority:"high"}),w.on("insert:listItem",dB(t.model)),w.on("attribute:listType:listItem",Sae,{priority:"high"}),w.on("attribute:listType:listItem",Aae,{priority:"low"}),w.on("attribute:listIndent:listItem",function(k){return(D,R,M)=>{if(!M.consumable.consume(R.item,"attribute:listIndent"))return;const L=M.mapper.toViewElement(R.item),W=M.writer;W.breakContainer(W.createPositionBefore(L)),W.breakContainer(W.createPositionAfter(L));const Y=L.parent,se=Y.previousSibling,le=W.createRangeOn(Y);W.remove(le),se&&se.nextSibling&&Ml(W,se,se.nextSibling),mB(R.attributeOldValue+1,R.range.start,le.start,L,M,k),aB(R.item,L,M,k);for(const ve of R.item.getChildren())M.consumable.consume(ve,"insert")}}(t.model)),w.on("remove:listItem",function(k){return(D,R,M)=>{const L=M.mapper.toViewPosition(R.position).getLastMatchingPosition(Pe=>!Pe.item.is("element","li")).nodeAfter,W=M.writer;W.breakContainer(W.createPositionBefore(L)),W.breakContainer(W.createPositionAfter(L));const Y=L.parent,se=Y.previousSibling,le=W.createRangeOn(Y),ve=W.remove(le);se&&se.nextSibling&&Ml(W,se,se.nextSibling),mB(M.mapper.toModelElement(L).getAttribute("listIndent")+1,R.position,le.start,L,M,k);for(const Pe of W.createRangeIn(ve).getItems())M.mapper.unbindViewElement(Pe);D.stop()}}(t.model)),w.on("remove",Cae,{priority:"low"})}),t.conversion.for("dataDowncast").add(w=>{w.on("insert",hB,{priority:"high"}),w.on("insert:listItem",dB(t.model))}),t.conversion.for("upcast").add(w=>{w.on("element:ul",fB,{priority:"high"}),w.on("element:ol",fB,{priority:"high"}),w.on("element:li",Dae,{priority:"high"}),w.on("element:li",Tae)}),t.model.on("insertContent",Nae,{priority:"high"}),t.commands.add("numberedList",new iB(t,"numbered")),t.commands.add("bulletedList",new iB(t,"bulleted")),t.commands.add("indentList",new oB(t,"forward")),t.commands.add("outdentList",new oB(t,"backward"));const p=a.view.document;this.listenTo(p,"enter",(w,k)=>{const D=this.editor.model.document,R=D.selection.getLastPosition().parent;D.selection.isCollapsed&&R.name=="listItem"&&R.isEmpty&&(this.editor.execute("outdentList"),k.preventDefault(),w.stop())},{context:"li"}),this.listenTo(p,"delete",(w,k)=>{if(k.direction!=="backward")return;const D=this.editor.model.document.selection;if(!D.isCollapsed)return;const R=D.getFirstPosition();if(!R.isAtStart)return;const M=R.parent;M.name==="listItem"&&(M.previousSibling&&M.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),k.preventDefault(),w.stop()))},{context:"li"}),this.listenTo(t.editing.view.document,"tab",(w,k)=>{const D=k.shiftKey?"outdentList":"indentList";this.editor.commands.get(D).isEnabled&&(t.execute(D),k.stopPropagation(),k.preventDefault(),w.stop())},{context:"li"})}afterInit(){const t=this.editor.commands,s=t.get("indent"),a=t.get("outdent");s&&s.registerChildCommand(t.get("indentList")),a&&a.registerChildCommand(t.get("outdentList"))}}function EI(f){let t=1;for(const s of f.getChildren())if(s.name=="ul"||s.name=="ol")for(const a of s.getChildren())t+=EI(a);return t}class jae extends it{static get pluginName(){return"ListUI"}init(){const t=this.editor.t;uB(this.editor,"numberedList",t("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),uB(this.editor,"bulletedList",t("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}function gB(f,t){const s=(a,d,p)=>{if(!p.consumable.consume(d.item,a.name))return;const w=d.attributeNewValue,k=p.writer,D=p.mapper.toViewElement(d.item),R=[...D.getChildren()].find(L=>L.getCustomProperty("media-content"));k.remove(R);const M=f.getMediaViewElement(k,w,t);k.insert(k.createPositionAt(D,0),M)};return a=>{a.on("attribute:url:media",s)}}function bB(f,t,s,a){return f.createContainerElement("figure",{class:"media"},[t.getMediaViewElement(f,s,a),f.createSlot()])}function yB(f){const t=f.getSelectedElement();return t&&t.is("element","media")?t:null}function vB(f,t,s,a){f.change(d=>{const p=d.createElement("media",{url:t});f.insertObject(p,s,null,{setSelection:"on",findOptimalPosition:a?"auto":void 0})})}class Rae extends cn{refresh(){const t=this.editor.model,s=t.document.selection,a=yB(s);this.value=a?a.getAttribute("url"):void 0,this.isEnabled=function(d){const p=d.getSelectedElement();return!!p&&p.name==="media"}(s)||function(d,p){let k=T7(d,p).start.parent;return k.isEmpty&&!p.schema.isLimit(k)&&(k=k.parent),p.schema.checkChild(k,"media")}(s,t)}execute(t){const s=this.editor.model,a=s.document.selection,d=yB(a);d?s.change(p=>{p.setAttribute("url",t,d)}):vB(s,t,a,!0)}}class Mae{constructor(t,s){const a=s.providers,d=s.extraProviders||[],p=new Set(s.removeProviders),w=a.concat(d).filter(k=>{const D=k.name;return D?!p.has(D):(Z("media-embed-no-provider-name",{provider:k}),!1)});this.locale=t,this.providerDefinitions=w}hasMedia(t){return!!this._getMedia(t)}getMediaViewElement(t,s,a){return this._getMedia(s).getViewElement(t,a)}_getMedia(t){if(!t)return new wB(this.locale);t=t.trim();for(const s of this.providerDefinitions){const a=s.html,d=Rn(s.url);for(const p of d){const w=this._getUrlMatches(t,p);if(w)return new wB(this.locale,t,w,a)}}return null}_getUrlMatches(t,s){let a=t.match(s);if(a)return a;let d=t.replace(/^https?:\/\//,"");return a=d.match(s),a||(d=d.replace(/^www\./,""),a=d.match(s),a||null)}}class wB{constructor(t,s,a,d){this.url=this._getValidUrl(s),this._locale=t,this._match=a,this._previewRenderer=d}getViewElement(t,s){const a={};let d;if(s.renderForEditingView||s.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(a["data-oembed-url"]=this.url),s.renderForEditingView&&(a.class="ck-media__wrapper");const p=this._getPreviewHtml(s);d=t.createRawElement("div",a,(w,k)=>{k.setContentOf(w,p)})}else this.url&&(a.url=this.url),d=t.createEmptyElement(s.elementName,a);return t.setCustomProperty("media-content",!0,d),d}_getPreviewHtml(t){return this._previewRenderer?this._previewRenderer(this._match):this.url&&t.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const t=new zo,s=this._locale.t;return t.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',t.viewBox="0 0 64 42",new dr({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[t]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":s("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(t){return t?t.match(/^https?/)?t:"https://"+t:null}}var dT=o(1922),Z_={attributes:{"data-cke":!0}};Z_.setAttributes=Tt(),Z_.insert=Ot().bind(null,"head"),Z_.domAPI=Rt(),Z_.insertStyleElement=Mt(),jt()(dT.Z,Z_),dT.Z&&dT.Z.locals&&dT.Z.locals;class hT extends it{static get pluginName(){return"MediaEmbedEditing"}constructor(t){super(t),t.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:s=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${s[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:s=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${s[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:s=>{const a=s[1],d=s[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${a}${d?`?start=${d}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:s=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${s[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new Mae(t.locale,t.config.get("mediaEmbed"))}init(){const t=this.editor,s=t.model.schema,a=t.t,d=t.conversion,p=t.config.get("mediaEmbed.previewsInData"),w=t.config.get("mediaEmbed.elementName"),k=this.registry;t.commands.add("mediaEmbed",new Rae(t)),s.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),d.for("dataDowncast").elementToStructure({model:"media",view:(D,{writer:R})=>{const M=D.getAttribute("url");return bB(R,k,M,{elementName:w,renderMediaPreview:!!M&&p})}}),d.for("dataDowncast").add(gB(k,{elementName:w,renderMediaPreview:p})),d.for("editingDowncast").elementToStructure({model:"media",view:(D,{writer:R})=>{const M=D.getAttribute("url");return function(L,W,Y){return W.setCustomProperty("media",!0,L),JP(L,W,{label:Y})}(bB(R,k,M,{elementName:w,renderForEditingView:!0}),R,a("media widget"))}}),d.for("editingDowncast").add(gB(k,{elementName:w,renderForEditingView:!0})),d.for("upcast").elementToElement({view:D=>["oembed",w].includes(D.name)&&D.getAttribute("url")?{name:!0}:null,model:(D,{writer:R})=>{const M=D.getAttribute("url");return k.hasMedia(M)?R.createElement("media",{url:M}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(D,{writer:R})=>{const M=D.getAttribute("data-oembed-url");return k.hasMedia(M)?R.createElement("media",{url:M}):null}}).add(D=>{D.on("element:figure",(R,M,L)=>{if(!L.consumable.consume(M.viewItem,{name:!0,classes:"media"}))return;const{modelRange:W,modelCursor:Y}=L.convertChildren(M.viewItem,M.modelCursor);M.modelRange=W,M.modelCursor=Y,ci(W.getItems())||L.consumable.revert(M.viewItem,{name:!0,classes:"media"})})})}}const Oae=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class Fae extends it{static get requires(){return[V7,ah,G7]}static get pluginName(){return"AutoMediaEmbed"}constructor(t){super(t),this._timeoutId=null,this._positionToInsert=null}init(){const t=this.editor,s=t.model.document,a=t.plugins.get("ClipboardPipeline");this.listenTo(a,"inputTransformation",()=>{const d=s.selection.getFirstRange(),p=fs.fromPosition(d.start);p.stickiness="toPrevious";const w=fs.fromPosition(d.end);w.stickiness="toNext",s.once("change:data",()=>{this._embedMediaBetweenPositions(p,w),p.detach(),w.detach()},{priority:"high"})}),t.commands.get("undo").on("execute",()=>{this._timeoutId&&(de.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(t,s){const a=this.editor,d=a.plugins.get(hT).registry,p=new Na(t,s),w=p.getWalker({ignoreElementEnd:!0});let k="";for(const D of w)D.item.is("$textProxy")&&(k+=D.item.data);if(k=k.trim(),!k.match(Oae)||!d.hasMedia(k))return void p.detach();a.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=fs.fromPosition(t),this._timeoutId=de.window.setTimeout(()=>{a.model.change(D=>{this._timeoutId=null,D.remove(p),p.detach();let R=null;this._positionToInsert.root.rootName!=="$graveyard"&&(R=this._positionToInsert),vB(a.model,k,R,!1),this._positionToInsert.detach(),this._positionToInsert=null}),a.plugins.get(ah).requestUndoOnBackspace()},100)):p.detach()}}var fT=o(7138),Y_={attributes:{"data-cke":!0}};Y_.setAttributes=Tt(),Y_.insert=Ot().bind(null,"head"),Y_.domAPI=Rt(),Y_.insertStyleElement=Mt(),jt()(fT.Z,Y_),fT.Z&&fT.Z.locals&&fT.Z.locals;class Uae extends on{constructor(t,s){super(s);const a=s.t;this.focusTracker=new Hi,this.keystrokes=new _a,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(a("Save"),Kn.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",d=>!!d),this.cancelButtonView=this._createButton(a("Cancel"),Kn.cancel,"ck-button-cancel","cancel"),this._focusables=new Lo,this._focusCycler=new xc({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=t,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),h({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(s=>{this._focusables.add(s),this.focusTracker.add(s.element)}),this.keystrokes.listenTo(this.element);const t=s=>s.stopPropagation();this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(t){this.urlInputView.fieldView.element.value=t.trim()}isValid(){this.resetFormStatus();for(const t of this._validators){const s=t(this);if(s)return this.urlInputView.errorText=s,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const t=this.locale.t,s=new _u(this.locale,aC),a=s.fieldView;return this._urlInputViewInfoDefault=t("Paste the media URL in the input."),this._urlInputViewInfoTip=t("Tip: Paste the URL into the content to embed faster."),s.label=t("Media URL"),s.infoText=this._urlInputViewInfoDefault,a.on("input",()=>{s.infoText=a.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=a.element.value.trim()}),s}_createButton(t,s,a,d){const p=new Mn(this.locale);return p.set({label:t,icon:s,tooltip:!0}),p.extendTemplate({attributes:{class:a}}),d&&p.delegate("execute").to(this,d),p}}class Lae extends it{static get requires(){return[hT]}static get pluginName(){return"MediaEmbedUI"}init(){const t=this.editor,s=t.commands.get("mediaEmbed");t.ui.componentFactory.add("mediaEmbed",a=>{const d=Lu(a);return this._setUpDropdown(d,s),d})}_setUpDropdown(t,s){const a=this.editor,d=a.t,p=t.buttonView,w=a.plugins.get(hT).registry;t.once("change:isOpen",()=>{const k=new(u(Uae))(function(D,R){return[M=>{if(!M.url.length)return D("The URL must not be empty.")},M=>{if(!R.hasMedia(M.url))return D("This media URL is not supported.")}]}(a.t,w),a.locale);t.panelView.children.add(k),p.on("open",()=>{k.disableCssTransitions(),k.url=s.value||"",k.urlInputView.fieldView.select(),k.enableCssTransitions()},{priority:"low"}),t.on("submit",()=>{k.isValid()&&(a.execute("mediaEmbed",k.url),a.editing.view.focus())}),t.on("change:isOpen",()=>k.resetFormStatus()),t.on("cancel",()=>{a.editing.view.focus()}),k.delegate("submit","cancel").to(t),k.urlInputView.fieldView.bind("value").to(s,"value"),k.urlInputView.bind("isEnabled").to(s,"isEnabled")}),t.bind("isEnabled").to(s),p.set({label:d("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0})}}var pT=o(8705),J_={attributes:{"data-cke":!0}};J_.setAttributes=Tt(),J_.insert=Ot().bind(null,"head"),J_.domAPI=Rt(),J_.insertStyleElement=Mt(),jt()(pT.Z,J_),pT.Z&&pT.Z.locals&&pT.Z.locals;function Xi(f,t,s,a,d=1){t!=null&&d!=null&&t>d?a.setAttribute(f,t,s):a.removeAttribute(f,s)}function $g(f,t,s={}){const a=f.createElement("tableCell",s);return f.insertElement("paragraph",a),f.insert(a,t),a}function SI(f,t){const s=t.parent.parent,a=parseInt(s.getAttribute("headingColumns")||"0"),{column:d}=f.getCellLocation(t);return!!a&&d<a}function Bae(){return f=>{f.on("element:table",(t,s,a)=>{const d=s.viewItem;if(!a.consumable.test(d,{name:!0}))return;const{rows:p,headingRows:w,headingColumns:k}=function(M){let L,W=0;const Y=[],se=[];let le;for(const ve of Array.from(M.getChildren())){if(ve.name!=="tbody"&&ve.name!=="thead"&&ve.name!=="tfoot")continue;ve.name!=="thead"||le||(le=ve);const Pe=Array.from(ve.getChildren()).filter($e=>$e.is("element","tr"));for(const $e of Pe)if(le&&ve===le||ve.name==="tbody"&&Array.from($e.getChildren()).length&&Array.from($e.getChildren()).every(Qe=>Qe.is("element","th")))W++,Y.push($e);else{se.push($e);const Qe=zae($e);(!L||Qe<L)&&(L=Qe)}}return{headingRows:W,headingColumns:L||0,rows:[...Y,...se]}}(d),D={};k&&(D.headingColumns=k),w&&(D.headingRows=w);const R=a.writer.createElement("table",D);if(a.safeInsert(R,s.modelCursor)){if(a.consumable.consume(d,{name:!0}),p.forEach(M=>a.convertItem(M,a.writer.createPositionAt(R,"end"))),a.convertChildren(d,a.writer.createPositionAt(R,"end")),R.isEmpty){const M=a.writer.createElement("tableRow");a.writer.insert(M,a.writer.createPositionAt(R,"end")),$g(a.writer,a.writer.createPositionAt(M,"end"))}a.updateConversionResult(R,s)}})}}function xB(f){return t=>{t.on(`element:${f}`,(s,a,{writer:d})=>{if(!a.modelRange)return;const p=a.modelRange.start.nodeAfter,w=d.createPositionAt(p,0);if(a.viewItem.isEmpty)return void d.insertElement("paragraph",w);const k=Array.from(p.getChildren());if(k.every(D=>D.is("element","$marker"))){const D=d.createElement("paragraph");d.insert(D,d.createPositionAt(p,0));for(const R of k)d.move(d.createRangeOn(R),d.createPositionAt(D,"end"))}},{priority:"low"})}}function zae(f){let t=0,s=0;const a=Array.from(f.getChildren()).filter(d=>d.name==="th"||d.name==="td");for(;s<a.length&&a[s].name==="th";){const d=a[s];t+=parseInt(d.getAttribute("colspan")||"1"),s++}return t}class Zn{constructor(t,s={}){this._jumpedToStartRow=!1,this._table=t,this._startRow=s.row!==void 0?s.row:s.startRow||0,this._endRow=s.row!==void 0?s.row:s.endRow,this._startColumn=s.column!==void 0?s.column:s.startColumn||0,this._endColumn=s.column!==void 0?s.column:s.endColumn,this._includeAllSlots=!!s.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const t=this._table.getChild(this._rowIndex);if(!t||this._isOverEndRow())return{done:!0,value:void 0};if(!t.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let s=null;const a=this._getSpanned();if(a)this._includeAllSlots&&!this._shouldSkipSlot()&&(s=this._formatOutValue(a.cell,a.row,a.column));else{const d=t.getChild(this._cellIndex);if(!d)return this._advanceToNextRow();const p=parseInt(d.getAttribute("colspan")||"1"),w=parseInt(d.getAttribute("rowspan")||"1");(p>1||w>1)&&this._recordSpans(d,w,p),this._shouldSkipSlot()||(s=this._formatOutValue(d)),this._nextCellAtColumn=this._column+p}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,s||this.next()}skipRow(t){this._skipRows.add(t)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(t,s=this._row,a=this._column){return{done:!1,value:new Vae(this,t,s,a)}}_shouldSkipSlot(){const t=this._skipRows.has(this._row),s=this._row<this._startRow,a=this._column<this._startColumn,d=this._endColumn!==void 0&&this._column>this._endColumn;return t||s||a||d}_getSpanned(){const t=this._spannedCells.get(this._row);return t&&t.get(this._column)||null}_recordSpans(t,s,a){const d={cell:t,row:this._row,column:this._column};for(let p=this._row;p<this._row+s;p++)for(let w=this._column;w<this._column+a;w++)p==this._row&&w==this._column||this._markSpannedCell(p,w,d)}_markSpannedCell(t,s,a){this._spannedCells.has(t)||this._spannedCells.set(t,new Map),this._spannedCells.get(t).set(s,a)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const t=this._getRowLength(0);for(let s=this._startRow;!this._jumpedToStartRow;s--)t===this._getRowLength(s)&&(this._row=s,this._rowIndex=s,this._jumpedToStartRow=!0)}_getRowLength(t){return[...this._table.getChild(t).getChildren()].reduce((s,a)=>s+parseInt(a.getAttribute("colspan")||"1"),0)}}class Vae{constructor(t,s,a,d){this.cell=s,this.row=t._row,this.column=t._column,this.cellAnchorRow=a,this.cellAnchorColumn=d,this._cellIndex=t._cellIndex,this._rowIndex=t._rowIndex,this._table=t._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function _B(f,t){return(s,{writer:a})=>{const d=s.getAttribute("headingRows")||0,p=a.createContainerElement("table",null,[]),w=a.createContainerElement("figure",{class:"table"},p);d>0&&a.insert(a.createPositionAt(p,"end"),a.createContainerElement("thead",null,a.createSlot(k=>k.is("element","tableRow")&&k.index<d))),d<f.getRows(s)&&a.insert(a.createPositionAt(p,"end"),a.createContainerElement("tbody",null,a.createSlot(k=>k.is("element","tableRow")&&k.index>=d)));for(const{positionOffset:k,filter:D}of t.additionalSlots)a.insert(a.createPositionAt(p,k),a.createSlot(D));return a.insert(a.createPositionAt(p,"after"),a.createSlot(k=>!k.is("element","tableRow")&&!t.additionalSlots.some(({filter:D})=>D(k)))),t.asWidget?function(k,D){return D.setCustomProperty("table",!0,k),JP(k,D,{hasSelectionHandle:!0})}(w,a):w}}function kB(f={}){return(t,{writer:s})=>{const a=t.parent,d=a.parent,p=d.getChildIndex(a),w=new Zn(d,{row:p}),k=d.getAttribute("headingRows")||0,D=d.getAttribute("headingColumns")||0;let R=null;for(const M of w)if(M.cell==t){const L=M.row<k||M.column<D?"th":"td";R=f.asWidget?C7(s.createEditableElement(L),s):s.createContainerElement(L);break}return R}}function EB(f={}){return(t,{writer:s})=>{if(!t.parent.is("element","tableCell")||!SB(t))return null;if(f.asWidget)return s.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const a=s.createContainerElement("p");return s.setCustomProperty("dataPipeline:transparentRendering",!0,a),a}}}function SB(f){return f.parent.childCount==1&&!!f.getAttributeKeys().next().done}class Wae extends cn{refresh(){const t=this.editor.model,s=t.document.selection,a=t.schema;this.isEnabled=function(d,p){const w=d.getFirstPosition().parent,k=w===w.root?w:w.parent;return p.checkChild(k,"table")}(s,a)}execute(t={}){const s=this.editor,a=s.model,d=s.plugins.get("TableUtils"),p=s.config.get("table.defaultHeadings.rows"),w=s.config.get("table.defaultHeadings.columns");t.headingRows===void 0&&p&&(t.headingRows=p),t.headingColumns===void 0&&w&&(t.headingColumns=w),a.change(k=>{const D=d.createTable(k,t);a.insertObject(D,null,null,{findOptimalPosition:"auto"}),k.setSelection(k.createPositionAt(D.getNodeByPath([0,0,0]),0))})}}class AB extends cn{constructor(t,s={}){super(t),this.order=s.order||"below"}refresh(){const t=this.editor.model.document.selection,s=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(t).length;this.isEnabled=s}execute(){const t=this.editor,s=t.model.document.selection,a=t.plugins.get("TableUtils"),d=this.order==="above",p=a.getSelectionAffectedTableCells(s),w=a.getRowIndexes(p),k=d?w.first:w.last,D=p[0].findAncestor("table");a.insertRows(D,{at:d?k:k+1,copyStructureFromAbove:!d})}}class CB extends cn{constructor(t,s={}){super(t),this.order=s.order||"right"}refresh(){const t=this.editor.model.document.selection,s=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(t).length;this.isEnabled=s}execute(){const t=this.editor,s=t.model.document.selection,a=t.plugins.get("TableUtils"),d=this.order==="left",p=a.getSelectionAffectedTableCells(s),w=a.getColumnIndexes(p),k=d?w.first:w.last,D=p[0].findAncestor("table");a.insertColumns(D,{columns:1,at:d?k:k+1})}}class TB extends cn{constructor(t,s={}){super(t),this.direction=s.direction||"horizontally"}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length===1}execute(){const t=this.editor.plugins.get("TableUtils"),s=t.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?t.splitCellHorizontally(s,2):t.splitCellVertically(s,2)}}function DB(f,t,s){const{startRow:a,startColumn:d,endRow:p,endColumn:w}=t,k=s.createElement("table"),D=p-a+1;for(let M=0;M<D;M++)s.insertElement("tableRow",k,"end");const R=[...new Zn(f,{startRow:a,endRow:p,startColumn:d,endColumn:w,includeAllSlots:!0})];for(const{row:M,column:L,cell:W,isAnchor:Y,cellAnchorRow:se,cellAnchorColumn:le}of R){const ve=M-a,Pe=k.getChild(ve);if(Y){const $e=s.cloneElement(W);s.append($e,Pe),RB($e,M,L,p,w,s)}else(se<a||le<d)&&$g(s,s.createPositionAt(Pe,"end"))}return function(M,L,W,Y,se){const le=parseInt(L.getAttribute("headingRows")||"0");le>0&&Xi("headingRows",le-W,M,se,0);const ve=parseInt(L.getAttribute("headingColumns")||"0");ve>0&&Xi("headingColumns",ve-Y,M,se,0)}(k,f,a,d,s),k}function NB(f,t,s=0){const a=[],d=new Zn(f,{startRow:s,endRow:t-1});for(const p of d){const{row:w,cellHeight:k}=p;w<t&&t<=w+k-1&&a.push(p)}return a}function PB(f,t,s){const a=f.parent,d=a.parent,p=a.index,w=t-p,k={},D=parseInt(f.getAttribute("rowspan"))-w;D>1&&(k.rowspan=D);const R=parseInt(f.getAttribute("colspan")||"1");R>1&&(k.colspan=R);const M=p+w,L=[...new Zn(d,{startRow:p,endRow:M,includeAllSlots:!0})];let W,Y=null;for(const se of L){const{row:le,column:ve,cell:Pe}=se;Pe===f&&W===void 0&&(W=ve),W!==void 0&&W===ve&&le===M&&(Y=$g(s,se.getPositionBefore(),k))}return Xi("rowspan",w,f,s),Y}function IB(f,t){const s=[],a=new Zn(f);for(const d of a){const{column:p,cellWidth:w}=d;p<t&&t<=p+w-1&&s.push(d)}return s}function jB(f,t,s,a){const d=s-t,p={},w=parseInt(f.getAttribute("colspan"))-d;w>1&&(p.colspan=w);const k=parseInt(f.getAttribute("rowspan")||"1");k>1&&(p.rowspan=k);const D=$g(a,a.createPositionAfter(f),p);return Xi("colspan",d,f,a),D}function RB(f,t,s,a,d,p){const w=parseInt(f.getAttribute("colspan")||"1"),k=parseInt(f.getAttribute("rowspan")||"1");s+w-1>d&&Xi("colspan",d-s+1,f,p,1),t+k-1>a&&Xi("rowspan",a-t+1,f,p,1)}function AI(f,t){const s=t.getColumns(f),a=new Array(s).fill(0);for(const{column:p}of new Zn(f))a[p]++;const d=a.reduce((p,w,k)=>w?p:[...p,k],[]);if(d.length>0){const p=d[d.length-1];return t.removeColumns(f,{at:p}),!0}return!1}function CI(f,t){const s=[],a=t.getRows(f);for(let d=0;d<a;d++)f.getChild(d).isEmpty&&s.push(d);if(s.length>0){const d=s[s.length-1];return t.removeRows(f,{at:d}),!0}return!1}function TI(f,t){AI(f,t)||CI(f,t)}function MB(f,t){const s=Array.from(new Zn(f,{startColumn:t.firstColumn,endColumn:t.lastColumn,row:t.lastRow}));if(s.every(({cellHeight:d})=>d===1))return t.lastRow;const a=s[0].cellHeight-1;return t.lastRow+a}function OB(f,t){const s=Array.from(new Zn(f,{startRow:t.firstRow,endRow:t.lastRow,column:t.lastColumn}));if(s.every(({cellWidth:d})=>d===1))return t.lastColumn;const a=s[0].cellWidth-1;return t.lastColumn+a}class mT extends cn{constructor(t,s){super(t),this.direction=s.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const t=this._getMergeableCell();this.value=t,this.isEnabled=!!t}execute(){const t=this.editor.model,s=t.document,a=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(s.selection)[0],d=this.value,p=this.direction;t.change(w=>{const k=p=="right"||p=="down",D=k?a:d,R=k?d:a,M=R.parent;(function(le,ve,Pe){FB(le)||(FB(ve)&&Pe.remove(Pe.createRangeIn(ve)),Pe.move(Pe.createRangeIn(le),Pe.createPositionAt(ve,"end"))),Pe.remove(le)})(R,D,w);const L=this.isHorizontal?"colspan":"rowspan",W=parseInt(a.getAttribute(L)||"1"),Y=parseInt(d.getAttribute(L)||"1");w.setAttribute(L,W+Y,D),w.setSelection(w.createRangeIn(D));const se=this.editor.plugins.get("TableUtils");TI(M.findAncestor("table"),se)})}_getMergeableCell(){const t=this.editor.model.document,s=this.editor.plugins.get("TableUtils"),a=s.getTableCellsContainingSelection(t.selection)[0];if(!a)return;const d=this.isHorizontal?function(k,D,R){const M=k.parent,L=M.parent,W=D=="right"?k.nextSibling:k.previousSibling,Y=(L.getAttribute("headingColumns")||0)>0;if(!W)return;const se=D=="right"?k:W,le=D=="right"?W:k,{column:ve}=R.getCellLocation(se),{column:Pe}=R.getCellLocation(le),$e=parseInt(se.getAttribute("colspan")||"1"),Qe=SI(R,se),St=SI(R,le);if(!(Y&&Qe!=St))return ve+$e===Pe?W:void 0}(a,this.direction,s):function(k,D,R){const M=k.parent,L=M.parent,W=L.getChildIndex(M);if(D=="down"&&W===R.getRows(L)-1||D=="up"&&W===0)return null;const Y=parseInt(k.getAttribute("rowspan")||"1"),se=L.getAttribute("headingRows")||0,le=D=="down"&&W+Y===se,ve=D=="up"&&W===se;if(se&&(le||ve))return null;const Pe=parseInt(k.getAttribute("rowspan")||"1"),$e=D=="down"?W+Pe:W,Qe=[...new Zn(L,{endRow:$e})],St=Qe.find(Un=>Un.cell===k),tn=St.column,Fn=Qe.find(({row:Un,cellHeight:$r,column:vo})=>vo===tn&&(D=="down"?Un===$e:$e===Un+$r));return Fn&&Fn.cell?Fn.cell:null}(a,this.direction,s);if(!d)return;const p=this.isHorizontal?"rowspan":"colspan",w=parseInt(a.getAttribute(p)||"1");return parseInt(d.getAttribute(p)||"1")===w?d:void 0}}function FB(f){const t=f.getChild(0);return f.childCount==1&&t.is("element","paragraph")&&t.isEmpty}class $ae extends cn{refresh(){const t=this.editor.plugins.get("TableUtils"),s=t.getSelectionAffectedTableCells(this.editor.model.document.selection),a=s[0];if(a){const d=a.findAncestor("table"),p=t.getRows(d)-1,w=t.getRowIndexes(s),k=w.first===0&&w.last===p;this.isEnabled=!k}else this.isEnabled=!1}execute(){const t=this.editor.model,s=this.editor.plugins.get("TableUtils"),a=s.getSelectionAffectedTableCells(t.document.selection),d=s.getRowIndexes(a),p=a[0],w=p.findAncestor("table"),k=s.getCellLocation(p).column;t.change(D=>{const R=d.last-d.first+1;s.removeRows(w,{at:d.first,rows:R});const M=function(L,W,Y,se){const le=L.getChild(Math.min(W,se-1));let ve=le.getChild(0),Pe=0;for(const $e of le.getChildren()){if(Pe>Y)return ve;ve=$e,Pe+=parseInt($e.getAttribute("colspan")||"1")}return ve}(w,d.first,k,s.getRows(w));D.setSelection(D.createPositionAt(M,0))})}}class qae extends cn{refresh(){const t=this.editor.plugins.get("TableUtils"),s=t.getSelectionAffectedTableCells(this.editor.model.document.selection),a=s[0];if(a){const d=a.findAncestor("table"),p=t.getColumns(d),{first:w,last:k}=t.getColumnIndexes(s);this.isEnabled=k-w<p-1}else this.isEnabled=!1}execute(){const t=this.editor.plugins.get("TableUtils"),[s,a]=function(D,R){const M=R.getSelectionAffectedTableCells(D),L=M[0],W=M.pop(),Y=[L,W];return L.isBefore(W)?Y:Y.reverse()}(this.editor.model.document.selection,t),d=s.parent.parent,p=[...new Zn(d)],w={first:p.find(D=>D.cell===s).column,last:p.find(D=>D.cell===a).column},k=function(D,R,M,L){return parseInt(M.getAttribute("colspan")||"1")>1?M:R.previousSibling||M.nextSibling?M.nextSibling||R.previousSibling:L.first?D.reverse().find(({column:Y})=>Y<L.first).cell:D.reverse().find(({column:Y})=>Y>L.last).cell}(p,s,a,w);this.editor.model.change(D=>{const R=w.last-w.first+1;t.removeColumns(d,{at:w.first,columns:R}),D.setSelection(D.createPositionAt(k,0))})}}class Hae extends cn{refresh(){const t=this.editor.plugins.get("TableUtils"),s=this.editor.model,a=t.getSelectionAffectedTableCells(s.document.selection),d=a.length>0;this.isEnabled=d,this.value=d&&a.every(p=>this._isInHeading(p,p.parent.parent))}execute(t={}){if(t.forceValue===this.value)return;const s=this.editor.plugins.get("TableUtils"),a=this.editor.model,d=s.getSelectionAffectedTableCells(a.document.selection),p=d[0].findAncestor("table"),{first:w,last:k}=s.getRowIndexes(d),D=this.value?w:k+1,R=p.getAttribute("headingRows")||0;a.change(M=>{if(D){const L=NB(p,D,D>R?R:0);for(const{cell:W}of L)PB(W,D,M)}Xi("headingRows",D,p,M,0)})}_isInHeading(t,s){const a=parseInt(s.getAttribute("headingRows")||"0");return!!a&&t.parent.index<a}}class Gae extends cn{refresh(){const t=this.editor.model,s=this.editor.plugins.get("TableUtils"),a=s.getSelectionAffectedTableCells(t.document.selection),d=a.length>0;this.isEnabled=d,this.value=d&&a.every(p=>SI(s,p))}execute(t={}){if(t.forceValue===this.value)return;const s=this.editor.plugins.get("TableUtils"),a=this.editor.model,d=s.getSelectionAffectedTableCells(a.document.selection),p=d[0].findAncestor("table"),{first:w,last:k}=s.getColumnIndexes(d),D=this.value?w:k+1;a.change(R=>{if(D){const M=IB(p,D);for(const{cell:L,column:W}of M)jB(L,W,D,R)}Xi("headingColumns",D,p,R,0)})}}function Xae(f){if(f.is("element","tableColumnGroup"))return f;const t=f.getChildren();return Array.from(t).find(s=>s.is("element","tableColumnGroup"))}function Kae(f){const t=Xae(f);return t?Array.from(t.getChildren()):[]}class Bs extends it{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(t){const s=t.parent,a=s.parent,d=a.getChildIndex(s),p=new Zn(a,{row:d});for(const{cell:w,row:k,column:D}of p)if(w===t)return{row:k,column:D}}createTable(t,s){const a=t.createElement("table"),d=s.rows||2,p=s.columns||2;return DI(t,a,0,d,p),s.headingRows&&Xi("headingRows",Math.min(s.headingRows,d),a,t,0),s.headingColumns&&Xi("headingColumns",Math.min(s.headingColumns,p),a,t,0),a}insertRows(t,s={}){const a=this.editor.model,d=s.at||0,p=s.rows||1,w=s.copyStructureFromAbove!==void 0,k=s.copyStructureFromAbove?d-1:d,D=this.getRows(t),R=this.getColumns(t);if(d>D)throw new B("tableutils-insertrows-insert-out-of-range",this,{options:s});a.change(M=>{const L=t.getAttribute("headingRows")||0;if(L>d&&Xi("headingRows",L+p,t,M,0),!w&&(d===0||d===D))return void DI(M,t,d,p,R);const W=w?Math.max(d,k):d,Y=new Zn(t,{endRow:W}),se=new Array(R).fill(1);for(const{row:le,column:ve,cellHeight:Pe,cellWidth:$e,cell:Qe}of Y){const St=le+Pe-1,tn=le<=k&&k<=St;le<d&&d<=St?(M.setAttribute("rowspan",Pe+p,Qe),se[ve]=-$e):w&&tn&&(se[ve]=$e)}for(let le=0;le<p;le++){const ve=M.createElement("tableRow");M.insert(ve,t,d);for(let Pe=0;Pe<se.length;Pe++){const $e=se[Pe],Qe=M.createPositionAt(ve,"end");$e>0&&$g(M,Qe,$e>1?{colspan:$e}:void 0),Pe+=Math.abs($e)-1}}})}insertColumns(t,s={}){const a=this.editor.model,d=s.at||0,p=s.columns||1;a.change(w=>{const k=t.getAttribute("headingColumns");d<k&&w.setAttribute("headingColumns",k+p,t);const D=this.getColumns(t);if(d===0||D===d){for(const M of t.getChildren())M.is("element","tableRow")&&cv(p,w,w.createPositionAt(M,d?"end":0));return}const R=new Zn(t,{column:d,includeAllSlots:!0});for(const M of R){const{row:L,cell:W,cellAnchorColumn:Y,cellAnchorRow:se,cellWidth:le,cellHeight:ve}=M;if(Y<d){w.setAttribute("colspan",le+p,W);const Pe=se+ve-1;for(let $e=L;$e<=Pe;$e++)R.skipRow($e)}else cv(p,w,M.getPositionBefore())}})}removeRows(t,s){const a=this.editor.model,d=s.rows||1,p=this.getRows(t),w=s.at,k=w+d-1;if(k>p-1)throw new B("tableutils-removerows-row-index-out-of-range",this,{table:t,options:s});a.change(D=>{const R={first:w,last:k},{cellsToMove:M,cellsToTrim:L}=function(W,{first:Y,last:se}){const le=new Map,ve=[];for(const{row:Pe,column:$e,cellHeight:Qe,cell:St}of new Zn(W,{endRow:se})){const tn=Pe+Qe-1;if(Pe>=Y&&Pe<=se&&tn>se){const Fn=Qe-(se-Pe+1);le.set($e,{cell:St,rowspan:Fn})}if(Pe<Y&&tn>=Y){let Fn;Fn=tn>=se?se-Y+1:tn-Y+1,ve.push({cell:St,rowspan:Qe-Fn})}}return{cellsToMove:le,cellsToTrim:ve}}(t,R);M.size&&function(W,Y,se,le){const ve=new Zn(W,{includeAllSlots:!0,row:Y}),Pe=[...ve],$e=W.getChild(Y);let Qe;for(const{column:St,cell:tn,isAnchor:Fn}of Pe)if(se.has(St)){const{cell:Un,rowspan:$r}=se.get(St),vo=Qe?le.createPositionAfter(Qe):le.createPositionAt($e,0);le.move(le.createRangeOn(Un),vo),Xi("rowspan",$r,Un,le),Qe=Un}else Fn&&(Qe=tn)}(t,k+1,M,D);for(let W=k;W>=w;W--)D.remove(t.getChild(W));for(const{rowspan:W,cell:Y}of L)Xi("rowspan",W,Y,D);(function(W,{first:Y,last:se},le){const ve=W.getAttribute("headingRows")||0;Y<ve&&Xi("headingRows",se<ve?ve-(se-Y+1):Y,W,le,0)})(t,R,D),AI(t,this)||CI(t,this)})}removeColumns(t,s){const a=this.editor.model,d=s.at,p=s.columns||1,w=s.at+p-1;a.change(k=>{(function(R,M,L){const W=R.getAttribute("headingColumns")||0;if(W&&M.first<W){const Y=Math.min(W-1,M.last)-M.first+1;L.setAttribute("headingColumns",W-Y,R)}})(t,{first:d,last:w},k);const D=Kae(t);for(let R=w;R>=d;R--){for(const{cell:M,column:L,cellWidth:W}of[...new Zn(t)])L<=R&&W>1&&L+W>R?Xi("colspan",W-1,M,k):L===R&&k.remove(M);if(D[R]){const M=R===0?D[1]:D[R-1],L=parseFloat(D[R].getAttribute("columnWidth")),W=parseFloat(M.getAttribute("columnWidth"));k.remove(D[R]),k.setAttribute("columnWidth",L+W+"%",M)}}CI(t,this)||AI(t,this)})}splitCellVertically(t,s=2){const a=this.editor.model,d=t.parent.parent,p=parseInt(t.getAttribute("rowspan")||"1"),w=parseInt(t.getAttribute("colspan")||"1");a.change(k=>{if(w>1){const{newCellsSpan:D,updatedSpan:R}=UB(w,s);Xi("colspan",R,t,k);const M={};D>1&&(M.colspan=D),p>1&&(M.rowspan=p),cv(w>s?s-1:w-1,k,k.createPositionAfter(t),M)}if(w<s){const D=s-w,R=[...new Zn(d)],{column:M}=R.find(({cell:se})=>se===t),L=R.filter(({cell:se,cellWidth:le,column:ve})=>se!==t&&ve===M||ve<M&&ve+le>M);for(const{cell:se,cellWidth:le}of L)k.setAttribute("colspan",le+D,se);const W={};p>1&&(W.rowspan=p),cv(D,k,k.createPositionAfter(t),W);const Y=d.getAttribute("headingColumns")||0;Y>M&&Xi("headingColumns",Y+D,d,k)}})}splitCellHorizontally(t,s=2){const a=this.editor.model,d=t.parent,p=d.parent,w=p.getChildIndex(d),k=parseInt(t.getAttribute("rowspan")||"1"),D=parseInt(t.getAttribute("colspan")||"1");a.change(R=>{if(k>1){const M=[...new Zn(p,{startRow:w,endRow:w+k-1,includeAllSlots:!0})],{newCellsSpan:L,updatedSpan:W}=UB(k,s);Xi("rowspan",W,t,R);const{column:Y}=M.find(({cell:le})=>le===t),se={};L>1&&(se.rowspan=L),D>1&&(se.colspan=D);for(const le of M){const{column:ve,row:Pe}=le;Pe>=w+W&&ve===Y&&(Pe+w+W)%L==0&&cv(1,R,le.getPositionBefore(),se)}}if(k<s){const M=s-k,L=[...new Zn(p,{startRow:0,endRow:w})];for(const{cell:se,cellHeight:le,row:ve}of L)if(se!==t&&ve+le>w){const Pe=le+M;R.setAttribute("rowspan",Pe,se)}const W={};D>1&&(W.colspan=D),DI(R,p,w+1,M,1,W);const Y=p.getAttribute("headingRows")||0;Y>w&&Xi("headingRows",Y+M,p,R)}})}getColumns(t){return[...t.getChild(0).getChildren()].reduce((s,a)=>s+parseInt(a.getAttribute("colspan")||"1"),0)}getRows(t){return Array.from(t.getChildren()).reduce((s,a)=>a.is("element","tableRow")?s+1:s,0)}createTableWalker(t,s={}){return new Zn(t,s)}getSelectedTableCells(t){const s=[];for(const a of this.sortRanges(t.getRanges())){const d=a.getContainedElement();d&&d.is("element","tableCell")&&s.push(d)}return s}getTableCellsContainingSelection(t){const s=[];for(const a of t.getRanges()){const d=a.start.findAncestor("tableCell");d&&s.push(d)}return s}getSelectionAffectedTableCells(t){const s=this.getSelectedTableCells(t);return s.length?s:this.getTableCellsContainingSelection(t)}getRowIndexes(t){const s=t.map(a=>a.parent.index);return this._getFirstLastIndexesObject(s)}getColumnIndexes(t){const s=t[0].findAncestor("table"),a=[...new Zn(s)].filter(d=>t.includes(d.cell)).map(d=>d.column);return this._getFirstLastIndexesObject(a)}isSelectionRectangular(t){if(t.length<2||!this._areCellInTheSameTableSection(t))return!1;const s=new Set,a=new Set;let d=0;for(const w of t){const{row:k,column:D}=this.getCellLocation(w),R=parseInt(w.getAttribute("rowspan"))||1,M=parseInt(w.getAttribute("colspan"))||1;s.add(k),a.add(D),R>1&&s.add(k+R-1),M>1&&a.add(D+M-1),d+=R*M}return function(w,k){const D=Array.from(w.values()),R=Array.from(k.values()),M=Math.max(...D),L=Math.min(...D),W=Math.max(...R),Y=Math.min(...R);return(M-L+1)*(W-Y+1)}(s,a)==d}sortRanges(t){return Array.from(t).sort(Zae)}_getFirstLastIndexesObject(t){const s=t.sort((a,d)=>a-d);return{first:s[0],last:s[s.length-1]}}_areCellInTheSameTableSection(t){const s=t[0].findAncestor("table"),a=this.getRowIndexes(t),d=parseInt(s.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(a,d))return!1;const p=this.getColumnIndexes(t),w=parseInt(s.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(p,w)}_areIndexesInSameSection({first:t,last:s},a){return t<a==s<a}}function DI(f,t,s,a,d,p={}){for(let w=0;w<a;w++){const k=f.createElement("tableRow");f.insert(k,t,s),cv(d,f,f.createPositionAt(k,"end"),p)}}function cv(f,t,s,a={}){for(let d=0;d<f;d++)$g(t,s,a)}function UB(f,t){if(f<t)return{newCellsSpan:1,updatedSpan:1};const s=Math.floor(f/t);return{newCellsSpan:s,updatedSpan:f-s*t+s}}function Zae(f,t){const s=f.start,a=t.start;return s.isBefore(a)?-1:1}class Yae extends cn{refresh(){const t=this.editor.plugins.get(Bs),s=t.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=t.isSelectionRectangular(s)}execute(){const t=this.editor.model,s=this.editor.plugins.get(Bs);t.change(a=>{const d=s.getSelectedTableCells(t.document.selection),p=d.shift(),{mergeWidth:w,mergeHeight:k}=function(D,R,M){let L=0,W=0;for(const Pe of R){const{row:$e,column:Qe}=M.getCellLocation(Pe);L=BB(Pe,Qe,L,"colspan"),W=BB(Pe,$e,W,"rowspan")}const{row:Y,column:se}=M.getCellLocation(D),le=L-se,ve=W-Y;return{mergeWidth:le,mergeHeight:ve}}(p,d,s);Xi("colspan",w,p,a),Xi("rowspan",k,p,a);for(const D of d)Jae(D,p,a);TI(p.findAncestor("table"),s),a.setSelection(p,"in")})}}function Jae(f,t,s){LB(f)||(LB(t)&&s.remove(s.createRangeIn(t)),s.move(s.createRangeIn(f),s.createPositionAt(t,"end"))),s.remove(f)}function LB(f){const t=f.getChild(0);return f.childCount==1&&t.is("element","paragraph")&&t.isEmpty}function BB(f,t,s,a){const d=parseInt(f.getAttribute(a)||"1");return Math.max(s,t+d)}class Qae extends cn{constructor(t){super(t),this.affectsData=!1}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const t=this.editor.model,s=this.editor.plugins.get("TableUtils"),a=s.getSelectionAffectedTableCells(t.document.selection),d=s.getRowIndexes(a),p=a[0].findAncestor("table"),w=[];for(let k=d.first;k<=d.last;k++)for(const D of p.getChild(k).getChildren())w.push(t.createRangeOn(D));t.change(k=>{k.setSelection(w)})}}class ele extends cn{constructor(t){super(t),this.affectsData=!1}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const t=this.editor.plugins.get("TableUtils"),s=this.editor.model,a=t.getSelectionAffectedTableCells(s.document.selection),d=a[0],p=a.pop(),w=d.findAncestor("table"),k=t.getCellLocation(d),D=t.getCellLocation(p),R=Math.min(k.column,D.column),M=Math.max(k.column,D.column),L=[];for(const W of new Zn(w,{startColumn:R,endColumn:M}))L.push(s.createRangeOn(W.cell));s.change(W=>{W.setSelection(L)})}}function tle(f){f.document.registerPostFixer(t=>function(s,a){const d=a.document.differ.getChanges();let p=!1;const w=new Set;for(const k of d){let D=null;k.type=="insert"&&k.name=="table"&&(D=k.position.nodeAfter),k.type!="insert"&&k.type!="remove"||k.name!="tableRow"&&k.name!="tableCell"||(D=k.position.findAncestor("table")),rle(k)&&(D=k.range.start.findAncestor("table")),D&&!w.has(D)&&(p=nle(D,s)||p,p=ile(D,s)||p,w.add(D))}return p}(t,f))}function nle(f,t){let s=!1;const a=function(d){const p=parseInt(d.getAttribute("headingRows")||"0"),w=Array.from(d.getChildren()).reduce((D,R)=>R.is("element","tableRow")?D+1:D,0),k=[];for(const{row:D,cell:R,cellHeight:M}of new Zn(d)){if(M<2)continue;const L=D<p?p:w;if(D+M>L){const W=L-D;k.push({cell:R,rowspan:W})}}return k}(f);if(a.length){s=!0;for(const d of a)Xi("rowspan",d.rowspan,d.cell,t,1)}return s}function ile(f,t){let s=!1;const a=function(k){const D=new Array(k.childCount).fill(0);for(const{rowIndex:R}of new Zn(k,{includeAllSlots:!0}))D[R]++;return D}(f),d=[];for(const[k,D]of a.entries())!D&&f.getChild(k).is("element","tableRow")&&d.push(k);if(d.length){s=!0;for(const k of d.reverse())t.remove(f.getChild(k)),a.splice(k,1)}const p=a.filter((k,D)=>f.getChild(D).is("element","tableRow")),w=p[0];if(!p.every(k=>k===w)){const k=p.reduce((D,R)=>R>D?R:D,0);for(const[D,R]of p.entries()){const M=k-R;if(M){for(let L=0;L<M;L++)$g(t,t.createPositionAt(f.getChild(D),"end"));s=!0}}}return s}function rle(f){if(f.type!=="attribute")return!1;const t=f.attributeKey;return t==="headingRows"||t==="colspan"||t==="rowspan"}function sle(f){f.document.registerPostFixer(t=>function(s,a){const d=a.document.differ.getChanges();let p=!1;for(const w of d)w.type=="insert"&&w.name=="table"&&(p=ole(w.position.nodeAfter,s)||p),w.type=="insert"&&w.name=="tableRow"&&(p=zB(w.position.nodeAfter,s)||p),w.type=="insert"&&w.name=="tableCell"&&(p=NI(w.position.nodeAfter,s)||p),w.type!="remove"&&w.type!="insert"||!ale(w)||(p=NI(w.position.parent,s)||p);return p}(t,f))}function ole(f,t){let s=!1;for(const a of f.getChildren())a.is("element","tableRow")&&(s=zB(a,t)||s);return s}function zB(f,t){let s=!1;for(const a of f.getChildren())s=NI(a,t)||s;return s}function NI(f,t){if(f.childCount==0)return t.insertElement("paragraph",f),!0;const s=Array.from(f.getChildren()).filter(a=>a.is("$text"));for(const a of s)t.wrap(t.createRangeOn(a),"paragraph");return!!s.length}function ale(f){return!!f.position.parent.is("element","tableCell")&&(f.type=="insert"&&f.name=="$text"||f.type=="remove")}function lle(f,t){if(!f.is("element","paragraph"))return!1;const s=t.toViewElement(f);return!!s&&SB(f)!==s.is("element","span")}var gT=o(8361),Q_={attributes:{"data-cke":!0}};Q_.setAttributes=Tt(),Q_.insert=Ot().bind(null,"head"),Q_.domAPI=Rt(),Q_.insertStyleElement=Mt(),jt()(gT.Z,Q_),gT.Z&&gT.Z.locals&&gT.Z.locals;class cle extends it{static get pluginName(){return"TableEditing"}static get requires(){return[Bs]}constructor(t){super(t),this._additionalSlots=[]}init(){const t=this.editor,s=t.model,a=s.schema,d=t.conversion,p=t.plugins.get(Bs);a.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),a.register("tableRow",{allowIn:"table",isLimit:!0}),a.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),d.for("upcast").add(w=>{w.on("element:figure",(k,D,R)=>{if(!R.consumable.test(D.viewItem,{name:!0,classes:"table"}))return;const M=function(W){for(const Y of W.getChildren())if(Y.is("element","table"))return Y}(D.viewItem);if(!M||!R.consumable.test(M,{name:!0}))return;R.consumable.consume(D.viewItem,{name:!0,classes:"table"});const L=ci(R.convertItem(M,D.modelCursor).modelRange.getItems());L?(R.convertChildren(D.viewItem,R.writer.createPositionAt(L,"end")),R.updateConversionResult(L,D)):R.consumable.revert(D.viewItem,{name:!0,classes:"table"})})}),d.for("upcast").add(Bae()),d.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:_B(p,{asWidget:!0,additionalSlots:this._additionalSlots})}),d.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:_B(p,{additionalSlots:this._additionalSlots})}),d.for("upcast").elementToElement({model:"tableRow",view:"tr"}),d.for("upcast").add(w=>{w.on("element:tr",(k,D)=>{D.viewItem.isEmpty&&D.modelCursor.index==0&&k.stop()},{priority:"high"})}),d.for("downcast").elementToElement({model:"tableRow",view:(w,{writer:k})=>w.isEmpty?k.createEmptyElement("tr"):k.createContainerElement("tr")}),d.for("upcast").elementToElement({model:"tableCell",view:"td"}),d.for("upcast").elementToElement({model:"tableCell",view:"th"}),d.for("upcast").add(xB("td")),d.for("upcast").add(xB("th")),d.for("editingDowncast").elementToElement({model:"tableCell",view:kB({asWidget:!0})}),d.for("dataDowncast").elementToElement({model:"tableCell",view:kB()}),d.for("editingDowncast").elementToElement({model:"paragraph",view:EB({asWidget:!0}),converterPriority:"high"}),d.for("dataDowncast").elementToElement({model:"paragraph",view:EB(),converterPriority:"high"}),d.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),d.for("upcast").attributeToAttribute({model:{key:"colspan",value:VB("colspan")},view:"colspan"}),d.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),d.for("upcast").attributeToAttribute({model:{key:"rowspan",value:VB("rowspan")},view:"rowspan"}),t.config.define("table.defaultHeadings.rows",0),t.config.define("table.defaultHeadings.columns",0),t.commands.add("insertTable",new Wae(t)),t.commands.add("insertTableRowAbove",new AB(t,{order:"above"})),t.commands.add("insertTableRowBelow",new AB(t,{order:"below"})),t.commands.add("insertTableColumnLeft",new CB(t,{order:"left"})),t.commands.add("insertTableColumnRight",new CB(t,{order:"right"})),t.commands.add("removeTableRow",new $ae(t)),t.commands.add("removeTableColumn",new qae(t)),t.commands.add("splitTableCellVertically",new TB(t,{direction:"vertically"})),t.commands.add("splitTableCellHorizontally",new TB(t,{direction:"horizontally"})),t.commands.add("mergeTableCells",new Yae(t)),t.commands.add("mergeTableCellRight",new mT(t,{direction:"right"})),t.commands.add("mergeTableCellLeft",new mT(t,{direction:"left"})),t.commands.add("mergeTableCellDown",new mT(t,{direction:"down"})),t.commands.add("mergeTableCellUp",new mT(t,{direction:"up"})),t.commands.add("setTableColumnHeader",new Gae(t)),t.commands.add("setTableRowHeader",new Hae(t)),t.commands.add("selectTableRow",new Qae(t)),t.commands.add("selectTableColumn",new ele(t)),tle(s),sle(s),this.listenTo(s.document,"change:data",()=>{(function(w,k){const D=w.document.differ;for(const R of D.getChanges()){let M,L=!1;if(R.type=="attribute"){const le=R.range.start.nodeAfter;if(!le||!le.is("element","table")||R.attributeKey!="headingRows"&&R.attributeKey!="headingColumns")continue;M=le,L=R.attributeKey=="headingRows"}else R.name!="tableRow"&&R.name!="tableCell"||(M=R.position.findAncestor("table"),L=R.name=="tableRow");if(!M)continue;const W=M.getAttribute("headingRows")||0,Y=M.getAttribute("headingColumns")||0,se=new Zn(M);for(const le of se){const ve=le.row<W||le.column<Y?"th":"td",Pe=k.mapper.toViewElement(le.cell);Pe&&Pe.is("element")&&Pe.name!=ve&&k.reconvertItem(L?le.cell.parent:le.cell)}}})(s,t.editing),function(w,k){const D=w.document.differ,R=new Set;for(const M of D.getChanges()){const L=M.type=="attribute"?M.range.start.parent:M.position.parent;L.is("element","tableCell")&&R.add(L)}for(const M of R.values()){const L=Array.from(M.getChildren()).filter(W=>lle(W,k.mapper));for(const W of L)k.reconvertItem(W)}}(s,t.editing)})}registerAdditionalSlot(t){this._additionalSlots.push(t)}}function VB(f){return t=>{const s=parseInt(t.getAttribute(f));return Number.isNaN(s)||s<=0?null:s}}var bT=o(468),ek={attributes:{"data-cke":!0}};ek.setAttributes=Tt(),ek.insert=Ot().bind(null,"head"),ek.domAPI=Rt(),ek.insertStyleElement=Mt(),jt()(bT.Z,ek),bT.Z&&bT.Z.locals&&bT.Z.locals;class ule extends on{constructor(t){super(t);const s=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new _a,this.focusTracker=new Hi,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(a,d)=>`${d} × ${a}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":s.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:s.to("label")}]}],on:{mousedown:s.to(a=>{a.preventDefault()}),click:s.to(()=>{this.fire("execute")})}}),this.on("boxover",(a,d)=>{const{row:p,column:w}=d.target.dataset;this.items.get(10*(parseInt(p,10)-1)+(parseInt(w,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(a,d,p)=>{if(!p)return;const{row:w,column:k}=p.dataset;this.set({rows:parseInt(w),columns:parseInt(k)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),function({keystrokeHandler:t,focusTracker:s,gridItems:a,numberOfColumns:d,uiLanguageDirection:p}){const w=()=>d;function k(M){return L=>{const W=a.find(le=>le.element===s.focusedElement),Y=a.getIndex(W),se=M(Y,a);a.get(se).focus(),L.stopPropagation(),L.preventDefault()}}function D(M,L){return M===L-1?0:M+1}function R(M,L){return M===0?L-1:M-1}t.set("arrowright",k((M,L)=>p==="rtl"?R(M,L.length):D(M,L.length))),t.set("arrowleft",k((M,L)=>p==="rtl"?D(M,L.length):R(M,L.length))),t.set("arrowup",k((M,L)=>{let W=M-w();return W<0&&(W=M+w()*Math.floor(L.length/w()),W>L.length-1&&(W-=w())),W})),t.set("arrowdown",k((M,L)=>{let W=M+w();return W>L.length-1&&(W=M%w()),W}))}({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const t of this.items)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const t=this.rows,s=this.columns;this.items.map((a,d)=>{const p=Math.floor(d/10)<t&&d%10<s;a.set("isOn",p)})}_createGridButton(t,s,a,d){const p=new Mn(t);return p.set({label:d,class:"ck-insert-table-dropdown-grid-box"}),p.extendTemplate({attributes:{"data-row":s,"data-column":a}}),p}_createGridCollection(){const t=[];for(let s=0;s<100;s++){const a=Math.floor(s/10),d=s%10,p=`${a+1} × ${d+1}`;t.push(this._createGridButton(this.locale,a+1,d+1,p))}return this.createCollection(t)}}class dle extends it{static get pluginName(){return"TableUI"}init(){const t=this.editor,s=this.editor.t,a=t.locale.contentLanguageDirection==="ltr";t.ui.componentFactory.add("insertTable",d=>{const p=t.commands.get("insertTable"),w=Lu(d);let k;return w.bind("isEnabled").to(p),w.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:s("Insert table"),tooltip:!0}),w.on("change:isOpen",()=>{k||(k=new ule(d),w.panelView.children.add(k),k.delegate("execute").to(w),w.on("execute",()=>{t.execute("insertTable",{rows:k.rows,columns:k.columns}),t.editing.view.focus()}))}),w}),t.ui.componentFactory.add("tableColumn",d=>{const p=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:s("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:a?"insertTableColumnLeft":"insertTableColumnRight",label:s("Insert column left")}},{type:"button",model:{commandName:a?"insertTableColumnRight":"insertTableColumnLeft",label:s("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:s("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:s("Select column")}}];return this._prepareDropdown(s("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',p,d)}),t.ui.componentFactory.add("tableRow",d=>{const p=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:s("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:s("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:s("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:s("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:s("Select row")}}];return this._prepareDropdown(s("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',p,d)}),t.ui.componentFactory.add("mergeTableCells",d=>{const p=[{type:"button",model:{commandName:"mergeTableCellUp",label:s("Merge cell up")}},{type:"button",model:{commandName:a?"mergeTableCellRight":"mergeTableCellLeft",label:s("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:s("Merge cell down")}},{type:"button",model:{commandName:a?"mergeTableCellLeft":"mergeTableCellRight",label:s("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:s("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:s("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(s("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',p,d)})}_prepareDropdown(t,s,a,d){const p=this.editor,w=Lu(d),k=this._fillDropdownWithListOptions(w,a);return w.buttonView.set({label:t,icon:s,tooltip:!0}),w.bind("isEnabled").toMany(k,"isEnabled",(...D)=>D.some(R=>R)),this.listenTo(w,"execute",D=>{p.execute(D.source.commandName),D.source instanceof xu||p.editing.view.focus()}),w}_prepareMergeSplitButtonDropdown(t,s,a,d){const p=this.editor,w=Lu(d,iC),k="mergeTableCells",D=p.commands.get(k),R=this._fillDropdownWithListOptions(w,a);return w.buttonView.set({label:t,icon:s,tooltip:!0,isEnabled:!0}),w.bind("isEnabled").toMany([D,...R],"isEnabled",(...M)=>M.some(L=>L)),this.listenTo(w.buttonView,"execute",()=>{p.execute(k),p.editing.view.focus()}),this.listenTo(w,"execute",M=>{p.execute(M.source.commandName),p.editing.view.focus()}),w}_fillDropdownWithListOptions(t,s){const a=this.editor,d=[],p=new Os;for(const w of s)hle(w,a,d,p);return oC(t,p),d}}function hle(f,t,s,a){if(f.type==="button"||f.type==="switchbutton"){const d=f.model=new gC(f.model),{commandName:p,bindIsOn:w}=f.model,k=t.commands.get(p);s.push(k),d.set({commandName:p}),d.bind("isEnabled").to(k),w&&d.bind("isOn").to(k,"value"),d.set({withText:!0})}a.add(f)}var yT=o(1546),tk={attributes:{"data-cke":!0}};tk.setAttributes=Tt(),tk.insert=Ot().bind(null,"head"),tk.domAPI=Rt(),tk.insertStyleElement=Mt(),jt()(yT.Z,tk),yT.Z&&yT.Z.locals&&yT.Z.locals;class qg extends it{static get pluginName(){return"TableSelection"}static get requires(){return[Bs,Bs]}init(){const t=this.editor,s=t.model,a=t.editing.view;this.listenTo(s,"deleteContent",(d,p)=>this._handleDeleteContent(d,p),{priority:"high"}),this.listenTo(a.document,"insertText",(d,p)=>this._handleInsertTextEvent(d,p),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const t=this.editor.plugins.get(Bs),s=this.editor.model.document.selection,a=t.getSelectedTableCells(s);return a.length==0?null:a}getSelectionAsFragment(){const t=this.editor.plugins.get(Bs),s=this.getSelectedTableCells();return s?this.editor.model.change(a=>{const d=a.createDocumentFragment(),{first:p,last:w}=t.getColumnIndexes(s),{first:k,last:D}=t.getRowIndexes(s),R=s[0].findAncestor("table");let M=D,L=w;if(t.isSelectionRectangular(s)){const Y={firstColumn:p,lastColumn:w,firstRow:k,lastRow:D};M=MB(R,Y),L=OB(R,Y)}const W=DB(R,{startRow:k,startColumn:p,endRow:M,endColumn:L},a);return a.insert(W,d,0),d}):null}setCellSelection(t,s){const a=this._getCellsToSelect(t,s);this.editor.model.change(d=>{d.setSelection(a.cells.map(p=>d.createRangeOn(p)),{backward:a.backward})})}getFocusCell(){const t=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return t&&t.is("element","tableCell")?t:null}getAnchorCell(){const t=ci(this.editor.model.document.selection.getRanges()).getContainedElement();return t&&t.is("element","tableCell")?t:null}_defineSelectionConverter(){const t=this.editor,s=new Set;t.conversion.for("editingDowncast").add(a=>a.on("selection",(d,p,w)=>{const k=w.writer;(function(M){for(const L of s)M.removeClass("ck-editor__editable_selected",L);s.clear()})(k);const D=this.getSelectedTableCells();if(!D)return;for(const M of D){const L=w.mapper.toViewElement(M);k.addClass("ck-editor__editable_selected",L),s.add(L)}const R=w.mapper.toViewElement(D[D.length-1]);k.setSelection(R,0)},{priority:"lowest"}))}_enablePluginDisabling(){const t=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const s=this.getSelectedTableCells();if(!s)return;t.model.change(a=>{const d=a.createPositionAt(s[0],0),p=t.model.schema.getNearestSelectionRange(d);a.setSelection(p)})}})}_handleDeleteContent(t,s){const a=this.editor.plugins.get(Bs),d=s[0],p=s[1],w=this.editor.model,k=!p||p.direction=="backward",D=a.getSelectedTableCells(d);D.length&&(t.stop(),w.change(R=>{const M=D[k?D.length-1:0];w.change(W=>{for(const Y of D)w.deleteContent(W.createSelection(Y,"in"))});const L=w.schema.getNearestSelectionRange(R.createPositionAt(M,0));d.is("documentSelection")?R.setSelection(L):d.setTo(L)}))}_handleInsertTextEvent(t,s){const a=this.editor,d=this.getSelectedTableCells();if(!d)return;const p=a.editing.view,w=a.editing.mapper,k=d.map(D=>p.createRangeOn(w.toViewElement(D)));s.selection=p.createSelection(k)}_getCellsToSelect(t,s){const a=this.editor.plugins.get("TableUtils"),d=a.getCellLocation(t),p=a.getCellLocation(s),w=Math.min(d.row,p.row),k=Math.max(d.row,p.row),D=Math.min(d.column,p.column),R=Math.max(d.column,p.column),M=new Array(k-w+1).fill(null).map(()=>[]),L={startRow:w,endRow:k,startColumn:D,endColumn:R};for(const{row:se,cell:le}of new Zn(t.findAncestor("table"),L))M[se-w].push(le);const W=p.row<d.row,Y=p.column<d.column;return W&&M.reverse(),Y&&M.forEach(se=>se.reverse()),{cells:M.flat(),backward:W||Y}}}class fle extends it{static get pluginName(){return"TableClipboard"}static get requires(){return[qg,Bs]}init(){const t=this.editor,s=t.editing.view.document;this.listenTo(s,"copy",(a,d)=>this._onCopyCut(a,d)),this.listenTo(s,"cut",(a,d)=>this._onCopyCut(a,d)),this.listenTo(t.model,"insertContent",(a,[d,p])=>this._onInsertContent(a,d,p),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(t,s){const a=this.editor.plugins.get(qg);if(!a.getSelectedTableCells()||t.name=="cut"&&!this.editor.model.canEditAt(this.editor.model.document.selection))return;s.preventDefault(),t.stop();const d=this.editor.data,p=this.editor.editing.view.document,w=d.toView(a.getSelectionAsFragment());p.fire("clipboardOutput",{dataTransfer:s.dataTransfer,content:w,method:t.name})}_onInsertContent(t,s,a){if(a&&!a.is("documentSelection"))return;const d=this.editor.model,p=this.editor.plugins.get(Bs);let w=this.getTableIfOnlyTableInContent(s,d);if(!w)return;const k=p.getSelectionAffectedTableCells(d.document.selection);k.length?(t.stop(),d.change(D=>{const R={width:p.getColumns(w),height:p.getRows(w)},M=function(ve,Pe,$e,Qe){const St=ve[0].findAncestor("table"),tn=Qe.getColumnIndexes(ve),Fn=Qe.getRowIndexes(ve),Un={firstColumn:tn.first,lastColumn:tn.last,firstRow:Fn.first,lastRow:Fn.last},$r=ve.length===1;return $r&&(Un.lastRow+=Pe.height-1,Un.lastColumn+=Pe.width-1,function(vo,kT,Hg,pp){const uv=pp.getColumns(vo),dv=pp.getRows(vo);Hg>uv&&pp.insertColumns(vo,{at:uv,columns:Hg-uv}),kT>dv&&pp.insertRows(vo,{at:dv,rows:kT-dv})}(St,Un.lastRow+1,Un.lastColumn+1,Qe)),$r||!Qe.isSelectionRectangular(ve)?function(vo,kT,Hg){const{firstRow:pp,lastRow:uv,firstColumn:dv,lastColumn:KB}=kT,ZB={first:pp,last:uv},YB={first:dv,last:KB};II(vo,dv,ZB,Hg),II(vo,KB+1,ZB,Hg),PI(vo,pp,YB,Hg),PI(vo,uv+1,YB,Hg,pp)}(St,Un,$e):(Un.lastRow=MB(St,Un),Un.lastColumn=OB(St,Un)),Un}(k,R,D,p),L=M.lastRow-M.firstRow+1,W=M.lastColumn-M.firstColumn+1,Y={startRow:0,startColumn:0,endRow:Math.min(L,R.height)-1,endColumn:Math.min(W,R.width)-1};w=DB(w,Y,D);const se=k[0].findAncestor("table"),le=this._replaceSelectedCellsWithPasted(w,R,se,M,D);if(this.editor.plugins.get("TableSelection").isEnabled){const ve=p.sortRanges(le.map(Pe=>D.createRangeOn(Pe)));D.setSelection(ve)}else D.setSelection(le[0],0)})):TI(w,p)}_replaceSelectedCellsWithPasted(t,s,a,d,p){const{width:w,height:k}=s,D=function(ve,Pe,$e){const Qe=new Array($e).fill(null).map(()=>new Array(Pe).fill(null));for(const{column:St,row:tn,cell:Fn}of new Zn(ve))Qe[tn][St]=Fn;return Qe}(t,w,k),R=[...new Zn(a,{startRow:d.firstRow,endRow:d.lastRow,startColumn:d.firstColumn,endColumn:d.lastColumn,includeAllSlots:!0})],M=[];let L;for(const ve of R){const{row:Pe,column:$e}=ve;$e===d.firstColumn&&(L=ve.getPositionBefore());const Qe=Pe-d.firstRow,St=$e-d.firstColumn,tn=D[Qe%k][St%w],Fn=tn?p.cloneElement(tn):null,Un=this._replaceTableSlotCell(ve,Fn,L,p);Un&&(RB(Un,Pe,$e,d.lastRow,d.lastColumn,p),M.push(Un),L=p.createPositionAfter(Un))}const W=parseInt(a.getAttribute("headingRows")||"0"),Y=parseInt(a.getAttribute("headingColumns")||"0"),se=d.firstRow<W&&W<=d.lastRow,le=d.firstColumn<Y&&Y<=d.lastColumn;if(se){const ve=PI(a,W,{first:d.firstColumn,last:d.lastColumn},p,d.firstRow);M.push(...ve)}if(le){const ve=II(a,Y,{first:d.firstRow,last:d.lastRow},p);M.push(...ve)}return M}_replaceTableSlotCell(t,s,a,d){const{cell:p,isAnchor:w}=t;return w&&d.remove(p),s?(d.insert(s,a),s):null}getTableIfOnlyTableInContent(t,s){if(!t.is("documentFragment")&&!t.is("element"))return null;if(t.is("element","table"))return t;if(t.childCount==1&&t.getChild(0).is("element","table"))return t.getChild(0);const a=s.createRangeIn(t);for(const d of a.getItems())if(d.is("element","table")){const p=s.createRange(a.start,s.createPositionBefore(d));if(s.hasContent(p,{ignoreWhitespaces:!0}))return null;const w=s.createRange(s.createPositionAfter(d),a.end);return s.hasContent(w,{ignoreWhitespaces:!0})?null:d}return null}}function PI(f,t,s,a,d=0){if(!(t<1))return NB(f,t,d).filter(({column:p,cellWidth:w})=>WB(p,w,s)).map(({cell:p})=>PB(p,t,a))}function II(f,t,s,a){if(!(t<1))return IB(f,t).filter(({row:d,cellHeight:p})=>WB(d,p,s)).map(({cell:d,column:p})=>jB(d,p,t,a))}function WB(f,t,s){const a=f+t-1,{first:d,last:p}=s;return f>=d&&f<=p||f<d&&a>=d}class ple extends it{static get pluginName(){return"TableKeyboard"}static get requires(){return[qg,Bs]}init(){const t=this.editor.editing.view.document;this.listenTo(t,"arrowKey",(...s)=>this._onArrowKey(...s),{context:"table"}),this.listenTo(t,"tab",(...s)=>this._handleTabOnSelectedTable(...s),{context:"figure"}),this.listenTo(t,"tab",(...s)=>this._handleTab(...s),{context:["th","td"]})}_handleTabOnSelectedTable(t,s){const a=this.editor,d=a.model.document.selection.getSelectedElement();d&&d.is("element","table")&&(s.preventDefault(),s.stopPropagation(),t.stop(),a.model.change(p=>{p.setSelection(p.createRangeIn(d.getChild(0).getChild(0)))}))}_handleTab(t,s){const a=this.editor,d=this.editor.plugins.get(Bs),p=this.editor.plugins.get("TableSelection"),w=a.model.document.selection,k=!s.shiftKey;let D=d.getTableCellsContainingSelection(w)[0];if(D||(D=p.getFocusCell()),!D)return;s.preventDefault(),s.stopPropagation(),t.stop();const R=D.parent,M=R.parent,L=M.getChildIndex(R),W=R.getChildIndex(D),Y=W===0;if(!k&&Y&&L===0)return void a.model.change(Pe=>{Pe.setSelection(Pe.createRangeOn(M))});const se=W===R.childCount-1,le=L===d.getRows(M)-1;if(k&&le&&se&&(a.execute("insertTableRowBelow"),L===d.getRows(M)-1))return void a.model.change(Pe=>{Pe.setSelection(Pe.createRangeOn(M))});let ve;if(k&&se)ve=M.getChild(L+1).getChild(0);else if(!k&&Y){const Pe=M.getChild(L-1);ve=Pe.getChild(Pe.childCount-1)}else ve=R.getChild(W+(k?1:-1));a.model.change(Pe=>{Pe.setSelection(Pe.createRangeIn(ve))})}_onArrowKey(t,s){const a=this.editor,d=vu(s.keyCode,a.locale.contentLanguageDirection);this._handleArrowKeys(d,s.shiftKey)&&(s.preventDefault(),s.stopPropagation(),t.stop())}_handleArrowKeys(t,s){const a=this.editor.plugins.get(Bs),d=this.editor.plugins.get("TableSelection"),p=this.editor.model,w=p.document.selection,k=["right","down"].includes(t),D=a.getSelectedTableCells(w);if(D.length){let M;return M=s?d.getFocusCell():k?D[D.length-1]:D[0],this._navigateFromCellInDirection(M,t,s),!0}const R=w.focus.findAncestor("tableCell");if(!R)return!1;if(!w.isCollapsed)if(s){if(w.isBackward==k&&!w.containsEntireContent(R))return!1}else{const M=w.getSelectedElement();if(!M||!p.schema.isObject(M))return!1}return!!this._isSelectionAtCellEdge(w,R,k)&&(this._navigateFromCellInDirection(R,t,s),!0)}_isSelectionAtCellEdge(t,s,a){const d=this.editor.model,p=this.editor.model.schema,w=a?t.getLastPosition():t.getFirstPosition();if(!p.getLimitElement(w).is("element","tableCell"))return d.createPositionAt(s,a?"end":0).isTouching(w);const k=d.createSelection(w);return d.modifySelection(k,{direction:a?"forward":"backward"}),w.isEqual(k.focus)}_navigateFromCellInDirection(t,s,a=!1){const d=this.editor.model,p=t.findAncestor("table"),w=[...new Zn(p,{includeAllSlots:!0})],{row:k,column:D}=w[w.length-1],R=w.find(({cell:le})=>le==t);let{row:M,column:L}=R;switch(s){case"left":L--;break;case"up":M--;break;case"right":L+=R.cellWidth;break;case"down":M+=R.cellHeight}if(M<0||M>k||L<0&&M<=0||L>D&&M>=k)return void d.change(le=>{le.setSelection(le.createRangeOn(p))});L<0?(L=a?0:D,M--):L>D&&(L=a?D:0,M++);const W=w.find(le=>le.row==M&&le.column==L).cell,Y=["right","down"].includes(s),se=this.editor.plugins.get("TableSelection");if(a&&se.isEnabled){const le=se.getAnchorCell()||t;se.setCellSelection(le,W)}else{const le=d.createPositionAt(W,Y?0:"end");d.change(ve=>{ve.setSelection(le)})}}}class mle extends Cc{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(t){this.fire(t.type,t)}}class gle extends it{static get pluginName(){return"TableMouse"}static get requires(){return[qg,Bs]}init(){this.editor.editing.view.addObserver(mle),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const t=this.editor,s=t.plugins.get(Bs);let a=!1;const d=t.plugins.get(qg);this.listenTo(t.editing.view.document,"mousedown",(p,w)=>{const k=t.model.document.selection;if(!this.isEnabled||!d.isEnabled||!w.domEvent.shiftKey)return;const D=d.getAnchorCell()||s.getTableCellsContainingSelection(k)[0];if(!D)return;const R=this._getModelTableCellFromDomEvent(w);R&&$B(D,R)&&(a=!0,d.setCellSelection(D,R),w.preventDefault())}),this.listenTo(t.editing.view.document,"mouseup",()=>{a=!1}),this.listenTo(t.editing.view.document,"selectionChange",p=>{a&&p.stop()},{priority:"highest"})}_enableMouseDragSelection(){const t=this.editor;let s,a,d=!1,p=!1;const w=t.plugins.get(qg);this.listenTo(t.editing.view.document,"mousedown",(k,D)=>{this.isEnabled&&w.isEnabled&&(D.domEvent.shiftKey||D.domEvent.ctrlKey||D.domEvent.altKey||(s=this._getModelTableCellFromDomEvent(D)))}),this.listenTo(t.editing.view.document,"mousemove",(k,D)=>{if(!D.domEvent.buttons||!s)return;const R=this._getModelTableCellFromDomEvent(D);R&&$B(s,R)&&(a=R,d||a==s||(d=!0)),d&&(p=!0,w.setCellSelection(s,a),D.preventDefault())}),this.listenTo(t.editing.view.document,"mouseup",()=>{d=!1,p=!1,s=null,a=null}),this.listenTo(t.editing.view.document,"selectionChange",k=>{p&&k.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(t){const s=t.target,a=this.editor.editing.view.createPositionAt(s,0);return this.editor.editing.mapper.toModelPosition(a).parent.findAncestor("tableCell",{includeSelf:!0})}}function $B(f,t){return f.parent.parent==t.parent.parent}var vT=o(2510),nk={attributes:{"data-cke":!0}};nk.setAttributes=Tt(),nk.insert=Ot().bind(null,"head"),nk.domAPI=Rt(),nk.insertStyleElement=Mt(),jt()(vT.Z,nk),vT.Z&&vT.Z.locals&&vT.Z.locals;function ble(f){const t=f.getSelectedElement();return t&&qB(t)?t:null}function yle(f){const t=f.getFirstPosition();if(!t)return null;let s=t.parent;for(;s;){if(s.is("element")&&qB(s))return s;s=s.parent}return null}function qB(f){return!!f.getCustomProperty("table")&&Er(f)}var zu=o(7294),vle=o(3935),wle=o(2968),HB=o.n(wle),wT=o(9330),ik={attributes:{"data-cke":!0}};ik.setAttributes=Tt(),ik.insert=Ot().bind(null,"head"),ik.domAPI=Rt(),ik.insertStyleElement=Mt(),jt()(wT.Z,ik),wT.Z&&wT.Z.locals&&wT.Z.locals;let xT="TN-IIz68YhmPLsEAbVD4WA3RucFcJNZBy-G0UlhaqSM";const{useState:_T,useEffect:GB,useRef:xle}=zu,_le=f=>{let[t,s]=_T(null),[a,d]=_T(""),[p,w]=_T(!1),[k,D]=_T(1);const R=xle(null),M=L=>{const W=L.target;W.scrollTop+W.clientHeight+50>=W.scrollHeight&&w(!0)};return GB(()=>{const L=document.getElementById("dnx-photo-list");return L.addEventListener("scroll",M),()=>L.removeEventListener("scroll",M)},[]),GB(()=>{R.current.focus(),(k===1||a&&p&&k<=5)&&(L=>{HB().get(L.url).then(function(W){L.onSuccess&&L.onSuccess(W)}).catch(W=>{L.onFailure&&L.onFailure()})})({url:a?`${"https://api.unsplash.com/search/photos/?per_page=30&page="+k+"&client_id="+xT}&query=${a}`:"https://api.unsplash.com/photos/random/?count=30&client_id="+xT,onSuccess:L=>{const W=Array.isArray(L.body)?L.body:L.body.results;t=t===null?W:t.concat(W),s(t),W.length>0&&(D(k+1),w(!1))},onFailure:()=>{s([])}})},[a,p]),zu.createElement("div",{className:"dnx-box"},zu.createElement("form",{id:"unsplash-search",className:"unsplash-search form",onSubmit:L=>{L.preventDefault(),s(null),D(1),d(R.current.value)}},zu.createElement("input",{id:"dnx-unsplash-search-input",ref:R,placeholder:"Search Photos on Unsplash",type:"search",className:"input",defaultValue:"",style:{marginBottom:20}})),zu.createElement("ul",{id:"dnx-photo-list",className:"dnx-photo-grid"},t===null&&zu.createElement("p",null,"Loading..."),t!==null&&t.length===0&&zu.createElement("p",null,"No results"),t!==null&&t.length>0&&t.map(L=>zu.createElement("li",{key:L.id},zu.createElement("img",{src:L.urls.regular,onClick:()=>f.handleSelect(L)})))))};function XB(f,t,s,a){s.model.schema.extend(t,{allowAttributes:["customClass"]}),s.conversion.for("upcast").add(jI(f,a),{priority:"low"}),s.conversion.for("downcast").add(function(d,p,w){return k=>k.on(`insert:${p}`,(D,R,M)=>{const L=R.item,W=M.mapper.toViewElement(L);if(!W)return;const Y=function(le,ve,Pe){return Array.from(Pe.writer.createRangeIn(le).getItems()).find(Qe=>Qe.is("element",ve))}(W,d,M),se=L.getAttribute("customClass")||w;M.writer.addClass(se,Y)})}(f,t,a),{priority:"low"})}function jI(f,t=[]){return s=>s.on(`element:${f}`,(a,d,p)=>{d.viewItem;const w=d.modelRange,k=w&&w.start.nodeAfter;if(!k)return;const D=k.getAttribute("customClass")||t;p.writer.setAttribute("customClass",D,k)})}class RI extends TC{}RI.builtinPlugins=[class extends it{static get requires(){return[V7,jC,$se,E7,fse,G7]}static get pluginName(){return"Essentials"}},class extends it{static get requires(){return[ah]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const f=this.editor.commands;f.get("bulletedList")&&fp(this.editor,this,/^[*-]\s$/,"bulletedList"),f.get("numberedList")&&fp(this.editor,this,/^1[.|)]\s$/,"numberedList"),f.get("todoList")&&fp(this.editor,this,/^\[\s?\]\s$/,"todoList"),f.get("checkTodoList")&&fp(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const f=this.editor.commands;if(f.get("bold")){const t=VC(this.editor,"bold");sv(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,t),sv(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,t)}if(f.get("italic")){const t=VC(this.editor,"italic");sv(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,t),sv(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,t)}if(f.get("code")){const t=VC(this.editor,"code");sv(this.editor,this,/(`)([^`]+)(`)$/g,t)}if(f.get("strikethrough")){const t=VC(this.editor,"strikethrough");sv(this.editor,this,/(~~)([^~]+)(~~)$/g,t)}}_addHeadingAutoformats(){const f=this.editor.commands.get("heading");f&&f.modelElements.filter(t=>t.match(/^heading[1-6]$/)).forEach(t=>{const s=t[7],a=new RegExp(`^(#{${s}})\\s$`);fp(this.editor,this,a,()=>{if(!f.isEnabled||f.value===t)return!1;this.editor.execute("heading",{value:t})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&fp(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const f=this.editor,t=f.model.document.selection;f.commands.get("codeBlock")&&fp(f,this,/^```$/,()=>{if(t.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&fp(this.editor,this,/^---$/,"horizontalLine")}},class extends it{static get requires(){return[Yse,Jse]}static get pluginName(){return"Bold"}},class extends it{static get requires(){return[Qse,eoe]}static get pluginName(){return"Italic"}},class extends it{static get requires(){return[toe,noe]}static get pluginName(){return"Code"}},class extends it{static get requires(){return[loe,coe]}static get pluginName(){return"CodeBlock"}},class extends it{static get requires(){return[doe,hoe]}static get pluginName(){return"BlockQuote"}},class extends it{static get requires(){return[goe,boe]}static get pluginName(){return"Heading"}},class extends it{static get requires(){return[Soe,Coe]}static get pluginName(){return"Image"}},class extends it{static get requires(){return[Doe,Noe]}static get pluginName(){return"ImageCaption"}},class extends it{static get requires(){return[A9,joe]}static get pluginName(){return"ImageStyle"}},class extends it{static get requires(){return[FC,Ia]}static get pluginName(){return"ImageToolbar"}afterInit(){const f=this.editor,t=f.t,s=f.plugins.get(FC),a=f.plugins.get("ImageUtils");var d;s.register("image",{ariaLabel:t("Image toolbar"),items:(d=f.config.get("image.toolbar")||[],d.map(p=>Me(p)?p.name:p)),getRelatedElement:p=>a.getClosestSelectedImageWidget(p)})}},class extends it{static get pluginName(){return"ImageUpload"}static get requires(){return[Voe,Loe,Boe]}},class extends it{static get requires(){return[U9,Hoe,qoe]}static get pluginName(){return"ImageResize"}},class extends it{static get requires(){return[Wg]}static get pluginName(){return"Base64UploadAdapter"}init(){this.editor.plugins.get(Wg).createUploadAdapter=f=>new Foe(f)}},class extends it{init(){const f=this.editor;f.ui.componentFactory.add("insertImage",t=>{const s=new Mn(t);return s.set({label:"Insert image url",icon:'<svg height="512pt" viewBox="0 -107 512 512" width="512pt" xmlns="http://www.w3.org/2000/svg"><path d="m362.667969 298.667969h-42.667969c-11.777344 0-21.332031-9.539063-21.332031-21.335938s9.554687-21.332031 21.332031-21.332031h42.667969c58.816406 0 106.664062-47.851562 106.664062-106.667969 0-58.816406-47.847656-106.664062-106.664062-106.664062h-42.667969c-11.777344 0-21.332031-9.539063-21.332031-21.335938s9.554687-21.332031 21.332031-21.332031h42.667969c82.34375 0 149.332031 67.007812 149.332031 149.332031 0 82.328125-66.988281 149.335938-149.332031 149.335938zm0 0"/><path d="m192 298.667969h-42.667969c-82.34375 0-149.332031-67.007813-149.332031-149.335938 0-82.324219 66.988281-149.332031 149.332031-149.332031h42.667969c11.777344 0 21.332031 9.535156 21.332031 21.332031s-9.554687 21.335938-21.332031 21.335938h-42.667969c-58.816406 0-106.664062 47.847656-106.664062 106.664062 0 58.816407 47.847656 106.667969 106.664062 106.667969h42.667969c11.777344 0 21.332031 9.535156 21.332031 21.332031s-9.554687 21.335938-21.332031 21.335938zm0 0"/><path d="m320 170.667969h-128c-11.777344 0-21.332031-9.539063-21.332031-21.335938s9.554687-21.332031 21.332031-21.332031h128c11.777344 0 21.332031 9.535156 21.332031 21.332031s-9.554687 21.335938-21.332031 21.335938zm0 0"/></svg>',tooltip:!0}),s.on("execute",()=>{const a=prompt("Image URL");if(!a)return!1;f.model.change(d=>{const p=d.createElement("image",{src:a});f.model.insertContent(p,f.model.document.selection)})}),s})}},class extends it{init(){const f=this.editor;f.clientID&&(xT=f.clientID),f.ui.componentFactory.add("insertImageFromUnsplash",t=>{const s=new Mn(t);return s.set({label:"Add an image from Unsplash",icon:'<svg fill="#000000" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="512px" height="512px"><path d="M19.116,5c0.969,0,1.797,0.693,1.969,1.647l0.127,0.707C21.382,8.306,22.211,9,23.18,9H26c1.103,0,2,0.897,2,2v13c0,1.103-0.897,2-2,2H6c-1.103,0-2-0.897-2-2V11c0-1.103,0.897-2,2-2h2.82c0.968,0,1.797-0.694,1.969-1.647l0.127-0.707C11.087,5.693,11.915,5,12.884,5H19.116 M19.116,3h-6.231c-1.937,0-3.595,1.387-3.937,3.293L8.82,7H6c-2.209,0-4,1.791-4,4v13c0,2.209,1.791,4,4,4h20c2.209,0,4-1.791,4-4V11c0-2.209-1.791-4-4-4h-2.82l-0.127-0.707C22.711,4.387,21.052,3,19.116,3L19.116,3z"/><path d="M16,13c2.481,0,4.5,2.019,4.5,4.5S18.481,22,16,22s-4.5-2.019-4.5-4.5S13.519,13,16,13 M16,11c-3.59,0-6.5,2.91-6.5,6.5S12.41,24,16,24s6.5-2.91,6.5-6.5S19.59,11,16,11L16,11z"/></svg>',tooltip:!0}),s.on("execute",()=>{let a=document.querySelector("#dnx-modal"),d=document.querySelector("#dnx-modal-overlay");if(a)a.classList.toggle("closed"),d.classList.toggle("closed"),document.querySelector("body").style.overflow=a.classList.contains("closed")?"visible":"hidden",document.getElementById("dnx-unsplash-search-input").focus();else{const p=document.createElement("div");p.id="dnx-modal-wrapper",p.innerHTML=`<div class="dnx-modal-overlay" id="dnx-modal-overlay"></div>
          <div class="dnx-modal" id="dnx-modal">
            <a href="#" class="dnx-close-button" id="dnx-close-button"></a>
            <div class="modal-guts">
              <div id="unsplash-dna"></div>
            </div>
          </div>`,document.body.appendChild(p),document.querySelector("body").style.overflow="hidden";const w=document.querySelector("#dnx-close-button");a=document.querySelector("#dnx-modal"),d=document.querySelector("#dnx-modal-overlay"),w.addEventListener("click",function(k){k.preventDefault(),a.classList.toggle("closed"),d.classList.toggle("closed"),document.querySelector("body").style.overflow="visible"})}vle.render(zu.createElement(_le,{handleSelect:async p=>{if(!p.urls&&!p.urls.regular)return!1;let w="";if(p.links){w=((k,D)=>{let R=k;return R+=(R.split("?")[1]?"&":"?")+D,R})(p.links.download_location,"client_id="+xT);try{await HB().get(w)}catch(k){console.log("ERR",k)}}return f.model.change(k=>{const D=k.createElement("imageBlock",{src:p.urls.regular});if(p.user){const{name:R,links:M}=p.user;let L=M?M.html:"https://unsplash.com";L+="?utm_source=DNX&utm_medium=referral";const W=k.createElement("caption");k.appendText("Photo by ",W),k.appendText(R,{linkHref:L},W),k.appendText(" on ",W),k.appendText("Unsplash",{linkHref:"https://unsplash.com/?utm_source=DNX&utm_medium=referral"},W),k.append(W,D)}f.model.insertContent(D,f.model.document.selection)}),a.classList.toggle("closed"),d.classList.toggle("closed"),document.querySelector("body").style.overflow="visible",s}}),document.getElementById("unsplash-dna"))}),s})}},class extends it{static get pluginName(){return"Indent"}static get requires(){return[Goe,Xoe]}},class extends it{static get requires(){return[pae,bae,vae]}static get pluginName(){return"Link"}},class extends it{static get requires(){return[Iae,jae]}static get pluginName(){return"List"}},class extends it{static get requires(){return[hT,Lae,Fae,D_]}static get pluginName(){return"MediaEmbed"}},M_,class extends it{static get requires(){return[cle,dle,qg,gle,ple,fle,D_]}static get pluginName(){return"Table"}},class extends it{static get requires(){return[FC]}static get pluginName(){return"TableToolbar"}afterInit(){const f=this.editor,t=f.t,s=f.plugins.get(FC),a=f.config.get("table.contentToolbar"),d=f.config.get("table.tableToolbar");a&&s.register("tableContent",{ariaLabel:t("Table toolbar"),items:a,getRelatedElement:yle}),d&&s.register("table",{ariaLabel:t("Table toolbar"),items:d,getRelatedElement:ble})}},class extends it{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(f){super(f),f.config.define("typing",{transformations:{include:pse}})}init(){const f=this.editor.model.document.selection;f.on("change:range",()=>{this.isEnabled=!f.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const f=this.editor,t=f.model,s=f.plugins.get("Delete"),a=function(p){const w=p.extra||[],k=p.remove||[],D=R=>!k.includes(R);return function(R){const M=new Set;for(const L of R)if(typeof L=="string"&&b7[L])for(const W of b7[L])M.add(W);else M.add(L);return Array.from(M)}(p.include.concat(w).filter(D)).filter(D).map(R=>typeof R=="string"&&g7[R]?g7[R]:R).filter(R=>typeof R=="object").map(R=>({from:mse(R.from),to:gse(R.to)}))}(f.config.get("typing.transformations")),d=new m7(f.model,p=>{for(const w of a)if(w.from.test(p))return{normalizedTransformation:w}});d.on("matched:data",(p,w)=>{if(!w.batch.isTyping)return;const{from:k,to:D}=w.normalizedTransformation,R=k.exec(w.text),M=D(R.slice(1)),L=w.range;let W=R.index;t.enqueueChange(Y=>{for(let se=1;se<R.length;se++){const le=R[se],ve=M[se-1];if(ve==null){W+=le.length;continue}const Pe=L.start.getShiftedBy(W),$e=t.createRange(Pe,Pe.getShiftedBy(le.length)),Qe=bse(Pe);t.insertContent(Y.createText(ve,Qe),$e),W+=ve.length}t.enqueueChange(()=>{s.requestUndoOnBackspace()})})}),d.bind("isEnabled").to(this)}},class{constructor(f){this.editor=f}afterInit(){const f=this.editor,t=f.config._config.table.customClass&&Array.isArray(f.config._config.table.customClass)?f.config._config.table.customClass:null,s=f.config._config.image.customClass&&Array.isArray(f.config._config.image.customClass)?f.config._config.image.customClass:null;t&&(XB("table","table",f,t),f.conversion.for("upcast").add(jI("figure",t),{priority:"low"})),s&&(XB("img","image",f,s),f.conversion.for("upcast").add(jI("figure",s),{priority:"low"}))}}],RI.defaultConfig={toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","indent","outdent","|","imageUpload","imageResize","insertImage","insertImageFromUnsplash","code","codeBlock","blockQuote","insertTable","mediaEmbed","undo","redo"]},image:{toolbar:["imageStyle:side","|","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),l=l.default})())})(G5,G5.exports);var g1e=G5.exports;const b1e=MN(g1e),X8=({content:n,onChange:e,onSave:i,onCancel:r})=>b.jsxs("div",{className:"space-y-4",children:[b.jsx("div",{className:"border border-slate-200 rounded-lg bg-slate-50",children:b.jsx(m1e.CKEditor,{editor:b1e,data:n,config:{toolbar:["heading","|","bold","italic","underline","link","|","bulletedList","numberedList","|","insertTable","codeBlock","blockQuote","undo","redo","pasteFromOffice"]},onChange:(o,l)=>{const c=l.getData();e(c)}})}),b.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[b.jsx("button",{onClick:r,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg flex items-center",children:"Cancel"}),b.jsx("button",{onClick:i,className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 flex items-center",children:"Save"})]}),b.jsx("style",{children:`
        .ck-editor__editable_inline {
          border-radius: 0.5rem !important;
          background: #f8fafc !important;
          min-height: 400px !important;
          padding: 1rem !important;
          border: none !important;
        }
        .ck.ck-toolbar {
          border-radius: 0.5rem 0.5rem 0 0 !important;
          background: #f1f5f9 !important;
          border: none !important;
        }
      `})]}),y1e=()=>{const[n,e]=H.useState(""),[i,r]=H.useState(""),[o,l]=H.useState("Experience Reports"),[c,u]=H.useState([]),[h,m]=H.useState(!1),g=ns(),{addDocument:y}=UY(),v=async()=>{try{if(!i.trim()){alert("Please enter a document name");return}m(!0),y(i,n,o),g("/documents")}catch(S){console.error("Error saving document:",S),alert("Error saving document. Please try again.")}finally{m(!1)}},_=async S=>{var T;const C=(T=S.target.files)==null?void 0:T[0];if(C)try{const N={id:Date.now().toString(),name:C.name,type:C.type,size:C.size,url:URL.createObjectURL(C)};u(I=>[...I,N])}catch(N){console.error("Error uploading file:",N),alert("Error uploading file. Please try again.")}},A=S=>{u(C=>C.filter(T=>T.id!==S))};return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsx("button",{onClick:()=>g("/documents"),className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100",children:b.jsx(aY,{size:20})}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"New Text Document"}),b.jsx("p",{className:"text-slate-500 mt-1",children:"Write and save your text"})]})]}),b.jsxs("div",{className:"card space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"documentName",className:"block text-sm font-medium text-slate-700 mb-1",children:"Document Name"}),b.jsx("input",{id:"documentName",type:"text",value:i,onChange:S=>r(S.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter document name..."})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-slate-700 mb-1",children:"Category"}),b.jsxs("select",{id:"category",value:o,onChange:S=>l(S.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:[b.jsx("option",{value:"Experience Reports",children:"Experience Reports"}),b.jsx("option",{value:"Technical Reports",children:"Technical Reports"}),b.jsx("option",{value:"Certificates",children:"Certificates"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Content"}),b.jsx(X8,{content:n,onChange:e,onSave:v,onCancel:()=>g("/documents")})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Attachments"}),b.jsxs("div",{className:"space-y-2",children:[c.map(S=>b.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded-lg",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx($5,{size:16,className:"text-slate-500"}),b.jsx("span",{className:"text-sm text-slate-700",children:S.name}),b.jsxs("span",{className:"text-xs text-slate-500",children:["(",(S.size/1024).toFixed(1)," KB)"]})]}),b.jsx("button",{onClick:()=>A(S.id),className:"p-1 text-slate-500 hover:text-red-600",children:b.jsx(eo,{size:16})})]},S.id)),b.jsxs("label",{className:"flex items-center space-x-2 p-2 border-2 border-dashed border-slate-200 rounded-lg cursor-pointer hover:border-teal-500",children:[b.jsx($5,{size:16,className:"text-slate-500"}),b.jsx("span",{className:"text-sm text-slate-700",children:"Add attachment"}),b.jsx("input",{type:"file",className:"hidden",onChange:_})]})]})]})]}),b.jsx("div",{className:"flex justify-end",children:b.jsxs("button",{onClick:v,disabled:h,className:"btn btn-primary flex items-center",children:[b.jsx(fY,{size:16,className:"mr-1.5"}),h?"Saving...":"Save Document"]})})]})},v1e=()=>b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#F5F7FA] p-4",children:b.jsxs("div",{className:"text-center",children:[b.jsx("h1",{className:"text-9xl font-bold text-teal-600",children:"404"}),b.jsx("h2",{className:"text-3xl font-semibold text-slate-800 mt-4",children:"Page Not Found"}),b.jsx("p",{className:"text-slate-500 max-w-md mx-auto mt-2",children:"The page you're looking for doesn't exist or has been moved."}),b.jsxs(Yl,{to:"/",className:"inline-flex items-center px-4 py-2 mt-6 rounded-lg bg-teal-600 text-white hover:bg-teal-700 transition-colors",children:[b.jsx(h3,{size:18,className:"mr-2"}),"Back to Dashboard"]})]})}),w1e=()=>{const{id:n}=Ade(),e=ns(),{getDocument:i,updateDocument:r}=UY(),[o,l]=H.useState(""),[c,u]=H.useState(""),[h,m]=H.useState("Experience Reports"),[g,y]=H.useState([]),[v,_]=H.useState(!1);H.useEffect(()=>{if(n){const T=i(n);T?(l(T.content),u(T.name),m(T.category),T.attachments&&y(T.attachments)):e("/documents")}},[n,i,e]);const A=async()=>{try{if(!c.trim()){alert("Please enter a document name");return}_(!0),n&&(await r(n,{name:c,content:o,category:h,attachments:g}),e("/documents"))}catch(T){console.error("Error updating document:",T),alert("Error updating document. Please try again.")}finally{_(!1)}},S=async T=>{var I;const N=(I=T.target.files)==null?void 0:I[0];if(N)try{const O={id:Date.now().toString(),name:N.name,type:N.type,size:N.size,url:URL.createObjectURL(N)};y(F=>[...F,O])}catch(O){console.error("Error uploading file:",O),alert("Error uploading file. Please try again.")}},C=T=>{y(N=>N.filter(I=>I.id!==T))};return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsx("button",{onClick:()=>e("/documents"),className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100",children:b.jsx(aY,{size:20})}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Edit Document"}),b.jsx("p",{className:"text-slate-500 mt-1",children:"Modify your document"})]})]}),b.jsxs("div",{className:"card space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"documentName",className:"block text-sm font-medium text-slate-700 mb-1",children:"Document Name"}),b.jsx("input",{id:"documentName",type:"text",value:c,onChange:T=>u(T.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter document name..."})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-slate-700 mb-1",children:"Category"}),b.jsxs("select",{id:"category",value:h,onChange:T=>m(T.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:[b.jsx("option",{value:"Experience Reports",children:"Experience Reports"}),b.jsx("option",{value:"Technical Reports",children:"Technical Reports"}),b.jsx("option",{value:"Certificates",children:"Certificates"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Content"}),b.jsx(X8,{content:o,onChange:l,onSave:A,onCancel:()=>e("/documents")})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Attachments"}),b.jsxs("div",{className:"space-y-2",children:[g.map(T=>b.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded-lg",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx($5,{size:16,className:"text-slate-500"}),b.jsx("span",{className:"text-sm text-slate-700",children:T.name}),b.jsxs("span",{className:"text-xs text-slate-500",children:["(",(T.size/1024).toFixed(1)," KB)"]})]}),b.jsx("button",{onClick:()=>C(T.id),className:"p-1 text-slate-500 hover:text-red-600",children:b.jsx(eo,{size:16})})]},T.id)),b.jsxs("label",{className:"flex items-center space-x-2 p-2 border-2 border-dashed border-slate-200 rounded-lg cursor-pointer hover:border-teal-500",children:[b.jsx($5,{size:16,className:"text-slate-500"}),b.jsx("span",{className:"text-sm text-slate-700",children:"Add attachment"}),b.jsx("input",{type:"file",className:"hidden",onChange:S})]})]})]})]}),b.jsx("div",{className:"flex justify-end",children:b.jsxs("button",{onClick:A,disabled:v,className:"btn btn-primary flex items-center",children:[b.jsx(fY,{size:16,className:"mr-1.5"}),v?"Saving...":"Save Changes"]})})]})},LY=ac()(G8(n=>({supervisorReviews:!0,saoFeedback:!0,relationships:!0,userSkills:!0,toggleSupervisorReviews:()=>n(e=>({supervisorReviews:!e.supervisorReviews})),toggleSaoFeedback:()=>n(e=>({saoFeedback:!e.saoFeedback})),toggleRelationships:()=>n(e=>({relationships:!e.relationships})),toggleUserSkills:()=>n(e=>({userSkills:!e.userSkills}))}),{name:"notification-preferences"}));var x1e=Object.defineProperty,_1e=(n,e,i)=>e in n?x1e(n,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[e]=i,Nj=(n,e,i)=>(_1e(n,typeof e!="symbol"?e+"":e,i),i);let k1e=class{constructor(){Nj(this,"current",this.detect()),Nj(this,"handoffState","pending"),Nj(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},aw=new k1e,I1=(n,e)=>{aw.isServer?H.useEffect(n,e):H.useLayoutEffect(n,e)};function E1e(n){let e=H.useRef(n);return I1(()=>{e.current=n},[n]),e}let gm=function(n){let e=E1e(n);return or.useCallback((...i)=>e.current(...i),[e])};function S1e(n,e,i){let[r,o]=H.useState(i),l=n!==void 0,c=H.useRef(l),u=H.useRef(!1),h=H.useRef(!1);return l&&!c.current&&!u.current?(u.current=!0,c.current=l,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!l&&c.current&&!h.current&&(h.current=!0,c.current=l,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[l?n:r,gm(m=>(l||o(m),e==null?void 0:e(m)))]}function A1e(n){typeof queueMicrotask=="function"?queueMicrotask(n):Promise.resolve().then(n).catch(e=>setTimeout(()=>{throw e}))}function BY(){let n=[],e={addEventListener(i,r,o,l){return i.addEventListener(r,o,l),e.add(()=>i.removeEventListener(r,o,l))},requestAnimationFrame(...i){let r=requestAnimationFrame(...i);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...i){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...i))},setTimeout(...i){let r=setTimeout(...i);return e.add(()=>clearTimeout(r))},microTask(...i){let r={current:!0};return A1e(()=>{r.current&&i[0]()}),e.add(()=>{r.current=!1})},style(i,r,o){let l=i.style.getPropertyValue(r);return Object.assign(i.style,{[r]:o}),this.add(()=>{Object.assign(i.style,{[r]:l})})},group(i){let r=BY();return i(r),this.add(()=>r.dispose())},add(i){return n.push(i),()=>{let r=n.indexOf(i);if(r>=0)for(let o of n.splice(r,1))o()}},dispose(){for(let i of n.splice(0))i()}};return e}function C1e(){let[n]=H.useState(BY);return H.useEffect(()=>()=>n.dispose(),[n]),n}function T1e(){let n=typeof document>"u";return"useSyncExternalStore"in Y4?(e=>e.useSyncExternalStore)(Y4)(()=>()=>{},()=>!1,()=>!n):!1}function D1e(){let n=T1e(),[e,i]=H.useState(aw.isHandoffComplete);return e&&aw.isHandoffComplete===!1&&i(!1),H.useEffect(()=>{e!==!0&&i(!0)},[e]),H.useEffect(()=>aw.handoff(),[]),n?!1:e}var r$;let K8=(r$=or.useId)!=null?r$:function(){let n=D1e(),[e,i]=or.useState(n?()=>aw.nextId():null);return I1(()=>{e===null&&i(aw.nextId())},[e]),e!=null?""+e:void 0};function zY(n,e,...i){if(n in e){let o=e[n];return typeof o=="function"?o(...i):o}let r=new Error(`Tried to handle "${n}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,zY),r}function s$(n){var e;if(n.type)return n.type;let i=(e=n.as)!=null?e:"button";if(typeof i=="string"&&i.toLowerCase()==="button")return"button"}function N1e(n,e){let[i,r]=H.useState(()=>s$(n));return I1(()=>{r(s$(n))},[n.type,n.as]),I1(()=>{i||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&r("button")},[i,e]),i}let P1e=Symbol();function Z8(...n){let e=H.useRef(n);H.useEffect(()=>{e.current=n},[n]);let i=gm(r=>{for(let o of e.current)o!=null&&(typeof o=="function"?o(r):o.current=r)});return n.every(r=>r==null||(r==null?void 0:r[P1e]))?void 0:i}function o$(...n){return Array.from(new Set(n.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var I1e=(n=>(n[n.None=0]="None",n[n.RenderStrategy=1]="RenderStrategy",n[n.Static=2]="Static",n))(I1e||{}),j1e=(n=>(n[n.Unmount=0]="Unmount",n[n.Hidden=1]="Hidden",n))(j1e||{});function HS({ourProps:n,theirProps:e,slot:i,defaultTag:r,features:o,visible:l=!0,name:c,mergeRefs:u}){u=u??R1e;let h=VY(e,n);if(l)return ZT(h,i,r,c,u);let m=o??0;if(m&2){let{static:g=!1,...y}=h;if(g)return ZT(y,i,r,c,u)}if(m&1){let{unmount:g=!0,...y}=h;return zY(g?0:1,{0(){return null},1(){return ZT({...y,hidden:!0,style:{display:"none"}},i,r,c,u)}})}return ZT(h,i,r,c,u)}function ZT(n,e={},i,r,o){let{as:l=i,children:c,refName:u="ref",...h}=Pj(n,["unmount","static"]),m=n.ref!==void 0?{[u]:n.ref}:{},g=typeof c=="function"?c(e):c;"className"in h&&h.className&&typeof h.className=="function"&&(h.className=h.className(e));let y={};if(e){let v=!1,_=[];for(let[A,S]of Object.entries(e))typeof S=="boolean"&&(v=!0),S===!0&&_.push(A);v&&(y["data-headlessui-state"]=_.join(" "))}if(l===H.Fragment&&Object.keys(CM(h)).length>0){if(!H.isValidElement(g)||Array.isArray(g)&&g.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(h).map(S=>`  - ${S}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(S=>`  - ${S}`).join(`
`)].join(`
`));let v=g.props,_=typeof(v==null?void 0:v.className)=="function"?(...S)=>o$(v==null?void 0:v.className(...S),h.className):o$(v==null?void 0:v.className,h.className),A=_?{className:_}:{};return H.cloneElement(g,Object.assign({},VY(g.props,CM(Pj(h,["ref"]))),y,m,{ref:o(g.ref,m.ref)},A))}return H.createElement(l,Object.assign({},Pj(h,["ref"]),l!==H.Fragment&&m,l!==H.Fragment&&y),g)}function R1e(...n){return n.every(e=>e==null)?void 0:e=>{for(let i of n)i!=null&&(typeof i=="function"?i(e):i.current=e)}}function VY(...n){if(n.length===0)return{};if(n.length===1)return n[0];let e={},i={};for(let r of n)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(i[o]!=null||(i[o]=[]),i[o].push(r[o])):e[o]=r[o];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(i).map(r=>[r,void 0])));for(let r in i)Object.assign(e,{[r](o,...l){let c=i[r];for(let u of c){if((o instanceof Event||(o==null?void 0:o.nativeEvent)instanceof Event)&&o.defaultPrevented)return;u(o,...l)}}});return e}function m3(n){var e;return Object.assign(H.forwardRef(n),{displayName:(e=n.displayName)!=null?e:n.name})}function CM(n){let e=Object.assign({},n);for(let i in e)e[i]===void 0&&delete e[i];return e}function Pj(n,e=[]){let i=Object.assign({},n);for(let r of e)r in i&&delete i[r];return i}let M1e="div";var WY=(n=>(n[n.None=1]="None",n[n.Focusable=2]="Focusable",n[n.Hidden=4]="Hidden",n))(WY||{});function O1e(n,e){var i;let{features:r=1,...o}=n,l={ref:e,"aria-hidden":(r&2)===2?!0:(i=o["aria-hidden"])!=null?i:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return HS({ourProps:l,theirProps:o,slot:{},defaultTag:M1e,name:"Hidden"})}let F1e=m3(O1e);function U1e(n){let e=n.parentElement,i=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(i=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&L1e(i)?!1:r}function L1e(n){if(!n)return!1;let e=n.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}function B1e(n){var e,i;let r=(e=n==null?void 0:n.form)!=null?e:n.closest("form");if(r){for(let o of r.elements)if(o!==n&&(o.tagName==="INPUT"&&o.type==="submit"||o.tagName==="BUTTON"&&o.type==="submit"||o.nodeName==="INPUT"&&o.type==="image")){o.click();return}(i=r.requestSubmit)==null||i.call(r)}}var TM=(n=>(n.Space=" ",n.Enter="Enter",n.Escape="Escape",n.Backspace="Backspace",n.Delete="Delete",n.ArrowLeft="ArrowLeft",n.ArrowUp="ArrowUp",n.ArrowRight="ArrowRight",n.ArrowDown="ArrowDown",n.Home="Home",n.End="End",n.PageUp="PageUp",n.PageDown="PageDown",n.Tab="Tab",n))(TM||{});let $Y=H.createContext(null);function qY(){let n=H.useContext($Y);if(n===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,qY),e}return n}function z1e(){let[n,e]=H.useState([]);return[n.length>0?n.join(" "):void 0,H.useMemo(()=>function(i){let r=gm(l=>(e(c=>[...c,l]),()=>e(c=>{let u=c.slice(),h=u.indexOf(l);return h!==-1&&u.splice(h,1),u}))),o=H.useMemo(()=>({register:r,slot:i.slot,name:i.name,props:i.props}),[r,i.slot,i.name,i.props]);return or.createElement($Y.Provider,{value:o},i.children)},[e])]}let V1e="p";function W1e(n,e){let i=K8(),{id:r=`headlessui-description-${i}`,...o}=n,l=qY(),c=Z8(e);I1(()=>l.register(r),[r,l.register]);let u={ref:c,...l.props,id:r};return HS({ourProps:u,theirProps:o,slot:l.slot||{},defaultTag:V1e,name:l.name||"Description"})}let $1e=m3(W1e),q1e=Object.assign($1e,{}),HY=H.createContext(null);function GY(){let n=H.useContext(HY);if(n===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,GY),e}return n}function H1e(){let[n,e]=H.useState([]);return[n.length>0?n.join(" "):void 0,H.useMemo(()=>function(i){let r=gm(l=>(e(c=>[...c,l]),()=>e(c=>{let u=c.slice(),h=u.indexOf(l);return h!==-1&&u.splice(h,1),u}))),o=H.useMemo(()=>({register:r,slot:i.slot,name:i.name,props:i.props}),[r,i.slot,i.name,i.props]);return or.createElement(HY.Provider,{value:o},i.children)},[e])]}let G1e="label";function X1e(n,e){let i=K8(),{id:r=`headlessui-label-${i}`,passive:o=!1,...l}=n,c=GY(),u=Z8(e);I1(()=>c.register(r),[r,c.register]);let h={ref:u,...c.props,id:r};return o&&("onClick"in h&&(delete h.htmlFor,delete h.onClick),"onClick"in l&&delete l.onClick),HS({ourProps:h,theirProps:l,slot:c.slot||{},defaultTag:G1e,name:c.name||"Label"})}let K1e=m3(X1e),Z1e=Object.assign(K1e,{}),Y8=H.createContext(null);Y8.displayName="GroupContext";let Y1e=H.Fragment;function J1e(n){var e;let[i,r]=H.useState(null),[o,l]=H1e(),[c,u]=z1e(),h=H.useMemo(()=>({switch:i,setSwitch:r,labelledby:o,describedby:c}),[i,r,o,c]),m={},g=n;return or.createElement(u,{name:"Switch.Description"},or.createElement(l,{name:"Switch.Label",props:{htmlFor:(e=h.switch)==null?void 0:e.id,onClick(y){i&&(y.currentTarget.tagName==="LABEL"&&y.preventDefault(),i.click(),i.focus({preventScroll:!0}))}}},or.createElement(Y8.Provider,{value:h},HS({ourProps:m,theirProps:g,defaultTag:Y1e,name:"Switch.Group"}))))}let Q1e="button";function exe(n,e){var i;let r=K8(),{id:o=`headlessui-switch-${r}`,checked:l,defaultChecked:c=!1,onChange:u,disabled:h=!1,name:m,value:g,form:y,...v}=n,_=H.useContext(Y8),A=H.useRef(null),S=Z8(A,e,_===null?null:_.setSwitch),[C,T]=S1e(l,u,c),N=gm(()=>T==null?void 0:T(!C)),I=gm(Z=>{if(U1e(Z.currentTarget))return Z.preventDefault();Z.preventDefault(),N()}),O=gm(Z=>{Z.key===TM.Space?(Z.preventDefault(),N()):Z.key===TM.Enter&&B1e(Z.currentTarget)}),F=gm(Z=>Z.preventDefault()),U=H.useMemo(()=>({checked:C}),[C]),V={id:o,ref:S,role:"switch",type:N1e(n,A),tabIndex:n.tabIndex===-1?0:(i=n.tabIndex)!=null?i:0,"aria-checked":C,"aria-labelledby":_==null?void 0:_.labelledby,"aria-describedby":_==null?void 0:_.describedby,disabled:h,onClick:I,onKeyUp:O,onKeyPress:F},B=C1e();return H.useEffect(()=>{var Z;let ae=(Z=A.current)==null?void 0:Z.closest("form");ae&&c!==void 0&&B.addEventListener(ae,"reset",()=>{T(c)})},[A,T]),or.createElement(or.Fragment,null,m!=null&&C&&or.createElement(F1e,{features:WY.Hidden,...CM({as:"input",type:"checkbox",hidden:!0,readOnly:!0,disabled:h,form:y,checked:C,name:m,value:g})}),HS({ourProps:V,theirProps:v,slot:U,defaultTag:Q1e,name:"Switch"}))}let txe=m3(exe),nxe=J1e,bm=Object.assign(txe,{Group:nxe,Label:Z1e,Description:q1e});async function Z1({userId:n,type:e,title:i,message:r="",data:o={}}){const{error:l}=await je.from("notifications").insert({user_id:n,type:e,title:i,message:r,data:o,read:!1,created_at:new Date().toISOString()});if(l)throw l}const ixe=async(n,e)=>Z1({userId:n,type:"request",title:"New EIT Connection Request",message:`${e} has requested to connect with you as their supervisor.`,data:{type:"supervisor_request"}}),rxe=async(n,e,i)=>Z1({userId:n,type:"score",title:"New Skill Score",message:`You received a score of ${i} for ${e}.`,data:{type:"skill_score",skillName:e,score:i}}),DM=async(n,e,i)=>Z1({userId:n,type:"validation_request",title:"New Skill Validation Request",message:`${e} has requested your validation for ${i}.`,data:{type:"validation_request",skillName:i}}),sxe=async(n,e,i)=>Z1({userId:n,type:"score",title:"New SAO Score",message:`You received a score of ${i} for your SAO: "${e}".`,data:{type:"sao_score",saoTitle:e,score:i}}),oxe=async(n,e,i)=>Z1({userId:n,type:"validation_request",title:"New SAO Validation Request",message:`${e} has requested your validation for SAO: "${i}".`,data:{type:"sao_validation_request",saoTitle:i}}),axe=()=>{const[n,e]=H.useState(null),[i,r]=H.useState(""),[o,l]=H.useState(""),[c,u]=H.useState(""),[h,m]=H.useState(""),[g,y]=H.useState(!1),[v,_]=H.useState({type:"",text:""}),[A,S]=H.useState(!1),[C,T]=H.useState(!1),[N,I]=H.useState(!1),[O,F]=H.useState(""),[U,V]=H.useState(""),[B,Z]=H.useState(""),[ae,me]=H.useState(""),[Q,ge]=H.useState("Free"),[$,Te]=H.useState(null),[re,ie]=H.useState(""),[G,K]=H.useState(null),[ne,J]=H.useState(""),[ue,ee]=H.useState("idle"),[xe,Se]=H.useState(""),[Me,Re]=H.useState([]),[Fe,We]=H.useState(!1),[ze,Ne]=H.useState(""),[ke,Be]=H.useState(""),[X,Ae]=H.useState(""),[Ie,be]=H.useState("idle"),[we,Ee]=H.useState(""),[He,qe]=H.useState(!1),[Oe,Ce]=H.useState(!1),[_e,ce]=H.useState(""),[Ue,et]=H.useState(""),[nt,ct]=H.useState(""),[ht,Pt]=H.useState(""),[Bt,bt]=H.useState(!1),[Zt,mn]=H.useState(null),[qt,Vn]=H.useState(!1),[rs,jr]=H.useState(""),[Rr,Ii]=H.useState(""),[bi,yi]=H.useState(""),[vi,wt]=H.useState(!1),[Ht,sn]=H.useState(null),[Wn,Xn]=H.useState(!1),[Mr,Ji]=H.useState(!1),[ft,An]=H.useState(""),[Ps,ss]=H.useState(""),[Is,ol]=H.useState(""),[Mo,al]=H.useState(!1),[Oo,ll]=H.useState(null),[so,js]=H.useState(!1),[Si,cl]=H.useState(""),[Rs,Or]=H.useState(""),{supervisorReviews:os,saoFeedback:ul,relationships:lc,userSkills:su,toggleSupervisorReviews:Zm,toggleSaoFeedback:ma,toggleRelationships:wf,toggleUserSkills:xf}=LY(),{tier:ji,documentLimit:dl,saoLimit:hl,supervisorLimit:fl,hasAiAccess:Ym,fetchSubscription:Cd,checkDocumentLimit:ou,checkSaoLimit:oo,checkSupervisorLimit:Fo}=qS();H.useEffect(()=>{(async()=>{var _t,oi;const{data:{user:gt}}=await je.auth.getUser();if(gt){e(gt),r(((_t=gt.user_metadata)==null?void 0:_t.full_name)||""),l(gt.email||""),u(gt.email||""),m(((oi=gt.user_metadata)==null?void 0:oi.avatar_url)||"");const{data:wi}=await je.from("eit_profiles").select("id, start_date, target_date").eq("id",gt.id).single();wi&&(K("eit"),cl(wi.start_date||""),Or(wi.target_date||""));const{data:Fr}=await je.from("supervisor_profiles").select("id").eq("id",gt.id).single();Fr&&K("supervisor")}})(),Cd()},[]),H.useEffect(()=>{G==="eit"&&n&&pl(n.id)},[G,n]),H.useEffect(()=>{n&&je.auth.mfa.listFactors().then(({data:at})=>{var _t;const gt=(_t=at==null?void 0:at.all)==null?void 0:_t.find(oi=>oi.factor_type==="totp"&&oi.status==="verified");We(!!gt)})},[n]),H.useEffect(()=>{Cd()},[]);const ao=at=>at.split(" ").map(gt=>gt[0]).join("").toUpperCase(),cr=async()=>{if(!(!$||!n)){y(!0);try{const at=$.name.split(".").pop(),gt=`${n.id}.${at}`,{error:_t}=await je.storage.from("avatars").upload(gt,$,{upsert:!0});if(_t)throw _t;const{data:oi}=je.storage.from("avatars").getPublicUrl(gt),wi=oi.publicUrl,{error:Fr}=await je.auth.updateUser({data:{...n.user_metadata,avatar_url:wi}});if(Fr)throw Fr;m(wi),_({type:"success",text:"Profile picture updated!"}),Te(null),ie("")}catch{_({type:"error",text:"Failed to update avatar."})}finally{y(!1)}}},ga=async()=>{if(n){y(!0);try{const{error:at}=await je.auth.updateUser({data:{...n.user_metadata,avatar_url:""}});if(at)throw at;m(""),_({type:"success",text:"Profile picture removed."})}catch{_({type:"error",text:"Failed to remove avatar."})}finally{y(!1)}}},cc=async at=>{at.preventDefault(),y(!0),_({type:"",text:""});try{const gt={};A&&(gt.data={full_name:i}),C&&c!==o&&(gt.email=c);const{error:_t}=await je.auth.updateUser(gt);if(_t)throw _t;_({type:"success",text:"Profile updated successfully!"}),S(!1),T(!1);const{data:{user:oi}}=await je.auth.getUser();oi&&(e(oi),l(oi.email||""),u(oi.email||""))}catch(gt){_({type:"error",text:"Failed to update profile. Please try again."}),console.error("Error updating profile:",gt)}finally{y(!1)}},pl=async at=>{const{data:gt}=await je.from("supervisor_eit_relationships").select("supervisor_profiles (id, full_name, email)").eq("eit_id",at).eq("status","active");gt&&Re(gt.map(_t=>_t.supervisor_profiles).filter(_t=>_t))},uc=async at=>{var gt;if(at.preventDefault(),ee("idle"),Se(""),!!ne){y(!0);try{const{data:_t}=await je.from("supervisor_profiles").select("id, email, full_name").eq("email",ne).single();if(!_t){ee("notfound"),Se("No supervisor found with that email."),y(!1);return}const{data:oi}=await je.from("supervisor_eit_relationships").select("id, status").eq("supervisor_id",_t.id).eq("eit_id",n==null?void 0:n.id).maybeSingle();if(oi&&oi.status==="pending"){ee("pending"),Se("A request is already pending for this supervisor."),y(!1);return}if(oi&&oi.status==="active"){ee("already"),Se("This supervisor is already connected."),y(!1);return}const{count:wi,error:Fr}=await je.from("supervisor_eit_relationships").select("id",{count:"exact",head:!0}).eq("supervisor_id",_t.id).eq("status","active");if(Fr)throw Fr;if(ji==="free"&&(typeof wi=="number"?wi:0)>=fl){ee("error"),Se("This supervisor has reached their free plan EIT limit and cannot accept more requests."),y(!1);return}const{error:wr}=await je.from("supervisor_eit_relationships").upsert({supervisor_id:_t.id,eit_id:n==null?void 0:n.id,status:"pending",created_at:new Date().toISOString(),updated_at:new Date().toISOString()});if(wr)throw wr;if(!n){ee("error"),Se("User not found. Please re-login."),y(!1);return}await ixe(_t.id,((gt=n.user_metadata)==null?void 0:gt.full_name)||n.email),ee("success"),Se("Request sent! Your supervisor will see it in their dashboard."),J(""),n&&pl(n.id)}catch(_t){console.error(_t),ee("error"),Se("Failed to send request. Please try again.")}finally{y(!1)}}};return b.jsxs("div",{className:"min-h-screen bg-gray-50",children:[b.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:b.jsxs("div",{className:"space-y-8 divide-y divide-gray-200",children:[b.jsxs("div",{className:"space-y-6 pt-8",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Profile"}),b.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Update your profile information and preferences."})]}),b.jsxs("section",{className:"card p-6 flex flex-col md:flex-row gap-6 items-center",children:[b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsxs("div",{className:"relative",children:[re||h?b.jsx("img",{src:re||h,className:"w-24 h-24 rounded-full object-cover bg-slate-100",alt:"Profile"}):b.jsx("div",{className:"w-24 h-24 rounded-full bg-teal-500 flex items-center justify-center text-white text-3xl font-bold",children:ao(i||o)}),(re||h)&&b.jsx("button",{className:"absolute -top-2 -right-2 bg-slate-100 rounded-full p-1 shadow hover:bg-slate-200",onClick:ga,disabled:g,title:"Remove profile picture",style:{zIndex:10},children:b.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",className:"text-red-600",children:b.jsx("path",{d:"M6 6l8 8M6 14L14 6",strokeWidth:"2"})})})]}),$&&b.jsx("button",{className:"btn btn-primary mt-2",onClick:cr,disabled:g,children:g?"Uploading...":"Save Photo"})]}),b.jsxs("form",{className:"flex-1 space-y-4",onSubmit:cc,children:[b.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[b.jsx(bY,{})," Profile Information",G&&b.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${G==="eit"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:G.toUpperCase()})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"fullName",className:"label",children:"Full Name"}),A?b.jsxs("div",{className:"space-y-2",children:[b.jsx("input",{type:"text",id:"fullName",value:i,onChange:at=>r(at.target.value),className:"input",placeholder:"Enter your full name"}),b.jsx("div",{className:"flex space-x-2",children:b.jsx("button",{type:"button",onClick:()=>S(!1),className:"btn btn-secondary",children:"Cancel"})})]}):b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("p",{children:i||"Not set"}),b.jsx("button",{type:"button",onClick:()=>S(!0),className:"text-sm text-teal-600 hover:text-teal-700",children:"Edit"})]})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"label",children:"Email Address"}),C?b.jsxs("div",{className:"space-y-2",children:[b.jsx("input",{type:"email",id:"newEmail",value:c,onChange:at=>u(at.target.value),className:"input",placeholder:"Enter your new email"}),b.jsx("p",{className:"text-sm text-slate-500",children:"After changing your email, you'll need to use the new email address to log in."}),b.jsx("div",{className:"flex space-x-2",children:b.jsx("button",{type:"button",onClick:()=>T(!1),className:"btn btn-secondary",children:"Cancel"})})]}):b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("p",{children:o}),b.jsx("button",{type:"button",onClick:()=>T(!0),className:"text-sm text-teal-600 hover:text-teal-700",children:"Edit"})]})]}),(A||C)&&b.jsx("button",{type:"submit",disabled:g,className:"btn btn-primary",children:g?"Saving...":"Save Changes"})]})]})]}),G==="eit"&&b.jsxs("section",{className:"card p-6",children:[b.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[b.jsx(q2,{})," Program Timeline"]}),b.jsxs("form",{className:"flex flex-col gap-6",onSubmit:async at=>{if(at.preventDefault(),y(!0),_({type:"",text:""}),Si&&Rs&&new Date(Rs)<=new Date(Si)){_({type:"error",text:"End date must be after start date."}),y(!1);return}try{const{error:gt}=await je.from("eit_profiles").update({start_date:Si,target_date:Rs}).eq("id",n==null?void 0:n.id);if(gt)throw gt;_({type:"success",text:"Timeline updated!"})}catch{_({type:"error",text:"Failed to update timeline."})}finally{y(!1)}},children:[b.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center w-full",children:[b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Start Date"}),b.jsx("input",{type:"date",value:Si||"",onChange:at=>cl(at.target.value),className:"input"}),Si&&b.jsx("span",{className:"text-xs text-slate-500 mt-1",children:new Date(Si).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})})]}),b.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[b.jsxs("div",{className:"w-full max-w-xs flex items-center gap-2",children:[b.jsx("span",{className:"w-2 h-2 rounded-full bg-teal-500"}),b.jsx("div",{className:"flex-1 h-1 bg-slate-200 rounded-full relative",children:Si&&Rs&&b.jsx("div",{className:"h-1 bg-teal-400 rounded-full absolute top-0 left-0",style:{width:(()=>{const at=new Date().getTime(),gt=new Date(Si).getTime(),_t=new Date(Rs).getTime();return _t<=gt?"0%":`${Math.max(0,Math.min(100,(at-gt)/(_t-gt)*100))}%`})(),transition:"width 0.5s"}})}),b.jsx("span",{className:"w-2 h-2 rounded-full bg-teal-500"})]}),b.jsxs("div",{className:"flex justify-between w-full max-w-xs text-xs text-slate-400 mt-1",children:[b.jsx("span",{children:Si?new Date(Si).toLocaleDateString(void 0,{month:"short",year:"numeric"}):""}),b.jsx("span",{children:Rs?new Date(Rs).toLocaleDateString(void 0,{month:"short",year:"numeric"}):""})]})]}),b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Expected End Date"}),b.jsx("input",{type:"date",value:Rs||"",onChange:at=>Or(at.target.value),className:"input"}),Rs&&b.jsx("span",{className:"text-xs text-slate-500 mt-1",children:new Date(Rs).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})})]})]}),b.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[b.jsx("button",{type:"submit",className:"btn btn-primary",disabled:g,children:g?"Saving...":"Save Dates"}),v.type==="success"&&b.jsxs("span",{className:"text-green-600 flex items-center gap-1 font-medium",children:[b.jsx(fye,{size:18})," Saved!"]}),v.type==="error"&&b.jsx("span",{className:"text-red-600 text-sm",children:v.text})]})]})]}),b.jsxs("div",{className:"pt-8",children:[b.jsxs("div",{className:"mb-6 text-center",children:[b.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-2",children:"Choose Your Plan"}),b.jsx("p",{className:"text-gray-600 text-md max-w-2xl mx-auto",children:"Select the plan that best fits your needs"})]}),b.jsxs("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:[b.jsxs("div",{className:`border ${ji==="free"?"border-blue-500":"border-gray-200"} rounded-2xl p-8 bg-gradient-to-br from-blue-50 to-white flex flex-col items-center shadow-sm`,children:[b.jsx("h3",{className:"text-2xl font-bold text-blue-900 mb-2",children:"Free"}),b.jsx("p",{className:"text-5xl font-extrabold text-blue-800 mb-4",children:"$0"}),b.jsxs("ul",{className:"mb-6 w-full space-y-3",children:[b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"Up to 5 documents"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"Up to 5 SAOs"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"Connect with 1 supervisor"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Standard support"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-red-500 mr-2",children:"✗"})," AI Features"]})]}),ji==="free"?b.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 px-4 py-2 rounded-full font-semibold text-sm shadow",children:"Current Plan"}):b.jsx("button",{onClick:()=>window.location.href="mailto:contact@accreda.com?subject=Downgrade to Free Plan",className:"inline-block bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-full font-semibold text-sm shadow transition-colors",children:"Contact to Downgrade"})]}),b.jsxs("div",{className:`border ${ji==="pro"?"border-teal-500":"border-gray-200"} rounded-2xl p-8 bg-gradient-to-br from-teal-50 to-white flex flex-col items-center shadow-sm relative`,children:[b.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:b.jsx("span",{className:"bg-teal-500 text-white px-4 py-1 rounded-full text-sm font-semibold",children:"Most Popular"})}),b.jsx("h3",{className:"text-2xl font-bold text-teal-900 mb-2",children:"Pro"}),b.jsxs("div",{className:"text-center mb-4",children:[b.jsx("p",{className:"text-5xl font-extrabold text-teal-800",children:"$19.99"}),b.jsx("p",{className:"text-sm text-gray-600",children:"per month"}),b.jsx("p",{className:"text-sm text-teal-600 font-medium mt-1",children:"or $17.49/month billed yearly"})]}),b.jsxs("ul",{className:"mb-6 w-full space-y-3",children:[b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Unlimited documents"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Unlimited SAOs"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Unlimited supervisors"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Priority support"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," AI Features"]})]}),ji==="pro"?b.jsx("button",{onClick:()=>Ji(!0),className:"inline-block bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-full font-semibold text-sm shadow transition-colors",children:"Downgrade to Free"}):b.jsx("button",{onClick:()=>Ce(!0),className:"inline-block bg-teal-600 hover:bg-teal-700 text-white px-6 py-2 rounded-full font-semibold text-sm shadow transition-colors",children:"Upgrade to Pro"})]}),b.jsxs("div",{className:`border ${ji==="enterprise"?"border-purple-500":"border-gray-200"} rounded-2xl p-8 bg-gradient-to-br from-purple-50 to-white flex flex-col items-center shadow-sm`,children:[b.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-2",children:"Enterprise"}),b.jsx("p",{className:"text-base font-semibold text-purple-800 mb-4",children:"Custom Pricing"}),b.jsxs("ul",{className:"mb-6 w-full space-y-3",children:[b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Everything in Pro"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Priority support"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Dedicated account manager"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Access to Supervisor Dashboard"]})]}),ji==="enterprise"?b.jsx("span",{className:"inline-block bg-purple-100 text-purple-800 px-4 py-2 rounded-full font-semibold text-sm shadow",children:"Current Plan"}):b.jsx("button",{onClick:()=>qe(!0),className:"inline-block bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-full font-semibold text-sm shadow transition-colors",children:"Contact Us"})]})]})]}),b.jsxs("section",{className:"card p-6",children:[b.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[b.jsx(uY,{})," Security"]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"label",children:"Password"}),N?b.jsxs("div",{className:"space-y-4",children:[b.jsx("input",{type:"password",id:"currentPassword",value:O,onChange:at=>F(at.target.value),className:"input",placeholder:"Current password"}),b.jsx("input",{type:"password",id:"newPassword",value:U,onChange:at=>V(at.target.value),className:"input",placeholder:"New password"}),b.jsx("input",{type:"password",id:"confirmPassword",value:B,onChange:at=>Z(at.target.value),className:"input",placeholder:"Confirm new password"}),ae&&b.jsx("p",{className:"text-sm text-red-600",children:ae}),b.jsx("div",{className:"flex space-x-2",children:b.jsx("button",{type:"button",onClick:()=>I(!1),className:"btn btn-secondary",children:"Cancel"})})]}):b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("p",{children:"••••••••"}),b.jsx("button",{type:"button",onClick:()=>I(!0),className:"text-sm text-teal-600 hover:text-teal-700",children:"Change"})]})]}),b.jsxs("div",{className:"mt-4",children:[b.jsx("label",{className:"label",children:"Two-Factor Authentication"}),Fe?b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("span",{className:"text-green-700 font-medium",children:"Enabled (TOTP)"}),b.jsx("button",{className:"btn btn-danger w-fit",onClick:async()=>{var at;be("idle"),Ee("");try{const{data:gt}=await je.auth.mfa.listFactors(),_t=(at=gt==null?void 0:gt.all)==null?void 0:at.find(oi=>oi.factor_type==="totp"&&oi.status==="verified");_t&&(await je.auth.mfa.unenroll({factorId:_t.id}),We(!1))}catch{Ee("Failed to disable 2FA.")}},children:"Disable 2FA"}),we&&b.jsx("span",{className:"text-red-600 text-sm",children:we})]}):Ie==="enrolling"?b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("span",{children:"Scan this QR code with your authenticator app:"}),ze&&b.jsx("img",{src:ze,alt:"TOTP QR Code",className:"w-40 h-40"}),b.jsx("input",{type:"text",className:"input mt-2",placeholder:"Enter 6-digit code",value:X,onChange:at=>Ae(at.target.value),maxLength:6}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{className:"btn btn-primary w-fit",onClick:async()=>{be("verifying"),Ee("");try{const{data:at,error:gt}=await je.auth.mfa.challenge({factorId:ke});if(gt)throw gt;const{error:_t}=await je.auth.mfa.verify({factorId:ke,challengeId:at.id,code:X});if(_t)throw _t;We(!0),be("enabled")}catch{Ee("Invalid code. Please try again."),be("enrolling")}},disabled:X.length!==6,children:"Verify"}),b.jsx("button",{className:"btn btn-secondary w-fit",onClick:async()=>{be("idle"),Ne(""),Be(""),Ae(""),Ee("");try{const{data:at}=await je.auth.mfa.listFactors();if(at!=null&&at.all)for(const gt of at.all)gt.factor_type==="totp"&&gt.status!=="verified"&&await je.auth.mfa.unenroll({factorId:gt.id})}catch{}},children:"Cancel"})]}),we&&b.jsx("span",{className:"text-red-600 text-sm",children:we})]}):b.jsx("button",{className:"btn btn-primary w-fit",onClick:async()=>{be("enrolling"),Ee(""),Ne(""),Be(""),Ae("");try{const{data:at}=await je.auth.mfa.listFactors();if(at!=null&&at.all)for(const gt of at.all)gt.factor_type==="totp"&&gt.status!=="verified"&&await je.auth.mfa.unenroll({factorId:gt.id})}catch{}try{const{data:at,error:gt}=await je.auth.mfa.enroll({factorType:"totp"});if(gt)throw gt;Ne(at.totp.qr_code),Be(at.id)}catch{Ee("Failed to start 2FA enrollment."),be("idle")}},children:"Set up Two-Factor Authentication"})]})]})]}),G==="eit"&&b.jsxs("section",{className:"card p-6",children:[b.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[b.jsx(W8,{})," Supervisor Connections"]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-3",children:"Current Connections"}),Me.length===0?b.jsx("div",{className:"text-slate-400",children:"No active supervisor connections."}):b.jsx("ul",{className:"divide-y divide-slate-200",children:Me.map(at=>b.jsxs("li",{className:"py-2 flex flex-col md:flex-row md:items-center md:justify-between",children:[b.jsx("span",{className:"font-medium text-slate-800",children:at.full_name}),b.jsx("span",{className:"text-slate-500 text-sm",children:at.email})]},at.id))})]}),b.jsx("div",{className:"border-t border-slate-200 my-4"}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-3",children:"Connect with a New Supervisor"}),ji==="free"&&Me.length>=fl&&b.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded text-yellow-900 font-semibold text-center",children:"You have reached your supervisor connection limit for the Free plan. Upgrade to add more."}),b.jsxs("form",{className:"flex flex-col md:flex-row gap-4 items-start md:items-end",onSubmit:uc,children:[b.jsxs("div",{className:"flex-1 w-full",children:[b.jsx("label",{htmlFor:"supervisorEmail",className:"label",children:"Supervisor Email"}),b.jsx("input",{type:"email",id:"supervisorEmail",value:ne,onChange:at=>J(at.target.value),className:"input w-full",placeholder:"Enter supervisor's email",required:!0,disabled:ji==="free"&&Me.length>=fl})]}),b.jsx("button",{type:"submit",className:"btn btn-primary whitespace-nowrap",disabled:g||ji==="free"&&Me.length>=fl,children:g?"Sending...":"Send Request"})]}),xe&&b.jsx("div",{className:`mt-3 text-sm p-2 rounded-md ${ue==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:xe})]})]})]}),b.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[b.jsx("div",{className:"flex items-center justify-between mb-4",children:b.jsxs("div",{className:"flex items-center",children:[b.jsx($2,{className:"h-6 w-6 text-gray-400 mr-2"}),b.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Notification Preferences"})]})}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Supervisor Reviews"}),b.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when you receive new reviews or updates"})]}),b.jsx(bm,{checked:os,onChange:Zm,className:`${os?"bg-teal-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2`,children:b.jsx("span",{className:`${os?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"SAO Feedback"}),b.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when you receive feedback on your SAOs"})]}),b.jsx(bm,{checked:ul,onChange:ma,className:`${ul?"bg-teal-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2`,children:b.jsx("span",{className:`${ul?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Relationship Updates"}),b.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when your supervisor relationship status changes"})]}),b.jsx(bm,{checked:lc,onChange:wf,className:`${lc?"bg-teal-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2`,children:b.jsx("span",{className:`${lc?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Skill Updates"}),b.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when your skills are updated or approved"})]}),b.jsx(bm,{checked:su,onChange:xf,className:`${su?"bg-teal-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2`,children:b.jsx("span",{className:`${su?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]})]})]}),b.jsxs("section",{className:"card p-6",children:[b.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[b.jsx($2,{})," Notifications"]}),b.jsx("p",{className:"text-slate-500 text-sm",children:"Coming soon: Manage your email and in-app notification preferences."})]}),b.jsxs("section",{className:"card p-6",children:[b.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[b.jsx(mY,{})," Appearance"]}),b.jsx("p",{className:"text-slate-500 text-sm",children:"Coming soon: Switch between light and dark mode."})]}),b.jsxs("section",{className:"card p-6 border-red-200",children:[b.jsxs("h2",{className:"text-lg font-semibold text-red-600 flex items-center gap-2 mb-2",children:[b.jsx(T0,{})," Danger Zone"]}),b.jsx("button",{className:"btn btn-danger",children:"Delete Account"}),b.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"This action is irreversible. Your data will be permanently deleted."})]}),v.text&&b.jsx("div",{className:`fixed bottom-4 right-4 p-4 rounded-md z-50 ${v.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.text})]})}),Oe&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full relative",children:[b.jsx("button",{className:"absolute top-2 right-2 text-slate-400 hover:text-slate-600",onClick:()=>{Ce(!1),Xn(!1),sn(null)},"aria-label":"Close",children:"×"}),b.jsx("h2",{className:"text-xl font-bold mb-4 text-teal-800",children:"Upgrade to Pro"}),Wn?b.jsx("div",{className:"p-3 bg-green-50 text-green-700 rounded-md text-sm mb-4",children:"Your request has been sent successfully. We'll get back to you soon!"}):b.jsxs("form",{onSubmit:async at=>{at.preventDefault(),wt(!0),sn(null),Xn(!1);try{const gt=await fetch("https://bbixvnkqroskholbxkgj.supabase.co/functions/v1/send-support-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU"},body:JSON.stringify({email:Rr,subject:"Pro Plan Upgrade Request",message:`Name: ${rs}

${bi}`,issueType:"pro",mode:"help"})}),_t=await gt.json();if(!gt.ok)throw new Error(_t.error||"Failed to send message");Xn(!0),jr(""),Ii(""),yi("")}catch(gt){sn(gt instanceof Error?gt.message:"Failed to send message. Please try again later.")}finally{wt(!1)}},className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Name"}),b.jsx("input",{type:"text",className:"input",value:rs,onChange:at=>jr(at.target.value),required:!0,disabled:vi})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),b.jsx("input",{type:"email",className:"input",value:Rr,onChange:at=>Ii(at.target.value),required:!0,disabled:vi})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Message"}),b.jsx("textarea",{className:"input",rows:4,value:bi,onChange:at=>yi(at.target.value),required:!0,disabled:vi})]}),Ht&&b.jsx("div",{className:"p-3 bg-red-50 text-red-700 rounded-md text-sm",children:Ht}),b.jsxs("div",{className:"flex justify-end gap-2",children:[b.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{Ce(!1),Xn(!1),sn(null)},disabled:vi,children:"Cancel"}),b.jsx("button",{type:"submit",className:"btn btn-primary",disabled:vi,children:vi?"Sending...":"Send Request"})]})]})]})}),He&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full relative",children:[b.jsx("button",{className:"absolute top-2 right-2 text-slate-400 hover:text-slate-600",onClick:()=>{qe(!1),Vn(!1),mn(null)},"aria-label":"Close",children:"×"}),b.jsx("h2",{className:"text-xl font-bold mb-4 text-purple-800",children:"Contact Us"}),qt?b.jsx("div",{className:"p-3 bg-green-50 text-green-700 rounded-md text-sm mb-4",children:"Your message has been sent successfully. We'll get back to you soon!"}):b.jsxs("form",{onSubmit:async at=>{at.preventDefault(),bt(!0),mn(null),Vn(!1);try{const gt=await fetch("https://bbixvnkqroskholbxkgj.supabase.co/functions/v1/send-support-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU"},body:JSON.stringify({email:Ue,subject:"Enterprise Plan Inquiry",message:`Name: ${_e}
Corporation: ${nt}

${ht}`,issueType:"enterprise",mode:"help"})}),_t=await gt.json();if(!gt.ok)throw new Error(_t.error||"Failed to send message");Vn(!0),ce(""),et(""),ct(""),Pt("")}catch(gt){mn(gt instanceof Error?gt.message:"Failed to send message. Please try again later.")}finally{bt(!1)}},className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Name"}),b.jsx("input",{type:"text",className:"input",value:_e,onChange:at=>ce(at.target.value),required:!0,disabled:Bt})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),b.jsx("input",{type:"email",className:"input",value:Ue,onChange:at=>et(at.target.value),required:!0,disabled:Bt})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Corporation Name"}),b.jsx("input",{type:"text",className:"input",value:nt,onChange:at=>ct(at.target.value),required:!0,disabled:Bt})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Message"}),b.jsx("textarea",{className:"input",rows:4,value:ht,onChange:at=>Pt(at.target.value),required:!0,disabled:Bt})]}),Zt&&b.jsx("div",{className:"p-3 bg-red-50 text-red-700 rounded-md text-sm",children:Zt}),b.jsxs("div",{className:"flex justify-end gap-2",children:[b.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{qe(!1),Vn(!1),mn(null)},disabled:Bt,children:"Cancel"}),b.jsx("button",{type:"submit",className:"btn btn-primary",disabled:Bt,children:Bt?"Sending...":"Send Message"})]})]})]})}),Mr&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full relative",children:[b.jsx("button",{className:"absolute top-2 right-2 text-slate-400 hover:text-slate-600",onClick:()=>{Ji(!1),js(!1),ll(null)},"aria-label":"Close",children:"×"}),b.jsx("h2",{className:"text-xl font-bold mb-4 text-blue-800",children:"Downgrade to Free"}),so?b.jsx("div",{className:"p-3 bg-green-50 text-green-700 rounded-md text-sm mb-4",children:"Your downgrade request has been sent successfully. We'll get back to you soon!"}):b.jsxs("form",{onSubmit:async at=>{at.preventDefault(),al(!0),ll(null),js(!1);try{const gt=await fetch("https://bbixvnkqroskholbxkgj.supabase.co/functions/v1/send-support-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU"},body:JSON.stringify({email:Ps,subject:"Downgrade to Free Plan Request",message:`Name: ${ft}

${Is}`,issueType:"downgrade",mode:"help"})}),_t=await gt.json();if(!gt.ok)throw new Error(_t.error||"Failed to send message");js(!0),An(""),ss(""),ol("")}catch(gt){ll(gt instanceof Error?gt.message:"Failed to send message. Please try again later.")}finally{al(!1)}},className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Name"}),b.jsx("input",{type:"text",className:"input",value:ft,onChange:at=>An(at.target.value),required:!0,disabled:Mo})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),b.jsx("input",{type:"email",className:"input",value:Ps,onChange:at=>ss(at.target.value),required:!0,disabled:Mo})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Message"}),b.jsx("textarea",{className:"input",rows:4,value:Is,onChange:at=>ol(at.target.value),required:!0,disabled:Mo})]}),Oo&&b.jsx("div",{className:"p-3 bg-red-50 text-red-700 rounded-md text-sm",children:Oo}),b.jsxs("div",{className:"flex justify-end gap-2",children:[b.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{Ji(!1),js(!1),ll(null)},disabled:Mo,children:"Cancel"}),b.jsx("button",{type:"submit",className:"btn btn-primary",disabled:Mo,children:Mo?"Sending...":"Send Request"})]})]})]})})]})},GS=ac((n,e)=>({saos:[],loading:!1,error:null,lastFetched:null,clearState:()=>n({saos:[],loading:!1,error:null,lastFetched:null}),createSAO:async(i,r,o,l)=>{var c;n({loading:!0,error:null});try{console.log("Creating new SAO...");const{data:{user:u},error:h}=await je.auth.getUser();if(h)throw console.error("Auth error:",h),new Error("Authentication error: "+h.message);if(!u)throw new Error("No authenticated user found");await je.from("eit_profiles").upsert({id:u.id,full_name:((c=u.user_metadata)==null?void 0:c.full_name)||"",email:u.email||""}),console.log("Creating SAO:",{title:i,content:r,skills:o,eit_id:u.id});const{data:m,error:g}=await je.from("saos").insert([{eit_id:u.id,title:i,content:r,status:l}]).select().single();if(g)throw console.error("Error creating SAO:",{error:g,message:g.message,details:g.details,hint:g.hint,code:g.code}),g;console.log("SAO created successfully:",m);const y=o.map(_=>({sao_id:m.id,skill_id:_.id,category_name:_.category_name||""}));console.log("Creating SAO skills relationships:",y);const{error:v}=await je.from("sao_skills").insert(y);if(v)throw console.error("Error creating SAO skills:",{error:v,message:v.message,details:v.details,hint:v.hint,code:v.code}),v;console.log("SAO skills created successfully"),await e().loadUserSAOs()}catch(u){throw console.error("Error in createSAO:",{error:u,message:u.message,details:u.details,hint:u.hint}),n({error:`Failed to create SAO: ${u.message||"Unknown error"}`}),u}finally{n({loading:!1})}},updateSAO:async(i,r,o,l,c)=>{n({loading:!0,error:null});try{console.log("Updating SAO:",{id:i,title:r,content:o,skills:l});const{data:{user:u},error:h}=await je.auth.getUser();if(h)throw console.error("Auth error:",h),new Error("Authentication error: "+h.message);if(!u)throw new Error("No authenticated user found");const{error:m}=await je.from("saos").update({title:r,content:o,status:c}).eq("id",i).eq("eit_id",u.id);if(m)throw console.error("Error updating SAO:",m),m;const{error:g}=await je.from("sao_skills").delete().eq("sao_id",i);if(g)throw console.error("Error deleting existing SAO skills:",g),g;const y=l.map(_=>({sao_id:i,skill_id:_.id,category_name:_.category_name||""})),{error:v}=await je.from("sao_skills").insert(y);if(v)throw console.error("Error updating SAO skills:",v),v;n(_=>({saos:_.saos.map(A=>A.id===i?{...A,title:r,content:o,status:c,skills:l}:A)})),await e().loadUserSAOs()}catch(u){throw console.error("Error in updateSAO:",{error:u,message:u.message,details:u.details,hint:u.hint}),n({error:`Failed to update SAO: ${u.message||"Unknown error"}`}),u}finally{n({loading:!1})}},deleteSAO:async i=>{n({loading:!0,error:null});try{console.log("Deleting SAO:",i);const{data:{user:r},error:o}=await je.auth.getUser();if(o)throw console.error("Auth error:",o),new Error("Authentication error: "+o.message);if(!r)throw new Error("No authenticated user found");const{error:l}=await je.from("sao_skills").delete().eq("sao_id",i);if(l)throw console.error("Error deleting SAO skills:",l),l;const{error:c}=await je.from("saos").delete().eq("id",i).eq("eit_id",r.id);if(c)throw console.error("Error deleting SAO:",c),c;n(u=>({saos:u.saos.filter(h=>h.id!==i)}))}catch(r){throw console.error("Error in deleteSAO:",{error:r,message:r.message,details:r.details,hint:r.hint}),n({error:`Failed to delete SAO: ${r.message||"Unknown error"}`}),r}finally{n({loading:!1})}},requestFeedback:async(i,r)=>{var o;n({loading:!0,error:null});try{const{data:{user:l}}=await je.auth.getUser();if(!l)throw new Error("No authenticated user found");const{data:c}=await je.from("saos").select("title").eq("id",i).single();await je.from("sao_feedback").delete().eq("sao_id",i),await je.from("saos").update({status:"in-review"}).eq("id",i),await je.from("sao_feedback").insert([{sao_id:i,supervisor_id:r,feedback:"",status:"pending"}]),await oxe(r,((o=l.user_metadata)==null?void 0:o.full_name)||l.email,(c==null?void 0:c.title)||"SAO"),await e().loadUserSAOs(!0)}catch(l){throw n({error:`Failed to request feedback: ${l.message||"Unknown error"}`}),l}finally{n({loading:!1})}},submitFeedback:async(i,r)=>{n({loading:!0,error:null});try{const{data:{user:o}}=await je.auth.getUser();if(!o)throw new Error("No authenticated user found");const{data:l}=await je.from("saos").select("eit_id, title").eq("id",i).single();await je.from("sao_feedback").update({feedback:r,status:"submitted"}).eq("sao_id",i).eq("supervisor_id",o.id),l!=null&&l.eit_id&&await sxe(l.eit_id,(l==null?void 0:l.title)||"SAO",1),await e().loadUserSAOs(!0)}catch(o){throw n({error:`Failed to submit feedback: ${o.message||"Unknown error"}`}),o}finally{n({loading:!1})}},resolveFeedback:async i=>{n({loading:!0,error:null});try{const{error:r}=await je.from("sao_feedback").update({status:"resolved"}).eq("id",i);if(r)throw r;await e().loadUserSAOs(!0)}catch(r){throw n({error:`Failed to resolve feedback: ${r.message||"Unknown error"}`}),r}finally{n({loading:!1})}},loadUserSAOs:async(i=!1)=>{const r=Date.now(),o=e().lastFetched;if(!(!i&&o&&r-o<5*60*1e3)){n({loading:!0,error:null});try{console.log("Loading user SAOs...");const{data:{user:l},error:c}=await je.auth.getUser();if(c)throw console.error("Auth error:",c),new Error("Authentication error: "+c.message);if(!l)throw new Error("No authenticated user found");console.log("Fetching SAOs for user:",l.id);const{data:u,error:h}=await je.from("saos").select(`
          *,
          sao_skills (
            skill_id,
            category_name
          ),
          sao_feedback:sao_feedback_sao_id_fkey (
            id,
            supervisor_id,
            feedback,
            status,
            created_at,
            updated_at
          )
        `).eq("eit_id",l.id).order("created_at",{ascending:!1});if(h)throw console.error("Error fetching SAOs:",h),h;console.log("SAOs fetched:",u==null?void 0:u.length);const m=(u==null?void 0:u.map(g=>({...g,skills:g.sao_skills.map(y=>({id:y.skill_id,name:"",category_name:y.category_name,status:"not-started"})),feedback:g.sao_feedback||[]})))||[];console.log("Transformed SAOs:",m.length),n({saos:m,lastFetched:r})}catch(l){throw console.error("Error in loadUserSAOs:",{error:l,message:l.message,details:l.details,hint:l.hint}),n({error:`Failed to load SAOs: ${l.message||"Unknown error"}`}),l}finally{n({loading:!1})}}},fetchAnnotations:async i=>{n({loading:!0,error:null});try{const{data:r,error:o}=await je.from("sao_annotation").select("*").eq("sao_id",i).order("created_at",{ascending:!0});if(o)throw o;return r}catch(r){return n({error:`Failed to fetch annotations: ${r.message||"Unknown error"}`}),[]}finally{n({loading:!1})}},addAnnotation:async(i,r,o)=>{var l;n({loading:!0,error:null});try{const{data:{user:c},error:u}=await je.auth.getUser();if(u)throw u;if(!c)throw new Error("No authenticated user found");let h=null,m="eit",g=((l=c.user_metadata)==null?void 0:l.full_name)||c.email||"Unknown";const{data:y}=await je.from("supervisor_profiles").select("id, full_name").eq("id",c.id).single();if(y)h=y.id,m="supervisor",g=y.full_name||g;else{const{data:_}=await je.from("eit_profiles").select("full_name").eq("id",c.id).single();_&&_.full_name&&(g=_.full_name)}const{error:v}=await je.from("sao_annotation").insert([{sao_id:i,supervisor_id:h,created_by:c.id,author_name:g,author_role:m,location:r,annotation:o,status:"active"}]);if(v)throw v}catch(c){throw n({error:`Failed to add annotation: ${c.message||"Unknown error"}`}),c}finally{n({loading:!1})}},fetchReplies:async i=>{n({loading:!0,error:null});try{const{data:r,error:o}=await je.from("sao_annotation_replies").select("*").eq("annotation_id",i).order("created_at",{ascending:!0});if(o)throw o;return r||[]}catch(r){return n({error:`Failed to fetch replies: ${r.message||"Unknown error"}`}),[]}finally{n({loading:!1})}},addReply:async(i,r)=>{n({loading:!0,error:null});try{const{data:{user:o},error:l}=await je.auth.getUser();if(l)throw l;if(!o)throw new Error("No authenticated user found");const{error:c}=await je.from("sao_annotation_replies").insert([{annotation_id:i,content:r,author_id:o.id}]);if(c)throw c}catch(o){throw n({error:`Failed to add reply: ${o.message||"Unknown error"}`}),o}finally{n({loading:!1})}},resolveAnnotation:async i=>{n({loading:!0,error:null});try{const{error:r}=await je.from("sao_annotation").update({resolved:!0}).eq("id",i);if(r)throw r}catch(r){throw n({error:`Failed to resolve annotation: ${r.message||"Unknown error"}`}),r}finally{n({loading:!1})}},deleteAnnotation:async i=>{n({loading:!0,error:null});try{const{error:r}=await je.from("sao_annotation").delete().eq("id",i);if(r)throw r}catch(r){throw n({error:`Failed to delete annotation: ${r.message||"Unknown error"}`}),r}finally{n({loading:!1})}},updateAnnotationStatus:async(i,r)=>{n({loading:!0,error:null});try{const{error:o}=await je.from("sao_annotation").update({status:r}).eq("id",i);if(o)throw o}catch(o){throw n({error:`Failed to update annotation status: ${o.message||"Unknown error"}`}),o}finally{n({loading:!1})}}})),XY=({saoId:n,content:e,readOnly:i})=>{const{fetchAnnotations:r,addAnnotation:o,fetchReplies:l,addReply:c,resolveAnnotation:u,deleteAnnotation:h}=GS(),[m,g]=H.useState([]),[y,v]=H.useState({}),[_,A]=H.useState(null),[S,C]=H.useState(null),[T,N]=H.useState(""),[I,O]=H.useState(!1),[F,U]=H.useState(null),[V,B]=H.useState(!1),[Z,ae]=H.useState(null),[me,Q]=H.useState(null),[ge,$]=H.useState({}),[Te,re]=H.useState(null),[ie,G]=H.useState({}),K=H.useRef(null),ne=H.useRef({}),J=H.useRef({});H.useEffect(()=>{(async()=>{const Fe=await r(n);g(Fe);const We={},ze={};for(const Ne of Fe)We[Ne.id]=await l(Ne.id);v(We),G(ze)})()},[n,r,l]),m.map(Re=>({id:Re.id,start:Re.location.start,end:Re.location.end,comment:Re.annotation,author_role:Re.author_role,author_name:Re.author_name}));const ue=m.filter(Re=>!Re.resolved);function ee(Re,Fe,We){let ze=0;function Ne(ke){if(ke===Fe)return ze+=We,!0;if(ke.nodeType===Node.TEXT_NODE)ze+=(ke.textContent||"").length;else for(let Be of Array.from(ke.childNodes))if(Ne(Be))return!0;return!1}return Ne(Re),ze}const xe=Re=>{const Fe=window.getSelection();if(!Fe||!Fe.rangeCount){Q(null);return}const We=Fe.getRangeAt(0);if(!K.current||!K.current.contains(We.commonAncestorContainer)){Q(null);return}if(Fe.isCollapsed){Q(null);return}const ze=ee(K.current,We.startContainer,We.startOffset),Ne=ee(K.current,We.endContainer,We.endOffset);if(ze!==Ne){const ke=We.getBoundingClientRect();Q({x:ke.right-K.current.getBoundingClientRect().left,y:ke.bottom-K.current.getBoundingClientRect().top+window.scrollY}),U({start:Math.min(ze,Ne),end:Math.max(ze,Ne)})}else Q(null)},Se=()=>{if(!ue.length)return e;let Re=[],Fe=0;return[...ue].sort((ze,Ne)=>ze.location.start-Ne.location.start).forEach((ze,Ne)=>{const ke=ze.author_role==="supervisor",Be=ze.resolved,X=Be?"#e9ecef":ke?_===ze.id||S===ze.id?"#ffe066":"#fff3bf":_===ze.id||S===ze.id?"#d0ebff":"#e7f5ff",Ae=ke?"#ffd43b":"#228be6";Re.push(e.slice(Fe,ze.location.start)),Re.push(b.jsxs("span",{ref:Ie=>ne.current[ze.id]=Ie,style:{background:X,borderRadius:3,boxShadow:_===ze.id||S===ze.id?`0 0 0 2px ${Ae}`:void 0,cursor:"pointer",position:"relative",transition:"background 0.2s, box-shadow 0.2s",padding:"0 2px",opacity:Be?.6:1},onClick:Ie=>{A(ze.id),re(ze.id),setTimeout(()=>{var be;(be=J.current[ze.id])==null||be.scrollIntoView({behavior:"smooth",block:"center"})},100)},onMouseEnter:()=>C(ze.id),onMouseLeave:()=>C(null),children:[e.slice(ze.location.start,ze.location.end),b.jsx("span",{style:{display:"inline-block",verticalAlign:"middle",marginLeft:2,color:ke?"#fab005":"#228be6",cursor:"pointer",position:"relative",top:2},title:"View comment",onClick:Ie=>{var be;Ie.stopPropagation(),A(ze.id),re(ze.id),(be=J.current[ze.id])==null||be.scrollIntoView({behavior:"smooth",block:"center"})},children:b.jsx(C0,{size:14})}),Te===ze.id&&_===ze.id&&b.jsxs("div",{style:{position:"absolute",left:0,top:"100%",zIndex:100,background:"white",border:"1px solid #ddd",borderRadius:6,boxShadow:"0 2px 8px rgba(0,0,0,0.08)",minWidth:280,padding:12,marginTop:4},onClick:Ie=>Ie.stopPropagation(),children:[b.jsxs("div",{className:"flex justify-between items-center mb-1",children:[b.jsxs("span",{className:"text-xs text-slate-500",children:[ze.author_name," (",ke?"Supervisor":"EIT",")",Be&&b.jsx("span",{className:"ml-2 text-green-600 font-semibold",children:"[Resolved]"})]}),b.jsx("button",{onClick:()=>re(null),className:"text-slate-400 hover:text-slate-600",children:b.jsx(eo,{size:16})})]}),b.jsx("div",{className:"text-slate-800 text-sm mb-2",children:ze.annotation}),y[ze.id]&&y[ze.id].length>0&&b.jsx("div",{className:"mb-2",children:y[ze.id].map(Ie=>b.jsxs("div",{className:"flex items-start gap-2 mb-1",children:[b.jsx(WW,{size:14,className:"mt-1 text-slate-400"}),b.jsx("div",{children:b.jsx("span",{className:"text-xs text-slate-500",children:Ie.content})})]},Ie.id))}),!Be&&b.jsxs("div",{className:"flex gap-2 mt-2",children:[b.jsx("input",{type:"text",className:"input input-sm flex-1",placeholder:"Reply...",value:ge[ze.id]||"",onChange:Ie=>$({...ge,[ze.id]:Ie.target.value})}),b.jsx("button",{className:"btn btn-primary btn-sm",onClick:async()=>{var be;if(!ze.id){console.error("Tried to fetch replies for undefined annotation id");return}if(!((be=ge[ze.id])!=null&&be.trim()))return;await c(ze.id,ge[ze.id]),$({...ge,[ze.id]:""});const Ie=await l(ze.id);v(we=>({...we,[ze.id]:Ie}))},children:"Reply"})]}),b.jsxs("div",{className:"flex gap-2 mt-2",children:[!Be&&b.jsxs("button",{className:"btn btn-success btn-xs",onClick:async()=>{if(!ze.id){console.error("Tried to resolve annotation with undefined id");return}await u(ze.id);const Ie=await r(n);g(Ie),G(be=>({...be,[ze.id]:!0})),_===ze.id&&A(null),Te===ze.id&&re(null)},children:[b.jsx(kM,{size:14,className:"mr-1"}),"Resolve"]}),Be&&b.jsxs("button",{className:"btn btn-danger btn-xs",onClick:async()=>{if(!ze.id){console.error("Tried to delete annotation with undefined id");return}await h(ze.id);const Ie=await r(n);g(Ie),Te===ze.id&&re(null),_===ze.id&&A(null)},children:[b.jsx(T0,{size:14,className:"mr-1"}),"Delete"]})]})]})]},ze.id)),Fe=ze.location.end}),Re.push(e.slice(Fe)),Re},Me=async()=>{if(!(!F||!T.trim())){B(!0),ae(null);try{await o(n,F,T),N(""),U(null),O(!1),Q(null);const Re=await r(n);g(Re)}catch(Re){ae(Re.message||"Failed to save annotation")}finally{B(!1)}}};return H.useEffect(()=>{_&&!ue.some(Re=>Re.id===_)&&(re(null),A(null))},[ue,_]),b.jsxs("div",{className:"flex gap-6",children:[b.jsxs("div",{style:{flex:1,minWidth:0,position:"relative"},children:[b.jsx("div",{ref:K,style:{whiteSpace:"pre-wrap",cursor:i?"default":"text",minHeight:80},onMouseUp:i?void 0:xe,children:Se()}),!i&&me&&F&&!I&&b.jsx("button",{style:{position:"absolute",left:me.x,top:me.y,zIndex:10,background:"#fab005",color:"white",border:"none",borderRadius:6,padding:"4px 10px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",cursor:"pointer",fontWeight:600},onClick:()=>O(!0),children:"Add comment"}),!i&&I&&b.jsxs("div",{className:"mt-2 flex flex-col gap-2 bg-yellow-50 p-3 rounded shadow max-w-md",style:{position:"absolute",left:(me==null?void 0:me.x)||0,top:(me==null?void 0:me.y)||0,zIndex:20},children:[b.jsx("textarea",{value:T,onChange:Re=>N(Re.target.value),placeholder:"Enter comment...",className:"w-full px-3 py-2 border border-slate-300 rounded-md",rows:2,autoFocus:!0}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{className:"btn btn-primary",onClick:Me,disabled:!T.trim()||V,children:V?"Saving...":"Save Comment"}),b.jsx("button",{className:"btn btn-secondary",onClick:()=>{O(!1),U(null),N(""),Q(null)},disabled:V,children:"Cancel"})]}),Z&&b.jsx("div",{className:"text-red-600 text-sm mt-1",children:Z})]})]}),b.jsxs("div",{className:"w-72 border-l pl-4 flex flex-col gap-3 bg-slate-50 max-h-[400px] overflow-y-auto",children:[b.jsx("h4",{className:"font-semibold text-slate-700 mb-2",children:"Comments"}),ue.length===0&&b.jsx("div",{className:"text-slate-400 text-sm",children:"No comments yet."}),ue.map(Re=>{const Fe=Re.author_role==="supervisor",We=Re.resolved;return b.jsxs("div",{ref:ze=>J.current[Re.id]=ze,className:`p-2 rounded cursor-pointer transition-all ${_===Re.id?Fe?"bg-yellow-100":"bg-blue-100":S===Re.id?Fe?"bg-yellow-50":"bg-blue-50":"hover:bg-slate-100"}`,onClick:()=>A(Re.id),onMouseEnter:()=>C(Re.id),onMouseLeave:()=>C(null),style:{borderLeft:_===Re.id?Fe?"3px solid #fab005":"3px solid #228be6":"3px solid transparent",opacity:We?.6:1},children:[b.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 mb-1 italic max-w-full truncate",children:[Re.author_name?`${Re.author_name} (${Fe?"Supervisor":"EIT"})`:"",We&&b.jsx("span",{className:"ml-2 text-green-600 font-semibold",children:"[Resolved]"}),b.jsx("span",{className:"ml-2",children:e.slice(Re.location.start,Re.location.end)})]}),b.jsx("div",{className:"text-slate-800 text-sm mb-1",children:Re.annotation}),y[Re.id]&&y[Re.id].length>0&&b.jsx("div",{className:"mb-1 ml-4",children:y[Re.id].map(ze=>b.jsxs("div",{className:"flex items-start gap-2 mb-1",children:[b.jsx(WW,{size:14,className:"mt-1 text-slate-400"}),b.jsx("div",{children:b.jsx("span",{className:"text-xs text-slate-500",children:ze.content})})]},ze.id))}),!We&&b.jsxs("div",{className:"flex gap-2 mt-1 ml-4",children:[b.jsx("input",{type:"text",className:"input input-xs flex-1",placeholder:"Reply...",value:ge[Re.id]||"",onChange:ze=>$({...ge,[Re.id]:ze.target.value})}),b.jsx("button",{className:"btn btn-primary btn-xs",onClick:async()=>{var Ne;if(!Re.id){console.error("Tried to fetch replies for undefined annotation id");return}if(!((Ne=ge[Re.id])!=null&&Ne.trim()))return;await c(Re.id,ge[Re.id]),$({...ge,[Re.id]:""});const ze=await l(Re.id);v(ke=>({...ke,[Re.id]:ze}))},children:"Reply"})]}),b.jsxs("div",{className:"flex gap-2 mt-2 ml-4",children:[!We&&b.jsxs("button",{className:"btn btn-success btn-xs",onClick:async()=>{if(!Re.id){console.error("Tried to resolve annotation with undefined id");return}await u(Re.id);const ze=await r(n);g(ze),G(Ne=>({...Ne,[Re.id]:!0})),_===Re.id&&A(null),Te===Re.id&&re(null)},children:[b.jsx(kM,{size:14,className:"mr-1"}),"Resolve"]}),We&&b.jsxs("button",{className:"btn btn-danger btn-xs",onClick:async()=>{if(!Re.id){console.error("Tried to delete annotation with undefined id");return}await h(Re.id);const ze=await r(n);g(ze),Te===Re.id&&re(null),_===Re.id&&A(null)},children:[b.jsx(T0,{size:14,className:"mr-1"}),"Delete"]})]})]},Re.id)})]})]})};let lxe={data:""},cxe=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||lxe,uxe=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,dxe=/\/\*[^]*?\*\/|  +/g,a$=/\n+/g,Dp=(n,e)=>{let i="",r="",o="";for(let l in n){let c=n[l];l[0]=="@"?l[1]=="i"?i=l+" "+c+";":r+=l[1]=="f"?Dp(c,l):l+"{"+Dp(c,l[1]=="k"?"":e)+"}":typeof c=="object"?r+=Dp(c,e?e.replace(/([^,])+/g,u=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,u):u?u+" "+h:h)):l):c!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Dp.p?Dp.p(l,c):l+":"+c+";")}return i+(e&&o?e+"{"+o+"}":o)+r},ch={},KY=n=>{if(typeof n=="object"){let e="";for(let i in n)e+=i+KY(n[i]);return e}return n},hxe=(n,e,i,r,o)=>{let l=KY(n),c=ch[l]||(ch[l]=(h=>{let m=0,g=11;for(;m<h.length;)g=101*g+h.charCodeAt(m++)>>>0;return"go"+g})(l));if(!ch[c]){let h=l!==n?n:(m=>{let g,y,v=[{}];for(;g=uxe.exec(m.replace(dxe,""));)g[4]?v.shift():g[3]?(y=g[3].replace(a$," ").trim(),v.unshift(v[0][y]=v[0][y]||{})):v[0][g[1]]=g[2].replace(a$," ").trim();return v[0]})(n);ch[c]=Dp(o?{["@keyframes "+c]:h}:h,i?"":"."+c)}let u=i&&ch.g?ch.g:null;return i&&(ch.g=ch[c]),((h,m,g,y)=>{y?m.data=m.data.replace(y,h):m.data.indexOf(h)===-1&&(m.data=g?h+m.data:m.data+h)})(ch[c],e,r,u),c},fxe=(n,e,i)=>n.reduce((r,o,l)=>{let c=e[l];if(c&&c.call){let u=c(i),h=u&&u.props&&u.props.className||/^go/.test(u)&&u;c=h?"."+h:u&&typeof u=="object"?u.props?"":Dp(u,""):u===!1?"":u}return r+o+(c??"")},"");function g3(n){let e=this||{},i=n.call?n(e.p):n;return hxe(i.unshift?i.raw?fxe(i,[].slice.call(arguments,1),e.p):i.reduce((r,o)=>Object.assign(r,o&&o.call?o(e.p):o),{}):i,cxe(e.target),e.g,e.o,e.k)}let ZY,NM,PM;g3.bind({g:1});let uf=g3.bind({k:1});function pxe(n,e,i,r){Dp.p=e,ZY=n,NM=i,PM=r}function qm(n,e){let i=this||{};return function(){let r=arguments;function o(l,c){let u=Object.assign({},l),h=u.className||o.className;i.p=Object.assign({theme:NM&&NM()},u),i.o=/ *go\d+/.test(h),u.className=g3.apply(i,r)+(h?" "+h:"");let m=n;return n[0]&&(m=u.as||n,delete u.as),PM&&m[0]&&PM(u),ZY(m,u)}return o}}var mxe=n=>typeof n=="function",X5=(n,e)=>mxe(n)?n(e):n,gxe=(()=>{let n=0;return()=>(++n).toString()})(),YY=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),bxe=20,JY=(n,e)=>{switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,bxe)};case 1:return{...n,toasts:n.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:i}=e;return JY(n,{type:n.toasts.find(l=>l.id===i.id)?1:0,toast:i});case 3:let{toastId:r}=e;return{...n,toasts:n.toasts.map(l=>l.id===r||r===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let o=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+o}))}}},ID=[],db={toasts:[],pausedAt:void 0},V0=n=>{db=JY(db,n),ID.forEach(e=>{e(db)})},yxe={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},vxe=(n={})=>{let[e,i]=H.useState(db),r=H.useRef(db);H.useEffect(()=>(r.current!==db&&i(db),ID.push(i),()=>{let l=ID.indexOf(i);l>-1&&ID.splice(l,1)}),[]);let o=e.toasts.map(l=>{var c,u,h;return{...n,...n[l.type],...l,removeDelay:l.removeDelay||((c=n[l.type])==null?void 0:c.removeDelay)||(n==null?void 0:n.removeDelay),duration:l.duration||((u=n[l.type])==null?void 0:u.duration)||(n==null?void 0:n.duration)||yxe[l.type],style:{...n.style,...(h=n[l.type])==null?void 0:h.style,...l.style}}});return{...e,toasts:o}},wxe=(n,e="blank",i)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...i,id:(i==null?void 0:i.id)||gxe()}),XS=n=>(e,i)=>{let r=wxe(e,n,i);return V0({type:2,toast:r}),r.id},ni=(n,e)=>XS("blank")(n,e);ni.error=XS("error");ni.success=XS("success");ni.loading=XS("loading");ni.custom=XS("custom");ni.dismiss=n=>{V0({type:3,toastId:n})};ni.remove=n=>V0({type:4,toastId:n});ni.promise=(n,e,i)=>{let r=ni.loading(e.loading,{...i,...i==null?void 0:i.loading});return typeof n=="function"&&(n=n()),n.then(o=>{let l=e.success?X5(e.success,o):void 0;return l?ni.success(l,{id:r,...i,...i==null?void 0:i.success}):ni.dismiss(r),o}).catch(o=>{let l=e.error?X5(e.error,o):void 0;l?ni.error(l,{id:r,...i,...i==null?void 0:i.error}):ni.dismiss(r)}),n};var xxe=(n,e)=>{V0({type:1,toast:{id:n,height:e}})},_xe=()=>{V0({type:5,time:Date.now()})},m2=new Map,kxe=1e3,Exe=(n,e=kxe)=>{if(m2.has(n))return;let i=setTimeout(()=>{m2.delete(n),V0({type:4,toastId:n})},e);m2.set(n,i)},Sxe=n=>{let{toasts:e,pausedAt:i}=vxe(n);H.useEffect(()=>{if(i)return;let l=Date.now(),c=e.map(u=>{if(u.duration===1/0)return;let h=(u.duration||0)+u.pauseDuration-(l-u.createdAt);if(h<0){u.visible&&ni.dismiss(u.id);return}return setTimeout(()=>ni.dismiss(u.id),h)});return()=>{c.forEach(u=>u&&clearTimeout(u))}},[e,i]);let r=H.useCallback(()=>{i&&V0({type:6,time:Date.now()})},[i]),o=H.useCallback((l,c)=>{let{reverseOrder:u=!1,gutter:h=8,defaultPosition:m}=c||{},g=e.filter(_=>(_.position||m)===(l.position||m)&&_.height),y=g.findIndex(_=>_.id===l.id),v=g.filter((_,A)=>A<y&&_.visible).length;return g.filter(_=>_.visible).slice(...u?[v+1]:[0,v]).reduce((_,A)=>_+(A.height||0)+h,0)},[e]);return H.useEffect(()=>{e.forEach(l=>{if(l.dismissed)Exe(l.id,l.removeDelay);else{let c=m2.get(l.id);c&&(clearTimeout(c),m2.delete(l.id))}})},[e]),{toasts:e,handlers:{updateHeight:xxe,startPause:_xe,endPause:r,calculateOffset:o}}},Axe=uf`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Cxe=uf`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Txe=uf`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Dxe=qm("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Axe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Cxe} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Txe} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Nxe=uf`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Pxe=qm("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${Nxe} 1s linear infinite;
`,Ixe=uf`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,jxe=uf`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Rxe=qm("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ixe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${jxe} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Mxe=qm("div")`
  position: absolute;
`,Oxe=qm("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Fxe=uf`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Uxe=qm("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Fxe} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Lxe=({toast:n})=>{let{icon:e,type:i,iconTheme:r}=n;return e!==void 0?typeof e=="string"?H.createElement(Uxe,null,e):e:i==="blank"?null:H.createElement(Oxe,null,H.createElement(Pxe,{...r}),i!=="loading"&&H.createElement(Mxe,null,i==="error"?H.createElement(Dxe,{...r}):H.createElement(Rxe,{...r})))},Bxe=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,zxe=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,Vxe="0%{opacity:0;} 100%{opacity:1;}",Wxe="0%{opacity:1;} 100%{opacity:0;}",$xe=qm("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,qxe=qm("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Hxe=(n,e)=>{let i=n.includes("top")?1:-1,[r,o]=YY()?[Vxe,Wxe]:[Bxe(i),zxe(i)];return{animation:e?`${uf(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${uf(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Gxe=H.memo(({toast:n,position:e,style:i,children:r})=>{let o=n.height?Hxe(n.position||e||"top-center",n.visible):{opacity:0},l=H.createElement(Lxe,{toast:n}),c=H.createElement(qxe,{...n.ariaProps},X5(n.message,n));return H.createElement($xe,{className:n.className,style:{...o,...i,...n.style}},typeof r=="function"?r({icon:l,message:c}):H.createElement(H.Fragment,null,l,c))});pxe(H.createElement);var Xxe=({id:n,className:e,style:i,onHeightUpdate:r,children:o})=>{let l=H.useCallback(c=>{if(c){let u=()=>{let h=c.getBoundingClientRect().height;r(n,h)};u(),new MutationObserver(u).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[n,r]);return H.createElement("div",{ref:l,className:e,style:i},o)},Kxe=(n,e)=>{let i=n.includes("top"),r=i?{top:0}:{bottom:0},o=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:YY()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(i?1:-1)}px)`,...r,...o}},Zxe=g3`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,YT=16,Yxe=({reverseOrder:n,position:e="top-center",toastOptions:i,gutter:r,children:o,containerStyle:l,containerClassName:c})=>{let{toasts:u,handlers:h}=Sxe(i);return H.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:YT,left:YT,right:YT,bottom:YT,pointerEvents:"none",...l},className:c,onMouseEnter:h.startPause,onMouseLeave:h.endPause},u.map(m=>{let g=m.position||e,y=h.calculateOffset(m,{reverseOrder:n,gutter:r,defaultPosition:e}),v=Kxe(g,y);return H.createElement(Xxe,{id:m.id,key:m.id,onHeightUpdate:h.updateHeight,className:m.visible?Zxe:"",style:v},m.type==="custom"?X5(m.message,m):o?o(m):H.createElement(Gxe,{toast:m,position:g}))}))},ud=ni,nu={},J8="1.13.7",l$=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},b3=Array.prototype,Q8=Object.prototype,c$=typeof Symbol<"u"?Symbol.prototype:null,Jxe=b3.push,KS=b3.slice,K2=Q8.toString,Qxe=Q8.hasOwnProperty,QY=typeof ArrayBuffer<"u",e_e=typeof DataView<"u",t_e=Array.isArray,u$=Object.keys,d$=Object.create,h$=QY&&ArrayBuffer.isView,n_e=isNaN,i_e=isFinite,eJ=!{toString:null}.propertyIsEnumerable("toString"),f$=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],r_e=Math.pow(2,53)-1;function Io(n,e){return e=e==null?n.length-1:+e,function(){for(var i=Math.max(arguments.length-e,0),r=Array(i),o=0;o<i;o++)r[o]=arguments[o+e];switch(e){case 0:return n.call(this,r);case 1:return n.call(this,arguments[0],r);case 2:return n.call(this,arguments[0],arguments[1],r)}var l=Array(e+1);for(o=0;o<e;o++)l[o]=arguments[o];return l[e]=r,n.apply(this,l)}}function Hm(n){var e=typeof n;return e==="function"||e==="object"&&!!n}function tJ(n){return n===null}function eF(n){return n===void 0}function tF(n){return n===!0||n===!1||K2.call(n)==="[object Boolean]"}function nJ(n){return!!(n&&n.nodeType===1)}function io(n){var e="[object "+n+"]";return function(i){return K2.call(i)===e}}const y3=io("String"),nF=io("Number"),iJ=io("Date"),rJ=io("RegExp"),sJ=io("Error"),iF=io("Symbol"),rF=io("ArrayBuffer");var oJ=io("Function"),s_e=l$.document&&l$.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof s_e!="function"&&(oJ=function(n){return typeof n=="function"||!1});const no=oJ,aJ=io("Object");var lJ=e_e&&(!/\[native code\]/.test(String(DataView))||aJ(new DataView(new ArrayBuffer(8)))),sF=typeof Map<"u"&&aJ(new Map),o_e=io("DataView");function a_e(n){return n!=null&&no(n.getInt8)&&rF(n.buffer)}const Z2=lJ?a_e:o_e,Gm=t_e||io("Array");function Xm(n,e){return n!=null&&Qxe.call(n,e)}var IM=io("Arguments");(function(){IM(arguments)||(IM=function(n){return Xm(n,"callee")})})();const v3=IM;function cJ(n){return!iF(n)&&i_e(n)&&!isNaN(parseFloat(n))}function oF(n){return nF(n)&&n_e(n)}function aF(n){return function(){return n}}function uJ(n){return function(e){var i=n(e);return typeof i=="number"&&i>=0&&i<=r_e}}function dJ(n){return function(e){return e==null?void 0:e[n]}}const K5=dJ("byteLength"),l_e=uJ(K5);var c_e=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function u_e(n){return h$?h$(n)&&!Z2(n):l_e(n)&&c_e.test(K2.call(n))}const lF=QY?u_e:aF(!1),ca=dJ("length");function d_e(n){for(var e={},i=n.length,r=0;r<i;++r)e[n[r]]=!0;return{contains:function(o){return e[o]===!0},push:function(o){return e[o]=!0,n.push(o)}}}function hJ(n,e){e=d_e(e);var i=f$.length,r=n.constructor,o=no(r)&&r.prototype||Q8,l="constructor";for(Xm(n,l)&&!e.contains(l)&&e.push(l);i--;)l=f$[i],l in n&&n[l]!==o[l]&&!e.contains(l)&&e.push(l)}function Ir(n){if(!Hm(n))return[];if(u$)return u$(n);var e=[];for(var i in n)Xm(n,i)&&e.push(i);return eJ&&hJ(n,e),e}function fJ(n){if(n==null)return!0;var e=ca(n);return typeof e=="number"&&(Gm(n)||y3(n)||v3(n))?e===0:ca(Ir(n))===0}function cF(n,e){var i=Ir(e),r=i.length;if(n==null)return!r;for(var o=Object(n),l=0;l<r;l++){var c=i[l];if(e[c]!==o[c]||!(c in o))return!1}return!0}function Hn(n){if(n instanceof Hn)return n;if(!(this instanceof Hn))return new Hn(n);this._wrapped=n}Hn.VERSION=J8;Hn.prototype.value=function(){return this._wrapped};Hn.prototype.valueOf=Hn.prototype.toJSON=Hn.prototype.value;Hn.prototype.toString=function(){return String(this._wrapped)};function p$(n){return new Uint8Array(n.buffer||n,n.byteOffset||0,K5(n))}var m$="[object DataView]";function jM(n,e,i,r){if(n===e)return n!==0||1/n===1/e;if(n==null||e==null)return!1;if(n!==n)return e!==e;var o=typeof n;return o!=="function"&&o!=="object"&&typeof e!="object"?!1:pJ(n,e,i,r)}function pJ(n,e,i,r){n instanceof Hn&&(n=n._wrapped),e instanceof Hn&&(e=e._wrapped);var o=K2.call(n);if(o!==K2.call(e))return!1;if(lJ&&o=="[object Object]"&&Z2(n)){if(!Z2(e))return!1;o=m$}switch(o){case"[object RegExp]":case"[object String]":return""+n==""+e;case"[object Number]":return+n!=+n?+e!=+e:+n==0?1/+n===1/e:+n==+e;case"[object Date]":case"[object Boolean]":return+n==+e;case"[object Symbol]":return c$.valueOf.call(n)===c$.valueOf.call(e);case"[object ArrayBuffer]":case m$:return pJ(p$(n),p$(e),i,r)}var l=o==="[object Array]";if(!l&&lF(n)){var c=K5(n);if(c!==K5(e))return!1;if(n.buffer===e.buffer&&n.byteOffset===e.byteOffset)return!0;l=!0}if(!l){if(typeof n!="object"||typeof e!="object")return!1;var u=n.constructor,h=e.constructor;if(u!==h&&!(no(u)&&u instanceof u&&no(h)&&h instanceof h)&&"constructor"in n&&"constructor"in e)return!1}i=i||[],r=r||[];for(var m=i.length;m--;)if(i[m]===n)return r[m]===e;if(i.push(n),r.push(e),l){if(m=n.length,m!==e.length)return!1;for(;m--;)if(!jM(n[m],e[m],i,r))return!1}else{var g=Ir(n),y;if(m=g.length,Ir(e).length!==m)return!1;for(;m--;)if(y=g[m],!(Xm(e,y)&&jM(n[y],e[y],i,r)))return!1}return i.pop(),r.pop(),!0}function mJ(n,e){return jM(n,e)}function Y1(n){if(!Hm(n))return[];var e=[];for(var i in n)e.push(i);return eJ&&hJ(n,e),e}function uF(n){var e=ca(n);return function(i){if(i==null)return!1;var r=Y1(i);if(ca(r))return!1;for(var o=0;o<e;o++)if(!no(i[n[o]]))return!1;return n!==yJ||!no(i[dF])}}var dF="forEach",gJ="has",hF=["clear","delete"],bJ=["get",gJ,"set"],h_e=hF.concat(dF,bJ),yJ=hF.concat(bJ),f_e=["add"].concat(hF,dF,gJ);const vJ=sF?uF(h_e):io("Map"),wJ=sF?uF(yJ):io("WeakMap"),xJ=sF?uF(f_e):io("Set"),_J=io("WeakSet");function W0(n){for(var e=Ir(n),i=e.length,r=Array(i),o=0;o<i;o++)r[o]=n[e[o]];return r}function kJ(n){for(var e=Ir(n),i=e.length,r=Array(i),o=0;o<i;o++)r[o]=[e[o],n[e[o]]];return r}function fF(n){for(var e={},i=Ir(n),r=0,o=i.length;r<o;r++)e[n[i[r]]]=i[r];return e}function Y2(n){var e=[];for(var i in n)no(n[i])&&e.push(i);return e.sort()}function pF(n,e){return function(i){var r=arguments.length;if(e&&(i=Object(i)),r<2||i==null)return i;for(var o=1;o<r;o++)for(var l=arguments[o],c=n(l),u=c.length,h=0;h<u;h++){var m=c[h];(!e||i[m]===void 0)&&(i[m]=l[m])}return i}}const mF=pF(Y1),j1=pF(Ir),gF=pF(Y1,!0);function p_e(){return function(){}}function EJ(n){if(!Hm(n))return{};if(d$)return d$(n);var e=p_e();e.prototype=n;var i=new e;return e.prototype=null,i}function SJ(n,e){var i=EJ(n);return e&&j1(i,e),i}function AJ(n){return Hm(n)?Gm(n)?n.slice():mF({},n):n}function CJ(n,e){return e(n),n}function bF(n){return Gm(n)?n:[n]}Hn.toPath=bF;function ZS(n){return Hn.toPath(n)}function yF(n,e){for(var i=e.length,r=0;r<i;r++){if(n==null)return;n=n[e[r]]}return i?n:void 0}function vF(n,e,i){var r=yF(n,ZS(e));return eF(r)?i:r}function TJ(n,e){e=ZS(e);for(var i=e.length,r=0;r<i;r++){var o=e[r];if(!Xm(n,o))return!1;n=n[o]}return!!i}function w3(n){return n}function D0(n){return n=j1({},n),function(e){return cF(e,n)}}function x3(n){return n=ZS(n),function(e){return yF(e,n)}}function YS(n,e,i){if(e===void 0)return n;switch(i??3){case 1:return function(r){return n.call(e,r)};case 3:return function(r,o,l){return n.call(e,r,o,l)};case 4:return function(r,o,l,c){return n.call(e,r,o,l,c)}}return function(){return n.apply(e,arguments)}}function DJ(n,e,i){return n==null?w3:no(n)?YS(n,e,i):Hm(n)&&!Gm(n)?D0(n):x3(n)}function _3(n,e){return DJ(n,e,1/0)}Hn.iteratee=_3;function da(n,e,i){return Hn.iteratee!==_3?Hn.iteratee(n,e):DJ(n,e,i)}function NJ(n,e,i){e=da(e,i);for(var r=Ir(n),o=r.length,l={},c=0;c<o;c++){var u=r[c];l[u]=e(n[u],u,n)}return l}function wF(){}function PJ(n){return n==null?wF:function(e){return vF(n,e)}}function IJ(n,e,i){var r=Array(Math.max(0,n));e=YS(e,i,1);for(var o=0;o<n;o++)r[o]=e(o);return r}function Z5(n,e){return e==null&&(e=n,n=0),n+Math.floor(Math.random()*(e-n+1))}const R1=Date.now||function(){return new Date().getTime()};function jJ(n){var e=function(l){return n[l]},i="(?:"+Ir(n).join("|")+")",r=RegExp(i),o=RegExp(i,"g");return function(l){return l=l==null?"":""+l,r.test(l)?l.replace(o,e):l}}const RJ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},MJ=jJ(RJ),m_e=fF(RJ),OJ=jJ(m_e),FJ=Hn.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Ij=/(.)^/,g_e={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},b_e=/\\|'|\r|\n|\u2028|\u2029/g;function y_e(n){return"\\"+g_e[n]}var v_e=/^\s*(\w|\$)+\s*$/;function UJ(n,e,i){!e&&i&&(e=i),e=gF({},e,Hn.templateSettings);var r=RegExp([(e.escape||Ij).source,(e.interpolate||Ij).source,(e.evaluate||Ij).source].join("|")+"|$","g"),o=0,l="__p+='";n.replace(r,function(m,g,y,v,_){return l+=n.slice(o,_).replace(b_e,y_e),o=_+m.length,g?l+=`'+
((__t=(`+g+`))==null?'':_.escape(__t))+
'`:y?l+=`'+
((__t=(`+y+`))==null?'':__t)+
'`:v&&(l+=`';
`+v+`
__p+='`),m}),l+=`';
`;var c=e.variable;if(c){if(!v_e.test(c))throw new Error("variable is not a bare identifier: "+c)}else l=`with(obj||{}){
`+l+`}
`,c="obj";l=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+l+`return __p;
`;var u;try{u=new Function(c,"_",l)}catch(m){throw m.source=l,m}var h=function(m){return u.call(this,m,Hn)};return h.source="function("+c+`){
`+l+"}",h}function LJ(n,e,i){e=ZS(e);var r=e.length;if(!r)return no(i)?i.call(n):i;for(var o=0;o<r;o++){var l=n==null?void 0:n[e[o]];l===void 0&&(l=i,o=r),n=no(l)?l.call(n):l}return n}var w_e=0;function BJ(n){var e=++w_e+"";return n?n+e:e}function zJ(n){var e=Hn(n);return e._chain=!0,e}function VJ(n,e,i,r,o){if(!(r instanceof e))return n.apply(i,o);var l=EJ(n.prototype),c=n.apply(l,o);return Hm(c)?c:l}var $0=Io(function(n,e){var i=$0.placeholder,r=function(){for(var o=0,l=e.length,c=Array(l),u=0;u<l;u++)c[u]=e[u]===i?arguments[o++]:e[u];for(;o<arguments.length;)c.push(arguments[o++]);return VJ(n,r,this,this,c)};return r});$0.placeholder=Hn;const xF=Io(function(n,e,i){if(!no(n))throw new TypeError("Bind must be called on a function");var r=Io(function(o){return VJ(n,r,e,this,i.concat(o))});return r}),rl=uJ(ca);function q0(n,e,i,r){if(r=r||[],!e&&e!==0)e=1/0;else if(e<=0)return r.concat(n);for(var o=r.length,l=0,c=ca(n);l<c;l++){var u=n[l];if(rl(u)&&(Gm(u)||v3(u)))if(e>1)q0(u,e-1,i,r),o=r.length;else for(var h=0,m=u.length;h<m;)r[o++]=u[h++];else i||(r[o++]=u)}return r}const WJ=Io(function(n,e){e=q0(e,!1,!1);var i=e.length;if(i<1)throw new Error("bindAll must be passed function names");for(;i--;){var r=e[i];n[r]=xF(n[r],n)}return n});function $J(n,e){var i=function(r){var o=i.cache,l=""+(e?e.apply(this,arguments):r);return Xm(o,l)||(o[l]=n.apply(this,arguments)),o[l]};return i.cache={},i}const _F=Io(function(n,e,i){return setTimeout(function(){return n.apply(null,i)},e)}),qJ=$0(_F,Hn,1);function HJ(n,e,i){var r,o,l,c,u=0;i||(i={});var h=function(){u=i.leading===!1?0:R1(),r=null,c=n.apply(o,l),r||(o=l=null)},m=function(){var g=R1();!u&&i.leading===!1&&(u=g);var y=e-(g-u);return o=this,l=arguments,y<=0||y>e?(r&&(clearTimeout(r),r=null),u=g,c=n.apply(o,l),r||(o=l=null)):!r&&i.trailing!==!1&&(r=setTimeout(h,y)),c};return m.cancel=function(){clearTimeout(r),u=0,r=o=l=null},m}function GJ(n,e,i){var r,o,l,c,u,h=function(){var g=R1()-o;e>g?r=setTimeout(h,e-g):(r=null,i||(c=n.apply(u,l)),r||(l=u=null))},m=Io(function(g){return u=this,l=g,o=R1(),r||(r=setTimeout(h,e),i&&(c=n.apply(u,l))),c});return m.cancel=function(){clearTimeout(r),r=l=u=null},m}function XJ(n,e){return $0(e,n)}function k3(n){return function(){return!n.apply(this,arguments)}}function KJ(){var n=arguments,e=n.length-1;return function(){for(var i=e,r=n[e].apply(this,arguments);i--;)r=n[i].call(this,r);return r}}function ZJ(n,e){return function(){if(--n<1)return e.apply(this,arguments)}}function kF(n,e){var i;return function(){return--n>0&&(i=e.apply(this,arguments)),n<=1&&(e=null),i}}const YJ=$0(kF,2);function EF(n,e,i){e=da(e,i);for(var r=Ir(n),o,l=0,c=r.length;l<c;l++)if(o=r[l],e(n[o],o,n))return o}function JJ(n){return function(e,i,r){i=da(i,r);for(var o=ca(e),l=n>0?0:o-1;l>=0&&l<o;l+=n)if(i(e[l],l,e))return l;return-1}}const E3=JJ(1),SF=JJ(-1);function AF(n,e,i,r){i=da(i,r,1);for(var o=i(e),l=0,c=ca(n);l<c;){var u=Math.floor((l+c)/2);i(n[u])<o?l=u+1:c=u}return l}function QJ(n,e,i){return function(r,o,l){var c=0,u=ca(r);if(typeof l=="number")n>0?c=l>=0?l:Math.max(l+u,c):u=l>=0?Math.min(l+1,u):l+u+1;else if(i&&l&&u)return l=i(r,o),r[l]===o?l:-1;if(o!==o)return l=e(KS.call(r,c,u),oF),l>=0?l+c:-1;for(l=n>0?c:u-1;l>=0&&l<u;l+=n)if(r[l]===o)return l;return-1}}const CF=QJ(1,E3,AF),eQ=QJ(-1,SF);function J2(n,e,i){var r=rl(n)?E3:EF,o=r(n,e,i);if(o!==void 0&&o!==-1)return n[o]}function tQ(n,e){return J2(n,D0(e))}function Qc(n,e,i){e=YS(e,i);var r,o;if(rl(n))for(r=0,o=n.length;r<o;r++)e(n[r],r,n);else{var l=Ir(n);for(r=0,o=l.length;r<o;r++)e(n[l[r]],l[r],n)}return n}function df(n,e,i){e=da(e,i);for(var r=!rl(n)&&Ir(n),o=(r||n).length,l=Array(o),c=0;c<o;c++){var u=r?r[c]:c;l[c]=e(n[u],u,n)}return l}function nQ(n){var e=function(i,r,o,l){var c=!rl(i)&&Ir(i),u=(c||i).length,h=n>0?0:u-1;for(l||(o=i[c?c[h]:h],h+=n);h>=0&&h<u;h+=n){var m=c?c[h]:h;o=r(o,i[m],m,i)}return o};return function(i,r,o,l){var c=arguments.length>=3;return e(i,YS(r,l,4),o,c)}}const lw=nQ(1),Y5=nQ(-1);function jm(n,e,i){var r=[];return e=da(e,i),Qc(n,function(o,l,c){e(o,l,c)&&r.push(o)}),r}function iQ(n,e,i){return jm(n,k3(da(e)),i)}function J5(n,e,i){e=da(e,i);for(var r=!rl(n)&&Ir(n),o=(r||n).length,l=0;l<o;l++){var c=r?r[l]:l;if(!e(n[c],c,n))return!1}return!0}function Q5(n,e,i){e=da(e,i);for(var r=!rl(n)&&Ir(n),o=(r||n).length,l=0;l<o;l++){var c=r?r[l]:l;if(e(n[c],c,n))return!0}return!1}function ic(n,e,i,r){return rl(n)||(n=W0(n)),(typeof i!="number"||r)&&(i=0),CF(n,e,i)>=0}const rQ=Io(function(n,e,i){var r,o;return no(e)?o=e:(e=ZS(e),r=e.slice(0,-1),e=e[e.length-1]),df(n,function(l){var c=o;if(!c){if(r&&r.length&&(l=yF(l,r)),l==null)return;c=l[e]}return c==null?c:c.apply(l,i)})});function S3(n,e){return df(n,x3(e))}function sQ(n,e){return jm(n,D0(e))}function TF(n,e,i){var r=-1/0,o=-1/0,l,c;if(e==null||typeof e=="number"&&typeof n[0]!="object"&&n!=null){n=rl(n)?n:W0(n);for(var u=0,h=n.length;u<h;u++)l=n[u],l!=null&&l>r&&(r=l)}else e=da(e,i),Qc(n,function(m,g,y){c=e(m,g,y),(c>o||c===-1/0&&r===-1/0)&&(r=m,o=c)});return r}function oQ(n,e,i){var r=1/0,o=1/0,l,c;if(e==null||typeof e=="number"&&typeof n[0]!="object"&&n!=null){n=rl(n)?n:W0(n);for(var u=0,h=n.length;u<h;u++)l=n[u],l!=null&&l<r&&(r=l)}else e=da(e,i),Qc(n,function(m,g,y){c=e(m,g,y),(c<o||c===1/0&&r===1/0)&&(r=m,o=c)});return r}var x_e=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function DF(n){return n?Gm(n)?KS.call(n):y3(n)?n.match(x_e):rl(n)?df(n,w3):W0(n):[]}function NF(n,e,i){if(e==null||i)return rl(n)||(n=W0(n)),n[Z5(n.length-1)];var r=DF(n),o=ca(r);e=Math.max(Math.min(e,o),0);for(var l=o-1,c=0;c<e;c++){var u=Z5(c,l),h=r[c];r[c]=r[u],r[u]=h}return r.slice(0,e)}function aQ(n){return NF(n,1/0)}function lQ(n,e,i){var r=0;return e=da(e,i),S3(df(n,function(o,l,c){return{value:o,index:r++,criteria:e(o,l,c)}}).sort(function(o,l){var c=o.criteria,u=l.criteria;if(c!==u){if(c>u||c===void 0)return 1;if(c<u||u===void 0)return-1}return o.index-l.index}),"value")}function A3(n,e){return function(i,r,o){var l=e?[[],[]]:{};return r=da(r,o),Qc(i,function(c,u){var h=r(c,u,i);n(l,c,h)}),l}}const cQ=A3(function(n,e,i){Xm(n,i)?n[i].push(e):n[i]=[e]}),uQ=A3(function(n,e,i){n[i]=e}),dQ=A3(function(n,e,i){Xm(n,i)?n[i]++:n[i]=1}),hQ=A3(function(n,e,i){n[i?0:1].push(e)},!0);function fQ(n){return n==null?0:rl(n)?n.length:Ir(n).length}function __e(n,e,i){return e in i}const PF=Io(function(n,e){var i={},r=e[0];if(n==null)return i;no(r)?(e.length>1&&(r=YS(r,e[1])),e=Y1(n)):(r=__e,e=q0(e,!1,!1),n=Object(n));for(var o=0,l=e.length;o<l;o++){var c=e[o],u=n[c];r(u,c,n)&&(i[c]=u)}return i}),pQ=Io(function(n,e){var i=e[0],r;return no(i)?(i=k3(i),e.length>1&&(r=e[1])):(e=df(q0(e,!1,!1),String),i=function(o,l){return!ic(e,l)}),PF(n,i,r)});function IF(n,e,i){return KS.call(n,0,Math.max(0,n.length-(e==null||i?1:e)))}function cw(n,e,i){return n==null||n.length<1?e==null||i?void 0:[]:e==null||i?n[0]:IF(n,n.length-e)}function w0(n,e,i){return KS.call(n,e==null||i?1:e)}function mQ(n,e,i){return n==null||n.length<1?e==null||i?void 0:[]:e==null||i?n[n.length-1]:w0(n,Math.max(0,n.length-e))}function gQ(n){return jm(n,Boolean)}function bQ(n,e){return q0(n,e,!1)}const jF=Io(function(n,e){return e=q0(e,!0,!0),jm(n,function(i){return!ic(e,i)})}),yQ=Io(function(n,e){return jF(n,e)});function Q2(n,e,i,r){tF(e)||(r=i,i=e,e=!1),i!=null&&(i=da(i,r));for(var o=[],l=[],c=0,u=ca(n);c<u;c++){var h=n[c],m=i?i(h,c,n):h;e&&!i?((!c||l!==m)&&o.push(h),l=m):i?ic(l,m)||(l.push(m),o.push(h)):ic(o,h)||o.push(h)}return o}const vQ=Io(function(n){return Q2(q0(n,!0,!0))});function wQ(n){for(var e=[],i=arguments.length,r=0,o=ca(n);r<o;r++){var l=n[r];if(!ic(e,l)){var c;for(c=1;c<i&&ic(arguments[c],l);c++);c===i&&e.push(l)}}return e}function eE(n){for(var e=n&&TF(n,ca).length||0,i=Array(e),r=0;r<e;r++)i[r]=S3(n,r);return i}const xQ=Io(eE);function _Q(n,e){for(var i={},r=0,o=ca(n);r<o;r++)e?i[n[r]]=e[r]:i[n[r][0]]=n[r][1];return i}function kQ(n,e,i){e==null&&(e=n||0,n=0),i||(i=e<n?-1:1);for(var r=Math.max(Math.ceil((e-n)/i),0),o=Array(r),l=0;l<r;l++,n+=i)o[l]=n;return o}function EQ(n,e){if(e==null||e<1)return[];for(var i=[],r=0,o=n.length;r<o;)i.push(KS.call(n,r,r+=e));return i}function RF(n,e){return n._chain?Hn(e).chain():e}function MF(n){return Qc(Y2(n),function(e){var i=Hn[e]=n[e];Hn.prototype[e]=function(){var r=[this._wrapped];return Jxe.apply(r,arguments),RF(this,i.apply(Hn,r))}}),Hn}Qc(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var e=b3[n];Hn.prototype[n]=function(){var i=this._wrapped;return i!=null&&(e.apply(i,arguments),(n==="shift"||n==="splice")&&i.length===0&&delete i[0]),RF(this,i)}});Qc(["concat","join","slice"],function(n){var e=b3[n];Hn.prototype[n]=function(){var i=this._wrapped;return i!=null&&(i=e.apply(i,arguments)),RF(this,i)}});const k_e=Object.freeze(Object.defineProperty({__proto__:null,VERSION:J8,after:ZJ,all:J5,allKeys:Y1,any:Q5,assign:j1,before:kF,bind:xF,bindAll:WJ,chain:zJ,chunk:EQ,clone:AJ,collect:df,compact:gQ,compose:KJ,constant:aF,contains:ic,countBy:dQ,create:SJ,debounce:GJ,default:Hn,defaults:gF,defer:qJ,delay:_F,detect:J2,difference:jF,drop:w0,each:Qc,escape:MJ,every:J5,extend:mF,extendOwn:j1,filter:jm,find:J2,findIndex:E3,findKey:EF,findLastIndex:SF,findWhere:tQ,first:cw,flatten:bQ,foldl:lw,foldr:Y5,forEach:Qc,functions:Y2,get:vF,groupBy:cQ,has:TJ,head:cw,identity:w3,include:ic,includes:ic,indexBy:uQ,indexOf:CF,initial:IF,inject:lw,intersection:wQ,invert:fF,invoke:rQ,isArguments:v3,isArray:Gm,isArrayBuffer:rF,isBoolean:tF,isDataView:Z2,isDate:iJ,isElement:nJ,isEmpty:fJ,isEqual:mJ,isError:sJ,isFinite:cJ,isFunction:no,isMap:vJ,isMatch:cF,isNaN:oF,isNull:tJ,isNumber:nF,isObject:Hm,isRegExp:rJ,isSet:xJ,isString:y3,isSymbol:iF,isTypedArray:lF,isUndefined:eF,isWeakMap:wJ,isWeakSet:_J,iteratee:_3,keys:Ir,last:mQ,lastIndexOf:eQ,map:df,mapObject:NJ,matcher:D0,matches:D0,max:TF,memoize:$J,methods:Y2,min:oQ,mixin:MF,negate:k3,noop:wF,now:R1,object:_Q,omit:pQ,once:YJ,pairs:kJ,partial:$0,partition:hQ,pick:PF,pluck:S3,property:x3,propertyOf:PJ,random:Z5,range:kQ,reduce:lw,reduceRight:Y5,reject:iQ,rest:w0,restArguments:Io,result:LJ,sample:NF,select:jm,shuffle:aQ,size:fQ,some:Q5,sortBy:lQ,sortedIndex:AF,tail:w0,take:cw,tap:CJ,template:UJ,templateSettings:FJ,throttle:HJ,times:IJ,toArray:DF,toPath:bF,transpose:eE,unescape:OJ,union:vQ,uniq:Q2,unique:Q2,uniqueId:BJ,unzip:eE,values:W0,where:sQ,without:yQ,wrap:XJ,zip:xQ},Symbol.toStringTag,{value:"Module"}));var RM=MF(k_e);RM._=RM;const E_e=Object.freeze(Object.defineProperty({__proto__:null,VERSION:J8,after:ZJ,all:J5,allKeys:Y1,any:Q5,assign:j1,before:kF,bind:xF,bindAll:WJ,chain:zJ,chunk:EQ,clone:AJ,collect:df,compact:gQ,compose:KJ,constant:aF,contains:ic,countBy:dQ,create:SJ,debounce:GJ,default:RM,defaults:gF,defer:qJ,delay:_F,detect:J2,difference:jF,drop:w0,each:Qc,escape:MJ,every:J5,extend:mF,extendOwn:j1,filter:jm,find:J2,findIndex:E3,findKey:EF,findLastIndex:SF,findWhere:tQ,first:cw,flatten:bQ,foldl:lw,foldr:Y5,forEach:Qc,functions:Y2,get:vF,groupBy:cQ,has:TJ,head:cw,identity:w3,include:ic,includes:ic,indexBy:uQ,indexOf:CF,initial:IF,inject:lw,intersection:wQ,invert:fF,invoke:rQ,isArguments:v3,isArray:Gm,isArrayBuffer:rF,isBoolean:tF,isDataView:Z2,isDate:iJ,isElement:nJ,isEmpty:fJ,isEqual:mJ,isError:sJ,isFinite:cJ,isFunction:no,isMap:vJ,isMatch:cF,isNaN:oF,isNull:tJ,isNumber:nF,isObject:Hm,isRegExp:rJ,isSet:xJ,isString:y3,isSymbol:iF,isTypedArray:lF,isUndefined:eF,isWeakMap:wJ,isWeakSet:_J,iteratee:_3,keys:Ir,last:mQ,lastIndexOf:eQ,map:df,mapObject:NJ,matcher:D0,matches:D0,max:TF,memoize:$J,methods:Y2,min:oQ,mixin:MF,negate:k3,noop:wF,now:R1,object:_Q,omit:pQ,once:YJ,pairs:kJ,partial:$0,partition:hQ,pick:PF,pluck:S3,property:x3,propertyOf:PJ,random:Z5,range:kQ,reduce:lw,reduceRight:Y5,reject:iQ,rest:w0,restArguments:Io,result:LJ,sample:NF,select:jm,shuffle:aQ,size:fQ,some:Q5,sortBy:lQ,sortedIndex:AF,tail:w0,take:cw,tap:CJ,template:UJ,templateSettings:FJ,throttle:HJ,times:IJ,toArray:DF,toPath:bF,transpose:eE,unescape:OJ,union:vQ,uniq:Q2,unique:Q2,uniqueId:BJ,unzip:eE,values:W0,where:sQ,without:yQ,wrap:XJ,zip:xQ},Symbol.toStringTag,{value:"Module"})),lr=PH(E_e);var OF={},is={},SQ={exports:{}},JT={exports:{}},g$;function J1(){if(g$)return JT.exports;g$=1;var n=function(){return this===void 0}();if(n)JT.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:n,propertyIsWritable:function(g,y){var v=Object.getOwnPropertyDescriptor(g,y);return!!(!v||v.writable||v.set)}};else{var e={}.hasOwnProperty,i={}.toString,r={}.constructor.prototype,o=function(g){var y=[];for(var v in g)e.call(g,v)&&y.push(v);return y},l=function(g,y){return{value:g[y]}},c=function(g,y,v){return g[y]=v.value,g},u=function(g){return g},h=function(g){try{return Object(g).constructor.prototype}catch{return r}},m=function(g){try{return i.call(g)==="[object Array]"}catch{return!1}};JT.exports={isArray:m,keys:o,names:o,defineProperty:c,getDescriptor:l,freeze:u,getPrototypeOf:h,isES5:n,propertyIsWritable:function(){return!0}}}return JT.exports}var jj,b$;function gi(){if(b$)return jj;b$=1;var n={},e=J1(),i=typeof navigator>"u",r={e:{}},o,l=typeof self<"u"?self:typeof window<"u"?window:typeof Lt<"u"||Lt!==void 0?Lt:null;function c(){try{var ee=o;return o=null,ee.apply(this,arguments)}catch(xe){return r.e=xe,r}}function u(ee){return o=ee,c}var h=function(ee,xe){var Se={}.hasOwnProperty;function Me(){this.constructor=ee,this.constructor$=xe;for(var Re in xe.prototype)Se.call(xe.prototype,Re)&&Re.charAt(Re.length-1)!=="$"&&(this[Re+"$"]=xe.prototype[Re])}return Me.prototype=xe.prototype,ee.prototype=new Me,ee.prototype};function m(ee){return ee==null||ee===!0||ee===!1||typeof ee=="string"||typeof ee=="number"}function g(ee){return typeof ee=="function"||typeof ee=="object"&&ee!==null}function y(ee){return m(ee)?new Error(V(ee)):ee}function v(ee,xe){var Se=ee.length,Me=new Array(Se+1),Re;for(Re=0;Re<Se;++Re)Me[Re]=ee[Re];return Me[Re]=xe,Me}function _(ee,xe,Se){if(e.isES5){var Me=Object.getOwnPropertyDescriptor(ee,xe);if(Me!=null)return Me.get==null&&Me.set==null?Me.value:Se}else return{}.hasOwnProperty.call(ee,xe)?ee[xe]:void 0}function A(ee,xe,Se){if(m(ee))return ee;var Me={value:Se,configurable:!0,enumerable:!1,writable:!0};return e.defineProperty(ee,xe,Me),ee}function S(ee){throw ee}var C=function(){var ee=[Array.prototype,Object.prototype,Function.prototype],xe=function(Re){for(var Fe=0;Fe<ee.length;++Fe)if(ee[Fe]===Re)return!0;return!1};if(e.isES5){var Se=Object.getOwnPropertyNames;return function(Re){for(var Fe=[],We=Object.create(null);Re!=null&&!xe(Re);){var ze;try{ze=Se(Re)}catch{return Fe}for(var Ne=0;Ne<ze.length;++Ne){var ke=ze[Ne];if(!We[ke]){We[ke]=!0;var Be=Object.getOwnPropertyDescriptor(Re,ke);Be!=null&&Be.get==null&&Be.set==null&&Fe.push(ke)}}Re=e.getPrototypeOf(Re)}return Fe}}else{var Me={}.hasOwnProperty;return function(Re){if(xe(Re))return[];var Fe=[];e:for(var We in Re)if(Me.call(Re,We))Fe.push(We);else{for(var ze=0;ze<ee.length;++ze)if(Me.call(ee[ze],We))continue e;Fe.push(We)}return Fe}}}(),T=/this\s*\.\s*\S+\s*=/;function N(ee){try{if(typeof ee=="function"){var xe=e.names(ee.prototype),Se=e.isES5&&xe.length>1,Me=xe.length>0&&!(xe.length===1&&xe[0]==="constructor"),Re=T.test(ee+"")&&e.names(ee).length>0;if(Se||Me||Re)return!0}return!1}catch{return!1}}function I(ee){return ee}var O=/^[a-z$_][a-z$_0-9]*$/i;function F(ee){return O.test(ee)}function U(ee,xe,Se){for(var Me=new Array(ee),Re=0;Re<ee;++Re)Me[Re]=xe+Re+Se;return Me}function V(ee){try{return ee+""}catch{return"[no string representation]"}}function B(ee){return ee!==null&&typeof ee=="object"&&typeof ee.message=="string"&&typeof ee.name=="string"}function Z(ee){try{A(ee,"isOperational",!0)}catch{}}function ae(ee){return ee==null?!1:ee instanceof Error.__BluebirdErrorTypes__.OperationalError||ee.isOperational===!0}function me(ee){return B(ee)&&e.propertyIsWritable(ee,"stack")}var Q=function(){return"stack"in new Error?function(ee){return me(ee)?ee:new Error(V(ee))}:function(ee){if(me(ee))return ee;try{throw new Error(V(ee))}catch(xe){return xe}}}();function ge(ee){return{}.toString.call(ee)}function $(ee,xe,Se){for(var Me=e.names(ee),Re=0;Re<Me.length;++Re){var Fe=Me[Re];if(Se(Fe))try{e.defineProperty(xe,Fe,e.getDescriptor(ee,Fe))}catch{}}}var Te=function(ee){return e.isArray(ee)?ee:null};if(typeof Symbol<"u"&&Symbol.iterator){var re=typeof Array.from=="function"?function(ee){return Array.from(ee)}:function(ee){for(var xe=[],Se=ee[Symbol.iterator](),Me;!(Me=Se.next()).done;)xe.push(Me.value);return xe};Te=function(ee){return e.isArray(ee)?ee:ee!=null&&typeof ee[Symbol.iterator]=="function"?re(ee):null}}var ie=typeof process<"u"&&ge(process).toLowerCase()==="[object process]",G=typeof process<"u"&&typeof n<"u";function K(ee){return G?n[ee]:void 0}function ne(){if(typeof Promise=="function")try{var ee=new Promise(function(){});if({}.toString.call(ee)==="[object Promise]")return Promise}catch{}}function J(ee,xe){return ee.bind(xe)}var ue={isClass:N,isIdentifier:F,inheritedDataKeys:C,getDataPropertyOrDefault:_,thrower:S,isArray:e.isArray,asArray:Te,notEnumerableProp:A,isPrimitive:m,isObject:g,isError:B,canEvaluate:i,errorObj:r,tryCatch:u,inherits:h,withAppended:v,maybeWrapAsError:y,toFastProperties:I,filledRange:U,toString:V,canAttachTrace:me,ensureErrorObject:Q,originatesFromRejection:ae,markAsOriginatingFromRejection:Z,classString:ge,copyDescriptors:$,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:ie,hasEnvVariables:G,env:K,global:l,getNativePromise:ne,domainBind:J};ue.isRecentNode=ue.isNode&&function(){var ee=process.versions.node.split(".").map(Number);return ee[0]===0&&ee[1]>10||ee[0]>0}(),ue.isNode&&ue.toFastProperties(process);try{throw new Error}catch(ee){ue.lastLineError=ee}return jj=ue,jj}var QT={exports:{}},Rj,y$;function S_e(){if(y$)return Rj;y$=1;var n=gi(),e,i=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},r=n.getNativePromise();if(n.isNode&&typeof MutationObserver>"u"){var o=Lt.setImmediate,l=process.nextTick;e=n.isRecentNode?function(u){o.call(Lt,u)}:function(u){l.call(process,u)}}else if(typeof r=="function"&&typeof r.resolve=="function"){var c=r.resolve();e=function(u){c.then(u)}}else typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))?e=function(){var u=document.createElement("div"),h={attributes:!0},m=!1,g=document.createElement("div"),y=new MutationObserver(function(){u.classList.toggle("foo"),m=!1});y.observe(g,h);var v=function(){m||(m=!0,g.classList.toggle("foo"))};return function(A){var S=new MutationObserver(function(){S.disconnect(),A()});S.observe(u,h),v()}}():typeof setImmediate<"u"?e=function(u){setImmediate(u)}:typeof setTimeout<"u"?e=function(u){setTimeout(u,0)}:e=i;return Rj=e,Rj}var Mj,v$;function A_e(){if(v$)return Mj;v$=1;function n(i,r,o,l,c){for(var u=0;u<c;++u)o[u+l]=i[u+r],i[u+r]=void 0}function e(i){this._capacity=i,this._length=0,this._front=0}return e.prototype._willBeOverCapacity=function(i){return this._capacity<i},e.prototype._pushOne=function(i){var r=this.length();this._checkCapacity(r+1);var o=this._front+r&this._capacity-1;this[o]=i,this._length=r+1},e.prototype.push=function(i,r,o){var l=this.length()+3;if(this._willBeOverCapacity(l)){this._pushOne(i),this._pushOne(r),this._pushOne(o);return}var c=this._front+l-3;this._checkCapacity(l);var u=this._capacity-1;this[c+0&u]=i,this[c+1&u]=r,this[c+2&u]=o,this._length=l},e.prototype.shift=function(){var i=this._front,r=this[i];return this[i]=void 0,this._front=i+1&this._capacity-1,this._length--,r},e.prototype.length=function(){return this._length},e.prototype._checkCapacity=function(i){this._capacity<i&&this._resizeTo(this._capacity<<1)},e.prototype._resizeTo=function(i){var r=this._capacity;this._capacity=i;var o=this._front,l=this._length,c=o+l&r-1;n(this,0,this,r,c)},Mj=e,Mj}var w$;function C_e(){if(w$)return QT.exports;w$=1;var n;try{throw new Error}catch(h){n=h}var e=S_e(),i=A_e(),r=gi();function o(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new i(16),this._normalQueue=new i(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var h=this;this.drainQueues=function(){h._drainQueues()},this._schedule=e}o.prototype.setScheduler=function(h){var m=this._schedule;return this._schedule=h,this._customScheduler=!0,m},o.prototype.hasCustomScheduler=function(){return this._customScheduler},o.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},o.prototype.disableTrampolineIfNecessary=function(){r.hasDevTools&&(this._trampolineEnabled=!1)},o.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},o.prototype.fatalError=function(h,m){m?(process.stderr.write("Fatal "+(h instanceof Error?h.stack:h)+`
`),process.exit(2)):this.throwLater(h)},o.prototype.throwLater=function(h,m){if(arguments.length===1&&(m=h,h=function(){throw m}),typeof setTimeout<"u")setTimeout(function(){h(m)},0);else try{this._schedule(function(){h(m)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function l(h,m,g){this._lateQueue.push(h,m,g),this._queueTick()}function c(h,m,g){this._normalQueue.push(h,m,g),this._queueTick()}function u(h){this._normalQueue._pushOne(h),this._queueTick()}return r.hasDevTools?(o.prototype.invokeLater=function(h,m,g){this._trampolineEnabled?l.call(this,h,m,g):this._schedule(function(){setTimeout(function(){h.call(m,g)},100)})},o.prototype.invoke=function(h,m,g){this._trampolineEnabled?c.call(this,h,m,g):this._schedule(function(){h.call(m,g)})},o.prototype.settlePromises=function(h){this._trampolineEnabled?u.call(this,h):this._schedule(function(){h._settlePromises()})}):(o.prototype.invokeLater=l,o.prototype.invoke=c,o.prototype.settlePromises=u),o.prototype._drainQueue=function(h){for(;h.length()>0;){var m=h.shift();if(typeof m!="function"){m._settlePromises();continue}var g=h.shift(),y=h.shift();m.call(g,y)}},o.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},o.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},o.prototype._reset=function(){this._isTickUsed=!1},QT.exports=o,QT.exports.firstLineError=n,QT.exports}var Oj,x$;function Rm(){if(x$)return Oj;x$=1;var n=J1(),e=n.freeze,i=gi(),r=i.inherits,o=i.notEnumerableProp;function l(T,N){function I(O){if(!(this instanceof I))return new I(O);o(this,"message",typeof O=="string"?O:N),o(this,"name",T),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return r(I,Error),I}var c,u,h=l("Warning","warning"),m=l("CancellationError","cancellation error"),g=l("TimeoutError","timeout error"),y=l("AggregateError","aggregate error");try{c=TypeError,u=RangeError}catch{c=l("TypeError","type error"),u=l("RangeError","range error")}for(var v="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),_=0;_<v.length;++_)typeof Array.prototype[v[_]]=="function"&&(y.prototype[v[_]]=Array.prototype[v[_]]);n.defineProperty(y.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),y.prototype.isOperational=!0;var A=0;y.prototype.toString=function(){var T=Array(A*4+1).join(" "),N=`
`+T+`AggregateError of:
`;A++,T=Array(A*4+1).join(" ");for(var I=0;I<this.length;++I){for(var O=this[I]===this?"[Circular AggregateError]":this[I]+"",F=O.split(`
`),U=0;U<F.length;++U)F[U]=T+F[U];O=F.join(`
`),N+=O+`
`}return A--,N};function S(T){if(!(this instanceof S))return new S(T);o(this,"name","OperationalError"),o(this,"message",T),this.cause=T,this.isOperational=!0,T instanceof Error?(o(this,"message",T.message),o(this,"stack",T.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}r(S,Error);var C=Error.__BluebirdErrorTypes__;return C||(C=e({CancellationError:m,TimeoutError:g,OperationalError:S,RejectionError:S,AggregateError:y}),n.defineProperty(Error,"__BluebirdErrorTypes__",{value:C,writable:!1,enumerable:!1,configurable:!1})),Oj={Error,TypeError:c,RangeError:u,CancellationError:C.CancellationError,OperationalError:C.OperationalError,TimeoutError:C.TimeoutError,AggregateError:C.AggregateError,Warning:h},Oj}var Fj,_$;function T_e(){return _$||(_$=1,Fj=function(n,e){var i=gi(),r=i.errorObj,o=i.isObject;function l(y,v){if(o(y)){if(y instanceof n)return y;var _=u(y);if(_===r){v&&v._pushContext();var A=n.reject(_.e);return v&&v._popContext(),A}else if(typeof _=="function"){if(m(y)){var A=new n(e);return y._then(A._fulfill,A._reject,void 0,A,null),A}return g(y,_,v)}}return y}function c(y){return y.then}function u(y){try{return c(y)}catch(v){return r.e=v,r}}var h={}.hasOwnProperty;function m(y){try{return h.call(y,"_promise0")}catch{return!1}}function g(y,v,_){var A=new n(e),S=A;_&&_._pushContext(),A._captureStackTrace(),_&&_._popContext();var C=!0,T=i.tryCatch(v).call(y,N,I);C=!1,A&&T===r&&(A._rejectCallback(T.e,!0,!0),A=null);function N(O){A&&(A._resolveCallback(O),A=null)}function I(O){A&&(A._rejectCallback(O,C,!0),A=null)}return S}return l}),Fj}var Uj,k$;function D_e(){return k$||(k$=1,Uj=function(n,e,i,r,o){var l=gi();l.isArray;function c(h){switch(h){case-2:return[];case-3:return{}}}function u(h){var m=this._promise=new n(e);h instanceof n&&m._propagateFrom(h,3),m._setOnCancel(this),this._values=h,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return l.inherits(u,o),u.prototype.length=function(){return this._length},u.prototype.promise=function(){return this._promise},u.prototype._init=function h(m,g){var y=i(this._values,this._promise);if(y instanceof n){y=y._target();var v=y._bitField;if(this._values=y,v&50397184)if(v&33554432)y=y._value();else return v&16777216?this._reject(y._reason()):this._cancel();else return this._promise._setAsyncGuaranteed(),y._then(h,this._reject,void 0,this,g)}if(y=l.asArray(y),y===null){var _=r("expecting an array or an iterable object but got "+l.classString(y)).reason();this._promise._rejectCallback(_,!1);return}if(y.length===0){g===-5?this._resolveEmptyArray():this._resolve(c(g));return}this._iterate(y)},u.prototype._iterate=function(h){var m=this.getActualLength(h.length);this._length=m,this._values=this.shouldCopyValues()?new Array(m):this._values;for(var g=this._promise,y=!1,v=null,_=0;_<m;++_){var A=i(h[_],g);A instanceof n?(A=A._target(),v=A._bitField):v=null,y?v!==null&&A.suppressUnhandledRejections():v!==null?v&50397184?v&33554432?y=this._promiseFulfilled(A._value(),_):v&16777216?y=this._promiseRejected(A._reason(),_):y=this._promiseCancelled(_):(A._proxy(this,_),this._values[_]=A):y=this._promiseFulfilled(A,_)}y||g._setAsyncGuaranteed()},u.prototype._isResolved=function(){return this._values===null},u.prototype._resolve=function(h){this._values=null,this._promise._fulfill(h)},u.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},u.prototype._reject=function(h){this._values=null,this._promise._rejectCallback(h,!1)},u.prototype._promiseFulfilled=function(h,m){this._values[m]=h;var g=++this._totalResolved;return g>=this._length?(this._resolve(this._values),!0):!1},u.prototype._promiseCancelled=function(){return this._cancel(),!0},u.prototype._promiseRejected=function(h){return this._totalResolved++,this._reject(h),!0},u.prototype._resultCancelled=function(){if(!this._isResolved()){var h=this._values;if(this._cancel(),h instanceof n)h.cancel();else for(var m=0;m<h.length;++m)h[m]instanceof n&&h[m].cancel()}},u.prototype.shouldCopyValues=function(){return!0},u.prototype.getActualLength=function(h){return h},u}),Uj}var Lj,E$;function N_e(){return E$||(E$=1,Lj=function(n){var e=!1,i=[];n.prototype._promiseCreated=function(){},n.prototype._pushContext=function(){},n.prototype._popContext=function(){return null},n._peekContext=n.prototype._peekContext=function(){};function r(){this._trace=new r.CapturedTrace(l())}r.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,i.push(this._trace))},r.prototype._popContext=function(){if(this._trace!==void 0){var c=i.pop(),u=c._promiseCreated;return c._promiseCreated=null,u}return null};function o(){if(e)return new r}function l(){var c=i.length-1;if(c>=0)return i[c]}return r.CapturedTrace=null,r.create=o,r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var c=n.prototype._pushContext,u=n.prototype._popContext,h=n._peekContext,m=n.prototype._peekContext,g=n.prototype._promiseCreated;r.deactivateLongStackTraces=function(){n.prototype._pushContext=c,n.prototype._popContext=u,n._peekContext=h,n.prototype._peekContext=m,n.prototype._promiseCreated=g,e=!1},e=!0,n.prototype._pushContext=r.prototype._pushContext,n.prototype._popContext=r.prototype._popContext,n._peekContext=n.prototype._peekContext=l,n.prototype._promiseCreated=function(){var y=this._peekContext();y&&y._promiseCreated==null&&(y._promiseCreated=this)}},r}),Lj}var Bj,S$;function P_e(){return S$||(S$=1,Bj=function(n,e){var i=n._getDomain,r=n._async,o=Rm().Warning,l=gi(),c=l.canAttachTrace,u,h,m=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,g=/\((?:timers\.js):\d+:\d+\)/,y=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,v=null,_=null,A=!1,S,C=!!(l.env("BLUEBIRD_DEBUG")!=0&&(l.env("BLUEBIRD_DEBUG")||l.env("NODE_ENV")==="development")),T=!!(l.env("BLUEBIRD_WARNINGS")!=0&&(C||l.env("BLUEBIRD_WARNINGS"))),N=!!(l.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(C||l.env("BLUEBIRD_LONG_STACK_TRACES"))),I=l.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(T||!!l.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var Ce=this._target();Ce._bitField=Ce._bitField&-1048577|524288},n.prototype._ensurePossibleRejectionHandled=function(){this._bitField&524288||(this._setRejectionIsUnhandled(),r.invokeLater(this._notifyUnhandledRejection,this,void 0))},n.prototype._notifyUnhandledRejectionIsHandled=function(){ke("rejectionHandled",u,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},n.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var Ce=this._settledValue();this._setUnhandledRejectionIsNotified(),ke("unhandledRejection",h,Ce,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},n.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},n.prototype._warn=function(Ce,_e,ce){return xe(Ce,_e,ce||this)},n.onPossiblyUnhandledRejection=function(Ce){var _e=i();h=typeof Ce=="function"?_e===null?Ce:l.domainBind(_e,Ce):void 0},n.onUnhandledRejectionHandled=function(Ce){var _e=i();u=typeof Ce=="function"?_e===null?Ce:l.domainBind(_e,Ce):void 0};var O=function(){};n.longStackTraces=function(){if(r.haveItemsQueued()&&!Oe.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!Oe.longStackTraces&&Ae()){var Ce=n.prototype._captureStackTrace,_e=n.prototype._attachExtraTrace;Oe.longStackTraces=!0,O=function(){if(r.haveItemsQueued()&&!Oe.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);n.prototype._captureStackTrace=Ce,n.prototype._attachExtraTrace=_e,e.deactivateLongStackTraces(),r.enableTrampoline(),Oe.longStackTraces=!1},n.prototype._captureStackTrace=ne,n.prototype._attachExtraTrace=J,e.activateLongStackTraces(),r.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return Oe.longStackTraces&&Ae()};var F=function(){try{if(typeof CustomEvent=="function"){var Ce=new CustomEvent("CustomEvent");return l.global.dispatchEvent(Ce),function(_e,ce){var Ue=new CustomEvent(_e.toLowerCase(),{detail:ce,cancelable:!0});return!l.global.dispatchEvent(Ue)}}else if(typeof Event=="function"){var Ce=new Event("CustomEvent");return l.global.dispatchEvent(Ce),function(ce,Ue){var et=new Event(ce.toLowerCase(),{cancelable:!0});return et.detail=Ue,!l.global.dispatchEvent(et)}}else{var Ce=document.createEvent("CustomEvent");return Ce.initCustomEvent("testingtheevent",!1,!0,{}),l.global.dispatchEvent(Ce),function(ce,Ue){var et=document.createEvent("CustomEvent");return et.initCustomEvent(ce.toLowerCase(),!1,!0,Ue),!l.global.dispatchEvent(et)}}}catch{}return function(){return!1}}(),U=function(){return l.isNode?function(){return process.emit.apply(process,arguments)}:l.global?function(Ce){var _e="on"+Ce.toLowerCase(),ce=l.global[_e];return ce?(ce.apply(l.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}}();function V(Ce,_e){return{promise:_e}}var B={promiseCreated:V,promiseFulfilled:V,promiseRejected:V,promiseResolved:V,promiseCancelled:V,promiseChained:function(Ce,_e,ce){return{promise:_e,child:ce}},warning:function(Ce,_e){return{warning:_e}},unhandledRejection:function(Ce,_e,ce){return{reason:_e,promise:ce}},rejectionHandled:V},Z=function(Ce){var _e=!1;try{_e=U.apply(null,arguments)}catch(Ue){r.throwLater(Ue),_e=!0}var ce=!1;try{ce=F(Ce,B[Ce].apply(null,arguments))}catch(Ue){r.throwLater(Ue),ce=!0}return ce||_e};n.config=function(Ce){if(Ce=Object(Ce),"longStackTraces"in Ce&&(Ce.longStackTraces?n.longStackTraces():!Ce.longStackTraces&&n.hasLongStackTraces()&&O()),"warnings"in Ce){var _e=Ce.warnings;Oe.warnings=!!_e,I=Oe.warnings,l.isObject(_e)&&"wForgottenReturn"in _e&&(I=!!_e.wForgottenReturn)}if("cancellation"in Ce&&Ce.cancellation&&!Oe.cancellation){if(r.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=Te,n.prototype._propagateFrom=re,n.prototype._onCancel=ge,n.prototype._setOnCancel=$,n.prototype._attachCancellationCallback=Q,n.prototype._execute=me,G=re,Oe.cancellation=!0}return"monitoring"in Ce&&(Ce.monitoring&&!Oe.monitoring?(Oe.monitoring=!0,n.prototype._fireEvent=Z):!Ce.monitoring&&Oe.monitoring&&(Oe.monitoring=!1,n.prototype._fireEvent=ae)),n};function ae(){return!1}n.prototype._fireEvent=ae,n.prototype._execute=function(Ce,_e,ce){try{Ce(_e,ce)}catch(Ue){return Ue}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(Ce){},n.prototype._attachCancellationCallback=function(Ce){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(Ce,_e){};function me(Ce,_e,ce){var Ue=this;try{Ce(_e,ce,function(et){if(typeof et!="function")throw new TypeError("onCancel must be a function, got: "+l.toString(et));Ue._attachCancellationCallback(et)})}catch(et){return et}}function Q(Ce){if(!this._isCancellable())return this;var _e=this._onCancel();_e!==void 0?l.isArray(_e)?_e.push(Ce):this._setOnCancel([_e,Ce]):this._setOnCancel(Ce)}function ge(){return this._onCancelField}function $(Ce){this._onCancelField=Ce}function Te(){this._cancellationParent=void 0,this._onCancelField=void 0}function re(Ce,_e){if(_e&1){this._cancellationParent=Ce;var ce=Ce._branchesRemainingToCancel;ce===void 0&&(ce=0),Ce._branchesRemainingToCancel=ce+1}_e&2&&Ce._isBound()&&this._setBoundTo(Ce._boundTo)}function ie(Ce,_e){_e&2&&Ce._isBound()&&this._setBoundTo(Ce._boundTo)}var G=ie;function K(){var Ce=this._boundTo;return Ce!==void 0&&Ce instanceof n?Ce.isFulfilled()?Ce.value():void 0:Ce}function ne(){this._trace=new He(this._peekContext())}function J(Ce,_e){if(c(Ce)){var ce=this._trace;if(ce!==void 0&&_e&&(ce=ce._parent),ce!==void 0)ce.attachExtraTrace(Ce);else if(!Ce.__stackCleaned__){var Ue=ze(Ce);l.notEnumerableProp(Ce,"stack",Ue.message+`
`+Ue.stack.join(`
`)),l.notEnumerableProp(Ce,"__stackCleaned__",!0)}}}function ue(Ce,_e,ce,Ue,et){if(Ce===void 0&&_e!==null&&I){if(et!==void 0&&et._returnedNonUndefined()||!(Ue._bitField&65535))return;ce&&(ce=ce+" ");var nt="",ct="";if(_e._trace){for(var ht=_e._trace.stack.split(`
`),Pt=Fe(ht),Bt=Pt.length-1;Bt>=0;--Bt){var bt=Pt[Bt];if(!g.test(bt)){var Zt=bt.match(y);Zt&&(nt="at "+Zt[1]+":"+Zt[2]+":"+Zt[3]+" ");break}}if(Pt.length>0){for(var mn=Pt[0],Bt=0;Bt<ht.length;++Bt)if(ht[Bt]===mn){Bt>0&&(ct=`
`+ht[Bt-1]);break}}}var qt="a promise was created in a "+ce+"handler "+nt+"but was not returned from it, see http://goo.gl/rRqMUw"+ct;Ue._warn(qt,!0,_e)}}function ee(Ce,_e){var ce=Ce+" is deprecated and will be removed in a future version.";return _e&&(ce+=" Use "+_e+" instead."),xe(ce)}function xe(Ce,_e,ce){if(Oe.warnings){var Ue=new o(Ce),et;if(_e)ce._attachExtraTrace(Ue);else if(Oe.longStackTraces&&(et=n._peekContext()))et.attachExtraTrace(Ue);else{var nt=ze(Ue);Ue.stack=nt.message+`
`+nt.stack.join(`
`)}Z("warning",Ue)||Ne(Ue,"",!0)}}function Se(Ce,_e){for(var ce=0;ce<_e.length-1;++ce)_e[ce].push("From previous event:"),_e[ce]=_e[ce].join(`
`);return ce<_e.length&&(_e[ce]=_e[ce].join(`
`)),Ce+`
`+_e.join(`
`)}function Me(Ce){for(var _e=0;_e<Ce.length;++_e)(Ce[_e].length===0||_e+1<Ce.length&&Ce[_e][0]===Ce[_e+1][0])&&(Ce.splice(_e,1),_e--)}function Re(Ce){for(var _e=Ce[0],ce=1;ce<Ce.length;++ce){for(var Ue=Ce[ce],et=_e.length-1,nt=_e[et],ct=-1,ht=Ue.length-1;ht>=0;--ht)if(Ue[ht]===nt){ct=ht;break}for(var ht=ct;ht>=0;--ht){var Pt=Ue[ht];if(_e[et]===Pt)_e.pop(),et--;else break}_e=Ue}}function Fe(Ce){for(var _e=[],ce=0;ce<Ce.length;++ce){var Ue=Ce[ce],et=Ue==="    (No stack trace)"||v.test(Ue),nt=et&&Ie(Ue);et&&!nt&&(A&&Ue.charAt(0)!==" "&&(Ue="    "+Ue),_e.push(Ue))}return _e}function We(Ce){for(var _e=Ce.stack.replace(/\s+$/g,"").split(`
`),ce=0;ce<_e.length;++ce){var Ue=_e[ce];if(Ue==="    (No stack trace)"||v.test(Ue))break}return ce>0&&Ce.name!="SyntaxError"&&(_e=_e.slice(ce)),_e}function ze(Ce){var _e=Ce.stack,ce=Ce.toString();return _e=typeof _e=="string"&&_e.length>0?We(Ce):["    (No stack trace)"],{message:ce,stack:Ce.name=="SyntaxError"?_e:Fe(_e)}}function Ne(Ce,_e,ce){if(typeof console<"u"){var Ue;if(l.isObject(Ce)){var et=Ce.stack;Ue=_e+_(et,Ce)}else Ue=_e+String(Ce);typeof S=="function"?S(Ue,ce):(typeof console.log=="function"||typeof console.log=="object")&&console.log(Ue)}}function ke(Ce,_e,ce,Ue){var et=!1;try{typeof _e=="function"&&(et=!0,Ce==="rejectionHandled"?_e(Ue):_e(ce,Ue))}catch(nt){r.throwLater(nt)}Ce==="unhandledRejection"?!Z(Ce,ce,Ue)&&!et&&Ne(ce,"Unhandled rejection "):Z(Ce,Ue)}function Be(Ce){var _e;if(typeof Ce=="function")_e="[function "+(Ce.name||"anonymous")+"]";else{_e=Ce&&typeof Ce.toString=="function"?Ce.toString():l.toString(Ce);var ce=/\[object [a-zA-Z0-9$_]+\]/;if(ce.test(_e))try{var Ue=JSON.stringify(Ce);_e=Ue}catch{}_e.length===0&&(_e="(empty array)")}return"(<"+X(_e)+">, no stack trace)"}function X(Ce){var _e=41;return Ce.length<_e?Ce:Ce.substr(0,_e-3)+"..."}function Ae(){return typeof qe=="function"}var Ie=function(){return!1},be=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function we(Ce){var _e=Ce.match(be);if(_e)return{fileName:_e[1],line:parseInt(_e[2],10)}}function Ee(Ce,_e){if(Ae()){for(var ce=Ce.stack.split(`
`),Ue=_e.stack.split(`
`),et=-1,nt=-1,ct,ht,Pt=0;Pt<ce.length;++Pt){var Bt=we(ce[Pt]);if(Bt){ct=Bt.fileName,et=Bt.line;break}}for(var Pt=0;Pt<Ue.length;++Pt){var Bt=we(Ue[Pt]);if(Bt){ht=Bt.fileName,nt=Bt.line;break}}et<0||nt<0||!ct||!ht||ct!==ht||et>=nt||(Ie=function(bt){if(m.test(bt))return!0;var Zt=we(bt);return!!(Zt&&Zt.fileName===ct&&et<=Zt.line&&Zt.line<=nt)})}}function He(Ce){this._parent=Ce,this._promisesCreated=0;var _e=this._length=1+(Ce===void 0?0:Ce._length);qe(this,He),_e>32&&this.uncycle()}l.inherits(He,Error),e.CapturedTrace=He,He.prototype.uncycle=function(){var Ce=this._length;if(!(Ce<2)){for(var _e=[],ce={},Ue=0,et=this;et!==void 0;++Ue)_e.push(et),et=et._parent;Ce=this._length=Ue;for(var Ue=Ce-1;Ue>=0;--Ue){var nt=_e[Ue].stack;ce[nt]===void 0&&(ce[nt]=Ue)}for(var Ue=0;Ue<Ce;++Ue){var ct=_e[Ue].stack,ht=ce[ct];if(ht!==void 0&&ht!==Ue){ht>0&&(_e[ht-1]._parent=void 0,_e[ht-1]._length=1),_e[Ue]._parent=void 0,_e[Ue]._length=1;var Pt=Ue>0?_e[Ue-1]:this;ht<Ce-1?(Pt._parent=_e[ht+1],Pt._parent.uncycle(),Pt._length=Pt._parent._length+1):(Pt._parent=void 0,Pt._length=1);for(var Bt=Pt._length+1,bt=Ue-2;bt>=0;--bt)_e[bt]._length=Bt,Bt++;return}}}},He.prototype.attachExtraTrace=function(Ce){if(!Ce.__stackCleaned__){this.uncycle();for(var _e=ze(Ce),ce=_e.message,Ue=[_e.stack],et=this;et!==void 0;)Ue.push(Fe(et.stack.split(`
`))),et=et._parent;Re(Ue),Me(Ue),l.notEnumerableProp(Ce,"stack",Se(ce,Ue)),l.notEnumerableProp(Ce,"__stackCleaned__",!0)}};var qe=function(){var _e=/^\s*at\s*/,ce=function(ct,ht){return typeof ct=="string"?ct:ht.name!==void 0&&ht.message!==void 0?ht.toString():Be(ht)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,v=_e,_=ce;var Ue=Error.captureStackTrace;return Ie=function(ct){return m.test(ct)},function(ct,ht){Error.stackTraceLimit+=6,Ue(ct,ht),Error.stackTraceLimit-=6}}var et=new Error;if(typeof et.stack=="string"&&et.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return v=/@/,_=ce,A=!0,function(ht){ht.stack=new Error().stack};var nt;try{throw new Error}catch(ct){nt="stack"in ct}return!("stack"in et)&&nt&&typeof Error.stackTraceLimit=="number"?(v=_e,_=ce,function(ht){Error.stackTraceLimit+=6;try{throw new Error}catch(Pt){ht.stack=Pt.stack}Error.stackTraceLimit-=6}):(_=function(ct,ht){return typeof ct=="string"?ct:(typeof ht=="object"||typeof ht=="function")&&ht.name!==void 0&&ht.message!==void 0?ht.toString():Be(ht)},null)}();typeof console<"u"&&typeof console.warn<"u"&&(S=function(Ce){console.warn(Ce)},l.isNode&&process.stderr.isTTY?S=function(Ce,_e){var ce=_e?"\x1B[33m":"\x1B[31m";console.warn(ce+Ce+`\x1B[0m
`)}:!l.isNode&&typeof new Error().stack=="string"&&(S=function(Ce,_e){console.warn("%c"+Ce,_e?"color: darkorange":"color: red")}));var Oe={warnings:T,longStackTraces:!1,cancellation:!1,monitoring:!1};return N&&n.longStackTraces(),{longStackTraces:function(){return Oe.longStackTraces},warnings:function(){return Oe.warnings},cancellation:function(){return Oe.cancellation},monitoring:function(){return Oe.monitoring},propagateFromFunction:function(){return G},boundValueFunction:function(){return K},checkForgottenReturns:ue,setBounds:Ee,warn:xe,deprecated:ee,CapturedTrace:He,fireDomEvent:F,fireGlobalEvent:U}}),Bj}var zj,A$;function I_e(){return A$||(A$=1,zj=function(n,e){var i=gi(),r=n.CancellationError,o=i.errorObj;function l(y,v,_){this.promise=y,this.type=v,this.handler=_,this.called=!1,this.cancelPromise=null}l.prototype.isFinallyHandler=function(){return this.type===0};function c(y){this.finallyHandler=y}c.prototype._resultCancelled=function(){u(this.finallyHandler)};function u(y,v){return y.cancelPromise!=null?(arguments.length>1?y.cancelPromise._reject(v):y.cancelPromise._cancel(),y.cancelPromise=null,!0):!1}function h(){return g.call(this,this.promise._target()._settledValue())}function m(y){if(!u(this,y))return o.e=y,o}function g(y){var v=this.promise,_=this.handler;if(!this.called){this.called=!0;var A=this.isFinallyHandler()?_.call(v._boundValue()):_.call(v._boundValue(),y);if(A!==void 0){v._setReturnedNonUndefined();var S=e(A,v);if(S instanceof n){if(this.cancelPromise!=null)if(S._isCancelled()){var C=new r("late cancellation observer");return v._attachExtraTrace(C),o.e=C,o}else S.isPending()&&S._attachCancellationCallback(new c(this));return S._then(h,m,void 0,this,void 0)}}}return v.isRejected()?(u(this),o.e=y,o):(u(this),y)}return n.prototype._passThrough=function(y,v,_,A){return typeof y!="function"?this.then():this._then(_,A,void 0,new l(this,v,y),void 0)},n.prototype.lastly=n.prototype.finally=function(y){return this._passThrough(y,0,g,g)},n.prototype.tap=function(y){return this._passThrough(y,1,g)},l}),zj}var Vj,C$;function j_e(){return C$||(C$=1,Vj=function(n){var e=gi(),i=J1().keys,r=e.tryCatch,o=e.errorObj;function l(c,u,h){return function(m){var g=h._boundValue();e:for(var y=0;y<c.length;++y){var v=c[y];if(v===Error||v!=null&&v.prototype instanceof Error){if(m instanceof v)return r(u).call(g,m)}else if(typeof v=="function"){var _=r(v).call(g,m);if(_===o)return _;if(_)return r(u).call(g,m)}else if(e.isObject(m)){for(var A=i(v),S=0;S<A.length;++S){var C=A[S];if(v[C]!=m[C])continue e}return r(u).call(g,m)}}return n}}return l}),Vj}var Wj,T$;function AQ(){if(T$)return Wj;T$=1;var n=gi(),e=n.maybeWrapAsError,i=Rm(),r=i.OperationalError,o=J1();function l(m){return m instanceof Error&&o.getPrototypeOf(m)===Error.prototype}var c=/^(?:name|message|stack|cause)$/;function u(m){var g;if(l(m)){g=new r(m),g.name=m.name,g.message=m.message,g.stack=m.stack;for(var y=o.keys(m),v=0;v<y.length;++v){var _=y[v];c.test(_)||(g[_]=m[_])}return g}return n.markAsOriginatingFromRejection(m),m}function h(m,g){return function(y,v){if(m!==null){if(y){var _=u(e(y));m._attachExtraTrace(_),m._reject(_)}else if(!g)m._fulfill(v);else{for(var A=arguments.length,S=new Array(Math.max(A-1,0)),C=1;C<A;++C)S[C-1]=arguments[C];m._fulfill(S)}m=null}}}return Wj=h,Wj}var $j,D$;function R_e(){return D$||(D$=1,$j=function(n,e,i,r,o){var l=gi(),c=l.tryCatch;n.method=function(u){if(typeof u!="function")throw new n.TypeError("expecting a function but got "+l.classString(u));return function(){var h=new n(e);h._captureStackTrace(),h._pushContext();var m=c(u).apply(this,arguments),g=h._popContext();return o.checkForgottenReturns(m,g,"Promise.method",h),h._resolveFromSyncValue(m),h}},n.attempt=n.try=function(u){if(typeof u!="function")return r("expecting a function but got "+l.classString(u));var h=new n(e);h._captureStackTrace(),h._pushContext();var m;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var g=arguments[1],y=arguments[2];m=l.isArray(g)?c(u).apply(y,g):c(u).call(y,g)}else m=c(u)();var v=h._popContext();return o.checkForgottenReturns(m,v,"Promise.try",h),h._resolveFromSyncValue(m),h},n.prototype._resolveFromSyncValue=function(u){u===l.errorObj?this._rejectCallback(u.e,!1):this._resolveCallback(u,!0)}}),$j}var qj,N$;function M_e(){return N$||(N$=1,qj=function(n,e,i,r){var o=!1,l=function(m,g){this._reject(g)},c=function(m,g){g.promiseRejectionQueued=!0,g.bindingPromise._then(l,l,null,this,m)},u=function(m,g){this._bitField&50397184||this._resolveCallback(g.target)},h=function(m,g){g.promiseRejectionQueued||this._reject(m)};n.prototype.bind=function(m){o||(o=!0,n.prototype._propagateFrom=r.propagateFromFunction(),n.prototype._boundValue=r.boundValueFunction());var g=i(m),y=new n(e);y._propagateFrom(this,1);var v=this._target();if(y._setBoundTo(g),g instanceof n){var _={promiseRejectionQueued:!1,promise:y,target:v,bindingPromise:g};v._then(e,c,void 0,y,_),g._then(u,h,void 0,y,_),y._setOnCancel(g)}else y._resolveCallback(v);return y},n.prototype._setBoundTo=function(m){m!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=m):this._bitField=this._bitField&-2097153},n.prototype._isBound=function(){return(this._bitField&2097152)===2097152},n.bind=function(m,g){return n.resolve(g).bind(m)}}),qj}var Hj,P$;function O_e(){return P$||(P$=1,Hj=function(n,e,i,r){var o=gi(),l=o.tryCatch,c=o.errorObj,u=n._async;n.prototype.break=n.prototype.cancel=function(){if(!r.cancellation())return this._warn("cancellation is disabled");for(var h=this,m=h;h._isCancellable();){if(!h._cancelBy(m)){m._isFollowing()?m._followee().cancel():m._cancelBranched();break}var g=h._cancellationParent;if(g==null||!g._isCancellable()){h._isFollowing()?h._followee().cancel():h._cancelBranched();break}else h._isFollowing()&&h._followee().cancel(),h._setWillBeCancelled(),m=h,h=g}},n.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},n.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},n.prototype._cancelBy=function(h){return h===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},n.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},n.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),u.invoke(this._cancelPromises,this,void 0))},n.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},n.prototype._unsetOnCancel=function(){this._onCancelField=void 0},n.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},n.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},n.prototype._doInvokeOnCancel=function(h,m){if(o.isArray(h))for(var g=0;g<h.length;++g)this._doInvokeOnCancel(h[g],m);else if(h!==void 0)if(typeof h=="function"){if(!m){var y=l(h).call(this._boundValue());y===c&&(this._attachExtraTrace(y.e),u.throwLater(y.e))}}else h._resultCancelled(this)},n.prototype._invokeOnCancel=function(){var h=this._onCancel();this._unsetOnCancel(),u.invoke(this._doInvokeOnCancel,this,h)},n.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},n.prototype._resultCancelled=function(){this.cancel()}}),Hj}var Gj,I$;function F_e(){return I$||(I$=1,Gj=function(n){function e(){return this.value}function i(){throw this.reason}n.prototype.return=n.prototype.thenReturn=function(r){return r instanceof n&&r.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:r},void 0)},n.prototype.throw=n.prototype.thenThrow=function(r){return this._then(i,void 0,void 0,{reason:r},void 0)},n.prototype.catchThrow=function(r){if(arguments.length<=1)return this._then(void 0,i,void 0,{reason:r},void 0);var o=arguments[1],l=function(){throw o};return this.caught(r,l)},n.prototype.catchReturn=function(r){if(arguments.length<=1)return r instanceof n&&r.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:r},void 0);var o=arguments[1];o instanceof n&&o.suppressUnhandledRejections();var l=function(){return o};return this.caught(r,l)}}),Gj}var Xj,j$;function U_e(){return j$||(j$=1,Xj=function(n){function e(h){h!==void 0?(h=h._target(),this._bitField=h._bitField,this._settledValueField=h._isFateSealed()?h._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var i=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},o=e.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},l=e.prototype.isRejected=function(){return(this._bitField&16777216)!==0},c=e.prototype.isPending=function(){return(this._bitField&50397184)===0},u=e.prototype.isResolved=function(){return(this._bitField&50331648)!==0};e.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},n.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},n.prototype._isCancelled=function(){return this._target().__isCancelled()},n.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},n.prototype.isPending=function(){return c.call(this._target())},n.prototype.isRejected=function(){return l.call(this._target())},n.prototype.isFulfilled=function(){return o.call(this._target())},n.prototype.isResolved=function(){return u.call(this._target())},n.prototype.value=function(){return i.call(this._target())},n.prototype.reason=function(){var h=this._target();return h._unsetRejectionIsUnhandled(),r.call(h)},n.prototype._value=function(){return this._settledValue()},n.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},n.PromiseInspection=e}),Xj}var Kj,R$;function L_e(){return R$||(R$=1,Kj=function(n,e,i,r,o,l){var c=gi(),u=c.canEvaluate,h=c.tryCatch,m=c.errorObj,g;if(u){for(var y=function(N){return new Function("value","holder",`                             
	            'use strict';                                                    
	            holder.pIndex = value;                                           
	            holder.checkFulfillment(this);                                   
	            `.replace(/Index/g,N))},v=function(N){return new Function("promise","holder",`                           
	            'use strict';                                                    
	            holder.pIndex = promise;                                         
	            `.replace(/Index/g,N))},_=function(N){for(var I=new Array(N),O=0;O<I.length;++O)I[O]="this.p"+(O+1);var F=I.join(" = ")+" = null;",U=`var promise;
`+I.map(function(ae){return`                                                         
	                promise = `+ae+`;                                      
	                if (promise instanceof Promise) {                            
	                    promise.cancel();                                        
	                }                                                            
	            `}).join(`
`),V=I.join(", "),B="Holder$"+N,Z=`return function(tryCatch, errorObj, Promise, async) {    
	            'use strict';                                                    
	            function [TheName](fn) {                                         
	                [TheProperties]                                              
	                this.fn = fn;                                                
	                this.asyncNeeded = true;                                     
	                this.now = 0;                                                
	            }                                                                
	                                                                             
	            [TheName].prototype._callFunction = function(promise) {          
	                promise._pushContext();                                      
	                var ret = tryCatch(this.fn)([ThePassedArguments]);           
	                promise._popContext();                                       
	                if (ret === errorObj) {                                      
	                    promise._rejectCallback(ret.e, false);                   
	                } else {                                                     
	                    promise._resolveCallback(ret);                           
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype.checkFulfillment = function(promise) {       
	                var now = ++this.now;                                        
	                if (now === [TheTotal]) {                                    
	                    if (this.asyncNeeded) {                                  
	                        async.invoke(this._callFunction, this, promise);     
	                    } else {                                                 
	                        this._callFunction(promise);                         
	                    }                                                        
	                                                                             
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype._resultCancelled = function() {              
	                [CancellationCode]                                           
	            };                                                               
	                                                                             
	            return [TheName];                                                
	        }(tryCatch, errorObj, Promise, async);                               
	        `;return Z=Z.replace(/\[TheName\]/g,B).replace(/\[TheTotal\]/g,N).replace(/\[ThePassedArguments\]/g,V).replace(/\[TheProperties\]/g,F).replace(/\[CancellationCode\]/g,U),new Function("tryCatch","errorObj","Promise","async",Z)(h,m,n,o)},A=[],S=[],C=[],T=0;T<8;++T)A.push(_(T+1)),S.push(y(T+1)),C.push(v(T+1));g=function(N){this._reject(N)}}n.join=function(){var N=arguments.length-1,I;if(N>0&&typeof arguments[N]=="function"&&(I=arguments[N],N<=8&&u)){var $=new n(r);$._captureStackTrace();for(var O=A[N-1],F=new O(I),U=S,V=0;V<N;++V){var B=i(arguments[V],$);if(B instanceof n){B=B._target();var Z=B._bitField;Z&50397184?Z&33554432?U[V].call($,B._value(),F):Z&16777216?$._reject(B._reason()):$._cancel():(B._then(U[V],g,void 0,$,F),C[V](B,F),F.asyncNeeded=!1)}else U[V].call($,B,F)}if(!$._isFateSealed()){if(F.asyncNeeded){var ae=l();ae!==null&&(F.fn=c.domainBind(ae,F.fn))}$._setAsyncGuaranteed(),$._setOnCancel(F)}return $}for(var me=arguments.length,Q=new Array(me),ge=0;ge<me;++ge)Q[ge]=arguments[ge];I&&Q.pop();var $=new e(Q).promise();return I!==void 0?$.spread(I):$}}),Kj}var Zj,M$;function B_e(){return M$||(M$=1,Zj=function(n,e,i,r,o,l){var c=n._getDomain,u=gi(),h=u.tryCatch,m=u.errorObj,g=n._async;function y(_,A,S,C){this.constructor$(_),this._promise._captureStackTrace();var T=c();this._callback=T===null?A:u.domainBind(T,A),this._preservedValues=C===o?new Array(this.length()):null,this._limit=S,this._inFlight=0,this._queue=[],g.invoke(this._asyncInit,this,void 0)}u.inherits(y,e),y.prototype._asyncInit=function(){this._init$(void 0,-2)},y.prototype._init=function(){},y.prototype._promiseFulfilled=function(_,A){var S=this._values,C=this.length(),T=this._preservedValues,N=this._limit;if(A<0){if(A=A*-1-1,S[A]=_,N>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(N>=1&&this._inFlight>=N)return S[A]=_,this._queue.push(A),!1;T!==null&&(T[A]=_);var I=this._promise,O=this._callback,F=I._boundValue();I._pushContext();var U=h(O).call(F,_,A,C),V=I._popContext();if(l.checkForgottenReturns(U,V,T!==null?"Promise.filter":"Promise.map",I),U===m)return this._reject(U.e),!0;var B=r(U,this._promise);if(B instanceof n){B=B._target();var Z=B._bitField;if(Z&50397184)if(Z&33554432)U=B._value();else return Z&16777216?(this._reject(B._reason()),!0):(this._cancel(),!0);else return N>=1&&this._inFlight++,S[A]=B,B._proxy(this,(A+1)*-1),!1}S[A]=U}var ae=++this._totalResolved;return ae>=C?(T!==null?this._filter(S,T):this._resolve(S),!0):!1},y.prototype._drainQueue=function(){for(var _=this._queue,A=this._limit,S=this._values;_.length>0&&this._inFlight<A;){if(this._isResolved())return;var C=_.pop();this._promiseFulfilled(S[C],C)}},y.prototype._filter=function(_,A){for(var S=A.length,C=new Array(S),T=0,N=0;N<S;++N)_[N]&&(C[T++]=A[N]);C.length=T,this._resolve(C)},y.prototype.preservedValues=function(){return this._preservedValues};function v(_,A,S,C){if(typeof A!="function")return i("expecting a function but got "+u.classString(A));var T=0;if(S!==void 0)if(typeof S=="object"&&S!==null){if(typeof S.concurrency!="number")return n.reject(new TypeError("'concurrency' must be a number but it is "+u.classString(S.concurrency)));T=S.concurrency}else return n.reject(new TypeError("options argument must be an object but it is "+u.classString(S)));return T=typeof T=="number"&&isFinite(T)&&T>=1?T:0,new y(_,A,T,C).promise()}n.prototype.map=function(_,A){return v(this,_,A,null)},n.map=function(_,A,S,C){return v(_,A,S,C)}}),Zj}var Yj,O$;function z_e(){if(O$)return Yj;O$=1;var n=Object.create;if(n){var e=n(null),i=n(null);e[" size"]=i[" size"]=0}return Yj=function(r){var o=gi(),l=o.canEvaluate,c=o.isIdentifier,u,h;{var m=function(C){return new Function("ensureMethod",`                                    
	        return function(obj) {                                               
	            'use strict'                                                     
	            var len = this.length;                                           
	            ensureMethod(obj, 'methodName');                                 
	            switch(len) {                                                    
	                case 1: return obj.methodName(this[0]);                      
	                case 2: return obj.methodName(this[0], this[1]);             
	                case 3: return obj.methodName(this[0], this[1], this[2]);    
	                case 0: return obj.methodName();                             
	                default:                                                     
	                    return obj.methodName.apply(obj, this);                  
	            }                                                                
	        };                                                                   
	        `.replace(/methodName/g,C))(v)},g=function(C){return new Function("obj",`                                             
	        'use strict';                                                        
	        return obj.propertyName;                                             
	        `.replace("propertyName",C))},y=function(C,T,N){var I=N[C];if(typeof I!="function"){if(!c(C))return null;if(I=T(C),N[C]=I,N[" size"]++,N[" size"]>512){for(var O=Object.keys(N),F=0;F<256;++F)delete N[O[F]];N[" size"]=O.length-256}}return I};u=function(C){return y(C,m,e)},h=function(C){return y(C,g,i)}}function v(C,T){var N;if(C!=null&&(N=C[T]),typeof N!="function"){var I="Object "+o.classString(C)+" has no method '"+o.toString(T)+"'";throw new r.TypeError(I)}return N}function _(C){var T=this.pop(),N=v(C,T);return N.apply(C,this)}r.prototype.call=function(C){for(var T=arguments.length,N=new Array(Math.max(T-1,0)),I=1;I<T;++I)N[I-1]=arguments[I];if(l){var O=u(C);if(O!==null)return this._then(O,void 0,void 0,N,void 0)}return N.push(C),this._then(_,void 0,void 0,N,void 0)};function A(C){return C[this]}function S(C){var T=+this;return T<0&&(T=Math.max(0,T+C.length)),C[T]}r.prototype.get=function(C){var T=typeof C=="number",N;if(T)N=S;else if(l){var I=h(C);N=I!==null?I:A}else N=A;return this._then(N,void 0,void 0,C,void 0)}},Yj}var Jj,F$;function V_e(){return F$||(F$=1,Jj=function(n,e,i,r,o,l){var c=gi(),u=Rm().TypeError,h=gi().inherits,m=c.errorObj,g=c.tryCatch,y={};function v(I){setTimeout(function(){throw I},0)}function _(I){var O=i(I);return O!==I&&typeof I._isDisposable=="function"&&typeof I._getDisposer=="function"&&I._isDisposable()&&O._setDisposable(I._getDisposer()),O}function A(I,O){var F=0,U=I.length,V=new n(o);function B(){if(F>=U)return V._fulfill();var Z=_(I[F++]);if(Z instanceof n&&Z._isDisposable()){try{Z=i(Z._getDisposer().tryDispose(O),I.promise)}catch(ae){return v(ae)}if(Z instanceof n)return Z._then(B,v,null,null,null)}B()}return B(),V}function S(I,O,F){this._data=I,this._promise=O,this._context=F}S.prototype.data=function(){return this._data},S.prototype.promise=function(){return this._promise},S.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():y},S.prototype.tryDispose=function(I){var O=this.resource(),F=this._context;F!==void 0&&F._pushContext();var U=O!==y?this.doDispose(O,I):null;return F!==void 0&&F._popContext(),this._promise._unsetDisposable(),this._data=null,U},S.isDisposer=function(I){return I!=null&&typeof I.resource=="function"&&typeof I.tryDispose=="function"};function C(I,O,F){this.constructor$(I,O,F)}h(C,S),C.prototype.doDispose=function(I,O){var F=this.data();return F.call(I,I,O)};function T(I){return S.isDisposer(I)?(this.resources[this.index]._setDisposable(I),I.promise()):I}function N(I){this.length=I,this.promise=null,this[I-1]=null}N.prototype._resultCancelled=function(){for(var I=this.length,O=0;O<I;++O){var F=this[O];F instanceof n&&F.cancel()}},n.using=function(){var I=arguments.length;if(I<2)return e("you must pass at least 2 arguments to Promise.using");var O=arguments[I-1];if(typeof O!="function")return e("expecting a function but got "+c.classString(O));var F,U=!0;I===2&&Array.isArray(arguments[0])?(F=arguments[0],I=F.length,U=!1):(F=arguments,I--);for(var V=new N(I),B=0;B<I;++B){var Z=F[B];if(S.isDisposer(Z)){var ae=Z;Z=Z.promise(),Z._setDisposable(ae)}else{var me=i(Z);me instanceof n&&(Z=me._then(T,null,null,{resources:V,index:B},void 0))}V[B]=Z}for(var Q=new Array(V.length),B=0;B<Q.length;++B)Q[B]=n.resolve(V[B]).reflect();var ge=n.all(Q).then(function(Te){for(var re=0;re<Te.length;++re){var ie=Te[re];if(ie.isRejected())return m.e=ie.error(),m;if(!ie.isFulfilled()){ge.cancel();return}Te[re]=ie.value()}$._pushContext(),O=g(O);var G=U?O.apply(void 0,Te):O(Te),K=$._popContext();return l.checkForgottenReturns(G,K,"Promise.using",$),G}),$=ge.lastly(function(){var Te=new n.PromiseInspection(ge);return A(V,Te)});return V.promise=$,$._setOnCancel(V),$},n.prototype._setDisposable=function(I){this._bitField=this._bitField|131072,this._disposer=I},n.prototype._isDisposable=function(){return(this._bitField&131072)>0},n.prototype._getDisposer=function(){return this._disposer},n.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},n.prototype.disposer=function(I){if(typeof I=="function")return new C(I,this,r());throw new u}}),Jj}var Qj,U$;function W_e(){return U$||(U$=1,Qj=function(n,e,i){var r=gi(),o=n.TimeoutError;function l(y){this.handle=y}l.prototype._resultCancelled=function(){clearTimeout(this.handle)};var c=function(y){return u(+this).thenReturn(y)},u=n.delay=function(y,v){var _,A;return v!==void 0?(_=n.resolve(v)._then(c,null,null,y,void 0),i.cancellation()&&v instanceof n&&_._setOnCancel(v)):(_=new n(e),A=setTimeout(function(){_._fulfill()},+y),i.cancellation()&&_._setOnCancel(new l(A)),_._captureStackTrace()),_._setAsyncGuaranteed(),_};n.prototype.delay=function(y){return u(y,this)};var h=function(y,v,_){var A;typeof v!="string"?v instanceof Error?A=v:A=new o("operation timed out"):A=new o(v),r.markAsOriginatingFromRejection(A),y._attachExtraTrace(A),y._reject(A),_!=null&&_.cancel()};function m(y){return clearTimeout(this.handle),y}function g(y){throw clearTimeout(this.handle),y}n.prototype.timeout=function(y,v){y=+y;var _,A,S=new l(setTimeout(function(){_.isPending()&&h(_,v,A)},y));return i.cancellation()?(A=this.then(),_=A._then(m,g,void 0,S,void 0),_._setOnCancel(S)):_=this._then(m,g,void 0,S,void 0),_}}),Qj}var e4,L$;function $_e(){return L$||(L$=1,e4=function(n,e,i,r,o,l){var c=Rm(),u=c.TypeError,h=gi(),m=h.errorObj,g=h.tryCatch,y=[];function v(A,S,C){for(var T=0;T<S.length;++T){C._pushContext();var N=g(S[T])(A);if(C._popContext(),N===m){C._pushContext();var I=n.reject(m.e);return C._popContext(),I}var O=r(N,C);if(O instanceof n)return O}return null}function _(A,S,C,T){if(l.cancellation()){var N=new n(i),I=this._finallyPromise=new n(i);this._promise=N.lastly(function(){return I}),N._captureStackTrace(),N._setOnCancel(this)}else{var O=this._promise=new n(i);O._captureStackTrace()}this._stack=T,this._generatorFunction=A,this._receiver=S,this._generator=void 0,this._yieldHandlers=typeof C=="function"?[C].concat(y):y,this._yieldedPromise=null,this._cancellationPhase=!1}h.inherits(_,o),_.prototype._isResolved=function(){return this._promise===null},_.prototype._cleanup=function(){this._promise=this._generator=null,l.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},_.prototype._promiseCancelled=function(){if(!this._isResolved()){var A=typeof this._generator.return<"u",S;if(A)this._promise._pushContext(),S=g(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var C=new n.CancellationError("generator .return() sentinel");n.coroutine.returnSentinel=C,this._promise._attachExtraTrace(C),this._promise._pushContext(),S=g(this._generator.throw).call(this._generator,C),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(S)}},_.prototype._promiseFulfilled=function(A){this._yieldedPromise=null,this._promise._pushContext();var S=g(this._generator.next).call(this._generator,A);this._promise._popContext(),this._continue(S)},_.prototype._promiseRejected=function(A){this._yieldedPromise=null,this._promise._attachExtraTrace(A),this._promise._pushContext();var S=g(this._generator.throw).call(this._generator,A);this._promise._popContext(),this._continue(S)},_.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof n){var A=this._yieldedPromise;this._yieldedPromise=null,A.cancel()}},_.prototype.promise=function(){return this._promise},_.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},_.prototype._continue=function(A){var S=this._promise;if(A===m)return this._cleanup(),this._cancellationPhase?S.cancel():S._rejectCallback(A.e,!1);var C=A.value;if(A.done===!0)return this._cleanup(),this._cancellationPhase?S.cancel():S._resolveCallback(C);var T=r(C,this._promise);if(!(T instanceof n)&&(T=v(T,this._yieldHandlers,this._promise),T===null)){this._promiseRejected(new u(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",C)+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}T=T._target();var N=T._bitField;N&50397184?N&33554432?n._async.invoke(this._promiseFulfilled,this,T._value()):N&16777216?n._async.invoke(this._promiseRejected,this,T._reason()):this._promiseCancelled():(this._yieldedPromise=T,T._proxy(this,null))},n.coroutine=function(A,S){if(typeof A!="function")throw new u(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var C=Object(S).yieldHandler,T=_,N=new Error().stack;return function(){var I=A.apply(this,arguments),O=new T(void 0,void 0,C,N),F=O.promise();return O._generator=I,O._promiseFulfilled(void 0),F}},n.coroutine.addYieldHandler=function(A){if(typeof A!="function")throw new u("expecting a function but got "+h.classString(A));y.push(A)},n.spawn=function(A){if(l.deprecated("Promise.spawn()","Promise.coroutine()"),typeof A!="function")return e(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var S=new _(A,this),C=S.promise();return S._run(n.spawn),C}}),e4}var t4,B$;function q_e(){return B$||(B$=1,t4=function(n){var e=gi(),i=n._async,r=e.tryCatch,o=e.errorObj;function l(h,m){var g=this;if(!e.isArray(h))return c.call(g,h,m);var y=r(m).apply(g._boundValue(),[null].concat(h));y===o&&i.throwLater(y.e)}function c(h,m){var g=this,y=g._boundValue(),v=h===void 0?r(m).call(y,null):r(m).call(y,null,h);v===o&&i.throwLater(v.e)}function u(h,m){var g=this;if(!h){var y=new Error(h+"");y.cause=h,h=y}var v=r(m).call(g._boundValue(),h);v===o&&i.throwLater(v.e)}n.prototype.asCallback=n.prototype.nodeify=function(h,m){if(typeof h=="function"){var g=c;m!==void 0&&Object(m).spread&&(g=l),this._then(g,u,void 0,this,h)}return this}}),t4}var n4,z$;function H_e(){return z$||(z$=1,n4=function(n,e){var i={},r=gi(),o=AQ(),l=r.withAppended,c=r.maybeWrapAsError,u=r.canEvaluate,h=Rm().TypeError,m="Async",g={__isPromisified__:!0},y=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],v=new RegExp("^(?:"+y.join("|")+")$"),_=function(ge){return r.isIdentifier(ge)&&ge.charAt(0)!=="_"&&ge!=="constructor"};function A(ge){return!v.test(ge)}function S(ge){try{return ge.__isPromisified__===!0}catch{return!1}}function C(ge,$,Te){var re=r.getDataPropertyOrDefault(ge,$+Te,g);return re?S(re):!1}function T(ge,$,Te){for(var re=0;re<ge.length;re+=2){var ie=ge[re];if(Te.test(ie)){for(var G=ie.replace(Te,""),K=0;K<ge.length;K+=2)if(ge[K]===G)throw new h(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",$))}}}function N(ge,$,Te,re){for(var ie=r.inheritedDataKeys(ge),G=[],K=0;K<ie.length;++K){var ne=ie[K],J=ge[ne],ue=re===_?!0:_(ne);typeof J=="function"&&!S(J)&&!C(ge,ne,$)&&re(ne,J,ge,ue)&&G.push(ne,J)}return T(G,$,Te),G}var I=function(ge){return ge.replace(/([$])/,"\\$")},O;{var F=function(ge){for(var $=[ge],Te=Math.max(0,ge-1-3),re=ge-1;re>=Te;--re)$.push(re);for(var re=ge+1;re<=3;++re)$.push(re);return $},U=function(ge){return r.filledRange(ge,"_arg","")},V=function(ge){return r.filledRange(Math.max(ge,3),"_arg","")},B=function(ge){return typeof ge.length=="number"?Math.max(Math.min(ge.length,1024),0):0};O=function(ge,$,Te,re,ie,G){var K=Math.max(0,B(re)-1),ne=F(K),J=typeof ge=="string"||$===i;function ue(Me){var Re=U(Me).join(", "),Fe=Me>0?", ":"",We;return J?We=`ret = callback.call(this, {{args}}, nodeback); break;
`:We=$===void 0?`ret = callback({{args}}, nodeback); break;
`:`ret = callback.call(receiver, {{args}}, nodeback); break;
`,We.replace("{{args}}",Re).replace(", ",Fe)}function ee(){for(var Me="",Re=0;Re<ne.length;++Re)Me+="case "+ne[Re]+":"+ue(ne[Re]);return Me+=`                                                             
	        default:                                                             
	            var args = new Array(len + 1);                                   
	            var i = 0;                                                       
	            for (var i = 0; i < len; ++i) {                                  
	               args[i] = arguments[i];                                       
	            }                                                                
	            args[i] = nodeback;                                              
	            [CodeForCall]                                                    
	            break;                                                           
	        `.replace("[CodeForCall]",J?`ret = callback.apply(this, args);
`:`ret = callback.apply(receiver, args);
`),Me}var xe=typeof ge=="string"?"this != null ? this['"+ge+"'] : fn":"fn",Se=`'use strict';                                                
	        var ret = function (Parameters) {                                    
	            'use strict';                                                    
	            var len = arguments.length;                                      
	            var promise = new Promise(INTERNAL);                             
	            promise._captureStackTrace();                                    
	            var nodeback = nodebackForPromise(promise, `+G+`);   
	            var ret;                                                         
	            var callback = tryCatch([GetFunctionCode]);                      
	            switch(len) {                                                    
	                [CodeForSwitchCase]                                          
	            }                                                                
	            if (ret === errorObj) {                                          
	                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);
	            }                                                                
	            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     
	            return promise;                                                  
	        };                                                                   
	        notEnumerableProp(ret, '__isPromisified__', true);                   
	        return ret;                                                          
	    `.replace("[CodeForSwitchCase]",ee()).replace("[GetFunctionCode]",xe);return Se=Se.replace("Parameters",V(K)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",Se)(n,re,$,l,c,o,r.tryCatch,r.errorObj,r.notEnumerableProp,e)}}function Z(ge,$,Te,re,ie,G){var K=function(){return this}(),ne=ge;typeof ne=="string"&&(ge=re);function J(){var ue=$;$===i&&(ue=this);var ee=new n(e);ee._captureStackTrace();var xe=typeof ne=="string"&&this!==K?this[ne]:ge,Se=o(ee,G);try{xe.apply(ue,l(arguments,Se))}catch(Me){ee._rejectCallback(c(Me),!0,!0)}return ee._isFateSealed()||ee._setAsyncGuaranteed(),ee}return r.notEnumerableProp(J,"__isPromisified__",!0),J}var ae=u?O:Z;function me(ge,$,Te,re,ie){for(var G=new RegExp(I($)+"$"),K=N(ge,$,G,Te),ne=0,J=K.length;ne<J;ne+=2){var ue=K[ne],ee=K[ne+1],xe=ue+$;if(re===ae)ge[xe]=ae(ue,i,ue,ee,$,ie);else{var Se=re(ee,function(){return ae(ue,i,ue,ee,$,ie)});r.notEnumerableProp(Se,"__isPromisified__",!0),ge[xe]=Se}}return r.toFastProperties(ge),ge}function Q(ge,$,Te){return ae(ge,$,void 0,ge,null,Te)}n.promisify=function(ge,$){if(typeof ge!="function")throw new h("expecting a function but got "+r.classString(ge));if(S(ge))return ge;$=Object($);var Te=$.context===void 0?i:$.context,re=!!$.multiArgs,ie=Q(ge,Te,re);return r.copyDescriptors(ge,ie,A),ie},n.promisifyAll=function(ge,$){if(typeof ge!="function"&&typeof ge!="object")throw new h(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);$=Object($);var Te=!!$.multiArgs,re=$.suffix;typeof re!="string"&&(re=m);var ie=$.filter;typeof ie!="function"&&(ie=_);var G=$.promisifier;if(typeof G!="function"&&(G=ae),!r.isIdentifier(re))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var K=r.inheritedDataKeys(ge),ne=0;ne<K.length;++ne){var J=ge[K[ne]];K[ne]!=="constructor"&&r.isClass(J)&&(me(J.prototype,re,ie,G,Te),me(J,re,ie,G,Te))}return me(ge,re,ie,G,Te)}}),n4}var i4,V$;function G_e(){return V$||(V$=1,i4=function(n,e,i,r){var o=gi(),l=o.isObject,c=J1(),u;typeof Map=="function"&&(u=Map);var h=function(){var v=0,_=0;function A(S,C){this[v]=S,this[v+_]=C,v++}return function(C){_=C.size,v=0;var T=new Array(C.size*2);return C.forEach(A,T),T}}(),m=function(v){for(var _=new u,A=v.length/2|0,S=0;S<A;++S){var C=v[A+S],T=v[S];_.set(C,T)}return _};function g(v){var _=!1,A;if(u!==void 0&&v instanceof u)A=h(v),_=!0;else{var S=c.keys(v),C=S.length;A=new Array(C*2);for(var T=0;T<C;++T){var N=S[T];A[T]=v[N],A[T+C]=N}}this.constructor$(A),this._isMap=_,this._init$(void 0,-3)}o.inherits(g,e),g.prototype._init=function(){},g.prototype._promiseFulfilled=function(v,_){this._values[_]=v;var A=++this._totalResolved;if(A>=this._length){var S;if(this._isMap)S=m(this._values);else{S={};for(var C=this.length(),T=0,N=this.length();T<N;++T)S[this._values[T+C]]=this._values[T]}return this._resolve(S),!0}return!1},g.prototype.shouldCopyValues=function(){return!1},g.prototype.getActualLength=function(v){return v>>1};function y(v){var _,A=i(v);if(l(A))A instanceof n?_=A._then(n.props,void 0,void 0,void 0,void 0):_=new g(A).promise();else return r(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return A instanceof n&&_._propagateFrom(A,2),_}n.prototype.props=function(){return y(this)},n.props=function(v){return y(v)}}),i4}var r4,W$;function X_e(){return W$||(W$=1,r4=function(n,e,i,r){var o=gi(),l=function(u){return u.then(function(h){return c(h,u)})};function c(u,h){var m=i(u);if(m instanceof n)return l(m);if(u=o.asArray(u),u===null)return r("expecting an array or an iterable object but got "+o.classString(u));var g=new n(e);h!==void 0&&g._propagateFrom(h,3);for(var y=g._fulfill,v=g._reject,_=0,A=u.length;_<A;++_){var S=u[_];S===void 0&&!(_ in u)||n.cast(S)._then(y,v,void 0,g,null)}return g}n.race=function(u){return c(u,void 0)},n.prototype.race=function(){return c(this,void 0)}}),r4}var s4,$$;function K_e(){return $$||($$=1,s4=function(n,e,i,r,o,l){var c=n._getDomain,u=gi(),h=u.tryCatch;function m(A,S,C,T){this.constructor$(A);var N=c();this._fn=N===null?S:u.domainBind(N,S),C!==void 0&&(C=n.resolve(C),C._attachCancellationCallback(this)),this._initialValue=C,this._currentCancellable=null,T===o?this._eachValues=Array(this._length):T===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}u.inherits(m,e),m.prototype._gotAccum=function(A){this._eachValues!==void 0&&this._eachValues!==null&&A!==o&&this._eachValues.push(A)},m.prototype._eachComplete=function(A){return this._eachValues!==null&&this._eachValues.push(A),this._eachValues},m.prototype._init=function(){},m.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},m.prototype.shouldCopyValues=function(){return!1},m.prototype._resolve=function(A){this._promise._resolveCallback(A),this._values=null},m.prototype._resultCancelled=function(A){if(A===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof n&&this._currentCancellable.cancel(),this._initialValue instanceof n&&this._initialValue.cancel())},m.prototype._iterate=function(A){this._values=A;var S,C,T=A.length;if(this._initialValue!==void 0?(S=this._initialValue,C=0):(S=n.resolve(A[0]),C=1),this._currentCancellable=S,!S.isRejected())for(;C<T;++C){var N={accum:null,value:A[C],index:C,length:T,array:this};S=S._then(v,void 0,void 0,N,void 0)}this._eachValues!==void 0&&(S=S._then(this._eachComplete,void 0,void 0,this,void 0)),S._then(g,g,void 0,S,this)},n.prototype.reduce=function(A,S){return y(this,A,S,null)},n.reduce=function(A,S,C,T){return y(A,S,C,T)};function g(A,S){this.isFulfilled()?S._resolve(A):S._reject(A)}function y(A,S,C,T){if(typeof S!="function")return i("expecting a function but got "+u.classString(S));var N=new m(A,S,C,T);return N.promise()}function v(A){this.accum=A,this.array._gotAccum(A);var S=r(this.value,this.array._promise);return S instanceof n?(this.array._currentCancellable=S,S._then(_,void 0,void 0,this,void 0)):_.call(this,S)}function _(A){var S=this.array,C=S._promise,T=h(S._fn);C._pushContext();var N;S._eachValues!==void 0?N=T.call(C._boundValue(),A,this.index,this.length):N=T.call(C._boundValue(),this.accum,A,this.index,this.length),N instanceof n&&(S._currentCancellable=N);var I=C._popContext();return l.checkForgottenReturns(N,I,S._eachValues!==void 0?"Promise.each":"Promise.reduce",C),N}}),s4}var o4,q$;function Z_e(){return q$||(q$=1,o4=function(n,e,i){var r=n.PromiseInspection,o=gi();function l(c){this.constructor$(c)}o.inherits(l,e),l.prototype._promiseResolved=function(c,u){this._values[c]=u;var h=++this._totalResolved;return h>=this._length?(this._resolve(this._values),!0):!1},l.prototype._promiseFulfilled=function(c,u){var h=new r;return h._bitField=33554432,h._settledValueField=c,this._promiseResolved(u,h)},l.prototype._promiseRejected=function(c,u){var h=new r;return h._bitField=16777216,h._settledValueField=c,this._promiseResolved(u,h)},n.settle=function(c){return i.deprecated(".settle()",".reflect()"),new l(c).promise()},n.prototype.settle=function(){return n.settle(this)}}),o4}var a4,H$;function Y_e(){return H$||(H$=1,a4=function(n,e,i){var r=gi(),o=Rm().RangeError,l=Rm().AggregateError,c=r.isArray,u={};function h(g){this.constructor$(g),this._howMany=0,this._unwrap=!1,this._initialized=!1}r.inherits(h,e),h.prototype._init=function(){if(this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var g=c(this._values);!this._isResolved()&&g&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},h.prototype.init=function(){this._initialized=!0,this._init()},h.prototype.setUnwrap=function(){this._unwrap=!0},h.prototype.howMany=function(){return this._howMany},h.prototype.setHowMany=function(g){this._howMany=g},h.prototype._promiseFulfilled=function(g){return this._addFulfilled(g),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},h.prototype._promiseRejected=function(g){return this._addRejected(g),this._checkOutcome()},h.prototype._promiseCancelled=function(){return this._values instanceof n||this._values==null?this._cancel():(this._addRejected(u),this._checkOutcome())},h.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var g=new l,y=this.length();y<this._values.length;++y)this._values[y]!==u&&g.push(this._values[y]);return g.length>0?this._reject(g):this._cancel(),!0}return!1},h.prototype._fulfilled=function(){return this._totalResolved},h.prototype._rejected=function(){return this._values.length-this.length()},h.prototype._addRejected=function(g){this._values.push(g)},h.prototype._addFulfilled=function(g){this._values[this._totalResolved++]=g},h.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},h.prototype._getRangeError=function(g){var y="Input array must contain at least "+this._howMany+" items but contains only "+g+" items";return new o(y)},h.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function m(g,y){if((y|0)!==y||y<0)return i(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var v=new h(g),_=v.promise();return v.setHowMany(y),v.init(),_}n.some=function(g,y){return m(g,y)},n.prototype.some=function(g){return m(this,g)},n._SomePromiseArray=h}),a4}var l4,G$;function J_e(){return G$||(G$=1,l4=function(n,e){var i=n.map;n.prototype.filter=function(r,o){return i(this,r,o,e)},n.filter=function(r,o,l){return i(r,o,l,e)}}),l4}var c4,X$;function Q_e(){return X$||(X$=1,c4=function(n,e){var i=n.reduce,r=n.all;function o(){return r(this)}function l(c,u){return i(c,u,e,e)}n.prototype.each=function(c){return i(this,c,e,0)._then(o,void 0,void 0,this,void 0)},n.prototype.mapSeries=function(c){return i(this,c,e,e)},n.each=function(c,u){return i(c,u,e,0)._then(o,void 0,void 0,c,void 0)},n.mapSeries=l}),c4}var u4,K$;function eke(){return K$||(K$=1,u4=function(n){var e=n._SomePromiseArray;function i(r){var o=new e(r),l=o.promise();return o.setHowMany(1),o.setUnwrap(),o.init(),l}n.any=function(r){return i(r)},n.prototype.any=function(){return i(this)}}),u4}(function(n){n.exports=function(){var e=function(){return new v(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},i=function(){return new Q.PromiseInspection(this._target())},r=function(re){return Q.reject(new v(re))};function o(){}var l={},c=gi(),u;c.isNode?u=function(){var re=process.domain;return re===void 0&&(re=null),re}:u=function(){return null},c.notEnumerableProp(Q,"_getDomain",u);var h=J1(),m=C_e(),g=new m;h.defineProperty(Q,"_async",{value:g});var y=Rm(),v=Q.TypeError=y.TypeError;Q.RangeError=y.RangeError;var _=Q.CancellationError=y.CancellationError;Q.TimeoutError=y.TimeoutError,Q.OperationalError=y.OperationalError,Q.RejectionError=y.OperationalError,Q.AggregateError=y.AggregateError;var A=function(){},S={},C={},T=T_e()(Q,A),N=D_e()(Q,A,T,r,o),I=N_e()(Q),O=I.create,F=P_e()(Q,I);F.CapturedTrace;var U=I_e()(Q,T),V=j_e()(C),B=AQ(),Z=c.errorObj,ae=c.tryCatch;function me(re,ie){if(typeof ie!="function")throw new v("expecting a function but got "+c.classString(ie));if(re.constructor!==Q)throw new v(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`)}function Q(re){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,re!==A&&(me(this,re),this._resolveFromExecutor(re)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}Q.prototype.toString=function(){return"[object Promise]"},Q.prototype.caught=Q.prototype.catch=function(re){var ie=arguments.length;if(ie>1){var G=new Array(ie-1),K=0,ne;for(ne=0;ne<ie-1;++ne){var J=arguments[ne];if(c.isObject(J))G[K++]=J;else return r("expecting an object but got A catch statement predicate "+c.classString(J))}return G.length=K,re=arguments[ne],this.then(void 0,V(G,re,this))}return this.then(void 0,re)},Q.prototype.reflect=function(){return this._then(i,i,void 0,this,void 0)},Q.prototype.then=function(re,ie){if(F.warnings()&&arguments.length>0&&typeof re!="function"&&typeof ie!="function"){var G=".then() only accepts functions but was passed: "+c.classString(re);arguments.length>1&&(G+=", "+c.classString(ie)),this._warn(G)}return this._then(re,ie,void 0,void 0,void 0)},Q.prototype.done=function(re,ie){var G=this._then(re,ie,void 0,void 0,void 0);G._setIsFinal()},Q.prototype.spread=function(re){return typeof re!="function"?r("expecting a function but got "+c.classString(re)):this.all()._then(re,void 0,void 0,S,void 0)},Q.prototype.toJSON=function(){var re={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(re.fulfillmentValue=this.value(),re.isFulfilled=!0):this.isRejected()&&(re.rejectionReason=this.reason(),re.isRejected=!0),re},Q.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new N(this).promise()},Q.prototype.error=function(re){return this.caught(c.originatesFromRejection,re)},Q.getNewLibraryCopy=n.exports,Q.is=function(re){return re instanceof Q},Q.fromNode=Q.fromCallback=function(re){var ie=new Q(A);ie._captureStackTrace();var G=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,K=ae(re)(B(ie,G));return K===Z&&ie._rejectCallback(K.e,!0),ie._isFateSealed()||ie._setAsyncGuaranteed(),ie},Q.all=function(re){return new N(re).promise()},Q.cast=function(re){var ie=T(re);return ie instanceof Q||(ie=new Q(A),ie._captureStackTrace(),ie._setFulfilled(),ie._rejectionHandler0=re),ie},Q.resolve=Q.fulfilled=Q.cast,Q.reject=Q.rejected=function(re){var ie=new Q(A);return ie._captureStackTrace(),ie._rejectCallback(re,!0),ie},Q.setScheduler=function(re){if(typeof re!="function")throw new v("expecting a function but got "+c.classString(re));return g.setScheduler(re)},Q.prototype._then=function(re,ie,G,K,ne){var J=ne!==void 0,ue=J?ne:new Q(A),ee=this._target(),xe=ee._bitField;J||(ue._propagateFrom(this,3),ue._captureStackTrace(),K===void 0&&this._bitField&2097152&&(xe&50397184?K=this._boundValue():K=ee===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,ue));var Se=u();if(xe&50397184){var Me,Re,Fe=ee._settlePromiseCtx;xe&33554432?(Re=ee._rejectionHandler0,Me=re):xe&16777216?(Re=ee._fulfillmentHandler0,Me=ie,ee._unsetRejectionIsUnhandled()):(Fe=ee._settlePromiseLateCancellationObserver,Re=new _("late cancellation observer"),ee._attachExtraTrace(Re),Me=ie),g.invoke(Fe,ee,{handler:Se===null?Me:typeof Me=="function"&&c.domainBind(Se,Me),promise:ue,receiver:K,value:Re})}else ee._addCallbacks(re,ie,ue,K,Se);return ue},Q.prototype._length=function(){return this._bitField&65535},Q.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},Q.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},Q.prototype._setLength=function(re){this._bitField=this._bitField&-65536|re&65535},Q.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},Q.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},Q.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},Q.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},Q.prototype._isFinal=function(){return(this._bitField&4194304)>0},Q.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},Q.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},Q.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},Q.prototype._setAsyncGuaranteed=function(){g.hasCustomScheduler()||(this._bitField=this._bitField|134217728)},Q.prototype._receiverAt=function(re){var ie=re===0?this._receiver0:this[re*4-4+3];if(ie!==l)return ie===void 0&&this._isBound()?this._boundValue():ie},Q.prototype._promiseAt=function(re){return this[re*4-4+2]},Q.prototype._fulfillmentHandlerAt=function(re){return this[re*4-4+0]},Q.prototype._rejectionHandlerAt=function(re){return this[re*4-4+1]},Q.prototype._boundValue=function(){},Q.prototype._migrateCallback0=function(re){re._bitField;var ie=re._fulfillmentHandler0,G=re._rejectionHandler0,K=re._promise0,ne=re._receiverAt(0);ne===void 0&&(ne=l),this._addCallbacks(ie,G,K,ne,null)},Q.prototype._migrateCallbackAt=function(re,ie){var G=re._fulfillmentHandlerAt(ie),K=re._rejectionHandlerAt(ie),ne=re._promiseAt(ie),J=re._receiverAt(ie);J===void 0&&(J=l),this._addCallbacks(G,K,ne,J,null)},Q.prototype._addCallbacks=function(re,ie,G,K,ne){var J=this._length();if(J>=65531&&(J=0,this._setLength(0)),J===0)this._promise0=G,this._receiver0=K,typeof re=="function"&&(this._fulfillmentHandler0=ne===null?re:c.domainBind(ne,re)),typeof ie=="function"&&(this._rejectionHandler0=ne===null?ie:c.domainBind(ne,ie));else{var ue=J*4-4;this[ue+2]=G,this[ue+3]=K,typeof re=="function"&&(this[ue+0]=ne===null?re:c.domainBind(ne,re)),typeof ie=="function"&&(this[ue+1]=ne===null?ie:c.domainBind(ne,ie))}return this._setLength(J+1),J},Q.prototype._proxy=function(re,ie){this._addCallbacks(void 0,void 0,ie,re,null)},Q.prototype._resolveCallback=function(re,ie){if(!(this._bitField&117506048)){if(re===this)return this._rejectCallback(e(),!1);var G=T(re,this);if(!(G instanceof Q))return this._fulfill(re);ie&&this._propagateFrom(G,2);var K=G._target();if(K===this){this._reject(e());return}var ne=K._bitField;if(ne&50397184)if(ne&33554432)this._fulfill(K._value());else if(ne&16777216)this._reject(K._reason());else{var ee=new _("late cancellation observer");K._attachExtraTrace(ee),this._reject(ee)}else{var J=this._length();J>0&&K._migrateCallback0(this);for(var ue=1;ue<J;++ue)K._migrateCallbackAt(this,ue);this._setFollowing(),this._setLength(0),this._setFollowee(K)}}},Q.prototype._rejectCallback=function(re,ie,G){var K=c.ensureErrorObject(re),ne=K===re;if(!ne&&!G&&F.warnings()){var J="a promise was rejected with a non-error: "+c.classString(re);this._warn(J,!0)}this._attachExtraTrace(K,ie?ne:!1),this._reject(re)},Q.prototype._resolveFromExecutor=function(re){var ie=this;this._captureStackTrace(),this._pushContext();var G=!0,K=this._execute(re,function(ne){ie._resolveCallback(ne)},function(ne){ie._rejectCallback(ne,G)});G=!1,this._popContext(),K!==void 0&&ie._rejectCallback(K,!0)},Q.prototype._settlePromiseFromHandler=function(re,ie,G,K){var ne=K._bitField;if(!(ne&65536)){K._pushContext();var J;ie===S?!G||typeof G.length!="number"?(J=Z,J.e=new v("cannot .spread() a non-array: "+c.classString(G))):J=ae(re).apply(this._boundValue(),G):J=ae(re).call(ie,G);var ue=K._popContext();ne=K._bitField,!(ne&65536)&&(J===C?K._reject(G):J===Z?K._rejectCallback(J.e,!1):(F.checkForgottenReturns(J,ue,"",K,this),K._resolveCallback(J)))}},Q.prototype._target=function(){for(var re=this;re._isFollowing();)re=re._followee();return re},Q.prototype._followee=function(){return this._rejectionHandler0},Q.prototype._setFollowee=function(re){this._rejectionHandler0=re},Q.prototype._settlePromise=function(re,ie,G,K){var ne=re instanceof Q,J=this._bitField,ue=(J&134217728)!==0;J&65536?(ne&&re._invokeInternalOnCancel(),G instanceof U&&G.isFinallyHandler()?(G.cancelPromise=re,ae(ie).call(G,K)===Z&&re._reject(Z.e)):ie===i?re._fulfill(i.call(G)):G instanceof o?G._promiseCancelled(re):ne||re instanceof N?re._cancel():G.cancel()):typeof ie=="function"?ne?(ue&&re._setAsyncGuaranteed(),this._settlePromiseFromHandler(ie,G,K,re)):ie.call(G,K,re):G instanceof o?G._isResolved()||(J&33554432?G._promiseFulfilled(K,re):G._promiseRejected(K,re)):ne&&(ue&&re._setAsyncGuaranteed(),J&33554432?re._fulfill(K):re._reject(K))},Q.prototype._settlePromiseLateCancellationObserver=function(re){var ie=re.handler,G=re.promise,K=re.receiver,ne=re.value;typeof ie=="function"?G instanceof Q?this._settlePromiseFromHandler(ie,K,ne,G):ie.call(K,ne,G):G instanceof Q&&G._reject(ne)},Q.prototype._settlePromiseCtx=function(re){this._settlePromise(re.promise,re.handler,re.receiver,re.value)},Q.prototype._settlePromise0=function(re,ie,G){var K=this._promise0,ne=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(K,re,ne,ie)},Q.prototype._clearCallbackDataAtIndex=function(re){var ie=re*4-4;this[ie+2]=this[ie+3]=this[ie+0]=this[ie+1]=void 0},Q.prototype._fulfill=function(re){var ie=this._bitField;if(!((ie&117506048)>>>16)){if(re===this){var G=e();return this._attachExtraTrace(G),this._reject(G)}this._setFulfilled(),this._rejectionHandler0=re,(ie&65535)>0&&(ie&134217728?this._settlePromises():g.settlePromises(this))}},Q.prototype._reject=function(re){var ie=this._bitField;if(!((ie&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=re,this._isFinal())return g.fatalError(re,c.isNode);(ie&65535)>0?g.settlePromises(this):this._ensurePossibleRejectionHandled()}},Q.prototype._fulfillPromises=function(re,ie){for(var G=1;G<re;G++){var K=this._fulfillmentHandlerAt(G),ne=this._promiseAt(G),J=this._receiverAt(G);this._clearCallbackDataAtIndex(G),this._settlePromise(ne,K,J,ie)}},Q.prototype._rejectPromises=function(re,ie){for(var G=1;G<re;G++){var K=this._rejectionHandlerAt(G),ne=this._promiseAt(G),J=this._receiverAt(G);this._clearCallbackDataAtIndex(G),this._settlePromise(ne,K,J,ie)}},Q.prototype._settlePromises=function(){var re=this._bitField,ie=re&65535;if(ie>0){if(re&16842752){var G=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,G,re),this._rejectPromises(ie,G)}else{var K=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,K,re),this._fulfillPromises(ie,K)}this._setLength(0)}this._clearCancellationData()},Q.prototype._settledValue=function(){var re=this._bitField;if(re&33554432)return this._rejectionHandler0;if(re&16777216)return this._fulfillmentHandler0};function ge(re){this.promise._resolveCallback(re)}function $(re){this.promise._rejectCallback(re,!1)}Q.defer=Q.pending=function(){F.deprecated("Promise.defer","new Promise");var re=new Q(A);return{promise:re,resolve:ge,reject:$}},c.notEnumerableProp(Q,"_makeSelfResolutionError",e),R_e()(Q,A,T,r,F),M_e()(Q,A,T,F),O_e()(Q,N,r,F),F_e()(Q),U_e()(Q),L_e()(Q,N,T,A,g,u),Q.Promise=Q,Q.version="3.4.7",B_e()(Q,N,r,T,A,F),z_e()(Q),V_e()(Q,r,T,O,A,F),W_e()(Q,A,F),$_e()(Q,r,A,T,o,F),q_e()(Q),H_e()(Q,A),G_e()(Q,N,T,r),X_e()(Q,A,T,r),K_e()(Q,N,r,T,A,F),Z_e()(Q,N,F),Y_e()(Q,N,r),J_e()(Q,A),Q_e()(Q,A),eke()(Q),c.toFastProperties(Q),c.toFastProperties(Q.prototype);function Te(re){var ie=new Q(A);ie._fulfillmentHandler0=re,ie._rejectionHandler0=re,ie._promise0=re,ie._receiver0=re}return Te({a:1}),Te({b:2}),Te({c:3}),Te(1),Te(function(){}),Te(void 0),Te(!1),Te(new Q(A)),F.setBounds(m.firstLineError,c.lastLineError),Q}})(SQ);var tke=SQ.exports,nke=lr,ua=tke();is.defer=ike;is.when=ua.resolve;is.resolve=ua.resolve;is.all=ua.all;is.props=ua.props;is.reject=ua.reject;is.promisify=ua.promisify;is.mapSeries=ua.mapSeries;is.attempt=ua.attempt;is.nfcall=function(n){var e=Array.prototype.slice.call(arguments,1),i=ua.promisify(n);return i.apply(null,e)};ua.prototype.fail=ua.prototype.caught;ua.prototype.also=function(n){return this.then(function(e){var i=nke.extend({},e,n(e));return ua.props(i)})};function ike(){var n,e,i=new ua.Promise(function(r,o){n=r,e=o});return{resolve:n,reject:e,promise:i}}var _n={},rke=lr,Ds=_n.types={document:"document",paragraph:"paragraph",run:"run",text:"text",tab:"tab",checkbox:"checkbox",hyperlink:"hyperlink",noteReference:"noteReference",image:"image",note:"note",commentReference:"commentReference",comment:"comment",table:"table",tableRow:"tableRow",tableCell:"tableCell",break:"break",bookmarkStart:"bookmarkStart"};function ske(n,e){return e=e||{},{type:Ds.document,children:n,notes:e.notes||new C3({}),comments:e.comments||[]}}function oke(n,e){e=e||{};var i=e.indent||{};return{type:Ds.paragraph,children:n,styleId:e.styleId||null,styleName:e.styleName||null,numbering:e.numbering||null,alignment:e.alignment||null,indent:{start:i.start||null,end:i.end||null,firstLine:i.firstLine||null,hanging:i.hanging||null}}}function ake(n,e){return e=e||{},{type:Ds.run,children:n,styleId:e.styleId||null,styleName:e.styleName||null,isBold:!!e.isBold,isUnderline:!!e.isUnderline,isItalic:!!e.isItalic,isStrikethrough:!!e.isStrikethrough,isAllCaps:!!e.isAllCaps,isSmallCaps:!!e.isSmallCaps,verticalAlignment:e.verticalAlignment||CQ.baseline,font:e.font||null,fontSize:e.fontSize||null,highlight:e.highlight||null}}var CQ={baseline:"baseline",superscript:"superscript",subscript:"subscript"};function lke(n){return{type:Ds.text,value:n}}function cke(){return{type:Ds.tab}}function uke(n){return{type:Ds.checkbox,checked:n.checked}}function dke(n,e){return{type:Ds.hyperlink,children:n,href:e.href,anchor:e.anchor,targetFrame:e.targetFrame}}function hke(n){return{type:Ds.noteReference,noteType:n.noteType,noteId:n.noteId}}function C3(n){this._notes=rke.indexBy(n,function(e){return TQ(e.noteType,e.noteId)})}C3.prototype.resolve=function(n){return this.findNoteByKey(TQ(n.noteType,n.noteId))};C3.prototype.findNoteByKey=function(n){return this._notes[n]||null};function fke(n){return{type:Ds.note,noteType:n.noteType,noteId:n.noteId,body:n.body}}function pke(n){return{type:Ds.commentReference,commentId:n.commentId}}function mke(n){return{type:Ds.comment,commentId:n.commentId,body:n.body,authorName:n.authorName,authorInitials:n.authorInitials}}function TQ(n,e){return n+"-"+e}function gke(n){return{type:Ds.image,read:function(e){return e?n.readImage(e):n.readImage().then(function(i){return Buffer.from(i)})},readAsArrayBuffer:function(){return n.readImage()},readAsBase64String:function(){return n.readImage("base64")},readAsBuffer:function(){return n.readImage().then(function(e){return Buffer.from(e)})},altText:n.altText,contentType:n.contentType}}function bke(n,e){return e=e||{},{type:Ds.table,children:n,styleId:e.styleId||null,styleName:e.styleName||null}}function yke(n,e){return e=e||{},{type:Ds.tableRow,children:n,isHeader:e.isHeader||!1}}function vke(n,e){return e=e||{},{type:Ds.tableCell,children:n,colSpan:e.colSpan==null?1:e.colSpan,rowSpan:e.rowSpan==null?1:e.rowSpan}}function FF(n){return{type:Ds.break,breakType:n}}function wke(n){return{type:Ds.bookmarkStart,name:n.name}}_n.document=_n.Document=ske;_n.paragraph=_n.Paragraph=oke;_n.run=_n.Run=ake;_n.text=_n.Text=lke;_n.tab=_n.Tab=cke;_n.checkbox=_n.Checkbox=uke;_n.Hyperlink=dke;_n.noteReference=_n.NoteReference=hke;_n.Notes=C3;_n.Note=fke;_n.commentReference=pke;_n.comment=mke;_n.Image=gke;_n.Table=bke;_n.TableRow=yke;_n.TableCell=vke;_n.lineBreak=FF("line");_n.pageBreak=FF("page");_n.columnBreak=FF("column");_n.BookmarkStart=wke;_n.verticalAlignment=CQ;var sl={},tE=lr;sl.Result=xd;sl.success=xke;sl.warning=_ke;sl.error=kke;function xd(n,e){this.value=n,this.messages=e||[]}xd.prototype.map=function(n){return new xd(n(this.value),this.messages)};xd.prototype.flatMap=function(n){var e=n(this.value);return new xd(e.value,UF([this,e]))};xd.prototype.flatMapThen=function(n){var e=this;return n(this.value).then(function(i){return new xd(i.value,UF([e,i]))})};xd.combine=function(n){var e=tE.flatten(tE.pluck(n,"value")),i=UF(n);return new xd(e,i)};function xke(n){return new xd(n,[])}function _ke(n){return{type:"warning",message:n}}function kke(n){return{type:"error",message:n.message,error:n}}function UF(n){var e=[];return tE.flatten(tE.pluck(n,"messages"),!0).forEach(function(i){Eke(e,i)||e.push(i)}),e}function Eke(n,e){return tE.find(n,Ske.bind(null,e))!==void 0}function Ske(n,e){return n.type===e.type&&n.message===e.message}var JS={},T3={};T3.byteLength=Tke;T3.toByteArray=Nke;T3.fromByteArray=jke;var hd=[],Bl=[],Ake=typeof Uint8Array<"u"?Uint8Array:Array,d4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var bv=0,Cke=d4.length;bv<Cke;++bv)hd[bv]=d4[bv],Bl[d4.charCodeAt(bv)]=bv;Bl[45]=62;Bl[95]=63;function DQ(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=n.indexOf("=");i===-1&&(i=e);var r=i===e?0:4-i%4;return[i,r]}function Tke(n){var e=DQ(n),i=e[0],r=e[1];return(i+r)*3/4-r}function Dke(n,e,i){return(e+i)*3/4-i}function Nke(n){var e,i=DQ(n),r=i[0],o=i[1],l=new Ake(Dke(n,r,o)),c=0,u=o>0?r-4:r,h;for(h=0;h<u;h+=4)e=Bl[n.charCodeAt(h)]<<18|Bl[n.charCodeAt(h+1)]<<12|Bl[n.charCodeAt(h+2)]<<6|Bl[n.charCodeAt(h+3)],l[c++]=e>>16&255,l[c++]=e>>8&255,l[c++]=e&255;return o===2&&(e=Bl[n.charCodeAt(h)]<<2|Bl[n.charCodeAt(h+1)]>>4,l[c++]=e&255),o===1&&(e=Bl[n.charCodeAt(h)]<<10|Bl[n.charCodeAt(h+1)]<<4|Bl[n.charCodeAt(h+2)]>>2,l[c++]=e>>8&255,l[c++]=e&255),l}function Pke(n){return hd[n>>18&63]+hd[n>>12&63]+hd[n>>6&63]+hd[n&63]}function Ike(n,e,i){for(var r,o=[],l=e;l<i;l+=3)r=(n[l]<<16&16711680)+(n[l+1]<<8&65280)+(n[l+2]&255),o.push(Pke(r));return o.join("")}function jke(n){for(var e,i=n.length,r=i%3,o=[],l=16383,c=0,u=i-r;c<u;c+=l)o.push(Ike(n,c,c+l>u?u:c+l));return r===1?(e=n[i-1],o.push(hd[e>>2]+hd[e<<4&63]+"==")):r===2&&(e=(n[i-2]<<8)+n[i-1],o.push(hd[e>>10]+hd[e>>4&63]+hd[e<<2&63]+"=")),o.join("")}function eD(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var NQ={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(n,e){(function(i){n.exports=i()})(function(){return function i(r,o,l){function c(m,g){if(!o[m]){if(!r[m]){var y=typeof eD=="function"&&eD;if(!g&&y)return y(m,!0);if(u)return u(m,!0);var v=new Error("Cannot find module '"+m+"'");throw v.code="MODULE_NOT_FOUND",v}var _=o[m]={exports:{}};r[m][0].call(_.exports,function(A){var S=r[m][1][A];return c(S||A)},_,_.exports,i,r,o,l)}return o[m].exports}for(var u=typeof eD=="function"&&eD,h=0;h<l.length;h++)c(l[h]);return c}({1:[function(i,r,o){var l=i("./utils"),c=i("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(h){for(var m,g,y,v,_,A,S,C=[],T=0,N=h.length,I=N,O=l.getTypeOf(h)!=="string";T<h.length;)I=N-T,y=O?(m=h[T++],g=T<N?h[T++]:0,T<N?h[T++]:0):(m=h.charCodeAt(T++),g=T<N?h.charCodeAt(T++):0,T<N?h.charCodeAt(T++):0),v=m>>2,_=(3&m)<<4|g>>4,A=1<I?(15&g)<<2|y>>6:64,S=2<I?63&y:64,C.push(u.charAt(v)+u.charAt(_)+u.charAt(A)+u.charAt(S));return C.join("")},o.decode=function(h){var m,g,y,v,_,A,S=0,C=0,T="data:";if(h.substr(0,T.length)===T)throw new Error("Invalid base64 input, it looks like a data url.");var N,I=3*(h=h.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(h.charAt(h.length-1)===u.charAt(64)&&I--,h.charAt(h.length-2)===u.charAt(64)&&I--,I%1!=0)throw new Error("Invalid base64 input, bad content length.");for(N=c.uint8array?new Uint8Array(0|I):new Array(0|I);S<h.length;)m=u.indexOf(h.charAt(S++))<<2|(v=u.indexOf(h.charAt(S++)))>>4,g=(15&v)<<4|(_=u.indexOf(h.charAt(S++)))>>2,y=(3&_)<<6|(A=u.indexOf(h.charAt(S++))),N[C++]=m,_!==64&&(N[C++]=g),A!==64&&(N[C++]=y);return N}},{"./support":30,"./utils":32}],2:[function(i,r,o){var l=i("./external"),c=i("./stream/DataWorker"),u=i("./stream/Crc32Probe"),h=i("./stream/DataLengthProbe");function m(g,y,v,_,A){this.compressedSize=g,this.uncompressedSize=y,this.crc32=v,this.compression=_,this.compressedContent=A}m.prototype={getContentWorker:function(){var g=new c(l.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new h("data_length")),y=this;return g.on("end",function(){if(this.streamInfo.data_length!==y.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),g},getCompressedWorker:function(){return new c(l.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(g,y,v){return g.pipe(new u).pipe(new h("uncompressedSize")).pipe(y.compressWorker(v)).pipe(new h("compressedSize")).withStreamInfo("compression",y)},r.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(i,r,o){var l=i("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new l("STORE compression")},uncompressWorker:function(){return new l("STORE decompression")}},o.DEFLATE=i("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(i,r,o){var l=i("./utils"),c=function(){for(var u,h=[],m=0;m<256;m++){u=m;for(var g=0;g<8;g++)u=1&u?3988292384^u>>>1:u>>>1;h[m]=u}return h}();r.exports=function(u,h){return u!==void 0&&u.length?l.getTypeOf(u)!=="string"?function(m,g,y,v){var _=c,A=v+y;m^=-1;for(var S=v;S<A;S++)m=m>>>8^_[255&(m^g[S])];return-1^m}(0|h,u,u.length,0):function(m,g,y,v){var _=c,A=v+y;m^=-1;for(var S=v;S<A;S++)m=m>>>8^_[255&(m^g.charCodeAt(S))];return-1^m}(0|h,u,u.length,0):0}},{"./utils":32}],5:[function(i,r,o){o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(i,r,o){var l=null;l=typeof Promise<"u"?Promise:i("lie"),r.exports={Promise:l}},{lie:37}],7:[function(i,r,o){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",c=i("pako"),u=i("./utils"),h=i("./stream/GenericWorker"),m=l?"uint8array":"array";function g(y,v){h.call(this,"FlateWorker/"+y),this._pako=null,this._pakoAction=y,this._pakoOptions=v,this.meta={}}o.magic="\b\0",u.inherits(g,h),g.prototype.processChunk=function(y){this.meta=y.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(m,y.data),!1)},g.prototype.flush=function(){h.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},g.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this._pako=null},g.prototype._createPako=function(){this._pako=new c[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var y=this;this._pako.onData=function(v){y.push({data:v,meta:y.meta})}},o.compressWorker=function(y){return new g("Deflate",y)},o.uncompressWorker=function(){return new g("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(i,r,o){function l(_,A){var S,C="";for(S=0;S<A;S++)C+=String.fromCharCode(255&_),_>>>=8;return C}function c(_,A,S,C,T,N){var I,O,F=_.file,U=_.compression,V=N!==m.utf8encode,B=u.transformTo("string",N(F.name)),Z=u.transformTo("string",m.utf8encode(F.name)),ae=F.comment,me=u.transformTo("string",N(ae)),Q=u.transformTo("string",m.utf8encode(ae)),ge=Z.length!==F.name.length,$=Q.length!==ae.length,Te="",re="",ie="",G=F.dir,K=F.date,ne={crc32:0,compressedSize:0,uncompressedSize:0};A&&!S||(ne.crc32=_.crc32,ne.compressedSize=_.compressedSize,ne.uncompressedSize=_.uncompressedSize);var J=0;A&&(J|=8),V||!ge&&!$||(J|=2048);var ue=0,ee=0;G&&(ue|=16),T==="UNIX"?(ee=798,ue|=function(Se,Me){var Re=Se;return Se||(Re=Me?16893:33204),(65535&Re)<<16}(F.unixPermissions,G)):(ee=20,ue|=function(Se){return 63&(Se||0)}(F.dosPermissions)),I=K.getUTCHours(),I<<=6,I|=K.getUTCMinutes(),I<<=5,I|=K.getUTCSeconds()/2,O=K.getUTCFullYear()-1980,O<<=4,O|=K.getUTCMonth()+1,O<<=5,O|=K.getUTCDate(),ge&&(re=l(1,1)+l(g(B),4)+Z,Te+="up"+l(re.length,2)+re),$&&(ie=l(1,1)+l(g(me),4)+Q,Te+="uc"+l(ie.length,2)+ie);var xe="";return xe+=`
\0`,xe+=l(J,2),xe+=U.magic,xe+=l(I,2),xe+=l(O,2),xe+=l(ne.crc32,4),xe+=l(ne.compressedSize,4),xe+=l(ne.uncompressedSize,4),xe+=l(B.length,2),xe+=l(Te.length,2),{fileRecord:y.LOCAL_FILE_HEADER+xe+B+Te,dirRecord:y.CENTRAL_FILE_HEADER+l(ee,2)+xe+l(me.length,2)+"\0\0\0\0"+l(ue,4)+l(C,4)+B+Te+me}}var u=i("../utils"),h=i("../stream/GenericWorker"),m=i("../utf8"),g=i("../crc32"),y=i("../signature");function v(_,A,S,C){h.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=A,this.zipPlatform=S,this.encodeFileName=C,this.streamFiles=_,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}u.inherits(v,h),v.prototype.push=function(_){var A=_.meta.percent||0,S=this.entriesCount,C=this._sources.length;this.accumulate?this.contentBuffer.push(_):(this.bytesWritten+=_.data.length,h.prototype.push.call(this,{data:_.data,meta:{currentFile:this.currentFile,percent:S?(A+100*(S-C-1))/S:100}}))},v.prototype.openedSource=function(_){this.currentSourceOffset=this.bytesWritten,this.currentFile=_.file.name;var A=this.streamFiles&&!_.file.dir;if(A){var S=c(_,A,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:S.fileRecord,meta:{percent:0}})}else this.accumulate=!0},v.prototype.closedSource=function(_){this.accumulate=!1;var A=this.streamFiles&&!_.file.dir,S=c(_,A,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(S.dirRecord),A)this.push({data:function(C){return y.DATA_DESCRIPTOR+l(C.crc32,4)+l(C.compressedSize,4)+l(C.uncompressedSize,4)}(_),meta:{percent:100}});else for(this.push({data:S.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},v.prototype.flush=function(){for(var _=this.bytesWritten,A=0;A<this.dirRecords.length;A++)this.push({data:this.dirRecords[A],meta:{percent:100}});var S=this.bytesWritten-_,C=function(T,N,I,O,F){var U=u.transformTo("string",F(O));return y.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(T,2)+l(T,2)+l(N,4)+l(I,4)+l(U.length,2)+U}(this.dirRecords.length,S,_,this.zipComment,this.encodeFileName);this.push({data:C,meta:{percent:100}})},v.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},v.prototype.registerPrevious=function(_){this._sources.push(_);var A=this;return _.on("data",function(S){A.processChunk(S)}),_.on("end",function(){A.closedSource(A.previous.streamInfo),A._sources.length?A.prepareNextSource():A.end()}),_.on("error",function(S){A.error(S)}),this},v.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},v.prototype.error=function(_){var A=this._sources;if(!h.prototype.error.call(this,_))return!1;for(var S=0;S<A.length;S++)try{A[S].error(_)}catch{}return!0},v.prototype.lock=function(){h.prototype.lock.call(this);for(var _=this._sources,A=0;A<_.length;A++)_[A].lock()},r.exports=v},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(i,r,o){var l=i("../compressions"),c=i("./ZipFileWorker");o.generateWorker=function(u,h,m){var g=new c(h.streamFiles,m,h.platform,h.encodeFileName),y=0;try{u.forEach(function(v,_){y++;var A=function(N,I){var O=N||I,F=l[O];if(!F)throw new Error(O+" is not a valid compression method !");return F}(_.options.compression,h.compression),S=_.options.compressionOptions||h.compressionOptions||{},C=_.dir,T=_.date;_._compressWorker(A,S).withStreamInfo("file",{name:v,dir:C,date:T,comment:_.comment||"",unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions}).pipe(g)}),g.entriesCount=y}catch(v){g.error(v)}return g}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(i,r,o){function l(){if(!(this instanceof l))return new l;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var c=new l;for(var u in this)typeof this[u]!="function"&&(c[u]=this[u]);return c}}(l.prototype=i("./object")).loadAsync=i("./load"),l.support=i("./support"),l.defaults=i("./defaults"),l.version="3.10.1",l.loadAsync=function(c,u){return new l().loadAsync(c,u)},l.external=i("./external"),r.exports=l},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(i,r,o){var l=i("./utils"),c=i("./external"),u=i("./utf8"),h=i("./zipEntries"),m=i("./stream/Crc32Probe"),g=i("./nodejsUtils");function y(v){return new c.Promise(function(_,A){var S=v.decompressed.getContentWorker().pipe(new m);S.on("error",function(C){A(C)}).on("end",function(){S.streamInfo.crc32!==v.decompressed.crc32?A(new Error("Corrupted zip : CRC32 mismatch")):_()}).resume()})}r.exports=function(v,_){var A=this;return _=l.extend(_||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),g.isNode&&g.isStream(v)?c.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):l.prepareContent("the loaded zip file",v,!0,_.optimizedBinaryString,_.base64).then(function(S){var C=new h(_);return C.load(S),C}).then(function(S){var C=[c.Promise.resolve(S)],T=S.files;if(_.checkCRC32)for(var N=0;N<T.length;N++)C.push(y(T[N]));return c.Promise.all(C)}).then(function(S){for(var C=S.shift(),T=C.files,N=0;N<T.length;N++){var I=T[N],O=I.fileNameStr,F=l.resolve(I.fileNameStr);A.file(F,I.decompressed,{binary:!0,optimizedBinaryString:!0,date:I.date,dir:I.dir,comment:I.fileCommentStr.length?I.fileCommentStr:null,unixPermissions:I.unixPermissions,dosPermissions:I.dosPermissions,createFolders:_.createFolders}),I.dir||(A.file(F).unsafeOriginalName=O)}return C.zipComment.length&&(A.comment=C.zipComment),A})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(i,r,o){var l=i("../utils"),c=i("../stream/GenericWorker");function u(h,m){c.call(this,"Nodejs stream input adapter for "+h),this._upstreamEnded=!1,this._bindStream(m)}l.inherits(u,c),u.prototype._bindStream=function(h){var m=this;(this._stream=h).pause(),h.on("data",function(g){m.push({data:g,meta:{percent:0}})}).on("error",function(g){m.isPaused?this.generatedError=g:m.error(g)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},u.prototype.pause=function(){return!!c.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(i,r,o){var l=i("readable-stream").Readable;function c(u,h,m){l.call(this,h),this._helper=u;var g=this;u.on("data",function(y,v){g.push(y)||g._helper.pause(),m&&m(v)}).on("error",function(y){g.emit("error",y)}).on("end",function(){g.push(null)})}i("../utils").inherits(c,l),c.prototype._read=function(){this._helper.resume()},r.exports=c},{"../utils":32,"readable-stream":16}],14:[function(i,r,o){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(l,c){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(l,c);if(typeof l=="number")throw new Error('The "data" argument must not be a number');return new Buffer(l,c)},allocBuffer:function(l){if(Buffer.alloc)return Buffer.alloc(l);var c=new Buffer(l);return c.fill(0),c},isBuffer:function(l){return Buffer.isBuffer(l)},isStream:function(l){return l&&typeof l.on=="function"&&typeof l.pause=="function"&&typeof l.resume=="function"}}},{}],15:[function(i,r,o){function l(F,U,V){var B,Z=u.getTypeOf(U),ae=u.extend(V||{},g);ae.date=ae.date||new Date,ae.compression!==null&&(ae.compression=ae.compression.toUpperCase()),typeof ae.unixPermissions=="string"&&(ae.unixPermissions=parseInt(ae.unixPermissions,8)),ae.unixPermissions&&16384&ae.unixPermissions&&(ae.dir=!0),ae.dosPermissions&&16&ae.dosPermissions&&(ae.dir=!0),ae.dir&&(F=T(F)),ae.createFolders&&(B=C(F))&&N.call(this,B,!0);var me=Z==="string"&&ae.binary===!1&&ae.base64===!1;V&&V.binary!==void 0||(ae.binary=!me),(U instanceof y&&U.uncompressedSize===0||ae.dir||!U||U.length===0)&&(ae.base64=!1,ae.binary=!0,U="",ae.compression="STORE",Z="string");var Q=null;Q=U instanceof y||U instanceof h?U:A.isNode&&A.isStream(U)?new S(F,U):u.prepareContent(F,U,ae.binary,ae.optimizedBinaryString,ae.base64);var ge=new v(F,Q,ae);this.files[F]=ge}var c=i("./utf8"),u=i("./utils"),h=i("./stream/GenericWorker"),m=i("./stream/StreamHelper"),g=i("./defaults"),y=i("./compressedObject"),v=i("./zipObject"),_=i("./generate"),A=i("./nodejsUtils"),S=i("./nodejs/NodejsStreamInputAdapter"),C=function(F){F.slice(-1)==="/"&&(F=F.substring(0,F.length-1));var U=F.lastIndexOf("/");return 0<U?F.substring(0,U):""},T=function(F){return F.slice(-1)!=="/"&&(F+="/"),F},N=function(F,U){return U=U!==void 0?U:g.createFolders,F=T(F),this.files[F]||l.call(this,F,null,{dir:!0,createFolders:U}),this.files[F]};function I(F){return Object.prototype.toString.call(F)==="[object RegExp]"}var O={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(F){var U,V,B;for(U in this.files)B=this.files[U],(V=U.slice(this.root.length,U.length))&&U.slice(0,this.root.length)===this.root&&F(V,B)},filter:function(F){var U=[];return this.forEach(function(V,B){F(V,B)&&U.push(B)}),U},file:function(F,U,V){if(arguments.length!==1)return F=this.root+F,l.call(this,F,U,V),this;if(I(F)){var B=F;return this.filter(function(ae,me){return!me.dir&&B.test(ae)})}var Z=this.files[this.root+F];return Z&&!Z.dir?Z:null},folder:function(F){if(!F)return this;if(I(F))return this.filter(function(Z,ae){return ae.dir&&F.test(Z)});var U=this.root+F,V=N.call(this,U),B=this.clone();return B.root=V.name,B},remove:function(F){F=this.root+F;var U=this.files[F];if(U||(F.slice(-1)!=="/"&&(F+="/"),U=this.files[F]),U&&!U.dir)delete this.files[F];else for(var V=this.filter(function(Z,ae){return ae.name.slice(0,F.length)===F}),B=0;B<V.length;B++)delete this.files[V[B].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(F){var U,V={};try{if((V=u.extend(F||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:c.utf8encode})).type=V.type.toLowerCase(),V.compression=V.compression.toUpperCase(),V.type==="binarystring"&&(V.type="string"),!V.type)throw new Error("No output type specified.");u.checkSupport(V.type),V.platform!=="darwin"&&V.platform!=="freebsd"&&V.platform!=="linux"&&V.platform!=="sunos"||(V.platform="UNIX"),V.platform==="win32"&&(V.platform="DOS");var B=V.comment||this.comment||"";U=_.generateWorker(this,V,B)}catch(Z){(U=new h("error")).error(Z)}return new m(U,V.type||"string",V.mimeType)},generateAsync:function(F,U){return this.generateInternalStream(F).accumulate(U)},generateNodeStream:function(F,U){return(F=F||{}).type||(F.type="nodebuffer"),this.generateInternalStream(F).toNodejsStream(U)}};r.exports=O},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(i,r,o){r.exports=i("stream")},{stream:void 0}],17:[function(i,r,o){var l=i("./DataReader");function c(u){l.call(this,u);for(var h=0;h<this.data.length;h++)u[h]=255&u[h]}i("../utils").inherits(c,l),c.prototype.byteAt=function(u){return this.data[this.zero+u]},c.prototype.lastIndexOfSignature=function(u){for(var h=u.charCodeAt(0),m=u.charCodeAt(1),g=u.charCodeAt(2),y=u.charCodeAt(3),v=this.length-4;0<=v;--v)if(this.data[v]===h&&this.data[v+1]===m&&this.data[v+2]===g&&this.data[v+3]===y)return v-this.zero;return-1},c.prototype.readAndCheckSignature=function(u){var h=u.charCodeAt(0),m=u.charCodeAt(1),g=u.charCodeAt(2),y=u.charCodeAt(3),v=this.readData(4);return h===v[0]&&m===v[1]&&g===v[2]&&y===v[3]},c.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var h=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,h},r.exports=c},{"../utils":32,"./DataReader":18}],18:[function(i,r,o){var l=i("../utils");function c(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}c.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var h,m=0;for(this.checkOffset(u),h=this.index+u-1;h>=this.index;h--)m=(m<<8)+this.byteAt(h);return this.index+=u,m},readString:function(u){return l.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},r.exports=c},{"../utils":32}],19:[function(i,r,o){var l=i("./Uint8ArrayReader");function c(u){l.call(this,u)}i("../utils").inherits(c,l),c.prototype.readData=function(u){this.checkOffset(u);var h=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,h},r.exports=c},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(i,r,o){var l=i("./DataReader");function c(u){l.call(this,u)}i("../utils").inherits(c,l),c.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},c.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},c.prototype.readAndCheckSignature=function(u){return u===this.readData(4)},c.prototype.readData=function(u){this.checkOffset(u);var h=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,h},r.exports=c},{"../utils":32,"./DataReader":18}],21:[function(i,r,o){var l=i("./ArrayReader");function c(u){l.call(this,u)}i("../utils").inherits(c,l),c.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var h=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,h},r.exports=c},{"../utils":32,"./ArrayReader":17}],22:[function(i,r,o){var l=i("../utils"),c=i("../support"),u=i("./ArrayReader"),h=i("./StringReader"),m=i("./NodeBufferReader"),g=i("./Uint8ArrayReader");r.exports=function(y){var v=l.getTypeOf(y);return l.checkSupport(v),v!=="string"||c.uint8array?v==="nodebuffer"?new m(y):c.uint8array?new g(l.transformTo("uint8array",y)):new u(l.transformTo("array",y)):new h(y)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(i,r,o){o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(i,r,o){var l=i("./GenericWorker"),c=i("../utils");function u(h){l.call(this,"ConvertWorker to "+h),this.destType=h}c.inherits(u,l),u.prototype.processChunk=function(h){this.push({data:c.transformTo(this.destType,h.data),meta:h.meta})},r.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(i,r,o){var l=i("./GenericWorker"),c=i("../crc32");function u(){l.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}i("../utils").inherits(u,l),u.prototype.processChunk=function(h){this.streamInfo.crc32=c(h.data,this.streamInfo.crc32||0),this.push(h)},r.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(i,r,o){var l=i("../utils"),c=i("./GenericWorker");function u(h){c.call(this,"DataLengthProbe for "+h),this.propName=h,this.withStreamInfo(h,0)}l.inherits(u,c),u.prototype.processChunk=function(h){if(h){var m=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=m+h.data.length}c.prototype.processChunk.call(this,h)},r.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(i,r,o){var l=i("../utils"),c=i("./GenericWorker");function u(h){c.call(this,"DataWorker");var m=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,h.then(function(g){m.dataIsReady=!0,m.data=g,m.max=g&&g.length||0,m.type=l.getTypeOf(g),m.isPaused||m._tickAndRepeat()},function(g){m.error(g)})}l.inherits(u,c),u.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,l.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(l.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var h=null,m=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":h=this.data.substring(this.index,m);break;case"uint8array":h=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":h=this.data.slice(this.index,m)}return this.index=m,this.push({data:h,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(i,r,o){function l(c){this.name=c||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}l.prototype={push:function(c){this.emit("data",c)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(c){this.emit("error",c)}return!0},error:function(c){return!this.isFinished&&(this.isPaused?this.generatedError=c:(this.isFinished=!0,this.emit("error",c),this.previous&&this.previous.error(c),this.cleanUp()),!0)},on:function(c,u){return this._listeners[c].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(c,u){if(this._listeners[c])for(var h=0;h<this._listeners[c].length;h++)this._listeners[c][h].call(this,u)},pipe:function(c){return c.registerPrevious(this)},registerPrevious:function(c){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=c.streamInfo,this.mergeStreamInfo(),this.previous=c;var u=this;return c.on("data",function(h){u.processChunk(h)}),c.on("end",function(){u.end()}),c.on("error",function(h){u.error(h)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var c=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),c=!0),this.previous&&this.previous.resume(),!c},flush:function(){},processChunk:function(c){this.push(c)},withStreamInfo:function(c,u){return this.extraStreamInfo[c]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var c in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,c)&&(this.streamInfo[c]=this.extraStreamInfo[c])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var c="Worker "+this.name;return this.previous?this.previous+" -> "+c:c}},r.exports=l},{}],29:[function(i,r,o){var l=i("../utils"),c=i("./ConvertWorker"),u=i("./GenericWorker"),h=i("../base64"),m=i("../support"),g=i("../external"),y=null;if(m.nodestream)try{y=i("../nodejs/NodejsStreamOutputAdapter")}catch{}function v(A,S){return new g.Promise(function(C,T){var N=[],I=A._internalType,O=A._outputType,F=A._mimeType;A.on("data",function(U,V){N.push(U),S&&S(V)}).on("error",function(U){N=[],T(U)}).on("end",function(){try{var U=function(V,B,Z){switch(V){case"blob":return l.newBlob(l.transformTo("arraybuffer",B),Z);case"base64":return h.encode(B);default:return l.transformTo(V,B)}}(O,function(V,B){var Z,ae=0,me=null,Q=0;for(Z=0;Z<B.length;Z++)Q+=B[Z].length;switch(V){case"string":return B.join("");case"array":return Array.prototype.concat.apply([],B);case"uint8array":for(me=new Uint8Array(Q),Z=0;Z<B.length;Z++)me.set(B[Z],ae),ae+=B[Z].length;return me;case"nodebuffer":return Buffer.concat(B);default:throw new Error("concat : unsupported type '"+V+"'")}}(I,N),F);C(U)}catch(V){T(V)}N=[]}).resume()})}function _(A,S,C){var T=S;switch(S){case"blob":case"arraybuffer":T="uint8array";break;case"base64":T="string"}try{this._internalType=T,this._outputType=S,this._mimeType=C,l.checkSupport(T),this._worker=A.pipe(new c(T)),A.lock()}catch(N){this._worker=new u("error"),this._worker.error(N)}}_.prototype={accumulate:function(A){return v(this,A)},on:function(A,S){var C=this;return A==="data"?this._worker.on(A,function(T){S.call(C,T.data,T.meta)}):this._worker.on(A,function(){l.delay(S,arguments,C)}),this},resume:function(){return l.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(A){if(l.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new y(this,{objectMode:this._outputType!=="nodebuffer"},A)}},r.exports=_},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(i,r,o){if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var l=new ArrayBuffer(0);try{o.blob=new Blob([l],{type:"application/zip"}).size===0}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);c.append(l),o.blob=c.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!i("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(i,r,o){for(var l=i("./utils"),c=i("./support"),u=i("./nodejsUtils"),h=i("./stream/GenericWorker"),m=new Array(256),g=0;g<256;g++)m[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;m[254]=m[254]=1;function y(){h.call(this,"utf-8 decode"),this.leftOver=null}function v(){h.call(this,"utf-8 encode")}o.utf8encode=function(_){return c.nodebuffer?u.newBufferFrom(_,"utf-8"):function(A){var S,C,T,N,I,O=A.length,F=0;for(N=0;N<O;N++)(64512&(C=A.charCodeAt(N)))==55296&&N+1<O&&(64512&(T=A.charCodeAt(N+1)))==56320&&(C=65536+(C-55296<<10)+(T-56320),N++),F+=C<128?1:C<2048?2:C<65536?3:4;for(S=c.uint8array?new Uint8Array(F):new Array(F),N=I=0;I<F;N++)(64512&(C=A.charCodeAt(N)))==55296&&N+1<O&&(64512&(T=A.charCodeAt(N+1)))==56320&&(C=65536+(C-55296<<10)+(T-56320),N++),C<128?S[I++]=C:(C<2048?S[I++]=192|C>>>6:(C<65536?S[I++]=224|C>>>12:(S[I++]=240|C>>>18,S[I++]=128|C>>>12&63),S[I++]=128|C>>>6&63),S[I++]=128|63&C);return S}(_)},o.utf8decode=function(_){return c.nodebuffer?l.transformTo("nodebuffer",_).toString("utf-8"):function(A){var S,C,T,N,I=A.length,O=new Array(2*I);for(S=C=0;S<I;)if((T=A[S++])<128)O[C++]=T;else if(4<(N=m[T]))O[C++]=65533,S+=N-1;else{for(T&=N===2?31:N===3?15:7;1<N&&S<I;)T=T<<6|63&A[S++],N--;1<N?O[C++]=65533:T<65536?O[C++]=T:(T-=65536,O[C++]=55296|T>>10&1023,O[C++]=56320|1023&T)}return O.length!==C&&(O.subarray?O=O.subarray(0,C):O.length=C),l.applyFromCharCode(O)}(_=l.transformTo(c.uint8array?"uint8array":"array",_))},l.inherits(y,h),y.prototype.processChunk=function(_){var A=l.transformTo(c.uint8array?"uint8array":"array",_.data);if(this.leftOver&&this.leftOver.length){if(c.uint8array){var S=A;(A=new Uint8Array(S.length+this.leftOver.length)).set(this.leftOver,0),A.set(S,this.leftOver.length)}else A=this.leftOver.concat(A);this.leftOver=null}var C=function(N,I){var O;for((I=I||N.length)>N.length&&(I=N.length),O=I-1;0<=O&&(192&N[O])==128;)O--;return O<0||O===0?I:O+m[N[O]]>I?O:I}(A),T=A;C!==A.length&&(c.uint8array?(T=A.subarray(0,C),this.leftOver=A.subarray(C,A.length)):(T=A.slice(0,C),this.leftOver=A.slice(C,A.length))),this.push({data:o.utf8decode(T),meta:_.meta})},y.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=y,l.inherits(v,h),v.prototype.processChunk=function(_){this.push({data:o.utf8encode(_.data),meta:_.meta})},o.Utf8EncodeWorker=v},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(i,r,o){var l=i("./support"),c=i("./base64"),u=i("./nodejsUtils"),h=i("./external");function m(S){return S}function g(S,C){for(var T=0;T<S.length;++T)C[T]=255&S.charCodeAt(T);return C}i("setimmediate"),o.newBlob=function(S,C){o.checkSupport("blob");try{return new Blob([S],{type:C})}catch{try{var T=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return T.append(S),T.getBlob(C)}catch{throw new Error("Bug : can't construct the Blob.")}}};var y={stringifyByChunk:function(S,C,T){var N=[],I=0,O=S.length;if(O<=T)return String.fromCharCode.apply(null,S);for(;I<O;)C==="array"||C==="nodebuffer"?N.push(String.fromCharCode.apply(null,S.slice(I,Math.min(I+T,O)))):N.push(String.fromCharCode.apply(null,S.subarray(I,Math.min(I+T,O)))),I+=T;return N.join("")},stringifyByChar:function(S){for(var C="",T=0;T<S.length;T++)C+=String.fromCharCode(S[T]);return C},applyCanBeUsed:{uint8array:function(){try{return l.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return l.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}}()}};function v(S){var C=65536,T=o.getTypeOf(S),N=!0;if(T==="uint8array"?N=y.applyCanBeUsed.uint8array:T==="nodebuffer"&&(N=y.applyCanBeUsed.nodebuffer),N)for(;1<C;)try{return y.stringifyByChunk(S,T,C)}catch{C=Math.floor(C/2)}return y.stringifyByChar(S)}function _(S,C){for(var T=0;T<S.length;T++)C[T]=S[T];return C}o.applyFromCharCode=v;var A={};A.string={string:m,array:function(S){return g(S,new Array(S.length))},arraybuffer:function(S){return A.string.uint8array(S).buffer},uint8array:function(S){return g(S,new Uint8Array(S.length))},nodebuffer:function(S){return g(S,u.allocBuffer(S.length))}},A.array={string:v,array:m,arraybuffer:function(S){return new Uint8Array(S).buffer},uint8array:function(S){return new Uint8Array(S)},nodebuffer:function(S){return u.newBufferFrom(S)}},A.arraybuffer={string:function(S){return v(new Uint8Array(S))},array:function(S){return _(new Uint8Array(S),new Array(S.byteLength))},arraybuffer:m,uint8array:function(S){return new Uint8Array(S)},nodebuffer:function(S){return u.newBufferFrom(new Uint8Array(S))}},A.uint8array={string:v,array:function(S){return _(S,new Array(S.length))},arraybuffer:function(S){return S.buffer},uint8array:m,nodebuffer:function(S){return u.newBufferFrom(S)}},A.nodebuffer={string:v,array:function(S){return _(S,new Array(S.length))},arraybuffer:function(S){return A.nodebuffer.uint8array(S).buffer},uint8array:function(S){return _(S,new Uint8Array(S.length))},nodebuffer:m},o.transformTo=function(S,C){if(C=C||"",!S)return C;o.checkSupport(S);var T=o.getTypeOf(C);return A[T][S](C)},o.resolve=function(S){for(var C=S.split("/"),T=[],N=0;N<C.length;N++){var I=C[N];I==="."||I===""&&N!==0&&N!==C.length-1||(I===".."?T.pop():T.push(I))}return T.join("/")},o.getTypeOf=function(S){return typeof S=="string"?"string":Object.prototype.toString.call(S)==="[object Array]"?"array":l.nodebuffer&&u.isBuffer(S)?"nodebuffer":l.uint8array&&S instanceof Uint8Array?"uint8array":l.arraybuffer&&S instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(S){if(!l[S.toLowerCase()])throw new Error(S+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(S){var C,T,N="";for(T=0;T<(S||"").length;T++)N+="\\x"+((C=S.charCodeAt(T))<16?"0":"")+C.toString(16).toUpperCase();return N},o.delay=function(S,C,T){setImmediate(function(){S.apply(T||null,C||[])})},o.inherits=function(S,C){function T(){}T.prototype=C.prototype,S.prototype=new T},o.extend=function(){var S,C,T={};for(S=0;S<arguments.length;S++)for(C in arguments[S])Object.prototype.hasOwnProperty.call(arguments[S],C)&&T[C]===void 0&&(T[C]=arguments[S][C]);return T},o.prepareContent=function(S,C,T,N,I){return h.Promise.resolve(C).then(function(O){return l.blob&&(O instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(O))!==-1)&&typeof FileReader<"u"?new h.Promise(function(F,U){var V=new FileReader;V.onload=function(B){F(B.target.result)},V.onerror=function(B){U(B.target.error)},V.readAsArrayBuffer(O)}):O}).then(function(O){var F=o.getTypeOf(O);return F?(F==="arraybuffer"?O=o.transformTo("uint8array",O):F==="string"&&(I?O=c.decode(O):T&&N!==!0&&(O=function(U){return g(U,l.uint8array?new Uint8Array(U.length):new Array(U.length))}(O))),O):h.Promise.reject(new Error("Can't read the data of '"+S+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(i,r,o){var l=i("./reader/readerFor"),c=i("./utils"),u=i("./signature"),h=i("./zipEntry"),m=i("./support");function g(y){this.files=[],this.loadOptions=y}g.prototype={checkSignature:function(y){if(!this.reader.readAndCheckSignature(y)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+c.pretty(v)+", expected "+c.pretty(y)+")")}},isSignature:function(y,v){var _=this.reader.index;this.reader.setIndex(y);var A=this.reader.readString(4)===v;return this.reader.setIndex(_),A},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var y=this.reader.readData(this.zipCommentLength),v=m.uint8array?"uint8array":"array",_=c.transformTo(v,y);this.zipComment=this.loadOptions.decodeFileName(_)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var y,v,_,A=this.zip64EndOfCentralSize-44;0<A;)y=this.reader.readInt(2),v=this.reader.readInt(4),_=this.reader.readData(v),this.zip64ExtensibleData[y]={id:y,length:v,value:_}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var y,v;for(y=0;y<this.files.length;y++)v=this.files[y],this.reader.setIndex(v.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var y;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)(y=new h({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(y);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var y=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(y<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(y);var v=y;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===c.MAX_VALUE_16BITS||this.diskWithCentralDirStart===c.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===c.MAX_VALUE_16BITS||this.centralDirRecords===c.MAX_VALUE_16BITS||this.centralDirSize===c.MAX_VALUE_32BITS||this.centralDirOffset===c.MAX_VALUE_32BITS){if(this.zip64=!0,(y=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(y),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var _=this.centralDirOffset+this.centralDirSize;this.zip64&&(_+=20,_+=12+this.zip64EndOfCentralSize);var A=v-_;if(0<A)this.isSignature(v,u.CENTRAL_FILE_HEADER)||(this.reader.zero=A);else if(A<0)throw new Error("Corrupted zip: missing "+Math.abs(A)+" bytes.")},prepareReader:function(y){this.reader=l(y)},load:function(y){this.prepareReader(y),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=g},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(i,r,o){var l=i("./reader/readerFor"),c=i("./utils"),u=i("./compressedObject"),h=i("./crc32"),m=i("./utf8"),g=i("./compressions"),y=i("./support");function v(_,A){this.options=_,this.loadOptions=A}v.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(_){var A,S;if(_.skip(22),this.fileNameLength=_.readInt(2),S=_.readInt(2),this.fileName=_.readData(this.fileNameLength),_.skip(S),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((A=function(C){for(var T in g)if(Object.prototype.hasOwnProperty.call(g,T)&&g[T].magic===C)return g[T];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+c.pretty(this.compressionMethod)+" unknown (inner file : "+c.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,A,_.readData(this.compressedSize))},readCentralPart:function(_){this.versionMadeBy=_.readInt(2),_.skip(2),this.bitFlag=_.readInt(2),this.compressionMethod=_.readString(2),this.date=_.readDate(),this.crc32=_.readInt(4),this.compressedSize=_.readInt(4),this.uncompressedSize=_.readInt(4);var A=_.readInt(2);if(this.extraFieldsLength=_.readInt(2),this.fileCommentLength=_.readInt(2),this.diskNumberStart=_.readInt(2),this.internalFileAttributes=_.readInt(2),this.externalFileAttributes=_.readInt(4),this.localHeaderOffset=_.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");_.skip(A),this.readExtraFields(_),this.parseZIP64ExtraField(_),this.fileComment=_.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var _=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),_==0&&(this.dosPermissions=63&this.externalFileAttributes),_==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var _=l(this.extraFields[1].value);this.uncompressedSize===c.MAX_VALUE_32BITS&&(this.uncompressedSize=_.readInt(8)),this.compressedSize===c.MAX_VALUE_32BITS&&(this.compressedSize=_.readInt(8)),this.localHeaderOffset===c.MAX_VALUE_32BITS&&(this.localHeaderOffset=_.readInt(8)),this.diskNumberStart===c.MAX_VALUE_32BITS&&(this.diskNumberStart=_.readInt(4))}},readExtraFields:function(_){var A,S,C,T=_.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});_.index+4<T;)A=_.readInt(2),S=_.readInt(2),C=_.readData(S),this.extraFields[A]={id:A,length:S,value:C};_.setIndex(T)},handleUTF8:function(){var _=y.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment);else{var A=this.findExtraFieldUnicodePath();if(A!==null)this.fileNameStr=A;else{var S=c.transformTo(_,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(S)}var C=this.findExtraFieldUnicodeComment();if(C!==null)this.fileCommentStr=C;else{var T=c.transformTo(_,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(T)}}},findExtraFieldUnicodePath:function(){var _=this.extraFields[28789];if(_){var A=l(_.value);return A.readInt(1)!==1||h(this.fileName)!==A.readInt(4)?null:m.utf8decode(A.readData(_.length-5))}return null},findExtraFieldUnicodeComment:function(){var _=this.extraFields[25461];if(_){var A=l(_.value);return A.readInt(1)!==1||h(this.fileComment)!==A.readInt(4)?null:m.utf8decode(A.readData(_.length-5))}return null}},r.exports=v},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(i,r,o){function l(A,S,C){this.name=A,this.dir=C.dir,this.date=C.date,this.comment=C.comment,this.unixPermissions=C.unixPermissions,this.dosPermissions=C.dosPermissions,this._data=S,this._dataBinary=C.binary,this.options={compression:C.compression,compressionOptions:C.compressionOptions}}var c=i("./stream/StreamHelper"),u=i("./stream/DataWorker"),h=i("./utf8"),m=i("./compressedObject"),g=i("./stream/GenericWorker");l.prototype={internalStream:function(A){var S=null,C="string";try{if(!A)throw new Error("No output type specified.");var T=(C=A.toLowerCase())==="string"||C==="text";C!=="binarystring"&&C!=="text"||(C="string"),S=this._decompressWorker();var N=!this._dataBinary;N&&!T&&(S=S.pipe(new h.Utf8EncodeWorker)),!N&&T&&(S=S.pipe(new h.Utf8DecodeWorker))}catch(I){(S=new g("error")).error(I)}return new c(S,C,"")},async:function(A,S){return this.internalStream(A).accumulate(S)},nodeStream:function(A,S){return this.internalStream(A||"nodebuffer").toNodejsStream(S)},_compressWorker:function(A,S){if(this._data instanceof m&&this._data.compression.magic===A.magic)return this._data.getCompressedWorker();var C=this._decompressWorker();return this._dataBinary||(C=C.pipe(new h.Utf8EncodeWorker)),m.createWorkerFrom(C,A,S)},_decompressWorker:function(){return this._data instanceof m?this._data.getContentWorker():this._data instanceof g?this._data:new u(this._data)}};for(var y=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},_=0;_<y.length;_++)l.prototype[y[_]]=v;r.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(i,r,o){(function(l){var c,u,h=l.MutationObserver||l.WebKitMutationObserver;if(h){var m=0,g=new h(A),y=l.document.createTextNode("");g.observe(y,{characterData:!0}),c=function(){y.data=m=++m%2}}else if(l.setImmediate||l.MessageChannel===void 0)c="document"in l&&"onreadystatechange"in l.document.createElement("script")?function(){var S=l.document.createElement("script");S.onreadystatechange=function(){A(),S.onreadystatechange=null,S.parentNode.removeChild(S),S=null},l.document.documentElement.appendChild(S)}:function(){setTimeout(A,0)};else{var v=new l.MessageChannel;v.port1.onmessage=A,c=function(){v.port2.postMessage(0)}}var _=[];function A(){var S,C;u=!0;for(var T=_.length;T;){for(C=_,_=[],S=-1;++S<T;)C[S]();T=_.length}u=!1}r.exports=function(S){_.push(S)!==1||u||c()}}).call(this,typeof Lt<"u"?Lt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(i,r,o){var l=i("immediate");function c(){}var u={},h=["REJECTED"],m=["FULFILLED"],g=["PENDING"];function y(T){if(typeof T!="function")throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,T!==c&&S(this,T)}function v(T,N,I){this.promise=T,typeof N=="function"&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),typeof I=="function"&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}function _(T,N,I){l(function(){var O;try{O=N(I)}catch(F){return u.reject(T,F)}O===T?u.reject(T,new TypeError("Cannot resolve promise with itself")):u.resolve(T,O)})}function A(T){var N=T&&T.then;if(T&&(typeof T=="object"||typeof T=="function")&&typeof N=="function")return function(){N.apply(T,arguments)}}function S(T,N){var I=!1;function O(V){I||(I=!0,u.reject(T,V))}function F(V){I||(I=!0,u.resolve(T,V))}var U=C(function(){N(F,O)});U.status==="error"&&O(U.value)}function C(T,N){var I={};try{I.value=T(N),I.status="success"}catch(O){I.status="error",I.value=O}return I}(r.exports=y).prototype.finally=function(T){if(typeof T!="function")return this;var N=this.constructor;return this.then(function(I){return N.resolve(T()).then(function(){return I})},function(I){return N.resolve(T()).then(function(){throw I})})},y.prototype.catch=function(T){return this.then(null,T)},y.prototype.then=function(T,N){if(typeof T!="function"&&this.state===m||typeof N!="function"&&this.state===h)return this;var I=new this.constructor(c);return this.state!==g?_(I,this.state===m?T:N,this.outcome):this.queue.push(new v(I,T,N)),I},v.prototype.callFulfilled=function(T){u.resolve(this.promise,T)},v.prototype.otherCallFulfilled=function(T){_(this.promise,this.onFulfilled,T)},v.prototype.callRejected=function(T){u.reject(this.promise,T)},v.prototype.otherCallRejected=function(T){_(this.promise,this.onRejected,T)},u.resolve=function(T,N){var I=C(A,N);if(I.status==="error")return u.reject(T,I.value);var O=I.value;if(O)S(T,O);else{T.state=m,T.outcome=N;for(var F=-1,U=T.queue.length;++F<U;)T.queue[F].callFulfilled(N)}return T},u.reject=function(T,N){T.state=h,T.outcome=N;for(var I=-1,O=T.queue.length;++I<O;)T.queue[I].callRejected(N);return T},y.resolve=function(T){return T instanceof this?T:u.resolve(new this(c),T)},y.reject=function(T){var N=new this(c);return u.reject(N,T)},y.all=function(T){var N=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=T.length,O=!1;if(!I)return this.resolve([]);for(var F=new Array(I),U=0,V=-1,B=new this(c);++V<I;)Z(T[V],V);return B;function Z(ae,me){N.resolve(ae).then(function(Q){F[me]=Q,++U!==I||O||(O=!0,u.resolve(B,F))},function(Q){O||(O=!0,u.reject(B,Q))})}},y.race=function(T){var N=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=T.length,O=!1;if(!I)return this.resolve([]);for(var F=-1,U=new this(c);++F<I;)V=T[F],N.resolve(V).then(function(B){O||(O=!0,u.resolve(U,B))},function(B){O||(O=!0,u.reject(U,B))});var V;return U}},{immediate:36}],38:[function(i,r,o){var l={};(0,i("./lib/utils/common").assign)(l,i("./lib/deflate"),i("./lib/inflate"),i("./lib/zlib/constants")),r.exports=l},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(i,r,o){var l=i("./zlib/deflate"),c=i("./utils/common"),u=i("./utils/strings"),h=i("./zlib/messages"),m=i("./zlib/zstream"),g=Object.prototype.toString,y=0,v=-1,_=0,A=8;function S(T){if(!(this instanceof S))return new S(T);this.options=c.assign({level:v,method:A,chunkSize:16384,windowBits:15,memLevel:8,strategy:_,to:""},T||{});var N=this.options;N.raw&&0<N.windowBits?N.windowBits=-N.windowBits:N.gzip&&0<N.windowBits&&N.windowBits<16&&(N.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var I=l.deflateInit2(this.strm,N.level,N.method,N.windowBits,N.memLevel,N.strategy);if(I!==y)throw new Error(h[I]);if(N.header&&l.deflateSetHeader(this.strm,N.header),N.dictionary){var O;if(O=typeof N.dictionary=="string"?u.string2buf(N.dictionary):g.call(N.dictionary)==="[object ArrayBuffer]"?new Uint8Array(N.dictionary):N.dictionary,(I=l.deflateSetDictionary(this.strm,O))!==y)throw new Error(h[I]);this._dict_set=!0}}function C(T,N){var I=new S(N);if(I.push(T,!0),I.err)throw I.msg||h[I.err];return I.result}S.prototype.push=function(T,N){var I,O,F=this.strm,U=this.options.chunkSize;if(this.ended)return!1;O=N===~~N?N:N===!0?4:0,typeof T=="string"?F.input=u.string2buf(T):g.call(T)==="[object ArrayBuffer]"?F.input=new Uint8Array(T):F.input=T,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new c.Buf8(U),F.next_out=0,F.avail_out=U),(I=l.deflate(F,O))!==1&&I!==y)return this.onEnd(I),!(this.ended=!0);F.avail_out!==0&&(F.avail_in!==0||O!==4&&O!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(c.shrinkBuf(F.output,F.next_out))):this.onData(c.shrinkBuf(F.output,F.next_out)))}while((0<F.avail_in||F.avail_out===0)&&I!==1);return O===4?(I=l.deflateEnd(this.strm),this.onEnd(I),this.ended=!0,I===y):O!==2||(this.onEnd(y),!(F.avail_out=0))},S.prototype.onData=function(T){this.chunks.push(T)},S.prototype.onEnd=function(T){T===y&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg},o.Deflate=S,o.deflate=C,o.deflateRaw=function(T,N){return(N=N||{}).raw=!0,C(T,N)},o.gzip=function(T,N){return(N=N||{}).gzip=!0,C(T,N)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(i,r,o){var l=i("./zlib/inflate"),c=i("./utils/common"),u=i("./utils/strings"),h=i("./zlib/constants"),m=i("./zlib/messages"),g=i("./zlib/zstream"),y=i("./zlib/gzheader"),v=Object.prototype.toString;function _(S){if(!(this instanceof _))return new _(S);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},S||{});var C=this.options;C.raw&&0<=C.windowBits&&C.windowBits<16&&(C.windowBits=-C.windowBits,C.windowBits===0&&(C.windowBits=-15)),!(0<=C.windowBits&&C.windowBits<16)||S&&S.windowBits||(C.windowBits+=32),15<C.windowBits&&C.windowBits<48&&!(15&C.windowBits)&&(C.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var T=l.inflateInit2(this.strm,C.windowBits);if(T!==h.Z_OK)throw new Error(m[T]);this.header=new y,l.inflateGetHeader(this.strm,this.header)}function A(S,C){var T=new _(C);if(T.push(S,!0),T.err)throw T.msg||m[T.err];return T.result}_.prototype.push=function(S,C){var T,N,I,O,F,U,V=this.strm,B=this.options.chunkSize,Z=this.options.dictionary,ae=!1;if(this.ended)return!1;N=C===~~C?C:C===!0?h.Z_FINISH:h.Z_NO_FLUSH,typeof S=="string"?V.input=u.binstring2buf(S):v.call(S)==="[object ArrayBuffer]"?V.input=new Uint8Array(S):V.input=S,V.next_in=0,V.avail_in=V.input.length;do{if(V.avail_out===0&&(V.output=new c.Buf8(B),V.next_out=0,V.avail_out=B),(T=l.inflate(V,h.Z_NO_FLUSH))===h.Z_NEED_DICT&&Z&&(U=typeof Z=="string"?u.string2buf(Z):v.call(Z)==="[object ArrayBuffer]"?new Uint8Array(Z):Z,T=l.inflateSetDictionary(this.strm,U)),T===h.Z_BUF_ERROR&&ae===!0&&(T=h.Z_OK,ae=!1),T!==h.Z_STREAM_END&&T!==h.Z_OK)return this.onEnd(T),!(this.ended=!0);V.next_out&&(V.avail_out!==0&&T!==h.Z_STREAM_END&&(V.avail_in!==0||N!==h.Z_FINISH&&N!==h.Z_SYNC_FLUSH)||(this.options.to==="string"?(I=u.utf8border(V.output,V.next_out),O=V.next_out-I,F=u.buf2string(V.output,I),V.next_out=O,V.avail_out=B-O,O&&c.arraySet(V.output,V.output,I,O,0),this.onData(F)):this.onData(c.shrinkBuf(V.output,V.next_out)))),V.avail_in===0&&V.avail_out===0&&(ae=!0)}while((0<V.avail_in||V.avail_out===0)&&T!==h.Z_STREAM_END);return T===h.Z_STREAM_END&&(N=h.Z_FINISH),N===h.Z_FINISH?(T=l.inflateEnd(this.strm),this.onEnd(T),this.ended=!0,T===h.Z_OK):N!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),!(V.avail_out=0))},_.prototype.onData=function(S){this.chunks.push(S)},_.prototype.onEnd=function(S){S===h.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},o.Inflate=_,o.inflate=A,o.inflateRaw=function(S,C){return(C=C||{}).raw=!0,A(S,C)},o.ungzip=A},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(i,r,o){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(h){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var g=m.shift();if(g){if(typeof g!="object")throw new TypeError(g+"must be non-object");for(var y in g)g.hasOwnProperty(y)&&(h[y]=g[y])}}return h},o.shrinkBuf=function(h,m){return h.length===m?h:h.subarray?h.subarray(0,m):(h.length=m,h)};var c={arraySet:function(h,m,g,y,v){if(m.subarray&&h.subarray)h.set(m.subarray(g,g+y),v);else for(var _=0;_<y;_++)h[v+_]=m[g+_]},flattenChunks:function(h){var m,g,y,v,_,A;for(m=y=0,g=h.length;m<g;m++)y+=h[m].length;for(A=new Uint8Array(y),m=v=0,g=h.length;m<g;m++)_=h[m],A.set(_,v),v+=_.length;return A}},u={arraySet:function(h,m,g,y,v){for(var _=0;_<y;_++)h[v+_]=m[g+_]},flattenChunks:function(h){return[].concat.apply([],h)}};o.setTyped=function(h){h?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,c)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,u))},o.setTyped(l)},{}],42:[function(i,r,o){var l=i("./common"),c=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{c=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var h=new l.Buf8(256),m=0;m<256;m++)h[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;function g(y,v){if(v<65537&&(y.subarray&&u||!y.subarray&&c))return String.fromCharCode.apply(null,l.shrinkBuf(y,v));for(var _="",A=0;A<v;A++)_+=String.fromCharCode(y[A]);return _}h[254]=h[254]=1,o.string2buf=function(y){var v,_,A,S,C,T=y.length,N=0;for(S=0;S<T;S++)(64512&(_=y.charCodeAt(S)))==55296&&S+1<T&&(64512&(A=y.charCodeAt(S+1)))==56320&&(_=65536+(_-55296<<10)+(A-56320),S++),N+=_<128?1:_<2048?2:_<65536?3:4;for(v=new l.Buf8(N),S=C=0;C<N;S++)(64512&(_=y.charCodeAt(S)))==55296&&S+1<T&&(64512&(A=y.charCodeAt(S+1)))==56320&&(_=65536+(_-55296<<10)+(A-56320),S++),_<128?v[C++]=_:(_<2048?v[C++]=192|_>>>6:(_<65536?v[C++]=224|_>>>12:(v[C++]=240|_>>>18,v[C++]=128|_>>>12&63),v[C++]=128|_>>>6&63),v[C++]=128|63&_);return v},o.buf2binstring=function(y){return g(y,y.length)},o.binstring2buf=function(y){for(var v=new l.Buf8(y.length),_=0,A=v.length;_<A;_++)v[_]=y.charCodeAt(_);return v},o.buf2string=function(y,v){var _,A,S,C,T=v||y.length,N=new Array(2*T);for(_=A=0;_<T;)if((S=y[_++])<128)N[A++]=S;else if(4<(C=h[S]))N[A++]=65533,_+=C-1;else{for(S&=C===2?31:C===3?15:7;1<C&&_<T;)S=S<<6|63&y[_++],C--;1<C?N[A++]=65533:S<65536?N[A++]=S:(S-=65536,N[A++]=55296|S>>10&1023,N[A++]=56320|1023&S)}return g(N,A)},o.utf8border=function(y,v){var _;for((v=v||y.length)>y.length&&(v=y.length),_=v-1;0<=_&&(192&y[_])==128;)_--;return _<0||_===0?v:_+h[y[_]]>v?_:v}},{"./common":41}],43:[function(i,r,o){r.exports=function(l,c,u,h){for(var m=65535&l|0,g=l>>>16&65535|0,y=0;u!==0;){for(u-=y=2e3<u?2e3:u;g=g+(m=m+c[h++]|0)|0,--y;);m%=65521,g%=65521}return m|g<<16|0}},{}],44:[function(i,r,o){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(i,r,o){var l=function(){for(var c,u=[],h=0;h<256;h++){c=h;for(var m=0;m<8;m++)c=1&c?3988292384^c>>>1:c>>>1;u[h]=c}return u}();r.exports=function(c,u,h,m){var g=l,y=m+h;c^=-1;for(var v=m;v<y;v++)c=c>>>8^g[255&(c^u[v])];return-1^c}},{}],46:[function(i,r,o){var l,c=i("../utils/common"),u=i("./trees"),h=i("./adler32"),m=i("./crc32"),g=i("./messages"),y=0,v=4,_=0,A=-2,S=-1,C=4,T=2,N=8,I=9,O=286,F=30,U=19,V=2*O+1,B=15,Z=3,ae=258,me=ae+Z+1,Q=42,ge=113,$=1,Te=2,re=3,ie=4;function G(X,Ae){return X.msg=g[Ae],Ae}function K(X){return(X<<1)-(4<X?9:0)}function ne(X){for(var Ae=X.length;0<=--Ae;)X[Ae]=0}function J(X){var Ae=X.state,Ie=Ae.pending;Ie>X.avail_out&&(Ie=X.avail_out),Ie!==0&&(c.arraySet(X.output,Ae.pending_buf,Ae.pending_out,Ie,X.next_out),X.next_out+=Ie,Ae.pending_out+=Ie,X.total_out+=Ie,X.avail_out-=Ie,Ae.pending-=Ie,Ae.pending===0&&(Ae.pending_out=0))}function ue(X,Ae){u._tr_flush_block(X,0<=X.block_start?X.block_start:-1,X.strstart-X.block_start,Ae),X.block_start=X.strstart,J(X.strm)}function ee(X,Ae){X.pending_buf[X.pending++]=Ae}function xe(X,Ae){X.pending_buf[X.pending++]=Ae>>>8&255,X.pending_buf[X.pending++]=255&Ae}function Se(X,Ae){var Ie,be,we=X.max_chain_length,Ee=X.strstart,He=X.prev_length,qe=X.nice_match,Oe=X.strstart>X.w_size-me?X.strstart-(X.w_size-me):0,Ce=X.window,_e=X.w_mask,ce=X.prev,Ue=X.strstart+ae,et=Ce[Ee+He-1],nt=Ce[Ee+He];X.prev_length>=X.good_match&&(we>>=2),qe>X.lookahead&&(qe=X.lookahead);do if(Ce[(Ie=Ae)+He]===nt&&Ce[Ie+He-1]===et&&Ce[Ie]===Ce[Ee]&&Ce[++Ie]===Ce[Ee+1]){Ee+=2,Ie++;do;while(Ce[++Ee]===Ce[++Ie]&&Ce[++Ee]===Ce[++Ie]&&Ce[++Ee]===Ce[++Ie]&&Ce[++Ee]===Ce[++Ie]&&Ce[++Ee]===Ce[++Ie]&&Ce[++Ee]===Ce[++Ie]&&Ce[++Ee]===Ce[++Ie]&&Ce[++Ee]===Ce[++Ie]&&Ee<Ue);if(be=ae-(Ue-Ee),Ee=Ue-ae,He<be){if(X.match_start=Ae,qe<=(He=be))break;et=Ce[Ee+He-1],nt=Ce[Ee+He]}}while((Ae=ce[Ae&_e])>Oe&&--we!=0);return He<=X.lookahead?He:X.lookahead}function Me(X){var Ae,Ie,be,we,Ee,He,qe,Oe,Ce,_e,ce=X.w_size;do{if(we=X.window_size-X.lookahead-X.strstart,X.strstart>=ce+(ce-me)){for(c.arraySet(X.window,X.window,ce,ce,0),X.match_start-=ce,X.strstart-=ce,X.block_start-=ce,Ae=Ie=X.hash_size;be=X.head[--Ae],X.head[Ae]=ce<=be?be-ce:0,--Ie;);for(Ae=Ie=ce;be=X.prev[--Ae],X.prev[Ae]=ce<=be?be-ce:0,--Ie;);we+=ce}if(X.strm.avail_in===0)break;if(He=X.strm,qe=X.window,Oe=X.strstart+X.lookahead,Ce=we,_e=void 0,_e=He.avail_in,Ce<_e&&(_e=Ce),Ie=_e===0?0:(He.avail_in-=_e,c.arraySet(qe,He.input,He.next_in,_e,Oe),He.state.wrap===1?He.adler=h(He.adler,qe,_e,Oe):He.state.wrap===2&&(He.adler=m(He.adler,qe,_e,Oe)),He.next_in+=_e,He.total_in+=_e,_e),X.lookahead+=Ie,X.lookahead+X.insert>=Z)for(Ee=X.strstart-X.insert,X.ins_h=X.window[Ee],X.ins_h=(X.ins_h<<X.hash_shift^X.window[Ee+1])&X.hash_mask;X.insert&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[Ee+Z-1])&X.hash_mask,X.prev[Ee&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=Ee,Ee++,X.insert--,!(X.lookahead+X.insert<Z)););}while(X.lookahead<me&&X.strm.avail_in!==0)}function Re(X,Ae){for(var Ie,be;;){if(X.lookahead<me){if(Me(X),X.lookahead<me&&Ae===y)return $;if(X.lookahead===0)break}if(Ie=0,X.lookahead>=Z&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+Z-1])&X.hash_mask,Ie=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart),Ie!==0&&X.strstart-Ie<=X.w_size-me&&(X.match_length=Se(X,Ie)),X.match_length>=Z)if(be=u._tr_tally(X,X.strstart-X.match_start,X.match_length-Z),X.lookahead-=X.match_length,X.match_length<=X.max_lazy_match&&X.lookahead>=Z){for(X.match_length--;X.strstart++,X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+Z-1])&X.hash_mask,Ie=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart,--X.match_length!=0;);X.strstart++}else X.strstart+=X.match_length,X.match_length=0,X.ins_h=X.window[X.strstart],X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+1])&X.hash_mask;else be=u._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++;if(be&&(ue(X,!1),X.strm.avail_out===0))return $}return X.insert=X.strstart<Z-1?X.strstart:Z-1,Ae===v?(ue(X,!0),X.strm.avail_out===0?re:ie):X.last_lit&&(ue(X,!1),X.strm.avail_out===0)?$:Te}function Fe(X,Ae){for(var Ie,be,we;;){if(X.lookahead<me){if(Me(X),X.lookahead<me&&Ae===y)return $;if(X.lookahead===0)break}if(Ie=0,X.lookahead>=Z&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+Z-1])&X.hash_mask,Ie=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart),X.prev_length=X.match_length,X.prev_match=X.match_start,X.match_length=Z-1,Ie!==0&&X.prev_length<X.max_lazy_match&&X.strstart-Ie<=X.w_size-me&&(X.match_length=Se(X,Ie),X.match_length<=5&&(X.strategy===1||X.match_length===Z&&4096<X.strstart-X.match_start)&&(X.match_length=Z-1)),X.prev_length>=Z&&X.match_length<=X.prev_length){for(we=X.strstart+X.lookahead-Z,be=u._tr_tally(X,X.strstart-1-X.prev_match,X.prev_length-Z),X.lookahead-=X.prev_length-1,X.prev_length-=2;++X.strstart<=we&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+Z-1])&X.hash_mask,Ie=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart),--X.prev_length!=0;);if(X.match_available=0,X.match_length=Z-1,X.strstart++,be&&(ue(X,!1),X.strm.avail_out===0))return $}else if(X.match_available){if((be=u._tr_tally(X,0,X.window[X.strstart-1]))&&ue(X,!1),X.strstart++,X.lookahead--,X.strm.avail_out===0)return $}else X.match_available=1,X.strstart++,X.lookahead--}return X.match_available&&(be=u._tr_tally(X,0,X.window[X.strstart-1]),X.match_available=0),X.insert=X.strstart<Z-1?X.strstart:Z-1,Ae===v?(ue(X,!0),X.strm.avail_out===0?re:ie):X.last_lit&&(ue(X,!1),X.strm.avail_out===0)?$:Te}function We(X,Ae,Ie,be,we){this.good_length=X,this.max_lazy=Ae,this.nice_length=Ie,this.max_chain=be,this.func=we}function ze(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=N,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*V),this.dyn_dtree=new c.Buf16(2*(2*F+1)),this.bl_tree=new c.Buf16(2*(2*U+1)),ne(this.dyn_ltree),ne(this.dyn_dtree),ne(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(B+1),this.heap=new c.Buf16(2*O+1),ne(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*O+1),ne(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ne(X){var Ae;return X&&X.state?(X.total_in=X.total_out=0,X.data_type=T,(Ae=X.state).pending=0,Ae.pending_out=0,Ae.wrap<0&&(Ae.wrap=-Ae.wrap),Ae.status=Ae.wrap?Q:ge,X.adler=Ae.wrap===2?0:1,Ae.last_flush=y,u._tr_init(Ae),_):G(X,A)}function ke(X){var Ae=Ne(X);return Ae===_&&function(Ie){Ie.window_size=2*Ie.w_size,ne(Ie.head),Ie.max_lazy_match=l[Ie.level].max_lazy,Ie.good_match=l[Ie.level].good_length,Ie.nice_match=l[Ie.level].nice_length,Ie.max_chain_length=l[Ie.level].max_chain,Ie.strstart=0,Ie.block_start=0,Ie.lookahead=0,Ie.insert=0,Ie.match_length=Ie.prev_length=Z-1,Ie.match_available=0,Ie.ins_h=0}(X.state),Ae}function Be(X,Ae,Ie,be,we,Ee){if(!X)return A;var He=1;if(Ae===S&&(Ae=6),be<0?(He=0,be=-be):15<be&&(He=2,be-=16),we<1||I<we||Ie!==N||be<8||15<be||Ae<0||9<Ae||Ee<0||C<Ee)return G(X,A);be===8&&(be=9);var qe=new ze;return(X.state=qe).strm=X,qe.wrap=He,qe.gzhead=null,qe.w_bits=be,qe.w_size=1<<qe.w_bits,qe.w_mask=qe.w_size-1,qe.hash_bits=we+7,qe.hash_size=1<<qe.hash_bits,qe.hash_mask=qe.hash_size-1,qe.hash_shift=~~((qe.hash_bits+Z-1)/Z),qe.window=new c.Buf8(2*qe.w_size),qe.head=new c.Buf16(qe.hash_size),qe.prev=new c.Buf16(qe.w_size),qe.lit_bufsize=1<<we+6,qe.pending_buf_size=4*qe.lit_bufsize,qe.pending_buf=new c.Buf8(qe.pending_buf_size),qe.d_buf=1*qe.lit_bufsize,qe.l_buf=3*qe.lit_bufsize,qe.level=Ae,qe.strategy=Ee,qe.method=Ie,ke(X)}l=[new We(0,0,0,0,function(X,Ae){var Ie=65535;for(Ie>X.pending_buf_size-5&&(Ie=X.pending_buf_size-5);;){if(X.lookahead<=1){if(Me(X),X.lookahead===0&&Ae===y)return $;if(X.lookahead===0)break}X.strstart+=X.lookahead,X.lookahead=0;var be=X.block_start+Ie;if((X.strstart===0||X.strstart>=be)&&(X.lookahead=X.strstart-be,X.strstart=be,ue(X,!1),X.strm.avail_out===0)||X.strstart-X.block_start>=X.w_size-me&&(ue(X,!1),X.strm.avail_out===0))return $}return X.insert=0,Ae===v?(ue(X,!0),X.strm.avail_out===0?re:ie):(X.strstart>X.block_start&&(ue(X,!1),X.strm.avail_out),$)}),new We(4,4,8,4,Re),new We(4,5,16,8,Re),new We(4,6,32,32,Re),new We(4,4,16,16,Fe),new We(8,16,32,32,Fe),new We(8,16,128,128,Fe),new We(8,32,128,256,Fe),new We(32,128,258,1024,Fe),new We(32,258,258,4096,Fe)],o.deflateInit=function(X,Ae){return Be(X,Ae,N,15,8,0)},o.deflateInit2=Be,o.deflateReset=ke,o.deflateResetKeep=Ne,o.deflateSetHeader=function(X,Ae){return X&&X.state?X.state.wrap!==2?A:(X.state.gzhead=Ae,_):A},o.deflate=function(X,Ae){var Ie,be,we,Ee;if(!X||!X.state||5<Ae||Ae<0)return X?G(X,A):A;if(be=X.state,!X.output||!X.input&&X.avail_in!==0||be.status===666&&Ae!==v)return G(X,X.avail_out===0?-5:A);if(be.strm=X,Ie=be.last_flush,be.last_flush=Ae,be.status===Q)if(be.wrap===2)X.adler=0,ee(be,31),ee(be,139),ee(be,8),be.gzhead?(ee(be,(be.gzhead.text?1:0)+(be.gzhead.hcrc?2:0)+(be.gzhead.extra?4:0)+(be.gzhead.name?8:0)+(be.gzhead.comment?16:0)),ee(be,255&be.gzhead.time),ee(be,be.gzhead.time>>8&255),ee(be,be.gzhead.time>>16&255),ee(be,be.gzhead.time>>24&255),ee(be,be.level===9?2:2<=be.strategy||be.level<2?4:0),ee(be,255&be.gzhead.os),be.gzhead.extra&&be.gzhead.extra.length&&(ee(be,255&be.gzhead.extra.length),ee(be,be.gzhead.extra.length>>8&255)),be.gzhead.hcrc&&(X.adler=m(X.adler,be.pending_buf,be.pending,0)),be.gzindex=0,be.status=69):(ee(be,0),ee(be,0),ee(be,0),ee(be,0),ee(be,0),ee(be,be.level===9?2:2<=be.strategy||be.level<2?4:0),ee(be,3),be.status=ge);else{var He=N+(be.w_bits-8<<4)<<8;He|=(2<=be.strategy||be.level<2?0:be.level<6?1:be.level===6?2:3)<<6,be.strstart!==0&&(He|=32),He+=31-He%31,be.status=ge,xe(be,He),be.strstart!==0&&(xe(be,X.adler>>>16),xe(be,65535&X.adler)),X.adler=1}if(be.status===69)if(be.gzhead.extra){for(we=be.pending;be.gzindex<(65535&be.gzhead.extra.length)&&(be.pending!==be.pending_buf_size||(be.gzhead.hcrc&&be.pending>we&&(X.adler=m(X.adler,be.pending_buf,be.pending-we,we)),J(X),we=be.pending,be.pending!==be.pending_buf_size));)ee(be,255&be.gzhead.extra[be.gzindex]),be.gzindex++;be.gzhead.hcrc&&be.pending>we&&(X.adler=m(X.adler,be.pending_buf,be.pending-we,we)),be.gzindex===be.gzhead.extra.length&&(be.gzindex=0,be.status=73)}else be.status=73;if(be.status===73)if(be.gzhead.name){we=be.pending;do{if(be.pending===be.pending_buf_size&&(be.gzhead.hcrc&&be.pending>we&&(X.adler=m(X.adler,be.pending_buf,be.pending-we,we)),J(X),we=be.pending,be.pending===be.pending_buf_size)){Ee=1;break}Ee=be.gzindex<be.gzhead.name.length?255&be.gzhead.name.charCodeAt(be.gzindex++):0,ee(be,Ee)}while(Ee!==0);be.gzhead.hcrc&&be.pending>we&&(X.adler=m(X.adler,be.pending_buf,be.pending-we,we)),Ee===0&&(be.gzindex=0,be.status=91)}else be.status=91;if(be.status===91)if(be.gzhead.comment){we=be.pending;do{if(be.pending===be.pending_buf_size&&(be.gzhead.hcrc&&be.pending>we&&(X.adler=m(X.adler,be.pending_buf,be.pending-we,we)),J(X),we=be.pending,be.pending===be.pending_buf_size)){Ee=1;break}Ee=be.gzindex<be.gzhead.comment.length?255&be.gzhead.comment.charCodeAt(be.gzindex++):0,ee(be,Ee)}while(Ee!==0);be.gzhead.hcrc&&be.pending>we&&(X.adler=m(X.adler,be.pending_buf,be.pending-we,we)),Ee===0&&(be.status=103)}else be.status=103;if(be.status===103&&(be.gzhead.hcrc?(be.pending+2>be.pending_buf_size&&J(X),be.pending+2<=be.pending_buf_size&&(ee(be,255&X.adler),ee(be,X.adler>>8&255),X.adler=0,be.status=ge)):be.status=ge),be.pending!==0){if(J(X),X.avail_out===0)return be.last_flush=-1,_}else if(X.avail_in===0&&K(Ae)<=K(Ie)&&Ae!==v)return G(X,-5);if(be.status===666&&X.avail_in!==0)return G(X,-5);if(X.avail_in!==0||be.lookahead!==0||Ae!==y&&be.status!==666){var qe=be.strategy===2?function(Oe,Ce){for(var _e;;){if(Oe.lookahead===0&&(Me(Oe),Oe.lookahead===0)){if(Ce===y)return $;break}if(Oe.match_length=0,_e=u._tr_tally(Oe,0,Oe.window[Oe.strstart]),Oe.lookahead--,Oe.strstart++,_e&&(ue(Oe,!1),Oe.strm.avail_out===0))return $}return Oe.insert=0,Ce===v?(ue(Oe,!0),Oe.strm.avail_out===0?re:ie):Oe.last_lit&&(ue(Oe,!1),Oe.strm.avail_out===0)?$:Te}(be,Ae):be.strategy===3?function(Oe,Ce){for(var _e,ce,Ue,et,nt=Oe.window;;){if(Oe.lookahead<=ae){if(Me(Oe),Oe.lookahead<=ae&&Ce===y)return $;if(Oe.lookahead===0)break}if(Oe.match_length=0,Oe.lookahead>=Z&&0<Oe.strstart&&(ce=nt[Ue=Oe.strstart-1])===nt[++Ue]&&ce===nt[++Ue]&&ce===nt[++Ue]){et=Oe.strstart+ae;do;while(ce===nt[++Ue]&&ce===nt[++Ue]&&ce===nt[++Ue]&&ce===nt[++Ue]&&ce===nt[++Ue]&&ce===nt[++Ue]&&ce===nt[++Ue]&&ce===nt[++Ue]&&Ue<et);Oe.match_length=ae-(et-Ue),Oe.match_length>Oe.lookahead&&(Oe.match_length=Oe.lookahead)}if(Oe.match_length>=Z?(_e=u._tr_tally(Oe,1,Oe.match_length-Z),Oe.lookahead-=Oe.match_length,Oe.strstart+=Oe.match_length,Oe.match_length=0):(_e=u._tr_tally(Oe,0,Oe.window[Oe.strstart]),Oe.lookahead--,Oe.strstart++),_e&&(ue(Oe,!1),Oe.strm.avail_out===0))return $}return Oe.insert=0,Ce===v?(ue(Oe,!0),Oe.strm.avail_out===0?re:ie):Oe.last_lit&&(ue(Oe,!1),Oe.strm.avail_out===0)?$:Te}(be,Ae):l[be.level].func(be,Ae);if(qe!==re&&qe!==ie||(be.status=666),qe===$||qe===re)return X.avail_out===0&&(be.last_flush=-1),_;if(qe===Te&&(Ae===1?u._tr_align(be):Ae!==5&&(u._tr_stored_block(be,0,0,!1),Ae===3&&(ne(be.head),be.lookahead===0&&(be.strstart=0,be.block_start=0,be.insert=0))),J(X),X.avail_out===0))return be.last_flush=-1,_}return Ae!==v?_:be.wrap<=0?1:(be.wrap===2?(ee(be,255&X.adler),ee(be,X.adler>>8&255),ee(be,X.adler>>16&255),ee(be,X.adler>>24&255),ee(be,255&X.total_in),ee(be,X.total_in>>8&255),ee(be,X.total_in>>16&255),ee(be,X.total_in>>24&255)):(xe(be,X.adler>>>16),xe(be,65535&X.adler)),J(X),0<be.wrap&&(be.wrap=-be.wrap),be.pending!==0?_:1)},o.deflateEnd=function(X){var Ae;return X&&X.state?(Ae=X.state.status)!==Q&&Ae!==69&&Ae!==73&&Ae!==91&&Ae!==103&&Ae!==ge&&Ae!==666?G(X,A):(X.state=null,Ae===ge?G(X,-3):_):A},o.deflateSetDictionary=function(X,Ae){var Ie,be,we,Ee,He,qe,Oe,Ce,_e=Ae.length;if(!X||!X.state||(Ee=(Ie=X.state).wrap)===2||Ee===1&&Ie.status!==Q||Ie.lookahead)return A;for(Ee===1&&(X.adler=h(X.adler,Ae,_e,0)),Ie.wrap=0,_e>=Ie.w_size&&(Ee===0&&(ne(Ie.head),Ie.strstart=0,Ie.block_start=0,Ie.insert=0),Ce=new c.Buf8(Ie.w_size),c.arraySet(Ce,Ae,_e-Ie.w_size,Ie.w_size,0),Ae=Ce,_e=Ie.w_size),He=X.avail_in,qe=X.next_in,Oe=X.input,X.avail_in=_e,X.next_in=0,X.input=Ae,Me(Ie);Ie.lookahead>=Z;){for(be=Ie.strstart,we=Ie.lookahead-(Z-1);Ie.ins_h=(Ie.ins_h<<Ie.hash_shift^Ie.window[be+Z-1])&Ie.hash_mask,Ie.prev[be&Ie.w_mask]=Ie.head[Ie.ins_h],Ie.head[Ie.ins_h]=be,be++,--we;);Ie.strstart=be,Ie.lookahead=Z-1,Me(Ie)}return Ie.strstart+=Ie.lookahead,Ie.block_start=Ie.strstart,Ie.insert=Ie.lookahead,Ie.lookahead=0,Ie.match_length=Ie.prev_length=Z-1,Ie.match_available=0,X.next_in=qe,X.input=Oe,X.avail_in=He,Ie.wrap=Ee,_},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(i,r,o){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(i,r,o){r.exports=function(l,c){var u,h,m,g,y,v,_,A,S,C,T,N,I,O,F,U,V,B,Z,ae,me,Q,ge,$,Te;u=l.state,h=l.next_in,$=l.input,m=h+(l.avail_in-5),g=l.next_out,Te=l.output,y=g-(c-l.avail_out),v=g+(l.avail_out-257),_=u.dmax,A=u.wsize,S=u.whave,C=u.wnext,T=u.window,N=u.hold,I=u.bits,O=u.lencode,F=u.distcode,U=(1<<u.lenbits)-1,V=(1<<u.distbits)-1;e:do{I<15&&(N+=$[h++]<<I,I+=8,N+=$[h++]<<I,I+=8),B=O[N&U];t:for(;;){if(N>>>=Z=B>>>24,I-=Z,(Z=B>>>16&255)===0)Te[g++]=65535&B;else{if(!(16&Z)){if(!(64&Z)){B=O[(65535&B)+(N&(1<<Z)-1)];continue t}if(32&Z){u.mode=12;break e}l.msg="invalid literal/length code",u.mode=30;break e}ae=65535&B,(Z&=15)&&(I<Z&&(N+=$[h++]<<I,I+=8),ae+=N&(1<<Z)-1,N>>>=Z,I-=Z),I<15&&(N+=$[h++]<<I,I+=8,N+=$[h++]<<I,I+=8),B=F[N&V];n:for(;;){if(N>>>=Z=B>>>24,I-=Z,!(16&(Z=B>>>16&255))){if(!(64&Z)){B=F[(65535&B)+(N&(1<<Z)-1)];continue n}l.msg="invalid distance code",u.mode=30;break e}if(me=65535&B,I<(Z&=15)&&(N+=$[h++]<<I,(I+=8)<Z&&(N+=$[h++]<<I,I+=8)),_<(me+=N&(1<<Z)-1)){l.msg="invalid distance too far back",u.mode=30;break e}if(N>>>=Z,I-=Z,(Z=g-y)<me){if(S<(Z=me-Z)&&u.sane){l.msg="invalid distance too far back",u.mode=30;break e}if(ge=T,(Q=0)===C){if(Q+=A-Z,Z<ae){for(ae-=Z;Te[g++]=T[Q++],--Z;);Q=g-me,ge=Te}}else if(C<Z){if(Q+=A+C-Z,(Z-=C)<ae){for(ae-=Z;Te[g++]=T[Q++],--Z;);if(Q=0,C<ae){for(ae-=Z=C;Te[g++]=T[Q++],--Z;);Q=g-me,ge=Te}}}else if(Q+=C-Z,Z<ae){for(ae-=Z;Te[g++]=T[Q++],--Z;);Q=g-me,ge=Te}for(;2<ae;)Te[g++]=ge[Q++],Te[g++]=ge[Q++],Te[g++]=ge[Q++],ae-=3;ae&&(Te[g++]=ge[Q++],1<ae&&(Te[g++]=ge[Q++]))}else{for(Q=g-me;Te[g++]=Te[Q++],Te[g++]=Te[Q++],Te[g++]=Te[Q++],2<(ae-=3););ae&&(Te[g++]=Te[Q++],1<ae&&(Te[g++]=Te[Q++]))}break}}break}}while(h<m&&g<v);h-=ae=I>>3,N&=(1<<(I-=ae<<3))-1,l.next_in=h,l.next_out=g,l.avail_in=h<m?m-h+5:5-(h-m),l.avail_out=g<v?v-g+257:257-(g-v),u.hold=N,u.bits=I}},{}],49:[function(i,r,o){var l=i("../utils/common"),c=i("./adler32"),u=i("./crc32"),h=i("./inffast"),m=i("./inftrees"),g=1,y=2,v=0,_=-2,A=1,S=852,C=592;function T(Q){return(Q>>>24&255)+(Q>>>8&65280)+((65280&Q)<<8)+((255&Q)<<24)}function N(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new l.Buf16(320),this.work=new l.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function I(Q){var ge;return Q&&Q.state?(ge=Q.state,Q.total_in=Q.total_out=ge.total=0,Q.msg="",ge.wrap&&(Q.adler=1&ge.wrap),ge.mode=A,ge.last=0,ge.havedict=0,ge.dmax=32768,ge.head=null,ge.hold=0,ge.bits=0,ge.lencode=ge.lendyn=new l.Buf32(S),ge.distcode=ge.distdyn=new l.Buf32(C),ge.sane=1,ge.back=-1,v):_}function O(Q){var ge;return Q&&Q.state?((ge=Q.state).wsize=0,ge.whave=0,ge.wnext=0,I(Q)):_}function F(Q,ge){var $,Te;return Q&&Q.state?(Te=Q.state,ge<0?($=0,ge=-ge):($=1+(ge>>4),ge<48&&(ge&=15)),ge&&(ge<8||15<ge)?_:(Te.window!==null&&Te.wbits!==ge&&(Te.window=null),Te.wrap=$,Te.wbits=ge,O(Q))):_}function U(Q,ge){var $,Te;return Q?(Te=new N,(Q.state=Te).window=null,($=F(Q,ge))!==v&&(Q.state=null),$):_}var V,B,Z=!0;function ae(Q){if(Z){var ge;for(V=new l.Buf32(512),B=new l.Buf32(32),ge=0;ge<144;)Q.lens[ge++]=8;for(;ge<256;)Q.lens[ge++]=9;for(;ge<280;)Q.lens[ge++]=7;for(;ge<288;)Q.lens[ge++]=8;for(m(g,Q.lens,0,288,V,0,Q.work,{bits:9}),ge=0;ge<32;)Q.lens[ge++]=5;m(y,Q.lens,0,32,B,0,Q.work,{bits:5}),Z=!1}Q.lencode=V,Q.lenbits=9,Q.distcode=B,Q.distbits=5}function me(Q,ge,$,Te){var re,ie=Q.state;return ie.window===null&&(ie.wsize=1<<ie.wbits,ie.wnext=0,ie.whave=0,ie.window=new l.Buf8(ie.wsize)),Te>=ie.wsize?(l.arraySet(ie.window,ge,$-ie.wsize,ie.wsize,0),ie.wnext=0,ie.whave=ie.wsize):(Te<(re=ie.wsize-ie.wnext)&&(re=Te),l.arraySet(ie.window,ge,$-Te,re,ie.wnext),(Te-=re)?(l.arraySet(ie.window,ge,$-Te,Te,0),ie.wnext=Te,ie.whave=ie.wsize):(ie.wnext+=re,ie.wnext===ie.wsize&&(ie.wnext=0),ie.whave<ie.wsize&&(ie.whave+=re))),0}o.inflateReset=O,o.inflateReset2=F,o.inflateResetKeep=I,o.inflateInit=function(Q){return U(Q,15)},o.inflateInit2=U,o.inflate=function(Q,ge){var $,Te,re,ie,G,K,ne,J,ue,ee,xe,Se,Me,Re,Fe,We,ze,Ne,ke,Be,X,Ae,Ie,be,we=0,Ee=new l.Buf8(4),He=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Q||!Q.state||!Q.output||!Q.input&&Q.avail_in!==0)return _;($=Q.state).mode===12&&($.mode=13),G=Q.next_out,re=Q.output,ne=Q.avail_out,ie=Q.next_in,Te=Q.input,K=Q.avail_in,J=$.hold,ue=$.bits,ee=K,xe=ne,Ae=v;e:for(;;)switch($.mode){case A:if($.wrap===0){$.mode=13;break}for(;ue<16;){if(K===0)break e;K--,J+=Te[ie++]<<ue,ue+=8}if(2&$.wrap&&J===35615){Ee[$.check=0]=255&J,Ee[1]=J>>>8&255,$.check=u($.check,Ee,2,0),ue=J=0,$.mode=2;break}if($.flags=0,$.head&&($.head.done=!1),!(1&$.wrap)||(((255&J)<<8)+(J>>8))%31){Q.msg="incorrect header check",$.mode=30;break}if((15&J)!=8){Q.msg="unknown compression method",$.mode=30;break}if(ue-=4,X=8+(15&(J>>>=4)),$.wbits===0)$.wbits=X;else if(X>$.wbits){Q.msg="invalid window size",$.mode=30;break}$.dmax=1<<X,Q.adler=$.check=1,$.mode=512&J?10:12,ue=J=0;break;case 2:for(;ue<16;){if(K===0)break e;K--,J+=Te[ie++]<<ue,ue+=8}if($.flags=J,(255&$.flags)!=8){Q.msg="unknown compression method",$.mode=30;break}if(57344&$.flags){Q.msg="unknown header flags set",$.mode=30;break}$.head&&($.head.text=J>>8&1),512&$.flags&&(Ee[0]=255&J,Ee[1]=J>>>8&255,$.check=u($.check,Ee,2,0)),ue=J=0,$.mode=3;case 3:for(;ue<32;){if(K===0)break e;K--,J+=Te[ie++]<<ue,ue+=8}$.head&&($.head.time=J),512&$.flags&&(Ee[0]=255&J,Ee[1]=J>>>8&255,Ee[2]=J>>>16&255,Ee[3]=J>>>24&255,$.check=u($.check,Ee,4,0)),ue=J=0,$.mode=4;case 4:for(;ue<16;){if(K===0)break e;K--,J+=Te[ie++]<<ue,ue+=8}$.head&&($.head.xflags=255&J,$.head.os=J>>8),512&$.flags&&(Ee[0]=255&J,Ee[1]=J>>>8&255,$.check=u($.check,Ee,2,0)),ue=J=0,$.mode=5;case 5:if(1024&$.flags){for(;ue<16;){if(K===0)break e;K--,J+=Te[ie++]<<ue,ue+=8}$.length=J,$.head&&($.head.extra_len=J),512&$.flags&&(Ee[0]=255&J,Ee[1]=J>>>8&255,$.check=u($.check,Ee,2,0)),ue=J=0}else $.head&&($.head.extra=null);$.mode=6;case 6:if(1024&$.flags&&(K<(Se=$.length)&&(Se=K),Se&&($.head&&(X=$.head.extra_len-$.length,$.head.extra||($.head.extra=new Array($.head.extra_len)),l.arraySet($.head.extra,Te,ie,Se,X)),512&$.flags&&($.check=u($.check,Te,Se,ie)),K-=Se,ie+=Se,$.length-=Se),$.length))break e;$.length=0,$.mode=7;case 7:if(2048&$.flags){if(K===0)break e;for(Se=0;X=Te[ie+Se++],$.head&&X&&$.length<65536&&($.head.name+=String.fromCharCode(X)),X&&Se<K;);if(512&$.flags&&($.check=u($.check,Te,Se,ie)),K-=Se,ie+=Se,X)break e}else $.head&&($.head.name=null);$.length=0,$.mode=8;case 8:if(4096&$.flags){if(K===0)break e;for(Se=0;X=Te[ie+Se++],$.head&&X&&$.length<65536&&($.head.comment+=String.fromCharCode(X)),X&&Se<K;);if(512&$.flags&&($.check=u($.check,Te,Se,ie)),K-=Se,ie+=Se,X)break e}else $.head&&($.head.comment=null);$.mode=9;case 9:if(512&$.flags){for(;ue<16;){if(K===0)break e;K--,J+=Te[ie++]<<ue,ue+=8}if(J!==(65535&$.check)){Q.msg="header crc mismatch",$.mode=30;break}ue=J=0}$.head&&($.head.hcrc=$.flags>>9&1,$.head.done=!0),Q.adler=$.check=0,$.mode=12;break;case 10:for(;ue<32;){if(K===0)break e;K--,J+=Te[ie++]<<ue,ue+=8}Q.adler=$.check=T(J),ue=J=0,$.mode=11;case 11:if($.havedict===0)return Q.next_out=G,Q.avail_out=ne,Q.next_in=ie,Q.avail_in=K,$.hold=J,$.bits=ue,2;Q.adler=$.check=1,$.mode=12;case 12:if(ge===5||ge===6)break e;case 13:if($.last){J>>>=7&ue,ue-=7&ue,$.mode=27;break}for(;ue<3;){if(K===0)break e;K--,J+=Te[ie++]<<ue,ue+=8}switch($.last=1&J,ue-=1,3&(J>>>=1)){case 0:$.mode=14;break;case 1:if(ae($),$.mode=20,ge!==6)break;J>>>=2,ue-=2;break e;case 2:$.mode=17;break;case 3:Q.msg="invalid block type",$.mode=30}J>>>=2,ue-=2;break;case 14:for(J>>>=7&ue,ue-=7&ue;ue<32;){if(K===0)break e;K--,J+=Te[ie++]<<ue,ue+=8}if((65535&J)!=(J>>>16^65535)){Q.msg="invalid stored block lengths",$.mode=30;break}if($.length=65535&J,ue=J=0,$.mode=15,ge===6)break e;case 15:$.mode=16;case 16:if(Se=$.length){if(K<Se&&(Se=K),ne<Se&&(Se=ne),Se===0)break e;l.arraySet(re,Te,ie,Se,G),K-=Se,ie+=Se,ne-=Se,G+=Se,$.length-=Se;break}$.mode=12;break;case 17:for(;ue<14;){if(K===0)break e;K--,J+=Te[ie++]<<ue,ue+=8}if($.nlen=257+(31&J),J>>>=5,ue-=5,$.ndist=1+(31&J),J>>>=5,ue-=5,$.ncode=4+(15&J),J>>>=4,ue-=4,286<$.nlen||30<$.ndist){Q.msg="too many length or distance symbols",$.mode=30;break}$.have=0,$.mode=18;case 18:for(;$.have<$.ncode;){for(;ue<3;){if(K===0)break e;K--,J+=Te[ie++]<<ue,ue+=8}$.lens[He[$.have++]]=7&J,J>>>=3,ue-=3}for(;$.have<19;)$.lens[He[$.have++]]=0;if($.lencode=$.lendyn,$.lenbits=7,Ie={bits:$.lenbits},Ae=m(0,$.lens,0,19,$.lencode,0,$.work,Ie),$.lenbits=Ie.bits,Ae){Q.msg="invalid code lengths set",$.mode=30;break}$.have=0,$.mode=19;case 19:for(;$.have<$.nlen+$.ndist;){for(;We=(we=$.lencode[J&(1<<$.lenbits)-1])>>>16&255,ze=65535&we,!((Fe=we>>>24)<=ue);){if(K===0)break e;K--,J+=Te[ie++]<<ue,ue+=8}if(ze<16)J>>>=Fe,ue-=Fe,$.lens[$.have++]=ze;else{if(ze===16){for(be=Fe+2;ue<be;){if(K===0)break e;K--,J+=Te[ie++]<<ue,ue+=8}if(J>>>=Fe,ue-=Fe,$.have===0){Q.msg="invalid bit length repeat",$.mode=30;break}X=$.lens[$.have-1],Se=3+(3&J),J>>>=2,ue-=2}else if(ze===17){for(be=Fe+3;ue<be;){if(K===0)break e;K--,J+=Te[ie++]<<ue,ue+=8}ue-=Fe,X=0,Se=3+(7&(J>>>=Fe)),J>>>=3,ue-=3}else{for(be=Fe+7;ue<be;){if(K===0)break e;K--,J+=Te[ie++]<<ue,ue+=8}ue-=Fe,X=0,Se=11+(127&(J>>>=Fe)),J>>>=7,ue-=7}if($.have+Se>$.nlen+$.ndist){Q.msg="invalid bit length repeat",$.mode=30;break}for(;Se--;)$.lens[$.have++]=X}}if($.mode===30)break;if($.lens[256]===0){Q.msg="invalid code -- missing end-of-block",$.mode=30;break}if($.lenbits=9,Ie={bits:$.lenbits},Ae=m(g,$.lens,0,$.nlen,$.lencode,0,$.work,Ie),$.lenbits=Ie.bits,Ae){Q.msg="invalid literal/lengths set",$.mode=30;break}if($.distbits=6,$.distcode=$.distdyn,Ie={bits:$.distbits},Ae=m(y,$.lens,$.nlen,$.ndist,$.distcode,0,$.work,Ie),$.distbits=Ie.bits,Ae){Q.msg="invalid distances set",$.mode=30;break}if($.mode=20,ge===6)break e;case 20:$.mode=21;case 21:if(6<=K&&258<=ne){Q.next_out=G,Q.avail_out=ne,Q.next_in=ie,Q.avail_in=K,$.hold=J,$.bits=ue,h(Q,xe),G=Q.next_out,re=Q.output,ne=Q.avail_out,ie=Q.next_in,Te=Q.input,K=Q.avail_in,J=$.hold,ue=$.bits,$.mode===12&&($.back=-1);break}for($.back=0;We=(we=$.lencode[J&(1<<$.lenbits)-1])>>>16&255,ze=65535&we,!((Fe=we>>>24)<=ue);){if(K===0)break e;K--,J+=Te[ie++]<<ue,ue+=8}if(We&&!(240&We)){for(Ne=Fe,ke=We,Be=ze;We=(we=$.lencode[Be+((J&(1<<Ne+ke)-1)>>Ne)])>>>16&255,ze=65535&we,!(Ne+(Fe=we>>>24)<=ue);){if(K===0)break e;K--,J+=Te[ie++]<<ue,ue+=8}J>>>=Ne,ue-=Ne,$.back+=Ne}if(J>>>=Fe,ue-=Fe,$.back+=Fe,$.length=ze,We===0){$.mode=26;break}if(32&We){$.back=-1,$.mode=12;break}if(64&We){Q.msg="invalid literal/length code",$.mode=30;break}$.extra=15&We,$.mode=22;case 22:if($.extra){for(be=$.extra;ue<be;){if(K===0)break e;K--,J+=Te[ie++]<<ue,ue+=8}$.length+=J&(1<<$.extra)-1,J>>>=$.extra,ue-=$.extra,$.back+=$.extra}$.was=$.length,$.mode=23;case 23:for(;We=(we=$.distcode[J&(1<<$.distbits)-1])>>>16&255,ze=65535&we,!((Fe=we>>>24)<=ue);){if(K===0)break e;K--,J+=Te[ie++]<<ue,ue+=8}if(!(240&We)){for(Ne=Fe,ke=We,Be=ze;We=(we=$.distcode[Be+((J&(1<<Ne+ke)-1)>>Ne)])>>>16&255,ze=65535&we,!(Ne+(Fe=we>>>24)<=ue);){if(K===0)break e;K--,J+=Te[ie++]<<ue,ue+=8}J>>>=Ne,ue-=Ne,$.back+=Ne}if(J>>>=Fe,ue-=Fe,$.back+=Fe,64&We){Q.msg="invalid distance code",$.mode=30;break}$.offset=ze,$.extra=15&We,$.mode=24;case 24:if($.extra){for(be=$.extra;ue<be;){if(K===0)break e;K--,J+=Te[ie++]<<ue,ue+=8}$.offset+=J&(1<<$.extra)-1,J>>>=$.extra,ue-=$.extra,$.back+=$.extra}if($.offset>$.dmax){Q.msg="invalid distance too far back",$.mode=30;break}$.mode=25;case 25:if(ne===0)break e;if(Se=xe-ne,$.offset>Se){if((Se=$.offset-Se)>$.whave&&$.sane){Q.msg="invalid distance too far back",$.mode=30;break}Me=Se>$.wnext?(Se-=$.wnext,$.wsize-Se):$.wnext-Se,Se>$.length&&(Se=$.length),Re=$.window}else Re=re,Me=G-$.offset,Se=$.length;for(ne<Se&&(Se=ne),ne-=Se,$.length-=Se;re[G++]=Re[Me++],--Se;);$.length===0&&($.mode=21);break;case 26:if(ne===0)break e;re[G++]=$.length,ne--,$.mode=21;break;case 27:if($.wrap){for(;ue<32;){if(K===0)break e;K--,J|=Te[ie++]<<ue,ue+=8}if(xe-=ne,Q.total_out+=xe,$.total+=xe,xe&&(Q.adler=$.check=$.flags?u($.check,re,xe,G-xe):c($.check,re,xe,G-xe)),xe=ne,($.flags?J:T(J))!==$.check){Q.msg="incorrect data check",$.mode=30;break}ue=J=0}$.mode=28;case 28:if($.wrap&&$.flags){for(;ue<32;){if(K===0)break e;K--,J+=Te[ie++]<<ue,ue+=8}if(J!==(4294967295&$.total)){Q.msg="incorrect length check",$.mode=30;break}ue=J=0}$.mode=29;case 29:Ae=1;break e;case 30:Ae=-3;break e;case 31:return-4;case 32:default:return _}return Q.next_out=G,Q.avail_out=ne,Q.next_in=ie,Q.avail_in=K,$.hold=J,$.bits=ue,($.wsize||xe!==Q.avail_out&&$.mode<30&&($.mode<27||ge!==4))&&me(Q,Q.output,Q.next_out,xe-Q.avail_out)?($.mode=31,-4):(ee-=Q.avail_in,xe-=Q.avail_out,Q.total_in+=ee,Q.total_out+=xe,$.total+=xe,$.wrap&&xe&&(Q.adler=$.check=$.flags?u($.check,re,xe,Q.next_out-xe):c($.check,re,xe,Q.next_out-xe)),Q.data_type=$.bits+($.last?64:0)+($.mode===12?128:0)+($.mode===20||$.mode===15?256:0),(ee==0&&xe===0||ge===4)&&Ae===v&&(Ae=-5),Ae)},o.inflateEnd=function(Q){if(!Q||!Q.state)return _;var ge=Q.state;return ge.window&&(ge.window=null),Q.state=null,v},o.inflateGetHeader=function(Q,ge){var $;return Q&&Q.state&&2&($=Q.state).wrap?(($.head=ge).done=!1,v):_},o.inflateSetDictionary=function(Q,ge){var $,Te=ge.length;return Q&&Q.state?($=Q.state).wrap!==0&&$.mode!==11?_:$.mode===11&&c(1,ge,Te,0)!==$.check?-3:me(Q,ge,Te,Te)?($.mode=31,-4):($.havedict=1,v):_},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(i,r,o){var l=i("../utils/common"),c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(g,y,v,_,A,S,C,T){var N,I,O,F,U,V,B,Z,ae,me=T.bits,Q=0,ge=0,$=0,Te=0,re=0,ie=0,G=0,K=0,ne=0,J=0,ue=null,ee=0,xe=new l.Buf16(16),Se=new l.Buf16(16),Me=null,Re=0;for(Q=0;Q<=15;Q++)xe[Q]=0;for(ge=0;ge<_;ge++)xe[y[v+ge]]++;for(re=me,Te=15;1<=Te&&xe[Te]===0;Te--);if(Te<re&&(re=Te),Te===0)return A[S++]=20971520,A[S++]=20971520,T.bits=1,0;for($=1;$<Te&&xe[$]===0;$++);for(re<$&&(re=$),Q=K=1;Q<=15;Q++)if(K<<=1,(K-=xe[Q])<0)return-1;if(0<K&&(g===0||Te!==1))return-1;for(Se[1]=0,Q=1;Q<15;Q++)Se[Q+1]=Se[Q]+xe[Q];for(ge=0;ge<_;ge++)y[v+ge]!==0&&(C[Se[y[v+ge]]++]=ge);if(V=g===0?(ue=Me=C,19):g===1?(ue=c,ee-=257,Me=u,Re-=257,256):(ue=h,Me=m,-1),Q=$,U=S,G=ge=J=0,O=-1,F=(ne=1<<(ie=re))-1,g===1&&852<ne||g===2&&592<ne)return 1;for(;;){for(B=Q-G,ae=C[ge]<V?(Z=0,C[ge]):C[ge]>V?(Z=Me[Re+C[ge]],ue[ee+C[ge]]):(Z=96,0),N=1<<Q-G,$=I=1<<ie;A[U+(J>>G)+(I-=N)]=B<<24|Z<<16|ae|0,I!==0;);for(N=1<<Q-1;J&N;)N>>=1;if(N!==0?(J&=N-1,J+=N):J=0,ge++,--xe[Q]==0){if(Q===Te)break;Q=y[v+C[ge]]}if(re<Q&&(J&F)!==O){for(G===0&&(G=re),U+=$,K=1<<(ie=Q-G);ie+G<Te&&!((K-=xe[ie+G])<=0);)ie++,K<<=1;if(ne+=1<<ie,g===1&&852<ne||g===2&&592<ne)return 1;A[O=J&F]=re<<24|ie<<16|U-S|0}}return J!==0&&(A[U+J]=Q-G<<24|64<<16|0),T.bits=re,0}},{"../utils/common":41}],51:[function(i,r,o){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(i,r,o){var l=i("../utils/common"),c=0,u=1;function h(we){for(var Ee=we.length;0<=--Ee;)we[Ee]=0}var m=0,g=29,y=256,v=y+1+g,_=30,A=19,S=2*v+1,C=15,T=16,N=7,I=256,O=16,F=17,U=18,V=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],B=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],me=new Array(2*(v+2));h(me);var Q=new Array(2*_);h(Q);var ge=new Array(512);h(ge);var $=new Array(256);h($);var Te=new Array(g);h(Te);var re,ie,G,K=new Array(_);function ne(we,Ee,He,qe,Oe){this.static_tree=we,this.extra_bits=Ee,this.extra_base=He,this.elems=qe,this.max_length=Oe,this.has_stree=we&&we.length}function J(we,Ee){this.dyn_tree=we,this.max_code=0,this.stat_desc=Ee}function ue(we){return we<256?ge[we]:ge[256+(we>>>7)]}function ee(we,Ee){we.pending_buf[we.pending++]=255&Ee,we.pending_buf[we.pending++]=Ee>>>8&255}function xe(we,Ee,He){we.bi_valid>T-He?(we.bi_buf|=Ee<<we.bi_valid&65535,ee(we,we.bi_buf),we.bi_buf=Ee>>T-we.bi_valid,we.bi_valid+=He-T):(we.bi_buf|=Ee<<we.bi_valid&65535,we.bi_valid+=He)}function Se(we,Ee,He){xe(we,He[2*Ee],He[2*Ee+1])}function Me(we,Ee){for(var He=0;He|=1&we,we>>>=1,He<<=1,0<--Ee;);return He>>>1}function Re(we,Ee,He){var qe,Oe,Ce=new Array(C+1),_e=0;for(qe=1;qe<=C;qe++)Ce[qe]=_e=_e+He[qe-1]<<1;for(Oe=0;Oe<=Ee;Oe++){var ce=we[2*Oe+1];ce!==0&&(we[2*Oe]=Me(Ce[ce]++,ce))}}function Fe(we){var Ee;for(Ee=0;Ee<v;Ee++)we.dyn_ltree[2*Ee]=0;for(Ee=0;Ee<_;Ee++)we.dyn_dtree[2*Ee]=0;for(Ee=0;Ee<A;Ee++)we.bl_tree[2*Ee]=0;we.dyn_ltree[2*I]=1,we.opt_len=we.static_len=0,we.last_lit=we.matches=0}function We(we){8<we.bi_valid?ee(we,we.bi_buf):0<we.bi_valid&&(we.pending_buf[we.pending++]=we.bi_buf),we.bi_buf=0,we.bi_valid=0}function ze(we,Ee,He,qe){var Oe=2*Ee,Ce=2*He;return we[Oe]<we[Ce]||we[Oe]===we[Ce]&&qe[Ee]<=qe[He]}function Ne(we,Ee,He){for(var qe=we.heap[He],Oe=He<<1;Oe<=we.heap_len&&(Oe<we.heap_len&&ze(Ee,we.heap[Oe+1],we.heap[Oe],we.depth)&&Oe++,!ze(Ee,qe,we.heap[Oe],we.depth));)we.heap[He]=we.heap[Oe],He=Oe,Oe<<=1;we.heap[He]=qe}function ke(we,Ee,He){var qe,Oe,Ce,_e,ce=0;if(we.last_lit!==0)for(;qe=we.pending_buf[we.d_buf+2*ce]<<8|we.pending_buf[we.d_buf+2*ce+1],Oe=we.pending_buf[we.l_buf+ce],ce++,qe===0?Se(we,Oe,Ee):(Se(we,(Ce=$[Oe])+y+1,Ee),(_e=V[Ce])!==0&&xe(we,Oe-=Te[Ce],_e),Se(we,Ce=ue(--qe),He),(_e=B[Ce])!==0&&xe(we,qe-=K[Ce],_e)),ce<we.last_lit;);Se(we,I,Ee)}function Be(we,Ee){var He,qe,Oe,Ce=Ee.dyn_tree,_e=Ee.stat_desc.static_tree,ce=Ee.stat_desc.has_stree,Ue=Ee.stat_desc.elems,et=-1;for(we.heap_len=0,we.heap_max=S,He=0;He<Ue;He++)Ce[2*He]!==0?(we.heap[++we.heap_len]=et=He,we.depth[He]=0):Ce[2*He+1]=0;for(;we.heap_len<2;)Ce[2*(Oe=we.heap[++we.heap_len]=et<2?++et:0)]=1,we.depth[Oe]=0,we.opt_len--,ce&&(we.static_len-=_e[2*Oe+1]);for(Ee.max_code=et,He=we.heap_len>>1;1<=He;He--)Ne(we,Ce,He);for(Oe=Ue;He=we.heap[1],we.heap[1]=we.heap[we.heap_len--],Ne(we,Ce,1),qe=we.heap[1],we.heap[--we.heap_max]=He,we.heap[--we.heap_max]=qe,Ce[2*Oe]=Ce[2*He]+Ce[2*qe],we.depth[Oe]=(we.depth[He]>=we.depth[qe]?we.depth[He]:we.depth[qe])+1,Ce[2*He+1]=Ce[2*qe+1]=Oe,we.heap[1]=Oe++,Ne(we,Ce,1),2<=we.heap_len;);we.heap[--we.heap_max]=we.heap[1],function(nt,ct){var ht,Pt,Bt,bt,Zt,mn,qt=ct.dyn_tree,Vn=ct.max_code,rs=ct.stat_desc.static_tree,jr=ct.stat_desc.has_stree,Rr=ct.stat_desc.extra_bits,Ii=ct.stat_desc.extra_base,bi=ct.stat_desc.max_length,yi=0;for(bt=0;bt<=C;bt++)nt.bl_count[bt]=0;for(qt[2*nt.heap[nt.heap_max]+1]=0,ht=nt.heap_max+1;ht<S;ht++)bi<(bt=qt[2*qt[2*(Pt=nt.heap[ht])+1]+1]+1)&&(bt=bi,yi++),qt[2*Pt+1]=bt,Vn<Pt||(nt.bl_count[bt]++,Zt=0,Ii<=Pt&&(Zt=Rr[Pt-Ii]),mn=qt[2*Pt],nt.opt_len+=mn*(bt+Zt),jr&&(nt.static_len+=mn*(rs[2*Pt+1]+Zt)));if(yi!==0){do{for(bt=bi-1;nt.bl_count[bt]===0;)bt--;nt.bl_count[bt]--,nt.bl_count[bt+1]+=2,nt.bl_count[bi]--,yi-=2}while(0<yi);for(bt=bi;bt!==0;bt--)for(Pt=nt.bl_count[bt];Pt!==0;)Vn<(Bt=nt.heap[--ht])||(qt[2*Bt+1]!==bt&&(nt.opt_len+=(bt-qt[2*Bt+1])*qt[2*Bt],qt[2*Bt+1]=bt),Pt--)}}(we,Ee),Re(Ce,et,we.bl_count)}function X(we,Ee,He){var qe,Oe,Ce=-1,_e=Ee[1],ce=0,Ue=7,et=4;for(_e===0&&(Ue=138,et=3),Ee[2*(He+1)+1]=65535,qe=0;qe<=He;qe++)Oe=_e,_e=Ee[2*(qe+1)+1],++ce<Ue&&Oe===_e||(ce<et?we.bl_tree[2*Oe]+=ce:Oe!==0?(Oe!==Ce&&we.bl_tree[2*Oe]++,we.bl_tree[2*O]++):ce<=10?we.bl_tree[2*F]++:we.bl_tree[2*U]++,Ce=Oe,et=(ce=0)===_e?(Ue=138,3):Oe===_e?(Ue=6,3):(Ue=7,4))}function Ae(we,Ee,He){var qe,Oe,Ce=-1,_e=Ee[1],ce=0,Ue=7,et=4;for(_e===0&&(Ue=138,et=3),qe=0;qe<=He;qe++)if(Oe=_e,_e=Ee[2*(qe+1)+1],!(++ce<Ue&&Oe===_e)){if(ce<et)for(;Se(we,Oe,we.bl_tree),--ce!=0;);else Oe!==0?(Oe!==Ce&&(Se(we,Oe,we.bl_tree),ce--),Se(we,O,we.bl_tree),xe(we,ce-3,2)):ce<=10?(Se(we,F,we.bl_tree),xe(we,ce-3,3)):(Se(we,U,we.bl_tree),xe(we,ce-11,7));Ce=Oe,et=(ce=0)===_e?(Ue=138,3):Oe===_e?(Ue=6,3):(Ue=7,4)}}h(K);var Ie=!1;function be(we,Ee,He,qe){xe(we,(m<<1)+(qe?1:0),3),function(Oe,Ce,_e,ce){We(Oe),ee(Oe,_e),ee(Oe,~_e),l.arraySet(Oe.pending_buf,Oe.window,Ce,_e,Oe.pending),Oe.pending+=_e}(we,Ee,He)}o._tr_init=function(we){Ie||(function(){var Ee,He,qe,Oe,Ce,_e=new Array(C+1);for(Oe=qe=0;Oe<g-1;Oe++)for(Te[Oe]=qe,Ee=0;Ee<1<<V[Oe];Ee++)$[qe++]=Oe;for($[qe-1]=Oe,Oe=Ce=0;Oe<16;Oe++)for(K[Oe]=Ce,Ee=0;Ee<1<<B[Oe];Ee++)ge[Ce++]=Oe;for(Ce>>=7;Oe<_;Oe++)for(K[Oe]=Ce<<7,Ee=0;Ee<1<<B[Oe]-7;Ee++)ge[256+Ce++]=Oe;for(He=0;He<=C;He++)_e[He]=0;for(Ee=0;Ee<=143;)me[2*Ee+1]=8,Ee++,_e[8]++;for(;Ee<=255;)me[2*Ee+1]=9,Ee++,_e[9]++;for(;Ee<=279;)me[2*Ee+1]=7,Ee++,_e[7]++;for(;Ee<=287;)me[2*Ee+1]=8,Ee++,_e[8]++;for(Re(me,v+1,_e),Ee=0;Ee<_;Ee++)Q[2*Ee+1]=5,Q[2*Ee]=Me(Ee,5);re=new ne(me,V,y+1,v,C),ie=new ne(Q,B,0,_,C),G=new ne(new Array(0),Z,0,A,N)}(),Ie=!0),we.l_desc=new J(we.dyn_ltree,re),we.d_desc=new J(we.dyn_dtree,ie),we.bl_desc=new J(we.bl_tree,G),we.bi_buf=0,we.bi_valid=0,Fe(we)},o._tr_stored_block=be,o._tr_flush_block=function(we,Ee,He,qe){var Oe,Ce,_e=0;0<we.level?(we.strm.data_type===2&&(we.strm.data_type=function(ce){var Ue,et=4093624447;for(Ue=0;Ue<=31;Ue++,et>>>=1)if(1&et&&ce.dyn_ltree[2*Ue]!==0)return c;if(ce.dyn_ltree[18]!==0||ce.dyn_ltree[20]!==0||ce.dyn_ltree[26]!==0)return u;for(Ue=32;Ue<y;Ue++)if(ce.dyn_ltree[2*Ue]!==0)return u;return c}(we)),Be(we,we.l_desc),Be(we,we.d_desc),_e=function(ce){var Ue;for(X(ce,ce.dyn_ltree,ce.l_desc.max_code),X(ce,ce.dyn_dtree,ce.d_desc.max_code),Be(ce,ce.bl_desc),Ue=A-1;3<=Ue&&ce.bl_tree[2*ae[Ue]+1]===0;Ue--);return ce.opt_len+=3*(Ue+1)+5+5+4,Ue}(we),Oe=we.opt_len+3+7>>>3,(Ce=we.static_len+3+7>>>3)<=Oe&&(Oe=Ce)):Oe=Ce=He+5,He+4<=Oe&&Ee!==-1?be(we,Ee,He,qe):we.strategy===4||Ce===Oe?(xe(we,2+(qe?1:0),3),ke(we,me,Q)):(xe(we,4+(qe?1:0),3),function(ce,Ue,et,nt){var ct;for(xe(ce,Ue-257,5),xe(ce,et-1,5),xe(ce,nt-4,4),ct=0;ct<nt;ct++)xe(ce,ce.bl_tree[2*ae[ct]+1],3);Ae(ce,ce.dyn_ltree,Ue-1),Ae(ce,ce.dyn_dtree,et-1)}(we,we.l_desc.max_code+1,we.d_desc.max_code+1,_e+1),ke(we,we.dyn_ltree,we.dyn_dtree)),Fe(we),qe&&We(we)},o._tr_tally=function(we,Ee,He){return we.pending_buf[we.d_buf+2*we.last_lit]=Ee>>>8&255,we.pending_buf[we.d_buf+2*we.last_lit+1]=255&Ee,we.pending_buf[we.l_buf+we.last_lit]=255&He,we.last_lit++,Ee===0?we.dyn_ltree[2*He]++:(we.matches++,Ee--,we.dyn_ltree[2*($[He]+y+1)]++,we.dyn_dtree[2*ue(Ee)]++),we.last_lit===we.lit_bufsize-1},o._tr_align=function(we){xe(we,2,3),Se(we,I,me),function(Ee){Ee.bi_valid===16?(ee(Ee,Ee.bi_buf),Ee.bi_buf=0,Ee.bi_valid=0):8<=Ee.bi_valid&&(Ee.pending_buf[Ee.pending++]=255&Ee.bi_buf,Ee.bi_buf>>=8,Ee.bi_valid-=8)}(we)}},{"../utils/common":41}],53:[function(i,r,o){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(i,r,o){(function(l){(function(c,u){if(!c.setImmediate){var h,m,g,y,v=1,_={},A=!1,S=c.document,C=Object.getPrototypeOf&&Object.getPrototypeOf(c);C=C&&C.setTimeout?C:c,h={}.toString.call(c.process)==="[object process]"?function(O){process.nextTick(function(){N(O)})}:function(){if(c.postMessage&&!c.importScripts){var O=!0,F=c.onmessage;return c.onmessage=function(){O=!1},c.postMessage("","*"),c.onmessage=F,O}}()?(y="setImmediate$"+Math.random()+"$",c.addEventListener?c.addEventListener("message",I,!1):c.attachEvent("onmessage",I),function(O){c.postMessage(y+O,"*")}):c.MessageChannel?((g=new MessageChannel).port1.onmessage=function(O){N(O.data)},function(O){g.port2.postMessage(O)}):S&&"onreadystatechange"in S.createElement("script")?(m=S.documentElement,function(O){var F=S.createElement("script");F.onreadystatechange=function(){N(O),F.onreadystatechange=null,m.removeChild(F),F=null},m.appendChild(F)}):function(O){setTimeout(N,0,O)},C.setImmediate=function(O){typeof O!="function"&&(O=new Function(""+O));for(var F=new Array(arguments.length-1),U=0;U<F.length;U++)F[U]=arguments[U+1];var V={callback:O,args:F};return _[v]=V,h(v),v++},C.clearImmediate=T}function T(O){delete _[O]}function N(O){if(A)setTimeout(N,0,O);else{var F=_[O];if(F){A=!0;try{(function(U){var V=U.callback,B=U.args;switch(B.length){case 0:V();break;case 1:V(B[0]);break;case 2:V(B[0],B[1]);break;case 3:V(B[0],B[1],B[2]);break;default:V.apply(u,B)}})(F)}finally{T(O),A=!1}}}}function I(O){O.source===c&&typeof O.data=="string"&&O.data.indexOf(y)===0&&N(+O.data.slice(y.length))}})(typeof self>"u"?l===void 0?this:l:self)}).call(this,typeof Lt<"u"?Lt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(NQ);var Rke=NQ.exports,Mke=T3,Oke=Rke;JS.openArrayBuffer=Fke;JS.splitPath=Uke;JS.joinPath=Lke;function Fke(n){return Oke.loadAsync(n).then(function(e){function i(c){return e.file(c)!==null}function r(c,u){return e.file(c).async("uint8array").then(function(h){if(u==="base64")return Mke.fromByteArray(h);if(u){var m=new TextDecoder(u);return m.decode(h)}else return h})}function o(c,u){e.file(c,u)}function l(){return e.generateAsync({type:"arraybuffer"})}return{exists:i,read:r,write:o,toArrayBuffer:l}})}function Uke(n){var e=n.lastIndexOf("/");return e===-1?{dirname:"",basename:n}:{dirname:n.substring(0,e),basename:n.substring(e+1)}}function Lke(){var n=Array.prototype.filter.call(arguments,function(i){return i}),e=[];return n.forEach(function(i){/^\//.test(i)?e=[i]:e.push(i)}),e.join("/")}var LF={},yf={},Q1={},D3=lr;Q1.Element=ex;Q1.element=function(n,e,i){return new ex(n,e,i)};Q1.text=function(n){return{type:"text",value:n}};var PQ=Q1.emptyElement={first:function(){return null},firstOrEmpty:function(){return PQ},attributes:{},children:[]};function ex(n,e,i){this.type="element",this.name=n,this.attributes=e||{},this.children=i||[]}ex.prototype.first=function(n){return D3.find(this.children,function(e){return e.name===n})};ex.prototype.firstOrEmpty=function(n){return this.first(n)||PQ};ex.prototype.getElementsByTagName=function(n){var e=D3.filter(this.children,function(i){return i.name===n});return IQ(e)};ex.prototype.text=function(){if(this.children.length===0)return"";if(this.children.length!==1||this.children[0].type!=="text")throw new Error("Not implemented");return this.children[0].value};var Bke={getElementsByTagName:function(n){return IQ(D3.flatten(this.map(function(e){return e.getElementsByTagName(n)},!0)))}};function IQ(n){return D3.extend(n,Bke)}var jQ={},BF={},N3={},Ad={},vf={};function zke(n,e,i){if(i===void 0&&(i=Array.prototype),n&&typeof i.find=="function")return i.find.call(n,e);for(var r=0;r<n.length;r++)if(Object.prototype.hasOwnProperty.call(n,r)){var o=n[r];if(e.call(void 0,o,r,n))return o}}function zF(n,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(n):n}function Vke(n,e){if(n===null||typeof n!="object")throw new TypeError("target is not an object");for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}var RQ=zF({HTML:"text/html",isHTML:function(n){return n===RQ.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),MQ=zF({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(n){return n===MQ.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});vf.assign=Vke;vf.find=zke;vf.freeze=zF;vf.MIME_TYPE=RQ;vf.NAMESPACE=MQ;var OQ=vf,vd=OQ.find,nE=OQ.NAMESPACE;function Wke(n){return n!==""}function $ke(n){return n?n.split(/[\t\n\f\r ]+/).filter(Wke):[]}function qke(n,e){return n.hasOwnProperty(e)||(n[e]=!0),n}function Z$(n){if(!n)return[];var e=$ke(n);return Object.keys(e.reduce(qke,{}))}function Hke(n){return function(e){return n&&n.indexOf(e)!==-1}}function QS(n,e){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}function ha(n,e){var i=n.prototype;if(!(i instanceof e)){let r=function(){};r.prototype=e.prototype,r=new r,QS(i,r),n.prototype=i=r}i.constructor!=n&&(typeof n!="function"&&console.error("unknown Class:"+n),i.constructor=n)}var fa={},Yc=fa.ELEMENT_NODE=1,M1=fa.ATTRIBUTE_NODE=2,eN=fa.TEXT_NODE=3,FQ=fa.CDATA_SECTION_NODE=4,UQ=fa.ENTITY_REFERENCE_NODE=5,Gke=fa.ENTITY_NODE=6,LQ=fa.PROCESSING_INSTRUCTION_NODE=7,BQ=fa.COMMENT_NODE=8,zQ=fa.DOCUMENT_NODE=9,VQ=fa.DOCUMENT_TYPE_NODE=10,hf=fa.DOCUMENT_FRAGMENT_NODE=11,Xke=fa.NOTATION_NODE=12,ro={},ts={};ro.INDEX_SIZE_ERR=(ts[1]="Index size error",1);ro.DOMSTRING_SIZE_ERR=(ts[2]="DOMString size error",2);var na=ro.HIERARCHY_REQUEST_ERR=(ts[3]="Hierarchy request error",3);ro.WRONG_DOCUMENT_ERR=(ts[4]="Wrong document",4);ro.INVALID_CHARACTER_ERR=(ts[5]="Invalid character",5);ro.NO_DATA_ALLOWED_ERR=(ts[6]="No data allowed",6);ro.NO_MODIFICATION_ALLOWED_ERR=(ts[7]="No modification allowed",7);var WQ=ro.NOT_FOUND_ERR=(ts[8]="Not found",8);ro.NOT_SUPPORTED_ERR=(ts[9]="Not supported",9);var Y$=ro.INUSE_ATTRIBUTE_ERR=(ts[10]="Attribute in use",10);ro.INVALID_STATE_ERR=(ts[11]="Invalid state",11);ro.SYNTAX_ERR=(ts[12]="Syntax error",12);ro.INVALID_MODIFICATION_ERR=(ts[13]="Invalid modification",13);ro.NAMESPACE_ERR=(ts[14]="Invalid namespace",14);ro.INVALID_ACCESS_ERR=(ts[15]="Invalid access",15);function sr(n,e){if(e instanceof Error)var i=e;else i=this,Error.call(this,ts[n]),this.message=ts[n],Error.captureStackTrace&&Error.captureStackTrace(this,sr);return i.code=n,e&&(this.message=this.message+": "+e),i}sr.prototype=Error.prototype;QS(ro,sr);function Qh(){}Qh.prototype={length:0,item:function(n){return n>=0&&n<this.length?this[n]:null},toString:function(n,e){for(var i=[],r=0;r<this.length;r++)Kv(this[r],i,n,e);return i.join("")},filter:function(n){return Array.prototype.filter.call(this,n)},indexOf:function(n){return Array.prototype.indexOf.call(this,n)}};function O1(n,e){this._node=n,this._refresh=e,VF(this)}function VF(n){var e=n._node._inc||n._node.ownerDocument._inc;if(n._inc!==e){var i=n._refresh(n._node);if(tee(n,"length",i.length),!n.$$length||i.length<n.$$length)for(var r=i.length;r in n;r++)Object.prototype.hasOwnProperty.call(n,r)&&delete n[r];QS(i,n),n._inc=e}}O1.prototype.item=function(n){return VF(this),this[n]||null};ha(O1,Qh);function tN(){}function $Q(n,e){for(var i=n.length;i--;)if(n[i]===e)return i}function J$(n,e,i,r){if(r?e[$Q(e,r)]=i:e[e.length++]=i,n){i.ownerElement=n;var o=n.ownerDocument;o&&(r&&GQ(o,n,r),Kke(o,n,i))}}function Q$(n,e,i){var r=$Q(e,i);if(r>=0){for(var o=e.length-1;r<o;)e[r]=e[++r];if(e.length=o,n){var l=n.ownerDocument;l&&(GQ(l,n,i),i.ownerElement=null)}}else throw new sr(WQ,new Error(n.tagName+"@"+i))}tN.prototype={length:0,item:Qh.prototype.item,getNamedItem:function(n){for(var e=this.length;e--;){var i=this[e];if(i.nodeName==n)return i}},setNamedItem:function(n){var e=n.ownerElement;if(e&&e!=this._ownerElement)throw new sr(Y$);var i=this.getNamedItem(n.nodeName);return J$(this._ownerElement,this,n,i),i},setNamedItemNS:function(n){var e=n.ownerElement,i;if(e&&e!=this._ownerElement)throw new sr(Y$);return i=this.getNamedItemNS(n.namespaceURI,n.localName),J$(this._ownerElement,this,n,i),i},removeNamedItem:function(n){var e=this.getNamedItem(n);return Q$(this._ownerElement,this,e),e},removeNamedItemNS:function(n,e){var i=this.getNamedItemNS(n,e);return Q$(this._ownerElement,this,i),i},getNamedItemNS:function(n,e){for(var i=this.length;i--;){var r=this[i];if(r.localName==e&&r.namespaceURI==n)return r}return null}};function qQ(){}qQ.prototype={hasFeature:function(n,e){return!0},createDocument:function(n,e,i){var r=new eA;if(r.implementation=this,r.childNodes=new Qh,r.doctype=i||null,i&&r.appendChild(i),e){var o=r.createElementNS(n,e);r.appendChild(o)}return r},createDocumentType:function(n,e,i){var r=new P3;return r.name=n,r.nodeName=n,r.publicId=e||"",r.systemId=i||"",r}};function Qn(){}Qn.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(n,e){return nN(this,n,e)},replaceChild:function(n,e){nN(this,n,e,KQ),e&&this.removeChild(e)},removeChild:function(n){return XQ(this,n)},appendChild:function(n){return this.insertBefore(n,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(n){return MM(this.ownerDocument||this,this,n)},normalize:function(){for(var n=this.firstChild;n;){var e=n.nextSibling;e&&e.nodeType==eN&&n.nodeType==eN?(this.removeChild(e),n.appendData(e.data)):(n.normalize(),n=e)}},isSupported:function(n,e){return this.ownerDocument.implementation.hasFeature(n,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(n){for(var e=this;e;){var i=e._nsMap;if(i){for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)&&i[r]===n)return r}e=e.nodeType==M1?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(n){for(var e=this;e;){var i=e._nsMap;if(i&&Object.prototype.hasOwnProperty.call(i,n))return i[n];e=e.nodeType==M1?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(n){var e=this.lookupPrefix(n);return e==null}};function HQ(n){return n=="<"&&"&lt;"||n==">"&&"&gt;"||n=="&"&&"&amp;"||n=='"'&&"&quot;"||"&#"+n.charCodeAt()+";"}QS(fa,Qn);QS(fa,Qn.prototype);function iE(n,e){if(e(n))return!0;if(n=n.firstChild)do if(iE(n,e))return!0;while(n=n.nextSibling)}function eA(){this.ownerDocument=this}function Kke(n,e,i){n&&n._inc++;var r=i.namespaceURI;r===nE.XMLNS&&(e._nsMap[i.prefix?i.localName:""]=i.value)}function GQ(n,e,i,r){n&&n._inc++;var o=i.namespaceURI;o===nE.XMLNS&&delete e._nsMap[i.prefix?i.localName:""]}function WF(n,e,i){if(n&&n._inc){n._inc++;var r=e.childNodes;if(i)r[r.length++]=i;else{for(var o=e.firstChild,l=0;o;)r[l++]=o,o=o.nextSibling;r.length=l,delete r[r.length]}}}function XQ(n,e){var i=e.previousSibling,r=e.nextSibling;return i?i.nextSibling=r:n.firstChild=r,r?r.previousSibling=i:n.lastChild=i,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,WF(n.ownerDocument,n),e}function Zke(n){return n&&(n.nodeType===Qn.DOCUMENT_NODE||n.nodeType===Qn.DOCUMENT_FRAGMENT_NODE||n.nodeType===Qn.ELEMENT_NODE)}function Yke(n){return n&&(wd(n)||$F(n)||ff(n)||n.nodeType===Qn.DOCUMENT_FRAGMENT_NODE||n.nodeType===Qn.COMMENT_NODE||n.nodeType===Qn.PROCESSING_INSTRUCTION_NODE)}function ff(n){return n&&n.nodeType===Qn.DOCUMENT_TYPE_NODE}function wd(n){return n&&n.nodeType===Qn.ELEMENT_NODE}function $F(n){return n&&n.nodeType===Qn.TEXT_NODE}function eq(n,e){var i=n.childNodes||[];if(vd(i,wd)||ff(e))return!1;var r=vd(i,ff);return!(e&&r&&i.indexOf(r)>i.indexOf(e))}function tq(n,e){var i=n.childNodes||[];function r(l){return wd(l)&&l!==e}if(vd(i,r))return!1;var o=vd(i,ff);return!(e&&o&&i.indexOf(o)>i.indexOf(e))}function Jke(n,e,i){if(!Zke(n))throw new sr(na,"Unexpected parent node type "+n.nodeType);if(i&&i.parentNode!==n)throw new sr(WQ,"child not in parent");if(!Yke(e)||ff(e)&&n.nodeType!==Qn.DOCUMENT_NODE)throw new sr(na,"Unexpected node type "+e.nodeType+" for parent node type "+n.nodeType)}function Qke(n,e,i){var r=n.childNodes||[],o=e.childNodes||[];if(e.nodeType===Qn.DOCUMENT_FRAGMENT_NODE){var l=o.filter(wd);if(l.length>1||vd(o,$F))throw new sr(na,"More than one element or text in fragment");if(l.length===1&&!eq(n,i))throw new sr(na,"Element in fragment can not be inserted before doctype")}if(wd(e)&&!eq(n,i))throw new sr(na,"Only one element can be added and only after doctype");if(ff(e)){if(vd(r,ff))throw new sr(na,"Only one doctype is allowed");var c=vd(r,wd);if(i&&r.indexOf(c)<r.indexOf(i))throw new sr(na,"Doctype can only be inserted before an element");if(!i&&c)throw new sr(na,"Doctype can not be appended since element is present")}}function KQ(n,e,i){var r=n.childNodes||[],o=e.childNodes||[];if(e.nodeType===Qn.DOCUMENT_FRAGMENT_NODE){var l=o.filter(wd);if(l.length>1||vd(o,$F))throw new sr(na,"More than one element or text in fragment");if(l.length===1&&!tq(n,i))throw new sr(na,"Element in fragment can not be inserted before doctype")}if(wd(e)&&!tq(n,i))throw new sr(na,"Only one element can be added and only after doctype");if(ff(e)){if(vd(r,function(h){return ff(h)&&h!==i}))throw new sr(na,"Only one doctype is allowed");var c=vd(r,wd);if(i&&r.indexOf(c)<r.indexOf(i))throw new sr(na,"Doctype can only be inserted before an element")}}function nN(n,e,i,r){Jke(n,e,i),n.nodeType===Qn.DOCUMENT_NODE&&(r||Qke)(n,e,i);var o=e.parentNode;if(o&&o.removeChild(e),e.nodeType===hf){var l=e.firstChild;if(l==null)return e;var c=e.lastChild}else l=c=e;var u=i?i.previousSibling:n.lastChild;l.previousSibling=u,c.nextSibling=i,u?u.nextSibling=l:n.firstChild=l,i==null?n.lastChild=c:i.previousSibling=c;do l.parentNode=n;while(l!==c&&(l=l.nextSibling));return WF(n.ownerDocument||n,n),e.nodeType==hf&&(e.firstChild=e.lastChild=null),e}function e2e(n,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=n,e.previousSibling=n.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:n.firstChild=e,n.lastChild=e,WF(n.ownerDocument,n,e),e}eA.prototype={nodeName:"#document",nodeType:zQ,doctype:null,documentElement:null,_inc:1,insertBefore:function(n,e){if(n.nodeType==hf){for(var i=n.firstChild;i;){var r=i.nextSibling;this.insertBefore(i,e),i=r}return n}return nN(this,n,e),n.ownerDocument=this,this.documentElement===null&&n.nodeType===Yc&&(this.documentElement=n),n},removeChild:function(n){return this.documentElement==n&&(this.documentElement=null),XQ(this,n)},replaceChild:function(n,e){nN(this,n,e,KQ),n.ownerDocument=this,e&&this.removeChild(e),wd(n)&&(this.documentElement=n)},importNode:function(n,e){return eee(this,n,e)},getElementById:function(n){var e=null;return iE(this.documentElement,function(i){if(i.nodeType==Yc&&i.getAttribute("id")==n)return e=i,!0}),e},getElementsByClassName:function(n){var e=Z$(n);return new O1(this,function(i){var r=[];return e.length>0&&iE(i.documentElement,function(o){if(o!==i&&o.nodeType===Yc){var l=o.getAttribute("class");if(l){var c=n===l;if(!c){var u=Z$(l);c=e.every(Hke(u))}c&&r.push(o)}}}),r})},createElement:function(n){var e=new N0;e.ownerDocument=this,e.nodeName=n,e.tagName=n,e.localName=n,e.childNodes=new Qh;var i=e.attributes=new tN;return i._ownerElement=e,e},createDocumentFragment:function(){var n=new I3;return n.ownerDocument=this,n.childNodes=new Qh,n},createTextNode:function(n){var e=new qF;return e.ownerDocument=this,e.appendData(n),e},createComment:function(n){var e=new HF;return e.ownerDocument=this,e.appendData(n),e},createCDATASection:function(n){var e=new GF;return e.ownerDocument=this,e.appendData(n),e},createProcessingInstruction:function(n,e){var i=new KF;return i.ownerDocument=this,i.tagName=i.nodeName=i.target=n,i.nodeValue=i.data=e,i},createAttribute:function(n){var e=new iN;return e.ownerDocument=this,e.name=n,e.nodeName=n,e.localName=n,e.specified=!0,e},createEntityReference:function(n){var e=new XF;return e.ownerDocument=this,e.nodeName=n,e},createElementNS:function(n,e){var i=new N0,r=e.split(":"),o=i.attributes=new tN;return i.childNodes=new Qh,i.ownerDocument=this,i.nodeName=e,i.tagName=e,i.namespaceURI=n,r.length==2?(i.prefix=r[0],i.localName=r[1]):i.localName=e,o._ownerElement=i,i},createAttributeNS:function(n,e){var i=new iN,r=e.split(":");return i.ownerDocument=this,i.nodeName=e,i.name=e,i.namespaceURI=n,i.specified=!0,r.length==2?(i.prefix=r[0],i.localName=r[1]):i.localName=e,i}};ha(eA,Qn);function N0(){this._nsMap={}}N0.prototype={nodeType:Yc,hasAttribute:function(n){return this.getAttributeNode(n)!=null},getAttribute:function(n){var e=this.getAttributeNode(n);return e&&e.value||""},getAttributeNode:function(n){return this.attributes.getNamedItem(n)},setAttribute:function(n,e){var i=this.ownerDocument.createAttribute(n);i.value=i.nodeValue=""+e,this.setAttributeNode(i)},removeAttribute:function(n){var e=this.getAttributeNode(n);e&&this.removeAttributeNode(e)},appendChild:function(n){return n.nodeType===hf?this.insertBefore(n,null):e2e(this,n)},setAttributeNode:function(n){return this.attributes.setNamedItem(n)},setAttributeNodeNS:function(n){return this.attributes.setNamedItemNS(n)},removeAttributeNode:function(n){return this.attributes.removeNamedItem(n.nodeName)},removeAttributeNS:function(n,e){var i=this.getAttributeNodeNS(n,e);i&&this.removeAttributeNode(i)},hasAttributeNS:function(n,e){return this.getAttributeNodeNS(n,e)!=null},getAttributeNS:function(n,e){var i=this.getAttributeNodeNS(n,e);return i&&i.value||""},setAttributeNS:function(n,e,i){var r=this.ownerDocument.createAttributeNS(n,e);r.value=r.nodeValue=""+i,this.setAttributeNode(r)},getAttributeNodeNS:function(n,e){return this.attributes.getNamedItemNS(n,e)},getElementsByTagName:function(n){return new O1(this,function(e){var i=[];return iE(e,function(r){r!==e&&r.nodeType==Yc&&(n==="*"||r.tagName==n)&&i.push(r)}),i})},getElementsByTagNameNS:function(n,e){return new O1(this,function(i){var r=[];return iE(i,function(o){o!==i&&o.nodeType===Yc&&(n==="*"||o.namespaceURI===n)&&(e==="*"||o.localName==e)&&r.push(o)}),r})}};eA.prototype.getElementsByTagName=N0.prototype.getElementsByTagName;eA.prototype.getElementsByTagNameNS=N0.prototype.getElementsByTagNameNS;ha(N0,Qn);function iN(){}iN.prototype.nodeType=M1;ha(iN,Qn);function tA(){}tA.prototype={data:"",substringData:function(n,e){return this.data.substring(n,n+e)},appendData:function(n){n=this.data+n,this.nodeValue=this.data=n,this.length=n.length},insertData:function(n,e){this.replaceData(n,0,e)},appendChild:function(n){throw new Error(ts[na])},deleteData:function(n,e){this.replaceData(n,e,"")},replaceData:function(n,e,i){var r=this.data.substring(0,n),o=this.data.substring(n+e);i=r+i+o,this.nodeValue=this.data=i,this.length=i.length}};ha(tA,Qn);function qF(){}qF.prototype={nodeName:"#text",nodeType:eN,splitText:function(n){var e=this.data,i=e.substring(n);e=e.substring(0,n),this.data=this.nodeValue=e,this.length=e.length;var r=this.ownerDocument.createTextNode(i);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}};ha(qF,tA);function HF(){}HF.prototype={nodeName:"#comment",nodeType:BQ};ha(HF,tA);function GF(){}GF.prototype={nodeName:"#cdata-section",nodeType:FQ};ha(GF,tA);function P3(){}P3.prototype.nodeType=VQ;ha(P3,Qn);function ZQ(){}ZQ.prototype.nodeType=Xke;ha(ZQ,Qn);function YQ(){}YQ.prototype.nodeType=Gke;ha(YQ,Qn);function XF(){}XF.prototype.nodeType=UQ;ha(XF,Qn);function I3(){}I3.prototype.nodeName="#document-fragment";I3.prototype.nodeType=hf;ha(I3,Qn);function KF(){}KF.prototype.nodeType=LQ;ha(KF,Qn);function JQ(){}JQ.prototype.serializeToString=function(n,e,i){return QQ.call(n,e,i)};Qn.prototype.toString=QQ;function QQ(n,e){var i=[],r=this.nodeType==9&&this.documentElement||this,o=r.prefix,l=r.namespaceURI;if(l&&o==null){var o=r.lookupPrefix(l);if(o==null)var c=[{namespace:l,prefix:null}]}return Kv(this,i,n,e,c),i.join("")}function nq(n,e,i){var r=n.prefix||"",o=n.namespaceURI;if(!o||r==="xml"&&o===nE.XML||o===nE.XMLNS)return!1;for(var l=i.length;l--;){var c=i[l];if(c.prefix===r)return c.namespace!==o}return!0}function h4(n,e,i){n.push(" ",e,'="',i.replace(/[<>&"\t\n\r]/g,HQ),'"')}function Kv(n,e,i,r,o){if(o||(o=[]),r)if(n=r(n),n){if(typeof n=="string"){e.push(n);return}}else return;switch(n.nodeType){case Yc:var l=n.attributes,c=l.length,T=n.firstChild,u=n.tagName;i=nE.isHTML(n.namespaceURI)||i;var h=u;if(!i&&!n.prefix&&n.namespaceURI){for(var m,g=0;g<l.length;g++)if(l.item(g).name==="xmlns"){m=l.item(g).value;break}if(!m)for(var y=o.length-1;y>=0;y--){var v=o[y];if(v.prefix===""&&v.namespace===n.namespaceURI){m=v.namespace;break}}if(m!==n.namespaceURI)for(var y=o.length-1;y>=0;y--){var v=o[y];if(v.namespace===n.namespaceURI){v.prefix&&(h=v.prefix+":"+u);break}}}e.push("<",h);for(var _=0;_<c;_++){var A=l.item(_);A.prefix=="xmlns"?o.push({prefix:A.localName,namespace:A.value}):A.nodeName=="xmlns"&&o.push({prefix:"",namespace:A.value})}for(var _=0;_<c;_++){var A=l.item(_);if(nq(A,i,o)){var S=A.prefix||"",C=A.namespaceURI;h4(e,S?"xmlns:"+S:"xmlns",C),o.push({prefix:S,namespace:C})}Kv(A,e,i,r,o)}if(u===h&&nq(n,i,o)){var S=n.prefix||"",C=n.namespaceURI;h4(e,S?"xmlns:"+S:"xmlns",C),o.push({prefix:S,namespace:C})}if(T||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(u)){if(e.push(">"),i&&/^script$/i.test(u))for(;T;)T.data?e.push(T.data):Kv(T,e,i,r,o.slice()),T=T.nextSibling;else for(;T;)Kv(T,e,i,r,o.slice()),T=T.nextSibling;e.push("</",h,">")}else e.push("/>");return;case zQ:case hf:for(var T=n.firstChild;T;)Kv(T,e,i,r,o.slice()),T=T.nextSibling;return;case M1:return h4(e,n.name,n.value);case eN:return e.push(n.data.replace(/[<&>]/g,HQ));case FQ:return e.push("<![CDATA[",n.data,"]]>");case BQ:return e.push("<!--",n.data,"-->");case VQ:var N=n.publicId,I=n.systemId;if(e.push("<!DOCTYPE ",n.name),N)e.push(" PUBLIC ",N),I&&I!="."&&e.push(" ",I),e.push(">");else if(I&&I!=".")e.push(" SYSTEM ",I,">");else{var O=n.internalSubset;O&&e.push(" [",O,"]"),e.push(">")}return;case LQ:return e.push("<?",n.target," ",n.data,"?>");case UQ:return e.push("&",n.nodeName,";");default:e.push("??",n.nodeName)}}function eee(n,e,i){var r;switch(e.nodeType){case Yc:r=e.cloneNode(!1),r.ownerDocument=n;case hf:break;case M1:i=!0;break}if(r||(r=e.cloneNode(!1)),r.ownerDocument=n,r.parentNode=null,i)for(var o=e.firstChild;o;)r.appendChild(eee(n,o,i)),o=o.nextSibling;return r}function MM(n,e,i){var r=new e.constructor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var l=e[o];typeof l!="object"&&l!=r[o]&&(r[o]=l)}switch(e.childNodes&&(r.childNodes=new Qh),r.ownerDocument=n,r.nodeType){case Yc:var c=e.attributes,u=r.attributes=new tN,h=c.length;u._ownerElement=r;for(var m=0;m<h;m++)r.setAttributeNode(MM(n,c.item(m),!0));break;case M1:i=!0}if(i)for(var g=e.firstChild;g;)r.appendChild(MM(n,g,i)),g=g.nextSibling;return r}function tee(n,e,i){n[e]=i}try{if(Object.defineProperty){let n=function(e){switch(e.nodeType){case Yc:case hf:var i=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&i.push(n(e)),e=e.nextSibling;return i.join("");default:return e.nodeValue}};Object.defineProperty(O1.prototype,"length",{get:function(){return VF(this),this.$$length}}),Object.defineProperty(Qn.prototype,"textContent",{get:function(){return n(this)},set:function(e){switch(this.nodeType){case Yc:case hf:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),tee=function(e,i,r){e["$$"+i]=r}}}catch{}Ad.DocumentType=P3;Ad.DOMException=sr;Ad.DOMImplementation=qQ;Ad.Element=N0;Ad.Node=Qn;Ad.NodeList=Qh;Ad.XMLSerializer=JQ;var j3={},nee={};(function(n){var e=vf.freeze;n.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),n.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),n.entityMap=n.HTML_ENTITIES})(nee);var ZF={},rE=vf.NAMESPACE,OM=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,iq=new RegExp("[\\-\\.0-9"+OM.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),rq=new RegExp("^"+OM.source+iq.source+"*(?::"+OM.source+iq.source+"*)?$"),bk=0,gp=1,yv=2,yk=3,vv=4,wv=5,vk=6,tD=7;function F1(n,e){this.message=n,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,F1)}F1.prototype=new Error;F1.prototype.name=F1.name;function iee(){}iee.prototype={parse:function(n,e,i){var r=this.domBuilder;r.startDocument(),ree(e,e={}),t2e(n,e,i,r,this.errorHandler),r.endDocument()}};function t2e(n,e,i,r,o){function l(re){if(re>65535){re-=65536;var ie=55296+(re>>10),G=56320+(re&1023);return String.fromCharCode(ie,G)}else return String.fromCharCode(re)}function c(re){var ie=re.slice(1,-1);return Object.hasOwnProperty.call(i,ie)?i[ie]:ie.charAt(0)==="#"?l(parseInt(ie.substr(1).replace("x","0x"))):(o.error("entity not found:"+re),re)}function u(re){if(re>S){var ie=n.substring(S,re).replace(/&#?\w+;/g,c);v&&h(S),r.characters(ie,0,re-S),S=re}}function h(re,ie){for(;re>=g&&(ie=y.exec(n));)m=ie.index,g=m+ie[0].length,v.lineNumber++;v.columnNumber=re-m+1}for(var m=0,g=0,y=/.*(?:\r\n?|\n)|.*$/g,v=r.locator,_=[{currentNSMap:e}],A={},S=0;;){try{var C=n.indexOf("<",S);if(C<0){if(!n.substr(S).match(/^\s*$/)){var T=r.doc,N=T.createTextNode(n.substr(S));T.appendChild(N),r.currentElement=N}return}switch(C>S&&u(C),n.charAt(C+1)){case"/":var me=n.indexOf(">",C+3),I=n.substring(C+2,me).replace(/[ \t\n\r]+$/g,""),O=_.pop();me<0?(I=n.substring(C+2).replace(/[\s<].*/,""),o.error("end tag name: "+I+" is not complete:"+O.tagName),me=C+1+I.length):I.match(/\s</)&&(I=I.replace(/[\s<].*/,""),o.error("end tag name: "+I+" maybe not complete"),me=C+1+I.length);var F=O.localNSMap,U=O.tagName==I,V=U||O.tagName&&O.tagName.toLowerCase()==I.toLowerCase();if(V){if(r.endElement(O.uri,O.localName,I),F)for(var B in F)Object.prototype.hasOwnProperty.call(F,B)&&r.endPrefixMapping(B);U||o.fatalError("end tag name: "+I+" is not match the current start tagName:"+O.tagName)}else _.push(O);me++;break;case"?":v&&h(C),me=o2e(n,C,r);break;case"!":v&&h(C),me=s2e(n,C,r,o);break;default:v&&h(C);var Z=new see,ae=_[_.length-1].currentNSMap,me=n2e(n,C,Z,ae,c,o),Q=Z.length;if(!Z.closed&&r2e(n,me,Z.tagName,A)&&(Z.closed=!0,i.nbsp||o.warning("unclosed xml attribute")),v&&Q){for(var ge=sq(v,{}),$=0;$<Q;$++){var Te=Z[$];h(Te.offset),Te.locator=sq(v,{})}r.locator=ge,oq(Z,r,ae)&&_.push(Z),r.locator=v}else oq(Z,r,ae)&&_.push(Z);rE.isHTML(Z.uri)&&!Z.closed?me=i2e(n,me,Z.tagName,c,r):me++}}catch(re){if(re instanceof F1)throw re;o.error("element parse error: "+re),me=-1}me>S?S=me:u(Math.max(C,S)+1)}}function sq(n,e){return e.lineNumber=n.lineNumber,e.columnNumber=n.columnNumber,e}function n2e(n,e,i,r,o,l){function c(v,_,A){i.attributeNames.hasOwnProperty(v)&&l.fatalError("Attribute "+v+" redefined"),i.addValue(v,_.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,o),A)}for(var u,h,m=++e,g=bk;;){var y=n.charAt(m);switch(y){case"=":if(g===gp)u=n.slice(e,m),g=yk;else if(g===yv)g=yk;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(g===yk||g===gp)if(g===gp&&(l.warning('attribute value must after "="'),u=n.slice(e,m)),e=m+1,m=n.indexOf(y,e),m>0)h=n.slice(e,m),c(u,h,e-1),g=wv;else throw new Error("attribute value no end '"+y+"' match");else if(g==vv)h=n.slice(e,m),c(u,h,e),l.warning('attribute "'+u+'" missed start quot('+y+")!!"),e=m+1,g=wv;else throw new Error('attribute value must after "="');break;case"/":switch(g){case bk:i.setTagName(n.slice(e,m));case wv:case vk:case tD:g=tD,i.closed=!0;case vv:case gp:break;case yv:i.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return l.error("unexpected end of input"),g==bk&&i.setTagName(n.slice(e,m)),m;case">":switch(g){case bk:i.setTagName(n.slice(e,m));case wv:case vk:case tD:break;case vv:case gp:h=n.slice(e,m),h.slice(-1)==="/"&&(i.closed=!0,h=h.slice(0,-1));case yv:g===yv&&(h=u),g==vv?(l.warning('attribute "'+h+'" missed quot(")!'),c(u,h,e)):((!rE.isHTML(r[""])||!h.match(/^(?:disabled|checked|selected)$/i))&&l.warning('attribute "'+h+'" missed value!! "'+h+'" instead!!'),c(h,h,e));break;case yk:throw new Error("attribute value missed!!")}return m;case"":y=" ";default:if(y<=" ")switch(g){case bk:i.setTagName(n.slice(e,m)),g=vk;break;case gp:u=n.slice(e,m),g=yv;break;case vv:var h=n.slice(e,m);l.warning('attribute "'+h+'" missed quot(")!!'),c(u,h,e);case wv:g=vk;break}else switch(g){case yv:i.tagName,(!rE.isHTML(r[""])||!u.match(/^(?:disabled|checked|selected)$/i))&&l.warning('attribute "'+u+'" missed value!! "'+u+'" instead2!!'),c(u,u,e),e=m,g=gp;break;case wv:l.warning('attribute space is required"'+u+'"!!');case vk:g=gp,e=m;break;case yk:g=vv,e=m;break;case tD:throw new Error("elements closed character '/' and '>' must be connected to")}}m++}}function oq(n,e,i){for(var r=n.tagName,o=null,y=n.length;y--;){var l=n[y],c=l.qName,u=l.value,v=c.indexOf(":");if(v>0)var h=l.prefix=c.slice(0,v),m=c.slice(v+1),g=h==="xmlns"&&m;else m=c,h=null,g=c==="xmlns"&&"";l.localName=m,g!==!1&&(o==null&&(o={},ree(i,i={})),i[g]=o[g]=u,l.uri=rE.XMLNS,e.startPrefixMapping(g,u))}for(var y=n.length;y--;){l=n[y];var h=l.prefix;h&&(h==="xml"&&(l.uri=rE.XML),h!=="xmlns"&&(l.uri=i[h||""]))}var v=r.indexOf(":");v>0?(h=n.prefix=r.slice(0,v),m=n.localName=r.slice(v+1)):(h=null,m=n.localName=r);var _=n.uri=i[h||""];if(e.startElement(_,m,r,n),n.closed){if(e.endElement(_,m,r),o)for(h in o)Object.prototype.hasOwnProperty.call(o,h)&&e.endPrefixMapping(h)}else return n.currentNSMap=i,n.localNSMap=o,!0}function i2e(n,e,i,r,o){if(/^(?:script|textarea)$/i.test(i)){var l=n.indexOf("</"+i+">",e),c=n.substring(e+1,l);if(/[&<]/.test(c))return/^script$/i.test(i)?(o.characters(c,0,c.length),l):(c=c.replace(/&#?\w+;/g,r),o.characters(c,0,c.length),l)}return e+1}function r2e(n,e,i,r){var o=r[i];return o==null&&(o=n.lastIndexOf("</"+i+">"),o<e&&(o=n.lastIndexOf("</"+i)),r[i]=o),o<e}function ree(n,e){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}function s2e(n,e,i,r){var o=n.charAt(e+2);switch(o){case"-":if(n.charAt(e+3)==="-"){var l=n.indexOf("-->",e+4);return l>e?(i.comment(n,e+4,l-e-4),l+3):(r.error("Unclosed comment"),-1)}else return-1;default:if(n.substr(e+3,6)=="CDATA["){var l=n.indexOf("]]>",e+9);return i.startCDATA(),i.characters(n,e+9,l-e-9),i.endCDATA(),l+3}var c=a2e(n,e),u=c.length;if(u>1&&/!doctype/i.test(c[0][0])){var h=c[1][0],m=!1,g=!1;u>3&&(/^public$/i.test(c[2][0])?(m=c[3][0],g=u>4&&c[4][0]):/^system$/i.test(c[2][0])&&(g=c[3][0]));var y=c[u-1];return i.startDTD(h,m,g),i.endDTD(),y.index+y[0].length}}return-1}function o2e(n,e,i){var r=n.indexOf("?>",e);if(r){var o=n.substring(e,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return o?(o[0].length,i.processingInstruction(o[1],o[2]),r+2):-1}return-1}function see(){this.attributeNames={}}see.prototype={setTagName:function(n){if(!rq.test(n))throw new Error("invalid tagName:"+n);this.tagName=n},addValue:function(n,e,i){if(!rq.test(n))throw new Error("invalid attribute:"+n);this.attributeNames[n]=this.length,this[this.length++]={qName:n,value:e,offset:i}},length:0,getLocalName:function(n){return this[n].localName},getLocator:function(n){return this[n].locator},getQName:function(n){return this[n].qName},getURI:function(n){return this[n].uri},getValue:function(n){return this[n].value}};function a2e(n,e){var i,r=[],o=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(o.lastIndex=e,o.exec(n);i=o.exec(n);)if(r.push(i),i[1])return r}ZF.XMLReader=iee;ZF.ParseError=F1;var l2e=vf,c2e=Ad,aq=nee,oee=ZF,u2e=c2e.DOMImplementation,lq=l2e.NAMESPACE,d2e=oee.ParseError,h2e=oee.XMLReader;function aee(n){return n.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function lee(n){this.options=n||{locator:{}}}lee.prototype.parseFromString=function(n,e){var i=this.options,r=new h2e,o=i.domBuilder||new nA,l=i.errorHandler,c=i.locator,u=i.xmlns||{},h=/\/x?html?$/.test(e),m=h?aq.HTML_ENTITIES:aq.XML_ENTITIES;c&&o.setDocumentLocator(c),r.errorHandler=f2e(l,o,c),r.domBuilder=i.domBuilder||o,h&&(u[""]=lq.HTML),u.xml=u.xml||lq.XML;var g=i.normalizeLineEndings||aee;return n&&typeof n=="string"?r.parse(g(n),u,m):r.errorHandler.error("invalid doc source"),o.doc};function f2e(n,e,i){if(!n){if(e instanceof nA)return e;n=e}var r={},o=n instanceof Function;i=i||{};function l(c){var u=n[c];!u&&o&&(u=n.length==2?function(h){n(c,h)}:n),r[c]=u&&function(h){u("[xmldom "+c+"]	"+h+FM(i))}||function(){}}return l("warning"),l("error"),l("fatalError"),r}function nA(){this.cdata=!1}function xv(n,e){e.lineNumber=n.lineNumber,e.columnNumber=n.columnNumber}nA.prototype={startDocument:function(){this.doc=new u2e().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(n,e,i,r){var o=this.doc,l=o.createElementNS(n,i||e),c=r.length;nD(this,l),this.currentElement=l,this.locator&&xv(this.locator,l);for(var u=0;u<c;u++){var n=r.getURI(u),h=r.getValue(u),i=r.getQName(u),m=o.createAttributeNS(n,i);this.locator&&xv(r.getLocator(u),m),m.value=m.nodeValue=h,l.setAttributeNode(m)}},endElement:function(n,e,i){var r=this.currentElement;r.tagName,this.currentElement=r.parentNode},startPrefixMapping:function(n,e){},endPrefixMapping:function(n){},processingInstruction:function(n,e){var i=this.doc.createProcessingInstruction(n,e);this.locator&&xv(this.locator,i),nD(this,i)},ignorableWhitespace:function(n,e,i){},characters:function(n,e,i){if(n=cq.apply(this,arguments),n){if(this.cdata)var r=this.doc.createCDATASection(n);else var r=this.doc.createTextNode(n);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(n)&&this.doc.appendChild(r),this.locator&&xv(this.locator,r)}},skippedEntity:function(n){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(n){(this.locator=n)&&(n.lineNumber=0)},comment:function(n,e,i){n=cq.apply(this,arguments);var r=this.doc.createComment(n);this.locator&&xv(this.locator,r),nD(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(n,e,i){var r=this.doc.implementation;if(r&&r.createDocumentType){var o=r.createDocumentType(n,e,i);this.locator&&xv(this.locator,o),nD(this,o),this.doc.doctype=o}},warning:function(n){console.warn("[xmldom warning]	"+n,FM(this.locator))},error:function(n){console.error("[xmldom error]	"+n,FM(this.locator))},fatalError:function(n){throw new d2e(n,this.locator)}};function FM(n){if(n)return`
@`+(n.systemId||"")+"#[line:"+n.lineNumber+",col:"+n.columnNumber+"]"}function cq(n,e,i){return typeof n=="string"?n.substr(e,i):n.length>=e+i||e?new java.lang.String(n,e,i)+"":n}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(n){nA.prototype[n]=function(){return null}});function nD(n,e){n.currentElement?n.currentElement.appendChild(e):n.doc.appendChild(e)}j3.__DOMHandler=nA;j3.normalizeLineEndings=aee;j3.DOMParser=lee;var cee=Ad;N3.DOMImplementation=cee.DOMImplementation;N3.XMLSerializer=cee.XMLSerializer;N3.DOMParser=j3.DOMParser;var p2e=N3,m2e=Ad;function g2e(n){var e=null,i=new p2e.DOMParser({errorHandler:function(o,l){e={level:o,message:l}}}),r=i.parseFromString(n);if(e===null)return r;throw new Error(e.level+": "+e.message)}BF.parseFromString=g2e;BF.Node=m2e.Node;var f4=is,uq=lr,uee=BF,dee=Q1,b2e=dee.Element;jQ.readString=y2e;var dq=uee.Node;function y2e(n,e){e=e||{};try{var i=uee.parseFromString(n,"text/xml")}catch(c){return f4.reject(c)}if(i.documentElement.tagName==="parsererror")return f4.resolve(new Error(i.documentElement.textContent));function r(c){switch(c.nodeType){case dq.ELEMENT_NODE:return o(c);case dq.TEXT_NODE:return dee.text(c.nodeValue)}}function o(c){var u=l(c),h=[];uq.forEach(c.childNodes,function(g){var y=r(g);y&&h.push(y)});var m={};return uq.forEach(c.attributes,function(g){m[l(g)]=g.value}),new b2e(u,m,h)}function l(c){if(c.namespaceURI){var u=e[c.namespaceURI],h;return u?h=u+":":h="{"+c.namespaceURI+"}",h+c.localName}else return c.localName}return f4.resolve(r(i.documentElement))}var hee={},Ik={},uh={},hq;function Km(){return hq||(hq=1,(function(){var n,e,i,r,o,l,c,u=[].slice,h={}.hasOwnProperty;n=function(){var m,g,y,v,_,A;if(A=arguments[0],_=2<=arguments.length?u.call(arguments,1):[],o(Object.assign))Object.assign.apply(null,arguments);else for(m=0,y=_.length;m<y;m++)if(v=_[m],v!=null)for(g in v)h.call(v,g)&&(A[g]=v[g]);return A},o=function(m){return!!m&&Object.prototype.toString.call(m)==="[object Function]"},l=function(m){var g;return!!m&&((g=typeof m)=="function"||g==="object")},i=function(m){return o(Array.isArray)?Array.isArray(m):Object.prototype.toString.call(m)==="[object Array]"},r=function(m){var g;if(i(m))return!m.length;for(g in m)if(h.call(m,g))return!1;return!0},c=function(m){var g,y;return l(m)&&(y=Object.getPrototypeOf(m))&&(g=y.constructor)&&typeof g=="function"&&g instanceof g&&Function.prototype.toString.call(g)===Function.prototype.toString.call(Object)},e=function(m){return o(m.valueOf)?m.valueOf():m},uh.assign=n,uh.isFunction=o,uh.isObject=l,uh.isArray=i,uh.isEmpty=r,uh.isPlainObject=c,uh.getValue=e}).call(Lt)),uh}var p4={exports:{}},m4={exports:{}},g4={exports:{}},b4={exports:{}},fq;function fee(){return fq||(fq=1,(function(){b4.exports=function(){function n(e,i,r){if(this.options=e.options,this.stringify=e.stringify,this.parent=e,i==null)throw new Error("Missing attribute name. "+this.debugInfo(i));if(r==null)throw new Error("Missing attribute value. "+this.debugInfo(i));this.name=this.stringify.attName(i),this.value=this.stringify.attValue(r)}return n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.set(e).attribute(this)},n.prototype.debugInfo=function(e){return e=e||this.name,e==null?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},n}()}).call(Lt)),b4.exports}var pq;function R3(){return pq||(pq=1,(function(){var n,e,i,r,o,l,c=function(h,m){for(var g in m)u.call(m,g)&&(h[g]=m[g]);function y(){this.constructor=h}return y.prototype=m.prototype,h.prototype=new y,h.__super__=m.prototype,h},u={}.hasOwnProperty;l=Km(),o=l.isObject,r=l.isFunction,i=l.getValue,e=pa(),n=fee(),g4.exports=function(h){c(m,h);function m(g,y,v){if(m.__super__.constructor.call(this,g),y==null)throw new Error("Missing element name. "+this.debugInfo());this.name=this.stringify.eleName(y),this.attributes={},v!=null&&this.attribute(v),g.isDocument&&(this.isRoot=!0,this.documentObject=g,g.rootObject=this)}return m.prototype.clone=function(){var g,y,v,_;v=Object.create(this),v.isRoot&&(v.documentObject=null),v.attributes={},_=this.attributes;for(y in _)u.call(_,y)&&(g=_[y],v.attributes[y]=g.clone());return v.children=[],this.children.forEach(function(A){var S;return S=A.clone(),S.parent=v,v.children.push(S)}),v},m.prototype.attribute=function(g,y){var v,_;if(g!=null&&(g=i(g)),o(g))for(v in g)u.call(g,v)&&(_=g[v],this.attribute(v,_));else r(y)&&(y=y.apply()),(!this.options.skipNullAttributes||y!=null)&&(this.attributes[g]=new n(this,g,y));return this},m.prototype.removeAttribute=function(g){var y,v,_;if(g==null)throw new Error("Missing attribute name. "+this.debugInfo());if(g=i(g),Array.isArray(g))for(v=0,_=g.length;v<_;v++)y=g[v],delete this.attributes[y];else delete this.attributes[g];return this},m.prototype.toString=function(g){return this.options.writer.set(g).element(this)},m.prototype.att=function(g,y){return this.attribute(g,y)},m.prototype.a=function(g,y){return this.attribute(g,y)},m}(e)}).call(Lt)),g4.exports}var y4={exports:{}},mq;function M3(){return mq||(mq=1,(function(){var n,e=function(r,o){for(var l in o)i.call(o,l)&&(r[l]=o[l]);function c(){this.constructor=r}return c.prototype=o.prototype,r.prototype=new c,r.__super__=o.prototype,r},i={}.hasOwnProperty;n=pa(),y4.exports=function(r){e(o,r);function o(l,c){if(o.__super__.constructor.call(this,l),c==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.text=this.stringify.cdata(c)}return o.prototype.clone=function(){return Object.create(this)},o.prototype.toString=function(l){return this.options.writer.set(l).cdata(this)},o}(n)}).call(Lt)),y4.exports}var v4={exports:{}},gq;function O3(){return gq||(gq=1,(function(){var n,e=function(r,o){for(var l in o)i.call(o,l)&&(r[l]=o[l]);function c(){this.constructor=r}return c.prototype=o.prototype,r.prototype=new c,r.__super__=o.prototype,r},i={}.hasOwnProperty;n=pa(),v4.exports=function(r){e(o,r);function o(l,c){if(o.__super__.constructor.call(this,l),c==null)throw new Error("Missing comment text. "+this.debugInfo());this.text=this.stringify.comment(c)}return o.prototype.clone=function(){return Object.create(this)},o.prototype.toString=function(l){return this.options.writer.set(l).comment(this)},o}(n)}).call(Lt)),v4.exports}var w4={exports:{}},bq;function F3(){return bq||(bq=1,(function(){var n,e,i=function(o,l){for(var c in l)r.call(l,c)&&(o[c]=l[c]);function u(){this.constructor=o}return u.prototype=l.prototype,o.prototype=new u,o.__super__=l.prototype,o},r={}.hasOwnProperty;e=Km().isObject,n=pa(),w4.exports=function(o){i(l,o);function l(c,u,h,m){var g;l.__super__.constructor.call(this,c),e(u)&&(g=u,u=g.version,h=g.encoding,m=g.standalone),u||(u="1.0"),this.version=this.stringify.xmlVersion(u),h!=null&&(this.encoding=this.stringify.xmlEncoding(h)),m!=null&&(this.standalone=this.stringify.xmlStandalone(m))}return l.prototype.toString=function(c){return this.options.writer.set(c).declaration(this)},l}(n)}).call(Lt)),w4.exports}var x4={exports:{}},_4={exports:{}},yq;function U3(){return yq||(yq=1,(function(){var n,e=function(r,o){for(var l in o)i.call(o,l)&&(r[l]=o[l]);function c(){this.constructor=r}return c.prototype=o.prototype,r.prototype=new c,r.__super__=o.prototype,r},i={}.hasOwnProperty;n=pa(),_4.exports=function(r){e(o,r);function o(l,c,u,h,m,g){if(o.__super__.constructor.call(this,l),c==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(u==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(c));if(!h)throw new Error("Missing DTD attribute type. "+this.debugInfo(c));if(!m)throw new Error("Missing DTD attribute default. "+this.debugInfo(c));if(m.indexOf("#")!==0&&(m="#"+m),!m.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(c));if(g&&!m.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(c));this.elementName=this.stringify.eleName(c),this.attributeName=this.stringify.attName(u),this.attributeType=this.stringify.dtdAttType(h),this.defaultValue=this.stringify.dtdAttDefault(g),this.defaultValueType=m}return o.prototype.toString=function(l){return this.options.writer.set(l).dtdAttList(this)},o}(n)}).call(Lt)),_4.exports}var k4={exports:{}},vq;function L3(){return vq||(vq=1,(function(){var n,e,i=function(o,l){for(var c in l)r.call(l,c)&&(o[c]=l[c]);function u(){this.constructor=o}return u.prototype=l.prototype,o.prototype=new u,o.__super__=l.prototype,o},r={}.hasOwnProperty;e=Km().isObject,n=pa(),k4.exports=function(o){i(l,o);function l(c,u,h,m){if(l.__super__.constructor.call(this,c),h==null)throw new Error("Missing DTD entity name. "+this.debugInfo(h));if(m==null)throw new Error("Missing DTD entity value. "+this.debugInfo(h));if(this.pe=!!u,this.name=this.stringify.eleName(h),!e(m))this.value=this.stringify.dtdEntityValue(m);else{if(!m.pubID&&!m.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(h));if(m.pubID&&!m.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(h));if(m.pubID!=null&&(this.pubID=this.stringify.dtdPubID(m.pubID)),m.sysID!=null&&(this.sysID=this.stringify.dtdSysID(m.sysID)),m.nData!=null&&(this.nData=this.stringify.dtdNData(m.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(h))}}return l.prototype.toString=function(c){return this.options.writer.set(c).dtdEntity(this)},l}(n)}).call(Lt)),k4.exports}var E4={exports:{}},wq;function B3(){return wq||(wq=1,(function(){var n,e=function(r,o){for(var l in o)i.call(o,l)&&(r[l]=o[l]);function c(){this.constructor=r}return c.prototype=o.prototype,r.prototype=new c,r.__super__=o.prototype,r},i={}.hasOwnProperty;n=pa(),E4.exports=function(r){e(o,r);function o(l,c,u){if(o.__super__.constructor.call(this,l),c==null)throw new Error("Missing DTD element name. "+this.debugInfo());u||(u="(#PCDATA)"),Array.isArray(u)&&(u="("+u.join(",")+")"),this.name=this.stringify.eleName(c),this.value=this.stringify.dtdElementValue(u)}return o.prototype.toString=function(l){return this.options.writer.set(l).dtdElement(this)},o}(n)}).call(Lt)),E4.exports}var S4={exports:{}},xq;function z3(){return xq||(xq=1,(function(){var n,e=function(r,o){for(var l in o)i.call(o,l)&&(r[l]=o[l]);function c(){this.constructor=r}return c.prototype=o.prototype,r.prototype=new c,r.__super__=o.prototype,r},i={}.hasOwnProperty;n=pa(),S4.exports=function(r){e(o,r);function o(l,c,u){if(o.__super__.constructor.call(this,l),c==null)throw new Error("Missing DTD notation name. "+this.debugInfo(c));if(!u.pubID&&!u.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(c));this.name=this.stringify.eleName(c),u.pubID!=null&&(this.pubID=this.stringify.dtdPubID(u.pubID)),u.sysID!=null&&(this.sysID=this.stringify.dtdSysID(u.sysID))}return o.prototype.toString=function(l){return this.options.writer.set(l).dtdNotation(this)},o}(n)}).call(Lt)),S4.exports}var _q;function V3(){return _q||(_q=1,(function(){var n,e,i,r,o,l,c=function(h,m){for(var g in m)u.call(m,g)&&(h[g]=m[g]);function y(){this.constructor=h}return y.prototype=m.prototype,h.prototype=new y,h.__super__=m.prototype,h},u={}.hasOwnProperty;l=Km().isObject,o=pa(),n=U3(),i=L3(),e=B3(),r=z3(),x4.exports=function(h){c(m,h);function m(g,y,v){var _,A;m.__super__.constructor.call(this,g),this.name="!DOCTYPE",this.documentObject=g,l(y)&&(_=y,y=_.pubID,v=_.sysID),v==null&&(A=[y,v],v=A[0],y=A[1]),y!=null&&(this.pubID=this.stringify.dtdPubID(y)),v!=null&&(this.sysID=this.stringify.dtdSysID(v))}return m.prototype.element=function(g,y){var v;return v=new e(this,g,y),this.children.push(v),this},m.prototype.attList=function(g,y,v,_,A){var S;return S=new n(this,g,y,v,_,A),this.children.push(S),this},m.prototype.entity=function(g,y){var v;return v=new i(this,!1,g,y),this.children.push(v),this},m.prototype.pEntity=function(g,y){var v;return v=new i(this,!0,g,y),this.children.push(v),this},m.prototype.notation=function(g,y){var v;return v=new r(this,g,y),this.children.push(v),this},m.prototype.toString=function(g){return this.options.writer.set(g).docType(this)},m.prototype.ele=function(g,y){return this.element(g,y)},m.prototype.att=function(g,y,v,_,A){return this.attList(g,y,v,_,A)},m.prototype.ent=function(g,y){return this.entity(g,y)},m.prototype.pent=function(g,y){return this.pEntity(g,y)},m.prototype.not=function(g,y){return this.notation(g,y)},m.prototype.up=function(){return this.root()||this.documentObject},m}(o)}).call(Lt)),x4.exports}var A4={exports:{}},kq;function W3(){return kq||(kq=1,(function(){var n,e=function(r,o){for(var l in o)i.call(o,l)&&(r[l]=o[l]);function c(){this.constructor=r}return c.prototype=o.prototype,r.prototype=new c,r.__super__=o.prototype,r},i={}.hasOwnProperty;n=pa(),A4.exports=function(r){e(o,r);function o(l,c){if(o.__super__.constructor.call(this,l),c==null)throw new Error("Missing raw text. "+this.debugInfo());this.value=this.stringify.raw(c)}return o.prototype.clone=function(){return Object.create(this)},o.prototype.toString=function(l){return this.options.writer.set(l).raw(this)},o}(n)}).call(Lt)),A4.exports}var C4={exports:{}},Eq;function $3(){return Eq||(Eq=1,(function(){var n,e=function(r,o){for(var l in o)i.call(o,l)&&(r[l]=o[l]);function c(){this.constructor=r}return c.prototype=o.prototype,r.prototype=new c,r.__super__=o.prototype,r},i={}.hasOwnProperty;n=pa(),C4.exports=function(r){e(o,r);function o(l,c){if(o.__super__.constructor.call(this,l),c==null)throw new Error("Missing element text. "+this.debugInfo());this.value=this.stringify.eleText(c)}return o.prototype.clone=function(){return Object.create(this)},o.prototype.toString=function(l){return this.options.writer.set(l).text(this)},o}(n)}).call(Lt)),C4.exports}var T4={exports:{}},Sq;function q3(){return Sq||(Sq=1,(function(){var n,e=function(r,o){for(var l in o)i.call(o,l)&&(r[l]=o[l]);function c(){this.constructor=r}return c.prototype=o.prototype,r.prototype=new c,r.__super__=o.prototype,r},i={}.hasOwnProperty;n=pa(),T4.exports=function(r){e(o,r);function o(l,c,u){if(o.__super__.constructor.call(this,l),c==null)throw new Error("Missing instruction target. "+this.debugInfo());this.target=this.stringify.insTarget(c),u&&(this.value=this.stringify.insValue(u))}return o.prototype.clone=function(){return Object.create(this)},o.prototype.toString=function(l){return this.options.writer.set(l).processingInstruction(this)},o}(n)}).call(Lt)),T4.exports}var D4={exports:{}},Aq;function YF(){return Aq||(Aq=1,(function(){var n,e=function(r,o){for(var l in o)i.call(o,l)&&(r[l]=o[l]);function c(){this.constructor=r}return c.prototype=o.prototype,r.prototype=new c,r.__super__=o.prototype,r},i={}.hasOwnProperty;n=pa(),D4.exports=function(r){e(o,r);function o(l){o.__super__.constructor.call(this,l),this.isDummy=!0}return o.prototype.clone=function(){return Object.create(this)},o.prototype.toString=function(l){return""},o}(n)}).call(Lt)),D4.exports}var Cq;function pa(){return Cq||(Cq=1,(function(){var n,e,i,r,o,l,c,u,h,m,g,y,v,_,A={}.hasOwnProperty;_=Km(),v=_.isObject,y=_.isFunction,g=_.isEmpty,m=_.getValue,l=null,n=null,e=null,i=null,r=null,u=null,h=null,c=null,o=null,m4.exports=function(){function S(C){this.parent=C,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],l||(l=R3(),n=M3(),e=O3(),i=F3(),r=V3(),u=W3(),h=$3(),c=q3(),o=YF())}return S.prototype.element=function(C,T,N){var I,O,F,U,V,B,Z,ae,me,Q,ge;if(B=null,T===null&&N==null&&(me=[{},null],T=me[0],N=me[1]),T==null&&(T={}),T=m(T),v(T)||(Q=[T,N],N=Q[0],T=Q[1]),C!=null&&(C=m(C)),Array.isArray(C))for(F=0,Z=C.length;F<Z;F++)O=C[F],B=this.element(O);else if(y(C))B=this.element(C.apply());else if(v(C)){for(V in C)if(A.call(C,V))if(ge=C[V],y(ge)&&(ge=ge.apply()),v(ge)&&g(ge)&&(ge=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&V.indexOf(this.stringify.convertAttKey)===0)B=this.attribute(V.substr(this.stringify.convertAttKey.length),ge);else if(!this.options.separateArrayItems&&Array.isArray(ge))for(U=0,ae=ge.length;U<ae;U++)O=ge[U],I={},I[V]=O,B=this.element(I);else v(ge)?(B=this.element(V),B.element(ge)):B=this.element(V,ge)}else this.options.skipNullNodes&&N===null?B=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&C.indexOf(this.stringify.convertTextKey)===0?B=this.text(N):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&C.indexOf(this.stringify.convertCDataKey)===0?B=this.cdata(N):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&C.indexOf(this.stringify.convertCommentKey)===0?B=this.comment(N):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&C.indexOf(this.stringify.convertRawKey)===0?B=this.raw(N):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&C.indexOf(this.stringify.convertPIKey)===0?B=this.instruction(C.substr(this.stringify.convertPIKey.length),N):B=this.node(C,T,N);if(B==null)throw new Error("Could not create any elements with: "+C+". "+this.debugInfo());return B},S.prototype.insertBefore=function(C,T,N){var I,O,F;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(C));return O=this.parent.children.indexOf(this),F=this.parent.children.splice(O),I=this.parent.element(C,T,N),Array.prototype.push.apply(this.parent.children,F),I},S.prototype.insertAfter=function(C,T,N){var I,O,F;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(C));return O=this.parent.children.indexOf(this),F=this.parent.children.splice(O+1),I=this.parent.element(C,T,N),Array.prototype.push.apply(this.parent.children,F),I},S.prototype.remove=function(){var C;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return C=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[C,C-C+1].concat([])),this.parent},S.prototype.node=function(C,T,N){var I,O;return C!=null&&(C=m(C)),T||(T={}),T=m(T),v(T)||(O=[T,N],N=O[0],T=O[1]),I=new l(this,C,T),N!=null&&I.text(N),this.children.push(I),I},S.prototype.text=function(C){var T;return T=new h(this,C),this.children.push(T),this},S.prototype.cdata=function(C){var T;return T=new n(this,C),this.children.push(T),this},S.prototype.comment=function(C){var T;return T=new e(this,C),this.children.push(T),this},S.prototype.commentBefore=function(C){var T,N;return T=this.parent.children.indexOf(this),N=this.parent.children.splice(T),this.parent.comment(C),Array.prototype.push.apply(this.parent.children,N),this},S.prototype.commentAfter=function(C){var T,N;return T=this.parent.children.indexOf(this),N=this.parent.children.splice(T+1),this.parent.comment(C),Array.prototype.push.apply(this.parent.children,N),this},S.prototype.raw=function(C){var T;return T=new u(this,C),this.children.push(T),this},S.prototype.dummy=function(){var C;return C=new o(this),this.children.push(C),C},S.prototype.instruction=function(C,T){var N,I,O,F,U;if(C!=null&&(C=m(C)),T!=null&&(T=m(T)),Array.isArray(C))for(F=0,U=C.length;F<U;F++)N=C[F],this.instruction(N);else if(v(C))for(N in C)A.call(C,N)&&(I=C[N],this.instruction(N,I));else y(T)&&(T=T.apply()),O=new c(this,C,T),this.children.push(O);return this},S.prototype.instructionBefore=function(C,T){var N,I;return N=this.parent.children.indexOf(this),I=this.parent.children.splice(N),this.parent.instruction(C,T),Array.prototype.push.apply(this.parent.children,I),this},S.prototype.instructionAfter=function(C,T){var N,I;return N=this.parent.children.indexOf(this),I=this.parent.children.splice(N+1),this.parent.instruction(C,T),Array.prototype.push.apply(this.parent.children,I),this},S.prototype.declaration=function(C,T,N){var I,O;return I=this.document(),O=new i(I,C,T,N),I.children[0]instanceof i?I.children[0]=O:I.children.unshift(O),I.root()||I},S.prototype.doctype=function(C,T){var N,I,O,F,U,V,B,Z,ae,me;for(I=this.document(),O=new r(I,C,T),ae=I.children,F=U=0,B=ae.length;U<B;F=++U)if(N=ae[F],N instanceof r)return I.children[F]=O,O;for(me=I.children,F=V=0,Z=me.length;V<Z;F=++V)if(N=me[F],N.isRoot)return I.children.splice(F,0,O),O;return I.children.push(O),O},S.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},S.prototype.root=function(){var C;for(C=this;C;){if(C.isDocument)return C.rootObject;if(C.isRoot)return C;C=C.parent}},S.prototype.document=function(){var C;for(C=this;C;){if(C.isDocument)return C;C=C.parent}},S.prototype.end=function(C){return this.document().end(C)},S.prototype.prev=function(){var C;for(C=this.parent.children.indexOf(this);C>0&&this.parent.children[C-1].isDummy;)C=C-1;if(C<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[C-1]},S.prototype.next=function(){var C;for(C=this.parent.children.indexOf(this);C<this.parent.children.length-1&&this.parent.children[C+1].isDummy;)C=C+1;if(C===-1||C===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[C+1]},S.prototype.importDocument=function(C){var T;return T=C.root().clone(),T.parent=this,T.isRoot=!1,this.children.push(T),this},S.prototype.debugInfo=function(C){var T,N;return C=C||this.name,C==null&&!((T=this.parent)!=null&&T.name)?"":C==null?"parent: <"+this.parent.name+">":(N=this.parent)!=null&&N.name?"node: <"+C+">, parent: <"+this.parent.name+">":"node: <"+C+">"},S.prototype.ele=function(C,T,N){return this.element(C,T,N)},S.prototype.nod=function(C,T,N){return this.node(C,T,N)},S.prototype.txt=function(C){return this.text(C)},S.prototype.dat=function(C){return this.cdata(C)},S.prototype.com=function(C){return this.comment(C)},S.prototype.ins=function(C,T){return this.instruction(C,T)},S.prototype.doc=function(){return this.document()},S.prototype.dec=function(C,T,N){return this.declaration(C,T,N)},S.prototype.dtd=function(C,T){return this.doctype(C,T)},S.prototype.e=function(C,T,N){return this.element(C,T,N)},S.prototype.n=function(C,T,N){return this.node(C,T,N)},S.prototype.t=function(C){return this.text(C)},S.prototype.d=function(C){return this.cdata(C)},S.prototype.c=function(C){return this.comment(C)},S.prototype.r=function(C){return this.raw(C)},S.prototype.i=function(C,T){return this.instruction(C,T)},S.prototype.u=function(){return this.up()},S.prototype.importXMLBuilder=function(C){return this.importDocument(C)},S}()}).call(Lt)),m4.exports}var N4={exports:{}},Tq;function pee(){return Tq||(Tq=1,(function(){var n=function(i,r){return function(){return i.apply(r,arguments)}},e={}.hasOwnProperty;N4.exports=function(){function i(r){this.assertLegalChar=n(this.assertLegalChar,this);var o,l,c;r||(r={}),this.noDoubleEncoding=r.noDoubleEncoding,l=r.stringify||{};for(o in l)e.call(l,o)&&(c=l[o],this[o]=c)}return i.prototype.eleName=function(r){return r=""+r||"",this.assertLegalChar(r)},i.prototype.eleText=function(r){return r=""+r||"",this.assertLegalChar(this.elEscape(r))},i.prototype.cdata=function(r){return r=""+r||"",r=r.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(r)},i.prototype.comment=function(r){if(r=""+r||"",r.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+r);return this.assertLegalChar(r)},i.prototype.raw=function(r){return""+r||""},i.prototype.attName=function(r){return r=""+r||""},i.prototype.attValue=function(r){return r=""+r||"",this.attEscape(r)},i.prototype.insTarget=function(r){return""+r||""},i.prototype.insValue=function(r){if(r=""+r||"",r.match(/\?>/))throw new Error("Invalid processing instruction value: "+r);return r},i.prototype.xmlVersion=function(r){if(r=""+r||"",!r.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+r);return r},i.prototype.xmlEncoding=function(r){if(r=""+r||"",!r.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+r);return r},i.prototype.xmlStandalone=function(r){return r?"yes":"no"},i.prototype.dtdPubID=function(r){return""+r||""},i.prototype.dtdSysID=function(r){return""+r||""},i.prototype.dtdElementValue=function(r){return""+r||""},i.prototype.dtdAttType=function(r){return""+r||""},i.prototype.dtdAttDefault=function(r){return r!=null?""+r||"":r},i.prototype.dtdEntityValue=function(r){return""+r||""},i.prototype.dtdNData=function(r){return""+r||""},i.prototype.convertAttKey="@",i.prototype.convertPIKey="?",i.prototype.convertTextKey="#text",i.prototype.convertCDataKey="#cdata",i.prototype.convertCommentKey="#comment",i.prototype.convertRawKey="#raw",i.prototype.assertLegalChar=function(r){var o;if(o=r.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),o)throw new Error("Invalid character in string: "+r+" at index "+o.index);return r},i.prototype.elEscape=function(r){var o;return o=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(o,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},i.prototype.attEscape=function(r){var o;return o=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(o,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},i}()}).call(Lt)),N4.exports}var P4={exports:{}},I4={exports:{}},Dq;function mee(){return Dq||(Dq=1,(function(){var n={}.hasOwnProperty;I4.exports=function(){function e(i){var r,o,l,c,u,h,m,g,y;i||(i={}),this.pretty=i.pretty||!1,this.allowEmpty=(o=i.allowEmpty)!=null?o:!1,this.pretty?(this.indent=(l=i.indent)!=null?l:"  ",this.newline=(c=i.newline)!=null?c:`
`,this.offset=(u=i.offset)!=null?u:0,this.dontprettytextnodes=(h=i.dontprettytextnodes)!=null?h:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=(m=i.spacebeforeslash)!=null?m:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,g=i.writer||{};for(r in g)n.call(g,r)&&(y=g[r],this[r]=y)}return e.prototype.set=function(i){var r,o,l;i||(i={}),"pretty"in i&&(this.pretty=i.pretty),"allowEmpty"in i&&(this.allowEmpty=i.allowEmpty),this.pretty?(this.indent="indent"in i?i.indent:"  ",this.newline="newline"in i?i.newline:`
`,this.offset="offset"in i?i.offset:0,this.dontprettytextnodes="dontprettytextnodes"in i?i.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in i?i.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,o=i.writer||{};for(r in o)n.call(o,r)&&(l=o[r],this[r]=l);return this},e.prototype.space=function(i){var r;return this.pretty?(r=(i||0)+this.offset+1,r>0?new Array(r).join(this.indent):""):""},e}()}).call(Lt)),I4.exports}var Nq;function JF(){return Nq||(Nq=1,(function(){var n,e,i,r,o,l,c,u,h,m,g,y,v,_,A=function(C,T){for(var N in T)S.call(T,N)&&(C[N]=T[N]);function I(){this.constructor=C}return I.prototype=T.prototype,C.prototype=new I,C.__super__=T.prototype,C},S={}.hasOwnProperty;c=F3(),u=V3(),n=M3(),e=O3(),m=R3(),y=W3(),v=$3(),g=q3(),h=YF(),i=U3(),r=B3(),o=L3(),l=z3(),_=mee(),P4.exports=function(C){A(T,C);function T(N){T.__super__.constructor.call(this,N)}return T.prototype.document=function(N){var I,O,F,U,V;for(this.textispresent=!1,U="",V=N.children,O=0,F=V.length;O<F;O++)I=V[O],!(I instanceof h)&&(U+=(function(){switch(!1){case!(I instanceof c):return this.declaration(I);case!(I instanceof u):return this.docType(I);case!(I instanceof e):return this.comment(I);case!(I instanceof g):return this.processingInstruction(I);default:return this.element(I,0)}}).call(this));return this.pretty&&U.slice(-this.newline.length)===this.newline&&(U=U.slice(0,-this.newline.length)),U},T.prototype.attribute=function(N){return" "+N.name+'="'+N.value+'"'},T.prototype.cdata=function(N,I){return this.space(I)+"<![CDATA["+N.text+"]]>"+this.newline},T.prototype.comment=function(N,I){return this.space(I)+"<!-- "+N.text+" -->"+this.newline},T.prototype.declaration=function(N,I){var O;return O=this.space(I),O+='<?xml version="'+N.version+'"',N.encoding!=null&&(O+=' encoding="'+N.encoding+'"'),N.standalone!=null&&(O+=' standalone="'+N.standalone+'"'),O+=this.spacebeforeslash+"?>",O+=this.newline,O},T.prototype.docType=function(N,I){var O,F,U,V,B;if(I||(I=0),V=this.space(I),V+="<!DOCTYPE "+N.root().name,N.pubID&&N.sysID?V+=' PUBLIC "'+N.pubID+'" "'+N.sysID+'"':N.sysID&&(V+=' SYSTEM "'+N.sysID+'"'),N.children.length>0){for(V+=" [",V+=this.newline,B=N.children,F=0,U=B.length;F<U;F++)O=B[F],V+=(function(){switch(!1){case!(O instanceof i):return this.dtdAttList(O,I+1);case!(O instanceof r):return this.dtdElement(O,I+1);case!(O instanceof o):return this.dtdEntity(O,I+1);case!(O instanceof l):return this.dtdNotation(O,I+1);case!(O instanceof n):return this.cdata(O,I+1);case!(O instanceof e):return this.comment(O,I+1);case!(O instanceof g):return this.processingInstruction(O,I+1);default:throw new Error("Unknown DTD node type: "+O.constructor.name)}}).call(this);V+="]"}return V+=this.spacebeforeslash+">",V+=this.newline,V},T.prototype.element=function(N,I){var O,F,U,V,B,Z,ae,me,Q,ge,$,Te,re;I||(I=0),re=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),Te=this.space(I),me="",me+=Te+"<"+N.name,Q=N.attributes;for(ae in Q)S.call(Q,ae)&&(O=Q[ae],me+=this.attribute(O));if(N.children.length===0||N.children.every(function(ie){return ie.value===""}))this.allowEmpty?me+="></"+N.name+">"+this.newline:me+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&N.children.length===1&&N.children[0].value!=null)me+=">",me+=N.children[0].value,me+="</"+N.name+">"+this.newline;else{if(this.dontprettytextnodes){for(ge=N.children,U=0,B=ge.length;U<B;U++)if(F=ge[U],F.value!=null){this.textispresent++,re=!0;break}}for(this.textispresent&&(this.newline="",this.pretty=!1,Te=this.space(I)),me+=">"+this.newline,$=N.children,V=0,Z=$.length;V<Z;V++)F=$[V],me+=(function(){switch(!1){case!(F instanceof n):return this.cdata(F,I+1);case!(F instanceof e):return this.comment(F,I+1);case!(F instanceof m):return this.element(F,I+1);case!(F instanceof y):return this.raw(F,I+1);case!(F instanceof v):return this.text(F,I+1);case!(F instanceof g):return this.processingInstruction(F,I+1);case!(F instanceof h):return"";default:throw new Error("Unknown XML node type: "+F.constructor.name)}}).call(this);re&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),me+=Te+"</"+N.name+">"+this.newline}return me},T.prototype.processingInstruction=function(N,I){var O;return O=this.space(I)+"<?"+N.target,N.value&&(O+=" "+N.value),O+=this.spacebeforeslash+"?>"+this.newline,O},T.prototype.raw=function(N,I){return this.space(I)+N.value+this.newline},T.prototype.text=function(N,I){return this.space(I)+N.value+this.newline},T.prototype.dtdAttList=function(N,I){var O;return O=this.space(I)+"<!ATTLIST "+N.elementName+" "+N.attributeName+" "+N.attributeType,N.defaultValueType!=="#DEFAULT"&&(O+=" "+N.defaultValueType),N.defaultValue&&(O+=' "'+N.defaultValue+'"'),O+=this.spacebeforeslash+">"+this.newline,O},T.prototype.dtdElement=function(N,I){return this.space(I)+"<!ELEMENT "+N.name+" "+N.value+this.spacebeforeslash+">"+this.newline},T.prototype.dtdEntity=function(N,I){var O;return O=this.space(I)+"<!ENTITY",N.pe&&(O+=" %"),O+=" "+N.name,N.value?O+=' "'+N.value+'"':(N.pubID&&N.sysID?O+=' PUBLIC "'+N.pubID+'" "'+N.sysID+'"':N.sysID&&(O+=' SYSTEM "'+N.sysID+'"'),N.nData&&(O+=" NDATA "+N.nData)),O+=this.spacebeforeslash+">"+this.newline,O},T.prototype.dtdNotation=function(N,I){var O;return O=this.space(I)+"<!NOTATION "+N.name,N.pubID&&N.sysID?O+=' PUBLIC "'+N.pubID+'" "'+N.sysID+'"':N.pubID?O+=' PUBLIC "'+N.pubID+'"':N.sysID&&(O+=' SYSTEM "'+N.sysID+'"'),O+=this.spacebeforeslash+">"+this.newline,O},T.prototype.openNode=function(N,I){var O,F,U,V;if(I||(I=0),N instanceof m){U=this.space(I)+"<"+N.name,V=N.attributes;for(F in V)S.call(V,F)&&(O=V[F],U+=this.attribute(O));return U+=(N.children?">":"/>")+this.newline,U}else return U=this.space(I)+"<!DOCTYPE "+N.rootNodeName,N.pubID&&N.sysID?U+=' PUBLIC "'+N.pubID+'" "'+N.sysID+'"':N.sysID&&(U+=' SYSTEM "'+N.sysID+'"'),U+=(N.children?" [":">")+this.newline,U},T.prototype.closeNode=function(N,I){switch(I||(I=0),!1){case!(N instanceof m):return this.space(I)+"</"+N.name+">"+this.newline;case!(N instanceof u):return this.space(I)+"]>"+this.newline}},T}(_)}).call(Lt)),P4.exports}var Pq;function v2e(){return Pq||(Pq=1,(function(){var n,e,i,r,o=function(c,u){for(var h in u)l.call(u,h)&&(c[h]=u[h]);function m(){this.constructor=c}return m.prototype=u.prototype,c.prototype=new m,c.__super__=u.prototype,c},l={}.hasOwnProperty;r=Km().isPlainObject,n=pa(),i=pee(),e=JF(),p4.exports=function(c){o(u,c);function u(h){u.__super__.constructor.call(this,null),this.name="?xml",h||(h={}),h.writer||(h.writer=new e),this.options=h,this.stringify=new i(h),this.isDocument=!0}return u.prototype.end=function(h){var m;return h?r(h)&&(m=h,h=this.options.writer.set(m)):h=this.options.writer,h.document(this)},u.prototype.toString=function(h){return this.options.writer.set(h).document(this)},u}(n)}).call(Lt)),p4.exports}var j4={exports:{}},Iq;function w2e(){return Iq||(Iq=1,(function(){var n,e,i,r,o,l,c,u,h,m,g,y,v,_,A,S,C,T,N,I,O={}.hasOwnProperty;I=Km(),T=I.isObject,C=I.isFunction,N=I.isPlainObject,S=I.getValue,m=R3(),e=M3(),i=O3(),y=W3(),A=$3(),g=q3(),u=F3(),h=V3(),r=U3(),l=L3(),o=B3(),c=z3(),n=fee(),_=pee(),v=JF(),j4.exports=function(){function F(U,V,B){var Z;this.name="?xml",U||(U={}),U.writer?N(U.writer)&&(Z=U.writer,U.writer=new v(Z)):U.writer=new v(U),this.options=U,this.writer=U.writer,this.stringify=new _(U),this.onDataCallback=V||function(){},this.onEndCallback=B||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return F.prototype.node=function(U,V,B){var Z,ae;if(U==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(U));return this.openCurrent(),U=S(U),V===null&&B==null&&(Z=[{},null],V=Z[0],B=Z[1]),V==null&&(V={}),V=S(V),T(V)||(ae=[V,B],B=ae[0],V=ae[1]),this.currentNode=new m(this,U,V),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,B!=null&&this.text(B),this},F.prototype.element=function(U,V,B){return this.currentNode&&this.currentNode instanceof h?this.dtdElement.apply(this,arguments):this.node(U,V,B)},F.prototype.attribute=function(U,V){var B,Z;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(U));if(U!=null&&(U=S(U)),T(U))for(B in U)O.call(U,B)&&(Z=U[B],this.attribute(B,Z));else C(V)&&(V=V.apply()),(!this.options.skipNullAttributes||V!=null)&&(this.currentNode.attributes[U]=new n(this,U,V));return this},F.prototype.text=function(U){var V;return this.openCurrent(),V=new A(this,U),this.onData(this.writer.text(V,this.currentLevel+1),this.currentLevel+1),this},F.prototype.cdata=function(U){var V;return this.openCurrent(),V=new e(this,U),this.onData(this.writer.cdata(V,this.currentLevel+1),this.currentLevel+1),this},F.prototype.comment=function(U){var V;return this.openCurrent(),V=new i(this,U),this.onData(this.writer.comment(V,this.currentLevel+1),this.currentLevel+1),this},F.prototype.raw=function(U){var V;return this.openCurrent(),V=new y(this,U),this.onData(this.writer.raw(V,this.currentLevel+1),this.currentLevel+1),this},F.prototype.instruction=function(U,V){var B,Z,ae,me,Q;if(this.openCurrent(),U!=null&&(U=S(U)),V!=null&&(V=S(V)),Array.isArray(U))for(B=0,me=U.length;B<me;B++)Z=U[B],this.instruction(Z);else if(T(U))for(Z in U)O.call(U,Z)&&(ae=U[Z],this.instruction(Z,ae));else C(V)&&(V=V.apply()),Q=new g(this,U,V),this.onData(this.writer.processingInstruction(Q,this.currentLevel+1),this.currentLevel+1);return this},F.prototype.declaration=function(U,V,B){var Z;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return Z=new u(this,U,V,B),this.onData(this.writer.declaration(Z,this.currentLevel+1),this.currentLevel+1),this},F.prototype.doctype=function(U,V,B){if(this.openCurrent(),U==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new h(this,V,B),this.currentNode.rootNodeName=U,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},F.prototype.dtdElement=function(U,V){var B;return this.openCurrent(),B=new o(this,U,V),this.onData(this.writer.dtdElement(B,this.currentLevel+1),this.currentLevel+1),this},F.prototype.attList=function(U,V,B,Z,ae){var me;return this.openCurrent(),me=new r(this,U,V,B,Z,ae),this.onData(this.writer.dtdAttList(me,this.currentLevel+1),this.currentLevel+1),this},F.prototype.entity=function(U,V){var B;return this.openCurrent(),B=new l(this,!1,U,V),this.onData(this.writer.dtdEntity(B,this.currentLevel+1),this.currentLevel+1),this},F.prototype.pEntity=function(U,V){var B;return this.openCurrent(),B=new l(this,!0,U,V),this.onData(this.writer.dtdEntity(B,this.currentLevel+1),this.currentLevel+1),this},F.prototype.notation=function(U,V){var B;return this.openCurrent(),B=new c(this,U,V),this.onData(this.writer.dtdNotation(B,this.currentLevel+1),this.currentLevel+1),this},F.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},F.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},F.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},F.prototype.openNode=function(U){if(!U.isOpen)return!this.root&&this.currentLevel===0&&U instanceof m&&(this.root=U),this.onData(this.writer.openNode(U,this.currentLevel),this.currentLevel),U.isOpen=!0},F.prototype.closeNode=function(U){if(!U.isClosed)return this.onData(this.writer.closeNode(U,this.currentLevel),this.currentLevel),U.isClosed=!0},F.prototype.onData=function(U,V){return this.documentStarted=!0,this.onDataCallback(U,V+1)},F.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},F.prototype.debugInfo=function(U){return U==null?"":"node: <"+U+">"},F.prototype.ele=function(){return this.element.apply(this,arguments)},F.prototype.nod=function(U,V,B){return this.node(U,V,B)},F.prototype.txt=function(U){return this.text(U)},F.prototype.dat=function(U){return this.cdata(U)},F.prototype.com=function(U){return this.comment(U)},F.prototype.ins=function(U,V){return this.instruction(U,V)},F.prototype.dec=function(U,V,B){return this.declaration(U,V,B)},F.prototype.dtd=function(U,V,B){return this.doctype(U,V,B)},F.prototype.e=function(U,V,B){return this.element(U,V,B)},F.prototype.n=function(U,V,B){return this.node(U,V,B)},F.prototype.t=function(U){return this.text(U)},F.prototype.d=function(U){return this.cdata(U)},F.prototype.c=function(U){return this.comment(U)},F.prototype.r=function(U){return this.raw(U)},F.prototype.i=function(U,V){return this.instruction(U,V)},F.prototype.att=function(){return this.currentNode&&this.currentNode instanceof h?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},F.prototype.a=function(){return this.currentNode&&this.currentNode instanceof h?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},F.prototype.ent=function(U,V){return this.entity(U,V)},F.prototype.pent=function(U,V){return this.pEntity(U,V)},F.prototype.not=function(U,V){return this.notation(U,V)},F}()}).call(Lt)),j4.exports}var R4={exports:{}},jq;function x2e(){return jq||(jq=1,(function(){var n,e,i,r,o,l,c,u,h,m,g,y,v,_,A=function(C,T){for(var N in T)S.call(T,N)&&(C[N]=T[N]);function I(){this.constructor=C}return I.prototype=T.prototype,C.prototype=new I,C.__super__=T.prototype,C},S={}.hasOwnProperty;c=F3(),u=V3(),n=M3(),e=O3(),m=R3(),y=W3(),v=$3(),g=q3(),h=YF(),i=U3(),r=B3(),o=L3(),l=z3(),_=mee(),R4.exports=function(C){A(T,C);function T(N,I){T.__super__.constructor.call(this,I),this.stream=N}return T.prototype.document=function(N){var I,O,F,U,V,B,Z,ae;for(B=N.children,O=0,U=B.length;O<U;O++)I=B[O],I.isLastRootNode=!1;for(N.children[N.children.length-1].isLastRootNode=!0,Z=N.children,ae=[],F=0,V=Z.length;F<V;F++)if(I=Z[F],!(I instanceof h))switch(!1){case!(I instanceof c):ae.push(this.declaration(I));break;case!(I instanceof u):ae.push(this.docType(I));break;case!(I instanceof e):ae.push(this.comment(I));break;case!(I instanceof g):ae.push(this.processingInstruction(I));break;default:ae.push(this.element(I))}return ae},T.prototype.attribute=function(N){return this.stream.write(" "+N.name+'="'+N.value+'"')},T.prototype.cdata=function(N,I){return this.stream.write(this.space(I)+"<![CDATA["+N.text+"]]>"+this.endline(N))},T.prototype.comment=function(N,I){return this.stream.write(this.space(I)+"<!-- "+N.text+" -->"+this.endline(N))},T.prototype.declaration=function(N,I){return this.stream.write(this.space(I)),this.stream.write('<?xml version="'+N.version+'"'),N.encoding!=null&&this.stream.write(' encoding="'+N.encoding+'"'),N.standalone!=null&&this.stream.write(' standalone="'+N.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(N))},T.prototype.docType=function(N,I){var O,F,U,V;if(I||(I=0),this.stream.write(this.space(I)),this.stream.write("<!DOCTYPE "+N.root().name),N.pubID&&N.sysID?this.stream.write(' PUBLIC "'+N.pubID+'" "'+N.sysID+'"'):N.sysID&&this.stream.write(' SYSTEM "'+N.sysID+'"'),N.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(N)),V=N.children,F=0,U=V.length;F<U;F++)switch(O=V[F],!1){case!(O instanceof i):this.dtdAttList(O,I+1);break;case!(O instanceof r):this.dtdElement(O,I+1);break;case!(O instanceof o):this.dtdEntity(O,I+1);break;case!(O instanceof l):this.dtdNotation(O,I+1);break;case!(O instanceof n):this.cdata(O,I+1);break;case!(O instanceof e):this.comment(O,I+1);break;case!(O instanceof g):this.processingInstruction(O,I+1);break;default:throw new Error("Unknown DTD node type: "+O.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(N))},T.prototype.element=function(N,I){var O,F,U,V,B,Z,ae,me;I||(I=0),me=this.space(I),this.stream.write(me+"<"+N.name),Z=N.attributes;for(B in Z)S.call(Z,B)&&(O=Z[B],this.attribute(O));if(N.children.length===0||N.children.every(function(Q){return Q.value===""}))this.allowEmpty?this.stream.write("></"+N.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&N.children.length===1&&N.children[0].value!=null)this.stream.write(">"),this.stream.write(N.children[0].value),this.stream.write("</"+N.name+">");else{for(this.stream.write(">"+this.newline),ae=N.children,U=0,V=ae.length;U<V;U++)switch(F=ae[U],!1){case!(F instanceof n):this.cdata(F,I+1);break;case!(F instanceof e):this.comment(F,I+1);break;case!(F instanceof m):this.element(F,I+1);break;case!(F instanceof y):this.raw(F,I+1);break;case!(F instanceof v):this.text(F,I+1);break;case!(F instanceof g):this.processingInstruction(F,I+1);break;case!(F instanceof h):break;default:throw new Error("Unknown XML node type: "+F.constructor.name)}this.stream.write(me+"</"+N.name+">")}return this.stream.write(this.endline(N))},T.prototype.processingInstruction=function(N,I){return this.stream.write(this.space(I)+"<?"+N.target),N.value&&this.stream.write(" "+N.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(N))},T.prototype.raw=function(N,I){return this.stream.write(this.space(I)+N.value+this.endline(N))},T.prototype.text=function(N,I){return this.stream.write(this.space(I)+N.value+this.endline(N))},T.prototype.dtdAttList=function(N,I){return this.stream.write(this.space(I)+"<!ATTLIST "+N.elementName+" "+N.attributeName+" "+N.attributeType),N.defaultValueType!=="#DEFAULT"&&this.stream.write(" "+N.defaultValueType),N.defaultValue&&this.stream.write(' "'+N.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(N))},T.prototype.dtdElement=function(N,I){return this.stream.write(this.space(I)+"<!ELEMENT "+N.name+" "+N.value),this.stream.write(this.spacebeforeslash+">"+this.endline(N))},T.prototype.dtdEntity=function(N,I){return this.stream.write(this.space(I)+"<!ENTITY"),N.pe&&this.stream.write(" %"),this.stream.write(" "+N.name),N.value?this.stream.write(' "'+N.value+'"'):(N.pubID&&N.sysID?this.stream.write(' PUBLIC "'+N.pubID+'" "'+N.sysID+'"'):N.sysID&&this.stream.write(' SYSTEM "'+N.sysID+'"'),N.nData&&this.stream.write(" NDATA "+N.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(N))},T.prototype.dtdNotation=function(N,I){return this.stream.write(this.space(I)+"<!NOTATION "+N.name),N.pubID&&N.sysID?this.stream.write(' PUBLIC "'+N.pubID+'" "'+N.sysID+'"'):N.pubID?this.stream.write(' PUBLIC "'+N.pubID+'"'):N.sysID&&this.stream.write(' SYSTEM "'+N.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(N))},T.prototype.endline=function(N){return N.isLastRootNode?"":this.newline},T}(_)}).call(Lt)),R4.exports}(function(){var n,e,i,r,o,l,c;c=Km(),o=c.assign,l=c.isFunction,n=v2e(),e=w2e(),r=JF(),i=x2e(),Ik.create=function(u,h,m,g){var y,v;if(u==null)throw new Error("Root element needs a name.");return g=o({},h,m,g),y=new n(g),v=y.element(u),g.headless||(y.declaration(g),(g.pubID!=null||g.sysID!=null)&&y.doctype(g)),v},Ik.begin=function(u,h,m){var g;return l(u)&&(g=[u,h],h=g[0],m=g[1],u={}),h?new e(u,h,m):new n(u)},Ik.stringWriter=function(u){return new r(u)},Ik.streamWriter=function(u,h){return new i(u,h)}}).call(Lt);var Rq=lr,_2e=Ik;hee.writeString=k2e;function k2e(n,e){var i=Rq.invert(e),r={element:l,text:E2e};function o(h,m){return r[m.type](h,m)}function l(h,m){var g=h.element(c(m.name),m.attributes);m.children.forEach(function(y){o(g,y)})}function c(h){var m=/^\{(.*)\}(.*)$/.exec(h);if(m){var g=i[m[1]];return g+(g===""?"":":")+m[2]}else return h}function u(h){var m=_2e.create(c(h.name),{version:"1.0",encoding:"UTF-8",standalone:!0});return Rq.forEach(e,function(g,y){var v="xmlns"+(y===""?"":":"+y);m.attribute(v,g)}),h.children.forEach(function(g){o(m,g)}),m.end()}return u(n)}function E2e(n,e){n.text(e.value)}var H3=Q1;yf.Element=H3.Element;yf.element=H3.element;yf.emptyElement=H3.emptyElement;yf.text=H3.text;yf.readString=jQ.readString;yf.writeString=hee.writeString;var S2e=lr,A2e=is,C2e=yf;LF.read=gee;LF.readXmlFromZipFile=D2e;var T2e={"http://schemas.openxmlformats.org/wordprocessingml/2006/main":"w","http://schemas.openxmlformats.org/officeDocument/2006/relationships":"r","http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing":"wp","http://schemas.openxmlformats.org/drawingml/2006/main":"a","http://schemas.openxmlformats.org/drawingml/2006/picture":"pic","http://purl.oclc.org/ooxml/wordprocessingml/main":"w","http://purl.oclc.org/ooxml/officeDocument/relationships":"r","http://purl.oclc.org/ooxml/drawingml/wordprocessingDrawing":"wp","http://purl.oclc.org/ooxml/drawingml/main":"a","http://purl.oclc.org/ooxml/drawingml/picture":"pic","http://schemas.openxmlformats.org/package/2006/content-types":"content-types","http://schemas.openxmlformats.org/package/2006/relationships":"relationships","http://schemas.openxmlformats.org/markup-compatibility/2006":"mc","urn:schemas-microsoft-com:vml":"v","urn:schemas-microsoft-com:office:word":"office-word","http://schemas.microsoft.com/office/word/2010/wordml":"wordml"};function gee(n){return C2e.readString(n,T2e).then(function(e){return bee(e)[0]})}function D2e(n,e){return n.exists(e)?n.read(e,"utf-8").then(N2e).then(gee):A2e.resolve(null)}function N2e(n){return n.replace(/^\uFEFF/g,"")}function bee(n){return n.type==="element"?n.name==="mc:AlternateContent"?n.firstOrEmpty("mc:Fallback").children:(n.children=S2e.flatten(n.children.map(bee,!0)),[n]):[n]}var QF={},Cm={},eU={};Object.defineProperty(eU,"__esModule",{value:!0});var P2e=[{"Typeface name":"Symbol","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Symbol","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"33","Unicode hex":"21"},{"Typeface name":"Symbol","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"8704","Unicode hex":"2200"},{"Typeface name":"Symbol","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"35","Unicode hex":"23"},{"Typeface name":"Symbol","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"8707","Unicode hex":"2203"},{"Typeface name":"Symbol","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"37","Unicode hex":"25"},{"Typeface name":"Symbol","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"38","Unicode hex":"26"},{"Typeface name":"Symbol","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"8717","Unicode hex":"220D"},{"Typeface name":"Symbol","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"40","Unicode hex":"28"},{"Typeface name":"Symbol","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"41","Unicode hex":"29"},{"Typeface name":"Symbol","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"42","Unicode hex":"2A"},{"Typeface name":"Symbol","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"43","Unicode hex":"2B"},{"Typeface name":"Symbol","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"44","Unicode hex":"2C"},{"Typeface name":"Symbol","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"8722","Unicode hex":"2212"},{"Typeface name":"Symbol","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"46","Unicode hex":"2E"},{"Typeface name":"Symbol","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"47","Unicode hex":"2F"},{"Typeface name":"Symbol","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"48","Unicode hex":"30"},{"Typeface name":"Symbol","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"49","Unicode hex":"31"},{"Typeface name":"Symbol","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"50","Unicode hex":"32"},{"Typeface name":"Symbol","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"51","Unicode hex":"33"},{"Typeface name":"Symbol","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"52","Unicode hex":"34"},{"Typeface name":"Symbol","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"53","Unicode hex":"35"},{"Typeface name":"Symbol","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"54","Unicode hex":"36"},{"Typeface name":"Symbol","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"55","Unicode hex":"37"},{"Typeface name":"Symbol","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"56","Unicode hex":"38"},{"Typeface name":"Symbol","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"57","Unicode hex":"39"},{"Typeface name":"Symbol","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"58","Unicode hex":"3A"},{"Typeface name":"Symbol","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"59","Unicode hex":"3B"},{"Typeface name":"Symbol","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"60","Unicode hex":"3C"},{"Typeface name":"Symbol","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"61","Unicode hex":"3D"},{"Typeface name":"Symbol","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"62","Unicode hex":"3E"},{"Typeface name":"Symbol","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"63","Unicode hex":"3F"},{"Typeface name":"Symbol","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"8773","Unicode hex":"2245"},{"Typeface name":"Symbol","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"913","Unicode hex":"391"},{"Typeface name":"Symbol","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"914","Unicode hex":"392"},{"Typeface name":"Symbol","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"935","Unicode hex":"3A7"},{"Typeface name":"Symbol","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"916","Unicode hex":"394"},{"Typeface name":"Symbol","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"917","Unicode hex":"395"},{"Typeface name":"Symbol","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"934","Unicode hex":"3A6"},{"Typeface name":"Symbol","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"915","Unicode hex":"393"},{"Typeface name":"Symbol","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"919","Unicode hex":"397"},{"Typeface name":"Symbol","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"921","Unicode hex":"399"},{"Typeface name":"Symbol","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"977","Unicode hex":"3D1"},{"Typeface name":"Symbol","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"922","Unicode hex":"39A"},{"Typeface name":"Symbol","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"923","Unicode hex":"39B"},{"Typeface name":"Symbol","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"924","Unicode hex":"39C"},{"Typeface name":"Symbol","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"925","Unicode hex":"39D"},{"Typeface name":"Symbol","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"927","Unicode hex":"39F"},{"Typeface name":"Symbol","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"928","Unicode hex":"3A0"},{"Typeface name":"Symbol","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"920","Unicode hex":"398"},{"Typeface name":"Symbol","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"929","Unicode hex":"3A1"},{"Typeface name":"Symbol","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"931","Unicode hex":"3A3"},{"Typeface name":"Symbol","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"932","Unicode hex":"3A4"},{"Typeface name":"Symbol","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"933","Unicode hex":"3A5"},{"Typeface name":"Symbol","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"962","Unicode hex":"3C2"},{"Typeface name":"Symbol","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"937","Unicode hex":"3A9"},{"Typeface name":"Symbol","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"926","Unicode hex":"39E"},{"Typeface name":"Symbol","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"936","Unicode hex":"3A8"},{"Typeface name":"Symbol","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"918","Unicode hex":"396"},{"Typeface name":"Symbol","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"91","Unicode hex":"5B"},{"Typeface name":"Symbol","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"8756","Unicode hex":"2234"},{"Typeface name":"Symbol","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"93","Unicode hex":"5D"},{"Typeface name":"Symbol","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"8869","Unicode hex":"22A5"},{"Typeface name":"Symbol","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"95","Unicode hex":"5F"},{"Typeface name":"Symbol","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"8254","Unicode hex":"203E"},{"Typeface name":"Symbol","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"945","Unicode hex":"3B1"},{"Typeface name":"Symbol","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"946","Unicode hex":"3B2"},{"Typeface name":"Symbol","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"967","Unicode hex":"3C7"},{"Typeface name":"Symbol","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"948","Unicode hex":"3B4"},{"Typeface name":"Symbol","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"949","Unicode hex":"3B5"},{"Typeface name":"Symbol","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"966","Unicode hex":"3C6"},{"Typeface name":"Symbol","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"947","Unicode hex":"3B3"},{"Typeface name":"Symbol","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"951","Unicode hex":"3B7"},{"Typeface name":"Symbol","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"953","Unicode hex":"3B9"},{"Typeface name":"Symbol","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"981","Unicode hex":"3D5"},{"Typeface name":"Symbol","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"954","Unicode hex":"3BA"},{"Typeface name":"Symbol","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"955","Unicode hex":"3BB"},{"Typeface name":"Symbol","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"956","Unicode hex":"3BC"},{"Typeface name":"Symbol","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"957","Unicode hex":"3BD"},{"Typeface name":"Symbol","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"959","Unicode hex":"3BF"},{"Typeface name":"Symbol","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"960","Unicode hex":"3C0"},{"Typeface name":"Symbol","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"952","Unicode hex":"3B8"},{"Typeface name":"Symbol","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"961","Unicode hex":"3C1"},{"Typeface name":"Symbol","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"963","Unicode hex":"3C3"},{"Typeface name":"Symbol","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"964","Unicode hex":"3C4"},{"Typeface name":"Symbol","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"965","Unicode hex":"3C5"},{"Typeface name":"Symbol","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"982","Unicode hex":"3D6"},{"Typeface name":"Symbol","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"969","Unicode hex":"3C9"},{"Typeface name":"Symbol","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"958","Unicode hex":"3BE"},{"Typeface name":"Symbol","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"968","Unicode hex":"3C8"},{"Typeface name":"Symbol","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"950","Unicode hex":"3B6"},{"Typeface name":"Symbol","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"123","Unicode hex":"7B"},{"Typeface name":"Symbol","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"124","Unicode hex":"7C"},{"Typeface name":"Symbol","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"125","Unicode hex":"7D"},{"Typeface name":"Symbol","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"126","Unicode hex":"7E"},{"Typeface name":"Symbol","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"8364","Unicode hex":"20AC"},{"Typeface name":"Symbol","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"978","Unicode hex":"3D2"},{"Typeface name":"Symbol","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"8242","Unicode hex":"2032"},{"Typeface name":"Symbol","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"8804","Unicode hex":"2264"},{"Typeface name":"Symbol","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"8260","Unicode hex":"2044"},{"Typeface name":"Symbol","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"8734","Unicode hex":"221E"},{"Typeface name":"Symbol","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"402","Unicode hex":"192"},{"Typeface name":"Symbol","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9827","Unicode hex":"2663"},{"Typeface name":"Symbol","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9830","Unicode hex":"2666"},{"Typeface name":"Symbol","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"9829","Unicode hex":"2665"},{"Typeface name":"Symbol","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"9824","Unicode hex":"2660"},{"Typeface name":"Symbol","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"8596","Unicode hex":"2194"},{"Typeface name":"Symbol","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"8592","Unicode hex":"2190"},{"Typeface name":"Symbol","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"8593","Unicode hex":"2191"},{"Typeface name":"Symbol","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"8594","Unicode hex":"2192"},{"Typeface name":"Symbol","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"8595","Unicode hex":"2193"},{"Typeface name":"Symbol","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"176","Unicode hex":"B0"},{"Typeface name":"Symbol","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"177","Unicode hex":"B1"},{"Typeface name":"Symbol","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"8243","Unicode hex":"2033"},{"Typeface name":"Symbol","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"8805","Unicode hex":"2265"},{"Typeface name":"Symbol","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"215","Unicode hex":"D7"},{"Typeface name":"Symbol","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"8733","Unicode hex":"221D"},{"Typeface name":"Symbol","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"8706","Unicode hex":"2202"},{"Typeface name":"Symbol","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Symbol","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"247","Unicode hex":"F7"},{"Typeface name":"Symbol","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"8800","Unicode hex":"2260"},{"Typeface name":"Symbol","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"8801","Unicode hex":"2261"},{"Typeface name":"Symbol","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"8776","Unicode hex":"2248"},{"Typeface name":"Symbol","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"8230","Unicode hex":"2026"},{"Typeface name":"Symbol","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Symbol","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"9135","Unicode hex":"23AF"},{"Typeface name":"Symbol","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"8629","Unicode hex":"21B5"},{"Typeface name":"Symbol","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"8501","Unicode hex":"2135"},{"Typeface name":"Symbol","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"8465","Unicode hex":"2111"},{"Typeface name":"Symbol","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"8476","Unicode hex":"211C"},{"Typeface name":"Symbol","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"8472","Unicode hex":"2118"},{"Typeface name":"Symbol","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"8855","Unicode hex":"2297"},{"Typeface name":"Symbol","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"8853","Unicode hex":"2295"},{"Typeface name":"Symbol","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"8709","Unicode hex":"2205"},{"Typeface name":"Symbol","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"8745","Unicode hex":"2229"},{"Typeface name":"Symbol","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"8746","Unicode hex":"222A"},{"Typeface name":"Symbol","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"8835","Unicode hex":"2283"},{"Typeface name":"Symbol","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"8839","Unicode hex":"2287"},{"Typeface name":"Symbol","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"8836","Unicode hex":"2284"},{"Typeface name":"Symbol","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"8834","Unicode hex":"2282"},{"Typeface name":"Symbol","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"8838","Unicode hex":"2286"},{"Typeface name":"Symbol","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"8712","Unicode hex":"2208"},{"Typeface name":"Symbol","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"8713","Unicode hex":"2209"},{"Typeface name":"Symbol","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"8736","Unicode hex":"2220"},{"Typeface name":"Symbol","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"8711","Unicode hex":"2207"},{"Typeface name":"Symbol","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"8719","Unicode hex":"220F"},{"Typeface name":"Symbol","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8730","Unicode hex":"221A"},{"Typeface name":"Symbol","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Symbol","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"172","Unicode hex":"AC"},{"Typeface name":"Symbol","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"8743","Unicode hex":"2227"},{"Typeface name":"Symbol","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"8744","Unicode hex":"2228"},{"Typeface name":"Symbol","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"8660","Unicode hex":"21D4"},{"Typeface name":"Symbol","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"8656","Unicode hex":"21D0"},{"Typeface name":"Symbol","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"8657","Unicode hex":"21D1"},{"Typeface name":"Symbol","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"8658","Unicode hex":"21D2"},{"Typeface name":"Symbol","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"8659","Unicode hex":"21D3"},{"Typeface name":"Symbol","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Symbol","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"12296","Unicode hex":"3008"},{"Typeface name":"Symbol","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"8721","Unicode hex":"2211"},{"Typeface name":"Symbol","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"9115","Unicode hex":"239B"},{"Typeface name":"Symbol","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"9116","Unicode hex":"239C"},{"Typeface name":"Symbol","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9117","Unicode hex":"239D"},{"Typeface name":"Symbol","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9121","Unicode hex":"23A1"},{"Typeface name":"Symbol","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"9122","Unicode hex":"23A2"},{"Typeface name":"Symbol","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"9123","Unicode hex":"23A3"},{"Typeface name":"Symbol","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"9127","Unicode hex":"23A7"},{"Typeface name":"Symbol","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"9128","Unicode hex":"23A8"},{"Typeface name":"Symbol","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"9129","Unicode hex":"23A9"},{"Typeface name":"Symbol","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"9130","Unicode hex":"23AA"},{"Typeface name":"Symbol","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"63743","Unicode hex":"F8FF"},{"Typeface name":"Symbol","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"12297","Unicode hex":"3009"},{"Typeface name":"Symbol","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8747","Unicode hex":"222B"},{"Typeface name":"Symbol","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"8992","Unicode hex":"2320"},{"Typeface name":"Symbol","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"9134","Unicode hex":"23AE"},{"Typeface name":"Symbol","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"8993","Unicode hex":"2321"},{"Typeface name":"Symbol","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"9118","Unicode hex":"239E"},{"Typeface name":"Symbol","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"9119","Unicode hex":"239F"},{"Typeface name":"Symbol","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"9120","Unicode hex":"23A0"},{"Typeface name":"Symbol","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"9124","Unicode hex":"23A4"},{"Typeface name":"Symbol","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"9125","Unicode hex":"23A5"},{"Typeface name":"Symbol","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"9126","Unicode hex":"23A6"},{"Typeface name":"Symbol","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"9131","Unicode hex":"23AB"},{"Typeface name":"Symbol","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"9132","Unicode hex":"23AC"},{"Typeface name":"Symbol","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"9133","Unicode hex":"23AD"},{"Typeface name":"Webdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Webdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128375","Unicode hex":"1F577"},{"Typeface name":"Webdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128376","Unicode hex":"1F578"},{"Typeface name":"Webdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128370","Unicode hex":"1F572"},{"Typeface name":"Webdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128374","Unicode hex":"1F576"},{"Typeface name":"Webdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"127942","Unicode hex":"1F3C6"},{"Typeface name":"Webdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"127894","Unicode hex":"1F396"},{"Typeface name":"Webdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128391","Unicode hex":"1F587"},{"Typeface name":"Webdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128488","Unicode hex":"1F5E8"},{"Typeface name":"Webdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128489","Unicode hex":"1F5E9"},{"Typeface name":"Webdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128496","Unicode hex":"1F5F0"},{"Typeface name":"Webdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128497","Unicode hex":"1F5F1"},{"Typeface name":"Webdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"127798","Unicode hex":"1F336"},{"Typeface name":"Webdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"127895","Unicode hex":"1F397"},{"Typeface name":"Webdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128638","Unicode hex":"1F67E"},{"Typeface name":"Webdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128636","Unicode hex":"1F67C"},{"Typeface name":"Webdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128469","Unicode hex":"1F5D5"},{"Typeface name":"Webdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128470","Unicode hex":"1F5D6"},{"Typeface name":"Webdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128471","Unicode hex":"1F5D7"},{"Typeface name":"Webdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"9204","Unicode hex":"23F4"},{"Typeface name":"Webdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"9205","Unicode hex":"23F5"},{"Typeface name":"Webdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"9206","Unicode hex":"23F6"},{"Typeface name":"Webdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"9207","Unicode hex":"23F7"},{"Typeface name":"Webdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"9194","Unicode hex":"23EA"},{"Typeface name":"Webdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"9193","Unicode hex":"23E9"},{"Typeface name":"Webdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"9198","Unicode hex":"23EE"},{"Typeface name":"Webdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"9197","Unicode hex":"23ED"},{"Typeface name":"Webdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"9208","Unicode hex":"23F8"},{"Typeface name":"Webdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"9209","Unicode hex":"23F9"},{"Typeface name":"Webdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"9210","Unicode hex":"23FA"},{"Typeface name":"Webdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128474","Unicode hex":"1F5DA"},{"Typeface name":"Webdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128499","Unicode hex":"1F5F3"},{"Typeface name":"Webdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128736","Unicode hex":"1F6E0"},{"Typeface name":"Webdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"127959","Unicode hex":"1F3D7"},{"Typeface name":"Webdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"127960","Unicode hex":"1F3D8"},{"Typeface name":"Webdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"127961","Unicode hex":"1F3D9"},{"Typeface name":"Webdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"127962","Unicode hex":"1F3DA"},{"Typeface name":"Webdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"127964","Unicode hex":"1F3DC"},{"Typeface name":"Webdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"127981","Unicode hex":"1F3ED"},{"Typeface name":"Webdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"127963","Unicode hex":"1F3DB"},{"Typeface name":"Webdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"127968","Unicode hex":"1F3E0"},{"Typeface name":"Webdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"127958","Unicode hex":"1F3D6"},{"Typeface name":"Webdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"127965","Unicode hex":"1F3DD"},{"Typeface name":"Webdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128739","Unicode hex":"1F6E3"},{"Typeface name":"Webdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128269","Unicode hex":"1F50D"},{"Typeface name":"Webdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"127956","Unicode hex":"1F3D4"},{"Typeface name":"Webdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128065","Unicode hex":"1F441"},{"Typeface name":"Webdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128066","Unicode hex":"1F442"},{"Typeface name":"Webdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127966","Unicode hex":"1F3DE"},{"Typeface name":"Webdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"127957","Unicode hex":"1F3D5"},{"Typeface name":"Webdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"128740","Unicode hex":"1F6E4"},{"Typeface name":"Webdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127967","Unicode hex":"1F3DF"},{"Typeface name":"Webdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"128755","Unicode hex":"1F6F3"},{"Typeface name":"Webdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128364","Unicode hex":"1F56C"},{"Typeface name":"Webdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"128363","Unicode hex":"1F56B"},{"Typeface name":"Webdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128360","Unicode hex":"1F568"},{"Typeface name":"Webdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"128264","Unicode hex":"1F508"},{"Typeface name":"Webdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"127892","Unicode hex":"1F394"},{"Typeface name":"Webdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"127893","Unicode hex":"1F395"},{"Typeface name":"Webdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128492","Unicode hex":"1F5EC"},{"Typeface name":"Webdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128637","Unicode hex":"1F67D"},{"Typeface name":"Webdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"128493","Unicode hex":"1F5ED"},{"Typeface name":"Webdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128490","Unicode hex":"1F5EA"},{"Typeface name":"Webdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128491","Unicode hex":"1F5EB"},{"Typeface name":"Webdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"11156","Unicode hex":"2B94"},{"Typeface name":"Webdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"10004","Unicode hex":"2714"},{"Typeface name":"Webdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128690","Unicode hex":"1F6B2"},{"Typeface name":"Webdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"11036","Unicode hex":"2B1C"},{"Typeface name":"Webdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128737","Unicode hex":"1F6E1"},{"Typeface name":"Webdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128230","Unicode hex":"1F4E6"},{"Typeface name":"Webdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128753","Unicode hex":"1F6F1"},{"Typeface name":"Webdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"11035","Unicode hex":"2B1B"},{"Typeface name":"Webdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128657","Unicode hex":"1F691"},{"Typeface name":"Webdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"128712","Unicode hex":"1F6C8"},{"Typeface name":"Webdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128745","Unicode hex":"1F6E9"},{"Typeface name":"Webdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128752","Unicode hex":"1F6F0"},{"Typeface name":"Webdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"128968","Unicode hex":"1F7C8"},{"Typeface name":"Webdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128372","Unicode hex":"1F574"},{"Typeface name":"Webdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"11044","Unicode hex":"2B24"},{"Typeface name":"Webdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128741","Unicode hex":"1F6E5"},{"Typeface name":"Webdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128660","Unicode hex":"1F694"},{"Typeface name":"Webdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"128472","Unicode hex":"1F5D8"},{"Typeface name":"Webdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"128473","Unicode hex":"1F5D9"},{"Typeface name":"Webdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"10067","Unicode hex":"2753"},{"Typeface name":"Webdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"128754","Unicode hex":"1F6F2"},{"Typeface name":"Webdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"128647","Unicode hex":"1F687"},{"Typeface name":"Webdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"128653","Unicode hex":"1F68D"},{"Typeface name":"Webdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9971","Unicode hex":"26F3"},{"Typeface name":"Webdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Webdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"8854","Unicode hex":"2296"},{"Typeface name":"Webdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"128685","Unicode hex":"1F6AD"},{"Typeface name":"Webdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"128494","Unicode hex":"1F5EE"},{"Typeface name":"Webdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Webdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128495","Unicode hex":"1F5EF"},{"Typeface name":"Webdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128498","Unicode hex":"1F5F2"},{"Typeface name":"Webdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128697","Unicode hex":"1F6B9"},{"Typeface name":"Webdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"128698","Unicode hex":"1F6BA"},{"Typeface name":"Webdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"128713","Unicode hex":"1F6C9"},{"Typeface name":"Webdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"128714","Unicode hex":"1F6CA"},{"Typeface name":"Webdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"128700","Unicode hex":"1F6BC"},{"Typeface name":"Webdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"128125","Unicode hex":"1F47D"},{"Typeface name":"Webdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"127947","Unicode hex":"1F3CB"},{"Typeface name":"Webdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"9975","Unicode hex":"26F7"},{"Typeface name":"Webdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"127938","Unicode hex":"1F3C2"},{"Typeface name":"Webdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"127948","Unicode hex":"1F3CC"},{"Typeface name":"Webdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"127946","Unicode hex":"1F3CA"},{"Typeface name":"Webdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127940","Unicode hex":"1F3C4"},{"Typeface name":"Webdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"127949","Unicode hex":"1F3CD"},{"Typeface name":"Webdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"127950","Unicode hex":"1F3CE"},{"Typeface name":"Webdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128664","Unicode hex":"1F698"},{"Typeface name":"Webdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128480","Unicode hex":"1F5E0"},{"Typeface name":"Webdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128738","Unicode hex":"1F6E2"},{"Typeface name":"Webdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128176","Unicode hex":"1F4B0"},{"Typeface name":"Webdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"127991","Unicode hex":"1F3F7"},{"Typeface name":"Webdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128179","Unicode hex":"1F4B3"},{"Typeface name":"Webdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128106","Unicode hex":"1F46A"},{"Typeface name":"Webdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"128481","Unicode hex":"1F5E1"},{"Typeface name":"Webdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128482","Unicode hex":"1F5E2"},{"Typeface name":"Webdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128483","Unicode hex":"1F5E3"},{"Typeface name":"Webdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Webdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128388","Unicode hex":"1F584"},{"Typeface name":"Webdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128389","Unicode hex":"1F585"},{"Typeface name":"Webdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Webdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128390","Unicode hex":"1F586"},{"Typeface name":"Webdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128441","Unicode hex":"1F5B9"},{"Typeface name":"Webdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"128442","Unicode hex":"1F5BA"},{"Typeface name":"Webdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128443","Unicode hex":"1F5BB"},{"Typeface name":"Webdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128373","Unicode hex":"1F575"},{"Typeface name":"Webdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"128368","Unicode hex":"1F570"},{"Typeface name":"Webdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128445","Unicode hex":"1F5BD"},{"Typeface name":"Webdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128446","Unicode hex":"1F5BE"},{"Typeface name":"Webdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Webdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128466","Unicode hex":"1F5D2"},{"Typeface name":"Webdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128467","Unicode hex":"1F5D3"},{"Typeface name":"Webdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Webdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128218","Unicode hex":"1F4DA"},{"Typeface name":"Webdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128478","Unicode hex":"1F5DE"},{"Typeface name":"Webdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128479","Unicode hex":"1F5DF"},{"Typeface name":"Webdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128451","Unicode hex":"1F5C3"},{"Typeface name":"Webdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128450","Unicode hex":"1F5C2"},{"Typeface name":"Webdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128444","Unicode hex":"1F5BC"},{"Typeface name":"Webdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"127917","Unicode hex":"1F3AD"},{"Typeface name":"Webdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"127900","Unicode hex":"1F39C"},{"Typeface name":"Webdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"127896","Unicode hex":"1F398"},{"Typeface name":"Webdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"127897","Unicode hex":"1F399"},{"Typeface name":"Webdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"127911","Unicode hex":"1F3A7"},{"Typeface name":"Webdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128191","Unicode hex":"1F4BF"},{"Typeface name":"Webdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"127902","Unicode hex":"1F39E"},{"Typeface name":"Webdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128247","Unicode hex":"1F4F7"},{"Typeface name":"Webdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"127903","Unicode hex":"1F39F"},{"Typeface name":"Webdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"127916","Unicode hex":"1F3AC"},{"Typeface name":"Webdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128253","Unicode hex":"1F4FD"},{"Typeface name":"Webdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128249","Unicode hex":"1F4F9"},{"Typeface name":"Webdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128254","Unicode hex":"1F4FE"},{"Typeface name":"Webdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128251","Unicode hex":"1F4FB"},{"Typeface name":"Webdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"127898","Unicode hex":"1F39A"},{"Typeface name":"Webdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"127899","Unicode hex":"1F39B"},{"Typeface name":"Webdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128250","Unicode hex":"1F4FA"},{"Typeface name":"Webdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128187","Unicode hex":"1F4BB"},{"Typeface name":"Webdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128421","Unicode hex":"1F5A5"},{"Typeface name":"Webdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128422","Unicode hex":"1F5A6"},{"Typeface name":"Webdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128423","Unicode hex":"1F5A7"},{"Typeface name":"Webdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"128377","Unicode hex":"1F579"},{"Typeface name":"Webdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"127918","Unicode hex":"1F3AE"},{"Typeface name":"Webdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"128379","Unicode hex":"1F57B"},{"Typeface name":"Webdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128380","Unicode hex":"1F57C"},{"Typeface name":"Webdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128223","Unicode hex":"1F4DF"},{"Typeface name":"Webdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128385","Unicode hex":"1F581"},{"Typeface name":"Webdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128384","Unicode hex":"1F580"},{"Typeface name":"Webdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128424","Unicode hex":"1F5A8"},{"Typeface name":"Webdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128425","Unicode hex":"1F5A9"},{"Typeface name":"Webdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128447","Unicode hex":"1F5BF"},{"Typeface name":"Webdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128426","Unicode hex":"1F5AA"},{"Typeface name":"Webdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128476","Unicode hex":"1F5DC"},{"Typeface name":"Webdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128274","Unicode hex":"1F512"},{"Typeface name":"Webdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128275","Unicode hex":"1F513"},{"Typeface name":"Webdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128477","Unicode hex":"1F5DD"},{"Typeface name":"Webdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128229","Unicode hex":"1F4E5"},{"Typeface name":"Webdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128228","Unicode hex":"1F4E4"},{"Typeface name":"Webdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128371","Unicode hex":"1F573"},{"Typeface name":"Webdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"127779","Unicode hex":"1F323"},{"Typeface name":"Webdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"127780","Unicode hex":"1F324"},{"Typeface name":"Webdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"127781","Unicode hex":"1F325"},{"Typeface name":"Webdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"127782","Unicode hex":"1F326"},{"Typeface name":"Webdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"9729","Unicode hex":"2601"},{"Typeface name":"Webdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"127784","Unicode hex":"1F328"},{"Typeface name":"Webdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"127783","Unicode hex":"1F327"},{"Typeface name":"Webdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"127785","Unicode hex":"1F329"},{"Typeface name":"Webdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"127786","Unicode hex":"1F32A"},{"Typeface name":"Webdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"127788","Unicode hex":"1F32C"},{"Typeface name":"Webdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"127787","Unicode hex":"1F32B"},{"Typeface name":"Webdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"127772","Unicode hex":"1F31C"},{"Typeface name":"Webdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"127777","Unicode hex":"1F321"},{"Typeface name":"Webdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128715","Unicode hex":"1F6CB"},{"Typeface name":"Webdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128719","Unicode hex":"1F6CF"},{"Typeface name":"Webdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"127869","Unicode hex":"1F37D"},{"Typeface name":"Webdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"127864","Unicode hex":"1F378"},{"Typeface name":"Webdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128718","Unicode hex":"1F6CE"},{"Typeface name":"Webdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128717","Unicode hex":"1F6CD"},{"Typeface name":"Webdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9413","Unicode hex":"24C5"},{"Typeface name":"Webdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9855","Unicode hex":"267F"},{"Typeface name":"Webdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128710","Unicode hex":"1F6C6"},{"Typeface name":"Webdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"128392","Unicode hex":"1F588"},{"Typeface name":"Webdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"127891","Unicode hex":"1F393"},{"Typeface name":"Webdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128484","Unicode hex":"1F5E4"},{"Typeface name":"Webdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128485","Unicode hex":"1F5E5"},{"Typeface name":"Webdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128486","Unicode hex":"1F5E6"},{"Typeface name":"Webdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"128487","Unicode hex":"1F5E7"},{"Typeface name":"Webdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128746","Unicode hex":"1F6EA"},{"Typeface name":"Webdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128063","Unicode hex":"1F43F"},{"Typeface name":"Webdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"128038","Unicode hex":"1F426"},{"Typeface name":"Webdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128031","Unicode hex":"1F41F"},{"Typeface name":"Webdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128021","Unicode hex":"1F415"},{"Typeface name":"Webdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"128008","Unicode hex":"1F408"},{"Typeface name":"Webdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"128620","Unicode hex":"1F66C"},{"Typeface name":"Webdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"128622","Unicode hex":"1F66E"},{"Typeface name":"Webdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"128621","Unicode hex":"1F66D"},{"Typeface name":"Webdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"128623","Unicode hex":"1F66F"},{"Typeface name":"Webdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128506","Unicode hex":"1F5FA"},{"Typeface name":"Webdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"127757","Unicode hex":"1F30D"},{"Typeface name":"Webdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"127759","Unicode hex":"1F30F"},{"Typeface name":"Webdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"127758","Unicode hex":"1F30E"},{"Typeface name":"Webdings","Dingbat dec":"255","Dingbat hex":"FF","Unicode dec":"128330","Unicode hex":"1F54A"},{"Typeface name":"Wingdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128393","Unicode hex":"1F589"},{"Typeface name":"Wingdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"9986","Unicode hex":"2702"},{"Typeface name":"Wingdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"9985","Unicode hex":"2701"},{"Typeface name":"Wingdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128083","Unicode hex":"1F453"},{"Typeface name":"Wingdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"128365","Unicode hex":"1F56D"},{"Typeface name":"Wingdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Wingdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128367","Unicode hex":"1F56F"},{"Typeface name":"Wingdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128383","Unicode hex":"1F57F"},{"Typeface name":"Wingdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"9990","Unicode hex":"2706"},{"Typeface name":"Wingdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128386","Unicode hex":"1F582"},{"Typeface name":"Wingdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Wingdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128234","Unicode hex":"1F4EA"},{"Typeface name":"Wingdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128235","Unicode hex":"1F4EB"},{"Typeface name":"Wingdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128236","Unicode hex":"1F4EC"},{"Typeface name":"Wingdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128237","Unicode hex":"1F4ED"},{"Typeface name":"Wingdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128448","Unicode hex":"1F5C0"},{"Typeface name":"Wingdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128449","Unicode hex":"1F5C1"},{"Typeface name":"Wingdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128462","Unicode hex":"1F5CE"},{"Typeface name":"Wingdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128463","Unicode hex":"1F5CF"},{"Typeface name":"Wingdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128464","Unicode hex":"1F5D0"},{"Typeface name":"Wingdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128452","Unicode hex":"1F5C4"},{"Typeface name":"Wingdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"8987","Unicode hex":"231B"},{"Typeface name":"Wingdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128430","Unicode hex":"1F5AE"},{"Typeface name":"Wingdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128432","Unicode hex":"1F5B0"},{"Typeface name":"Wingdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128434","Unicode hex":"1F5B2"},{"Typeface name":"Wingdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128435","Unicode hex":"1F5B3"},{"Typeface name":"Wingdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128436","Unicode hex":"1F5B4"},{"Typeface name":"Wingdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128427","Unicode hex":"1F5AB"},{"Typeface name":"Wingdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128428","Unicode hex":"1F5AC"},{"Typeface name":"Wingdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"9991","Unicode hex":"2707"},{"Typeface name":"Wingdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"9997","Unicode hex":"270D"},{"Typeface name":"Wingdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128398","Unicode hex":"1F58E"},{"Typeface name":"Wingdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"9996","Unicode hex":"270C"},{"Typeface name":"Wingdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128399","Unicode hex":"1F58F"},{"Typeface name":"Wingdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128077","Unicode hex":"1F44D"},{"Typeface name":"Wingdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128078","Unicode hex":"1F44E"},{"Typeface name":"Wingdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"9756","Unicode hex":"261C"},{"Typeface name":"Wingdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"9758","Unicode hex":"261E"},{"Typeface name":"Wingdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"9757","Unicode hex":"261D"},{"Typeface name":"Wingdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"9759","Unicode hex":"261F"},{"Typeface name":"Wingdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128400","Unicode hex":"1F590"},{"Typeface name":"Wingdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"9786","Unicode hex":"263A"},{"Typeface name":"Wingdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128528","Unicode hex":"1F610"},{"Typeface name":"Wingdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"9785","Unicode hex":"2639"},{"Typeface name":"Wingdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128163","Unicode hex":"1F4A3"},{"Typeface name":"Wingdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128369","Unicode hex":"1F571"},{"Typeface name":"Wingdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"127987","Unicode hex":"1F3F3"},{"Typeface name":"Wingdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127985","Unicode hex":"1F3F1"},{"Typeface name":"Wingdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"9992","Unicode hex":"2708"},{"Typeface name":"Wingdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9788","Unicode hex":"263C"},{"Typeface name":"Wingdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127778","Unicode hex":"1F322"},{"Typeface name":"Wingdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"10052","Unicode hex":"2744"},{"Typeface name":"Wingdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128326","Unicode hex":"1F546"},{"Typeface name":"Wingdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"10014","Unicode hex":"271E"},{"Typeface name":"Wingdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128328","Unicode hex":"1F548"},{"Typeface name":"Wingdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10016","Unicode hex":"2720"},{"Typeface name":"Wingdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"10017","Unicode hex":"2721"},{"Typeface name":"Wingdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"9770","Unicode hex":"262A"},{"Typeface name":"Wingdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"9775","Unicode hex":"262F"},{"Typeface name":"Wingdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128329","Unicode hex":"1F549"},{"Typeface name":"Wingdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"9784","Unicode hex":"2638"},{"Typeface name":"Wingdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"9800","Unicode hex":"2648"},{"Typeface name":"Wingdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"9801","Unicode hex":"2649"},{"Typeface name":"Wingdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"9802","Unicode hex":"264A"},{"Typeface name":"Wingdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"9803","Unicode hex":"264B"},{"Typeface name":"Wingdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"9804","Unicode hex":"264C"},{"Typeface name":"Wingdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"9805","Unicode hex":"264D"},{"Typeface name":"Wingdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"9806","Unicode hex":"264E"},{"Typeface name":"Wingdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"9807","Unicode hex":"264F"},{"Typeface name":"Wingdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"9808","Unicode hex":"2650"},{"Typeface name":"Wingdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"9809","Unicode hex":"2651"},{"Typeface name":"Wingdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"9810","Unicode hex":"2652"},{"Typeface name":"Wingdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9811","Unicode hex":"2653"},{"Typeface name":"Wingdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128624","Unicode hex":"1F670"},{"Typeface name":"Wingdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128629","Unicode hex":"1F675"},{"Typeface name":"Wingdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9899","Unicode hex":"26AB"},{"Typeface name":"Wingdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128318","Unicode hex":"1F53E"},{"Typeface name":"Wingdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9724","Unicode hex":"25FC"},{"Typeface name":"Wingdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128911","Unicode hex":"1F78F"},{"Typeface name":"Wingdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128912","Unicode hex":"1F790"},{"Typeface name":"Wingdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"10065","Unicode hex":"2751"},{"Typeface name":"Wingdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"10066","Unicode hex":"2752"},{"Typeface name":"Wingdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"128927","Unicode hex":"1F79F"},{"Typeface name":"Wingdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"10731","Unicode hex":"29EB"},{"Typeface name":"Wingdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9670","Unicode hex":"25C6"},{"Typeface name":"Wingdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10070","Unicode hex":"2756"},{"Typeface name":"Wingdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"8999","Unicode hex":"2327"},{"Typeface name":"Wingdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"11193","Unicode hex":"2BB9"},{"Typeface name":"Wingdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"8984","Unicode hex":"2318"},{"Typeface name":"Wingdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"127989","Unicode hex":"1F3F5"},{"Typeface name":"Wingdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"127990","Unicode hex":"1F3F6"},{"Typeface name":"Wingdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128630","Unicode hex":"1F676"},{"Typeface name":"Wingdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128631","Unicode hex":"1F677"},{"Typeface name":"Wingdings","Dingbat dec":"127","Dingbat hex":"7F","Unicode dec":"9647","Unicode hex":"25AF"},{"Typeface name":"Wingdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"127243","Unicode hex":"1F10B"},{"Typeface name":"Wingdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"10112","Unicode hex":"2780"},{"Typeface name":"Wingdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"10113","Unicode hex":"2781"},{"Typeface name":"Wingdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"10114","Unicode hex":"2782"},{"Typeface name":"Wingdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"10115","Unicode hex":"2783"},{"Typeface name":"Wingdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10116","Unicode hex":"2784"},{"Typeface name":"Wingdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"10117","Unicode hex":"2785"},{"Typeface name":"Wingdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"10118","Unicode hex":"2786"},{"Typeface name":"Wingdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"10119","Unicode hex":"2787"},{"Typeface name":"Wingdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"10120","Unicode hex":"2788"},{"Typeface name":"Wingdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"10121","Unicode hex":"2789"},{"Typeface name":"Wingdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127244","Unicode hex":"1F10C"},{"Typeface name":"Wingdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"10122","Unicode hex":"278A"},{"Typeface name":"Wingdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"10123","Unicode hex":"278B"},{"Typeface name":"Wingdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"10124","Unicode hex":"278C"},{"Typeface name":"Wingdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"10125","Unicode hex":"278D"},{"Typeface name":"Wingdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"10126","Unicode hex":"278E"},{"Typeface name":"Wingdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"10127","Unicode hex":"278F"},{"Typeface name":"Wingdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"10128","Unicode hex":"2790"},{"Typeface name":"Wingdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"10129","Unicode hex":"2791"},{"Typeface name":"Wingdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"10130","Unicode hex":"2792"},{"Typeface name":"Wingdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"10131","Unicode hex":"2793"},{"Typeface name":"Wingdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128610","Unicode hex":"1F662"},{"Typeface name":"Wingdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128608","Unicode hex":"1F660"},{"Typeface name":"Wingdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"128609","Unicode hex":"1F661"},{"Typeface name":"Wingdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128611","Unicode hex":"1F663"},{"Typeface name":"Wingdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128606","Unicode hex":"1F65E"},{"Typeface name":"Wingdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128604","Unicode hex":"1F65C"},{"Typeface name":"Wingdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128605","Unicode hex":"1F65D"},{"Typeface name":"Wingdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128607","Unicode hex":"1F65F"},{"Typeface name":"Wingdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"8729","Unicode hex":"2219"},{"Typeface name":"Wingdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Wingdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"11037","Unicode hex":"2B1D"},{"Typeface name":"Wingdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"11096","Unicode hex":"2B58"},{"Typeface name":"Wingdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128902","Unicode hex":"1F786"},{"Typeface name":"Wingdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128904","Unicode hex":"1F788"},{"Typeface name":"Wingdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128906","Unicode hex":"1F78A"},{"Typeface name":"Wingdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128907","Unicode hex":"1F78B"},{"Typeface name":"Wingdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128319","Unicode hex":"1F53F"},{"Typeface name":"Wingdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9642","Unicode hex":"25AA"},{"Typeface name":"Wingdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128910","Unicode hex":"1F78E"},{"Typeface name":"Wingdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128961","Unicode hex":"1F7C1"},{"Typeface name":"Wingdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128965","Unicode hex":"1F7C5"},{"Typeface name":"Wingdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"9733","Unicode hex":"2605"},{"Typeface name":"Wingdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128971","Unicode hex":"1F7CB"},{"Typeface name":"Wingdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128975","Unicode hex":"1F7CF"},{"Typeface name":"Wingdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"128979","Unicode hex":"1F7D3"},{"Typeface name":"Wingdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"128977","Unicode hex":"1F7D1"},{"Typeface name":"Wingdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"11216","Unicode hex":"2BD0"},{"Typeface name":"Wingdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"8982","Unicode hex":"2316"},{"Typeface name":"Wingdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"11214","Unicode hex":"2BCE"},{"Typeface name":"Wingdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"11215","Unicode hex":"2BCF"},{"Typeface name":"Wingdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"11217","Unicode hex":"2BD1"},{"Typeface name":"Wingdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"10026","Unicode hex":"272A"},{"Typeface name":"Wingdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"10032","Unicode hex":"2730"},{"Typeface name":"Wingdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"128336","Unicode hex":"1F550"},{"Typeface name":"Wingdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128337","Unicode hex":"1F551"},{"Typeface name":"Wingdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128338","Unicode hex":"1F552"},{"Typeface name":"Wingdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128339","Unicode hex":"1F553"},{"Typeface name":"Wingdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128340","Unicode hex":"1F554"},{"Typeface name":"Wingdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"128341","Unicode hex":"1F555"},{"Typeface name":"Wingdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"128342","Unicode hex":"1F556"},{"Typeface name":"Wingdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128343","Unicode hex":"1F557"},{"Typeface name":"Wingdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128344","Unicode hex":"1F558"},{"Typeface name":"Wingdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128345","Unicode hex":"1F559"},{"Typeface name":"Wingdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128346","Unicode hex":"1F55A"},{"Typeface name":"Wingdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128347","Unicode hex":"1F55B"},{"Typeface name":"Wingdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11184","Unicode hex":"2BB0"},{"Typeface name":"Wingdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11185","Unicode hex":"2BB1"},{"Typeface name":"Wingdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11186","Unicode hex":"2BB2"},{"Typeface name":"Wingdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"11187","Unicode hex":"2BB3"},{"Typeface name":"Wingdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"11188","Unicode hex":"2BB4"},{"Typeface name":"Wingdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"11189","Unicode hex":"2BB5"},{"Typeface name":"Wingdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11190","Unicode hex":"2BB6"},{"Typeface name":"Wingdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11191","Unicode hex":"2BB7"},{"Typeface name":"Wingdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128618","Unicode hex":"1F66A"},{"Typeface name":"Wingdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128619","Unicode hex":"1F66B"},{"Typeface name":"Wingdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128597","Unicode hex":"1F655"},{"Typeface name":"Wingdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128596","Unicode hex":"1F654"},{"Typeface name":"Wingdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128599","Unicode hex":"1F657"},{"Typeface name":"Wingdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128598","Unicode hex":"1F656"},{"Typeface name":"Wingdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128592","Unicode hex":"1F650"},{"Typeface name":"Wingdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128593","Unicode hex":"1F651"},{"Typeface name":"Wingdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128594","Unicode hex":"1F652"},{"Typeface name":"Wingdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128595","Unicode hex":"1F653"},{"Typeface name":"Wingdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"9003","Unicode hex":"232B"},{"Typeface name":"Wingdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8998","Unicode hex":"2326"},{"Typeface name":"Wingdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"11160","Unicode hex":"2B98"},{"Typeface name":"Wingdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"11162","Unicode hex":"2B9A"},{"Typeface name":"Wingdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"11161","Unicode hex":"2B99"},{"Typeface name":"Wingdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"11163","Unicode hex":"2B9B"},{"Typeface name":"Wingdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"11144","Unicode hex":"2B88"},{"Typeface name":"Wingdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"11146","Unicode hex":"2B8A"},{"Typeface name":"Wingdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"11145","Unicode hex":"2B89"},{"Typeface name":"Wingdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"11147","Unicode hex":"2B8B"},{"Typeface name":"Wingdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129128","Unicode hex":"1F868"},{"Typeface name":"Wingdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129130","Unicode hex":"1F86A"},{"Typeface name":"Wingdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129129","Unicode hex":"1F869"},{"Typeface name":"Wingdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129131","Unicode hex":"1F86B"},{"Typeface name":"Wingdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129132","Unicode hex":"1F86C"},{"Typeface name":"Wingdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129133","Unicode hex":"1F86D"},{"Typeface name":"Wingdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129135","Unicode hex":"1F86F"},{"Typeface name":"Wingdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129134","Unicode hex":"1F86E"},{"Typeface name":"Wingdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129144","Unicode hex":"1F878"},{"Typeface name":"Wingdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129146","Unicode hex":"1F87A"},{"Typeface name":"Wingdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129145","Unicode hex":"1F879"},{"Typeface name":"Wingdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129147","Unicode hex":"1F87B"},{"Typeface name":"Wingdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129148","Unicode hex":"1F87C"},{"Typeface name":"Wingdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129149","Unicode hex":"1F87D"},{"Typeface name":"Wingdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129151","Unicode hex":"1F87F"},{"Typeface name":"Wingdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129150","Unicode hex":"1F87E"},{"Typeface name":"Wingdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"8678","Unicode hex":"21E6"},{"Typeface name":"Wingdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"8680","Unicode hex":"21E8"},{"Typeface name":"Wingdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"8679","Unicode hex":"21E7"},{"Typeface name":"Wingdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8681","Unicode hex":"21E9"},{"Typeface name":"Wingdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"11012","Unicode hex":"2B04"},{"Typeface name":"Wingdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"8691","Unicode hex":"21F3"},{"Typeface name":"Wingdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"11009","Unicode hex":"2B01"},{"Typeface name":"Wingdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11008","Unicode hex":"2B00"},{"Typeface name":"Wingdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11011","Unicode hex":"2B03"},{"Typeface name":"Wingdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"11010","Unicode hex":"2B02"},{"Typeface name":"Wingdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"129196","Unicode hex":"1F8AC"},{"Typeface name":"Wingdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"129197","Unicode hex":"1F8AD"},{"Typeface name":"Wingdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128502","Unicode hex":"1F5F6"},{"Typeface name":"Wingdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"10003","Unicode hex":"2713"},{"Typeface name":"Wingdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"128503","Unicode hex":"1F5F7"},{"Typeface name":"Wingdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"128505","Unicode hex":"1F5F9"},{"Typeface name":"Wingdings 2","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 2","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128394","Unicode hex":"1F58A"},{"Typeface name":"Wingdings 2","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128395","Unicode hex":"1F58B"},{"Typeface name":"Wingdings 2","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128396","Unicode hex":"1F58C"},{"Typeface name":"Wingdings 2","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128397","Unicode hex":"1F58D"},{"Typeface name":"Wingdings 2","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"9988","Unicode hex":"2704"},{"Typeface name":"Wingdings 2","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"9984","Unicode hex":"2700"},{"Typeface name":"Wingdings 2","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128382","Unicode hex":"1F57E"},{"Typeface name":"Wingdings 2","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128381","Unicode hex":"1F57D"},{"Typeface name":"Wingdings 2","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128453","Unicode hex":"1F5C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128454","Unicode hex":"1F5C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128455","Unicode hex":"1F5C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128456","Unicode hex":"1F5C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128457","Unicode hex":"1F5C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128458","Unicode hex":"1F5CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128459","Unicode hex":"1F5CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128460","Unicode hex":"1F5CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128461","Unicode hex":"1F5CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128465","Unicode hex":"1F5D1"},{"Typeface name":"Wingdings 2","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128468","Unicode hex":"1F5D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128437","Unicode hex":"1F5B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"128438","Unicode hex":"1F5B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128439","Unicode hex":"1F5B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128440","Unicode hex":"1F5B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128429","Unicode hex":"1F5AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128431","Unicode hex":"1F5AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128433","Unicode hex":"1F5B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128402","Unicode hex":"1F592"},{"Typeface name":"Wingdings 2","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128403","Unicode hex":"1F593"},{"Typeface name":"Wingdings 2","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128408","Unicode hex":"1F598"},{"Typeface name":"Wingdings 2","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128409","Unicode hex":"1F599"},{"Typeface name":"Wingdings 2","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128410","Unicode hex":"1F59A"},{"Typeface name":"Wingdings 2","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"128411","Unicode hex":"1F59B"},{"Typeface name":"Wingdings 2","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128072","Unicode hex":"1F448"},{"Typeface name":"Wingdings 2","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128073","Unicode hex":"1F449"},{"Typeface name":"Wingdings 2","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128412","Unicode hex":"1F59C"},{"Typeface name":"Wingdings 2","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"128413","Unicode hex":"1F59D"},{"Typeface name":"Wingdings 2","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"128414","Unicode hex":"1F59E"},{"Typeface name":"Wingdings 2","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"128415","Unicode hex":"1F59F"},{"Typeface name":"Wingdings 2","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"128416","Unicode hex":"1F5A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128417","Unicode hex":"1F5A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"128070","Unicode hex":"1F446"},{"Typeface name":"Wingdings 2","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128071","Unicode hex":"1F447"},{"Typeface name":"Wingdings 2","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128418","Unicode hex":"1F5A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128419","Unicode hex":"1F5A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128401","Unicode hex":"1F591"},{"Typeface name":"Wingdings 2","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128500","Unicode hex":"1F5F4"},{"Typeface name":"Wingdings 2","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"128504","Unicode hex":"1F5F8"},{"Typeface name":"Wingdings 2","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"128501","Unicode hex":"1F5F5"},{"Typeface name":"Wingdings 2","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9745","Unicode hex":"2611"},{"Typeface name":"Wingdings 2","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"11197","Unicode hex":"2BBD"},{"Typeface name":"Wingdings 2","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"9746","Unicode hex":"2612"},{"Typeface name":"Wingdings 2","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"11198","Unicode hex":"2BBE"},{"Typeface name":"Wingdings 2","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"11199","Unicode hex":"2BBF"},{"Typeface name":"Wingdings 2","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128711","Unicode hex":"1F6C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"128625","Unicode hex":"1F671"},{"Typeface name":"Wingdings 2","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"128628","Unicode hex":"1F674"},{"Typeface name":"Wingdings 2","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128626","Unicode hex":"1F672"},{"Typeface name":"Wingdings 2","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128627","Unicode hex":"1F673"},{"Typeface name":"Wingdings 2","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"8253","Unicode hex":"203D"},{"Typeface name":"Wingdings 2","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128633","Unicode hex":"1F679"},{"Typeface name":"Wingdings 2","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128634","Unicode hex":"1F67A"},{"Typeface name":"Wingdings 2","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"128635","Unicode hex":"1F67B"},{"Typeface name":"Wingdings 2","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"128614","Unicode hex":"1F666"},{"Typeface name":"Wingdings 2","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128612","Unicode hex":"1F664"},{"Typeface name":"Wingdings 2","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"128613","Unicode hex":"1F665"},{"Typeface name":"Wingdings 2","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128615","Unicode hex":"1F667"},{"Typeface name":"Wingdings 2","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128602","Unicode hex":"1F65A"},{"Typeface name":"Wingdings 2","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128600","Unicode hex":"1F658"},{"Typeface name":"Wingdings 2","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"128601","Unicode hex":"1F659"},{"Typeface name":"Wingdings 2","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128603","Unicode hex":"1F65B"},{"Typeface name":"Wingdings 2","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9450","Unicode hex":"24EA"},{"Typeface name":"Wingdings 2","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"9312","Unicode hex":"2460"},{"Typeface name":"Wingdings 2","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"9313","Unicode hex":"2461"},{"Typeface name":"Wingdings 2","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9314","Unicode hex":"2462"},{"Typeface name":"Wingdings 2","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"9315","Unicode hex":"2463"},{"Typeface name":"Wingdings 2","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9316","Unicode hex":"2464"},{"Typeface name":"Wingdings 2","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"9317","Unicode hex":"2465"},{"Typeface name":"Wingdings 2","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9318","Unicode hex":"2466"},{"Typeface name":"Wingdings 2","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9319","Unicode hex":"2467"},{"Typeface name":"Wingdings 2","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9320","Unicode hex":"2468"},{"Typeface name":"Wingdings 2","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9321","Unicode hex":"2469"},{"Typeface name":"Wingdings 2","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9471","Unicode hex":"24FF"},{"Typeface name":"Wingdings 2","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"10102","Unicode hex":"2776"},{"Typeface name":"Wingdings 2","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10103","Unicode hex":"2777"},{"Typeface name":"Wingdings 2","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"10104","Unicode hex":"2778"},{"Typeface name":"Wingdings 2","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10105","Unicode hex":"2779"},{"Typeface name":"Wingdings 2","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"10106","Unicode hex":"277A"},{"Typeface name":"Wingdings 2","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"10107","Unicode hex":"277B"},{"Typeface name":"Wingdings 2","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"10108","Unicode hex":"277C"},{"Typeface name":"Wingdings 2","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"10109","Unicode hex":"277D"},{"Typeface name":"Wingdings 2","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"10110","Unicode hex":"277E"},{"Typeface name":"Wingdings 2","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"10111","Unicode hex":"277F"},{"Typeface name":"Wingdings 2","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"9737","Unicode hex":"2609"},{"Typeface name":"Wingdings 2","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"127765","Unicode hex":"1F315"},{"Typeface name":"Wingdings 2","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"9789","Unicode hex":"263D"},{"Typeface name":"Wingdings 2","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"9790","Unicode hex":"263E"},{"Typeface name":"Wingdings 2","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11839","Unicode hex":"2E3F"},{"Typeface name":"Wingdings 2","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10013","Unicode hex":"271D"},{"Typeface name":"Wingdings 2","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"128327","Unicode hex":"1F547"},{"Typeface name":"Wingdings 2","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"128348","Unicode hex":"1F55C"},{"Typeface name":"Wingdings 2","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"128349","Unicode hex":"1F55D"},{"Typeface name":"Wingdings 2","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"128350","Unicode hex":"1F55E"},{"Typeface name":"Wingdings 2","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"128351","Unicode hex":"1F55F"},{"Typeface name":"Wingdings 2","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"128352","Unicode hex":"1F560"},{"Typeface name":"Wingdings 2","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"128353","Unicode hex":"1F561"},{"Typeface name":"Wingdings 2","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"128354","Unicode hex":"1F562"},{"Typeface name":"Wingdings 2","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128355","Unicode hex":"1F563"},{"Typeface name":"Wingdings 2","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128356","Unicode hex":"1F564"},{"Typeface name":"Wingdings 2","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128357","Unicode hex":"1F565"},{"Typeface name":"Wingdings 2","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128358","Unicode hex":"1F566"},{"Typeface name":"Wingdings 2","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"128359","Unicode hex":"1F567"},{"Typeface name":"Wingdings 2","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128616","Unicode hex":"1F668"},{"Typeface name":"Wingdings 2","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128617","Unicode hex":"1F669"},{"Typeface name":"Wingdings 2","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128900","Unicode hex":"1F784"},{"Typeface name":"Wingdings 2","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"10625","Unicode hex":"2981"},{"Typeface name":"Wingdings 2","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"9679","Unicode hex":"25CF"},{"Typeface name":"Wingdings 2","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"9675","Unicode hex":"25CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128901","Unicode hex":"1F785"},{"Typeface name":"Wingdings 2","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128903","Unicode hex":"1F787"},{"Typeface name":"Wingdings 2","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128905","Unicode hex":"1F789"},{"Typeface name":"Wingdings 2","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"8857","Unicode hex":"2299"},{"Typeface name":"Wingdings 2","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"10687","Unicode hex":"29BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128908","Unicode hex":"1F78C"},{"Typeface name":"Wingdings 2","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128909","Unicode hex":"1F78D"},{"Typeface name":"Wingdings 2","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"9726","Unicode hex":"25FE"},{"Typeface name":"Wingdings 2","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"9632","Unicode hex":"25A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"9633","Unicode hex":"25A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128913","Unicode hex":"1F791"},{"Typeface name":"Wingdings 2","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128914","Unicode hex":"1F792"},{"Typeface name":"Wingdings 2","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128915","Unicode hex":"1F793"},{"Typeface name":"Wingdings 2","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128916","Unicode hex":"1F794"},{"Typeface name":"Wingdings 2","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9635","Unicode hex":"25A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128917","Unicode hex":"1F795"},{"Typeface name":"Wingdings 2","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128918","Unicode hex":"1F796"},{"Typeface name":"Wingdings 2","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128919","Unicode hex":"1F797"},{"Typeface name":"Wingdings 2","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128920","Unicode hex":"1F798"},{"Typeface name":"Wingdings 2","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings 2","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"11045","Unicode hex":"2B25"},{"Typeface name":"Wingdings 2","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"9671","Unicode hex":"25C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"128922","Unicode hex":"1F79A"},{"Typeface name":"Wingdings 2","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"9672","Unicode hex":"25C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"128923","Unicode hex":"1F79B"},{"Typeface name":"Wingdings 2","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128924","Unicode hex":"1F79C"},{"Typeface name":"Wingdings 2","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"128925","Unicode hex":"1F79D"},{"Typeface name":"Wingdings 2","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128926","Unicode hex":"1F79E"},{"Typeface name":"Wingdings 2","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"11050","Unicode hex":"2B2A"},{"Typeface name":"Wingdings 2","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"11047","Unicode hex":"2B27"},{"Typeface name":"Wingdings 2","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128928","Unicode hex":"1F7A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"9686","Unicode hex":"25D6"},{"Typeface name":"Wingdings 2","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"9687","Unicode hex":"25D7"},{"Typeface name":"Wingdings 2","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"11210","Unicode hex":"2BCA"},{"Typeface name":"Wingdings 2","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"11211","Unicode hex":"2BCB"},{"Typeface name":"Wingdings 2","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"11200","Unicode hex":"2BC0"},{"Typeface name":"Wingdings 2","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"11201","Unicode hex":"2BC1"},{"Typeface name":"Wingdings 2","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"11039","Unicode hex":"2B1F"},{"Typeface name":"Wingdings 2","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"11202","Unicode hex":"2BC2"},{"Typeface name":"Wingdings 2","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"11043","Unicode hex":"2B23"},{"Typeface name":"Wingdings 2","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11042","Unicode hex":"2B22"},{"Typeface name":"Wingdings 2","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11203","Unicode hex":"2BC3"},{"Typeface name":"Wingdings 2","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11204","Unicode hex":"2BC4"},{"Typeface name":"Wingdings 2","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128929","Unicode hex":"1F7A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128930","Unicode hex":"1F7A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128931","Unicode hex":"1F7A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128932","Unicode hex":"1F7A4"},{"Typeface name":"Wingdings 2","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128933","Unicode hex":"1F7A5"},{"Typeface name":"Wingdings 2","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128934","Unicode hex":"1F7A6"},{"Typeface name":"Wingdings 2","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128935","Unicode hex":"1F7A7"},{"Typeface name":"Wingdings 2","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128936","Unicode hex":"1F7A8"},{"Typeface name":"Wingdings 2","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128937","Unicode hex":"1F7A9"},{"Typeface name":"Wingdings 2","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128938","Unicode hex":"1F7AA"},{"Typeface name":"Wingdings 2","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128939","Unicode hex":"1F7AB"},{"Typeface name":"Wingdings 2","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128940","Unicode hex":"1F7AC"},{"Typeface name":"Wingdings 2","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128941","Unicode hex":"1F7AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128942","Unicode hex":"1F7AE"},{"Typeface name":"Wingdings 2","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128943","Unicode hex":"1F7AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"128944","Unicode hex":"1F7B0"},{"Typeface name":"Wingdings 2","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"128945","Unicode hex":"1F7B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"128946","Unicode hex":"1F7B2"},{"Typeface name":"Wingdings 2","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"128947","Unicode hex":"1F7B3"},{"Typeface name":"Wingdings 2","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"128948","Unicode hex":"1F7B4"},{"Typeface name":"Wingdings 2","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"128949","Unicode hex":"1F7B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"128950","Unicode hex":"1F7B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"128951","Unicode hex":"1F7B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"128952","Unicode hex":"1F7B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"128953","Unicode hex":"1F7B9"},{"Typeface name":"Wingdings 2","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"128954","Unicode hex":"1F7BA"},{"Typeface name":"Wingdings 2","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"128955","Unicode hex":"1F7BB"},{"Typeface name":"Wingdings 2","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"128956","Unicode hex":"1F7BC"},{"Typeface name":"Wingdings 2","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128957","Unicode hex":"1F7BD"},{"Typeface name":"Wingdings 2","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128958","Unicode hex":"1F7BE"},{"Typeface name":"Wingdings 2","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"128959","Unicode hex":"1F7BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"128960","Unicode hex":"1F7C0"},{"Typeface name":"Wingdings 2","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128962","Unicode hex":"1F7C2"},{"Typeface name":"Wingdings 2","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128964","Unicode hex":"1F7C4"},{"Typeface name":"Wingdings 2","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"128966","Unicode hex":"1F7C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"128969","Unicode hex":"1F7C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128970","Unicode hex":"1F7CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"10038","Unicode hex":"2736"},{"Typeface name":"Wingdings 2","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"128972","Unicode hex":"1F7CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128974","Unicode hex":"1F7CE"},{"Typeface name":"Wingdings 2","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128976","Unicode hex":"1F7D0"},{"Typeface name":"Wingdings 2","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128978","Unicode hex":"1F7D2"},{"Typeface name":"Wingdings 2","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"10041","Unicode hex":"2739"},{"Typeface name":"Wingdings 2","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128963","Unicode hex":"1F7C3"},{"Typeface name":"Wingdings 2","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128967","Unicode hex":"1F7C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Wingdings 2","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128973","Unicode hex":"1F7CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128980","Unicode hex":"1F7D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11212","Unicode hex":"2BCC"},{"Typeface name":"Wingdings 2","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11213","Unicode hex":"2BCD"},{"Typeface name":"Wingdings 2","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"8251","Unicode hex":"203B"},{"Typeface name":"Wingdings 2","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"8258","Unicode hex":"2042"},{"Typeface name":"Wingdings 3","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 3","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"11104","Unicode hex":"2B60"},{"Typeface name":"Wingdings 3","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"11106","Unicode hex":"2B62"},{"Typeface name":"Wingdings 3","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"11105","Unicode hex":"2B61"},{"Typeface name":"Wingdings 3","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"11107","Unicode hex":"2B63"},{"Typeface name":"Wingdings 3","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"11110","Unicode hex":"2B66"},{"Typeface name":"Wingdings 3","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"11111","Unicode hex":"2B67"},{"Typeface name":"Wingdings 3","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"11113","Unicode hex":"2B69"},{"Typeface name":"Wingdings 3","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"11112","Unicode hex":"2B68"},{"Typeface name":"Wingdings 3","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"11120","Unicode hex":"2B70"},{"Typeface name":"Wingdings 3","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"11122","Unicode hex":"2B72"},{"Typeface name":"Wingdings 3","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"11121","Unicode hex":"2B71"},{"Typeface name":"Wingdings 3","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"11123","Unicode hex":"2B73"},{"Typeface name":"Wingdings 3","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"11126","Unicode hex":"2B76"},{"Typeface name":"Wingdings 3","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"11128","Unicode hex":"2B78"},{"Typeface name":"Wingdings 3","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"11131","Unicode hex":"2B7B"},{"Typeface name":"Wingdings 3","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"11133","Unicode hex":"2B7D"},{"Typeface name":"Wingdings 3","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"11108","Unicode hex":"2B64"},{"Typeface name":"Wingdings 3","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"11109","Unicode hex":"2B65"},{"Typeface name":"Wingdings 3","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"11114","Unicode hex":"2B6A"},{"Typeface name":"Wingdings 3","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"11116","Unicode hex":"2B6C"},{"Typeface name":"Wingdings 3","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"11115","Unicode hex":"2B6B"},{"Typeface name":"Wingdings 3","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"11117","Unicode hex":"2B6D"},{"Typeface name":"Wingdings 3","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"11085","Unicode hex":"2B4D"},{"Typeface name":"Wingdings 3","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"11168","Unicode hex":"2BA0"},{"Typeface name":"Wingdings 3","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"11169","Unicode hex":"2BA1"},{"Typeface name":"Wingdings 3","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"11170","Unicode hex":"2BA2"},{"Typeface name":"Wingdings 3","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"11171","Unicode hex":"2BA3"},{"Typeface name":"Wingdings 3","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"11172","Unicode hex":"2BA4"},{"Typeface name":"Wingdings 3","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"11173","Unicode hex":"2BA5"},{"Typeface name":"Wingdings 3","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"11174","Unicode hex":"2BA6"},{"Typeface name":"Wingdings 3","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"11175","Unicode hex":"2BA7"},{"Typeface name":"Wingdings 3","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"11152","Unicode hex":"2B90"},{"Typeface name":"Wingdings 3","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"11153","Unicode hex":"2B91"},{"Typeface name":"Wingdings 3","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"11154","Unicode hex":"2B92"},{"Typeface name":"Wingdings 3","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"11155","Unicode hex":"2B93"},{"Typeface name":"Wingdings 3","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"11136","Unicode hex":"2B80"},{"Typeface name":"Wingdings 3","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"11139","Unicode hex":"2B83"},{"Typeface name":"Wingdings 3","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"11134","Unicode hex":"2B7E"},{"Typeface name":"Wingdings 3","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"11135","Unicode hex":"2B7F"},{"Typeface name":"Wingdings 3","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"11140","Unicode hex":"2B84"},{"Typeface name":"Wingdings 3","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"11142","Unicode hex":"2B86"},{"Typeface name":"Wingdings 3","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"11141","Unicode hex":"2B85"},{"Typeface name":"Wingdings 3","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"11143","Unicode hex":"2B87"},{"Typeface name":"Wingdings 3","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"11151","Unicode hex":"2B8F"},{"Typeface name":"Wingdings 3","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"11149","Unicode hex":"2B8D"},{"Typeface name":"Wingdings 3","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"11150","Unicode hex":"2B8E"},{"Typeface name":"Wingdings 3","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"11148","Unicode hex":"2B8C"},{"Typeface name":"Wingdings 3","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"11118","Unicode hex":"2B6E"},{"Typeface name":"Wingdings 3","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"11119","Unicode hex":"2B6F"},{"Typeface name":"Wingdings 3","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9099","Unicode hex":"238B"},{"Typeface name":"Wingdings 3","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"8996","Unicode hex":"2324"},{"Typeface name":"Wingdings 3","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"8963","Unicode hex":"2303"},{"Typeface name":"Wingdings 3","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"8997","Unicode hex":"2325"},{"Typeface name":"Wingdings 3","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"9251","Unicode hex":"2423"},{"Typeface name":"Wingdings 3","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"9085","Unicode hex":"237D"},{"Typeface name":"Wingdings 3","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"8682","Unicode hex":"21EA"},{"Typeface name":"Wingdings 3","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"11192","Unicode hex":"2BB8"},{"Typeface name":"Wingdings 3","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"129184","Unicode hex":"1F8A0"},{"Typeface name":"Wingdings 3","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"129185","Unicode hex":"1F8A1"},{"Typeface name":"Wingdings 3","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"129186","Unicode hex":"1F8A2"},{"Typeface name":"Wingdings 3","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"129187","Unicode hex":"1F8A3"},{"Typeface name":"Wingdings 3","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"129188","Unicode hex":"1F8A4"},{"Typeface name":"Wingdings 3","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"129189","Unicode hex":"1F8A5"},{"Typeface name":"Wingdings 3","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"129190","Unicode hex":"1F8A6"},{"Typeface name":"Wingdings 3","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"129191","Unicode hex":"1F8A7"},{"Typeface name":"Wingdings 3","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"129192","Unicode hex":"1F8A8"},{"Typeface name":"Wingdings 3","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"129193","Unicode hex":"1F8A9"},{"Typeface name":"Wingdings 3","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"129194","Unicode hex":"1F8AA"},{"Typeface name":"Wingdings 3","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"129195","Unicode hex":"1F8AB"},{"Typeface name":"Wingdings 3","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"129104","Unicode hex":"1F850"},{"Typeface name":"Wingdings 3","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"129106","Unicode hex":"1F852"},{"Typeface name":"Wingdings 3","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"129105","Unicode hex":"1F851"},{"Typeface name":"Wingdings 3","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"129107","Unicode hex":"1F853"},{"Typeface name":"Wingdings 3","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"129108","Unicode hex":"1F854"},{"Typeface name":"Wingdings 3","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"129109","Unicode hex":"1F855"},{"Typeface name":"Wingdings 3","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"129111","Unicode hex":"1F857"},{"Typeface name":"Wingdings 3","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"129110","Unicode hex":"1F856"},{"Typeface name":"Wingdings 3","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"129112","Unicode hex":"1F858"},{"Typeface name":"Wingdings 3","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"129113","Unicode hex":"1F859"},{"Typeface name":"Wingdings 3","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9650","Unicode hex":"25B2"},{"Typeface name":"Wingdings 3","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9660","Unicode hex":"25BC"},{"Typeface name":"Wingdings 3","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9651","Unicode hex":"25B3"},{"Typeface name":"Wingdings 3","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9661","Unicode hex":"25BD"},{"Typeface name":"Wingdings 3","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9664","Unicode hex":"25C0"},{"Typeface name":"Wingdings 3","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9654","Unicode hex":"25B6"},{"Typeface name":"Wingdings 3","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"9665","Unicode hex":"25C1"},{"Typeface name":"Wingdings 3","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9655","Unicode hex":"25B7"},{"Typeface name":"Wingdings 3","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"9699","Unicode hex":"25E3"},{"Typeface name":"Wingdings 3","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"9698","Unicode hex":"25E2"},{"Typeface name":"Wingdings 3","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"9700","Unicode hex":"25E4"},{"Typeface name":"Wingdings 3","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"9701","Unicode hex":"25E5"},{"Typeface name":"Wingdings 3","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"128896","Unicode hex":"1F780"},{"Typeface name":"Wingdings 3","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128898","Unicode hex":"1F782"},{"Typeface name":"Wingdings 3","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128897","Unicode hex":"1F781"},{"Typeface name":"Wingdings 3","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128899","Unicode hex":"1F783"},{"Typeface name":"Wingdings 3","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"11205","Unicode hex":"2BC5"},{"Typeface name":"Wingdings 3","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"11206","Unicode hex":"2BC6"},{"Typeface name":"Wingdings 3","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"11207","Unicode hex":"2BC7"},{"Typeface name":"Wingdings 3","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11208","Unicode hex":"2BC8"},{"Typeface name":"Wingdings 3","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"11164","Unicode hex":"2B9C"},{"Typeface name":"Wingdings 3","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"11166","Unicode hex":"2B9E"},{"Typeface name":"Wingdings 3","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"11165","Unicode hex":"2B9D"},{"Typeface name":"Wingdings 3","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"11167","Unicode hex":"2B9F"},{"Typeface name":"Wingdings 3","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"129040","Unicode hex":"1F810"},{"Typeface name":"Wingdings 3","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"129042","Unicode hex":"1F812"},{"Typeface name":"Wingdings 3","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"129041","Unicode hex":"1F811"},{"Typeface name":"Wingdings 3","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"129043","Unicode hex":"1F813"},{"Typeface name":"Wingdings 3","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"129044","Unicode hex":"1F814"},{"Typeface name":"Wingdings 3","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"129046","Unicode hex":"1F816"},{"Typeface name":"Wingdings 3","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"129045","Unicode hex":"1F815"},{"Typeface name":"Wingdings 3","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"129047","Unicode hex":"1F817"},{"Typeface name":"Wingdings 3","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"129048","Unicode hex":"1F818"},{"Typeface name":"Wingdings 3","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"129050","Unicode hex":"1F81A"},{"Typeface name":"Wingdings 3","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"129049","Unicode hex":"1F819"},{"Typeface name":"Wingdings 3","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"129051","Unicode hex":"1F81B"},{"Typeface name":"Wingdings 3","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"129052","Unicode hex":"1F81C"},{"Typeface name":"Wingdings 3","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"129054","Unicode hex":"1F81E"},{"Typeface name":"Wingdings 3","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"129053","Unicode hex":"1F81D"},{"Typeface name":"Wingdings 3","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"129055","Unicode hex":"1F81F"},{"Typeface name":"Wingdings 3","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"129024","Unicode hex":"1F800"},{"Typeface name":"Wingdings 3","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"129026","Unicode hex":"1F802"},{"Typeface name":"Wingdings 3","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"129025","Unicode hex":"1F801"},{"Typeface name":"Wingdings 3","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"129027","Unicode hex":"1F803"},{"Typeface name":"Wingdings 3","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"129028","Unicode hex":"1F804"},{"Typeface name":"Wingdings 3","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"129030","Unicode hex":"1F806"},{"Typeface name":"Wingdings 3","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"129029","Unicode hex":"1F805"},{"Typeface name":"Wingdings 3","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"129031","Unicode hex":"1F807"},{"Typeface name":"Wingdings 3","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"129032","Unicode hex":"1F808"},{"Typeface name":"Wingdings 3","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"129034","Unicode hex":"1F80A"},{"Typeface name":"Wingdings 3","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"129033","Unicode hex":"1F809"},{"Typeface name":"Wingdings 3","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"129035","Unicode hex":"1F80B"},{"Typeface name":"Wingdings 3","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"129056","Unicode hex":"1F820"},{"Typeface name":"Wingdings 3","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"129058","Unicode hex":"1F822"},{"Typeface name":"Wingdings 3","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"129060","Unicode hex":"1F824"},{"Typeface name":"Wingdings 3","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"129062","Unicode hex":"1F826"},{"Typeface name":"Wingdings 3","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"129064","Unicode hex":"1F828"},{"Typeface name":"Wingdings 3","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"129066","Unicode hex":"1F82A"},{"Typeface name":"Wingdings 3","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"129068","Unicode hex":"1F82C"},{"Typeface name":"Wingdings 3","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"129180","Unicode hex":"1F89C"},{"Typeface name":"Wingdings 3","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"129181","Unicode hex":"1F89D"},{"Typeface name":"Wingdings 3","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"129182","Unicode hex":"1F89E"},{"Typeface name":"Wingdings 3","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"129183","Unicode hex":"1F89F"},{"Typeface name":"Wingdings 3","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"129070","Unicode hex":"1F82E"},{"Typeface name":"Wingdings 3","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"129072","Unicode hex":"1F830"},{"Typeface name":"Wingdings 3","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"129074","Unicode hex":"1F832"},{"Typeface name":"Wingdings 3","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"129076","Unicode hex":"1F834"},{"Typeface name":"Wingdings 3","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"129078","Unicode hex":"1F836"},{"Typeface name":"Wingdings 3","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"129080","Unicode hex":"1F838"},{"Typeface name":"Wingdings 3","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"129082","Unicode hex":"1F83A"},{"Typeface name":"Wingdings 3","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"129081","Unicode hex":"1F839"},{"Typeface name":"Wingdings 3","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"129083","Unicode hex":"1F83B"},{"Typeface name":"Wingdings 3","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"129176","Unicode hex":"1F898"},{"Typeface name":"Wingdings 3","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"129178","Unicode hex":"1F89A"},{"Typeface name":"Wingdings 3","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"129177","Unicode hex":"1F899"},{"Typeface name":"Wingdings 3","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"129179","Unicode hex":"1F89B"},{"Typeface name":"Wingdings 3","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"129084","Unicode hex":"1F83C"},{"Typeface name":"Wingdings 3","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"129086","Unicode hex":"1F83E"},{"Typeface name":"Wingdings 3","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"129085","Unicode hex":"1F83D"},{"Typeface name":"Wingdings 3","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"129087","Unicode hex":"1F83F"},{"Typeface name":"Wingdings 3","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"129088","Unicode hex":"1F840"},{"Typeface name":"Wingdings 3","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"129090","Unicode hex":"1F842"},{"Typeface name":"Wingdings 3","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"129089","Unicode hex":"1F841"},{"Typeface name":"Wingdings 3","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"129091","Unicode hex":"1F843"},{"Typeface name":"Wingdings 3","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"129092","Unicode hex":"1F844"},{"Typeface name":"Wingdings 3","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"129094","Unicode hex":"1F846"},{"Typeface name":"Wingdings 3","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"129093","Unicode hex":"1F845"},{"Typeface name":"Wingdings 3","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"129095","Unicode hex":"1F847"},{"Typeface name":"Wingdings 3","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11176","Unicode hex":"2BA8"},{"Typeface name":"Wingdings 3","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11177","Unicode hex":"2BA9"},{"Typeface name":"Wingdings 3","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"11178","Unicode hex":"2BAA"},{"Typeface name":"Wingdings 3","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"11179","Unicode hex":"2BAB"},{"Typeface name":"Wingdings 3","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"11180","Unicode hex":"2BAC"},{"Typeface name":"Wingdings 3","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"11181","Unicode hex":"2BAD"},{"Typeface name":"Wingdings 3","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"11182","Unicode hex":"2BAE"},{"Typeface name":"Wingdings 3","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"11183","Unicode hex":"2BAF"},{"Typeface name":"Wingdings 3","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"129120","Unicode hex":"1F860"},{"Typeface name":"Wingdings 3","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"129122","Unicode hex":"1F862"},{"Typeface name":"Wingdings 3","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"129121","Unicode hex":"1F861"},{"Typeface name":"Wingdings 3","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"129123","Unicode hex":"1F863"},{"Typeface name":"Wingdings 3","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"129124","Unicode hex":"1F864"},{"Typeface name":"Wingdings 3","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"129125","Unicode hex":"1F865"},{"Typeface name":"Wingdings 3","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"129127","Unicode hex":"1F867"},{"Typeface name":"Wingdings 3","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"129126","Unicode hex":"1F866"},{"Typeface name":"Wingdings 3","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"129136","Unicode hex":"1F870"},{"Typeface name":"Wingdings 3","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"129138","Unicode hex":"1F872"},{"Typeface name":"Wingdings 3","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"129137","Unicode hex":"1F871"},{"Typeface name":"Wingdings 3","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"129139","Unicode hex":"1F873"},{"Typeface name":"Wingdings 3","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"129140","Unicode hex":"1F874"},{"Typeface name":"Wingdings 3","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"129141","Unicode hex":"1F875"},{"Typeface name":"Wingdings 3","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129143","Unicode hex":"1F877"},{"Typeface name":"Wingdings 3","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129142","Unicode hex":"1F876"},{"Typeface name":"Wingdings 3","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129152","Unicode hex":"1F880"},{"Typeface name":"Wingdings 3","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129154","Unicode hex":"1F882"},{"Typeface name":"Wingdings 3","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129153","Unicode hex":"1F881"},{"Typeface name":"Wingdings 3","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129155","Unicode hex":"1F883"},{"Typeface name":"Wingdings 3","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129156","Unicode hex":"1F884"},{"Typeface name":"Wingdings 3","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129157","Unicode hex":"1F885"},{"Typeface name":"Wingdings 3","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129159","Unicode hex":"1F887"},{"Typeface name":"Wingdings 3","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129158","Unicode hex":"1F886"},{"Typeface name":"Wingdings 3","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129168","Unicode hex":"1F890"},{"Typeface name":"Wingdings 3","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129170","Unicode hex":"1F892"},{"Typeface name":"Wingdings 3","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129169","Unicode hex":"1F891"},{"Typeface name":"Wingdings 3","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129171","Unicode hex":"1F893"},{"Typeface name":"Wingdings 3","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129172","Unicode hex":"1F894"},{"Typeface name":"Wingdings 3","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129174","Unicode hex":"1F896"},{"Typeface name":"Wingdings 3","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"129173","Unicode hex":"1F895"},{"Typeface name":"Wingdings 3","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"129175","Unicode hex":"1F897"}];eU.default=P2e;var I2e=Lt&&Lt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Cm,"__esModule",{value:!0});Cm.hex=Cm.dec=Cm.codePoint=void 0;var j2e=I2e(eU),yee={},R2e=String.fromCodePoint?String.fromCodePoint:U2e;for(var M4=0,Mq=j2e.default;M4<Mq.length;M4++){var O4=Mq[M4],Oq=parseInt(O4["Unicode dec"],10),M2e={codePoint:Oq,string:R2e(Oq)};yee[O4["Typeface name"].toUpperCase()+"_"+O4["Dingbat dec"]]=M2e}function tU(n,e){return yee[n.toUpperCase()+"_"+e]}Cm.codePoint=tU;function O2e(n,e){return tU(n,parseInt(e,10))}Cm.dec=O2e;function F2e(n,e){return tU(n,parseInt(e,16))}Cm.hex=F2e;function U2e(n){if(n<=65535)return String.fromCharCode(n);var e=Math.floor((n-65536)/1024)+55296,i=(n-65536)%1024+56320;return String.fromCharCode(e,i)}var nU={};nU.uriToZipEntryName=L2e;nU.replaceFragment=B2e;function L2e(n,e){return e.charAt(0)==="/"?e.substr(1):n+"/"+e}function B2e(n,e){var i=n.indexOf("#");return i!==-1&&(n=n.substring(0,i)),n+"#"+e}QF.createBodyReader=V2e;QF._readNumberingProperties=wee;var Fq=Cm,Jl=lr,Oi=_n,vee=sl.Result,dh=sl.warning,z2e=yf,Uq=nU;function V2e(n){return{readXmlElement:function(e){return new Lq(n).readXmlElement(e)},readXmlElements:function(e){return new Lq(n).readXmlElements(e)}}}function Lq(n){var e=[],i=[],r=[],o=n.relationships,l=n.contentTypes,c=n.docxFile,u=n.files,h=n.numbering,m=n.styles;function g(Ne){var ke=Ne.map(y);return Bq(ke)}function y(Ne){if(Ne.type==="element"){var ke=re[Ne.name];if(ke)return ke(Ne);if(!Object.prototype.hasOwnProperty.call($2e,Ne.name)){var Be=dh("An unrecognised element was ignored: "+Ne.name);return wk([Be])}}return xk()}function v(Ne){return I(Ne).map(function(ke){return{type:"paragraphProperties",styleId:ke.styleId,styleName:ke.name,alignment:Ne.firstOrEmpty("w:jc").attributes["w:val"],numbering:wee(ke.styleId,Ne.firstOrEmpty("w:numPr"),h),indent:_(Ne.firstOrEmpty("w:ind"))}})}function _(Ne){return{start:Ne.attributes["w:start"]||Ne.attributes["w:left"],end:Ne.attributes["w:end"]||Ne.attributes["w:right"],firstLine:Ne.attributes["w:firstLine"],hanging:Ne.attributes["w:hanging"]}}function A(Ne){return O(Ne).map(function(ke){var Be=Ne.firstOrEmpty("w:sz").attributes["w:val"],X=/^[0-9]+$/.test(Be)?parseInt(Be,10)/2:null;return{type:"runProperties",styleId:ke.styleId,styleName:ke.name,verticalAlignment:Ne.firstOrEmpty("w:vertAlign").attributes["w:val"],font:Ne.firstOrEmpty("w:rFonts").attributes["w:ascii"],fontSize:X,isBold:C(Ne.first("w:b")),isUnderline:S(Ne.first("w:u")),isItalic:C(Ne.first("w:i")),isStrikethrough:C(Ne.first("w:strike")),isAllCaps:C(Ne.first("w:caps")),isSmallCaps:C(Ne.first("w:smallCaps")),highlight:N(Ne.firstOrEmpty("w:highlight").attributes["w:val"])}})}function S(Ne){if(Ne){var ke=Ne.attributes["w:val"];return ke!==void 0&&ke!=="false"&&ke!=="0"&&ke!=="none"}else return!1}function C(Ne){if(Ne){var ke=Ne.attributes["w:val"];return ke!=="false"&&ke!=="0"}else return!1}function T(Ne){return Ne!=="false"&&Ne!=="0"}function N(Ne){return!Ne||Ne==="none"?null:Ne}function I(Ne){return U(Ne,"w:pStyle","Paragraph",m.findParagraphStyleById)}function O(Ne){return U(Ne,"w:rStyle","Run",m.findCharacterStyleById)}function F(Ne){return U(Ne,"w:tblStyle","Table",m.findTableStyleById)}function U(Ne,ke,Be,X){var Ae=[],Ie=Ne.first(ke),be=null,we=null;if(Ie&&(be=Ie.attributes["w:val"],be)){var Ee=X(be);Ee?we=Ee.name:Ae.push(ze(Be,be))}return iD({styleId:be,name:we},Ae)}function V(Ne){var ke=Ne.attributes["w:fldCharType"];if(ke==="begin")e.push({type:"begin",fldChar:Ne}),i=[];else if(ke==="end"){var Be=e.pop();if(Be.type==="begin"&&(Be=Z(Be)),Be.type==="checkbox")return Go(Oi.checkbox({checked:Be.checked}))}else if(ke==="separate"){var X=e.pop(),Ae=Z(X);e.push(Ae)}return xk()}function B(){var Ne=Jl.last(e.filter(function(ke){return ke.type==="hyperlink"}));return Ne?Ne.options:null}function Z(Ne){return ae(i.join(""),Ne.type==="begin"?Ne.fldChar:z2e.emptyElement)}function ae(Ne,ke){var Be=/\s*HYPERLINK "(.*)"/.exec(Ne);if(Be)return{type:"hyperlink",options:{href:Be[1]}};var X=/\s*HYPERLINK\s+\\l\s+"(.*)"/.exec(Ne);if(X)return{type:"hyperlink",options:{anchor:X[1]}};var Ae=/\s*FORMCHECKBOX\s*/.exec(Ne);if(Ae){var Ie=ke.firstOrEmpty("w:ffData").firstOrEmpty("w:checkBox"),be=Ie.first("w:checked"),we=be==null?C(Ie.first("w:default")):C(be);return{type:"checkbox",checked:we}}return{type:"unknown"}}function me(Ne){return i.push(Ne.text()),xk()}function Q(Ne){var ke=Ne.attributes["w:font"],Be=Ne.attributes["w:char"],X=Fq.hex(ke,Be);return X==null&&/^F0..$/.test(Be)&&(X=Fq.hex(ke,Be.substring(2))),X==null?wk([dh("A w:sym element with an unsupported character was ignored: char "+Be+" in font "+ke)]):Go(new Oi.Text(X.string))}function ge(Ne){return function(ke){var Be=ke.attributes["w:id"];return Go(new Oi.NoteReference({noteType:Ne,noteId:Be}))}}function $(Ne){return Go(Oi.commentReference({commentId:Ne.attributes["w:id"]}))}function Te(Ne){return g(Ne.children)}var re={"w:p":function(Ne){var ke=Ne.firstOrEmpty("w:pPr"),Be=!!ke.firstOrEmpty("w:rPr").first("w:del");if(Be)return Ne.children.forEach(function(Ae){r.push(Ae)}),xk();var X=Ne.children;return r.length>0&&(X=r.concat(X),r=[]),Ts.map(v(ke),g(X),function(Ae,Ie){return new Oi.Paragraph(Ie,Ae)}).insertExtra()},"w:r":function(Ne){return Ts.map(A(Ne.firstOrEmpty("w:rPr")),g(Ne.children),function(ke,Be){var X=B();return X!==null&&(Be=[new Oi.Hyperlink(Be,X)]),new Oi.Run(Be,ke)})},"w:fldChar":V,"w:instrText":me,"w:t":function(Ne){return Go(new Oi.Text(Ne.text()))},"w:tab":function(Ne){return Go(new Oi.Tab)},"w:noBreakHyphen":function(){return Go(new Oi.Text("‑"))},"w:softHyphen":function(Ne){return Go(new Oi.Text("­"))},"w:sym":Q,"w:hyperlink":function(Ne){var ke=Ne.attributes["r:id"],Be=Ne.attributes["w:anchor"];return g(Ne.children).map(function(X){function Ae(be){var we=Ne.attributes["w:tgtFrame"]||null;return new Oi.Hyperlink(X,Jl.extend({targetFrame:we},be))}if(ke){var Ie=o.findTargetByRelationshipId(ke);return Be&&(Ie=Uq.replaceFragment(Ie,Be)),Ae({href:Ie})}else return Be?Ae({anchor:Be}):X})},"w:tbl":ie,"w:tr":K,"w:tc":ne,"w:footnoteReference":ge("footnote"),"w:endnoteReference":ge("endnote"),"w:commentReference":$,"w:br":function(Ne){var ke=Ne.attributes["w:type"];return ke==null||ke==="textWrapping"?Go(Oi.lineBreak):ke==="page"?Go(Oi.pageBreak):ke==="column"?Go(Oi.columnBreak):wk([dh("Unsupported break type: "+ke)])},"w:bookmarkStart":function(Ne){var ke=Ne.attributes["w:name"];return ke==="_GoBack"?xk():Go(new Oi.BookmarkStart({name:ke}))},"mc:AlternateContent":function(Ne){return Te(Ne.firstOrEmpty("mc:Fallback"))},"w:sdt":function(Ne){var ke=Ne.firstOrEmpty("w:sdtPr").first("wordml:checkbox");if(ke){var Be=ke.first("wordml:checked"),X=!!Be&&T(Be.attributes["wordml:val"]);return Go(Oi.checkbox({checked:X}))}else return g(Ne.firstOrEmpty("w:sdtContent").children)},"w:ins":Te,"w:object":Te,"w:smartTag":Te,"w:drawing":Te,"w:pict":function(Ne){return Te(Ne).toExtra()},"v:roundrect":Te,"v:shape":Te,"v:textbox":Te,"w:txbxContent":Te,"wp:inline":ee,"wp:anchor":ee,"v:imagedata":Re,"v:group":Te,"v:rect":Te};return{readXmlElement:y,readXmlElements:g};function ie(Ne){var ke=G(Ne.firstOrEmpty("w:tblPr"));return g(Ne.children).flatMap(ue).flatMap(function(Be){return ke.map(function(X){return Oi.Table(Be,X)})})}function G(Ne){return F(Ne).map(function(ke){return{styleId:ke.styleId,styleName:ke.name}})}function K(Ne){var ke=Ne.firstOrEmpty("w:trPr"),Be=!!ke.first("w:tblHeader");return g(Ne.children).map(function(X){return Oi.TableRow(X,{isHeader:Be})})}function ne(Ne){return g(Ne.children).map(function(ke){var Be=Ne.firstOrEmpty("w:tcPr"),X=Be.firstOrEmpty("w:gridSpan").attributes["w:val"],Ae=X?parseInt(X,10):1,Ie=Oi.TableCell(ke,{colSpan:Ae});return Ie._vMerge=J(Be),Ie})}function J(Ne){var ke=Ne.first("w:vMerge");if(ke){var Be=ke.attributes["w:val"];return Be==="continue"||!Be}else return null}function ue(Ne){var ke=Jl.any(Ne,function(Ae){return Ae.type!==Oi.types.tableRow});if(ke)return iD(Ne,[dh("unexpected non-row element in table, cell merging may be incorrect")]);var Be=Jl.any(Ne,function(Ae){return Jl.any(Ae.children,function(Ie){return Ie.type!==Oi.types.tableCell})});if(Be)return iD(Ne,[dh("unexpected non-cell element in table row, cell merging may be incorrect")]);var X={};return Ne.forEach(function(Ae){var Ie=0;Ae.children.forEach(function(be){be._vMerge&&X[Ie]?X[Ie].rowSpan++:(X[Ie]=be,be._vMerge=!1),Ie+=be.colSpan})}),Ne.forEach(function(Ae){Ae.children=Ae.children.filter(function(Ie){return!Ie._vMerge}),Ae.children.forEach(function(Ie){delete Ie._vMerge})}),Go(Ne)}function ee(Ne){var ke=Ne.getElementsByTagName("a:graphic").getElementsByTagName("a:graphicData").getElementsByTagName("pic:pic").getElementsByTagName("pic:blipFill").getElementsByTagName("a:blip");return Bq(ke.map(xe.bind(null,Ne)))}function xe(Ne,ke){var Be=Ne.first("wp:docPr").attributes,X=Se(Be.descr)?Be.title:Be.descr,Ae=Me(ke);return Ae===null?wk([dh("Could not find image file for a:blip element")]):We(Ae,X)}function Se(Ne){return Ne==null||/^\s*$/.test(Ne)}function Me(Ne){var ke=Ne.attributes["r:embed"],Be=Ne.attributes["r:link"];if(ke)return Fe(ke);if(Be){var X=o.findTargetByRelationshipId(Be);return{path:X,read:u.read.bind(u,X)}}else return null}function Re(Ne){var ke=Ne.attributes["r:id"];return ke?We(Fe(ke),Ne.attributes["o:title"]):wk([dh("A v:imagedata element without a relationship ID was ignored")])}function Fe(Ne){var ke=Uq.uriToZipEntryName("word",o.findTargetByRelationshipId(Ne));return{path:ke,read:c.read.bind(c,ke)}}function We(Ne,ke){var Be=l.findContentType(Ne.path),X=Oi.Image({readImage:Ne.read,altText:ke,contentType:Be}),Ae=W2e[Be]?[]:dh("Image of type "+Be+" is unlikely to display in web browsers");return iD(X,Ae)}function ze(Ne,ke){return dh(Ne+" style with ID "+ke+" was referenced but not defined in the document")}}function wee(n,e,i){var r=e.firstOrEmpty("w:ilvl").attributes["w:val"],o=e.firstOrEmpty("w:numId").attributes["w:val"];if(r!==void 0&&o!==void 0)return i.findLevel(o,r);if(n!=null){var l=i.findLevelByParagraphStyleId(n);if(l!=null)return l}return null}var W2e={"image/png":!0,"image/gif":!0,"image/jpeg":!0,"image/svg+xml":!0,"image/tiff":!0},$2e={"office-word:wrap":!0,"v:shadow":!0,"v:shapetype":!0,"w:annotationRef":!0,"w:bookmarkEnd":!0,"w:sectPr":!0,"w:proofErr":!0,"w:lastRenderedPageBreak":!0,"w:commentRangeStart":!0,"w:commentRangeEnd":!0,"w:del":!0,"w:footnoteRef":!0,"w:endnoteRef":!0,"w:pPr":!0,"w:rPr":!0,"w:tblPr":!0,"w:tblGrid":!0,"w:trPr":!0,"w:tcPr":!0};function wk(n){return new Ts(null,null,n)}function xk(){return new Ts(null)}function Go(n){return new Ts(n)}function iD(n,e){return new Ts(n,null,e)}function Ts(n,e,i){this.value=n||[],this.extra=e||[],this._result=new vee({element:this.value,extra:e},i),this.messages=this._result.messages}Ts.prototype.toExtra=function(){return new Ts(null,G3(this.extra,this.value),this.messages)};Ts.prototype.insertExtra=function(){var n=this.extra;return n&&n.length?new Ts(G3(this.value,n),null,this.messages):this};Ts.prototype.map=function(n){var e=this._result.map(function(i){return n(i.element)});return new Ts(e.value,this.extra,e.messages)};Ts.prototype.flatMap=function(n){var e=this._result.flatMap(function(i){return n(i.element)._result});return new Ts(e.value.element,G3(this.extra,e.value.extra),e.messages)};Ts.map=function(n,e,i){return new Ts(i(n.value,e.value),G3(n.extra,e.extra),n.messages.concat(e.messages))};function Bq(n){var e=vee.combine(Jl.pluck(n,"_result"));return new Ts(Jl.flatten(Jl.pluck(e.value,"element")),Jl.filter(Jl.flatten(Jl.pluck(e.value,"extra")),q2e),e.messages)}function G3(n,e){return Jl.flatten([n,e])}function q2e(n){return n}var xee={};xee.DocumentXmlReader=X2e;var H2e=_n,G2e=sl.Result;function X2e(n){var e=n.bodyReader;function i(r){var o=r.first("w:body");if(o==null)throw new Error("Could not find the body element: are you sure this is a docx file?");var l=e.readXmlElements(o.children).map(function(c){return new H2e.Document(c,{notes:n.notes,comments:n.comments})});return new G2e(l.value,l.messages)}return{convertXmlToDocument:i}}var X3={};X3.readRelationships=K2e;X3.defaultValue=new iU([]);X3.Relationships=iU;function K2e(n){var e=[];return n.children.forEach(function(i){if(i.name==="relationships:Relationship"){var r={relationshipId:i.attributes.Id,target:i.attributes.Target,type:i.attributes.Type};e.push(r)}}),new iU(e)}function iU(n){var e={};n.forEach(function(r){e[r.relationshipId]=r.target});var i={};return n.forEach(function(r){i[r.type]||(i[r.type]=[]),i[r.type].push(r.target)}),{findTargetByRelationshipId:function(r){return e[r]},findTargetsByType:function(r){return i[r]||[]}}}var rU={};rU.readContentTypesFromXml=Y2e;var Z2e={png:"png",gif:"gif",jpeg:"jpeg",jpg:"jpeg",tif:"tiff",tiff:"tiff",bmp:"bmp"};rU.defaultContentTypes=_ee({},{});function Y2e(n){var e={},i={};return n.children.forEach(function(r){if(r.name==="content-types:Default"&&(e[r.attributes.Extension]=r.attributes.ContentType),r.name==="content-types:Override"){var o=r.attributes.PartName;o.charAt(0)==="/"&&(o=o.substring(1)),i[o]=r.attributes.ContentType}}),_ee(i,e)}function _ee(n,e){return{findContentType:function(i){var r=n[i];if(r)return r;var o=i.split("."),l=o[o.length-1];if(e.hasOwnProperty(l))return e[l];var c=Z2e[l.toLowerCase()];return c?"image/"+c:null}}}var K3={},rD=lr;K3.readNumberingXml=J2e;K3.Numbering=sU;K3.defaultNumbering=new sU({},{});function sU(n,e,i){var r=rD.flatten(rD.values(e).map(function(u){return rD.values(u.levels)})),o=rD.indexBy(r.filter(function(u){return u.paragraphStyleId!=null}),"paragraphStyleId");function l(u,h){var m=n[u];if(m){var g=e[m.abstractNumId];if(g){if(g.numStyleLink==null)return e[m.abstractNumId].levels[h];var y=i.findNumberingStyleById(g.numStyleLink);return l(y.numId,h)}else return null}else return null}function c(u){return o[u]||null}return{findLevel:l,findLevelByParagraphStyleId:c}}function J2e(n,e){if(!e||!e.styles)throw new Error("styles is missing");var i=Q2e(n),r=tEe(n);return new sU(r,i,e.styles)}function Q2e(n){var e={};return n.getElementsByTagName("w:abstractNum").forEach(function(i){var r=i.attributes["w:abstractNumId"];e[r]=eEe(i)}),e}function eEe(n){var e={};n.getElementsByTagName("w:lvl").forEach(function(r){var o=r.attributes["w:ilvl"],l=r.firstOrEmpty("w:numFmt").attributes["w:val"],c=r.firstOrEmpty("w:pStyle").attributes["w:val"];e[o]={isOrdered:l!=="bullet",level:o,paragraphStyleId:c}});var i=n.firstOrEmpty("w:numStyleLink").attributes["w:val"];return{levels:e,numStyleLink:i}}function tEe(n){var e={};return n.getElementsByTagName("w:num").forEach(function(i){var r=i.attributes["w:numId"],o=i.first("w:abstractNumId").attributes["w:val"];e[r]={abstractNumId:o}}),e}var Z3={};Z3.readStylesXml=nEe;Z3.Styles=sE;Z3.defaultStyles=new sE({},{});function sE(n,e,i,r){return{findParagraphStyleById:function(o){return n[o]},findCharacterStyleById:function(o){return e[o]},findTableStyleById:function(o){return i[o]},findNumberingStyleById:function(o){return r[o]}}}sE.EMPTY=new sE({},{},{},{});function nEe(n){var e={},i={},r={},o={},l={paragraph:e,character:i,table:r};return n.getElementsByTagName("w:style").forEach(function(c){var u=iEe(c);if(u.type==="numbering")o[u.styleId]=sEe(c);else{var h=l[u.type];h&&(h[u.styleId]=u)}}),new sE(e,i,r,o)}function iEe(n){var e=n.attributes["w:type"],i=n.attributes["w:styleId"],r=rEe(n);return{type:e,styleId:i,name:r}}function rEe(n){var e=n.first("w:name");return e?e.attributes["w:val"]:null}function sEe(n){var e=n.firstOrEmpty("w:pPr").firstOrEmpty("w:numPr").firstOrEmpty("w:numId").attributes["w:val"];return{numId:e}}var oU={},oEe=_n,aEe=sl.Result;oU.createFootnotesReader=kee.bind(Lt,"footnote");oU.createEndnotesReader=kee.bind(Lt,"endnote");function kee(n,e){function i(l){return aEe.combine(l.getElementsByTagName("w:"+n).filter(r).map(o))}function r(l){var c=l.attributes["w:type"];return c!=="continuationSeparator"&&c!=="separator"}function o(l){var c=l.attributes["w:id"];return e.readXmlElements(l.children).map(function(u){return oEe.Note({noteType:n,noteId:c,body:u})})}return i}var Eee={},lEe=_n,cEe=sl.Result;function uEe(n){function e(r){return cEe.combine(r.getElementsByTagName("w:comment").map(i))}function i(r){var o=r.attributes["w:id"];function l(c){return(r.attributes[c]||"").trim()||null}return n.readXmlElements(r.children).map(function(c){return lEe.comment({commentId:o,body:c,authorName:l("w:author"),authorInitials:l("w:initials")})})}return e}Eee.createCommentsReader=uEe;var See={},dEe=is;See.Files=hEe;function hEe(){function n(e){return dEe.reject(new Error("could not open external image: '"+e+`'
cannot open linked files from a web browser`))}return{read:n}}OF.read=yEe;OF._findPartPaths=Cee;var fEe=is,pEe=_n,F4=sl.Result,rN=JS,Aee=LF.readXmlFromZipFile,mEe=QF.createBodyReader,gEe=xee.DocumentXmlReader,U1=X3,zq=rU,Vq=K3,Wq=Z3,$q=oU,bEe=Eee,qq=See.Files;function yEe(n,e){return e=e||{},fEe.props({contentTypes:wEe(n),partPaths:Cee(n),docxFile:n,files:e.path?qq.relativeToFile(e.path):new qq(null)}).also(function(i){return{styles:_Ee(n,i.partPaths.styles)}}).also(function(i){return{numbering:xEe(n,i.partPaths.numbering,i.styles)}}).also(function(i){return{footnotes:sD(i.partPaths.footnotes,i,function(r,o){return o?$q.createFootnotesReader(r)(o):new F4([])}),endnotes:sD(i.partPaths.endnotes,i,function(r,o){return o?$q.createEndnotesReader(r)(o):new F4([])}),comments:sD(i.partPaths.comments,i,function(r,o){return o?bEe.createCommentsReader(r)(o):new F4([])})}}).also(function(i){return{notes:i.footnotes.flatMap(function(r){return i.endnotes.map(function(o){return new pEe.Notes(r.concat(o))})})}}).then(function(i){return sD(i.partPaths.mainDocument,i,function(r,o){return i.notes.flatMap(function(l){return i.comments.flatMap(function(c){var u=new gEe({bodyReader:r,notes:l,comments:c});return u.convertXmlToDocument(o)})})})})}function Cee(n){return kEe(n).then(function(e){var i=Hq({docxFile:n,relationships:e,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",basePath:"",fallbackPath:"word/document.xml"});if(!n.exists(i))throw new Error("Could not find main document part. Are you sure this is a valid .docx file?");return tx({filename:Tee(i),readElement:U1.readRelationships,defaultValue:U1.defaultValue})(n).then(function(r){function o(l){return Hq({docxFile:n,relationships:r,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/"+l,basePath:rN.splitPath(i).dirname,fallbackPath:"word/"+l+".xml"})}return{mainDocument:i,comments:o("comments"),endnotes:o("endnotes"),footnotes:o("footnotes"),numbering:o("numbering"),styles:o("styles")}})})}function Hq(n){var e=n.docxFile,i=n.relationships,r=n.relationshipType,o=n.basePath,l=n.fallbackPath,c=i.findTargetsByType(r),u=c.map(function(m){return vEe(rN.joinPath(o,m),"/")}),h=u.filter(function(m){return e.exists(m)});return h.length===0?l:h[0]}function vEe(n,e){return n.substring(0,e.length)===e?n.substring(e.length):n}function tx(n){return function(e){return Aee(e,n.filename).then(function(i){return i?n.readElement(i):n.defaultValue})}}function sD(n,e,i){var r=tx({filename:Tee(n),readElement:U1.readRelationships,defaultValue:U1.defaultValue});return r(e.docxFile).then(function(o){var l=new mEe({relationships:o,contentTypes:e.contentTypes,docxFile:e.docxFile,numbering:e.numbering,styles:e.styles,files:e.files});return Aee(e.docxFile,n).then(function(c){return i(l,c)})})}function Tee(n){var e=rN.splitPath(n);return rN.joinPath(e.dirname,"_rels",e.basename+".rels")}var wEe=tx({filename:"[Content_Types].xml",readElement:zq.readContentTypesFromXml,defaultValue:zq.defaultContentTypes});function xEe(n,e,i){return tx({filename:e,readElement:function(r){return Vq.readNumberingXml(r,{styles:i})},defaultValue:Vq.defaultNumbering})(n)}function _Ee(n,e){return tx({filename:e,readElement:Wq.readStylesXml,defaultValue:Wq.defaultStyles})(n)}var kEe=tx({filename:"_rels/.rels",readElement:U1.readRelationships,defaultValue:U1.defaultValue}),aU={},EEe=lr,SEe=is,oE=yf;aU.writeStyleMap=CEe;aU.readStyleMap=NEe;var AEe="http://schemas.zwobble.org/mammoth/style-map",sN="mammoth/style-map",Dee="/"+sN;function CEe(n,e){return n.write(sN,e),TEe(n).then(function(){return DEe(n)})}function TEe(n){var e="word/_rels/document.xml.rels",i="http://schemas.openxmlformats.org/package/2006/relationships",r="{"+i+"}Relationship";return n.read(e,"utf8").then(oE.readString).then(function(o){var l=o.children;Nee(l,r,"Id",{Id:"rMammothStyleMap",Type:AEe,Target:Dee});var c={"":i};return n.write(e,oE.writeString(o,c))})}function DEe(n){var e="[Content_Types].xml",i="http://schemas.openxmlformats.org/package/2006/content-types",r="{"+i+"}Override";return n.read(e,"utf8").then(oE.readString).then(function(o){var l=o.children;Nee(l,r,"PartName",{PartName:Dee,ContentType:"text/prs.mammoth.style-map"});var c={"":i};return n.write(e,oE.writeString(o,c))})}function Nee(n,e,i,r){var o=EEe.find(n,function(l){return l.name===e&&l.attributes[i]===r[i]});o?o.attributes=r:n.push(oE.element(e,r))}function NEe(n){return n.exists(sN)?n.read(sN,"utf8"):SEe.resolve(null)}var lU={},Kg={},hh={},bp={},Gq;function Pee(){if(Gq)return bp;Gq=1;var n=J3();function e(h,m,g){return r(n.element(h,m,{fresh:!1}),g)}function i(h,m,g){var y=n.element(h,m,{fresh:!0});return r(y,g)}function r(h,m){return{type:"element",tag:h,children:m||[]}}function o(h){return{type:"text",value:h}}var l={type:"forceWrite"};bp.freshElement=i,bp.nonFreshElement=e,bp.elementWithTag=r,bp.text=o,bp.forceWrite=l;var c={br:!0,hr:!0,img:!0,input:!0};function u(h){return h.children.length===0&&c[h.tag.tagName]}return bp.isVoidElement=u,bp}var U4,Xq;function PEe(){if(Xq)return U4;Xq=1;var n=lr,e=Pee();function i(S){return r(m(S))}function r(S){var C=[];return S.map(o).forEach(function(T){h(C,T)}),C}function o(S){return l[S.type](S)}var l={element:c,text:u,forceWrite:u};function c(S){return e.elementWithTag(S.tag,r(S.children))}function u(S){return S}function h(S,C){var T=S[S.length-1];C.type==="element"&&!C.tag.fresh&&T&&T.type==="element"&&C.tag.matchesElement(T.tag)?(C.tag.separator&&h(T.children,e.text(C.tag.separator)),C.children.forEach(function(N){h(T.children,N)})):S.push(C)}function m(S){return g(S,function(C){return y[C.type](C)})}function g(S,C){return n.flatten(n.map(S,C),!0)}var y={element:_,text:A,forceWrite:v};function v(S){return[S]}function _(S){var C=m(S.children);return C.length===0&&!e.isVoidElement(S)?[]:[e.elementWithTag(S.tag,C)]}function A(S){return S.value.length===0?[]:[S]}return U4=i,U4}var Kq;function Y3(){if(Kq)return hh;Kq=1;var n=Pee();hh.freshElement=n.freshElement,hh.nonFreshElement=n.nonFreshElement,hh.elementWithTag=n.elementWithTag,hh.text=n.text,hh.forceWrite=n.forceWrite,hh.simplify=PEe();function e(c,u){u.forEach(function(h){i(c,h)})}function i(c,u){r[u.type](c,u)}var r={element:o,text:l,forceWrite:function(){}};function o(c,u){n.isVoidElement(u)?c.selfClosing(u.tag.tagName,u.tag.attributes):(c.open(u.tag.tagName,u.tag.attributes),e(c,u.children),c.close(u.tag.tagName))}function l(c,u){c.text(u.value)}return hh.write=e,hh}var Zq;function J3(){if(Zq)return Kg;Zq=1;var n=lr,e=Y3();Kg.topLevelElement=i,Kg.elements=r,Kg.element=l;function i(u,h){return r([l(u,h,{fresh:!0})])}function r(u){return new o(u.map(function(h){return n.isString(h)?l(h):h}))}function o(u){this._elements=u}o.prototype.wrap=function(h){for(var m=h(),g=this._elements.length-1;g>=0;g--)m=this._elements[g].wrapNodes(m);return m};function l(u,h,m){return m=m||{},new c(u,h,m)}function c(u,h,m){var g={};n.isArray(u)?(u.forEach(function(y){g[y]=!0}),u=u[0]):g[u]=!0,this.tagName=u,this.tagNames=g,this.attributes=h||{},this.fresh=m.fresh,this.separator=m.separator}return c.prototype.matchesElement=function(u){return this.tagNames[u.tagName]&&n.isEqual(this.attributes||{},u.attributes||{})},c.prototype.wrap=function(h){return this.wrapNodes(h())},c.prototype.wrapNodes=function(h){return[e.elementWithTag(this,h)]},Kg.empty=r([]),Kg.ignore={wrap:function(){return[]}},Kg}var cU={};(function(n){var e=lr,i=is,r=Y3();n.imgElement=o;function o(l){return function(c,u){return i.when(l(c)).then(function(h){var m={};return c.altText&&(m.alt=c.altText),e.extend(m,h),[r.freshElement("img",m)]})}}n.inline=n.imgElement,n.dataUri=o(function(l){return l.readAsBase64String().then(function(c){return{src:"data:"+l.contentType+";base64,"+c}})})})(cU);var Iee={},jee={},Ree=lr;jee.writer=IEe;function IEe(n){return n=n||{},n.prettyPrint?jEe():Mee()}var oD={div:!0,p:!0,ul:!0,li:!0};function jEe(){var n=0,e="  ",i=[],r=!0,o=!1,l=Mee();function c(A,S){oD[A]&&v(),i.push(A),l.open(A,S),oD[A]&&n++,r=!1}function u(A){oD[A]&&(n--,v()),i.pop(),l.close(A)}function h(A){y();var S=_()?A:A.replace(`
`,`
`+e);l.text(S)}function m(A,S){v(),l.selfClosing(A,S)}function g(){return i.length===0||oD[i[i.length-1]]}function y(){o||(v(),o=!0)}function v(){if(o=!1,!r&&g()&&!_()){l._append(`
`);for(var A=0;A<n;A++)l._append(e)}}function _(){return Ree.some(i,function(A){return A==="pre"})}return{asString:l.asString,open:c,close:u,text:h,selfClosing:m}}function Mee(){var n=[];function e(h,m){var g=o(m);n.push("<"+h+g+">")}function i(h){n.push("</"+h+">")}function r(h,m){var g=o(m);n.push("<"+h+g+" />")}function o(h){return Ree.map(h,function(m,g){return" "+g+'="'+MEe(m)+'"'}).join("")}function l(h){n.push(REe(h))}function c(h){n.push(h)}function u(){return n.join("")}return{asString:u,open:e,close:i,text:l,selfClosing:r,_append:c}}function REe(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function MEe(n){return n.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Oee={},OEe=lr;function Yq(n){return oN(n,n)}function oN(n,e){return function(){return{start:n,end:e}}}function FEe(n){var e=n.href||"";return e?{start:"[",end:"]("+e+")",anchorPosition:"before"}:{}}function UEe(n){var e=n.src||"",i=n.alt||"";return e||i?{start:"!["+i+"]("+e+")"}:{}}function Jq(n){return function(e,i){return{start:i?`
`:"",end:i?"":`
`,list:{isOrdered:n.isOrdered,indent:i?i.indent+1:0,count:0}}}}function LEe(n,e,i){e=e||{indent:0,isOrdered:!1,count:0},e.count++,i.hasClosed=!1;var r=e.isOrdered?e.count+".":"-",o=Uee("	",e.indent)+r+" ";return{start:o,end:function(){if(!i.hasClosed)return i.hasClosed=!0,`
`}}}var Fee={p:oN("",`

`),br:oN("",`  
`),ul:Jq({isOrdered:!1}),ol:Jq({isOrdered:!0}),li:LEe,strong:Yq("__"),em:Yq("*"),a:FEe,img:UEe};(function(){for(var n=1;n<=6;n++)Fee["h"+n]=oN(Uee("#",n)+" ",`

`)})();function Uee(n,e){return new Array(e+1).join(n)}function BEe(){var n=[],e=[],i=null,r={};function o(g,y){y=y||{};var v=Fee[g]||function(){return{}},_=v(y,i,r);e.push({end:_.end,list:i}),_.list&&(i=_.list);var A=_.anchorPosition==="before";A&&l(y),n.push(_.start||""),A||l(y)}function l(g){g.id&&n.push('<a id="'+g.id+'"></a>')}function c(g){var y=e.pop();i=y.list;var v=OEe.isFunction(y.end)?y.end():y.end;n.push(v||"")}function u(g,y){o(g,y),c()}function h(g){n.push(zEe(g))}function m(){return n.join("")}return{asString:m,open:o,close:c,text:h,selfClosing:u}}Oee.writer=BEe;function zEe(n){return n.replace(/\\/g,"\\\\").replace(/([\`\*_\{\}\[\]\(\)\#\+\-\.\!])/g,"\\$1")}var VEe=jee,WEe=Oee;Iee.writer=$Ee;function $Ee(n){return n=n||{},n.outputFormat==="markdown"?WEe.writer():VEe.writer(n)}var Sp=lr,Qq=is,jD=_n,Fl=J3(),UM=sl,qEe=cU,kn=Y3(),HEe=Iee;lU.DocumentConverter=GEe;function GEe(n){return{convertToHtml:function(e){var i=Sp.indexBy(e.type===jD.types.document?e.comments:[],"commentId"),r=new XEe(n,i);return r.convertToHtml(e)}}}function XEe(n,e){var i=1,r=[],o=[];n=Sp.extend({ignoreEmptyParagraphs:!0},n);var l=n.idPrefix===void 0?"":n.idPrefix,c=n.ignoreEmptyParagraphs,u=Fl.topLevelElement("p"),h=n.styleMap||[];function m(G){var K=[],ne=y(G,K,{}),J=[];Lee(ne,function(ee){ee.type==="deferred"&&J.push(ee)});var ue={};return Qq.mapSeries(J,function(ee){return ee.value().then(function(xe){ue[ee.id]=xe})}).then(function(){function ee(Se){return L4(Se,function(Me){return Me.type==="deferred"?ue[Me.id]:Me.children?[Sp.extend({},Me,{children:ee(Me.children)})]:[Me]})}var xe=HEe.writer({prettyPrint:n.prettyPrint,outputFormat:n.outputFormat});return kn.write(xe,kn.simplify(ee(ne))),new UM.Result(xe.asString(),K)})}function g(G,K,ne){return L4(G,function(J){return y(J,K,ne)})}function y(G,K,ne){if(!ne)throw new Error("options not set");var J=ie[G.type];return J?J(G,K,ne):[]}function v(G,K,ne){return _(G,K).wrap(function(){var J=g(G.children,K,ne);return c?J:[kn.forceWrite].concat(J)})}function _(G,K){var ne=T(G);return ne?ne.to:(G.styleId&&K.push(eH("paragraph",G)),u)}function A(G,K,ne){var J=function(){return g(G.children,K,ne)},ue=[];if(G.highlight!==null){var ee=C({type:"highlight",color:G.highlight});ee&&ue.push(ee)}G.isSmallCaps&&ue.push(S("smallCaps")),G.isAllCaps&&ue.push(S("allCaps")),G.isStrikethrough&&ue.push(S("strikethrough","s")),G.isUnderline&&ue.push(S("underline")),G.verticalAlignment===jD.verticalAlignment.subscript&&ue.push(Fl.element("sub",{},{fresh:!1})),G.verticalAlignment===jD.verticalAlignment.superscript&&ue.push(Fl.element("sup",{},{fresh:!1})),G.isItalic&&ue.push(S("italic","em")),G.isBold&&ue.push(S("bold","strong"));var xe=Fl.empty,Se=T(G);return Se?xe=Se.to:G.styleId&&K.push(eH("run",G)),ue.push(xe),ue.forEach(function(Me){J=Me.wrap.bind(Me,J)}),J()}function S(G,K){var ne=C({type:G});return ne||(K?Fl.element(K,{},{fresh:!1}):Fl.empty)}function C(G,K){var ne=T(G);return ne?ne.to:K}function T(G){for(var K=0;K<h.length;K++)if(h[K].from.matches(G))return h[K]}function N(G){return function(K,ne){return Qq.attempt(function(){return G(K,ne)}).caught(function(J){return ne.push(UM.error(J)),[]})}}function I(G){return F(G.noteType,G.noteId)}function O(G){return U(G.noteType,G.noteId)}function F(G,K){return V(G+"-"+K)}function U(G,K){return V(G+"-ref-"+K)}function V(G){return l+G}var B=Fl.elements([Fl.element("table",{},{fresh:!0})]);function Z(G,K,ne){return C(G,B).wrap(function(){return ae(G,K,ne)})}function ae(G,K,ne){var J=Sp.findIndex(G.children,function(Se){return!Se.type===jD.types.tableRow||!Se.isHeader});J===-1&&(J=G.children.length);var ue;if(J===0)ue=g(G.children,K,Sp.extend({},ne,{isTableHeader:!1}));else{var ee=g(G.children.slice(0,J),K,Sp.extend({},ne,{isTableHeader:!0})),xe=g(G.children.slice(J),K,Sp.extend({},ne,{isTableHeader:!1}));ue=[kn.freshElement("thead",{},ee),kn.freshElement("tbody",{},xe)]}return[kn.forceWrite].concat(ue)}function me(G,K,ne){var J=g(G.children,K,ne);return[kn.freshElement("tr",{},[kn.forceWrite].concat(J))]}function Q(G,K,ne){var J=ne.isTableHeader?"th":"td",ue=g(G.children,K,ne),ee={};return G.colSpan!==1&&(ee.colspan=G.colSpan.toString()),G.rowSpan!==1&&(ee.rowspan=G.rowSpan.toString()),[kn.freshElement(J,ee,[kn.forceWrite].concat(ue))]}function ge(G,K,ne){return C(G,Fl.ignore).wrap(function(){var J=e[G.commentId],ue=o.length+1,ee="["+YEe(J)+ue+"]";return o.push({label:ee,comment:J}),[kn.freshElement("a",{href:"#"+F("comment",G.commentId),id:U("comment",G.commentId)},[kn.text(ee)])]})}function $(G,K,ne){var J=G.label,ue=G.comment,ee=g(ue.body,K,ne).concat([kn.nonFreshElement("p",{},[kn.text(" "),kn.freshElement("a",{href:"#"+U("comment",ue.commentId)},[kn.text("↑")])])]);return[kn.freshElement("dt",{id:F("comment",ue.commentId)},[kn.text("Comment "+J)]),kn.freshElement("dd",{},ee)]}function Te(G,K,ne){return re(G).wrap(function(){return[]})}function re(G){var K=T(G);return K?K.to:G.breakType==="line"?Fl.topLevelElement("br"):Fl.empty}var ie={document:function(G,K,ne){var J=g(G.children,K,ne),ue=r.map(function(xe){return G.notes.resolve(xe)}),ee=g(ue,K,ne);return J.concat([kn.freshElement("ol",{},ee),kn.freshElement("dl",{},L4(o,function(xe){return $(xe,K,ne)}))])},paragraph:v,run:A,text:function(G,K,ne){return[kn.text(G.value)]},tab:function(G,K,ne){return[kn.text("	")]},hyperlink:function(G,K,ne){var J=G.anchor?"#"+V(G.anchor):G.href,ue={href:J};G.targetFrame!=null&&(ue.target=G.targetFrame);var ee=g(G.children,K,ne);return[kn.nonFreshElement("a",ue,ee)]},checkbox:function(G){var K={type:"checkbox"};return G.checked&&(K.checked="checked"),[kn.freshElement("input",K)]},bookmarkStart:function(G,K,ne){var J=kn.freshElement("a",{id:V(G.name)},[kn.forceWrite]);return[J]},noteReference:function(G,K,ne){r.push(G);var J=kn.freshElement("a",{href:"#"+I(G),id:O(G)},[kn.text("["+i+++"]")]);return[kn.freshElement("sup",{},[J])]},note:function(G,K,ne){var J=g(G.body,K,ne),ue=kn.elementWithTag(Fl.element("p",{},{fresh:!1}),[kn.text(" "),kn.freshElement("a",{href:"#"+O(G)},[kn.text("↑")])]),ee=J.concat([ue]);return kn.freshElement("li",{id:I(G)},ee)},commentReference:ge,comment:$,image:ZEe(N(n.convertImage||qEe.dataUri)),table:Z,tableRow:me,tableCell:Q,break:Te};return{convertToHtml:m}}var KEe=1;function ZEe(n){return function(e,i,r){return[{type:"deferred",id:KEe++,value:function(){return n(e,i,r)}}]}}function eH(n,e){return UM.warning("Unrecognised "+n+" style: '"+e.styleName+"' (Style ID: "+e.styleId+")")}function L4(n,e){return Sp.flatten(n.map(e),!0)}function Lee(n,e){n.forEach(function(i){e(i),i.children&&Lee(i.children,e)})}var YEe=lU.commentAuthorLabel=function(e){return e.authorInitials||""},Bee={},JEe=_n;function zee(n){if(n.type==="text")return n.value;if(n.type===JEe.types.tab)return"	";var e=n.type==="paragraph"?`

`:"";return(n.children||[]).map(zee).join("")+e}Bee.convertElementToRawText=zee;var Q3={},iu={},Vee={},Wee={exports:{}},L1=Wee.exports=function(n,e){this._tokens=n,this._startIndex=e||0};L1.prototype.head=function(){return this._tokens[this._startIndex]};L1.prototype.tail=function(n){return new L1(this._tokens,this._startIndex+1)};L1.prototype.toArray=function(){return this._tokens.slice(this._startIndex)};L1.prototype.end=function(){return this._tokens[this._tokens.length-1]};L1.prototype.to=function(n){var e=this.head().source,i=n.head()||n.end();return e.to(i.source)};var QEe=Wee.exports,eSe=QEe;Vee.Parser=function(n){var e=function(i,r){return i(new eSe(r))};return{parseTokens:e}};var uU={},$ee={};(function(n){n.none=Object.create({value:function(){throw new Error("Called value on none")},isNone:function(){return!0},isSome:function(){return!1},map:function(){return n.none},flatMap:function(){return n.none},filter:function(){return n.none},toArray:function(){return[]},orElse:e,valueOrElse:e});function e(r){return typeof r=="function"?r():r}n.some=function(r){return new i(r)};var i=function(r){this._value=r};i.prototype.value=function(){return this._value},i.prototype.isNone=function(){return!1},i.prototype.isSome=function(){return!0},i.prototype.map=function(r){return new i(r(this._value))},i.prototype.flatMap=function(r){return r(this._value)},i.prototype.filter=function(r){return r(this._value)?this:n.none},i.prototype.toArray=function(){return[this._value]},i.prototype.orElse=function(r){return this},i.prototype.valueOrElse=function(r){return this._value},n.isOption=function(r){return r===n.none||r instanceof i},n.fromNullable=function(r){return r==null?n.none:new i(r)}})($ee);var dU={failure:function(n,e){if(n.length<1)throw new Error("Failure must have errors");return new Qs({status:"failure",remaining:e,errors:n})},error:function(n,e){if(n.length<1)throw new Error("Failure must have errors");return new Qs({status:"error",remaining:e,errors:n})},success:function(n,e,i){return new Qs({status:"success",value:n,source:i,remaining:e,errors:[]})},cut:function(n){return new Qs({status:"cut",remaining:n,errors:[]})}},Qs=function(n){this._value=n.value,this._status=n.status,this._hasValue=n.value!==void 0,this._remaining=n.remaining,this._source=n.source,this._errors=n.errors};Qs.prototype.map=function(n){return this._hasValue?new Qs({value:n(this._value,this._source),status:this._status,remaining:this._remaining,source:this._source,errors:this._errors}):this};Qs.prototype.changeRemaining=function(n){return new Qs({value:this._value,status:this._status,remaining:n,source:this._source,errors:this._errors})};Qs.prototype.isSuccess=function(){return this._status==="success"||this._status==="cut"};Qs.prototype.isFailure=function(){return this._status==="failure"};Qs.prototype.isError=function(){return this._status==="error"};Qs.prototype.isCut=function(){return this._status==="cut"};Qs.prototype.value=function(){return this._value};Qs.prototype.remaining=function(){return this._remaining};Qs.prototype.source=function(){return this._source};Qs.prototype.errors=function(){return this._errors};var hU={};hU.error=function(n){return new eP(n)};var eP=function(n){this.expected=n.expected,this.actual=n.actual,this._location=n.location};eP.prototype.describe=function(){var n=this._location?this._location.describe()+`:
`:"";return n+"Expected "+this.expected+`
but got `+this.actual};eP.prototype.lineNumber=function(){return this._location.lineNumber()};eP.prototype.characterNumber=function(){return this._location.characterNumber()};var qee={};qee.fromArray=function(n){var e=0,i=function(){return e<n.length};return new P0({hasNext:i,next:function(){if(i())return n[e++];throw new Error("No more elements")}})};var P0=function(n){this._iterator=n};P0.prototype.map=function(n){var e=this._iterator;return new P0({hasNext:function(){return e.hasNext()},next:function(){return n(e.next())}})};P0.prototype.filter=function(n){var e=this._iterator,i=!1,r=!1,o,l=function(){if(!i)for(i=!0,r=!1;e.hasNext()&&!r;)o=e.next(),r=n(o)};return new P0({hasNext:function(){return l(),r},next:function(){l();var c=o;return i=!1,c}})};P0.prototype.first=function(){var n=this._iterator;return this._iterator.hasNext()?n.next():null};P0.prototype.toArray=function(){for(var n=[];this._iterator.hasNext();)n.push(this._iterator.next());return n};(function(n){var e=lr,i=$ee,r=dU,o=hU,l=qee;n.token=function(v,_){var A=_!==void 0;return function(S){var C=S.head();if(C&&C.name===v&&(!A||C.value===_))return r.success(C.value,S.tail(),C.source);var T=g({name:v,value:_});return y(S,T)}},n.tokenOfType=function(v){return n.token(v)},n.firstOf=function(v,_){return e.isArray(_)||(_=Array.prototype.slice.call(arguments,1)),function(A){return l.fromArray(_).map(function(S){return S(A)}).filter(function(S){return S.isSuccess()||S.isError()}).first()||y(A,v)}},n.then=function(v,_){return function(A){var S=v(A);return S.map||console.log(S),S.map(_)}},n.sequence=function(){var v=Array.prototype.slice.call(arguments,0),_=function(S){var C=e.foldl(v,function(N,I){var O=N.result,F=N.hasCut;if(!O.isSuccess())return{result:O,hasCut:F};var U=I(O.remaining());if(U.isCut())return{result:O,hasCut:!0};if(U.isSuccess()){var V;I.isCaptured?V=O.value().withValue(I,U.value()):V=O.value();var B=U.remaining(),Z=S.to(B);return{result:r.success(V,B,Z),hasCut:F}}else return F?{result:r.error(U.errors(),U.remaining()),hasCut:F}:{result:U,hasCut:F}},{result:r.success(new c,S),hasCut:!1}).result,T=S.to(C.remaining());return C.map(function(N){return N.withValue(n.sequence.source,T)})};_.head=function(){var S=e.find(v,A);return n.then(_,n.sequence.extract(S))},_.map=function(S){return n.then(_,function(C){return S.apply(this,C.toArray())})};function A(S){return S.isCaptured}return _};var c=function(v,_){this._values=v||{},this._valuesArray=_||[]};c.prototype.withValue=function(v,_){if(v.captureName&&v.captureName in this._values)throw new Error('Cannot add second value for capture "'+v.captureName+'"');var A=e.clone(this._values);A[v.captureName]=_;var S=this._valuesArray.concat([_]);return new c(A,S)},c.prototype.get=function(v){if(v.captureName in this._values)return this._values[v.captureName];throw new Error('No value for capture "'+v.captureName+'"')},c.prototype.toArray=function(){return this._valuesArray},n.sequence.capture=function(v,_){var A=function(){return v.apply(this,arguments)};return A.captureName=_,A.isCaptured=!0,A},n.sequence.extract=function(v){return function(_){return _.get(v)}},n.sequence.applyValues=function(v){var _=Array.prototype.slice.call(arguments,1);return function(A){var S=_.map(function(C){return A.get(C)});return v.apply(this,S)}},n.sequence.source={captureName:"☃source☃"},n.sequence.cut=function(){return function(v){return r.cut(v)}},n.optional=function(v){return function(_){var A=v(_);return A.isSuccess()?A.map(i.some):A.isFailure()?r.success(i.none,_):A}},n.zeroOrMoreWithSeparator=function(v,_){return m(v,_,!1)},n.oneOrMoreWithSeparator=function(v,_){return m(v,_,!0)};var u=n.zeroOrMore=function(v){return function(_){for(var A=[],S;(S=v(_))&&S.isSuccess();)_=S.remaining(),A.push(S.value());return S.isError()?S:r.success(A,_)}};n.oneOrMore=function(v){return n.oneOrMoreWithSeparator(v,h)};function h(v){return r.success(null,v)}var m=function(v,_,A){return function(S){var C=v(S);if(C.isSuccess()){var T=n.sequence.capture(v,"main"),N=u(n.then(n.sequence(_,T),n.sequence.extract(T))),I=N(C.remaining());return r.success([C.value()].concat(I.value()),I.remaining())}else return A||C.isError()?C:r.success([],S)}};n.leftAssociative=function(v,_,A){var S;A?S=[{func:A,rule:_}]:S=_,S=S.map(function(T){return n.then(T.rule,function(N){return function(I,O){return T.func(I,N,O)}})});var C=n.firstOf.apply(null,["rules"].concat(S));return function(T){var N=T,I=v(T);if(!I.isSuccess())return I;for(var O=C(I.remaining());O.isSuccess();){var F=O.remaining(),U=N.to(O.remaining()),V=O.value();I=r.success(V(I.value(),U),F,U),O=C(I.remaining())}return O.isError()?O:I}},n.leftAssociative.firstOf=function(){return Array.prototype.slice.call(arguments,0)},n.nonConsuming=function(v){return function(_){return v(_).changeRemaining(_)}};var g=function(v){return v.value?v.name+' "'+v.value+'"':v.name};function y(v,_){var A,S=v.head();return S?A=o.error({expected:_,actual:g(S),location:S.source}):A=o.error({expected:_,actual:"end of tokens"}),r.failure([A],v)}})(uU);var Hee={exports:{}};Hee.exports=function(n,e){var i={asString:function(){return n},range:function(r,o){return new I0(n,e,r,o)}};return i};var I0=function(n,e,i,r){this._string=n,this._description=e,this._startIndex=i,this._endIndex=r};I0.prototype.to=function(n){return new I0(this._string,this._description,this._startIndex,n._endIndex)};I0.prototype.describe=function(){var n=this._position(),e=this._description?this._description+`
`:"";return e+"Line number: "+n.lineNumber+`
Character number: `+n.characterNumber};I0.prototype.lineNumber=function(){return this._position().lineNumber};I0.prototype.characterNumber=function(){return this._position().characterNumber};I0.prototype._position=function(){for(var n=this,e=0,i=function(){return n._string.indexOf(`
`,e)},r=1;i()!==-1&&i()<this._startIndex;)e=i()+1,r+=1;var o=this._startIndex-e+1;return{lineNumber:r,characterNumber:o}};var Gee=Hee.exports,Xee=function(n,e,i){this.name=n,this.value=e,i&&(this.source=i)},Kee={};(function(n){var e=uU,i=dU;n.parser=function(l,c,u){var h={rule:v,leftAssociative:_,rightAssociative:A},m=new r(u.map(y)),g=e.firstOf(l,c);function y(T){return{name:T.name,rule:o(T.ruleBuilder.bind(null,h))}}function v(){return S(m)}function _(T){return S(m.untilExclusive(T))}function A(T){return S(m.untilInclusive(T))}function S(T){return C.bind(null,T)}function C(T,N){var I=g(N);return I.isSuccess()?T.apply(I):I}return h};function r(l){function c(y){return new r(l.slice(0,h().indexOf(y)))}function u(y){return new r(l.slice(0,h().indexOf(y)+1))}function h(){return l.map(function(y){return y.name})}function m(y){for(var v,_;;)if(v=g(y.remaining()),v.isSuccess())_=y.source().to(v.source()),y=i.success(v.value()(y.value(),_),v.remaining(),_);else return v.isFailure()?y:v}function g(y){return e.firstOf("infix",l.map(function(v){return v.rule}))(y)}return{apply:m,untilExclusive:c,untilInclusive:u}}n.infix=function(l,c){function u(h){return n.infix(l,function(m){var g=c(m);return function(y){var v=g(y);return v.map(function(_){return function(A,S){return h(A,_,S)}})}})}return{name:l,ruleBuilder:c,map:u}};var o=function(l){var c;return function(u){return c||(c=l()),c(u)}}})(Kee);var Zee={},B4=Xee,tSe=Gee;Zee.RegexTokeniser=nSe;function nSe(n){n=n.map(function(o){return{name:o.name,regex:new RegExp(o.regex.source,"g")}});function e(o,l){for(var c=new tSe(o,l),u=0,h=[];u<o.length;){var m=i(o,u,c);u=m.endIndex,h.push(m.token)}return h.push(r(o,c)),h}function i(o,l,c){for(var u=0;u<n.length;u++){var h=n[u].regex;h.lastIndex=l;var m=h.exec(o);if(m){var y=l+m[0].length;if(m.index===l&&y>l){var g=m[1],v=new B4(n[u].name,g,c.range(l,y));return{token:v,endIndex:y}}}}var y=l+1,v=new B4("unrecognisedCharacter",o.substring(l,y),c.range(l,y));return{token:v,endIndex:y}}function r(o,l){return new B4("end",null,l.range(o.length,o.length))}return{tokenise:e}}iu.Parser=Vee.Parser;iu.rules=uU;iu.errors=hU;iu.results=dU;iu.StringSource=Gee;iu.Token=Xee;iu.bottomUp=Kee;iu.RegexTokeniser=Zee.RegexTokeniser;iu.rule=function(n){var e;return function(i){return e||(e=n()),e(i)}};var Ns={};Ns.paragraph=iSe;Ns.run=rSe;Ns.table=sSe;Ns.bold=new ru("bold");Ns.italic=new ru("italic");Ns.underline=new ru("underline");Ns.strikethrough=new ru("strikethrough");Ns.allCaps=new ru("allCaps");Ns.smallCaps=new ru("smallCaps");Ns.highlight=oSe;Ns.commentReference=new ru("commentReference");Ns.lineBreak=new tP({breakType:"line"});Ns.pageBreak=new tP({breakType:"page"});Ns.columnBreak=new tP({breakType:"column"});Ns.equalTo=lSe;Ns.startsWith=cSe;function iSe(n){return new ru("paragraph",n)}function rSe(n){return new ru("run",n)}function sSe(n){return new ru("table",n)}function oSe(n){return new Yee(n)}function ru(n,e){e=e||{},this._elementType=n,this._styleId=e.styleId,this._styleName=e.styleName,e.list&&(this._listIndex=e.list.levelIndex,this._listIsOrdered=e.list.isOrdered)}ru.prototype.matches=function(n){return n.type===this._elementType&&(this._styleId===void 0||n.styleId===this._styleId)&&(this._styleName===void 0||n.styleName&&this._styleName.operator(this._styleName.operand,n.styleName))&&(this._listIndex===void 0||aSe(n,this._listIndex,this._listIsOrdered))&&(this._breakType===void 0||this._breakType===n.breakType)};function Yee(n){n=n||{},this._color=n.color}Yee.prototype.matches=function(n){return n.type==="highlight"&&(this._color===void 0||n.color===this._color)};function tP(n){n=n||{},this._breakType=n.breakType}tP.prototype.matches=function(n){return n.type==="break"&&(this._breakType===void 0||n.breakType===this._breakType)};function aSe(n,e,i){return n.numbering&&n.numbering.level==e&&n.numbering.isOrdered==i}function lSe(n){return{operator:uSe,operand:n}}function cSe(n){return{operator:dSe,operand:n}}function uSe(n,e){return n.toUpperCase()===e.toUpperCase()}function dSe(n,e){return e.toUpperCase().indexOf(n.toUpperCase())===0}var Jee={},hSe=iu,fSe=hSe.RegexTokeniser;Jee.tokenise=pSe;var tH="'((?:\\\\.|[^'])*)";function pSe(n){var e="(?:[a-zA-Z\\-_]|\\\\.)",i=new fSe([{name:"identifier",regex:new RegExp("("+e+"(?:"+e+"|[0-9])*)")},{name:"dot",regex:/\./},{name:"colon",regex:/:/},{name:"gt",regex:/>/},{name:"whitespace",regex:/\s+/},{name:"arrow",regex:/=>/},{name:"equals",regex:/=/},{name:"startsWith",regex:/\^=/},{name:"open-paren",regex:/\(/},{name:"close-paren",regex:/\)/},{name:"open-square-bracket",regex:/\[/},{name:"close-square-bracket",regex:/\]/},{name:"string",regex:new RegExp(tH+"'")},{name:"unterminated-string",regex:new RegExp(tH)},{name:"integer",regex:/([0-9]+)/},{name:"choice",regex:/\|/},{name:"bang",regex:/(!)/}]);return i.tokenise(n)}var mSe=lr,ot=iu,Ws=Ns,RD=J3(),gSe=Jee.tokenise,z4=sl;Q3.readHtmlPath=wSe;Q3.readDocumentMatcher=vSe;Q3.readStyle=bSe;function bSe(n){return fU(TSe,n)}function ySe(){return ot.rules.sequence(ot.rules.sequence.capture(Qee()),ot.rules.tokenOfType("whitespace"),ot.rules.tokenOfType("arrow"),ot.rules.sequence.capture(ot.rules.optional(ot.rules.sequence(ot.rules.tokenOfType("whitespace"),ot.rules.sequence.capture(ete())).head())),ot.rules.tokenOfType("end")).map(function(n,e){return{from:n,to:e.valueOrElse(RD.empty)}})}function vSe(n){return fU(Qee(),n)}function Qee(){var n=ot.rules.sequence,e=function(U,V){return ot.rules.then(ot.rules.token("identifier",U),function(){return V})},i=e("p",Ws.paragraph),r=e("r",Ws.run),o=ot.rules.firstOf("p or r or table",i,r),l=ot.rules.sequence(ot.rules.tokenOfType("dot"),ot.rules.sequence.cut(),ot.rules.sequence.capture(nP)).map(function(U){return{styleId:U}}),c=ot.rules.firstOf("style name matcher",ot.rules.then(ot.rules.sequence(ot.rules.tokenOfType("equals"),ot.rules.sequence.cut(),ot.rules.sequence.capture(Zv)).head(),function(U){return{styleName:Ws.equalTo(U)}}),ot.rules.then(ot.rules.sequence(ot.rules.tokenOfType("startsWith"),ot.rules.sequence.cut(),ot.rules.sequence.capture(Zv)).head(),function(U){return{styleName:Ws.startsWith(U)}})),u=ot.rules.sequence(ot.rules.tokenOfType("open-square-bracket"),ot.rules.sequence.cut(),ot.rules.token("identifier","style-name"),ot.rules.sequence.capture(c),ot.rules.tokenOfType("close-square-bracket")).head(),h=ot.rules.firstOf("list type",e("ordered-list",{isOrdered:!0}),e("unordered-list",{isOrdered:!1})),m=n(ot.rules.tokenOfType("colon"),n.capture(h),n.cut(),ot.rules.tokenOfType("open-paren"),n.capture(xSe),ot.rules.tokenOfType("close-paren")).map(function(U,V){return{list:{isOrdered:U.isOrdered,levelIndex:V-1}}});function g(U){var V=ot.rules.firstOf.apply(ot.rules.firstOf,["matcher suffix"].concat(U)),B=ot.rules.zeroOrMore(V);return ot.rules.then(B,function(Z){var ae={};return Z.forEach(function(me){mSe.extend(ae,me)}),ae})}var y=n(n.capture(o),n.capture(g([l,u,m]))).map(function(U,V){return U(V)}),v=n(ot.rules.token("identifier","table"),n.capture(g([l,u]))).map(function(U){return Ws.table(U)}),_=e("b",Ws.bold),A=e("i",Ws.italic),S=e("u",Ws.underline),C=e("strike",Ws.strikethrough),T=e("all-caps",Ws.allCaps),N=e("small-caps",Ws.smallCaps),I=n(ot.rules.token("identifier","highlight"),ot.rules.sequence.capture(ot.rules.optional(ot.rules.sequence(ot.rules.tokenOfType("open-square-bracket"),ot.rules.sequence.cut(),ot.rules.token("identifier","color"),ot.rules.tokenOfType("equals"),ot.rules.sequence.capture(Zv),ot.rules.tokenOfType("close-square-bracket")).head()))).map(function(U){return Ws.highlight({color:U.valueOrElse(void 0)})}),O=e("comment-reference",Ws.commentReference),F=n(ot.rules.token("identifier","br"),n.cut(),ot.rules.tokenOfType("open-square-bracket"),ot.rules.token("identifier","type"),ot.rules.tokenOfType("equals"),n.capture(Zv),ot.rules.tokenOfType("close-square-bracket")).map(function(U){switch(U){case"line":return Ws.lineBreak;case"page":return Ws.pageBreak;case"column":return Ws.columnBreak}});return ot.rules.firstOf("element type",y,v,_,A,S,C,T,N,I,O,F)}function wSe(n){return fU(ete(),n)}function ete(){var n=ot.rules.sequence.capture,e=ot.rules.tokenOfType("whitespace"),i=ot.rules.then(ot.rules.optional(ot.rules.sequence(ot.rules.tokenOfType("colon"),ot.rules.token("identifier","fresh"))),function(c){return c.map(function(){return!0}).valueOrElse(!1)}),r=ot.rules.then(ot.rules.optional(ot.rules.sequence(ot.rules.tokenOfType("colon"),ot.rules.token("identifier","separator"),ot.rules.tokenOfType("open-paren"),n(Zv),ot.rules.tokenOfType("close-paren")).head()),function(c){return c.valueOrElse("")}),o=ot.rules.oneOrMoreWithSeparator(nP,ot.rules.tokenOfType("choice")),l=ot.rules.sequence(n(o),n(ot.rules.zeroOrMore(SSe)),n(i),n(r)).map(function(c,u,h,m){var g={},y={};return u.forEach(function(v){v.append&&g[v.name]?g[v.name]+=" "+v.value:g[v.name]=v.value}),h&&(y.fresh=!0),m&&(y.separator=m),RD.element(c,g,y)});return ot.rules.firstOf("html path",ot.rules.then(ot.rules.tokenOfType("bang"),function(){return RD.ignore}),ot.rules.then(ot.rules.zeroOrMoreWithSeparator(l,ot.rules.sequence(e,ot.rules.tokenOfType("gt"),e)),RD.elements))}var nP=ot.rules.then(ot.rules.tokenOfType("identifier"),tte),xSe=ot.rules.tokenOfType("integer"),Zv=ot.rules.then(ot.rules.tokenOfType("string"),tte),_Se={n:`
`,r:"\r",t:"	"};function tte(n){return n.replace(/\\(.)/g,function(e,i){return _Se[i]||i})}var kSe=ot.rules.sequence(ot.rules.tokenOfType("open-square-bracket"),ot.rules.sequence.cut(),ot.rules.sequence.capture(nP),ot.rules.tokenOfType("equals"),ot.rules.sequence.capture(Zv),ot.rules.tokenOfType("close-square-bracket")).map(function(n,e){return{name:n,value:e,append:!1}}),ESe=ot.rules.sequence(ot.rules.tokenOfType("dot"),ot.rules.sequence.cut(),ot.rules.sequence.capture(nP)).map(function(n){return{name:"class",value:n,append:!0}}),SSe=ot.rules.firstOf("attribute or class",kSe,ESe);function fU(n,e){var i=gSe(e),r=ot.Parser(),o=r.parseTokens(n,i);return o.isSuccess()?z4.success(o.value()):new z4.Result(null,[z4.warning(ASe(e,o))])}function ASe(n,e){return"Did not understand this style mapping, so ignored it: "+n+`
`+e.errors().map(CSe).join(`
`)}function CSe(n){return"Error was at character number "+n.characterNumber()+": Expected "+n.expected+" but got "+n.actual}var TSe=ySe(),iP={};iP.readOptions=PSe;var nte=lr,DSe=iP._defaultStyleMap=["p.Heading1 => h1:fresh","p.Heading2 => h2:fresh","p.Heading3 => h3:fresh","p.Heading4 => h4:fresh","p.Heading5 => h5:fresh","p.Heading6 => h6:fresh","p[style-name='Heading 1'] => h1:fresh","p[style-name='Heading 2'] => h2:fresh","p[style-name='Heading 3'] => h3:fresh","p[style-name='Heading 4'] => h4:fresh","p[style-name='Heading 5'] => h5:fresh","p[style-name='Heading 6'] => h6:fresh","p[style-name='heading 1'] => h1:fresh","p[style-name='heading 2'] => h2:fresh","p[style-name='heading 3'] => h3:fresh","p[style-name='heading 4'] => h4:fresh","p[style-name='heading 5'] => h5:fresh","p[style-name='heading 6'] => h6:fresh","r[style-name='Strong'] => strong","p[style-name='footnote text'] => p:fresh","r[style-name='footnote reference'] =>","p[style-name='endnote text'] => p:fresh","r[style-name='endnote reference'] =>","p[style-name='annotation text'] => p:fresh","r[style-name='annotation reference'] =>","p[style-name='Footnote'] => p:fresh","r[style-name='Footnote anchor'] =>","p[style-name='Endnote'] => p:fresh","r[style-name='Endnote anchor'] =>","p:unordered-list(1) => ul > li:fresh","p:unordered-list(2) => ul|ol > li > ul > li:fresh","p:unordered-list(3) => ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:ordered-list(1) => ol > li:fresh","p:ordered-list(2) => ul|ol > li > ol > li:fresh","p:ordered-list(3) => ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","r[style-name='Hyperlink'] =>","p[style-name='Normal'] => p:fresh"],NSe=iP._standardOptions={transformDocument:ISe,includeDefaultStyleMap:!0,includeEmbeddedStyleMap:!0};function PSe(n){return n=n||{},nte.extend({},NSe,n,{customStyleMap:nH(n.styleMap),readStyleMap:function(){var e=this.customStyleMap;return this.includeEmbeddedStyleMap&&(e=e.concat(nH(this.embeddedStyleMap))),this.includeDefaultStyleMap&&(e=e.concat(DSe)),e}})}function nH(n){return n?nte.isString(n)?n.split(`
`).map(function(e){return e.trim()}).filter(function(e){return e!==""&&e.charAt(0)!=="#"}):n:[]}function ISe(n){return n}var ite={},iH=is,jSe=JS;ite.openZip=RSe;function RSe(n){return n.arrayBuffer?iH.resolve(jSe.openArrayBuffer(n.arrayBuffer)):iH.reject(new Error("Could not find file in options"))}var nx={},rH=lr;nx.paragraph=MSe;nx.run=OSe;nx._elements=ste;nx.getDescendantsOfType=FSe;nx.getDescendants=ote;function MSe(n){return rte("paragraph",n)}function OSe(n){return rte("run",n)}function rte(n,e){return ste(function(i){return i.type===n?e(i):i})}function ste(n){return function e(i){if(i.children){var r=rH.map(i.children,e);i=rH.extend(i,{children:r})}return n(i)}}function FSe(n,e){return ote(n).filter(function(i){return i.type===e})}function ote(n){var e=[];return ate(n,function(i){e.push(i)}),e}function ate(n,e){n.children&&n.children.forEach(function(i){ate(i,e),e(i)})}var lte={},USe=J3(),LSe=Y3();lte.element=BSe;function BSe(n){return function(e){return LSe.elementWithTag(USe.element(n),[e])}}var zSe=lr,cte=OF,pU=aU,VSe=lU.DocumentConverter,WSe=Bee.convertElementToRawText,$Se=Q3.readStyle,qSe=iP.readOptions,rP=ite,HSe=sl.Result;nu.convertToHtml=GSe;nu.convertToMarkdown=XSe;nu.convert=mU;nu.extractRawText=JSe;nu.images=cU;nu.transforms=nx;nu.underline=lte;nu.embedStyleMap=QSe;nu.readEmbeddedStyleMap=KSe;function GSe(n,e){return mU(n,e)}function XSe(n,e){var i=Object.create(e||{});return i.outputFormat="markdown",mU(n,i)}function mU(n,e){return e=qSe(e),rP.openZip(n).tap(function(i){return pU.readStyleMap(i).then(function(r){e.embeddedStyleMap=r})}).then(function(i){return cte.read(i,n).then(function(r){return r.map(e.transformDocument)}).then(function(r){return ZSe(r,e)})})}function KSe(n){return rP.openZip(n).then(pU.readStyleMap)}function ZSe(n,e){var i=YSe(e.readStyleMap()),r=zSe.extend({},e,{styleMap:i.value}),o=new VSe(r);return n.flatMapThen(function(l){return i.flatMapThen(function(c){return o.convertToHtml(l)})})}function YSe(n){return HSe.combine((n||[]).map($Se)).map(function(e){return e.filter(function(i){return!!i})})}function JSe(n){return rP.openZip(n).then(cte.read).then(function(e){return e.map(WSe)})}function QSe(n,e){return rP.openZip(n).tap(function(i){return pU.writeStyleMap(i,e)}).then(function(i){return i.toArrayBuffer()}).then(function(i){return{toArrayBuffer:function(){return i},toBuffer:function(){return Buffer.from(i)}}})}nu.styleMapping=function(){throw new Error(`Use a raw string instead of mammoth.styleMapping e.g. "p[style-name='Title'] => h1" instead of mammoth.styleMapping("p[style-name='Title'] => h1")`)};const Ao=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),LM=[.001,0,0,.001,0,0],V4=1.35,Xa={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Np={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},eAe="pdfjs_internal_editor_",dn={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},En={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},tAe={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},$s={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},MD={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},mr={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},kv={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},sP={ERRORS:0,WARNINGS:1,INFOS:5},aN={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},aD={moveTo:0,lineTo:1,curveTo:2,closePath:3},nAe={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let oP=sP.WARNINGS;function iAe(n){Number.isInteger(n)&&(oP=n)}function rAe(){return oP}function aP(n){oP>=sP.INFOS&&console.log(`Info: ${n}`)}function hn(n){oP>=sP.WARNINGS&&console.log(`Warning: ${n}`)}function ri(n){throw new Error(n)}function yr(n,e){n||ri(e)}function sAe(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function ute(n,e=null,i=null){if(!n)return null;if(i&&typeof n=="string"){if(i.addDefaultProtocol&&n.startsWith("www.")){const o=n.match(/\./g);(o==null?void 0:o.length)>=2&&(n=`http://${n}`)}if(i.tryConvertEncoding)try{n=uAe(n)}catch{}}const r=e?URL.parse(n,e):URL.parse(n);return sAe(r)?r:null}function dte(n,e,i=!1){const r=URL.parse(n);return r?(r.hash=e,r.href):i&&ute(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function yn(n,e,i,r=!1){return Object.defineProperty(n,e,{value:i,enumerable:!r,configurable:!0,writable:!1}),i}const H0=function(){function e(i,r){this.message=i,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class sH extends H0{constructor(e,i){super(e,"PasswordException"),this.code=i}}class W4 extends H0{constructor(e,i){super(e,"UnknownErrorException"),this.details=i}}class BM extends H0{constructor(e){super(e,"InvalidPDFException")}}class lN extends H0{constructor(e,i,r){super(e,"ResponseException"),this.status=i,this.missing=r}}class oAe extends H0{constructor(e){super(e,"FormatError")}}class Mm extends H0{constructor(e){super(e,"AbortException")}}function hte(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&ri("Invalid argument for bytesToString");const e=n.length,i=8192;if(e<i)return String.fromCharCode.apply(null,n);const r=[];for(let o=0;o<e;o+=i){const l=Math.min(o+i,e),c=n.subarray(o,l);r.push(String.fromCharCode.apply(null,c))}return r.join("")}function iA(n){typeof n!="string"&&ri("Invalid argument for stringToBytes");const e=n.length,i=new Uint8Array(e);for(let r=0;r<e;++r)i[r]=n.charCodeAt(r)&255;return i}function aAe(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function lAe(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function cAe(){try{return new Function(""),!0}catch{return!1}}class As{static get isLittleEndian(){return yn(this,"isLittleEndian",lAe())}static get isEvalSupported(){return yn(this,"isEvalSupported",cAe())}static get isOffscreenCanvasSupported(){return yn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return yn(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){if(typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"){const{platform:e,userAgent:i}=navigator;return yn(this,"platform",{isAndroid:i.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:i.includes("Firefox")})}return yn(this,"platform",{isAndroid:!1,isLinux:!1,isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,i;return yn(this,"isCSSRoundSupported",(i=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:i.call(e,"width: round(1.5px, 1px)"))}}const $4=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var ef,OD,zM;class Wt{static makeHexColor(e,i,r){return`#${$4[e]}${$4[i]}${$4[r]}`}static scaleMinMax(e,i){let r;e[0]?(e[0]<0&&(r=i[0],i[0]=i[2],i[2]=r),i[0]*=e[0],i[2]*=e[0],e[3]<0&&(r=i[1],i[1]=i[3],i[3]=r),i[1]*=e[3],i[3]*=e[3]):(r=i[0],i[0]=i[1],i[1]=r,r=i[2],i[2]=i[3],i[3]=r,e[1]<0&&(r=i[1],i[1]=i[3],i[3]=r),i[1]*=e[1],i[3]*=e[1],e[2]<0&&(r=i[0],i[0]=i[2],i[2]=r),i[0]*=e[2],i[2]*=e[2]),i[0]+=e[4],i[1]+=e[5],i[2]+=e[4],i[3]+=e[5]}static transform(e,i){return[e[0]*i[0]+e[2]*i[1],e[1]*i[0]+e[3]*i[1],e[0]*i[2]+e[2]*i[3],e[1]*i[2]+e[3]*i[3],e[0]*i[4]+e[2]*i[5]+e[4],e[1]*i[4]+e[3]*i[5]+e[5]]}static applyTransform(e,i,r=0){const o=e[r],l=e[r+1];e[r]=o*i[0]+l*i[2]+i[4],e[r+1]=o*i[1]+l*i[3]+i[5]}static applyTransformToBezier(e,i,r=0){const o=i[0],l=i[1],c=i[2],u=i[3],h=i[4],m=i[5];for(let g=0;g<6;g+=2){const y=e[r+g],v=e[r+g+1];e[r+g]=y*o+v*c+h,e[r+g+1]=y*l+v*u+m}}static applyInverseTransform(e,i){const r=e[0],o=e[1],l=i[0]*i[3]-i[1]*i[2];e[0]=(r*i[3]-o*i[2]+i[2]*i[5]-i[4]*i[3])/l,e[1]=(-r*i[1]+o*i[0]+i[4]*i[1]-i[5]*i[0])/l}static axialAlignedBoundingBox(e,i,r){const o=i[0],l=i[1],c=i[2],u=i[3],h=i[4],m=i[5],g=e[0],y=e[1],v=e[2],_=e[3];let A=o*g+h,S=A,C=o*v+h,T=C,N=u*y+m,I=N,O=u*_+m,F=O;if(l!==0||c!==0){const U=l*g,V=l*v,B=c*y,Z=c*_;A+=B,T+=B,C+=Z,S+=Z,N+=U,F+=U,O+=V,I+=V}r[0]=Math.min(r[0],A,C,S,T),r[1]=Math.min(r[1],N,O,I,F),r[2]=Math.max(r[2],A,C,S,T),r[3]=Math.max(r[3],N,O,I,F)}static inverseTransform(e){const i=e[0]*e[3]-e[1]*e[2];return[e[3]/i,-e[1]/i,-e[2]/i,e[0]/i,(e[2]*e[5]-e[4]*e[3])/i,(e[4]*e[1]-e[5]*e[0])/i]}static singularValueDecompose2dScale(e,i){const r=e[0],o=e[1],l=e[2],c=e[3],u=r**2+o**2,h=r*l+o*c,m=l**2+c**2,g=(u+m)/2,y=Math.sqrt(g**2-(u*m-h**2));i[0]=Math.sqrt(g+y||1),i[1]=Math.sqrt(g-y||1)}static normalizeRect(e){const i=e.slice(0);return e[0]>e[2]&&(i[0]=e[2],i[2]=e[0]),e[1]>e[3]&&(i[1]=e[3],i[3]=e[1]),i}static intersect(e,i){const r=Math.max(Math.min(e[0],e[2]),Math.min(i[0],i[2])),o=Math.min(Math.max(e[0],e[2]),Math.max(i[0],i[2]));if(r>o)return null;const l=Math.max(Math.min(e[1],e[3]),Math.min(i[1],i[3])),c=Math.min(Math.max(e[1],e[3]),Math.max(i[1],i[3]));return l>c?null:[r,l,o,c]}static pointBoundingBox(e,i,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],i),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],i)}static rectBoundingBox(e,i,r,o,l){l[0]=Math.min(l[0],e,r),l[1]=Math.min(l[1],i,o),l[2]=Math.max(l[2],e,r),l[3]=Math.max(l[3],i,o)}static bezierBoundingBox(e,i,r,o,l,c,u,h,m){m[0]=Math.min(m[0],e,u),m[1]=Math.min(m[1],i,h),m[2]=Math.max(m[2],e,u),m[3]=Math.max(m[3],i,h),fe(this,ef,zM).call(this,e,r,l,u,i,o,c,h,3*(-e+3*(r-l)+u),6*(e-2*r+l),3*(r-e),m),fe(this,ef,zM).call(this,e,r,l,u,i,o,c,h,3*(-i+3*(o-c)+h),6*(i-2*o+c),3*(o-i),m)}}ef=new WeakSet,OD=function(e,i,r,o,l,c,u,h,m,g){if(m<=0||m>=1)return;const y=1-m,v=m*m,_=v*m,A=y*(y*(y*e+3*m*i)+3*v*r)+_*o,S=y*(y*(y*l+3*m*c)+3*v*u)+_*h;g[0]=Math.min(g[0],A),g[1]=Math.min(g[1],S),g[2]=Math.max(g[2],A),g[3]=Math.max(g[3],S)},zM=function(e,i,r,o,l,c,u,h,m,g,y,v){if(Math.abs(m)<1e-12){Math.abs(g)>=1e-12&&fe(this,ef,OD).call(this,e,i,r,o,l,c,u,h,-y/g,v);return}const _=g**2-4*y*m;if(_<0)return;const A=Math.sqrt(_),S=2*m;fe(this,ef,OD).call(this,e,i,r,o,l,c,u,h,(-g+A)/S,v),fe(this,ef,OD).call(this,e,i,r,o,l,c,u,h,(-g-A)/S,v)},he(Wt,ef);function uAe(n){return decodeURIComponent(escape(n))}let q4=null,oH=null;function dAe(n){return q4||(q4=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,oH=new Map([["ﬅ","ſt"]])),n.replaceAll(q4,(e,i,r)=>i?i.normalize("NFKC"):oH.get(r))}function fte(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),hte(n)}const gU="pdfjs_internal_id_";function hAe(n,e,i){if(!Array.isArray(i)||i.length<2)return!1;const[r,o,...l]=i;if(!n(r)&&!Number.isInteger(r)||!e(o))return!1;const c=l.length;let u=!0;switch(o.name){case"XYZ":if(c<2||c>3)return!1;break;case"Fit":case"FitB":return c===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(c>1)return!1;break;case"FitR":if(c!==4)return!1;u=!1;break;default:return!1}for(const h of l)if(!(typeof h=="number"||u&&h===null))return!1;return!0}function Co(n,e,i){return Math.min(Math.max(n,e),i)}function pte(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(hte(n))}function fAe(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):iA(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(i=>{i(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,i)=>e+i,0)});const fh="http://www.w3.org/2000/svg",rb=class rb{};mt(rb,"CSS",96),mt(rb,"PDF",72),mt(rb,"PDF_TO_CSS_UNITS",rb.CSS/rb.PDF);let Om=rb;async function rA(n,e="text"){if(Ev(n,document.baseURI)){const i=await fetch(n);if(!i.ok)throw new Error(i.statusText);switch(e){case"arraybuffer":return i.arrayBuffer();case"blob":return i.blob();case"json":return i.json()}return i.text()}return new Promise((i,r)=>{const o=new XMLHttpRequest;o.open("GET",n,!0),o.responseType=e,o.onreadystatechange=()=>{if(o.readyState===XMLHttpRequest.DONE){if(o.status===200||o.status===0){switch(e){case"arraybuffer":case"blob":case"json":i(o.response);return}i(o.responseText);return}r(new Error(o.statusText))}},o.send(null)})}class sA{constructor({viewBox:e,userUnit:i,scale:r,rotation:o,offsetX:l=0,offsetY:c=0,dontFlip:u=!1}){this.viewBox=e,this.userUnit=i,this.scale=r,this.rotation=o,this.offsetX=l,this.offsetY=c,r*=i;const h=(e[2]+e[0])/2,m=(e[3]+e[1])/2;let g,y,v,_;switch(o%=360,o<0&&(o+=360),o){case 180:g=-1,y=0,v=0,_=1;break;case 90:g=0,y=1,v=1,_=0;break;case 270:g=0,y=-1,v=-1,_=0;break;case 0:g=1,y=0,v=0,_=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(v=-v,_=-_);let A,S,C,T;g===0?(A=Math.abs(m-e[1])*r+l,S=Math.abs(h-e[0])*r+c,C=(e[3]-e[1])*r,T=(e[2]-e[0])*r):(A=Math.abs(h-e[0])*r+l,S=Math.abs(m-e[1])*r+c,C=(e[2]-e[0])*r,T=(e[3]-e[1])*r),this.transform=[g*r,y*r,v*r,_*r,A-g*r*h-v*r*m,S-y*r*h-_*r*m],this.width=C,this.height=T}get rawDims(){const e=this.viewBox;return yn(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:i=this.rotation,offsetX:r=this.offsetX,offsetY:o=this.offsetY,dontFlip:l=!1}={}){return new sA({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:i,offsetX:r,offsetY:o,dontFlip:l})}convertToViewportPoint(e,i){const r=[e,i];return Wt.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const i=[e[0],e[1]];Wt.applyTransform(i,this.transform);const r=[e[2],e[3]];return Wt.applyTransform(r,this.transform),[i[0],i[1],r[0],r[1]]}convertToPdfPoint(e,i){const r=[e,i];return Wt.applyInverseTransform(r,this.transform),r}}class bU extends H0{constructor(e,i=0){super(e,"RenderingCancelledException"),this.extraDelay=i}}function lP(n){const e=n.length;let i=0;for(;i<e&&n[i].trim()==="";)i++;return n.substring(i,i+5).toLowerCase()==="data:"}function yU(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function pAe(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function mAe(n,e="document.pdf"){if(typeof n!="string")return e;if(lP(n))return hn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const i=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,o=i.exec(n);let l=r.exec(o[1])||r.exec(o[2])||r.exec(o[3]);if(l&&(l=l[0],l.includes("%")))try{l=r.exec(decodeURIComponent(l))[0]}catch{}return l||e}class aH{constructor(){mt(this,"started",Object.create(null));mt(this,"times",[])}time(e){e in this.started&&hn(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||hn(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let i=0;for(const{name:r}of this.times)i=Math.max(r.length,i);for(const{name:r,start:o,end:l}of this.times)e.push(`${r.padEnd(i)} ${l-o}ms
`);return e.join("")}}function Ev(n,e){const i=e?URL.parse(n,e):URL.parse(n);return(i==null?void 0:i.protocol)==="http:"||(i==null?void 0:i.protocol)==="https:"}function eu(n){n.preventDefault()}function gr(n){n.preventDefault(),n.stopPropagation()}var cE;class vU{static toDateObject(e){if(!e||typeof e!="string")return null;P(this,cE)||te(this,cE,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const i=P(this,cE).exec(e);if(!i)return null;const r=parseInt(i[1],10);let o=parseInt(i[2],10);o=o>=1&&o<=12?o-1:0;let l=parseInt(i[3],10);l=l>=1&&l<=31?l:1;let c=parseInt(i[4],10);c=c>=0&&c<=23?c:0;let u=parseInt(i[5],10);u=u>=0&&u<=59?u:0;let h=parseInt(i[6],10);h=h>=0&&h<=59?h:0;const m=i[7]||"Z";let g=parseInt(i[8],10);g=g>=0&&g<=23?g:0;let y=parseInt(i[9],10)||0;return y=y>=0&&y<=59?y:0,m==="-"?(c+=g,u+=y):m==="+"&&(c-=g,u-=y),new Date(Date.UTC(r,o,l,c,u,h))}}cE=new WeakMap,he(vU,cE);function gAe(n,{scale:e=1,rotation:i=0}){const{width:r,height:o}=n.attributes.style,l=[0,0,parseInt(r),parseInt(o)];return new sA({viewBox:l,userUnit:1,scale:e,rotation:i})}function wU(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(hn(`Not a valid color format: "${n}"`),[0,0,0])}function bAe(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const i of n.keys()){e.style.color=i;const r=window.getComputedStyle(e).color;n.set(i,wU(r))}e.remove()}function Ui(n){const{a:e,b:i,c:r,d:o,e:l,f:c}=n.getTransform();return[e,i,r,o,l,c]}function Wu(n){const{a:e,b:i,c:r,d:o,e:l,f:c}=n.getTransform().invertSelf();return[e,i,r,o,l,c]}function j0(n,e,i=!1,r=!0){if(e instanceof sA){const{pageWidth:o,pageHeight:l}=e.rawDims,{style:c}=n,u=As.isCSSRoundSupported,h=`var(--total-scale-factor) * ${o}px`,m=`var(--total-scale-factor) * ${l}px`,g=u?`round(down, ${h}, var(--scale-round-x))`:`calc(${h})`,y=u?`round(down, ${m}, var(--scale-round-y))`:`calc(${m})`;!i||e.rotation%180===0?(c.width=g,c.height=y):(c.width=y,c.height=g)}r&&n.setAttribute("data-main-rotation",e.rotation)}class pf{constructor(){const{pixelRatio:e}=pf;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,i,r,o){let l=1/0,c=1/0,u=1/0;r>0&&(l=Math.sqrt(r/(e*i))),o!==-1&&(c=o/e,u=o/i);const h=Math.min(l,c,u);return this.sx>h||this.sy>h?(this.sx=h,this.sy=h,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}}const VM=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var Pp,hb,zl,Ip,uE,hw,dE,gN,mte,Es,gte,bte,jk,yte,FD;const yh=class yh{constructor(e){he(this,Es);he(this,Pp,null);he(this,hb,null);he(this,zl);he(this,Ip,null);he(this,uE,null);he(this,hw,null);te(this,zl,e),P(yh,dE)||te(yh,dE,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=te(this,Pp,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const i=P(this,zl)._uiManager._signal;e.addEventListener("contextmenu",eu,{signal:i}),e.addEventListener("pointerdown",fe(yh,gN,mte),{signal:i});const r=te(this,Ip,document.createElement("div"));r.className="buttons",e.append(r);const o=P(this,zl).toolbarPosition;if(o){const{style:l}=e,c=P(this,zl)._uiManager.direction==="ltr"?1-o[0]:o[0];l.insetInlineEnd=`${100*c}%`,l.top=`calc(${100*o[1]}% + var(--editor-toolbar-vert-offset))`}return fe(this,Es,yte).call(this),e}get div(){return P(this,Pp)}hide(){var e;P(this,Pp).classList.add("hidden"),(e=P(this,hb))==null||e.hideDropdown()}show(){var e;P(this,Pp).classList.remove("hidden"),(e=P(this,uE))==null||e.shown()}async addAltText(e){const i=await e.render();fe(this,Es,jk).call(this,i),P(this,Ip).prepend(i,P(this,Es,FD)),te(this,uE,e)}addColorPicker(e){te(this,hb,e);const i=e.renderButton();fe(this,Es,jk).call(this,i),P(this,Ip).prepend(i,P(this,Es,FD))}async addEditSignatureButton(e){const i=te(this,hw,await e.renderEditButton(P(this,zl)));fe(this,Es,jk).call(this,i),P(this,Ip).prepend(i,P(this,Es,FD))}updateEditSignatureButton(e){P(this,hw)&&(P(this,hw).title=e)}remove(){var e;P(this,Pp).remove(),(e=P(this,hb))==null||e.destroy(),te(this,hb,null)}};Pp=new WeakMap,hb=new WeakMap,zl=new WeakMap,Ip=new WeakMap,uE=new WeakMap,hw=new WeakMap,dE=new WeakMap,gN=new WeakSet,mte=function(e){e.stopPropagation()},Es=new WeakSet,gte=function(e){P(this,zl)._focusEventsAllowed=!1,gr(e)},bte=function(e){P(this,zl)._focusEventsAllowed=!0,gr(e)},jk=function(e){const i=P(this,zl)._uiManager._signal;e.addEventListener("focusin",fe(this,Es,gte).bind(this),{capture:!0,signal:i}),e.addEventListener("focusout",fe(this,Es,bte).bind(this),{capture:!0,signal:i}),e.addEventListener("contextmenu",eu,{signal:i})},yte=function(){const{editorType:e,_uiManager:i}=P(this,zl),r=document.createElement("button");r.className="delete",r.tabIndex=0,r.setAttribute("data-l10n-id",P(yh,dE)[e]),fe(this,Es,jk).call(this,r),r.addEventListener("click",o=>{i.delete()},{signal:i._signal}),P(this,Ip).append(r)},FD=function(){const e=document.createElement("div");return e.className="divider",e},he(yh,gN),he(yh,dE,null);let WM=yh;var hE,fb,pb,Fm,vte,wte,xte;class yAe{constructor(e){he(this,Fm);he(this,hE,null);he(this,fb,null);he(this,pb);te(this,pb,e)}show(e,i,r){const[o,l]=fe(this,Fm,wte).call(this,i,r),{style:c}=P(this,fb)||te(this,fb,fe(this,Fm,vte).call(this));e.append(P(this,fb)),c.insetInlineEnd=`${100*o}%`,c.top=`calc(${100*l}% + var(--editor-toolbar-vert-offset))`}hide(){P(this,fb).remove()}}hE=new WeakMap,fb=new WeakMap,pb=new WeakMap,Fm=new WeakSet,vte=function(){const e=te(this,fb,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",eu,{signal:P(this,pb)._signal});const i=te(this,hE,document.createElement("div"));return i.className="buttons",e.append(i),fe(this,Fm,xte).call(this),e},wte=function(e,i){let r=0,o=0;for(const l of e){const c=l.y+l.height;if(c<r)continue;const u=l.x+(i?l.width:0);if(c>r){o=u,r=c;continue}i?u>o&&(o=u):u<o&&(o=u)}return[i?1-o:o,r]},xte=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const i=document.createElement("span");e.append(i),i.className="visuallyHidden",i.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=P(this,pb)._signal;e.addEventListener("contextmenu",eu,{signal:r}),e.addEventListener("click",()=>{P(this,pb).highlightSelection("floating_button")},{signal:r}),P(this,hE).append(e)};function xU(n,e,i){for(const r of i)e.addEventListener(r,n[r].bind(n))}var bN;class vAe{constructor(){he(this,bN,0)}get id(){return`${eAe}${wo(this,bN)._++}`}}bN=new WeakMap;var fw,fE,Hs,pw,UD;const TU=class TU{constructor(){he(this,pw);he(this,fw,fte());he(this,fE,0);he(this,Hs,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),o=new Image;o.src=e;const l=o.decode().then(()=>(r.drawImage(o,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return yn(this,"_isSVGFittingCanvas",l)}async getFromFile(e){const{lastModified:i,name:r,size:o,type:l}=e;return fe(this,pw,UD).call(this,`${i}_${r}_${o}_${l}`,e)}async getFromUrl(e){return fe(this,pw,UD).call(this,e,e)}async getFromBlob(e,i){const r=await i;return fe(this,pw,UD).call(this,e,r)}async getFromId(e){P(this,Hs)||te(this,Hs,new Map);const i=P(this,Hs).get(e);if(!i)return null;if(i.bitmap)return i.refCounter+=1,i;if(i.file)return this.getFromFile(i.file);if(i.blobPromise){const{blobPromise:r}=i;return delete i.blobPromise,this.getFromBlob(i.id,r)}return this.getFromUrl(i.url)}getFromCanvas(e,i){P(this,Hs)||te(this,Hs,new Map);let r=P(this,Hs).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const o=new OffscreenCanvas(i.width,i.height);return o.getContext("2d").drawImage(i,0,0),r={bitmap:o.transferToImageBitmap(),id:`image_${P(this,fw)}_${wo(this,fE)._++}`,refCounter:1,isSvg:!1},P(this,Hs).set(e,r),P(this,Hs).set(r.id,r),r}getSvgUrl(e){const i=P(this,Hs).get(e);return i!=null&&i.isSvg?i.svgUrl:null}deleteId(e){var o;P(this,Hs)||te(this,Hs,new Map);const i=P(this,Hs).get(e);if(!i||(i.refCounter-=1,i.refCounter!==0))return;const{bitmap:r}=i;if(!i.url&&!i.file){const l=new OffscreenCanvas(r.width,r.height);l.getContext("bitmaprenderer").transferFromImageBitmap(r),i.blobPromise=l.convertToBlob()}(o=r.close)==null||o.call(r),i.bitmap=null}isValidId(e){return e.startsWith(`image_${P(this,fw)}_`)}};fw=new WeakMap,fE=new WeakMap,Hs=new WeakMap,pw=new WeakSet,UD=async function(e,i){P(this,Hs)||te(this,Hs,new Map);let r=P(this,Hs).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${P(this,fw)}_${wo(this,fE)._++}`,refCounter:0,isSvg:!1});let o;if(typeof i=="string"?(r.url=i,o=await rA(i,"blob")):i instanceof File?o=r.file=i:i instanceof Blob&&(o=i),o.type==="image/svg+xml"){const l=TU._isSVGFittingCanvas,c=new FileReader,u=new Image,h=new Promise((m,g)=>{u.onload=()=>{r.bitmap=u,r.isSvg=!0,m()},c.onload=async()=>{const y=r.svgUrl=c.result;u.src=await l?`${y}#svgView(preserveAspectRatio(none))`:y},u.onerror=c.onerror=g});c.readAsDataURL(o),await h}else r.bitmap=await createImageBitmap(o);r.refCounter=1}catch(o){hn(o),r=null}return P(this,Hs).set(e,r),r&&P(this,Hs).set(r.id,r),r};let $M=TU;var tr,jp,pE,Fi;class wAe{constructor(e=128){he(this,tr,[]);he(this,jp,!1);he(this,pE);he(this,Fi,-1);te(this,pE,e)}add({cmd:e,undo:i,post:r,mustExec:o,type:l=NaN,overwriteIfSameType:c=!1,keepUndo:u=!1}){if(o&&e(),P(this,jp))return;const h={cmd:e,undo:i,post:r,type:l};if(P(this,Fi)===-1){P(this,tr).length>0&&(P(this,tr).length=0),te(this,Fi,0),P(this,tr).push(h);return}if(c&&P(this,tr)[P(this,Fi)].type===l){u&&(h.undo=P(this,tr)[P(this,Fi)].undo),P(this,tr)[P(this,Fi)]=h;return}const m=P(this,Fi)+1;m===P(this,pE)?P(this,tr).splice(0,1):(te(this,Fi,m),m<P(this,tr).length&&P(this,tr).splice(m)),P(this,tr).push(h)}undo(){if(P(this,Fi)===-1)return;te(this,jp,!0);const{undo:e,post:i}=P(this,tr)[P(this,Fi)];e(),i==null||i(),te(this,jp,!1),te(this,Fi,P(this,Fi)-1)}redo(){if(P(this,Fi)<P(this,tr).length-1){te(this,Fi,P(this,Fi)+1),te(this,jp,!0);const{cmd:e,post:i}=P(this,tr)[P(this,Fi)];e(),i==null||i(),te(this,jp,!1)}}hasSomethingToUndo(){return P(this,Fi)!==-1}hasSomethingToRedo(){return P(this,Fi)<P(this,tr).length-1}cleanType(e){if(P(this,Fi)!==-1){for(let i=P(this,Fi);i>=0;i--)if(P(this,tr)[i].type!==e){P(this,tr).splice(i+1,P(this,Fi)-i),te(this,Fi,i);return}P(this,tr).length=0,te(this,Fi,-1)}}destroy(){te(this,tr,null)}}tr=new WeakMap,jp=new WeakMap,pE=new WeakMap,Fi=new WeakMap;var yN,_te;class oA{constructor(e){he(this,yN);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:i}=As.platform;for(const[r,o,l={}]of e)for(const c of r){const u=c.startsWith("mac+");i&&u?(this.callbacks.set(c.slice(4),{callback:o,options:l}),this.allKeys.add(c.split("+").at(-1))):!i&&!u&&(this.callbacks.set(c,{callback:o,options:l}),this.allKeys.add(c.split("+").at(-1)))}}exec(e,i){if(!this.allKeys.has(i.key))return;const r=this.callbacks.get(fe(this,yN,_te).call(this,i));if(!r)return;const{callback:o,options:{bubbles:l=!1,args:c=[],checker:u=null}}=r;u&&!u(e,i)||(o.bind(e,...c,i)(),l||gr(i))}}yN=new WeakSet,_te=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const i=this.buffer.join("+");return this.buffer.length=0,i};const vN=class vN{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return bAe(e),yn(this,"_colors",e)}convert(e){const i=wU(e);if(!window.matchMedia("(forced-colors: active)").matches)return i;for(const[r,o]of this._colors)if(o.every((l,c)=>l===i[c]))return vN._colorsMapping.get(r);return i}getHexCode(e){const i=this._colors.get(e);return i?Wt.makeHexColor(...i):e}};mt(vN,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let qM=vN;var mw,Ma,Cr,ms,gw,xh,bw,Vl,Rp,Mp,yw,mb,Xu,jc,gb,mE,gE,vw,bE,Ku,Op,ww,Fp,Zu,wN,Up,yE,Lp,bb,yb,Bp,vE,qr,Yn,_h,zp,vb,wE,xE,Vp,Yu,kh,_E,Wl,yt,LD,HM,kte,Ete,BD,Ste,Ate,Cte,GM,Tte,XM,KM,Dte,xo,ph,Nte,Pte,ZM,Ite,Rk,YM;const Jv=class Jv{constructor(e,i,r,o,l,c,u,h,m,g,y,v,_,A){he(this,yt);he(this,mw,new AbortController);he(this,Ma,null);he(this,Cr,new Map);he(this,ms,new Map);he(this,gw,null);he(this,xh,null);he(this,bw,null);he(this,Vl,new wAe);he(this,Rp,null);he(this,Mp,null);he(this,yw,0);he(this,mb,new Set);he(this,Xu,null);he(this,jc,null);he(this,gb,new Set);mt(this,"_editorUndoBar",null);he(this,mE,!1);he(this,gE,!1);he(this,vw,!1);he(this,bE,null);he(this,Ku,null);he(this,Op,null);he(this,ww,null);he(this,Fp,!1);he(this,Zu,null);he(this,wN,new vAe);he(this,Up,!1);he(this,yE,!1);he(this,Lp,null);he(this,bb,null);he(this,yb,null);he(this,Bp,null);he(this,vE,null);he(this,qr,dn.NONE);he(this,Yn,new Set);he(this,_h,null);he(this,zp,null);he(this,vb,null);he(this,wE,null);he(this,xE,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});he(this,Vp,[0,0]);he(this,Yu,null);he(this,kh,null);he(this,_E,null);he(this,Wl,null);const S=this._signal=P(this,mw).signal;te(this,kh,e),te(this,_E,i),te(this,gw,r),te(this,zp,o),this._eventBus=l,l._on("editingaction",this.onEditingAction.bind(this),{signal:S}),l._on("pagechanging",this.onPageChanging.bind(this),{signal:S}),l._on("scalechanging",this.onScaleChanging.bind(this),{signal:S}),l._on("rotationchanging",this.onRotationChanging.bind(this),{signal:S}),l._on("setpreference",this.onSetPreference.bind(this),{signal:S}),l._on("switchannotationeditorparams",C=>this.updateParams(C.type,C.value),{signal:S}),fe(this,yt,Ste).call(this),fe(this,yt,Dte).call(this),fe(this,yt,GM).call(this),te(this,xh,c.annotationStorage),te(this,bE,c.filterFactory),te(this,vb,u),te(this,ww,h||null),te(this,mE,m),te(this,gE,g),te(this,vw,y),te(this,vE,v||null),this.viewParameters={realScale:Om.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=_||null,this._supportsPinchToZoom=A!==!1}static get _keyboardManager(){const e=Jv.prototype,i=c=>P(c,kh).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),r=(c,{target:u})=>{if(u instanceof HTMLInputElement){const{type:h}=u;return h!=="text"&&h!=="number"}return!0},o=this.TRANSLATE_SMALL,l=this.TRANSLATE_BIG;return yn(this,"_keyboardManager",new oA([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(c,{target:u})=>!(u instanceof HTMLButtonElement)&&P(c,kh).contains(u)&&!c.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(c,{target:u})=>!(u instanceof HTMLButtonElement)&&P(c,kh).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-l,0],checker:i}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[l,0],checker:i}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-l],checker:i}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,l],checker:i}]]))}destroy(){var e,i,r,o,l,c,u,h;(e=P(this,Wl))==null||e.resolve(),te(this,Wl,null),(i=P(this,mw))==null||i.abort(),te(this,mw,null),this._signal=null;for(const m of P(this,ms).values())m.destroy();P(this,ms).clear(),P(this,Cr).clear(),P(this,gb).clear(),(r=P(this,Bp))==null||r.clear(),te(this,Ma,null),P(this,Yn).clear(),P(this,Vl).destroy(),(o=P(this,gw))==null||o.destroy(),(l=P(this,zp))==null||l.destroy(),(c=P(this,Zu))==null||c.hide(),te(this,Zu,null),(u=P(this,yb))==null||u.destroy(),te(this,yb,null),P(this,Ku)&&(clearTimeout(P(this,Ku)),te(this,Ku,null)),P(this,Yu)&&(clearTimeout(P(this,Yu)),te(this,Yu,null)),(h=this._editorUndoBar)==null||h.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return P(this,vE)}get useNewAltTextFlow(){return P(this,gE)}get useNewAltTextWhenAddingImage(){return P(this,vw)}get hcmFilter(){return yn(this,"hcmFilter",P(this,vb)?P(this,bE).addHCMFilter(P(this,vb).foreground,P(this,vb).background):"none")}get direction(){return yn(this,"direction",getComputedStyle(P(this,kh)).direction)}get highlightColors(){return yn(this,"highlightColors",P(this,ww)?new Map(P(this,ww).split(",").map(e=>e.split("=").map(i=>i.trim()))):null)}get highlightColorNames(){return yn(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),te(this,Mp,e)}setMainHighlightColorPicker(e){te(this,yb,e)}editAltText(e,i=!1){var r;(r=P(this,gw))==null||r.editAltText(this,e,i)}getSignature(e){var i;(i=P(this,zp))==null||i.getSignature({uiManager:this,editor:e})}get signatureManager(){return P(this,zp)}switchToMode(e,i){this._eventBus.on("annotationeditormodechanged",i,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,i){this._eventBus.dispatch("setpreference",{source:this,name:e,value:i})}onSetPreference({name:e,value:i}){switch(e){case"enableNewAltTextWhenAddingImage":te(this,vw,i);break}}onPageChanging({pageNumber:e}){te(this,yw,e-1)}focusMainContainer(){P(this,kh).focus()}findParent(e,i){for(const r of P(this,ms).values()){const{x:o,y:l,width:c,height:u}=r.div.getBoundingClientRect();if(e>=o&&e<=o+c&&i>=l&&i<=l+u)return r}return null}disableUserSelect(e=!1){P(this,_E).classList.toggle("noUserSelect",e)}addShouldRescale(e){P(this,gb).add(e)}removeShouldRescale(e){P(this,gb).delete(e)}onScaleChanging({scale:e}){var i;this.commitOrRemove(),this.viewParameters.realScale=e*Om.PDF_TO_CSS_UNITS;for(const r of P(this,gb))r.onScaleChanging();(i=P(this,Mp))==null||i.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:r,anchorOffset:o,focusNode:l,focusOffset:c}=i,u=i.toString(),m=fe(this,yt,LD).call(this,i).closest(".textLayer"),g=this.getSelectionBoxes(m);if(!g)return;i.empty();const y=fe(this,yt,HM).call(this,m),v=P(this,qr)===dn.NONE,_=()=>{y==null||y.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:g,anchorNode:r,anchorOffset:o,focusNode:l,focusOffset:c,text:u}),v&&this.showAllEditors("highlight",!0,!0)};if(v){this.switchToMode(dn.HIGHLIGHT,_);return}_()}addToAnnotationStorage(e){!e.isEmpty()&&P(this,xh)&&!P(this,xh).has(e.id)&&P(this,xh).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,P(this,Fp)&&(te(this,Fp,!1),fe(this,yt,BD).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const i of P(this,Yn))if(i.div.contains(e)){te(this,bb,[i,e]),i._focusEventsAllowed=!1;break}}focus(){if(!P(this,bb))return;const[e,i]=P(this,bb);te(this,bb,null),i.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),i.focus()}addEditListeners(){fe(this,yt,GM).call(this),fe(this,yt,XM).call(this)}removeEditListeners(){fe(this,yt,Tte).call(this),fe(this,yt,KM).call(this)}dragOver(e){for(const{type:i}of e.dataTransfer.items)for(const r of P(this,jc))if(r.isHandlingMimeForPasting(i)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const i of e.dataTransfer.items)for(const r of P(this,jc))if(r.isHandlingMimeForPasting(i.type)){r.paste(i,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=P(this,Ma))==null||r.commitOrRemove(),!this.hasSelection)return;const i=[];for(const o of P(this,Yn)){const l=o.serialize(!0);l&&i.push(l)}i.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(i))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:i}=e;for(const l of i.items)for(const c of P(this,jc))if(c.isHandlingMimeForPasting(l.type)){c.paste(l,this.currentLayer);return}let r=i.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(l){hn(`paste: "${l.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const o=this.currentLayer;try{const l=[];for(const h of r){const m=await o.deserialize(h);if(!m)return;l.push(m)}const c=()=>{for(const h of l)fe(this,yt,ZM).call(this,h);fe(this,yt,YM).call(this,l)},u=()=>{for(const h of l)h.remove()};this.addCommands({cmd:c,undo:u,mustExec:!0})}catch(l){hn(`paste: "${l.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),P(this,qr)!==dn.NONE&&!this.isEditorHandlingKeyboard&&Jv._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,P(this,Fp)&&(te(this,Fp,!1),fe(this,yt,BD).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(fe(this,yt,Ate).call(this),fe(this,yt,XM).call(this),fe(this,yt,xo).call(this,{isEditing:P(this,qr)!==dn.NONE,isEmpty:fe(this,yt,Rk).call(this),hasSomethingToUndo:P(this,Vl).hasSomethingToUndo(),hasSomethingToRedo:P(this,Vl).hasSomethingToRedo(),hasSelectedEditor:!1})):(fe(this,yt,Cte).call(this),fe(this,yt,KM).call(this),fe(this,yt,xo).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!P(this,jc)){te(this,jc,e);for(const i of P(this,jc))fe(this,yt,ph).call(this,i.defaultPropertiesToUpdate)}}getId(){return P(this,wN).id}get currentLayer(){return P(this,ms).get(P(this,yw))}getLayer(e){return P(this,ms).get(e)}get currentPageIndex(){return P(this,yw)}addLayer(e){P(this,ms).set(e.pageIndex,e),P(this,Up)?e.enable():e.disable()}removeLayer(e){P(this,ms).delete(e.pageIndex)}async updateMode(e,i=null,r=!1){var o,l,c;if(P(this,qr)!==e&&!(P(this,Wl)&&(await P(this,Wl).promise,!P(this,Wl)))){if(te(this,Wl,Promise.withResolvers()),(o=P(this,Mp))==null||o.commitOrRemove(),te(this,qr,e),e===dn.NONE){this.setEditingState(!1),fe(this,yt,Pte).call(this),(l=this._editorUndoBar)==null||l.hide(),P(this,Wl).resolve();return}e===dn.SIGNATURE&&await((c=P(this,zp))==null?void 0:c.loadSignatures()),this.setEditingState(!0),await fe(this,yt,Nte).call(this),this.unselectAll();for(const u of P(this,ms).values())u.updateMode(e);if(!i){r&&this.addNewEditorFromKeyboard(),P(this,Wl).resolve();return}for(const u of P(this,Cr).values())u.annotationElementId===i?(this.setSelected(u),u.enterInEditMode()):u.unselect();P(this,Wl).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==P(this,qr)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,i){var r;if(P(this,jc)){switch(e){case En.CREATE:this.currentLayer.addNewEditor(i);return;case En.HIGHLIGHT_DEFAULT_COLOR:(r=P(this,yb))==null||r.updateColor(i);break;case En.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(P(this,wE)||te(this,wE,new Map)).set(e,i),this.showAllEditors("highlight",i);break}for(const o of P(this,Yn))o.updateParams(e,i);for(const o of P(this,jc))o.updateDefaultParams(e,i)}}showAllEditors(e,i,r=!1){var l;for(const c of P(this,Cr).values())c.editorType===e&&c.show(i);(((l=P(this,wE))==null?void 0:l.get(En.HIGHLIGHT_SHOW_ALL))??!0)!==i&&fe(this,yt,ph).call(this,[[En.HIGHLIGHT_SHOW_ALL,i]])}enableWaiting(e=!1){if(P(this,yE)!==e){te(this,yE,e);for(const i of P(this,ms).values())e?i.disableClick():i.enableClick(),i.div.classList.toggle("waiting",e)}}getEditors(e){const i=[];for(const r of P(this,Cr).values())r.pageIndex===e&&i.push(r);return i}getEditor(e){return P(this,Cr).get(e)}addEditor(e){P(this,Cr).set(e.id,e)}removeEditor(e){var i,r;e.div.contains(document.activeElement)&&(P(this,Ku)&&clearTimeout(P(this,Ku)),te(this,Ku,setTimeout(()=>{this.focusMainContainer(),te(this,Ku,null)},0))),P(this,Cr).delete(e.id),e.annotationElementId&&((i=P(this,Bp))==null||i.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!P(this,mb).has(e.annotationElementId))&&((r=P(this,xh))==null||r.remove(e.id))}addDeletedAnnotationElement(e){P(this,mb).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return P(this,mb).has(e)}removeDeletedAnnotationElement(e){P(this,mb).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){P(this,Ma)!==e&&(te(this,Ma,e),e&&fe(this,yt,ph).call(this,e.propertiesToUpdate))}updateUI(e){P(this,yt,Ite)===e&&fe(this,yt,ph).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){fe(this,yt,ph).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(P(this,Yn).has(e)){P(this,Yn).delete(e),e.unselect(),fe(this,yt,xo).call(this,{hasSelectedEditor:this.hasSelection});return}P(this,Yn).add(e),e.select(),fe(this,yt,ph).call(this,e.propertiesToUpdate),fe(this,yt,xo).call(this,{hasSelectedEditor:!0})}setSelected(e){var i;(i=P(this,Mp))==null||i.commitOrRemove();for(const r of P(this,Yn))r!==e&&r.unselect();P(this,Yn).clear(),P(this,Yn).add(e),e.select(),fe(this,yt,ph).call(this,e.propertiesToUpdate),fe(this,yt,xo).call(this,{hasSelectedEditor:!0})}isSelected(e){return P(this,Yn).has(e)}get firstSelectedEditor(){return P(this,Yn).values().next().value}unselect(e){e.unselect(),P(this,Yn).delete(e),fe(this,yt,xo).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return P(this,Yn).size!==0}get isEnterHandled(){return P(this,Yn).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;P(this,Vl).undo(),fe(this,yt,xo).call(this,{hasSomethingToUndo:P(this,Vl).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:fe(this,yt,Rk).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){P(this,Vl).redo(),fe(this,yt,xo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:P(this,Vl).hasSomethingToRedo(),isEmpty:fe(this,yt,Rk).call(this)})}addCommands(e){P(this,Vl).add(e),fe(this,yt,xo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:fe(this,yt,Rk).call(this)})}cleanUndoStack(e){P(this,Vl).cleanType(e)}delete(){var l;this.commitOrRemove();const e=(l=this.currentLayer)==null?void 0:l.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const i=e?[e]:[...P(this,Yn)],r=()=>{var c;(c=this._editorUndoBar)==null||c.show(o,i.length===1?i[0].editorType:i.length);for(const u of i)u.remove()},o=()=>{for(const c of i)fe(this,yt,ZM).call(this,c)};this.addCommands({cmd:r,undo:o,mustExec:!0})}commitOrRemove(){var e;(e=P(this,Ma))==null||e.commitOrRemove()}hasSomethingToControl(){return P(this,Ma)||this.hasSelection}selectAll(){for(const e of P(this,Yn))e.commit();fe(this,yt,YM).call(this,P(this,Cr).values())}unselectAll(){var e;if(!(P(this,Ma)&&(P(this,Ma).commitOrRemove(),P(this,qr)!==dn.NONE))&&!((e=P(this,Mp))!=null&&e.commitOrRemove())&&this.hasSelection){for(const i of P(this,Yn))i.unselect();P(this,Yn).clear(),fe(this,yt,xo).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,i,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;P(this,Vp)[0]+=e,P(this,Vp)[1]+=i;const[o,l]=P(this,Vp),c=[...P(this,Yn)],u=1e3;P(this,Yu)&&clearTimeout(P(this,Yu)),te(this,Yu,setTimeout(()=>{te(this,Yu,null),P(this,Vp)[0]=P(this,Vp)[1]=0,this.addCommands({cmd:()=>{for(const h of c)P(this,Cr).has(h.id)&&(h.translateInPage(o,l),h.translationDone())},undo:()=>{for(const h of c)P(this,Cr).has(h.id)&&(h.translateInPage(-o,-l),h.translationDone())},mustExec:!1})},u));for(const h of c)h.translateInPage(e,i),h.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),te(this,Xu,new Map);for(const e of P(this,Yn))P(this,Xu).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!P(this,Xu))return!1;this.disableUserSelect(!1);const e=P(this,Xu);te(this,Xu,null);let i=!1;for(const[{x:o,y:l,pageIndex:c},u]of e)u.newX=o,u.newY=l,u.newPageIndex=c,i||(i=o!==u.savedX||l!==u.savedY||c!==u.savedPageIndex);if(!i)return!1;const r=(o,l,c,u)=>{if(P(this,Cr).has(o.id)){const h=P(this,ms).get(u);h?o._setParentAndPosition(h,l,c):(o.pageIndex=u,o.x=l,o.y=c)}};return this.addCommands({cmd:()=>{for(const[o,{newX:l,newY:c,newPageIndex:u}]of e)r(o,l,c,u)},undo:()=>{for(const[o,{savedX:l,savedY:c,savedPageIndex:u}]of e)r(o,l,c,u)},mustExec:!0}),!0}dragSelectedEditors(e,i){if(P(this,Xu))for(const r of P(this,Xu).keys())r.drag(e,i)}rebuild(e){if(e.parent===null){const i=this.getLayer(e.pageIndex);i?(i.changeParent(e),i.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||P(this,Yn).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return P(this,Ma)===e}getActive(){return P(this,Ma)}getMode(){return P(this,qr)}get imageManager(){return yn(this,"imageManager",new $M)}getSelectionBoxes(e){if(!e)return null;const i=document.getSelection();for(let m=0,g=i.rangeCount;m<g;m++)if(!e.contains(i.getRangeAt(m).commonAncestorContainer))return null;const{x:r,y:o,width:l,height:c}=e.getBoundingClientRect();let u;switch(e.getAttribute("data-main-rotation")){case"90":u=(m,g,y,v)=>({x:(g-o)/c,y:1-(m+y-r)/l,width:v/c,height:y/l});break;case"180":u=(m,g,y,v)=>({x:1-(m+y-r)/l,y:1-(g+v-o)/c,width:y/l,height:v/c});break;case"270":u=(m,g,y,v)=>({x:1-(g+v-o)/c,y:(m-r)/l,width:v/c,height:y/l});break;default:u=(m,g,y,v)=>({x:(m-r)/l,y:(g-o)/c,width:y/l,height:v/c});break}const h=[];for(let m=0,g=i.rangeCount;m<g;m++){const y=i.getRangeAt(m);if(!y.collapsed)for(const{x:v,y:_,width:A,height:S}of y.getClientRects())A===0||S===0||h.push(u(v,_,A,S))}return h.length===0?null:h}addChangedExistingAnnotation({annotationElementId:e,id:i}){(P(this,bw)||te(this,bw,new Map)).set(e,i)}removeChangedExistingAnnotation({annotationElementId:e}){var i;(i=P(this,bw))==null||i.delete(e)}renderAnnotationElement(e){var o;const i=(o=P(this,bw))==null?void 0:o.get(e.data.id);if(!i)return;const r=P(this,xh).getRawValue(i);r&&(P(this,qr)===dn.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,i,r){var l;const o=(l=P(this,Bp))==null?void 0:l.get(e);o&&(o.setCanvas(i,r),P(this,Bp).delete(e))}addMissingCanvas(e,i){(P(this,Bp)||te(this,Bp,new Map)).set(e,i)}};mw=new WeakMap,Ma=new WeakMap,Cr=new WeakMap,ms=new WeakMap,gw=new WeakMap,xh=new WeakMap,bw=new WeakMap,Vl=new WeakMap,Rp=new WeakMap,Mp=new WeakMap,yw=new WeakMap,mb=new WeakMap,Xu=new WeakMap,jc=new WeakMap,gb=new WeakMap,mE=new WeakMap,gE=new WeakMap,vw=new WeakMap,bE=new WeakMap,Ku=new WeakMap,Op=new WeakMap,ww=new WeakMap,Fp=new WeakMap,Zu=new WeakMap,wN=new WeakMap,Up=new WeakMap,yE=new WeakMap,Lp=new WeakMap,bb=new WeakMap,yb=new WeakMap,Bp=new WeakMap,vE=new WeakMap,qr=new WeakMap,Yn=new WeakMap,_h=new WeakMap,zp=new WeakMap,vb=new WeakMap,wE=new WeakMap,xE=new WeakMap,Vp=new WeakMap,Yu=new WeakMap,kh=new WeakMap,_E=new WeakMap,Wl=new WeakMap,yt=new WeakSet,LD=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},HM=function(e){const{currentLayer:i}=this;if(i.hasTextLayer(e))return i;for(const r of P(this,ms).values())if(r.hasTextLayer(e))return r;return null},kte=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=fe(this,yt,LD).call(this,e).closest(".textLayer"),o=this.getSelectionBoxes(r);o&&(P(this,Zu)||te(this,Zu,new yAe(this)),P(this,Zu).show(r,o,this.direction==="ltr"))},Ete=function(){var l,c,u;const e=document.getSelection();if(!e||e.isCollapsed){P(this,_h)&&((l=P(this,Zu))==null||l.hide(),te(this,_h,null),fe(this,yt,xo).call(this,{hasSelectedText:!1}));return}const{anchorNode:i}=e;if(i===P(this,_h))return;const o=fe(this,yt,LD).call(this,e).closest(".textLayer");if(!o){P(this,_h)&&((c=P(this,Zu))==null||c.hide(),te(this,_h,null),fe(this,yt,xo).call(this,{hasSelectedText:!1}));return}if((u=P(this,Zu))==null||u.hide(),te(this,_h,i),fe(this,yt,xo).call(this,{hasSelectedText:!0}),!(P(this,qr)!==dn.HIGHLIGHT&&P(this,qr)!==dn.NONE)&&(P(this,qr)===dn.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),te(this,Fp,this.isShiftKeyDown),!this.isShiftKeyDown)){const h=P(this,qr)===dn.HIGHLIGHT?fe(this,yt,HM).call(this,o):null;h==null||h.toggleDrawing();const m=new AbortController,g=this.combinedSignal(m),y=v=>{v.type==="pointerup"&&v.button!==0||(m.abort(),h==null||h.toggleDrawing(!0),v.type==="pointerup"&&fe(this,yt,BD).call(this,"main_toolbar"))};window.addEventListener("pointerup",y,{signal:g}),window.addEventListener("blur",y,{signal:g})}},BD=function(e=""){P(this,qr)===dn.HIGHLIGHT?this.highlightSelection(e):P(this,mE)&&fe(this,yt,kte).call(this)},Ste=function(){document.addEventListener("selectionchange",fe(this,yt,Ete).bind(this),{signal:this._signal})},Ate=function(){if(P(this,Op))return;te(this,Op,new AbortController);const e=this.combinedSignal(P(this,Op));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},Cte=function(){var e;(e=P(this,Op))==null||e.abort(),te(this,Op,null)},GM=function(){if(P(this,Lp))return;te(this,Lp,new AbortController);const e=this.combinedSignal(P(this,Lp));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},Tte=function(){var e;(e=P(this,Lp))==null||e.abort(),te(this,Lp,null)},XM=function(){if(P(this,Rp))return;te(this,Rp,new AbortController);const e=this.combinedSignal(P(this,Rp));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},KM=function(){var e;(e=P(this,Rp))==null||e.abort(),te(this,Rp,null)},Dte=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},xo=function(e){Object.entries(e).some(([r,o])=>P(this,xE)[r]!==o)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(P(this,xE),e)}),P(this,qr)===dn.HIGHLIGHT&&e.hasSelectedEditor===!1&&fe(this,yt,ph).call(this,[[En.HIGHLIGHT_FREE,!0]]))},ph=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},Nte=async function(){if(!P(this,Up)){te(this,Up,!0);const e=[];for(const i of P(this,ms).values())e.push(i.enable());await Promise.all(e);for(const i of P(this,Cr).values())i.enable()}},Pte=function(){if(this.unselectAll(),P(this,Up)){te(this,Up,!1);for(const e of P(this,ms).values())e.disable();for(const e of P(this,Cr).values())e.disable()}},ZM=function(e){const i=P(this,ms).get(e.pageIndex);i?i.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},Ite=function(){let e=null;for(e of P(this,Yn));return e},Rk=function(){if(P(this,Cr).size===0)return!0;if(P(this,Cr).size===1)for(const e of P(this,Cr).values())return e.isEmpty();return!1},YM=function(e){for(const i of P(this,Yn))i.unselect();P(this,Yn).clear();for(const i of e)i.isEmpty()||(P(this,Yn).add(i),i.select());fe(this,yt,xo).call(this,{hasSelectedEditor:this.hasSelection})},mt(Jv,"TRANSLATE_SMALL",1),mt(Jv,"TRANSLATE_BIG",10);let R0=Jv;var Hr,Ju,Rc,xw,Qu,Oa,_w,ed,Zo,Eh,wb,td,Wp,Xc,Mk,zD;const _o=class _o{constructor(e){he(this,Xc);he(this,Hr,null);he(this,Ju,!1);he(this,Rc,null);he(this,xw,null);he(this,Qu,null);he(this,Oa,null);he(this,_w,!1);he(this,ed,null);he(this,Zo,null);he(this,Eh,null);he(this,wb,null);he(this,td,!1);te(this,Zo,e),te(this,td,e._uiManager.useNewAltTextFlow),P(_o,Wp)||te(_o,Wp,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){_o._l10n??(_o._l10n=e)}async render(){const e=te(this,Rc,document.createElement("button"));e.className="altText",e.tabIndex="0";const i=te(this,xw,document.createElement("span"));e.append(i),P(this,td)?(e.classList.add("new"),e.setAttribute("data-l10n-id",P(_o,Wp).missing),i.setAttribute("data-l10n-id",P(_o,Wp)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=P(this,Zo)._uiManager._signal;e.addEventListener("contextmenu",eu,{signal:r}),e.addEventListener("pointerdown",l=>l.stopPropagation(),{signal:r});const o=l=>{l.preventDefault(),P(this,Zo)._uiManager.editAltText(P(this,Zo)),P(this,td)&&P(this,Zo)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:P(this,Xc,Mk)}})};return e.addEventListener("click",o,{capture:!0,signal:r}),e.addEventListener("keydown",l=>{l.target===e&&l.key==="Enter"&&(te(this,_w,!0),o(l))},{signal:r}),await fe(this,Xc,zD).call(this),e}finish(){P(this,Rc)&&(P(this,Rc).focus({focusVisible:P(this,_w)}),te(this,_w,!1))}isEmpty(){return P(this,td)?P(this,Hr)===null:!P(this,Hr)&&!P(this,Ju)}hasData(){return P(this,td)?P(this,Hr)!==null||!!P(this,Eh):this.isEmpty()}get guessedText(){return P(this,Eh)}async setGuessedText(e){P(this,Hr)===null&&(te(this,Eh,e),te(this,wb,await _o._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),fe(this,Xc,zD).call(this))}toggleAltTextBadge(e=!1){var i;if(!P(this,td)||P(this,Hr)){(i=P(this,ed))==null||i.remove(),te(this,ed,null);return}if(!P(this,ed)){const r=te(this,ed,document.createElement("div"));r.className="noAltTextBadge",P(this,Zo).div.append(r)}P(this,ed).classList.toggle("hidden",!e)}serialize(e){let i=P(this,Hr);return!e&&P(this,Eh)===i&&(i=P(this,wb)),{altText:i,decorative:P(this,Ju),guessedText:P(this,Eh),textWithDisclaimer:P(this,wb)}}get data(){return{altText:P(this,Hr),decorative:P(this,Ju)}}set data({altText:e,decorative:i,guessedText:r,textWithDisclaimer:o,cancel:l=!1}){r&&(te(this,Eh,r),te(this,wb,o)),!(P(this,Hr)===e&&P(this,Ju)===i)&&(l||(te(this,Hr,e),te(this,Ju,i)),fe(this,Xc,zD).call(this))}toggle(e=!1){P(this,Rc)&&(!e&&P(this,Oa)&&(clearTimeout(P(this,Oa)),te(this,Oa,null)),P(this,Rc).disabled=!e)}shown(){P(this,Zo)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:P(this,Xc,Mk)}})}destroy(){var e,i;(e=P(this,Rc))==null||e.remove(),te(this,Rc,null),te(this,xw,null),te(this,Qu,null),(i=P(this,ed))==null||i.remove(),te(this,ed,null)}};Hr=new WeakMap,Ju=new WeakMap,Rc=new WeakMap,xw=new WeakMap,Qu=new WeakMap,Oa=new WeakMap,_w=new WeakMap,ed=new WeakMap,Zo=new WeakMap,Eh=new WeakMap,wb=new WeakMap,td=new WeakMap,Wp=new WeakMap,Xc=new WeakSet,Mk=function(){return P(this,Hr)&&"added"||P(this,Hr)===null&&this.guessedText&&"review"||"missing"},zD=async function(){var o,l,c;const e=P(this,Rc);if(!e)return;if(P(this,td)){if(e.classList.toggle("done",!!P(this,Hr)),e.setAttribute("data-l10n-id",P(_o,Wp)[P(this,Xc,Mk)]),(o=P(this,xw))==null||o.setAttribute("data-l10n-id",P(_o,Wp)[`${P(this,Xc,Mk)}-label`]),!P(this,Hr)){(l=P(this,Qu))==null||l.remove();return}}else{if(!P(this,Hr)&&!P(this,Ju)){e.classList.remove("done"),(c=P(this,Qu))==null||c.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let i=P(this,Qu);if(!i){te(this,Qu,i=document.createElement("span")),i.className="tooltip",i.setAttribute("role","tooltip"),i.id=`alt-text-tooltip-${P(this,Zo).id}`;const u=100,h=P(this,Zo)._uiManager._signal;h.addEventListener("abort",()=>{clearTimeout(P(this,Oa)),te(this,Oa,null)},{once:!0}),e.addEventListener("mouseenter",()=>{te(this,Oa,setTimeout(()=>{te(this,Oa,null),P(this,Qu).classList.add("show"),P(this,Zo)._reportTelemetry({action:"alt_text_tooltip"})},u))},{signal:h}),e.addEventListener("mouseleave",()=>{var m;P(this,Oa)&&(clearTimeout(P(this,Oa)),te(this,Oa,null)),(m=P(this,Qu))==null||m.classList.remove("show")},{signal:h})}P(this,Ju)?i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(i.removeAttribute("data-l10n-id"),i.textContent=P(this,Hr)),i.parentNode||e.append(i);const r=P(this,Zo).getElementForAltText();r==null||r.setAttribute("aria-describedby",i.id)},he(_o,Wp,null),mt(_o,"_l10n",null);let cN=_o;var kw,xb,kE,EE,SE,AE,CE,Sh,_b,Ah,kb,Ch,Um,jte,Rte,Mte;const DU=class DU{constructor({container:e,isPinchingDisabled:i=null,isPinchingStopped:r=null,onPinchStart:o=null,onPinching:l=null,onPinchEnd:c=null,signal:u}){he(this,Um);he(this,kw);he(this,xb,!1);he(this,kE,null);he(this,EE);he(this,SE);he(this,AE);he(this,CE);he(this,Sh,null);he(this,_b);he(this,Ah,null);he(this,kb);he(this,Ch,null);te(this,kw,e),te(this,kE,r),te(this,EE,i),te(this,SE,o),te(this,AE,l),te(this,CE,c),te(this,kb,new AbortController),te(this,_b,AbortSignal.any([u,P(this,kb).signal])),e.addEventListener("touchstart",fe(this,Um,jte).bind(this),{passive:!1,signal:P(this,_b)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/pf.pixelRatio}destroy(){var e,i;(e=P(this,kb))==null||e.abort(),te(this,kb,null),(i=P(this,Sh))==null||i.abort(),te(this,Sh,null)}};kw=new WeakMap,xb=new WeakMap,kE=new WeakMap,EE=new WeakMap,SE=new WeakMap,AE=new WeakMap,CE=new WeakMap,Sh=new WeakMap,_b=new WeakMap,Ah=new WeakMap,kb=new WeakMap,Ch=new WeakMap,Um=new WeakSet,jte=function(e){var o,l,c;if((o=P(this,EE))!=null&&o.call(this))return;if(e.touches.length===1){if(P(this,Sh))return;const u=te(this,Sh,new AbortController),h=AbortSignal.any([P(this,_b),u.signal]),m=P(this,kw),g={capture:!0,signal:h,passive:!1},y=v=>{var _;v.pointerType==="touch"&&((_=P(this,Sh))==null||_.abort(),te(this,Sh,null))};m.addEventListener("pointerdown",v=>{v.pointerType==="touch"&&(gr(v),y(v))},g),m.addEventListener("pointerup",y,g),m.addEventListener("pointercancel",y,g);return}if(!P(this,Ch)){te(this,Ch,new AbortController);const u=AbortSignal.any([P(this,_b),P(this,Ch).signal]),h=P(this,kw),m={signal:u,capture:!1,passive:!1};h.addEventListener("touchmove",fe(this,Um,Rte).bind(this),m);const g=fe(this,Um,Mte).bind(this);h.addEventListener("touchend",g,m),h.addEventListener("touchcancel",g,m),m.capture=!0,h.addEventListener("pointerdown",gr,m),h.addEventListener("pointermove",gr,m),h.addEventListener("pointercancel",gr,m),h.addEventListener("pointerup",gr,m),(l=P(this,SE))==null||l.call(this)}if(gr(e),e.touches.length!==2||(c=P(this,kE))!=null&&c.call(this)){te(this,Ah,null);return}let[i,r]=e.touches;i.identifier>r.identifier&&([i,r]=[r,i]),te(this,Ah,{touch0X:i.screenX,touch0Y:i.screenY,touch1X:r.screenX,touch1Y:r.screenY})},Rte=function(e){var O;if(!P(this,Ah)||e.touches.length!==2)return;gr(e);let[i,r]=e.touches;i.identifier>r.identifier&&([i,r]=[r,i]);const{screenX:o,screenY:l}=i,{screenX:c,screenY:u}=r,h=P(this,Ah),{touch0X:m,touch0Y:g,touch1X:y,touch1Y:v}=h,_=y-m,A=v-g,S=c-o,C=u-l,T=Math.hypot(S,C)||1,N=Math.hypot(_,A)||1;if(!P(this,xb)&&Math.abs(N-T)<=DU.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(h.touch0X=o,h.touch0Y=l,h.touch1X=c,h.touch1Y=u,!P(this,xb)){te(this,xb,!0);return}const I=[(o+c)/2,(l+u)/2];(O=P(this,AE))==null||O.call(this,I,N,T)},Mte=function(e){var i;e.touches.length>=2||(P(this,Ch)&&(P(this,Ch).abort(),te(this,Ch,null),(i=P(this,CE))==null||i.call(this)),P(this,Ah)&&(gr(e),te(this,Ah,null),te(this,xb,!1)))};let uN=DU;var Eb,Mc,ki,Ew,$p,TE,Sb,gs,Ab,Th,qp,DE,Cb,Fa,NE,Tb,Dh,nd,Sw,Aw,$l,Db,PE,xN,Jt,JM,IE,QM,VD,Ote,Fte,e6,WD,t6,Ute,Lte,Bte,n6,zte,i6,Vte,Wte,$te,r6,Ok;const gn=class gn{constructor(e){he(this,Jt);he(this,Eb,null);he(this,Mc,null);he(this,ki,null);he(this,Ew,!1);he(this,$p,null);he(this,TE,"");he(this,Sb,!1);he(this,gs,null);he(this,Ab,null);he(this,Th,null);he(this,qp,null);he(this,DE,"");he(this,Cb,!1);he(this,Fa,null);he(this,NE,!1);he(this,Tb,!1);he(this,Dh,!1);he(this,nd,null);he(this,Sw,0);he(this,Aw,0);he(this,$l,null);he(this,Db,null);mt(this,"_isCopy",!1);mt(this,"_editToolbar",null);mt(this,"_initialOptions",Object.create(null));mt(this,"_initialData",null);mt(this,"_isVisible",!0);mt(this,"_uiManager",null);mt(this,"_focusEventsAllowed",!0);he(this,PE,!1);he(this,xN,gn._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:i,rawDims:{pageWidth:r,pageHeight:o,pageX:l,pageY:c}}=this.parent.viewport;this.rotation=i,this.pageRotation=(360+i-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,o],this.pageTranslation=[l,c];const[u,h]=this.parentDimensions;this.x=e.x/u,this.y=e.y/h,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=gn.prototype._resizeWithKeyboard,i=R0.TRANSLATE_SMALL,r=R0.TRANSLATE_BIG;return yn(this,"_resizerKeyboardManager",new oA([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-i,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[i,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-i]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,i]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],gn.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return yn(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const i=new xAe({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});i.annotationElementId=e.annotationElementId,i.deleted=!0,i._uiManager.addToAnnotationStorage(i)}static initialize(e,i){if(gn._l10n??(gn._l10n=e),gn._l10nResizer||(gn._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),gn._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);gn._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,i){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,i){ri("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return P(this,PE)}set _isDraggable(e){var i;te(this,PE,e),(i=this.div)==null||i.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,i]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*i/(e*2),this.y+=this.width*e/(i*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*i/(e*2),this.y-=this.width*e/(i*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=P(this,xN)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):fe(this,Jt,Ok).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(P(this,Cb)?te(this,Cb,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const i=e.relatedTarget;i!=null&&i.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,i,r,o){const[l,c]=this.parentDimensions;[r,o]=this.screenToPageTranslation(r,o),this.x=(e+r)/l,this.y=(i+o)/c,this.fixAndSetPosition()}_moveAfterPaste(e,i){const[r,o]=this.parentDimensions;this.setAt(e*r,i*o,this.width*r,this.height*o),this._onTranslated()}translate(e,i){fe(this,Jt,JM).call(this,this.parentDimensions,e,i)}translateInPage(e,i){P(this,Fa)||te(this,Fa,[this.x,this.y,this.width,this.height]),fe(this,Jt,JM).call(this,this.pageDimensions,e,i),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,i){P(this,Fa)||te(this,Fa,[this.x,this.y,this.width,this.height]);const{div:r,parentDimensions:[o,l]}=this;if(this.x+=e/o,this.y+=i/l,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:y,y:v}=this.div.getBoundingClientRect();this.parent.findNewParent(this,y,v)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:c,y:u}=this;const[h,m]=this.getBaseTranslation();c+=h,u+=m;const{style:g}=r;g.left=`${(100*c).toFixed(2)}%`,g.top=`${(100*u).toFixed(2)}%`,this._onTranslating(c,u),r.scrollIntoView({block:"nearest"})}_onTranslating(e,i){}_onTranslated(e,i){}get _hasBeenMoved(){return!!P(this,Fa)&&(P(this,Fa)[0]!==this.x||P(this,Fa)[1]!==this.y)}get _hasBeenResized(){return!!P(this,Fa)&&(P(this,Fa)[2]!==this.width||P(this,Fa)[3]!==this.height)}getBaseTranslation(){const[e,i]=this.parentDimensions,{_borderLineWidth:r}=gn,o=r/e,l=r/i;switch(this.rotation){case 90:return[-o,l];case 180:return[o,l];case 270:return[o,-l];default:return[-o,-l]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:i},pageDimensions:[r,o]}=this;let{x:l,y:c,width:u,height:h}=this;if(u*=r,h*=o,l*=r,c*=o,this._mustFixPosition)switch(e){case 0:l=Co(l,0,r-u),c=Co(c,0,o-h);break;case 90:l=Co(l,0,r-h),c=Co(c,u,o);break;case 180:l=Co(l,u,r),c=Co(c,h,o);break;case 270:l=Co(l,h,r),c=Co(c,0,o-u);break}this.x=l/=r,this.y=c/=o;const[m,g]=this.getBaseTranslation();l+=m,c+=g,i.left=`${(100*l).toFixed(2)}%`,i.top=`${(100*c).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,i){var r;return fe(r=gn,IE,QM).call(r,e,i,this.parentRotation)}pageTranslationToScreen(e,i){var r;return fe(r=gn,IE,QM).call(r,e,i,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[i,r]}=this;return[i*e,r*e]}setDims(e,i){const[r,o]=this.parentDimensions,{style:l}=this.div;l.width=`${(100*e/r).toFixed(2)}%`,P(this,Sb)||(l.height=`${(100*i/o).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:i,width:r}=e,o=r.endsWith("%"),l=!P(this,Sb)&&i.endsWith("%");if(o&&l)return;const[c,u]=this.parentDimensions;o||(e.width=`${(100*parseFloat(r)/c).toFixed(2)}%`),!P(this,Sb)&&!l&&(e.height=`${(100*parseFloat(i)/u).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=P(this,ki))==null||e.finish()}async addEditToolbar(){return this._editToolbar||P(this,Tb)?this._editToolbar:(this._editToolbar=new WM(this),this.div.append(this._editToolbar.render()),P(this,ki)&&await this._editToolbar.addAltText(P(this,ki)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=P(this,ki))==null||e.destroy())}addContainer(e){var r;const i=(r=this._editToolbar)==null?void 0:r.div;i?i.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){P(this,ki)||(cN.initialize(gn._l10n),te(this,ki,new cN(this)),P(this,Eb)&&(P(this,ki).data=P(this,Eb),te(this,Eb,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=P(this,ki))==null?void 0:e.data}set altTextData(e){P(this,ki)&&(P(this,ki).data=e)}get guessedAltText(){var e;return(e=P(this,ki))==null?void 0:e.guessedText}async setGuessedAltText(e){var i;await((i=P(this,ki))==null?void 0:i.setGuessedText(e))}serializeAltText(e){var i;return(i=P(this,ki))==null?void 0:i.serialize(e)}hasAltText(){return!!P(this,ki)&&!P(this,ki).isEmpty()}hasAltTextData(){var e;return((e=P(this,ki))==null?void 0:e.hasData())??!1}render(){var c;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=P(this,Ew)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),fe(this,Jt,i6).call(this);const[i,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/i).toFixed(2)}%`,e.style.maxHeight=`${(100*i/r).toFixed(2)}%`);const[o,l]=this.getInitialTranslation();return this.translate(o,l),xU(this,e,["keydown","pointerdown"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(P(this,Db)||te(this,Db,new uN({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:fe(this,Jt,Ute).bind(this),onPinching:fe(this,Jt,Lte).bind(this),onPinchEnd:fe(this,Jt,Bte).bind(this),signal:this._uiManager._signal}))),(c=this._uiManager._editorUndoBar)==null||c.hide(),e}pointerdown(e){const{isMac:i}=As.platform;if(e.button!==0||e.ctrlKey&&i){e.preventDefault();return}if(te(this,Cb,!0),this._isDraggable){fe(this,Jt,zte).call(this,e);return}fe(this,Jt,n6).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){P(this,nd)&&clearTimeout(P(this,nd)),te(this,nd,setTimeout(()=>{var e;te(this,nd,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,i,r){e.changeParent(this),this.x=i,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,i,r=this.rotation){const o=this.parentScale,[l,c]=this.pageDimensions,[u,h]=this.pageTranslation,m=e/o,g=i/o,y=this.x*l,v=this.y*c,_=this.width*l,A=this.height*c;switch(r){case 0:return[y+m+u,c-v-g-A+h,y+m+_+u,c-v-g+h];case 90:return[y+g+u,c-v+m+h,y+g+A+u,c-v+m+_+h];case 180:return[y-m-_+u,c-v+g+h,y-m+u,c-v+g+A+h];case 270:return[y-g-A+u,c-v-m-_+h,y-g+u,c-v-m+h];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,i){const[r,o,l,c]=e,u=l-r,h=c-o;switch(this.rotation){case 0:return[r,i-c,u,h];case 90:return[r,i-o,h,u];case 180:return[l,i-o,u,h];case 270:return[l,i-c,h,u];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){te(this,Tb,!0)}disableEditMode(){te(this,Tb,!1)}isInEditMode(){return P(this,Tb)}shouldGetKeyboardEvents(){return P(this,Dh)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:i,bottom:r,right:o}=this.getClientDimensions(),{innerHeight:l,innerWidth:c}=window;return i<c&&o>0&&e<l&&r>0}rebuild(){fe(this,Jt,i6).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,i=null){ri("An editor must be serializable")}static async deserialize(e,i,r){const o=new this.prototype.constructor({parent:i,id:i.getNextId(),uiManager:r});o.rotation=e.rotation,te(o,Eb,e.accessibilityData),o._isCopy=e.isCopy||!1;const[l,c]=o.pageDimensions,[u,h,m,g]=o.getRectInCurrentCoords(e.rect,c);return o.x=u/l,o.y=h/c,o.width=m/l,o.height=g/c,o}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,i;if((e=P(this,qp))==null||e.abort(),te(this,qp,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),P(this,nd)&&(clearTimeout(P(this,nd)),te(this,nd,null)),fe(this,Jt,Ok).call(this),this.removeEditToolbar(),P(this,$l)){for(const r of P(this,$l).values())clearTimeout(r);te(this,$l,null)}this.parent=null,(i=P(this,Db))==null||i.destroy(),te(this,Db,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(fe(this,Jt,Ote).call(this),P(this,gs).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),te(this,Th,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const i=P(this,gs).children;if(!P(this,Mc)){te(this,Mc,Array.from(i));const c=fe(this,Jt,Vte).bind(this),u=fe(this,Jt,Wte).bind(this),h=this._uiManager._signal;for(const m of P(this,Mc)){const g=m.getAttribute("data-resizer-name");m.setAttribute("role","spinbutton"),m.addEventListener("keydown",c,{signal:h}),m.addEventListener("blur",u,{signal:h}),m.addEventListener("focus",fe(this,Jt,$te).bind(this,g),{signal:h}),m.setAttribute("data-l10n-id",gn._l10nResizer[g])}}const r=P(this,Mc)[0];let o=0;for(const c of i){if(c===r)break;o++}const l=(360-this.rotation+this.parentRotation)%360/90*(P(this,Mc).length/4);if(l!==o){if(l<o)for(let u=0;u<o-l;u++)P(this,gs).append(P(this,gs).firstChild);else if(l>o)for(let u=0;u<l-o;u++)P(this,gs).firstChild.before(P(this,gs).lastChild);let c=0;for(const u of i){const m=P(this,Mc)[c++].getAttribute("data-resizer-name");u.setAttribute("data-l10n-id",gn._l10nResizer[m])}}fe(this,Jt,r6).call(this,0),te(this,Dh,!0),P(this,gs).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,i){P(this,Dh)&&fe(this,Jt,t6).call(this,P(this,DE),{deltaX:e,deltaY:i,fromKeyboard:!0})}_stopResizingWithKeyboard(){fe(this,Jt,Ok).call(this),this.div.focus()}select(){var e,i,r;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var o,l;(o=this.div)!=null&&o.classList.contains("selectedEditor")&&((l=this._editToolbar)==null||l.show())});return}(i=this._editToolbar)==null||i.show(),(r=P(this,ki))==null||r.toggleAltTextBadge(!1)}unselect(){var e,i,r,o,l;(e=P(this,gs))==null||e.classList.add("hidden"),(i=this.div)==null||i.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(o=this._editToolbar)==null||o.hide(),(l=P(this,ki))==null||l.toggleAltTextBadge(!0)}updateParams(e,i){}disableEditing(){}enableEditing(){}enterInEditMode(){}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return P(this,NE)}set isEditing(e){te(this,NE,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,i){te(this,Sb,!0);const r=e/i,{style:o}=this.div;o.aspectRatio=r,o.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,i=!1){if(i){P(this,$l)||te(this,$l,new Map);const{action:r}=e;let o=P(this,$l).get(r);o&&clearTimeout(o),o=setTimeout(()=>{this._reportTelemetry(e),P(this,$l).delete(r),P(this,$l).size===0&&te(this,$l,null)},gn._telemetryTimeout),P(this,$l).set(r,o);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),te(this,Ew,!1)}disable(){this.div&&(this.div.tabIndex=-1),te(this,Ew,!0)}renderAnnotationElement(e){let i=e.container.querySelector(".annotationContent");if(!i)i=document.createElement("div"),i.classList.add("annotationContent",this.editorType),e.container.prepend(i);else if(i.nodeName==="CANVAS"){const r=i;i=document.createElement("div"),i.classList.add("annotationContent",this.editorType),r.before(i)}return i}resetAnnotationElement(e){const{firstChild:i}=e.container;(i==null?void 0:i.nodeName)==="DIV"&&i.classList.contains("annotationContent")&&i.remove()}};Eb=new WeakMap,Mc=new WeakMap,ki=new WeakMap,Ew=new WeakMap,$p=new WeakMap,TE=new WeakMap,Sb=new WeakMap,gs=new WeakMap,Ab=new WeakMap,Th=new WeakMap,qp=new WeakMap,DE=new WeakMap,Cb=new WeakMap,Fa=new WeakMap,NE=new WeakMap,Tb=new WeakMap,Dh=new WeakMap,nd=new WeakMap,Sw=new WeakMap,Aw=new WeakMap,$l=new WeakMap,Db=new WeakMap,PE=new WeakMap,xN=new WeakMap,Jt=new WeakSet,JM=function([e,i],r,o){[r,o]=this.screenToPageTranslation(r,o),this.x+=r/e,this.y+=o/i,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},IE=new WeakSet,QM=function(e,i,r){switch(r){case 90:return[i,-e];case 180:return[-e,-i];case 270:return[-i,e];default:return[e,i]}},VD=function(e){switch(e){case 90:{const[i,r]=this.pageDimensions;return[0,-i/r,r/i,0]}case 180:return[-1,0,0,-1];case 270:{const[i,r]=this.pageDimensions;return[0,i/r,-r/i,0]}default:return[1,0,0,1]}},Ote=function(){if(P(this,gs))return;te(this,gs,document.createElement("div")),P(this,gs).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],i=this._uiManager._signal;for(const r of e){const o=document.createElement("div");P(this,gs).append(o),o.classList.add("resizer",r),o.setAttribute("data-resizer-name",r),o.addEventListener("pointerdown",fe(this,Jt,Fte).bind(this,r),{signal:i}),o.addEventListener("contextmenu",eu,{signal:i}),o.tabIndex=-1}this.div.prepend(P(this,gs))},Fte=function(e,i){var g;i.preventDefault();const{isMac:r}=As.platform;if(i.button!==0||i.ctrlKey&&r)return;(g=P(this,ki))==null||g.toggle(!1);const o=this._isDraggable;this._isDraggable=!1,te(this,Ab,[i.screenX,i.screenY]);const l=new AbortController,c=this._uiManager.combinedSignal(l);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",fe(this,Jt,t6).bind(this,e),{passive:!0,capture:!0,signal:c}),window.addEventListener("touchmove",gr,{passive:!1,signal:c}),window.addEventListener("contextmenu",eu,{signal:c}),te(this,Th,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const u=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(i.target).cursor;const m=()=>{var y;l.abort(),this.parent.togglePointerEvents(!0),(y=P(this,ki))==null||y.toggle(!0),this._isDraggable=o,this.parent.div.style.cursor=u,this.div.style.cursor=h,fe(this,Jt,WD).call(this)};window.addEventListener("pointerup",m,{signal:c}),window.addEventListener("blur",m,{signal:c})},e6=function(e,i,r,o){this.width=r,this.height=o,this.x=e,this.y=i;const[l,c]=this.parentDimensions;this.setDims(l*r,c*o),this.fixAndSetPosition(),this._onResized()},WD=function(){if(!P(this,Th))return;const{savedX:e,savedY:i,savedWidth:r,savedHeight:o}=P(this,Th);te(this,Th,null);const l=this.x,c=this.y,u=this.width,h=this.height;l===e&&c===i&&u===r&&h===o||this.addCommands({cmd:fe(this,Jt,e6).bind(this,l,c,u,h),undo:fe(this,Jt,e6).bind(this,e,i,r,o),mustExec:!0})},t6=function(e,i){const[r,o]=this.parentDimensions,l=this.x,c=this.y,u=this.width,h=this.height,m=gn.MIN_SIZE/r,g=gn.MIN_SIZE/o,y=fe(this,Jt,VD).call(this,this.rotation),v=(re,ie)=>[y[0]*re+y[2]*ie,y[1]*re+y[3]*ie],_=fe(this,Jt,VD).call(this,360-this.rotation),A=(re,ie)=>[_[0]*re+_[2]*ie,_[1]*re+_[3]*ie];let S,C,T=!1,N=!1;switch(e){case"topLeft":T=!0,S=(re,ie)=>[0,0],C=(re,ie)=>[re,ie];break;case"topMiddle":S=(re,ie)=>[re/2,0],C=(re,ie)=>[re/2,ie];break;case"topRight":T=!0,S=(re,ie)=>[re,0],C=(re,ie)=>[0,ie];break;case"middleRight":N=!0,S=(re,ie)=>[re,ie/2],C=(re,ie)=>[0,ie/2];break;case"bottomRight":T=!0,S=(re,ie)=>[re,ie],C=(re,ie)=>[0,0];break;case"bottomMiddle":S=(re,ie)=>[re/2,ie],C=(re,ie)=>[re/2,0];break;case"bottomLeft":T=!0,S=(re,ie)=>[0,ie],C=(re,ie)=>[re,0];break;case"middleLeft":N=!0,S=(re,ie)=>[0,ie/2],C=(re,ie)=>[re,ie/2];break}const I=S(u,h),O=C(u,h);let F=v(...O);const U=gn._round(l+F[0]),V=gn._round(c+F[1]);let B=1,Z=1,ae,me;if(i.fromKeyboard)({deltaX:ae,deltaY:me}=i);else{const{screenX:re,screenY:ie}=i,[G,K]=P(this,Ab);[ae,me]=this.screenToPageTranslation(re-G,ie-K),P(this,Ab)[0]=re,P(this,Ab)[1]=ie}if([ae,me]=A(ae/r,me/o),T){const re=Math.hypot(u,h);B=Z=Math.max(Math.min(Math.hypot(O[0]-I[0]-ae,O[1]-I[1]-me)/re,1/u,1/h),m/u,g/h)}else N?B=Co(Math.abs(O[0]-I[0]-ae),m,1)/u:Z=Co(Math.abs(O[1]-I[1]-me),g,1)/h;const Q=gn._round(u*B),ge=gn._round(h*Z);F=v(...C(Q,ge));const $=U-F[0],Te=V-F[1];P(this,Fa)||te(this,Fa,[this.x,this.y,this.width,this.height]),this.width=Q,this.height=ge,this.x=$,this.y=Te,this.setDims(r*Q,o*ge),this.fixAndSetPosition(),this._onResizing()},Ute=function(){var e;te(this,Th,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=P(this,ki))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},Lte=function(e,i,r){let l=.7*(r/i)+1-.7;if(l===1)return;const c=fe(this,Jt,VD).call(this,this.rotation),u=(U,V)=>[c[0]*U+c[2]*V,c[1]*U+c[3]*V],[h,m]=this.parentDimensions,g=this.x,y=this.y,v=this.width,_=this.height,A=gn.MIN_SIZE/h,S=gn.MIN_SIZE/m;l=Math.max(Math.min(l,1/v,1/_),A/v,S/_);const C=gn._round(v*l),T=gn._round(_*l);if(C===v&&T===_)return;P(this,Fa)||te(this,Fa,[g,y,v,_]);const N=u(v/2,_/2),I=gn._round(g+N[0]),O=gn._round(y+N[1]),F=u(C/2,T/2);this.x=I-F[0],this.y=O-F[1],this.width=C,this.height=T,this.setDims(h*C,m*T),this.fixAndSetPosition(),this._onResizing()},Bte=function(){var e;(e=P(this,ki))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),fe(this,Jt,WD).call(this)},n6=function(e){const{isMac:i}=As.platform;e.ctrlKey&&!i||e.shiftKey||e.metaKey&&i?this.parent.toggleSelected(this):this.parent.setSelected(this)},zte=function(e){const{isSelected:i}=this;this._uiManager.setUpDragSession();let r=!1;const o=new AbortController,l=this._uiManager.combinedSignal(o),c={capture:!0,passive:!1,signal:l},u=m=>{o.abort(),te(this,$p,null),te(this,Cb,!1),this._uiManager.endDragSession()||fe(this,Jt,n6).call(this,m),r&&this._onStopDragging()};i&&(te(this,Sw,e.clientX),te(this,Aw,e.clientY),te(this,$p,e.pointerId),te(this,TE,e.pointerType),window.addEventListener("pointermove",m=>{r||(r=!0,this._onStartDragging());const{clientX:g,clientY:y,pointerId:v}=m;if(v!==P(this,$p)){gr(m);return}const[_,A]=this.screenToPageTranslation(g-P(this,Sw),y-P(this,Aw));te(this,Sw,g),te(this,Aw,y),this._uiManager.dragSelectedEditors(_,A)},c),window.addEventListener("touchmove",gr,c),window.addEventListener("pointerdown",m=>{m.pointerType===P(this,TE)&&(P(this,Db)||m.isPrimary)&&u(m),gr(m)},c));const h=m=>{if(!P(this,$p)||P(this,$p)===m.pointerId){u(m);return}gr(m)};window.addEventListener("pointerup",h,{signal:l}),window.addEventListener("blur",h,{signal:l})},i6=function(){if(P(this,qp)||!this.div)return;te(this,qp,new AbortController);const e=this._uiManager.combinedSignal(P(this,qp));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},Vte=function(e){gn._resizerKeyboardManager.exec(this,e)},Wte=function(e){var i;P(this,Dh)&&((i=e.relatedTarget)==null?void 0:i.parentNode)!==P(this,gs)&&fe(this,Jt,Ok).call(this)},$te=function(e){te(this,DE,P(this,Dh)?e:"")},r6=function(e){if(P(this,Mc))for(const i of P(this,Mc))i.tabIndex=e},Ok=function(){te(this,Dh,!1),fe(this,Jt,r6).call(this,-1),fe(this,Jt,WD).call(this)},he(gn,IE),mt(gn,"_l10n",null),mt(gn,"_l10nResizer",null),mt(gn,"_borderLineWidth",-1),mt(gn,"_colorManager",new qM),mt(gn,"_zIndex",1),mt(gn,"_telemetryTimeout",1e3);let mi=gn;class xAe extends mi{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const lH=3285377520,Ul=4294901760,$u=65535;class qte{constructor(e){this.h1=e?e&4294967295:lH,this.h2=e?e&4294967295:lH}update(e){let i,r;if(typeof e=="string"){i=new Uint8Array(e.length*2),r=0;for(let S=0,C=e.length;S<C;S++){const T=e.charCodeAt(S);T<=255?i[r++]=T:(i[r++]=T>>>8,i[r++]=T&255)}}else if(ArrayBuffer.isView(e))i=e.slice(),r=i.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const o=r>>2,l=r-o*4,c=new Uint32Array(i.buffer,0,o);let u=0,h=0,m=this.h1,g=this.h2;const y=3432918353,v=461845907,_=y&$u,A=v&$u;for(let S=0;S<o;S++)S&1?(u=c[S],u=u*y&Ul|u*_&$u,u=u<<15|u>>>17,u=u*v&Ul|u*A&$u,m^=u,m=m<<13|m>>>19,m=m*5+3864292196):(h=c[S],h=h*y&Ul|h*_&$u,h=h<<15|h>>>17,h=h*v&Ul|h*A&$u,g^=h,g=g<<13|g>>>19,g=g*5+3864292196);switch(u=0,l){case 3:u^=i[o*4+2]<<16;case 2:u^=i[o*4+1]<<8;case 1:u^=i[o*4],u=u*y&Ul|u*_&$u,u=u<<15|u>>>17,u=u*v&Ul|u*A&$u,o&1?m^=u:g^=u}this.h1=m,this.h2=g}hexdigest(){let e=this.h1,i=this.h2;return e^=i>>>1,e=e*3981806797&Ul|e*36045&$u,i=i*4283543511&Ul|((i<<16|e>>>16)*2950163797&Ul)>>>16,e^=i>>>1,e=e*444984403&Ul|e*60499&$u,i=i*3301882366&Ul|((i<<16|e>>>16)*3120437893&Ul)>>>16,e^=i>>>1,(e>>>0).toString(16).padStart(8,"0")+(i>>>0).toString(16).padStart(8,"0")}}const s6=Object.freeze({map:null,hash:"",transfer:void 0});var Nb,Pb,bs,_N,Hte;class _U{constructor(){he(this,_N);he(this,Nb,!1);he(this,Pb,null);he(this,bs,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,i){const r=P(this,bs).get(e);return r===void 0?i:Object.assign(i,r)}getRawValue(e){return P(this,bs).get(e)}remove(e){if(P(this,bs).delete(e),P(this,bs).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const i of P(this,bs).values())if(i instanceof mi)return;this.onAnnotationEditor(null)}}setValue(e,i){const r=P(this,bs).get(e);let o=!1;if(r!==void 0)for(const[l,c]of Object.entries(i))r[l]!==c&&(o=!0,r[l]=c);else o=!0,P(this,bs).set(e,i);o&&fe(this,_N,Hte).call(this),i instanceof mi&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(i.constructor._type)}has(e){return P(this,bs).has(e)}get size(){return P(this,bs).size}resetModified(){P(this,Nb)&&(te(this,Nb,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Gte(this)}get serializable(){if(P(this,bs).size===0)return s6;const e=new Map,i=new qte,r=[],o=Object.create(null);let l=!1;for(const[c,u]of P(this,bs)){const h=u instanceof mi?u.serialize(!1,o):u;h&&(e.set(c,h),i.update(`${c}:${JSON.stringify(h)}`),l||(l=!!h.bitmap))}if(l)for(const c of e.values())c.bitmap&&r.push(c.bitmap);return e.size>0?{map:e,hash:i.hexdigest(),transfer:r}:s6}get editorStats(){let e=null;const i=new Map;for(const r of P(this,bs).values()){if(!(r instanceof mi))continue;const o=r.telemetryFinalData;if(!o)continue;const{type:l}=o;i.has(l)||i.set(l,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const c=e[l]||(e[l]=new Map);for(const[u,h]of Object.entries(o)){if(u==="type")continue;let m=c.get(u);m||(m=new Map,c.set(u,m));const g=m.get(h)??0;m.set(h,g+1)}}for(const[r,o]of i)e[r]=o.computeTelemetryFinalData(e[r]);return e}resetModifiedIds(){te(this,Pb,null)}get modifiedIds(){if(P(this,Pb))return P(this,Pb);const e=[];for(const i of P(this,bs).values())!(i instanceof mi)||!i.annotationElementId||!i.serialize()||e.push(i.annotationElementId);return te(this,Pb,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return P(this,bs).entries()}}Nb=new WeakMap,Pb=new WeakMap,bs=new WeakMap,_N=new WeakSet,Hte=function(){P(this,Nb)||(te(this,Nb,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var jE;class Gte extends _U{constructor(i){super();he(this,jE);const{map:r,hash:o,transfer:l}=i.serializable,c=structuredClone(r,l?{transfer:l}:null);te(this,jE,{map:c,hash:o,transfer:l})}get print(){ri("Should not call PrintAnnotationStorage.print")}get serializable(){return P(this,jE)}get modifiedIds(){return yn(this,"modifiedIds",{ids:new Set,hash:""})}}jE=new WeakMap;var Cw;class _Ae{constructor({ownerDocument:e=globalThis.document,styleElement:i=null}){he(this,Cw,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const i=this.styleElement.sheet;i.insertRule(e,i.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),P(this,Cw).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:i,_inspectFont:r}){if(!(!e||P(this,Cw).has(e.loadedName))){if(yr(!i,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:o,src:l,style:c}=e,u=new FontFace(o,l,c);this.addNativeFontFace(u);try{await u.load(),P(this,Cw).add(o),r==null||r(e)}catch{hn(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}ri("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(o){throw hn(`Failed to load font '${r.family}': '${o}'.`),e.disableFontFace=!0,o}}return}const i=e.createFontFaceRule();if(i){if(this.insertRule(i),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const o=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,o)})}}get isFontLoadingAPISupported(){var i;const e=!!((i=this._document)!=null&&i.fonts);return yn(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return yn(this,"isSyncFontLoadingSupported",Ao||As.platform.isFirefox)}_queueLoadingCallback(e){function i(){for(yr(!o.done,"completeRequest() cannot be called twice."),o.done=!0;r.length>0&&r[0].done;){const l=r.shift();setTimeout(l.callback,0)}}const{loadingRequests:r}=this,o={done:!1,complete:i,callback:e};return r.push(o),o}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return yn(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,i){function r(O,F){return O.charCodeAt(F)<<24|O.charCodeAt(F+1)<<16|O.charCodeAt(F+2)<<8|O.charCodeAt(F+3)&255}function o(O,F,U,V){const B=O.substring(0,F),Z=O.substring(F+U);return B+V+Z}let l,c;const u=this._document.createElement("canvas");u.width=1,u.height=1;const h=u.getContext("2d");let m=0;function g(O,F){if(++m>30){hn("Load test font never loaded."),F();return}if(h.font="30px "+O,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0){F();return}setTimeout(g.bind(null,O,F))}const y=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=o(v,976,y.length,y);const A=16,S=1482184792;let C=r(v,A);for(l=0,c=y.length-3;l<c;l+=4)C=C-S+r(y,l)|0;l<y.length&&(C=C-S+r(y+"XXX",l)|0),v=o(v,A,4,aAe(C));const T=`url(data:font/opentype;base64,${btoa(v)});`,N=`@font-face {font-family:"${y}";src:${T}}`;this.insertRule(N);const I=this._document.createElement("div");I.style.visibility="hidden",I.style.width=I.style.height="10px",I.style.position="absolute",I.style.top=I.style.left="0px";for(const O of[e.loadedName,y]){const F=this._document.createElement("span");F.textContent="Hi",F.style.fontFamily=O,I.append(F)}this._document.body.append(I),g(y,()=>{I.remove(),i.complete()})}}Cw=new WeakMap;class kAe{constructor(e,i=null){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this._inspectFont=i}createNativeFontFace(){var i;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(i=this._inspectFont)==null||i.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${pte(this.data)});`;let i;if(!this.cssFontInfo)i=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let o=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(o+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),i=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${o}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),i}getPathGenerator(e,i){if(this.compiledGlyphs[i]!==void 0)return this.compiledGlyphs[i];const r=this.loadedName+"_path_"+i;let o;try{o=e.get(r)}catch(c){hn(`getPathGenerator - ignoring character: "${c}".`)}const l=new Path2D(o||"");return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[i]=l}}const lD={DATA:1,ERROR:2},pr={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function cH(){}function Xo(n){if(n instanceof Mm||n instanceof BM||n instanceof sH||n instanceof lN||n instanceof W4)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||ri('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Mm(n.message);case"InvalidPDFException":return new BM(n.message);case"PasswordException":return new sH(n.message,n.code);case"ResponseException":return new lN(n.message,n.status,n.missing);case"UnknownErrorException":return new W4(n.message,n.details)}return new W4(n.message,n.toString())}var Tw,rc,Xte,Kte,Zte,$D;class Fk{constructor(e,i,r){he(this,rc);he(this,Tw,new AbortController);this.sourceName=e,this.targetName=i,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",fe(this,rc,Xte).bind(this),{signal:P(this,Tw).signal})}on(e,i){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=i}send(e,i,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:i},r)}sendWithPromise(e,i,r){const o=this.callbackId++,l=Promise.withResolvers();this.callbackCapabilities[o]=l;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:o,data:i},r)}catch(c){l.reject(c)}return l.promise}sendWithStream(e,i,r,o){const l=this.streamId++,c=this.sourceName,u=this.targetName,h=this.comObj;return new ReadableStream({start:m=>{const g=Promise.withResolvers();return this.streamControllers[l]={controller:m,startCall:g,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:c,targetName:u,action:e,streamId:l,data:i,desiredSize:m.desiredSize},o),g.promise},pull:m=>{const g=Promise.withResolvers();return this.streamControllers[l].pullCall=g,h.postMessage({sourceName:c,targetName:u,stream:pr.PULL,streamId:l,desiredSize:m.desiredSize}),g.promise},cancel:m=>{yr(m instanceof Error,"cancel must have a valid reason");const g=Promise.withResolvers();return this.streamControllers[l].cancelCall=g,this.streamControllers[l].isClosed=!0,h.postMessage({sourceName:c,targetName:u,stream:pr.CANCEL,streamId:l,reason:Xo(m)}),g.promise}},r)}destroy(){var e;(e=P(this,Tw))==null||e.abort(),te(this,Tw,null)}}Tw=new WeakMap,rc=new WeakSet,Xte=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){fe(this,rc,Zte).call(this,e);return}if(e.callback){const r=e.callbackId,o=this.callbackCapabilities[r];if(!o)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===lD.DATA)o.resolve(e.data);else if(e.callback===lD.ERROR)o.reject(Xo(e.reason));else throw new Error("Unexpected callback case");return}const i=this.actionHandler[e.action];if(!i)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,o=e.sourceName,l=this.comObj;Promise.try(i,e.data).then(function(c){l.postMessage({sourceName:r,targetName:o,callback:lD.DATA,callbackId:e.callbackId,data:c})},function(c){l.postMessage({sourceName:r,targetName:o,callback:lD.ERROR,callbackId:e.callbackId,reason:Xo(c)})});return}if(e.streamId){fe(this,rc,Kte).call(this,e);return}i(e.data)},Kte=function(e){const i=e.streamId,r=this.sourceName,o=e.sourceName,l=this.comObj,c=this,u=this.actionHandler[e.action],h={enqueue(m,g=1,y){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=g,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),l.postMessage({sourceName:r,targetName:o,stream:pr.ENQUEUE,streamId:i,chunk:m},y)},close(){this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:r,targetName:o,stream:pr.CLOSE,streamId:i}),delete c.streamSinks[i])},error(m){yr(m instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,l.postMessage({sourceName:r,targetName:o,stream:pr.ERROR,streamId:i,reason:Xo(m)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[i]=h,Promise.try(u,e.data,h).then(function(){l.postMessage({sourceName:r,targetName:o,stream:pr.START_COMPLETE,streamId:i,success:!0})},function(m){l.postMessage({sourceName:r,targetName:o,stream:pr.START_COMPLETE,streamId:i,reason:Xo(m)})})},Zte=function(e){const i=e.streamId,r=this.sourceName,o=e.sourceName,l=this.comObj,c=this.streamControllers[i],u=this.streamSinks[i];switch(e.stream){case pr.START_COMPLETE:e.success?c.startCall.resolve():c.startCall.reject(Xo(e.reason));break;case pr.PULL_COMPLETE:e.success?c.pullCall.resolve():c.pullCall.reject(Xo(e.reason));break;case pr.PULL:if(!u){l.postMessage({sourceName:r,targetName:o,stream:pr.PULL_COMPLETE,streamId:i,success:!0});break}u.desiredSize<=0&&e.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=e.desiredSize,Promise.try(u.onPull||cH).then(function(){l.postMessage({sourceName:r,targetName:o,stream:pr.PULL_COMPLETE,streamId:i,success:!0})},function(m){l.postMessage({sourceName:r,targetName:o,stream:pr.PULL_COMPLETE,streamId:i,reason:Xo(m)})});break;case pr.ENQUEUE:if(yr(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(e.chunk);break;case pr.CLOSE:if(yr(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),fe(this,rc,$D).call(this,c,i);break;case pr.ERROR:yr(c,"error should have stream controller"),c.controller.error(Xo(e.reason)),fe(this,rc,$D).call(this,c,i);break;case pr.CANCEL_COMPLETE:e.success?c.cancelCall.resolve():c.cancelCall.reject(Xo(e.reason)),fe(this,rc,$D).call(this,c,i);break;case pr.CANCEL:if(!u)break;const h=Xo(e.reason);Promise.try(u.onCancel||cH,h).then(function(){l.postMessage({sourceName:r,targetName:o,stream:pr.CANCEL_COMPLETE,streamId:i,success:!0})},function(m){l.postMessage({sourceName:r,targetName:o,stream:pr.CANCEL_COMPLETE,streamId:i,reason:Xo(m)})}),u.sinkCapability.reject(h),u.isCancelled=!0,delete this.streamSinks[i];break;default:throw new Error("Unexpected stream case")}},$D=async function(e,i){var r,o,l;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(o=e.pullCall)==null?void 0:o.promise,(l=e.cancelCall)==null?void 0:l.promise]),delete this.streamControllers[i]};var RE;class Yte{constructor({enableHWA:e=!1}){he(this,RE,!1);te(this,RE,e)}create(e,i){if(e<=0||i<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,i);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!P(this,RE)})}}reset(e,i,r){if(!e.canvas)throw new Error("Canvas is not specified");if(i<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=i,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,i){ri("Abstract method `_createCanvas` called.")}}RE=new WeakMap;class EAe extends Yte{constructor({ownerDocument:e=globalThis.document,enableHWA:i=!1}){super({enableHWA:i}),this._document=e}_createCanvas(e,i){const r=this._document.createElement("canvas");return r.width=e,r.height=i,r}}class Jte{constructor({baseUrl:e=null,isCompressed:i=!0}){this.baseUrl=e,this.isCompressed=i}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const i=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(i).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${i}`)})}async _fetch(e){ri("Abstract method `_fetch` called.")}}class uH extends Jte{async _fetch(e){const i=await rA(e,this.isCompressed?"arraybuffer":"text");return i instanceof ArrayBuffer?new Uint8Array(i):iA(i)}}class Qte{addFilter(e){return"none"}addHCMFilter(e,i){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,i,r,o,l){return"none"}destroy(e=!1){}}var Ib,Dw,Nh,Ph,Gs,jb,Rb,At,qs,Uk,Sv,qD,Av,ene,o6,Cv,Lk,Bk,a6,zk;class SAe extends Qte{constructor({docId:i,ownerDocument:r=globalThis.document}){super();he(this,At);he(this,Ib);he(this,Dw);he(this,Nh);he(this,Ph);he(this,Gs);he(this,jb);he(this,Rb,0);te(this,Ph,i),te(this,Gs,r)}addFilter(i){if(!i)return"none";let r=P(this,At,qs).get(i);if(r)return r;const[o,l,c]=fe(this,At,qD).call(this,i),u=i.length===1?o:`${o}${l}${c}`;if(r=P(this,At,qs).get(u),r)return P(this,At,qs).set(i,r),r;const h=`g_${P(this,Ph)}_transfer_map_${wo(this,Rb)._++}`,m=fe(this,At,Av).call(this,h);P(this,At,qs).set(i,m),P(this,At,qs).set(u,m);const g=fe(this,At,Cv).call(this,h);return fe(this,At,Bk).call(this,o,l,c,g),m}addHCMFilter(i,r){var A;const o=`${i}-${r}`,l="base";let c=P(this,At,Uk).get(l);if((c==null?void 0:c.key)===o||(c?((A=c.filter)==null||A.remove(),c.key=o,c.url="none",c.filter=null):(c={key:o,url:"none",filter:null},P(this,At,Uk).set(l,c)),!i||!r))return c.url;const u=fe(this,At,zk).call(this,i);i=Wt.makeHexColor(...u);const h=fe(this,At,zk).call(this,r);if(r=Wt.makeHexColor(...h),P(this,At,Sv).style.color="",i==="#000000"&&r==="#ffffff"||i===r)return c.url;const m=new Array(256);for(let S=0;S<=255;S++){const C=S/255;m[S]=C<=.03928?C/12.92:((C+.055)/1.055)**2.4}const g=m.join(","),y=`g_${P(this,Ph)}_hcm_filter`,v=c.filter=fe(this,At,Cv).call(this,y);fe(this,At,Bk).call(this,g,g,g,v),fe(this,At,o6).call(this,v);const _=(S,C)=>{const T=u[S]/255,N=h[S]/255,I=new Array(C+1);for(let O=0;O<=C;O++)I[O]=T+O/C*(N-T);return I.join(",")};return fe(this,At,Bk).call(this,_(0,5),_(1,5),_(2,5),v),c.url=fe(this,At,Av).call(this,y),c.url}addAlphaFilter(i){let r=P(this,At,qs).get(i);if(r)return r;const[o]=fe(this,At,qD).call(this,[i]),l=`alpha_${o}`;if(r=P(this,At,qs).get(l),r)return P(this,At,qs).set(i,r),r;const c=`g_${P(this,Ph)}_alpha_map_${wo(this,Rb)._++}`,u=fe(this,At,Av).call(this,c);P(this,At,qs).set(i,u),P(this,At,qs).set(l,u);const h=fe(this,At,Cv).call(this,c);return fe(this,At,a6).call(this,o,h),u}addLuminosityFilter(i){let r=P(this,At,qs).get(i||"luminosity");if(r)return r;let o,l;if(i?([o]=fe(this,At,qD).call(this,[i]),l=`luminosity_${o}`):l="luminosity",r=P(this,At,qs).get(l),r)return P(this,At,qs).set(i,r),r;const c=`g_${P(this,Ph)}_luminosity_map_${wo(this,Rb)._++}`,u=fe(this,At,Av).call(this,c);P(this,At,qs).set(i,u),P(this,At,qs).set(l,u);const h=fe(this,At,Cv).call(this,c);return fe(this,At,ene).call(this,h),i&&fe(this,At,a6).call(this,o,h),u}addHighlightHCMFilter(i,r,o,l,c){var N;const u=`${r}-${o}-${l}-${c}`;let h=P(this,At,Uk).get(i);if((h==null?void 0:h.key)===u||(h?((N=h.filter)==null||N.remove(),h.key=u,h.url="none",h.filter=null):(h={key:u,url:"none",filter:null},P(this,At,Uk).set(i,h)),!r||!o))return h.url;const[m,g]=[r,o].map(fe(this,At,zk).bind(this));let y=Math.round(.2126*m[0]+.7152*m[1]+.0722*m[2]),v=Math.round(.2126*g[0]+.7152*g[1]+.0722*g[2]),[_,A]=[l,c].map(fe(this,At,zk).bind(this));v<y&&([y,v,_,A]=[v,y,A,_]),P(this,At,Sv).style.color="";const S=(I,O,F)=>{const U=new Array(256),V=(v-y)/F,B=I/255,Z=(O-I)/(255*F);let ae=0;for(let me=0;me<=F;me++){const Q=Math.round(y+me*V),ge=B+me*Z;for(let $=ae;$<=Q;$++)U[$]=ge;ae=Q+1}for(let me=ae;me<256;me++)U[me]=U[ae-1];return U.join(",")},C=`g_${P(this,Ph)}_hcm_${i}_filter`,T=h.filter=fe(this,At,Cv).call(this,C);return fe(this,At,o6).call(this,T),fe(this,At,Bk).call(this,S(_[0],A[0],5),S(_[1],A[1],5),S(_[2],A[2],5),T),h.url=fe(this,At,Av).call(this,C),h.url}destroy(i=!1){var r,o,l,c;i&&((r=P(this,jb))!=null&&r.size)||((o=P(this,Nh))==null||o.parentNode.parentNode.remove(),te(this,Nh,null),(l=P(this,Dw))==null||l.clear(),te(this,Dw,null),(c=P(this,jb))==null||c.clear(),te(this,jb,null),te(this,Rb,0))}}Ib=new WeakMap,Dw=new WeakMap,Nh=new WeakMap,Ph=new WeakMap,Gs=new WeakMap,jb=new WeakMap,Rb=new WeakMap,At=new WeakSet,qs=function(){return P(this,Dw)||te(this,Dw,new Map)},Uk=function(){return P(this,jb)||te(this,jb,new Map)},Sv=function(){if(!P(this,Nh)){const i=P(this,Gs).createElement("div"),{style:r}=i;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const o=P(this,Gs).createElementNS(fh,"svg");o.setAttribute("width",0),o.setAttribute("height",0),te(this,Nh,P(this,Gs).createElementNS(fh,"defs")),i.append(o),o.append(P(this,Nh)),P(this,Gs).body.append(i)}return P(this,Nh)},qD=function(i){if(i.length===1){const m=i[0],g=new Array(256);for(let v=0;v<256;v++)g[v]=m[v]/255;const y=g.join(",");return[y,y,y]}const[r,o,l]=i,c=new Array(256),u=new Array(256),h=new Array(256);for(let m=0;m<256;m++)c[m]=r[m]/255,u[m]=o[m]/255,h[m]=l[m]/255;return[c.join(","),u.join(","),h.join(",")]},Av=function(i){if(P(this,Ib)===void 0){te(this,Ib,"");const r=P(this,Gs).URL;r!==P(this,Gs).baseURI&&(lP(r)?hn('#createUrl: ignore "data:"-URL for performance reasons.'):te(this,Ib,dte(r,"")))}return`url(${P(this,Ib)}#${i})`},ene=function(i){const r=P(this,Gs).createElementNS(fh,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),i.append(r)},o6=function(i){const r=P(this,Gs).createElementNS(fh,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),i.append(r)},Cv=function(i){const r=P(this,Gs).createElementNS(fh,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",i),P(this,At,Sv).append(r),r},Lk=function(i,r,o){const l=P(this,Gs).createElementNS(fh,r);l.setAttribute("type","discrete"),l.setAttribute("tableValues",o),i.append(l)},Bk=function(i,r,o,l){const c=P(this,Gs).createElementNS(fh,"feComponentTransfer");l.append(c),fe(this,At,Lk).call(this,c,"feFuncR",i),fe(this,At,Lk).call(this,c,"feFuncG",r),fe(this,At,Lk).call(this,c,"feFuncB",o)},a6=function(i,r){const o=P(this,Gs).createElementNS(fh,"feComponentTransfer");r.append(o),fe(this,At,Lk).call(this,o,"feFuncA",i)},zk=function(i){return P(this,At,Sv).style.color=i,wU(getComputedStyle(P(this,At,Sv)).getPropertyValue("color"))};class tne{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const i=`${this.baseUrl}${e}`;return this._fetch(i).catch(r=>{throw new Error(`Unable to load font data at: ${i}`)})}async _fetch(e){ri("Abstract method `_fetch` called.")}}class dH extends tne{async _fetch(e){const i=await rA(e,"arraybuffer");return new Uint8Array(i)}}class nne{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const i=`${this.baseUrl}${e}`;return this._fetch(i).catch(r=>{throw new Error(`Unable to load wasm data at: ${i}`)})}async _fetch(e){ri("Abstract method `_fetch` called.")}}class hH extends nne{async _fetch(e){const i=await rA(e,"arraybuffer");return new Uint8Array(i)}}Ao&&hn("Please use the `legacy` build in Node.js environments.");async function kU(n){const i=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(i)}class AAe extends Qte{}class CAe extends Yte{_createCanvas(e,i){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,i)}}class TAe extends Jte{async _fetch(e){return kU(e)}}class DAe extends tne{async _fetch(e){return kU(e)}}class NAe extends nne{async _fetch(e){return kU(e)}}const _s={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function l6(n,e){if(!e)return;const i=e[2]-e[0],r=e[3]-e[1],o=new Path2D;o.rect(e[0],e[1],i,r),n.clip(o)}class EU{isModifyingCurrentTransform(){return!1}getPattern(){ri("Abstract method `getPattern` called.")}}class PAe extends EU{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let i;this._type==="axial"?i=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(i=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)i.addColorStop(r[0],r[1]);return i}getPattern(e,i,r,o){let l;if(o===_s.STROKE||o===_s.FILL){const c=i.current.getClippedPathBoundingBox(o,Ui(e))||[0,0,0,0],u=Math.ceil(c[2]-c[0])||1,h=Math.ceil(c[3]-c[1])||1,m=i.cachedCanvases.getCanvas("pattern",u,h),g=m.context;g.clearRect(0,0,g.canvas.width,g.canvas.height),g.beginPath(),g.rect(0,0,g.canvas.width,g.canvas.height),g.translate(-c[0],-c[1]),r=Wt.transform(r,[1,0,0,1,c[0],c[1]]),g.transform(...i.baseTransform),this.matrix&&g.transform(...this.matrix),l6(g,this._bbox),g.fillStyle=this._createGradient(g),g.fill(),l=e.createPattern(m.canvas,"no-repeat");const y=new DOMMatrix(r);l.setTransform(y)}else l6(e,this._bbox),l=this._createGradient(e);return l}}function H4(n,e,i,r,o,l,c,u){const h=e.coords,m=e.colors,g=n.data,y=n.width*4;let v;h[i+1]>h[r+1]&&(v=i,i=r,r=v,v=l,l=c,c=v),h[r+1]>h[o+1]&&(v=r,r=o,o=v,v=c,c=u,u=v),h[i+1]>h[r+1]&&(v=i,i=r,r=v,v=l,l=c,c=v);const _=(h[i]+e.offsetX)*e.scaleX,A=(h[i+1]+e.offsetY)*e.scaleY,S=(h[r]+e.offsetX)*e.scaleX,C=(h[r+1]+e.offsetY)*e.scaleY,T=(h[o]+e.offsetX)*e.scaleX,N=(h[o+1]+e.offsetY)*e.scaleY;if(A>=N)return;const I=m[l],O=m[l+1],F=m[l+2],U=m[c],V=m[c+1],B=m[c+2],Z=m[u],ae=m[u+1],me=m[u+2],Q=Math.round(A),ge=Math.round(N);let $,Te,re,ie,G,K,ne,J;for(let ue=Q;ue<=ge;ue++){if(ue<C){const Re=ue<A?0:(A-ue)/(A-C);$=_-(_-S)*Re,Te=I-(I-U)*Re,re=O-(O-V)*Re,ie=F-(F-B)*Re}else{let Re;ue>N?Re=1:C===N?Re=0:Re=(C-ue)/(C-N),$=S-(S-T)*Re,Te=U-(U-Z)*Re,re=V-(V-ae)*Re,ie=B-(B-me)*Re}let ee;ue<A?ee=0:ue>N?ee=1:ee=(A-ue)/(A-N),G=_-(_-T)*ee,K=I-(I-Z)*ee,ne=O-(O-ae)*ee,J=F-(F-me)*ee;const xe=Math.round(Math.min($,G)),Se=Math.round(Math.max($,G));let Me=y*ue+xe*4;for(let Re=xe;Re<=Se;Re++)ee=($-Re)/($-G),ee<0?ee=0:ee>1&&(ee=1),g[Me++]=Te-(Te-K)*ee|0,g[Me++]=re-(re-ne)*ee|0,g[Me++]=ie-(ie-J)*ee|0,g[Me++]=255}}function IAe(n,e,i){const r=e.coords,o=e.colors;let l,c;switch(e.type){case"lattice":const u=e.verticesPerRow,h=Math.floor(r.length/u)-1,m=u-1;for(l=0;l<h;l++){let g=l*u;for(let y=0;y<m;y++,g++)H4(n,i,r[g],r[g+1],r[g+u],o[g],o[g+1],o[g+u]),H4(n,i,r[g+u+1],r[g+1],r[g+u],o[g+u+1],o[g+1],o[g+u])}break;case"triangles":for(l=0,c=r.length;l<c;l+=3)H4(n,i,r[l],r[l+1],r[l+2],o[l],o[l+1],o[l+2]);break;default:throw new Error("illegal figure")}}class jAe extends EU{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,i,r){const u=Math.floor(this._bounds[0]),h=Math.floor(this._bounds[1]),m=Math.ceil(this._bounds[2])-u,g=Math.ceil(this._bounds[3])-h,y=Math.min(Math.ceil(Math.abs(m*e[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(g*e[1]*1.1)),3e3),_=m/y,A=g/v,S={coords:this._coords,colors:this._colors,offsetX:-u,offsetY:-h,scaleX:1/_,scaleY:1/A},C=y+2*2,T=v+2*2,N=r.getCanvas("mesh",C,T),I=N.context,O=I.createImageData(y,v);if(i){const U=O.data;for(let V=0,B=U.length;V<B;V+=4)U[V]=i[0],U[V+1]=i[1],U[V+2]=i[2],U[V+3]=255}for(const U of this._figures)IAe(O,U,S);return I.putImageData(O,2,2),{canvas:N.canvas,offsetX:u-2*_,offsetY:h-2*A,scaleX:_,scaleY:A}}isModifyingCurrentTransform(){return!0}getPattern(e,i,r,o){l6(e,this._bbox);const l=new Float32Array(2);if(o===_s.SHADING)Wt.singularValueDecompose2dScale(Ui(e),l);else if(this.matrix){Wt.singularValueDecompose2dScale(this.matrix,l);const[u,h]=l;Wt.singularValueDecompose2dScale(i.baseTransform,l),l[0]*=u,l[1]*=h}else Wt.singularValueDecompose2dScale(i.baseTransform,l);const c=this._createMeshCanvas(l,o===_s.SHADING?null:this._background,i.cachedCanvases);return o!==_s.SHADING&&(e.setTransform(...i.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(c.offsetX,c.offsetY),e.scale(c.scaleX,c.scaleY),e.createPattern(c.canvas,"no-repeat")}}class RAe extends EU{getPattern(){return"hotpink"}}function MAe(n){switch(n[0]){case"RadialAxial":return new PAe(n);case"Mesh":return new jAe(n);case"Dummy":return new RAe}throw new Error(`Unknown IR type: ${n[0]}`)}const fH={COLORED:1,UNCOLORED:2},kN=class kN{constructor(e,i,r,o){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=i,this.canvasGraphicsFactory=r,this.baseTransform=o}createPatternCanvas(e){const{bbox:i,operatorList:r,paintType:o,tilingType:l,color:c,canvasGraphicsFactory:u}=this;let{xstep:h,ystep:m}=this;h=Math.abs(h),m=Math.abs(m),aP("TilingType: "+l);const g=i[0],y=i[1],v=i[2],_=i[3],A=v-g,S=_-y,C=new Float32Array(2);Wt.singularValueDecompose2dScale(this.matrix,C);const[T,N]=C;Wt.singularValueDecompose2dScale(this.baseTransform,C);const I=T*C[0],O=N*C[1];let F=A,U=S,V=!1,B=!1;const Z=Math.ceil(h*I),ae=Math.ceil(m*O),me=Math.ceil(A*I),Q=Math.ceil(S*O);Z>=me?F=h:V=!0,ae>=Q?U=m:B=!0;const ge=this.getSizeAndScale(F,this.ctx.canvas.width,I),$=this.getSizeAndScale(U,this.ctx.canvas.height,O),Te=e.cachedCanvases.getCanvas("pattern",ge.size,$.size),re=Te.context,ie=u.createCanvasGraphics(re);if(ie.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(ie,o,c),re.translate(-ge.scale*g,-$.scale*y),ie.transform(ge.scale,0,0,$.scale,0,0),re.save(),this.clipBbox(ie,g,y,v,_),ie.baseTransform=Ui(ie.ctx),ie.executeOperatorList(r),ie.endDrawing(),re.restore(),V||B){const G=Te.canvas;V&&(F=h),B&&(U=m);const K=this.getSizeAndScale(F,this.ctx.canvas.width,I),ne=this.getSizeAndScale(U,this.ctx.canvas.height,O),J=K.size,ue=ne.size,ee=e.cachedCanvases.getCanvas("pattern-workaround",J,ue),xe=ee.context,Se=V?Math.floor(A/h):0,Me=B?Math.floor(S/m):0;for(let Re=0;Re<=Se;Re++)for(let Fe=0;Fe<=Me;Fe++)xe.drawImage(G,J*Re,ue*Fe,J,ue,0,0,J,ue);return{canvas:ee.canvas,scaleX:K.scale,scaleY:ne.scale,offsetX:g,offsetY:y}}return{canvas:Te.canvas,scaleX:ge.scale,scaleY:$.scale,offsetX:g,offsetY:y}}getSizeAndScale(e,i,r){const o=Math.max(kN.MAX_PATTERN_SIZE,i);let l=Math.ceil(e*r);return l>=o?l=o:r=l/e,{scale:r,size:l}}clipBbox(e,i,r,o,l){const c=o-i,u=l-r;e.ctx.rect(i,r,c,u),Wt.axialAlignedBoundingBox([i,r,o,l],Ui(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,i,r){const o=e.ctx,l=e.current;switch(i){case fH.COLORED:const c=this.ctx;o.fillStyle=c.fillStyle,o.strokeStyle=c.strokeStyle,l.fillColor=c.fillStyle,l.strokeColor=c.strokeStyle;break;case fH.UNCOLORED:const u=Wt.makeHexColor(r[0],r[1],r[2]);o.fillStyle=u,o.strokeStyle=u,l.fillColor=u,l.strokeColor=u;break;default:throw new oAe(`Unsupported paint type: ${i}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,i,r,o){let l=r;o!==_s.SHADING&&(l=Wt.transform(l,i.baseTransform),this.matrix&&(l=Wt.transform(l,this.matrix)));const c=this.createPatternCanvas(i);let u=new DOMMatrix(l);u=u.translate(c.offsetX,c.offsetY),u=u.scale(1/c.scaleX,1/c.scaleY);const h=e.createPattern(c.canvas,"repeat");return h.setTransform(u),h}};mt(kN,"MAX_PATTERN_SIZE",3e3);let c6=kN;function OAe({src:n,srcPos:e=0,dest:i,width:r,height:o,nonBlackColor:l=4294967295,inverseDecode:c=!1}){const u=As.isLittleEndian?4278190080:255,[h,m]=c?[l,u]:[u,l],g=r>>3,y=r&7,v=n.length;i=new Uint32Array(i.buffer);let _=0;for(let A=0;A<o;A++){for(const C=e+g;e<C;e++){const T=e<v?n[e]:255;i[_++]=T&128?m:h,i[_++]=T&64?m:h,i[_++]=T&32?m:h,i[_++]=T&16?m:h,i[_++]=T&8?m:h,i[_++]=T&4?m:h,i[_++]=T&2?m:h,i[_++]=T&1?m:h}if(y===0)continue;const S=e<v?n[e++]:255;for(let C=0;C<y;C++)i[_++]=S&1<<7-C?m:h}return{srcPos:e,destPos:_}}const pH=16,mH=100,FAe=15,gH=10,Qo=16,G4=new DOMMatrix,Za=new Float32Array(2),Yv=new Float32Array([1/0,1/0,-1/0,-1/0]);function UAe(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(i,r){e.translate(i,r),this.__originalTranslate(i,r)},n.scale=function(i,r){e.scale(i,r),this.__originalScale(i,r)},n.transform=function(i,r,o,l,c,u){e.transform(i,r,o,l,c,u),this.__originalTransform(i,r,o,l,c,u)},n.setTransform=function(i,r,o,l,c,u){e.setTransform(i,r,o,l,c,u),this.__originalSetTransform(i,r,o,l,c,u)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(i){e.rotate(i),this.__originalRotate(i)},n.clip=function(i){e.clip(i),this.__originalClip(i)},n.moveTo=function(i,r){e.moveTo(i,r),this.__originalMoveTo(i,r)},n.lineTo=function(i,r){e.lineTo(i,r),this.__originalLineTo(i,r)},n.bezierCurveTo=function(i,r,o,l,c,u){e.bezierCurveTo(i,r,o,l,c,u),this.__originalBezierCurveTo(i,r,o,l,c,u)},n.rect=function(i,r,o,l){e.rect(i,r,o,l),this.__originalRect(i,r,o,l)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class LAe{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,i,r){let o;return this.cache[e]!==void 0?(o=this.cache[e],this.canvasFactory.reset(o,i,r)):(o=this.canvasFactory.create(i,r),this.cache[e]=o),o}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const i=this.cache[e];this.canvasFactory.destroy(i),delete this.cache[e]}}}function cD(n,e,i,r,o,l,c,u,h,m){const[g,y,v,_,A,S]=Ui(n);if(y===0&&v===0){const N=c*g+A,I=Math.round(N),O=u*_+S,F=Math.round(O),U=(c+h)*g+A,V=Math.abs(Math.round(U)-I)||1,B=(u+m)*_+S,Z=Math.abs(Math.round(B)-F)||1;return n.setTransform(Math.sign(g),0,0,Math.sign(_),I,F),n.drawImage(e,i,r,o,l,0,0,V,Z),n.setTransform(g,y,v,_,A,S),[V,Z]}if(g===0&&_===0){const N=u*v+A,I=Math.round(N),O=c*y+S,F=Math.round(O),U=(u+m)*v+A,V=Math.abs(Math.round(U)-I)||1,B=(c+h)*y+S,Z=Math.abs(Math.round(B)-F)||1;return n.setTransform(0,Math.sign(y),Math.sign(v),0,I,F),n.drawImage(e,i,r,o,l,0,0,Z,V),n.setTransform(g,y,v,_,A,S),[Z,V]}n.drawImage(e,i,r,o,l,c,u,h,m);const C=Math.hypot(g,y),T=Math.hypot(v,_);return[C*h,T*m]}class bH{constructor(e,i){mt(this,"alphaIsShape",!1);mt(this,"fontSize",0);mt(this,"fontSizeScale",1);mt(this,"textMatrix",null);mt(this,"textMatrixScale",1);mt(this,"fontMatrix",LM);mt(this,"leading",0);mt(this,"x",0);mt(this,"y",0);mt(this,"lineX",0);mt(this,"lineY",0);mt(this,"charSpacing",0);mt(this,"wordSpacing",0);mt(this,"textHScale",1);mt(this,"textRenderingMode",$s.FILL);mt(this,"textRise",0);mt(this,"fillColor","#000000");mt(this,"strokeColor","#000000");mt(this,"patternFill",!1);mt(this,"patternStroke",!1);mt(this,"fillAlpha",1);mt(this,"strokeAlpha",1);mt(this,"lineWidth",1);mt(this,"activeSMask",null);mt(this,"transferMaps","none");this.clipBox=new Float32Array([0,0,e,i]),this.minMax=Yv.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=_s.FILL,i=null){const r=this.minMax.slice();if(e===_s.STROKE){i||ri("Stroke bounding box must include transform."),Wt.singularValueDecompose2dScale(i,Za);const o=Za[0]*this.lineWidth/2,l=Za[1]*this.lineWidth/2;r[0]-=o,r[1]-=l,r[2]+=o,r[3]+=l}return r}updateClipFromPath(){const e=Wt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Yv,0)}getClippedPathBoundingBox(e=_s.FILL,i=null){return Wt.intersect(this.clipBox,this.getPathBoundingBox(e,i))}}function yH(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const i=e.height,r=e.width,o=i%Qo,l=(i-o)/Qo,c=o===0?l:l+1,u=n.createImageData(r,Qo);let h=0,m;const g=e.data,y=u.data;let v,_,A,S;if(e.kind===MD.GRAYSCALE_1BPP){const C=g.byteLength,T=new Uint32Array(y.buffer,0,y.byteLength>>2),N=T.length,I=r+7>>3,O=4294967295,F=As.isLittleEndian?4278190080:255;for(v=0;v<c;v++){for(A=v<l?Qo:o,m=0,_=0;_<A;_++){const U=C-h;let V=0;const B=U>I?r:U*8-7,Z=B&-8;let ae=0,me=0;for(;V<Z;V+=8)me=g[h++],T[m++]=me&128?O:F,T[m++]=me&64?O:F,T[m++]=me&32?O:F,T[m++]=me&16?O:F,T[m++]=me&8?O:F,T[m++]=me&4?O:F,T[m++]=me&2?O:F,T[m++]=me&1?O:F;for(;V<B;V++)ae===0&&(me=g[h++],ae=128),T[m++]=me&ae?O:F,ae>>=1}for(;m<N;)T[m++]=0;n.putImageData(u,0,v*Qo)}}else if(e.kind===MD.RGBA_32BPP){for(_=0,S=r*Qo*4,v=0;v<l;v++)y.set(g.subarray(h,h+S)),h+=S,n.putImageData(u,0,_),_+=Qo;v<c&&(S=r*o*4,y.set(g.subarray(h,h+S)),n.putImageData(u,0,_))}else if(e.kind===MD.RGB_24BPP)for(A=Qo,S=r*A,v=0;v<c;v++){for(v>=l&&(A=o,S=r*A),m=0,_=S;_--;)y[m++]=g[h++],y[m++]=g[h++],y[m++]=g[h++],y[m++]=255;n.putImageData(u,0,v*Qo)}else throw new Error(`bad image kind: ${e.kind}`)}function vH(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const i=e.height,r=e.width,o=i%Qo,l=(i-o)/Qo,c=o===0?l:l+1,u=n.createImageData(r,Qo);let h=0;const m=e.data,g=u.data;for(let y=0;y<c;y++){const v=y<l?Qo:o;({srcPos:h}=OAe({src:m,srcPos:h,dest:g,width:r,height:v,nonBlackColor:0})),n.putImageData(u,0,y*Qo)}}function _k(n,e){const i=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of i)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function uD(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function wH(n,e){if(e)return!0;Wt.singularValueDecompose2dScale(n,Za);const i=Math.fround(pf.pixelRatio*Om.PDF_TO_CSS_UNITS);return Za[0]<=i&&Za[1]<=i}const BAe=["butt","round","square"],zAe=["miter","round","bevel"],VAe={},xH={};var tu,u6,d6,h6;const NU=class NU{constructor(e,i,r,o,l,{optionalContentConfig:c,markedContentStack:u=null},h,m){he(this,tu);this.ctx=e,this.current=new bH(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=i,this.objs=r,this.canvasFactory=o,this.filterFactory=l,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=c,this.cachedCanvases=new LAe(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=m,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,i=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):i}beginDrawing({transform:e,viewport:i,transparency:r=!1,background:o=null}){const l=this.ctx.canvas.width,c=this.ctx.canvas.height,u=this.ctx.fillStyle;if(this.ctx.fillStyle=o||"#ffffff",this.ctx.fillRect(0,0,l,c),this.ctx.fillStyle=u,r){const h=this.cachedCanvases.getCanvas("transparent",l,c);this.compositeCtx=this.ctx,this.transparentCanvas=h.canvas,this.ctx=h.context,this.ctx.save(),this.ctx.transform(...Ui(this.compositeCtx))}this.ctx.save(),uD(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...i.transform),this.viewportScale=i.scale,this.baseTransform=Ui(this.ctx)}executeOperatorList(e,i,r,o){const l=e.argsArray,c=e.fnArray;let u=i||0;const h=l.length;if(h===u)return u;const m=h-u>gH&&typeof r=="function",g=m?Date.now()+FAe:0;let y=0;const v=this.commonObjs,_=this.objs;let A;for(;;){if(o!==void 0&&u===o.nextBreakPoint)return o.breakIt(u,r),u;if(A=c[u],A!==aN.dependency)this[A].apply(this,l[u]);else for(const S of l[u]){const C=S.startsWith("g_")?v:_;if(!C.has(S))return C.get(S,r),u}if(u++,u===h)return u;if(m&&++y>gH){if(Date.now()>g)return r(),u;y=0}}}endDrawing(){fe(this,tu,u6).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const i of e.values())typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement&&(i.width=i.height=0);e.clear()}this._cachedBitmapsMap.clear(),fe(this,tu,d6).call(this)}_scaleImage(e,i){const r=e.width??e.displayWidth,o=e.height??e.displayHeight;let l=Math.max(Math.hypot(i[0],i[1]),1),c=Math.max(Math.hypot(i[2],i[3]),1),u=r,h=o,m="prescale1",g,y;for(;l>2&&u>1||c>2&&h>1;){let v=u,_=h;l>2&&u>1&&(v=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),l/=u/v),c>2&&h>1&&(_=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,c/=h/_),g=this.cachedCanvases.getCanvas(m,v,_),y=g.context,y.clearRect(0,0,v,_),y.drawImage(e,0,0,u,h,0,0,v,_),e=g.canvas,u=v,h=_,m=m==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:u,paintHeight:h}}_createMaskCanvas(e){const i=this.ctx,{width:r,height:o}=e,l=this.current.fillColor,c=this.current.patternFill,u=Ui(i);let h,m,g,y;if((e.bitmap||e.data)&&e.count>1){const Z=e.bitmap||e.data.buffer;m=JSON.stringify(c?u:[u.slice(0,4),l]),h=this._cachedBitmapsMap.get(Z),h||(h=new Map,this._cachedBitmapsMap.set(Z,h));const ae=h.get(m);if(ae&&!c){const me=Math.round(Math.min(u[0],u[2])+u[4]),Q=Math.round(Math.min(u[1],u[3])+u[5]);return{canvas:ae,offsetX:me,offsetY:Q}}g=ae}g||(y=this.cachedCanvases.getCanvas("maskCanvas",r,o),vH(y.context,e));let v=Wt.transform(u,[1/r,0,0,-1/o,0,0]);v=Wt.transform(v,[1,0,0,1,0,-o]);const _=Yv.slice();Wt.axialAlignedBoundingBox([0,0,r,o],v,_);const[A,S,C,T]=_,N=Math.round(C-A)||1,I=Math.round(T-S)||1,O=this.cachedCanvases.getCanvas("fillCanvas",N,I),F=O.context,U=A,V=S;F.translate(-U,-V),F.transform(...v),g||(g=this._scaleImage(y.canvas,Wu(F)),g=g.img,h&&c&&h.set(m,g)),F.imageSmoothingEnabled=wH(Ui(F),e.interpolate),cD(F,g,0,0,g.width,g.height,0,0,r,o),F.globalCompositeOperation="source-in";const B=Wt.transform(Wu(F),[1,0,0,1,-U,-V]);return F.fillStyle=c?l.getPattern(i,this,B,_s.FILL):l,F.fillRect(0,0,r,o),h&&!c&&(this.cachedCanvases.delete("fillCanvas"),h.set(m,O.canvas)),{canvas:O.canvas,offsetX:Math.round(U),offsetY:Math.round(V)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=BAe[e]}setLineJoin(e){this.ctx.lineJoin=zAe[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,i){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=i)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[i,r]of e)switch(i){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,i=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,o=this.cachedCanvases.getCanvas(r,e,i);this.suspendedCtx=this.ctx;const l=this.ctx=o.context;l.setTransform(this.suspendedCtx.getTransform()),_k(this.suspendedCtx,l),UAe(l,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),_k(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const i=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,i,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,i,r,o){const l=o[0],c=o[1],u=o[2]-l,h=o[3]-c;u===0||h===0||(this.genericComposeSMask(i.context,r,u,h,i.subtype,i.backdrop,i.transferMap,l,c,i.offsetX,i.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,i,r,o,l,c,u,h,m,g,y){let v=e.canvas,_=h-g,A=m-y;if(c){const C=Wt.makeHexColor(...c);if(_<0||A<0||_+r>v.width||A+o>v.height){const T=this.cachedCanvases.getCanvas("maskExtension",r,o),N=T.context;N.drawImage(v,-_,-A),N.globalCompositeOperation="destination-atop",N.fillStyle=C,N.fillRect(0,0,r,o),N.globalCompositeOperation="source-over",v=T.canvas,_=A=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const T=new Path2D;T.rect(_,A,r,o),e.clip(T),e.globalCompositeOperation="destination-atop",e.fillStyle=C,e.fillRect(_,A,r,o),e.restore()}}i.save(),i.globalAlpha=1,i.setTransform(1,0,0,1,0,0),l==="Alpha"&&u?i.filter=this.filterFactory.addAlphaFilter(u):l==="Luminosity"&&(i.filter=this.filterFactory.addLuminosityFilter(u));const S=new Path2D;S.rect(h,m,r,o),i.clip(S),i.globalCompositeOperation="destination-in",i.drawImage(v,_,A,r,o,h,m,r,o),i.restore()}save(){this.inSMaskMode&&_k(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&_k(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,i,r,o,l,c){this.ctx.transform(e,i,r,o,l,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,i,r){let[o]=i;if(!r){o||(o=i[0]=new Path2D),this[e](o);return}if(!(o instanceof Path2D)){const l=i[0]=new Path2D;for(let c=0,u=o.length;c<u;)switch(o[c++]){case aD.moveTo:l.moveTo(o[c++],o[c++]);break;case aD.lineTo:l.lineTo(o[c++],o[c++]);break;case aD.curveTo:l.bezierCurveTo(o[c++],o[c++],o[c++],o[c++],o[c++],o[c++]);break;case aD.closePath:l.closePath();break;default:hn(`Unrecognized drawing path operator: ${o[c-1]}`);break}o=l}Wt.axialAlignedBoundingBox(r,Ui(this.ctx),this.current.minMax),this[e](o)}closePath(){this.ctx.closePath()}stroke(e,i=!0){const r=this.ctx,o=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof o=="object"&&(o!=null&&o.getPattern)){const l=o.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=o.getPattern(r,this,Wu(r),_s.STROKE),l){const c=new Path2D;c.addPath(e,r.getTransform().invertSelf().multiplySelf(l)),e=c}this.rescaleAndStroke(e,!1),r.restore()}else this.rescaleAndStroke(e,!0);i&&this.consumePath(e,this.current.getClippedPathBoundingBox(_s.STROKE,Ui(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(e){this.stroke(e)}fill(e,i=!0){const r=this.ctx,o=this.current.fillColor,l=this.current.patternFill;let c=!1;if(l){const h=o.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.fillStyle=o.getPattern(r,this,Wu(r),_s.FILL),h){const m=new Path2D;m.addPath(e,r.getTransform().invertSelf().multiplySelf(h)),e=m}c=!0}const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(r.fill(e,"evenodd"),this.pendingEOFill=!1):r.fill(e)),c&&r.restore(),i&&this.consumePath(e,u)}eoFill(e){this.pendingEOFill=!0,this.fill(e)}fillStroke(e){this.fill(e,!1),this.stroke(e,!1),this.consumePath(e)}eoFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}closeFillStroke(e){this.fillStroke(e)}closeEOFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}endPath(e){this.consumePath(e)}rawFillPath(e){this.ctx.fill(e)}clip(){this.pendingClip=VAe}eoClip(){this.pendingClip=xH}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,i=this.ctx;if(e===void 0)return;const r=new Path2D,o=i.getTransform().invertSelf();for(const{transform:l,x:c,y:u,fontSize:h,path:m}of e)r.addPath(m,new DOMMatrix(l).preMultiplySelf(o).translate(c,u).scale(h,-h));i.clip(r),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,i){var g;const r=this.commonObjs.get(e),o=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(o.fontMatrix=r.fontMatrix||LM,(o.fontMatrix[0]===0||o.fontMatrix[3]===0)&&hn("Invalid font matrix for font "+e),i<0?(i=-i,o.fontDirection=-1):o.fontDirection=1,this.current.font=r,this.current.fontSize=i,r.isType3Font)return;const l=r.loadedName||"sans-serif",c=((g=r.systemFontInfo)==null?void 0:g.css)||`"${l}", ${r.fallbackName}`;let u="normal";r.black?u="900":r.bold&&(u="bold");const h=r.italic?"italic":"normal";let m=i;i<pH?m=pH:i>mH&&(m=mH),this.current.fontSizeScale=i/m,this.ctx.font=`${h} ${u} ${m}px ${c}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,i){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=i}setLeadingMoveText(e,i){this.setLeading(-i),this.moveText(e,i)}setTextMatrix(e){const{current:i}=this;i.textMatrix=e,i.textMatrixScale=Math.hypot(e[0],e[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,i,r,o,l){const c=this.ctx,u=this.current,h=u.font,m=u.textRenderingMode,g=u.fontSize/u.fontSizeScale,y=m&$s.FILL_STROKE_MASK,v=!!(m&$s.ADD_TO_PATH_FLAG),_=u.patternFill&&!h.missingFile,A=u.patternStroke&&!h.missingFile;let S;if((h.disableFontFace||v||_||A)&&(S=h.getPathGenerator(this.commonObjs,e)),h.disableFontFace||_||A){c.save(),c.translate(i,r),c.scale(g,-g);let C;if((y===$s.FILL||y===$s.FILL_STROKE)&&(o?(C=c.getTransform(),c.setTransform(...o),c.fill(fe(this,tu,h6).call(this,S,C,o))):c.fill(S)),y===$s.STROKE||y===$s.FILL_STROKE)if(l){C||(C=c.getTransform()),c.setTransform(...l);const{a:T,b:N,c:I,d:O}=C,F=Wt.inverseTransform(l),U=Wt.transform([T,N,I,O,0,0],F);Wt.singularValueDecompose2dScale(U,Za),c.lineWidth*=Math.max(Za[0],Za[1])/g,c.stroke(fe(this,tu,h6).call(this,S,C,l))}else c.lineWidth/=g,c.stroke(S);c.restore()}else(y===$s.FILL||y===$s.FILL_STROKE)&&c.fillText(e,i,r),(y===$s.STROKE||y===$s.FILL_STROKE)&&c.strokeText(e,i,r);v&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Ui(c),x:i,y:r,fontSize:g,path:S})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const i=e.getImageData(0,0,10,10).data;let r=!1;for(let o=3;o<i.length;o+=4)if(i[o]>0&&i[o]<255){r=!0;break}return yn(this,"isFontSubpixelAAEnabled",r)}showText(e){const i=this.current,r=i.font;if(r.isType3Font)return this.showType3Text(e);const o=i.fontSize;if(o===0)return;const l=this.ctx,c=i.fontSizeScale,u=i.charSpacing,h=i.wordSpacing,m=i.fontDirection,g=i.textHScale*m,y=e.length,v=r.vertical,_=v?1:-1,A=r.defaultVMetrics,S=o*i.fontMatrix[0],C=i.textRenderingMode===$s.FILL&&!r.disableFontFace&&!i.patternFill;l.save(),i.textMatrix&&l.transform(...i.textMatrix),l.translate(i.x,i.y+i.textRise),m>0?l.scale(g,-1):l.scale(g,1);let T,N;if(i.patternFill){l.save();const V=i.fillColor.getPattern(l,this,Wu(l),_s.FILL);T=Ui(l),l.restore(),l.fillStyle=V}if(i.patternStroke){l.save();const V=i.strokeColor.getPattern(l,this,Wu(l),_s.STROKE);N=Ui(l),l.restore(),l.strokeStyle=V}let I=i.lineWidth;const O=i.textMatrixScale;if(O===0||I===0){const V=i.textRenderingMode&$s.FILL_STROKE_MASK;(V===$s.STROKE||V===$s.FILL_STROKE)&&(I=this.getSinglePixelWidth())}else I/=O;if(c!==1&&(l.scale(c,c),I/=c),l.lineWidth=I,r.isInvalidPDFjsFont){const V=[];let B=0;for(const Z of e)V.push(Z.unicode),B+=Z.width;l.fillText(V.join(""),0,0),i.x+=B*S*g,l.restore(),this.compose();return}let F=0,U;for(U=0;U<y;++U){const V=e[U];if(typeof V=="number"){F+=_*V*o/1e3;continue}let B=!1;const Z=(V.isSpace?h:0)+u,ae=V.fontChar,me=V.accent;let Q,ge,$=V.width;if(v){const re=V.vmetric||A,ie=-(V.vmetric?re[1]:$*.5)*S,G=re[2]*S;$=re?-re[0]:$,Q=ie/c,ge=(F+G)/c}else Q=F/c,ge=0;if(r.remeasure&&$>0){const re=l.measureText(ae).width*1e3/o*c;if($<re&&this.isFontSubpixelAAEnabled){const ie=$/re;B=!0,l.save(),l.scale(ie,1),Q/=ie}else $!==re&&(Q+=($-re)/2e3*o/c)}if(this.contentVisible&&(V.isInFont||r.missingFile)){if(C&&!me)l.fillText(ae,Q,ge);else if(this.paintChar(ae,Q,ge,T,N),me){const re=Q+o*me.offset.x/c,ie=ge-o*me.offset.y/c;this.paintChar(me.fontChar,re,ie,T,N)}}const Te=v?$*S-Z*m:$*S+Z*m;F+=Te,B&&l.restore()}v?i.y-=F:i.x+=F*g,l.restore(),this.compose()}showType3Text(e){const i=this.ctx,r=this.current,o=r.font,l=r.fontSize,c=r.fontDirection,u=o.vertical?1:-1,h=r.charSpacing,m=r.wordSpacing,g=r.textHScale*c,y=r.fontMatrix||LM,v=e.length,_=r.textRenderingMode===$s.INVISIBLE;let A,S,C,T;if(!(_||l===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),r.textMatrix&&i.transform(...r.textMatrix),i.translate(r.x,r.y+r.textRise),i.scale(g,c),A=0;A<v;++A){if(S=e[A],typeof S=="number"){T=u*S*l/1e3,this.ctx.translate(T,0),r.x+=T*g;continue}const N=(S.isSpace?m:0)+h,I=o.charProcOperatorList[S.operatorListId];I?this.contentVisible&&(this.save(),i.scale(l,l),i.transform(...y),this.executeOperatorList(I),this.restore()):hn(`Type3 character "${S.operatorListId}" is not available.`);const O=[S.width,0];Wt.applyTransform(O,y),C=O[0]*l+N,i.translate(C,0),r.x+=C*g}i.restore()}}setCharWidth(e,i){}setCharWidthAndBounds(e,i,r,o,l,c){const u=new Path2D;u.rect(r,o,l-r,c-o),this.ctx.clip(u),this.endPath()}getColorN_Pattern(e){let i;if(e[0]==="TilingPattern"){const r=this.baseTransform||Ui(this.ctx),o={createCanvasGraphics:l=>new NU(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};i=new c6(e,this.ctx,o,r)}else i=this._getPattern(e[1],e[2]);return i}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,i,r){this.ctx.strokeStyle=this.current.strokeColor=Wt.makeHexColor(e,i,r),this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,i,r){this.ctx.fillStyle=this.current.fillColor=Wt.makeHexColor(e,i,r),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,i=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=MAe(this.getObject(e)),this.cachedPatterns.set(e,r)),i&&(r.matrix=i),r}shadingFill(e){if(!this.contentVisible)return;const i=this.ctx;this.save();const r=this._getPattern(e);i.fillStyle=r.getPattern(i,this,Wu(i),_s.SHADING);const o=Wu(i);if(o){const{width:l,height:c}=i.canvas,u=Yv.slice();Wt.axialAlignedBoundingBox([0,0,l,c],o,u);const[h,m,g,y]=u;this.ctx.fillRect(h,m,g-h,y-m)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){ri("Should not call beginInlineImage")}beginImageData(){ri("Should not call beginImageData")}paintFormXObjectBegin(e,i){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Ui(this.ctx),i)){Wt.axialAlignedBoundingBox(i,this.baseTransform,this.current.minMax);const[r,o,l,c]=i,u=new Path2D;u.rect(r,o,l-r,c-o),this.ctx.clip(u),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;e.isolated||aP("TODO: Support non-isolated groups."),e.knockout&&hn("Knockout groups not supported.");const r=Ui(i);if(e.matrix&&i.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let o=Yv.slice();Wt.axialAlignedBoundingBox(e.bbox,Ui(i),o);const l=[0,0,i.canvas.width,i.canvas.height];o=Wt.intersect(o,l)||[0,0,0,0];const c=Math.floor(o[0]),u=Math.floor(o[1]),h=Math.max(Math.ceil(o[2])-c,1),m=Math.max(Math.ceil(o[3])-u,1);this.current.startNewPathAndClipBox([0,0,h,m]);let g="groupAt"+this.groupLevel;e.smask&&(g+="_smask_"+this.smaskCounter++%2);const y=this.cachedCanvases.getCanvas(g,h,m),v=y.context;v.translate(-c,-u),v.transform(...r);let _=new Path2D;const[A,S,C,T]=e.bbox;if(_.rect(A,S,C-A,T-S),e.matrix){const N=new Path2D;N.addPath(_,new DOMMatrix(e.matrix)),_=N}v.clip(_),e.smask?this.smaskStack.push({canvas:y.canvas,context:v,offsetX:c,offsetY:u,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(i.setTransform(1,0,0,1,0,0),i.translate(c,u),i.save()),_k(i,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const o=Ui(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...o);const l=Yv.slice();Wt.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],o,l),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(e,i,r,o,l){if(fe(this,tu,u6).call(this),uD(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const c=i[2]-i[0],u=i[3]-i[1];if(l&&this.annotationCanvasMap){r=r.slice(),r[4]-=i[0],r[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=c,i[3]=u,Wt.singularValueDecompose2dScale(Ui(this.ctx),Za);const{viewportScale:h}=this,m=Math.ceil(c*this.outputScaleX*h),g=Math.ceil(u*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(m,g);const{canvas:y,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(e,y),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(Za[0],0,0,-Za[1],0,u*Za[1]),uD(this.ctx)}else{uD(this.ctx),this.endPath();const h=new Path2D;h.rect(i[0],i[1],c,u),this.ctx.clip(h)}}this.current=new bH(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...o)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),fe(this,tu,d6).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const i=e.count;e=this.getObject(e.data,e),e.count=i;const r=this.ctx,o=this._createMaskCanvas(e),l=o.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(l,o.offsetX,o.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,i,r=0,o=0,l,c){if(!this.contentVisible)return;e=this.getObject(e.data,e);const u=this.ctx;u.save();const h=Ui(u);u.transform(i,r,o,l,0,0);const m=this._createMaskCanvas(e);u.setTransform(1,0,0,1,m.offsetX-h[4],m.offsetY-h[5]);for(let g=0,y=c.length;g<y;g+=2){const v=Wt.transform(h,[i,r,o,l,c[g],c[g+1]]);u.drawImage(m.canvas,v[4],v[5])}u.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const i=this.ctx,r=this.current.fillColor,o=this.current.patternFill;for(const l of e){const{data:c,width:u,height:h,transform:m}=l,g=this.cachedCanvases.getCanvas("maskCanvas",u,h),y=g.context;y.save();const v=this.getObject(c,l);vH(y,v),y.globalCompositeOperation="source-in",y.fillStyle=o?r.getPattern(y,this,Wu(i),_s.FILL):r,y.fillRect(0,0,u,h),y.restore(),i.save(),i.transform(...m),i.scale(1,-1),cD(i,g.canvas,0,0,u,h,0,-1,1,1),i.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const i=this.getObject(e);if(!i){hn("Dependent image isn't ready yet");return}this.paintInlineImageXObject(i)}paintImageXObjectRepeat(e,i,r,o){if(!this.contentVisible)return;const l=this.getObject(e);if(!l){hn("Dependent image isn't ready yet");return}const c=l.width,u=l.height,h=[];for(let m=0,g=o.length;m<g;m+=2)h.push({transform:[i,0,0,r,o[m],o[m+1]],x:0,y:0,w:c,h:u});this.paintInlineImageXObjectGroup(l,h)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:i,width:r,height:o}=e,l=this.cachedCanvases.getCanvas("inlineImage",r,o),c=l.context;return c.filter=this.current.transferMaps,c.drawImage(i,0,0),c.filter="none",l.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const i=e.width,r=e.height,o=this.ctx;this.save();const{filter:l}=o;l!=="none"&&l!==""&&(o.filter="none"),o.scale(1/i,-1/r);let c;if(e.bitmap)c=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)c=e;else{const m=this.cachedCanvases.getCanvas("inlineImage",i,r).context;yH(m,e),c=this.applyTransferMapsToCanvas(m)}const u=this._scaleImage(c,Wu(o));o.imageSmoothingEnabled=wH(Ui(o),e.interpolate),cD(o,u.img,0,0,u.paintWidth,u.paintHeight,0,-r,i,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,i){if(!this.contentVisible)return;const r=this.ctx;let o;if(e.bitmap)o=e.bitmap;else{const l=e.width,c=e.height,h=this.cachedCanvases.getCanvas("inlineImage",l,c).context;yH(h,e),o=this.applyTransferMapsToCanvas(h)}for(const l of i)r.save(),r.transform(...l.transform),r.scale(1,-1),cD(r,o,l.x,l.y,l.w,l.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,i){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,i){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e,i){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const o=this.ctx;this.pendingClip&&(r||(this.pendingClip===xH?o.clip(e,"evenodd"):o.clip(e)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Ui(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const i=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),o=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,o)/i}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:i,b:r,c:o,d:l}=this.ctx.getTransform();let c,u;if(r===0&&o===0){const h=Math.abs(i),m=Math.abs(l);if(h===m)if(e===0)c=u=1/h;else{const g=h*e;c=u=g<1?1/g:1}else if(e===0)c=1/h,u=1/m;else{const g=h*e,y=m*e;c=g<1?1/g:1,u=y<1?1/y:1}}else{const h=Math.abs(i*l-r*o),m=Math.hypot(i,r),g=Math.hypot(o,l);if(e===0)c=g/h,u=m/h;else{const y=e*h;c=g>y?g/y:1,u=m>y?m/y:1}}this._cachedScaleForStroking[0]=c,this._cachedScaleForStroking[1]=u}return this._cachedScaleForStroking}rescaleAndStroke(e,i){const{ctx:r,current:{lineWidth:o}}=this,[l,c]=this.getScaleForStroking();if(l===c){r.lineWidth=(o||1)*l,r.stroke(e);return}const u=r.getLineDash();i&&r.save(),r.scale(l,c),G4.a=1/l,G4.d=1/c;const h=new Path2D;if(h.addPath(e,G4),u.length>0){const m=Math.max(l,c);r.setLineDash(u.map(g=>g/m)),r.lineDashOffset/=m}r.lineWidth=o||1,r.stroke(h),i&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};tu=new WeakSet,u6=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},d6=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const i=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=i}}},h6=function(e,i,r){const o=new Path2D;return o.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(i)),o};let uw=NU;for(const n in aN)uw.prototype[n]!==void 0&&(uw.prototype[aN[n]]=uw.prototype[n]);var ME,OE;class fd{static get workerPort(){return P(this,ME)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");te(this,ME,e)}static get workerSrc(){return P(this,OE)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");te(this,OE,e)}}ME=new WeakMap,OE=new WeakMap,he(fd,ME,null),he(fd,OE,"");var Nw,FE;class WAe{constructor({parsedData:e,rawData:i}){he(this,Nw);he(this,FE);te(this,Nw,e),te(this,FE,i)}getRaw(){return P(this,FE)}get(e){return P(this,Nw).get(e)??null}[Symbol.iterator](){return P(this,Nw).entries()}}Nw=new WeakMap,FE=new WeakMap;const Tv=Symbol("INTERNAL");var UE,LE,BE,Pw;class $Ae{constructor(e,{name:i,intent:r,usage:o,rbGroups:l}){he(this,UE,!1);he(this,LE,!1);he(this,BE,!1);he(this,Pw,!0);te(this,UE,!!(e&Xa.DISPLAY)),te(this,LE,!!(e&Xa.PRINT)),this.name=i,this.intent=r,this.usage=o,this.rbGroups=l}get visible(){if(P(this,BE))return P(this,Pw);if(!P(this,Pw))return!1;const{print:e,view:i}=this.usage;return P(this,UE)?(i==null?void 0:i.viewState)!=="OFF":P(this,LE)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,i,r=!1){e!==Tv&&ri("Internal method `_setVisible` called."),te(this,BE,r),te(this,Pw,i)}}UE=new WeakMap,LE=new WeakMap,BE=new WeakMap,Pw=new WeakMap;var Hp,ti,Iw,jw,zE,f6;class qAe{constructor(e,i=Xa.DISPLAY){he(this,zE);he(this,Hp,null);he(this,ti,new Map);he(this,Iw,null);he(this,jw,null);if(this.renderingIntent=i,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,te(this,jw,e.order);for(const r of e.groups)P(this,ti).set(r.id,new $Ae(i,r));if(e.baseState==="OFF")for(const r of P(this,ti).values())r._setVisible(Tv,!1);for(const r of e.on)P(this,ti).get(r)._setVisible(Tv,!0);for(const r of e.off)P(this,ti).get(r)._setVisible(Tv,!1);te(this,Iw,this.getHash())}}isVisible(e){if(P(this,ti).size===0)return!0;if(!e)return aP("Optional content group not defined."),!0;if(e.type==="OCG")return P(this,ti).has(e.id)?P(this,ti).get(e.id).visible:(hn(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return fe(this,zE,f6).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const i of e.ids){if(!P(this,ti).has(i))return hn(`Optional content group not found: ${i}`),!0;if(P(this,ti).get(i).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const i of e.ids){if(!P(this,ti).has(i))return hn(`Optional content group not found: ${i}`),!0;if(!P(this,ti).get(i).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const i of e.ids){if(!P(this,ti).has(i))return hn(`Optional content group not found: ${i}`),!0;if(!P(this,ti).get(i).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const i of e.ids){if(!P(this,ti).has(i))return hn(`Optional content group not found: ${i}`),!0;if(P(this,ti).get(i).visible)return!1}return!0}return hn(`Unknown optional content policy ${e.policy}.`),!0}return hn(`Unknown group type ${e.type}.`),!0}setVisibility(e,i=!0,r=!0){var l;const o=P(this,ti).get(e);if(!o){hn(`Optional content group not found: ${e}`);return}if(r&&i&&o.rbGroups.length)for(const c of o.rbGroups)for(const u of c)u!==e&&((l=P(this,ti).get(u))==null||l._setVisible(Tv,!1,!0));o._setVisible(Tv,!!i,!0),te(this,Hp,null)}setOCGState({state:e,preserveRB:i}){let r;for(const o of e){switch(o){case"ON":case"OFF":case"Toggle":r=o;continue}const l=P(this,ti).get(o);if(l)switch(r){case"ON":this.setVisibility(o,!0,i);break;case"OFF":this.setVisibility(o,!1,i);break;case"Toggle":this.setVisibility(o,!l.visible,i);break}}te(this,Hp,null)}get hasInitialVisibility(){return P(this,Iw)===null||this.getHash()===P(this,Iw)}getOrder(){return P(this,ti).size?P(this,jw)?P(this,jw).slice():[...P(this,ti).keys()]:null}getGroup(e){return P(this,ti).get(e)||null}getHash(){if(P(this,Hp)!==null)return P(this,Hp);const e=new qte;for(const[i,r]of P(this,ti))e.update(`${i}:${r.visible}`);return te(this,Hp,e.hexdigest())}[Symbol.iterator](){return P(this,ti).entries()}}Hp=new WeakMap,ti=new WeakMap,Iw=new WeakMap,jw=new WeakMap,zE=new WeakSet,f6=function(e){const i=e.length;if(i<2)return!0;const r=e[0];for(let o=1;o<i;o++){const l=e[o];let c;if(Array.isArray(l))c=fe(this,zE,f6).call(this,l);else if(P(this,ti).has(l))c=P(this,ti).get(l).visible;else return hn(`Optional content group not found: ${l}`),!0;switch(r){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return r==="And"};class HAe{constructor(e,{disableRange:i=!1,disableStream:r=!1}){yr(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:o,initialData:l,progressiveDone:c,contentDispositionFilename:u}=e;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=u,(l==null?void 0:l.length)>0){const h=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;this._queuedChunks.push(h)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!i,this._contentLength=o,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((h,m)=>{this._onReceiveData({begin:h,chunk:m})}),e.addProgressListener((h,m)=>{this._onProgress({loaded:h,total:m})}),e.addProgressiveReadListener(h=>{this._onReceiveData({chunk:h})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:i}){const r=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const o=this._rangeReaders.some(function(l){return l._begin!==e?!1:(l._enqueue(r),!0)});yr(o,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var i,r,o,l;e.total===void 0?(r=(i=this._rangeReaders[0])==null?void 0:i.onProgress)==null||r.call(i,{loaded:e.loaded}):(l=(o=this._fullRequestReader)==null?void 0:o.onProgress)==null||l.call(o,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const i=this._rangeReaders.indexOf(e);i>=0&&this._rangeReaders.splice(i,1)}getFullReader(){yr(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new GAe(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,i){if(i<=this._progressiveDataLength)return null;const r=new XAe(this,e,i);return this._pdfDataRangeTransport.requestDataRange(e,i),this._rangeReaders.push(r),r}cancelAllRequests(e){var i;(i=this._fullRequestReader)==null||i.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class GAe{constructor(e,i,r=!1,o=null){this._stream=e,this._done=r||!1,this._filename=yU(o)?o:null,this._queuedChunks=i||[],this._loaded=0;for(const l of this._queuedChunks)this._loaded+=l.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class XAe{constructor(e,i,r){this._stream=e,this._begin=i,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const i=this._queuedChunk;return this._queuedChunk=null,{value:i,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function KAe(n){let e=!0,i=r("filename\\*","i").exec(n);if(i){i=i[1];let g=u(i);return g=unescape(g),g=h(g),g=m(g),l(g)}if(i=c(n),i){const g=m(i);return l(g)}if(i=r("filename","i").exec(n),i){i=i[1];let g=u(i);return g=m(g),l(g)}function r(g,y){return new RegExp("(?:^|;)\\s*"+g+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',y)}function o(g,y){if(g){if(!/^[\x00-\xFF]+$/.test(y))return y;try{const v=new TextDecoder(g,{fatal:!0}),_=iA(y);y=v.decode(_),e=!1}catch{}}return y}function l(g){return e&&/[\x80-\xff]/.test(g)&&(g=o("utf-8",g),e&&(g=o("iso-8859-1",g))),g}function c(g){const y=[];let v;const _=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=_.exec(g))!==null;){let[,S,C,T]=v;if(S=parseInt(S,10),S in y){if(S===0)break;continue}y[S]=[C,T]}const A=[];for(let S=0;S<y.length&&S in y;++S){let[C,T]=y[S];T=u(T),C&&(T=unescape(T),S===0&&(T=h(T))),A.push(T)}return A.join("")}function u(g){if(g.startsWith('"')){const y=g.slice(1).split('\\"');for(let v=0;v<y.length;++v){const _=y[v].indexOf('"');_!==-1&&(y[v]=y[v].slice(0,_),y.length=v+1),y[v]=y[v].replaceAll(/\\(.)/g,"$1")}g=y.join('"')}return g}function h(g){const y=g.indexOf("'");if(y===-1)return g;const v=g.slice(0,y),A=g.slice(y+1).replace(/^[^']*'/,"");return o(v,A)}function m(g){return!g.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(g)?g:g.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(y,v,_,A){if(_==="q"||_==="Q")return A=A.replaceAll("_"," "),A=A.replaceAll(/=([0-9a-fA-F]{2})/g,function(S,C){return String.fromCharCode(parseInt(C,16))}),o(v,A);try{A=atob(A)}catch{}return o(v,A)})}return""}function ine(n,e){const i=new Headers;if(!n||!e||typeof e!="object")return i;for(const r in e){const o=e[r];o!==void 0&&i.append(r,o)}return i}function cP(n){var e;return((e=URL.parse(n))==null?void 0:e.origin)??null}function rne({responseHeaders:n,isHttp:e,rangeChunkSize:i,disableRange:r}){const o={allowRangeRequests:!1,suggestedLength:void 0},l=parseInt(n.get("Content-Length"),10);return!Number.isInteger(l)||(o.suggestedLength=l,l<=2*i)||r||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(o.allowRangeRequests=!0),o}function sne(n){const e=n.get("Content-Disposition");if(e){let i=KAe(e);if(i.includes("%"))try{i=decodeURIComponent(i)}catch{}if(yU(i))return i}return null}function aA(n,e){return new lN(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function one(n){return n===200||n===206}function ane(n,e,i){return{method:"GET",headers:n,signal:i.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function lne(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(hn(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class _H{constructor(e){mt(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=ine(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return yr(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new ZAe(this),this._fullRequestReader}getRangeReader(e,i){if(i<=this._progressiveDataLength)return null;const r=new YAe(this,e,i);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var i;(i=this._fullRequestReader)==null||i.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class ZAe{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const i=e.source;this._withCredentials=i.withCredentials||!1,this._contentLength=i.length,this._headersCapability=Promise.withResolvers(),this._disableRange=i.disableRange||!1,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!i.disableStream,this._isRangeSupported=!i.disableRange;const r=new Headers(e.headers),o=i.url;fetch(o,ane(r,this._withCredentials,this._abortController)).then(l=>{if(e._responseOrigin=cP(l.url),!one(l.status))throw aA(l.status,o);this._reader=l.body.getReader(),this._headersCapability.resolve();const c=l.headers,{allowRangeRequests:u,suggestedLength:h}=rne({responseHeaders:c,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=h||this._contentLength,this._filename=sne(c),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Mm("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:i}=await this._reader.read();return i?{value:e,done:i}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:lne(e),done:!1})}cancel(e){var i;(i=this._reader)==null||i.cancel(e),this._abortController.abort()}}class YAe{constructor(e,i,r){this._stream=e,this._reader=null,this._loaded=0;const o=e.source;this._withCredentials=o.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!o.disableStream,this._abortController=new AbortController;const l=new Headers(e.headers);l.append("Range",`bytes=${i}-${r-1}`);const c=o.url;fetch(c,ane(l,this._withCredentials,this._abortController)).then(u=>{const h=cP(u.url);if(h!==e._responseOrigin)throw new Error(`Expected range response-origin "${h}" to match "${e._responseOrigin}".`);if(!one(u.status))throw aA(u.status,c);this._readCapability.resolve(),this._reader=u.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:i}=await this._reader.read();return i?{value:e,done:i}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:lne(e),done:!1})}cancel(e){var i;(i=this._reader)==null||i.cancel(e),this._abortController.abort()}}const X4=200,K4=206;function JAe(n){const e=n.response;return typeof e!="string"?e:iA(e).buffer}class QAe{constructor({url:e,httpHeaders:i,withCredentials:r}){mt(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=ine(this.isHttp,i),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const i=new XMLHttpRequest,r=this.currXhrId++,o=this.pendingRequests[r]={xhr:i};i.open("GET",this.url),i.withCredentials=this.withCredentials;for(const[l,c]of this.headers)i.setRequestHeader(l,c);return this.isHttp&&"begin"in e&&"end"in e?(i.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),o.expectedStatus=K4):o.expectedStatus=X4,i.responseType="arraybuffer",yr(e.onError,"Expected `onError` callback to be provided."),i.onerror=()=>{e.onError(i.status)},i.onreadystatechange=this.onStateChange.bind(this,r),i.onprogress=this.onProgress.bind(this,r),o.onHeadersReceived=e.onHeadersReceived,o.onDone=e.onDone,o.onError=e.onError,o.onProgress=e.onProgress,i.send(null),r}onProgress(e,i){var o;const r=this.pendingRequests[e];r&&((o=r.onProgress)==null||o.call(r,i))}onStateChange(e,i){const r=this.pendingRequests[e];if(!r)return;const o=r.xhr;if(o.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),o.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],o.status===0&&this.isHttp){r.onError(o.status);return}const l=o.status||X4;if(!(l===X4&&r.expectedStatus===K4)&&l!==r.expectedStatus){r.onError(o.status);return}const u=JAe(o);if(l===K4){const h=o.getResponseHeader("Content-Range"),m=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);m?r.onDone({begin:parseInt(m[1],10),chunk:u}):(hn('Missing or invalid "Content-Range" header.'),r.onError(0))}else u?r.onDone({begin:0,chunk:u}):r.onError(o.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const i=this.pendingRequests[e].xhr;delete this.pendingRequests[e],i.abort()}}class eCe{constructor(e){this._source=e,this._manager=new QAe(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const i=this._rangeRequestReaders.indexOf(e);i>=0&&this._rangeRequestReaders.splice(i,1)}getFullReader(){return yr(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new tCe(this._manager,this._source),this._fullRequestReader}getRangeReader(e,i){const r=new nCe(this._manager,e,i);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var i;(i=this._fullRequestReader)==null||i.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class tCe{constructor(e,i){this._manager=e,this._url=i.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=i.disableRange||!1,this._contentLength=i.length,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,i=this._manager.getRequestXhr(e);this._manager._responseOrigin=cP(i.responseURL);const r=i.getAllResponseHeaders(),o=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(u=>{const[h,...m]=u.split(": ");return[h,m.join(": ")]}):[]),{allowRangeRequests:l,suggestedLength:c}=rne({responseHeaders:o,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});l&&(this._isRangeSupported=!0),this._contentLength=c||this._contentLength,this._filename=sne(o),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=aA(e,this._url),this._headersCapability.reject(this._storedError);for(const i of this._requests)i.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var i;(i=this.onProgress)==null||i.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class nCe{constructor(e,i,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:i,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var i;const e=cP((i=this._manager.getRequestXhr(this._requestId))==null?void 0:i.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const i=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:i,done:!1}):this._queuedChunk=i,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=aA(e,this._url));for(const i of this._requests)i.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var i;this.isStreamingSupported||(i=this.onProgress)==null||i.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const i=this._queuedChunk;return this._queuedChunk=null,{value:i,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const iCe=/^[a-z][a-z0-9\-+.]+:/i;function rCe(n){if(iCe.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class sCe{constructor(e){this.source=e,this.url=rCe(e.url),yr(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return yr(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new oCe(this),this._fullRequestReader}getRangeReader(e,i){if(i<=this._progressiveDataLength)return null;const r=new aCe(this,e,i);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var i;(i=this._fullRequestReader)==null||i.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class oCe{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const i=e.source;this._contentLength=i.length,this._loaded=0,this._filename=null,this._disableRange=i.disableRange||!1,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!i.disableStream,this._isRangeSupported=!i.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(o=>{this._contentLength=o.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},o=>{o.code==="ENOENT"&&(o=aA(0,this._url.href)),this._storedError=o,this._headersCapability.reject(o)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",i=>{this._error(i)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Mm("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class aCe{constructor(e,i,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const o=e.source;this._isStreamingSupported=!o.disableStream;const l=process.getBuiltinModule("fs");this._setReadableStream(l.createReadStream(this._url,{start:i,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",i=>{this._error(i)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const lCe=1e5,kH=30;var NH,Gp,Yo,VE,WE,Mb,Ih,$E,qE,Ob,Rw,Mw,Xp,Ow,HE,Fw,Fb,GE,XE,Uw,Ub,KE,Kp,Lw,mf,cne,une,p6,el,HD,m6,dne,hne;const Sr=class Sr{constructor({textContentSource:e,container:i,viewport:r}){he(this,mf);he(this,Gp,Promise.withResolvers());he(this,Yo,null);he(this,VE,!1);he(this,WE,!!((NH=globalThis.FontInspector)!=null&&NH.enabled));he(this,Mb,null);he(this,Ih,null);he(this,$E,0);he(this,qE,0);he(this,Ob,null);he(this,Rw,null);he(this,Mw,0);he(this,Xp,0);he(this,Ow,Object.create(null));he(this,HE,[]);he(this,Fw,null);he(this,Fb,[]);he(this,GE,new WeakMap);he(this,XE,null);var h;if(e instanceof ReadableStream)te(this,Fw,e);else if(typeof e=="object")te(this,Fw,new ReadableStream({start(m){m.enqueue(e),m.close()}}));else throw new Error('No "textContentSource" parameter specified.');te(this,Yo,te(this,Rw,i)),te(this,Xp,r.scale*pf.pixelRatio),te(this,Mw,r.rotation),te(this,Ih,{div:null,properties:null,ctx:null});const{pageWidth:o,pageHeight:l,pageX:c,pageY:u}=r.rawDims;te(this,XE,[1,0,0,-1,-c,u+l]),te(this,qE,o),te(this,$E,l),fe(h=Sr,el,dne).call(h),j0(i,r),P(this,Gp).promise.finally(()=>{P(Sr,Lw).delete(this),te(this,Ih,null),te(this,Ow,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:i}=As.platform;return yn(this,"fontFamilyMap",new Map([["sans-serif",`${e&&i?"Calibri, ":""}sans-serif`],["monospace",`${e&&i?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{P(this,Ob).read().then(({value:i,done:r})=>{if(r){P(this,Gp).resolve();return}P(this,Mb)??te(this,Mb,i.lang),Object.assign(P(this,Ow),i.styles),fe(this,mf,cne).call(this,i.items),e()},P(this,Gp).reject)};return te(this,Ob,P(this,Fw).getReader()),P(Sr,Lw).add(this),e(),P(this,Gp).promise}update({viewport:e,onBefore:i=null}){var l;const r=e.scale*pf.pixelRatio,o=e.rotation;if(o!==P(this,Mw)&&(i==null||i(),te(this,Mw,o),j0(P(this,Rw),{rotation:o})),r!==P(this,Xp)){i==null||i(),te(this,Xp,r);const c={div:null,properties:null,ctx:fe(l=Sr,el,HD).call(l,P(this,Mb))};for(const u of P(this,Fb))c.properties=P(this,GE).get(u),c.div=u,fe(this,mf,p6).call(this,c)}}cancel(){var i;const e=new Mm("TextLayer task cancelled.");(i=P(this,Ob))==null||i.cancel(e).catch(()=>{}),te(this,Ob,null),P(this,Gp).reject(e)}get textDivs(){return P(this,Fb)}get textContentItemsStr(){return P(this,HE)}static cleanup(){if(!(P(this,Lw).size>0)){P(this,Uw).clear();for(const{canvas:e}of P(this,Ub).values())e.remove();P(this,Ub).clear()}}};Gp=new WeakMap,Yo=new WeakMap,VE=new WeakMap,WE=new WeakMap,Mb=new WeakMap,Ih=new WeakMap,$E=new WeakMap,qE=new WeakMap,Ob=new WeakMap,Rw=new WeakMap,Mw=new WeakMap,Xp=new WeakMap,Ow=new WeakMap,HE=new WeakMap,Fw=new WeakMap,Fb=new WeakMap,GE=new WeakMap,XE=new WeakMap,Uw=new WeakMap,Ub=new WeakMap,KE=new WeakMap,Kp=new WeakMap,Lw=new WeakMap,mf=new WeakSet,cne=function(e){var o,l;if(P(this,VE))return;(l=P(this,Ih)).ctx??(l.ctx=fe(o=Sr,el,HD).call(o,P(this,Mb)));const i=P(this,Fb),r=P(this,HE);for(const c of e){if(i.length>lCe){hn("Ignoring additional textDivs for performance reasons."),te(this,VE,!0);return}if(c.str===void 0){if(c.type==="beginMarkedContentProps"||c.type==="beginMarkedContent"){const u=P(this,Yo);te(this,Yo,document.createElement("span")),P(this,Yo).classList.add("markedContent"),c.id!==null&&P(this,Yo).setAttribute("id",`${c.id}`),u.append(P(this,Yo))}else c.type==="endMarkedContent"&&te(this,Yo,P(this,Yo).parentNode);continue}r.push(c.str),fe(this,mf,une).call(this,c)}},une=function(e){var S;const i=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};P(this,Fb).push(i);const o=Wt.transform(P(this,XE),e.transform);let l=Math.atan2(o[1],o[0]);const c=P(this,Ow)[e.fontName];c.vertical&&(l+=Math.PI/2);let u=P(this,WE)&&c.fontSubstitution||c.fontFamily;u=Sr.fontFamilyMap.get(u)||u;const h=Math.hypot(o[2],o[3]),m=h*fe(S=Sr,el,hne).call(S,u,c,P(this,Mb));let g,y;l===0?(g=o[4],y=o[5]-m):(g=o[4]+m*Math.sin(l),y=o[5]-m*Math.cos(l));const v="calc(var(--total-scale-factor) *",_=i.style;P(this,Yo)===P(this,Rw)?(_.left=`${(100*g/P(this,qE)).toFixed(2)}%`,_.top=`${(100*y/P(this,$E)).toFixed(2)}%`):(_.left=`${v}${g.toFixed(2)}px)`,_.top=`${v}${y.toFixed(2)}px)`),_.fontSize=`${v}${(P(Sr,Kp)*h).toFixed(2)}px)`,_.fontFamily=u,r.fontSize=h,i.setAttribute("role","presentation"),i.textContent=e.str,i.dir=e.dir,P(this,WE)&&(i.dataset.fontName=c.fontSubstitutionLoadedName||e.fontName),l!==0&&(r.angle=l*(180/Math.PI));let A=!1;if(e.str.length>1)A=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const C=Math.abs(e.transform[0]),T=Math.abs(e.transform[3]);C!==T&&Math.max(C,T)/Math.min(C,T)>1.5&&(A=!0)}if(A&&(r.canvasWidth=c.vertical?e.height:e.width),P(this,GE).set(i,r),P(this,Ih).div=i,P(this,Ih).properties=r,fe(this,mf,p6).call(this,P(this,Ih)),r.hasText&&P(this,Yo).append(i),r.hasEOL){const C=document.createElement("br");C.setAttribute("role","presentation"),P(this,Yo).append(C)}},p6=function(e){var u;const{div:i,properties:r,ctx:o}=e,{style:l}=i;let c="";if(P(Sr,Kp)>1&&(c=`scale(${1/P(Sr,Kp)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:h}=l,{canvasWidth:m,fontSize:g}=r;fe(u=Sr,el,m6).call(u,o,g*P(this,Xp),h);const{width:y}=o.measureText(i.textContent);y>0&&(c=`scaleX(${m*P(this,Xp)/y}) ${c}`)}r.angle!==0&&(c=`rotate(${r.angle}deg) ${c}`),c.length>0&&(l.transform=c)},el=new WeakSet,HD=function(e=null){let i=P(this,Ub).get(e||(e=""));if(!i){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),i=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),P(this,Ub).set(e,i),P(this,KE).set(i,{size:0,family:""})}return i},m6=function(e,i,r){const o=P(this,KE).get(e);i===o.size&&r===o.family||(e.font=`${i}px ${r}`,o.size=i,o.family=r)},dne=function(){if(P(this,Kp)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),te(this,Kp,e.getBoundingClientRect().height),e.remove()},hne=function(e,i,r){const o=P(this,Uw).get(e);if(o)return o;const l=fe(this,el,HD).call(this,r);l.canvas.width=l.canvas.height=kH,fe(this,el,m6).call(this,l,kH,e);const c=l.measureText(""),u=c.fontBoundingBoxAscent,h=Math.abs(c.fontBoundingBoxDescent);l.canvas.width=l.canvas.height=0;let m=.8;return u?m=u/(u+h):(As.platform.isFirefox&&hn("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),i.ascent?m=i.ascent:i.descent&&(m=1+i.descent)),P(this,Uw).set(e,m),m},he(Sr,el),he(Sr,Uw,new Map),he(Sr,Ub,new Map),he(Sr,KE,new WeakMap),he(Sr,Kp,null),he(Sr,Lw,new Set);let aE=Sr;class lE{static textContent(e){const i=[],r={items:i,styles:Object.create(null)};function o(l){var h;if(!l)return;let c=null;const u=l.name;if(u==="#text")c=l.value;else if(lE.shouldBuildText(u))(h=l==null?void 0:l.attributes)!=null&&h.textContent?c=l.attributes.textContent:l.value&&(c=l.value);else return;if(c!==null&&i.push({str:c}),!!l.children)for(const m of l.children)o(m)}return o(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const cCe=65536,uCe=100;function fne(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new b6,{docId:i}=e,r=n.url?dCe(n.url):null,o=n.data?hCe(n.data):null,l=n.httpHeaders||null,c=n.withCredentials===!0,u=n.password??null,h=n.range instanceof pne?n.range:null,m=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:cCe;let g=n.worker instanceof dw?n.worker:null;const y=n.verbosity,v=typeof n.docBaseUrl=="string"&&!lP(n.docBaseUrl)?n.docBaseUrl:null,_=dD(n.cMapUrl),A=n.cMapPacked!==!1,S=n.CMapReaderFactory||(Ao?TAe:uH),C=dD(n.iccUrl),T=dD(n.standardFontDataUrl),N=n.StandardFontDataFactory||(Ao?DAe:dH),I=dD(n.wasmUrl),O=n.WasmFactory||(Ao?NAe:hH),F=n.stopAtErrors!==!0,U=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,V=n.isEvalSupported!==!1,B=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Ao,Z=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!Ao&&(As.platform.isFirefox||!globalThis.chrome),ae=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,me=typeof n.disableFontFace=="boolean"?n.disableFontFace:Ao,Q=n.fontExtraProperties===!0,ge=n.enableXfa===!0,$=n.ownerDocument||globalThis.document,Te=n.disableRange===!0,re=n.disableStream===!0,ie=n.disableAutoFetch===!0,G=n.pdfBug===!0,K=n.CanvasFactory||(Ao?CAe:EAe),ne=n.FilterFactory||(Ao?AAe:SAe),J=n.enableHWA===!0,ue=n.useWasm!==!1,ee=h?h.length:n.length??NaN,xe=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Ao&&!me,Se=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(S===uH&&N===dH&&O===hH&&_&&T&&I&&Ev(_,document.baseURI)&&Ev(T,document.baseURI)&&Ev(I,document.baseURI)),Me=null;iAe(y);const Re={canvasFactory:new K({ownerDocument:$,enableHWA:J}),filterFactory:new ne({docId:i,ownerDocument:$}),cMapReaderFactory:Se?null:new S({baseUrl:_,isCompressed:A}),standardFontDataFactory:Se?null:new N({baseUrl:T}),wasmFactory:Se?null:new O({baseUrl:I})};if(!g){const ze={verbosity:y,port:fd.workerPort};g=ze.port?dw.fromPort(ze):new dw(ze),e._worker=g}const Fe={docId:i,apiVersion:"5.2.133",data:o,password:u,disableAutoFetch:ie,rangeChunkSize:m,length:ee,docBaseUrl:v,enableXfa:ge,evaluatorOptions:{maxImageSize:U,disableFontFace:me,ignoreErrors:F,isEvalSupported:V,isOffscreenCanvasSupported:B,isImageDecoderSupported:Z,canvasMaxAreaInBytes:ae,fontExtraProperties:Q,useSystemFonts:xe,useWasm:ue,useWorkerFetch:Se,cMapUrl:_,iccUrl:C,standardFontDataUrl:T,wasmUrl:I}},We={ownerDocument:$,pdfBug:G,styleElement:Me,loadingParams:{disableAutoFetch:ie,enableXfa:ge}};return g.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const ze=g.messageHandler.sendWithPromise("GetDocRequest",Fe,o?[o.buffer]:null);let Ne;if(h)Ne=new HAe(h,{disableRange:Te,disableStream:re});else if(!o){if(!r)throw new Error("getDocument - no `url` parameter provided.");let ke;if(Ao)if(Ev(r)){if(typeof fetch>"u"||typeof Response>"u"||!("body"in Response.prototype))throw new Error("getDocument - the Fetch API was disabled in Node.js, see `--no-experimental-fetch`.");ke=_H}else ke=sCe;else ke=Ev(r)?_H:eCe;Ne=new ke({url:r,length:ee,httpHeaders:l,withCredentials:c,rangeChunkSize:m,disableRange:Te,disableStream:re})}return ze.then(ke=>{if(e.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const Be=new Fk(i,ke,g.port),X=new yCe(Be,e,Ne,We,Re);e._transport=X,Be.send("Ready",null)})}).catch(e._capability.reject),e}function dCe(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(Ao)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function hCe(n){if(Ao&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return iA(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function dD(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const g6=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,fCe=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",pCe=hAe.bind(null,g6,fCe);var EN;const SN=class SN{constructor(){mt(this,"_capability",Promise.withResolvers());mt(this,"_transport",null);mt(this,"_worker",null);mt(this,"docId",`d${wo(SN,EN)._++}`);mt(this,"destroyed",!1);mt(this,"onPassword",null);mt(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,i,r,o;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((i=this._transport)==null?void 0:i.destroy())}catch(l){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,l}this._transport=null,(o=this._worker)==null||o.destroy(),this._worker=null}async getData(){return this._transport.getData()}};EN=new WeakMap,he(SN,EN,0);let b6=SN;class pne{constructor(e,i,r=!1,o=null){this.length=e,this.initialData=i,this.progressiveDone=r,this.contentDispositionFilename=o,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,i){for(const r of this._rangeListeners)r(e,i)}onDataProgress(e,i){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,i)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const i of this._progressiveReadListeners)i(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,i){ri("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class mCe{constructor(e,i){this._pdfInfo=e,this._transport=i}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return yn(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:i}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(i)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var jh,Lb,Vk;class gCe{constructor(e,i,r,o=!1){he(this,Lb);he(this,jh,!1);this._pageIndex=e,this._pageInfo=i,this._transport=r,this._stats=o?new aH:null,this._pdfBug=o,this.commonObjs=r.commonObjs,this.objs=new mne,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:i=this.rotate,offsetX:r=0,offsetY:o=0,dontFlip:l=!1}={}){return new sA({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:i,offsetX:r,offsetY:o,dontFlip:l})}getAnnotations({intent:e="display"}={}){const{renderingIntent:i}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,i)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return yn(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:i,intent:r="display",annotationMode:o=Np.ENABLE,transform:l=null,background:c=null,optionalContentConfigPromise:u=null,annotationCanvasMap:h=null,pageColors:m=null,printAnnotationStorage:g=null,isEditing:y=!1}){var O,F;(O=this._stats)==null||O.time("Overall");const v=this._transport.getRenderingIntent(r,o,g,y),{renderingIntent:_,cacheKey:A}=v;te(this,jh,!1),u||(u=this._transport.getOptionalContentConfig(_));let S=this._intentStates.get(A);S||(S=Object.create(null),this._intentStates.set(A,S)),S.streamReaderCancelTimeout&&(clearTimeout(S.streamReaderCancelTimeout),S.streamReaderCancelTimeout=null);const C=!!(_&Xa.PRINT);S.displayReadyCapability||(S.displayReadyCapability=Promise.withResolvers(),S.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(F=this._stats)==null||F.time("Page Request"),this._pumpOperatorList(v));const T=U=>{var V;S.renderTasks.delete(N),C&&te(this,jh,!0),fe(this,Lb,Vk).call(this),U?(N.capability.reject(U),this._abortOperatorList({intentState:S,reason:U instanceof Error?U:new Error(U)})):N.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(V=globalThis.Stats)!=null&&V.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},N=new v6({callback:T,params:{canvasContext:e,viewport:i,transform:l,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:h,operatorList:S.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!C,pdfBug:this._pdfBug,pageColors:m});(S.renderTasks||(S.renderTasks=new Set)).add(N);const I=N.task;return Promise.all([S.displayReadyCapability.promise,u]).then(([U,V])=>{var B;if(this.destroyed){T();return}if((B=this._stats)==null||B.time("Rendering"),!(V.renderingIntent&_))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");N.initializeGraphics({transparency:U,optionalContentConfig:V}),N.operatorListChanged()}).catch(T),I}getOperatorList({intent:e="display",annotationMode:i=Np.ENABLE,printAnnotationStorage:r=null,isEditing:o=!1}={}){var m;function l(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(h))}const c=this._transport.getRenderingIntent(e,i,r,o,!0);let u=this._intentStates.get(c.cacheKey);u||(u=Object.create(null),this._intentStates.set(c.cacheKey,u));let h;return u.opListReadCapability||(h=Object.create(null),h.operatorListChanged=l,u.opListReadCapability=Promise.withResolvers(),(u.renderTasks||(u.renderTasks=new Set)).add(h),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(m=this._stats)==null||m.time("Page Request"),this._pumpOperatorList(c)),u.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:i=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:i===!0},{highWaterMark:100,size(o){return o.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>lE.textContent(r));const i=this.streamTextContent(e);return new Promise(function(r,o){function l(){c.read().then(function({value:h,done:m}){if(m){r(u);return}u.lang??(u.lang=h.lang),Object.assign(u.styles,h.styles),u.items.push(...h.items),l()},o)}const c=i.getReader(),u={items:[],styles:Object.create(null),lang:null};l()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const i of this._intentStates.values())if(this._abortOperatorList({intentState:i,reason:new Error("Page was destroyed."),force:!0}),!i.opListReadCapability)for(const r of i.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),te(this,jh,!1),Promise.all(e)}cleanup(e=!1){te(this,jh,!0);const i=fe(this,Lb,Vk).call(this);return e&&i&&this._stats&&(this._stats=new aH),i}_startRenderPage(e,i){var o,l;const r=this._intentStates.get(i);r&&((o=this._stats)==null||o.timeEnd("Page Request"),(l=r.displayReadyCapability)==null||l.resolve(e))}_renderPageChunk(e,i){for(let r=0,o=e.length;r<o;r++)i.operatorList.fnArray.push(e.fnArray[r]),i.operatorList.argsArray.push(e.argsArray[r]);i.operatorList.lastChunk=e.lastChunk,i.operatorList.separateAnnots=e.separateAnnots;for(const r of i.renderTasks)r.operatorListChanged();e.lastChunk&&fe(this,Lb,Vk).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:i,annotationStorageSerializable:r,modifiedIds:o}){const{map:l,transfer:c}=r,h=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:i,annotationStorage:l,modifiedIds:o},c).getReader(),m=this._intentStates.get(i);m.streamReader=h;const g=()=>{h.read().then(({value:y,done:v})=>{if(v){m.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(y,m),g())},y=>{if(m.streamReader=null,!this._transport.destroyed){if(m.operatorList){m.operatorList.lastChunk=!0;for(const v of m.renderTasks)v.operatorListChanged();fe(this,Lb,Vk).call(this)}if(m.displayReadyCapability)m.displayReadyCapability.reject(y);else if(m.opListReadCapability)m.opListReadCapability.reject(y);else throw y}})};g()}_abortOperatorList({intentState:e,reason:i,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(i instanceof bU){let o=uCe;i.extraDelay>0&&i.extraDelay<1e3&&(o+=i.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:i,force:!0})},o);return}}if(e.streamReader.cancel(new Mm(i.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[o,l]of this._intentStates)if(l===e){this._intentStates.delete(o);break}this.cleanup()}}}get stats(){return this._stats}}jh=new WeakMap,Lb=new WeakSet,Vk=function(){if(!P(this,jh)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:i}of this._intentStates.values())if(e.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),te(this,jh,!1),!0};var Rh,AN;class bCe{constructor(){he(this,Rh,new Map);he(this,AN,Promise.resolve())}postMessage(e,i){const r={data:structuredClone(e,i?{transfer:i}:null)};P(this,AN).then(()=>{for(const[o]of P(this,Rh))o.call(this,r)})}addEventListener(e,i,r=null){let o=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:l}=r;if(l.aborted){hn("LoopbackPort - cannot use an `aborted` signal.");return}const c=()=>this.removeEventListener(e,i);o=()=>l.removeEventListener("abort",c),l.addEventListener("abort",c)}P(this,Rh).set(i,o)}removeEventListener(e,i){const r=P(this,Rh).get(i);r==null||r(),P(this,Rh).delete(i)}terminate(){for(const[,e]of P(this,Rh))e==null||e();P(this,Rh).clear()}}Rh=new WeakMap,AN=new WeakMap;var CN,Bb,zb,Bw,GD,zw,XD;const Ti=class Ti{constructor({name:e=null,port:i=null,verbosity:r=rAe()}={}){he(this,Bw);var o;if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,i){if((o=P(Ti,zb))!=null&&o.has(i))throw new Error("Cannot use more than one PDFWorker per port.");(P(Ti,zb)||te(Ti,zb,new WeakMap)).set(i,this),this._initializeFromPort(i);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Fk("main","worker",e),this._messageHandler.on("ready",function(){}),fe(this,Bw,GD).call(this)}_initialize(){if(P(Ti,Bb)||P(Ti,zw,XD)){this._setupFakeWorker();return}let{workerSrc:e}=Ti;try{Ti._isSameOrigin(window.location,e)||(e=Ti._createCDNWrapper(new URL(e,window.location).href));const i=new Worker(e,{type:"module"}),r=new Fk("main","worker",i),o=()=>{l.abort(),r.destroy(),i.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},l=new AbortController;i.addEventListener("error",()=>{this._webWorker||o()},{signal:l.signal}),r.on("test",u=>{if(l.abort(),this.destroyed||!u){o();return}this._messageHandler=r,this._port=i,this._webWorker=i,fe(this,Bw,GD).call(this)}),r.on("ready",u=>{if(l.abort(),this.destroyed){o();return}try{c()}catch{this._setupFakeWorker()}});const c=()=>{const u=new Uint8Array;r.send("test",u,[u.buffer])};c();return}catch{aP("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){P(Ti,Bb)||(hn("Setting up fake worker."),te(Ti,Bb,!0)),Ti._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const i=new bCe;this._port=i;const r=`fake${wo(Ti,CN)._++}`,o=new Fk(r+"_worker",r,i);e.setup(o,i),this._messageHandler=new Fk(r,r+"_worker",i),fe(this,Bw,GD).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e,i,r;this.destroyed=!0,(e=this._webWorker)==null||e.terminate(),this._webWorker=null,(i=P(Ti,zb))==null||i.delete(this._port),this._port=null,(r=this._messageHandler)==null||r.destroy(),this._messageHandler=null}static fromPort(e){var r;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const i=(r=P(this,zb))==null?void 0:r.get(e.port);if(i){if(i._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return i}return new Ti(e)}static get workerSrc(){if(fd.workerSrc)return fd.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return yn(this,"_setupFakeWorkerGlobal",(async()=>P(this,zw,XD)?P(this,zw,XD):(await import(this.workerSrc)).WorkerMessageHandler)())}};CN=new WeakMap,Bb=new WeakMap,zb=new WeakMap,Bw=new WeakSet,GD=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},zw=new WeakSet,XD=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},he(Ti,zw),he(Ti,CN,0),he(Ti,Bb,!1),he(Ti,zb),Ao&&(te(Ti,Bb,!0),fd.workerSrc||(fd.workerSrc="./pdf.worker.mjs")),Ti._isSameOrigin=(e,i)=>{const r=URL.parse(e);if(!(r!=null&&r.origin)||r.origin==="null")return!1;const o=new URL(i,r);return r.origin===o.origin},Ti._createCDNWrapper=e=>{const i=`await import("${e}");`;return URL.createObjectURL(new Blob([i],{type:"text/javascript"}))};let dw=Ti;var Mh,id,Vw,Ww,Oh,Vb,Wk;class yCe{constructor(e,i,r,o,l){he(this,Vb);he(this,Mh,new Map);he(this,id,new Map);he(this,Vw,new Map);he(this,Ww,new Map);he(this,Oh,null);this.messageHandler=e,this.loadingTask=i,this.commonObjs=new mne,this.fontLoader=new _Ae({ownerDocument:o.ownerDocument,styleElement:o.styleElement}),this.loadingParams=o.loadingParams,this._params=o,this.canvasFactory=l.canvasFactory,this.filterFactory=l.filterFactory,this.cMapReaderFactory=l.cMapReaderFactory,this.standardFontDataFactory=l.standardFontDataFactory,this.wasmFactory=l.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return yn(this,"annotationStorage",new _U)}getRenderingIntent(e,i=Np.ENABLE,r=null,o=!1,l=!1){let c=Xa.DISPLAY,u=s6;switch(e){case"any":c=Xa.ANY;break;case"display":break;case"print":c=Xa.PRINT;break;default:hn(`getRenderingIntent - invalid intent: ${e}`)}const h=c&Xa.PRINT&&r instanceof Gte?r:this.annotationStorage;switch(i){case Np.DISABLE:c+=Xa.ANNOTATIONS_DISABLE;break;case Np.ENABLE:break;case Np.ENABLE_FORMS:c+=Xa.ANNOTATIONS_FORMS;break;case Np.ENABLE_STORAGE:c+=Xa.ANNOTATIONS_STORAGE,u=h.serializable;break;default:hn(`getRenderingIntent - invalid annotationMode: ${i}`)}o&&(c+=Xa.IS_EDITING),l&&(c+=Xa.OPLIST);const{ids:m,hash:g}=h.modifiedIds,y=[c,u.hash,g];return{renderingIntent:c,cacheKey:y.join("_"),annotationStorageSerializable:u,modifiedIds:m}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=P(this,Oh))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const o of P(this,id).values())e.push(o._destroy());P(this,id).clear(),P(this,Vw).clear(),P(this,Ww).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const i=this.messageHandler.sendWithPromise("Terminate",null);return e.push(i),Promise.all(e).then(()=>{var o,l;this.commonObjs.clear(),this.fontLoader.clear(),P(this,Mh).clear(),this.filterFactory.destroy(),aE.cleanup(),(o=this._networkStream)==null||o.cancelAllRequests(new Mm("Worker was terminated.")),(l=this.messageHandler)==null||l.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:i}=this;e.on("GetReader",(r,o)=>{yr(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=l=>{this._lastProgress={loaded:l.loaded,total:l.total}},o.onPull=()=>{this._fullReader.read().then(function({value:l,done:c}){if(c){o.close();return}yr(l instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),o.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{o.error(l)})},o.onCancel=l=>{this._fullReader.cancel(l),o.ready.catch(c=>{if(!this.destroyed)throw c})}}),e.on("ReaderHeadersReady",async r=>{var u;await this._fullReader.headersReady;const{isStreamingSupported:o,isRangeSupported:l,contentLength:c}=this._fullReader;return(!o||!l)&&(this._lastProgress&&((u=i.onProgress)==null||u.call(i,this._lastProgress)),this._fullReader.onProgress=h=>{var m;(m=i.onProgress)==null||m.call(i,{loaded:h.loaded,total:h.total})}),{isStreamingSupported:o,isRangeSupported:l,contentLength:c}}),e.on("GetRangeReader",(r,o)=>{yr(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const l=this._networkStream.getRangeReader(r.begin,r.end);if(!l){o.close();return}o.onPull=()=>{l.read().then(function({value:c,done:u}){if(u){o.close();return}yr(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),o.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{o.error(c)})},o.onCancel=c=>{l.cancel(c),o.ready.catch(u=>{if(!this.destroyed)throw u})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,i._capability.resolve(new mCe(r,this))}),e.on("DocException",r=>{i._capability.reject(Xo(r))}),e.on("PasswordRequest",r=>{te(this,Oh,Promise.withResolvers());try{if(!i.onPassword)throw Xo(r);const o=l=>{l instanceof Error?P(this,Oh).reject(l):P(this,Oh).resolve({password:l})};i.onPassword(o,r.code)}catch(o){P(this,Oh).reject(o)}return P(this,Oh).promise}),e.on("DataLoaded",r=>{var o;(o=i.onProgress)==null||o.call(i,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;P(this,id).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,o,l])=>{var c;if(this.destroyed||this.commonObjs.has(r))return null;switch(o){case"Font":if("error"in l){const g=l.error;hn(`Error during font loading: ${g}`),this.commonObjs.resolve(r,g);break}const u=this._params.pdfBug&&((c=globalThis.FontInspector)!=null&&c.enabled)?(g,y)=>globalThis.FontInspector.fontAdded(g,y):null,h=new kAe(l,u);this.fontLoader.bind(h).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!h.fontExtraProperties&&h.data&&(h.data=null),this.commonObjs.resolve(r,h)});break;case"CopyLocalImage":const{imageRef:m}=l;yr(m,"The imageRef must be defined.");for(const g of P(this,id).values())for(const[,y]of g.objs)if((y==null?void 0:y.ref)===m)return y.dataLen?(this.commonObjs.resolve(r,structuredClone(y)),y.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,l);break;default:throw new Error(`Got unknown common object type ${o}`)}return null}),e.on("obj",([r,o,l,c])=>{var h;if(this.destroyed)return;const u=P(this,id).get(o);if(!u.objs.has(r)){if(u._intentStates.size===0){(h=c==null?void 0:c.bitmap)==null||h.close();return}switch(l){case"Image":case"Pattern":u.objs.resolve(r,c);break;default:throw new Error(`Got unknown object type ${l}`)}}}),e.on("DocProgress",r=>{var o;this.destroyed||(o=i.onProgress)==null||o.call(i,{loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const o=this[r.type];if(!o)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return o.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&hn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:i}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},i).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const i=e-1,r=P(this,Vw).get(i);if(r)return r;const o=this.messageHandler.sendWithPromise("GetPage",{pageIndex:i}).then(l=>{if(this.destroyed)throw new Error("Transport destroyed");l.refStr&&P(this,Ww).set(l.refStr,e);const c=new gCe(i,l,this,this._params.pdfBug);return P(this,id).set(i,c),c});return P(this,Vw).set(i,o),o}getPageIndex(e){return g6(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,i){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:i})}getFieldObjects(){return fe(this,Vb,Wk).call(this,"GetFieldObjects")}hasJSActions(){return fe(this,Vb,Wk).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return fe(this,Vb,Wk).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return fe(this,Vb,Wk).call(this,"GetOptionalContentConfig").then(i=>new qAe(i,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",i=P(this,Mh).get(e);if(i)return i;const r=this.messageHandler.sendWithPromise(e,null).then(o=>{var l,c;return{info:o[0],metadata:o[1]?new WAe(o[1]):null,contentDispositionFilename:((l=this._fullReader)==null?void 0:l.filename)??null,contentLength:((c=this._fullReader)==null?void 0:c.contentLength)??null}});return P(this,Mh).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const i of P(this,id).values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),P(this,Mh).clear(),this.filterFactory.destroy(!0),aE.cleanup()}}cachedPageNumber(e){if(!g6(e))return null;const i=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return P(this,Ww).get(i)??null}}Mh=new WeakMap,id=new WeakMap,Vw=new WeakMap,Ww=new WeakMap,Oh=new WeakMap,Vb=new WeakSet,Wk=function(e,i=null){const r=P(this,Mh).get(e);if(r)return r;const o=this.messageHandler.sendWithPromise(e,i);return P(this,Mh).set(e,o),o};const kk=Symbol("INITIAL_DATA");var Ua,ZE,y6;class mne{constructor(){he(this,ZE);he(this,Ua,Object.create(null))}get(e,i=null){if(i){const o=fe(this,ZE,y6).call(this,e);return o.promise.then(()=>i(o.data)),null}const r=P(this,Ua)[e];if(!r||r.data===kk)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const i=P(this,Ua)[e];return!!i&&i.data!==kk}delete(e){const i=P(this,Ua)[e];return!i||i.data===kk?!1:(delete P(this,Ua)[e],!0)}resolve(e,i=null){const r=fe(this,ZE,y6).call(this,e);r.data=i,r.resolve()}clear(){var e;for(const i in P(this,Ua)){const{data:r}=P(this,Ua)[i];(e=r==null?void 0:r.bitmap)==null||e.close()}te(this,Ua,Object.create(null))}*[Symbol.iterator](){for(const e in P(this,Ua)){const{data:i}=P(this,Ua)[e];i!==kk&&(yield[e,i])}}}Ua=new WeakMap,ZE=new WeakSet,y6=function(e){var i;return(i=P(this,Ua))[e]||(i[e]={...Promise.withResolvers(),data:kk})};var Zp;class vCe{constructor(e){he(this,Zp,null);mt(this,"onContinue",null);mt(this,"onError",null);te(this,Zp,e)}get promise(){return P(this,Zp).capability.promise}cancel(e=0){P(this,Zp).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=P(this,Zp).operatorList;if(!e)return!1;const{annotationCanvasMap:i}=P(this,Zp);return e.form||e.canvas&&(i==null?void 0:i.size)>0}}Zp=new WeakMap;var Yp,Wb;const sb=class sb{constructor({callback:e,params:i,objs:r,commonObjs:o,annotationCanvasMap:l,operatorList:c,pageIndex:u,canvasFactory:h,filterFactory:m,useRequestAnimationFrame:g=!1,pdfBug:y=!1,pageColors:v=null}){he(this,Yp,null);this.callback=e,this.params=i,this.objs=r,this.commonObjs=o,this.annotationCanvasMap=l,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=u,this.canvasFactory=h,this.filterFactory=m,this._pdfBug=y,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=g===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new vCe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=i.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:i}){var u,h;if(this.cancelled)return;if(this._canvas){if(P(sb,Wb).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");P(sb,Wb).add(this._canvas)}this._pdfBug&&((u=globalThis.StepperManager)!=null&&u.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:o,transform:l,background:c}=this.params;this.gfx=new uw(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:i},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:l,viewport:o,transparency:e,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,(h=this.graphicsReadyCallback)==null||h.call(this)}cancel(e=null,i=0){var r,o,l;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),P(this,Yp)&&(window.cancelAnimationFrame(P(this,Yp)),te(this,Yp,null)),P(sb,Wb).delete(this._canvas),e||(e=new bU(`Rendering cancelled, page ${this._pageIndex+1}`,i)),this.callback(e),(l=(o=this.task).onError)==null||l.call(o,e)}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?te(this,Yp,window.requestAnimationFrame(()=>{te(this,Yp,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),P(sb,Wb).delete(this._canvas),this.callback())))}};Yp=new WeakMap,Wb=new WeakMap,he(sb,Wb,new WeakSet);let v6=sb;const wCe="5.2.133",xCe="4f7761353";function EH(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Ek(n){return Math.max(0,Math.min(255,255*n))}class SH{static CMYK_G([e,i,r,o]){return["G",1-Math.min(1,.3*e+.59*r+.11*i+o)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Ek(e),[e,e,e]}static G_HTML([e]){const i=EH(e);return`#${i}${i}${i}`}static RGB_G([e,i,r]){return["G",.3*e+.59*i+.11*r]}static RGB_rgb(e){return e.map(Ek)}static RGB_HTML(e){return`#${e.map(EH).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,i,r,o]){return["RGB",1-Math.min(1,e+o),1-Math.min(1,r+o),1-Math.min(1,i+o)]}static CMYK_rgb([e,i,r,o]){return[Ek(1-Math.min(1,e+o)),Ek(1-Math.min(1,r+o)),Ek(1-Math.min(1,i+o))]}static CMYK_HTML(e){const i=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(i)}static RGB_CMYK([e,i,r]){const o=1-e,l=1-i,c=1-r,u=Math.min(o,l,c);return["CMYK",o,l,c,u]}}class _Ce{create(e,i,r=!1){if(e<=0||i<=0)throw new Error("Invalid SVG dimensions");const o=this._createSVG("svg:svg");return o.setAttribute("version","1.1"),r||(o.setAttribute("width",`${e}px`),o.setAttribute("height",`${i}px`)),o.setAttribute("preserveAspectRatio","none"),o.setAttribute("viewBox",`0 0 ${e} ${i}`),o}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){ri("Abstract method `_createSVG` called.")}}class dN extends _Ce{_createSVG(e){return document.createElementNS(fh,e)}}class gne{static setupStorage(e,i,r,o,l){const c=o.getValue(i,{value:null});switch(r.name){case"textarea":if(c.value!==null&&(e.textContent=c.value),l==="print")break;e.addEventListener("input",u=>{o.setValue(i,{value:u.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(c.value===r.attributes.xfaOn?e.setAttribute("checked",!0):c.value===r.attributes.xfaOff&&e.removeAttribute("checked"),l==="print")break;e.addEventListener("change",u=>{o.setValue(i,{value:u.target.checked?u.target.getAttribute("xfaOn"):u.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&e.setAttribute("value",c.value),l==="print")break;e.addEventListener("input",u=>{o.setValue(i,{value:u.target.value})})}break;case"select":if(c.value!==null){e.setAttribute("value",c.value);for(const u of r.children)u.attributes.value===c.value?u.attributes.selected=!0:u.attributes.hasOwnProperty("selected")&&delete u.attributes.selected}e.addEventListener("input",u=>{const h=u.target.options,m=h.selectedIndex===-1?"":h[h.selectedIndex].value;o.setValue(i,{value:m})});break}}static setAttributes({html:e,element:i,storage:r=null,intent:o,linkService:l}){const{attributes:c}=i,u=e instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${o}`);for(const[h,m]of Object.entries(c))if(m!=null)switch(h){case"class":m.length&&e.setAttribute(h,m.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",m);break;case"style":Object.assign(e.style,m);break;case"textContent":e.textContent=m;break;default:(!u||h!=="href"&&h!=="newWindow")&&e.setAttribute(h,m)}u&&l.addLinkAttributes(e,c.href,c.newWindow),r&&c.dataId&&this.setupStorage(e,c.dataId,i,r)}static render(e){var y,v;const i=e.annotationStorage,r=e.linkService,o=e.xfaHtml,l=e.intent||"display",c=document.createElement(o.name);o.attributes&&this.setAttributes({html:c,element:o,intent:l,linkService:r});const u=l!=="richText",h=e.div;if(h.append(c),e.viewport){const _=`matrix(${e.viewport.transform.join(",")})`;h.style.transform=_}u&&h.setAttribute("class","xfaLayer xfaFont");const m=[];if(o.children.length===0){if(o.value){const _=document.createTextNode(o.value);c.append(_),u&&lE.shouldBuildText(o.name)&&m.push(_)}return{textDivs:m}}const g=[[o,-1,c]];for(;g.length>0;){const[_,A,S]=g.at(-1);if(A+1===_.children.length){g.pop();continue}const C=_.children[++g.at(-1)[1]];if(C===null)continue;const{name:T}=C;if(T==="#text"){const I=document.createTextNode(C.value);m.push(I),S.append(I);continue}const N=(y=C==null?void 0:C.attributes)!=null&&y.xmlns?document.createElementNS(C.attributes.xmlns,T):document.createElement(T);if(S.append(N),C.attributes&&this.setAttributes({html:N,element:C,storage:i,intent:l,linkService:r}),((v=C.children)==null?void 0:v.length)>0)g.push([C,-1,N]);else if(C.value){const I=document.createTextNode(C.value);u&&lE.shouldBuildText(T)&&m.push(I),N.append(I)}}for(const _ of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))_.setAttribute("readOnly",!0);return{textDivs:m}}static update(e){const i=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=i,e.div.hidden=!1}}const lA=1e3,kCe=9,M0=new WeakSet;class AH{static create(e){switch(e.data.annotationType){case mr.LINK:return new bne(e);case mr.TEXT:return new ECe(e);case mr.WIDGET:switch(e.data.fieldType){case"Tx":return new SCe(e);case"Btn":return e.data.radioButton?new wne(e):e.data.checkBox?new CCe(e):new TCe(e);case"Ch":return new DCe(e);case"Sig":return new ACe(e)}return new G0(e);case mr.POPUP:return new x6(e);case mr.FREETEXT:return new Sne(e);case mr.LINE:return new PCe(e);case mr.SQUARE:return new ICe(e);case mr.CIRCLE:return new jCe(e);case mr.POLYLINE:return new Ane(e);case mr.CARET:return new MCe(e);case mr.INK:return new SU(e);case mr.POLYGON:return new RCe(e);case mr.HIGHLIGHT:return new Cne(e);case mr.UNDERLINE:return new OCe(e);case mr.SQUIGGLY:return new FCe(e);case mr.STRIKEOUT:return new UCe(e);case mr.STAMP:return new Tne(e);case mr.FILEATTACHMENT:return new LCe(e);default:return new ar(e)}}}var $b,$w,qw,YE,w6;const PU=class PU{constructor(e,{isRenderable:i=!1,ignoreBorder:r=!1,createQuadrilaterals:o=!1}={}){he(this,YE);he(this,$b,null);he(this,$w,!1);he(this,qw,null);this.isRenderable=i,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,i&&(this.container=this._createContainer(r)),o&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:i,richText:r}){return!!(e!=null&&e.str||i!=null&&i.str||r!=null&&r.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return PU._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;P(this,$b)||te(this,$b,{rect:this.data.rect.slice(0)});const{rect:i}=e;i&&fe(this,YE,w6).call(this,i),(r=P(this,qw))==null||r.popup.updateEdited(e)}resetEdited(){var e;P(this,$b)&&(fe(this,YE,w6).call(this,P(this,$b).rect),(e=P(this,qw))==null||e.popup.resetEdited(),te(this,$b,null))}_createContainer(e){const{data:i,parent:{page:r,viewport:o}}=this,l=document.createElement("section");l.setAttribute("data-annotation-id",i.id),this instanceof G0||(l.tabIndex=lA);const{style:c}=l;if(c.zIndex=this.parent.zIndex++,i.alternativeText&&(l.title=i.alternativeText),i.noRotate&&l.classList.add("norotate"),!i.rect||this instanceof x6){const{rotation:S}=i;return!i.hasOwnCanvas&&S!==0&&this.setRotation(S,l),l}const{width:u,height:h}=this;if(!e&&i.borderStyle.width>0){c.borderWidth=`${i.borderStyle.width}px`;const S=i.borderStyle.horizontalCornerRadius,C=i.borderStyle.verticalCornerRadius;if(S>0||C>0){const N=`calc(${S}px * var(--total-scale-factor)) / calc(${C}px * var(--total-scale-factor))`;c.borderRadius=N}else if(this instanceof wne){const N=`calc(${u}px * var(--total-scale-factor)) / calc(${h}px * var(--total-scale-factor))`;c.borderRadius=N}switch(i.borderStyle.style){case kv.SOLID:c.borderStyle="solid";break;case kv.DASHED:c.borderStyle="dashed";break;case kv.BEVELED:hn("Unimplemented border style: beveled");break;case kv.INSET:hn("Unimplemented border style: inset");break;case kv.UNDERLINE:c.borderBottomStyle="solid";break}const T=i.borderColor||null;T?(te(this,$w,!0),c.borderColor=Wt.makeHexColor(T[0]|0,T[1]|0,T[2]|0)):c.borderWidth=0}const m=Wt.normalizeRect([i.rect[0],r.view[3]-i.rect[1]+r.view[1],i.rect[2],r.view[3]-i.rect[3]+r.view[1]]),{pageWidth:g,pageHeight:y,pageX:v,pageY:_}=o.rawDims;c.left=`${100*(m[0]-v)/g}%`,c.top=`${100*(m[1]-_)/y}%`;const{rotation:A}=i;return i.hasOwnCanvas||A===0?(c.width=`${100*u/g}%`,c.height=`${100*h/y}%`):this.setRotation(A,l),l}setRotation(e,i=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:o}=this.parent.viewport.rawDims;let{width:l,height:c}=this;e%180!==0&&([l,c]=[c,l]),i.style.width=`${100*l/r}%`,i.style.height=`${100*c/o}%`,i.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(i,r,o)=>{const l=o.detail[i],c=l[0],u=l.slice(1);o.target.style[r]=SH[`${c}_HTML`](u),this.annotationStorage.setValue(this.data.id,{[r]:SH[`${c}_rgb`](u)})};return yn(this,"_commonActions",{display:i=>{const{display:r}=i.detail,o=r%2===1;this.container.style.visibility=o?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:o,noPrint:r===1||r===2})},print:i=>{this.annotationStorage.setValue(this.data.id,{noPrint:!i.detail.print})},hidden:i=>{const{hidden:r}=i.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:i=>{setTimeout(()=>i.target.focus({preventScroll:!1}),0)},userName:i=>{i.target.title=i.detail.userName},readonly:i=>{i.target.disabled=i.detail.readonly},required:i=>{this._setRequired(i.target,i.detail.required)},bgColor:i=>{e("bgColor","backgroundColor",i)},fillColor:i=>{e("fillColor","backgroundColor",i)},fgColor:i=>{e("fgColor","color",i)},textColor:i=>{e("textColor","color",i)},borderColor:i=>{e("borderColor","borderColor",i)},strokeColor:i=>{e("strokeColor","borderColor",i)},rotation:i=>{const r=i.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,i){const r=this._commonActions;for(const o of Object.keys(i.detail)){const l=e[o]||r[o];l==null||l(i)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const i=this.annotationStorage.getRawValue(this.data.id);if(!i)return;const r=this._commonActions;for(const[o,l]of Object.entries(i)){const c=r[o];if(c){const u={detail:{[o]:l},target:e};c(u),delete i[o]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[i,r,o,l]=this.data.rect.map(S=>Math.fround(S));if(e.length===8){const[S,C,T,N]=e.subarray(2,6);if(o===S&&l===C&&i===T&&r===N)return}const{style:c}=this.container;let u;if(P(this,$w)){const{borderColor:S,borderWidth:C}=c;c.borderWidth=0,u=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${S}" stroke-width="${C}">`],this.container.classList.add("hasBorder")}const h=o-i,m=l-r,{svgFactory:g}=this,y=g.createElement("svg");y.classList.add("quadrilateralsContainer"),y.setAttribute("width",0),y.setAttribute("height",0);const v=g.createElement("defs");y.append(v);const _=g.createElement("clipPath"),A=`clippath_${this.data.id}`;_.setAttribute("id",A),_.setAttribute("clipPathUnits","objectBoundingBox"),v.append(_);for(let S=2,C=e.length;S<C;S+=8){const T=e[S],N=e[S+1],I=e[S+2],O=e[S+3],F=g.createElement("rect"),U=(I-i)/h,V=(l-N)/m,B=(T-I)/h,Z=(N-O)/m;F.setAttribute("x",U),F.setAttribute("y",V),F.setAttribute("width",B),F.setAttribute("height",Z),_.append(F),u==null||u.push(`<rect vector-effect="non-scaling-stroke" x="${U}" y="${V}" width="${B}" height="${Z}"/>`)}P(this,$w)&&(u.push("</g></svg>')"),c.backgroundImage=u.join("")),this.container.append(y),this.container.style.clipPath=`url(#${A})`}_createPopup(){const{data:e}=this,i=te(this,qw,new x6({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(i.render())}render(){ri("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,i=null){const r=[];if(this._fieldObjects){const o=this._fieldObjects[e];if(o)for(const{page:l,id:c,exportValues:u}of o){if(l===-1||c===i)continue;const h=typeof u=="string"?u:null,m=document.querySelector(`[data-element-id="${c}"]`);if(m&&!M0.has(m)){hn(`_getElementsByName - element not allowed: ${c}`);continue}r.push({id:c,exportValue:h,domElement:m})}return r}for(const o of document.getElementsByName(e)){const{exportValue:l}=o,c=o.getAttribute("data-element-id");c!==i&&M0.has(o)&&r.push({id:c,exportValue:l,domElement:o})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const i of e)i.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:i}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:i})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};$b=new WeakMap,$w=new WeakMap,qw=new WeakMap,YE=new WeakSet,w6=function(e){const{container:{style:i},data:{rect:r,rotation:o},parent:{viewport:{rawDims:{pageWidth:l,pageHeight:c,pageX:u,pageY:h}}}}=this;r==null||r.splice(0,4,...e),i.left=`${100*(e[0]-u)/l}%`,i.top=`${100*(c-e[3]+h)/c}%`,o===0?(i.width=`${100*(e[2]-e[0])/l}%`,i.height=`${100*(e[3]-e[1])/c}%`):this.setRotation(o)};let ar=PU;var Ya,eb,yne,vne;class bne extends ar{constructor(i,r=null){super(i,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});he(this,Ya);this.isTooltipOnly=i.data.isTooltipOnly}render(){const{data:i,linkService:r}=this,o=document.createElement("a");o.setAttribute("data-element-id",i.id);let l=!1;return i.url?(r.addLinkAttributes(o,i.url,i.newWindow),l=!0):i.action?(this._bindNamedAction(o,i.action),l=!0):i.attachment?(fe(this,Ya,yne).call(this,o,i.attachment,i.attachmentDest),l=!0):i.setOCGState?(fe(this,Ya,vne).call(this,o,i.setOCGState),l=!0):i.dest?(this._bindLink(o,i.dest),l=!0):(i.actions&&(i.actions.Action||i.actions["Mouse Up"]||i.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(o,i),l=!0),i.resetForm?(this._bindResetFormAction(o,i.resetForm),l=!0):this.isTooltipOnly&&!l&&(this._bindLink(o,""),l=!0)),this.container.classList.add("linkAnnotation"),l&&this.container.append(o),this.container}_bindLink(i,r){i.href=this.linkService.getDestinationHash(r),i.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&fe(this,Ya,eb).call(this)}_bindNamedAction(i,r){i.href=this.linkService.getAnchorUrl(""),i.onclick=()=>(this.linkService.executeNamedAction(r),!1),fe(this,Ya,eb).call(this)}_bindJSAction(i,r){i.href=this.linkService.getAnchorUrl("");const o=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const l of Object.keys(r.actions)){const c=o.get(l);c&&(i[c]=()=>{var u;return(u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:l}}),!1})}i.onclick||(i.onclick=()=>!1),fe(this,Ya,eb).call(this)}_bindResetFormAction(i,r){const o=i.onclick;if(o||(i.href=this.linkService.getAnchorUrl("")),fe(this,Ya,eb).call(this),!this._fieldObjects){hn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),o||(i.onclick=()=>!1);return}i.onclick=()=>{var y;o==null||o();const{fields:l,refs:c,include:u}=r,h=[];if(l.length!==0||c.length!==0){const v=new Set(c);for(const _ of l){const A=this._fieldObjects[_]||[];for(const{id:S}of A)v.add(S)}for(const _ of Object.values(this._fieldObjects))for(const A of _)v.has(A.id)===u&&h.push(A)}else for(const v of Object.values(this._fieldObjects))h.push(...v);const m=this.annotationStorage,g=[];for(const v of h){const{id:_}=v;switch(g.push(_),v.type){case"text":{const S=v.defaultValue||"";m.setValue(_,{value:S});break}case"checkbox":case"radiobutton":{const S=v.defaultValue===v.exportValues;m.setValue(_,{value:S});break}case"combobox":case"listbox":{const S=v.defaultValue||"";m.setValue(_,{value:S});break}default:continue}const A=document.querySelector(`[data-element-id="${_}"]`);if(A){if(!M0.has(A)){hn(`_bindResetFormAction - element not allowed: ${_}`);continue}}else continue;A.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:g,name:"ResetForm"}})),!1}}}Ya=new WeakSet,eb=function(){this.container.setAttribute("data-internal-link","")},yne=function(i,r,o=null){i.href=this.linkService.getAnchorUrl(""),r.description&&(i.title=r.description),i.onclick=()=>{var l;return(l=this.downloadManager)==null||l.openOrDownloadData(r.content,r.filename,o),!1},fe(this,Ya,eb).call(this)},vne=function(i,r){i.href=this.linkService.getAnchorUrl(""),i.onclick=()=>(this.linkService.executeSetOCGState(r),!1),fe(this,Ya,eb).call(this)};class ECe extends ar{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class G0 extends ar{render(){return this.container}showElementAndHideCanvas(e){var i;this.data.hasOwnCanvas&&(((i=e.previousSibling)==null?void 0:i.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return As.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,i,r,o,l){r.includes("mouse")?e.addEventListener(r,c=>{var u;(u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:o,value:l(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):e.addEventListener(r,c=>{var u;if(r==="blur"){if(!i.focused||!c.relatedTarget)return;i.focused=!1}else if(r==="focus"){if(i.focused)return;i.focused=!0}l&&((u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:o,value:l(c)}}))})}_setEventListeners(e,i,r,o){var l,c,u;for(const[h,m]of r)(m==="Action"||(l=this.data.actions)!=null&&l[m])&&((m==="Focus"||m==="Blur")&&(i||(i={focused:!1})),this._setEventListener(e,i,h,m,o),m==="Focus"&&!((c=this.data.actions)!=null&&c.Blur)?this._setEventListener(e,i,"blur","Blur",null):m==="Blur"&&!((u=this.data.actions)!=null&&u.Focus)&&this._setEventListener(e,i,"focus","Focus",null))}_setBackgroundColor(e){const i=this.data.backgroundColor||null;e.style.backgroundColor=i===null?"transparent":Wt.makeHexColor(i[0],i[1],i[2])}_setTextStyle(e){const i=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,o=this.data.defaultAppearanceData.fontSize||kCe,l=e.style;let c;const u=2,h=m=>Math.round(10*m)/10;if(this.data.multiLine){const m=Math.abs(this.data.rect[3]-this.data.rect[1]-u),g=Math.round(m/(V4*o))||1,y=m/g;c=Math.min(o,h(y/V4))}else{const m=Math.abs(this.data.rect[3]-this.data.rect[1]-u);c=Math.min(o,h(m/V4))}l.fontSize=`calc(${c}px * var(--total-scale-factor))`,l.color=Wt.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(l.textAlign=i[this.data.textAlignment])}_setRequired(e,i){i?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",i)}}class SCe extends G0{constructor(e){const i=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:i})}setPropertyOnSiblings(e,i,r,o){const l=this.annotationStorage;for(const c of this._getElementsByName(e.name,e.id))c.domElement&&(c.domElement[i]=r),l.setValue(c.id,{[o]:r})}render(){var o,l;const e=this.annotationStorage,i=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const c=e.getValue(i,{value:this.data.fieldValue});let u=c.value||"";const h=e.getValue(i,{charLimit:this.data.maxLen}).charLimit;h&&u.length>h&&(u=u.slice(0,h));let m=c.formattedValue||((o=this.data.textContent)==null?void 0:o.join(`
`))||null;m&&this.data.comb&&(m=m.replaceAll(/\s+/g,""));const g={userValue:u,formattedValue:m,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=m??u,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",m??u),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),M0.add(r),r.setAttribute("data-element-id",i),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=lA,this._setRequired(r,this.data.required),h&&(r.maxLength=h),r.addEventListener("input",v=>{e.setValue(i,{value:v.target.value}),this.setPropertyOnSiblings(r,"value",v.target.value,"value"),g.formattedValue=null}),r.addEventListener("resetform",v=>{const _=this.data.defaultFieldValue??"";r.value=g.userValue=_,g.formattedValue=null});let y=v=>{const{formattedValue:_}=g;_!=null&&(v.target.value=_),v.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",_=>{var S;if(g.focused)return;const{target:A}=_;g.userValue&&(A.value=g.userValue),g.lastCommittedValue=A.value,g.commitKey=1,(S=this.data.actions)!=null&&S.Focus||(g.focused=!0)}),r.addEventListener("updatefromsandbox",_=>{this.showElementAndHideCanvas(_.target);const A={value(S){g.userValue=S.detail.value??"",e.setValue(i,{value:g.userValue.toString()}),S.target.value=g.userValue},formattedValue(S){const{formattedValue:C}=S.detail;g.formattedValue=C,C!=null&&S.target!==document.activeElement&&(S.target.value=C),e.setValue(i,{formattedValue:C})},selRange(S){S.target.setSelectionRange(...S.detail.selRange)},charLimit:S=>{var I;const{charLimit:C}=S.detail,{target:T}=S;if(C===0){T.removeAttribute("maxLength");return}T.setAttribute("maxLength",C);let N=g.userValue;!N||N.length<=C||(N=N.slice(0,C),T.value=g.userValue=N,e.setValue(i,{value:N}),(I=this.linkService.eventBus)==null||I.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:N,willCommit:!0,commitKey:1,selStart:T.selectionStart,selEnd:T.selectionEnd}}))}};this._dispatchEventFromSandbox(A,_)}),r.addEventListener("keydown",_=>{var C;g.commitKey=1;let A=-1;if(_.key==="Escape"?A=0:_.key==="Enter"&&!this.data.multiLine?A=2:_.key==="Tab"&&(g.commitKey=3),A===-1)return;const{value:S}=_.target;g.lastCommittedValue!==S&&(g.lastCommittedValue=S,g.userValue=S,(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:S,willCommit:!0,commitKey:A,selStart:_.target.selectionStart,selEnd:_.target.selectionEnd}}))});const v=y;y=null,r.addEventListener("blur",_=>{var S,C;if(!g.focused||!_.relatedTarget)return;(S=this.data.actions)!=null&&S.Blur||(g.focused=!1);const{value:A}=_.target;g.userValue=A,g.lastCommittedValue!==A&&((C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:A,willCommit:!0,commitKey:g.commitKey,selStart:_.target.selectionStart,selEnd:_.target.selectionEnd}})),v(_)}),(l=this.data.actions)!=null&&l.Keystroke&&r.addEventListener("beforeinput",_=>{var F;g.lastCommittedValue=null;const{data:A,target:S}=_,{value:C,selectionStart:T,selectionEnd:N}=S;let I=T,O=N;switch(_.inputType){case"deleteWordBackward":{const U=C.substring(0,T).match(/\w*[^\w]*$/);U&&(I-=U[0].length);break}case"deleteWordForward":{const U=C.substring(T).match(/^[^\w]*\w*/);U&&(O+=U[0].length);break}case"deleteContentBackward":T===N&&(I-=1);break;case"deleteContentForward":T===N&&(O+=1);break}_.preventDefault(),(F=this.linkService.eventBus)==null||F.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:C,change:A||"",willCommit:!1,selStart:I,selEnd:O}})}),this._setEventListeners(r,g,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],_=>_.target.value)}if(y&&r.addEventListener("blur",y),this.data.comb){const _=(this.data.rect[2]-this.data.rect[0])/h;r.classList.add("comb"),r.style.letterSpacing=`calc(${_}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class ACe extends G0{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class CCe extends G0{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,i=this.data,r=i.id;let o=e.getValue(r,{value:i.exportValue===i.fieldValue}).value;typeof o=="string"&&(o=o!=="Off",e.setValue(r,{value:o})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const l=document.createElement("input");return M0.add(l),l.setAttribute("data-element-id",r),l.disabled=i.readOnly,this._setRequired(l,this.data.required),l.type="checkbox",l.name=i.fieldName,o&&l.setAttribute("checked",!0),l.setAttribute("exportValue",i.exportValue),l.tabIndex=lA,l.addEventListener("change",c=>{const{name:u,checked:h}=c.target;for(const m of this._getElementsByName(u,r)){const g=h&&m.exportValue===i.exportValue;m.domElement&&(m.domElement.checked=g),e.setValue(m.id,{value:g})}e.setValue(r,{value:h})}),l.addEventListener("resetform",c=>{const u=i.defaultFieldValue||"Off";c.target.checked=u===i.exportValue}),this.enableScripting&&this.hasJSActions&&(l.addEventListener("updatefromsandbox",c=>{const u={value(h){h.target.checked=h.detail.value!=="Off",e.setValue(r,{value:h.target.checked})}};this._dispatchEventFromSandbox(u,c)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class wne extends G0{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,i=this.data,r=i.id;let o=e.getValue(r,{value:i.fieldValue===i.buttonValue}).value;if(typeof o=="string"&&(o=o!==i.buttonValue,e.setValue(r,{value:o})),o)for(const c of this._getElementsByName(i.fieldName,r))e.setValue(c.id,{value:!1});const l=document.createElement("input");if(M0.add(l),l.setAttribute("data-element-id",r),l.disabled=i.readOnly,this._setRequired(l,this.data.required),l.type="radio",l.name=i.fieldName,o&&l.setAttribute("checked",!0),l.tabIndex=lA,l.addEventListener("change",c=>{const{name:u,checked:h}=c.target;for(const m of this._getElementsByName(u,r))e.setValue(m.id,{value:!1});e.setValue(r,{value:h})}),l.addEventListener("resetform",c=>{const u=i.defaultFieldValue;c.target.checked=u!=null&&u===i.buttonValue}),this.enableScripting&&this.hasJSActions){const c=i.buttonValue;l.addEventListener("updatefromsandbox",u=>{const h={value:m=>{const g=c===m.detail.value;for(const y of this._getElementsByName(m.target.name)){const v=g&&y.id===r;y.domElement&&(y.domElement.checked=v),e.setValue(y.id,{value:v})}}};this._dispatchEventFromSandbox(h,u)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)}return this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class TCe extends bne{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const i=e.lastChild;return this.enableScripting&&this.hasJSActions&&i&&(this._setDefaultPropertiesFromJS(i),i.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class DCe extends G0{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,i=this.data.id,r=e.getValue(i,{value:this.data.fieldValue}),o=document.createElement("select");M0.add(o),o.setAttribute("data-element-id",i),o.disabled=this.data.readOnly,this._setRequired(o,this.data.required),o.name=this.data.fieldName,o.tabIndex=lA;let l=this.data.combo&&this.data.options.length>0;this.data.combo||(o.size=this.data.options.length,this.data.multiSelect&&(o.multiple=!0)),o.addEventListener("resetform",g=>{const y=this.data.defaultFieldValue;for(const v of o.options)v.selected=v.value===y});for(const g of this.data.options){const y=document.createElement("option");y.textContent=g.displayValue,y.value=g.exportValue,r.value.includes(g.exportValue)&&(y.setAttribute("selected",!0),l=!1),o.append(y)}let c=null;if(l){const g=document.createElement("option");g.value=" ",g.setAttribute("hidden",!0),g.setAttribute("selected",!0),o.prepend(g),c=()=>{g.remove(),o.removeEventListener("input",c),c=null},o.addEventListener("input",c)}const u=g=>{const y=g?"value":"textContent",{options:v,multiple:_}=o;return _?Array.prototype.filter.call(v,A=>A.selected).map(A=>A[y]):v.selectedIndex===-1?null:v[v.selectedIndex][y]};let h=u(!1);const m=g=>{const y=g.target.options;return Array.prototype.map.call(y,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(o.addEventListener("updatefromsandbox",g=>{const y={value(v){c==null||c();const _=v.detail.value,A=new Set(Array.isArray(_)?_:[_]);for(const S of o.options)S.selected=A.has(S.value);e.setValue(i,{value:u(!0)}),h=u(!1)},multipleSelection(v){o.multiple=!0},remove(v){const _=o.options,A=v.detail.remove;_[A].selected=!1,o.remove(A),_.length>0&&Array.prototype.findIndex.call(_,C=>C.selected)===-1&&(_[0].selected=!0),e.setValue(i,{value:u(!0),items:m(v)}),h=u(!1)},clear(v){for(;o.length!==0;)o.remove(0);e.setValue(i,{value:null,items:[]}),h=u(!1)},insert(v){const{index:_,displayValue:A,exportValue:S}=v.detail.insert,C=o.children[_],T=document.createElement("option");T.textContent=A,T.value=S,C?C.before(T):o.append(T),e.setValue(i,{value:u(!0),items:m(v)}),h=u(!1)},items(v){const{items:_}=v.detail;for(;o.length!==0;)o.remove(0);for(const A of _){const{displayValue:S,exportValue:C}=A,T=document.createElement("option");T.textContent=S,T.value=C,o.append(T)}o.options.length>0&&(o.options[0].selected=!0),e.setValue(i,{value:u(!0),items:m(v)}),h=u(!1)},indices(v){const _=new Set(v.detail.indices);for(const A of v.target.options)A.selected=_.has(A.index);e.setValue(i,{value:u(!0)}),h=u(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(y,g)}),o.addEventListener("input",g=>{var _;const y=u(!0),v=u(!1);e.setValue(i,{value:y}),g.preventDefault(),(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:h,change:v,changeEx:y,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(o,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],g=>g.target.value)):o.addEventListener("input",function(g){e.setValue(i,{value:u(!0)})}),this.data.combo&&this._setTextStyle(o),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class x6 extends ar{constructor(e){const{data:i,elements:r}=e;super(e,{isRenderable:ar._hasPopupData(i)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new NCe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),i=[];for(const r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",i.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(r=>`${gU}${r}`).join(",")),this.container}}var Hw,TN,DN,Gw,Xw,Ki,Fh,Kw,JE,QE,Zw,Uh,Oc,Lh,eS,Bh,tS,qb,Hb,si,KD,_6,xne,_ne,kne,Ene,ZD,YD,k6;class NCe{constructor({container:e,color:i,elements:r,titleObj:o,modificationDate:l,contentsObj:c,richText:u,parent:h,rect:m,parentRect:g,open:y}){he(this,si);he(this,Hw,fe(this,si,kne).bind(this));he(this,TN,fe(this,si,k6).bind(this));he(this,DN,fe(this,si,YD).bind(this));he(this,Gw,fe(this,si,ZD).bind(this));he(this,Xw,null);he(this,Ki,null);he(this,Fh,null);he(this,Kw,null);he(this,JE,null);he(this,QE,null);he(this,Zw,null);he(this,Uh,!1);he(this,Oc,null);he(this,Lh,null);he(this,eS,null);he(this,Bh,null);he(this,tS,null);he(this,qb,null);he(this,Hb,!1);var v;te(this,Ki,e),te(this,tS,o),te(this,Fh,c),te(this,Bh,u),te(this,QE,h),te(this,Xw,i),te(this,eS,m),te(this,Zw,g),te(this,JE,r),te(this,Kw,vU.toDateObject(l)),this.trigger=r.flatMap(_=>_.getElementsToTriggerPopup());for(const _ of this.trigger)_.addEventListener("click",P(this,Gw)),_.addEventListener("mouseenter",P(this,DN)),_.addEventListener("mouseleave",P(this,TN)),_.classList.add("popupTriggerArea");for(const _ of r)(v=_.container)==null||v.addEventListener("keydown",P(this,Hw));P(this,Ki).hidden=!0,y&&fe(this,si,ZD).call(this)}render(){if(P(this,Oc))return;const e=te(this,Oc,document.createElement("div"));if(e.className="popup",P(this,Xw)){const l=e.style.outlineColor=Wt.makeHexColor(...P(this,Xw));e.style.backgroundColor=`color-mix(in srgb, ${l} 30%, white)`}const i=document.createElement("span");i.className="header";const r=document.createElement("h1");if(i.append(r),{dir:r.dir,str:r.textContent}=P(this,tS),e.append(i),P(this,Kw)){const l=document.createElement("span");l.classList.add("popupDate"),l.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),l.setAttribute("data-l10n-args",JSON.stringify({dateObj:P(this,Kw).valueOf()})),i.append(l)}const o=P(this,si,KD);if(o)gne.render({xfaHtml:o,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const l=this._formatContents(P(this,Fh));e.append(l)}P(this,Ki).append(e)}_formatContents({str:e,dir:i}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=i;const o=e.split(/(?:\r\n?|\n)/);for(let l=0,c=o.length;l<c;++l){const u=o[l];r.append(document.createTextNode(u)),l<c-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:i}){var r;P(this,qb)||te(this,qb,{contentsObj:P(this,Fh),richText:P(this,Bh)}),e&&te(this,Lh,null),i&&(te(this,Bh,fe(this,si,_ne).call(this,i)),te(this,Fh,null)),(r=P(this,Oc))==null||r.remove(),te(this,Oc,null)}resetEdited(){var e;P(this,qb)&&({contentsObj:wo(this,Fh)._,richText:wo(this,Bh)._}=P(this,qb),te(this,qb,null),(e=P(this,Oc))==null||e.remove(),te(this,Oc,null),te(this,Lh,null))}forceHide(){te(this,Hb,this.isVisible),P(this,Hb)&&(P(this,Ki).hidden=!0)}maybeShow(){P(this,Hb)&&(P(this,Oc)||fe(this,si,YD).call(this),te(this,Hb,!1),P(this,Ki).hidden=!1)}get isVisible(){return P(this,Ki).hidden===!1}}Hw=new WeakMap,TN=new WeakMap,DN=new WeakMap,Gw=new WeakMap,Xw=new WeakMap,Ki=new WeakMap,Fh=new WeakMap,Kw=new WeakMap,JE=new WeakMap,QE=new WeakMap,Zw=new WeakMap,Uh=new WeakMap,Oc=new WeakMap,Lh=new WeakMap,eS=new WeakMap,Bh=new WeakMap,tS=new WeakMap,qb=new WeakMap,Hb=new WeakMap,si=new WeakSet,KD=function(){const e=P(this,Bh),i=P(this,Fh);return e!=null&&e.str&&(!(i!=null&&i.str)||i.str===e.str)&&P(this,Bh).html||null},_6=function(){var e,i,r;return((r=(i=(e=P(this,si,KD))==null?void 0:e.attributes)==null?void 0:i.style)==null?void 0:r.fontSize)||0},xne=function(){var e,i,r;return((r=(i=(e=P(this,si,KD))==null?void 0:e.attributes)==null?void 0:i.style)==null?void 0:r.color)||null},_ne=function(e){const i=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:i}]}},o={style:{color:P(this,si,xne),fontSize:P(this,si,_6)?`calc(${P(this,si,_6)}px * var(--total-scale-factor))`:""}};for(const l of e.split(`
`))i.push({name:"span",value:l,attributes:o});return r},kne=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&P(this,Uh))&&fe(this,si,ZD).call(this)},Ene=function(){if(P(this,Lh)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:i,pageHeight:r,pageX:o,pageY:l}}}=P(this,QE);let c=!!P(this,Zw),u=c?P(this,Zw):P(this,eS);for(const A of P(this,JE))if(!u||Wt.intersect(A.data.rect,u)!==null){u=A.data.rect,c=!0;break}const h=Wt.normalizeRect([u[0],e[3]-u[1]+e[1],u[2],e[3]-u[3]+e[1]]),g=c?u[2]-u[0]+5:0,y=h[0]+g,v=h[1];te(this,Lh,[100*(y-o)/i,100*(v-l)/r]);const{style:_}=P(this,Ki);_.left=`${P(this,Lh)[0]}%`,_.top=`${P(this,Lh)[1]}%`},ZD=function(){te(this,Uh,!P(this,Uh)),P(this,Uh)?(fe(this,si,YD).call(this),P(this,Ki).addEventListener("click",P(this,Gw)),P(this,Ki).addEventListener("keydown",P(this,Hw))):(fe(this,si,k6).call(this),P(this,Ki).removeEventListener("click",P(this,Gw)),P(this,Ki).removeEventListener("keydown",P(this,Hw)))},YD=function(){P(this,Oc)||this.render(),this.isVisible?P(this,Uh)&&P(this,Ki).classList.add("focused"):(fe(this,si,Ene).call(this),P(this,Ki).hidden=!1,P(this,Ki).style.zIndex=parseInt(P(this,Ki).style.zIndex)+1e3)},k6=function(){P(this,Ki).classList.remove("focused"),!(P(this,Uh)||!this.isVisible)&&(P(this,Ki).hidden=!0,P(this,Ki).style.zIndex=parseInt(P(this,Ki).style.zIndex)-1e3)};class Sne extends ar{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=dn.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const i of this.textContent){const r=document.createElement("span");r.textContent=i,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var nS;class PCe extends ar{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});he(this,nS,null)}render(){this.container.classList.add("lineAnnotation");const{data:i,width:r,height:o}=this,l=this.svgFactory.create(r,o,!0),c=te(this,nS,this.svgFactory.createElement("svg:line"));return c.setAttribute("x1",i.rect[2]-i.lineCoordinates[0]),c.setAttribute("y1",i.rect[3]-i.lineCoordinates[1]),c.setAttribute("x2",i.rect[2]-i.lineCoordinates[2]),c.setAttribute("y2",i.rect[3]-i.lineCoordinates[3]),c.setAttribute("stroke-width",i.borderStyle.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),l.append(c),this.container.append(l),!i.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return P(this,nS)}addHighlightArea(){this.container.classList.add("highlightArea")}}nS=new WeakMap;var iS;class ICe extends ar{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});he(this,iS,null)}render(){this.container.classList.add("squareAnnotation");const{data:i,width:r,height:o}=this,l=this.svgFactory.create(r,o,!0),c=i.borderStyle.width,u=te(this,iS,this.svgFactory.createElement("svg:rect"));return u.setAttribute("x",c/2),u.setAttribute("y",c/2),u.setAttribute("width",r-c),u.setAttribute("height",o-c),u.setAttribute("stroke-width",c||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!i.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return P(this,iS)}addHighlightArea(){this.container.classList.add("highlightArea")}}iS=new WeakMap;var rS;class jCe extends ar{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});he(this,rS,null)}render(){this.container.classList.add("circleAnnotation");const{data:i,width:r,height:o}=this,l=this.svgFactory.create(r,o,!0),c=i.borderStyle.width,u=te(this,rS,this.svgFactory.createElement("svg:ellipse"));return u.setAttribute("cx",r/2),u.setAttribute("cy",o/2),u.setAttribute("rx",r/2-c/2),u.setAttribute("ry",o/2-c/2),u.setAttribute("stroke-width",c||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!i.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return P(this,rS)}addHighlightArea(){this.container.classList.add("highlightArea")}}rS=new WeakMap;var sS;class Ane extends ar{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});he(this,sS,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:i,vertices:r,borderStyle:o,popupRef:l},width:c,height:u}=this;if(!r)return this.container;const h=this.svgFactory.create(c,u,!0);let m=[];for(let y=0,v=r.length;y<v;y+=2){const _=r[y]-i[0],A=i[3]-r[y+1];m.push(`${_},${A}`)}m=m.join(" ");const g=te(this,sS,this.svgFactory.createElement(this.svgElementName));return g.setAttribute("points",m),g.setAttribute("stroke-width",o.width||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),h.append(g),this.container.append(h),!l&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return P(this,sS)}addHighlightArea(){this.container.classList.add("highlightArea")}}sS=new WeakMap;class RCe extends Ane{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class MCe extends ar{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var oS,Gb,aS,E6;class SU extends ar{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});he(this,aS);he(this,oS,null);he(this,Gb,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?dn.HIGHLIGHT:dn.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:i,rotation:r,inkLists:o,borderStyle:l,popupRef:c}}=this,{transform:u,width:h,height:m}=fe(this,aS,E6).call(this,r,i),g=this.svgFactory.create(h,m,!0),y=te(this,oS,this.svgFactory.createElement("svg:g"));g.append(y),y.setAttribute("stroke-width",l.width||1),y.setAttribute("stroke-linecap","round"),y.setAttribute("stroke-linejoin","round"),y.setAttribute("stroke-miterlimit",10),y.setAttribute("stroke","transparent"),y.setAttribute("fill","transparent"),y.setAttribute("transform",u);for(let v=0,_=o.length;v<_;v++){const A=this.svgFactory.createElement(this.svgElementName);P(this,Gb).push(A),A.setAttribute("points",o[v].join(",")),y.append(A)}return!c&&this.hasPopupData&&this._createPopup(),this.container.append(g),this._editOnDoubleClick(),this.container}updateEdited(i){super.updateEdited(i);const{thickness:r,points:o,rect:l}=i,c=P(this,oS);if(r>=0&&c.setAttribute("stroke-width",r||1),o)for(let u=0,h=P(this,Gb).length;u<h;u++)P(this,Gb)[u].setAttribute("points",o[u].join(","));if(l){const{transform:u,width:h,height:m}=fe(this,aS,E6).call(this,this.data.rotation,l);c.parentElement.setAttribute("viewBox",`0 0 ${h} ${m}`),c.setAttribute("transform",u)}}getElementsToTriggerPopup(){return P(this,Gb)}addHighlightArea(){this.container.classList.add("highlightArea")}}oS=new WeakMap,Gb=new WeakMap,aS=new WeakSet,E6=function(i,r){switch(i){case 90:return{transform:`rotate(90) translate(${-r[0]},${r[1]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};case 180:return{transform:`rotate(180) translate(${-r[2]},${r[1]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]};case 270:return{transform:`rotate(270) translate(${-r[2]},${r[3]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};default:return{transform:`translate(${-r[0]},${r[3]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]}}};class Cne extends ar{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=dn.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class OCe extends ar{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class FCe extends ar{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class UCe extends ar{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Tne extends ar{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=dn.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var lS,cS,S6;class LCe extends ar{constructor(i){var o;super(i,{isRenderable:!0});he(this,cS);he(this,lS,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(o=this.linkService.eventBus)==null||o.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:i,data:r}=this;let o;r.hasAppearance||r.fillAlpha===0?o=document.createElement("div"):(o=document.createElement("img"),o.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(o.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),o.addEventListener("dblclick",fe(this,cS,S6).bind(this)),te(this,lS,o);const{isMac:l}=As.platform;return i.addEventListener("keydown",c=>{c.key==="Enter"&&(l?c.metaKey:c.ctrlKey)&&fe(this,cS,S6).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():o.classList.add("popupTriggerArea"),i.append(o),i}getElementsToTriggerPopup(){return P(this,lS)}addHighlightArea(){this.container.classList.add("highlightArea")}}lS=new WeakMap,cS=new WeakSet,S6=function(){var i;(i=this.downloadManager)==null||i.openOrDownloadData(this.content,this.filename)};var uS,Xb,Jp,dS,Lm,C6,T6;const IU=class IU{constructor({div:e,accessibilityManager:i,annotationCanvasMap:r,annotationEditorUIManager:o,page:l,viewport:c,structTreeLayer:u}){he(this,Lm);he(this,uS,null);he(this,Xb,null);he(this,Jp,new Map);he(this,dS,null);this.div=e,te(this,uS,i),te(this,Xb,r),te(this,dS,u||null),this.page=l,this.viewport=c,this.zIndex=0,this._annotationEditorUIManager=o}hasEditableAnnotations(){return P(this,Jp).size>0}async render(e){var c;const{annotations:i}=e,r=this.div;j0(r,this.viewport);const o=new Map,l={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new dN,annotationStorage:e.annotationStorage||new _U,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const u of i){if(u.noHTML)continue;const h=u.annotationType===mr.POPUP;if(h){const y=o.get(u.id);if(!y)continue;l.elements=y}else if(u.rect[2]===u.rect[0]||u.rect[3]===u.rect[1])continue;l.data=u;const m=AH.create(l);if(!m.isRenderable)continue;if(!h&&u.popupRef){const y=o.get(u.popupRef);y?y.push(m):o.set(u.popupRef,[m])}const g=m.render();u.hidden&&(g.style.visibility="hidden"),await fe(this,Lm,C6).call(this,g,u.id),m._isEditable&&(P(this,Jp).set(m.data.id,m),(c=this._annotationEditorUIManager)==null||c.renderAnnotationElement(m))}fe(this,Lm,T6).call(this)}async addLinkAnnotations(e,i){const r={data:null,layer:this.div,linkService:i,svgFactory:new dN,parent:this};for(const o of e){o.borderStyle||(o.borderStyle=IU._defaultBorderStyle),r.data=o;const l=AH.create(r);if(!l.isRenderable)continue;const c=l.render();await fe(this,Lm,C6).call(this,c,o.id)}}update({viewport:e}){const i=this.div;this.viewport=e,j0(i,{rotation:e.rotation}),fe(this,Lm,T6).call(this),i.hidden=!1}getEditableAnnotations(){return Array.from(P(this,Jp).values())}getEditableAnnotation(e){return P(this,Jp).get(e)}static get _defaultBorderStyle(){return yn(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:kv.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};uS=new WeakMap,Xb=new WeakMap,Jp=new WeakMap,dS=new WeakMap,Lm=new WeakSet,C6=async function(e,i){var c,u;const r=e.firstChild||e,o=r.id=`${gU}${i}`,l=await((c=P(this,dS))==null?void 0:c.getAriaAttributes(o));if(l)for(const[h,m]of l)r.setAttribute(h,m);this.div.append(e),(u=P(this,uS))==null||u.moveElementInDOM(this.div,e,r,!1)},T6=function(){var i;if(!P(this,Xb))return;const e=this.div;for(const[r,o]of P(this,Xb)){const l=e.querySelector(`[data-annotation-id="${r}"]`);if(!l)continue;o.className="annotationContent";const{firstChild:c}=l;c?c.nodeName==="CANVAS"?c.replaceWith(o):c.classList.contains("annotationContent")?c.after(o):c.before(o):l.append(o);const u=P(this,Jp).get(r);u&&(u._hasNoCanvas?((i=this._annotationEditorUIManager)==null||i.setMissingCanvas(r,l.id,o),u._hasNoCanvas=!1):u.canvas=o)}P(this,Xb).clear()};let A6=IU;const hD=/\r\n?|\n/g;var Fc,La,hS,Kb,Ba,vr,Dne,Nne,Pne,JD,tf,QD,e5,Ine,N6,jne;const fi=class fi extends mi{constructor(i){super({...i,name:"freeTextEditor"});he(this,vr);he(this,Fc);he(this,La,"");he(this,hS,`${this.id}-editor`);he(this,Kb,null);he(this,Ba);te(this,Fc,i.color||fi._defaultColor||mi._defaultLineColor),te(this,Ba,i.fontSize||fi._defaultFontSize)}static get _keyboardManager(){const i=fi.prototype,r=c=>c.isEmpty(),o=R0.TRANSLATE_SMALL,l=R0.TRANSLATE_BIG;return yn(this,"_keyboardManager",new oA([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],i.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],i.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],i._translateEmpty,{args:[-o,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],i._translateEmpty,{args:[-l,0],checker:r}],[["ArrowRight","mac+ArrowRight"],i._translateEmpty,{args:[o,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],i._translateEmpty,{args:[l,0],checker:r}],[["ArrowUp","mac+ArrowUp"],i._translateEmpty,{args:[0,-o],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],i._translateEmpty,{args:[0,-l],checker:r}],[["ArrowDown","mac+ArrowDown"],i._translateEmpty,{args:[0,o],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],i._translateEmpty,{args:[0,l],checker:r}]]))}static initialize(i,r){mi.initialize(i,r);const o=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(o.getPropertyValue("--freetext-padding"))}static updateDefaultParams(i,r){switch(i){case En.FREETEXT_SIZE:fi._defaultFontSize=r;break;case En.FREETEXT_COLOR:fi._defaultColor=r;break}}updateParams(i,r){switch(i){case En.FREETEXT_SIZE:fe(this,vr,Dne).call(this,r);break;case En.FREETEXT_COLOR:fe(this,vr,Nne).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[En.FREETEXT_SIZE,fi._defaultFontSize],[En.FREETEXT_COLOR,fi._defaultColor||mi._defaultLineColor]]}get propertiesToUpdate(){return[[En.FREETEXT_SIZE,P(this,Ba)],[En.FREETEXT_COLOR,P(this,Fc)]]}_translateEmpty(i,r){this._uiManager.translateSelectedEditors(i,r,!0)}getInitialTranslation(){const i=this.parentScale;return[-fi._internalPadding*i,-(fi._internalPadding+P(this,Ba))*i]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(dn.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),te(this,Kb,new AbortController);const i=this._uiManager.combinedSignal(P(this,Kb));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:i}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:i}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:i}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:i}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:i})}disableEditMode(){var i;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",P(this,hS)),this._isDraggable=!0,(i=P(this,Kb))==null||i.abort(),te(this,Kb,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(i){this._focusEventsAllowed&&(super.focusin(i),i.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(i){var r;this.width||(this.enableEditMode(),i&&this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const i=P(this,La),r=te(this,La,fe(this,vr,Pne).call(this).trimEnd());if(i===r)return;const o=l=>{if(te(this,La,l),!l){this.remove();return}fe(this,vr,e5).call(this),this._uiManager.rebuild(this),fe(this,vr,JD).call(this)};this.addCommands({cmd:()=>{o(r)},undo:()=>{o(i)},mustExec:!1}),fe(this,vr,JD).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(i){this.enterInEditMode()}keydown(i){i.target===this.div&&i.key==="Enter"&&(this.enterInEditMode(),i.preventDefault())}editorDivKeydown(i){fi._keyboardManager.exec(this,i)}editorDivFocus(i){this.isEditing=!0}editorDivBlur(i){this.isEditing=!1}editorDivInput(i){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let i,r;(this._isCopy||this.annotationElementId)&&(i=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",P(this,hS)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:o}=this.editorDiv;if(o.fontSize=`calc(${P(this,Ba)}px * var(--total-scale-factor))`,o.color=P(this,Fc),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),xU(this,this.div,["dblclick","keydown"]),this._isCopy||this.annotationElementId){const[l,c]=this.parentDimensions;if(this.annotationElementId){const{position:u}=this._initialData;let[h,m]=this.getInitialTranslation();[h,m]=this.pageTranslationToScreen(h,m);const[g,y]=this.pageDimensions,[v,_]=this.pageTranslation;let A,S;switch(this.rotation){case 0:A=i+(u[0]-v)/g,S=r+this.height-(u[1]-_)/y;break;case 90:A=i+(u[0]-v)/g,S=r-(u[1]-_)/y,[h,m]=[m,-h];break;case 180:A=i-this.width+(u[0]-v)/g,S=r-(u[1]-_)/y,[h,m]=[-h,-m];break;case 270:A=i+(u[0]-v-this.height*y)/g,S=r+(u[1]-_-this.width*g)/y,[h,m]=[-m,h];break}this.setAt(A*l,S*c,h,m)}else this._moveAfterPaste(i,r);fe(this,vr,e5).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(i){var A,S,C;const r=i.clipboardData||window.clipboardData,{types:o}=r;if(o.length===1&&o[0]==="text/plain")return;i.preventDefault();const l=fe(A=fi,tf,N6).call(A,r.getData("text")||"").replaceAll(hD,`
`);if(!l)return;const c=window.getSelection();if(!c.rangeCount)return;this.editorDiv.normalize(),c.deleteFromDocument();const u=c.getRangeAt(0);if(!l.includes(`
`)){u.insertNode(document.createTextNode(l)),this.editorDiv.normalize(),c.collapseToStart();return}const{startContainer:h,startOffset:m}=u,g=[],y=[];if(h.nodeType===Node.TEXT_NODE){const T=h.parentElement;if(y.push(h.nodeValue.slice(m).replaceAll(hD,"")),T!==this.editorDiv){let N=g;for(const I of this.editorDiv.childNodes){if(I===T){N=y;continue}N.push(fe(S=fi,tf,QD).call(S,I))}}g.push(h.nodeValue.slice(0,m).replaceAll(hD,""))}else if(h===this.editorDiv){let T=g,N=0;for(const I of this.editorDiv.childNodes)N++===m&&(T=y),T.push(fe(C=fi,tf,QD).call(C,I))}te(this,La,`${g.join(`
`)}${l}${y.join(`
`)}`),fe(this,vr,e5).call(this);const v=new Range;let _=Math.sumPrecise(g.map(T=>T.length));for(const{firstChild:T}of this.editorDiv.childNodes)if(T.nodeType===Node.TEXT_NODE){const N=T.nodeValue.length;if(_<=N){v.setStart(T,_),v.setEnd(T,_);break}_-=N}c.removeAllRanges(),c.addRange(v)}get contentDiv(){return this.editorDiv}static async deserialize(i,r,o){var u;let l=null;if(i instanceof Sne){const{data:{defaultAppearanceData:{fontSize:h,fontColor:m},rect:g,rotation:y,id:v,popupRef:_},textContent:A,textPosition:S,parent:{page:{pageNumber:C}}}=i;if(!A||A.length===0)return null;l=i={annotationType:dn.FREETEXT,color:Array.from(m),fontSize:h,value:A.join(`
`),position:S,pageIndex:C-1,rect:g.slice(0),rotation:y,id:v,deleted:!1,popupRef:_}}const c=await super.deserialize(i,r,o);return te(c,Ba,i.fontSize),te(c,Fc,Wt.makeHexColor(...i.color)),te(c,La,fe(u=fi,tf,N6).call(u,i.value)),c.annotationElementId=i.id||null,c._initialData=l,c}serialize(i=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=fi._internalPadding*this.parentScale,o=this.getRect(r,r),l=mi._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:P(this,Fc)),c={annotationType:dn.FREETEXT,color:l,fontSize:P(this,Ba),value:fe(this,vr,Ine).call(this),pageIndex:this.pageIndex,rect:o,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return i?(c.isCopy=!0,c):this.annotationElementId&&!fe(this,vr,jne).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(i){const r=super.renderAnnotationElement(i);if(this.deleted)return r;const{style:o}=r;o.fontSize=`calc(${P(this,Ba)}px * var(--total-scale-factor))`,o.color=P(this,Fc),r.replaceChildren();for(const c of P(this,La).split(`
`)){const u=document.createElement("div");u.append(c?document.createTextNode(c):document.createElement("br")),r.append(u)}const l=fi._internalPadding*this.parentScale;return i.updateEdited({rect:this.getRect(l,l),popupContent:P(this,La)}),r}resetAnnotationElement(i){super.resetAnnotationElement(i),i.resetEdited()}};Fc=new WeakMap,La=new WeakMap,hS=new WeakMap,Kb=new WeakMap,Ba=new WeakMap,vr=new WeakSet,Dne=function(i){const r=l=>{this.editorDiv.style.fontSize=`calc(${l}px * var(--total-scale-factor))`,this.translate(0,-(l-P(this,Ba))*this.parentScale),te(this,Ba,l),fe(this,vr,JD).call(this)},o=P(this,Ba);this.addCommands({cmd:r.bind(this,i),undo:r.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:En.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Nne=function(i){const r=l=>{te(this,Fc,this.editorDiv.style.color=l)},o=P(this,Fc);this.addCommands({cmd:r.bind(this,i),undo:r.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:En.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Pne=function(){var o;const i=[];this.editorDiv.normalize();let r=null;for(const l of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&l.nodeName==="BR"||(i.push(fe(o=fi,tf,QD).call(o,l)),r=l);return i.join(`
`)},JD=function(){const[i,r]=this.parentDimensions;let o;if(this.isAttachedToDOM)o=this.div.getBoundingClientRect();else{const{currentLayer:l,div:c}=this,u=c.style.display,h=c.classList.contains("hidden");c.classList.remove("hidden"),c.style.display="hidden",l.div.append(this.div),o=c.getBoundingClientRect(),c.remove(),c.style.display=u,c.classList.toggle("hidden",h)}this.rotation%180===this.parentRotation%180?(this.width=o.width/i,this.height=o.height/r):(this.width=o.height/i,this.height=o.width/r),this.fixAndSetPosition()},tf=new WeakSet,QD=function(i){return(i.nodeType===Node.TEXT_NODE?i.nodeValue:i.innerText).replaceAll(hD,"")},e5=function(){if(this.editorDiv.replaceChildren(),!!P(this,La))for(const i of P(this,La).split(`
`)){const r=document.createElement("div");r.append(i?document.createTextNode(i):document.createElement("br")),this.editorDiv.append(r)}},Ine=function(){return P(this,La).replaceAll(" "," ")},N6=function(i){return i.replaceAll(" "," ")},jne=function(i){const{value:r,fontSize:o,color:l,pageIndex:c}=this._initialData;return this._hasBeenMoved||i.value!==r||i.fontSize!==o||i.color.some((u,h)=>u!==l[h])||i.pageIndex!==c},he(fi,tf),mt(fi,"_freeTextDefaultContent",""),mt(fi,"_internalPadding",0),mt(fi,"_defaultColor",null),mt(fi,"_defaultFontSize",10),mt(fi,"_type","freetext"),mt(fi,"_editorType",dn.FREETEXT);let D6=fi;class Ct{toSVGPath(){ri("Abstract method `toSVGPath` must be implemented.")}get box(){ri("Abstract getter `box` must be implemented.")}serialize(e,i){ri("Abstract method `serialize` must be implemented.")}static _rescale(e,i,r,o,l,c){c||(c=new Float32Array(e.length));for(let u=0,h=e.length;u<h;u+=2)c[u]=i+e[u]*o,c[u+1]=r+e[u+1]*l;return c}static _rescaleAndSwap(e,i,r,o,l,c){c||(c=new Float32Array(e.length));for(let u=0,h=e.length;u<h;u+=2)c[u]=i+e[u+1]*o,c[u+1]=r+e[u]*l;return c}static _translate(e,i,r,o){o||(o=new Float32Array(e.length));for(let l=0,c=e.length;l<c;l+=2)o[l]=i+e[l],o[l+1]=r+e[l+1];return o}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,i,r,o,l){switch(l){case 90:return[1-i/r,e/o];case 180:return[1-e/r,1-i/o];case 270:return[i/r,1-e/o];default:return[e/r,i/o]}}static _normalizePagePoint(e,i,r){switch(r){case 90:return[1-i,e];case 180:return[1-e,1-i];case 270:return[i,1-e];default:return[e,i]}}static createBezierPoints(e,i,r,o,l,c){return[(e+5*r)/6,(i+5*o)/6,(5*r+l)/6,(5*o+c)/6,(r+l)/2,(o+c)/2]}}mt(Ct,"PRECISION",1e-4);var za,Uc,Yw,Jw,rd,bn,Zb,Yb,fS,pS,Qw,e1,Qp,mS,NN,PN,Pr,$k,Rne,Mne,One,Fne,Une,Lne;const vh=class vh{constructor({x:e,y:i},r,o,l,c,u=0){he(this,Pr);he(this,za);he(this,Uc,[]);he(this,Yw);he(this,Jw);he(this,rd,[]);he(this,bn,new Float32Array(18));he(this,Zb);he(this,Yb);he(this,fS);he(this,pS);he(this,Qw);he(this,e1);he(this,Qp,[]);te(this,za,r),te(this,e1,l*o),te(this,Jw,c),P(this,bn).set([NaN,NaN,NaN,NaN,e,i],6),te(this,Yw,u),te(this,pS,P(vh,mS)*o),te(this,fS,P(vh,PN)*o),te(this,Qw,o),P(this,Qp).push(e,i)}isEmpty(){return isNaN(P(this,bn)[8])}add({x:e,y:i}){var Z;te(this,Zb,e),te(this,Yb,i);const[r,o,l,c]=P(this,za);let[u,h,m,g]=P(this,bn).subarray(8,12);const y=e-m,v=i-g,_=Math.hypot(y,v);if(_<P(this,fS))return!1;const A=_-P(this,pS),S=A/_,C=S*y,T=S*v;let N=u,I=h;u=m,h=g,m+=C,g+=T,(Z=P(this,Qp))==null||Z.push(e,i);const O=-T/A,F=C/A,U=O*P(this,e1),V=F*P(this,e1);return P(this,bn).set(P(this,bn).subarray(2,8),0),P(this,bn).set([m+U,g+V],4),P(this,bn).set(P(this,bn).subarray(14,18),12),P(this,bn).set([m-U,g-V],16),isNaN(P(this,bn)[6])?(P(this,rd).length===0&&(P(this,bn).set([u+U,h+V],2),P(this,rd).push(NaN,NaN,NaN,NaN,(u+U-r)/l,(h+V-o)/c),P(this,bn).set([u-U,h-V],14),P(this,Uc).push(NaN,NaN,NaN,NaN,(u-U-r)/l,(h-V-o)/c)),P(this,bn).set([N,I,u,h,m,g],6),!this.isEmpty()):(P(this,bn).set([N,I,u,h,m,g],6),Math.abs(Math.atan2(I-h,N-u)-Math.atan2(T,C))<Math.PI/2?([u,h,m,g]=P(this,bn).subarray(2,6),P(this,rd).push(NaN,NaN,NaN,NaN,((u+m)/2-r)/l,((h+g)/2-o)/c),[u,h,N,I]=P(this,bn).subarray(14,18),P(this,Uc).push(NaN,NaN,NaN,NaN,((N+u)/2-r)/l,((I+h)/2-o)/c),!0):([N,I,u,h,m,g]=P(this,bn).subarray(0,6),P(this,rd).push(((N+5*u)/6-r)/l,((I+5*h)/6-o)/c,((5*u+m)/6-r)/l,((5*h+g)/6-o)/c,((u+m)/2-r)/l,((h+g)/2-o)/c),[m,g,u,h,N,I]=P(this,bn).subarray(12,18),P(this,Uc).push(((N+5*u)/6-r)/l,((I+5*h)/6-o)/c,((5*u+m)/6-r)/l,((5*h+g)/6-o)/c,((u+m)/2-r)/l,((h+g)/2-o)/c),!0))}toSVGPath(){if(this.isEmpty())return"";const e=P(this,rd),i=P(this,Uc);if(isNaN(P(this,bn)[6])&&!this.isEmpty())return fe(this,Pr,Rne).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let o=6;o<e.length;o+=6)isNaN(e[o])?r.push(`L${e[o+4]} ${e[o+5]}`):r.push(`C${e[o]} ${e[o+1]} ${e[o+2]} ${e[o+3]} ${e[o+4]} ${e[o+5]}`);fe(this,Pr,One).call(this,r);for(let o=i.length-6;o>=6;o-=6)isNaN(i[o])?r.push(`L${i[o+4]} ${i[o+5]}`):r.push(`C${i[o]} ${i[o+1]} ${i[o+2]} ${i[o+3]} ${i[o+4]} ${i[o+5]}`);return fe(this,Pr,Mne).call(this,r),r.join(" ")}newFreeDrawOutline(e,i,r,o,l,c){return new Bne(e,i,r,o,l,c)}getOutlines(){var y;const e=P(this,rd),i=P(this,Uc),r=P(this,bn),[o,l,c,u]=P(this,za),h=new Float32Array((((y=P(this,Qp))==null?void 0:y.length)??0)+2);for(let v=0,_=h.length-2;v<_;v+=2)h[v]=(P(this,Qp)[v]-o)/c,h[v+1]=(P(this,Qp)[v+1]-l)/u;if(h[h.length-2]=(P(this,Zb)-o)/c,h[h.length-1]=(P(this,Yb)-l)/u,isNaN(r[6])&&!this.isEmpty())return fe(this,Pr,Fne).call(this,h);const m=new Float32Array(P(this,rd).length+24+P(this,Uc).length);let g=e.length;for(let v=0;v<g;v+=2){if(isNaN(e[v])){m[v]=m[v+1]=NaN;continue}m[v]=e[v],m[v+1]=e[v+1]}g=fe(this,Pr,Lne).call(this,m,g);for(let v=i.length-6;v>=6;v-=6)for(let _=0;_<6;_+=2){if(isNaN(i[v+_])){m[g]=m[g+1]=NaN,g+=2;continue}m[g]=i[v+_],m[g+1]=i[v+_+1],g+=2}return fe(this,Pr,Une).call(this,m,g),this.newFreeDrawOutline(m,h,P(this,za),P(this,Qw),P(this,Yw),P(this,Jw))}};za=new WeakMap,Uc=new WeakMap,Yw=new WeakMap,Jw=new WeakMap,rd=new WeakMap,bn=new WeakMap,Zb=new WeakMap,Yb=new WeakMap,fS=new WeakMap,pS=new WeakMap,Qw=new WeakMap,e1=new WeakMap,Qp=new WeakMap,mS=new WeakMap,NN=new WeakMap,PN=new WeakMap,Pr=new WeakSet,$k=function(){const e=P(this,bn).subarray(4,6),i=P(this,bn).subarray(16,18),[r,o,l,c]=P(this,za);return[(P(this,Zb)+(e[0]-i[0])/2-r)/l,(P(this,Yb)+(e[1]-i[1])/2-o)/c,(P(this,Zb)+(i[0]-e[0])/2-r)/l,(P(this,Yb)+(i[1]-e[1])/2-o)/c]},Rne=function(){const[e,i,r,o]=P(this,za),[l,c,u,h]=fe(this,Pr,$k).call(this);return`M${(P(this,bn)[2]-e)/r} ${(P(this,bn)[3]-i)/o} L${(P(this,bn)[4]-e)/r} ${(P(this,bn)[5]-i)/o} L${l} ${c} L${u} ${h} L${(P(this,bn)[16]-e)/r} ${(P(this,bn)[17]-i)/o} L${(P(this,bn)[14]-e)/r} ${(P(this,bn)[15]-i)/o} Z`},Mne=function(e){const i=P(this,Uc);e.push(`L${i[4]} ${i[5]} Z`)},One=function(e){const[i,r,o,l]=P(this,za),c=P(this,bn).subarray(4,6),u=P(this,bn).subarray(16,18),[h,m,g,y]=fe(this,Pr,$k).call(this);e.push(`L${(c[0]-i)/o} ${(c[1]-r)/l} L${h} ${m} L${g} ${y} L${(u[0]-i)/o} ${(u[1]-r)/l}`)},Fne=function(e){const i=P(this,bn),[r,o,l,c]=P(this,za),[u,h,m,g]=fe(this,Pr,$k).call(this),y=new Float32Array(36);return y.set([NaN,NaN,NaN,NaN,(i[2]-r)/l,(i[3]-o)/c,NaN,NaN,NaN,NaN,(i[4]-r)/l,(i[5]-o)/c,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,m,g,NaN,NaN,NaN,NaN,(i[16]-r)/l,(i[17]-o)/c,NaN,NaN,NaN,NaN,(i[14]-r)/l,(i[15]-o)/c],0),this.newFreeDrawOutline(y,e,P(this,za),P(this,Qw),P(this,Yw),P(this,Jw))},Une=function(e,i){const r=P(this,Uc);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],i),i+=6},Lne=function(e,i){const r=P(this,bn).subarray(4,6),o=P(this,bn).subarray(16,18),[l,c,u,h]=P(this,za),[m,g,y,v]=fe(this,Pr,$k).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-l)/u,(r[1]-c)/h,NaN,NaN,NaN,NaN,m,g,NaN,NaN,NaN,NaN,y,v,NaN,NaN,NaN,NaN,(o[0]-l)/u,(o[1]-c)/h],i),i+=24},he(vh,mS,8),he(vh,NN,2),he(vh,PN,P(vh,mS)+P(vh,NN));let hN=vh;var t1,Jb,zh,gS,Va,bS,nr,IN,zne;class Bne extends Ct{constructor(i,r,o,l,c,u){super();he(this,IN);he(this,t1);he(this,Jb,new Float32Array(4));he(this,zh);he(this,gS);he(this,Va);he(this,bS);he(this,nr);te(this,nr,i),te(this,Va,r),te(this,t1,o),te(this,bS,l),te(this,zh,c),te(this,gS,u),this.lastPoint=[NaN,NaN],fe(this,IN,zne).call(this,u);const[h,m,g,y]=P(this,Jb);for(let v=0,_=i.length;v<_;v+=2)i[v]=(i[v]-h)/g,i[v+1]=(i[v+1]-m)/y;for(let v=0,_=r.length;v<_;v+=2)r[v]=(r[v]-h)/g,r[v+1]=(r[v+1]-m)/y}toSVGPath(){const i=[`M${P(this,nr)[4]} ${P(this,nr)[5]}`];for(let r=6,o=P(this,nr).length;r<o;r+=6){if(isNaN(P(this,nr)[r])){i.push(`L${P(this,nr)[r+4]} ${P(this,nr)[r+5]}`);continue}i.push(`C${P(this,nr)[r]} ${P(this,nr)[r+1]} ${P(this,nr)[r+2]} ${P(this,nr)[r+3]} ${P(this,nr)[r+4]} ${P(this,nr)[r+5]}`)}return i.push("Z"),i.join(" ")}serialize([i,r,o,l],c){const u=o-i,h=l-r;let m,g;switch(c){case 0:m=Ct._rescale(P(this,nr),i,l,u,-h),g=Ct._rescale(P(this,Va),i,l,u,-h);break;case 90:m=Ct._rescaleAndSwap(P(this,nr),i,r,u,h),g=Ct._rescaleAndSwap(P(this,Va),i,r,u,h);break;case 180:m=Ct._rescale(P(this,nr),o,r,-u,h),g=Ct._rescale(P(this,Va),o,r,-u,h);break;case 270:m=Ct._rescaleAndSwap(P(this,nr),o,l,-u,-h),g=Ct._rescaleAndSwap(P(this,Va),o,l,-u,-h);break}return{outline:Array.from(m),points:[Array.from(g)]}}get box(){return P(this,Jb)}newOutliner(i,r,o,l,c,u=0){return new hN(i,r,o,l,c,u)}getNewOutline(i,r){const[o,l,c,u]=P(this,Jb),[h,m,g,y]=P(this,t1),v=c*g,_=u*y,A=o*g+h,S=l*y+m,C=this.newOutliner({x:P(this,Va)[0]*v+A,y:P(this,Va)[1]*_+S},P(this,t1),P(this,bS),i,P(this,gS),r??P(this,zh));for(let T=2;T<P(this,Va).length;T+=2)C.add({x:P(this,Va)[T]*v+A,y:P(this,Va)[T+1]*_+S});return C.getOutlines()}}t1=new WeakMap,Jb=new WeakMap,zh=new WeakMap,gS=new WeakMap,Va=new WeakMap,bS=new WeakMap,nr=new WeakMap,IN=new WeakSet,zne=function(i){const r=P(this,nr);let o=r[4],l=r[5];const c=[o,l,o,l];let u=o,h=l;const m=i?Math.max:Math.min;for(let y=6,v=r.length;y<v;y+=6){const _=r[y+4],A=r[y+5];if(isNaN(r[y]))Wt.pointBoundingBox(_,A,c),h<A?(u=_,h=A):h===A&&(u=m(u,_));else{const S=[1/0,1/0,-1/0,-1/0];Wt.bezierBoundingBox(o,l,...r.slice(y,y+6),S),Wt.rectBoundingBox(...S,c),h<S[3]?(u=S[2],h=S[3]):h===S[3]&&(u=m(u,S[2]))}o=_,l=A}const g=P(this,Jb);g[0]=c[0]-P(this,zh),g[1]=c[1]-P(this,zh),g[2]=c[2]-c[0]+2*P(this,zh),g[3]=c[3]-c[1]+2*P(this,zh),this.lastPoint=[u,h]};var yS,vS,em,Lc,Po,Vne,t5,Wne,$ne,I6;class P6{constructor(e,i=0,r=0,o=!0){he(this,Po);he(this,yS);he(this,vS);he(this,em,[]);he(this,Lc,[]);const l=[1/0,1/0,-1/0,-1/0],c=10**-4;for(const{x:_,y:A,width:S,height:C}of e){const T=Math.floor((_-i)/c)*c,N=Math.ceil((_+S+i)/c)*c,I=Math.floor((A-i)/c)*c,O=Math.ceil((A+C+i)/c)*c,F=[T,I,O,!0],U=[N,I,O,!1];P(this,em).push(F,U),Wt.rectBoundingBox(T,I,N,O,l)}const u=l[2]-l[0]+2*r,h=l[3]-l[1]+2*r,m=l[0]-r,g=l[1]-r,y=P(this,em).at(o?-1:-2),v=[y[0],y[2]];for(const _ of P(this,em)){const[A,S,C]=_;_[0]=(A-m)/u,_[1]=(S-g)/h,_[2]=(C-g)/h}te(this,yS,new Float32Array([m,g,u,h])),te(this,vS,v)}getOutlines(){P(this,em).sort((i,r)=>i[0]-r[0]||i[1]-r[1]||i[2]-r[2]);const e=[];for(const i of P(this,em))i[3]?(e.push(...fe(this,Po,I6).call(this,i)),fe(this,Po,Wne).call(this,i)):(fe(this,Po,$ne).call(this,i),e.push(...fe(this,Po,I6).call(this,i)));return fe(this,Po,Vne).call(this,e)}}yS=new WeakMap,vS=new WeakMap,em=new WeakMap,Lc=new WeakMap,Po=new WeakSet,Vne=function(e){const i=[],r=new Set;for(const c of e){const[u,h,m]=c;i.push([u,h,c],[u,m,c])}i.sort((c,u)=>c[1]-u[1]||c[0]-u[0]);for(let c=0,u=i.length;c<u;c+=2){const h=i[c][2],m=i[c+1][2];h.push(m),m.push(h),r.add(h),r.add(m)}const o=[];let l;for(;r.size>0;){const c=r.values().next().value;let[u,h,m,g,y]=c;r.delete(c);let v=u,_=h;for(l=[u,m],o.push(l);;){let A;if(r.has(g))A=g;else if(r.has(y))A=y;else break;r.delete(A),[u,h,m,g,y]=A,v!==u&&(l.push(v,_,u,_===h?h:m),v=u),_=_===h?m:h}l.push(v,_)}return new BCe(o,P(this,yS),P(this,vS))},t5=function(e){const i=P(this,Lc);let r=0,o=i.length-1;for(;r<=o;){const l=r+o>>1,c=i[l][0];if(c===e)return l;c<e?r=l+1:o=l-1}return o+1},Wne=function([,e,i]){const r=fe(this,Po,t5).call(this,e);P(this,Lc).splice(r,0,[e,i])},$ne=function([,e,i]){const r=fe(this,Po,t5).call(this,e);for(let o=r;o<P(this,Lc).length;o++){const[l,c]=P(this,Lc)[o];if(l!==e)break;if(l===e&&c===i){P(this,Lc).splice(o,1);return}}for(let o=r-1;o>=0;o--){const[l,c]=P(this,Lc)[o];if(l!==e)break;if(l===e&&c===i){P(this,Lc).splice(o,1);return}}},I6=function(e){const[i,r,o]=e,l=[[i,r,o]],c=fe(this,Po,t5).call(this,o);for(let u=0;u<c;u++){const[h,m]=P(this,Lc)[u];for(let g=0,y=l.length;g<y;g++){const[,v,_]=l[g];if(!(m<=v||_<=h)){if(v>=h){if(_>m)l[g][1]=m;else{if(y===1)return[];l.splice(g,1),g--,y--}continue}l[g][2]=h,_>m&&l.push([i,m,_])}}}return l};var wS,n1;class BCe extends Ct{constructor(i,r,o){super();he(this,wS);he(this,n1);te(this,n1,i),te(this,wS,r),this.lastPoint=o}toSVGPath(){const i=[];for(const r of P(this,n1)){let[o,l]=r;i.push(`M${o} ${l}`);for(let c=2;c<r.length;c+=2){const u=r[c],h=r[c+1];u===o?(i.push(`V${h}`),l=h):h===l&&(i.push(`H${u}`),o=u)}i.push("Z")}return i.join(" ")}serialize([i,r,o,l],c){const u=[],h=o-i,m=l-r;for(const g of P(this,n1)){const y=new Array(g.length);for(let v=0;v<g.length;v+=2)y[v]=i+g[v]*h,y[v+1]=l-g[v+1]*m;u.push(y)}return u}get box(){return P(this,wS)}get classNamesForOutlining(){return["highlightOutline"]}}wS=new WeakMap,n1=new WeakMap;class j6 extends hN{newFreeDrawOutline(e,i,r,o,l,c){return new zCe(e,i,r,o,l,c)}}class zCe extends Bne{newOutliner(e,i,r,o,l,c=0){return new j6(e,i,r,o,l,c)}}var Bc,Qb,i1,Tr,xS,r1,_S,kS,tm,zc,s1,ES,ii,R6,M6,O6,tb,qne,xp;const Ko=class Ko{constructor({editor:e=null,uiManager:i=null}){he(this,ii);he(this,Bc,null);he(this,Qb,null);he(this,i1);he(this,Tr,null);he(this,xS,!1);he(this,r1,!1);he(this,_S,null);he(this,kS);he(this,tm,null);he(this,zc,null);he(this,s1);var r;e?(te(this,r1,!1),te(this,s1,En.HIGHLIGHT_COLOR),te(this,_S,e)):(te(this,r1,!0),te(this,s1,En.HIGHLIGHT_DEFAULT_COLOR)),te(this,zc,(e==null?void 0:e._uiManager)||i),te(this,kS,P(this,zc)._eventBus),te(this,i1,(e==null?void 0:e.color)||((r=P(this,zc))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),P(Ko,ES)||te(Ko,ES,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return yn(this,"_keyboardManager",new oA([[["Escape","mac+Escape"],Ko.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ko.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ko.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ko.prototype._moveToPrevious],[["Home","mac+Home"],Ko.prototype._moveToBeginning],[["End","mac+End"],Ko.prototype._moveToEnd]]))}renderButton(){const e=te(this,Bc,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const i=P(this,zc)._signal;e.addEventListener("click",fe(this,ii,tb).bind(this),{signal:i}),e.addEventListener("keydown",fe(this,ii,O6).bind(this),{signal:i});const r=te(this,Qb,document.createElement("span"));return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=P(this,i1),e.append(r),e}renderMainDropdown(){const e=te(this,Tr,fe(this,ii,R6).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===P(this,Bc)){fe(this,ii,tb).call(this,e);return}const i=e.target.getAttribute("data-color");i&&fe(this,ii,M6).call(this,i,e)}_moveToNext(e){var i,r;if(!P(this,ii,xp)){fe(this,ii,tb).call(this,e);return}if(e.target===P(this,Bc)){(i=P(this,Tr).firstChild)==null||i.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var i,r;if(e.target===((i=P(this,Tr))==null?void 0:i.firstChild)||e.target===P(this,Bc)){P(this,ii,xp)&&this._hideDropdownFromKeyboard();return}P(this,ii,xp)||fe(this,ii,tb).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var i;if(!P(this,ii,xp)){fe(this,ii,tb).call(this,e);return}(i=P(this,Tr).firstChild)==null||i.focus()}_moveToEnd(e){var i;if(!P(this,ii,xp)){fe(this,ii,tb).call(this,e);return}(i=P(this,Tr).lastChild)==null||i.focus()}hideDropdown(){var e,i;(e=P(this,Tr))==null||e.classList.add("hidden"),(i=P(this,tm))==null||i.abort(),te(this,tm,null)}_hideDropdownFromKeyboard(){var e;if(!P(this,r1)){if(!P(this,ii,xp)){(e=P(this,_S))==null||e.unselect();return}this.hideDropdown(),P(this,Bc).focus({preventScroll:!0,focusVisible:P(this,xS)})}}updateColor(e){if(P(this,Qb)&&(P(this,Qb).style.backgroundColor=e),!P(this,Tr))return;const i=P(this,zc).highlightColors.values();for(const r of P(this,Tr).children)r.setAttribute("aria-selected",i.next().value===e)}destroy(){var e,i;(e=P(this,Bc))==null||e.remove(),te(this,Bc,null),te(this,Qb,null),(i=P(this,Tr))==null||i.remove(),te(this,Tr,null)}};Bc=new WeakMap,Qb=new WeakMap,i1=new WeakMap,Tr=new WeakMap,xS=new WeakMap,r1=new WeakMap,_S=new WeakMap,kS=new WeakMap,tm=new WeakMap,zc=new WeakMap,s1=new WeakMap,ES=new WeakMap,ii=new WeakSet,R6=function(){const e=document.createElement("div"),i=P(this,zc)._signal;e.addEventListener("contextmenu",eu,{signal:i}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[r,o]of P(this,zc).highlightColors){const l=document.createElement("button");l.tabIndex="0",l.role="option",l.setAttribute("data-color",o),l.title=r,l.setAttribute("data-l10n-id",P(Ko,ES)[r]);const c=document.createElement("span");l.append(c),c.className="swatch",c.style.backgroundColor=o,l.setAttribute("aria-selected",o===P(this,i1)),l.addEventListener("click",fe(this,ii,M6).bind(this,o),{signal:i}),e.append(l)}return e.addEventListener("keydown",fe(this,ii,O6).bind(this),{signal:i}),e},M6=function(e,i){i.stopPropagation(),P(this,kS).dispatch("switchannotationeditorparams",{source:this,type:P(this,s1),value:e})},O6=function(e){Ko._keyboardManager.exec(this,e)},tb=function(e){if(P(this,ii,xp)){this.hideDropdown();return}if(te(this,xS,e.detail===0),P(this,tm)||(te(this,tm,new AbortController),window.addEventListener("pointerdown",fe(this,ii,qne).bind(this),{signal:P(this,zc).combinedSignal(P(this,tm))})),P(this,Tr)){P(this,Tr).classList.remove("hidden");return}const i=te(this,Tr,fe(this,ii,R6).call(this));P(this,Bc).append(i)},qne=function(e){var i;(i=P(this,Tr))!=null&&i.contains(e.target)||this.hideDropdown()},xp=function(){return P(this,Tr)&&!P(this,Tr).classList.contains("hidden")},he(Ko,ES,null);let fN=Ko;var o1,SS,Vh,e0,a1,Jo,AS,CS,t0,ql,Wa,ys,l1,Wh,Xs,c1,Hl,TS,fn,F6,n5,Hne,Gne,Xne,U6,nb,Ql,Dv,Kne,i5,qk,Zne,Yne,Jne,Qne,eie;const zn=class zn extends mi{constructor(i){super({...i,name:"highlightEditor"});he(this,fn);he(this,o1,null);he(this,SS,0);he(this,Vh);he(this,e0,null);he(this,a1,null);he(this,Jo,null);he(this,AS,null);he(this,CS,0);he(this,t0,null);he(this,ql,null);he(this,Wa,null);he(this,ys,!1);he(this,l1,null);he(this,Wh);he(this,Xs,null);he(this,c1,"");he(this,Hl);he(this,TS,"");this.color=i.color||zn._defaultColor,te(this,Hl,i.thickness||zn._defaultThickness),te(this,Wh,i.opacity||zn._defaultOpacity),te(this,Vh,i.boxes||null),te(this,TS,i.methodOfCreation||""),te(this,c1,i.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",i.highlightId>-1?(te(this,ys,!0),fe(this,fn,n5).call(this,i),fe(this,fn,nb).call(this)):P(this,Vh)&&(te(this,o1,i.anchorNode),te(this,SS,i.anchorOffset),te(this,AS,i.focusNode),te(this,CS,i.focusOffset),fe(this,fn,F6).call(this),fe(this,fn,nb).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const i=zn.prototype;return yn(this,"_keyboardManager",new oA([[["ArrowLeft","mac+ArrowLeft"],i._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],i._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],i._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],i._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:P(this,ys)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:P(this,Hl),methodOfCreation:P(this,TS)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(i){return{numberOfColors:i.get("color").size}}static initialize(i,r){var o;mi.initialize(i,r),zn._defaultColor||(zn._defaultColor=((o=r.highlightColors)==null?void 0:o.values().next().value)||"#fff066")}static updateDefaultParams(i,r){switch(i){case En.HIGHLIGHT_DEFAULT_COLOR:zn._defaultColor=r;break;case En.HIGHLIGHT_THICKNESS:zn._defaultThickness=r;break}}translateInPage(i,r){}get toolbarPosition(){return P(this,l1)}updateParams(i,r){switch(i){case En.HIGHLIGHT_COLOR:fe(this,fn,Hne).call(this,r);break;case En.HIGHLIGHT_THICKNESS:fe(this,fn,Gne).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[En.HIGHLIGHT_DEFAULT_COLOR,zn._defaultColor],[En.HIGHLIGHT_THICKNESS,zn._defaultThickness]]}get propertiesToUpdate(){return[[En.HIGHLIGHT_COLOR,this.color||zn._defaultColor],[En.HIGHLIGHT_THICKNESS,P(this,Hl)||zn._defaultThickness],[En.HIGHLIGHT_FREE,P(this,ys)]]}async addEditToolbar(){const i=await super.addEditToolbar();return i?(this._uiManager.highlightColors&&(te(this,a1,new fN({editor:this})),i.addColorPicker(P(this,a1))),i):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(fe(this,fn,qk).call(this))}getBaseTranslation(){return[0,0]}getRect(i,r){return super.getRect(i,r,fe(this,fn,qk).call(this))}onceAdded(i){this.annotationElementId||this.parent.addUndoableEditor(this),i&&this.div.focus()}remove(){fe(this,fn,U6).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(fe(this,fn,nb).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(i){var o;let r=!1;this.parent&&!i?fe(this,fn,U6).call(this):i&&(fe(this,fn,nb).call(this,i),r=!this.parent&&((o=this.div)==null?void 0:o.classList.contains("selectedEditor"))),super.setParent(i),this.show(this._isVisible),r&&this.select()}rotate(i){var l,c,u;const{drawLayer:r}=this.parent;let o;P(this,ys)?(i=(i-this.rotation+360)%360,o=fe(l=zn,Ql,Dv).call(l,P(this,ql).box,i)):o=fe(c=zn,Ql,Dv).call(c,[this.x,this.y,this.width,this.height],i),r.updateProperties(P(this,Wa),{bbox:o,root:{"data-main-rotation":i}}),r.updateProperties(P(this,Xs),{bbox:fe(u=zn,Ql,Dv).call(u,P(this,Jo).box,i),root:{"data-main-rotation":i}})}render(){if(this.div)return this.div;const i=super.render();P(this,c1)&&(i.setAttribute("aria-label",P(this,c1)),i.setAttribute("role","mark")),P(this,ys)?i.classList.add("free"):this.div.addEventListener("keydown",fe(this,fn,Kne).bind(this),{signal:this._uiManager._signal});const r=te(this,t0,document.createElement("div"));i.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=P(this,e0);const[o,l]=this.parentDimensions;return this.setDims(this.width*o,this.height*l),xU(this,P(this,t0),["pointerover","pointerleave"]),this.enableEditing(),i}pointerover(){var i;this.isSelected||(i=this.parent)==null||i.drawLayer.updateProperties(P(this,Xs),{rootClass:{hovered:!0}})}pointerleave(){var i;this.isSelected||(i=this.parent)==null||i.drawLayer.updateProperties(P(this,Xs),{rootClass:{hovered:!1}})}_moveCaret(i){switch(this.parent.unselect(this),i){case 0:case 2:fe(this,fn,i5).call(this,!0);break;case 1:case 3:fe(this,fn,i5).call(this,!1);break}}select(){var i;super.select(),P(this,Xs)&&((i=this.parent)==null||i.drawLayer.updateProperties(P(this,Xs),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var i;super.unselect(),P(this,Xs)&&((i=this.parent)==null||i.drawLayer.updateProperties(P(this,Xs),{rootClass:{selected:!1}}),P(this,ys)||fe(this,fn,i5).call(this,!1))}get _mustFixPosition(){return!P(this,ys)}show(i=this._isVisible){super.show(i),this.parent&&(this.parent.drawLayer.updateProperties(P(this,Wa),{rootClass:{hidden:!i}}),this.parent.drawLayer.updateProperties(P(this,Xs),{rootClass:{hidden:!i}}))}static startHighlighting(i,r,{target:o,x:l,y:c}){const{x:u,y:h,width:m,height:g}=o.getBoundingClientRect(),y=new AbortController,v=i.combinedSignal(y),_=A=>{y.abort(),fe(this,Ql,Qne).call(this,i,A)};window.addEventListener("blur",_,{signal:v}),window.addEventListener("pointerup",_,{signal:v}),window.addEventListener("pointerdown",gr,{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",eu,{signal:v}),o.addEventListener("pointermove",fe(this,Ql,Jne).bind(this,i),{signal:v}),this._freeHighlight=new j6({x:l,y:c},[u,h,m,g],i.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=i.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(i,r,o){var S,C,T,N;let l=null;if(i instanceof Cne){const{data:{quadPoints:I,rect:O,rotation:F,id:U,color:V,opacity:B,popupRef:Z},parent:{page:{pageNumber:ae}}}=i;l=i={annotationType:dn.HIGHLIGHT,color:Array.from(V),opacity:B,quadPoints:I,boxes:null,pageIndex:ae-1,rect:O.slice(0),rotation:F,id:U,deleted:!1,popupRef:Z}}else if(i instanceof SU){const{data:{inkLists:I,rect:O,rotation:F,id:U,color:V,borderStyle:{rawWidth:B},popupRef:Z},parent:{page:{pageNumber:ae}}}=i;l=i={annotationType:dn.HIGHLIGHT,color:Array.from(V),thickness:B,inkLists:I,boxes:null,pageIndex:ae-1,rect:O.slice(0),rotation:F,id:U,deleted:!1,popupRef:Z}}const{color:c,quadPoints:u,inkLists:h,opacity:m}=i,g=await super.deserialize(i,r,o);g.color=Wt.makeHexColor(...c),te(g,Wh,m||1),h&&te(g,Hl,i.thickness),g.annotationElementId=i.id||null,g._initialData=l;const[y,v]=g.pageDimensions,[_,A]=g.pageTranslation;if(u){const I=te(g,Vh,[]);for(let O=0;O<u.length;O+=8)I.push({x:(u[O]-_)/y,y:1-(u[O+1]-A)/v,width:(u[O+2]-u[O])/y,height:(u[O+1]-u[O+5])/v});fe(S=g,fn,F6).call(S),fe(C=g,fn,nb).call(C),g.rotate(g.rotation)}else if(h){te(g,ys,!0);const I=h[0],O={x:I[0]-_,y:v-(I[1]-A)},F=new j6(O,[0,0,y,v],1,P(g,Hl)/2,!0,.001);for(let B=0,Z=I.length;B<Z;B+=2)O.x=I[B]-_,O.y=v-(I[B+1]-A),F.add(O);const{id:U,clipPathId:V}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:g.color,"fill-opacity":g._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:F.toSVGPath()}},!0,!0);fe(T=g,fn,n5).call(T,{highlightOutlines:F.getOutlines(),highlightId:U,clipPathId:V}),fe(N=g,fn,nb).call(N),g.rotate(g.parentRotation)}return g}serialize(i=!1){if(this.isEmpty()||i)return null;if(this.deleted)return this.serializeDeleted();const r=this.getRect(0,0),o=mi._colorManager.convert(this.color),l={annotationType:dn.HIGHLIGHT,color:o,opacity:P(this,Wh),thickness:P(this,Hl),quadPoints:fe(this,fn,Zne).call(this),outlines:fe(this,fn,Yne).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:fe(this,fn,qk).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!fe(this,fn,eie).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(i){return i.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};o1=new WeakMap,SS=new WeakMap,Vh=new WeakMap,e0=new WeakMap,a1=new WeakMap,Jo=new WeakMap,AS=new WeakMap,CS=new WeakMap,t0=new WeakMap,ql=new WeakMap,Wa=new WeakMap,ys=new WeakMap,l1=new WeakMap,Wh=new WeakMap,Xs=new WeakMap,c1=new WeakMap,Hl=new WeakMap,TS=new WeakMap,fn=new WeakSet,F6=function(){const i=new P6(P(this,Vh),.001);te(this,ql,i.getOutlines()),[this.x,this.y,this.width,this.height]=P(this,ql).box;const r=new P6(P(this,Vh),.0025,.001,this._uiManager.direction==="ltr");te(this,Jo,r.getOutlines());const{lastPoint:o}=P(this,Jo);te(this,l1,[(o[0]-this.x)/this.width,(o[1]-this.y)/this.height])},n5=function({highlightOutlines:i,highlightId:r,clipPathId:o}){var y,v;if(te(this,ql,i),te(this,Jo,i.getNewOutline(P(this,Hl)/2+1.5,.0025)),r>=0)te(this,Wa,r),te(this,e0,o),this.parent.drawLayer.finalizeDraw(r,{bbox:i.box,path:{d:i.toSVGPath()}}),te(this,Xs,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:P(this,Jo).box,path:{d:P(this,Jo).toSVGPath()}},!0));else if(this.parent){const _=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(P(this,Wa),{bbox:fe(y=zn,Ql,Dv).call(y,P(this,ql).box,(_-this.rotation+360)%360),path:{d:i.toSVGPath()}}),this.parent.drawLayer.updateProperties(P(this,Xs),{bbox:fe(v=zn,Ql,Dv).call(v,P(this,Jo).box,_),path:{d:P(this,Jo).toSVGPath()}})}const[c,u,h,m]=i.box;switch(this.rotation){case 0:this.x=c,this.y=u,this.width=h,this.height=m;break;case 90:{const[_,A]=this.parentDimensions;this.x=u,this.y=1-c,this.width=h*A/_,this.height=m*_/A;break}case 180:this.x=1-c,this.y=1-u,this.width=h,this.height=m;break;case 270:{const[_,A]=this.parentDimensions;this.x=1-u,this.y=c,this.width=h*A/_,this.height=m*_/A;break}}const{lastPoint:g}=P(this,Jo);te(this,l1,[(g[0]-c)/h,(g[1]-u)/m])},Hne=function(i){const r=(c,u)=>{var h,m;this.color=c,te(this,Wh,u),(h=this.parent)==null||h.drawLayer.updateProperties(P(this,Wa),{root:{fill:c,"fill-opacity":u}}),(m=P(this,a1))==null||m.updateColor(c)},o=this.color,l=P(this,Wh);this.addCommands({cmd:r.bind(this,i,zn._defaultOpacity),undo:r.bind(this,o,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:En.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(i)},!0)},Gne=function(i){const r=P(this,Hl),o=l=>{te(this,Hl,l),fe(this,fn,Xne).call(this,l)};this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:En.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:i},!0)},Xne=function(i){if(!P(this,ys))return;fe(this,fn,n5).call(this,{highlightOutlines:P(this,ql).getNewOutline(i/2)}),this.fixAndSetPosition();const[r,o]=this.parentDimensions;this.setDims(this.width*r,this.height*o)},U6=function(){P(this,Wa)===null||!this.parent||(this.parent.drawLayer.remove(P(this,Wa)),te(this,Wa,null),this.parent.drawLayer.remove(P(this,Xs)),te(this,Xs,null))},nb=function(i=this.parent){P(this,Wa)===null&&({id:wo(this,Wa)._,clipPathId:wo(this,e0)._}=i.drawLayer.draw({bbox:P(this,ql).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":P(this,Wh)},rootClass:{highlight:!0,free:P(this,ys)},path:{d:P(this,ql).toSVGPath()}},!1,!0),te(this,Xs,i.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:P(this,ys)},bbox:P(this,Jo).box,path:{d:P(this,Jo).toSVGPath()}},P(this,ys))),P(this,t0)&&(P(this,t0).style.clipPath=P(this,e0)))},Ql=new WeakSet,Dv=function([i,r,o,l],c){switch(c){case 90:return[1-r-l,i,l,o];case 180:return[1-i-o,1-r-l,o,l];case 270:return[r,1-i-o,l,o]}return[i,r,o,l]},Kne=function(i){zn._keyboardManager.exec(this,i)},i5=function(i){if(!P(this,o1))return;const r=window.getSelection();i?r.setPosition(P(this,o1),P(this,SS)):r.setPosition(P(this,AS),P(this,CS))},qk=function(){return P(this,ys)?this.rotation:0},Zne=function(){if(P(this,ys))return null;const[i,r]=this.pageDimensions,[o,l]=this.pageTranslation,c=P(this,Vh),u=new Float32Array(c.length*8);let h=0;for(const{x:m,y:g,width:y,height:v}of c){const _=m*i+o,A=(1-g)*r+l;u[h]=u[h+4]=_,u[h+1]=u[h+3]=A,u[h+2]=u[h+6]=_+y*i,u[h+5]=u[h+7]=A-v*r,h+=8}return u},Yne=function(i){return P(this,ql).serialize(i,fe(this,fn,qk).call(this))},Jne=function(i,r){this._freeHighlight.add(r)&&i.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},Qne=function(i,r){this._freeHighlight.isEmpty()?i.drawLayer.remove(this._freeHighlightId):i.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},eie=function(i){const{color:r}=this._initialData;return i.color.some((o,l)=>o!==r[l])},he(zn,Ql),mt(zn,"_defaultColor",null),mt(zn,"_defaultOpacity",1),mt(zn,"_defaultThickness",12),mt(zn,"_type","highlight"),mt(zn,"_editorType",dn.HIGHLIGHT),mt(zn,"_freeHighlightId",-1),mt(zn,"_freeHighlight",null),mt(zn,"_freeHighlightClipId","");let pN=zn;var n0;class tie{constructor(){he(this,n0,Object.create(null))}updateProperty(e,i){this[e]=i,this.updateSVGProperty(e,i)}updateProperties(e){if(e)for(const[i,r]of Object.entries(e))i.startsWith("_")||this.updateProperty(i,r)}updateSVGProperty(e,i){P(this,n0)[e]=i}toSVGProperties(){const e=P(this,n0);return te(this,n0,Object.create(null)),{root:e}}reset(){te(this,n0,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){ri("Not implemented")}}n0=new WeakMap;var $a,u1,Gr,i0,r0,nm,im,rm,s0,Dn,L6,B6,z6,Hk,nie,r5,Gk,Nv;const Nt=class Nt extends mi{constructor(i){super(i);he(this,Dn);he(this,$a,null);he(this,u1);mt(this,"_drawId",null);te(this,u1,i.mustBeCommitted||!1),this._addOutlines(i)}_addOutlines(i){i.drawOutlines&&(fe(this,Dn,L6).call(this,i),fe(this,Dn,Hk).call(this))}static _mergeSVGProperties(i,r){const o=new Set(Object.keys(i));for(const[l,c]of Object.entries(r))o.has(l)?Object.assign(i[l],c):i[l]=c;return i}static getDefaultDrawingOptions(i){ri("Not implemented")}static get typesMap(){ri("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(i,r){const o=this.typesMap.get(i);o&&this._defaultDrawingOptions.updateProperty(o,r),this._currentParent&&(P(Nt,Gr).updateProperty(o,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(i,r){const o=this.constructor.typesMap.get(i);o&&this._updateProperty(i,o,r)}static get defaultPropertiesToUpdate(){const i=[],r=this._defaultDrawingOptions;for(const[o,l]of this.typesMap)i.push([o,r[l]]);return i}get propertiesToUpdate(){const i=[],{_drawingOptions:r}=this;for(const[o,l]of this.constructor.typesMap)i.push([o,r[l]]);return i}_updateProperty(i,r,o){const l=this._drawingOptions,c=l[r],u=h=>{var g;l.updateProperty(r,h);const m=P(this,$a).updateProperty(r,h);m&&fe(this,Dn,Gk).call(this,m),(g=this.parent)==null||g.drawLayer.updateProperties(this._drawId,l.toSVGProperties())};this.addCommands({cmd:u.bind(this,o),undo:u.bind(this,c),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:i,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,Nt._mergeSVGProperties(P(this,$a).getPathResizingSVGProperties(fe(this,Dn,r5).call(this)),{bbox:fe(this,Dn,Nv).call(this)}))}_onResized(){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,Nt._mergeSVGProperties(P(this,$a).getPathResizedSVGProperties(fe(this,Dn,r5).call(this)),{bbox:fe(this,Dn,Nv).call(this)}))}_onTranslating(i,r){var o;(o=this.parent)==null||o.drawLayer.updateProperties(this._drawId,{bbox:fe(this,Dn,Nv).call(this)})}_onTranslated(){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,Nt._mergeSVGProperties(P(this,$a).getPathTranslatedSVGProperties(fe(this,Dn,r5).call(this),this.parentDimensions),{bbox:fe(this,Dn,Nv).call(this)}))}_onStartDragging(){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(i){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,P(this,u1)&&(te(this,u1,!1),this.commit(),this.parent.setSelected(this),i&&this.isOnScreen&&this.div.focus())}remove(){fe(this,Dn,z6).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(fe(this,Dn,Hk).call(this),fe(this,Dn,Gk).call(this,P(this,$a).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(i){var o;let r=!1;this.parent&&!i?(this._uiManager.removeShouldRescale(this),fe(this,Dn,z6).call(this)):i&&(this._uiManager.addShouldRescale(this),fe(this,Dn,Hk).call(this,i),r=!this.parent&&((o=this.div)==null?void 0:o.classList.contains("selectedEditor"))),super.setParent(i),r&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Nt._mergeSVGProperties({bbox:fe(this,Dn,Nv).call(this)},P(this,$a).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&fe(this,Dn,Gk).call(this,P(this,$a).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let i,r;this._isCopy&&(i=this.x,r=this.y);const o=super.render();o.classList.add("draw");const l=document.createElement("div");o.append(l),l.setAttribute("aria-hidden","true"),l.className="internal";const[c,u]=this.parentDimensions;return this.setDims(this.width*c,this.height*u),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(i,r),o}static createDrawerInstance(i,r,o,l,c){ri("Not implemented")}static startDrawing(i,r,o,l){var C;const{target:c,offsetX:u,offsetY:h,pointerId:m,pointerType:g}=l;if(P(Nt,im)&&P(Nt,im)!==g)return;const{viewport:{rotation:y}}=i,{width:v,height:_}=c.getBoundingClientRect(),A=te(Nt,i0,new AbortController),S=i.combinedSignal(A);if(P(Nt,nm)||te(Nt,nm,m),P(Nt,im)??te(Nt,im,g),window.addEventListener("pointerup",T=>{var N;P(Nt,nm)===T.pointerId?this._endDraw(T):(N=P(Nt,rm))==null||N.delete(T.pointerId)},{signal:S}),window.addEventListener("pointercancel",T=>{var N;P(Nt,nm)===T.pointerId?this._currentParent.endDrawingSession():(N=P(Nt,rm))==null||N.delete(T.pointerId)},{signal:S}),window.addEventListener("pointerdown",T=>{P(Nt,im)===T.pointerType&&((P(Nt,rm)||te(Nt,rm,new Set)).add(T.pointerId),P(Nt,Gr).isCancellable()&&(P(Nt,Gr).removeLastElement(),P(Nt,Gr).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:S}),window.addEventListener("contextmenu",eu,{signal:S}),c.addEventListener("pointermove",this._drawMove.bind(this),{signal:S}),c.addEventListener("touchmove",T=>{T.timeStamp===P(Nt,s0)&&gr(T)},{signal:S}),i.toggleDrawing(),(C=r._editorUndoBar)==null||C.hide(),P(Nt,Gr)){i.drawLayer.updateProperties(this._currentDrawId,P(Nt,Gr).startNew(u,h,v,_,y));return}r.updateUIForDefaultProperties(this),te(Nt,Gr,this.createDrawerInstance(u,h,v,_,y)),te(Nt,r0,this.getDefaultDrawingOptions()),this._currentParent=i,{id:this._currentDrawId}=i.drawLayer.draw(this._mergeSVGProperties(P(Nt,r0).toSVGProperties(),P(Nt,Gr).defaultSVGProperties),!0,!1)}static _drawMove(i){var c;if(te(Nt,s0,-1),!P(Nt,Gr))return;const{offsetX:r,offsetY:o,pointerId:l}=i;if(P(Nt,nm)===l){if(((c=P(Nt,rm))==null?void 0:c.size)>=1){this._endDraw(i);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,P(Nt,Gr).add(r,o)),te(Nt,s0,i.timeStamp),gr(i)}}static _cleanup(i){i&&(this._currentDrawId=-1,this._currentParent=null,te(Nt,Gr,null),te(Nt,r0,null),te(Nt,im,null),te(Nt,s0,NaN)),P(Nt,i0)&&(P(Nt,i0).abort(),te(Nt,i0,null),te(Nt,nm,NaN),te(Nt,rm,null))}static _endDraw(i){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),(i==null?void 0:i.target)===r.div&&r.drawLayer.updateProperties(this._currentDrawId,P(Nt,Gr).end(i.offsetX,i.offsetY)),this.supportMultipleDrawings){const o=P(Nt,Gr),l=this._currentDrawId,c=o.getLastElement();r.addCommands({cmd:()=>{r.drawLayer.updateProperties(l,o.setLastElement(c))},undo:()=>{r.drawLayer.updateProperties(l,o.removeLastElement())},mustExec:!1,type:En.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(i){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(En.DRAW_STEP),!P(Nt,Gr).isEmpty()){const{pageDimensions:[o,l],scale:c}=r,u=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:P(Nt,Gr).getOutlines(o*c,l*c,c,this._INNER_MARGIN),drawingOptions:P(Nt,r0),mustBeCommitted:!i});return this._cleanup(!0),u}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(i){}static deserializeDraw(i,r,o,l,c,u){ri("Not implemented")}static async deserialize(i,r,o){var y,v;const{rawDims:{pageWidth:l,pageHeight:c,pageX:u,pageY:h}}=r.viewport,m=this.deserializeDraw(u,h,l,c,this._INNER_MARGIN,i),g=await super.deserialize(i,r,o);return g.createDrawingOptions(i),fe(y=g,Dn,L6).call(y,{drawOutlines:m}),fe(v=g,Dn,Hk).call(v),g.onScaleChanging(),g.rotate(),g}serializeDraw(i){const[r,o]=this.pageTranslation,[l,c]=this.pageDimensions;return P(this,$a).serialize([r,o,l,c],i)}renderAnnotationElement(i){return i.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};$a=new WeakMap,u1=new WeakMap,Gr=new WeakMap,i0=new WeakMap,r0=new WeakMap,nm=new WeakMap,im=new WeakMap,rm=new WeakMap,s0=new WeakMap,Dn=new WeakSet,L6=function({drawOutlines:i,drawId:r,drawingOptions:o}){te(this,$a,i),this._drawingOptions||(this._drawingOptions=o),r>=0?(this._drawId=r,this.parent.drawLayer.finalizeDraw(r,i.defaultProperties)):this._drawId=fe(this,Dn,B6).call(this,i,this.parent),fe(this,Dn,Gk).call(this,i.box)},B6=function(i,r){const{id:o}=r.drawLayer.draw(Nt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),i.defaultSVGProperties),!1,!1);return o},z6=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Hk=function(i=this.parent){if(!(this._drawId!==null&&this.parent===i)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,i.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=fe(this,Dn,B6).call(this,P(this,$a),i)}},nie=function([i,r,o,l]){const{parentDimensions:[c,u],rotation:h}=this;switch(h){case 90:return[r,1-i,o*(u/c),l*(c/u)];case 180:return[1-i,1-r,o,l];case 270:return[1-r,i,o*(u/c),l*(c/u)];default:return[i,r,o,l]}},r5=function(){const{x:i,y:r,width:o,height:l,parentDimensions:[c,u],rotation:h}=this;switch(h){case 90:return[1-r,i,o*(c/u),l*(u/c)];case 180:return[1-i,1-r,o,l];case 270:return[r,1-i,o*(c/u),l*(u/c)];default:return[i,r,o,l]}},Gk=function(i){if([this.x,this.y,this.width,this.height]=fe(this,Dn,nie).call(this,i),this.div){this.fixAndSetPosition();const[r,o]=this.parentDimensions;this.setDims(this.width*r,this.height*o)}this._onResized()},Nv=function(){const{x:i,y:r,width:o,height:l,rotation:c,parentRotation:u,parentDimensions:[h,m]}=this;switch((c*4+u)/90){case 1:return[1-r-l,i,l,o];case 2:return[1-i-o,1-r-l,o,l];case 3:return[r,1-i-o,l,o];case 4:return[i,r-o*(h/m),l*(m/h),o*(h/m)];case 5:return[1-r,i,o*(h/m),l*(m/h)];case 6:return[1-i-l*(m/h),1-r,l*(m/h),o*(h/m)];case 7:return[r-o*(h/m),1-i-l*(m/h),o*(h/m),l*(m/h)];case 8:return[i-o,r-l,o,l];case 9:return[1-r,i-o,l,o];case 10:return[1-i,1-r,o,l];case 11:return[r-l,1-i,l,o];case 12:return[i-l*(m/h),r,l*(m/h),o*(h/m)];case 13:return[1-r-o*(h/m),i-l*(m/h),o*(h/m),l*(m/h)];case 14:return[1-i,1-r-o*(h/m),l*(m/h),o*(h/m)];case 15:return[r,1-i,o*(h/m),l*(m/h)];default:return[i,r,o,l]}},mt(Nt,"_currentDrawId",-1),mt(Nt,"_currentParent",null),he(Nt,Gr,null),he(Nt,i0,null),he(Nt,r0,null),he(Nt,nm,NaN),he(Nt,im,null),he(Nt,rm,null),he(Nt,s0,NaN),mt(Nt,"_INNER_MARGIN",3);let mN=Nt;var sd,Xr,Kr,o0,d1,ko,vs,Gl,a0,l0,c0,h1,s5;class VCe{constructor(e,i,r,o,l,c){he(this,h1);he(this,sd,new Float64Array(6));he(this,Xr);he(this,Kr);he(this,o0);he(this,d1);he(this,ko);he(this,vs,"");he(this,Gl,0);he(this,a0,new cA);he(this,l0);he(this,c0);te(this,l0,r),te(this,c0,o),te(this,o0,l),te(this,d1,c),[e,i]=fe(this,h1,s5).call(this,e,i);const u=te(this,Xr,[NaN,NaN,NaN,NaN,e,i]);te(this,ko,[e,i]),te(this,Kr,[{line:u,points:P(this,ko)}]),P(this,sd).set(u,0)}updateProperty(e,i){e==="stroke-width"&&te(this,d1,i)}isEmpty(){return!P(this,Kr)||P(this,Kr).length===0}isCancellable(){return P(this,ko).length<=10}add(e,i){[e,i]=fe(this,h1,s5).call(this,e,i);const[r,o,l,c]=P(this,sd).subarray(2,6),u=e-l,h=i-c;return Math.hypot(P(this,l0)*u,P(this,c0)*h)<=2?null:(P(this,ko).push(e,i),isNaN(r)?(P(this,sd).set([l,c,e,i],2),P(this,Xr).push(NaN,NaN,NaN,NaN,e,i),{path:{d:this.toSVGPath()}}):(isNaN(P(this,sd)[0])&&P(this,Xr).splice(6,6),P(this,sd).set([r,o,l,c,e,i],0),P(this,Xr).push(...Ct.createBezierPoints(r,o,l,c,e,i)),{path:{d:this.toSVGPath()}}))}end(e,i){const r=this.add(e,i);return r||(P(this,ko).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,i,r,o,l){te(this,l0,r),te(this,c0,o),te(this,o0,l),[e,i]=fe(this,h1,s5).call(this,e,i);const c=te(this,Xr,[NaN,NaN,NaN,NaN,e,i]);te(this,ko,[e,i]);const u=P(this,Kr).at(-1);return u&&(u.line=new Float32Array(u.line),u.points=new Float32Array(u.points)),P(this,Kr).push({line:c,points:P(this,ko)}),P(this,sd).set(c,0),te(this,Gl,0),this.toSVGPath(),null}getLastElement(){return P(this,Kr).at(-1)}setLastElement(e){return P(this,Kr)?(P(this,Kr).push(e),te(this,Xr,e.line),te(this,ko,e.points),te(this,Gl,0),{path:{d:this.toSVGPath()}}):P(this,a0).setLastElement(e)}removeLastElement(){if(!P(this,Kr))return P(this,a0).removeLastElement();P(this,Kr).pop(),te(this,vs,"");for(let e=0,i=P(this,Kr).length;e<i;e++){const{line:r,points:o}=P(this,Kr)[e];te(this,Xr,r),te(this,ko,o),te(this,Gl,0),this.toSVGPath()}return{path:{d:P(this,vs)}}}toSVGPath(){const e=Ct.svgRound(P(this,Xr)[4]),i=Ct.svgRound(P(this,Xr)[5]);if(P(this,ko).length===2)return te(this,vs,`${P(this,vs)} M ${e} ${i} Z`),P(this,vs);if(P(this,ko).length<=6){const o=P(this,vs).lastIndexOf("M");te(this,vs,`${P(this,vs).slice(0,o)} M ${e} ${i}`),te(this,Gl,6)}if(P(this,ko).length===4){const o=Ct.svgRound(P(this,Xr)[10]),l=Ct.svgRound(P(this,Xr)[11]);return te(this,vs,`${P(this,vs)} L ${o} ${l}`),te(this,Gl,12),P(this,vs)}const r=[];P(this,Gl)===0&&(r.push(`M ${e} ${i}`),te(this,Gl,6));for(let o=P(this,Gl),l=P(this,Xr).length;o<l;o+=6){const[c,u,h,m,g,y]=P(this,Xr).slice(o,o+6).map(Ct.svgRound);r.push(`C${c} ${u} ${h} ${m} ${g} ${y}`)}return te(this,vs,P(this,vs)+r.join(" ")),te(this,Gl,P(this,Xr).length),P(this,vs)}getOutlines(e,i,r,o){const l=P(this,Kr).at(-1);return l.line=new Float32Array(l.line),l.points=new Float32Array(l.points),P(this,a0).build(P(this,Kr),e,i,r,P(this,o0),P(this,d1),o),te(this,sd,null),te(this,Xr,null),te(this,Kr,null),te(this,vs,null),P(this,a0)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}sd=new WeakMap,Xr=new WeakMap,Kr=new WeakMap,o0=new WeakMap,d1=new WeakMap,ko=new WeakMap,vs=new WeakMap,Gl=new WeakMap,a0=new WeakMap,l0=new WeakMap,c0=new WeakMap,h1=new WeakSet,s5=function(e,i){return Ct._normalizePoint(e,i,P(this,l0),P(this,c0),P(this,o0))};var Eo,DS,NS,qa,od,ad,f1,p1,u0,ks,mh,iie,rie,sie;class cA extends Ct{constructor(){super(...arguments);he(this,ks);he(this,Eo);he(this,DS,0);he(this,NS);he(this,qa);he(this,od);he(this,ad);he(this,f1);he(this,p1);he(this,u0)}build(i,r,o,l,c,u,h){te(this,od,r),te(this,ad,o),te(this,f1,l),te(this,p1,c),te(this,u0,u),te(this,NS,h??0),te(this,qa,i),fe(this,ks,rie).call(this)}get thickness(){return P(this,u0)}setLastElement(i){return P(this,qa).push(i),{path:{d:this.toSVGPath()}}}removeLastElement(){return P(this,qa).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const i=[];for(const{line:r}of P(this,qa)){if(i.push(`M${Ct.svgRound(r[4])} ${Ct.svgRound(r[5])}`),r.length===6){i.push("Z");continue}if(r.length===12&&isNaN(r[6])){i.push(`L${Ct.svgRound(r[10])} ${Ct.svgRound(r[11])}`);continue}for(let o=6,l=r.length;o<l;o+=6){const[c,u,h,m,g,y]=r.subarray(o,o+6).map(Ct.svgRound);i.push(`C${c} ${u} ${h} ${m} ${g} ${y}`)}}return i.join("")}serialize([i,r,o,l],c){const u=[],h=[],[m,g,y,v]=fe(this,ks,iie).call(this);let _,A,S,C,T,N,I,O,F;switch(P(this,p1)){case 0:F=Ct._rescale,_=i,A=r+l,S=o,C=-l,T=i+m*o,N=r+(1-g-v)*l,I=i+(m+y)*o,O=r+(1-g)*l;break;case 90:F=Ct._rescaleAndSwap,_=i,A=r,S=o,C=l,T=i+g*o,N=r+m*l,I=i+(g+v)*o,O=r+(m+y)*l;break;case 180:F=Ct._rescale,_=i+o,A=r,S=-o,C=l,T=i+(1-m-y)*o,N=r+g*l,I=i+(1-m)*o,O=r+(g+v)*l;break;case 270:F=Ct._rescaleAndSwap,_=i+o,A=r+l,S=-o,C=-l,T=i+(1-g-v)*o,N=r+(1-m-y)*l,I=i+(1-g)*o,O=r+(1-m)*l;break}for(const{line:U,points:V}of P(this,qa))u.push(F(U,_,A,S,C,c?new Array(U.length):null)),h.push(F(V,_,A,S,C,c?new Array(V.length):null));return{lines:u,points:h,rect:[T,N,I,O]}}static deserialize(i,r,o,l,c,{paths:{lines:u,points:h},rotation:m,thickness:g}){const y=[];let v,_,A,S,C;switch(m){case 0:C=Ct._rescale,v=-i/o,_=r/l+1,A=1/o,S=-1/l;break;case 90:C=Ct._rescaleAndSwap,v=-r/l,_=-i/o,A=1/l,S=1/o;break;case 180:C=Ct._rescale,v=i/o+1,_=-r/l,A=-1/o,S=1/l;break;case 270:C=Ct._rescaleAndSwap,v=r/l+1,_=i/o+1,A=-1/l,S=-1/o;break}if(!u){u=[];for(const N of h){const I=N.length;if(I===2){u.push(new Float32Array([NaN,NaN,NaN,NaN,N[0],N[1]]));continue}if(I===4){u.push(new Float32Array([NaN,NaN,NaN,NaN,N[0],N[1],NaN,NaN,NaN,NaN,N[2],N[3]]));continue}const O=new Float32Array(3*(I-2));u.push(O);let[F,U,V,B]=N.subarray(0,4);O.set([NaN,NaN,NaN,NaN,F,U],0);for(let Z=4;Z<I;Z+=2){const ae=N[Z],me=N[Z+1];O.set(Ct.createBezierPoints(F,U,V,B,ae,me),(Z-2)*3),[F,U,V,B]=[V,B,ae,me]}}}for(let N=0,I=u.length;N<I;N++)y.push({line:C(u[N].map(O=>O??NaN),v,_,A,S),points:C(h[N].map(O=>O??NaN),v,_,A,S)});const T=new this.prototype.constructor;return T.build(y,o,l,1,m,g,c),T}get box(){return P(this,Eo)}updateProperty(i,r){return i==="stroke-width"?fe(this,ks,sie).call(this,r):null}updateParentDimensions([i,r],o){const[l,c]=fe(this,ks,mh).call(this);te(this,od,i),te(this,ad,r),te(this,f1,o);const[u,h]=fe(this,ks,mh).call(this),m=u-l,g=h-c,y=P(this,Eo);return y[0]-=m,y[1]-=g,y[2]+=2*m,y[3]+=2*g,y}updateRotation(i){return te(this,DS,i),{path:{transform:this.rotationTransform}}}get viewBox(){return P(this,Eo).map(Ct.svgRound).join(" ")}get defaultProperties(){const[i,r]=P(this,Eo);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ct.svgRound(i)} ${Ct.svgRound(r)}`}}}get rotationTransform(){const[,,i,r]=P(this,Eo);let o=0,l=0,c=0,u=0,h=0,m=0;switch(P(this,DS)){case 90:l=r/i,c=-i/r,h=i;break;case 180:o=-1,u=-1,h=i,m=r;break;case 270:l=-r/i,c=i/r,m=r;break;default:return""}return`matrix(${o} ${l} ${c} ${u} ${Ct.svgRound(h)} ${Ct.svgRound(m)})`}getPathResizingSVGProperties([i,r,o,l]){const[c,u]=fe(this,ks,mh).call(this),[h,m,g,y]=P(this,Eo);if(Math.abs(g-c)<=Ct.PRECISION||Math.abs(y-u)<=Ct.PRECISION){const C=i+o/2-(h+g/2),T=r+l/2-(m+y/2);return{path:{"transform-origin":`${Ct.svgRound(i)} ${Ct.svgRound(r)}`,transform:`${this.rotationTransform} translate(${C} ${T})`}}}const v=(o-2*c)/(g-2*c),_=(l-2*u)/(y-2*u),A=g/o,S=y/l;return{path:{"transform-origin":`${Ct.svgRound(h)} ${Ct.svgRound(m)}`,transform:`${this.rotationTransform} scale(${A} ${S}) translate(${Ct.svgRound(c)} ${Ct.svgRound(u)}) scale(${v} ${_}) translate(${Ct.svgRound(-c)} ${Ct.svgRound(-u)})`}}}getPathResizedSVGProperties([i,r,o,l]){const[c,u]=fe(this,ks,mh).call(this),h=P(this,Eo),[m,g,y,v]=h;if(h[0]=i,h[1]=r,h[2]=o,h[3]=l,Math.abs(y-c)<=Ct.PRECISION||Math.abs(v-u)<=Ct.PRECISION){const T=i+o/2-(m+y/2),N=r+l/2-(g+v/2);for(const{line:I,points:O}of P(this,qa))Ct._translate(I,T,N,I),Ct._translate(O,T,N,O);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ct.svgRound(i)} ${Ct.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const _=(o-2*c)/(y-2*c),A=(l-2*u)/(v-2*u),S=-_*(m+c)+i+c,C=-A*(g+u)+r+u;if(_!==1||A!==1||S!==0||C!==0)for(const{line:T,points:N}of P(this,qa))Ct._rescale(T,S,C,_,A,T),Ct._rescale(N,S,C,_,A,N);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ct.svgRound(i)} ${Ct.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([i,r],o){const[l,c]=o,u=P(this,Eo),h=i-u[0],m=r-u[1];if(P(this,od)===l&&P(this,ad)===c)for(const{line:g,points:y}of P(this,qa))Ct._translate(g,h,m,g),Ct._translate(y,h,m,y);else{const g=P(this,od)/l,y=P(this,ad)/c;te(this,od,l),te(this,ad,c);for(const{line:v,points:_}of P(this,qa))Ct._rescale(v,h,m,g,y,v),Ct._rescale(_,h,m,g,y,_);u[2]*=g,u[3]*=y}return u[0]=i,u[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Ct.svgRound(i)} ${Ct.svgRound(r)}`}}}get defaultSVGProperties(){const i=P(this,Eo);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Ct.svgRound(i[0])} ${Ct.svgRound(i[1])}`,transform:this.rotationTransform||null},bbox:i}}}Eo=new WeakMap,DS=new WeakMap,NS=new WeakMap,qa=new WeakMap,od=new WeakMap,ad=new WeakMap,f1=new WeakMap,p1=new WeakMap,u0=new WeakMap,ks=new WeakSet,mh=function(i=P(this,u0)){const r=P(this,NS)+i/2*P(this,f1);return P(this,p1)%180===0?[r/P(this,od),r/P(this,ad)]:[r/P(this,ad),r/P(this,od)]},iie=function(){const[i,r,o,l]=P(this,Eo),[c,u]=fe(this,ks,mh).call(this,0);return[i+c,r+u,o-2*c,l-2*u]},rie=function(){const i=te(this,Eo,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:l}of P(this,qa)){if(l.length<=12){for(let h=4,m=l.length;h<m;h+=6)Wt.pointBoundingBox(l[h],l[h+1],i);continue}let c=l[4],u=l[5];for(let h=6,m=l.length;h<m;h+=6){const[g,y,v,_,A,S]=l.subarray(h,h+6);Wt.bezierBoundingBox(c,u,g,y,v,_,A,S,i),c=A,u=S}}const[r,o]=fe(this,ks,mh).call(this);i[0]=Co(i[0]-r,0,1),i[1]=Co(i[1]-o,0,1),i[2]=Co(i[2]+r,0,1),i[3]=Co(i[3]+o,0,1),i[2]-=i[0],i[3]-=i[1]},sie=function(i){const[r,o]=fe(this,ks,mh).call(this);te(this,u0,i);const[l,c]=fe(this,ks,mh).call(this),[u,h]=[l-r,c-o],m=P(this,Eo);return m[0]-=u,m[1]-=h,m[2]+=2*u,m[3]+=2*h,m};class uP extends tie{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:mi._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,i){e==="stroke-width"&&(i??(i=this["stroke-width"]),i*=this._viewParameters.realScale),super.updateSVGProperty(e,i)}clone(){const e=new uP(this._viewParameters);return e.updateAll(this),e}}var jN,oie;const Qv=class Qv extends mN{constructor(i){super({...i,name:"inkEditor"});he(this,jN);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(i,r){mi.initialize(i,r),this._defaultDrawingOptions=new uP(r.viewParameters)}static getDefaultDrawingOptions(i){const r=this._defaultDrawingOptions.clone();return r.updateProperties(i),r}static get supportMultipleDrawings(){return!0}static get typesMap(){return yn(this,"typesMap",new Map([[En.INK_THICKNESS,"stroke-width"],[En.INK_COLOR,"stroke"],[En.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(i,r,o,l,c){return new VCe(i,r,o,l,c,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(i,r,o,l,c,u){return cA.deserialize(i,r,o,l,c,u)}static async deserialize(i,r,o){let l=null;if(i instanceof SU){const{data:{inkLists:u,rect:h,rotation:m,id:g,color:y,opacity:v,borderStyle:{rawWidth:_},popupRef:A},parent:{page:{pageNumber:S}}}=i;l=i={annotationType:dn.INK,color:Array.from(y),thickness:_,opacity:v,paths:{points:u},boxes:null,pageIndex:S-1,rect:h.slice(0),rotation:m,id:g,deleted:!1,popupRef:A}}const c=await super.deserialize(i,r,o);return c.annotationElementId=i.id||null,c._initialData=l,c}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:i,_drawingOptions:r,parent:o}=this;r.updateSVGProperty("stroke-width"),o.drawLayer.updateProperties(i,r.toSVGProperties())}static onScaleChangingWhenDrawing(){const i=this._currentParent;i&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:i,thickness:r,opacity:o}){this._drawingOptions=Qv.getDefaultDrawingOptions({stroke:Wt.makeHexColor(...i),"stroke-width":r,"stroke-opacity":o})}serialize(i=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:r,points:o,rect:l}=this.serializeDraw(i),{_drawingOptions:{stroke:c,"stroke-opacity":u,"stroke-width":h}}=this,m={annotationType:dn.INK,color:mi._colorManager.convert(c),opacity:u,thickness:h,paths:{lines:r,points:o},pageIndex:this.pageIndex,rect:l,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return i?(m.isCopy=!0,m):this.annotationElementId&&!fe(this,jN,oie).call(this,m)?null:(m.id=this.annotationElementId,m)}renderAnnotationElement(i){const{points:r,rect:o}=this.serializeDraw(!1);return i.updateEdited({rect:o,thickness:this._drawingOptions["stroke-width"],points:r}),null}};jN=new WeakSet,oie=function(i){const{color:r,thickness:o,opacity:l,pageIndex:c}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||i.color.some((u,h)=>u!==r[h])||i.thickness!==o||i.opacity!==l||i.pageIndex!==c},mt(Qv,"_type","ink"),mt(Qv,"_editorType",dn.INK),mt(Qv,"_defaultDrawingOptions",null);let V6=Qv;class W6 extends cA{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const fD=8,Sk=3;var d0,Gn,$6,Vc,aie,lie,q6,o5,cie,uie,die,H6,G6,hie;class Kh{static extractContoursFromText(e,{fontFamily:i,fontStyle:r,fontWeight:o},l,c,u,h){let m=new OffscreenCanvas(1,1),g=m.getContext("2d",{alpha:!1});const y=200,v=g.font=`${r} ${o} ${y}px ${i}`,{actualBoundingBoxLeft:_,actualBoundingBoxRight:A,actualBoundingBoxAscent:S,actualBoundingBoxDescent:C,fontBoundingBoxAscent:T,fontBoundingBoxDescent:N,width:I}=g.measureText(e),O=1.5,F=Math.ceil(Math.max(Math.abs(_)+Math.abs(A)||0,I)*O),U=Math.ceil(Math.max(Math.abs(S)+Math.abs(C)||y,Math.abs(T)+Math.abs(N)||y)*O);m=new OffscreenCanvas(F,U),g=m.getContext("2d",{alpha:!0,willReadFrequently:!0}),g.font=v,g.filter="grayscale(1)",g.fillStyle="white",g.fillRect(0,0,F,U),g.fillStyle="black",g.fillText(e,F*(O-1)/2,U*(3-O)/2);const V=fe(this,Gn,H6).call(this,g.getImageData(0,0,F,U).data),B=fe(this,Gn,die).call(this,V),Z=fe(this,Gn,G6).call(this,B),ae=fe(this,Gn,q6).call(this,V,F,U,Z);return this.processDrawnLines({lines:{curves:ae,width:F,height:U},pageWidth:l,pageHeight:c,rotation:u,innerMargin:h,mustSmooth:!0,areContours:!0})}static process(e,i,r,o,l){const[c,u,h]=fe(this,Gn,hie).call(this,e),[m,g]=fe(this,Gn,uie).call(this,c,u,h,Math.hypot(u,h)*P(this,d0).sigmaSFactor,P(this,d0).sigmaR,P(this,d0).kernelSize),y=fe(this,Gn,G6).call(this,g),v=fe(this,Gn,q6).call(this,m,u,h,y);return this.processDrawnLines({lines:{curves:v,width:u,height:h},pageWidth:i,pageHeight:r,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:i,pageHeight:r,rotation:o,innerMargin:l,mustSmooth:c,areContours:u}){o%180!==0&&([i,r]=[r,i]);const{curves:h,width:m,height:g}=e,y=e.thickness??0,v=[],_=Math.min(i/m,r/g),A=_/i,S=_/r,C=[];for(const{points:N}of h){const I=c?fe(this,Gn,cie).call(this,N):N;if(!I)continue;C.push(I);const O=I.length,F=new Float32Array(O),U=new Float32Array(3*(O===2?2:O-2));if(v.push({line:U,points:F}),O===2){F[0]=I[0]*A,F[1]=I[1]*S,U.set([NaN,NaN,NaN,NaN,F[0],F[1]],0);continue}let[V,B,Z,ae]=I;V*=A,B*=S,Z*=A,ae*=S,F.set([V,B,Z,ae],0),U.set([NaN,NaN,NaN,NaN,V,B],0);for(let me=4;me<O;me+=2){const Q=F[me]=I[me]*A,ge=F[me+1]=I[me+1]*S;U.set(Ct.createBezierPoints(V,B,Z,ae,Q,ge),(me-2)*3),[V,B,Z,ae]=[Z,ae,Q,ge]}}if(v.length===0)return null;const T=u?new W6:new cA;return T.build(v,i,r,1,o,u?0:y,l),{outline:T,newCurves:C,areContours:u,thickness:y,width:m,height:g}}static async compressSignature({outlines:e,areContours:i,thickness:r,width:o,height:l}){let c=1/0,u=-1/0,h=0;for(const I of e){h+=I.length;for(let O=2,F=I.length;O<F;O++){const U=I[O]-I[O-2];c=Math.min(c,U),u=Math.max(u,U)}}let m;c>=-128&&u<=127?m=Int8Array:c>=-32768&&u<=32767?m=Int16Array:m=Int32Array;const g=e.length,y=fD+Sk*g,v=new Uint32Array(y);let _=0;v[_++]=y*Uint32Array.BYTES_PER_ELEMENT+(h-2*g)*m.BYTES_PER_ELEMENT,v[_++]=0,v[_++]=o,v[_++]=l,v[_++]=i?0:1,v[_++]=Math.max(0,Math.floor(r??0)),v[_++]=g,v[_++]=m.BYTES_PER_ELEMENT;for(const I of e)v[_++]=I.length-2,v[_++]=I[0],v[_++]=I[1];const A=new CompressionStream("deflate-raw"),S=A.writable.getWriter();await S.ready,S.write(v);const C=m.prototype.constructor;for(const I of e){const O=new C(I.length-2);for(let F=2,U=I.length;F<U;F++)O[F-2]=I[F]-I[F-2];S.write(O)}S.close();const T=await new Response(A.readable).arrayBuffer(),N=new Uint8Array(T);return pte(N)}static async decompressSignature(e){try{const i=fAe(e),{readable:r,writable:o}=new DecompressionStream("deflate-raw"),l=o.getWriter();await l.ready,l.write(i).then(async()=>{await l.ready,await l.close()}).catch(()=>{});let c=null,u=0;for await(const I of r)c||(c=new Uint8Array(new Uint32Array(I.buffer,0,4)[0])),c.set(I,u),u+=I.length;const h=new Uint32Array(c.buffer,0,c.length>>2),m=h[1];if(m!==0)throw new Error(`Invalid version: ${m}`);const g=h[2],y=h[3],v=h[4]===0,_=h[5],A=h[6],S=h[7],C=[],T=(fD+Sk*A)*Uint32Array.BYTES_PER_ELEMENT;let N;switch(S){case Int8Array.BYTES_PER_ELEMENT:N=new Int8Array(c.buffer,T);break;case Int16Array.BYTES_PER_ELEMENT:N=new Int16Array(c.buffer,T);break;case Int32Array.BYTES_PER_ELEMENT:N=new Int32Array(c.buffer,T);break}u=0;for(let I=0;I<A;I++){const O=h[Sk*I+fD],F=new Float32Array(O+2);C.push(F);for(let U=0;U<Sk-1;U++)F[U]=h[Sk*I+fD+U+1];for(let U=0;U<O;U++)F[U+2]=F[U]+N[u++]}return{areContours:v,thickness:_,outlines:C,width:g,height:y}}catch(i){return hn(`decompressSignature: ${i}`),null}}}d0=new WeakMap,Gn=new WeakSet,$6=function(e,i,r,o){return r-=e,o-=i,r===0?o>0?0:4:r===1?o+6:2-o},Vc=new WeakMap,aie=function(e,i,r,o,l,c,u){const h=fe(this,Gn,$6).call(this,r,o,l,c);for(let m=0;m<8;m++){const g=(-m+h-u+16)%8,y=P(this,Vc)[2*g],v=P(this,Vc)[2*g+1];if(e[(r+y)*i+(o+v)]!==0)return g}return-1},lie=function(e,i,r,o,l,c,u){const h=fe(this,Gn,$6).call(this,r,o,l,c);for(let m=0;m<8;m++){const g=(m+h+u+16)%8,y=P(this,Vc)[2*g],v=P(this,Vc)[2*g+1];if(e[(r+y)*i+(o+v)]!==0)return g}return-1},q6=function(e,i,r,o){const l=e.length,c=new Int32Array(l);for(let g=0;g<l;g++)c[g]=e[g]<=o?1:0;for(let g=1;g<r-1;g++)c[g*i]=c[g*i+i-1]=0;for(let g=0;g<i;g++)c[g]=c[i*r-1-g]=0;let u=1,h;const m=[];for(let g=1;g<r-1;g++){h=1;for(let y=1;y<i-1;y++){const v=g*i+y,_=c[v];if(_===0)continue;let A=g,S=y;if(_===1&&c[v-1]===0)u+=1,S-=1;else if(_>=1&&c[v+1]===0)u+=1,S+=1,_>1&&(h=_);else{_!==1&&(h=Math.abs(_));continue}const C=[y,g],T=S===y+1,N={isHole:T,points:C,id:u,parent:0};m.push(N);let I;for(const me of m)if(me.id===h){I=me;break}I?I.isHole?N.parent=T?I.parent:h:N.parent=T?h:I.parent:N.parent=T?h:0;const O=fe(this,Gn,aie).call(this,c,i,g,y,A,S,0);if(O===-1){c[v]=-u,c[v]!==1&&(h=Math.abs(c[v]));continue}let F=P(this,Vc)[2*O],U=P(this,Vc)[2*O+1];const V=g+F,B=y+U;A=V,S=B;let Z=g,ae=y;for(;;){const me=fe(this,Gn,lie).call(this,c,i,Z,ae,A,S,1);F=P(this,Vc)[2*me],U=P(this,Vc)[2*me+1];const Q=Z+F,ge=ae+U;C.push(ge,Q);const $=Z*i+ae;if(c[$+1]===0?c[$]=-u:c[$]===1&&(c[$]=u),Q===g&&ge===y&&Z===V&&ae===B){c[v]!==1&&(h=Math.abs(c[v]));break}else A=Z,S=ae,Z=Q,ae=ge}}}return m},o5=function(e,i,r,o){if(r-i<=4){for(let V=i;V<r-2;V+=2)o.push(e[V],e[V+1]);return}const l=e[i],c=e[i+1],u=e[r-4]-l,h=e[r-3]-c,m=Math.hypot(u,h),g=u/m,y=h/m,v=g*c-y*l,_=h/u,A=1/m,S=Math.atan(_),C=Math.cos(S),T=Math.sin(S),N=A*(Math.abs(C)+Math.abs(T)),I=A*(1-N+N**2),O=Math.max(Math.atan(Math.abs(T+C)*I),Math.atan(Math.abs(T-C)*I));let F=0,U=i;for(let V=i+2;V<r-2;V+=2){const B=Math.abs(v-g*e[V+1]+y*e[V]);B>F&&(U=V,F=B)}F>(m*O)**2?(fe(this,Gn,o5).call(this,e,i,U+2,o),fe(this,Gn,o5).call(this,e,U,r,o)):o.push(l,c)},cie=function(e){const i=[],r=e.length;return fe(this,Gn,o5).call(this,e,0,r,i),i.push(e[r-2],e[r-1]),i.length<=4?null:i},uie=function(e,i,r,o,l,c){const u=new Float32Array(c**2),h=-2*o**2,m=c>>1;for(let S=0;S<c;S++){const C=(S-m)**2;for(let T=0;T<c;T++)u[S*c+T]=Math.exp((C+(T-m)**2)/h)}const g=new Float32Array(256),y=-2*l**2;for(let S=0;S<256;S++)g[S]=Math.exp(S**2/y);const v=e.length,_=new Uint8Array(v),A=new Uint32Array(256);for(let S=0;S<r;S++)for(let C=0;C<i;C++){const T=S*i+C,N=e[T];let I=0,O=0;for(let U=0;U<c;U++){const V=S+U-m;if(!(V<0||V>=r))for(let B=0;B<c;B++){const Z=C+B-m;if(Z<0||Z>=i)continue;const ae=e[V*i+Z],me=u[U*c+B]*g[Math.abs(ae-N)];I+=ae*me,O+=me}}const F=_[T]=Math.round(I/O);A[F]++}return[_,A]},die=function(e){const i=new Uint32Array(256);for(const r of e)i[r]++;return i},H6=function(e){const i=e.length,r=new Uint8ClampedArray(i>>2);let o=-1/0,l=1/0;for(let u=0,h=r.length;u<h;u++){if(e[(u<<2)+3]===0){o=r[u]=255;continue}const g=r[u]=e[u<<2];g>o&&(o=g),g<l&&(l=g)}const c=255/(o-l);for(let u=0;u<i;u++)r[u]=(r[u]-l)*c;return r},G6=function(e){let i,r=-1/0,o=-1/0;const l=e.findIndex(h=>h!==0);let c=l,u=l;for(i=l;i<256;i++){const h=e[i];h>r&&(i-c>o&&(o=i-c,u=i-1),r=h,c=i)}for(i=u-1;i>=0&&!(e[i]>e[i+1]);i--);return i},hie=function(e){const i=e,{width:r,height:o}=e,{maxDim:l}=P(this,d0);let c=r,u=o;if(r>l||o>l){let v=r,_=o,A=Math.log2(Math.max(r,o)/l);const S=Math.floor(A);A=A===S?S-1:S;for(let T=0;T<A;T++){c=v,u=_,c>l&&(c=Math.ceil(c/2)),u>l&&(u=Math.ceil(u/2));const N=new OffscreenCanvas(c,u);N.getContext("2d").drawImage(e,0,0,v,_,0,0,c,u),v=c,_=u,e!==i&&e.close(),e=N.transferToImageBitmap()}const C=Math.min(l/c,l/u);c=Math.round(c*C),u=Math.round(u*C)}const m=new OffscreenCanvas(c,u).getContext("2d",{willReadFrequently:!0});m.filter="grayscale(1)",m.drawImage(e,0,0,e.width,e.height,0,0,c,u);const g=m.getImageData(0,0,c,u).data;return[fe(this,Gn,H6).call(this,g),c,u]},he(Kh,Gn),he(Kh,d0,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),he(Kh,Vc,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class AU extends tie{constructor(){super(),super.updateProperties({fill:mi._defaultLineColor,"stroke-width":0})}clone(){const e=new AU;return e.updateAll(this),e}}class CU extends uP{constructor(e){super(e),super.updateProperties({stroke:mi._defaultLineColor,"stroke-width":1})}clone(){const e=new CU(this._viewParameters);return e.updateAll(this),e}}var sm,Ha,om,am;const Ra=class Ra extends mN{constructor(i){super({...i,mustBeCommitted:!0,name:"signatureEditor"});he(this,sm,!1);he(this,Ha,null);he(this,om,null);he(this,am,null);this._willKeepAspectRatio=!0,te(this,om,i.signatureData||null),te(this,Ha,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(i,r){mi.initialize(i,r),this._defaultDrawingOptions=new AU,this._defaultDrawnSignatureOptions=new CU(r.viewParameters)}static getDefaultDrawingOptions(i){const r=this._defaultDrawingOptions.clone();return r.updateProperties(i),r}static get supportMultipleDrawings(){return!1}static get typesMap(){return yn(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!P(this,Ha)}}static computeTelemetryFinalData(i){const r=i.get("hasDescription");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let i,r;const{_isCopy:o}=this;if(o&&(this._isCopy=!1,i=this.x,r=this.y),super.render(),this._drawId===null)if(P(this,om)){const{lines:l,mustSmooth:c,areContours:u,description:h,uuid:m,heightInPage:g}=P(this,om),{rawDims:{pageWidth:y,pageHeight:v},rotation:_}=this.parent.viewport,A=Kh.processDrawnLines({lines:l,pageWidth:y,pageHeight:v,rotation:_,innerMargin:Ra._INNER_MARGIN,mustSmooth:c,areContours:u});this.addSignature(A,g,h,m)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return o&&(this._isCopy=!0,this._moveAfterPaste(i,r)),this.div}setUuid(i){te(this,am,i),this.addEditToolbar()}getUuid(){return P(this,am)}get description(){return P(this,Ha)}set description(i){te(this,Ha,i),super.addEditToolbar().then(r=>{r==null||r.updateEditSignatureButton(i)})}getSignaturePreview(){const{newCurves:i,areContours:r,thickness:o,width:l,height:c}=P(this,om),u=Math.max(l,c),h=Kh.processDrawnLines({lines:{curves:i.map(m=>({points:m})),thickness:o,width:l,height:c},pageWidth:u,pageHeight:u,rotation:0,innerMargin:0,mustSmooth:!1,areContours:r});return{areContours:r,outline:h.outline}}async addEditToolbar(){const i=await super.addEditToolbar();return i?(this._uiManager.signatureManager&&P(this,Ha)!==null&&(await i.addEditSignatureButton(this._uiManager.signatureManager,P(this,am),P(this,Ha)),i.show()),i):null}addSignature(i,r,o,l){const{x:c,y:u}=this,{outline:h}=te(this,om,i);te(this,sm,h instanceof W6),te(this,Ha,o),this.div.setAttribute("data-l10n-args",JSON.stringify({description:o}));let m;P(this,sm)?m=Ra.getDefaultDrawingOptions():(m=Ra._defaultDrawnSignatureOptions.clone(),m.updateProperties({"stroke-width":h.thickness})),this._addOutlines({drawOutlines:h,drawingOptions:m});const[g,y]=this.parentDimensions,[,v]=this.pageDimensions;let _=r/v;_=_>=1?.5:_,this.width*=_/this.height,this.width>=1&&(_*=.9/this.width,this.width=.9),this.height=_,this.setDims(g*this.width,y*this.height),this.x=c,this.y=u,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(l),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!l,hasDescription:!!o}}),this.div.hidden=!1}getFromImage(i){const{rawDims:{pageWidth:r,pageHeight:o},rotation:l}=this.parent.viewport;return Kh.process(i,r,o,l,Ra._INNER_MARGIN)}getFromText(i,r){const{rawDims:{pageWidth:o,pageHeight:l},rotation:c}=this.parent.viewport;return Kh.extractContoursFromText(i,r,o,l,c,Ra._INNER_MARGIN)}getDrawnSignature(i){const{rawDims:{pageWidth:r,pageHeight:o},rotation:l}=this.parent.viewport;return Kh.processDrawnLines({lines:i,pageWidth:r,pageHeight:o,rotation:l,innerMargin:Ra._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:i,thickness:r}){i?this._drawingOptions=Ra.getDefaultDrawingOptions():(this._drawingOptions=Ra._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":r}))}serialize(i=!1){if(this.isEmpty())return null;const{lines:r,points:o,rect:l}=this.serializeDraw(i),{_drawingOptions:{"stroke-width":c}}=this,u={annotationType:dn.SIGNATURE,isSignature:!0,areContours:P(this,sm),color:[0,0,0],thickness:P(this,sm)?0:c,pageIndex:this.pageIndex,rect:l,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return i?(u.paths={lines:r,points:o},u.uuid=P(this,am),u.isCopy=!0):u.lines=r,P(this,Ha)&&(u.accessibilityData={type:"Figure",alt:P(this,Ha)}),u}static deserializeDraw(i,r,o,l,c,u){return u.areContours?W6.deserialize(i,r,o,l,c,u):cA.deserialize(i,r,o,l,c,u)}static async deserialize(i,r,o){var c;const l=await super.deserialize(i,r,o);return te(l,sm,i.areContours),te(l,Ha,((c=i.accessibilityData)==null?void 0:c.alt)||""),te(l,am,i.uuid),l}};sm=new WeakMap,Ha=new WeakMap,om=new WeakMap,am=new WeakMap,mt(Ra,"_type","signature"),mt(Ra,"_editorType",dn.SIGNATURE),mt(Ra,"_defaultDrawingOptions",null);let X6=Ra;var Di,Zr,lm,$h,cm,m1,qh,h0,ld,Ga,g1,Nn,Xk,Kk,a5,l5,c5,Z6,u5,fie;class K6 extends mi{constructor(i){super({...i,name:"stampEditor"});he(this,Nn);he(this,Di,null);he(this,Zr,null);he(this,lm,null);he(this,$h,null);he(this,cm,null);he(this,m1,"");he(this,qh,null);he(this,h0,!1);he(this,ld,null);he(this,Ga,!1);he(this,g1,!1);te(this,$h,i.bitmapUrl),te(this,cm,i.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(i,r){mi.initialize(i,r)}static isHandlingMimeForPasting(i){return VM.includes(i)}static paste(i,r){r.pasteEditor(dn.STAMP,{bitmapFile:i.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var i;return{type:"stamp",hasAltText:!!((i=this.altTextData)!=null&&i.altText)}}static computeTelemetryFinalData(i){const r=i.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(i=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:o}=this._uiManager;if(!o)throw new Error("No ML.");if(!await o.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:l,width:c,height:u}=i||this.copyCanvas(null,null,!0).imageData,h=await o.guess({name:"altText",request:{data:l,width:c,height:u,channels:l.length/(c*u)}});if(!h)throw new Error("No response from the AI service.");if(h.error)throw new Error("Error from the AI service.");if(h.cancel)return null;if(!h.output)throw new Error("No valid response from the AI service.");const m=h.output;return await this.setGuessedAltText(m),r&&!this.hasAltTextData()&&(this.altTextData={alt:m,decorative:!1}),m}remove(){var i;P(this,Zr)&&(te(this,Di,null),this._uiManager.imageManager.deleteId(P(this,Zr)),(i=P(this,qh))==null||i.remove(),te(this,qh,null),P(this,ld)&&(clearTimeout(P(this,ld)),te(this,ld,null))),super.remove()}rebuild(){if(!this.parent){P(this,Zr)&&fe(this,Nn,a5).call(this);return}super.rebuild(),this.div!==null&&(P(this,Zr)&&P(this,qh)===null&&fe(this,Nn,a5).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(i){this._isDraggable=!0,i&&this.div.focus()}isEmpty(){return!(P(this,lm)||P(this,Di)||P(this,$h)||P(this,cm)||P(this,Zr)||P(this,h0))}get isResizable(){return!0}render(){if(this.div)return this.div;let i,r;return this._isCopy&&(i=this.x,r=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),P(this,h0)||(P(this,Di)?fe(this,Nn,l5).call(this):fe(this,Nn,a5).call(this)),this._isCopy&&this._moveAfterPaste(i,r),this._uiManager.addShouldRescale(this),this.div}setCanvas(i,r){const{id:o,bitmap:l}=this._uiManager.imageManager.getFromCanvas(i,r);r.remove(),o&&this._uiManager.imageManager.isValidId(o)&&(te(this,Zr,o),l&&te(this,Di,l),te(this,h0,!1),fe(this,Nn,l5).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;P(this,ld)!==null&&clearTimeout(P(this,ld)),te(this,ld,setTimeout(()=>{te(this,ld,null),fe(this,Nn,Z6).call(this)},200))}copyCanvas(i,r,o=!1){var _;i||(i=224);const{width:l,height:c}=P(this,Di),u=new pf;let h=P(this,Di),m=l,g=c,y=null;if(r){if(l>r||c>r){const B=Math.min(r/l,r/c);m=Math.floor(l*B),g=Math.floor(c*B)}y=document.createElement("canvas");const A=y.width=Math.ceil(m*u.sx),S=y.height=Math.ceil(g*u.sy);P(this,Ga)||(h=fe(this,Nn,c5).call(this,A,S));const C=y.getContext("2d");C.filter=this._uiManager.hcmFilter;let T="white",N="#cfcfd8";this._uiManager.hcmFilter!=="none"?N="black":(_=window.matchMedia)!=null&&_.call(window,"(prefers-color-scheme: dark)").matches&&(T="#8f8f9d",N="#42414d");const I=15,O=I*u.sx,F=I*u.sy,U=new OffscreenCanvas(O*2,F*2),V=U.getContext("2d");V.fillStyle=T,V.fillRect(0,0,O*2,F*2),V.fillStyle=N,V.fillRect(0,0,O,F),V.fillRect(O,F,O,F),C.fillStyle=C.createPattern(U,"repeat"),C.fillRect(0,0,A,S),C.drawImage(h,0,0,h.width,h.height,0,0,A,S)}let v=null;if(o){let A,S;if(u.symmetric&&h.width<i&&h.height<i)A=h.width,S=h.height;else if(h=P(this,Di),l>i||c>i){const N=Math.min(i/l,i/c);A=Math.floor(l*N),S=Math.floor(c*N),P(this,Ga)||(h=fe(this,Nn,c5).call(this,A,S))}const T=new OffscreenCanvas(A,S).getContext("2d",{willReadFrequently:!0});T.drawImage(h,0,0,h.width,h.height,0,0,A,S),v={width:A,height:S,data:T.getImageData(0,0,A,S).data}}return{canvas:y,width:m,height:g,imageData:v}}static async deserialize(i,r,o){var C;let l=null,c=!1;if(i instanceof Tne){const{data:{rect:T,rotation:N,id:I,structParent:O,popupRef:F},container:U,parent:{page:{pageNumber:V}},canvas:B}=i;let Z,ae;B?(delete i.canvas,{id:Z,bitmap:ae}=o.imageManager.getFromCanvas(U.id,B),B.remove()):(c=!0,i._hasNoCanvas=!0);const me=((C=await r._structTree.getAriaAttributes(`${gU}${I}`))==null?void 0:C.get("aria-label"))||"";l=i={annotationType:dn.STAMP,bitmapId:Z,bitmap:ae,pageIndex:V-1,rect:T.slice(0),rotation:N,id:I,deleted:!1,accessibilityData:{decorative:!1,altText:me},isSvg:!1,structParent:O,popupRef:F}}const u=await super.deserialize(i,r,o),{rect:h,bitmap:m,bitmapUrl:g,bitmapId:y,isSvg:v,accessibilityData:_}=i;c?(o.addMissingCanvas(i.id,u),te(u,h0,!0)):y&&o.imageManager.isValidId(y)?(te(u,Zr,y),m&&te(u,Di,m)):te(u,$h,g),te(u,Ga,v);const[A,S]=u.pageDimensions;return u.width=(h[2]-h[0])/A,u.height=(h[3]-h[1])/S,u.annotationElementId=i.id||null,_&&(u.altTextData=_),u._initialData=l,te(u,g1,!!l),u}serialize(i=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const o={annotationType:dn.STAMP,bitmapId:P(this,Zr),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:P(this,Ga),structTreeParentId:this._structTreeParentId};if(i)return o.bitmapUrl=fe(this,Nn,u5).call(this,!0),o.accessibilityData=this.serializeAltText(!0),o.isCopy=!0,o;const{decorative:l,altText:c}=this.serializeAltText(!1);if(!l&&c&&(o.accessibilityData={type:"Figure",alt:c}),this.annotationElementId){const h=fe(this,Nn,fie).call(this,o);if(h.isSame)return null;h.isSameAltText?delete o.accessibilityData:o.accessibilityData.structParent=this._initialData.structParent??-1}if(o.id=this.annotationElementId,r===null)return o;r.stamps||(r.stamps=new Map);const u=P(this,Ga)?(o.rect[2]-o.rect[0])*(o.rect[3]-o.rect[1]):null;if(!r.stamps.has(P(this,Zr)))r.stamps.set(P(this,Zr),{area:u,serialized:o}),o.bitmap=fe(this,Nn,u5).call(this,!1);else if(P(this,Ga)){const h=r.stamps.get(P(this,Zr));u>h.area&&(h.area=u,h.serialized.bitmap.close(),h.serialized.bitmap=fe(this,Nn,u5).call(this,!1))}return o}renderAnnotationElement(i){return i.updateEdited({rect:this.getRect(0,0)}),null}}Di=new WeakMap,Zr=new WeakMap,lm=new WeakMap,$h=new WeakMap,cm=new WeakMap,m1=new WeakMap,qh=new WeakMap,h0=new WeakMap,ld=new WeakMap,Ga=new WeakMap,g1=new WeakMap,Nn=new WeakSet,Xk=function(i,r=!1){if(!i){this.remove();return}te(this,Di,i.bitmap),r||(te(this,Zr,i.id),te(this,Ga,i.isSvg)),i.file&&te(this,m1,i.file.name),fe(this,Nn,l5).call(this)},Kk=function(){if(te(this,lm,null),this._uiManager.enableWaiting(!1),!!P(this,qh)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&P(this,Di)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&P(this,Di)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},a5=function(){if(P(this,Zr)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(P(this,Zr)).then(o=>fe(this,Nn,Xk).call(this,o,!0)).finally(()=>fe(this,Nn,Kk).call(this));return}if(P(this,$h)){const o=P(this,$h);te(this,$h,null),this._uiManager.enableWaiting(!0),te(this,lm,this._uiManager.imageManager.getFromUrl(o).then(l=>fe(this,Nn,Xk).call(this,l)).finally(()=>fe(this,Nn,Kk).call(this)));return}if(P(this,cm)){const o=P(this,cm);te(this,cm,null),this._uiManager.enableWaiting(!0),te(this,lm,this._uiManager.imageManager.getFromFile(o).then(l=>fe(this,Nn,Xk).call(this,l)).finally(()=>fe(this,Nn,Kk).call(this)));return}const i=document.createElement("input");i.type="file",i.accept=VM.join(",");const r=this._uiManager._signal;te(this,lm,new Promise(o=>{i.addEventListener("change",async()=>{if(!i.files||i.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const l=await this._uiManager.imageManager.getFromFile(i.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),fe(this,Nn,Xk).call(this,l)}o()},{signal:r}),i.addEventListener("cancel",()=>{this.remove(),o()},{signal:r})}).finally(()=>fe(this,Nn,Kk).call(this))),i.click()},l5=function(){var y;const{div:i}=this;let{width:r,height:o}=P(this,Di);const[l,c]=this.pageDimensions,u=.75;if(this.width)r=this.width*l,o=this.height*c;else if(r>u*l||o>u*c){const v=Math.min(u*l/r,u*c/o);r*=v,o*=v}const[h,m]=this.parentDimensions;this.setDims(r*h/l,o*m/c),this._uiManager.enableWaiting(!1);const g=te(this,qh,document.createElement("canvas"));g.setAttribute("role","img"),this.addContainer(g),this.width=r/l,this.height=o/c,(y=this._initialOptions)!=null&&y.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(i.hidden=!1),fe(this,Nn,Z6).call(this),P(this,g1)||(this.parent.addUndoableEditor(this),te(this,g1,!0)),this._reportTelemetry({action:"inserted_image"}),P(this,m1)&&this.div.setAttribute("aria-description",P(this,m1))},c5=function(i,r){const{width:o,height:l}=P(this,Di);let c=o,u=l,h=P(this,Di);for(;c>2*i||u>2*r;){const m=c,g=u;c>2*i&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2)),u>2*r&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2));const y=new OffscreenCanvas(c,u);y.getContext("2d").drawImage(h,0,0,m,g,0,0,c,u),h=y.transferToImageBitmap()}return h},Z6=function(){const[i,r]=this.parentDimensions,{width:o,height:l}=this,c=new pf,u=Math.ceil(o*i*c.sx),h=Math.ceil(l*r*c.sy),m=P(this,qh);if(!m||m.width===u&&m.height===h)return;m.width=u,m.height=h;const g=P(this,Ga)?P(this,Di):fe(this,Nn,c5).call(this,u,h),y=m.getContext("2d");y.filter=this._uiManager.hcmFilter,y.drawImage(g,0,0,g.width,g.height,0,0,u,h)},u5=function(i){if(i){if(P(this,Ga)){const l=this._uiManager.imageManager.getSvgUrl(P(this,Zr));if(l)return l}const r=document.createElement("canvas");return{width:r.width,height:r.height}=P(this,Di),r.getContext("2d").drawImage(P(this,Di),0,0),r.toDataURL()}if(P(this,Ga)){const[r,o]=this.pageDimensions,l=Math.round(this.width*r*Om.PDF_TO_CSS_UNITS),c=Math.round(this.height*o*Om.PDF_TO_CSS_UNITS),u=new OffscreenCanvas(l,c);return u.getContext("2d").drawImage(P(this,Di),0,0,P(this,Di).width,P(this,Di).height,0,0,l,c),u.transferToImageBitmap()}return structuredClone(P(this,Di))},fie=function(i){var u;const{pageIndex:r,accessibilityData:{altText:o}}=this._initialData,l=i.pageIndex===r,c=(((u=i.accessibilityData)==null?void 0:u.alt)||"")===o;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&l&&c,isSameAltText:c}},mt(K6,"_type","stamp"),mt(K6,"_editorType",dn.STAMP);var f0,b1,cd,um,Hh,Xl,dm,y1,p0,Wc,Gh,Ks,Xh,$t,hm,Ni,pie,Hu,J6,Q6,d5;const Pc=class Pc{constructor({uiManager:e,pageIndex:i,div:r,structTreeLayer:o,accessibilityManager:l,annotationLayer:c,drawLayer:u,textLayer:h,viewport:m,l10n:g}){he(this,Ni);he(this,f0);he(this,b1,!1);he(this,cd,null);he(this,um,null);he(this,Hh,null);he(this,Xl,new Map);he(this,dm,!1);he(this,y1,!1);he(this,p0,!1);he(this,Wc,null);he(this,Gh,null);he(this,Ks,null);he(this,Xh,null);he(this,$t);const y=[...P(Pc,hm).values()];if(!Pc._initialized){Pc._initialized=!0;for(const v of y)v.initialize(g,e)}e.registerEditorTypes(y),te(this,$t,e),this.pageIndex=i,this.div=r,te(this,f0,l),te(this,cd,c),this.viewport=m,te(this,Ks,h),this.drawLayer=u,this._structTree=o,P(this,$t).addLayer(this)}get isEmpty(){return P(this,Xl).size===0}get isInvisible(){return this.isEmpty&&P(this,$t).getMode()===dn.NONE}updateToolbar(e){P(this,$t).updateToolbar(e)}updateMode(e=P(this,$t).getMode()){switch(fe(this,Ni,d5).call(this),e){case dn.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case dn.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case dn.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:i}=this.div;for(const r of P(Pc,hm).values())i.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var i;return e===((i=P(this,Ks))==null?void 0:i.div)}setEditingState(e){P(this,$t).setEditingState(e)}addCommands(e){P(this,$t).addCommands(e)}cleanUndoStack(e){P(this,$t).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var i;(i=P(this,cd))==null||i.div.classList.toggle("disabled",!e)}async enable(){te(this,p0,!0),this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of P(this,Xl).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(P(this,$t).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!P(this,cd)){te(this,p0,!1);return}const i=P(this,cd).getEditableAnnotations();for(const r of i){if(r.hide(),P(this,$t).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const o=await this.deserialize(r);o&&(this.addOrRebuild(o),o.enableEditing())}te(this,p0,!1)}disable(){var o;te(this,y1,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,i=new Map;for(const l of P(this,Xl).values())if(l.disableEditing(),!!l.annotationElementId){if(l.serialize()!==null){e.set(l.annotationElementId,l);continue}else i.set(l.annotationElementId,l);(o=this.getEditableAnnotation(l.annotationElementId))==null||o.show(),l.remove()}if(P(this,cd)){const l=P(this,cd).getEditableAnnotations();for(const c of l){const{id:u}=c.data;if(P(this,$t).isDeletedAnnotationElement(u))continue;let h=i.get(u);if(h){h.resetAnnotationElement(c),h.show(!1),c.show();continue}h=e.get(u),h&&(P(this,$t).addChangedExistingAnnotation(h),h.renderAnnotationElement(c)&&h.show(!1)),c.show()}}fe(this,Ni,d5).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const l of P(Pc,hm).values())r.remove(`${l._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),te(this,y1,!1)}getEditableAnnotation(e){var i;return((i=P(this,cd))==null?void 0:i.getEditableAnnotation(e))||null}setActiveEditor(e){P(this,$t).getActive()!==e&&P(this,$t).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=P(this,Ks))!=null&&e.div&&!P(this,Xh)){te(this,Xh,new AbortController);const i=P(this,$t).combinedSignal(P(this,Xh));P(this,Ks).div.addEventListener("pointerdown",fe(this,Ni,pie).bind(this),{signal:i}),P(this,Ks).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=P(this,Ks))!=null&&e.div&&P(this,Xh)&&(P(this,Xh).abort(),te(this,Xh,null),P(this,Ks).div.classList.remove("highlighting"))}enableClick(){if(P(this,um))return;te(this,um,new AbortController);const e=P(this,$t).combinedSignal(P(this,um));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const i=this.pointerup.bind(this);this.div.addEventListener("pointerup",i,{signal:e}),this.div.addEventListener("pointercancel",i,{signal:e})}disableClick(){var e;(e=P(this,um))==null||e.abort(),te(this,um,null)}attach(e){P(this,Xl).set(e.id,e);const{annotationElementId:i}=e;i&&P(this,$t).isDeletedAnnotationElement(i)&&P(this,$t).removeDeletedAnnotationElement(e)}detach(e){var i;P(this,Xl).delete(e.id),(i=P(this,f0))==null||i.removePointerInTextLayer(e.contentDiv),!P(this,y1)&&e.annotationElementId&&P(this,$t).addDeletedAnnotationElement(e)}remove(e){this.detach(e),P(this,$t).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var i;e.parent!==this&&(e.parent&&e.annotationElementId&&(P(this,$t).addDeletedAnnotationElement(e.annotationElementId),mi.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(i=e.parent)==null||i.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),P(this,$t).addEditor(e),this.attach(e),!e.isAttachedToDOM){const i=e.render();this.div.append(i),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!P(this,p0)),P(this,$t).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:i}=document;e.div.contains(i)&&!P(this,Hh)&&(e._focusEventsAllowed=!1,te(this,Hh,setTimeout(()=>{te(this,Hh,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:P(this,$t)._signal}),i.focus())},0))),e._structTreeParentId=(r=P(this,f0))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const i=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:i,undo:r,mustExec:!1})}getNextId(){return P(this,$t).getId()}combinedSignal(e){return P(this,$t).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=P(this,Ni,Hu))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,i){P(this,$t).updateToolbar(e),await P(this,$t).updateMode(e);const{offsetX:r,offsetY:o}=fe(this,Ni,Q6).call(this),l=this.getNextId(),c=fe(this,Ni,J6).call(this,{parent:this,id:l,x:r,y:o,uiManager:P(this,$t),isCentered:!0,...i});c&&this.add(c)}async deserialize(e){var i;return await((i=P(Pc,hm).get(e.annotationType??e.annotationEditorType))==null?void 0:i.deserialize(e,this,P(this,$t)))||null}createAndAddNewEditor(e,i,r={}){const o=this.getNextId(),l=fe(this,Ni,J6).call(this,{parent:this,id:o,x:e.offsetX,y:e.offsetY,uiManager:P(this,$t),isCentered:i,...r});return l&&this.add(l),l}addNewEditor(e={}){this.createAndAddNewEditor(fe(this,Ni,Q6).call(this),!0,e)}setSelected(e){P(this,$t).setSelected(e)}toggleSelected(e){P(this,$t).toggleSelected(e)}unselect(e){P(this,$t).unselect(e)}pointerup(e){var o;const{isMac:i}=As.platform;if(e.button!==0||e.ctrlKey&&i||e.target!==this.div||!P(this,dm)||(te(this,dm,!1),(o=P(this,Ni,Hu))!=null&&o.isDrawer&&P(this,Ni,Hu).supportMultipleDrawings))return;if(!P(this,b1)){te(this,b1,!0);return}const r=P(this,$t).getMode();if(r===dn.STAMP||r===dn.SIGNATURE){P(this,$t).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var o;if(P(this,$t).getMode()===dn.HIGHLIGHT&&this.enableTextSelection(),P(this,dm)){te(this,dm,!1);return}const{isMac:i}=As.platform;if(e.button!==0||e.ctrlKey&&i||e.target!==this.div)return;if(te(this,dm,!0),(o=P(this,Ni,Hu))!=null&&o.isDrawer){this.startDrawingSession(e);return}const r=P(this,$t).getActive();te(this,b1,!r||r.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),P(this,Wc)){P(this,Ni,Hu).startDrawing(this,P(this,$t),!1,e);return}P(this,$t).setCurrentDrawingSession(this),te(this,Wc,new AbortController);const i=P(this,$t).combinedSignal(P(this,Wc));this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(te(this,Gh,null),this.commitOrRemove())},{signal:i}),P(this,Ni,Hu).startDrawing(this,P(this,$t),!1,e)}pause(e){if(e){const{activeElement:i}=document;this.div.contains(i)&&te(this,Gh,i);return}P(this,Gh)&&setTimeout(()=>{var i;(i=P(this,Gh))==null||i.focus(),te(this,Gh,null)},0)}endDrawingSession(e=!1){return P(this,Wc)?(P(this,$t).setCurrentDrawingSession(null),P(this,Wc).abort(),te(this,Wc,null),te(this,Gh,null),P(this,Ni,Hu).endDrawing(e)):null}findNewParent(e,i,r){const o=P(this,$t).findParent(i,r);return o===null||o===this?!1:(o.changeParent(e),!0)}commitOrRemove(){return P(this,Wc)?(this.endDrawingSession(),!0):!1}onScaleChanging(){P(this,Wc)&&P(this,Ni,Hu).onScaleChangingWhenDrawing(this)}destroy(){var e,i;this.commitOrRemove(),((e=P(this,$t).getActive())==null?void 0:e.parent)===this&&(P(this,$t).commitOrRemove(),P(this,$t).setActiveEditor(null)),P(this,Hh)&&(clearTimeout(P(this,Hh)),te(this,Hh,null));for(const r of P(this,Xl).values())(i=P(this,f0))==null||i.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,P(this,Xl).clear(),P(this,$t).removeLayer(this)}render({viewport:e}){this.viewport=e,j0(this.div,e);for(const i of P(this,$t).getEditors(this.pageIndex))this.add(i),i.rebuild();this.updateMode()}update({viewport:e}){P(this,$t).commitOrRemove(),fe(this,Ni,d5).call(this);const i=this.viewport.rotation,r=e.rotation;if(this.viewport=e,j0(this.div,{rotation:r}),i!==r)for(const o of P(this,Xl).values())o.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:i}=this.viewport.rawDims;return[e,i]}get scale(){return P(this,$t).viewParameters.realScale}};f0=new WeakMap,b1=new WeakMap,cd=new WeakMap,um=new WeakMap,Hh=new WeakMap,Xl=new WeakMap,dm=new WeakMap,y1=new WeakMap,p0=new WeakMap,Wc=new WeakMap,Gh=new WeakMap,Ks=new WeakMap,Xh=new WeakMap,$t=new WeakMap,hm=new WeakMap,Ni=new WeakSet,pie=function(e){P(this,$t).unselectAll();const{target:i}=e;if(i===P(this,Ks).div||(i.getAttribute("role")==="img"||i.classList.contains("endOfContent"))&&P(this,Ks).div.contains(i)){const{isMac:r}=As.platform;if(e.button!==0||e.ctrlKey&&r)return;P(this,$t).showAllEditors("highlight",!0,!0),P(this,Ks).div.classList.add("free"),this.toggleDrawing(),pN.startHighlighting(this,P(this,$t).direction==="ltr",{target:P(this,Ks).div,x:e.x,y:e.y}),P(this,Ks).div.addEventListener("pointerup",()=>{P(this,Ks).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:P(this,$t)._signal}),e.preventDefault()}},Hu=function(){return P(Pc,hm).get(P(this,$t).getMode())},J6=function(e){const i=P(this,Ni,Hu);return i?new i.prototype.constructor(e):null},Q6=function(){const{x:e,y:i,width:r,height:o}=this.div.getBoundingClientRect(),l=Math.max(0,e),c=Math.max(0,i),u=Math.min(window.innerWidth,e+r),h=Math.min(window.innerHeight,i+o),m=(l+u)/2-e,g=(c+h)/2-i,[y,v]=this.viewport.rotation%180===0?[m,g]:[g,m];return{offsetX:y,offsetY:v}},d5=function(){for(const e of P(this,Xl).values())e.isEmpty()&&e.remove()},mt(Pc,"_initialized",!1),he(Pc,hm,new Map([D6,V6,K6,pN,X6].map(e=>[e._editorType,e])));let Y6=Pc;var $c,So,m0,PS,RN,mie,_d,tO,gie,nO;const Ar=class Ar{constructor({pageIndex:e}){he(this,_d);he(this,$c,null);he(this,So,new Map);he(this,m0,new Map);this.pageIndex=e}setParent(e){if(!P(this,$c)){te(this,$c,e);return}if(P(this,$c)!==e){if(P(this,So).size>0)for(const i of P(this,So).values())i.remove(),e.append(i);te(this,$c,e)}}static get _svgFactory(){return yn(this,"_svgFactory",new dN)}draw(e,i=!1,r=!1){const o=wo(Ar,PS)._++,l=fe(this,_d,tO).call(this),c=Ar._svgFactory.createElement("defs");l.append(c);const u=Ar._svgFactory.createElement("path");c.append(u);const h=`path_p${this.pageIndex}_${o}`;u.setAttribute("id",h),u.setAttribute("vector-effect","non-scaling-stroke"),i&&P(this,m0).set(o,u);const m=r?fe(this,_d,gie).call(this,c,h):null,g=Ar._svgFactory.createElement("use");return l.append(g),g.setAttribute("href",`#${h}`),this.updateProperties(l,e),P(this,So).set(o,l),{id:o,clipPathId:`url(#${m})`}}drawOutline(e,i){const r=wo(Ar,PS)._++,o=fe(this,_d,tO).call(this),l=Ar._svgFactory.createElement("defs");o.append(l);const c=Ar._svgFactory.createElement("path");l.append(c);const u=`path_p${this.pageIndex}_${r}`;c.setAttribute("id",u),c.setAttribute("vector-effect","non-scaling-stroke");let h;if(i){const y=Ar._svgFactory.createElement("mask");l.append(y),h=`mask_p${this.pageIndex}_${r}`,y.setAttribute("id",h),y.setAttribute("maskUnits","objectBoundingBox");const v=Ar._svgFactory.createElement("rect");y.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const _=Ar._svgFactory.createElement("use");y.append(_),_.setAttribute("href",`#${u}`),_.setAttribute("stroke","none"),_.setAttribute("fill","black"),_.setAttribute("fill-rule","nonzero"),_.classList.add("mask")}const m=Ar._svgFactory.createElement("use");o.append(m),m.setAttribute("href",`#${u}`),h&&m.setAttribute("mask",`url(#${h})`);const g=m.cloneNode();return o.append(g),m.classList.add("mainOutline"),g.classList.add("secondaryOutline"),this.updateProperties(o,e),P(this,So).set(r,o),r}finalizeDraw(e,i){P(this,m0).delete(e),this.updateProperties(e,i)}updateProperties(e,i){var h;if(!i)return;const{root:r,bbox:o,rootClass:l,path:c}=i,u=typeof e=="number"?P(this,So).get(e):e;if(u){if(r&&fe(this,_d,nO).call(this,u,r),o&&fe(h=Ar,RN,mie).call(h,u,o),l){const{classList:m}=u;for(const[g,y]of Object.entries(l))m.toggle(g,y)}if(c){const g=u.firstChild.firstChild;fe(this,_d,nO).call(this,g,c)}}}updateParent(e,i){if(i===this)return;const r=P(this,So).get(e);r&&(P(i,$c).append(r),P(this,So).delete(e),P(i,So).set(e,r))}remove(e){P(this,m0).delete(e),P(this,$c)!==null&&(P(this,So).get(e).remove(),P(this,So).delete(e))}destroy(){te(this,$c,null);for(const e of P(this,So).values())e.remove();P(this,So).clear(),P(this,m0).clear()}};$c=new WeakMap,So=new WeakMap,m0=new WeakMap,PS=new WeakMap,RN=new WeakSet,mie=function(e,[i,r,o,l]){const{style:c}=e;c.top=`${100*r}%`,c.left=`${100*i}%`,c.width=`${100*o}%`,c.height=`${100*l}%`},_d=new WeakSet,tO=function(){const e=Ar._svgFactory.create(1,1,!0);return P(this,$c).append(e),e.setAttribute("aria-hidden",!0),e},gie=function(e,i){const r=Ar._svgFactory.createElement("clipPath");e.append(r);const o=`clip_${i}`;r.setAttribute("id",o),r.setAttribute("clipPathUnits","objectBoundingBox");const l=Ar._svgFactory.createElement("use");return r.append(l),l.setAttribute("href",`#${i}`),l.classList.add("clip"),o},nO=function(e,i){for(const[r,o]of Object.entries(i))o===null?e.removeAttribute(r):e.setAttribute(r,o)},he(Ar,RN),he(Ar,PS,0);let eO=Ar;globalThis.pdfjsTestingUtils={HighlightOutliner:P6};globalThis.pdfjsLib={AbortException:Mm,AnnotationEditorLayer:Y6,AnnotationEditorParamsType:En,AnnotationEditorType:dn,AnnotationEditorUIManager:R0,AnnotationLayer:A6,AnnotationMode:Np,AnnotationType:mr,build:xCe,ColorPicker:fN,createValidAbsoluteUrl:ute,DOMSVGFactory:dN,DrawLayer:eO,FeatureTest:As,fetchData:rA,getDocument:fne,getFilenameFromUrl:pAe,getPdfFilenameFromUrl:mAe,getUuid:fte,getXfaPageViewport:gAe,GlobalWorkerOptions:fd,ImageKind:MD,InvalidPDFException:BM,isDataScheme:lP,isPdfFile:yU,isValidExplicitDest:pCe,MathClamp:Co,noContextMenu:eu,normalizeUnicode:dAe,OPS:aN,OutputScale:pf,PasswordResponses:nAe,PDFDataRangeTransport:pne,PDFDateString:vU,PDFWorker:dw,PermissionFlag:tAe,PixelsPerInch:Om,RenderingCancelledException:bU,ResponseException:lN,setLayerDimensions:j0,shadow:yn,SignatureExtractor:Kh,stopEvent:gr,SupportedImageMimeTypes:VM,TextLayer:aE,TouchManager:uN,updateUrlHash:dte,Util:Wt,VerbosityLevel:sP,version:wCe,XfaLayer:gne};function WCe(n){return new Worker("/accreda.github.io/assets/pdf.worker-BKIAaNPc.js",{name:n==null?void 0:n.name})}function bie(n){return!n||n.length===0?null:n.reduce((e,i)=>new Date(i.updated_at)>new Date(e.updated_at)?i:e)}const $Ce=({isOpen:n,onClose:e,editSAO:i,onCreated:r,initialContent:o,onInitialContentUsed:l})=>{const[c,u]=H.useState(""),[h,m]=H.useState(""),[g,y]=H.useState([]),[v,_]=H.useState("draft"),[A,S]=H.useState(!1),[C,T]=H.useState(!1),[N,I]=H.useState(null),[O,F]=H.useState(""),[U,V]=H.useState([]),{skillCategories:B}=cf(),{createSAO:Z,updateSAO:ae,loading:me,error:Q,requestFeedback:ge,loadUserSAOs:$}=GS(),[Te,re]=H.useState(!1),[ie,G]=H.useState(""),{checkSaoLimit:K,tier:ne,fetchSubscription:J}=qS(),[ue,ee]=H.useState(null),[xe,Se]=H.useState(0),[Me,Re]=H.useState(!1),Fe=i&&i.feedback?bie(i.feedback):null;H.useEffect(()=>{n&&(async()=>{const{data:{user:Ie}}=await je.auth.getUser();if(!Ie)return;const{data:be}=await je.from("supervisor_eit_relationships").select(`
          supervisor_id,
          supervisor_profiles (
            id,
            full_name
          )
        `).eq("eit_id",Ie.id).eq("status","active");be&&V(be.map(we=>({id:we.supervisor_profiles.id,name:we.supervisor_profiles.full_name})))})()},[n]),H.useEffect(()=>{n&&i?(u(i.title),m(i.content),y(i.skills),_(i.status||"draft")):n&&(u(""),m(""),y([]),_("draft"))},[n,i]),H.useEffect(()=>{n&&o&&(m(o),l&&l())},[n,o,l]),H.useEffect(()=>{(async()=>{await J();const{data:{user:Ie}}=await je.auth.getUser();if(Ie){const{data:be}=await je.from("subscriptions").select("sao_created_count").eq("user_id",Ie.id).single();be&&typeof be.sao_created_count=="number"&&Se(be.sao_created_count)}})()},[n]);const We=async Ae=>{Ae.preventDefault(),ee(null);try{if(!i&&ne==="free"&&!await K()){ee("You have reached your SAO limit for the Free plan. Upgrade to add more.");return}i?await ae(i.id,c,h,g,v):await Z(c,h,g,v),u(""),m(""),y([]),F(""),e(),$(),r&&r()}catch(Ie){console.error("Error saving SAO:",Ie)}},ze=async()=>{if(h.trim()){T(!0);try{console.log("Starting enhancement process...");const Ae=await t1e(h);console.log("Enhancement completed:",Ae),I(Ae)}catch(Ae){console.error("Error in handleEnhanceWithAI:",Ae),alert(Ae instanceof Error?Ae.message:"Failed to enhance text. Please try again.")}finally{T(!1)}}},Ne=()=>{N&&(m(N),I(null))},ke=()=>{I(null)},Be=async()=>{if(!O||!i)return;const{data:{user:Ae}}=await je.auth.getUser();if(!Ae)return;const{count:Ie}=await je.from("skill_validations").select("*",{count:"exact",head:!0}).eq("eit_id",Ae.id).eq("validator_id",O);if((Ie||0)>=20){G("This supervisor has already validated 20 skills for you. Please select a different supervisor."),re(!0);return}await ge(i.id,O)},X=Me?(i==null?void 0:i.feedback)||[]:i!=null&&i.feedback&&i.feedback.length>0?[i.feedback[i.feedback.length-1]]:[];return n?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:b.jsxs("div",{className:"bg-white rounded-lg p-8 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("h2",{className:"text-2xl font-semibold",children:i?"Edit SAO":"Create New SAO"}),Fe&&Fe.status==="pending"&&b.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-yellow-100 text-yellow-800",children:"Pending"}),Fe&&Fe.status==="submitted"&&b.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-800",children:"Marked"})]}),b.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600",children:b.jsx(eo,{size:24})})]}),ue&&b.jsx("div",{className:"mb-6 p-4 bg-red-50 text-red-700 rounded-md text-sm font-semibold text-center",children:ue}),Q&&b.jsx("div",{className:"mb-6 p-4 bg-red-50 text-red-700 rounded-md text-sm",children:Q}),i&&b.jsxs("div",{className:"mb-6",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx("span",{className:"font-semibold text-slate-700",children:"Comments & Feedback"}),b.jsx("button",{type:"button",className:"p-1 rounded hover:bg-slate-200",title:Me?"Hide Feedback History":"Show Feedback History",onClick:()=>Re(Ae=>!Ae),children:b.jsx(z0,{size:18,className:Me?"text-blue-600":"text-slate-400"})})]}),b.jsx(XY,{saoId:i.id,content:i.content}),Me&&X.length>1&&b.jsxs("div",{className:"mt-4",children:[b.jsx("div",{className:"font-semibold text-xs text-slate-500 mb-1",children:"Feedback History"}),X.slice(0,-1).map((Ae,Ie)=>b.jsxs("div",{className:"bg-slate-100 rounded p-2 mb-2 text-xs text-slate-700",children:[b.jsx("div",{className:"mb-1",children:Ae.feedback}),b.jsx("div",{className:"text-slate-400",children:new Date(Ae.updated_at).toLocaleDateString()})]},Ae.id))]})]}),i&&i.feedback&&i.feedback.length>0&&b.jsx("div",{className:"mb-6",children:b.jsx(H8,{feedback:X,onResolve:async()=>Promise.resolve(),onSubmitFeedback:async()=>Promise.resolve(),isSupervisor:!1})}),b.jsxs("form",{onSubmit:We,className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-slate-700 mb-2",children:"Title"}),b.jsx("input",{type:"text",id:"title",value:c,onChange:Ae=>u(Ae.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 text-lg",placeholder:"Enter SAO title",required:!0,disabled:me})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"sao",className:"block text-sm font-medium text-slate-700 mb-2",children:"Situation-Action-Outcome"}),b.jsxs("div",{className:"relative",children:[b.jsx(X8,{content:N||h,onChange:Ae=>{N||m(Ae)},onSave:()=>{},onCancel:()=>{}}),ne!=="free"&&b.jsxs("button",{type:"button",onClick:ze,disabled:!h.trim()||me||C,className:"absolute top-4 right-4 p-3 text-slate-400 hover:text-teal-600 hover:bg-slate-100 rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed group",title:"Enhance with AI",children:[b.jsxs("div",{className:"relative",children:[b.jsx(pY,{size:24,className:`${C?"animate-pulse":""} transition-transform duration-300 group-hover:scale-110`}),C&&b.jsx("div",{className:"absolute inset-0 animate-ping rounded-full bg-teal-400 opacity-20"})]}),b.jsx("span",{className:"absolute right-full mr-2 top-1/2 -translate-y-1/2 bg-slate-800 text-white px-3 py-1.5 rounded text-sm font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap",children:"Enhance with AI"})]})]}),N&&b.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[b.jsx("span",{className:"text-sm text-slate-600",children:"AI Enhancement Preview"}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{type:"button",onClick:Ne,className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 hover:bg-teal-700 rounded-md transition-all duration-300 hover:scale-105 active:scale-95",children:"Accept"}),b.jsx("button",{type:"button",onClick:ke,className:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-800 hover:bg-slate-100 rounded-md transition-all duration-300 hover:scale-105 active:scale-95",children:"Decline"})]})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Status"}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("button",{type:"button",className:`px-4 py-2 rounded-full border text-sm font-semibold transition-colors duration-200 ${v==="draft"?"bg-slate-200 text-slate-800 border-slate-400":"bg-white text-slate-500 border-slate-200"}`,onClick:()=>_("draft"),"aria-pressed":v==="draft",children:"Draft"}),b.jsx("button",{type:"button",className:`px-4 py-2 rounded-full border text-sm font-semibold transition-colors duration-200 ${v==="complete"?"bg-green-200 text-green-800 border-green-400":"bg-white text-slate-500 border-slate-200"}`,onClick:()=>_("complete"),"aria-pressed":v==="complete",children:"Completed"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Relevant Skills"}),b.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:g.map(Ae=>b.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-teal-100 text-teal-800",children:[Ae.name,b.jsx("button",{type:"button",onClick:()=>y(Ie=>Ie.filter(be=>be.id!==Ae.id)),className:"ml-2 text-teal-600 hover:text-teal-800",disabled:me,children:b.jsx(eo,{size:16})})]},Ae.id))}),b.jsxs("button",{type:"button",onClick:()=>S(!0),className:"btn btn-secondary w-full flex items-center justify-center gap-2 py-3 text-lg",disabled:me,children:[b.jsx(Xv,{size:20}),"Select Skills"]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Supervisor Selection"}),b.jsxs("div",{className:"flex gap-3",children:[b.jsxs("select",{value:O,onChange:Ae=>F(Ae.target.value),className:"flex-1 px-4 py-3 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 text-lg",disabled:me||U.length===0,children:[b.jsx("option",{value:"",children:"Select a supervisor"}),U.map(Ae=>b.jsx("option",{value:Ae.id,children:Ae.name},Ae.id))]}),b.jsx("button",{type:"button",onClick:Be,disabled:!O||me||!i,className:"px-4 py-3 bg-teal-600 text-white rounded-md hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:"Send for Validation"})]}),U.length===0&&b.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"No active supervisors found. Connect with a supervisor first."})]}),b.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[b.jsx("button",{type:"button",onClick:e,className:"btn btn-secondary px-6 py-3 text-lg",disabled:me,children:"Cancel"}),b.jsx("button",{type:"submit",className:"btn btn-primary px-6 py-3 text-lg",disabled:me,children:me?"Saving...":i?"Update SAO":"Create SAO"})]})]}),A&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:b.jsxs("div",{className:"bg-white rounded-lg p-8 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsx("h3",{className:"text-2xl font-semibold",children:"Select Skills"}),b.jsx("button",{onClick:()=>S(!1),className:"text-slate-400 hover:text-slate-600",children:b.jsx(eo,{size:24})})]}),b.jsx("div",{className:"space-y-6",children:B.map(Ae=>b.jsxs("div",{className:"border rounded-lg p-6",children:[b.jsx("h4",{className:"font-medium text-slate-900 text-lg mb-4",children:Ae.name}),b.jsx("div",{className:"space-y-3",children:Ae.skills.map(Ie=>b.jsxs("label",{className:"flex items-center space-x-3 p-3 hover:bg-slate-50 rounded cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:g.some(be=>be.id===Ie.id),onChange:be=>{be.target.checked?y(we=>[...we,{...Ie,category_name:Ae.name}]):y(we=>we.filter(Ee=>Ee.id!==Ie.id))},className:"rounded text-teal-600 focus:ring-teal-500 w-5 h-5"}),b.jsx("span",{className:"text-base",children:Ie.name})]},Ie.id))})]},Ae.name))}),b.jsx("div",{className:"flex justify-end mt-8",children:b.jsx("button",{onClick:()=>S(!1),className:"btn btn-primary px-6 py-3 text-lg",children:"Done"})})]})}),b.jsx(G2,{isOpen:Te,onClose:()=>re(!1),children:b.jsxs("div",{className:"p-6",children:[b.jsx("h2",{className:"text-lg font-semibold mb-4 text-red-700",children:"Validation Rule Violation"}),b.jsx("p",{className:"text-slate-700 mb-4",children:ie}),b.jsx("button",{className:"btn btn-primary",onClick:()=>re(!1),children:"OK"})]})})]})}):null},qCe=({sao:n,onDelete:e,onEdit:i})=>{const r=H.useRef(null),[o]=rK(),l=o.get("saoId"),c=n.feedback?bie(n.feedback):null;return H.useEffect(()=>{var u,h;l===n.id&&((u=r.current)==null||u.scrollIntoView({behavior:"smooth",block:"center"}),(h=r.current)==null||h.classList.add("ring","ring-teal-400"),setTimeout(()=>{var m;(m=r.current)==null||m.classList.remove("ring","ring-teal-400")},1500))},[l,n.id]),b.jsxs("div",{ref:r,className:"bg-white rounded-lg shadow p-6",children:[b.jsxs("div",{className:"flex justify-between items-start mb-4",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:n.title}),c&&c.status==="pending"&&b.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-yellow-100 text-yellow-800",children:"Pending"}),c&&c.status==="submitted"&&b.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-800",children:"Marked"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[n.status==="draft"&&b.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold bg-slate-200 text-slate-700",children:"Draft"}),n.status==="complete"&&b.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold bg-green-100 text-green-800",children:"Complete"}),b.jsx("button",{onClick:()=>i(n),className:"text-slate-400 hover:text-teal-600 transition-colors",title:"Edit SAO",children:b.jsx(p2,{size:18})}),b.jsx("button",{onClick:()=>e(n.id),className:"text-slate-400 hover:text-red-600 transition-colors",title:"Delete SAO",children:b.jsx(T0,{size:18})})]})]}),b.jsx("p",{className:"text-slate-600 whitespace-pre-wrap mb-4",children:n.content}),b.jsx("div",{className:"flex flex-wrap gap-2",children:n.skills.map(u=>b.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium bg-teal-100 text-teal-800",children:u.name},u.id))}),b.jsxs("div",{className:"mt-4 text-sm text-slate-500",children:["Created: ",new Date(n.created_at).toLocaleDateString()]})]})},HCe=()=>{const[n,e]=H.useState(!1),[i,r]=H.useState(),{saos:o,loading:l,error:c,loadUserSAOs:u,deleteSAO:h}=GS(),{tier:m,saoLimit:g,fetchSubscription:y}=qS(),[v]=rK(),_=v.get("saoId"),[A,S]=H.useState(0),[C,T]=H.useState(null),[N,I]=H.useState(!1),[O,F]=H.useState(null),[U,V]=H.useState(!1),[B]=H.useState(()=>or.createRef()),[Z,ae]=H.useState(null),me=()=>window.gapi?Promise.resolve():new Promise(K=>{const ne=document.createElement("script");ne.src="https://apis.google.com/js/api.js",ne.onload=K,document.body.appendChild(ne)}),Q=async()=>{I(!1),await me(),alert("Google Drive picker scaffolded. Add credentials and logic when ready."),F("Imported content from Google Drive (simulated)."),V(!0)},ge=()=>window.OneDrive?Promise.resolve():new Promise(K=>{const ne=document.createElement("script");ne.src="https://js.live.net/v7.2/OneDrive.js",ne.onload=K,document.body.appendChild(ne)}),$=async()=>{I(!1),await ge(),alert("OneDrive picker scaffolded. Add credentials and logic when ready."),F("Imported content from OneDrive (simulated)."),V(!0)};H.useEffect(()=>{(async()=>{await y();const{data:{user:ne}}=await je.auth.getUser();if(ne){const{data:J}=await je.from("subscriptions").select("sao_created_count").eq("user_id",ne.id).single();J&&typeof J.sao_created_count=="number"&&S(J.sao_created_count)}})()},[n]),H.useEffect(()=>{u()},[u]),H.useEffect(()=>{if(_&&o.length>0){const K=o.find(ne=>ne.id===_);K&&(r(K),e(!0))}},[_,o]),H.useEffect(()=>{(async()=>{const{data:{user:ne}}=await je.auth.getUser();if(!ne)return;const{data:J}=await je.from("supervisor_profiles").select("id").eq("id",ne.id).single();T(J?"supervisor":"eit")})()},[]);const Te=async K=>{window.confirm("Are you sure you want to delete this SAO?")&&await h(K)},re=K=>{r(K),e(!0)},ie=()=>{e(!1),r(void 0),u()},G=async K=>{var ee;const ne=(ee=K.target.files)==null?void 0:ee[0];if(!ne)return;let J="",ue=!1;try{if(ne.type==="text/plain")J=await ne.text();else if(ne.name.endsWith(".docx")){const xe=await ne.arrayBuffer();J=(await nu.convertToHtml({arrayBuffer:xe})).value,ue=!0}else if(ne.type==="application/pdf"||ne.name.endsWith(".pdf")){fd.workerPort=new WCe;const xe=await ne.arrayBuffer(),Se=await fne({data:xe}).promise;let Me="";for(let Re=1;Re<=Se.numPages;Re++){const We=await(await Se.getPage(Re)).getTextContent();Me+=We.items.map(ze=>ze.str).join(" ")+`
`}J=Me,ud("PDF formatting is not preserved. Only plain text is extracted.",{icon:"⚠️"})}else J="Unsupported file type."}catch(xe){J="Failed to extract content: "+(xe instanceof Error?xe.message:String(xe))}ae(J),e(!0),I(!1),B.current&&(B.current.value="")};return b.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[m==="free"&&b.jsx("div",{className:"p-4 mb-4 bg-yellow-50 border border-yellow-200 rounded-lg text-yellow-900 text-center font-semibold",children:A<g?`You have ${g-A} SAO${g-A===1?"":"s"} left on the Free plan.`:"You have reached your SAO limit for the Free plan. Upgrade to add more."}),b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Situation-Action-Outcome (SAO)"}),b.jsx("p",{className:"text-slate-500 mt-1",children:"Write and manage your SAO essays."})]}),b.jsxs("div",{className:"flex gap-2 items-center relative",children:[b.jsxs("button",{className:"btn flex items-center gap-2 bg-slate-100 hover:bg-slate-200 text-slate-700 border border-slate-200",onClick:()=>I(K=>!K),type:"button",children:[b.jsx(gY,{size:18}),"Import / Upload"]}),N&&b.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-slate-200 rounded-lg shadow-lg z-10",children:[b.jsx("button",{className:"w-full text-left px-4 py-2 hover:bg-slate-100",onClick:()=>{var K;I(!1),(K=B.current)==null||K.click()},children:"Upload from Device"}),b.jsx("button",{className:"w-full text-left px-4 py-2 hover:bg-slate-100",onClick:Q,children:"Import from Google Drive"}),b.jsx("button",{className:"w-full text-left px-4 py-2 hover:bg-slate-100",onClick:$,children:"Import from OneDrive"})]}),b.jsx("input",{type:"file",className:"hidden",ref:B,onChange:G,accept:".txt,.docx,.pdf"}),C==="eit"&&b.jsx("button",{className:`btn btn-primary ${l?"opacity-75 cursor-not-allowed":""}`,onClick:()=>u(!0),disabled:l,children:l?"Refreshing...":"Refresh"}),b.jsxs("button",{onClick:()=>{A<g&&e(!0)},className:`btn flex items-center gap-2 ${A>=g?"bg-gray-300 text-gray-500 border-gray-300 cursor-not-allowed":"btn-primary"}`,disabled:A>=g,"aria-disabled":A>=g,title:A>=g?"You have reached your SAO limit for the Free plan.":"Start a new SAO",children:[b.jsx(Xv,{size:18}),"Start New SAO"]})]})]}),c&&b.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:b.jsxs("div",{className:"flex items-start gap-2",children:[b.jsx("span",{className:"text-red-600",children:"Error:"}),b.jsx("p",{className:"text-sm text-red-800",children:c})]})}),l?b.jsx("div",{className:"flex items-center justify-center py-12",children:b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-teal-600"})}):o.length>0?b.jsx("div",{className:"space-y-4",children:o.map(K=>b.jsx(qCe,{sao:K,onDelete:Te,onEdit:re},K.id))}):b.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:b.jsxs("div",{className:"text-center py-12",children:[b.jsx(z8,{className:"mx-auto h-12 w-12 text-slate-400"}),b.jsx("h3",{className:"mt-4 text-lg font-medium text-slate-900",children:"No SAOs yet"}),b.jsx("p",{className:"mt-2 text-slate-500",children:"Get started by writing your first SAO essay."}),b.jsx("button",{onClick:()=>e(!0),className:"mt-4 btn btn-primary",children:"Start Writing"})]})}),b.jsx($Ce,{isOpen:n,onClose:ie,editSAO:i,onCreated:()=>{u(),e(!1)},initialContent:Z,onInitialContentUsed:()=>ae(null)}),b.jsx(G2,{isOpen:U,onClose:()=>V(!1),children:b.jsxs("div",{className:"p-6",children:[b.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Imported Content Preview"}),b.jsx("div",{className:"bg-slate-50 p-4 rounded mb-4 whitespace-pre-wrap text-slate-800 min-h-[120px]",children:O}),b.jsx("button",{className:"btn btn-primary",onClick:()=>V(!1),children:"Close"})]})})]})},GCe=()=>{const[n,e]=H.useState(""),[i,r]=H.useState(""),[o,l]=H.useState(""),[c,u]=H.useState(!1),[h,m]=H.useState(null),[g,y]=H.useState(!1),[v,_]=H.useState(null),[A,S]=H.useState("general"),[C,T]=H.useState("help"),N=async F=>{F.preventDefault(),u(!0),m(null),y(!1);try{const U=await fetch("https://bbixvnkqroskholbxkgj.supabase.co/functions/v1/send-support-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU"},body:JSON.stringify({email:n,subject:i,message:o,issueType:A,mode:C})}),V=await U.json();if(!U.ok)throw new Error(V.error||"Failed to send message");y(!0),e(""),r(""),l(""),S("general")}catch(U){m(U instanceof Error?U.message:"Failed to send message. Please try again later."),console.error("Error sending support message:",U)}finally{u(!1)}},I=[{id:"sao",question:"What is an SAO?",answer:"A Situation-Action-Outcome (SAO) is a structured way to document your experiences and demonstrate your competencies. It helps you reflect on specific situations, the actions you took, and the outcomes achieved. This format is crucial for showcasing your professional growth and meeting EIT program requirements."},{id:"progress",question:"How do I track my progress?",answer:"Your progress is automatically tracked as you complete skills and document experiences. Visit the Dashboard to see your overall progress and skill-specific achievements. The progress bar shows your completion rate for skills, documented experiences, and supervisor approvals."},{id:"supervisor",question:"How do I connect with my supervisor?",answer:`You can connect with your supervisor through the "My Supervisor" section on your dashboard. If you haven't connected yet, you'll see an option to send a connection request. Once connected, your supervisor can review and validate your skills and experiences.`},{id:"skills",question:"How do I mark skills as complete?",answer:"To mark a skill as complete, navigate to the Skills section, select the skill you want to mark, and provide your self-assessment score. You'll need to document relevant experiences (SAOs) that demonstrate your competency in that skill. Your supervisor will then review and validate your assessment."},{id:"experiences",question:"How many experiences do I need to document?",answer:"You need to document at least 24 experiences (SAOs) across different skills. Each experience should demonstrate your competency in specific skills. Make sure to provide detailed descriptions of situations, your actions, and the outcomes achieved."}],O=[{title:"EIT Program Guide",description:"Comprehensive guide to the EIT program requirements and process",icon:b.jsx(K1,{size:20}),link:"/resources/eit-guide"},{title:"SAO Writing Tips",description:"Best practices for writing effective Situation-Action-Outcome statements",icon:b.jsx(Sd,{size:20}),link:"/resources/sao-tips"},{title:"Skills Framework",description:"Detailed breakdown of all required skills and competencies",icon:b.jsx(N1,{size:20}),link:"/resources/skills-framework"}];return b.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-8",children:[b.jsxs("div",{className:"text-center mb-8",children:[b.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Help & Support"}),b.jsx("p",{className:"text-slate-500 mt-2 text-lg",children:"Get help with your EIT program journey"}),b.jsx("div",{className:"mt-6 flex justify-center",children:b.jsxs("div",{className:"inline-flex rounded-lg border border-slate-200 p-1 bg-white",children:[b.jsxs("button",{onClick:()=>T("help"),className:`px-4 py-2 rounded-md text-sm font-medium flex items-center gap-2 ${C==="help"?"bg-teal-50 text-teal-700":"text-slate-600 hover:text-slate-900"}`,children:[b.jsx(N1,{size:16}),"Help"]}),b.jsxs("button",{onClick:()=>T("feedback"),className:`px-4 py-2 rounded-md text-sm font-medium flex items-center gap-2 ${C==="feedback"?"bg-teal-50 text-teal-700":"text-slate-600 hover:text-slate-900"}`,children:[b.jsx(C0,{size:16}),"Feedback"]})]})})]}),C==="help"?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"bg-teal-50 rounded-lg p-6 mb-8",children:[b.jsx("h2",{className:"text-xl font-semibold text-teal-800 mb-4",children:"Quick Help"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[b.jsxs("a",{href:"/dashboard",className:"bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[b.jsx("h3",{className:"font-medium text-teal-700",children:"View Progress"}),b.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Check your current progress and achievements"})]}),b.jsxs("a",{href:"/skills",className:"bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[b.jsx("h3",{className:"font-medium text-teal-700",children:"Manage Skills"}),b.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Update and track your skill assessments"})]}),b.jsxs("a",{href:"/experiences",className:"bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[b.jsx("h3",{className:"font-medium text-teal-700",children:"Document Experiences"}),b.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Add new experiences and SAOs"})]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[b.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Contact Support"}),b.jsxs("form",{onSubmit:N,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-1",children:"Your Email"}),b.jsx("input",{type:"email",id:"email",value:n,onChange:F=>e(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter your email",required:!0,disabled:c})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"issueType",className:"block text-sm font-medium text-slate-700 mb-1",children:"Issue Type"}),b.jsxs("select",{id:"issueType",value:A,onChange:F=>S(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",required:!0,disabled:c,children:[b.jsx("option",{value:"general",children:"General Inquiry"}),b.jsx("option",{value:"technical",children:"Technical Issue"}),b.jsx("option",{value:"skills",children:"Skills & Assessment"}),b.jsx("option",{value:"supervisor",children:"Supervisor Related"}),b.jsx("option",{value:"other",children:"Other"})]})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-slate-700 mb-1",children:"Subject"}),b.jsx("input",{type:"text",id:"subject",value:i,onChange:F=>r(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"What's your question about?",required:!0,disabled:c})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-slate-700 mb-1",children:"Message"}),b.jsx("textarea",{id:"message",value:o,onChange:F=>l(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 min-h-[150px]",placeholder:"Describe your issue or question...",required:!0,disabled:c})]}),h&&b.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-md text-sm flex items-center gap-2",children:[b.jsx(A0,{size:16}),h]}),g&&b.jsx("div",{className:"p-3 bg-green-50 text-green-700 rounded-md text-sm",children:"Your message has been sent successfully. We'll get back to you soon!"}),b.jsx("button",{type:"submit",className:"btn btn-primary w-full flex items-center justify-center gap-2",disabled:c,children:c?b.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):b.jsxs(b.Fragment,{children:[b.jsx(q5,{size:18}),"Send Message"]})})]})]}),b.jsxs("div",{className:"space-y-8",children:[b.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Frequently Asked Questions"}),b.jsx("div",{className:"space-y-4",children:I.map(F=>b.jsxs("div",{className:"border-b border-slate-200 last:border-0 pb-4 last:pb-0",children:[b.jsxs("button",{className:"w-full flex items-center justify-between text-left",onClick:()=>_(v===F.id?null:F.id),children:[b.jsx("h3",{className:"font-medium text-slate-900",children:F.question}),v===F.id?b.jsx(U8,{size:20}):b.jsx(WS,{size:20})]}),v===F.id&&b.jsx("p",{className:"text-sm text-slate-600 mt-2",children:F.answer})]},F.id))})]}),b.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Helpful Resources"}),b.jsx("div",{className:"space-y-4",children:O.map((F,U)=>b.jsxs("a",{href:F.link,className:"flex items-start gap-3 p-3 rounded-lg hover:bg-slate-50 transition-colors",children:[b.jsx("div",{className:"text-teal-600 mt-1",children:F.icon}),b.jsxs("div",{children:[b.jsx("h3",{className:"font-medium text-slate-900",children:F.title}),b.jsx("p",{className:"text-sm text-slate-600 mt-1",children:F.description})]}),b.jsx(L8,{size:16,className:"text-slate-400 ml-auto mt-1"})]},U))})]})]})]})]}):b.jsx("div",{className:"max-w-2xl mx-auto",children:b.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Share Your Feedback"}),b.jsx("p",{className:"text-slate-600 mb-6",children:"We value your feedback! Let us know what you think about the EIT program platform, what's working well, and what we can improve."}),b.jsxs("form",{onSubmit:N,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-1",children:"Your Email"}),b.jsx("input",{type:"email",id:"email",value:n,onChange:F=>e(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter your email",required:!0,disabled:c})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-slate-700 mb-1",children:"Subject"}),b.jsx("input",{type:"text",id:"subject",value:i,onChange:F=>r(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Brief summary of your feedback",required:!0,disabled:c})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-slate-700 mb-1",children:"Your Feedback"}),b.jsx("textarea",{id:"message",value:o,onChange:F=>l(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 min-h-[200px]",placeholder:"Share your thoughts, suggestions, or concerns...",required:!0,disabled:c})]}),h&&b.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-md text-sm flex items-center gap-2",children:[b.jsx(A0,{size:16}),h]}),g&&b.jsx("div",{className:"p-3 bg-green-50 text-green-700 rounded-md text-sm",children:"Thank you for your feedback! We appreciate your input."}),b.jsx("button",{type:"submit",className:"btn btn-primary w-full flex items-center justify-center gap-2",disabled:c,children:c?b.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):b.jsxs(b.Fragment,{children:[b.jsx(q5,{size:18}),"Submit Feedback"]})})]})]})})]})},XCe=()=>b.jsxs("div",{className:"min-h-screen bg-white",children:[b.jsx("div",{className:"relative bg-gradient-to-b from-teal-50 to-white",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-16 text-center",children:[b.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-slate-900 mb-6",children:"Streamline Your EIT Journey"}),b.jsx("p",{className:"text-xl text-slate-600 mb-8 max-w-3xl mx-auto",children:"Accreda helps engineers track, document, and manage their professional development journey towards becoming an Engineer in Training (EIT)."}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[b.jsx(Yl,{to:"/signup",className:"btn btn-primary text-lg px-8 py-3",children:"Get Started"}),b.jsx(Yl,{to:"/login",className:"btn btn-secondary text-lg px-8 py-3",children:"Sign In"})]})]})}),b.jsx("div",{className:"py-20 bg-white",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[b.jsx("h2",{className:"text-3xl font-bold text-center text-slate-900 mb-12",children:"Everything You Need to Succeed"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[b.jsx("div",{className:"card hover:scale-105 transition-transform",children:b.jsxs("div",{className:"p-6",children:[b.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center mb-4",children:b.jsx(d3,{className:"w-6 h-6 text-teal-600"})}),b.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Skill Tracking"}),b.jsx("p",{className:"text-slate-600",children:"Track your progress across all required engineering competencies with our intuitive skill assessment system."})]})}),b.jsx("div",{className:"card hover:scale-105 transition-transform",children:b.jsxs("div",{className:"p-6",children:[b.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center mb-4",children:b.jsx(Sd,{className:"w-6 h-6 text-teal-600"})}),b.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Experience Documentation"}),b.jsx("p",{className:"text-slate-600",children:"Document your engineering experiences with our structured templates and guidance."})]})}),b.jsx("div",{className:"card hover:scale-105 transition-transform",children:b.jsxs("div",{className:"p-6",children:[b.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center mb-4",children:b.jsx(K1,{className:"w-6 h-6 text-teal-600"})}),b.jsx("h3",{className:"text-xl font-semibold mb-2",children:"SAO Management"}),b.jsx("p",{className:"text-slate-600",children:"Create and manage your Self-Assessment Outcomes with our AI-powered writing assistant."})]})})]})]})}),b.jsx("div",{className:"py-20 bg-slate-50",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[b.jsx("h2",{className:"text-3xl font-bold text-center text-slate-900 mb-12",children:"Why Choose Accreda?"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[b.jsxs("div",{className:"flex items-start space-x-4",children:[b.jsx("div",{className:"flex-shrink-0",children:b.jsx(Im,{className:"w-6 h-6 text-teal-600"})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Structured Progress Tracking"}),b.jsx("p",{className:"text-slate-600",children:"Stay organized with our comprehensive tracking system for skills, experiences, and documentation."})]})]}),b.jsxs("div",{className:"flex items-start space-x-4",children:[b.jsx("div",{className:"flex-shrink-0",children:b.jsx($S,{className:"w-6 h-6 text-teal-600"})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Supervisor Collaboration"}),b.jsx("p",{className:"text-slate-600",children:"Streamline the approval process with our integrated supervisor review system."})]})]}),b.jsxs("div",{className:"flex items-start space-x-4",children:[b.jsx("div",{className:"flex-shrink-0",children:b.jsx(z0,{className:"w-6 h-6 text-teal-600"})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Time-Saving Tools"}),b.jsx("p",{className:"text-slate-600",children:"Our AI-powered writing assistant helps you draft professional documentation quickly."})]})]}),b.jsxs("div",{className:"flex items-start space-x-4",children:[b.jsx("div",{className:"flex-shrink-0",children:b.jsx(dye,{className:"w-6 h-6 text-teal-600"})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Progress Analytics"}),b.jsx("p",{className:"text-slate-600",children:"Get clear insights into your progress with detailed analytics and visualizations."})]})]})]})]})}),b.jsx("div",{className:"py-20 bg-white",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[b.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-6",children:"Ready to Start Your EIT Journey?"}),b.jsx("p",{className:"text-xl text-slate-600 mb-8 max-w-2xl mx-auto",children:"Join thousands of engineers who are using Accreda to streamline their path to becoming an Engineer in Training."}),b.jsxs(Yl,{to:"/signup",className:"btn btn-primary text-lg px-8 py-3 inline-flex items-center",children:["Get Started Now",b.jsx(cye,{className:"ml-2 w-5 h-5"})]})]})}),b.jsx("footer",{className:"bg-slate-900 text-white py-12",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Accreda"}),b.jsx("p",{className:"text-slate-400",children:"Helping engineers achieve their professional goals through structured development and documentation."})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),b.jsxs("ul",{className:"space-y-2",children:[b.jsx("li",{children:b.jsx(Yl,{to:"/login",className:"text-slate-400 hover:text-white",children:"Sign In"})}),b.jsx("li",{children:b.jsx(Yl,{to:"/signup",className:"text-slate-400 hover:text-white",children:"Sign Up"})}),b.jsx("li",{children:b.jsx(Yl,{to:"/help",className:"text-slate-400 hover:text-white",children:"Help & Support"})})]})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contact"}),b.jsxs("ul",{className:"space-y-2 text-slate-400",children:[b.jsx("li",{children:"Email: support@accreda.com"}),b.jsx("li",{children:"Phone: (555) 123-4567"})]})]})]}),b.jsx("div",{className:"border-t border-slate-800 mt-8 pt-8 text-center text-slate-400",children:b.jsxs("p",{children:["© ",new Date().getFullYear()," Accreda. All rights reserved."]})})]})})]}),KCe=({value:n,onChange:e,disabled:i=!1})=>{const[r,o]=H.useState([]),[l,c]=H.useState(!1),[u,h]=H.useState(!1),[m,g]=H.useState([]),y=H.useRef(null);H.useEffect(()=>{(async()=>{try{const{data:{user:S}}=await je.auth.getUser();if(!S)return;const{data:C,error:T}=await je.from("supervisor_eit_relationships").select("supervisor_id").eq("eit_id",S.id).eq("status","active");if(T)throw T;const N=Array.from(new Set((C||[]).map(I=>I.supervisor_id)));console.log("Supervisor connections:",N),g(N)}catch(S){console.error("Error loading supervisor connections:",S)}})()},[]),H.useEffect(()=>{const A=S=>{y.current&&!y.current.contains(S.target)&&c(!1)};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]);const v=async A=>{const S=A.target.value;if(e(S,""),!S.trim()){o([]),c(!1);return}h(!0);try{const{data:{user:C}}=await je.auth.getUser();if(!C)return;if(m===void 0){o([]),c(!0),h(!1);return}if(!m.length){o([]),c(!0),h(!1);return}const{data:T,error:N}=await je.from("supervisor_profiles").select("id, full_name, email").or(`full_name.ilike.%${S}%,email.ilike.%${S}%`).in("id",m).limit(5);if(N)throw N;o(T||[]),c(!0)}catch(C){console.error("Error fetching supervisors:",C),o([])}finally{h(!1)}},_=A=>{e(A.full_name,A.email),c(!1)};return b.jsxs("div",{className:"relative",ref:y,children:[b.jsx("input",{type:"text",value:n,onChange:v,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter validator's full name",required:!0,disabled:i}),l&&(n.trim()||u)&&b.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white rounded-lg shadow-lg border border-slate-200 max-h-60 overflow-y-auto",children:u?b.jsx("div",{className:"p-2 text-sm text-slate-500",children:"Searching..."}):r.length>0?r.map(A=>b.jsxs("button",{className:"w-full px-4 py-2 text-left hover:bg-slate-50 focus:outline-none focus:bg-slate-50",onClick:()=>_(A),children:[b.jsx("div",{className:"font-medium text-slate-900",children:A.full_name}),b.jsx("div",{className:"text-sm text-slate-500",children:A.email})]},A.id)):b.jsx("div",{className:"p-2 text-sm text-slate-500",children:"No matching connected supervisors found"})})]})},ZCe=({value:n,onChange:e,disabled:i=!1})=>{const[r,o]=H.useState([]),[l,c]=H.useState(!1),[u,h]=H.useState(!1),m=H.useRef(null);H.useEffect(()=>{const v=_=>{m.current&&!m.current.contains(_.target)&&c(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const g=async v=>{const _=v.target.value;if(e(_,""),!_.trim()){o([]),c(!1);return}h(!0);try{const{data:{user:A}}=await je.auth.getUser();if(!A)return;const{data:S,error:C}=await je.from("job_references").select("id, full_name, email").or(`full_name.ilike.%${_}%,email.ilike.%${_}%`).eq("eit_id",A.id).limit(5);if(C)throw C;const T=Array.from(new Map((S||[]).map(N=>[N.email,N])).values());o(T),c(!0)}catch(A){console.error("Error fetching references:",A),o([])}finally{h(!1)}},y=v=>{e(v.full_name,v.email),c(!1)};return b.jsxs("div",{className:"relative",ref:m,children:[b.jsx("input",{type:"text",value:n,onChange:g,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter reference's full name",required:!0,disabled:i}),l&&(n.trim()||u)&&b.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white rounded-lg shadow-lg border border-slate-200 max-h-60 overflow-y-auto",children:u?b.jsx("div",{className:"p-2 text-sm text-slate-500",children:"Searching..."}):r.length>0?r.map(v=>b.jsxs("button",{className:"w-full px-4 py-2 text-left hover:bg-slate-50 focus:outline-none focus:bg-slate-50",onClick:()=>y(v),children:[b.jsx("div",{className:"font-medium text-slate-900",children:v.full_name}),b.jsx("div",{className:"text-sm text-slate-500",children:v.email})]},v.id)):b.jsx("div",{className:"p-2 text-sm text-slate-500",children:"No matching references found"})})]})},YCe=({isOpen:n,onClose:e,skillName:i,skillId:r,existingValidator:o,onSave:l,status:c,loadValidators:u})=>{const[h,m]=H.useState({fullName:(o==null?void 0:o.full_name)||"",email:(o==null?void 0:o.email)||"",description:(o==null?void 0:o.description)||""}),[g,y]=H.useState(!1),[v,_]=H.useState(null);H.useEffect(()=>{n&&m(o?{fullName:o.full_name,email:o.email,description:o.description}:{fullName:"",email:"",description:""})},[n,o,r]);const A=async S=>{S.preventDefault(),y(!0),_(null);try{const{data:{user:C}}=await je.auth.getUser();if(!C)throw new Error("No authenticated user");const{data:T,error:N}=await je.from("eit_profiles").select("full_name").eq("id",C.id).single();if(N)throw N;const{data:I,error:O}=await je.from("supervisor_profiles").select("id").eq("email",h.email).single();if(O)throw O;if(o){const{error:F}=await je.from("validators").update({full_name:h.fullName,email:h.email,description:h.description}).eq("id",o.id);if(F)throw F}else{const{error:F}=await je.from("validators").insert([{eit_id:C.id,skill_id:r,full_name:h.fullName,email:h.email,description:h.description,status:"pending"}]);if(F)throw F;await DM(I.id,T.full_name,i)}l(),e(),setTimeout(()=>u(),300)}catch(C){console.error("Validator insert error:",C),_(C instanceof Error?C.message:JSON.stringify(C)),ni.error(C instanceof Error?C.message:"Error submitting validator")}finally{y(!1)}};return n?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:b.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsxs("h3",{className:"text-lg font-semibold",children:[o?"Edit":"Add"," Validator for ",i]}),b.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600",children:b.jsx(eo,{size:24})})]}),v&&b.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:b.jsx("p",{className:"text-sm text-red-600",children:v})}),b.jsxs("form",{onSubmit:A,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),b.jsx(KCe,{value:h.fullName,onChange:(S,C)=>m(T=>({...T,fullName:S,email:C})),disabled:c!=="draft"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),b.jsx("input",{type:"email",value:h.email,onChange:S=>m(C=>({...C,email:S.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter validator's email",required:!0,disabled:c!=="draft"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),b.jsx("textarea",{value:h.description,onChange:S=>m(C=>({...C,description:S.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter description of validation",rows:4,required:!0,disabled:c!=="draft"})]}),b.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[b.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 rounded-lg",disabled:g,children:"Cancel"}),b.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 hover:bg-teal-700 rounded-lg disabled:opacity-50",disabled:g,children:g?"Saving...":o?"Update Validator":"Add Validator"})]})]})]})}):null},JCe=({isOpen:n,onClose:e,job:i,referenceNumber:r,existingReference:o,onSave:l})=>{const[c,u]=H.useState({fullName:"",email:"",referenceText:""}),[h,m]=H.useState(!1),[g,y]=H.useState(null),[v,_]=H.useState(!1);H.useEffect(()=>{n&&u(o?{fullName:o.full_name,email:o.email,referenceText:o.description}:{fullName:"",email:"",referenceText:""})},[n,o]);const A=async T=>{T.preventDefault(),m(!0),y(null);try{const{data:{user:N}}=await je.auth.getUser();if(!N)throw new Error("No authenticated user");const I={job_id:i.id,full_name:c.fullName,email:c.email,description:c.referenceText,reference_number:r,eit_id:N.id,validation_status:(o==null?void 0:o.validation_status)||"unsent"};if(o){const{error:O}=await je.from("job_references").update(I).eq("id",o.id);if(O)throw O}else{const{error:O}=await je.from("job_references").insert([I]);if(O)throw O}l(),e()}catch(N){console.error("ReferencePopup error:",N),y(N instanceof Error?N.message:"An error occurred"),ni.error(N instanceof Error?N.message:"Error submitting reference")}finally{m(!1)}},S=async()=>{if(o){_(!0),y(null);try{const T=await fetch("https://bbixvnkqroskholbxkgj.supabase.co/functions/v1/send-reference",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU"},body:JSON.stringify({reference_id:o.id,email:o.email})});if(!T.ok){const N=await T.json();throw new Error(N.error||"Failed to send reference")}l(),e(),ni.success("Reference request sent successfully")}catch(T){console.error("Error sending reference:",T),y(T instanceof Error?T.message:"An error occurred while sending the reference"),ni.error(T instanceof Error?T.message:"Error sending reference")}finally{_(!1)}}},C=async()=>{if(o){m(!0),y(null);try{const{error:T}=await je.from("job_references").update({validation_status:"unsent"}).eq("id",o.id);if(T)throw T;l(),e()}catch(T){console.error("Error canceling reference:",T),y(T instanceof Error?T.message:"An error occurred while canceling the reference"),ni.error(T instanceof Error?T.message:"Error canceling reference")}finally{m(!1)}}};return n?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:b.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsxs("h3",{className:"text-lg font-semibold",children:[o?"Edit":"Add"," Reference ",r," for ",i.title," at ",i.company]}),b.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600",children:b.jsx(eo,{size:24})})]}),g&&b.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:b.jsx("p",{className:"text-sm text-red-600",children:g})}),b.jsxs("form",{onSubmit:A,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),b.jsx(ZCe,{value:c.fullName,onChange:(T,N)=>u(I=>({...I,fullName:T,email:N})),disabled:(o==null?void 0:o.validation_status)==="validated"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),b.jsx("input",{type:"email",value:c.email,onChange:T=>u(N=>({...N,email:T.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter reference's email",required:!0,disabled:(o==null?void 0:o.validation_status)==="validated"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Reference Text"}),b.jsx("textarea",{value:c.referenceText,onChange:T=>u(N=>({...N,referenceText:T.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter reference text",rows:4,required:!0,disabled:(o==null?void 0:o.validation_status)==="validated"})]}),b.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[o&&o.validation_status==="pending"&&b.jsx("button",{type:"button",onClick:C,className:"px-4 py-2 text-sm font-medium text-red-600 hover:bg-red-50 rounded-lg",disabled:h||v,children:"Cancel Reference"}),o&&o.validation_status==="unsent"&&b.jsx("button",{type:"button",onClick:S,className:"px-4 py-2 text-sm font-medium text-teal-600 hover:bg-teal-50 rounded-lg",disabled:h||v,children:v?"Sending...":"Send Reference"}),b.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 rounded-lg",disabled:h||v,children:"Close"}),(o==null?void 0:o.validation_status)!=="validated"&&b.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 hover:bg-teal-700 rounded-lg disabled:opacity-50",disabled:h||v,children:h?"Saving...":o?"Update Reference":"Add Reference"})]})]})]})}):null},QCe=()=>{var Ne;const[n,e]=H.useState("references"),[i,r]=H.useState(null),[o,l]=H.useState(null),[c,u]=H.useState(null),[h,m]=H.useState(null),[g,y]=H.useState(null),[v,_]=H.useState({}),[A,S]=H.useState({}),[C,T]=H.useState([]),{skillCategories:N}=cf(),I=H.useRef(null),O=H.useRef(null),F=H.useRef(null),[U,V]=H.useState({}),[B,Z]=H.useState(null),[ae,me]=H.useState(""),[Q,ge]=H.useState([]),[$,Te]=H.useState(null),[re,ie]=H.useState(""),G=N.map(ke=>({...ke,skills:ke.skills.filter(Be=>Be.status==="completed"||Be.rank!==void 0)})).filter(ke=>ke.skills.length>0),K=async()=>{try{const{data:{user:ke}}=await je.auth.getUser();if(!ke)return;const{data:Be,error:X}=await je.from("validators").select("*").eq("eit_id",ke.id);if(X)throw X;const Ae=Be.reduce((Ie,be)=>(Ie[be.skill_id]||(Ie[be.skill_id]=[]),Ie[be.skill_id].push(be),Ie),{});_(Ae)}catch(ke){console.error("Error loading validators:",ke)}},ne=async()=>{try{const{data:{user:ke}}=await je.auth.getUser();if(!ke)return;const{data:Be,error:X}=await je.from("jobs").select("*").eq("eit_id",ke.id).order("start_date",{ascending:!1});if(X)throw X;T(Be||[])}catch(ke){console.error("Error loading jobs:",ke)}},J=async()=>{try{const{data:{user:ke}}=await je.auth.getUser();if(!ke)return;const{data:Be,error:X}=await je.from("job_references").select("*").eq("eit_id",ke.id);if(X)throw X;const Ae=Be.reduce((Ie,be)=>(Ie[be.job_id]||(Ie[be.job_id]=[]),Ie[be.job_id].push(be),Ie),{});S(Ae)}catch(ke){console.error("Error loading references:",ke)}},ue=async()=>{try{const{data:{user:ke}}=await je.auth.getUser();if(!ke)return;const{data:Be,error:X}=await je.from("eit_connections").select("*").or(`eit_id.eq.${ke.id},connected_eit_id.eq.${ke.id}`).eq("status","accepted");if(X)throw X;ge(Be||[])}catch(ke){console.error("Error loading connections:",ke)}};H.useEffect(()=>{K(),ne(),J(),ue()},[]),H.useEffect(()=>{let ke,Be=!0;return(async()=>{const{data:{user:X}}=await je.auth.getUser();X&&(ke=je.channel("validators-realtime").on("postgres_changes",{event:"*",schema:"public",table:"validators",filter:`eit_id=eq.${X.id}`},Ae=>{Be&&K()}).subscribe())})(),()=>{Be=!1,ke&&ke.unsubscribe()}},[]),H.useEffect(()=>{const ke=Be=>{const{itemId:X,itemType:Ae}=Be.detail||{},Ie=()=>{var Ee,He;const be=Ae==="reference"?`[data-reference-id="${X}"]`:Ae==="validator"?`[data-validator-id="${X}"]`:Ae==="job"?`[data-job-id="${X}"]`:"";if(!be)return;const we=document.querySelector(be);we&&(Ae==="reference"?(e("references"),(Ee=O.current)==null||Ee.scrollIntoView({behavior:"smooth",block:"start"})):Ae==="validator"&&(e("validators"),(He=F.current)==null||He.scrollIntoView({behavior:"smooth",block:"start"})),setTimeout(()=>{we.scrollIntoView({behavior:"smooth",block:"center"}),we.classList.add("highlight-item"),we.classList.add("animate-bounce-subtle"),setTimeout(()=>{we.classList.remove("highlight-item","animate-bounce-subtle")},2e3)},300))};requestAnimationFrame(()=>{Ae==="reference"&&n!=="references"||Ae==="validator"&&n!=="validators"?setTimeout(Ie,100):Ie()})};return window.addEventListener("scroll-to-item",ke),()=>window.removeEventListener("scroll-to-item",ke)},[n]),H.useEffect(()=>{const ke=()=>{ne(),J()};return window.addEventListener("jobs-updated",ke),()=>window.removeEventListener("jobs-updated",ke)},[]);const ee=()=>{K()},xe=()=>{J()},Se=async(ke,Be)=>{try{const{data:{user:X}}=await je.auth.getUser();if(!X)throw new Error("No authenticated user");const{error:Ae}=await je.from("job_references").update({validation_status:Be,validator_id:X.id,validated_at:new Date().toISOString(),validation_notes:re}).eq("id",ke.id);if(Ae)throw Ae;Te(null),ie(""),J(),ni.success(`Reference ${Be==="validated"?"validated":"rejected"} successfully`)}catch(X){console.error("Error validating reference:",X),ni.error("Failed to validate reference")}},Me=async ke=>{try{const{error:Be}=await je.from("job_references").delete().eq("id",ke.id);if(Be)throw Be;J(),ni.success("Reference unsent successfully")}catch(Be){console.error("Error unsending reference:",Be),ni.error("Failed to unsend reference")}},Fe=[...C].sort((ke,Be)=>new Date(Be.start_date).getTime()-new Date(ke.start_date).getTime()).filter(ke=>ke.title.toLowerCase().includes(ae.toLowerCase())||ke.company.toLowerCase().includes(ae.toLowerCase())||ke.skills&&ke.skills.some(Be=>{const X=N.flatMap(Ae=>Ae.skills).find(Ae=>Ae.id===Be);return X&&X.name.toLowerCase().includes(ae.toLowerCase())})),We=ke=>{switch(ke){case"validated":return"bg-green-100 text-green-700";case"rejected":return"bg-red-100 text-red-700";default:return"bg-yellow-100 text-yellow-700"}},ze=ke=>{switch(ke){case"validated":return b.jsx(kM,{size:16,className:"text-green-600"});case"rejected":return b.jsx(yY,{size:16,className:"text-red-600"});default:return b.jsx(A0,{size:16,className:"text-yellow-600"})}};return b.jsxs("div",{className:"space-y-6",children:[b.jsx("div",{className:"flex items-center justify-between",ref:I,children:b.jsxs("h1",{className:"text-2xl font-semibold text-slate-900 flex items-center",children:[b.jsx(lY,{size:24,className:"mr-2 text-teal-600"}),"Jobs"]})}),b.jsxs("div",{className:"mb-8",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[b.jsx(f2,{size:24,className:"text-teal-600"}),"Work Experience"]}),b.jsxs("button",{className:"btn btn-primary flex items-center gap-2 shadow-lg fixed bottom-8 right-8 z-40",onClick:()=>{},title:"Add Job",children:[b.jsx(Xv,{size:18})," Add Job"]})]}),b.jsx("div",{className:"mb-6",children:b.jsxs("div",{className:"relative max-w-md",children:[b.jsx($8,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),b.jsx("input",{type:"text",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Search jobs by title, company, or skill...",value:ae,onChange:ke=>me(ke.target.value)})]})}),b.jsx("div",{className:"relative border-l-2 border-slate-200 pl-6",children:Fe.length>0?Fe.map((ke,Be)=>{const X=!ke.end_date,Ae=X?"bg-green-100 text-green-700":"bg-slate-100 text-slate-600",Ie=ke.company.split(" ").map(be=>be[0]).join("").toUpperCase();return b.jsxs("div",{className:"mb-10 relative",children:[b.jsx("span",{className:"absolute -left-7 top-4 w-5 h-5 rounded-full bg-white border-2 border-teal-500 flex items-center justify-center text-teal-600 font-bold text-sm shadow",children:Ie}),b.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-slate-100 p-6 flex flex-col gap-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsxs("h3",{className:"text-xl font-semibold text-slate-900 flex items-center gap-2",children:[ke.title,b.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs font-semibold ${Ae}`,children:X?"Current":"Past"})]}),b.jsx("p",{className:"text-slate-600 font-medium",children:ke.company}),b.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500 mt-1",children:[b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx(q2,{size:14}),new Date(ke.start_date).toLocaleDateString()," - ",ke.end_date?new Date(ke.end_date).toLocaleDateString():"Present"]}),b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx($W,{size:14}),ke.location]})]})]}),b.jsx("button",{className:"ml-4 p-2 rounded-full hover:bg-slate-100 text-slate-500",onClick:()=>Z(B===ke.id?null:ke.id),title:B===ke.id?"Collapse":"Expand",children:B===ke.id?b.jsx(U8,{size:20}):b.jsx(WS,{size:20})})]}),B===ke.id&&b.jsxs("div",{className:"mt-4 space-y-3",children:[ke.description&&b.jsx("p",{className:"text-slate-700 text-sm mb-2",children:ke.description}),ke.skills&&ke.skills.length>0&&b.jsxs("div",{children:[b.jsx("h4",{className:"text-sm font-medium text-slate-700 mb-1",children:"Skills:"}),b.jsx("div",{className:"flex flex-wrap gap-2",children:ke.skills.map(be=>{const we=N.flatMap(Ee=>Ee.skills).find(Ee=>Ee.id===be);return we?b.jsx("span",{className:"px-2 py-1 bg-slate-100 text-slate-700 rounded-full text-xs",children:we.name},be):null})})]}),b.jsxs("div",{className:"mt-2",children:[b.jsx("h4",{className:"text-sm font-medium text-slate-700 mb-1",children:"References:"}),b.jsx("div",{className:"flex gap-2",children:[1,2].map(be=>{var Ee;const we=(Ee=A[ke.id])==null?void 0:Ee.find(He=>He.reference_number===be);return we?b.jsxs("button",{onClick:()=>{u(ke),m(we),y(be),window.dispatchEvent(new CustomEvent("scroll-to-item",{detail:{itemId:we.id,itemType:"reference"}}))},className:"px-3 py-1.5 text-sm font-medium text-slate-600 hover:text-slate-700 hover:bg-slate-50 rounded-lg transition-colors flex items-center gap-2 border border-slate-200","data-reference-id":we.id,children:[b.jsx(p2,{size:14}),"Reference ",be,": ",we.full_name]},we.id):b.jsxs("button",{onClick:()=>{u(ke),m(null),y(be)},className:"px-3 py-1.5 text-sm font-medium text-teal-600 hover:text-teal-700 hover:bg-teal-50 rounded-lg transition-colors flex items-center gap-2 border border-teal-200",children:[b.jsx(Xv,{size:14}),"Add Reference ",be]},be)})})]})]})]})]},ke.id)}):b.jsxs("div",{className:"text-center py-8 text-slate-500",children:[b.jsx(f2,{size:24,className:"mx-auto mb-2 text-slate-400"}),b.jsx("p",{children:"No work experience added yet"}),b.jsx("p",{className:"text-sm mt-1",children:"Add jobs using the button above"})]})})]}),b.jsxs("div",{className:"card",ref:O,children:[b.jsxs("div",{className:"flex border-b border-slate-200",children:[b.jsx("button",{onClick:()=>e("references"),className:`flex-1 py-3 px-4 text-sm font-medium ${n==="references"?"text-teal-600 border-b-2 border-teal-600":"text-slate-500 hover:text-slate-700"}`,children:b.jsxs("div",{className:"flex items-center justify-center gap-2",children:[b.jsx($S,{size:18}),"References"]})}),b.jsx("button",{onClick:async()=>{await K(),e("validators")},className:`flex-1 py-3 px-4 text-sm font-medium ${n==="validators"?"text-teal-600 border-b-2 border-teal-600":"text-slate-500 hover:text-slate-700"}`,children:b.jsxs("div",{className:"flex items-center justify-center gap-2",children:[b.jsx(Im,{size:18}),"Validators"]})})]}),b.jsx("div",{className:"p-6",ref:F,children:n==="references"?b.jsx("div",{className:"space-y-6",children:C.length>0?C.map(ke=>b.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4","data-job-id":ke.id,children:[b.jsxs("div",{className:"flex justify-between items-start mb-2",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"font-semibold text-slate-900",children:ke.title}),b.jsx("p",{className:"text-slate-600",children:ke.company})]}),b.jsx("div",{className:"flex gap-2",children:[1,2].map(Be=>{var Ae;const X=(Ae=A[ke.id])==null?void 0:Ae.find(Ie=>Ie.reference_number===Be);return X?b.jsxs("button",{onClick:()=>{u(ke),m(X),y(Be),window.dispatchEvent(new CustomEvent("scroll-to-item",{detail:{itemId:X.id,itemType:"reference"}}))},className:"px-3 py-1.5 text-sm font-medium text-slate-600 hover:text-slate-700 hover:bg-slate-50 rounded-lg transition-colors flex items-center gap-2 border border-slate-200","data-reference-id":X.id,children:[b.jsx(p2,{size:14}),"Reference ",Be,": ",X.full_name]},X.id):b.jsxs("button",{onClick:()=>{u(ke),m(null),y(Be)},className:"px-3 py-1.5 text-sm font-medium text-teal-600 hover:text-teal-700 hover:bg-teal-50 rounded-lg transition-colors flex items-center gap-2 border border-teal-200",children:[b.jsx(Xv,{size:14}),"Add Reference ",Be]},Be)})})]}),b.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500 mb-3",children:[b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx(q2,{size:14}),b.jsxs("span",{children:[new Date(ke.start_date).toLocaleDateString()," - ",ke.end_date?new Date(ke.end_date).toLocaleDateString():"Present"]})]}),b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx($W,{size:14}),b.jsx("span",{children:ke.location})]})]}),ke.description&&b.jsx("p",{className:"text-slate-600 text-sm mb-3",children:ke.description}),ke.skills&&ke.skills.length>0&&b.jsxs("div",{className:"mt-3",children:[b.jsx("h4",{className:"text-sm font-medium text-slate-700 mb-2",children:"Skills:"}),b.jsx("div",{className:"flex flex-wrap gap-2",children:ke.skills.map(Be=>{const X=N.flatMap(Ae=>Ae.skills).find(Ae=>Ae.id===Be);return X?b.jsx("span",{className:"px-2 py-1 bg-slate-100 text-slate-700 rounded-full text-xs",children:X.name},Be):null})})]}),b.jsxs("div",{className:"mt-4 space-y-4",children:[b.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"References"}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[1,2].map(Be=>{var Ae;const X=(Ae=A[ke.id])==null?void 0:Ae.find(Ie=>Ie.reference_number===Be);return b.jsx("div",{className:"border border-slate-200 rounded-lg p-4",children:X?b.jsxs("div",{children:[b.jsx("div",{className:"flex items-center justify-between mb-2",children:b.jsx("h5",{className:"font-medium text-slate-900",children:X.full_name})}),b.jsx("p",{className:"text-sm text-slate-600 mb-2",children:X.email}),X.description&&b.jsx("p",{className:"text-sm text-slate-700 mb-2",children:X.description}),X.validation_status==="pending"&&b.jsx("div",{className:"mb-2",children:b.jsx("button",{onClick:()=>Me(X),className:"px-3 py-1.5 text-sm font-medium text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors",children:"Unsend"})}),b.jsxs("div",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${We(X.validation_status)}`,children:[ze(X.validation_status),X.validation_status.charAt(0).toUpperCase()+X.validation_status.slice(1)]}),X.validation_notes&&b.jsxs("div",{className:"mt-2 p-2 bg-slate-50 rounded text-sm text-slate-600",children:[b.jsx("p",{className:"font-medium",children:"Validation Notes:"}),b.jsx("p",{children:X.validation_notes})]}),X.validated_at&&b.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["Validated on ",new Date(X.validated_at).toLocaleDateString()]}),Q.some(Ie=>Ie.connected_eit_id===ke.eit_id)&&X.validation_status==="pending"&&b.jsx("div",{className:"mt-3 flex gap-2",children:b.jsx("button",{onClick:()=>{Te(X),ie("")},className:"px-3 py-1.5 text-sm font-medium text-teal-600 hover:text-teal-700 hover:bg-teal-50 rounded-lg transition-colors flex items-center gap-2 border border-teal-200",children:"Validate Reference"})})]}):b.jsxs("button",{onClick:()=>{u(ke),m(null),y(Be)},className:"w-full px-3 py-1.5 text-sm font-medium text-teal-600 hover:text-teal-700 hover:bg-teal-50 rounded-lg transition-colors flex items-center gap-2 border border-teal-200",children:[b.jsx(Xv,{size:14}),"Add Reference ",Be]})},Be)})})]})]},ke.id)):b.jsxs("div",{className:"text-center py-8 text-slate-500",children:[b.jsx(f2,{size:24,className:"mx-auto mb-2 text-slate-400"}),b.jsx("p",{children:"No work experience added yet"}),b.jsx("p",{className:"text-sm mt-1",children:"Add jobs in the Work Experience section above"})]})}):b.jsx("div",{className:"space-y-6",children:G.length>0?G.map(ke=>b.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4",children:[b.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:ke.name}),b.jsx("div",{className:"space-y-4",children:ke.skills.map(Be=>{var X;return b.jsx("div",{className:"flex items-center justify-between","data-skill-id":Be.id,children:b.jsxs("div",{className:"flex-1",children:[b.jsx("h4",{className:"font-medium text-slate-800",children:Be.name}),b.jsxs("div",{className:"flex items-center gap-2",children:[(X=v[Be.id])==null?void 0:X.map(Ae=>b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("button",{onClick:()=>{Ae.status==="draft"&&(r(Be.id),l(Ae),window.dispatchEvent(new CustomEvent("scroll-to-item",{detail:{itemId:Ae.id,itemType:"validator"}})))},className:`px-3 py-1.5 text-sm font-medium rounded-lg transition-colors flex items-center gap-2 ${Ae.status!=="draft"?"bg-slate-100 text-slate-400 cursor-not-allowed":"text-slate-600 hover:text-slate-700 hover:bg-slate-50"}`,"data-validator-id":Ae.id,disabled:Ae.status!=="draft",children:[b.jsx(p2,{size:14}),Ae.full_name]}),b.jsx("span",{className:`ml-2 px-2 py-0.5 rounded text-xs font-semibold ${Ae.status==="draft"?"bg-yellow-100 text-yellow-800":Ae.status==="pending"?"bg-blue-100 text-blue-800":Ae.status==="scored"?"bg-green-100 text-green-800":"bg-slate-100 text-slate-500"}`,children:Ae.status.charAt(0).toUpperCase()+Ae.status.slice(1)}),Ae.status==="scored"&&b.jsxs("span",{className:"ml-2 text-green-700 font-bold",children:["Supervisor Score: ",Ae.score]}),Ae.status==="pending"&&b.jsx("button",{className:"ml-2 px-2 py-0.5 text-xs font-medium bg-orange-500 text-white rounded hover:bg-orange-600 disabled:bg-orange-200 disabled:cursor-not-allowed",disabled:!!(U[Ae.id]&&Date.now()-U[Ae.id]<5*60*1e3),onClick:async()=>{V(Ie=>({...Ie,[Ae.id]:Date.now()}));try{const{data:{user:Ie}}=await je.auth.getUser();if(!Ie)return;const{data:be}=await je.from("eit_profiles").select("full_name").eq("id",Ie.id).single(),{data:we}=await je.from("supervisor_profiles").select("id").eq("email",Ae.email).single();await DM((we==null?void 0:we.id)||Ae.email,(be==null?void 0:be.full_name)||Ie.email,Be.name),await je.from("validators").update({status:"pending",score:null}).eq("id",Ae.id),await K(),ni.success("Nudge sent!")}catch{ni.error("Failed to send nudge.")}},children:U[Ae.id]&&Date.now()-U[Ae.id]<5*60*1e3?`Nudged (wait ${Math.ceil((5*60*1e3-(Date.now()-U[Ae.id]))/1e3)}s)`:"Nudge Supervisor"}),Ae.status==="scored"&&b.jsx("button",{className:"ml-2 px-2 py-0.5 text-xs font-medium bg-green-800 text-white rounded hover:bg-green-900 disabled:bg-green-300 disabled:cursor-not-allowed",disabled:!!(U[Ae.id]&&Date.now()-U[Ae.id]<5*60*1e3),onClick:async()=>{V(Ie=>({...Ie,[Ae.id]:Date.now()}));try{const{data:{user:Ie}}=await je.auth.getUser();if(!Ie)return;const{data:be}=await je.from("eit_profiles").select("full_name").eq("id",Ie.id).single(),{data:we}=await je.from("supervisor_profiles").select("id").eq("email",Ae.email).single();await DM((we==null?void 0:we.id)||Ae.email,(be==null?void 0:be.full_name)||Ie.email,Be.name),await je.from("validators").update({status:"pending",score:null}).eq("id",Ae.id),await K(),ni.success("Rescore request sent!")}catch{ni.error("Failed to request rescore.")}},children:U[Ae.id]&&Date.now()-U[Ae.id]<5*60*1e3?`Requested (wait ${Math.ceil((5*60*1e3-(Date.now()-U[Ae.id]))/6e4)} min)`:"Ask for Rescore"}),(Ae.status==="draft"||Ae.status==="pending")&&b.jsx("button",{className:"btn btn-danger btn-xs",onClick:async()=>{await je.from("validators").delete().eq("id",Ae.id),setTimeout(()=>K(),300)},children:"Cancel"})]},Ae.id)),(!v[Be.id]||v[Be.id].length===0)&&b.jsx("button",{onClick:()=>{r(Be.id),l(null)},className:"px-3 py-1.5 text-sm font-medium text-teal-600 hover:text-teal-700 hover:bg-teal-50 rounded-lg transition-colors",children:"Add Validator"})]})]})},Be.id)})})]},ke.name)):b.jsxs("div",{className:"text-center py-8 text-slate-500",children:[b.jsx(Im,{size:24,className:"mx-auto mb-2 text-slate-400"}),b.jsx("p",{children:"No completed skills yet"}),b.jsx("p",{className:"text-sm mt-1",children:"Complete skills in the Skills section to see them here"})]})})})]}),b.jsx(YCe,{isOpen:i!==null,onClose:()=>{r(null),l(null)},skillName:i&&((Ne=N.flatMap(ke=>ke.skills).find(ke=>ke.id===i))==null?void 0:Ne.name)||"",skillId:i||"",existingValidator:o||void 0,onSave:ee,status:(o==null?void 0:o.status)??"draft",loadValidators:K}),b.jsx(JCe,{isOpen:c!==null&&g!==null,onClose:()=>{u(null),m(null),y(null)},job:c,referenceNumber:g,existingReference:h||void 0,onSave:xe}),$&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-lg w-full mx-4",children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Validate Reference"}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Validation Notes"}),b.jsx("textarea",{value:re,onChange:ke=>ie(ke.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",rows:4,placeholder:"Add any notes about the validation..."})]}),b.jsxs("div",{className:"flex justify-end gap-3",children:[b.jsx("button",{onClick:()=>{Te(null),ie("")},className:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-700 hover:bg-slate-50 rounded-lg transition-colors",children:"Cancel"}),b.jsx("button",{onClick:()=>Se($,"rejected"),className:"px-4 py-2 text-sm font-medium text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors",children:"Reject"}),b.jsx("button",{onClick:()=>Se($,"validated"),className:"px-4 py-2 text-sm font-medium text-green-600 hover:text-green-700 hover:bg-green-50 rounded-lg transition-colors",children:"Validate"})]})]})})]})},eTe=({onMenuClick:n})=>b.jsxs("header",{className:"fixed top-0 right-0 left-0 md:left-64 bg-white/80 backdrop-blur-md z-10 border-b border-slate-200 px-4 py-3 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center",children:[n&&b.jsx("button",{className:"md:hidden p-2 rounded-lg text-slate-500 hover:bg-slate-100 mr-2",onClick:n,"aria-label":"Open sidebar menu",children:b.jsx(dY,{size:24})}),b.jsx("div",{className:"ml-2 md:ml-0",children:b.jsx("h1",{className:"text-xl font-semibold text-slate-800",children:"Supervisor Dashboard"})})]}),b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("div",{className:"hidden md:block",children:b.jsx(TY,{})}),b.jsx("div",{className:"relative inline-block",children:b.jsx(PY,{})}),b.jsx(DY,{})]})]}),tTe=({appLoaded:n})=>{const[e,i]=H.useState(!1);return b.jsxs("div",{className:"min-h-screen bg-[#F5F7FA]",children:[b.jsx("div",{className:"hidden md:block",children:b.jsx(AM,{})}),e&&b.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[b.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:()=>i(!1)}),b.jsx("div",{className:"fixed inset-y-0 left-0 w-full max-w-xs bg-white shadow-xl",children:b.jsx(AM,{onClose:()=>i(!1)})})]}),b.jsxs("div",{className:"md:pl-64 flex flex-col min-h-screen",children:[b.jsx(eTe,{onMenuClick:()=>i(!0)}),b.jsx("main",{className:"flex-1 p-4 md:p-6 pt-20 md:pt-24 pb-20 md:pb-6",children:b.jsx(nK,{context:{appLoaded:n}})})]})]})},uA=()=>b.jsx("div",{className:"flex items-center justify-center min-h-screen",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-teal-500"})}),CH=async n=>{try{const[e,i,r]=await Promise.all([je.from("eit_skills").select("id",{count:"exact",head:!0}).eq("eit_id",n).not("rank","is",null),je.from("experiences").select("id",{count:"exact",head:!0}).eq("eit_id",n),je.from("experiences").select("id",{count:"exact",head:!0}).eq("eit_id",n).eq("supervisor_approved",!0)]);if(e.error||i.error||r.error)throw new Error("Failed to fetch EIT progress");const o=e.count||0,l=i.count||0,c=r.count||0,u=o/22,h=l/24,m=c/24;return{overallProgress:Math.round((u+h+m)/3*100),completedSkills:o,documentedExperiences:l,supervisorApprovals:c}}catch(e){return console.error("Error fetching EIT progress:",e),{overallProgress:0,completedSkills:0,documentedExperiences:0,supervisorApprovals:0}}},nTe=()=>{const[n,e]=H.useState(!0),[i,r]=H.useState(null),[o,l]=H.useState([]),[c,u]=H.useState([]),[h,m]=H.useState({}),[g,y]=H.useState(null),[v,_]=H.useState([]),[A,S]=H.useState(!1),[C,T]=H.useState({}),[N,I]=H.useState(null),[O,F]=H.useState(""),[U,V]=H.useState(!1),[B,Z]=H.useState(null),[ae,me]=H.useState(null),Q=async()=>{e(!0),r(null);try{const{data:{user:ie}}=await je.auth.getUser();if(!ie){r("No user found");return}const[G,K]=await Promise.all([je.from("supervisor_eit_relationships").select("id, eit_id, status, created_at, eit_profiles (id, full_name, email, start_date, target_date)").eq("supervisor_id",ie.id).eq("status","pending"),je.from("supervisor_eit_relationships").select("eit_id, eit_profiles (id, full_name, email, start_date, target_date)").eq("supervisor_id",ie.id).eq("status","active")]);if(G.error)throw G.error;if(K.error)throw K.error;const ne=(G.data||[]).map(Se=>({...Se,eit_profiles:Array.isArray(Se.eit_profiles)?Se.eit_profiles[0]:Se.eit_profiles}));l(ne);const J=(K.data||[]).map(Se=>{const Me=Array.isArray(Se.eit_profiles)?Se.eit_profiles[0]:Se.eit_profiles;return{id:String((Me==null?void 0:Me.id)||""),full_name:String((Me==null?void 0:Me.full_name)||""),email:String((Me==null?void 0:Me.email)||""),start_date:(Me==null?void 0:Me.start_date)||void 0,target_date:(Me==null?void 0:Me.target_date)||void 0}});u(J);const ue=J.map(Se=>CH(Se.id)),ee=await Promise.all(ue),xe=J.map((Se,Me)=>[Se.id,ee[Me]]);if(m(Object.fromEntries(xe)),g){const Se=J.find(Me=>Me.id===g.id);Se&&await $(Se)}}catch(ie){console.error("Error fetching team data:",ie),r("Failed to load team data. Please try again.")}finally{e(!1)}};H.useEffect(()=>{Q();const ie=()=>{Q()};return window.addEventListener("focus",ie),()=>{window.removeEventListener("focus",ie)}},[]),H.useEffect(()=>{const ie=setInterval(async()=>{if(c.length>0){const G=c.map(J=>CH(J.id)),K=await Promise.all(G),ne=c.map((J,ue)=>[J.id,K[ue]]);m(Object.fromEntries(ne))}},3e4);return()=>clearInterval(ie)},[c]);const ge=async(ie,G)=>{if(ie){e(!0);try{const{error:K}=await je.from("supervisor_eit_relationships").update({status:G?"active":"denied",updated_at:new Date().toISOString()}).eq("id",ie);if(K)throw K;if(l(ne=>ne.filter(J=>J.id!==ie)),G){const ne=o.find(J=>J.id===ie);ne&&ne.eit_profiles&&u(J=>[...J,ne.eit_profiles])}}catch(K){console.error("Error handling request:",K),r("Failed to process request. Please try again.")}finally{e(!1)}}},$=async ie=>{if(!ie||!ie.id)return;y(ie),S(!0);const{data:G,error:K}=await je.from("eit_skills").select("skill_id, rank, supervisor_score, category_name, skill_name, status, eit_id").eq("eit_id",ie.id),{data:ne,error:J}=await je.from("validators").select("*").eq("eit_id",ie.id),ue={};(ne||[]).forEach(xe=>{ue[xe.skill_id]||(ue[xe.skill_id]=[]),ue[xe.skill_id].push(xe)});const ee={};(G||[]).forEach(xe=>{ee[xe.category_name]||(ee[xe.category_name]=[]),ee[xe.category_name].push({...xe,validators:ue[xe.skill_id]||[]})}),T(ee),S(!1)},Te=async()=>{if(N){V(!0),Z(null),me(null);try{const{data:{user:ie}}=await je.auth.getUser();if(!ie)throw new Error("No supervisor user");await Z1({userId:N.id,type:"nudge",title:"Nudge from Supervisor",message:O||"Keep going! Your supervisor believes in you!"}),Z("Nudge sent!"),F(""),setTimeout(()=>I(null),1200)}catch(ie){me(ie.message||"Failed to send nudge")}finally{V(!1)}}},re=c.length>0?Math.round(c.reduce((ie,G)=>{var K;return ie+(((K=h[G.id])==null?void 0:K.overallProgress)||0)},0)/c.length):0;return n?b.jsx(uA,{}):i?b.jsx("div",{className:"p-6 text-red-600",children:i}):b.jsxs("div",{className:"p-6",children:[b.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Team"}),b.jsx("button",{className:"btn btn-primary mb-4",onClick:Q,disabled:n,children:n?"Reloading...":"Reload Team"}),b.jsxs("div",{className:"mb-8",children:[b.jsx("h2",{className:"text-lg font-semibold mb-2 text-slate-800",children:"Team Progress"}),b.jsxs("div",{className:"flex items-center justify-between mb-1",children:[b.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Average Completion"}),b.jsxs("span",{className:"text-sm font-semibold text-teal-600",children:[re,"%"]})]}),b.jsx("div",{className:"h-3 bg-slate-100 rounded-full overflow-hidden",children:b.jsx("div",{className:"h-full bg-teal-500 rounded-full transition-all duration-300",style:{width:`${re}%`}})}),b.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"This is the average overall progress of all your connected EITs."})]}),o.length>0&&b.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-8",children:[b.jsx("h2",{className:"text-lg font-semibold mb-2 text-yellow-800",children:"Pending Requests"}),b.jsx("button",{className:"btn btn-primary btn-sm mb-4",onClick:async()=>{e(!0);try{await Promise.all(o.map(ie=>ge(ie.id,!0)))}finally{e(!1)}},disabled:n,children:"Approve All"}),b.jsx("div",{className:"space-y-3",children:o.map(ie=>b.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 border-b border-yellow-100 pb-2 last:border-0",children:[b.jsxs("div",{children:[b.jsx("span",{className:"font-medium",children:ie.eit_profiles.full_name})," (",ie.eit_profiles.email,")",b.jsxs("span",{className:"ml-2 text-xs text-slate-500",children:["Requested on ",new Date(ie.created_at).toLocaleDateString()]})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>ge(ie.id,!0),children:"Accept"}),b.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>ge(ie.id,!1),children:"Deny"})]})]},ie.id))})]}),b.jsx("div",{className:"bg-white rounded-lg shadow mb-8",children:b.jsxs("div",{className:"p-6",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Team Members"}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(ie=>{const G=h[ie.id];let K=null,ne="teal",J="",ue=!1;if(ie.start_date&&ie.target_date){const ee=new Date,xe=new Date(ie.start_date),Me=new Date(ie.target_date).getTime()-xe.getTime(),Re=ee.getTime()-xe.getTime();let Fe=Math.max(0,Math.min(100,Math.round(Re/Me*100)));if(K=Fe,G){const We=G.overallProgress-Fe;We>0?(ne="teal",J="Ahead of schedule"):We>=-5?(ne="blue",J="On track"):(ne="purple",J="Behind schedule",ue=!0)}}return b.jsxs("div",{className:"border-b border-gray-200 pb-4 last:border-0",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),b.jsx("button",{className:"font-medium text-teal-700 hover:underline",onClick:()=>$(ie),children:ie.full_name})]}),b.jsxs("div",{className:"mt-2",children:[b.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),b.jsx("p",{className:"font-medium",children:ie.email})]}),G&&b.jsxs("div",{className:"mt-4",children:[b.jsxs("div",{className:"flex items-center justify-between mb-1",children:[b.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Overall Progress"}),b.jsxs("span",{className:"text-sm font-semibold text-teal-600",children:[G.overallProgress,"%"]})]}),b.jsx("div",{className:"h-2 bg-slate-100 rounded-full overflow-hidden",children:b.jsx("div",{className:`h-full rounded-full transition-all duration-300 ${ne==="teal"?"bg-teal-500":ne==="blue"?"bg-blue-500":"bg-purple-500"}`,style:{width:`${G.overallProgress}%`}})}),b.jsxs("div",{className:"flex flex-col gap-1 mt-2",children:[b.jsxs("div",{className:"flex gap-4 text-xs text-slate-500",children:[b.jsxs("span",{children:["Skills: ",G.completedSkills,"/22"]}),b.jsxs("span",{children:["Experiences: ",G.documentedExperiences,"/24"]}),b.jsxs("span",{children:["Approvals: ",G.supervisorApprovals,"/24"]})]}),K!==null&&b.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 mt-1",children:[J," (Expected: ",K,"%)",ue&&b.jsxs("button",{className:"ml-2 px-2 py-0.5 rounded bg-red-100 text-red-700 text-xs font-semibold flex items-center gap-1 hover:bg-red-200 transition",onClick:()=>{I(ie),F("")},children:[b.jsx(W8,{size:14,className:"mr-1"})," Nudge"]})]})]})]})]},ie.id)})})]})}),g&&b.jsx(G2,{isOpen:!!g,onClose:()=>y(null),children:b.jsxs("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto bg-white rounded-lg p-8",children:[b.jsxs("h2",{className:"text-2xl font-bold mb-6",children:[g.full_name,"'s Skills"]}),A?b.jsx("div",{children:"Loading..."}):Object.keys(C).length===0?b.jsx("div",{children:"No marked skills found."}):b.jsx("div",{className:"pr-2",children:Object.entries(C).sort(([ie],[G])=>{var J,ue;const K=parseInt(((J=ie.match(/\d+/))==null?void 0:J[0])||"0"),ne=parseInt(((ue=G.match(/\d+/))==null?void 0:ue[0])||"0");return K-ne}).map(([ie,G])=>{const K=J=>{const ue=J.match(/^([\d.]+)/);return ue?ue[1].split(".").map(Number):[0]},ne=[...G].sort((J,ue)=>{const ee=K(J.skill_name),xe=K(ue.skill_name);for(let Se=0;Se<Math.max(ee.length,xe.length);Se++){const Me=ee[Se]??0,Re=xe[Se]??0;if(Me!==Re)return Me-Re}return 0});return b.jsxs("div",{className:"mb-6",children:[b.jsx("h3",{className:"font-semibold text-slate-800 mb-3 text-lg",children:ie}),b.jsx("div",{className:"divide-y divide-slate-100 rounded-lg border border-slate-200 bg-white shadow-sm",children:ne.map(J=>b.jsxs("div",{className:"flex flex-row items-center gap-4 px-4 py-3 transition-colors hover:bg-slate-50 group",children:[b.jsx("span",{className:"font-medium text-slate-800 flex-1 min-w-0 truncate",children:J.skill_name}),b.jsxs("div",{className:"flex gap-2",children:[J.rank!==null&&J.rank!==void 0&&b.jsxs("span",{className:"inline-block px-2 py-0.5 rounded-full text-xs font-semibold bg-blue-100 text-blue-800 group-hover:bg-blue-200 transition-colors",title:"EIT's self score",children:["EIT: ",J.rank]}),J.supervisor_score!==null&&J.supervisor_score!==void 0&&b.jsxs("span",{className:"inline-block px-2 py-0.5 rounded-full text-xs font-semibold bg-green-100 text-green-800 group-hover:bg-green-200 transition-colors",title:"Supervisor's score",children:["Supervisor: ",J.supervisor_score]})]})]},J.skill_id))})]},ie)})})]})}),N&&b.jsx(G2,{isOpen:!!N,onClose:()=>I(null),children:b.jsxs("div",{className:"w-full max-w-md p-6 bg-white rounded-lg",children:[b.jsxs("h2",{className:"text-lg font-semibold mb-4",children:["Send a Nudge to ",N.full_name]}),b.jsx("textarea",{className:"w-full border rounded p-2 mb-3",rows:3,placeholder:"Type your message (or leave blank for a default nudge)",value:O,onChange:ie=>F(ie.target.value),disabled:U}),ae&&b.jsx("div",{className:"text-red-600 text-sm mb-2",children:ae}),B&&b.jsx("div",{className:"text-green-600 text-sm mb-2",children:B}),b.jsxs("div",{className:"flex gap-2 justify-end",children:[b.jsx("button",{className:"btn btn-secondary",onClick:()=>I(null),disabled:U,children:"Cancel"}),b.jsx("button",{className:"btn btn-primary",onClick:Te,disabled:U,children:U?"Sending...":"Send Nudge"})]})]})})]})},iTe={"1.1 Regulations, Codes & Standards":`Correct selection and application of statutory and technical requirements.
Evidence: Explicit citation of CSA, IEC, ABSA, etc.; design reviews addressing code clauses.
Level cues:
1 = can name relevant codes.
3 = interprets and applies clauses without oversight.
5 = authoring corporate standards; mentoring others on compliance.`,"1.2 Technical & Design Constraints":`Identifying limits (temperature, load, schedule) and designing within them.
Evidence: Trade-off studies, design margin calculations, interdisciplinary coordination notes.
Level cues:
1 = recognises simple constraints given by others.
3 = optimises design under multiple constraints.
5 = sets project-wide constraint envelopes and negotiates them.`,"1.3 Risk Management for Technical Work":`Systematic identification and mitigation of technical risks (distinct from safety).
Evidence: FMEA tables, hazard logs, risk registers with action plans.
Level cues:
1 = attends risk meetings.
3 = creates risk matrix and closes actions.
5 = institutionalises risk methodologies across projects.`,"1.4 Application of Theory":`Using engineering science to create or validate designs.
Evidence: Hand calculations, simulation models, design notes.
Level cues:
1 = performs textbook calcs shown by others.
3 = selects appropriate theory and justifies assumptions.
5 = derives novel analytical methods adopted by peers.`,"1.5 Solution Techniques & Results Verification":`Self-checking, peer-reviewing, and validating outputs.
Evidence: Check prints, back-calculations, test-vs-model comparisons.
Level cues:
1 = runs software without independent check.
3 = uses alternative method to cross-verify.
5 = implements QA verification workflows enterprise-wide.`,"1.6 Safety in Design & Technical Work":`Integrating safety / HAZOP thinking into technical tasks.
Evidence: SIL/LOPA studies, safety factors, safeguard design notes.
Level cues:
1 = attends toolbox talks.
3 = designs safety features and documents residual risk.
5 = chairs safety reviews and influences corporate safety culture.`,"1.7 Systems & Their Components":`Understanding and managing interactions within complex systems.
Evidence: System block diagrams, interface registers, control narratives.
Level cues:
1 = works on single component.
3 = balances interfaces across disciplines.
5 = architects whole-of-plant integration strategies.`,"1.8 Project or Asset Life-Cycle Awareness":`Considering feasibility through decommissioning.
Evidence: Stage-gate reports, O&M cost analyses, end-of-life plans.
Level cues:
1 = aware of immediate project phase.
3 = optimises design for O&M and eventual retirement.
5 = leads life-cycle cost optimisation across portfolio.`,"1.9 Quality Assurance":`Ensuring designs and deliverables meet defined quality criteria.
Evidence: ITPs, NCR resolution, audit findings.
Level cues:
1 = follows checklists.
3 = designs QA checks and resolves NCRs.
5 = drives continuous-improvement programs, reduces defect rates.`,"1.10 Engineering Documentation":`Creating clear drawings, reports, calculations.
Evidence: Issued-for-construction packages, calculation books.
Level cues:
1 = fills templates.
3 = authors multi-disciplinary documents accepted without major edits.
5 = sets documentation standards and trains staff.`,"2.1 Oral Communication (English)":`Clear, professional spoken English (presentations, meetings).
Evidence: Recorded presentations, client kick-off meetings.
Level cues:
1 = reads prepared notes.
3 = leads technical meetings, answers questions concisely.
5 = facilitates high-stakes negotiations.`,"2.2 Written Communication (English)":`Clear, structured technical writing.
Evidence: Formal reports, proposals, standards.
Level cues:
1 = grammar issues persist.
3 = reports accepted by clients without rewrite.
5 = publishes guidance documents adopted by organisation.`,"2.3 Reading & Comprehension (English)":`Using written technical material effectively.
Evidence: Mark-ups showing critical review, code interpretation memos.
Level cues:
1 = needs help interpreting dense specs.
3 = extracts crucial requirements, flags conflicts.
5 = synthesises complex literature into design policy.`,"3.1 Project Management Principles":`Scope, schedule, risk, change control.
Evidence: Gantt charts, change-order logs, status reports.
Level cues:
1 = tracks own tasks only.
3 = develops baselines, mitigates slippage.
5 = manages multi-discipline programs, mentors PMs.`,"3.2 Finances & Budget":`Cost estimating, cash-flow tracking, value engineering.
Evidence: CAPEX/OPEX estimates, variance analyses.
Level cues:
1 = inputs timesheets.
3 = owns WBS cost code, forecasts EAC accurately.
5 = optimises portfolio budgets, secures funding approvals.`,"4.1 Promote Team Effectiveness & Resolve Conflict":`Fostering collaboration and addressing interpersonal issues.
Evidence: Meeting minutes, stakeholder feedback, conflict-resolution plans.
Level cues:
1 = participates politely.
3 = facilitates consensus, resolves minor conflicts.
5 = leads high-tension negotiations, builds high-performing multi-site teams.`,"5.1 Professional Accountability (Ethics, Liability, Limits)":`Acting ethically, declaring limits, managing conflicts of interest.
Evidence: Signed professional-practice declarations, ethics case notes.
Level cues:
1 = knows the Code of Ethics exists.
3 = raises concerns proactively, seeks guidance.
5 = champions ethical culture, develops training modules.`,"6.1 Protection of the Public Interest":`Safety audits, public-impact assessments.
Evidence: Safety audits, public-impact assessments.
Level cues:
1 = identifies obvious hazards.
3 = designs to mitigate societal risk.
5 = influences public-safety policy.`,"6.2 Benefits of Engineering to the Public":`Community engagement records, cost-benefit studies.
Evidence: Community engagement records, cost-benefit studies.
Level cues:
1 = mentions public benefit.
3 = quantifies benefits, presents to stakeholders.
5 = leads projects delivering measurable public value.`,"6.3 Role of Regulatory Bodies":`Compliance registers, correspondence with AHJs.
Evidence: Compliance registers, correspondence with AHJs.
Level cues:
1 = names APEGA.
3 = coordinates approvals with multiple regulators.
5 = advises regulators, serves on industry committees.`,"6.4 Application of Sustainability Principles":`Life-cycle carbon analyses, circular-economy studies.
Evidence: Life-cycle carbon analyses, circular-economy studies.
Level cues:
1 = reuses specs.
3 = optimises design for energy/resource efficiency.
5 = drives corporate ESG strategy.`,"6.5 Promotion of Sustainability":`Training sessions delivered, sustainability KPIs met.
Evidence: Training sessions delivered, sustainability KPIs met.
Level cues:
1 = attends webinars.
3 = implements team sustainability actions.
5 = publishes best-practice guides, influences supply chain.`};function rTe(n){const e=iTe[n];if(!e)return b.jsx("span",{children:"No summary available for this skill."});const[i,r,...o]=e.split(/\n|\r/).filter(Boolean),l=r==null?void 0:r.replace(/^Evidence:/,"").trim(),c=o.filter(u=>u.trim().match(/^\d/));return b.jsxs("div",{children:[b.jsxs("div",{className:"mb-2",children:[b.jsx("span",{className:"font-semibold",children:"Skill Definition:"}),b.jsx("span",{className:"block text-slate-700 mt-1",children:i})]}),l&&b.jsxs("div",{className:"mb-2",children:[b.jsx("span",{className:"font-semibold",children:"Evidence supervisors might look for:"}),b.jsx("ul",{className:"list-disc ml-6 mt-1 text-slate-700",children:l.split(";").map((u,h)=>b.jsx("li",{children:u.trim()},h))})]}),c.length>0&&b.jsxs("div",{className:"mb-1",children:[b.jsx("span",{className:"font-semibold",children:"Level-specific indicators (cues):"}),b.jsx("ul",{className:"mt-1 ml-6 text-slate-700",children:c.map((u,h)=>{const m=u.match(/^(\d)\s*=\s*(.*)$/);return m?b.jsxs("li",{children:[b.jsx("span",{className:"font-bold",children:m[1]}),": ",m[2]]},h):b.jsx("li",{children:u},h)})})]})]})}const sTe=()=>{var Ie,be,we;const[n,e]=H.useState("skills"),[i,r]=H.useState("all"),[o,l]=H.useState([]),[c,u]=H.useState({}),[h,m]=H.useState({}),[g,y]=H.useState({}),[v,_]=H.useState({}),[A,S]=H.useState(!0),[C,T]=H.useState([]),[N,I]=H.useState(!0),[O,F]=H.useState(null),[U,V]=H.useState(null),[B,Z]=H.useState(!1),[ae,me]=H.useState({}),[Q,ge]=H.useState(null),[$,Te]=H.useState(!1),[re,ie]=H.useState([]),[G,K]=H.useState([]),[ne,J]=H.useState([]),[ue,ee]=H.useState(null),[xe,Se]=H.useState(null),{notifications:Me,markAsRead:Re}=p3(),Fe=i==="all"?re:re.filter(Ee=>Ee.eit_id===i),We=i==="all"?G:G.filter(Ee=>{var He;return((He=Ee.sao)==null?void 0:He.eit_id)===i}),ze=i==="all"?v:Object.fromEntries(Object.entries(v).filter(([Ee])=>Ee.startsWith(i+"_")));H.useEffect(()=>{(async()=>{S(!0);const{data:{user:He}}=await je.auth.getUser();if(!He)return;const{data:qe,error:Oe}=await je.from("skill_validations").select("*").eq("validator_id",He.id).order("validated_at",{ascending:!1}),{data:Ce,error:_e}=await je.from("validators").select("*").eq("email",He.email).eq("status","pending");if(Oe||!qe){S(!1);return}const ce=Array.from(new Set([...qe.map(bt=>bt.eit_id),...(Ce||[]).map(bt=>bt.eit_id)])),Ue=Array.from(new Set([...qe.map(bt=>bt.skill_id),...(Ce||[]).map(bt=>bt.skill_id)])),[{data:et},{data:nt}]=await Promise.all([je.from("eit_profiles").select("id, full_name, email").in("id",ce),je.from("skills").select("id, name").in("id",Ue)]),ct={};(et||[]).forEach(bt=>{ct[bt.id]=bt}),m(ct);const ht={};(nt||[]).forEach(bt=>{ht[bt.id]=bt}),y(ht);const Pt={};qe.forEach(bt=>{const Zt=`${bt.eit_id}_${bt.skill_id}`;Pt[Zt]||(Pt[Zt]=[]),Pt[Zt].push(bt)});const Bt=Object.values(Pt).map(bt=>{var mn,qt;const Zt=bt[0];return{id:`${Zt.eit_id}_${Zt.skill_id}`,skill_id:Zt.skill_id,full_name:((mn=ct[Zt.eit_id])==null?void 0:mn.full_name)||"",email:((qt=ct[Zt.eit_id])==null?void 0:qt.email)||"",description:Zt.feedback||"",status:"completed",score:Zt.score,created_at:Zt.validated_at,updated_at:Zt.validated_at,eit_id:Zt.eit_id}});l(Bt),ie((Ce||[]).map(bt=>({...bt,id:bt.id}))),_(Pt),S(!1)})()},[]);const Ne=async()=>{I(!0),F(null);try{const{data:{user:Ee}}=await je.auth.getUser();if(!Ee)throw new Error("No authenticated user");const{data:He,error:qe}=await je.from("sao_feedback").select("*, sao:saos (title, content, created_at, eit_id)").eq("supervisor_id",Ee.id).order("created_at",{ascending:!1});if(qe)throw qe;J(He||[]),K((He||[]).filter(Ce=>Ce.status==="pending"));const Oe=Array.from(new Set((He||[]).map(Ce=>{var _e;return(_e=Ce.sao)==null?void 0:_e.eit_id}).filter(Boolean)));if(Oe.length>0){const{data:Ce}=await je.from("eit_profiles").select("id, full_name").in("id",Oe),_e={};(Ce||[]).forEach(ce=>{_e[ce.id]=ce.full_name}),me(_e)}}catch(Ee){F(Ee.message||"Failed to load feedback requests")}finally{I(!1)}};H.useEffect(()=>{Ne()},[]);const ke=(Ee,He)=>{u(qe=>({...qe,[Ee]:He}))},Be=async Ee=>{try{ee(Ee.id),Se(null);const He=c[Ee.id];if(!He||He<1||He>5)return;const{data:{user:qe}}=await je.auth.getUser();if(!qe)return;const{error:Oe}=await je.from("validators").update({score:He,description:Ee.description,status:"scored",updated_at:new Date().toISOString()}).eq("id",Ee.id);if(Oe)throw Oe;ie(ce=>ce.filter(Ue=>Ue.id!==Ee.id)),u(ce=>{const Ue={...ce};return delete Ue[Ee.id],Ue});const Ce=g[Ee.skill_id];await rxe(Ee.eit_id,Ce?Ce.name:Ee.skill_id,He),await je.from("eit_skills").update({supervisor_score:He}).eq("eit_id",Ee.eit_id).eq("skill_id",Ee.skill_id);const _e=Ce?Ce.name:Ee.skill_id;Me.filter(ce=>ce.type==="validation_request"&&!ce.read&&ce.data&&ce.data.skillName===_e).forEach(ce=>Re(ce.id)),Se("Score submitted successfully!"),setTimeout(()=>Se(null),2e3)}catch(He){console.error("Error submitting score:",He),ud.error(He.message||"Error submitting score")}finally{ee(null)}},X=async Ee=>{await je.from("sao_feedback").update({status:"resolved"}).eq("id",Ee),T(He=>He.map(qe=>qe.id===Ee?{...qe,status:"resolved"}:qe))},Ae=async(Ee,He)=>{ee(Ee),Se(null);try{const{data:{user:qe}}=await je.auth.getUser();if(!qe)return;await je.from("sao_feedback").update({feedback:He,status:"submitted"}).eq("sao_id",Ee).eq("supervisor_id",qe.id),J(Oe=>Oe.map(Ce=>Ce.sao_id===Ee?{...Ce,feedback:He,status:"submitted"}:Ce)),K(Oe=>Oe.filter(Ce=>!(Ce.sao_id===Ee&&Ce.status!=="pending"))),Z(!1),V(null),Me.filter(Oe=>{var Ce;return Oe.type==="validation_request"&&!Oe.read&&Oe.data&&Oe.data.saoTitle&&U&&Oe.data.saoTitle===((Ce=U.sao)==null?void 0:Ce.title)}).forEach(Oe=>Re(Oe.id)),Se("Feedback submitted successfully!"),setTimeout(()=>Se(null),2e3),ud.success("Feedback submitted successfully!")}catch(qe){ud.error(qe.message||"Error submitting feedback")}finally{ee(null)}};return b.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[b.jsx("div",{className:"flex items-center justify-between mb-6",children:b.jsx("h1",{className:"text-2xl font-bold",children:"Review Center"})}),b.jsxs("div",{className:"flex items-center justify-between my-8 w-full",children:[b.jsx("div",{className:"flex items-center",children:b.jsx("button",{onClick:n==="skills"?()=>window.location.reload():Ne,disabled:A||N,className:"px-4 py-2 bg-teal-600 text-white rounded-md hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:A&&n==="skills"||N&&n==="saos"?"Refreshing...":"Refresh"})}),b.jsx("div",{className:"flex-1 flex justify-center",children:b.jsxs("div",{className:"relative flex bg-slate-100 rounded-full p-1 shadow-inner gap-0 items-center",children:[b.jsx("button",{onClick:()=>e("skills"),className:`px-6 py-2 rounded-full font-semibold transition-all duration-200 text-sm focus:outline-none z-10
                ${n==="skills"?"bg-teal-600 text-white shadow-lg":"text-slate-700 hover:text-teal-600"}`,style:{marginRight:"-0.5rem",marginLeft:"0.5rem"},"aria-pressed":n==="skills",children:"Skills"}),b.jsx("button",{onClick:()=>e("saos"),className:`px-6 py-2 rounded-full font-semibold transition-all duration-200 text-sm focus:outline-none z-10
                ${n==="saos"?"bg-teal-600 text-white shadow-lg":"text-slate-700 hover:text-teal-600"}`,style:{marginLeft:"-0.5rem",marginRight:"0.5rem"},"aria-pressed":n==="saos",children:"SAOs"})]})}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("div",{className:"ml-2 flex items-center gap-2",children:[b.jsx("label",{htmlFor:"eit-filter",className:"text-sm font-medium text-slate-700",children:"Filter by EIT:"}),b.jsxs("select",{id:"eit-filter",value:i,onChange:Ee=>r(Ee.target.value),className:"rounded-lg border border-slate-300 px-3 py-1.5 text-sm focus:border-teal-500 focus:outline-none focus:ring-1 focus:ring-teal-500",children:[b.jsx("option",{value:"all",children:"All EITs"}),Object.values(h).map(Ee=>b.jsx("option",{value:Ee.id,children:Ee.full_name},Ee.id))]})]}),b.jsx("button",{className:`p-2 rounded-full text-slate-500 hover:bg-slate-200 transition ${$?"bg-slate-300":""}`,title:"Show History",onClick:()=>Te(Ee=>!Ee),type:"button",children:b.jsx(z0,{size:20})})]})]}),n==="skills"&&!$&&b.jsx("div",{children:A?b.jsx("div",{children:"Loading..."}):Fe.length===0?b.jsx("div",{children:"No pending skill validation requests."}):b.jsxs("div",{className:"space-y-4",children:[xe&&b.jsx("div",{className:"p-3 bg-green-50 text-green-700 rounded-md text-sm mb-4",children:xe}),Fe.map(Ee=>{const He=h[Ee.eit_id],qe=g[Ee.skill_id];return b.jsxs("div",{className:"bg-white rounded-lg shadow p-4 flex flex-col md:flex-row md:items-center md:justify-between gap-4 transition-all duration-300",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"font-semibold flex items-center gap-2",children:["Skill: ",qe?qe.name:Ee.skill_id,qe&&b.jsx("button",{className:"ml-1 p-1 rounded-full text-blue-500 hover:bg-blue-50",title:"View Skill Rubric",onClick:()=>ge(qe.name),type:"button",children:b.jsx(EM,{size:18})})]}),b.jsxs("div",{className:"text-slate-600",children:["EIT: ",He?`${He.full_name} (${He.email})`:Ee.eit_id]}),b.jsxs("div",{className:"text-slate-600",children:["Description: ",Ee.description]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("input",{type:"number",min:1,max:5,value:c[Ee.id]||"",onChange:Oe=>ke(Ee.id,Number(Oe.target.value)),className:"input w-24",placeholder:"Score"}),b.jsx("button",{className:"btn btn-primary flex items-center gap-2",onClick:()=>Be(Ee),disabled:ue===Ee.id||!c[Ee.id]||c[Ee.id]<1||c[Ee.id]>5,children:ue===Ee.id?b.jsx("span",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):"Submit Score"})]})]},Ee.id)})]})}),n==="skills"&&$&&b.jsxs("div",{children:[b.jsx("div",{className:"text-xl font-bold mb-4",children:"History"}),A?b.jsx("div",{children:"Loading..."}):Object.keys(ze).length===0?b.jsx("div",{children:"No history available."}):b.jsx("div",{className:"space-y-4",children:Object.entries(ze).map(([Ee,He])=>{const qe=He[0],Oe=h[qe.eit_id],Ce=g[qe.skill_id];return b.jsxs("div",{className:"bg-white rounded-lg shadow p-4 flex flex-col md:flex-row md:items-center md:justify-between gap-4 transition-all duration-300",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"font-semibold flex items-center gap-2",children:["Skill: ",Ce?Ce.name:qe.skill_id,Ce&&b.jsx("button",{className:"ml-1 p-1 rounded-full text-blue-500 hover:bg-blue-50",title:"View Skill Rubric",onClick:()=>ge(Ce.name),type:"button",children:b.jsx(EM,{size:18})})]}),b.jsxs("div",{className:"text-slate-600",children:["EIT: ",Oe?`${Oe.full_name} (${Oe.email})`:qe.eit_id]}),b.jsxs("div",{className:"text-slate-600",children:["Description: ",qe.feedback||""]}),b.jsx("div",{className:"mt-3 border-t pt-3",children:b.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-2",children:He.map((_e,ce)=>b.jsxs("div",{className:"bg-slate-50 rounded-lg p-2 text-sm",children:[b.jsxs("div",{className:"flex items-center justify-between mb-1",children:[b.jsxs("span",{className:"font-medium text-slate-700",children:["Score: ",_e.score]}),b.jsx("span",{className:"text-xs text-slate-500",children:_e.validated_at?new Date(_e.validated_at).toLocaleDateString():""})]}),_e.feedback&&b.jsxs("div",{className:"text-slate-600 text-xs mt-1",children:[b.jsx("span",{className:"font-medium",children:"Feedback:"})," ",_e.feedback]})]},ce))})})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("input",{type:"number",min:1,max:5,value:c[`${qe.eit_id}_${qe.skill_id}`]||"",onChange:_e=>ke(`${qe.eit_id}_${qe.skill_id}`,Number(_e.target.value)),className:"input w-24",placeholder:"Score"}),b.jsx("button",{className:"btn btn-primary",onClick:()=>Be({...qe,id:`${qe.eit_id}_${qe.skill_id}`,description:qe.feedback||""}),disabled:!c[`${qe.eit_id}_${qe.skill_id}`]||c[`${qe.eit_id}_${qe.skill_id}`]<1||c[`${qe.eit_id}_${qe.skill_id}`]>5,children:"Update Score"})]})]},Ee)})})]}),n==="saos"&&!$&&b.jsx("div",{children:N?b.jsx("div",{children:"Loading..."}):O?b.jsx("div",{className:"text-red-600",children:O}):We.length===0?b.jsx("div",{className:"text-slate-500",children:"No pending feedback requests assigned to you."}):b.jsx("div",{className:"space-y-4",children:We.map(Ee=>{var He,qe,Oe;return b.jsx("div",{className:"bg-white rounded-lg shadow p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{V(Ee),Z(!0)},children:b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-lg font-semibold text-teal-600",children:((He=Ee.sao)==null?void 0:He.title)||"Untitled SAO"}),b.jsxs("p",{className:"text-sm text-slate-500",children:["From: ",ae[((qe=Ee.sao)==null?void 0:qe.eit_id)||""]||((Oe=Ee.sao)==null?void 0:Oe.eit_id)||"Unknown"]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[Ee.status==="pending"&&b.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold bg-yellow-100 text-yellow-800",children:"Pending Review"}),Ee.status==="submitted"&&b.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800",children:"Feedback Submitted"})]})]})},Ee.id)})})}),n==="saos"&&$&&b.jsxs("div",{children:[b.jsx("div",{className:"text-xl font-bold mb-4",children:"History"}),N?b.jsx("div",{children:"Loading..."}):ne.filter(Ee=>Ee.status==="submitted").length===0?b.jsx("div",{className:"text-slate-500",children:"No SAO history available."}):b.jsx("div",{className:"space-y-4",children:ne.filter(Ee=>Ee.status==="submitted").map(Ee=>{var He,qe,Oe;return b.jsx("div",{className:"bg-white rounded-lg shadow p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{V(Ee),Z(!0)},children:b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-lg font-semibold text-teal-600",children:((He=Ee.sao)==null?void 0:He.title)||"Untitled SAO"}),b.jsxs("p",{className:"text-sm text-slate-500",children:["From: ",ae[((qe=Ee.sao)==null?void 0:qe.eit_id)||""]||((Oe=Ee.sao)==null?void 0:Oe.eit_id)||"Unknown"]})]}),b.jsx("div",{className:"flex items-center gap-2",children:b.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800",children:"Feedback Submitted"})})]})},Ee.id)})})]}),B&&U&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:b.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:b.jsxs("div",{className:"p-6",children:[b.jsxs("div",{className:"flex justify-between items-start mb-4",children:[b.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:((Ie=U.sao)==null?void 0:Ie.title)||"Untitled SAO"}),b.jsx("button",{onClick:()=>{Z(!1),V(null)},className:"text-slate-400 hover:text-slate-600",children:b.jsx(eo,{size:24})})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-2",children:"SAO Content"}),b.jsx("div",{className:"bg-slate-50 rounded-lg p-4",children:U.sao_id&&((be=U.sao)==null?void 0:be.content)&&b.jsx(XY,{saoId:U.sao_id,content:U.sao.content})})]}),b.jsx(H8,{feedback:[U],onResolve:X,onSubmitFeedback:Ae,isSupervisor:!0,saoContent:(we=U.sao)==null?void 0:we.content})]})})}),Q&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full relative",children:[b.jsx("button",{className:"absolute top-2 right-2 text-slate-400 hover:text-slate-600",onClick:()=>ge(null),children:"×"}),b.jsx("h3",{className:"text-lg font-semibold mb-4",children:Q}),rTe(Q)]})})]})},oTe=()=>{const[n,e]=H.useState([]),[i,r]=H.useState({}),[o,l]=H.useState(!0),[c,u]=H.useState(null),[h,m]=H.useState(null),[g,y]=H.useState("all");H.useEffect(()=>{(async()=>{l(!0),u(null);try{const{data:{user:S}}=await je.auth.getUser();if(!S)throw new Error("No authenticated user");const{data:C,error:T}=await je.from("documents").select("*").eq("supervisor_id",S.id).order("created_at",{ascending:!1});if(T)throw T;e(C||[]);const N=Array.from(new Set((C||[]).map(I=>I.eit_id).filter(Boolean)));if(N.length>0){const{data:I,error:O}=await je.from("eit_profiles").select("id, full_name, email").in("id",N);if(!O&&I){const F={};I.forEach(U=>{F[U.id]=U}),r(F)}}}catch{u("Failed to load documents.")}finally{l(!1)}})()},[]);const v=Object.values(i),_=g==="all"?n:n.filter(A=>A.eit_id===g);return b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Shared Documents"}),v.length>0&&b.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[b.jsx("label",{htmlFor:"eit-filter",className:"text-sm font-medium text-slate-700",children:"Filter by EIT:"}),b.jsxs("select",{id:"eit-filter",value:g,onChange:A=>y(A.target.value),className:"rounded-lg border border-slate-300 px-3 py-1.5 text-sm focus:border-teal-500 focus:outline-none focus:ring-1 focus:ring-teal-500",children:[b.jsx("option",{value:"all",children:"All EITs"}),v.map(A=>b.jsxs("option",{value:A.id,children:[A.full_name," (",A.email,")"]},A.id))]})]}),o&&b.jsx("div",{children:"Loading..."}),c&&b.jsx("div",{className:"text-red-600",children:c}),!o&&!c&&n.length===0&&b.jsxs("div",{className:"text-slate-500 flex flex-col items-center py-12",children:[b.jsx(Sd,{size:48,className:"mx-auto text-slate-400"}),b.jsx("div",{className:"mt-4 text-lg font-medium",children:"No documents shared with you yet."})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:_.map(A=>{const S=A.eit_id?i[A.eit_id]:void 0;return b.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200 ease-in-out",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("h3",{className:"font-semibold text-lg text-slate-800",children:A.title}),b.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-slate-700",onClick:()=>m(A),title:"Preview",children:b.jsx(B8,{size:16})})]}),b.jsxs("div",{className:"text-xs text-slate-500 mb-2",children:[b.jsx("span",{children:new Date(A.created_at).toLocaleDateString()}),b.jsx("span",{className:"mx-2",children:"•"}),b.jsx("span",{className:"capitalize",children:A.status})]}),S&&b.jsx("div",{className:"text-xs text-slate-600 mt-1",children:b.jsxs("span",{children:["From: ",b.jsx("span",{className:"font-medium",children:S.full_name})," (",S.email,")"]})})]},A.id)})}),h&&b.jsx(FY,{document:{...h,type:["essay","saos","other"].includes(h.type)?h.type:"other",status:["draft","submitted","approved","rejected"].includes(h.status)?h.status:"draft",word_count:typeof h.word_count=="number"?h.word_count:0},onClose:()=>m(null)})]})},aTe=ac()(G8(n=>({eitRequests:!0,skillValidationRequests:!0,saoFeedback:!0,weeklyDigest:!0,toggleEitRequests:()=>n(e=>({eitRequests:!e.eitRequests})),toggleSkillValidationRequests:()=>n(e=>({skillValidationRequests:!e.skillValidationRequests})),toggleSaoFeedback:()=>n(e=>({saoFeedback:!e.saoFeedback})),toggleWeeklyDigest:()=>n(e=>({weeklyDigest:!e.weeklyDigest}))}),{name:"supervisor-notification-preferences"})),lTe=()=>{var vi;const[n,e]=H.useState(null),[i,r]=H.useState(""),[o,l]=H.useState(""),[c,u]=H.useState(""),[h,m]=H.useState(!1),[g,y]=H.useState({type:"",text:""}),[v,_]=H.useState(!1),[A,S]=H.useState(!1),[C,T]=H.useState(!1),[N,I]=H.useState(""),[O,F]=H.useState(""),[U,V]=H.useState(""),[B,Z]=H.useState(""),[ae,me]=H.useState("Free"),[Q,ge]=H.useState([]),[$,Te]=H.useState(""),[re,ie]=H.useState("idle"),[G,K]=H.useState(""),[ne,J]=H.useState(!1),[ue,ee]=H.useState(""),[xe,Se]=H.useState(""),[Me,Re]=H.useState(""),[Fe,We]=H.useState("idle"),[ze,Ne]=H.useState(""),{eitRequests:ke,skillValidationRequests:Be,saoFeedback:X,weeklyDigest:Ae,toggleEitRequests:Ie,toggleSkillValidationRequests:be,toggleSaoFeedback:we,toggleWeeklyDigest:Ee}=aTe(),[He,qe]=H.useState(!1),[Oe,Ce]=H.useState(""),[_e,ce]=H.useState(""),[Ue,et]=H.useState(""),[nt,ct]=H.useState(""),[ht,Pt]=H.useState(!1),[Bt,bt]=H.useState(null),[Zt,mn]=H.useState(!1),{tier:qt,documentLimit:Vn,saoLimit:rs,supervisorLimit:jr,hasAiAccess:Rr,fetchSubscription:Ii}=qS();H.useEffect(()=>{(async()=>{var sn;const{data:{user:Ht}}=await je.auth.getUser();Ht&&(e(Ht),r(((sn=Ht.user_metadata)==null?void 0:sn.full_name)||""),l(Ht.email||""),u(Ht.email||""),je.from("supervisor_eit_relationships").select("eit_profiles (id, full_name, email)").eq("supervisor_id",Ht.id).eq("status","active").then(({data:Wn})=>{Wn&&ge(Wn.map(Xn=>Xn.eit_profiles).filter(Xn=>Xn))}),je.auth.mfa.listFactors().then(({data:Wn})=>{var Mr;const Xn=(Mr=Wn==null?void 0:Wn.all)==null?void 0:Mr.find(Ji=>Ji.factor_type==="totp"&&Ji.status==="verified");J(!!Xn)}))})(),Ii()},[]);const bi=async wt=>{wt.preventDefault(),m(!0),y({type:"",text:""});try{const Ht={};v&&(Ht.data={full_name:i}),A&&c!==o&&(Ht.email=c);const{error:sn}=await je.auth.updateUser(Ht);if(sn)throw sn;if(v&&n){const{error:Xn}=await je.from("supervisor_profiles").update({full_name:i}).eq("id",n.id);if(Xn)throw Xn}y({type:"success",text:"Profile updated successfully!"}),_(!1),S(!1);const{data:{user:Wn}}=await je.auth.getUser();Wn&&(e(Wn),l(Wn.email||""),u(Wn.email||""))}catch(Ht){y({type:"error",text:"Failed to update profile. Please try again."}),console.error("Error updating profile:",Ht)}finally{m(!1)}},yi=wt=>wt.split(" ").map(Ht=>Ht[0]).join("").toUpperCase();return b.jsxs("div",{className:"max-w-3xl mx-auto p-6 space-y-8",children:[b.jsxs("section",{className:"card p-6 flex flex-col md:flex-row gap-6 items-center",children:[b.jsx("div",{className:"flex flex-col items-center",children:b.jsx("div",{className:"relative",children:(vi=n==null?void 0:n.user_metadata)!=null&&vi.avatar_url?b.jsx("img",{src:n.user_metadata.avatar_url,className:"w-24 h-24 rounded-full object-cover bg-slate-100",alt:"Profile"}):b.jsx("div",{className:"w-24 h-24 rounded-full bg-teal-500 flex items-center justify-center text-white text-3xl font-bold",children:yi(i||o)})})}),b.jsxs("form",{className:"flex-1 space-y-4 w-full",onSubmit:bi,children:[b.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[b.jsx(bY,{})," Profile Information",b.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"SUPERVISOR"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"fullName",className:"label",children:"Full Name"}),v?b.jsxs("div",{className:"space-y-2",children:[b.jsx("input",{type:"text",id:"fullName",value:i,onChange:wt=>r(wt.target.value),className:"input",placeholder:"Enter your full name"}),b.jsx("div",{className:"flex space-x-2",children:b.jsx("button",{type:"button",onClick:()=>_(!1),className:"btn btn-secondary",children:"Cancel"})})]}):b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("p",{children:i||"Not set"}),b.jsx("button",{type:"button",onClick:()=>_(!0),className:"text-sm text-teal-600 hover:text-teal-700",children:"Edit"})]})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"label",children:"Email Address"}),A?b.jsxs("div",{className:"space-y-2",children:[b.jsx("input",{type:"email",id:"newEmail",value:c,onChange:wt=>u(wt.target.value),className:"input",placeholder:"Enter your new email"}),b.jsx("p",{className:"text-sm text-slate-500",children:"After changing your email, you'll need to use the new email address to log in."}),b.jsx("div",{className:"flex space-x-2",children:b.jsx("button",{type:"button",onClick:()=>S(!1),className:"btn btn-secondary",children:"Cancel"})})]}):b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("p",{children:o}),b.jsx("button",{type:"button",onClick:()=>S(!0),className:"text-sm text-teal-600 hover:text-teal-700",children:"Edit"})]})]}),(v||A)&&b.jsx("button",{type:"submit",disabled:h,className:"btn btn-primary",children:h?"Saving...":"Save Changes"})]})]}),b.jsxs("section",{className:"card p-6",children:[b.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[b.jsx(uY,{})," Security"]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"label",children:"Password"}),C?b.jsxs("div",{className:"space-y-4",children:[b.jsx("input",{type:"password",id:"currentPassword",value:N,onChange:wt=>I(wt.target.value),className:"input",placeholder:"Current password"}),b.jsx("input",{type:"password",id:"newPassword",value:O,onChange:wt=>F(wt.target.value),className:"input",placeholder:"New password"}),b.jsx("input",{type:"password",id:"confirmPassword",value:U,onChange:wt=>V(wt.target.value),className:"input",placeholder:"Confirm new password"}),B&&b.jsx("p",{className:"text-sm text-red-600",children:B}),b.jsx("div",{className:"flex space-x-2",children:b.jsx("button",{type:"button",onClick:()=>T(!1),className:"btn btn-secondary",children:"Cancel"})})]}):b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("p",{children:"••••••••"}),b.jsx("button",{type:"button",onClick:()=>T(!0),className:"text-sm text-teal-600 hover:text-teal-700",children:"Change"})]})]}),b.jsxs("div",{className:"mt-4",children:[b.jsx("label",{className:"label",children:"Two-Factor Authentication"}),ne?b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("span",{className:"text-green-700 font-medium",children:"Enabled (TOTP)"}),b.jsx("button",{className:"btn btn-danger w-fit",onClick:async()=>{var wt;We("idle"),Ne("");try{const{data:Ht}=await je.auth.mfa.listFactors(),sn=(wt=Ht==null?void 0:Ht.all)==null?void 0:wt.find(Wn=>Wn.factor_type==="totp"&&Wn.status==="verified");sn&&(await je.auth.mfa.unenroll({factorId:sn.id}),J(!1))}catch{Ne("Failed to disable 2FA.")}},children:"Disable 2FA"}),ze&&b.jsx("span",{className:"text-red-600 text-sm",children:ze})]}):Fe==="enrolling"?b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("span",{children:"Scan this QR code with your authenticator app:"}),ue&&b.jsx("img",{src:ue,alt:"TOTP QR Code",className:"w-40 h-40"}),b.jsx("input",{type:"text",className:"input mt-2",placeholder:"Enter 6-digit code",value:Me,onChange:wt=>Re(wt.target.value),maxLength:6}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{className:"btn btn-primary w-fit",onClick:async()=>{We("verifying"),Ne("");try{const{data:wt,error:Ht}=await je.auth.mfa.challenge({factorId:xe});if(Ht)throw Ht;const{error:sn}=await je.auth.mfa.verify({factorId:xe,challengeId:wt.id,code:Me});if(sn)throw sn;J(!0),We("enabled")}catch{Ne("Invalid code. Please try again."),We("enrolling")}},disabled:Me.length!==6,children:"Verify"}),b.jsx("button",{className:"btn btn-secondary w-fit",onClick:async()=>{We("idle"),ee(""),Se(""),Re(""),Ne("");try{const{data:wt}=await je.auth.mfa.listFactors();if(wt!=null&&wt.all)for(const Ht of wt.all)Ht.factor_type==="totp"&&Ht.status!=="verified"&&await je.auth.mfa.unenroll({factorId:Ht.id})}catch{}},children:"Cancel"})]}),ze&&b.jsx("span",{className:"text-red-600 text-sm",children:ze})]}):b.jsx("button",{className:"btn btn-primary w-fit",onClick:async()=>{We("enrolling"),Ne(""),ee(""),Se(""),Re("");try{const{data:wt}=await je.auth.mfa.listFactors();if(wt!=null&&wt.all)for(const Ht of wt.all)Ht.factor_type==="totp"&&Ht.status!=="verified"&&await je.auth.mfa.unenroll({factorId:Ht.id})}catch{}try{const{data:wt,error:Ht}=await je.auth.mfa.enroll({factorType:"totp"});if(Ht)throw Ht;ee(wt.totp.qr_code),Se(wt.id)}catch{Ne("Failed to start 2FA enrollment."),We("idle")}},children:"Set up Two-Factor Authentication"})]})]})]}),b.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[b.jsx("div",{className:"flex items-center justify-between mb-4",children:b.jsxs("div",{className:"flex items-center",children:[b.jsx($2,{className:"h-6 w-6 text-gray-400 mr-2"}),b.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Notification Preferences"})]})}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"EIT Connection Requests"}),b.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when an EIT requests to connect with you"})]}),b.jsx(bm,{checked:ke,onChange:Ie,className:`${ke?"bg-teal-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2`,children:b.jsx("span",{className:`${ke?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Skill Validation Requests"}),b.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when an EIT requests skill validation"})]}),b.jsx(bm,{checked:Be,onChange:be,className:`${Be?"bg-teal-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2`,children:b.jsx("span",{className:`${Be?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"SAO Feedback"}),b.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when you receive new SAO feedback requests"})]}),b.jsx(bm,{checked:X,onChange:we,className:`${X?"bg-teal-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2`,children:b.jsx("span",{className:`${X?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Weekly Digest"}),b.jsxs("p",{className:"text-sm text-gray-500",children:["Receive a weekly report on your EITs' progress and activities (",o,")"]})]}),b.jsx(bm,{checked:Ae,onChange:Ee,className:`${Ae?"bg-teal-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2`,children:b.jsx("span",{className:`${Ae?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]})]})]}),b.jsxs("section",{className:"card p-6",children:[b.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[b.jsx(W8,{})," EIT Connections"]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-3",children:"Current Connections"}),Q.length===0?b.jsx("div",{className:"text-slate-400",children:"No active EIT connections."}):b.jsx("ul",{className:"divide-y divide-slate-200",children:Q.map(wt=>b.jsxs("li",{className:"py-2 flex flex-col md:flex-row md:items-center md:justify-between",children:[b.jsx("span",{className:"font-medium text-slate-800",children:wt.full_name}),b.jsx("span",{className:"text-slate-500 text-sm",children:wt.email})]},wt.id))})]}),b.jsx("div",{className:"border-t border-slate-200 my-4"}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-3",children:"Connect with a New EIT"}),qt==="free"&&Q.length>=1&&b.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded text-yellow-900 font-semibold text-center",children:"You have reached your EIT connection limit for the Free plan. Upgrade to Enterprise to connect with more EITs."}),b.jsxs("form",{className:"flex flex-col md:flex-row gap-4 items-start md:items-end",onSubmit:async wt=>{if(wt.preventDefault(),ie("idle"),K(""),!!$){if(qt==="free"&&Q.length>=1){ie("error"),K("You have reached your EIT connection limit for the Free plan. Please upgrade to Enterprise to connect with more EITs.");return}m(!0);try{const{data:Ht}=await je.from("eit_profiles").select("id, email, full_name").eq("email",$).single();if(!Ht){ie("notfound"),K("No EIT found with that email."),m(!1);return}const{data:sn}=await je.from("supervisor_eit_relationships").select("id, status").eq("supervisor_id",n==null?void 0:n.id).eq("eit_id",Ht.id).maybeSingle();if(sn&&sn.status==="pending"){ie("pending"),K("A request is already pending for this EIT."),m(!1);return}if(sn&&sn.status==="active"){ie("already"),K("This EIT is already connected."),m(!1);return}const{error:Wn}=await je.from("supervisor_eit_relationships").upsert({supervisor_id:n==null?void 0:n.id,eit_id:Ht.id,status:"pending",created_at:new Date().toISOString(),updated_at:new Date().toISOString()});if(Wn)throw Wn;ie("success"),K("Request sent! The EIT will see it in their dashboard."),Te("")}catch(Ht){console.error(Ht),ie("error"),K("Failed to send request. Please try again.")}finally{m(!1)}}},children:[b.jsxs("div",{className:"flex-1 w-full",children:[b.jsx("label",{htmlFor:"eitEmail",className:"label",children:"EIT Email"}),b.jsx("input",{type:"email",id:"eitEmail",value:$,onChange:wt=>Te(wt.target.value),className:"input w-full",placeholder:"Enter EIT's email",required:!0,disabled:qt==="free"&&Q.length>=1})]}),b.jsx("button",{type:"submit",className:"btn btn-primary whitespace-nowrap",disabled:h||qt==="free"&&Q.length>=1,children:h?"Sending...":"Send Request"})]}),G&&b.jsx("div",{className:`mt-3 text-sm p-2 rounded-md ${re==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:G})]})]})]}),b.jsxs("section",{className:"card p-6",children:[b.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[b.jsx($2,{})," Notifications"]}),b.jsx("p",{className:"text-slate-500 text-sm",children:"Coming soon: Manage your email and in-app notification preferences."})]}),b.jsxs("section",{className:"card p-6",children:[b.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[b.jsx(mY,{})," Appearance"]}),b.jsx("p",{className:"text-slate-500 text-sm",children:"Coming soon: Switch between light and dark mode."})]}),b.jsxs("div",{className:"pt-8",children:[b.jsxs("div",{className:"mb-6 text-center",children:[b.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-2",children:"Choose Your Plan"}),b.jsx("p",{className:"text-gray-600 text-md max-w-2xl mx-auto",children:"Select the plan that best fits your needs"})]}),b.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[b.jsxs("div",{className:`border ${qt==="free"?"border-blue-500":"border-gray-200"} rounded-2xl p-8 bg-gradient-to-br from-blue-50 to-white flex flex-col items-center shadow-sm`,children:[b.jsx("h3",{className:"text-2xl font-bold text-blue-900 mb-2",children:"Free"}),b.jsx("p",{className:"text-5xl font-extrabold text-blue-800 mb-4",children:"$0"}),b.jsxs("ul",{className:"mb-6 w-full space-y-3",children:[b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"Up to 5 documents"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"Up to 5 SAOs"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"Connect with 1 EIT"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Standard support"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-red-500 mr-2",children:"✗"})," AI Features"]})]}),qt==="free"?b.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 px-4 py-2 rounded-full font-semibold text-sm shadow",children:"Current Plan"}):b.jsx("button",{onClick:()=>window.location.href="mailto:contact@accreda.com?subject=Downgrade to Free Plan",className:"inline-block bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-full font-semibold text-sm shadow transition-colors",children:"Contact to Downgrade"})]}),b.jsxs("div",{className:`border ${qt==="enterprise"?"border-purple-500":"border-gray-200"} rounded-2xl p-8 bg-gradient-to-br from-purple-50 to-white flex flex-col items-center shadow-sm`,children:[b.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-2",children:"Enterprise"}),b.jsx("p",{className:"text-base font-semibold text-purple-800 mb-4",children:"Custom Pricing"}),b.jsxs("ul",{className:"mb-6 w-full space-y-3",children:[b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Unlimited documents"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Unlimited SAOs"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Unlimited EIT connections"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Priority support"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," AI Features"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Dedicated account manager"]})]}),qt==="enterprise"?b.jsx("span",{className:"inline-block bg-purple-100 text-purple-800 px-4 py-2 rounded-full font-semibold text-sm shadow",children:"Current Plan"}):b.jsx("button",{onClick:()=>qe(!0),className:"inline-block bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-full font-semibold text-sm shadow transition-colors",children:"Contact Us"})]})]})]}),He&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full relative",children:[b.jsx("button",{className:"absolute top-2 right-2 text-slate-400 hover:text-slate-600",onClick:()=>{qe(!1),mn(!1),bt(null)},"aria-label":"Close",children:"×"}),b.jsx("h2",{className:"text-xl font-bold mb-4 text-purple-800",children:"Enterprise Plan Inquiry"}),Zt?b.jsx("div",{className:"p-3 bg-green-50 text-green-700 rounded-md text-sm mb-4",children:"Your inquiry has been sent successfully. We'll get back to you soon!"}):b.jsxs("form",{onSubmit:async wt=>{wt.preventDefault(),Pt(!0),bt(null),mn(!1);try{const Ht=await fetch("https://bbixvnkqroskholbxkgj.supabase.co/functions/v1/send-support-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU"},body:JSON.stringify({email:_e,subject:"Enterprise Plan Inquiry",message:`Name: ${Oe}
Corporation: ${Ue}

${nt}`,issueType:"enterprise",mode:"help"})}),sn=await Ht.json();if(!Ht.ok)throw new Error(sn.error||"Failed to send message");mn(!0),Ce(""),ce(""),et(""),ct("")}catch(Ht){bt(Ht instanceof Error?Ht.message:"Failed to send message. Please try again later.")}finally{Pt(!1)}},className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"contactName",className:"label",children:"Full Name"}),b.jsx("input",{type:"text",id:"contactName",value:Oe,onChange:wt=>Ce(wt.target.value),className:"input",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"contactEmail",className:"label",children:"Email Address"}),b.jsx("input",{type:"email",id:"contactEmail",value:_e,onChange:wt=>ce(wt.target.value),className:"input",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"contactCorporation",className:"label",children:"Organization"}),b.jsx("input",{type:"text",id:"contactCorporation",value:Ue,onChange:wt=>et(wt.target.value),className:"input",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"contactMessage",className:"label",children:"Message"}),b.jsx("textarea",{id:"contactMessage",value:nt,onChange:wt=>ct(wt.target.value),className:"input h-32",required:!0,placeholder:"Tell us about your needs and how we can help..."})]}),Bt&&b.jsx("div",{className:"p-3 bg-red-50 text-red-700 rounded-md text-sm",children:Bt}),b.jsxs("div",{className:"flex justify-end gap-2",children:[b.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{qe(!1),mn(!1),bt(null)},disabled:ht,children:"Cancel"}),b.jsx("button",{type:"submit",className:"btn btn-primary",disabled:ht,children:ht?"Sending...":"Send Message"})]})]})]})}),b.jsxs("section",{className:"card p-6 border-red-200",children:[b.jsxs("h2",{className:"text-lg font-semibold text-red-600 flex items-center gap-2 mb-2",children:[b.jsx(T0,{})," Danger Zone"]}),b.jsx("button",{className:"btn btn-danger",children:"Delete Account"}),b.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"This action is irreversible. Your data will be permanently deleted."})]}),g.text&&b.jsx("div",{className:`fixed bottom-4 right-4 p-4 rounded-md z-50 ${g.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:g.text})]})},cTe=()=>{const[n,e]=H.useState(""),[i,r]=H.useState(""),[o,l]=H.useState(""),[c,u]=H.useState(!1),[h,m]=H.useState(null),[g,y]=H.useState(!1),[v,_]=H.useState(null),[A,S]=H.useState("general"),[C,T]=H.useState("help"),N=async F=>{F.preventDefault(),u(!0),m(null),y(!1);try{const U=await fetch("https://bbixvnkqroskholbxkgj.supabase.co/functions/v1/send-support-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU"},body:JSON.stringify({email:n,subject:i,message:o,issueType:A,mode:C,userType:"supervisor"})}),V=await U.json();if(!U.ok)throw new Error(V.error||"Failed to send message");y(!0),e(""),r(""),l(""),S("general")}catch(U){m(U instanceof Error?U.message:"Failed to send message. Please try again later."),console.error("Error sending support message:",U)}finally{u(!1)}},I=[{id:"validation",question:"How do I validate EIT skills?",answer:"To validate an EIT's skills, navigate to the Validation Requests section. Here you can review their self-assessments and supporting experiences. For each skill, you can provide a score and feedback based on the evidence presented. Make sure to thoroughly review their documented experiences before making your assessment."},{id:"team",question:"How do I manage my EIT team?",answer:"The Team section allows you to view all your connected EITs, their progress, and pending requests. You can accept new EIT connections, view individual progress, and access detailed skill assessments for each team member. Regular check-ins and feedback are essential for effective team management."},{id:"reviews",question:"What should I look for in experience reviews?",answer:"When reviewing experiences, focus on the quality of the Situation-Action-Outcome (SAO) documentation. Look for clear descriptions of the situation, specific actions taken, and measurable outcomes. The experience should demonstrate clear competency in the associated skills and show professional growth."},{id:"progress",question:"How do I track team progress?",answer:"The Dashboard provides an overview of your team's progress, including completed skills, documented experiences, and validation status. You can view individual progress for each EIT and identify areas that need attention or additional support."},{id:"guidance",question:"How can I provide effective guidance?",answer:"Effective guidance involves regular communication, constructive feedback, and clear expectations. Use the platform's messaging features to maintain open communication, provide timely feedback on submissions, and help EITs understand how to improve their documentation and skill assessments."}],O=[{title:"Supervisor Guide",description:"Comprehensive guide to supervising EITs and using the platform effectively",icon:b.jsx(K1,{size:20}),link:"/resources/supervisor-guide"},{title:"Validation Guidelines",description:"Best practices for validating EIT skills and experiences",icon:b.jsx(Im,{size:20}),link:"/resources/validation-guidelines"},{title:"Team Management",description:"Tips and strategies for effective EIT team management",icon:b.jsx($S,{size:20}),link:"/resources/team-management"}];return b.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-8",children:[b.jsxs("div",{className:"text-center mb-8",children:[b.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Help & Support"}),b.jsx("p",{className:"text-slate-500 mt-2 text-lg",children:"Get help with managing and supporting your EIT team"}),b.jsx("div",{className:"mt-6 flex justify-center",children:b.jsxs("div",{className:"inline-flex rounded-lg border border-slate-200 p-1 bg-white",children:[b.jsxs("button",{onClick:()=>T("help"),className:`px-4 py-2 rounded-md text-sm font-medium flex items-center gap-2 ${C==="help"?"bg-teal-50 text-teal-700":"text-slate-600 hover:text-slate-900"}`,children:[b.jsx(N1,{size:16}),"Help"]}),b.jsxs("button",{onClick:()=>T("feedback"),className:`px-4 py-2 rounded-md text-sm font-medium flex items-center gap-2 ${C==="feedback"?"bg-teal-50 text-teal-700":"text-slate-600 hover:text-slate-900"}`,children:[b.jsx(C0,{size:16}),"Feedback"]})]})})]}),C==="help"?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"bg-teal-50 rounded-lg p-6 mb-8",children:[b.jsx("h2",{className:"text-xl font-semibold text-teal-800 mb-4",children:"Quick Access"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[b.jsxs("a",{href:"/dashboard/supervisor/team",className:"bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[b.jsx("h3",{className:"font-medium text-teal-700",children:"Team Management"}),b.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"View and manage your EIT team members"})]}),b.jsxs("a",{href:"/dashboard/supervisor/validation-requests",className:"bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[b.jsx("h3",{className:"font-medium text-teal-700",children:"Validation Requests"}),b.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Review and validate EIT skills and experiences"})]}),b.jsxs("a",{href:"/dashboard/supervisor/reviews",className:"bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[b.jsx("h3",{className:"font-medium text-teal-700",children:"Experience Reviews"}),b.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Review and provide feedback on EIT experiences"})]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[b.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Contact Support"}),b.jsxs("form",{onSubmit:N,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-1",children:"Your Email"}),b.jsx("input",{type:"email",id:"email",value:n,onChange:F=>e(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter your email",required:!0,disabled:c})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"issueType",className:"block text-sm font-medium text-slate-700 mb-1",children:"Issue Type"}),b.jsxs("select",{id:"issueType",value:A,onChange:F=>S(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",required:!0,disabled:c,children:[b.jsx("option",{value:"general",children:"General Inquiry"}),b.jsx("option",{value:"technical",children:"Technical Issue"}),b.jsx("option",{value:"validation",children:"Validation Process"}),b.jsx("option",{value:"team",children:"Team Management"}),b.jsx("option",{value:"other",children:"Other"})]})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-slate-700 mb-1",children:"Subject"}),b.jsx("input",{type:"text",id:"subject",value:i,onChange:F=>r(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"What's your question about?",required:!0,disabled:c})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-slate-700 mb-1",children:"Message"}),b.jsx("textarea",{id:"message",value:o,onChange:F=>l(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 min-h-[150px]",placeholder:"Describe your issue or question...",required:!0,disabled:c})]}),h&&b.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-md text-sm flex items-center gap-2",children:[b.jsx(A0,{size:16}),h]}),g&&b.jsx("div",{className:"p-3 bg-green-50 text-green-700 rounded-md text-sm",children:"Your message has been sent successfully. We'll get back to you soon!"}),b.jsx("button",{type:"submit",className:"btn btn-primary w-full flex items-center justify-center gap-2",disabled:c,children:c?b.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):b.jsxs(b.Fragment,{children:[b.jsx(q5,{size:18}),"Send Message"]})})]})]}),b.jsxs("div",{className:"space-y-8",children:[b.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Frequently Asked Questions"}),b.jsx("div",{className:"space-y-4",children:I.map(F=>b.jsxs("div",{className:"border-b border-slate-200 last:border-0 pb-4 last:pb-0",children:[b.jsxs("button",{className:"w-full flex items-center justify-between text-left",onClick:()=>_(v===F.id?null:F.id),children:[b.jsx("h3",{className:"font-medium text-slate-900",children:F.question}),v===F.id?b.jsx(U8,{size:20}):b.jsx(WS,{size:20})]}),v===F.id&&b.jsx("p",{className:"text-sm text-slate-600 mt-2",children:F.answer})]},F.id))})]}),b.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Helpful Resources"}),b.jsx("div",{className:"space-y-4",children:O.map((F,U)=>b.jsxs("a",{href:F.link,className:"flex items-start gap-3 p-3 rounded-lg hover:bg-slate-50 transition-colors",children:[b.jsx("div",{className:"text-teal-600 mt-1",children:F.icon}),b.jsxs("div",{children:[b.jsx("h3",{className:"font-medium text-slate-900",children:F.title}),b.jsx("p",{className:"text-sm text-slate-600 mt-1",children:F.description})]}),b.jsx(L8,{size:16,className:"text-slate-400 ml-auto mt-1"})]},U))})]})]})]})]}):b.jsx("div",{className:"max-w-2xl mx-auto",children:b.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Share Your Feedback"}),b.jsx("p",{className:"text-slate-600 mb-6",children:"We value your feedback as a supervisor! Let us know what you think about the platform, what's working well for your team, and what we can improve to better support your role."}),b.jsxs("form",{onSubmit:N,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-1",children:"Your Email"}),b.jsx("input",{type:"email",id:"email",value:n,onChange:F=>e(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter your email",required:!0,disabled:c})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-slate-700 mb-1",children:"Subject"}),b.jsx("input",{type:"text",id:"subject",value:i,onChange:F=>r(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Brief summary of your feedback",required:!0,disabled:c})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-slate-700 mb-1",children:"Your Feedback"}),b.jsx("textarea",{id:"message",value:o,onChange:F=>l(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 min-h-[200px]",placeholder:"Share your thoughts, suggestions, or concerns...",required:!0,disabled:c})]}),h&&b.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-md text-sm flex items-center gap-2",children:[b.jsx(A0,{size:16}),h]}),g&&b.jsx("div",{className:"p-3 bg-green-50 text-green-700 rounded-md text-sm",children:"Thank you for your feedback! We appreciate your input as a supervisor."}),b.jsx("button",{type:"submit",className:"btn btn-primary w-full flex items-center justify-center gap-2",disabled:c,children:c?b.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):b.jsxs(b.Fragment,{children:[b.jsx(q5,{size:18}),"Submit Feedback"]})})]})]})})]})};class uTe{async getTeamMembers(){return[]}async getPendingReviews(){return[]}async getTeamPerformance(){return[]}async getSupervisorStats(){return{totalTeamMembers:0,pendingReviews:0,completedReviews:0,averageTeamPerformance:0}}async submitReview(e,i,r){}async updateTeamMember(e,i){}async getCategoryAverages(e){const{data:i,error:r}=await(await la(async()=>{const{supabase:o}=await Promise.resolve().then(()=>AD);return{supabase:o}},[])).supabase.rpc("get_supervisor_category_averages",{supervisor_uuid:e});if(r)throw new Error(`Supabase error: ${r.message}`);return i}}const dTe=new uTe,hTe=()=>{const[n,e]=H.useState([]),[i,r]=H.useState(!0),[o,l]=H.useState(!1),c=ns(),u=async(y,v,_=5)=>{try{console.log("🔄 Starting fetchActivities for supervisor:",y),r(!0);const{data:A,error:S}=await je.from("skill_validations").select("id, validated_at, feedback, eit_id, skill_id, score, eit_profiles (full_name), skills (name)").eq("validator_id",y).order("validated_at",{ascending:!1}).limit(_);if(S)throw S;const{data:C,error:T}=await je.from("sao_feedback").select("id, sao_id, feedback, status, updated_at, sao:saos (title), eit_profiles (full_name)").eq("supervisor_id",y).order("updated_at",{ascending:!1}).limit(_);if(T)throw T;const{data:N,error:I}=await je.from("validators").select("id, updated_at, status, skill_id, eit_id, description, score, skills (name), eit_profiles (full_name)").eq("email",v).neq("status","pending").order("updated_at",{ascending:!1}).limit(_);if(I)throw I;const O=(U,V,B)=>Array.isArray(U)&&U.length>0&&typeof U[0][V]=="string"?U[0][V]:U&&typeof U[V]=="string"?U[V]:B,F=[...(A||[]).map(U=>{const V=O(U.skills,"name",U.skill_id),B=O(U.eit_profiles,"full_name",U.eit_id);return{id:U.id,type:"validation",title:`Validated "${V}" for ${B}`,timestamp:U.validated_at?String(U.validated_at):"",eitName:B,eitId:U.eit_id,status:U.score?`Score: ${U.score}`:void 0}}),...(C||[]).map(U=>{const V=O(U.sao,"title",U.sao_id),B=O(U.eit_profiles,"full_name","");return{id:U.id,type:"feedback",title:`Provided SAO feedback for "${V}"`,timestamp:U.updated_at?String(U.updated_at):"",eitName:B,eitId:void 0,status:U.status}}),...(N||[]).map(U=>{const V=O(U.skills,"name",U.skill_id),B=O(U.eit_profiles,"full_name",U.eit_id);return{id:U.id,type:"validation",title:`Scored "${V}" for ${B}`,timestamp:U.updated_at?String(U.updated_at):"",eitName:B,eitId:U.eit_id,status:U.score?`Score: ${U.score}`:U.status}})].sort((U,V)=>new Date(V.timestamp).getTime()-new Date(U.timestamp).getTime()).slice(0,_);e(F)}catch(A){console.error("❌ Error in fetchActivities:",A),e([])}finally{r(!1)}};H.useEffect(()=>((async()=>{try{const{data:{user:v}}=await je.auth.getUser();if(!v){console.error("❌ No authenticated user found");return}await u(v.id,v.email||"")}catch(v){console.error("❌ Error setting up subscriptions:",v)}})(),()=>{}),[]);const h={approval:b.jsx(Im,{size:16,className:"text-green-500"}),feedback:b.jsx(C0,{size:16,className:"text-blue-500"}),validation:b.jsx(_ye,{size:16,className:"text-purple-500"}),review:b.jsx(SM,{size:16,className:"text-amber-500"}),comment:b.jsx(C0,{size:16,className:"text-indigo-500"})},m=y=>{const v=new Date(y),A=new Date().getTime()-v.getTime(),S=Math.floor(A/(1e3*60)),C=Math.floor(A/(1e3*60*60)),T=Math.floor(A/(1e3*60*60*24));return S<5?"Just now":S<30?`${Math.floor(S/5)*5} minutes ago`:C<1?"30 minutes ago":C===1?"1 hour ago":C<24?`${C} hours ago`:T===1?"1 day ago":`${T} days ago`},g=y=>{y.type==="feedback"?c(`/supervisor/saos?saoId=${y.id}`):y.type==="validation"?c(`/supervisor/validations?validationId=${y.id}`):y.type==="review"&&c(`/supervisor/reviews?experienceId=${y.id}`)};return i?b.jsx("div",{className:"space-y-4",children:[...Array(3)].map((y,v)=>b.jsxs("div",{className:"flex items-start space-x-3 animate-pulse",children:[b.jsx("div",{className:"p-2 rounded-full bg-slate-200 mt-0.5 w-8 h-8"}),b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"h-4 bg-slate-200 rounded w-3/4 mb-2"}),b.jsx("div",{className:"h-3 bg-slate-200 rounded w-1/4"})]})]},v))}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"space-y-4",children:[n.length>0?n.slice(0,5).map(y=>b.jsxs("div",{className:"flex items-start space-x-3",children:[b.jsx("div",{className:"p-2 rounded-full bg-slate-100 mt-0.5",children:h[y.type]}),b.jsxs("div",{className:"flex-1",children:[b.jsx("p",{className:"text-sm text-slate-800",children:y.title}),b.jsxs("div",{className:"flex items-center mt-1",children:[y.eitName&&b.jsx("span",{className:"text-xs font-medium text-slate-700 mr-2",children:y.eitName}),b.jsx("span",{className:"text-xs text-slate-500",children:m(y.timestamp)})]})]}),b.jsx("button",{className:"ml-2 px-3 py-1 text-xs bg-amber-100 text-amber-700 hover:bg-amber-200",onClick:()=>g(y),children:"View"})]},y.id)):b.jsx("div",{className:"text-center py-4 text-slate-500",children:"No recent activities"}),b.jsx("button",{className:"w-full text-center py-2 text-lg text-teal-600 hover:underline font-medium",onClick:()=>c("/supervisor/activities"),children:"View more activities"})]}),o&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl mx-4 max-h-[80vh] overflow-hidden",children:[b.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Recent Activities"}),b.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-slate-100 rounded-lg",children:b.jsx(eo,{size:20,className:"text-slate-500"})})]}),b.jsx("div",{className:"p-4 overflow-y-auto max-h-[calc(80vh-4rem)]",children:b.jsx("div",{className:"space-y-4",children:n.map(y=>b.jsxs("div",{className:"flex items-start space-x-3",children:[b.jsx("div",{className:"p-2 rounded-full bg-slate-100 mt-0.5",children:h[y.type]}),b.jsxs("div",{className:"flex-1",children:[b.jsx("p",{className:"text-sm text-slate-800",children:y.title}),b.jsxs("div",{className:"flex items-center mt-1",children:[y.eitName&&b.jsx("span",{className:"text-xs font-medium text-slate-700 mr-2",children:y.eitName}),b.jsx("span",{className:"text-xs text-slate-500",children:m(y.timestamp)})]})]}),b.jsx("button",{className:"ml-2 px-3 py-1 text-xs bg-amber-100 text-amber-700 hover:bg-amber-200",onClick:()=>{g(y),l(!1)},children:"View"})]},y.id))})})]})})]})},fTe=()=>{const[n,e]=H.useState(!1),[i,r]=H.useState([]),[o,l]=H.useState(!0);H.useEffect(()=>{(async()=>{const m=new Date,g=m.getDay();if(g===1||g===2&&c(m)){const v=localStorage.getItem("lastDigestShown"),_=m.toDateString();v!==_&&(await u(),e(!0),localStorage.setItem("lastDigestShown",_))}})()},[]);const c=h=>{const m=new Date(h);m.setDate(m.getDate()-1);const g=m.getMonth(),y=m.getDate();return[{month:0,day:1},{month:0,day:15},{month:1,day:19},{month:4,day:27},{month:6,day:4},{month:8,day:2},{month:9,day:14},{month:10,day:11},{month:11,day:25}].some(_=>_.month===g&&_.day===y)},u=async()=>{try{const{data:{user:h}}=await je.auth.getUser();if(!h)return;const{data:m,error:g}=await je.from("supervisor_eit_relationships").select(`
          eit_profiles (
            id,
            full_name,
            email,
            start_date,
            target_date
          )
        `).eq("supervisor_id",h.id).eq("status","active");if(g)throw g;const y=await Promise.all(m.map(async v=>{const _=Array.isArray(v.eit_profiles)?v.eit_profiles[0]:v.eit_profiles;if(!_)return null;const{data:A}=await je.from("skill_validations").select(`
              score,
              feedback,
              validated_at,
              skills (
                name
              )
            `).eq("eit_id",_.id).gte("validated_at",new Date(Date.now()-7*24*60*60*1e3).toISOString()).order("validated_at",{ascending:!1}),S=(A||[]).map(C=>({...C,skills:Array.isArray(C.skills)?C.skills[0]:C.skills}));return{eit:_,activities:S}}));r(y.filter(Boolean))}catch(h){console.error("Error fetching EIT activities:",h)}finally{l(!1)}};return n?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:b.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:b.jsxs("div",{className:"p-6",children:[b.jsxs("div",{className:"flex items-center justify-between mb-6",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(q2,{className:"h-6 w-6 text-teal-600"}),b.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Weekly EIT Progress Report"})]}),b.jsx("button",{onClick:()=>e(!1),className:"text-gray-400 hover:text-gray-500",children:b.jsx(eo,{className:"h-6 w-6"})})]}),o?b.jsxs("div",{className:"text-center py-8",children:[b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 mx-auto"}),b.jsx("p",{className:"mt-4 text-gray-600",children:"Loading weekly report..."})]}):b.jsx("div",{className:"space-y-6",children:i.map(({eit:h,activities:m})=>b.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[b.jsxs("div",{className:"flex justify-between items-start mb-4",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:h.full_name}),b.jsx("p",{className:"text-gray-500",children:h.email})]}),b.jsxs("div",{className:"text-right",children:[b.jsxs("p",{className:"text-sm text-gray-600",children:["Program Start: ",new Date(h.start_date).toLocaleDateString()]}),b.jsxs("p",{className:"text-sm text-gray-600",children:["Target: ",new Date(h.target_date).toLocaleDateString()]})]})]}),b.jsxs("div",{className:"mt-4",children:[b.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-3",children:"Recent Activities"}),m.length>0?b.jsx("div",{className:"space-y-3",children:m.map((g,y)=>b.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsx("h5",{className:"font-medium text-gray-900",children:g.skills.name}),b.jsx("p",{className:"text-sm text-gray-500",children:new Date(g.validated_at).toLocaleDateString()})]}),b.jsxs("div",{className:"bg-teal-100 text-teal-800 px-3 py-1 rounded-full text-sm font-medium",children:["Score: ",g.score,"/5"]})]}),g.feedback&&b.jsx("p",{className:"mt-2 text-gray-600 text-sm",children:g.feedback})]},y))}):b.jsx("p",{className:"text-gray-500 italic",children:"No recent activities"})]})]},h.id))})]})})}):null},pTe=()=>{const{appLoaded:n}=JX(),[e,i]=H.useState(!0),[r,o]=H.useState([]),[l,c]=H.useState([]),[u,h]=H.useState({totalEITs:0,pendingReviews:0,completedReviews:0,averageTeamProgress:0}),[m,g]=H.useState("Supervisor"),[y,v]=H.useState(new Date().toISOString()),[_,A]=H.useState(!1),[S,C]=H.useState(0),[T,N]=H.useState(0),[I,O]=H.useState({}),[F,U]=H.useState([]),V=async()=>{try{A(!0);const{data:{user:me}}=await je.auth.getUser();if(!me)return;const{data:Q}=await je.from("supervisor_profiles").select("full_name").eq("id",me.id).single();Q&&Q.full_name&&g(Q.full_name);const{data:ge,error:$}=await je.from("supervisor_eit_relationships").select(`
          eit_id,
          eit_profiles (
            id,
            full_name,
            email
          )
        `).eq("supervisor_id",me.id).eq("status","active");if($)throw $;const Te=ge?ge.map(G=>G.eit_profiles):[];console.log("DEBUG relationships:",ge),console.log("DEBUG eitData:",Te),o(Te);const{count:re}=await je.from("validators").select("*",{count:"exact",head:!0}).eq("email",me.email).eq("status","pending");C(re||0);const{count:ie}=await je.from("sao_feedback").select("*",{count:"exact",head:!0}).eq("supervisor_id",me.id).eq("status","pending");if(N(ie||0),Te.length>0){const{data:G,error:K}=await je.from("experiences").select("*").in("eit_id",Te.map(xe=>xe.id)).eq("supervisor_approved",!1);if(K)throw K;const{data:ne,error:J}=await je.from("experiences").select("*").in("eit_id",Te.map(xe=>xe.id)).eq("supervisor_approved",!0);if(J)throw J;h({totalEITs:Te.length,pendingReviews:S+T,completedReviews:(ne==null?void 0:ne.length)||0,averageTeamProgress:0});const{data:ue,error:ee}=await je.from("experiences").select("*").in("eit_id",Te.map(xe=>xe.id)).order("created_at",{ascending:!1}).limit(5);if(ee)throw ee;c(ue||[])}else h({totalEITs:0,pendingReviews:0,completedReviews:0,averageTeamProgress:0}),c([]);try{const G=await dTe.getCategoryAverages(me.id);U(G)}catch(G){console.error("Error fetching category averages:",G),U([])}v(new Date().toISOString())}catch(me){console.error("Error fetching dashboard data:",me)}finally{i(!1),A(!1)}},B=async me=>{const Q=await Promise.all(me.map(async ge=>{const[$,Te,re]=await Promise.all([je.from("eit_skills").select("id",{count:"exact",head:!0}).eq("eit_id",ge).not("rank","is",null),je.from("experiences").select("id",{count:"exact",head:!0}).eq("eit_id",ge),je.from("experiences").select("id",{count:"exact",head:!0}).eq("eit_id",ge).eq("supervisor_approved",!0)]),ie=$.count||0,G=Te.count||0,K=re.count||0,ne=ie/22,J=G/24,ue=K/24,ee=Math.round((ne+J+ue)/3*100);return[ge,ee]}));return O(Object.fromEntries(Q)),Q};H.useEffect(()=>{if(r.length>0){B(r.map(Q=>Q.id));const me=setInterval(()=>{B(r.map(Q=>Q.id))},3e4);return()=>clearInterval(me)}},[r]);const Z=r.length>0?Math.round(r.reduce((me,Q)=>me+(I[Q.id]||0),0)/r.length):0;H.useEffect(()=>{V()},[]);const ae=me=>new Date(me).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return e&&n?b.jsx(uA,{}):b.jsxs("div",{className:"container mx-auto px-4 py-8",children:[b.jsx(fTe,{}),b.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[b.jsxs("div",{children:[b.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800 flex items-center gap-2",children:["Welcome back, ",m,"!",b.jsx("span",{className:"ml-2 px-2 py-0.5 rounded text-xs font-semibold bg-purple-100 text-purple-800",children:"SUPERVISOR"})]}),b.jsx("p",{className:"text-slate-500 mt-1",children:"Here's an overview of your team's progress"})]}),b.jsxs("div",{className:"flex items-center space-x-2 mt-4 md:mt-0",children:[b.jsxs("span",{className:"text-sm text-slate-500 flex items-center",children:[b.jsx(z0,{size:14,className:"mr-1"}),"Last updated: ",ae(y)]}),b.jsx("button",{className:`btn btn-primary ${_?"opacity-75 cursor-not-allowed":""}`,onClick:V,disabled:_,children:_?"Refreshing...":"Refresh"})]})]}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[b.jsxs("div",{className:"bg-white rounded-2xl shadow p-6 flex flex-col gap-4 min-w-[220px]",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("span",{className:"font-semibold text-lg text-slate-800",children:"Team Progress"}),b.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-bold bg-teal-50 text-teal-600",children:[Z,"%"]})]}),b.jsx("div",{className:"w-full h-2 rounded bg-slate-100",children:b.jsx("div",{className:"h-full rounded bg-teal-500 transition-all duration-700",style:{width:`${Z}%`}})}),b.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Average team completion rate"})]}),b.jsxs("div",{className:"bg-white rounded-2xl shadow p-6 flex flex-col gap-4 min-w-[220px]",children:[b.jsx("div",{className:"flex items-center justify-between",children:b.jsx("span",{className:"font-semibold text-lg text-slate-800",children:"Total EITs"})}),b.jsx("span",{className:"block text-3xl font-extrabold text-slate-900 leading-tight",children:u.totalEITs}),b.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"EITs under your supervision"})]}),b.jsxs("div",{className:"bg-white rounded-2xl shadow p-6 flex flex-col gap-4 min-w-[220px]",children:[b.jsx("div",{className:"flex items-center justify-between",children:b.jsx("span",{className:"font-semibold text-lg text-slate-800",children:"Pending Reviews"})}),b.jsx("span",{className:"block text-3xl font-extrabold text-slate-900 leading-tight",children:S+T}),b.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Validations: ",S,", SAOs: ",T]})]}),b.jsxs("div",{className:"bg-white rounded-2xl shadow p-6 flex flex-col gap-4 min-w-[220px]",children:[b.jsx("div",{className:"flex items-center justify-between",children:b.jsx("span",{className:"font-semibold text-lg text-slate-800",children:"Completed Reviews"})}),b.jsx("span",{className:"block text-3xl font-extrabold text-slate-900 leading-tight",children:u.completedReviews}),b.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Reviews completed"})]})]}),F.length>0&&b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mb-8",children:F.map(me=>{var Q;return b.jsxs("div",{className:"bg-white rounded-2xl shadow p-6 flex flex-col gap-2 min-w-[220px]",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("span",{className:"font-semibold text-lg text-slate-800",children:me.category}),b.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-bold bg-blue-50 text-blue-600",children:((Q=me.average_score)==null?void 0:Q.toFixed(2))??"0.00"})]}),b.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Avg. self-score (from ",me.num_eits," EIT",me.num_eits!==1?"s":"",")"]})]},me.category)})}),r.length>0&&b.jsx("div",{className:"card mb-8",children:b.jsxs("div",{className:"p-6",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Team Members"}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:r.map(me=>b.jsxs("div",{className:"border-b border-gray-200 pb-4 last:border-0",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),b.jsx("p",{className:"font-medium",children:me.full_name})]}),b.jsxs("div",{className:"mt-2",children:[b.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),b.jsx("p",{className:"font-medium",children:me.email})]})]},me.id))})]})}),b.jsx("div",{className:"bg-white rounded-2xl shadow-sm hover:shadow-md transition-shadow duration-300",children:b.jsxs("div",{className:"p-6",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4 text-[#2C3E50]",children:"Recent Activities"}),b.jsx(hTe,{})]})})]})},mTe=pTe;let Z4=!1;const gTe=()=>{var n,e,i,r,o,l,c,u;if(!Z4)try{Z4=!0,(e=(n=H2.getState()).clearState)==null||e.call(n),(r=(i=cf.getState()).clearState)==null||r.call(i),(l=(o=GS.getState()).clearState)==null||l.call(o),(u=(c=OY.getState()).clearState)==null||u.call(c)}finally{Z4=!1}},bTe=()=>{const[n,e]=H.useState(!0),[i,r]=H.useState(null),[o,l]=H.useState(null),c=ns(),u=H.useCallback(async()=>{try{e(!0),r(null);const{data:{user:h},error:m}=await je.auth.getUser();if(m)throw new Error(`Authentication error: ${m.message}`);if(!h)throw new Error("No authenticated user found");const[g,y]=await Promise.all([je.from("eit_profiles").select("account_type").eq("id",h.id).single(),je.from("supervisor_profiles").select("account_type").eq("id",h.id).single()]);if(g.error&&y.error)throw new Error("Failed to fetch user profiles");if(y.data)l("supervisor"),c("/dashboard/supervisor",{replace:!0});else if(g.data)l("eit"),c("/dashboard",{replace:!0});else throw new Error("No profile found for user")}catch(h){const m=h instanceof Error?h.message:"An unexpected error occurred";r(m),console.error("Error checking user role:",h),c("/login")}finally{e(!1)}},[c]);return H.useEffect(()=>{u();const{data:{subscription:h}}=je.auth.onAuthStateChange(m=>{m==="SIGNED_OUT"?(gTe(),c("/login")):m==="SIGNED_IN"&&u()});return()=>{h.unsubscribe()}},[u,c]),n?b.jsx(uA,{}):i?b.jsx("div",{className:"flex items-center justify-center min-h-screen",children:b.jsxs("div",{className:"text-red-500 text-center",children:[b.jsxs("p",{children:["Error: ",i]}),b.jsx("button",{onClick:()=>c("/login"),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Return to Login"})]})}):null},TH=ac(n=>({loading:!1,startWriting:async()=>{n({loading:!0});try{const{data:e}=await je.from("eit_skills").select("*").eq("status","completed"),i=await fetch("https://bbixvnkqroskholbxkgj.supabase.co/functions/v1/generate-essay",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU","Content-Type":"application/json"},body:JSON.stringify({skills:e,experiences:[]})});if(!i.ok)throw new Error("Failed to generate essay");const{essay:r}=await i.json();await je.from("essays").insert({title:"AI Generated Essay",content:r,ai_generated:!0})}finally{n({loading:!1})}}}));class yTe extends or.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,i){}render(){return this.state.hasError?b.jsxs("div",{className:"p-8 text-center",children:[b.jsx("h2",{className:"text-2xl font-bold text-red-600",children:"Something went wrong."}),b.jsx("pre",{className:"mt-4 text-sm text-slate-700",children:String(this.state.error)})]}):this.props.children}}const DH=or.lazy(()=>la(()=>import("./ProgressCard-C7-jL_sa.js"),[])),vTe=or.lazy(()=>la(()=>import("./RecentActivities-23p7oAKE.js"),[]));or.lazy(()=>la(()=>import("./UpcomingDeadlines-B7qJ01Ci.js"),[]));const wTe=or.lazy(()=>la(()=>import("./SkillsOverview-D3SIZ4C-.js"),[])),xTe=()=>{ns();const{appLoaded:n}=JX(),[e,i]=H.useState(""),[r,o]=H.useState(null),{overallProgress:l,completedSkills:c,totalSkills:u,documentedExperiences:h,totalExperiences:m,supervisorApprovals:g,totalApprovals:y,lastUpdated:v,loading:_,updateProgress:A,initialize:S}=H2(),C=TH(Se=>Se.startWriting),T=TH(Se=>Se.loading),N=cf(Se=>Se.loadUserSkills),{saos:I,loading:O,loadUserSAOs:F}=GS(),[U,V]=H.useState(null),[B,Z]=H.useState([]),[ae,me]=H.useState(!1);console.log("Google Client ID (from import.meta.env):","521009491275-0m5p9k9vm29fc1v6v91f9k25v4godaem.apps.googleusercontent.com");const[ge,$]=H.useState(!0),[Te,re]=H.useState(!1),[ie,G]=H.useState(null);H.useEffect(()=>{(async()=>{var Me;try{const{data:{user:Re}}=await je.auth.getUser();if(!Re)return;(Me=Re.user_metadata)!=null&&Me.full_name&&i(Re.user_metadata.full_name);const[Fe,We,ze,Ne,ke]=await Promise.all([je.from("eit_profiles").select("id, start_date, target_date").eq("id",Re.id).single(),je.from("supervisor_profiles").select("id").eq("id",Re.id).single(),N(),S(),I.length===0&&!O?F():Promise.resolve()]);We.data?o("supervisor"):Fe.data&&o("eit"),G({eitProfile:Fe.data,supervisorProfile:We.data})}catch(Re){console.error("Error initializing dashboard data:",Re)}finally{$(!1)}})()},[N,S,I.length,O,F]),H.useEffect(()=>{U&&(me(!0),fetch("https://www.googleapis.com/calendar/v3/calendars/primary/events?maxResults=5&orderBy=startTime&singleEvents=true&timeMin="+new Date().toISOString(),{headers:{Authorization:`Bearer ${U}`}}).then(Se=>Se.json()).then(Se=>{Z(Se.items||[])}).catch(()=>Z([])).finally(()=>me(!1)))},[U]);const K=I.filter(Se=>Se.status==="complete"),ne=[{title:"Overall Progress",value:l,description:l>=75?"Excellent progress!":l>=50?"Good progress!":l>=25?"Keep going!":"Just getting started!",color:"teal"},{title:"Completed Skills",value:c,total:u,description:`${u-c} skills remaining to complete`,color:"blue"},{title:"Completed SAOs",value:K.length,total:24,description:`${24-K.length} SAOs remaining to complete`,color:"indigo"}];let J=null,ue="teal",ee="";if(r==="eit"&&(ie!=null&&ie.eitProfile)){const{start_date:Se,target_date:Me}=ie.eitProfile;if(Se&&Me){const Re=new Date,Fe=new Date(Se),ze=new Date(Me).getTime()-Fe.getTime(),Ne=Re.getTime()-Fe.getTime();let ke=Math.max(0,Math.min(100,Math.round(Ne/ze*100)));J=ke;const Be=l-ke;Be>0?(ue="teal",ee="You are ahead of schedule!"):Be>=-5?(ue="blue",ee="You are on track!"):(ue="purple",ee="You are behind schedule.")}}const xe=Se=>new Date(Se).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return ge&&n?b.jsx(uA,{}):b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[b.jsxs("div",{children:[b.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800 flex items-center gap-2",children:["Welcome back, ",e||"Engineer","!",r&&b.jsx("span",{className:`ml-2 px-2 py-0.5 rounded text-xs font-semibold
                  ${r==="eit"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:r==="eit"?"EIT":"Supervisor"})]}),b.jsx("p",{className:"text-slate-500 mt-1",children:r==="eit"?"Here's an overview of your EIT progress":"Here's an overview of your team's progress"})]}),b.jsxs("div",{className:"flex items-center space-x-2 mt-4 md:mt-0",children:[b.jsxs("span",{className:"text-sm text-slate-500 flex items-center",children:[b.jsx(z0,{size:14,className:"mr-1"}),"Last updated: ",xe(v)]}),b.jsx("button",{className:`btn btn-primary ${Te?"opacity-75 cursor-not-allowed":""}`,onClick:async()=>{if(!Te){re(!0);try{await Promise.all([N(),A(!0),F()])}catch(Se){console.error("Error refreshing dashboard:",Se)}finally{re(!1)}}},disabled:Te,children:Te?"Refreshing...":"Refresh"})]})]}),b.jsx(H.Suspense,{fallback:b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(3)].map((Se,Me)=>b.jsx("div",{className:"card animate-pulse h-32"},Me))}),children:b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[b.jsx(DH,{title:"Overall Progress",value:l,total:100,description:r==="eit"&&J!==null?`${ee} (Expected: ${J}%)`:l>=75?"Excellent progress!":l>=50?"Good progress!":l>=25?"Keep going!":"Just getting started!",color:r==="eit"&&J!==null?ue:"teal"}),ne.slice(1).map((Se,Me)=>b.jsx(DH,{...Se},Me))]})}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[b.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[b.jsxs("div",{className:"card",children:[b.jsx("div",{className:"flex justify-between items-center mb-4",children:b.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[b.jsx(q2,{size:18,className:"mr-2 text-teal-600"}),"Recent Activities"]})}),b.jsx(H.Suspense,{fallback:b.jsx("div",{className:"p-6 text-center text-slate-400",children:"Loading activities..."}),children:b.jsx(vTe,{})})]}),b.jsx("div",{className:"card",children:b.jsx("div",{className:"flex justify-between items-center mb-4",children:b.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[b.jsx(d3,{size:18,className:"mr-2 text-teal-600"}),"Upcoming Deadlines"]})})})]}),b.jsxs("div",{className:"space-y-6",children:[r==="eit"&&b.jsx(H.Suspense,{fallback:b.jsx("div",{className:"card animate-pulse h-32"}),children:b.jsx(wTe,{})}),b.jsxs("div",{className:"card border-2 border-teal-100 bg-teal-50/50",children:[b.jsx("h3",{className:"font-semibold text-teal-800 mb-2",children:"AI Writing Assistant"}),b.jsx("p",{className:"text-sm text-teal-700 mb-3",children:"Let our AI help you draft your next Self-Assessment Outcome (SAO) essay based on your documented experiences."}),b.jsx("button",{className:`btn btn-primary w-full ${T?"opacity-75 cursor-not-allowed":""}`,onClick:()=>C(),disabled:T,children:T?"Generating...":"Start Writing"})]})]})]})]})};function _Te(){return b.jsx(yTe,{children:b.jsx(xTe,{})})}const kTe=()=>{const[n,e]=H.useState(null),[i,r]=H.useState(!0),o=ns();return H.useEffect(()=>{(async()=>{r(!0);const{data:{user:c}}=await je.auth.getUser();if(!c){o("/login");return}const{data:u}=await je.from("supervisor_profiles").select("id").eq("id",c.id).single();u?o("/dashboard/supervisor",{replace:!0}):e("eit"),r(!1)})()},[o]),i?b.jsx(uA,{}):n==="eit"?b.jsx(_Te,{}):null},ETe={"1.1 Regulations, Codes & Standards":"Demonstrates knowledge and application of relevant regulations, codes, standards, and safety requirements in engineering practice. This includes identifying which standards apply to a given project, ensuring compliance, and keeping up to date with changes in the regulatory environment. Example: Ensuring a design meets all applicable building codes and safety standards.","1.2 Technical & Design Constraints":"Understands and works within technical and design constraints, including limitations of materials, processes, and systems. Able to identify constraints early in the design process and adapt solutions accordingly. Example: Designing a bridge that meets both load requirements and material limitations.","1.3 Risk Management for Technical Work":"Identifies, assesses, and manages risks associated with technical work. This includes conducting risk assessments, implementing mitigation strategies, and monitoring risk throughout the project lifecycle. Example: Performing a hazard analysis for a new manufacturing process.","1.4 Application of Theory":"Applies engineering theory and principles to solve practical problems. Demonstrates the ability to use theoretical knowledge in real-world situations. Example: Using fluid dynamics equations to design a piping system.","1.5 Solution Techniques – Results Verification":"Selects and applies appropriate solution techniques and verifies results for accuracy and reliability. Example: Double-checking calculations and using simulation software to validate a design.","1.6 Safety in Design & Technical Work":"Prioritizes safety in all aspects of design and technical work. Identifies potential hazards and incorporates safety measures into engineering solutions. Example: Designing a machine with proper guarding to prevent operator injury.","1.7 Systems & Their Components":"Understands how systems and their components interact. Able to analyze and optimize system performance. Example: Evaluating the impact of a new component on an existing electrical system.","1.8 Project or Asset Life-Cycle Awareness":"Considers the entire life cycle of a project or asset, from conception to decommissioning. Example: Selecting materials that minimize maintenance costs over the lifespan of a product.","1.9 Quality Assurance":"Implements quality assurance processes to ensure deliverables meet required standards. Example: Developing and following a quality control checklist for a construction project.","1.10 Engineering Documentation":"Prepares clear, accurate, and comprehensive engineering documentation. Example: Writing detailed reports, specifications, and drawings that can be understood by others.","2.1 Oral Communication (English)":"Communicates effectively in spoken English with colleagues, clients, and stakeholders. Example: Leading a project meeting or presenting technical information to a non-technical audience.","2.2 Written Communication (English)":"Communicates effectively in written English, producing clear and concise reports, emails, and documentation. Example: Writing a technical report or project proposal.","2.3 Reading & Comprehension (English)":"Reads and comprehends technical documents, standards, and instructions in English. Example: Interpreting a complex engineering standard or technical manual.","3.1 Project Management Principles":"Applies project management principles to plan, execute, and close projects successfully. Example: Creating a project schedule, managing resources, and tracking progress.","3.2 Finances & Budget":"Manages project finances and budgets, including cost estimation, tracking, and reporting. Example: Preparing a project budget and monitoring expenses to stay within limits.","4.1 Promote Team Effectiveness & Resolve Conflict":"Demonstrates the ability to work effectively in teams, resolve conflicts, and promote collaboration. Example: Facilitating a team meeting to resolve technical disagreements and reach consensus.","5.1 Professional Accountability (Ethics, Liability, Limits)":"Understands and applies professional ethics, legal responsibilities, and limitations in engineering practice. Example: Making decisions that prioritize public safety and environmental protection while considering legal implications.","6.1 Protection of the Public Interest":"Prioritizes public safety, health, and welfare in engineering decisions and actions. Example: Ensuring a design meets all safety requirements and minimizes potential risks to the public.","6.2 Benefits of Engineering to the Public":"Understands and communicates how engineering solutions benefit society and improve quality of life. Example: Explaining how a new infrastructure project will improve community access and safety.","6.3 Role of Regulatory Bodies":"Understands the role and importance of regulatory bodies in engineering practice. Example: Working with building inspectors to ensure compliance with local regulations.","6.4 Application of Sustainability Principles":"Applies sustainability principles to engineering solutions, considering environmental, social, and economic impacts. Example: Designing a building with energy-efficient systems and sustainable materials.","6.5 Promotion of Sustainability":"Actively promotes and implements sustainable practices in engineering work. Example: Leading initiatives to reduce waste and energy consumption in manufacturing processes."},yie=H.memo(({skill:n,skillRef:e})=>{const[i,r]=H.useState(!1);return b.jsxs(b.Fragment,{children:[b.jsxs("div",{ref:e,className:"flex items-center justify-between p-3 rounded-lg border hover:border-slate-300 hover:bg-slate-50 transition-colors",children:[b.jsx("span",{className:"font-medium",children:n.name}),b.jsx("button",{className:"p-2 rounded-full text-blue-500 hover:bg-blue-50",onClick:()=>r(!0),title:"More Info",children:b.jsx(EM,{size:18})})]}),i&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full relative",children:[b.jsx("button",{className:"absolute top-2 right-2 text-slate-400 hover:text-slate-600",onClick:()=>r(!1),children:"×"}),b.jsx("h3",{className:"text-lg font-semibold mb-2",children:n.name}),b.jsx("p",{className:"text-slate-700 text-base",children:ETe[n.name]||"No summary available for this skill."})]})})]})});H.memo(({category:n})=>b.jsxs("div",{className:"card",children:[b.jsx("div",{className:"flex justify-between items-center mb-4",children:b.jsx("h2",{className:"text-lg font-semibold",children:n.name})}),b.jsx("div",{className:"space-y-3",children:n.skills.map(e=>b.jsx(yie,{skill:e},e.id))})]}));const STe=()=>{const{skillCategories:n,loadUserSkills:e,loading:i,error:r}=cf(),o=H.useRef({}),[l,c]=H.useState({}),[u,h]=H.useState({});ns();const m=Ed(),g=["#14b8a6","#3b82f6","#6366f1","#a21caf","#ec4899","#22c55e"];H.useEffect(()=>{async function v(){await e(),await y()}v()},[e,m]),H.useEffect(()=>{const v=_=>{const{skillId:A,timestamp:S}=_.detail;setTimeout(()=>{const C=o.current[A];C&&(C.scrollIntoView({behavior:"smooth",block:"center"}),C.classList.add("ring","ring-teal-400","highlight-item"),setTimeout(()=>C.classList.remove("ring","ring-teal-400","highlight-item"),1500))},100)};return window.addEventListener("scroll-to-skill",v),()=>window.removeEventListener("scroll-to-skill",v)},[]);const y=async()=>{try{const{data:{user:v}}=await je.auth.getUser();if(!v)return;const{data:_,error:A}=await je.from("supervisor_eit_relationships").select("eit_id").eq("supervisor_id",v.id);if(A)throw A;const S=_.map(O=>O.eit_id),{data:C,error:T}=await je.from("eit_skills").select("*").in("eit_id",S);if(T)throw T;const N={};n.forEach(O=>{N[O.name]={eitSelfScores:[],supervisorScores:[],completed:0,total:O.skills.length*S.length,eitCount:S.length}}),C.forEach(O=>{const F=n.find(U=>U.skills.some(V=>V.id===O.skill_id));F&&(O.rank!==null&&O.rank!==void 0&&N[F.name].eitSelfScores.push(O.rank),O.supervisor_score!==null&&O.supervisor_score!==void 0&&(N[F.name].supervisorScores.push(O.supervisor_score),N[F.name].completed+=1))});const I={};Object.entries(N).forEach(([O,F])=>{const U=F.eitSelfScores.reduce((ae,me)=>ae+me,0),V=F.eitSelfScores.length,B=F.supervisorScores.reduce((ae,me)=>ae+me,0),Z=F.supervisorScores.length;I[O]={eitSelfAvg:V>0?Number((U/V).toFixed(2)):0,supervisorAvg:Z>0?Number((B/Z).toFixed(2)):0,completionRate:F.total>0?Number((F.completed/F.total*100).toFixed(1)):0}}),h(I)}catch(v){console.error("Error calculating category averages:",v)}};return H.useEffect(()=>{y()},[]),b.jsxs("div",{className:"space-y-6",children:[b.jsx("div",{className:"flex items-center justify-between",children:b.jsxs("h1",{className:"text-2xl font-semibold text-slate-900 flex items-center",children:[b.jsx(d3,{size:24,className:"mr-2 text-teal-600"}),"Skills"]})}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:n.map((v,_)=>{const A=u[v.name]||{eitSelfAvg:0,supervisorAvg:0},S=g[_%g.length];return b.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4",children:[b.jsx("div",{className:"flex justify-between items-center mb-2",children:b.jsx("h3",{className:"font-medium text-slate-900 text-lg",children:v.name})}),b.jsxs("div",{className:"space-y-5",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("span",{className:"w-40 text-base font-semibold",children:"Average EIT Self Score"}),b.jsx("div",{className:"w-10 flex-shrink-0 flex justify-center",children:b.jsxs("div",{className:"w-9 h-9 rounded-full flex items-center justify-center bg-slate-100 text-slate-800 text-sm font-bold border border-slate-200",children:[Math.round(A.eitSelfAvg/5*100),"%"]})}),b.jsx("div",{className:"flex-1",children:b.jsx("div",{className:"w-full max-w-[160px] bg-slate-200 rounded-full h-2",children:b.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${A.eitSelfAvg/5*100}%`,background:S}})})}),b.jsxs("div",{className:"w-14 text-xs text-slate-500 text-right",children:[A.eitSelfAvg.toFixed(2),"/5.0"]})]}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("span",{className:"w-40 text-base font-semibold",children:"Average Supervisor Score"}),b.jsx("div",{className:"w-10 flex-shrink-0 flex justify-center",children:b.jsxs("div",{className:"w-9 h-9 rounded-full flex items-center justify-center bg-slate-100 text-slate-800 text-sm font-bold border border-slate-200",children:[Math.round(A.supervisorAvg/5*100),"%"]})}),b.jsx("div",{className:"flex-1",children:b.jsx("div",{className:"w-full max-w-[160px] bg-slate-200 rounded-full h-2",children:b.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${A.supervisorAvg/5*100}%`,background:S}})})}),b.jsxs("div",{className:"w-14 text-xs text-slate-500 text-right",children:[A.supervisorAvg.toFixed(2),"/5.0"]})]})]})]},v.name)})}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Skills & Competencies"}),b.jsx("p",{className:"text-slate-500 mt-1",children:"View the EIT program competencies"})]}),r&&b.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:b.jsxs("div",{className:"flex items-start gap-2",children:[b.jsx(F8,{size:18,className:"text-red-600 mt-0.5 flex-shrink-0"}),b.jsx("p",{className:"text-sm text-red-800",children:r})]})}),i?b.jsx("div",{className:"flex items-center justify-center py-12",children:b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):b.jsx("div",{className:"space-y-6",children:n.map(v=>b.jsxs("div",{className:"card",children:[b.jsx("div",{className:"flex justify-between items-center mb-4",children:b.jsx("h2",{className:"text-lg font-semibold",children:v.name})}),b.jsx("div",{className:"space-y-3",children:v.skills.map(_=>b.jsx(yie,{skill:_,skillRef:A=>o.current[_.id]=A},_.id))})]},v.name))})]})},ATe=n=>{H.useEffect(()=>{const e=[];return n.forEach(({table:i,filter:r,callback:o})=>{const l=je.channel(`${i}_changes`).on("postgres_changes",{event:"*",schema:"public",table:i,filter:r},c=>{o(c)}).subscribe();e.push(l)}),()=>{e.forEach(i=>{je.removeChannel(i)})}},[n])},CTe=ac(n=>({supervisorReviews:[],saoFeedback:[],relationships:[],userSkills:[],addSupervisorReview:e=>n(i=>({supervisorReviews:[...i.supervisorReviews,e]})),updateSupervisorReview:e=>n(i=>({supervisorReviews:i.supervisorReviews.map(r=>r.id===e.id?e:r)})),removeSupervisorReview:e=>n(i=>({supervisorReviews:i.supervisorReviews.filter(r=>r.id!==e)})),addSaoFeedback:e=>n(i=>({saoFeedback:[...i.saoFeedback,e]})),updateSaoFeedback:e=>n(i=>({saoFeedback:i.saoFeedback.map(r=>r.id===e.id?e:r)})),removeSaoFeedback:e=>n(i=>({saoFeedback:i.saoFeedback.filter(r=>r.id!==e)})),updateRelationship:e=>n(i=>({relationships:i.relationships.map(r=>r.id===e.id?e:r)})),updateUserSkill:e=>n(i=>({userSkills:i.userSkills.map(r=>r.id===e.id?e:r)}))})),TTe=({userId:n})=>{const{addSupervisorReview:e,updateSupervisorReview:i,addSaoFeedback:r,updateSaoFeedback:o,updateRelationship:l,updateUserSkill:c}=CTe(),{supervisorReviews:u,saoFeedback:h,relationships:m,userSkills:g}=LY();return ATe([{table:"supervisor_reviews",filter:`eit_id=eq.${n}`,callback:y=>{u&&(y.eventType==="INSERT"?(e(y.new),ud.success("New review received!")):y.eventType==="UPDATE"&&(i(y.new),ud.success("Review updated!")))}},{table:"sao_feedback",filter:`sao_id=in.(select id from saos where user_id=eq.${n})`,callback:y=>{h&&(y.eventType==="INSERT"?(r(y.new),ud.success("New SAO feedback received!")):y.eventType==="UPDATE"&&(o(y.new),ud.success("SAO feedback updated!")))}},{table:"supervisor_eit_relationships",filter:`eit_id=eq.${n}`,callback:y=>{m&&y.eventType==="UPDATE"&&(l(y.new),ud.success("Relationship status updated!"))}},{table:"user_skills",filter:`user_id=eq.${n}`,callback:y=>{g&&y.eventType==="UPDATE"&&(c(y.new),ud.success("Skill status updated!"))}}]),null};function DTe(){const[n,e]=H.useState(null),[i,r]=H.useState(!0),o=H2(m=>m.initialize),l=H2(m=>m.setupRealtimeSubscriptions),c=cf(m=>m.loadUserSkills),u=p3(m=>m.initialize),h=async()=>{try{console.log("Starting app initialization..."),await c(),console.log("Skills loaded successfully"),await o(),console.log("Progress initialized successfully"),await l(),console.log("Realtime subscriptions set up successfully"),await u(),console.log("Notifications initialized successfully")}catch(m){console.error("Error initializing app:",m)}};return H.useEffect(()=>{console.log("Checking for existing session..."),je.auth.getSession().then(({data:{session:g}})=>{console.log("Session check result:",g?"Session found":"No session"),e(g),r(!1),g&&(console.log("Session found, initializing app..."),h())});const{data:{subscription:m}}=je.auth.onAuthStateChange((g,y)=>{console.log("Auth state changed:",g,y?"Session present":"No session"),e(y),y&&(console.log("New session detected, initializing app..."),h())});return()=>m.unsubscribe()},[o,l,c]),H.useEffect(()=>{const m="accreda_last_tab_close",y=localStorage.getItem(m);if(y){const _=parseInt(y,10);!isNaN(_)&&Date.now()-_>18e5&&je.auth.signOut().then(()=>{e(null)})}const v=()=>{localStorage.setItem(m,Date.now().toString())};return window.addEventListener("beforeunload",v),()=>{window.removeEventListener("beforeunload",v)}},[]),i?b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"})}):b.jsxs(b.Fragment,{children:[n&&b.jsx(TTe,{userId:n.user.id}),b.jsx(Yxe,{position:"top-right"}),b.jsxs(Vde,{children:[b.jsx(di,{path:"/",element:n?b.jsx(bTe,{}):b.jsx(XCe,{})}),b.jsx(di,{path:"/login",element:n?b.jsx(fv,{to:"/dashboard"}):b.jsx(nye,{})}),b.jsx(di,{path:"/signup",element:n?b.jsx(fv,{to:"/dashboard"}):b.jsx(iye,{})}),b.jsx(di,{path:"/forgot-password",element:n?b.jsx(fv,{to:"/dashboard"}):b.jsx(rye,{})}),b.jsx(di,{path:"/reset-password",element:n?b.jsx(fv,{to:"/dashboard"}):b.jsx(sye,{})}),b.jsxs(di,{path:"/dashboard",element:n?b.jsx(e1e,{appLoaded:!i}):b.jsx(fv,{to:"/"}),children:[b.jsx(di,{index:!0,element:b.jsx(kTe,{})}),b.jsx(di,{path:"skills",element:b.jsx(a1e,{})}),b.jsx(di,{path:"saos",element:b.jsx(HCe,{})}),b.jsx(di,{path:"documents",element:b.jsx(l1e,{})}),b.jsx(di,{path:"essays",element:b.jsx(c1e,{})}),b.jsx(di,{path:"text-input",element:b.jsx(y1e,{})}),b.jsx(di,{path:"edit-document/:id",element:b.jsx(w1e,{})}),b.jsx(di,{path:"settings",element:b.jsx(axe,{})}),b.jsx(di,{path:"help",element:b.jsx(GCe,{})}),b.jsx(di,{path:"references",element:b.jsx(QCe,{})})]}),b.jsxs(di,{path:"/dashboard/supervisor",element:n?b.jsx(tTe,{appLoaded:!i}):b.jsx(fv,{to:"/"}),children:[b.jsx(di,{index:!0,element:b.jsx(mTe,{})}),b.jsx(di,{path:"team",element:b.jsx(nTe,{})}),b.jsx(di,{path:"reviews",element:b.jsx(sTe,{})}),b.jsx(di,{path:"documents",element:b.jsx(oTe,{})}),b.jsx(di,{path:"settings",element:b.jsx(lTe,{})}),b.jsx(di,{path:"support",element:b.jsx(cTe,{})}),b.jsx(di,{path:"skills",element:b.jsx(STe,{})})]}),b.jsx(di,{path:"*",element:b.jsx(v1e,{})})]})]})}$X(document.getElementById("root")).render(b.jsx(H.StrictMode,{children:b.jsx(Yde,{children:b.jsx(DTe,{})})}));export{d3 as A,f2 as B,Im as C,Sd as F,SM as P,$Ce as S,$S as U,eo as X,cf as a,ns as b,_ye as c,Ut as d,MN as g,b as j,H as r,je as s,GS as u};
