var ice=Object.defineProperty;var kz=n=>{throw TypeError(n)};var rce=(n,e,i)=>e in n?ice(n,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[e]=i;var yt=(n,e,i)=>rce(n,typeof e!="symbol"?e+"":e,i),ZI=(n,e,i)=>e.has(n)||kz("Cannot "+i);var P=(n,e,i)=>(ZI(n,e,"read from private field"),i?i.call(n):e.get(n)),pe=(n,e,i)=>e.has(n)?kz("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,i),te=(n,e,i,r)=>(ZI(n,e,"write to private field"),r?r.call(n,i):e.set(n,i),i),me=(n,e,i)=>(ZI(n,e,"access private method"),i);var Ro=(n,e,i,r)=>({set _(o){te(n,e,o,i)},get _(){return P(n,e,r)}});function sce(n,e){for(var i=0;i<e.length;i++){const r=e[i];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const l=Object.getOwnPropertyDescriptor(r,o);l&&Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=i(o);fetch(o.href,l)}})();var Gt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Z5(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function dG(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var i=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(i,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}),i}var hG={exports:{}},J5={},fG={exports:{}},Cn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qS=Symbol.for("react.element"),oce=Symbol.for("react.portal"),ace=Symbol.for("react.fragment"),lce=Symbol.for("react.strict_mode"),cce=Symbol.for("react.profiler"),uce=Symbol.for("react.provider"),dce=Symbol.for("react.context"),hce=Symbol.for("react.forward_ref"),fce=Symbol.for("react.suspense"),pce=Symbol.for("react.memo"),mce=Symbol.for("react.lazy"),Ez=Symbol.iterator;function gce(n){return n===null||typeof n!="object"?null:(n=Ez&&n[Ez]||n["@@iterator"],typeof n=="function"?n:null)}var pG={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mG=Object.assign,gG={};function Z1(n,e,i){this.props=n,this.context=e,this.refs=gG,this.updater=i||pG}Z1.prototype.isReactComponent={};Z1.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Z1.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function bG(){}bG.prototype=Z1.prototype;function T6(n,e,i){this.props=n,this.context=e,this.refs=gG,this.updater=i||pG}var C6=T6.prototype=new bG;C6.constructor=T6;mG(C6,Z1.prototype);C6.isPureReactComponent=!0;var Sz=Array.isArray,yG=Object.prototype.hasOwnProperty,D6={current:null},vG={key:!0,ref:!0,__self:!0,__source:!0};function wG(n,e,i){var r,o={},l=null,c=null;if(e!=null)for(r in e.ref!==void 0&&(c=e.ref),e.key!==void 0&&(l=""+e.key),e)yG.call(e,r)&&!vG.hasOwnProperty(r)&&(o[r]=e[r]);var u=arguments.length-2;if(u===1)o.children=i;else if(1<u){for(var h=Array(u),m=0;m<u;m++)h[m]=arguments[m+2];o.children=h}if(n&&n.defaultProps)for(r in u=n.defaultProps,u)o[r]===void 0&&(o[r]=u[r]);return{$$typeof:qS,type:n,key:l,ref:c,props:o,_owner:D6.current}}function bce(n,e){return{$$typeof:qS,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function N6(n){return typeof n=="object"&&n!==null&&n.$$typeof===qS}function yce(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(i){return e[i]})}var Az=/\/+/g;function JI(n,e){return typeof n=="object"&&n!==null&&n.key!=null?yce(""+n.key):e.toString(36)}function DD(n,e,i,r,o){var l=typeof n;(l==="undefined"||l==="boolean")&&(n=null);var c=!1;if(n===null)c=!0;else switch(l){case"string":case"number":c=!0;break;case"object":switch(n.$$typeof){case qS:case oce:c=!0}}if(c)return c=n,o=o(c),n=r===""?"."+JI(c,0):r,Sz(o)?(i="",n!=null&&(i=n.replace(Az,"$&/")+"/"),DD(o,e,i,"",function(m){return m})):o!=null&&(N6(o)&&(o=bce(o,i+(!o.key||c&&c.key===o.key?"":(""+o.key).replace(Az,"$&/")+"/")+n)),e.push(o)),1;if(c=0,r=r===""?".":r+":",Sz(n))for(var u=0;u<n.length;u++){l=n[u];var h=r+JI(l,u);c+=DD(l,e,i,h,o)}else if(h=gce(n),typeof h=="function")for(n=h.call(n),u=0;!(l=n.next()).done;)l=l.value,h=r+JI(l,u++),c+=DD(l,e,i,h,o);else if(l==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return c}function FC(n,e,i){if(n==null)return n;var r=[],o=0;return DD(n,r,"","",function(l){return e.call(i,l,o++)}),r}function vce(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(i){(n._status===0||n._status===-1)&&(n._status=1,n._result=i)},function(i){(n._status===0||n._status===-1)&&(n._status=2,n._result=i)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Zo={current:null},ND={transition:null},wce={ReactCurrentDispatcher:Zo,ReactCurrentBatchConfig:ND,ReactCurrentOwner:D6};function xG(){throw Error("act(...) is not supported in production builds of React.")}Cn.Children={map:FC,forEach:function(n,e,i){FC(n,function(){e.apply(this,arguments)},i)},count:function(n){var e=0;return FC(n,function(){e++}),e},toArray:function(n){return FC(n,function(e){return e})||[]},only:function(n){if(!N6(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Cn.Component=Z1;Cn.Fragment=ace;Cn.Profiler=cce;Cn.PureComponent=T6;Cn.StrictMode=lce;Cn.Suspense=fce;Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wce;Cn.act=xG;Cn.cloneElement=function(n,e,i){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=mG({},n.props),o=n.key,l=n.ref,c=n._owner;if(e!=null){if(e.ref!==void 0&&(l=e.ref,c=D6.current),e.key!==void 0&&(o=""+e.key),n.type&&n.type.defaultProps)var u=n.type.defaultProps;for(h in e)yG.call(e,h)&&!vG.hasOwnProperty(h)&&(r[h]=e[h]===void 0&&u!==void 0?u[h]:e[h])}var h=arguments.length-2;if(h===1)r.children=i;else if(1<h){u=Array(h);for(var m=0;m<h;m++)u[m]=arguments[m+2];r.children=u}return{$$typeof:qS,type:n.type,key:o,ref:l,props:r,_owner:c}};Cn.createContext=function(n){return n={$$typeof:dce,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:uce,_context:n},n.Consumer=n};Cn.createElement=wG;Cn.createFactory=function(n){var e=wG.bind(null,n);return e.type=n,e};Cn.createRef=function(){return{current:null}};Cn.forwardRef=function(n){return{$$typeof:hce,render:n}};Cn.isValidElement=N6;Cn.lazy=function(n){return{$$typeof:mce,_payload:{_status:-1,_result:n},_init:vce}};Cn.memo=function(n,e){return{$$typeof:pce,type:n,compare:e===void 0?null:e}};Cn.startTransition=function(n){var e=ND.transition;ND.transition={};try{n()}finally{ND.transition=e}};Cn.unstable_act=xG;Cn.useCallback=function(n,e){return Zo.current.useCallback(n,e)};Cn.useContext=function(n){return Zo.current.useContext(n)};Cn.useDebugValue=function(){};Cn.useDeferredValue=function(n){return Zo.current.useDeferredValue(n)};Cn.useEffect=function(n,e){return Zo.current.useEffect(n,e)};Cn.useId=function(){return Zo.current.useId()};Cn.useImperativeHandle=function(n,e,i){return Zo.current.useImperativeHandle(n,e,i)};Cn.useInsertionEffect=function(n,e){return Zo.current.useInsertionEffect(n,e)};Cn.useLayoutEffect=function(n,e){return Zo.current.useLayoutEffect(n,e)};Cn.useMemo=function(n,e){return Zo.current.useMemo(n,e)};Cn.useReducer=function(n,e,i){return Zo.current.useReducer(n,e,i)};Cn.useRef=function(n){return Zo.current.useRef(n)};Cn.useState=function(n){return Zo.current.useState(n)};Cn.useSyncExternalStore=function(n,e,i){return Zo.current.useSyncExternalStore(n,e,i)};Cn.useTransition=function(){return Zo.current.useTransition()};Cn.version="18.3.1";fG.exports=Cn;var G=fG.exports;const ai=Z5(G),yR=sce({__proto__:null,default:ai},[G]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xce=G,_ce=Symbol.for("react.element"),kce=Symbol.for("react.fragment"),Ece=Object.prototype.hasOwnProperty,Sce=xce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ace={key:!0,ref:!0,__self:!0,__source:!0};function _G(n,e,i){var r,o={},l=null,c=null;i!==void 0&&(l=""+i),e.key!==void 0&&(l=""+e.key),e.ref!==void 0&&(c=e.ref);for(r in e)Ece.call(e,r)&&!Ace.hasOwnProperty(r)&&(o[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:_ce,type:n,key:l,ref:c,props:o,_owner:Sce.current}}J5.Fragment=kce;J5.jsx=_G;J5.jsxs=_G;hG.exports=J5;var b=hG.exports,kG={exports:{}},bl={},EG={exports:{}},SG={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(X,K){var ne=X.length;X.push(K);e:for(;0<ne;){var ee=ne-1>>>1,ue=X[ee];if(0<o(ue,K))X[ee]=K,X[ne]=ue,ne=ee;else break e}}function i(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var K=X[0],ne=X.pop();if(ne!==K){X[0]=ne;e:for(var ee=0,ue=X.length,Q=ue>>>1;ee<Q;){var fe=2*(ee+1)-1,Se=X[fe],Oe=fe+1,Ie=X[Oe];if(0>o(Se,ne))Oe<ue&&0>o(Ie,Se)?(X[ee]=Ie,X[Oe]=ne,ee=Oe):(X[ee]=Se,X[fe]=ne,ee=fe);else if(Oe<ue&&0>o(Ie,ne))X[ee]=Ie,X[Oe]=ne,ee=Oe;else break e}}return K}function o(X,K){var ne=X.sortIndex-K.sortIndex;return ne!==0?ne:X.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();n.unstable_now=function(){return c.now()-u}}var h=[],m=[],g=1,y=null,v=3,_=!1,A=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(X){for(var K=i(m);K!==null;){if(K.callback===null)r(m);else if(K.startTime<=X)r(m),K.sortIndex=K.expirationTime,e(h,K);else break;K=i(m)}}function O(X){if(S=!1,I(X),!A)if(i(h)!==null)A=!0,ie(F);else{var K=i(m);K!==null&&ce(O,K.startTime-X)}}function F(X,K){A=!1,S&&(S=!1,C(B),B=-1),_=!0;var ne=v;try{for(I(K),y=i(h);y!==null&&(!(y.expirationTime>K)||X&&!de());){var ee=y.callback;if(typeof ee=="function"){y.callback=null,v=y.priorityLevel;var ue=ee(y.expirationTime<=K);K=n.unstable_now(),typeof ue=="function"?y.callback=ue:y===i(h)&&r(h),I(K)}else r(h);y=i(h)}if(y!==null)var Q=!0;else{var fe=i(m);fe!==null&&ce(O,fe.startTime-K),Q=!1}return Q}finally{y=null,v=ne,_=!1}}var L=!1,z=null,B=-1,Y=5,se=-1;function de(){return!(n.unstable_now()-se<Y)}function J(){if(z!==null){var X=n.unstable_now();se=X;var K=!0;try{K=z(!0,X)}finally{K?be():(L=!1,z=null)}}else L=!1}var be;if(typeof N=="function")be=function(){N(J)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,Te=q.port2;q.port1.onmessage=J,be=function(){Te.postMessage(null)}}else be=function(){T(J,0)};function ie(X){z=X,L||(L=!0,be())}function ce(X,K){B=T(function(){X(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_continueExecution=function(){A||_||(A=!0,ie(F))},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return i(h)},n.unstable_next=function(X){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var ne=v;v=K;try{return X()}finally{v=ne}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(X,K){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ne=v;v=X;try{return K()}finally{v=ne}},n.unstable_scheduleCallback=function(X,K,ne){var ee=n.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ee+ne:ee):ne=ee,X){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=ne+ue,X={id:g++,callback:K,priorityLevel:X,startTime:ne,expirationTime:ue,sortIndex:-1},ne>ee?(X.sortIndex=ne,e(m,X),i(h)===null&&X===i(m)&&(S?(C(B),B=-1):S=!0,ce(O,ne-ee))):(X.sortIndex=ue,e(h,X),A||_||(A=!0,ie(F))),X},n.unstable_shouldYield=de,n.unstable_wrapCallback=function(X){var K=v;return function(){var ne=v;v=K;try{return X.apply(this,arguments)}finally{v=ne}}}})(SG);EG.exports=SG;var Tce=EG.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cce=G,gl=Tce;function pt(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var AG=new Set,I2={};function q0(n,e){D1(n,e),D1(n+"Capture",e)}function D1(n,e){for(I2[n]=e,n=0;n<e.length;n++)AG.add(e[n])}var pf=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vR=Object.prototype.hasOwnProperty,Dce=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Tz={},Cz={};function Nce(n){return vR.call(Cz,n)?!0:vR.call(Tz,n)?!1:Dce.test(n)?Cz[n]=!0:(Tz[n]=!0,!1)}function Pce(n,e,i,r){if(i!==null&&i.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:i!==null?!i.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Ice(n,e,i,r){if(e===null||typeof e>"u"||Pce(n,e,i,r))return!0;if(r)return!1;if(i!==null)switch(i.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Jo(n,e,i,r,o,l,c){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=i,this.propertyName=n,this.type=e,this.sanitizeURL=l,this.removeEmptyString=c}var Ws={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Ws[n]=new Jo(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Ws[e]=new Jo(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Ws[n]=new Jo(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Ws[n]=new Jo(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Ws[n]=new Jo(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Ws[n]=new Jo(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Ws[n]=new Jo(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Ws[n]=new Jo(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Ws[n]=new Jo(n,5,!1,n.toLowerCase(),null,!1,!1)});var P6=/[\-:]([a-z])/g;function I6(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(P6,I6);Ws[e]=new Jo(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(P6,I6);Ws[e]=new Jo(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(P6,I6);Ws[e]=new Jo(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Ws[n]=new Jo(n,1,!1,n.toLowerCase(),null,!1,!1)});Ws.xlinkHref=new Jo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Ws[n]=new Jo(n,1,!1,n.toLowerCase(),null,!0,!0)});function j6(n,e,i,r){var o=Ws.hasOwnProperty(e)?Ws[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Ice(e,i,o,r)&&(i=null),r||o===null?Nce(e)&&(i===null?n.removeAttribute(e):n.setAttribute(e,""+i)):o.mustUseProperty?n[o.propertyName]=i===null?o.type===3?!1:"":i:(e=o.attributeName,r=o.attributeNamespace,i===null?n.removeAttribute(e):(o=o.type,i=o===3||o===4&&i===!0?"":""+i,r?n.setAttributeNS(r,e,i):n.setAttribute(e,i))))}var Tf=Cce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,LC=Symbol.for("react.element"),zv=Symbol.for("react.portal"),Vv=Symbol.for("react.fragment"),R6=Symbol.for("react.strict_mode"),wR=Symbol.for("react.profiler"),TG=Symbol.for("react.provider"),CG=Symbol.for("react.context"),M6=Symbol.for("react.forward_ref"),xR=Symbol.for("react.suspense"),_R=Symbol.for("react.suspense_list"),O6=Symbol.for("react.memo"),Pp=Symbol.for("react.lazy"),DG=Symbol.for("react.offscreen"),Dz=Symbol.iterator;function mk(n){return n===null||typeof n!="object"?null:(n=Dz&&n[Dz]||n["@@iterator"],typeof n=="function"?n:null)}var rr=Object.assign,QI;function Vk(n){if(QI===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);QI=e&&e[1]||""}return`
`+QI+n}var ej=!1;function tj(n,e){if(!n||ej)return"";ej=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(m){var r=m}Reflect.construct(n,[],e)}else{try{e.call()}catch(m){r=m}n.call(e.prototype)}else{try{throw Error()}catch(m){r=m}n()}}catch(m){if(m&&r&&typeof m.stack=="string"){for(var o=m.stack.split(`
`),l=r.stack.split(`
`),c=o.length-1,u=l.length-1;1<=c&&0<=u&&o[c]!==l[u];)u--;for(;1<=c&&0<=u;c--,u--)if(o[c]!==l[u]){if(c!==1||u!==1)do if(c--,u--,0>u||o[c]!==l[u]){var h=`
`+o[c].replace(" at new "," at ");return n.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",n.displayName)),h}while(1<=c&&0<=u);break}}}finally{ej=!1,Error.prepareStackTrace=i}return(n=n?n.displayName||n.name:"")?Vk(n):""}function jce(n){switch(n.tag){case 5:return Vk(n.type);case 16:return Vk("Lazy");case 13:return Vk("Suspense");case 19:return Vk("SuspenseList");case 0:case 2:case 15:return n=tj(n.type,!1),n;case 11:return n=tj(n.type.render,!1),n;case 1:return n=tj(n.type,!0),n;default:return""}}function kR(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Vv:return"Fragment";case zv:return"Portal";case wR:return"Profiler";case R6:return"StrictMode";case xR:return"Suspense";case _R:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case CG:return(n.displayName||"Context")+".Consumer";case TG:return(n._context.displayName||"Context")+".Provider";case M6:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case O6:return e=n.displayName||null,e!==null?e:kR(n.type)||"Memo";case Pp:e=n._payload,n=n._init;try{return kR(n(e))}catch{}}return null}function Rce(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kR(e);case 8:return e===R6?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Om(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function NG(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Mce(n){var e=NG(n)?"checked":"value",i=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,l=i.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return o.call(this)},set:function(c){r=""+c,l.call(this,c)}}),Object.defineProperty(n,e,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(c){r=""+c},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function UC(n){n._valueTracker||(n._valueTracker=Mce(n))}function PG(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var i=e.getValue(),r="";return n&&(r=NG(n)?n.checked?"true":"false":n.value),n=r,n!==i?(e.setValue(n),!0):!1}function CN(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function ER(n,e){var i=e.checked;return rr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??n._wrapperState.initialChecked})}function Nz(n,e){var i=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;i=Om(e.value!=null?e.value:i),n._wrapperState={initialChecked:r,initialValue:i,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function IG(n,e){e=e.checked,e!=null&&j6(n,"checked",e,!1)}function SR(n,e){IG(n,e);var i=Om(e.value),r=e.type;if(i!=null)r==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+i):n.value!==""+i&&(n.value=""+i);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?AR(n,e.type,i):e.hasOwnProperty("defaultValue")&&AR(n,e.type,Om(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function Pz(n,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,i||e===n.value||(n.value=e),n.defaultValue=e}i=n.name,i!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,i!==""&&(n.name=i)}function AR(n,e,i){(e!=="number"||CN(n.ownerDocument)!==n)&&(i==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+i&&(n.defaultValue=""+i))}var Wk=Array.isArray;function uw(n,e,i,r){if(n=n.options,e){e={};for(var o=0;o<i.length;o++)e["$"+i[o]]=!0;for(i=0;i<n.length;i++)o=e.hasOwnProperty("$"+n[i].value),n[i].selected!==o&&(n[i].selected=o),o&&r&&(n[i].defaultSelected=!0)}else{for(i=""+Om(i),e=null,o=0;o<n.length;o++){if(n[o].value===i){n[o].selected=!0,r&&(n[o].defaultSelected=!0);return}e!==null||n[o].disabled||(e=n[o])}e!==null&&(e.selected=!0)}}function TR(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(pt(91));return rr({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Iz(n,e){var i=e.value;if(i==null){if(i=e.children,e=e.defaultValue,i!=null){if(e!=null)throw Error(pt(92));if(Wk(i)){if(1<i.length)throw Error(pt(93));i=i[0]}e=i}e==null&&(e=""),i=e}n._wrapperState={initialValue:Om(i)}}function jG(n,e){var i=Om(e.value),r=Om(e.defaultValue);i!=null&&(i=""+i,i!==n.value&&(n.value=i),e.defaultValue==null&&n.defaultValue!==i&&(n.defaultValue=i)),r!=null&&(n.defaultValue=""+r)}function jz(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function RG(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function CR(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?RG(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var BC,MG=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,i,r,o){MSApp.execUnsafeLocalFunction(function(){return n(e,i,r,o)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(BC=BC||document.createElement("div"),BC.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=BC.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function j2(n,e){if(e){var i=n.firstChild;if(i&&i===n.lastChild&&i.nodeType===3){i.nodeValue=e;return}}n.textContent=e}var h2={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Oce=["Webkit","ms","Moz","O"];Object.keys(h2).forEach(function(n){Oce.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),h2[e]=h2[n]})});function OG(n,e,i){return e==null||typeof e=="boolean"||e===""?"":i||typeof e!="number"||e===0||h2.hasOwnProperty(n)&&h2[n]?(""+e).trim():e+"px"}function FG(n,e){n=n.style;for(var i in e)if(e.hasOwnProperty(i)){var r=i.indexOf("--")===0,o=OG(i,e[i],r);i==="float"&&(i="cssFloat"),r?n.setProperty(i,o):n[i]=o}}var Fce=rr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function DR(n,e){if(e){if(Fce[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(pt(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(pt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(pt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(pt(62))}}function NR(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var PR=null;function F6(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var IR=null,dw=null,hw=null;function Rz(n){if(n=XS(n)){if(typeof IR!="function")throw Error(pt(280));var e=n.stateNode;e&&(e=i3(e),IR(n.stateNode,n.type,e))}}function LG(n){dw?hw?hw.push(n):hw=[n]:dw=n}function UG(){if(dw){var n=dw,e=hw;if(hw=dw=null,Rz(n),e)for(n=0;n<e.length;n++)Rz(e[n])}}function BG(n,e){return n(e)}function zG(){}var nj=!1;function VG(n,e,i){if(nj)return n(e,i);nj=!0;try{return BG(n,e,i)}finally{nj=!1,(dw!==null||hw!==null)&&(zG(),UG())}}function R2(n,e){var i=n.stateNode;if(i===null)return null;var r=i3(i);if(r===null)return null;i=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(i&&typeof i!="function")throw Error(pt(231,e,typeof i));return i}var jR=!1;if(pf)try{var gk={};Object.defineProperty(gk,"passive",{get:function(){jR=!0}}),window.addEventListener("test",gk,gk),window.removeEventListener("test",gk,gk)}catch{jR=!1}function Lce(n,e,i,r,o,l,c,u,h){var m=Array.prototype.slice.call(arguments,3);try{e.apply(i,m)}catch(g){this.onError(g)}}var f2=!1,DN=null,NN=!1,RR=null,Uce={onError:function(n){f2=!0,DN=n}};function Bce(n,e,i,r,o,l,c,u,h){f2=!1,DN=null,Lce.apply(Uce,arguments)}function zce(n,e,i,r,o,l,c,u,h){if(Bce.apply(this,arguments),f2){if(f2){var m=DN;f2=!1,DN=null}else throw Error(pt(198));NN||(NN=!0,RR=m)}}function H0(n){var e=n,i=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(i=e.return),n=e.return;while(n)}return e.tag===3?i:null}function WG(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Mz(n){if(H0(n)!==n)throw Error(pt(188))}function Vce(n){var e=n.alternate;if(!e){if(e=H0(n),e===null)throw Error(pt(188));return e!==n?null:n}for(var i=n,r=e;;){var o=i.return;if(o===null)break;var l=o.alternate;if(l===null){if(r=o.return,r!==null){i=r;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===i)return Mz(o),n;if(l===r)return Mz(o),e;l=l.sibling}throw Error(pt(188))}if(i.return!==r.return)i=o,r=l;else{for(var c=!1,u=o.child;u;){if(u===i){c=!0,i=o,r=l;break}if(u===r){c=!0,r=o,i=l;break}u=u.sibling}if(!c){for(u=l.child;u;){if(u===i){c=!0,i=l,r=o;break}if(u===r){c=!0,r=l,i=o;break}u=u.sibling}if(!c)throw Error(pt(189))}}if(i.alternate!==r)throw Error(pt(190))}if(i.tag!==3)throw Error(pt(188));return i.stateNode.current===i?n:e}function $G(n){return n=Vce(n),n!==null?qG(n):null}function qG(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=qG(n);if(e!==null)return e;n=n.sibling}return null}var HG=gl.unstable_scheduleCallback,Oz=gl.unstable_cancelCallback,Wce=gl.unstable_shouldYield,$ce=gl.unstable_requestPaint,wr=gl.unstable_now,qce=gl.unstable_getCurrentPriorityLevel,L6=gl.unstable_ImmediatePriority,GG=gl.unstable_UserBlockingPriority,PN=gl.unstable_NormalPriority,Hce=gl.unstable_LowPriority,XG=gl.unstable_IdlePriority,Q5=null,kd=null;function Gce(n){if(kd&&typeof kd.onCommitFiberRoot=="function")try{kd.onCommitFiberRoot(Q5,n,void 0,(n.current.flags&128)===128)}catch{}}var su=Math.clz32?Math.clz32:Kce,Xce=Math.log,Yce=Math.LN2;function Kce(n){return n>>>=0,n===0?32:31-(Xce(n)/Yce|0)|0}var zC=64,VC=4194304;function $k(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function IN(n,e){var i=n.pendingLanes;if(i===0)return 0;var r=0,o=n.suspendedLanes,l=n.pingedLanes,c=i&268435455;if(c!==0){var u=c&~o;u!==0?r=$k(u):(l&=c,l!==0&&(r=$k(l)))}else c=i&~o,c!==0?r=$k(c):l!==0&&(r=$k(l));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,l=e&-e,o>=l||o===16&&(l&4194240)!==0))return e;if(r&4&&(r|=i&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)i=31-su(e),o=1<<i,r|=n[i],e&=~o;return r}function Zce(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jce(n,e){for(var i=n.suspendedLanes,r=n.pingedLanes,o=n.expirationTimes,l=n.pendingLanes;0<l;){var c=31-su(l),u=1<<c,h=o[c];h===-1?(!(u&i)||u&r)&&(o[c]=Zce(u,e)):h<=e&&(n.expiredLanes|=u),l&=~u}}function MR(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function YG(){var n=zC;return zC<<=1,!(zC&4194240)&&(zC=64),n}function ij(n){for(var e=[],i=0;31>i;i++)e.push(n);return e}function HS(n,e,i){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-su(e),n[e]=i}function Qce(n,e){var i=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<i;){var o=31-su(i),l=1<<o;e[o]=0,r[o]=-1,n[o]=-1,i&=~l}}function U6(n,e){var i=n.entangledLanes|=e;for(n=n.entanglements;i;){var r=31-su(i),o=1<<r;o&e|n[r]&e&&(n[r]|=e),i&=~o}}var li=0;function KG(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var ZG,B6,JG,QG,eX,OR=!1,WC=[],Am=null,Tm=null,Cm=null,M2=new Map,O2=new Map,Mp=[],eue="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fz(n,e){switch(n){case"focusin":case"focusout":Am=null;break;case"dragenter":case"dragleave":Tm=null;break;case"mouseover":case"mouseout":Cm=null;break;case"pointerover":case"pointerout":M2.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":O2.delete(e.pointerId)}}function bk(n,e,i,r,o,l){return n===null||n.nativeEvent!==l?(n={blockedOn:e,domEventName:i,eventSystemFlags:r,nativeEvent:l,targetContainers:[o]},e!==null&&(e=XS(e),e!==null&&B6(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),n)}function tue(n,e,i,r,o){switch(e){case"focusin":return Am=bk(Am,n,e,i,r,o),!0;case"dragenter":return Tm=bk(Tm,n,e,i,r,o),!0;case"mouseover":return Cm=bk(Cm,n,e,i,r,o),!0;case"pointerover":var l=o.pointerId;return M2.set(l,bk(M2.get(l)||null,n,e,i,r,o)),!0;case"gotpointercapture":return l=o.pointerId,O2.set(l,bk(O2.get(l)||null,n,e,i,r,o)),!0}return!1}function tX(n){var e=fb(n.target);if(e!==null){var i=H0(e);if(i!==null){if(e=i.tag,e===13){if(e=WG(i),e!==null){n.blockedOn=e,eX(n.priority,function(){JG(i)});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){n.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}n.blockedOn=null}function PD(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var i=FR(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(i===null){i=n.nativeEvent;var r=new i.constructor(i.type,i);PR=r,i.target.dispatchEvent(r),PR=null}else return e=XS(i),e!==null&&B6(e),n.blockedOn=i,!1;e.shift()}return!0}function Lz(n,e,i){PD(n)&&i.delete(e)}function nue(){OR=!1,Am!==null&&PD(Am)&&(Am=null),Tm!==null&&PD(Tm)&&(Tm=null),Cm!==null&&PD(Cm)&&(Cm=null),M2.forEach(Lz),O2.forEach(Lz)}function yk(n,e){n.blockedOn===e&&(n.blockedOn=null,OR||(OR=!0,gl.unstable_scheduleCallback(gl.unstable_NormalPriority,nue)))}function F2(n){function e(o){return yk(o,n)}if(0<WC.length){yk(WC[0],n);for(var i=1;i<WC.length;i++){var r=WC[i];r.blockedOn===n&&(r.blockedOn=null)}}for(Am!==null&&yk(Am,n),Tm!==null&&yk(Tm,n),Cm!==null&&yk(Cm,n),M2.forEach(e),O2.forEach(e),i=0;i<Mp.length;i++)r=Mp[i],r.blockedOn===n&&(r.blockedOn=null);for(;0<Mp.length&&(i=Mp[0],i.blockedOn===null);)tX(i),i.blockedOn===null&&Mp.shift()}var fw=Tf.ReactCurrentBatchConfig,jN=!0;function iue(n,e,i,r){var o=li,l=fw.transition;fw.transition=null;try{li=1,z6(n,e,i,r)}finally{li=o,fw.transition=l}}function rue(n,e,i,r){var o=li,l=fw.transition;fw.transition=null;try{li=4,z6(n,e,i,r)}finally{li=o,fw.transition=l}}function z6(n,e,i,r){if(jN){var o=FR(n,e,i,r);if(o===null)fj(n,e,r,RN,i),Fz(n,r);else if(tue(o,n,e,i,r))r.stopPropagation();else if(Fz(n,r),e&4&&-1<eue.indexOf(n)){for(;o!==null;){var l=XS(o);if(l!==null&&ZG(l),l=FR(n,e,i,r),l===null&&fj(n,e,r,RN,i),l===o)break;o=l}o!==null&&r.stopPropagation()}else fj(n,e,r,null,i)}}var RN=null;function FR(n,e,i,r){if(RN=null,n=F6(r),n=fb(n),n!==null)if(e=H0(n),e===null)n=null;else if(i=e.tag,i===13){if(n=WG(e),n!==null)return n;n=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return RN=n,null}function nX(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qce()){case L6:return 1;case GG:return 4;case PN:case Hce:return 16;case XG:return 536870912;default:return 16}default:return 16}}var _m=null,V6=null,ID=null;function iX(){if(ID)return ID;var n,e=V6,i=e.length,r,o="value"in _m?_m.value:_m.textContent,l=o.length;for(n=0;n<i&&e[n]===o[n];n++);var c=i-n;for(r=1;r<=c&&e[i-r]===o[l-r];r++);return ID=o.slice(n,1<r?1-r:void 0)}function jD(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function $C(){return!0}function Uz(){return!1}function yl(n){function e(i,r,o,l,c){this._reactName=i,this._targetInst=o,this.type=r,this.nativeEvent=l,this.target=c,this.currentTarget=null;for(var u in n)n.hasOwnProperty(u)&&(i=n[u],this[u]=i?i(l):l[u]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?$C:Uz,this.isPropagationStopped=Uz,this}return rr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=$C)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=$C)},persist:function(){},isPersistent:$C}),e}var J1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},W6=yl(J1),GS=rr({},J1,{view:0,detail:0}),sue=yl(GS),rj,sj,vk,e3=rr({},GS,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$6,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==vk&&(vk&&n.type==="mousemove"?(rj=n.screenX-vk.screenX,sj=n.screenY-vk.screenY):sj=rj=0,vk=n),rj)},movementY:function(n){return"movementY"in n?n.movementY:sj}}),Bz=yl(e3),oue=rr({},e3,{dataTransfer:0}),aue=yl(oue),lue=rr({},GS,{relatedTarget:0}),oj=yl(lue),cue=rr({},J1,{animationName:0,elapsedTime:0,pseudoElement:0}),uue=yl(cue),due=rr({},J1,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),hue=yl(due),fue=rr({},J1,{data:0}),zz=yl(fue),pue={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mue={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gue={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bue(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=gue[n])?!!e[n]:!1}function $6(){return bue}var yue=rr({},GS,{key:function(n){if(n.key){var e=pue[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=jD(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?mue[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$6,charCode:function(n){return n.type==="keypress"?jD(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?jD(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),vue=yl(yue),wue=rr({},e3,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vz=yl(wue),xue=rr({},GS,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$6}),_ue=yl(xue),kue=rr({},J1,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eue=yl(kue),Sue=rr({},e3,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Aue=yl(Sue),Tue=[9,13,27,32],q6=pf&&"CompositionEvent"in window,p2=null;pf&&"documentMode"in document&&(p2=document.documentMode);var Cue=pf&&"TextEvent"in window&&!p2,rX=pf&&(!q6||p2&&8<p2&&11>=p2),Wz=" ",$z=!1;function sX(n,e){switch(n){case"keyup":return Tue.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oX(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Wv=!1;function Due(n,e){switch(n){case"compositionend":return oX(e);case"keypress":return e.which!==32?null:($z=!0,Wz);case"textInput":return n=e.data,n===Wz&&$z?null:n;default:return null}}function Nue(n,e){if(Wv)return n==="compositionend"||!q6&&sX(n,e)?(n=iX(),ID=V6=_m=null,Wv=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return rX&&e.locale!=="ko"?null:e.data;default:return null}}var Pue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qz(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!Pue[n.type]:e==="textarea"}function aX(n,e,i,r){LG(r),e=MN(e,"onChange"),0<e.length&&(i=new W6("onChange","change",null,i,r),n.push({event:i,listeners:e}))}var m2=null,L2=null;function Iue(n){yX(n,0)}function t3(n){var e=Hv(n);if(PG(e))return n}function jue(n,e){if(n==="change")return e}var lX=!1;if(pf){var aj;if(pf){var lj="oninput"in document;if(!lj){var Hz=document.createElement("div");Hz.setAttribute("oninput","return;"),lj=typeof Hz.oninput=="function"}aj=lj}else aj=!1;lX=aj&&(!document.documentMode||9<document.documentMode)}function Gz(){m2&&(m2.detachEvent("onpropertychange",cX),L2=m2=null)}function cX(n){if(n.propertyName==="value"&&t3(L2)){var e=[];aX(e,L2,n,F6(n)),VG(Iue,e)}}function Rue(n,e,i){n==="focusin"?(Gz(),m2=e,L2=i,m2.attachEvent("onpropertychange",cX)):n==="focusout"&&Gz()}function Mue(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return t3(L2)}function Oue(n,e){if(n==="click")return t3(e)}function Fue(n,e){if(n==="input"||n==="change")return t3(e)}function Lue(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var lu=typeof Object.is=="function"?Object.is:Lue;function U2(n,e){if(lu(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var i=Object.keys(n),r=Object.keys(e);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var o=i[r];if(!vR.call(e,o)||!lu(n[o],e[o]))return!1}return!0}function Xz(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Yz(n,e){var i=Xz(n);n=0;for(var r;i;){if(i.nodeType===3){if(r=n+i.textContent.length,n<=e&&r>=e)return{node:i,offset:e-n};n=r}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Xz(i)}}function uX(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?uX(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function dX(){for(var n=window,e=CN();e instanceof n.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)n=e.contentWindow;else break;e=CN(n.document)}return e}function H6(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function Uue(n){var e=dX(),i=n.focusedElem,r=n.selectionRange;if(e!==i&&i&&i.ownerDocument&&uX(i.ownerDocument.documentElement,i)){if(r!==null&&H6(i)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(n,i.value.length);else if(n=(e=i.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var o=i.textContent.length,l=Math.min(r.start,o);r=r.end===void 0?l:Math.min(r.end,o),!n.extend&&l>r&&(o=r,r=l,l=o),o=Yz(i,l);var c=Yz(i,r);o&&c&&(n.rangeCount!==1||n.anchorNode!==o.node||n.anchorOffset!==o.offset||n.focusNode!==c.node||n.focusOffset!==c.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),n.removeAllRanges(),l>r?(n.addRange(e),n.extend(c.node,c.offset)):(e.setEnd(c.node,c.offset),n.addRange(e)))}}for(e=[],n=i;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)n=e[i],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Bue=pf&&"documentMode"in document&&11>=document.documentMode,$v=null,LR=null,g2=null,UR=!1;function Kz(n,e,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;UR||$v==null||$v!==CN(r)||(r=$v,"selectionStart"in r&&H6(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),g2&&U2(g2,r)||(g2=r,r=MN(LR,"onSelect"),0<r.length&&(e=new W6("onSelect","select",null,e,i),n.push({event:e,listeners:r}),e.target=$v)))}function qC(n,e){var i={};return i[n.toLowerCase()]=e.toLowerCase(),i["Webkit"+n]="webkit"+e,i["Moz"+n]="moz"+e,i}var qv={animationend:qC("Animation","AnimationEnd"),animationiteration:qC("Animation","AnimationIteration"),animationstart:qC("Animation","AnimationStart"),transitionend:qC("Transition","TransitionEnd")},cj={},hX={};pf&&(hX=document.createElement("div").style,"AnimationEvent"in window||(delete qv.animationend.animation,delete qv.animationiteration.animation,delete qv.animationstart.animation),"TransitionEvent"in window||delete qv.transitionend.transition);function n3(n){if(cj[n])return cj[n];if(!qv[n])return n;var e=qv[n],i;for(i in e)if(e.hasOwnProperty(i)&&i in hX)return cj[n]=e[i];return n}var fX=n3("animationend"),pX=n3("animationiteration"),mX=n3("animationstart"),gX=n3("transitionend"),bX=new Map,Zz="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xm(n,e){bX.set(n,e),q0(e,[n])}for(var uj=0;uj<Zz.length;uj++){var dj=Zz[uj],zue=dj.toLowerCase(),Vue=dj[0].toUpperCase()+dj.slice(1);Xm(zue,"on"+Vue)}Xm(fX,"onAnimationEnd");Xm(pX,"onAnimationIteration");Xm(mX,"onAnimationStart");Xm("dblclick","onDoubleClick");Xm("focusin","onFocus");Xm("focusout","onBlur");Xm(gX,"onTransitionEnd");D1("onMouseEnter",["mouseout","mouseover"]);D1("onMouseLeave",["mouseout","mouseover"]);D1("onPointerEnter",["pointerout","pointerover"]);D1("onPointerLeave",["pointerout","pointerover"]);q0("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));q0("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));q0("onBeforeInput",["compositionend","keypress","textInput","paste"]);q0("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));q0("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));q0("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qk="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wue=new Set("cancel close invalid load scroll toggle".split(" ").concat(qk));function Jz(n,e,i){var r=n.type||"unknown-event";n.currentTarget=i,zce(r,e,void 0,n),n.currentTarget=null}function yX(n,e){e=(e&4)!==0;for(var i=0;i<n.length;i++){var r=n[i],o=r.event;r=r.listeners;e:{var l=void 0;if(e)for(var c=r.length-1;0<=c;c--){var u=r[c],h=u.instance,m=u.currentTarget;if(u=u.listener,h!==l&&o.isPropagationStopped())break e;Jz(o,u,m),l=h}else for(c=0;c<r.length;c++){if(u=r[c],h=u.instance,m=u.currentTarget,u=u.listener,h!==l&&o.isPropagationStopped())break e;Jz(o,u,m),l=h}}}if(NN)throw n=RR,NN=!1,RR=null,n}function Ri(n,e){var i=e[$R];i===void 0&&(i=e[$R]=new Set);var r=n+"__bubble";i.has(r)||(vX(e,n,2,!1),i.add(r))}function hj(n,e,i){var r=0;e&&(r|=4),vX(i,n,r,e)}var HC="_reactListening"+Math.random().toString(36).slice(2);function B2(n){if(!n[HC]){n[HC]=!0,AG.forEach(function(i){i!=="selectionchange"&&(Wue.has(i)||hj(i,!1,n),hj(i,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[HC]||(e[HC]=!0,hj("selectionchange",!1,e))}}function vX(n,e,i,r){switch(nX(e)){case 1:var o=iue;break;case 4:o=rue;break;default:o=z6}i=o.bind(null,e,i,n),o=void 0,!jR||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?n.addEventListener(e,i,{capture:!0,passive:o}):n.addEventListener(e,i,!0):o!==void 0?n.addEventListener(e,i,{passive:o}):n.addEventListener(e,i,!1)}function fj(n,e,i,r,o){var l=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var c=r.tag;if(c===3||c===4){var u=r.stateNode.containerInfo;if(u===o||u.nodeType===8&&u.parentNode===o)break;if(c===4)for(c=r.return;c!==null;){var h=c.tag;if((h===3||h===4)&&(h=c.stateNode.containerInfo,h===o||h.nodeType===8&&h.parentNode===o))return;c=c.return}for(;u!==null;){if(c=fb(u),c===null)return;if(h=c.tag,h===5||h===6){r=l=c;continue e}u=u.parentNode}}r=r.return}VG(function(){var m=l,g=F6(i),y=[];e:{var v=bX.get(n);if(v!==void 0){var _=W6,A=n;switch(n){case"keypress":if(jD(i)===0)break e;case"keydown":case"keyup":_=vue;break;case"focusin":A="focus",_=oj;break;case"focusout":A="blur",_=oj;break;case"beforeblur":case"afterblur":_=oj;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Bz;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=aue;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=_ue;break;case fX:case pX:case mX:_=uue;break;case gX:_=Eue;break;case"scroll":_=sue;break;case"wheel":_=Aue;break;case"copy":case"cut":case"paste":_=hue;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Vz}var S=(e&4)!==0,T=!S&&n==="scroll",C=S?v!==null?v+"Capture":null:v;S=[];for(var N=m,I;N!==null;){I=N;var O=I.stateNode;if(I.tag===5&&O!==null&&(I=O,C!==null&&(O=R2(N,C),O!=null&&S.push(z2(N,O,I)))),T)break;N=N.return}0<S.length&&(v=new _(v,A,null,i,g),y.push({event:v,listeners:S}))}}if(!(e&7)){e:{if(v=n==="mouseover"||n==="pointerover",_=n==="mouseout"||n==="pointerout",v&&i!==PR&&(A=i.relatedTarget||i.fromElement)&&(fb(A)||A[mf]))break e;if((_||v)&&(v=g.window===g?g:(v=g.ownerDocument)?v.defaultView||v.parentWindow:window,_?(A=i.relatedTarget||i.toElement,_=m,A=A?fb(A):null,A!==null&&(T=H0(A),A!==T||A.tag!==5&&A.tag!==6)&&(A=null)):(_=null,A=m),_!==A)){if(S=Bz,O="onMouseLeave",C="onMouseEnter",N="mouse",(n==="pointerout"||n==="pointerover")&&(S=Vz,O="onPointerLeave",C="onPointerEnter",N="pointer"),T=_==null?v:Hv(_),I=A==null?v:Hv(A),v=new S(O,N+"leave",_,i,g),v.target=T,v.relatedTarget=I,O=null,fb(g)===m&&(S=new S(C,N+"enter",A,i,g),S.target=I,S.relatedTarget=T,O=S),T=O,_&&A)t:{for(S=_,C=A,N=0,I=S;I;I=xv(I))N++;for(I=0,O=C;O;O=xv(O))I++;for(;0<N-I;)S=xv(S),N--;for(;0<I-N;)C=xv(C),I--;for(;N--;){if(S===C||C!==null&&S===C.alternate)break t;S=xv(S),C=xv(C)}S=null}else S=null;_!==null&&Qz(y,v,_,S,!1),A!==null&&T!==null&&Qz(y,T,A,S,!0)}}e:{if(v=m?Hv(m):window,_=v.nodeName&&v.nodeName.toLowerCase(),_==="select"||_==="input"&&v.type==="file")var F=jue;else if(qz(v))if(lX)F=Fue;else{F=Mue;var L=Rue}else(_=v.nodeName)&&_.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(F=Oue);if(F&&(F=F(n,m))){aX(y,F,i,g);break e}L&&L(n,v,m),n==="focusout"&&(L=v._wrapperState)&&L.controlled&&v.type==="number"&&AR(v,"number",v.value)}switch(L=m?Hv(m):window,n){case"focusin":(qz(L)||L.contentEditable==="true")&&($v=L,LR=m,g2=null);break;case"focusout":g2=LR=$v=null;break;case"mousedown":UR=!0;break;case"contextmenu":case"mouseup":case"dragend":UR=!1,Kz(y,i,g);break;case"selectionchange":if(Bue)break;case"keydown":case"keyup":Kz(y,i,g)}var z;if(q6)e:{switch(n){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else Wv?sX(n,i)&&(B="onCompositionEnd"):n==="keydown"&&i.keyCode===229&&(B="onCompositionStart");B&&(rX&&i.locale!=="ko"&&(Wv||B!=="onCompositionStart"?B==="onCompositionEnd"&&Wv&&(z=iX()):(_m=g,V6="value"in _m?_m.value:_m.textContent,Wv=!0)),L=MN(m,B),0<L.length&&(B=new zz(B,n,null,i,g),y.push({event:B,listeners:L}),z?B.data=z:(z=oX(i),z!==null&&(B.data=z)))),(z=Cue?Due(n,i):Nue(n,i))&&(m=MN(m,"onBeforeInput"),0<m.length&&(g=new zz("onBeforeInput","beforeinput",null,i,g),y.push({event:g,listeners:m}),g.data=z))}yX(y,e)})}function z2(n,e,i){return{instance:n,listener:e,currentTarget:i}}function MN(n,e){for(var i=e+"Capture",r=[];n!==null;){var o=n,l=o.stateNode;o.tag===5&&l!==null&&(o=l,l=R2(n,i),l!=null&&r.unshift(z2(n,l,o)),l=R2(n,e),l!=null&&r.push(z2(n,l,o))),n=n.return}return r}function xv(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Qz(n,e,i,r,o){for(var l=e._reactName,c=[];i!==null&&i!==r;){var u=i,h=u.alternate,m=u.stateNode;if(h!==null&&h===r)break;u.tag===5&&m!==null&&(u=m,o?(h=R2(i,l),h!=null&&c.unshift(z2(i,h,u))):o||(h=R2(i,l),h!=null&&c.push(z2(i,h,u)))),i=i.return}c.length!==0&&n.push({event:e,listeners:c})}var $ue=/\r\n?/g,que=/\u0000|\uFFFD/g;function eV(n){return(typeof n=="string"?n:""+n).replace($ue,`
`).replace(que,"")}function GC(n,e,i){if(e=eV(e),eV(n)!==e&&i)throw Error(pt(425))}function ON(){}var BR=null,zR=null;function VR(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var WR=typeof setTimeout=="function"?setTimeout:void 0,Hue=typeof clearTimeout=="function"?clearTimeout:void 0,tV=typeof Promise=="function"?Promise:void 0,Gue=typeof queueMicrotask=="function"?queueMicrotask:typeof tV<"u"?function(n){return tV.resolve(null).then(n).catch(Xue)}:WR;function Xue(n){setTimeout(function(){throw n})}function pj(n,e){var i=e,r=0;do{var o=i.nextSibling;if(n.removeChild(i),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(r===0){n.removeChild(o),F2(e);return}r--}else i!=="$"&&i!=="$?"&&i!=="$!"||r++;i=o}while(i);F2(e)}function Dm(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function nV(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var i=n.data;if(i==="$"||i==="$!"||i==="$?"){if(e===0)return n;e--}else i==="/$"&&e++}n=n.previousSibling}return null}var Q1=Math.random().toString(36).slice(2),wd="__reactFiber$"+Q1,V2="__reactProps$"+Q1,mf="__reactContainer$"+Q1,$R="__reactEvents$"+Q1,Yue="__reactListeners$"+Q1,Kue="__reactHandles$"+Q1;function fb(n){var e=n[wd];if(e)return e;for(var i=n.parentNode;i;){if(e=i[mf]||i[wd]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(n=nV(n);n!==null;){if(i=n[wd])return i;n=nV(n)}return e}n=i,i=n.parentNode}return null}function XS(n){return n=n[wd]||n[mf],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Hv(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(pt(33))}function i3(n){return n[V2]||null}var qR=[],Gv=-1;function Ym(n){return{current:n}}function Oi(n){0>Gv||(n.current=qR[Gv],qR[Gv]=null,Gv--)}function Ci(n,e){Gv++,qR[Gv]=n.current,n.current=e}var Fm={},po=Ym(Fm),_a=Ym(!1),N0=Fm;function N1(n,e){var i=n.type.contextTypes;if(!i)return Fm;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},l;for(l in i)o[l]=e[l];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=o),o}function ka(n){return n=n.childContextTypes,n!=null}function FN(){Oi(_a),Oi(po)}function iV(n,e,i){if(po.current!==Fm)throw Error(pt(168));Ci(po,e),Ci(_a,i)}function wX(n,e,i){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return i;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(pt(108,Rce(n)||"Unknown",o));return rr({},i,r)}function LN(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Fm,N0=po.current,Ci(po,n),Ci(_a,_a.current),!0}function rV(n,e,i){var r=n.stateNode;if(!r)throw Error(pt(169));i?(n=wX(n,e,N0),r.__reactInternalMemoizedMergedChildContext=n,Oi(_a),Oi(po),Ci(po,n)):Oi(_a),Ci(_a,i)}var Nh=null,r3=!1,mj=!1;function xX(n){Nh===null?Nh=[n]:Nh.push(n)}function Zue(n){r3=!0,xX(n)}function Km(){if(!mj&&Nh!==null){mj=!0;var n=0,e=li;try{var i=Nh;for(li=1;n<i.length;n++){var r=i[n];do r=r(!0);while(r!==null)}Nh=null,r3=!1}catch(o){throw Nh!==null&&(Nh=Nh.slice(n+1)),HG(L6,Km),o}finally{li=e,mj=!1}}return null}var Xv=[],Yv=0,UN=null,BN=0,rc=[],sc=0,P0=null,lf=1,cf="";function ib(n,e){Xv[Yv++]=BN,Xv[Yv++]=UN,UN=n,BN=e}function _X(n,e,i){rc[sc++]=lf,rc[sc++]=cf,rc[sc++]=P0,P0=n;var r=lf;n=cf;var o=32-su(r)-1;r&=~(1<<o),i+=1;var l=32-su(e)+o;if(30<l){var c=o-o%5;l=(r&(1<<c)-1).toString(32),r>>=c,o-=c,lf=1<<32-su(e)+o|i<<o|r,cf=l+n}else lf=1<<l|i<<o|r,cf=n}function G6(n){n.return!==null&&(ib(n,1),_X(n,1,0))}function X6(n){for(;n===UN;)UN=Xv[--Yv],Xv[Yv]=null,BN=Xv[--Yv],Xv[Yv]=null;for(;n===P0;)P0=rc[--sc],rc[sc]=null,cf=rc[--sc],rc[sc]=null,lf=rc[--sc],rc[sc]=null}var fl=null,hl=null,Wi=!1,iu=null;function kX(n,e){var i=cc(5,null,null,0);i.elementType="DELETED",i.stateNode=e,i.return=n,e=n.deletions,e===null?(n.deletions=[i],n.flags|=16):e.push(i)}function sV(n,e){switch(n.tag){case 5:var i=n.type;return e=e.nodeType!==1||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,fl=n,hl=Dm(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,fl=n,hl=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(i=P0!==null?{id:lf,overflow:cf}:null,n.memoizedState={dehydrated:e,treeContext:i,retryLane:1073741824},i=cc(18,null,null,0),i.stateNode=e,i.return=n,n.child=i,fl=n,hl=null,!0):!1;default:return!1}}function HR(n){return(n.mode&1)!==0&&(n.flags&128)===0}function GR(n){if(Wi){var e=hl;if(e){var i=e;if(!sV(n,e)){if(HR(n))throw Error(pt(418));e=Dm(i.nextSibling);var r=fl;e&&sV(n,e)?kX(r,i):(n.flags=n.flags&-4097|2,Wi=!1,fl=n)}}else{if(HR(n))throw Error(pt(418));n.flags=n.flags&-4097|2,Wi=!1,fl=n}}}function oV(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;fl=n}function XC(n){if(n!==fl)return!1;if(!Wi)return oV(n),Wi=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!VR(n.type,n.memoizedProps)),e&&(e=hl)){if(HR(n))throw EX(),Error(pt(418));for(;e;)kX(n,e),e=Dm(e.nextSibling)}if(oV(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(pt(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var i=n.data;if(i==="/$"){if(e===0){hl=Dm(n.nextSibling);break e}e--}else i!=="$"&&i!=="$!"&&i!=="$?"||e++}n=n.nextSibling}hl=null}}else hl=fl?Dm(n.stateNode.nextSibling):null;return!0}function EX(){for(var n=hl;n;)n=Dm(n.nextSibling)}function P1(){hl=fl=null,Wi=!1}function Y6(n){iu===null?iu=[n]:iu.push(n)}var Jue=Tf.ReactCurrentBatchConfig;function wk(n,e,i){if(n=i.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(pt(309));var r=i.stateNode}if(!r)throw Error(pt(147,n));var o=r,l=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===l?e.ref:(e=function(c){var u=o.refs;c===null?delete u[l]:u[l]=c},e._stringRef=l,e)}if(typeof n!="string")throw Error(pt(284));if(!i._owner)throw Error(pt(290,n))}return n}function YC(n,e){throw n=Object.prototype.toString.call(e),Error(pt(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function aV(n){var e=n._init;return e(n._payload)}function SX(n){function e(C,N){if(n){var I=C.deletions;I===null?(C.deletions=[N],C.flags|=16):I.push(N)}}function i(C,N){if(!n)return null;for(;N!==null;)e(C,N),N=N.sibling;return null}function r(C,N){for(C=new Map;N!==null;)N.key!==null?C.set(N.key,N):C.set(N.index,N),N=N.sibling;return C}function o(C,N){return C=jm(C,N),C.index=0,C.sibling=null,C}function l(C,N,I){return C.index=I,n?(I=C.alternate,I!==null?(I=I.index,I<N?(C.flags|=2,N):I):(C.flags|=2,N)):(C.flags|=1048576,N)}function c(C){return n&&C.alternate===null&&(C.flags|=2),C}function u(C,N,I,O){return N===null||N.tag!==6?(N=_j(I,C.mode,O),N.return=C,N):(N=o(N,I),N.return=C,N)}function h(C,N,I,O){var F=I.type;return F===Vv?g(C,N,I.props.children,O,I.key):N!==null&&(N.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Pp&&aV(F)===N.type)?(O=o(N,I.props),O.ref=wk(C,N,I),O.return=C,O):(O=BD(I.type,I.key,I.props,null,C.mode,O),O.ref=wk(C,N,I),O.return=C,O)}function m(C,N,I,O){return N===null||N.tag!==4||N.stateNode.containerInfo!==I.containerInfo||N.stateNode.implementation!==I.implementation?(N=kj(I,C.mode,O),N.return=C,N):(N=o(N,I.children||[]),N.return=C,N)}function g(C,N,I,O,F){return N===null||N.tag!==7?(N=E0(I,C.mode,O,F),N.return=C,N):(N=o(N,I),N.return=C,N)}function y(C,N,I){if(typeof N=="string"&&N!==""||typeof N=="number")return N=_j(""+N,C.mode,I),N.return=C,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case LC:return I=BD(N.type,N.key,N.props,null,C.mode,I),I.ref=wk(C,null,N),I.return=C,I;case zv:return N=kj(N,C.mode,I),N.return=C,N;case Pp:var O=N._init;return y(C,O(N._payload),I)}if(Wk(N)||mk(N))return N=E0(N,C.mode,I,null),N.return=C,N;YC(C,N)}return null}function v(C,N,I,O){var F=N!==null?N.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return F!==null?null:u(C,N,""+I,O);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case LC:return I.key===F?h(C,N,I,O):null;case zv:return I.key===F?m(C,N,I,O):null;case Pp:return F=I._init,v(C,N,F(I._payload),O)}if(Wk(I)||mk(I))return F!==null?null:g(C,N,I,O,null);YC(C,I)}return null}function _(C,N,I,O,F){if(typeof O=="string"&&O!==""||typeof O=="number")return C=C.get(I)||null,u(N,C,""+O,F);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case LC:return C=C.get(O.key===null?I:O.key)||null,h(N,C,O,F);case zv:return C=C.get(O.key===null?I:O.key)||null,m(N,C,O,F);case Pp:var L=O._init;return _(C,N,I,L(O._payload),F)}if(Wk(O)||mk(O))return C=C.get(I)||null,g(N,C,O,F,null);YC(N,O)}return null}function A(C,N,I,O){for(var F=null,L=null,z=N,B=N=0,Y=null;z!==null&&B<I.length;B++){z.index>B?(Y=z,z=null):Y=z.sibling;var se=v(C,z,I[B],O);if(se===null){z===null&&(z=Y);break}n&&z&&se.alternate===null&&e(C,z),N=l(se,N,B),L===null?F=se:L.sibling=se,L=se,z=Y}if(B===I.length)return i(C,z),Wi&&ib(C,B),F;if(z===null){for(;B<I.length;B++)z=y(C,I[B],O),z!==null&&(N=l(z,N,B),L===null?F=z:L.sibling=z,L=z);return Wi&&ib(C,B),F}for(z=r(C,z);B<I.length;B++)Y=_(z,C,B,I[B],O),Y!==null&&(n&&Y.alternate!==null&&z.delete(Y.key===null?B:Y.key),N=l(Y,N,B),L===null?F=Y:L.sibling=Y,L=Y);return n&&z.forEach(function(de){return e(C,de)}),Wi&&ib(C,B),F}function S(C,N,I,O){var F=mk(I);if(typeof F!="function")throw Error(pt(150));if(I=F.call(I),I==null)throw Error(pt(151));for(var L=F=null,z=N,B=N=0,Y=null,se=I.next();z!==null&&!se.done;B++,se=I.next()){z.index>B?(Y=z,z=null):Y=z.sibling;var de=v(C,z,se.value,O);if(de===null){z===null&&(z=Y);break}n&&z&&de.alternate===null&&e(C,z),N=l(de,N,B),L===null?F=de:L.sibling=de,L=de,z=Y}if(se.done)return i(C,z),Wi&&ib(C,B),F;if(z===null){for(;!se.done;B++,se=I.next())se=y(C,se.value,O),se!==null&&(N=l(se,N,B),L===null?F=se:L.sibling=se,L=se);return Wi&&ib(C,B),F}for(z=r(C,z);!se.done;B++,se=I.next())se=_(z,C,B,se.value,O),se!==null&&(n&&se.alternate!==null&&z.delete(se.key===null?B:se.key),N=l(se,N,B),L===null?F=se:L.sibling=se,L=se);return n&&z.forEach(function(J){return e(C,J)}),Wi&&ib(C,B),F}function T(C,N,I,O){if(typeof I=="object"&&I!==null&&I.type===Vv&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case LC:e:{for(var F=I.key,L=N;L!==null;){if(L.key===F){if(F=I.type,F===Vv){if(L.tag===7){i(C,L.sibling),N=o(L,I.props.children),N.return=C,C=N;break e}}else if(L.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Pp&&aV(F)===L.type){i(C,L.sibling),N=o(L,I.props),N.ref=wk(C,L,I),N.return=C,C=N;break e}i(C,L);break}else e(C,L);L=L.sibling}I.type===Vv?(N=E0(I.props.children,C.mode,O,I.key),N.return=C,C=N):(O=BD(I.type,I.key,I.props,null,C.mode,O),O.ref=wk(C,N,I),O.return=C,C=O)}return c(C);case zv:e:{for(L=I.key;N!==null;){if(N.key===L)if(N.tag===4&&N.stateNode.containerInfo===I.containerInfo&&N.stateNode.implementation===I.implementation){i(C,N.sibling),N=o(N,I.children||[]),N.return=C,C=N;break e}else{i(C,N);break}else e(C,N);N=N.sibling}N=kj(I,C.mode,O),N.return=C,C=N}return c(C);case Pp:return L=I._init,T(C,N,L(I._payload),O)}if(Wk(I))return A(C,N,I,O);if(mk(I))return S(C,N,I,O);YC(C,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,N!==null&&N.tag===6?(i(C,N.sibling),N=o(N,I),N.return=C,C=N):(i(C,N),N=_j(I,C.mode,O),N.return=C,C=N),c(C)):i(C,N)}return T}var I1=SX(!0),AX=SX(!1),zN=Ym(null),VN=null,Kv=null,K6=null;function Z6(){K6=Kv=VN=null}function J6(n){var e=zN.current;Oi(zN),n._currentValue=e}function XR(n,e,i){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===i)break;n=n.return}}function pw(n,e){VN=n,K6=Kv=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(wa=!0),n.firstContext=null)}function pc(n){var e=n._currentValue;if(K6!==n)if(n={context:n,memoizedValue:e,next:null},Kv===null){if(VN===null)throw Error(pt(308));Kv=n,VN.dependencies={lanes:0,firstContext:n}}else Kv=Kv.next=n;return e}var pb=null;function Q6(n){pb===null?pb=[n]:pb.push(n)}function TX(n,e,i,r){var o=e.interleaved;return o===null?(i.next=i,Q6(e)):(i.next=o.next,o.next=i),e.interleaved=i,gf(n,r)}function gf(n,e){n.lanes|=e;var i=n.alternate;for(i!==null&&(i.lanes|=e),i=n,n=n.return;n!==null;)n.childLanes|=e,i=n.alternate,i!==null&&(i.childLanes|=e),i=n,n=n.return;return i.tag===3?i.stateNode:null}var Ip=!1;function eF(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CX(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function uf(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Nm(n,e,i){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Ln&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,gf(n,i)}return o=r.interleaved,o===null?(e.next=e,Q6(r)):(e.next=o.next,o.next=e),r.interleaved=e,gf(n,i)}function RD(n,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,i|=r,e.lanes=i,U6(n,i)}}function lV(n,e){var i=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var o=null,l=null;if(i=i.firstBaseUpdate,i!==null){do{var c={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};l===null?o=l=c:l=l.next=c,i=i.next}while(i!==null);l===null?o=l=e:l=l.next=e}else o=l=e;i={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:r.shared,effects:r.effects},n.updateQueue=i;return}n=i.lastBaseUpdate,n===null?i.firstBaseUpdate=e:n.next=e,i.lastBaseUpdate=e}function WN(n,e,i,r){var o=n.updateQueue;Ip=!1;var l=o.firstBaseUpdate,c=o.lastBaseUpdate,u=o.shared.pending;if(u!==null){o.shared.pending=null;var h=u,m=h.next;h.next=null,c===null?l=m:c.next=m,c=h;var g=n.alternate;g!==null&&(g=g.updateQueue,u=g.lastBaseUpdate,u!==c&&(u===null?g.firstBaseUpdate=m:u.next=m,g.lastBaseUpdate=h))}if(l!==null){var y=o.baseState;c=0,g=m=h=null,u=l;do{var v=u.lane,_=u.eventTime;if((r&v)===v){g!==null&&(g=g.next={eventTime:_,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var A=n,S=u;switch(v=e,_=i,S.tag){case 1:if(A=S.payload,typeof A=="function"){y=A.call(_,y,v);break e}y=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=S.payload,v=typeof A=="function"?A.call(_,y,v):A,v==null)break e;y=rr({},y,v);break e;case 2:Ip=!0}}u.callback!==null&&u.lane!==0&&(n.flags|=64,v=o.effects,v===null?o.effects=[u]:v.push(u))}else _={eventTime:_,lane:v,tag:u.tag,payload:u.payload,callback:u.callback,next:null},g===null?(m=g=_,h=y):g=g.next=_,c|=v;if(u=u.next,u===null){if(u=o.shared.pending,u===null)break;v=u,u=v.next,v.next=null,o.lastBaseUpdate=v,o.shared.pending=null}}while(!0);if(g===null&&(h=y),o.baseState=h,o.firstBaseUpdate=m,o.lastBaseUpdate=g,e=o.shared.interleaved,e!==null){o=e;do c|=o.lane,o=o.next;while(o!==e)}else l===null&&(o.shared.lanes=0);j0|=c,n.lanes=c,n.memoizedState=y}}function cV(n,e,i){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],o=r.callback;if(o!==null){if(r.callback=null,r=i,typeof o!="function")throw Error(pt(191,o));o.call(r)}}}var YS={},Ed=Ym(YS),W2=Ym(YS),$2=Ym(YS);function mb(n){if(n===YS)throw Error(pt(174));return n}function tF(n,e){switch(Ci($2,e),Ci(W2,n),Ci(Ed,YS),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:CR(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=CR(e,n)}Oi(Ed),Ci(Ed,e)}function j1(){Oi(Ed),Oi(W2),Oi($2)}function DX(n){mb($2.current);var e=mb(Ed.current),i=CR(e,n.type);e!==i&&(Ci(W2,n),Ci(Ed,i))}function nF(n){W2.current===n&&(Oi(Ed),Oi(W2))}var Qi=Ym(0);function $N(n){for(var e=n;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gj=[];function iF(){for(var n=0;n<gj.length;n++)gj[n]._workInProgressVersionPrimary=null;gj.length=0}var MD=Tf.ReactCurrentDispatcher,bj=Tf.ReactCurrentBatchConfig,I0=0,tr=null,Xr=null,ps=null,qN=!1,b2=!1,q2=0,Que=0;function eo(){throw Error(pt(321))}function rF(n,e){if(e===null)return!1;for(var i=0;i<e.length&&i<n.length;i++)if(!lu(n[i],e[i]))return!1;return!0}function sF(n,e,i,r,o,l){if(I0=l,tr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,MD.current=n===null||n.memoizedState===null?ide:rde,n=i(r,o),b2){l=0;do{if(b2=!1,q2=0,25<=l)throw Error(pt(301));l+=1,ps=Xr=null,e.updateQueue=null,MD.current=sde,n=i(r,o)}while(b2)}if(MD.current=HN,e=Xr!==null&&Xr.next!==null,I0=0,ps=Xr=tr=null,qN=!1,e)throw Error(pt(300));return n}function oF(){var n=q2!==0;return q2=0,n}function nd(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ps===null?tr.memoizedState=ps=n:ps=ps.next=n,ps}function mc(){if(Xr===null){var n=tr.alternate;n=n!==null?n.memoizedState:null}else n=Xr.next;var e=ps===null?tr.memoizedState:ps.next;if(e!==null)ps=e,Xr=n;else{if(n===null)throw Error(pt(310));Xr=n,n={memoizedState:Xr.memoizedState,baseState:Xr.baseState,baseQueue:Xr.baseQueue,queue:Xr.queue,next:null},ps===null?tr.memoizedState=ps=n:ps=ps.next=n}return ps}function H2(n,e){return typeof e=="function"?e(n):e}function yj(n){var e=mc(),i=e.queue;if(i===null)throw Error(pt(311));i.lastRenderedReducer=n;var r=Xr,o=r.baseQueue,l=i.pending;if(l!==null){if(o!==null){var c=o.next;o.next=l.next,l.next=c}r.baseQueue=o=l,i.pending=null}if(o!==null){l=o.next,r=r.baseState;var u=c=null,h=null,m=l;do{var g=m.lane;if((I0&g)===g)h!==null&&(h=h.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),r=m.hasEagerState?m.eagerState:n(r,m.action);else{var y={lane:g,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};h===null?(u=h=y,c=r):h=h.next=y,tr.lanes|=g,j0|=g}m=m.next}while(m!==null&&m!==l);h===null?c=r:h.next=u,lu(r,e.memoizedState)||(wa=!0),e.memoizedState=r,e.baseState=c,e.baseQueue=h,i.lastRenderedState=r}if(n=i.interleaved,n!==null){o=n;do l=o.lane,tr.lanes|=l,j0|=l,o=o.next;while(o!==n)}else o===null&&(i.lanes=0);return[e.memoizedState,i.dispatch]}function vj(n){var e=mc(),i=e.queue;if(i===null)throw Error(pt(311));i.lastRenderedReducer=n;var r=i.dispatch,o=i.pending,l=e.memoizedState;if(o!==null){i.pending=null;var c=o=o.next;do l=n(l,c.action),c=c.next;while(c!==o);lu(l,e.memoizedState)||(wa=!0),e.memoizedState=l,e.baseQueue===null&&(e.baseState=l),i.lastRenderedState=l}return[l,r]}function NX(){}function PX(n,e){var i=tr,r=mc(),o=e(),l=!lu(r.memoizedState,o);if(l&&(r.memoizedState=o,wa=!0),r=r.queue,aF(RX.bind(null,i,r,n),[n]),r.getSnapshot!==e||l||ps!==null&&ps.memoizedState.tag&1){if(i.flags|=2048,G2(9,jX.bind(null,i,r,o,e),void 0,null),gs===null)throw Error(pt(349));I0&30||IX(i,e,o)}return o}function IX(n,e,i){n.flags|=16384,n={getSnapshot:e,value:i},e=tr.updateQueue,e===null?(e={lastEffect:null,stores:null},tr.updateQueue=e,e.stores=[n]):(i=e.stores,i===null?e.stores=[n]:i.push(n))}function jX(n,e,i,r){e.value=i,e.getSnapshot=r,MX(e)&&OX(n)}function RX(n,e,i){return i(function(){MX(e)&&OX(n)})}function MX(n){var e=n.getSnapshot;n=n.value;try{var i=e();return!lu(n,i)}catch{return!0}}function OX(n){var e=gf(n,1);e!==null&&ou(e,n,1,-1)}function uV(n){var e=nd();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:H2,lastRenderedState:n},e.queue=n,n=n.dispatch=nde.bind(null,tr,n),[e.memoizedState,n]}function G2(n,e,i,r){return n={tag:n,create:e,destroy:i,deps:r,next:null},e=tr.updateQueue,e===null?(e={lastEffect:null,stores:null},tr.updateQueue=e,e.lastEffect=n.next=n):(i=e.lastEffect,i===null?e.lastEffect=n.next=n:(r=i.next,i.next=n,n.next=r,e.lastEffect=n)),n}function FX(){return mc().memoizedState}function OD(n,e,i,r){var o=nd();tr.flags|=n,o.memoizedState=G2(1|e,i,void 0,r===void 0?null:r)}function s3(n,e,i,r){var o=mc();r=r===void 0?null:r;var l=void 0;if(Xr!==null){var c=Xr.memoizedState;if(l=c.destroy,r!==null&&rF(r,c.deps)){o.memoizedState=G2(e,i,l,r);return}}tr.flags|=n,o.memoizedState=G2(1|e,i,l,r)}function dV(n,e){return OD(8390656,8,n,e)}function aF(n,e){return s3(2048,8,n,e)}function LX(n,e){return s3(4,2,n,e)}function UX(n,e){return s3(4,4,n,e)}function BX(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function zX(n,e,i){return i=i!=null?i.concat([n]):null,s3(4,4,BX.bind(null,e,n),i)}function lF(){}function VX(n,e){var i=mc();e=e===void 0?null:e;var r=i.memoizedState;return r!==null&&e!==null&&rF(e,r[1])?r[0]:(i.memoizedState=[n,e],n)}function WX(n,e){var i=mc();e=e===void 0?null:e;var r=i.memoizedState;return r!==null&&e!==null&&rF(e,r[1])?r[0]:(n=n(),i.memoizedState=[n,e],n)}function $X(n,e,i){return I0&21?(lu(i,e)||(i=YG(),tr.lanes|=i,j0|=i,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,wa=!0),n.memoizedState=i)}function ede(n,e){var i=li;li=i!==0&&4>i?i:4,n(!0);var r=bj.transition;bj.transition={};try{n(!1),e()}finally{li=i,bj.transition=r}}function qX(){return mc().memoizedState}function tde(n,e,i){var r=Im(n);if(i={lane:r,action:i,hasEagerState:!1,eagerState:null,next:null},HX(n))GX(e,i);else if(i=TX(n,e,i,r),i!==null){var o=Ho();ou(i,n,r,o),XX(i,e,r)}}function nde(n,e,i){var r=Im(n),o={lane:r,action:i,hasEagerState:!1,eagerState:null,next:null};if(HX(n))GX(e,o);else{var l=n.alternate;if(n.lanes===0&&(l===null||l.lanes===0)&&(l=e.lastRenderedReducer,l!==null))try{var c=e.lastRenderedState,u=l(c,i);if(o.hasEagerState=!0,o.eagerState=u,lu(u,c)){var h=e.interleaved;h===null?(o.next=o,Q6(e)):(o.next=h.next,h.next=o),e.interleaved=o;return}}catch{}finally{}i=TX(n,e,o,r),i!==null&&(o=Ho(),ou(i,n,r,o),XX(i,e,r))}}function HX(n){var e=n.alternate;return n===tr||e!==null&&e===tr}function GX(n,e){b2=qN=!0;var i=n.pending;i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e}function XX(n,e,i){if(i&4194240){var r=e.lanes;r&=n.pendingLanes,i|=r,e.lanes=i,U6(n,i)}}var HN={readContext:pc,useCallback:eo,useContext:eo,useEffect:eo,useImperativeHandle:eo,useInsertionEffect:eo,useLayoutEffect:eo,useMemo:eo,useReducer:eo,useRef:eo,useState:eo,useDebugValue:eo,useDeferredValue:eo,useTransition:eo,useMutableSource:eo,useSyncExternalStore:eo,useId:eo,unstable_isNewReconciler:!1},ide={readContext:pc,useCallback:function(n,e){return nd().memoizedState=[n,e===void 0?null:e],n},useContext:pc,useEffect:dV,useImperativeHandle:function(n,e,i){return i=i!=null?i.concat([n]):null,OD(4194308,4,BX.bind(null,e,n),i)},useLayoutEffect:function(n,e){return OD(4194308,4,n,e)},useInsertionEffect:function(n,e){return OD(4,2,n,e)},useMemo:function(n,e){var i=nd();return e=e===void 0?null:e,n=n(),i.memoizedState=[n,e],n},useReducer:function(n,e,i){var r=nd();return e=i!==void 0?i(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=tde.bind(null,tr,n),[r.memoizedState,n]},useRef:function(n){var e=nd();return n={current:n},e.memoizedState=n},useState:uV,useDebugValue:lF,useDeferredValue:function(n){return nd().memoizedState=n},useTransition:function(){var n=uV(!1),e=n[0];return n=ede.bind(null,n[1]),nd().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,i){var r=tr,o=nd();if(Wi){if(i===void 0)throw Error(pt(407));i=i()}else{if(i=e(),gs===null)throw Error(pt(349));I0&30||IX(r,e,i)}o.memoizedState=i;var l={value:i,getSnapshot:e};return o.queue=l,dV(RX.bind(null,r,l,n),[n]),r.flags|=2048,G2(9,jX.bind(null,r,l,i,e),void 0,null),i},useId:function(){var n=nd(),e=gs.identifierPrefix;if(Wi){var i=cf,r=lf;i=(r&~(1<<32-su(r)-1)).toString(32)+i,e=":"+e+"R"+i,i=q2++,0<i&&(e+="H"+i.toString(32)),e+=":"}else i=Que++,e=":"+e+"r"+i.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},rde={readContext:pc,useCallback:VX,useContext:pc,useEffect:aF,useImperativeHandle:zX,useInsertionEffect:LX,useLayoutEffect:UX,useMemo:WX,useReducer:yj,useRef:FX,useState:function(){return yj(H2)},useDebugValue:lF,useDeferredValue:function(n){var e=mc();return $X(e,Xr.memoizedState,n)},useTransition:function(){var n=yj(H2)[0],e=mc().memoizedState;return[n,e]},useMutableSource:NX,useSyncExternalStore:PX,useId:qX,unstable_isNewReconciler:!1},sde={readContext:pc,useCallback:VX,useContext:pc,useEffect:aF,useImperativeHandle:zX,useInsertionEffect:LX,useLayoutEffect:UX,useMemo:WX,useReducer:vj,useRef:FX,useState:function(){return vj(H2)},useDebugValue:lF,useDeferredValue:function(n){var e=mc();return Xr===null?e.memoizedState=n:$X(e,Xr.memoizedState,n)},useTransition:function(){var n=vj(H2)[0],e=mc().memoizedState;return[n,e]},useMutableSource:NX,useSyncExternalStore:PX,useId:qX,unstable_isNewReconciler:!1};function Vc(n,e){if(n&&n.defaultProps){e=rr({},e),n=n.defaultProps;for(var i in n)e[i]===void 0&&(e[i]=n[i]);return e}return e}function YR(n,e,i,r){e=n.memoizedState,i=i(r,e),i=i==null?e:rr({},e,i),n.memoizedState=i,n.lanes===0&&(n.updateQueue.baseState=i)}var o3={isMounted:function(n){return(n=n._reactInternals)?H0(n)===n:!1},enqueueSetState:function(n,e,i){n=n._reactInternals;var r=Ho(),o=Im(n),l=uf(r,o);l.payload=e,i!=null&&(l.callback=i),e=Nm(n,l,o),e!==null&&(ou(e,n,o,r),RD(e,n,o))},enqueueReplaceState:function(n,e,i){n=n._reactInternals;var r=Ho(),o=Im(n),l=uf(r,o);l.tag=1,l.payload=e,i!=null&&(l.callback=i),e=Nm(n,l,o),e!==null&&(ou(e,n,o,r),RD(e,n,o))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var i=Ho(),r=Im(n),o=uf(i,r);o.tag=2,e!=null&&(o.callback=e),e=Nm(n,o,r),e!==null&&(ou(e,n,r,i),RD(e,n,r))}};function hV(n,e,i,r,o,l,c){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,l,c):e.prototype&&e.prototype.isPureReactComponent?!U2(i,r)||!U2(o,l):!0}function YX(n,e,i){var r=!1,o=Fm,l=e.contextType;return typeof l=="object"&&l!==null?l=pc(l):(o=ka(e)?N0:po.current,r=e.contextTypes,l=(r=r!=null)?N1(n,o):Fm),e=new e(i,l),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=o3,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=o,n.__reactInternalMemoizedMaskedChildContext=l),e}function fV(n,e,i,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,r),e.state!==n&&o3.enqueueReplaceState(e,e.state,null)}function KR(n,e,i,r){var o=n.stateNode;o.props=i,o.state=n.memoizedState,o.refs={},eF(n);var l=e.contextType;typeof l=="object"&&l!==null?o.context=pc(l):(l=ka(e)?N0:po.current,o.context=N1(n,l)),o.state=n.memoizedState,l=e.getDerivedStateFromProps,typeof l=="function"&&(YR(n,e,l,i),o.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&o3.enqueueReplaceState(o,o.state,null),WN(n,i,o,r),o.state=n.memoizedState),typeof o.componentDidMount=="function"&&(n.flags|=4194308)}function R1(n,e){try{var i="",r=e;do i+=jce(r),r=r.return;while(r);var o=i}catch(l){o=`
Error generating stack: `+l.message+`
`+l.stack}return{value:n,source:e,stack:o,digest:null}}function wj(n,e,i){return{value:n,source:null,stack:i??null,digest:e??null}}function ZR(n,e){try{console.error(e.value)}catch(i){setTimeout(function(){throw i})}}var ode=typeof WeakMap=="function"?WeakMap:Map;function KX(n,e,i){i=uf(-1,i),i.tag=3,i.payload={element:null};var r=e.value;return i.callback=function(){XN||(XN=!0,aM=r),ZR(n,e)},i}function ZX(n,e,i){i=uf(-1,i),i.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;i.payload=function(){return r(o)},i.callback=function(){ZR(n,e)}}var l=n.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(i.callback=function(){ZR(n,e),typeof r!="function"&&(Pm===null?Pm=new Set([this]):Pm.add(this));var c=e.stack;this.componentDidCatch(e.value,{componentStack:c!==null?c:""})}),i}function pV(n,e,i){var r=n.pingCache;if(r===null){r=n.pingCache=new ode;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(i)||(o.add(i),n=wde.bind(null,n,e,i),e.then(n,n))}function mV(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function gV(n,e,i,r,o){return n.mode&1?(n.flags|=65536,n.lanes=o,n):(n===e?n.flags|=65536:(n.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(e=uf(-1,1),e.tag=2,Nm(i,e,1))),i.lanes|=1),n)}var ade=Tf.ReactCurrentOwner,wa=!1;function $o(n,e,i,r){e.child=n===null?AX(e,null,i,r):I1(e,n.child,i,r)}function bV(n,e,i,r,o){i=i.render;var l=e.ref;return pw(e,o),r=sF(n,e,i,r,l,o),i=oF(),n!==null&&!wa?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~o,bf(n,e,o)):(Wi&&i&&G6(e),e.flags|=1,$o(n,e,r,o),e.child)}function yV(n,e,i,r,o){if(n===null){var l=i.type;return typeof l=="function"&&!gF(l)&&l.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(e.tag=15,e.type=l,JX(n,e,l,r,o)):(n=BD(i.type,null,r,e,e.mode,o),n.ref=e.ref,n.return=e,e.child=n)}if(l=n.child,!(n.lanes&o)){var c=l.memoizedProps;if(i=i.compare,i=i!==null?i:U2,i(c,r)&&n.ref===e.ref)return bf(n,e,o)}return e.flags|=1,n=jm(l,r),n.ref=e.ref,n.return=e,e.child=n}function JX(n,e,i,r,o){if(n!==null){var l=n.memoizedProps;if(U2(l,r)&&n.ref===e.ref)if(wa=!1,e.pendingProps=r=l,(n.lanes&o)!==0)n.flags&131072&&(wa=!0);else return e.lanes=n.lanes,bf(n,e,o)}return JR(n,e,i,r,o)}function QX(n,e,i){var r=e.pendingProps,o=r.children,l=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Jv,cl),cl|=i;else{if(!(i&1073741824))return n=l!==null?l.baseLanes|i:i,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Ci(Jv,cl),cl|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:i,Ci(Jv,cl),cl|=r}else l!==null?(r=l.baseLanes|i,e.memoizedState=null):r=i,Ci(Jv,cl),cl|=r;return $o(n,e,o,i),e.child}function eY(n,e){var i=e.ref;(n===null&&i!==null||n!==null&&n.ref!==i)&&(e.flags|=512,e.flags|=2097152)}function JR(n,e,i,r,o){var l=ka(i)?N0:po.current;return l=N1(e,l),pw(e,o),i=sF(n,e,i,r,l,o),r=oF(),n!==null&&!wa?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~o,bf(n,e,o)):(Wi&&r&&G6(e),e.flags|=1,$o(n,e,i,o),e.child)}function vV(n,e,i,r,o){if(ka(i)){var l=!0;LN(e)}else l=!1;if(pw(e,o),e.stateNode===null)FD(n,e),YX(e,i,r),KR(e,i,r,o),r=!0;else if(n===null){var c=e.stateNode,u=e.memoizedProps;c.props=u;var h=c.context,m=i.contextType;typeof m=="object"&&m!==null?m=pc(m):(m=ka(i)?N0:po.current,m=N1(e,m));var g=i.getDerivedStateFromProps,y=typeof g=="function"||typeof c.getSnapshotBeforeUpdate=="function";y||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(u!==r||h!==m)&&fV(e,c,r,m),Ip=!1;var v=e.memoizedState;c.state=v,WN(e,r,c,o),h=e.memoizedState,u!==r||v!==h||_a.current||Ip?(typeof g=="function"&&(YR(e,i,g,r),h=e.memoizedState),(u=Ip||hV(e,i,u,r,v,h,m))?(y||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(e.flags|=4194308)):(typeof c.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=h),c.props=r,c.state=h,c.context=m,r=u):(typeof c.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{c=e.stateNode,CX(n,e),u=e.memoizedProps,m=e.type===e.elementType?u:Vc(e.type,u),c.props=m,y=e.pendingProps,v=c.context,h=i.contextType,typeof h=="object"&&h!==null?h=pc(h):(h=ka(i)?N0:po.current,h=N1(e,h));var _=i.getDerivedStateFromProps;(g=typeof _=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(u!==y||v!==h)&&fV(e,c,r,h),Ip=!1,v=e.memoizedState,c.state=v,WN(e,r,c,o);var A=e.memoizedState;u!==y||v!==A||_a.current||Ip?(typeof _=="function"&&(YR(e,i,_,r),A=e.memoizedState),(m=Ip||hV(e,i,m,r,v,A,h)||!1)?(g||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,A,h),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,A,h)),typeof c.componentDidUpdate=="function"&&(e.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof c.componentDidUpdate!="function"||u===n.memoizedProps&&v===n.memoizedState||(e.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||u===n.memoizedProps&&v===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=A),c.props=r,c.state=A,c.context=h,r=m):(typeof c.componentDidUpdate!="function"||u===n.memoizedProps&&v===n.memoizedState||(e.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||u===n.memoizedProps&&v===n.memoizedState||(e.flags|=1024),r=!1)}return QR(n,e,i,r,l,o)}function QR(n,e,i,r,o,l){eY(n,e);var c=(e.flags&128)!==0;if(!r&&!c)return o&&rV(e,i,!1),bf(n,e,l);r=e.stateNode,ade.current=e;var u=c&&typeof i.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&c?(e.child=I1(e,n.child,null,l),e.child=I1(e,null,u,l)):$o(n,e,u,l),e.memoizedState=r.state,o&&rV(e,i,!0),e.child}function tY(n){var e=n.stateNode;e.pendingContext?iV(n,e.pendingContext,e.pendingContext!==e.context):e.context&&iV(n,e.context,!1),tF(n,e.containerInfo)}function wV(n,e,i,r,o){return P1(),Y6(o),e.flags|=256,$o(n,e,i,r),e.child}var eM={dehydrated:null,treeContext:null,retryLane:0};function tM(n){return{baseLanes:n,cachePool:null,transitions:null}}function nY(n,e,i){var r=e.pendingProps,o=Qi.current,l=!1,c=(e.flags&128)!==0,u;if((u=c)||(u=n!==null&&n.memoizedState===null?!1:(o&2)!==0),u?(l=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(o|=1),Ci(Qi,o&1),n===null)return GR(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(c=r.children,n=r.fallback,l?(r=e.mode,l=e.child,c={mode:"hidden",children:c},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=c):l=c3(c,r,0,null),n=E0(n,r,i,null),l.return=e,n.return=e,l.sibling=n,e.child=l,e.child.memoizedState=tM(i),e.memoizedState=eM,n):cF(e,c));if(o=n.memoizedState,o!==null&&(u=o.dehydrated,u!==null))return lde(n,e,c,r,u,o,i);if(l){l=r.fallback,c=e.mode,o=n.child,u=o.sibling;var h={mode:"hidden",children:r.children};return!(c&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=h,e.deletions=null):(r=jm(o,h),r.subtreeFlags=o.subtreeFlags&14680064),u!==null?l=jm(u,l):(l=E0(l,c,i,null),l.flags|=2),l.return=e,r.return=e,r.sibling=l,e.child=r,r=l,l=e.child,c=n.child.memoizedState,c=c===null?tM(i):{baseLanes:c.baseLanes|i,cachePool:null,transitions:c.transitions},l.memoizedState=c,l.childLanes=n.childLanes&~i,e.memoizedState=eM,r}return l=n.child,n=l.sibling,r=jm(l,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=i),r.return=e,r.sibling=null,n!==null&&(i=e.deletions,i===null?(e.deletions=[n],e.flags|=16):i.push(n)),e.child=r,e.memoizedState=null,r}function cF(n,e){return e=c3({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function KC(n,e,i,r){return r!==null&&Y6(r),I1(e,n.child,null,i),n=cF(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function lde(n,e,i,r,o,l,c){if(i)return e.flags&256?(e.flags&=-257,r=wj(Error(pt(422))),KC(n,e,c,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(l=r.fallback,o=e.mode,r=c3({mode:"visible",children:r.children},o,0,null),l=E0(l,o,c,null),l.flags|=2,r.return=e,l.return=e,r.sibling=l,e.child=r,e.mode&1&&I1(e,n.child,null,c),e.child.memoizedState=tM(c),e.memoizedState=eM,l);if(!(e.mode&1))return KC(n,e,c,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var u=r.dgst;return r=u,l=Error(pt(419)),r=wj(l,r,void 0),KC(n,e,c,r)}if(u=(c&n.childLanes)!==0,wa||u){if(r=gs,r!==null){switch(c&-c){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|c)?0:o,o!==0&&o!==l.retryLane&&(l.retryLane=o,gf(n,o),ou(r,n,o,-1))}return mF(),r=wj(Error(pt(421))),KC(n,e,c,r)}return o.data==="$?"?(e.flags|=128,e.child=n.child,e=xde.bind(null,n),o._reactRetry=e,null):(n=l.treeContext,hl=Dm(o.nextSibling),fl=e,Wi=!0,iu=null,n!==null&&(rc[sc++]=lf,rc[sc++]=cf,rc[sc++]=P0,lf=n.id,cf=n.overflow,P0=e),e=cF(e,r.children),e.flags|=4096,e)}function xV(n,e,i){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),XR(n.return,e,i)}function xj(n,e,i,r,o){var l=n.memoizedState;l===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:o}:(l.isBackwards=e,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=i,l.tailMode=o)}function iY(n,e,i){var r=e.pendingProps,o=r.revealOrder,l=r.tail;if($o(n,e,r.children,i),r=Qi.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&xV(n,i,e);else if(n.tag===19)xV(n,i,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Ci(Qi,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(i=e.child,o=null;i!==null;)n=i.alternate,n!==null&&$N(n)===null&&(o=i),i=i.sibling;i=o,i===null?(o=e.child,e.child=null):(o=i.sibling,i.sibling=null),xj(e,!1,o,i,l);break;case"backwards":for(i=null,o=e.child,e.child=null;o!==null;){if(n=o.alternate,n!==null&&$N(n)===null){e.child=o;break}n=o.sibling,o.sibling=i,i=o,o=n}xj(e,!0,i,null,l);break;case"together":xj(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function FD(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function bf(n,e,i){if(n!==null&&(e.dependencies=n.dependencies),j0|=e.lanes,!(i&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(pt(153));if(e.child!==null){for(n=e.child,i=jm(n,n.pendingProps),e.child=i,i.return=e;n.sibling!==null;)n=n.sibling,i=i.sibling=jm(n,n.pendingProps),i.return=e;i.sibling=null}return e.child}function cde(n,e,i){switch(e.tag){case 3:tY(e),P1();break;case 5:DX(e);break;case 1:ka(e.type)&&LN(e);break;case 4:tF(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;Ci(zN,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ci(Qi,Qi.current&1),e.flags|=128,null):i&e.child.childLanes?nY(n,e,i):(Ci(Qi,Qi.current&1),n=bf(n,e,i),n!==null?n.sibling:null);Ci(Qi,Qi.current&1);break;case 19:if(r=(i&e.childLanes)!==0,n.flags&128){if(r)return iY(n,e,i);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ci(Qi,Qi.current),r)break;return null;case 22:case 23:return e.lanes=0,QX(n,e,i)}return bf(n,e,i)}var rY,nM,sY,oY;rY=function(n,e){for(var i=e.child;i!==null;){if(i.tag===5||i.tag===6)n.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};nM=function(){};sY=function(n,e,i,r){var o=n.memoizedProps;if(o!==r){n=e.stateNode,mb(Ed.current);var l=null;switch(i){case"input":o=ER(n,o),r=ER(n,r),l=[];break;case"select":o=rr({},o,{value:void 0}),r=rr({},r,{value:void 0}),l=[];break;case"textarea":o=TR(n,o),r=TR(n,r),l=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=ON)}DR(i,r);var c;i=null;for(m in o)if(!r.hasOwnProperty(m)&&o.hasOwnProperty(m)&&o[m]!=null)if(m==="style"){var u=o[m];for(c in u)u.hasOwnProperty(c)&&(i||(i={}),i[c]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(I2.hasOwnProperty(m)?l||(l=[]):(l=l||[]).push(m,null));for(m in r){var h=r[m];if(u=o!=null?o[m]:void 0,r.hasOwnProperty(m)&&h!==u&&(h!=null||u!=null))if(m==="style")if(u){for(c in u)!u.hasOwnProperty(c)||h&&h.hasOwnProperty(c)||(i||(i={}),i[c]="");for(c in h)h.hasOwnProperty(c)&&u[c]!==h[c]&&(i||(i={}),i[c]=h[c])}else i||(l||(l=[]),l.push(m,i)),i=h;else m==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,u=u?u.__html:void 0,h!=null&&u!==h&&(l=l||[]).push(m,h)):m==="children"?typeof h!="string"&&typeof h!="number"||(l=l||[]).push(m,""+h):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(I2.hasOwnProperty(m)?(h!=null&&m==="onScroll"&&Ri("scroll",n),l||u===h||(l=[])):(l=l||[]).push(m,h))}i&&(l=l||[]).push("style",i);var m=l;(e.updateQueue=m)&&(e.flags|=4)}};oY=function(n,e,i,r){i!==r&&(e.flags|=4)};function xk(n,e){if(!Wi)switch(n.tailMode){case"hidden":e=n.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?n.tail=null:i.sibling=null;break;case"collapsed":i=n.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function to(n){var e=n.alternate!==null&&n.alternate.child===n.child,i=0,r=0;if(e)for(var o=n.child;o!==null;)i|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=n,o=o.sibling;else for(o=n.child;o!==null;)i|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=n,o=o.sibling;return n.subtreeFlags|=r,n.childLanes=i,e}function ude(n,e,i){var r=e.pendingProps;switch(X6(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return to(e),null;case 1:return ka(e.type)&&FN(),to(e),null;case 3:return r=e.stateNode,j1(),Oi(_a),Oi(po),iF(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(XC(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,iu!==null&&(uM(iu),iu=null))),nM(n,e),to(e),null;case 5:nF(e);var o=mb($2.current);if(i=e.type,n!==null&&e.stateNode!=null)sY(n,e,i,r,o),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(pt(166));return to(e),null}if(n=mb(Ed.current),XC(e)){r=e.stateNode,i=e.type;var l=e.memoizedProps;switch(r[wd]=e,r[V2]=l,n=(e.mode&1)!==0,i){case"dialog":Ri("cancel",r),Ri("close",r);break;case"iframe":case"object":case"embed":Ri("load",r);break;case"video":case"audio":for(o=0;o<qk.length;o++)Ri(qk[o],r);break;case"source":Ri("error",r);break;case"img":case"image":case"link":Ri("error",r),Ri("load",r);break;case"details":Ri("toggle",r);break;case"input":Nz(r,l),Ri("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Ri("invalid",r);break;case"textarea":Iz(r,l),Ri("invalid",r)}DR(i,l),o=null;for(var c in l)if(l.hasOwnProperty(c)){var u=l[c];c==="children"?typeof u=="string"?r.textContent!==u&&(l.suppressHydrationWarning!==!0&&GC(r.textContent,u,n),o=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(l.suppressHydrationWarning!==!0&&GC(r.textContent,u,n),o=["children",""+u]):I2.hasOwnProperty(c)&&u!=null&&c==="onScroll"&&Ri("scroll",r)}switch(i){case"input":UC(r),Pz(r,l,!0);break;case"textarea":UC(r),jz(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=ON)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{c=o.nodeType===9?o:o.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=RG(i)),n==="http://www.w3.org/1999/xhtml"?i==="script"?(n=c.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=c.createElement(i,{is:r.is}):(n=c.createElement(i),i==="select"&&(c=n,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):n=c.createElementNS(n,i),n[wd]=e,n[V2]=r,rY(n,e,!1,!1),e.stateNode=n;e:{switch(c=NR(i,r),i){case"dialog":Ri("cancel",n),Ri("close",n),o=r;break;case"iframe":case"object":case"embed":Ri("load",n),o=r;break;case"video":case"audio":for(o=0;o<qk.length;o++)Ri(qk[o],n);o=r;break;case"source":Ri("error",n),o=r;break;case"img":case"image":case"link":Ri("error",n),Ri("load",n),o=r;break;case"details":Ri("toggle",n),o=r;break;case"input":Nz(n,r),o=ER(n,r),Ri("invalid",n);break;case"option":o=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},o=rr({},r,{value:void 0}),Ri("invalid",n);break;case"textarea":Iz(n,r),o=TR(n,r),Ri("invalid",n);break;default:o=r}DR(i,o),u=o;for(l in u)if(u.hasOwnProperty(l)){var h=u[l];l==="style"?FG(n,h):l==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&MG(n,h)):l==="children"?typeof h=="string"?(i!=="textarea"||h!=="")&&j2(n,h):typeof h=="number"&&j2(n,""+h):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(I2.hasOwnProperty(l)?h!=null&&l==="onScroll"&&Ri("scroll",n):h!=null&&j6(n,l,h,c))}switch(i){case"input":UC(n),Pz(n,r,!1);break;case"textarea":UC(n),jz(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Om(r.value));break;case"select":n.multiple=!!r.multiple,l=r.value,l!=null?uw(n,!!r.multiple,l,!1):r.defaultValue!=null&&uw(n,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(n.onclick=ON)}switch(i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return to(e),null;case 6:if(n&&e.stateNode!=null)oY(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(pt(166));if(i=mb($2.current),mb(Ed.current),XC(e)){if(r=e.stateNode,i=e.memoizedProps,r[wd]=e,(l=r.nodeValue!==i)&&(n=fl,n!==null))switch(n.tag){case 3:GC(r.nodeValue,i,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&GC(r.nodeValue,i,(n.mode&1)!==0)}l&&(e.flags|=4)}else r=(i.nodeType===9?i:i.ownerDocument).createTextNode(r),r[wd]=e,e.stateNode=r}return to(e),null;case 13:if(Oi(Qi),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Wi&&hl!==null&&e.mode&1&&!(e.flags&128))EX(),P1(),e.flags|=98560,l=!1;else if(l=XC(e),r!==null&&r.dehydrated!==null){if(n===null){if(!l)throw Error(pt(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(pt(317));l[wd]=e}else P1(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;to(e),l=!1}else iu!==null&&(uM(iu),iu=null),l=!0;if(!l)return e.flags&65536?e:null}return e.flags&128?(e.lanes=i,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Qi.current&1?Yr===0&&(Yr=3):mF())),e.updateQueue!==null&&(e.flags|=4),to(e),null);case 4:return j1(),nM(n,e),n===null&&B2(e.stateNode.containerInfo),to(e),null;case 10:return J6(e.type._context),to(e),null;case 17:return ka(e.type)&&FN(),to(e),null;case 19:if(Oi(Qi),l=e.memoizedState,l===null)return to(e),null;if(r=(e.flags&128)!==0,c=l.rendering,c===null)if(r)xk(l,!1);else{if(Yr!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(c=$N(n),c!==null){for(e.flags|=128,xk(l,!1),r=c.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=i,i=e.child;i!==null;)l=i,n=r,l.flags&=14680066,c=l.alternate,c===null?(l.childLanes=0,l.lanes=n,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=c.childLanes,l.lanes=c.lanes,l.child=c.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=c.memoizedProps,l.memoizedState=c.memoizedState,l.updateQueue=c.updateQueue,l.type=c.type,n=c.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),i=i.sibling;return Ci(Qi,Qi.current&1|2),e.child}n=n.sibling}l.tail!==null&&wr()>M1&&(e.flags|=128,r=!0,xk(l,!1),e.lanes=4194304)}else{if(!r)if(n=$N(c),n!==null){if(e.flags|=128,r=!0,i=n.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),xk(l,!0),l.tail===null&&l.tailMode==="hidden"&&!c.alternate&&!Wi)return to(e),null}else 2*wr()-l.renderingStartTime>M1&&i!==1073741824&&(e.flags|=128,r=!0,xk(l,!1),e.lanes=4194304);l.isBackwards?(c.sibling=e.child,e.child=c):(i=l.last,i!==null?i.sibling=c:e.child=c,l.last=c)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=wr(),e.sibling=null,i=Qi.current,Ci(Qi,r?i&1|2:i&1),e):(to(e),null);case 22:case 23:return pF(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?cl&1073741824&&(to(e),e.subtreeFlags&6&&(e.flags|=8192)):to(e),null;case 24:return null;case 25:return null}throw Error(pt(156,e.tag))}function dde(n,e){switch(X6(e),e.tag){case 1:return ka(e.type)&&FN(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return j1(),Oi(_a),Oi(po),iF(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return nF(e),null;case 13:if(Oi(Qi),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(pt(340));P1()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Oi(Qi),null;case 4:return j1(),null;case 10:return J6(e.type._context),null;case 22:case 23:return pF(),null;case 24:return null;default:return null}}var ZC=!1,uo=!1,hde=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function Zv(n,e){var i=n.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(r){fr(n,e,r)}else i.current=null}function iM(n,e,i){try{i()}catch(r){fr(n,e,r)}}var _V=!1;function fde(n,e){if(BR=jN,n=dX(),H6(n)){if("selectionStart"in n)var i={start:n.selectionStart,end:n.selectionEnd};else e:{i=(i=n.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var o=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{i.nodeType,l.nodeType}catch{i=null;break e}var c=0,u=-1,h=-1,m=0,g=0,y=n,v=null;t:for(;;){for(var _;y!==i||o!==0&&y.nodeType!==3||(u=c+o),y!==l||r!==0&&y.nodeType!==3||(h=c+r),y.nodeType===3&&(c+=y.nodeValue.length),(_=y.firstChild)!==null;)v=y,y=_;for(;;){if(y===n)break t;if(v===i&&++m===o&&(u=c),v===l&&++g===r&&(h=c),(_=y.nextSibling)!==null)break;y=v,v=y.parentNode}y=_}i=u===-1||h===-1?null:{start:u,end:h}}else i=null}i=i||{start:0,end:0}}else i=null;for(zR={focusedElem:n,selectionRange:i},jN=!1,Rt=e;Rt!==null;)if(e=Rt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Rt=n;else for(;Rt!==null;){e=Rt;try{var A=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var S=A.memoizedProps,T=A.memoizedState,C=e.stateNode,N=C.getSnapshotBeforeUpdate(e.elementType===e.type?S:Vc(e.type,S),T);C.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pt(163))}}catch(O){fr(e,e.return,O)}if(n=e.sibling,n!==null){n.return=e.return,Rt=n;break}Rt=e.return}return A=_V,_V=!1,A}function y2(n,e,i){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&n)===n){var l=o.destroy;o.destroy=void 0,l!==void 0&&iM(e,i,l)}o=o.next}while(o!==r)}}function a3(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var i=e=e.next;do{if((i.tag&n)===n){var r=i.create;i.destroy=r()}i=i.next}while(i!==e)}}function rM(n){var e=n.ref;if(e!==null){var i=n.stateNode;switch(n.tag){case 5:n=i;break;default:n=i}typeof e=="function"?e(n):e.current=n}}function aY(n){var e=n.alternate;e!==null&&(n.alternate=null,aY(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[wd],delete e[V2],delete e[$R],delete e[Yue],delete e[Kue])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function lY(n){return n.tag===5||n.tag===3||n.tag===4}function kV(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||lY(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function sM(n,e,i){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?i.nodeType===8?i.parentNode.insertBefore(n,e):i.insertBefore(n,e):(i.nodeType===8?(e=i.parentNode,e.insertBefore(n,i)):(e=i,e.appendChild(n)),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=ON));else if(r!==4&&(n=n.child,n!==null))for(sM(n,e,i),n=n.sibling;n!==null;)sM(n,e,i),n=n.sibling}function oM(n,e,i){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?i.insertBefore(n,e):i.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(oM(n,e,i),n=n.sibling;n!==null;)oM(n,e,i),n=n.sibling}var Ms=null,tu=!1;function Ep(n,e,i){for(i=i.child;i!==null;)cY(n,e,i),i=i.sibling}function cY(n,e,i){if(kd&&typeof kd.onCommitFiberUnmount=="function")try{kd.onCommitFiberUnmount(Q5,i)}catch{}switch(i.tag){case 5:uo||Zv(i,e);case 6:var r=Ms,o=tu;Ms=null,Ep(n,e,i),Ms=r,tu=o,Ms!==null&&(tu?(n=Ms,i=i.stateNode,n.nodeType===8?n.parentNode.removeChild(i):n.removeChild(i)):Ms.removeChild(i.stateNode));break;case 18:Ms!==null&&(tu?(n=Ms,i=i.stateNode,n.nodeType===8?pj(n.parentNode,i):n.nodeType===1&&pj(n,i),F2(n)):pj(Ms,i.stateNode));break;case 4:r=Ms,o=tu,Ms=i.stateNode.containerInfo,tu=!0,Ep(n,e,i),Ms=r,tu=o;break;case 0:case 11:case 14:case 15:if(!uo&&(r=i.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var l=o,c=l.destroy;l=l.tag,c!==void 0&&(l&2||l&4)&&iM(i,e,c),o=o.next}while(o!==r)}Ep(n,e,i);break;case 1:if(!uo&&(Zv(i,e),r=i.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=i.memoizedProps,r.state=i.memoizedState,r.componentWillUnmount()}catch(u){fr(i,e,u)}Ep(n,e,i);break;case 21:Ep(n,e,i);break;case 22:i.mode&1?(uo=(r=uo)||i.memoizedState!==null,Ep(n,e,i),uo=r):Ep(n,e,i);break;default:Ep(n,e,i)}}function EV(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var i=n.stateNode;i===null&&(i=n.stateNode=new hde),e.forEach(function(r){var o=_de.bind(null,n,r);i.has(r)||(i.add(r),r.then(o,o))})}}function Lc(n,e){var i=e.deletions;if(i!==null)for(var r=0;r<i.length;r++){var o=i[r];try{var l=n,c=e,u=c;e:for(;u!==null;){switch(u.tag){case 5:Ms=u.stateNode,tu=!1;break e;case 3:Ms=u.stateNode.containerInfo,tu=!0;break e;case 4:Ms=u.stateNode.containerInfo,tu=!0;break e}u=u.return}if(Ms===null)throw Error(pt(160));cY(l,c,o),Ms=null,tu=!1;var h=o.alternate;h!==null&&(h.return=null),o.return=null}catch(m){fr(o,e,m)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)uY(e,n),e=e.sibling}function uY(n,e){var i=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Lc(e,n),Zu(n),r&4){try{y2(3,n,n.return),a3(3,n)}catch(S){fr(n,n.return,S)}try{y2(5,n,n.return)}catch(S){fr(n,n.return,S)}}break;case 1:Lc(e,n),Zu(n),r&512&&i!==null&&Zv(i,i.return);break;case 5:if(Lc(e,n),Zu(n),r&512&&i!==null&&Zv(i,i.return),n.flags&32){var o=n.stateNode;try{j2(o,"")}catch(S){fr(n,n.return,S)}}if(r&4&&(o=n.stateNode,o!=null)){var l=n.memoizedProps,c=i!==null?i.memoizedProps:l,u=n.type,h=n.updateQueue;if(n.updateQueue=null,h!==null)try{u==="input"&&l.type==="radio"&&l.name!=null&&IG(o,l),NR(u,c);var m=NR(u,l);for(c=0;c<h.length;c+=2){var g=h[c],y=h[c+1];g==="style"?FG(o,y):g==="dangerouslySetInnerHTML"?MG(o,y):g==="children"?j2(o,y):j6(o,g,y,m)}switch(u){case"input":SR(o,l);break;case"textarea":jG(o,l);break;case"select":var v=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!l.multiple;var _=l.value;_!=null?uw(o,!!l.multiple,_,!1):v!==!!l.multiple&&(l.defaultValue!=null?uw(o,!!l.multiple,l.defaultValue,!0):uw(o,!!l.multiple,l.multiple?[]:"",!1))}o[V2]=l}catch(S){fr(n,n.return,S)}}break;case 6:if(Lc(e,n),Zu(n),r&4){if(n.stateNode===null)throw Error(pt(162));o=n.stateNode,l=n.memoizedProps;try{o.nodeValue=l}catch(S){fr(n,n.return,S)}}break;case 3:if(Lc(e,n),Zu(n),r&4&&i!==null&&i.memoizedState.isDehydrated)try{F2(e.containerInfo)}catch(S){fr(n,n.return,S)}break;case 4:Lc(e,n),Zu(n);break;case 13:Lc(e,n),Zu(n),o=n.child,o.flags&8192&&(l=o.memoizedState!==null,o.stateNode.isHidden=l,!l||o.alternate!==null&&o.alternate.memoizedState!==null||(hF=wr())),r&4&&EV(n);break;case 22:if(g=i!==null&&i.memoizedState!==null,n.mode&1?(uo=(m=uo)||g,Lc(e,n),uo=m):Lc(e,n),Zu(n),r&8192){if(m=n.memoizedState!==null,(n.stateNode.isHidden=m)&&!g&&n.mode&1)for(Rt=n,g=n.child;g!==null;){for(y=Rt=g;Rt!==null;){switch(v=Rt,_=v.child,v.tag){case 0:case 11:case 14:case 15:y2(4,v,v.return);break;case 1:Zv(v,v.return);var A=v.stateNode;if(typeof A.componentWillUnmount=="function"){r=v,i=v.return;try{e=r,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(S){fr(r,i,S)}}break;case 5:Zv(v,v.return);break;case 22:if(v.memoizedState!==null){AV(y);continue}}_!==null?(_.return=v,Rt=_):AV(y)}g=g.sibling}e:for(g=null,y=n;;){if(y.tag===5){if(g===null){g=y;try{o=y.stateNode,m?(l=o.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(u=y.stateNode,h=y.memoizedProps.style,c=h!=null&&h.hasOwnProperty("display")?h.display:null,u.style.display=OG("display",c))}catch(S){fr(n,n.return,S)}}}else if(y.tag===6){if(g===null)try{y.stateNode.nodeValue=m?"":y.memoizedProps}catch(S){fr(n,n.return,S)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===n)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;g===y&&(g=null),y=y.return}g===y&&(g=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:Lc(e,n),Zu(n),r&4&&EV(n);break;case 21:break;default:Lc(e,n),Zu(n)}}function Zu(n){var e=n.flags;if(e&2){try{e:{for(var i=n.return;i!==null;){if(lY(i)){var r=i;break e}i=i.return}throw Error(pt(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(j2(o,""),r.flags&=-33);var l=kV(n);oM(n,l,o);break;case 3:case 4:var c=r.stateNode.containerInfo,u=kV(n);sM(n,u,c);break;default:throw Error(pt(161))}}catch(h){fr(n,n.return,h)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function pde(n,e,i){Rt=n,dY(n)}function dY(n,e,i){for(var r=(n.mode&1)!==0;Rt!==null;){var o=Rt,l=o.child;if(o.tag===22&&r){var c=o.memoizedState!==null||ZC;if(!c){var u=o.alternate,h=u!==null&&u.memoizedState!==null||uo;u=ZC;var m=uo;if(ZC=c,(uo=h)&&!m)for(Rt=o;Rt!==null;)c=Rt,h=c.child,c.tag===22&&c.memoizedState!==null?TV(o):h!==null?(h.return=c,Rt=h):TV(o);for(;l!==null;)Rt=l,dY(l),l=l.sibling;Rt=o,ZC=u,uo=m}SV(n)}else o.subtreeFlags&8772&&l!==null?(l.return=o,Rt=l):SV(n)}}function SV(n){for(;Rt!==null;){var e=Rt;if(e.flags&8772){var i=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:uo||a3(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!uo)if(i===null)r.componentDidMount();else{var o=e.elementType===e.type?i.memoizedProps:Vc(e.type,i.memoizedProps);r.componentDidUpdate(o,i.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=e.updateQueue;l!==null&&cV(e,l,r);break;case 3:var c=e.updateQueue;if(c!==null){if(i=null,e.child!==null)switch(e.child.tag){case 5:i=e.child.stateNode;break;case 1:i=e.child.stateNode}cV(e,c,i)}break;case 5:var u=e.stateNode;if(i===null&&e.flags&4){i=u;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&i.focus();break;case"img":h.src&&(i.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var m=e.alternate;if(m!==null){var g=m.memoizedState;if(g!==null){var y=g.dehydrated;y!==null&&F2(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pt(163))}uo||e.flags&512&&rM(e)}catch(v){fr(e,e.return,v)}}if(e===n){Rt=null;break}if(i=e.sibling,i!==null){i.return=e.return,Rt=i;break}Rt=e.return}}function AV(n){for(;Rt!==null;){var e=Rt;if(e===n){Rt=null;break}var i=e.sibling;if(i!==null){i.return=e.return,Rt=i;break}Rt=e.return}}function TV(n){for(;Rt!==null;){var e=Rt;try{switch(e.tag){case 0:case 11:case 15:var i=e.return;try{a3(4,e)}catch(h){fr(e,i,h)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(h){fr(e,o,h)}}var l=e.return;try{rM(e)}catch(h){fr(e,l,h)}break;case 5:var c=e.return;try{rM(e)}catch(h){fr(e,c,h)}}}catch(h){fr(e,e.return,h)}if(e===n){Rt=null;break}var u=e.sibling;if(u!==null){u.return=e.return,Rt=u;break}Rt=e.return}}var mde=Math.ceil,GN=Tf.ReactCurrentDispatcher,uF=Tf.ReactCurrentOwner,uc=Tf.ReactCurrentBatchConfig,Ln=0,gs=null,jr=null,Bs=0,cl=0,Jv=Ym(0),Yr=0,X2=null,j0=0,l3=0,dF=0,v2=null,ba=null,hF=0,M1=1/0,Ah=null,XN=!1,aM=null,Pm=null,JC=!1,km=null,YN=0,w2=0,lM=null,LD=-1,UD=0;function Ho(){return Ln&6?wr():LD!==-1?LD:LD=wr()}function Im(n){return n.mode&1?Ln&2&&Bs!==0?Bs&-Bs:Jue.transition!==null?(UD===0&&(UD=YG()),UD):(n=li,n!==0||(n=window.event,n=n===void 0?16:nX(n.type)),n):1}function ou(n,e,i,r){if(50<w2)throw w2=0,lM=null,Error(pt(185));HS(n,i,r),(!(Ln&2)||n!==gs)&&(n===gs&&(!(Ln&2)&&(l3|=i),Yr===4&&Op(n,Bs)),Ea(n,r),i===1&&Ln===0&&!(e.mode&1)&&(M1=wr()+500,r3&&Km()))}function Ea(n,e){var i=n.callbackNode;Jce(n,e);var r=IN(n,n===gs?Bs:0);if(r===0)i!==null&&Oz(i),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(i!=null&&Oz(i),e===1)n.tag===0?Zue(CV.bind(null,n)):xX(CV.bind(null,n)),Gue(function(){!(Ln&6)&&Km()}),i=null;else{switch(KG(r)){case 1:i=L6;break;case 4:i=GG;break;case 16:i=PN;break;case 536870912:i=XG;break;default:i=PN}i=vY(i,hY.bind(null,n))}n.callbackPriority=e,n.callbackNode=i}}function hY(n,e){if(LD=-1,UD=0,Ln&6)throw Error(pt(327));var i=n.callbackNode;if(mw()&&n.callbackNode!==i)return null;var r=IN(n,n===gs?Bs:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=KN(n,r);else{e=r;var o=Ln;Ln|=2;var l=pY();(gs!==n||Bs!==e)&&(Ah=null,M1=wr()+500,k0(n,e));do try{yde();break}catch(u){fY(n,u)}while(!0);Z6(),GN.current=l,Ln=o,jr!==null?e=0:(gs=null,Bs=0,e=Yr)}if(e!==0){if(e===2&&(o=MR(n),o!==0&&(r=o,e=cM(n,o))),e===1)throw i=X2,k0(n,0),Op(n,r),Ea(n,wr()),i;if(e===6)Op(n,r);else{if(o=n.current.alternate,!(r&30)&&!gde(o)&&(e=KN(n,r),e===2&&(l=MR(n),l!==0&&(r=l,e=cM(n,l))),e===1))throw i=X2,k0(n,0),Op(n,r),Ea(n,wr()),i;switch(n.finishedWork=o,n.finishedLanes=r,e){case 0:case 1:throw Error(pt(345));case 2:rb(n,ba,Ah);break;case 3:if(Op(n,r),(r&130023424)===r&&(e=hF+500-wr(),10<e)){if(IN(n,0)!==0)break;if(o=n.suspendedLanes,(o&r)!==r){Ho(),n.pingedLanes|=n.suspendedLanes&o;break}n.timeoutHandle=WR(rb.bind(null,n,ba,Ah),e);break}rb(n,ba,Ah);break;case 4:if(Op(n,r),(r&4194240)===r)break;for(e=n.eventTimes,o=-1;0<r;){var c=31-su(r);l=1<<c,c=e[c],c>o&&(o=c),r&=~l}if(r=o,r=wr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*mde(r/1960))-r,10<r){n.timeoutHandle=WR(rb.bind(null,n,ba,Ah),r);break}rb(n,ba,Ah);break;case 5:rb(n,ba,Ah);break;default:throw Error(pt(329))}}}return Ea(n,wr()),n.callbackNode===i?hY.bind(null,n):null}function cM(n,e){var i=v2;return n.current.memoizedState.isDehydrated&&(k0(n,e).flags|=256),n=KN(n,e),n!==2&&(e=ba,ba=i,e!==null&&uM(e)),n}function uM(n){ba===null?ba=n:ba.push.apply(ba,n)}function gde(n){for(var e=n;;){if(e.flags&16384){var i=e.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var r=0;r<i.length;r++){var o=i[r],l=o.getSnapshot;o=o.value;try{if(!lu(l(),o))return!1}catch{return!1}}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Op(n,e){for(e&=~dF,e&=~l3,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var i=31-su(e),r=1<<i;n[i]=-1,e&=~r}}function CV(n){if(Ln&6)throw Error(pt(327));mw();var e=IN(n,0);if(!(e&1))return Ea(n,wr()),null;var i=KN(n,e);if(n.tag!==0&&i===2){var r=MR(n);r!==0&&(e=r,i=cM(n,r))}if(i===1)throw i=X2,k0(n,0),Op(n,e),Ea(n,wr()),i;if(i===6)throw Error(pt(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,rb(n,ba,Ah),Ea(n,wr()),null}function fF(n,e){var i=Ln;Ln|=1;try{return n(e)}finally{Ln=i,Ln===0&&(M1=wr()+500,r3&&Km())}}function R0(n){km!==null&&km.tag===0&&!(Ln&6)&&mw();var e=Ln;Ln|=1;var i=uc.transition,r=li;try{if(uc.transition=null,li=1,n)return n()}finally{li=r,uc.transition=i,Ln=e,!(Ln&6)&&Km()}}function pF(){cl=Jv.current,Oi(Jv)}function k0(n,e){n.finishedWork=null,n.finishedLanes=0;var i=n.timeoutHandle;if(i!==-1&&(n.timeoutHandle=-1,Hue(i)),jr!==null)for(i=jr.return;i!==null;){var r=i;switch(X6(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&FN();break;case 3:j1(),Oi(_a),Oi(po),iF();break;case 5:nF(r);break;case 4:j1();break;case 13:Oi(Qi);break;case 19:Oi(Qi);break;case 10:J6(r.type._context);break;case 22:case 23:pF()}i=i.return}if(gs=n,jr=n=jm(n.current,null),Bs=cl=e,Yr=0,X2=null,dF=l3=j0=0,ba=v2=null,pb!==null){for(e=0;e<pb.length;e++)if(i=pb[e],r=i.interleaved,r!==null){i.interleaved=null;var o=r.next,l=i.pending;if(l!==null){var c=l.next;l.next=o,r.next=c}i.pending=r}pb=null}return n}function fY(n,e){do{var i=jr;try{if(Z6(),MD.current=HN,qN){for(var r=tr.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}qN=!1}if(I0=0,ps=Xr=tr=null,b2=!1,q2=0,uF.current=null,i===null||i.return===null){Yr=1,X2=e,jr=null;break}e:{var l=n,c=i.return,u=i,h=e;if(e=Bs,u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var m=h,g=u,y=g.tag;if(!(g.mode&1)&&(y===0||y===11||y===15)){var v=g.alternate;v?(g.updateQueue=v.updateQueue,g.memoizedState=v.memoizedState,g.lanes=v.lanes):(g.updateQueue=null,g.memoizedState=null)}var _=mV(c);if(_!==null){_.flags&=-257,gV(_,c,u,l,e),_.mode&1&&pV(l,m,e),e=_,h=m;var A=e.updateQueue;if(A===null){var S=new Set;S.add(h),e.updateQueue=S}else A.add(h);break e}else{if(!(e&1)){pV(l,m,e),mF();break e}h=Error(pt(426))}}else if(Wi&&u.mode&1){var T=mV(c);if(T!==null){!(T.flags&65536)&&(T.flags|=256),gV(T,c,u,l,e),Y6(R1(h,u));break e}}l=h=R1(h,u),Yr!==4&&(Yr=2),v2===null?v2=[l]:v2.push(l),l=c;do{switch(l.tag){case 3:l.flags|=65536,e&=-e,l.lanes|=e;var C=KX(l,h,e);lV(l,C);break e;case 1:u=h;var N=l.type,I=l.stateNode;if(!(l.flags&128)&&(typeof N.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Pm===null||!Pm.has(I)))){l.flags|=65536,e&=-e,l.lanes|=e;var O=ZX(l,u,e);lV(l,O);break e}}l=l.return}while(l!==null)}gY(i)}catch(F){e=F,jr===i&&i!==null&&(jr=i=i.return);continue}break}while(!0)}function pY(){var n=GN.current;return GN.current=HN,n===null?HN:n}function mF(){(Yr===0||Yr===3||Yr===2)&&(Yr=4),gs===null||!(j0&268435455)&&!(l3&268435455)||Op(gs,Bs)}function KN(n,e){var i=Ln;Ln|=2;var r=pY();(gs!==n||Bs!==e)&&(Ah=null,k0(n,e));do try{bde();break}catch(o){fY(n,o)}while(!0);if(Z6(),Ln=i,GN.current=r,jr!==null)throw Error(pt(261));return gs=null,Bs=0,Yr}function bde(){for(;jr!==null;)mY(jr)}function yde(){for(;jr!==null&&!Wce();)mY(jr)}function mY(n){var e=yY(n.alternate,n,cl);n.memoizedProps=n.pendingProps,e===null?gY(n):jr=e,uF.current=null}function gY(n){var e=n;do{var i=e.alternate;if(n=e.return,e.flags&32768){if(i=dde(i,e),i!==null){i.flags&=32767,jr=i;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Yr=6,jr=null;return}}else if(i=ude(i,e,cl),i!==null){jr=i;return}if(e=e.sibling,e!==null){jr=e;return}jr=e=n}while(e!==null);Yr===0&&(Yr=5)}function rb(n,e,i){var r=li,o=uc.transition;try{uc.transition=null,li=1,vde(n,e,i,r)}finally{uc.transition=o,li=r}return null}function vde(n,e,i,r){do mw();while(km!==null);if(Ln&6)throw Error(pt(327));i=n.finishedWork;var o=n.finishedLanes;if(i===null)return null;if(n.finishedWork=null,n.finishedLanes=0,i===n.current)throw Error(pt(177));n.callbackNode=null,n.callbackPriority=0;var l=i.lanes|i.childLanes;if(Qce(n,l),n===gs&&(jr=gs=null,Bs=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||JC||(JC=!0,vY(PN,function(){return mw(),null})),l=(i.flags&15990)!==0,i.subtreeFlags&15990||l){l=uc.transition,uc.transition=null;var c=li;li=1;var u=Ln;Ln|=4,uF.current=null,fde(n,i),uY(i,n),Uue(zR),jN=!!BR,zR=BR=null,n.current=i,pde(i),$ce(),Ln=u,li=c,uc.transition=l}else n.current=i;if(JC&&(JC=!1,km=n,YN=o),l=n.pendingLanes,l===0&&(Pm=null),Gce(i.stateNode),Ea(n,wr()),e!==null)for(r=n.onRecoverableError,i=0;i<e.length;i++)o=e[i],r(o.value,{componentStack:o.stack,digest:o.digest});if(XN)throw XN=!1,n=aM,aM=null,n;return YN&1&&n.tag!==0&&mw(),l=n.pendingLanes,l&1?n===lM?w2++:(w2=0,lM=n):w2=0,Km(),null}function mw(){if(km!==null){var n=KG(YN),e=uc.transition,i=li;try{if(uc.transition=null,li=16>n?16:n,km===null)var r=!1;else{if(n=km,km=null,YN=0,Ln&6)throw Error(pt(331));var o=Ln;for(Ln|=4,Rt=n.current;Rt!==null;){var l=Rt,c=l.child;if(Rt.flags&16){var u=l.deletions;if(u!==null){for(var h=0;h<u.length;h++){var m=u[h];for(Rt=m;Rt!==null;){var g=Rt;switch(g.tag){case 0:case 11:case 15:y2(8,g,l)}var y=g.child;if(y!==null)y.return=g,Rt=y;else for(;Rt!==null;){g=Rt;var v=g.sibling,_=g.return;if(aY(g),g===m){Rt=null;break}if(v!==null){v.return=_,Rt=v;break}Rt=_}}}var A=l.alternate;if(A!==null){var S=A.child;if(S!==null){A.child=null;do{var T=S.sibling;S.sibling=null,S=T}while(S!==null)}}Rt=l}}if(l.subtreeFlags&2064&&c!==null)c.return=l,Rt=c;else e:for(;Rt!==null;){if(l=Rt,l.flags&2048)switch(l.tag){case 0:case 11:case 15:y2(9,l,l.return)}var C=l.sibling;if(C!==null){C.return=l.return,Rt=C;break e}Rt=l.return}}var N=n.current;for(Rt=N;Rt!==null;){c=Rt;var I=c.child;if(c.subtreeFlags&2064&&I!==null)I.return=c,Rt=I;else e:for(c=N;Rt!==null;){if(u=Rt,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:a3(9,u)}}catch(F){fr(u,u.return,F)}if(u===c){Rt=null;break e}var O=u.sibling;if(O!==null){O.return=u.return,Rt=O;break e}Rt=u.return}}if(Ln=o,Km(),kd&&typeof kd.onPostCommitFiberRoot=="function")try{kd.onPostCommitFiberRoot(Q5,n)}catch{}r=!0}return r}finally{li=i,uc.transition=e}}return!1}function DV(n,e,i){e=R1(i,e),e=KX(n,e,1),n=Nm(n,e,1),e=Ho(),n!==null&&(HS(n,1,e),Ea(n,e))}function fr(n,e,i){if(n.tag===3)DV(n,n,i);else for(;e!==null;){if(e.tag===3){DV(e,n,i);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pm===null||!Pm.has(r))){n=R1(i,n),n=ZX(e,n,1),e=Nm(e,n,1),n=Ho(),e!==null&&(HS(e,1,n),Ea(e,n));break}}e=e.return}}function wde(n,e,i){var r=n.pingCache;r!==null&&r.delete(e),e=Ho(),n.pingedLanes|=n.suspendedLanes&i,gs===n&&(Bs&i)===i&&(Yr===4||Yr===3&&(Bs&130023424)===Bs&&500>wr()-hF?k0(n,0):dF|=i),Ea(n,e)}function bY(n,e){e===0&&(n.mode&1?(e=VC,VC<<=1,!(VC&130023424)&&(VC=4194304)):e=1);var i=Ho();n=gf(n,e),n!==null&&(HS(n,e,i),Ea(n,i))}function xde(n){var e=n.memoizedState,i=0;e!==null&&(i=e.retryLane),bY(n,i)}function _de(n,e){var i=0;switch(n.tag){case 13:var r=n.stateNode,o=n.memoizedState;o!==null&&(i=o.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(pt(314))}r!==null&&r.delete(e),bY(n,i)}var yY;yY=function(n,e,i){if(n!==null)if(n.memoizedProps!==e.pendingProps||_a.current)wa=!0;else{if(!(n.lanes&i)&&!(e.flags&128))return wa=!1,cde(n,e,i);wa=!!(n.flags&131072)}else wa=!1,Wi&&e.flags&1048576&&_X(e,BN,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;FD(n,e),n=e.pendingProps;var o=N1(e,po.current);pw(e,i),o=sF(null,e,r,n,o,i);var l=oF();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ka(r)?(l=!0,LN(e)):l=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,eF(e),o.updater=o3,e.stateNode=o,o._reactInternals=e,KR(e,r,n,i),e=QR(null,e,r,!0,l,i)):(e.tag=0,Wi&&l&&G6(e),$o(null,e,o,i),e=e.child),e;case 16:r=e.elementType;e:{switch(FD(n,e),n=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=Ede(r),n=Vc(r,n),o){case 0:e=JR(null,e,r,n,i);break e;case 1:e=vV(null,e,r,n,i);break e;case 11:e=bV(null,e,r,n,i);break e;case 14:e=yV(null,e,r,Vc(r.type,n),i);break e}throw Error(pt(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Vc(r,o),JR(n,e,r,o,i);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Vc(r,o),vV(n,e,r,o,i);case 3:e:{if(tY(e),n===null)throw Error(pt(387));r=e.pendingProps,l=e.memoizedState,o=l.element,CX(n,e),WN(e,r,null,i);var c=e.memoizedState;if(r=c.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},e.updateQueue.baseState=l,e.memoizedState=l,e.flags&256){o=R1(Error(pt(423)),e),e=wV(n,e,r,i,o);break e}else if(r!==o){o=R1(Error(pt(424)),e),e=wV(n,e,r,i,o);break e}else for(hl=Dm(e.stateNode.containerInfo.firstChild),fl=e,Wi=!0,iu=null,i=AX(e,null,r,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(P1(),r===o){e=bf(n,e,i);break e}$o(n,e,r,i)}e=e.child}return e;case 5:return DX(e),n===null&&GR(e),r=e.type,o=e.pendingProps,l=n!==null?n.memoizedProps:null,c=o.children,VR(r,o)?c=null:l!==null&&VR(r,l)&&(e.flags|=32),eY(n,e),$o(n,e,c,i),e.child;case 6:return n===null&&GR(e),null;case 13:return nY(n,e,i);case 4:return tF(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=I1(e,null,r,i):$o(n,e,r,i),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Vc(r,o),bV(n,e,r,o,i);case 7:return $o(n,e,e.pendingProps,i),e.child;case 8:return $o(n,e,e.pendingProps.children,i),e.child;case 12:return $o(n,e,e.pendingProps.children,i),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,l=e.memoizedProps,c=o.value,Ci(zN,r._currentValue),r._currentValue=c,l!==null)if(lu(l.value,c)){if(l.children===o.children&&!_a.current){e=bf(n,e,i);break e}}else for(l=e.child,l!==null&&(l.return=e);l!==null;){var u=l.dependencies;if(u!==null){c=l.child;for(var h=u.firstContext;h!==null;){if(h.context===r){if(l.tag===1){h=uf(-1,i&-i),h.tag=2;var m=l.updateQueue;if(m!==null){m=m.shared;var g=m.pending;g===null?h.next=h:(h.next=g.next,g.next=h),m.pending=h}}l.lanes|=i,h=l.alternate,h!==null&&(h.lanes|=i),XR(l.return,i,e),u.lanes|=i;break}h=h.next}}else if(l.tag===10)c=l.type===e.type?null:l.child;else if(l.tag===18){if(c=l.return,c===null)throw Error(pt(341));c.lanes|=i,u=c.alternate,u!==null&&(u.lanes|=i),XR(c,i,e),c=l.sibling}else c=l.child;if(c!==null)c.return=l;else for(c=l;c!==null;){if(c===e){c=null;break}if(l=c.sibling,l!==null){l.return=c.return,c=l;break}c=c.return}l=c}$o(n,e,o.children,i),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,pw(e,i),o=pc(o),r=r(o),e.flags|=1,$o(n,e,r,i),e.child;case 14:return r=e.type,o=Vc(r,e.pendingProps),o=Vc(r.type,o),yV(n,e,r,o,i);case 15:return JX(n,e,e.type,e.pendingProps,i);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Vc(r,o),FD(n,e),e.tag=1,ka(r)?(n=!0,LN(e)):n=!1,pw(e,i),YX(e,r,o),KR(e,r,o,i),QR(null,e,r,!0,n,i);case 19:return iY(n,e,i);case 22:return QX(n,e,i)}throw Error(pt(156,e.tag))};function vY(n,e){return HG(n,e)}function kde(n,e,i,r){this.tag=n,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cc(n,e,i,r){return new kde(n,e,i,r)}function gF(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ede(n){if(typeof n=="function")return gF(n)?1:0;if(n!=null){if(n=n.$$typeof,n===M6)return 11;if(n===O6)return 14}return 2}function jm(n,e){var i=n.alternate;return i===null?(i=cc(n.tag,e,n.key,n.mode),i.elementType=n.elementType,i.type=n.type,i.stateNode=n.stateNode,i.alternate=n,n.alternate=i):(i.pendingProps=e,i.type=n.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=n.flags&14680064,i.childLanes=n.childLanes,i.lanes=n.lanes,i.child=n.child,i.memoizedProps=n.memoizedProps,i.memoizedState=n.memoizedState,i.updateQueue=n.updateQueue,e=n.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=n.sibling,i.index=n.index,i.ref=n.ref,i}function BD(n,e,i,r,o,l){var c=2;if(r=n,typeof n=="function")gF(n)&&(c=1);else if(typeof n=="string")c=5;else e:switch(n){case Vv:return E0(i.children,o,l,e);case R6:c=8,o|=8;break;case wR:return n=cc(12,i,e,o|2),n.elementType=wR,n.lanes=l,n;case xR:return n=cc(13,i,e,o),n.elementType=xR,n.lanes=l,n;case _R:return n=cc(19,i,e,o),n.elementType=_R,n.lanes=l,n;case DG:return c3(i,o,l,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case TG:c=10;break e;case CG:c=9;break e;case M6:c=11;break e;case O6:c=14;break e;case Pp:c=16,r=null;break e}throw Error(pt(130,n==null?n:typeof n,""))}return e=cc(c,i,e,o),e.elementType=n,e.type=r,e.lanes=l,e}function E0(n,e,i,r){return n=cc(7,n,r,e),n.lanes=i,n}function c3(n,e,i,r){return n=cc(22,n,r,e),n.elementType=DG,n.lanes=i,n.stateNode={isHidden:!1},n}function _j(n,e,i){return n=cc(6,n,null,e),n.lanes=i,n}function kj(n,e,i){return e=cc(4,n.children!==null?n.children:[],n.key,e),e.lanes=i,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Sde(n,e,i,r,o){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ij(0),this.expirationTimes=ij(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ij(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function bF(n,e,i,r,o,l,c,u,h){return n=new Sde(n,e,i,u,h),e===1?(e=1,l===!0&&(e|=8)):e=0,l=cc(3,null,null,e),n.current=l,l.stateNode=n,l.memoizedState={element:r,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},eF(l),n}function Ade(n,e,i){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zv,key:r==null?null:""+r,children:n,containerInfo:e,implementation:i}}function wY(n){if(!n)return Fm;n=n._reactInternals;e:{if(H0(n)!==n||n.tag!==1)throw Error(pt(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ka(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(pt(171))}if(n.tag===1){var i=n.type;if(ka(i))return wX(n,i,e)}return e}function xY(n,e,i,r,o,l,c,u,h){return n=bF(i,r,!0,n,o,l,c,u,h),n.context=wY(null),i=n.current,r=Ho(),o=Im(i),l=uf(r,o),l.callback=e??null,Nm(i,l,o),n.current.lanes=o,HS(n,o,r),Ea(n,r),n}function u3(n,e,i,r){var o=e.current,l=Ho(),c=Im(o);return i=wY(i),e.context===null?e.context=i:e.pendingContext=i,e=uf(l,c),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Nm(o,e,c),n!==null&&(ou(n,o,c,l),RD(n,o,c)),c}function ZN(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function NV(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var i=n.retryLane;n.retryLane=i!==0&&i<e?i:e}}function yF(n,e){NV(n,e),(n=n.alternate)&&NV(n,e)}function Tde(){return null}var _Y=typeof reportError=="function"?reportError:function(n){console.error(n)};function vF(n){this._internalRoot=n}d3.prototype.render=vF.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(pt(409));u3(n,e,null,null)};d3.prototype.unmount=vF.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;R0(function(){u3(null,n,null,null)}),e[mf]=null}};function d3(n){this._internalRoot=n}d3.prototype.unstable_scheduleHydration=function(n){if(n){var e=QG();n={blockedOn:null,target:n,priority:e};for(var i=0;i<Mp.length&&e!==0&&e<Mp[i].priority;i++);Mp.splice(i,0,n),i===0&&tX(n)}};function wF(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function h3(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function PV(){}function Cde(n,e,i,r,o){if(o){if(typeof r=="function"){var l=r;r=function(){var m=ZN(c);l.call(m)}}var c=xY(e,r,n,0,null,!1,!1,"",PV);return n._reactRootContainer=c,n[mf]=c.current,B2(n.nodeType===8?n.parentNode:n),R0(),c}for(;o=n.lastChild;)n.removeChild(o);if(typeof r=="function"){var u=r;r=function(){var m=ZN(h);u.call(m)}}var h=bF(n,0,!1,null,null,!1,!1,"",PV);return n._reactRootContainer=h,n[mf]=h.current,B2(n.nodeType===8?n.parentNode:n),R0(function(){u3(e,h,i,r)}),h}function f3(n,e,i,r,o){var l=i._reactRootContainer;if(l){var c=l;if(typeof o=="function"){var u=o;o=function(){var h=ZN(c);u.call(h)}}u3(e,c,n,o)}else c=Cde(i,e,n,o,r);return ZN(c)}ZG=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var i=$k(e.pendingLanes);i!==0&&(U6(e,i|1),Ea(e,wr()),!(Ln&6)&&(M1=wr()+500,Km()))}break;case 13:R0(function(){var r=gf(n,1);if(r!==null){var o=Ho();ou(r,n,1,o)}}),yF(n,1)}};B6=function(n){if(n.tag===13){var e=gf(n,134217728);if(e!==null){var i=Ho();ou(e,n,134217728,i)}yF(n,134217728)}};JG=function(n){if(n.tag===13){var e=Im(n),i=gf(n,e);if(i!==null){var r=Ho();ou(i,n,e,r)}yF(n,e)}};QG=function(){return li};eX=function(n,e){var i=li;try{return li=n,e()}finally{li=i}};IR=function(n,e,i){switch(e){case"input":if(SR(n,i),e=i.name,i.type==="radio"&&e!=null){for(i=n;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var r=i[e];if(r!==n&&r.form===n.form){var o=i3(r);if(!o)throw Error(pt(90));PG(r),SR(r,o)}}}break;case"textarea":jG(n,i);break;case"select":e=i.value,e!=null&&uw(n,!!i.multiple,e,!1)}};BG=fF;zG=R0;var Dde={usingClientEntryPoint:!1,Events:[XS,Hv,i3,LG,UG,fF]},_k={findFiberByHostInstance:fb,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nde={bundleType:_k.bundleType,version:_k.version,rendererPackageName:_k.rendererPackageName,rendererConfig:_k.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tf.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=$G(n),n===null?null:n.stateNode},findFiberByHostInstance:_k.findFiberByHostInstance||Tde,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var QC=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!QC.isDisabled&&QC.supportsFiber)try{Q5=QC.inject(Nde),kd=QC}catch{}}bl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dde;bl.createPortal=function(n,e){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wF(e))throw Error(pt(200));return Ade(n,e,null,i)};bl.createRoot=function(n,e){if(!wF(n))throw Error(pt(299));var i=!1,r="",o=_Y;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=bF(n,1,!1,null,null,i,!1,r,o),n[mf]=e.current,B2(n.nodeType===8?n.parentNode:n),new vF(e)};bl.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(pt(188)):(n=Object.keys(n).join(","),Error(pt(268,n)));return n=$G(e),n=n===null?null:n.stateNode,n};bl.flushSync=function(n){return R0(n)};bl.hydrate=function(n,e,i){if(!h3(e))throw Error(pt(200));return f3(null,n,e,!0,i)};bl.hydrateRoot=function(n,e,i){if(!wF(n))throw Error(pt(405));var r=i!=null&&i.hydratedSources||null,o=!1,l="",c=_Y;if(i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onRecoverableError!==void 0&&(c=i.onRecoverableError)),e=xY(e,null,n,1,i??null,o,!1,l,c),n[mf]=e.current,B2(n),r)for(n=0;n<r.length;n++)i=r[n],o=i._getVersion,o=o(i._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[i,o]:e.mutableSourceEagerHydrationData.push(i,o);return new d3(e)};bl.render=function(n,e,i){if(!h3(e))throw Error(pt(200));return f3(null,n,e,!1,i)};bl.unmountComponentAtNode=function(n){if(!h3(n))throw Error(pt(40));return n._reactRootContainer?(R0(function(){f3(null,null,n,!1,function(){n._reactRootContainer=null,n[mf]=null})}),!0):!1};bl.unstable_batchedUpdates=fF;bl.unstable_renderSubtreeIntoContainer=function(n,e,i,r){if(!h3(i))throw Error(pt(200));if(n==null||n._reactInternals===void 0)throw Error(pt(38));return f3(n,e,i,!1,r)};bl.version="18.3.1-next-f1338f8080-20240426";function kY(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kY)}catch(n){console.error(n)}}kY(),kG.exports=bl;var Pde=kG.exports,EY,IV=Pde;EY=IV.createRoot,IV.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Y2(){return Y2=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},Y2.apply(this,arguments)}var Em;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Em||(Em={}));const jV="popstate";function Ide(n){n===void 0&&(n={});function e(o,l){let{pathname:c="/",search:u="",hash:h=""}=G0(o.location.hash.substr(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),dM("",{pathname:c,search:u,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function i(o,l){let c=o.document.querySelector("base"),u="";if(c&&c.getAttribute("href")){let h=o.location.href,m=h.indexOf("#");u=m===-1?h:h.slice(0,m)}return u+"#"+(typeof l=="string"?l:JN(l))}function r(o,l){xF(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(l)+")")}return Rde(e,i,r,n)}function nr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function xF(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jde(){return Math.random().toString(36).substr(2,8)}function RV(n,e){return{usr:n.state,key:n.key,idx:e}}function dM(n,e,i,r){return i===void 0&&(i=null),Y2({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?G0(e):e,{state:i,key:e&&e.key||r||jde()})}function JN(n){let{pathname:e="/",search:i="",hash:r=""}=n;return i&&i!=="?"&&(e+=i.charAt(0)==="?"?i:"?"+i),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function G0(n){let e={};if(n){let i=n.indexOf("#");i>=0&&(e.hash=n.substr(i),n=n.substr(0,i));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function Rde(n,e,i,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:l=!1}=r,c=o.history,u=Em.Pop,h=null,m=g();m==null&&(m=0,c.replaceState(Y2({},c.state,{idx:m}),""));function g(){return(c.state||{idx:null}).idx}function y(){u=Em.Pop;let T=g(),C=T==null?null:T-m;m=T,h&&h({action:u,location:S.location,delta:C})}function v(T,C){u=Em.Push;let N=dM(S.location,T,C);i&&i(N,T),m=g()+1;let I=RV(N,m),O=S.createHref(N);try{c.pushState(I,"",O)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;o.location.assign(O)}l&&h&&h({action:u,location:S.location,delta:1})}function _(T,C){u=Em.Replace;let N=dM(S.location,T,C);i&&i(N,T),m=g();let I=RV(N,m),O=S.createHref(N);c.replaceState(I,"",O),l&&h&&h({action:u,location:S.location,delta:0})}function A(T){let C=o.location.origin!=="null"?o.location.origin:o.location.href,N=typeof T=="string"?T:JN(T);return N=N.replace(/ $/,"%20"),nr(C,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,C)}let S={get action(){return u},get location(){return n(o,c)},listen(T){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(jV,y),h=T,()=>{o.removeEventListener(jV,y),h=null}},createHref(T){return e(o,T)},createURL:A,encodeLocation(T){let C=A(T);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:_,go(T){return c.go(T)}};return S}var MV;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(MV||(MV={}));function Mde(n,e,i){return i===void 0&&(i="/"),Ode(n,e,i)}function Ode(n,e,i,r){let o=typeof e=="string"?G0(e):e,l=O1(o.pathname||"/",i);if(l==null)return null;let c=SY(n);Fde(c);let u=null;for(let h=0;u==null&&h<c.length;++h){let m=Xde(l);u=Hde(c[h],m)}return u}function SY(n,e,i,r){e===void 0&&(e=[]),i===void 0&&(i=[]),r===void 0&&(r="");let o=(l,c,u)=>{let h={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};h.relativePath.startsWith("/")&&(nr(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let m=Rm([r,h.relativePath]),g=i.concat(h);l.children&&l.children.length>0&&(nr(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),SY(l.children,e,g,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:$de(m,l.index),routesMeta:g})};return n.forEach((l,c)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))o(l,c);else for(let h of AY(l.path))o(l,c,h)}),e}function AY(n){let e=n.split("/");if(e.length===0)return[];let[i,...r]=e,o=i.endsWith("?"),l=i.replace(/\?$/,"");if(r.length===0)return o?[l,""]:[l];let c=AY(r.join("/")),u=[];return u.push(...c.map(h=>h===""?l:[l,h].join("/"))),o&&u.push(...c),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function Fde(n){n.sort((e,i)=>e.score!==i.score?i.score-e.score:qde(e.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}const Lde=/^:[\w-]+$/,Ude=3,Bde=2,zde=1,Vde=10,Wde=-2,OV=n=>n==="*";function $de(n,e){let i=n.split("/"),r=i.length;return i.some(OV)&&(r+=Wde),e&&(r+=Bde),i.filter(o=>!OV(o)).reduce((o,l)=>o+(Lde.test(l)?Ude:l===""?zde:Vde),r)}function qde(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function Hde(n,e,i){let{routesMeta:r}=n,o={},l="/",c=[];for(let u=0;u<r.length;++u){let h=r[u],m=u===r.length-1,g=l==="/"?e:e.slice(l.length)||"/",y=hM({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},g),v=h.route;if(!y)return null;Object.assign(o,y.params),c.push({params:o,pathname:Rm([l,y.pathname]),pathnameBase:Jde(Rm([l,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(l=Rm([l,y.pathnameBase]))}return c}function hM(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,r]=Gde(n.path,n.caseSensitive,n.end),o=e.match(i);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:r.reduce((m,g,y)=>{let{paramName:v,isOptional:_}=g;if(v==="*"){let S=u[y]||"";c=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const A=u[y];return _&&!A?m[v]=void 0:m[v]=(A||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:n}}function Gde(n,e,i){e===void 0&&(e=!1),i===void 0&&(i=!0),xF(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function Xde(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xF(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function O1(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,r=n.charAt(i);return r&&r!=="/"?null:n.slice(i)||"/"}function Yde(n,e){e===void 0&&(e="/");let{pathname:i,search:r="",hash:o=""}=typeof n=="string"?G0(n):n;return{pathname:i?i.startsWith("/")?i:Kde(i,e):e,search:Qde(r),hash:ehe(o)}}function Kde(n,e){let i=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Ej(n,e,i,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Zde(n){return n.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function _F(n,e){let i=Zde(n);return e?i.map((r,o)=>o===i.length-1?r.pathname:r.pathnameBase):i.map(r=>r.pathnameBase)}function kF(n,e,i,r){r===void 0&&(r=!1);let o;typeof n=="string"?o=G0(n):(o=Y2({},n),nr(!o.pathname||!o.pathname.includes("?"),Ej("?","pathname","search",o)),nr(!o.pathname||!o.pathname.includes("#"),Ej("#","pathname","hash",o)),nr(!o.search||!o.search.includes("#"),Ej("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,u;if(c==null)u=i;else{let y=e.length-1;if(!r&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),y-=1;o.pathname=v.join("/")}u=y>=0?e[y]:"/"}let h=Yde(o,u),m=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&i.endsWith("/");return!h.pathname.endsWith("/")&&(m||g)&&(h.pathname+="/"),h}const Rm=n=>n.join("/").replace(/\/\/+/g,"/"),Jde=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Qde=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ehe=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function the(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const TY=["post","put","patch","delete"];new Set(TY);const nhe=["get",...TY];new Set(nhe);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function K2(){return K2=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},K2.apply(this,arguments)}const p3=G.createContext(null),CY=G.createContext(null),Cf=G.createContext(null),m3=G.createContext(null),Id=G.createContext({outlet:null,matches:[],isDataRoute:!1}),DY=G.createContext(null);function ihe(n,e){let{relative:i}=e===void 0?{}:e;ex()||nr(!1);let{basename:r,navigator:o}=G.useContext(Cf),{hash:l,pathname:c,search:u}=g3(n,{relative:i}),h=c;return r!=="/"&&(h=c==="/"?r:Rm([r,c])),o.createHref({pathname:h,search:u,hash:l})}function ex(){return G.useContext(m3)!=null}function jd(){return ex()||nr(!1),G.useContext(m3).location}function NY(n){G.useContext(Cf).static||G.useLayoutEffect(n)}function ys(){let{isDataRoute:n}=G.useContext(Id);return n?yhe():rhe()}function rhe(){ex()||nr(!1);let n=G.useContext(p3),{basename:e,future:i,navigator:r}=G.useContext(Cf),{matches:o}=G.useContext(Id),{pathname:l}=jd(),c=JSON.stringify(_F(o,i.v7_relativeSplatPath)),u=G.useRef(!1);return NY(()=>{u.current=!0}),G.useCallback(function(m,g){if(g===void 0&&(g={}),!u.current)return;if(typeof m=="number"){r.go(m);return}let y=kF(m,JSON.parse(c),l,g.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Rm([e,y.pathname])),(g.replace?r.replace:r.push)(y,g.state,g)},[e,r,c,l,n])}const PY=G.createContext(null);function IY(){return G.useContext(PY)}function she(n){let e=G.useContext(Id).outlet;return e&&G.createElement(PY.Provider,{value:n},e)}function ohe(){let{matches:n}=G.useContext(Id),e=n[n.length-1];return e?e.params:{}}function g3(n,e){let{relative:i}=e===void 0?{}:e,{future:r}=G.useContext(Cf),{matches:o}=G.useContext(Id),{pathname:l}=jd(),c=JSON.stringify(_F(o,r.v7_relativeSplatPath));return G.useMemo(()=>kF(n,JSON.parse(c),l,i==="path"),[n,c,l,i])}function ahe(n,e){return lhe(n,e)}function lhe(n,e,i,r){ex()||nr(!1);let{navigator:o}=G.useContext(Cf),{matches:l}=G.useContext(Id),c=l[l.length-1],u=c?c.params:{};c&&c.pathname;let h=c?c.pathnameBase:"/";c&&c.route;let m=jd(),g;if(e){var y;let T=typeof e=="string"?G0(e):e;h==="/"||(y=T.pathname)!=null&&y.startsWith(h)||nr(!1),g=T}else g=m;let v=g.pathname||"/",_=v;if(h!=="/"){let T=h.replace(/^\//,"").split("/");_="/"+v.replace(/^\//,"").split("/").slice(T.length).join("/")}let A=Mde(n,{pathname:_}),S=fhe(A&&A.map(T=>Object.assign({},T,{params:Object.assign({},u,T.params),pathname:Rm([h,o.encodeLocation?o.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?h:Rm([h,o.encodeLocation?o.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),l,i,r);return e&&S?G.createElement(m3.Provider,{value:{location:K2({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Em.Pop}},S):S}function che(){let n=bhe(),e=the(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),i?G.createElement("pre",{style:o},i):null,null)}const uhe=G.createElement(che,null);class dhe extends G.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,i){return i.location!==e.location||i.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:i.error,location:i.location,revalidation:e.revalidation||i.revalidation}}componentDidCatch(e,i){console.error("React Router caught the following error during render",e,i)}render(){return this.state.error!==void 0?G.createElement(Id.Provider,{value:this.props.routeContext},G.createElement(DY.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hhe(n){let{routeContext:e,match:i,children:r}=n,o=G.useContext(p3);return o&&o.static&&o.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=i.route.id),G.createElement(Id.Provider,{value:e},r)}function fhe(n,e,i,r){var o;if(e===void 0&&(e=[]),i===void 0&&(i=null),r===void 0&&(r=null),n==null){var l;if(!i)return null;if(i.errors)n=i.matches;else if((l=r)!=null&&l.v7_partialHydration&&e.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let c=n,u=(o=i)==null?void 0:o.errors;if(u!=null){let g=c.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);g>=0||nr(!1),c=c.slice(0,Math.min(c.length,g+1))}let h=!1,m=-1;if(i&&r&&r.v7_partialHydration)for(let g=0;g<c.length;g++){let y=c[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:v,errors:_}=i,A=y.route.loader&&v[y.route.id]===void 0&&(!_||_[y.route.id]===void 0);if(y.route.lazy||A){h=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((g,y,v)=>{let _,A=!1,S=null,T=null;i&&(_=u&&y.route.id?u[y.route.id]:void 0,S=y.route.errorElement||uhe,h&&(m<0&&v===0?(vhe("route-fallback"),A=!0,T=null):m===v&&(A=!0,T=y.route.hydrateFallbackElement||null)));let C=e.concat(c.slice(0,v+1)),N=()=>{let I;return _?I=S:A?I=T:y.route.Component?I=G.createElement(y.route.Component,null):y.route.element?I=y.route.element:I=g,G.createElement(hhe,{match:y,routeContext:{outlet:g,matches:C,isDataRoute:i!=null},children:I})};return i&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?G.createElement(dhe,{location:i.location,revalidation:i.revalidation,component:S,error:_,children:N(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):N()},null)}var jY=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(jY||{}),RY=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(RY||{});function phe(n){let e=G.useContext(p3);return e||nr(!1),e}function mhe(n){let e=G.useContext(CY);return e||nr(!1),e}function ghe(n){let e=G.useContext(Id);return e||nr(!1),e}function MY(n){let e=ghe(),i=e.matches[e.matches.length-1];return i.route.id||nr(!1),i.route.id}function bhe(){var n;let e=G.useContext(DY),i=mhe(),r=MY();return e!==void 0?e:(n=i.errors)==null?void 0:n[r]}function yhe(){let{router:n}=phe(jY.UseNavigateStable),e=MY(RY.UseNavigateStable),i=G.useRef(!1);return NY(()=>{i.current=!0}),G.useCallback(function(o,l){l===void 0&&(l={}),i.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,K2({fromRouteId:e},l)))},[n,e])}const FV={};function vhe(n,e,i){FV[n]||(FV[n]=!0)}function whe(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function _v(n){let{to:e,replace:i,state:r,relative:o}=n;ex()||nr(!1);let{future:l,static:c}=G.useContext(Cf),{matches:u}=G.useContext(Id),{pathname:h}=jd(),m=ys(),g=kF(e,_F(u,l.v7_relativeSplatPath),h,o==="path"),y=JSON.stringify(g);return G.useEffect(()=>m(JSON.parse(y),{replace:i,state:r,relative:o}),[m,y,o,i,r]),null}function OY(n){return she(n.context)}function Si(n){nr(!1)}function xhe(n){let{basename:e="/",children:i=null,location:r,navigationType:o=Em.Pop,navigator:l,static:c=!1,future:u}=n;ex()&&nr(!1);let h=e.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:h,navigator:l,static:c,future:K2({v7_relativeSplatPath:!1},u)}),[h,u,l,c]);typeof r=="string"&&(r=G0(r));let{pathname:g="/",search:y="",hash:v="",state:_=null,key:A="default"}=r,S=G.useMemo(()=>{let T=O1(g,h);return T==null?null:{location:{pathname:T,search:y,hash:v,state:_,key:A},navigationType:o}},[h,g,y,v,_,A,o]);return S==null?null:G.createElement(Cf.Provider,{value:m},G.createElement(m3.Provider,{children:i,value:S}))}function _he(n){let{children:e,location:i}=n;return ahe(fM(e),i)}new Promise(()=>{});function fM(n,e){e===void 0&&(e=[]);let i=[];return G.Children.forEach(n,(r,o)=>{if(!G.isValidElement(r))return;let l=[...e,o];if(r.type===G.Fragment){i.push.apply(i,fM(r.props.children,l));return}r.type!==Si&&nr(!1),!r.props.index||!r.props.children||nr(!1);let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=fM(r.props.children,l)),i.push(c)}),i}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function QN(){return QN=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},QN.apply(this,arguments)}function FY(n,e){if(n==null)return{};var i={},r=Object.keys(n),o,l;for(l=0;l<r.length;l++)o=r[l],!(e.indexOf(o)>=0)&&(i[o]=n[o]);return i}function khe(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Ehe(n,e){return n.button===0&&(!e||e==="_self")&&!khe(n)}function pM(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,i)=>{let r=n[i];return e.concat(Array.isArray(r)?r.map(o=>[i,o]):[[i,r]])},[]))}function She(n,e){let i=pM(n);return e&&e.forEach((r,o)=>{i.has(o)||e.getAll(o).forEach(l=>{i.append(o,l)})}),i}const Ahe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],The=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Che="6";try{window.__reactRouterVersion=Che}catch{}const Dhe=G.createContext({isTransitioning:!1}),Nhe="startTransition",LV=yR[Nhe];function Phe(n){let{basename:e,children:i,future:r,window:o}=n,l=G.useRef();l.current==null&&(l.current=Ide({window:o,v5Compat:!0}));let c=l.current,[u,h]=G.useState({action:c.action,location:c.location}),{v7_startTransition:m}=r||{},g=G.useCallback(y=>{m&&LV?LV(()=>h(y)):h(y)},[h,m]);return G.useLayoutEffect(()=>c.listen(g),[c,g]),G.useEffect(()=>whe(r),[r]),G.createElement(xhe,{basename:e,children:i,location:u.location,navigationType:u.action,navigator:c,future:r})}const Ihe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jhe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oc=G.forwardRef(function(e,i){let{onClick:r,relative:o,reloadDocument:l,replace:c,state:u,target:h,to:m,preventScrollReset:g,viewTransition:y}=e,v=FY(e,Ahe),{basename:_}=G.useContext(Cf),A,S=!1;if(typeof m=="string"&&jhe.test(m)&&(A=m,Ihe))try{let I=new URL(window.location.href),O=m.startsWith("//")?new URL(I.protocol+m):new URL(m),F=O1(O.pathname,_);O.origin===I.origin&&F!=null?m=F+O.search+O.hash:S=!0}catch{}let T=ihe(m,{relative:o}),C=Mhe(m,{replace:c,state:u,target:h,preventScrollReset:g,relative:o,viewTransition:y});function N(I){r&&r(I),I.defaultPrevented||C(I)}return G.createElement("a",QN({},v,{href:A||T,onClick:S||l?r:N,ref:i,target:h}))}),S0=G.forwardRef(function(e,i){let{"aria-current":r="page",caseSensitive:o=!1,className:l="",end:c=!1,style:u,to:h,viewTransition:m,children:g}=e,y=FY(e,The),v=g3(h,{relative:y.relative}),_=jd(),A=G.useContext(CY),{navigator:S,basename:T}=G.useContext(Cf),C=A!=null&&Ohe(v)&&m===!0,N=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,I=_.pathname,O=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;o||(I=I.toLowerCase(),O=O?O.toLowerCase():null,N=N.toLowerCase()),O&&T&&(O=O1(O,T)||O);const F=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let L=I===N||!c&&I.startsWith(N)&&I.charAt(F)==="/",z=O!=null&&(O===N||!c&&O.startsWith(N)&&O.charAt(N.length)==="/"),B={isActive:L,isPending:z,isTransitioning:C},Y=L?r:void 0,se;typeof l=="function"?se=l(B):se=[l,L?"active":null,z?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let de=typeof u=="function"?u(B):u;return G.createElement(oc,QN({},y,{"aria-current":Y,className:se,ref:i,style:de,to:h,viewTransition:m}),typeof g=="function"?g(B):g)});var mM;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(mM||(mM={}));var UV;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(UV||(UV={}));function Rhe(n){let e=G.useContext(p3);return e||nr(!1),e}function Mhe(n,e){let{target:i,replace:r,state:o,preventScrollReset:l,relative:c,viewTransition:u}=e===void 0?{}:e,h=ys(),m=jd(),g=g3(n,{relative:c});return G.useCallback(y=>{if(Ehe(y,i)){y.preventDefault();let v=r!==void 0?r:JN(m)===JN(g);h(n,{replace:v,state:o,preventScrollReset:l,relative:c,viewTransition:u})}},[m,h,g,r,o,i,n,l,c,u])}function LY(n){let e=G.useRef(pM(n)),i=G.useRef(!1),r=jd(),o=G.useMemo(()=>She(r.search,i.current?null:e.current),[r.search]),l=ys(),c=G.useCallback((u,h)=>{const m=pM(typeof u=="function"?u(o):u);i.current=!0,l("?"+m,h)},[l,o]);return[o,c]}function Ohe(n,e){e===void 0&&(e={});let i=G.useContext(Dhe);i==null&&nr(!1);let{basename:r}=Rhe(mM.useViewTransitionState),o=g3(n,{relative:e.relative});if(!i.isTransitioning)return!1;let l=O1(i.currentLocation.pathname,r)||i.currentLocation.pathname,c=O1(i.nextLocation.pathname,r)||i.nextLocation.pathname;return hM(o.pathname,c)!=null||hM(o.pathname,l)!=null}const Fhe="modulepreload",Lhe=function(n){return"/accreda.github.io/"+n},BV={},pl=function(e,i,r){let o=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));o=Promise.allSettled(i.map(h=>{if(h=Lhe(h),h in BV)return;BV[h]=!0;const m=h.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const y=document.createElement("link");if(y.rel=m?"stylesheet":Fhe,m||(y.as="script"),y.crossOrigin="",y.href=h,u&&y.setAttribute("nonce",u),document.head.appendChild(y),m)return new Promise((v,_)=>{y.addEventListener("load",v),y.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${h}`)))})}))}function l(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return o.then(c=>{for(const u of c||[])u.status==="rejected"&&l(u.reason);return e().catch(l)})},Uhe=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...i)=>pl(async()=>{const{default:r}=await Promise.resolve().then(()=>tx);return{default:r}},void 0).then(({default:r})=>r(...i)):e=fetch,(...i)=>e(...i)};class EF extends Error{constructor(e,i="FunctionsError",r){super(e),this.name=i,this.context=r}}class Bhe extends EF{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class zhe extends EF{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Vhe extends EF{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var gM;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(gM||(gM={}));var Whe=function(n,e,i,r){function o(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function u(g){try{m(r.next(g))}catch(y){c(y)}}function h(g){try{m(r.throw(g))}catch(y){c(y)}}function m(g){g.done?l(g.value):o(g.value).then(u,h)}m((r=r.apply(n,e||[])).next())})};class $he{constructor(e,{headers:i={},customFetch:r,region:o=gM.Any}={}){this.url=e,this.headers=i,this.region=o,this.fetch=Uhe(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,i={}){var r;return Whe(this,void 0,void 0,function*(){try{const{headers:o,method:l,body:c}=i;let u={},{region:h}=i;h||(h=this.region),h&&h!=="any"&&(u["x-region"]=h);let m;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(u["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(u["Content-Type"]="application/json",m=JSON.stringify(c)));const g=yield this.fetch(`${this.url}/${e}`,{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),o),body:m}).catch(A=>{throw new Bhe(A)}),y=g.headers.get("x-relay-error");if(y&&y==="true")throw new zhe(g);if(!g.ok)throw new Vhe(g);let v=((r=g.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),_;return v==="application/json"?_=yield g.json():v==="application/octet-stream"?_=yield g.blob():v==="text/event-stream"?_=g:v==="multipart/form-data"?_=yield g.formData():_=yield g.text(),{data:_,error:null}}catch(o){return{data:null,error:o}}})}}var ya={},SF={},b3={},KS={},y3={},v3={},qhe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},F1=qhe();const Hhe=F1.fetch,UY=F1.fetch.bind(F1),BY=F1.Headers,Ghe=F1.Request,Xhe=F1.Response,tx=Object.freeze(Object.defineProperty({__proto__:null,Headers:BY,Request:Ghe,Response:Xhe,default:UY,fetch:Hhe},Symbol.toStringTag,{value:"Module"})),Yhe=dG(tx);var w3={};Object.defineProperty(w3,"__esModule",{value:!0});let Khe=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};w3.default=Khe;var zY=Gt&&Gt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(v3,"__esModule",{value:!0});const Zhe=zY(Yhe),Jhe=zY(w3);let Qhe=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Zhe.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,i){return this.headers=Object.assign({},this.headers),this.headers[e]=i,this}then(e,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,u,h;let m=null,g=null,y=null,v=l.status,_=l.statusText;if(l.ok){if(this.method!=="HEAD"){const C=await l.text();C===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?g=C:g=JSON.parse(C))}const S=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),T=(u=l.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");S&&T&&T.length>1&&(y=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(m={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,y=null,v=406,_="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const S=await l.text();try{m=JSON.parse(S),Array.isArray(m)&&l.status===404&&(g=[],m=null,v=200,_="OK")}catch{l.status===404&&S===""?(v=204,_="No Content"):m={message:S}}if(m&&this.isMaybeSingle&&(!((h=m==null?void 0:m.details)===null||h===void 0)&&h.includes("0 rows"))&&(m=null,v=200,_="OK"),m&&this.shouldThrowOnError)throw new Jhe.default(m)}return{error:m,data:g,count:y,status:v,statusText:_}});return this.shouldThrowOnError||(o=o.catch(l=>{var c,u,h;return{error:{message:`${(c=l==null?void 0:l.name)!==null&&c!==void 0?c:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(u=l==null?void 0:l.stack)!==null&&u!==void 0?u:""}`,hint:"",code:`${(h=l==null?void 0:l.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),o.then(e,i)}returns(){return this}overrideTypes(){return this}};v3.default=Qhe;var efe=Gt&&Gt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(y3,"__esModule",{value:!0});const tfe=efe(v3);let nfe=class extends tfe.default{select(e){let i=!1;const r=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:i=!0,nullsFirst:r,foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${e}.${i?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:i,referencedTable:r=i}={}){const o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this}range(e,i,{foreignTable:r,referencedTable:o=r}={}){const l=typeof o>"u"?"offset":`${o}.offset`,c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${e}`),this.url.searchParams.set(c,`${i-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:i=!1,settings:r=!1,buffers:o=!1,wal:l=!1,format:c="text"}={}){var u;const h=[e?"analyze":null,i?"verbose":null,r?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),m=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${m}"; options=${h};`,c==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};y3.default=nfe;var ife=Gt&&Gt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(KS,"__esModule",{value:!0});const rfe=ife(y3);let sfe=class extends rfe.default{eq(e,i){return this.url.searchParams.append(e,`eq.${i}`),this}neq(e,i){return this.url.searchParams.append(e,`neq.${i}`),this}gt(e,i){return this.url.searchParams.append(e,`gt.${i}`),this}gte(e,i){return this.url.searchParams.append(e,`gte.${i}`),this}lt(e,i){return this.url.searchParams.append(e,`lt.${i}`),this}lte(e,i){return this.url.searchParams.append(e,`lte.${i}`),this}like(e,i){return this.url.searchParams.append(e,`like.${i}`),this}likeAllOf(e,i){return this.url.searchParams.append(e,`like(all).{${i.join(",")}}`),this}likeAnyOf(e,i){return this.url.searchParams.append(e,`like(any).{${i.join(",")}}`),this}ilike(e,i){return this.url.searchParams.append(e,`ilike.${i}`),this}ilikeAllOf(e,i){return this.url.searchParams.append(e,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(e,i){return this.url.searchParams.append(e,`ilike(any).{${i.join(",")}}`),this}is(e,i){return this.url.searchParams.append(e,`is.${i}`),this}in(e,i){const r=Array.from(new Set(i)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,i){return typeof i=="string"?this.url.searchParams.append(e,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(e,`cs.{${i.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(i)}`),this}containedBy(e,i){return typeof i=="string"?this.url.searchParams.append(e,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(e,`cd.{${i.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(i)}`),this}rangeGt(e,i){return this.url.searchParams.append(e,`sr.${i}`),this}rangeGte(e,i){return this.url.searchParams.append(e,`nxl.${i}`),this}rangeLt(e,i){return this.url.searchParams.append(e,`sl.${i}`),this}rangeLte(e,i){return this.url.searchParams.append(e,`nxr.${i}`),this}rangeAdjacent(e,i){return this.url.searchParams.append(e,`adj.${i}`),this}overlaps(e,i){return typeof i=="string"?this.url.searchParams.append(e,`ov.${i}`):this.url.searchParams.append(e,`ov.{${i.join(",")}}`),this}textSearch(e,i,{config:r,type:o}={}){let l="";o==="plain"?l="pl":o==="phrase"?l="ph":o==="websearch"&&(l="w");const c=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${l}fts${c}.${i}`),this}match(e){return Object.entries(e).forEach(([i,r])=>{this.url.searchParams.append(i,`eq.${r}`)}),this}not(e,i,r){return this.url.searchParams.append(e,`not.${i}.${r}`),this}or(e,{foreignTable:i,referencedTable:r=i}={}){const o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${e})`),this}filter(e,i,r){return this.url.searchParams.append(e,`${i}.${r}`),this}};KS.default=sfe;var ofe=Gt&&Gt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(b3,"__esModule",{value:!0});const kk=ofe(KS);let afe=class{constructor(e,{headers:i={},schema:r,fetch:o}){this.url=e,this.headers=i,this.schema=r,this.fetch=o}select(e,{head:i=!1,count:r}={}){const o=i?"HEAD":"GET";let l=!1;const c=(e??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),r&&(this.headers.Prefer=`count=${r}`),new kk.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:i,defaultToNull:r=!0}={}){const o="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),r||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const c=e.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new kk.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:i,ignoreDuplicates:r=!1,count:o,defaultToNull:l=!0}={}){const c="POST",u=[`resolution=${r?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&u.push(this.headers.Prefer),o&&u.push(`count=${o}`),l||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(e)){const h=e.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(h.length>0){const m=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",m.join(","))}}return new kk.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:i}={}){const r="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),this.headers.Prefer=o.join(","),new kk.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const i="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new kk.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};b3.default=afe;var x3={},_3={};Object.defineProperty(_3,"__esModule",{value:!0});_3.version=void 0;_3.version="0.0.0-automated";Object.defineProperty(x3,"__esModule",{value:!0});x3.DEFAULT_HEADERS=void 0;const lfe=_3;x3.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${lfe.version}`};var VY=Gt&&Gt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(SF,"__esModule",{value:!0});const cfe=VY(b3),ufe=VY(KS),dfe=x3;let hfe=class WY{constructor(e,{headers:i={},schema:r,fetch:o}={}){this.url=e,this.headers=Object.assign(Object.assign({},dfe.DEFAULT_HEADERS),i),this.schemaName=r,this.fetch=o}from(e){const i=new URL(`${this.url}/${e}`);return new cfe.default(i,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new WY(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,i={},{head:r=!1,get:o=!1,count:l}={}){let c;const u=new URL(`${this.url}/rpc/${e}`);let h;r||o?(c=r?"HEAD":"GET",Object.entries(i).filter(([g,y])=>y!==void 0).map(([g,y])=>[g,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([g,y])=>{u.searchParams.append(g,y)})):(c="POST",h=i);const m=Object.assign({},this.headers);return l&&(m.Prefer=`count=${l}`),new ufe.default({method:c,url:u,headers:m,schema:this.schemaName,body:h,fetch:this.fetch,allowEmpty:!1})}};SF.default=hfe;var nx=Gt&&Gt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ya,"__esModule",{value:!0});ya.PostgrestError=ya.PostgrestBuilder=ya.PostgrestTransformBuilder=ya.PostgrestFilterBuilder=ya.PostgrestQueryBuilder=ya.PostgrestClient=void 0;const $Y=nx(SF);ya.PostgrestClient=$Y.default;const qY=nx(b3);ya.PostgrestQueryBuilder=qY.default;const HY=nx(KS);ya.PostgrestFilterBuilder=HY.default;const GY=nx(y3);ya.PostgrestTransformBuilder=GY.default;const XY=nx(v3);ya.PostgrestBuilder=XY.default;const YY=nx(w3);ya.PostgrestError=YY.default;var ffe=ya.default={PostgrestClient:$Y.default,PostgrestQueryBuilder:qY.default,PostgrestFilterBuilder:HY.default,PostgrestTransformBuilder:GY.default,PostgrestBuilder:XY.default,PostgrestError:YY.default};const{PostgrestClient:pfe,PostgrestQueryBuilder:VDe,PostgrestFilterBuilder:WDe,PostgrestTransformBuilder:$De,PostgrestBuilder:qDe,PostgrestError:HDe}=ffe;let bM;typeof window>"u"?bM=require("ws"):bM=window.WebSocket;const mfe="2.11.9",gfe={"X-Client-Info":`realtime-js/${mfe}`},bfe="1.0.0",KY=1e4,yfe=1e3;var gw;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(gw||(gw={}));var Fo;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Fo||(Fo={}));var nu;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(nu||(nu={}));var yM;(function(n){n.websocket="websocket"})(yM||(yM={}));var ub;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(ub||(ub={}));class vfe{constructor(){this.HEADER_LENGTH=1}decode(e,i){return e.constructor===ArrayBuffer?i(this._binaryDecode(e)):i(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const i=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,i,r)}_decodeBroadcast(e,i,r){const o=i.getUint8(1),l=i.getUint8(2);let c=this.HEADER_LENGTH+2;const u=r.decode(e.slice(c,c+o));c=c+o;const h=r.decode(e.slice(c,c+l));c=c+l;const m=JSON.parse(r.decode(e.slice(c,e.byteLength)));return{ref:null,topic:u,event:h,payload:m}}}class ZY{constructor(e,i){this.callback=e,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ai;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Ai||(Ai={}));const zV=(n,e,i={})=>{var r;const o=(r=i.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((l,c)=>(l[c]=wfe(c,n,e,o),l),{})},wfe=(n,e,i,r)=>{const o=e.find(u=>u.name===n),l=o==null?void 0:o.type,c=i[n];return l&&!r.includes(l)?JY(l,c):vM(c)},JY=(n,e)=>{if(n.charAt(0)==="_"){const i=n.slice(1,n.length);return Efe(e,i)}switch(n){case Ai.bool:return xfe(e);case Ai.float4:case Ai.float8:case Ai.int2:case Ai.int4:case Ai.int8:case Ai.numeric:case Ai.oid:return _fe(e);case Ai.json:case Ai.jsonb:return kfe(e);case Ai.timestamp:return Sfe(e);case Ai.abstime:case Ai.date:case Ai.daterange:case Ai.int4range:case Ai.int8range:case Ai.money:case Ai.reltime:case Ai.text:case Ai.time:case Ai.timestamptz:case Ai.timetz:case Ai.tsrange:case Ai.tstzrange:return vM(e);default:return vM(e)}},vM=n=>n,xfe=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},_fe=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},kfe=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},Efe=(n,e)=>{if(typeof n!="string")return n;const i=n.length-1,r=n[i];if(n[0]==="{"&&r==="}"){let l;const c=n.slice(1,i);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(u=>JY(e,u))}return n},Sfe=n=>typeof n=="string"?n.replace(" ","T"):n,QY=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Sj{constructor(e,i,r={},o=KY){this.channel=e,this.event=i,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,i){var r;return this._hasReceived(e)&&i((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:i}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(i))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var VV;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(VV||(VV={}));class x2{constructor(e,i){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(i==null?void 0:i.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:l,onLeave:c,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=x2.syncState(this.state,o,l,c),this.pendingDiffs.forEach(h=>{this.state=x2.syncDiff(this.state,h,l,c)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},o=>{const{onJoin:l,onLeave:c,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=x2.syncDiff(this.state,o,l,c),u())}),this.onJoin((o,l,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:c})}),this.onLeave((o,l,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,i,r,o){const l=this.cloneDeep(e),c=this.transformState(i),u={},h={};return this.map(l,(m,g)=>{c[m]||(h[m]=g)}),this.map(c,(m,g)=>{const y=l[m];if(y){const v=g.map(T=>T.presence_ref),_=y.map(T=>T.presence_ref),A=g.filter(T=>_.indexOf(T.presence_ref)<0),S=y.filter(T=>v.indexOf(T.presence_ref)<0);A.length>0&&(u[m]=A),S.length>0&&(h[m]=S)}else u[m]=g}),this.syncDiff(l,{joins:u,leaves:h},r,o)}static syncDiff(e,i,r,o){const{joins:l,leaves:c}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(l,(u,h)=>{var m;const g=(m=e[u])!==null&&m!==void 0?m:[];if(e[u]=this.cloneDeep(h),g.length>0){const y=e[u].map(_=>_.presence_ref),v=g.filter(_=>y.indexOf(_.presence_ref)<0);e[u].unshift(...v)}r(u,g,h)}),this.map(c,(u,h)=>{let m=e[u];if(!m)return;const g=h.map(y=>y.presence_ref);m=m.filter(y=>g.indexOf(y.presence_ref)<0),e[u]=m,o(u,m,h),m.length===0&&delete e[u]}),e}static map(e,i){return Object.getOwnPropertyNames(e).map(r=>i(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((i,r)=>{const o=e[r];return"metas"in o?i[r]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):i[r]=o,i},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var WV;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(WV||(WV={}));var $V;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})($V||($V={}));var Th;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Th||(Th={}));class AF{constructor(e,i={config:{}},r){this.topic=e,this.params=i,this.socket=r,this.bindings={},this.state=Fo.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Sj(this,nu.join,this.params,this.timeout),this.rejoinTimer=new ZY(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fo.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fo.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Fo.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fo.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nu.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new x2(this),this.broadcastEndpointURL=QY(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,i=this.timeout){var r,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:l,presence:c,private:u}}=this.params;this._onError(g=>e==null?void 0:e(Th.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(Th.CLOSED));const h={},m={broadcast:l,presence:c,postgres_changes:(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&o!==void 0?o:[],private:u};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:g})=>{var y;if(this.socket.setAuth(),g===void 0){e==null||e(Th.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,_=(y=v==null?void 0:v.length)!==null&&y!==void 0?y:0,A=[];for(let S=0;S<_;S++){const T=v[S],{filter:{event:C,schema:N,table:I,filter:O}}=T,F=g&&g[S];if(F&&F.event===C&&F.schema===N&&F.table===I&&F.filter===O)A.push(Object.assign(Object.assign({},T),{id:F.id}));else{this.unsubscribe(),this.state=Fo.errored,e==null||e(Th.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,e&&e(Th.SUBSCRIBED);return}}).receive("error",g=>{this.state=Fo.errored,e==null||e(Th.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Th.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,i={}){return await this.send({type:"presence",event:"track",payload:e},i.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,i,r){return this._on(e,i,r)}async send(e,i={}){var r,o;if(!this._canPush()&&e.type==="broadcast"){const{event:l,payload:c}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(r=i.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,u,h;const m=this._push(e.type,e,i.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(u=(c=this.params)===null||c===void 0?void 0:c.config)===null||u===void 0?void 0:u.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Fo.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nu.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const o=new Sj(this,nu.leave,{},e);o.receive("ok",()=>{i(),r("ok")}).receive("timeout",()=>{i(),r("timed out")}).receive("error",()=>{r("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,i,r){const o=new AbortController,l=setTimeout(()=>o.abort(),r),c=await this.socket.fetch(e,Object.assign(Object.assign({},i),{signal:o.signal}));return clearTimeout(l),c}_push(e,i,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Sj(this,e,i,r);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(e,i,r){return i}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,i,r){var o,l;const c=e.toLocaleLowerCase(),{close:u,error:h,leave:m,join:g}=nu;if(r&&[u,h,m,g].indexOf(c)>=0&&r!==this._joinRef())return;let v=this._onMessage(c,i,r);if(i&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(_=>{var A,S,T;return((A=_.filter)===null||A===void 0?void 0:A.event)==="*"||((T=(S=_.filter)===null||S===void 0?void 0:S.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===c}).map(_=>_.callback(v,r)):(l=this.bindings[c])===null||l===void 0||l.filter(_=>{var A,S,T,C,N,I;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in _){const O=_.id,F=(A=_.filter)===null||A===void 0?void 0:A.event;return O&&((S=i.ids)===null||S===void 0?void 0:S.includes(O))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((T=i.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const O=(N=(C=_==null?void 0:_.filter)===null||C===void 0?void 0:C.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return O==="*"||O===((I=i==null?void 0:i.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===c}).map(_=>{if(typeof v=="object"&&"ids"in v){const A=v.data,{schema:S,table:T,commit_timestamp:C,type:N,errors:I}=A;v=Object.assign(Object.assign({},{schema:S,table:T,commit_timestamp:C,eventType:N,new:{},old:{},errors:I}),this._getPayloadRecords(A))}_.callback(v,r)})}_isClosed(){return this.state===Fo.closed}_isJoined(){return this.state===Fo.joined}_isJoining(){return this.state===Fo.joining}_isLeaving(){return this.state===Fo.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,i,r){const o=e.toLocaleLowerCase(),l={type:o,filter:i,callback:r};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,i){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===r&&AF.isEqual(o.filter,i))}),this}static isEqual(e,i){if(Object.keys(e).length!==Object.keys(i).length)return!1;for(const r in e)if(e[r]!==i[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(nu.close,{},e)}_onError(e){this._on(nu.error,{},i=>e(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fo.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const i={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(i.new=zV(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(i.old=zV(e.columns,e.old_record)),i}}const qV=()=>{},Afe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Tfe{constructor(e,i){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=gfe,this.params={},this.timeout=KY,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qV,this.ref=0,this.logger=qV,this.conn=null,this.sendBuffer=[],this.serializer=new vfe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=l=>{let c;return l?c=l:typeof fetch>"u"?c=(...u)=>pl(async()=>{const{default:h}=await Promise.resolve().then(()=>tx);return{default:h}},void 0).then(({default:h})=>h(...u)):c=fetch,(...u)=>c(...u)},this.endPoint=`${e}/${yM.websocket}`,this.httpEndpoint=QY(e),i!=null&&i.transport?this.transport=i.transport:this.transport=null,i!=null&&i.params&&(this.params=i.params),i!=null&&i.headers&&(this.headers=Object.assign(Object.assign({},this.headers),i.headers)),i!=null&&i.timeout&&(this.timeout=i.timeout),i!=null&&i.logger&&(this.logger=i.logger),(i!=null&&i.logLevel||i!=null&&i.log_level)&&(this.logLevel=i.logLevel||i.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),i!=null&&i.heartbeatIntervalMs&&(this.heartbeatIntervalMs=i.heartbeatIntervalMs);const o=(r=i==null?void 0:i.params)===null||r===void 0?void 0:r.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=i!=null&&i.reconnectAfterMs?i.reconnectAfterMs:l=>[1e3,2e3,5e3,1e4][l-1]||1e4,this.encode=i!=null&&i.encode?i.encode:(l,c)=>c(JSON.stringify(l)),this.decode=i!=null&&i.decode?i.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ZY(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(i==null?void 0:i.fetch),i!=null&&i.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(i==null?void 0:i.worker)||!1,this.workerUrl=i==null?void 0:i.workerUrl}this.accessToken=(i==null?void 0:i.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=bM),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new Cfe(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:bfe}))}disconnect(e,i){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,i??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const i=await e.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const e=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,i,r){this.logger(e,i,r)}connectionState(){switch(this.conn&&this.conn.readyState){case gw.connecting:return ub.Connecting;case gw.open:return ub.Open;case gw.closing:return ub.Closing;default:return ub.Closed}}isConnected(){return this.connectionState()===ub.Open}channel(e,i={config:{}}){const r=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===r);if(o)return o;{const l=new AF(`realtime:${e}`,i,this);return this.channels.push(l),l}}push(e){const{topic:i,event:r,payload:o,ref:l}=e,c=()=>{this.encode(e,u=>{var h;(h=this.conn)===null||h===void 0||h.send(u)})};this.log("push",`${i} ${r} (${l})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){let i=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(r=>{i&&r.updateJoinPayload({access_token:i,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(nu.access_token,{access_token:i})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(yfe,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let i=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${e}"`),i.unsubscribe())}_remove(e){this.channels=this.channels.filter(i=>i.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,i=>{let{topic:r,event:o,payload:l,ref:c}=i;r==="phoenix"&&o==="phx_reply"&&this.heartbeatCallback(i.payload.status=="ok"?"ok":"error"),c&&c===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${l.status||""} ${r} ${o} ${c&&"("+c+")"||""}`,l),Array.from(this.channels).filter(u=>u._isMember(r)).forEach(u=>u._trigger(o,l,c)),this.stateChangeCallbacks.message.forEach(u=>u(i))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(i=>i(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(i=>i(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(nu.error))}_appendParams(e,i){if(Object.keys(i).length===0)return e;const r=e.match(/\?/)?"&":"?",o=new URLSearchParams(i);return`${e}${r}${o}`}_workerObjectUrl(e){let i;if(e)i=e;else{const r=new Blob([Afe],{type:"application/javascript"});i=URL.createObjectURL(r)}return i}}class Cfe{constructor(e,i,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=gw.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class TF extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function fs(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class Dfe extends TF{constructor(e,i){super(e),this.name="StorageApiError",this.status=i}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class wM extends TF{constructor(e,i){super(e),this.name="StorageUnknownError",this.originalError=i}}var Nfe=function(n,e,i,r){function o(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function u(g){try{m(r.next(g))}catch(y){c(y)}}function h(g){try{m(r.throw(g))}catch(y){c(y)}}function m(g){g.done?l(g.value):o(g.value).then(u,h)}m((r=r.apply(n,e||[])).next())})};const eK=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...i)=>pl(async()=>{const{default:r}=await Promise.resolve().then(()=>tx);return{default:r}},void 0).then(({default:r})=>r(...i)):e=fetch,(...i)=>e(...i)},Pfe=()=>Nfe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield pl(()=>Promise.resolve().then(()=>tx),void 0)).Response:Response}),xM=n=>{if(Array.isArray(n))return n.map(i=>xM(i));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([i,r])=>{const o=i.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=xM(r)}),e};var X0=function(n,e,i,r){function o(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function u(g){try{m(r.next(g))}catch(y){c(y)}}function h(g){try{m(r.throw(g))}catch(y){c(y)}}function m(g){g.done?l(g.value):o(g.value).then(u,h)}m((r=r.apply(n,e||[])).next())})};const Aj=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Ife=(n,e,i)=>X0(void 0,void 0,void 0,function*(){const r=yield Pfe();n instanceof r&&!(i!=null&&i.noResolveJson)?n.json().then(o=>{e(new Dfe(Aj(o),n.status||500))}).catch(o=>{e(new wM(Aj(o),o))}):e(new wM(Aj(n),n))}),jfe=(n,e,i,r)=>{const o={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(o.body=JSON.stringify(r)),Object.assign(Object.assign({},o),i))};function ZS(n,e,i,r,o,l){return X0(this,void 0,void 0,function*(){return new Promise((c,u)=>{n(i,jfe(e,r,o,l)).then(h=>{if(!h.ok)throw h;return r!=null&&r.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>Ife(h,u,r))})})}function e5(n,e,i,r){return X0(this,void 0,void 0,function*(){return ZS(n,"GET",e,i,r)})}function jp(n,e,i,r,o){return X0(this,void 0,void 0,function*(){return ZS(n,"POST",e,r,o,i)})}function Rfe(n,e,i,r,o){return X0(this,void 0,void 0,function*(){return ZS(n,"PUT",e,r,o,i)})}function Mfe(n,e,i,r){return X0(this,void 0,void 0,function*(){return ZS(n,"HEAD",e,Object.assign(Object.assign({},i),{noResolveJson:!0}),r)})}function tK(n,e,i,r,o){return X0(this,void 0,void 0,function*(){return ZS(n,"DELETE",e,r,o,i)})}var ca=function(n,e,i,r){function o(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function u(g){try{m(r.next(g))}catch(y){c(y)}}function h(g){try{m(r.throw(g))}catch(y){c(y)}}function m(g){g.done?l(g.value):o(g.value).then(u,h)}m((r=r.apply(n,e||[])).next())})};const Ofe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},HV={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ffe{constructor(e,i={},r,o){this.url=e,this.headers=i,this.bucketId=r,this.fetch=eK(o)}uploadOrUpdate(e,i,r,o){return ca(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},HV),o);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),h&&l.append("metadata",this.encodeMetadata(h)),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl),h&&l.append("metadata",this.encodeMetadata(h))):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType,h&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),o!=null&&o.headers&&(u=Object.assign(Object.assign({},u),o.headers));const m=this._removeEmptyFolders(i),g=this._getFinalPath(m),y=yield this.fetch(`${this.url}/object/${g}`,Object.assign({method:e,body:l,headers:u},c!=null&&c.duplex?{duplex:c.duplex}:{})),v=yield y.json();return y.ok?{data:{path:m,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(l){if(fs(l))return{data:null,error:l};throw l}})}upload(e,i,r){return ca(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,i,r)})}uploadToSignedUrl(e,i,r,o){return ca(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),u=new URL(this.url+`/object/upload/sign/${c}`);u.searchParams.set("token",i);try{let h;const m=Object.assign({upsert:HV.upsert},o),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.append("cacheControl",m.cacheControl)):(h=r,g["cache-control"]=`max-age=${m.cacheControl}`,g["content-type"]=m.contentType);const y=yield this.fetch(u.toString(),{method:"PUT",body:h,headers:g}),v=yield y.json();return y.ok?{data:{path:l,fullPath:v.Key},error:null}:{data:null,error:v}}catch(h){if(fs(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,i){return ca(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const o=Object.assign({},this.headers);i!=null&&i.upsert&&(o["x-upsert"]="true");const l=yield jp(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),c=new URL(this.url+l.url),u=c.searchParams.get("token");if(!u)throw new TF("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:u},error:null}}catch(r){if(fs(r))return{data:null,error:r};throw r}})}update(e,i,r){return ca(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,i,r)})}move(e,i,r){return ca(this,void 0,void 0,function*(){try{return{data:yield jp(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:i,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(fs(o))return{data:null,error:o};throw o}})}copy(e,i,r){return ca(this,void 0,void 0,function*(){try{return{data:{path:(yield jp(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:i,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(fs(o))return{data:null,error:o};throw o}})}createSignedUrl(e,i,r){return ca(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),l=yield jp(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:i},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const c=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(o){if(fs(o))return{data:null,error:o};throw o}})}createSignedUrls(e,i,r){return ca(this,void 0,void 0,function*(){try{const o=yield jp(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:e},{headers:this.headers}),l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(o){if(fs(o))return{data:null,error:o};throw o}})}download(e,i){return ca(this,void 0,void 0,function*(){const o=typeof(i==null?void 0:i.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((i==null?void 0:i.transform)||{}),c=l?`?${l}`:"";try{const u=this._getFinalPath(e);return{data:yield(yield e5(this.fetch,`${this.url}/${o}/${u}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(fs(u))return{data:null,error:u};throw u}})}info(e){return ca(this,void 0,void 0,function*(){const i=this._getFinalPath(e);try{const r=yield e5(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:xM(r),error:null}}catch(r){if(fs(r))return{data:null,error:r};throw r}})}exists(e){return ca(this,void 0,void 0,function*(){const i=this._getFinalPath(e);try{return yield Mfe(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(fs(r)&&r instanceof wM){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,i){const r=this._getFinalPath(e),o=[],l=i!=null&&i.download?`download=${i.download===!0?"":i.download}`:"";l!==""&&o.push(l);const u=typeof(i==null?void 0:i.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((i==null?void 0:i.transform)||{});h!==""&&o.push(h);let m=o.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${m}`)}}}remove(e){return ca(this,void 0,void 0,function*(){try{return{data:yield tK(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(i){if(fs(i))return{data:null,error:i};throw i}})}list(e,i,r){return ca(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},Ofe),i),{prefix:e||""});return{data:yield jp(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(fs(o))return{data:null,error:o};throw o}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const i=[];return e.width&&i.push(`width=${e.width}`),e.height&&i.push(`height=${e.height}`),e.resize&&i.push(`resize=${e.resize}`),e.format&&i.push(`format=${e.format}`),e.quality&&i.push(`quality=${e.quality}`),i.join("&")}}const Lfe="2.7.1",Ufe={"X-Client-Info":`storage-js/${Lfe}`};var kv=function(n,e,i,r){function o(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function u(g){try{m(r.next(g))}catch(y){c(y)}}function h(g){try{m(r.throw(g))}catch(y){c(y)}}function m(g){g.done?l(g.value):o(g.value).then(u,h)}m((r=r.apply(n,e||[])).next())})};class Bfe{constructor(e,i={},r){this.url=e,this.headers=Object.assign(Object.assign({},Ufe),i),this.fetch=eK(r)}listBuckets(){return kv(this,void 0,void 0,function*(){try{return{data:yield e5(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(fs(e))return{data:null,error:e};throw e}})}getBucket(e){return kv(this,void 0,void 0,function*(){try{return{data:yield e5(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(i){if(fs(i))return{data:null,error:i};throw i}})}createBucket(e,i={public:!1}){return kv(this,void 0,void 0,function*(){try{return{data:yield jp(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(fs(r))return{data:null,error:r};throw r}})}updateBucket(e,i){return kv(this,void 0,void 0,function*(){try{return{data:yield Rfe(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(fs(r))return{data:null,error:r};throw r}})}emptyBucket(e){return kv(this,void 0,void 0,function*(){try{return{data:yield jp(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(fs(i))return{data:null,error:i};throw i}})}deleteBucket(e){return kv(this,void 0,void 0,function*(){try{return{data:yield tK(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(i){if(fs(i))return{data:null,error:i};throw i}})}}class zfe extends Bfe{constructor(e,i={},r){super(e,i,r)}from(e){return new Ffe(this.url,this.headers,e,this.fetch)}}const Vfe="2.49.9";let Hk="";typeof Deno<"u"?Hk="deno":typeof document<"u"?Hk="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Hk="react-native":Hk="node";const Wfe={"X-Client-Info":`supabase-js-${Hk}/${Vfe}`},$fe={headers:Wfe},qfe={schema:"public"},Hfe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Gfe={};var Xfe=function(n,e,i,r){function o(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function u(g){try{m(r.next(g))}catch(y){c(y)}}function h(g){try{m(r.throw(g))}catch(y){c(y)}}function m(g){g.done?l(g.value):o(g.value).then(u,h)}m((r=r.apply(n,e||[])).next())})};const Yfe=n=>{let e;return n?e=n:typeof fetch>"u"?e=UY:e=fetch,(...i)=>e(...i)},Kfe=()=>typeof Headers>"u"?BY:Headers,Zfe=(n,e,i)=>{const r=Yfe(i),o=Kfe();return(l,c)=>Xfe(void 0,void 0,void 0,function*(){var u;const h=(u=yield e())!==null&&u!==void 0?u:n;let m=new o(c==null?void 0:c.headers);return m.has("apikey")||m.set("apikey",n),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),r(l,Object.assign(Object.assign({},c),{headers:m}))})};var Jfe=function(n,e,i,r){function o(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function u(g){try{m(r.next(g))}catch(y){c(y)}}function h(g){try{m(r.throw(g))}catch(y){c(y)}}function m(g){g.done?l(g.value):o(g.value).then(u,h)}m((r=r.apply(n,e||[])).next())})};function Qfe(n){return n.endsWith("/")?n:n+"/"}function epe(n,e){var i,r;const{db:o,auth:l,realtime:c,global:u}=n,{db:h,auth:m,realtime:g,global:y}=e,v={db:Object.assign(Object.assign({},h),o),auth:Object.assign(Object.assign({},m),l),realtime:Object.assign(Object.assign({},g),c),global:Object.assign(Object.assign(Object.assign({},y),u),{headers:Object.assign(Object.assign({},(i=y==null?void 0:y.headers)!==null&&i!==void 0?i:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Jfe(this,void 0,void 0,function*(){return""})};return n.accessToken?v.accessToken=n.accessToken:delete v.accessToken,v}const nK="2.69.1",Iv=30*1e3,_M=3,Tj=_M*Iv,tpe="http://localhost:9999",npe="supabase.auth.token",ipe={"X-Client-Info":`gotrue-js/${nK}`},kM="X-Supabase-Api-Version",iK={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},rpe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,spe=6e5;class CF extends Error{constructor(e,i,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=r}}function wn(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class ope extends CF{constructor(e,i,r){super(e,i,r),this.name="AuthApiError",this.status=i,this.code=r}}function ape(n){return wn(n)&&n.name==="AuthApiError"}class rK extends CF{constructor(e,i){super(e),this.name="AuthUnknownError",this.originalError=i}}class Zm extends CF{constructor(e,i,r,o){super(e,r,o),this.name=i,this.status=r}}class Tp extends Zm{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function lpe(n){return wn(n)&&n.name==="AuthSessionMissingError"}class Cj extends Zm{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class eD extends Zm{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class tD extends Zm{constructor(e,i=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function cpe(n){return wn(n)&&n.name==="AuthImplicitGrantRedirectError"}class GV extends Zm{constructor(e,i=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class EM extends Zm{constructor(e,i){super(e,"AuthRetryableFetchError",i,void 0)}}function Dj(n){return wn(n)&&n.name==="AuthRetryableFetchError"}class XV extends Zm{constructor(e,i,r){super(e,"AuthWeakPasswordError",i,"weak_password"),this.reasons=r}}class _2 extends Zm{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const YV="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),KV=` 	
\r=`.split(""),upe=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<KV.length;e+=1)n[KV[e].charCodeAt(0)]=-2;for(let e=0;e<YV.length;e+=1)n[YV[e].charCodeAt(0)]=e;return n})();function sK(n,e,i){const r=upe[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)i(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function ZV(n){const e=[],i=c=>{e.push(String.fromCodePoint(c))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=c=>{fpe(c,r,i)};for(let c=0;c<n.length;c+=1)sK(n.charCodeAt(c),o,l);return e.join("")}function dpe(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function hpe(n,e){for(let i=0;i<n.length;i+=1){let r=n.charCodeAt(i);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(n.charCodeAt(i+1)-56320&65535|o)+65536,i+=1}dpe(r,e)}}function fpe(n,e,i){if(e.utf8seq===0){if(n<=127){i(n);return}for(let r=1;r<6;r+=1)if(!(n>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&i(e.codepoint)}}function ppe(n){const e=[],i={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<n.length;o+=1)sK(n.charCodeAt(o),i,r);return new Uint8Array(e)}function mpe(n){const e=[];return hpe(n,i=>e.push(i)),new Uint8Array(e)}function gpe(n){return Math.round(Date.now()/1e3)+n}function bpe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const ed=()=>typeof window<"u"&&typeof document<"u",eb={tested:!1,writable:!1},k2=()=>{if(!ed())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(eb.tested)return eb.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),eb.tested=!0,eb.writable=!0}catch{eb.tested=!0,eb.writable=!1}return eb.writable};function ype(n){const e={},i=new URL(n);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return i.searchParams.forEach((r,o)=>{e[o]=r}),e}const oK=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...i)=>pl(async()=>{const{default:r}=await Promise.resolve().then(()=>tx);return{default:r}},void 0).then(({default:r})=>r(...i)):e=fetch,(...i)=>e(...i)},vpe=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",aK=async(n,e,i)=>{await n.setItem(e,JSON.stringify(i))},nD=async(n,e)=>{const i=await n.getItem(e);if(!i)return null;try{return JSON.parse(i)}catch{return i}},iD=async(n,e)=>{await n.removeItem(e)};class k3{constructor(){this.promise=new k3.promiseConstructor((e,i)=>{this.resolve=e,this.reject=i})}}k3.promiseConstructor=Promise;function Nj(n){const e=n.split(".");if(e.length!==3)throw new _2("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!rpe.test(e[r]))throw new _2("JWT not in base64url format");return{header:JSON.parse(ZV(e[0])),payload:JSON.parse(ZV(e[1])),signature:ppe(e[2]),raw:{header:e[0],payload:e[1]}}}async function wpe(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function xpe(n,e){return new Promise((r,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await n(l);if(!e(l,null,c)){r(c);return}}catch(c){if(!e(l,c)){o(c);return}}})()})}function _pe(n){return("0"+n.toString(16)).substr(-2)}function kpe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=i.length;let o="";for(let l=0;l<56;l++)o+=i.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,_pe).join("")}async function Epe(n){const i=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",i),o=new Uint8Array(r);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function Spe(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const i=await Epe(n);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ev(n,e,i=!1){const r=kpe();let o=r;i&&(o+="/PASSWORD_RECOVERY"),await aK(n,`${e}-code-verifier`,o);const l=await Spe(r);return[l,r===l?"plain":"s256"]}const Ape=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Tpe(n){const e=n.headers.get(kM);if(!e||!e.match(Ape))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Cpe(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function Dpe(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Npe=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const sb=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Ppe=[502,503,504];async function JV(n){var e;if(!vpe(n))throw new EM(sb(n),0);if(Ppe.includes(n.status))throw new EM(sb(n),n.status);let i;try{i=await n.json()}catch(l){throw new rK(sb(l),l)}let r;const o=Tpe(n);if(o&&o.getTime()>=iK["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?r=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(r=i.error_code),r){if(r==="weak_password")throw new XV(sb(i),n.status,((e=i.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Tp}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new XV(sb(i),n.status,i.weak_password.reasons);throw new ope(sb(i),n.status||500,r)}const Ipe=(n,e,i,r)=>{const o={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),i))};async function Nn(n,e,i,r){var o;const l=Object.assign({},r==null?void 0:r.headers);l[kM]||(l[kM]=iK["2024-01-01"].name),r!=null&&r.jwt&&(l.Authorization=`Bearer ${r.jwt}`);const c=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(c.redirect_to=r.redirectTo);const u=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await jpe(n,e,i+u,{headers:l,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(h):{data:Object.assign({},h),error:null}}async function jpe(n,e,i,r,o,l){const c=Ipe(e,r,o,l);let u;try{u=await n(i,Object.assign({},c))}catch(h){throw console.error(h),new EM(sb(h),0)}if(u.ok||await JV(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(h){await JV(h)}}function Cp(n){var e;let i=null;Fpe(n)&&(i=Object.assign({},n),n.expires_at||(i.expires_at=gpe(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:i,user:r},error:null}}function QV(n){const e=Cp(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((i,r)=>i&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Fp(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function Rpe(n){return{data:n,error:null}}function Mpe(n){const{action_link:e,email_otp:i,hashed_token:r,redirect_to:o,verification_type:l}=n,c=Npe(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:i,hashed_token:r,redirect_to:o,verification_type:l},h=Object.assign({},c);return{data:{properties:u,user:h},error:null}}function Ope(n){return n}function Fpe(n){return n.access_token&&n.refresh_token&&n.expires_in}var Lpe=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};class Upe{constructor({url:e="",headers:i={},fetch:r}){this.url=e,this.headers=i,this.fetch=oK(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,i="global"){try{return await Nn(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(wn(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,i={}){try{return await Nn(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:Fp})}catch(r){if(wn(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:i}=e,r=Lpe(e,["options"]),o=Object.assign(Object.assign({},r),i);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await Nn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Mpe,redirectTo:i==null?void 0:i.redirectTo})}catch(i){if(wn(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(e){try{return await Nn(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Fp})}catch(i){if(wn(i))return{data:{user:null},error:i};throw i}}async listUsers(e){var i,r,o,l,c,u,h;try{const m={nextPage:null,lastPage:0,total:0},g=await Nn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(i=e==null?void 0:e.page)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Ope});if(g.error)throw g.error;const y=await g.json(),v=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,_=(h=(u=g.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return _.length>0&&(_.forEach(A=>{const S=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(A.split(";")[1].split("=")[1]);m[`${T}Page`]=S}),m.total=parseInt(v)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(wn(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){try{return await Nn(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Fp})}catch(i){if(wn(i))return{data:{user:null},error:i};throw i}}async updateUserById(e,i){try{return await Nn(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:i,headers:this.headers,xform:Fp})}catch(r){if(wn(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,i=!1){try{return await Nn(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:i},xform:Fp})}catch(r){if(wn(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:i,error:r}=await Nn(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:i,error:r}}catch(i){if(wn(i))return{data:null,error:i};throw i}}async _deleteFactor(e){try{return{data:await Nn(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(i){if(wn(i))return{data:null,error:i};throw i}}}const Bpe={getItem:n=>k2()?globalThis.localStorage.getItem(n):null,setItem:(n,e)=>{k2()&&globalThis.localStorage.setItem(n,e)},removeItem:n=>{k2()&&globalThis.localStorage.removeItem(n)}};function eW(n={}){return{getItem:e=>n[e]||null,setItem:(e,i)=>{n[e]=i},removeItem:e=>{delete n[e]}}}function zpe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Sv={debug:!!(globalThis&&k2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class lK extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Vpe extends lK{}async function Wpe(n,e,i){Sv.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Sv.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){Sv.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return await i()}finally{Sv.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(e===0)throw Sv.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Vpe(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Sv.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}zpe();const $pe={url:tpe,storageKey:npe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ipe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function tW(n,e,i){return await i()}class Z2{constructor(e){var i,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Z2.nextInstanceID,Z2.nextInstanceID+=1,this.instanceID>0&&ed()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},$pe),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Upe({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=oK(o.fetch),this.lock=o.lock||tW,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:ed()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=Wpe:this.lock=tW,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:k2()?this.storage=Bpe:(this.memoryStorage={},this.storage=eW(this.memoryStorage)):(this.memoryStorage={},this.storage=eW(this.memoryStorage)),ed()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${nK}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const i=ype(window.location.href);let r="none";if(this._isImplicitGrantCallback(i)?r="implicit":await this._isPKCECallback(i)&&(r="pkce"),ed()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:l}=await this._getSessionFromURL(i,r);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),cpe(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:u}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",u),await this._saveSession(c),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return wn(i)?{error:i}:{error:new rK("Unexpected error during initialization",i)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var i,r,o;try{const l=await Nn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:Cp}),{data:c,error:u}=l;if(u||!c)return{data:{user:null,session:null},error:u};const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(l){if(wn(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var i,r,o;try{let l;if("email"in e){const{email:g,password:y,options:v}=e;let _=null,A=null;this.flowType==="pkce"&&([_,A]=await Ev(this.storage,this.storageKey)),l=await Nn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:g,password:y,data:(i=v==null?void 0:v.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:_,code_challenge_method:A},xform:Cp})}else if("phone"in e){const{phone:g,password:y,options:v}=e;l=await Nn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:y,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(o=v==null?void 0:v.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Cp})}else throw new eD("You must provide either an email or phone number and a password");const{data:c,error:u}=l;if(u||!c)return{data:{user:null,session:null},error:u};const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(l){if(wn(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let i;if("email"in e){const{email:l,password:c,options:u}=e;i=await Nn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:QV})}else if("phone"in e){const{phone:l,password:c,options:u}=e;i=await Nn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:QV})}else throw new eD("You must provide either an email or phone number and a password");const{data:r,error:o}=i;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Cj}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(i){if(wn(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOAuth(e){var i,r,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const i=await nD(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(i??"").split("/");try{const{data:l,error:c}=await Nn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Cp});if(await iD(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new Cj}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:c})}catch(l){if(wn(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:i,provider:r,token:o,access_token:l,nonce:c}=e,u=await Nn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Cp}),{data:h,error:m}=u;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Cj}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:m})}catch(i){if(wn(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOtp(e){var i,r,o,l,c;try{if("email"in e){const{email:u,options:h}=e;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Ev(this.storage,this.storageKey));const{error:y}=await Nn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(i=h==null?void 0:h.data)!==null&&i!==void 0?i:{},create_user:(r=h==null?void 0:h.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},redirectTo:h==null?void 0:h.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in e){const{phone:u,options:h}=e,{data:m,error:g}=await Nn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(o=h==null?void 0:h.data)!==null&&o!==void 0?o:{},create_user:(l=h==null?void 0:h.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(c=h==null?void 0:h.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:g}}throw new eD("You must provide either an email or phone number.")}catch(u){if(wn(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var i,r;try{let o,l;"options"in e&&(o=(i=e.options)===null||i===void 0?void 0:i.redirectTo,l=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:c,error:u}=await Nn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:Cp});if(u)throw u;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,m=c.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(o){if(wn(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var i,r,o;try{let l=null,c=null;return this.flowType==="pkce"&&([l,c]=await Ev(this.storage,this.storageKey)),await Nn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(i=e.options)===null||i===void 0?void 0:i.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:Rpe})}catch(l){if(wn(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:i},error:r}=e;if(r)throw r;if(!i)throw new Tp;const{error:o}=await Nn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(wn(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const i=`${this.url}/resend`;if("email"in e){const{email:r,type:o,options:l}=e,{error:c}=await Nn(this.fetch,"POST",i,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:r,type:o,options:l}=e,{data:c,error:u}=await Nn(this.fetch,"POST",i,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new eD("You must provide either an email or phone number and a type")}catch(i){if(wn(i))return{data:{user:null,session:null},error:i};throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(e,i){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await i()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=i();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await e(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const i=await nD(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?e=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Tj:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let c=this.suppressGetSessionWarning;e=new Proxy(e,{get:(h,m,g)=>(!c&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,m,g))})}return{data:{session:e},error:null}}const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Nn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Fp}):await this._useSession(async i=>{var r,o,l;const{data:c,error:u}=i;if(u)throw u;return!(!((r=c.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Tp}:await Nn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:Fp})})}catch(i){if(wn(i))return lpe(i)&&(await this._removeSession(),await iD(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:i};throw i}}async updateUser(e,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,i))}async _updateUser(e,i={}){try{return await this._useSession(async r=>{const{data:o,error:l}=r;if(l)throw l;if(!o.session)throw new Tp;const c=o.session;let u=null,h=null;this.flowType==="pkce"&&e.email!=null&&([u,h]=await Ev(this.storage,this.storageKey));const{data:m,error:g}=await Nn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i==null?void 0:i.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:h}),jwt:c.access_token,xform:Fp});if(g)throw g;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(r){if(wn(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Tp;const i=Date.now()/1e3;let r=i,o=!0,l=null;const{payload:c}=Nj(e.access_token);if(c.exp&&(r=c.exp,o=r<=i),o){const{session:u,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!u)return{data:{user:null,session:null},error:null};l=u}else{const{data:u,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-i,expires_at:r},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(i){if(wn(i))return{data:{session:null,user:null},error:i};throw i}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async i=>{var r;if(!e){const{data:c,error:u}=i;if(u)throw u;e=(r=c.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Tp;const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(i){if(wn(i))return{data:{user:null,session:null},error:i};throw i}}async _getSessionFromURL(e,i){try{if(!ed())throw new tD("No browser detected.");if(e.error||e.error_description||e.error_code)throw new tD(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new GV("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new tD("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new GV("No code detected.");const{data:N,error:I}=await this._exchangeCodeForSession(e.code);if(I)throw I;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:l,refresh_token:c,expires_in:u,expires_at:h,token_type:m}=e;if(!l||!u||!c||!m)throw new tD("No session defined in URL");const g=Math.round(Date.now()/1e3),y=parseInt(u);let v=g+y;h&&(v=parseInt(h));const _=v-g;_*1e3<=Iv&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${y}s`);const A=v-y;g-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,v,g):g-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,v,g);const{data:S,error:T}=await this._getUser(l);if(T)throw T;const C={provider_token:r,provider_refresh_token:o,access_token:l,expires_in:y,expires_at:v,refresh_token:c,token_type:m,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:e.type},error:null}}catch(r){if(wn(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const i=await nD(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&i)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async i=>{var r;const{data:o,error:l}=i;if(l)return{error:l};const c=(r=o.session)===null||r===void 0?void 0:r.access_token;if(c){const{error:u}=await this.admin.signOut(c,e);if(u&&!(ape(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await iD(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const i=bpe(),r={id:i,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async i=>{var r,o;try{const{data:{session:l},error:c}=i;if(c)throw c;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,i={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await Ev(this.storage,this.storageKey,!0));try{return await Nn(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(l){if(wn(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:i,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=i.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(i){if(wn(i))return{data:null,error:i};throw i}}async linkIdentity(e){var i;try{const{data:r,error:o}=await this._useSession(async l=>{var c,u,h,m,g;const{data:y,error:v}=l;if(v)throw v;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Nn(this.fetch,"GET",_,{headers:this.headers,jwt:(g=(m=y.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0})});if(o)throw o;return ed()&&!(!((i=e.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(wn(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async i=>{var r,o;const{data:l,error:c}=i;if(c)throw c;return await Nn(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(i){if(wn(i))return{data:null,error:i};throw i}}async _refreshAccessToken(e){const i=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{const r=Date.now();return await xpe(async o=>(o>0&&await wpe(200*Math.pow(2,o-1)),this._debug(i,"refreshing attempt",o),await Nn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Cp})),(o,l)=>{const c=200*Math.pow(2,o);return l&&Dj(l)&&Date.now()+c-r<Iv})}catch(r){if(this._debug(i,"error",r),wn(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(i,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,i){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",i,"url",r),ed()&&!i.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const r=await nD(this.storage,this.storageKey);if(this._debug(i,"session from storage",r),!this._isValidSession(r)){this._debug(i,"session is not valid"),r!==null&&await this._removeSession();return}const o=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Tj;if(this._debug(i,`session has${o?"":" not"} expired with margin of ${Tj}s`),o){if(this.autoRefreshToken&&r.refresh_token){const{error:l}=await this._callRefreshToken(r.refresh_token);l&&(console.error(l),Dj(l)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(i,"error",r),console.error(r);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var i,r;if(!e)throw new Tp;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new k3;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new Tp;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const u={session:l.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(l){if(this._debug(o,"error",l),wn(l)){const c={session:null,error:l};return Dj(l)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(c),c}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,i,r=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",i,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:i});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,i)}catch(h){l.push(h)}});if(await Promise.all(c),l.length>0){for(let u=0;u<l.length;u+=1)console.error(l[u]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await aK(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await iD(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ed()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Iv);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async i=>{const{data:{session:r}}=i;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-e)/Iv);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Iv}ms, refresh threshold is ${_M} ticks`),o<=_M&&await this._callRefreshToken(r.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof lK)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ed()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const i=`#_onVisibilityChanged(${e})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,i,r){const o=[`provider=${encodeURIComponent(i)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[l,c]=await Ev(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(u.toString())}if(r!=null&&r.queryParams){const l=new URLSearchParams(r.queryParams);o.push(l.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async i=>{var r;const{data:o,error:l}=i;return l?{data:null,error:l}:await Nn(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(i){if(wn(i))return{data:null,error:i};throw i}}async _enroll(e){try{return await this._useSession(async i=>{var r,o;const{data:l,error:c}=i;if(c)return{data:null,error:c};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:h,error:m}=await Nn(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=l==null?void 0:l.session)===null||r===void 0?void 0:r.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&(!((o=h==null?void 0:h.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(i){if(wn(i))return{data:null,error:i};throw i}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;const{data:o,error:l}=i;if(l)return{data:null,error:l};const{data:c,error:u}=await Nn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:u})})}catch(i){if(wn(i))return{data:null,error:i};throw i}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;const{data:o,error:l}=i;return l?{data:null,error:l}:await Nn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(i){if(wn(i))return{data:null,error:i};throw i}})}async _challengeAndVerify(e){const{data:i,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:i.id,code:e.code})}async _listFactors(){const{data:{user:e},error:i}=await this.getUser();if(i)return{data:null,error:i};const r=(e==null?void 0:e.factors)||[],o=r.filter(c=>c.factor_type==="totp"&&c.status==="verified"),l=r.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:r,totp:o,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var i,r;const{data:{session:o},error:l}=e;if(l)return{data:null,error:l};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Nj(o.access_token);let u=null;c.aal&&(u=c.aal);let h=u;((r=(i=o.user.factors)===null||i===void 0?void 0:i.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(h="aal2");const g=c.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(e,i={keys:[]}){let r=i.keys.find(c=>c.kid===e);if(r||(r=this.jwks.keys.find(c=>c.kid===e),r&&this.jwks_cached_at+spe>Date.now()))return r;const{data:o,error:l}=await Nn(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;if(!o.keys||o.keys.length===0)throw new _2("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),r=o.keys.find(c=>c.kid===e),!r)throw new _2("No matching signing key found in JWKS");return r}async getClaims(e,i={keys:[]}){try{let r=e;if(!r){const{data:_,error:A}=await this.getSession();if(A||!_.session)return{data:null,error:A};r=_.session.access_token}const{header:o,payload:l,signature:c,raw:{header:u,payload:h}}=Nj(r);if(Cpe(l.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:l,header:o,signature:c},error:null}}const m=Dpe(o.alg),g=await this.fetchJwk(o.kid,i),y=await crypto.subtle.importKey("jwk",g,m,!0,["verify"]);if(!await crypto.subtle.verify(m,y,c,mpe(`${u}.${h}`)))throw new _2("Invalid JWT signature");return{data:{claims:l,header:o,signature:c},error:null}}catch(r){if(wn(r))return{data:null,error:r};throw r}}}Z2.nextInstanceID=0;const qpe=Z2;class Hpe extends qpe{constructor(e){super(e)}}var Gpe=function(n,e,i,r){function o(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function u(g){try{m(r.next(g))}catch(y){c(y)}}function h(g){try{m(r.throw(g))}catch(y){c(y)}}function m(g){g.done?l(g.value):o(g.value).then(u,h)}m((r=r.apply(n,e||[])).next())})};class Xpe{constructor(e,i,r){var o,l,c;if(this.supabaseUrl=e,this.supabaseKey=i,!e)throw new Error("supabaseUrl is required.");if(!i)throw new Error("supabaseKey is required.");const u=Qfe(e),h=new URL(u);this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const m=`sb-${h.hostname.split(".")[0]}-auth-token`,g={db:qfe,realtime:Gfe,auth:Object.assign(Object.assign({},Hfe),{storageKey:m}),global:$fe},y=epe(r??{},g);this.storageKey=(o=y.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=y.global.headers)!==null&&l!==void 0?l:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(v,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=y.auth)!==null&&c!==void 0?c:{},this.headers,y.global.fetch),this.fetch=Zfe(i,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new pfe(new URL("rest/v1",h).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),y.accessToken||this._listenForAuthEvents()}get functions(){return new $he(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new zfe(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,i={},r={}){return this.rest.rpc(e,i,r)}channel(e,i={config:{}}){return this.realtime.channel(e,i)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,i;return Gpe(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(i=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&i!==void 0?i:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:i,detectSessionInUrl:r,storage:o,storageKey:l,flowType:c,lock:u,debug:h},m,g){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Hpe({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),m),storageKey:l,autoRefreshToken:e,persistSession:i,detectSessionInUrl:r,storage:o,flowType:c,lock:u,debug:h,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Tfe(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,r)=>{this._handleTokenChanged(i,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,i,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ype=(n,e,i)=>new Xpe(n,e,i);console.log("Environment variables check:");console.log("NODE_ENV:","production");console.log("VITE_SUPABASE_URL exists:",!0);console.log("VITE_SUPABASE_ANON_KEY exists:",!0);console.log("VITE_SUPABASE_URL:","https://bbixvnkqroskholbxkgj.supabase.co");console.log("VITE_SUPABASE_ANON_KEY:","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU");const Kpe="https://bbixvnkqroskholbxkgj.supabase.co",Zpe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU",Re=Ype(Kpe,Zpe),zD=Object.freeze(Object.defineProperty({__proto__:null,supabase:Re},Symbol.toStringTag,{value:"Module"})),Y0="/accreda.github.io/assets/accreda-logo-rSXzK5SL.png",cK=G.createContext({});function Jpe(n){const e=G.useRef(null);return e.current===null&&(e.current=n()),e.current}const DF=typeof window<"u",Qpe=DF?G.useLayoutEffect:G.useEffect,NF=G.createContext(null);function PF(n,e){n.indexOf(e)===-1&&n.push(e)}function IF(n,e){const i=n.indexOf(e);i>-1&&n.splice(i,1)}const yf=(n,e,i)=>i>e?e:i<n?n:i;let jF=()=>{};const vf={},uK=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function dK(n){return typeof n=="object"&&n!==null}const hK=n=>/^0[^.\s]+$/u.test(n);function RF(n){let e;return()=>(e===void 0&&(e=n()),e)}const dc=n=>n,eme=(n,e)=>i=>e(n(i)),JS=(...n)=>n.reduce(eme),J2=(n,e,i)=>{const r=e-n;return r===0?1:(i-n)/r};class MF{constructor(){this.subscriptions=[]}add(e){return PF(this.subscriptions,e),()=>IF(this.subscriptions,e)}notify(e,i,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,i,r);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(e,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Sd=n=>n*1e3,Ad=n=>n/1e3;function fK(n,e){return e?n*(1e3/e):0}const pK=(n,e,i)=>(((1-3*i+3*e)*n+(3*i-6*e))*n+3*e)*n,tme=1e-7,nme=12;function ime(n,e,i,r,o){let l,c,u=0;do c=e+(i-e)/2,l=pK(c,r,o)-n,l>0?i=c:e=c;while(Math.abs(l)>tme&&++u<nme);return c}function QS(n,e,i,r){if(n===e&&i===r)return dc;const o=l=>ime(l,0,1,n,i);return l=>l===0||l===1?l:pK(o(l),e,r)}const mK=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,gK=n=>e=>1-n(1-e),bK=QS(.33,1.53,.69,.99),OF=gK(bK),yK=mK(OF),vK=n=>(n*=2)<1?.5*OF(n):.5*(2-Math.pow(2,-10*(n-1))),FF=n=>1-Math.sin(Math.acos(n)),wK=gK(FF),xK=mK(FF),rme=QS(.42,0,1,1),sme=QS(0,0,.58,1),_K=QS(.42,0,.58,1),ome=n=>Array.isArray(n)&&typeof n[0]!="number",kK=n=>Array.isArray(n)&&typeof n[0]=="number",ame={linear:dc,easeIn:rme,easeInOut:_K,easeOut:sme,circIn:FF,circInOut:xK,circOut:wK,backIn:OF,backInOut:yK,backOut:bK,anticipate:vK},lme=n=>typeof n=="string",nW=n=>{if(kK(n)){jF(n.length===4);const[e,i,r,o]=n;return QS(e,i,r,o)}else if(lme(n))return ame[n];return n},rD=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],iW={value:null};function cme(n,e){let i=new Set,r=new Set,o=!1,l=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},h=0;function m(y){c.has(y)&&(g.schedule(y),n()),h++,y(u)}const g={schedule:(y,v=!1,_=!1)=>{const S=_&&o?i:r;return v&&c.add(y),S.has(y)||S.add(y),y},cancel:y=>{r.delete(y),c.delete(y)},process:y=>{if(u=y,o){l=!0;return}o=!0,[i,r]=[r,i],i.forEach(m),e&&iW.value&&iW.value.frameloop[e].push(h),h=0,i.clear(),o=!1,l&&(l=!1,g.process(y))}};return g}const ume=40;function EK(n,e){let i=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>i=!0,c=rD.reduce((I,O)=>(I[O]=cme(l,e?O:void 0),I),{}),{setup:u,read:h,resolveKeyframes:m,preUpdate:g,update:y,preRender:v,render:_,postRender:A}=c,S=()=>{const I=vf.useManualTiming?o.timestamp:performance.now();i=!1,vf.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(I-o.timestamp,ume),1)),o.timestamp=I,o.isProcessing=!0,u.process(o),h.process(o),m.process(o),g.process(o),y.process(o),v.process(o),_.process(o),A.process(o),o.isProcessing=!1,i&&e&&(r=!1,n(S))},T=()=>{i=!0,r=!0,o.isProcessing||n(S)};return{schedule:rD.reduce((I,O)=>{const F=c[O];return I[O]=(L,z=!1,B=!1)=>(i||T(),F.schedule(L,z,B)),I},{}),cancel:I=>{for(let O=0;O<rD.length;O++)c[rD[O]].cancel(I)},state:o,steps:c}}const{schedule:ir,cancel:Lm,state:Os,steps:Pj}=EK(typeof requestAnimationFrame<"u"?requestAnimationFrame:dc,!0);let VD;function dme(){VD=void 0}const xa={now:()=>(VD===void 0&&xa.set(Os.isProcessing||vf.useManualTiming?Os.timestamp:performance.now()),VD),set:n=>{VD=n,queueMicrotask(dme)}},SK=n=>e=>typeof e=="string"&&e.startsWith(n),LF=SK("--"),hme=SK("var(--"),UF=n=>hme(n)?fme.test(n.split("/*")[0].trim()):!1,fme=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ix={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Q2={...ix,transform:n=>yf(0,1,n)},sD={...ix,default:1},E2=n=>Math.round(n*1e5)/1e5,BF=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function pme(n){return n==null}const mme=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,zF=(n,e)=>i=>!!(typeof i=="string"&&mme.test(i)&&i.startsWith(n)||e&&!pme(i)&&Object.prototype.hasOwnProperty.call(i,e)),AK=(n,e,i)=>r=>{if(typeof r!="string")return r;const[o,l,c,u]=r.match(BF);return{[n]:parseFloat(o),[e]:parseFloat(l),[i]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},gme=n=>yf(0,255,n),Ij={...ix,transform:n=>Math.round(gme(n))},gb={test:zF("rgb","red"),parse:AK("red","green","blue"),transform:({red:n,green:e,blue:i,alpha:r=1})=>"rgba("+Ij.transform(n)+", "+Ij.transform(e)+", "+Ij.transform(i)+", "+E2(Q2.transform(r))+")"};function bme(n){let e="",i="",r="",o="";return n.length>5?(e=n.substring(1,3),i=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(e=n.substring(1,2),i=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),e+=e,i+=i,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const SM={test:zF("#"),parse:bme,transform:gb.transform},eA=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Dp=eA("deg"),Td=eA("%"),un=eA("px"),yme=eA("vh"),vme=eA("vw"),rW={...Td,parse:n=>Td.parse(n)/100,transform:n=>Td.transform(n*100)},Qv={test:zF("hsl","hue"),parse:AK("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:i,alpha:r=1})=>"hsla("+Math.round(n)+", "+Td.transform(E2(e))+", "+Td.transform(E2(i))+", "+E2(Q2.transform(r))+")"},co={test:n=>gb.test(n)||SM.test(n)||Qv.test(n),parse:n=>gb.test(n)?gb.parse(n):Qv.test(n)?Qv.parse(n):SM.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?gb.transform(n):Qv.transform(n)},wme=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function xme(n){var e,i;return isNaN(n)&&typeof n=="string"&&(((e=n.match(BF))==null?void 0:e.length)||0)+(((i=n.match(wme))==null?void 0:i.length)||0)>0}const TK="number",CK="color",_me="var",kme="var(",sW="${}",Eme=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function eE(n){const e=n.toString(),i=[],r={color:[],number:[],var:[]},o=[];let l=0;const u=e.replace(Eme,h=>(co.test(h)?(r.color.push(l),o.push(CK),i.push(co.parse(h))):h.startsWith(kme)?(r.var.push(l),o.push(_me),i.push(h)):(r.number.push(l),o.push(TK),i.push(parseFloat(h))),++l,sW)).split(sW);return{values:i,split:u,indexes:r,types:o}}function DK(n){return eE(n).values}function NK(n){const{split:e,types:i}=eE(n),r=e.length;return o=>{let l="";for(let c=0;c<r;c++)if(l+=e[c],o[c]!==void 0){const u=i[c];u===TK?l+=E2(o[c]):u===CK?l+=co.transform(o[c]):l+=o[c]}return l}}const Sme=n=>typeof n=="number"?0:n;function Ame(n){const e=DK(n);return NK(n)(e.map(Sme))}const Um={test:xme,parse:DK,createTransformer:NK,getAnimatableNone:Ame};function jj(n,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?n+(e-n)*6*i:i<1/2?e:i<2/3?n+(e-n)*(2/3-i)*6:n}function Tme({hue:n,saturation:e,lightness:i,alpha:r}){n/=360,e/=100,i/=100;let o=0,l=0,c=0;if(!e)o=l=c=i;else{const u=i<.5?i*(1+e):i+e-i*e,h=2*i-u;o=jj(h,u,n+1/3),l=jj(h,u,n),c=jj(h,u,n-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function t5(n,e){return i=>i>0?e:n}const er=(n,e,i)=>n+(e-n)*i,Rj=(n,e,i)=>{const r=n*n,o=i*(e*e-r)+r;return o<0?0:Math.sqrt(o)},Cme=[SM,gb,Qv],Dme=n=>Cme.find(e=>e.test(n));function oW(n){const e=Dme(n);if(!e)return!1;let i=e.parse(n);return e===Qv&&(i=Tme(i)),i}const aW=(n,e)=>{const i=oW(n),r=oW(e);if(!i||!r)return t5(n,e);const o={...i};return l=>(o.red=Rj(i.red,r.red,l),o.green=Rj(i.green,r.green,l),o.blue=Rj(i.blue,r.blue,l),o.alpha=er(i.alpha,r.alpha,l),gb.transform(o))},AM=new Set(["none","hidden"]);function Nme(n,e){return AM.has(n)?i=>i<=0?n:e:i=>i>=1?e:n}function Pme(n,e){return i=>er(n,e,i)}function VF(n){return typeof n=="number"?Pme:typeof n=="string"?UF(n)?t5:co.test(n)?aW:Rme:Array.isArray(n)?PK:typeof n=="object"?co.test(n)?aW:Ime:t5}function PK(n,e){const i=[...n],r=i.length,o=n.map((l,c)=>VF(l)(l,e[c]));return l=>{for(let c=0;c<r;c++)i[c]=o[c](l);return i}}function Ime(n,e){const i={...n,...e},r={};for(const o in i)n[o]!==void 0&&e[o]!==void 0&&(r[o]=VF(n[o])(n[o],e[o]));return o=>{for(const l in r)i[l]=r[l](o);return i}}function jme(n,e){const i=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],c=n.indexes[l][r[l]],u=n.values[c]??0;i[o]=u,r[l]++}return i}const Rme=(n,e)=>{const i=Um.createTransformer(e),r=eE(n),o=eE(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?AM.has(n)&&!o.values.length||AM.has(e)&&!r.values.length?Nme(n,e):JS(PK(jme(r,o),o.values),i):t5(n,e)};function IK(n,e,i){return typeof n=="number"&&typeof e=="number"&&typeof i=="number"?er(n,e,i):VF(n)(n,e)}const Mme=n=>{const e=({timestamp:i})=>n(i);return{start:(i=!0)=>ir.update(e,i),stop:()=>Lm(e),now:()=>Os.isProcessing?Os.timestamp:xa.now()}},jK=(n,e,i=10)=>{let r="";const o=Math.max(Math.round(e/i),2);for(let l=0;l<o;l++)r+=n(l/(o-1))+", ";return`linear(${r.substring(0,r.length-2)})`},n5=2e4;function WF(n){let e=0;const i=50;let r=n.next(e);for(;!r.done&&e<n5;)e+=i,r=n.next(e);return e>=n5?1/0:e}function Ome(n,e=100,i){const r=i({...n,keyframes:[0,e]}),o=Math.min(WF(r),n5);return{type:"keyframes",ease:l=>r.next(o*l).value/e,duration:Ad(o)}}const Fme=5;function RK(n,e,i){const r=Math.max(e-Fme,0);return fK(i-n(r),e-r)}const hr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},lW=.001;function Lme({duration:n=hr.duration,bounce:e=hr.bounce,velocity:i=hr.velocity,mass:r=hr.mass}){let o,l,c=1-e;c=yf(hr.minDamping,hr.maxDamping,c),n=yf(hr.minDuration,hr.maxDuration,Ad(n)),c<1?(o=m=>{const g=m*c,y=g*n,v=g-i,_=TM(m,c),A=Math.exp(-y);return lW-v/_*A},l=m=>{const y=m*c*n,v=y*i+i,_=Math.pow(c,2)*Math.pow(m,2)*n,A=Math.exp(-y),S=TM(Math.pow(m,2),c);return(-o(m)+lW>0?-1:1)*((v-_)*A)/S}):(o=m=>{const g=Math.exp(-m*n),y=(m-i)*n+1;return-.001+g*y},l=m=>{const g=Math.exp(-m*n),y=(i-m)*(n*n);return g*y});const u=5/n,h=Bme(o,l,u);if(n=Sd(n),isNaN(h))return{stiffness:hr.stiffness,damping:hr.damping,duration:n};{const m=Math.pow(h,2)*r;return{stiffness:m,damping:c*2*Math.sqrt(r*m),duration:n}}}const Ume=12;function Bme(n,e,i){let r=i;for(let o=1;o<Ume;o++)r=r-n(r)/e(r);return r}function TM(n,e){return n*Math.sqrt(1-e*e)}const zme=["duration","bounce"],Vme=["stiffness","damping","mass"];function cW(n,e){return e.some(i=>n[i]!==void 0)}function Wme(n){let e={velocity:hr.velocity,stiffness:hr.stiffness,damping:hr.damping,mass:hr.mass,isResolvedFromDuration:!1,...n};if(!cW(n,Vme)&&cW(n,zme))if(n.visualDuration){const i=n.visualDuration,r=2*Math.PI/(i*1.2),o=r*r,l=2*yf(.05,1,1-(n.bounce||0))*Math.sqrt(o);e={...e,mass:hr.mass,stiffness:o,damping:l}}else{const i=Lme(n);e={...e,...i,mass:hr.mass},e.isResolvedFromDuration=!0}return e}function i5(n=hr.visualDuration,e=hr.bounce){const i=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:o}=i;const l=i.keyframes[0],c=i.keyframes[i.keyframes.length-1],u={done:!1,value:l},{stiffness:h,damping:m,mass:g,duration:y,velocity:v,isResolvedFromDuration:_}=Wme({...i,velocity:-Ad(i.velocity||0)}),A=v||0,S=m/(2*Math.sqrt(h*g)),T=c-l,C=Ad(Math.sqrt(h/g)),N=Math.abs(T)<5;r||(r=N?hr.restSpeed.granular:hr.restSpeed.default),o||(o=N?hr.restDelta.granular:hr.restDelta.default);let I;if(S<1){const F=TM(C,S);I=L=>{const z=Math.exp(-S*C*L);return c-z*((A+S*C*T)/F*Math.sin(F*L)+T*Math.cos(F*L))}}else if(S===1)I=F=>c-Math.exp(-C*F)*(T+(A+C*T)*F);else{const F=C*Math.sqrt(S*S-1);I=L=>{const z=Math.exp(-S*C*L),B=Math.min(F*L,300);return c-z*((A+S*C*T)*Math.sinh(B)+F*T*Math.cosh(B))/F}}const O={calculatedDuration:_&&y||null,next:F=>{const L=I(F);if(_)u.done=F>=y;else{let z=F===0?A:0;S<1&&(z=F===0?Sd(A):RK(I,F,L));const B=Math.abs(z)<=r,Y=Math.abs(c-L)<=o;u.done=B&&Y}return u.value=u.done?c:L,u},toString:()=>{const F=Math.min(WF(O),n5),L=jK(z=>O.next(F*z).value,F,30);return F+"ms "+L},toTransition:()=>{}};return O}i5.applyToOptions=n=>{const e=Ome(n,100,i5);return n.ease=e.ease,n.duration=Sd(e.duration),n.type="keyframes",n};function CM({keyframes:n,velocity:e=0,power:i=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:u,max:h,restDelta:m=.5,restSpeed:g}){const y=n[0],v={done:!1,value:y},_=B=>u!==void 0&&B<u||h!==void 0&&B>h,A=B=>u===void 0?h:h===void 0||Math.abs(u-B)<Math.abs(h-B)?u:h;let S=i*e;const T=y+S,C=c===void 0?T:c(T);C!==T&&(S=C-y);const N=B=>-S*Math.exp(-B/r),I=B=>C+N(B),O=B=>{const Y=N(B),se=I(B);v.done=Math.abs(Y)<=m,v.value=v.done?C:se};let F,L;const z=B=>{_(v.value)&&(F=B,L=i5({keyframes:[v.value,A(v.value)],velocity:RK(I,B,v.value),damping:o,stiffness:l,restDelta:m,restSpeed:g}))};return z(0),{calculatedDuration:null,next:B=>{let Y=!1;return!L&&F===void 0&&(Y=!0,O(B),z(B)),F!==void 0&&B>=F?L.next(B-F):(!Y&&O(B),v)}}}function $me(n,e,i){const r=[],o=i||vf.mix||IK,l=n.length-1;for(let c=0;c<l;c++){let u=o(n[c],n[c+1]);if(e){const h=Array.isArray(e)?e[c]||dc:e;u=JS(h,u)}r.push(u)}return r}function qme(n,e,{clamp:i=!0,ease:r,mixer:o}={}){const l=n.length;if(jF(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=$me(e,r,o),h=u.length,m=g=>{if(c&&g<n[0])return e[0];let y=0;if(h>1)for(;y<n.length-2&&!(g<n[y+1]);y++);const v=J2(n[y],n[y+1],g);return u[y](v)};return i?g=>m(yf(n[0],n[l-1],g)):m}function Hme(n,e){const i=n[n.length-1];for(let r=1;r<=e;r++){const o=J2(0,e,r);n.push(er(i,1,o))}}function Gme(n){const e=[0];return Hme(e,n.length-1),e}function Xme(n,e){return n.map(i=>i*e)}function Yme(n,e){return n.map(()=>e||_K).splice(0,n.length-1)}function S2({duration:n=300,keyframes:e,times:i,ease:r="easeInOut"}){const o=ome(r)?r.map(nW):nW(r),l={done:!1,value:e[0]},c=Xme(i&&i.length===e.length?i:Gme(e),n),u=qme(c,e,{ease:Array.isArray(o)?o:Yme(e,o)});return{calculatedDuration:n,next:h=>(l.value=u(h),l.done=h>=n,l)}}const Kme=n=>n!==null;function $F(n,{repeat:e,repeatType:i="loop"},r,o=1){const l=n.filter(Kme),u=o<0||e&&i!=="loop"&&e%2===1?0:l.length-1;return!u||r===void 0?l[u]:r}const Zme={decay:CM,inertia:CM,tween:S2,keyframes:S2,spring:i5};function MK(n){typeof n.type=="string"&&(n.type=Zme[n.type])}class qF{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,i){return this.finished.then(e,i)}}const Jme=n=>n/100;class HF extends qF{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,o;const{motionValue:i}=this.options;i&&i.updatedAt!==xa.now()&&this.tick(xa.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(r=this.options).onStop)==null||o.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;MK(e);const{type:i=S2,repeat:r=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=e;let{keyframes:u}=e;const h=i||S2;h!==S2&&typeof u[0]!="number"&&(this.mixKeyframes=JS(Jme,IK(u[0],u[1])),u=[0,100]);const m=h({...e,keyframes:u});l==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...u].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=WF(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=m}updateTime(e){const i=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(e,i=!1){const{generator:r,totalDuration:o,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:g,repeat:y,repeatType:v,repeatDelay:_,type:A,onUpdate:S,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),i?this.currentTime=e:this.updateTime(e);const C=this.currentTime-m*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?C<0:C>o;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let I=this.currentTime,O=r;if(y){const B=Math.min(this.currentTime,o)/u;let Y=Math.floor(B),se=B%1;!se&&B>=1&&(se=1),se===1&&Y--,Y=Math.min(Y,y+1),!!(Y%2)&&(v==="reverse"?(se=1-se,_&&(se-=_/u)):v==="mirror"&&(O=c)),I=yf(0,1,se)*u}const F=N?{done:!1,value:g[0]}:O.next(I);l&&(F.value=l(F.value));let{done:L}=F;!N&&h!==null&&(L=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return z&&A!==CM&&(F.value=$F(g,this.options,T,this.speed)),S&&S(F.value),z&&this.finish(),F}then(e,i){return this.finished.then(e,i)}get duration(){return Ad(this.calculatedDuration)}get time(){return Ad(this.currentTime)}set time(e){var i;e=Sd(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(i=this.driver)==null||i.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(xa.now());const i=this.playbackSpeed!==e;this.playbackSpeed=e,i&&(this.time=Ad(this.currentTime))}play(){var o,l;if(this.isStopped)return;const{driver:e=Mme,startTime:i}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(l=(o=this.options).onPlay)==null||l.call(o);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=i??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(xa.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,i;this.notifyFinished(),this.teardown(),this.state="finished",(i=(e=this.options).onComplete)==null||i.call(e)}cancel(){var e,i;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(i=(e=this.options).onCancel)==null||i.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var i;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(i=this.driver)==null||i.stop(),e.observe(this)}}function Qme(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const bb=n=>n*180/Math.PI,DM=n=>{const e=bb(Math.atan2(n[1],n[0]));return NM(e)},ege={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:DM,rotateZ:DM,skewX:n=>bb(Math.atan(n[1])),skewY:n=>bb(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},NM=n=>(n=n%360,n<0&&(n+=360),n),uW=DM,dW=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),hW=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),tge={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:dW,scaleY:hW,scale:n=>(dW(n)+hW(n))/2,rotateX:n=>NM(bb(Math.atan2(n[6],n[5]))),rotateY:n=>NM(bb(Math.atan2(-n[2],n[0]))),rotateZ:uW,rotate:uW,skewX:n=>bb(Math.atan(n[4])),skewY:n=>bb(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function PM(n){return n.includes("scale")?1:0}function IM(n,e){if(!n||n==="none")return PM(e);const i=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(i)r=tge,o=i;else{const u=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=ege,o=u}if(!o)return PM(e);const l=r[e],c=o[1].split(",").map(ige);return typeof l=="function"?l(c):c[l]}const nge=(n,e)=>{const{transform:i="none"}=getComputedStyle(n);return IM(i,e)};function ige(n){return parseFloat(n.trim())}const rx=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],sx=new Set(rx),fW=n=>n===ix||n===un,rge=new Set(["x","y","z"]),sge=rx.filter(n=>!rge.has(n));function oge(n){const e=[];return sge.forEach(i=>{const r=n.getValue(i);r!==void 0&&(e.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),e}const A0={width:({x:n},{paddingLeft:e="0",paddingRight:i="0"})=>n.max-n.min-parseFloat(e)-parseFloat(i),height:({y:n},{paddingTop:e="0",paddingBottom:i="0"})=>n.max-n.min-parseFloat(e)-parseFloat(i),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>IM(e,"x"),y:(n,{transform:e})=>IM(e,"y")};A0.translateX=A0.x;A0.translateY=A0.y;const T0=new Set;let jM=!1,RM=!1,MM=!1;function OK(){if(RM){const n=Array.from(T0).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),i=new Map;e.forEach(r=>{const o=oge(r);o.length&&(i.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=i.get(r);o&&o.forEach(([l,c])=>{var u;(u=r.getValue(l))==null||u.set(c)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}RM=!1,jM=!1,T0.forEach(n=>n.complete(MM)),T0.clear()}function FK(){T0.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(RM=!0)})}function age(){MM=!0,FK(),OK(),MM=!1}class GF{constructor(e,i,r,o,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=i,this.name=r,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(T0.add(this),jM||(jM=!0,ir.read(FK),ir.resolveKeyframes(OK))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:i,element:r,motionValue:o}=this;if(e[0]===null){const l=o==null?void 0:o.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&i){const u=r.readValue(i,c);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=c),o&&l===void 0&&o.set(e[0])}Qme(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),T0.delete(this)}cancel(){this.state==="scheduled"&&(T0.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const lge=n=>n.startsWith("--");function cge(n,e,i){lge(e)?n.style.setProperty(e,i):n.style[e]=i}const uge=RF(()=>window.ScrollTimeline!==void 0),dge={};function hge(n,e){const i=RF(n);return()=>dge[e]??i()}const LK=hge(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Gk=([n,e,i,r])=>`cubic-bezier(${n}, ${e}, ${i}, ${r})`,pW={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gk([0,.65,.55,1]),circOut:Gk([.55,0,1,.45]),backIn:Gk([.31,.01,.66,-.59]),backOut:Gk([.33,1.53,.69,.99])};function UK(n,e){if(n)return typeof n=="function"?LK()?jK(n,e):"ease-out":kK(n)?Gk(n):Array.isArray(n)?n.map(i=>UK(i,e)||pW.easeOut):pW[n]}function fge(n,e,i,{delay:r=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:u="easeOut",times:h}={},m=void 0){const g={[e]:i};h&&(g.offset=h);const y=UK(u,o);Array.isArray(y)&&(g.easing=y);const v={delay:r,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(v.pseudoElement=m),n.animate(g,v)}function BK(n){return typeof n=="function"&&"applyToOptions"in n}function pge({type:n,...e}){return BK(n)&&LK()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class mge extends qF{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:i,name:r,keyframes:o,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:u,onComplete:h}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,jF(typeof e.type!="string");const m=pge(e);this.animation=fge(i,r,o,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=$F(o,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(g):cge(i,r,g),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,i;(i=(e=this.animation).finish)==null||i.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,i;this.isPseudoElement||(i=(e=this.animation).commitStyles)==null||i.call(e)}get duration(){var i,r;const e=((r=(i=this.animation.effect)==null?void 0:i.getComputedTiming)==null?void 0:r.call(i).duration)||0;return Ad(Number(e))}get time(){return Ad(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Sd(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:i}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&uge()?(this.animation.timeline=e,dc):i(this)}}const zK={anticipate:vK,backInOut:yK,circInOut:xK};function gge(n){return n in zK}function bge(n){typeof n.ease=="string"&&gge(n.ease)&&(n.ease=zK[n.ease])}const mW=10;class yge extends mge{constructor(e){bge(e),MK(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:i,onUpdate:r,onComplete:o,element:l,...c}=this.options;if(!i)return;if(e!==void 0){i.set(e);return}const u=new HF({...c,autoplay:!1}),h=Sd(this.finishedTime??this.time);i.setWithVelocity(u.sample(h-mW).value,u.sample(h).value,mW),u.stop()}}const gW=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Um.test(n)||n==="0")&&!n.startsWith("url("));function vge(n){const e=n[0];if(n.length===1)return!0;for(let i=0;i<n.length;i++)if(n[i]!==e)return!0}function wge(n,e,i,r){const o=n[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=n[n.length-1],c=gW(o,e),u=gW(l,e);return!c||!u?!1:vge(n)||(i==="spring"||BK(i))&&r}function VK(n){return dK(n)&&"offsetHeight"in n}const xge=new Set(["opacity","clipPath","filter","transform"]),_ge=RF(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function kge(n){var m;const{motionValue:e,name:i,repeatDelay:r,repeatType:o,damping:l,type:c}=n;if(!VK((m=e==null?void 0:e.owner)==null?void 0:m.current))return!1;const{onUpdate:u,transformTemplate:h}=e.owner.getProps();return _ge()&&i&&xge.has(i)&&(i!=="transform"||!h)&&!u&&!r&&o!=="mirror"&&l!==0&&c!=="inertia"}const Ege=40;class Sge extends qF{constructor({autoplay:e=!0,delay:i=0,type:r="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",keyframes:u,name:h,motionValue:m,element:g,...y}){var A;super(),this.stop=()=>{var S,T;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(T=this.keyframeResolver)==null||T.cancel()},this.createdAt=xa.now();const v={autoplay:e,delay:i,type:r,repeat:o,repeatDelay:l,repeatType:c,name:h,motionValue:m,element:g,...y},_=(g==null?void 0:g.KeyframeResolver)||GF;this.keyframeResolver=new _(u,(S,T,C)=>this.onKeyframesResolved(S,T,v,!C),h,m,g),(A=this.keyframeResolver)==null||A.scheduleResolve()}onKeyframesResolved(e,i,r,o){this.keyframeResolver=void 0;const{name:l,type:c,velocity:u,delay:h,isHandoff:m,onUpdate:g}=r;this.resolvedAt=xa.now(),wge(e,l,c,u)||((vf.instantAnimations||!h)&&(g==null||g($F(e,r,i))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const v={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>Ege?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...r,keyframes:e},_=!m&&kge(v)?new yge({...v,element:v.motionValue.owner.current}):new HF(v);_.finished.then(()=>this.notifyFinished()).catch(dc),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,i){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),age()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Age=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Tge(n){const e=Age.exec(n);if(!e)return[,];const[,i,r,o]=e;return[`--${i??r}`,o]}function WK(n,e,i=1){const[r,o]=Tge(n);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const c=l.trim();return uK(c)?parseFloat(c):c}return UF(o)?WK(o,e,i+1):o}function XF(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const $K=new Set(["width","height","top","left","right","bottom",...rx]),Cge={test:n=>n==="auto",parse:n=>n},qK=n=>e=>e.test(n),HK=[ix,un,Td,Dp,vme,yme,Cge],bW=n=>HK.find(qK(n));function Dge(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||hK(n):!0}const Nge=new Set(["brightness","contrast","saturate","opacity"]);function Pge(n){const[e,i]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=i.match(BF)||[];if(!r)return n;const o=i.replace(r,"");let l=Nge.has(e)?1:0;return r!==i&&(l*=100),e+"("+l+o+")"}const Ige=/\b([a-z-]*)\(.*?\)/gu,OM={...Um,getAnimatableNone:n=>{const e=n.match(Ige);return e?e.map(Pge).join(" "):n}},yW={...ix,transform:Math.round},jge={rotate:Dp,rotateX:Dp,rotateY:Dp,rotateZ:Dp,scale:sD,scaleX:sD,scaleY:sD,scaleZ:sD,skew:Dp,skewX:Dp,skewY:Dp,distance:un,translateX:un,translateY:un,translateZ:un,x:un,y:un,z:un,perspective:un,transformPerspective:un,opacity:Q2,originX:rW,originY:rW,originZ:un},YF={borderWidth:un,borderTopWidth:un,borderRightWidth:un,borderBottomWidth:un,borderLeftWidth:un,borderRadius:un,radius:un,borderTopLeftRadius:un,borderTopRightRadius:un,borderBottomRightRadius:un,borderBottomLeftRadius:un,width:un,maxWidth:un,height:un,maxHeight:un,top:un,right:un,bottom:un,left:un,padding:un,paddingTop:un,paddingRight:un,paddingBottom:un,paddingLeft:un,margin:un,marginTop:un,marginRight:un,marginBottom:un,marginLeft:un,backgroundPositionX:un,backgroundPositionY:un,...jge,zIndex:yW,fillOpacity:Q2,strokeOpacity:Q2,numOctaves:yW},Rge={...YF,color:co,backgroundColor:co,outlineColor:co,fill:co,stroke:co,borderColor:co,borderTopColor:co,borderRightColor:co,borderBottomColor:co,borderLeftColor:co,filter:OM,WebkitFilter:OM},GK=n=>Rge[n];function XK(n,e){let i=GK(n);return i!==OM&&(i=Um),i.getAnimatableNone?i.getAnimatableNone(e):void 0}const Mge=new Set(["auto","none","0"]);function Oge(n,e,i){let r=0,o;for(;r<n.length&&!o;){const l=n[r];typeof l=="string"&&!Mge.has(l)&&eE(l).values.length&&(o=n[r]),r++}if(o&&i)for(const l of e)n[l]=XK(i,o)}class Fge extends GF{constructor(e,i,r,o,l){super(e,i,r,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let m=e[h];if(typeof m=="string"&&(m=m.trim(),UF(m))){const g=WK(m,i.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!$K.has(r)||e.length!==2)return;const[o,l]=e,c=bW(o),u=bW(l);if(c!==u)if(fW(c)&&fW(u))for(let h=0;h<e.length;h++){const m=e[h];typeof m=="string"&&(e[h]=parseFloat(m))}else A0[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:i}=this,r=[];for(let o=0;o<e.length;o++)(e[o]===null||Dge(e[o]))&&r.push(o);r.length&&Oge(e,r,i)}measureInitialState(){const{element:e,unresolvedKeyframes:i,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=A0[r](e.measureViewportBox(),window.getComputedStyle(e.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){var u;const{element:e,name:i,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const o=e.getValue(i);o&&o.jump(this.measuredOrigin,!1);const l=r.length-1,c=r[l];r[l]=A0[i](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([h,m])=>{e.getValue(h).set(m)}),this.resolveNoneKeyframes()}}function Lge(n,e,i){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=(i==null?void 0:i[n])??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const YK=(n,e)=>e&&typeof n=="number"?e.transform(n):n,vW=30,Uge=n=>!isNaN(parseFloat(n));class Bge{constructor(e,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{var c,u;const l=xa.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty();o&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=i.owner}setCurrent(e){this.current=e,this.updatedAt=xa.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Uge(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,i){this.events[e]||(this.events[e]=new MF);const r=this.events[e].add(i);return e==="change"?()=>{r(),ir.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,i){this.passiveEffect=e,this.stopPassiveEffect=i}set(e,i=!0){!i||!this.passiveEffect?this.updateAndNotify(e,i):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,i=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=xa.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>vW)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,vW);return fK(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(e){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=e(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,i;(e=this.dependents)==null||e.clear(),(i=this.events.destroy)==null||i.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function L1(n,e){return new Bge(n,e)}const{schedule:KF}=EK(queueMicrotask,!1),Uc={x:!1,y:!1};function KK(){return Uc.x||Uc.y}function zge(n){return n==="x"||n==="y"?Uc[n]?null:(Uc[n]=!0,()=>{Uc[n]=!1}):Uc.x||Uc.y?null:(Uc.x=Uc.y=!0,()=>{Uc.x=Uc.y=!1})}function ZK(n,e){const i=Lge(n),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[i,o,()=>r.abort()]}function wW(n){return!(n.pointerType==="touch"||KK())}function Vge(n,e,i={}){const[r,o,l]=ZK(n,i),c=u=>{if(!wW(u))return;const{target:h}=u,m=e(h,u);if(typeof m!="function"||!h)return;const g=y=>{wW(y)&&(m(y),h.removeEventListener("pointerleave",g))};h.addEventListener("pointerleave",g,o)};return r.forEach(u=>{u.addEventListener("pointerenter",c,o)}),l}const JK=(n,e)=>e?n===e?!0:JK(n,e.parentElement):!1,ZF=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,Wge=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $ge(n){return Wge.has(n.tagName)||n.tabIndex!==-1}const WD=new WeakSet;function xW(n){return e=>{e.key==="Enter"&&n(e)}}function Mj(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const qge=(n,e)=>{const i=n.currentTarget;if(!i)return;const r=xW(()=>{if(WD.has(i))return;Mj(i,"down");const o=xW(()=>{Mj(i,"up")}),l=()=>Mj(i,"cancel");i.addEventListener("keyup",o,e),i.addEventListener("blur",l,e)});i.addEventListener("keydown",r,e),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),e)};function _W(n){return ZF(n)&&!KK()}function Hge(n,e,i={}){const[r,o,l]=ZK(n,i),c=u=>{const h=u.currentTarget;if(!_W(u))return;WD.add(h);const m=e(h,u),g=(_,A)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",v),WD.has(h)&&WD.delete(h),_W(_)&&typeof m=="function"&&m(_,{success:A})},y=_=>{g(_,h===window||h===document||i.useGlobalTarget||JK(h,_.target))},v=_=>{g(_,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",v,o)};return r.forEach(u=>{(i.useGlobalTarget?window:u).addEventListener("pointerdown",c,o),VK(u)&&(u.addEventListener("focus",m=>qge(m,o)),!$ge(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),l}function QK(n){return dK(n)&&"ownerSVGElement"in n}function Gge(n){return QK(n)&&n.tagName==="svg"}const ho=n=>!!(n&&n.getVelocity),Xge=[...HK,co,Um],Yge=n=>Xge.find(qK(n)),eZ=G.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function Kge(n=!0){const e=G.useContext(NF);if(e===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=e,l=G.useId();G.useEffect(()=>{if(n)return o(l)},[n]);const c=G.useCallback(()=>n&&r&&r(l),[l,r,n]);return!i&&r?[!1,c]:[!0]}const tZ=G.createContext({strict:!1}),kW={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},U1={};for(const n in kW)U1[n]={isEnabled:e=>kW[n].some(i=>!!e[i])};function Zge(n){for(const e in n)U1[e]={...U1[e],...n[e]}}const Jge=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function r5(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||Jge.has(n)}let nZ=n=>!r5(n);function Qge(n){n&&(nZ=e=>e.startsWith("on")?!r5(e):n(e))}try{Qge(require("@emotion/is-prop-valid").default)}catch{}function ebe(n,e,i){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(nZ(o)||i===!0&&r5(o)||!e&&!r5(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}function tbe(n){if(typeof Proxy>"u")return n;const e=new Map,i=(...r)=>n(...r);return new Proxy(i,{get:(r,o)=>o==="create"?n:(e.has(o)||e.set(o,n(o)),e.get(o))})}const E3=G.createContext({});function S3(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function tE(n){return typeof n=="string"||Array.isArray(n)}const JF=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],QF=["initial",...JF];function A3(n){return S3(n.animate)||QF.some(e=>tE(n[e]))}function iZ(n){return!!(A3(n)||n.variants)}function nbe(n,e){if(A3(n)){const{initial:i,animate:r}=n;return{initial:i===!1||tE(i)?i:void 0,animate:tE(r)?r:void 0}}return n.inherit!==!1?e:{}}function ibe(n){const{initial:e,animate:i}=nbe(n,G.useContext(E3));return G.useMemo(()=>({initial:e,animate:i}),[EW(e),EW(i)])}function EW(n){return Array.isArray(n)?n.join(" "):n}const rbe=Symbol.for("motionComponentSymbol");function ew(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function sbe(n,e,i){return G.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),i&&(typeof i=="function"?i(r):ew(i)&&(i.current=r))},[e])}const e8=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),obe="framerAppearId",rZ="data-"+e8(obe),sZ=G.createContext({});function abe(n,e,i,r,o){var S,T;const{visualElement:l}=G.useContext(E3),c=G.useContext(tZ),u=G.useContext(NF),h=G.useContext(eZ).reducedMotion,m=G.useRef(null);r=r||c.renderer,!m.current&&r&&(m.current=r(n,{visualState:e,parent:l,props:i,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const g=m.current,y=G.useContext(sZ);g&&!g.projection&&o&&(g.type==="html"||g.type==="svg")&&lbe(m.current,i,o,y);const v=G.useRef(!1);G.useInsertionEffect(()=>{g&&v.current&&g.update(i,u)});const _=i[rZ],A=G.useRef(!!_&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,_))&&((T=window.MotionHasOptimisedAnimation)==null?void 0:T.call(window,_)));return Qpe(()=>{g&&(v.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),KF.render(g.render),A.current&&g.animationState&&g.animationState.animateChanges())}),G.useEffect(()=>{g&&(!A.current&&g.animationState&&g.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,_)}),A.current=!1))}),g}function lbe(n,e,i,r){const{layoutId:o,layout:l,drag:c,dragConstraints:u,layoutScroll:h,layoutRoot:m,layoutCrossfade:g}=e;n.projection=new i(n.latestValues,e["data-framer-portal-id"]?void 0:oZ(n.parent)),n.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||u&&ew(u),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:h,layoutRoot:m})}function oZ(n){if(n)return n.options.allowProjection!==!1?n.projection:oZ(n.parent)}function cbe({preloadedFeatures:n,createVisualElement:e,useRender:i,useVisualState:r,Component:o}){n&&Zge(n);function l(u,h){let m;const g={...G.useContext(eZ),...u,layoutId:ube(u)},{isStatic:y}=g,v=ibe(u),_=r(u,y);if(!y&&DF){dbe();const A=hbe(g);m=A.MeasureLayout,v.visualElement=abe(o,_,g,e,A.ProjectionNode)}return b.jsxs(E3.Provider,{value:v,children:[m&&v.visualElement?b.jsx(m,{visualElement:v.visualElement,...g}):null,i(o,u,sbe(_,v.visualElement,h),_,y,v.visualElement)]})}l.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const c=G.forwardRef(l);return c[rbe]=o,c}function ube({layoutId:n}){const e=G.useContext(cK).id;return e&&n!==void 0?e+"-"+n:n}function dbe(n,e){G.useContext(tZ).strict}function hbe(n){const{drag:e,layout:i}=U1;if(!e&&!i)return{};const r={...e,...i};return{MeasureLayout:e!=null&&e.isEnabled(n)||i!=null&&i.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const nE={};function fbe(n){for(const e in n)nE[e]=n[e],LF(e)&&(nE[e].isCSSVariable=!0)}function aZ(n,{layout:e,layoutId:i}){return sx.has(n)||n.startsWith("origin")||(e||i!==void 0)&&(!!nE[n]||n==="opacity")}const pbe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mbe=rx.length;function gbe(n,e,i){let r="",o=!0;for(let l=0;l<mbe;l++){const c=rx[l],u=n[c];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(c.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||i){const m=YK(u,YF[c]);if(!h){o=!1;const g=pbe[c]||c;r+=`${g}(${m}) `}i&&(e[c]=m)}}return r=r.trim(),i?r=i(e,o?"":r):o&&(r="none"),r}function t8(n,e,i){const{style:r,vars:o,transformOrigin:l}=n;let c=!1,u=!1;for(const h in e){const m=e[h];if(sx.has(h)){c=!0;continue}else if(LF(h)){o[h]=m;continue}else{const g=YK(m,YF[h]);h.startsWith("origin")?(u=!0,l[h]=g):r[h]=g}}if(e.transform||(c||i?r.transform=gbe(e,n.transform,i):r.transform&&(r.transform="none")),u){const{originX:h="50%",originY:m="50%",originZ:g=0}=l;r.transformOrigin=`${h} ${m} ${g}`}}const n8=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function lZ(n,e,i){for(const r in e)!ho(e[r])&&!aZ(r,i)&&(n[r]=e[r])}function bbe({transformTemplate:n},e){return G.useMemo(()=>{const i=n8();return t8(i,e,n),Object.assign({},i.vars,i.style)},[e])}function ybe(n,e){const i=n.style||{},r={};return lZ(r,i,n),Object.assign(r,bbe(n,e)),r}function vbe(n,e){const i={},r=ybe(n,e);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const wbe={offset:"stroke-dashoffset",array:"stroke-dasharray"},xbe={offset:"strokeDashoffset",array:"strokeDasharray"};function _be(n,e,i=1,r=0,o=!0){n.pathLength=1;const l=o?wbe:xbe;n[l.offset]=un.transform(-r);const c=un.transform(e),u=un.transform(i);n[l.array]=`${c} ${u}`}function cZ(n,{attrX:e,attrY:i,attrScale:r,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},h,m,g){if(t8(n,u,m),h){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:y,style:v}=n;y.transform&&(v.transform=y.transform,delete y.transform),(v.transform||y.transformOrigin)&&(v.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),v.transform&&(v.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),i!==void 0&&(y.y=i),r!==void 0&&(y.scale=r),o!==void 0&&_be(y,o,l,c,!1)}const uZ=()=>({...n8(),attrs:{}}),dZ=n=>typeof n=="string"&&n.toLowerCase()==="svg";function kbe(n,e,i,r){const o=G.useMemo(()=>{const l=uZ();return cZ(l,e,dZ(r),n.transformTemplate,n.style),{...l.attrs,style:{...l.style}}},[e]);if(n.style){const l={};lZ(l,n.style,n),o.style={...l,...o.style}}return o}const Ebe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function i8(n){return typeof n!="string"||n.includes("-")?!1:!!(Ebe.indexOf(n)>-1||/[A-Z]/u.test(n))}function Sbe(n=!1){return(i,r,o,{latestValues:l},c)=>{const h=(i8(i)?kbe:vbe)(r,l,c,i),m=ebe(r,typeof i=="string",n),g=i!==G.Fragment?{...m,...h,ref:o}:{},{children:y}=r,v=G.useMemo(()=>ho(y)?y.get():y,[y]);return G.createElement(i,{...g,children:v})}}function SW(n){const e=[{},{}];return n==null||n.values.forEach((i,r)=>{e[0][r]=i.get(),e[1][r]=i.getVelocity()}),e}function r8(n,e,i,r){if(typeof e=="function"){const[o,l]=SW(r);e=e(i!==void 0?i:n.custom,o,l)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[o,l]=SW(r);e=e(i!==void 0?i:n.custom,o,l)}return e}function $D(n){return ho(n)?n.get():n}function Abe({scrapeMotionValuesFromProps:n,createRenderState:e},i,r,o){return{latestValues:Tbe(i,r,o,n),renderState:e()}}const hZ=n=>(e,i)=>{const r=G.useContext(E3),o=G.useContext(NF),l=()=>Abe(n,e,r,o);return i?l():Jpe(l)};function Tbe(n,e,i,r){const o={},l=r(n,{});for(const v in l)o[v]=$D(l[v]);let{initial:c,animate:u}=n;const h=A3(n),m=iZ(n);e&&m&&!h&&n.inherit!==!1&&(c===void 0&&(c=e.initial),u===void 0&&(u=e.animate));let g=i?i.initial===!1:!1;g=g||c===!1;const y=g?u:c;if(y&&typeof y!="boolean"&&!S3(y)){const v=Array.isArray(y)?y:[y];for(let _=0;_<v.length;_++){const A=r8(n,v[_]);if(A){const{transitionEnd:S,transition:T,...C}=A;for(const N in C){let I=C[N];if(Array.isArray(I)){const O=g?I.length-1:0;I=I[O]}I!==null&&(o[N]=I)}for(const N in S)o[N]=S[N]}}}return o}function s8(n,e,i){var l;const{style:r}=n,o={};for(const c in r)(ho(r[c])||e.style&&ho(e.style[c])||aZ(c,n)||((l=i==null?void 0:i.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(o[c]=r[c]);return o}const Cbe={useVisualState:hZ({scrapeMotionValuesFromProps:s8,createRenderState:n8})};function fZ(n,e,i){const r=s8(n,e,i);for(const o in n)if(ho(n[o])||ho(e[o])){const l=rx.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[l]=n[o]}return r}const Dbe={useVisualState:hZ({scrapeMotionValuesFromProps:fZ,createRenderState:uZ})};function Nbe(n,e){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...i8(r)?Dbe:Cbe,preloadedFeatures:n,useRender:Sbe(o),createVisualElement:e,Component:r};return cbe(c)}}function iE(n,e,i){const r=n.getProps();return r8(r,e,i!==void 0?i:r.custom,n)}const FM=n=>Array.isArray(n);function Pbe(n,e,i){n.hasValue(e)?n.getValue(e).set(i):n.addValue(e,L1(i))}function Ibe(n){return FM(n)?n[n.length-1]||0:n}function jbe(n,e){const i=iE(n,e);let{transitionEnd:r={},transition:o={},...l}=i||{};l={...l,...r};for(const c in l){const u=Ibe(l[c]);Pbe(n,c,u)}}function Rbe(n){return!!(ho(n)&&n.add)}function LM(n,e){const i=n.getValue("willChange");if(Rbe(i))return i.add(e);if(!i&&vf.WillChange){const r=new vf.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function pZ(n){return n.props[rZ]}const Mbe=n=>n!==null;function Obe(n,{repeat:e,repeatType:i="loop"},r){const o=n.filter(Mbe),l=e&&i!=="loop"&&e%2===1?0:o.length-1;return o[l]}const Fbe={type:"spring",stiffness:500,damping:25,restSpeed:10},Lbe=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Ube={type:"keyframes",duration:.8},Bbe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zbe=(n,{keyframes:e})=>e.length>2?Ube:sx.has(n)?n.startsWith("scale")?Lbe(e[1]):Fbe:Bbe;function Vbe({when:n,delay:e,delayChildren:i,staggerChildren:r,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:u,from:h,elapsed:m,...g}){return!!Object.keys(g).length}const o8=(n,e,i,r={},o,l)=>c=>{const u=XF(r,n)||{},h=u.delay||r.delay||0;let{elapsed:m=0}=r;m=m-Sd(h);const g={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-m,onUpdate:v=>{e.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:n,motionValue:e,element:l?void 0:o};Vbe(u)||Object.assign(g,zbe(n,g)),g.duration&&(g.duration=Sd(g.duration)),g.repeatDelay&&(g.repeatDelay=Sd(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(y=!0)),(vf.instantAnimations||vf.skipAnimations)&&(y=!0,g.duration=0,g.delay=0),g.allowFlatten=!u.type&&!u.ease,y&&!l&&e.get()!==void 0){const v=Obe(g.keyframes,u);if(v!==void 0){ir.update(()=>{g.onUpdate(v),g.onComplete()});return}}return u.isSync?new HF(g):new Sge(g)};function Wbe({protectedKeys:n,needsAnimating:e},i){const r=n.hasOwnProperty(i)&&e[i]!==!0;return e[i]=!1,r}function mZ(n,e,{delay:i=0,transitionOverride:r,type:o}={}){let{transition:l=n.getDefaultTransition(),transitionEnd:c,...u}=e;r&&(l=r);const h=[],m=o&&n.animationState&&n.animationState.getState()[o];for(const g in u){const y=n.getValue(g,n.latestValues[g]??null),v=u[g];if(v===void 0||m&&Wbe(m,g))continue;const _={delay:i,...XF(l||{},g)},A=y.get();if(A!==void 0&&!y.isAnimating&&!Array.isArray(v)&&v===A&&!_.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const C=pZ(n);if(C){const N=window.MotionHandoffAnimation(C,g,ir);N!==null&&(_.startTime=N,S=!0)}}LM(n,g),y.start(o8(g,y,v,n.shouldReduceMotion&&$K.has(g)?{type:!1}:_,n,S));const T=y.animation;T&&h.push(T)}return c&&Promise.all(h).then(()=>{ir.update(()=>{c&&jbe(n,c)})}),h}function UM(n,e,i={}){var h;const r=iE(n,e,i.type==="exit"?(h=n.presenceContext)==null?void 0:h.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(o=i.transitionOverride);const l=r?()=>Promise.all(mZ(n,r,i)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:v}=o;return $be(n,e,g+m,y,v,i)}:()=>Promise.resolve(),{when:u}=o;if(u){const[m,g]=u==="beforeChildren"?[l,c]:[c,l];return m().then(()=>g())}else return Promise.all([l(),c(i.delay)])}function $be(n,e,i=0,r=0,o=1,l){const c=[],u=(n.variantChildren.size-1)*r,h=o===1?(m=0)=>m*r:(m=0)=>u-m*r;return Array.from(n.variantChildren).sort(qbe).forEach((m,g)=>{m.notify("AnimationStart",e),c.push(UM(m,e,{...l,delay:i+h(g)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(c)}function qbe(n,e){return n.sortNodePosition(e)}function Hbe(n,e,i={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(l=>UM(n,l,i));r=Promise.all(o)}else if(typeof e=="string")r=UM(n,e,i);else{const o=typeof e=="function"?iE(n,e,i.custom):e;r=Promise.all(mZ(n,o,i))}return r.then(()=>{n.notify("AnimationComplete",e)})}function gZ(n,e){if(!Array.isArray(e))return!1;const i=e.length;if(i!==n.length)return!1;for(let r=0;r<i;r++)if(e[r]!==n[r])return!1;return!0}const Gbe=QF.length;function bZ(n){if(!n)return;if(!n.isControllingVariants){const i=n.parent?bZ(n.parent)||{}:{};return n.props.initial!==void 0&&(i.initial=n.props.initial),i}const e={};for(let i=0;i<Gbe;i++){const r=QF[i],o=n.props[r];(tE(o)||o===!1)&&(e[r]=o)}return e}const Xbe=[...JF].reverse(),Ybe=JF.length;function Kbe(n){return e=>Promise.all(e.map(({animation:i,options:r})=>Hbe(n,i,r)))}function Zbe(n){let e=Kbe(n),i=AW(),r=!0;const o=h=>(m,g)=>{var v;const y=iE(n,g,h==="exit"?(v=n.presenceContext)==null?void 0:v.custom:void 0);if(y){const{transition:_,transitionEnd:A,...S}=y;m={...m,...S,...A}}return m};function l(h){e=h(n)}function c(h){const{props:m}=n,g=bZ(n.parent)||{},y=[],v=new Set;let _={},A=1/0;for(let T=0;T<Ybe;T++){const C=Xbe[T],N=i[C],I=m[C]!==void 0?m[C]:g[C],O=tE(I),F=C===h?N.isActive:null;F===!1&&(A=T);let L=I===g[C]&&I!==m[C]&&O;if(L&&r&&n.manuallyAnimateOnMount&&(L=!1),N.protectedKeys={..._},!N.isActive&&F===null||!I&&!N.prevProp||S3(I)||typeof I=="boolean")continue;const z=Jbe(N.prevProp,I);let B=z||C===h&&N.isActive&&!L&&O||T>A&&O,Y=!1;const se=Array.isArray(I)?I:[I];let de=se.reduce(o(C),{});F===!1&&(de={});const{prevResolvedValues:J={}}=N,be={...J,...de},q=ce=>{B=!0,v.has(ce)&&(Y=!0,v.delete(ce)),N.needsAnimating[ce]=!0;const X=n.getValue(ce);X&&(X.liveStyle=!1)};for(const ce in be){const X=de[ce],K=J[ce];if(_.hasOwnProperty(ce))continue;let ne=!1;FM(X)&&FM(K)?ne=!gZ(X,K):ne=X!==K,ne?X!=null?q(ce):v.add(ce):X!==void 0&&v.has(ce)?q(ce):N.protectedKeys[ce]=!0}N.prevProp=I,N.prevResolvedValues=de,N.isActive&&(_={..._,...de}),r&&n.blockInitialAnimation&&(B=!1),B&&(!(L&&z)||Y)&&y.push(...se.map(ce=>({animation:ce,options:{type:C}})))}if(v.size){const T={};if(typeof m.initial!="boolean"){const C=iE(n,Array.isArray(m.initial)?m.initial[0]:m.initial);C&&C.transition&&(T.transition=C.transition)}v.forEach(C=>{const N=n.getBaseTarget(C),I=n.getValue(C);I&&(I.liveStyle=!0),T[C]=N??null}),y.push({animation:T})}let S=!!y.length;return r&&(m.initial===!1||m.initial===m.animate)&&!n.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(y):Promise.resolve()}function u(h,m){var y;if(i[h].isActive===m)return Promise.resolve();(y=n.variantChildren)==null||y.forEach(v=>{var _;return(_=v.animationState)==null?void 0:_.setActive(h,m)}),i[h].isActive=m;const g=c(h);for(const v in i)i[v].protectedKeys={};return g}return{animateChanges:c,setActive:u,setAnimateFunction:l,getState:()=>i,reset:()=>{i=AW(),r=!0}}}function Jbe(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!gZ(e,n):!1}function tb(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function AW(){return{animate:tb(!0),whileInView:tb(),whileHover:tb(),whileTap:tb(),whileDrag:tb(),whileFocus:tb(),exit:tb()}}class Jm{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Qbe extends Jm{constructor(e){super(e),e.animationState||(e.animationState=Zbe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();S3(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:i}=this.node.prevProps||{};e!==i&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let e0e=0;class t0e extends Jm{constructor(){super(...arguments),this.id=e0e++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);i&&!e&&o.then(()=>{i(this.id)})}mount(){const{register:e,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const n0e={animation:{Feature:Qbe},exit:{Feature:t0e}};function rE(n,e,i,r={passive:!0}){return n.addEventListener(e,i,r),()=>n.removeEventListener(e,i)}function tA(n){return{point:{x:n.pageX,y:n.pageY}}}const i0e=n=>e=>ZF(e)&&n(e,tA(e));function A2(n,e,i,r){return rE(n,e,i0e(i),r)}function yZ({top:n,left:e,right:i,bottom:r}){return{x:{min:e,max:i},y:{min:n,max:r}}}function r0e({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function s0e(n,e){if(!e)return n;const i=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}const vZ=1e-4,o0e=1-vZ,a0e=1+vZ,wZ=.01,l0e=0-wZ,c0e=0+wZ;function qo(n){return n.max-n.min}function u0e(n,e,i){return Math.abs(n-e)<=i}function TW(n,e,i,r=.5){n.origin=r,n.originPoint=er(e.min,e.max,n.origin),n.scale=qo(i)/qo(e),n.translate=er(i.min,i.max,n.origin)-n.originPoint,(n.scale>=o0e&&n.scale<=a0e||isNaN(n.scale))&&(n.scale=1),(n.translate>=l0e&&n.translate<=c0e||isNaN(n.translate))&&(n.translate=0)}function T2(n,e,i,r){TW(n.x,e.x,i.x,r?r.originX:void 0),TW(n.y,e.y,i.y,r?r.originY:void 0)}function CW(n,e,i){n.min=i.min+e.min,n.max=n.min+qo(e)}function d0e(n,e,i){CW(n.x,e.x,i.x),CW(n.y,e.y,i.y)}function DW(n,e,i){n.min=e.min-i.min,n.max=n.min+qo(e)}function C2(n,e,i){DW(n.x,e.x,i.x),DW(n.y,e.y,i.y)}const NW=()=>({translate:0,scale:1,origin:0,originPoint:0}),tw=()=>({x:NW(),y:NW()}),PW=()=>({min:0,max:0}),vr=()=>({x:PW(),y:PW()});function Xl(n){return[n("x"),n("y")]}function Oj(n){return n===void 0||n===1}function BM({scale:n,scaleX:e,scaleY:i}){return!Oj(n)||!Oj(e)||!Oj(i)}function ob(n){return BM(n)||xZ(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function xZ(n){return IW(n.x)||IW(n.y)}function IW(n){return n&&n!=="0%"}function s5(n,e,i){const r=n-i,o=e*r;return i+o}function jW(n,e,i,r,o){return o!==void 0&&(n=s5(n,o,r)),s5(n,i,r)+e}function zM(n,e=0,i=1,r,o){n.min=jW(n.min,e,i,r,o),n.max=jW(n.max,e,i,r,o)}function _Z(n,{x:e,y:i}){zM(n.x,e.translate,e.scale,e.originPoint),zM(n.y,i.translate,i.scale,i.originPoint)}const RW=.999999999999,MW=1.0000000000001;function h0e(n,e,i,r=!1){const o=i.length;if(!o)return;e.x=e.y=1;let l,c;for(let u=0;u<o;u++){l=i[u],c=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&iw(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,_Z(n,c)),r&&ob(l.latestValues)&&iw(n,l.latestValues))}e.x<MW&&e.x>RW&&(e.x=1),e.y<MW&&e.y>RW&&(e.y=1)}function nw(n,e){n.min=n.min+e,n.max=n.max+e}function OW(n,e,i,r,o=.5){const l=er(n.min,n.max,o);zM(n,e,i,l,r)}function iw(n,e){OW(n.x,e.x,e.scaleX,e.scale,e.originX),OW(n.y,e.y,e.scaleY,e.scale,e.originY)}function kZ(n,e){return yZ(s0e(n.getBoundingClientRect(),e))}function f0e(n,e,i){const r=kZ(n,i),{scroll:o}=e;return o&&(nw(r.x,o.offset.x),nw(r.y,o.offset.y)),r}const EZ=({current:n})=>n?n.ownerDocument.defaultView:null,FW=(n,e)=>Math.abs(n-e);function p0e(n,e){const i=FW(n.x,e.x),r=FW(n.y,e.y);return Math.sqrt(i**2+r**2)}class SZ{constructor(e,i,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Lj(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,_=p0e(y.offset,{x:0,y:0})>=3;if(!v&&!_)return;const{point:A}=y,{timestamp:S}=Os;this.history.push({...A,timestamp:S});const{onStart:T,onMove:C}=this.handlers;v||(T&&T(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,y)},this.handlePointerMove=(y,v)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Fj(v,this.transformPagePoint),ir.update(this.updatePoint,!0)},this.handlePointerUp=(y,v)=>{this.end();const{onEnd:_,onSessionEnd:A,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Lj(y.type==="pointercancel"?this.lastMoveEventInfo:Fj(v,this.transformPagePoint),this.history);this.startEvent&&_&&_(y,T),A&&A(y,T)},!ZF(e))return;this.dragSnapToOrigin=l,this.handlers=i,this.transformPagePoint=r,this.contextWindow=o||window;const c=tA(e),u=Fj(c,this.transformPagePoint),{point:h}=u,{timestamp:m}=Os;this.history=[{...h,timestamp:m}];const{onSessionStart:g}=i;g&&g(e,Lj(u,this.history)),this.removeListeners=JS(A2(this.contextWindow,"pointermove",this.handlePointerMove),A2(this.contextWindow,"pointerup",this.handlePointerUp),A2(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Lm(this.updatePoint)}}function Fj(n,e){return e?{point:e(n.point)}:n}function LW(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Lj({point:n},e){return{point:n,delta:LW(n,AZ(e)),offset:LW(n,m0e(e)),velocity:g0e(e,.1)}}function m0e(n){return n[0]}function AZ(n){return n[n.length-1]}function g0e(n,e){if(n.length<2)return{x:0,y:0};let i=n.length-1,r=null;const o=AZ(n);for(;i>=0&&(r=n[i],!(o.timestamp-r.timestamp>Sd(e)));)i--;if(!r)return{x:0,y:0};const l=Ad(o.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-r.x)/l,y:(o.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function b0e(n,{min:e,max:i},r){return e!==void 0&&n<e?n=r?er(e,n,r.min):Math.max(n,e):i!==void 0&&n>i&&(n=r?er(i,n,r.max):Math.min(n,i)),n}function UW(n,e,i){return{min:e!==void 0?n.min+e:void 0,max:i!==void 0?n.max+i-(n.max-n.min):void 0}}function y0e(n,{top:e,left:i,bottom:r,right:o}){return{x:UW(n.x,i,o),y:UW(n.y,e,r)}}function BW(n,e){let i=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([i,r]=[r,i]),{min:i,max:r}}function v0e(n,e){return{x:BW(n.x,e.x),y:BW(n.y,e.y)}}function w0e(n,e){let i=.5;const r=qo(n),o=qo(e);return o>r?i=J2(e.min,e.max-r,n.min):r>o&&(i=J2(n.min,n.max-o,e.min)),yf(0,1,i)}function x0e(n,e){const i={};return e.min!==void 0&&(i.min=e.min-n.min),e.max!==void 0&&(i.max=e.max-n.min),i}const VM=.35;function _0e(n=VM){return n===!1?n=0:n===!0&&(n=VM),{x:zW(n,"left","right"),y:zW(n,"top","bottom")}}function zW(n,e,i){return{min:VW(n,e),max:VW(n,i)}}function VW(n,e){return typeof n=="number"?n:n[e]||0}const k0e=new WeakMap;class E0e{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=vr(),this.visualElement=e}start(e,{snapToCursor:i=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(tA(g).point)},l=(g,y)=>{const{drag:v,dragPropagation:_,onDragStart:A}=this.getProps();if(v&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=zge(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xl(T=>{let C=this.getAxisMotionValue(T).get()||0;if(Td.test(C)){const{projection:N}=this.visualElement;if(N&&N.layout){const I=N.layout.layoutBox[T];I&&(C=qo(I)*(parseFloat(C)/100))}}this.originPoint[T]=C}),A&&ir.postRender(()=>A(g,y)),LM(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},c=(g,y)=>{const{dragPropagation:v,dragDirectionLock:_,onDirectionLock:A,onDrag:S}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:T}=y;if(_&&this.currentDirection===null){this.currentDirection=S0e(T),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",y.point,T),this.updateAxis("y",y.point,T),this.visualElement.render(),S&&S(g,y)},u=(g,y)=>this.stop(g,y),h=()=>Xl(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)==null?void 0:y.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new SZ(e,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:EZ(this.visualElement)})}stop(e,i){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&ir.postRender(()=>l(e,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:i}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(e,i,r){const{drag:o}=this.getProps();if(!r||!oD(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=b0e(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,o=this.constraints;e&&ew(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=y0e(r.layoutBox,e):this.constraints=!1,this.elastic=_0e(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Xl(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=x0e(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:i}=this.getProps();if(!e||!ew(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=f0e(r,o.root,this.visualElement.getTransformPagePoint());let c=v0e(o.layout.layoutBox,l);if(i){const u=i(r0e(c));this.hasMutatedConstraints=!!u,u&&(c=yZ(u))}return c}startAnimation(e){const{drag:i,dragMomentum:r,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},m=Xl(g=>{if(!oD(g,i,this.currentDirection))return;let y=h&&h[g]||{};c&&(y={min:0,max:0});const v=o?200:1e6,_=o?40:1e7,A={type:"inertia",velocity:r?e[g]:0,bounceStiffness:v,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...l,...y};return this.startAxisValueAnimation(g,A)});return Promise.all(m).then(u)}startAxisValueAnimation(e,i){const r=this.getAxisMotionValue(e);return LM(this.visualElement,e),r.start(o8(e,r,0,i,this.visualElement,!1))}stopAnimation(){Xl(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Xl(e=>{var i;return(i=this.getAxisMotionValue(e).animation)==null?void 0:i.pause()})}getAnimationState(e){var i;return(i=this.getAxisMotionValue(e).animation)==null?void 0:i.state}getAxisMotionValue(e){const i=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[i];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Xl(i=>{const{drag:r}=this.getProps();if(!oD(i,r,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(i);if(o&&o.layout){const{min:c,max:u}=o.layout.layoutBox[i];l.set(e[i]-er(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!ew(i)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Xl(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const h=u.get();o[c]=w0e({min:h,max:h},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Xl(c=>{if(!oD(c,e,null))return;const u=this.getAxisMotionValue(c),{min:h,max:m}=this.constraints[c];u.set(er(h,m,o[c]))})}addListeners(){if(!this.visualElement.current)return;k0e.set(this.visualElement,this);const e=this.visualElement.current,i=A2(e,"pointerdown",h=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();ew(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ir.read(r);const c=rE(window,"resize",()=>this.scalePositionWithinConstraints()),u=o.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(Xl(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=h[g].translate,y.set(y.get()+h[g].translate))}),this.visualElement.render())});return()=>{c(),i(),l(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=VM,dragMomentum:u=!0}=e;return{...e,drag:i,dragDirectionLock:r,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:u}}}function oD(n,e,i){return(e===!0||e===n)&&(i===null||i===n)}function S0e(n,e=10){let i=null;return Math.abs(n.y)>e?i="y":Math.abs(n.x)>e&&(i="x"),i}class A0e extends Jm{constructor(e){super(e),this.removeGroupControls=dc,this.removeListeners=dc,this.controls=new E0e(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||dc}unmount(){this.removeGroupControls(),this.removeListeners()}}const WW=n=>(e,i)=>{n&&ir.postRender(()=>n(e,i))};class T0e extends Jm{constructor(){super(...arguments),this.removePointerDownListener=dc}onPointerDown(e){this.session=new SZ(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:EZ(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:i,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:WW(e),onStart:WW(i),onMove:r,onEnd:(l,c)=>{delete this.session,o&&ir.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=A2(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const qD={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $W(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Ek={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(un.test(n))n=parseFloat(n);else return n;const i=$W(n,e.target.x),r=$W(n,e.target.y);return`${i}% ${r}%`}},C0e={correct:(n,{treeScale:e,projectionDelta:i})=>{const r=n,o=Um.parse(n);if(o.length>5)return r;const l=Um.createTransformer(n),c=typeof o[0]!="number"?1:0,u=i.x.scale*e.x,h=i.y.scale*e.y;o[0+c]/=u,o[1+c]/=h;const m=er(u,h,.5);return typeof o[2+c]=="number"&&(o[2+c]/=m),typeof o[3+c]=="number"&&(o[3+c]/=m),l(o)}};class D0e extends G.Component{componentDidMount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:r,layoutId:o}=this.props,{projection:l}=e;fbe(N0e),l&&(i.group&&i.group.add(l),r&&r.register&&o&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),qD.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:i,visualElement:r,drag:o,isPresent:l}=this.props,{projection:c}=r;return c&&(c.isPresent=l,o||e.layoutDependency!==i||i===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||ir.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),KF.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function TZ(n){const[e,i]=Kge(),r=G.useContext(cK);return b.jsx(D0e,{...n,layoutGroup:r,switchLayoutGroup:G.useContext(sZ),isPresent:e,safeToRemove:i})}const N0e={borderRadius:{...Ek,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ek,borderTopRightRadius:Ek,borderBottomLeftRadius:Ek,borderBottomRightRadius:Ek,boxShadow:C0e};function P0e(n,e,i){const r=ho(n)?n:L1(n);return r.start(o8("",r,e,i)),r.animation}const I0e=(n,e)=>n.depth-e.depth;class j0e{constructor(){this.children=[],this.isDirty=!1}add(e){PF(this.children,e),this.isDirty=!0}remove(e){IF(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(I0e),this.isDirty=!1,this.children.forEach(e)}}function R0e(n,e){const i=xa.now(),r=({timestamp:o})=>{const l=o-i;l>=e&&(Lm(r),n(l-e))};return ir.setup(r,!0),()=>Lm(r)}const CZ=["TopLeft","TopRight","BottomLeft","BottomRight"],M0e=CZ.length,qW=n=>typeof n=="string"?parseFloat(n):n,HW=n=>typeof n=="number"||un.test(n);function O0e(n,e,i,r,o,l){o?(n.opacity=er(0,i.opacity??1,F0e(r)),n.opacityExit=er(e.opacity??1,0,L0e(r))):l&&(n.opacity=er(e.opacity??1,i.opacity??1,r));for(let c=0;c<M0e;c++){const u=`border${CZ[c]}Radius`;let h=GW(e,u),m=GW(i,u);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||HW(h)===HW(m)?(n[u]=Math.max(er(qW(h),qW(m),r),0),(Td.test(m)||Td.test(h))&&(n[u]+="%")):n[u]=m}(e.rotate||i.rotate)&&(n.rotate=er(e.rotate||0,i.rotate||0,r))}function GW(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const F0e=DZ(0,.5,wK),L0e=DZ(.5,.95,dc);function DZ(n,e,i){return r=>r<n?0:r>e?1:i(J2(n,e,r))}function XW(n,e){n.min=e.min,n.max=e.max}function ql(n,e){XW(n.x,e.x),XW(n.y,e.y)}function YW(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function KW(n,e,i,r,o){return n-=e,n=s5(n,1/i,r),o!==void 0&&(n=s5(n,1/o,r)),n}function U0e(n,e=0,i=1,r=.5,o,l=n,c=n){if(Td.test(e)&&(e=parseFloat(e),e=er(c.min,c.max,e/100)-c.min),typeof e!="number")return;let u=er(l.min,l.max,r);n===l&&(u-=e),n.min=KW(n.min,e,i,u,o),n.max=KW(n.max,e,i,u,o)}function ZW(n,e,[i,r,o],l,c){U0e(n,e[i],e[r],e[o],e.scale,l,c)}const B0e=["x","scaleX","originX"],z0e=["y","scaleY","originY"];function JW(n,e,i,r){ZW(n.x,e,B0e,i?i.x:void 0,r?r.x:void 0),ZW(n.y,e,z0e,i?i.y:void 0,r?r.y:void 0)}function QW(n){return n.translate===0&&n.scale===1}function NZ(n){return QW(n.x)&&QW(n.y)}function e$(n,e){return n.min===e.min&&n.max===e.max}function V0e(n,e){return e$(n.x,e.x)&&e$(n.y,e.y)}function t$(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function PZ(n,e){return t$(n.x,e.x)&&t$(n.y,e.y)}function n$(n){return qo(n.x)/qo(n.y)}function i$(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class W0e{constructor(){this.members=[]}add(e){PF(this.members,e),e.scheduleRender()}remove(e){if(IF(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(e){const i=this.members.findIndex(o=>e===o);if(i===0)return!1;let r;for(let o=i;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,i){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,i&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:i,resumingFrom:r}=e;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $0e(n,e,i){let r="";const o=n.x.translate/e.x,l=n.y.translate/e.y,c=(i==null?void 0:i.z)||0;if((o||l||c)&&(r=`translate3d(${o}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),i){const{transformPerspective:m,rotate:g,rotateX:y,rotateY:v,skewX:_,skewY:A}=i;m&&(r=`perspective(${m}px) ${r}`),g&&(r+=`rotate(${g}deg) `),y&&(r+=`rotateX(${y}deg) `),v&&(r+=`rotateY(${v}deg) `),_&&(r+=`skewX(${_}deg) `),A&&(r+=`skewY(${A}deg) `)}const u=n.x.scale*e.x,h=n.y.scale*e.y;return(u!==1||h!==1)&&(r+=`scale(${u}, ${h})`),r||"none"}const Uj=["","X","Y","Z"],q0e={visibility:"hidden"},H0e=1e3;let G0e=0;function Bj(n,e,i,r){const{latestValues:o}=e;o[n]&&(i[n]=o[n],e.setStaticValue(n,0),r&&(r[n]=0))}function IZ(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const i=pZ(e);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(i,"transform",ir,!(o||l))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&IZ(r)}function jZ({attachResizeListener:n,defaultParent:e,measureScroll:i,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},u=e==null?void 0:e()){this.id=G0e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(K0e),this.nodes.forEach(tye),this.nodes.forEach(nye),this.nodes.forEach(Z0e)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new j0e)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new MF),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const h=this.eventHandlers.get(c);h&&h.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=QK(c)&&!Gge(c),this.instance=c;const{layoutId:u,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),n){let g;const y=()=>this.root.updateBlockedByResize=!1;n(c,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=R0e(y,250),qD.hasAnimatedSinceResize&&(qD.hasAnimatedSinceResize=!1,this.nodes.forEach(s$))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&m&&(u||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeLayoutChanged:v,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||m.getDefaultTransition()||aye,{onLayoutAnimationStart:S,onLayoutAnimationComplete:T}=m.getProps(),C=!this.targetLayout||!PZ(this.targetLayout,_),N=!y&&v;if(this.options.layoutRoot||this.resumeFrom||N||y&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const I={...XF(A,"layout"),onPlay:S,onComplete:T};(m.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I),this.setAnimationOrigin(g,N)}else y||s$(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Lm(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(iye),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&IZ(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(r$);return}this.isUpdating||this.nodes.forEach(Q0e),this.isUpdating=!1,this.nodes.forEach(eye),this.nodes.forEach(X0e),this.nodes.forEach(Y0e),this.clearAllSnapshots();const u=xa.now();Os.delta=yf(0,1e3/60,u-Os.timestamp),Os.timestamp=u,Os.isProcessing=!0,Pj.update.process(Os),Pj.preRender.process(Os),Pj.render.process(Os),Os.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,KF.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(J0e),this.sharedNodes.forEach(rye)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ir.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ir.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!qo(this.snapshot.measuredBox.x)&&!qo(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=vr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u&&this.instance){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!NZ(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;c&&this.instance&&(u||ob(this.latestValues)||g)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return c&&(h=this.removeTransform(h)),lye(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:c}=this.options;if(!c)return vr();const u=c.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(cye))){const{scroll:g}=this.root;g&&(nw(u.x,g.offset.x),nw(u.y,g.offset.y))}return u}removeElementScroll(c){var h;const u=vr();if(ql(u,c),(h=this.scroll)!=null&&h.wasRoot)return u;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:v}=g;g!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&ql(u,c),nw(u.x,y.offset.x),nw(u.y,y.offset.y))}return u}applyTransform(c,u=!1){const h=vr();ql(h,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];!u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&iw(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),ob(g.latestValues)&&iw(h,g.latestValues)}return ob(this.latestValues)&&iw(h,this.latestValues),h}removeTransform(c){const u=vr();ql(u,c);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!ob(m.latestValues))continue;BM(m.latestValues)&&m.updateSnapshot();const g=vr(),y=m.measurePageBox();ql(g,y),JW(u,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return ob(this.latestValues)&&JW(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Os.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var v;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!(!this.layout||!(g||y))){if(this.resolvedRelativeTargetAt=Os.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vr(),this.relativeTargetOrigin=vr(),C2(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),ql(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=vr(),this.targetWithTransforms=vr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),d0e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ql(this.target,this.layout.layoutBox),_Z(this.target,this.targetDelta)):ql(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vr(),this.relativeTargetOrigin=vr(),C2(this.relativeTargetOrigin,this.target,_.target),ql(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||BM(this.parent.latestValues)||xZ(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var A;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Os.timestamp&&(h=!1),h)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;ql(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,v=this.treeScale.y;h0e(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=vr());const{target:_}=c;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(YW(this.prevProjectionDelta.x,this.projectionDelta.x),YW(this.prevProjectionDelta.y,this.projectionDelta.y)),T2(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==v||!i$(this.projectionDelta.x,this.prevProjectionDelta.x)||!i$(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=tw(),this.projectionDelta=tw(),this.projectionDeltaWithTransform=tw()}setAnimationOrigin(c,u=!1){const h=this.snapshot,m=h?h.latestValues:{},g={...this.latestValues},y=tw();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const v=vr(),_=h?h.source:void 0,A=this.layout?this.layout.source:void 0,S=_!==A,T=this.getStack(),C=!T||T.members.length<=1,N=!!(S&&!C&&this.options.crossfade===!0&&!this.path.some(oye));this.animationProgress=0;let I;this.mixTargetDelta=O=>{const F=O/1e3;o$(y.x,c.x,F),o$(y.y,c.y,F),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(C2(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sye(this.relativeTarget,this.relativeTargetOrigin,v,F),I&&V0e(this.relativeTarget,I)&&(this.isProjectionDirty=!1),I||(I=vr()),ql(I,this.relativeTarget)),S&&(this.animationValues=g,O0e(g,m,this.latestValues,F,N,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var u,h,m;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(m=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||m.stop(),this.pendingAnimation&&(Lm(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ir.update(()=>{qD.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=L1(0)),this.currentAnimation=P0e(this.motionValue,[0,1e3],{...c,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),c.onUpdate&&c.onUpdate(g)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(H0e),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:h,layout:m,latestValues:g}=c;if(!(!u||!h||!m)){if(this!==c&&this.layout&&m&&RZ(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||vr();const y=qo(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+y;const v=qo(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+v}ql(u,h),iw(u,g),T2(this.projectionDeltaWithTransform,this.layoutCorrected,u,g)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new W0e),this.sharedNodes.get(c).add(u);const m=u.options.initialPromotionConfig;u.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var u;const{layoutId:c}=this.options;return c?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:c}=this.options;return c?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const m={};h.z&&Bj("z",c,m,this.animationValues);for(let g=0;g<Uj.length;g++)Bj(`rotate${Uj[g]}`,c,m,this.animationValues),Bj(`skew${Uj[g]}`,c,m,this.animationValues);c.render();for(const g in m)c.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return q0e;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=$D(c==null?void 0:c.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=$D(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!ob(this.latestValues)&&(_.transform=h?h({},""):"none",this.hasProjected=!1),_}const g=m.animationValues||m.latestValues;this.applyTransformsToTarget(),u.transform=$0e(this.projectionDeltaWithTransform,this.treeScale,g),h&&(u.transform=h(g,u.transform));const{x:y,y:v}=this.projectionDelta;u.transformOrigin=`${y.origin*100}% ${v.origin*100}% 0`,m.animationValues?u.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const _ in nE){if(g[_]===void 0)continue;const{correct:A,applyTo:S,isCSSVariable:T}=nE[_],C=u.transform==="none"?g[_]:A(g[_],m);if(S){const N=S.length;for(let I=0;I<N;I++)u[S[I]]=C}else T?this.options.visualElement.renderState.vars[_]=C:u[_]=C}return this.options.layoutId&&(u.pointerEvents=m===this?$D(c==null?void 0:c.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var u;return(u=c.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(r$),this.root.sharedNodes.clear()}}}function X0e(n){n.updateLayout()}function Y0e(n){var i;const e=((i=n.resumeFrom)==null?void 0:i.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=n.layout,{animationType:l}=n.options,c=e.source!==n.layout.source;l==="size"?Xl(y=>{const v=c?e.measuredBox[y]:e.layoutBox[y],_=qo(v);v.min=r[y].min,v.max=v.min+_}):RZ(l,e.layoutBox,r)&&Xl(y=>{const v=c?e.measuredBox[y]:e.layoutBox[y],_=qo(r[y]);v.max=v.min+_,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+_)});const u=tw();T2(u,r,e.layoutBox);const h=tw();c?T2(h,n.applyTransform(o,!0),e.measuredBox):T2(h,r,e.layoutBox);const m=!NZ(u);let g=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:_}=y;if(v&&_){const A=vr();C2(A,e.layoutBox,v.layoutBox);const S=vr();C2(S,r,_.layoutBox),PZ(A,S)||(g=!0),y.options.layoutRoot&&(n.relativeTarget=S,n.relativeTargetOrigin=A,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function K0e(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function Z0e(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function J0e(n){n.clearSnapshot()}function r$(n){n.clearMeasurements()}function Q0e(n){n.isLayoutDirty=!1}function eye(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function s$(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function tye(n){n.resolveTargetDelta()}function nye(n){n.calcProjection()}function iye(n){n.resetSkewAndRotation()}function rye(n){n.removeLeadSnapshot()}function o$(n,e,i){n.translate=er(e.translate,0,i),n.scale=er(e.scale,1,i),n.origin=e.origin,n.originPoint=e.originPoint}function a$(n,e,i,r){n.min=er(e.min,i.min,r),n.max=er(e.max,i.max,r)}function sye(n,e,i,r){a$(n.x,e.x,i.x,r),a$(n.y,e.y,i.y,r)}function oye(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const aye={duration:.45,ease:[.4,0,.1,1]},l$=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),c$=l$("applewebkit/")&&!l$("chrome/")?Math.round:dc;function u$(n){n.min=c$(n.min),n.max=c$(n.max)}function lye(n){u$(n.x),u$(n.y)}function RZ(n,e,i){return n==="position"||n==="preserve-aspect"&&!u0e(n$(e),n$(i),.2)}function cye(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const uye=jZ({attachResizeListener:(n,e)=>rE(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zj={current:void 0},MZ=jZ({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!zj.current){const n=new uye({});n.mount(window),n.setOptions({layoutScroll:!0}),zj.current=n}return zj.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),dye={pan:{Feature:T0e},drag:{Feature:A0e,ProjectionNode:MZ,MeasureLayout:TZ}};function d$(n,e,i){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,l=r[o];l&&ir.postRender(()=>l(e,tA(e)))}class hye extends Jm{mount(){const{current:e}=this.node;e&&(this.unmount=Vge(e,(i,r)=>(d$(this.node,r,"Start"),o=>d$(this.node,o,"End"))))}unmount(){}}class fye extends Jm{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=JS(rE(this.node.current,"focus",()=>this.onFocus()),rE(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function h$(n,e,i){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),l=r[o];l&&ir.postRender(()=>l(e,tA(e)))}class pye extends Jm{mount(){const{current:e}=this.node;e&&(this.unmount=Hge(e,(i,r)=>(h$(this.node,r,"Start"),(o,{success:l})=>h$(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const WM=new WeakMap,Vj=new WeakMap,mye=n=>{const e=WM.get(n.target);e&&e(n)},gye=n=>{n.forEach(mye)};function bye({root:n,...e}){const i=n||document;Vj.has(i)||Vj.set(i,{});const r=Vj.get(i),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(gye,{root:n,...e})),r[o]}function yye(n,e,i){const r=bye(e);return WM.set(n,i),r.observe(n),()=>{WM.delete(n),r.unobserve(n)}}const vye={some:0,all:1};class wye extends Jm{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:i,margin:r,amount:o="some",once:l}=e,c={root:i?i.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:vye[o]},u=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),v=m?g:y;v&&v(h)};return yye(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:i}=this.node;["amount","margin","root"].some(xye(e,i))&&this.startObserver()}unmount(){}}function xye({viewport:n={}},{viewport:e={}}={}){return i=>n[i]!==e[i]}const _ye={inView:{Feature:wye},tap:{Feature:pye},focus:{Feature:fye},hover:{Feature:hye}},kye={layout:{ProjectionNode:MZ,MeasureLayout:TZ}},$M={current:null},OZ={current:!1};function Eye(){if(OZ.current=!0,!!DF)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>$M.current=n.matches;n.addListener(e),e()}else $M.current=!1}const Sye=new WeakMap;function Aye(n,e,i){for(const r in e){const o=e[r],l=i[r];if(ho(o))n.addValue(r,o);else if(ho(l))n.addValue(r,L1(o,{owner:n}));else if(l!==o)if(n.hasValue(r)){const c=n.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(r);n.addValue(r,L1(c!==void 0?c:o,{owner:n}))}}for(const r in i)e[r]===void 0&&n.removeValue(r);return e}const f$=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Tye{scrapeMotionValuesFromProps(e,i,r){return{}}constructor({parent:e,props:i,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=GF,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=xa.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,ir.render(this.render,!1,!0))};const{latestValues:h,renderState:m}=c;this.latestValues=h,this.baseTarget={...h},this.initialValues=i.initial?{...h}:{},this.renderState=m,this.parent=e,this.props=i,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=u,this.blockInitialAnimation=!!l,this.isControllingVariants=A3(i),this.isVariantNode=iZ(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(i,{},this);for(const v in y){const _=y[v];h[v]!==void 0&&ho(_)&&_.set(h[v],!1)}}mount(e){this.current=e,Sye.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),OZ.current||Eye(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$M.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Lm(this.notifyUpdate),Lm(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const i=this.features[e];i&&(i.unmount(),i.isMounted=!1)}this.current=null}bindToMotionValue(e,i){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=sx.has(e);r&&this.onBindTransform&&this.onBindTransform();const o=i.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&ir.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=i.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,i)),this.valueSubscriptions.set(e,()=>{o(),l(),c&&c(),i.owner&&i.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in U1){const i=U1[e];if(!i)continue;const{isEnabled:r,Feature:o}=i;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):vr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,i){this.latestValues[e]=i}update(e,i){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<f$.length;r++){const o=f$[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=e[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=Aye(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(e),()=>i.variantChildren.delete(e)}addValue(e,i){const r=this.values.get(e);i!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,i),this.values.set(e,i),this.latestValues[e]=i.get())}removeValue(e){this.values.delete(e);const i=this.valueSubscriptions.get(e);i&&(i(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,i){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&i!==void 0&&(r=L1(i===null?void 0:i,{owner:this}),this.addValue(e,r)),r}readValue(e,i){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(uK(r)||hK(r))?r=parseFloat(r):!Yge(r)&&Um.test(i)&&(r=XK(e,i)),this.setBaseTarget(e,ho(r)?r.get():r)),ho(r)?r.get():r}setBaseTarget(e,i){this.baseTarget[e]=i}getBaseTarget(e){var l;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const c=r8(this.props,i,(l=this.presenceContext)==null?void 0:l.custom);c&&(r=c[e])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!ho(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,i){return this.events[e]||(this.events[e]=new MF),this.events[e].add(i)}notify(e,...i){this.events[e]&&this.events[e].notify(...i)}}class FZ extends Tye{constructor(){super(...arguments),this.KeyframeResolver=Fge}sortInstanceNodePosition(e,i){return e.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(e,i){return e.style?e.style[i]:void 0}removeValueFromRenderState(e,{vars:i,style:r}){delete i[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ho(e)&&(this.childSubscription=e.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function LZ(n,{style:e,vars:i},r,o){Object.assign(n.style,e,o&&o.getProjectionStyles(r));for(const l in i)n.style.setProperty(l,i[l])}function Cye(n){return window.getComputedStyle(n)}class Dye extends FZ{constructor(){super(...arguments),this.type="html",this.renderInstance=LZ}readValueFromInstance(e,i){var r;if(sx.has(i))return(r=this.projection)!=null&&r.isProjecting?PM(i):nge(e,i);{const o=Cye(e),l=(LF(i)?o.getPropertyValue(i):o[i])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:i}){return kZ(e,i)}build(e,i,r){t8(e,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,i,r){return s8(e,i,r)}}const UZ=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Nye(n,e,i,r){LZ(n,e,void 0,r);for(const o in e.attrs)n.setAttribute(UZ.has(o)?o:e8(o),e.attrs[o])}class Pye extends FZ{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=vr}getBaseTargetFromProps(e,i){return e[i]}readValueFromInstance(e,i){if(sx.has(i)){const r=GK(i);return r&&r.default||0}return i=UZ.has(i)?i:e8(i),e.getAttribute(i)}scrapeMotionValuesFromProps(e,i,r){return fZ(e,i,r)}build(e,i,r){cZ(e,i,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,i,r,o){Nye(e,i,r,o)}mount(e){this.isSVGTag=dZ(e.tagName),super.mount(e)}}const Iye=(n,e)=>i8(n)?new Pye(e):new Dye(e,{allowProjection:n!==G.Fragment}),jye=Nbe({...n0e,..._ye,...dye,...kye},Iye),BZ=tbe(jye);function Rye(){var v;const[n,e]=G.useState(""),[i,r]=G.useState(""),[o,l]=G.useState(null),[c,u]=G.useState(!1),h=ys(),g=(v=jd().state)==null?void 0:v.message,y=async _=>{_.preventDefault(),l(null),u(!0);try{const{data:A,error:S}=await Re.auth.signInWithPassword({email:n,password:i});if(S)throw S;A!=null&&A.user&&h("/dashboard")}catch(A){A instanceof Error?A.message.includes("Invalid login credentials")?l("Invalid email or password"):A.message.includes("Email not confirmed")?l("Please confirm your email address before logging in"):l(A.message):l("An unexpected error occurred during login")}finally{u(!1)}};return b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#1a365d] to-[#0f2942] py-12 px-4 sm:px-6 lg:px-8",children:b.jsxs(BZ.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md w-full space-y-8 bg-white p-8 rounded-2xl shadow-xl",children:[b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("img",{src:Y0,alt:"Accreda Logo",className:"h-24 w-auto mb-6 cursor-pointer",onClick:()=>h("/")}),b.jsx("h2",{className:"text-2xl font-bold text-[#1a365d]",children:"Welcome back"}),b.jsx("p",{className:"mt-2 text-sm text-[#4a5568]",children:"Sign in to your EIT Track account"})]}),g&&b.jsx("div",{className:"rounded-lg bg-green-50 p-4 border border-green-100",children:b.jsx("div",{className:"text-sm text-green-700",children:g})}),b.jsxs("form",{className:"mt-8 space-y-6",onSubmit:y,children:[o&&b.jsx("div",{className:"rounded-lg bg-red-50 p-4 border border-red-100",children:b.jsx("div",{className:"text-sm text-red-700",children:o})}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-[#1a365d] mb-1",children:"Email address"}),b.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-200 placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a365d] focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your email",value:n,onChange:_=>e(_.target.value)})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-[#1a365d] mb-1",children:"Password"}),b.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-200 placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a365d] focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your password",value:i,onChange:_=>r(_.target.value)})]})]}),b.jsx("div",{className:"flex items-center justify-end",children:b.jsx("div",{className:"text-sm",children:b.jsx(oc,{to:"/forgot-password",className:"font-medium text-[#1a365d] hover:text-[#2c5282] transition-colors",children:"Forgot your password?"})})}),b.jsx("div",{children:b.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-2.5 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-[#1a365d] hover:bg-[#2c5282] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#1a365d] transition-all duration-300 transform hover:scale-105 disabled:opacity-75 disabled:cursor-not-allowed",children:c?"Signing in...":"Sign in"})}),b.jsx("div",{className:"text-center",children:b.jsxs("p",{className:"text-sm text-[#4a5568]",children:["Don't have an account?"," ",b.jsx(oc,{to:"/signup",className:"font-medium text-[#1a365d] hover:text-[#2c5282] transition-colors",children:"Create one now"})]})})]})]})})}function Mye(){const[n,e]=G.useState({email:"",password:"",confirmPassword:"",fullName:"",organization:"",accountType:"eit",startDate:"",targetDate:""}),[i,r]=G.useState(null),[o,l]=G.useState(!1),[c,u]=G.useState(null),h=ys(),m=async g=>{g.preventDefault(),r(null),l(!0);try{if(n.password!==n.confirmPassword)throw new Error("Passwords do not match");if(n.password.length<6)throw new Error("Password must be at least 6 characters long");if(!n.fullName.trim())throw new Error("Full name is required");if(n.accountType==="supervisor"&&!n.organization.trim())throw new Error("Organization is required for supervisors");if(n.accountType==="eit"&&(!n.startDate||!n.targetDate))throw new Error("Please provide your program start and expected end date.");const{data:y,error:v}=await Re.auth.signUp({email:n.email,password:n.password,options:{emailRedirectTo:`${window.location.origin}/login`}});if(v)throw new Error(`Authentication error: ${v.message}`);if(!y.user)throw new Error("Failed to create user account");const _={id:y.user.id,email:n.email,full_name:n.fullName,account_type:n.accountType,...n.accountType==="supervisor"&&{organization:n.organization},...n.accountType==="eit"&&{start_date:n.startDate,target_date:n.targetDate}},{error:A}=await Re.from(n.accountType==="eit"?"eit_profiles":"supervisor_profiles").insert([_]);if(A)throw new Error(`Failed to create profile: ${A.message}`);u("Account created successfully! Please check your email for verification."),e({email:"",password:"",confirmPassword:"",fullName:"",organization:"",accountType:"eit",startDate:"",targetDate:""}),h("/login",{state:{message:"Please check your email to confirm your account. You can now sign in."}})}catch(y){let v=y instanceof Error?y.message:"An error occurred during signup";(v.includes("duplicate key value")||v.includes("unique constraint")||v.toLowerCase().includes("already exists"))&&(v="An account with this email already exists. Please log in or use a different email address."),r(v)}finally{l(!1)}};return G.useEffect(()=>{Re.auth.getSession().then(({data:{session:g}})=>{g&&h("/dashboard")})},[h]),b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#1a365d] to-[#0f2942] py-12 px-4 sm:px-6 lg:px-8",children:b.jsxs(BZ.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md w-full space-y-8 bg-white p-8 rounded-2xl shadow-xl",children:[b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("img",{src:Y0,alt:"Accreda Logo",className:"h-24 w-auto mb-6 cursor-pointer",onClick:()=>h("/")}),b.jsx("h2",{className:"text-2xl font-bold text-[#1a365d]",children:"Create your account"}),b.jsx("p",{className:"mt-2 text-sm text-[#4a5568]",children:"Join EIT Track to start your journey"})]}),b.jsxs("form",{className:"mt-8 space-y-6",onSubmit:m,children:[i&&b.jsx("div",{className:"rounded-lg bg-red-50 p-4 border border-red-100",children:b.jsx("div",{className:"text-sm text-red-700",children:i})}),c&&b.jsx("div",{className:"rounded-lg bg-green-50 p-4 border border-green-100",children:b.jsx("div",{className:"text-sm text-green-700",children:c})}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex justify-center mb-4 gap-3",children:[b.jsx("button",{type:"button",className:`px-4 py-2 rounded-lg border font-semibold transition-all duration-200 transform focus:outline-none focus:ring-2 focus:ring-[#1a365d]
                  ${n.accountType==="eit"?"bg-[#1a365d] text-white scale-105 shadow-lg":"bg-white text-[#1a365d] border-[#1a365d] hover:scale-105 hover:brightness-95"}
                `,onClick:()=>e({...n,accountType:"eit"}),children:"EIT"}),b.jsx("button",{type:"button",className:`px-4 py-2 rounded-lg border font-semibold transition-all duration-200 transform focus:outline-none focus:ring-2 focus:ring-[#1a365d]
                  ${n.accountType==="supervisor"?"bg-[#1a365d] text-white scale-105 shadow-lg":"bg-white text-[#1a365d] border-[#1a365d] hover:scale-105 hover:brightness-95"}
                `,onClick:()=>e({...n,accountType:"supervisor"}),children:"Supervisor"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"full-name",className:"block text-sm font-medium text-[#1a365d] mb-1",children:"Full Name"}),b.jsx("input",{id:"full-name",name:"full-name",type:"text",autoComplete:"name",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-200 placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a365d] focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your full name",value:n.fullName,onChange:g=>e({...n,fullName:g.target.value})})]}),n.accountType==="supervisor"&&b.jsxs("div",{children:[b.jsx("label",{htmlFor:"organization",className:"block text-sm font-medium text-[#1a365d] mb-1",children:"Organization"}),b.jsx("input",{id:"organization",name:"organization",type:"text",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-200 placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a365d] focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your organization",value:n.organization,onChange:g=>e({...n,organization:g.target.value})})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-[#1a365d] mb-1",children:"Email address"}),b.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-200 placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a365d] focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your email",value:n.email,onChange:g=>e({...n,email:g.target.value})})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-[#1a365d] mb-1",children:"Password"}),b.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-200 placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a365d] focus:border-transparent sm:text-sm transition-colors",placeholder:"Create a password",value:n.password,onChange:g=>e({...n,password:g.target.value})})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-[#1a365d] mb-1",children:"Confirm Password"}),b.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-200 placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a365d] focus:border-transparent sm:text-sm transition-colors",placeholder:"Confirm your password",value:n.confirmPassword,onChange:g=>e({...n,confirmPassword:g.target.value})})]}),n.accountType==="eit"&&b.jsxs("div",{className:"card p-4 mb-2 bg-blue-50/50 border border-blue-100 rounded-lg",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),b.jsx("span",{className:"font-semibold text-blue-800",children:"Program Timeline"})]}),b.jsx("p",{className:"text-xs text-blue-700 mb-3",children:"Set your program start and expected end date for personalized progress tracking."}),b.jsxs("div",{className:"flex flex-col gap-3",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium text-blue-900 mb-1",children:"Start Date"}),b.jsx("input",{type:"date",className:"w-full border border-blue-200 rounded px-3 py-2 text-blue-900 focus:outline-none focus:ring-2 focus:ring-blue-400",value:n.startDate,onChange:g=>e({...n,startDate:g.target.value}),required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium text-blue-900 mb-1",children:"Expected End Date"}),b.jsx("input",{type:"date",className:"w-full border border-blue-200 rounded px-3 py-2 text-blue-900 focus:outline-none focus:ring-2 focus:ring-blue-400",value:n.targetDate,onChange:g=>e({...n,targetDate:g.target.value}),required:!0})]})]})]})]}),b.jsx("div",{children:b.jsx("button",{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-2.5 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-[#1a365d] hover:bg-[#2c5282] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#1a365d] transition-all duration-300 transform hover:scale-105 disabled:opacity-75 disabled:cursor-not-allowed",children:o?"Creating account...":"Create account"})}),b.jsx("div",{className:"text-center",children:b.jsxs("p",{className:"text-sm text-[#4a5568]",children:["Already have an account?"," ",b.jsx(oc,{to:"/login",className:"font-medium text-[#1a365d] hover:text-[#2c5282] transition-colors",children:"Sign in"})]})})]})]})})}function Oye(){const[n,e]=G.useState(""),[i,r]=G.useState(null),[o,l]=G.useState(null),[c,u]=G.useState(!1),h=async m=>{m.preventDefault(),r(null),l(null),u(!0);try{const{error:g}=await Re.auth.resetPasswordForEmail(n,{redirectTo:`${window.location.origin}/reset-password`});if(g)throw g;l("Password reset instructions have been sent to your email address."),e("")}catch(g){r(g instanceof Error?g.message:"An error occurred while sending reset instructions")}finally{u(!1)}};return b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-slate-50 to-slate-100 py-12 px-4 sm:px-6 lg:px-8",children:b.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg",children:[b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("img",{src:Y0,alt:"Accreda Logo",className:"h-24 w-auto mb-6"}),b.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Reset your password"}),b.jsx("p",{className:"mt-2 text-sm text-slate-600 text-center",children:"Enter your email address and we'll send you instructions to reset your password"})]}),o&&b.jsx("div",{className:"rounded-lg bg-green-50 p-4 border border-green-100",children:b.jsx("div",{className:"text-sm text-green-700",children:o})}),b.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[i&&b.jsx("div",{className:"rounded-lg bg-red-50 p-4 border border-red-100",children:b.jsx("div",{className:"text-sm text-red-700",children:i})}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-slate-700 mb-1",children:"Email address"}),b.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your email",value:n,onChange:m=>e(m.target.value)})]}),b.jsx("div",{children:b.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-2.5 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-colors disabled:opacity-75 disabled:cursor-not-allowed",children:c?"Sending instructions...":"Send reset instructions"})}),b.jsx("div",{className:"text-center",children:b.jsxs("p",{className:"text-sm text-slate-600",children:["Remember your password?"," ",b.jsx(oc,{to:"/login",className:"font-medium text-teal-600 hover:text-teal-500 transition-colors",children:"Sign in"})]})})]})]})})}function Fye(){const[n,e]=G.useState(""),[i,r]=G.useState(""),[o,l]=G.useState(null),[c,u]=G.useState(!1),h=ys();G.useEffect(()=>{Re.auth.getSession().then(({data:{session:g}})=>{g||h("/login",{state:{message:"Password reset link is invalid or has expired. Please try again."}})})},[h]);const m=async g=>{if(g.preventDefault(),l(null),n!==i){l("Passwords do not match");return}if(n.length<6){l("Password must be at least 6 characters long");return}u(!0);try{const{error:y}=await Re.auth.updateUser({password:n});if(y)throw y;await Re.auth.signOut(),h("/login",{state:{message:"Your password has been reset successfully. Please sign in with your new password."}})}catch(y){l(y instanceof Error?y.message:"An error occurred while resetting your password")}finally{u(!1)}};return b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-slate-50 to-slate-100 py-12 px-4 sm:px-6 lg:px-8",children:b.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg",children:[b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("img",{src:Y0,alt:"Accreda Logo",className:"h-24 w-auto mb-6"}),b.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Set new password"}),b.jsx("p",{className:"mt-2 text-sm text-slate-600 text-center",children:"Please enter your new password below"})]}),b.jsxs("form",{className:"mt-8 space-y-6",onSubmit:m,children:[o&&b.jsx("div",{className:"rounded-lg bg-red-50 p-4 border border-red-100",children:b.jsx("div",{className:"text-sm text-red-700",children:o})}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-1",children:"New Password"}),b.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your new password",value:n,onChange:g=>e(g.target.value)})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-slate-700 mb-1",children:"Confirm New Password"}),b.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Confirm your new password",value:i,onChange:g=>r(g.target.value)})]})]}),b.jsx("div",{children:b.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-2.5 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-colors disabled:opacity-75 disabled:cursor-not-allowed",children:c?"Resetting password...":"Reset password"})})]})]})})}/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lye={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uye=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ht=(n,e)=>{const i=G.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:u="",children:h,...m},g)=>G.createElement("svg",{ref:g,...Lye,width:o,height:o,stroke:r,strokeWidth:c?Number(l)*24/Number(o):l,className:["lucide",`lucide-${Uye(n)}`,u].join(" "),...m},[...e.map(([y,v])=>G.createElement(y,v)),...Array.isArray(h)?h:[h]]));return i.displayName=`${n}`,i};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=Ht("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=Ht("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bye=Ht("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zZ=Ht("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zye=Ht("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vye=Ht("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=Ht("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wye=Ht("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=Ht("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=Ht("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VZ=Ht("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ye=Ht("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=Ht("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=Ht("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=Ht("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=Ht("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qye=Ht("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hye=Ht("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=Ht("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=Ht("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gye=Ht("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xye=Ht("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yye=Ht("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=Ht("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=Ht("CornerDownRight",[["polyline",{points:"15 10 20 15 15 20",key:"1q7qjw"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WZ=Ht("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=Ht("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d8=Ht("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=Ht("FilePen",[["path",{d:"M12 22h6a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v10",key:"x7tsz2"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10.4 12.6a2 2 0 1 1 3 3L8 21l-4 1 1-4Z",key:"o3xyfb"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=Ht("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kye=Ht("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zye=Ht("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=Ht("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=Ht("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=Ht("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jye=Ht("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Z=Ht("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=Ht("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=Ht("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=Ht("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qZ=Ht("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=Ht("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=Ht("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=Ht("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HZ=Ht("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=Ht("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=Ht("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GZ=Ht("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=Ht("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=Ht("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=Ht("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qye=Ht("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eve=Ht("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tve=Ht("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XZ=Ht("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=Ht("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YZ=Ht("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nve=Ht("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KZ=Ht("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=Ht("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZZ=Ht("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=Ht("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ive={},g$=n=>{let e;const i=new Set,r=(g,y)=>{const v=typeof g=="function"?g(e):g;if(!Object.is(v,e)){const _=e;e=y??(typeof v!="object"||v===null)?v:Object.assign({},e,v),i.forEach(A=>A(e,_))}},o=()=>e,h={setState:r,getState:o,getInitialState:()=>m,subscribe:g=>(i.add(g),()=>i.delete(g)),destroy:()=>{(ive?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},m=e=n(r,o,h);return h},rve=n=>n?g$(n):g$;var JZ={exports:{}},QZ={},eJ={exports:{}},tJ={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z1=G;function sve(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var ove=typeof Object.is=="function"?Object.is:sve,ave=z1.useState,lve=z1.useEffect,cve=z1.useLayoutEffect,uve=z1.useDebugValue;function dve(n,e){var i=e(),r=ave({inst:{value:i,getSnapshot:e}}),o=r[0].inst,l=r[1];return cve(function(){o.value=i,o.getSnapshot=e,Wj(o)&&l({inst:o})},[n,i,e]),lve(function(){return Wj(o)&&l({inst:o}),n(function(){Wj(o)&&l({inst:o})})},[n]),uve(i),i}function Wj(n){var e=n.getSnapshot;n=n.value;try{var i=e();return!ove(n,i)}catch{return!0}}function hve(n,e){return e()}var fve=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?hve:dve;tJ.useSyncExternalStore=z1.useSyncExternalStore!==void 0?z1.useSyncExternalStore:fve;eJ.exports=tJ;var pve=eJ.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D3=G,mve=pve;function gve(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var bve=typeof Object.is=="function"?Object.is:gve,yve=mve.useSyncExternalStore,vve=D3.useRef,wve=D3.useEffect,xve=D3.useMemo,_ve=D3.useDebugValue;QZ.useSyncExternalStoreWithSelector=function(n,e,i,r,o){var l=vve(null);if(l.current===null){var c={hasValue:!1,value:null};l.current=c}else c=l.current;l=xve(function(){function h(_){if(!m){if(m=!0,g=_,_=r(_),o!==void 0&&c.hasValue){var A=c.value;if(o(A,_))return y=A}return y=_}if(A=y,bve(g,_))return A;var S=r(_);return o!==void 0&&o(A,S)?(g=_,A):(g=_,y=S)}var m=!1,g,y,v=i===void 0?null:i;return[function(){return h(e())},v===null?void 0:function(){return h(v())}]},[e,i,r,o]);var u=yve(n,l[0],l[1]);return wve(function(){c.hasValue=!0,c.value=u},[u]),_ve(u),u};JZ.exports=QZ;var kve=JZ.exports;const Eve=Z5(kve),nJ={},{useDebugValue:Sve}=ai,{useSyncExternalStoreWithSelector:Ave}=Eve;let b$=!1;const Tve=n=>n;function Cve(n,e=Tve,i){(nJ?"production":void 0)!=="production"&&i&&!b$&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),b$=!0);const r=Ave(n.subscribe,n.getState,n.getServerState||n.getInitialState,e,i);return Sve(r),r}const y$=n=>{(nJ?"production":void 0)!=="production"&&typeof n!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof n=="function"?rve(n):n,i=(r,o)=>Cve(e,r,o);return Object.assign(i,e),i},bc=n=>n?y$(n):y$;function Dve(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var iJ=Dve,Nve=typeof Gt=="object"&&Gt&&Gt.Object===Object&&Gt,Pve=Nve,Ive=Pve,jve=typeof self=="object"&&self&&self.Object===Object&&self,Rve=Ive||jve||Function("return this")(),rJ=Rve,Mve=rJ,Ove=function(){return Mve.Date.now()},Fve=Ove,Lve=/\s/;function Uve(n){for(var e=n.length;e--&&Lve.test(n.charAt(e)););return e}var Bve=Uve,zve=Bve,Vve=/^\s+/;function Wve(n){return n&&n.slice(0,zve(n)+1).replace(Vve,"")}var $ve=Wve,qve=rJ,Hve=qve.Symbol,sJ=Hve,v$=sJ,oJ=Object.prototype,Gve=oJ.hasOwnProperty,Xve=oJ.toString,Sk=v$?v$.toStringTag:void 0;function Yve(n){var e=Gve.call(n,Sk),i=n[Sk];try{n[Sk]=void 0;var r=!0}catch{}var o=Xve.call(n);return r&&(e?n[Sk]=i:delete n[Sk]),o}var Kve=Yve,Zve=Object.prototype,Jve=Zve.toString;function Qve(n){return Jve.call(n)}var ewe=Qve,w$=sJ,twe=Kve,nwe=ewe,iwe="[object Null]",rwe="[object Undefined]",x$=w$?w$.toStringTag:void 0;function swe(n){return n==null?n===void 0?rwe:iwe:x$&&x$ in Object(n)?twe(n):nwe(n)}var owe=swe;function awe(n){return n!=null&&typeof n=="object"}var lwe=awe,cwe=owe,uwe=lwe,dwe="[object Symbol]";function hwe(n){return typeof n=="symbol"||uwe(n)&&cwe(n)==dwe}var fwe=hwe,pwe=$ve,_$=iJ,mwe=fwe,k$=NaN,gwe=/^[-+]0x[0-9a-f]+$/i,bwe=/^0b[01]+$/i,ywe=/^0o[0-7]+$/i,vwe=parseInt;function wwe(n){if(typeof n=="number")return n;if(mwe(n))return k$;if(_$(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=_$(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=pwe(n);var i=bwe.test(n);return i||ywe.test(n)?vwe(n.slice(2),i?2:8):gwe.test(n)?k$:+n}var xwe=wwe,_we=iJ,$j=Fve,E$=xwe,kwe="Expected a function",Ewe=Math.max,Swe=Math.min;function Awe(n,e,i){var r,o,l,c,u,h,m=0,g=!1,y=!1,v=!0;if(typeof n!="function")throw new TypeError(kwe);e=E$(e)||0,_we(i)&&(g=!!i.leading,y="maxWait"in i,l=y?Ewe(E$(i.maxWait)||0,e):l,v="trailing"in i?!!i.trailing:v);function _(L){var z=r,B=o;return r=o=void 0,m=L,c=n.apply(B,z),c}function A(L){return m=L,u=setTimeout(C,e),g?_(L):c}function S(L){var z=L-h,B=L-m,Y=e-z;return y?Swe(Y,l-B):Y}function T(L){var z=L-h,B=L-m;return h===void 0||z>=e||z<0||y&&B>=l}function C(){var L=$j();if(T(L))return N(L);u=setTimeout(C,S(L))}function N(L){return u=void 0,v&&r?_(L):(r=o=void 0,c)}function I(){u!==void 0&&clearTimeout(u),m=0,r=h=o=u=void 0}function O(){return u===void 0?c:N($j())}function F(){var L=$j(),z=T(L);if(r=arguments,o=this,h=L,z){if(u===void 0)return A(h);if(y)return clearTimeout(u),u=setTimeout(C,e),_(h)}return u===void 0&&(u=setTimeout(C,e)),c}return F.cancel=I,F.flush=O,F}var Twe=Awe;const Cwe=Z5(Twe),Dwe=bc(n=>({results:[],loading:!1,error:null,search:Cwe(async e=>{if(!e.trim()){n({results:[],loading:!1,error:null});return}n({loading:!0,error:null});try{const{data:{user:i}}=await Re.auth.getUser();if(!i)throw new Error("No user found");const{data:r,error:o}=await Re.rpc("search_all",{search_query:e,user_id:i.id});if(o)throw console.error("Search error:",o),new Error(o.message);const l=(r||[]).map(c=>{const u={id:c.id,type:c.type,title:c.title,description:c.description,category:c.category};switch(c.type){case"job":return{...u,metadata:{company:c.company,location:c.location}};case"reference":return{...u,metadata:{email:c.email,referenceNumber:c.reference_number}};case"validator":return{...u,metadata:{email:c.email,skillName:c.skill_name}};default:return u}});n({results:l,loading:!1})}catch(i){console.error("Search error:",i),n({error:"Failed to search",loading:!1})}},300),clearResults:()=>n({results:[],error:null})})),aJ=()=>{const[n,e]=G.useState(""),[i,r]=G.useState(!1),[o,l]=G.useState(null),{results:c,loading:u,error:h,search:m,clearResults:g}=Dwe(),y=ys(),v=G.useRef(null);G.useEffect(()=>{const C=N=>{v.current&&!v.current.contains(N.target)&&r(!1)};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]),G.useEffect(()=>{(async()=>{const{data:{user:N}}=await pl(()=>Promise.resolve().then(()=>zD),void 0).then(F=>F.supabase.auth.getUser());if(!N)return;const{data:I}=await pl(async()=>{const{data:F}=await Promise.resolve().then(()=>zD);return{data:F}},void 0).then(F=>F.supabase.from("eit_profiles").select("id").eq("id",N.id).single()),{data:O}=await pl(async()=>{const{data:F}=await Promise.resolve().then(()=>zD);return{data:F}},void 0).then(F=>F.supabase.from("supervisor_profiles").select("id").eq("id",N.id).single());O?l("supervisor"):I&&l("eit")})()},[]);const _=async C=>{if(e(C),C.trim()){r(!0);try{await m(C)}catch(N){console.error("Search error:",N),r(!0)}}else r(!1),g()},A=C=>{switch(r(!1),e(""),g(),C.type){case"document":y("/dashboard/documents"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("highlight-document",{detail:{documentId:C.id}}))},500);break;case"sao":y("/dashboard/saos"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("highlight-sao",{detail:{saoId:C.id}}))},500);break;case"skill":o==="eit"?(y("/dashboard/skills"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("scroll-to-skill",{detail:{skillId:C.id,timestamp:Date.now()}}))},500)):o==="supervisor"&&(y("/dashboard/supervisor/skills"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("scroll-to-skill",{detail:{skillId:C.id,timestamp:Date.now()}}))},500));break;case"job":y("/dashboard/references"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("scroll-to-item",{detail:{itemId:C.id,itemType:"job"}}))},500);break;case"reference":y("/dashboard/references"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("scroll-to-item",{detail:{itemId:C.id,itemType:"reference"}}))},500);break;case"validator":y("/dashboard/references"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("scroll-to-item",{detail:{itemId:C.id,itemType:"validator"}}))},500);break}},S=C=>{switch(C){case"document":return b.jsx(Rd,{size:16,className:"text-blue-500"});case"sao":return b.jsx(h8,{size:16,className:"text-amber-500"});case"skill":return b.jsx(ox,{size:16,className:"text-green-500"});case"job":return b.jsx(D2,{size:16,className:"text-purple-500"});case"reference":return b.jsx(iA,{size:16,className:"text-indigo-500"});case"validator":return b.jsx(Bm,{size:16,className:"text-teal-500"})}},T=C=>{if(!C.metadata)return null;switch(C.type){case"job":return`${C.metadata.company} • ${C.metadata.location}`;case"reference":return`Reference ${C.metadata.referenceNumber} • ${C.metadata.email}`;case"validator":return`${C.metadata.skillName} • ${C.metadata.email}`;default:return null}};return b.jsxs("div",{className:"relative",ref:v,children:[b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:"text",placeholder:"Search documents, SAOs, skills, jobs, references...",value:n,onChange:C=>_(C.target.value),className:"pl-9 pr-4 py-2 bg-slate-100 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 w-64"}),b.jsx(m8,{className:"absolute left-3 top-2.5 text-slate-400",size:18}),u&&b.jsx(Jye,{className:"absolute right-3 top-2.5 text-slate-400 animate-spin",size:18})]}),i&&(n.trim()||c.length>0)&&b.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white rounded-lg shadow-lg border border-slate-200 max-h-96 overflow-y-auto z-50",children:h?b.jsx("div",{className:"px-4 py-3 text-sm text-red-500",children:h}):c.length>0?b.jsx("div",{className:"py-2",children:c.map(C=>b.jsxs("button",{onClick:()=>A(C),className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center space-x-3",children:[S(C.type),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:C.title}),C.description&&b.jsx("p",{className:"text-xs text-slate-500 truncate",children:C.description}),C.category&&b.jsx("p",{className:"text-xs text-slate-500",children:C.category}),T(C)&&b.jsx("p",{className:"text-xs text-slate-500",children:T(C)})]})]},`${C.type}-${C.id}`))}):b.jsx("div",{className:"px-4 py-3 text-sm text-slate-500",children:"No results found"})})]})},lJ=()=>{const[n,e]=G.useState(!1),[i,r]=G.useState(""),[o,l]=G.useState(""),[c,u]=G.useState(""),[h,m]=G.useState(null),g=G.useRef(null),y=ys();G.useEffect(()=>{(async()=>{var C,N,I;const{data:{user:T}}=await Re.auth.getUser();if(T){l(T.email||""),r(((C=T.user_metadata)==null?void 0:C.full_name)||((N=T.email)==null?void 0:N.split("@")[0])||"User"),u(((I=T.user_metadata)==null?void 0:I.avatar_url)||"");const{data:O}=await Re.from("eit_profiles").select("id").eq("id",T.id).single(),{data:F}=await Re.from("supervisor_profiles").select("id").eq("id",T.id).single();F?m("supervisor"):O&&m("eit")}})()},[]),G.useEffect(()=>{const S=T=>{g.current&&!g.current.contains(T.target)&&e(!1)};return document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[]);const v=async()=>{try{await Re.auth.signOut(),y("/login")}catch(S){console.error("Error signing out:",S)}},_=S=>S.split(" ").map(T=>T[0]).join("").toUpperCase().slice(0,2),A=()=>{y(h==="supervisor"?"/dashboard/supervisor/settings":"/dashboard/settings"),e(!1)};return b.jsxs("div",{className:"relative",ref:g,children:[b.jsxs("button",{className:"flex items-center space-x-2 focus:outline-none",onClick:()=>e(!n),children:[c?b.jsx("img",{src:c,alt:"Avatar",className:"w-8 h-8 rounded-full object-cover bg-teal-500 text-white"}):b.jsx("div",{className:"w-8 h-8 rounded-full bg-teal-500 flex items-center justify-center text-white",children:b.jsx("span",{className:"text-sm font-semibold",children:_(i)})}),b.jsx("span",{className:"hidden md:block text-sm font-medium",children:i}),b.jsx(nA,{size:16,className:`text-slate-500 transition-transform ${n?"rotate-180":""}`})]}),n&&b.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-1 z-50 border border-slate-200 animate-in fade-in slide-in-from-top-3 duration-200",children:[b.jsxs("div",{className:"px-4 py-2 border-b border-slate-200",children:[b.jsx("p",{className:"text-sm font-semibold",children:i}),b.jsx("p",{className:"text-xs text-slate-500",children:o})]}),b.jsxs("ul",{children:[b.jsx("li",{children:b.jsxs("button",{onClick:A,className:"w-full flex items-center px-4 py-2 text-sm text-slate-700 hover:bg-slate-50",children:[b.jsx(g8,{size:16,className:"mr-2"}),"Settings"]})}),b.jsx("li",{className:"border-t border-slate-200 mt-1",children:b.jsxs("button",{onClick:v,className:"w-full flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[b.jsx(f8,{size:16,className:"mr-2"}),"Sign out"]})})]})]})]})},N3=bc((n,e)=>({notifications:[],unreadCount:0,loading:!1,initialized:!1,initialize:async()=>{try{n({loading:!0});const{data:{user:i}}=await Re.auth.getUser();if(!i)return;const{data:r,error:o}=await Re.from("notifications").select("*").eq("user_id",i.id).order("created_at",{ascending:!1});if(o)throw o;n({notifications:r||[],unreadCount:(r==null?void 0:r.filter(l=>!l.read).length)||0,loading:!1,initialized:!0}),await e().setupRealtimeSubscriptions()}catch(i){console.error("Error initializing notifications:",i),n({loading:!1,initialized:!1})}},markAsRead:async i=>{try{const{error:r}=await Re.from("notifications").update({read:!0}).eq("id",i);if(r)throw r;n(o=>({notifications:o.notifications.map(l=>l.id===i?{...l,read:!0}:l),unreadCount:o.unreadCount-1}))}catch(r){console.error("Error marking notification as read:",r)}},markAllAsRead:async()=>{try{const{data:{user:i}}=await Re.auth.getUser();if(!i)return;const{error:r}=await Re.from("notifications").update({read:!0}).eq("user_id",i.id).eq("read",!1);if(r)throw r;n(o=>({notifications:o.notifications.map(l=>({...l,read:!0})),unreadCount:0}))}catch(i){console.error("Error marking all notifications as read:",i)}},clearNotifications:()=>{n({notifications:[],unreadCount:0})},setupRealtimeSubscriptions:async()=>{const{data:{user:i}}=await Re.auth.getUser();if(!i)return;const r=Re.channel("notifications-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${i.id}`},o=>{const l=o.new;n(c=>({notifications:[l,...c.notifications],unreadCount:l.read?c.unreadCount:c.unreadCount+1}))}).subscribe();window.addEventListener("unload",()=>{r.unsubscribe()})}}));function ms(n){const e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function cJ(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}function Nwe(n,e){const i=ms(n);return isNaN(e)?cJ(n,NaN):(i.setDate(i.getDate()+e),i)}const aD=43200,S$=1440;let Pwe={};function Iwe(){return Pwe}function A$(n){const e=ms(n),i=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return i.setUTCFullYear(e.getFullYear()),+n-+i}function jwe(n,e){const i=e*7;return Nwe(n,i)}function HD(n,e){const i=ms(n),r=ms(e),o=i.getTime()-r.getTime();return o<0?-1:o>0?1:o}function Rwe(n){return cJ(n,Date.now())}function Mwe(n,e){const i=ms(n),r=ms(e),o=i.getFullYear()-r.getFullYear(),l=i.getMonth()-r.getMonth();return o*12+l}function Owe(n){return e=>{const r=(n?Math[n]:Math.trunc)(e);return r===0?0:r}}function Fwe(n,e){return+ms(n)-+ms(e)}function Lwe(n){const e=ms(n);return e.setHours(23,59,59,999),e}function Uwe(n){const e=ms(n),i=e.getMonth();return e.setFullYear(e.getFullYear(),i+1,0),e.setHours(23,59,59,999),e}function Bwe(n){const e=ms(n);return+Lwe(e)==+Uwe(e)}function zwe(n,e){const i=ms(n),r=ms(e),o=HD(i,r),l=Math.abs(Mwe(i,r));let c;if(l<1)c=0;else{i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-o*l);let u=HD(i,r)===-o;Bwe(ms(n))&&l===1&&HD(n,r)===1&&(u=!1),c=o*(l-Number(u))}return c===0?0:c}function Vwe(n,e,i){const r=Fwe(n,e)/1e3;return Owe(i==null?void 0:i.roundingMethod)(r)}const Wwe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$we=(n,e,i)=>{let r;const o=Wwe[n];return typeof o=="string"?r=o:e===1?r=o.one:r=o.other.replace("{{count}}",e.toString()),i!=null&&i.addSuffix?i.comparison&&i.comparison>0?"in "+r:r+" ago":r};function qj(n){return(e={})=>{const i=e.width?String(e.width):n.defaultWidth;return n.formats[i]||n.formats[n.defaultWidth]}}const qwe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Hwe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Gwe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Xwe={date:qj({formats:qwe,defaultWidth:"full"}),time:qj({formats:Hwe,defaultWidth:"full"}),dateTime:qj({formats:Gwe,defaultWidth:"full"})},Ywe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Kwe=(n,e,i,r)=>Ywe[n];function Ak(n){return(e,i)=>{const r=i!=null&&i.context?String(i.context):"standalone";let o;if(r==="formatting"&&n.formattingValues){const c=n.defaultFormattingWidth||n.defaultWidth,u=i!=null&&i.width?String(i.width):c;o=n.formattingValues[u]||n.formattingValues[c]}else{const c=n.defaultWidth,u=i!=null&&i.width?String(i.width):n.defaultWidth;o=n.values[u]||n.values[c]}const l=n.argumentCallback?n.argumentCallback(e):e;return o[l]}}const Zwe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Jwe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Qwe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},e1e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},t1e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},n1e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},i1e=(n,e)=>{const i=Number(n),r=i%100;if(r>20||r<10)switch(r%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},r1e={ordinalNumber:i1e,era:Ak({values:Zwe,defaultWidth:"wide"}),quarter:Ak({values:Jwe,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Ak({values:Qwe,defaultWidth:"wide"}),day:Ak({values:e1e,defaultWidth:"wide"}),dayPeriod:Ak({values:t1e,defaultWidth:"wide",formattingValues:n1e,defaultFormattingWidth:"wide"})};function Tk(n){return(e,i={})=>{const r=i.width,o=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],l=e.match(o);if(!l)return null;const c=l[0],u=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],h=Array.isArray(u)?o1e(u,y=>y.test(c)):s1e(u,y=>y.test(c));let m;m=n.valueCallback?n.valueCallback(h):h,m=i.valueCallback?i.valueCallback(m):m;const g=e.slice(c.length);return{value:m,rest:g}}}function s1e(n,e){for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)&&e(n[i]))return i}function o1e(n,e){for(let i=0;i<n.length;i++)if(e(n[i]))return i}function a1e(n){return(e,i={})=>{const r=e.match(n.matchPattern);if(!r)return null;const o=r[0],l=e.match(n.parsePattern);if(!l)return null;let c=n.valueCallback?n.valueCallback(l[0]):l[0];c=i.valueCallback?i.valueCallback(c):c;const u=e.slice(o.length);return{value:c,rest:u}}}const l1e=/^(\d+)(th|st|nd|rd)?/i,c1e=/\d+/i,u1e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},d1e={any:[/^b/i,/^(a|c)/i]},h1e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},f1e={any:[/1/i,/2/i,/3/i,/4/i]},p1e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},m1e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},g1e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},b1e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},y1e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},v1e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},w1e={ordinalNumber:a1e({matchPattern:l1e,parsePattern:c1e,valueCallback:n=>parseInt(n,10)}),era:Tk({matchPatterns:u1e,defaultMatchWidth:"wide",parsePatterns:d1e,defaultParseWidth:"any"}),quarter:Tk({matchPatterns:h1e,defaultMatchWidth:"wide",parsePatterns:f1e,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Tk({matchPatterns:p1e,defaultMatchWidth:"wide",parsePatterns:m1e,defaultParseWidth:"any"}),day:Tk({matchPatterns:g1e,defaultMatchWidth:"wide",parsePatterns:b1e,defaultParseWidth:"any"}),dayPeriod:Tk({matchPatterns:y1e,defaultMatchWidth:"any",parsePatterns:v1e,defaultParseWidth:"any"})},x1e={code:"en-US",formatDistance:$we,formatLong:Xwe,formatRelative:Kwe,localize:r1e,match:w1e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function _1e(n,e,i){const r=Iwe(),o=(i==null?void 0:i.locale)??r.locale??x1e,l=2520,c=HD(n,e);if(isNaN(c))throw new RangeError("Invalid time value");const u=Object.assign({},i,{addSuffix:i==null?void 0:i.addSuffix,comparison:c});let h,m;c>0?(h=ms(e),m=ms(n)):(h=ms(n),m=ms(e));const g=Vwe(m,h),y=(A$(m)-A$(h))/1e3,v=Math.round((g-y)/60);let _;if(v<2)return i!=null&&i.includeSeconds?g<5?o.formatDistance("lessThanXSeconds",5,u):g<10?o.formatDistance("lessThanXSeconds",10,u):g<20?o.formatDistance("lessThanXSeconds",20,u):g<40?o.formatDistance("halfAMinute",0,u):g<60?o.formatDistance("lessThanXMinutes",1,u):o.formatDistance("xMinutes",1,u):v===0?o.formatDistance("lessThanXMinutes",1,u):o.formatDistance("xMinutes",v,u);if(v<45)return o.formatDistance("xMinutes",v,u);if(v<90)return o.formatDistance("aboutXHours",1,u);if(v<S$){const A=Math.round(v/60);return o.formatDistance("aboutXHours",A,u)}else{if(v<l)return o.formatDistance("xDays",1,u);if(v<aD){const A=Math.round(v/S$);return o.formatDistance("xDays",A,u)}else if(v<aD*2)return _=Math.round(v/aD),o.formatDistance("aboutXMonths",_,u)}if(_=zwe(m,h),_<12){const A=Math.round(v/aD);return o.formatDistance("xMonths",A,u)}else{const A=_%12,S=Math.trunc(_/12);return A<3?o.formatDistance("aboutXYears",S,u):A<9?o.formatDistance("overXYears",S,u):o.formatDistance("almostXYears",S+1,u)}}function k1e(n,e){return _1e(n,Rwe(n),e)}function E1e(n,e){return jwe(n,-2)}const uJ=()=>{const[n,e]=G.useState(!1),[i,r]=G.useState(!1),o=G.useRef(null),{notifications:l,unreadCount:c,markAsRead:u,markAllAsRead:h}=N3(),m=ys();G.useEffect(()=>{const T=C=>{o.current&&!o.current.contains(C.target)&&(e(!1),r(!1))};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[]);const g=async T=>{switch(T.read||await u(T.id),T.type){case"validation_request":m("/dashboard/supervisor/reviews");break;case"request":m("/dashboard/supervisor/team");break;case"score":m("/dashboard/skills");break;case"approval":m("/dashboard/skills");break;case"sao_feedback":m("/dashboard/supervisor/reviews");break}e(!1),r(!1)},y=T=>{switch(T){case"request":return"📝";case"score":return"⭐";case"approval":return"✅";case"validation_request":return"🔍";case"sao_feedback":return"📝";case"nudge":return"📣";default:return"📬"}},v=T=>b.jsx("div",{className:`p-3 border-b border-slate-100 hover:bg-slate-50 cursor-pointer ${T.read?"":"bg-slate-50"}`,onClick:()=>g(T),children:b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx("span",{className:"text-xl",children:y(T.type)}),b.jsxs("div",{className:"flex-1",children:[b.jsx("p",{className:"font-medium text-slate-800",children:T.title}),b.jsx("p",{className:"text-sm text-slate-600 mt-1",children:T.message}),b.jsx("p",{className:"text-xs text-slate-500 mt-1",children:k1e(new Date(T.created_at),{addSuffix:!0})})]}),!T.read&&b.jsx("span",{className:"w-2 h-2 bg-teal-500 rounded-full mt-2"})]})},T.id),_=l.slice(0,5),A=E1e(new Date),S=l.filter(T=>new Date(T.created_at)>=A);return b.jsxs("div",{className:"relative inline-block",children:[b.jsxs("button",{className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100 relative",onClick:()=>e(!n),"aria-label":"Notifications",children:[b.jsx(l8,{size:20}),c>0&&b.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),n&&!i&&b.jsxs("div",{ref:o,className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-lg shadow-lg border border-slate-200 z-50",children:[b.jsxs("div",{className:"p-3 border-b border-slate-200 flex justify-between items-center",children:[b.jsx("h3",{className:"font-semibold text-slate-800",children:"Notifications"}),b.jsxs("div",{className:"flex items-center gap-2",children:[c>0&&b.jsx("button",{onClick:()=>h(),className:"text-sm text-teal-600 hover:text-teal-700",children:"Mark all as read"}),b.jsxs("button",{onClick:()=>r(!0),className:"text-sm text-slate-600 hover:text-slate-800 flex items-center gap-1",children:[b.jsx(K0,{size:14}),"View more"]})]})]}),b.jsx("div",{className:"max-h-96 overflow-y-auto",children:_.length>0?_.map(v):b.jsx("div",{className:"p-4 text-center text-slate-500",children:"No notifications"})})]}),i&&b.jsx("div",{className:"fixed inset-0 min-h-screen bg-black bg-opacity-50 z-50 flex items-center justify-center",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-lg mx-4 max-h-[80vh] flex flex-col",children:[b.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[b.jsx("h3",{className:"font-semibold text-slate-800",children:"Notification History"}),b.jsxs("div",{className:"flex items-center gap-2",children:[c>0&&b.jsx("button",{onClick:()=>h(),className:"text-sm text-teal-600 hover:text-teal-700",children:"Mark all as read"}),b.jsx("button",{onClick:()=>r(!1),className:"text-slate-500 hover:text-slate-700",children:b.jsx(zs,{size:20})})]})]}),b.jsx("div",{className:"overflow-y-auto flex-1",children:S.length>0?S.map(v):b.jsx("div",{className:"p-4 text-center text-slate-500",children:"No notifications in the last 2 weeks"})})]})})]})},S1e=({onMenuClick:n})=>b.jsxs("header",{className:"fixed top-0 right-0 left-0 md:left-64 bg-white/80 backdrop-blur-md z-10 border-b border-slate-200 px-4 py-3 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("button",{onClick:n,className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100 md:hidden","aria-label":"Menu",children:b.jsx(qZ,{size:24})}),b.jsx("div",{className:"ml-2 md:ml-0",children:b.jsx("h1",{className:"text-xl font-semibold text-slate-800",children:"EIT Progress"})})]}),b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("div",{className:"hidden md:block",children:b.jsx(aJ,{})}),b.jsx(uJ,{}),b.jsx(lJ,{})]})]}),A1e=()=>{const n=[{name:"Home",path:"/dashboard",icon:b.jsx(C3,{size:20})},{name:"Skills",path:"/dashboard/skills",icon:b.jsx(Zye,{size:20})},{name:"Documents",path:"/dashboard/documents",icon:b.jsx(Rd,{size:20})},{name:"Essays",path:"/dashboard/essays",icon:b.jsx(HZ,{size:20})},{name:"Help",path:"/dashboard/help",icon:b.jsx(B1,{size:20})}];return b.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 p-2 z-10",children:b.jsx("ul",{className:"flex justify-around",children:n.map(e=>b.jsx("li",{children:b.jsxs(S0,{to:e.path,className:({isActive:i})=>`flex flex-col items-center p-2 rounded-lg transition-colors ${i?"text-teal-600":"text-slate-500 hover:text-teal-600"}`,children:[b.jsx("span",{children:e.icon}),b.jsx("span",{className:"text-xs mt-1",children:e.name})]})},e.name))})})},T1e=()=>{const[n,e]=G.useState(!1),[i,r]=G.useState(!0),o=G.useRef(0);G.useEffect(()=>{const u=()=>{const h=window.pageYOffset;h>o.current&&(o.current=h),h>300?(e(!0),r(!1)):h===0?(e(!0),r(!0)):(e(!1),r(!1))};return window.addEventListener("scroll",u),()=>{window.removeEventListener("scroll",u)}},[]);const l=()=>{window.scrollTo({top:0,behavior:"smooth"})},c=()=>{window.scrollTo({top:o.current,behavior:"smooth"})};return b.jsx("div",{className:`fixed bottom-20 md:bottom-6 right-6 transition-all duration-300 z-50 ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"}`,children:b.jsx("button",{onClick:i?c:l,className:`p-3 text-white rounded-full shadow-lg transition-all duration-300 transform hover:scale-110 active:scale-95 ${i?"bg-slate-600 hover:bg-slate-700":"bg-teal-600 hover:bg-teal-700"}`,"aria-label":i?"Scroll to last position":"Scroll to top",children:i?b.jsx(Bye,{size:20}):b.jsx(Vye,{size:20})})})},lD=[{name:"Category 1 – Technical Competence",skills:[{id:"temp-1",name:"1.1 Regulations, Codes & Standards",status:"not-started",rank:void 0},{id:"temp-2",name:"1.2 Technical & Design Constraints",status:"not-started",rank:void 0},{id:"temp-3",name:"1.3 Risk Management for Technical Work",status:"not-started",rank:void 0},{id:"temp-4",name:"1.4 Application of Theory",status:"not-started",rank:void 0},{id:"temp-5",name:"1.5 Solution Techniques – Results Verification",status:"not-started",rank:void 0},{id:"temp-6",name:"1.6 Safety in Design & Technical Work",status:"not-started",rank:void 0},{id:"temp-7",name:"1.7 Systems & Their Components",status:"not-started",rank:void 0},{id:"temp-8",name:"1.8 Project or Asset Life-Cycle Awareness",status:"not-started",rank:void 0},{id:"temp-9",name:"1.9 Quality Assurance",status:"not-started",rank:void 0},{id:"temp-10",name:"1.10 Engineering Documentation",status:"not-started",rank:void 0}]},{name:"Category 2 – Communication",skills:[{id:"temp-11",name:"2.1 Oral Communication (English)",status:"not-started",rank:void 0},{id:"temp-12",name:"2.2 Written Communication (English)",status:"not-started",rank:void 0},{id:"temp-13",name:"2.3 Reading & Comprehension (English)",status:"not-started",rank:void 0}]},{name:"Category 3 – Project & Financial Management",skills:[{id:"temp-14",name:"3.1 Project Management Principles",status:"not-started",rank:void 0},{id:"temp-15",name:"3.2 Finances & Budget",status:"not-started",rank:void 0}]},{name:"Category 4 – Team Effectiveness",skills:[{id:"temp-16",name:"4.1 Promote Team Effectiveness & Resolve Conflict",status:"not-started",rank:void 0}]},{name:"Category 5 – Professional Accountability",skills:[{id:"temp-17",name:"5.1 Professional Accountability (Ethics, Liability, Limits)",status:"not-started",rank:void 0}]},{name:"Category 6 – Social, Economic, Environmental & Sustainability",skills:[{id:"temp-18",name:"6.1 Protection of the Public Interest",status:"not-started",rank:void 0},{id:"temp-19",name:"6.2 Benefits of Engineering to the Public",status:"not-started",rank:void 0},{id:"temp-20",name:"6.3 Role of Regulatory Bodies",status:"not-started",rank:void 0},{id:"temp-21",name:"6.4 Application of Sustainability Principles",status:"not-started",rank:void 0},{id:"temp-22",name:"6.5 Promotion of Sustainability",status:"not-started",rank:void 0}]}],wf=bc((n,e)=>({skillCategories:lD,loading:!1,error:null,skills:[],lastFetched:null,clearState:()=>n({skillCategories:lD,loading:!1,error:null,skills:[],lastFetched:null}),setSkillCategories:i=>n({skillCategories:i}),loadUserSkills:async(i=!1)=>{var l;const r=Date.now(),o=e().lastFetched;if(!(!i&&o&&r-o<5*60*1e3)){n({loading:!0,error:null});try{console.log("Starting loadUserSkills...");const{data:{user:c}}=await Re.auth.getUser();if(!c)throw console.error("No authenticated user found"),new Error("No authenticated user found");console.log("User authenticated:",c.id),await Re.from("eit_profiles").upsert({id:c.id,full_name:((l=c.user_metadata)==null?void 0:l.full_name)||"",email:c.email||""});const[u,h]=await Promise.all([Re.from("skills").select("id, name, category"),Re.from("eit_skills").select("id, eit_id, skill_id, category_name, skill_name, rank, status").eq("eit_id",c.id)]),m=u.data||[];let g=h.data||[];if(console.log("Skills fetched from DB:",m.length),console.log("Existing user skills:",g.length),!g||g.length===0){console.log("No existing skills found, initializing for new user...");const v=lD.flatMap(T=>T.skills.map(C=>{const N=m.find(I=>I.name===C.name&&I.category===T.name);return N?{eit_id:c.id,skill_id:N.id,category_name:T.name,skill_name:C.name,rank:null,status:"not-started"}:(console.warn(`No matching DB skill found for: ${C.name} in ${T.name}`),null)}).filter(Boolean));console.log("Initializing skills:",v.length);const{error:_}=await Re.from("eit_skills").insert(v);if(_)throw console.error("Error initializing user skills:",_),_;console.log("Fetching newly initialized skills...");const{data:A,error:S}=await Re.from("eit_skills").select("id, eit_id, skill_id, category_name, skill_name, rank, status").eq("eit_id",c.id);if(S)throw console.error("Error fetching newly initialized skills:",S),S;g=A,console.log("New skills fetched:",g==null?void 0:g.length)}console.log("Updating store with user skills...");const y=lD.map(v=>({...v,skills:v.skills.map(_=>{const A=m.find(T=>T.name===_.name&&T.category===v.name);if(!A)throw new Error(`No matching DB skill found for: ${_.name} in ${v.name}`);const S=g==null?void 0:g.find(T=>T.skill_id===A.id);return{..._,id:A.id,category_name:A.category,rank:(S==null?void 0:S.rank)||void 0,status:(S==null?void 0:S.status)||"not-started"}})}));console.log("Setting updated categories in store:",y.length),n({skillCategories:y,skills:y.flatMap(v=>v.skills),lastFetched:r})}catch(c){throw console.error("Error in loadUserSkills:",{error:c,message:c.message,details:c.details,hint:c.hint}),n({error:`Failed to load skills: ${c.message||"Unknown error"}`}),c}finally{n({loading:!1})}}},updateSkillRank:async(i,r,o)=>{try{const{data:{user:l},error:c}=await Re.auth.getUser();if(c)throw console.error("Auth error:",c),new Error("Authentication error: "+c.message);if(!l)throw console.error("No authenticated user found"),new Error("No authenticated user found");console.log("Updating skill rank:",{categoryIndex:i,skillId:r,rank:o,userId:l.id});const u=e().skillCategories[i],h=u.skills.find(y=>y.id===r);if(!h)throw console.error("Skill not found:",{categoryIndex:i,skillId:r}),new Error("Skill not found");n(y=>({skillCategories:y.skillCategories.map((v,_)=>_===i?{...v,skills:v.skills.map(A=>A.id===r?{...A,rank:o||void 0,status:o?"completed":"not-started"}:A)}:v)}));const m={eit_id:l.id,skill_id:r,category_name:h.category_name||u.name,skill_name:h.name,rank:o||null,status:o?"completed":"not-started"};console.log("Sending update to Supabase:",m);const{error:g}=await Re.from("eit_skills").upsert(m,{onConflict:"eit_id,skill_id"});if(g)throw console.error("Supabase error:",{error:g,message:g.message,details:g.details,hint:g.hint,code:g.code}),await e().loadUserSkills(),g;console.log("Successfully updated skill rank")}catch(l){console.error("Error updating skill rank:",{error:l,message:l.message,details:l.details,hint:l.hint,code:l.code}),n({error:`Failed to update skill rank: ${l.message||"Unknown error"}`})}},consoleLogSkillCategories:()=>{console.log("Skill categories in store:",e().skillCategories)}})),oE=bc((n,e)=>({overallProgress:0,completedSkills:0,totalSkills:22,documentedExperiences:0,totalExperiences:24,supervisorApprovals:0,totalApprovals:24,lastUpdated:new Date().toISOString(),loading:!1,initialized:!1,lastFetched:null,clearState:()=>n({overallProgress:0,completedSkills:0,documentedExperiences:0,supervisorApprovals:0,lastUpdated:new Date().toISOString(),loading:!1,initialized:!1,lastFetched:null}),setupRealtimeSubscriptions:async()=>{const{data:{user:i}}=await Re.auth.getUser();if(!i)return;const r=Re.channel("experiences-changes").on("postgres_changes",{event:"*",schema:"public",table:"experiences",filter:`eit_id=eq.${i.id}`},()=>{console.log("📝 Experience change detected, updating progress..."),e().updateProgress()}).subscribe(),o=Re.channel("skills-changes").on("postgres_changes",{event:"*",schema:"public",table:"skills",filter:`eit_id=eq.${i.id}`},()=>{console.log("🎯 Skill change detected, updating progress..."),e().updateProgress()}).subscribe(),l=()=>{r.unsubscribe(),o.unsubscribe()};window.addEventListener("unload",l)},initialize:async(i=!1)=>{if(e().loading)return;const r=Date.now(),o=e().lastFetched;if(!(!i&&o&&r-o<5*60*1e3)){n({loading:!0});try{const{data:{user:l}}=await Re.auth.getUser();if(!l)throw new Error("No user found");const c=wf.getState();c.skillCategories.length===0&&await c.loadUserSkills(),await new Promise(T=>setTimeout(T,100));const u=c.skillCategories.reduce((T,C)=>T+C.skills.filter(N=>N.rank!==void 0).length,0),{data:h,error:m}=await Re.from("experiences").select("*").eq("eit_id",l.id);if(m)throw m;const{data:g,error:y}=await Re.from("experiences").select("*").eq("eit_id",l.id).eq("supervisor_approved",!0);if(y)throw y;const v=u/22,_=((h==null?void 0:h.length)||0)/24,A=((g==null?void 0:g.length)||0)/24,S=Math.round((v+_+A)/3*100);console.log("Progress calculation:",{completedSkills:u,skillsProgress:v,experiencesProgress:_,approvalsProgress:A,overallProgress:S}),n({overallProgress:S,completedSkills:u,documentedExperiences:(h==null?void 0:h.length)||0,supervisorApprovals:(g==null?void 0:g.length)||0,lastUpdated:new Date().toISOString(),loading:!1,initialized:!0,lastFetched:r}),await e().setupRealtimeSubscriptions()}catch(l){console.error("Error initializing progress:",l),n({loading:!1,initialized:!1})}}},updateProgress:async(i=!1)=>{if(e().loading)return;const r=Date.now(),o=e().lastFetched;if(!(!i&&o&&r-o<5*60*1e3)){n({loading:!0});try{const{data:{user:l}}=await Re.auth.getUser();if(!l)throw new Error("No user found");const c=wf.getState();c.skillCategories.length===0&&await c.loadUserSkills(),await new Promise(T=>setTimeout(T,100));const u=c.skillCategories.reduce((T,C)=>T+C.skills.filter(N=>N.rank!==void 0).length,0),{data:h,error:m}=await Re.from("experiences").select("*").eq("eit_id",l.id);if(m)throw m;const{data:g,error:y}=await Re.from("experiences").select("*").eq("eit_id",l.id).eq("supervisor_approved",!0);if(y)throw y;const v=u/22,_=((h==null?void 0:h.length)||0)/24,A=((g==null?void 0:g.length)||0)/24,S=Math.round((v+_+A)/3*100);console.log("Progress update calculation:",{completedSkills:u,skillsProgress:v,experiencesProgress:_,approvalsProgress:A,overallProgress:S}),n({overallProgress:S,completedSkills:u,documentedExperiences:(h==null?void 0:h.length)||0,supervisorApprovals:(g==null?void 0:g.length)||0,lastUpdated:new Date().toISOString(),loading:!1,lastFetched:r})}catch(l){console.error("Error updating progress:",l),n({loading:!1})}}}})),C1e=[{name:"Dashboard",path:"/dashboard",icon:b.jsx(C3,{size:20})},{name:"Skills",path:"/dashboard/skills",icon:b.jsx(ox,{size:20})},{name:"SAOs",path:"/dashboard/saos",icon:b.jsx(h8,{size:20})},{name:"Documents",path:"/dashboard/documents",icon:b.jsx(Rd,{size:20})},{name:"Jobs",path:"/dashboard/references",icon:b.jsx(VZ,{size:20})},{name:"Settings",path:"/dashboard/settings",icon:b.jsx(g8,{size:20})}],D1e=[{name:"Help & Support",path:"/dashboard/help",icon:b.jsx(B1,{size:20})}],N1e=({onClose:n})=>{const{overallProgress:e,loading:i}=oE(),r=jd(),o=async()=>{await Re.auth.signOut()},l=c=>c==="/dashboard"?r.pathname==="/dashboard":r.pathname.startsWith(c);return b.jsxs("aside",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-slate-900 text-white flex flex-col",children:[b.jsx("div",{className:"p-4 border-b border-slate-800 flex items-center justify-center",children:b.jsx(S0,{to:"/dashboard",className:"cursor-pointer",children:b.jsx("img",{src:Y0,alt:"Accreda Logo",className:"h-28 w-auto"})})}),b.jsxs("nav",{className:"flex-1 py-6",children:[b.jsx("ul",{className:"space-y-1 px-3",children:C1e.map(c=>b.jsx("li",{children:b.jsxs(S0,{to:c.path,className:({isActive:u})=>`flex items-center px-3 py-2.5 rounded-lg transition-colors ${l(c.path)?"bg-teal-600 text-white":"text-slate-300 hover:text-white hover:bg-slate-800"}`,onClick:()=>{window.scrollTo({top:0,behavior:"smooth"}),n==null||n()},children:[b.jsx("span",{className:"mr-3",children:c.icon}),b.jsx("span",{children:c.name})]})},c.name))}),b.jsxs("div",{className:"mt-10 px-4",children:[b.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 mb-2 px-3",children:"Support"}),b.jsxs("ul",{className:"space-y-1 px-3",children:[D1e.map(c=>b.jsx("li",{children:b.jsxs(S0,{to:c.path,className:({isActive:u})=>`flex items-center px-3 py-2.5 rounded-lg transition-colors ${l(c.path)?"bg-slate-800 text-white":"text-slate-400 hover:text-white hover:bg-slate-800"}`,onClick:()=>{window.scrollTo({top:0,behavior:"smooth"}),n==null||n()},children:[b.jsx("span",{className:"mr-3",children:c.icon}),b.jsx("span",{children:c.name})]})},c.name)),b.jsx("li",{children:b.jsxs("button",{onClick:o,className:"flex items-center px-3 py-2.5 rounded-lg transition-colors w-full text-slate-400 hover:text-white hover:bg-slate-800",children:[b.jsx(f8,{size:20,className:"mr-3"}),b.jsx("span",{children:"Sign Out"})]})})]})]})]}),b.jsxs("div",{className:"p-4 border-t border-slate-800 sticky bottom-0 bg-slate-900",children:[b.jsxs("div",{className:"mb-2 flex justify-between items-center",children:[b.jsx("h3",{className:"text-sm font-medium text-slate-300",children:"Program Progress"}),b.jsx("span",{className:"text-sm font-semibold text-teal-400",children:i?b.jsx("span",{className:"animate-pulse",children:"..."}):`${e}%`})]}),b.jsx("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden",children:b.jsx("div",{className:"h-full bg-teal-500 rounded-full transition-all duration-300",style:{width:i?"0%":`${e}%`}})})]})]})},P1e=[{to:"/dashboard/supervisor",label:"Dashboard",icon:b.jsx(C3,{size:20})},{to:"/dashboard/supervisor/skills",label:"Skills",icon:b.jsx(ox,{size:20})},{to:"/dashboard/supervisor/team",label:"Team",icon:b.jsx(iA,{size:20})},{to:"/dashboard/supervisor/reviews",label:"Reviews",icon:b.jsx(Yye,{size:20})},{to:"/dashboard/supervisor/documents",label:"Documents",icon:b.jsx(Rd,{size:20})},{to:"/dashboard/supervisor/settings",label:"Settings",icon:b.jsx(g8,{size:20})}],I1e=[{to:"/dashboard/supervisor/support",label:"Help & Support",icon:b.jsx(B1,{size:20})}],XM=({onClose:n})=>{const e=ys(),i=N3(o=>o.unreadCount),r=async()=>{await Re.auth.signOut(),e("/login")};return b.jsxs("aside",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-slate-900 text-white flex flex-col",children:[b.jsx("div",{className:"p-4 border-b border-slate-800 flex items-center justify-center",children:b.jsx(S0,{to:"/dashboard/supervisor",className:"cursor-pointer",children:b.jsx("img",{src:Y0,alt:"Accreda Logo",className:"h-28 w-auto"})})}),b.jsxs("nav",{className:"flex-1 py-6",children:[b.jsx("ul",{className:"space-y-1 px-3",children:P1e.map(o=>b.jsx("li",{className:"relative",children:b.jsxs(S0,{to:o.to,className:({isActive:l})=>`flex items-center px-3 py-2.5 rounded-lg transition-colors font-medium ${l?"bg-teal-600 text-white":"text-slate-300 hover:text-white hover:bg-slate-800"}`,end:o.to==="/dashboard/supervisor",onClick:n,children:[b.jsx("span",{className:"mr-3",children:o.icon}),b.jsx("span",{children:o.label}),o.label==="Reviews"&&i>0&&b.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]})},o.to))}),b.jsxs("div",{className:"mt-10 px-4",children:[b.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 mb-2 px-3",children:"Help & Support"}),b.jsxs("ul",{className:"space-y-1 px-3",children:[I1e.map(o=>b.jsx("li",{children:b.jsxs(S0,{to:o.to,className:({isActive:l})=>`flex items-center px-3 py-2.5 rounded-lg transition-colors font-medium ${l?"bg-slate-800 text-white":"text-slate-400 hover:text-white hover:bg-slate-800"}`,onClick:n,children:[b.jsx("span",{className:"mr-3",children:o.icon}),b.jsx("span",{children:o.label})]})},o.to)),b.jsx("li",{children:b.jsxs("button",{onClick:()=>{r(),n==null||n()},className:"flex items-center px-3 py-2.5 rounded-lg transition-colors w-full text-slate-400 hover:text-white hover:bg-slate-800",children:[b.jsx(f8,{size:20,className:"mr-3"}),b.jsx("span",{children:"Sign Out"})]})})]})]})]})]})},j1e=()=>b.jsxs("aside",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-slate-900 text-white flex flex-col animate-pulse [animation-duration:2s]",children:[b.jsx("div",{className:"p-4 border-b border-slate-800 flex items-center justify-center",children:b.jsx("img",{src:Y0,alt:"Accreda Logo",className:"h-28 w-auto"})}),b.jsx("div",{className:"flex-1 py-6 space-y-4 px-6",children:[...Array(6)].map((n,e)=>b.jsx("div",{className:"h-8 bg-slate-800/80 rounded-lg"},e))}),b.jsxs("div",{className:"p-4 border-t border-slate-800 bg-slate-900",children:[b.jsx("div",{className:"h-4 bg-slate-800/80 rounded w-1/2 mb-2"}),b.jsx("div",{className:"h-2 bg-slate-800/80 rounded w-full"})]})]}),T$=({onClose:n})=>{const[e,i]=G.useState(null),[r,o]=G.useState(!0);return G.useEffect(()=>{(async()=>{o(!0);const{data:{user:c}}=await Re.auth.getUser();if(c){const{data:u}=await Re.from("eit_profiles").select("id").eq("id",c.id).single(),{data:h}=await Re.from("supervisor_profiles").select("id").eq("id",c.id).single();i(h?"supervisor":u?"eit":null)}o(!1)})()},[]),r?b.jsx(j1e,{}):e==="supervisor"?b.jsx(XM,{onClose:n}):b.jsx(N1e,{onClose:n})},R1e=({appLoaded:n})=>{const[e,i]=G.useState(!1);return b.jsxs("div",{className:"min-h-screen bg-[#F5F7FA]",children:[b.jsx("div",{className:"hidden md:block",children:b.jsx(T$,{})}),e&&b.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[b.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:()=>i(!1)}),b.jsx("div",{className:"fixed inset-y-0 left-0 w-full max-w-xs bg-white shadow-xl",children:b.jsx(T$,{onClose:()=>i(!1)})})]}),b.jsxs("div",{className:"md:pl-64 flex flex-col min-h-screen",children:[b.jsx(S1e,{onMenuClick:()=>i(!0)}),b.jsx("main",{className:"flex-1 p-4 md:p-6 pt-20 md:pt-24 pb-20 md:pb-6",children:b.jsx(OY,{context:{appLoaded:n}})}),b.jsx("div",{className:"md:hidden",children:b.jsx(A1e,{})}),b.jsx(T1e,{})]})]})},M1e="https://openrouter.ai/api/v1/chat/completions",O1e="https://accreda.com",F1e="Accreda",L1e="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",U1e=async n=>{var o,l,c;const e=`You are an expert in improving the clarity and professionalism of writing. Please enhance the following text by:

1. Fixing any grammatical errors and spelling mistakes
2. Improving sentence structure and flow
3. Enhancing clarity while maintaining the exact same meaning and content
4. Adjusting tone to be more professional and clear
5. Preserving all specific details, numbers, technical terms, and names
6. NOT changing any of the actual content or meaning

Important: Do not modify or change any of the actual content, facts, or meaning of the text. Only improve the grammar, spelling, tone, and clarity.

Please provide the enhanced version with clear markdown formatting to show the changes:

${n}

Format the response as a markdown diff, showing the original text with strikethrough and the improved text in bold.`,i=await fetch(M1e,{method:"POST",headers:{Authorization:`Bearer ${L1e}`,"HTTP-Referer":O1e,"X-Title":F1e,"Content-Type":"application/json"},body:JSON.stringify({model:"meta-llama/llama-3.1-8b-instruct:free",messages:[{role:"user",content:e}]})});if(!i.ok){const u=await i.text();throw new Error(`OpenRouter API error: ${i.status} - ${u}`)}return((c=(l=(o=(await i.json()).choices)==null?void 0:o[0])==null?void 0:l.message)==null?void 0:c.content)||""};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:dJ,setPrototypeOf:C$,isFrozen:B1e,getPrototypeOf:z1e,getOwnPropertyDescriptor:V1e}=Object;let{freeze:Xo,seal:gc,create:hJ}=Object,{apply:YM,construct:KM}=typeof Reflect<"u"&&Reflect;Xo||(Xo=function(e){return e});gc||(gc=function(e){return e});YM||(YM=function(e,i,r){return e.apply(i,r)});KM||(KM=function(e,i){return new e(...i)});const cD=Yo(Array.prototype.forEach),W1e=Yo(Array.prototype.lastIndexOf),D$=Yo(Array.prototype.pop),Ck=Yo(Array.prototype.push),$1e=Yo(Array.prototype.splice),GD=Yo(String.prototype.toLowerCase),Hj=Yo(String.prototype.toString),N$=Yo(String.prototype.match),Dk=Yo(String.prototype.replace),q1e=Yo(String.prototype.indexOf),H1e=Yo(String.prototype.trim),Bc=Yo(Object.prototype.hasOwnProperty),Mo=Yo(RegExp.prototype.test),Nk=G1e(TypeError);function Yo(n){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return YM(n,e,r)}}function G1e(n){return function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return KM(n,i)}}function An(n,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:GD;C$&&C$(n,null);let r=e.length;for(;r--;){let o=e[r];if(typeof o=="string"){const l=i(o);l!==o&&(B1e(e)||(e[r]=l),o=l)}n[o]=!0}return n}function X1e(n){for(let e=0;e<n.length;e++)Bc(n,e)||(n[e]=null);return n}function _h(n){const e=hJ(null);for(const[i,r]of dJ(n))Bc(n,i)&&(Array.isArray(r)?e[i]=X1e(r):r&&typeof r=="object"&&r.constructor===Object?e[i]=_h(r):e[i]=r);return e}function Pk(n,e){for(;n!==null;){const r=V1e(n,e);if(r){if(r.get)return Yo(r.get);if(typeof r.value=="function")return Yo(r.value)}n=z1e(n)}function i(){return null}return i}const P$=Xo(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Gj=Xo(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Xj=Xo(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Y1e=Xo(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Yj=Xo(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),K1e=Xo(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),I$=Xo(["#text"]),j$=Xo(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Kj=Xo(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),R$=Xo(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),uD=Xo(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Z1e=gc(/\{\{[\w\W]*|[\w\W]*\}\}/gm),J1e=gc(/<%[\w\W]*|[\w\W]*%>/gm),Q1e=gc(/\$\{[\w\W]*/gm),exe=gc(/^data-[\-\w.\u00B7-\uFFFF]+$/),txe=gc(/^aria-[\-\w]+$/),fJ=gc(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),nxe=gc(/^(?:\w+script|data):/i),ixe=gc(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),pJ=gc(/^html$/i),rxe=gc(/^[a-z][.\w]*(-[.\w]+)+$/i);var M$=Object.freeze({__proto__:null,ARIA_ATTR:txe,ATTR_WHITESPACE:ixe,CUSTOM_ELEMENT:rxe,DATA_ATTR:exe,DOCTYPE_NAME:pJ,ERB_EXPR:J1e,IS_ALLOWED_URI:fJ,IS_SCRIPT_OR_DATA:nxe,MUSTACHE_EXPR:Z1e,TMPLIT_EXPR:Q1e});const Ik={element:1,text:3,progressingInstruction:7,comment:8,document:9},sxe=function(){return typeof window>"u"?null:window},oxe=function(e,i){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const o="data-tt-policy-suffix";i&&i.hasAttribute(o)&&(r=i.getAttribute(o));const l="dompurify"+(r?"#"+r:"");try{return e.createPolicy(l,{createHTML(c){return c},createScriptURL(c){return c}})}catch{return console.warn("TrustedTypes policy "+l+" could not be created."),null}},O$=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function mJ(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:sxe();const e=Dt=>mJ(Dt);if(e.version="3.2.6",e.removed=[],!n||!n.document||n.document.nodeType!==Ik.document||!n.Element)return e.isSupported=!1,e;let{document:i}=n;const r=i,o=r.currentScript,{DocumentFragment:l,HTMLTemplateElement:c,Node:u,Element:h,NodeFilter:m,NamedNodeMap:g=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:y,DOMParser:v,trustedTypes:_}=n,A=h.prototype,S=Pk(A,"cloneNode"),T=Pk(A,"remove"),C=Pk(A,"nextSibling"),N=Pk(A,"childNodes"),I=Pk(A,"parentNode");if(typeof c=="function"){const Dt=i.createElement("template");Dt.content&&Dt.content.ownerDocument&&(i=Dt.content.ownerDocument)}let O,F="";const{implementation:L,createNodeIterator:z,createDocumentFragment:B,getElementsByTagName:Y}=i,{importNode:se}=r;let de=O$();e.isSupported=typeof dJ=="function"&&typeof I=="function"&&L&&L.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:J,ERB_EXPR:be,TMPLIT_EXPR:q,DATA_ATTR:Te,ARIA_ATTR:ie,IS_SCRIPT_OR_DATA:ce,ATTR_WHITESPACE:X,CUSTOM_ELEMENT:K}=M$;let{IS_ALLOWED_URI:ne}=M$,ee=null;const ue=An({},[...P$,...Gj,...Xj,...Yj,...I$]);let Q=null;const fe=An({},[...j$,...Kj,...R$,...uD]);let Se=Object.seal(hJ(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Oe=null,Ie=null,je=!0,Be=!0,Fe=!1,Ae=!0,ke=!1,ze=!0,$=!1,Ce=!1,Me=!1,ye=!1,_e=!1,Le=!1,Ve=!0,$e=!1;const Ne="user-content-";let Ee=!0,ve=!1,ae={},Ue=null;const Je=An({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let nt=null;const dt=An({},["audio","video","img","source","image","track"]);let ft=null;const Ot=An({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ct="http://www.w3.org/1998/Math/MathML",$t="http://www.w3.org/2000/svg",At="http://www.w3.org/1999/xhtml";let Zt=At,qt=!1,En=null;const Or=An({},[Ct,$t,At],Hj);let $i=An({},["mi","mo","mn","ms","mtext"]),qi=An({},["annotation-xml"]);const Pi=An({},["title","style","font","a","script"]);let Yn=null;const bi=["application/xhtml+xml","text/html"],yi="text/html";let mt=null,Ft=null;const on=i.createElement("form"),Mn=function(He){return He instanceof RegExp||He instanceof Function},On=function(){let He=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ft&&Ft===He)){if((!He||typeof He!="object")&&(He={}),He=_h(He),Yn=bi.indexOf(He.PARSER_MEDIA_TYPE)===-1?yi:He.PARSER_MEDIA_TYPE,mt=Yn==="application/xhtml+xml"?Hj:GD,ee=Bc(He,"ALLOWED_TAGS")?An({},He.ALLOWED_TAGS,mt):ue,Q=Bc(He,"ALLOWED_ATTR")?An({},He.ALLOWED_ATTR,mt):fe,En=Bc(He,"ALLOWED_NAMESPACES")?An({},He.ALLOWED_NAMESPACES,Hj):Or,ft=Bc(He,"ADD_URI_SAFE_ATTR")?An(_h(Ot),He.ADD_URI_SAFE_ATTR,mt):Ot,nt=Bc(He,"ADD_DATA_URI_TAGS")?An(_h(dt),He.ADD_DATA_URI_TAGS,mt):dt,Ue=Bc(He,"FORBID_CONTENTS")?An({},He.FORBID_CONTENTS,mt):Je,Oe=Bc(He,"FORBID_TAGS")?An({},He.FORBID_TAGS,mt):_h({}),Ie=Bc(He,"FORBID_ATTR")?An({},He.FORBID_ATTR,mt):_h({}),ae=Bc(He,"USE_PROFILES")?He.USE_PROFILES:!1,je=He.ALLOW_ARIA_ATTR!==!1,Be=He.ALLOW_DATA_ATTR!==!1,Fe=He.ALLOW_UNKNOWN_PROTOCOLS||!1,Ae=He.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ke=He.SAFE_FOR_TEMPLATES||!1,ze=He.SAFE_FOR_XML!==!1,$=He.WHOLE_DOCUMENT||!1,ye=He.RETURN_DOM||!1,_e=He.RETURN_DOM_FRAGMENT||!1,Le=He.RETURN_TRUSTED_TYPE||!1,Me=He.FORCE_BODY||!1,Ve=He.SANITIZE_DOM!==!1,$e=He.SANITIZE_NAMED_PROPS||!1,Ee=He.KEEP_CONTENT!==!1,ve=He.IN_PLACE||!1,ne=He.ALLOWED_URI_REGEXP||fJ,Zt=He.NAMESPACE||At,$i=He.MATHML_TEXT_INTEGRATION_POINTS||$i,qi=He.HTML_INTEGRATION_POINTS||qi,Se=He.CUSTOM_ELEMENT_HANDLING||{},He.CUSTOM_ELEMENT_HANDLING&&Mn(He.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Se.tagNameCheck=He.CUSTOM_ELEMENT_HANDLING.tagNameCheck),He.CUSTOM_ELEMENT_HANDLING&&Mn(He.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Se.attributeNameCheck=He.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),He.CUSTOM_ELEMENT_HANDLING&&typeof He.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Se.allowCustomizedBuiltInElements=He.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ke&&(Be=!1),_e&&(ye=!0),ae&&(ee=An({},I$),Q=[],ae.html===!0&&(An(ee,P$),An(Q,j$)),ae.svg===!0&&(An(ee,Gj),An(Q,Kj),An(Q,uD)),ae.svgFilters===!0&&(An(ee,Xj),An(Q,Kj),An(Q,uD)),ae.mathMl===!0&&(An(ee,Yj),An(Q,R$),An(Q,uD))),He.ADD_TAGS&&(ee===ue&&(ee=_h(ee)),An(ee,He.ADD_TAGS,mt)),He.ADD_ATTR&&(Q===fe&&(Q=_h(Q)),An(Q,He.ADD_ATTR,mt)),He.ADD_URI_SAFE_ATTR&&An(ft,He.ADD_URI_SAFE_ATTR,mt),He.FORBID_CONTENTS&&(Ue===Je&&(Ue=_h(Ue)),An(Ue,He.FORBID_CONTENTS,mt)),Ee&&(ee["#text"]=!0),$&&An(ee,["html","head","body"]),ee.table&&(An(ee,["tbody"]),delete Oe.tbody),He.TRUSTED_TYPES_POLICY){if(typeof He.TRUSTED_TYPES_POLICY.createHTML!="function")throw Nk('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof He.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Nk('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');O=He.TRUSTED_TYPES_POLICY,F=O.createHTML("")}else O===void 0&&(O=oxe(_,o)),O!==null&&typeof F=="string"&&(F=O.createHTML(""));Xo&&Xo(He),Ft=He}},pr=An({},[...Gj,...Xj,...Y1e]),Fi=An({},[...Yj,...K1e]),gt=function(He){let rt=I(He);(!rt||!rt.tagName)&&(rt={namespaceURI:Zt,tagName:"template"});const wt=GD(He.tagName),Sn=GD(rt.tagName);return En[He.namespaceURI]?He.namespaceURI===$t?rt.namespaceURI===At?wt==="svg":rt.namespaceURI===Ct?wt==="svg"&&(Sn==="annotation-xml"||$i[Sn]):!!pr[wt]:He.namespaceURI===Ct?rt.namespaceURI===At?wt==="math":rt.namespaceURI===$t?wt==="math"&&qi[Sn]:!!Fi[wt]:He.namespaceURI===At?rt.namespaceURI===$t&&!qi[Sn]||rt.namespaceURI===Ct&&!$i[Sn]?!1:!Fi[wt]&&(Pi[wt]||!pr[wt]):!!(Yn==="application/xhtml+xml"&&En[He.namespaceURI]):!1},bn=function(He){Ck(e.removed,{element:He});try{I(He).removeChild(He)}catch{T(He)}},Hi=function(He,rt){try{Ck(e.removed,{attribute:rt.getAttributeNode(He),from:rt})}catch{Ck(e.removed,{attribute:null,from:rt})}if(rt.removeAttribute(He),He==="is")if(ye||_e)try{bn(rt)}catch{}else try{rt.setAttribute(He,"")}catch{}},Er=function(He){let rt=null,wt=null;if(Me)He="<remove></remove>"+He;else{const Qn=N$(He,/^[\r\n\t ]+/);wt=Qn&&Qn[0]}Yn==="application/xhtml+xml"&&Zt===At&&(He='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+He+"</body></html>");const Sn=O?O.createHTML(He):He;if(Zt===At)try{rt=new v().parseFromString(Sn,Yn)}catch{}if(!rt||!rt.documentElement){rt=L.createDocument(Zt,"template",null);try{rt.documentElement.innerHTML=qt?F:Sn}catch{}}const ui=rt.body||rt.documentElement;return He&&wt&&ui.insertBefore(i.createTextNode(wt),ui.childNodes[0]||null),Zt===At?Y.call(rt,$?"html":"body")[0]:$?rt.documentElement:ui},Fr=function(He){return z.call(He.ownerDocument||He,He,m.SHOW_ELEMENT|m.SHOW_COMMENT|m.SHOW_TEXT|m.SHOW_PROCESSING_INSTRUCTION|m.SHOW_CDATA_SECTION,null)},Gs=function(He){return He instanceof y&&(typeof He.nodeName!="string"||typeof He.textContent!="string"||typeof He.removeChild!="function"||!(He.attributes instanceof g)||typeof He.removeAttribute!="function"||typeof He.setAttribute!="function"||typeof He.namespaceURI!="string"||typeof He.insertBefore!="function"||typeof He.hasChildNodes!="function")},ws=function(He){return typeof u=="function"&&He instanceof u};function sr(Dt,He,rt){cD(Dt,wt=>{wt.call(e,He,rt,Ft)})}const xs=function(He){let rt=null;if(sr(de.beforeSanitizeElements,He,null),Gs(He))return bn(He),!0;const wt=mt(He.nodeName);if(sr(de.uponSanitizeElement,He,{tagName:wt,allowedTags:ee}),ze&&He.hasChildNodes()&&!ws(He.firstElementChild)&&Mo(/<[/\w!]/g,He.innerHTML)&&Mo(/<[/\w!]/g,He.textContent)||He.nodeType===Ik.progressingInstruction||ze&&He.nodeType===Ik.comment&&Mo(/<[/\w]/g,He.data))return bn(He),!0;if(!ee[wt]||Oe[wt]){if(!Oe[wt]&&Jr(wt)&&(Se.tagNameCheck instanceof RegExp&&Mo(Se.tagNameCheck,wt)||Se.tagNameCheck instanceof Function&&Se.tagNameCheck(wt)))return!1;if(Ee&&!Ue[wt]){const Sn=I(He)||He.parentNode,ui=N(He)||He.childNodes;if(ui&&Sn){const Qn=ui.length;for(let or=Qn-1;or>=0;--or){const Gi=S(ui[or],!0);Gi.__removalCount=(He.__removalCount||0)+1,Sn.insertBefore(Gi,C(He))}}}return bn(He),!0}return He instanceof h&&!gt(He)||(wt==="noscript"||wt==="noembed"||wt==="noframes")&&Mo(/<\/no(script|embed|frames)/i,He.innerHTML)?(bn(He),!0):(ke&&He.nodeType===Ik.text&&(rt=He.textContent,cD([J,be,q],Sn=>{rt=Dk(rt,Sn," ")}),He.textContent!==rt&&(Ck(e.removed,{element:He.cloneNode()}),He.textContent=rt)),sr(de.afterSanitizeElements,He,null),!1)},yo=function(He,rt,wt){if(Ve&&(rt==="id"||rt==="name")&&(wt in i||wt in on))return!1;if(!(Be&&!Ie[rt]&&Mo(Te,rt))){if(!(je&&Mo(ie,rt))){if(!Q[rt]||Ie[rt]){if(!(Jr(He)&&(Se.tagNameCheck instanceof RegExp&&Mo(Se.tagNameCheck,He)||Se.tagNameCheck instanceof Function&&Se.tagNameCheck(He))&&(Se.attributeNameCheck instanceof RegExp&&Mo(Se.attributeNameCheck,rt)||Se.attributeNameCheck instanceof Function&&Se.attributeNameCheck(rt))||rt==="is"&&Se.allowCustomizedBuiltInElements&&(Se.tagNameCheck instanceof RegExp&&Mo(Se.tagNameCheck,wt)||Se.tagNameCheck instanceof Function&&Se.tagNameCheck(wt))))return!1}else if(!ft[rt]){if(!Mo(ne,Dk(wt,X,""))){if(!((rt==="src"||rt==="xlink:href"||rt==="href")&&He!=="script"&&q1e(wt,"data:")===0&&nt[He])){if(!(Fe&&!Mo(ce,Dk(wt,X,"")))){if(wt)return!1}}}}}}return!0},Jr=function(He){return He!=="annotation-xml"&&N$(He,K)},Lr=function(He){sr(de.beforeSanitizeAttributes,He,null);const{attributes:rt}=He;if(!rt||Gs(He))return;const wt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Q,forceKeepAttr:void 0};let Sn=rt.length;for(;Sn--;){const ui=rt[Sn],{name:Qn,namespaceURI:or,value:Gi}=ui,Qo=mt(Qn),xl=Gi;let xn=Qn==="value"?xl:H1e(xl);if(wt.attrName=Qo,wt.attrValue=xn,wt.keepAttr=!0,wt.forceKeepAttr=void 0,sr(de.uponSanitizeAttribute,He,wt),xn=wt.attrValue,$e&&(Qo==="id"||Qo==="name")&&(Hi(Qn,He),xn=Ne+xn),ze&&Mo(/((--!?|])>)|<\/(style|title)/i,xn)){Hi(Qn,He);continue}if(wt.forceKeepAttr)continue;if(!wt.keepAttr){Hi(Qn,He);continue}if(!Ae&&Mo(/\/>/i,xn)){Hi(Qn,He);continue}ke&&cD([J,be,q],wo=>{xn=Dk(xn,wo," ")});const vo=mt(He.nodeName);if(!yo(vo,Qo,xn)){Hi(Qn,He);continue}if(O&&typeof _=="object"&&typeof _.getAttributeType=="function"&&!or)switch(_.getAttributeType(vo,Qo)){case"TrustedHTML":{xn=O.createHTML(xn);break}case"TrustedScriptURL":{xn=O.createScriptURL(xn);break}}if(xn!==xl)try{or?He.setAttributeNS(or,Qn,xn):He.setAttribute(Qn,xn),Gs(He)?bn(He):D$(e.removed)}catch{Hi(Qn,He)}}sr(de.afterSanitizeAttributes,He,null)},xi=function Dt(He){let rt=null;const wt=Fr(He);for(sr(de.beforeSanitizeShadowDOM,He,null);rt=wt.nextNode();)sr(de.uponSanitizeShadowNode,rt,null),xs(rt),Lr(rt),rt.content instanceof l&&Dt(rt.content);sr(de.afterSanitizeShadowDOM,He,null)};return e.sanitize=function(Dt){let He=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},rt=null,wt=null,Sn=null,ui=null;if(qt=!Dt,qt&&(Dt="<!-->"),typeof Dt!="string"&&!ws(Dt))if(typeof Dt.toString=="function"){if(Dt=Dt.toString(),typeof Dt!="string")throw Nk("dirty is not a string, aborting")}else throw Nk("toString is not a function");if(!e.isSupported)return Dt;if(Ce||On(He),e.removed=[],typeof Dt=="string"&&(ve=!1),ve){if(Dt.nodeName){const Gi=mt(Dt.nodeName);if(!ee[Gi]||Oe[Gi])throw Nk("root node is forbidden and cannot be sanitized in-place")}}else if(Dt instanceof u)rt=Er("<!---->"),wt=rt.ownerDocument.importNode(Dt,!0),wt.nodeType===Ik.element&&wt.nodeName==="BODY"||wt.nodeName==="HTML"?rt=wt:rt.appendChild(wt);else{if(!ye&&!ke&&!$&&Dt.indexOf("<")===-1)return O&&Le?O.createHTML(Dt):Dt;if(rt=Er(Dt),!rt)return ye?null:Le?F:""}rt&&Me&&bn(rt.firstChild);const Qn=Fr(ve?Dt:rt);for(;Sn=Qn.nextNode();)xs(Sn),Lr(Sn),Sn.content instanceof l&&xi(Sn.content);if(ve)return Dt;if(ye){if(_e)for(ui=B.call(rt.ownerDocument);rt.firstChild;)ui.appendChild(rt.firstChild);else ui=rt;return(Q.shadowroot||Q.shadowrootmode)&&(ui=se.call(r,ui,!0)),ui}let or=$?rt.outerHTML:rt.innerHTML;return $&&ee["!doctype"]&&rt.ownerDocument&&rt.ownerDocument.doctype&&rt.ownerDocument.doctype.name&&Mo(pJ,rt.ownerDocument.doctype.name)&&(or="<!DOCTYPE "+rt.ownerDocument.doctype.name+`>
`+or),ke&&cD([J,be,q],Gi=>{or=Dk(or,Gi," ")}),O&&Le?O.createHTML(or):or},e.setConfig=function(){let Dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};On(Dt),Ce=!0},e.clearConfig=function(){Ft=null,Ce=!1},e.isValidAttribute=function(Dt,He,rt){Ft||On({});const wt=mt(Dt),Sn=mt(He);return yo(wt,Sn,rt)},e.addHook=function(Dt,He){typeof He=="function"&&Ck(de[Dt],He)},e.removeHook=function(Dt,He){if(He!==void 0){const rt=W1e(de[Dt],He);return rt===-1?void 0:$1e(de[Dt],rt,1)[0]}return D$(de[Dt])},e.removeHooks=function(Dt){de[Dt]=[]},e.removeAllHooks=function(){de=O$()},e}var V1=mJ();const b8=({feedback:n,onResolve:e,onSubmitFeedback:i,isSupervisor:r,saoContent:o})=>{const[l,c]=G.useState(""),[u,h]=G.useState(!1),[m,g]=G.useState(0),[y,v]=G.useState(!1),[_,A]=G.useState(null);G.useEffect(()=>{(async()=>{if(n.length>0){const{count:L}=await Re.from("sao_annotation").select("id",{count:"exact",head:!0}).eq("sao_id",n[0].sao_id);g(L||0)}})()},[n]);const S=async F=>{if(F.preventDefault(),!(!l.trim()&&m===0)){h(!0);try{await i(n[0].sao_id,l),c("")}catch(L){console.error("Error submitting feedback:",L)}finally{h(!1)}}},T=async()=>{if(o){v(!0);try{const F=await U1e(o);A(F)}catch(F){console.error("Error in handleEnhanceClarity:",F),alert(F instanceof Error?F.message:"Failed to enhance text. Please try again.")}finally{v(!1)}}},C=()=>{_&&(c(F=>{const L=_.replace(/~~(.*?)~~/g,"").replace(/\*\*(.*?)\*\*/g,"$1");return F?`${F}

Enhanced Version:
${L}`:`Enhanced Version:
${L}`}),A(null))},N=()=>{A(null)},I=F=>{switch(F){case"pending":return b.jsx(O0,{className:"text-yellow-500",size:16});case"submitted":return b.jsx(Bm,{className:"text-green-500",size:16});case"resolved":return b.jsx(ZZ,{className:"text-slate-400",size:16});default:return null}},O=F=>{switch(F){case"pending":return"Pending Review";case"submitted":return"Feedback Submitted";case"resolved":return"Resolved";default:return F}};return b.jsxs("div",{className:"space-y-4",children:[n.map(F=>b.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[I(F.status),b.jsx("span",{className:"text-sm font-medium text-slate-700",children:O(F.status)})]}),F.feedback&&b.jsx("div",{className:"text-slate-700 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:V1.sanitize(F.feedback)}})]},F.id)),r&&n.length>0&&n[0].status==="pending"&&b.jsxs("form",{onSubmit:S,className:"mt-4",children:[o&&b.jsx("div",{className:"mb-4",children:b.jsxs("button",{type:"button",onClick:T,disabled:!o||u||y,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-teal-600 hover:text-teal-700 hover:bg-teal-50 rounded-md transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:[b.jsx(eve,{size:16,className:y?"animate-pulse":""}),y?"Enhancing...":"Enhance with AI"]})}),_&&b.jsxs("div",{className:"mb-4 p-4 bg-slate-50 rounded-lg",children:[b.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:_}}),b.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[b.jsx("button",{type:"button",onClick:C,className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 hover:bg-teal-700 rounded-md transition-all duration-300 hover:scale-105 active:scale-95",children:"Accept Changes"}),b.jsx("button",{type:"button",onClick:N,className:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-800 hover:bg-slate-100 rounded-md transition-all duration-300 hover:scale-105 active:scale-95",children:"Decline"})]})]}),b.jsx("textarea",{value:l,onChange:F=>c(F.target.value),placeholder:"Enter your feedback...",className:"w-full px-4 py-3 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",rows:4,disabled:u}),b.jsx("div",{className:"mt-2 flex justify-end",children:b.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u||!l.trim()&&m===0,children:u?"Submitting...":"Submit Feedback"})})]})]})},axe=({isOpen:n,onClose:e,skillName:i,saos:r,jobs:o})=>{const l=ys();if(!n)return null;const c=h=>{l(`/saos?saoId=${h}`),e()},u=h=>{l(`/references?jobId=${h}`),e()};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:b.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsxs("h3",{className:"text-lg font-semibold",children:["Linked Items for ",i]}),b.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600",children:b.jsx(zs,{size:24})})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Linked SAOs"}),b.jsx("div",{className:"space-y-4",children:r.length>0?r.map(h=>b.jsxs("div",{className:"border rounded-lg p-4 hover:bg-slate-50",children:[b.jsxs("div",{className:"flex justify-between items-start mb-2",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("h4",{className:"font-medium text-slate-900",children:h.title}),h.feedback&&h.feedback.length>0&&b.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[b.jsx(O0,{size:14,className:"text-blue-500"}),b.jsx("span",{className:"text-xs text-blue-600",children:h.feedback.some(m=>m.status==="pending")?"Feedback Pending":"Has Feedback"})]})]}),b.jsx("button",{onClick:()=>c(h.id),className:"p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Open SAO",children:b.jsx(u8,{size:18})})]}),b.jsx("div",{className:"text-sm text-slate-600 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:V1.sanitize(h.content)}}),h.feedback&&h.feedback.length>0&&b.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200",children:b.jsx(b8,{feedback:h.feedback,onResolve:async()=>Promise.resolve(),onSubmitFeedback:async()=>Promise.resolve(),isSupervisor:!1})}),b.jsxs("div",{className:"mt-2 text-xs text-slate-500",children:["Created: ",new Date(h.created_at).toLocaleDateString()]})]},h.id)):b.jsx("p",{className:"text-slate-500 italic",children:"No SAOs linked to this skill yet."})})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Linked Jobs"}),b.jsx("div",{className:"space-y-4",children:o.length>0?o.map(h=>b.jsxs("div",{className:"border rounded-lg p-4 hover:bg-slate-50",children:[b.jsxs("div",{className:"flex justify-between items-start mb-2",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"font-medium text-slate-900",children:h.title}),b.jsx("p",{className:"text-sm text-slate-600",children:h.company})]}),b.jsx("button",{onClick:()=>u(h.id),className:"p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Open Job",children:b.jsx(D2,{size:18})})]}),b.jsxs("div",{className:"mt-2 text-xs text-slate-500",children:[new Date(h.start_date).toLocaleDateString()," - ",h.end_date?new Date(h.end_date).toLocaleDateString():"Present"]})]},h.id)):b.jsx("p",{className:"text-slate-500 italic",children:"No jobs linked to this skill yet."})})]})]}),b.jsx("div",{className:"flex justify-end mt-6",children:b.jsx("button",{onClick:e,className:"btn btn-primary",children:"Close"})})]})})},lxe=G.memo(({skill:n,categoryIndex:e,onRankChange:i,getStatusIcon:r,getStatusLabel:o,getStatusClass:l,getRankColor:c,getRankLabel:u,skillRef:h,linkedSkillIds:m,fetchLinkedItems:g})=>{const[y,v]=G.useState(!1),[_,A]=G.useState([]),[S,T]=G.useState([]),[C,N]=G.useState(!1),I=m.has(n.id),O=async()=>{N(!0);try{const{saos:F,jobs:L}=await g(n.id);A(F),T(L),v(!0)}catch(F){console.error("Error fetching linked items:",F)}finally{N(!1)}};return b.jsxs(b.Fragment,{children:[b.jsxs("div",{ref:h,className:"flex items-center justify-between p-3 rounded-lg border hover:border-slate-300 hover:bg-slate-50 transition-colors",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"mr-3",children:r(n)}),b.jsx("span",{className:"font-medium",children:n.name})]}),b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsx("button",{onClick:O,className:`p-2 rounded-full transition-colors ${I?"text-amber-500 hover:text-amber-600 hover:bg-amber-50 shadow-[0_0_8px_rgba(245,158,11,0.5)]":"text-slate-400 hover:text-slate-600 hover:bg-slate-100"}`,title:I?"View linked items":"No linked items",disabled:C,children:b.jsx(Rd,{size:18,className:C?"animate-pulse":""})}),b.jsxs("div",{className:"relative",children:[b.jsxs("select",{value:n.rank||"",onChange:F=>{i(e,n.id,Number(F.target.value))},className:`appearance-none px-3 py-1.5 rounded-full text-sm font-medium ${c(n.rank)} border-0 focus:ring-2 focus:ring-teal-500 focus:outline-none cursor-pointer`,children:[b.jsx("option",{value:"",children:"Not Ranked"}),[1,2,3,4,5].map(F=>b.jsxs("option",{value:F,children:[F," - ",u(F)]},F))]}),b.jsx(nA,{size:16,className:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none text-current"})]}),b.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full ${l(n)}`,children:o(n)})]})]}),b.jsx(axe,{isOpen:y,onClose:()=>v(!1),skillName:n.name,saos:_,jobs:S})]})}),cxe=G.memo(({category:n,categoryIndex:e,onRankChange:i,getStatusIcon:r,getStatusLabel:o,getStatusClass:l,getRankColor:c,getRankLabel:u,getCategoryProgress:h,calculateCategoryMean:m,getMeanColor:g,showRequirementWarning:y,getRequirementMessage:v,skillRefs:_,linkedSkillIds:A,fetchLinkedItems:S})=>{const T=h(n.skills),{mean:C,isComplete:N}=m(n.skills);return b.jsxs("div",{className:"card",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("h2",{className:"text-lg font-semibold",children:n.name}),N&&b.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${g(C)}`,children:[b.jsx(T3,{size:16}),b.jsxs("span",{className:"text-sm font-medium",children:["Mean Score: ",C]})]})]}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-green-100 text-green-700 mr-2",children:b.jsx("span",{className:"text-sm font-bold",children:T.completed})}),b.jsx("div",{children:b.jsx("p",{className:"text-xs font-medium",children:"Completed"})})]}),b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-slate-100 text-slate-700 mr-2",children:b.jsx("span",{className:"text-sm font-bold",children:T.notStarted})}),b.jsx("div",{children:b.jsx("p",{className:"text-xs font-medium",children:"Not Started"})})]})]})]}),N&&y(n.name,C)&&b.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:b.jsxs("div",{className:"flex items-start gap-2",children:[b.jsx(a8,{size:18,className:"text-red-600 mt-0.5 flex-shrink-0"}),b.jsxs("div",{children:[b.jsx("p",{className:"text-sm font-medium text-red-800",children:"Warning: This category does not meet the minimum requirements"}),b.jsx("p",{className:"text-sm text-red-600 mt-1",children:v(n.name,C)})]})]})}),b.jsx("div",{className:"space-y-3",children:n.skills.map(I=>b.jsx(lxe,{skill:I,categoryIndex:e,onRankChange:i,getStatusIcon:r,getStatusLabel:o,getStatusClass:l,getRankColor:c,getRankLabel:u,skillRef:O=>_.current[I.id]=O,linkedSkillIds:A,fetchLinkedItems:S},I.id))})]})}),uxe=()=>{const{skillCategories:n,updateSkillRank:e,loadUserSkills:i,loading:r,error:o}=wf(),l=G.useRef({}),[c,u]=G.useState(new Set),h=G.useRef({});G.useEffect(()=>{i()},[i]),G.useEffect(()=>{(async()=>{try{const{data:{user:B}}=await Re.auth.getUser();if(!B)return;const[{data:Y},{data:se}]=await Promise.all([Re.from("saos").select("*, sao_skills(skill_id)").eq("eit_id",B.id),Re.from("jobs").select("id, skills").eq("eit_id",B.id)]),de=Y||[],J=se||[],be=new Set;de.forEach(q=>{q.sao_skills&&q.sao_skills.forEach(Te=>be.add(Te.skill_id))}),J.forEach(q=>{Array.isArray(q.skills)&&q.skills.forEach(Te=>be.add(Te))}),u(be)}catch(B){console.error("Error fetching all linked items:",B)}})()},[i]);const m=async z=>{if(h.current[z])return h.current[z];const{data:{user:B}}=await Re.auth.getUser();if(!B)return{saos:[],jobs:[]};const{data:Y}=await Re.from("saos").select("*, sao_skills!inner(skill_id)").eq("eit_id",B.id).eq("sao_skills.skill_id",z),se=Y||[],{data:de}=await Re.from("jobs").select("*").eq("eit_id",B.id).contains("skills",[z]),J=de||[];return h.current[z]={saos:se,jobs:J},{saos:se,jobs:J}};G.useEffect(()=>{const z=B=>{const{skillId:Y,timestamp:se}=B.detail;console.log("Scroll event received:",{skillId:Y,timestamp:se}),setTimeout(()=>{const de=l.current[Y];console.log("Looking for element:",{skillId:Y,element:de}),de?(console.log("Scrolling to element"),de.scrollIntoView({behavior:"smooth",block:"center"}),de.classList.add("ring","ring-teal-400"),setTimeout(()=>de.classList.remove("ring","ring-teal-400"),1500)):(console.log("Element not found, retrying in 100ms"),setTimeout(()=>{const J=l.current[Y];J&&(J.scrollIntoView({behavior:"smooth",block:"center"}),J.classList.add("ring","ring-teal-400"),setTimeout(()=>J.classList.remove("ring","ring-teal-400"),1500))},100))},100)};return window.addEventListener("scroll-to-skill",z),()=>window.removeEventListener("scroll-to-skill",z)},[]);const g=G.useCallback(async(z,B,Y)=>{try{console.log("Updating skill rank for skillId:",B,typeof B),await e(z,B,Y)}catch(se){console.error("Error in handleRankChange:",se)}},[e]),y=G.useCallback(z=>z.reduce((B,Y)=>(Y.rank!==void 0?B.completed++:B.notStarted++,B),{completed:0,notStarted:0}),[]),v=G.useCallback(z=>{const B=z.filter(se=>se.rank!==void 0);if(B.length!==z.length)return{mean:0,isComplete:!1};const Y=B.reduce((se,de)=>se+(de.rank||0),0);return{mean:Number((Y/z.length).toFixed(1)),isComplete:!0}},[]),_=G.useCallback(z=>z>=4.5?"bg-green-100 text-green-700":z>=3.5?"bg-blue-100 text-blue-700":z>=2.5?"bg-yellow-100 text-yellow-700":z>=1.5?"bg-orange-100 text-orange-700":"bg-red-100 text-red-700",[]),A=G.useCallback(z=>z.status==="completed"?b.jsx(Bm,{size:18,className:"text-green-500"}):z.status==="in-progress"?b.jsx(tve,{size:18,className:"text-amber-500"}):z.rank!==void 0?b.jsx(Gye,{size:18,className:"text-green-500"}):b.jsx(Xye,{size:18,className:"text-slate-300"}),[]),S=G.useCallback(z=>z.rank!==void 0||z.status==="completed"?"Completed":z.status==="in-progress"?"In Progress":"Not Started",[]),T=G.useCallback(z=>z.rank!==void 0||z.status==="completed"?"bg-green-100 text-green-800":z.status==="in-progress"?"bg-amber-100 text-amber-800":"bg-slate-100 text-slate-800",[]),C=G.useCallback(z=>{if(!z)return"bg-slate-100 text-slate-600";switch(z){case 1:return"bg-red-100 text-red-600";case 2:return"bg-orange-100 text-orange-600";case 3:return"bg-yellow-100 text-yellow-600";case 4:return"bg-blue-100 text-blue-600";case 5:return"bg-green-100 text-green-600";default:return"bg-slate-100 text-slate-600"}},[]),N=G.useCallback(z=>{if(!z)return"Not Ranked";switch(z){case 1:return"Beginner";case 2:return"Basic";case 3:return"Intermediate";case 4:return"Advanced";case 5:return"Expert";default:return"Not Ranked"}},[]),I={"Category 1 – Technical Competence":3,"Category 2 – Communication":3,"Category 3 – Project & Financial Management":2,"Category 4 – Team Effectiveness":3,"Category 5 – Professional Accountability":3,"Category 6 – Social, Economic, Environmental & Sustainability":2},O=G.useCallback((z,B)=>{const Y=I[z];return B<Y},[]),F=G.useCallback((z,B)=>`A minimum average score of ${I[z]} is required for ${z}. Current average: ${B}`,[]),L=G.useMemo(()=>n.reduce((z,B)=>(B.skills.forEach(Y=>{Y.rank!==void 0?z.completed++:z.notStarted++}),z),{completed:0,notStarted:0}),[n]);return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Skills & Competencies"}),b.jsx("p",{className:"text-slate-500 mt-1",children:"Track and document your EIT program competencies"})]}),o&&b.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:b.jsxs("div",{className:"flex items-start gap-2",children:[b.jsx(a8,{size:18,className:"text-red-600 mt-0.5 flex-shrink-0"}),b.jsx("p",{className:"text-sm text-red-800",children:o})]})}),r?b.jsx("div",{className:"flex items-center justify-center py-12",children:b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"card p-6",children:[b.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Overall Progress"}),b.jsxs("div",{className:"flex flex-wrap gap-4",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center bg-green-100 text-green-700 mr-3",children:b.jsx("span",{className:"text-lg font-bold",children:L.completed})}),b.jsxs("div",{children:[b.jsx("p",{className:"font-medium",children:"Completed"}),b.jsx("p",{className:"text-sm text-slate-500",children:"Skills"})]})]}),b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center bg-slate-100 text-slate-700 mr-3",children:b.jsx("span",{className:"text-lg font-bold",children:L.notStarted})}),b.jsxs("div",{children:[b.jsx("p",{className:"font-medium",children:"Not Started"}),b.jsx("p",{className:"text-sm text-slate-500",children:"Skills"})]})]})]})]}),b.jsx("div",{className:"space-y-6",children:n.map((z,B)=>b.jsx(cxe,{category:z,categoryIndex:B,onRankChange:g,getStatusIcon:A,getStatusLabel:S,getStatusClass:T,getRankColor:C,getRankLabel:N,getCategoryProgress:y,calculateCategoryMean:v,getMeanColor:_,showRequirementWarning:O,getRequirementMessage:F,skillRefs:l,linkedSkillIds:c,fetchLinkedItems:m},z.name))})]})]})},dxe=G.memo(uxe),gJ=bc((n,e)=>({documents:[],loading:!1,error:null,lastFetched:null,clearState:()=>n({documents:[],loading:!1,error:null,lastFetched:null}),createDocument:async(i,r,o,l,c)=>{var u;n({loading:!0,error:null});try{const{data:{user:h},error:m}=await Re.auth.getUser();if(m)throw console.error("Auth error:",m),new Error("Authentication error: "+m.message);if(!h)throw new Error("No authenticated user found");await Re.from("eit_profiles").upsert({id:h.id,full_name:((u=h.user_metadata)==null?void 0:u.full_name)||"",email:h.email||""});const g=(l==null?void 0:l.type)||"text/plain",y=(l==null?void 0:l.size)||r.length,v=c||"Uncategorized";let _=r;if(l&&(g==="application/pdf"||g==="application/msword"||g==="application/vnd.openxmlformats-officedocument.wordprocessingml.document")){const T=await l.arrayBuffer();_=btoa(String.fromCharCode(...new Uint8Array(T)))}console.log("Creating document:",{title:i,type:o,eit_id:h.id,file_type:g,file_size:y,category:v});const{data:A,error:S}=await Re.from("documents").insert([{eit_id:h.id,title:i,content:_,type:o,status:"draft",word_count:r.split(/\s+/).length,file_type:g,file_size:y,category:v}]).select().single();if(S)throw S;n(T=>({documents:[...T.documents,A],loading:!1}))}catch(h){throw console.error("Error creating document:",h),n({error:h instanceof Error?h.message:"Failed to create document",loading:!1}),h}},updateDocument:async(i,r)=>{n({loading:!0,error:null});try{const{error:o}=await Re.from("documents").update(r).eq("id",i);if(o)throw o;n(l=>({documents:l.documents.map(c=>c.id===i?{...c,...r}:c),loading:!1}))}catch(o){throw console.error("Error updating document:",o),n({error:o instanceof Error?o.message:"Failed to update document",loading:!1}),o}},deleteDocument:async i=>{n({loading:!0,error:null});try{const{error:r}=await Re.from("documents").delete().eq("id",i);if(r)throw r;n(o=>({documents:o.documents.filter(l=>l.id!==i),loading:!1}))}catch(r){throw console.error("Error deleting document:",r),n({error:r instanceof Error?r.message:"Failed to delete document",loading:!1}),r}},loadUserDocuments:async()=>{n({loading:!0,error:null});try{const{data:{user:i},error:r}=await Re.auth.getUser();if(r)throw r;if(!i)throw new Error("No authenticated user found");const{data:o,error:l}=await Re.from("documents").select("*").eq("eit_id",i.id).order("created_at",{ascending:!1});if(l)throw l;const c=o.map(u=>{if(u.file_type&&(u.file_type==="application/pdf"||u.file_type==="application/msword"||u.file_type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"))try{const h=atob(u.content),m=new Uint8Array(h.length);for(let g=0;g<h.length;g++)m[g]=h.charCodeAt(g);u.content=m.buffer}catch(h){console.error("Error processing document content:",h)}return u});n({documents:c,loading:!1,lastFetched:new Date().toISOString()})}catch(i){console.error("Error loading documents:",i),n({error:i instanceof Error?i.message:"Failed to load documents",loading:!1})}}})),rA=bc((n,e)=>{let i=null;return{tier:"free",documentLimit:5,saoLimit:5,supervisorLimit:1,hasAiAccess:!1,isLoading:!1,error:null,fetchSubscription:async()=>{n({isLoading:!0,error:null});try{const{data:{user:r}}=await Re.auth.getUser();if(!r)throw new Error("No user found");const{data:o}=await Re.from("subscriptions").select("*").eq("user_id",r.id).single();if(o)n({tier:o.tier,documentLimit:o.document_limit,saoLimit:o.sao_limit,supervisorLimit:o.supervisor_limit});else{const{error:l}=await Re.from("subscriptions").insert([{user_id:r.id}]);if(l)throw l}i&&i.unsubscribe(),i=Re.channel("subscription_changes").on("postgres_changes",{event:"*",schema:"public",table:"subscriptions",filter:`user_id=eq.${r.id}`},l=>{if(l.new){const c=l.new;n({tier:c.tier,documentLimit:c.document_limit,saoLimit:c.sao_limit,supervisorLimit:c.supervisor_limit})}}).subscribe()}catch(r){n({error:r instanceof Error?r.message:"Failed to fetch subscription"})}finally{n({isLoading:!1})}},checkDocumentLimit:async()=>{const{documentLimit:r}=e();if(r===2147483647)return!0;const{data:{user:o}}=await Re.auth.getUser();if(!o)return!1;const{count:l}=await Re.from("documents").select("*",{count:"exact",head:!0}).eq("user_id",o.id);return(l||0)<r},checkSaoLimit:async()=>{const{saoLimit:r}=e();if(r===2147483647)return!0;const{data:{user:o}}=await Re.auth.getUser();if(!o)return!1;const{count:l}=await Re.from("saos").select("*",{count:"exact",head:!0}).eq("eit_id",o.id);return(l||0)<r},checkSupervisorLimit:async()=>{const{supervisorLimit:r}=e();if(r===2147483647)return!0;const{data:{user:o}}=await Re.auth.getUser();if(!o)return!1;const{count:l}=await Re.from("supervisor_eit_relationships").select("*",{count:"exact",head:!0}).eq("eit_id",o.id).eq("status","active");return(l||0)<r}}});function F$(n){const e=atob(n),i=e.length,r=new Uint8Array(i);for(let o=0;o<i;o++)r[o]=e.charCodeAt(o);return r}const bJ=({document:n,onClose:e})=>{const[i,r]=G.useState(!0),[o,l]=G.useState(null),c=()=>{if(!n.file_type)return b.jsx("div",{className:"p-4 text-center",children:"No file type information."});if(n.file_type.startsWith("text/"))return typeof n.content=="string"?b.jsx("pre",{className:"whitespace-pre-wrap p-4 bg-slate-50 rounded text-left text-slate-800 max-h-[500px] overflow-auto",children:n.content}):b.jsx("div",{className:"p-4 text-center text-red-600",children:"Error: Text file content is not a string."});if(n.file_type==="application/pdf")try{let u;if(typeof n.content=="string"){const h=F$(n.content);u=new Blob([h],{type:"application/pdf"})}else return l("PDF content is not a string."),null;return b.jsx("iframe",{src:URL.createObjectURL(u),className:"w-full h-[600px]",onLoad:()=>r(!1),title:"PDF Preview"})}catch{return l("Failed to decode or display PDF."),null}return n.file_type==="application/msword"||n.file_type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?b.jsxs("div",{className:"p-4 text-center",children:[b.jsx(Rd,{size:48,className:"mx-auto text-slate-400 mb-4"}),b.jsxs("p",{className:"text-slate-600",children:["Word documents can be previewed after downloading.",b.jsx("br",{}),b.jsxs("button",{onClick:()=>{try{let u;if(typeof n.content=="string"){const g=F$(n.content);u=new Blob([g],{type:n.file_type})}else{l("DOC content is not a string.");return}const h=URL.createObjectURL(u),m=window.document.createElement("a");m.href=h,m.download=n.title,window.document.body.appendChild(m),m.click(),window.document.body.removeChild(m),URL.revokeObjectURL(h)}catch{l("Failed to download DOC file.")}},className:"mt-2 inline-flex items-center gap-2 text-teal-600 hover:text-teal-700",children:[b.jsx(WZ,{size:16}),"Download to View"]})]})]}):b.jsx("div",{className:"p-4 text-center",children:b.jsx("p",{className:"text-slate-600",children:"Preview not available for this file type."})})};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:b.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] flex flex-col",children:[b.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[b.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:n.title}),b.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:text-slate-600",children:b.jsx(zs,{size:24})})]}),b.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[i&&!o&&b.jsx("div",{className:"flex items-center justify-center h-full",children:b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-teal-600"})}),o&&b.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-red-600",children:[b.jsx(M0,{size:32}),b.jsx("div",{className:"mt-2",children:o})]}),!o&&c()]})]})})},C0=({isOpen:n,onClose:e,children:i})=>n?b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-lg w-full relative",children:[b.jsx("button",{className:"absolute top-2 right-2 text-slate-400 hover:text-slate-600 text-xl font-bold",onClick:e,"aria-label":"Close",children:"×"}),i]})}):null,hxe=()=>{const{documents:n,loading:e,error:i,createDocument:r,updateDocument:o,deleteDocument:l,loadUserDocuments:c}=gJ(),{tier:u,documentLimit:h,fetchSubscription:m}=rA(),[g,y]=G.useState(0),[v,_]=G.useState(""),[A,S]=G.useState("all"),[T,C]=G.useState(!1),[N,I]=G.useState("all"),[O,F]=G.useState("date"),[L,z]=G.useState("desc"),[B,Y]=G.useState(null),[se,de]=G.useState(""),J=ai.useRef({}),[be,q]=G.useState(null),[Te,ie]=G.useState(null),[ce,X]=G.useState([]),[K,ne]=G.useState(""),[ee,ue]=G.useState(!1),[Q,fe]=G.useState(null),[Se,Oe]=G.useState(!1),[Ie,je]=G.useState(null),[Be,Fe]=G.useState(!1),[Ae]=G.useState(()=>ai.createRef()),ke=()=>window.gapi?Promise.resolve():new Promise(ae=>{const Ue=document.createElement("script");Ue.src="https://apis.google.com/js/api.js",Ue.onload=ae,document.body.appendChild(Ue)}),ze=async()=>{Oe(!1),await ke(),alert("Google Drive picker scaffolded. Add credentials and logic when ready."),je("Imported content from Google Drive (simulated)."),Fe(!0)},$=()=>window.OneDrive?Promise.resolve():new Promise(ae=>{const Ue=document.createElement("script");Ue.src="https://js.live.net/v7.2/OneDrive.js",Ue.onload=ae,document.body.appendChild(Ue)}),Ce=async()=>{Oe(!1),await $(),alert("OneDrive picker scaffolded. Add credentials and logic when ready."),je("Imported content from OneDrive (simulated)."),Fe(!0)};G.useEffect(()=>{console.log("Documents component mounted"),c()},[c]),G.useEffect(()=>{console.log("Documents array updated:",{documentCount:n.length,documents:n})},[n]),G.useEffect(()=>{const ae=Ue=>{const Je=Ue.detail.documentId,nt=J.current[Je];nt&&(nt.scrollIntoView({behavior:"smooth",block:"center"}),nt.classList.add("ring","ring-teal-400","transition-all","duration-300"),setTimeout(()=>{nt.classList.remove("ring","ring-teal-400")},2e3))};return window.addEventListener("scroll-to-document",ae),()=>window.removeEventListener("scroll-to-document",ae)},[]),G.useEffect(()=>{(async()=>{await m();const{data:{user:Ue}}=await Re.auth.getUser();if(Ue){const{data:Je}=await Re.from("subscriptions").select("document_created_count").eq("user_id",Ue.id).single();Je&&typeof Je.document_created_count=="number"&&y(Je.document_created_count)}})()},[]),G.useEffect(()=>{Te&&(async()=>{var ae;fe(null),ue(!0);try{const{data:{user:Ue}}=await Re.auth.getUser();if(!Ue)return;const{data:Je,error:nt}=await Re.from("supervisor_eit_relationships").select("supervisor_id, supervisor_profiles (id, full_name, email)").eq("eit_id",Ue.id).eq("status","active");if(nt)throw nt;const dt=(Je||[]).map(ft=>ft.supervisor_profiles).filter(Boolean);X(dt),ne(((ae=dt[0])==null?void 0:ae.id)||"")}catch{fe("Failed to load supervisors.")}finally{ue(!1)}})()},[Te]);const Me=async ae=>{var Je;const Ue=(Je=ae.target.files)==null?void 0:Je[0];if(Ue)try{console.log("Starting document creation process...");let nt="";const dt=Ue.type;dt.startsWith("text/")?nt=await Ue.text():nt=`File type (${dt}) not directly viewable. Will be stored.`,await r(Ue.name,nt,"other",Ue),console.log("Document creation completed successfully"),ae.target.value=""}catch(nt){console.error("Document creation failed:",nt),alert("Failed to create document. Please try again.")}},ye=async ae=>{try{const Ue=new Blob([ae.content],{type:"text/plain"}),Je=URL.createObjectURL(Ue),nt=document.createElement("a");nt.href=Je,nt.download=`${ae.title}.txt`,document.body.appendChild(nt),nt.click(),document.body.removeChild(nt),URL.revokeObjectURL(Je)}catch(Ue){console.error("Download failed:",Ue),alert("Failed to download document")}},_e=async ae=>{if(window.confirm("Are you sure you want to delete this document?"))try{await l(ae.id)}catch(Ue){console.error("Delete failed:",Ue),alert("Failed to delete document")}},Le=async ae=>{Y({id:ae.id,title:ae.title}),de(ae.title)},Ve=async()=>{if(B)try{if(!n.find(Ue=>Ue.id===B.id))throw new Error("Document not found");await o(B.id,{title:se}),Y(null)}catch(ae){console.error("Update failed:",ae),alert("Failed to update document title")}},$e=ae=>{q(ae)},Ne=n.filter(ae=>{const Ue=ae.title.toLowerCase().includes(v.toLowerCase())||ae.content.toLowerCase().includes(v.toLowerCase()),Je=A==="all"||ae.type===A,nt=N==="all"||ae.status===N;return Ue&&Je&&nt}).sort((ae,Ue)=>O==="date"?L==="asc"?new Date(ae.created_at).getTime()-new Date(Ue.created_at).getTime():new Date(Ue.created_at).getTime()-new Date(ae.created_at).getTime():L==="asc"?ae.title.localeCompare(Ue.title):Ue.title.localeCompare(ae.title)),Ee=["all",...new Set(n.map(ae=>ae.type))],ve=async()=>{if(!(!Te||!K)){ue(!0),fe(null);try{await o(Te.id,{supervisor_id:K}),ie(null)}catch{fe("Failed to share document.")}finally{ue(!1)}}};return b.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[b.jsx(C0,{isOpen:Be,onClose:()=>Fe(!1),children:b.jsxs("div",{className:"p-6",children:[b.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Imported Content Preview"}),b.jsx("div",{className:"bg-slate-50 p-4 rounded mb-4 whitespace-pre-wrap text-slate-800 min-h-[120px]",children:Ie}),b.jsx("button",{className:"btn btn-primary",onClick:()=>Fe(!1),children:"Close"})]})}),b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Documents"}),b.jsx("p",{className:"text-slate-500 mt-1",children:"Upload, manage, and share your documents."})]}),b.jsxs("div",{className:"flex gap-2 items-center relative",children:[b.jsxs("button",{className:"btn flex items-center gap-2 bg-slate-100 hover:bg-slate-200 text-slate-700 border border-slate-200",onClick:()=>Oe(ae=>!ae),type:"button",children:[b.jsx(YZ,{size:18}),"Upload / Import"]}),Se&&b.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-slate-200 rounded-lg shadow-lg z-10",children:[b.jsx("button",{className:"w-full text-left px-4 py-2 hover:bg-slate-100",onClick:()=>{var ae;Oe(!1),(ae=Ae.current)==null||ae.click()},children:"Upload from Device"}),b.jsx("button",{className:"w-full text-left px-4 py-2 hover:bg-slate-100",onClick:ze,children:"Import from Google Drive"}),b.jsx("button",{className:"w-full text-left px-4 py-2 hover:bg-slate-100",onClick:Ce,children:"Import from OneDrive"})]}),b.jsx("input",{type:"file",className:"hidden",ref:Ae,onChange:Me,disabled:u==="free"&&g>=h})]})]}),u==="free"&&b.jsx("div",{className:"p-4 mb-4 bg-yellow-50 border border-yellow-200 rounded-lg text-yellow-900 text-center font-semibold",children:g<h?`You have ${h-g} document${h-g===1?"":"s"} left on the Free plan.`:"You have reached your document upload limit for the Free plan. Upgrade to add more."}),b.jsx("div",{className:"flex items-center justify-between",children:b.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Documents"})}),b.jsxs("div",{className:"card p-4",children:[b.jsxs("div",{className:"flex flex-wrap gap-4",children:[b.jsx("div",{className:"flex-1 min-w-[200px]",children:b.jsxs("div",{className:"relative",children:[b.jsx(m8,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),b.jsx("input",{type:"text",value:v,onChange:ae=>_(ae.target.value),placeholder:"Search documents...",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500"}),v&&b.jsx("button",{onClick:()=>_(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:b.jsx(zs,{size:16})})]})}),b.jsxs("button",{onClick:()=>C(!T),className:"btn btn-secondary flex items-center",children:[b.jsx(Kye,{size:16,className:"mr-1.5"}),"Filters"]})]}),T&&b.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Type"}),b.jsx("select",{value:A,onChange:ae=>S(ae.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:Ee.map(ae=>b.jsx("option",{value:ae,children:ae.charAt(0).toUpperCase()+ae.slice(1)},ae))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),b.jsxs("select",{value:N,onChange:ae=>I(ae.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:[b.jsx("option",{value:"all",children:"All Statuses"}),b.jsx("option",{value:"draft",children:"Draft"}),b.jsx("option",{value:"submitted",children:"Submitted"}),b.jsx("option",{value:"approved",children:"Approved"}),b.jsx("option",{value:"rejected",children:"Rejected"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Sort By"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsxs("select",{value:O,onChange:ae=>F(ae.target.value),className:"flex-1 px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:[b.jsx("option",{value:"date",children:"Date"}),b.jsx("option",{value:"name",children:"Name"})]}),b.jsx("button",{onClick:()=>z(L==="asc"?"desc":"asc"),className:"px-3 py-2 border border-slate-200 rounded-lg hover:bg-slate-50",children:L==="asc"?"↑":"↓"})]})]})]})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ne.map(ae=>b.jsxs("div",{ref:Ue=>J.current[ae.id]=Ue,"data-document-id":ae.id,className:"document-card bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200 ease-in-out",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[(B==null?void 0:B.id)===ae.id?b.jsx("div",{className:"flex-1 mr-2",children:b.jsx("input",{type:"text",value:se,onChange:Ue=>de(Ue.target.value),className:"w-full px-2 py-1 border border-slate-200 rounded",onKeyDown:Ue=>{Ue.key==="Enter"&&Ve(),Ue.key==="Escape"&&Y(null)},autoFocus:!0})}):b.jsx("h3",{className:"font-semibold text-lg text-slate-800",children:ae.title}),b.jsxs("div",{className:"flex space-x-1",children:[b.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-slate-700",onClick:()=>Le(ae),children:b.jsx(N2,{size:16})}),b.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-slate-700",onClick:()=>$e(ae),children:b.jsx(d8,{size:16})}),b.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-slate-700",onClick:()=>ye(ae),children:b.jsx(WZ,{size:16})}),b.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-red-600",onClick:()=>_e(ae),children:b.jsx(F0,{size:16})})]})]}),ae.file_type&&ae.file_type.startsWith("text/")?b.jsx("p",{className:"text-sm text-slate-600 mt-2 line-clamp-2",children:ae.content}):null,b.jsxs("div",{className:"flex justify-between items-center mt-4 pt-3 border-t border-slate-100",children:[b.jsxs("div",{className:"text-xs text-slate-500",children:[b.jsx("span",{children:new Date(ae.created_at).toLocaleDateString()}),b.jsx("span",{className:"mx-2",children:"•"}),b.jsx("span",{className:"capitalize",children:ae.status})]}),ae.type==="other"?b.jsxs("button",{className:"text-xs px-2 py-1 rounded-full bg-teal-100 text-teal-700 flex items-center gap-1 hover:bg-teal-200 transition",onClick:()=>ie(ae),title:"Share with Supervisor",children:[b.jsx(Qye,{size:16})," Share"]}):b.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-600",children:ae.type})]})]},ae.id))}),be&&b.jsx(bJ,{document:be,onClose:()=>q(null)}),Te&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:b.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md p-6",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx("h2",{className:"text-xl font-semibold",children:"Share Document"}),b.jsx("button",{onClick:()=>ie(null),className:"text-slate-400 hover:text-slate-600",children:b.jsx(zs,{size:24})})]}),b.jsxs("div",{className:"mb-4",children:[b.jsxs("p",{className:"text-slate-700 mb-2",children:["Share ",b.jsx("span",{className:"font-semibold",children:Te.title})," with your supervisor."]}),ee?b.jsx("div",{className:"text-slate-500 text-sm",children:"Loading supervisors..."}):ce.length===0?b.jsx("div",{className:"text-slate-500 text-sm",children:"No active supervisors found. Connect with a supervisor first."}):b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Supervisor"}),b.jsx("select",{value:K,onChange:ae=>ne(ae.target.value),className:"input w-full mb-2",children:ce.map(ae=>b.jsxs("option",{value:ae.id,children:[ae.full_name," (",ae.email,")"]},ae.id))})]}),Q&&b.jsx("div",{className:"text-red-600 text-sm mt-2",children:Q})]}),b.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[b.jsx("button",{type:"button",onClick:()=>ie(null),className:"btn btn-secondary",disabled:ee,children:"Cancel"}),b.jsx("button",{type:"button",className:`btn btn-primary ${!K||ee?"opacity-50 cursor-not-allowed":""}`,disabled:!K||ee,onClick:ve,children:ee?"Sending...":"Send"})]})]})}),Ne.length===0&&b.jsxs("div",{className:"text-center py-12",children:[b.jsx(Rd,{size:48,className:"mx-auto text-slate-400"}),b.jsx("h3",{className:"mt-4 text-lg font-medium text-slate-900",children:"No documents found"}),b.jsx("p",{className:"mt-2 text-slate-500",children:v||A!=="all"||N!=="all"?"Try adjusting your search or filters":"Get started by uploading your first document"})]}),e&&b.jsxs("div",{className:"text-center py-12",children:[b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 mx-auto"}),b.jsx("p",{className:"mt-4 text-slate-500",children:"Loading documents..."})]}),i&&b.jsxs("div",{className:"text-center py-12",children:[b.jsx(M0,{size:48,className:"mx-auto text-red-400"}),b.jsx("h3",{className:"mt-4 text-lg font-medium text-slate-900",children:"Error loading documents"}),b.jsx("p",{className:"mt-2 text-slate-500",children:i})]})]})},fxe=()=>{const n=[{id:1,title:"Technical Problem Analysis",description:"Self-Assessment Outcome (SAO) for problem analysis competency",status:"complete",updatedAt:"2025-04-12",wordCount:850},{id:2,title:"Team Leadership Experience",description:"SAO documenting leadership skills in team environments",status:"draft",updatedAt:"2025-04-08",wordCount:620},{id:3,title:"Project Management Methodology",description:"SAO for project planning and execution competency",status:"ai-assisted",updatedAt:"2025-04-02",wordCount:740},{id:4,title:"Professional Ethics Application",description:"SAO for ethical decision making in engineering",status:"in-review",updatedAt:"2025-03-25",wordCount:910}],e={complete:"bg-green-100 text-green-800 border-green-200",draft:"bg-slate-100 text-slate-800 border-slate-200","ai-assisted":"bg-purple-100 text-purple-800 border-purple-200","in-review":"bg-amber-100 text-amber-800 border-amber-200"},i={complete:b.jsx(qye,{size:16,className:"mr-1"}),draft:b.jsx(GM,{size:16,className:"mr-1"}),"ai-assisted":b.jsx($ye,{size:16,className:"mr-1"}),"in-review":b.jsx(K0,{size:16,className:"mr-1"})};return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Essays"}),b.jsx("p",{className:"text-slate-500 mt-1",children:"Manage your Self-Assessment Outcome (SAO) essays"})]}),b.jsxs("div",{className:"flex flex-col md:flex-row justify-between space-y-4 md:space-y-0",children:[b.jsxs("button",{className:"btn btn-primary flex items-center",children:[b.jsx(HZ,{size:16,className:"mr-1.5"}),"Create New Essay"]}),b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsxs("select",{className:"px-3 py-2 rounded-lg border border-slate-200 bg-white text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:[b.jsx("option",{value:"all",children:"All Essays"}),b.jsx("option",{value:"complete",children:"Completed"}),b.jsx("option",{value:"draft",children:"Drafts"}),b.jsx("option",{value:"ai-assisted",children:"AI-Assisted"}),b.jsx("option",{value:"in-review",children:"In Review"})]}),b.jsxs("select",{className:"px-3 py-2 rounded-lg border border-slate-200 bg-white text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:[b.jsx("option",{value:"recent",children:"Recently Updated"}),b.jsx("option",{value:"oldest",children:"Oldest First"}),b.jsx("option",{value:"alphabetical",children:"Alphabetical"})]})]})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(r=>b.jsxs("div",{className:"card hover:shadow-md transition-shadow",children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsx("h3",{className:"font-semibold text-lg text-slate-800",children:r.title}),b.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${e[r.status]}`,children:[i[r.status],r.status==="ai-assisted"?"AI Assisted":r.status.charAt(0).toUpperCase()+r.status.slice(1)]})]}),b.jsx("p",{className:"text-sm text-slate-600 mt-2",children:r.description}),b.jsxs("div",{className:"flex justify-between items-center mt-4 pt-3 border-t border-slate-100",children:[b.jsxs("div",{className:"text-xs text-slate-500",children:[b.jsxs("span",{children:["Updated ",new Date(r.updatedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]}),b.jsx("span",{className:"mx-2",children:"•"}),b.jsxs("span",{children:[r.wordCount," words"]})]}),b.jsxs("div",{className:"flex space-x-1",children:[b.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-slate-700",children:b.jsx(d8,{size:16})}),b.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-slate-700",children:b.jsx(GM,{size:16})}),b.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-red-600",children:b.jsx(F0,{size:16})})]})]})]},r.id))})]})},pxe={};function mxe(n,e){let i;try{i=n()}catch{return}return{getItem:o=>{var l;const c=h=>h===null?null:JSON.parse(h,void 0),u=(l=i.getItem(o))!=null?l:null;return u instanceof Promise?u.then(c):c(u)},setItem:(o,l)=>i.setItem(o,JSON.stringify(l,void 0)),removeItem:o=>i.removeItem(o)}}const aE=n=>e=>{try{const i=n(e);return i instanceof Promise?i:{then(r){return aE(r)(i)},catch(r){return this}}}catch(i){return{then(r){return this},catch(r){return aE(r)(i)}}}},gxe=(n,e)=>(i,r,o)=>{let l={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:T=>T,version:0,merge:(T,C)=>({...C,...T}),...e},c=!1;const u=new Set,h=new Set;let m;try{m=l.getStorage()}catch{}if(!m)return n((...T)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),i(...T)},r,o);const g=aE(l.serialize),y=()=>{const T=l.partialize({...r()});let C;const N=g({state:T,version:l.version}).then(I=>m.setItem(l.name,I)).catch(I=>{C=I});if(C)throw C;return N},v=o.setState;o.setState=(T,C)=>{v(T,C),y()};const _=n((...T)=>{i(...T),y()},r,o);let A;const S=()=>{var T;if(!m)return;c=!1,u.forEach(N=>N(r()));const C=((T=l.onRehydrateStorage)==null?void 0:T.call(l,r()))||void 0;return aE(m.getItem.bind(m))(l.name).then(N=>{if(N)return l.deserialize(N)}).then(N=>{if(N)if(typeof N.version=="number"&&N.version!==l.version){if(l.migrate)return l.migrate(N.state,N.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return N.state}).then(N=>{var I;return A=l.merge(N,(I=r())!=null?I:_),i(A,!0),y()}).then(()=>{C==null||C(A,void 0),c=!0,h.forEach(N=>N(A))}).catch(N=>{C==null||C(void 0,N)})};return o.persist={setOptions:T=>{l={...l,...T},T.getStorage&&(m=T.getStorage())},clearStorage:()=>{m==null||m.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>S(),hasHydrated:()=>c,onHydrate:T=>(u.add(T),()=>{u.delete(T)}),onFinishHydration:T=>(h.add(T),()=>{h.delete(T)})},S(),A||_},bxe=(n,e)=>(i,r,o)=>{let l={storage:mxe(()=>localStorage),partialize:S=>S,version:0,merge:(S,T)=>({...T,...S}),...e},c=!1;const u=new Set,h=new Set;let m=l.storage;if(!m)return n((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),i(...S)},r,o);const g=()=>{const S=l.partialize({...r()});return m.setItem(l.name,{state:S,version:l.version})},y=o.setState;o.setState=(S,T)=>{y(S,T),g()};const v=n((...S)=>{i(...S),g()},r,o);o.getInitialState=()=>v;let _;const A=()=>{var S,T;if(!m)return;c=!1,u.forEach(N=>{var I;return N((I=r())!=null?I:v)});const C=((T=l.onRehydrateStorage)==null?void 0:T.call(l,(S=r())!=null?S:v))||void 0;return aE(m.getItem.bind(m))(l.name).then(N=>{if(N)if(typeof N.version=="number"&&N.version!==l.version){if(l.migrate)return[!0,l.migrate(N.state,N.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,N.state];return[!1,void 0]}).then(N=>{var I;const[O,F]=N;if(_=l.merge(F,(I=r())!=null?I:v),i(_,!0),O)return g()}).then(()=>{C==null||C(_,void 0),_=r(),c=!0,h.forEach(N=>N(_))}).catch(N=>{C==null||C(void 0,N)})};return o.persist={setOptions:S=>{l={...l,...S},S.storage&&(m=S.storage)},clearStorage:()=>{m==null||m.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>A(),hasHydrated:()=>c,onHydrate:S=>(u.add(S),()=>{u.delete(S)}),onFinishHydration:S=>(h.add(S),()=>{h.delete(S)})},l.skipHydration||A(),_||v},yxe=(n,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((pxe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),gxe(n,e)):bxe(n,e),y8=yxe,yJ=bc()(y8((n,e)=>({documents:[],loading:!1,error:null,addDocument:(i,r,o)=>{const l={id:Date.now().toString(),name:i,content:r,category:o,size:`${(r.length/1024).toFixed(1)} KB`,created_at:new Date().toISOString(),attachments:[]};n(c=>({documents:[l,...c.documents]}))},getDocuments:()=>e().documents,getDocument:i=>e().documents.find(r=>r.id===i),updateDocument:(i,r)=>{n(o=>({documents:o.documents.map(l=>{if(l.id===i){const c={...l,...r};return r.content&&(c.size=`${(r.content.length/1024).toFixed(1)} KB`),c}return l})}))},deleteDocument:i=>{n(r=>({documents:r.documents.filter(o=>o.id!==i)}))}}),{name:"local-documents-storage"}));var l5={exports:{}};/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */l5.exports;(function(n,e){(function(i,r){n.exports=r(G)})(self,i=>(()=>{var r={703:(u,h,m)=>{var g=m(414);function y(){}function v(){}v.resetWarningCache=y,u.exports=function(){function _(T,C,N,I,O,F){if(F!==g){var L=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw L.name="Invariant Violation",L}}function A(){return _}_.isRequired=_;var S={array:_,bigint:_,bool:_,func:_,number:_,object:_,string:_,symbol:_,any:_,arrayOf:A,element:_,elementType:_,instanceOf:A,node:_,objectOf:A,oneOf:A,oneOfType:A,shape:A,exact:A,checkPropTypes:v,resetWarningCache:y};return S.PropTypes=S,S}},697:(u,h,m)=>{u.exports=m(703)()},414:u=>{u.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},787:u=>{u.exports=i}},o={};function l(u){var h=o[u];if(h!==void 0)return h.exports;var m=o[u]={exports:{}};return r[u](m,m.exports,l),m.exports}l.n=u=>{var h=u&&u.__esModule?()=>u.default:()=>u;return l.d(h,{a:h}),h},l.d=(u,h)=>{for(var m in h)l.o(h,m)&&!l.o(u,m)&&Object.defineProperty(u,m,{enumerable:!0,get:h[m]})},l.o=(u,h)=>Object.prototype.hasOwnProperty.call(u,h),l.r=u=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})};var c={};return(()=>{l.r(c),l.d(c,{CKEditor:()=>Il,CKEditorContext:()=>Hf});var u=l(787),h=l.n(u),m=l(697),g=l.n(m);const y=function(we){var he=typeof we;return we!=null&&(he=="object"||he=="function")},v=typeof Gt=="object"&&Gt&&Gt.Object===Object&&Gt;var _=typeof self=="object"&&self&&self.Object===Object&&self;const A=v||_||Function("return this")(),S=function(){return A.Date.now()};var T=/\s/;const C=function(we){for(var he=we.length;he--&&T.test(we.charAt(he)););return he};var N=/^\s+/;const I=function(we){return we&&we.slice(0,C(we)+1).replace(N,"")},O=A.Symbol;var F=Object.prototype,L=F.hasOwnProperty,z=F.toString,B=O?O.toStringTag:void 0;const Y=function(we){var he=L.call(we,B),We=we[B];try{we[B]=void 0;var Qe=!0}catch{}var Lt=z.call(we);return Qe&&(he?we[B]=We:delete we[B]),Lt};var se=Object.prototype.toString;const de=function(we){return se.call(we)};var J="[object Null]",be="[object Undefined]",q=O?O.toStringTag:void 0;const Te=function(we){return we==null?we===void 0?be:J:q&&q in Object(we)?Y(we):de(we)},ie=function(we){return we!=null&&typeof we=="object"};var ce="[object Symbol]";const X=function(we){return typeof we=="symbol"||ie(we)&&Te(we)==ce};var K=NaN,ne=/^[-+]0x[0-9a-f]+$/i,ee=/^0b[01]+$/i,ue=/^0o[0-7]+$/i,Q=parseInt;const fe=function(we){if(typeof we=="number")return we;if(X(we))return K;if(y(we)){var he=typeof we.valueOf=="function"?we.valueOf():we;we=y(he)?he+"":he}if(typeof we!="string")return we===0?we:+we;we=I(we);var We=ee.test(we);return We||ue.test(we)?Q(we.slice(2),We?2:8):ne.test(we)?K:+we};var Se="Expected a function",Oe=Math.max,Ie=Math.min;const je=function(we,he,We){var Qe,Lt,sn,cn,_t,ar,Wn=0,Oa=!1,ta=!1,Dn=!0;if(typeof we!="function")throw new TypeError(Se);function es(Li){var Es=Qe,To=Lt;return Qe=Lt=void 0,Wn=Li,cn=we.apply(To,Es)}function ts(Li){var Es=Li-ar;return ar===void 0||Es>=he||Es<0||ta&&Li-Wn>=sn}function kc(){var Li=S();if(ts(Li))return Jd(Li);_t=setTimeout(kc,function(Es){var To=he-(Es-ar);return ta?Ie(To,sn-(Es-Wn)):To}(Li))}function Jd(Li){return _t=void 0,Dn&&Qe?es(Li):(Qe=Lt=void 0,cn)}function Xs(){var Li=S(),Es=ts(Li);if(Qe=arguments,Lt=this,ar=Li,Es){if(_t===void 0)return function(To){return Wn=To,_t=setTimeout(kc,he),Oa?es(To):cn}(ar);if(ta)return clearTimeout(_t),_t=setTimeout(kc,he),es(ar)}return _t===void 0&&(_t=setTimeout(kc,he)),cn}return he=fe(he)||0,y(We)&&(Oa=!!We.leading,sn=(ta="maxWait"in We)?Oe(fe(We.maxWait)||0,he):sn,Dn="trailing"in We?!!We.trailing:Dn),Xs.cancel=function(){_t!==void 0&&clearTimeout(_t),Wn=0,Qe=ar=Lt=_t=void 0},Xs.flush=function(){return _t===void 0?cn:Jd(S())},Xs};var Be="Expected a function";const Fe=function(we,he,We){var Qe=!0,Lt=!0;if(typeof we!="function")throw new TypeError(Be);return y(We)&&(Qe="leading"in We?!!We.leading:Qe,Lt="trailing"in We?!!We.trailing:Lt),je(we,he,{leading:Qe,maxWait:he,trailing:Lt})},Ae=function(){this.__data__=[],this.size=0},ke=function(we,he){return we===he||we!=we&&he!=he},ze=function(we,he){for(var We=we.length;We--;)if(ke(we[We][0],he))return We;return-1};var $=Array.prototype.splice;const Ce=function(we){var he=this.__data__,We=ze(he,we);return!(We<0)&&(We==he.length-1?he.pop():$.call(he,We,1),--this.size,!0)},Me=function(we){var he=this.__data__,We=ze(he,we);return We<0?void 0:he[We][1]},ye=function(we){return ze(this.__data__,we)>-1},_e=function(we,he){var We=this.__data__,Qe=ze(We,we);return Qe<0?(++this.size,We.push([we,he])):We[Qe][1]=he,this};function Le(we){var he=-1,We=we==null?0:we.length;for(this.clear();++he<We;){var Qe=we[he];this.set(Qe[0],Qe[1])}}Le.prototype.clear=Ae,Le.prototype.delete=Ce,Le.prototype.get=Me,Le.prototype.has=ye,Le.prototype.set=_e;const Ve=Le,$e=function(){this.__data__=new Ve,this.size=0},Ne=function(we){var he=this.__data__,We=he.delete(we);return this.size=he.size,We},Ee=function(we){return this.__data__.get(we)},ve=function(we){return this.__data__.has(we)};var ae="[object AsyncFunction]",Ue="[object Function]",Je="[object GeneratorFunction]",nt="[object Proxy]";const dt=function(we){if(!y(we))return!1;var he=Te(we);return he==Ue||he==Je||he==ae||he==nt},ft=A["__core-js_shared__"];var Ot=function(){var we=/[^.]+$/.exec(ft&&ft.keys&&ft.keys.IE_PROTO||"");return we?"Symbol(src)_1."+we:""}();const Ct=function(we){return!!Ot&&Ot in we};var $t=Function.prototype.toString;const At=function(we){if(we!=null){try{return $t.call(we)}catch{}try{return we+""}catch{}}return""};var Zt=/^\[object .+?Constructor\]$/,qt=Function.prototype,En=Object.prototype,Or=qt.toString,$i=En.hasOwnProperty,qi=RegExp("^"+Or.call($i).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Pi=function(we){return!(!y(we)||Ct(we))&&(dt(we)?qi:Zt).test(At(we))},Yn=function(we,he){return we==null?void 0:we[he]},bi=function(we,he){var We=Yn(we,he);return Pi(We)?We:void 0},yi=bi(A,"Map"),mt=bi(Object,"create"),Ft=function(){this.__data__=mt?mt(null):{},this.size=0},on=function(we){var he=this.has(we)&&delete this.__data__[we];return this.size-=he?1:0,he};var Mn="__lodash_hash_undefined__",On=Object.prototype.hasOwnProperty;const pr=function(we){var he=this.__data__;if(mt){var We=he[we];return We===Mn?void 0:We}return On.call(he,we)?he[we]:void 0};var Fi=Object.prototype.hasOwnProperty;const gt=function(we){var he=this.__data__;return mt?he[we]!==void 0:Fi.call(he,we)};var bn="__lodash_hash_undefined__";const Hi=function(we,he){var We=this.__data__;return this.size+=this.has(we)?0:1,We[we]=mt&&he===void 0?bn:he,this};function Er(we){var he=-1,We=we==null?0:we.length;for(this.clear();++he<We;){var Qe=we[he];this.set(Qe[0],Qe[1])}}Er.prototype.clear=Ft,Er.prototype.delete=on,Er.prototype.get=pr,Er.prototype.has=gt,Er.prototype.set=Hi;const Fr=Er,Gs=function(){this.size=0,this.__data__={hash:new Fr,map:new(yi||Ve),string:new Fr}},ws=function(we){var he=typeof we;return he=="string"||he=="number"||he=="symbol"||he=="boolean"?we!=="__proto__":we===null},sr=function(we,he){var We=we.__data__;return ws(he)?We[typeof he=="string"?"string":"hash"]:We.map},xs=function(we){var he=sr(this,we).delete(we);return this.size-=he?1:0,he},yo=function(we){return sr(this,we).get(we)},Jr=function(we){return sr(this,we).has(we)},Lr=function(we,he){var We=sr(this,we),Qe=We.size;return We.set(we,he),this.size+=We.size==Qe?0:1,this};function xi(we){var he=-1,We=we==null?0:we.length;for(this.clear();++he<We;){var Qe=we[he];this.set(Qe[0],Qe[1])}}xi.prototype.clear=Gs,xi.prototype.delete=xs,xi.prototype.get=yo,xi.prototype.has=Jr,xi.prototype.set=Lr;const Dt=xi;var He=200;const rt=function(we,he){var We=this.__data__;if(We instanceof Ve){var Qe=We.__data__;if(!yi||Qe.length<He-1)return Qe.push([we,he]),this.size=++We.size,this;We=this.__data__=new Dt(Qe)}return We.set(we,he),this.size=We.size,this};function wt(we){var he=this.__data__=new Ve(we);this.size=he.size}wt.prototype.clear=$e,wt.prototype.delete=Ne,wt.prototype.get=Ee,wt.prototype.has=ve,wt.prototype.set=rt;const Sn=wt,ui=function(we,he){for(var We=-1,Qe=we==null?0:we.length;++We<Qe&&he(we[We],We,we)!==!1;);return we},Qn=function(){try{var we=bi(Object,"defineProperty");return we({},"",{}),we}catch{}}(),or=function(we,he,We){he=="__proto__"&&Qn?Qn(we,he,{configurable:!0,enumerable:!0,value:We,writable:!0}):we[he]=We};var Gi=Object.prototype.hasOwnProperty;const Qo=function(we,he,We){var Qe=we[he];Gi.call(we,he)&&ke(Qe,We)&&(We!==void 0||he in we)||or(we,he,We)},xl=function(we,he){for(var We=-1,Qe=Array(we);++We<we;)Qe[We]=he(We);return Qe};var xn="[object Arguments]";const vo=function(we){return ie(we)&&Te(we)==xn};var wo=Object.prototype,_l=wo.hasOwnProperty,rg=wo.propertyIsEnumerable;const Od=vo(function(){return arguments}())?vo:function(we){return ie(we)&&_l.call(we,"callee")&&!rg.call(we,"callee")},mu=Array.isArray,xo=function(){return!1};var ea=e&&!e.nodeType&&e,_o=ea&&!0&&n&&!n.nodeType&&n,Sr=_o&&_o.exports===ea?A.Buffer:void 0;const Pa=(Sr?Sr.isBuffer:void 0)||xo;var yc=9007199254740991,kl=/^(?:0|[1-9]\d*)$/;const vc=function(we,he){var We=typeof we;return!!(he=he??yc)&&(We=="number"||We!="symbol"&&kl.test(we))&&we>-1&&we%1==0&&we<he};var ct=9007199254740991;const vt=function(we){return typeof we=="number"&&we>-1&&we%1==0&&we<=ct};var Et={};Et["[object Float32Array]"]=Et["[object Float64Array]"]=Et["[object Int8Array]"]=Et["[object Int16Array]"]=Et["[object Int32Array]"]=Et["[object Uint8Array]"]=Et["[object Uint8ClampedArray]"]=Et["[object Uint16Array]"]=Et["[object Uint32Array]"]=!0,Et["[object Arguments]"]=Et["[object Array]"]=Et["[object ArrayBuffer]"]=Et["[object Boolean]"]=Et["[object DataView]"]=Et["[object Date]"]=Et["[object Error]"]=Et["[object Function]"]=Et["[object Map]"]=Et["[object Number]"]=Et["[object Object]"]=Et["[object RegExp]"]=Et["[object Set]"]=Et["[object String]"]=Et["[object WeakMap]"]=!1;const vi=function(we){return ie(we)&&vt(we.length)&&!!Et[Te(we)]},Ii=function(we){return function(he){return we(he)}};var Qr=e&&!e.nodeType&&e,gu=Qr&&!0&&n&&!n.nodeType&&n,Ur=gu&&gu.exports===Qr&&v.process;const ko=function(){try{var we=gu&&gu.require&&gu.require("util").types;return we||Ur&&Ur.binding&&Ur.binding("util")}catch{}}();var Fd=ko&&ko.isTypedArray;const Ia=Fd?Ii(Fd):vi;var Ld=Object.prototype.hasOwnProperty;const iy=function(we,he){var We=mu(we),Qe=!We&&Od(we),Lt=!We&&!Qe&&Pa(we),sn=!We&&!Qe&&!Lt&&Ia(we),cn=We||Qe||Lt||sn,_t=cn?xl(we.length,String):[],ar=_t.length;for(var Wn in we)!Ld.call(we,Wn)||cn&&(Wn=="length"||Lt&&(Wn=="offset"||Wn=="parent")||sn&&(Wn=="buffer"||Wn=="byteLength"||Wn=="byteOffset")||vc(Wn,ar))||_t.push(Wn);return _t};var bu=Object.prototype;const El=function(we){var he=we&&we.constructor;return we===(typeof he=="function"&&he.prototype||bu)},sg=function(we,he){return function(We){return we(he(We))}},og=sg(Object.keys,Object);var ag=Object.prototype.hasOwnProperty;const ry=function(we){if(!El(we))return og(we);var he=[];for(var We in Object(we))ag.call(we,We)&&We!="constructor"&&he.push(We);return he},lg=function(we){return we!=null&&vt(we.length)&&!dt(we)},cg=function(we){return lg(we)?iy(we):ry(we)};var Pf=e&&!e.nodeType&&e,zn=Pf&&!0&&n&&!n.nodeType&&n,Sl=zn&&zn.exports===Pf?A.Buffer:void 0;Sl&&Sl.allocUnsafe;const yu=function(we,he){return we.slice()},vu=function(we,he){for(var We=-1,Qe=we==null?0:we.length,Lt=0,sn=[];++We<Qe;){var cn=we[We];he(cn,We,we)&&(sn[Lt++]=cn)}return sn},If=function(){return[]};var Al=Object.prototype.propertyIsEnumerable,Ud=Object.getOwnPropertySymbols;const Vn=Ud?function(we){return we==null?[]:(we=Object(we),vu(Ud(we),function(he){return Al.call(we,he)}))}:If,Tl=function(we,he){for(var We=-1,Qe=he.length,Lt=we.length;++We<Qe;)we[Lt+We]=he[We];return we},jf=sg(Object.getPrototypeOf,Object),sy=function(we,he,We){var Qe=he(we);return mu(we)?Qe:Tl(Qe,We(we))},Bd=function(we){return sy(we,cg,Vn)},zd=bi(A,"DataView"),Eo=bi(A,"Promise"),Rf=bi(A,"Set"),Vd=bi(A,"WeakMap");var Mf="[object Map]",Wd="[object Promise]",Cl="[object Set]",wu="[object WeakMap]",$d="[object DataView]",oy=At(zd),Of=At(yi),wc=At(Eo),Ff=At(Rf),_s=At(Vd),ja=Te;(zd&&ja(new zd(new ArrayBuffer(1)))!=$d||yi&&ja(new yi)!=Mf||Eo&&ja(Eo.resolve())!=Wd||Rf&&ja(new Rf)!=Cl||Vd&&ja(new Vd)!=wu)&&(ja=function(we){var he=Te(we),We=he=="[object Object]"?we.constructor:void 0,Qe=We?At(We):"";if(Qe)switch(Qe){case oy:return $d;case Of:return Mf;case wc:return Wd;case Ff:return Cl;case _s:return wu}return he});const qd=ja;var Hd=Object.prototype.hasOwnProperty;const So=function(we){var he=we.length,We=new we.constructor(he);return he&&typeof we[0]=="string"&&Hd.call(we,"index")&&(We.index=we.index,We.input=we.input),We},Lf=A.Uint8Array,Dl=function(we){var he=new we.constructor(we.byteLength);return new Lf(he).set(new Lf(we)),he},ay=function(we,he){var We=Dl(we.buffer);return new we.constructor(We,we.byteOffset,we.byteLength)};var Gd=/\w*$/;const ug=function(we){var he=new we.constructor(we.source,Gd.exec(we));return he.lastIndex=we.lastIndex,he};var dg=O?O.prototype:void 0,Xd=dg?dg.valueOf:void 0;const px=function(we){return Xd?Object(Xd.call(we)):{}},ly=function(we,he){var We=Dl(we.buffer);return new we.constructor(We,we.byteOffset,we.length)};var mx="[object Boolean]",hg="[object Date]",fg="[object Map]",gx="[object Number]",cy="[object RegExp]",uy="[object Set]",pg="[object String]",dy="[object Symbol]",mg="[object ArrayBuffer]",hy="[object DataView]",gg="[object Float32Array]",bg="[object Float64Array]",yg="[object Int8Array]",vg="[object Int16Array]",fy="[object Int32Array]",Uf="[object Uint8Array]",xu="[object Uint8ClampedArray]",py="[object Uint16Array]",wg="[object Uint32Array]";const my=function(we,he,We){var Qe=we.constructor;switch(he){case mg:return Dl(we);case mx:case hg:return new Qe(+we);case hy:return ay(we);case gg:case bg:case yg:case vg:case fy:case Uf:case xu:case py:case wg:return ly(we);case fg:return new Qe;case gx:case pg:return new Qe(we);case cy:return ug(we);case uy:return new Qe;case dy:return px(we)}};var xg=Object.create;const gy=function(){function we(){}return function(he){if(!y(he))return{};if(xg)return xg(he);we.prototype=he;var We=new we;return we.prototype=void 0,We}}(),by=function(we){return typeof we.constructor!="function"||El(we)?{}:gy(jf(we))};var _u="[object Map]";const xc=function(we){return ie(we)&&qd(we)==_u};var _c=ko&&ko.isMap;const yy=_c?Ii(_c):xc;var Bf="[object Set]";const Nl=function(we){return ie(we)&&qd(we)==Bf};var zf=ko&&ko.isSet;const Vf=zf?Ii(zf):Nl;var vy="[object Arguments]",_g="[object Function]",Wf="[object GeneratorFunction]",Yd="[object Object]",Kn={};Kn[vy]=Kn["[object Array]"]=Kn["[object ArrayBuffer]"]=Kn["[object DataView]"]=Kn["[object Boolean]"]=Kn["[object Date]"]=Kn["[object Float32Array]"]=Kn["[object Float64Array]"]=Kn["[object Int8Array]"]=Kn["[object Int16Array]"]=Kn["[object Int32Array]"]=Kn["[object Map]"]=Kn["[object Number]"]=Kn[Yd]=Kn["[object RegExp]"]=Kn["[object Set]"]=Kn["[object String]"]=Kn["[object Symbol]"]=Kn["[object Uint8Array]"]=Kn["[object Uint8ClampedArray]"]=Kn["[object Uint16Array]"]=Kn["[object Uint32Array]"]=!0,Kn["[object Error]"]=Kn[_g]=Kn["[object WeakMap]"]=!1;const kg=function we(he,We,Qe,Lt,sn,cn){var _t;if(Qe&&(_t=sn?Qe(he,Lt,sn,cn):Qe(he)),_t!==void 0)return _t;if(!y(he))return he;var ar=mu(he);if(ar)_t=So(he);else{var Wn=qd(he),Oa=Wn==_g||Wn==Wf;if(Pa(he))return yu(he);if(Wn==Yd||Wn==vy||Oa&&!sn)_t=Oa?{}:by(he);else{if(!Kn[Wn])return sn?he:{};_t=my(he,Wn)}}cn||(cn=new Sn);var ta=cn.get(he);if(ta)return ta;cn.set(he,_t),Vf(he)?he.forEach(function(es){_t.add(we(es,We,Qe,es,he,cn))}):yy(he)&&he.forEach(function(es,ts){_t.set(ts,we(es,We,Qe,ts,he,cn))});var Dn=ar?void 0:Bd(he);return ui(Dn||he,function(es,ts){Dn&&(es=he[ts=es]),Qo(_t,ts,we(es,We,Qe,ts,he,cn))}),_t};var wy=1,xy=4;const bx=function(we,he){return kg(we,wy|xy,he=typeof he=="function"?he:void 0)};var _y="[object Object]",yx=Function.prototype,ks=Object.prototype,ky=yx.toString,Kd=ks.hasOwnProperty,Eg=ky.call(Object);const Ey=function(we){if(!ie(we)||Te(we)!=_y)return!1;var he=jf(we);if(he===null)return!0;var We=Kd.call(he,"constructor")&&he.constructor;return typeof We=="function"&&We instanceof We&&ky.call(We)==Eg},Sg=function(we){return ie(we)&&we.nodeType===1&&!Ey(we)};function Zd(we,he=new Set){const We=[we],Qe=new Set;let Lt=0;for(;We.length>Lt;){const sn=We[Lt++];if(!(Qe.has(sn)||$f(sn)||he.has(sn)))if(Qe.add(sn),sn[Symbol.iterator])try{for(const cn of sn)We.push(cn)}catch{}else for(const cn in sn)cn!=="defaultValue"&&We.push(sn[cn])}return Qe}function $f(we){const he=Object.prototype.toString.call(we),We=typeof we;return We==="number"||We==="boolean"||We==="string"||We==="symbol"||We==="function"||he==="[object Date]"||he==="[object RegExp]"||he==="[object Module]"||we==null||we._watchdogExcluded===!0||we instanceof EventTarget||we instanceof Event}function Zn(we,he,We=new Set){if(we===he&&typeof(Qe=we)=="object"&&Qe!==null)return!0;var Qe;const Lt=Zd(we,We),sn=Zd(he,We);for(const cn of Lt)if(sn.has(cn))return!0;return!1}class Ra{constructor(he){if(this.crashes=[],this.state="initializing",this._crashNumberLimit=typeof he.crashNumberLimit=="number"?he.crashNumberLimit:3,this._now=Date.now,this._minimumNonErrorTimePeriod=typeof he.minimumNonErrorTimePeriod=="number"?he.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=We=>{const Qe=We.error||We.reason;Qe instanceof Error&&this._handleError(Qe,We)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}setCreator(he){this._creator=he}setDestructor(he){this._destructor=he}destroy(){this._stopErrorHandling(),this._listeners={}}on(he,We){this._listeners[he]||(this._listeners[he]=[]),this._listeners[he].push(We)}off(he,We){this._listeners[he]=this._listeners[he].filter(Qe=>Qe!==We)}_fire(he,...We){const Qe=this._listeners[he]||[];for(const Lt of Qe)Lt.apply(this,[null,...We])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(he,We){if(this._shouldReactToError(he)){this.crashes.push({message:he.message,stack:he.stack,filename:We.filename,lineno:We.lineno,colno:We.colno,date:this._now()});const Qe=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:he,causesRestart:Qe}),Qe?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(he){return he.is&&he.is("CKEditorError")&&he.context!==void 0&&he.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(he)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}class ku extends Ra{constructor(he,We={}){super(We),this._editor=null,this._throttledSave=Fe(this._save.bind(this),typeof We.saveInterval=="number"?We.saveInterval:5e3),this._creator=(Qe,Lt)=>he.create(Qe,Lt),this._destructor=Qe=>Qe.destroy()}get editor(){return this._editor}get _item(){return this._editor}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(he=>{console.error("An error happened during the editor destroying.",he)}).then(()=>{if(typeof this._elementOrData=="string")return this.create(this._data,this._config,this._config.context);{const he=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,he,he.context)}}).then(()=>{this._fire("restart")})}create(he=this._elementOrData,We=this._config,Qe){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=he,this._config=this._cloneEditorConfiguration(We)||{},this._config.context=Qe,this._creator(he,this._config))).then(Lt=>{this._editor=Lt,Lt.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=Lt.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const he=this._editor;return this._editor=null,he.model.document.off("change:data",this._throttledSave),this._destructor(he)})}_save(){const he=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=he}catch(We){console.error(We,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(he){this._excludedProps=he}_getData(){const he={};for(const We of this._editor.model.document.getRootNames())he[We]=this._editor.data.get({rootName:We});return he}_isErrorComingFromThisItem(he){return Zn(this._editor,he.context,this._excludedProps)}_cloneEditorConfiguration(he){return bx(he,(We,Qe)=>Sg(We)||Qe==="context"?We:void 0)}}const ei=new Array(256).fill("").map((we,he)=>("0"+he.toString(16)).slice(-2)),Pl=Symbol("MainQueueId");class qf extends Ra{constructor(he,We={}){super(We),this._watchdogs=new Map,this._watchdogConfig=We,this._context=null,this._contextProps=new Set,this._actionQueues=new Sy,this._creator=Qe=>he.create(Qe),this._destructor=Qe=>Qe.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}get context(){return this._context}create(he={}){return this._actionQueues.enqueue(Pl,()=>(this._contextConfig=he,this._create()))}getItem(he){return this._getWatchdog(he)._item}getItemState(he){return this._getWatchdog(he).state}add(he){const We=Ao(he);return Promise.all(We.map(Qe=>this._actionQueues.enqueue(Qe.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let Lt;if(this._watchdogs.has(Qe.id))throw new Error(`Item with the given id is already added: '${Qe.id}'.`);if(Qe.type==="editor")return Lt=new ku(this._watchdogConfig),Lt.setCreator(Qe.creator),Lt._setExcludedProperties(this._contextProps),Qe.destructor&&Lt.setDestructor(Qe.destructor),this._watchdogs.set(Qe.id,Lt),Lt.on("error",(sn,{error:cn,causesRestart:_t})=>{this._fire("itemError",{itemId:Qe.id,error:cn}),_t&&this._actionQueues.enqueue(Qe.id,()=>new Promise(ar=>{Lt.on("restart",(function Wn(){Lt.off("restart",Wn),this._fire("itemRestart",{itemId:Qe.id}),ar()}).bind(this))}))}),Lt.create(Qe.sourceElementOrData,Qe.config,this._context);throw new Error(`Not supported item type: '${Qe.type}'.`)})))}remove(he){const We=Ao(he);return Promise.all(We.map(Qe=>this._actionQueues.enqueue(Qe,()=>{const Lt=this._getWatchdog(Qe);return this._watchdogs.delete(Qe),Lt.destroy()})))}destroy(){return this._actionQueues.enqueue(Pl,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Pl,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(he=>{console.error("An error happened during destroying the context or items.",he)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(he=>(this._context=he,this._contextProps=Zd(this._context),Promise.all(Array.from(this._watchdogs.values()).map(We=>(We._setExcludedProperties(this._contextProps),We.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const he=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(We=>We.destroy())).then(()=>this._destructor(he))})}_getWatchdog(he){const We=this._watchdogs.get(he);if(!We)throw new Error(`Item with the given id was not registered: ${he}.`);return We}_isErrorComingFromThisItem(he){for(const We of this._watchdogs.values())if(We._isErrorComingFromThisItem(he))return!1;return Zn(this._context,he.context)}}class Sy{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._actions=new WeakMap,this._lastActionId=0,this._activeActions=0}onEmpty(he){this._onEmptyCallbacks.push(he)}enqueue(he,We){const Qe=he===Pl;this._activeActions++,this._queues.get(he)||this._queues.set(he,Promise.resolve());const Lt=(Qe?Promise.all(this._queues.values()):Promise.all([this._queues.get(Pl),this._queues.get(he)])).then(We),sn=Lt.catch(()=>{});return this._queues.set(he,sn),Lt.finally(()=>{this._activeActions--,this._queues.get(he)===sn&&this._activeActions===0&&this._onEmptyCallbacks.forEach(cn=>cn())})}}function Ao(we){return Array.isArray(we)?we:[we]}const Ma=h().createContext("contextWatchdog");class Hf extends h().Component{constructor(he,We){super(he,We),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}async shouldComponentUpdate(he){return he.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(he.config)),he.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(he.config),!0):this.props.children!==he.children}render(){return h().createElement(Ma.Provider,{value:this.contextWatchdog},this.props.children)}async componentWillUnmount(){await this._destroyContext()}async _initializeContextWatchdog(he){this.contextWatchdog=new qf(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",(We,Qe)=>{this.props.onError(Qe.error,{phase:"runtime",willContextRestart:Qe.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(he).catch(We=>{this.props.onError(We,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}Hf.defaultProps={isLayoutReady:!0,onError:(we,he)=>console.error(we,he)},Hf.propTypes={id:g().string,isLayoutReady:g().bool,context:g().func,watchdogConfig:g().object,config:g().object,onReady:g().func,onError:g().func};const Ar="Lock from React integration (@ckeditor/ckeditor5-react)";class Il extends h().Component{constructor(he){super(he),this.editorDestructionInProgress=null,this.domContainer=h().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:We}=window;if(We){const[Qe]=We.split(".").map(Number);Qe<34&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 34 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(he){return!!this.editor&&(he.id!==this.props.id||(this._shouldUpdateEditor(he)&&this.editor.setData(he.data),"disabled"in he&&(he.disabled?this.editor.enableReadOnlyMode(Ar):this.editor.disableReadOnlyMode(Ar)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return h().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.watchdog||(this.context instanceof qf?this.watchdog=new ti(this.context):this.watchdog=new Il._EditorWatchdog(this.props.editor,this.props.watchdogConfig),this.watchdog.setCreator((he,We)=>this._createEditor(he,We)),this.watchdog.on("error",(he,{error:We,causesRestart:Qe})=>{this.props.onError(We,{phase:"runtime",willEditorRestart:Qe})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch(he=>this.props.onError(he,{phase:"initialization",willEditorRestart:!1})))}_createEditor(he,We){return this.props.editor.create(he,We).then(Qe=>{"disabled"in this.props&&this.props.disabled&&Qe.enableReadOnlyMode(Ar);const Lt=Qe.model.document,sn=Qe.editing.view.document;return Lt.on("change:data",cn=>{this.props.onChange&&this.props.onChange(cn,Qe)}),sn.on("focus",cn=>{this.props.onFocus&&this.props.onFocus(cn,Qe)}),sn.on("blur",cn=>{this.props.onBlur&&this.props.onBlur(cn,Qe)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(Qe)}),Qe})}async _destroyEditor(){this.editorDestructionInProgress=new Promise(he=>{setTimeout(()=>{this.watchdog?this.watchdog.destroy().then(()=>{this.watchdog=null,he()}):he()})})}_shouldUpdateEditor(he){return this.props.data!==he.data&&this.editor.getData()!==he.data}_getConfig(){return this.props.data&&this.props.config.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` properties. The config property is over the data value and the first one will be used when specified both."),{...this.props.config,initialData:this.props.config.initialData||this.props.data||""}}}class ti{constructor(he){this._contextWatchdog=he,this._id=function(){const We=4294967296*Math.random()>>>0,Qe=4294967296*Math.random()>>>0,Lt=4294967296*Math.random()>>>0,sn=4294967296*Math.random()>>>0;return"e"+ei[We>>0&255]+ei[We>>8&255]+ei[We>>16&255]+ei[We>>24&255]+ei[Qe>>0&255]+ei[Qe>>8&255]+ei[Qe>>16&255]+ei[Qe>>24&255]+ei[Lt>>0&255]+ei[Lt>>8&255]+ei[Lt>>16&255]+ei[Lt>>24&255]+ei[sn>>0&255]+ei[sn>>8&255]+ei[sn>>16&255]+ei[sn>>24&255]}()}setCreator(he){this._creator=he}create(he,We){return this._contextWatchdog.add({sourceElementOrData:he,config:We,creator:this._creator,id:this._id,type:"editor"})}on(he,We){this._contextWatchdog.on("itemError",(Qe,{itemId:Lt,causesRestart:sn,error:cn})=>{Lt===this._id&&We(null,{error:cn,causesRestart:sn})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}Il.contextType=Ma,Il.propTypes={editor:g().func.isRequired,data:g().string,config:g().object,watchdogConfig:g().object,onChange:g().func,onReady:g().func,onFocus:g().func,onBlur:g().func,onError:g().func,disabled:g().bool,onInit:(we,he)=>{if(we[he])return new Error('The "onInit" property is not supported anymore by the CKEditor component. Use the "onReady" property instead.')}},Il.defaultProps={config:{},onError:(we,he)=>console.error(we,he)},Il._EditorWatchdog=ku})(),c})())})(l5,l5.exports);var vxe=l5.exports,c5={exports:{}};c5.exports;(function(n,e){(function(i){const r=i.en=i.en||{};r.dictionary=Object.assign(r.dictionary||{},{"%0 of %1":"%0 of %1",Accept:"Accept",Aquamarine:"Aquamarine",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Break text":"Break text","Bulleted List":"Bulleted List",Cancel:"Cancel","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Clear:"Clear","Click to edit block":"Click to edit block",Code:"Code",Column:"Column","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Downloadable:"Downloadable","Drag to move":"Drag to move","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Full size image":"Full size image",Green:"Green",Grey:"Grey","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",HEX:"HEX","Image resize list":"Image resize list","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Insert code block":"Insert code block","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table",Italic:"Italic","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link URL":"Link URL","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next","No results found":"No results found","No searchable items":"No searchable items","Numbered List":"Numbered List","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab",Orange:"Orange",Original:"Original",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.","Plain text":"Plain text","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Resize image":"Resize image","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Rich Text Editor":"Rich Text Editor","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Show more items":"Show more items","Side image":"Side image","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically","Table toolbar":"Table toolbar","Text alternative":"Text alternative","The URL must not be empty.":"The URL must not be empty.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on",Turquoise:"Turquoise",Undo:"Undo",Unlink:"Unlink","Upload failed":"Upload failed","Upload in progress":"Upload in progress",White:"White","Widget toolbar":"Widget toolbar","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(i,r){n.exports=r()}(self,()=>(()=>{var i={1924:(c,u,h)=>{var m=h(210),g=h(5559),y=g(m("String.prototype.indexOf"));c.exports=function(v,_){var A=m(v,!!_);return typeof A=="function"&&y(v,".prototype.")>-1?g(A):A}},5559:(c,u,h)=>{var m=h(8612),g=h(210),y=g("%Function.prototype.apply%"),v=g("%Function.prototype.call%"),_=g("%Reflect.apply%",!0)||m.call(v,y),A=g("%Object.getOwnPropertyDescriptor%",!0),S=g("%Object.defineProperty%",!0),T=g("%Math.max%");if(S)try{S({},"a",{value:1})}catch{S=null}c.exports=function(N){var I=_(m,v,arguments);return A&&S&&A(I,"length").configurable&&S(I,"length",{value:1+T(0,N.length-(arguments.length-1))}),I};var C=function(){return _(m,y,arguments)};S?S(c.exports,"apply",{value:C}):c.exports.apply=C},8168:(c,u,h)=>{const m=h(8874),g={};for(const v of Object.keys(m))g[m[v]]=v;const y={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};c.exports=y;for(const v of Object.keys(y)){if(!("channels"in y[v]))throw new Error("missing channels property: "+v);if(!("labels"in y[v]))throw new Error("missing channel labels property: "+v);if(y[v].labels.length!==y[v].channels)throw new Error("channel and label counts mismatch: "+v);const{channels:_,labels:A}=y[v];delete y[v].channels,delete y[v].labels,Object.defineProperty(y[v],"channels",{value:_}),Object.defineProperty(y[v],"labels",{value:A})}y.rgb.hsl=function(v){const _=v[0]/255,A=v[1]/255,S=v[2]/255,T=Math.min(_,A,S),C=Math.max(_,A,S),N=C-T;let I,O;C===T?I=0:_===C?I=(A-S)/N:A===C?I=2+(S-_)/N:S===C&&(I=4+(_-A)/N),I=Math.min(60*I,360),I<0&&(I+=360);const F=(T+C)/2;return O=C===T?0:F<=.5?N/(C+T):N/(2-C-T),[I,100*O,100*F]},y.rgb.hsv=function(v){let _,A,S,T,C;const N=v[0]/255,I=v[1]/255,O=v[2]/255,F=Math.max(N,I,O),L=F-Math.min(N,I,O),z=function(B){return(F-B)/6/L+.5};return L===0?(T=0,C=0):(C=L/F,_=z(N),A=z(I),S=z(O),N===F?T=S-A:I===F?T=.3333333333333333+_-S:O===F&&(T=.6666666666666666+A-_),T<0?T+=1:T>1&&(T-=1)),[360*T,100*C,100*F]},y.rgb.hwb=function(v){const _=v[0],A=v[1];let S=v[2];const T=y.rgb.hsl(v)[0],C=1/255*Math.min(_,Math.min(A,S));return S=1-.00392156862745098*Math.max(_,Math.max(A,S)),[T,100*C,100*S]},y.rgb.cmyk=function(v){const _=v[0]/255,A=v[1]/255,S=v[2]/255,T=Math.min(1-_,1-A,1-S);return[100*((1-_-T)/(1-T)||0),100*((1-A-T)/(1-T)||0),100*((1-S-T)/(1-T)||0),100*T]},y.rgb.keyword=function(v){const _=g[v];if(_)return _;let A,S=1/0;for(const N of Object.keys(m)){const I=m[N],O=(C=I,((T=v)[0]-C[0])**2+(T[1]-C[1])**2+(T[2]-C[2])**2);O<S&&(S=O,A=N)}var T,C;return A},y.keyword.rgb=function(v){return m[v]},y.rgb.xyz=function(v){let _=v[0]/255,A=v[1]/255,S=v[2]/255;return _=_>.04045?((_+.055)/1.055)**2.4:_/12.92,A=A>.04045?((A+.055)/1.055)**2.4:A/12.92,S=S>.04045?((S+.055)/1.055)**2.4:S/12.92,[100*(.4124*_+.3576*A+.1805*S),100*(.2126*_+.7152*A+.0722*S),100*(.0193*_+.1192*A+.9505*S)]},y.rgb.lab=function(v){const _=y.rgb.xyz(v);let A=_[0],S=_[1],T=_[2];return A/=95.047,S/=100,T/=108.883,A=A>.008856?A**.3333333333333333:7.787*A+.13793103448275862,S=S>.008856?S**.3333333333333333:7.787*S+.13793103448275862,T=T>.008856?T**.3333333333333333:7.787*T+.13793103448275862,[116*S-16,500*(A-S),200*(S-T)]},y.hsl.rgb=function(v){const _=v[0]/360,A=v[1]/100,S=v[2]/100;let T,C,N;if(A===0)return N=255*S,[N,N,N];T=S<.5?S*(1+A):S+A-S*A;const I=2*S-T,O=[0,0,0];for(let F=0;F<3;F++)C=_+.3333333333333333*-(F-1),C<0&&C++,C>1&&C--,N=6*C<1?I+6*(T-I)*C:2*C<1?T:3*C<2?I+(T-I)*(.6666666666666666-C)*6:I,O[F]=255*N;return O},y.hsl.hsv=function(v){const _=v[0];let A=v[1]/100,S=v[2]/100,T=A;const C=Math.max(S,.01);return S*=2,A*=S<=1?S:2-S,T*=C<=1?C:2-C,[_,100*(S===0?2*T/(C+T):2*A/(S+A)),100*((S+A)/2)]},y.hsv.rgb=function(v){const _=v[0]/60,A=v[1]/100;let S=v[2]/100;const T=Math.floor(_)%6,C=_-Math.floor(_),N=255*S*(1-A),I=255*S*(1-A*C),O=255*S*(1-A*(1-C));switch(S*=255,T){case 0:return[S,O,N];case 1:return[I,S,N];case 2:return[N,S,O];case 3:return[N,I,S];case 4:return[O,N,S];case 5:return[S,N,I]}},y.hsv.hsl=function(v){const _=v[0],A=v[1]/100,S=v[2]/100,T=Math.max(S,.01);let C,N;N=(2-A)*S;const I=(2-A)*T;return C=A*T,C/=I<=1?I:2-I,C=C||0,N/=2,[_,100*C,100*N]},y.hwb.rgb=function(v){const _=v[0]/360;let A=v[1]/100,S=v[2]/100;const T=A+S;let C;T>1&&(A/=T,S/=T);const N=Math.floor(6*_),I=1-S;C=6*_-N,1&N&&(C=1-C);const O=A+C*(I-A);let F,L,z;switch(N){default:case 6:case 0:F=I,L=O,z=A;break;case 1:F=O,L=I,z=A;break;case 2:F=A,L=I,z=O;break;case 3:F=A,L=O,z=I;break;case 4:F=O,L=A,z=I;break;case 5:F=I,L=A,z=O}return[255*F,255*L,255*z]},y.cmyk.rgb=function(v){const _=v[0]/100,A=v[1]/100,S=v[2]/100,T=v[3]/100;return[255*(1-Math.min(1,_*(1-T)+T)),255*(1-Math.min(1,A*(1-T)+T)),255*(1-Math.min(1,S*(1-T)+T))]},y.xyz.rgb=function(v){const _=v[0]/100,A=v[1]/100,S=v[2]/100;let T,C,N;return T=3.2406*_+-1.5372*A+-.4986*S,C=-.9689*_+1.8758*A+.0415*S,N=.0557*_+-.204*A+1.057*S,T=T>.0031308?1.055*T**.4166666666666667-.055:12.92*T,C=C>.0031308?1.055*C**.4166666666666667-.055:12.92*C,N=N>.0031308?1.055*N**.4166666666666667-.055:12.92*N,T=Math.min(Math.max(0,T),1),C=Math.min(Math.max(0,C),1),N=Math.min(Math.max(0,N),1),[255*T,255*C,255*N]},y.xyz.lab=function(v){let _=v[0],A=v[1],S=v[2];return _/=95.047,A/=100,S/=108.883,_=_>.008856?_**.3333333333333333:7.787*_+.13793103448275862,A=A>.008856?A**.3333333333333333:7.787*A+.13793103448275862,S=S>.008856?S**.3333333333333333:7.787*S+.13793103448275862,[116*A-16,500*(_-A),200*(A-S)]},y.lab.xyz=function(v){let _,A,S;A=(v[0]+16)/116,_=v[1]/500+A,S=A-v[2]/200;const T=A**3,C=_**3,N=S**3;return A=T>.008856?T:(A-.13793103448275862)/7.787,_=C>.008856?C:(_-.13793103448275862)/7.787,S=N>.008856?N:(S-.13793103448275862)/7.787,_*=95.047,A*=100,S*=108.883,[_,A,S]},y.lab.lch=function(v){const _=v[0],A=v[1],S=v[2];let T;return T=360*Math.atan2(S,A)/2/Math.PI,T<0&&(T+=360),[_,Math.sqrt(A*A+S*S),T]},y.lch.lab=function(v){const _=v[0],A=v[1],S=v[2]/360*2*Math.PI;return[_,A*Math.cos(S),A*Math.sin(S)]},y.rgb.ansi16=function(v,_=null){const[A,S,T]=v;let C=_===null?y.rgb.hsv(v)[2]:_;if(C=Math.round(C/50),C===0)return 30;let N=30+(Math.round(T/255)<<2|Math.round(S/255)<<1|Math.round(A/255));return C===2&&(N+=60),N},y.hsv.ansi16=function(v){return y.rgb.ansi16(y.hsv.rgb(v),v[2])},y.rgb.ansi256=function(v){const _=v[0],A=v[1],S=v[2];return _===A&&A===S?_<8?16:_>248?231:Math.round((_-8)/247*24)+232:16+36*Math.round(_/255*5)+6*Math.round(A/255*5)+Math.round(S/255*5)},y.ansi16.rgb=function(v){let _=v%10;if(_===0||_===7)return v>50&&(_+=3.5),_=_/10.5*255,[_,_,_];const A=.5*(1+~~(v>50));return[(1&_)*A*255,(_>>1&1)*A*255,(_>>2&1)*A*255]},y.ansi256.rgb=function(v){if(v>=232){const A=10*(v-232)+8;return[A,A,A]}let _;return v-=16,[Math.floor(v/36)/5*255,Math.floor((_=v%36)/6)/5*255,_%6/5*255]},y.rgb.hex=function(v){const _=(((255&Math.round(v[0]))<<16)+((255&Math.round(v[1]))<<8)+(255&Math.round(v[2]))).toString(16).toUpperCase();return"000000".substring(_.length)+_},y.hex.rgb=function(v){const _=v.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!_)return[0,0,0];let A=_[0];_[0].length===3&&(A=A.split("").map(T=>T+T).join(""));const S=parseInt(A,16);return[S>>16&255,S>>8&255,255&S]},y.rgb.hcg=function(v){const _=v[0]/255,A=v[1]/255,S=v[2]/255,T=Math.max(Math.max(_,A),S),C=Math.min(Math.min(_,A),S),N=T-C;let I,O;return I=N<1?C/(1-N):0,O=N<=0?0:T===_?(A-S)/N%6:T===A?2+(S-_)/N:4+(_-A)/N,O/=6,O%=1,[360*O,100*N,100*I]},y.hsl.hcg=function(v){const _=v[1]/100,A=v[2]/100,S=A<.5?2*_*A:2*_*(1-A);let T=0;return S<1&&(T=(A-.5*S)/(1-S)),[v[0],100*S,100*T]},y.hsv.hcg=function(v){const _=v[1]/100,A=v[2]/100,S=_*A;let T=0;return S<1&&(T=(A-S)/(1-S)),[v[0],100*S,100*T]},y.hcg.rgb=function(v){const _=v[0]/360,A=v[1]/100,S=v[2]/100;if(A===0)return[255*S,255*S,255*S];const T=[0,0,0],C=_%1*6,N=C%1,I=1-N;let O=0;switch(Math.floor(C)){case 0:T[0]=1,T[1]=N,T[2]=0;break;case 1:T[0]=I,T[1]=1,T[2]=0;break;case 2:T[0]=0,T[1]=1,T[2]=N;break;case 3:T[0]=0,T[1]=I,T[2]=1;break;case 4:T[0]=N,T[1]=0,T[2]=1;break;default:T[0]=1,T[1]=0,T[2]=I}return O=(1-A)*S,[255*(A*T[0]+O),255*(A*T[1]+O),255*(A*T[2]+O)]},y.hcg.hsv=function(v){const _=v[1]/100,A=_+v[2]/100*(1-_);let S=0;return A>0&&(S=_/A),[v[0],100*S,100*A]},y.hcg.hsl=function(v){const _=v[1]/100,A=v[2]/100*(1-_)+.5*_;let S=0;return A>0&&A<.5?S=_/(2*A):A>=.5&&A<1&&(S=_/(2*(1-A))),[v[0],100*S,100*A]},y.hcg.hwb=function(v){const _=v[1]/100,A=_+v[2]/100*(1-_);return[v[0],100*(A-_),100*(1-A)]},y.hwb.hcg=function(v){const _=v[1]/100,A=1-v[2]/100,S=A-_;let T=0;return S<1&&(T=(A-S)/(1-S)),[v[0],100*S,100*T]},y.apple.rgb=function(v){return[v[0]/65535*255,v[1]/65535*255,v[2]/65535*255]},y.rgb.apple=function(v){return[v[0]/255*65535,v[1]/255*65535,v[2]/255*65535]},y.gray.rgb=function(v){return[v[0]/100*255,v[0]/100*255,v[0]/100*255]},y.gray.hsl=function(v){return[0,0,v[0]]},y.gray.hsv=y.gray.hsl,y.gray.hwb=function(v){return[0,100,v[0]]},y.gray.cmyk=function(v){return[0,0,0,v[0]]},y.gray.lab=function(v){return[v[0],0,0]},y.gray.hex=function(v){const _=255&Math.round(v[0]/100*255),A=((_<<16)+(_<<8)+_).toString(16).toUpperCase();return"000000".substring(A.length)+A},y.rgb.gray=function(v){return[(v[0]+v[1]+v[2])/3/255*100]}},2085:(c,u,h)=>{const m=h(8168),g=h(4111),y={};Object.keys(m).forEach(v=>{y[v]={},Object.defineProperty(y[v],"channels",{value:m[v].channels}),Object.defineProperty(y[v],"labels",{value:m[v].labels});const _=g(v);Object.keys(_).forEach(A=>{const S=_[A];y[v][A]=function(T){const C=function(...N){const I=N[0];if(I==null)return I;I.length>1&&(N=I);const O=T(N);if(typeof O=="object")for(let F=O.length,L=0;L<F;L++)O[L]=Math.round(O[L]);return O};return"conversion"in T&&(C.conversion=T.conversion),C}(S),y[v][A].raw=function(T){const C=function(...N){const I=N[0];return I==null?I:(I.length>1&&(N=I),T(N))};return"conversion"in T&&(C.conversion=T.conversion),C}(S)})}),c.exports=y},4111:(c,u,h)=>{const m=h(8168);function g(_){const A=function(){const T={},C=Object.keys(m);for(let N=C.length,I=0;I<N;I++)T[C[I]]={distance:-1,parent:null};return T}(),S=[_];for(A[_].distance=0;S.length;){const T=S.pop(),C=Object.keys(m[T]);for(let N=C.length,I=0;I<N;I++){const O=C[I],F=A[O];F.distance===-1&&(F.distance=A[T].distance+1,F.parent=T,S.unshift(O))}}return A}function y(_,A){return function(S){return A(_(S))}}function v(_,A){const S=[A[_].parent,_];let T=m[A[_].parent][_],C=A[_].parent;for(;A[C].parent;)S.unshift(A[C].parent),T=y(m[A[C].parent][C],T),C=A[C].parent;return T.conversion=S,T}c.exports=function(_){const A=g(_),S={},T=Object.keys(A);for(let C=T.length,N=0;N<C;N++){const I=T[N];A[I].parent!==null&&(S[I]=v(I,A))}return S}},8874:c=>{c.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},8767:c=>{function u(h){if(h)return function(m){for(var g in u.prototype)m[g]=u.prototype[g];return m}(h)}c.exports=u,u.prototype.on=u.prototype.addEventListener=function(h,m){return this._callbacks=this._callbacks||{},(this._callbacks["$"+h]=this._callbacks["$"+h]||[]).push(m),this},u.prototype.once=function(h,m){function g(){this.off(h,g),m.apply(this,arguments)}return g.fn=m,this.on(h,g),this},u.prototype.off=u.prototype.removeListener=u.prototype.removeAllListeners=u.prototype.removeEventListener=function(h,m){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var g,y=this._callbacks["$"+h];if(!y)return this;if(arguments.length==1)return delete this._callbacks["$"+h],this;for(var v=0;v<y.length;v++)if((g=y[v])===m||g.fn===m){y.splice(v,1);break}return y.length===0&&delete this._callbacks["$"+h],this},u.prototype.emit=function(h){this._callbacks=this._callbacks||{};for(var m=new Array(arguments.length-1),g=this._callbacks["$"+h],y=1;y<arguments.length;y++)m[y-1]=arguments[y];if(g){y=0;for(var v=(g=g.slice(0)).length;y<v;++y)g[y].apply(this,m)}return this},u.prototype.listeners=function(h){return this._callbacks=this._callbacks||{},this._callbacks["$"+h]||[]},u.prototype.hasListeners=function(h){return!!this.listeners(h).length}},5363:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}",""]);const _=v},3789:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}",""]);const _=v},799:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',""]);const _=v},3624:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}",""]);const _=v},7372:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}",""]);const _=v},5037:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}",""]);const _=v},4249:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}",""]);const _=v},2430:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}",""]);const _=v},2423:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}",""]);const _=v},2400:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}",""]);const _=v},3534:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}",""]);const _=v},1547:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',""]);const _=v},6618:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',""]);const _=v},2926:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}",""]);const _=v},5269:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}",""]);const _=v},3925:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}",""]);const _=v},7536:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}",""]);const _=v},4874:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}",""]);const _=v},4784:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}",""]);const _=v},8705:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}",""]);const _=v},1922:(c,u,h)=>{h.d(u,{Z:()=>B});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y),_=h(1667),A=h.n(_),S=new URL(h(4493),h.b),T=new URL(h(2739),h.b),C=new URL(h(6631),h.b),N=new URL(h(7511),h.b),I=v()(g()),O=A()(S),F=A()(T),L=A()(C),z=A()(N);I.push([c.id,`.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(${O})}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(${F})}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(${L})}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(${z})}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}`,""]);const B=I},7138:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}",""]);const _=v},468:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}",""]);const _=v},2510:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}",""]);const _=v},8361:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}",""]);const _=v},1546:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',""]);const _=v},4029:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-modal)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}",""]);const _=v},4971:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}",""]);const _=v},7258:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}",""]);const _=v},4923:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}",""]);const _=v},4257:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}",""]);const _=v},6306:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}",""]);const _=v},5062:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}",""]);const _=v},1883:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}",""]);const _=v},4791:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',""]);const _=v},2704:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}",""]);const _=v},9847:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}",""]);const _=v},1874:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header .ck-icon{margin-right:var(--ck-spacing-medium)}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}",""]);const _=v},4746:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}",""]);const _=v},1977:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}",""]);const _=v},2470:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}",""]);const _=v},3525:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}",""]);const _=v},2933:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}",""]);const _=v},179:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>span{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}",""]);const _=v},4460:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',""]);const _=v},7592:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}",""]);const _=v},6356:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}",""]);const _=v},3707:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}",""]);const _=v},6603:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',""]);const _=v},9332:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}",""]);const _=v},6446:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:rotate 1.5s linear infinite}.ck.ck-spinner,.ck.ck-spinner-container{height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent}@keyframes rotate{to{transform:rotate(1turn)}}",""]);const _=v},5224:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck-textarea{overflow-x:hidden}",""]);const _=v},4176:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}",""]);const _=v},4768:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}",""]);const _=v},3888:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}",""]);const _=v},5167:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-modal) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}",""]);const _=v},7153:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}",""]);const _=v},4875:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}",""]);const _=v},2347:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',""]);const _=v},6059:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck-content pre{background:hsla(0,0%,78%,.3);border:1px solid #c4c4c4;border-radius:2px;color:#353535;direction:ltr;font-style:normal;min-width:200px;padding:1em;tab-size:4;text-align:left;white-space:pre-wrap}.ck-content pre code{background:unset;border-radius:0;padding:0}.ck.ck-editor__editable pre{position:relative}.ck.ck-editor__editable pre[data-language]:after{content:attr(data-language);position:absolute}:root{--ck-color-code-block-label-background:#757575}.ck.ck-editor__editable pre[data-language]:after{background:var(--ck-color-code-block-label-background);color:#fff;font-family:var(--ck-font-face);font-size:10px;line-height:16px;padding:var(--ck-spacing-tiny) var(--ck-spacing-medium);right:10px;top:-1px;white-space:nowrap}.ck.ck-code-block-dropdown .ck-dropdown__panel{max-height:250px;overflow-x:hidden;overflow-y:auto}",""]);const _=v},9330:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,'.dnx-box{background-color:#fff;color:#4a4a4a;display:block;padding:3.25rem}.dnx-modal lable{display:inline-block;font-weight:700;margin-bottom:5px}.dnx-modal input{-webkit-tap-highlight-color:rgba(255,255,255,0);background:#fff;border:1px solid rgba(34,36,38,.15);border-radius:.28571429rem;box-shadow:none;color:rgba(0,0,0,.87);flex:1 0 auto;line-height:1.21428571em;margin:0;outline:0;padding:.67857143em 1em;text-align:left;transition:box-shadow .1s ease,border-color .1s ease;width:100%}.dnx-modal input:focus{background:#fff;border-color:#85b7d9;-webkit-box-shadow:none;box-shadow:none;color:rgba(0,0,0,.8)}.dnx-modal{background:#fff;box-shadow:0 0 30px 5px rgba(0,0,0,.5);display:block;height:80%;left:50%;position:fixed;top:50%;transform:translate(-50%,-50%);width:70%;z-index:501}.dnx-modal-overlay.closed,.dnx-modal.closed{display:none}.dnx-modal-overlay{background:rgba(0,0,0,.2);height:100%;left:0;position:fixed;top:0;width:100%;z-index:500}.dnx-modal .modal-guts{left:0;overflow:hidden;position:absolute;top:0;width:100%}.dnx-close-button{height:28px;opacity:.3;position:absolute;right:15px;top:15px;width:28px;z-index:600}.dnx-close-button:hover{opacity:1}.dnx-close-button:after,.dnx-close-button:before{background-color:#333;content:" ";height:20px;left:15px;position:absolute;width:2px}.dnx-close-button:before{transform:rotate(45deg)}.dnx-close-button:after{transform:rotate(-45deg)}.dnx-unsplash-box{background-color:#fff;border-radius:6px;box-shadow:0 2px 3px hsla(0,0%,4%,.1),0 0 0 1px hsla(0,0%,4%,.1);color:#4a4a4a;display:block;padding:1.5rem}.dnx-photo-grid{display:flex;flex-wrap:wrap;height:70vh;list-style:none;margin:0 -8px -8px 0;overflow:auto;padding:0}.dnx-modal .dnx-photo-grid::-webkit-scrollbar{display:none}.dnx-photo-grid li{-webkit-box-flex:1;flex-grow:1;height:20vh;margin:0 8px 8px 0}.dnx-photo-grid li:last-child{-webkit-box-flex:10;flex-grow:10}.dnx-photo-grid img{border-radius:4px;cursor:pointer;max-height:100%;min-width:100%;-o-object-fit:cover;object-fit:cover;vertical-align:bottom}@media only screen and (max-width:768px){.dnx-box{padding:3.25rem 1.5rem}.dnx-modal{width:95%}}',""]);const _=v},3645:c=>{c.exports=function(u){var h=[];return h.toString=function(){return this.map(function(m){var g="",y=m[5]!==void 0;return m[4]&&(g+="@supports (".concat(m[4],") {")),m[2]&&(g+="@media ".concat(m[2]," {")),y&&(g+="@layer".concat(m[5].length>0?" ".concat(m[5]):""," {")),g+=u(m),y&&(g+="}"),m[2]&&(g+="}"),m[4]&&(g+="}"),g}).join("")},h.i=function(m,g,y,v,_){typeof m=="string"&&(m=[[null,m,void 0]]);var A={};if(y)for(var S=0;S<this.length;S++){var T=this[S][0];T!=null&&(A[T]=!0)}for(var C=0;C<m.length;C++){var N=[].concat(m[C]);y&&A[N[0]]||(_!==void 0&&(N[5]===void 0||(N[1]="@layer".concat(N[5].length>0?" ".concat(N[5]):""," {").concat(N[1],"}")),N[5]=_),g&&(N[2]&&(N[1]="@media ".concat(N[2]," {").concat(N[1],"}")),N[2]=g),v&&(N[4]?(N[1]="@supports (".concat(N[4],") {").concat(N[1],"}"),N[4]=v):N[4]="".concat(v)),h.push(N))}},h}},1667:c=>{c.exports=function(u,h){return h||(h={}),u&&(u=String(u.__esModule?u.default:u),/^['"].*['"]$/.test(u)&&(u=u.slice(1,-1)),h.hash&&(u+=h.hash),/["'() \t\n]|(%20)/.test(u)||h.needQuotes?'"'.concat(u.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):u)}},8081:c=>{c.exports=function(u){return u[1]}},4445:c=>{c.exports=v,v.default=v,v.stable=T,v.stableStringify=T;var u="[...]",h="[Circular]",m=[],g=[];function y(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function v(I,O,F,L){var z;L===void 0&&(L=y()),A(I,"",0,[],void 0,0,L);try{z=g.length===0?JSON.stringify(I,O,F):JSON.stringify(I,N(O),F)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;m.length!==0;){var B=m.pop();B.length===4?Object.defineProperty(B[0],B[1],B[3]):B[0][B[1]]=B[2]}}return z}function _(I,O,F,L){var z=Object.getOwnPropertyDescriptor(L,F);z.get!==void 0?z.configurable?(Object.defineProperty(L,F,{value:I}),m.push([L,F,O,z])):g.push([O,F,I]):(L[F]=I,m.push([L,F,O]))}function A(I,O,F,L,z,B,Y){var se;if(B+=1,typeof I=="object"&&I!==null){for(se=0;se<L.length;se++)if(L[se]===I)return void _(h,I,O,z);if(Y.depthLimit!==void 0&&B>Y.depthLimit||Y.edgesLimit!==void 0&&F+1>Y.edgesLimit)return void _(u,I,O,z);if(L.push(I),Array.isArray(I))for(se=0;se<I.length;se++)A(I[se],se,se,L,I,B,Y);else{var de=Object.keys(I);for(se=0;se<de.length;se++){var J=de[se];A(I[J],J,se,L,I,B,Y)}}L.pop()}}function S(I,O){return I<O?-1:I>O?1:0}function T(I,O,F,L){L===void 0&&(L=y());var z,B=C(I,"",0,[],void 0,0,L)||I;try{z=g.length===0?JSON.stringify(B,O,F):JSON.stringify(B,N(O),F)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;m.length!==0;){var Y=m.pop();Y.length===4?Object.defineProperty(Y[0],Y[1],Y[3]):Y[0][Y[1]]=Y[2]}}return z}function C(I,O,F,L,z,B,Y){var se;if(B+=1,typeof I=="object"&&I!==null){for(se=0;se<L.length;se++)if(L[se]===I)return void _(h,I,O,z);try{if(typeof I.toJSON=="function")return}catch{return}if(Y.depthLimit!==void 0&&B>Y.depthLimit||Y.edgesLimit!==void 0&&F+1>Y.edgesLimit)return void _(u,I,O,z);if(L.push(I),Array.isArray(I))for(se=0;se<I.length;se++)C(I[se],se,se,L,I,B,Y);else{var de={},J=Object.keys(I).sort(S);for(se=0;se<J.length;se++){var be=J[se];C(I[be],be,se,L,I,B,Y),de[be]=I[be]}if(z===void 0)return de;m.push([z,O,I]),z[O]=de}L.pop()}}function N(I){return I=I!==void 0?I:function(O,F){return F},function(O,F){if(g.length>0)for(var L=0;L<g.length;L++){var z=g[L];if(z[1]===O&&z[0]===F){F=z[2],g.splice(L,1);break}}return I.call(this,O,F)}}},7648:c=>{var u=Array.prototype.slice,h=Object.prototype.toString;c.exports=function(m){var g=this;if(typeof g!="function"||h.call(g)!=="[object Function]")throw new TypeError("Function.prototype.bind called on incompatible "+g);for(var y,v=u.call(arguments,1),_=Math.max(0,g.length-v.length),A=[],S=0;S<_;S++)A.push("$"+S);if(y=Function("binder","return function ("+A.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof y){var C=g.apply(this,v.concat(u.call(arguments)));return Object(C)===C?C:this}return g.apply(m,v.concat(u.call(arguments)))}),g.prototype){var T=function(){};T.prototype=g.prototype,y.prototype=new T,T.prototype=null}return y}},8612:(c,u,h)=>{var m=h(7648);c.exports=Function.prototype.bind||m},210:(c,u,h)=>{var m,g=SyntaxError,y=Function,v=TypeError,_=function(X){try{return y('"use strict"; return ('+X+").constructor;")()}catch{}},A=Object.getOwnPropertyDescriptor;if(A)try{A({},"")}catch{A=null}var S=function(){throw new v},T=A?function(){try{return S}catch{try{return A(arguments,"callee").get}catch{return S}}}():S,C=h(1405)(),N=Object.getPrototypeOf||function(X){return X.__proto__},I={},O=typeof Uint8Array>"u"?m:N(Uint8Array),F={"%AggregateError%":typeof AggregateError>"u"?m:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?m:ArrayBuffer,"%ArrayIteratorPrototype%":C?N([][Symbol.iterator]()):m,"%AsyncFromSyncIteratorPrototype%":m,"%AsyncFunction%":I,"%AsyncGenerator%":I,"%AsyncGeneratorFunction%":I,"%AsyncIteratorPrototype%":I,"%Atomics%":typeof Atomics>"u"?m:Atomics,"%BigInt%":typeof BigInt>"u"?m:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?m:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?m:Float32Array,"%Float64Array%":typeof Float64Array>"u"?m:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?m:FinalizationRegistry,"%Function%":y,"%GeneratorFunction%":I,"%Int8Array%":typeof Int8Array>"u"?m:Int8Array,"%Int16Array%":typeof Int16Array>"u"?m:Int16Array,"%Int32Array%":typeof Int32Array>"u"?m:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":C?N(N([][Symbol.iterator]())):m,"%JSON%":typeof JSON=="object"?JSON:m,"%Map%":typeof Map>"u"?m:Map,"%MapIteratorPrototype%":typeof Map<"u"&&C?N(new Map()[Symbol.iterator]()):m,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?m:Promise,"%Proxy%":typeof Proxy>"u"?m:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?m:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?m:Set,"%SetIteratorPrototype%":typeof Set<"u"&&C?N(new Set()[Symbol.iterator]()):m,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?m:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":C?N(""[Symbol.iterator]()):m,"%Symbol%":C?Symbol:m,"%SyntaxError%":g,"%ThrowTypeError%":T,"%TypedArray%":O,"%TypeError%":v,"%Uint8Array%":typeof Uint8Array>"u"?m:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?m:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?m:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?m:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?m:WeakMap,"%WeakRef%":typeof WeakRef>"u"?m:WeakRef,"%WeakSet%":typeof WeakSet>"u"?m:WeakSet},L=function X(K){var ne;if(K==="%AsyncFunction%")ne=_("async function () {}");else if(K==="%GeneratorFunction%")ne=_("function* () {}");else if(K==="%AsyncGeneratorFunction%")ne=_("async function* () {}");else if(K==="%AsyncGenerator%"){var ee=X("%AsyncGeneratorFunction%");ee&&(ne=ee.prototype)}else if(K==="%AsyncIteratorPrototype%"){var ue=X("%AsyncGenerator%");ue&&(ne=N(ue.prototype))}return F[K]=ne,ne},z={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},B=h(8612),Y=h(7642),se=B.call(Function.call,Array.prototype.concat),de=B.call(Function.apply,Array.prototype.splice),J=B.call(Function.call,String.prototype.replace),be=B.call(Function.call,String.prototype.slice),q=B.call(Function.call,RegExp.prototype.exec),Te=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ie=/\\(\\)?/g,ce=function(X,K){var ne,ee=X;if(Y(z,ee)&&(ee="%"+(ne=z[ee])[0]+"%"),Y(F,ee)){var ue=F[ee];if(ue===I&&(ue=L(ee)),ue===void 0&&!K)throw new v("intrinsic "+X+" exists, but is not available. Please file an issue!");return{alias:ne,name:ee,value:ue}}throw new g("intrinsic "+X+" does not exist!")};c.exports=function(X,K){if(typeof X!="string"||X.length===0)throw new v("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof K!="boolean")throw new v('"allowMissing" argument must be a boolean');if(q(/^%?[^%]*%?$/,X)===null)throw new g("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ne=function(ze){var $=be(ze,0,1),Ce=be(ze,-1);if($==="%"&&Ce!=="%")throw new g("invalid intrinsic syntax, expected closing `%`");if(Ce==="%"&&$!=="%")throw new g("invalid intrinsic syntax, expected opening `%`");var Me=[];return J(ze,Te,function(ye,_e,Le,Ve){Me[Me.length]=Le?J(Ve,ie,"$1"):_e||ye}),Me}(X),ee=ne.length>0?ne[0]:"",ue=ce("%"+ee+"%",K),Q=ue.name,fe=ue.value,Se=!1,Oe=ue.alias;Oe&&(ee=Oe[0],de(ne,se([0,1],Oe)));for(var Ie=1,je=!0;Ie<ne.length;Ie+=1){var Be=ne[Ie],Fe=be(Be,0,1),Ae=be(Be,-1);if((Fe==='"'||Fe==="'"||Fe==="`"||Ae==='"'||Ae==="'"||Ae==="`")&&Fe!==Ae)throw new g("property names with quotes must have matching quotes");if(Be!=="constructor"&&je||(Se=!0),Y(F,Q="%"+(ee+="."+Be)+"%"))fe=F[Q];else if(fe!=null){if(!(Be in fe)){if(!K)throw new v("base intrinsic for "+X+" exists, but the property is not available.");return}if(A&&Ie+1>=ne.length){var ke=A(fe,Be);fe=(je=!!ke)&&"get"in ke&&!("originalValue"in ke.get)?ke.get:fe[Be]}else je=Y(fe,Be),fe=fe[Be];je&&!Se&&(F[Q]=fe)}}return fe}},1405:(c,u,h)=>{var m=typeof Symbol<"u"&&Symbol,g=h(5419);c.exports=function(){return typeof m=="function"&&typeof Symbol=="function"&&typeof m("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&g()}},5419:c=>{c.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var u={},h=Symbol("test"),m=Object(h);if(typeof h=="string"||Object.prototype.toString.call(h)!=="[object Symbol]"||Object.prototype.toString.call(m)!=="[object Symbol]")return!1;for(h in u[h]=42,u)return!1;if(typeof Object.keys=="function"&&Object.keys(u).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(u).length!==0)return!1;var g=Object.getOwnPropertySymbols(u);if(g.length!==1||g[0]!==h||!Object.prototype.propertyIsEnumerable.call(u,h))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var y=Object.getOwnPropertyDescriptor(u,h);if(y.value!==42||y.enumerable!==!0)return!1}return!0}},7642:(c,u,h)=>{var m=h(8612);c.exports=m.call(Function.call,Object.prototype.hasOwnProperty)},7418:c=>{var u=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable;c.exports=function(){try{if(!Object.assign)return!1;var g=new String("abc");if(g[5]="de",Object.getOwnPropertyNames(g)[0]==="5")return!1;for(var y={},v=0;v<10;v++)y["_"+String.fromCharCode(v)]=v;if(Object.getOwnPropertyNames(y).map(function(A){return y[A]}).join("")!=="0123456789")return!1;var _={};return"abcdefghijklmnopqrst".split("").forEach(function(A){_[A]=A}),Object.keys(Object.assign({},_)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(g,y){for(var v,_,A=function(N){if(N==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(N)}(g),S=1;S<arguments.length;S++){for(var T in v=Object(arguments[S]))h.call(v,T)&&(A[T]=v[T]);if(u){_=u(v);for(var C=0;C<_.length;C++)m.call(v,_[C])&&(A[_[C]]=v[_[C]])}}return A}},631:(c,u,h)=>{var m=typeof Map=="function"&&Map.prototype,g=Object.getOwnPropertyDescriptor&&m?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,y=m&&g&&typeof g.get=="function"?g.get:null,v=m&&Map.prototype.forEach,_=typeof Set=="function"&&Set.prototype,A=Object.getOwnPropertyDescriptor&&_?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,S=_&&A&&typeof A.get=="function"?A.get:null,T=_&&Set.prototype.forEach,C=typeof WeakMap=="function"&&WeakMap.prototype?WeakMap.prototype.has:null,N=typeof WeakSet=="function"&&WeakSet.prototype?WeakSet.prototype.has:null,I=typeof WeakRef=="function"&&WeakRef.prototype?WeakRef.prototype.deref:null,O=Boolean.prototype.valueOf,F=Object.prototype.toString,L=Function.prototype.toString,z=String.prototype.match,B=String.prototype.slice,Y=String.prototype.replace,se=String.prototype.toUpperCase,de=String.prototype.toLowerCase,J=RegExp.prototype.test,be=Array.prototype.concat,q=Array.prototype.join,Te=Array.prototype.slice,ie=Math.floor,ce=typeof BigInt=="function"?BigInt.prototype.valueOf:null,X=Object.getOwnPropertySymbols,K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ne=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ee=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ne||!0)?Symbol.toStringTag:null,ue=Object.prototype.propertyIsEnumerable,Q=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(ve){return ve.__proto__}:null);function fe(ve,ae){if(ve===1/0||ve===-1/0||ve!=ve||ve&&ve>-1e3&&ve<1e3||J.call(/e/,ae))return ae;var Ue=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof ve=="number"){var Je=ve<0?-ie(-ve):ie(ve);if(Je!==ve){var nt=String(Je),dt=B.call(ae,nt.length+1);return Y.call(nt,Ue,"$&_")+"."+Y.call(Y.call(dt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Y.call(ae,Ue,"$&_")}var Se=h(4654),Oe=Se.custom,Ie=ke(Oe)?Oe:null;function je(ve,ae,Ue){var Je=(Ue.quoteStyle||ae)==="double"?'"':"'";return Je+ve+Je}function Be(ve){return Y.call(String(ve),/"/g,"&quot;")}function Fe(ve){return!(Ce(ve)!=="[object Array]"||ee&&typeof ve=="object"&&ee in ve)}function Ae(ve){return!(Ce(ve)!=="[object RegExp]"||ee&&typeof ve=="object"&&ee in ve)}function ke(ve){if(ne)return ve&&typeof ve=="object"&&ve instanceof Symbol;if(typeof ve=="symbol")return!0;if(!ve||typeof ve!="object"||!K)return!1;try{return K.call(ve),!0}catch{}return!1}c.exports=function ve(ae,Ue,Je,nt){var dt=Ue||{};if($(dt,"quoteStyle")&&dt.quoteStyle!=="single"&&dt.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if($(dt,"maxStringLength")&&(typeof dt.maxStringLength=="number"?dt.maxStringLength<0&&dt.maxStringLength!==1/0:dt.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var ft=!$(dt,"customInspect")||dt.customInspect;if(typeof ft!="boolean"&&ft!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if($(dt,"indent")&&dt.indent!==null&&dt.indent!=="	"&&!(parseInt(dt.indent,10)===dt.indent&&dt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if($(dt,"numericSeparator")&&typeof dt.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Ot=dt.numericSeparator;if(ae===void 0)return"undefined";if(ae===null)return"null";if(typeof ae=="boolean")return ae?"true":"false";if(typeof ae=="string")return ye(ae,dt);if(typeof ae=="number"){if(ae===0)return 1/0/ae>0?"0":"-0";var Ct=String(ae);return Ot?fe(ae,Ct):Ct}if(typeof ae=="bigint"){var $t=String(ae)+"n";return Ot?fe(ae,$t):$t}var At=dt.depth===void 0?5:dt.depth;if(Je===void 0&&(Je=0),Je>=At&&At>0&&typeof ae=="object")return Fe(ae)?"[Array]":"[Object]";var Zt=function(gt,bn){var Hi;if(gt.indent==="	")Hi="	";else{if(!(typeof gt.indent=="number"&&gt.indent>0))return null;Hi=q.call(Array(gt.indent+1)," ")}return{base:Hi,prev:q.call(Array(bn+1),Hi)}}(dt,Je);if(nt===void 0)nt=[];else if(Me(nt,ae)>=0)return"[Circular]";function qt(gt,bn,Hi){if(bn&&(nt=Te.call(nt)).push(bn),Hi){var Er={depth:dt.depth};return $(dt,"quoteStyle")&&(Er.quoteStyle=dt.quoteStyle),ve(gt,Er,Je+1,nt)}return ve(gt,dt,Je+1,nt)}if(typeof ae=="function"&&!Ae(ae)){var En=function(gt){if(gt.name)return gt.name;var bn=z.call(L.call(gt),/^function\s*([\w$]+)/);return bn?bn[1]:null}(ae),Or=Ee(ae,qt);return"[Function"+(En?": "+En:" (anonymous)")+"]"+(Or.length>0?" { "+q.call(Or,", ")+" }":"")}if(ke(ae)){var $i=ne?Y.call(String(ae),/^(Symbol\(.*\))_[^)]*$/,"$1"):K.call(ae);return typeof ae!="object"||ne?$i:Le($i)}if(function(gt){return!gt||typeof gt!="object"?!1:typeof HTMLElement<"u"&&gt instanceof HTMLElement?!0:typeof gt.nodeName=="string"&&typeof gt.getAttribute=="function"}(ae)){for(var qi="<"+de.call(String(ae.nodeName)),Pi=ae.attributes||[],Yn=0;Yn<Pi.length;Yn++)qi+=" "+Pi[Yn].name+"="+je(Be(Pi[Yn].value),"double",dt);return qi+=">",ae.childNodes&&ae.childNodes.length&&(qi+="..."),qi+="</"+de.call(String(ae.nodeName))+">"}if(Fe(ae)){if(ae.length===0)return"[]";var bi=Ee(ae,qt);return Zt&&!function(gt){for(var bn=0;bn<gt.length;bn++)if(Me(gt[bn],`
`)>=0)return!1;return!0}(bi)?"["+Ne(bi,Zt)+"]":"[ "+q.call(bi,", ")+" ]"}if(function(gt){return!(Ce(gt)!=="[object Error]"||ee&&typeof gt=="object"&&ee in gt)}(ae)){var yi=Ee(ae,qt);return"cause"in Error.prototype||!("cause"in ae)||ue.call(ae,"cause")?yi.length===0?"["+String(ae)+"]":"{ ["+String(ae)+"] "+q.call(yi,", ")+" }":"{ ["+String(ae)+"] "+q.call(be.call("[cause]: "+qt(ae.cause),yi),", ")+" }"}if(typeof ae=="object"&&ft){if(Ie&&typeof ae[Ie]=="function"&&Se)return Se(ae,{depth:At-Je});if(ft!=="symbol"&&typeof ae.inspect=="function")return ae.inspect()}if(function(gt){if(!y||!gt||typeof gt!="object")return!1;try{y.call(gt);try{S.call(gt)}catch{return!0}return gt instanceof Map}catch{}return!1}(ae)){var mt=[];return v.call(ae,function(gt,bn){mt.push(qt(bn,ae,!0)+" => "+qt(gt,ae))}),$e("Map",y.call(ae),mt,Zt)}if(function(gt){if(!S||!gt||typeof gt!="object")return!1;try{S.call(gt);try{y.call(gt)}catch{return!0}return gt instanceof Set}catch{}return!1}(ae)){var Ft=[];return T.call(ae,function(gt){Ft.push(qt(gt,ae))}),$e("Set",S.call(ae),Ft,Zt)}if(function(gt){if(!C||!gt||typeof gt!="object")return!1;try{C.call(gt,C);try{N.call(gt,N)}catch{return!0}return gt instanceof WeakMap}catch{}return!1}(ae))return Ve("WeakMap");if(function(gt){if(!N||!gt||typeof gt!="object")return!1;try{N.call(gt,N);try{C.call(gt,C)}catch{return!0}return gt instanceof WeakSet}catch{}return!1}(ae))return Ve("WeakSet");if(function(gt){if(!I||!gt||typeof gt!="object")return!1;try{return I.call(gt),!0}catch{}return!1}(ae))return Ve("WeakRef");if(function(gt){return!(Ce(gt)!=="[object Number]"||ee&&typeof gt=="object"&&ee in gt)}(ae))return Le(qt(Number(ae)));if(function(gt){if(!gt||typeof gt!="object"||!ce)return!1;try{return ce.call(gt),!0}catch{}return!1}(ae))return Le(qt(ce.call(ae)));if(function(gt){return!(Ce(gt)!=="[object Boolean]"||ee&&typeof gt=="object"&&ee in gt)}(ae))return Le(O.call(ae));if(function(gt){return!(Ce(gt)!=="[object String]"||ee&&typeof gt=="object"&&ee in gt)}(ae))return Le(qt(String(ae)));if(!function(gt){return!(Ce(gt)!=="[object Date]"||ee&&typeof gt=="object"&&ee in gt)}(ae)&&!Ae(ae)){var on=Ee(ae,qt),Mn=Q?Q(ae)===Object.prototype:ae instanceof Object||ae.constructor===Object,On=ae instanceof Object?"":"null prototype",pr=!Mn&&ee&&Object(ae)===ae&&ee in ae?B.call(Ce(ae),8,-1):On?"Object":"",Fi=(Mn||typeof ae.constructor!="function"?"":ae.constructor.name?ae.constructor.name+" ":"")+(pr||On?"["+q.call(be.call([],pr||[],On||[]),": ")+"] ":"");return on.length===0?Fi+"{}":Zt?Fi+"{"+Ne(on,Zt)+"}":Fi+"{ "+q.call(on,", ")+" }"}return String(ae)};var ze=Object.prototype.hasOwnProperty||function(ve){return ve in this};function $(ve,ae){return ze.call(ve,ae)}function Ce(ve){return F.call(ve)}function Me(ve,ae){if(ve.indexOf)return ve.indexOf(ae);for(var Ue=0,Je=ve.length;Ue<Je;Ue++)if(ve[Ue]===ae)return Ue;return-1}function ye(ve,ae){if(ve.length>ae.maxStringLength){var Ue=ve.length-ae.maxStringLength,Je="... "+Ue+" more character"+(Ue>1?"s":"");return ye(B.call(ve,0,ae.maxStringLength),ae)+Je}return je(Y.call(Y.call(ve,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,_e),"single",ae)}function _e(ve){var ae=ve.charCodeAt(0),Ue={8:"b",9:"t",10:"n",12:"f",13:"r"}[ae];return Ue?"\\"+Ue:"\\x"+(ae<16?"0":"")+se.call(ae.toString(16))}function Le(ve){return"Object("+ve+")"}function Ve(ve){return ve+" { ? }"}function $e(ve,ae,Ue,Je){return ve+" ("+ae+") {"+(Je?Ne(Ue,Je):q.call(Ue,", "))+"}"}function Ne(ve,ae){if(ve.length===0)return"";var Ue=`
`+ae.prev+ae.base;return Ue+q.call(ve,","+Ue)+`
`+ae.prev}function Ee(ve,ae){var Ue=Fe(ve),Je=[];if(Ue){Je.length=ve.length;for(var nt=0;nt<ve.length;nt++)Je[nt]=$(ve,nt)?ae(ve[nt],ve):""}var dt,ft=typeof X=="function"?X(ve):[];if(ne){dt={};for(var Ot=0;Ot<ft.length;Ot++)dt["$"+ft[Ot]]=ft[Ot]}for(var Ct in ve)$(ve,Ct)&&(Ue&&String(Number(Ct))===Ct&&Ct<ve.length||ne&&dt["$"+Ct]instanceof Symbol||(J.call(/[^\w$]/,Ct)?Je.push(ae(Ct,ve)+": "+ae(ve[Ct],ve)):Je.push(Ct+": "+ae(ve[Ct],ve))));if(typeof X=="function")for(var $t=0;$t<ft.length;$t++)ue.call(ve,ft[$t])&&Je.push("["+ae(ft[$t])+"]: "+ae(ve[ft[$t]],ve));return Je}},5798:c=>{var u=String.prototype.replace,h=/%20/g,m="RFC1738",g="RFC3986";c.exports={default:g,formatters:{RFC1738:function(y){return u.call(y,h,"+")},RFC3986:function(y){return String(y)}},RFC1738:m,RFC3986:g}},129:(c,u,h)=>{var m=h(8261),g=h(5235),y=h(5798);c.exports={formats:y,parse:g,stringify:m}},5235:(c,u,h)=>{var m=h(2769),g=Object.prototype.hasOwnProperty,y=Array.isArray,v={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:m.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},_=function(T){return T.replace(/&#(\d+);/g,function(C,N){return String.fromCharCode(parseInt(N,10))})},A=function(T,C){return T&&typeof T=="string"&&C.comma&&T.indexOf(",")>-1?T.split(","):T},S=function(T,C,N,I){if(T){var O=N.allowDots?T.replace(/\.([^.[]+)/g,"[$1]"):T,F=/(\[[^[\]]*])/g,L=N.depth>0&&/(\[[^[\]]*])/.exec(O),z=L?O.slice(0,L.index):O,B=[];if(z){if(!N.plainObjects&&g.call(Object.prototype,z)&&!N.allowPrototypes)return;B.push(z)}for(var Y=0;N.depth>0&&(L=F.exec(O))!==null&&Y<N.depth;){if(Y+=1,!N.plainObjects&&g.call(Object.prototype,L[1].slice(1,-1))&&!N.allowPrototypes)return;B.push(L[1])}return L&&B.push("["+O.slice(L.index)+"]"),function(se,de,J,be){for(var q=be?de:A(de,J),Te=se.length-1;Te>=0;--Te){var ie,ce=se[Te];if(ce==="[]"&&J.parseArrays)ie=[].concat(q);else{ie=J.plainObjects?Object.create(null):{};var X=ce.charAt(0)==="["&&ce.charAt(ce.length-1)==="]"?ce.slice(1,-1):ce,K=parseInt(X,10);J.parseArrays||X!==""?!isNaN(K)&&ce!==X&&String(K)===X&&K>=0&&J.parseArrays&&K<=J.arrayLimit?(ie=[])[K]=q:X!=="__proto__"&&(ie[X]=q):ie={0:q}}q=ie}return q}(B,C,N,I)}};c.exports=function(T,C){var N=function(Y){if(!Y)return v;if(Y.decoder!==null&&Y.decoder!==void 0&&typeof Y.decoder!="function")throw new TypeError("Decoder has to be a function.");if(Y.charset!==void 0&&Y.charset!=="utf-8"&&Y.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var se=Y.charset===void 0?v.charset:Y.charset;return{allowDots:Y.allowDots===void 0?v.allowDots:!!Y.allowDots,allowPrototypes:typeof Y.allowPrototypes=="boolean"?Y.allowPrototypes:v.allowPrototypes,allowSparse:typeof Y.allowSparse=="boolean"?Y.allowSparse:v.allowSparse,arrayLimit:typeof Y.arrayLimit=="number"?Y.arrayLimit:v.arrayLimit,charset:se,charsetSentinel:typeof Y.charsetSentinel=="boolean"?Y.charsetSentinel:v.charsetSentinel,comma:typeof Y.comma=="boolean"?Y.comma:v.comma,decoder:typeof Y.decoder=="function"?Y.decoder:v.decoder,delimiter:typeof Y.delimiter=="string"||m.isRegExp(Y.delimiter)?Y.delimiter:v.delimiter,depth:typeof Y.depth=="number"||Y.depth===!1?+Y.depth:v.depth,ignoreQueryPrefix:Y.ignoreQueryPrefix===!0,interpretNumericEntities:typeof Y.interpretNumericEntities=="boolean"?Y.interpretNumericEntities:v.interpretNumericEntities,parameterLimit:typeof Y.parameterLimit=="number"?Y.parameterLimit:v.parameterLimit,parseArrays:Y.parseArrays!==!1,plainObjects:typeof Y.plainObjects=="boolean"?Y.plainObjects:v.plainObjects,strictNullHandling:typeof Y.strictNullHandling=="boolean"?Y.strictNullHandling:v.strictNullHandling}}(C);if(T===""||T==null)return N.plainObjects?Object.create(null):{};for(var I=typeof T=="string"?function(Y,se){var de,J={},be=se.ignoreQueryPrefix?Y.replace(/^\?/,""):Y,q=se.parameterLimit===1/0?void 0:se.parameterLimit,Te=be.split(se.delimiter,q),ie=-1,ce=se.charset;if(se.charsetSentinel)for(de=0;de<Te.length;++de)Te[de].indexOf("utf8=")===0&&(Te[de]==="utf8=%E2%9C%93"?ce="utf-8":Te[de]==="utf8=%26%2310003%3B"&&(ce="iso-8859-1"),ie=de,de=Te.length);for(de=0;de<Te.length;++de)if(de!==ie){var X,K,ne=Te[de],ee=ne.indexOf("]="),ue=ee===-1?ne.indexOf("="):ee+1;ue===-1?(X=se.decoder(ne,v.decoder,ce,"key"),K=se.strictNullHandling?null:""):(X=se.decoder(ne.slice(0,ue),v.decoder,ce,"key"),K=m.maybeMap(A(ne.slice(ue+1),se),function(Q){return se.decoder(Q,v.decoder,ce,"value")})),K&&se.interpretNumericEntities&&ce==="iso-8859-1"&&(K=_(K)),ne.indexOf("[]=")>-1&&(K=y(K)?[K]:K),g.call(J,X)?J[X]=m.combine(J[X],K):J[X]=K}return J}(T,N):T,O=N.plainObjects?Object.create(null):{},F=Object.keys(I),L=0;L<F.length;++L){var z=F[L],B=S(z,I[z],N,typeof T=="string");O=m.merge(O,B,N)}return N.allowSparse===!0?O:m.compact(O)}},8261:(c,u,h)=>{var m=h(7478),g=h(2769),y=h(5798),v=Object.prototype.hasOwnProperty,_={brackets:function(z){return z+"[]"},comma:"comma",indices:function(z,B){return z+"["+B+"]"},repeat:function(z){return z}},A=Array.isArray,S=String.prototype.split,T=Array.prototype.push,C=function(z,B){T.apply(z,A(B)?B:[B])},N=Date.prototype.toISOString,I=y.default,O={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:g.encode,encodeValuesOnly:!1,format:I,formatter:y.formatters[I],indices:!1,serializeDate:function(z){return N.call(z)},skipNulls:!1,strictNullHandling:!1},F={},L=function z(B,Y,se,de,J,be,q,Te,ie,ce,X,K,ne,ee,ue,Q){for(var fe,Se=B,Oe=Q,Ie=0,je=!1;(Oe=Oe.get(F))!==void 0&&!je;){var Be=Oe.get(B);if(Ie+=1,Be!==void 0){if(Be===Ie)throw new RangeError("Cyclic object value");je=!0}Oe.get(F)===void 0&&(Ie=0)}if(typeof Te=="function"?Se=Te(Y,Se):Se instanceof Date?Se=X(Se):se==="comma"&&A(Se)&&(Se=g.maybeMap(Se,function(Ee){return Ee instanceof Date?X(Ee):Ee})),Se===null){if(J)return q&&!ee?q(Y,O.encoder,ue,"key",K):Y;Se=""}if(typeof(fe=Se)=="string"||typeof fe=="number"||typeof fe=="boolean"||typeof fe=="symbol"||typeof fe=="bigint"||g.isBuffer(Se)){if(q){var Fe=ee?Y:q(Y,O.encoder,ue,"key",K);if(se==="comma"&&ee){for(var Ae=S.call(String(Se),","),ke="",ze=0;ze<Ae.length;++ze)ke+=(ze===0?"":",")+ne(q(Ae[ze],O.encoder,ue,"value",K));return[ne(Fe)+(de&&A(Se)&&Ae.length===1?"[]":"")+"="+ke]}return[ne(Fe)+"="+ne(q(Se,O.encoder,ue,"value",K))]}return[ne(Y)+"="+ne(String(Se))]}var $,Ce=[];if(Se===void 0)return Ce;if(se==="comma"&&A(Se))$=[{value:Se.length>0?Se.join(",")||null:void 0}];else if(A(Te))$=Te;else{var Me=Object.keys(Se);$=ie?Me.sort(ie):Me}for(var ye=de&&A(Se)&&Se.length===1?Y+"[]":Y,_e=0;_e<$.length;++_e){var Le=$[_e],Ve=typeof Le=="object"&&Le.value!==void 0?Le.value:Se[Le];if(!be||Ve!==null){var $e=A(Se)?typeof se=="function"?se(ye,Le):ye:ye+(ce?"."+Le:"["+Le+"]");Q.set(B,Ie);var Ne=m();Ne.set(F,Q),C(Ce,z(Ve,$e,se,de,J,be,q,Te,ie,ce,X,K,ne,ee,ue,Ne))}}return Ce};c.exports=function(z,B){var Y,se=z,de=function(ee){if(!ee)return O;if(ee.encoder!==null&&ee.encoder!==void 0&&typeof ee.encoder!="function")throw new TypeError("Encoder has to be a function.");var ue=ee.charset||O.charset;if(ee.charset!==void 0&&ee.charset!=="utf-8"&&ee.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var Q=y.default;if(ee.format!==void 0){if(!v.call(y.formatters,ee.format))throw new TypeError("Unknown format option provided.");Q=ee.format}var fe=y.formatters[Q],Se=O.filter;return(typeof ee.filter=="function"||A(ee.filter))&&(Se=ee.filter),{addQueryPrefix:typeof ee.addQueryPrefix=="boolean"?ee.addQueryPrefix:O.addQueryPrefix,allowDots:ee.allowDots===void 0?O.allowDots:!!ee.allowDots,charset:ue,charsetSentinel:typeof ee.charsetSentinel=="boolean"?ee.charsetSentinel:O.charsetSentinel,delimiter:ee.delimiter===void 0?O.delimiter:ee.delimiter,encode:typeof ee.encode=="boolean"?ee.encode:O.encode,encoder:typeof ee.encoder=="function"?ee.encoder:O.encoder,encodeValuesOnly:typeof ee.encodeValuesOnly=="boolean"?ee.encodeValuesOnly:O.encodeValuesOnly,filter:Se,format:Q,formatter:fe,serializeDate:typeof ee.serializeDate=="function"?ee.serializeDate:O.serializeDate,skipNulls:typeof ee.skipNulls=="boolean"?ee.skipNulls:O.skipNulls,sort:typeof ee.sort=="function"?ee.sort:null,strictNullHandling:typeof ee.strictNullHandling=="boolean"?ee.strictNullHandling:O.strictNullHandling}}(B);typeof de.filter=="function"?se=(0,de.filter)("",se):A(de.filter)&&(Y=de.filter);var J,be=[];if(typeof se!="object"||se===null)return"";J=B&&B.arrayFormat in _?B.arrayFormat:B&&"indices"in B?B.indices?"indices":"repeat":"indices";var q=_[J];if(B&&"commaRoundTrip"in B&&typeof B.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var Te=q==="comma"&&B&&B.commaRoundTrip;Y||(Y=Object.keys(se)),de.sort&&Y.sort(de.sort);for(var ie=m(),ce=0;ce<Y.length;++ce){var X=Y[ce];de.skipNulls&&se[X]===null||C(be,L(se[X],X,q,Te,de.strictNullHandling,de.skipNulls,de.encode?de.encoder:null,de.filter,de.sort,de.allowDots,de.serializeDate,de.format,de.formatter,de.encodeValuesOnly,de.charset,ie))}var K=be.join(de.delimiter),ne=de.addQueryPrefix===!0?"?":"";return de.charsetSentinel&&(de.charset==="iso-8859-1"?ne+="utf8=%26%2310003%3B&":ne+="utf8=%E2%9C%93&"),K.length>0?ne+K:""}},2769:(c,u,h)=>{var m=h(5798),g=Object.prototype.hasOwnProperty,y=Array.isArray,v=function(){for(var A=[],S=0;S<256;++S)A.push("%"+((S<16?"0":"")+S.toString(16)).toUpperCase());return A}(),_=function(A,S){for(var T=S&&S.plainObjects?Object.create(null):{},C=0;C<A.length;++C)A[C]!==void 0&&(T[C]=A[C]);return T};c.exports={arrayToObject:_,assign:function(A,S){return Object.keys(S).reduce(function(T,C){return T[C]=S[C],T},A)},combine:function(A,S){return[].concat(A,S)},compact:function(A){for(var S=[{obj:{o:A},prop:"o"}],T=[],C=0;C<S.length;++C)for(var N=S[C],I=N.obj[N.prop],O=Object.keys(I),F=0;F<O.length;++F){var L=O[F],z=I[L];typeof z=="object"&&z!==null&&T.indexOf(z)===-1&&(S.push({obj:I,prop:L}),T.push(z))}return function(B){for(;B.length>1;){var Y=B.pop(),se=Y.obj[Y.prop];if(y(se)){for(var de=[],J=0;J<se.length;++J)se[J]!==void 0&&de.push(se[J]);Y.obj[Y.prop]=de}}}(S),A},decode:function(A,S,T){var C=A.replace(/\+/g," ");if(T==="iso-8859-1")return C.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(C)}catch{return C}},encode:function(A,S,T,C,N){if(A.length===0)return A;var I=A;if(typeof A=="symbol"?I=Symbol.prototype.toString.call(A):typeof A!="string"&&(I=String(A)),T==="iso-8859-1")return escape(I).replace(/%u[0-9a-f]{4}/gi,function(z){return"%26%23"+parseInt(z.slice(2),16)+"%3B"});for(var O="",F=0;F<I.length;++F){var L=I.charCodeAt(F);L===45||L===46||L===95||L===126||L>=48&&L<=57||L>=65&&L<=90||L>=97&&L<=122||N===m.RFC1738&&(L===40||L===41)?O+=I.charAt(F):L<128?O+=v[L]:L<2048?O+=v[192|L>>6]+v[128|63&L]:L<55296||L>=57344?O+=v[224|L>>12]+v[128|L>>6&63]+v[128|63&L]:(F+=1,L=65536+((1023&L)<<10|1023&I.charCodeAt(F)),O+=v[240|L>>18]+v[128|L>>12&63]+v[128|L>>6&63]+v[128|63&L])}return O},isBuffer:function(A){return!(!A||typeof A!="object")&&!!(A.constructor&&A.constructor.isBuffer&&A.constructor.isBuffer(A))},isRegExp:function(A){return Object.prototype.toString.call(A)==="[object RegExp]"},maybeMap:function(A,S){if(y(A)){for(var T=[],C=0;C<A.length;C+=1)T.push(S(A[C]));return T}return S(A)},merge:function A(S,T,C){if(!T)return S;if(typeof T!="object"){if(y(S))S.push(T);else{if(!S||typeof S!="object")return[S,T];(C&&(C.plainObjects||C.allowPrototypes)||!g.call(Object.prototype,T))&&(S[T]=!0)}return S}if(!S||typeof S!="object")return[S].concat(T);var N=S;return y(S)&&!y(T)&&(N=_(S,C)),y(S)&&y(T)?(T.forEach(function(I,O){if(g.call(S,O)){var F=S[O];F&&typeof F=="object"&&I&&typeof I=="object"?S[O]=A(F,I,C):S.push(I)}else S[O]=I}),S):Object.keys(T).reduce(function(I,O){var F=T[O];return g.call(I,O)?I[O]=A(I[O],F,C):I[O]=F,I},N)}}},4448:(c,u,h)=>{var m=h(7294),g=h(7418),y=h(3840);function v(x){for(var E="https://reactjs.org/docs/error-decoder.html?invariant="+x,j=1;j<arguments.length;j++)E+="&args[]="+encodeURIComponent(arguments[j]);return"Minified React error #"+x+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!m)throw Error(v(227));var _=new Set,A={};function S(x,E){T(x,E),T(x+"Capture",E)}function T(x,E){for(A[x]=E,x=0;x<E.length;x++)_.add(E[x])}var C=!(typeof window>"u"||window.document===void 0||window.document.createElement===void 0),N=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I=Object.prototype.hasOwnProperty,O={},F={};function L(x,E,j,V,H,oe,ge){this.acceptsBooleans=E===2||E===3||E===4,this.attributeName=V,this.attributeNamespace=H,this.mustUseProperty=j,this.propertyName=x,this.type=E,this.sanitizeURL=oe,this.removeEmptyString=ge}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(x){z[x]=new L(x,0,!1,x,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(x){var E=x[0];z[E]=new L(E,1,!1,x[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(x){z[x]=new L(x,2,!1,x.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(x){z[x]=new L(x,2,!1,x,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(x){z[x]=new L(x,3,!1,x.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(x){z[x]=new L(x,3,!0,x,null,!1,!1)}),["capture","download"].forEach(function(x){z[x]=new L(x,4,!1,x,null,!1,!1)}),["cols","rows","size","span"].forEach(function(x){z[x]=new L(x,6,!1,x,null,!1,!1)}),["rowSpan","start"].forEach(function(x){z[x]=new L(x,5,!1,x.toLowerCase(),null,!1,!1)});var B=/[\-:]([a-z])/g;function Y(x){return x[1].toUpperCase()}function se(x,E,j,V){var H=z.hasOwnProperty(E)?z[E]:null;(H!==null?H.type===0:!V&&2<E.length&&(E[0]==="o"||E[0]==="O")&&(E[1]==="n"||E[1]==="N"))||(function(oe,ge,De,qe){if(ge==null||function(Ye,ht,St,ut){if(St!==null&&St.type===0)return!1;switch(typeof ht){case"function":case"symbol":return!0;case"boolean":return!ut&&(St!==null?!St.acceptsBooleans:(Ye=Ye.toLowerCase().slice(0,5))!=="data-"&&Ye!=="aria-");default:return!1}}(oe,ge,De,qe))return!0;if(qe)return!1;if(De!==null)switch(De.type){case 3:return!ge;case 4:return ge===!1;case 5:return isNaN(ge);case 6:return isNaN(ge)||1>ge}return!1}(E,j,H,V)&&(j=null),V||H===null?function(oe){return!!I.call(F,oe)||!I.call(O,oe)&&(N.test(oe)?F[oe]=!0:(O[oe]=!0,!1))}(E)&&(j===null?x.removeAttribute(E):x.setAttribute(E,""+j)):H.mustUseProperty?x[H.propertyName]=j===null?H.type!==3&&"":j:(E=H.attributeName,V=H.attributeNamespace,j===null?x.removeAttribute(E):(j=(H=H.type)===3||H===4&&j===!0?"":""+j,V?x.setAttributeNS(V,E,j):x.setAttribute(E,j))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(x){var E=x.replace(B,Y);z[E]=new L(E,1,!1,x,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(x){var E=x.replace(B,Y);z[E]=new L(E,1,!1,x,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(x){var E=x.replace(B,Y);z[E]=new L(E,1,!1,x,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(x){z[x]=new L(x,1,!1,x.toLowerCase(),null,!1,!1)}),z.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(x){z[x]=new L(x,1,!1,x.toLowerCase(),null,!0,!0)});var de=m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=60103,be=60106,q=60107,Te=60108,ie=60114,ce=60109,X=60110,K=60112,ne=60113,ee=60120,ue=60115,Q=60116,fe=60121,Se=60128,Oe=60129,Ie=60130,je=60131;if(typeof Symbol=="function"&&Symbol.for){var Be=Symbol.for;J=Be("react.element"),be=Be("react.portal"),q=Be("react.fragment"),Te=Be("react.strict_mode"),ie=Be("react.profiler"),ce=Be("react.provider"),X=Be("react.context"),K=Be("react.forward_ref"),ne=Be("react.suspense"),ee=Be("react.suspense_list"),ue=Be("react.memo"),Q=Be("react.lazy"),fe=Be("react.block"),Be("react.scope"),Se=Be("react.opaque.id"),Oe=Be("react.debug_trace_mode"),Ie=Be("react.offscreen"),je=Be("react.legacy_hidden")}var Fe,Ae=typeof Symbol=="function"&&Symbol.iterator;function ke(x){return x===null||typeof x!="object"?null:typeof(x=Ae&&x[Ae]||x["@@iterator"])=="function"?x:null}function ze(x){if(Fe===void 0)try{throw Error()}catch(j){var E=j.stack.trim().match(/\n( *(at )?)/);Fe=E&&E[1]||""}return`
`+Fe+x}var $=!1;function Ce(x,E){if(!x||$)return"";$=!0;var j=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(E)if(E=function(){throw Error()},Object.defineProperty(E.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(E,[])}catch(qe){var V=qe}Reflect.construct(x,[],E)}else{try{E.call()}catch(qe){V=qe}x.call(E.prototype)}else{try{throw Error()}catch(qe){V=qe}x()}}catch(qe){if(qe&&V&&typeof qe.stack=="string"){for(var H=qe.stack.split(`
`),oe=V.stack.split(`
`),ge=H.length-1,De=oe.length-1;1<=ge&&0<=De&&H[ge]!==oe[De];)De--;for(;1<=ge&&0<=De;ge--,De--)if(H[ge]!==oe[De]){if(ge!==1||De!==1)do if(ge--,0>--De||H[ge]!==oe[De])return`
`+H[ge].replace(" at new "," at ");while(1<=ge&&0<=De);break}}}finally{$=!1,Error.prepareStackTrace=j}return(x=x?x.displayName||x.name:"")?ze(x):""}function Me(x){switch(x.tag){case 5:return ze(x.type);case 16:return ze("Lazy");case 13:return ze("Suspense");case 19:return ze("SuspenseList");case 0:case 2:case 15:return x=Ce(x.type,!1);case 11:return x=Ce(x.type.render,!1);case 22:return x=Ce(x.type._render,!1);case 1:return x=Ce(x.type,!0);default:return""}}function ye(x){if(x==null)return null;if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x;switch(x){case q:return"Fragment";case be:return"Portal";case ie:return"Profiler";case Te:return"StrictMode";case ne:return"Suspense";case ee:return"SuspenseList"}if(typeof x=="object")switch(x.$$typeof){case X:return(x.displayName||"Context")+".Consumer";case ce:return(x._context.displayName||"Context")+".Provider";case K:var E=x.render;return E=E.displayName||E.name||"",x.displayName||(E!==""?"ForwardRef("+E+")":"ForwardRef");case ue:return ye(x.type);case fe:return ye(x._render);case Q:E=x._payload,x=x._init;try{return ye(x(E))}catch{}}return null}function _e(x){switch(typeof x){case"boolean":case"number":case"object":case"string":case"undefined":return x;default:return""}}function Le(x){var E=x.type;return(x=x.nodeName)&&x.toLowerCase()==="input"&&(E==="checkbox"||E==="radio")}function Ve(x){x._valueTracker||(x._valueTracker=function(E){var j=Le(E)?"checked":"value",V=Object.getOwnPropertyDescriptor(E.constructor.prototype,j),H=""+E[j];if(!E.hasOwnProperty(j)&&V!==void 0&&typeof V.get=="function"&&typeof V.set=="function"){var oe=V.get,ge=V.set;return Object.defineProperty(E,j,{configurable:!0,get:function(){return oe.call(this)},set:function(De){H=""+De,ge.call(this,De)}}),Object.defineProperty(E,j,{enumerable:V.enumerable}),{getValue:function(){return H},setValue:function(De){H=""+De},stopTracking:function(){E._valueTracker=null,delete E[j]}}}}(x))}function $e(x){if(!x)return!1;var E=x._valueTracker;if(!E)return!0;var j=E.getValue(),V="";return x&&(V=Le(x)?x.checked?"true":"false":x.value),(x=V)!==j&&(E.setValue(x),!0)}function Ne(x){if((x=x||(typeof document<"u"?document:void 0))===void 0)return null;try{return x.activeElement||x.body}catch{return x.body}}function Ee(x,E){var j=E.checked;return g({},E,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:j??x._wrapperState.initialChecked})}function ve(x,E){var j=E.defaultValue==null?"":E.defaultValue,V=E.checked!=null?E.checked:E.defaultChecked;j=_e(E.value!=null?E.value:j),x._wrapperState={initialChecked:V,initialValue:j,controlled:E.type==="checkbox"||E.type==="radio"?E.checked!=null:E.value!=null}}function ae(x,E){(E=E.checked)!=null&&se(x,"checked",E,!1)}function Ue(x,E){ae(x,E);var j=_e(E.value),V=E.type;if(j!=null)V==="number"?(j===0&&x.value===""||x.value!=j)&&(x.value=""+j):x.value!==""+j&&(x.value=""+j);else if(V==="submit"||V==="reset")return void x.removeAttribute("value");E.hasOwnProperty("value")?nt(x,E.type,j):E.hasOwnProperty("defaultValue")&&nt(x,E.type,_e(E.defaultValue)),E.checked==null&&E.defaultChecked!=null&&(x.defaultChecked=!!E.defaultChecked)}function Je(x,E,j){if(E.hasOwnProperty("value")||E.hasOwnProperty("defaultValue")){var V=E.type;if(!(V!=="submit"&&V!=="reset"||E.value!==void 0&&E.value!==null))return;E=""+x._wrapperState.initialValue,j||E===x.value||(x.value=E),x.defaultValue=E}(j=x.name)!==""&&(x.name=""),x.defaultChecked=!!x._wrapperState.initialChecked,j!==""&&(x.name=j)}function nt(x,E,j){E==="number"&&Ne(x.ownerDocument)===x||(j==null?x.defaultValue=""+x._wrapperState.initialValue:x.defaultValue!==""+j&&(x.defaultValue=""+j))}function dt(x,E){return x=g({children:void 0},E),(E=function(j){var V="";return m.Children.forEach(j,function(H){H!=null&&(V+=H)}),V}(E.children))&&(x.children=E),x}function ft(x,E,j,V){if(x=x.options,E){E={};for(var H=0;H<j.length;H++)E["$"+j[H]]=!0;for(j=0;j<x.length;j++)H=E.hasOwnProperty("$"+x[j].value),x[j].selected!==H&&(x[j].selected=H),H&&V&&(x[j].defaultSelected=!0)}else{for(j=""+_e(j),E=null,H=0;H<x.length;H++){if(x[H].value===j)return x[H].selected=!0,void(V&&(x[H].defaultSelected=!0));E!==null||x[H].disabled||(E=x[H])}E!==null&&(E.selected=!0)}}function Ot(x,E){if(E.dangerouslySetInnerHTML!=null)throw Error(v(91));return g({},E,{value:void 0,defaultValue:void 0,children:""+x._wrapperState.initialValue})}function Ct(x,E){var j=E.value;if(j==null){if(j=E.children,E=E.defaultValue,j!=null){if(E!=null)throw Error(v(92));if(Array.isArray(j)){if(!(1>=j.length))throw Error(v(93));j=j[0]}E=j}E==null&&(E=""),j=E}x._wrapperState={initialValue:_e(j)}}function $t(x,E){var j=_e(E.value),V=_e(E.defaultValue);j!=null&&((j=""+j)!==x.value&&(x.value=j),E.defaultValue==null&&x.defaultValue!==j&&(x.defaultValue=j)),V!=null&&(x.defaultValue=""+V)}function At(x){var E=x.textContent;E===x._wrapperState.initialValue&&E!==""&&E!==null&&(x.value=E)}var Zt={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function qt(x){switch(x){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function En(x,E){return x==null||x==="http://www.w3.org/1999/xhtml"?qt(E):x==="http://www.w3.org/2000/svg"&&E==="foreignObject"?"http://www.w3.org/1999/xhtml":x}var Or,$i,qi=($i=function(x,E){if(x.namespaceURI!==Zt.svg||"innerHTML"in x)x.innerHTML=E;else{for((Or=Or||document.createElement("div")).innerHTML="<svg>"+E.valueOf().toString()+"</svg>",E=Or.firstChild;x.firstChild;)x.removeChild(x.firstChild);for(;E.firstChild;)x.appendChild(E.firstChild)}},typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(x,E,j,V){MSApp.execUnsafeLocalFunction(function(){return $i(x,E)})}:$i);function Pi(x,E){if(E){var j=x.firstChild;if(j&&j===x.lastChild&&j.nodeType===3)return void(j.nodeValue=E)}x.textContent=E}var Yn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bi=["Webkit","ms","Moz","O"];function yi(x,E,j){return E==null||typeof E=="boolean"||E===""?"":j||typeof E!="number"||E===0||Yn.hasOwnProperty(x)&&Yn[x]?(""+E).trim():E+"px"}function mt(x,E){for(var j in x=x.style,E)if(E.hasOwnProperty(j)){var V=j.indexOf("--")===0,H=yi(j,E[j],V);j==="float"&&(j="cssFloat"),V?x.setProperty(j,H):x[j]=H}}Object.keys(Yn).forEach(function(x){bi.forEach(function(E){E=E+x.charAt(0).toUpperCase()+x.substring(1),Yn[E]=Yn[x]})});var Ft=g({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(x,E){if(E){if(Ft[x]&&(E.children!=null||E.dangerouslySetInnerHTML!=null))throw Error(v(137,x));if(E.dangerouslySetInnerHTML!=null){if(E.children!=null)throw Error(v(60));if(typeof E.dangerouslySetInnerHTML!="object"||!("__html"in E.dangerouslySetInnerHTML))throw Error(v(61))}if(E.style!=null&&typeof E.style!="object")throw Error(v(62))}}function Mn(x,E){if(x.indexOf("-")===-1)return typeof E.is=="string";switch(x){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function On(x){return(x=x.target||x.srcElement||window).correspondingUseElement&&(x=x.correspondingUseElement),x.nodeType===3?x.parentNode:x}var pr=null,Fi=null,gt=null;function bn(x){if(x=Xf(x)){if(typeof pr!="function")throw Error(v(280));var E=x.stateNode;E&&(E=Tg(E),pr(x.stateNode,x.type,E))}}function Hi(x){Fi?gt?gt.push(x):gt=[x]:Fi=x}function Er(){if(Fi){var x=Fi,E=gt;if(gt=Fi=null,bn(x),E)for(x=0;x<E.length;x++)bn(E[x])}}function Fr(x,E){return x(E)}function Gs(x,E,j,V,H){return x(E,j,V,H)}function ws(){}var sr=Fr,xs=!1,yo=!1;function Jr(){Fi===null&&gt===null||(ws(),Er())}function Lr(x,E){var j=x.stateNode;if(j===null)return null;var V=Tg(j);if(V===null)return null;j=V[E];e:switch(E){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(V=!V.disabled)||(V=!((x=x.type)==="button"||x==="input"||x==="select"||x==="textarea")),x=!V;break e;default:x=!1}if(x)return null;if(j&&typeof j!="function")throw Error(v(231,E,typeof j));return j}var xi=!1;if(C)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){xi=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch{xi=!1}function He(x,E,j,V,H,oe,ge,De,qe){var Ye=Array.prototype.slice.call(arguments,3);try{E.apply(j,Ye)}catch(ht){this.onError(ht)}}var rt=!1,wt=null,Sn=!1,ui=null,Qn={onError:function(x){rt=!0,wt=x}};function or(x,E,j,V,H,oe,ge,De,qe){rt=!1,wt=null,He.apply(Qn,arguments)}function Gi(x){var E=x,j=x;if(x.alternate)for(;E.return;)E=E.return;else{x=E;do 1026&(E=x).flags&&(j=E.return),x=E.return;while(x)}return E.tag===3?j:null}function Qo(x){if(x.tag===13){var E=x.memoizedState;if(E===null&&(x=x.alternate)!==null&&(E=x.memoizedState),E!==null)return E.dehydrated}return null}function xl(x){if(Gi(x)!==x)throw Error(v(188))}function xn(x){if(x=function(j){var V=j.alternate;if(!V){if((V=Gi(j))===null)throw Error(v(188));return V!==j?null:j}for(var H=j,oe=V;;){var ge=H.return;if(ge===null)break;var De=ge.alternate;if(De===null){if((oe=ge.return)!==null){H=oe;continue}break}if(ge.child===De.child){for(De=ge.child;De;){if(De===H)return xl(ge),j;if(De===oe)return xl(ge),V;De=De.sibling}throw Error(v(188))}if(H.return!==oe.return)H=ge,oe=De;else{for(var qe=!1,Ye=ge.child;Ye;){if(Ye===H){qe=!0,H=ge,oe=De;break}if(Ye===oe){qe=!0,oe=ge,H=De;break}Ye=Ye.sibling}if(!qe){for(Ye=De.child;Ye;){if(Ye===H){qe=!0,H=De,oe=ge;break}if(Ye===oe){qe=!0,oe=De,H=ge;break}Ye=Ye.sibling}if(!qe)throw Error(v(189))}}if(H.alternate!==oe)throw Error(v(190))}if(H.tag!==3)throw Error(v(188));return H.stateNode.current===H?j:V}(x),!x)return null;for(var E=x;;){if(E.tag===5||E.tag===6)return E;if(E.child)E.child.return=E,E=E.child;else{if(E===x)break;for(;!E.sibling;){if(!E.return||E.return===x)return null;E=E.return}E.sibling.return=E.return,E=E.sibling}}return null}function vo(x,E){for(var j=x.alternate;E!==null;){if(E===x||E===j)return!0;E=E.return}return!1}var wo,_l,rg,Od,mu=!1,xo=[],ea=null,_o=null,Sr=null,Pa=new Map,yc=new Map,kl=[],vc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ct(x,E,j,V,H){return{blockedOn:x,domEventName:E,eventSystemFlags:16|j,nativeEvent:H,targetContainers:[V]}}function vt(x,E){switch(x){case"focusin":case"focusout":ea=null;break;case"dragenter":case"dragleave":_o=null;break;case"mouseover":case"mouseout":Sr=null;break;case"pointerover":case"pointerout":Pa.delete(E.pointerId);break;case"gotpointercapture":case"lostpointercapture":yc.delete(E.pointerId)}}function Et(x,E,j,V,H,oe){return x===null||x.nativeEvent!==oe?(x=ct(E,j,V,H,oe),E!==null&&(E=Xf(E))!==null&&_l(E),x):(x.eventSystemFlags|=V,E=x.targetContainers,H!==null&&E.indexOf(H)===-1&&E.push(H),x)}function vi(x){var E=Eu(x.target);if(E!==null){var j=Gi(E);if(j!==null){if((E=j.tag)===13){if((E=Qo(j))!==null)return x.blockedOn=E,void Od(x.lanePriority,function(){y.unstable_runWithPriority(x.priority,function(){rg(j)})})}else if(E===3&&j.stateNode.hydrate)return void(x.blockedOn=j.tag===3?j.stateNode.containerInfo:null)}}x.blockedOn=null}function Ii(x){if(x.blockedOn!==null)return!1;for(var E=x.targetContainers;0<E.length;){var j=Wd(x.domEventName,x.eventSystemFlags,E[0],x.nativeEvent);if(j!==null)return(E=Xf(j))!==null&&_l(E),x.blockedOn=j,!1;E.shift()}return!0}function Qr(x,E,j){Ii(x)&&j.delete(E)}function gu(){for(mu=!1;0<xo.length;){var x=xo[0];if(x.blockedOn!==null){(x=Xf(x.blockedOn))!==null&&wo(x);break}for(var E=x.targetContainers;0<E.length;){var j=Wd(x.domEventName,x.eventSystemFlags,E[0],x.nativeEvent);if(j!==null){x.blockedOn=j;break}E.shift()}x.blockedOn===null&&xo.shift()}ea!==null&&Ii(ea)&&(ea=null),_o!==null&&Ii(_o)&&(_o=null),Sr!==null&&Ii(Sr)&&(Sr=null),Pa.forEach(Qr),yc.forEach(Qr)}function Ur(x,E){x.blockedOn===E&&(x.blockedOn=null,mu||(mu=!0,y.unstable_scheduleCallback(y.unstable_NormalPriority,gu)))}function ko(x){function E(H){return Ur(H,x)}if(0<xo.length){Ur(xo[0],x);for(var j=1;j<xo.length;j++){var V=xo[j];V.blockedOn===x&&(V.blockedOn=null)}}for(ea!==null&&Ur(ea,x),_o!==null&&Ur(_o,x),Sr!==null&&Ur(Sr,x),Pa.forEach(E),yc.forEach(E),j=0;j<kl.length;j++)(V=kl[j]).blockedOn===x&&(V.blockedOn=null);for(;0<kl.length&&(j=kl[0]).blockedOn===null;)vi(j),j.blockedOn===null&&kl.shift()}function Fd(x,E){var j={};return j[x.toLowerCase()]=E.toLowerCase(),j["Webkit"+x]="webkit"+E,j["Moz"+x]="moz"+E,j}var Ia={animationend:Fd("Animation","AnimationEnd"),animationiteration:Fd("Animation","AnimationIteration"),animationstart:Fd("Animation","AnimationStart"),transitionend:Fd("Transition","TransitionEnd")},Ld={},iy={};function bu(x){if(Ld[x])return Ld[x];if(!Ia[x])return x;var E,j=Ia[x];for(E in j)if(j.hasOwnProperty(E)&&E in iy)return Ld[x]=j[E];return x}C&&(iy=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);var El=bu("animationend"),sg=bu("animationiteration"),og=bu("animationstart"),ag=bu("transitionend"),ry=new Map,lg=new Map,cg=["abort","abort",El,"animationEnd",sg,"animationIteration",og,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",ag,"transitionEnd","waiting","waiting"];function Pf(x,E){for(var j=0;j<x.length;j+=2){var V=x[j],H=x[j+1];H="on"+(H[0].toUpperCase()+H.slice(1)),lg.set(V,E),ry.set(V,H),S(H,[V])}}(0,y.unstable_now)();var zn=8;function Sl(x){if(1&x)return zn=15,1;if(2&x)return zn=14,2;if(4&x)return zn=13,4;var E=24&x;return E!==0?(zn=12,E):32&x?(zn=11,32):(E=192&x)!==0?(zn=10,E):256&x?(zn=9,256):(E=3584&x)!==0?(zn=8,E):4096&x?(zn=7,4096):(E=4186112&x)!==0?(zn=6,E):(E=62914560&x)!==0?(zn=5,E):67108864&x?(zn=4,67108864):134217728&x?(zn=3,134217728):(E=805306368&x)!==0?(zn=2,E):1073741824&x?(zn=1,1073741824):(zn=8,x)}function yu(x,E){var j=x.pendingLanes;if(j===0)return zn=0;var V=0,H=0,oe=x.expiredLanes,ge=x.suspendedLanes,De=x.pingedLanes;if(oe!==0)V=oe,H=zn=15;else if((oe=134217727&j)!==0){var qe=oe&~ge;qe!==0?(V=Sl(qe),H=zn):(De&=oe)!==0&&(V=Sl(De),H=zn)}else(oe=j&~ge)!==0?(V=Sl(oe),H=zn):De!==0&&(V=Sl(De),H=zn);if(V===0)return 0;if(V=j&((0>(V=31-Tl(V))?0:1<<V)<<1)-1,E!==0&&E!==V&&(E&ge)==0){if(Sl(E),H<=zn)return E;zn=H}if((E=x.entangledLanes)!==0)for(x=x.entanglements,E&=V;0<E;)H=1<<(j=31-Tl(E)),V|=x[j],E&=~H;return V}function vu(x){return(x=-1073741825&x.pendingLanes)!==0?x:1073741824&x?1073741824:0}function If(x,E){switch(x){case 15:return 1;case 14:return 2;case 12:return(x=Al(24&~E))===0?If(10,E):x;case 10:return(x=Al(192&~E))===0?If(8,E):x;case 8:return(x=Al(3584&~E))===0&&(x=Al(4186112&~E))===0&&(x=512),x;case 2:return(E=Al(805306368&~E))===0&&(E=268435456),E}throw Error(v(358,x))}function Al(x){return x&-x}function Ud(x){for(var E=[],j=0;31>j;j++)E.push(x);return E}function Vn(x,E,j){x.pendingLanes|=E;var V=E-1;x.suspendedLanes&=V,x.pingedLanes&=V,(x=x.eventTimes)[E=31-Tl(E)]=j}var Tl=Math.clz32?Math.clz32:function(x){return x===0?32:31-(jf(x)/sy|0)|0},jf=Math.log,sy=Math.LN2,Bd=y.unstable_UserBlockingPriority,zd=y.unstable_runWithPriority,Eo=!0;function Rf(x,E,j,V){xs||ws();var H=Mf,oe=xs;xs=!0;try{Gs(H,x,E,j,V)}finally{(xs=oe)||Jr()}}function Vd(x,E,j,V){zd(Bd,Mf.bind(null,x,E,j,V))}function Mf(x,E,j,V){var H;if(Eo)if((H=(4&E)==0)&&0<xo.length&&-1<vc.indexOf(x))x=ct(null,x,E,j,V),xo.push(x);else{var oe=Wd(x,E,j,V);if(oe===null)H&&vt(x,V);else{if(H){if(-1<vc.indexOf(x))return x=ct(oe,x,E,j,V),void xo.push(x);if(function(ge,De,qe,Ye,ht){switch(De){case"focusin":return ea=Et(ea,ge,De,qe,Ye,ht),!0;case"dragenter":return _o=Et(_o,ge,De,qe,Ye,ht),!0;case"mouseover":return Sr=Et(Sr,ge,De,qe,Ye,ht),!0;case"pointerover":var St=ht.pointerId;return Pa.set(St,Et(Pa.get(St)||null,ge,De,qe,Ye,ht)),!0;case"gotpointercapture":return St=ht.pointerId,yc.set(St,Et(yc.get(St)||null,ge,De,qe,Ye,ht)),!0}return!1}(oe,x,E,j,V))return;vt(x,V)}Lt(x,E,V,null,j)}}}function Wd(x,E,j,V){var H=On(V);if((H=Eu(H))!==null){var oe=Gi(H);if(oe===null)H=null;else{var ge=oe.tag;if(ge===13){if((H=Qo(oe))!==null)return H;H=null}else if(ge===3){if(oe.stateNode.hydrate)return oe.tag===3?oe.stateNode.containerInfo:null;H=null}else oe!==H&&(H=null)}}return Lt(x,E,V,H,j),null}var Cl=null,wu=null,$d=null;function oy(){if($d)return $d;var x,E,j=wu,V=j.length,H="value"in Cl?Cl.value:Cl.textContent,oe=H.length;for(x=0;x<V&&j[x]===H[x];x++);var ge=V-x;for(E=1;E<=ge&&j[V-E]===H[oe-E];E++);return $d=H.slice(x,1<E?1-E:void 0)}function Of(x){var E=x.keyCode;return"charCode"in x?(x=x.charCode)===0&&E===13&&(x=13):x=E,x===10&&(x=13),32<=x||x===13?x:0}function wc(){return!0}function Ff(){return!1}function _s(x){function E(j,V,H,oe,ge){for(var De in this._reactName=j,this._targetInst=H,this.type=V,this.nativeEvent=oe,this.target=ge,this.currentTarget=null,x)x.hasOwnProperty(De)&&(j=x[De],this[De]=j?j(oe):oe[De]);return this.isDefaultPrevented=(oe.defaultPrevented!=null?oe.defaultPrevented:oe.returnValue===!1)?wc:Ff,this.isPropagationStopped=Ff,this}return g(E.prototype,{preventDefault:function(){this.defaultPrevented=!0;var j=this.nativeEvent;j&&(j.preventDefault?j.preventDefault():typeof j.returnValue!="unknown"&&(j.returnValue=!1),this.isDefaultPrevented=wc)},stopPropagation:function(){var j=this.nativeEvent;j&&(j.stopPropagation?j.stopPropagation():typeof j.cancelBubble!="unknown"&&(j.cancelBubble=!0),this.isPropagationStopped=wc)},persist:function(){},isPersistent:wc}),E}var ja,qd,Hd,So={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(x){return x.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lf=_s(So),Dl=g({},So,{view:0,detail:0}),ay=_s(Dl),Gd=g({},Dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pg,button:0,buttons:0,relatedTarget:function(x){return x.relatedTarget===void 0?x.fromElement===x.srcElement?x.toElement:x.fromElement:x.relatedTarget},movementX:function(x){return"movementX"in x?x.movementX:(x!==Hd&&(Hd&&x.type==="mousemove"?(ja=x.screenX-Hd.screenX,qd=x.screenY-Hd.screenY):qd=ja=0,Hd=x),ja)},movementY:function(x){return"movementY"in x?x.movementY:qd}}),ug=_s(Gd),dg=_s(g({},Gd,{dataTransfer:0})),Xd=_s(g({},Dl,{relatedTarget:0})),px=_s(g({},So,{animationName:0,elapsedTime:0,pseudoElement:0})),ly=g({},So,{clipboardData:function(x){return"clipboardData"in x?x.clipboardData:window.clipboardData}}),mx=_s(ly),hg=_s(g({},So,{data:0})),fg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uy(x){var E=this.nativeEvent;return E.getModifierState?E.getModifierState(x):!!(x=cy[x])&&!!E[x]}function pg(){return uy}var dy=g({},Dl,{key:function(x){if(x.key){var E=fg[x.key]||x.key;if(E!=="Unidentified")return E}return x.type==="keypress"?(x=Of(x))===13?"Enter":String.fromCharCode(x):x.type==="keydown"||x.type==="keyup"?gx[x.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pg,charCode:function(x){return x.type==="keypress"?Of(x):0},keyCode:function(x){return x.type==="keydown"||x.type==="keyup"?x.keyCode:0},which:function(x){return x.type==="keypress"?Of(x):x.type==="keydown"||x.type==="keyup"?x.keyCode:0}}),mg=_s(dy),hy=_s(g({},Gd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gg=_s(g({},Dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pg})),bg=_s(g({},So,{propertyName:0,elapsedTime:0,pseudoElement:0})),yg=g({},Gd,{deltaX:function(x){return"deltaX"in x?x.deltaX:"wheelDeltaX"in x?-x.wheelDeltaX:0},deltaY:function(x){return"deltaY"in x?x.deltaY:"wheelDeltaY"in x?-x.wheelDeltaY:"wheelDelta"in x?-x.wheelDelta:0},deltaZ:0,deltaMode:0}),vg=_s(yg),fy=[9,13,27,32],Uf=C&&"CompositionEvent"in window,xu=null;C&&"documentMode"in document&&(xu=document.documentMode);var py=C&&"TextEvent"in window&&!xu,wg=C&&(!Uf||xu&&8<xu&&11>=xu),my=" ",xg=!1;function gy(x,E){switch(x){case"keyup":return fy.indexOf(E.keyCode)!==-1;case"keydown":return E.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function by(x){return typeof(x=x.detail)=="object"&&"data"in x?x.data:null}var _u=!1,xc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _c(x){var E=x&&x.nodeName&&x.nodeName.toLowerCase();return E==="input"?!!xc[x.type]:E==="textarea"}function yy(x,E,j,V){Hi(V),0<(E=cn(E,"onChange")).length&&(j=new Lf("onChange","change",null,j,V),x.push({event:j,listeners:E}))}var Bf=null,Nl=null;function zf(x){Il(x,0)}function Vf(x){if($e(Qd(x)))return x}function vy(x,E){if(x==="change")return E}var _g=!1;if(C){var Wf;if(C){var Yd="oninput"in document;if(!Yd){var Kn=document.createElement("div");Kn.setAttribute("oninput","return;"),Yd=typeof Kn.oninput=="function"}Wf=Yd}else Wf=!1;_g=Wf&&(!document.documentMode||9<document.documentMode)}function kg(){Bf&&(Bf.detachEvent("onpropertychange",wy),Nl=Bf=null)}function wy(x){if(x.propertyName==="value"&&Vf(Nl)){var E=[];if(yy(E,Nl,x,On(x)),x=zf,xs)x(E);else{xs=!0;try{Fr(x,E)}finally{xs=!1,Jr()}}}}function xy(x,E,j){x==="focusin"?(kg(),Nl=j,(Bf=E).attachEvent("onpropertychange",wy)):x==="focusout"&&kg()}function bx(x){if(x==="selectionchange"||x==="keyup"||x==="keydown")return Vf(Nl)}function _y(x,E){if(x==="click")return Vf(E)}function yx(x,E){if(x==="input"||x==="change")return Vf(E)}var ks=typeof Object.is=="function"?Object.is:function(x,E){return x===E&&(x!==0||1/x==1/E)||x!=x&&E!=E},ky=Object.prototype.hasOwnProperty;function Kd(x,E){if(ks(x,E))return!0;if(typeof x!="object"||x===null||typeof E!="object"||E===null)return!1;var j=Object.keys(x),V=Object.keys(E);if(j.length!==V.length)return!1;for(V=0;V<j.length;V++)if(!ky.call(E,j[V])||!ks(x[j[V]],E[j[V]]))return!1;return!0}function Eg(x){for(;x&&x.firstChild;)x=x.firstChild;return x}function Ey(x,E){var j,V=Eg(x);for(x=0;V;){if(V.nodeType===3){if(j=x+V.textContent.length,x<=E&&j>=E)return{node:V,offset:E-x};x=j}e:{for(;V;){if(V.nextSibling){V=V.nextSibling;break e}V=V.parentNode}V=void 0}V=Eg(V)}}function Sg(x,E){return!(!x||!E)&&(x===E||(!x||x.nodeType!==3)&&(E&&E.nodeType===3?Sg(x,E.parentNode):"contains"in x?x.contains(E):!!x.compareDocumentPosition&&!!(16&x.compareDocumentPosition(E))))}function Zd(){for(var x=window,E=Ne();E instanceof x.HTMLIFrameElement;){try{var j=typeof E.contentWindow.location.href=="string"}catch{j=!1}if(!j)break;E=Ne((x=E.contentWindow).document)}return E}function $f(x){var E=x&&x.nodeName&&x.nodeName.toLowerCase();return E&&(E==="input"&&(x.type==="text"||x.type==="search"||x.type==="tel"||x.type==="url"||x.type==="password")||E==="textarea"||x.contentEditable==="true")}var Zn=C&&"documentMode"in document&&11>=document.documentMode,Ra=null,ku=null,ei=null,Pl=!1;function qf(x,E,j){var V=j.window===j?j.document:j.nodeType===9?j:j.ownerDocument;Pl||Ra==null||Ra!==Ne(V)||("selectionStart"in(V=Ra)&&$f(V)?V={start:V.selectionStart,end:V.selectionEnd}:V={anchorNode:(V=(V.ownerDocument&&V.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:V.anchorOffset,focusNode:V.focusNode,focusOffset:V.focusOffset},ei&&Kd(ei,V)||(ei=V,0<(V=cn(ku,"onSelect")).length&&(E=new Lf("onSelect","select",null,E,j),x.push({event:E,listeners:V}),E.target=Ra)))}Pf("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Pf("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Pf(cg,2);for(var Sy="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ao=0;Ao<Sy.length;Ao++)lg.set(Sy[Ao],0);T("onMouseEnter",["mouseout","mouseover"]),T("onMouseLeave",["mouseout","mouseover"]),T("onPointerEnter",["pointerout","pointerover"]),T("onPointerLeave",["pointerout","pointerover"]),S("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),S("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),S("onBeforeInput",["compositionend","keypress","textInput","paste"]),S("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),S("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),S("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hf=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ma));function Ar(x,E,j){var V=x.type||"unknown-event";x.currentTarget=j,function(H,oe,ge,De,qe,Ye,ht,St,ut){if(or.apply(this,arguments),rt){if(!rt)throw Error(v(198));var Xt=wt;rt=!1,wt=null,Sn||(Sn=!0,ui=Xt)}}(V,E,void 0,x),x.currentTarget=null}function Il(x,E){E=(4&E)!=0;for(var j=0;j<x.length;j++){var V=x[j],H=V.event;V=V.listeners;e:{var oe=void 0;if(E)for(var ge=V.length-1;0<=ge;ge--){var De=V[ge],qe=De.instance,Ye=De.currentTarget;if(De=De.listener,qe!==oe&&H.isPropagationStopped())break e;Ar(H,De,Ye),oe=qe}else for(ge=0;ge<V.length;ge++){if(qe=(De=V[ge]).instance,Ye=De.currentTarget,De=De.listener,qe!==oe&&H.isPropagationStopped())break e;Ar(H,De,Ye),oe=qe}}}if(Sn)throw x=ui,Sn=!1,ui=null,x}function ti(x,E){var j=Ay(E),V=x+"__bubble";j.has(V)||(Qe(E,x,2,!1),j.add(V))}var we="_reactListening"+Math.random().toString(36).slice(2);function he(x){x[we]||(x[we]=!0,_.forEach(function(E){Hf.has(E)||We(E,!1,x,null),We(E,!0,x,null)}))}function We(x,E,j,V){var H=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,oe=j;x==="selectionchange"&&j.nodeType!==9&&(oe=j.ownerDocument);var ge=Ay(oe),De=x+"__"+(E?"capture":"bubble");ge.has(De)||(E&&(H|=4),Qe(oe,x,H,E),ge.add(De))}function Qe(x,E,j,V){var H=lg.get(E);switch(H===void 0?2:H){case 0:H=Rf;break;case 1:H=Vd;break;default:H=Mf}j=H.bind(null,E,j,x),H=void 0,!xi||E!=="touchstart"&&E!=="touchmove"&&E!=="wheel"||(H=!0),V?H!==void 0?x.addEventListener(E,j,{capture:!0,passive:H}):x.addEventListener(E,j,!0):H!==void 0?x.addEventListener(E,j,{passive:H}):x.addEventListener(E,j,!1)}function Lt(x,E,j,V,H){var oe=V;if(!(1&E)&&!(2&E)&&V!==null)e:for(;;){if(V===null)return;var ge=V.tag;if(ge===3||ge===4){var De=V.stateNode.containerInfo;if(De===H||De.nodeType===8&&De.parentNode===H)break;if(ge===4)for(ge=V.return;ge!==null;){var qe=ge.tag;if((qe===3||qe===4)&&((qe=ge.stateNode.containerInfo)===H||qe.nodeType===8&&qe.parentNode===H))return;ge=ge.return}for(;De!==null;){if((ge=Eu(De))===null)return;if((qe=ge.tag)===5||qe===6){V=oe=ge;continue e}De=De.parentNode}}V=V.return}(function(Ye,ht,St){if(yo)return Ye(ht,St);yo=!0;try{return sr(Ye,ht,St)}finally{yo=!1,Jr()}})(function(){var Ye=oe,ht=On(j),St=[];e:{var ut=ry.get(x);if(ut!==void 0){var Xt=Lf,hn=x;switch(x){case"keypress":if(Of(j)===0)break e;case"keydown":case"keyup":Xt=mg;break;case"focusin":hn="focus",Xt=Xd;break;case"focusout":hn="blur",Xt=Xd;break;case"beforeblur":case"afterblur":Xt=Xd;break;case"click":if(j.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Xt=ug;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Xt=dg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Xt=gg;break;case El:case sg:case og:Xt=px;break;case ag:Xt=bg;break;case"scroll":Xt=ay;break;case"wheel":Xt=vg;break;case"copy":case"cut":case"paste":Xt=mx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Xt=hy}var an=(4&E)!=0,Ze=!an&&x==="scroll",Xe=an?ut!==null?ut+"Capture":null:ut;an=[];for(var Ke,it=Ye;it!==null;){var ot=(Ke=it).stateNode;if(Ke.tag===5&&ot!==null&&(Ke=ot,Xe!==null&&(ot=Lr(it,Xe))!=null&&an.push(sn(it,ot,Ke))),Ze)break;it=it.return}0<an.length&&(ut=new Xt(ut,hn,null,j,ht),St.push({event:ut,listeners:an}))}}if(!(7&E)){if(Xt=x==="mouseout"||x==="pointerout",(!(ut=x==="mouseover"||x==="pointerover")||(16&E)!=0||!(hn=j.relatedTarget||j.fromElement)||!Eu(hn)&&!hn[Gf])&&(Xt||ut)&&(ut=ht.window===ht?ht:(ut=ht.ownerDocument)?ut.defaultView||ut.parentWindow:window,Xt?(Xt=Ye,(hn=(hn=j.relatedTarget||j.toElement)?Eu(hn):null)!==null&&(hn!==(Ze=Gi(hn))||hn.tag!==5&&hn.tag!==6)&&(hn=null)):(Xt=null,hn=Ye),Xt!==hn)){if(an=ug,ot="onMouseLeave",Xe="onMouseEnter",it="mouse",x!=="pointerout"&&x!=="pointerover"||(an=hy,ot="onPointerLeave",Xe="onPointerEnter",it="pointer"),Ze=Xt==null?ut:Qd(Xt),Ke=hn==null?ut:Qd(hn),(ut=new an(ot,it+"leave",Xt,j,ht)).target=Ze,ut.relatedTarget=Ke,ot=null,Eu(ht)===Ye&&((an=new an(Xe,it+"enter",hn,j,ht)).target=Ke,an.relatedTarget=Ze,ot=an),Ze=ot,Xt&&hn)e:{for(Xe=hn,it=0,Ke=an=Xt;Ke;Ke=_t(Ke))it++;for(Ke=0,ot=Xe;ot;ot=_t(ot))Ke++;for(;0<it-Ke;)an=_t(an),it--;for(;0<Ke-it;)Xe=_t(Xe),Ke--;for(;it--;){if(an===Xe||Xe!==null&&an===Xe.alternate)break e;an=_t(an),Xe=_t(Xe)}an=null}else an=null;Xt!==null&&ar(St,ut,Xt,an,!1),hn!==null&&Ze!==null&&ar(St,Ze,hn,an,!0)}if((Xt=(ut=Ye?Qd(Ye):window).nodeName&&ut.nodeName.toLowerCase())==="select"||Xt==="input"&&ut.type==="file")var tn=vy;else if(_c(ut))if(_g)tn=yx;else{tn=bx;var Tt=xy}else(Xt=ut.nodeName)&&Xt.toLowerCase()==="input"&&(ut.type==="checkbox"||ut.type==="radio")&&(tn=_y);switch(tn&&(tn=tn(x,Ye))?yy(St,tn,j,ht):(Tt&&Tt(x,ut,Ye),x==="focusout"&&(Tt=ut._wrapperState)&&Tt.controlled&&ut.type==="number"&&nt(ut,"number",ut.value)),Tt=Ye?Qd(Ye):window,x){case"focusin":(_c(Tt)||Tt.contentEditable==="true")&&(Ra=Tt,ku=Ye,ei=null);break;case"focusout":ei=ku=Ra=null;break;case"mousedown":Pl=!0;break;case"contextmenu":case"mouseup":case"dragend":Pl=!1,qf(St,j,ht);break;case"selectionchange":if(Zn)break;case"keydown":case"keyup":qf(St,j,ht)}var fn;if(Uf)e:{switch(x){case"compositionstart":var Wt="onCompositionStart";break e;case"compositionend":Wt="onCompositionEnd";break e;case"compositionupdate":Wt="onCompositionUpdate";break e}Wt=void 0}else _u?gy(x,j)&&(Wt="onCompositionEnd"):x==="keydown"&&j.keyCode===229&&(Wt="onCompositionStart");Wt&&(wg&&j.locale!=="ko"&&(_u||Wt!=="onCompositionStart"?Wt==="onCompositionEnd"&&_u&&(fn=oy()):(wu="value"in(Cl=ht)?Cl.value:Cl.textContent,_u=!0)),0<(Tt=cn(Ye,Wt)).length&&(Wt=new hg(Wt,x,null,j,ht),St.push({event:Wt,listeners:Tt}),(fn||(fn=by(j))!==null)&&(Wt.data=fn))),(fn=py?function(Yt,en){switch(Yt){case"compositionend":return by(en);case"keypress":return en.which!==32?null:(xg=!0,my);case"textInput":return(Yt=en.data)===my&&xg?null:Yt;default:return null}}(x,j):function(Yt,en){if(_u)return Yt==="compositionend"||!Uf&&gy(Yt,en)?(Yt=oy(),$d=wu=Cl=null,_u=!1,Yt):null;switch(Yt){case"paste":default:return null;case"keypress":if(!(en.ctrlKey||en.altKey||en.metaKey)||en.ctrlKey&&en.altKey){if(en.char&&1<en.char.length)return en.char;if(en.which)return String.fromCharCode(en.which)}return null;case"compositionend":return wg&&en.locale!=="ko"?null:en.data}}(x,j))&&0<(Ye=cn(Ye,"onBeforeInput")).length&&(ht=new hg("onBeforeInput","beforeinput",null,j,ht),St.push({event:ht,listeners:Ye}),ht.data=fn)}Il(St,E)})}function sn(x,E,j){return{instance:x,listener:E,currentTarget:j}}function cn(x,E){for(var j=E+"Capture",V=[];x!==null;){var H=x,oe=H.stateNode;H.tag===5&&oe!==null&&(H=oe,(oe=Lr(x,j))!=null&&V.unshift(sn(x,oe,H)),(oe=Lr(x,E))!=null&&V.push(sn(x,oe,H))),x=x.return}return V}function _t(x){if(x===null)return null;do x=x.return;while(x&&x.tag!==5);return x||null}function ar(x,E,j,V,H){for(var oe=E._reactName,ge=[];j!==null&&j!==V;){var De=j,qe=De.alternate,Ye=De.stateNode;if(qe!==null&&qe===V)break;De.tag===5&&Ye!==null&&(De=Ye,H?(qe=Lr(j,oe))!=null&&ge.unshift(sn(j,qe,De)):H||(qe=Lr(j,oe))!=null&&ge.push(sn(j,qe,De))),j=j.return}ge.length!==0&&x.push({event:E,listeners:ge})}function Wn(){}var Oa=null,ta=null;function Dn(x,E){switch(x){case"button":case"input":case"select":case"textarea":return!!E.autoFocus}return!1}function es(x,E){return x==="textarea"||x==="option"||x==="noscript"||typeof E.children=="string"||typeof E.children=="number"||typeof E.dangerouslySetInnerHTML=="object"&&E.dangerouslySetInnerHTML!==null&&E.dangerouslySetInnerHTML.__html!=null}var ts=typeof setTimeout=="function"?setTimeout:void 0,kc=typeof clearTimeout=="function"?clearTimeout:void 0;function Jd(x){(x.nodeType===1||x.nodeType===9&&(x=x.body)!=null)&&(x.textContent="")}function Xs(x){for(;x!=null;x=x.nextSibling){var E=x.nodeType;if(E===1||E===3)break}return x}function Li(x){x=x.previousSibling;for(var E=0;x;){if(x.nodeType===8){var j=x.data;if(j==="$"||j==="$!"||j==="$?"){if(E===0)return x;E--}else j==="/$"&&E++}x=x.previousSibling}return null}var Es=0,To=Math.random().toString(36).slice(2),Ec="__reactFiber$"+To,Ag="__reactProps$"+To,Gf="__reactContainer$"+To,EA="__reactEvents$"+To;function Eu(x){var E=x[Ec];if(E)return E;for(var j=x.parentNode;j;){if(E=j[Gf]||j[Ec]){if(j=E.alternate,E.child!==null||j!==null&&j.child!==null)for(x=Li(x);x!==null;){if(j=x[Ec])return j;x=Li(x)}return E}j=(x=j).parentNode}return null}function Xf(x){return!(x=x[Ec]||x[Gf])||x.tag!==5&&x.tag!==6&&x.tag!==13&&x.tag!==3?null:x}function Qd(x){if(x.tag===5||x.tag===6)return x.stateNode;throw Error(v(33))}function Tg(x){return x[Ag]||null}function Ay(x){var E=x[EA];return E===void 0&&(E=x[EA]=new Set),E}var vx=[],eh=-1;function Su(x){return{current:x}}function _i(x){0>eh||(x.current=vx[eh],vx[eh]=null,eh--)}function Qt(x,E){eh++,vx[eh]=x.current,x.current=E}var Au={},Xi=Su(Au),ns=Su(!1),Tu=Au;function Cu(x,E){var j=x.type.contextTypes;if(!j)return Au;var V=x.stateNode;if(V&&V.__reactInternalMemoizedUnmaskedChildContext===E)return V.__reactInternalMemoizedMaskedChildContext;var H,oe={};for(H in j)oe[H]=E[H];return V&&((x=x.stateNode).__reactInternalMemoizedUnmaskedChildContext=E,x.__reactInternalMemoizedMaskedChildContext=oe),oe}function $n(x){return(x=x.childContextTypes)!=null}function wx(){_i(ns),_i(Xi)}function SA(x,E,j){if(Xi.current!==Au)throw Error(v(168));Qt(Xi,E),Qt(ns,j)}function xx(x,E,j){var V=x.stateNode;if(x=E.childContextTypes,typeof V.getChildContext!="function")return j;for(var H in V=V.getChildContext())if(!(H in x))throw Error(v(108,ye(E)||"Unknown",H));return g({},j,V)}function Ty(x){return x=(x=x.stateNode)&&x.__reactInternalMemoizedMergedChildContext||Au,Tu=Xi.current,Qt(Xi,x),Qt(ns,ns.current),!0}function Ys(x,E,j){var V=x.stateNode;if(!V)throw Error(v(169));j?(x=xx(x,E,Tu),V.__reactInternalMemoizedMergedChildContext=x,_i(ns),_i(Xi),Qt(Xi,x)):_i(ns),Qt(ns,j)}var ki=null,lr=null,Fa=y.unstable_runWithPriority,La=y.unstable_scheduleCallback,Cg=y.unstable_cancelCallback,_x=y.unstable_shouldYield,Cy=y.unstable_requestPaint,kx=y.unstable_now,AA=y.unstable_getCurrentPriorityLevel,na=y.unstable_ImmediatePriority,TA=y.unstable_UserBlockingPriority,Ut=y.unstable_NormalPriority,CA=y.unstable_LowPriority,Bt=y.unstable_IdlePriority,Ex={},Vt=Cy!==void 0?Cy:function(){},Sc=null,jt=null,Sx=!1,zt=kx(),mr=1e4>zt?kx:function(){return kx()-zt};function jl(){switch(AA()){case na:return 99;case TA:return 98;case Ut:return 97;case CA:return 96;case Bt:return 95;default:throw Error(v(332))}}function dn(x){switch(x){case 99:return na;case 98:return TA;case 97:return Ut;case 96:return CA;case 95:return Bt;default:throw Error(v(332))}}function Tr(x,E){return x=dn(x),Fa(x,E)}function Ac(x,E,j){return x=dn(x),La(x,E,j)}function Rl(){if(jt!==null){var x=jt;jt=null,Cg(x)}Ax()}function Ax(){if(!Sx&&Sc!==null){Sx=!0;var x=0;try{var E=Sc;Tr(99,function(){for(;x<E.length;x++){var j=E[x];do j=j(!0);while(j!==null)}}),Sc=null}catch(j){throw Sc!==null&&(Sc=Sc.slice(x+1)),La(na,Rl),j}finally{Sx=!1}}}var Dy=de.ReactCurrentBatchConfig;function ia(x,E){if(x&&x.defaultProps){for(var j in E=g({},E),x=x.defaultProps)E[j]===void 0&&(E[j]=x[j]);return E}return E}var Ny=Su(null),Py=null,Yf=null,Dg=null;function Iy(){Dg=Yf=Py=null}function jy(x){var E=Ny.current;_i(Ny),x.type._context._currentValue=E}function Tx(x,E){for(;x!==null;){var j=x.alternate;if((x.childLanes&E)===E){if(j===null||(j.childLanes&E)===E)break;j.childLanes|=E}else x.childLanes|=E,j!==null&&(j.childLanes|=E);x=x.return}}function th(x,E){Py=x,Dg=Yf=null,(x=x.dependencies)!==null&&x.firstContext!==null&&(x.lanes&E&&(Io=!0),x.firstContext=null)}function Co(x,E){if(Dg!==x&&E!==!1&&E!==0)if(typeof E=="number"&&E!==1073741823||(Dg=x,E=1073741823),E={context:x,observedBits:E,next:null},Yf===null){if(Py===null)throw Error(v(308));Yf=E,Py.dependencies={lanes:0,firstContext:E,responders:null}}else Yf=Yf.next=E;return x._currentValue}var Do=!1;function Kf(x){x.updateQueue={baseState:x.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Ry(x,E){x=x.updateQueue,E.updateQueue===x&&(E.updateQueue={baseState:x.baseState,firstBaseUpdate:x.firstBaseUpdate,lastBaseUpdate:x.lastBaseUpdate,shared:x.shared,effects:x.effects})}function Ml(x,E){return{eventTime:x,lane:E,tag:0,payload:null,callback:null,next:null}}function Tc(x,E){if((x=x.updateQueue)!==null){var j=(x=x.shared).pending;j===null?E.next=E:(E.next=j.next,j.next=E),x.pending=E}}function Cx(x,E){var j=x.updateQueue,V=x.alternate;if(V!==null&&j===(V=V.updateQueue)){var H=null,oe=null;if((j=j.firstBaseUpdate)!==null){do{var ge={eventTime:j.eventTime,lane:j.lane,tag:j.tag,payload:j.payload,callback:j.callback,next:null};oe===null?H=oe=ge:oe=oe.next=ge,j=j.next}while(j!==null);oe===null?H=oe=E:oe=oe.next=E}else H=oe=E;return j={baseState:V.baseState,firstBaseUpdate:H,lastBaseUpdate:oe,shared:V.shared,effects:V.effects},void(x.updateQueue=j)}(x=j.lastBaseUpdate)===null?j.firstBaseUpdate=E:x.next=E,j.lastBaseUpdate=E}function Ng(x,E,j,V){var H=x.updateQueue;Do=!1;var oe=H.firstBaseUpdate,ge=H.lastBaseUpdate,De=H.shared.pending;if(De!==null){H.shared.pending=null;var qe=De,Ye=qe.next;qe.next=null,ge===null?oe=Ye:ge.next=Ye,ge=qe;var ht=x.alternate;if(ht!==null){var St=(ht=ht.updateQueue).lastBaseUpdate;St!==ge&&(St===null?ht.firstBaseUpdate=Ye:St.next=Ye,ht.lastBaseUpdate=qe)}}if(oe!==null){for(St=H.baseState,ge=0,ht=Ye=qe=null;;){De=oe.lane;var ut=oe.eventTime;if((V&De)===De){ht!==null&&(ht=ht.next={eventTime:ut,lane:0,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null});e:{var Xt=x,hn=oe;switch(De=E,ut=j,hn.tag){case 1:if(typeof(Xt=hn.payload)=="function"){St=Xt.call(ut,St,De);break e}St=Xt;break e;case 3:Xt.flags=-4097&Xt.flags|64;case 0:if((De=typeof(Xt=hn.payload)=="function"?Xt.call(ut,St,De):Xt)==null)break e;St=g({},St,De);break e;case 2:Do=!0}}oe.callback!==null&&(x.flags|=32,(De=H.effects)===null?H.effects=[oe]:De.push(oe))}else ut={eventTime:ut,lane:De,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},ht===null?(Ye=ht=ut,qe=St):ht=ht.next=ut,ge|=De;if((oe=oe.next)===null){if((De=H.shared.pending)===null)break;oe=De.next,De.next=null,H.lastBaseUpdate=De,H.shared.pending=null}}ht===null&&(qe=St),H.baseState=qe,H.firstBaseUpdate=Ye,H.lastBaseUpdate=ht,lh|=ge,x.lanes=ge,x.memoizedState=St}}function Pg(x,E,j){if(x=E.effects,E.effects=null,x!==null)for(E=0;E<x.length;E++){var V=x[E],H=V.callback;if(H!==null){if(V.callback=null,V=j,typeof H!="function")throw Error(v(191,H));H.call(V)}}}var Zf=new m.Component().refs;function ra(x,E,j,V){j=(j=j(V,E=x.memoizedState))==null?E:g({},E,j),x.memoizedState=j,x.lanes===0&&(x.updateQueue.baseState=j)}var My={isMounted:function(x){return!!(x=x._reactInternals)&&Gi(x)===x},enqueueSetState:function(x,E,j){x=x._reactInternals;var V=wi(),H=sa(x),oe=Ml(V,H);oe.payload=E,j!=null&&(oe.callback=j),Tc(x,oe),Rc(x,H,V)},enqueueReplaceState:function(x,E,j){x=x._reactInternals;var V=wi(),H=sa(x),oe=Ml(V,H);oe.tag=1,oe.payload=E,j!=null&&(oe.callback=j),Tc(x,oe),Rc(x,H,V)},enqueueForceUpdate:function(x,E){x=x._reactInternals;var j=wi(),V=sa(x),H=Ml(j,V);H.tag=2,E!=null&&(H.callback=E),Tc(x,H),Rc(x,V,j)}};function Ig(x,E,j,V,H,oe,ge){return typeof(x=x.stateNode).shouldComponentUpdate=="function"?x.shouldComponentUpdate(V,oe,ge):!E.prototype||!E.prototype.isPureReactComponent||!Kd(j,V)||!Kd(H,oe)}function Jf(x,E,j){var V=!1,H=Au,oe=E.contextType;return typeof oe=="object"&&oe!==null?oe=Co(oe):(H=$n(E)?Tu:Xi.current,oe=(V=(V=E.contextTypes)!=null)?Cu(x,H):Au),E=new E(j,oe),x.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=My,x.stateNode=E,E._reactInternals=x,V&&((x=x.stateNode).__reactInternalMemoizedUnmaskedChildContext=H,x.__reactInternalMemoizedMaskedChildContext=oe),E}function qn(x,E,j,V){x=E.state,typeof E.componentWillReceiveProps=="function"&&E.componentWillReceiveProps(j,V),typeof E.UNSAFE_componentWillReceiveProps=="function"&&E.UNSAFE_componentWillReceiveProps(j,V),E.state!==x&&My.enqueueReplaceState(E,E.state,null)}function Qf(x,E,j,V){var H=x.stateNode;H.props=j,H.state=x.memoizedState,H.refs=Zf,Kf(x);var oe=E.contextType;typeof oe=="object"&&oe!==null?H.context=Co(oe):(oe=$n(E)?Tu:Xi.current,H.context=Cu(x,oe)),Ng(x,j,H,V),H.state=x.memoizedState,typeof(oe=E.getDerivedStateFromProps)=="function"&&(ra(x,E,oe,j),H.state=x.memoizedState),typeof E.getDerivedStateFromProps=="function"||typeof H.getSnapshotBeforeUpdate=="function"||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(E=H.state,typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount(),E!==H.state&&My.enqueueReplaceState(H,H.state,null),Ng(x,j,H,V),H.state=x.memoizedState),typeof H.componentDidMount=="function"&&(x.flags|=4)}var Du=Array.isArray;function Nu(x,E,j){if((x=j.ref)!==null&&typeof x!="function"&&typeof x!="object"){if(j._owner){if(j=j._owner){if(j.tag!==1)throw Error(v(309));var V=j.stateNode}if(!V)throw Error(v(147,x));var H=""+x;return E!==null&&E.ref!==null&&typeof E.ref=="function"&&E.ref._stringRef===H?E.ref:(E=function(oe){var ge=V.refs;ge===Zf&&(ge=V.refs={}),oe===null?delete ge[H]:ge[H]=oe},E._stringRef=H,E)}if(typeof x!="string")throw Error(v(284));if(!j._owner)throw Error(v(290,x))}return x}function nh(x,E){if(x.type!=="textarea")throw Error(v(31,Object.prototype.toString.call(E)==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":E))}function ep(x){function E(Ze,Xe){if(x){var Ke=Ze.lastEffect;Ke!==null?(Ke.nextEffect=Xe,Ze.lastEffect=Xe):Ze.firstEffect=Ze.lastEffect=Xe,Xe.nextEffect=null,Xe.flags=8}}function j(Ze,Xe){if(!x)return null;for(;Xe!==null;)E(Ze,Xe),Xe=Xe.sibling;return null}function V(Ze,Xe){for(Ze=new Map;Xe!==null;)Xe.key!==null?Ze.set(Xe.key,Xe):Ze.set(Xe.index,Xe),Xe=Xe.sibling;return Ze}function H(Ze,Xe){return(Ze=Hu(Ze,Xe)).index=0,Ze.sibling=null,Ze}function oe(Ze,Xe,Ke){return Ze.index=Ke,x?(Ke=Ze.alternate)!==null?(Ke=Ke.index)<Xe?(Ze.flags=2,Xe):Ke:(Ze.flags=2,Xe):Xe}function ge(Ze){return x&&Ze.alternate===null&&(Ze.flags=2),Ze}function De(Ze,Xe,Ke,it){return Xe===null||Xe.tag!==6?((Xe=Qx(Ke,Ze.mode,it)).return=Ze,Xe):((Xe=H(Xe,Ke)).return=Ze,Xe)}function qe(Ze,Xe,Ke,it){return Xe!==null&&Xe.elementType===Ke.type?((it=H(Xe,Ke.props)).ref=Nu(Ze,Xe,Ke),it.return=Ze,it):((it=iv(Ke.type,Ke.key,Ke.props,null,Ze.mode,it)).ref=Nu(Ze,Xe,Ke),it.return=Ze,it)}function Ye(Ze,Xe,Ke,it){return Xe===null||Xe.tag!==4||Xe.stateNode.containerInfo!==Ke.containerInfo||Xe.stateNode.implementation!==Ke.implementation?((Xe=hh(Ke,Ze.mode,it)).return=Ze,Xe):((Xe=H(Xe,Ke.children||[])).return=Ze,Xe)}function ht(Ze,Xe,Ke,it,ot){return Xe===null||Xe.tag!==7?((Xe=dh(Ke,Ze.mode,it,ot)).return=Ze,Xe):((Xe=H(Xe,Ke)).return=Ze,Xe)}function St(Ze,Xe,Ke){if(typeof Xe=="string"||typeof Xe=="number")return(Xe=Qx(""+Xe,Ze.mode,Ke)).return=Ze,Xe;if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case J:return(Ke=iv(Xe.type,Xe.key,Xe.props,null,Ze.mode,Ke)).ref=Nu(Ze,null,Xe),Ke.return=Ze,Ke;case be:return(Xe=hh(Xe,Ze.mode,Ke)).return=Ze,Xe}if(Du(Xe)||ke(Xe))return(Xe=dh(Xe,Ze.mode,Ke,null)).return=Ze,Xe;nh(Ze,Xe)}return null}function ut(Ze,Xe,Ke,it){var ot=Xe!==null?Xe.key:null;if(typeof Ke=="string"||typeof Ke=="number")return ot!==null?null:De(Ze,Xe,""+Ke,it);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case J:return Ke.key===ot?Ke.type===q?ht(Ze,Xe,Ke.props.children,it,ot):qe(Ze,Xe,Ke,it):null;case be:return Ke.key===ot?Ye(Ze,Xe,Ke,it):null}if(Du(Ke)||ke(Ke))return ot!==null?null:ht(Ze,Xe,Ke,it,null);nh(Ze,Ke)}return null}function Xt(Ze,Xe,Ke,it,ot){if(typeof it=="string"||typeof it=="number")return De(Xe,Ze=Ze.get(Ke)||null,""+it,ot);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case J:return Ze=Ze.get(it.key===null?Ke:it.key)||null,it.type===q?ht(Xe,Ze,it.props.children,ot,it.key):qe(Xe,Ze,it,ot);case be:return Ye(Xe,Ze=Ze.get(it.key===null?Ke:it.key)||null,it,ot)}if(Du(it)||ke(it))return ht(Xe,Ze=Ze.get(Ke)||null,it,ot,null);nh(Xe,it)}return null}function hn(Ze,Xe,Ke,it){for(var ot=null,tn=null,Tt=Xe,fn=Xe=0,Wt=null;Tt!==null&&fn<Ke.length;fn++){Tt.index>fn?(Wt=Tt,Tt=null):Wt=Tt.sibling;var Yt=ut(Ze,Tt,Ke[fn],it);if(Yt===null){Tt===null&&(Tt=Wt);break}x&&Tt&&Yt.alternate===null&&E(Ze,Tt),Xe=oe(Yt,Xe,fn),tn===null?ot=Yt:tn.sibling=Yt,tn=Yt,Tt=Wt}if(fn===Ke.length)return j(Ze,Tt),ot;if(Tt===null){for(;fn<Ke.length;fn++)(Tt=St(Ze,Ke[fn],it))!==null&&(Xe=oe(Tt,Xe,fn),tn===null?ot=Tt:tn.sibling=Tt,tn=Tt);return ot}for(Tt=V(Ze,Tt);fn<Ke.length;fn++)(Wt=Xt(Tt,Ze,fn,Ke[fn],it))!==null&&(x&&Wt.alternate!==null&&Tt.delete(Wt.key===null?fn:Wt.key),Xe=oe(Wt,Xe,fn),tn===null?ot=Wt:tn.sibling=Wt,tn=Wt);return x&&Tt.forEach(function(en){return E(Ze,en)}),ot}function an(Ze,Xe,Ke,it){var ot=ke(Ke);if(typeof ot!="function")throw Error(v(150));if((Ke=ot.call(Ke))==null)throw Error(v(151));for(var tn=ot=null,Tt=Xe,fn=Xe=0,Wt=null,Yt=Ke.next();Tt!==null&&!Yt.done;fn++,Yt=Ke.next()){Tt.index>fn?(Wt=Tt,Tt=null):Wt=Tt.sibling;var en=ut(Ze,Tt,Yt.value,it);if(en===null){Tt===null&&(Tt=Wt);break}x&&Tt&&en.alternate===null&&E(Ze,Tt),Xe=oe(en,Xe,fn),tn===null?ot=en:tn.sibling=en,tn=en,Tt=Wt}if(Yt.done)return j(Ze,Tt),ot;if(Tt===null){for(;!Yt.done;fn++,Yt=Ke.next())(Yt=St(Ze,Yt.value,it))!==null&&(Xe=oe(Yt,Xe,fn),tn===null?ot=Yt:tn.sibling=Yt,tn=Yt);return ot}for(Tt=V(Ze,Tt);!Yt.done;fn++,Yt=Ke.next())(Yt=Xt(Tt,Ze,fn,Yt.value,it))!==null&&(x&&Yt.alternate!==null&&Tt.delete(Yt.key===null?fn:Yt.key),Xe=oe(Yt,Xe,fn),tn===null?ot=Yt:tn.sibling=Yt,tn=Yt);return x&&Tt.forEach(function(Vl){return E(Ze,Vl)}),ot}return function(Ze,Xe,Ke,it){var ot=typeof Ke=="object"&&Ke!==null&&Ke.type===q&&Ke.key===null;ot&&(Ke=Ke.props.children);var tn=typeof Ke=="object"&&Ke!==null;if(tn)switch(Ke.$$typeof){case J:e:{for(tn=Ke.key,ot=Xe;ot!==null;){if(ot.key===tn){if(ot.tag===7){if(Ke.type===q){j(Ze,ot.sibling),(Xe=H(ot,Ke.props.children)).return=Ze,Ze=Xe;break e}}else if(ot.elementType===Ke.type){j(Ze,ot.sibling),(Xe=H(ot,Ke.props)).ref=Nu(Ze,ot,Ke),Xe.return=Ze,Ze=Xe;break e}j(Ze,ot);break}E(Ze,ot),ot=ot.sibling}Ke.type===q?((Xe=dh(Ke.props.children,Ze.mode,it,Ke.key)).return=Ze,Ze=Xe):((it=iv(Ke.type,Ke.key,Ke.props,null,Ze.mode,it)).ref=Nu(Ze,Xe,Ke),it.return=Ze,Ze=it)}return ge(Ze);case be:e:{for(ot=Ke.key;Xe!==null;){if(Xe.key===ot){if(Xe.tag===4&&Xe.stateNode.containerInfo===Ke.containerInfo&&Xe.stateNode.implementation===Ke.implementation){j(Ze,Xe.sibling),(Xe=H(Xe,Ke.children||[])).return=Ze,Ze=Xe;break e}j(Ze,Xe);break}E(Ze,Xe),Xe=Xe.sibling}(Xe=hh(Ke,Ze.mode,it)).return=Ze,Ze=Xe}return ge(Ze)}if(typeof Ke=="string"||typeof Ke=="number")return Ke=""+Ke,Xe!==null&&Xe.tag===6?(j(Ze,Xe.sibling),(Xe=H(Xe,Ke)).return=Ze,Ze=Xe):(j(Ze,Xe),(Xe=Qx(Ke,Ze.mode,it)).return=Ze,Ze=Xe),ge(Ze);if(Du(Ke))return hn(Ze,Xe,Ke,it);if(ke(Ke))return an(Ze,Xe,Ke,it);if(tn&&nh(Ze,Ke),Ke===void 0&&!ot)switch(Ze.tag){case 1:case 22:case 0:case 11:case 15:throw Error(v(152,ye(Ze.type)||"Component"))}return j(Ze,Xe)}}var ih=ep(!0),tp=ep(!1),np={},No=Su(np),Cc=Su(np),Pu=Su(np);function rh(x){if(x===np)throw Error(v(174));return x}function ip(x,E){switch(Qt(Pu,E),Qt(Cc,x),Qt(No,np),x=E.nodeType){case 9:case 11:E=(E=E.documentElement)?E.namespaceURI:En(null,"");break;default:E=En(E=(x=x===8?E.parentNode:E).namespaceURI||null,x=x.tagName)}_i(No),Qt(No,E)}function Ol(){_i(No),_i(Cc),_i(Pu)}function DA(x){rh(Pu.current);var E=rh(No.current),j=En(E,x.type);E!==j&&(Qt(Cc,x),Qt(No,j))}function Dx(x){Cc.current===x&&(_i(No),_i(Cc))}var Ei=Su(0);function Iu(x){for(var E=x;E!==null;){if(E.tag===13){var j=E.memoizedState;if(j!==null&&((j=j.dehydrated)===null||j.data==="$?"||j.data==="$!"))return E}else if(E.tag===19&&E.memoizedProps.revealOrder!==void 0){if(64&E.flags)return E}else if(E.child!==null){E.child.return=E,E=E.child;continue}if(E===x)break;for(;E.sibling===null;){if(E.return===null||E.return===x)return null;E=E.return}E.sibling.return=E.return,E=E.sibling}return null}var Dc=null,Ua=null,Ks=!1;function sh(x,E){var j=oa(5,null,null,0);j.elementType="DELETED",j.type="DELETED",j.stateNode=E,j.return=x,j.flags=8,x.lastEffect!==null?(x.lastEffect.nextEffect=j,x.lastEffect=j):x.firstEffect=x.lastEffect=j}function Nx(x,E){switch(x.tag){case 5:var j=x.type;return(E=E.nodeType!==1||j.toLowerCase()!==E.nodeName.toLowerCase()?null:E)!==null&&(x.stateNode=E,!0);case 6:return(E=x.pendingProps===""||E.nodeType!==3?null:E)!==null&&(x.stateNode=E,!0);default:return!1}}function Oy(x){if(Ks){var E=Ua;if(E){var j=E;if(!Nx(x,E)){if(!(E=Xs(j.nextSibling))||!Nx(x,E))return x.flags=-1025&x.flags|2,Ks=!1,void(Dc=x);sh(Dc,j)}Dc=x,Ua=Xs(E.firstChild)}else x.flags=-1025&x.flags|2,Ks=!1,Dc=x}}function Nc(x){for(x=x.return;x!==null&&x.tag!==5&&x.tag!==3&&x.tag!==13;)x=x.return;Dc=x}function rp(x){if(x!==Dc)return!1;if(!Ks)return Nc(x),Ks=!0,!1;var E=x.type;if(x.tag!==5||E!=="head"&&E!=="body"&&!es(E,x.memoizedProps))for(E=Ua;E;)sh(x,E),E=Xs(E.nextSibling);if(Nc(x),x.tag===13){if(!(x=(x=x.memoizedState)!==null?x.dehydrated:null))throw Error(v(317));e:{for(x=x.nextSibling,E=0;x;){if(x.nodeType===8){var j=x.data;if(j==="/$"){if(E===0){Ua=Xs(x.nextSibling);break e}E--}else j!=="$"&&j!=="$!"&&j!=="$?"||E++}x=x.nextSibling}Ua=null}}else Ua=Dc?Xs(x.stateNode.nextSibling):null;return!0}function Fy(){Ua=Dc=null,Ks=!1}var sp=[];function Ly(){for(var x=0;x<sp.length;x++)sp[x]._workInProgressVersionPrimary=null;sp.length=0}var st=de.ReactCurrentDispatcher,Po=de.ReactCurrentBatchConfig,pn=0,Ui=null,is=null,Cr=null,jg=!1,op=!1;function Br(){throw Error(v(321))}function oh(x,E){if(E===null)return!1;for(var j=0;j<E.length&&j<x.length;j++)if(!ks(x[j],E[j]))return!1;return!0}function ap(x,E,j,V,H,oe){if(pn=oe,Ui=E,E.memoizedState=null,E.updateQueue=null,E.lanes=0,st.current=x===null||x.memoizedState===null?CP:MA,x=j(V,H),op){oe=0;do{if(op=!1,!(25>oe))throw Error(v(301));oe+=1,Cr=is=null,E.updateQueue=null,st.current=OA,x=j(V,H)}while(op)}if(st.current=Vy,E=is!==null&&is.next!==null,pn=0,Cr=is=Ui=null,jg=!1,E)throw Error(v(300));return x}function ju(){var x={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cr===null?Ui.memoizedState=Cr=x:Cr=Cr.next=x,Cr}function Ru(){if(is===null){var x=Ui.alternate;x=x!==null?x.memoizedState:null}else x=is.next;var E=Cr===null?Ui.memoizedState:Cr.next;if(E!==null)Cr=E,is=x;else{if(x===null)throw Error(v(310));x={memoizedState:(is=x).memoizedState,baseState:is.baseState,baseQueue:is.baseQueue,queue:is.queue,next:null},Cr===null?Ui.memoizedState=Cr=x:Cr=Cr.next=x}return Cr}function Fl(x,E){return typeof E=="function"?E(x):E}function ah(x){var E=Ru(),j=E.queue;if(j===null)throw Error(v(311));j.lastRenderedReducer=x;var V=is,H=V.baseQueue,oe=j.pending;if(oe!==null){if(H!==null){var ge=H.next;H.next=oe.next,oe.next=ge}V.baseQueue=H=oe,j.pending=null}if(H!==null){H=H.next,V=V.baseState;var De=ge=oe=null,qe=H;do{var Ye=qe.lane;if((pn&Ye)===Ye)De!==null&&(De=De.next={lane:0,action:qe.action,eagerReducer:qe.eagerReducer,eagerState:qe.eagerState,next:null}),V=qe.eagerReducer===x?qe.eagerState:x(V,qe.action);else{var ht={lane:Ye,action:qe.action,eagerReducer:qe.eagerReducer,eagerState:qe.eagerState,next:null};De===null?(ge=De=ht,oe=V):De=De.next=ht,Ui.lanes|=Ye,lh|=Ye}qe=qe.next}while(qe!==null&&qe!==H);De===null?oe=V:De.next=ge,ks(V,E.memoizedState)||(Io=!0),E.memoizedState=V,E.baseState=oe,E.baseQueue=De,j.lastRenderedState=V}return[E.memoizedState,j.dispatch]}function lp(x){var E=Ru(),j=E.queue;if(j===null)throw Error(v(311));j.lastRenderedReducer=x;var V=j.dispatch,H=j.pending,oe=E.memoizedState;if(H!==null){j.pending=null;var ge=H=H.next;do oe=x(oe,ge.action),ge=ge.next;while(ge!==H);ks(oe,E.memoizedState)||(Io=!0),E.memoizedState=oe,E.baseQueue===null&&(E.baseState=oe),j.lastRenderedState=oe}return[oe,V]}function NA(x,E,j){var V=E._getVersion;V=V(E._source);var H=E._workInProgressVersionPrimary;if(H!==null?x=H===V:(x=x.mutableReadLanes,(x=(pn&x)===x)&&(E._workInProgressVersionPrimary=V,sp.push(E))),x)return j(E._source);throw sp.push(E),Error(v(350))}function Mu(x,E,j,V){var H=zr;if(H===null)throw Error(v(349));var oe=E._getVersion,ge=oe(E._source),De=st.current,qe=De.useState(function(){return NA(H,E,j)}),Ye=qe[1],ht=qe[0];qe=Cr;var St=x.memoizedState,ut=St.refs,Xt=ut.getSnapshot,hn=St.source;St=St.subscribe;var an=Ui;return x.memoizedState={refs:ut,source:E,subscribe:V},De.useEffect(function(){ut.getSnapshot=j,ut.setSnapshot=Ye;var Ze=oe(E._source);if(!ks(ge,Ze)){Ze=j(E._source),ks(ht,Ze)||(Ye(Ze),Ze=sa(an),H.mutableReadLanes|=Ze&H.pendingLanes),Ze=H.mutableReadLanes,H.entangledLanes|=Ze;for(var Xe=H.entanglements,Ke=Ze;0<Ke;){var it=31-Tl(Ke),ot=1<<it;Xe[it]|=Ze,Ke&=~ot}}},[j,E,V]),De.useEffect(function(){return V(E._source,function(){var Ze=ut.getSnapshot,Xe=ut.setSnapshot;try{Xe(Ze(E._source));var Ke=sa(an);H.mutableReadLanes|=Ke&H.pendingLanes}catch(it){Xe(function(){throw it})}})},[E,V]),ks(Xt,j)&&ks(hn,E)&&ks(St,V)||((x={pending:null,dispatch:null,lastRenderedReducer:Fl,lastRenderedState:ht}).dispatch=Ye=jx.bind(null,Ui,x),qe.queue=x,qe.baseQueue=null,ht=NA(H,E,j),qe.memoizedState=qe.baseState=ht),ht}function Px(x,E,j){return Mu(Ru(),x,E,j)}function Ba(x){var E=ju();return typeof x=="function"&&(x=x()),E.memoizedState=E.baseState=x,x=(x=E.queue={pending:null,dispatch:null,lastRenderedReducer:Fl,lastRenderedState:x}).dispatch=jx.bind(null,Ui,x),[E.memoizedState,x]}function Fn(x,E,j,V){return x={tag:x,create:E,destroy:j,deps:V,next:null},(E=Ui.updateQueue)===null?(E={lastEffect:null},Ui.updateQueue=E,E.lastEffect=x.next=x):(j=E.lastEffect)===null?E.lastEffect=x.next=x:(V=j.next,j.next=x,x.next=V,E.lastEffect=x),x}function za(x){return x={current:x},ju().memoizedState=x}function Ou(){return Ru().memoizedState}function Uy(x,E,j,V){var H=ju();Ui.flags|=x,H.memoizedState=Fn(1|E,j,void 0,V===void 0?null:V)}function Rg(x,E,j,V){var H=Ru();V=V===void 0?null:V;var oe=void 0;if(is!==null){var ge=is.memoizedState;if(oe=ge.destroy,V!==null&&oh(V,ge.deps))return void Fn(E,j,oe,V)}Ui.flags|=x,H.memoizedState=Fn(1|E,j,oe,V)}function Mg(x,E){return Uy(516,4,x,E)}function By(x,E){return Rg(516,4,x,E)}function PA(x,E){return Rg(4,2,x,E)}function IA(x,E){return typeof E=="function"?(x=x(),E(x),function(){E(null)}):E!=null?(x=x(),E.current=x,function(){E.current=null}):void 0}function zy(x,E,j){return j=j!=null?j.concat([x]):null,Rg(4,2,IA.bind(null,E,x),j)}function Ix(){}function jA(x,E){var j=Ru();E=E===void 0?null:E;var V=j.memoizedState;return V!==null&&E!==null&&oh(E,V[1])?V[0]:(j.memoizedState=[x,E],x)}function RA(x,E){var j=Ru();E=E===void 0?null:E;var V=j.memoizedState;return V!==null&&E!==null&&oh(E,V[1])?V[0]:(x=x(),j.memoizedState=[x,E],x)}function TP(x,E){var j=jl();Tr(98>j?98:j,function(){x(!0)}),Tr(97<j?97:j,function(){var V=Po.transition;Po.transition=1;try{x(!1),E()}finally{Po.transition=V}})}function jx(x,E,j){var V=wi(),H=sa(x),oe={lane:H,action:j,eagerReducer:null,eagerState:null,next:null},ge=E.pending;if(ge===null?oe.next=oe:(oe.next=ge.next,ge.next=oe),E.pending=oe,ge=x.alternate,x===Ui||ge!==null&&ge===Ui)op=jg=!0;else{if(x.lanes===0&&(ge===null||ge.lanes===0)&&(ge=E.lastRenderedReducer)!==null)try{var De=E.lastRenderedState,qe=ge(De,j);if(oe.eagerReducer=ge,oe.eagerState=qe,ks(qe,De))return}catch{}Rc(x,H,V)}}var Vy={readContext:Co,useCallback:Br,useContext:Br,useEffect:Br,useImperativeHandle:Br,useLayoutEffect:Br,useMemo:Br,useReducer:Br,useRef:Br,useState:Br,useDebugValue:Br,useDeferredValue:Br,useTransition:Br,useMutableSource:Br,useOpaqueIdentifier:Br,unstable_isNewReconciler:!1},CP={readContext:Co,useCallback:function(x,E){return ju().memoizedState=[x,E===void 0?null:E],x},useContext:Co,useEffect:Mg,useImperativeHandle:function(x,E,j){return j=j!=null?j.concat([x]):null,Uy(4,2,IA.bind(null,E,x),j)},useLayoutEffect:function(x,E){return Uy(4,2,x,E)},useMemo:function(x,E){var j=ju();return E=E===void 0?null:E,x=x(),j.memoizedState=[x,E],x},useReducer:function(x,E,j){var V=ju();return E=j!==void 0?j(E):E,V.memoizedState=V.baseState=E,x=(x=V.queue={pending:null,dispatch:null,lastRenderedReducer:x,lastRenderedState:E}).dispatch=jx.bind(null,Ui,x),[V.memoizedState,x]},useRef:za,useState:Ba,useDebugValue:Ix,useDeferredValue:function(x){var E=Ba(x),j=E[0],V=E[1];return Mg(function(){var H=Po.transition;Po.transition=1;try{V(x)}finally{Po.transition=H}},[x]),j},useTransition:function(){var x=Ba(!1),E=x[0];return za(x=TP.bind(null,x[1])),[x,E]},useMutableSource:function(x,E,j){var V=ju();return V.memoizedState={refs:{getSnapshot:E,setSnapshot:null},source:x,subscribe:j},Mu(V,x,E,j)},useOpaqueIdentifier:function(){if(Ks){var x=!1,E=function(V){return{$$typeof:Se,toString:V,valueOf:V}}(function(){throw x||(x=!0,j("r:"+(Es++).toString(36))),Error(v(355))}),j=Ba(E)[1];return!(2&Ui.mode)&&(Ui.flags|=516,Fn(5,function(){j("r:"+(Es++).toString(36))},void 0,null)),E}return Ba(E="r:"+(Es++).toString(36)),E},unstable_isNewReconciler:!1},MA={readContext:Co,useCallback:jA,useContext:Co,useEffect:By,useImperativeHandle:zy,useLayoutEffect:PA,useMemo:RA,useReducer:ah,useRef:Ou,useState:function(){return ah(Fl)},useDebugValue:Ix,useDeferredValue:function(x){var E=ah(Fl),j=E[0],V=E[1];return By(function(){var H=Po.transition;Po.transition=1;try{V(x)}finally{Po.transition=H}},[x]),j},useTransition:function(){var x=ah(Fl)[0];return[Ou().current,x]},useMutableSource:Px,useOpaqueIdentifier:function(){return ah(Fl)[0]},unstable_isNewReconciler:!1},OA={readContext:Co,useCallback:jA,useContext:Co,useEffect:By,useImperativeHandle:zy,useLayoutEffect:PA,useMemo:RA,useReducer:lp,useRef:Ou,useState:function(){return lp(Fl)},useDebugValue:Ix,useDeferredValue:function(x){var E=lp(Fl),j=E[0],V=E[1];return By(function(){var H=Po.transition;Po.transition=1;try{V(x)}finally{Po.transition=H}},[x]),j},useTransition:function(){var x=lp(Fl)[0];return[Ou().current,x]},useMutableSource:Px,useOpaqueIdentifier:function(){return lp(Fl)[0]},unstable_isNewReconciler:!1},DP=de.ReactCurrentOwner,Io=!1;function Ss(x,E,j,V){E.child=x===null?tp(E,null,j,V):ih(E,x.child,j,V)}function FA(x,E,j,V,H){j=j.render;var oe=E.ref;return th(E,H),V=ap(x,E,j,V,oe,H),x===null||Io?(E.flags|=1,Ss(x,E,V,H),E.child):(E.updateQueue=x.updateQueue,E.flags&=-517,x.lanes&=~H,Pc(x,E,H))}function Wy(x,E,j,V,H,oe){if(x===null){var ge=j.type;return typeof ge!="function"||Zx(ge)||ge.defaultProps!==void 0||j.compare!==null||j.defaultProps!==void 0?((x=iv(j.type,null,V,E,E.mode,oe)).ref=E.ref,x.return=E,E.child=x):(E.tag=15,E.type=ge,Rx(x,E,ge,V,H,oe))}return ge=x.child,!(H&oe)&&(H=ge.memoizedProps,(j=(j=j.compare)!==null?j:Kd)(H,V)&&x.ref===E.ref)?Pc(x,E,oe):(E.flags|=1,(x=Hu(ge,V)).ref=E.ref,x.return=E,E.child=x)}function Rx(x,E,j,V,H,oe){if(x!==null&&Kd(x.memoizedProps,V)&&x.ref===E.ref){if(Io=!1,(oe&H)==0)return E.lanes=x.lanes,Pc(x,E,oe);16384&x.flags&&(Io=!0)}return Ox(x,E,j,V,oe)}function Mx(x,E,j){var V=E.pendingProps,H=V.children,oe=x!==null?x.memoizedState:null;if(V.mode==="hidden"||V.mode==="unstable-defer-without-hiding")if(!(4&E.mode))E.memoizedState={baseLanes:0},ev(E,j);else{if(!(1073741824&j))return x=oe!==null?oe.baseLanes|j:j,E.lanes=E.childLanes=1073741824,E.memoizedState={baseLanes:x},ev(E,x),null;E.memoizedState={baseLanes:0},ev(E,oe!==null?oe.baseLanes:j)}else oe!==null?(V=oe.baseLanes|j,E.memoizedState=null):V=j,ev(E,V);return Ss(x,E,H,j),E.child}function LA(x,E){var j=E.ref;(x===null&&j!==null||x!==null&&x.ref!==j)&&(E.flags|=128)}function Ox(x,E,j,V,H){var oe=$n(j)?Tu:Xi.current;return oe=Cu(E,oe),th(E,H),j=ap(x,E,j,V,oe,H),x===null||Io?(E.flags|=1,Ss(x,E,j,H),E.child):(E.updateQueue=x.updateQueue,E.flags&=-517,x.lanes&=~H,Pc(x,E,H))}function UA(x,E,j,V,H){if($n(j)){var oe=!0;Ty(E)}else oe=!1;if(th(E,H),E.stateNode===null)x!==null&&(x.alternate=null,E.alternate=null,E.flags|=2),Jf(E,j,V),Qf(E,j,V,H),V=!0;else if(x===null){var ge=E.stateNode,De=E.memoizedProps;ge.props=De;var qe=ge.context,Ye=j.contextType;typeof Ye=="object"&&Ye!==null?Ye=Co(Ye):Ye=Cu(E,Ye=$n(j)?Tu:Xi.current);var ht=j.getDerivedStateFromProps,St=typeof ht=="function"||typeof ge.getSnapshotBeforeUpdate=="function";St||typeof ge.UNSAFE_componentWillReceiveProps!="function"&&typeof ge.componentWillReceiveProps!="function"||(De!==V||qe!==Ye)&&qn(E,ge,V,Ye),Do=!1;var ut=E.memoizedState;ge.state=ut,Ng(E,V,ge,H),qe=E.memoizedState,De!==V||ut!==qe||ns.current||Do?(typeof ht=="function"&&(ra(E,j,ht,V),qe=E.memoizedState),(De=Do||Ig(E,j,De,V,ut,qe,Ye))?(St||typeof ge.UNSAFE_componentWillMount!="function"&&typeof ge.componentWillMount!="function"||(typeof ge.componentWillMount=="function"&&ge.componentWillMount(),typeof ge.UNSAFE_componentWillMount=="function"&&ge.UNSAFE_componentWillMount()),typeof ge.componentDidMount=="function"&&(E.flags|=4)):(typeof ge.componentDidMount=="function"&&(E.flags|=4),E.memoizedProps=V,E.memoizedState=qe),ge.props=V,ge.state=qe,ge.context=Ye,V=De):(typeof ge.componentDidMount=="function"&&(E.flags|=4),V=!1)}else{ge=E.stateNode,Ry(x,E),De=E.memoizedProps,Ye=E.type===E.elementType?De:ia(E.type,De),ge.props=Ye,St=E.pendingProps,ut=ge.context,typeof(qe=j.contextType)=="object"&&qe!==null?qe=Co(qe):qe=Cu(E,qe=$n(j)?Tu:Xi.current);var Xt=j.getDerivedStateFromProps;(ht=typeof Xt=="function"||typeof ge.getSnapshotBeforeUpdate=="function")||typeof ge.UNSAFE_componentWillReceiveProps!="function"&&typeof ge.componentWillReceiveProps!="function"||(De!==St||ut!==qe)&&qn(E,ge,V,qe),Do=!1,ut=E.memoizedState,ge.state=ut,Ng(E,V,ge,H);var hn=E.memoizedState;De!==St||ut!==hn||ns.current||Do?(typeof Xt=="function"&&(ra(E,j,Xt,V),hn=E.memoizedState),(Ye=Do||Ig(E,j,Ye,V,ut,hn,qe))?(ht||typeof ge.UNSAFE_componentWillUpdate!="function"&&typeof ge.componentWillUpdate!="function"||(typeof ge.componentWillUpdate=="function"&&ge.componentWillUpdate(V,hn,qe),typeof ge.UNSAFE_componentWillUpdate=="function"&&ge.UNSAFE_componentWillUpdate(V,hn,qe)),typeof ge.componentDidUpdate=="function"&&(E.flags|=4),typeof ge.getSnapshotBeforeUpdate=="function"&&(E.flags|=256)):(typeof ge.componentDidUpdate!="function"||De===x.memoizedProps&&ut===x.memoizedState||(E.flags|=4),typeof ge.getSnapshotBeforeUpdate!="function"||De===x.memoizedProps&&ut===x.memoizedState||(E.flags|=256),E.memoizedProps=V,E.memoizedState=hn),ge.props=V,ge.state=hn,ge.context=qe,V=Ye):(typeof ge.componentDidUpdate!="function"||De===x.memoizedProps&&ut===x.memoizedState||(E.flags|=4),typeof ge.getSnapshotBeforeUpdate!="function"||De===x.memoizedProps&&ut===x.memoizedState||(E.flags|=256),V=!1)}return cp(x,E,j,V,oe,H)}function cp(x,E,j,V,H,oe){LA(x,E);var ge=(64&E.flags)!=0;if(!V&&!ge)return H&&Ys(E,j,!1),Pc(x,E,oe);V=E.stateNode,DP.current=E;var De=ge&&typeof j.getDerivedStateFromError!="function"?null:V.render();return E.flags|=1,x!==null&&ge?(E.child=ih(E,x.child,null,oe),E.child=ih(E,null,De,oe)):Ss(x,E,De,oe),E.memoizedState=V.state,H&&Ys(E,j,!0),E.child}function $y(x){var E=x.stateNode;E.pendingContext?SA(0,E.pendingContext,E.pendingContext!==E.context):E.context&&SA(0,E.context,!1),ip(x,E.containerInfo)}var BA,Fx,Lx,zA,Ux={dehydrated:null,retryLane:0};function VA(x,E,j){var V,H=E.pendingProps,oe=Ei.current,ge=!1;return(V=(64&E.flags)!=0)||(V=(x===null||x.memoizedState!==null)&&(2&oe)!=0),V?(ge=!0,E.flags&=-65):x!==null&&x.memoizedState===null||H.fallback===void 0||H.unstable_avoidThisFallback===!0||(oe|=1),Qt(Ei,1&oe),x===null?(H.fallback!==void 0&&Oy(E),x=H.children,oe=H.fallback,ge?(x=Fu(E,x,oe,j),E.child.memoizedState={baseLanes:j},E.memoizedState=Ux,x):typeof H.unstable_expectedLoadTime=="number"?(x=Fu(E,x,oe,j),E.child.memoizedState={baseLanes:j},E.memoizedState=Ux,E.lanes=33554432,x):((j=Jx({mode:"visible",children:x},E.mode,j,null)).return=E,E.child=j)):(x.memoizedState,ge?(H=WA(x,E,H.children,H.fallback,j),ge=E.child,oe=x.child.memoizedState,ge.memoizedState=oe===null?{baseLanes:j}:{baseLanes:oe.baseLanes|j},ge.childLanes=x.childLanes&~j,E.memoizedState=Ux,H):(j=NP(x,E,H.children,j),E.memoizedState=null,j))}function Fu(x,E,j,V){var H=x.mode,oe=x.child;return E={mode:"hidden",children:E},!(2&H)&&oe!==null?(oe.childLanes=0,oe.pendingProps=E):oe=Jx(E,H,0,null),j=dh(j,H,V,null),oe.return=x,j.return=x,oe.sibling=j,x.child=oe,j}function NP(x,E,j,V){var H=x.child;return x=H.sibling,j=Hu(H,{mode:"visible",children:j}),!(2&E.mode)&&(j.lanes=V),j.return=E,j.sibling=null,x!==null&&(x.nextEffect=null,x.flags=8,E.firstEffect=E.lastEffect=x),E.child=j}function WA(x,E,j,V,H){var oe=E.mode,ge=x.child;x=ge.sibling;var De={mode:"hidden",children:j};return!(2&oe)&&E.child!==ge?((j=E.child).childLanes=0,j.pendingProps=De,(ge=j.lastEffect)!==null?(E.firstEffect=j.firstEffect,E.lastEffect=ge,ge.nextEffect=null):E.firstEffect=E.lastEffect=null):j=Hu(ge,De),x!==null?V=Hu(x,V):(V=dh(V,oe,H,null)).flags|=2,V.return=E,j.return=E,j.sibling=V,E.child=j,V}function $A(x,E){x.lanes|=E;var j=x.alternate;j!==null&&(j.lanes|=E),Tx(x.return,E)}function Bx(x,E,j,V,H,oe){var ge=x.memoizedState;ge===null?x.memoizedState={isBackwards:E,rendering:null,renderingStartTime:0,last:V,tail:j,tailMode:H,lastEffect:oe}:(ge.isBackwards=E,ge.rendering=null,ge.renderingStartTime=0,ge.last=V,ge.tail=j,ge.tailMode=H,ge.lastEffect=oe)}function qA(x,E,j){var V=E.pendingProps,H=V.revealOrder,oe=V.tail;if(Ss(x,E,V.children,j),(2&(V=Ei.current))!=0)V=1&V|2,E.flags|=64;else{if(x!==null&&64&x.flags)e:for(x=E.child;x!==null;){if(x.tag===13)x.memoizedState!==null&&$A(x,j);else if(x.tag===19)$A(x,j);else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===E)break e;for(;x.sibling===null;){if(x.return===null||x.return===E)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}V&=1}if(Qt(Ei,V),(2&E.mode)==0)E.memoizedState=null;else switch(H){case"forwards":for(j=E.child,H=null;j!==null;)(x=j.alternate)!==null&&Iu(x)===null&&(H=j),j=j.sibling;(j=H)===null?(H=E.child,E.child=null):(H=j.sibling,j.sibling=null),Bx(E,!1,H,j,oe,E.lastEffect);break;case"backwards":for(j=null,H=E.child,E.child=null;H!==null;){if((x=H.alternate)!==null&&Iu(x)===null){E.child=H;break}x=H.sibling,H.sibling=j,j=H,H=x}Bx(E,!0,j,null,oe,E.lastEffect);break;case"together":Bx(E,!1,null,null,void 0,E.lastEffect);break;default:E.memoizedState=null}return E.child}function Pc(x,E,j){if(x!==null&&(E.dependencies=x.dependencies),lh|=E.lanes,(j&E.childLanes)!=0){if(x!==null&&E.child!==x.child)throw Error(v(153));if(E.child!==null){for(j=Hu(x=E.child,x.pendingProps),E.child=j,j.return=E;x.sibling!==null;)x=x.sibling,(j=j.sibling=Hu(x,x.pendingProps)).return=E;j.sibling=null}return E.child}return null}function qy(x,E){if(!Ks)switch(x.tailMode){case"hidden":E=x.tail;for(var j=null;E!==null;)E.alternate!==null&&(j=E),E=E.sibling;j===null?x.tail=null:j.sibling=null;break;case"collapsed":j=x.tail;for(var V=null;j!==null;)j.alternate!==null&&(V=j),j=j.sibling;V===null?E||x.tail===null?x.tail=null:x.tail.sibling=null:V.sibling=null}}function PP(x,E,j){var V=E.pendingProps;switch(E.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return $n(E.type)&&wx(),null;case 3:return Ol(),_i(ns),_i(Xi),Ly(),(V=E.stateNode).pendingContext&&(V.context=V.pendingContext,V.pendingContext=null),x!==null&&x.child!==null||(rp(E)?E.flags|=4:V.hydrate||(E.flags|=256)),Fx(E),null;case 5:Dx(E);var H=rh(Pu.current);if(j=E.type,x!==null&&E.stateNode!=null)Lx(x,E,j,V,H),x.ref!==E.ref&&(E.flags|=128);else{if(!V){if(E.stateNode===null)throw Error(v(166));return null}if(x=rh(No.current),rp(E)){V=E.stateNode,j=E.type;var oe=E.memoizedProps;switch(V[Ec]=E,V[Ag]=oe,j){case"dialog":ti("cancel",V),ti("close",V);break;case"iframe":case"object":case"embed":ti("load",V);break;case"video":case"audio":for(x=0;x<Ma.length;x++)ti(Ma[x],V);break;case"source":ti("error",V);break;case"img":case"image":case"link":ti("error",V),ti("load",V);break;case"details":ti("toggle",V);break;case"input":ve(V,oe),ti("invalid",V);break;case"select":V._wrapperState={wasMultiple:!!oe.multiple},ti("invalid",V);break;case"textarea":Ct(V,oe),ti("invalid",V)}for(var ge in on(j,oe),x=null,oe)oe.hasOwnProperty(ge)&&(H=oe[ge],ge==="children"?typeof H=="string"?V.textContent!==H&&(x=["children",H]):typeof H=="number"&&V.textContent!==""+H&&(x=["children",""+H]):A.hasOwnProperty(ge)&&H!=null&&ge==="onScroll"&&ti("scroll",V));switch(j){case"input":Ve(V),Je(V,oe,!0);break;case"textarea":Ve(V),At(V);break;case"select":case"option":break;default:typeof oe.onClick=="function"&&(V.onclick=Wn)}V=x,E.updateQueue=V,V!==null&&(E.flags|=4)}else{switch(ge=H.nodeType===9?H:H.ownerDocument,x===Zt.html&&(x=qt(j)),x===Zt.html?j==="script"?((x=ge.createElement("div")).innerHTML="<script><\/script>",x=x.removeChild(x.firstChild)):typeof V.is=="string"?x=ge.createElement(j,{is:V.is}):(x=ge.createElement(j),j==="select"&&(ge=x,V.multiple?ge.multiple=!0:V.size&&(ge.size=V.size))):x=ge.createElementNS(x,j),x[Ec]=E,x[Ag]=V,BA(x,E,!1,!1),E.stateNode=x,ge=Mn(j,V),j){case"dialog":ti("cancel",x),ti("close",x),H=V;break;case"iframe":case"object":case"embed":ti("load",x),H=V;break;case"video":case"audio":for(H=0;H<Ma.length;H++)ti(Ma[H],x);H=V;break;case"source":ti("error",x),H=V;break;case"img":case"image":case"link":ti("error",x),ti("load",x),H=V;break;case"details":ti("toggle",x),H=V;break;case"input":ve(x,V),H=Ee(x,V),ti("invalid",x);break;case"option":H=dt(x,V);break;case"select":x._wrapperState={wasMultiple:!!V.multiple},H=g({},V,{value:void 0}),ti("invalid",x);break;case"textarea":Ct(x,V),H=Ot(x,V),ti("invalid",x);break;default:H=V}on(j,H);var De=H;for(oe in De)if(De.hasOwnProperty(oe)){var qe=De[oe];oe==="style"?mt(x,qe):oe==="dangerouslySetInnerHTML"?(qe=qe?qe.__html:void 0)!=null&&qi(x,qe):oe==="children"?typeof qe=="string"?(j!=="textarea"||qe!=="")&&Pi(x,qe):typeof qe=="number"&&Pi(x,""+qe):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(A.hasOwnProperty(oe)?qe!=null&&oe==="onScroll"&&ti("scroll",x):qe!=null&&se(x,oe,qe,ge))}switch(j){case"input":Ve(x),Je(x,V,!1);break;case"textarea":Ve(x),At(x);break;case"option":V.value!=null&&x.setAttribute("value",""+_e(V.value));break;case"select":x.multiple=!!V.multiple,(oe=V.value)!=null?ft(x,!!V.multiple,oe,!1):V.defaultValue!=null&&ft(x,!!V.multiple,V.defaultValue,!0);break;default:typeof H.onClick=="function"&&(x.onclick=Wn)}Dn(j,V)&&(E.flags|=4)}E.ref!==null&&(E.flags|=128)}return null;case 6:if(x&&E.stateNode!=null)zA(x,E,x.memoizedProps,V);else{if(typeof V!="string"&&E.stateNode===null)throw Error(v(166));j=rh(Pu.current),rh(No.current),rp(E)?(V=E.stateNode,j=E.memoizedProps,V[Ec]=E,V.nodeValue!==j&&(E.flags|=4)):((V=(j.nodeType===9?j:j.ownerDocument).createTextNode(V))[Ec]=E,E.stateNode=V)}return null;case 13:return _i(Ei),V=E.memoizedState,64&E.flags?(E.lanes=j,E):(V=V!==null,j=!1,x===null?E.memoizedProps.fallback!==void 0&&rp(E):j=x.memoizedState!==null,V&&!j&&2&E.mode&&(x===null&&E.memoizedProps.unstable_avoidThisFallback!==!0||1&Ei.current?Dr===0&&(Dr=3):(Dr!==0&&Dr!==3||(Dr=4),zr===null||!(134217727&lh)&&!(134217727&zu)||gp(zr,Yi))),(V||j)&&(E.flags|=4),null);case 4:return Ol(),Fx(E),x===null&&he(E.stateNode.containerInfo),null;case 10:return jy(E),null;case 19:if(_i(Ei),(V=E.memoizedState)===null)return null;if(oe=(64&E.flags)!=0,(ge=V.rendering)===null)if(oe)qy(V,!1);else{if(Dr!==0||x!==null&&64&x.flags)for(x=E.child;x!==null;){if((ge=Iu(x))!==null){for(E.flags|=64,qy(V,!1),(oe=ge.updateQueue)!==null&&(E.updateQueue=oe,E.flags|=4),V.lastEffect===null&&(E.firstEffect=null),E.lastEffect=V.lastEffect,V=j,j=E.child;j!==null;)x=V,(oe=j).flags&=2,oe.nextEffect=null,oe.firstEffect=null,oe.lastEffect=null,(ge=oe.alternate)===null?(oe.childLanes=0,oe.lanes=x,oe.child=null,oe.memoizedProps=null,oe.memoizedState=null,oe.updateQueue=null,oe.dependencies=null,oe.stateNode=null):(oe.childLanes=ge.childLanes,oe.lanes=ge.lanes,oe.child=ge.child,oe.memoizedProps=ge.memoizedProps,oe.memoizedState=ge.memoizedState,oe.updateQueue=ge.updateQueue,oe.type=ge.type,x=ge.dependencies,oe.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext}),j=j.sibling;return Qt(Ei,1&Ei.current|2),E.child}x=x.sibling}V.tail!==null&&mr()>Xx&&(E.flags|=64,oe=!0,qy(V,!1),E.lanes=33554432)}else{if(!oe)if((x=Iu(ge))!==null){if(E.flags|=64,oe=!0,(j=x.updateQueue)!==null&&(E.updateQueue=j,E.flags|=4),qy(V,!0),V.tail===null&&V.tailMode==="hidden"&&!ge.alternate&&!Ks)return(E=E.lastEffect=V.lastEffect)!==null&&(E.nextEffect=null),null}else 2*mr()-V.renderingStartTime>Xx&&j!==1073741824&&(E.flags|=64,oe=!0,qy(V,!1),E.lanes=33554432);V.isBackwards?(ge.sibling=E.child,E.child=ge):((j=V.last)!==null?j.sibling=ge:E.child=ge,V.last=ge)}return V.tail!==null?(j=V.tail,V.rendering=j,V.tail=j.sibling,V.lastEffect=E.lastEffect,V.renderingStartTime=mr(),j.sibling=null,E=Ei.current,Qt(Ei,oe?1&E|2:1&E),j):null;case 23:case 24:return tv(),x!==null&&x.memoizedState!==null!=(E.memoizedState!==null)&&V.mode!=="unstable-defer-without-hiding"&&(E.flags|=4),null}throw Error(v(156,E.tag))}function IP(x){switch(x.tag){case 1:$n(x.type)&&wx();var E=x.flags;return 4096&E?(x.flags=-4097&E|64,x):null;case 3:if(Ol(),_i(ns),_i(Xi),Ly(),(64&(E=x.flags))!=0)throw Error(v(285));return x.flags=-4097&E|64,x;case 5:return Dx(x),null;case 13:return _i(Ei),4096&(E=x.flags)?(x.flags=-4097&E|64,x):null;case 19:return _i(Ei),null;case 4:return Ol(),null;case 10:return jy(x),null;case 23:case 24:return tv(),null;default:return null}}function zx(x,E){try{var j="",V=E;do j+=Me(V),V=V.return;while(V);var H=j}catch(oe){H=`
Error generating stack: `+oe.message+`
`+oe.stack}return{value:x,source:E,stack:H}}function Hy(x,E){try{console.error(E.value)}catch(j){setTimeout(function(){throw j})}}BA=function(x,E){for(var j=E.child;j!==null;){if(j.tag===5||j.tag===6)x.appendChild(j.stateNode);else if(j.tag!==4&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===E)break;for(;j.sibling===null;){if(j.return===null||j.return===E)return;j=j.return}j.sibling.return=j.return,j=j.sibling}},Fx=function(){},Lx=function(x,E,j,V){var H=x.memoizedProps;if(H!==V){x=E.stateNode,rh(No.current);var oe,ge=null;switch(j){case"input":H=Ee(x,H),V=Ee(x,V),ge=[];break;case"option":H=dt(x,H),V=dt(x,V),ge=[];break;case"select":H=g({},H,{value:void 0}),V=g({},V,{value:void 0}),ge=[];break;case"textarea":H=Ot(x,H),V=Ot(x,V),ge=[];break;default:typeof H.onClick!="function"&&typeof V.onClick=="function"&&(x.onclick=Wn)}for(Ye in on(j,V),j=null,H)if(!V.hasOwnProperty(Ye)&&H.hasOwnProperty(Ye)&&H[Ye]!=null)if(Ye==="style"){var De=H[Ye];for(oe in De)De.hasOwnProperty(oe)&&(j||(j={}),j[oe]="")}else Ye!=="dangerouslySetInnerHTML"&&Ye!=="children"&&Ye!=="suppressContentEditableWarning"&&Ye!=="suppressHydrationWarning"&&Ye!=="autoFocus"&&(A.hasOwnProperty(Ye)?ge||(ge=[]):(ge=ge||[]).push(Ye,null));for(Ye in V){var qe=V[Ye];if(De=H!=null?H[Ye]:void 0,V.hasOwnProperty(Ye)&&qe!==De&&(qe!=null||De!=null))if(Ye==="style")if(De){for(oe in De)!De.hasOwnProperty(oe)||qe&&qe.hasOwnProperty(oe)||(j||(j={}),j[oe]="");for(oe in qe)qe.hasOwnProperty(oe)&&De[oe]!==qe[oe]&&(j||(j={}),j[oe]=qe[oe])}else j||(ge||(ge=[]),ge.push(Ye,j)),j=qe;else Ye==="dangerouslySetInnerHTML"?(qe=qe?qe.__html:void 0,De=De?De.__html:void 0,qe!=null&&De!==qe&&(ge=ge||[]).push(Ye,qe)):Ye==="children"?typeof qe!="string"&&typeof qe!="number"||(ge=ge||[]).push(Ye,""+qe):Ye!=="suppressContentEditableWarning"&&Ye!=="suppressHydrationWarning"&&(A.hasOwnProperty(Ye)?(qe!=null&&Ye==="onScroll"&&ti("scroll",x),ge||De===qe||(ge=[])):typeof qe=="object"&&qe!==null&&qe.$$typeof===Se?qe.toString():(ge=ge||[]).push(Ye,qe))}j&&(ge=ge||[]).push("style",j);var Ye=ge;(E.updateQueue=Ye)&&(E.flags|=4)}},zA=function(x,E,j,V){j!==V&&(E.flags|=4)};var HA=typeof WeakMap=="function"?WeakMap:Map;function GA(x,E,j){(j=Ml(-1,j)).tag=3,j.payload={element:null};var V=E.value;return j.callback=function(){Lg||(Lg=!0,Ug=V),Hy(0,E)},j}function XA(x,E,j){(j=Ml(-1,j)).tag=3;var V=x.type.getDerivedStateFromError;if(typeof V=="function"){var H=E.value;j.payload=function(){return Hy(0,E),V(H)}}var oe=x.stateNode;return oe!==null&&typeof oe.componentDidCatch=="function"&&(j.callback=function(){typeof V!="function"&&(Ul===null?Ul=new Set([this]):Ul.add(this),Hy(0,E));var ge=E.stack;this.componentDidCatch(E.value,{componentStack:ge!==null?ge:""})}),j}var jP=typeof WeakSet=="function"?WeakSet:Set;function YA(x){var E=x.ref;if(E!==null)if(typeof E=="function")try{E(null)}catch(j){qu(x,j)}else E.current=null}function Vx(x,E){switch(E.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&E.flags&&x!==null){var j=x.memoizedProps,V=x.memoizedState;E=(x=E.stateNode).getSnapshotBeforeUpdate(E.elementType===E.type?j:ia(E.type,j),V),x.__reactInternalSnapshotBeforeUpdate=E}return;case 3:return void(256&E.flags&&Jd(E.stateNode.containerInfo))}throw Error(v(163))}function Wx(x,E,j){switch(j.tag){case 0:case 11:case 15:case 22:if((E=(E=j.updateQueue)!==null?E.lastEffect:null)!==null){x=E=E.next;do{if((3&x.tag)==3){var V=x.create;x.destroy=V()}x=x.next}while(x!==E)}if((E=(E=j.updateQueue)!==null?E.lastEffect:null)!==null){x=E=E.next;do{var H=x;V=H.next,4&(H=H.tag)&&1&H&&(Oc(j,x),yp(j,x)),x=V}while(x!==E)}return;case 1:return x=j.stateNode,4&j.flags&&(E===null?x.componentDidMount():(V=j.elementType===j.type?E.memoizedProps:ia(j.type,E.memoizedProps),x.componentDidUpdate(V,E.memoizedState,x.__reactInternalSnapshotBeforeUpdate))),void((E=j.updateQueue)!==null&&Pg(j,E,x));case 3:if((E=j.updateQueue)!==null){if(x=null,j.child!==null)switch(j.child.tag){case 5:case 1:x=j.child.stateNode}Pg(j,E,x)}return;case 5:return x=j.stateNode,void(E===null&&4&j.flags&&Dn(j.type,j.memoizedProps)&&x.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(j.memoizedState===null&&(j=j.alternate,j!==null&&(j=j.memoizedState,j!==null&&(j=j.dehydrated,j!==null&&ko(j)))))}throw Error(v(163))}function Zs(x,E){for(var j=x;;){if(j.tag===5){var V=j.stateNode;if(E)typeof(V=V.style).setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{V=j.stateNode;var H=j.memoizedProps.style;H=H!=null&&H.hasOwnProperty("display")?H.display:null,V.style.display=yi("display",H)}}else if(j.tag===6)j.stateNode.nodeValue=E?"":j.memoizedProps;else if((j.tag!==23&&j.tag!==24||j.memoizedState===null||j===x)&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===x)break;for(;j.sibling===null;){if(j.return===null||j.return===x)return;j=j.return}j.sibling.return=j.return,j=j.sibling}}function $x(x,E){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(ki,E)}catch{}switch(E.tag){case 0:case 11:case 14:case 15:case 22:if((x=E.updateQueue)!==null&&(x=x.lastEffect)!==null){var j=x=x.next;do{var V=j,H=V.destroy;if(V=V.tag,H!==void 0)if(4&V)Oc(E,j);else{V=E;try{H()}catch(oe){qu(V,oe)}}j=j.next}while(j!==x)}break;case 1:if(YA(E),typeof(x=E.stateNode).componentWillUnmount=="function")try{x.props=E.memoizedProps,x.state=E.memoizedState,x.componentWillUnmount()}catch(oe){qu(E,oe)}break;case 5:YA(E);break;case 4:Lu(x,E)}}function up(x){x.alternate=null,x.child=null,x.dependencies=null,x.firstEffect=null,x.lastEffect=null,x.memoizedProps=null,x.memoizedState=null,x.pendingProps=null,x.return=null,x.updateQueue=null}function qx(x){return x.tag===5||x.tag===3||x.tag===4}function Og(x){e:{for(var E=x.return;E!==null;){if(qx(E))break e;E=E.return}throw Error(v(160))}var j=E;switch(E=j.stateNode,j.tag){case 5:var V=!1;break;case 3:case 4:E=E.containerInfo,V=!0;break;default:throw Error(v(161))}16&j.flags&&(Pi(E,""),j.flags&=-17);e:t:for(j=x;;){for(;j.sibling===null;){if(j.return===null||qx(j.return)){j=null;break e}j=j.return}for(j.sibling.return=j.return,j=j.sibling;j.tag!==5&&j.tag!==6&&j.tag!==18;){if(2&j.flags||j.child===null||j.tag===4)continue t;j.child.return=j,j=j.child}if(!(2&j.flags)){j=j.stateNode;break e}}V?Gy(x,j,E):Xy(x,j,E)}function Gy(x,E,j){var V=x.tag,H=V===5||V===6;if(H)x=H?x.stateNode:x.stateNode.instance,E?j.nodeType===8?j.parentNode.insertBefore(x,E):j.insertBefore(x,E):(j.nodeType===8?(E=j.parentNode).insertBefore(x,j):(E=j).appendChild(x),(j=j._reactRootContainer)!=null||E.onclick!==null||(E.onclick=Wn));else if(V!==4&&(x=x.child)!==null)for(Gy(x,E,j),x=x.sibling;x!==null;)Gy(x,E,j),x=x.sibling}function Xy(x,E,j){var V=x.tag,H=V===5||V===6;if(H)x=H?x.stateNode:x.stateNode.instance,E?j.insertBefore(x,E):j.appendChild(x);else if(V!==4&&(x=x.child)!==null)for(Xy(x,E,j),x=x.sibling;x!==null;)Xy(x,E,j),x=x.sibling}function Lu(x,E){for(var j,V,H=E,oe=!1;;){if(!oe){oe=H.return;e:for(;;){if(oe===null)throw Error(v(160));switch(j=oe.stateNode,oe.tag){case 5:V=!1;break e;case 3:case 4:j=j.containerInfo,V=!0;break e}oe=oe.return}oe=!0}if(H.tag===5||H.tag===6){e:for(var ge=x,De=H,qe=De;;)if($x(ge,qe),qe.child!==null&&qe.tag!==4)qe.child.return=qe,qe=qe.child;else{if(qe===De)break e;for(;qe.sibling===null;){if(qe.return===null||qe.return===De)break e;qe=qe.return}qe.sibling.return=qe.return,qe=qe.sibling}V?(ge=j,De=H.stateNode,ge.nodeType===8?ge.parentNode.removeChild(De):ge.removeChild(De)):j.removeChild(H.stateNode)}else if(H.tag===4){if(H.child!==null){j=H.stateNode.containerInfo,V=!0,H.child.return=H,H=H.child;continue}}else if($x(x,H),H.child!==null){H.child.return=H,H=H.child;continue}if(H===E)break;for(;H.sibling===null;){if(H.return===null||H.return===E)return;(H=H.return).tag===4&&(oe=!1)}H.sibling.return=H.return,H=H.sibling}}function bt(x,E){switch(E.tag){case 0:case 11:case 14:case 15:case 22:var j=E.updateQueue;if((j=j!==null?j.lastEffect:null)!==null){var V=j=j.next;do(3&V.tag)==3&&(x=V.destroy,V.destroy=void 0,x!==void 0&&x()),V=V.next;while(V!==j)}return;case 1:case 12:case 17:return;case 5:if((j=E.stateNode)!=null){V=E.memoizedProps;var H=x!==null?x.memoizedProps:V;x=E.type;var oe=E.updateQueue;if(E.updateQueue=null,oe!==null){for(j[Ag]=V,x==="input"&&V.type==="radio"&&V.name!=null&&ae(j,V),Mn(x,H),E=Mn(x,V),H=0;H<oe.length;H+=2){var ge=oe[H],De=oe[H+1];ge==="style"?mt(j,De):ge==="dangerouslySetInnerHTML"?qi(j,De):ge==="children"?Pi(j,De):se(j,ge,De,E)}switch(x){case"input":Ue(j,V);break;case"textarea":$t(j,V);break;case"select":x=j._wrapperState.wasMultiple,j._wrapperState.wasMultiple=!!V.multiple,(oe=V.value)!=null?ft(j,!!V.multiple,oe,!1):x!==!!V.multiple&&(V.defaultValue!=null?ft(j,!!V.multiple,V.defaultValue,!0):ft(j,!!V.multiple,V.multiple?[]:"",!1))}}}return;case 6:if(E.stateNode===null)throw Error(v(162));return void(E.stateNode.nodeValue=E.memoizedProps);case 3:return void((j=E.stateNode).hydrate&&(j.hydrate=!1,ko(j.containerInfo)));case 13:return E.memoizedState!==null&&(Gx=mr(),Zs(E.child,!0)),void nn(E);case 19:return void nn(E);case 23:case 24:return void Zs(E,E.memoizedState!==null)}throw Error(v(163))}function nn(x){var E=x.updateQueue;if(E!==null){x.updateQueue=null;var j=x.stateNode;j===null&&(j=x.stateNode=new jP),E.forEach(function(V){var H=OP.bind(null,x,V);j.has(V)||(j.add(V),V.then(H,H))})}}function Yy(x,E){return x!==null&&((x=x.memoizedState)===null||x.dehydrated!==null)&&(E=E.memoizedState)!==null&&E.dehydrated===null}var Va=Math.ceil,dp=de.ReactCurrentDispatcher,Uu=de.ReactCurrentOwner,mn=0,zr=null,ji=null,Yi=0,Bu=0,Fg=Su(0),Dr=0,Ll=null,hp=0,lh=0,zu=0,Hx=0,fp=null,Gx=0,Xx=1/0;function Vu(){Xx=mr()+500}var KA,kt=null,Lg=!1,Ug=null,Ul=null,Ic=!1,ch=null,pp=90,Yx=[],Ky=[],Wa=null,jc=0,Zy=null,Bg=-1,Bl=0,zg=0,As=null,Wu=!1;function wi(){return 48&mn?mr():Bg!==-1?Bg:Bg=mr()}function sa(x){if(!(2&(x=x.mode)))return 1;if(!(4&x))return jl()===99?1:2;if(Bl===0&&(Bl=hp),Dy.transition!==0){zg!==0&&(zg=fp!==null?fp.pendingLanes:0),x=Bl;var E=4186112&~zg;return(E&=-E)===0&&(E=(x=4186112&~x)&-x)===0&&(E=8192),E}return x=jl(),4&mn&&x===98?x=If(12,Bl):x=If(x=function(j){switch(j){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(x),Bl),x}function Rc(x,E,j){if(50<jc)throw jc=0,Zy=null,Error(v(185));if((x=Jy(x,E))===null)return null;Vn(x,E,j),x===zr&&(zu|=E,Dr===4&&gp(x,Yi));var V=jl();E===1?8&mn&&!(48&mn)?Qy(x):(Ts(x,j),mn===0&&(Vu(),Rl())):(!(4&mn)||V!==98&&V!==99||(Wa===null?Wa=new Set([x]):Wa.add(x)),Ts(x,j)),fp=x}function Jy(x,E){x.lanes|=E;var j=x.alternate;for(j!==null&&(j.lanes|=E),j=x,x=x.return;x!==null;)x.childLanes|=E,(j=x.alternate)!==null&&(j.childLanes|=E),j=x,x=x.return;return j.tag===3?j.stateNode:null}function Ts(x,E){for(var j=x.callbackNode,V=x.suspendedLanes,H=x.pingedLanes,oe=x.expirationTimes,ge=x.pendingLanes;0<ge;){var De=31-Tl(ge),qe=1<<De,Ye=oe[De];if(Ye===-1){if(!(qe&V)||qe&H){Ye=E,Sl(qe);var ht=zn;oe[De]=10<=ht?Ye+250:6<=ht?Ye+5e3:-1}}else Ye<=E&&(x.expiredLanes|=qe);ge&=~qe}if(V=yu(x,x===zr?Yi:0),E=zn,V===0)j!==null&&(j!==Ex&&Cg(j),x.callbackNode=null,x.callbackPriority=0);else{if(j!==null){if(x.callbackPriority===E)return;j!==Ex&&Cg(j)}E===15?(j=Qy.bind(null,x),Sc===null?(Sc=[j],jt=La(na,Ax)):Sc.push(j),j=Ex):E===14?j=Ac(99,Qy.bind(null,x)):(j=function(St){switch(St){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(v(358,St))}}(E),j=Ac(j,mp.bind(null,x))),x.callbackPriority=E,x.callbackNode=j}}function mp(x){if(Bg=-1,zg=Bl=0,(48&mn)!=0)throw Error(v(327));var E=x.callbackNode;if(Mc()&&x.callbackNode!==E)return null;var j=yu(x,x===zr?Yi:0);if(j===0)return null;var V=j,H=mn;mn|=16;var oe=eT();for(zr===x&&Yi===V||(Vu(),bp(x,V));;)try{nT();break}catch(De){QA(x,De)}if(Iy(),dp.current=oe,mn=H,ji!==null?V=0:(zr=null,Yi=0,V=Dr),(hp&zu)!=0)bp(x,0);else if(V!==0){if(V===2&&(mn|=64,x.hydrate&&(x.hydrate=!1,Jd(x.containerInfo)),(j=vu(x))!==0&&(V=$u(x,j))),V===1)throw E=Ll,bp(x,0),gp(x,j),Ts(x,mr()),E;switch(x.finishedWork=x.current.alternate,x.finishedLanes=j,V){case 0:case 1:throw Error(v(345));case 2:case 5:uh(x);break;case 3:if(gp(x,j),(62914560&j)===j&&10<(V=Gx+500-mr())){if(yu(x,0)!==0)break;if(((H=x.suspendedLanes)&j)!==j){wi(),x.pingedLanes|=x.suspendedLanes&H;break}x.timeoutHandle=ts(uh.bind(null,x),V);break}uh(x);break;case 4:if(gp(x,j),(4186112&j)===j)break;for(V=x.eventTimes,H=-1;0<j;){var ge=31-Tl(j);oe=1<<ge,(ge=V[ge])>H&&(H=ge),j&=~oe}if(j=H,10<(j=(120>(j=mr()-j)?120:480>j?480:1080>j?1080:1920>j?1920:3e3>j?3e3:4320>j?4320:1960*Va(j/1960))-j)){x.timeoutHandle=ts(uh.bind(null,x),j);break}uh(x);break;default:throw Error(v(329))}}return Ts(x,mr()),x.callbackNode===E?mp.bind(null,x):null}function gp(x,E){for(E&=~Hx,E&=~zu,x.suspendedLanes|=E,x.pingedLanes&=~E,x=x.expirationTimes;0<E;){var j=31-Tl(E),V=1<<j;x[j]=-1,E&=~V}}function Qy(x){if(48&mn)throw Error(v(327));if(Mc(),x===zr&&(x.expiredLanes&Yi)!=0){var E=Yi,j=$u(x,E);hp&zu&&(j=$u(x,E=yu(x,E)))}else j=$u(x,E=yu(x,0));if(x.tag!==0&&j===2&&(mn|=64,x.hydrate&&(x.hydrate=!1,Jd(x.containerInfo)),(E=vu(x))!==0&&(j=$u(x,E))),j===1)throw j=Ll,bp(x,0),gp(x,E),Ts(x,mr()),j;return x.finishedWork=x.current.alternate,x.finishedLanes=E,uh(x),Ts(x,mr()),null}function ZA(x,E){var j=mn;mn|=1;try{return x(E)}finally{(mn=j)===0&&(Vu(),Rl())}}function JA(x,E){var j=mn;mn&=-2,mn|=8;try{return x(E)}finally{(mn=j)===0&&(Vu(),Rl())}}function ev(x,E){Qt(Fg,Bu),Bu|=E,hp|=E}function tv(){Bu=Fg.current,_i(Fg)}function bp(x,E){x.finishedWork=null,x.finishedLanes=0;var j=x.timeoutHandle;if(j!==-1&&(x.timeoutHandle=-1,kc(j)),ji!==null)for(j=ji.return;j!==null;){var V=j;switch(V.tag){case 1:(V=V.type.childContextTypes)!=null&&wx();break;case 3:Ol(),_i(ns),_i(Xi),Ly();break;case 5:Dx(V);break;case 4:Ol();break;case 13:case 19:_i(Ei);break;case 10:jy(V);break;case 23:case 24:tv()}j=j.return}zr=x,ji=Hu(x.current,null),Yi=Bu=hp=E,Dr=0,Ll=null,Hx=zu=lh=0}function QA(x,E){for(;;){var j=ji;try{if(Iy(),st.current=Vy,jg){for(var V=Ui.memoizedState;V!==null;){var H=V.queue;H!==null&&(H.pending=null),V=V.next}jg=!1}if(pn=0,Cr=is=Ui=null,op=!1,Uu.current=null,j===null||j.return===null){Dr=1,Ll=E,ji=null;break}e:{var oe=x,ge=j.return,De=j,qe=E;if(E=Yi,De.flags|=2048,De.firstEffect=De.lastEffect=null,qe!==null&&typeof qe=="object"&&typeof qe.then=="function"){var Ye=qe;if(!(2&De.mode)){var ht=De.alternate;ht?(De.updateQueue=ht.updateQueue,De.memoizedState=ht.memoizedState,De.lanes=ht.lanes):(De.updateQueue=null,De.memoizedState=null)}var St=(1&Ei.current)!=0,ut=ge;do{var Xt;if(Xt=ut.tag===13){var hn=ut.memoizedState;if(hn!==null)Xt=hn.dehydrated!==null;else{var an=ut.memoizedProps;Xt=an.fallback!==void 0&&(an.unstable_avoidThisFallback!==!0||!St)}}if(Xt){var Ze=ut.updateQueue;if(Ze===null){var Xe=new Set;Xe.add(Ye),ut.updateQueue=Xe}else Ze.add(Ye);if(!(2&ut.mode)){if(ut.flags|=64,De.flags|=16384,De.flags&=-2981,De.tag===1)if(De.alternate===null)De.tag=17;else{var Ke=Ml(-1,1);Ke.tag=2,Tc(De,Ke)}De.lanes|=1;break e}qe=void 0,De=E;var it=oe.pingCache;if(it===null?(it=oe.pingCache=new HA,qe=new Set,it.set(Ye,qe)):(qe=it.get(Ye))===void 0&&(qe=new Set,it.set(Ye,qe)),!qe.has(De)){qe.add(De);var ot=MP.bind(null,oe,Ye,De);Ye.then(ot,ot)}ut.flags|=4096,ut.lanes=E;break e}ut=ut.return}while(ut!==null);qe=Error((ye(De.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Dr!==5&&(Dr=2),qe=zx(qe,De),ut=ge;do{switch(ut.tag){case 3:oe=qe,ut.flags|=4096,E&=-E,ut.lanes|=E,Cx(ut,GA(0,oe,E));break e;case 1:oe=qe;var tn=ut.type,Tt=ut.stateNode;if(!(64&ut.flags)&&(typeof tn.getDerivedStateFromError=="function"||Tt!==null&&typeof Tt.componentDidCatch=="function"&&(Ul===null||!Ul.has(Tt)))){ut.flags|=4096,E&=-E,ut.lanes|=E,Cx(ut,XA(ut,oe,E));break e}}ut=ut.return}while(ut!==null)}Kx(j)}catch(fn){E=fn,ji===j&&j!==null&&(ji=j=j.return);continue}break}}function eT(){var x=dp.current;return dp.current=Vy,x===null?Vy:x}function $u(x,E){var j=mn;mn|=16;var V=eT();for(zr===x&&Yi===E||bp(x,E);;)try{tT();break}catch(H){QA(x,H)}if(Iy(),mn=j,dp.current=V,ji!==null)throw Error(v(261));return zr=null,Yi=0,Dr}function tT(){for(;ji!==null;)iT(ji)}function nT(){for(;ji!==null&&!_x();)iT(ji)}function iT(x){var E=KA(x.alternate,x,Bu);x.memoizedProps=x.pendingProps,E===null?Kx(x):ji=E,Uu.current=null}function Kx(x){var E=x;do{var j=E.alternate;if(x=E.return,(2048&E.flags)==0){if((j=PP(j,E,Bu))!==null)return void(ji=j);if((j=E).tag!==24&&j.tag!==23||j.memoizedState===null||1073741824&Bu||!(4&j.mode)){for(var V=0,H=j.child;H!==null;)V|=H.lanes|H.childLanes,H=H.sibling;j.childLanes=V}x!==null&&!(2048&x.flags)&&(x.firstEffect===null&&(x.firstEffect=E.firstEffect),E.lastEffect!==null&&(x.lastEffect!==null&&(x.lastEffect.nextEffect=E.firstEffect),x.lastEffect=E.lastEffect),1<E.flags&&(x.lastEffect!==null?x.lastEffect.nextEffect=E:x.firstEffect=E,x.lastEffect=E))}else{if((j=IP(E))!==null)return j.flags&=2047,void(ji=j);x!==null&&(x.firstEffect=x.lastEffect=null,x.flags|=2048)}if((E=E.sibling)!==null)return void(ji=E);ji=E=x}while(E!==null);Dr===0&&(Dr=5)}function uh(x){var E=jl();return Tr(99,rT.bind(null,x,E)),null}function rT(x,E){do Mc();while(ch!==null);if(48&mn)throw Error(v(327));var j=x.finishedWork;if(j===null)return null;if(x.finishedWork=null,x.finishedLanes=0,j===x.current)throw Error(v(177));x.callbackNode=null;var V=j.lanes|j.childLanes,H=V,oe=x.pendingLanes&~H;x.pendingLanes=H,x.suspendedLanes=0,x.pingedLanes=0,x.expiredLanes&=H,x.mutableReadLanes&=H,x.entangledLanes&=H,H=x.entanglements;for(var ge=x.eventTimes,De=x.expirationTimes;0<oe;){var qe=31-Tl(oe),Ye=1<<qe;H[qe]=0,ge[qe]=-1,De[qe]=-1,oe&=~Ye}if(Wa!==null&&!(24&V)&&Wa.has(x)&&Wa.delete(x),x===zr&&(ji=zr=null,Yi=0),1<j.flags?j.lastEffect!==null?(j.lastEffect.nextEffect=j,V=j.firstEffect):V=j:V=j.firstEffect,V!==null){if(H=mn,mn|=32,Uu.current=null,Oa=Eo,$f(ge=Zd())){if("selectionStart"in ge)De={start:ge.selectionStart,end:ge.selectionEnd};else e:if(De=(De=ge.ownerDocument)&&De.defaultView||window,(Ye=De.getSelection&&De.getSelection())&&Ye.rangeCount!==0){De=Ye.anchorNode,oe=Ye.anchorOffset,qe=Ye.focusNode,Ye=Ye.focusOffset;try{De.nodeType,qe.nodeType}catch{De=null;break e}var ht=0,St=-1,ut=-1,Xt=0,hn=0,an=ge,Ze=null;t:for(;;){for(var Xe;an!==De||oe!==0&&an.nodeType!==3||(St=ht+oe),an!==qe||Ye!==0&&an.nodeType!==3||(ut=ht+Ye),an.nodeType===3&&(ht+=an.nodeValue.length),(Xe=an.firstChild)!==null;)Ze=an,an=Xe;for(;;){if(an===ge)break t;if(Ze===De&&++Xt===oe&&(St=ht),Ze===qe&&++hn===Ye&&(ut=ht),(Xe=an.nextSibling)!==null)break;Ze=(an=Ze).parentNode}an=Xe}De=St===-1||ut===-1?null:{start:St,end:ut}}else De=null;De=De||{start:0,end:0}}else De=null;ta={focusedElem:ge,selectionRange:De},Eo=!1,As=null,Wu=!1,kt=V;do try{zl()}catch(Yt){if(kt===null)throw Error(v(330));qu(kt,Yt),kt=kt.nextEffect}while(kt!==null);As=null,kt=V;do try{for(ge=x;kt!==null;){var Ke=kt.flags;if(16&Ke&&Pi(kt.stateNode,""),128&Ke){var it=kt.alternate;if(it!==null){var ot=it.ref;ot!==null&&(typeof ot=="function"?ot(null):ot.current=null)}}switch(1038&Ke){case 2:Og(kt),kt.flags&=-3;break;case 6:Og(kt),kt.flags&=-3,bt(kt.alternate,kt);break;case 1024:kt.flags&=-1025;break;case 1028:kt.flags&=-1025,bt(kt.alternate,kt);break;case 4:bt(kt.alternate,kt);break;case 8:Lu(ge,De=kt);var tn=De.alternate;up(De),tn!==null&&up(tn)}kt=kt.nextEffect}}catch(Yt){if(kt===null)throw Error(v(330));qu(kt,Yt),kt=kt.nextEffect}while(kt!==null);if(ot=ta,it=Zd(),Ke=ot.focusedElem,ge=ot.selectionRange,it!==Ke&&Ke&&Ke.ownerDocument&&Sg(Ke.ownerDocument.documentElement,Ke)){for(ge!==null&&$f(Ke)&&(it=ge.start,(ot=ge.end)===void 0&&(ot=it),"selectionStart"in Ke?(Ke.selectionStart=it,Ke.selectionEnd=Math.min(ot,Ke.value.length)):(ot=(it=Ke.ownerDocument||document)&&it.defaultView||window).getSelection&&(ot=ot.getSelection(),De=Ke.textContent.length,tn=Math.min(ge.start,De),ge=ge.end===void 0?tn:Math.min(ge.end,De),!ot.extend&&tn>ge&&(De=ge,ge=tn,tn=De),De=Ey(Ke,tn),oe=Ey(Ke,ge),De&&oe&&(ot.rangeCount!==1||ot.anchorNode!==De.node||ot.anchorOffset!==De.offset||ot.focusNode!==oe.node||ot.focusOffset!==oe.offset)&&((it=it.createRange()).setStart(De.node,De.offset),ot.removeAllRanges(),tn>ge?(ot.addRange(it),ot.extend(oe.node,oe.offset)):(it.setEnd(oe.node,oe.offset),ot.addRange(it))))),it=[],ot=Ke;ot=ot.parentNode;)ot.nodeType===1&&it.push({element:ot,left:ot.scrollLeft,top:ot.scrollTop});for(typeof Ke.focus=="function"&&Ke.focus(),Ke=0;Ke<it.length;Ke++)(ot=it[Ke]).element.scrollLeft=ot.left,ot.element.scrollTop=ot.top}Eo=!!Oa,ta=Oa=null,x.current=j,kt=V;do try{for(Ke=x;kt!==null;){var Tt=kt.flags;if(36&Tt&&Wx(Ke,kt.alternate,kt),128&Tt){it=void 0;var fn=kt.ref;if(fn!==null){var Wt=kt.stateNode;kt.tag,it=Wt,typeof fn=="function"?fn(it):fn.current=it}}kt=kt.nextEffect}}catch(Yt){if(kt===null)throw Error(v(330));qu(kt,Yt),kt=kt.nextEffect}while(kt!==null);kt=null,Vt(),mn=H}else x.current=j;if(Ic)Ic=!1,ch=x,pp=E;else for(kt=V;kt!==null;)E=kt.nextEffect,kt.nextEffect=null,8&kt.flags&&((Tt=kt).sibling=null,Tt.stateNode=null),kt=E;if((V=x.pendingLanes)===0&&(Ul=null),V===1?x===Zy?jc++:(jc=0,Zy=x):jc=0,j=j.stateNode,lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(ki,j,void 0,(64&j.current.flags)==64)}catch{}if(Ts(x,mr()),Lg)throw Lg=!1,x=Ug,Ug=null,x;return 8&mn||Rl(),null}function zl(){for(;kt!==null;){var x=kt.alternate;Wu||As===null||(8&kt.flags?vo(kt,As)&&(Wu=!0):kt.tag===13&&Yy(x,kt)&&vo(kt,As)&&(Wu=!0));var E=kt.flags;256&E&&Vx(x,kt),!(512&E)||Ic||(Ic=!0,Ac(97,function(){return Mc(),null})),kt=kt.nextEffect}}function Mc(){if(pp!==90){var x=97<pp?97:pp;return pp=90,Tr(x,RP)}return!1}function yp(x,E){Yx.push(E,x),Ic||(Ic=!0,Ac(97,function(){return Mc(),null}))}function Oc(x,E){Ky.push(E,x),Ic||(Ic=!0,Ac(97,function(){return Mc(),null}))}function RP(){if(ch===null)return!1;var x=ch;if(ch=null,(48&mn)!=0)throw Error(v(331));var E=mn;mn|=32;var j=Ky;Ky=[];for(var V=0;V<j.length;V+=2){var H=j[V],oe=j[V+1],ge=H.destroy;if(H.destroy=void 0,typeof ge=="function")try{ge()}catch(qe){if(oe===null)throw Error(v(330));qu(oe,qe)}}for(j=Yx,Yx=[],V=0;V<j.length;V+=2){H=j[V],oe=j[V+1];try{var De=H.create;H.destroy=De()}catch(qe){if(oe===null)throw Error(v(330));qu(oe,qe)}}for(De=x.current.firstEffect;De!==null;)x=De.nextEffect,De.nextEffect=null,8&De.flags&&(De.sibling=null,De.stateNode=null),De=x;return mn=E,Rl(),!0}function nv(x,E,j){Tc(x,E=GA(0,E=zx(j,E),1)),E=wi(),(x=Jy(x,1))!==null&&(Vn(x,1,E),Ts(x,E))}function qu(x,E){if(x.tag===3)nv(x,x,E);else for(var j=x.return;j!==null;){if(j.tag===3){nv(j,x,E);break}if(j.tag===1){var V=j.stateNode;if(typeof j.type.getDerivedStateFromError=="function"||typeof V.componentDidCatch=="function"&&(Ul===null||!Ul.has(V))){var H=XA(j,x=zx(E,x),1);if(Tc(j,H),H=wi(),(j=Jy(j,1))!==null)Vn(j,1,H),Ts(j,H);else if(typeof V.componentDidCatch=="function"&&(Ul===null||!Ul.has(V)))try{V.componentDidCatch(E,x)}catch{}break}}j=j.return}}function MP(x,E,j){var V=x.pingCache;V!==null&&V.delete(E),E=wi(),x.pingedLanes|=x.suspendedLanes&j,zr===x&&(Yi&j)===j&&(Dr===4||Dr===3&&(62914560&Yi)===Yi&&500>mr()-Gx?bp(x,0):Hx|=j),Ts(x,E)}function OP(x,E){var j=x.stateNode;j!==null&&j.delete(E),(E=0)==0&&(2&(E=x.mode)?4&E?(Bl===0&&(Bl=hp),(E=Al(62914560&~Bl))===0&&(E=4194304)):E=jl()===99?1:2:E=1),j=wi(),(x=Jy(x,E))!==null&&(Vn(x,E,j),Ts(x,j))}function FP(x,E,j,V){this.tag=x,this.key=j,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=E,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=V,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function oa(x,E,j,V){return new FP(x,E,j,V)}function Zx(x){return!(!(x=x.prototype)||!x.isReactComponent)}function Hu(x,E){var j=x.alternate;return j===null?((j=oa(x.tag,E,x.key,x.mode)).elementType=x.elementType,j.type=x.type,j.stateNode=x.stateNode,j.alternate=x,x.alternate=j):(j.pendingProps=E,j.type=x.type,j.flags=0,j.nextEffect=null,j.firstEffect=null,j.lastEffect=null),j.childLanes=x.childLanes,j.lanes=x.lanes,j.child=x.child,j.memoizedProps=x.memoizedProps,j.memoizedState=x.memoizedState,j.updateQueue=x.updateQueue,E=x.dependencies,j.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext},j.sibling=x.sibling,j.index=x.index,j.ref=x.ref,j}function iv(x,E,j,V,H,oe){var ge=2;if(V=x,typeof x=="function")Zx(x)&&(ge=1);else if(typeof x=="string")ge=5;else e:switch(x){case q:return dh(j.children,H,oe,E);case Oe:ge=8,H|=16;break;case Te:ge=8,H|=1;break;case ie:return(x=oa(12,j,E,8|H)).elementType=ie,x.type=ie,x.lanes=oe,x;case ne:return(x=oa(13,j,E,H)).type=ne,x.elementType=ne,x.lanes=oe,x;case ee:return(x=oa(19,j,E,H)).elementType=ee,x.lanes=oe,x;case Ie:return Jx(j,H,oe,E);case je:return(x=oa(24,j,E,H)).elementType=je,x.lanes=oe,x;default:if(typeof x=="object"&&x!==null)switch(x.$$typeof){case ce:ge=10;break e;case X:ge=9;break e;case K:ge=11;break e;case ue:ge=14;break e;case Q:ge=16,V=null;break e;case fe:ge=22;break e}throw Error(v(130,x==null?x:typeof x,""))}return(E=oa(ge,j,E,H)).elementType=x,E.type=V,E.lanes=oe,E}function dh(x,E,j,V){return(x=oa(7,x,V,E)).lanes=j,x}function Jx(x,E,j,V){return(x=oa(23,x,V,E)).elementType=Ie,x.lanes=j,x}function Qx(x,E,j){return(x=oa(6,x,null,E)).lanes=j,x}function hh(x,E,j){return(E=oa(4,x.children!==null?x.children:[],x.key,E)).lanes=j,E.stateNode={containerInfo:x.containerInfo,pendingChildren:null,implementation:x.implementation},E}function LP(x,E,j){this.tag=E,this.containerInfo=x,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=j,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ud(0),this.expirationTimes=Ud(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ud(0),this.mutableSourceEagerHydrationData=null}function rv(x,E,j,V){var H=E.current,oe=wi(),ge=sa(H);e:if(j){t:{if(Gi(j=j._reactInternals)!==j||j.tag!==1)throw Error(v(170));var De=j;do{switch(De.tag){case 3:De=De.stateNode.context;break t;case 1:if($n(De.type)){De=De.stateNode.__reactInternalMemoizedMergedChildContext;break t}}De=De.return}while(De!==null);throw Error(v(171))}if(j.tag===1){var qe=j.type;if($n(qe)){j=xx(j,qe,De);break e}}j=De}else j=Au;return E.context===null?E.context=j:E.pendingContext=j,(E=Ml(oe,ge)).payload={element:x},(V=V===void 0?null:V)!==null&&(E.callback=V),Tc(H,E),Rc(H,ge,oe),ge}function e_(x){return(x=x.current).child?(x.child.tag,x.child.stateNode):null}function Vg(x,E){if((x=x.memoizedState)!==null&&x.dehydrated!==null){var j=x.retryLane;x.retryLane=j!==0&&j<E?j:E}}function t_(x,E){Vg(x,E),(x=x.alternate)&&Vg(x,E)}function n_(x,E,j){var V=j!=null&&j.hydrationOptions!=null&&j.hydrationOptions.mutableSources||null;if(j=new LP(x,E,j!=null&&j.hydrate===!0),E=oa(3,null,null,E===2?7:E===1?3:0),j.current=E,E.stateNode=j,Kf(E),x[Gf]=j.current,he(x.nodeType===8?x.parentNode:x),V)for(x=0;x<V.length;x++){var H=(E=V[x])._getVersion;H=H(E._source),j.mutableSourceEagerHydrationData==null?j.mutableSourceEagerHydrationData=[E,H]:j.mutableSourceEagerHydrationData.push(E,H)}this._internalRoot=j}function Wg(x){return!(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11&&(x.nodeType!==8||x.nodeValue!==" react-mount-point-unstable "))}function $g(x,E,j,V,H){var oe=j._reactRootContainer;if(oe){var ge=oe._internalRoot;if(typeof H=="function"){var De=H;H=function(){var Ye=e_(ge);De.call(Ye)}}rv(E,ge,x,H)}else{if(oe=j._reactRootContainer=function(Ye,ht){if(ht||(ht=!(!(ht=Ye?Ye.nodeType===9?Ye.documentElement:Ye.firstChild:null)||ht.nodeType!==1||!ht.hasAttribute("data-reactroot"))),!ht)for(var St;St=Ye.lastChild;)Ye.removeChild(St);return new n_(Ye,0,ht?{hydrate:!0}:void 0)}(j,V),ge=oe._internalRoot,typeof H=="function"){var qe=H;H=function(){var Ye=e_(ge);qe.call(Ye)}}JA(function(){rv(E,ge,x,H)})}return e_(ge)}function sT(x,E){var j=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wg(E))throw Error(v(200));return function(V,H,oe){var ge=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:be,key:ge==null?null:""+ge,children:V,containerInfo:H,implementation:oe}}(x,E,null,j)}KA=function(x,E,j){var V=E.lanes;if(x!==null)if(x.memoizedProps!==E.pendingProps||ns.current)Io=!0;else{if(!(j&V)){switch(Io=!1,E.tag){case 3:$y(E),Fy();break;case 5:DA(E);break;case 1:$n(E.type)&&Ty(E);break;case 4:ip(E,E.stateNode.containerInfo);break;case 10:V=E.memoizedProps.value;var H=E.type._context;Qt(Ny,H._currentValue),H._currentValue=V;break;case 13:if(E.memoizedState!==null)return j&E.child.childLanes?VA(x,E,j):(Qt(Ei,1&Ei.current),(E=Pc(x,E,j))!==null?E.sibling:null);Qt(Ei,1&Ei.current);break;case 19:if(V=(j&E.childLanes)!=0,(64&x.flags)!=0){if(V)return qA(x,E,j);E.flags|=64}if((H=E.memoizedState)!==null&&(H.rendering=null,H.tail=null,H.lastEffect=null),Qt(Ei,Ei.current),V)break;return null;case 23:case 24:return E.lanes=0,Mx(x,E,j)}return Pc(x,E,j)}Io=(16384&x.flags)!=0}else Io=!1;switch(E.lanes=0,E.tag){case 2:if(V=E.type,x!==null&&(x.alternate=null,E.alternate=null,E.flags|=2),x=E.pendingProps,H=Cu(E,Xi.current),th(E,j),H=ap(null,E,V,x,H,j),E.flags|=1,typeof H=="object"&&H!==null&&typeof H.render=="function"&&H.$$typeof===void 0){if(E.tag=1,E.memoizedState=null,E.updateQueue=null,$n(V)){var oe=!0;Ty(E)}else oe=!1;E.memoizedState=H.state!==null&&H.state!==void 0?H.state:null,Kf(E);var ge=V.getDerivedStateFromProps;typeof ge=="function"&&ra(E,V,ge,x),H.updater=My,E.stateNode=H,H._reactInternals=E,Qf(E,V,x,j),E=cp(null,E,V,!0,oe,j)}else E.tag=0,Ss(null,E,H,j),E=E.child;return E;case 16:H=E.elementType;e:{switch(x!==null&&(x.alternate=null,E.alternate=null,E.flags|=2),x=E.pendingProps,H=(oe=H._init)(H._payload),E.type=H,oe=E.tag=function(ht){if(typeof ht=="function")return Zx(ht)?1:0;if(ht!=null){if((ht=ht.$$typeof)===K)return 11;if(ht===ue)return 14}return 2}(H),x=ia(H,x),oe){case 0:E=Ox(null,E,H,x,j);break e;case 1:E=UA(null,E,H,x,j);break e;case 11:E=FA(null,E,H,x,j);break e;case 14:E=Wy(null,E,H,ia(H.type,x),V,j);break e}throw Error(v(306,H,""))}return E;case 0:return V=E.type,H=E.pendingProps,Ox(x,E,V,H=E.elementType===V?H:ia(V,H),j);case 1:return V=E.type,H=E.pendingProps,UA(x,E,V,H=E.elementType===V?H:ia(V,H),j);case 3:if($y(E),V=E.updateQueue,x===null||V===null)throw Error(v(282));if(V=E.pendingProps,H=(H=E.memoizedState)!==null?H.element:null,Ry(x,E),Ng(E,V,null,j),(V=E.memoizedState.element)===H)Fy(),E=Pc(x,E,j);else{if((oe=(H=E.stateNode).hydrate)&&(Ua=Xs(E.stateNode.containerInfo.firstChild),Dc=E,oe=Ks=!0),oe){if((x=H.mutableSourceEagerHydrationData)!=null)for(H=0;H<x.length;H+=2)(oe=x[H])._workInProgressVersionPrimary=x[H+1],sp.push(oe);for(j=tp(E,null,V,j),E.child=j;j;)j.flags=-3&j.flags|1024,j=j.sibling}else Ss(x,E,V,j),Fy();E=E.child}return E;case 5:return DA(E),x===null&&Oy(E),V=E.type,H=E.pendingProps,oe=x!==null?x.memoizedProps:null,ge=H.children,es(V,H)?ge=null:oe!==null&&es(V,oe)&&(E.flags|=16),LA(x,E),Ss(x,E,ge,j),E.child;case 6:return x===null&&Oy(E),null;case 13:return VA(x,E,j);case 4:return ip(E,E.stateNode.containerInfo),V=E.pendingProps,x===null?E.child=ih(E,null,V,j):Ss(x,E,V,j),E.child;case 11:return V=E.type,H=E.pendingProps,FA(x,E,V,H=E.elementType===V?H:ia(V,H),j);case 7:return Ss(x,E,E.pendingProps,j),E.child;case 8:case 12:return Ss(x,E,E.pendingProps.children,j),E.child;case 10:e:{V=E.type._context,H=E.pendingProps,ge=E.memoizedProps,oe=H.value;var De=E.type._context;if(Qt(Ny,De._currentValue),De._currentValue=oe,ge!==null)if(De=ge.value,(oe=ks(De,oe)?0:0|(typeof V._calculateChangedBits=="function"?V._calculateChangedBits(De,oe):1073741823))===0){if(ge.children===H.children&&!ns.current){E=Pc(x,E,j);break e}}else for((De=E.child)!==null&&(De.return=E);De!==null;){var qe=De.dependencies;if(qe!==null){ge=De.child;for(var Ye=qe.firstContext;Ye!==null;){if(Ye.context===V&&Ye.observedBits&oe){De.tag===1&&((Ye=Ml(-1,j&-j)).tag=2,Tc(De,Ye)),De.lanes|=j,(Ye=De.alternate)!==null&&(Ye.lanes|=j),Tx(De.return,j),qe.lanes|=j;break}Ye=Ye.next}}else ge=De.tag===10&&De.type===E.type?null:De.child;if(ge!==null)ge.return=De;else for(ge=De;ge!==null;){if(ge===E){ge=null;break}if((De=ge.sibling)!==null){De.return=ge.return,ge=De;break}ge=ge.return}De=ge}Ss(x,E,H.children,j),E=E.child}return E;case 9:return H=E.type,V=(oe=E.pendingProps).children,th(E,j),V=V(H=Co(H,oe.unstable_observedBits)),E.flags|=1,Ss(x,E,V,j),E.child;case 14:return oe=ia(H=E.type,E.pendingProps),Wy(x,E,H,oe=ia(H.type,oe),V,j);case 15:return Rx(x,E,E.type,E.pendingProps,V,j);case 17:return V=E.type,H=E.pendingProps,H=E.elementType===V?H:ia(V,H),x!==null&&(x.alternate=null,E.alternate=null,E.flags|=2),E.tag=1,$n(V)?(x=!0,Ty(E)):x=!1,th(E,j),Jf(E,V,H),Qf(E,V,H,j),cp(null,E,V,!0,x,j);case 19:return qA(x,E,j);case 23:case 24:return Mx(x,E,j)}throw Error(v(156,E.tag))},n_.prototype.render=function(x){rv(x,this._internalRoot,null,null)},n_.prototype.unmount=function(){var x=this._internalRoot,E=x.containerInfo;rv(null,x,null,function(){E[Gf]=null})},wo=function(x){x.tag===13&&(Rc(x,4,wi()),t_(x,4))},_l=function(x){x.tag===13&&(Rc(x,67108864,wi()),t_(x,67108864))},rg=function(x){if(x.tag===13){var E=wi(),j=sa(x);Rc(x,j,E),t_(x,j)}},Od=function(x,E){return E()},pr=function(x,E,j){switch(E){case"input":if(Ue(x,j),E=j.name,j.type==="radio"&&E!=null){for(j=x;j.parentNode;)j=j.parentNode;for(j=j.querySelectorAll("input[name="+JSON.stringify(""+E)+'][type="radio"]'),E=0;E<j.length;E++){var V=j[E];if(V!==x&&V.form===x.form){var H=Tg(V);if(!H)throw Error(v(90));$e(V),Ue(V,H)}}}break;case"textarea":$t(x,j);break;case"select":(E=j.value)!=null&&ft(x,!!j.multiple,E,!1)}},Fr=ZA,Gs=function(x,E,j,V,H){var oe=mn;mn|=4;try{return Tr(98,x.bind(null,E,j,V,H))}finally{(mn=oe)===0&&(Vu(),Rl())}},ws=function(){!(49&mn)&&(function(){if(Wa!==null){var x=Wa;Wa=null,x.forEach(function(E){E.expiredLanes|=24&E.pendingLanes,Ts(E,mr())})}Rl()}(),Mc())},sr=function(x,E){var j=mn;mn|=2;try{return x(E)}finally{(mn=j)===0&&(Vu(),Rl())}};var UP={Events:[Xf,Qd,Tg,Hi,Er,Mc,{current:!1}]},vp={findFiberByHostInstance:Eu,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},i_={bundleType:vp.bundleType,version:vp.version,rendererPackageName:vp.rendererPackageName,rendererConfig:vp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:de.ReactCurrentDispatcher,findHostInstanceByFiber:function(x){return(x=xn(x))===null?null:x.stateNode},findFiberByHostInstance:vp.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sv.isDisabled&&sv.supportsFiber)try{ki=sv.inject(i_),lr=sv}catch{}}u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UP,u.createPortal=sT,u.findDOMNode=function(x){if(x==null)return null;if(x.nodeType===1)return x;var E=x._reactInternals;if(E===void 0)throw typeof x.render=="function"?Error(v(188)):Error(v(268,Object.keys(x)));return x=(x=xn(E))===null?null:x.stateNode},u.flushSync=function(x,E){var j=mn;if(48&j)return x(E);mn|=1;try{if(x)return Tr(99,x.bind(null,E))}finally{mn=j,Rl()}},u.hydrate=function(x,E,j){if(!Wg(E))throw Error(v(200));return $g(null,x,E,!0,j)},u.render=function(x,E,j){if(!Wg(E))throw Error(v(200));return $g(null,x,E,!1,j)},u.unmountComponentAtNode=function(x){if(!Wg(x))throw Error(v(40));return!!x._reactRootContainer&&(JA(function(){$g(null,null,x,!1,function(){x._reactRootContainer=null,x[Gf]=null})}),!0)},u.unstable_batchedUpdates=ZA,u.unstable_createPortal=function(x,E){return sT(x,E,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)},u.unstable_renderSubtreeIntoContainer=function(x,E,j,V){if(!Wg(j))throw Error(v(200));if(x==null||x._reactInternals===void 0)throw Error(v(38));return $g(x,E,j,!1,V)},u.version="17.0.2"},3935:(c,u,h)=>{(function m(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE=="function")try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m)}catch(g){console.error(g)}})(),c.exports=h(4448)},2408:(c,u,h)=>{var m=h(7418),g=60103,y=60106;u.Fragment=60107,u.StrictMode=60108,u.Profiler=60114;var v=60109,_=60110,A=60112;u.Suspense=60113;var S=60115,T=60116;if(typeof Symbol=="function"&&Symbol.for){var C=Symbol.for;g=C("react.element"),y=C("react.portal"),u.Fragment=C("react.fragment"),u.StrictMode=C("react.strict_mode"),u.Profiler=C("react.profiler"),v=C("react.provider"),_=C("react.context"),A=C("react.forward_ref"),u.Suspense=C("react.suspense"),S=C("react.memo"),T=C("react.lazy")}var N=typeof Symbol=="function"&&Symbol.iterator;function I(Q){for(var fe="https://reactjs.org/docs/error-decoder.html?invariant="+Q,Se=1;Se<arguments.length;Se++)fe+="&args[]="+encodeURIComponent(arguments[Se]);return"Minified React error #"+Q+"; visit "+fe+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F={};function L(Q,fe,Se){this.props=Q,this.context=fe,this.refs=F,this.updater=Se||O}function z(){}function B(Q,fe,Se){this.props=Q,this.context=fe,this.refs=F,this.updater=Se||O}L.prototype.isReactComponent={},L.prototype.setState=function(Q,fe){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error(I(85));this.updater.enqueueSetState(this,Q,fe,"setState")},L.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")},z.prototype=L.prototype;var Y=B.prototype=new z;Y.constructor=B,m(Y,L.prototype),Y.isPureReactComponent=!0;var se={current:null},de=Object.prototype.hasOwnProperty,J={key:!0,ref:!0,__self:!0,__source:!0};function be(Q,fe,Se){var Oe,Ie={},je=null,Be=null;if(fe!=null)for(Oe in fe.ref!==void 0&&(Be=fe.ref),fe.key!==void 0&&(je=""+fe.key),fe)de.call(fe,Oe)&&!J.hasOwnProperty(Oe)&&(Ie[Oe]=fe[Oe]);var Fe=arguments.length-2;if(Fe===1)Ie.children=Se;else if(1<Fe){for(var Ae=Array(Fe),ke=0;ke<Fe;ke++)Ae[ke]=arguments[ke+2];Ie.children=Ae}if(Q&&Q.defaultProps)for(Oe in Fe=Q.defaultProps)Ie[Oe]===void 0&&(Ie[Oe]=Fe[Oe]);return{$$typeof:g,type:Q,key:je,ref:Be,props:Ie,_owner:se.current}}function q(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===g}var Te=/\/+/g;function ie(Q,fe){return typeof Q=="object"&&Q!==null&&Q.key!=null?function(Se){var Oe={"=":"=0",":":"=2"};return"$"+Se.replace(/[=:]/g,function(Ie){return Oe[Ie]})}(""+Q.key):fe.toString(36)}function ce(Q,fe,Se,Oe,Ie){var je=typeof Q;je!=="undefined"&&je!=="boolean"||(Q=null);var Be=!1;if(Q===null)Be=!0;else switch(je){case"string":case"number":Be=!0;break;case"object":switch(Q.$$typeof){case g:case y:Be=!0}}if(Be)return Ie=Ie(Be=Q),Q=Oe===""?"."+ie(Be,0):Oe,Array.isArray(Ie)?(Se="",Q!=null&&(Se=Q.replace(Te,"$&/")+"/"),ce(Ie,fe,Se,"",function(ke){return ke})):Ie!=null&&(q(Ie)&&(Ie=function(ke,ze){return{$$typeof:g,type:ke.type,key:ze,ref:ke.ref,props:ke.props,_owner:ke._owner}}(Ie,Se+(!Ie.key||Be&&Be.key===Ie.key?"":(""+Ie.key).replace(Te,"$&/")+"/")+Q)),fe.push(Ie)),1;if(Be=0,Oe=Oe===""?".":Oe+":",Array.isArray(Q))for(var Fe=0;Fe<Q.length;Fe++){var Ae=Oe+ie(je=Q[Fe],Fe);Be+=ce(je,fe,Se,Ae,Ie)}else if(Ae=function(ke){return ke===null||typeof ke!="object"?null:typeof(ke=N&&ke[N]||ke["@@iterator"])=="function"?ke:null}(Q),typeof Ae=="function")for(Q=Ae.call(Q),Fe=0;!(je=Q.next()).done;)Be+=ce(je=je.value,fe,Se,Ae=Oe+ie(je,Fe++),Ie);else if(je==="object")throw fe=""+Q,Error(I(31,fe==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":fe));return Be}function X(Q,fe,Se){if(Q==null)return Q;var Oe=[],Ie=0;return ce(Q,Oe,"","",function(je){return fe.call(Se,je,Ie++)}),Oe}function K(Q){if(Q._status===-1){var fe=Q._result;fe=fe(),Q._status=0,Q._result=fe,fe.then(function(Se){Q._status===0&&(Se=Se.default,Q._status=1,Q._result=Se)},function(Se){Q._status===0&&(Q._status=2,Q._result=Se)})}if(Q._status===1)return Q._result;throw Q._result}var ne={current:null};function ee(){var Q=ne.current;if(Q===null)throw Error(I(321));return Q}var ue={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:se,IsSomeRendererActing:{current:!1},assign:m};u.Children={map:X,forEach:function(Q,fe,Se){X(Q,function(){fe.apply(this,arguments)},Se)},count:function(Q){var fe=0;return X(Q,function(){fe++}),fe},toArray:function(Q){return X(Q,function(fe){return fe})||[]},only:function(Q){if(!q(Q))throw Error(I(143));return Q}},u.Component=L,u.PureComponent=B,u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,u.cloneElement=function(Q,fe,Se){if(Q==null)throw Error(I(267,Q));var Oe=m({},Q.props),Ie=Q.key,je=Q.ref,Be=Q._owner;if(fe!=null){if(fe.ref!==void 0&&(je=fe.ref,Be=se.current),fe.key!==void 0&&(Ie=""+fe.key),Q.type&&Q.type.defaultProps)var Fe=Q.type.defaultProps;for(Ae in fe)de.call(fe,Ae)&&!J.hasOwnProperty(Ae)&&(Oe[Ae]=fe[Ae]===void 0&&Fe!==void 0?Fe[Ae]:fe[Ae])}var Ae=arguments.length-2;if(Ae===1)Oe.children=Se;else if(1<Ae){Fe=Array(Ae);for(var ke=0;ke<Ae;ke++)Fe[ke]=arguments[ke+2];Oe.children=Fe}return{$$typeof:g,type:Q.type,key:Ie,ref:je,props:Oe,_owner:Be}},u.createContext=function(Q,fe){return fe===void 0&&(fe=null),(Q={$$typeof:_,_calculateChangedBits:fe,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:v,_context:Q},Q.Consumer=Q},u.createElement=be,u.createFactory=function(Q){var fe=be.bind(null,Q);return fe.type=Q,fe},u.createRef=function(){return{current:null}},u.forwardRef=function(Q){return{$$typeof:A,render:Q}},u.isValidElement=q,u.lazy=function(Q){return{$$typeof:T,_payload:{_status:-1,_result:Q},_init:K}},u.memo=function(Q,fe){return{$$typeof:S,type:Q,compare:fe===void 0?null:fe}},u.useCallback=function(Q,fe){return ee().useCallback(Q,fe)},u.useContext=function(Q,fe){return ee().useContext(Q,fe)},u.useDebugValue=function(){},u.useEffect=function(Q,fe){return ee().useEffect(Q,fe)},u.useImperativeHandle=function(Q,fe,Se){return ee().useImperativeHandle(Q,fe,Se)},u.useLayoutEffect=function(Q,fe){return ee().useLayoutEffect(Q,fe)},u.useMemo=function(Q,fe){return ee().useMemo(Q,fe)},u.useReducer=function(Q,fe,Se){return ee().useReducer(Q,fe,Se)},u.useRef=function(Q){return ee().useRef(Q)},u.useState=function(Q){return ee().useState(Q)},u.version="17.0.2"},7294:(c,u,h)=>{c.exports=h(2408)},53:(c,u)=>{var h,m,g,y;if(typeof performance=="object"&&typeof performance.now=="function"){var v=performance;u.unstable_now=function(){return v.now()}}else{var _=Date,A=_.now();u.unstable_now=function(){return _.now()-A}}if(typeof window>"u"||typeof MessageChannel!="function"){var S=null,T=null,C=function(){if(S!==null)try{var je=u.unstable_now();S(!0,je),S=null}catch(Be){throw setTimeout(C,0),Be}};h=function(je){S!==null?setTimeout(h,0,je):(S=je,setTimeout(C,0))},m=function(je,Be){T=setTimeout(je,Be)},g=function(){clearTimeout(T)},u.unstable_shouldYield=function(){return!1},y=u.unstable_forceFrameRate=function(){}}else{var N=window.setTimeout,I=window.clearTimeout;if(typeof console<"u"){var O=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof O!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var F=!1,L=null,z=-1,B=5,Y=0;u.unstable_shouldYield=function(){return u.unstable_now()>=Y},y=function(){},u.unstable_forceFrameRate=function(je){0>je||125<je?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<je?Math.floor(1e3/je):5};var se=new MessageChannel,de=se.port2;se.port1.onmessage=function(){if(L!==null){var je=u.unstable_now();Y=je+B;try{L(!0,je)?de.postMessage(null):(F=!1,L=null)}catch(Be){throw de.postMessage(null),Be}}else F=!1},h=function(je){L=je,F||(F=!0,de.postMessage(null))},m=function(je,Be){z=N(function(){je(u.unstable_now())},Be)},g=function(){I(z),z=-1}}function J(je,Be){var Fe=je.length;je.push(Be);e:for(;;){var Ae=Fe-1>>>1,ke=je[Ae];if(!(ke!==void 0&&0<Te(ke,Be)))break e;je[Ae]=Be,je[Fe]=ke,Fe=Ae}}function be(je){return(je=je[0])===void 0?null:je}function q(je){var Be=je[0];if(Be!==void 0){var Fe=je.pop();if(Fe!==Be){je[0]=Fe;e:for(var Ae=0,ke=je.length;Ae<ke;){var ze=2*(Ae+1)-1,$=je[ze],Ce=ze+1,Me=je[Ce];if($!==void 0&&0>Te($,Fe))Me!==void 0&&0>Te(Me,$)?(je[Ae]=Me,je[Ce]=Fe,Ae=Ce):(je[Ae]=$,je[ze]=Fe,Ae=ze);else{if(!(Me!==void 0&&0>Te(Me,Fe)))break e;je[Ae]=Me,je[Ce]=Fe,Ae=Ce}}}return Be}return null}function Te(je,Be){var Fe=je.sortIndex-Be.sortIndex;return Fe!==0?Fe:je.id-Be.id}var ie=[],ce=[],X=1,K=null,ne=3,ee=!1,ue=!1,Q=!1;function fe(je){for(var Be=be(ce);Be!==null;){if(Be.callback===null)q(ce);else{if(!(Be.startTime<=je))break;q(ce),Be.sortIndex=Be.expirationTime,J(ie,Be)}Be=be(ce)}}function Se(je){if(Q=!1,fe(je),!ue)if(be(ie)!==null)ue=!0,h(Oe);else{var Be=be(ce);Be!==null&&m(Se,Be.startTime-je)}}function Oe(je,Be){ue=!1,Q&&(Q=!1,g()),ee=!0;var Fe=ne;try{for(fe(Be),K=be(ie);K!==null&&(!(K.expirationTime>Be)||je&&!u.unstable_shouldYield());){var Ae=K.callback;if(typeof Ae=="function"){K.callback=null,ne=K.priorityLevel;var ke=Ae(K.expirationTime<=Be);Be=u.unstable_now(),typeof ke=="function"?K.callback=ke:K===be(ie)&&q(ie),fe(Be)}else q(ie);K=be(ie)}if(K!==null)var ze=!0;else{var $=be(ce);$!==null&&m(Se,$.startTime-Be),ze=!1}return ze}finally{K=null,ne=Fe,ee=!1}}var Ie=y;u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(je){je.callback=null},u.unstable_continueExecution=function(){ue||ee||(ue=!0,h(Oe))},u.unstable_getCurrentPriorityLevel=function(){return ne},u.unstable_getFirstCallbackNode=function(){return be(ie)},u.unstable_next=function(je){switch(ne){case 1:case 2:case 3:var Be=3;break;default:Be=ne}var Fe=ne;ne=Be;try{return je()}finally{ne=Fe}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=Ie,u.unstable_runWithPriority=function(je,Be){switch(je){case 1:case 2:case 3:case 4:case 5:break;default:je=3}var Fe=ne;ne=je;try{return Be()}finally{ne=Fe}},u.unstable_scheduleCallback=function(je,Be,Fe){var Ae=u.unstable_now();switch(typeof Fe=="object"&&Fe!==null?Fe=typeof(Fe=Fe.delay)=="number"&&0<Fe?Ae+Fe:Ae:Fe=Ae,je){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return je={id:X++,callback:Be,priorityLevel:je,startTime:Fe,expirationTime:ke=Fe+ke,sortIndex:-1},Fe>Ae?(je.sortIndex=Fe,J(ce,je),be(ie)===null&&je===be(ce)&&(Q?g():Q=!0,m(Se,Fe-Ae))):(je.sortIndex=ke,J(ie,je),ue||ee||(ue=!0,h(Oe))),je},u.unstable_wrapCallback=function(je){var Be=ne;return function(){var Fe=ne;ne=Be;try{return je.apply(this,arguments)}finally{ne=Fe}}}},3840:(c,u,h)=>{c.exports=h(53)},4670:(c,u,h)=>{c.exports=h(5607)},9829:(c,u,h)=>{var m,g,y,v=h(8946),_="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function A(){y=!1}function S(C){if(C){if(C!==m){if(C.length!==_.length)throw new Error("Custom alphabet for shortid must be "+_.length+" unique characters. You submitted "+C.length+" characters: "+C);var N=C.split("").filter(function(I,O,F){return O!==F.lastIndexOf(I)});if(N.length)throw new Error("Custom alphabet for shortid must be "+_.length+" unique characters. These characters were not unique: "+N.join(", "));m=C,A()}}else m!==_&&(m=_,A())}function T(){return y||(y=function(){m||S(_);for(var C,N=m.split(""),I=[],O=v.nextValue();N.length>0;)O=v.nextValue(),C=Math.floor(O*N.length),I.push(N.splice(C,1)[0]);return I.join("")}())}c.exports={get:function(){return m||_},characters:function(C){return S(C),m},seed:function(C){v.seed(C),g!==C&&(A(),g=C)},lookup:function(C){return T()[C]},shuffled:T}},480:(c,u,h)=>{var m,g,y=h(8416);h(9829),c.exports=function(v){var _="",A=Math.floor(.001*(Date.now()-1567752802062));return A===g?m++:(m=0,g=A),_+=y(7),_+=y(v),m>0&&(_+=y(m)),_+=y(A)}},8416:(c,u,h)=>{var m=h(9829),g=h(3766),y=h(296);c.exports=function(v){for(var _,A=0,S="";!_;)S+=y(g,m.get(),1),_=v<Math.pow(16,A+1),A++;return S}},5607:(c,u,h)=>{var m=h(9829),g=h(480),y=h(1082),v=h(5636)||0;function _(){return g(v)}c.exports=_,c.exports.generate=_,c.exports.seed=function(A){return m.seed(A),c.exports},c.exports.worker=function(A){return v=A,c.exports},c.exports.characters=function(A){return A!==void 0&&m.characters(A),m.shuffled()},c.exports.isValid=y},1082:(c,u,h)=>{var m=h(9829);c.exports=function(g){return!(!g||typeof g!="string"||g.length<6)&&!new RegExp("[^"+m.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(g)}},3766:c=>{var u,h=typeof window=="object"&&(window.crypto||window.msCrypto);u=h&&h.getRandomValues?function(m){return h.getRandomValues(new Uint8Array(m))}:function(m){for(var g=[],y=0;y<m;y++)g.push(Math.floor(256*Math.random()));return g},c.exports=u},8946:c=>{var u=1;c.exports={nextValue:function(){return(u=(9301*u+49297)%233280)/233280},seed:function(h){u=h}}},5636:c=>{c.exports=0},296:c=>{c.exports=function(u,h,m){for(var g=(2<<Math.log(h.length-1)/Math.LN2)-1,y=-~(1.6*g*m/h.length),v="";;)for(var _=u(y),A=y;A--;)if((v+=h[_[A]&g]||"").length===+m)return v}},7478:(c,u,h)=>{var m=h(210),g=h(1924),y=h(631),v=m("%TypeError%"),_=m("%WeakMap%",!0),A=m("%Map%",!0),S=g("WeakMap.prototype.get",!0),T=g("WeakMap.prototype.set",!0),C=g("WeakMap.prototype.has",!0),N=g("Map.prototype.get",!0),I=g("Map.prototype.set",!0),O=g("Map.prototype.has",!0),F=function(L,z){for(var B,Y=L;(B=Y.next)!==null;Y=B)if(B.key===z)return Y.next=B.next,B.next=L.next,L.next=B,B};c.exports=function(){var L,z,B,Y={assert:function(se){if(!Y.has(se))throw new v("Side channel does not contain "+y(se))},get:function(se){if(_&&se&&(typeof se=="object"||typeof se=="function")){if(L)return S(L,se)}else if(A){if(z)return N(z,se)}else if(B)return function(de,J){var be=F(de,J);return be&&be.value}(B,se)},has:function(se){if(_&&se&&(typeof se=="object"||typeof se=="function")){if(L)return C(L,se)}else if(A){if(z)return O(z,se)}else if(B)return function(de,J){return!!F(de,J)}(B,se);return!1},set:function(se,de){_&&se&&(typeof se=="object"||typeof se=="function")?(L||(L=new _),T(L,se,de)):A?(z||(z=new A),I(z,se,de)):(B||(B={key:{},next:null}),function(J,be,q){var Te=F(J,be);Te?Te.value=q:J.next={key:be,next:J.next,value:q}}(B,se,de))}};return Y}},3379:c=>{var u=[];function h(y){for(var v=-1,_=0;_<u.length;_++)if(u[_].identifier===y){v=_;break}return v}function m(y,v){for(var _={},A=[],S=0;S<y.length;S++){var T=y[S],C=v.base?T[0]+v.base:T[0],N=_[C]||0,I="".concat(C," ").concat(N);_[C]=N+1;var O=h(I),F={css:T[1],media:T[2],sourceMap:T[3],supports:T[4],layer:T[5]};if(O!==-1)u[O].references++,u[O].updater(F);else{var L=g(F,v);v.byIndex=S,u.splice(S,0,{identifier:I,updater:L,references:1})}A.push(I)}return A}function g(y,v){var _=v.domAPI(v);return _.update(y),function(A){if(A){if(A.css===y.css&&A.media===y.media&&A.sourceMap===y.sourceMap&&A.supports===y.supports&&A.layer===y.layer)return;_.update(y=A)}else _.remove()}}c.exports=function(y,v){var _=m(y=y||[],v=v||{});return function(A){A=A||[];for(var S=0;S<_.length;S++){var T=h(_[S]);u[T].references--}for(var C=m(A,v),N=0;N<_.length;N++){var I=h(_[N]);u[I].references===0&&(u[I].updater(),u.splice(I,1))}_=C}}},569:c=>{var u={};c.exports=function(h,m){var g=function(y){if(u[y]===void 0){var v=document.querySelector(y);if(window.HTMLIFrameElement&&v instanceof window.HTMLIFrameElement)try{v=v.contentDocument.head}catch{v=null}u[y]=v}return u[y]}(h);if(!g)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");g.appendChild(m)}},9216:c=>{c.exports=function(u){var h=document.createElement("style");return u.setAttributes(h,u.attributes),u.insert(h,u.options),h}},8575:c=>{c.exports=function(u,h){Object.keys(h).forEach(function(m){u.setAttribute(m,h[m])})}},9037:c=>{var u,h=(u=[],function(y,v){return u[y]=v,u.filter(Boolean).join(`
`)});function m(y,v,_,A){var S;if(_)S="";else{S="",A.supports&&(S+="@supports (".concat(A.supports,") {")),A.media&&(S+="@media ".concat(A.media," {"));var T=A.layer!==void 0;T&&(S+="@layer".concat(A.layer.length>0?" ".concat(A.layer):""," {")),S+=A.css,T&&(S+="}"),A.media&&(S+="}"),A.supports&&(S+="}")}if(y.styleSheet)y.styleSheet.cssText=h(v,S);else{var C=document.createTextNode(S),N=y.childNodes;N[v]&&y.removeChild(N[v]),N.length?y.insertBefore(C,N[v]):y.appendChild(C)}}var g={singleton:null,singletonCounter:0};c.exports=function(y){if(typeof document>"u")return{update:function(){},remove:function(){}};var v=g.singletonCounter++,_=g.singleton||(g.singleton=y.insertStyleElement(y));return{update:function(A){m(_,v,!1,A)},remove:function(A){m(_,v,!0,A)}}}},7903:c=>{function u(v,_){var A=typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(!A){if(Array.isArray(v)||(A=function(O,F){if(O){if(typeof O=="string")return h(O,F);var L=Object.prototype.toString.call(O).slice(8,-1);if(L==="Object"&&O.constructor&&(L=O.constructor.name),L==="Map"||L==="Set")return Array.from(O);if(L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L))return h(O,F)}}(v))||_){A&&(v=A);var S=0,T=function(){};return{s:T,n:function(){return S>=v.length?{done:!0}:{done:!1,value:v[S++]}},e:function(O){throw O},f:T}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var C,N=!0,I=!1;return{s:function(){A=A.call(v)},n:function(){var O=A.next();return N=O.done,O},e:function(O){I=!0,C=O},f:function(){try{N||A.return==null||A.return()}finally{if(I)throw C}}}}function h(v,_){(_==null||_>v.length)&&(_=v.length);for(var A=0,S=new Array(_);A<_;A++)S[A]=v[A];return S}function m(){this._defaults=[]}for(var g=0,y=["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"];g<y.length;g++){const v=y[g];m.prototype[v]=function(){for(var _=arguments.length,A=new Array(_),S=0;S<_;S++)A[S]=arguments[S];return this._defaults.push({fn:v,args:A}),this}}m.prototype._setDefaults=function(v){var _,A=u(this._defaults);try{for(A.s();!(_=A.n()).done;){const S=_.value;v[S.fn](...S.args)}}catch(S){A.e(S)}finally{A.f()}},c.exports=m},2968:(c,u,h)=>{function m(X,K){var ne=typeof Symbol<"u"&&X[Symbol.iterator]||X["@@iterator"];if(!ne){if(Array.isArray(X)||(ne=function(Oe,Ie){if(Oe){if(typeof Oe=="string")return g(Oe,Ie);var je=Object.prototype.toString.call(Oe).slice(8,-1);if(je==="Object"&&Oe.constructor&&(je=Oe.constructor.name),je==="Map"||je==="Set")return Array.from(Oe);if(je==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(je))return g(Oe,Ie)}}(X))||K){ne&&(X=ne);var ee=0,ue=function(){};return{s:ue,n:function(){return ee>=X.length?{done:!0}:{done:!1,value:X[ee++]}},e:function(Oe){throw Oe},f:ue}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Q,fe=!0,Se=!1;return{s:function(){ne=ne.call(X)},n:function(){var Oe=ne.next();return fe=Oe.done,Oe},e:function(Oe){Se=!0,Q=Oe},f:function(){try{fe||ne.return==null||ne.return()}finally{if(Se)throw Q}}}}function g(X,K){(K==null||K>X.length)&&(K=X.length);for(var ne=0,ee=new Array(K);ne<K;ne++)ee[ne]=X[ne];return ee}let y;typeof window<"u"?y=window:typeof self>"u"?(console.warn("Using browser-only version of superagent in non-browser environment"),y=void 0):y=self;const v=h(8767),_=h(4445),A=h(129),S=h(8899),T=h(4506),C=T.isObject,N=T.mixin,I=T.hasOwn,O=h(1097),F=h(7903);function L(){}c.exports=function(X,K){return typeof K=="function"?new u.Request("GET",X).end(K):arguments.length===1?new u.Request("GET",X):new u.Request(X,K)};const z=u=c.exports;u.Request=q,z.getXHR=()=>{if(y.XMLHttpRequest)return new y.XMLHttpRequest;throw new Error("Browser-only version of superagent could not find XHR")};const B="".trim?X=>X.trim():X=>X.replace(/(^\s*|\s*$)/g,"");function Y(X){if(!C(X))return X;const K=[];for(const ne in X)I(X,ne)&&se(K,ne,X[ne]);return K.join("&")}function se(X,K,ne){if(ne!==void 0)if(ne!==null)if(Array.isArray(ne)){var ee,ue=m(ne);try{for(ue.s();!(ee=ue.n()).done;)se(X,K,ee.value)}catch(Q){ue.e(Q)}finally{ue.f()}}else if(C(ne))for(const Q in ne)I(ne,Q)&&se(X,`${K}[${Q}]`,ne[Q]);else X.push(encodeURI(K)+"="+encodeURIComponent(ne));else X.push(encodeURI(K))}function de(X){const K={},ne=X.split("&");let ee,ue;for(let Q=0,fe=ne.length;Q<fe;++Q)ee=ne[Q],ue=ee.indexOf("="),ue===-1?K[decodeURIComponent(ee)]="":K[decodeURIComponent(ee.slice(0,ue))]=decodeURIComponent(ee.slice(ue+1));return K}function J(X){return/[/+]json($|[^-\w])/i.test(X)}function be(X){this.req=X,this.xhr=this.req.xhr,this.text=this.req.method!=="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||this.xhr.responseType===void 0?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;let K=this.xhr.status;K===1223&&(K=204),this._setStatusProperties(K),this.headers=function(ne){const ee=ne.split(/\r?\n/),ue={};let Q,fe,Se,Oe;for(let Ie=0,je=ee.length;Ie<je;++Ie)fe=ee[Ie],Q=fe.indexOf(":"),Q!==-1&&(Se=fe.slice(0,Q).toLowerCase(),Oe=B(fe.slice(Q+1)),ue[Se]=Oe);return ue}(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.text===null&&X._responseType?this.body=this.xhr.response:this.body=this.req.method==="HEAD"?null:this._parseBody(this.text?this.text:this.xhr.response)}function q(X,K){const ne=this;this._query=this._query||[],this.method=X,this.url=K,this.header={},this._header={},this.on("end",()=>{let ee,ue=null,Q=null;try{Q=new be(ne)}catch(fe){return ue=new Error("Parser is unable to parse the response"),ue.parse=!0,ue.original=fe,ne.xhr?(ue.rawResponse=ne.xhr.responseType===void 0?ne.xhr.responseText:ne.xhr.response,ue.status=ne.xhr.status?ne.xhr.status:null,ue.statusCode=ue.status):(ue.rawResponse=null,ue.status=null),ne.callback(ue)}ne.emit("response",Q);try{ne._isResponseOK(Q)||(ee=new Error(Q.statusText||Q.text||"Unsuccessful HTTP response"))}catch(fe){ee=fe}ee?(ee.original=ue,ee.response=Q,ee.status=ee.status||Q.status,ne.callback(ee,Q)):ne.callback(null,Q)})}z.serializeObject=Y,z.parseString=de,z.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},z.serialize={"application/x-www-form-urlencoded":A.stringify,"application/json":_},z.parse={"application/x-www-form-urlencoded":de,"application/json":JSON.parse},N(be.prototype,O.prototype),be.prototype._parseBody=function(X){let K=z.parse[this.type];return this.req._parser?this.req._parser(this,X):(!K&&J(this.type)&&(K=z.parse["application/json"]),K&&X&&(X.length>0||X instanceof Object)?K(X):null)},be.prototype.toError=function(){const X=this.req,K=X.method,ne=X.url,ee=`cannot ${K} ${ne} (${this.status})`,ue=new Error(ee);return ue.status=this.status,ue.method=K,ue.url=ne,ue},z.Response=be,v(q.prototype),N(q.prototype,S.prototype),q.prototype.type=function(X){return this.set("Content-Type",z.types[X]||X),this},q.prototype.accept=function(X){return this.set("Accept",z.types[X]||X),this},q.prototype.auth=function(X,K,ne){arguments.length===1&&(K=""),typeof K=="object"&&K!==null&&(ne=K,K=""),ne||(ne={type:typeof btoa=="function"?"basic":"auto"});const ee=ne.encoder?ne.encoder:ue=>{if(typeof btoa=="function")return btoa(ue);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(X,K,ne,ee)},q.prototype.query=function(X){return typeof X!="string"&&(X=Y(X)),X&&this._query.push(X),this},q.prototype.attach=function(X,K,ne){if(K){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(X,K,ne||K.name)}return this},q.prototype._getFormData=function(){return this._formData||(this._formData=new y.FormData),this._formData},q.prototype.callback=function(X,K){if(this._shouldRetry(X,K))return this._retry();const ne=this._callback;this.clearTimeout(),X&&(this._maxRetries&&(X.retries=this._retries-1),this.emit("error",X)),ne(X,K)},q.prototype.crossDomainError=function(){const X=new Error(`Request has been terminated
Possible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.`);X.crossDomain=!0,X.status=this.status,X.method=this.method,X.url=this.url,this.callback(X)},q.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},q.prototype.ca=q.prototype.agent,q.prototype.buffer=q.prototype.ca,q.prototype.write=()=>{throw new Error("Streaming is not supported in browser version of superagent")},q.prototype.pipe=q.prototype.write,q.prototype._isHost=function(X){return X&&typeof X=="object"&&!Array.isArray(X)&&Object.prototype.toString.call(X)!=="[object Object]"},q.prototype.end=function(X){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=X||L,this._finalizeQueryString(),this._end()},q.prototype._setUploadTimeout=function(){const X=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout(()=>{X._timeoutError("Upload timeout of ",X._uploadTimeout,"ETIMEDOUT")},this._uploadTimeout))},q.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));const X=this;this.xhr=z.getXHR();const K=this.xhr;let ne=this._formData||this._data;this._setTimeouts(),K.addEventListener("readystatechange",()=>{const ue=K.readyState;if(ue>=2&&X._responseTimeoutTimer&&clearTimeout(X._responseTimeoutTimer),ue!==4)return;let Q;try{Q=K.status}catch{Q=0}if(!Q)return X.timedout||X._aborted?void 0:X.crossDomainError();X.emit("end")});const ee=(ue,Q)=>{Q.total>0&&(Q.percent=Q.loaded/Q.total*100,Q.percent===100&&clearTimeout(X._uploadTimeoutTimer)),Q.direction=ue,X.emit("progress",Q)};if(this.hasListeners("progress"))try{K.addEventListener("progress",ee.bind(null,"download")),K.upload&&K.upload.addEventListener("progress",ee.bind(null,"upload"))}catch{}K.upload&&this._setUploadTimeout();try{this.username&&this.password?K.open(this.method,this.url,!0,this.username,this.password):K.open(this.method,this.url,!0)}catch(ue){return this.callback(ue)}if(this._withCredentials&&(K.withCredentials=!0),!this._formData&&this.method!=="GET"&&this.method!=="HEAD"&&typeof ne!="string"&&!this._isHost(ne)){const ue=this._header["content-type"];let Q=this._serializer||z.serialize[ue?ue.split(";")[0]:""];!Q&&J(ue)&&(Q=z.serialize["application/json"]),Q&&(ne=Q(ne))}for(const ue in this.header)this.header[ue]!==null&&I(this.header,ue)&&K.setRequestHeader(ue,this.header[ue]);this._responseType&&(K.responseType=this._responseType),this.emit("request",this),K.send(ne===void 0?null:ne)},z.agent=()=>new F;for(var Te=0,ie=["GET","POST","OPTIONS","PATCH","PUT","DELETE"];Te<ie.length;Te++){const X=ie[Te];F.prototype[X.toLowerCase()]=function(K,ne){const ee=new z.Request(X,K);return this._setDefaults(ee),ne&&ee.end(ne),ee}}function ce(X,K,ne){const ee=z("DELETE",X);return typeof K=="function"&&(ne=K,K=null),K&&ee.send(K),ne&&ee.end(ne),ee}F.prototype.del=F.prototype.delete,z.get=(X,K,ne)=>{const ee=z("GET",X);return typeof K=="function"&&(ne=K,K=null),K&&ee.query(K),ne&&ee.end(ne),ee},z.head=(X,K,ne)=>{const ee=z("HEAD",X);return typeof K=="function"&&(ne=K,K=null),K&&ee.query(K),ne&&ee.end(ne),ee},z.options=(X,K,ne)=>{const ee=z("OPTIONS",X);return typeof K=="function"&&(ne=K,K=null),K&&ee.send(K),ne&&ee.end(ne),ee},z.del=ce,z.delete=ce,z.patch=(X,K,ne)=>{const ee=z("PATCH",X);return typeof K=="function"&&(ne=K,K=null),K&&ee.send(K),ne&&ee.end(ne),ee},z.post=(X,K,ne)=>{const ee=z("POST",X);return typeof K=="function"&&(ne=K,K=null),K&&ee.send(K),ne&&ee.end(ne),ee},z.put=(X,K,ne)=>{const ee=z("PUT",X);return typeof K=="function"&&(ne=K,K=null),K&&ee.send(K),ne&&ee.end(ne),ee}},8899:(c,u,h)=>{const m=h(3695),g=h(4506),y=g.isObject,v=g.hasOwn;function _(){}c.exports=_,_.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},_.prototype.parse=function(T){return this._parser=T,this},_.prototype.responseType=function(T){return this._responseType=T,this},_.prototype.serialize=function(T){return this._serializer=T,this},_.prototype.timeout=function(T){if(!T||typeof T!="object")return this._timeout=T,this._responseTimeout=0,this._uploadTimeout=0,this;for(const C in T)if(v(T,C))switch(C){case"deadline":this._timeout=T.deadline;break;case"response":this._responseTimeout=T.response;break;case"upload":this._uploadTimeout=T.upload;break;default:console.warn("Unknown timeout option",C)}return this},_.prototype.retry=function(T,C){return arguments.length!==0&&T!==!0||(T=1),T<=0&&(T=0),this._maxRetries=T,this._retries=0,this._retryCallback=C,this};const A=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),S=new Set([408,413,429,500,502,503,504,521,522,524]);_.prototype._shouldRetry=function(T,C){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{const N=this._retryCallback(T,C);if(N===!0)return!0;if(N===!1)return!1}catch(N){console.error(N)}return!!(C&&C.status&&S.has(C.status)||T&&(T.code&&A.has(T.code)||T.timeout&&T.code==="ECONNABORTED"||T.crossDomain))},_.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},_.prototype.then=function(T,C){if(!this._fullfilledPromise){const N=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise((I,O)=>{N.on("abort",()=>{if(this._maxRetries&&this._maxRetries>this._retries)return;if(this.timedout&&this.timedoutError)return void O(this.timedoutError);const F=new Error("Aborted");F.code="ABORTED",F.status=this.status,F.method=this.method,F.url=this.url,O(F)}),N.end((F,L)=>{F?O(F):I(L)})})}return this._fullfilledPromise.then(T,C)},_.prototype.catch=function(T){return this.then(void 0,T)},_.prototype.use=function(T){return T(this),this},_.prototype.ok=function(T){if(typeof T!="function")throw new Error("Callback required");return this._okCallback=T,this},_.prototype._isResponseOK=function(T){return!!T&&(this._okCallback?this._okCallback(T):T.status>=200&&T.status<300)},_.prototype.get=function(T){return this._header[T.toLowerCase()]},_.prototype.getHeader=_.prototype.get,_.prototype.set=function(T,C){if(y(T)){for(const N in T)v(T,N)&&this.set(N,T[N]);return this}return this._header[T.toLowerCase()]=C,this.header[T]=C,this},_.prototype.unset=function(T){return delete this._header[T.toLowerCase()],delete this.header[T],this},_.prototype.field=function(T,C,N){if(T==null)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(y(T)){for(const I in T)v(T,I)&&this.field(I,T[I]);return this}if(Array.isArray(C)){for(const I in C)v(C,I)&&this.field(T,C[I]);return this}if(C==null)throw new Error(".field(name, val) val can not be empty");return typeof C=="boolean"&&(C=String(C)),N?this._getFormData().append(T,C,N):this._getFormData().append(T,C),this},_.prototype.abort=function(){if(this._aborted)return this;if(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req){if(m.gte(process.version,"v13.0.0")&&m.lt(process.version,"v14.0.0"))throw new Error("Superagent does not work in v13 properly with abort() due to Node.js core changes");this.req.abort()}return this.clearTimeout(),this.emit("abort"),this},_.prototype._auth=function(T,C,N,I){switch(N.type){case"basic":this.set("Authorization",`Basic ${I(`${T}:${C}`)}`);break;case"auto":this.username=T,this.password=C;break;case"bearer":this.set("Authorization",`Bearer ${T}`)}return this},_.prototype.withCredentials=function(T){return T===void 0&&(T=!0),this._withCredentials=T,this},_.prototype.redirects=function(T){return this._maxRedirects=T,this},_.prototype.maxResponseSize=function(T){if(typeof T!="number")throw new TypeError("Invalid argument");return this._maxResponseSize=T,this},_.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},_.prototype.send=function(T){const C=y(T);let N=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(C&&!this._data)Array.isArray(T)?this._data=[]:this._isHost(T)||(this._data={});else if(T&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(C&&y(this._data))for(const I in T){if(typeof T[I]=="bigint"&&!T[I].toJSON)throw new Error("Cannot serialize BigInt value to json");v(T,I)&&(this._data[I]=T[I])}else{if(typeof T=="bigint")throw new Error("Cannot send value of type BigInt");typeof T=="string"?(N||this.type("form"),N=this._header["content-type"],N&&(N=N.toLowerCase().trim()),this._data=N==="application/x-www-form-urlencoded"?this._data?`${this._data}&${T}`:T:(this._data||"")+T):this._data=T}return!C||this._isHost(T)||N||this.type("json"),this},_.prototype.sortQuery=function(T){return this._sort=T===void 0||T,this},_.prototype._finalizeQueryString=function(){const T=this._query.join("&");if(T&&(this.url+=(this.url.includes("?")?"&":"?")+T),this._query.length=0,this._sort){const C=this.url.indexOf("?");if(C>=0){const N=this.url.slice(C+1).split("&");typeof this._sort=="function"?N.sort(this._sort):N.sort(),this.url=this.url.slice(0,C)+"?"+N.join("&")}}},_.prototype._appendQueryString=()=>{console.warn("Unsupported")},_.prototype._timeoutError=function(T,C,N){if(this._aborted)return;const I=new Error(`${T+C}ms exceeded`);I.timeout=C,I.code="ECONNABORTED",I.errno=N,this.timedout=!0,this.timedoutError=I,this.abort(),this.callback(I)},_.prototype._setTimeouts=function(){const T=this;this._timeout&&!this._timer&&(this._timer=setTimeout(()=>{T._timeoutError("Timeout of ",T._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(()=>{T._timeoutError("Response timeout of ",T._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},1097:(c,u,h)=>{const m=h(4506);function g(){}c.exports=g,g.prototype.get=function(y){return this.header[y.toLowerCase()]},g.prototype._setHeaderProperties=function(y){const v=y["content-type"]||"";this.type=m.type(v);const _=m.params(v);for(const A in _)Object.prototype.hasOwnProperty.call(_,A)&&(this[A]=_[A]);this.links={};try{y.link&&(this.links=m.parseLinks(y.link))}catch{}},g.prototype._setStatusProperties=function(y){const v=Math.trunc(y/100);this.statusCode=y,this.status=this.statusCode,this.statusType=v,this.info=v===1,this.ok=v===2,this.redirect=v===3,this.clientError=v===4,this.serverError=v===5,this.error=(v===4||v===5)&&this.toError(),this.created=y===201,this.accepted=y===202,this.noContent=y===204,this.badRequest=y===400,this.unauthorized=y===401,this.notAcceptable=y===406,this.forbidden=y===403,this.notFound=y===404,this.unprocessableEntity=y===422}},4506:(c,u)=>{function h(g,y){var v=typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(!v){if(Array.isArray(g)||(v=function(N,I){if(N){if(typeof N=="string")return m(N,I);var O=Object.prototype.toString.call(N).slice(8,-1);if(O==="Object"&&N.constructor&&(O=N.constructor.name),O==="Map"||O==="Set")return Array.from(N);if(O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O))return m(N,I)}}(g))||y){v&&(g=v);var _=0,A=function(){};return{s:A,n:function(){return _>=g.length?{done:!0}:{done:!1,value:g[_++]}},e:function(N){throw N},f:A}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var S,T=!0,C=!1;return{s:function(){v=v.call(g)},n:function(){var N=v.next();return T=N.done,N},e:function(N){C=!0,S=N},f:function(){try{T||v.return==null||v.return()}finally{if(C)throw S}}}}function m(g,y){(y==null||y>g.length)&&(y=g.length);for(var v=0,_=new Array(y);v<y;v++)_[v]=g[v];return _}u.type=g=>g.split(/ *; */).shift(),u.params=g=>{const y={};var v,_=h(g.split(/ *; */));try{for(_.s();!(v=_.n()).done;){const A=v.value.split(/ *= */),S=A.shift(),T=A.shift();S&&T&&(y[S]=T)}}catch(A){_.e(A)}finally{_.f()}return y},u.parseLinks=g=>{const y={};var v,_=h(g.split(/ *, */));try{for(_.s();!(v=_.n()).done;){const A=v.value.split(/ *; */),S=A[0].slice(1,-1);y[A[1].split(/ *= */)[1].slice(1,-1)]=S}}catch(A){_.e(A)}finally{_.f()}return y},u.cleanHeader=(g,y)=>(delete g["content-type"],delete g["content-length"],delete g["transfer-encoding"],delete g.host,y&&(delete g.authorization,delete g.cookie),g),u.isObject=g=>g!==null&&typeof g=="object",u.hasOwn=Object.hasOwn||function(g,y){if(g==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(new Object(g),y)},u.mixin=(g,y)=>{for(const v in y)u.hasOwn(y,v)&&(g[v]=y[v])}},2739:c=>{c.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4="},6631:c=>{c.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg=="},7511:c=>{c.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4="},4493:c=>{c.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4="},4654:()=>{},3695:()=>{}},r={};function o(c){var u=r[c];if(u!==void 0)return u.exports;var h=r[c]={id:c,exports:{}};return i[c](h,h.exports,o),h.exports}o.m=i,o.n=c=>{var u=c&&c.__esModule?()=>c.default:()=>c;return o.d(u,{a:u}),u},o.d=(c,u)=>{for(var h in u)o.o(u,h)&&!o.o(c,h)&&Object.defineProperty(c,h,{enumerable:!0,get:u[h]})},o.o=(c,u)=>Object.prototype.hasOwnProperty.call(c,u),o.b=document.baseURI||self.location.href;var l={};return(()=>{function c({emitter:f,activator:t,callback:s,contextElements:a}){f.listenTo(document,"mousedown",(d,p)=>{if(!t())return;const w=typeof p.composedPath=="function"?p.composedPath():[],k=typeof a=="function"?a():a;for(const D of k)if(D.contains(p.target)||w.includes(D))return;s()})}function u(f){return class extends f{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...t){super(...t),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function h({view:f}){f.listenTo(f.element,"submit",(t,s)=>{s.preventDefault(),f.fire("submit")},{useCapture:!0})}o.d(l,{default:()=>KI});const m=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}(),g={isMac:v(m),isWindows:function(f){return f.indexOf("windows")>-1}(m),isGecko:function(f){return!!f.match(/gecko\/\d+/)}(m),isSafari:function(f){return f.indexOf(" applewebkit/")>-1&&f.indexOf("chrome")===-1}(m),isiOS:function(f){return!!f.match(/iphone|ipad/i)||v(f)&&navigator.maxTouchPoints>0}(m),isAndroid:function(f){return f.indexOf("android")>-1}(m),isBlink:function(f){return f.indexOf("chrome/")>-1&&f.indexOf("edge/")<0}(m),features:{isRegExpUnicodePropertySupported:function(){let f=!1;try{f="ć".search(new RegExp("[\\p{L}]","u"))===0}catch{}return f}()}},y=g;function v(f){return f.indexOf("macintosh")>-1}function _(f,t,s,a){s=s||function(D,R){return D===R};const d=Array.isArray(f)?f:Array.prototype.slice.call(f),p=Array.isArray(t)?t:Array.prototype.slice.call(t),w=function(D,R,M){const U=A(D,R,M);if(U===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const W=S(D,U),Z=S(R,U),re=A(W,Z,M),le=D.length-re,xe=R.length-re;return{firstIndex:U,lastIndexOld:le,lastIndexNew:xe}}(d,p,s);return a?function(D,R){const{firstIndex:M,lastIndexOld:U,lastIndexNew:W}=D;if(M===-1)return Array(R).fill("equal");let Z=[];return M>0&&(Z=Z.concat(Array(M).fill("equal"))),W-M>0&&(Z=Z.concat(Array(W-M).fill("insert"))),U-M>0&&(Z=Z.concat(Array(U-M).fill("delete"))),W<R&&(Z=Z.concat(Array(R-W).fill("equal"))),Z}(w,p.length):function(D,R){const M=[],{firstIndex:U,lastIndexOld:W,lastIndexNew:Z}=R;return Z-U>0&&M.push({index:U,type:"insert",values:D.slice(U,Z)}),W-U>0&&M.push({index:U+(Z-U),type:"delete",howMany:W-U}),M}(p,w)}function A(f,t,s){for(let a=0;a<Math.max(f.length,t.length);a++)if(f[a]===void 0||t[a]===void 0||!s(f[a],t[a]))return a;return-1}function S(f,t){return f.slice(t).reverse()}function T(f,t,s){s=s||function(le,xe){return le===xe};const a=f.length,d=t.length;if(a>200||d>200||a+d>300)return T.fastDiff(f,t,s,!0);let p,w;if(d<a){const le=f;f=t,t=le,p="delete",w="insert"}else p="insert",w="delete";const k=f.length,D=t.length,R=D-k,M={},U={};function W(le){const xe=(U[le-1]!==void 0?U[le-1]:-1)+1,Pe=U[le+1]!==void 0?U[le+1]:-1,Ge=xe>Pe?-1:1;M[le+Ge]&&(M[le]=M[le+Ge].slice(0)),M[le]||(M[le]=[]),M[le].push(xe>Pe?p:w);let tt=Math.max(xe,Pe),Nt=tt-le;for(;Nt<k&&tt<D&&s(f[Nt],t[tt]);)Nt++,tt++,M[le].push("equal");return tt}let Z,re=0;do{for(Z=-re;Z<R;Z++)U[Z]=W(Z);for(Z=R+re;Z>R;Z--)U[Z]=W(Z);U[R]=W(R),re++}while(U[R]!==D);return M[R].slice(1)}T.fastDiff=_;const C=function(){return function f(){f.called=!0}};class N{constructor(t,s){this.source=t,this.name=s,this.path=[],this.stop=C(),this.off=C()}}const I=new Array(256).fill("").map((f,t)=>("0"+t.toString(16)).slice(-2));function O(){const f=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,s=4294967296*Math.random()>>>0,a=4294967296*Math.random()>>>0;return"e"+I[f>>0&255]+I[f>>8&255]+I[f>>16&255]+I[f>>24&255]+I[t>>0&255]+I[t>>8&255]+I[t>>16&255]+I[t>>24&255]+I[s>>0&255]+I[s>>8&255]+I[s>>16&255]+I[s>>24&255]+I[a>>0&255]+I[a>>8&255]+I[a>>16&255]+I[a>>24&255]}const F={get(f="normal"){return typeof f!="number"?this[f]||this.normal:f},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function L(f,t){const s=F.get(t.priority);for(let a=0;a<f.length;a++)if(F.get(f[a].priority)<s)return void f.splice(a,0,t);f.push(t)}const z="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class B extends Error{constructor(t,s,a){super(function(d,p){const w=new WeakSet,k=(M,U)=>{if(typeof U=="object"&&U!==null){if(w.has(U))return`[object ${U.constructor.name}]`;w.add(U)}return U},D=p?` ${JSON.stringify(p,k)}`:"",R=se(d);return d+D+R}(t,a)),this.name="CKEditorError",this.context=s,this.data=a}is(t){return t==="CKEditorError"}static rethrowUnexpectedError(t,s){if(t.is&&t.is("CKEditorError"))throw t;const a=new B(t.message,s);throw a.stack=t.stack,a}}function Y(f,t){console.warn(...de(f,t))}function se(f){return`
Read more: ${z}#error-${f}`}function de(f,t){const s=se(f);return t?[f,t,s]:[f,s]}const J="40.0.0",be=new Date(2023,9,4);if(globalThis.CKEDITOR_VERSION)throw new B("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=J;const q=Symbol("listeningTo"),Te=Symbol("emitterId"),ie=Symbol("delegations"),ce=X(Object);function X(f){return f?class extends f{on(t,s,a){this.listenTo(this,t,s,a)}once(t,s,a){let d=!1;this.listenTo(this,t,(p,...w)=>{d||(d=!0,p.off(),s.call(this,p,...w))},a)}off(t,s){this.stopListening(this,t,s)}listenTo(t,s,a,d={}){let p,w;this[q]||(this[q]={});const k=this[q];ne(t)||K(t);const D=ne(t);(p=k[D])||(p=k[D]={emitter:t,callbacks:{}}),(w=p.callbacks[s])||(w=p.callbacks[s]=[]),w.push(a),function(R,M,U,W,Z){M._addEventListener?M._addEventListener(U,W,Z):R._addEventListener.call(M,U,W,Z)}(this,t,s,a,d)}stopListening(t,s,a){const d=this[q];let p=t&&ne(t);const w=d&&p?d[p]:void 0,k=w&&s?w.callbacks[s]:void 0;if(!(!d||t&&!w||s&&!k))if(a)Se(this,t,s,a),k.indexOf(a)!==-1&&(k.length===1?delete w.callbacks[s]:Se(this,t,s,a));else if(k){for(;a=k.pop();)Se(this,t,s,a);delete w.callbacks[s]}else if(w){for(s in w.callbacks)this.stopListening(t,s);delete d[p]}else{for(p in d)this.stopListening(d[p].emitter);delete this[q]}}fire(t,...s){try{const a=t instanceof N?t:new N(this,t),d=a.name;let p=Q(this,d);if(a.path.push(this),p){const k=[a,...s];p=Array.from(p);for(let D=0;D<p.length&&(p[D].callback.apply(this,k),a.off.called&&(delete a.off.called,this._removeEventListener(d,p[D].callback)),!a.stop.called);D++);}const w=this[ie];if(w){const k=w.get(d),D=w.get("*");k&&fe(k,a,s),D&&fe(D,a,s)}return a.return}catch(a){B.rethrowUnexpectedError(a,this)}}delegate(...t){return{to:(s,a)=>{this[ie]||(this[ie]=new Map),t.forEach(d=>{const p=this[ie].get(d);p?p.set(s,a):this[ie].set(d,new Map([[s,a]]))})}}}stopDelegating(t,s){if(this[ie])if(t)if(s){const a=this[ie].get(t);a&&a.delete(s)}else this[ie].delete(t);else this[ie].clear()}_addEventListener(t,s,a){(function(w,k){const D=ee(w);if(D[k])return;let R=k,M=null;const U=[];for(;R!==""&&!D[R];)D[R]={callbacks:[],childEvents:[]},U.push(D[R]),M&&D[R].childEvents.push(M),M=R,R=R.substr(0,R.lastIndexOf(":"));if(R!==""){for(const W of U)W.callbacks=D[R].callbacks.slice();D[R].childEvents.push(M)}})(this,t);const d=ue(this,t),p={callback:s,priority:F.get(a.priority)};for(const w of d)L(w,p)}_removeEventListener(t,s){const a=ue(this,t);for(const d of a)for(let p=0;p<d.length;p++)d[p].callback==s&&(d.splice(p,1),p--)}}:ce}function K(f,t){f[Te]||(f[Te]=t||O())}function ne(f){return f[Te]}function ee(f){return f._events||Object.defineProperty(f,"_events",{value:{}}),f._events}function ue(f,t){const s=ee(f)[t];if(!s)return[];let a=[s.callbacks];for(let d=0;d<s.childEvents.length;d++){const p=ue(f,s.childEvents[d]);a=a.concat(p)}return a}function Q(f,t){let s;return f._events&&(s=f._events[t])&&s.callbacks.length?s.callbacks:t.indexOf(":")>-1?Q(f,t.substr(0,t.lastIndexOf(":"))):null}function fe(f,t,s){for(let[a,d]of f){d?typeof d=="function"&&(d=d(t.name)):d=t.name;const p=new N(t.source,d);p.path=[...t.path],a.fire(p,...s)}}function Se(f,t,s,a){t._removeEventListener?t._removeEventListener(s,a):f._removeEventListener.call(t,s,a)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(f=>{X[f]=ce.prototype[f]});const Oe=function(f){var t=typeof f;return f!=null&&(t=="object"||t=="function")},Ie=Symbol("observableProperties"),je=Symbol("boundObservables"),Be=Symbol("boundProperties"),Fe=Symbol("decoratedMethods"),Ae=Symbol("decoratedOriginal"),ke=ze(X());function ze(f){return f?class extends f{set(t,s){if(Oe(t))return void Object.keys(t).forEach(d=>{this.set(d,t[d])},this);$(this);const a=this[Ie];if(t in this&&!a.has(t))throw new B("observable-set-cannot-override",this);Object.defineProperty(this,t,{enumerable:!0,configurable:!0,get:()=>a.get(t),set(d){const p=a.get(t);let w=this.fire(`set:${t}`,t,d,p);w===void 0&&(w=d),p===w&&a.has(t)||(a.set(t,w),this.fire(`change:${t}`,t,w,p))}}),this[t]=s}bind(...t){if(!t.length||!ye(t))throw new B("observable-bind-wrong-properties",this);if(new Set(t).size!==t.length)throw new B("observable-bind-duplicate-properties",this);$(this);const s=this[Be];t.forEach(d=>{if(s.has(d))throw new B("observable-bind-rebind",this)});const a=new Map;return t.forEach(d=>{const p={property:d,to:[]};s.set(d,p),a.set(d,p)}),{to:Ce,toMany:Me,_observable:this,_bindProperties:t,_to:[],_bindings:a}}unbind(...t){if(!this[Ie])return;const s=this[Be],a=this[je];if(t.length){if(!ye(t))throw new B("observable-unbind-wrong-properties",this);t.forEach(d=>{const p=s.get(d);p&&(p.to.forEach(([w,k])=>{const D=a.get(w),R=D[k];R.delete(p),R.size||delete D[k],Object.keys(D).length||(a.delete(w),this.stopListening(w,"change"))}),s.delete(d))})}else a.forEach((d,p)=>{this.stopListening(p,"change")}),a.clear(),s.clear()}decorate(t){$(this);const s=this[t];if(!s)throw new B("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:t});this.on(t,(a,d)=>{a.return=s.apply(this,d)}),this[t]=function(...a){return this.fire(t,a)},this[t][Ae]=s,this[Fe]||(this[Fe]=[]),this[Fe].push(t)}stopListening(t,s,a){if(!t&&this[Fe]){for(const d of this[Fe])this[d]=this[d][Ae];delete this[Fe]}super.stopListening(t,s,a)}}:ke}function $(f){f[Ie]||(Object.defineProperty(f,Ie,{value:new Map}),Object.defineProperty(f,je,{value:new Map}),Object.defineProperty(f,Be,{value:new Map}))}function Ce(...f){const t=function(...p){if(!p.length)throw new B("observable-bind-to-parse-error",null);const w={to:[]};let k;return typeof p[p.length-1]=="function"&&(w.callback=p.pop()),p.forEach(D=>{if(typeof D=="string")k.properties.push(D);else{if(typeof D!="object")throw new B("observable-bind-to-parse-error",null);k={observable:D,properties:[]},w.to.push(k)}}),w}(...f),s=Array.from(this._bindings.keys()),a=s.length;if(!t.callback&&t.to.length>1)throw new B("observable-bind-to-no-callback",this);if(a>1&&t.callback)throw new B("observable-bind-to-extra-callback",this);var d;t.to.forEach(p=>{if(p.properties.length&&p.properties.length!==a)throw new B("observable-bind-to-properties-length",this);p.properties.length||(p.properties=this._bindProperties)}),this._to=t.to,t.callback&&(this._bindings.get(s[0]).callback=t.callback),d=this._observable,this._to.forEach(p=>{const w=d[je];let k;w.get(p.observable)||d.listenTo(p.observable,"change",(D,R)=>{k=w.get(p.observable)[R],k&&k.forEach(M=>{_e(d,M.property)})})}),function(p){let w;p._bindings.forEach((k,D)=>{p._to.forEach(R=>{w=R.properties[k.callback?0:p._bindProperties.indexOf(D)],k.to.push([R.observable,w]),function(M,U,W,Z){const re=M[je],le=re.get(W),xe=le||{};xe[Z]||(xe[Z]=new Set),xe[Z].add(U),le||re.set(W,xe)}(p._observable,k,R.observable,w)})})}(this),this._bindProperties.forEach(p=>{_e(this._observable,p)})}function Me(f,t,s){if(this._bindings.size>1)throw new B("observable-bind-to-many-not-one-binding",this);this.to(...function(a,d){const p=a.map(w=>[w,d]);return Array.prototype.concat.apply([],p)}(f,t),s)}function ye(f){return f.every(t=>typeof t=="string")}function _e(f,t){const s=f[Be].get(t);let a;s.callback?a=s.callback.apply(f,s.to.map(d=>d[0][d[1]])):(a=s.to[0],a=a[0][a[1]]),Object.prototype.hasOwnProperty.call(f,t)?f[t]=a:f.set(t,a)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(f=>{ze[f]=ke.prototype[f]});class Le{constructor(){this._replacedElements=[]}replace(t,s){this._replacedElements.push({element:t,newElement:s}),t.style.display="none",s&&t.parentNode.insertBefore(s,t.nextSibling)}restore(){this._replacedElements.forEach(({element:t,newElement:s})=>{t.style.display="",s&&s.remove()}),this._replacedElements=[]}}function Ve(f){let t=0;for(const s of f)t++;return t}function $e(f,t){const s=Math.min(f.length,t.length);for(let a=0;a<s;a++)if(f[a]!=t[a])return a;return f.length==t.length?"same":f.length<t.length?"prefix":"extension"}function Ne(f){return!(!f||!f[Symbol.iterator])}const Ee=typeof Gt=="object"&&Gt&&Gt.Object===Object&&Gt;var ve=typeof self=="object"&&self&&self.Object===Object&&self;const ae=Ee||ve||Function("return this")(),Ue=ae.Symbol;var Je=Object.prototype,nt=Je.hasOwnProperty,dt=Je.toString,ft=Ue?Ue.toStringTag:void 0;const Ot=function(f){var t=nt.call(f,ft),s=f[ft];try{f[ft]=void 0;var a=!0}catch{}var d=dt.call(f);return a&&(t?f[ft]=s:delete f[ft]),d};var Ct=Object.prototype.toString;const $t=function(f){return Ct.call(f)};var At=Ue?Ue.toStringTag:void 0;const Zt=function(f){return f==null?f===void 0?"[object Undefined]":"[object Null]":At&&At in Object(f)?Ot(f):$t(f)},qt=Array.isArray,En=function(f){return f!=null&&typeof f=="object"},Or=function(f){return typeof f=="string"||!qt(f)&&En(f)&&Zt(f)=="[object String]"};function $i(f,t,s={},a=[]){const d=s&&s.xmlns,p=d?f.createElementNS(d,t):f.createElement(t);for(const w in s)p.setAttribute(w,s[w]);!Or(a)&&Ne(a)||(a=[a]);for(let w of a)Or(w)&&(w=f.createTextNode(w)),p.appendChild(w);return p}const qi=function(f,t){return function(s){return f(t(s))}},Pi=qi(Object.getPrototypeOf,Object);var Yn=Function.prototype,bi=Object.prototype,yi=Yn.toString,mt=bi.hasOwnProperty,Ft=yi.call(Object);const on=function(f){if(!En(f)||Zt(f)!="[object Object]")return!1;var t=Pi(f);if(t===null)return!0;var s=mt.call(t,"constructor")&&t.constructor;return typeof s=="function"&&s instanceof s&&yi.call(s)==Ft},Mn=function(){this.__data__=[],this.size=0},On=function(f,t){return f===t||f!=f&&t!=t},pr=function(f,t){for(var s=f.length;s--;)if(On(f[s][0],t))return s;return-1};var Fi=Array.prototype.splice;const gt=function(f){var t=this.__data__,s=pr(t,f);return!(s<0)&&(s==t.length-1?t.pop():Fi.call(t,s,1),--this.size,!0)},bn=function(f){var t=this.__data__,s=pr(t,f);return s<0?void 0:t[s][1]},Hi=function(f){return pr(this.__data__,f)>-1},Er=function(f,t){var s=this.__data__,a=pr(s,f);return a<0?(++this.size,s.push([f,t])):s[a][1]=t,this};function Fr(f){var t=-1,s=f==null?0:f.length;for(this.clear();++t<s;){var a=f[t];this.set(a[0],a[1])}}Fr.prototype.clear=Mn,Fr.prototype.delete=gt,Fr.prototype.get=bn,Fr.prototype.has=Hi,Fr.prototype.set=Er;const Gs=Fr,ws=function(){this.__data__=new Gs,this.size=0},sr=function(f){var t=this.__data__,s=t.delete(f);return this.size=t.size,s},xs=function(f){return this.__data__.get(f)},yo=function(f){return this.__data__.has(f)},Jr=function(f){if(!Oe(f))return!1;var t=Zt(f);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"},Lr=ae["__core-js_shared__"];var xi=function(){var f=/[^.]+$/.exec(Lr&&Lr.keys&&Lr.keys.IE_PROTO||"");return f?"Symbol(src)_1."+f:""}();const Dt=function(f){return!!xi&&xi in f};var He=Function.prototype.toString;const rt=function(f){if(f!=null){try{return He.call(f)}catch{}try{return f+""}catch{}}return""};var wt=/^\[object .+?Constructor\]$/,Sn=Function.prototype,ui=Object.prototype,Qn=Sn.toString,or=ui.hasOwnProperty,Gi=RegExp("^"+Qn.call(or).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Qo=function(f){return!(!Oe(f)||Dt(f))&&(Jr(f)?Gi:wt).test(rt(f))},xl=function(f,t){return f==null?void 0:f[t]},xn=function(f,t){var s=xl(f,t);return Qo(s)?s:void 0},vo=xn(ae,"Map"),wo=xn(Object,"create"),_l=function(){this.__data__=wo?wo(null):{},this.size=0},rg=function(f){var t=this.has(f)&&delete this.__data__[f];return this.size-=t?1:0,t};var Od=Object.prototype.hasOwnProperty;const mu=function(f){var t=this.__data__;if(wo){var s=t[f];return s==="__lodash_hash_undefined__"?void 0:s}return Od.call(t,f)?t[f]:void 0};var xo=Object.prototype.hasOwnProperty;const ea=function(f){var t=this.__data__;return wo?t[f]!==void 0:xo.call(t,f)},_o=function(f,t){var s=this.__data__;return this.size+=this.has(f)?0:1,s[f]=wo&&t===void 0?"__lodash_hash_undefined__":t,this};function Sr(f){var t=-1,s=f==null?0:f.length;for(this.clear();++t<s;){var a=f[t];this.set(a[0],a[1])}}Sr.prototype.clear=_l,Sr.prototype.delete=rg,Sr.prototype.get=mu,Sr.prototype.has=ea,Sr.prototype.set=_o;const Pa=Sr,yc=function(){this.size=0,this.__data__={hash:new Pa,map:new(vo||Gs),string:new Pa}},kl=function(f){var t=typeof f;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?f!=="__proto__":f===null},vc=function(f,t){var s=f.__data__;return kl(t)?s[typeof t=="string"?"string":"hash"]:s.map},ct=function(f){var t=vc(this,f).delete(f);return this.size-=t?1:0,t},vt=function(f){return vc(this,f).get(f)},Et=function(f){return vc(this,f).has(f)},vi=function(f,t){var s=vc(this,f),a=s.size;return s.set(f,t),this.size+=s.size==a?0:1,this};function Ii(f){var t=-1,s=f==null?0:f.length;for(this.clear();++t<s;){var a=f[t];this.set(a[0],a[1])}}Ii.prototype.clear=yc,Ii.prototype.delete=ct,Ii.prototype.get=vt,Ii.prototype.has=Et,Ii.prototype.set=vi;const Qr=Ii,gu=function(f,t){var s=this.__data__;if(s instanceof Gs){var a=s.__data__;if(!vo||a.length<199)return a.push([f,t]),this.size=++s.size,this;s=this.__data__=new Qr(a)}return s.set(f,t),this.size=s.size,this};function Ur(f){var t=this.__data__=new Gs(f);this.size=t.size}Ur.prototype.clear=ws,Ur.prototype.delete=sr,Ur.prototype.get=xs,Ur.prototype.has=yo,Ur.prototype.set=gu;const ko=Ur,Fd=function(f,t){for(var s=-1,a=f==null?0:f.length;++s<a&&t(f[s],s,f)!==!1;);return f},Ia=function(){try{var f=xn(Object,"defineProperty");return f({},"",{}),f}catch{}}(),Ld=function(f,t,s){t=="__proto__"&&Ia?Ia(f,t,{configurable:!0,enumerable:!0,value:s,writable:!0}):f[t]=s};var iy=Object.prototype.hasOwnProperty;const bu=function(f,t,s){var a=f[t];iy.call(f,t)&&On(a,s)&&(s!==void 0||t in f)||Ld(f,t,s)},El=function(f,t,s,a){var d=!s;s||(s={});for(var p=-1,w=t.length;++p<w;){var k=t[p],D=void 0;D===void 0&&(D=f[k]),d?Ld(s,k,D):bu(s,k,D)}return s},sg=function(f,t){for(var s=-1,a=Array(f);++s<f;)a[s]=t(s);return a},og=function(f){return En(f)&&Zt(f)=="[object Arguments]"};var ag=Object.prototype,ry=ag.hasOwnProperty,lg=ag.propertyIsEnumerable;const cg=og(function(){return arguments}())?og:function(f){return En(f)&&ry.call(f,"callee")&&!lg.call(f,"callee")},Pf=function(){return!1};var zn=e&&!e.nodeType&&e,Sl=zn&&!0&&n&&!n.nodeType&&n,yu=Sl&&Sl.exports===zn?ae.Buffer:void 0;const vu=(yu?yu.isBuffer:void 0)||Pf;var If=/^(?:0|[1-9]\d*)$/;const Al=function(f,t){var s=typeof f;return!!(t=t??9007199254740991)&&(s=="number"||s!="symbol"&&If.test(f))&&f>-1&&f%1==0&&f<t},Ud=function(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=9007199254740991};var Vn={};Vn["[object Float32Array]"]=Vn["[object Float64Array]"]=Vn["[object Int8Array]"]=Vn["[object Int16Array]"]=Vn["[object Int32Array]"]=Vn["[object Uint8Array]"]=Vn["[object Uint8ClampedArray]"]=Vn["[object Uint16Array]"]=Vn["[object Uint32Array]"]=!0,Vn["[object Arguments]"]=Vn["[object Array]"]=Vn["[object ArrayBuffer]"]=Vn["[object Boolean]"]=Vn["[object DataView]"]=Vn["[object Date]"]=Vn["[object Error]"]=Vn["[object Function]"]=Vn["[object Map]"]=Vn["[object Number]"]=Vn["[object Object]"]=Vn["[object RegExp]"]=Vn["[object Set]"]=Vn["[object String]"]=Vn["[object WeakMap]"]=!1;const Tl=function(f){return En(f)&&Ud(f.length)&&!!Vn[Zt(f)]},jf=function(f){return function(t){return f(t)}};var sy=e&&!e.nodeType&&e,Bd=sy&&!0&&n&&!n.nodeType&&n,zd=Bd&&Bd.exports===sy&&Ee.process;const Eo=function(){try{var f=Bd&&Bd.require&&Bd.require("util").types;return f||zd&&zd.binding&&zd.binding("util")}catch{}}();var Rf=Eo&&Eo.isTypedArray;const Vd=Rf?jf(Rf):Tl;var Mf=Object.prototype.hasOwnProperty;const Wd=function(f,t){var s=qt(f),a=!s&&cg(f),d=!s&&!a&&vu(f),p=!s&&!a&&!d&&Vd(f),w=s||a||d||p,k=w?sg(f.length,String):[],D=k.length;for(var R in f)!t&&!Mf.call(f,R)||w&&(R=="length"||d&&(R=="offset"||R=="parent")||p&&(R=="buffer"||R=="byteLength"||R=="byteOffset")||Al(R,D))||k.push(R);return k};var Cl=Object.prototype;const wu=function(f){var t=f&&f.constructor;return f===(typeof t=="function"&&t.prototype||Cl)},$d=qi(Object.keys,Object);var oy=Object.prototype.hasOwnProperty;const Of=function(f){if(!wu(f))return $d(f);var t=[];for(var s in Object(f))oy.call(f,s)&&s!="constructor"&&t.push(s);return t},wc=function(f){return f!=null&&Ud(f.length)&&!Jr(f)},Ff=function(f){return wc(f)?Wd(f):Of(f)},_s=function(f,t){return f&&El(t,Ff(t),f)},ja=function(f){var t=[];if(f!=null)for(var s in Object(f))t.push(s);return t};var qd=Object.prototype.hasOwnProperty;const Hd=function(f){if(!Oe(f))return ja(f);var t=wu(f),s=[];for(var a in f)(a!="constructor"||!t&&qd.call(f,a))&&s.push(a);return s},So=function(f){return wc(f)?Wd(f,!0):Hd(f)},Lf=function(f,t){return f&&El(t,So(t),f)};var Dl=e&&!e.nodeType&&e,ay=Dl&&!0&&n&&!n.nodeType&&n,Gd=ay&&ay.exports===Dl?ae.Buffer:void 0,ug=Gd?Gd.allocUnsafe:void 0;const dg=function(f,t){if(t)return f.slice();var s=f.length,a=ug?ug(s):new f.constructor(s);return f.copy(a),a},Xd=function(f,t){var s=-1,a=f.length;for(t||(t=Array(a));++s<a;)t[s]=f[s];return t},px=function(f,t){for(var s=-1,a=f==null?0:f.length,d=0,p=[];++s<a;){var w=f[s];t(w,s,f)&&(p[d++]=w)}return p},ly=function(){return[]};var mx=Object.prototype.propertyIsEnumerable,hg=Object.getOwnPropertySymbols;const fg=hg?function(f){return f==null?[]:(f=Object(f),px(hg(f),function(t){return mx.call(f,t)}))}:ly,gx=function(f,t){return El(f,fg(f),t)},cy=function(f,t){for(var s=-1,a=t.length,d=f.length;++s<a;)f[d+s]=t[s];return f},uy=Object.getOwnPropertySymbols?function(f){for(var t=[];f;)cy(t,fg(f)),f=Pi(f);return t}:ly,pg=function(f,t){return El(f,uy(f),t)},dy=function(f,t,s){var a=t(f);return qt(f)?a:cy(a,s(f))},mg=function(f){return dy(f,Ff,fg)},hy=function(f){return dy(f,So,uy)},gg=xn(ae,"DataView"),bg=xn(ae,"Promise"),yg=xn(ae,"Set"),vg=xn(ae,"WeakMap");var fy="[object Map]",Uf="[object Promise]",xu="[object Set]",py="[object WeakMap]",wg="[object DataView]",my=rt(gg),xg=rt(vo),gy=rt(bg),by=rt(yg),_u=rt(vg),xc=Zt;(gg&&xc(new gg(new ArrayBuffer(1)))!=wg||vo&&xc(new vo)!=fy||bg&&xc(bg.resolve())!=Uf||yg&&xc(new yg)!=xu||vg&&xc(new vg)!=py)&&(xc=function(f){var t=Zt(f),s=t=="[object Object]"?f.constructor:void 0,a=s?rt(s):"";if(a)switch(a){case my:return wg;case xg:return fy;case gy:return Uf;case by:return xu;case _u:return py}return t});const _c=xc;var yy=Object.prototype.hasOwnProperty;const Bf=function(f){var t=f.length,s=new f.constructor(t);return t&&typeof f[0]=="string"&&yy.call(f,"index")&&(s.index=f.index,s.input=f.input),s},Nl=ae.Uint8Array,zf=function(f){var t=new f.constructor(f.byteLength);return new Nl(t).set(new Nl(f)),t},Vf=function(f,t){var s=t?zf(f.buffer):f.buffer;return new f.constructor(s,f.byteOffset,f.byteLength)};var vy=/\w*$/;const _g=function(f){var t=new f.constructor(f.source,vy.exec(f));return t.lastIndex=f.lastIndex,t};var Wf=Ue?Ue.prototype:void 0,Yd=Wf?Wf.valueOf:void 0;const Kn=function(f){return Yd?Object(Yd.call(f)):{}},kg=function(f,t){var s=t?zf(f.buffer):f.buffer;return new f.constructor(s,f.byteOffset,f.length)},wy=function(f,t,s){var a=f.constructor;switch(t){case"[object ArrayBuffer]":return zf(f);case"[object Boolean]":case"[object Date]":return new a(+f);case"[object DataView]":return Vf(f,s);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return kg(f,s);case"[object Map]":case"[object Set]":return new a;case"[object Number]":case"[object String]":return new a(f);case"[object RegExp]":return _g(f);case"[object Symbol]":return Kn(f)}};var xy=Object.create;const bx=function(){function f(){}return function(t){if(!Oe(t))return{};if(xy)return xy(t);f.prototype=t;var s=new f;return f.prototype=void 0,s}}(),_y=function(f){return typeof f.constructor!="function"||wu(f)?{}:bx(Pi(f))},yx=function(f){return En(f)&&_c(f)=="[object Map]"};var ks=Eo&&Eo.isMap;const ky=ks?jf(ks):yx,Kd=function(f){return En(f)&&_c(f)=="[object Set]"};var Eg=Eo&&Eo.isSet;const Ey=Eg?jf(Eg):Kd;var Sg="[object Arguments]",Zd="[object Function]",$f="[object Object]",Zn={};Zn[Sg]=Zn["[object Array]"]=Zn["[object ArrayBuffer]"]=Zn["[object DataView]"]=Zn["[object Boolean]"]=Zn["[object Date]"]=Zn["[object Float32Array]"]=Zn["[object Float64Array]"]=Zn["[object Int8Array]"]=Zn["[object Int16Array]"]=Zn["[object Int32Array]"]=Zn["[object Map]"]=Zn["[object Number]"]=Zn[$f]=Zn["[object RegExp]"]=Zn["[object Set]"]=Zn["[object String]"]=Zn["[object Symbol]"]=Zn["[object Uint8Array]"]=Zn["[object Uint8ClampedArray]"]=Zn["[object Uint16Array]"]=Zn["[object Uint32Array]"]=!0,Zn["[object Error]"]=Zn[Zd]=Zn["[object WeakMap]"]=!1;const Ra=function f(t,s,a,d,p,w){var k,D=1&s,R=2&s,M=4&s;if(a&&(k=p?a(t,d,p,w):a(t)),k!==void 0)return k;if(!Oe(t))return t;var U=qt(t);if(U){if(k=Bf(t),!D)return Xd(t,k)}else{var W=_c(t),Z=W==Zd||W=="[object GeneratorFunction]";if(vu(t))return dg(t,D);if(W==$f||W==Sg||Z&&!p){if(k=R||Z?{}:_y(t),!D)return R?pg(t,Lf(k,t)):gx(t,_s(k,t))}else{if(!Zn[W])return p?t:{};k=wy(t,W,D)}}w||(w=new ko);var re=w.get(t);if(re)return re;w.set(t,k),Ey(t)?t.forEach(function(xe){k.add(f(xe,s,a,xe,t,w))}):ky(t)&&t.forEach(function(xe,Pe){k.set(Pe,f(xe,s,a,Pe,t,w))});var le=U?void 0:(M?R?hy:mg:R?So:Ff)(t);return Fd(le||t,function(xe,Pe){le&&(xe=t[Pe=xe]),bu(k,Pe,f(xe,s,a,Pe,t,w))}),k},ku=function(f,t){return Ra(f,5,t=typeof t=="function"?t:void 0)},ei=function(f){return En(f)&&f.nodeType===1&&!on(f)};class Pl{constructor(t,s){this._config={},s&&this.define(qf(s)),t&&this._setObjectToTarget(this._config,t)}set(t,s){this._setToTarget(this._config,t,s)}define(t,s){this._setToTarget(this._config,t,s,!0)}get(t){return this._getFromSource(this._config,t)}*names(){for(const t of Object.keys(this._config))yield t}_setToTarget(t,s,a,d=!1){if(on(s))return void this._setObjectToTarget(t,s,d);const p=s.split(".");s=p.pop();for(const w of p)on(t[w])||(t[w]={}),t=t[w];if(on(a))return on(t[s])||(t[s]={}),t=t[s],void this._setObjectToTarget(t,a,d);d&&t[s]!==void 0||(t[s]=a)}_getFromSource(t,s){const a=s.split(".");s=a.pop();for(const d of a){if(!on(t[d])){t=null;break}t=t[d]}return t?qf(t[s]):void 0}_setObjectToTarget(t,s,a){Object.keys(s).forEach(d=>{this._setToTarget(t,d,s[d],a)})}}function qf(f){return ku(f,Sy)}function Sy(f){return ei(f)?f:void 0}function Ao(f){if(f){if(f.defaultView)return f instanceof f.defaultView.Document;if(f.ownerDocument&&f.ownerDocument.defaultView)return f instanceof f.ownerDocument.defaultView.Node}return!1}function Ma(f){const t=Object.prototype.toString.apply(f);return t=="[object Window]"||t=="[object global]"}const Hf=Ar(X());function Ar(f){return f?class extends f{listenTo(t,s,a,d={}){if(Ao(t)||Ma(t)){const p={capture:!!d.useCapture,passive:!!d.usePassive},w=this._getProxyEmitter(t,p)||new Il(t,p);this.listenTo(w,s,a,d)}else super.listenTo(t,s,a,d)}stopListening(t,s,a){if(Ao(t)||Ma(t)){const d=this._getAllProxyEmitters(t);for(const p of d)this.stopListening(p,s,a)}else super.stopListening(t,s,a)}_getProxyEmitter(t,s){return function(a,d){const p=a[q];return p&&p[d]?p[d].emitter:null}(this,ti(t,s))}_getAllProxyEmitters(t){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(s=>this._getProxyEmitter(t,s)).filter(s=>!!s)}}:Hf}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(f=>{Ar[f]=Hf.prototype[f]});class Il extends X(){constructor(t,s){super(),K(this,ti(t,s)),this._domNode=t,this._options=s}attach(t){if(this._domListeners&&this._domListeners[t])return;const s=this._createDomListener(t);this._domNode.addEventListener(t,s,this._options),this._domListeners||(this._domListeners={}),this._domListeners[t]=s}detach(t){let s;!this._domListeners[t]||(s=this._events[t])&&s.callbacks.length||this._domListeners[t].removeListener()}_addEventListener(t,s,a){this.attach(t),X().prototype._addEventListener.call(this,t,s,a)}_removeEventListener(t,s){X().prototype._removeEventListener.call(this,t,s),this.detach(t)}_createDomListener(t){const s=a=>{this.fire(t,a)};return s.removeListener=()=>{this._domNode.removeEventListener(t,s,this._options),delete this._domListeners[t]},s}}function ti(f,t){let s=function(a){return a["data-ck-expando"]||(a["data-ck-expando"]=O())}(f);for(const a of Object.keys(t).sort())t[a]&&(s+="-"+a);return s}let we;try{we={window,document}}catch{we={window:{},document:{}}}const he=we;function We(f){return Object.prototype.toString.call(f)=="[object Text]"}function Qe(f){return Object.prototype.toString.apply(f)=="[object Range]"}function Lt(f){const t=f.ownerDocument.defaultView.getComputedStyle(f);return{top:parseInt(t.borderTopWidth,10),right:parseInt(t.borderRightWidth,10),bottom:parseInt(t.borderBottomWidth,10),left:parseInt(t.borderLeftWidth,10)}}function sn(f){return f&&f.parentNode?f.offsetParent===he.document.body?null:f.offsetParent:null}const cn=["top","right","bottom","left","width","height"];class _t{constructor(t){const s=Qe(t);if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),Oa(t)||s)if(s){const a=_t.getDomRangeRects(t);ar(this,_t.getBoundingRect(a))}else ar(this,t.getBoundingClientRect());else if(Ma(t)){const{innerWidth:a,innerHeight:d}=t;ar(this,{top:0,right:a,bottom:d,left:0,width:a,height:d})}else ar(this,t)}clone(){return new _t(this)}moveTo(t,s){return this.top=s,this.right=t+this.width,this.bottom=s+this.height,this.left=t,this}moveBy(t,s){return this.top+=s,this.right+=t,this.left+=t,this.bottom+=s,this}getIntersection(t){const s={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left),width:0,height:0};if(s.width=s.right-s.left,s.height=s.bottom-s.top,s.width<0||s.height<0)return null;{const a=new _t(s);return a._source=this._source,a}}getIntersectionArea(t){const s=this.getIntersection(t);return s?s.getArea():0}getArea(){return this.width*this.height}getVisible(){const t=this._source;let s=this.clone();if(Wn(t))return s;let a,d=t,p=t.parentNode||t.commonAncestorContainer;for(;p&&!Wn(p);){const k=((w=p)instanceof HTMLElement?w.ownerDocument.defaultView.getComputedStyle(w).overflow:"visible")==="visible";d instanceof HTMLElement&&ta(d)==="absolute"&&(a=d);const D=ta(p);if(k||a&&(D==="relative"&&k||D!=="relative")){d=p,p=p.parentNode;continue}const R=new _t(p),M=s.getIntersection(R);if(!M)return null;M.getArea()<s.getArea()&&(s=M),d=p,p=p.parentNode}var w;return s}isEqual(t){for(const s of cn)if(this[s]!==t[s])return!1;return!0}contains(t){const s=this.getIntersection(t);return!(!s||!s.isEqual(t))}toAbsoluteRect(){const{scrollX:t,scrollY:s}=he.window,a=this.clone().moveBy(t,s);if(Oa(a._source)){const d=sn(a._source);d&&function(p,w){const k=new _t(w),D=Lt(w);let R=0,M=0;R-=k.left,M-=k.top,R+=w.scrollLeft,M+=w.scrollTop,R-=D.left,M-=D.top,p.moveBy(R,M)}(a,d)}return a}excludeScrollbarsAndBorders(){const t=this._source;let s,a,d;if(Ma(t))s=t.innerWidth-t.document.documentElement.clientWidth,a=t.innerHeight-t.document.documentElement.clientHeight,d=t.getComputedStyle(t.document.documentElement).direction;else{const p=Lt(t);s=t.offsetWidth-t.clientWidth-p.left-p.right,a=t.offsetHeight-t.clientHeight-p.top-p.bottom,d=t.ownerDocument.defaultView.getComputedStyle(t).direction,this.left+=p.left,this.top+=p.top,this.right-=p.right,this.bottom-=p.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=s,d==="ltr"?this.right-=s:this.left+=s,this.height-=a,this.bottom-=a,this}static getDomRangeRects(t){const s=[],a=Array.from(t.getClientRects());if(a.length)for(const d of a)s.push(new _t(d));else{let d=t.startContainer;We(d)&&(d=d.parentNode);const p=new _t(d.getBoundingClientRect());p.right=p.left,p.width=0,s.push(p)}return s}static getBoundingRect(t){const s={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let a=0;for(const d of t)a++,s.left=Math.min(s.left,d.left),s.top=Math.min(s.top,d.top),s.right=Math.max(s.right,d.right),s.bottom=Math.max(s.bottom,d.bottom);return a==0?null:(s.width=s.right-s.left,s.height=s.bottom-s.top,new _t(s))}}function ar(f,t){for(const s of cn)f[s]=t[s]}function Wn(f){return!!Oa(f)&&f===f.ownerDocument.body}function Oa(f){return f!==null&&typeof f=="object"&&f.nodeType===1&&typeof f.getBoundingClientRect=="function"}function ta(f){return f instanceof HTMLElement?f.ownerDocument.defaultView.getComputedStyle(f).position:"static"}class Dn{constructor(t,s){Dn._observerInstance||Dn._createObserver(),this._element=t,this._callback=s,Dn._addElementCallback(t,s),Dn._observerInstance.observe(t)}get element(){return this._element}destroy(){Dn._deleteElementCallback(this._element,this._callback)}static _addElementCallback(t,s){Dn._elementCallbacks||(Dn._elementCallbacks=new Map);let a=Dn._elementCallbacks.get(t);a||(a=new Set,Dn._elementCallbacks.set(t,a)),a.add(s)}static _deleteElementCallback(t,s){const a=Dn._getElementCallbacks(t);a&&(a.delete(s),a.size||(Dn._elementCallbacks.delete(t),Dn._observerInstance.unobserve(t))),Dn._elementCallbacks&&!Dn._elementCallbacks.size&&(Dn._observerInstance=null,Dn._elementCallbacks=null)}static _getElementCallbacks(t){return Dn._elementCallbacks?Dn._elementCallbacks.get(t):null}static _createObserver(){Dn._observerInstance=new he.window.ResizeObserver(t=>{for(const s of t){const a=Dn._getElementCallbacks(s.target);if(a)for(const d of a)d(s)}})}}function es(f,t){f instanceof HTMLTextAreaElement&&(f.value=t),f.innerHTML=t}function ts(f){return t=>t+f}function kc(f){let t=0;for(;f.previousSibling;)f=f.previousSibling,t++;return t}function Jd(f,t,s){f.insertBefore(s,f.childNodes[t]||null)}function Xs(f){return f&&f.nodeType===Node.COMMENT_NODE}function Li(f){return!!(f&&f.getClientRects&&f.getClientRects().length)}function Es({element:f,target:t,positions:s,limiter:a,fitInViewport:d,viewportOffsetConfig:p}){Jr(t)&&(t=t()),Jr(a)&&(a=a());const w=sn(f),k=function(W){W=Object.assign({top:0,bottom:0,left:0,right:0},W);const Z=new _t(he.window);return Z.top+=W.top,Z.height-=W.top,Z.bottom-=W.bottom,Z.height-=W.bottom,Z}(p),D=new _t(f),R=To(t,k);let M;if(!R||!k.getIntersection(R))return null;const U={targetRect:R,elementRect:D,positionedElementAncestor:w,viewportRect:k};if(a||d){if(a){const W=To(a,k);W&&(U.limiterRect=W)}M=function(W,Z){const{elementRect:re}=Z,le=re.getArea(),xe=W.map(tt=>new Ec(tt,Z)).filter(tt=>!!tt.name);let Pe=0,Ge=null;for(const tt of xe){const{limiterIntersectionArea:Nt,viewportIntersectionArea:ln}=tt;if(Nt===le)return tt;const Gn=ln**2+Nt**2;Gn>Pe&&(Pe=Gn,Ge=tt)}return Ge}(s,U)}else M=new Ec(s[0],U);return M}function To(f,t){const s=new _t(f).getVisible();return s?s.getIntersection(t):null}Dn._observerInstance=null,Dn._elementCallbacks=null;class Ec{constructor(t,s){const a=t(s.targetRect,s.elementRect,s.viewportRect,s.limiterRect);if(!a)return;const{left:d,top:p,name:w,config:k}=a;this.name=w,this.config=k,this._positioningFunctionCoordinates={left:d,top:p},this._options=s}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const t=this._options.limiterRect;return t?t.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function Ag(f){const t=f.parentNode;t&&t.removeChild(f)}function Gf({window:f,rect:t,alignToTop:s,forceScroll:a,viewportOffset:d}){const p=t.clone().moveBy(0,d.bottom),w=t.clone().moveBy(0,-d.top),k=new _t(f).excludeScrollbarsAndBorders(),D=s&&a,R=[w,p].every(re=>k.contains(re));let{scrollX:M,scrollY:U}=f;const W=M,Z=U;D?U-=k.top-t.top+d.top:R||(Xf(w,k)?U-=k.top-t.top+d.top:Eu(p,k)&&(U+=s?t.top-k.top-d.top:t.bottom-k.bottom+d.bottom)),R||(Qd(t,k)?M-=k.left-t.left+d.left:Tg(t,k)&&(M+=t.right-k.right+d.right)),M==W&&U===Z||f.scrollTo(M,U)}function EA({parent:f,getRect:t,alignToTop:s,forceScroll:a,ancestorOffset:d=0,limiterElement:p}){const w=Ay(f),k=s&&a;let D,R,M;const U=p||w.document.body;for(;f!=U;)R=t(),D=new _t(f).excludeScrollbarsAndBorders(),M=D.contains(R),k?f.scrollTop-=D.top-R.top+d:M||(Xf(R,D)?f.scrollTop-=D.top-R.top+d:Eu(R,D)&&(f.scrollTop+=s?R.top-D.top-d:R.bottom-D.bottom+d)),M||(Qd(R,D)?f.scrollLeft-=D.left-R.left+d:Tg(R,D)&&(f.scrollLeft+=R.right-D.right+d)),f=f.parentNode}function Eu(f,t){return f.bottom>t.bottom}function Xf(f,t){return f.top<t.top}function Qd(f,t){return f.left<t.left}function Tg(f,t){return f.right>t.right}function Ay(f){return Qe(f)?f.startContainer.ownerDocument.defaultView:f.ownerDocument.defaultView}function vx(f){if(Qe(f)){let t=f.commonAncestorContainer;return We(t)&&(t=t.parentNode),t}return f.parentNode}function eh(f,t){const s=Ay(f),a=new _t(f);if(s===t)return a;{let d=s;for(;d!=t;){const p=d.frameElement,w=new _t(p).excludeScrollbarsAndBorders();a.moveBy(w.left,w.top),d=d.parent}}return a}const Su={ctrl:"⌃",cmd:"⌘",alt:"⌥",shift:"⇧"},_i={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Qt=function(){const f={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let t=65;t<=90;t++)f[String.fromCharCode(t).toLowerCase()]=t;for(let t=48;t<=57;t++)f[t-48]=t;for(let t=112;t<=123;t++)f["f"+(t-111)]=t;for(const t of"`-=[];',./\\")f[t]=t.charCodeAt(0);return f}(),Au=Object.fromEntries(Object.entries(Qt).map(([f,t])=>[t,f.charAt(0).toUpperCase()+f.slice(1)]));function Xi(f){let t;if(typeof f=="string"){if(t=Qt[f.toLowerCase()],!t)throw new B("keyboard-unknown-key",null,{key:f})}else t=f.keyCode+(f.altKey?Qt.alt:0)+(f.ctrlKey?Qt.ctrl:0)+(f.shiftKey?Qt.shift:0)+(f.metaKey?Qt.cmd:0);return t}function ns(f){return typeof f=="string"&&(f=function(t){return t.split("+").map(s=>s.trim())}(f)),f.map(t=>typeof t=="string"?function(s){if(s.endsWith("!"))return Xi(s.slice(0,-1));const a=Xi(s);return(y.isMac||y.isiOS)&&a==Qt.ctrl?Qt.cmd:a}(t):t).reduce((t,s)=>s+t,0)}function Tu(f){let t=ns(f);return Object.entries(y.isMac||y.isiOS?Su:_i).reduce((s,[a,d])=>(t&Qt[a]&&(t&=~Qt[a],s+=d),s),"")+(t?Au[t]:"")}function Cu(f,t){const s=t==="ltr";switch(f){case Qt.arrowleft:return s?"left":"right";case Qt.arrowright:return s?"right":"left";case Qt.arrowup:return"up";case Qt.arrowdown:return"down"}}function $n(f){return Array.isArray(f)?f:[f]}function wx(f,t,s=1){if(typeof s!="number")throw new B("translation-service-quantity-not-a-number",null,{quantity:s});const a=Object.keys(he.window.CKEDITOR_TRANSLATIONS).length;a===1&&(f=Object.keys(he.window.CKEDITOR_TRANSLATIONS)[0]);const d=t.id||t.string;if(a===0||!function(D,R){return!!he.window.CKEDITOR_TRANSLATIONS[D]&&!!he.window.CKEDITOR_TRANSLATIONS[D].dictionary[R]}(f,d))return s!==1?t.plural:t.string;const p=he.window.CKEDITOR_TRANSLATIONS[f].dictionary,w=he.window.CKEDITOR_TRANSLATIONS[f].getPluralForm||(D=>D===1?0:1),k=p[d];return typeof k=="string"?k:k[Number(w(s))]}he.window.CKEDITOR_TRANSLATIONS||(he.window.CKEDITOR_TRANSLATIONS={});const SA=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function xx(f){return SA.includes(f)?"rtl":"ltr"}class Ty{constructor({uiLanguage:t="en",contentLanguage:s}={}){this.uiLanguage=t,this.contentLanguage=s||this.uiLanguage,this.uiLanguageDirection=xx(this.uiLanguage),this.contentLanguageDirection=xx(this.contentLanguage),this.t=(a,d)=>this._t(a,d)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(t,s=[]){s=$n(s),typeof t=="string"&&(t={string:t});const a=t.plural?s[0]:1;return function(d,p){return d.replace(/%(\d+)/g,(w,k)=>k<p.length?p[k]:w)}(wx(this.uiLanguage,t,a),s)}}class Ys extends X(){constructor(t={},s={}){super();const a=Ne(t);if(a||(s=t),this._items=[],this._itemMap=new Map,this._idProperty=s.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],a)for(const d of t)this._items.push(d),this._itemMap.set(this._getItemIdBeforeAdding(d),d)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(t,s){return this.addMany([t],s)}addMany(t,s){if(s===void 0)s=this._items.length;else if(s>this._items.length||s<0)throw new B("collection-add-item-invalid-index",this);let a=0;for(const d of t){const p=this._getItemIdBeforeAdding(d),w=s+a;this._items.splice(w,0,d),this._itemMap.set(p,d),this.fire("add",d,w),a++}return this.fire("change",{added:t,removed:[],index:s}),this}get(t){let s;if(typeof t=="string")s=this._itemMap.get(t);else{if(typeof t!="number")throw new B("collection-get-invalid-arg",this);s=this._items[t]}return s||null}has(t){if(typeof t=="string")return this._itemMap.has(t);{const s=t[this._idProperty];return s&&this._itemMap.has(s)}}getIndex(t){let s;return s=typeof t=="string"?this._itemMap.get(t):t,s?this._items.indexOf(s):-1}remove(t){const[s,a]=this._remove(t);return this.fire("change",{added:[],removed:[s],index:a}),s}map(t,s){return this._items.map(t,s)}find(t,s){return this._items.find(t,s)}filter(t,s){return this._items.filter(t,s)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const t=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:t,index:0})}bindTo(t){if(this._bindToCollection)throw new B("collection-bind-to-rebind",this);return this._bindToCollection=t,{as:s=>{this._setUpBindToBinding(a=>new s(a))},using:s=>{typeof s=="function"?this._setUpBindToBinding(s):this._setUpBindToBinding(a=>a[s])}}}_setUpBindToBinding(t){const s=this._bindToCollection,a=(d,p,w)=>{const k=s._bindToCollection==this,D=s._bindToInternalToExternalMap.get(p);if(k&&D)this._bindToExternalToInternalMap.set(p,D),this._bindToInternalToExternalMap.set(D,p);else{const R=t(p);if(!R)return void this._skippedIndexesFromExternal.push(w);let M=w;for(const U of this._skippedIndexesFromExternal)w>U&&M--;for(const U of s._skippedIndexesFromExternal)M>=U&&M++;this._bindToExternalToInternalMap.set(p,R),this._bindToInternalToExternalMap.set(R,p),this.add(R,M);for(let U=0;U<s._skippedIndexesFromExternal.length;U++)M<=s._skippedIndexesFromExternal[U]&&s._skippedIndexesFromExternal[U]++}};for(const d of s)a(0,d,s.getIndex(d));this.listenTo(s,"add",a),this.listenTo(s,"remove",(d,p,w)=>{const k=this._bindToExternalToInternalMap.get(p);k&&this.remove(k),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((D,R)=>(w<R&&D.push(R-1),w>R&&D.push(R),D),[])})}_getItemIdBeforeAdding(t){const s=this._idProperty;let a;if(s in t){if(a=t[s],typeof a!="string")throw new B("collection-add-invalid-id",this);if(this.get(a))throw new B("collection-add-item-already-exists",this)}else t[s]=a=O();return a}_remove(t){let s,a,d,p=!1;const w=this._idProperty;if(typeof t=="string"?(a=t,d=this._itemMap.get(a),p=!d,d&&(s=this._items.indexOf(d))):typeof t=="number"?(s=t,d=this._items[s],p=!d,d&&(a=d[w])):(d=t,a=d[w],s=this._items.indexOf(d),p=s==-1||!this._itemMap.get(a)),p)throw new B("collection-remove-404",this);this._items.splice(s,1),this._itemMap.delete(a);const k=this._bindToInternalToExternalMap.get(d);return this._bindToInternalToExternalMap.delete(d),this._bindToExternalToInternalMap.delete(k),this.fire("remove",d,s),[d,s]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function ki(f){const t=f.next();return t.done?null:t.value}class lr extends Ar(ze()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(t){if(this._elements.has(t))throw new B("focustracker-add-element-already-exist",this);this.listenTo(t,"focus",()=>this._focus(t),{useCapture:!0}),this.listenTo(t,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(t)}remove(t){t===this.focusedElement&&this._blur(),this._elements.has(t)&&(this.stopListening(t),this._elements.delete(t))}destroy(){this.stopListening()}_focus(t){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=t,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class Fa{constructor(){this._listener=new(Ar())}listenTo(t){this._listener.listenTo(t,"keydown",(s,a)=>{this._listener.fire("_keydown:"+Xi(a),a)})}set(t,s,a={}){const d=ns(t),p=a.priority;this._listener.listenTo(this._listener,"_keydown:"+d,(w,k)=>{s(k,()=>{k.preventDefault(),k.stopPropagation(),w.stop()}),w.return=!0},{priority:p})}press(t){return!!this._listener.fire("_keydown:"+Xi(t),t)}stopListening(t){this._listener.stopListening(t)}destroy(){this.stopListening()}}function La(f){return Ne(f)?new Map(f):function(t){const s=new Map;for(const a in t)s.set(a,t[a]);return s}(f)}function Cg(f,t){let s;function a(...d){a.cancel(),s=setTimeout(()=>f(...d),t)}return a.cancel=()=>{clearTimeout(s)},a}function _x(f,t){return!!(s=f.charAt(t-1))&&s.length==1&&/[\ud800-\udbff]/.test(s)&&function(a){return!!a&&a.length==1&&/[\udc00-\udfff]/.test(a)}(f.charAt(t));var s}function Cy(f,t){return!!(s=f.charAt(t))&&s.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(s);var s}const kx=function(){const f=new RegExp("\\p{Regional_Indicator}{2}","u").source,t="(?:"+[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")].map(s=>s.source).join("|")+")";return new RegExp(`${f}|${t}(?:‍${t})*`,"ug")}();function AA(f,t){const s=String(f).matchAll(kx);return Array.from(s).some(a=>a.index<t&&t<a.index+a[0].length)}class na extends Ys{constructor(t=[]){super(t,{idProperty:"viewUid"}),this.on("add",(s,a,d)=>{this._renderViewIntoCollectionParent(a,d)}),this.on("remove",(s,a)=>{a.element&&this._parentElement&&a.element.remove()}),this._parentElement=null}destroy(){this.map(t=>t.destroy())}setParent(t){this._parentElement=t;for(const s of this)this._renderViewIntoCollectionParent(s)}delegate(...t){if(!t.length||!t.every(s=>typeof s=="string"))throw new B("ui-viewcollection-delegate-wrong-events",this);return{to:s=>{for(const a of this)for(const d of t)a.delegate(d).to(s);this.on("add",(a,d)=>{for(const p of t)d.delegate(p).to(s)}),this.on("remove",(a,d)=>{for(const p of t)d.stopDelegating(p,s)})}}}_renderViewIntoCollectionParent(t,s){t.isRendered||t.render(),t.element&&this._parentElement&&this._parentElement.insertBefore(t.element,this._parentElement.children[s])}remove(t){return super.remove(t)}}var TA=o(3379),Ut=o.n(TA),CA=o(9037),Bt=o.n(CA),Ex=o(569),Vt=o.n(Ex),Sc=o(8575),jt=o.n(Sc),Sx=o(9216),zt=o.n(Sx),mr=o(5167),jl={attributes:{"data-cke":!0}};jl.setAttributes=jt(),jl.insert=Vt().bind(null,"head"),jl.domAPI=Bt(),jl.insertStyleElement=zt(),Ut()(mr.Z,jl),mr.Z&&mr.Z.locals&&mr.Z.locals;class dn extends Ar(ze()){constructor(t){super(),this.element=null,this.isRendered=!1,this.locale=t,this.t=t&&t.t,this._viewCollections=new Ys,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(s,a)=>{a.locale=t,a.t=t&&t.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Tr.bind(this,this)}createCollection(t){const s=new na(t);return this._viewCollections.add(s),s}registerChild(t){Ne(t)||(t=[t]);for(const s of t)this._unboundChildren.add(s)}deregisterChild(t){Ne(t)||(t=[t]);for(const s of t)this._unboundChildren.remove(s)}setTemplate(t){this.template=new Tr(t)}extendTemplate(t){Tr.extend(this.template,t)}render(){if(this.isRendered)throw new B("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(t=>t.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}class Tr extends X(){constructor(t){super(),Object.assign(this,Iy(Dg(t))),this._isRendered=!1,this._revertData=null}render(){const t=this._renderNode({intoFragment:!0});return this._isRendered=!0,t}apply(t){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:t,intoFragment:!1,isApplying:!0,revertData:this._revertData}),t}revert(t){if(!this._revertData)throw new B("ui-template-revert-not-applied",[this,t]);this._revertTemplateFromNode(t,this._revertData)}*getViews(){yield*function*t(s){if(s.children)for(const a of s.children)Kf(a)?yield a:Ry(a)&&(yield*t(a))}(this)}static bind(t,s){return{to:(a,d)=>new Rl({eventNameOrFunction:a,attribute:a,observable:t,emitter:s,callback:d}),if:(a,d,p)=>new Ax({observable:t,emitter:s,attribute:a,valueIfTrue:d,callback:p})}}static extend(t,s){if(t._isRendered)throw new B("template-extend-render",[this,t]);Co(t,Iy(Dg(s)))}_renderNode(t){let s;if(s=t.node?this.tag&&this.text:this.tag?this.text:!this.text,s)throw new B("ui-template-wrong-syntax",this);return this.text?this._renderText(t):this._renderElement(t)}_renderElement(t){let s=t.node;return s||(s=t.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(t),this._renderElementChildren(t),this._setUpListeners(t),s}_renderText(t){let s=t.node;return s?t.revertData.text=s.textContent:s=t.node=document.createTextNode(""),Dy(this.text)?this._bindToObservable({schema:this.text,updater:Ny(s),data:t}):s.textContent=this.text.join(""),s}_renderAttributes(t){if(!this.attributes)return;const s=t.node,a=t.revertData;for(const d in this.attributes){const p=s.getAttribute(d),w=this.attributes[d];a&&(a.attributes[d]=p);const k=Tc(w)?w[0].ns:null;if(Dy(w)){const D=Tc(w)?w[0].value:w;a&&Cx(d)&&D.unshift(p),this._bindToObservable({schema:D,updater:Py(s,d,k),data:t})}else if(d=="style"&&typeof w[0]!="string")this._renderStyleAttribute(w[0],t);else{a&&p&&Cx(d)&&w.unshift(p);const D=w.map(R=>R&&R.value||R).reduce((R,M)=>R.concat(M),[]).reduce(Tx,"");Do(D)||s.setAttributeNS(k,d,D)}}}_renderStyleAttribute(t,s){const a=s.node;for(const d in t){const p=t[d];Dy(p)?this._bindToObservable({schema:[p],updater:Yf(a,d),data:s}):a.style[d]=p}}_renderElementChildren(t){const s=t.node,a=t.intoFragment?document.createDocumentFragment():s,d=t.isApplying;let p=0;for(const w of this.children)if(Ml(w)){if(!d){w.setParent(s);for(const k of w)a.appendChild(k.element)}}else if(Kf(w))d||(w.isRendered||w.render(),a.appendChild(w.element));else if(Ao(w))a.appendChild(w);else if(d){const k={children:[],bindings:[],attributes:{}};t.revertData.children.push(k),w._renderNode({intoFragment:!1,node:a.childNodes[p++],isApplying:!0,revertData:k})}else a.appendChild(w.render());t.intoFragment&&s.appendChild(a)}_setUpListeners(t){if(this.eventListeners)for(const s in this.eventListeners){const a=this.eventListeners[s].map(d=>{const[p,w]=s.split("@");return d.activateDomEventListener(p,w,t)});t.revertData&&t.revertData.bindings.push(a)}}_bindToObservable({schema:t,updater:s,data:a}){const d=a.revertData;ia(t,s,a);const p=t.filter(w=>!Do(w)).filter(w=>w.observable).map(w=>w.activateAttributeListener(t,s,a));d&&d.bindings.push(p)}_revertTemplateFromNode(t,s){for(const d of s.bindings)for(const p of d)p();if(s.text)return void(t.textContent=s.text);const a=t;for(const d in s.attributes){const p=s.attributes[d];p===null?a.removeAttribute(d):a.setAttribute(d,p)}for(let d=0;d<s.children.length;++d)this._revertTemplateFromNode(a.childNodes[d],s.children[d])}}class Ac{constructor(t){this.attribute=t.attribute,this.observable=t.observable,this.emitter=t.emitter,this.callback=t.callback}getValue(t){const s=this.observable[this.attribute];return this.callback?this.callback(s,t):s}activateAttributeListener(t,s,a){const d=()=>ia(t,s,a);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,d),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,d)}}}class Rl extends Ac{constructor(t){super(t),this.eventNameOrFunction=t.eventNameOrFunction}activateDomEventListener(t,s,a){const d=(p,w)=>{s&&!w.target.matches(s)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(w):this.observable.fire(this.eventNameOrFunction,w))};return this.emitter.listenTo(a.node,t,d),()=>{this.emitter.stopListening(a.node,t,d)}}}class Ax extends Ac{constructor(t){super(t),this.valueIfTrue=t.valueIfTrue}getValue(t){return!Do(super.getValue(t))&&(this.valueIfTrue||!0)}}function Dy(f){return!!f&&(f.value&&(f=f.value),Array.isArray(f)?f.some(Dy):f instanceof Ac)}function ia(f,t,{node:s}){const a=function(p,w){return p.map(k=>k instanceof Ac?k.getValue(w):k)}(f,s);let d;d=f.length==1&&f[0]instanceof Ax?a[0]:a.reduce(Tx,""),Do(d)?t.remove():t.set(d)}function Ny(f){return{set(t){f.textContent=t},remove(){f.textContent=""}}}function Py(f,t,s){return{set(a){f.setAttributeNS(s,t,a)},remove(){f.removeAttributeNS(s,t)}}}function Yf(f,t){return{set(s){f.style[t]=s},remove(){f.style[t]=null}}}function Dg(f){return ku(f,t=>{if(t&&(t instanceof Ac||Ry(t)||Kf(t)||Ml(t)))return t})}function Iy(f){if(typeof f=="string"?f=function(t){return{text:[t]}}(f):f.text&&function(t){t.text=$n(t.text)}(f),f.on&&(f.eventListeners=function(t){for(const s in t)jy(t,s);return t}(f.on),delete f.on),!f.text){f.attributes&&function(s){for(const a in s)s[a].value&&(s[a].value=$n(s[a].value)),jy(s,a)}(f.attributes);const t=[];if(f.children)if(Ml(f.children))t.push(f.children);else for(const s of f.children)Ry(s)||Kf(s)||Ao(s)?t.push(s):t.push(new Tr(s));f.children=t}return f}function jy(f,t){f[t]=$n(f[t])}function Tx(f,t){return Do(t)?f:Do(f)?t:`${f} ${t}`}function th(f,t){for(const s in t)f[s]?f[s].push(...t[s]):f[s]=t[s]}function Co(f,t){if(t.attributes&&(f.attributes||(f.attributes={}),th(f.attributes,t.attributes)),t.eventListeners&&(f.eventListeners||(f.eventListeners={}),th(f.eventListeners,t.eventListeners)),t.text&&f.text.push(...t.text),t.children&&t.children.length){if(f.children.length!=t.children.length)throw new B("ui-template-extend-children-mismatch",f);let s=0;for(const a of t.children)Co(f.children[s++],a)}}function Do(f){return!f&&f!==0}function Kf(f){return f instanceof dn}function Ry(f){return f instanceof Tr}function Ml(f){return f instanceof na}function Tc(f){return Oe(f[0])&&f[0].ns}function Cx(f){return f=="class"||f=="style"}class Ng extends na{constructor(t,s=[]){super(s),this.locale=t}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new Tr({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let t=document.querySelector(".ck-body-wrapper");t||(t=$i(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(t)),t.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const t=document.querySelector(".ck-body-wrapper");t&&t.childElementCount==0&&t.remove()}}var Pg=o(1977),Zf={attributes:{"data-cke":!0}};Zf.setAttributes=jt(),Zf.insert=Vt().bind(null,"head"),Zf.domAPI=Bt(),Zf.insertStyleElement=zt(),Ut()(Pg.Z,Zf),Pg.Z&&Pg.Z.locals&&Pg.Z.locals;class ra extends dn{constructor(){super();const t=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",t.if("isVisible","ck-hidden",s=>!s),"ck-reset_all-excluded",t.if("isColorInherited","ck-icon_inherit-color")],viewBox:t.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const t=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),s=t.getAttribute("viewBox");s&&(this.viewBox=s);for(const{name:a,value:d}of Array.from(t.attributes))ra.presentationalAttributeNames.includes(a)&&this.element.setAttribute(a,d);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(t=>{t.style.fill=this.fillColor})}}ra.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];class My extends dn{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const t=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:t.to("style"),id:t.to("id")},children:[{text:t.to("text")}]})}}var Ig=o(4971),Jf={attributes:{"data-cke":!0}};Jf.setAttributes=jt(),Jf.insert=Vt().bind(null,"head"),Jf.domAPI=Bt(),Jf.insertStyleElement=zt(),Ut()(Ig.Z,Jf),Ig.Z&&Ig.Z.locals&&Ig.Z.locals;class qn extends dn{constructor(t,s=new My){super(t),this._focusDelayed=null;const a=this.bindTemplate,d=O();this.set("ariaChecked",void 0),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${d}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(s),this.iconView=new ra,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const p={tag:"button",attributes:{class:["ck","ck-button",a.to("class"),a.if("isEnabled","ck-disabled",w=>!w),a.if("isVisible","ck-hidden",w=>!w),a.to("isOn",w=>w?"ck-on":"ck-off"),a.if("withText","ck-button_with-text"),a.if("withKeystroke","ck-button_with-keystroke")],role:a.to("role"),type:a.to("type",w=>w||"button"),tabindex:a.to("tabindex"),"aria-label":a.to("ariaLabel"),"aria-labelledby":a.to("ariaLabelledBy"),"aria-disabled":a.if("isEnabled",!0,w=>!w),"aria-checked":a.to("isOn"),"aria-pressed":a.to("isOn",w=>!!this.isToggleable&&String(!!w)),"data-cke-tooltip-text":a.to("_tooltipString"),"data-cke-tooltip-position":a.to("tooltipPosition")},children:this.children,on:{click:a.to(w=>{this.isEnabled?this.fire("execute"):w.preventDefault()})}};y.isSafari&&(this._focusDelayed||(this._focusDelayed=Cg(()=>this.focus(),0)),p.on.mousedown=a.to(()=>{this._focusDelayed()}),p.on.mouseup=a.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(p)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(t){return t.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),t}_createKeystrokeView(){const t=new dn;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",s=>Tu(s))}]}),t}_getTooltipString(t,s,a){return t?typeof t=="string"?t:(a&&(a=Tu(a)),t instanceof Function?t(s,a):`${s}${a?` (${a})`:""}`):""}}var Qf=o(7258),Du={attributes:{"data-cke":!0}};Du.setAttributes=jt(),Du.insert=Vt().bind(null,"head"),Du.domAPI=Bt(),Du.insertStyleElement=zt(),Ut()(Qf.Z,Du),Qf.Z&&Qf.Z.locals&&Qf.Z.locals;class Nu extends qn{constructor(t){super(t),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const t=new dn;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),t}}var nh=o(4923),ep={attributes:{"data-cke":!0}};ep.setAttributes=jt(),ep.insert=Vt().bind(null,"head"),ep.domAPI=Bt(),ep.insertStyleElement=zt(),Ut()(nh.Z,ep),nh.Z&&nh.Z.locals&&nh.Z.locals,o(8874),o(2085);var ih=o(3525),tp={attributes:{"data-cke":!0}};tp.setAttributes=jt(),tp.insert=Vt().bind(null,"head"),tp.domAPI=Bt(),tp.insertStyleElement=zt(),Ut()(ih.Z,tp),ih.Z&&ih.Z.locals&&ih.Z.locals;class np extends dn{constructor(t){super(t),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${O()}`;const s=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:s.to("for")},children:[{text:s.to("text")}]})}}var No=o(2933),Cc={attributes:{"data-cke":!0}};Cc.setAttributes=jt(),Cc.insert=Vt().bind(null,"head"),Cc.domAPI=Bt(),Cc.insertStyleElement=zt(),Ut()(No.Z,Cc),No.Z&&No.Z.locals&&No.Z.locals;class Pu extends dn{constructor(t,s){super(t);const a=`ck-labeled-field-view-${O()}`,d=`ck-labeled-field-view-status-${O()}`;this.fieldView=s(this,a,d),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(a),this.statusView=this._createStatusView(d),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(w,k)=>w||k);const p=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",p.to("class"),p.if("isEnabled","ck-disabled",w=>!w),p.if("isEmpty","ck-labeled-field-view_empty"),p.if("isFocused","ck-labeled-field-view_focused"),p.if("placeholder","ck-labeled-field-view_placeholder"),p.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(t){const s=new np(this.locale);return s.for=t,s.bind("text").to(this,"label"),s}_createStatusView(t){const s=new dn(this.locale),a=this.bindTemplate;return s.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",a.if("errorText","ck-labeled-field-view__status_error"),a.if("_statusText","ck-hidden",d=>!d)],id:t,role:a.if("errorText","alert")},children:[{text:a.to("_statusText")}]}),s}focus(t){this.fieldView.focus(t)}}class rh extends dn{constructor(t){super(t),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new lr,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const s=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",s.if("isFocused","ck-input_focused"),s.if("isEmpty","ck-input-text_empty"),s.if("hasError","ck-error")],id:s.to("id"),placeholder:s.to("placeholder"),readonly:s.to("isReadOnly"),"aria-invalid":s.if("hasError",!0),"aria-describedby":s.to("ariaDescribedById")},on:{input:s.to((...a)=>{this.fire("input",...a),this._updateIsEmpty()}),change:s.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(t,s,a)=>{this._setDomElementValue(a),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(t){this.element.value=t||t===0?t:""}}var ip=o(2470),Ol={attributes:{"data-cke":!0}};Ol.setAttributes=jt(),Ol.insert=Vt().bind(null,"head"),Ol.domAPI=Bt(),Ol.insertStyleElement=zt(),Ut()(ip.Z,Ol),ip.Z&&ip.Z.locals&&ip.Z.locals;class DA extends rh{constructor(t){super(t),this.set("inputMode","text");const s=this.bindTemplate;this.extendTemplate({attributes:{inputmode:s.to("inputMode")}})}}class Dx extends DA{constructor(t){super(t),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var Ei=o(5224),Iu={attributes:{"data-cke":!0}};Iu.setAttributes=jt(),Iu.insert=Vt().bind(null,"head"),Iu.domAPI=Bt(),Iu.insertStyleElement=zt(),Ut()(Ei.Z,Iu),Ei.Z&&Ei.Z.locals&&Ei.Z.locals;class Dc extends dn{constructor(t){super(t);const s=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",s.to("position",a=>`ck-dropdown__panel_${a}`),s.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:s.to(a=>{a.target.tagName.toLocaleLowerCase()!=="input"&&a.preventDefault()})}})}focus(){if(this.children.length){const t=this.children.first;typeof t.focus=="function"?t.focus():Y("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const t=this.children.last;typeof t.focusLast=="function"?t.focusLast():t.focus()}}}var Ua=o(5062),Ks={attributes:{"data-cke":!0}};Ks.setAttributes=jt(),Ks.insert=Vt().bind(null,"head"),Ks.domAPI=Bt(),Ks.insertStyleElement=zt(),Ut()(Ua.Z,Ks),Ua.Z&&Ua.Z.locals&&Ua.Z.locals;class sh extends dn{constructor(t,s,a){super(t);const d=this.bindTemplate;this.buttonView=s,this.panelView=a,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new Fa,this.focusTracker=new lr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",d.to("class"),d.if("isEnabled","ck-disabled",p=>!p)],id:d.to("id"),"aria-describedby":d.to("ariaDescribedById")},children:[s,a]}),s.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":d.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(s,a,d)=>{if(d)if(this.panelPosition==="auto"){const p=sh._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=p?p.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const t=(s,a)=>{this.isOpen&&(this.isOpen=!1,a())};this.keystrokes.set("arrowdown",(s,a)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,a())}),this.keystrokes.set("arrowright",(s,a)=>{this.isOpen&&a()}),this.keystrokes.set("arrowleft",t),this.keystrokes.set("esc",t)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:t,north:s,southEast:a,southWest:d,northEast:p,northWest:w,southMiddleEast:k,southMiddleWest:D,northMiddleEast:R,northMiddleWest:M}=sh.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[a,d,k,D,t,p,w,R,M,s]:[d,a,D,k,t,w,p,M,R,s]}}sh.defaultPanelPositions={south:(f,t)=>({top:f.bottom,left:f.left-(t.width-f.width)/2,name:"s"}),southEast:f=>({top:f.bottom,left:f.left,name:"se"}),southWest:(f,t)=>({top:f.bottom,left:f.left-t.width+f.width,name:"sw"}),southMiddleEast:(f,t)=>({top:f.bottom,left:f.left-(t.width-f.width)/4,name:"sme"}),southMiddleWest:(f,t)=>({top:f.bottom,left:f.left-3*(t.width-f.width)/4,name:"smw"}),north:(f,t)=>({top:f.top-t.height,left:f.left-(t.width-f.width)/2,name:"n"}),northEast:(f,t)=>({top:f.top-t.height,left:f.left,name:"ne"}),northWest:(f,t)=>({top:f.top-t.height,left:f.left-t.width+f.width,name:"nw"}),northMiddleEast:(f,t)=>({top:f.top-t.height,left:f.left-(t.width-f.width)/4,name:"nme"}),northMiddleWest:(f,t)=>({top:f.top-t.height,left:f.left-3*(t.width-f.width)/4,name:"nmw"})},sh._getOptimalPosition=Es;const Nx='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class Oy extends qn{constructor(t){super(t),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",s=>String(s))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const t=new ra;return t.content=Nx,t.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),t}}class Nc extends X(){constructor(t){if(super(),this.focusables=t.focusables,this.focusTracker=t.focusTracker,this.keystrokeHandler=t.keystrokeHandler,this.actions=t.actions,t.actions&&t.keystrokeHandler)for(const s in t.actions){let a=t.actions[s];typeof a=="string"&&(a=[a]);for(const d of a)t.keystrokeHandler.set(d,(p,w)=>{this[s](),w()})}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(rp)||null}get last(){return this.focusables.filter(rp).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let t=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((s,a)=>{const d=s.element===this.focusTracker.focusedElement;return d&&(t=a),d}),t)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const t=this.next;t&&this.focusables.getIndex(t)===this.current||(t===this.first?this.fire("forwardCycle"):this._focus(t,1))}focusPrevious(){const t=this.previous;t&&this.focusables.getIndex(t)===this.current||(t===this.last?this.fire("backwardCycle"):this._focus(t,-1))}_focus(t,s){t&&t.focus(s)}_getFocusableItem(t){const s=this.current,a=this.focusables.length;if(!a)return null;if(s===null)return this[t===1?"first":"last"];let d=(s+a+t)%a;do{const p=this.focusables.get(d);if(rp(p))return p;d=(d+a+t)%a}while(d!==s);return null}}function rp(f){return!(!("focus"in f)||!Li(f.element))}class Fy extends dn{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class sp extends dn{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function Ly(f){return Array.isArray(f)?{items:f,removeItems:[]}:f?Object.assign({items:[],removeItems:[]},f):{items:[],removeItems:[]}}class st extends ze(){constructor(t){super(),this._disableStack=new Set,this.editor=t,this.set("isEnabled",!0)}forceDisabled(t){this._disableStack.add(t),this._disableStack.size==1&&(this.on("set:isEnabled",Po,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(t){this._disableStack.delete(t),this._disableStack.size==0&&(this.off("set:isEnabled",Po),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function Po(f){f.return=!1,f.stop()}class pn extends ze(){constructor(t){super(),this.editor=t,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(t,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",s=>{if(!this.affectsData)return;const a=t.model.document.selection,d=a.getFirstPosition().root.rootName!="$graveyard"&&t.model.canEditAt(a);(t.isReadOnly||this._isEnabledBasedOnSelection&&!d)&&(s.return=!1,s.stop())},{priority:"highest"}),this.on("execute",s=>{this.isEnabled||s.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(t){this._affectsData=t}refresh(){this.isEnabled=!0}forceDisabled(t){this._disableStack.add(t),this._disableStack.size==1&&(this.on("set:isEnabled",Ui,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(t){this._disableStack.delete(t),this._disableStack.size==0&&(this.off("set:isEnabled",Ui),this.refresh())}execute(...t){}destroy(){this.stopListening()}}function Ui(f){f.return=!1,f.stop()}class is extends pn{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...t){const s=this._getFirstEnabledCommand();return!!s&&s.execute(t)}registerChildCommand(t,s={}){L(this._childCommandsDefinitions,{command:t,priority:s.priority||"normal"}),t.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const t=this._childCommandsDefinitions.find(({command:s})=>s.isEnabled);return t&&t.command}}class Cr extends X(){constructor(t,s=[],a=[]){super(),this._plugins=new Map,this._context=t,this._availablePlugins=new Map;for(const d of s)d.pluginName&&this._availablePlugins.set(d.pluginName,d);this._contextPlugins=new Map;for(const[d,p]of a)this._contextPlugins.set(d,p),this._contextPlugins.set(p,d),d.pluginName&&this._availablePlugins.set(d.pluginName,d)}*[Symbol.iterator](){for(const t of this._plugins)typeof t[0]=="function"&&(yield t)}get(t){const s=this._plugins.get(t);if(!s){let a=t;throw typeof t=="function"&&(a=t.pluginName||t.name),new B("plugincollection-plugin-not-loaded",this._context,{plugin:a})}return s}has(t){return this._plugins.has(t)}init(t,s=[],a=[]){const d=this,p=this._context;(function re(le,xe=new Set){le.forEach(Pe=>{D(Pe)&&(xe.has(Pe)||(xe.add(Pe),Pe.pluginName&&!d._availablePlugins.has(Pe.pluginName)&&d._availablePlugins.set(Pe.pluginName,Pe),Pe.requires&&re(Pe.requires,xe)))})})(t),W(t);const w=[...function re(le,xe=new Set){return le.map(Pe=>D(Pe)?Pe:d._availablePlugins.get(Pe)).reduce((Pe,Ge)=>xe.has(Ge)?Pe:(xe.add(Ge),Ge.requires&&(W(Ge.requires,Ge),re(Ge.requires,xe).forEach(tt=>Pe.add(tt))),Pe.add(Ge)),new Set)}(t.filter(re=>!M(re,s)))];(function(re,le){for(const xe of le){if(typeof xe!="function")throw new B("plugincollection-replace-plugin-invalid-type",null,{pluginItem:xe});const Pe=xe.pluginName;if(!Pe)throw new B("plugincollection-replace-plugin-missing-name",null,{pluginItem:xe});if(xe.requires&&xe.requires.length)throw new B("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:Pe});const Ge=d._availablePlugins.get(Pe);if(!Ge)throw new B("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:Pe});const tt=re.indexOf(Ge);if(tt===-1){if(d._contextPlugins.has(Ge))return;throw new B("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:Pe})}if(Ge.requires&&Ge.requires.length)throw new B("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:Pe});re.splice(tt,1,xe),d._availablePlugins.set(Pe,xe)}})(w,a);const k=function(re){return re.map(le=>{let xe=d._contextPlugins.get(le);return xe=xe||new le(p),d._add(le,xe),xe})}(w);return Z(k,"init").then(()=>Z(k,"afterInit")).then(()=>k);function D(re){return typeof re=="function"}function R(re){return D(re)&&!!re.isContextPlugin}function M(re,le){return le.some(xe=>xe===re||U(re)===xe||U(xe)===re)}function U(re){return D(re)?re.pluginName||re.name:re}function W(re,le=null){re.map(xe=>D(xe)?xe:d._availablePlugins.get(xe)||xe).forEach(xe=>{(function(Pe,Ge){if(!D(Pe))throw Ge?new B("plugincollection-soft-required",p,{missingPlugin:Pe,requiredBy:U(Ge)}):new B("plugincollection-plugin-not-found",p,{plugin:Pe})})(xe,le),function(Pe,Ge){if(R(Ge)&&!R(Pe))throw new B("plugincollection-context-required",p,{plugin:U(Pe),requiredBy:U(Ge)})}(xe,le),function(Pe,Ge){if(Ge&&M(Pe,s))throw new B("plugincollection-required",p,{plugin:U(Pe),requiredBy:U(Ge)})}(xe,le)})}function Z(re,le){return re.reduce((xe,Pe)=>Pe[le]?d._contextPlugins.has(Pe)?xe:xe.then(Pe[le].bind(Pe)):xe,Promise.resolve())}}destroy(){const t=[];for(const[,s]of this)typeof s.destroy!="function"||this._contextPlugins.has(s)||t.push(s.destroy());return Promise.all(t)}_add(t,s){this._plugins.set(t,s);const a=t.pluginName;if(a){if(this._plugins.has(a))throw new B("plugincollection-plugin-name-conflict",null,{pluginName:a,plugin1:this._plugins.get(a).constructor,plugin2:t});this._plugins.set(a,s)}}}class jg{constructor(t){this._contextOwner=null,this.config=new Pl(t,this.constructor.defaultConfig);const s=this.constructor.builtinPlugins;this.config.define("plugins",s),this.plugins=new Cr(this,s);const a=this.config.get("language")||{};this.locale=new Ty({uiLanguage:typeof a=="string"?a:a.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new Ys}initPlugins(){const t=this.config.get("plugins")||[],s=this.config.get("substitutePlugins")||[];for(const a of t.concat(s)){if(typeof a!="function")throw new B("context-initplugins-constructor-only",null,{Plugin:a});if(a.isContextPlugin!==!0)throw new B("context-initplugins-invalid-plugin",null,{Plugin:a})}return this.plugins.init(t,[],s)}destroy(){return Promise.all(Array.from(this.editors,t=>t.destroy())).then(()=>this.plugins.destroy())}_addEditor(t,s){if(this._contextOwner)throw new B("context-addeditor-private-context");this.editors.add(t),s&&(this._contextOwner=t)}_removeEditor(t){return this.editors.has(t)&&this.editors.remove(t),this._contextOwner===t?this.destroy():Promise.resolve()}_getEditorConfig(){const t={};for(const s of this.config.names())["plugins","removePlugins","extraPlugins"].includes(s)||(t[s]=this.config.get(s));return t}static create(t){return new Promise(s=>{const a=new this(t);s(a.initPlugins().then(()=>a))})}}class op extends ze(){constructor(t){super(),this.context=t}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}var Br=o(7372),oh={attributes:{"data-cke":!0}};oh.setAttributes=jt(),oh.insert=Vt().bind(null,"head"),oh.domAPI=Bt(),oh.insertStyleElement=zt(),Ut()(Br.Z,oh),Br.Z&&Br.Z.locals&&Br.Z.locals;const ap=new WeakMap;let ju=!1;function Ru({view:f,element:t,text:s,isDirectHost:a=!0,keepOnFocus:d=!1}){const p=f.document;function w(k){ap.get(p).set(t,{text:k,isDirectHost:a,keepOnFocus:d,hostElement:a?t:null}),f.change(D=>ah(p,D))}ap.has(p)||(ap.set(p,new Map),p.registerPostFixer(k=>ah(p,k)),p.on("change:isComposing",()=>{f.change(k=>ah(p,k))},{priority:"high"})),t.is("editableElement")&&t.on("change:placeholder",(k,D,R)=>{w(R)}),t.placeholder?w(t.placeholder):s&&w(s),s&&function(){ju||Y("enableplaceholder-deprecated-text-option"),ju=!0}()}function Fl(f,t){return!!t.hasClass("ck-placeholder")&&(f.removeClass("ck-placeholder",t),!0)}function ah(f,t){const s=ap.get(f),a=[];let d=!1;for(const[p,w]of s)w.isDirectHost&&(a.push(p),lp(t,p,w)&&(d=!0));for(const[p,w]of s){if(w.isDirectHost)continue;const k=NA(p);k&&(a.includes(k)||(w.hostElement=k,lp(t,p,w)&&(d=!0)))}return d}function lp(f,t,s){const{text:a,isDirectHost:d,hostElement:p}=s;let w=!1;return p.getAttribute("data-placeholder")!==a&&(f.setAttribute("data-placeholder",a,p),w=!0),(d||t.childCount==1)&&function(k,D){if(!k.isAttached()||Array.from(k.getChildren()).some(W=>!W.is("uiElement")))return!1;const M=k.document,U=M.selection.anchor;return!(M.isComposing&&U&&U.parent===k||!D&&M.isFocused&&(!U||U.parent===k))}(p,s.keepOnFocus)?function(k,D){return!D.hasClass("ck-placeholder")&&(k.addClass("ck-placeholder",D),!0)}(f,p)&&(w=!0):Fl(f,p)&&(w=!0),w}function NA(f){if(f.childCount){const t=f.getChild(0);if(t.is("element")&&!t.is("uiElement")&&!t.is("attributeElement"))return t}return null}class Mu{is(){throw new Error("is() method is abstract")}}const Px=function(f){return Ra(f,4)};class Ba extends X(Mu){constructor(t){super(),this.document=t,this.parent=null}get index(){let t;if(!this.parent)return null;if((t=this.parent.getChildIndex(this))==-1)throw new B("view-node-not-found-in-parent",this);return t}get nextSibling(){const t=this.index;return t!==null&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return t!==null&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}isAttached(){return this.root.is("rootElement")}getPath(){const t=[];let s=this;for(;s.parent;)t.unshift(s.index),s=s.parent;return t}getAncestors(t={}){const s=[];let a=t.includeSelf?this:this.parent;for(;a;)s[t.parentFirst?"push":"unshift"](a),a=a.parent;return s}getCommonAncestor(t,s={}){const a=this.getAncestors(s),d=t.getAncestors(s);let p=0;for(;a[p]==d[p]&&a[p];)p++;return p===0?null:a[p-1]}isBefore(t){if(this==t||this.root!==t.root)return!1;const s=this.getPath(),a=t.getPath(),d=$e(s,a);switch(d){case"prefix":return!0;case"extension":return!1;default:return s[d]<a[d]}}isAfter(t){return this!=t&&this.root===t.root&&!this.isBefore(t)}_remove(){this.parent._removeChildren(this.index)}_fireChange(t,s){this.fire(`change:${t}`,s),this.parent&&this.parent._fireChange(t,s)}toJSON(){const t=Px(this);return delete t.parent,t}}Ba.prototype.is=function(f){return f==="node"||f==="view:node"};class Fn extends Ba{constructor(t,s){super(t),this._textData=s}get data(){return this._textData}get _data(){return this.data}set _data(t){this._fireChange("text",this),this._textData=t}isSimilar(t){return t instanceof Fn&&(this===t||this.data===t.data)}_clone(){return new Fn(this.document,this.data)}}Fn.prototype.is=function(f){return f==="$text"||f==="view:$text"||f==="text"||f==="view:text"||f==="node"||f==="view:node"};class za extends Mu{constructor(t,s,a){if(super(),this.textNode=t,s<0||s>t.data.length)throw new B("view-textproxy-wrong-offsetintext",this);if(a<0||s+a>t.data.length)throw new B("view-textproxy-wrong-length",this);this.data=t.data.substring(s,s+a),this.offsetInText=s}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(t={}){const s=[];let a=t.includeSelf?this.textNode:this.parent;for(;a!==null;)s[t.parentFirst?"push":"unshift"](a),a=a.parent;return s}}za.prototype.is=function(f){return f==="$textProxy"||f==="view:$textProxy"||f==="textProxy"||f==="view:textProxy"};class Ou{constructor(...t){this._patterns=[],this.add(...t)}add(...t){for(let s of t)(typeof s=="string"||s instanceof RegExp)&&(s={name:s}),this._patterns.push(s)}match(...t){for(const s of t)for(const a of this._patterns){const d=Uy(s,a);if(d)return{element:s,pattern:a,match:d}}return null}matchAll(...t){const s=[];for(const a of t)for(const d of this._patterns){const p=Uy(a,d);p&&s.push({element:a,pattern:d,match:p})}return s.length>0?s:null}getElementName(){if(this._patterns.length!==1)return null;const t=this._patterns[0],s=t.name;return typeof t=="function"||!s||s instanceof RegExp?null:s}}function Uy(f,t){if(typeof t=="function")return t(f);const s={};return t.name&&(s.name=function(a,d){return a instanceof RegExp?!!d.match(a):a===d}(t.name,f.name),!s.name)||t.attributes&&(s.attributes=function(a,d){const p=new Set(d.getAttributeKeys());return on(a)?(a.style!==void 0&&Y("matcher-pattern-deprecated-attributes-style-key",a),a.class!==void 0&&Y("matcher-pattern-deprecated-attributes-class-key",a)):(p.delete("style"),p.delete("class")),Rg(a,p,w=>d.getAttribute(w))}(t.attributes,f),!s.attributes)||t.classes&&(s.classes=function(a,d){return Rg(a,d.getClassNames(),()=>{})}(t.classes,f),!s.classes)||t.styles&&(s.styles=function(a,d){return Rg(a,d.getStyleNames(!0),p=>d.getStyle(p))}(t.styles,f),!s.styles)?null:s}function Rg(f,t,s){const a=function(w){return Array.isArray(w)?w.map(k=>on(k)?(k.key!==void 0&&k.value!==void 0||Y("matcher-pattern-missing-key-or-value",k),[k.key,k.value]):[k,!0]):on(w)?Object.entries(w):[[w,!0]]}(f),d=Array.from(t),p=[];if(a.forEach(([w,k])=>{d.forEach(D=>{(function(R,M){return R===!0||R===M||R instanceof RegExp&&M.match(R)})(w,D)&&function(R,M,U){if(R===!0)return!0;const W=U(M);return R===W||R instanceof RegExp&&!!String(W).match(R)}(k,D,s)&&p.push(D)})}),a.length&&!(p.length<a.length))return p}const Mg=function(f){return typeof f=="symbol"||En(f)&&Zt(f)=="[object Symbol]"};var By=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,PA=/^\w*$/;const IA=function(f,t){if(qt(f))return!1;var s=typeof f;return!(s!="number"&&s!="symbol"&&s!="boolean"&&f!=null&&!Mg(f))||PA.test(f)||!By.test(f)||t!=null&&f in Object(t)};function zy(f,t){if(typeof f!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var s=function(){var a=arguments,d=t?t.apply(this,a):a[0],p=s.cache;if(p.has(d))return p.get(d);var w=f.apply(this,a);return s.cache=p.set(d,w)||p,w};return s.cache=new(zy.Cache||Qr),s}zy.Cache=Qr;const Ix=zy,jA=function(f){var t=Ix(f,function(a){return s.size===500&&s.clear(),a}),s=t.cache;return t};var RA=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,TP=/\\(\\)?/g,jx=jA(function(f){var t=[];return f.charCodeAt(0)===46&&t.push(""),f.replace(RA,function(s,a,d,p){t.push(d?p.replace(TP,"$1"):a||s)}),t});const Vy=jx,CP=function(f,t){for(var s=-1,a=f==null?0:f.length,d=Array(a);++s<a;)d[s]=t(f[s],s,f);return d};var MA=Ue?Ue.prototype:void 0,OA=MA?MA.toString:void 0;const DP=function f(t){if(typeof t=="string")return t;if(qt(t))return CP(t,f)+"";if(Mg(t))return OA?OA.call(t):"";var s=t+"";return s=="0"&&1/t==-1/0?"-0":s},Io=function(f){return f==null?"":DP(f)},Ss=function(f,t){return qt(f)?f:IA(f,t)?[f]:Vy(Io(f))},FA=function(f){var t=f==null?0:f.length;return t?f[t-1]:void 0},Wy=function(f){if(typeof f=="string"||Mg(f))return f;var t=f+"";return t=="0"&&1/f==-1/0?"-0":t},Rx=function(f,t){for(var s=0,a=(t=Ss(t,f)).length;f!=null&&s<a;)f=f[Wy(t[s++])];return s&&s==a?f:void 0},Mx=function(f,t,s){var a=-1,d=f.length;t<0&&(t=-t>d?0:d+t),(s=s>d?d:s)<0&&(s+=d),d=t>s?0:s-t>>>0,t>>>=0;for(var p=Array(d);++a<d;)p[a]=f[a+t];return p},LA=function(f,t){return t.length<2?f:Rx(f,Mx(t,0,-1))},Ox=function(f,t){return t=Ss(t,f),(f=LA(f,t))==null||delete f[Wy(FA(t))]},UA=function(f,t){return f==null||Ox(f,t)},cp=function(f,t,s){var a=f==null?void 0:Rx(f,t);return a===void 0?s:a},$y=function(f,t,s){(s!==void 0&&!On(f[t],s)||s===void 0&&!(t in f))&&Ld(f,t,s)},BA=function(f){return function(t,s,a){for(var d=-1,p=Object(t),w=a(t),k=w.length;k--;){var D=w[++d];if(s(p[D],D,p)===!1)break}return t}}(),Fx=function(f){return En(f)&&wc(f)},Lx=function(f,t){if((t!=="constructor"||typeof f[t]!="function")&&t!="__proto__")return f[t]},zA=function(f){return El(f,So(f))},Ux=function(f,t,s,a,d,p,w){var k=Lx(f,s),D=Lx(t,s),R=w.get(D);if(R)$y(f,s,R);else{var M=void 0,U=M===void 0;if(U){var W=qt(D),Z=!W&&vu(D),re=!W&&!Z&&Vd(D);M=D,W||Z||re?qt(k)?M=k:Fx(k)?M=Xd(k):Z?(U=!1,M=dg(D,!0)):re?(U=!1,M=kg(D,!0)):M=[]:on(D)||cg(D)?(M=k,cg(k)?M=zA(k):Oe(k)&&!Jr(k)||(M=_y(D))):U=!1}U&&(w.set(D,M),d(M,D,a,p,w),w.delete(D)),$y(f,s,M)}},VA=function f(t,s,a,d,p){t!==s&&BA(s,function(w,k){if(p||(p=new ko),Oe(w))Ux(t,s,k,a,f,d,p);else{var D=void 0;D===void 0&&(D=w),$y(t,k,D)}},So)},Fu=function(f){return f},NP=function(f,t,s){switch(s.length){case 0:return f.call(t);case 1:return f.call(t,s[0]);case 2:return f.call(t,s[0],s[1]);case 3:return f.call(t,s[0],s[1],s[2])}return f.apply(t,s)};var WA=Math.max;const $A=function(f,t,s){return t=WA(t===void 0?f.length-1:t,0),function(){for(var a=arguments,d=-1,p=WA(a.length-t,0),w=Array(p);++d<p;)w[d]=a[t+d];d=-1;for(var k=Array(t+1);++d<t;)k[d]=a[d];return k[t]=s(w),NP(f,this,k)}},Bx=function(f){return function(){return f}},qA=Ia?function(f,t){return Ia(f,"toString",{configurable:!0,enumerable:!1,value:Bx(t),writable:!0})}:Fu;var Pc=Date.now;const PP=function(f){var t=0,s=0;return function(){var a=Pc(),d=16-(a-s);if(s=a,d>0){if(++t>=800)return arguments[0]}else t=0;return f.apply(void 0,arguments)}}(qA),IP=function(f,t){return PP($A(f,t,Fu),f+"")},zx=function(f,t,s){if(!Oe(s))return!1;var a=typeof t;return!!(a=="number"?wc(s)&&Al(t,s.length):a=="string"&&t in s)&&On(s[t],f)},Hy=function(f){return IP(function(t,s){var a=-1,d=s.length,p=d>1?s[d-1]:void 0,w=d>2?s[2]:void 0;for(p=f.length>3&&typeof p=="function"?(d--,p):void 0,w&&zx(s[0],s[1],w)&&(p=d<3?void 0:p,d=1),t=Object(t);++a<d;){var k=s[a];k&&f(t,k,a,p)}return t})},HA=Hy(function(f,t,s){VA(f,t,s)}),GA=function(f,t,s,a){if(!Oe(f))return f;for(var d=-1,p=(t=Ss(t,f)).length,w=p-1,k=f;k!=null&&++d<p;){var D=Wy(t[d]),R=s;if(D==="__proto__"||D==="constructor"||D==="prototype")return f;if(d!=w){var M=k[D];(R=void 0)==void 0&&(R=Oe(M)?M:Al(t[d+1])?[]:{})}bu(k,D,R),k=k[D]}return f},XA=function(f,t,s){return f==null?f:GA(f,t,s)};class jP{constructor(t){this._styles={},this._styleProcessor=t}get isEmpty(){const t=Object.entries(this._styles);return!Array.from(t).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(t){this.clear();const s=Array.from(function(a){let d=null,p=0,w=0,k=null;const D=new Map;if(a==="")return D;a.charAt(a.length-1)!=";"&&(a+=";");for(let R=0;R<a.length;R++){const M=a.charAt(R);if(d===null)switch(M){case":":k||(k=a.substr(p,R-p),w=R+1);break;case'"':case"'":d=M;break;case";":{const U=a.substr(w,R-w);k&&D.set(k.trim(),U.trim()),k=null,p=R+1;break}}else M===d&&(d=null)}return D}(t).entries());for(const[a,d]of s)this._styleProcessor.toNormalizedForm(a,d,this._styles)}has(t){if(this.isEmpty)return!1;const s=this._styleProcessor.getReducedForm(t,this._styles).find(([a])=>a===t);return Array.isArray(s)}set(t,s){if(Oe(t))for(const[a,d]of Object.entries(t))this._styleProcessor.toNormalizedForm(a,d,this._styles);else this._styleProcessor.toNormalizedForm(t,s,this._styles)}remove(t){const s=Vx(t);UA(this._styles,s),delete this._styles[t],this._cleanEmptyObjectsOnPath(s)}getNormalized(t){return this._styleProcessor.getNormalized(t,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(t=>t.join(":")).sort().join(";")+";"}getAsString(t){if(this.isEmpty)return;if(this._styles[t]&&!Oe(this._styles[t]))return this._styles[t];const s=this._styleProcessor.getReducedForm(t,this._styles).find(([a])=>a===t);return Array.isArray(s)?s[1]:void 0}getStyleNames(t=!1){return this.isEmpty?[]:t?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([s])=>s)}clear(){this._styles={}}_getStylesEntries(){const t=[],s=Object.keys(this._styles);for(const a of s)t.push(...this._styleProcessor.getReducedForm(a,this._styles));return t}_cleanEmptyObjectsOnPath(t){const s=t.split(".");if(!(s.length>1))return;const a=s.splice(0,s.length-1).join("."),d=cp(this._styles,a);d&&!Array.from(Object.keys(d)).length&&this.remove(a)}}class YA{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(t,s,a){if(Oe(s))Wx(a,Vx(t),s);else if(this._normalizers.has(t)){const d=this._normalizers.get(t),{path:p,value:w}=d(s);Wx(a,p,w)}else Wx(a,t,s)}getNormalized(t,s){if(!t)return HA({},s);if(s[t]!==void 0)return s[t];if(this._extractors.has(t)){const a=this._extractors.get(t);if(typeof a=="string")return cp(s,a);const d=a(t,s);if(d)return d}return cp(s,Vx(t))}getReducedForm(t,s){const a=this.getNormalized(t,s);return a===void 0?[]:this._reducers.has(t)?this._reducers.get(t)(a):[[t,a]]}getStyleNames(t){const s=Array.from(this._consumables.keys()).filter(d=>{const p=this.getNormalized(d,t);return p&&typeof p=="object"?Object.keys(p).length:p}),a=new Set([...s,...Object.keys(t)]);return Array.from(a.values())}getRelatedStyles(t){return this._consumables.get(t)||[]}setNormalizer(t,s){this._normalizers.set(t,s)}setExtractor(t,s){this._extractors.set(t,s)}setReducer(t,s){this._reducers.set(t,s)}setStyleRelation(t,s){this._mapStyleNames(t,s);for(const a of s)this._mapStyleNames(a,[t])}_mapStyleNames(t,s){this._consumables.has(t)||this._consumables.set(t,[]),this._consumables.get(t).push(...s)}}function Vx(f){return f.replace("-",".")}function Wx(f,t,s){let a=s;Oe(s)&&(a=HA({},cp(f,t),s)),XA(f,t,a)}class Zs extends Ba{constructor(t,s,a,d){if(super(t),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=s,this._attrs=function(p){const w=La(p);for(const[k,D]of w)D===null?w.delete(k):typeof D!="string"&&w.set(k,String(D));return w}(a),this._children=[],d&&this._insertChild(0,d),this._classes=new Set,this._attrs.has("class")){const p=this._attrs.get("class");$x(this._classes,p),this._attrs.delete("class")}this._styles=new jP(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(t){if(t=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(t=="style"){const s=this._styles.toString();return s==""?void 0:s}return this._attrs.get(t)}hasAttribute(t){return t=="class"?this._classes.size>0:t=="style"?!this._styles.isEmpty:this._attrs.has(t)}isSimilar(t){if(!(t instanceof Zs))return!1;if(this===t)return!0;if(this.name!=t.name||this._attrs.size!==t._attrs.size||this._classes.size!==t._classes.size||this._styles.size!==t._styles.size)return!1;for(const[s,a]of this._attrs)if(!t._attrs.has(s)||t._attrs.get(s)!==a)return!1;for(const s of this._classes)if(!t._classes.has(s))return!1;for(const s of this._styles.getStyleNames())if(!t._styles.has(s)||t._styles.getAsString(s)!==this._styles.getAsString(s))return!1;return!0}hasClass(...t){for(const s of t)if(!this._classes.has(s))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(t){return this._styles.getAsString(t)}getNormalizedStyle(t){return this._styles.getNormalized(t)}getStyleNames(t){return this._styles.getStyleNames(t)}hasStyle(...t){for(const s of t)if(!this._styles.has(s))return!1;return!0}findAncestor(...t){const s=new Ou(...t);let a=this.parent;for(;a&&!a.is("documentFragment");){if(s.match(a))return a;a=a.parent}return null}getCustomProperty(t){return this._customProperties.get(t)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const t=Array.from(this._classes).sort().join(","),s=this._styles.toString(),a=Array.from(this._attrs).map(d=>`${d[0]}="${d[1]}"`).sort().join(" ");return this.name+(t==""?"":` class="${t}"`)+(s?` style="${s}"`:"")+(a==""?"":` ${a}`)}shouldRenderUnsafeAttribute(t){return this._unsafeAttributesToRender.includes(t)}_clone(t=!1){const s=[];if(t)for(const d of this.getChildren())s.push(d._clone(t));const a=new this.constructor(this.document,this.name,this._attrs,s);return a._classes=new Set(this._classes),a._styles.set(this._styles.getNormalized()),a._customProperties=new Map(this._customProperties),a.getFillerOffset=this.getFillerOffset,a._unsafeAttributesToRender=this._unsafeAttributesToRender,a}_appendChild(t){return this._insertChild(this.childCount,t)}_insertChild(t,s){this._fireChange("children",this);let a=0;const d=function(p,w){return typeof w=="string"?[new Fn(p,w)]:(Ne(w)||(w=[w]),Array.from(w).map(k=>typeof k=="string"?new Fn(p,k):k instanceof za?new Fn(p,k.data):k))}(this.document,s);for(const p of d)p.parent!==null&&p._remove(),p.parent=this,p.document=this.document,this._children.splice(t,0,p),t++,a++;return a}_removeChildren(t,s=1){this._fireChange("children",this);for(let a=t;a<t+s;a++)this._children[a].parent=null;return this._children.splice(t,s)}_setAttribute(t,s){const a=String(s);this._fireChange("attributes",this),t=="class"?$x(this._classes,a):t=="style"?this._styles.setTo(a):this._attrs.set(t,a)}_removeAttribute(t){return this._fireChange("attributes",this),t=="class"?this._classes.size>0&&(this._classes.clear(),!0):t=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(t)}_addClass(t){this._fireChange("attributes",this);for(const s of $n(t))this._classes.add(s)}_removeClass(t){this._fireChange("attributes",this);for(const s of $n(t))this._classes.delete(s)}_setStyle(t,s){this._fireChange("attributes",this),typeof t!="string"?this._styles.set(t):this._styles.set(t,s)}_removeStyle(t){this._fireChange("attributes",this);for(const s of $n(t))this._styles.remove(s)}_setCustomProperty(t,s){this._customProperties.set(t,s)}_removeCustomProperty(t){return this._customProperties.delete(t)}}function $x(f,t){const s=t.split(/\s+/);f.clear(),s.forEach(a=>f.add(a))}Zs.prototype.is=function(f,t){return t?t===this.name&&(f==="element"||f==="view:element"):f==="element"||f==="view:element"||f==="node"||f==="view:node"};class up extends Zs{constructor(t,s,a,d){super(t,s,a,d),this.getFillerOffset=qx}}function qx(){const f=[...this.getChildren()],t=f[this.childCount-1];if(t&&t.is("element","br"))return this.childCount;for(const s of f)if(!s.is("uiElement"))return null;return this.childCount}up.prototype.is=function(f,t){return t?t===this.name&&(f==="containerElement"||f==="view:containerElement"||f==="element"||f==="view:element"):f==="containerElement"||f==="view:containerElement"||f==="element"||f==="view:element"||f==="node"||f==="view:node"};class Og extends ze(up){constructor(t,s,a,d){super(t,s,a,d),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(t),this.bind("isFocused").to(t,"isFocused",p=>p&&t.selection.editableElement==this),this.listenTo(t.selection,"change",()=>{this.isFocused=t.isFocused&&t.selection.editableElement==this})}destroy(){this.stopListening()}}Og.prototype.is=function(f,t){return t?t===this.name&&(f==="editableElement"||f==="view:editableElement"||f==="containerElement"||f==="view:containerElement"||f==="element"||f==="view:element"):f==="editableElement"||f==="view:editableElement"||f==="containerElement"||f==="view:containerElement"||f==="element"||f==="view:element"||f==="node"||f==="view:node"};const Gy=Symbol("rootName");class Xy extends Og{constructor(t,s){super(t,s),this.rootName="main"}get rootName(){return this.getCustomProperty(Gy)}set rootName(t){this._setCustomProperty(Gy,t)}set _name(t){this.name=t}}Xy.prototype.is=function(f,t){return t?t===this.name&&(f==="rootElement"||f==="view:rootElement"||f==="editableElement"||f==="view:editableElement"||f==="containerElement"||f==="view:containerElement"||f==="element"||f==="view:element"):f==="rootElement"||f==="view:rootElement"||f==="editableElement"||f==="view:editableElement"||f==="containerElement"||f==="view:containerElement"||f==="element"||f==="view:element"||f==="node"||f==="view:node"};class Lu{constructor(t={}){if(!t.boundaries&&!t.startPosition)throw new B("view-tree-walker-no-start-position",null);if(t.direction&&t.direction!="forward"&&t.direction!="backward")throw new B("view-tree-walker-unknown-direction",t.startPosition,{direction:t.direction});this.boundaries=t.boundaries||null,t.startPosition?this._position=bt._createAt(t.startPosition):this._position=bt._createAt(t.boundaries[t.direction=="backward"?"end":"start"]),this.direction=t.direction||"forward",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(t){let s,a;do a=this.position,s=this.next();while(!s.done&&t(s.value));s.done||(this._position=a)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let t=this.position.clone();const s=this.position,a=t.parent;if(a.parent===null&&t.offset===a.childCount)return{done:!0,value:void 0};if(a===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let d;if(a instanceof Fn){if(t.isAtEnd)return this._position=bt._createAfter(a),this._next();d=a.data[t.offset]}else d=a.getChild(t.offset);if(d instanceof Zs){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}else t=new bt(d,0);return this._position=t,this._formatReturnValue("elementStart",d,s,t,1)}if(d instanceof Fn){if(this.singleCharacters)return t=new bt(d,0),this._position=t,this._next();let p,w=d.data.length;return d==this._boundaryEndParent?(w=this.boundaries.end.offset,p=new za(d,0,w),t=bt._createAfter(p)):(p=new za(d,0,d.data.length),t.offset++),this._position=t,this._formatReturnValue("text",p,s,t,w)}if(typeof d=="string"){let p;this.singleCharacters?p=1:p=(a===this._boundaryEndParent?this.boundaries.end.offset:a.data.length)-t.offset;const w=new za(a,t.offset,p);return t.offset+=p,this._position=t,this._formatReturnValue("text",w,s,t,p)}return t=bt._createAfter(a),this._position=t,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",a,s,t)}_previous(){let t=this.position.clone();const s=this.position,a=t.parent;if(a.parent===null&&t.offset===0)return{done:!0,value:void 0};if(a==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let d;if(a instanceof Fn){if(t.isAtStart)return this._position=bt._createBefore(a),this._previous();d=a.data[t.offset-1]}else d=a.getChild(t.offset-1);if(d instanceof Zs)return this.shallow?(t.offset--,this._position=t,this._formatReturnValue("elementStart",d,s,t,1)):(t=new bt(d,d.childCount),this._position=t,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",d,s,t));if(d instanceof Fn){if(this.singleCharacters)return t=new bt(d,d.data.length),this._position=t,this._previous();let p,w=d.data.length;if(d==this._boundaryStartParent){const k=this.boundaries.start.offset;p=new za(d,k,d.data.length-k),w=p.data.length,t=bt._createBefore(p)}else p=new za(d,0,d.data.length),t.offset--;return this._position=t,this._formatReturnValue("text",p,s,t,w)}if(typeof d=="string"){let p;if(this.singleCharacters)p=1;else{const k=a===this._boundaryStartParent?this.boundaries.start.offset:0;p=t.offset-k}t.offset-=p;const w=new za(a,t.offset,p);return this._position=t,this._formatReturnValue("text",w,s,t,p)}return t=bt._createBefore(a),this._position=t,this._formatReturnValue("elementStart",a,s,t,1)}_formatReturnValue(t,s,a,d,p){return s instanceof za&&(s.offsetInText+s.data.length==s.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?a=bt._createAfter(s.textNode):(d=bt._createAfter(s.textNode),this._position=d)),s.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?a=bt._createBefore(s.textNode):(d=bt._createBefore(s.textNode),this._position=d))),{done:!1,value:{type:t,item:s,previousPosition:a,nextPosition:d,length:p}}}}class bt extends Mu{constructor(t,s){super(),this.parent=t,this.offset=s}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const t=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===t}get root(){return this.parent.root}get editableElement(){let t=this.parent;for(;!(t instanceof Og);){if(!t.parent)return null;t=t.parent}return t}getShiftedBy(t){const s=bt._createAt(this),a=s.offset+t;return s.offset=a<0?0:a,s}getLastMatchingPosition(t,s={}){s.startPosition=this;const a=new Lu(s);return a.skip(t),a.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(t){const s=this.getAncestors(),a=t.getAncestors();let d=0;for(;s[d]==a[d]&&s[d];)d++;return d===0?null:s[d-1]}isEqual(t){return this.parent==t.parent&&this.offset==t.offset}isBefore(t){return this.compareWith(t)=="before"}isAfter(t){return this.compareWith(t)=="after"}compareWith(t){if(this.root!==t.root)return"different";if(this.isEqual(t))return"same";const s=this.parent.is("node")?this.parent.getPath():[],a=t.parent.is("node")?t.parent.getPath():[];s.push(this.offset),a.push(t.offset);const d=$e(s,a);switch(d){case"prefix":return"before";case"extension":return"after";default:return s[d]<a[d]?"before":"after"}}getWalker(t={}){return t.startPosition=this,new Lu(t)}clone(){return new bt(this.parent,this.offset)}static _createAt(t,s){if(t instanceof bt)return new this(t.parent,t.offset);{const a=t;if(s=="end")s=a.is("$text")?a.data.length:a.childCount;else{if(s=="before")return this._createBefore(a);if(s=="after")return this._createAfter(a);if(s!==0&&!s)throw new B("view-createpositionat-offset-required",a)}return new bt(a,s)}}static _createAfter(t){if(t.is("$textProxy"))return new bt(t.textNode,t.offsetInText+t.data.length);if(!t.parent)throw new B("view-position-after-root",t,{root:t});return new bt(t.parent,t.index+1)}static _createBefore(t){if(t.is("$textProxy"))return new bt(t.textNode,t.offsetInText);if(!t.parent)throw new B("view-position-before-root",t,{root:t});return new bt(t.parent,t.index)}}bt.prototype.is=function(f){return f==="position"||f==="view:position"};class nn extends Mu{constructor(t,s=null){super(),this.start=t.clone(),this.end=s?s.clone():t.clone()}*[Symbol.iterator](){yield*new Lu({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let t=this.start.getLastMatchingPosition(Yy,{direction:"backward"}),s=this.end.getLastMatchingPosition(Yy);return t.parent.is("$text")&&t.isAtStart&&(t=bt._createBefore(t.parent)),s.parent.is("$text")&&s.isAtEnd&&(s=bt._createAfter(s.parent)),new nn(t,s)}getTrimmed(){let t=this.start.getLastMatchingPosition(Yy);if(t.isAfter(this.end)||t.isEqual(this.end))return new nn(t,t);let s=this.end.getLastMatchingPosition(Yy,{direction:"backward"});const a=t.nodeAfter,d=s.nodeBefore;return a&&a.is("$text")&&(t=new bt(a,0)),d&&d.is("$text")&&(s=new bt(d,d.data.length)),new nn(t,s)}isEqual(t){return this==t||this.start.isEqual(t.start)&&this.end.isEqual(t.end)}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,s=!1){t.isCollapsed&&(s=!1);const a=this.containsPosition(t.start)||s&&this.start.isEqual(t.start),d=this.containsPosition(t.end)||s&&this.end.isEqual(t.end);return a&&d}getDifference(t){const s=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&s.push(new nn(this.start,t.start)),this.containsPosition(t.end)&&s.push(new nn(t.end,this.end))):s.push(this.clone()),s}getIntersection(t){if(this.isIntersecting(t)){let s=this.start,a=this.end;return this.containsPosition(t.start)&&(s=t.start),this.containsPosition(t.end)&&(a=t.end),new nn(s,a)}return null}getWalker(t={}){return t.boundaries=this,new Lu(t)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let t=this.start.nodeAfter,s=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(t=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(s=this.end.parent.previousSibling),t&&t.is("element")&&t===s?t:null}clone(){return new nn(this.start,this.end)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const s=new Lu(t);for(const a of s)yield a.item}*getPositions(t={}){t.boundaries=this;const s=new Lu(t);yield s.position;for(const a of s)yield a.nextPosition}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}static _createFromParentsAndOffsets(t,s,a,d){return new this(new bt(t,s),new bt(a,d))}static _createFromPositionAndShift(t,s){const a=t,d=t.getShiftedBy(s);return s>0?new this(a,d):new this(d,a)}static _createIn(t){return this._createFromParentsAndOffsets(t,0,t,t.childCount)}static _createOn(t){const s=t.is("$textProxy")?t.offsetSize:1;return this._createFromPositionAndShift(bt._createBefore(t),s)}}function Yy(f){return!(!f.item.is("attributeElement")&&!f.item.is("uiElement"))}nn.prototype.is=function(f){return f==="range"||f==="view:range"};class Va extends X(Mu){constructor(...t){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",t.length&&this.setTo(...t)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.end:t.start).clone()}get focus(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.start:t.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const t of this._ranges)yield t.clone()}getFirstRange(){let t=null;for(const s of this._ranges)t&&!s.start.isBefore(t.start)||(t=s);return t?t.clone():null}getLastRange(){let t=null;for(const s of this._ranges)t&&!s.end.isAfter(t.end)||(t=s);return t?t.clone():null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}isEqual(t){if(this.isFake!=t.isFake||this.isFake&&this.fakeSelectionLabel!=t.fakeSelectionLabel||this.rangeCount!=t.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const s of this._ranges){let a=!1;for(const d of t._ranges)if(s.isEqual(d)){a=!0;break}if(!a)return!1}return!0}isSimilar(t){if(this.isBackward!=t.isBackward)return!1;const s=Ve(this.getRanges());if(s!=Ve(t.getRanges()))return!1;if(s==0)return!0;for(let a of this.getRanges()){a=a.getTrimmed();let d=!1;for(let p of t.getRanges())if(p=p.getTrimmed(),a.start.isEqual(p.start)&&a.end.isEqual(p.end)){d=!0;break}if(!d)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...t){let[s,a,d]=t;if(typeof a=="object"&&(d=a,a=void 0),s===null)this._setRanges([]),this._setFakeOptions(d);else if(s instanceof Va||s instanceof dp)this._setRanges(s.getRanges(),s.isBackward),this._setFakeOptions({fake:s.isFake,label:s.fakeSelectionLabel});else if(s instanceof nn)this._setRanges([s],d&&d.backward),this._setFakeOptions(d);else if(s instanceof bt)this._setRanges([new nn(s)]),this._setFakeOptions(d);else if(s instanceof Ba){const p=!!d&&!!d.backward;let w;if(a===void 0)throw new B("view-selection-setto-required-second-parameter",this);w=a=="in"?nn._createIn(s):a=="on"?nn._createOn(s):new nn(bt._createAt(s,a)),this._setRanges([w],p),this._setFakeOptions(d)}else{if(!Ne(s))throw new B("view-selection-setto-not-selectable",this);this._setRanges(s,d&&d.backward),this._setFakeOptions(d)}this.fire("change")}setFocus(t,s){if(this.anchor===null)throw new B("view-selection-setfocus-no-ranges",this);const a=bt._createAt(t,s);if(a.compareWith(this.focus)=="same")return;const d=this.anchor;this._ranges.pop(),a.compareWith(d)=="before"?this._addRange(new nn(a,d),!0):this._addRange(new nn(d,a)),this.fire("change")}_setRanges(t,s=!1){t=Array.from(t),this._ranges=[];for(const a of t)this._addRange(a);this._lastRangeBackward=!!s}_setFakeOptions(t={}){this._isFake=!!t.fake,this._fakeSelectionLabel=t.fake&&t.label||""}_addRange(t,s=!1){if(!(t instanceof nn))throw new B("view-selection-add-range-not-range",this);this._pushRange(t),this._lastRangeBackward=!!s}_pushRange(t){for(const s of this._ranges)if(t.isIntersecting(s))throw new B("view-selection-range-intersects",this,{addedRange:t,intersectingRange:s});this._ranges.push(new nn(t.start,t.end))}}Va.prototype.is=function(f){return f==="selection"||f==="view:selection"};class dp extends X(Mu){constructor(...t){super(),this._selection=new Va,this._selection.delegate("change").to(this),t.length&&this._selection.setTo(...t)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(t){return this._selection.isEqual(t)}isSimilar(t){return this._selection.isSimilar(t)}_setTo(...t){this._selection.setTo(...t)}_setFocus(t,s){this._selection.setFocus(t,s)}}dp.prototype.is=function(f){return f==="selection"||f=="documentSelection"||f=="view:selection"||f=="view:documentSelection"};class Uu extends N{constructor(t,s,a){super(t,s),this.startRange=a,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const mn=Symbol("bubbling contexts");function zr(f){return class extends f{fire(t,...s){try{const a=t instanceof N?t:new N(this,t),d=Fg(this);if(!d.size)return;if(ji(a,"capturing",this),Yi(d,"$capture",a,...s))return a.return;const p=a.startRange||this.selection.getFirstRange(),w=p?p.getContainedElement():null,k=!!w&&!!Bu(d,w);let D=w||function(R){if(!R)return null;const M=R.start.parent,U=R.end.parent,W=M.getPath(),Z=U.getPath();return W.length>Z.length?M:U}(p);if(ji(a,"atTarget",D),!k){if(Yi(d,"$text",a,...s))return a.return;ji(a,"bubbling",D)}for(;D;){if(D.is("rootElement")){if(Yi(d,"$root",a,...s))return a.return}else if(D.is("element")&&Yi(d,D.name,a,...s))return a.return;if(Yi(d,D,a,...s))return a.return;D=D.parent,ji(a,"bubbling",D)}return ji(a,"bubbling",this),Yi(d,"$document",a,...s),a.return}catch(a){B.rethrowUnexpectedError(a,this)}}_addEventListener(t,s,a){const d=$n(a.context||"$document"),p=Fg(this);for(const w of d){let k=p.get(w);k||(k=new(X()),p.set(w,k)),this.listenTo(k,t,s,a)}}_removeEventListener(t,s){const a=Fg(this);for(const d of a.values())this.stopListening(d,t,s)}}}{const f=zr(Object);["fire","_addEventListener","_removeEventListener"].forEach(t=>{zr[t]=f.prototype[t]})}function ji(f,t,s){f instanceof Uu&&(f._eventPhase=t,f._currentTarget=s)}function Yi(f,t,s,...a){const d=typeof t=="string"?f.get(t):Bu(f,t);return!!d&&(d.fire(s,...a),s.stop.called)}function Bu(f,t){for(const[s,a]of f)if(typeof s=="function"&&s(t))return a;return null}function Fg(f){return f[mn]||(f[mn]=new Map),f[mn]}class Dr extends zr(ze()){constructor(t){super(),this._postFixers=new Set,this.selection=new dp,this.roots=new Ys({idProperty:"rootName"}),this.stylesProcessor=t,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(t="main"){return this.roots.get(t)}registerPostFixer(t){this._postFixers.add(t)}destroy(){this.roots.map(t=>t.destroy()),this.stopListening()}_callPostFixers(t){let s=!1;do for(const a of this._postFixers)if(s=a(t),s)break;while(s)}}class Ll extends Zs{constructor(t,s,a,d){super(t,s,a,d),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=hp}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new B("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(t){return this.id!==null||t.id!==null?this.id===t.id:super.isSimilar(t)&&this.priority==t.priority}_clone(t=!1){const s=super._clone(t);return s._priority=this._priority,s._id=this._id,s}}function hp(){if(lh(this))return null;let f=this.parent;for(;f&&f.is("attributeElement");){if(lh(f)>1)return null;f=f.parent}return!f||lh(f)>1?null:this.childCount}function lh(f){return Array.from(f.getChildren()).filter(t=>!t.is("uiElement")).length}Ll.DEFAULT_PRIORITY=10,Ll.prototype.is=function(f,t){return t?t===this.name&&(f==="attributeElement"||f==="view:attributeElement"||f==="element"||f==="view:element"):f==="attributeElement"||f==="view:attributeElement"||f==="element"||f==="view:element"||f==="node"||f==="view:node"};class zu extends Zs{constructor(t,s,a,d){super(t,s,a,d),this.getFillerOffset=Hx}_insertChild(t,s){if(s&&(s instanceof Ba||Array.from(s).length>0))throw new B("view-emptyelement-cannot-add",[this,s]);return 0}}function Hx(){return null}zu.prototype.is=function(f,t){return t?t===this.name&&(f==="emptyElement"||f==="view:emptyElement"||f==="element"||f==="view:element"):f==="emptyElement"||f==="view:emptyElement"||f==="element"||f==="view:element"||f==="node"||f==="view:node"};class fp extends Zs{constructor(t,s,a,d){super(t,s,a,d),this.getFillerOffset=Xx}_insertChild(t,s){if(s&&(s instanceof Ba||Array.from(s).length>0))throw new B("view-uielement-cannot-add",[this,s]);return 0}render(t,s){return this.toDomElement(t)}toDomElement(t){const s=t.createElement(this.name);for(const a of this.getAttributeKeys())s.setAttribute(a,this.getAttribute(a));return s}}function Gx(f){f.document.on("arrowKey",(t,s)=>function(a,d,p){if(d.keyCode==Qt.arrowright){const w=d.domTarget.ownerDocument.defaultView.getSelection(),k=w.rangeCount==1&&w.getRangeAt(0).collapsed;if(k||d.shiftKey){const D=w.focusNode,R=w.focusOffset,M=p.domPositionToView(D,R);if(M===null)return;let U=!1;const W=M.getLastMatchingPosition(Z=>(Z.item.is("uiElement")&&(U=!0),!(!Z.item.is("uiElement")&&!Z.item.is("attributeElement"))));if(U){const Z=p.viewPositionToDom(W);k?w.collapse(Z.parent,Z.offset):w.extend(Z.parent,Z.offset)}}}}(0,s,f.domConverter),{priority:"low"})}function Xx(){return null}fp.prototype.is=function(f,t){return t?t===this.name&&(f==="uiElement"||f==="view:uiElement"||f==="element"||f==="view:element"):f==="uiElement"||f==="view:uiElement"||f==="element"||f==="view:element"||f==="node"||f==="view:node"};class Vu extends Zs{constructor(t,s,a,d){super(t,s,a,d),this.getFillerOffset=KA}_insertChild(t,s){if(s&&(s instanceof Ba||Array.from(s).length>0))throw new B("view-rawelement-cannot-add",[this,s]);return 0}render(t,s){}}function KA(){return null}Vu.prototype.is=function(f,t){return t?t===this.name&&(f==="rawElement"||f==="view:rawElement"||f==="element"||f==="view:element"):f==="rawElement"||f==="view:rawElement"||f===this.name||f==="view:"+this.name||f==="element"||f==="view:element"||f==="node"||f==="view:node"};class kt extends X(Mu){constructor(t,s){super(),this._children=[],this._customProperties=new Map,this.document=t,s&&this._insertChild(0,s)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}getCustomProperty(t){return this._customProperties.get(t)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(t){return this._insertChild(this.childCount,t)}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(t,s){this._fireChange("children",this);let a=0;const d=function(p,w){return typeof w=="string"?[new Fn(p,w)]:(Ne(w)||(w=[w]),Array.from(w).map(k=>typeof k=="string"?new Fn(p,k):k instanceof za?new Fn(p,k.data):k))}(this.document,s);for(const p of d)p.parent!==null&&p._remove(),p.parent=this,this._children.splice(t,0,p),t++,a++;return a}_removeChildren(t,s=1){this._fireChange("children",this);for(let a=t;a<t+s;a++)this._children[a].parent=null;return this._children.splice(t,s)}_fireChange(t,s){this.fire("change:"+t,s)}_setCustomProperty(t,s){this._customProperties.set(t,s)}_removeCustomProperty(t){return this._customProperties.delete(t)}}kt.prototype.is=function(f){return f==="documentFragment"||f==="view:documentFragment"};class Lg{constructor(t){this._cloneGroups=new Map,this._slotFactory=null,this.document=t}setSelection(...t){this.document.selection._setTo(...t)}setSelectionFocus(t,s){this.document.selection._setFocus(t,s)}createDocumentFragment(t){return new kt(this.document,t)}createText(t){return new Fn(this.document,t)}createAttributeElement(t,s,a={}){const d=new Ll(this.document,t,s);return typeof a.priority=="number"&&(d._priority=a.priority),a.id&&(d._id=a.id),a.renderUnsafeAttributes&&d._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),d}createContainerElement(t,s,a={},d={}){let p=null;on(a)?d=a:p=a;const w=new up(this.document,t,s,p);return d.renderUnsafeAttributes&&w._unsafeAttributesToRender.push(...d.renderUnsafeAttributes),w}createEditableElement(t,s,a={}){const d=new Og(this.document,t,s);return a.renderUnsafeAttributes&&d._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),d}createEmptyElement(t,s,a={}){const d=new zu(this.document,t,s);return a.renderUnsafeAttributes&&d._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),d}createUIElement(t,s,a){const d=new fp(this.document,t,s);return a&&(d.render=a),d}createRawElement(t,s,a,d={}){const p=new Vu(this.document,t,s);return a&&(p.render=a),d.renderUnsafeAttributes&&p._unsafeAttributesToRender.push(...d.renderUnsafeAttributes),p}setAttribute(t,s,a){a._setAttribute(t,s)}removeAttribute(t,s){s._removeAttribute(t)}addClass(t,s){s._addClass(t)}removeClass(t,s){s._removeClass(t)}setStyle(t,s,a){on(t)&&a===void 0?s._setStyle(t):a._setStyle(t,s)}removeStyle(t,s){s._removeStyle(t)}setCustomProperty(t,s,a){a._setCustomProperty(t,s)}removeCustomProperty(t,s){return s._removeCustomProperty(t)}breakAttributes(t){return t instanceof bt?this._breakAttributes(t):this._breakAttributesRange(t)}breakContainer(t){const s=t.parent;if(!s.is("containerElement"))throw new B("view-writer-break-non-container-element",this.document);if(!s.parent)throw new B("view-writer-break-root",this.document);if(t.isAtStart)return bt._createBefore(s);if(!t.isAtEnd){const a=s._clone(!1);this.insert(bt._createAfter(s),a);const d=new nn(t,bt._createAt(s,"end")),p=new bt(a,0);this.move(d,p)}return bt._createAfter(s)}mergeAttributes(t){const s=t.offset,a=t.parent;if(a.is("$text"))return t;if(a.is("attributeElement")&&a.childCount===0){const w=a.parent,k=a.index;return a._remove(),this._removeFromClonedElementsGroup(a),this.mergeAttributes(new bt(w,k))}const d=a.getChild(s-1),p=a.getChild(s);if(!d||!p)return t;if(d.is("$text")&&p.is("$text"))return pp(d,p);if(d.is("attributeElement")&&p.is("attributeElement")&&d.isSimilar(p)){const w=d.childCount;return d._appendChild(p.getChildren()),p._remove(),this._removeFromClonedElementsGroup(p),this.mergeAttributes(new bt(d,w))}return t}mergeContainers(t){const s=t.nodeBefore,a=t.nodeAfter;if(!(s&&a&&s.is("containerElement")&&a.is("containerElement")))throw new B("view-writer-merge-containers-invalid-position",this.document);const d=s.getChild(s.childCount-1),p=d instanceof Fn?bt._createAt(d,"end"):bt._createAt(s,"end");return this.move(nn._createIn(a),bt._createAt(s,"end")),this.remove(nn._createOn(a)),p}insert(t,s){Ky(s=Ne(s)?[...s]:[s],this.document);const a=s.reduce((w,k)=>{const D=w[w.length-1],R=!k.is("uiElement");return D&&D.breakAttributes==R?D.nodes.push(k):w.push({breakAttributes:R,nodes:[k]}),w},[]);let d=null,p=t;for(const{nodes:w,breakAttributes:k}of a){const D=this._insertNodes(p,w,k);d||(d=D.start),p=D.end}return d?new nn(d,p):new nn(t)}remove(t){const s=t instanceof nn?t:nn._createOn(t);if(jc(s,this.document),s.isCollapsed)return new kt(this.document);const{start:a,end:d}=this._breakAttributesRange(s,!0),p=a.parent,w=d.offset-a.offset,k=p._removeChildren(a.offset,w);for(const R of k)this._removeFromClonedElementsGroup(R);const D=this.mergeAttributes(a);return s.start=D,s.end=D.clone(),new kt(this.document,k)}clear(t,s){jc(t,this.document);const a=t.getWalker({direction:"backward",ignoreElementEnd:!0});for(const d of a){const p=d.item;let w;if(p.is("element")&&s.isSimilar(p))w=nn._createOn(p);else if(!d.nextPosition.isAfter(t.start)&&p.is("$textProxy")){const k=p.getAncestors().find(D=>D.is("element")&&s.isSimilar(D));k&&(w=nn._createIn(k))}w&&(w.end.isAfter(t.end)&&(w.end=t.end),w.start.isBefore(t.start)&&(w.start=t.start),this.remove(w))}}move(t,s){let a;if(s.isAfter(t.end)){const d=(s=this._breakAttributes(s,!0)).parent,p=d.childCount;t=this._breakAttributesRange(t,!0),a=this.remove(t),s.offset+=d.childCount-p}else a=this.remove(t);return this.insert(s,a)}wrap(t,s){if(!(s instanceof Ll))throw new B("view-writer-wrap-invalid-attribute",this.document);if(jc(t,this.document),t.isCollapsed){let d=t.start;d.parent.is("element")&&(a=d.parent,!Array.from(a.getChildren()).some(w=>!w.is("uiElement")))&&(d=d.getLastMatchingPosition(w=>w.item.is("uiElement"))),d=this._wrapPosition(d,s);const p=this.document.selection;return p.isCollapsed&&p.getFirstPosition().isEqual(t.start)&&this.setSelection(d),new nn(d)}return this._wrapRange(t,s);var a}unwrap(t,s){if(!(s instanceof Ll))throw new B("view-writer-unwrap-invalid-attribute",this.document);if(jc(t,this.document),t.isCollapsed)return t;const{start:a,end:d}=this._breakAttributesRange(t,!0),p=a.parent,w=this._unwrapChildren(p,a.offset,d.offset,s),k=this.mergeAttributes(w.start);k.isEqual(w.start)||w.end.offset--;const D=this.mergeAttributes(w.end);return new nn(k,D)}rename(t,s){const a=new up(this.document,t,s.getAttributes());return this.insert(bt._createAfter(s),a),this.move(nn._createIn(s),bt._createAt(a,0)),this.remove(nn._createOn(s)),a}clearClonedElementsGroup(t){this._cloneGroups.delete(t)}createPositionAt(t,s){return bt._createAt(t,s)}createPositionAfter(t){return bt._createAfter(t)}createPositionBefore(t){return bt._createBefore(t)}createRange(t,s){return new nn(t,s)}createRangeOn(t){return nn._createOn(t)}createRangeIn(t){return nn._createIn(t)}createSelection(...t){return new Va(...t)}createSlot(t="children"){if(!this._slotFactory)throw new B("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,t)}_registerSlotFactory(t){this._slotFactory=t}_clearSlotFactory(){this._slotFactory=null}_insertNodes(t,s,a){let d,p;if(d=a?Ug(t):t.parent.is("$text")?t.parent.parent:t.parent,!d)throw new B("view-writer-invalid-position-container",this.document);p=a?this._breakAttributes(t,!0):t.parent.is("$text")?ch(t):t;const w=d._insertChild(p.offset,s);for(const M of s)this._addToClonedElementsGroup(M);const k=p.getShiftedBy(w),D=this.mergeAttributes(p);D.isEqual(p)||k.offset--;const R=this.mergeAttributes(k);return new nn(D,R)}_wrapChildren(t,s,a,d){let p=s;const w=[];for(;p<a;){const D=t.getChild(p),R=D.is("$text"),M=D.is("attributeElement");if(M&&this._wrapAttributeElement(d,D))w.push(new bt(t,p));else if(R||!M||Ul(d,D)){const U=d._clone();D._remove(),U._appendChild(D),t._insertChild(p,U),this._addToClonedElementsGroup(U),w.push(new bt(t,p))}else this._wrapChildren(D,0,D.childCount,d);p++}let k=0;for(const D of w)D.offset-=k,D.offset!=s&&(this.mergeAttributes(D).isEqual(D)||(k++,a--));return nn._createFromParentsAndOffsets(t,s,t,a)}_unwrapChildren(t,s,a,d){let p=s;const w=[];for(;p<a;){const D=t.getChild(p);if(D.is("attributeElement"))if(D.isSimilar(d)){const R=D.getChildren(),M=D.childCount;D._remove(),t._insertChild(p,R),this._removeFromClonedElementsGroup(D),w.push(new bt(t,p),new bt(t,p+M)),p+=M,a+=M-1}else this._unwrapAttributeElement(d,D)?(w.push(new bt(t,p),new bt(t,p+1)),p++):(this._unwrapChildren(D,0,D.childCount,d),p++);else p++}let k=0;for(const D of w)D.offset-=k,!(D.offset==s||D.offset==a)&&(this.mergeAttributes(D).isEqual(D)||(k++,a--));return nn._createFromParentsAndOffsets(t,s,t,a)}_wrapRange(t,s){const{start:a,end:d}=this._breakAttributesRange(t,!0),p=a.parent,w=this._wrapChildren(p,a.offset,d.offset,s),k=this.mergeAttributes(w.start);k.isEqual(w.start)||w.end.offset--;const D=this.mergeAttributes(w.end);return new nn(k,D)}_wrapPosition(t,s){if(s.isSimilar(t.parent))return Ic(t.clone());t.parent.is("$text")&&(t=ch(t));const a=this.createAttributeElement("_wrapPosition-fake-element");a._priority=Number.POSITIVE_INFINITY,a.isSimilar=()=>!1,t.parent._insertChild(t.offset,a);const d=new nn(t,t.getShiftedBy(1));this.wrap(d,s);const p=new bt(a.parent,a.index);a._remove();const w=p.nodeBefore,k=p.nodeAfter;return w instanceof Fn&&k instanceof Fn?pp(w,k):Ic(p)}_wrapAttributeElement(t,s){if(!Zy(t,s)||t.name!==s.name||t.priority!==s.priority)return!1;for(const a of t.getAttributeKeys())if(a!=="class"&&a!=="style"&&s.hasAttribute(a)&&s.getAttribute(a)!==t.getAttribute(a))return!1;for(const a of t.getStyleNames())if(s.hasStyle(a)&&s.getStyle(a)!==t.getStyle(a))return!1;for(const a of t.getAttributeKeys())a!=="class"&&a!=="style"&&(s.hasAttribute(a)||this.setAttribute(a,t.getAttribute(a),s));for(const a of t.getStyleNames())s.hasStyle(a)||this.setStyle(a,t.getStyle(a),s);for(const a of t.getClassNames())s.hasClass(a)||this.addClass(a,s);return!0}_unwrapAttributeElement(t,s){if(!Zy(t,s)||t.name!==s.name||t.priority!==s.priority)return!1;for(const a of t.getAttributeKeys())if(a!=="class"&&a!=="style"&&(!s.hasAttribute(a)||s.getAttribute(a)!==t.getAttribute(a)))return!1;if(!s.hasClass(...t.getClassNames()))return!1;for(const a of t.getStyleNames())if(!s.hasStyle(a)||s.getStyle(a)!==t.getStyle(a))return!1;for(const a of t.getAttributeKeys())a!=="class"&&a!=="style"&&this.removeAttribute(a,s);return this.removeClass(Array.from(t.getClassNames()),s),this.removeStyle(Array.from(t.getStyleNames()),s),!0}_breakAttributesRange(t,s=!1){const a=t.start,d=t.end;if(jc(t,this.document),t.isCollapsed){const D=this._breakAttributes(t.start,s);return new nn(D,D)}const p=this._breakAttributes(d,s),w=p.parent.childCount,k=this._breakAttributes(a,s);return p.offset+=p.parent.childCount-w,new nn(k,p)}_breakAttributes(t,s=!1){const a=t.offset,d=t.parent;if(t.parent.is("emptyElement"))throw new B("view-writer-cannot-break-empty-element",this.document);if(t.parent.is("uiElement"))throw new B("view-writer-cannot-break-ui-element",this.document);if(t.parent.is("rawElement"))throw new B("view-writer-cannot-break-raw-element",this.document);if(!s&&d.is("$text")&&Wa(d.parent)||Wa(d))return t.clone();if(d.is("$text"))return this._breakAttributes(ch(t),s);if(a==d.childCount){const p=new bt(d.parent,d.index+1);return this._breakAttributes(p,s)}if(a===0){const p=new bt(d.parent,d.index);return this._breakAttributes(p,s)}{const p=d.index+1,w=d._clone();d.parent._insertChild(p,w),this._addToClonedElementsGroup(w);const k=d.childCount-a,D=d._removeChildren(a,k);w._appendChild(D);const R=new bt(d.parent,p);return this._breakAttributes(R,s)}}_addToClonedElementsGroup(t){if(!t.root.is("rootElement"))return;if(t.is("element"))for(const d of t.getChildren())this._addToClonedElementsGroup(d);const s=t.id;if(!s)return;let a=this._cloneGroups.get(s);a||(a=new Set,this._cloneGroups.set(s,a)),a.add(t),t._clonesGroup=a}_removeFromClonedElementsGroup(t){if(t.is("element"))for(const d of t.getChildren())this._removeFromClonedElementsGroup(d);const s=t.id;if(!s)return;const a=this._cloneGroups.get(s);a&&a.delete(t)}}function Ug(f){let t=f.parent;for(;!Wa(t);){if(!t)return;t=t.parent}return t}function Ul(f,t){return f.priority<t.priority||!(f.priority>t.priority)&&f.getIdentity()<t.getIdentity()}function Ic(f){const t=f.nodeBefore;if(t&&t.is("$text"))return new bt(t,t.data.length);const s=f.nodeAfter;return s&&s.is("$text")?new bt(s,0):f}function ch(f){if(f.offset==f.parent.data.length)return new bt(f.parent.parent,f.parent.index+1);if(f.offset===0)return new bt(f.parent.parent,f.parent.index);const t=f.parent.data.slice(f.offset);return f.parent._data=f.parent.data.slice(0,f.offset),f.parent.parent._insertChild(f.parent.index+1,new Fn(f.root.document,t)),new bt(f.parent.parent,f.parent.index+1)}function pp(f,t){const s=f.data.length;return f._data+=t.data,t._remove(),new bt(f,s)}const Yx=[Fn,Ll,up,zu,Vu,fp];function Ky(f,t){for(const s of f){if(!Yx.some(a=>s instanceof a))throw new B("view-writer-insert-invalid-node-type",t);s.is("$text")||Ky(s.getChildren(),t)}}function Wa(f){return f&&(f.is("containerElement")||f.is("documentFragment"))}function jc(f,t){const s=Ug(f.start),a=Ug(f.end);if(!s||!a||s!==a)throw new B("view-writer-invalid-range-container",t)}function Zy(f,t){return f.id===null&&t.id===null}const Bg=f=>f.createTextNode(" "),Bl=f=>{const t=f.createElement("span");return t.dataset.ckeFiller="true",t.innerText=" ",t},zg=f=>{const t=f.createElement("br");return t.dataset.ckeFiller="true",t},As=7,Wu="⁠".repeat(As);function wi(f){return typeof f=="string"?f.substr(0,As)===Wu:We(f)&&f.data.substr(0,As)===Wu}function sa(f){return f.data.length==As&&wi(f)}function Rc(f){const t=typeof f=="string"?f:f.data;return wi(f)?t.slice(As):t}function Jy(f,t){if(t.keyCode==Qt.arrowleft){const s=t.domTarget.ownerDocument.defaultView.getSelection();if(s.rangeCount==1&&s.getRangeAt(0).collapsed){const a=s.getRangeAt(0).startContainer,d=s.getRangeAt(0).startOffset;wi(a)&&d<=As&&s.collapse(a,0)}}}var Ts=o(5037),mp={attributes:{"data-cke":!0}};mp.setAttributes=jt(),mp.insert=Vt().bind(null,"head"),mp.domAPI=Bt(),mp.insertStyleElement=zt(),Ut()(Ts.Z,mp),Ts.Z&&Ts.Z.locals&&Ts.Z.locals;class gp extends ze(){constructor(t,s){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=t,this.selection=s,this.set("isFocused",!1),this.set("isSelecting",!1),y.isBlink&&!y.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(t,s){if(t==="text")this.domConverter.mapViewToDom(s.parent)&&this.markedTexts.add(s);else{if(!this.domConverter.mapViewToDom(s))return;if(t==="attributes")this.markedAttributes.add(s);else{if(t!=="children")throw new B("view-renderer-unknown-type",this);this.markedChildren.add(s)}}}render(){if(this.isComposing&&!y.isAndroid)return;let t=null;const s=!(y.isBlink&&!y.isAndroid)||!this.isSelecting;for(const a of this.markedChildren)this._updateChildrenMappings(a);s?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?t=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(t=this.selection.getFirstPosition(),this.markedChildren.add(t.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(t=this.domConverter.domPositionToView(this._inlineFiller),t&&t.parent.is("$text")&&(t=bt._createBefore(t.parent)));for(const a of this.markedAttributes)this._updateAttrs(a);for(const a of this.markedChildren)this._updateChildren(a,{inlineFillerPosition:t});for(const a of this.markedTexts)!this.markedChildren.has(a.parent)&&this.domConverter.mapViewToDom(a.parent)&&this._updateText(a,{inlineFillerPosition:t});if(s)if(t){const a=this.domConverter.viewPositionToDom(t),d=a.parent.ownerDocument;wi(a.parent)?this._inlineFiller=a.parent:this._inlineFiller=Qy(d,a.parent,a.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(t){const s=this.domConverter.mapViewToDom(t);if(!s)return;const a=Array.from(s.childNodes),d=Array.from(this.domConverter.viewChildrenToDom(t,{withChildren:!1})),p=this._diffNodeLists(a,d),w=this._findUpdateActions(p,a,d,ZA);if(w.indexOf("update")!==-1){const k={equal:0,insert:0,delete:0};for(const D of w)if(D==="update"){const R=k.equal+k.insert,M=k.equal+k.delete,U=t.getChild(R);!U||U.is("uiElement")||U.is("rawElement")||this._updateElementMappings(U,a[M]),Ag(d[R]),k.equal++}else k[D]++}}_updateElementMappings(t,s){this.domConverter.unbindDomElement(s),this.domConverter.bindElements(s,t),this.markedChildren.add(t),this.markedAttributes.add(t)}_getInlineFillerPosition(){const t=this.selection.getFirstPosition();return t.parent.is("$text")?bt._createBefore(t.parent):t}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),s=this.domConverter.viewPositionToDom(t);return!!(s&&We(s.parent)&&wi(s.parent))}_removeInlineFiller(){const t=this._inlineFiller;if(!wi(t))throw new B("view-renderer-filler-was-lost",this);sa(t)?t.remove():t.data=t.data.substr(As),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),s=t.parent,a=t.offset;if(!this.domConverter.mapViewToDom(s.root)||!s.is("element")||!function(w){if(w.getAttribute("contenteditable")=="false")return!1;const k=w.findAncestor(D=>D.hasAttribute("contenteditable"));return!k||k.getAttribute("contenteditable")=="true"}(s)||a===s.getFillerOffset())return!1;const d=t.nodeBefore,p=t.nodeAfter;return!(d instanceof Fn||p instanceof Fn)&&(!y.isAndroid||!d&&!p)}_updateText(t,s){const a=this.domConverter.findCorrespondingDomText(t);let d=this.domConverter.viewToDom(t).data;const p=s.inlineFillerPosition;p&&p.parent==t.parent&&p.offset==t.index&&(d=Wu+d),tv(a,d)}_updateAttrs(t){const s=this.domConverter.mapViewToDom(t);if(!s)return;const a=Array.from(s.attributes).map(p=>p.name),d=t.getAttributeKeys();for(const p of d)this.domConverter.setDomElementAttribute(s,p,t.getAttribute(p),t);for(const p of a)t.hasAttribute(p)||this.domConverter.removeDomElementAttribute(s,p)}_updateChildren(t,s){const a=this.domConverter.mapViewToDom(t);if(!a)return;if(y.isAndroid){let U=null;for(const W of Array.from(a.childNodes)){if(U&&We(U)&&We(W)){a.normalize();break}U=W}}const d=s.inlineFillerPosition,p=a.childNodes,w=Array.from(this.domConverter.viewChildrenToDom(t,{bind:!0}));d&&d.parent===t&&Qy(a.ownerDocument,w,d.offset);const k=this._diffNodeLists(p,w),D=this._findUpdateActions(k,p,w,JA);let R=0;const M=new Set;for(const U of D)U==="delete"?(M.add(p[R]),Ag(p[R])):U!=="equal"&&U!=="update"||R++;R=0;for(const U of D)U==="insert"?(Jd(a,R,w[R]),R++):U==="update"?(tv(p[R],w[R].data),R++):U==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(w[R])),R++);for(const U of M)U.parentNode||this.domConverter.unbindDomElement(U)}_diffNodeLists(t,s){return t=function(a,d){const p=Array.from(a);return p.length==0||!d||p[p.length-1]==d&&p.pop(),p}(t,this._fakeSelectionContainer),T(t,s,ev.bind(null,this.domConverter))}_findUpdateActions(t,s,a,d){if(t.indexOf("insert")===-1||t.indexOf("delete")===-1)return t;let p=[],w=[],k=[];const D={equal:0,insert:0,delete:0};for(const R of t)R==="insert"?k.push(a[D.equal+D.insert]):R==="delete"?w.push(s[D.equal+D.delete]):(p=p.concat(T(w,k,d).map(M=>M==="equal"?"update":M)),p.push("equal"),w=[],k=[]),D[R]++;return p.concat(T(w,k,d).map(R=>R==="equal"?"update":R))}_markDescendantTextToSync(t){if(t){if(t.is("$text"))this.markedTexts.add(t);else if(t.is("element"))for(const s of t.getChildren())this._markDescendantTextToSync(s)}}_updateSelection(){if(y.isBlink&&!y.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const t=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&t&&(this.selection.isFake?this._updateFakeSelection(t):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(t)):this.isComposing&&y.isAndroid||this._updateDomSelection(t))}_updateFakeSelection(t){const s=t.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(w){const k=w.createElement("div");return k.className="ck-fake-selection-container",Object.assign(k.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),k.textContent=" ",k}(s));const a=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(a,this.selection),!this._fakeSelectionNeedsUpdate(t))return;a.parentElement&&a.parentElement==t||t.appendChild(a),a.textContent=this.selection.fakeSelectionLabel||" ";const d=s.getSelection(),p=s.createRange();d.removeAllRanges(),p.selectNodeContents(a),d.addRange(p)}_updateDomSelection(t){const s=t.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(s))return;const a=this.domConverter.viewPositionToDom(this.selection.anchor),d=this.domConverter.viewPositionToDom(this.selection.focus);s.setBaseAndExtent(a.parent,a.offset,d.parent,d.offset),y.isGecko&&function(p,w){const k=p.parent;if(k.nodeType!=Node.ELEMENT_NODE||p.offset!=k.childNodes.length-1)return;const D=k.childNodes[p.offset];D&&D.tagName=="BR"&&w.addRange(w.getRangeAt(0))}(d,s)}_domSelectionNeedsUpdate(t){if(!this.domConverter.isDomSelectionCorrect(t))return!0;const s=t&&this.domConverter.domSelectionToView(t);return(!s||!this.selection.isEqual(s))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(s))}_fakeSelectionNeedsUpdate(t){const s=this._fakeSelectionContainer,a=t.ownerDocument.getSelection();return!s||s.parentElement!==t||a.anchorNode!==s&&!s.contains(a.anchorNode)||s.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const t of this.domDocuments){const s=t.getSelection();if(s.rangeCount){const a=t.activeElement,d=this.domConverter.mapDomToView(a);a&&d&&s.removeAllRanges()}}}_removeFakeSelection(){const t=this._fakeSelectionContainer;t&&t.remove()}_updateFocus(){if(this.isFocused){const t=this.selection.editableElement;t&&this.domConverter.focus(t)}}}function Qy(f,t,s){const a=t instanceof Array?t:t.childNodes,d=a[s];if(We(d))return d.data=Wu+d.data,d;{const p=f.createTextNode(Wu);return Array.isArray(t)?a.splice(s,0,p):Jd(t,s,p),p}}function ZA(f,t){return Ao(f)&&Ao(t)&&!We(f)&&!We(t)&&!Xs(f)&&!Xs(t)&&f.tagName.toLowerCase()===t.tagName.toLowerCase()}function JA(f,t){return Ao(f)&&Ao(t)&&We(f)&&We(t)}function ev(f,t,s){return t===s||(We(t)&&We(s)?t.data===s.data:!(!f.isBlockFiller(t)||!f.isBlockFiller(s)))}function tv(f,t){const s=f.data;if(s==t)return;const a=_(s,t);for(const d of a)d.type==="insert"?f.insertData(d.index,d.values.join("")):f.deleteData(d.index,d.howMany)}const bp=zg(he.document),QA=Bg(he.document),eT=Bl(he.document),$u="data-ck-unsafe-attribute-",tT="data-ck-unsafe-element";class nT{constructor(t,{blockFillerMode:s,renderingMode:a="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new Ou,this._inlineObjectElementMatcher=new Ou,this.document=t,this.renderingMode=a,this.blockFillerMode=s||(a==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?he.document:he.document.implementation.createHTMLDocument("")}bindFakeSelection(t,s){this._fakeSelectionMapping.set(t,new Va(s))}fakeSelectionToView(t){return this._fakeSelectionMapping.get(t)}bindElements(t,s){this._domToViewMapping.set(t,s),this._viewToDomMapping.set(s,t)}unbindDomElement(t){const s=this._domToViewMapping.get(t);if(s){this._domToViewMapping.delete(t),this._viewToDomMapping.delete(s);for(const a of Array.from(t.children))this.unbindDomElement(a)}}bindDocumentFragments(t,s){this._domToViewMapping.set(t,s),this._viewToDomMapping.set(s,t)}shouldRenderAttribute(t,s,a){return this.renderingMode==="data"||!(t=t.toLowerCase()).startsWith("on")&&(t!=="srcdoc"||!s.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(a==="img"&&(t==="src"||t==="srcset")||a==="source"&&t==="srcset"||!s.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(t,s){if(this.renderingMode==="data")return void(t.innerHTML=s);const a=new DOMParser().parseFromString(s,"text/html"),d=a.createDocumentFragment(),p=a.body.childNodes;for(;p.length>0;)d.appendChild(p[0]);const w=a.createTreeWalker(d,NodeFilter.SHOW_ELEMENT),k=[];let D;for(;D=w.nextNode();)k.push(D);for(const R of k){for(const U of R.getAttributeNames())this.setDomElementAttribute(R,U,R.getAttribute(U));const M=R.tagName.toLowerCase();this._shouldRenameElement(M)&&(rT(M),R.replaceWith(this._createReplacementDomElement(M,R)))}for(;t.firstChild;)t.firstChild.remove();t.append(d)}viewToDom(t,s={}){if(t.is("$text")){const a=this._processDataFromViewText(t);return this._domDocument.createTextNode(a)}{if(this.mapViewToDom(t))return this.mapViewToDom(t);let a;if(t.is("documentFragment"))a=this._domDocument.createDocumentFragment(),s.bind&&this.bindDocumentFragments(a,t);else{if(t.is("uiElement"))return a=t.name==="$comment"?this._domDocument.createComment(t.getCustomProperty("$rawContent")):t.render(this._domDocument,this),s.bind&&this.bindElements(a,t),a;this._shouldRenameElement(t.name)?(rT(t.name),a=this._createReplacementDomElement(t.name)):a=t.hasAttribute("xmlns")?this._domDocument.createElementNS(t.getAttribute("xmlns"),t.name):this._domDocument.createElement(t.name),t.is("rawElement")&&t.render(a,this),s.bind&&this.bindElements(a,t);for(const d of t.getAttributeKeys())this.setDomElementAttribute(a,d,t.getAttribute(d),t)}if(s.withChildren!==!1)for(const d of this.viewChildrenToDom(t,s))a.appendChild(d);return a}}setDomElementAttribute(t,s,a,d){const p=this.shouldRenderAttribute(s,a,t.tagName.toLowerCase())||d&&d.shouldRenderUnsafeAttribute(s);p||Y("domconverter-unsafe-attribute-detected",{domElement:t,key:s,value:a}),function(w){try{he.document.createAttribute(w)}catch{return!1}return!0}(s)?(t.hasAttribute(s)&&!p?t.removeAttribute(s):t.hasAttribute($u+s)&&p&&t.removeAttribute($u+s),t.setAttribute(p?s:$u+s,a)):Y("domconverter-invalid-attribute-detected",{domElement:t,key:s,value:a})}removeDomElementAttribute(t,s){s!=tT&&(t.removeAttribute(s),t.removeAttribute($u+s))}*viewChildrenToDom(t,s={}){const a=t.getFillerOffset&&t.getFillerOffset();let d=0;for(const p of t.getChildren()){a===d&&(yield this._getBlockFiller());const w=p.is("element")&&!!p.getCustomProperty("dataPipeline:transparentRendering")&&!ki(p.getAttributes());w&&this.renderingMode=="data"?yield*this.viewChildrenToDom(p,s):(w&&Y("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:p}),yield this.viewToDom(p,s)),d++}a===d&&(yield this._getBlockFiller())}viewRangeToDom(t){const s=this.viewPositionToDom(t.start),a=this.viewPositionToDom(t.end),d=this._domDocument.createRange();return d.setStart(s.parent,s.offset),d.setEnd(a.parent,a.offset),d}viewPositionToDom(t){const s=t.parent;if(s.is("$text")){const a=this.findCorrespondingDomText(s);if(!a)return null;let d=t.offset;return wi(a)&&(d+=As),{parent:a,offset:d}}{let a,d,p;if(t.offset===0){if(a=this.mapViewToDom(s),!a)return null;p=a.childNodes[0]}else{const w=t.nodeBefore;if(d=w.is("$text")?this.findCorrespondingDomText(w):this.mapViewToDom(w),!d)return null;a=d.parentNode,p=d.nextSibling}return We(p)&&wi(p)?{parent:p,offset:As}:{parent:a,offset:d?kc(d)+1:0}}}domToView(t,s={}){const a=[],d=this._domToView(t,s,a),p=d.next().value;return p?(d.next(),this._processDomInlineNodes(null,a,s),p.is("$text")&&p.data.length==0?null:p):null}*domChildrenToView(t,s={},a=[]){for(let d=0;d<t.childNodes.length;d++){const p=t.childNodes[d],w=this._domToView(p,s,a),k=w.next().value;k!==null&&(this._isBlockViewElement(k)&&this._processDomInlineNodes(t,a,s),yield k,w.next())}this._processDomInlineNodes(t,a,s)}domSelectionToView(t){if(function(d){if(!y.isGecko||!d.rangeCount)return!1;const p=d.getRangeAt(0).startContainer;try{Object.prototype.toString.call(p)}catch{return!0}return!1}(t))return new Va([]);if(t.rangeCount===1){let d=t.getRangeAt(0).startContainer;We(d)&&(d=d.parentNode);const p=this.fakeSelectionToView(d);if(p)return p}const s=this.isDomSelectionBackward(t),a=[];for(let d=0;d<t.rangeCount;d++){const p=t.getRangeAt(d),w=this.domRangeToView(p);w&&a.push(w)}return new Va(a,{backward:s})}domRangeToView(t){const s=this.domPositionToView(t.startContainer,t.startOffset),a=this.domPositionToView(t.endContainer,t.endOffset);return s&&a?new nn(s,a):null}domPositionToView(t,s=0){if(this.isBlockFiller(t))return this.domPositionToView(t.parentNode,kc(t));const a=this.mapDomToView(t);if(a&&(a.is("uiElement")||a.is("rawElement")))return bt._createBefore(a);if(We(t)){if(sa(t))return this.domPositionToView(t.parentNode,kc(t));const d=this.findCorrespondingViewText(t);let p=s;return d?(wi(t)&&(p-=As,p=p<0?0:p),new bt(d,p)):null}if(s===0){const d=this.mapDomToView(t);if(d)return new bt(d,0)}else{const d=t.childNodes[s-1];if(We(d)&&sa(d)||d&&this.isBlockFiller(d))return this.domPositionToView(d.parentNode,kc(d));const p=We(d)?this.findCorrespondingViewText(d):this.mapDomToView(d);if(p&&p.parent)return new bt(p.parent,p.index+1)}return null}mapDomToView(t){return this.getHostViewElement(t)||this._domToViewMapping.get(t)}findCorrespondingViewText(t){if(sa(t))return null;const s=this.getHostViewElement(t);if(s)return s;const a=t.previousSibling;if(a){if(!this.isElement(a))return null;const d=this.mapDomToView(a);if(d){const p=d.nextSibling;return p instanceof Fn?p:null}}else{const d=this.mapDomToView(t.parentNode);if(d){const p=d.getChild(0);return p instanceof Fn?p:null}}return null}mapViewToDom(t){return this._viewToDomMapping.get(t)}findCorrespondingDomText(t){const s=t.previousSibling;return s&&this.mapViewToDom(s)?this.mapViewToDom(s).nextSibling:!s&&t.parent&&this.mapViewToDom(t.parent)?this.mapViewToDom(t.parent).childNodes[0]:null}focus(t){const s=this.mapViewToDom(t);if(s&&s.ownerDocument.activeElement!==s){const{scrollX:a,scrollY:d}=he.window,p=[];Kx(s,w=>{const{scrollLeft:k,scrollTop:D}=w;p.push([k,D])}),s.focus(),Kx(s,w=>{const[k,D]=p.shift();w.scrollLeft=k,w.scrollTop=D}),he.window.scrollTo(a,d)}}_clearDomSelection(){const t=this.mapViewToDom(this.document.selection.editableElement);if(!t)return;const s=t.ownerDocument.defaultView.getSelection(),a=this.domSelectionToView(s);a&&a.rangeCount>0&&s.removeAllRanges()}isElement(t){return t&&t.nodeType==Node.ELEMENT_NODE}isDocumentFragment(t){return t&&t.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(t){return this.blockFillerMode=="br"?t.isEqualNode(bp):!(t.tagName!=="BR"||!uh(t,this.blockElements)||t.parentNode.childNodes.length!==1)||t.isEqualNode(eT)||function(s,a){return s.isEqualNode(QA)&&uh(s,a)&&s.parentNode.childNodes.length===1}(t,this.blockElements)}isDomSelectionBackward(t){if(t.isCollapsed)return!1;const s=this._domDocument.createRange();try{s.setStart(t.anchorNode,t.anchorOffset),s.setEnd(t.focusNode,t.focusOffset)}catch{return!1}const a=s.collapsed;return s.detach(),a}getHostViewElement(t){const s=function(a){const d=[];let p=a;for(;p&&p.nodeType!=Node.DOCUMENT_NODE;)d.unshift(p),p=p.parentNode;return d}(t);for(s.pop();s.length;){const a=s.pop(),d=this._domToViewMapping.get(a);if(d&&(d.is("uiElement")||d.is("rawElement")))return d}return null}isDomSelectionCorrect(t){return this._isDomSelectionPositionCorrect(t.anchorNode,t.anchorOffset)&&this._isDomSelectionPositionCorrect(t.focusNode,t.focusOffset)}registerRawContentMatcher(t){this._rawContentElementMatcher.add(t)}registerInlineObjectMatcher(t){this._inlineObjectElementMatcher.add(t)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return Bg(this._domDocument);case"markedNbsp":return Bl(this._domDocument);case"br":return zg(this._domDocument)}}_isDomSelectionPositionCorrect(t,s){if(We(t)&&wi(t)&&s<As||this.isElement(t)&&wi(t.childNodes[s]))return!1;const a=this.mapDomToView(t);return!a||!a.is("uiElement")&&!a.is("rawElement")}*_domToView(t,s,a){if(this.isBlockFiller(t))return null;const d=this.getHostViewElement(t);if(d)return d;if(Xs(t)&&s.skipComments)return null;if(We(t)){if(sa(t))return null;{const p=t.data;if(p==="")return null;const w=new Fn(this.document,p);return a.push(w),w}}{let p=this.mapDomToView(t);if(p)return this._isInlineObjectElement(p)&&a.push(p),p;if(this.isDocumentFragment(t))p=new kt(this.document),s.bind&&this.bindDocumentFragments(t,p);else{p=this._createViewElement(t,s),s.bind&&this.bindElements(t,p);const k=t.attributes;if(k)for(let D=k.length,R=0;R<D;R++)p._setAttribute(k[R].name,k[R].value);if(this._isViewElementWithRawContent(p,s))return p._setCustomProperty("$rawContent",t.innerHTML),this._isBlockViewElement(p)||a.push(p),p;if(Xs(t))return p._setCustomProperty("$rawContent",t.data),p}yield p;const w=[];if(s.withChildren!==!1)for(const k of this.domChildrenToView(t,s,w))p._appendChild(k);if(this._isInlineObjectElement(p))a.push(p);else for(const k of w)a.push(k)}}_processDomInlineNodes(t,s,a){if(!s.length||t&&!this.isDocumentFragment(t)&&!this._isBlockDomElement(t))return;let d=!1;for(let p=0;p<s.length;p++){const w=s[p];if(!w.is("$text")){d=!1;continue}let k,D=!1;if(iT(w,this.preElements))k=Rc(w.data);else{k=w.data.replace(/[ \n\t\r]{1,}/g," "),D=/[^\S\u00A0]/.test(k.charAt(k.length-1));const R=p>0?s[p-1]:null,M=p+1<s.length?s[p+1]:null,U=!R||R.is("element")&&R.name=="br"||d,W=!M&&!wi(w.data);a.withChildren!==!1&&(U&&(k=k.replace(/^ /,"")),W&&(k=k.replace(/ $/,""))),k=Rc(k),k=k.replace(/ \u00A0/g,"  ");const Z=M&&M.is("element")&&M.name!="br",re=M&&M.is("$text")&&M.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(k)||!M||Z||re)&&(k=k.replace(/\u00A0$/," ")),(U||R&&R.is("element")&&R.name!="br")&&(k=k.replace(/^\u00A0/," "))}k.length==0&&w.parent?(w._remove(),s.splice(p,1),p--):(w._data=k,d=D)}s.length=0}_processDataFromViewText(t){let s=t.data;if(t.getAncestors().some(a=>this.preElements.includes(a.name)))return s;if(s.charAt(0)==" "){const a=this._getTouchingInlineViewNode(t,!1);!(a&&a.is("$textProxy")&&this._nodeEndsWithSpace(a))&&a||(s=" "+s.substr(1))}if(s.charAt(s.length-1)==" "){const a=this._getTouchingInlineViewNode(t,!0),d=a&&a.is("$textProxy")&&a.data.charAt(0)==" ";s.charAt(s.length-2)!=" "&&a&&!d||(s=s.substr(0,s.length-1)+" ")}return s.replace(/ {2}/g,"  ")}_nodeEndsWithSpace(t){if(t.getAncestors().some(a=>this.preElements.includes(a.name)))return!1;const s=this._processDataFromViewText(t);return s.charAt(s.length-1)==" "}_getTouchingInlineViewNode(t,s){const a=new Lu({startPosition:s?bt._createAfter(t):bt._createBefore(t),direction:s?"forward":"backward"});for(const d of a){if(d.item.is("element","br"))return null;if(this._isInlineObjectElement(d.item))return d.item;if(d.item.is("containerElement"))return null;if(d.item.is("$textProxy"))return d.item}return null}_isBlockDomElement(t){return this.isElement(t)&&this.blockElements.includes(t.tagName.toLowerCase())}_isBlockViewElement(t){return t.is("element")&&this.blockElements.includes(t.name)}_isInlineObjectElement(t){return!!t.is("element")&&(t.name=="br"||this.inlineObjectElements.includes(t.name)||!!this._inlineObjectElementMatcher.match(t))}_createViewElement(t,s){if(Xs(t))return new fp(this.document,"$comment");const a=s.keepOriginalCase?t.tagName:t.tagName.toLowerCase();return new Zs(this.document,a)}_isViewElementWithRawContent(t,s){return s.withChildren!==!1&&t.is("element")&&!!this._rawContentElementMatcher.match(t)}_shouldRenameElement(t){const s=t.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(s)}_createReplacementDomElement(t,s){const a=this._domDocument.createElement("span");if(a.setAttribute(tT,t),s){for(;s.firstChild;)a.appendChild(s.firstChild);for(const d of s.getAttributeNames())a.setAttribute(d,s.getAttribute(d))}return a}}function iT(f,t){return f.getAncestors().some(s=>s.is("element")&&t.includes(s.name))}function Kx(f,t){let s=f;for(;s;)t(s),s=s.parentElement}function uh(f,t){const s=f.parentNode;return!!s&&!!s.tagName&&t.includes(s.tagName.toLowerCase())}function rT(f){f==="script"&&Y("domconverter-unsafe-script-element-detected"),f==="style"&&Y("domconverter-unsafe-style-element-detected")}class zl extends Ar(){constructor(t){super(),this._isEnabled=!1,this.view=t,this.document=t.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(t){return t&&t.nodeType===3&&(t=t.parentNode),!(!t||t.nodeType!==1)&&t.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const Mc=Hy(function(f,t){El(t,So(t),f)});class yp{constructor(t,s,a){this.view=t,this.document=t.document,this.domEvent=s,this.domTarget=s.target,Mc(this,a)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Oc extends zl{constructor(){super(...arguments),this.useCapture=!1}observe(t){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(s=>{this.listenTo(t,s,(a,d)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(d.target)&&this.onDomEvent(d)},{useCapture:this.useCapture})})}stopObserving(t){this.stopListening(t)}fire(t,s,a){this.isEnabled&&this.document.fire(t,new yp(this.view,s,a))}}class RP extends Oc{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(t){const s={keyCode:t.keyCode,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,metaKey:t.metaKey,get keystroke(){return Xi(this)}};this.fire(t.type,t,s)}}const nv=function(){return ae.Date.now()};var qu=/\s/;const MP=function(f){for(var t=f.length;t--&&qu.test(f.charAt(t)););return t};var OP=/^\s+/;const FP=function(f){return f&&f.slice(0,MP(f)+1).replace(OP,"")};var oa=/^[-+]0x[0-9a-f]+$/i,Zx=/^0b[01]+$/i,Hu=/^0o[0-7]+$/i,iv=parseInt;const dh=function(f){if(typeof f=="number")return f;if(Mg(f))return NaN;if(Oe(f)){var t=typeof f.valueOf=="function"?f.valueOf():f;f=Oe(t)?t+"":t}if(typeof f!="string")return f===0?f:+f;f=FP(f);var s=Zx.test(f);return s||Hu.test(f)?iv(f.slice(2),s?2:8):oa.test(f)?NaN:+f};var Jx=Math.max,Qx=Math.min;const hh=function(f,t,s){var a,d,p,w,k,D,R=0,M=!1,U=!1,W=!0;if(typeof f!="function")throw new TypeError("Expected a function");function Z(Ge){var tt=a,Nt=d;return a=d=void 0,R=Ge,w=f.apply(Nt,tt)}function re(Ge){var tt=Ge-D;return D===void 0||tt>=t||tt<0||U&&Ge-R>=p}function le(){var Ge=nv();if(re(Ge))return xe(Ge);k=setTimeout(le,function(tt){var Nt=t-(tt-D);return U?Qx(Nt,p-(tt-R)):Nt}(Ge))}function xe(Ge){return k=void 0,W&&a?Z(Ge):(a=d=void 0,w)}function Pe(){var Ge=nv(),tt=re(Ge);if(a=arguments,d=this,D=Ge,tt){if(k===void 0)return function(Nt){return R=Nt,k=setTimeout(le,t),M?Z(Nt):w}(D);if(U)return clearTimeout(k),k=setTimeout(le,t),Z(D)}return k===void 0&&(k=setTimeout(le,t)),w}return t=dh(t)||0,Oe(s)&&(M=!!s.leading,p=(U="maxWait"in s)?Jx(dh(s.maxWait)||0,t):p,W="trailing"in s?!!s.trailing:W),Pe.cancel=function(){k!==void 0&&clearTimeout(k),R=0,a=D=d=k=void 0},Pe.flush=function(){return k===void 0?w:xe(nv())},Pe};class LP extends zl{constructor(t){super(t),this._fireSelectionChangeDoneDebounced=hh(s=>{this.document.fire("selectionChangeDone",s)},200)}observe(){const t=this.document;t.on("arrowKey",(s,a)=>{t.selection.isFake&&this.isEnabled&&a.preventDefault()},{context:"$capture"}),t.on("arrowKey",(s,a)=>{t.selection.isFake&&this.isEnabled&&this._handleSelectionMove(a.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(t){const s=this.document.selection,a=new Va(s.getRanges(),{backward:s.isBackward,fake:!1});t!=Qt.arrowleft&&t!=Qt.arrowup||a.setTo(a.getFirstPosition()),t!=Qt.arrowright&&t!=Qt.arrowdown||a.setTo(a.getLastPosition());const d={oldSelection:s,newSelection:a,domSelection:null};this.document.fire("selectionChange",d),this._fireSelectionChangeDoneDebounced(d)}}const rv=function(f){return this.__data__.set(f,"__lodash_hash_undefined__"),this},e_=function(f){return this.__data__.has(f)};function Vg(f){var t=-1,s=f==null?0:f.length;for(this.__data__=new Qr;++t<s;)this.add(f[t])}Vg.prototype.add=Vg.prototype.push=rv,Vg.prototype.has=e_;const t_=Vg,n_=function(f,t){for(var s=-1,a=f==null?0:f.length;++s<a;)if(t(f[s],s,f))return!0;return!1},Wg=function(f,t){return f.has(t)},$g=function(f,t,s,a,d,p){var w=1&s,k=f.length,D=t.length;if(k!=D&&!(w&&D>k))return!1;var R=p.get(f),M=p.get(t);if(R&&M)return R==t&&M==f;var U=-1,W=!0,Z=2&s?new t_:void 0;for(p.set(f,t),p.set(t,f);++U<k;){var re=f[U],le=t[U];if(a)var xe=w?a(le,re,U,t,f,p):a(re,le,U,f,t,p);if(xe!==void 0){if(xe)continue;W=!1;break}if(Z){if(!n_(t,function(Pe,Ge){if(!Wg(Z,Ge)&&(re===Pe||d(re,Pe,s,a,p)))return Z.push(Ge)})){W=!1;break}}else if(re!==le&&!d(re,le,s,a,p)){W=!1;break}}return p.delete(f),p.delete(t),W},sT=function(f){var t=-1,s=Array(f.size);return f.forEach(function(a,d){s[++t]=[d,a]}),s},UP=function(f){var t=-1,s=Array(f.size);return f.forEach(function(a){s[++t]=a}),s};var vp=Ue?Ue.prototype:void 0,i_=vp?vp.valueOf:void 0;const sv=function(f,t,s,a,d,p,w){switch(s){case"[object DataView]":if(f.byteLength!=t.byteLength||f.byteOffset!=t.byteOffset)return!1;f=f.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(f.byteLength!=t.byteLength||!p(new Nl(f),new Nl(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return On(+f,+t);case"[object Error]":return f.name==t.name&&f.message==t.message;case"[object RegExp]":case"[object String]":return f==t+"";case"[object Map]":var k=sT;case"[object Set]":var D=1&a;if(k||(k=UP),f.size!=t.size&&!D)return!1;var R=w.get(f);if(R)return R==t;a|=2,w.set(f,t);var M=$g(k(f),k(t),a,d,p,w);return w.delete(f),M;case"[object Symbol]":if(i_)return i_.call(f)==i_.call(t)}return!1};var x=Object.prototype.hasOwnProperty;const E=function(f,t,s,a,d,p){var w=1&s,k=mg(f),D=k.length;if(D!=mg(t).length&&!w)return!1;for(var R=D;R--;){var M=k[R];if(!(w?M in t:x.call(t,M)))return!1}var U=p.get(f),W=p.get(t);if(U&&W)return U==t&&W==f;var Z=!0;p.set(f,t),p.set(t,f);for(var re=w;++R<D;){var le=f[M=k[R]],xe=t[M];if(a)var Pe=w?a(xe,le,M,t,f,p):a(le,xe,M,f,t,p);if(!(Pe===void 0?le===xe||d(le,xe,s,a,p):Pe)){Z=!1;break}re||(re=M=="constructor")}if(Z&&!re){var Ge=f.constructor,tt=t.constructor;Ge==tt||!("constructor"in f)||!("constructor"in t)||typeof Ge=="function"&&Ge instanceof Ge&&typeof tt=="function"&&tt instanceof tt||(Z=!1)}return p.delete(f),p.delete(t),Z};var j="[object Arguments]",V="[object Array]",H="[object Object]",oe=Object.prototype.hasOwnProperty;const ge=function(f,t,s,a,d,p){var w=qt(f),k=qt(t),D=w?V:_c(f),R=k?V:_c(t),M=(D=D==j?H:D)==H,U=(R=R==j?H:R)==H,W=D==R;if(W&&vu(f)){if(!vu(t))return!1;w=!0,M=!1}if(W&&!M)return p||(p=new ko),w||Vd(f)?$g(f,t,s,a,d,p):sv(f,t,D,s,a,d,p);if(!(1&s)){var Z=M&&oe.call(f,"__wrapped__"),re=U&&oe.call(t,"__wrapped__");if(Z||re){var le=Z?f.value():f,xe=re?t.value():t;return p||(p=new ko),d(le,xe,s,a,p)}}return!!W&&(p||(p=new ko),E(f,t,s,a,d,p))},De=function f(t,s,a,d,p){return t===s||(t==null||s==null||!En(t)&&!En(s)?t!=t&&s!=s:ge(t,s,a,d,f,p))},qe=function(f,t,s){var a=(s=typeof s=="function"?s:void 0)?s(f,t):void 0;return a===void 0?De(f,t,void 0,s):!!a};class Ye extends zl{constructor(t){super(t),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=t.domConverter,this.renderer=t._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(t){this._domElements.add(t),this.isEnabled&&this._mutationObserver.observe(t,this._config)}stopObserving(t){if(this._domElements.delete(t),this.isEnabled){this._mutationObserver.disconnect();for(const s of this._domElements)this._mutationObserver.observe(s,this._config)}}enable(){super.enable();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(t){if(t.length===0)return;const s=this.domConverter,a=new Set,d=new Set;for(const w of t){const k=s.mapDomToView(w.target);k&&(k.is("uiElement")||k.is("rawElement")||w.type!=="childList"||this._isBogusBrMutation(w)||d.add(k))}for(const w of t){const k=s.mapDomToView(w.target);if((!k||!k.is("uiElement")&&!k.is("rawElement"))&&w.type==="characterData"){const D=s.findCorrespondingViewText(w.target);D&&!d.has(D.parent)?a.add(D):!D&&wi(w.target)&&d.add(s.mapDomToView(w.target.parentNode))}}let p=!1;for(const w of a)p=!0,this.renderer.markToSync("text",w);for(const w of d){const k=s.mapViewToDom(w),D=Array.from(w.getChildren()),R=Array.from(s.domChildrenToView(k,{withChildren:!1}));qe(D,R,ht)||(p=!0,this.renderer.markToSync("children",w))}p&&this.view.forceRender()}_isBogusBrMutation(t){let s=null;return t.nextSibling===null&&t.removedNodes.length===0&&t.addedNodes.length==1&&(s=this.domConverter.domToView(t.addedNodes[0],{withChildren:!1})),s&&s.is("element","br")}}function ht(f,t){if(!Array.isArray(f))return f===t||!(!f.is("$text")||!t.is("$text"))&&f.data===t.data}class St extends Oc{constructor(t){super(t),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const s=this.document;s.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),t.change(()=>{})},50)}),s.on("blur",(a,d)=>{const p=s.selection.editableElement;p!==null&&p!==d.target||(s.isFocused=!1,this._isFocusChanging=!1,t.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(t){this.fire(t.type,t)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class ut extends zl{constructor(t){super(t),this.mutationObserver=t.getObserver(Ye),this.focusObserver=t.getObserver(St),this.selection=this.document.selection,this.domConverter=t.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=hh(s=>{this.document.fire("selectionChangeDone",s)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=hh(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(t){const s=t.ownerDocument,a=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,s),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(t,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(t,"keydown",a,{priority:"highest",useCapture:!0}),this.listenTo(t,"keyup",a,{priority:"highest",useCapture:!0}),this._documents.has(s)||(this.listenTo(s,"mouseup",a,{priority:"highest",useCapture:!0}),this.listenTo(s,"selectionchange",(d,p)=>{this.document.isComposing&&!y.isAndroid||(this._handleSelectionChange(p,s),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(s))}stopObserving(t){this.stopListening(t)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(t,s){if(!this.isEnabled)return;const a=s.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(a.anchorNode))return;this.mutationObserver.flush();const d=this.domConverter.domSelectionToView(a);if(d.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(d)||!this.domConverter.isDomSelectionCorrect(a))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(d))this.view.forceRender();else{const p={oldSelection:this.selection,newSelection:d,domSelection:a};this.document.fire("selectionChange",p),this._fireSelectionChangeDoneDebounced(p)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class Xt extends Oc{constructor(t){super(t),this.domEventType=["compositionstart","compositionupdate","compositionend"];const s=this.document;s.on("compositionstart",()=>{s.isComposing=!0},{priority:"low"}),s.on("compositionend",()=>{s.isComposing=!1},{priority:"low"})}onDomEvent(t){this.fire(t.type,t,{data:t.data})}}class hn{constructor(t,s={}){this._files=s.cacheFiles?an(t):null,this._native=t}get files(){return this._files||(this._files=an(this._native)),this._files}get types(){return this._native.types}getData(t){return this._native.getData(t)}setData(t,s){this._native.setData(t,s)}set effectAllowed(t){this._native.effectAllowed=t}get effectAllowed(){return this._native.effectAllowed}set dropEffect(t){this._native.dropEffect=t}get dropEffect(){return this._native.dropEffect}setDragImage(t,s,a){this._native.setDragImage(t,s,a)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function an(f){const t=Array.from(f.files||[]),s=Array.from(f.items||[]);return t.length?t:s.filter(a=>a.kind==="file").map(a=>a.getAsFile())}class Ze extends Oc{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(t){const s=t.getTargetRanges(),a=this.view,d=a.document;let p=null,w=null,k=[];if(t.dataTransfer&&(p=new hn(t.dataTransfer)),t.data!==null?w=t.data:p&&(w=p.getData("text/plain")),d.selection.isFake)k=Array.from(d.selection.getRanges());else if(s.length)k=s.map(D=>{const R=a.domConverter.domPositionToView(D.startContainer,D.startOffset),M=a.domConverter.domPositionToView(D.endContainer,D.endOffset);return R?a.createRange(R,M):M?a.createRange(M):void 0}).filter(D=>!!D);else if(y.isAndroid){const D=t.target.ownerDocument.defaultView.getSelection();k=Array.from(a.domConverter.domSelectionToView(D).getRanges())}if(y.isAndroid&&t.inputType=="insertCompositionText"&&w&&w.endsWith(`
`))this.fire(t.type,t,{inputType:"insertParagraph",targetRanges:[a.createRange(k[0].end)]});else if(t.inputType=="insertText"&&w&&w.includes(`
`)){const D=w.split(/\n{1,2}/g);let R=k;for(let M=0;M<D.length;M++){const U=D[M];U!=""&&(this.fire(t.type,t,{data:U,dataTransfer:p,targetRanges:R,inputType:t.inputType,isComposing:t.isComposing}),R=[d.selection.getFirstRange()]),M+1<D.length&&(this.fire(t.type,t,{inputType:"insertParagraph",targetRanges:R}),R=[d.selection.getFirstRange()])}}else this.fire(t.type,t,{data:w,dataTransfer:p,targetRanges:k,inputType:t.inputType,isComposing:t.isComposing})}}class Xe extends zl{constructor(t){super(t),this.document.on("keydown",(s,a)=>{if(this.isEnabled&&((d=a.keyCode)==Qt.arrowright||d==Qt.arrowleft||d==Qt.arrowup||d==Qt.arrowdown)){const p=new Uu(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(p,a),p.stop.called&&s.stop()}var d})}observe(){}stopObserving(){}}class Ke extends zl{constructor(t){super(t);const s=this.document;s.on("keydown",(a,d)=>{if(!this.isEnabled||d.keyCode!=Qt.tab||d.ctrlKey)return;const p=new Uu(s,"tab",s.selection.getFirstRange());s.fire(p,d),p.stop.called&&a.stop()})}observe(){}stopObserving(){}}const it=function(f){return Ra(f,5)};class ot extends ze(){constructor(t){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new Dr(t),this.domConverter=new nT(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new gp(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new Lg(this.document),this.addObserver(Ye),this.addObserver(St),this.addObserver(ut),this.addObserver(RP),this.addObserver(LP),this.addObserver(Xt),this.addObserver(Xe),this.addObserver(Ze),this.addObserver(Ke),this.document.on("arrowKey",Jy,{priority:"low"}),Gx(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),y.isiOS&&this.listenTo(this.document,"blur",(s,a)=>{this.domConverter.mapDomToView(a.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(t,s="main"){const a=this.document.getRoot(s);a._name=t.tagName.toLowerCase();const d={};for(const{name:w,value:k}of Array.from(t.attributes))d[w]=k,w==="class"?this._writer.addClass(k.split(" "),a):this._writer.setAttribute(w,k,a);this._initialDomRootAttributes.set(t,d);const p=()=>{this._writer.setAttribute("contenteditable",(!a.isReadOnly).toString(),a),a.isReadOnly?this._writer.addClass("ck-read-only",a):this._writer.removeClass("ck-read-only",a)};p(),this.domRoots.set(s,t),this.domConverter.bindElements(t,a),this._renderer.markToSync("children",a),this._renderer.markToSync("attributes",a),this._renderer.domDocuments.add(t.ownerDocument),a.on("change:children",(w,k)=>this._renderer.markToSync("children",k)),a.on("change:attributes",(w,k)=>this._renderer.markToSync("attributes",k)),a.on("change:text",(w,k)=>this._renderer.markToSync("text",k)),a.on("change:isReadOnly",()=>this.change(p)),a.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const w of this._observers.values())w.observe(t,s)}detachDomRoot(t){const s=this.domRoots.get(t);Array.from(s.attributes).forEach(({name:d})=>s.removeAttribute(d));const a=this._initialDomRootAttributes.get(s);for(const d in a)s.setAttribute(d,a[d]);this.domRoots.delete(t),this.domConverter.unbindDomElement(s);for(const d of this._observers.values())d.stopObserving(s)}getDomRoot(t="main"){return this.domRoots.get(t)}addObserver(t){let s=this._observers.get(t);if(s)return s;s=new t(this),this._observers.set(t,s);for(const[a,d]of this.domRoots)s.observe(d,a);return s.enable(),s}getObserver(t){return this._observers.get(t)}disableObservers(){for(const t of this._observers.values())t.disable()}enableObservers(){for(const t of this._observers.values())t.enable()}scrollToTheSelection({alignToTop:t,forceScroll:s,viewportOffset:a=20,ancestorOffset:d=20}={}){const p=this.document.selection.getFirstRange();if(!p)return;const w=it({alignToTop:t,forceScroll:s,viewportOffset:a,ancestorOffset:d});typeof a=="number"&&(a={top:a,bottom:a,left:a,right:a});const k={target:this.domConverter.viewRangeToDom(p),viewportOffset:a,ancestorOffset:d,alignToTop:t,forceScroll:s};this.fire("scrollToTheSelection",k,w),function({target:D,viewportOffset:R=0,ancestorOffset:M=0,alignToTop:U,forceScroll:W}){const Z=Ay(D);let re=Z,le=null;for(R=function(xe){return typeof xe=="number"?{top:xe,bottom:xe,left:xe,right:xe}:xe}(R);re;){let xe;xe=vx(re==Z?D:le),EA({parent:xe,getRect:()=>eh(D,re),alignToTop:U,ancestorOffset:M,forceScroll:W});const Pe=eh(D,re);if(Gf({window:re,rect:Pe,viewportOffset:R,alignToTop:U,forceScroll:W}),re.parent!=re){if(le=re.frameElement,re=re.parent,!le)return}else re=null}}(k)}focus(){if(!this.document.isFocused){const t=this.document.selection.editableElement;t&&(this.domConverter.focus(t),this.forceRender())}}change(t){if(this.isRenderingInProgress||this._postFixersInProgress)throw new B("cannot-change-view-tree",this);try{if(this._ongoingChange)return t(this._writer);this._ongoingChange=!0;const s=t(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),s}catch(s){B.rethrowUnexpectedError(s,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(St).flush(),this.change(()=>{})}destroy(){for(const t of this._observers.values())t.destroy();this.document.destroy(),this.stopListening()}createPositionAt(t,s){return bt._createAt(t,s)}createPositionAfter(t){return bt._createAfter(t)}createPositionBefore(t){return bt._createBefore(t)}createRange(t,s){return new nn(t,s)}createRangeOn(t){return nn._createOn(t)}createRangeIn(t){return nn._createIn(t)}createSelection(...t){return new Va(...t)}_disableRendering(t){this._renderingDisabled=t,t==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class tn{is(){throw new Error("is() method is abstract")}}class Tt extends tn{constructor(t){super(),this.parent=null,this._attrs=La(t)}get document(){return null}get index(){let t;if(!this.parent)return null;if((t=this.parent.getChildIndex(this))===null)throw new B("model-node-not-found-in-parent",this);return t}get startOffset(){let t;if(!this.parent)return null;if((t=this.parent.getChildStartOffset(this))===null)throw new B("model-node-not-found-in-parent",this);return t}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const t=this.index;return t!==null&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return t!==null&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const t=[];let s=this;for(;s.parent;)t.unshift(s.startOffset),s=s.parent;return t}getAncestors(t={}){const s=[];let a=t.includeSelf?this:this.parent;for(;a;)s[t.parentFirst?"push":"unshift"](a),a=a.parent;return s}getCommonAncestor(t,s={}){const a=this.getAncestors(s),d=t.getAncestors(s);let p=0;for(;a[p]==d[p]&&a[p];)p++;return p===0?null:a[p-1]}isBefore(t){if(this==t||this.root!==t.root)return!1;const s=this.getPath(),a=t.getPath(),d=$e(s,a);switch(d){case"prefix":return!0;case"extension":return!1;default:return s[d]<a[d]}}isAfter(t){return this!=t&&this.root===t.root&&!this.isBefore(t)}hasAttribute(t){return this._attrs.has(t)}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const t={};return this._attrs.size&&(t.attributes=Array.from(this._attrs).reduce((s,a)=>(s[a[0]]=a[1],s),{})),t}_clone(t){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(t,s){this._attrs.set(t,s)}_setAttributesTo(t){this._attrs=La(t)}_removeAttribute(t){return this._attrs.delete(t)}_clearAttributes(){this._attrs.clear()}}Tt.prototype.is=function(f){return f==="node"||f==="model:node"};class fn{constructor(t){this._nodes=[],t&&this._insertNodes(0,t)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((t,s)=>t+s.offsetSize,0)}getNode(t){return this._nodes[t]||null}getNodeIndex(t){const s=this._nodes.indexOf(t);return s==-1?null:s}getNodeStartOffset(t){const s=this.getNodeIndex(t);return s===null?null:this._nodes.slice(0,s).reduce((a,d)=>a+d.offsetSize,0)}indexToOffset(t){if(t==this._nodes.length)return this.maxOffset;const s=this._nodes[t];if(!s)throw new B("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(s)}offsetToIndex(t){let s=0;for(const a of this._nodes){if(t>=s&&t<s+a.offsetSize)return this.getNodeIndex(a);s+=a.offsetSize}if(s!=t)throw new B("model-nodelist-offset-out-of-bounds",this,{offset:t,nodeList:this});return this.length}_insertNodes(t,s){for(const a of s)if(!(a instanceof Tt))throw new B("model-nodelist-insertnodes-not-node",this);this._nodes=function(a,d,p,w){if(Math.max(d.length,a.length)>1e4)return a.slice(0,p).concat(d).concat(a.slice(p+w,a.length));{const k=Array.from(a);return k.splice(p,w,...d),k}}(this._nodes,Array.from(s),t,0)}_removeNodes(t,s=1){return this._nodes.splice(t,s)}toJSON(){return this._nodes.map(t=>t.toJSON())}}class Wt extends Tt{constructor(t,s){super(s),this._data=t||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const t=super.toJSON();return t.data=this.data,t}_clone(){return new Wt(this.data,this.getAttributes())}static fromJSON(t){return new Wt(t.data,t.attributes)}}Wt.prototype.is=function(f){return f==="$text"||f==="model:$text"||f==="text"||f==="model:text"||f==="node"||f==="model:node"};class Yt extends tn{constructor(t,s,a){if(super(),this.textNode=t,s<0||s>t.offsetSize)throw new B("model-textproxy-wrong-offsetintext",this);if(a<0||s+a>t.offsetSize)throw new B("model-textproxy-wrong-length",this);this.data=t.data.substring(s,s+a),this.offsetInText=s}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const t=this.textNode.getPath();return t.length>0&&(t[t.length-1]+=this.offsetInText),t}getAncestors(t={}){const s=[];let a=t.includeSelf?this:this.parent;for(;a;)s[t.parentFirst?"push":"unshift"](a),a=a.parent;return s}hasAttribute(t){return this.textNode.hasAttribute(t)}getAttribute(t){return this.textNode.getAttribute(t)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Yt.prototype.is=function(f){return f==="$textProxy"||f==="model:$textProxy"||f==="textProxy"||f==="model:textProxy"};class en extends Tt{constructor(t,s,a){super(s),this._children=new fn,this.name=t,a&&this._insertChild(0,a)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}offsetToIndex(t){return this._children.offsetToIndex(t)}getNodeByPath(t){let s=this;for(const a of t)s=s.getChild(s.offsetToIndex(a));return s}findAncestor(t,s={}){let a=s.includeSelf?this:this.parent;for(;a;){if(a.name===t)return a;a=a.parent}return null}toJSON(){const t=super.toJSON();if(t.name=this.name,this._children.length>0){t.children=[];for(const s of this._children)t.children.push(s.toJSON())}return t}_clone(t=!1){const s=t?Array.from(this._children).map(a=>a._clone(!0)):void 0;return new en(this.name,this.getAttributes(),s)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,s){const a=function(d){return typeof d=="string"?[new Wt(d)]:(Ne(d)||(d=[d]),Array.from(d).map(p=>typeof p=="string"?new Wt(p):p instanceof Yt?new Wt(p.data,p.getAttributes()):p))}(s);for(const d of a)d.parent!==null&&d._remove(),d.parent=this;this._children._insertNodes(t,a)}_removeChildren(t,s=1){const a=this._children._removeNodes(t,s);for(const d of a)d.parent=null;return a}static fromJSON(t){let s;if(t.children){s=[];for(const a of t.children)a.name?s.push(en.fromJSON(a)):s.push(Wt.fromJSON(a))}return new en(t.name,t.attributes,s)}}en.prototype.is=function(f,t){return t?t===this.name&&(f==="element"||f==="model:element"):f==="element"||f==="model:element"||f==="node"||f==="model:node"};class Vl{constructor(t){if(!t||!t.boundaries&&!t.startPosition)throw new B("model-tree-walker-no-start-position",null);const s=t.direction||"forward";if(s!="forward"&&s!="backward")throw new B("model-tree-walker-unknown-direction",t,{direction:s});this.direction=s,this.boundaries=t.boundaries||null,t.startPosition?this._position=t.startPosition.clone():this._position=at._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(t){let s,a,d,p;do d=this.position,p=this._visitedParent,{done:s,value:a}=this.next();while(!s&&t(a));s||(this._position=d,this._visitedParent=p)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const t=this.position,s=this.position.clone(),a=this._visitedParent;if(a.parent===null&&s.offset===a.maxOffset)return{done:!0,value:void 0};if(a===this._boundaryEndParent&&s.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const d=r_(s,a),p=d||rU(s,a,d);if(p instanceof en){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(s))return{done:!0,value:void 0};s.offset++}else s.path.push(0),this._visitedParent=p;return this._position=s,qg("elementStart",p,t,s,1)}if(p instanceof Wt){let w;if(this.singleCharacters)w=1;else{let R=p.endOffset;this._boundaryEndParent==a&&this.boundaries.end.offset<R&&(R=this.boundaries.end.offset),w=R-s.offset}const k=s.offset-p.startOffset,D=new Yt(p,k,w);return s.offset+=w,this._position=s,qg("text",D,t,s,w)}return s.path.pop(),s.offset++,this._position=s,this._visitedParent=a.parent,this.ignoreElementEnd?this._next():qg("elementEnd",a,t,s)}_previous(){const t=this.position,s=this.position.clone(),a=this._visitedParent;if(a.parent===null&&s.offset===0)return{done:!0,value:void 0};if(a==this._boundaryStartParent&&s.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const d=s.parent,p=r_(s,d),w=p||sU(s,d,p);if(w instanceof en)return s.offset--,this.shallow?(this._position=s,qg("elementStart",w,t,s,1)):(s.path.push(w.maxOffset),this._position=s,this._visitedParent=w,this.ignoreElementEnd?this._previous():qg("elementEnd",w,t,s));if(w instanceof Wt){let k;if(this.singleCharacters)k=1;else{let M=w.startOffset;this._boundaryStartParent==a&&this.boundaries.start.offset>M&&(M=this.boundaries.start.offset),k=s.offset-M}const D=s.offset-w.startOffset,R=new Yt(w,D-k,k);return s.offset-=k,this._position=s,qg("text",R,t,s,k)}return s.path.pop(),this._position=s,this._visitedParent=a.parent,qg("elementStart",a,t,s,1)}}function qg(f,t,s,a,d){return{done:!1,value:{type:f,item:t,previousPosition:s,nextPosition:a,length:d}}}class at extends tn{constructor(t,s,a="toNone"){if(super(),!t.is("element")&&!t.is("documentFragment"))throw new B("model-position-root-invalid",t);if(!(s instanceof Array)||s.length===0)throw new B("model-position-path-incorrect-format",t,{path:s});t.is("rootElement")?s=s.slice():(s=[...t.getPath(),...s],t=t.root),this.root=t,this.path=s,this.stickiness=a}get offset(){return this.path[this.path.length-1]}set offset(t){this.path[this.path.length-1]=t}get parent(){let t=this.root;for(let s=0;s<this.path.length-1;s++)if(t=t.getChild(t.offsetToIndex(this.path[s])),!t)throw new B("model-position-path-incorrect",this,{position:this});if(t.is("$text"))throw new B("model-position-path-incorrect",this,{position:this});return t}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return r_(this,this.parent)}get nodeAfter(){const t=this.parent;return rU(this,t,r_(this,t))}get nodeBefore(){const t=this.parent;return sU(this,t,r_(this,t))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(t){if(this.root!=t.root)return"different";const s=$e(this.path,t.path);switch(s){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[s]<t.path[s]?"before":"after"}}getLastMatchingPosition(t,s={}){s.startPosition=this;const a=new Vl(s);return a.skip(t),a.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const t=this.parent;return t.is("documentFragment")?[t]:t.getAncestors({includeSelf:!0})}findAncestor(t){const s=this.parent;return s.is("element")?s.findAncestor(t,{includeSelf:!0}):null}getCommonPath(t){if(this.root!=t.root)return[];const s=$e(this.path,t.path),a=typeof s=="string"?Math.min(this.path.length,t.path.length):s;return this.path.slice(0,a)}getCommonAncestor(t){const s=this.getAncestors(),a=t.getAncestors();let d=0;for(;s[d]==a[d]&&s[d];)d++;return d===0?null:s[d-1]}getShiftedBy(t){const s=this.clone(),a=s.offset+t;return s.offset=a<0?0:a,s}isAfter(t){return this.compareWith(t)=="after"}isBefore(t){return this.compareWith(t)=="before"}isEqual(t){return this.compareWith(t)=="same"}isTouching(t){if(this.root!==t.root)return!1;const s=Math.min(this.path.length,t.path.length);for(let a=0;a<s;a++){const d=this.path[a]-t.path[a];if(d<-1||d>1)return!1;if(d===1)return oU(t,this,a);if(d===-1)return oU(this,t,a)}return this.path.length===t.path.length||(this.path.length>t.path.length?BP(this.path,s):BP(t.path,s))}hasSameParentAs(t){return this.root!==t.root?!1:$e(this.getParentPath(),t.getParentPath())=="same"}getTransformedByOperation(t){let s;switch(t.type){case"insert":s=this._getTransformedByInsertOperation(t);break;case"move":case"remove":case"reinsert":s=this._getTransformedByMoveOperation(t);break;case"split":s=this._getTransformedBySplitOperation(t);break;case"merge":s=this._getTransformedByMergeOperation(t);break;default:s=at._createAt(this)}return s}_getTransformedByInsertOperation(t){return this._getTransformedByInsertion(t.position,t.howMany)}_getTransformedByMoveOperation(t){return this._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany)}_getTransformedBySplitOperation(t){const s=t.movedRange;return s.containsPosition(this)||s.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(t.splitPosition,t.moveTargetPosition):t.graveyardPosition?this._getTransformedByMove(t.graveyardPosition,t.insertionPosition,1):this._getTransformedByInsertion(t.insertionPosition,1)}_getTransformedByMergeOperation(t){const s=t.movedRange;let a;return s.containsPosition(this)||s.start.isEqual(this)?(a=this._getCombined(t.sourcePosition,t.targetPosition),t.sourcePosition.isBefore(t.targetPosition)&&(a=a._getTransformedByDeletion(t.deletionPosition,1))):a=this.isEqual(t.deletionPosition)?at._createAt(t.deletionPosition):this._getTransformedByMove(t.deletionPosition,t.graveyardPosition,1),a}_getTransformedByDeletion(t,s){const a=at._createAt(this);if(this.root!=t.root)return a;if($e(t.getParentPath(),this.getParentPath())=="same"){if(t.offset<this.offset){if(t.offset+s>this.offset)return null;a.offset-=s}}else if($e(t.getParentPath(),this.getParentPath())=="prefix"){const d=t.path.length-1;if(t.offset<=this.path[d]){if(t.offset+s>this.path[d])return null;a.path[d]-=s}}return a}_getTransformedByInsertion(t,s){const a=at._createAt(this);if(this.root!=t.root)return a;if($e(t.getParentPath(),this.getParentPath())=="same")(t.offset<this.offset||t.offset==this.offset&&this.stickiness!="toPrevious")&&(a.offset+=s);else if($e(t.getParentPath(),this.getParentPath())=="prefix"){const d=t.path.length-1;t.offset<=this.path[d]&&(a.path[d]+=s)}return a}_getTransformedByMove(t,s,a){if(s=s._getTransformedByDeletion(t,a),t.isEqual(s))return at._createAt(this);const d=this._getTransformedByDeletion(t,a);return d===null||t.isEqual(this)&&this.stickiness=="toNext"||t.getShiftedBy(a).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(t,s):d._getTransformedByInsertion(s,a)}_getCombined(t,s){const a=t.path.length-1,d=at._createAt(s);return d.stickiness=this.stickiness,d.offset=d.offset+this.path[a]-t.offset,d.path=[...d.path,...this.path.slice(a+1)],d}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(t,s,a="toNone"){if(t instanceof at)return new at(t.root,t.path,t.stickiness);{const d=t;if(s=="end")s=d.maxOffset;else{if(s=="before")return this._createBefore(d,a);if(s=="after")return this._createAfter(d,a);if(s!==0&&!s)throw new B("model-createpositionat-offset-required",[this,t])}if(!d.is("element")&&!d.is("documentFragment"))throw new B("model-position-parent-incorrect",[this,t]);const p=d.getPath();return p.push(s),new this(d.root,p,a)}}static _createAfter(t,s){if(!t.parent)throw new B("model-position-after-root",[this,t],{root:t});return this._createAt(t.parent,t.endOffset,s)}static _createBefore(t,s){if(!t.parent)throw new B("model-position-before-root",t,{root:t});return this._createAt(t.parent,t.startOffset,s)}static fromJSON(t,s){if(t.root==="$graveyard"){const a=new at(s.graveyard,t.path);return a.stickiness=t.stickiness,a}if(!s.getRoot(t.root))throw new B("model-position-fromjson-no-root",s,{rootName:t.root});return new at(s.getRoot(t.root),t.path,t.stickiness)}}function r_(f,t){const s=t.getChild(t.offsetToIndex(f.offset));return s&&s.is("$text")&&s.startOffset<f.offset?s:null}function rU(f,t,s){return s!==null?null:t.getChild(t.offsetToIndex(f.offset))}function sU(f,t,s){return s!==null?null:t.getChild(t.offsetToIndex(f.offset)-1)}function oU(f,t,s){return s+1!==f.path.length&&!!BP(t.path,s+1)&&!!function(a,d){let p=a.parent,w=a.path.length-1,k=0;for(;w>=d;){if(a.path[w]+k!==p.maxOffset)return!1;k=1,w--,p=p.parent}return!0}(f,s+1)}function BP(f,t){for(;t<f.length;){if(f[t]!==0)return!1;t++}return!0}at.prototype.is=function(f){return f==="position"||f==="model:position"};class et extends tn{constructor(t,s){super(),this.start=at._createAt(t),this.end=s?at._createAt(s):at._createAt(t),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Vl({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return $e(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,s=!1){t.isCollapsed&&(s=!1);const a=this.containsPosition(t.start)||s&&this.start.isEqual(t.start),d=this.containsPosition(t.end)||s&&this.end.isEqual(t.end);return a&&d}containsItem(t){const s=at._createBefore(t);return this.containsPosition(s)||this.start.isEqual(s)}isEqual(t){return this.start.isEqual(t.start)&&this.end.isEqual(t.end)}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}getDifference(t){const s=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&s.push(new et(this.start,t.start)),this.containsPosition(t.end)&&s.push(new et(t.end,this.end))):s.push(new et(this.start,this.end)),s}getIntersection(t){if(this.isIntersecting(t)){let s=this.start,a=this.end;return this.containsPosition(t.start)&&(s=t.start),this.containsPosition(t.end)&&(a=t.end),new et(s,a)}return null}getJoined(t,s=!1){let a=this.isIntersecting(t);if(a||(a=this.start.isBefore(t.start)?s?this.end.isTouching(t.start):this.end.isEqual(t.start):s?t.end.isTouching(this.start):t.end.isEqual(this.start)),!a)return null;let d=this.start,p=this.end;return t.start.isBefore(d)&&(d=t.start),t.end.isAfter(p)&&(p=t.end),new et(d,p)}getMinimalFlatRanges(){const t=[],s=this.start.getCommonPath(this.end).length,a=at._createAt(this.start);let d=a.parent;for(;a.path.length>s+1;){const p=d.maxOffset-a.offset;p!==0&&t.push(new et(a,a.getShiftedBy(p))),a.path=a.path.slice(0,-1),a.offset++,d=d.parent}for(;a.path.length<=this.end.path.length;){const p=this.end.path[a.path.length-1],w=p-a.offset;w!==0&&t.push(new et(a,a.getShiftedBy(w))),a.offset=p,a.path.push(0)}return t}getWalker(t={}){return t.boundaries=this,new Vl(t)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const s=new Vl(t);for(const a of s)yield a.item}*getPositions(t={}){t.boundaries=this;const s=new Vl(t);yield s.position;for(const a of s)yield a.nextPosition}getTransformedByOperation(t){switch(t.type){case"insert":return this._getTransformedByInsertOperation(t);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(t);case"split":return[this._getTransformedBySplitOperation(t)];case"merge":return[this._getTransformedByMergeOperation(t)]}return[new et(this.start,this.end)]}getTransformedByOperations(t){const s=[new et(this.start,this.end)];for(const a of t)for(let d=0;d<s.length;d++){const p=s[d].getTransformedByOperation(a);s.splice(d,1,...p),d+=p.length-1}for(let a=0;a<s.length;a++){const d=s[a];for(let p=a+1;p<s.length;p++){const w=s[p];(d.containsRange(w)||w.containsRange(d)||d.isEqual(w))&&s.splice(p,1)}}return s}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const t=this.start.nodeAfter,s=this.end.nodeBefore;return t&&t.is("element")&&t===s?t:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(t,s=!1){return this._getTransformedByInsertion(t.position,t.howMany,s)}_getTransformedByMoveOperation(t,s=!1){const a=t.sourcePosition,d=t.howMany,p=t.targetPosition;return this._getTransformedByMove(a,p,d,s)}_getTransformedBySplitOperation(t){const s=this.start._getTransformedBySplitOperation(t);let a=this.end._getTransformedBySplitOperation(t);return this.end.isEqual(t.insertionPosition)&&(a=this.end.getShiftedBy(1)),s.root!=a.root&&(a=this.end.getShiftedBy(-1)),new et(s,a)}_getTransformedByMergeOperation(t){if(this.start.isEqual(t.targetPosition)&&this.end.isEqual(t.deletionPosition))return new et(this.start);let s=this.start._getTransformedByMergeOperation(t),a=this.end._getTransformedByMergeOperation(t);return s.root!=a.root&&(a=this.end.getShiftedBy(-1)),s.isAfter(a)?(t.sourcePosition.isBefore(t.targetPosition)?(s=at._createAt(a),s.offset=0):(t.deletionPosition.isEqual(s)||(a=t.deletionPosition),s=t.targetPosition),new et(s,a)):new et(s,a)}_getTransformedByInsertion(t,s,a=!1){if(a&&this.containsPosition(t))return[new et(this.start,t),new et(t.getShiftedBy(s),this.end._getTransformedByInsertion(t,s))];{const d=new et(this.start,this.end);return d.start=d.start._getTransformedByInsertion(t,s),d.end=d.end._getTransformedByInsertion(t,s),[d]}}_getTransformedByMove(t,s,a,d=!1){if(this.isCollapsed){const U=this.start._getTransformedByMove(t,s,a);return[new et(U)]}const p=et._createFromPositionAndShift(t,a),w=s._getTransformedByDeletion(t,a);if(this.containsPosition(s)&&!d&&(p.containsPosition(this.start)||p.containsPosition(this.end))){const U=this.start._getTransformedByMove(t,s,a),W=this.end._getTransformedByMove(t,s,a);return[new et(U,W)]}let k;const D=this.getDifference(p);let R=null;const M=this.getIntersection(p);if(D.length==1?R=new et(D[0].start._getTransformedByDeletion(t,a),D[0].end._getTransformedByDeletion(t,a)):D.length==2&&(R=new et(this.start,this.end._getTransformedByDeletion(t,a))),k=R?R._getTransformedByInsertion(w,a,M!==null||d):[],M){const U=new et(M.start._getCombined(p.start,w),M.end._getCombined(p.start,w));k.length==2?k.splice(1,0,U):k.push(U)}return k}_getTransformedByDeletion(t,s){let a=this.start._getTransformedByDeletion(t,s),d=this.end._getTransformedByDeletion(t,s);return a==null&&d==null?null:(a==null&&(a=t),d==null&&(d=t),new et(a,d))}static _createFromPositionAndShift(t,s){const a=t,d=t.getShiftedBy(s);return s>0?new this(a,d):new this(d,a)}static _createIn(t){return new this(at._createAt(t,0),at._createAt(t,t.maxOffset))}static _createOn(t){return this._createFromPositionAndShift(at._createBefore(t),t.offsetSize)}static _createFromRanges(t){if(t.length===0)throw new B("range-create-from-ranges-empty-array",null);if(t.length==1)return t[0].clone();const s=t[0];t.sort((p,w)=>p.start.isAfter(w.start)?1:-1);const a=t.indexOf(s),d=new this(s.start,s.end);if(a>0)for(let p=a-1;t[p].end.isEqual(d.start);p++)d.start=at._createAt(t[p].start);for(let p=a+1;p<t.length&&t[p].start.isEqual(d.end);p++)d.end=at._createAt(t[p].end);return d}static fromJSON(t,s){return new this(at.fromJSON(t.start,s),at.fromJSON(t.end,s))}}et.prototype.is=function(f){return f==="range"||f==="model:range"};class aU extends X(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(t,s)=>{if(s.viewPosition)return;const a=this._modelToViewMapping.get(s.modelPosition.parent);if(!a)throw new B("mapping-model-position-view-parent-not-found",this,{modelPosition:s.modelPosition});s.viewPosition=this.findPositionIn(a,s.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(t,s)=>{if(s.modelPosition)return;const a=this.findMappedViewAncestor(s.viewPosition),d=this._viewToModelMapping.get(a),p=this._toModelOffset(s.viewPosition.parent,s.viewPosition.offset,a);s.modelPosition=at._createAt(d,p)},{priority:"low"})}bindElements(t,s){this._modelToViewMapping.set(t,s),this._viewToModelMapping.set(s,t)}unbindViewElement(t,s={}){const a=this.toModelElement(t);if(this._elementToMarkerNames.has(t))for(const d of this._elementToMarkerNames.get(t))this._unboundMarkerNames.add(d);s.defer?this._deferredBindingRemovals.set(t,t.root):(this._viewToModelMapping.delete(t),this._modelToViewMapping.get(a)==t&&this._modelToViewMapping.delete(a))}unbindModelElement(t){const s=this.toViewElement(t);this._modelToViewMapping.delete(t),this._viewToModelMapping.get(s)==t&&this._viewToModelMapping.delete(s)}bindElementToMarker(t,s){const a=this._markerNameToElements.get(s)||new Set;a.add(t);const d=this._elementToMarkerNames.get(t)||new Set;d.add(s),this._markerNameToElements.set(s,a),this._elementToMarkerNames.set(t,d)}unbindElementFromMarkerName(t,s){const a=this._markerNameToElements.get(s);a&&(a.delete(t),a.size==0&&this._markerNameToElements.delete(s));const d=this._elementToMarkerNames.get(t);d&&(d.delete(s),d.size==0&&this._elementToMarkerNames.delete(t))}flushUnboundMarkerNames(){const t=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),t}flushDeferredBindings(){for(const[t,s]of this._deferredBindingRemovals)t.root==s&&this.unbindViewElement(t);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(t){return this._viewToModelMapping.get(t)}toViewElement(t){return this._modelToViewMapping.get(t)}toModelRange(t){return new et(this.toModelPosition(t.start),this.toModelPosition(t.end))}toViewRange(t){return new nn(this.toViewPosition(t.start),this.toViewPosition(t.end))}toModelPosition(t){const s={viewPosition:t,mapper:this};return this.fire("viewToModelPosition",s),s.modelPosition}toViewPosition(t,s={}){const a={modelPosition:t,mapper:this,isPhantom:s.isPhantom};return this.fire("modelToViewPosition",a),a.viewPosition}markerNameToElements(t){const s=this._markerNameToElements.get(t);if(!s)return null;const a=new Set;for(const d of s)if(d.is("attributeElement"))for(const p of d.getElementsWithSameId())a.add(p);else a.add(d);return a}registerViewToModelLength(t,s){this._viewToModelLengthCallbacks.set(t,s)}findMappedViewAncestor(t){let s=t.parent;for(;!this._viewToModelMapping.has(s);)s=s.parent;return s}_toModelOffset(t,s,a){if(a!=t)return this._toModelOffset(t.parent,t.index,a)+this._toModelOffset(t,s,t);if(t.is("$text"))return s;let d=0;for(let p=0;p<s;p++)d+=this.getModelLength(t.getChild(p));return d}getModelLength(t){if(this._viewToModelLengthCallbacks.get(t.name))return this._viewToModelLengthCallbacks.get(t.name)(t);if(this._viewToModelMapping.has(t))return 1;if(t.is("$text"))return t.data.length;if(t.is("uiElement"))return 0;{let s=0;for(const a of t.getChildren())s+=this.getModelLength(a);return s}}findPositionIn(t,s){let a,d=0,p=0,w=0;if(t.is("$text"))return new bt(t,s);for(;p<s;)a=t.getChild(w),d=this.getModelLength(a),p+=d,w++;return p==s?this._moveViewPositionToTextNode(new bt(t,w)):this.findPositionIn(a,s-(p-d))}_moveViewPositionToTextNode(t){const s=t.nodeBefore,a=t.nodeAfter;return s instanceof Fn?new bt(s,s.data.length):a instanceof Fn?new bt(a,0):t}}class Qie{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(t,s){s=oT(s),t instanceof Yt&&(t=this._getSymbolForTextProxy(t)),this._consumable.has(t)||this._consumable.set(t,new Map),this._consumable.get(t).set(s,!0)}consume(t,s){return s=oT(s),t instanceof Yt&&(t=this._getSymbolForTextProxy(t)),!!this.test(t,s)&&(this._consumable.get(t).set(s,!1),!0)}test(t,s){s=oT(s),t instanceof Yt&&(t=this._getSymbolForTextProxy(t));const a=this._consumable.get(t);if(a===void 0)return null;const d=a.get(s);return d===void 0?null:d}revert(t,s){s=oT(s),t instanceof Yt&&(t=this._getSymbolForTextProxy(t));const a=this.test(t,s);return a===!1?(this._consumable.get(t).set(s,!0),!0):a!==!0&&null}verifyAllConsumed(t){const s=[];for(const[a,d]of this._consumable)for(const[p,w]of d){const k=p.split(":")[0];w&&t==k&&s.push({event:p,item:a.name||a.description})}if(s.length)throw new B("conversion-model-consumable-not-consumed",null,{items:s})}_getSymbolForTextProxy(t){let s=null;const a=this._textProxyRegistry.get(t.startOffset);if(a){const d=a.get(t.endOffset);d&&(s=d.get(t.parent))}return s||(s=this._addSymbolForTextProxy(t)),s}_addSymbolForTextProxy(t){const s=t.startOffset,a=t.endOffset,d=t.parent,p=Symbol("$textProxy:"+t.data);let w,k;return w=this._textProxyRegistry.get(s),w||(w=new Map,this._textProxyRegistry.set(s,w)),k=w.get(a),k||(k=new Map,w.set(a,k)),k.set(d,p),p}}function oT(f){const t=f.split(":");return t[0]=="insert"?t[0]:t[0]=="addMarker"||t[0]=="removeMarker"?f:t.length>1?t[0]+":"+t[1]:t[0]}class lU extends X(){constructor(t){super(),this._conversionApi={dispatcher:this,...t},this._firedEventsMap=new WeakMap}convertChanges(t,s,a){const d=this._createConversionApi(a,t.getRefreshedItems());for(const w of t.getMarkersToRemove())this._convertMarkerRemove(w.name,w.range,d);const p=this._reduceChanges(t.getChanges());for(const w of p)w.type==="insert"?this._convertInsert(et._createFromPositionAndShift(w.position,w.length),d):w.type==="reinsert"?this._convertReinsert(et._createFromPositionAndShift(w.position,w.length),d):w.type==="remove"?this._convertRemove(w.position,w.length,w.name,d):this._convertAttribute(w.range,w.attributeKey,w.attributeOldValue,w.attributeNewValue,d);for(const w of d.mapper.flushUnboundMarkerNames()){const k=s.get(w).getRange();this._convertMarkerRemove(w,k,d),this._convertMarkerAdd(w,k,d)}for(const w of t.getMarkersToAdd())this._convertMarkerAdd(w.name,w.range,d);d.mapper.flushDeferredBindings(),d.consumable.verifyAllConsumed("insert")}convert(t,s,a,d={}){const p=this._createConversionApi(a,void 0,d);this._convertInsert(t,p);for(const[w,k]of s)this._convertMarkerAdd(w,k,p);p.consumable.verifyAllConsumed("insert")}convertSelection(t,s,a){const d=this._createConversionApi(a);this.fire("cleanSelection",{selection:t},d);const p=t.getFirstPosition().root;if(!d.mapper.toViewElement(p))return;const w=Array.from(s.getMarkersAtPosition(t.getFirstPosition()));if(this._addConsumablesForSelection(d.consumable,t,w),this.fire("selection",{selection:t},d),t.isCollapsed){for(const k of w)if(d.consumable.test(t,"addMarker:"+k.name)){const D=k.getRange();if(!ere(t.getFirstPosition(),k,d.mapper))continue;const R={item:t,markerName:k.name,markerRange:D};this.fire(`addMarker:${k.name}`,R,d)}for(const k of t.getAttributeKeys())if(d.consumable.test(t,"attribute:"+k)){const D={item:t,range:t.getFirstRange(),attributeKey:k,attributeOldValue:null,attributeNewValue:t.getAttribute(k)};this.fire(`attribute:${k}:$text`,D,d)}}}_convertInsert(t,s,a={}){a.doNotAddConsumables||this._addConsumablesForInsert(s.consumable,Array.from(t));for(const d of Array.from(t.getWalker({shallow:!0})).map(cU))this._testAndFire("insert",d,s)}_convertRemove(t,s,a,d){this.fire(`remove:${a}`,{position:t,length:s},d)}_convertAttribute(t,s,a,d,p){this._addConsumablesForRange(p.consumable,t,`attribute:${s}`);for(const w of t){const k={item:w.item,range:et._createFromPositionAndShift(w.previousPosition,w.length),attributeKey:s,attributeOldValue:a,attributeNewValue:d};this._testAndFire(`attribute:${s}`,k,p)}}_convertReinsert(t,s){const a=Array.from(t.getWalker({shallow:!0}));this._addConsumablesForInsert(s.consumable,a);for(const d of a.map(cU))this._testAndFire("insert",{...d,reconversion:!0},s)}_convertMarkerAdd(t,s,a){if(s.root.rootName=="$graveyard")return;const d=`addMarker:${t}`;if(a.consumable.add(s,d),this.fire(d,{markerName:t,markerRange:s},a),a.consumable.consume(s,d)){this._addConsumablesForRange(a.consumable,s,d);for(const p of s.getItems()){if(!a.consumable.test(p,d))continue;const w={item:p,range:et._createOn(p),markerName:t,markerRange:s};this.fire(d,w,a)}}}_convertMarkerRemove(t,s,a){s.root.rootName!="$graveyard"&&this.fire(`removeMarker:${t}`,{markerName:t,markerRange:s},a)}_reduceChanges(t){const s={changes:t};return this.fire("reduceChanges",s),s.changes}_addConsumablesForInsert(t,s){for(const a of s){const d=a.item;if(t.test(d,"insert")===null){t.add(d,"insert");for(const p of d.getAttributeKeys())t.add(d,"attribute:"+p)}}return t}_addConsumablesForRange(t,s,a){for(const d of s.getItems())t.add(d,a);return t}_addConsumablesForSelection(t,s,a){t.add(s,"selection");for(const d of a)t.add(s,"addMarker:"+d.name);for(const d of s.getAttributeKeys())t.add(s,"attribute:"+d);return t}_testAndFire(t,s,a){const d=function(D,R){const M=R.item.is("element")?R.item.name:"$text";return`${D}:${M}`}(t,s),p=s.item.is("$textProxy")?a.consumable._getSymbolForTextProxy(s.item):s.item,w=this._firedEventsMap.get(a),k=w.get(p);if(k){if(k.has(d))return;k.add(d)}else w.set(p,new Set([d]));this.fire(d,s,a)}_testAndFireAddAttributes(t,s){const a={item:t,range:et._createOn(t)};for(const d of a.item.getAttributeKeys())a.attributeKey=d,a.attributeOldValue=null,a.attributeNewValue=a.item.getAttribute(d),this._testAndFire(`attribute:${d}`,a,s)}_createConversionApi(t,s=new Set,a={}){const d={...this._conversionApi,consumable:new Qie,writer:t,options:a,convertItem:p=>this._convertInsert(et._createOn(p),d),convertChildren:p=>this._convertInsert(et._createIn(p),d,{doNotAddConsumables:!0}),convertAttributes:p=>this._testAndFireAddAttributes(p,d),canReuseView:p=>!s.has(d.mapper.toModelElement(p))};return this._firedEventsMap.set(d,new Map),d}}function ere(f,t,s){const a=t.getRange(),d=Array.from(f.getAncestors());return d.shift(),d.reverse(),!d.some(p=>{if(a.containsItem(p))return!!s.toViewElement(p).getCustomProperty("addHighlight")})}function cU(f){return{item:f.item,range:et._createFromPositionAndShift(f.previousPosition,f.length)}}class $a extends X(tn){constructor(...t){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],t.length&&this.setTo(...t)}get anchor(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.end:t.start}return null}get focus(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.start:t.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(t){if(this.rangeCount!=t.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const s of this._ranges){let a=!1;for(const d of t._ranges)if(s.isEqual(d)){a=!0;break}if(!a)return!1}return!0}*getRanges(){for(const t of this._ranges)yield new et(t.start,t.end)}getFirstRange(){let t=null;for(const s of this._ranges)t&&!s.start.isBefore(t.start)||(t=s);return t?new et(t.start,t.end):null}getLastRange(){let t=null;for(const s of this._ranges)t&&!s.end.isAfter(t.end)||(t=s);return t?new et(t.start,t.end):null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}setTo(...t){let[s,a,d]=t;if(typeof a=="object"&&(d=a,a=void 0),s===null)this._setRanges([]);else if(s instanceof $a)this._setRanges(s.getRanges(),s.isBackward);else if(s&&typeof s.getRanges=="function")this._setRanges(s.getRanges(),s.isBackward);else if(s instanceof et)this._setRanges([s],!!d&&!!d.backward);else if(s instanceof at)this._setRanges([new et(s)]);else if(s instanceof Tt){const p=!!d&&!!d.backward;let w;if(a=="in")w=et._createIn(s);else if(a=="on")w=et._createOn(s);else{if(a===void 0)throw new B("model-selection-setto-required-second-parameter",[this,s]);w=new et(at._createAt(s,a))}this._setRanges([w],p)}else{if(!Ne(s))throw new B("model-selection-setto-not-selectable",[this,s]);this._setRanges(s,d&&!!d.backward)}}_setRanges(t,s=!1){const a=Array.from(t),d=a.some(p=>{if(!(p instanceof et))throw new B("model-selection-set-ranges-not-range",[this,t]);return this._ranges.every(w=>!w.isEqual(p))});(a.length!==this._ranges.length||d)&&(this._replaceAllRanges(a),this._lastRangeBackward=!!s,this.fire("change:range",{directChange:!0}))}setFocus(t,s){if(this.anchor===null)throw new B("model-selection-setfocus-no-ranges",[this,t]);const a=at._createAt(t,s);if(a.compareWith(this.focus)=="same")return;const d=this.anchor;this._ranges.length&&this._popRange(),a.compareWith(d)=="before"?(this._pushRange(new et(a,d)),this._lastRangeBackward=!0):(this._pushRange(new et(d,a)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(t){return this._attrs.has(t)}removeAttribute(t){this.hasAttribute(t)&&(this._attrs.delete(t),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}setAttribute(t,s){this.getAttribute(t)!==s&&(this._attrs.set(t,s),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const t=new WeakSet;for(const s of this.getRanges()){const a=dU(s.start,t);nre(a,s)&&(yield a);for(const p of s.getWalker()){const w=p.item;p.type=="elementEnd"&&tre(w,t,s)&&(yield w)}const d=dU(s.end,t);ire(d,s)&&(yield d)}}containsEntireContent(t=this.anchor.root){const s=at._createAt(t,0),a=at._createAt(t,"end");return s.isTouching(this.getFirstPosition())&&a.isTouching(this.getLastPosition())}_pushRange(t){this._checkRange(t),this._ranges.push(new et(t.start,t.end))}_checkRange(t){for(let s=0;s<this._ranges.length;s++)if(t.isIntersecting(this._ranges[s]))throw new B("model-selection-range-intersects",[this,t],{addedRange:t,intersectingRange:this._ranges[s]})}_replaceAllRanges(t){this._removeAllRanges();for(const s of t)this._pushRange(s)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function uU(f,t){return!t.has(f)&&(t.add(f),f.root.document.model.schema.isBlock(f)&&!!f.parent)}function tre(f,t,s){return uU(f,t)&&zP(f,s)}function dU(f,t){const s=f.parent.root.document.model.schema,a=f.parent.getAncestors({parentFirst:!0,includeSelf:!0});let d=!1;const p=a.find(w=>!d&&(d=s.isLimit(w),!d&&uU(w,t)));return a.forEach(w=>t.add(w)),p}function zP(f,t){const s=function(a){const d=a.root.document.model.schema;let p=a.parent;for(;p;){if(d.isBlock(p))return p;p=p.parent}}(f);return s?!t.containsRange(et._createOn(s),!0):!0}function nre(f,t){return!!f&&(!(!t.isCollapsed&&!f.isEmpty)||!t.start.isTouching(at._createAt(f,f.maxOffset))&&zP(f,t))}function ire(f,t){return!!f&&(!(!t.isCollapsed&&!f.isEmpty)||!t.end.isTouching(at._createAt(f,0))&&zP(f,t))}$a.prototype.is=function(f){return f==="selection"||f==="model:selection"};class qa extends X(et){constructor(t,s){super(t,s),rre.call(this)}detach(){this.stopListening()}toRange(){return new et(this.start,this.end)}static fromRange(t){return new qa(t.start,t.end)}}function rre(){this.listenTo(this.root.document.model,"applyOperation",(f,t)=>{const s=t[0];s.isDocumentOperation&&sre.call(this,s)},{priority:"low"})}function sre(f){const t=this.getTransformedByOperation(f),s=et._createFromRanges(t),a=!s.isEqual(this),d=function(w,k){switch(k.type){case"insert":return w.containsPosition(k.position);case"move":case"remove":case"reinsert":case"merge":return w.containsPosition(k.sourcePosition)||w.start.isEqual(k.sourcePosition)||w.containsPosition(k.targetPosition);case"split":return w.containsPosition(k.splitPosition)||w.containsPosition(k.insertionPosition)}return!1}(this,f);let p=null;if(a){s.root.rootName=="$graveyard"&&(p=f.type=="remove"?f.sourcePosition:f.deletionPosition);const w=this.toRange();this.start=s.start,this.end=s.end,this.fire("change:range",w,{deletionPosition:p})}else d&&this.fire("change:content",this.toRange(),{deletionPosition:p})}qa.prototype.is=function(f){return f==="liveRange"||f==="model:liveRange"||f=="range"||f==="model:range"};const aT="selection:";class Fc extends X(tn){constructor(t){super(),this._selection=new ore(t),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(t){return this._selection.containsEntireContent(t)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(t){return this._selection.getAttribute(t)}hasAttribute(t){return this._selection.hasAttribute(t)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(t){this._selection.observeMarkers(t)}_setFocus(t,s){this._selection.setFocus(t,s)}_setTo(...t){this._selection.setTo(...t)}_setAttribute(t,s){this._selection.setAttribute(t,s)}_removeAttribute(t){this._selection.removeAttribute(t)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(t){this._selection.restoreGravity(t)}static _getStoreAttributeKey(t){return aT+t}static _isStoreAttributeKey(t){return t.startsWith(aT)}}Fc.prototype.is=function(f){return f==="selection"||f=="model:selection"||f=="documentSelection"||f=="model:documentSelection"};class ore extends $a{constructor(t){super(),this.markers=new Ys({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=t.model,this._document=t,this.listenTo(this._model,"applyOperation",(s,a)=>{const d=a[0];d.isDocumentOperation&&d.type!="marker"&&d.type!="rename"&&d.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(s,a,d,p)=>{this._updateMarker(a,p)}),this.listenTo(this._document,"change",(s,a)=>{(function(d,p){const w=d.document.differ;for(const k of w.getChanges()){if(k.type!="insert")continue;const D=k.position.parent;k.length===D.maxOffset&&d.enqueueChange(p,R=>{const M=Array.from(D.getAttributeKeys()).filter(U=>U.startsWith(aT));for(const U of M)R.removeAttribute(U,D)})}})(this._model,a)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let t=0;t<this._ranges.length;t++)this._ranges[t].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...t){super.setTo(...t),this._updateAttributes(!0),this.updateMarkers()}setFocus(t,s){super.setFocus(t,s),this._updateAttributes(!0),this.updateMarkers()}setAttribute(t,s){if(this._setAttribute(t,s)){const a=[t];this.fire("change:attribute",{attributeKeys:a,directChange:!0})}}removeAttribute(t){if(this._removeAttribute(t)){const s=[t];this.fire("change:attribute",{attributeKeys:s,directChange:!0})}}overrideGravity(){const t=O();return this._overriddenGravityRegister.add(t),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),t}restoreGravity(t){if(!this._overriddenGravityRegister.has(t))throw new B("document-selection-gravity-wrong-restore",this,{uid:t});this._overriddenGravityRegister.delete(t),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(t){this._observedMarkers.add(t),this.updateMarkers()}_replaceAllRanges(t){this._validateSelectionRanges(t),super._replaceAllRanges(t)}_popRange(){this._ranges.pop().detach()}_pushRange(t){const s=this._prepareRange(t);s&&this._ranges.push(s)}_validateSelectionRanges(t){for(const s of t)if(!this._document._validateSelectionRange(s))throw new B("document-selection-wrong-position",this,{range:s})}_prepareRange(t){if(this._checkRange(t),t.root==this._document.graveyard)return;const s=qa.fromRange(t);return s.on("change:range",(a,d,p)=>{if(this._hasChangedRange=!0,s.root==this._document.graveyard){this._selectionRestorePosition=p.deletionPosition;const w=this._ranges.indexOf(s);this._ranges.splice(w,1),s.detach()}}),s}updateMarkers(){if(!this._observedMarkers.size)return;const t=[];let s=!1;for(const d of this._model.markers){const p=d.name.split(":",1)[0];if(!this._observedMarkers.has(p))continue;const w=d.getRange();for(const k of this.getRanges())w.containsRange(k,!k.isCollapsed)&&t.push(d)}const a=Array.from(this.markers);for(const d of t)this.markers.has(d)||(this.markers.add(d),s=!0);for(const d of Array.from(this.markers))t.includes(d)||(this.markers.remove(d),s=!0);s&&this.fire("change:marker",{oldMarkers:a,directChange:!1})}_updateMarker(t,s){const a=t.name.split(":",1)[0];if(!this._observedMarkers.has(a))return;let d=!1;const p=Array.from(this.markers),w=this.markers.has(t);if(s){let k=!1;for(const D of this.getRanges())if(s.containsRange(D,!D.isCollapsed)){k=!0;break}k&&!w?(this.markers.add(t),d=!0):!k&&w&&(this.markers.remove(t),d=!0)}else w&&(this.markers.remove(t),d=!0);d&&this.fire("change:marker",{oldMarkers:p,directChange:!1})}_updateAttributes(t){const s=La(this._getSurroundingAttributes()),a=La(this.getAttributes());if(t)this._attributePriority=new Map,this._attrs=new Map;else for(const[p,w]of this._attributePriority)w=="low"&&(this._attrs.delete(p),this._attributePriority.delete(p));this._setAttributesTo(s);const d=[];for(const[p,w]of this.getAttributes())a.has(p)&&a.get(p)===w||d.push(p);for(const[p]of a)this.hasAttribute(p)||d.push(p);d.length>0&&this.fire("change:attribute",{attributeKeys:d,directChange:!1})}_setAttribute(t,s,a=!0){const d=a?"normal":"low";return d=="low"&&this._attributePriority.get(t)=="normal"?!1:super.getAttribute(t)!==s&&(this._attrs.set(t,s),this._attributePriority.set(t,d),!0)}_removeAttribute(t,s=!0){const a=s?"normal":"low";return(a!="low"||this._attributePriority.get(t)!="normal")&&(this._attributePriority.set(t,a),!!super.hasAttribute(t)&&(this._attrs.delete(t),!0))}_setAttributesTo(t){const s=new Set;for(const[a,d]of this.getAttributes())t.get(a)!==d&&this._removeAttribute(a,!1);for(const[a,d]of t)this._setAttribute(a,d,!1)&&s.add(a);return s}*getStoredAttributes(){const t=this.getFirstPosition().parent;if(this.isCollapsed&&t.isEmpty)for(const s of t.getAttributeKeys())s.startsWith(aT)&&(yield[s.substr(10),t.getAttribute(s)])}_getSurroundingAttributes(){const t=this.getFirstPosition(),s=this._model.schema;if(t.root.rootName=="$graveyard")return null;let a=null;if(this.isCollapsed){const d=t.textNode?t.textNode:t.nodeBefore,p=t.textNode?t.textNode:t.nodeAfter;if(this.isGravityOverridden||(a=s_(d,s)),a||(a=s_(p,s)),!this.isGravityOverridden&&!a){let w=d;for(;w&&!a;)w=w.previousSibling,a=s_(w,s)}if(!a){let w=p;for(;w&&!a;)w=w.nextSibling,a=s_(w,s)}a||(a=this.getStoredAttributes())}else{const d=this.getFirstRange();for(const p of d){if(p.item.is("element")&&s.isObject(p.item)){a=s_(p.item,s);break}if(p.type=="text"){a=p.item.getAttributes();break}}}return a}_fixGraveyardSelection(t){const s=this._model.schema.getNearestSelectionRange(t);s&&this._pushRange(s)}}function s_(f,t){if(!f)return null;if(f instanceof Yt||f instanceof Wt)return f.getAttributes();if(!t.isInline(f))return null;if(!t.isObject(f))return[];const s=[];for(const[a,d]of f.getAttributes())t.checkAttribute("$text",a)&&t.getAttributeProperties(a).copyFromObject!==!1&&s.push([a,d]);return s}class hU{constructor(t){this._dispatchers=t}add(t){for(const s of this._dispatchers)t(s);return this}}class are extends hU{elementToElement(t){return this.add(function(s){const a=mU(s.model),d=o_(s.view,"container");return a.attributes.length&&(a.children=!0),p=>{p.on(`insert:${a.name}`,function(w,k=cre){return(D,R,M)=>{if(!k(R.item,M.consumable,{preflight:!0}))return;const U=w(R.item,M,R);if(!U)return;k(R.item,M.consumable);const W=M.mapper.toViewPosition(R.range.start);M.mapper.bindElements(R.item,U),M.writer.insert(W,U),M.convertAttributes(R.item),wU(U,R.item.getChildren(),M,{reconversion:R.reconversion})}}(d,vU(a)),{priority:s.converterPriority||"normal"}),(a.children||a.attributes.length)&&p.on("reduceChanges",yU(a),{priority:"low"})}}(t))}elementToStructure(t){return this.add(function(s){const a=mU(s.model),d=o_(s.view,"container");return a.children=!0,p=>{if(p._conversionApi.schema.checkChild(a.name,"$text"))throw new B("conversion-element-to-structure-disallowed-text",p,{elementName:a.name});var w,k;p.on(`insert:${a.name}`,(w=d,k=vU(a),(D,R,M)=>{if(!k(R.item,M.consumable,{preflight:!0}))return;const U=new Map;M.writer._registerSlotFactory(function(re,le,xe){return(Pe,Ge)=>{const tt=Pe.createContainerElement("$slot");let Nt=null;if(Ge==="children")Nt=Array.from(re.getChildren());else{if(typeof Ge!="function")throw new B("conversion-slot-mode-unknown",xe.dispatcher,{modeOrFilter:Ge});Nt=Array.from(re.getChildren()).filter(ln=>Ge(ln))}return le.set(tt,Nt),tt}}(R.item,U,M));const W=w(R.item,M,R);if(M.writer._clearSlotFactory(),!W)return;(function(re,le,xe){const Pe=Array.from(le.values()).flat(),Ge=new Set(Pe);if(Ge.size!=Pe.length)throw new B("conversion-slot-filter-overlap",xe.dispatcher,{element:re});if(Ge.size!=re.childCount)throw new B("conversion-slot-filter-incomplete",xe.dispatcher,{element:re})})(R.item,U,M),k(R.item,M.consumable);const Z=M.mapper.toViewPosition(R.range.start);M.mapper.bindElements(R.item,W),M.writer.insert(Z,W),M.convertAttributes(R.item),function(re,le,xe,Pe){xe.mapper.on("modelToViewPosition",Nt,{priority:"highest"});let Ge=null,tt=null;for([Ge,tt]of le)wU(re,tt,xe,Pe),xe.writer.move(xe.writer.createRangeIn(Ge),xe.writer.createPositionBefore(Ge)),xe.writer.remove(Ge);function Nt(ln,Gn){const Xn=Gn.modelPosition.nodeAfter,os=tt.indexOf(Xn);os<0||(Gn.viewPosition=Gn.mapper.findPositionIn(Ge,os))}xe.mapper.off("modelToViewPosition",Nt)}(W,U,M,{reconversion:R.reconversion})}),{priority:s.converterPriority||"normal"}),p.on("reduceChanges",yU(a),{priority:"low"})}}(t))}attributeToElement(t){return this.add(function(s){s=it(s);let a=s.model;typeof a=="string"&&(a={key:a});let d=`attribute:${a.key}`;if(a.name&&(d+=":"+a.name),a.values)for(const w of a.values)s.view[w]=o_(s.view[w],"attribute");else s.view=o_(s.view,"attribute");const p=gU(s);return w=>{w.on(d,function(k){return(D,R,M)=>{if(!M.consumable.test(R.item,D.name))return;const U=k(R.attributeOldValue,M,R),W=k(R.attributeNewValue,M,R);if(!U&&!W)return;M.consumable.consume(R.item,D.name);const Z=M.writer,re=Z.document.selection;if(R.item instanceof $a||R.item instanceof Fc)Z.wrap(re.getFirstRange(),W);else{let le=M.mapper.toViewRange(R.range);R.attributeOldValue!==null&&U&&(le=Z.unwrap(le,U)),R.attributeNewValue!==null&&W&&Z.wrap(le,W)}}}(p),{priority:s.converterPriority||"normal"})}}(t))}attributeToAttribute(t){return this.add(function(s){s=it(s);let a=s.model;typeof a=="string"&&(a={key:a});let d=`attribute:${a.key}`;if(a.name&&(d+=":"+a.name),a.values)for(const w of a.values)s.view[w]=bU(s.view[w]);else s.view=bU(s.view);const p=gU(s);return w=>{var k;w.on(d,(k=p,(D,R,M)=>{if(!M.consumable.test(R.item,D.name))return;const U=k(R.attributeOldValue,M,R),W=k(R.attributeNewValue,M,R);if(!U&&!W)return;M.consumable.consume(R.item,D.name);const Z=M.mapper.toViewElement(R.item),re=M.writer;if(!Z)throw new B("conversion-attribute-to-attribute-on-text",M.dispatcher,R);if(R.attributeOldValue!==null&&U)if(U.key=="class"){const le=$n(U.value);for(const xe of le)re.removeClass(xe,Z)}else if(U.key=="style"){const le=Object.keys(U.value);for(const xe of le)re.removeStyle(xe,Z)}else re.removeAttribute(U.key,Z);if(R.attributeNewValue!==null&&W)if(W.key=="class"){const le=$n(W.value);for(const xe of le)re.addClass(xe,Z)}else if(W.key=="style"){const le=Object.keys(W.value);for(const xe of le)re.setStyle(xe,W.value[xe],Z)}else re.setAttribute(W.key,W.value,Z)}),{priority:s.converterPriority||"normal"})}}(t))}markerToElement(t){return this.add(function(s){const a=o_(s.view,"ui");return d=>{var p;d.on(`addMarker:${s.model}`,(p=a,(w,k,D)=>{k.isOpening=!0;const R=p(k,D);k.isOpening=!1;const M=p(k,D);if(!R||!M)return;const U=k.markerRange;if(U.isCollapsed&&!D.consumable.consume(U,w.name))return;for(const re of U)if(!D.consumable.consume(re.item,w.name))return;const W=D.mapper,Z=D.writer;Z.insert(W.toViewPosition(U.start),R),D.mapper.bindElementToMarker(R,k.markerName),U.isCollapsed||(Z.insert(W.toViewPosition(U.end),M),D.mapper.bindElementToMarker(M,k.markerName)),w.stop()}),{priority:s.converterPriority||"normal"}),d.on(`removeMarker:${s.model}`,(w,k,D)=>{const R=D.mapper.markerNameToElements(k.markerName);if(R){for(const M of R)D.mapper.unbindElementFromMarkerName(M,k.markerName),D.writer.clear(D.writer.createRangeOn(M),M);D.writer.clearClonedElementsGroup(k.markerName),w.stop()}},{priority:s.converterPriority||"normal"})}}(t))}markerToHighlight(t){return this.add(function(s){return a=>{var d;a.on(`addMarker:${s.model}`,(d=s.view,(p,w,k)=>{if(!w.item||!(w.item instanceof $a||w.item instanceof Fc||w.item.is("$textProxy")))return;const D=VP(d,w,k);if(!D||!k.consumable.consume(w.item,p.name))return;const R=k.writer,M=fU(R,D),U=R.document.selection;if(w.item instanceof $a||w.item instanceof Fc)R.wrap(U.getFirstRange(),M);else{const W=k.mapper.toViewRange(w.range),Z=R.wrap(W,M);for(const re of Z.getItems())if(re.is("attributeElement")&&re.isSimilar(M)){k.mapper.bindElementToMarker(re,w.markerName);break}}}),{priority:s.converterPriority||"normal"}),a.on(`addMarker:${s.model}`,function(p){return(w,k,D)=>{if(!k.item||!(k.item instanceof en))return;const R=VP(p,k,D);if(!R||!D.consumable.test(k.item,w.name))return;const M=D.mapper.toViewElement(k.item);if(M&&M.getCustomProperty("addHighlight")){D.consumable.consume(k.item,w.name);for(const U of et._createIn(k.item))D.consumable.consume(U.item,w.name);M.getCustomProperty("addHighlight")(M,R,D.writer),D.mapper.bindElementToMarker(M,k.markerName)}}}(s.view),{priority:s.converterPriority||"normal"}),a.on(`removeMarker:${s.model}`,function(p){return(w,k,D)=>{if(k.markerRange.isCollapsed)return;const R=VP(p,k,D);if(!R)return;const M=fU(D.writer,R),U=D.mapper.markerNameToElements(k.markerName);if(U){for(const W of U)D.mapper.unbindElementFromMarkerName(W,k.markerName),W.is("attributeElement")?D.writer.unwrap(D.writer.createRangeOn(W),M):W.getCustomProperty("removeHighlight")(W,R.id,D.writer);D.writer.clearClonedElementsGroup(k.markerName),w.stop()}}}(s.view),{priority:s.converterPriority||"normal"})}}(t))}markerToData(t){return this.add(function(s){s=it(s);const a=s.model;let d=s.view;return d||(d=p=>({group:a,name:p.substr(s.model.length+1)})),p=>{var w;p.on(`addMarker:${a}`,(w=d,(k,D,R)=>{const M=w(D.markerName,R);if(!M)return;const U=D.markerRange;R.consumable.consume(U,k.name)&&(pU(U,!1,R,D,M),pU(U,!0,R,D,M),k.stop())}),{priority:s.converterPriority||"normal"}),p.on(`removeMarker:${a}`,function(k){return(D,R,M)=>{const U=k(R.markerName,M);if(!U)return;const W=M.mapper.markerNameToElements(R.markerName);if(W){for(const re of W)M.mapper.unbindElementFromMarkerName(re,R.markerName),re.is("containerElement")?(Z(`data-${U.group}-start-before`,re),Z(`data-${U.group}-start-after`,re),Z(`data-${U.group}-end-before`,re),Z(`data-${U.group}-end-after`,re)):M.writer.clear(M.writer.createRangeOn(re),re);M.writer.clearClonedElementsGroup(R.markerName),D.stop()}function Z(re,le){if(le.hasAttribute(re)){const xe=new Set(le.getAttribute(re).split(","));xe.delete(U.name),xe.size==0?M.writer.removeAttribute(re,le):M.writer.setAttribute(re,Array.from(xe).join(","),le)}}}}(d),{priority:s.converterPriority||"normal"})}}(t))}}function fU(f,t){const s=f.createAttributeElement("span",t.attributes);return t.classes&&s._addClass(t.classes),typeof t.priority=="number"&&(s._priority=t.priority),s._id=t.id,s}function pU(f,t,s,a,d){const p=t?f.start:f.end,w=p.nodeAfter&&p.nodeAfter.is("element")?p.nodeAfter:null,k=p.nodeBefore&&p.nodeBefore.is("element")?p.nodeBefore:null;if(w||k){let D,R;t&&w||!t&&!k?(D=w,R=!0):(D=k,R=!1);const M=s.mapper.toViewElement(D);if(M)return void function(U,W,Z,re,le,xe){const Pe=`data-${xe.group}-${W?"start":"end"}-${Z?"before":"after"}`,Ge=U.hasAttribute(Pe)?U.getAttribute(Pe).split(","):[];Ge.unshift(xe.name),re.writer.setAttribute(Pe,Ge.join(","),U),re.mapper.bindElementToMarker(U,le.markerName)}(M,t,R,s,a,d)}(function(D,R,M,U,W){const Z=`${W.group}-${R?"start":"end"}`,re=W.name?{name:W.name}:null,le=M.writer.createUIElement(Z,re);M.writer.insert(D,le),M.mapper.bindElementToMarker(le,U.markerName)})(s.mapper.toViewPosition(p),t,s,a,d)}function mU(f){return typeof f=="string"&&(f={name:f}),f.attributes?Array.isArray(f.attributes)||(f.attributes=[f.attributes]):f.attributes=[],f.children=!!f.children,f}function o_(f,t){return typeof f=="function"?f:(s,a)=>function(d,p,w){typeof d=="string"&&(d={name:d});let k;const D=p.writer,R=Object.assign({},d.attributes);if(w=="container")k=D.createContainerElement(d.name,R);else if(w=="attribute"){const M={priority:d.priority||Ll.DEFAULT_PRIORITY};k=D.createAttributeElement(d.name,R,M)}else k=D.createUIElement(d.name,R);if(d.styles){const M=Object.keys(d.styles);for(const U of M)D.setStyle(U,d.styles[U],k)}if(d.classes){const M=d.classes;if(typeof M=="string")D.addClass(M,k);else for(const U of M)D.addClass(U,k)}return k}(f,a,t)}function gU(f){return f.model.values?(t,s,a)=>{const d=f.view[t];return d?d(t,s,a):null}:f.view}function bU(f){return typeof f=="string"?t=>({key:f,value:t}):typeof f=="object"?f.value?()=>f:t=>({key:f.key,value:t}):f}function VP(f,t,s){const a=typeof f=="function"?f(t,s):f;return a?(a.priority||(a.priority=10),a.id||(a.id=t.markerName),a):null}function yU(f){const t=function(s){return(a,d)=>{if(!a.is("element",s.name))return!1;if(d.type=="attribute"){if(s.attributes.includes(d.attributeKey))return!0}else if(s.children)return!0;return!1}}(f);return(s,a)=>{const d=[];a.reconvertedElements||(a.reconvertedElements=new Set);for(const p of a.changes){const w=p.type=="attribute"?p.range.start.nodeAfter:p.position.parent;if(w&&t(w,p)){if(!a.reconvertedElements.has(w)){a.reconvertedElements.add(w);const k=at._createBefore(w);let D=d.length;for(let R=d.length-1;R>=0;R--){const M=d[R],U=(M.type=="attribute"?M.range.start:M.position).compareWith(k);if(U=="before"||M.type=="remove"&&U=="same")break;D=R}d.splice(D,0,{type:"remove",name:w.name,position:k,length:1},{type:"reinsert",name:w.name,position:k,length:1})}}else d.push(p)}a.changes=d}}function vU(f){return(t,s,a={})=>{const d=["insert"];for(const p of f.attributes)t.hasAttribute(p)&&d.push(`attribute:${p}`);return!!d.every(p=>s.test(t,p))&&(a.preflight||d.forEach(p=>s.consume(t,p)),!0)}}function wU(f,t,s,a){for(const d of t)lre(f.root,d,s,a)||s.convertItem(d)}function lre(f,t,s,a){const{writer:d,mapper:p}=s;if(!a.reconversion)return!1;const w=p.toViewElement(t);return!(!w||w.root==f)&&!!s.canReuseView(w)&&(d.move(d.createRangeOn(w),p.toViewPosition(at._createBefore(t))),!0)}function cre(f,t,{preflight:s}={}){return s?t.test(f,"insert"):t.consume(f,"insert")}function xU(f){const{schema:t,document:s}=f.model;for(const a of s.getRoots())if(a.isEmpty&&!t.checkChild(a,"$text")&&t.checkChild(a,"paragraph"))return f.insertElement("paragraph",a),!0;return!1}function _U(f,t,s){const a=s.createContext(f);return!!s.checkChild(a,"paragraph")&&!!s.checkChild(a.push("paragraph"),t)}function kU(f,t){const s=t.createElement("paragraph");return t.insert(s,f),t.createPositionAt(s,0)}class ure extends hU{elementToElement(t){return this.add(EU(t))}elementToAttribute(t){return this.add(function(s){s=it(s),SU(s);const a=AU(s,!1),d=WP(s.view),p=d?`element:${d}`:"element";return w=>{w.on(p,a,{priority:s.converterPriority||"low"})}}(t))}attributeToAttribute(t){return this.add(function(s){s=it(s);let a=null;(typeof s.view=="string"||s.view.key)&&(a=function(p){typeof p.view=="string"&&(p.view={key:p.view});const w=p.view.key;let k;return w=="class"||w=="style"?k={[w=="class"?"classes":"styles"]:p.view.value}:k={attributes:{[w]:p.view.value===void 0?/[\s\S]*/:p.view.value}},p.view.name&&(k.name=p.view.name),p.view=k,w}(s)),SU(s,a);const d=AU(s,!0);return p=>{p.on("element",d,{priority:s.converterPriority||"low"})}}(t))}elementToMarker(t){return this.add(function(s){const a=function(d){return(p,w)=>{const k=typeof d=="string"?d:d(p,w);return w.writer.createElement("$marker",{"data-name":k})}}(s.model);return EU({...s,model:a})}(t))}dataToMarker(t){return this.add(function(s){s=it(s),s.model||(s.model=w=>w?s.view+":"+w:s.view);const a={view:s.view,model:s.model},d=$P(TU(a,"start")),p=$P(TU(a,"end"));return w=>{w.on(`element:${s.view}-start`,d,{priority:s.converterPriority||"normal"}),w.on(`element:${s.view}-end`,p,{priority:s.converterPriority||"normal"});const k=F.low,D=F.highest,R=F.get(s.converterPriority)/D;w.on("element",function(M){return(U,W,Z)=>{const re=`data-${M.view}`;function le(xe,Pe){for(const Ge of Pe){const tt=M.model(Ge,Z),Nt=Z.writer.createElement("$marker",{"data-name":tt});Z.writer.insert(Nt,xe),W.modelCursor.isEqual(xe)?W.modelCursor=W.modelCursor.getShiftedBy(1):W.modelCursor=W.modelCursor._getTransformedByInsertion(xe,1),W.modelRange=W.modelRange._getTransformedByInsertion(xe,1)[0]}}(Z.consumable.test(W.viewItem,{attributes:re+"-end-after"})||Z.consumable.test(W.viewItem,{attributes:re+"-start-after"})||Z.consumable.test(W.viewItem,{attributes:re+"-end-before"})||Z.consumable.test(W.viewItem,{attributes:re+"-start-before"}))&&(W.modelRange||Object.assign(W,Z.convertChildren(W.viewItem,W.modelCursor)),Z.consumable.consume(W.viewItem,{attributes:re+"-end-after"})&&le(W.modelRange.end,W.viewItem.getAttribute(re+"-end-after").split(",")),Z.consumable.consume(W.viewItem,{attributes:re+"-start-after"})&&le(W.modelRange.end,W.viewItem.getAttribute(re+"-start-after").split(",")),Z.consumable.consume(W.viewItem,{attributes:re+"-end-before"})&&le(W.modelRange.start,W.viewItem.getAttribute(re+"-end-before").split(",")),Z.consumable.consume(W.viewItem,{attributes:re+"-start-before"})&&le(W.modelRange.start,W.viewItem.getAttribute(re+"-start-before").split(",")))}}(a),{priority:k+R})}}(t))}}function EU(f){const t=$P(f=it(f)),s=WP(f.view),a=s?`element:${s}`:"element";return d=>{d.on(a,t,{priority:f.converterPriority||"normal"})}}function WP(f){return typeof f=="string"?f:typeof f=="object"&&typeof f.name=="string"?f.name:null}function $P(f){const t=new Ou(f.view);return(s,a,d)=>{const p=t.match(a.viewItem);if(!p)return;const w=p.match;if(w.name=!0,!d.consumable.test(a.viewItem,w))return;const k=function(D,R,M){return D instanceof Function?D(R,M):M.writer.createElement(D)}(f.model,a.viewItem,d);k&&d.safeInsert(k,a.modelCursor)&&(d.consumable.consume(a.viewItem,w),d.convertChildren(a.viewItem,k),d.updateConversionResult(k,a))}}function SU(f,t=null){const s=t===null||(p=>p.getAttribute(t)),a=typeof f.model!="object"?f.model:f.model.key,d=typeof f.model!="object"||f.model.value===void 0?s:f.model.value;f.model={key:a,value:d}}function AU(f,t){const s=new Ou(f.view);return(a,d,p)=>{if(!d.modelRange&&t)return;const w=s.match(d.viewItem);if(!w||(function(M,U){const W=typeof M=="function"?M(U):M;return typeof W=="object"&&!WP(W)?!1:!W.classes&&!W.attributes&&!W.styles}(f.view,d.viewItem)?w.match.name=!0:delete w.match.name,!p.consumable.test(d.viewItem,w.match)))return;const k=f.model.key,D=typeof f.model.value=="function"?f.model.value(d.viewItem,p):f.model.value;if(D===null)return;d.modelRange||Object.assign(d,p.convertChildren(d.viewItem,d.modelCursor)),function(M,U,W,Z){let re=!1;for(const le of Array.from(M.getItems({shallow:W})))Z.schema.checkAttribute(le,U.key)&&(re=!0,le.hasAttribute(U.key)||Z.writer.setAttribute(U.key,U.value,le));return re}(d.modelRange,{key:k,value:D},t,p)&&(p.consumable.test(d.viewItem,{name:!0})&&(w.match.name=!0),p.consumable.consume(d.viewItem,w.match))}}function TU(f,t){return{view:`${f.view}-${t}`,model:(s,a)=>{const d=s.getAttribute("name"),p=f.model(d,a);return a.writer.createElement("$marker",{"data-name":p})}}}function dre(f){f.document.registerPostFixer(t=>function(s,a){const d=a.document.selection,p=a.schema,w=[];let k=!1;for(const D of d.getRanges()){const R=CU(D,p);R&&!R.isEqual(D)?(w.push(R),k=!0):w.push(D)}return k&&s.setSelection(function(D){const R=[...D],M=new Set;let U=1;for(;U<R.length;){const W=R[U],Z=R.slice(0,U);for(const[re,le]of Z.entries())if(!M.has(re)){if(W.isEqual(le))M.add(re);else if(W.isIntersecting(le)){M.add(re),M.add(U);const xe=W.getJoined(le);R.push(xe)}}U++}return R.filter((W,Z)=>!M.has(Z))}(w),{backward:d.isBackward}),!1}(t,f))}function CU(f,t){return f.isCollapsed?function(s,a){const d=s.start,p=a.getNearestSelectionRange(d);if(!p){const k=d.getAncestors().reverse().find(D=>a.isObject(D));return k?et._createOn(k):null}if(!p.isCollapsed)return p;const w=p.start;return d.isEqual(w)?null:new et(w)}(f,t):function(s,a){const{start:d,end:p}=s,w=a.checkChild(d,"$text"),k=a.checkChild(p,"$text"),D=a.getLimitElement(d),R=a.getLimitElement(p);if(D===R){if(w&&k)return null;if(function(W,Z,re){const le=W.nodeAfter&&!re.isLimit(W.nodeAfter)||re.checkChild(W,"$text"),xe=Z.nodeBefore&&!re.isLimit(Z.nodeBefore)||re.checkChild(Z,"$text");return le||xe}(d,p,a)){const W=d.nodeAfter&&a.isSelectable(d.nodeAfter)?null:a.getNearestSelectionRange(d,"forward"),Z=p.nodeBefore&&a.isSelectable(p.nodeBefore)?null:a.getNearestSelectionRange(p,"backward"),re=W?W.start:d,le=Z?Z.end:p;return new et(re,le)}}const M=D&&!D.is("rootElement"),U=R&&!R.is("rootElement");if(M||U){const W=d.nodeAfter&&p.nodeBefore&&d.nodeAfter.parent===p.nodeBefore.parent,Z=M&&(!W||!NU(d.nodeAfter,a)),re=U&&(!W||!NU(p.nodeBefore,a));let le=d,xe=p;return Z&&(le=at._createBefore(DU(D,a))),re&&(xe=at._createAfter(DU(R,a))),new et(le,xe)}return null}(f,t)}function DU(f,t){let s=f,a=s;for(;t.isLimit(a)&&a.parent;)s=a,a=a.parent;return s}function NU(f,t){return f&&t.isSelectable(f)}class hre extends ze(){constructor(t,s){super(),this.model=t,this.view=new ot(s),this.mapper=new aU,this.downcastDispatcher=new lU({mapper:this.mapper,schema:t.schema});const a=this.model.document,d=a.selection,p=this.model.markers;var w,k,D;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(a,"change",()=>{this.view.change(R=>{this.downcastDispatcher.convertChanges(a.differ,p,R),this.downcastDispatcher.convertSelection(d,p,R)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(R,M){return(U,W)=>{const Z=W.newSelection,re=[];for(const xe of Z.getRanges())re.push(M.toModelRange(xe));const le=R.createSelection(re,{backward:Z.isBackward});le.isEqual(R.document.selection)||R.change(xe=>{xe.setSelection(le)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(w=this.mapper,k=this.model.schema,D=this.view,(R,M)=>{if(!D.document.isComposing||y.isAndroid)for(let U=0;U<M.targetRanges.length;U++){const W=M.targetRanges[U],Z=w.toModelRange(W),re=CU(Z,k);re&&!re.isEqual(Z)&&(M.targetRanges[U]=w.toViewRange(re))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(R,M,U)=>{if(!U.consumable.consume(M.item,R.name))return;const W=U.writer,Z=U.mapper.toViewPosition(M.range.start),re=W.createText(M.item.data);W.insert(Z,re)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(R,M,U)=>{U.convertAttributes(M.item),M.reconversion||!M.item.is("element")||M.item.isEmpty||U.convertChildren(M.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(R,M,U)=>{const W=U.mapper.toViewPosition(M.position),Z=M.position.getShiftedBy(M.length),re=U.mapper.toViewPosition(Z,{isPhantom:!0}),le=U.writer.createRange(W,re),xe=U.writer.remove(le.getTrimmed());for(const Pe of U.writer.createRangeIn(xe).getItems())U.mapper.unbindViewElement(Pe,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(R,M,U)=>{const W=U.writer,Z=W.document.selection;for(const re of Z.getRanges())re.isCollapsed&&re.end.parent.isAttached()&&U.writer.mergeAttributes(re.start);W.setSelection(null)}),this.downcastDispatcher.on("selection",(R,M,U)=>{const W=M.selection;if(W.isCollapsed||!U.consumable.consume(W,"selection"))return;const Z=[];for(const re of W.getRanges())Z.push(U.mapper.toViewRange(re));U.writer.setSelection(Z,{backward:W.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(R,M,U)=>{const W=M.selection;if(!W.isCollapsed||!U.consumable.consume(W,"selection"))return;const Z=U.writer,re=W.getFirstPosition(),le=U.mapper.toViewPosition(re),xe=Z.breakAttributes(le);Z.setSelection(xe)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(R=>{if(R.rootName=="$graveyard")return null;const M=new Xy(this.view.document,R.name);return M.rootName=R.rootName,this.mapper.bindElements(R,M),M})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(t){const s=typeof t=="string"?t:t.name,a=this.model.markers.get(s);if(!a)throw new B("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:s});this.model.change(()=>{this.model.markers._refresh(a)})}reconvertItem(t){this.model.change(()=>{this.model.document.differ._refreshItem(t)})}}class a_{constructor(){this._consumables=new Map}add(t,s){let a;t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):(this._consumables.has(t)?a=this._consumables.get(t):(a=new fre(t),this._consumables.set(t,a)),a.add(s))}test(t,s){const a=this._consumables.get(t);return a===void 0?null:t.is("$text")||t.is("documentFragment")?a:a.test(s)}consume(t,s){return!!this.test(t,s)&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!1):this._consumables.get(t).consume(s),!0)}revert(t,s){const a=this._consumables.get(t);a!==void 0&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):a.revert(s))}static consumablesFromElement(t){const s={element:t,name:!0,attributes:[],classes:[],styles:[]},a=t.getAttributeKeys();for(const w of a)w!="style"&&w!="class"&&s.attributes.push(w);const d=t.getClassNames();for(const w of d)s.classes.push(w);const p=t.getStyleNames();for(const w of p)s.styles.push(w);return s}static createFrom(t,s){if(s||(s=new a_),t.is("$text"))return s.add(t),s;t.is("element")&&s.add(t,a_.consumablesFromElement(t)),t.is("documentFragment")&&s.add(t);for(const a of t.getChildren())s=a_.createFrom(a,s);return s}}const lT=["attributes","classes","styles"];class fre{constructor(t){this.element=t,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(t){t.name&&(this._canConsumeName=!0);for(const s of lT)s in t&&this._add(s,t[s])}test(t){if(t.name&&!this._canConsumeName)return this._canConsumeName;for(const s of lT)if(s in t){const a=this._test(s,t[s]);if(a!==!0)return a}return!0}consume(t){t.name&&(this._canConsumeName=!1);for(const s of lT)s in t&&this._consume(s,t[s])}revert(t){t.name&&(this._canConsumeName=!0);for(const s of lT)s in t&&this._revert(s,t[s])}_add(t,s){const a=qt(s)?s:[s],d=this._consumables[t];for(const p of a){if(t==="attributes"&&(p==="class"||p==="style"))throw new B("viewconsumable-invalid-attribute",this);if(d.set(p,!0),t==="styles")for(const w of this.element.document.stylesProcessor.getRelatedStyles(p))d.set(w,!0)}}_test(t,s){const a=qt(s)?s:[s],d=this._consumables[t];for(const p of a)if(t!=="attributes"||p!=="class"&&p!=="style"){const w=d.get(p);if(w===void 0)return null;if(!w)return!1}else{const w=p=="class"?"classes":"styles",k=this._test(w,[...this._consumables[w].keys()]);if(k!==!0)return k}return!0}_consume(t,s){const a=qt(s)?s:[s],d=this._consumables[t];for(const p of a)if(t!=="attributes"||p!=="class"&&p!=="style"){if(d.set(p,!1),t=="styles")for(const w of this.element.document.stylesProcessor.getRelatedStyles(p))d.set(w,!1)}else{const w=p=="class"?"classes":"styles";this._consume(w,[...this._consumables[w].keys()])}}_revert(t,s){const a=qt(s)?s:[s],d=this._consumables[t];for(const p of a)if(t!=="attributes"||p!=="class"&&p!=="style")d.get(p)===!1&&d.set(p,!0);else{const w=p=="class"?"classes":"styles";this._revert(w,[...this._consumables[w].keys()])}}}class pre extends ze(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(t,s)=>{s[0]=new Hg(s[0])},{priority:"highest"}),this.on("checkChild",(t,s)=>{s[0]=new Hg(s[0]),s[1]=this.getDefinition(s[1])},{priority:"highest"})}register(t,s){if(this._sourceDefinitions[t])throw new B("schema-cannot-register-item-twice",this,{itemName:t});this._sourceDefinitions[t]=[Object.assign({},s)],this._clearCache()}extend(t,s){if(!this._sourceDefinitions[t])throw new B("schema-cannot-extend-missing-item",this,{itemName:t});this._sourceDefinitions[t].push(Object.assign({},s)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(t){let s;return s=typeof t=="string"?t:"is"in t&&(t.is("$text")||t.is("$textProxy"))?"$text":t.name,this.getDefinitions()[s]}isRegistered(t){return!!this.getDefinition(t)}isBlock(t){const s=this.getDefinition(t);return!(!s||!s.isBlock)}isLimit(t){const s=this.getDefinition(t);return!!s&&!(!s.isLimit&&!s.isObject)}isObject(t){const s=this.getDefinition(t);return!!s&&!!(s.isObject||s.isLimit&&s.isSelectable&&s.isContent)}isInline(t){const s=this.getDefinition(t);return!(!s||!s.isInline)}isSelectable(t){const s=this.getDefinition(t);return!!s&&!(!s.isSelectable&&!s.isObject)}isContent(t){const s=this.getDefinition(t);return!!s&&!(!s.isContent&&!s.isObject)}checkChild(t,s){return!!s&&this._checkContextMatch(s,t)}checkAttribute(t,s){const a=this.getDefinition(t.last);return!!a&&a.allowAttributes.includes(s)}checkMerge(t,s){if(t instanceof at){const a=t.nodeBefore,d=t.nodeAfter;if(!(a instanceof en))throw new B("schema-check-merge-no-element-before",this);if(!(d instanceof en))throw new B("schema-check-merge-no-element-after",this);return this.checkMerge(a,d)}for(const a of s.getChildren())if(!this.checkChild(t,a))return!1;return!0}addChildCheck(t){this.on("checkChild",(s,[a,d])=>{if(!d)return;const p=t(a,d);typeof p=="boolean"&&(s.stop(),s.return=p)},{priority:"high"})}addAttributeCheck(t){this.on("checkAttribute",(s,[a,d])=>{const p=t(a,d);typeof p=="boolean"&&(s.stop(),s.return=p)},{priority:"high"})}setAttributeProperties(t,s){this._attributeProperties[t]=Object.assign(this.getAttributeProperties(t),s)}getAttributeProperties(t){return this._attributeProperties[t]||{}}getLimitElement(t){let s;for(t instanceof at?s=t.parent:s=(t instanceof et?[t]:Array.from(t.getRanges())).reduce((a,d)=>{const p=d.getCommonAncestor();return a?a.getCommonAncestor(p,{includeSelf:!0}):p},null);!this.isLimit(s)&&s.parent;)s=s.parent;return s}checkAttributeInSelection(t,s){if(t.isCollapsed){const a=[...t.getFirstPosition().getAncestors(),new Wt("",t.getAttributes())];return this.checkAttribute(a,s)}{const a=t.getRanges();for(const d of a)for(const p of d)if(this.checkAttribute(p.item,s))return!0}return!1}*getValidRanges(t,s){t=function*(a){for(const d of a)yield*d.getMinimalFlatRanges()}(t);for(const a of t)yield*this._getValidRangesForRange(a,s)}getNearestSelectionRange(t,s="both"){if(t.root.rootName=="$graveyard")return null;if(this.checkChild(t,"$text"))return new et(t);let a,d;const p=t.getAncestors().reverse().find(w=>this.isLimit(w))||t.root;s!="both"&&s!="backward"||(a=new Vl({boundaries:et._createIn(p),startPosition:t,direction:"backward"})),s!="both"&&s!="forward"||(d=new Vl({boundaries:et._createIn(p),startPosition:t}));for(const w of function*(k,D){let R=!1;for(;!R;){if(R=!0,k){const M=k.next();M.done||(R=!1,yield{walker:k,value:M.value})}if(D){const M=D.next();M.done||(R=!1,yield{walker:D,value:M.value})}}}(a,d)){const k=w.walker==a?"elementEnd":"elementStart",D=w.value;if(D.type==k&&this.isObject(D.item))return et._createOn(D.item);if(this.checkChild(D.nextPosition,"$text"))return new et(D.nextPosition)}return null}findAllowedParent(t,s){let a=t.parent;for(;a;){if(this.checkChild(a,s))return a;if(this.isLimit(a))return null;a=a.parent}return null}setAllowedAttributes(t,s,a){const d=a.model;for(const[p,w]of Object.entries(s))d.schema.checkAttribute(t,p)&&a.setAttribute(p,w,t)}removeDisallowedAttributes(t,s){for(const a of t)if(a.is("$text"))PU(this,a,s);else{const d=et._createIn(a).getPositions();for(const p of d)PU(this,p.nodeBefore||p.parent,s)}}getAttributesWithProperty(t,s,a){const d={};for(const[p,w]of t.getAttributes()){const k=this.getAttributeProperties(p);k[s]!==void 0&&(a!==void 0&&a!==k[s]||(d[p]=w))}return d}createContext(t){return new Hg(t)}_clearCache(){this._compiledDefinitions=null}_compile(){const t={},s=this._sourceDefinitions,a=Object.keys(s);for(const d of a)t[d]=mre(s[d],d);for(const d of a)gre(t,d);for(const d of a)bre(t,d);for(const d of a)yre(t,d);for(const d of a)vre(t,d),wre(t,d);for(const d of a)xre(t,d),_re(t,d),kre(t,d);this._compiledDefinitions=t}_checkContextMatch(t,s,a=s.length-1){const d=s.getItem(a);if(t.allowIn.includes(d.name)){if(a==0)return!0;{const p=this.getDefinition(d);return this._checkContextMatch(p,s,a-1)}}return!1}*_getValidRangesForRange(t,s){let a=t.start,d=t.start;for(const p of t.getItems({shallow:!0}))p.is("element")&&(yield*this._getValidRangesForRange(et._createIn(p),s)),this.checkAttribute(p,s)||(a.isEqual(d)||(yield new et(a,d)),a=at._createAfter(p)),d=at._createAfter(p);a.isEqual(d)||(yield new et(a,d))}}class Hg{constructor(t){if(t instanceof Hg)return t;let s;s=typeof t=="string"?[t]:Array.isArray(t)?t:t.getAncestors({includeSelf:!0}),this._items=s.map(Sre)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(t){const s=new Hg([t]);return s._items=[...this._items,...s._items],s}getItem(t){return this._items[t]}*getNames(){yield*this._items.map(t=>t.name)}endsWith(t){return Array.from(this.getNames()).join(" ").endsWith(t)}startsWith(t){return Array.from(this.getNames()).join(" ").startsWith(t)}}function mre(f,t){const s={name:t,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(a,d){for(const p of a){const w=Object.keys(p).filter(k=>k.startsWith("is"));for(const k of w)d[k]=!!p[k]}}(f,s),Gg(f,s,"allowIn"),Gg(f,s,"allowContentOf"),Gg(f,s,"allowWhere"),Gg(f,s,"allowAttributes"),Gg(f,s,"allowAttributesOf"),Gg(f,s,"allowChildren"),Gg(f,s,"inheritTypesFrom"),function(a,d){for(const p of a){const w=p.inheritAllFrom;w&&(d.allowContentOf.push(w),d.allowWhere.push(w),d.allowAttributesOf.push(w),d.inheritTypesFrom.push(w))}}(f,s),s}function gre(f,t){const s=f[t];for(const a of s.allowChildren){const d=f[a];d&&d.allowIn.push(t)}s.allowChildren.length=0}function bre(f,t){for(const s of f[t].allowContentOf)f[s]&&Ere(f,s).forEach(a=>{a.allowIn.push(t)});delete f[t].allowContentOf}function yre(f,t){for(const s of f[t].allowWhere){const a=f[s];if(a){const d=a.allowIn;f[t].allowIn.push(...d)}}delete f[t].allowWhere}function vre(f,t){for(const s of f[t].allowAttributesOf){const a=f[s];if(a){const d=a.allowAttributes;f[t].allowAttributes.push(...d)}}delete f[t].allowAttributesOf}function wre(f,t){const s=f[t];for(const a of s.inheritTypesFrom){const d=f[a];if(d){const p=Object.keys(d).filter(w=>w.startsWith("is"));for(const w of p)w in s||(s[w]=d[w])}}delete s.inheritTypesFrom}function xre(f,t){const s=f[t],a=s.allowIn.filter(d=>f[d]);s.allowIn=Array.from(new Set(a))}function _re(f,t){const s=f[t];for(const a of s.allowIn)f[a].allowChildren.push(t)}function kre(f,t){const s=f[t];s.allowAttributes=Array.from(new Set(s.allowAttributes))}function Gg(f,t,s){for(const a of f){const d=a[s];typeof d=="string"?t[s].push(d):Array.isArray(d)&&t[s].push(...d)}}function Ere(f,t){const s=f[t];return(a=f,Object.keys(a).map(d=>a[d])).filter(d=>d.allowIn.includes(s.name));var a}function Sre(f){return typeof f=="string"||f.is("documentFragment")?{name:typeof f=="string"?f:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:f.is("element")?f.name:"$text",*getAttributeKeys(){yield*f.getAttributeKeys()},getAttribute:t=>f.getAttribute(t)}}function PU(f,t,s){for(const a of t.getAttributeKeys())f.checkAttribute(t,a)||s.removeAttribute(a,t)}class Are extends X(){constructor(t){super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi={...t,consumable:null,writer:null,store:null,convertItem:(s,a)=>this._convertItem(s,a),convertChildren:(s,a)=>this._convertChildren(s,a),safeInsert:(s,a)=>this._safeInsert(s,a),updateConversionResult:(s,a)=>this._updateConversionResult(s,a),splitToAllowedParent:(s,a)=>this._splitToAllowedParent(s,a),getSplitParts:s=>this._getSplitParts(s),keepEmptyElement:s=>this._keepEmptyElement(s)}}convert(t,s,a=["$root"]){this.fire("viewCleanup",t),this._modelCursor=function(w,k){let D;for(const R of new Hg(w)){const M={};for(const W of R.getAttributeKeys())M[W]=R.getAttribute(W);const U=k.createElement(R.name,M);D&&k.insert(U,D),D=at._createAt(U,0)}return D}(a,s),this.conversionApi.writer=s,this.conversionApi.consumable=a_.createFrom(t),this.conversionApi.store={};const{modelRange:d}=this._convertItem(t,this._modelCursor),p=s.createDocumentFragment();if(d){this._removeEmptyElements();for(const w of Array.from(this._modelCursor.parent.getChildren()))s.append(w,p);p.markers=function(w,k){const D=new Set,R=new Map,M=et._createIn(w).getItems();for(const U of M)U.is("element","$marker")&&D.add(U);for(const U of D){const W=U.getAttribute("data-name"),Z=k.createPositionBefore(U);R.has(W)?R.get(W).end=Z.clone():R.set(W,new et(Z.clone())),k.remove(U)}return R}(p,s)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,p}_convertItem(t,s){const a={viewItem:t,modelCursor:s,modelRange:null};if(t.is("element")?this.fire(`element:${t.name}`,a,this.conversionApi):t.is("$text")?this.fire("text",a,this.conversionApi):this.fire("documentFragment",a,this.conversionApi),a.modelRange&&!(a.modelRange instanceof et))throw new B("view-conversion-dispatcher-incorrect-result",this);return{modelRange:a.modelRange,modelCursor:a.modelCursor}}_convertChildren(t,s){let a=s.is("position")?s:at._createAt(s,0);const d=new et(a);for(const p of Array.from(t.getChildren())){const w=this._convertItem(p,a);w.modelRange instanceof et&&(d.end=w.modelRange.end,a=w.modelCursor)}return{modelRange:d,modelCursor:a}}_safeInsert(t,s){const a=this._splitToAllowedParent(t,s);return!!a&&(this.conversionApi.writer.insert(t,a.position),!0)}_updateConversionResult(t,s){const a=this._getSplitParts(t),d=this.conversionApi.writer;s.modelRange||(s.modelRange=d.createRange(d.createPositionBefore(t),d.createPositionAfter(a[a.length-1])));const p=this._cursorParents.get(t);s.modelCursor=p?d.createPositionAt(p,0):s.modelRange.end}_splitToAllowedParent(t,s){const{schema:a,writer:d}=this.conversionApi;let p=a.findAllowedParent(s,t);if(p){if(p===s.parent)return{position:s};this._modelCursor.parent.getAncestors().includes(p)&&(p=null)}if(!p)return _U(s,t,a)?{position:kU(s,d)}:null;const w=this.conversionApi.writer.split(s,p),k=[];for(const R of w.range.getWalker())if(R.type=="elementEnd")k.push(R.item);else{const M=k.pop(),U=R.item;this._registerSplitPair(M,U)}const D=w.range.end.parent;return this._cursorParents.set(t,D),{position:w.position,cursorParent:D}}_registerSplitPair(t,s){this._splitParts.has(t)||this._splitParts.set(t,[t]);const a=this._splitParts.get(t);this._splitParts.set(s,a),a.push(s)}_getSplitParts(t){let s;return s=this._splitParts.has(t)?this._splitParts.get(t):[t],s}_keepEmptyElement(t){this._emptyElementsToKeep.add(t)}_removeEmptyElements(){let t=!1;for(const s of this._splitParts.keys())s.isEmpty&&!this._emptyElementsToKeep.has(s)&&(this.conversionApi.writer.remove(s),this._splitParts.delete(s),t=!0);t&&this._removeEmptyElements()}}class Tre{getHtml(t){const s=document.implementation.createHTMLDocument("").createElement("div");return s.appendChild(t),s.innerHTML}}class Cre{constructor(t){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new nT(t,{renderingMode:"data"}),this.htmlWriter=new Tre}toData(t){const s=this.domConverter.viewToDom(t);return this.htmlWriter.getHtml(s)}toView(t){const s=this._toDom(t);return this.domConverter.domToView(s,{skipComments:this.skipComments})}registerRawContentMatcher(t){this.domConverter.registerRawContentMatcher(t)}useFillerType(t){this.domConverter.blockFillerMode=t=="marked"?"markedNbsp":"nbsp"}_toDom(t){t.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(t=`<body>${t}</body>`);const s=this.domParser.parseFromString(t,"text/html"),a=s.createDocumentFragment(),d=s.body.childNodes;for(;d.length>0;)a.appendChild(d[0]);return a}}class Dre extends X(){constructor(t,s){super(),this.model=t,this.mapper=new aU,this.downcastDispatcher=new lU({mapper:this.mapper,schema:t.schema}),this.downcastDispatcher.on("insert:$text",(a,d,p)=>{if(!p.consumable.consume(d.item,a.name))return;const w=p.writer,k=p.mapper.toViewPosition(d.range.start),D=w.createText(d.item.data);w.insert(k,D)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(a,d,p)=>{p.convertAttributes(d.item),d.reconversion||!d.item.is("element")||d.item.isEmpty||p.convertChildren(d.item)},{priority:"lowest"}),this.upcastDispatcher=new Are({schema:t.schema}),this.viewDocument=new Dr(s),this.stylesProcessor=s,this.htmlProcessor=new Cre(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new Lg(this.viewDocument),this.upcastDispatcher.on("text",(a,d,{schema:p,consumable:w,writer:k})=>{let D=d.modelCursor;if(!w.test(d.viewItem))return;if(!p.checkChild(D,"$text")){if(!_U(D,"$text",p)||d.viewItem.data.trim().length==0)return;const M=D.nodeBefore;D=kU(D,k),M&&M.is("element","$marker")&&(k.move(k.createRangeOn(M),D),D=k.createPositionAfter(M))}w.consume(d.viewItem);const R=k.createText(d.viewItem.data);k.insert(R,D),d.modelRange=k.createRange(D,D.getShiftedBy(R.offsetSize)),d.modelCursor=d.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(a,d,p)=>{if(!d.modelRange&&p.consumable.consume(d.viewItem,{name:!0})){const{modelRange:w,modelCursor:k}=p.convertChildren(d.viewItem,d.modelCursor);d.modelRange=w,d.modelCursor=k}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(a,d,p)=>{if(!d.modelRange&&p.consumable.consume(d.viewItem,{name:!0})){const{modelRange:w,modelCursor:k}=p.convertChildren(d.viewItem,d.modelCursor);d.modelRange=w,d.modelCursor=k}},{priority:"lowest"}),ze().prototype.decorate.call(this,"init"),ze().prototype.decorate.call(this,"set"),ze().prototype.decorate.call(this,"get"),ze().prototype.decorate.call(this,"toView"),ze().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},xU)},{priority:"lowest"})}get(t={}){const{rootName:s="main",trim:a="empty"}=t;if(!this._checkIfRootsExists([s]))throw new B("datacontroller-get-non-existent-root",this);const d=this.model.document.getRoot(s);return d.isAttached()||Y("datacontroller-get-detached-root",this),a!=="empty"||this.model.hasContent(d,{ignoreWhitespaces:!0})?this.stringify(d,t):""}stringify(t,s={}){const a=this.toView(t,s);return this.processor.toData(a)}toView(t,s={}){const a=this.viewDocument,d=this._viewWriter;this.mapper.clearBindings();const p=et._createIn(t),w=new kt(a);this.mapper.bindElements(t,w);const k=t.is("documentFragment")?t.markers:function(D){const R=[],M=D.root.document;if(!M)return new Map;const U=et._createIn(D);for(const W of M.model.markers){const Z=W.getRange(),re=Z.isCollapsed,le=Z.start.isEqual(U.start)||Z.end.isEqual(U.end);if(re&&le)R.push([W.name,Z]);else{const xe=U.getIntersection(Z);xe&&R.push([W.name,xe])}}return R.sort(([W,Z],[re,le])=>{if(Z.end.compareWith(le.start)!=="after")return 1;if(Z.start.compareWith(le.end)!=="before")return-1;switch(Z.start.compareWith(le.start)){case"before":return 1;case"after":return-1;default:switch(Z.end.compareWith(le.end)){case"before":return 1;case"after":return-1;default:return re.localeCompare(W)}}}),new Map(R)}(t);return this.downcastDispatcher.convert(p,k,d,s),w}init(t){if(this.model.document.version)throw new B("datacontroller-init-document-not-empty",this);let s={};if(typeof t=="string"?s.main=t:s=t,!this._checkIfRootsExists(Object.keys(s)))throw new B("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},a=>{for(const d of Object.keys(s)){const p=this.model.document.getRoot(d);a.insert(this.parse(s[d],p),p,0)}}),Promise.resolve()}set(t,s={}){let a={};if(typeof t=="string"?a.main=t:a=t,!this._checkIfRootsExists(Object.keys(a)))throw new B("datacontroller-set-non-existent-root",this);this.model.enqueueChange(s.batchType||{},d=>{d.setSelection(null),d.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const p of Object.keys(a)){const w=this.model.document.getRoot(p);d.remove(d.createRangeIn(w)),d.insert(this.parse(a[p],w),w,0)}})}parse(t,s="$root"){const a=this.processor.toView(t);return this.toModel(a,s)}toModel(t,s="$root"){return this.model.change(a=>this.upcastDispatcher.convert(t,a,s))}addStyleProcessorRules(t){t(this.stylesProcessor)}registerRawContentMatcher(t){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(t),this.htmlProcessor.registerRawContentMatcher(t)}destroy(){this.stopListening()}_checkIfRootsExists(t){for(const s of t)if(!this.model.document.getRoot(s))return!1;return!0}}class Nre{constructor(t,s){this._helpers=new Map,this._downcast=$n(t),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=$n(s),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(t,s){const a=this._downcast.includes(s);if(!this._upcast.includes(s)&&!a)throw new B("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:t,dispatchers:[s],isDowncast:a})}for(t){if(!this._helpers.has(t))throw new B("conversion-for-unknown-group",this);return this._helpers.get(t)}elementToElement(t){this.for("downcast").elementToElement(t);for(const{model:s,view:a}of qP(t))this.for("upcast").elementToElement({model:s,view:a,converterPriority:t.converterPriority})}attributeToElement(t){this.for("downcast").attributeToElement(t);for(const{model:s,view:a}of qP(t))this.for("upcast").elementToAttribute({view:a,model:s,converterPriority:t.converterPriority})}attributeToAttribute(t){this.for("downcast").attributeToAttribute(t);for(const{model:s,view:a}of qP(t))this.for("upcast").attributeToAttribute({view:a,model:s})}_createConversionHelpers({name:t,dispatchers:s,isDowncast:a}){if(this._helpers.has(t))throw new B("conversion-group-exists",this);const d=a?new are(s):new ure(s);this._helpers.set(t,d)}}function*qP(f){if(f.model.values)for(const t of f.model.values){const s={key:f.model.key,value:t},a=f.view[t],d=f.upcastAlso?f.upcastAlso[t]:void 0;yield*IU(s,a,d)}else yield*IU(f.model,f.view,f.upcastAlso)}function*IU(f,t,s){if(yield{model:f,view:t},s)for(const a of $n(s))yield{model:f,view:a}}class Ha{constructor(t){this.baseVersion=t,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const t=Object.assign({},this);return t.__className=this.constructor.className,delete t.batch,delete t.isDocumentOperation,t}static get className(){return"Operation"}static fromJSON(t,s){return new this(t.baseVersion)}}function HP(f,t){const s=RU(t),a=s.reduce((w,k)=>w+k.offsetSize,0),d=f.parent;u_(f);const p=f.index;return d._insertChild(p,s),c_(d,p+s.length),c_(d,p),new et(f,f.getShiftedBy(a))}function jU(f){if(!f.isFlat)throw new B("operation-utils-remove-range-not-flat",this);const t=f.start.parent;u_(f.start),u_(f.end);const s=t._removeChildren(f.start.index,f.end.index-f.start.index);return c_(t,f.start.index),s}function l_(f,t){if(!f.isFlat)throw new B("operation-utils-move-range-not-flat",this);const s=jU(f);return HP(t=t._getTransformedByDeletion(f.start,f.end.offset-f.start.offset),s)}function RU(f){const t=[];(function s(a){if(typeof a=="string")t.push(new Wt(a));else if(a instanceof Yt)t.push(new Wt(a.data,a.getAttributes()));else if(a instanceof Tt)t.push(a);else if(Ne(a))for(const d of a)s(d)})(f);for(let s=1;s<t.length;s++){const a=t[s],d=t[s-1];a instanceof Wt&&d instanceof Wt&&MU(a,d)&&(t.splice(s-1,2,new Wt(d.data+a.data,d.getAttributes())),s--)}return t}function c_(f,t){const s=f.getChild(t-1),a=f.getChild(t);if(s&&a&&s.is("$text")&&a.is("$text")&&MU(s,a)){const d=new Wt(s.data+a.data,s.getAttributes());f._removeChildren(t-1,2),f._insertChild(t-1,d)}}function u_(f){const t=f.textNode,s=f.parent;if(t){const a=f.offset-t.startOffset,d=t.index;s._removeChildren(d,1);const p=new Wt(t.data.substr(0,a),t.getAttributes()),w=new Wt(t.data.substr(a),t.getAttributes());s._insertChild(d,[p,w])}}function MU(f,t){const s=f.getAttributes(),a=t.getAttributes();for(const d of s){if(d[1]!==t.getAttribute(d[0]))return!1;a.next()}return a.next().done}class Hn extends Ha{constructor(t,s,a,d){super(d),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toNext",this.howMany=s,this.targetPosition=a.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[et._createFromPositionAndShift(this.sourcePosition,this.howMany),et._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new Hn(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Hn(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1)}_validate(){const t=this.sourcePosition.parent,s=this.targetPosition.parent,a=this.sourcePosition.offset,d=this.targetPosition.offset;if(a+this.howMany>t.maxOffset)throw new B("move-operation-nodes-do-not-exist",this);if(t===s&&a<d&&d<a+this.howMany)throw new B("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&$e(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const p=this.sourcePosition.path.length-1;if(this.targetPosition.path[p]>=a&&this.targetPosition.path[p]<a+this.howMany)throw new B("move-operation-node-into-itself",this)}}_execute(){l_(et._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t.targetPosition=this.targetPosition.toJSON(),t}static get className(){return"MoveOperation"}static fromJSON(t,s){const a=at.fromJSON(t.sourcePosition,s),d=at.fromJSON(t.targetPosition,s);return new this(a,t.howMany,d,t.baseVersion)}}class rs extends Ha{constructor(t,s,a){super(a),this.position=t.clone(),this.position.stickiness="toNone",this.nodes=new fn(RU(s)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const t=new fn([...this.nodes].map(a=>a._clone(!0))),s=new rs(this.position,t,this.baseVersion);return s.shouldReceiveAttributes=this.shouldReceiveAttributes,s}getReversed(){const t=this.position.root.document.graveyard,s=new at(t,[0]);return new Hn(this.position,this.nodes.maxOffset,s,this.baseVersion+1)}_validate(){const t=this.position.parent;if(!t||t.maxOffset<this.position.offset)throw new B("insert-operation-position-invalid",this)}_execute(){const t=this.nodes;this.nodes=new fn([...t].map(s=>s._clone(!0))),HP(this.position,t)}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t.nodes=this.nodes.toJSON(),t}static get className(){return"InsertOperation"}static fromJSON(t,s){const a=[];for(const p of t.nodes)p.name?a.push(en.fromJSON(p)):a.push(Wt.fromJSON(p));const d=new rs(at.fromJSON(t.position,s),a,t.baseVersion);return d.shouldReceiveAttributes=t.shouldReceiveAttributes,d}}class di extends Ha{constructor(t,s,a,d,p){super(p),this.splitPosition=t.clone(),this.splitPosition.stickiness="toNext",this.howMany=s,this.insertionPosition=a,this.graveyardPosition=d?d.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const t=this.insertionPosition.path.slice();return t.push(0),new at(this.insertionPosition.root,t)}get movedRange(){const t=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new et(this.splitPosition,t)}get affectedSelectable(){const t=[et._createFromPositionAndShift(this.splitPosition,0),et._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&t.push(et._createFromPositionAndShift(this.graveyardPosition,0)),t}clone(){return new di(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=this.splitPosition.root.document.graveyard,s=new at(t,[0]);return new cr(this.moveTargetPosition,this.howMany,this.splitPosition,s,this.baseVersion+1)}_validate(){const t=this.splitPosition.parent,s=this.splitPosition.offset;if(!t||t.maxOffset<s)throw new B("split-operation-position-invalid",this);if(!t.parent)throw new B("split-operation-split-in-root",this);if(this.howMany!=t.maxOffset-this.splitPosition.offset)throw new B("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new B("split-operation-graveyard-position-invalid",this)}_execute(){const t=this.splitPosition.parent;if(this.graveyardPosition)l_(et._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const s=t._clone();HP(this.insertionPosition,s)}l_(new et(at._createAt(t,this.splitPosition.offset),at._createAt(t,t.maxOffset)),this.moveTargetPosition)}toJSON(){const t=super.toJSON();return t.splitPosition=this.splitPosition.toJSON(),t.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(t.graveyardPosition=this.graveyardPosition.toJSON()),t}static get className(){return"SplitOperation"}static getInsertionPosition(t){const s=t.path.slice(0,-1);return s[s.length-1]++,new at(t.root,s,"toPrevious")}static fromJSON(t,s){const a=at.fromJSON(t.splitPosition,s),d=at.fromJSON(t.insertionPosition,s),p=t.graveyardPosition?at.fromJSON(t.graveyardPosition,s):null;return new this(a,t.howMany,d,p,t.baseVersion)}}class cr extends Ha{constructor(t,s,a,d,p){super(p),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=s,this.targetPosition=a.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=d.clone()}get type(){return"merge"}get deletionPosition(){return new at(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const t=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new et(this.sourcePosition,t)}get affectedSelectable(){const t=this.sourcePosition.parent;return[et._createOn(t),et._createFromPositionAndShift(this.targetPosition,0),et._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new cr(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=this.targetPosition._getTransformedByMergeOperation(this),s=this.sourcePosition.path.slice(0,-1),a=new at(this.sourcePosition.root,s)._getTransformedByMergeOperation(this);return new di(t,this.howMany,a,this.graveyardPosition,this.baseVersion+1)}_validate(){const t=this.sourcePosition.parent,s=this.targetPosition.parent;if(!t.parent)throw new B("merge-operation-source-position-invalid",this);if(!s.parent)throw new B("merge-operation-target-position-invalid",this);if(this.howMany!=t.maxOffset)throw new B("merge-operation-how-many-invalid",this)}_execute(){const t=this.sourcePosition.parent;l_(et._createIn(t),this.targetPosition),l_(et._createOn(t),this.graveyardPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=t.sourcePosition.toJSON(),t.targetPosition=t.targetPosition.toJSON(),t.graveyardPosition=t.graveyardPosition.toJSON(),t}static get className(){return"MergeOperation"}static fromJSON(t,s){const a=at.fromJSON(t.sourcePosition,s),d=at.fromJSON(t.targetPosition,s),p=at.fromJSON(t.graveyardPosition,s);return new this(a,t.howMany,d,p,t.baseVersion)}}class aa extends Ha{constructor(t,s,a,d,p,w){super(w),this.name=t,this.oldRange=s?s.clone():null,this.newRange=a?a.clone():null,this.affectsData=p,this._markers=d}get type(){return"marker"}get affectedSelectable(){const t=[];return this.oldRange&&t.push(this.oldRange.clone()),this.newRange&&(this.oldRange?t.push(...this.newRange.getDifference(this.oldRange)):t.push(this.newRange.clone())),t}clone(){return new aa(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new aa(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const t=super.toJSON();return this.oldRange&&(t.oldRange=this.oldRange.toJSON()),this.newRange&&(t.newRange=this.newRange.toJSON()),delete t._markers,t}static get className(){return"MarkerOperation"}static fromJSON(t,s){return new aa(t.name,t.oldRange?et.fromJSON(t.oldRange,s):null,t.newRange?et.fromJSON(t.newRange,s):null,s.model.markers,t.affectsData,t.baseVersion)}}const OU=function(f,t){return De(f,t)};class gr extends Ha{constructor(t,s,a,d,p){super(p),this.range=t.clone(),this.key=s,this.oldValue=a===void 0?null:a,this.newValue=d===void 0?null:d}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new gr(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new gr(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const t=super.toJSON();return t.range=this.range.toJSON(),t}_validate(){if(!this.range.isFlat)throw new B("attribute-operation-range-not-flat",this);for(const t of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!OU(t.getAttribute(this.key),this.oldValue))throw new B("attribute-operation-wrong-old-value",this,{item:t,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&t.hasAttribute(this.key))throw new B("attribute-operation-attribute-exists",this,{node:t,key:this.key})}}_execute(){OU(this.oldValue,this.newValue)||function(t,s,a){u_(t.start),u_(t.end);for(const d of t.getItems({shallow:!0})){const p=d.is("$textProxy")?d.textNode:d;a!==null?p._setAttribute(s,a):p._removeAttribute(s),c_(p.parent,p.index)}c_(t.end.parent,t.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(t,s){return new gr(et.fromJSON(t.range,s),t.key,t.oldValue,t.newValue,t.baseVersion)}}class Vr extends Ha{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new Vr(this.baseVersion)}getReversed(){return new Vr(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class la extends Ha{constructor(t,s,a,d){super(d),this.position=t,this.position.stickiness="toNext",this.oldName=s,this.newName=a}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new la(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new la(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const t=this.position.nodeAfter;if(!(t instanceof en))throw new B("rename-operation-wrong-position",this);if(t.name!==this.oldName)throw new B("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t}static get className(){return"RenameOperation"}static fromJSON(t,s){return new la(at.fromJSON(t.position,s),t.oldName,t.newName,t.baseVersion)}}class fh extends Ha{constructor(t,s,a,d,p){super(p),this.root=t,this.key=s,this.oldValue=a===void 0?null:a,this.newValue=d===void 0?null:d}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new fh(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new fh(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new B("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new B("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new B("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const t=super.toJSON();return t.root=this.root.toJSON(),t}static get className(){return"RootAttributeOperation"}static fromJSON(t,s){if(!s.getRoot(t.root))throw new B("rootattribute-operation-fromjson-no-root",this,{rootName:t.root});return new fh(s.getRoot(t.root),t.key,t.oldValue,t.newValue,t.baseVersion)}}class Gu extends Ha{constructor(t,s,a,d,p){super(p),this.rootName=t,this.elementName=s,this.isAdd=a,this._document=d,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new Gu(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Gu(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const t=super.toJSON();return delete t._document,t}static get className(){return"RootOperation"}static fromJSON(t,s){return new Gu(t.rootName,t.elementName,t.isAdd,s,t.baseVersion)}}const Wl={};Wl[gr.className]=gr,Wl[rs.className]=rs,Wl[aa.className]=aa,Wl[Hn.className]=Hn,Wl[Vr.className]=Vr,Wl[Ha.className]=Ha,Wl[la.className]=la,Wl[fh.className]=fh,Wl[Gu.className]=Gu,Wl[di.className]=di,Wl[cr.className]=cr;class Pre{static fromJSON(t,s){return Wl[t.__className].fromJSON(t,s)}}const GP=new Map;function Rn(f,t,s){let a=GP.get(f);a||(a=new Map,GP.set(f,a)),a.set(t,s)}function Ire(f){return[f]}function FU(f,t,s={}){const a=function(d,p){const w=GP.get(d);return w&&w.has(p)?w.get(p):Ire}(f.constructor,t.constructor);try{return a(f=f.clone(),t,s)}catch(d){throw d}}function jre(f,t,s){f=f.slice(),t=t.slice();const a=new Rre(s.document,s.useRelations,s.forceWeakRemove);a.setOriginalOperations(f),a.setOriginalOperations(t);const d=a.originalOperations;if(f.length==0||t.length==0)return{operationsA:f,operationsB:t,originalOperations:d};const p=new WeakMap;for(const D of f)p.set(D,0);const w={nextBaseVersionA:f[f.length-1].baseVersion+1,nextBaseVersionB:t[t.length-1].baseVersion+1,originalOperationsACount:f.length,originalOperationsBCount:t.length};let k=0;for(;k<f.length;){const D=f[k],R=p.get(D);if(R==t.length){k++;continue}const M=t[R],U=FU(D,M,a.getContext(D,M,!0)),W=FU(M,D,a.getContext(M,D,!1));a.updateRelation(D,M),a.setOriginalOperations(U,D),a.setOriginalOperations(W,M);for(const Z of U)p.set(Z,R+W.length);f.splice(k,1,...U),t.splice(R,1,...W)}return LU(f,w.nextBaseVersionB),LU(t,w.nextBaseVersionA),{operationsA:f,operationsB:t,originalOperations:d}}class Rre{constructor(t,s,a=!1){this.originalOperations=new Map,this._history=t.history,this._useRelations=s,this._forceWeakRemove=!!a,this._relations=new Map}setOriginalOperations(t,s=null){const a=s?this.originalOperations.get(s):null;for(const d of t)this.originalOperations.set(d,a||d)}updateRelation(t,s){if(t instanceof Hn)s instanceof cr?t.targetPosition.isEqual(s.sourcePosition)||s.movedRange.containsPosition(t.targetPosition)?this._setRelation(t,s,"insertAtSource"):t.targetPosition.isEqual(s.deletionPosition)?this._setRelation(t,s,"insertBetween"):t.targetPosition.isAfter(s.sourcePosition)&&this._setRelation(t,s,"moveTargetAfter"):s instanceof Hn&&(t.targetPosition.isEqual(s.sourcePosition)||t.targetPosition.isBefore(s.sourcePosition)?this._setRelation(t,s,"insertBefore"):this._setRelation(t,s,"insertAfter"));else if(t instanceof di){if(s instanceof cr)t.splitPosition.isBefore(s.sourcePosition)&&this._setRelation(t,s,"splitBefore");else if(s instanceof Hn)if(t.splitPosition.isEqual(s.sourcePosition)||t.splitPosition.isBefore(s.sourcePosition))this._setRelation(t,s,"splitBefore");else{const a=et._createFromPositionAndShift(s.sourcePosition,s.howMany);if(t.splitPosition.hasSameParentAs(s.sourcePosition)&&a.containsPosition(t.splitPosition)){const d=a.end.offset-t.splitPosition.offset,p=t.splitPosition.offset-a.start.offset;this._setRelation(t,s,{howMany:d,offset:p})}}}else if(t instanceof cr)s instanceof cr?(t.targetPosition.isEqual(s.sourcePosition)||this._setRelation(t,s,"mergeTargetNotMoved"),t.sourcePosition.isEqual(s.targetPosition)&&this._setRelation(t,s,"mergeSourceNotMoved"),t.sourcePosition.isEqual(s.sourcePosition)&&this._setRelation(t,s,"mergeSameElement")):s instanceof di&&t.sourcePosition.isEqual(s.splitPosition)&&this._setRelation(t,s,"splitAtSource");else if(t instanceof aa){const a=t.newRange;if(!a)return;if(s instanceof Hn){const d=et._createFromPositionAndShift(s.sourcePosition,s.howMany),p=d.containsPosition(a.start)||d.start.isEqual(a.start),w=d.containsPosition(a.end)||d.end.isEqual(a.end);!p&&!w||d.containsRange(a)||this._setRelation(t,s,{side:p?"left":"right",path:p?a.start.path.slice():a.end.path.slice()})}else if(s instanceof cr){const d=a.start.isEqual(s.targetPosition),p=a.start.isEqual(s.deletionPosition),w=a.end.isEqual(s.deletionPosition),k=a.end.isEqual(s.sourcePosition);(d||p||w||k)&&this._setRelation(t,s,{wasInLeftElement:d,wasStartBeforeMergedElement:p,wasEndBeforeMergedElement:w,wasInRightElement:k})}}}getContext(t,s,a){return{aIsStrong:a,aWasUndone:this._wasUndone(t),bWasUndone:this._wasUndone(s),abRelation:this._useRelations?this._getRelation(t,s):null,baRelation:this._useRelations?this._getRelation(s,t):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(t){const s=this.originalOperations.get(t);return s.wasUndone||this._history.isUndoneOperation(s)}_getRelation(t,s){const a=this.originalOperations.get(s),d=this._history.getUndoneOperation(a);if(!d)return null;const p=this.originalOperations.get(t),w=this._relations.get(p);return w&&w.get(d)||null}_setRelation(t,s,a){const d=this.originalOperations.get(t),p=this.originalOperations.get(s);let w=this._relations.get(d);w||(w=new Map,this._relations.set(d,w)),w.set(p,a)}}function LU(f,t){for(const s of f)s.baseVersion=t++}function UU(f,t,s){const a=f.nodes.getNode(0).getAttribute(t);if(a==s)return null;const d=new et(f.position,f.position.getShiftedBy(f.howMany));return new gr(d,t,a,s,0)}function BU(f,t){return f.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)===null}function ov(f,t){const s=[];for(let a=0;a<f.length;a++){const d=f[a],p=new Hn(d.start,d.end.offset-d.start.offset,t,0);s.push(p);for(let w=a+1;w<f.length;w++)f[w]=f[w]._getTransformedByMove(p.sourcePosition,p.targetPosition,p.howMany)[0];t=t._getTransformedByMove(p.sourcePosition,p.targetPosition,p.howMany)}return s}Rn(gr,gr,(f,t,s)=>{if(f.key===t.key&&f.range.start.hasSameParentAs(t.range.start)){const a=f.range.getDifference(t.range).map(p=>new gr(p,f.key,f.oldValue,f.newValue,0)),d=f.range.getIntersection(t.range);return d&&s.aIsStrong&&a.push(new gr(d,t.key,t.newValue,f.newValue,0)),a.length==0?[new Vr(0)]:a}return[f]}),Rn(gr,rs,(f,t)=>{if(f.range.start.hasSameParentAs(t.position)&&f.range.containsPosition(t.position)){const s=f.range._getTransformedByInsertion(t.position,t.howMany,!t.shouldReceiveAttributes).map(a=>new gr(a,f.key,f.oldValue,f.newValue,f.baseVersion));if(t.shouldReceiveAttributes){const a=UU(t,f.key,f.oldValue);a&&s.unshift(a)}return s}return f.range=f.range._getTransformedByInsertion(t.position,t.howMany,!1)[0],[f]}),Rn(gr,cr,(f,t)=>{const s=[];f.range.start.hasSameParentAs(t.deletionPosition)&&(f.range.containsPosition(t.deletionPosition)||f.range.start.isEqual(t.deletionPosition))&&s.push(et._createFromPositionAndShift(t.graveyardPosition,1));const a=f.range._getTransformedByMergeOperation(t);return a.isCollapsed||s.push(a),s.map(d=>new gr(d,f.key,f.oldValue,f.newValue,f.baseVersion))}),Rn(gr,Hn,(f,t)=>function(a,d){const p=et._createFromPositionAndShift(d.sourcePosition,d.howMany);let w=null,k=[];p.containsRange(a,!0)?w=a:a.start.hasSameParentAs(p.start)?(k=a.getDifference(p),w=a.getIntersection(p)):k=[a];const D=[];for(let R of k){R=R._getTransformedByDeletion(d.sourcePosition,d.howMany);const M=d.getMovedRangeStart(),U=R.start.hasSameParentAs(M),W=R._getTransformedByInsertion(M,d.howMany,U);D.push(...W)}return w&&D.push(w._getTransformedByMove(d.sourcePosition,d.targetPosition,d.howMany,!1)[0]),D}(f.range,t).map(a=>new gr(a,f.key,f.oldValue,f.newValue,f.baseVersion))),Rn(gr,di,(f,t)=>{if(f.range.end.isEqual(t.insertionPosition))return t.graveyardPosition||f.range.end.offset++,[f];if(f.range.start.hasSameParentAs(t.splitPosition)&&f.range.containsPosition(t.splitPosition)){const s=f.clone();return s.range=new et(t.moveTargetPosition.clone(),f.range.end._getCombined(t.splitPosition,t.moveTargetPosition)),f.range.end=t.splitPosition.clone(),f.range.end.stickiness="toPrevious",[f,s]}return f.range=f.range._getTransformedBySplitOperation(t),[f]}),Rn(rs,gr,(f,t)=>{const s=[f];if(f.shouldReceiveAttributes&&f.position.hasSameParentAs(t.range.start)&&t.range.containsPosition(f.position)){const a=UU(f,t.key,t.newValue);a&&s.push(a)}return s}),Rn(rs,rs,(f,t,s)=>(f.position.isEqual(t.position)&&s.aIsStrong||(f.position=f.position._getTransformedByInsertOperation(t)),[f])),Rn(rs,Hn,(f,t)=>(f.position=f.position._getTransformedByMoveOperation(t),[f])),Rn(rs,di,(f,t)=>(f.position=f.position._getTransformedBySplitOperation(t),[f])),Rn(rs,cr,(f,t)=>(f.position=f.position._getTransformedByMergeOperation(t),[f])),Rn(aa,rs,(f,t)=>(f.oldRange&&(f.oldRange=f.oldRange._getTransformedByInsertOperation(t)[0]),f.newRange&&(f.newRange=f.newRange._getTransformedByInsertOperation(t)[0]),[f])),Rn(aa,aa,(f,t,s)=>{if(f.name==t.name){if(!s.aIsStrong)return[new Vr(0)];f.oldRange=t.newRange?t.newRange.clone():null}return[f]}),Rn(aa,cr,(f,t)=>(f.oldRange&&(f.oldRange=f.oldRange._getTransformedByMergeOperation(t)),f.newRange&&(f.newRange=f.newRange._getTransformedByMergeOperation(t)),[f])),Rn(aa,Hn,(f,t,s)=>{if(f.oldRange&&(f.oldRange=et._createFromRanges(f.oldRange._getTransformedByMoveOperation(t))),f.newRange){if(s.abRelation){const a=et._createFromRanges(f.newRange._getTransformedByMoveOperation(t));if(s.abRelation.side=="left"&&t.targetPosition.isEqual(f.newRange.start))return f.newRange.end=a.end,f.newRange.start.path=s.abRelation.path,[f];if(s.abRelation.side=="right"&&t.targetPosition.isEqual(f.newRange.end))return f.newRange.start=a.start,f.newRange.end.path=s.abRelation.path,[f]}f.newRange=et._createFromRanges(f.newRange._getTransformedByMoveOperation(t))}return[f]}),Rn(aa,di,(f,t,s)=>{if(f.oldRange&&(f.oldRange=f.oldRange._getTransformedBySplitOperation(t)),f.newRange){if(s.abRelation){const a=f.newRange._getTransformedBySplitOperation(t);return f.newRange.start.isEqual(t.splitPosition)&&s.abRelation.wasStartBeforeMergedElement?f.newRange.start=at._createAt(t.insertionPosition):f.newRange.start.isEqual(t.splitPosition)&&!s.abRelation.wasInLeftElement&&(f.newRange.start=at._createAt(t.moveTargetPosition)),f.newRange.end.isEqual(t.splitPosition)&&s.abRelation.wasInRightElement?f.newRange.end=at._createAt(t.moveTargetPosition):f.newRange.end.isEqual(t.splitPosition)&&s.abRelation.wasEndBeforeMergedElement?f.newRange.end=at._createAt(t.insertionPosition):f.newRange.end=a.end,[f]}f.newRange=f.newRange._getTransformedBySplitOperation(t)}return[f]}),Rn(cr,rs,(f,t)=>(f.sourcePosition.hasSameParentAs(t.position)&&(f.howMany+=t.howMany),f.sourcePosition=f.sourcePosition._getTransformedByInsertOperation(t),f.targetPosition=f.targetPosition._getTransformedByInsertOperation(t),[f])),Rn(cr,cr,(f,t,s)=>{if(f.sourcePosition.isEqual(t.sourcePosition)&&f.targetPosition.isEqual(t.targetPosition)){if(s.bWasUndone){const a=t.graveyardPosition.path.slice();return a.push(0),f.sourcePosition=new at(t.graveyardPosition.root,a),f.howMany=0,[f]}return[new Vr(0)]}if(f.sourcePosition.isEqual(t.sourcePosition)&&!f.targetPosition.isEqual(t.targetPosition)&&!s.bWasUndone&&s.abRelation!="splitAtSource"){const a=f.targetPosition.root.rootName=="$graveyard",d=t.targetPosition.root.rootName=="$graveyard";if(d&&!a||!(a&&!d)&&s.aIsStrong){const p=t.targetPosition._getTransformedByMergeOperation(t),w=f.targetPosition._getTransformedByMergeOperation(t);return[new Hn(p,f.howMany,w,0)]}return[new Vr(0)]}return f.sourcePosition.hasSameParentAs(t.targetPosition)&&(f.howMany+=t.howMany),f.sourcePosition=f.sourcePosition._getTransformedByMergeOperation(t),f.targetPosition=f.targetPosition._getTransformedByMergeOperation(t),f.graveyardPosition.isEqual(t.graveyardPosition)&&s.aIsStrong||(f.graveyardPosition=f.graveyardPosition._getTransformedByMergeOperation(t)),[f]}),Rn(cr,Hn,(f,t,s)=>{const a=et._createFromPositionAndShift(t.sourcePosition,t.howMany);return t.type=="remove"&&!s.bWasUndone&&!s.forceWeakRemove&&f.deletionPosition.hasSameParentAs(t.sourcePosition)&&a.containsPosition(f.sourcePosition)?[new Vr(0)]:(f.sourcePosition.hasSameParentAs(t.targetPosition)&&(f.howMany+=t.howMany),f.sourcePosition.hasSameParentAs(t.sourcePosition)&&(f.howMany-=t.howMany),f.sourcePosition=f.sourcePosition._getTransformedByMoveOperation(t),f.targetPosition=f.targetPosition._getTransformedByMoveOperation(t),f.graveyardPosition.isEqual(t.targetPosition)||(f.graveyardPosition=f.graveyardPosition._getTransformedByMoveOperation(t)),[f])}),Rn(cr,di,(f,t,s)=>{if(t.graveyardPosition&&(f.graveyardPosition=f.graveyardPosition._getTransformedByDeletion(t.graveyardPosition,1),f.deletionPosition.isEqual(t.graveyardPosition)&&(f.howMany=t.howMany)),f.targetPosition.isEqual(t.splitPosition)){const a=t.howMany!=0,d=t.graveyardPosition&&f.deletionPosition.isEqual(t.graveyardPosition);if(a||d||s.abRelation=="mergeTargetNotMoved")return f.sourcePosition=f.sourcePosition._getTransformedBySplitOperation(t),[f]}if(f.sourcePosition.isEqual(t.splitPosition)){if(s.abRelation=="mergeSourceNotMoved")return f.howMany=0,f.targetPosition=f.targetPosition._getTransformedBySplitOperation(t),[f];if(s.abRelation=="mergeSameElement"||f.sourcePosition.offset>0)return f.sourcePosition=t.moveTargetPosition.clone(),f.targetPosition=f.targetPosition._getTransformedBySplitOperation(t),[f]}return f.sourcePosition.hasSameParentAs(t.splitPosition)&&(f.howMany=t.splitPosition.offset),f.sourcePosition=f.sourcePosition._getTransformedBySplitOperation(t),f.targetPosition=f.targetPosition._getTransformedBySplitOperation(t),[f]}),Rn(Hn,rs,(f,t)=>{const s=et._createFromPositionAndShift(f.sourcePosition,f.howMany)._getTransformedByInsertOperation(t,!1)[0];return f.sourcePosition=s.start,f.howMany=s.end.offset-s.start.offset,f.targetPosition.isEqual(t.position)||(f.targetPosition=f.targetPosition._getTransformedByInsertOperation(t)),[f]}),Rn(Hn,Hn,(f,t,s)=>{const a=et._createFromPositionAndShift(f.sourcePosition,f.howMany),d=et._createFromPositionAndShift(t.sourcePosition,t.howMany);let p,w=s.aIsStrong,k=!s.aIsStrong;if(s.abRelation=="insertBefore"||s.baRelation=="insertAfter"?k=!0:s.abRelation!="insertAfter"&&s.baRelation!="insertBefore"||(k=!1),p=f.targetPosition.isEqual(t.targetPosition)&&k?f.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany):f.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),BU(f,t)&&BU(t,f))return[t.getReversed()];if(a.containsPosition(t.targetPosition)&&a.containsRange(d,!0))return a.start=a.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),a.end=a.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),ov([a],p);if(d.containsPosition(f.targetPosition)&&d.containsRange(a,!0))return a.start=a.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),a.end=a.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),ov([a],p);const D=$e(f.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if(D=="prefix"||D=="extension")return a.start=a.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),a.end=a.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),ov([a],p);f.type!="remove"||t.type=="remove"||s.aWasUndone||s.forceWeakRemove?f.type=="remove"||t.type!="remove"||s.bWasUndone||s.forceWeakRemove||(w=!1):w=!0;const R=[],M=a.getDifference(d);for(const W of M){W.start=W.start._getTransformedByDeletion(t.sourcePosition,t.howMany),W.end=W.end._getTransformedByDeletion(t.sourcePosition,t.howMany);const Z=$e(W.start.getParentPath(),t.getMovedRangeStart().getParentPath())=="same",re=W._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,Z);R.push(...re)}const U=a.getIntersection(d);return U!==null&&w&&(U.start=U.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),U.end=U.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),R.length===0?R.push(U):R.length==1?d.start.isBefore(a.start)||d.start.isEqual(a.start)?R.unshift(U):R.push(U):R.splice(1,0,U)),R.length===0?[new Vr(f.baseVersion)]:ov(R,p)}),Rn(Hn,di,(f,t,s)=>{let a=f.targetPosition.clone();f.targetPosition.isEqual(t.insertionPosition)&&t.graveyardPosition&&s.abRelation!="moveTargetAfter"||(a=f.targetPosition._getTransformedBySplitOperation(t));const d=et._createFromPositionAndShift(f.sourcePosition,f.howMany);if(d.end.isEqual(t.insertionPosition))return t.graveyardPosition||f.howMany++,f.targetPosition=a,[f];if(d.start.hasSameParentAs(t.splitPosition)&&d.containsPosition(t.splitPosition)){let w=new et(t.splitPosition,d.end);return w=w._getTransformedBySplitOperation(t),ov([new et(d.start,t.splitPosition),w],a)}f.targetPosition.isEqual(t.splitPosition)&&s.abRelation=="insertAtSource"&&(a=t.moveTargetPosition),f.targetPosition.isEqual(t.insertionPosition)&&s.abRelation=="insertBetween"&&(a=f.targetPosition);const p=[d._getTransformedBySplitOperation(t)];if(t.graveyardPosition){const w=d.start.isEqual(t.graveyardPosition)||d.containsPosition(t.graveyardPosition);f.howMany>1&&w&&!s.aWasUndone&&p.push(et._createFromPositionAndShift(t.insertionPosition,1))}return ov(p,a)}),Rn(Hn,cr,(f,t,s)=>{const a=et._createFromPositionAndShift(f.sourcePosition,f.howMany);if(t.deletionPosition.hasSameParentAs(f.sourcePosition)&&a.containsPosition(t.sourcePosition)){if(f.type!="remove"||s.forceWeakRemove){if(f.howMany==1)return s.bWasUndone?(f.sourcePosition=t.graveyardPosition.clone(),f.targetPosition=f.targetPosition._getTransformedByMergeOperation(t),[f]):[new Vr(0)]}else if(!s.aWasUndone){const p=[];let w=t.graveyardPosition.clone(),k=t.targetPosition._getTransformedByMergeOperation(t);f.howMany>1&&(p.push(new Hn(f.sourcePosition,f.howMany-1,f.targetPosition,0)),w=w._getTransformedByMove(f.sourcePosition,f.targetPosition,f.howMany-1),k=k._getTransformedByMove(f.sourcePosition,f.targetPosition,f.howMany-1));const D=t.deletionPosition._getCombined(f.sourcePosition,f.targetPosition),R=new Hn(w,1,D,0),M=R.getMovedRangeStart().path.slice();M.push(0);const U=new at(R.targetPosition.root,M);k=k._getTransformedByMove(w,D,1);const W=new Hn(k,t.howMany,U,0);return p.push(R),p.push(W),p}}const d=et._createFromPositionAndShift(f.sourcePosition,f.howMany)._getTransformedByMergeOperation(t);return f.sourcePosition=d.start,f.howMany=d.end.offset-d.start.offset,f.targetPosition=f.targetPosition._getTransformedByMergeOperation(t),[f]}),Rn(la,rs,(f,t)=>(f.position=f.position._getTransformedByInsertOperation(t),[f])),Rn(la,cr,(f,t)=>f.position.isEqual(t.deletionPosition)?(f.position=t.graveyardPosition.clone(),f.position.stickiness="toNext",[f]):(f.position=f.position._getTransformedByMergeOperation(t),[f])),Rn(la,Hn,(f,t)=>(f.position=f.position._getTransformedByMoveOperation(t),[f])),Rn(la,la,(f,t,s)=>{if(f.position.isEqual(t.position)){if(!s.aIsStrong)return[new Vr(0)];f.oldName=t.newName}return[f]}),Rn(la,di,(f,t)=>{if($e(f.position.path,t.splitPosition.getParentPath())=="same"&&!t.graveyardPosition){const s=new la(f.position.getShiftedBy(1),f.oldName,f.newName,0);return[f,s]}return f.position=f.position._getTransformedBySplitOperation(t),[f]}),Rn(fh,fh,(f,t,s)=>{if(f.root===t.root&&f.key===t.key){if(!s.aIsStrong||f.newValue===t.newValue)return[new Vr(0)];f.oldValue=t.newValue}return[f]}),Rn(Gu,Gu,(f,t)=>f.rootName===t.rootName&&f.isAdd===t.isAdd?[new Vr(0)]:[f]),Rn(di,rs,(f,t)=>(f.splitPosition.hasSameParentAs(t.position)&&f.splitPosition.offset<t.position.offset&&(f.howMany+=t.howMany),f.splitPosition=f.splitPosition._getTransformedByInsertOperation(t),f.insertionPosition=f.insertionPosition._getTransformedByInsertOperation(t),[f])),Rn(di,cr,(f,t,s)=>{if(!f.graveyardPosition&&!s.bWasUndone&&f.splitPosition.hasSameParentAs(t.sourcePosition)){const a=t.graveyardPosition.path.slice();a.push(0);const d=new at(t.graveyardPosition.root,a),p=di.getInsertionPosition(new at(t.graveyardPosition.root,a)),w=new di(d,0,p,null,0);return f.splitPosition=f.splitPosition._getTransformedByMergeOperation(t),f.insertionPosition=di.getInsertionPosition(f.splitPosition),f.graveyardPosition=w.insertionPosition.clone(),f.graveyardPosition.stickiness="toNext",[w,f]}return f.splitPosition.hasSameParentAs(t.deletionPosition)&&!f.splitPosition.isAfter(t.deletionPosition)&&f.howMany--,f.splitPosition.hasSameParentAs(t.targetPosition)&&(f.howMany+=t.howMany),f.splitPosition=f.splitPosition._getTransformedByMergeOperation(t),f.insertionPosition=di.getInsertionPosition(f.splitPosition),f.graveyardPosition&&(f.graveyardPosition=f.graveyardPosition._getTransformedByMergeOperation(t)),[f]}),Rn(di,Hn,(f,t,s)=>{const a=et._createFromPositionAndShift(t.sourcePosition,t.howMany);if(f.graveyardPosition){const p=a.start.isEqual(f.graveyardPosition)||a.containsPosition(f.graveyardPosition);if(!s.bWasUndone&&p){const w=f.splitPosition._getTransformedByMoveOperation(t),k=f.graveyardPosition._getTransformedByMoveOperation(t),D=k.path.slice();D.push(0);const R=new at(k.root,D);return[new Hn(w,f.howMany,R,0)]}f.graveyardPosition=f.graveyardPosition._getTransformedByMoveOperation(t)}const d=f.splitPosition.isEqual(t.targetPosition);if(d&&(s.baRelation=="insertAtSource"||s.abRelation=="splitBefore"))return f.howMany+=t.howMany,f.splitPosition=f.splitPosition._getTransformedByDeletion(t.sourcePosition,t.howMany),f.insertionPosition=di.getInsertionPosition(f.splitPosition),[f];if(d&&s.abRelation&&s.abRelation.howMany){const{howMany:p,offset:w}=s.abRelation;return f.howMany+=p,f.splitPosition=f.splitPosition.getShiftedBy(w),[f]}if(f.splitPosition.hasSameParentAs(t.sourcePosition)&&a.containsPosition(f.splitPosition)){const p=t.howMany-(f.splitPosition.offset-t.sourcePosition.offset);return f.howMany-=p,f.splitPosition.hasSameParentAs(t.targetPosition)&&f.splitPosition.offset<t.targetPosition.offset&&(f.howMany+=t.howMany),f.splitPosition=t.sourcePosition.clone(),f.insertionPosition=di.getInsertionPosition(f.splitPosition),[f]}return t.sourcePosition.isEqual(t.targetPosition)||(f.splitPosition.hasSameParentAs(t.sourcePosition)&&f.splitPosition.offset<=t.sourcePosition.offset&&(f.howMany-=t.howMany),f.splitPosition.hasSameParentAs(t.targetPosition)&&f.splitPosition.offset<t.targetPosition.offset&&(f.howMany+=t.howMany)),f.splitPosition.stickiness="toNone",f.splitPosition=f.splitPosition._getTransformedByMoveOperation(t),f.splitPosition.stickiness="toNext",f.graveyardPosition?f.insertionPosition=f.insertionPosition._getTransformedByMoveOperation(t):f.insertionPosition=di.getInsertionPosition(f.splitPosition),[f]}),Rn(di,di,(f,t,s)=>{if(f.splitPosition.isEqual(t.splitPosition)){if(!f.graveyardPosition&&!t.graveyardPosition)return[new Vr(0)];if(f.graveyardPosition&&t.graveyardPosition&&f.graveyardPosition.isEqual(t.graveyardPosition))return[new Vr(0)];if(s.abRelation=="splitBefore")return f.howMany=0,f.graveyardPosition=f.graveyardPosition._getTransformedBySplitOperation(t),[f]}if(f.graveyardPosition&&t.graveyardPosition&&f.graveyardPosition.isEqual(t.graveyardPosition)){const a=f.splitPosition.root.rootName=="$graveyard",d=t.splitPosition.root.rootName=="$graveyard";if(d&&!a||!(a&&!d)&&s.aIsStrong){const p=[];return t.howMany&&p.push(new Hn(t.moveTargetPosition,t.howMany,t.splitPosition,0)),f.howMany&&p.push(new Hn(f.splitPosition,f.howMany,f.moveTargetPosition,0)),p}return[new Vr(0)]}if(f.graveyardPosition&&(f.graveyardPosition=f.graveyardPosition._getTransformedBySplitOperation(t)),f.splitPosition.isEqual(t.insertionPosition)&&s.abRelation=="splitBefore")return f.howMany++,[f];if(t.splitPosition.isEqual(f.insertionPosition)&&s.baRelation=="splitBefore"){const a=t.insertionPosition.path.slice();a.push(0);const d=new at(t.insertionPosition.root,a);return[f,new Hn(f.insertionPosition,1,d,0)]}return f.splitPosition.hasSameParentAs(t.splitPosition)&&f.splitPosition.offset<t.splitPosition.offset&&(f.howMany-=t.howMany),f.splitPosition=f.splitPosition._getTransformedBySplitOperation(t),f.insertionPosition=di.getInsertionPosition(f.splitPosition),[f]});class Cs extends X(at){constructor(t,s,a="toNone"){if(super(t,s,a),!this.root.is("rootElement"))throw new B("model-liveposition-root-not-rootelement",t);Mre.call(this)}detach(){this.stopListening()}toPosition(){return new at(this.root,this.path.slice(),this.stickiness)}static fromPosition(t,s){return new this(t.root,t.path.slice(),s||t.stickiness)}}function Mre(){this.listenTo(this.root.document.model,"applyOperation",(f,t)=>{const s=t[0];s.isDocumentOperation&&Ore.call(this,s)},{priority:"low"})}function Ore(f){const t=this.getTransformedByOperation(f);if(!this.isEqual(t)){const s=this.toPosition();this.path=t.path,this.root=t.root,this.fire("change",s)}}Cs.prototype.is=function(f){return f==="livePosition"||f==="model:livePosition"||f=="position"||f==="model:position"};class av{constructor(t={}){typeof t=="string"&&(t=t==="transparent"?{isUndoable:!1}:{},Y("batch-constructor-deprecated-string-type"));const{isUndoable:s=!0,isLocal:a=!0,isUndo:d=!1,isTyping:p=!1}=t;this.operations=[],this.isUndoable=s,this.isLocal=a,this.isUndo=d,this.isTyping=p}get type(){return Y("batch-type-deprecated"),"default"}get baseVersion(){for(const t of this.operations)if(t.baseVersion!==null)return t.baseVersion;return null}addOperation(t){return t.batch=this,this.operations.push(t),t}}class Fre{constructor(t){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=t}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(t){const s=t;switch(s.type){case"insert":if(this._isInInsertedElement(s.position.parent))return;this._markInsert(s.position.parent,s.position.offset,s.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const a of s.range.getItems({shallow:!0}))this._isInInsertedElement(a.parent)||this._markAttribute(a);break;case"remove":case"move":case"reinsert":{if(s.sourcePosition.isEqual(s.targetPosition)||s.sourcePosition.getShiftedBy(s.howMany).isEqual(s.targetPosition))return;const a=this._isInInsertedElement(s.sourcePosition.parent),d=this._isInInsertedElement(s.targetPosition.parent);a||this._markRemove(s.sourcePosition.parent,s.sourcePosition.offset,s.howMany),d||this._markInsert(s.targetPosition.parent,s.getMovedRangeStart().offset,s.howMany);break}case"rename":{if(this._isInInsertedElement(s.position.parent))return;this._markRemove(s.position.parent,s.position.offset,1),this._markInsert(s.position.parent,s.position.offset,1);const a=et._createFromPositionAndShift(s.position,1);for(const d of this._markerCollection.getMarkersIntersectingRange(a)){const p=d.getData();this.bufferMarkerChange(d.name,p,p)}break}case"split":{const a=s.splitPosition.parent;this._isInInsertedElement(a)||this._markRemove(a,s.splitPosition.offset,s.howMany),this._isInInsertedElement(s.insertionPosition.parent)||this._markInsert(s.insertionPosition.parent,s.insertionPosition.offset,1),s.graveyardPosition&&this._markRemove(s.graveyardPosition.parent,s.graveyardPosition.offset,1);break}case"merge":{const a=s.sourcePosition.parent;this._isInInsertedElement(a.parent)||this._markRemove(a.parent,a.startOffset,1);const d=s.graveyardPosition.parent;this._markInsert(d,s.graveyardPosition.offset,1);const p=s.targetPosition.parent;this._isInInsertedElement(p)||this._markInsert(p,s.targetPosition.offset,a.maxOffset);break}case"detachRoot":case"addRoot":{const a=s.affectedSelectable;if(!a._isLoaded||a.isAttached()==s.isAdd)return;this._bufferRootStateChange(s.rootName,s.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!s.root._isLoaded)return;const a=s.root.rootName;this._bufferRootAttributeChange(a,s.key,s.oldValue,s.newValue);break}}this._cachedChanges=null}bufferMarkerChange(t,s,a){s.range&&s.range.root.is("rootElement")&&!s.range.root._isLoaded&&(s.range=null),a.range&&a.range.root.is("rootElement")&&!a.range.root._isLoaded&&(a.range=null);let d=this._changedMarkers.get(t);d?d.newMarkerData=a:(d={newMarkerData:a,oldMarkerData:s},this._changedMarkers.set(t,d)),d.oldMarkerData.range==null&&a.range==null&&this._changedMarkers.delete(t)}getMarkersToRemove(){const t=[];for(const[s,a]of this._changedMarkers)a.oldMarkerData.range!=null&&t.push({name:s,range:a.oldMarkerData.range});return t}getMarkersToAdd(){const t=[];for(const[s,a]of this._changedMarkers)a.newMarkerData.range!=null&&t.push({name:s,range:a.newMarkerData.range});return t}getChangedMarkers(){return Array.from(this._changedMarkers).map(([t,s])=>({name:t,data:{oldRange:s.oldMarkerData.range,newRange:s.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0||this._changedRoots.size>0)return!0;for(const{newMarkerData:t,oldMarkerData:s}of this._changedMarkers.values()){if(t.affectsData!==s.affectsData)return!0;if(t.affectsData){const a=t.range&&!s.range,d=!t.range&&s.range,p=t.range&&s.range&&!t.range.isEqual(s.range);if(a||d||p)return!0}}return!1}getChanges(t={}){if(this._cachedChanges)return t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let s=[];for(const a of this._changesInElement.keys()){const d=this._changesInElement.get(a).sort((M,U)=>M.offset===U.offset?M.type!=U.type?M.type=="remove"?-1:1:0:M.offset<U.offset?-1:1),p=this._elementSnapshots.get(a),w=zU(a.getChildren()),k=Lre(p.length,d);let D=0,R=0;for(const M of k)if(M==="i")s.push(this._getInsertDiff(a,D,w[D])),D++;else if(M==="r")s.push(this._getRemoveDiff(a,D,p[R])),R++;else if(M==="a"){const U=w[D].attributes,W=p[R].attributes;let Z;if(w[D].name=="$text")Z=new et(at._createAt(a,D),at._createAt(a,D+1));else{const re=a.offsetToIndex(D);Z=new et(at._createAt(a,D),at._createAt(a.getChild(re),0))}s.push(...this._getAttributesDiff(Z,W,U)),D++,R++}else D++,R++}s.sort((a,d)=>a.position.root!=d.position.root?a.position.root.rootName<d.position.root.rootName?-1:1:a.position.isEqual(d.position)?a.changeCount-d.changeCount:a.position.isBefore(d.position)?-1:1);for(let a=1,d=0;a<s.length;a++){const p=s[d],w=s[a],k=p.type=="remove"&&w.type=="remove"&&p.name=="$text"&&w.name=="$text"&&p.position.isEqual(w.position),D=p.type=="insert"&&w.type=="insert"&&p.name=="$text"&&w.name=="$text"&&p.position.parent==w.position.parent&&p.position.offset+p.length==w.position.offset,R=p.type=="attribute"&&w.type=="attribute"&&p.position.parent==w.position.parent&&p.range.isFlat&&w.range.isFlat&&p.position.offset+p.length==w.position.offset&&p.attributeKey==w.attributeKey&&p.attributeOldValue==w.attributeOldValue&&p.attributeNewValue==w.attributeNewValue;k||D||R?(p.length++,R&&(p.range.end=p.range.end.getShiftedBy(1)),s[a]=null):d=a}s=s.filter(a=>a);for(const a of s)delete a.changeCount,a.type=="attribute"&&(delete a.position,delete a.length);return this._changeCount=0,this._cachedChangesWithGraveyard=s,this._cachedChanges=s.filter(Ure),t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(t=>{const s={...t};return s.state!==void 0&&delete s.attributes,s})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(t,s){if(!this._changedRoots.has(t))return void this._changedRoots.set(t,{name:t,state:s?"attached":"detached"});const a=this._changedRoots.get(t);a.state!==void 0?(delete a.state,a.attributes===void 0&&this._changedRoots.delete(t)):a.state=s?"attached":"detached"}_bufferRootAttributeChange(t,s,a,d){const p=this._changedRoots.get(t)||{name:t},w=p.attributes||{};if(w[s]){const k=w[s];d===k.oldValue?delete w[s]:k.newValue=d}else w[s]={oldValue:a,newValue:d};Object.entries(w).length===0?(delete p.attributes,p.state===void 0&&this._changedRoots.delete(t)):(p.attributes=w,this._changedRoots.set(t,p))}_refreshItem(t){if(this._isInInsertedElement(t.parent))return;this._markRemove(t.parent,t.startOffset,t.offsetSize),this._markInsert(t.parent,t.startOffset,t.offsetSize),this._refreshedItems.add(t);const s=et._createOn(t);for(const a of this._markerCollection.getMarkersIntersectingRange(s)){const d=a.getData();this.bufferMarkerChange(a.name,d,d)}this._cachedChanges=null}_bufferRootLoad(t){if(t.isAttached()){this._bufferRootStateChange(t.rootName,!0),this._markInsert(t,0,t.maxOffset);for(const s of t.getAttributeKeys())this._bufferRootAttributeChange(t.rootName,s,null,t.getAttribute(s));for(const s of this._markerCollection)if(s.getRange().root==t){const a=s.getData();this.bufferMarkerChange(s.name,{...a,range:null},a)}}}_markInsert(t,s,a){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const d={type:"insert",offset:s,howMany:a,count:this._changeCount++};this._markChange(t,d)}_markRemove(t,s,a){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const d={type:"remove",offset:s,howMany:a,count:this._changeCount++};this._markChange(t,d),this._removeAllNestedChanges(t,s,a)}_markAttribute(t){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const s={type:"attribute",offset:t.startOffset,howMany:t.offsetSize,count:this._changeCount++};this._markChange(t.parent,s)}_markChange(t,s){this._makeSnapshot(t);const a=this._getChangesForElement(t);this._handleChange(s,a),a.push(s);for(let d=0;d<a.length;d++)a[d].howMany<1&&(a.splice(d,1),d--)}_getChangesForElement(t){let s;return this._changesInElement.has(t)?s=this._changesInElement.get(t):(s=[],this._changesInElement.set(t,s)),s}_makeSnapshot(t){this._elementSnapshots.has(t)||this._elementSnapshots.set(t,zU(t.getChildren()))}_handleChange(t,s){t.nodesToHandle=t.howMany;for(const a of s){const d=t.offset+t.howMany,p=a.offset+a.howMany;if(t.type=="insert"&&(a.type=="insert"&&(t.offset<=a.offset?a.offset+=t.howMany:t.offset<p&&(a.howMany+=t.nodesToHandle,t.nodesToHandle=0)),a.type=="remove"&&t.offset<a.offset&&(a.offset+=t.howMany),a.type=="attribute")){if(t.offset<=a.offset)a.offset+=t.howMany;else if(t.offset<p){const w=a.howMany;a.howMany=t.offset-a.offset,s.unshift({type:"attribute",offset:d,howMany:w-a.howMany,count:this._changeCount++})}}if(t.type=="remove"){if(a.type=="insert"){if(d<=a.offset)a.offset-=t.howMany;else if(d<=p)if(t.offset<a.offset){const w=d-a.offset;a.offset=t.offset,a.howMany-=w,t.nodesToHandle-=w}else a.howMany-=t.nodesToHandle,t.nodesToHandle=0;else if(t.offset<=a.offset)t.nodesToHandle-=a.howMany,a.howMany=0;else if(t.offset<p){const w=p-t.offset;a.howMany-=w,t.nodesToHandle-=w}}if(a.type=="remove"&&(d<=a.offset?a.offset-=t.howMany:t.offset<a.offset&&(t.nodesToHandle+=a.howMany,a.howMany=0)),a.type=="attribute"){if(d<=a.offset)a.offset-=t.howMany;else if(t.offset<a.offset){const w=d-a.offset;a.offset=t.offset,a.howMany-=w}else if(t.offset<p)if(d<=p){const w=a.howMany;a.howMany=t.offset-a.offset;const k=w-a.howMany-t.nodesToHandle;s.unshift({type:"attribute",offset:t.offset,howMany:k,count:this._changeCount++})}else a.howMany-=p-t.offset}}if(t.type=="attribute"){if(a.type=="insert")if(t.offset<a.offset&&d>a.offset){if(d>p){const w={type:"attribute",offset:p,howMany:d-p,count:this._changeCount++};this._handleChange(w,s),s.push(w)}t.nodesToHandle=a.offset-t.offset,t.howMany=t.nodesToHandle}else t.offset>=a.offset&&t.offset<p&&(d>p?(t.nodesToHandle=d-p,t.offset=p):t.nodesToHandle=0);if(a.type=="remove"&&t.offset<a.offset&&d>a.offset){const w={type:"attribute",offset:a.offset,howMany:d-a.offset,count:this._changeCount++};this._handleChange(w,s),s.push(w),t.nodesToHandle=a.offset-t.offset,t.howMany=t.nodesToHandle}a.type=="attribute"&&(t.offset>=a.offset&&d<=p?(t.nodesToHandle=0,t.howMany=0,t.offset=0):t.offset<=a.offset&&d>=p&&(a.howMany=0))}}t.howMany=t.nodesToHandle,delete t.nodesToHandle}_getInsertDiff(t,s,a){return{type:"insert",position:at._createAt(t,s),name:a.name,attributes:new Map(a.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(t,s,a){return{type:"remove",position:at._createAt(t,s),name:a.name,attributes:new Map(a.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(t,s,a){const d=[];a=new Map(a);for(const[p,w]of s){const k=a.has(p)?a.get(p):null;k!==w&&d.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:p,attributeOldValue:w,attributeNewValue:k,changeCount:this._changeCount++}),a.delete(p)}for(const[p,w]of a)d.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:p,attributeOldValue:null,attributeNewValue:w,changeCount:this._changeCount++});return d}_isInInsertedElement(t){const s=t.parent;if(!s)return!1;const a=this._changesInElement.get(s),d=t.startOffset;if(a){for(const p of a)if(p.type=="insert"&&d>=p.offset&&d<p.offset+p.howMany)return!0}return this._isInInsertedElement(s)}_removeAllNestedChanges(t,s,a){const d=new et(at._createAt(t,s),at._createAt(t,s+a));for(const p of d.getItems({shallow:!0}))p.is("element")&&(this._elementSnapshots.delete(p),this._changesInElement.delete(p),this._removeAllNestedChanges(p,0,p.maxOffset))}}function zU(f){const t=[];for(const s of f)if(s.is("$text"))for(let a=0;a<s.data.length;a++)t.push({name:"$text",attributes:new Map(s.getAttributes())});else t.push({name:s.name,attributes:new Map(s.getAttributes())});return t}function Lre(f,t){const s=[];let a=0,d=0;for(const p of t){if(p.offset>a){for(let w=0;w<p.offset-a;w++)s.push("e");d+=p.offset-a}if(p.type=="insert"){for(let w=0;w<p.howMany;w++)s.push("i");a=p.offset+p.howMany}else if(p.type=="remove"){for(let w=0;w<p.howMany;w++)s.push("r");a=p.offset,d+=p.howMany}else s.push(..."a".repeat(p.howMany).split("")),a=p.offset+p.howMany,d+=p.howMany}if(d<f)for(let p=0;p<f-d-a;p++)s.push("e");return s}function Ure(f){const t="position"in f&&f.position.root.rootName=="$graveyard",s="range"in f&&f.range.root.rootName=="$graveyard";return!t&&!s}class Bre{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(t){this._operations.length&&t>this._version+1&&this._gaps.set(this._version,t),this._version=t}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(t){if(t.baseVersion!==this.version)throw new B("model-document-history-addoperation-incorrect-version",this,{operation:t,historyVersion:this.version});this._operations.push(t),this._version++,this._baseVersionToOperationIndex.set(t.baseVersion,this._operations.length-1)}getOperations(t,s=this.version){if(!this._operations.length)return[];const a=this._operations[0];t===void 0&&(t=a.baseVersion);let d=s-1;for(const[k,D]of this._gaps)t>k&&t<D&&(t=D),d>k&&d<D&&(d=k-1);if(d<a.baseVersion||t>this.lastOperation.baseVersion)return[];let p=this._baseVersionToOperationIndex.get(t);p===void 0&&(p=0);let w=this._baseVersionToOperationIndex.get(d);return w===void 0&&(w=this._operations.length-1),this._operations.slice(p,w+1)}getOperation(t){const s=this._baseVersionToOperationIndex.get(t);if(s!==void 0)return this._operations[s]}setOperationAsUndone(t,s){this._undoPairs.set(s,t),this._undoneOperations.add(t)}isUndoingOperation(t){return this._undoPairs.has(t)}isUndoneOperation(t){return this._undoneOperations.has(t)}getUndoneOperation(t){return this._undoPairs.get(t)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class cT extends en{constructor(t,s,a="main"){super(s),this._isAttached=!0,this._isLoaded=!0,this._document=t,this.rootName=a}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}cT.prototype.is=function(f,t){return t?t===this.name&&(f==="rootElement"||f==="model:rootElement"||f==="element"||f==="model:element"):f==="rootElement"||f==="model:rootElement"||f==="element"||f==="model:element"||f==="node"||f==="model:node"};const VU="$graveyard";class zre extends X(){constructor(t){super(),this.model=t,this.history=new Bre,this.selection=new Fc(this),this.roots=new Ys({idProperty:"rootName"}),this.differ=new Fre(t.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",VU),this.listenTo(t,"applyOperation",(s,a)=>{const d=a[0];d.isDocumentOperation&&this.differ.bufferOperation(d)},{priority:"high"}),this.listenTo(t,"applyOperation",(s,a)=>{const d=a[0];d.isDocumentOperation&&this.history.addOperation(d)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(t.markers,"update",(s,a,d,p,w)=>{const k={...a.getData(),range:p};this.differ.bufferMarkerChange(a.name,w,k),d===null&&a.on("change",(D,R)=>{const M=a.getData();this.differ.bufferMarkerChange(a.name,{...M,range:R},M)})}),this.registerPostFixer(s=>{let a=!1;for(const d of this.roots)d.isAttached()||d.isEmpty||(s.remove(s.createRangeIn(d)),a=!0);for(const d of this.model.markers)d.getRange().root.isAttached()||(s.removeMarker(d),a=!0);return a})}get version(){return this.history.version}set version(t){this.history.version=t}get graveyard(){return this.getRoot(VU)}createRoot(t="$root",s="main"){if(this.roots.get(s))throw new B("model-document-createroot-name-exists",this,{name:s});const a=new cT(this,t,s);return this.roots.add(a),a}destroy(){this.selection.destroy(),this.stopListening()}getRoot(t="main"){return this.roots.get(t)}getRootNames(t=!1){return this.getRoots(t).map(s=>s.rootName)}getRoots(t=!1){return Array.from(this.roots).filter(s=>s!=this.graveyard&&(t||s.isAttached())&&s._isLoaded)}registerPostFixer(t){this._postFixers.add(t)}toJSON(){const t=Px(this);return t.selection="[engine.model.DocumentSelection]",t.model="[engine.model.Model]",t}_handleChangeBlock(t){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(t),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",t.batch):this.fire("change",t.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const t=this.getRoots();return t.length?t[0]:this.graveyard}_getDefaultRange(){const t=this._getDefaultRoot(),s=this.model,a=s.schema,d=s.createPositionFromPath(t,[0]);return a.getNearestSelectionRange(d)||s.createRange(d)}_validateSelectionRange(t){return WU(t.start)&&WU(t.end)}_callPostFixers(t){let s=!1;do for(const a of this._postFixers)if(this.selection.refresh(),s=a(t),s)break;while(s)}}function WU(f){const t=f.textNode;if(t){const s=t.data,a=f.offset-t.startOffset;return!_x(s,a)&&!Cy(s,a)}return!0}class Vre extends X(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(t){const s=t instanceof lv?t.name:t;return this._markers.has(s)}get(t){return this._markers.get(t)||null}_set(t,s,a=!1,d=!1){const p=t instanceof lv?t.name:t;if(p.includes(","))throw new B("markercollection-incorrect-marker-name",this);const w=this._markers.get(p);if(w){const R=w.getData(),M=w.getRange();let U=!1;return M.isEqual(s)||(w._attachLiveRange(qa.fromRange(s)),U=!0),a!=w.managedUsingOperations&&(w._managedUsingOperations=a,U=!0),typeof d=="boolean"&&d!=w.affectsData&&(w._affectsData=d,U=!0),U&&this.fire(`update:${p}`,w,M,s,R),w}const k=qa.fromRange(s),D=new lv(p,k,a,d);return this._markers.set(p,D),this.fire(`update:${p}`,D,null,s,{...D.getData(),range:null}),D}_remove(t){const s=t instanceof lv?t.name:t,a=this._markers.get(s);return!!a&&(this._markers.delete(s),this.fire(`update:${s}`,a,a.getRange(),null,a.getData()),this._destroyMarker(a),!0)}_refresh(t){const s=t instanceof lv?t.name:t,a=this._markers.get(s);if(!a)throw new B("markercollection-refresh-marker-not-exists",this);const d=a.getRange();this.fire(`update:${s}`,a,d,d,a.getData())}*getMarkersAtPosition(t){for(const s of this)s.getRange().containsPosition(t)&&(yield s)}*getMarkersIntersectingRange(t){for(const s of this)s.getRange().getIntersection(t)!==null&&(yield s)}destroy(){for(const t of this._markers.values())this._destroyMarker(t);this._markers=null,this.stopListening()}*getMarkersGroup(t){for(const s of this._markers.values())s.name.startsWith(t+":")&&(yield s)}_destroyMarker(t){t.stopListening(),t._detachLiveRange()}}class lv extends X(tn){constructor(t,s,a,d){super(),this.name=t,this._liveRange=this._attachLiveRange(s),this._managedUsingOperations=a,this._affectsData=d}get managedUsingOperations(){if(!this._liveRange)throw new B("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new B("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new B("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new B("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new B("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(t){return this._liveRange&&this._detachLiveRange(),t.delegate("change:range").to(this),t.delegate("change:content").to(this),this._liveRange=t,t}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}lv.prototype.is=function(f){return f==="marker"||f==="model:marker"};class Wre extends Ha{constructor(t,s){super(null),this.sourcePosition=t.clone(),this.howMany=s}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t}_validate(){if(this.sourcePosition.root.document)throw new B("detach-operation-on-document-node",this)}_execute(){jU(et._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class ph extends tn{constructor(t){super(),this.markers=new Map,this._children=new fn,t&&this._insertChild(0,t)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}getPath(){return[]}getNodeByPath(t){let s=this;for(const a of t)s=s.getChild(s.offsetToIndex(a));return s}offsetToIndex(t){return this._children.offsetToIndex(t)}toJSON(){const t=[];for(const s of this._children)t.push(s.toJSON());return t}static fromJSON(t){const s=[];for(const a of t)a.name?s.push(en.fromJSON(a)):s.push(Wt.fromJSON(a));return new ph(s)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,s){const a=function(d){return typeof d=="string"?[new Wt(d)]:(Ne(d)||(d=[d]),Array.from(d).map(p=>typeof p=="string"?new Wt(p):p instanceof Yt?new Wt(p.data,p.getAttributes()):p))}(s);for(const d of a)d.parent!==null&&d._remove(),d.parent=this;this._children._insertNodes(t,a)}_removeChildren(t,s=1){const a=this._children._removeNodes(t,s);for(const d of a)d.parent=null;return a}}ph.prototype.is=function(f){return f==="documentFragment"||f==="model:documentFragment"};class $re{constructor(t,s){this.model=t,this.batch=s}createText(t,s){return new Wt(t,s)}createElement(t,s){return new en(t,s)}createDocumentFragment(){return new ph}cloneElement(t,s=!0){return t._clone(s)}insert(t,s,a=0){if(this._assertWriterUsedCorrectly(),t instanceof Wt&&t.data=="")return;const d=at._createAt(s,a);if(t.parent){if(HU(t.root,d.root))return void this.move(et._createOn(t),d);if(t.root.document)throw new B("model-writer-insert-forbidden-move",this);this.remove(t)}const p=d.root.document?d.root.document.version:null,w=new rs(d,t,p);if(t instanceof Wt&&(w.shouldReceiveAttributes=!0),this.batch.addOperation(w),this.model.applyOperation(w),t instanceof ph)for(const[k,D]of t.markers){const R=at._createAt(D.root,0),M={range:new et(D.start._getCombined(R,d),D.end._getCombined(R,d)),usingOperation:!0,affectsData:!0};this.model.markers.has(k)?this.updateMarker(k,M):this.addMarker(k,M)}}insertText(t,s,a,d){s instanceof ph||s instanceof en||s instanceof at?this.insert(this.createText(t),s,a):this.insert(this.createText(t,s),a,d)}insertElement(t,s,a,d){s instanceof ph||s instanceof en||s instanceof at?this.insert(this.createElement(t),s,a):this.insert(this.createElement(t,s),a,d)}append(t,s){this.insert(t,s,"end")}appendText(t,s,a){s instanceof ph||s instanceof en?this.insert(this.createText(t),s,"end"):this.insert(this.createText(t,s),a,"end")}appendElement(t,s,a){s instanceof ph||s instanceof en?this.insert(this.createElement(t),s,"end"):this.insert(this.createElement(t,s),a,"end")}setAttribute(t,s,a){if(this._assertWriterUsedCorrectly(),a instanceof et){const d=a.getMinimalFlatRanges();for(const p of d)$U(this,t,s,p)}else qU(this,t,s,a)}setAttributes(t,s){for(const[a,d]of La(t))this.setAttribute(a,d,s)}removeAttribute(t,s){if(this._assertWriterUsedCorrectly(),s instanceof et){const a=s.getMinimalFlatRanges();for(const d of a)$U(this,t,null,d)}else qU(this,t,null,s)}clearAttributes(t){this._assertWriterUsedCorrectly();const s=a=>{for(const d of a.getAttributeKeys())this.removeAttribute(d,a)};if(t instanceof et)for(const a of t.getItems())s(a);else s(t)}move(t,s,a){if(this._assertWriterUsedCorrectly(),!(t instanceof et))throw new B("writer-move-invalid-range",this);if(!t.isFlat)throw new B("writer-move-range-not-flat",this);const d=at._createAt(s,a);if(d.isEqual(t.start))return;if(this._addOperationForAffectedMarkers("move",t),!HU(t.root,d.root))throw new B("writer-move-different-document",this);const p=t.root.document?t.root.document.version:null,w=new Hn(t.start,t.end.offset-t.start.offset,d,p);this.batch.addOperation(w),this.model.applyOperation(w)}remove(t){this._assertWriterUsedCorrectly();const s=(t instanceof et?t:et._createOn(t)).getMinimalFlatRanges().reverse();for(const a of s)this._addOperationForAffectedMarkers("move",a),qre(a.start,a.end.offset-a.start.offset,this.batch,this.model)}merge(t){this._assertWriterUsedCorrectly();const s=t.nodeBefore,a=t.nodeAfter;if(this._addOperationForAffectedMarkers("merge",t),!(s instanceof en))throw new B("writer-merge-no-element-before",this);if(!(a instanceof en))throw new B("writer-merge-no-element-after",this);t.root.document?this._merge(t):this._mergeDetached(t)}createPositionFromPath(t,s,a){return this.model.createPositionFromPath(t,s,a)}createPositionAt(t,s){return this.model.createPositionAt(t,s)}createPositionAfter(t){return this.model.createPositionAfter(t)}createPositionBefore(t){return this.model.createPositionBefore(t)}createRange(t,s){return this.model.createRange(t,s)}createRangeIn(t){return this.model.createRangeIn(t)}createRangeOn(t){return this.model.createRangeOn(t)}createSelection(...t){return this.model.createSelection(...t)}_mergeDetached(t){const s=t.nodeBefore,a=t.nodeAfter;this.move(et._createIn(a),at._createAt(s,"end")),this.remove(a)}_merge(t){const s=at._createAt(t.nodeBefore,"end"),a=at._createAt(t.nodeAfter,0),d=t.root.document.graveyard,p=new at(d,[0]),w=t.root.document.version,k=new cr(a,t.nodeAfter.maxOffset,s,p,w);this.batch.addOperation(k),this.model.applyOperation(k)}rename(t,s){if(this._assertWriterUsedCorrectly(),!(t instanceof en))throw new B("writer-rename-not-element-instance",this);const a=t.root.document?t.root.document.version:null,d=new la(at._createBefore(t),t.name,s,a);this.batch.addOperation(d),this.model.applyOperation(d)}split(t,s){this._assertWriterUsedCorrectly();let a,d,p=t.parent;if(!p.parent)throw new B("writer-split-element-no-parent",this);if(s||(s=p.parent),!t.parent.getAncestors({includeSelf:!0}).includes(s))throw new B("writer-split-invalid-limit-element",this);do{const w=p.root.document?p.root.document.version:null,k=p.maxOffset-t.offset,D=di.getInsertionPosition(t),R=new di(t,k,D,null,w);this.batch.addOperation(R),this.model.applyOperation(R),a||d||(a=p,d=t.parent.nextSibling),p=(t=this.createPositionAfter(t.parent)).parent}while(p!==s);return{position:t,range:new et(at._createAt(a,"end"),at._createAt(d,0))}}wrap(t,s){if(this._assertWriterUsedCorrectly(),!t.isFlat)throw new B("writer-wrap-range-not-flat",this);const a=s instanceof en?s:new en(s);if(a.childCount>0)throw new B("writer-wrap-element-not-empty",this);if(a.parent!==null)throw new B("writer-wrap-element-attached",this);this.insert(a,t.start);const d=new et(t.start.getShiftedBy(1),t.end.getShiftedBy(1));this.move(d,at._createAt(a,0))}unwrap(t){if(this._assertWriterUsedCorrectly(),t.parent===null)throw new B("writer-unwrap-element-no-parent",this);this.move(et._createIn(t),this.createPositionAfter(t)),this.remove(t)}addMarker(t,s){if(this._assertWriterUsedCorrectly(),!s||typeof s.usingOperation!="boolean")throw new B("writer-addmarker-no-usingoperation",this);const a=s.usingOperation,d=s.range,p=s.affectsData!==void 0&&s.affectsData;if(this.model.markers.has(t))throw new B("writer-addmarker-marker-exists",this);if(!d)throw new B("writer-addmarker-no-range",this);return a?(d_(this,t,null,d,p),this.model.markers.get(t)):this.model.markers._set(t,d,a,p)}updateMarker(t,s){this._assertWriterUsedCorrectly();const a=typeof t=="string"?t:t.name,d=this.model.markers.get(a);if(!d)throw new B("writer-updatemarker-marker-not-exists",this);if(!s)return Y("writer-updatemarker-reconvert-using-editingcontroller",{markerName:a}),void this.model.markers._refresh(d);const p=typeof s.usingOperation=="boolean",w=typeof s.affectsData=="boolean",k=w?s.affectsData:d.affectsData;if(!p&&!s.range&&!w)throw new B("writer-updatemarker-wrong-options",this);const D=d.getRange(),R=s.range?s.range:D;p&&s.usingOperation!==d.managedUsingOperations?s.usingOperation?d_(this,a,null,R,k):(d_(this,a,D,null,k),this.model.markers._set(a,R,void 0,k)):d.managedUsingOperations?d_(this,a,D,R,k):this.model.markers._set(a,R,void 0,k)}removeMarker(t){this._assertWriterUsedCorrectly();const s=typeof t=="string"?t:t.name;if(!this.model.markers.has(s))throw new B("writer-removemarker-no-marker",this);const a=this.model.markers.get(s);if(!a.managedUsingOperations)return void this.model.markers._remove(s);d_(this,s,a.getRange(),null,a.affectsData)}addRoot(t,s="$root"){this._assertWriterUsedCorrectly();const a=this.model.document.getRoot(t);if(a&&a.isAttached())throw new B("writer-addroot-root-exists",this);const d=this.model.document,p=new Gu(t,s,!0,d,d.version);return this.batch.addOperation(p),this.model.applyOperation(p),this.model.document.getRoot(t)}detachRoot(t){this._assertWriterUsedCorrectly();const s=typeof t=="string"?this.model.document.getRoot(t):t;if(!s||!s.isAttached())throw new B("writer-detachroot-no-root",this);for(const p of this.model.markers)p.getRange().root===s&&this.removeMarker(p);for(const p of s.getAttributeKeys())this.removeAttribute(p,s);this.remove(this.createRangeIn(s));const a=this.model.document,d=new Gu(s.rootName,s.name,!1,a,a.version);this.batch.addOperation(d),this.model.applyOperation(d)}setSelection(...t){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...t)}setSelectionFocus(t,s){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(t,s)}setSelectionAttribute(t,s){if(this._assertWriterUsedCorrectly(),typeof t=="string")this._setSelectionAttribute(t,s);else for(const[a,d]of La(t))this._setSelectionAttribute(a,d)}removeSelectionAttribute(t){if(this._assertWriterUsedCorrectly(),typeof t=="string")this._removeSelectionAttribute(t);else for(const s of t)this._removeSelectionAttribute(s)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(t){this.model.document.selection._restoreGravity(t)}_setSelectionAttribute(t,s){const a=this.model.document.selection;if(a.isCollapsed&&a.anchor.parent.isEmpty){const d=Fc._getStoreAttributeKey(t);this.setAttribute(d,s,a.anchor.parent)}a._setAttribute(t,s)}_removeSelectionAttribute(t){const s=this.model.document.selection;if(s.isCollapsed&&s.anchor.parent.isEmpty){const a=Fc._getStoreAttributeKey(t);this.removeAttribute(a,s.anchor.parent)}s._removeAttribute(t)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new B("writer-incorrect-use",this)}_addOperationForAffectedMarkers(t,s){for(const a of this.model.markers){if(!a.managedUsingOperations)continue;const d=a.getRange();let p=!1;if(t==="move"){const w=s;p=w.containsPosition(d.start)||w.start.isEqual(d.start)||w.containsPosition(d.end)||w.end.isEqual(d.end)}else{const w=s,k=w.nodeBefore,D=w.nodeAfter,R=d.start.parent==k&&d.start.isAtEnd,M=d.end.parent==D&&d.end.offset==0,U=d.end.nodeAfter==D,W=d.start.nodeAfter==D;p=R||M||U||W}p&&this.updateMarker(a.name,{range:d})}}}function $U(f,t,s,a){const d=f.model,p=d.document;let w,k,D,R=a.start;for(const U of a.getWalker({shallow:!0}))D=U.item.getAttribute(t),w&&k!=D&&(k!=s&&M(),R=w),w=U.nextPosition,k=D;function M(){const U=new et(R,w),W=U.root.document?p.version:null,Z=new gr(U,t,k,s,W);f.batch.addOperation(Z),d.applyOperation(Z)}w instanceof at&&w!=R&&k!=s&&M()}function qU(f,t,s,a){const d=f.model,p=d.document,w=a.getAttribute(t);let k,D;if(w!=s){if(a.root===a){const R=a.document?p.version:null;D=new fh(a,t,w,s,R)}else{k=new et(at._createBefore(a),f.createPositionAfter(a));const R=k.root.document?p.version:null;D=new gr(k,t,w,s,R)}f.batch.addOperation(D),d.applyOperation(D)}}function d_(f,t,s,a,d){const p=f.model,w=p.document,k=new aa(t,s,a,p.markers,!!d,w.version);f.batch.addOperation(k),p.applyOperation(k)}function qre(f,t,s,a){let d;if(f.root.document){const p=a.document,w=new at(p.graveyard,[0]);d=new Hn(f,t,w,p.version)}else d=new Wre(f,t);s.addOperation(d),a.applyOperation(d)}function HU(f,t){return f===t||f instanceof cT&&t instanceof cT}function Hre(f,t,s={}){if(t.isCollapsed)return;const a=t.getFirstRange();if(a.root.rootName=="$graveyard")return;const d=f.schema;f.change(p=>{if(!s.doNotResetEntireContent&&function(R,M){const U=R.getLimitElement(M);if(!M.containsEntireContent(U))return!1;const W=M.getFirstRange();return W.start.parent==W.end.parent?!1:R.checkChild(U,"paragraph")}(d,t))return void function(R,M){const U=R.model.schema.getLimitElement(M);R.remove(R.createRangeIn(U)),YU(R,R.createPositionAt(U,0),M)}(p,t);const w={};if(!s.doNotAutoparagraph){const R=t.getSelectedElement();R&&Object.assign(w,d.getAttributesWithProperty(R,"copyOnReplace",!0))}const[k,D]=function(R){const M=R.root.document.model,U=R.start;let W=R.end;if(M.hasContent(R,{ignoreMarkers:!0})){const Z=function(re){const le=re.parent,xe=le.root.document.model.schema,Pe=le.getAncestors({parentFirst:!0,includeSelf:!0});for(const Ge of Pe){if(xe.isLimit(Ge))return null;if(xe.isBlock(Ge))return Ge}}(W);if(Z&&W.isTouching(M.createPositionAt(Z,0))){const re=M.createSelection(R);M.modifySelection(re,{direction:"backward"});const le=re.getLastPosition(),xe=M.createRange(le,W);M.hasContent(xe,{ignoreMarkers:!0})||(W=le)}}return[Cs.fromPosition(U,"toPrevious"),Cs.fromPosition(W,"toNext")]}(a);k.isTouching(D)||p.remove(p.createRange(k,D)),s.leaveUnmerged||(function(R,M,U){const W=R.model;if(!XP(R.model.schema,M,U))return;const[Z,re]=function(le,xe){const Pe=le.getAncestors(),Ge=xe.getAncestors();let tt=0;for(;Pe[tt]&&Pe[tt]==Ge[tt];)tt++;return[Pe[tt],Ge[tt]]}(M,U);!Z||!re||(!W.hasContent(Z,{ignoreMarkers:!0})&&W.hasContent(re,{ignoreMarkers:!0})?XU(R,M,U,Z.parent):GU(R,M,U,Z.parent))}(p,k,D),d.removeDisallowedAttributes(k.parent.getChildren(),p)),KU(p,t,k),!s.doNotAutoparagraph&&function(R,M){const U=R.checkChild(M,"$text"),W=R.checkChild(M,"paragraph");return!U&&W}(d,k)&&YU(p,k,t,w),k.detach(),D.detach()})}function GU(f,t,s,a){const d=t.parent,p=s.parent;if(d!=a&&p!=a){for(t=f.createPositionAfter(d),(s=f.createPositionBefore(p)).isEqual(t)||f.insert(p,t),f.merge(t);s.parent.isEmpty;){const w=s.parent;s=f.createPositionBefore(w),f.remove(w)}XP(f.model.schema,t,s)&&GU(f,t,s,a)}}function XU(f,t,s,a){const d=t.parent,p=s.parent;if(d!=a&&p!=a){for(t=f.createPositionAfter(d),(s=f.createPositionBefore(p)).isEqual(t)||f.insert(d,s);t.parent.isEmpty;){const w=t.parent;t=f.createPositionBefore(w),f.remove(w)}s=f.createPositionBefore(p),function(w,k){const D=k.nodeBefore,R=k.nodeAfter;D.name!=R.name&&w.rename(D,R.name),w.clearAttributes(D),w.setAttributes(Object.fromEntries(R.getAttributes()),D),w.merge(k)}(f,s),XP(f.model.schema,t,s)&&XU(f,t,s,a)}}function XP(f,t,s){const a=t.parent,d=s.parent;return a!=d&&!f.isLimit(a)&&!f.isLimit(d)&&function(p,w,k){const D=new et(p,w);for(const R of D.getWalker())if(k.isLimit(R.item))return!1;return!0}(t,s,f)}function YU(f,t,s,a={}){const d=f.createElement("paragraph");f.model.schema.setAllowedAttributes(d,a,f),f.insert(d,t),KU(f,s,f.createPositionAt(d,0))}function KU(f,t,s){t instanceof Fc?f.setSelection(s):t.setTo(s)}function ZU(f,t){const s=[];Array.from(f.getItems({direction:"backward"})).map(a=>t.createRangeOn(a)).filter(a=>(a.start.isAfter(f.start)||a.start.isEqual(f.start))&&(a.end.isBefore(f.end)||a.end.isEqual(f.end))).forEach(a=>{s.push(a.start.parent),t.remove(a)}),s.forEach(a=>{let d=a;for(;d.parent&&d.isEmpty;){const p=t.createRangeOn(d);d=d.parent,t.remove(p)}})}class Gre{constructor(t,s,a){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=t,this.writer=s,this.position=a,this.canMergeWith=new Set([this.position.parent]),this.schema=t.schema,this._documentFragment=s.createDocumentFragment(),this._documentFragmentPosition=s.createPositionAt(this._documentFragment,0)}handleNodes(t){for(const s of Array.from(t))this._handleNode(s);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(t){const s=this.writer.createPositionAfter(this._lastNode),a=this.writer.createPositionAfter(t);if(a.isAfter(s)){if(this._lastNode=t,this.position.parent!=t||!this.position.isAtEnd)throw new B("insertcontent-invalid-insertion-position",this);this.position=a,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?et._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new et(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(t){if(this.schema.isObject(t))return void this._handleObject(t);let s=this._checkAndAutoParagraphToAllowedPosition(t);s||(s=this._checkAndSplitToAllowedPosition(t),s)?(this._appendToFragment(t),this._firstNode||(this._firstNode=t),this._lastNode=t):this._handleDisallowedNode(t)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const t=Cs.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=t.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=t.toPosition(),t.detach()}_handleObject(t){this._checkAndSplitToAllowedPosition(t)?this._appendToFragment(t):this._tryAutoparagraphing(t)}_handleDisallowedNode(t){t.is("element")?this.handleNodes(t.getChildren()):this._tryAutoparagraphing(t)}_appendToFragment(t){if(!this.schema.checkChild(this.position,t))throw new B("insertcontent-wrong-position",this,{node:t,position:this.position});this.writer.insert(t,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(t.offsetSize),this.schema.isObject(t)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=t:this._nodeToSelect=null,this._filterAttributesOf.push(t)}_setAffectedBoundaries(t){this._affectedStart||(this._affectedStart=Cs.fromPosition(t,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(t)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Cs.fromPosition(t,"toNext"))}_mergeOnLeft(){const t=this._firstNode;if(!(t instanceof en)||!this._canMergeLeft(t))return;const s=Cs._createBefore(t);s.stickiness="toNext";const a=Cs.fromPosition(this.position,"toNext");this._affectedStart.isEqual(s)&&(this._affectedStart.detach(),this._affectedStart=Cs._createAt(s.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=s.nodeBefore,this._lastNode=s.nodeBefore),this.writer.merge(s),s.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Cs._createAt(s.nodeBefore,"end","toNext")),this.position=a.toPosition(),a.detach(),this._filterAttributesOf.push(this.position.parent),s.detach()}_mergeOnRight(){const t=this._lastNode;if(!(t instanceof en)||!this._canMergeRight(t))return;const s=Cs._createAfter(t);if(s.stickiness="toNext",!this.position.isEqual(s))throw new B("insertcontent-invalid-insertion-position",this);this.position=at._createAt(s.nodeBefore,"end");const a=Cs.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(s)&&(this._affectedEnd.detach(),this._affectedEnd=Cs._createAt(s.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=s.nodeBefore,this._lastNode=s.nodeBefore),this.writer.merge(s),s.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Cs._createAt(s.nodeBefore,0,"toPrevious")),this.position=a.toPosition(),a.detach(),this._filterAttributesOf.push(this.position.parent),s.detach()}_canMergeLeft(t){const s=t.previousSibling;return s instanceof en&&this.canMergeWith.has(s)&&this.model.schema.checkMerge(s,t)}_canMergeRight(t){const s=t.nextSibling;return s instanceof en&&this.canMergeWith.has(s)&&this.model.schema.checkMerge(t,s)}_tryAutoparagraphing(t){const s=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,s)&&this.schema.checkChild(s,t)&&(s._appendChild(t),this._handleNode(s))}_checkAndAutoParagraphToAllowedPosition(t){if(this.schema.checkChild(this.position.parent,t))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",t))return!1;this._insertPartialFragment();const s=this.writer.createElement("paragraph");return this.writer.insert(s,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=s,this.position=this.writer.createPositionAt(s,0),!0}_checkAndSplitToAllowedPosition(t){const s=this._getAllowedIn(this.position.parent,t);if(!s)return!1;for(s!=this.position.parent&&this._insertPartialFragment();s!=this.position.parent;)if(this.position.isAtStart){const a=this.position.parent;this.position=this.writer.createPositionBefore(a),a.isEmpty&&a.parent===s&&this.writer.remove(a)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const a=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=a,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(t,s){return this.schema.checkChild(t,s)?t:this.schema.isLimit(t)?null:this._getAllowedIn(t.parent,s)}}function JU(f,t,s="auto"){const a=f.getSelectedElement();if(a&&t.schema.isObject(a)&&!t.schema.isInline(a))return s=="before"||s=="after"?t.createRange(t.createPositionAt(a,s)):t.createRangeOn(a);const d=ki(f.getSelectedBlocks());if(!d)return t.createRange(f.focus);if(d.isEmpty)return t.createRange(t.createPositionAt(d,0));const p=t.createPositionAfter(d);return f.focus.isTouching(p)?t.createRange(p):t.createRange(t.createPositionBefore(d))}function Xre(f,t,s,a={}){if(!f.schema.isObject(t))throw new B("insertobject-element-not-an-object",f,{object:t});const d=s||f.document.selection;let p=d;a.findOptimalPosition&&f.schema.isBlock(t)&&(p=f.createSelection(JU(d,f,a.findOptimalPosition)));const w=ki(d.getSelectedBlocks()),k={};return w&&Object.assign(k,f.schema.getAttributesWithProperty(w,"copyOnReplace",!0)),f.change(D=>{p.isCollapsed||f.deleteContent(p,{doNotAutoparagraph:!0});let R=t;const M=p.anchor.parent;!f.schema.checkChild(M,t)&&f.schema.checkChild(M,"paragraph")&&f.schema.checkChild("paragraph",t)&&(R=D.createElement("paragraph"),D.insert(t,R)),f.schema.setAllowedAttributes(R,k,D);const U=f.insertContent(R,p);return U.isCollapsed||a.setSelection&&function(W,Z,re,le){const xe=W.model;if(re=="on")return void W.setSelection(Z,"on");if(re!="after")throw new B("insertobject-invalid-place-parameter-value",xe);let Pe=Z.nextSibling;if(xe.schema.isInline(Z))return void W.setSelection(Z,"after");!(Pe&&xe.schema.checkChild(Pe,"$text"))&&xe.schema.checkChild(Z.parent,"paragraph")&&(Pe=W.createElement("paragraph"),xe.schema.setAllowedAttributes(Pe,le,W),xe.insertContent(Pe,W.createPositionAfter(Z))),Pe&&W.setSelection(Pe,0)}(D,t,a.setSelection,k),U})}const Yre=' ,.?!:;"-()';function Kre(f,t){const{isForward:s,walker:a,unit:d,schema:p,treatEmojiAsSingleUnit:w}=f,{type:k,item:D,nextPosition:R}=t;if(k=="text")return f.unit==="word"?function(M,U){let W=M.position.textNode;for(W||(W=U?M.position.nodeAfter:M.position.nodeBefore);W&&W.is("$text");){const Z=M.position.offset-W.startOffset;if(Qre(W,Z,U))W=U?M.position.nodeAfter:M.position.nodeBefore;else{if(Jre(W.data,Z,U))break;M.next()}}return M.position}(a,s):function(M,U,W){const Z=M.position.textNode;if(Z){const re=Z.data;let le=M.position.offset-Z.startOffset;for(;_x(re,le)||U=="character"&&Cy(re,le)||W&&AA(re,le);)M.next(),le=M.position.offset-Z.startOffset}return M.position}(a,d,w);if(k==(s?"elementStart":"elementEnd")){if(p.isSelectable(D))return at._createAt(D,s?"after":"before");if(p.checkChild(R,"$text"))return R}else{if(p.isLimit(D))return void a.skip(()=>!0);if(p.checkChild(R,"$text"))return R}}function Zre(f,t){const s=f.root,a=at._createAt(s,t?"end":0);return t?new et(f,a):new et(a,f)}function Jre(f,t,s){const a=t+(s?0:-1);return Yre.includes(f.charAt(a))}function Qre(f,t,s){return t===(s?f.offsetSize:0)}class ese extends ze(){constructor(){super(),this.markers=new Vre,this.document=new zre(this),this.schema=new pre,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(t=>this.decorate(t)),this.on("applyOperation",(t,s)=>{s[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((t,s)=>{if(s.name==="$marker")return!0}),dre(this),this.document.registerPostFixer(xU),this.on("insertContent",(t,[s,a])=>{t.return=function(d,p,w){return d.change(k=>{const D=w||d.document.selection;D.isCollapsed||d.deleteContent(D,{doNotAutoparagraph:!0});const R=new Gre(d,k,D.anchor),M=[];let U;if(p.is("documentFragment")){if(p.markers.size){const re=[];for(const[le,xe]of p.markers){const{start:Pe,end:Ge}=xe,tt=Pe.isEqual(Ge);re.push({position:Pe,name:le,isCollapsed:tt},{position:Ge,name:le,isCollapsed:tt})}re.sort(({position:le},{position:xe})=>le.isBefore(xe)?1:-1);for(const{position:le,name:xe,isCollapsed:Pe}of re){let Ge=null,tt=null;const Nt=le.parent===p&&le.isAtStart,ln=le.parent===p&&le.isAtEnd;Nt||ln?Pe&&(tt=Nt?"start":"end"):(Ge=k.createElement("$marker"),k.insert(Ge,le)),M.push({name:xe,element:Ge,collapsed:tt})}}U=p.getChildren()}else U=[p];R.handleNodes(U);let W=R.getSelectionRange();if(p.is("documentFragment")&&M.length){const re=W?qa.fromRange(W):null,le={};for(let xe=M.length-1;xe>=0;xe--){const{name:Pe,element:Ge,collapsed:tt}=M[xe],Nt=!le[Pe];if(Nt&&(le[Pe]=[]),Ge){const ln=k.createPositionAt(Ge,"before");le[Pe].push(ln),k.remove(Ge)}else{const ln=R.getAffectedRange();if(!ln){tt&&le[Pe].push(R.position);continue}tt?le[Pe].push(ln[tt]):le[Pe].push(Nt?ln.start:ln.end)}}for(const[xe,[Pe,Ge]]of Object.entries(le))Pe&&Ge&&Pe.root===Ge.root&&k.addMarker(xe,{usingOperation:!0,affectsData:!0,range:new et(Pe,Ge)});re&&(W=re.toRange(),re.detach())}W&&(D instanceof Fc?k.setSelection(W):D.setTo(W));const Z=R.getAffectedRange()||d.createRange(D.anchor);return R.destroy(),Z})}(this,s,a)}),this.on("insertObject",(t,[s,a,d])=>{t.return=Xre(this,s,a,d)}),this.on("canEditAt",t=>{const s=!this.document.isReadOnly;t.return=s,s||t.stop()})}change(t){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new av,callback:t}),this._runPendingChanges()[0]):t(this._currentWriter)}catch(s){B.rethrowUnexpectedError(s,this)}}enqueueChange(t,s){try{t?typeof t=="function"?(s=t,t=new av):t instanceof av||(t=new av(t)):t=new av,this._pendingChanges.push({batch:t,callback:s}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(a){B.rethrowUnexpectedError(a,this)}}applyOperation(t){t._execute()}insertContent(t,s,a,...d){const p=YP(s,a);return this.fire("insertContent",[t,p,a,...d])}insertObject(t,s,a,d,...p){const w=YP(s,a);return this.fire("insertObject",[t,w,d,d,...p])}deleteContent(t,s){Hre(this,t,s)}modifySelection(t,s){(function(a,d,p={}){const w=a.schema,k=p.direction!="backward",D=p.unit?p.unit:"character",R=!!p.treatEmojiAsSingleUnit,M=d.focus,U=new Vl({boundaries:Zre(M,k),singleCharacters:!0,direction:k?"forward":"backward"}),W={walker:U,schema:w,isForward:k,unit:D,treatEmojiAsSingleUnit:R};let Z;for(;Z=U.next();){if(Z.done)return;const re=Kre(W,Z.value);if(re)return void(d instanceof Fc?a.change(le=>{le.setSelectionFocus(re)}):d.setFocus(re))}})(this,t,s)}getSelectedContent(t){return function(s,a){return s.change(d=>{const p=d.createDocumentFragment(),w=a.getFirstRange();if(!w||w.isCollapsed)return p;const k=w.start.root,D=w.start.getCommonPath(w.end),R=k.getNodeByPath(D);let M;M=w.start.parent==w.end.parent?w:d.createRange(d.createPositionAt(R,w.start.path[D.length]),d.createPositionAt(R,w.end.path[D.length]+1));const U=M.end.offset-M.start.offset;for(const W of M.getItems({shallow:!0}))W.is("$textProxy")?d.appendText(W.data,W.getAttributes(),p):d.append(d.cloneElement(W,!0),p);if(M!=w){const W=w._getTransformedByMove(M.start,d.createPositionAt(p,0),U)[0],Z=d.createRange(d.createPositionAt(p,0),W.start);ZU(d.createRange(W.end,d.createPositionAt(p,"end")),d),ZU(Z,d)}return p})}(this,t)}hasContent(t,s={}){const a=t instanceof et?t:et._createIn(t);if(a.isCollapsed)return!1;const{ignoreWhitespaces:d=!1,ignoreMarkers:p=!1}=s;if(!p){for(const w of this.markers.getMarkersIntersectingRange(a))if(w.affectsData)return!0}for(const w of a.getItems())if(this.schema.isContent(w)&&(!w.is("$textProxy")||!d||w.data.search(/\S/)!==-1))return!0;return!1}canEditAt(t){const s=YP(t);return this.fire("canEditAt",[s])}createPositionFromPath(t,s,a){return new at(t,s,a)}createPositionAt(t,s){return at._createAt(t,s)}createPositionAfter(t){return at._createAfter(t)}createPositionBefore(t){return at._createBefore(t)}createRange(t,s){return new et(t,s)}createRangeIn(t){return et._createIn(t)}createRangeOn(t){return et._createOn(t)}createSelection(...t){return new $a(...t)}createBatch(t){return new av(t)}createOperationFromJSON(t){return Pre.fromJSON(t,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const t=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const s=this._pendingChanges[0].batch;this._currentWriter=new $re(this,s);const a=this._pendingChanges[0].callback(this._currentWriter);t.push(a),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return t}}function YP(f,t){if(f)return f instanceof $a||f instanceof Fc?f:f instanceof Tt?t||t===0?new $a(f,t):f.is("rootElement")?new $a(f,"in"):new $a(f,"on"):new $a(f)}class tse extends Oc{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(t){this.fire(t.type,t)}}class uT extends Oc{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(t){this.fire(t.type,t)}}class KP{constructor(t){this.document=t}createDocumentFragment(t){return new kt(this.document,t)}createElement(t,s,a){return new Zs(this.document,t,s,a)}createText(t){return new Fn(this.document,t)}clone(t,s=!1){return t._clone(s)}appendChild(t,s){return s._appendChild(t)}insertChild(t,s,a){return a._insertChild(t,s)}removeChildren(t,s,a){return a._removeChildren(t,s)}remove(t){const s=t.parent;return s?this.removeChildren(s.getChildIndex(t),1,s):[]}replace(t,s){const a=t.parent;if(a){const d=a.getChildIndex(t);return this.removeChildren(d,1,a),this.insertChild(d,s,a),!0}return!1}unwrapElement(t){const s=t.parent;if(s){const a=s.getChildIndex(t);this.remove(t),this.insertChild(a,t.getChildren(),s)}}rename(t,s){const a=new Zs(this.document,t,s.getAttributes(),s.getChildren());return this.replace(s,a)?a:null}setAttribute(t,s,a){a._setAttribute(t,s)}removeAttribute(t,s){s._removeAttribute(t)}addClass(t,s){s._addClass(t)}removeClass(t,s){s._removeClass(t)}setStyle(t,s,a){on(t)&&a===void 0?s._setStyle(t):a._setStyle(t,s)}removeStyle(t,s){s._removeStyle(t)}setCustomProperty(t,s,a){a._setCustomProperty(t,s)}removeCustomProperty(t,s){return s._removeCustomProperty(t)}createPositionAt(t,s){return bt._createAt(t,s)}createPositionAfter(t){return bt._createAfter(t)}createPositionBefore(t){return bt._createBefore(t)}createRange(t,s){return new nn(t,s)}createRangeOn(t){return nn._createOn(t)}createRangeIn(t){return nn._createIn(t)}createSelection(...t){return new Va(...t)}}class nse{constructor(){this._commands=new Map}add(t,s){this._commands.set(t,s)}get(t){return this._commands.get(t)}execute(t,...s){const a=this.get(t);if(!a)throw new B("commandcollection-command-not-found",this,{commandName:t});return a.execute(...s)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const t of this.commands())t.destroy()}}class ise extends Fa{constructor(t){super(),this.editor=t}set(t,s,a={}){if(typeof s=="string"){const d=s;s=(p,w)=>{this.editor.execute(d),w()}}super.set(t,s,a)}}class rse extends ze(){constructor(t={}){super();const s=this.constructor,a=t.language||s.defaultConfig&&s.defaultConfig.language;this._context=t.context||new jg({language:a}),this._context._addEditor(this,!t.context);const d=Array.from(s.builtinPlugins||[]);this.config=new Pl(t,s.defaultConfig),this.config.define("plugins",d),this.config.define(this._context._getEditorConfig()),this.plugins=new Cr(this,d,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new nse,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new ese,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const p=new YA;this.data=new Dre(this.model,p),this.editing=new hre(this.model,p),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new Nre([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new ise(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(t){throw new B("editor-isreadonly-has-no-setter")}enableReadOnlyMode(t){if(typeof t!="string"&&typeof t!="symbol")throw new B("editor-read-only-lock-id-invalid",null,{lockId:t});this._readOnlyLocks.has(t)||(this._readOnlyLocks.add(t),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(t){if(typeof t!="string"&&typeof t!="symbol")throw new B("editor-read-only-lock-id-invalid",null,{lockId:t});this._readOnlyLocks.has(t)&&(this._readOnlyLocks.delete(t),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const t=this.config,s=t.get("plugins"),a=t.get("removePlugins")||[],d=t.get("extraPlugins")||[],p=t.get("substitutePlugins")||[];return this.plugins.init(s.concat(d),a,p)}destroy(){let t=Promise.resolve();return this.state=="initializing"&&(t=new Promise(s=>this.once("ready",s))),t.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(t,...s){try{return this.commands.execute(t,...s)}catch(a){B.rethrowUnexpectedError(a,this)}}focus(){this.editing.view.focus()}static create(...t){throw new Error("This is an abstract method.")}}function dT(f){return class extends f{setData(t){this.data.set(t)}getData(t){return this.data.get(t)}}}{const f=dT(Object);dT.setData=f.prototype.setData,dT.getData=f.prototype.getData}function ZP(f){return class extends f{updateSourceElement(t=this.data.get()){if(!this.sourceElement)throw new B("editor-missing-sourceelement",this);const s=this.config.get("updateSourceElementOnDestroy"),a=this.sourceElement instanceof HTMLTextAreaElement;es(this.sourceElement,s||a?t:"")}}}ZP.updateSourceElement=ZP(Object).prototype.updateSourceElement;class QU extends op{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Ys({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(t){if(typeof t!="string")throw new B("pendingactions-add-invalid-message",this);const s=new(ze());return s.set("message",t),this._actions.add(s),this.hasAny=!0,s}remove(t){this._actions.remove(t),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const ri={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>'};var hT=o(4768),h_={attributes:{"data-cke":!0}};h_.setAttributes=jt(),h_.insert=Vt().bind(null,"head"),h_.domAPI=Bt(),h_.insertStyleElement=zt(),Ut()(hT.Z,h_),hT.Z&&hT.Z.locals&&hT.Z.locals;const{threeVerticalDots:e7}=ri,sse={alignLeft:ri.alignLeft,bold:ri.bold,importExport:ri.importExport,paragraph:ri.paragraph,plus:ri.plus,text:ri.text,threeVerticalDots:ri.threeVerticalDots,pilcrow:ri.pilcrow,dragIndicator:ri.dragIndicator};class JP extends dn{constructor(t,s){super(t);const a=this.bindTemplate,d=this.t;this.options=s||{},this.set("ariaLabel",d("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new lr,this.keystrokes=new Fa,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new ose(t),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const p=t.uiLanguageDirection==="rtl";this._focusCycler=new Nc({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[p?"arrowright":"arrowleft","arrowup"],focusNext:[p?"arrowleft":"arrowright","arrowdown"]}});const w=["ck","ck-toolbar",a.to("class"),a.if("isCompact","ck-toolbar_compact")];var k;this.options.shouldGroupWhenFull&&this.options.isFloating&&w.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:w,role:"toolbar","aria-label":a.to("ariaLabel"),style:{maxWidth:a.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(k=this,k.bindTemplate.to(D=>{D.target===k.element&&D.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new lse(this):new ase(this)}render(){super.render(),this.focusTracker.add(this.element);for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",(t,s)=>{this.focusTracker.add(s.element)}),this.items.on("remove",(t,s)=>{this.focusTracker.remove(s.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(t,s,a){this.items.addMany(this._buildItemsFromConfig(t,s,a))}_buildItemsFromConfig(t,s,a){const d=Ly(t),p=a||d.removeItems;return this._cleanItemsConfiguration(d.items,s,p).map(w=>Oe(w)?this._createNestedToolbarDropdown(w,s,p):w==="|"?new Fy:w==="-"?new sp:s.create(w)).filter(w=>!!w)}_cleanItemsConfiguration(t,s,a){const d=t.filter((p,w,k)=>p==="|"||a.indexOf(p)===-1&&(p==="-"?!this.options.shouldGroupWhenFull||(Y("toolbarview-line-break-ignored-when-grouping-items",k),!1):!(!Oe(p)&&!s.has(p))||(Y("toolbarview-item-unavailable",{item:p}),!1)));return this._cleanSeparatorsAndLineBreaks(d)}_cleanSeparatorsAndLineBreaks(t){const s=w=>w!=="-"&&w!=="|",a=t.length,d=t.findIndex(s);if(d===-1)return[];const p=a-t.slice().reverse().findIndex(s);return t.slice(d,p).filter((w,k,D)=>s(w)?!0:!(k>0&&D[k-1]===w))}_createNestedToolbarDropdown(t,s,a){let{label:d,icon:p,items:w,tooltip:k=!0,withText:D=!1}=t;if(w=this._cleanItemsConfiguration(w,s,a),!w.length)return null;const R=Xu(this.locale);return d||Y("toolbarview-nested-toolbar-dropdown-missing-label",t),R.class="ck-toolbar__nested-toolbar-dropdown",R.buttonView.set({label:d,tooltip:k,withText:!!D}),p!==!1?R.buttonView.icon=sse[p]||p||e7:R.buttonView.withText=!0,QP(R,()=>R.toolbarView._buildItemsFromConfig(w,s,a)),R}}class ose extends dn{constructor(t){super(t),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class ase{constructor(t){const s=t.bindTemplate;t.set("isVertical",!1),t.itemsView.children.bindTo(t.items).using(a=>a),t.focusables.bindTo(t.items).using(a=>a),t.extendTemplate({attributes:{class:[s.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class lse{constructor(t){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=t,this.viewChildren=t.children,this.viewFocusables=t.focusables,this.viewItemsView=t.itemsView,this.viewFocusTracker=t.focusTracker,this.viewLocale=t.locale,this.ungroupedItems=t.createCollection(),this.groupedItems=t.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),t.itemsView.children.bindTo(this.ungroupedItems).using(s=>s),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),t.children.on("change",this._updateFocusCycleableItems.bind(this)),t.items.on("change",(s,a)=>{const d=a.index,p=Array.from(a.added);for(const w of a.removed)d>=this.ungroupedItems.length?this.groupedItems.remove(w):this.ungroupedItems.remove(w);for(let w=d;w<d+p.length;w++){const k=p[w-d];w>this.ungroupedItems.length?this.groupedItems.add(k,w-this.ungroupedItems.length):this.ungroupedItems.add(k,w)}this._updateGrouping()}),t.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(t){this.viewElement=t.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(t)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Li(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const t=this.groupedItems.length;let s;for(;this._areItemsOverflowing;)this._groupLastItem(),s=!0;if(!s&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==t&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const t=this.viewElement,s=this.viewLocale.uiLanguageDirection,a=new _t(t.lastChild),d=new _t(t);if(!this.cachedPadding){const p=he.window.getComputedStyle(t),w=s==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(p[w])}return s==="ltr"?a.right>d.right-this.cachedPadding:a.left<d.left+this.cachedPadding}_enableGroupingOnResize(){let t;this.resizeObserver=new Dn(this.viewElement,s=>{t&&t===s.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),t=s.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(t){t.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new Fy),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const t=this.viewLocale,s=t.t,a=Xu(t);return a.class="ck-toolbar__grouped-dropdown",a.panelPosition=t.uiLanguageDirection==="ltr"?"sw":"se",QP(a,this.groupedItems),a.buttonView.set({label:s("Show more items"),tooltip:!0,tooltipPosition:t.uiLanguageDirection==="rtl"?"se":"sw",icon:e7}),a}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(t=>{this.viewFocusables.add(t)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class fT extends dn{constructor(t){super(t);const s=this.bindTemplate,a=`ck-editor__label_${O()}`,d=new t7(t);this.children=this.createCollection(),this.children.addMany([this._createLabel(a),d]),this.set({label:"",isVisible:!0}),d.set({role:"group",ariaLabelledBy:a}),d.focusTracker.destroy(),d.keystrokes.destroy(),this.items=d.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",s.if("isVisible","ck-hidden",p=>!p)]},children:this.children})}_createLabel(t){const s=new dn(this.locale),a=this.bindTemplate;return s.setTemplate({tag:"span",attributes:{id:t},children:[{text:a.to("label")}]}),s}focus(){this.items.first&&this.items.first.focus()}}var pT=o(179),f_={attributes:{"data-cke":!0}};f_.setAttributes=jt(),f_.insert=Vt().bind(null,"head"),f_.domAPI=Bt(),f_.insertStyleElement=zt(),Ut()(pT.Z,f_),pT.Z&&pT.Z.locals&&pT.Z.locals;class t7 extends dn{constructor(t){super(t),this._listItemGroupToChangeListeners=new WeakMap;const s=this.bindTemplate;this.focusables=new na,this.items=this.createCollection(),this.focusTracker=new lr,this.keystrokes=new Fa,this._focusCycler=new Nc({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:s.to("role"),"aria-label":s.to("ariaLabel"),"aria-labelledby":s.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const t of this.items)t instanceof fT?this._registerFocusableItemsGroup(t):this._registerFocusableListItem(t);this.items.on("change",(t,s)=>{for(const a of s.removed)a instanceof fT?this._deregisterFocusableItemsGroup(a):this._deregisterFocusableListItem(a);for(const a of Array.from(s.added).reverse())a instanceof fT?this._registerFocusableItemsGroup(a,s.index):this._registerFocusableListItem(a,s.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(t,s){this.focusTracker.add(t.element),this.focusables.add(t,s)}_deregisterFocusableListItem(t){this.focusTracker.remove(t.element),this.focusables.remove(t)}_getOnGroupItemsChangeCallback(t){return(s,a)=>{for(const d of a.removed)this._deregisterFocusableListItem(d);for(const d of Array.from(a.added).reverse())this._registerFocusableListItem(d,this.items.getIndex(t)+a.index)}}_registerFocusableItemsGroup(t,s){Array.from(t.items).forEach((d,p)=>{const w=s!==void 0?s+p:void 0;this._registerFocusableListItem(d,w)});const a=this._getOnGroupItemsChangeCallback(t);this._listItemGroupToChangeListeners.set(t,a),t.items.on("change",a)}_deregisterFocusableItemsGroup(t){for(const s of t.items)this._deregisterFocusableListItem(s);t.items.off("change",this._listItemGroupToChangeListeners.get(t)),this._listItemGroupToChangeListeners.delete(t)}}class n7 extends dn{constructor(t){super(t);const s=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",s.if("isVisible","ck-hidden",a=>!a)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class cse extends dn{constructor(t){super(t),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var mT=o(4791),p_={attributes:{"data-cke":!0}};p_.setAttributes=jt(),p_.insert=Vt().bind(null,"head"),p_.domAPI=Bt(),p_.insertStyleElement=zt(),Ut()(mT.Z,p_),mT.Z&&mT.Z.locals&&mT.Z.locals;class gT extends dn{constructor(t){super(t);const s=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new Fa,this.focusTracker=new lr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",s.to("class"),s.if("isVisible","ck-hidden",a=>!a),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(t,s)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),s())}),this.keystrokes.set("arrowleft",(t,s)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),s())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const t=new qn;return t.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),t.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),t.delegate("execute").to(this),t}_createArrowView(){const t=new qn,s=t.bindTemplate;return t.icon=Nx,t.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":s.to("isOn"),"aria-haspopup":!0,"aria-expanded":s.to("isOn",a=>String(a))}}),t.bind("isEnabled").to(this),t.bind("label").to(this),t.bind("tooltip").to(this),t.delegate("execute").to(this,"open"),t}}var bT=o(2704),m_={attributes:{"data-cke":!0}};m_.setAttributes=jt(),m_.insert=Vt().bind(null,"head"),m_.domAPI=Bt(),m_.insertStyleElement=zt(),Ut()(bT.Z,m_),bT.Z&&bT.Z.locals&&bT.Z.locals;var yT=o(1883),g_={attributes:{"data-cke":!0}};g_.setAttributes=jt(),g_.insert=Vt().bind(null,"head"),g_.domAPI=Bt(),g_.insertStyleElement=zt(),Ut()(yT.Z,g_),yT.Z&&yT.Z.locals&&yT.Z.locals;function Xu(f,t=Oy){const s=new t(f),a=new Dc(f),d=new sh(f,s,a);return s.bind("isEnabled").to(d),s instanceof gT?s.arrowView.bind("isOn").to(d,"isOpen"):s.bind("isOn").to(d,"isOpen"),function(p){(function(w){w.on("render",()=>{c({emitter:w,activator:()=>w.isOpen,callback:()=>{w.isOpen=!1},contextElements:()=>[w.element,...w.focusTracker._elements]})})})(p),function(w){w.on("execute",k=>{k.source instanceof Nu||(w.isOpen=!1)})}(p),function(w){w.focusTracker.on("change:isFocused",(k,D,R)=>{w.isOpen&&!R&&(w.isOpen=!1)})}(p),function(w){w.keystrokes.set("arrowdown",(k,D)=>{w.isOpen&&(w.panelView.focus(),D())}),w.keystrokes.set("arrowup",(k,D)=>{w.isOpen&&(w.panelView.focusLast(),D())})}(p),function(w){w.on("change:isOpen",(k,D,R)=>{if(R)return;const M=w.panelView.element;M&&M.contains(he.document.activeElement)&&w.buttonView.focus()})}(p),function(w){w.on("change:isOpen",(k,D,R)=>{R&&w.panelView.focus()},{priority:"low"})}(p)}(d),d}function QP(f,t,s={}){f.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),f.isOpen?i7(f,t,s):f.once("change:isOpen",()=>i7(f,t,s),{priority:"highest"}),s.enableActiveItemFocusOnDropdownOpen&&s7(f,()=>f.toolbarView.items.find(a=>a.isOn))}function i7(f,t,s){const a=f.locale,d=a.t,p=f.toolbarView=new JP(a),w=typeof t=="function"?t():t;p.ariaLabel=s.ariaLabel||d("Dropdown toolbar"),s.maxWidth&&(p.maxWidth=s.maxWidth),s.class&&(p.class=s.class),s.isCompact&&(p.isCompact=s.isCompact),s.isVertical&&(p.isVertical=!0),w instanceof na?p.items.bindTo(w).using(k=>k):p.items.addMany(w),f.panelView.children.add(p),p.items.delegate("execute").to(f)}function vT(f,t,s={}){f.isOpen?r7(f,t,s):f.once("change:isOpen",()=>r7(f,t,s),{priority:"highest"}),s7(f,()=>f.listView.items.find(a=>a instanceof n7&&a.children.first.isOn))}function r7(f,t,s){const a=f.locale,d=f.listView=new t7(a),p=typeof t=="function"?t():t;d.ariaLabel=s.ariaLabel,d.role=s.role,o7(f,d.items,p,a),f.panelView.children.add(d),d.items.delegate("execute").to(f)}function s7(f,t){f.on("change:isOpen",()=>{if(!f.isOpen)return;const s=t();s&&(typeof s.focus=="function"?s.focus():Y("ui-dropdown-focus-child-on-open-child-missing-focus",{view:s}))},{priority:F.low-10})}function o7(f,t,s,a){t.bindTo(s).using(d=>{if(d.type==="separator")return new cse(a);if(d.type==="group"){const p=new fT(a);return p.set({label:d.label}),o7(f,p.items,d.items,a),p.items.delegate("execute").to(f),p}if(d.type==="button"||d.type==="switchbutton"){const p=new n7(a);let w;return w=d.type==="button"?new qn(a):new Nu(a),w.bind(...Object.keys(d.model)).to(d.model),w.delegate("execute").to(p),p.children.add(w),p}return null})}const wT=(f,t,s)=>{const a=new Dx(f.locale);return a.set({id:t,ariaDescribedById:s}),a.bind("isReadOnly").to(f,"isEnabled",d=>!d),a.bind("hasError").to(f,"errorText",d=>!!d),a.on("input",()=>{f.errorText=null}),f.bind("isEmpty","isFocused","placeholder").to(a),a},b_=(f,t=0,s=1)=>f>s?s:f<t?t:f,Ds=(f,t=0,s=Math.pow(10,t))=>Math.round(s*f)/s,eI=f=>(f[0]==="#"&&(f=f.substring(1)),f.length<6?{r:parseInt(f[0]+f[0],16),g:parseInt(f[1]+f[1],16),b:parseInt(f[2]+f[2],16),a:f.length===4?Ds(parseInt(f[3]+f[3],16)/255,2):1}:{r:parseInt(f.substring(0,2),16),g:parseInt(f.substring(2,4),16),b:parseInt(f.substring(4,6),16),a:f.length===8?Ds(parseInt(f.substring(6,8),16)/255,2):1}),use=({h:f,s:t,v:s,a})=>{const d=(200-t)*s/100;return{h:Ds(f),s:Ds(d>0&&d<200?t*s/100/(d<=100?d:200-d)*100:0),l:Ds(d/2),a:Ds(a,2)}},tI=f=>{const{h:t,s,l:a}=use(f);return`hsl(${t}, ${s}%, ${a}%)`},dse=({h:f,s:t,v:s,a})=>{f=f/360*6,t/=100,s/=100;const d=Math.floor(f),p=s*(1-t),w=s*(1-(f-d)*t),k=s*(1-(1-f+d)*t),D=d%6;return{r:Ds(255*[s,w,p,p,k,s][D]),g:Ds(255*[k,s,s,w,p,p][D]),b:Ds(255*[p,p,k,s,s,w][D]),a:Ds(a,2)}},xT=f=>{const t=f.toString(16);return t.length<2?"0"+t:t},hse=({r:f,g:t,b:s,a})=>{const d=a<1?xT(Ds(255*a)):"";return"#"+xT(f)+xT(t)+xT(s)+d},fse=({r:f,g:t,b:s,a})=>{const d=Math.max(f,t,s),p=d-Math.min(f,t,s),w=p?d===f?(t-s)/p:d===t?2+(s-f)/p:4+(f-t)/p:0;return{h:Ds(60*(w<0?w+6:w)),s:Ds(d?p/d*100:0),v:Ds(d/255*100),a}},a7=(f,t)=>{if(f===t)return!0;for(const s in f)if(f[s]!==t[s])return!1;return!0},l7={},c7=f=>{let t=l7[f];return t||(t=document.createElement("template"),t.innerHTML=f,l7[f]=t),t},nI=(f,t,s)=>{f.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:s}))};let cv=!1;const iI=f=>"touches"in f,u7=(f,t)=>{const s=iI(t)?t.touches[0]:t,a=f.el.getBoundingClientRect();nI(f.el,"move",f.getMove({x:b_((s.pageX-(a.left+window.pageXOffset))/a.width),y:b_((s.pageY-(a.top+window.pageYOffset))/a.height)}))};class d7{constructor(t,s,a,d){const p=c7(`<div role="slider" tabindex="0" part="${s}" ${a}><div part="${s}-pointer"></div></div>`);t.appendChild(p.content.cloneNode(!0));const w=t.querySelector(`[part=${s}]`);w.addEventListener("mousedown",this),w.addEventListener("touchstart",this),w.addEventListener("keydown",this),this.el=w,this.xy=d,this.nodes=[w.firstChild,w]}set dragging(t){const s=t?document.addEventListener:document.removeEventListener;s(cv?"touchmove":"mousemove",this),s(cv?"touchend":"mouseup",this)}handleEvent(t){switch(t.type){case"mousedown":case"touchstart":if(t.preventDefault(),!(s=>!(cv&&!iI(s)||(cv||(cv=iI(s)),0)))(t)||!cv&&t.button!=0)return;this.el.focus(),u7(this,t),this.dragging=!0;break;case"mousemove":case"touchmove":t.preventDefault(),u7(this,t);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":((s,a)=>{const d=a.keyCode;d>40||s.xy&&d<37||d<33||(a.preventDefault(),nI(s.el,"move",s.getMove({x:d===39?.01:d===37?-.01:d===34?.05:d===33?-.05:d===35?1:d===36?-1:0,y:d===40?.01:d===38?-.01:0},!0)))})(this,t)}}style(t){t.forEach((s,a)=>{for(const d in s)this.nodes[a].style.setProperty(d,s[d])})}}class pse extends d7{constructor(t){super(t,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:t}){this.h=t,this.style([{left:t/360*100+"%",color:tI({h:t,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${Ds(t)}`)}getMove(t,s){return{h:s?b_(this.h+360*t.x,0,360):360*t.x}}}class mse extends d7{constructor(t){super(t,"saturation",'aria-label="Color"',!0)}update(t){this.hsva=t,this.style([{top:100-t.v+"%",left:`${t.s}%`,color:tI(t)},{"background-color":tI({h:t.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${Ds(t.s)}%, Brightness ${Ds(t.v)}%`)}getMove(t,s){return{s:s?b_(this.hsva.s+100*t.x,0,100):100*t.x,v:s?b_(this.hsva.v-100*t.y,0,100):Math.round(100-100*t.y)}}}const _T=Symbol("same"),rI=Symbol("color"),h7=Symbol("hsva"),sI=Symbol("update"),f7=Symbol("parts"),p7=Symbol("css"),m7=Symbol("sliders");class gse extends HTMLElement{static get observedAttributes(){return["color"]}get[p7](){return[':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',"[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}","[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}"]}get[m7](){return[mse,pse]}get color(){return this[rI]}set color(t){if(!this[_T](t)){const s=this.colorModel.toHsva(t);this[sI](s),this[rI]=t}}constructor(){super();const t=c7(`<style>${this[p7].join("")}</style>`),s=this.attachShadow({mode:"open"});s.appendChild(t.content.cloneNode(!0)),s.addEventListener("move",this),this[f7]=this[m7].map(a=>new a(s))}connectedCallback(){if(this.hasOwnProperty("color")){const t=this.color;delete this.color,this.color=t}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(t,s,a){const d=this.colorModel.fromAttr(a);this[_T](d)||(this.color=d)}handleEvent(t){const s=this[h7],a={...s,...t.detail};let d;this[sI](a),a7(a,s)||this[_T](d=this.colorModel.fromHsva(a))||(this[rI]=d,nI(this,"color-changed",{value:d}))}[_T](t){return this.color&&this.colorModel.equal(t,this.color)}[sI](t){this[h7]=t,this[f7].forEach(s=>s.update(t))}}const bse={defaultColor:"#000",toHsva:f=>fse(eI(f)),fromHsva:({h:f,s:t,v:s})=>hse(dse({h:f,s:t,v:s,a:1})),equal:(f,t)=>f.toLowerCase()===t.toLowerCase()||a7(eI(f),eI(t)),fromAttr:f=>f};class yse extends gse{get colorModel(){return bse}}customElements.define("hex-color-picker",class extends yse{});var kT=o(4257),y_={attributes:{"data-cke":!0}};y_.setAttributes=jt(),y_.insert=Vt().bind(null,"head"),y_.domAPI=Bt(),y_.insertStyleElement=zt(),Ut()(kT.Z,y_),kT.Z&&kT.Z.locals&&kT.Z.locals;var ET=o(6306),v_={attributes:{"data-cke":!0}};v_.setAttributes=jt(),v_.insert=Vt().bind(null,"head"),v_.domAPI=Bt(),v_.insertStyleElement=zt(),Ut()(ET.Z,v_),ET.Z&&ET.Z.locals&&ET.Z.locals;class vse{constructor(t){this._components=new Map,this.editor=t}*names(){for(const t of this._components.values())yield t.originalName}add(t,s){this._components.set(oI(t),{callback:s,originalName:t})}create(t){if(!this.has(t))throw new B("componentfactory-item-missing",this,{name:t});return this._components.get(oI(t)).callback(this.editor.locale)}has(t){return this._components.has(oI(t))}}function oI(f){return String(f).toLowerCase()}var ST=o(4460),w_={attributes:{"data-cke":!0}};w_.setAttributes=jt(),w_.insert=Vt().bind(null,"head"),w_.domAPI=Bt(),w_.insertStyleElement=zt(),Ut()(ST.Z,w_),ST.Z&&ST.Z.locals&&ST.Z.locals;const g7=ts("px"),b7=he.document.body,wse={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}};class Js extends dn{constructor(t){super(t);const s=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",s.to("position",a=>`ck-balloon-panel_${a}`),s.if("isVisible","ck-balloon-panel_visible"),s.if("withArrow","ck-balloon-panel_with-arrow"),s.to("class")],style:{top:s.to("top",g7),left:s.to("left",g7)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(t){this.show();const s=Js.defaultPositions,a=Object.assign({},{element:this.element,positions:[s.southArrowNorth,s.southArrowNorthMiddleWest,s.southArrowNorthMiddleEast,s.southArrowNorthWest,s.southArrowNorthEast,s.northArrowSouth,s.northArrowSouthMiddleWest,s.northArrowSouthMiddleEast,s.northArrowSouthWest,s.northArrowSouthEast,s.viewportStickyNorth],limiter:b7,fitInViewport:!0},t),d=Js._getOptimalPosition(a)||wse,p=parseInt(d.left),w=parseInt(d.top),k=d.name,D=d.config||{},{withArrow:R=!0}=D;this.top=w,this.left=p,this.position=k,this.withArrow=R}pin(t){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(t):this._stopPinning()},this._startPinning(t),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(t){this.attachTo(t);const s=aI(t.target),a=t.limiter?aI(t.limiter):b7;this.listenTo(he.document,"scroll",(d,p)=>{const w=p.target,k=s&&w.contains(s),D=a&&w.contains(a);!k&&!D&&s&&a||this.attachTo(t)},{useCapture:!0}),this.listenTo(he.window,"resize",()=>{this.attachTo(t)})}_stopPinning(){this.stopListening(he.document,"scroll"),this.stopListening(he.window,"resize")}}function aI(f){return ei(f)?f:Qe(f)?f.commonAncestorContainer:typeof f=="function"?aI(f()):null}function y7(f={}){const{sideOffset:t=Js.arrowSideOffset,heightOffset:s=Js.arrowHeightOffset,stickyVerticalOffset:a=Js.stickyVerticalOffset,config:d}=f;return{northWestArrowSouthWest:(k,D)=>({top:p(k,D),left:k.left-t,name:"arrow_sw",...d&&{config:d}}),northWestArrowSouthMiddleWest:(k,D)=>({top:p(k,D),left:k.left-.25*D.width-t,name:"arrow_smw",...d&&{config:d}}),northWestArrowSouth:(k,D)=>({top:p(k,D),left:k.left-D.width/2,name:"arrow_s",...d&&{config:d}}),northWestArrowSouthMiddleEast:(k,D)=>({top:p(k,D),left:k.left-.75*D.width+t,name:"arrow_sme",...d&&{config:d}}),northWestArrowSouthEast:(k,D)=>({top:p(k,D),left:k.left-D.width+t,name:"arrow_se",...d&&{config:d}}),northArrowSouthWest:(k,D)=>({top:p(k,D),left:k.left+k.width/2-t,name:"arrow_sw",...d&&{config:d}}),northArrowSouthMiddleWest:(k,D)=>({top:p(k,D),left:k.left+k.width/2-.25*D.width-t,name:"arrow_smw",...d&&{config:d}}),northArrowSouth:(k,D)=>({top:p(k,D),left:k.left+k.width/2-D.width/2,name:"arrow_s",...d&&{config:d}}),northArrowSouthMiddleEast:(k,D)=>({top:p(k,D),left:k.left+k.width/2-.75*D.width+t,name:"arrow_sme",...d&&{config:d}}),northArrowSouthEast:(k,D)=>({top:p(k,D),left:k.left+k.width/2-D.width+t,name:"arrow_se",...d&&{config:d}}),northEastArrowSouthWest:(k,D)=>({top:p(k,D),left:k.right-t,name:"arrow_sw",...d&&{config:d}}),northEastArrowSouthMiddleWest:(k,D)=>({top:p(k,D),left:k.right-.25*D.width-t,name:"arrow_smw",...d&&{config:d}}),northEastArrowSouth:(k,D)=>({top:p(k,D),left:k.right-D.width/2,name:"arrow_s",...d&&{config:d}}),northEastArrowSouthMiddleEast:(k,D)=>({top:p(k,D),left:k.right-.75*D.width+t,name:"arrow_sme",...d&&{config:d}}),northEastArrowSouthEast:(k,D)=>({top:p(k,D),left:k.right-D.width+t,name:"arrow_se",...d&&{config:d}}),southWestArrowNorthWest:k=>({top:w(k),left:k.left-t,name:"arrow_nw",...d&&{config:d}}),southWestArrowNorthMiddleWest:(k,D)=>({top:w(k),left:k.left-.25*D.width-t,name:"arrow_nmw",...d&&{config:d}}),southWestArrowNorth:(k,D)=>({top:w(k),left:k.left-D.width/2,name:"arrow_n",...d&&{config:d}}),southWestArrowNorthMiddleEast:(k,D)=>({top:w(k),left:k.left-.75*D.width+t,name:"arrow_nme",...d&&{config:d}}),southWestArrowNorthEast:(k,D)=>({top:w(k),left:k.left-D.width+t,name:"arrow_ne",...d&&{config:d}}),southArrowNorthWest:k=>({top:w(k),left:k.left+k.width/2-t,name:"arrow_nw",...d&&{config:d}}),southArrowNorthMiddleWest:(k,D)=>({top:w(k),left:k.left+k.width/2-.25*D.width-t,name:"arrow_nmw",...d&&{config:d}}),southArrowNorth:(k,D)=>({top:w(k),left:k.left+k.width/2-D.width/2,name:"arrow_n",...d&&{config:d}}),southArrowNorthMiddleEast:(k,D)=>({top:w(k),left:k.left+k.width/2-.75*D.width+t,name:"arrow_nme",...d&&{config:d}}),southArrowNorthEast:(k,D)=>({top:w(k),left:k.left+k.width/2-D.width+t,name:"arrow_ne",...d&&{config:d}}),southEastArrowNorthWest:k=>({top:w(k),left:k.right-t,name:"arrow_nw",...d&&{config:d}}),southEastArrowNorthMiddleWest:(k,D)=>({top:w(k),left:k.right-.25*D.width-t,name:"arrow_nmw",...d&&{config:d}}),southEastArrowNorth:(k,D)=>({top:w(k),left:k.right-D.width/2,name:"arrow_n",...d&&{config:d}}),southEastArrowNorthMiddleEast:(k,D)=>({top:w(k),left:k.right-.75*D.width+t,name:"arrow_nme",...d&&{config:d}}),southEastArrowNorthEast:(k,D)=>({top:w(k),left:k.right-D.width+t,name:"arrow_ne",...d&&{config:d}}),westArrowEast:(k,D)=>({top:k.top+k.height/2-D.height/2,left:k.left-D.width-s,name:"arrow_e",...d&&{config:d}}),eastArrowWest:(k,D)=>({top:k.top+k.height/2-D.height/2,left:k.right+s,name:"arrow_w",...d&&{config:d}}),viewportStickyNorth:(k,D,R,M)=>{const U=M||R;return k.getIntersection(U)?U.height-k.height>a?null:{top:U.top+a,left:k.left+k.width/2-D.width/2,name:"arrowless",config:{withArrow:!1,...d}}:null}};function p(k,D){return k.top-D.height-s}function w(k){return k.bottom+s}}Js.arrowSideOffset=25,Js.arrowHeightOffset=10,Js.stickyVerticalOffset=20,Js._getOptimalPosition=Es,Js.defaultPositions=y7();var AT=o(3888),x_={attributes:{"data-cke":!0}};x_.setAttributes=jt(),x_.insert=Vt().bind(null,"head"),x_.domAPI=Bt(),x_.insertStyleElement=zt(),Ut()(AT.Z,x_),AT.Z&&AT.Z.locals&&AT.Z.locals;const v7="ck-tooltip";class ss extends Ar(){constructor(t){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,ss._editors.add(t),ss._instance)return ss._instance;ss._instance=this,this.tooltipTextView=new dn(t.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Js(t.locale),this.balloonPanelView.class=v7,this.balloonPanelView.content.add(this.tooltipTextView),this._pinTooltipDebounced=hh(this._pinTooltip,600),this.listenTo(he.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(he.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(he.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(he.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(he.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(t){const s=t.ui.view&&t.ui.view.body;ss._editors.delete(t),this.stopListening(t.ui),s&&s.has(this.balloonPanelView)&&s.remove(this.balloonPanelView),ss._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),ss._instance=null)}static getPositioningFunctions(t){const s=ss.defaultBalloonPositions;return{s:[s.southArrowNorth,s.southArrowNorthEast,s.southArrowNorthWest],n:[s.northArrowSouth],e:[s.eastArrowWest],w:[s.westArrowEast],sw:[s.southArrowNorthEast],se:[s.southArrowNorthWest]}[t]}_onEnterOrFocus(t,{target:s}){const a=lI(s);var d;a&&a!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(a,{text:(d=a).dataset.ckeTooltipText,position:d.dataset.ckeTooltipPosition||"s",cssClass:d.dataset.ckeTooltipClass||""}))}_onLeaveOrBlur(t,{target:s,relatedTarget:a}){if(t.name==="mouseleave"){if(!ei(s)||this._currentElementWithTooltip&&s!==this._currentElementWithTooltip)return;const d=lI(s),p=lI(a);d&&d!==p&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&s!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(t,{target:s}){this._currentElementWithTooltip&&(s.contains(this.balloonPanelView.element)&&s.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(t,{text:s,position:a,cssClass:d}){const p=ki(ss._editors.values()).ui.view.body;p.has(this.balloonPanelView)||p.add(this.balloonPanelView),this.tooltipTextView.text=s,this.balloonPanelView.pin({target:t,positions:ss.getPositioningFunctions(a)}),this._resizeObserver=new Dn(t,()=>{Li(t)||this._unpinTooltip()}),this.balloonPanelView.class=[v7,d].filter(w=>w).join(" ");for(const w of ss._editors)this.listenTo(w.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=t,this._currentTooltipPosition=a}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const t of ss._editors)this.stopListening(t.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){Li(this._currentElementWithTooltip)?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:ss.getPositioningFunctions(this._currentTooltipPosition)}):this._unpinTooltip()}}function lI(f){return ei(f)?f.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}ss.defaultBalloonPositions=y7({heightOffset:5,sideOffset:13}),ss._editors=new Set,ss._instance=null;const __=function(f,t,s){var a=!0,d=!0;if(typeof f!="function")throw new TypeError("Expected a function");return Oe(s)&&(a="leading"in s?!!s.leading:a,d="trailing"in s?!!s.trailing:d),hh(f,t,{leading:a,maxWait:t,trailing:d})},xse=50,_se=350,kse="Powered by";class Ese extends Ar(){constructor(t){super(),this.editor=t,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=__(this._showBalloon.bind(this),50,{leading:!0}),t.on("ready",this._handleEditorReady.bind(this))}destroy(){const t=this._balloonView;t&&(t.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const t=this.editor;(t.config.get("ui.poweredBy.forceVisible")||function(s){function a(Z){return Z.length>=40&&Z.length<=255?"VALID":"INVALID"}if(!s)return"INVALID";let d="";try{d=atob(s)}catch{return"INVALID"}const p=d.split("-"),w=p[0],k=p[1];if(!k)return a(s);try{atob(k)}catch{try{if(atob(w),!atob(w).length)return a(s)}catch{return a(s)}}if(w.length<40||w.length>255)return"INVALID";let D="";try{atob(w),D=atob(k)}catch{return"INVALID"}if(D.length!==8)return"INVALID";const R=Number(D.substring(0,4)),M=Number(D.substring(4,6))-1,U=Number(D.substring(6,8)),W=new Date(R,M,U);return W<be||isNaN(Number(W))?"INVALID":"VALID"}(t.config.get("licenseKey"))!=="VALID")&&t.ui.view&&(t.ui.focusTracker.on("change:isFocused",(s,a,d)=>{this._updateLastFocusedEditableElement(),d?this._showBalloon():this._hideBalloon()}),t.ui.focusTracker.on("change:focusedElement",(s,a,d)=>{this._updateLastFocusedEditableElement(),d&&this._showBalloon()}),t.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const t=this.editor,s=this._balloonView=new Js,a=x7(t),d=new Sse(t.locale,a.label);s.content.add(d),s.set({class:"ck-powered-by-balloon"}),t.ui.view.body.add(s),t.ui.focusTracker.add(s.element),this._balloonView=s}_showBalloon(){if(!this._lastFocusedEditableElement)return;const t=function(s,a){const d=x7(s),p=d.side==="right"?function(w,k){return w7(w,k,(D,R)=>D.left+D.width-R.width-k.horizontalOffset)}(a,d):function(w,k){return w7(w,k,D=>D.left+k.horizontalOffset)}(a,d);return{target:a,positions:[p]}}(this.editor,this._lastFocusedEditableElement);t&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(t))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const t=this.editor,s=t.ui.focusTracker.isFocused,a=t.ui.focusTracker.focusedElement;if(!s||!a)return void(this._lastFocusedEditableElement=null);const d=Array.from(t.ui.getEditableElementsNames()).map(p=>t.ui.getEditableElement(p));d.includes(a)?this._lastFocusedEditableElement=a:this._lastFocusedEditableElement=d[0]}}class Sse extends dn{constructor(t,s){super(t);const a=new ra,d=this.bindTemplate;a.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),a.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...s?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[s]}]:[],a],on:{dragstart:d.to(p=>p.preventDefault())}}]})}}function w7(f,t,s){return(a,d)=>{const p=new _t(f);if(p.width<_se||p.height<xse)return null;let w;w=t.position==="inside"?p.bottom-d.height:p.bottom-d.height/2,w-=t.verticalOffset;const k=s(p,d),D=a.clone().moveTo(k,w).getIntersection(d.clone().moveTo(k,w)).getVisible();return!D||D.getArea()<d.getArea()?null:{top:w,left:k,name:`position_${t.position}-side_${t.side}`,config:{withArrow:!1}}}}function x7(f){const t=f.config.get("ui.poweredBy"),s=t&&t.position||"border";return{position:s,label:kse,verticalOffset:s==="inside"?5:0,horizontalOffset:5,side:f.locale.contentLanguageDirection==="ltr"?"right":"left",...t}}class Ase extends ze(){constructor(t){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const s=t.editing.view;this.editor=t,this.componentFactory=new vse(t),this.focusTracker=new lr,this.tooltipManager=new ss(t),this.poweredBy=new Ese(t),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(s.document,"layoutChanged",this.update.bind(this)),this.listenTo(s,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const t of this._editableElementsMap.values())t.ckeditorInstance=null,this.editor.keystrokes.stopListening(t);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(t,s){this._editableElementsMap.set(t,s),s.ckeditorInstance||(s.ckeditorInstance=this.editor),this.focusTracker.add(s);const a=()=>{this.editor.editing.view.getDomRoot(t)||this.editor.keystrokes.listenTo(s)};this.isReady?a():this.once("ready",a)}removeEditableElement(t){const s=this._editableElementsMap.get(t);s&&(this._editableElementsMap.delete(t),this.editor.keystrokes.stopListening(s),this.focusTracker.remove(s),s.ckeditorInstance=null)}getEditableElement(t="main"){return this._editableElementsMap.get(t)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(t,s={}){t.isRendered?(this.focusTracker.add(t.element),this.editor.keystrokes.listenTo(t.element)):t.once("render",()=>{this.focusTracker.add(t.element),this.editor.keystrokes.listenTo(t.element)}),this._focusableToolbarDefinitions.push({toolbarView:t,options:s})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const t=this.editor,s=t.config.get("ui.viewportOffset");if(s)return s;const a=t.config.get("toolbar.viewportTopOffset");return a?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:a}):{top:0}}_initFocusTracking(){const t=this.editor,s=t.editing.view;let a,d;t.keystrokes.set("Alt+F10",(p,w)=>{const k=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(k)&&!Array.from(s.domRoots.values()).includes(k)&&(a=k);const D=this._getCurrentFocusedToolbarDefinition();D&&d||(d=this._getFocusableCandidateToolbarDefinitions());for(let R=0;R<d.length;R++){const M=d.shift();if(d.push(M),M!==D&&this._focusFocusableCandidateToolbar(M)){D&&D.options.afterBlur&&D.options.afterBlur();break}}w()}),t.keystrokes.set("Esc",(p,w)=>{const k=this._getCurrentFocusedToolbarDefinition();k&&(a?(a.focus(),a=null):t.editing.view.focus(),k.options.afterBlur&&k.options.afterBlur(),w())})}_getFocusableCandidateToolbarDefinitions(){const t=[];for(const s of this._focusableToolbarDefinitions){const{toolbarView:a,options:d}=s;(Li(a.element)||d.beforeFocus)&&t.push(s)}return t.sort((s,a)=>_7(s)-_7(a)),t}_getCurrentFocusedToolbarDefinition(){for(const t of this._focusableToolbarDefinitions)if(t.toolbarView.element&&t.toolbarView.element.contains(this.focusTracker.focusedElement))return t;return null}_focusFocusableCandidateToolbar(t){const{toolbarView:s,options:{beforeFocus:a}}=t;return a&&a(),!!Li(s.element)&&(s.focus(),!0)}_handleScrollToTheSelection(t,s){const a={top:0,bottom:0,left:0,right:0,...this.viewportOffset};s.viewportOffset.top+=a.top,s.viewportOffset.bottom+=a.bottom,s.viewportOffset.left+=a.left,s.viewportOffset.right+=a.right}}function _7(f){const{toolbarView:t,options:s}=f;let a=10;return Li(t.element)&&a--,s.isContextual&&a--,a}var TT=o(9847),k_={attributes:{"data-cke":!0}};k_.setAttributes=jt(),k_.insert=Vt().bind(null,"head"),k_.domAPI=Bt(),k_.insertStyleElement=zt(),Ut()(TT.Z,k_),TT.Z&&TT.Z.locals&&TT.Z.locals;class Tse extends dn{constructor(t){super(t),this.body=new Ng(t)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class Cse extends Tse{constructor(t){super(t),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:t.uiLanguageDirection,lang:t.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const t=this.t,s=new np;return s.text=t("Rich Text Editor"),s.extendTemplate({attributes:{class:"ck-voice-label"}}),s}}class Dse extends dn{constructor(t,s,a){super(t),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:t.contentLanguage,dir:t.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=a,this._hasExternalElement=!!this._editableElement,this._editingView=s}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const t=this._editingView;function s(a){t.change(d=>{const p=t.document.getRoot(a.name);d.addClass(a.isFocused?"ck-focused":"ck-blurred",p),d.removeClass(a.isFocused?"ck-blurred":"ck-focused",p)})}t.isRenderingInProgress?function a(d){t.once("change:isRenderingInProgress",(p,w,k)=>{k?a(d):s(d)})}(this):s(this)}}class Nse extends Dse{constructor(t,s,a,d={}){super(t,s,a);const p=t.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=d.label||(()=>p("Editor editing area: %0",this.name))}render(){super.render();const t=this._editingView;t.change(s=>{const a=t.document.getRoot(this.name);s.setAttribute("aria-label",this._generateLabel(this),a)})}}var CT=o(1874),E_={attributes:{"data-cke":!0}};E_.setAttributes=jt(),E_.insert=Vt().bind(null,"head"),E_.domAPI=Bt(),E_.insertStyleElement=zt(),Ut()(CT.Z,E_),CT.Z&&CT.Z.locals&&CT.Z.locals;class k7 extends op{static get pluginName(){return"Notification"}init(){this.on("show:warning",(t,s)=>{window.alert(s.message)},{priority:"lowest"})}showSuccess(t,s={}){this._showNotification({message:t,type:"success",namespace:s.namespace,title:s.title})}showInfo(t,s={}){this._showNotification({message:t,type:"info",namespace:s.namespace,title:s.title})}showWarning(t,s={}){this._showNotification({message:t,type:"warning",namespace:s.namespace,title:s.title})}_showNotification(t){const s=t.namespace?`show:${t.type}:${t.namespace}`:`show:${t.type}`;this.fire(s,{message:t.message,type:t.type,title:t.title||""})}}class DT extends ze(){constructor(t,s){super(),s&&Mc(this,s),t&&this.set(t)}}var NT=o(7592),S_={attributes:{"data-cke":!0}};S_.setAttributes=jt(),S_.insert=Vt().bind(null,"head"),S_.domAPI=Bt(),S_.insertStyleElement=zt(),Ut()(NT.Z,S_),NT.Z&&NT.Z.locals&&NT.Z.locals;var PT=o(6356),A_={attributes:{"data-cke":!0}};A_.setAttributes=jt(),A_.insert=Vt().bind(null,"head"),A_.domAPI=Bt(),A_.insertStyleElement=zt(),Ut()(PT.Z,A_),PT.Z&&PT.Z.locals&&PT.Z.locals;const IT=ts("px");class jT extends st{static get pluginName(){return"ContextualBalloon"}constructor(t){super(t),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const s=this.editor.editing.view,a=s.document.selection.editableElement;return a?s.domConverter.mapViewToDom(a.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(t){return Array.from(this._viewToStack.keys()).includes(t)}add(t){if(this._view||this._createPanelView(),this.hasView(t.view))throw new B("contextualballoon-add-view-exist",[this,t]);const s=t.stackId||"main";if(!this._idToStack.has(s))return this._idToStack.set(s,new Map([[t.view,t]])),this._viewToStack.set(t.view,this._idToStack.get(s)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!t.singleViewMode||this.showStack(s));const a=this._idToStack.get(s);t.singleViewMode&&this.showStack(s),a.set(t.view,t),this._viewToStack.set(t.view,a),a===this._visibleStack&&this._showView(t)}remove(t){if(!this.hasView(t))throw new B("contextualballoon-remove-view-not-exist",[this,t]);const s=this._viewToStack.get(t);this._singleViewMode&&this.visibleView===t&&(this._singleViewMode=!1),this.visibleView===t&&(s.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(s.values())[s.size-2])),s.size===1?(this._idToStack.delete(this._getStackId(s)),this._numberOfStacks=this._idToStack.size):s.delete(t),this._viewToStack.delete(t)}updatePosition(t){t&&(this._visibleStack.get(this.visibleView).position=t),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(t){this.visibleStack=t;const s=this._idToStack.get(t);if(!s)throw new B("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==s&&this._showView(Array.from(s.values()).pop())}_createPanelView(){this._view=new Js(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(t){return Array.from(this._idToStack.entries()).find(s=>s[1]===t)[0]}_showNextStack(){const t=Array.from(this._idToStack.values());let s=t.indexOf(this._visibleStack)+1;t[s]||(s=0),this.showStack(this._getStackId(t[s]))}_showPrevStack(){const t=Array.from(this._idToStack.values());let s=t.indexOf(this._visibleStack)-1;t[s]||(s=t.length-1),this.showStack(this._getStackId(t[s]))}_createRotatorView(){const t=new Pse(this.editor.locale),s=this.editor.locale.t;return this.view.content.add(t),t.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(a,d)=>!d&&a>1),t.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),t.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(a,d)=>{if(d<2)return"";const p=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return s("%0 of %1",[p,d])}),t.buttonNextView.on("execute",()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),t.buttonPrevView.on("execute",()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),t}_createFakePanelsView(){const t=new Ise(this.editor.locale,this.view);return t.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(s,a)=>!a&&s>=2?Math.min(s-1,2):0),t.listenTo(this.view,"change:top",()=>t.updatePosition()),t.listenTo(this.view,"change:left",()=>t.updatePosition()),this.editor.ui.view.body.add(t),t}_showView({view:t,balloonClassName:s="",withArrow:a=!0,singleViewMode:d=!1}){this.view.class=s,this.view.withArrow=a,this._rotatorView.showView(t),this.visibleView=t,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),d&&(this._singleViewMode=!0)}_getBalloonPosition(){let t=Array.from(this._visibleStack.values()).pop().position;return t&&(t.limiter||(t=Object.assign({},t,{limiter:this.positionLimiter})),t=Object.assign({},t,{viewportOffsetConfig:this.editor.ui.viewportOffset})),t}}class Pse extends dn{constructor(t){super(t);const s=t.t,a=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new lr,this.buttonPrevView=this._createButtonView(s("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(s("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",a.to("isNavigationVisible",d=>d?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:a.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(t){this.hideView(),this.content.add(t)}hideView(){this.content.clear()}_createButtonView(t,s){const a=new qn(this.locale);return a.set({label:t,icon:s,tooltip:!0}),a}}class Ise extends dn{constructor(t,s){super(t);const a=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=s,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",a.to("numberOfPanels",d=>d?"":"ck-hidden")],style:{top:a.to("top",IT),left:a.to("left",IT),width:a.to("width",IT),height:a.to("height",IT)}},children:this.content}),this.on("change:numberOfPanels",(d,p,w,k)=>{w>k?this._addPanels(w-k):this._removePanels(k-w),this.updatePosition()})}_addPanels(t){for(;t--;){const s=new dn;s.setTemplate({tag:"div"}),this.content.add(s),this.registerChild(s)}}_removePanels(t){for(;t--;){const s=this.content.last;this.content.remove(s),this.deregisterChild(s),s.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:t,left:s}=this._balloonPanelView,{width:a,height:d}=new _t(this._balloonPanelView.element);Object.assign(this,{top:t,left:s,width:a,height:d})}}}var RT=o(3707),T_={attributes:{"data-cke":!0}};T_.setAttributes=jt(),T_.insert=Vt().bind(null,"head"),T_.domAPI=Bt(),T_.insertStyleElement=zt(),Ut()(RT.Z,T_),RT.Z&&RT.Z.locals&&RT.Z.locals;const uv=ts("px");class jse extends dn{constructor(t){super(t);const s=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new Tr({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:s.to("isSticky",a=>a?"block":"none"),height:s.to("isSticky",a=>a?uv(this._contentPanelRect.height):null)}}}).render(),this._contentPanel=new Tr({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",s.if("isSticky","ck-sticky-panel__content_sticky"),s.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:s.to("isSticky",a=>a?uv(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:s.to("_stickyTopOffset",a=>a&&uv(a)),bottom:s.to("_stickyBottomOffset",a=>a&&uv(a)),marginLeft:s.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(he.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive)return void this._unstick();const t=new _t(this.limiterElement);let s=t.getVisible();if(s){const a=new _t(he.window);a.top+=this.viewportTopOffset,a.height-=this.viewportTopOffset,s=s.getIntersection(a)}if(s&&t.top<s.top){const a=s.top;if(a+this._contentPanelRect.height+this.limiterBottomOffset>s.bottom){const d=Math.max(t.bottom-s.bottom,0)+this.limiterBottomOffset;t.bottom-d>t.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(d):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<t.height?this._stickToTopOfAncestors(a):this._unstick()}else this._unstick()}_stickToTopOfAncestors(t){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=t,this._stickyBottomOffset=null,this._marginLeft=uv(-he.window.scrollX)}_stickToBottomOfLimiter(t){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=t,this._marginLeft=uv(-he.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new _t(this._contentPanel)}}class Rse extends Pu{constructor(t,s){const a=t.t,d=Object.assign({},{showResetButton:!0,showIcon:!0,creator:wT},s);super(t,d.creator),this.label=s.label,this._viewConfig=d,this._viewConfig.showIcon&&(this.iconView=new ra,this.iconView.content=ri.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new qn(t),this.resetButtonView.set({label:a("Clear"),icon:ri.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",p=>!p),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class Mse extends dn{constructor(){super();const t=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",t.if("isVisible","ck-hidden",s=>!s)],tabindex:-1},children:[{tag:"span",children:[{text:[t.to("primaryText")]}]},{tag:"span",children:[{text:[t.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class Ose extends dn{constructor(t){super(t),this.children=this.createCollection(),this.focusTracker=new lr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new Nc({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const t of this.children)this.focusTracker.add(t.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var E7=/[\\^$.*+?()[\]{}|]/g,Fse=RegExp(E7.source);const S7=function(f){return(f=Io(f))&&Fse.test(f)?f.replace(E7,"\\$&"):f};var MT=o(9332),C_={attributes:{"data-cke":!0}};C_.setAttributes=jt(),C_.insert=Vt().bind(null,"head"),C_.domAPI=Bt(),C_.insertStyleElement=zt(),Ut()(MT.Z,C_),MT.Z&&MT.Z.locals&&MT.Z.locals;class Lse extends dn{constructor(t,s){super(t),this._config=s,this.filteredView=s.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new lr,this.keystrokes=new Fa,this.resultsView=new Ose(t),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),s.infoView&&s.infoView.instance?this.infoView=s.infoView.instance:(this.infoView=new Mse,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new Nc({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(a,{resultsCount:d,totalItemsCount:p})=>{this.resultsCount=d,this.totalItemsCount=p}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",s.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const t=s=>s.stopPropagation();for(const s of this.focusableChildren)this.focusTracker.add(s.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(t){const s=t?new RegExp(S7(t),"ig"):null,a=this.filteredView.filter(s);this.fire("search",{query:t,...a})}_createSearchTextQueryView(){const t=new Rse(this.locale,this._config.queryView);return this.listenTo(t.fieldView,"input",()=>{this.search(t.fieldView.element.value)}),t.on("reset",()=>this.reset()),t.bind("isEnabled").to(this),t}_enableDefaultInfoViewBehavior(){const t=this.locale.t,s=this.infoView;function a(d,{query:p,resultsCount:w,totalItemsCount:k}){return typeof d=="function"?d(p,w,k):d}this.on("search",(d,p)=>{if(p.resultsCount)s.set({isVisible:!1});else{const w=this._config.infoView&&this._config.infoView.text;let k,D;p.totalItemsCount?w&&w.notFound?(k=w.notFound.primary,D=w.notFound.secondary):(k=t("No results found"),D=""):w&&w.noSearchableItems?(k=w.noSearchableItems.primary,D=w.noSearchableItems.secondary):(k=t("No searchable items"),D=""),s.set({primaryText:a(k,p),secondaryText:a(D,p),isVisible:!0})}})}}var OT=o(4029),D_={attributes:{"data-cke":!0}};D_.setAttributes=jt(),D_.insert=Vt().bind(null,"head"),D_.domAPI=Bt(),D_.insertStyleElement=zt(),Ut()(OT.Z,D_),OT.Z&&OT.Z.locals&&OT.Z.locals;class N_ extends Lse{constructor(t,s){super(t,s),this._config=s;const a=ts("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const d=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[d.if("isVisible","ck-hidden",p=>!p),d.to("_position",p=>`ck-search__results_${p}`)],style:{width:d.to("_width",a)}}}),this.focusTracker.on("change:isFocused",(p,w,k)=>{this._updateResultsVisibility(),k?this.resultsView.element.scrollTop=0:s.resetOnBlur&&this.queryView.reset()}),this.on("search",()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()}),this.keystrokes.set("esc",(p,w)=>{this.resultsView.isVisible=!1,w()}),this.listenTo(he.document,"scroll",()=>{this._updateResultsViewWidthAndPosition()}),this.on("change:isEnabled",()=>{this._updateResultsVisibility()}),this.filteredView.on("execute",(p,{value:w})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=w,this.resultsView.isVisible=!1}),this.resultsView.on("change:isVisible",()=>{this._updateResultsViewWidthAndPosition()})}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new _t(this.queryView.fieldView.element).width;const t=N_._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:N_.defaultResultsPositions});this.resultsView._position=t?t.name:"s"}_updateResultsVisibility(){const t=this._config.queryMinChars===void 0?0:this._config.queryMinChars,s=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&s>=t}}N_.defaultResultsPositions=[f=>({top:f.bottom,left:f.left,name:"s"}),(f,t)=>({top:f.top-t.height,left:f.left,name:"n"})],N_._getOptimalPosition=Es;var FT=o(4746),P_={attributes:{"data-cke":!0}};P_.setAttributes=jt(),P_.insert=Vt().bind(null,"head"),P_.domAPI=Bt(),P_.insertStyleElement=zt(),Ut()(FT.Z,P_),FT.Z&&FT.Z.locals&&FT.Z.locals;var LT=o(6446),I_={attributes:{"data-cke":!0}};I_.setAttributes=jt(),I_.insert=Vt().bind(null,"head"),I_.domAPI=Bt(),I_.insertStyleElement=zt(),Ut()(LT.Z,I_),LT.Z&&LT.Z.locals&&LT.Z.locals;var UT=o(4176),j_={attributes:{"data-cke":!0}};j_.setAttributes=jt(),j_.insert=Vt().bind(null,"head"),j_.domAPI=Bt(),j_.insertStyleElement=zt(),Ut()(UT.Z,j_),UT.Z&&UT.Z.locals&&UT.Z.locals;class Use extends Ase{constructor(t,s){super(t),this.view=s,this._toolbarConfig=Ly(t.config.get("toolbar")),this._elementReplacer=new Le,this.listenTo(t.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(t){const s=this.editor,a=this.view,d=s.editing.view,p=a.editable,w=d.document.getRoot();p.name=w.rootName,a.render();const k=p.element;this.setEditableElement(p.name,k),a.editable.bind("isFocused").to(this.focusTracker),d.attachDomRoot(k),t&&this._elementReplacer.replace(t,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const t=this.view,s=this.editor.editing.view;this._elementReplacer.restore(),s.detachDomRoot(t.editable.name),t.destroy()}_initToolbar(){const t=this.view;t.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),t.stickyPanel.limiterElement=t.element,t.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:s})=>s||0),t.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(t.toolbar)}_initPlaceholder(){const t=this.editor,s=t.editing.view,a=s.document.getRoot(),d=t.sourceElement;let p;const w=t.config.get("placeholder");w&&(p=typeof w=="string"?w:w[this.view.editable.name]),!p&&d&&d.tagName.toLowerCase()==="textarea"&&(p=d.getAttribute("placeholder")),p&&(a.placeholder=p),Ru({view:s,element:a,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(t,s,a){const d=this.view.stickyPanel;if(d.isSticky){const p=new _t(d.element).height;s.viewportOffset.top+=p}else{const p=()=>{this.editor.editing.view.scrollToTheSelection(a)};this.listenTo(d,"change:isSticky",p),setTimeout(()=>{this.stopListening(d,"change:isSticky",p)},20)}}}var BT=o(3624),R_={attributes:{"data-cke":!0}};R_.setAttributes=jt(),R_.insert=Vt().bind(null,"head"),R_.domAPI=Bt(),R_.insertStyleElement=zt(),Ut()(BT.Z,R_),BT.Z&&BT.Z.locals&&BT.Z.locals;class Bse extends Cse{constructor(t,s,a={}){super(t),this.stickyPanel=new jse(t),this.toolbar=new JP(t,{shouldGroupWhenFull:a.shouldToolbarGroupWhenFull}),this.editable=new Nse(t,s)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class A7{constructor(t){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof t.crashNumberLimit=="number"?t.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof t.minimumNonErrorTimePeriod=="number"?t.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=s=>{const a="error"in s?s.error:s.reason;a instanceof Error&&this._handleError(a,s)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(t,s){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(s)}off(t,s){this._listeners[t]=this._listeners[t].filter(a=>a!==s)}_fire(t,...s){const a=this._listeners[t]||[];for(const d of a)d.apply(this,[null,...s])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(t,s){if(this._shouldReactToError(t)){this.crashes.push({message:t.message,stack:t.stack,filename:s instanceof ErrorEvent?s.filename:void 0,lineno:s instanceof ErrorEvent?s.lineno:void 0,colno:s instanceof ErrorEvent?s.colno:void 0,date:this._now()});const a=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:t,causesRestart:a}),a?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(t){return t.is&&t.is("CKEditorError")&&t.context!==void 0&&t.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(t)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function cI(f,t=new Set){const s=[f],a=new Set;let d=0;for(;s.length>d;){const p=s[d++];if(!a.has(p)&&zse(p)&&!t.has(p))if(a.add(p),Symbol.iterator in p)try{for(const w of p)s.push(w)}catch{}else for(const w in p)w!=="defaultValue"&&s.push(p[w])}return a}function zse(f){const t=Object.prototype.toString.call(f),s=typeof f;return!(s==="number"||s==="boolean"||s==="string"||s==="symbol"||s==="function"||t==="[object Date]"||t==="[object RegExp]"||t==="[object Module]"||f==null||f._watchdogExcluded||f instanceof EventTarget||f instanceof Event)}function T7(f,t,s=new Set){if(f===t&&typeof(a=f)=="object"&&a!==null)return!0;var a;const d=cI(f,s),p=cI(t,s);for(const w of d)if(p.has(w))return!0;return!1}class C7 extends A7{constructor(t,s={}){super(s),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=__(this._save.bind(this),typeof s.saveInterval=="number"?s.saveInterval:5e3),t&&(this._creator=(a,d)=>t.create(a,d)),this._destructor=a=>a.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(t=>{console.error("An error happened during the editor destroying.",t)}).then(()=>{const t={},s=[],a=this._config.rootsAttributes||{},d={};for(const[w,k]of Object.entries(this._data.roots))k.isLoaded?(t[w]="",d[w]=a[w]||{}):s.push(w);const p={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:s,rootsAttributes:d,_watchdogInitialData:this._data};return delete p.initialData,p.extraPlugins.push(Vse),this._initUsingData?this.create(t,p,p.context):ei(this._elementOrData)?this.create(this._elementOrData,p,p.context):this.create(this._editables,p,p.context)}).then(()=>{this._fire("restart")})}create(t=this._elementOrData,s=this._config,a){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=t,this._initUsingData=typeof t=="string"||Object.keys(t).length>0&&typeof Object.values(t)[0]=="string",this._config=this._cloneEditorConfiguration(s)||{},this._config.context=a,this._creator(t,this._config))).then(d=>{this._editor=d,d.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=d.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const t=this._editor;return this._editor=null,t.model.document.off("change:data",this._throttledSave),this._destructor(t)})}_save(){const t=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=t}catch(s){console.error(s,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(t){this._excludedProps=t}_getData(){const t=this._editor,s=t.model.document.roots.filter(k=>k.isAttached()&&k.rootName!="$graveyard"),{plugins:a}=t,d=a.has("CommentsRepository")&&a.get("CommentsRepository"),p=a.has("TrackChanges")&&a.get("TrackChanges"),w={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};s.forEach(k=>{w.roots[k.rootName]={content:JSON.stringify(Array.from(k.getChildren())),attributes:JSON.stringify(Array.from(k.getAttributes())),isLoaded:k._isLoaded}});for(const k of t.model.markers)k._affectsData&&(w.markers[k.name]={rangeJSON:k.getRange().toJSON(),usingOperation:k._managedUsingOperations,affectsData:k._affectsData});return d&&(w.commentThreads=JSON.stringify(d.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),p&&(w.suggestions=JSON.stringify(p.getSuggestions({toJSON:!0,skipNotAttached:!0}))),w}_getEditables(){const t={};for(const s of this.editor.model.document.getRootNames()){const a=this.editor.ui.getEditableElement(s);a&&(t[s]=a)}return t}_isErrorComingFromThisItem(t){return T7(this._editor,t.context,this._excludedProps)}_cloneEditorConfiguration(t){return ku(t,(s,a)=>ei(s)||a==="context"?s:void 0)}}class Vse{constructor(t){this.editor=t,this._data=t.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",t=>{t.stop(),this.editor.model.enqueueChange({isUndoable:!1},s=>{this._restoreCollaborationData(),this._restoreEditorData(s)}),this.editor.data.fire("ready")},{priority:999})}_createNode(t,s){if("name"in s){const a=t.createElement(s.name,s.attributes);if(s.children)for(const d of s.children)a._appendChild(this._createNode(t,d));return a}return t.createText(s.data,s.attributes)}_restoreEditorData(t){const s=this.editor;Object.entries(this._data.roots).forEach(([a,{content:d,attributes:p}])=>{const w=JSON.parse(d),k=JSON.parse(p),D=s.model.document.getRoot(a);for(const[R,M]of k)t.setAttribute(R,M,D);for(const R of w){const M=this._createNode(t,R);t.insert(M,D,"end")}}),Object.entries(this._data.markers).forEach(([a,d])=>{const{document:p}=s.model,{rangeJSON:{start:w,end:k},...D}=d,R=p.getRoot(w.root),M=t.createPositionFromPath(R,w.path,w.stickiness),U=t.createPositionFromPath(R,k.path,k.stickiness),W=t.createRange(M,U);t.addMarker(a,{range:W,...D})})}_restoreCollaborationData(){const t=JSON.parse(this._data.commentThreads),s=JSON.parse(this._data.suggestions);t.forEach(a=>{const d=this.editor.config.get("collaboration.channelId"),p=this.editor.plugins.get("CommentsRepository");p.hasCommentThread(a.threadId)&&p.getCommentThread(a.threadId).remove(),p.addCommentThread({channelId:d,...a})}),s.forEach(a=>{const d=this.editor.plugins.get("TrackChangesEditing");d.hasSuggestion(a.id)?d.getSuggestion(a.id).attributes=a.attributes:d.addSuggestionData(a)})}}const M_=Symbol("MainQueueId");class Wse{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(t){this._onEmptyCallbacks.push(t)}enqueue(t,s){const a=t===M_;this._activeActions++,this._queues.get(t)||this._queues.set(t,Promise.resolve());const d=(a?Promise.all(this._queues.values()):Promise.all([this._queues.get(M_),this._queues.get(t)])).then(s),p=d.catch(()=>{});return this._queues.set(t,p),d.finally(()=>{this._activeActions--,this._queues.get(t)===p&&this._activeActions===0&&this._onEmptyCallbacks.forEach(w=>w())})}}function D7(f){return Array.isArray(f)?f:[f]}class zT extends dT(ZP(rse)){constructor(t,s={}){if(!VT(t)&&s.initialData!==void 0)throw new B("editor-create-initial-data",null);super(s),this.config.get("initialData")===void 0&&this.config.set("initialData",function(p){return VT(p)?(w=p,w instanceof HTMLTextAreaElement?w.value:w.innerHTML):p;var w}(t)),VT(t)&&(this.sourceElement=t),this.model.document.createRoot();const a=!this.config.get("toolbar.shouldNotGroupWhenFull"),d=new Bse(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:a});this.ui=new Use(this,d),function(p){if(!Jr(p.updateSourceElement))throw new B("attachtoform-missing-elementapi-interface",p);const w=p.sourceElement;if(function(k){return!!k&&k.tagName.toLowerCase()==="textarea"}(w)&&w.form){let k;const D=w.form,R=()=>p.updateSourceElement();Jr(D.submit)&&(k=D.submit,D.submit=()=>{R(),k.apply(D)}),D.addEventListener("submit",R),p.on("destroy",()=>{D.removeEventListener("submit",R),k&&(D.submit=k)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(t,s={}){return new Promise(a=>{const d=new this(t,s);a(d.initPlugins().then(()=>d.ui.init(VT(t)?t:null)).then(()=>d.data.init(d.config.get("initialData"))).then(()=>d.fire("ready")).then(()=>d))})}}function VT(f){return ei(f)}zT.Context=jg,zT.EditorWatchdog=C7,zT.ContextWatchdog=class extends A7{constructor(f,t={}){super(t),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new Wse,this._watchdogConfig=t,this._creator=s=>f.create(s),this._destructor=s=>s.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(f){this._creator=f}setDestructor(f){this._destructor=f}get context(){return this._context}create(f={}){return this._actionQueues.enqueue(M_,()=>(this._contextConfig=f,this._create()))}getItem(f){return this._getWatchdog(f)._item}getItemState(f){return this._getWatchdog(f).state}add(f){const t=D7(f);return Promise.all(t.map(s=>this._actionQueues.enqueue(s.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let a;if(this._watchdogs.has(s.id))throw new Error(`Item with the given id is already added: '${s.id}'.`);if(s.type==="editor")return a=new C7(null,this._watchdogConfig),a.setCreator(s.creator),a._setExcludedProperties(this._contextProps),s.destructor&&a.setDestructor(s.destructor),this._watchdogs.set(s.id,a),a.on("error",(d,{error:p,causesRestart:w})=>{this._fire("itemError",{itemId:s.id,error:p}),w&&this._actionQueues.enqueue(s.id,()=>new Promise(k=>{const D=()=>{a.off("restart",D),this._fire("itemRestart",{itemId:s.id}),k()};a.on("restart",D)}))}),a.create(s.sourceElementOrData,s.config,this._context);throw new Error(`Not supported item type: '${s.type}'.`)})))}remove(f){const t=D7(f);return Promise.all(t.map(s=>this._actionQueues.enqueue(s,()=>{const a=this._getWatchdog(s);return this._watchdogs.delete(s),a.destroy()})))}destroy(){return this._actionQueues.enqueue(M_,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(M_,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(f=>{console.error("An error happened during destroying the context or items.",f)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(f=>(this._context=f,this._contextProps=cI(this._context),Promise.all(Array.from(this._watchdogs.values()).map(t=>(t._setExcludedProperties(this._contextProps),t.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const f=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(t=>t.destroy())).then(()=>this._destructor(f))})}_getWatchdog(f){const t=this._watchdogs.get(f);if(!t)throw new Error(`Item with the given id was not registered: ${f}.`);return t}_isErrorComingFromThisItem(f){for(const t of this._watchdogs.values())if(t._isErrorComingFromThisItem(f))return!1;return T7(this._context,f.context)}};class O_ extends Oc{constructor(t){super(t),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const s=this.document;function a(d){return(p,w)=>{w.preventDefault();const k=w.dropRange?[w.dropRange]:null,D=new N(s,d);s.fire(D,{dataTransfer:w.dataTransfer,method:p.name,targetRanges:k,target:w.target,domEvent:w.domEvent}),D.stop.called&&w.stopPropagation()}}this.listenTo(s,"paste",a("clipboardInput"),{priority:"low"}),this.listenTo(s,"drop",a("clipboardInput"),{priority:"low"}),this.listenTo(s,"dragover",a("dragging"),{priority:"low"})}onDomEvent(t){const s="clipboardData"in t?t.clipboardData:t.dataTransfer,a=t.type=="drop"||t.type=="paste",d={dataTransfer:new hn(s,{cacheFiles:a})};t.type!="drop"&&t.type!="dragover"||(d.dropRange=function(p,w){const k=w.target.ownerDocument,D=w.clientX,R=w.clientY;let M;return k.caretRangeFromPoint&&k.caretRangeFromPoint(D,R)?M=k.caretRangeFromPoint(D,R):w.rangeParent&&(M=k.createRange(),M.setStart(w.rangeParent,w.rangeOffset),M.collapse(!0)),M?p.domConverter.domRangeToView(M):null}(this.view,t)),this.fire(t.type,t,d)}}const N7=["figcaption","li"];function P7(f){let t="";if(f.is("$text")||f.is("$textProxy"))t=f.data;else if(f.is("element","img")&&f.hasAttribute("alt"))t=f.getAttribute("alt");else if(f.is("element","br"))t=`
`;else{let s=null;for(const a of f.getChildren()){const d=P7(a);s&&(s.is("containerElement")||a.is("containerElement"))&&(N7.includes(s.name)||N7.includes(a.name)?t+=`
`:t+=`

`),t+=d,s=a}}return t}class mh extends st{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(O_),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(t,s,a){const d=this.editor.model.getSelectedContent(s);this.fire("outputTransformation",{dataTransfer:t,content:d,method:a})}_setupPasteDrop(){const t=this.editor,s=t.model,a=t.editing.view,d=a.document;this.listenTo(d,"clipboardInput",(p,w)=>{w.method!="paste"||t.model.canEditAt(t.model.document.selection)||p.stop()},{priority:"highest"}),this.listenTo(d,"clipboardInput",(p,w)=>{const k=w.dataTransfer;let D;if(w.content)D=w.content;else{let U="";k.getData("text/html")?U=function(W){return W.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(Z,re)=>re.length==1?" ":re).replace(/<!--[\s\S]*?-->/g,"")}(k.getData("text/html")):k.getData("text/plain")&&(((R=(R=k.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||R.includes("<br>"))&&(R=`<p>${R}</p>`),U=R),D=this.editor.data.htmlProcessor.toView(U)}var R;const M=new N(this,"inputTransformation");this.fire(M,{content:D,dataTransfer:k,targetRanges:w.targetRanges,method:w.method}),M.stop.called&&p.stop(),a.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(p,w)=>{if(w.content.isEmpty)return;const k=this.editor.data.toModel(w.content,"$clipboardHolder");k.childCount!=0&&(p.stop(),s.change(()=>{this.fire("contentInsertion",{content:k,method:w.method,dataTransfer:w.dataTransfer,targetRanges:w.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(p,w)=>{w.resultRange=s.insertContent(w.content)},{priority:"low"})}_setupCopyCut(){const t=this.editor,s=t.model.document,a=t.editing.view.document,d=(p,w)=>{const k=w.dataTransfer;w.preventDefault(),this._fireOutputTransformationEvent(k,s.selection,p.name)};this.listenTo(a,"copy",d,{priority:"low"}),this.listenTo(a,"cut",(p,w)=>{t.model.canEditAt(t.model.document.selection)?d(p,w):w.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(p,w)=>{const k=t.data.toView(w.content);a.fire("clipboardOutput",{dataTransfer:w.dataTransfer,content:k,method:w.method})},{priority:"low"}),this.listenTo(a,"clipboardOutput",(p,w)=>{w.content.isEmpty||(w.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(w.content)),w.dataTransfer.setData("text/plain",P7(w.content))),w.method=="cut"&&t.model.deleteContent(s.selection)},{priority:"low"})}}class I7{constructor(t,s=20){this._batch=null,this.model=t,this._size=0,this.limit=s,this._isLocked=!1,this._changeCallback=(a,d)=>{d.isLocal&&d.isUndoable&&d!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(t){this._size+=t,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(t=!1){this.isLocked&&!t||(this._batch=null,this._size=0)}}class $se extends pn{constructor(t,s){super(t),this._buffer=new I7(t.model,s),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(t={}){const s=this.editor.model,a=s.document,d=t.text||"",p=d.length;let w=a.selection;if(t.selection?w=t.selection:t.range&&(w=s.createSelection(t.range)),!s.canEditAt(w))return;const k=t.resultRange;s.enqueueChange(this._buffer.batch,D=>{this._buffer.lock(),s.deleteContent(w),d&&s.insertContent(D.createText(d,a.selection.getAttributes()),w),k?D.setSelection(k):w.is("documentSelection")||D.setSelection(w),this._buffer.unlock(),this._buffer.input(p)})}}const j7=["insertText","insertReplacementText"];class qse extends zl{constructor(t){super(t),this.focusObserver=t.getObserver(St),y.isAndroid&&j7.push("insertCompositionText");const s=t.document;s.on("beforeinput",(a,d)=>{if(!this.isEnabled)return;const{data:p,targetRanges:w,inputType:k,domEvent:D}=d;if(!j7.includes(k))return;this.focusObserver.flush();const R=new N(s,"insertText");s.fire(R,new yp(t,D,{text:p,selection:t.createSelection(w)})),R.stop.called&&a.stop()}),s.on("compositionend",(a,{data:d,domEvent:p})=>{this.isEnabled&&!y.isAndroid&&d&&s.fire("insertText",new yp(t,p,{text:d,selection:s.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class R7 extends st{static get pluginName(){return"Input"}init(){const t=this.editor,s=t.model,a=t.editing.view,d=s.document.selection;a.addObserver(qse);const p=new $se(t,t.config.get("typing.undoStep")||20);t.commands.add("insertText",p),t.commands.add("input",p),this.listenTo(a.document,"insertText",(w,k)=>{a.document.isComposing||k.preventDefault();const{text:D,selection:R,resultRange:M}=k,U=Array.from(R.getRanges()).map(re=>t.editing.mapper.toModelRange(re));let W=D;if(y.isAndroid){const re=Array.from(U[0].getItems()).reduce((le,xe)=>le+(xe.is("$textProxy")?xe.data:""),"");re&&(re.length<=W.length?W.startsWith(re)&&(W=W.substring(re.length),U[0].start=U[0].start.getShiftedBy(re.length)):re.startsWith(W)&&(U[0].start=U[0].start.getShiftedBy(W.length),W=""))}const Z={text:W,selection:s.createSelection(U)};M&&(Z.resultRange=t.editing.mapper.toModelRange(M)),t.execute("insertText",Z),a.scrollToTheSelection()}),y.isAndroid?this.listenTo(a.document,"keydown",(w,k)=>{!d.isCollapsed&&k.keyCode==229&&a.document.isComposing&&M7(s,p)}):this.listenTo(a.document,"compositionstart",()=>{d.isCollapsed||M7(s,p)})}}function M7(f,t){if(!t.isEnabled)return;const s=t.buffer;s.lock(),f.enqueueChange(s.batch,()=>{f.deleteContent(f.document.selection)}),s.unlock()}class O7 extends pn{constructor(t,s){super(t),this.direction=s,this._buffer=new I7(t.model,t.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(t={}){const s=this.editor.model,a=s.document;s.enqueueChange(this._buffer.batch,d=>{this._buffer.lock();const p=d.createSelection(t.selection||a.selection);if(!s.canEditAt(p))return;const w=t.sequence||1,k=p.isCollapsed;if(p.isCollapsed&&s.modifySelection(p,{direction:this.direction,unit:t.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(w))return void this._replaceEntireContentWithParagraph(d);if(this._shouldReplaceFirstBlockWithParagraph(p,w))return void this.editor.execute("paragraph",{selection:p});if(p.isCollapsed)return;let D=0;p.getFirstRange().getMinimalFlatRanges().forEach(R=>{D+=Ve(R.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),s.deleteContent(p,{doNotResetEntireContent:k,direction:this.direction}),this._buffer.input(D),d.setSelection(p),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(t){if(t>1)return!1;const s=this.editor.model,a=s.document.selection,d=s.schema.getLimitElement(a);if(!(a.isCollapsed&&a.containsEntireContent(d))||!s.schema.checkChild(d,"paragraph"))return!1;const p=d.getChild(0);return!p||!p.is("element","paragraph")}_replaceEntireContentWithParagraph(t){const s=this.editor.model,a=s.document.selection,d=s.schema.getLimitElement(a),p=t.createElement("paragraph");t.remove(t.createRangeIn(d)),t.insert(p,d),t.setSelection(p,0)}_shouldReplaceFirstBlockWithParagraph(t,s){const a=this.editor.model;if(s>1||this.direction!="backward"||!t.isCollapsed)return!1;const d=t.getFirstPosition(),p=a.schema.getLimitElement(d),w=p.getChild(0);return d.parent==w&&!!t.containsEntireContent(w)&&!!a.schema.checkChild(p,"paragraph")&&w.name!="paragraph"}}const F7="word",wp="selection",dv="backward",F_="forward",L7={deleteContent:{unit:wp,direction:dv},deleteContentBackward:{unit:"codePoint",direction:dv},deleteWordBackward:{unit:F7,direction:dv},deleteHardLineBackward:{unit:wp,direction:dv},deleteSoftLineBackward:{unit:wp,direction:dv},deleteContentForward:{unit:"character",direction:F_},deleteWordForward:{unit:F7,direction:F_},deleteHardLineForward:{unit:wp,direction:F_},deleteSoftLineForward:{unit:wp,direction:F_}};class Hse extends zl{constructor(t){super(t);const s=t.document;let a=0;s.on("keydown",()=>{a++}),s.on("keyup",()=>{a=0}),s.on("beforeinput",(d,p)=>{if(!this.isEnabled)return;const{targetRanges:w,domEvent:k,inputType:D}=p,R=L7[D];if(!R)return;const M={direction:R.direction,unit:R.unit,sequence:a};M.unit==wp&&(M.selectionToRemove=t.createSelection(w[0])),D==="deleteContentBackward"&&(y.isAndroid&&(M.sequence=1),function(W){if(W.length!=1||W[0].isCollapsed)return!1;const Z=W[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let re=0;for(const{nextPosition:le}of Z){if(le.parent.is("$text")){const xe=le.parent.data,Pe=le.offset;if(_x(xe,Pe)||Cy(xe,Pe)||AA(xe,Pe))continue;re++}else re++;if(re>1)return!0}return!1}(w)&&(M.unit=wp,M.selectionToRemove=t.createSelection(w)));const U=new Uu(s,"delete",w[0]);s.fire(U,new yp(t,k,M)),U.stop.called&&d.stop()}),y.isBlink&&function(d){const p=d.view,w=p.document;let k=null,D=!1;function R(U){return U==Qt.backspace||U==Qt.delete}function M(U){return U==Qt.backspace?dv:F_}w.on("keydown",(U,{keyCode:W})=>{k=W,D=!1}),w.on("keyup",(U,{keyCode:W,domEvent:Z})=>{const re=w.selection,le=d.isEnabled&&W==k&&R(W)&&!re.isCollapsed&&!D;if(k=null,le){const xe=re.getFirstRange(),Pe=new Uu(w,"delete",xe),Ge={unit:wp,direction:M(W),selectionToRemove:re};w.fire(Pe,new yp(p,Z,Ge))}}),w.on("beforeinput",(U,{inputType:W})=>{const Z=L7[W];R(k)&&Z&&Z.direction==M(k)&&(D=!0)},{priority:"high"}),w.on("beforeinput",(U,{inputType:W,data:Z})=>{k==Qt.delete&&W=="insertText"&&Z==""&&U.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class gh extends st{static get pluginName(){return"Delete"}init(){const t=this.editor,s=t.editing.view,a=s.document,d=t.model.document;s.addObserver(Hse),this._undoOnBackspace=!1;const p=new O7(t,"forward");t.commands.add("deleteForward",p),t.commands.add("forwardDelete",p),t.commands.add("delete",new O7(t,"backward")),this.listenTo(a,"delete",(w,k)=>{a.isComposing||k.preventDefault();const{direction:D,sequence:R,selectionToRemove:M,unit:U}=k,W=D==="forward"?"deleteForward":"delete",Z={sequence:R};if(U=="selection"){const re=Array.from(M.getRanges()).map(le=>t.editing.mapper.toModelRange(le));Z.selection=t.model.createSelection(re)}else Z.unit=U;t.execute(W,Z),s.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(a,"delete",(w,k)=>{this._undoOnBackspace&&k.direction=="backward"&&k.sequence==1&&k.unit=="codePoint"&&(this._undoOnBackspace=!1,t.execute("undo"),k.preventDefault(),w.stop())},{context:"$capture"}),this.listenTo(d,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class Gse extends st{static get requires(){return[R7,gh]}static get pluginName(){return"Typing"}}function U7(f,t){let s=f.start;return{text:Array.from(f.getWalker({ignoreElementEnd:!1})).reduce((a,{item:d})=>d.is("$text")||d.is("$textProxy")?a+d.data:(s=t.createPositionAfter(d),""),""),range:t.createRange(s,f.end)}}class B7 extends ze(){constructor(t,s){super(),this.model=t,this.testCallback=s,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(t.document.selection),this.stopListening(t.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const t=this.model.document;this.listenTo(t.selection,"change:range",(s,{directChange:a})=>{a&&(t.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(t,"change:data",(s,a)=>{!a.isUndo&&a.isLocal&&this._evaluateTextBeforeSelection("data",{batch:a})})}_evaluateTextBeforeSelection(t,s={}){const a=this.model,d=a.document.selection,p=a.createRange(a.createPositionAt(d.focus.parent,0),d.focus),{text:w,range:k}=U7(p,a),D=this.testCallback(w);if(!D&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!D,D){const R=Object.assign(s,{text:w,range:k});typeof D=="object"&&Object.assign(R,D),this.fire(`matched:${t}`,R)}}}class WT extends st{static get pluginName(){return"TwoStepCaretMovement"}constructor(t){super(t),this.attributes=new Set,this._overrideUid=null}init(){const t=this.editor,s=t.model,a=t.editing.view,d=t.locale,p=s.document.selection;this.listenTo(a.document,"arrowKey",(w,k)=>{if(!p.isCollapsed||k.shiftKey||k.altKey||k.ctrlKey)return;const D=k.keyCode==Qt.arrowright,R=k.keyCode==Qt.arrowleft;if(!D&&!R)return;const M=d.contentLanguageDirection;let U=!1;U=M==="ltr"&&D||M==="rtl"&&R?this._handleForwardMovement(k):this._handleBackwardMovement(k),U===!0&&w.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(p,"change:range",(w,k)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!k.directChange&&qT(p.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(t){this.attributes.add(t)}_handleForwardMovement(t){const s=this.attributes,a=this.editor.model.document.selection,d=a.getFirstPosition();return!this._isGravityOverridden&&(!d.isAtStart||!uI(a,s))&&!!qT(d,s)&&($T(t),this._overrideGravity(),!0)}_handleBackwardMovement(t){const s=this.attributes,a=this.editor.model,d=a.document.selection,p=d.getFirstPosition();return this._isGravityOverridden?($T(t),this._restoreGravity(),dI(a,s,p),!0):p.isAtStart?!!uI(d,s)&&($T(t),dI(a,s,p),!0):!!function(w,k){const D=w.getShiftedBy(-1);return qT(D,k)}(p,s)&&(p.isAtEnd&&!uI(d,s)&&qT(p,s)?($T(t),dI(a,s,p),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(t=>t.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(t=>{t.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function uI(f,t){for(const s of t)if(f.hasAttribute(s))return!0;return!1}function dI(f,t,s){const a=s.nodeBefore;f.change(d=>{if(a){const p=[],w=f.schema.isObject(a)&&f.schema.isInline(a);for(const[k,D]of a.getAttributes())!f.schema.checkAttribute("$text",k)||w&&f.schema.getAttributeProperties(k).copyFromObject===!1||p.push([k,D]);d.setSelectionAttribute(p)}else d.removeSelectionAttribute(t)})}function $T(f){f.preventDefault()}function qT(f,t){const{nodeBefore:s,nodeAfter:a}=f;for(const d of t){const p=s?s.getAttribute(d):void 0;if((a?a.getAttribute(d):void 0)!==p)return!0}return!1}const z7={copyright:{from:"(c)",to:"©"},registeredTrademark:{from:"(r)",to:"®"},trademark:{from:"(tm)",to:"™"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"½",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"⅓",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"⅔",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"¼",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"¾",null]},lessThanOrEqual:{from:"<=",to:"≤"},greaterThanOrEqual:{from:">=",to:"≥"},notEqual:{from:"!=",to:"≠"},arrowLeft:{from:"<-",to:"←"},arrowRight:{from:"->",to:"→"},horizontalEllipsis:{from:"...",to:"…"},enDash:{from:/(^| )(--)( )$/,to:[null,"–",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"—",null]},quotesPrimary:{from:hv('"'),to:[null,"“",null,"”"]},quotesSecondary:{from:hv("'"),to:[null,"‘",null,"’"]},quotesPrimaryEnGb:{from:hv("'"),to:[null,"‘",null,"’"]},quotesSecondaryEnGb:{from:hv('"'),to:[null,"“",null,"”"]},quotesPrimaryPl:{from:hv('"'),to:[null,"„",null,"”"]},quotesSecondaryPl:{from:hv("'"),to:[null,"‚",null,"’"]}},V7={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},Xse=["symbols","mathematical","typography","quotes"];function Yse(f){return typeof f=="string"?new RegExp(`(${S7(f)})$`):f}function Kse(f){return typeof f=="string"?()=>[f]:f instanceof Array?()=>f:f}function Zse(f){return(f.textNode?f.textNode:f.nodeAfter).getAttributes()}function hv(f){return new RegExp(`(^|\\s)(${f})([^${f}]*)(${f})$`)}function fv(f,t,s,a){return a.createRange(W7(f,t,s,!0,a),W7(f,t,s,!1,a))}function W7(f,t,s,a,d){let p=f.textNode||(a?f.nodeBefore:f.nodeAfter),w=null;for(;p&&p.getAttribute(t)==s;)w=p,p=a?p.previousSibling:p.nextSibling;return w?d.createPositionAt(w,a?"before":"after"):f}function $7(f,t,s,a){const d=f.editing.view,p=new Set;d.document.registerPostFixer(w=>{const k=f.model.document.selection;let D=!1;if(k.hasAttribute(t)){const R=fv(k.getFirstPosition(),t,k.getAttribute(t),f.model),M=f.editing.mapper.toViewRange(R);for(const U of M.getItems())U.is("element",s)&&!U.hasClass(a)&&(w.addClass(a,U),p.add(U),D=!0)}return D}),f.conversion.for("editingDowncast").add(w=>{function k(){d.change(D=>{for(const R of p.values())D.removeClass(a,R),p.delete(R)})}w.on("insert",k,{priority:"highest"}),w.on("remove",k,{priority:"highest"}),w.on("attribute",k,{priority:"highest"}),w.on("selection",k,{priority:"highest"})})}function*q7(f,t){for(const s of t)s&&f.getAttributeProperties(s[0]).copyOnEnter&&(yield s)}class Jse extends pn{execute(){this.editor.model.change(t=>{this.enterBlock(t),this.fire("afterExecute",{writer:t})})}enterBlock(t){const s=this.editor.model,a=s.document.selection,d=s.schema,p=a.isCollapsed,w=a.getFirstRange(),k=w.start.parent,D=w.end.parent;if(d.isLimit(k)||d.isLimit(D))return p||k!=D||s.deleteContent(a),!1;if(p){const R=q7(t.model.schema,a.getAttributes());return H7(t,w.start),t.setSelectionAttribute(R),!0}{const R=!(w.start.isAtStart&&w.end.isAtEnd),M=k==D;if(s.deleteContent(a,{leaveUnmerged:R}),R){if(M)return H7(t,a.focus),!0;t.setSelection(D,0)}}return!1}}function H7(f,t){f.split(t),f.setSelection(t.parent.nextSibling,0)}const Qse={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class G7 extends zl{constructor(t){super(t);const s=this.document;let a=!1;s.on("keydown",(d,p)=>{a=p.shiftKey}),s.on("beforeinput",(d,p)=>{if(!this.isEnabled)return;let w=p.inputType;y.isSafari&&a&&w=="insertParagraph"&&(w="insertLineBreak");const k=p.domEvent,D=Qse[w];if(!D)return;const R=new Uu(s,"enter",p.targetRanges[0]);s.fire(R,new yp(t,k,{isSoft:D.isSoft})),R.stop.called&&d.stop()})}observe(){}stopObserving(){}}class HT extends st{static get pluginName(){return"Enter"}init(){const t=this.editor,s=t.editing.view,a=s.document;s.addObserver(G7),t.commands.add("enter",new Jse(t)),this.listenTo(a,"enter",(d,p)=>{a.isComposing||p.preventDefault(),p.isSoft||(t.execute("enter"),s.scrollToTheSelection())},{priority:"low"})}}class eoe extends pn{execute(){const t=this.editor.model,s=t.document;t.change(a=>{(function(d,p,w){const k=w.isCollapsed,D=w.getFirstRange(),R=D.start.parent,M=D.end.parent,U=R==M;if(k){const W=q7(d.schema,w.getAttributes());X7(d,p,D.end),p.removeSelectionAttribute(w.getAttributeKeys()),p.setSelectionAttribute(W)}else{const W=!(D.start.isAtStart&&D.end.isAtEnd);d.deleteContent(w,{leaveUnmerged:W}),U?X7(d,p,w.focus):W&&p.setSelection(M,0)}})(t,a,s.selection),this.fire("afterExecute",{writer:a})})}refresh(){const t=this.editor.model,s=t.document;this.isEnabled=function(a,d){if(d.rangeCount>1)return!1;const p=d.anchor;if(!p||!a.checkChild(p,"softBreak"))return!1;const w=d.getFirstRange(),k=w.start.parent,D=w.end.parent;return!((hI(k,a)||hI(D,a))&&k!==D)}(t.schema,s.selection)}}function X7(f,t,s){const a=t.createElement("softBreak");f.insertContent(a,s),t.setSelection(a,"after")}function hI(f,t){return!f.is("rootElement")&&(t.isLimit(f)||hI(f.parent,t))}class Y7 extends st{static get pluginName(){return"ShiftEnter"}init(){const t=this.editor,s=t.model.schema,a=t.conversion,d=t.editing.view,p=d.document;s.register("softBreak",{allowWhere:"$text",isInline:!0}),a.for("upcast").elementToElement({model:"softBreak",view:"br"}),a.for("downcast").elementToElement({model:"softBreak",view:(w,{writer:k})=>k.createEmptyElement("br")}),d.addObserver(G7),t.commands.add("shiftEnter",new eoe(t)),this.listenTo(p,"enter",(w,k)=>{p.isComposing||k.preventDefault(),k.isSoft&&(t.execute("shiftEnter"),d.scrollToTheSelection())},{priority:"low"})}}class toe extends X(){constructor(){super(...arguments),this._stack=[]}add(t,s){const a=this._stack,d=a[0];this._insertDescriptor(t);const p=a[0];d===p||fI(d,p)||this.fire("change:top",{oldDescriptor:d,newDescriptor:p,writer:s})}remove(t,s){const a=this._stack,d=a[0];this._removeDescriptor(t);const p=a[0];d===p||fI(d,p)||this.fire("change:top",{oldDescriptor:d,newDescriptor:p,writer:s})}_insertDescriptor(t){const s=this._stack,a=s.findIndex(p=>p.id===t.id);if(fI(t,s[a]))return;a>-1&&s.splice(a,1);let d=0;for(;s[d]&&noe(s[d],t);)d++;s.splice(d,0,t)}_removeDescriptor(t){const s=this._stack,a=s.findIndex(d=>d.id===t);a>-1&&s.splice(a,1)}}function fI(f,t){return f&&t&&f.priority==t.priority&&GT(f.classes)==GT(t.classes)}function noe(f,t){return f.priority>t.priority||!(f.priority<t.priority)&&GT(f.classes)>GT(t.classes)}function GT(f){return Array.isArray(f)?f.sort().join(","):f}const ioe='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',roe="ck-widget",K7="ck-widget_selected";function Wr(f){return!!f.is("element")&&!!f.getCustomProperty("widget")}function pI(f,t,s={}){if(!f.is("containerElement"))throw new B("widget-to-widget-wrong-element-type",null,{element:f});return t.setAttribute("contenteditable","false",f),t.addClass(roe,f),t.setCustomProperty("widget",!0,f),f.getFillerOffset=aoe,t.setCustomProperty("widgetLabel",[],f),s.label&&function(a,d){a.getCustomProperty("widgetLabel").push(d)}(f,s.label),s.hasSelectionHandle&&function(a,d){const p=d.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(w){const k=this.toDomElement(w),D=new ra;return D.set("content",ioe),D.render(),k.appendChild(D.element),k});d.insert(d.createPositionAt(a,0),p),d.addClass(["ck-widget_with-selection-handle"],a)}(f,t),Z7(f,t),f}function soe(f,t,s){if(t.classes&&s.addClass($n(t.classes),f),t.attributes)for(const a in t.attributes)s.setAttribute(a,t.attributes[a],f)}function ooe(f,t,s){if(t.classes&&s.removeClass($n(t.classes),f),t.attributes)for(const a in t.attributes)s.removeAttribute(a,f)}function Z7(f,t,s=soe,a=ooe){const d=new toe;d.on("change:top",(p,w)=>{w.oldDescriptor&&a(f,w.oldDescriptor,w.writer),w.newDescriptor&&s(f,w.newDescriptor,w.writer)}),t.setCustomProperty("addHighlight",(p,w,k)=>d.add(w,k),f),t.setCustomProperty("removeHighlight",(p,w,k)=>d.remove(w,k),f)}function J7(f,t,s={}){return t.addClass(["ck-editor__editable","ck-editor__nested-editable"],f),t.setAttribute("role","textbox",f),s.label&&t.setAttribute("aria-label",s.label,f),t.setAttribute("contenteditable",f.isReadOnly?"false":"true",f),f.on("change:isReadOnly",(a,d,p)=>{t.setAttribute("contenteditable",p?"false":"true",f)}),f.on("change:isFocused",(a,d,p)=>{p?t.addClass("ck-editor__nested-editable_focused",f):t.removeClass("ck-editor__nested-editable_focused",f)}),Z7(f,t),f}function Q7(f,t){const s=f.getSelectedElement();if(s){const a=xp(f);if(a)return t.createRange(t.createPositionAt(s,a))}return JU(f,t)}function aoe(){return null}const bh="widget-type-around";function Xg(f,t,s){return!!f&&Wr(f)&&!s.isInline(t)}function xp(f){return f.getAttribute(bh)}var XT=o(2347),L_={attributes:{"data-cke":!0}};L_.setAttributes=jt(),L_.insert=Vt().bind(null,"head"),L_.domAPI=Bt(),L_.insertStyleElement=zt(),Ut()(XT.Z,L_),XT.Z&&XT.Z.locals&&XT.Z.locals;const e9=["before","after"],loe=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,t9="ck-widget__type-around_disabled";class coe extends st{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[HT,gh]}init(){const t=this.editor,s=t.editing.view;this.on("change:isEnabled",(a,d,p)=>{s.change(w=>{for(const k of s.document.roots)p?w.removeClass(t9,k):w.addClass(t9,k)}),p||t.model.change(w=>{w.removeSelectionAttribute(bh)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(t,s){const a=this.editor,d=a.editing.view,p=a.model.schema.getAttributesWithProperty(t,"copyOnReplace",!0);a.execute("insertParagraph",{position:a.model.createPositionAt(t,s),attributes:p}),d.focus(),d.scrollToTheSelection()}_listenToIfEnabled(t,s,a,d){this.listenTo(t,s,(...p)=>{this.isEnabled&&a(...p)},d)}_insertParagraphAccordingToFakeCaretPosition(){const t=this.editor.model.document.selection,s=xp(t);if(!s)return!1;const a=t.getSelectedElement();return this._insertParagraph(a,s),!0}_enableTypeAroundUIInjection(){const t=this.editor,s=t.model.schema,a=t.locale.t,d={before:a("Insert paragraph before block"),after:a("Insert paragraph after block")};t.editing.downcastDispatcher.on("insert",(p,w,k)=>{const D=k.mapper.toViewElement(w.item);D&&Xg(D,w.item,s)&&(function(R,M,U){const W=R.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(Z){const re=this.toDomElement(Z);return function(le,xe){for(const Pe of e9){const Ge=new Tr({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${Pe}`],title:xe[Pe],"aria-hidden":"true"},children:[le.ownerDocument.importNode(loe,!0)]});le.appendChild(Ge.render())}}(re,M),function(le){const xe=new Tr({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});le.appendChild(xe.render())}(re),re});R.insert(R.createPositionAt(U,"end"),W)}(k.writer,d,D),D.getCustomProperty("widgetLabel").push(()=>this.isEnabled?a("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const t=this.editor,s=t.model,a=s.document.selection,d=s.schema,p=t.editing.view;function w(k){return`ck-widget_type-around_show-fake-caret_${k}`}this._listenToIfEnabled(p.document,"arrowKey",(k,D)=>{this._handleArrowKeyPress(k,D)},{context:[Wr,"$text"],priority:"high"}),this._listenToIfEnabled(a,"change:range",(k,D)=>{D.directChange&&t.model.change(R=>{R.removeSelectionAttribute(bh)})}),this._listenToIfEnabled(s.document,"change:data",()=>{const k=a.getSelectedElement();k&&Xg(t.editing.mapper.toViewElement(k),k,d)||t.model.change(D=>{D.removeSelectionAttribute(bh)})}),this._listenToIfEnabled(t.editing.downcastDispatcher,"selection",(k,D,R)=>{const M=R.writer;if(this._currentFakeCaretModelElement){const re=R.mapper.toViewElement(this._currentFakeCaretModelElement);re&&(M.removeClass(e9.map(w),re),this._currentFakeCaretModelElement=null)}const U=D.selection.getSelectedElement();if(!U)return;const W=R.mapper.toViewElement(U);if(!Xg(W,U,d))return;const Z=xp(D.selection);Z&&(M.addClass(w(Z),W),this._currentFakeCaretModelElement=U)}),this._listenToIfEnabled(t.ui.focusTracker,"change:isFocused",(k,D,R)=>{R||t.model.change(M=>{M.removeSelectionAttribute(bh)})})}_handleArrowKeyPress(t,s){const a=this.editor,d=a.model,p=d.document.selection,w=d.schema,k=a.editing.view,D=function(U,W){const Z=Cu(U,W);return Z==="down"||Z==="right"}(s.keyCode,a.locale.contentLanguageDirection),R=k.document.selection.getSelectedElement();let M;Xg(R,a.editing.mapper.toModelElement(R),w)?M=this._handleArrowKeyPressOnSelectedWidget(D):p.isCollapsed?M=this._handleArrowKeyPressWhenSelectionNextToAWidget(D):s.shiftKey||(M=this._handleArrowKeyPressWhenNonCollapsedSelection(D)),M&&(s.preventDefault(),t.stop())}_handleArrowKeyPressOnSelectedWidget(t){const s=this.editor.model,a=xp(s.document.selection);return s.change(d=>a?a!==(t?"after":"before")?(d.removeSelectionAttribute(bh),!0):!1:(d.setSelectionAttribute(bh,t?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(t){const s=this.editor,a=s.model,d=a.schema,p=s.plugins.get("Widget"),w=p._getObjectElementNextToSelection(t);return!!Xg(s.editing.mapper.toViewElement(w),w,d)&&(a.change(k=>{p._setSelectionOverElement(w),k.setSelectionAttribute(bh,t?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(t){const s=this.editor,a=s.model,d=a.schema,p=s.editing.mapper,w=a.document.selection,k=t?w.getLastPosition().nodeBefore:w.getFirstPosition().nodeAfter;return!!Xg(p.toViewElement(k),k,d)&&(a.change(D=>{D.setSelection(k,"on"),D.setSelectionAttribute(bh,t?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const t=this.editor,s=t.editing.view;this._listenToIfEnabled(s.document,"mousedown",(a,d)=>{const p=d.domTarget.closest(".ck-widget__type-around__button");if(!p)return;const w=function(R){return R.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(p),k=function(R,M){const U=R.closest(".ck-widget");return M.mapDomToView(U)}(p,s.domConverter),D=t.editing.mapper.toModelElement(k);this._insertParagraph(D,w),d.preventDefault(),a.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const t=this.editor,s=t.model.document.selection,a=t.editing.view;this._listenToIfEnabled(a.document,"enter",(d,p)=>{if(d.eventPhase!="atTarget")return;const w=s.getSelectedElement(),k=t.editing.mapper.toViewElement(w),D=t.model.schema;let R;this._insertParagraphAccordingToFakeCaretPosition()?R=!0:Xg(k,w,D)&&(this._insertParagraph(w,p.isSoft?"before":"after"),R=!0),R&&(p.preventDefault(),d.stop())},{context:Wr})}_enableInsertingParagraphsOnTypingKeystroke(){const t=this.editor.editing.view.document;this._listenToIfEnabled(t,"insertText",(s,a)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(a.selection=t.selection)},{priority:"high"}),y.isAndroid?this._listenToIfEnabled(t,"keydown",(s,a)=>{a.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(t,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const t=this.editor,s=t.editing.view,a=t.model,d=a.schema;this._listenToIfEnabled(s.document,"delete",(p,w)=>{if(p.eventPhase!="atTarget")return;const k=xp(a.document.selection);if(!k)return;const D=w.direction,R=a.document.selection.getSelectedElement(),M=D=="forward";if(k==="before"===M)t.execute("delete",{selection:a.createSelection(R,"on")});else{const U=d.getNearestSelectionRange(a.createPositionAt(R,k),D);if(U)if(U.isCollapsed){const W=a.createSelection(U.start);if(a.modifySelection(W,{direction:D}),W.focus.isEqual(U.start)){const Z=function(re,le){let xe=le;for(const Pe of le.getAncestors({parentFirst:!0})){if(Pe.childCount>1||re.isLimit(Pe))break;xe=Pe}return xe}(d,U.start.parent);a.deleteContent(a.createSelection(Z,"on"),{doNotAutoparagraph:!0})}else a.change(Z=>{Z.setSelection(U),t.execute(M?"deleteForward":"delete")})}else a.change(W=>{W.setSelection(U),t.execute(M?"deleteForward":"delete")})}w.preventDefault(),p.stop()},{context:Wr})}_enableInsertContentIntegration(){const t=this.editor,s=this.editor.model,a=s.document.selection;this._listenToIfEnabled(t.model,"insertContent",(d,[p,w])=>{if(w&&!w.is("documentSelection"))return;const k=xp(a);return k?(d.stop(),s.change(D=>{const R=a.getSelectedElement(),M=s.createPositionAt(R,k),U=D.createSelection(M),W=s.insertContent(p,U);return D.setSelection(U),W})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const t=this.editor,s=this.editor.model.document.selection;this._listenToIfEnabled(t.model,"insertObject",(a,d)=>{const[,p,w={}]=d;if(p&&!p.is("documentSelection"))return;const k=xp(s);k&&(w.findOptimalPosition=k,d[3]=w)},{priority:"high"})}_enableDeleteContentIntegration(){const t=this.editor,s=this.editor.model.document.selection;this._listenToIfEnabled(t.model,"deleteContent",(a,[d])=>{d&&!d.is("documentSelection")||xp(s)&&a.stop()},{priority:"high"})}}function uoe(f){const t=f.model;return(s,a)=>{const d=a.keyCode==Qt.arrowup,p=a.keyCode==Qt.arrowdown,w=a.shiftKey,k=t.document.selection;if(!d&&!p)return;const D=p;if(w&&function(M,U){return!M.isCollapsed&&M.isBackward==U}(k,D))return;const R=function(M,U,W){const Z=M.model;if(W){const re=U.isCollapsed?U.focus:U.getLastPosition(),le=n9(Z,re,"forward");if(!le)return null;const xe=Z.createRange(re,le),Pe=i9(Z.schema,xe,"backward");return Pe?Z.createRange(re,Pe):null}{const re=U.isCollapsed?U.focus:U.getFirstPosition(),le=n9(Z,re,"backward");if(!le)return null;const xe=Z.createRange(le,re),Pe=i9(Z.schema,xe,"forward");return Pe?Z.createRange(Pe,re):null}}(f,k,D);if(R){if(R.isCollapsed&&(k.isCollapsed||w))return;(R.isCollapsed||function(M,U,W){const Z=M.model,re=M.view.domConverter;if(W){const tt=Z.createSelection(U.start);Z.modifySelection(tt),tt.focus.isAtEnd||U.start.isEqual(tt.focus)||(U=Z.createRange(tt.focus,U.end))}const le=M.mapper.toViewRange(U),xe=re.viewRangeToDom(le),Pe=_t.getDomRangeRects(xe);let Ge;for(const tt of Pe)if(Ge!==void 0){if(Math.round(tt.top)>=Ge)return!1;Ge=Math.max(Ge,Math.round(tt.bottom))}else Ge=Math.round(tt.bottom);return!0}(f,R,D))&&(t.change(M=>{const U=D?R.end:R.start;if(w){const W=t.createSelection(k.anchor);W.setFocus(U),M.setSelection(W)}else M.setSelection(U)}),s.stop(),a.preventDefault(),a.stopPropagation())}}}function n9(f,t,s){const a=f.schema,d=f.createRangeIn(t.root),p=s=="forward"?"elementStart":"elementEnd";for(const{previousPosition:w,item:k,type:D}of d.getWalker({startPosition:t,direction:s})){if(a.isLimit(k)&&!a.isInline(k))return w;if(D==p&&a.isBlock(k))return null}return null}function i9(f,t,s){const a=s=="backward"?t.end:t.start;if(f.checkChild(a,"$text"))return a;for(const{nextPosition:d}of t.getWalker({direction:s}))if(f.checkChild(d,"$text"))return d;return null}var YT=o(7153),U_={attributes:{"data-cke":!0}};U_.setAttributes=jt(),U_.insert=Vt().bind(null,"head"),U_.domAPI=Bt(),U_.insertStyleElement=zt(),Ut()(YT.Z,U_),YT.Z&&YT.Z.locals&&YT.Z.locals;class B_ extends st{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[coe,gh]}init(){const t=this.editor,s=t.editing.view,a=s.document;this.editor.editing.downcastDispatcher.on("selection",(d,p,w)=>{const k=w.writer,D=p.selection;if(D.isCollapsed)return;const R=D.getSelectedElement();if(!R)return;const M=t.editing.mapper.toViewElement(R);var U;Wr(M)&&w.consumable.consume(D,"selection")&&k.setSelection(k.createRangeOn(M),{fake:!0,label:(U=M,U.getCustomProperty("widgetLabel").reduce((W,Z)=>typeof Z=="function"?W?W+". "+Z():Z():W?W+". "+Z:Z,""))})}),this.editor.editing.downcastDispatcher.on("selection",(d,p,w)=>{this._clearPreviouslySelectedWidgets(w.writer);const k=w.writer,D=k.document.selection;let R=null;for(const M of D.getRanges())for(const U of M){const W=U.item;Wr(W)&&!doe(W,R)&&(k.addClass(K7,W),this._previouslySelected.add(W),R=W)}},{priority:"low"}),s.addObserver(uT),this.listenTo(a,"mousedown",(...d)=>this._onMousedown(...d)),this.listenTo(a,"arrowKey",(...d)=>{this._handleSelectionChangeOnArrowKeyPress(...d)},{context:[Wr,"$text"]}),this.listenTo(a,"arrowKey",(...d)=>{this._preventDefaultOnArrowKeyPress(...d)},{context:"$root"}),this.listenTo(a,"arrowKey",uoe(this.editor.editing),{context:"$text"}),this.listenTo(a,"delete",(d,p)=>{this._handleDelete(p.direction=="forward")&&(p.preventDefault(),d.stop())},{context:"$root"})}_onMousedown(t,s){const a=this.editor,d=a.editing.view,p=d.document;let w=s.target;if(function(D){let R=D;for(;R;){if(R.is("editableElement")&&!R.is("rootElement"))return!0;if(Wr(R))return!1;R=R.parent}return!1}(w)){if((y.isSafari||y.isGecko)&&s.domEvent.detail>=3){const D=a.editing.mapper,R=w.is("attributeElement")?w.findAncestor(U=>!U.is("attributeElement")):w,M=D.toModelElement(R);s.preventDefault(),this.editor.model.change(U=>{U.setSelection(M,"in")})}return}if(!Wr(w)&&(w=w.findAncestor(Wr),!w))return;y.isAndroid&&s.preventDefault(),p.isFocused||d.focus();const k=a.editing.mapper.toModelElement(w);this._setSelectionOverElement(k)}_handleSelectionChangeOnArrowKeyPress(t,s){const a=s.keyCode,d=this.editor.model,p=d.schema,w=d.document.selection,k=w.getSelectedElement(),D=Cu(a,this.editor.locale.contentLanguageDirection),R=D=="down"||D=="right",M=D=="up"||D=="down";if(k&&p.isObject(k)){const W=R?w.getLastPosition():w.getFirstPosition(),Z=p.getNearestSelectionRange(W,R?"forward":"backward");return void(Z&&(d.change(re=>{re.setSelection(Z)}),s.preventDefault(),t.stop()))}if(!w.isCollapsed&&!s.shiftKey){const W=w.getFirstPosition(),Z=w.getLastPosition(),re=W.nodeAfter,le=Z.nodeBefore;return void((re&&p.isObject(re)||le&&p.isObject(le))&&(d.change(xe=>{xe.setSelection(R?Z:W)}),s.preventDefault(),t.stop()))}if(!w.isCollapsed)return;const U=this._getObjectElementNextToSelection(R);if(U&&p.isObject(U)){if(p.isInline(U)&&M)return;this._setSelectionOverElement(U),s.preventDefault(),t.stop()}}_preventDefaultOnArrowKeyPress(t,s){const a=this.editor.model,d=a.schema,p=a.document.selection.getSelectedElement();p&&d.isObject(p)&&(s.preventDefault(),t.stop())}_handleDelete(t){const s=this.editor.model.document.selection;if(!this.editor.model.canEditAt(s)||!s.isCollapsed)return;const a=this._getObjectElementNextToSelection(t);return a?(this.editor.model.change(d=>{let p=s.anchor.parent;for(;p.isEmpty;){const w=p;p=w.parent,d.remove(w)}this._setSelectionOverElement(a)}),!0):void 0}_setSelectionOverElement(t){this.editor.model.change(s=>{s.setSelection(s.createRangeOn(t))})}_getObjectElementNextToSelection(t){const s=this.editor.model,a=s.schema,d=s.document.selection,p=s.createSelection(d);if(s.modifySelection(p,{direction:t?"forward":"backward"}),p.isEqual(d))return null;const w=t?p.focus.nodeBefore:p.focus.nodeAfter;return w&&a.isObject(w)?w:null}_clearPreviouslySelectedWidgets(t){for(const s of this._previouslySelected)t.removeClass(K7,s);this._previouslySelected.clear()}}function doe(f,t){return!!t&&Array.from(f.getAncestors()).includes(t)}class KT extends st{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[jT]}static get pluginName(){return"WidgetToolbarRepository"}init(){const t=this.editor;if(t.plugins.has("BalloonToolbar")){const s=t.plugins.get("BalloonToolbar");this.listenTo(s,"show",a=>{(function(d){const p=d.getSelectedElement();return!(!p||!Wr(p))})(t.editing.view.document.selection)&&a.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(t.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(t.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const t of this._toolbarDefinitions.values())t.view.destroy()}register(t,{ariaLabel:s,items:a,getRelatedElement:d,balloonClassName:p="ck-toolbar-container"}){if(!a.length)return void Y("widget-toolbar-no-items",{toolbarId:t});const w=this.editor,k=w.t,D=new JP(w.locale);if(D.ariaLabel=s||k("Widget toolbar"),this._toolbarDefinitions.has(t))throw new B("widget-toolbar-duplicated",this,{toolbarId:t});const R={view:D,getRelatedElement:d,balloonClassName:p,itemsConfig:a,initialized:!1};w.ui.addToolbar(D,{isContextual:!0,beforeFocus:()=>{const M=d(w.editing.view.document.selection);M&&this._showToolbar(R,M)},afterBlur:()=>{this._hideToolbar(R)}}),this._toolbarDefinitions.set(t,R)}_updateToolbarsVisibility(){let t=0,s=null,a=null;for(const d of this._toolbarDefinitions.values()){const p=d.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&p)if(this.editor.ui.focusTracker.isFocused){const w=p.getAncestors().length;w>t&&(t=w,s=p,a=d)}else this._isToolbarVisible(d)&&this._hideToolbar(d);else this._isToolbarInBalloon(d)&&this._hideToolbar(d)}a&&this._showToolbar(a,s)}_hideToolbar(t){this._balloon.remove(t.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(t,s){this._isToolbarVisible(t)?r9(this.editor,s):this._isToolbarInBalloon(t)||(t.initialized||(t.initialized=!0,t.view.fillFromConfig(t.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:t.view,position:s9(this.editor,s),balloonClassName:t.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const a of this._toolbarDefinitions.values())if(this._isToolbarVisible(a)){const d=a.getRelatedElement(this.editor.editing.view.document.selection);r9(this.editor,d)}}))}_isToolbarVisible(t){return this._balloon.visibleView===t.view}_isToolbarInBalloon(t){return this._balloon.hasView(t.view)}}function r9(f,t){const s=f.plugins.get("ContextualBalloon"),a=s9(f,t);s.updatePosition(a)}function s9(f,t){const s=f.editing.view,a=Js.defaultPositions;return{target:s.domConverter.mapViewToDom(t),positions:[a.northArrowSouth,a.northArrowSouthWest,a.northArrowSouthEast,a.southArrowNorth,a.southArrowNorthWest,a.southArrowNorthEast,a.viewportStickyNorth]}}class hoe extends ze(){constructor(t){super(),this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=t,this._referenceCoordinates=null}get originalWidth(){return this._originalWidth}get originalHeight(){return this._originalHeight}get originalWidthPercents(){return this._originalWidthPercents}get aspectRatio(){return this._aspectRatio}begin(t,s,a){const d=new _t(s);this.activeHandlePosition=function(w){const k=["top-left","top-right","bottom-right","bottom-left"];for(const D of k)if(w.classList.contains(foe(D)))return D}(t),this._referenceCoordinates=function(w,k){const D=new _t(w),R=k.split("-"),M={x:R[1]=="right"?D.right:D.left,y:R[0]=="bottom"?D.bottom:D.top};return M.x+=w.ownerDocument.defaultView.scrollX,M.y+=w.ownerDocument.defaultView.scrollY,M}(s,function(w){const k=w.split("-"),D={top:"bottom",bottom:"top",left:"right",right:"left"};return`${D[k[0]]}-${D[k[1]]}`}(this.activeHandlePosition)),this._originalWidth=d.width,this._originalHeight=d.height,this._aspectRatio=d.width/d.height;const p=a.style.width;p&&p.match(/^\d+(\.\d*)?%$/)?this._originalWidthPercents=parseFloat(p):this._originalWidthPercents=function(w,k){const D=w.parentElement;let R=parseFloat(D.ownerDocument.defaultView.getComputedStyle(D).width);const M=5;let U=0,W=D;for(;isNaN(R);){if(W=W.parentElement,++U>M)return 0;R=parseFloat(D.ownerDocument.defaultView.getComputedStyle(W).width)}return k.width/R*100}(a,d)}update(t){this.proposedWidth=t.width,this.proposedHeight=t.height,this.proposedWidthPercents=t.widthPercents,this.proposedHandleHostWidth=t.handleHostWidth,this.proposedHandleHostHeight=t.handleHostHeight}}function foe(f){return`ck-widget__resizer__handle-${f}`}class poe extends dn{constructor(){super();const t=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",t.to("_viewPosition",s=>s?`ck-orientation-${s}`:"")],style:{display:t.if("_isVisible","none",s=>!s)}},children:[{text:t.to("_label")}]})}_bindToState(t,s){this.bind("_isVisible").to(s,"proposedWidth",s,"proposedHeight",(a,d)=>a!==null&&d!==null),this.bind("_label").to(s,"proposedHandleHostWidth",s,"proposedHandleHostHeight",s,"proposedWidthPercents",(a,d,p)=>t.unit==="px"?`${a}×${d}`:`${p}%`),this.bind("_viewPosition").to(s,"activeHandlePosition",s,"proposedHandleHostWidth",s,"proposedHandleHostHeight",(a,d,p)=>d<50||p<50?"above-center":a)}_dismiss(){this.unbind(),this._isVisible=!1}}class o9 extends ze(){constructor(t){super(),this._viewResizerWrapper=null,this._options=t,this.set("isEnabled",!0),this.set("isSelected",!1),this.bind("isVisible").to(this,"isEnabled",this,"isSelected",(s,a)=>s&&a),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",s=>{this.state.proposedWidth||this.state.proposedWidthPercents||(this._cleanup(),s.stop())},{priority:"high"})}get state(){return this._state}show(){this._options.editor.editing.view.change(t=>{t.removeClass("ck-hidden",this._viewResizerWrapper)})}hide(){this._options.editor.editing.view.change(t=>{t.addClass("ck-hidden",this._viewResizerWrapper)})}attach(){const t=this,s=this._options.viewElement;this._options.editor.editing.view.change(a=>{const d=a.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},function(p){const w=this.toDomElement(p);return t._appendHandles(w),t._appendSizeUI(w),w});a.insert(a.createPositionAt(s,"end"),d),a.addClass("ck-widget_with-resizer",s),this._viewResizerWrapper=d,this.isVisible||this.hide()}),this.on("change:isVisible",()=>{this.isVisible?(this.show(),this.redraw()):this.hide()})}begin(t){this._state=new hoe(this._options),this._sizeView._bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(t,this._getHandleHost(),this._getResizeHost())}updateSize(t){const s=this._proposeNewSize(t);this._options.editor.editing.view.change(D=>{const R=this._options.unit||"%",M=(R==="%"?s.widthPercents:s.width)+R;D.setStyle("width",M,this._options.viewElement)});const a=this._getHandleHost(),d=new _t(a),p=Math.round(d.width),w=Math.round(d.height),k=new _t(a);s.width=Math.round(k.width),s.height=Math.round(k.height),this.redraw(d),this.state.update({...s,handleHostWidth:p,handleHostHeight:w})}commit(){const t=this._options.unit||"%",s=(t==="%"?this.state.proposedWidthPercents:this.state.proposedWidth)+t;this._options.editor.editing.view.change(()=>{this._cleanup(),this._options.onCommit(s)})}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(t){const s=this._domResizerWrapper;if(!((a=s)&&a.ownerDocument&&a.ownerDocument.contains(a)))return;var a;const d=s.parentElement,p=this._getHandleHost(),w=this._viewResizerWrapper,k=[w.getStyle("width"),w.getStyle("height"),w.getStyle("left"),w.getStyle("top")];let D;if(d.isSameNode(p)){const R=t||new _t(p);D=[R.width+"px",R.height+"px",void 0,void 0]}else D=[p.offsetWidth+"px",p.offsetHeight+"px",p.offsetLeft+"px",p.offsetTop+"px"];$e(k,D)!=="same"&&this._options.editor.editing.view.change(R=>{R.setStyle({width:D[0],height:D[1],left:D[2],top:D[3]},w)})}containsHandle(t){return this._domResizerWrapper.contains(t)}static isResizeHandle(t){return t.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeView._dismiss(),this._options.editor.editing.view.change(t=>{t.setStyle("width",this._initialViewWidth,this._options.viewElement)})}_proposeNewSize(t){const s=this.state,a={x:(d=t).pageX,y:d.pageY};var d;const p=!this._options.isCentered||this._options.isCentered(this),w={x:s._referenceCoordinates.x-(a.x+s.originalWidth),y:a.y-s.originalHeight-s._referenceCoordinates.y};p&&s.activeHandlePosition.endsWith("-right")&&(w.x=a.x-(s._referenceCoordinates.x+s.originalWidth)),p&&(w.x*=2);let k=Math.abs(s.originalWidth+w.x),D=Math.abs(s.originalHeight+w.y);return(k/s.aspectRatio>D?"width":"height")=="width"?D=k/s.aspectRatio:k=D*s.aspectRatio,{width:Math.round(k),height:Math.round(D),widthPercents:Math.min(Math.round(s.originalWidthPercents/s.originalWidth*k*100)/100,100)}}_getResizeHost(){const t=this._domResizerWrapper.parentElement;return this._options.getResizeHost(t)}_getHandleHost(){const t=this._domResizerWrapper.parentElement;return this._options.getHandleHost(t)}get _domResizerWrapper(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}_appendHandles(t){const s=["top-left","top-right","bottom-right","bottom-left"];for(const d of s)t.appendChild(new Tr({tag:"div",attributes:{class:"ck-widget__resizer__handle "+(a=d,`ck-widget__resizer__handle-${a}`)}}).render());var a}_appendSizeUI(t){this._sizeView=new poe,this._sizeView.render(),t.appendChild(this._sizeView.element)}}var ZT=o(4875),z_={attributes:{"data-cke":!0}};z_.setAttributes=jt(),z_.insert=Vt().bind(null,"head"),z_.domAPI=Bt(),z_.insertStyleElement=zt(),Ut()(ZT.Z,z_),ZT.Z&&ZT.Z.locals&&ZT.Z.locals;class mI extends st{constructor(){super(...arguments),this._resizers=new Map}static get pluginName(){return"WidgetResize"}init(){const t=this.editor.editing,s=he.window.document;this.set("selectedResizer",null),this.set("_activeResizer",null),t.view.addObserver(uT),this._observer=new(Ar()),this.listenTo(t.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(s,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(s,"mouseup",this._mouseUpListener.bind(this)),this._redrawSelectedResizerThrottled=__(()=>this.redrawSelectedResizer(),200),this.editor.ui.on("update",this._redrawSelectedResizerThrottled),this.editor.model.document.on("change",()=>{for(const[d,p]of this._resizers)d.isAttached()||(this._resizers.delete(d),p.destroy())},{priority:"lowest"}),this._observer.listenTo(he.window,"resize",this._redrawSelectedResizerThrottled);const a=this.editor.editing.view.document.selection;a.on("change",()=>{const d=a.getSelectedElement(),p=this.getResizerByViewElement(d)||null;p?this.select(p):this.deselect()})}redrawSelectedResizer(){this.selectedResizer&&this.selectedResizer.isVisible&&this.selectedResizer.redraw()}destroy(){super.destroy(),this._observer.stopListening();for(const t of this._resizers.values())t.destroy();this._redrawSelectedResizerThrottled.cancel()}select(t){this.deselect(),this.selectedResizer=t,this.selectedResizer.isSelected=!0}deselect(){this.selectedResizer&&(this.selectedResizer.isSelected=!1),this.selectedResizer=null}attachTo(t){const s=new o9(t),a=this.editor.plugins;if(s.attach(),a.has("WidgetToolbarRepository")){const p=a.get("WidgetToolbarRepository");s.on("begin",()=>{p.forceDisabled("resize")},{priority:"lowest"}),s.on("cancel",()=>{p.clearForceDisabled("resize")},{priority:"highest"}),s.on("commit",()=>{p.clearForceDisabled("resize")},{priority:"highest"})}this._resizers.set(t.viewElement,s);const d=this.editor.editing.view.document.selection.getSelectedElement();return this.getResizerByViewElement(d)==s&&this.select(s),s}getResizerByViewElement(t){return this._resizers.get(t)}_getResizerByHandle(t){for(const s of this._resizers.values())if(s.containsHandle(t))return s}_mouseDownListener(t,s){const a=s.domTarget;o9.isResizeHandle(a)&&(this._activeResizer=this._getResizerByHandle(a)||null,this._activeResizer&&(this._activeResizer.begin(a),t.stop(),s.preventDefault()))}_mouseMoveListener(t,s){this._activeResizer&&this._activeResizer.updateSize(s)}_mouseUpListener(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}}const gI=ts("px");class moe extends dn{constructor(){super();const t=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",t.if("isVisible","ck-hidden",s=>!s)],style:{left:t.to("left",s=>gI(s)),top:t.to("top",s=>gI(s)),width:t.to("width",s=>gI(s))}}})}}class JT extends st{constructor(){super(...arguments),this.removeDropMarkerDelayed=Cg(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=__(t=>this._updateDropMarker(t),40),this._reconvertMarkerThrottled=__(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new moe,this._domEmitter=new(Ar()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:t}of this._scrollables.values())t.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(t,s,a,d,p){this.removeDropMarkerDelayed.cancel();const w=a9(this.editor,t,s,a,d,p);w&&this._updateDropMarkerThrottled(w)}getFinalDropRange(t,s,a,d,p){const w=a9(this.editor,t,s,a,d,p);return this.removeDropMarker(),w}removeDropMarker(){const t=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,t.markers.has("drop-target")&&t.change(s=>{s.removeMarker("drop-target")})}_setupDropMarker(){const t=this.editor;t.ui.view.body.add(this._dropTargetLineView),t.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),t.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(s,{writer:a})=>{if(t.model.schema.checkChild(s.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(a);s.markerRange.isCollapsed?this._updateDropTargetLine(s.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(t){const s=this.editor,a=s.model.markers;s.model.change(d=>{a.has("drop-target")?a.get("drop-target").getRange().isEqual(t)||d.updateMarker("drop-target",{range:t}):d.addMarker("drop-target",{range:t,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(t){return t.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(s){const a=this.toDomElement(s);return a.append("⁠",s.createElement("span"),"⁠"),a})}_updateDropTargetLine(t){const s=this.editor.editing,a=t.start.nodeBefore,d=t.start.nodeAfter,p=t.start.parent,w=a?s.mapper.toViewElement(a):null,k=w?s.view.domConverter.mapViewToDom(w):null,D=d?s.mapper.toViewElement(d):null,R=D?s.view.domConverter.mapViewToDom(D):null,M=s.mapper.toViewElement(p),U=s.view.domConverter.mapViewToDom(M),W=this._getScrollableRect(M),{scrollX:Z,scrollY:re}=he.window,le=k?new _t(k):null,xe=R?new _t(R):null,Pe=new _t(U).excludeScrollbarsAndBorders(),Ge=le?le.bottom:Pe.top,tt=xe?xe.top:Pe.bottom,Nt=he.window.getComputedStyle(U),ln=Ge<=tt?(Ge+tt)/2:tt;if(W.top<ln&&ln<W.bottom){const Gn=Pe.left+parseFloat(Nt.paddingLeft),Xn=Pe.right-parseFloat(Nt.paddingRight),os=Math.max(Gn+Z,W.left),jo=Math.min(Xn+Z,W.right);this._dropTargetLineView.set({isVisible:!0,left:os,top:ln+re,width:jo-os})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(t){const s=t.root.rootName;let a;if(this._scrollables.has(s))a=this._scrollables.get(s).domElement;else{a=function(p){let w=p;do{w=w.parentElement;const k=he.window.getComputedStyle(w).overflowY;if(k=="auto"||k=="scroll")break}while(w.tagName!="BODY");return w}(this.editor.editing.view.domConverter.mapViewToDom(t)),this._domEmitter.listenTo(a,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const d=new Dn(a,this._reconvertMarkerThrottled);this._scrollables.set(s,{domElement:a,resizeObserver:d})}return new _t(a).excludeScrollbarsAndBorders()}}function a9(f,t,s,a,d,p){const w=f.model,k=f.editing.mapper;let D=c9(f,t);for(;D;){if(!p){if(w.schema.checkChild(D,"$text")){const R=s?s[0].start:null,M=R?k.toModelPosition(R):null;if(M){if(w.schema.checkChild(M,"$text"))return w.createRange(M);if(R)return QT(f,c9(f,R.parent),a,d)}}else if(w.schema.isInline(D))return QT(f,D,a,d)}if(w.schema.isBlock(D))return QT(f,D,a,d);if(w.schema.checkChild(D,"$block")){const R=Array.from(D.getChildren()).filter(W=>W.is("element")&&!goe(f,W));let M=0,U=R.length;if(U==0)return w.createRange(w.createPositionAt(D,"end"));for(;M<U-1;){const W=Math.floor((M+U)/2);l9(f,R[W],a,d)=="before"?U=W:M=W}return QT(f,R[M],a,d)}D=D.parent}return null}function goe(f,t){const s=f.editing.mapper,a=f.editing.view.domConverter,d=s.toViewElement(t),p=a.mapViewToDom(d);return he.window.getComputedStyle(p).float!="none"}function QT(f,t,s,a){const d=f.model;return d.createRange(d.createPositionAt(t,l9(f,t,s,a)))}function l9(f,t,s,a){const d=f.editing.mapper,p=f.editing.view.domConverter,w=d.toViewElement(t),k=p.mapViewToDom(w),D=new _t(k);return f.model.schema.isInline(t)?s<(D.left+D.right)/2?"before":"after":a<(D.top+D.bottom)/2?"before":"after"}function c9(f,t){const s=f.editing.mapper,a=f.editing.view,d=s.toModelElement(t);if(d)return d;const p=a.createPositionBefore(t),w=s.findMappedViewAncestor(p);return s.toModelElement(w)}class boe extends st{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(Ar())}static get pluginName(){return"DragDropBlockToolbar"}init(){const t=this.editor;if(this.listenTo(t,"change:isReadOnly",(s,a,d)=>{d?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),y.isAndroid&&this.forceDisabled("noAndroidSupport"),t.plugins.has("BlockToolbar")){const s=t.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(s,"dragstart",(a,d)=>this._handleBlockDragStart(d)),this._domEmitter.listenTo(he.document,"dragover",(a,d)=>this._handleBlockDragging(d)),this._domEmitter.listenTo(he.document,"drop",(a,d)=>this._handleBlockDragging(d)),this._domEmitter.listenTo(he.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&s.setAttribute("draggable","true"),this.on("change:isEnabled",(a,d,p)=>{s.setAttribute("draggable",p?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(t){if(!this.isEnabled)return;const s=this.editor.model,a=s.document.selection,d=this.editor.editing.view,p=Array.from(a.getSelectedBlocks()),w=s.createRange(s.createPositionBefore(p[0]),s.createPositionAfter(p[p.length-1]));s.change(k=>k.setSelection(w)),this._isBlockDragging=!0,d.focus(),d.getObserver(O_).onDomEvent(t)}_handleBlockDragging(t){if(!this.isEnabled||!this._isBlockDragging)return;const s=t.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),a=t.clientY,d=document.elementFromPoint(s,a),p=this.editor.editing.view;d&&d.closest(".ck-editor__editable")&&p.getObserver(O_).onDomEvent({...t,type:t.type,dataTransfer:t.dataTransfer,target:d,clientX:s,clientY:a,preventDefault:()=>t.preventDefault(),stopPropagation:()=>t.stopPropagation()})}_handleBlockDragEnd(){this._isBlockDragging=!1}}var eC=o(799),V_={attributes:{"data-cke":!0}};V_.setAttributes=jt(),V_.insert=Vt().bind(null,"head"),V_.domAPI=Bt(),V_.insertStyleElement=zt(),Ut()(eC.Z,V_),eC.Z&&eC.Z.locals&&eC.Z.locals;class yoe extends st{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=Cg(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new(Ar())}static get pluginName(){return"DragDrop"}static get requires(){return[mh,B_,JT,boe]}init(){const t=this.editor,s=t.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,s.addObserver(O_),s.addObserver(uT),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(t,"change:isReadOnly",(a,d,p)=>{p?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(a,d,p)=>{p||this._finalizeDragging(!1)}),y.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const t=this.editor,s=t.model,a=t.editing.view,d=a.document,p=t.plugins.get(JT);this.listenTo(d,"dragstart",(w,k)=>{if(k.target&&k.target.is("editableElement")||(this._prepareDraggedRange(k.target),!this._draggedRange))return void k.preventDefault();this._draggingUid=O(),k.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",k.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const D=s.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(k.dataTransfer,D,"dragstart");const{dataTransfer:R,domTarget:M,domEvent:U}=k,{clientX:W}=U;this._updatePreview({dataTransfer:R,domTarget:M,clientX:W}),k.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(d,"dragend",(w,k)=>{this._finalizeDragging(!k.dataTransfer.isCanceled&&k.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(he.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(d,"dragenter",()=>{this.isEnabled&&a.focus()}),this.listenTo(d,"dragleave",()=>{p.removeDropMarkerDelayed()}),this.listenTo(d,"dragging",(w,k)=>{if(!this.isEnabled)return void(k.dataTransfer.dropEffect="none");const{clientX:D,clientY:R}=k.domEvent;p.updateDropMarker(k.target,k.targetRanges,D,R,this._blockMode),this._draggedRange||(k.dataTransfer.dropEffect="copy"),y.isGecko||(k.dataTransfer.effectAllowed=="copy"?k.dataTransfer.dropEffect="copy":["all","copyMove"].includes(k.dataTransfer.effectAllowed)&&(k.dataTransfer.dropEffect="move")),w.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const t=this.editor,s=t.editing.view.document,a=t.plugins.get(JT);this.listenTo(s,"clipboardInput",(d,p)=>{if(p.method!="drop")return;const{clientX:w,clientY:k}=p.domEvent,D=a.getFinalDropRange(p.target,p.targetRanges,w,k,this._blockMode);if(!D)return this._finalizeDragging(!1),void d.stop();if(this._draggedRange&&this._draggingUid!=p.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),u9(p.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(D,!0))return this._finalizeDragging(!1),void d.stop();p.targetRanges=[t.editing.mapper.toViewRange(D)]},{priority:"high"})}_setupContentInsertionIntegration(){const t=this.editor.plugins.get(mh);t.on("contentInsertion",(s,a)=>{if(!this.isEnabled||a.method!=="drop")return;const d=a.targetRanges.map(p=>this.editor.editing.mapper.toModelRange(p));this.editor.model.change(p=>p.setSelection(d))},{priority:"high"}),t.on("contentInsertion",(s,a)=>{if(!this.isEnabled||a.method!=="drop")return;const d=u9(a.dataTransfer)=="move",p=!a.resultRange||!a.resultRange.isCollapsed;this._finalizeDragging(p&&d)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const t=this.editor,s=t.editing.view,a=s.document;this.listenTo(a,"mousedown",(d,p)=>{if(y.isAndroid||!p)return;this._clearDraggableAttributesDelayed.cancel();let w=d9(p.target);if(y.isBlink&&!t.isReadOnly&&!w&&!a.selection.isCollapsed){const k=a.selection.getSelectedElement();k&&Wr(k)||(w=a.selection.editableElement)}w&&(s.change(k=>{k.setAttribute("draggable","true",w)}),this._draggableElement=t.editing.mapper.toModelElement(w))}),this.listenTo(a,"mouseup",()=>{y.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const t=this.editor.editing;t.view.change(s=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&s.removeAttribute("draggable",t.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(t){const s=this.editor,a=s.model;s.plugins.get(JT).removeDropMarker(),this._clearDraggableAttributes(),s.plugins.has("WidgetToolbarRepository")&&s.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(t&&this.isEnabled&&a.change(d=>{const p=a.createSelection(this._draggedRange);a.deleteContent(p,{doNotAutoparagraph:!0});const w=p.getFirstPosition().parent;w.isEmpty&&!a.schema.checkChild(w,"$text")&&a.schema.checkChild(w,"paragraph")&&d.insertElement("paragraph",w,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(t){const s=this.editor,a=s.model,d=a.document.selection,p=t?d9(t):null;if(p){const R=s.editing.mapper.toModelElement(p);this._draggedRange=qa.fromRange(a.createRangeOn(R)),this._blockMode=a.schema.isBlock(R),s.plugins.has("WidgetToolbarRepository")&&s.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(d.isCollapsed&&!d.getFirstPosition().parent.isEmpty)return;const w=Array.from(d.getSelectedBlocks()),k=d.getFirstRange();if(w.length==0)return void(this._draggedRange=qa.fromRange(k));const D=h9(a,w);if(w.length>1)this._draggedRange=qa.fromRange(D),this._blockMode=!0;else if(w.length==1){const R=k.start.isTouching(D.start)&&k.end.isTouching(D.end);this._draggedRange=qa.fromRange(R?D:k),this._blockMode=R}a.change(R=>R.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:t,domTarget:s,clientX:a}){const d=this.editor.editing.view,p=d.document.selection.editableElement,w=d.domConverter.mapViewToDom(p),k=he.window.getComputedStyle(w);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=$i(he.document,"div",{style:"position: fixed; left: -999999px;"}),he.document.body.appendChild(this._previewContainer));const D=new _t(w);if(w.contains(s))return;const R=parseFloat(k.paddingLeft),M=$i(he.document,"div");M.className="ck ck-content",M.style.width=k.width,M.style.paddingLeft=`${D.left-a+R}px`,y.isiOS&&(M.style.backgroundColor="white"),M.innerHTML=t.getData("text/html"),t.setDragImage(M,0,0),this._previewContainer.appendChild(M)}}function u9(f){return y.isGecko?f.dropEffect:["all","copyMove"].includes(f.effectAllowed)?"move":"copy"}function d9(f){if(f.is("editableElement"))return null;if(f.hasClass("ck-widget__selection-handle"))return f.findAncestor(Wr);if(Wr(f))return f;const t=f.findAncestor(s=>Wr(s)||s.is("editableElement"));return Wr(t)?t:null}function h9(f,t){const s=t[0],a=t[t.length-1],d=s.getCommonAncestor(a),p=f.createPositionBefore(s),w=f.createPositionAfter(a);if(d&&d.is("element")&&!f.schema.isLimit(d)){const k=f.createRangeOn(d),D=p.isTouching(k.start),R=w.isTouching(k.end);if(D&&R)return h9(f,[d])}return f.createRange(p,w)}class voe extends st{static get pluginName(){return"PastePlainText"}static get requires(){return[mh]}init(){const t=this.editor,s=t.model,a=t.editing.view,d=a.document,p=s.document.selection;let w=!1;a.addObserver(O_),this.listenTo(d,"keydown",(k,D)=>{w=D.shiftKey}),t.plugins.get(mh).on("contentInsertion",(k,D)=>{(w||function(R,M){if(R.childCount>1)return!1;const U=R.getChild(0);return M.isObject(U)?!1:Array.from(U.getAttributeKeys()).length==0}(D.content,s.schema))&&s.change(R=>{const M=Array.from(p.getAttributes()).filter(([W])=>s.schema.getAttributeProperties(W).isFormatting);p.isCollapsed||s.deleteContent(p,{doNotAutoparagraph:!0}),M.push(...p.getAttributes());const U=R.createRangeIn(D.content);for(const W of U.getItems())W.is("$textProxy")&&R.setAttributes(M,W)})})}}class f9 extends st{static get pluginName(){return"Clipboard"}static get requires(){return[mh,yoe,voe]}}class woe extends pn{constructor(t){super(t),this.affectsData=!1}execute(){const t=this.editor.model,s=t.document.selection;let a=t.schema.getLimitElement(s);if(s.containsEntireContent(a)||!p9(t.schema,a))do if(a=a.parent,!a)return;while(!p9(t.schema,a));t.change(d=>{d.setSelection(a,"in")})}}function p9(f,t){return f.isLimit(t)&&(f.checkChild(t,"$text")||f.checkChild(t,"paragraph"))}const xoe=ns("Ctrl+A");class _oe extends st{static get pluginName(){return"SelectAllEditing"}init(){const t=this.editor,s=t.editing.view.document;t.commands.add("selectAll",new woe(t)),this.listenTo(s,"keydown",(a,d)=>{Xi(d)===xoe&&(t.execute("selectAll"),d.preventDefault())})}}class koe extends st{static get pluginName(){return"SelectAllUI"}init(){const t=this.editor;t.ui.componentFactory.add("selectAll",s=>{const a=t.commands.get("selectAll"),d=new qn(s),p=s.t;return d.set({label:p("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),d.bind("isEnabled").to(a,"isEnabled"),this.listenTo(d,"execute",()=>{t.execute("selectAll"),t.editing.view.focus()}),d})}}class Eoe extends st{static get requires(){return[_oe,koe]}static get pluginName(){return"SelectAll"}}class m9 extends pn{constructor(t){super(t),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(t.data,"set",(s,a)=>{a[1]={...a[1]};const d=a[1];d.batchType||(d.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(t.data,"set",(s,a)=>{a[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(t){const s=this.editor.model.document.selection,a={ranges:s.hasOwnRange?Array.from(s.getRanges()):[],isBackward:s.isBackward};this._stack.push({batch:t,selection:a}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(t,s,a){const d=this.editor.model,p=d.document,w=[],k=t.map(R=>R.getTransformedByOperations(a)),D=k.flat();for(const R of k){const M=R.filter(U=>U.root!=p.graveyard).filter(U=>!Aoe(U,D));M.length&&(Soe(M),w.push(M[0]))}w.length&&d.change(R=>{R.setSelection(w,{backward:s})})}_undo(t,s){const a=this.editor.model,d=a.document;this._createdBatches.add(s);const p=t.operations.slice().filter(w=>w.isDocumentOperation);p.reverse();for(const w of p){const k=w.baseVersion+1,D=Array.from(d.history.getOperations(k)),R=jre([w.getReversed()],D,{useRelations:!0,document:this.editor.model.document,forceWeakRemove:!0}).operationsA;for(let M of R){const U=M.affectedSelectable;U&&!a.canEditAt(U)&&(M=new Vr(M.baseVersion)),s.addOperation(M),a.applyOperation(M),d.history.setOperationAsUndone(w,M)}}}}function Soe(f){f.sort((t,s)=>t.start.isBefore(s.start)?-1:1);for(let t=1;t<f.length;t++){const s=f[t-1].getJoined(f[t],!0);s&&(t--,f.splice(t,2,s))}}function Aoe(f,t){return t.some(s=>s!==f&&s.containsRange(f,!0))}class Toe extends m9{execute(t=null){const s=t?this._stack.findIndex(p=>p.batch==t):this._stack.length-1,a=this._stack.splice(s,1)[0],d=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(d,()=>{this._undo(a.batch,d);const p=this.editor.model.document.history.getOperations(a.batch.baseVersion);this._restoreSelection(a.selection.ranges,a.selection.isBackward,p)}),this.fire("revert",a.batch,d),this.refresh()}}class Coe extends m9{execute(){const t=this._stack.pop(),s=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(s,()=>{const a=t.batch.operations[t.batch.operations.length-1].baseVersion+1,d=this.editor.model.document.history.getOperations(a);this._restoreSelection(t.selection.ranges,t.selection.isBackward,d),this._undo(t.batch,s)}),this.refresh()}}class Doe extends st{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const t=this.editor;this._undoCommand=new Toe(t),this._redoCommand=new Coe(t),t.commands.add("undo",this._undoCommand),t.commands.add("redo",this._redoCommand),this.listenTo(t.model,"applyOperation",(s,a)=>{const d=a[0];if(!d.isDocumentOperation)return;const p=d.batch,w=this._redoCommand.createdBatches.has(p),k=this._undoCommand.createdBatches.has(p);this._batchRegistry.has(p)||(this._batchRegistry.add(p),p.isUndoable&&(w?this._undoCommand.addBatch(p):k||(this._undoCommand.addBatch(p),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(s,a,d)=>{this._redoCommand.addBatch(d)}),t.keystrokes.set("CTRL+Z","undo"),t.keystrokes.set("CTRL+Y","redo"),t.keystrokes.set("CTRL+SHIFT+Z","redo")}}const g9='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',b9='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class Noe extends st{static get pluginName(){return"UndoUI"}init(){const t=this.editor,s=t.locale,a=t.t,d=s.uiLanguageDirection=="ltr"?g9:b9,p=s.uiLanguageDirection=="ltr"?b9:g9;this._addButton("undo",a("Undo"),"CTRL+Z",d),this._addButton("redo",a("Redo"),"CTRL+Y",p)}_addButton(t,s,a,d){const p=this.editor;p.ui.componentFactory.add(t,w=>{const k=p.commands.get(t),D=new qn(w);return D.set({label:s,icon:d,keystroke:a,tooltip:!0}),D.bind("isEnabled").to(k,"isEnabled"),this.listenTo(D,"execute",()=>{p.execute(t),p.editing.view.focus()}),D})}}class y9 extends st{static get requires(){return[Doe,Noe]}static get pluginName(){return"Undo"}}function _p(f,t,s,a){let d,p=null;typeof a=="function"?d=a:(p=f.commands.get(a),d=()=>{f.execute(a)}),f.model.document.on("change:data",(w,k)=>{if(p&&!p.isEnabled||!t.isEnabled)return;const D=ki(f.model.document.selection.getRanges());if(!D.isCollapsed||k.isUndo||!k.isLocal)return;const R=Array.from(f.model.document.differ.getChanges()),M=R[0];if(R.length!=1||M.type!=="insert"||M.name!="$text"||M.length!=1)return;const U=M.position.parent;if(U.is("element","codeBlock")||U.is("element","listItem")&&typeof a!="function"&&!["numberedList","bulletedList","todoList"].includes(a)||p&&p.value===!0)return;const W=U.getChild(0),Z=f.model.createRangeOn(W);if(!Z.containsRange(D)&&!D.end.isEqual(Z.end))return;const re=s.exec(W.data.substr(0,D.end.offset));re&&f.model.enqueueChange(le=>{const xe=le.createPositionAt(U,0),Pe=le.createPositionAt(U,re[0].length),Ge=new qa(xe,Pe);if(d({match:re})!==!1){le.remove(Ge);const tt=f.model.document.selection.getFirstRange(),Nt=le.createRangeIn(U);!U.isEmpty||Nt.isEqual(tt)||Nt.containsRange(tt,!0)||le.remove(U)}Ge.detach(),f.model.enqueueChange(()=>{f.plugins.get("Delete").requestUndoOnBackspace()})})})}function pv(f,t,s,a){let d,p;s instanceof RegExp?d=s:p=s,p=p||(w=>{let k;const D=[],R=[];for(;(k=d.exec(w))!==null&&!(k&&k.length<4);){let{index:M,1:U,2:W,3:Z}=k;const re=U+W+Z;M+=k[0].length-re.length;const le=[M,M+U.length],xe=[M+U.length+W.length,M+U.length+W.length+Z.length];D.push(le),D.push(xe),R.push([M+U.length,M+U.length+W.length])}return{remove:D,format:R}}),f.model.document.on("change:data",(w,k)=>{if(k.isUndo||!k.isLocal||!t.isEnabled)return;const D=f.model,R=D.document.selection;if(!R.isCollapsed)return;const M=Array.from(D.document.differ.getChanges()),U=M[0];if(M.length!=1||U.type!=="insert"||U.name!="$text"||U.length!=1)return;const W=R.focus,Z=W.parent,{text:re,range:le}=function(tt,Nt){let ln=tt.start;return{text:Array.from(tt.getItems()).reduce((Xn,os)=>!os.is("$text")&&!os.is("$textProxy")||os.getAttribute("code")?(ln=Nt.createPositionAfter(os),""):Xn+os.data,""),range:Nt.createRange(ln,tt.end)}}(D.createRange(D.createPositionAt(Z,0),W),D),xe=p(re),Pe=v9(le.start,xe.format,D),Ge=v9(le.start,xe.remove,D);Pe.length&&Ge.length&&D.enqueueChange(tt=>{if(a(tt,Pe)!==!1){for(const Nt of Ge.reverse())tt.remove(Nt);D.enqueueChange(()=>{f.plugins.get("Delete").requestUndoOnBackspace()})}})})}function v9(f,t,s){return t.filter(a=>a[0]!==void 0&&a[1]!==void 0).map(a=>s.createRange(f.getShiftedBy(a[0]),f.getShiftedBy(a[1])))}function tC(f,t){return(s,a)=>{if(!f.commands.get(t).isEnabled)return!1;const d=f.model.schema.getValidRanges(a,t);for(const p of d)s.setAttribute(t,!0,p);s.removeSelectionAttribute(t)}}class bI extends pn{constructor(t,s){super(t),this.attributeKey=s}refresh(){const t=this.editor.model,s=t.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=t.schema.checkAttributeInSelection(s.selection,this.attributeKey)}execute(t={}){const s=this.editor.model,a=s.document.selection,d=t.forceValue===void 0?!this.value:t.forceValue;s.change(p=>{if(a.isCollapsed)d?p.setSelectionAttribute(this.attributeKey,!0):p.removeSelectionAttribute(this.attributeKey);else{const w=s.schema.getValidRanges(a.getRanges(),this.attributeKey);for(const k of w)d?p.setAttribute(this.attributeKey,d,k):p.removeAttribute(this.attributeKey,k)}})}_getValueFromFirstAllowedNode(){const t=this.editor.model,s=t.schema,a=t.document.selection;if(a.isCollapsed)return a.hasAttribute(this.attributeKey);for(const d of a.getRanges())for(const p of d.getItems())if(s.checkAttribute(p,this.attributeKey))return p.hasAttribute(this.attributeKey);return!1}}const mv="bold";class Poe extends st{static get pluginName(){return"BoldEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:mv}),t.model.schema.setAttributeProperties(mv,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:mv,view:"strong",upcastAlso:["b",s=>{const a=s.getStyle("font-weight");return a&&(a=="bold"||Number(a)>=600)?{name:!0,styles:["font-weight"]}:null}]}),t.commands.add(mv,new bI(t,mv)),t.keystrokes.set("CTRL+B",mv)}}const yI="bold";class Ioe extends st{static get pluginName(){return"BoldUI"}init(){const t=this.editor,s=t.t;t.ui.componentFactory.add(yI,a=>{const d=t.commands.get(yI),p=new qn(a);return p.set({label:s("Bold"),icon:ri.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),p.bind("isOn","isEnabled").to(d,"value","isEnabled"),this.listenTo(p,"execute",()=>{t.execute(yI),t.editing.view.focus()}),p})}}const gv="italic";class joe extends st{static get pluginName(){return"ItalicEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:gv}),t.model.schema.setAttributeProperties(gv,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:gv,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),t.commands.add(gv,new bI(t,gv)),t.keystrokes.set("CTRL+I",gv)}}const vI="italic";class Roe extends st{static get pluginName(){return"ItalicUI"}init(){const t=this.editor,s=t.t;t.ui.componentFactory.add(vI,a=>{const d=t.commands.get(vI),p=new qn(a);return p.set({label:s("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),p.bind("isOn","isEnabled").to(d,"value","isEnabled"),this.listenTo(p,"execute",()=>{t.execute(vI),t.editing.view.focus()}),p})}}const Yg="code";class Moe extends st{static get pluginName(){return"CodeEditing"}static get requires(){return[WT]}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:Yg}),t.model.schema.setAttributeProperties(Yg,{isFormatting:!0,copyOnEnter:!1}),t.conversion.attributeToElement({model:Yg,view:"code",upcastAlso:{styles:{"word-wrap":"break-word"}}}),t.commands.add(Yg,new bI(t,Yg)),t.plugins.get(WT).registerAttribute(Yg),$7(t,Yg,"code","ck-code_selected")}}var nC=o(5363),W_={attributes:{"data-cke":!0}};W_.setAttributes=jt(),W_.insert=Vt().bind(null,"head"),W_.domAPI=Bt(),W_.insertStyleElement=zt(),Ut()(nC.Z,W_),nC.Z&&nC.Z.locals&&nC.Z.locals;const wI="code";class Ooe extends st{static get pluginName(){return"CodeUI"}init(){const t=this.editor,s=t.t;t.ui.componentFactory.add(wI,a=>{const d=t.commands.get(wI),p=new qn(a);return p.set({label:s("Code"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.5 5.7 5.2 3.9v1.3l-5.6 4c-.1.2-.3.2-.5.2-.3-.1-.6-.7-.6-1l.3-.4 4.7-3.5L11.5 7l-.2-.2c-.1-.3-.1-.6 0-.8.2-.2.5-.4.8-.4a.8.8 0 0 1 .4.1zm-5.2 0L2 9.6v1.3l5.6 4c.1.2.3.2.5.2.3-.1.7-.7.6-1 0-.1 0-.3-.2-.4l-5-3.5L8.2 7l.2-.2c.1-.3.1-.6 0-.8-.2-.2-.5-.4-.8-.4a.8.8 0 0 0-.3.1z"/></svg>',tooltip:!0,isToggleable:!0}),p.bind("isOn","isEnabled").to(d,"value","isEnabled"),this.listenTo(p,"execute",()=>{t.execute(wI),t.editing.view.focus()}),p})}}function xI(f){const t=f.t,s=f.config.get("codeBlock.languages");for(const a of s)a.label==="Plain text"&&(a.label=t("Plain text")),a.class===void 0&&(a.class=`language-${a.language}`);return s}function _I(f,t,s){const a={};for(const d of f)t==="class"?a[d[t].split(" ").shift()]=d[s]:a[d[t]]=d[s];return a}function kI(f){return f.data.match(/^(\s*)/)[0]}function w9(f,t){const s=f.createDocumentFragment(),a=t.split(`
`).map(p=>f.createText(p)),d=a[a.length-1];for(const p of a)f.append(p,s),p!==d&&f.appendElement("softBreak",s);return s}function EI(f){const t=f.document.selection,s=[];if(t.isCollapsed)s.push(t.anchor);else{const a=t.getFirstRange().getWalker({ignoreElementEnd:!0,direction:"backward"});for(const{item:d}of a)if(d.is("$textProxy")&&d.parent.is("element","codeBlock")){const p=kI(d.textNode),{parent:w,startOffset:k}=d.textNode,D=f.createPositionAt(w,k+p.length);s.push(D)}}return s}function x9(f){const t=ki(f.getSelectedBlocks());return t&&t.is("element","codeBlock")}var Foe=o(4670),Loe=o.n(Foe);class Uoe extends pn{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const s=this.editor,a=s.model,d=a.document.selection,p=xI(s)[0],w=Array.from(d.getSelectedBlocks()),k=t.forceValue===void 0?!this.value:t.forceValue,D=t.language||p.language;a.change(R=>{k?this._applyCodeBlock(R,w,D):this._removeCodeBlock(R,w)})}_getValue(){const t=ki(this.editor.model.document.selection.getSelectedBlocks());return!(!t||!t.is("element","codeBlock"))&&t.getAttribute("language")}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.document.selection,s=this.editor.model.schema,a=ki(t.getSelectedBlocks());return!!a&&_9(s,a)}_applyCodeBlock(t,s,a){const d=this.editor.model.schema,p=s.filter(w=>_9(d,w));for(const w of p)t.rename(w,"codeBlock"),t.setAttribute("language",a,w),t.setAttribute("codeID",Loe().generate(),w),d.removeDisallowedAttributes([w],t);p.reverse().forEach((w,k)=>{const D=p[k+1];w.previousSibling===D&&(t.appendElement("softBreak",D),t.merge(t.createPositionBefore(w)))})}_removeCodeBlock(t,s){const a=s.filter(d=>d.is("element","codeBlock"));for(const d of a){const p=t.createRangeOn(d);for(const w of Array.from(p.getItems()).reverse())if(w.is("element","softBreak")&&w.parent.is("element","codeBlock")){const{position:k}=t.split(t.createPositionBefore(w));t.rename(k.nodeAfter,"paragraph"),t.removeAttribute("language",k.nodeAfter),t.remove(w)}t.rename(d,"paragraph"),t.removeAttribute("language",d)}}}function _9(f,t){return!t.is("rootElement")&&!f.isLimit(t)&&f.checkChild(t.parent,"codeBlock")}class Boe extends pn{constructor(t){super(t),this._indentSequence=t.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model;t.change(s=>{const a=EI(t);for(const d of a)s.insertText(this._indentSequence,d)})}_checkEnabled(){return!!this._indentSequence&&x9(this.editor.model.document.selection)}}class zoe extends pn{constructor(t){super(t),this._indentSequence=t.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model;t.change(s=>{const a=EI(t);for(const d of a){const p=k9(this.editor.model,d,this._indentSequence);p&&s.remove(p)}})}_checkEnabled(){if(!this._indentSequence)return!1;const t=this.editor.model;return!!x9(t.document.selection)&&EI(t).some(s=>k9(t,s,this._indentSequence))}}function k9(f,t,s){const a=function(D){let R=D.parent.getChild(D.index);return R&&!R.is("element","softBreak")||(R=D.nodeBefore),!R||R.is("element","softBreak")?null:R}(t);if(!a)return null;const d=kI(a),p=d.lastIndexOf(s);if(p+s.length!==d.length||p===-1)return null;const{parent:w,startOffset:k}=a;return f.createRange(f.createPositionAt(w,k+p),f.createPositionAt(w,k+p+s.length))}function E9(f,t,s=!1){const a=_I(t,"language","class"),d=_I(t,"language","label");return(p,w,k)=>{const{writer:D,mapper:R,consumable:M}=k;let U="";if(!M.consume(w.item,"insert"))return;const W=w.item.getAttribute("language"),Z=w.item.getAttribute("codeID"),re=R.toViewPosition(f.createPositionBefore(w.item)),le={};s?(le["data-language"]=d[W],le.spellcheck="false"):U=Z;const xe=D.createContainerElement("pre",le),Pe=D.createContainerElement("code",{class:a[W]||null,id:U||null});D.insert(D.createPositionAt(xe,0),Pe),D.insert(re,xe),R.bindElements(w.item,Pe)}}const S9="paragraph";class Voe extends st{static get pluginName(){return"CodeBlockEditing"}static get requires(){return[Y7]}constructor(t){super(t),t.config.define("codeBlock",{languages:[{language:"plaintext",label:"Plain text"},{language:"c",label:"C"},{language:"cs",label:"C#"},{language:"cpp",label:"C++"},{language:"css",label:"CSS"},{language:"diff",label:"Diff"},{language:"html",label:"HTML"},{language:"java",label:"Java"},{language:"javascript",label:"JavaScript"},{language:"php",label:"PHP"},{language:"python",label:"Python"},{language:"ruby",label:"Ruby"},{language:"typescript",label:"TypeScript"},{language:"xml",label:"XML"}],indentSequence:"	"})}init(){const t=this.editor,s=t.model.schema,a=t.model,d=xI(t);t.commands.add("codeBlock",new Uoe(t)),t.commands.add("indentCodeBlock",new Boe(t)),t.commands.add("outdentCodeBlock",new zoe(t));const p=w=>(k,D)=>{this.editor.commands.get(w).isEnabled&&(this.editor.execute(w),D())};t.keystrokes.set("Tab",p("indentCodeBlock")),t.keystrokes.set("Shift+Tab",p("outdentCodeBlock")),s.register("codeBlock",{allowWhere:"$block",isBlock:!0,allowAttributes:["language","codeID"]}),s.extend("$text",{allowIn:"codeBlock"}),s.addAttributeCheck(w=>{if(w.endsWith("codeBlock $text"))return!1}),t.editing.downcastDispatcher.on("insert:codeBlock",E9(a,d,!0)),t.data.downcastDispatcher.on("insert:codeBlock",E9(a,d)),t.data.downcastDispatcher.on("insert:softBreak",function(w){return(k,D,R)=>{if(D.item.parent.name!=="codeBlock")return;const{writer:M,mapper:U,consumable:W}=R;if(!W.consume(D.item,"insert"))return;const Z=U.toViewPosition(w.createPositionBefore(D.item));M.insert(Z,M.createText(`
`))}}(a),{priority:"high"}),t.data.upcastDispatcher.on("element:pre",function(w,k){const D=_I(k,"class","language"),R=k[0].language;return(M,U,W)=>{const Z=U.viewItem,re=Z.getChild(0);if(!re||!re.is("element","code"))return;const{consumable:le,writer:xe}=W;if(!le.test(Z,{name:!0})||!le.test(re,{name:!0}))return;const Pe=xe.createElement("codeBlock"),Ge=[...re.getClassNames()],tt=re.getAttribute("id");tt&&xe.setAttribute("codeID",tt,Pe),Ge.length||Ge.push("");for(const ln of Ge){const Gn=D[ln];if(Gn){xe.setAttribute("language",Gn,Pe);break}}Pe.hasAttribute("language")||xe.setAttribute("language",R,Pe);const Nt=w9(xe,[...w.createRangeIn(re)].filter(ln=>ln.type==="text").map(({item:ln})=>ln.data).join(""));xe.append(Nt,Pe),W.safeInsert(Pe,U.modelCursor)&&(le.consume(Z,{name:!0}),le.consume(re,{name:!0}),W.updateConversionResult(Pe,U))}}(t.editing.view,d)),this.listenTo(t.editing.view.document,"clipboardInput",(w,k)=>{const D=a.document.selection;if(!D.anchor.parent.is("element","codeBlock"))return;const R=k.dataTransfer.getData("text/plain");a.change(M=>{a.insertContent(w9(M,R),D),w.stop()})}),this.listenTo(a,"getSelectedContent",(w,[k])=>{const D=k.anchor;!k.isCollapsed&&D.parent.is("element","codeBlock")&&D.hasSameParentAs(k.focus)&&a.change(R=>{const M=w.return;if(M.childCount>1||k.containsEntireContent(D.parent)){const U=R.createElement("codeBlock",D.parent.getAttributes());R.append(M,U);const W=R.createDocumentFragment();R.append(U,W),w.return=W}else{const U=M.getChild(0);s.checkAttribute(U,"code")&&R.setAttribute("code",!0,U)}})})}afterInit(){const t=this.editor,s=t.commands,a=s.get("indent"),d=s.get("outdent");a&&a.registerChildCommand(s.get("indentCodeBlock")),d&&d.registerChildCommand(s.get("outdentCodeBlock")),this.listenTo(t.editing.view.document,"enter",(p,w)=>{t.model.document.selection.getLastPosition().parent.is("element","codeBlock")&&(function(k,D){const R=k.model,M=R.document,U=k.editing.view,W=M.selection.getLastPosition(),Z=W.nodeAfter;return D||!M.selection.isCollapsed||!W.isAtStart||!Z||!Z.is("element","softBreak")?!1:(k.model.change(re=>{k.execute("enter");const le=M.selection.anchor.parent.previousSibling;re.rename(le,S9),re.setSelection(le,"in"),k.model.schema.removeDisallowedAttributes([le],re),re.remove(Z)}),U.scrollToTheSelection(),!0)}(t,w.isSoft)||function(k,D){const R=k.model,M=R.document,U=k.editing.view,W=M.selection.getLastPosition(),Z=W.nodeBefore;let re;if(D||!M.selection.isCollapsed||!W.isAtEnd||!Z)return!1;if(Z.is("element","softBreak"))re=R.createRangeOn(Z);else{if(!Z.is("$text")||Z.data.match(/\S/)||!Z.previousSibling||!Z.previousSibling.is("element","softBreak"))return!1;re=R.createRange(R.createPositionBefore(Z.previousSibling),R.createPositionAfter(Z))}return k.model.change(le=>{le.remove(re),k.execute("enter");const xe=M.selection.anchor.parent;le.rename(xe,S9),k.model.schema.removeDisallowedAttributes([xe],le)}),U.scrollToTheSelection(),!0}(t,w.isSoft)||function(k){const D=k.model,R=D.document,M=R.selection.getLastPosition(),U=M.nodeBefore||M.textNode;let W;U&&U.is("$text")&&(W=kI(U)),k.model.change(Z=>{k.execute("shiftEnter"),W&&Z.insertText(W,R.selection.anchor)})}(t),w.preventDefault(),p.stop())})}}var iC=o(6059),$_={attributes:{"data-cke":!0}};$_.setAttributes=jt(),$_.insert=Vt().bind(null,"head"),$_.domAPI=Bt(),$_.insertStyleElement=zt(),Ut()(iC.Z,$_),iC.Z&&iC.Z.locals&&iC.Z.locals;class Woe extends st{init(){const t=this.editor,s=t.t,a=t.ui.componentFactory,d=xI(t),p=d[0];a.add("codeBlock",w=>{const k=t.commands.get("codeBlock"),D=Xu(w,gT),R=D.buttonView;return R.set({label:s("Insert code block"),tooltip:!0,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231l.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2l-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',isToggleable:!0}),R.bind("isOn").to(k,"value",M=>!!M),R.on("execute",()=>{t.execute("codeBlock",{language:p.language}),t.editing.view.focus()}),D.on("execute",M=>{t.execute("codeBlock",{language:M.source._codeBlockLanguage,forceValue:!0}),t.editing.view.focus()}),D.class="ck-code-block-dropdown",D.bind("isEnabled").to(k),vT(D,this._getLanguageListItemDefinitions(d)),D})}_getLanguageListItemDefinitions(t){const s=this.editor.commands.get("codeBlock"),a=new Ys;for(const d of t){const p={type:"button",model:new DT({_codeBlockLanguage:d.language,label:d.label,withText:!0})};p.model.bind("isOn").to(s,"value",w=>w===p.model._codeBlockLanguage),a.add(p)}return a}}class $oe extends pn{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const s=this.editor.model,a=s.schema,d=s.document.selection,p=Array.from(d.getSelectedBlocks()),w=t.forceValue===void 0?!this.value:t.forceValue;s.change(k=>{if(w){const D=p.filter(R=>rC(R)||T9(a,R));this._applyQuote(k,D)}else this._removeQuote(k,p.filter(rC))})}_getValue(){const t=ki(this.editor.model.document.selection.getSelectedBlocks());return!(!t||!rC(t))}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.document.selection,s=this.editor.model.schema,a=ki(t.getSelectedBlocks());return!!a&&T9(s,a)}_removeQuote(t,s){A9(t,s).reverse().forEach(a=>{if(a.start.isAtStart&&a.end.isAtEnd)return void t.unwrap(a.start.parent);if(a.start.isAtStart){const p=t.createPositionBefore(a.start.parent);return void t.move(a,p)}a.end.isAtEnd||t.split(a.end);const d=t.createPositionAfter(a.end.parent);t.move(a,d)})}_applyQuote(t,s){const a=[];A9(t,s).reverse().forEach(d=>{let p=rC(d.start);p||(p=t.createElement("blockQuote"),t.wrap(d,p)),a.push(p)}),a.reverse().reduce((d,p)=>d.nextSibling==p?(t.merge(t.createPositionAfter(d)),d):p)}}function rC(f){return f.parent.name=="blockQuote"?f.parent:null}function A9(f,t){let s,a=0;const d=[];for(;a<t.length;){const p=t[a],w=t[a+1];s||(s=f.createPositionBefore(p)),w&&p.nextSibling==w||(d.push(f.createRange(s,f.createPositionAfter(p))),s=null),a++}return d}function T9(f,t){const s=f.checkChild(t.parent,"blockQuote"),a=f.checkChild(["$root","blockQuote"],t);return s&&a}class qoe extends st{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[HT,gh]}init(){const t=this.editor,s=t.model.schema;t.commands.add("blockQuote",new $oe(t)),s.register("blockQuote",{inheritAllFrom:"$container"}),t.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),t.model.document.registerPostFixer(w=>{const k=t.model.document.differ.getChanges();for(const D of k)if(D.type=="insert"){const R=D.position.nodeAfter;if(!R)continue;if(R.is("element","blockQuote")&&R.isEmpty)return w.remove(R),!0;if(R.is("element","blockQuote")&&!s.checkChild(D.position,R))return w.unwrap(R),!0;if(R.is("element")){const M=w.createRangeIn(R);for(const U of M.getItems())if(U.is("element","blockQuote")&&!s.checkChild(w.createPositionBefore(U),U))return w.unwrap(U),!0}}else if(D.type=="remove"){const R=D.position.parent;if(R.is("element","blockQuote")&&R.isEmpty)return w.remove(R),!0}return!1});const a=this.editor.editing.view.document,d=t.model.document.selection,p=t.commands.get("blockQuote");this.listenTo(a,"enter",(w,k)=>{!d.isCollapsed||!p.value||d.getLastPosition().parent.isEmpty&&(t.execute("blockQuote"),t.editing.view.scrollToTheSelection(),k.preventDefault(),w.stop())},{context:"blockquote"}),this.listenTo(a,"delete",(w,k)=>{if(k.direction!="backward"||!d.isCollapsed||!p.value)return;const D=d.getLastPosition().parent;D.isEmpty&&!D.previousSibling&&(t.execute("blockQuote"),t.editing.view.scrollToTheSelection(),k.preventDefault(),w.stop())},{context:"blockquote"})}}var sC=o(3789),q_={attributes:{"data-cke":!0}};q_.setAttributes=jt(),q_.insert=Vt().bind(null,"head"),q_.domAPI=Bt(),q_.insertStyleElement=zt(),Ut()(sC.Z,q_),sC.Z&&sC.Z.locals&&sC.Z.locals;class Hoe extends st{static get pluginName(){return"BlockQuoteUI"}init(){const t=this.editor,s=t.t;t.ui.componentFactory.add("blockQuote",a=>{const d=t.commands.get("blockQuote"),p=new qn(a);return p.set({label:s("Block quote"),icon:ri.quote,tooltip:!0,isToggleable:!0}),p.bind("isOn","isEnabled").to(d,"value","isEnabled"),this.listenTo(p,"execute",()=>{t.execute("blockQuote"),t.editing.view.focus()}),p})}}class Goe extends pn{constructor(t){super(t),this._isEnabledBasedOnSelection=!1}refresh(){const t=this.editor.model,s=ki(t.document.selection.getSelectedBlocks());this.value=!!s&&s.is("element","paragraph"),this.isEnabled=!!s&&C9(s,t.schema)}execute(t={}){const s=this.editor.model,a=s.document,d=t.selection||a.selection;s.canEditAt(d)&&s.change(p=>{const w=d.getSelectedBlocks();for(const k of w)!k.is("element","paragraph")&&C9(k,s.schema)&&p.rename(k,"paragraph")})}}function C9(f,t){return t.checkChild(f.parent,"paragraph")&&!t.isObject(f)}class Xoe extends pn{constructor(t){super(t),this._isEnabledBasedOnSelection=!1}execute(t){const s=this.editor.model,a=t.attributes;let d=t.position;s.canEditAt(d)&&s.change(p=>{if(d=this._findPositionToInsertParagraph(d,p),!d)return;const w=p.createElement("paragraph");a&&s.schema.setAllowedAttributes(w,a,p),s.insertContent(w,d),p.setSelection(w,"in")})}_findPositionToInsertParagraph(t,s){const a=this.editor.model;if(a.schema.checkChild(t,"paragraph"))return t;const d=a.schema.findAllowedParent(t,"paragraph");if(!d)return null;const p=t.parent,w=a.schema.checkChild(p,"$text");return p.isEmpty||w&&t.isAtEnd?a.createPositionAfter(p):!p.isEmpty&&w&&t.isAtStart?a.createPositionBefore(p):s.split(t,d).position}}class H_ extends st{static get pluginName(){return"Paragraph"}init(){const t=this.editor,s=t.model;t.commands.add("paragraph",new Goe(t)),t.commands.add("insertParagraph",new Xoe(t)),s.schema.register("paragraph",{inheritAllFrom:"$block"}),t.conversion.elementToElement({model:"paragraph",view:"p"}),t.conversion.for("upcast").elementToElement({model:(a,{writer:d})=>H_.paragraphLikeElements.has(a.name)?a.isEmpty?null:d.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}}H_.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class Yoe extends pn{constructor(t,s){super(t),this.modelElements=s}refresh(){const t=ki(this.editor.model.document.selection.getSelectedBlocks());this.value=!!t&&this.modelElements.includes(t.name)&&t.name,this.isEnabled=!!t&&this.modelElements.some(s=>D9(t,s,this.editor.model.schema))}execute(t){const s=this.editor.model,a=s.document,d=t.value;s.change(p=>{const w=Array.from(a.selection.getSelectedBlocks()).filter(k=>D9(k,d,s.schema));for(const k of w)k.is("element",d)||p.rename(k,d)})}}function D9(f,t,s){return s.checkChild(f.parent,t)&&!s.isObject(f)}const N9="paragraph";class Koe extends st{static get pluginName(){return"HeadingEditing"}constructor(t){super(t),t.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[H_]}init(){const t=this.editor,s=t.config.get("heading.options"),a=[];for(const d of s)d.model!=="paragraph"&&(t.model.schema.register(d.model,{inheritAllFrom:"$block"}),t.conversion.elementToElement(d),a.push(d.model));this._addDefaultH1Conversion(t),t.commands.add("heading",new Yoe(t,a))}afterInit(){const t=this.editor,s=t.commands.get("enter"),a=t.config.get("heading.options");s&&this.listenTo(s,"afterExecute",(d,p)=>{const w=t.model.document.selection.getFirstPosition().parent;a.some(k=>w.is("element",k.model))&&!w.is("element",N9)&&w.childCount===0&&p.writer.rename(w,N9)})}_addDefaultH1Conversion(t){t.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:F.low+1})}}var oC=o(4249),G_={attributes:{"data-cke":!0}};G_.setAttributes=jt(),G_.insert=Vt().bind(null,"head"),G_.domAPI=Bt(),G_.insertStyleElement=zt(),Ut()(oC.Z,G_),oC.Z&&oC.Z.locals&&oC.Z.locals;class Zoe extends st{static get pluginName(){return"HeadingUI"}init(){const t=this.editor,s=t.t,a=function(w){const k=w.t,D={Paragraph:k("Paragraph"),"Heading 1":k("Heading 1"),"Heading 2":k("Heading 2"),"Heading 3":k("Heading 3"),"Heading 4":k("Heading 4"),"Heading 5":k("Heading 5"),"Heading 6":k("Heading 6")};return w.config.get("heading.options").map(R=>{const M=D[R.title];return M&&M!=R.title&&(R.title=M),R})}(t),d=s("Choose heading"),p=s("Heading");t.ui.componentFactory.add("heading",w=>{const k={},D=new Ys,R=t.commands.get("heading"),M=t.commands.get("paragraph"),U=[R];for(const Z of a){const re={type:"button",model:new DT({label:Z.title,class:Z.class,role:"menuitemradio",withText:!0})};Z.model==="paragraph"?(re.model.bind("isOn").to(M,"value"),re.model.set("commandName","paragraph"),U.push(M)):(re.model.bind("isOn").to(R,"value",le=>le===Z.model),re.model.set({commandName:"heading",commandValue:Z.model})),D.add(re),k[Z.model]=Z.title}const W=Xu(w);return vT(W,D,{ariaLabel:p,role:"menu"}),W.buttonView.set({ariaLabel:p,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:p}),W.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),W.bind("isEnabled").toMany(U,"isEnabled",(...Z)=>Z.some(re=>re)),W.buttonView.bind("label").to(R,"value",M,"value",(Z,re)=>{const le=Z||re&&"paragraph";return typeof le=="boolean"?d:k[le]?k[le]:d}),this.listenTo(W,"execute",Z=>{const{commandName:re,commandValue:le}=Z.source;t.execute(re,le?{value:le}:void 0),t.editing.view.focus()}),W})}}class Joe extends pn{refresh(){const t=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!t,this.isEnabled&&t.hasAttribute("alt")?this.value=t.getAttribute("alt"):this.value=!1}execute(t){const s=this.editor,a=s.plugins.get("ImageUtils"),d=s.model,p=a.getClosestSelectedImageElement(d.document.selection);d.change(w=>{w.setAttribute("alt",t.newValue,p)})}}function P9(f){return f.createContainerElement("figure",{class:"image"},[f.createEmptyElement("img"),f.createSlot("children")])}function I9(f,t){const s=f.plugins.get("ImageUtils"),a=f.plugins.has("ImageInlineEditing")&&f.plugins.has("ImageBlockEditing");return p=>s.isInlineImageView(p)?a&&(p.getStyle("display")=="block"||p.findAncestor(s.isBlockImageView)?"imageBlock":"imageInline")!==t?null:d(p):null;function d(p){const w={name:!0};return p.hasAttribute("src")&&(w.attributes=["src"]),w}}function SI(f,t){const s=ki(t.getSelectedBlocks());return!s||f.isObject(s)||s.isEmpty&&s.name!="listItem"?"imageBlock":"imageInline"}function aC(f){return f&&f.endsWith("px")?parseInt(f):null}function lC(f){const t=aC(f.getStyle("width")),s=aC(f.getStyle("height"));return!(!t||!s)}const Qoe=/^(image|image-inline)$/;class Ga extends st{constructor(){super(...arguments),this._domEmitter=new(Ar())}static get pluginName(){return"ImageUtils"}isImage(t){return this.isInlineImage(t)||this.isBlockImage(t)}isInlineImageView(t){return!!t&&t.is("element","img")}isBlockImageView(t){return!!t&&t.is("element","figure")&&t.hasClass("image")}insertImage(t={},s=null,a=null,d={}){const p=this.editor,w=p.model,k=w.document.selection;a=j9(p,s||k,a),t={...Object.fromEntries(k.getAttributes()),...t};for(const D in t)w.schema.checkAttribute(a,D)||delete t[D];return w.change(D=>{const{setImageSizes:R=!0}=d,M=D.createElement(a,t);return w.insertObject(M,s,null,{setSelection:"on",findOptimalPosition:s||a=="imageInline"?void 0:"auto"}),M.parent?(R&&this.setImageNaturalSizeAttributes(M),M):null})}setImageNaturalSizeAttributes(t){const s=t.getAttribute("src");s&&(t.getAttribute("width")||t.getAttribute("height")||this.editor.model.change(a=>{const d=new he.window.Image;this._domEmitter.listenTo(d,"load",()=>{t.getAttribute("width")||t.getAttribute("height")||this.editor.model.enqueueChange(a.batch,p=>{p.setAttribute("width",d.naturalWidth,t),p.setAttribute("height",d.naturalHeight,t)}),this._domEmitter.stopListening(d,"load")}),d.src=s}))}getClosestSelectedImageWidget(t){const s=t.getFirstPosition();if(!s)return null;const a=t.getSelectedElement();if(a&&this.isImageWidget(a))return a;let d=s.parent;for(;d;){if(d.is("element")&&this.isImageWidget(d))return d;d=d.parent}return null}getClosestSelectedImageElement(t){const s=t.getSelectedElement();return this.isImage(s)?s:t.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(t){return t.findAncestor({classes:Qoe})}isImageAllowed(){const t=this.editor.model.document.selection;return function(s,a){if(j9(s,a,null)=="imageBlock"){const p=function(w,k){const D=Q7(w,k),R=D.start.parent;return R.isEmpty&&!R.is("element","$root")?R.parent:R}(a,s.model);if(s.model.schema.checkChild(p,"imageBlock"))return!0}else if(s.model.schema.checkChild(a.focus,"imageInline"))return!0;return!1}(this.editor,t)&&function(s){return[...s.focus.getAncestors()].every(a=>!a.is("element","imageBlock"))}(t)}toImageWidget(t,s,a){return s.setCustomProperty("image",!0,t),pI(t,s,{label:()=>{const d=this.findViewImgElement(t).getAttribute("alt");return d?`${d} ${a}`:a}})}isImageWidget(t){return!!t.getCustomProperty("image")&&Wr(t)}isBlockImage(t){return!!t&&t.is("element","imageBlock")}isInlineImage(t){return!!t&&t.is("element","imageInline")}findViewImgElement(t){if(this.isInlineImageView(t))return t;const s=this.editor.editing.view;for(const{item:a}of s.createRangeIn(t))if(this.isInlineImageView(a))return a}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function j9(f,t,s){const a=f.model.schema,d=f.config.get("image.insert.type");return f.plugins.has("ImageBlockEditing")?f.plugins.has("ImageInlineEditing")?s||(d==="inline"?"imageInline":d==="block"?"imageBlock":t.is("selection")?SI(a,t):a.checkChild(t,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class eae extends st{static get requires(){return[Ga]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new Joe(this.editor))}}var cC=o(5269),X_={attributes:{"data-cke":!0}};X_.setAttributes=jt(),X_.insert=Vt().bind(null,"head"),X_.domAPI=Bt(),X_.insertStyleElement=zt(),Ut()(cC.Z,X_),cC.Z&&cC.Z.locals&&cC.Z.locals;var uC=o(6603),Y_={attributes:{"data-cke":!0}};Y_.setAttributes=jt(),Y_.insert=Vt().bind(null,"head"),Y_.domAPI=Bt(),Y_.insertStyleElement=zt(),Ut()(uC.Z,Y_),uC.Z&&uC.Z.locals&&uC.Z.locals;class tae extends dn{constructor(t){super(t);const s=this.locale.t;this.focusTracker=new lr,this.keystrokes=new Fa,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(s("Save"),ri.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(s("Cancel"),ri.cancel,"ck-button-cancel","cancel"),this._focusables=new na,this._focusCycler=new Nc({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),h({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(t,s,a,d){const p=new qn(this.locale);return p.set({label:t,icon:s,tooltip:!0}),p.extendTemplate({attributes:{class:a}}),d&&p.delegate("execute").to(this,d),p}_createLabeledInputView(){const t=this.locale.t,s=new Pu(this.locale,wT);return s.label=t("Text alternative"),s}}function R9(f){const t=f.editing.view,s=Js.defaultPositions,a=f.plugins.get("ImageUtils");return{target:t.domConverter.mapViewToDom(a.getClosestSelectedImageWidget(t.document.selection)),positions:[s.northArrowSouth,s.northArrowSouthWest,s.northArrowSouthEast,s.southArrowNorth,s.southArrowNorthWest,s.southArrowNorthEast,s.viewportStickyNorth]}}class nae extends st{static get requires(){return[jT]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const t=this.editor,s=t.t;t.ui.componentFactory.add("imageTextAlternative",a=>{const d=t.commands.get("imageTextAlternative"),p=new qn(a);return p.set({label:s("Change image text alternative"),icon:ri.lowVision,tooltip:!0}),p.bind("isEnabled").to(d,"isEnabled"),p.bind("isOn").to(d,"value",w=>!!w),this.listenTo(p,"execute",()=>{this._showForm()}),p})}_createForm(){const t=this.editor,s=t.editing.view.document,a=t.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(u(tae))(t.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{t.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(d,p)=>{this._hideForm(!0),p()}),this.listenTo(t.ui,"update",()=>{a.getClosestSelectedImageWidget(s.selection)?this._isVisible&&function(d){const p=d.plugins.get("ContextualBalloon");if(d.plugins.get("ImageUtils").getClosestSelectedImageWidget(d.editing.view.document.selection)){const w=R9(d);p.updatePosition(w)}}(t):this._hideForm(!0)}),c({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const t=this.editor,s=t.commands.get("imageTextAlternative"),a=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:R9(t)}),a.fieldView.value=a.fieldView.element.value=s.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(t=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),t&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class M9 extends st{static get requires(){return[eae,nae]}static get pluginName(){return"ImageTextAlternative"}}function O9(f,t){const s=(a,d,p)=>{if(!p.consumable.consume(d.item,a.name))return;const w=p.writer,k=p.mapper.toViewElement(d.item),D=f.findViewImgElement(k);d.attributeNewValue===null?(w.removeAttribute("srcset",D),w.removeAttribute("sizes",D)):d.attributeNewValue&&(w.setAttribute("srcset",d.attributeNewValue,D),w.setAttribute("sizes","100vw",D))};return a=>{a.on(`attribute:srcset:${t}`,s)}}function dC(f,t,s){const a=(d,p,w)=>{if(!w.consumable.consume(p.item,d.name))return;const k=w.writer,D=w.mapper.toViewElement(p.item),R=f.findViewImgElement(D);k.setAttribute(p.attributeKey,p.attributeNewValue||"",R)};return d=>{d.on(`attribute:${s}:${t}`,a)}}class F9 extends zl{observe(t){this.listenTo(t,"load",(s,a)=>{const d=a.target;this.checkShouldIgnoreEventFromTarget(d)||d.tagName=="IMG"&&this._fireEvents(a)},{useCapture:!0})}stopObserving(t){this.stopListening(t)}_fireEvents(t){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",t))}}class iae extends pn{constructor(t){super(t);const s=t.config.get("image.insert.type");t.plugins.has("ImageBlockEditing")||s==="block"&&Y("image-block-plugin-required"),t.plugins.has("ImageInlineEditing")||s==="inline"&&Y("image-inline-plugin-required")}refresh(){const t=this.editor.plugins.get("ImageUtils");this.isEnabled=t.isImageAllowed()}execute(t){const s=$n(t.source),a=this.editor.model.document.selection,d=this.editor.plugins.get("ImageUtils"),p=Object.fromEntries(a.getAttributes());s.forEach((w,k)=>{const D=a.getSelectedElement();if(typeof w=="string"&&(w={src:w}),k&&D&&d.isImage(D)){const R=this.editor.model.createPositionAfter(D);d.insertImage({...w,...p},R)}else d.insertImage({...w,...p})})}}class rae extends pn{refresh(){const t=this.editor.plugins.get("ImageUtils"),s=this.editor.model.document.selection.getSelectedElement();this.isEnabled=t.isImage(s),this.value=this.isEnabled?s.getAttribute("src"):null}execute(t){const s=this.editor.model.document.selection.getSelectedElement();this.editor.model.change(a=>{a.setAttribute("src",t.source,s),a.removeAttribute("srcset",s),a.removeAttribute("sizes",s)})}}class L9 extends st{static get requires(){return[Ga]}static get pluginName(){return"ImageEditing"}init(){const t=this.editor,s=t.conversion;t.editing.view.addObserver(F9),s.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const a=new iae(t),d=new rae(t);t.commands.add("insertImage",a),t.commands.add("replaceImageSource",d),t.commands.add("imageInsert",a)}}class U9 extends st{static get requires(){return[Ga]}static get pluginName(){return"ImageSizeAttributes"}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(t){const s=this.editor,a=s.plugins.get("ImageUtils"),d=t==="imageBlock"?"figure":"img";function p(w,k,D,R){w.on(`attribute:${k}:${t}`,(M,U,W)=>{if(!W.consumable.consume(U.item,M.name))return;const Z=W.writer,re=W.mapper.toViewElement(U.item),le=a.findViewImgElement(re);if(U.attributeNewValue!==null?Z.setAttribute(D,U.attributeNewValue,le):Z.removeAttribute(D,le),U.item.hasAttribute("sources"))return;const xe=U.item.hasAttribute("resizedWidth");if(t==="imageInline"&&!xe&&!R)return;const Pe=U.item.getAttribute("width"),Ge=U.item.getAttribute("height"),tt=le.getStyle("aspect-ratio");Pe&&Ge&&!tt&&Z.setStyle("aspect-ratio",`${Pe}/${Ge}`,le)})}s.conversion.for("upcast").attributeToAttribute({view:{name:d,styles:{width:/.+/}},model:{key:"width",value:w=>lC(w)?aC(w.getStyle("width")):null}}).attributeToAttribute({view:{name:d,key:"width"},model:"width"}).attributeToAttribute({view:{name:d,styles:{height:/.+/}},model:{key:"height",value:w=>lC(w)?aC(w.getStyle("height")):null}}).attributeToAttribute({view:{name:d,key:"height"},model:"height"}),s.conversion.for("editingDowncast").add(w=>{p(w,"width","width",!0),p(w,"height","height",!0)}),s.conversion.for("dataDowncast").add(w=>{p(w,"width","width",!1),p(w,"height","height",!1)})}}class B9 extends pn{constructor(t,s){super(t),this._modelElementName=s}refresh(){const t=this.editor.plugins.get("ImageUtils"),s=t.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=t.isInlineImage(s):this.isEnabled=t.isBlockImage(s)}execute(t={}){const s=this.editor,a=this.editor.model,d=s.plugins.get("ImageUtils"),p=d.getClosestSelectedImageElement(a.document.selection),w=Object.fromEntries(p.getAttributes());return w.src||w.uploadId?a.change(k=>{const{setImageSizes:D=!0}=t,R=Array.from(a.markers).filter(W=>W.getRange().containsItem(p)),M=d.insertImage(w,a.createSelection(p,"on"),this._modelElementName,{setImageSizes:D});if(!M)return null;const U=k.createRangeOn(M);for(const W of R){const Z=W.getRange(),re=Z.root.rootName!="$graveyard"?Z.getJoined(U,!0):U;k.updateMarker(W,{range:re})}return{oldElement:p,newElement:M}}):null}}class z9 extends st{static get requires(){return[L9,U9,Ga,mh]}static get pluginName(){return"ImageBlockEditing"}init(){const t=this.editor;t.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),t.plugins.has("ImageInlineEditing")&&(t.commands.add("imageTypeBlock",new B9(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const t=this.editor,s=t.t,a=t.conversion,d=t.plugins.get("ImageUtils");a.for("dataDowncast").elementToStructure({model:"imageBlock",view:(p,{writer:w})=>P9(w)}),a.for("editingDowncast").elementToStructure({model:"imageBlock",view:(p,{writer:w})=>d.toImageWidget(P9(w),w,s("image widget"))}),a.for("downcast").add(dC(d,"imageBlock","src")).add(dC(d,"imageBlock","alt")).add(O9(d,"imageBlock")),a.for("upcast").elementToElement({view:I9(t,"imageBlock"),model:(p,{writer:w})=>w.createElement("imageBlock",p.hasAttribute("src")?{src:p.getAttribute("src")}:void 0)}).add(function(p){const w=(k,D,R)=>{if(!R.consumable.test(D.viewItem,{name:!0,classes:"image"}))return;const M=p.findViewImgElement(D.viewItem);if(!M||!R.consumable.test(M,{name:!0}))return;R.consumable.consume(D.viewItem,{name:!0,classes:"image"});const U=ki(R.convertItem(M,D.modelCursor).modelRange.getItems());U?(R.convertChildren(D.viewItem,U),R.updateConversionResult(U,D)):R.consumable.revert(D.viewItem,{name:!0,classes:"image"})};return k=>{k.on("element:figure",w)}}(d))}_setupClipboardIntegration(){const t=this.editor,s=t.model,a=t.editing.view,d=t.plugins.get("ImageUtils"),p=t.plugins.get("ClipboardPipeline");this.listenTo(p,"inputTransformation",(w,k)=>{const D=Array.from(k.content.getChildren());let R;if(!D.every(d.isInlineImageView))return;R=k.targetRanges?t.editing.mapper.toModelRange(k.targetRanges[0]):s.document.selection.getFirstRange();const M=s.createSelection(R);if(SI(s.schema,M)==="imageBlock"){const U=new KP(a.document),W=D.map(Z=>U.createElement("figure",{class:"image"},Z));k.content=U.createDocumentFragment(W)}}),this.listenTo(p,"contentInsertion",(w,k)=>{k.method==="paste"&&s.change(D=>{const R=D.createRangeIn(k.content);for(const M of R.getItems())M.is("element","imageBlock")&&d.setImageNaturalSizeAttributes(M)})})}}var hC=o(2430),K_={attributes:{"data-cke":!0}};K_.setAttributes=jt(),K_.insert=Vt().bind(null,"head"),K_.domAPI=Bt(),K_.insertStyleElement=zt(),Ut()(hC.Z,K_),hC.Z&&hC.Z.locals&&hC.Z.locals;class sae extends st{static get requires(){return[z9,B_,M9]}static get pluginName(){return"ImageBlock"}}class oae extends st{static get requires(){return[L9,U9,Ga,mh]}static get pluginName(){return"ImageInlineEditing"}init(){const t=this.editor,s=t.model.schema;s.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),s.addChildCheck((a,d)=>{if(a.endsWith("caption")&&d.name==="imageInline")return!1}),this._setupConversion(),t.plugins.has("ImageBlockEditing")&&(t.commands.add("imageTypeInline",new B9(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const t=this.editor,s=t.t,a=t.conversion,d=t.plugins.get("ImageUtils");a.for("dataDowncast").elementToElement({model:"imageInline",view:(p,{writer:w})=>w.createEmptyElement("img")}),a.for("editingDowncast").elementToStructure({model:"imageInline",view:(p,{writer:w})=>d.toImageWidget(function(k){return k.createContainerElement("span",{class:"image-inline"},k.createEmptyElement("img"))}(w),w,s("image widget"))}),a.for("downcast").add(dC(d,"imageInline","src")).add(dC(d,"imageInline","alt")).add(O9(d,"imageInline")),a.for("upcast").elementToElement({view:I9(t,"imageInline"),model:(p,{writer:w})=>w.createElement("imageInline",p.hasAttribute("src")?{src:p.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const t=this.editor,s=t.model,a=t.editing.view,d=t.plugins.get("ImageUtils"),p=t.plugins.get("ClipboardPipeline");this.listenTo(p,"inputTransformation",(w,k)=>{const D=Array.from(k.content.getChildren());let R;if(!D.every(d.isBlockImageView))return;R=k.targetRanges?t.editing.mapper.toModelRange(k.targetRanges[0]):s.document.selection.getFirstRange();const M=s.createSelection(R);if(SI(s.schema,M)==="imageInline"){const U=new KP(a.document),W=D.map(Z=>Z.childCount===1?(Array.from(Z.getAttributes()).forEach(re=>U.setAttribute(...re,d.findViewImgElement(Z))),Z.getChild(0)):Z);k.content=U.createDocumentFragment(W)}}),this.listenTo(p,"contentInsertion",(w,k)=>{k.method==="paste"&&s.change(D=>{const R=D.createRangeIn(k.content);for(const M of R.getItems())M.is("element","imageInline")&&d.setImageNaturalSizeAttributes(M)})})}}class aae extends st{static get requires(){return[oae,B_,M9]}static get pluginName(){return"ImageInline"}}class lae extends pn{refresh(){const t=this.editor,s=t.plugins.get("ImageCaptionUtils"),a=t.plugins.get("ImageUtils");if(!t.plugins.has(z9))return this.isEnabled=!1,void(this.value=!1);const d=t.model.document.selection,p=d.getSelectedElement();if(!p){const w=s.getCaptionFromModelSelection(d);return this.isEnabled=!!w,void(this.value=!!w)}this.isEnabled=a.isImage(p),this.isEnabled?this.value=!!s.getCaptionFromImageModelElement(p):this.value=!1}execute(t={}){const{focusCaptionOnShow:s}=t;this.editor.model.change(a=>{this.value?this._hideImageCaption(a):this._showImageCaption(a,s)})}_showImageCaption(t,s){const a=this.editor.model.document.selection,d=this.editor.plugins.get("ImageCaptionEditing"),p=this.editor.plugins.get("ImageUtils");let w=a.getSelectedElement();const k=d._getSavedCaption(w);p.isInlineImage(w)&&(this.editor.execute("imageTypeBlock"),w=a.getSelectedElement());const D=k||t.createElement("caption");t.append(D,w),s&&t.setSelection(D,"in")}_hideImageCaption(t){const s=this.editor,a=s.model.document.selection,d=s.plugins.get("ImageCaptionEditing"),p=s.plugins.get("ImageCaptionUtils");let w,k=a.getSelectedElement();k?w=p.getCaptionFromImageModelElement(k):(w=p.getCaptionFromModelSelection(a),k=w.parent),d._saveCaption(k,w),t.setSelection(k,"on"),t.remove(w)}}class V9 extends st{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[Ga]}getCaptionFromImageModelElement(t){for(const s of t.getChildren())if(s&&s.is("element","caption"))return s;return null}getCaptionFromModelSelection(t){const s=this.editor.plugins.get("ImageUtils"),a=t.getFirstPosition().findAncestor("caption");return a&&s.isBlockImage(a.parent)?a:null}matchImageCaptionViewElement(t){const s=this.editor.plugins.get("ImageUtils");return t.name=="figcaption"&&s.isBlockImageView(t.parent)?{name:!0}:null}}class cae extends st{static get requires(){return[Ga,V9]}static get pluginName(){return"ImageCaptionEditing"}constructor(t){super(t),this._savedCaptionsMap=new WeakMap}init(){const t=this.editor,s=t.model.schema;s.isRegistered("caption")?s.extend("caption",{allowIn:"imageBlock"}):s.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),t.commands.add("toggleImageCaption",new lae(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const t=this.editor,s=t.editing.view,a=t.plugins.get("ImageUtils"),d=t.plugins.get("ImageCaptionUtils"),p=t.t;t.conversion.for("upcast").elementToElement({view:w=>d.matchImageCaptionViewElement(w),model:"caption"}),t.conversion.for("dataDowncast").elementToElement({model:"caption",view:(w,{writer:k})=>a.isBlockImage(w.parent)?k.createContainerElement("figcaption"):null}),t.conversion.for("editingDowncast").elementToElement({model:"caption",view:(w,{writer:k})=>{if(!a.isBlockImage(w.parent))return null;const D=k.createEditableElement("figcaption");k.setCustomProperty("imageCaption",!0,D),D.placeholder=p("Enter image caption"),Ru({view:s,element:D,keepOnFocus:!0});const R=w.parent.getAttribute("alt");return J7(D,k,{label:R?p("Caption for image: %0",[R]):p("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const t=this.editor,s=t.plugins.get("ImageUtils"),a=t.plugins.get("ImageCaptionUtils"),d=t.commands.get("imageTypeInline"),p=t.commands.get("imageTypeBlock"),w=k=>{if(!k.return)return;const{oldElement:D,newElement:R}=k.return;if(!D)return;if(s.isBlockImage(D)){const U=a.getCaptionFromImageModelElement(D);if(U)return void this._saveCaption(R,U)}const M=this._getSavedCaption(D);M&&this._saveCaption(R,M)};d&&this.listenTo(d,"execute",w,{priority:"low"}),p&&this.listenTo(p,"execute",w,{priority:"low"})}_getSavedCaption(t){const s=this._savedCaptionsMap.get(t);return s?en.fromJSON(s):null}_saveCaption(t,s){this._savedCaptionsMap.set(t,s.toJSON())}_registerCaptionReconversion(){const t=this.editor,s=t.model,a=t.plugins.get("ImageUtils"),d=t.plugins.get("ImageCaptionUtils");s.document.on("change:data",()=>{const p=s.document.differ.getChanges();for(const w of p){if(w.attributeKey!=="alt")continue;const k=w.range.start.nodeAfter;if(a.isBlockImage(k)){const D=d.getCaptionFromImageModelElement(k);if(!D)return;t.editing.reconvertItem(D)}}})}}class uae extends st{static get requires(){return[V9]}static get pluginName(){return"ImageCaptionUI"}init(){const t=this.editor,s=t.editing.view,a=t.plugins.get("ImageCaptionUtils"),d=t.t;t.ui.componentFactory.add("toggleImageCaption",p=>{const w=t.commands.get("toggleImageCaption"),k=new qn(p);return k.set({icon:ri.caption,tooltip:!0,isToggleable:!0}),k.bind("isOn","isEnabled").to(w,"value","isEnabled"),k.bind("label").to(w,"value",D=>d(D?"Toggle caption off":"Toggle caption on")),this.listenTo(k,"execute",()=>{t.execute("toggleImageCaption",{focusCaptionOnShow:!0});const D=a.getCaptionFromModelSelection(t.model.document.selection);if(D){const R=t.editing.mapper.toViewElement(D);s.scrollToTheSelection(),s.change(M=>{M.addClass("image__caption_highlighted",R)})}t.editing.view.focus()}),k})}}var fC=o(2423),Z_={attributes:{"data-cke":!0}};Z_.setAttributes=jt(),Z_.insert=Vt().bind(null,"head"),Z_.domAPI=Bt(),Z_.insertStyleElement=zt(),Ut()(fC.Z,Z_),fC.Z&&fC.Z.locals&&fC.Z.locals;class dae extends pn{constructor(t,s){super(t),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(s.map(a=>{if(a.isDefault)for(const d of a.modelElements)this._defaultStyles[d]=a.name;return[a.name,a]}))}refresh(){const t=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!t,this.isEnabled?t.hasAttribute("imageStyle")?this.value=t.getAttribute("imageStyle"):this.value=this._defaultStyles[t.name]:this.value=!1}execute(t={}){const s=this.editor,a=s.model,d=s.plugins.get("ImageUtils");a.change(p=>{const w=t.value,{setImageSizes:k=!0}=t;let D=d.getClosestSelectedImageElement(a.document.selection);w&&this.shouldConvertImageType(w,D)&&(this.editor.execute(d.isBlockImage(D)?"imageTypeInline":"imageTypeBlock",{setImageSizes:k}),D=d.getClosestSelectedImageElement(a.document.selection)),!w||this._styles.get(w).isDefault?p.removeAttribute("imageStyle",D):p.setAttribute("imageStyle",w,D),k&&d.setImageNaturalSizeAttributes(D)})}shouldConvertImageType(t,s){return!this._styles.get(t).modelElements.includes(s.name)}}const{objectFullWidth:hae,objectInline:W9,objectLeft:$9,objectRight:AI,objectCenter:TI,objectBlockLeft:q9,objectBlockRight:H9}=ri,pC={get inline(){return{name:"inline",title:"In line",icon:W9,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:$9,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:q9,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:TI,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:AI,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:H9,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:TI,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:AI,modelElements:["imageBlock"],className:"image-style-side"}}},G9={full:hae,left:q9,right:H9,center:TI,inlineLeft:$9,inlineRight:AI,inline:W9},X9=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function Y9(f){Y("image-style-configuration-definition-invalid",f)}const CI={normalizeStyles:function(f){return(f.configuredStyles.options||[]).map(t=>function(s){return s=typeof s=="string"?pC[s]?{...pC[s]}:{name:s}:function(a,d){const p={...d};for(const w in a)Object.prototype.hasOwnProperty.call(d,w)||(p[w]=a[w]);return p}(pC[s.name],s),typeof s.icon=="string"&&(s.icon=G9[s.icon]||s.icon),s}(t)).filter(t=>function(s,{isBlockPluginLoaded:a,isInlinePluginLoaded:d}){const{modelElements:p,name:w}=s;if(!(p&&p.length&&w))return Y9({style:s}),!1;{const k=[a?"imageBlock":null,d?"imageInline":null];if(!p.some(D=>k.includes(D)))return Y("image-style-missing-dependency",{style:s,missingPlugins:p.map(D=>D==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(t,f))},getDefaultStylesConfiguration:function(f,t){return f&&t?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:f?{options:["block","side"]}:t?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(f){return f.has("ImageBlockEditing")&&f.has("ImageInlineEditing")?[...X9]:[]},warnInvalidStyle:Y9,DEFAULT_OPTIONS:pC,DEFAULT_ICONS:G9,DEFAULT_DROPDOWN_DEFINITIONS:X9};function K9(f,t){for(const s of t)if(s.name===f)return s}class Z9 extends st{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[Ga]}init(){const{normalizeStyles:t,getDefaultStylesConfiguration:s}=CI,a=this.editor,d=a.plugins.has("ImageBlockEditing"),p=a.plugins.has("ImageInlineEditing");a.config.define("image.styles",s(d,p)),this.normalizedStyles=t({configuredStyles:a.config.get("image.styles"),isBlockPluginLoaded:d,isInlinePluginLoaded:p}),this._setupConversion(d,p),this._setupPostFixer(),a.commands.add("imageStyle",new dae(a,this.normalizedStyles))}_setupConversion(t,s){const a=this.editor,d=a.model.schema,p=(w=this.normalizedStyles,(D,R,M)=>{if(!M.consumable.consume(R.item,D.name))return;const U=K9(R.attributeNewValue,w),W=K9(R.attributeOldValue,w),Z=M.mapper.toViewElement(R.item),re=M.writer;W&&re.removeClass(W.className,Z),U&&re.addClass(U.className,Z)});var w;const k=function(D){const R={imageInline:D.filter(M=>!M.isDefault&&M.modelElements.includes("imageInline")),imageBlock:D.filter(M=>!M.isDefault&&M.modelElements.includes("imageBlock"))};return(M,U,W)=>{if(!U.modelRange)return;const Z=U.viewItem,re=ki(U.modelRange.getItems());if(re&&W.schema.checkAttribute(re,"imageStyle"))for(const le of R[re.name])W.consumable.consume(Z,{classes:le.className})&&W.writer.setAttribute("imageStyle",le.name,re)}}(this.normalizedStyles);a.editing.downcastDispatcher.on("attribute:imageStyle",p),a.data.downcastDispatcher.on("attribute:imageStyle",p),t&&(d.extend("imageBlock",{allowAttributes:"imageStyle"}),a.data.upcastDispatcher.on("element:figure",k,{priority:"low"})),s&&(d.extend("imageInline",{allowAttributes:"imageStyle"}),a.data.upcastDispatcher.on("element:img",k,{priority:"low"}))}_setupPostFixer(){const t=this.editor,s=t.model.document,a=t.plugins.get(Ga),d=new Map(this.normalizedStyles.map(p=>[p.name,p]));s.registerPostFixer(p=>{let w=!1;for(const k of s.differ.getChanges())if(k.type=="insert"||k.type=="attribute"&&k.attributeKey=="imageStyle"){let D=k.type=="insert"?k.position.nodeAfter:k.range.start.nodeAfter;if(D&&D.is("element","paragraph")&&D.childCount>0&&(D=D.getChild(0)),!a.isImage(D))continue;const R=D.getAttribute("imageStyle");if(!R)continue;const M=d.get(R);M&&M.modelElements.includes(D.name)||(p.removeAttribute("imageStyle",D),w=!0)}return w})}}var mC=o(3534),J_={attributes:{"data-cke":!0}};J_.setAttributes=jt(),J_.insert=Vt().bind(null,"head"),J_.domAPI=Bt(),J_.insertStyleElement=zt(),Ut()(mC.Z,J_),mC.Z&&mC.Z.locals&&mC.Z.locals;class fae extends st{static get requires(){return[Z9]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const t=this.editor.t;return{"Wrap text":t("Wrap text"),"Break text":t("Break text"),"In line":t("In line"),"Full size image":t("Full size image"),"Side image":t("Side image"),"Left aligned image":t("Left aligned image"),"Centered image":t("Centered image"),"Right aligned image":t("Right aligned image")}}init(){const t=this.editor.plugins,s=this.editor.config.get("image.toolbar")||[],a=J9(t.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const p of a)this._createButton(p);const d=J9([...s.filter(Oe),...CI.getDefaultDropdownDefinitions(t)],this.localizedDefaultStylesTitles);for(const p of d)this._createDropdown(p,a)}_createDropdown(t,s){const a=this.editor.ui.componentFactory;a.add(t.name,d=>{let p;const{defaultItem:w,items:k,title:D}=t,R=k.filter(Z=>s.find(({name:re})=>Q9(re)===Z)).map(Z=>{const re=a.create(Z);return Z===w&&(p=re),re});k.length!==R.length&&CI.warnInvalidStyle({dropdown:t});const M=Xu(d,gT),U=M.buttonView,W=U.arrowView;return QP(M,R,{enableActiveItemFocusOnDropdownOpen:!0}),U.set({label:eB(D,p.label),class:null,tooltip:!0}),W.unbind("label"),W.set({label:D}),U.bind("icon").toMany(R,"isOn",(...Z)=>{const re=Z.findIndex(Fu);return re<0?p.icon:R[re].icon}),U.bind("label").toMany(R,"isOn",(...Z)=>{const re=Z.findIndex(Fu);return eB(D,re<0?p.label:R[re].label)}),U.bind("isOn").toMany(R,"isOn",(...Z)=>Z.some(Fu)),U.bind("class").toMany(R,"isOn",(...Z)=>Z.some(Fu)?"ck-splitbutton_flatten":void 0),U.on("execute",()=>{R.some(({isOn:Z})=>Z)?M.isOpen=!M.isOpen:p.fire("execute")}),M.bind("isEnabled").toMany(R,"isEnabled",(...Z)=>Z.some(Fu)),this.listenTo(M,"execute",()=>{this.editor.editing.view.focus()}),M})}_createButton(t){const s=t.name;this.editor.ui.componentFactory.add(Q9(s),a=>{const d=this.editor.commands.get("imageStyle"),p=new qn(a);return p.set({label:t.title,icon:t.icon,tooltip:!0,isToggleable:!0}),p.bind("isEnabled").to(d,"isEnabled"),p.bind("isOn").to(d,"value",w=>w===s),p.on("execute",this._executeCommand.bind(this,s)),p})}_executeCommand(t){this.editor.execute("imageStyle",{value:t}),this.editor.editing.view.focus()}}function J9(f,t){for(const s of f)t[s.title]&&(s.title=t[s.title]);return f}function Q9(f){return`imageStyle:${f}`}function eB(f,t){return(f?f+": ":"")+t}class pae extends ze(){constructor(){super();const t=new window.FileReader;this._reader=t,this._data=void 0,this.set("loaded",0),t.onprogress=s=>{this.loaded=s.loaded}}get error(){return this._reader.error}get data(){return this._data}read(t){const s=this._reader;return this.total=t.size,new Promise((a,d)=>{s.onload=()=>{const p=s.result;this._data=p,a(p)},s.onerror=()=>{d("error")},s.onabort=()=>{d("aborted")},this._reader.readAsDataURL(t)})}abort(){this._reader.abort()}}class Kg extends st{constructor(){super(...arguments),this.loaders=new Ys,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[QU]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(t,s)=>s?t/s*100:0)}getLoader(t){return this._loadersMap.get(t)||null}createLoader(t){if(!this.createUploadAdapter)return Y("filerepository-no-upload-adapter"),null;const s=new tB(Promise.resolve(t),this.createUploadAdapter);return this.loaders.add(s),this._loadersMap.set(t,s),t instanceof Promise&&s.file.then(a=>{this._loadersMap.set(a,s)}).catch(()=>{}),s.on("change:uploaded",()=>{let a=0;for(const d of this.loaders)a+=d.uploaded;this.uploaded=a}),s.on("change:uploadTotal",()=>{let a=0;for(const d of this.loaders)d.uploadTotal&&(a+=d.uploadTotal);this.uploadTotal=a}),s}destroyLoader(t){const s=t instanceof tB?t:this.getLoader(t);s._destroy(),this.loaders.remove(s),this._loadersMap.forEach((a,d)=>{a===s&&this._loadersMap.delete(d)})}_updatePendingAction(){const t=this.editor.plugins.get(QU);if(this.loaders.length){if(!this._pendingAction){const s=this.editor.t,a=d=>`${s("Upload in progress")} ${parseInt(d)}%.`;this._pendingAction=t.add(a(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",a)}}else t.remove(this._pendingAction),this._pendingAction=null}}class tB extends ze(){constructor(t,s){super(),this.id=O(),this._filePromiseWrapper=this._createFilePromiseWrapper(t),this._adapter=s(this),this._reader=new pae,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(a,d)=>d?a/d*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(t=>this._filePromiseWrapper?t:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new B("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(t=>this._reader.read(t)).then(t=>{if(this.status!=="reading")throw this.status;return this.status="idle",t}).catch(t=>{throw t==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:t)})}upload(){if(this.status!="idle")throw new B("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(t=>(this.uploadResponse=t,this.status="idle",t)).catch(t=>{throw this.status==="aborted"?"aborted":(this.status="error",t)})}abort(){const t=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?t=="reading"?this._reader.abort():t=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(t){const s={};return s.promise=new Promise((a,d)=>{s.rejecter=d,s.isFulfilled=!1,t.then(p=>{s.isFulfilled=!0,a(p)}).catch(p=>{s.isFulfilled=!0,d(p)})}),s}}class mae extends dn{constructor(t){super(t),this.buttonView=new qn(t),this._fileInputView=new gae(t),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class gae extends dn{constructor(t){super(t),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const s=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:s.to("acceptedType"),multiple:s.to("allowMultipleFiles")},on:{change:s.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}class bae{constructor(t){this.loader=t}upload(){return new Promise((t,s)=>{const a=this.reader=new window.FileReader;a.addEventListener("load",()=>{t({default:a.result})}),a.addEventListener("error",d=>{s(d)}),a.addEventListener("abort",()=>{s()}),this.loader.file.then(d=>{a.readAsDataURL(d)})})}abort(){this.reader.abort()}}function nB(f){const t=f.map(s=>s.replace("+","\\+"));return new RegExp(`^image\\/(${t.join("|")})$`)}function yae(f){return new Promise((t,s)=>{const a=f.getAttribute("src");fetch(a).then(d=>d.blob()).then(d=>{const p=iB(d,a),w=p.replace("image/",""),k=new File([d],`image.${w}`,{type:p});t(k)}).catch(d=>d&&d.name==="TypeError"?function(p){return function(w){return new Promise((k,D)=>{const R=he.document.createElement("img");R.addEventListener("load",()=>{const M=he.document.createElement("canvas");M.width=R.width,M.height=R.height,M.getContext("2d").drawImage(R,0,0),M.toBlob(U=>U?k(U):D())}),R.addEventListener("error",()=>D()),R.src=w})}(p).then(w=>{const k=iB(w,p),D=k.replace("image/","");return new File([w],`image.${D}`,{type:k})})}(a).then(t).catch(s):s(d))})}function iB(f,t){return f.type?f.type:t.match(/data:(image\/\w+);base64/)?t.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class vae extends st{static get pluginName(){return"ImageUploadUI"}init(){const t=this.editor,s=t.t,a=d=>{const p=new mae(d),w=t.commands.get("uploadImage"),k=t.config.get("image.upload.types"),D=nB(k);return p.set({acceptedType:k.map(R=>`image/${R}`).join(","),allowMultipleFiles:!0}),p.buttonView.set({label:s("Insert image"),icon:ri.image,tooltip:!0}),p.buttonView.bind("isEnabled").to(w),p.on("done",(R,M)=>{const U=Array.from(M).filter(W=>D.test(W.type));U.length&&(t.execute("uploadImage",{file:U}),t.editing.view.focus())}),p};t.ui.componentFactory.add("uploadImage",a),t.ui.componentFactory.add("imageUpload",a)}}var gC=o(2926),Q_={attributes:{"data-cke":!0}};Q_.setAttributes=jt(),Q_.insert=Vt().bind(null,"head"),Q_.domAPI=Bt(),Q_.insertStyleElement=zt(),Ut()(gC.Z,Q_),gC.Z&&gC.Z.locals&&gC.Z.locals;var bC=o(1547),ek={attributes:{"data-cke":!0}};ek.setAttributes=jt(),ek.insert=Vt().bind(null,"head"),ek.domAPI=Bt(),ek.insertStyleElement=zt(),Ut()(bC.Z,ek),bC.Z&&bC.Z.locals&&bC.Z.locals;var yC=o(6618),tk={attributes:{"data-cke":!0}};tk.setAttributes=jt(),tk.insert=Vt().bind(null,"head"),tk.domAPI=Bt(),tk.insertStyleElement=zt(),Ut()(yC.Z,tk),yC.Z&&yC.Z.locals&&yC.Z.locals;class wae extends st{static get pluginName(){return"ImageUploadProgress"}constructor(t){super(t),this.uploadStatusChange=(s,a,d)=>{const p=this.editor,w=a.item,k=w.getAttribute("uploadId");if(!d.consumable.consume(a.item,s.name))return;const D=p.plugins.get("ImageUtils"),R=p.plugins.get(Kg),M=k?a.attributeNewValue:null,U=this.placeholder,W=p.editing.mapper.toViewElement(w),Z=d.writer;if(M=="reading")return rB(W,Z),void sB(D,U,W,Z);if(M=="uploading"){const re=R.loaders.get(k);return rB(W,Z),void(re?(oB(W,Z),function(le,xe,Pe,Ge){const tt=function(Nt){const ln=Nt.createUIElement("div",{class:"ck-progress-bar"});return Nt.setCustomProperty("progressBar",!0,ln),ln}(xe);xe.insert(xe.createPositionAt(le,"end"),tt),Pe.on("change:uploadedPercent",(Nt,ln,Gn)=>{Ge.change(Xn=>{Xn.setStyle("width",Gn+"%",tt)})})}(W,Z,re,p.editing.view),function(le,xe,Pe,Ge){if(Ge.data){const tt=le.findViewImgElement(xe);Pe.setAttribute("src",Ge.data,tt)}}(D,W,Z,re)):sB(D,U,W,Z))}M=="complete"&&R.loaders.get(k)&&function(re,le,xe){const Pe=le.createUIElement("div",{class:"ck-image-upload-complete-icon"});le.insert(le.createPositionAt(re,"end"),Pe),setTimeout(()=>{xe.change(Ge=>Ge.remove(Ge.createRangeOn(Pe)))},3e3)}(W,Z,p.editing.view),function(re,le){lB(re,le,"progressBar")}(W,Z),oB(W,Z),function(re,le){le.removeClass("ck-appear",re)}(W,Z)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const t=this.editor;t.plugins.has("ImageBlockEditing")&&t.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),t.plugins.has("ImageInlineEditing")&&t.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function rB(f,t){f.hasClass("ck-appear")||t.addClass("ck-appear",f)}function sB(f,t,s,a){s.hasClass("ck-image-upload-placeholder")||a.addClass("ck-image-upload-placeholder",s);const d=f.findViewImgElement(s);d.getAttribute("src")!==t&&a.setAttribute("src",t,d),aB(s,"placeholder")||a.insert(a.createPositionAfter(d),function(p){const w=p.createUIElement("div",{class:"ck-upload-placeholder-loader"});return p.setCustomProperty("placeholder",!0,w),w}(a))}function oB(f,t){f.hasClass("ck-image-upload-placeholder")&&t.removeClass("ck-image-upload-placeholder",f),lB(f,t,"placeholder")}function aB(f,t){for(const s of f.getChildren())if(s.getCustomProperty(t))return s}function lB(f,t,s){const a=aB(f,s);a&&t.remove(t.createRangeOn(a))}class xae extends pn{refresh(){const t=this.editor,s=t.plugins.get("ImageUtils"),a=t.model.document.selection.getSelectedElement();this.isEnabled=s.isImageAllowed()||s.isImage(a)}execute(t){const s=$n(t.file),a=this.editor.model.document.selection,d=this.editor.plugins.get("ImageUtils"),p=Object.fromEntries(a.getAttributes());s.forEach((w,k)=>{const D=a.getSelectedElement();if(k&&D&&d.isImage(D)){const R=this.editor.model.createPositionAfter(D);this._uploadImage(w,p,R)}else this._uploadImage(w,p)})}_uploadImage(t,s,a){const d=this.editor,p=d.plugins.get(Kg).createLoader(t),w=d.plugins.get("ImageUtils");p&&w.insertImage({...s,uploadId:p.id},a)}}class _ae extends st{static get requires(){return[Kg,k7,mh,Ga]}static get pluginName(){return"ImageUploadEditing"}constructor(t){super(t),t.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const t=this.editor,s=t.model.document,a=t.conversion,d=t.plugins.get(Kg),p=t.plugins.get("ImageUtils"),w=t.plugins.get("ClipboardPipeline"),k=nB(t.config.get("image.upload.types")),D=new xae(t);t.commands.add("uploadImage",D),t.commands.add("imageUpload",D),a.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(t.editing.view.document,"clipboardInput",(R,M)=>{if(U=M.dataTransfer,Array.from(U.types).includes("text/html")&&U.getData("text/html")!=="")return;var U;const W=Array.from(M.dataTransfer.files).filter(Z=>!!Z&&k.test(Z.type));W.length&&(R.stop(),t.model.change(Z=>{M.targetRanges&&Z.setSelection(M.targetRanges.map(re=>t.editing.mapper.toModelRange(re))),t.execute("uploadImage",{file:W})}))}),this.listenTo(w,"inputTransformation",(R,M)=>{const U=Array.from(t.editing.view.createRangeIn(M.content)).map(Z=>Z.item).filter(Z=>function(re,le){return!(!re.isInlineImageView(le)||!le.getAttribute("src")||!le.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!le.getAttribute("src").match(/^blob:/g))}(p,Z)&&!Z.getAttribute("uploadProcessed")).map(Z=>({promise:yae(Z),imageElement:Z}));if(!U.length)return;const W=new KP(t.editing.view.document);for(const Z of U){W.setAttribute("uploadProcessed",!0,Z.imageElement);const re=d.createLoader(Z.promise);re&&(W.setAttribute("src","",Z.imageElement),W.setAttribute("uploadId",re.id,Z.imageElement))}}),t.editing.view.document.on("dragover",(R,M)=>{M.preventDefault()}),s.on("change",()=>{const R=s.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),M=new Set;for(const U of R)if(U.type=="insert"&&U.name!="$text"){const W=U.position.nodeAfter,Z=U.position.root.rootName=="$graveyard";for(const re of kae(t,W)){const le=re.getAttribute("uploadId");if(!le)continue;const xe=d.loaders.get(le);xe&&(Z?M.has(le)||xe.abort():(M.add(le),this._uploadImageElements.set(le,re),xe.status=="idle"&&this._readAndUpload(xe)))}}}),this.on("uploadComplete",(R,{imageElement:M,data:U})=>{const W=U.urls?U.urls:U;this.editor.model.change(Z=>{Z.setAttribute("src",W.default,M),this._parseAndSetSrcsetAttributeOnImage(W,M,Z),p.setImageNaturalSizeAttributes(M)})},{priority:"low"})}afterInit(){const t=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&t.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&t.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(t){const s=this.editor,a=s.model,d=s.locale.t,p=s.plugins.get(Kg),w=s.plugins.get(k7),k=s.plugins.get("ImageUtils"),D=this._uploadImageElements;return a.enqueueChange({isUndoable:!1},M=>{M.setAttribute("uploadStatus","reading",D.get(t.id))}),t.read().then(()=>{const M=t.upload(),U=D.get(t.id);if(y.isSafari){const W=s.editing.mapper.toViewElement(U),Z=k.findViewImgElement(W);s.editing.view.once("render",()=>{if(!Z.parent)return;const re=s.editing.view.domConverter.mapViewToDom(Z.parent);if(!re)return;const le=re.style.display;re.style.display="none",re._ckHack=re.offsetHeight,re.style.display=le})}return a.enqueueChange({isUndoable:!1},W=>{W.setAttribute("uploadStatus","uploading",U)}),M}).then(M=>{a.enqueueChange({isUndoable:!1},U=>{const W=D.get(t.id);U.setAttribute("uploadStatus","complete",W),this.fire("uploadComplete",{data:M,imageElement:W})}),R()}).catch(M=>{if(t.status!=="error"&&t.status!=="aborted")throw M;t.status=="error"&&M&&w.showWarning(M,{title:d("Upload failed"),namespace:"upload"}),a.enqueueChange({isUndoable:!1},U=>{U.remove(D.get(t.id))}),R()});function R(){a.enqueueChange({isUndoable:!1},M=>{const U=D.get(t.id);M.removeAttribute("uploadId",U),M.removeAttribute("uploadStatus",U),D.delete(t.id)}),p.destroyLoader(t)}}_parseAndSetSrcsetAttributeOnImage(t,s,a){let d=0;const p=Object.keys(t).filter(w=>{const k=parseInt(w,10);if(!isNaN(k))return d=Math.max(d,k),!0}).map(w=>`${t[w]} ${w}w`).join(", ");if(p!=""){const w={srcset:p};s.hasAttribute("width")||s.hasAttribute("height")||(w.width=d),a.setAttributes(w,s)}}}function kae(f,t){const s=f.plugins.get("ImageUtils");return Array.from(f.model.createRangeOn(t)).filter(a=>s.isImage(a.item)).map(a=>a.item)}class Eae extends pn{refresh(){const t=this.editor,s=t.plugins.get("ImageUtils").getClosestSelectedImageElement(t.model.document.selection);this.isEnabled=!!s,s&&s.hasAttribute("resizedWidth")?this.value={width:s.getAttribute("resizedWidth"),height:null}:this.value=null}execute(t){const s=this.editor,a=s.model,d=s.plugins.get("ImageUtils"),p=d.getClosestSelectedImageElement(a.document.selection);this.value={width:t.width,height:null},p&&a.change(w=>{w.setAttribute("resizedWidth",t.width,p),w.removeAttribute("resizedHeight",p),d.setImageNaturalSizeAttributes(p)})}}class cB extends st{static get requires(){return[Ga]}static get pluginName(){return"ImageResizeEditing"}constructor(t){super(t),t.config.define("image",{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}]})}init(){const t=this.editor,s=new Eae(t);this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline"),t.commands.add("resizeImage",s),t.commands.add("imageResize",s)}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["resizedWidth","resizedHeight"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["resizedWidth","resizedHeight"]})}_registerConverters(t){const s=this.editor,a=s.plugins.get("ImageUtils");s.conversion.for("downcast").add(d=>d.on(`attribute:resizedWidth:${t}`,(p,w,k)=>{if(!k.consumable.consume(w.item,p.name))return;const D=k.writer,R=k.mapper.toViewElement(w.item);w.attributeNewValue!==null?(D.setStyle("width",w.attributeNewValue,R),D.addClass("image_resized",R)):(D.removeStyle("width",R),D.removeClass("image_resized",R))})),s.conversion.for("dataDowncast").attributeToAttribute({model:{name:t,key:"resizedHeight"},view:d=>({key:"style",value:{height:d}})}),s.conversion.for("editingDowncast").add(d=>d.on(`attribute:resizedHeight:${t}`,(p,w,k)=>{if(!k.consumable.consume(w.item,p.name))return;const D=k.writer,R=k.mapper.toViewElement(w.item),M=t==="imageInline"?a.findViewImgElement(R):R;w.attributeNewValue!==null?D.setStyle("height",w.attributeNewValue,M):D.removeStyle("height",M)})),s.conversion.for("upcast").attributeToAttribute({view:{name:t==="imageBlock"?"figure":"img",styles:{width:/.+/}},model:{key:"resizedWidth",value:d=>lC(d)?null:d.getStyle("width")}}),s.conversion.for("upcast").attributeToAttribute({view:{name:t==="imageBlock"?"figure":"img",styles:{height:/.+/}},model:{key:"resizedHeight",value:d=>lC(d)?null:d.getStyle("height")}})}}const DI={small:ri.objectSizeSmall,medium:ri.objectSizeMedium,large:ri.objectSizeLarge,original:ri.objectSizeFull};class Sae extends st{static get requires(){return[cB]}static get pluginName(){return"ImageResizeButtons"}constructor(t){super(t),this._resizeUnit=t.config.get("image.resizeUnit")}init(){const t=this.editor,s=t.config.get("image.resizeOptions"),a=t.commands.get("resizeImage");this.bind("isEnabled").to(a);for(const d of s)this._registerImageResizeButton(d);this._registerImageResizeDropdown(s)}_registerImageResizeButton(t){const s=this.editor,{name:a,value:d,icon:p}=t,w=d?d+this._resizeUnit:null;s.ui.componentFactory.add(a,k=>{const D=new qn(k),R=s.commands.get("resizeImage"),M=this._getOptionLabelValue(t,!0);if(!DI[p])throw new B("imageresizebuttons-missing-icon",s,t);return D.set({label:M,icon:DI[p],tooltip:M,isToggleable:!0}),D.bind("isEnabled").to(this),D.bind("isOn").to(R,"value",uB(w)),this.listenTo(D,"execute",()=>{s.execute("resizeImage",{width:w})}),D})}_registerImageResizeDropdown(t){const s=this.editor,a=s.t,d=t.find(w=>!w.value),p=w=>{const k=s.commands.get("resizeImage"),D=Xu(w,Oy),R=D.buttonView,M=a("Resize image");return R.set({tooltip:M,commandValue:d.value,icon:DI.medium,isToggleable:!0,label:this._getOptionLabelValue(d),withText:!0,class:"ck-resize-image-button",ariaLabel:M,ariaLabelledBy:void 0}),R.bind("label").to(k,"value",U=>U&&U.width?U.width:this._getOptionLabelValue(d)),D.bind("isEnabled").to(this),vT(D,()=>this._getResizeDropdownListItemDefinitions(t,k),{ariaLabel:a("Image resize list"),role:"menu"}),this.listenTo(D,"execute",U=>{s.execute(U.source.commandName,{width:U.source.commandValue}),s.editing.view.focus()}),D};s.ui.componentFactory.add("resizeImage",p),s.ui.componentFactory.add("imageResize",p)}_getOptionLabelValue(t,s=!1){const a=this.editor.t;return t.label?t.label:s?t.value?a("Resize image to %0",t.value+this._resizeUnit):a("Resize image to the original size"):t.value?t.value+this._resizeUnit:a("Original")}_getResizeDropdownListItemDefinitions(t,s){const a=new Ys;return t.map(d=>{const p=d.value?d.value+this._resizeUnit:null,w={type:"button",model:new DT({commandName:"resizeImage",commandValue:p,label:this._getOptionLabelValue(d),role:"menuitemradio",withText:!0,icon:null})};w.model.bind("isOn").to(s,"value",uB(p)),a.add(w)}),a}}function uB(f){return t=>f===null&&t===f||t!==null&&t.width===f}const NI="image_resized";class Aae extends st{static get requires(){return[mI,Ga]}static get pluginName(){return"ImageResizeHandles"}init(){const t=this.editor.commands.get("resizeImage");this.bind("isEnabled").to(t),this._setupResizerCreator()}_setupResizerCreator(){const t=this.editor,s=t.editing.view,a=t.plugins.get("ImageUtils");s.addObserver(F9),this.listenTo(s.document,"imageLoaded",(d,p)=>{if(!p.target.matches("figure.image.ck-widget > img,figure.image.ck-widget > picture > img,figure.image.ck-widget > a > img,figure.image.ck-widget > a > picture > img,span.image-inline.ck-widget > img,span.image-inline.ck-widget > picture > img"))return;const w=t.editing.view.domConverter,k=w.domToView(p.target),D=a.getImageWidgetFromImageView(k);let R=this.editor.plugins.get(mI).getResizerByViewElement(D);if(R)return void R.redraw();const M=t.editing.mapper,U=M.toModelElement(D);R=t.plugins.get(mI).attachTo({unit:t.config.get("image.resizeUnit"),modelElement:U,viewElement:D,editor:t,getHandleHost:W=>W.querySelector("img"),getResizeHost:()=>w.mapViewToDom(M.toViewElement(U.parent)),isCentered(){const W=U.getAttribute("imageStyle");return!W||W=="block"||W=="alignCenter"},onCommit(W){s.change(Z=>{Z.removeClass(NI,D)}),t.execute("resizeImage",{width:W})}}),R.on("updateSize",()=>{D.hasClass(NI)||s.change(Z=>{Z.addClass(NI,D)});const W=U.name==="imageInline"?k:D;W.getStyle("height")&&s.change(Z=>{Z.removeStyle("height",W)})}),R.bind("isEnabled").to(this)})}}var vC=o(2400),nk={attributes:{"data-cke":!0}};nk.setAttributes=jt(),nk.insert=Vt().bind(null,"head"),nk.domAPI=Bt(),nk.insertStyleElement=zt(),Ut()(vC.Z,nk),vC.Z&&vC.Z.locals&&vC.Z.locals;class Tae extends st{static get pluginName(){return"IndentEditing"}init(){const t=this.editor;t.commands.add("indent",new is(t)),t.commands.add("outdent",new is(t))}}const dB='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',hB='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class Cae extends st{static get pluginName(){return"IndentUI"}init(){const t=this.editor,s=t.locale,a=t.t,d=s.uiLanguageDirection=="ltr"?dB:hB,p=s.uiLanguageDirection=="ltr"?hB:dB;this._defineButton("indent",a("Increase indent"),d),this._defineButton("outdent",a("Decrease indent"),p)}_defineButton(t,s,a){const d=this.editor;d.ui.componentFactory.add(t,p=>{const w=d.commands.get(t),k=new qn(p);return k.set({label:s,icon:a,tooltip:!0}),k.bind("isEnabled").to(w,"isEnabled"),this.listenTo(k,"execute",()=>{d.execute(t),d.editing.view.focus()}),k})}}class Dae{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(t){Array.isArray(t)?t.forEach(s=>this._definitions.add(s)):this._definitions.add(t)}getDispatcher(){return t=>{t.on("attribute:linkHref",(s,a,d)=>{if(!d.consumable.test(a.item,"attribute:linkHref")||!a.item.is("selection")&&!d.schema.isInline(a.item))return;const p=d.writer,w=p.document.selection;for(const k of this._definitions){const D=p.createAttributeElement("a",k.attributes,{priority:5});k.classes&&p.addClass(k.classes,D);for(const R in k.styles)p.setStyle(R,k.styles[R],D);p.setCustomProperty("link",!0,D),k.callback(a.attributeNewValue)?a.item.is("selection")?p.wrap(w.getFirstRange(),D):p.wrap(d.mapper.toViewRange(a.range),D):p.unwrap(d.mapper.toViewRange(a.range),D)}},{priority:"high"})}}getDispatcherForLinkedImage(){return t=>{t.on("attribute:linkHref:imageBlock",(s,a,{writer:d,mapper:p})=>{const w=p.toViewElement(a.item),k=Array.from(w.getChildren()).find(D=>D.is("element","a"));for(const D of this._definitions){const R=La(D.attributes);if(D.callback(a.attributeNewValue)){for(const[M,U]of R)M==="class"?d.addClass(U,k):d.setAttribute(M,U,k);D.classes&&d.addClass(D.classes,k);for(const M in D.styles)d.setStyle(M,D.styles[M],k)}else{for(const[M,U]of R)M==="class"?d.removeClass(U,k):d.removeAttribute(M,k);D.classes&&d.removeClass(D.classes,k);for(const M in D.styles)d.removeStyle(M,k)}}})}}}const Nae=function(f,t,s){var a=f.length;return s=s===void 0?a:s,Mx(f,t,s)};var Pae=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const fB=function(f){return Pae.test(f)},Iae=function(f){return f.split("")};var pB="\\ud800-\\udfff",jae="["+pB+"]",PI="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",II="\\ud83c[\\udffb-\\udfff]",mB="[^"+pB+"]",gB="(?:\\ud83c[\\udde6-\\uddff]){2}",bB="[\\ud800-\\udbff][\\udc00-\\udfff]",yB="(?:"+PI+"|"+II+")?",vB="[\\ufe0e\\ufe0f]?",Rae=vB+yB+("(?:\\u200d(?:"+[mB,gB,bB].join("|")+")"+vB+yB+")*"),Mae="(?:"+[mB+PI+"?",PI,gB,bB,jae].join("|")+")",Oae=RegExp(II+"(?="+II+")|"+Mae+Rae,"g");const Fae=function(f){return f.match(Oae)||[]},Lae=function(f){return fB(f)?Fae(f):Iae(f)},Uae=function(f){return function(t){t=Io(t);var s=fB(t)?Lae(t):void 0,a=s?s[0]:t.charAt(0),d=s?Nae(s,1).join(""):t.slice(1);return a[f]()+d}}("toUpperCase"),Bae=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,zae=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,Vae=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,Wae=/^((\w+:(\/{2,})?)|(\W))/i,jI="Ctrl+K";function wB(f,{writer:t}){const s=t.createAttributeElement("a",{href:f},{priority:5});return t.setCustomProperty("link",!0,s),s}function xB(f){const t=String(f);return function(s){return!!s.replace(Bae,"").match(zae)}(t)?t:"#"}function RI(f,t){return!!f&&t.checkAttribute(f.name,"linkHref")}function MI(f,t){const s=(a=f,Vae.test(a)?"mailto:":t);var a;const d=!!s&&!_B(f);return f&&d?s+f:f}function _B(f){return Wae.test(f)}function kB(f){window.open(f,"_blank","noopener")}class $ae extends pn{constructor(){super(...arguments),this.manualDecorators=new Ys,this.automaticDecorators=new Dae}restoreManualDecoratorStates(){for(const t of this.manualDecorators)t.value=this._getDecoratorStateFromModel(t.id)}refresh(){const t=this.editor.model,s=t.document.selection,a=s.getSelectedElement()||ki(s.getSelectedBlocks());RI(a,t.schema)?(this.value=a.getAttribute("linkHref"),this.isEnabled=t.schema.checkAttribute(a,"linkHref")):(this.value=s.getAttribute("linkHref"),this.isEnabled=t.schema.checkAttributeInSelection(s,"linkHref"));for(const d of this.manualDecorators)d.value=this._getDecoratorStateFromModel(d.id)}execute(t,s={}){const a=this.editor.model,d=a.document.selection,p=[],w=[];for(const k in s)s[k]?p.push(k):w.push(k);a.change(k=>{if(d.isCollapsed){const D=d.getFirstPosition();if(d.hasAttribute("linkHref")){const R=EB(d);let M=fv(D,"linkHref",d.getAttribute("linkHref"),a);d.getAttribute("linkHref")===R&&(M=this._updateLinkContent(a,k,M,t)),k.setAttribute("linkHref",t,M),p.forEach(U=>{k.setAttribute(U,!0,M)}),w.forEach(U=>{k.removeAttribute(U,M)}),k.setSelection(k.createPositionAfter(M.end.nodeBefore))}else if(t!==""){const R=La(d.getAttributes());R.set("linkHref",t),p.forEach(U=>{R.set(U,!0)});const{end:M}=a.insertContent(k.createText(t,R),D);k.setSelection(M)}["linkHref",...p,...w].forEach(R=>{k.removeSelectionAttribute(R)})}else{const D=a.schema.getValidRanges(d.getRanges(),"linkHref"),R=[];for(const U of d.getSelectedBlocks())a.schema.checkAttribute(U,"linkHref")&&R.push(k.createRangeOn(U));const M=R.slice();for(const U of D)this._isRangeToUpdate(U,R)&&M.push(U);for(const U of M){let W=U;if(M.length===1){const Z=EB(d);d.getAttribute("linkHref")===Z&&(W=this._updateLinkContent(a,k,U,t),k.setSelection(k.createSelection(W)))}k.setAttribute("linkHref",t,W),p.forEach(Z=>{k.setAttribute(Z,!0,W)}),w.forEach(Z=>{k.removeAttribute(Z,W)})}}})}_getDecoratorStateFromModel(t){const s=this.editor.model,a=s.document.selection,d=a.getSelectedElement();return RI(d,s.schema)?d.getAttribute(t):a.getAttribute(t)}_isRangeToUpdate(t,s){for(const a of s)if(a.containsRange(t))return!1;return!0}_updateLinkContent(t,s,a,d){const p=s.createText(d,{linkHref:d});return t.insertContent(p,a)}}function EB(f){if(f.isCollapsed){const t=f.getFirstPosition();return t.textNode&&t.textNode.data}{const t=Array.from(f.getFirstRange().getItems());if(t.length>1)return null;const s=t[0];return s.is("$text")||s.is("$textProxy")?s.data:null}}class qae extends pn{refresh(){const t=this.editor.model,s=t.document.selection,a=s.getSelectedElement();RI(a,t.schema)?this.isEnabled=t.schema.checkAttribute(a,"linkHref"):this.isEnabled=t.schema.checkAttributeInSelection(s,"linkHref")}execute(){const t=this.editor,s=this.editor.model,a=s.document.selection,d=t.commands.get("link");s.change(p=>{const w=a.isCollapsed?[fv(a.getFirstPosition(),"linkHref",a.getAttribute("linkHref"),s)]:s.schema.getValidRanges(a.getRanges(),"linkHref");for(const k of w)if(p.removeAttribute("linkHref",k),d)for(const D of d.manualDecorators)p.removeAttribute(D.id,k)})}}class Hae extends ze(){constructor({id:t,label:s,attributes:a,classes:d,styles:p,defaultValue:w}){super(),this.id=t,this.set("value",void 0),this.defaultValue=w,this.label=s,this.attributes=a,this.classes=d,this.styles=p}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var wC=o(3925),ik={attributes:{"data-cke":!0}};ik.setAttributes=jt(),ik.insert=Vt().bind(null,"head"),ik.domAPI=Bt(),ik.insertStyleElement=zt(),Ut()(wC.Z,ik),wC.Z&&wC.Z.locals&&wC.Z.locals;const SB="automatic",Gae=/^(https?:)?\/\//;class Xae extends st{static get pluginName(){return"LinkEditing"}static get requires(){return[WT,R7,mh]}constructor(t){super(t),t.config.define("link",{addTargetToExternalLinks:!1})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:"linkHref"}),t.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:wB}),t.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(a,d)=>wB(xB(a),d)}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:a=>a.getAttribute("href")}}),t.commands.add("link",new $ae(t)),t.commands.add("unlink",new qae(t));const s=function(a,d){const p={"Open in a new tab":a("Open in a new tab"),Downloadable:a("Downloadable")};return d.forEach(w=>("label"in w&&p[w.label]&&(w.label=p[w.label]),w)),d}(t.t,function(a){const d=[];if(a)for(const[p,w]of Object.entries(a)){const k=Object.assign({},w,{id:`link${Uae(p)}`});d.push(k)}return d}(t.config.get("link.decorators")));this._enableAutomaticDecorators(s.filter(a=>a.mode===SB)),this._enableManualDecorators(s.filter(a=>a.mode==="manual")),t.plugins.get(WT).registerAttribute("linkHref"),$7(t,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink(),this._enableClipboardIntegration()}_enableAutomaticDecorators(t){const s=this.editor,a=s.commands.get("link").automaticDecorators;s.config.get("link.addTargetToExternalLinks")&&a.add({id:"linkIsExternal",mode:SB,callback:d=>!!d&&Gae.test(d),attributes:{target:"_blank",rel:"noopener noreferrer"}}),a.add(t),a.length&&s.conversion.for("downcast").add(a.getDispatcher())}_enableManualDecorators(t){if(!t.length)return;const s=this.editor,a=s.commands.get("link").manualDecorators;t.forEach(d=>{s.model.schema.extend("$text",{allowAttributes:d.id});const p=new Hae(d);a.add(p),s.conversion.for("downcast").attributeToElement({model:p.id,view:(w,{writer:k,schema:D},{item:R})=>{if((R.is("selection")||D.isInline(R))&&w){const M=k.createAttributeElement("a",p.attributes,{priority:5});p.classes&&k.addClass(p.classes,M);for(const U in p.styles)k.setStyle(U,p.styles[U],M);return k.setCustomProperty("link",!0,M),M}}}),s.conversion.for("upcast").elementToAttribute({view:{name:"a",...p._createPattern()},model:{key:p.id}})})}_enableLinkOpen(){const t=this.editor,s=t.editing.view.document;this.listenTo(s,"click",(a,d)=>{if(!(y.isMac?d.domEvent.metaKey:d.domEvent.ctrlKey))return;let p=d.domTarget;if(p.tagName.toLowerCase()!="a"&&(p=p.closest("a")),!p)return;const w=p.getAttribute("href");w&&(a.stop(),d.preventDefault(),kB(w))},{context:"$capture"}),this.listenTo(s,"keydown",(a,d)=>{const p=t.commands.get("link").value;p&&d.keyCode===Qt.enter&&d.altKey&&(a.stop(),kB(p))})}_enableInsertContentSelectionAttributesFixer(){const t=this.editor.model,s=t.document.selection;this.listenTo(t,"insertContent",()=>{const a=s.anchor.nodeBefore,d=s.anchor.nodeAfter;s.hasAttribute("linkHref")&&a&&a.hasAttribute("linkHref")&&(d&&d.hasAttribute("linkHref")||t.change(p=>{OI(p,FI(t.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const t=this.editor,s=t.model;t.editing.view.addObserver(uT);let a=!1;this.listenTo(t.editing.view.document,"mousedown",()=>{a=!0}),this.listenTo(t.editing.view.document,"selectionChange",()=>{if(!a)return;a=!1;const d=s.document.selection;if(!d.isCollapsed||!d.hasAttribute("linkHref"))return;const p=d.getFirstPosition(),w=fv(p,"linkHref",d.getAttribute("linkHref"),s);(p.isTouching(w.start)||p.isTouching(w.end))&&s.change(k=>{OI(k,FI(s.schema))})})}_enableTypingOverLink(){const t=this.editor,s=t.editing.view;let a=null,d=!1;this.listenTo(s.document,"delete",()=>{d=!0},{priority:"high"}),this.listenTo(t.model,"deleteContent",()=>{const p=t.model.document.selection;p.isCollapsed||(d?d=!1:AB(t)&&function(w){const k=w.document.selection,D=k.getFirstPosition(),R=k.getLastPosition(),M=D.nodeAfter;if(!M||!M.is("$text")||!M.hasAttribute("linkHref"))return!1;const U=R.textNode||R.nodeBefore;return M===U?!0:fv(D,"linkHref",M.getAttribute("linkHref"),w).containsRange(w.createRange(D,R),!0)}(t.model)&&(a=p.getAttributes()))},{priority:"high"}),this.listenTo(t.model,"insertContent",(p,[w])=>{d=!1,AB(t)&&a&&(t.model.change(k=>{for(const[D,R]of a)k.setAttribute(D,R,w)}),a=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const t=this.editor,s=t.model,a=s.document.selection,d=t.editing.view;let p=!1,w=!1;this.listenTo(d.document,"delete",(k,D)=>{w=D.direction==="backward"},{priority:"high"}),this.listenTo(s,"deleteContent",()=>{p=!1;const k=a.getFirstPosition(),D=a.getAttribute("linkHref");if(!D)return;const R=fv(k,"linkHref",D,s);p=R.containsPosition(k)||R.end.isEqual(k)},{priority:"high"}),this.listenTo(s,"deleteContent",()=>{w&&(w=!1,p||t.model.enqueueChange(k=>{OI(k,FI(s.schema))}))},{priority:"low"})}_enableClipboardIntegration(){const t=this.editor,s=t.model,a=this.editor.config.get("link.defaultProtocol");a&&this.listenTo(t.plugins.get("ClipboardPipeline"),"contentInsertion",(d,p)=>{s.change(w=>{const k=w.createRangeIn(p.content);for(const D of k.getItems())if(D.hasAttribute("linkHref")){const R=MI(D.getAttribute("linkHref"),a);w.setAttribute("linkHref",R,D)}})})}}function OI(f,t){f.removeSelectionAttribute("linkHref");for(const s of t)f.removeSelectionAttribute(s)}function AB(f){return f.model.change(t=>t.batch).isTyping}function FI(f){return f.getDefinition("$text").allowAttributes.filter(t=>t.startsWith("link"))}var xC=o(4874),rk={attributes:{"data-cke":!0}};rk.setAttributes=jt(),rk.insert=Vt().bind(null,"head"),rk.domAPI=Bt(),rk.insertStyleElement=zt(),Ut()(xC.Z,rk),xC.Z&&xC.Z.locals&&xC.Z.locals;class Yae extends dn{constructor(t,s){super(t),this.focusTracker=new lr,this.keystrokes=new Fa,this._focusables=new na;const a=t.t;this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(a("Save"),ri.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(a("Cancel"),ri.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(s),this.children=this._createFormChildren(s.manualDecorators),this._focusCycler=new Nc({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const d=["ck","ck-link-form","ck-responsive-form"];s.manualDecorators.length&&d.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:d,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((t,s)=>(t[s.name]=s.isOn,t),{})}render(){super.render(),h({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const t=this.locale.t,s=new Pu(this.locale,wT);return s.label=t("Link URL"),s}_createButton(t,s,a,d){const p=new qn(this.locale);return p.set({label:t,icon:s,tooltip:!0}),p.extendTemplate({attributes:{class:a}}),d&&p.delegate("execute").to(this,d),p}_createManualDecoratorSwitches(t){const s=this.createCollection();for(const a of t.manualDecorators){const d=new Nu(this.locale);d.set({name:a.id,label:a.label,withText:!0}),d.bind("isOn").toMany([a,t],"value",(p,w)=>w===void 0&&p===void 0?!!a.defaultValue:!!p),d.on("execute",()=>{a.set("value",!d.isOn)}),s.add(d)}return s}_createFormChildren(t){const s=this.createCollection();if(s.add(this.urlInputView),t.length){const a=new dn;a.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(d=>({tag:"li",children:[d],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),s.add(a)}return s.add(this.saveButtonView),s.add(this.cancelButtonView),s}}var _C=o(7536),sk={attributes:{"data-cke":!0}};sk.setAttributes=jt(),sk.insert=Vt().bind(null,"head"),sk.domAPI=Bt(),sk.insertStyleElement=zt(),Ut()(_C.Z,sk),_C.Z&&_C.Z.locals&&_C.Z.locals;class Kae extends dn{constructor(t){super(t),this.focusTracker=new lr,this.keystrokes=new Fa,this._focusables=new na;const s=t.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(s("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(s("Edit link"),ri.pencil,"edit"),this.set("href",void 0),this._focusCycler=new Nc({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(t,s,a){const d=new qn(this.locale);return d.set({label:t,icon:s,tooltip:!0}),d.delegate("execute").to(this,a),d}_createPreviewButton(){const t=new qn(this.locale),s=this.bindTemplate,a=this.t;return t.set({withText:!0,tooltip:a("Open link in new tab")}),t.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:s.to("href",d=>d&&xB(d)),target:"_blank",rel:"noopener noreferrer"}}),t.bind("label").to(this,"href",d=>d||a("This link has no URL")),t.bind("isEnabled").to(this,"href",d=>!!d),t.template.tag="a",t.template.eventListeners={},t}}const Yu="link-ui";class Zae extends st{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[jT]}static get pluginName(){return"LinkUI"}init(){const t=this.editor;t.editing.view.addObserver(tse),this._balloon=t.plugins.get(jT),this._createToolbarLinkButton(),this._enableBalloonActivators(),t.conversion.for("editingDowncast").markerToHighlight({model:Yu,view:{classes:["ck-fake-link-selection"]}}),t.conversion.for("editingDowncast").markerToElement({model:Yu,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const t=this.editor,s=new Kae(t.locale),a=t.commands.get("link"),d=t.commands.get("unlink");return s.bind("href").to(a,"value"),s.editButtonView.bind("isEnabled").to(a),s.unlinkButtonView.bind("isEnabled").to(d),this.listenTo(s,"edit",()=>{this._addFormView()}),this.listenTo(s,"unlink",()=>{t.execute("unlink"),this._hideUI()}),s.keystrokes.set("Esc",(p,w)=>{this._hideUI(),w()}),s.keystrokes.set(jI,(p,w)=>{this._addFormView(),w()}),s}_createFormView(){const t=this.editor,s=t.commands.get("link"),a=t.config.get("link.defaultProtocol"),d=new(u(Yae))(t.locale,s);return d.urlInputView.fieldView.bind("value").to(s,"value"),d.urlInputView.bind("isEnabled").to(s,"isEnabled"),d.saveButtonView.bind("isEnabled").to(s),this.listenTo(d,"submit",()=>{const{value:p}=d.urlInputView.fieldView.element,w=MI(p,a);t.execute("link",w,d.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(d,"cancel",()=>{this._closeFormView()}),d.keystrokes.set("Esc",(p,w)=>{this._closeFormView(),w()}),d}_createToolbarLinkButton(){const t=this.editor,s=t.commands.get("link"),a=t.t;t.ui.componentFactory.add("link",d=>{const p=new qn(d);return p.isEnabled=!0,p.label=a("Link"),p.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',p.keystroke=jI,p.tooltip=!0,p.isToggleable=!0,p.bind("isEnabled").to(s,"isEnabled"),p.bind("isOn").to(s,"value",w=>!!w),this.listenTo(p,"execute",()=>this._showUI(!0)),p})}_enableBalloonActivators(){const t=this.editor,s=t.editing.view.document;this.listenTo(s,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),t.keystrokes.set(jI,(a,d)=>{d(),t.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(t,s)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),s())},{priority:"high"}),this.editor.keystrokes.set("Esc",(t,s)=>{this._isUIVisible&&(this._hideUI(),s())}),c({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const t=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=t.value||""}_closeFormView(){const t=this.editor.commands.get("link");t.restoreManualDecoratorStates(),t.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(t=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),t&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),t&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const t=this.editor;this.stopListening(t.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),t.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const t=this.editor,s=t.editing.view.document;let a=this._getSelectedLinkElement(),d=w();const p=()=>{const k=this._getSelectedLinkElement(),D=w();a&&!k||!a&&D!==d?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),a=k,d=D};function w(){return s.selection.focus.getAncestors().reverse().find(k=>k.is("element"))}this.listenTo(t.ui,"update",p),this.listenTo(this._balloon,"change:visibleView",p)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const t=this._balloon.visibleView;return!!this.formView&&t==this.formView||this._areActionsVisible}_getBalloonPositionData(){const t=this.editor.editing.view,s=this.editor.model,a=t.document;let d;if(s.markers.has(Yu)){const p=Array.from(this.editor.editing.mapper.markerNameToElements(Yu)),w=t.createRange(t.createPositionBefore(p[0]),t.createPositionAfter(p[p.length-1]));d=t.domConverter.viewRangeToDom(w)}else d=()=>{const p=this._getSelectedLinkElement();return p?t.domConverter.mapViewToDom(p):t.domConverter.viewRangeToDom(a.selection.getFirstRange())};return{target:d}}_getSelectedLinkElement(){const t=this.editor.editing.view,s=t.document.selection,a=s.getSelectedElement();if(s.isCollapsed||a&&Wr(a))return LI(s.getFirstPosition());{const d=s.getFirstRange().getTrimmed(),p=LI(d.start),w=LI(d.end);return p&&p==w&&t.createRangeIn(p).getTrimmed().isEqual(d)?p:null}}_showFakeVisualSelection(){const t=this.editor.model;t.change(s=>{const a=t.document.selection.getFirstRange();if(t.markers.has(Yu))s.updateMarker(Yu,{range:a});else if(a.start.isAtEnd){const d=a.start.getLastMatchingPosition(({item:p})=>!t.schema.isContent(p),{boundaries:a});s.addMarker(Yu,{usingOperation:!1,affectsData:!1,range:s.createRange(d,a.end)})}else s.addMarker(Yu,{usingOperation:!1,affectsData:!1,range:a})})}_hideFakeVisualSelection(){const t=this.editor.model;t.markers.has(Yu)&&t.change(s=>{s.removeMarker(Yu)})}}function LI(f){return f.getAncestors().find(t=>{return(s=t).is("attributeElement")&&!!s.getCustomProperty("link");var s})||null}const Jae=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class Qae extends st{static get requires(){return[gh]}static get pluginName(){return"AutoLink"}init(){const t=this.editor.model.document.selection;t.on("change:range",()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const t=this.editor,s=new B7(t.model,a=>{if(!function(p){return p.length>4&&p[p.length-1]===" "&&p[p.length-2]!==" "}(a))return;const d=TB(a.substr(0,a.length-1));return d?{url:d}:void 0});s.on("matched:data",(a,d)=>{const{batch:p,range:w,url:k}=d;if(!p.isTyping)return;const D=w.end.getShiftedBy(-1),R=D.getShiftedBy(-k.length),M=t.model.createRange(R,D);this._applyAutoLink(k,M)}),s.bind("isEnabled").to(this)}_enableEnterHandling(){const t=this.editor,s=t.model,a=t.commands.get("enter");a&&a.on("execute",()=>{const d=s.document.selection.getFirstPosition();if(!d.parent.previousSibling)return;const p=s.createRangeIn(d.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(p)})}_enableShiftEnterHandling(){const t=this.editor,s=t.model,a=t.commands.get("shiftEnter");a&&a.on("execute",()=>{const d=s.document.selection.getFirstPosition(),p=s.createRange(s.createPositionAt(d.parent,0),d.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(p)})}_checkAndApplyAutoLinkOnRange(t){const s=this.editor.model,{text:a,range:d}=U7(t,s),p=TB(a);if(p){const w=s.createRange(d.end.getShiftedBy(-p.length),d.end);this._applyAutoLink(p,w)}}_applyAutoLink(t,s){const a=this.editor.model,d=MI(t,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(p,w){return w.schema.checkAttributeInSelection(w.createSelection(p),"linkHref")}(s,a)&&_B(d)&&!function(p){const w=p.start.nodeAfter;return!!w&&w.hasAttribute("linkHref")}(s)&&this._persistAutoLink(d,s)}_persistAutoLink(t,s){const a=this.editor.model,d=this.editor.plugins.get("Delete");a.enqueueChange(p=>{p.setAttribute("linkHref",t,s),a.enqueueChange(()=>{d.requestUndoOnBackspace()})})}}function TB(f){const t=Jae.exec(f);return t?t[2]:null}class CB extends pn{constructor(t,s){super(t),this.type=s}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const s=this.editor.model,a=s.document,d=Array.from(a.selection.getSelectedBlocks()).filter(w=>NB(w,s.schema)),p=t.forceValue!==void 0?!t.forceValue:this.value;s.change(w=>{if(p){let k=d[d.length-1].nextSibling,D=Number.POSITIVE_INFINITY,R=[];for(;k&&k.name=="listItem"&&k.getAttribute("listIndent")!==0;){const M=k.getAttribute("listIndent");M<D&&(D=M);const U=M-D;R.push({element:k,listIndent:U}),k=k.nextSibling}R=R.reverse();for(const M of R)w.setAttribute("listIndent",M.listIndent,M.element)}if(!p){let k=Number.POSITIVE_INFINITY;for(const D of d)D.is("element","listItem")&&D.getAttribute("listIndent")<k&&(k=D.getAttribute("listIndent"));k=k===0?1:k,DB(d,!0,k),DB(d,!1,k)}for(const k of d.reverse())p&&k.name=="listItem"?w.rename(k,"paragraph"):p||k.name=="listItem"?p||k.name!="listItem"||k.getAttribute("listType")==this.type||w.setAttribute("listType",this.type,k):(w.setAttributes({listType:this.type,listIndent:0},k),w.rename(k,"listItem"));this.fire("_executeCleanup",d)})}_getValue(){const t=ki(this.editor.model.document.selection.getSelectedBlocks());return!!t&&t.is("element","listItem")&&t.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.document.selection,s=this.editor.model.schema,a=ki(t.getSelectedBlocks());return!!a&&NB(a,s)}}function DB(f,t,s){const a=t?f[0]:f[f.length-1];if(a.is("element","listItem")){let d=a[t?"previousSibling":"nextSibling"],p=a.getAttribute("listIndent");for(;d&&d.is("element","listItem")&&d.getAttribute("listIndent")>=s;)p>d.getAttribute("listIndent")&&(p=d.getAttribute("listIndent")),d.getAttribute("listIndent")==p&&f[t?"unshift":"push"](d),d=d[t?"previousSibling":"nextSibling"]}}function NB(f,t){return t.checkChild(f.parent,"listItem")&&!t.isObject(f)}class PB extends pn{constructor(t,s){super(t),this._indentBy=s=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model,s=t.document;let a=Array.from(s.selection.getSelectedBlocks());t.change(d=>{const p=a[a.length-1];let w=p.nextSibling;for(;w&&w.name=="listItem"&&w.getAttribute("listIndent")>p.getAttribute("listIndent");)a.push(w),w=w.nextSibling;this._indentBy<0&&(a=a.reverse());for(const k of a){const D=k.getAttribute("listIndent")+this._indentBy;D<0?d.rename(k,"paragraph"):d.setAttribute("listIndent",D,k)}this.fire("_executeCleanup",a)})}_checkEnabled(){const t=ki(this.editor.model.document.selection.getSelectedBlocks());if(!t||!t.is("element","listItem"))return!1;if(this._indentBy>0){const s=t.getAttribute("listIndent"),a=t.getAttribute("listType");let d=t.previousSibling;for(;d&&d.is("element","listItem")&&d.getAttribute("listIndent")>=s;){if(d.getAttribute("listIndent")==s)return d.getAttribute("listType")==a;d=d.previousSibling}return!1}return!0}}function ele(f,t){const s=t.mapper,a=t.writer,d=f.getAttribute("listType")=="numbered"?"ol":"ul",p=function(k){const D=k.createContainerElement("li");return D.getFillerOffset=ile,D}(a),w=a.createContainerElement(d,null);return a.insert(a.createPositionAt(w,0),p),s.bindElements(f,p),p}function IB(f,t,s,a){const d=t.parent,p=s.mapper,w=s.writer;let k=p.toViewPosition(a.createPositionBefore(f));const D=RB(f.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:f.getAttribute("listIndent")}),R=f.previousSibling;if(D&&D.getAttribute("listIndent")==f.getAttribute("listIndent")){const M=p.toViewElement(D);k=w.breakContainer(w.createPositionAfter(M))}else if(R&&R.name=="listItem"){k=p.toViewPosition(a.createPositionAt(R,"end"));const M=p.findMappedViewAncestor(k),U=function(W){for(const Z of W.getChildren())if(Z.name=="ul"||Z.name=="ol")return Z;return null}(M);k=U?w.createPositionBefore(U):w.createPositionAt(M,"end")}else k=p.toViewPosition(a.createPositionBefore(f));if(k=jB(k),w.insert(k,d),R&&R.name=="listItem"){const M=p.toViewElement(R),U=w.createRange(w.createPositionAt(M,0),k).getWalker({ignoreElementEnd:!0});for(const W of U)if(W.item.is("element","li")){const Z=w.breakContainer(w.createPositionBefore(W.item)),re=W.item.parent,le=w.createPositionAt(t,"end");$l(w,le.nodeBefore,le.nodeAfter),w.move(w.createRangeOn(re),le),U._position=Z}}else{const M=d.nextSibling;if(M&&(M.is("element","ul")||M.is("element","ol"))){let U=null;for(const W of M.getChildren()){const Z=p.toModelElement(W);if(!(Z&&Z.getAttribute("listIndent")>f.getAttribute("listIndent")))break;U=W}U&&(w.breakContainer(w.createPositionAfter(U)),w.move(w.createRangeOn(U.parent),w.createPositionAt(t,"end")))}}$l(w,d,d.nextSibling),$l(w,d.previousSibling,d)}function $l(f,t,s){return!t||!s||t.name!="ul"&&t.name!="ol"||t.name!=s.name||t.getAttribute("class")!==s.getAttribute("class")?null:f.mergeContainers(f.createPositionAfter(t))}function jB(f){return f.getLastMatchingPosition(t=>t.item.is("uiElement"))}function RB(f,t){const s=!!t.sameIndent,a=!!t.smallerIndent,d=t.listIndent;let p=f;for(;p&&p.name=="listItem";){const w=p.getAttribute("listIndent");if(s&&d==w||a&&d>w)return p;p=t.direction==="forward"?p.nextSibling:p.previousSibling}return null}function MB(f,t,s,a){f.ui.componentFactory.add(t,d=>{const p=f.commands.get(t),w=new qn(d);return w.set({label:s,icon:a,tooltip:!0,isToggleable:!0}),w.bind("isOn","isEnabled").to(p,"value","isEnabled"),w.on("execute",()=>{f.execute(t),f.editing.view.focus()}),w})}function UI(f,t){const s=[],a=f.parent,d={ignoreElementEnd:!1,startPosition:f,shallow:!0,direction:t},p=a.getAttribute("listIndent"),w=[...new Vl(d)].filter(k=>k.item.is("element")).map(k=>k.item);for(const k of w){if(!k.is("element","listItem")||k.getAttribute("listIndent")<p)break;if(!(k.getAttribute("listIndent")>p)){if(k.getAttribute("listType")!==a.getAttribute("listType")||k.getAttribute("listStyle")!==a.getAttribute("listStyle")||k.getAttribute("listReversed")!==a.getAttribute("listReversed")||k.getAttribute("listStart")!==a.getAttribute("listStart"))break;t==="backward"?s.unshift(k):s.push(k)}}return s}const tle=["disc","circle","square"],nle=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function ile(){const f=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||f?0:qx.call(this)}class rle extends st{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(t){return function(s){return tle.includes(s)?"bulleted":nle.includes(s)?"numbered":null}(t)}getSelectedListItems(t){return function(s){let a=[...s.document.selection.getSelectedBlocks()].filter(d=>d.is("element","listItem")).map(d=>{const p=s.change(w=>w.createPositionAt(d,0));return[...UI(p,"backward"),...UI(p,"forward")]}).flat();return a=[...new Set(a)],a}(t)}getSiblingNodes(t,s){return UI(t,s)}}function OB(f){return(t,s,a)=>{const d=a.consumable;if(!d.test(s.item,"insert")||!d.test(s.item,"attribute:listType")||!d.test(s.item,"attribute:listIndent"))return;d.consume(s.item,"insert"),d.consume(s.item,"attribute:listType"),d.consume(s.item,"attribute:listIndent");const p=s.item;IB(p,ele(p,a),a,f)}}const sle=(f,t,s)=>{if(!s.consumable.test(t.item,f.name))return;const a=s.mapper.toViewElement(t.item),d=s.writer;d.breakContainer(d.createPositionBefore(a)),d.breakContainer(d.createPositionAfter(a));const p=a.parent,w=t.attributeNewValue=="numbered"?"ol":"ul";d.rename(w,p)},ole=(f,t,s)=>{s.consumable.consume(t.item,f.name);const a=s.mapper.toViewElement(t.item).parent,d=s.writer;$l(d,a,a.nextSibling),$l(d,a.previousSibling,a)},FB=(f,t,s)=>{if(s.consumable.test(t.item,f.name)&&t.item.name!="listItem"){let a=s.mapper.toViewPosition(t.range.start);const d=s.writer,p=[];for(;(a.parent.name=="ul"||a.parent.name=="ol")&&(a=d.breakContainer(a),a.parent.name=="li");){const w=a,k=d.createPositionAt(a.parent,"end");if(!w.isEqual(k)){const D=d.remove(d.createRange(w,k));p.push(D)}a=d.createPositionAfter(a.parent)}if(p.length>0){for(let w=0;w<p.length;w++){const k=a.nodeBefore;if(a=d.insert(a,p[w]).end,w>0){const D=$l(d,k,k.nextSibling);D&&D.parent==k&&a.offset--}}$l(d,a.nodeBefore,a.nodeAfter)}}},ale=(f,t,s)=>{const a=s.mapper.toViewPosition(t.position),d=a.nodeBefore,p=a.nodeAfter;$l(s.writer,d,p)},lle=(f,t,s)=>{if(s.consumable.consume(t.viewItem,{name:!0})){const a=s.writer,d=a.createElement("listItem"),p=function(D){let R=0,M=D.parent;for(;M;){if(M.is("element","li"))R++;else{const U=M.previousSibling;U&&U.is("element","li")&&R++}M=M.parent}return R}(t.viewItem);a.setAttribute("listIndent",p,d);const w=t.viewItem.parent&&t.viewItem.parent.name=="ol"?"numbered":"bulleted";if(a.setAttribute("listType",w,d),!s.safeInsert(d,t.modelCursor))return;const k=function(D,R,M){const{writer:U,schema:W}=M;let Z=U.createPositionAfter(D);for(const re of R)if(re.name=="ul"||re.name=="ol")Z=M.convertItem(re,Z).modelCursor;else{const le=M.convertItem(re,U.createPositionAt(D,"end")),xe=le.modelRange.start.nodeAfter;xe&&xe.is("element")&&!W.checkChild(D,xe.name)&&(D=le.modelCursor.parent.is("element","listItem")?le.modelCursor.parent:dle(le.modelCursor),Z=U.createPositionAfter(D))}return Z}(d,t.viewItem.getChildren(),s);t.modelRange=a.createRange(t.modelCursor,k),s.updateConversionResult(d,t)}},LB=(f,t,s)=>{if(s.consumable.test(t.viewItem,{name:!0})){const a=Array.from(t.viewItem.getChildren());for(const d of a)!(d.is("element","li")||bv(d))&&d._remove()}},cle=(f,t,s)=>{if(s.consumable.test(t.viewItem,{name:!0})){if(t.viewItem.childCount===0)return;const a=[...t.viewItem.getChildren()];let d=!1;for(const p of a)d&&!bv(p)&&p._remove(),bv(p)&&(d=!0)}};function UB(f){return(t,s)=>{if(s.isPhantom)return;const a=s.modelPosition.nodeBefore;if(a&&a.is("element","listItem")){const d=s.mapper.toViewElement(a),p=d.getAncestors().find(bv),w=f.createPositionAt(d,0).getWalker();for(const k of w){if(k.type=="elementStart"&&k.item.is("element","li")){s.viewPosition=k.previousPosition;break}if(k.type=="elementEnd"&&k.item==p){s.viewPosition=k.nextPosition;break}}}}}const ule=function(f,[t,s]){const a=this;let d,p=t.is("documentFragment")?t.getChild(0):t;if(d=s?a.createSelection(s):a.document.selection,p&&p.is("element","listItem")){const w=d.getFirstPosition();let k=null;if(w.parent.is("element","listItem")?k=w.parent:w.nodeBefore&&w.nodeBefore.is("element","listItem")&&(k=w.nodeBefore),k){const D=k.getAttribute("listIndent");if(D>0)for(;p&&p.is("element","listItem");)p._setAttribute("listIndent",p.getAttribute("listIndent")+D),p=p.nextSibling}}};function dle(f){const t=new Vl({startPosition:f});let s;do s=t.next();while(!s.value.item.is("element","listItem"));return s.value.item}function BB(f,t,s,a,d,p){const w=RB(t.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:f}),k=d.mapper,D=d.writer,R=w?w.getAttribute("listIndent"):null;let M;if(w)if(R==f){const U=k.toViewElement(w).parent;M=D.createPositionAfter(U)}else{const U=p.createPositionAt(w,"end");M=k.toViewPosition(U)}else M=s;M=jB(M);for(const U of[...a.getChildren()])bv(U)&&(M=D.move(D.createRangeOn(U),M).end,$l(D,U,U.nextSibling),$l(D,U.previousSibling,U))}function bv(f){return f.is("element","ol")||f.is("element","ul")}var kC=o(4784),ok={attributes:{"data-cke":!0}};ok.setAttributes=jt(),ok.insert=Vt().bind(null,"head"),ok.domAPI=Bt(),ok.insertStyleElement=zt(),Ut()(kC.Z,ok),kC.Z&&kC.Z.locals&&kC.Z.locals;class hle extends st{static get pluginName(){return"ListEditing"}static get requires(){return[HT,gh,rle]}init(){const t=this.editor;t.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const s=t.data,a=t.editing;var d;t.model.document.registerPostFixer(w=>function(k,D){const R=k.document.differ.getChanges(),M=new Map;let U=!1;for(const le of R)if(le.type=="insert"&&le.name=="listItem")W(le.position);else if(le.type=="insert"&&le.name!="listItem"){if(le.name!="$text"){const xe=le.position.nodeAfter;xe.hasAttribute("listIndent")&&(D.removeAttribute("listIndent",xe),U=!0),xe.hasAttribute("listType")&&(D.removeAttribute("listType",xe),U=!0),xe.hasAttribute("listStyle")&&(D.removeAttribute("listStyle",xe),U=!0),xe.hasAttribute("listReversed")&&(D.removeAttribute("listReversed",xe),U=!0),xe.hasAttribute("listStart")&&(D.removeAttribute("listStart",xe),U=!0);for(const Pe of Array.from(k.createRangeIn(xe)).filter(Ge=>Ge.item.is("element","listItem")))W(Pe.previousPosition)}W(le.position.getShiftedBy(le.length))}else le.type=="remove"&&le.name=="listItem"?W(le.position):(le.type=="attribute"&&le.attributeKey=="listIndent"||le.type=="attribute"&&le.attributeKey=="listType")&&W(le.range.start);for(const le of M.values())Z(le),re(le);return U;function W(le){const xe=le.nodeBefore;if(xe&&xe.is("element","listItem")){let Pe=xe;if(M.has(Pe))return;for(let Ge=Pe.previousSibling;Ge&&Ge.is("element","listItem");Ge=Pe.previousSibling)if(Pe=Ge,M.has(Pe))return;M.set(xe,Pe)}else{const Pe=le.nodeAfter;Pe&&Pe.is("element","listItem")&&M.set(Pe,Pe)}}function Z(le){let xe=0,Pe=null;for(;le&&le.is("element","listItem");){const Ge=le.getAttribute("listIndent");if(Ge>xe){let tt;Pe===null?(Pe=Ge-xe,tt=xe):(Pe>Ge&&(Pe=Ge),tt=Ge-Pe),D.setAttribute("listIndent",tt,le),U=!0}else Pe=null,xe=le.getAttribute("listIndent")+1;le=le.nextSibling}}function re(le){let xe=[],Pe=null;for(;le&&le.is("element","listItem");){const Ge=le.getAttribute("listIndent");if(Pe&&Pe.getAttribute("listIndent")>Ge&&(xe=xe.slice(0,Ge+1)),Ge!=0)if(xe[Ge]){const tt=xe[Ge];le.getAttribute("listType")!=tt&&(D.setAttribute("listType",tt,le),U=!0)}else xe[Ge]=le.getAttribute("listType");Pe=le,le=le.nextSibling}}}(t.model,w)),a.mapper.registerViewToModelLength("li",BI),s.mapper.registerViewToModelLength("li",BI),a.mapper.on("modelToViewPosition",UB(a.view)),a.mapper.on("viewToModelPosition",(d=t.model,(w,k)=>{const D=k.viewPosition,R=D.parent,M=k.mapper;if(R.name=="ul"||R.name=="ol"){if(D.isAtEnd){const U=M.toModelElement(D.nodeBefore),W=M.getModelLength(D.nodeBefore);k.modelPosition=d.createPositionBefore(U).getShiftedBy(W)}else{const U=M.toModelElement(D.nodeAfter);k.modelPosition=d.createPositionBefore(U)}w.stop()}else if(R.name=="li"&&D.nodeBefore&&(D.nodeBefore.name=="ul"||D.nodeBefore.name=="ol")){const U=M.toModelElement(R);let W=1,Z=D.nodeBefore;for(;Z&&bv(Z);)W+=M.getModelLength(Z),Z=Z.previousSibling;k.modelPosition=d.createPositionBefore(U).getShiftedBy(W),w.stop()}})),s.mapper.on("modelToViewPosition",UB(a.view)),t.conversion.for("editingDowncast").add(w=>{w.on("insert",FB,{priority:"high"}),w.on("insert:listItem",OB(t.model)),w.on("attribute:listType:listItem",sle,{priority:"high"}),w.on("attribute:listType:listItem",ole,{priority:"low"}),w.on("attribute:listIndent:listItem",function(k){return(D,R,M)=>{if(!M.consumable.consume(R.item,"attribute:listIndent"))return;const U=M.mapper.toViewElement(R.item),W=M.writer;W.breakContainer(W.createPositionBefore(U)),W.breakContainer(W.createPositionAfter(U));const Z=U.parent,re=Z.previousSibling,le=W.createRangeOn(Z);W.remove(le),re&&re.nextSibling&&$l(W,re,re.nextSibling),BB(R.attributeOldValue+1,R.range.start,le.start,U,M,k),IB(R.item,U,M,k);for(const xe of R.item.getChildren())M.consumable.consume(xe,"insert")}}(t.model)),w.on("remove:listItem",function(k){return(D,R,M)=>{const U=M.mapper.toViewPosition(R.position).getLastMatchingPosition(Pe=>!Pe.item.is("element","li")).nodeAfter,W=M.writer;W.breakContainer(W.createPositionBefore(U)),W.breakContainer(W.createPositionAfter(U));const Z=U.parent,re=Z.previousSibling,le=W.createRangeOn(Z),xe=W.remove(le);re&&re.nextSibling&&$l(W,re,re.nextSibling),BB(M.mapper.toModelElement(U).getAttribute("listIndent")+1,R.position,le.start,U,M,k);for(const Pe of W.createRangeIn(xe).getItems())M.mapper.unbindViewElement(Pe);D.stop()}}(t.model)),w.on("remove",ale,{priority:"low"})}),t.conversion.for("dataDowncast").add(w=>{w.on("insert",FB,{priority:"high"}),w.on("insert:listItem",OB(t.model))}),t.conversion.for("upcast").add(w=>{w.on("element:ul",LB,{priority:"high"}),w.on("element:ol",LB,{priority:"high"}),w.on("element:li",cle,{priority:"high"}),w.on("element:li",lle)}),t.model.on("insertContent",ule,{priority:"high"}),t.commands.add("numberedList",new CB(t,"numbered")),t.commands.add("bulletedList",new CB(t,"bulleted")),t.commands.add("indentList",new PB(t,"forward")),t.commands.add("outdentList",new PB(t,"backward"));const p=a.view.document;this.listenTo(p,"enter",(w,k)=>{const D=this.editor.model.document,R=D.selection.getLastPosition().parent;D.selection.isCollapsed&&R.name=="listItem"&&R.isEmpty&&(this.editor.execute("outdentList"),k.preventDefault(),w.stop())},{context:"li"}),this.listenTo(p,"delete",(w,k)=>{if(k.direction!=="backward")return;const D=this.editor.model.document.selection;if(!D.isCollapsed)return;const R=D.getFirstPosition();if(!R.isAtStart)return;const M=R.parent;M.name==="listItem"&&(M.previousSibling&&M.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),k.preventDefault(),w.stop()))},{context:"li"}),this.listenTo(t.editing.view.document,"tab",(w,k)=>{const D=k.shiftKey?"outdentList":"indentList";this.editor.commands.get(D).isEnabled&&(t.execute(D),k.stopPropagation(),k.preventDefault(),w.stop())},{context:"li"})}afterInit(){const t=this.editor.commands,s=t.get("indent"),a=t.get("outdent");s&&s.registerChildCommand(t.get("indentList")),a&&a.registerChildCommand(t.get("outdentList"))}}function BI(f){let t=1;for(const s of f.getChildren())if(s.name=="ul"||s.name=="ol")for(const a of s.getChildren())t+=BI(a);return t}class fle extends st{static get pluginName(){return"ListUI"}init(){const t=this.editor.t;MB(this.editor,"numberedList",t("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),MB(this.editor,"bulletedList",t("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}function zB(f,t){const s=(a,d,p)=>{if(!p.consumable.consume(d.item,a.name))return;const w=d.attributeNewValue,k=p.writer,D=p.mapper.toViewElement(d.item),R=[...D.getChildren()].find(U=>U.getCustomProperty("media-content"));k.remove(R);const M=f.getMediaViewElement(k,w,t);k.insert(k.createPositionAt(D,0),M)};return a=>{a.on("attribute:url:media",s)}}function VB(f,t,s,a){return f.createContainerElement("figure",{class:"media"},[t.getMediaViewElement(f,s,a),f.createSlot()])}function WB(f){const t=f.getSelectedElement();return t&&t.is("element","media")?t:null}function $B(f,t,s,a){f.change(d=>{const p=d.createElement("media",{url:t});f.insertObject(p,s,null,{setSelection:"on",findOptimalPosition:a?"auto":void 0})})}class ple extends pn{refresh(){const t=this.editor.model,s=t.document.selection,a=WB(s);this.value=a?a.getAttribute("url"):void 0,this.isEnabled=function(d){const p=d.getSelectedElement();return!!p&&p.name==="media"}(s)||function(d,p){let k=Q7(d,p).start.parent;return k.isEmpty&&!p.schema.isLimit(k)&&(k=k.parent),p.schema.checkChild(k,"media")}(s,t)}execute(t){const s=this.editor.model,a=s.document.selection,d=WB(a);d?s.change(p=>{p.setAttribute("url",t,d)}):$B(s,t,a,!0)}}class mle{constructor(t,s){const a=s.providers,d=s.extraProviders||[],p=new Set(s.removeProviders),w=a.concat(d).filter(k=>{const D=k.name;return D?!p.has(D):(Y("media-embed-no-provider-name",{provider:k}),!1)});this.locale=t,this.providerDefinitions=w}hasMedia(t){return!!this._getMedia(t)}getMediaViewElement(t,s,a){return this._getMedia(s).getViewElement(t,a)}_getMedia(t){if(!t)return new qB(this.locale);t=t.trim();for(const s of this.providerDefinitions){const a=s.html,d=$n(s.url);for(const p of d){const w=this._getUrlMatches(t,p);if(w)return new qB(this.locale,t,w,a)}}return null}_getUrlMatches(t,s){let a=t.match(s);if(a)return a;let d=t.replace(/^https?:\/\//,"");return a=d.match(s),a||(d=d.replace(/^www\./,""),a=d.match(s),a||null)}}class qB{constructor(t,s,a,d){this.url=this._getValidUrl(s),this._locale=t,this._match=a,this._previewRenderer=d}getViewElement(t,s){const a={};let d;if(s.renderForEditingView||s.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(a["data-oembed-url"]=this.url),s.renderForEditingView&&(a.class="ck-media__wrapper");const p=this._getPreviewHtml(s);d=t.createRawElement("div",a,(w,k)=>{k.setContentOf(w,p)})}else this.url&&(a.url=this.url),d=t.createEmptyElement(s.elementName,a);return t.setCustomProperty("media-content",!0,d),d}_getPreviewHtml(t){return this._previewRenderer?this._previewRenderer(this._match):this.url&&t.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const t=new ra,s=this._locale.t;return t.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',t.viewBox="0 0 64 42",new Tr({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[t]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":s("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(t){return t?t.match(/^https?/)?t:"https://"+t:null}}var EC=o(1922),ak={attributes:{"data-cke":!0}};ak.setAttributes=jt(),ak.insert=Vt().bind(null,"head"),ak.domAPI=Bt(),ak.insertStyleElement=zt(),Ut()(EC.Z,ak),EC.Z&&EC.Z.locals&&EC.Z.locals;class SC extends st{static get pluginName(){return"MediaEmbedEditing"}constructor(t){super(t),t.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:s=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${s[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:s=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${s[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:s=>{const a=s[1],d=s[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${a}${d?`?start=${d}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:s=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${s[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new mle(t.locale,t.config.get("mediaEmbed"))}init(){const t=this.editor,s=t.model.schema,a=t.t,d=t.conversion,p=t.config.get("mediaEmbed.previewsInData"),w=t.config.get("mediaEmbed.elementName"),k=this.registry;t.commands.add("mediaEmbed",new ple(t)),s.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),d.for("dataDowncast").elementToStructure({model:"media",view:(D,{writer:R})=>{const M=D.getAttribute("url");return VB(R,k,M,{elementName:w,renderMediaPreview:!!M&&p})}}),d.for("dataDowncast").add(zB(k,{elementName:w,renderMediaPreview:p})),d.for("editingDowncast").elementToStructure({model:"media",view:(D,{writer:R})=>{const M=D.getAttribute("url");return function(U,W,Z){return W.setCustomProperty("media",!0,U),pI(U,W,{label:Z})}(VB(R,k,M,{elementName:w,renderForEditingView:!0}),R,a("media widget"))}}),d.for("editingDowncast").add(zB(k,{elementName:w,renderForEditingView:!0})),d.for("upcast").elementToElement({view:D=>["oembed",w].includes(D.name)&&D.getAttribute("url")?{name:!0}:null,model:(D,{writer:R})=>{const M=D.getAttribute("url");return k.hasMedia(M)?R.createElement("media",{url:M}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(D,{writer:R})=>{const M=D.getAttribute("data-oembed-url");return k.hasMedia(M)?R.createElement("media",{url:M}):null}}).add(D=>{D.on("element:figure",(R,M,U)=>{if(!U.consumable.consume(M.viewItem,{name:!0,classes:"media"}))return;const{modelRange:W,modelCursor:Z}=U.convertChildren(M.viewItem,M.modelCursor);M.modelRange=W,M.modelCursor=Z,ki(W.getItems())||U.consumable.revert(M.viewItem,{name:!0,classes:"media"})})})}}const gle=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class ble extends st{static get requires(){return[f9,gh,y9]}static get pluginName(){return"AutoMediaEmbed"}constructor(t){super(t),this._timeoutId=null,this._positionToInsert=null}init(){const t=this.editor,s=t.model.document,a=t.plugins.get("ClipboardPipeline");this.listenTo(a,"inputTransformation",()=>{const d=s.selection.getFirstRange(),p=Cs.fromPosition(d.start);p.stickiness="toPrevious";const w=Cs.fromPosition(d.end);w.stickiness="toNext",s.once("change:data",()=>{this._embedMediaBetweenPositions(p,w),p.detach(),w.detach()},{priority:"high"})}),t.commands.get("undo").on("execute",()=>{this._timeoutId&&(he.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(t,s){const a=this.editor,d=a.plugins.get(SC).registry,p=new qa(t,s),w=p.getWalker({ignoreElementEnd:!0});let k="";for(const D of w)D.item.is("$textProxy")&&(k+=D.item.data);if(k=k.trim(),!k.match(gle)||!d.hasMedia(k))return void p.detach();a.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=Cs.fromPosition(t),this._timeoutId=he.window.setTimeout(()=>{a.model.change(D=>{this._timeoutId=null,D.remove(p),p.detach();let R=null;this._positionToInsert.root.rootName!=="$graveyard"&&(R=this._positionToInsert),$B(a.model,k,R,!1),this._positionToInsert.detach(),this._positionToInsert=null}),a.plugins.get(gh).requestUndoOnBackspace()},100)):p.detach()}}var AC=o(7138),lk={attributes:{"data-cke":!0}};lk.setAttributes=jt(),lk.insert=Vt().bind(null,"head"),lk.domAPI=Bt(),lk.insertStyleElement=zt(),Ut()(AC.Z,lk),AC.Z&&AC.Z.locals&&AC.Z.locals;class yle extends dn{constructor(t,s){super(s);const a=s.t;this.focusTracker=new lr,this.keystrokes=new Fa,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(a("Save"),ri.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",d=>!!d),this.cancelButtonView=this._createButton(a("Cancel"),ri.cancel,"ck-button-cancel","cancel"),this._focusables=new na,this._focusCycler=new Nc({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=t,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),h({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(s=>{this._focusables.add(s),this.focusTracker.add(s.element)}),this.keystrokes.listenTo(this.element);const t=s=>s.stopPropagation();this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(t){this.urlInputView.fieldView.element.value=t.trim()}isValid(){this.resetFormStatus();for(const t of this._validators){const s=t(this);if(s)return this.urlInputView.errorText=s,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const t=this.locale.t,s=new Pu(this.locale,wT),a=s.fieldView;return this._urlInputViewInfoDefault=t("Paste the media URL in the input."),this._urlInputViewInfoTip=t("Tip: Paste the URL into the content to embed faster."),s.label=t("Media URL"),s.infoText=this._urlInputViewInfoDefault,a.on("input",()=>{s.infoText=a.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=a.element.value.trim()}),s}_createButton(t,s,a,d){const p=new qn(this.locale);return p.set({label:t,icon:s,tooltip:!0}),p.extendTemplate({attributes:{class:a}}),d&&p.delegate("execute").to(this,d),p}}class vle extends st{static get requires(){return[SC]}static get pluginName(){return"MediaEmbedUI"}init(){const t=this.editor,s=t.commands.get("mediaEmbed");t.ui.componentFactory.add("mediaEmbed",a=>{const d=Xu(a);return this._setUpDropdown(d,s),d})}_setUpDropdown(t,s){const a=this.editor,d=a.t,p=t.buttonView,w=a.plugins.get(SC).registry;t.once("change:isOpen",()=>{const k=new(u(yle))(function(D,R){return[M=>{if(!M.url.length)return D("The URL must not be empty.")},M=>{if(!R.hasMedia(M.url))return D("This media URL is not supported.")}]}(a.t,w),a.locale);t.panelView.children.add(k),p.on("open",()=>{k.disableCssTransitions(),k.url=s.value||"",k.urlInputView.fieldView.select(),k.enableCssTransitions()},{priority:"low"}),t.on("submit",()=>{k.isValid()&&(a.execute("mediaEmbed",k.url),a.editing.view.focus())}),t.on("change:isOpen",()=>k.resetFormStatus()),t.on("cancel",()=>{a.editing.view.focus()}),k.delegate("submit","cancel").to(t),k.urlInputView.fieldView.bind("value").to(s,"value"),k.urlInputView.bind("isEnabled").to(s,"isEnabled")}),t.bind("isEnabled").to(s),p.set({label:d("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0})}}var TC=o(8705),ck={attributes:{"data-cke":!0}};ck.setAttributes=jt(),ck.insert=Vt().bind(null,"head"),ck.domAPI=Bt(),ck.insertStyleElement=zt(),Ut()(TC.Z,ck),TC.Z&&TC.Z.locals&&TC.Z.locals;function ur(f,t,s,a,d=1){t!=null&&d!=null&&t>d?a.setAttribute(f,t,s):a.removeAttribute(f,s)}function Zg(f,t,s={}){const a=f.createElement("tableCell",s);return f.insertElement("paragraph",a),f.insert(a,t),a}function zI(f,t){const s=t.parent.parent,a=parseInt(s.getAttribute("headingColumns")||"0"),{column:d}=f.getCellLocation(t);return!!a&&d<a}function wle(){return f=>{f.on("element:table",(t,s,a)=>{const d=s.viewItem;if(!a.consumable.test(d,{name:!0}))return;const{rows:p,headingRows:w,headingColumns:k}=function(M){let U,W=0;const Z=[],re=[];let le;for(const xe of Array.from(M.getChildren())){if(xe.name!=="tbody"&&xe.name!=="thead"&&xe.name!=="tfoot")continue;xe.name!=="thead"||le||(le=xe);const Pe=Array.from(xe.getChildren()).filter(Ge=>Ge.is("element","tr"));for(const Ge of Pe)if(le&&xe===le||xe.name==="tbody"&&Array.from(Ge.getChildren()).length&&Array.from(Ge.getChildren()).every(tt=>tt.is("element","th")))W++,Z.push(Ge);else{re.push(Ge);const tt=xle(Ge);(!U||tt<U)&&(U=tt)}}return{headingRows:W,headingColumns:U||0,rows:[...Z,...re]}}(d),D={};k&&(D.headingColumns=k),w&&(D.headingRows=w);const R=a.writer.createElement("table",D);if(a.safeInsert(R,s.modelCursor)){if(a.consumable.consume(d,{name:!0}),p.forEach(M=>a.convertItem(M,a.writer.createPositionAt(R,"end"))),a.convertChildren(d,a.writer.createPositionAt(R,"end")),R.isEmpty){const M=a.writer.createElement("tableRow");a.writer.insert(M,a.writer.createPositionAt(R,"end")),Zg(a.writer,a.writer.createPositionAt(M,"end"))}a.updateConversionResult(R,s)}})}}function HB(f){return t=>{t.on(`element:${f}`,(s,a,{writer:d})=>{if(!a.modelRange)return;const p=a.modelRange.start.nodeAfter,w=d.createPositionAt(p,0);if(a.viewItem.isEmpty)return void d.insertElement("paragraph",w);const k=Array.from(p.getChildren());if(k.every(D=>D.is("element","$marker"))){const D=d.createElement("paragraph");d.insert(D,d.createPositionAt(p,0));for(const R of k)d.move(d.createRangeOn(R),d.createPositionAt(D,"end"))}},{priority:"low"})}}function xle(f){let t=0,s=0;const a=Array.from(f.getChildren()).filter(d=>d.name==="th"||d.name==="td");for(;s<a.length&&a[s].name==="th";){const d=a[s];t+=parseInt(d.getAttribute("colspan")||"1"),s++}return t}class si{constructor(t,s={}){this._jumpedToStartRow=!1,this._table=t,this._startRow=s.row!==void 0?s.row:s.startRow||0,this._endRow=s.row!==void 0?s.row:s.endRow,this._startColumn=s.column!==void 0?s.column:s.startColumn||0,this._endColumn=s.column!==void 0?s.column:s.endColumn,this._includeAllSlots=!!s.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const t=this._table.getChild(this._rowIndex);if(!t||this._isOverEndRow())return{done:!0,value:void 0};if(!t.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let s=null;const a=this._getSpanned();if(a)this._includeAllSlots&&!this._shouldSkipSlot()&&(s=this._formatOutValue(a.cell,a.row,a.column));else{const d=t.getChild(this._cellIndex);if(!d)return this._advanceToNextRow();const p=parseInt(d.getAttribute("colspan")||"1"),w=parseInt(d.getAttribute("rowspan")||"1");(p>1||w>1)&&this._recordSpans(d,w,p),this._shouldSkipSlot()||(s=this._formatOutValue(d)),this._nextCellAtColumn=this._column+p}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,s||this.next()}skipRow(t){this._skipRows.add(t)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(t,s=this._row,a=this._column){return{done:!1,value:new _le(this,t,s,a)}}_shouldSkipSlot(){const t=this._skipRows.has(this._row),s=this._row<this._startRow,a=this._column<this._startColumn,d=this._endColumn!==void 0&&this._column>this._endColumn;return t||s||a||d}_getSpanned(){const t=this._spannedCells.get(this._row);return t&&t.get(this._column)||null}_recordSpans(t,s,a){const d={cell:t,row:this._row,column:this._column};for(let p=this._row;p<this._row+s;p++)for(let w=this._column;w<this._column+a;w++)p==this._row&&w==this._column||this._markSpannedCell(p,w,d)}_markSpannedCell(t,s,a){this._spannedCells.has(t)||this._spannedCells.set(t,new Map),this._spannedCells.get(t).set(s,a)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const t=this._getRowLength(0);for(let s=this._startRow;!this._jumpedToStartRow;s--)t===this._getRowLength(s)&&(this._row=s,this._rowIndex=s,this._jumpedToStartRow=!0)}_getRowLength(t){return[...this._table.getChild(t).getChildren()].reduce((s,a)=>s+parseInt(a.getAttribute("colspan")||"1"),0)}}class _le{constructor(t,s,a,d){this.cell=s,this.row=t._row,this.column=t._column,this.cellAnchorRow=a,this.cellAnchorColumn=d,this._cellIndex=t._cellIndex,this._rowIndex=t._rowIndex,this._table=t._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function GB(f,t){return(s,{writer:a})=>{const d=s.getAttribute("headingRows")||0,p=a.createContainerElement("table",null,[]),w=a.createContainerElement("figure",{class:"table"},p);d>0&&a.insert(a.createPositionAt(p,"end"),a.createContainerElement("thead",null,a.createSlot(k=>k.is("element","tableRow")&&k.index<d))),d<f.getRows(s)&&a.insert(a.createPositionAt(p,"end"),a.createContainerElement("tbody",null,a.createSlot(k=>k.is("element","tableRow")&&k.index>=d)));for(const{positionOffset:k,filter:D}of t.additionalSlots)a.insert(a.createPositionAt(p,k),a.createSlot(D));return a.insert(a.createPositionAt(p,"after"),a.createSlot(k=>!k.is("element","tableRow")&&!t.additionalSlots.some(({filter:D})=>D(k)))),t.asWidget?function(k,D){return D.setCustomProperty("table",!0,k),pI(k,D,{hasSelectionHandle:!0})}(w,a):w}}function XB(f={}){return(t,{writer:s})=>{const a=t.parent,d=a.parent,p=d.getChildIndex(a),w=new si(d,{row:p}),k=d.getAttribute("headingRows")||0,D=d.getAttribute("headingColumns")||0;let R=null;for(const M of w)if(M.cell==t){const U=M.row<k||M.column<D?"th":"td";R=f.asWidget?J7(s.createEditableElement(U),s):s.createContainerElement(U);break}return R}}function YB(f={}){return(t,{writer:s})=>{if(!t.parent.is("element","tableCell")||!KB(t))return null;if(f.asWidget)return s.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const a=s.createContainerElement("p");return s.setCustomProperty("dataPipeline:transparentRendering",!0,a),a}}}function KB(f){return f.parent.childCount==1&&!!f.getAttributeKeys().next().done}class kle extends pn{refresh(){const t=this.editor.model,s=t.document.selection,a=t.schema;this.isEnabled=function(d,p){const w=d.getFirstPosition().parent,k=w===w.root?w:w.parent;return p.checkChild(k,"table")}(s,a)}execute(t={}){const s=this.editor,a=s.model,d=s.plugins.get("TableUtils"),p=s.config.get("table.defaultHeadings.rows"),w=s.config.get("table.defaultHeadings.columns");t.headingRows===void 0&&p&&(t.headingRows=p),t.headingColumns===void 0&&w&&(t.headingColumns=w),a.change(k=>{const D=d.createTable(k,t);a.insertObject(D,null,null,{findOptimalPosition:"auto"}),k.setSelection(k.createPositionAt(D.getNodeByPath([0,0,0]),0))})}}class ZB extends pn{constructor(t,s={}){super(t),this.order=s.order||"below"}refresh(){const t=this.editor.model.document.selection,s=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(t).length;this.isEnabled=s}execute(){const t=this.editor,s=t.model.document.selection,a=t.plugins.get("TableUtils"),d=this.order==="above",p=a.getSelectionAffectedTableCells(s),w=a.getRowIndexes(p),k=d?w.first:w.last,D=p[0].findAncestor("table");a.insertRows(D,{at:d?k:k+1,copyStructureFromAbove:!d})}}class JB extends pn{constructor(t,s={}){super(t),this.order=s.order||"right"}refresh(){const t=this.editor.model.document.selection,s=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(t).length;this.isEnabled=s}execute(){const t=this.editor,s=t.model.document.selection,a=t.plugins.get("TableUtils"),d=this.order==="left",p=a.getSelectionAffectedTableCells(s),w=a.getColumnIndexes(p),k=d?w.first:w.last,D=p[0].findAncestor("table");a.insertColumns(D,{columns:1,at:d?k:k+1})}}class QB extends pn{constructor(t,s={}){super(t),this.direction=s.direction||"horizontally"}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length===1}execute(){const t=this.editor.plugins.get("TableUtils"),s=t.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?t.splitCellHorizontally(s,2):t.splitCellVertically(s,2)}}function ez(f,t,s){const{startRow:a,startColumn:d,endRow:p,endColumn:w}=t,k=s.createElement("table"),D=p-a+1;for(let M=0;M<D;M++)s.insertElement("tableRow",k,"end");const R=[...new si(f,{startRow:a,endRow:p,startColumn:d,endColumn:w,includeAllSlots:!0})];for(const{row:M,column:U,cell:W,isAnchor:Z,cellAnchorRow:re,cellAnchorColumn:le}of R){const xe=M-a,Pe=k.getChild(xe);if(Z){const Ge=s.cloneElement(W);s.append(Ge,Pe),sz(Ge,M,U,p,w,s)}else(re<a||le<d)&&Zg(s,s.createPositionAt(Pe,"end"))}return function(M,U,W,Z,re){const le=parseInt(U.getAttribute("headingRows")||"0");le>0&&ur("headingRows",le-W,M,re,0);const xe=parseInt(U.getAttribute("headingColumns")||"0");xe>0&&ur("headingColumns",xe-Z,M,re,0)}(k,f,a,d,s),k}function tz(f,t,s=0){const a=[],d=new si(f,{startRow:s,endRow:t-1});for(const p of d){const{row:w,cellHeight:k}=p;w<t&&t<=w+k-1&&a.push(p)}return a}function nz(f,t,s){const a=f.parent,d=a.parent,p=a.index,w=t-p,k={},D=parseInt(f.getAttribute("rowspan"))-w;D>1&&(k.rowspan=D);const R=parseInt(f.getAttribute("colspan")||"1");R>1&&(k.colspan=R);const M=p+w,U=[...new si(d,{startRow:p,endRow:M,includeAllSlots:!0})];let W,Z=null;for(const re of U){const{row:le,column:xe,cell:Pe}=re;Pe===f&&W===void 0&&(W=xe),W!==void 0&&W===xe&&le===M&&(Z=Zg(s,re.getPositionBefore(),k))}return ur("rowspan",w,f,s),Z}function iz(f,t){const s=[],a=new si(f);for(const d of a){const{column:p,cellWidth:w}=d;p<t&&t<=p+w-1&&s.push(d)}return s}function rz(f,t,s,a){const d=s-t,p={},w=parseInt(f.getAttribute("colspan"))-d;w>1&&(p.colspan=w);const k=parseInt(f.getAttribute("rowspan")||"1");k>1&&(p.rowspan=k);const D=Zg(a,a.createPositionAfter(f),p);return ur("colspan",d,f,a),D}function sz(f,t,s,a,d,p){const w=parseInt(f.getAttribute("colspan")||"1"),k=parseInt(f.getAttribute("rowspan")||"1");s+w-1>d&&ur("colspan",d-s+1,f,p,1),t+k-1>a&&ur("rowspan",a-t+1,f,p,1)}function VI(f,t){const s=t.getColumns(f),a=new Array(s).fill(0);for(const{column:p}of new si(f))a[p]++;const d=a.reduce((p,w,k)=>w?p:[...p,k],[]);if(d.length>0){const p=d[d.length-1];return t.removeColumns(f,{at:p}),!0}return!1}function WI(f,t){const s=[],a=t.getRows(f);for(let d=0;d<a;d++)f.getChild(d).isEmpty&&s.push(d);if(s.length>0){const d=s[s.length-1];return t.removeRows(f,{at:d}),!0}return!1}function $I(f,t){VI(f,t)||WI(f,t)}function oz(f,t){const s=Array.from(new si(f,{startColumn:t.firstColumn,endColumn:t.lastColumn,row:t.lastRow}));if(s.every(({cellHeight:d})=>d===1))return t.lastRow;const a=s[0].cellHeight-1;return t.lastRow+a}function az(f,t){const s=Array.from(new si(f,{startRow:t.firstRow,endRow:t.lastRow,column:t.lastColumn}));if(s.every(({cellWidth:d})=>d===1))return t.lastColumn;const a=s[0].cellWidth-1;return t.lastColumn+a}class CC extends pn{constructor(t,s){super(t),this.direction=s.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const t=this._getMergeableCell();this.value=t,this.isEnabled=!!t}execute(){const t=this.editor.model,s=t.document,a=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(s.selection)[0],d=this.value,p=this.direction;t.change(w=>{const k=p=="right"||p=="down",D=k?a:d,R=k?d:a,M=R.parent;(function(le,xe,Pe){lz(le)||(lz(xe)&&Pe.remove(Pe.createRangeIn(xe)),Pe.move(Pe.createRangeIn(le),Pe.createPositionAt(xe,"end"))),Pe.remove(le)})(R,D,w);const U=this.isHorizontal?"colspan":"rowspan",W=parseInt(a.getAttribute(U)||"1"),Z=parseInt(d.getAttribute(U)||"1");w.setAttribute(U,W+Z,D),w.setSelection(w.createRangeIn(D));const re=this.editor.plugins.get("TableUtils");$I(M.findAncestor("table"),re)})}_getMergeableCell(){const t=this.editor.model.document,s=this.editor.plugins.get("TableUtils"),a=s.getTableCellsContainingSelection(t.selection)[0];if(!a)return;const d=this.isHorizontal?function(k,D,R){const M=k.parent,U=M.parent,W=D=="right"?k.nextSibling:k.previousSibling,Z=(U.getAttribute("headingColumns")||0)>0;if(!W)return;const re=D=="right"?k:W,le=D=="right"?W:k,{column:xe}=R.getCellLocation(re),{column:Pe}=R.getCellLocation(le),Ge=parseInt(re.getAttribute("colspan")||"1"),tt=zI(R,re),Nt=zI(R,le);if(!(Z&&tt!=Nt))return xe+Ge===Pe?W:void 0}(a,this.direction,s):function(k,D,R){const M=k.parent,U=M.parent,W=U.getChildIndex(M);if(D=="down"&&W===R.getRows(U)-1||D=="up"&&W===0)return null;const Z=parseInt(k.getAttribute("rowspan")||"1"),re=U.getAttribute("headingRows")||0,le=D=="down"&&W+Z===re,xe=D=="up"&&W===re;if(re&&(le||xe))return null;const Pe=parseInt(k.getAttribute("rowspan")||"1"),Ge=D=="down"?W+Pe:W,tt=[...new si(U,{endRow:Ge})],Nt=tt.find(Xn=>Xn.cell===k),ln=Nt.column,Gn=tt.find(({row:Xn,cellHeight:os,column:jo})=>jo===ln&&(D=="down"?Xn===Ge:Ge===Xn+os));return Gn&&Gn.cell?Gn.cell:null}(a,this.direction,s);if(!d)return;const p=this.isHorizontal?"rowspan":"colspan",w=parseInt(a.getAttribute(p)||"1");return parseInt(d.getAttribute(p)||"1")===w?d:void 0}}function lz(f){const t=f.getChild(0);return f.childCount==1&&t.is("element","paragraph")&&t.isEmpty}class Ele extends pn{refresh(){const t=this.editor.plugins.get("TableUtils"),s=t.getSelectionAffectedTableCells(this.editor.model.document.selection),a=s[0];if(a){const d=a.findAncestor("table"),p=t.getRows(d)-1,w=t.getRowIndexes(s),k=w.first===0&&w.last===p;this.isEnabled=!k}else this.isEnabled=!1}execute(){const t=this.editor.model,s=this.editor.plugins.get("TableUtils"),a=s.getSelectionAffectedTableCells(t.document.selection),d=s.getRowIndexes(a),p=a[0],w=p.findAncestor("table"),k=s.getCellLocation(p).column;t.change(D=>{const R=d.last-d.first+1;s.removeRows(w,{at:d.first,rows:R});const M=function(U,W,Z,re){const le=U.getChild(Math.min(W,re-1));let xe=le.getChild(0),Pe=0;for(const Ge of le.getChildren()){if(Pe>Z)return xe;xe=Ge,Pe+=parseInt(Ge.getAttribute("colspan")||"1")}return xe}(w,d.first,k,s.getRows(w));D.setSelection(D.createPositionAt(M,0))})}}class Sle extends pn{refresh(){const t=this.editor.plugins.get("TableUtils"),s=t.getSelectionAffectedTableCells(this.editor.model.document.selection),a=s[0];if(a){const d=a.findAncestor("table"),p=t.getColumns(d),{first:w,last:k}=t.getColumnIndexes(s);this.isEnabled=k-w<p-1}else this.isEnabled=!1}execute(){const t=this.editor.plugins.get("TableUtils"),[s,a]=function(D,R){const M=R.getSelectionAffectedTableCells(D),U=M[0],W=M.pop(),Z=[U,W];return U.isBefore(W)?Z:Z.reverse()}(this.editor.model.document.selection,t),d=s.parent.parent,p=[...new si(d)],w={first:p.find(D=>D.cell===s).column,last:p.find(D=>D.cell===a).column},k=function(D,R,M,U){return parseInt(M.getAttribute("colspan")||"1")>1?M:R.previousSibling||M.nextSibling?M.nextSibling||R.previousSibling:U.first?D.reverse().find(({column:Z})=>Z<U.first).cell:D.reverse().find(({column:Z})=>Z>U.last).cell}(p,s,a,w);this.editor.model.change(D=>{const R=w.last-w.first+1;t.removeColumns(d,{at:w.first,columns:R}),D.setSelection(D.createPositionAt(k,0))})}}class Ale extends pn{refresh(){const t=this.editor.plugins.get("TableUtils"),s=this.editor.model,a=t.getSelectionAffectedTableCells(s.document.selection),d=a.length>0;this.isEnabled=d,this.value=d&&a.every(p=>this._isInHeading(p,p.parent.parent))}execute(t={}){if(t.forceValue===this.value)return;const s=this.editor.plugins.get("TableUtils"),a=this.editor.model,d=s.getSelectionAffectedTableCells(a.document.selection),p=d[0].findAncestor("table"),{first:w,last:k}=s.getRowIndexes(d),D=this.value?w:k+1,R=p.getAttribute("headingRows")||0;a.change(M=>{if(D){const U=tz(p,D,D>R?R:0);for(const{cell:W}of U)nz(W,D,M)}ur("headingRows",D,p,M,0)})}_isInHeading(t,s){const a=parseInt(s.getAttribute("headingRows")||"0");return!!a&&t.parent.index<a}}class Tle extends pn{refresh(){const t=this.editor.model,s=this.editor.plugins.get("TableUtils"),a=s.getSelectionAffectedTableCells(t.document.selection),d=a.length>0;this.isEnabled=d,this.value=d&&a.every(p=>zI(s,p))}execute(t={}){if(t.forceValue===this.value)return;const s=this.editor.plugins.get("TableUtils"),a=this.editor.model,d=s.getSelectionAffectedTableCells(a.document.selection),p=d[0].findAncestor("table"),{first:w,last:k}=s.getColumnIndexes(d),D=this.value?w:k+1;a.change(R=>{if(D){const M=iz(p,D);for(const{cell:U,column:W}of M)rz(U,W,D,R)}ur("headingColumns",D,p,R,0)})}}function Cle(f){if(f.is("element","tableColumnGroup"))return f;const t=f.getChildren();return Array.from(t).find(s=>s.is("element","tableColumnGroup"))}function Dle(f){const t=Cle(f);return t?Array.from(t.getChildren()):[]}class Qs extends st{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(t){const s=t.parent,a=s.parent,d=a.getChildIndex(s),p=new si(a,{row:d});for(const{cell:w,row:k,column:D}of p)if(w===t)return{row:k,column:D}}createTable(t,s){const a=t.createElement("table"),d=s.rows||2,p=s.columns||2;return qI(t,a,0,d,p),s.headingRows&&ur("headingRows",Math.min(s.headingRows,d),a,t,0),s.headingColumns&&ur("headingColumns",Math.min(s.headingColumns,p),a,t,0),a}insertRows(t,s={}){const a=this.editor.model,d=s.at||0,p=s.rows||1,w=s.copyStructureFromAbove!==void 0,k=s.copyStructureFromAbove?d-1:d,D=this.getRows(t),R=this.getColumns(t);if(d>D)throw new B("tableutils-insertrows-insert-out-of-range",this,{options:s});a.change(M=>{const U=t.getAttribute("headingRows")||0;if(U>d&&ur("headingRows",U+p,t,M,0),!w&&(d===0||d===D))return void qI(M,t,d,p,R);const W=w?Math.max(d,k):d,Z=new si(t,{endRow:W}),re=new Array(R).fill(1);for(const{row:le,column:xe,cellHeight:Pe,cellWidth:Ge,cell:tt}of Z){const Nt=le+Pe-1,ln=le<=k&&k<=Nt;le<d&&d<=Nt?(M.setAttribute("rowspan",Pe+p,tt),re[xe]=-Ge):w&&ln&&(re[xe]=Ge)}for(let le=0;le<p;le++){const xe=M.createElement("tableRow");M.insert(xe,t,d);for(let Pe=0;Pe<re.length;Pe++){const Ge=re[Pe],tt=M.createPositionAt(xe,"end");Ge>0&&Zg(M,tt,Ge>1?{colspan:Ge}:void 0),Pe+=Math.abs(Ge)-1}}})}insertColumns(t,s={}){const a=this.editor.model,d=s.at||0,p=s.columns||1;a.change(w=>{const k=t.getAttribute("headingColumns");d<k&&w.setAttribute("headingColumns",k+p,t);const D=this.getColumns(t);if(d===0||D===d){for(const M of t.getChildren())M.is("element","tableRow")&&yv(p,w,w.createPositionAt(M,d?"end":0));return}const R=new si(t,{column:d,includeAllSlots:!0});for(const M of R){const{row:U,cell:W,cellAnchorColumn:Z,cellAnchorRow:re,cellWidth:le,cellHeight:xe}=M;if(Z<d){w.setAttribute("colspan",le+p,W);const Pe=re+xe-1;for(let Ge=U;Ge<=Pe;Ge++)R.skipRow(Ge)}else yv(p,w,M.getPositionBefore())}})}removeRows(t,s){const a=this.editor.model,d=s.rows||1,p=this.getRows(t),w=s.at,k=w+d-1;if(k>p-1)throw new B("tableutils-removerows-row-index-out-of-range",this,{table:t,options:s});a.change(D=>{const R={first:w,last:k},{cellsToMove:M,cellsToTrim:U}=function(W,{first:Z,last:re}){const le=new Map,xe=[];for(const{row:Pe,column:Ge,cellHeight:tt,cell:Nt}of new si(W,{endRow:re})){const ln=Pe+tt-1;if(Pe>=Z&&Pe<=re&&ln>re){const Gn=tt-(re-Pe+1);le.set(Ge,{cell:Nt,rowspan:Gn})}if(Pe<Z&&ln>=Z){let Gn;Gn=ln>=re?re-Z+1:ln-Z+1,xe.push({cell:Nt,rowspan:tt-Gn})}}return{cellsToMove:le,cellsToTrim:xe}}(t,R);M.size&&function(W,Z,re,le){const xe=new si(W,{includeAllSlots:!0,row:Z}),Pe=[...xe],Ge=W.getChild(Z);let tt;for(const{column:Nt,cell:ln,isAnchor:Gn}of Pe)if(re.has(Nt)){const{cell:Xn,rowspan:os}=re.get(Nt),jo=tt?le.createPositionAfter(tt):le.createPositionAt(Ge,0);le.move(le.createRangeOn(Xn),jo),ur("rowspan",os,Xn,le),tt=Xn}else Gn&&(tt=ln)}(t,k+1,M,D);for(let W=k;W>=w;W--)D.remove(t.getChild(W));for(const{rowspan:W,cell:Z}of U)ur("rowspan",W,Z,D);(function(W,{first:Z,last:re},le){const xe=W.getAttribute("headingRows")||0;Z<xe&&ur("headingRows",re<xe?xe-(re-Z+1):Z,W,le,0)})(t,R,D),VI(t,this)||WI(t,this)})}removeColumns(t,s){const a=this.editor.model,d=s.at,p=s.columns||1,w=s.at+p-1;a.change(k=>{(function(R,M,U){const W=R.getAttribute("headingColumns")||0;if(W&&M.first<W){const Z=Math.min(W-1,M.last)-M.first+1;U.setAttribute("headingColumns",W-Z,R)}})(t,{first:d,last:w},k);const D=Dle(t);for(let R=w;R>=d;R--){for(const{cell:M,column:U,cellWidth:W}of[...new si(t)])U<=R&&W>1&&U+W>R?ur("colspan",W-1,M,k):U===R&&k.remove(M);if(D[R]){const M=R===0?D[1]:D[R-1],U=parseFloat(D[R].getAttribute("columnWidth")),W=parseFloat(M.getAttribute("columnWidth"));k.remove(D[R]),k.setAttribute("columnWidth",U+W+"%",M)}}WI(t,this)||VI(t,this)})}splitCellVertically(t,s=2){const a=this.editor.model,d=t.parent.parent,p=parseInt(t.getAttribute("rowspan")||"1"),w=parseInt(t.getAttribute("colspan")||"1");a.change(k=>{if(w>1){const{newCellsSpan:D,updatedSpan:R}=cz(w,s);ur("colspan",R,t,k);const M={};D>1&&(M.colspan=D),p>1&&(M.rowspan=p),yv(w>s?s-1:w-1,k,k.createPositionAfter(t),M)}if(w<s){const D=s-w,R=[...new si(d)],{column:M}=R.find(({cell:re})=>re===t),U=R.filter(({cell:re,cellWidth:le,column:xe})=>re!==t&&xe===M||xe<M&&xe+le>M);for(const{cell:re,cellWidth:le}of U)k.setAttribute("colspan",le+D,re);const W={};p>1&&(W.rowspan=p),yv(D,k,k.createPositionAfter(t),W);const Z=d.getAttribute("headingColumns")||0;Z>M&&ur("headingColumns",Z+D,d,k)}})}splitCellHorizontally(t,s=2){const a=this.editor.model,d=t.parent,p=d.parent,w=p.getChildIndex(d),k=parseInt(t.getAttribute("rowspan")||"1"),D=parseInt(t.getAttribute("colspan")||"1");a.change(R=>{if(k>1){const M=[...new si(p,{startRow:w,endRow:w+k-1,includeAllSlots:!0})],{newCellsSpan:U,updatedSpan:W}=cz(k,s);ur("rowspan",W,t,R);const{column:Z}=M.find(({cell:le})=>le===t),re={};U>1&&(re.rowspan=U),D>1&&(re.colspan=D);for(const le of M){const{column:xe,row:Pe}=le;Pe>=w+W&&xe===Z&&(Pe+w+W)%U==0&&yv(1,R,le.getPositionBefore(),re)}}if(k<s){const M=s-k,U=[...new si(p,{startRow:0,endRow:w})];for(const{cell:re,cellHeight:le,row:xe}of U)if(re!==t&&xe+le>w){const Pe=le+M;R.setAttribute("rowspan",Pe,re)}const W={};D>1&&(W.colspan=D),qI(R,p,w+1,M,1,W);const Z=p.getAttribute("headingRows")||0;Z>w&&ur("headingRows",Z+M,p,R)}})}getColumns(t){return[...t.getChild(0).getChildren()].reduce((s,a)=>s+parseInt(a.getAttribute("colspan")||"1"),0)}getRows(t){return Array.from(t.getChildren()).reduce((s,a)=>a.is("element","tableRow")?s+1:s,0)}createTableWalker(t,s={}){return new si(t,s)}getSelectedTableCells(t){const s=[];for(const a of this.sortRanges(t.getRanges())){const d=a.getContainedElement();d&&d.is("element","tableCell")&&s.push(d)}return s}getTableCellsContainingSelection(t){const s=[];for(const a of t.getRanges()){const d=a.start.findAncestor("tableCell");d&&s.push(d)}return s}getSelectionAffectedTableCells(t){const s=this.getSelectedTableCells(t);return s.length?s:this.getTableCellsContainingSelection(t)}getRowIndexes(t){const s=t.map(a=>a.parent.index);return this._getFirstLastIndexesObject(s)}getColumnIndexes(t){const s=t[0].findAncestor("table"),a=[...new si(s)].filter(d=>t.includes(d.cell)).map(d=>d.column);return this._getFirstLastIndexesObject(a)}isSelectionRectangular(t){if(t.length<2||!this._areCellInTheSameTableSection(t))return!1;const s=new Set,a=new Set;let d=0;for(const w of t){const{row:k,column:D}=this.getCellLocation(w),R=parseInt(w.getAttribute("rowspan"))||1,M=parseInt(w.getAttribute("colspan"))||1;s.add(k),a.add(D),R>1&&s.add(k+R-1),M>1&&a.add(D+M-1),d+=R*M}return function(w,k){const D=Array.from(w.values()),R=Array.from(k.values()),M=Math.max(...D),U=Math.min(...D),W=Math.max(...R),Z=Math.min(...R);return(M-U+1)*(W-Z+1)}(s,a)==d}sortRanges(t){return Array.from(t).sort(Nle)}_getFirstLastIndexesObject(t){const s=t.sort((a,d)=>a-d);return{first:s[0],last:s[s.length-1]}}_areCellInTheSameTableSection(t){const s=t[0].findAncestor("table"),a=this.getRowIndexes(t),d=parseInt(s.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(a,d))return!1;const p=this.getColumnIndexes(t),w=parseInt(s.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(p,w)}_areIndexesInSameSection({first:t,last:s},a){return t<a==s<a}}function qI(f,t,s,a,d,p={}){for(let w=0;w<a;w++){const k=f.createElement("tableRow");f.insert(k,t,s),yv(d,f,f.createPositionAt(k,"end"),p)}}function yv(f,t,s,a={}){for(let d=0;d<f;d++)Zg(t,s,a)}function cz(f,t){if(f<t)return{newCellsSpan:1,updatedSpan:1};const s=Math.floor(f/t);return{newCellsSpan:s,updatedSpan:f-s*t+s}}function Nle(f,t){const s=f.start,a=t.start;return s.isBefore(a)?-1:1}class Ple extends pn{refresh(){const t=this.editor.plugins.get(Qs),s=t.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=t.isSelectionRectangular(s)}execute(){const t=this.editor.model,s=this.editor.plugins.get(Qs);t.change(a=>{const d=s.getSelectedTableCells(t.document.selection),p=d.shift(),{mergeWidth:w,mergeHeight:k}=function(D,R,M){let U=0,W=0;for(const Pe of R){const{row:Ge,column:tt}=M.getCellLocation(Pe);U=dz(Pe,tt,U,"colspan"),W=dz(Pe,Ge,W,"rowspan")}const{row:Z,column:re}=M.getCellLocation(D),le=U-re,xe=W-Z;return{mergeWidth:le,mergeHeight:xe}}(p,d,s);ur("colspan",w,p,a),ur("rowspan",k,p,a);for(const D of d)Ile(D,p,a);$I(p.findAncestor("table"),s),a.setSelection(p,"in")})}}function Ile(f,t,s){uz(f)||(uz(t)&&s.remove(s.createRangeIn(t)),s.move(s.createRangeIn(f),s.createPositionAt(t,"end"))),s.remove(f)}function uz(f){const t=f.getChild(0);return f.childCount==1&&t.is("element","paragraph")&&t.isEmpty}function dz(f,t,s,a){const d=parseInt(f.getAttribute(a)||"1");return Math.max(s,t+d)}class jle extends pn{constructor(t){super(t),this.affectsData=!1}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const t=this.editor.model,s=this.editor.plugins.get("TableUtils"),a=s.getSelectionAffectedTableCells(t.document.selection),d=s.getRowIndexes(a),p=a[0].findAncestor("table"),w=[];for(let k=d.first;k<=d.last;k++)for(const D of p.getChild(k).getChildren())w.push(t.createRangeOn(D));t.change(k=>{k.setSelection(w)})}}class Rle extends pn{constructor(t){super(t),this.affectsData=!1}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const t=this.editor.plugins.get("TableUtils"),s=this.editor.model,a=t.getSelectionAffectedTableCells(s.document.selection),d=a[0],p=a.pop(),w=d.findAncestor("table"),k=t.getCellLocation(d),D=t.getCellLocation(p),R=Math.min(k.column,D.column),M=Math.max(k.column,D.column),U=[];for(const W of new si(w,{startColumn:R,endColumn:M}))U.push(s.createRangeOn(W.cell));s.change(W=>{W.setSelection(U)})}}function Mle(f){f.document.registerPostFixer(t=>function(s,a){const d=a.document.differ.getChanges();let p=!1;const w=new Set;for(const k of d){let D=null;k.type=="insert"&&k.name=="table"&&(D=k.position.nodeAfter),k.type!="insert"&&k.type!="remove"||k.name!="tableRow"&&k.name!="tableCell"||(D=k.position.findAncestor("table")),Lle(k)&&(D=k.range.start.findAncestor("table")),D&&!w.has(D)&&(p=Ole(D,s)||p,p=Fle(D,s)||p,w.add(D))}return p}(t,f))}function Ole(f,t){let s=!1;const a=function(d){const p=parseInt(d.getAttribute("headingRows")||"0"),w=Array.from(d.getChildren()).reduce((D,R)=>R.is("element","tableRow")?D+1:D,0),k=[];for(const{row:D,cell:R,cellHeight:M}of new si(d)){if(M<2)continue;const U=D<p?p:w;if(D+M>U){const W=U-D;k.push({cell:R,rowspan:W})}}return k}(f);if(a.length){s=!0;for(const d of a)ur("rowspan",d.rowspan,d.cell,t,1)}return s}function Fle(f,t){let s=!1;const a=function(k){const D=new Array(k.childCount).fill(0);for(const{rowIndex:R}of new si(k,{includeAllSlots:!0}))D[R]++;return D}(f),d=[];for(const[k,D]of a.entries())!D&&f.getChild(k).is("element","tableRow")&&d.push(k);if(d.length){s=!0;for(const k of d.reverse())t.remove(f.getChild(k)),a.splice(k,1)}const p=a.filter((k,D)=>f.getChild(D).is("element","tableRow")),w=p[0];if(!p.every(k=>k===w)){const k=p.reduce((D,R)=>R>D?R:D,0);for(const[D,R]of p.entries()){const M=k-R;if(M){for(let U=0;U<M;U++)Zg(t,t.createPositionAt(f.getChild(D),"end"));s=!0}}}return s}function Lle(f){if(f.type!=="attribute")return!1;const t=f.attributeKey;return t==="headingRows"||t==="colspan"||t==="rowspan"}function Ule(f){f.document.registerPostFixer(t=>function(s,a){const d=a.document.differ.getChanges();let p=!1;for(const w of d)w.type=="insert"&&w.name=="table"&&(p=Ble(w.position.nodeAfter,s)||p),w.type=="insert"&&w.name=="tableRow"&&(p=hz(w.position.nodeAfter,s)||p),w.type=="insert"&&w.name=="tableCell"&&(p=HI(w.position.nodeAfter,s)||p),w.type!="remove"&&w.type!="insert"||!zle(w)||(p=HI(w.position.parent,s)||p);return p}(t,f))}function Ble(f,t){let s=!1;for(const a of f.getChildren())a.is("element","tableRow")&&(s=hz(a,t)||s);return s}function hz(f,t){let s=!1;for(const a of f.getChildren())s=HI(a,t)||s;return s}function HI(f,t){if(f.childCount==0)return t.insertElement("paragraph",f),!0;const s=Array.from(f.getChildren()).filter(a=>a.is("$text"));for(const a of s)t.wrap(t.createRangeOn(a),"paragraph");return!!s.length}function zle(f){return!!f.position.parent.is("element","tableCell")&&(f.type=="insert"&&f.name=="$text"||f.type=="remove")}function Vle(f,t){if(!f.is("element","paragraph"))return!1;const s=t.toViewElement(f);return!!s&&KB(f)!==s.is("element","span")}var DC=o(8361),uk={attributes:{"data-cke":!0}};uk.setAttributes=jt(),uk.insert=Vt().bind(null,"head"),uk.domAPI=Bt(),uk.insertStyleElement=zt(),Ut()(DC.Z,uk),DC.Z&&DC.Z.locals&&DC.Z.locals;class Wle extends st{static get pluginName(){return"TableEditing"}static get requires(){return[Qs]}constructor(t){super(t),this._additionalSlots=[]}init(){const t=this.editor,s=t.model,a=s.schema,d=t.conversion,p=t.plugins.get(Qs);a.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),a.register("tableRow",{allowIn:"table",isLimit:!0}),a.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),d.for("upcast").add(w=>{w.on("element:figure",(k,D,R)=>{if(!R.consumable.test(D.viewItem,{name:!0,classes:"table"}))return;const M=function(W){for(const Z of W.getChildren())if(Z.is("element","table"))return Z}(D.viewItem);if(!M||!R.consumable.test(M,{name:!0}))return;R.consumable.consume(D.viewItem,{name:!0,classes:"table"});const U=ki(R.convertItem(M,D.modelCursor).modelRange.getItems());U?(R.convertChildren(D.viewItem,R.writer.createPositionAt(U,"end")),R.updateConversionResult(U,D)):R.consumable.revert(D.viewItem,{name:!0,classes:"table"})})}),d.for("upcast").add(wle()),d.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:GB(p,{asWidget:!0,additionalSlots:this._additionalSlots})}),d.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:GB(p,{additionalSlots:this._additionalSlots})}),d.for("upcast").elementToElement({model:"tableRow",view:"tr"}),d.for("upcast").add(w=>{w.on("element:tr",(k,D)=>{D.viewItem.isEmpty&&D.modelCursor.index==0&&k.stop()},{priority:"high"})}),d.for("downcast").elementToElement({model:"tableRow",view:(w,{writer:k})=>w.isEmpty?k.createEmptyElement("tr"):k.createContainerElement("tr")}),d.for("upcast").elementToElement({model:"tableCell",view:"td"}),d.for("upcast").elementToElement({model:"tableCell",view:"th"}),d.for("upcast").add(HB("td")),d.for("upcast").add(HB("th")),d.for("editingDowncast").elementToElement({model:"tableCell",view:XB({asWidget:!0})}),d.for("dataDowncast").elementToElement({model:"tableCell",view:XB()}),d.for("editingDowncast").elementToElement({model:"paragraph",view:YB({asWidget:!0}),converterPriority:"high"}),d.for("dataDowncast").elementToElement({model:"paragraph",view:YB(),converterPriority:"high"}),d.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),d.for("upcast").attributeToAttribute({model:{key:"colspan",value:fz("colspan")},view:"colspan"}),d.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),d.for("upcast").attributeToAttribute({model:{key:"rowspan",value:fz("rowspan")},view:"rowspan"}),t.config.define("table.defaultHeadings.rows",0),t.config.define("table.defaultHeadings.columns",0),t.commands.add("insertTable",new kle(t)),t.commands.add("insertTableRowAbove",new ZB(t,{order:"above"})),t.commands.add("insertTableRowBelow",new ZB(t,{order:"below"})),t.commands.add("insertTableColumnLeft",new JB(t,{order:"left"})),t.commands.add("insertTableColumnRight",new JB(t,{order:"right"})),t.commands.add("removeTableRow",new Ele(t)),t.commands.add("removeTableColumn",new Sle(t)),t.commands.add("splitTableCellVertically",new QB(t,{direction:"vertically"})),t.commands.add("splitTableCellHorizontally",new QB(t,{direction:"horizontally"})),t.commands.add("mergeTableCells",new Ple(t)),t.commands.add("mergeTableCellRight",new CC(t,{direction:"right"})),t.commands.add("mergeTableCellLeft",new CC(t,{direction:"left"})),t.commands.add("mergeTableCellDown",new CC(t,{direction:"down"})),t.commands.add("mergeTableCellUp",new CC(t,{direction:"up"})),t.commands.add("setTableColumnHeader",new Tle(t)),t.commands.add("setTableRowHeader",new Ale(t)),t.commands.add("selectTableRow",new jle(t)),t.commands.add("selectTableColumn",new Rle(t)),Mle(s),Ule(s),this.listenTo(s.document,"change:data",()=>{(function(w,k){const D=w.document.differ;for(const R of D.getChanges()){let M,U=!1;if(R.type=="attribute"){const le=R.range.start.nodeAfter;if(!le||!le.is("element","table")||R.attributeKey!="headingRows"&&R.attributeKey!="headingColumns")continue;M=le,U=R.attributeKey=="headingRows"}else R.name!="tableRow"&&R.name!="tableCell"||(M=R.position.findAncestor("table"),U=R.name=="tableRow");if(!M)continue;const W=M.getAttribute("headingRows")||0,Z=M.getAttribute("headingColumns")||0,re=new si(M);for(const le of re){const xe=le.row<W||le.column<Z?"th":"td",Pe=k.mapper.toViewElement(le.cell);Pe&&Pe.is("element")&&Pe.name!=xe&&k.reconvertItem(U?le.cell.parent:le.cell)}}})(s,t.editing),function(w,k){const D=w.document.differ,R=new Set;for(const M of D.getChanges()){const U=M.type=="attribute"?M.range.start.parent:M.position.parent;U.is("element","tableCell")&&R.add(U)}for(const M of R.values()){const U=Array.from(M.getChildren()).filter(W=>Vle(W,k.mapper));for(const W of U)k.reconvertItem(W)}}(s,t.editing)})}registerAdditionalSlot(t){this._additionalSlots.push(t)}}function fz(f){return t=>{const s=parseInt(t.getAttribute(f));return Number.isNaN(s)||s<=0?null:s}}var NC=o(468),dk={attributes:{"data-cke":!0}};dk.setAttributes=jt(),dk.insert=Vt().bind(null,"head"),dk.domAPI=Bt(),dk.insertStyleElement=zt(),Ut()(NC.Z,dk),NC.Z&&NC.Z.locals&&NC.Z.locals;class $le extends dn{constructor(t){super(t);const s=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new Fa,this.focusTracker=new lr,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(a,d)=>`${d} × ${a}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":s.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:s.to("label")}]}],on:{mousedown:s.to(a=>{a.preventDefault()}),click:s.to(()=>{this.fire("execute")})}}),this.on("boxover",(a,d)=>{const{row:p,column:w}=d.target.dataset;this.items.get(10*(parseInt(p,10)-1)+(parseInt(w,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(a,d,p)=>{if(!p)return;const{row:w,column:k}=p.dataset;this.set({rows:parseInt(w),columns:parseInt(k)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),function({keystrokeHandler:t,focusTracker:s,gridItems:a,numberOfColumns:d,uiLanguageDirection:p}){const w=()=>d;function k(M){return U=>{const W=a.find(le=>le.element===s.focusedElement),Z=a.getIndex(W),re=M(Z,a);a.get(re).focus(),U.stopPropagation(),U.preventDefault()}}function D(M,U){return M===U-1?0:M+1}function R(M,U){return M===0?U-1:M-1}t.set("arrowright",k((M,U)=>p==="rtl"?R(M,U.length):D(M,U.length))),t.set("arrowleft",k((M,U)=>p==="rtl"?D(M,U.length):R(M,U.length))),t.set("arrowup",k((M,U)=>{let W=M-w();return W<0&&(W=M+w()*Math.floor(U.length/w()),W>U.length-1&&(W-=w())),W})),t.set("arrowdown",k((M,U)=>{let W=M+w();return W>U.length-1&&(W=M%w()),W}))}({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const t of this.items)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const t=this.rows,s=this.columns;this.items.map((a,d)=>{const p=Math.floor(d/10)<t&&d%10<s;a.set("isOn",p)})}_createGridButton(t,s,a,d){const p=new qn(t);return p.set({label:d,class:"ck-insert-table-dropdown-grid-box"}),p.extendTemplate({attributes:{"data-row":s,"data-column":a}}),p}_createGridCollection(){const t=[];for(let s=0;s<100;s++){const a=Math.floor(s/10),d=s%10,p=`${a+1} × ${d+1}`;t.push(this._createGridButton(this.locale,a+1,d+1,p))}return this.createCollection(t)}}class qle extends st{static get pluginName(){return"TableUI"}init(){const t=this.editor,s=this.editor.t,a=t.locale.contentLanguageDirection==="ltr";t.ui.componentFactory.add("insertTable",d=>{const p=t.commands.get("insertTable"),w=Xu(d);let k;return w.bind("isEnabled").to(p),w.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:s("Insert table"),tooltip:!0}),w.on("change:isOpen",()=>{k||(k=new $le(d),w.panelView.children.add(k),k.delegate("execute").to(w),w.on("execute",()=>{t.execute("insertTable",{rows:k.rows,columns:k.columns}),t.editing.view.focus()}))}),w}),t.ui.componentFactory.add("tableColumn",d=>{const p=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:s("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:a?"insertTableColumnLeft":"insertTableColumnRight",label:s("Insert column left")}},{type:"button",model:{commandName:a?"insertTableColumnRight":"insertTableColumnLeft",label:s("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:s("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:s("Select column")}}];return this._prepareDropdown(s("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',p,d)}),t.ui.componentFactory.add("tableRow",d=>{const p=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:s("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:s("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:s("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:s("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:s("Select row")}}];return this._prepareDropdown(s("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',p,d)}),t.ui.componentFactory.add("mergeTableCells",d=>{const p=[{type:"button",model:{commandName:"mergeTableCellUp",label:s("Merge cell up")}},{type:"button",model:{commandName:a?"mergeTableCellRight":"mergeTableCellLeft",label:s("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:s("Merge cell down")}},{type:"button",model:{commandName:a?"mergeTableCellLeft":"mergeTableCellRight",label:s("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:s("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:s("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(s("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',p,d)})}_prepareDropdown(t,s,a,d){const p=this.editor,w=Xu(d),k=this._fillDropdownWithListOptions(w,a);return w.buttonView.set({label:t,icon:s,tooltip:!0}),w.bind("isEnabled").toMany(k,"isEnabled",(...D)=>D.some(R=>R)),this.listenTo(w,"execute",D=>{p.execute(D.source.commandName),D.source instanceof Nu||p.editing.view.focus()}),w}_prepareMergeSplitButtonDropdown(t,s,a,d){const p=this.editor,w=Xu(d,gT),k="mergeTableCells",D=p.commands.get(k),R=this._fillDropdownWithListOptions(w,a);return w.buttonView.set({label:t,icon:s,tooltip:!0,isEnabled:!0}),w.bind("isEnabled").toMany([D,...R],"isEnabled",(...M)=>M.some(U=>U)),this.listenTo(w.buttonView,"execute",()=>{p.execute(k),p.editing.view.focus()}),this.listenTo(w,"execute",M=>{p.execute(M.source.commandName),p.editing.view.focus()}),w}_fillDropdownWithListOptions(t,s){const a=this.editor,d=[],p=new Ys;for(const w of s)Hle(w,a,d,p);return vT(t,p),d}}function Hle(f,t,s,a){if(f.type==="button"||f.type==="switchbutton"){const d=f.model=new DT(f.model),{commandName:p,bindIsOn:w}=f.model,k=t.commands.get(p);s.push(k),d.set({commandName:p}),d.bind("isEnabled").to(k),w&&d.bind("isOn").to(k,"value"),d.set({withText:!0})}a.add(f)}var PC=o(1546),hk={attributes:{"data-cke":!0}};hk.setAttributes=jt(),hk.insert=Vt().bind(null,"head"),hk.domAPI=Bt(),hk.insertStyleElement=zt(),Ut()(PC.Z,hk),PC.Z&&PC.Z.locals&&PC.Z.locals;class Jg extends st{static get pluginName(){return"TableSelection"}static get requires(){return[Qs,Qs]}init(){const t=this.editor,s=t.model,a=t.editing.view;this.listenTo(s,"deleteContent",(d,p)=>this._handleDeleteContent(d,p),{priority:"high"}),this.listenTo(a.document,"insertText",(d,p)=>this._handleInsertTextEvent(d,p),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const t=this.editor.plugins.get(Qs),s=this.editor.model.document.selection,a=t.getSelectedTableCells(s);return a.length==0?null:a}getSelectionAsFragment(){const t=this.editor.plugins.get(Qs),s=this.getSelectedTableCells();return s?this.editor.model.change(a=>{const d=a.createDocumentFragment(),{first:p,last:w}=t.getColumnIndexes(s),{first:k,last:D}=t.getRowIndexes(s),R=s[0].findAncestor("table");let M=D,U=w;if(t.isSelectionRectangular(s)){const Z={firstColumn:p,lastColumn:w,firstRow:k,lastRow:D};M=oz(R,Z),U=az(R,Z)}const W=ez(R,{startRow:k,startColumn:p,endRow:M,endColumn:U},a);return a.insert(W,d,0),d}):null}setCellSelection(t,s){const a=this._getCellsToSelect(t,s);this.editor.model.change(d=>{d.setSelection(a.cells.map(p=>d.createRangeOn(p)),{backward:a.backward})})}getFocusCell(){const t=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return t&&t.is("element","tableCell")?t:null}getAnchorCell(){const t=ki(this.editor.model.document.selection.getRanges()).getContainedElement();return t&&t.is("element","tableCell")?t:null}_defineSelectionConverter(){const t=this.editor,s=new Set;t.conversion.for("editingDowncast").add(a=>a.on("selection",(d,p,w)=>{const k=w.writer;(function(M){for(const U of s)M.removeClass("ck-editor__editable_selected",U);s.clear()})(k);const D=this.getSelectedTableCells();if(!D)return;for(const M of D){const U=w.mapper.toViewElement(M);k.addClass("ck-editor__editable_selected",U),s.add(U)}const R=w.mapper.toViewElement(D[D.length-1]);k.setSelection(R,0)},{priority:"lowest"}))}_enablePluginDisabling(){const t=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const s=this.getSelectedTableCells();if(!s)return;t.model.change(a=>{const d=a.createPositionAt(s[0],0),p=t.model.schema.getNearestSelectionRange(d);a.setSelection(p)})}})}_handleDeleteContent(t,s){const a=this.editor.plugins.get(Qs),d=s[0],p=s[1],w=this.editor.model,k=!p||p.direction=="backward",D=a.getSelectedTableCells(d);D.length&&(t.stop(),w.change(R=>{const M=D[k?D.length-1:0];w.change(W=>{for(const Z of D)w.deleteContent(W.createSelection(Z,"in"))});const U=w.schema.getNearestSelectionRange(R.createPositionAt(M,0));d.is("documentSelection")?R.setSelection(U):d.setTo(U)}))}_handleInsertTextEvent(t,s){const a=this.editor,d=this.getSelectedTableCells();if(!d)return;const p=a.editing.view,w=a.editing.mapper,k=d.map(D=>p.createRangeOn(w.toViewElement(D)));s.selection=p.createSelection(k)}_getCellsToSelect(t,s){const a=this.editor.plugins.get("TableUtils"),d=a.getCellLocation(t),p=a.getCellLocation(s),w=Math.min(d.row,p.row),k=Math.max(d.row,p.row),D=Math.min(d.column,p.column),R=Math.max(d.column,p.column),M=new Array(k-w+1).fill(null).map(()=>[]),U={startRow:w,endRow:k,startColumn:D,endColumn:R};for(const{row:re,cell:le}of new si(t.findAncestor("table"),U))M[re-w].push(le);const W=p.row<d.row,Z=p.column<d.column;return W&&M.reverse(),Z&&M.forEach(re=>re.reverse()),{cells:M.flat(),backward:W||Z}}}class Gle extends st{static get pluginName(){return"TableClipboard"}static get requires(){return[Jg,Qs]}init(){const t=this.editor,s=t.editing.view.document;this.listenTo(s,"copy",(a,d)=>this._onCopyCut(a,d)),this.listenTo(s,"cut",(a,d)=>this._onCopyCut(a,d)),this.listenTo(t.model,"insertContent",(a,[d,p])=>this._onInsertContent(a,d,p),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(t,s){const a=this.editor.plugins.get(Jg);if(!a.getSelectedTableCells()||t.name=="cut"&&!this.editor.model.canEditAt(this.editor.model.document.selection))return;s.preventDefault(),t.stop();const d=this.editor.data,p=this.editor.editing.view.document,w=d.toView(a.getSelectionAsFragment());p.fire("clipboardOutput",{dataTransfer:s.dataTransfer,content:w,method:t.name})}_onInsertContent(t,s,a){if(a&&!a.is("documentSelection"))return;const d=this.editor.model,p=this.editor.plugins.get(Qs);let w=this.getTableIfOnlyTableInContent(s,d);if(!w)return;const k=p.getSelectionAffectedTableCells(d.document.selection);k.length?(t.stop(),d.change(D=>{const R={width:p.getColumns(w),height:p.getRows(w)},M=function(xe,Pe,Ge,tt){const Nt=xe[0].findAncestor("table"),ln=tt.getColumnIndexes(xe),Gn=tt.getRowIndexes(xe),Xn={firstColumn:ln.first,lastColumn:ln.last,firstRow:Gn.first,lastRow:Gn.last},os=xe.length===1;return os&&(Xn.lastRow+=Pe.height-1,Xn.lastColumn+=Pe.width-1,function(jo,OC,Qg,kp){const vv=kp.getColumns(jo),wv=kp.getRows(jo);Qg>vv&&kp.insertColumns(jo,{at:vv,columns:Qg-vv}),OC>wv&&kp.insertRows(jo,{at:wv,rows:OC-wv})}(Nt,Xn.lastRow+1,Xn.lastColumn+1,tt)),os||!tt.isSelectionRectangular(xe)?function(jo,OC,Qg){const{firstRow:kp,lastRow:vv,firstColumn:wv,lastColumn:wz}=OC,xz={first:kp,last:vv},_z={first:wv,last:wz};XI(jo,wv,xz,Qg),XI(jo,wz+1,xz,Qg),GI(jo,kp,_z,Qg),GI(jo,vv+1,_z,Qg,kp)}(Nt,Xn,Ge):(Xn.lastRow=oz(Nt,Xn),Xn.lastColumn=az(Nt,Xn)),Xn}(k,R,D,p),U=M.lastRow-M.firstRow+1,W=M.lastColumn-M.firstColumn+1,Z={startRow:0,startColumn:0,endRow:Math.min(U,R.height)-1,endColumn:Math.min(W,R.width)-1};w=ez(w,Z,D);const re=k[0].findAncestor("table"),le=this._replaceSelectedCellsWithPasted(w,R,re,M,D);if(this.editor.plugins.get("TableSelection").isEnabled){const xe=p.sortRanges(le.map(Pe=>D.createRangeOn(Pe)));D.setSelection(xe)}else D.setSelection(le[0],0)})):$I(w,p)}_replaceSelectedCellsWithPasted(t,s,a,d,p){const{width:w,height:k}=s,D=function(xe,Pe,Ge){const tt=new Array(Ge).fill(null).map(()=>new Array(Pe).fill(null));for(const{column:Nt,row:ln,cell:Gn}of new si(xe))tt[ln][Nt]=Gn;return tt}(t,w,k),R=[...new si(a,{startRow:d.firstRow,endRow:d.lastRow,startColumn:d.firstColumn,endColumn:d.lastColumn,includeAllSlots:!0})],M=[];let U;for(const xe of R){const{row:Pe,column:Ge}=xe;Ge===d.firstColumn&&(U=xe.getPositionBefore());const tt=Pe-d.firstRow,Nt=Ge-d.firstColumn,ln=D[tt%k][Nt%w],Gn=ln?p.cloneElement(ln):null,Xn=this._replaceTableSlotCell(xe,Gn,U,p);Xn&&(sz(Xn,Pe,Ge,d.lastRow,d.lastColumn,p),M.push(Xn),U=p.createPositionAfter(Xn))}const W=parseInt(a.getAttribute("headingRows")||"0"),Z=parseInt(a.getAttribute("headingColumns")||"0"),re=d.firstRow<W&&W<=d.lastRow,le=d.firstColumn<Z&&Z<=d.lastColumn;if(re){const xe=GI(a,W,{first:d.firstColumn,last:d.lastColumn},p,d.firstRow);M.push(...xe)}if(le){const xe=XI(a,Z,{first:d.firstRow,last:d.lastRow},p);M.push(...xe)}return M}_replaceTableSlotCell(t,s,a,d){const{cell:p,isAnchor:w}=t;return w&&d.remove(p),s?(d.insert(s,a),s):null}getTableIfOnlyTableInContent(t,s){if(!t.is("documentFragment")&&!t.is("element"))return null;if(t.is("element","table"))return t;if(t.childCount==1&&t.getChild(0).is("element","table"))return t.getChild(0);const a=s.createRangeIn(t);for(const d of a.getItems())if(d.is("element","table")){const p=s.createRange(a.start,s.createPositionBefore(d));if(s.hasContent(p,{ignoreWhitespaces:!0}))return null;const w=s.createRange(s.createPositionAfter(d),a.end);return s.hasContent(w,{ignoreWhitespaces:!0})?null:d}return null}}function GI(f,t,s,a,d=0){if(!(t<1))return tz(f,t,d).filter(({column:p,cellWidth:w})=>pz(p,w,s)).map(({cell:p})=>nz(p,t,a))}function XI(f,t,s,a){if(!(t<1))return iz(f,t).filter(({row:d,cellHeight:p})=>pz(d,p,s)).map(({cell:d,column:p})=>rz(d,p,t,a))}function pz(f,t,s){const a=f+t-1,{first:d,last:p}=s;return f>=d&&f<=p||f<d&&a>=d}class Xle extends st{static get pluginName(){return"TableKeyboard"}static get requires(){return[Jg,Qs]}init(){const t=this.editor.editing.view.document;this.listenTo(t,"arrowKey",(...s)=>this._onArrowKey(...s),{context:"table"}),this.listenTo(t,"tab",(...s)=>this._handleTabOnSelectedTable(...s),{context:"figure"}),this.listenTo(t,"tab",(...s)=>this._handleTab(...s),{context:["th","td"]})}_handleTabOnSelectedTable(t,s){const a=this.editor,d=a.model.document.selection.getSelectedElement();d&&d.is("element","table")&&(s.preventDefault(),s.stopPropagation(),t.stop(),a.model.change(p=>{p.setSelection(p.createRangeIn(d.getChild(0).getChild(0)))}))}_handleTab(t,s){const a=this.editor,d=this.editor.plugins.get(Qs),p=this.editor.plugins.get("TableSelection"),w=a.model.document.selection,k=!s.shiftKey;let D=d.getTableCellsContainingSelection(w)[0];if(D||(D=p.getFocusCell()),!D)return;s.preventDefault(),s.stopPropagation(),t.stop();const R=D.parent,M=R.parent,U=M.getChildIndex(R),W=R.getChildIndex(D),Z=W===0;if(!k&&Z&&U===0)return void a.model.change(Pe=>{Pe.setSelection(Pe.createRangeOn(M))});const re=W===R.childCount-1,le=U===d.getRows(M)-1;if(k&&le&&re&&(a.execute("insertTableRowBelow"),U===d.getRows(M)-1))return void a.model.change(Pe=>{Pe.setSelection(Pe.createRangeOn(M))});let xe;if(k&&re)xe=M.getChild(U+1).getChild(0);else if(!k&&Z){const Pe=M.getChild(U-1);xe=Pe.getChild(Pe.childCount-1)}else xe=R.getChild(W+(k?1:-1));a.model.change(Pe=>{Pe.setSelection(Pe.createRangeIn(xe))})}_onArrowKey(t,s){const a=this.editor,d=Cu(s.keyCode,a.locale.contentLanguageDirection);this._handleArrowKeys(d,s.shiftKey)&&(s.preventDefault(),s.stopPropagation(),t.stop())}_handleArrowKeys(t,s){const a=this.editor.plugins.get(Qs),d=this.editor.plugins.get("TableSelection"),p=this.editor.model,w=p.document.selection,k=["right","down"].includes(t),D=a.getSelectedTableCells(w);if(D.length){let M;return M=s?d.getFocusCell():k?D[D.length-1]:D[0],this._navigateFromCellInDirection(M,t,s),!0}const R=w.focus.findAncestor("tableCell");if(!R)return!1;if(!w.isCollapsed)if(s){if(w.isBackward==k&&!w.containsEntireContent(R))return!1}else{const M=w.getSelectedElement();if(!M||!p.schema.isObject(M))return!1}return!!this._isSelectionAtCellEdge(w,R,k)&&(this._navigateFromCellInDirection(R,t,s),!0)}_isSelectionAtCellEdge(t,s,a){const d=this.editor.model,p=this.editor.model.schema,w=a?t.getLastPosition():t.getFirstPosition();if(!p.getLimitElement(w).is("element","tableCell"))return d.createPositionAt(s,a?"end":0).isTouching(w);const k=d.createSelection(w);return d.modifySelection(k,{direction:a?"forward":"backward"}),w.isEqual(k.focus)}_navigateFromCellInDirection(t,s,a=!1){const d=this.editor.model,p=t.findAncestor("table"),w=[...new si(p,{includeAllSlots:!0})],{row:k,column:D}=w[w.length-1],R=w.find(({cell:le})=>le==t);let{row:M,column:U}=R;switch(s){case"left":U--;break;case"up":M--;break;case"right":U+=R.cellWidth;break;case"down":M+=R.cellHeight}if(M<0||M>k||U<0&&M<=0||U>D&&M>=k)return void d.change(le=>{le.setSelection(le.createRangeOn(p))});U<0?(U=a?0:D,M--):U>D&&(U=a?D:0,M++);const W=w.find(le=>le.row==M&&le.column==U).cell,Z=["right","down"].includes(s),re=this.editor.plugins.get("TableSelection");if(a&&re.isEnabled){const le=re.getAnchorCell()||t;re.setCellSelection(le,W)}else{const le=d.createPositionAt(W,Z?0:"end");d.change(xe=>{xe.setSelection(le)})}}}class Yle extends Oc{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(t){this.fire(t.type,t)}}class Kle extends st{static get pluginName(){return"TableMouse"}static get requires(){return[Jg,Qs]}init(){this.editor.editing.view.addObserver(Yle),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const t=this.editor,s=t.plugins.get(Qs);let a=!1;const d=t.plugins.get(Jg);this.listenTo(t.editing.view.document,"mousedown",(p,w)=>{const k=t.model.document.selection;if(!this.isEnabled||!d.isEnabled||!w.domEvent.shiftKey)return;const D=d.getAnchorCell()||s.getTableCellsContainingSelection(k)[0];if(!D)return;const R=this._getModelTableCellFromDomEvent(w);R&&mz(D,R)&&(a=!0,d.setCellSelection(D,R),w.preventDefault())}),this.listenTo(t.editing.view.document,"mouseup",()=>{a=!1}),this.listenTo(t.editing.view.document,"selectionChange",p=>{a&&p.stop()},{priority:"highest"})}_enableMouseDragSelection(){const t=this.editor;let s,a,d=!1,p=!1;const w=t.plugins.get(Jg);this.listenTo(t.editing.view.document,"mousedown",(k,D)=>{this.isEnabled&&w.isEnabled&&(D.domEvent.shiftKey||D.domEvent.ctrlKey||D.domEvent.altKey||(s=this._getModelTableCellFromDomEvent(D)))}),this.listenTo(t.editing.view.document,"mousemove",(k,D)=>{if(!D.domEvent.buttons||!s)return;const R=this._getModelTableCellFromDomEvent(D);R&&mz(s,R)&&(a=R,d||a==s||(d=!0)),d&&(p=!0,w.setCellSelection(s,a),D.preventDefault())}),this.listenTo(t.editing.view.document,"mouseup",()=>{d=!1,p=!1,s=null,a=null}),this.listenTo(t.editing.view.document,"selectionChange",k=>{p&&k.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(t){const s=t.target,a=this.editor.editing.view.createPositionAt(s,0);return this.editor.editing.mapper.toModelPosition(a).parent.findAncestor("tableCell",{includeSelf:!0})}}function mz(f,t){return f.parent.parent==t.parent.parent}var IC=o(2510),fk={attributes:{"data-cke":!0}};fk.setAttributes=jt(),fk.insert=Vt().bind(null,"head"),fk.domAPI=Bt(),fk.insertStyleElement=zt(),Ut()(IC.Z,fk),IC.Z&&IC.Z.locals&&IC.Z.locals;function Zle(f){const t=f.getSelectedElement();return t&&gz(t)?t:null}function Jle(f){const t=f.getFirstPosition();if(!t)return null;let s=t.parent;for(;s;){if(s.is("element")&&gz(s))return s;s=s.parent}return null}function gz(f){return!!f.getCustomProperty("table")&&Wr(f)}var Ku=o(7294),Qle=o(3935),ece=o(2968),bz=o.n(ece),jC=o(9330),pk={attributes:{"data-cke":!0}};pk.setAttributes=jt(),pk.insert=Vt().bind(null,"head"),pk.domAPI=Bt(),pk.insertStyleElement=zt(),Ut()(jC.Z,pk),jC.Z&&jC.Z.locals&&jC.Z.locals;let RC="TN-IIz68YhmPLsEAbVD4WA3RucFcJNZBy-G0UlhaqSM";const{useState:MC,useEffect:yz,useRef:tce}=Ku,nce=f=>{let[t,s]=MC(null),[a,d]=MC(""),[p,w]=MC(!1),[k,D]=MC(1);const R=tce(null),M=U=>{const W=U.target;W.scrollTop+W.clientHeight+50>=W.scrollHeight&&w(!0)};return yz(()=>{const U=document.getElementById("dnx-photo-list");return U.addEventListener("scroll",M),()=>U.removeEventListener("scroll",M)},[]),yz(()=>{R.current.focus(),(k===1||a&&p&&k<=5)&&(U=>{bz().get(U.url).then(function(W){U.onSuccess&&U.onSuccess(W)}).catch(W=>{U.onFailure&&U.onFailure()})})({url:a?`${"https://api.unsplash.com/search/photos/?per_page=30&page="+k+"&client_id="+RC}&query=${a}`:"https://api.unsplash.com/photos/random/?count=30&client_id="+RC,onSuccess:U=>{const W=Array.isArray(U.body)?U.body:U.body.results;t=t===null?W:t.concat(W),s(t),W.length>0&&(D(k+1),w(!1))},onFailure:()=>{s([])}})},[a,p]),Ku.createElement("div",{className:"dnx-box"},Ku.createElement("form",{id:"unsplash-search",className:"unsplash-search form",onSubmit:U=>{U.preventDefault(),s(null),D(1),d(R.current.value)}},Ku.createElement("input",{id:"dnx-unsplash-search-input",ref:R,placeholder:"Search Photos on Unsplash",type:"search",className:"input",defaultValue:"",style:{marginBottom:20}})),Ku.createElement("ul",{id:"dnx-photo-list",className:"dnx-photo-grid"},t===null&&Ku.createElement("p",null,"Loading..."),t!==null&&t.length===0&&Ku.createElement("p",null,"No results"),t!==null&&t.length>0&&t.map(U=>Ku.createElement("li",{key:U.id},Ku.createElement("img",{src:U.urls.regular,onClick:()=>f.handleSelect(U)})))))};function vz(f,t,s,a){s.model.schema.extend(t,{allowAttributes:["customClass"]}),s.conversion.for("upcast").add(YI(f,a),{priority:"low"}),s.conversion.for("downcast").add(function(d,p,w){return k=>k.on(`insert:${p}`,(D,R,M)=>{const U=R.item,W=M.mapper.toViewElement(U);if(!W)return;const Z=function(le,xe,Pe){return Array.from(Pe.writer.createRangeIn(le).getItems()).find(tt=>tt.is("element",xe))}(W,d,M),re=U.getAttribute("customClass")||w;M.writer.addClass(re,Z)})}(f,t,a),{priority:"low"})}function YI(f,t=[]){return s=>s.on(`element:${f}`,(a,d,p)=>{d.viewItem;const w=d.modelRange,k=w&&w.start.nodeAfter;if(!k)return;const D=k.getAttribute("customClass")||t;p.writer.setAttribute("customClass",D,k)})}class KI extends zT{}KI.builtinPlugins=[class extends st{static get requires(){return[f9,HT,Eoe,Y7,Gse,y9]}static get pluginName(){return"Essentials"}},class extends st{static get requires(){return[gh]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const f=this.editor.commands;f.get("bulletedList")&&_p(this.editor,this,/^[*-]\s$/,"bulletedList"),f.get("numberedList")&&_p(this.editor,this,/^1[.|)]\s$/,"numberedList"),f.get("todoList")&&_p(this.editor,this,/^\[\s?\]\s$/,"todoList"),f.get("checkTodoList")&&_p(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const f=this.editor.commands;if(f.get("bold")){const t=tC(this.editor,"bold");pv(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,t),pv(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,t)}if(f.get("italic")){const t=tC(this.editor,"italic");pv(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,t),pv(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,t)}if(f.get("code")){const t=tC(this.editor,"code");pv(this.editor,this,/(`)([^`]+)(`)$/g,t)}if(f.get("strikethrough")){const t=tC(this.editor,"strikethrough");pv(this.editor,this,/(~~)([^~]+)(~~)$/g,t)}}_addHeadingAutoformats(){const f=this.editor.commands.get("heading");f&&f.modelElements.filter(t=>t.match(/^heading[1-6]$/)).forEach(t=>{const s=t[7],a=new RegExp(`^(#{${s}})\\s$`);_p(this.editor,this,a,()=>{if(!f.isEnabled||f.value===t)return!1;this.editor.execute("heading",{value:t})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&_p(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const f=this.editor,t=f.model.document.selection;f.commands.get("codeBlock")&&_p(f,this,/^```$/,()=>{if(t.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&_p(this.editor,this,/^---$/,"horizontalLine")}},class extends st{static get requires(){return[Poe,Ioe]}static get pluginName(){return"Bold"}},class extends st{static get requires(){return[joe,Roe]}static get pluginName(){return"Italic"}},class extends st{static get requires(){return[Moe,Ooe]}static get pluginName(){return"Code"}},class extends st{static get requires(){return[Voe,Woe]}static get pluginName(){return"CodeBlock"}},class extends st{static get requires(){return[qoe,Hoe]}static get pluginName(){return"BlockQuote"}},class extends st{static get requires(){return[Koe,Zoe]}static get pluginName(){return"Heading"}},class extends st{static get requires(){return[sae,aae]}static get pluginName(){return"Image"}},class extends st{static get requires(){return[cae,uae]}static get pluginName(){return"ImageCaption"}},class extends st{static get requires(){return[Z9,fae]}static get pluginName(){return"ImageStyle"}},class extends st{static get requires(){return[KT,Ga]}static get pluginName(){return"ImageToolbar"}afterInit(){const f=this.editor,t=f.t,s=f.plugins.get(KT),a=f.plugins.get("ImageUtils");var d;s.register("image",{ariaLabel:t("Image toolbar"),items:(d=f.config.get("image.toolbar")||[],d.map(p=>Oe(p)?p.name:p)),getRelatedElement:p=>a.getClosestSelectedImageWidget(p)})}},class extends st{static get pluginName(){return"ImageUpload"}static get requires(){return[_ae,vae,wae]}},class extends st{static get requires(){return[cB,Aae,Sae]}static get pluginName(){return"ImageResize"}},class extends st{static get requires(){return[Kg]}static get pluginName(){return"Base64UploadAdapter"}init(){this.editor.plugins.get(Kg).createUploadAdapter=f=>new bae(f)}},class extends st{init(){const f=this.editor;f.ui.componentFactory.add("insertImage",t=>{const s=new qn(t);return s.set({label:"Insert image url",icon:'<svg height="512pt" viewBox="0 -107 512 512" width="512pt" xmlns="http://www.w3.org/2000/svg"><path d="m362.667969 298.667969h-42.667969c-11.777344 0-21.332031-9.539063-21.332031-21.335938s9.554687-21.332031 21.332031-21.332031h42.667969c58.816406 0 106.664062-47.851562 106.664062-106.667969 0-58.816406-47.847656-106.664062-106.664062-106.664062h-42.667969c-11.777344 0-21.332031-9.539063-21.332031-21.335938s9.554687-21.332031 21.332031-21.332031h42.667969c82.34375 0 149.332031 67.007812 149.332031 149.332031 0 82.328125-66.988281 149.335938-149.332031 149.335938zm0 0"/><path d="m192 298.667969h-42.667969c-82.34375 0-149.332031-67.007813-149.332031-149.335938 0-82.324219 66.988281-149.332031 149.332031-149.332031h42.667969c11.777344 0 21.332031 9.535156 21.332031 21.332031s-9.554687 21.335938-21.332031 21.335938h-42.667969c-58.816406 0-106.664062 47.847656-106.664062 106.664062 0 58.816407 47.847656 106.667969 106.664062 106.667969h42.667969c11.777344 0 21.332031 9.535156 21.332031 21.332031s-9.554687 21.335938-21.332031 21.335938zm0 0"/><path d="m320 170.667969h-128c-11.777344 0-21.332031-9.539063-21.332031-21.335938s9.554687-21.332031 21.332031-21.332031h128c11.777344 0 21.332031 9.535156 21.332031 21.332031s-9.554687 21.335938-21.332031 21.335938zm0 0"/></svg>',tooltip:!0}),s.on("execute",()=>{const a=prompt("Image URL");if(!a)return!1;f.model.change(d=>{const p=d.createElement("image",{src:a});f.model.insertContent(p,f.model.document.selection)})}),s})}},class extends st{init(){const f=this.editor;f.clientID&&(RC=f.clientID),f.ui.componentFactory.add("insertImageFromUnsplash",t=>{const s=new qn(t);return s.set({label:"Add an image from Unsplash",icon:'<svg fill="#000000" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="512px" height="512px"><path d="M19.116,5c0.969,0,1.797,0.693,1.969,1.647l0.127,0.707C21.382,8.306,22.211,9,23.18,9H26c1.103,0,2,0.897,2,2v13c0,1.103-0.897,2-2,2H6c-1.103,0-2-0.897-2-2V11c0-1.103,0.897-2,2-2h2.82c0.968,0,1.797-0.694,1.969-1.647l0.127-0.707C11.087,5.693,11.915,5,12.884,5H19.116 M19.116,3h-6.231c-1.937,0-3.595,1.387-3.937,3.293L8.82,7H6c-2.209,0-4,1.791-4,4v13c0,2.209,1.791,4,4,4h20c2.209,0,4-1.791,4-4V11c0-2.209-1.791-4-4-4h-2.82l-0.127-0.707C22.711,4.387,21.052,3,19.116,3L19.116,3z"/><path d="M16,13c2.481,0,4.5,2.019,4.5,4.5S18.481,22,16,22s-4.5-2.019-4.5-4.5S13.519,13,16,13 M16,11c-3.59,0-6.5,2.91-6.5,6.5S12.41,24,16,24s6.5-2.91,6.5-6.5S19.59,11,16,11L16,11z"/></svg>',tooltip:!0}),s.on("execute",()=>{let a=document.querySelector("#dnx-modal"),d=document.querySelector("#dnx-modal-overlay");if(a)a.classList.toggle("closed"),d.classList.toggle("closed"),document.querySelector("body").style.overflow=a.classList.contains("closed")?"visible":"hidden",document.getElementById("dnx-unsplash-search-input").focus();else{const p=document.createElement("div");p.id="dnx-modal-wrapper",p.innerHTML=`<div class="dnx-modal-overlay" id="dnx-modal-overlay"></div>
          <div class="dnx-modal" id="dnx-modal">
            <a href="#" class="dnx-close-button" id="dnx-close-button"></a>
            <div class="modal-guts">
              <div id="unsplash-dna"></div>
            </div>
          </div>`,document.body.appendChild(p),document.querySelector("body").style.overflow="hidden";const w=document.querySelector("#dnx-close-button");a=document.querySelector("#dnx-modal"),d=document.querySelector("#dnx-modal-overlay"),w.addEventListener("click",function(k){k.preventDefault(),a.classList.toggle("closed"),d.classList.toggle("closed"),document.querySelector("body").style.overflow="visible"})}Qle.render(Ku.createElement(nce,{handleSelect:async p=>{if(!p.urls&&!p.urls.regular)return!1;let w="";if(p.links){w=((k,D)=>{let R=k;return R+=(R.split("?")[1]?"&":"?")+D,R})(p.links.download_location,"client_id="+RC);try{await bz().get(w)}catch(k){console.log("ERR",k)}}return f.model.change(k=>{const D=k.createElement("imageBlock",{src:p.urls.regular});if(p.user){const{name:R,links:M}=p.user;let U=M?M.html:"https://unsplash.com";U+="?utm_source=DNX&utm_medium=referral";const W=k.createElement("caption");k.appendText("Photo by ",W),k.appendText(R,{linkHref:U},W),k.appendText(" on ",W),k.appendText("Unsplash",{linkHref:"https://unsplash.com/?utm_source=DNX&utm_medium=referral"},W),k.append(W,D)}f.model.insertContent(D,f.model.document.selection)}),a.classList.toggle("closed"),d.classList.toggle("closed"),document.querySelector("body").style.overflow="visible",s}}),document.getElementById("unsplash-dna"))}),s})}},class extends st{static get pluginName(){return"Indent"}static get requires(){return[Tae,Cae]}},class extends st{static get requires(){return[Xae,Zae,Qae]}static get pluginName(){return"Link"}},class extends st{static get requires(){return[hle,fle]}static get pluginName(){return"List"}},class extends st{static get requires(){return[SC,vle,ble,B_]}static get pluginName(){return"MediaEmbed"}},H_,class extends st{static get requires(){return[Wle,qle,Jg,Kle,Xle,Gle,B_]}static get pluginName(){return"Table"}},class extends st{static get requires(){return[KT]}static get pluginName(){return"TableToolbar"}afterInit(){const f=this.editor,t=f.t,s=f.plugins.get(KT),a=f.config.get("table.contentToolbar"),d=f.config.get("table.tableToolbar");a&&s.register("tableContent",{ariaLabel:t("Table toolbar"),items:a,getRelatedElement:Jle}),d&&s.register("table",{ariaLabel:t("Table toolbar"),items:d,getRelatedElement:Zle})}},class extends st{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(f){super(f),f.config.define("typing",{transformations:{include:Xse}})}init(){const f=this.editor.model.document.selection;f.on("change:range",()=>{this.isEnabled=!f.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const f=this.editor,t=f.model,s=f.plugins.get("Delete"),a=function(p){const w=p.extra||[],k=p.remove||[],D=R=>!k.includes(R);return function(R){const M=new Set;for(const U of R)if(typeof U=="string"&&V7[U])for(const W of V7[U])M.add(W);else M.add(U);return Array.from(M)}(p.include.concat(w).filter(D)).filter(D).map(R=>typeof R=="string"&&z7[R]?z7[R]:R).filter(R=>typeof R=="object").map(R=>({from:Yse(R.from),to:Kse(R.to)}))}(f.config.get("typing.transformations")),d=new B7(f.model,p=>{for(const w of a)if(w.from.test(p))return{normalizedTransformation:w}});d.on("matched:data",(p,w)=>{if(!w.batch.isTyping)return;const{from:k,to:D}=w.normalizedTransformation,R=k.exec(w.text),M=D(R.slice(1)),U=w.range;let W=R.index;t.enqueueChange(Z=>{for(let re=1;re<R.length;re++){const le=R[re],xe=M[re-1];if(xe==null){W+=le.length;continue}const Pe=U.start.getShiftedBy(W),Ge=t.createRange(Pe,Pe.getShiftedBy(le.length)),tt=Zse(Pe);t.insertContent(Z.createText(xe,tt),Ge),W+=xe.length}t.enqueueChange(()=>{s.requestUndoOnBackspace()})})}),d.bind("isEnabled").to(this)}},class{constructor(f){this.editor=f}afterInit(){const f=this.editor,t=f.config._config.table.customClass&&Array.isArray(f.config._config.table.customClass)?f.config._config.table.customClass:null,s=f.config._config.image.customClass&&Array.isArray(f.config._config.image.customClass)?f.config._config.image.customClass:null;t&&(vz("table","table",f,t),f.conversion.for("upcast").add(YI("figure",t),{priority:"low"})),s&&(vz("img","image",f,s),f.conversion.for("upcast").add(YI("figure",s),{priority:"low"}))}}],KI.defaultConfig={toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","indent","outdent","|","imageUpload","imageResize","insertImage","insertImageFromUnsplash","code","codeBlock","blockQuote","insertTable","mediaEmbed","undo","redo"]},image:{toolbar:["imageStyle:side","|","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),l=l.default})())})(c5,c5.exports);var wxe=c5.exports;const xxe=Z5(wxe),v8=({content:n,onChange:e,onSave:i,onCancel:r})=>b.jsxs("div",{className:"space-y-4",children:[b.jsx("div",{className:"border border-slate-200 rounded-lg bg-slate-50",children:b.jsx(vxe.CKEditor,{editor:xxe,data:n,config:{toolbar:["heading","|","bold","italic","underline","link","|","bulletedList","numberedList","|","insertTable","codeBlock","blockQuote","undo","redo","pasteFromOffice"]},onChange:(o,l)=>{const c=l.getData();e(c)}})}),b.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[b.jsx("button",{onClick:r,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg flex items-center",children:"Cancel"}),b.jsx("button",{onClick:i,className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 flex items-center",children:"Save"})]}),b.jsx("style",{children:`
        .ck-editor__editable_inline {
          border-radius: 0.5rem !important;
          background: #f8fafc !important;
          min-height: 400px !important;
          padding: 1rem !important;
          border: none !important;
        }
        .ck.ck-toolbar {
          border-radius: 0.5rem 0.5rem 0 0 !important;
          background: #f1f5f9 !important;
          border: none !important;
        }
      `})]}),_xe=()=>{const[n,e]=G.useState(""),[i,r]=G.useState(""),[o,l]=G.useState("Experience Reports"),[c,u]=G.useState([]),[h,m]=G.useState(!1),g=ys(),{addDocument:y}=yJ(),v=async()=>{try{if(!i.trim()){alert("Please enter a document name");return}m(!0),y(i,n,o),g("/documents")}catch(S){console.error("Error saving document:",S),alert("Error saving document. Please try again.")}finally{m(!1)}},_=async S=>{var C;const T=(C=S.target.files)==null?void 0:C[0];if(T)try{const N={id:Date.now().toString(),name:T.name,type:T.type,size:T.size,url:URL.createObjectURL(T)};u(I=>[...I,N])}catch(N){console.error("Error uploading file:",N),alert("Error uploading file. Please try again.")}},A=S=>{u(T=>T.filter(C=>C.id!==S))};return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsx("button",{onClick:()=>g("/documents"),className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100",children:b.jsx(zZ,{size:20})}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"New Text Document"}),b.jsx("p",{className:"text-slate-500 mt-1",children:"Write and save your text"})]})]}),b.jsxs("div",{className:"card space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"documentName",className:"block text-sm font-medium text-slate-700 mb-1",children:"Document Name"}),b.jsx("input",{id:"documentName",type:"text",value:i,onChange:S=>r(S.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter document name..."})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-slate-700 mb-1",children:"Category"}),b.jsxs("select",{id:"category",value:o,onChange:S=>l(S.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:[b.jsx("option",{value:"Experience Reports",children:"Experience Reports"}),b.jsx("option",{value:"Technical Reports",children:"Technical Reports"}),b.jsx("option",{value:"Certificates",children:"Certificates"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Content"}),b.jsx(v8,{content:n,onChange:e,onSave:v,onCancel:()=>g("/documents")})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Attachments"}),b.jsxs("div",{className:"space-y-2",children:[c.map(S=>b.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded-lg",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx(o5,{size:16,className:"text-slate-500"}),b.jsx("span",{className:"text-sm text-slate-700",children:S.name}),b.jsxs("span",{className:"text-xs text-slate-500",children:["(",(S.size/1024).toFixed(1)," KB)"]})]}),b.jsx("button",{onClick:()=>A(S.id),className:"p-1 text-slate-500 hover:text-red-600",children:b.jsx(zs,{size:16})})]},S.id)),b.jsxs("label",{className:"flex items-center space-x-2 p-2 border-2 border-dashed border-slate-200 rounded-lg cursor-pointer hover:border-teal-500",children:[b.jsx(o5,{size:16,className:"text-slate-500"}),b.jsx("span",{className:"text-sm text-slate-700",children:"Add attachment"}),b.jsx("input",{type:"file",className:"hidden",onChange:_})]})]})]})]}),b.jsx("div",{className:"flex justify-end",children:b.jsxs("button",{onClick:v,disabled:h,className:"btn btn-primary flex items-center",children:[b.jsx(GZ,{size:16,className:"mr-1.5"}),h?"Saving...":"Save Document"]})})]})},kxe=()=>b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#F5F7FA] p-4",children:b.jsxs("div",{className:"text-center",children:[b.jsx("h1",{className:"text-9xl font-bold text-teal-600",children:"404"}),b.jsx("h2",{className:"text-3xl font-semibold text-slate-800 mt-4",children:"Page Not Found"}),b.jsx("p",{className:"text-slate-500 max-w-md mx-auto mt-2",children:"The page you're looking for doesn't exist or has been moved."}),b.jsxs(oc,{to:"/",className:"inline-flex items-center px-4 py-2 mt-6 rounded-lg bg-teal-600 text-white hover:bg-teal-700 transition-colors",children:[b.jsx(C3,{size:18,className:"mr-2"}),"Back to Dashboard"]})]})}),Exe=()=>{const{id:n}=ohe(),e=ys(),{getDocument:i,updateDocument:r}=yJ(),[o,l]=G.useState(""),[c,u]=G.useState(""),[h,m]=G.useState("Experience Reports"),[g,y]=G.useState([]),[v,_]=G.useState(!1);G.useEffect(()=>{if(n){const C=i(n);C?(l(C.content),u(C.name),m(C.category),C.attachments&&y(C.attachments)):e("/documents")}},[n,i,e]);const A=async()=>{try{if(!c.trim()){alert("Please enter a document name");return}_(!0),n&&(await r(n,{name:c,content:o,category:h,attachments:g}),e("/documents"))}catch(C){console.error("Error updating document:",C),alert("Error updating document. Please try again.")}finally{_(!1)}},S=async C=>{var I;const N=(I=C.target.files)==null?void 0:I[0];if(N)try{const O={id:Date.now().toString(),name:N.name,type:N.type,size:N.size,url:URL.createObjectURL(N)};y(F=>[...F,O])}catch(O){console.error("Error uploading file:",O),alert("Error uploading file. Please try again.")}},T=C=>{y(N=>N.filter(I=>I.id!==C))};return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsx("button",{onClick:()=>e("/documents"),className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100",children:b.jsx(zZ,{size:20})}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Edit Document"}),b.jsx("p",{className:"text-slate-500 mt-1",children:"Modify your document"})]})]}),b.jsxs("div",{className:"card space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"documentName",className:"block text-sm font-medium text-slate-700 mb-1",children:"Document Name"}),b.jsx("input",{id:"documentName",type:"text",value:c,onChange:C=>u(C.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter document name..."})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-slate-700 mb-1",children:"Category"}),b.jsxs("select",{id:"category",value:h,onChange:C=>m(C.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:[b.jsx("option",{value:"Experience Reports",children:"Experience Reports"}),b.jsx("option",{value:"Technical Reports",children:"Technical Reports"}),b.jsx("option",{value:"Certificates",children:"Certificates"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Content"}),b.jsx(v8,{content:o,onChange:l,onSave:A,onCancel:()=>e("/documents")})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Attachments"}),b.jsxs("div",{className:"space-y-2",children:[g.map(C=>b.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded-lg",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx(o5,{size:16,className:"text-slate-500"}),b.jsx("span",{className:"text-sm text-slate-700",children:C.name}),b.jsxs("span",{className:"text-xs text-slate-500",children:["(",(C.size/1024).toFixed(1)," KB)"]})]}),b.jsx("button",{onClick:()=>T(C.id),className:"p-1 text-slate-500 hover:text-red-600",children:b.jsx(zs,{size:16})})]},C.id)),b.jsxs("label",{className:"flex items-center space-x-2 p-2 border-2 border-dashed border-slate-200 rounded-lg cursor-pointer hover:border-teal-500",children:[b.jsx(o5,{size:16,className:"text-slate-500"}),b.jsx("span",{className:"text-sm text-slate-700",children:"Add attachment"}),b.jsx("input",{type:"file",className:"hidden",onChange:S})]})]})]})]}),b.jsx("div",{className:"flex justify-end",children:b.jsxs("button",{onClick:A,disabled:v,className:"btn btn-primary flex items-center",children:[b.jsx(GZ,{size:16,className:"mr-1.5"}),v?"Saving...":"Save Changes"]})})]})},vJ=bc()(y8(n=>({supervisorReviews:!0,saoFeedback:!0,relationships:!0,userSkills:!0,toggleSupervisorReviews:()=>n(e=>({supervisorReviews:!e.supervisorReviews})),toggleSaoFeedback:()=>n(e=>({saoFeedback:!e.saoFeedback})),toggleRelationships:()=>n(e=>({relationships:!e.relationships})),toggleUserSkills:()=>n(e=>({userSkills:!e.userSkills}))}),{name:"notification-preferences"}));var Sxe=Object.defineProperty,Axe=(n,e,i)=>e in n?Sxe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[e]=i,Zj=(n,e,i)=>(Axe(n,typeof e!="symbol"?e+"":e,i),i);let Txe=class{constructor(){Zj(this,"current",this.detect()),Zj(this,"handoffState","pending"),Zj(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},bw=new Txe,W1=(n,e)=>{bw.isServer?G.useEffect(n,e):G.useLayoutEffect(n,e)};function Cxe(n){let e=G.useRef(n);return W1(()=>{e.current=n},[n]),e}let Sm=function(n){let e=Cxe(n);return ai.useCallback((...i)=>e.current(...i),[e])};function Dxe(n,e,i){let[r,o]=G.useState(i),l=n!==void 0,c=G.useRef(l),u=G.useRef(!1),h=G.useRef(!1);return l&&!c.current&&!u.current?(u.current=!0,c.current=l,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!l&&c.current&&!h.current&&(h.current=!0,c.current=l,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[l?n:r,Sm(m=>(l||o(m),e==null?void 0:e(m)))]}function Nxe(n){typeof queueMicrotask=="function"?queueMicrotask(n):Promise.resolve().then(n).catch(e=>setTimeout(()=>{throw e}))}function wJ(){let n=[],e={addEventListener(i,r,o,l){return i.addEventListener(r,o,l),e.add(()=>i.removeEventListener(r,o,l))},requestAnimationFrame(...i){let r=requestAnimationFrame(...i);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...i){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...i))},setTimeout(...i){let r=setTimeout(...i);return e.add(()=>clearTimeout(r))},microTask(...i){let r={current:!0};return Nxe(()=>{r.current&&i[0]()}),e.add(()=>{r.current=!1})},style(i,r,o){let l=i.style.getPropertyValue(r);return Object.assign(i.style,{[r]:o}),this.add(()=>{Object.assign(i.style,{[r]:l})})},group(i){let r=wJ();return i(r),this.add(()=>r.dispose())},add(i){return n.push(i),()=>{let r=n.indexOf(i);if(r>=0)for(let o of n.splice(r,1))o()}},dispose(){for(let i of n.splice(0))i()}};return e}function Pxe(){let[n]=G.useState(wJ);return G.useEffect(()=>()=>n.dispose(),[n]),n}function Ixe(){let n=typeof document>"u";return"useSyncExternalStore"in yR?(e=>e.useSyncExternalStore)(yR)(()=>()=>{},()=>!1,()=>!n):!1}function jxe(){let n=Ixe(),[e,i]=G.useState(bw.isHandoffComplete);return e&&bw.isHandoffComplete===!1&&i(!1),G.useEffect(()=>{e!==!0&&i(!0)},[e]),G.useEffect(()=>bw.handoff(),[]),n?!1:e}var L$;let w8=(L$=ai.useId)!=null?L$:function(){let n=jxe(),[e,i]=ai.useState(n?()=>bw.nextId():null);return W1(()=>{e===null&&i(bw.nextId())},[e]),e!=null?""+e:void 0};function xJ(n,e,...i){if(n in e){let o=e[n];return typeof o=="function"?o(...i):o}let r=new Error(`Tried to handle "${n}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,xJ),r}function U$(n){var e;if(n.type)return n.type;let i=(e=n.as)!=null?e:"button";if(typeof i=="string"&&i.toLowerCase()==="button")return"button"}function Rxe(n,e){let[i,r]=G.useState(()=>U$(n));return W1(()=>{r(U$(n))},[n.type,n.as]),W1(()=>{i||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&r("button")},[i,e]),i}let Mxe=Symbol();function x8(...n){let e=G.useRef(n);G.useEffect(()=>{e.current=n},[n]);let i=Sm(r=>{for(let o of e.current)o!=null&&(typeof o=="function"?o(r):o.current=r)});return n.every(r=>r==null||(r==null?void 0:r[Mxe]))?void 0:i}function B$(...n){return Array.from(new Set(n.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var Oxe=(n=>(n[n.None=0]="None",n[n.RenderStrategy=1]="RenderStrategy",n[n.Static=2]="Static",n))(Oxe||{}),Fxe=(n=>(n[n.Unmount=0]="Unmount",n[n.Hidden=1]="Hidden",n))(Fxe||{});function sA({ourProps:n,theirProps:e,slot:i,defaultTag:r,features:o,visible:l=!0,name:c,mergeRefs:u}){u=u??Lxe;let h=_J(e,n);if(l)return dD(h,i,r,c,u);let m=o??0;if(m&2){let{static:g=!1,...y}=h;if(g)return dD(y,i,r,c,u)}if(m&1){let{unmount:g=!0,...y}=h;return xJ(g?0:1,{0(){return null},1(){return dD({...y,hidden:!0,style:{display:"none"}},i,r,c,u)}})}return dD(h,i,r,c,u)}function dD(n,e={},i,r,o){let{as:l=i,children:c,refName:u="ref",...h}=Jj(n,["unmount","static"]),m=n.ref!==void 0?{[u]:n.ref}:{},g=typeof c=="function"?c(e):c;"className"in h&&h.className&&typeof h.className=="function"&&(h.className=h.className(e));let y={};if(e){let v=!1,_=[];for(let[A,S]of Object.entries(e))typeof S=="boolean"&&(v=!0),S===!0&&_.push(A);v&&(y["data-headlessui-state"]=_.join(" "))}if(l===G.Fragment&&Object.keys(ZM(h)).length>0){if(!G.isValidElement(g)||Array.isArray(g)&&g.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(h).map(S=>`  - ${S}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(S=>`  - ${S}`).join(`
`)].join(`
`));let v=g.props,_=typeof(v==null?void 0:v.className)=="function"?(...S)=>B$(v==null?void 0:v.className(...S),h.className):B$(v==null?void 0:v.className,h.className),A=_?{className:_}:{};return G.cloneElement(g,Object.assign({},_J(g.props,ZM(Jj(h,["ref"]))),y,m,{ref:o(g.ref,m.ref)},A))}return G.createElement(l,Object.assign({},Jj(h,["ref"]),l!==G.Fragment&&m,l!==G.Fragment&&y),g)}function Lxe(...n){return n.every(e=>e==null)?void 0:e=>{for(let i of n)i!=null&&(typeof i=="function"?i(e):i.current=e)}}function _J(...n){if(n.length===0)return{};if(n.length===1)return n[0];let e={},i={};for(let r of n)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(i[o]!=null||(i[o]=[]),i[o].push(r[o])):e[o]=r[o];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(i).map(r=>[r,void 0])));for(let r in i)Object.assign(e,{[r](o,...l){let c=i[r];for(let u of c){if((o instanceof Event||(o==null?void 0:o.nativeEvent)instanceof Event)&&o.defaultPrevented)return;u(o,...l)}}});return e}function P3(n){var e;return Object.assign(G.forwardRef(n),{displayName:(e=n.displayName)!=null?e:n.name})}function ZM(n){let e=Object.assign({},n);for(let i in e)e[i]===void 0&&delete e[i];return e}function Jj(n,e=[]){let i=Object.assign({},n);for(let r of e)r in i&&delete i[r];return i}let Uxe="div";var kJ=(n=>(n[n.None=1]="None",n[n.Focusable=2]="Focusable",n[n.Hidden=4]="Hidden",n))(kJ||{});function Bxe(n,e){var i;let{features:r=1,...o}=n,l={ref:e,"aria-hidden":(r&2)===2?!0:(i=o["aria-hidden"])!=null?i:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return sA({ourProps:l,theirProps:o,slot:{},defaultTag:Uxe,name:"Hidden"})}let zxe=P3(Bxe);function Vxe(n){let e=n.parentElement,i=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(i=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&Wxe(i)?!1:r}function Wxe(n){if(!n)return!1;let e=n.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}function $xe(n){var e,i;let r=(e=n==null?void 0:n.form)!=null?e:n.closest("form");if(r){for(let o of r.elements)if(o!==n&&(o.tagName==="INPUT"&&o.type==="submit"||o.tagName==="BUTTON"&&o.type==="submit"||o.nodeName==="INPUT"&&o.type==="image")){o.click();return}(i=r.requestSubmit)==null||i.call(r)}}var JM=(n=>(n.Space=" ",n.Enter="Enter",n.Escape="Escape",n.Backspace="Backspace",n.Delete="Delete",n.ArrowLeft="ArrowLeft",n.ArrowUp="ArrowUp",n.ArrowRight="ArrowRight",n.ArrowDown="ArrowDown",n.Home="Home",n.End="End",n.PageUp="PageUp",n.PageDown="PageDown",n.Tab="Tab",n))(JM||{});let EJ=G.createContext(null);function SJ(){let n=G.useContext(EJ);if(n===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,SJ),e}return n}function qxe(){let[n,e]=G.useState([]);return[n.length>0?n.join(" "):void 0,G.useMemo(()=>function(i){let r=Sm(l=>(e(c=>[...c,l]),()=>e(c=>{let u=c.slice(),h=u.indexOf(l);return h!==-1&&u.splice(h,1),u}))),o=G.useMemo(()=>({register:r,slot:i.slot,name:i.name,props:i.props}),[r,i.slot,i.name,i.props]);return ai.createElement(EJ.Provider,{value:o},i.children)},[e])]}let Hxe="p";function Gxe(n,e){let i=w8(),{id:r=`headlessui-description-${i}`,...o}=n,l=SJ(),c=x8(e);W1(()=>l.register(r),[r,l.register]);let u={ref:c,...l.props,id:r};return sA({ourProps:u,theirProps:o,slot:l.slot||{},defaultTag:Hxe,name:l.name||"Description"})}let Xxe=P3(Gxe),Yxe=Object.assign(Xxe,{}),AJ=G.createContext(null);function TJ(){let n=G.useContext(AJ);if(n===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,TJ),e}return n}function Kxe(){let[n,e]=G.useState([]);return[n.length>0?n.join(" "):void 0,G.useMemo(()=>function(i){let r=Sm(l=>(e(c=>[...c,l]),()=>e(c=>{let u=c.slice(),h=u.indexOf(l);return h!==-1&&u.splice(h,1),u}))),o=G.useMemo(()=>({register:r,slot:i.slot,name:i.name,props:i.props}),[r,i.slot,i.name,i.props]);return ai.createElement(AJ.Provider,{value:o},i.children)},[e])]}let Zxe="label";function Jxe(n,e){let i=w8(),{id:r=`headlessui-label-${i}`,passive:o=!1,...l}=n,c=TJ(),u=x8(e);W1(()=>c.register(r),[r,c.register]);let h={ref:u,...c.props,id:r};return o&&("onClick"in h&&(delete h.htmlFor,delete h.onClick),"onClick"in l&&delete l.onClick),sA({ourProps:h,theirProps:l,slot:c.slot||{},defaultTag:Zxe,name:c.name||"Label"})}let Qxe=P3(Jxe),e_e=Object.assign(Qxe,{}),_8=G.createContext(null);_8.displayName="GroupContext";let t_e=G.Fragment;function n_e(n){var e;let[i,r]=G.useState(null),[o,l]=Kxe(),[c,u]=qxe(),h=G.useMemo(()=>({switch:i,setSwitch:r,labelledby:o,describedby:c}),[i,r,o,c]),m={},g=n;return ai.createElement(u,{name:"Switch.Description"},ai.createElement(l,{name:"Switch.Label",props:{htmlFor:(e=h.switch)==null?void 0:e.id,onClick(y){i&&(y.currentTarget.tagName==="LABEL"&&y.preventDefault(),i.click(),i.focus({preventScroll:!0}))}}},ai.createElement(_8.Provider,{value:h},sA({ourProps:m,theirProps:g,defaultTag:t_e,name:"Switch.Group"}))))}let i_e="button";function r_e(n,e){var i;let r=w8(),{id:o=`headlessui-switch-${r}`,checked:l,defaultChecked:c=!1,onChange:u,disabled:h=!1,name:m,value:g,form:y,...v}=n,_=G.useContext(_8),A=G.useRef(null),S=x8(A,e,_===null?null:_.setSwitch),[T,C]=Dxe(l,u,c),N=Sm(()=>C==null?void 0:C(!T)),I=Sm(Y=>{if(Vxe(Y.currentTarget))return Y.preventDefault();Y.preventDefault(),N()}),O=Sm(Y=>{Y.key===JM.Space?(Y.preventDefault(),N()):Y.key===JM.Enter&&$xe(Y.currentTarget)}),F=Sm(Y=>Y.preventDefault()),L=G.useMemo(()=>({checked:T}),[T]),z={id:o,ref:S,role:"switch",type:Rxe(n,A),tabIndex:n.tabIndex===-1?0:(i=n.tabIndex)!=null?i:0,"aria-checked":T,"aria-labelledby":_==null?void 0:_.labelledby,"aria-describedby":_==null?void 0:_.describedby,disabled:h,onClick:I,onKeyUp:O,onKeyPress:F},B=Pxe();return G.useEffect(()=>{var Y;let se=(Y=A.current)==null?void 0:Y.closest("form");se&&c!==void 0&&B.addEventListener(se,"reset",()=>{C(c)})},[A,C]),ai.createElement(ai.Fragment,null,m!=null&&T&&ai.createElement(zxe,{features:kJ.Hidden,...ZM({as:"input",type:"checkbox",hidden:!0,readOnly:!0,disabled:h,form:y,checked:T,name:m,value:g})}),sA({ourProps:z,theirProps:v,slot:L,defaultTag:i_e,name:"Switch"}))}let s_e=P3(r_e),o_e=n_e,of=Object.assign(s_e,{Group:o_e,Label:e_e,Description:Yxe});async function ax({userId:n,type:e,title:i,message:r="",data:o={}}){const{error:l}=await Re.from("notifications").insert({user_id:n,type:e,title:i,message:r,data:o,read:!1,created_at:new Date().toISOString()});if(l)throw l}const a_e=async(n,e)=>ax({userId:n,type:"request",title:"New EIT Connection Request",message:`${e} has requested to connect with you as their supervisor.`,data:{type:"supervisor_request"}}),l_e=async(n,e,i)=>ax({userId:n,type:"score",title:"New Skill Score",message:`You received a score of ${i} for ${e}.`,data:{type:"skill_score",skillName:e,score:i}}),QM=async(n,e,i)=>ax({userId:n,type:"validation_request",title:"New Skill Validation Request",message:`${e} has requested your validation for ${i}.`,data:{type:"validation_request",skillName:i}}),c_e=async(n,e,i)=>ax({userId:n,type:"score",title:"New SAO Score",message:`You received a score of ${i} for your SAO: "${e}".`,data:{type:"sao_score",saoTitle:e,score:i}}),u_e=async(n,e,i)=>ax({userId:n,type:"validation_request",title:"New SAO Validation Request",message:`${e} has requested your validation for SAO: "${i}".`,data:{type:"sao_validation_request",saoTitle:i}}),d_e=()=>{const[n,e]=G.useState(null),[i,r]=G.useState(""),[o,l]=G.useState(""),[c,u]=G.useState(""),[h,m]=G.useState(""),[g,y]=G.useState(!1),[v,_]=G.useState({type:"",text:""}),[A,S]=G.useState(!1),[T,C]=G.useState(!1),[N,I]=G.useState(!1),[O,F]=G.useState(""),[L,z]=G.useState(""),[B,Y]=G.useState(""),[se,de]=G.useState(""),[J,be]=G.useState("Free"),[q,Te]=G.useState(null),[ie,ce]=G.useState(""),[X,K]=G.useState(null),[ne,ee]=G.useState(""),[ue,Q]=G.useState("idle"),[fe,Se]=G.useState(""),[Oe,Ie]=G.useState([]),[je,Be]=G.useState(!1),[Fe,Ae]=G.useState(""),[ke,ze]=G.useState(""),[$,Ce]=G.useState(""),[Me,ye]=G.useState("idle"),[_e,Le]=G.useState(""),[Ve,$e]=G.useState(!1),[Ne,Ee]=G.useState(!1),[ve,ae]=G.useState(""),[Ue,Je]=G.useState(""),[nt,dt]=G.useState(""),[ft,Ot]=G.useState(""),[Ct,$t]=G.useState(!1),[At,Zt]=G.useState(null),[qt,En]=G.useState(!1),[Or,$i]=G.useState(""),[qi,Pi]=G.useState(""),[Yn,bi]=G.useState(""),[yi,mt]=G.useState(!1),[Ft,on]=G.useState(null),[Mn,On]=G.useState(!1),[pr,Fi]=G.useState(!1),[gt,bn]=G.useState(""),[Hi,Er]=G.useState(""),[Fr,Gs]=G.useState(""),[ws,sr]=G.useState(!1),[xs,yo]=G.useState(null),[Jr,Lr]=G.useState(!1),[xi,Dt]=G.useState(""),[He,rt]=G.useState(""),{supervisorReviews:wt,saoFeedback:Sn,relationships:ui,userSkills:Qn,toggleSupervisorReviews:or,toggleSaoFeedback:Gi,toggleRelationships:Qo,toggleUserSkills:xl}=vJ(),{tier:xn,documentLimit:vo,saoLimit:wo,supervisorLimit:_l,hasAiAccess:rg,fetchSubscription:Od,checkDocumentLimit:mu,checkSaoLimit:xo,checkSupervisorLimit:ea}=rA();G.useEffect(()=>{(async()=>{var Et,vi;const{data:{user:vt}}=await Re.auth.getUser();if(vt){e(vt),r(((Et=vt.user_metadata)==null?void 0:Et.full_name)||""),l(vt.email||""),u(vt.email||""),m(((vi=vt.user_metadata)==null?void 0:vi.avatar_url)||"");const{data:Ii}=await Re.from("eit_profiles").select("id, start_date, target_date").eq("id",vt.id).single();Ii&&(K("eit"),Dt(Ii.start_date||""),rt(Ii.target_date||""));const{data:Qr}=await Re.from("supervisor_profiles").select("id").eq("id",vt.id).single();Qr&&K("supervisor")}})(),Od()},[]),G.useEffect(()=>{X==="eit"&&n&&kl(n.id)},[X,n]),G.useEffect(()=>{n&&Re.auth.mfa.listFactors().then(({data:ct})=>{var Et;const vt=(Et=ct==null?void 0:ct.all)==null?void 0:Et.find(vi=>vi.factor_type==="totp"&&vi.status==="verified");Be(!!vt)})},[n]),G.useEffect(()=>{Od()},[]);const _o=ct=>ct.split(" ").map(vt=>vt[0]).join("").toUpperCase(),Sr=async()=>{if(!(!q||!n)){y(!0);try{const ct=q.name.split(".").pop(),vt=`${n.id}.${ct}`,{error:Et}=await Re.storage.from("avatars").upload(vt,q,{upsert:!0});if(Et)throw Et;const{data:vi}=Re.storage.from("avatars").getPublicUrl(vt),Ii=vi.publicUrl,{error:Qr}=await Re.auth.updateUser({data:{...n.user_metadata,avatar_url:Ii}});if(Qr)throw Qr;m(Ii),_({type:"success",text:"Profile picture updated!"}),Te(null),ce("")}catch{_({type:"error",text:"Failed to update avatar."})}finally{y(!1)}}},Pa=async()=>{if(n){y(!0);try{const{error:ct}=await Re.auth.updateUser({data:{...n.user_metadata,avatar_url:""}});if(ct)throw ct;m(""),_({type:"success",text:"Profile picture removed."})}catch{_({type:"error",text:"Failed to remove avatar."})}finally{y(!1)}}},yc=async ct=>{ct.preventDefault(),y(!0),_({type:"",text:""});try{const vt={};A&&(vt.data={full_name:i}),T&&c!==o&&(vt.email=c);const{error:Et}=await Re.auth.updateUser(vt);if(Et)throw Et;_({type:"success",text:"Profile updated successfully!"}),S(!1),C(!1);const{data:{user:vi}}=await Re.auth.getUser();vi&&(e(vi),l(vi.email||""),u(vi.email||""))}catch(vt){_({type:"error",text:"Failed to update profile. Please try again."}),console.error("Error updating profile:",vt)}finally{y(!1)}},kl=async ct=>{const{data:vt}=await Re.from("supervisor_eit_relationships").select("supervisor_profiles (id, full_name, email)").eq("eit_id",ct).eq("status","active");vt&&Ie(vt.map(Et=>Et.supervisor_profiles).filter(Et=>Et))},vc=async ct=>{var vt;if(ct.preventDefault(),Q("idle"),Se(""),!!ne){y(!0);try{const{data:Et}=await Re.from("supervisor_profiles").select("id, email, full_name").eq("email",ne).single();if(!Et){Q("notfound"),Se("No supervisor found with that email."),y(!1);return}const{data:vi}=await Re.from("supervisor_eit_relationships").select("id, status").eq("supervisor_id",Et.id).eq("eit_id",n==null?void 0:n.id).maybeSingle();if(vi&&vi.status==="pending"){Q("pending"),Se("A request is already pending for this supervisor."),y(!1);return}if(vi&&vi.status==="active"){Q("already"),Se("This supervisor is already connected."),y(!1);return}const{count:Ii,error:Qr}=await Re.from("supervisor_eit_relationships").select("id",{count:"exact",head:!0}).eq("supervisor_id",Et.id).eq("status","active");if(Qr)throw Qr;if(xn==="free"&&(typeof Ii=="number"?Ii:0)>=_l){Q("error"),Se("This supervisor has reached their free plan EIT limit and cannot accept more requests."),y(!1);return}const{error:Ur}=await Re.from("supervisor_eit_relationships").upsert({supervisor_id:Et.id,eit_id:n==null?void 0:n.id,status:"pending",created_at:new Date().toISOString(),updated_at:new Date().toISOString()});if(Ur)throw Ur;if(!n){Q("error"),Se("User not found. Please re-login."),y(!1);return}await a_e(Et.id,((vt=n.user_metadata)==null?void 0:vt.full_name)||n.email),Q("success"),Se("Request sent! Your supervisor will see it in their dashboard."),ee(""),n&&kl(n.id)}catch(Et){console.error(Et),Q("error"),Se("Failed to send request. Please try again.")}finally{y(!1)}}};return b.jsxs("div",{className:"min-h-screen bg-gray-50",children:[b.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:b.jsxs("div",{className:"space-y-8 divide-y divide-gray-200",children:[b.jsxs("div",{className:"space-y-6 pt-8",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Profile"}),b.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Update your profile information and preferences."})]}),b.jsxs("section",{className:"card p-6 flex flex-col md:flex-row gap-6 items-center",children:[b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsxs("div",{className:"relative",children:[ie||h?b.jsx("img",{src:ie||h,className:"w-24 h-24 rounded-full object-cover bg-slate-100",alt:"Profile"}):b.jsx("div",{className:"w-24 h-24 rounded-full bg-teal-500 flex items-center justify-center text-white text-3xl font-bold",children:_o(i||o)}),(ie||h)&&b.jsx("button",{className:"absolute -top-2 -right-2 bg-slate-100 rounded-full p-1 shadow hover:bg-slate-200",onClick:Pa,disabled:g,title:"Remove profile picture",style:{zIndex:10},children:b.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",className:"text-red-600",children:b.jsx("path",{d:"M6 6l8 8M6 14L14 6",strokeWidth:"2"})})})]}),q&&b.jsx("button",{className:"btn btn-primary mt-2",onClick:Sr,disabled:g,children:g?"Uploading...":"Save Photo"})]}),b.jsxs("form",{className:"flex-1 space-y-4",onSubmit:yc,children:[b.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[b.jsx(KZ,{})," Profile Information",X&&b.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${X==="eit"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:X.toUpperCase()})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"fullName",className:"label",children:"Full Name"}),A?b.jsxs("div",{className:"space-y-2",children:[b.jsx("input",{type:"text",id:"fullName",value:i,onChange:ct=>r(ct.target.value),className:"input",placeholder:"Enter your full name"}),b.jsx("div",{className:"flex space-x-2",children:b.jsx("button",{type:"button",onClick:()=>S(!1),className:"btn btn-secondary",children:"Cancel"})})]}):b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("p",{children:i||"Not set"}),b.jsx("button",{type:"button",onClick:()=>S(!0),className:"text-sm text-teal-600 hover:text-teal-700",children:"Edit"})]})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"label",children:"Email Address"}),T?b.jsxs("div",{className:"space-y-2",children:[b.jsx("input",{type:"email",id:"newEmail",value:c,onChange:ct=>u(ct.target.value),className:"input",placeholder:"Enter your new email"}),b.jsx("p",{className:"text-sm text-slate-500",children:"After changing your email, you'll need to use the new email address to log in."}),b.jsx("div",{className:"flex space-x-2",children:b.jsx("button",{type:"button",onClick:()=>C(!1),className:"btn btn-secondary",children:"Cancel"})})]}):b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("p",{children:o}),b.jsx("button",{type:"button",onClick:()=>C(!0),className:"text-sm text-teal-600 hover:text-teal-700",children:"Edit"})]})]}),(A||T)&&b.jsx("button",{type:"submit",disabled:g,className:"btn btn-primary",children:g?"Saving...":"Save Changes"})]})]})]}),X==="eit"&&b.jsxs("section",{className:"card p-6",children:[b.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[b.jsx(sE,{})," Program Timeline"]}),b.jsxs("form",{className:"flex flex-col gap-6",onSubmit:async ct=>{if(ct.preventDefault(),y(!0),_({type:"",text:""}),xi&&He&&new Date(He)<=new Date(xi)){_({type:"error",text:"End date must be after start date."}),y(!1);return}try{const{error:vt}=await Re.from("eit_profiles").update({start_date:xi,target_date:He}).eq("id",n==null?void 0:n.id);if(vt)throw vt;_({type:"success",text:"Timeline updated!"})}catch{_({type:"error",text:"Failed to update timeline."})}finally{y(!1)}},children:[b.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center w-full",children:[b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Start Date"}),b.jsx("input",{type:"date",value:xi||"",onChange:ct=>Dt(ct.target.value),className:"input"}),xi&&b.jsx("span",{className:"text-xs text-slate-500 mt-1",children:new Date(xi).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})})]}),b.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[b.jsxs("div",{className:"w-full max-w-xs flex items-center gap-2",children:[b.jsx("span",{className:"w-2 h-2 rounded-full bg-teal-500"}),b.jsx("div",{className:"flex-1 h-1 bg-slate-200 rounded-full relative",children:xi&&He&&b.jsx("div",{className:"h-1 bg-teal-400 rounded-full absolute top-0 left-0",style:{width:(()=>{const ct=new Date().getTime(),vt=new Date(xi).getTime(),Et=new Date(He).getTime();return Et<=vt?"0%":`${Math.max(0,Math.min(100,(ct-vt)/(Et-vt)*100))}%`})(),transition:"width 0.5s"}})}),b.jsx("span",{className:"w-2 h-2 rounded-full bg-teal-500"})]}),b.jsxs("div",{className:"flex justify-between w-full max-w-xs text-xs text-slate-400 mt-1",children:[b.jsx("span",{children:xi?new Date(xi).toLocaleDateString(void 0,{month:"short",year:"numeric"}):""}),b.jsx("span",{children:He?new Date(He).toLocaleDateString(void 0,{month:"short",year:"numeric"}):""})]})]}),b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Expected End Date"}),b.jsx("input",{type:"date",value:He||"",onChange:ct=>rt(ct.target.value),className:"input"}),He&&b.jsx("span",{className:"text-xs text-slate-500 mt-1",children:new Date(He).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})})]})]}),b.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[b.jsx("button",{type:"submit",className:"btn btn-primary",disabled:g,children:g?"Saving...":"Save Dates"}),v.type==="success"&&b.jsxs("span",{className:"text-green-600 flex items-center gap-1 font-medium",children:[b.jsx(Hye,{size:18})," Saved!"]}),v.type==="error"&&b.jsx("span",{className:"text-red-600 text-sm",children:v.text})]})]})]}),b.jsxs("div",{className:"pt-8",children:[b.jsxs("div",{className:"mb-6 text-center",children:[b.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-2",children:"Choose Your Plan"}),b.jsx("p",{className:"text-gray-600 text-md max-w-2xl mx-auto",children:"Select the plan that best fits your needs"})]}),b.jsxs("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:[b.jsxs("div",{className:`border ${xn==="free"?"border-blue-500":"border-gray-200"} rounded-2xl p-8 bg-gradient-to-br from-blue-50 to-white flex flex-col items-center shadow-sm`,children:[b.jsx("h3",{className:"text-2xl font-bold text-blue-900 mb-2",children:"Free"}),b.jsx("p",{className:"text-5xl font-extrabold text-blue-800 mb-4",children:"$0"}),b.jsxs("ul",{className:"mb-6 w-full space-y-3",children:[b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"Up to 5 documents"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"Up to 5 SAOs"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"Connect with 1 supervisor"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Standard support"]})]}),xn==="free"?b.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 px-4 py-2 rounded-full font-semibold text-sm shadow",children:"Current Plan"}):b.jsx("button",{onClick:()=>window.location.href="mailto:contact@accreda.com?subject=Downgrade to Free Plan",className:"inline-block bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-full font-semibold text-sm shadow transition-colors",children:"Contact to Downgrade"})]}),b.jsxs("div",{className:`border ${xn==="pro"?"border-teal-500":"border-gray-200"} rounded-2xl p-8 bg-gradient-to-br from-teal-50 to-white flex flex-col items-center shadow-sm relative`,children:[b.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:b.jsx("span",{className:"bg-teal-500 text-white px-4 py-1 rounded-full text-sm font-semibold",children:"Most Popular"})}),b.jsx("h3",{className:"text-2xl font-bold text-teal-900 mb-2",children:"Pro"}),b.jsxs("div",{className:"text-center mb-4",children:[b.jsx("p",{className:"text-5xl font-extrabold text-teal-800",children:"$19.99"}),b.jsx("p",{className:"text-sm text-gray-600",children:"per month"}),b.jsx("p",{className:"text-sm text-teal-600 font-medium mt-1",children:"or $17.49/month billed yearly"})]}),b.jsxs("ul",{className:"mb-6 w-full space-y-3",children:[b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Unlimited documents"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Unlimited SAOs"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Unlimited supervisors"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Priority support"]})]}),xn==="pro"?b.jsx("button",{onClick:()=>Fi(!0),className:"inline-block bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-full font-semibold text-sm shadow transition-colors",children:"Downgrade to Free"}):b.jsx("button",{onClick:()=>Ee(!0),className:"inline-block bg-teal-600 hover:bg-teal-700 text-white px-6 py-2 rounded-full font-semibold text-sm shadow transition-colors",children:"Upgrade to Pro"})]}),b.jsxs("div",{className:`border ${xn==="enterprise"?"border-purple-500":"border-gray-200"} rounded-2xl p-8 bg-gradient-to-br from-purple-50 to-white flex flex-col items-center shadow-sm`,children:[b.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-2",children:"Enterprise"}),b.jsx("p",{className:"text-base font-semibold text-purple-800 mb-4",children:"Custom Pricing"}),b.jsxs("ul",{className:"mb-6 w-full space-y-3",children:[b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Everything in Pro"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Priority support"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Dedicated account manager"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Access to Supervisor Dashboard"]})]}),xn==="enterprise"?b.jsx("span",{className:"inline-block bg-purple-100 text-purple-800 px-4 py-2 rounded-full font-semibold text-sm shadow",children:"Current Plan"}):b.jsx("button",{onClick:()=>$e(!0),className:"inline-block bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-full font-semibold text-sm shadow transition-colors",children:"Contact Us"})]})]})]}),b.jsxs("section",{className:"card p-6",children:[b.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[b.jsx($Z,{})," Security"]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"label",children:"Password"}),N?b.jsxs("div",{className:"space-y-4",children:[b.jsx("input",{type:"password",id:"currentPassword",value:O,onChange:ct=>F(ct.target.value),className:"input",placeholder:"Current password"}),b.jsx("input",{type:"password",id:"newPassword",value:L,onChange:ct=>z(ct.target.value),className:"input",placeholder:"New password"}),b.jsx("input",{type:"password",id:"confirmPassword",value:B,onChange:ct=>Y(ct.target.value),className:"input",placeholder:"Confirm new password"}),se&&b.jsx("p",{className:"text-sm text-red-600",children:se}),b.jsx("div",{className:"flex space-x-2",children:b.jsx("button",{type:"button",onClick:()=>I(!1),className:"btn btn-secondary",children:"Cancel"})})]}):b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("p",{children:"••••••••"}),b.jsx("button",{type:"button",onClick:()=>I(!0),className:"text-sm text-teal-600 hover:text-teal-700",children:"Change"})]})]}),b.jsxs("div",{className:"mt-4",children:[b.jsx("label",{className:"label",children:"Two-Factor Authentication"}),je?b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("span",{className:"text-green-700 font-medium",children:"Enabled (TOTP)"}),b.jsx("button",{className:"btn btn-danger w-fit",onClick:async()=>{var ct;ye("idle"),Le("");try{const{data:vt}=await Re.auth.mfa.listFactors(),Et=(ct=vt==null?void 0:vt.all)==null?void 0:ct.find(vi=>vi.factor_type==="totp"&&vi.status==="verified");Et&&(await Re.auth.mfa.unenroll({factorId:Et.id}),Be(!1))}catch{Le("Failed to disable 2FA.")}},children:"Disable 2FA"}),_e&&b.jsx("span",{className:"text-red-600 text-sm",children:_e})]}):Me==="enrolling"?b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("span",{children:"Scan this QR code with your authenticator app:"}),Fe&&b.jsx("img",{src:Fe,alt:"TOTP QR Code",className:"w-40 h-40"}),b.jsx("input",{type:"text",className:"input mt-2",placeholder:"Enter 6-digit code",value:$,onChange:ct=>Ce(ct.target.value),maxLength:6}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{className:"btn btn-primary w-fit",onClick:async()=>{ye("verifying"),Le("");try{const{data:ct,error:vt}=await Re.auth.mfa.challenge({factorId:ke});if(vt)throw vt;const{error:Et}=await Re.auth.mfa.verify({factorId:ke,challengeId:ct.id,code:$});if(Et)throw Et;Be(!0),ye("enabled")}catch{Le("Invalid code. Please try again."),ye("enrolling")}},disabled:$.length!==6,children:"Verify"}),b.jsx("button",{className:"btn btn-secondary w-fit",onClick:async()=>{ye("idle"),Ae(""),ze(""),Ce(""),Le("");try{const{data:ct}=await Re.auth.mfa.listFactors();if(ct!=null&&ct.all)for(const vt of ct.all)vt.factor_type==="totp"&&vt.status!=="verified"&&await Re.auth.mfa.unenroll({factorId:vt.id})}catch{}},children:"Cancel"})]}),_e&&b.jsx("span",{className:"text-red-600 text-sm",children:_e})]}):b.jsx("button",{className:"btn btn-primary w-fit",onClick:async()=>{ye("enrolling"),Le(""),Ae(""),ze(""),Ce("");try{const{data:ct}=await Re.auth.mfa.listFactors();if(ct!=null&&ct.all)for(const vt of ct.all)vt.factor_type==="totp"&&vt.status!=="verified"&&await Re.auth.mfa.unenroll({factorId:vt.id})}catch{}try{const{data:ct,error:vt}=await Re.auth.mfa.enroll({factorType:"totp"});if(vt)throw vt;Ae(ct.totp.qr_code),ze(ct.id)}catch{Le("Failed to start 2FA enrollment."),ye("idle")}},children:"Set up Two-Factor Authentication"})]})]})]}),X==="eit"&&b.jsxs("section",{className:"card p-6",children:[b.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[b.jsx(p8,{})," Supervisor Connections"]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-3",children:"Current Connections"}),Oe.length===0?b.jsx("div",{className:"text-slate-400",children:"No active supervisor connections."}):b.jsx("ul",{className:"divide-y divide-slate-200",children:Oe.map(ct=>b.jsxs("li",{className:"py-2 flex flex-col md:flex-row md:items-center md:justify-between",children:[b.jsx("span",{className:"font-medium text-slate-800",children:ct.full_name}),b.jsx("span",{className:"text-slate-500 text-sm",children:ct.email})]},ct.id))})]}),b.jsx("div",{className:"border-t border-slate-200 my-4"}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-3",children:"Connect with a New Supervisor"}),xn==="free"&&Oe.length>=_l&&b.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded text-yellow-900 font-semibold text-center",children:"You have reached your supervisor connection limit for the Free plan. Upgrade to add more."}),b.jsxs("form",{className:"flex flex-col md:flex-row gap-4 items-start md:items-end",onSubmit:vc,children:[b.jsxs("div",{className:"flex-1 w-full",children:[b.jsx("label",{htmlFor:"supervisorEmail",className:"label",children:"Supervisor Email"}),b.jsx("input",{type:"email",id:"supervisorEmail",value:ne,onChange:ct=>ee(ct.target.value),className:"input w-full",placeholder:"Enter supervisor's email",required:!0,disabled:xn==="free"&&Oe.length>=_l})]}),b.jsx("button",{type:"submit",className:"btn btn-primary whitespace-nowrap",disabled:g||xn==="free"&&Oe.length>=_l,children:g?"Sending...":"Send Request"})]}),fe&&b.jsx("div",{className:`mt-3 text-sm p-2 rounded-md ${ue==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:fe})]})]})]}),b.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[b.jsx("div",{className:"flex items-center justify-between mb-4",children:b.jsxs("div",{className:"flex items-center",children:[b.jsx(l8,{className:"h-6 w-6 text-gray-400 mr-2"}),b.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Notification Preferences"})]})}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Supervisor Reviews"}),b.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when you receive new reviews or updates"})]}),b.jsx(of,{checked:wt,onChange:or,className:`${wt?"bg-teal-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2`,children:b.jsx("span",{className:`${wt?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"SAO Feedback"}),b.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when you receive feedback on your SAOs"})]}),b.jsx(of,{checked:Sn,onChange:Gi,className:`${Sn?"bg-teal-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2`,children:b.jsx("span",{className:`${Sn?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Relationship Updates"}),b.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when your supervisor relationship status changes"})]}),b.jsx(of,{checked:ui,onChange:Qo,className:`${ui?"bg-teal-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2`,children:b.jsx("span",{className:`${ui?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"User Skills"}),b.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when your skills are validated or updated"})]}),b.jsx(of,{checked:Qn,onChange:xl,className:`${Qn?"bg-teal-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2`,children:b.jsx("span",{className:`${Qn?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),b.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Portfolio Update Reminders"}),b.jsx("p",{className:"text-sm text-gray-500",children:"Receive automated reminders to update your portfolio"})]}),b.jsx(of,{checked:!0,onChange:()=>{},className:"bg-teal-600 relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2",children:b.jsx("span",{className:"translate-x-6 inline-block h-4 w-4 transform rounded-full bg-white transition-transform"})})]}),b.jsxs("div",{className:"mt-3",children:[b.jsx("label",{htmlFor:"emailFrequency",className:"block text-sm font-medium text-gray-700",children:"Email Frequency"}),b.jsxs("select",{id:"emailFrequency",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-teal-500 focus:border-teal-500 sm:text-sm rounded-md",defaultValue:"weekly",children:[b.jsx("option",{value:"daily",children:"Daily"}),b.jsx("option",{value:"weekly",children:"Weekly"}),b.jsx("option",{value:"biweekly",children:"Bi-weekly"}),b.jsx("option",{value:"monthly",children:"Monthly"})]})]})]})]})]}),b.jsxs("section",{className:"card p-6",children:[b.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[b.jsx(XZ,{})," Appearance"]}),b.jsx("p",{className:"text-slate-500 text-sm",children:"Coming soon: Switch between light and dark mode."})]}),b.jsxs("section",{className:"card p-6 border-red-200",children:[b.jsxs("h2",{className:"text-lg font-semibold text-red-600 flex items-center gap-2 mb-2",children:[b.jsx(F0,{})," Danger Zone"]}),b.jsx("button",{className:"btn btn-danger",children:"Delete Account"}),b.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"This action is irreversible. Your data will be permanently deleted."})]}),v.text&&b.jsx("div",{className:`fixed bottom-4 right-4 p-4 rounded-md z-50 ${v.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.text})]})}),Ne&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full relative",children:[b.jsx("button",{className:"absolute top-2 right-2 text-slate-400 hover:text-slate-600",onClick:()=>{Ee(!1),On(!1),on(null)},"aria-label":"Close",children:"×"}),b.jsx("h2",{className:"text-xl font-bold mb-4 text-teal-800",children:"Upgrade to Pro"}),Mn?b.jsx("div",{className:"p-3 bg-green-50 text-green-700 rounded-md text-sm mb-4",children:"Your request has been sent successfully. We'll get back to you soon!"}):b.jsxs("form",{onSubmit:async ct=>{ct.preventDefault(),mt(!0),on(null),On(!1);try{const vt=await fetch("https://bbixvnkqroskholbxkgj.supabase.co/functions/v1/send-support-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU"},body:JSON.stringify({email:qi,subject:"Pro Plan Upgrade Request",message:`Name: ${Or}

${Yn}`,issueType:"pro",mode:"help"})}),Et=await vt.json();if(!vt.ok)throw new Error(Et.error||"Failed to send message");On(!0),$i(""),Pi(""),bi("")}catch(vt){on(vt instanceof Error?vt.message:"Failed to send message. Please try again later.")}finally{mt(!1)}},className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Name"}),b.jsx("input",{type:"text",className:"input",value:Or,onChange:ct=>$i(ct.target.value),required:!0,disabled:yi})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),b.jsx("input",{type:"email",className:"input",value:qi,onChange:ct=>Pi(ct.target.value),required:!0,disabled:yi})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Message"}),b.jsx("textarea",{className:"input",rows:4,value:Yn,onChange:ct=>bi(ct.target.value),required:!0,disabled:yi})]}),Ft&&b.jsx("div",{className:"p-3 bg-red-50 text-red-700 rounded-md text-sm",children:Ft}),b.jsxs("div",{className:"flex justify-end gap-2",children:[b.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{Ee(!1),On(!1),on(null)},disabled:yi,children:"Cancel"}),b.jsx("button",{type:"submit",className:"btn btn-primary",disabled:yi,children:yi?"Sending...":"Send Request"})]})]})]})}),Ve&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full relative",children:[b.jsx("button",{className:"absolute top-2 right-2 text-slate-400 hover:text-slate-600",onClick:()=>{$e(!1),En(!1),Zt(null)},"aria-label":"Close",children:"×"}),b.jsx("h2",{className:"text-xl font-bold mb-4 text-purple-800",children:"Contact Us"}),qt?b.jsx("div",{className:"p-3 bg-green-50 text-green-700 rounded-md text-sm mb-4",children:"Your message has been sent successfully. We'll get back to you soon!"}):b.jsxs("form",{onSubmit:async ct=>{ct.preventDefault(),$t(!0),Zt(null),En(!1);try{const vt=await fetch("https://bbixvnkqroskholbxkgj.supabase.co/functions/v1/send-support-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU"},body:JSON.stringify({email:Ue,subject:"Enterprise Plan Inquiry",message:`Name: ${ve}
Corporation: ${nt}

${ft}`,issueType:"enterprise",mode:"help"})}),Et=await vt.json();if(!vt.ok)throw new Error(Et.error||"Failed to send message");En(!0),ae(""),Je(""),dt(""),Ot("")}catch(vt){Zt(vt instanceof Error?vt.message:"Failed to send message. Please try again later.")}finally{$t(!1)}},className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Name"}),b.jsx("input",{type:"text",className:"input",value:ve,onChange:ct=>ae(ct.target.value),required:!0,disabled:Ct})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),b.jsx("input",{type:"email",className:"input",value:Ue,onChange:ct=>Je(ct.target.value),required:!0,disabled:Ct})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Corporation Name"}),b.jsx("input",{type:"text",className:"input",value:nt,onChange:ct=>dt(ct.target.value),required:!0,disabled:Ct})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Message"}),b.jsx("textarea",{className:"input",rows:4,value:ft,onChange:ct=>Ot(ct.target.value),required:!0,disabled:Ct})]}),At&&b.jsx("div",{className:"p-3 bg-red-50 text-red-700 rounded-md text-sm",children:At}),b.jsxs("div",{className:"flex justify-end gap-2",children:[b.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{$e(!1),En(!1),Zt(null)},disabled:Ct,children:"Cancel"}),b.jsx("button",{type:"submit",className:"btn btn-primary",disabled:Ct,children:Ct?"Sending...":"Send Message"})]})]})]})}),pr&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full relative",children:[b.jsx("button",{className:"absolute top-2 right-2 text-slate-400 hover:text-slate-600",onClick:()=>{Fi(!1),Lr(!1),yo(null)},"aria-label":"Close",children:"×"}),b.jsx("h2",{className:"text-xl font-bold mb-4 text-blue-800",children:"Downgrade to Free"}),Jr?b.jsx("div",{className:"p-3 bg-green-50 text-green-700 rounded-md text-sm mb-4",children:"Your downgrade request has been sent successfully. We'll get back to you soon!"}):b.jsxs("form",{onSubmit:async ct=>{ct.preventDefault(),sr(!0),yo(null),Lr(!1);try{const vt=await fetch("https://bbixvnkqroskholbxkgj.supabase.co/functions/v1/send-support-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU"},body:JSON.stringify({email:Hi,subject:"Downgrade to Free Plan Request",message:`Name: ${gt}

${Fr}`,issueType:"downgrade",mode:"help"})}),Et=await vt.json();if(!vt.ok)throw new Error(Et.error||"Failed to send message");Lr(!0),bn(""),Er(""),Gs("")}catch(vt){yo(vt instanceof Error?vt.message:"Failed to send message. Please try again later.")}finally{sr(!1)}},className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Name"}),b.jsx("input",{type:"text",className:"input",value:gt,onChange:ct=>bn(ct.target.value),required:!0,disabled:ws})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),b.jsx("input",{type:"email",className:"input",value:Hi,onChange:ct=>Er(ct.target.value),required:!0,disabled:ws})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Message"}),b.jsx("textarea",{className:"input",rows:4,value:Fr,onChange:ct=>Gs(ct.target.value),required:!0,disabled:ws})]}),xs&&b.jsx("div",{className:"p-3 bg-red-50 text-red-700 rounded-md text-sm",children:xs}),b.jsxs("div",{className:"flex justify-end gap-2",children:[b.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{Fi(!1),Lr(!1),yo(null)},disabled:ws,children:"Cancel"}),b.jsx("button",{type:"submit",className:"btn btn-primary",disabled:ws,children:ws?"Sending...":"Send Request"})]})]})]})})]})},oA=bc((n,e)=>({saos:[],loading:!1,error:null,lastFetched:null,clearState:()=>n({saos:[],loading:!1,error:null,lastFetched:null}),createSAO:async(i,r,o,l)=>{var c;n({loading:!0,error:null});try{console.log("Creating new SAO...");const{data:{user:u},error:h}=await Re.auth.getUser();if(h)throw console.error("Auth error:",h),new Error("Authentication error: "+h.message);if(!u)throw new Error("No authenticated user found");await Re.from("eit_profiles").upsert({id:u.id,full_name:((c=u.user_metadata)==null?void 0:c.full_name)||"",email:u.email||""}),console.log("Creating SAO:",{title:i,content:r,skills:o,eit_id:u.id});const{data:m,error:g}=await Re.from("saos").insert([{eit_id:u.id,title:i,content:r,status:l}]).select().single();if(g)throw console.error("Error creating SAO:",{error:g,message:g.message,details:g.details,hint:g.hint,code:g.code}),g;await Re.from("sao_versions").insert({sao_id:m.id,title:m.title,content:m.content});const y=o.map(_=>({sao_id:m.id,skill_id:_.id,category_name:_.category_name||""}));console.log("Creating SAO skills relationships:",y);const{error:v}=await Re.from("sao_skills").insert(y);if(v)throw console.error("Error creating SAO skills:",{error:v,message:v.message,details:v.details,hint:v.hint,code:v.code}),v;console.log("SAO skills created successfully"),await e().loadUserSAOs()}catch(u){throw console.error("Error in createSAO:",{error:u,message:u.message,details:u.details,hint:u.hint}),n({error:`Failed to create SAO: ${u.message||"Unknown error"}`}),u}finally{n({loading:!1})}},updateSAO:async(i,r,o,l,c)=>{n({loading:!0,error:null});try{console.log("Updating SAO:",{id:i,title:r,content:o,skills:l});const{data:{user:u},error:h}=await Re.auth.getUser();if(h)throw console.error("Auth error:",h),new Error("Authentication error: "+h.message);if(!u)throw new Error("No authenticated user found");const{error:m}=await Re.from("saos").update({title:r,content:o,status:c}).eq("id",i).eq("eit_id",u.id);if(m)throw console.error("Error updating SAO:",m),m;await Re.from("sao_versions").insert({sao_id:i,title:r,content:o});const{error:g}=await Re.from("sao_skills").delete().eq("sao_id",i);if(g)throw console.error("Error deleting existing SAO skills:",g),g;const y=l.map(_=>({sao_id:i,skill_id:_.id,category_name:_.category_name||""})),{error:v}=await Re.from("sao_skills").insert(y);if(v)throw console.error("Error updating SAO skills:",v),v;n(_=>({saos:_.saos.map(A=>A.id===i?{...A,title:r,content:o,status:c,skills:l}:A)})),await e().loadUserSAOs()}catch(u){throw console.error("Error in updateSAO:",{error:u,message:u.message,details:u.details,hint:u.hint}),n({error:`Failed to update SAO: ${u.message||"Unknown error"}`}),u}finally{n({loading:!1})}},deleteSAO:async i=>{n({loading:!0,error:null});try{console.log("Deleting SAO:",i);const{data:{user:r},error:o}=await Re.auth.getUser();if(o)throw console.error("Auth error:",o),new Error("Authentication error: "+o.message);if(!r)throw new Error("No authenticated user found");const{error:l}=await Re.from("sao_skills").delete().eq("sao_id",i);if(l)throw console.error("Error deleting SAO skills:",l),l;const{error:c}=await Re.from("saos").delete().eq("id",i).eq("eit_id",r.id);if(c)throw console.error("Error deleting SAO:",c),c;n(u=>({saos:u.saos.filter(h=>h.id!==i)}))}catch(r){throw console.error("Error in deleteSAO:",{error:r,message:r.message,details:r.details,hint:r.hint}),n({error:`Failed to delete SAO: ${r.message||"Unknown error"}`}),r}finally{n({loading:!1})}},requestFeedback:async(i,r)=>{var o;n({loading:!0,error:null});try{const{data:{user:l}}=await Re.auth.getUser();if(!l)throw new Error("No authenticated user found");const{data:c}=await Re.from("saos").select("title").eq("id",i).single();await Re.from("sao_feedback").delete().eq("sao_id",i),await Re.from("saos").update({status:"in-review"}).eq("id",i),await Re.from("sao_feedback").insert([{sao_id:i,supervisor_id:r,feedback:"",status:"pending"}]),await u_e(r,((o=l.user_metadata)==null?void 0:o.full_name)||l.email,(c==null?void 0:c.title)||"SAO"),await e().loadUserSAOs(!0)}catch(l){throw n({error:`Failed to request feedback: ${l.message||"Unknown error"}`}),l}finally{n({loading:!1})}},submitFeedback:async(i,r)=>{n({loading:!0,error:null});try{const{data:{user:o}}=await Re.auth.getUser();if(!o)throw new Error("No authenticated user found");const{data:l}=await Re.from("saos").select("eit_id, title").eq("id",i).single();await Re.from("sao_feedback").update({feedback:r,status:"submitted"}).eq("sao_id",i).eq("supervisor_id",o.id),l!=null&&l.eit_id&&await c_e(l.eit_id,(l==null?void 0:l.title)||"SAO",1),await e().loadUserSAOs(!0)}catch(o){throw n({error:`Failed to submit feedback: ${o.message||"Unknown error"}`}),o}finally{n({loading:!1})}},resolveFeedback:async i=>{n({loading:!0,error:null});try{const{error:r}=await Re.from("sao_feedback").update({status:"resolved"}).eq("id",i);if(r)throw r;await e().loadUserSAOs(!0)}catch(r){throw n({error:`Failed to resolve feedback: ${r.message||"Unknown error"}`}),r}finally{n({loading:!1})}},loadUserSAOs:async(i=!1)=>{const r=Date.now(),o=e().lastFetched;if(!(!i&&o&&r-o<5*60*1e3)){n({loading:!0,error:null});try{console.log("Loading user SAOs...");const{data:{user:l},error:c}=await Re.auth.getUser();if(c)throw console.error("Auth error:",c),new Error("Authentication error: "+c.message);if(!l)throw new Error("No authenticated user found");console.log("Fetching SAOs for user:",l.id);const{data:u,error:h}=await Re.from("saos").select(`
          *,
          sao_skills (
            skill_id,
            category_name
          ),
          sao_feedback:sao_feedback_sao_id_fkey (
            id,
            supervisor_id,
            feedback,
            status,
            created_at,
            updated_at
          )
        `).eq("eit_id",l.id).order("created_at",{ascending:!1});if(h)throw console.error("Error fetching SAOs:",h),h;console.log("SAOs fetched:",u==null?void 0:u.length);const m=(u==null?void 0:u.map(g=>({...g,skills:g.sao_skills.map(y=>({id:y.skill_id,name:"",category_name:y.category_name,status:"not-started"})),feedback:g.sao_feedback||[]})))||[];console.log("Transformed SAOs:",m.length),n({saos:m,lastFetched:r})}catch(l){throw console.error("Error in loadUserSAOs:",{error:l,message:l.message,details:l.details,hint:l.hint}),n({error:`Failed to load SAOs: ${l.message||"Unknown error"}`}),l}finally{n({loading:!1})}}},fetchAnnotations:async i=>{n({loading:!0,error:null});try{const{data:r,error:o}=await Re.from("sao_annotation").select("*").eq("sao_id",i).order("created_at",{ascending:!0});if(o)throw o;return r}catch(r){return n({error:`Failed to fetch annotations: ${r.message||"Unknown error"}`}),[]}finally{n({loading:!1})}},addAnnotation:async(i,r,o)=>{var l;n({loading:!0,error:null});try{const{data:{user:c},error:u}=await Re.auth.getUser();if(u)throw u;if(!c)throw new Error("No authenticated user found");let h=null,m="eit",g=((l=c.user_metadata)==null?void 0:l.full_name)||c.email||"Unknown";const{data:y}=await Re.from("supervisor_profiles").select("id, full_name").eq("id",c.id).single();if(y)h=y.id,m="supervisor",g=y.full_name||g;else{const{data:_}=await Re.from("eit_profiles").select("full_name").eq("id",c.id).single();_&&_.full_name&&(g=_.full_name)}const{error:v}=await Re.from("sao_annotation").insert([{sao_id:i,supervisor_id:h,created_by:c.id,author_name:g,author_role:m,location:r,annotation:o,status:"active"}]);if(v)throw v}catch(c){throw n({error:`Failed to add annotation: ${c.message||"Unknown error"}`}),c}finally{n({loading:!1})}},fetchReplies:async i=>{n({loading:!0,error:null});try{const{data:r,error:o}=await Re.from("sao_annotation_replies").select("*").eq("annotation_id",i).order("created_at",{ascending:!0});if(o)throw o;return r||[]}catch(r){return n({error:`Failed to fetch replies: ${r.message||"Unknown error"}`}),[]}finally{n({loading:!1})}},addReply:async(i,r)=>{n({loading:!0,error:null});try{const{data:{user:o},error:l}=await Re.auth.getUser();if(l)throw l;if(!o)throw new Error("No authenticated user found");const{error:c}=await Re.from("sao_annotation_replies").insert([{annotation_id:i,content:r,author_id:o.id}]);if(c)throw c}catch(o){throw n({error:`Failed to add reply: ${o.message||"Unknown error"}`}),o}finally{n({loading:!1})}},resolveAnnotation:async i=>{n({loading:!0,error:null});try{const{error:r}=await Re.from("sao_annotation").update({resolved:!0}).eq("id",i);if(r)throw r}catch(r){throw n({error:`Failed to resolve annotation: ${r.message||"Unknown error"}`}),r}finally{n({loading:!1})}},deleteAnnotation:async i=>{n({loading:!0,error:null});try{const{error:r}=await Re.from("sao_annotation").delete().eq("id",i);if(r)throw r}catch(r){throw n({error:`Failed to delete annotation: ${r.message||"Unknown error"}`}),r}finally{n({loading:!1})}},updateAnnotationStatus:async(i,r)=>{n({loading:!0,error:null});try{const{error:o}=await Re.from("sao_annotation").update({status:r}).eq("id",i);if(o)throw o}catch(o){throw n({error:`Failed to update annotation status: ${o.message||"Unknown error"}`}),o}finally{n({loading:!1})}},fetchSAOVersions:async i=>{n({loading:!0,error:null});try{const{data:r,error:o}=await Re.from("sao_versions").select("*").eq("sao_id",i).order("created_at",{ascending:!1});if(o)throw o;return r}catch(r){return n({error:`Failed to fetch SAO versions: ${r.message||"Unknown error"}`}),[]}finally{n({loading:!1})}}})),CJ=({saoId:n,content:e,readOnly:i})=>{const{fetchAnnotations:r,addAnnotation:o,fetchReplies:l,addReply:c,resolveAnnotation:u,deleteAnnotation:h}=oA(),[m,g]=G.useState([]),[y,v]=G.useState({}),[_,A]=G.useState(null),[S,T]=G.useState(null),[C,N]=G.useState(""),[I,O]=G.useState(!1),[F,L]=G.useState(null),[z,B]=G.useState(!1),[Y,se]=G.useState(null),[de,J]=G.useState(null),[be,q]=G.useState({}),[Te,ie]=G.useState(null),[ce,X]=G.useState({}),K=G.useRef(null),ne=G.useRef({}),ee=G.useRef({});G.useEffect(()=>{(async()=>{const je=await r(n);g(je);const Be={},Fe={};for(const Ae of je)Be[Ae.id]=await l(Ae.id);v(Be),X(Fe)})()},[n,r,l]),m.map(Ie=>({id:Ie.id,start:Ie.location.start,end:Ie.location.end,comment:Ie.annotation,author_role:Ie.author_role,author_name:Ie.author_name}));const ue=m.filter(Ie=>!Ie.resolved);function Q(Ie,je,Be){let Fe=0;function Ae(ke){if(ke===je)return Fe+=Be,!0;if(ke.nodeType===Node.TEXT_NODE)Fe+=(ke.textContent||"").length;else for(let ze of Array.from(ke.childNodes))if(Ae(ze))return!0;return!1}return Ae(Ie),Fe}const fe=Ie=>{const je=window.getSelection();if(!je||!je.rangeCount){J(null);return}const Be=je.getRangeAt(0);if(!K.current||!K.current.contains(Be.commonAncestorContainer)){J(null);return}if(je.isCollapsed){J(null);return}const Fe=Q(K.current,Be.startContainer,Be.startOffset),Ae=Q(K.current,Be.endContainer,Be.endOffset);if(Fe!==Ae){const ke=Be.getBoundingClientRect();J({x:ke.right-K.current.getBoundingClientRect().left,y:ke.bottom-K.current.getBoundingClientRect().top+window.scrollY}),L({start:Math.min(Fe,Ae),end:Math.max(Fe,Ae)})}else J(null)},Se=()=>{if(!ue.length)return e;let Ie=[],je=0;return[...ue].sort((Fe,Ae)=>Fe.location.start-Ae.location.start).forEach((Fe,Ae)=>{const ke=Fe.author_role==="supervisor",ze=Fe.resolved,$=ze?"#e9ecef":ke?_===Fe.id||S===Fe.id?"#ffe066":"#fff3bf":_===Fe.id||S===Fe.id?"#d0ebff":"#e7f5ff",Ce=ke?"#ffd43b":"#228be6";Ie.push(e.slice(je,Fe.location.start)),Ie.push(b.jsxs("span",{ref:Me=>ne.current[Fe.id]=Me,style:{background:$,borderRadius:3,boxShadow:_===Fe.id||S===Fe.id?`0 0 0 2px ${Ce}`:void 0,cursor:"pointer",position:"relative",transition:"background 0.2s, box-shadow 0.2s",padding:"0 2px",opacity:ze?.6:1},onClick:Me=>{A(Fe.id),ie(Fe.id),setTimeout(()=>{var ye;(ye=ee.current[Fe.id])==null||ye.scrollIntoView({behavior:"smooth",block:"center"})},100)},onMouseEnter:()=>T(Fe.id),onMouseLeave:()=>T(null),children:[e.slice(Fe.location.start,Fe.location.end),b.jsx("span",{style:{display:"inline-block",verticalAlign:"middle",marginLeft:2,color:ke?"#fab005":"#228be6",cursor:"pointer",position:"relative",top:2},title:"View comment",onClick:Me=>{var ye;Me.stopPropagation(),A(Fe.id),ie(Fe.id),(ye=ee.current[Fe.id])==null||ye.scrollIntoView({behavior:"smooth",block:"center"})},children:b.jsx(O0,{size:14})}),Te===Fe.id&&_===Fe.id&&b.jsxs("div",{style:{position:"absolute",left:0,top:"100%",zIndex:100,background:"white",border:"1px solid #ddd",borderRadius:6,boxShadow:"0 2px 8px rgba(0,0,0,0.08)",minWidth:280,padding:12,marginTop:4},onClick:Me=>Me.stopPropagation(),children:[b.jsxs("div",{className:"flex justify-between items-center mb-1",children:[b.jsxs("span",{className:"text-xs text-slate-500",children:[Fe.author_name," (",ke?"Supervisor":"EIT",")",ze&&b.jsx("span",{className:"ml-2 text-green-600 font-semibold",children:"[Resolved]"})]}),b.jsx("button",{onClick:()=>ie(null),className:"text-slate-400 hover:text-slate-600",children:b.jsx(zs,{size:16})})]}),b.jsx("div",{className:"text-slate-800 text-sm mb-2",children:Fe.annotation}),y[Fe.id]&&y[Fe.id].length>0&&b.jsx("div",{className:"mb-2",children:y[Fe.id].map(Me=>b.jsxs("div",{className:"flex items-start gap-2 mb-1",children:[b.jsx(p$,{size:14,className:"mt-1 text-slate-400"}),b.jsx("div",{children:b.jsx("span",{className:"text-xs text-slate-500",children:Me.content})})]},Me.id))}),!ze&&b.jsxs("div",{className:"flex gap-2 mt-2",children:[b.jsx("input",{type:"text",className:"input input-sm flex-1",placeholder:"Reply...",value:be[Fe.id]||"",onChange:Me=>q({...be,[Fe.id]:Me.target.value})}),b.jsx("button",{className:"btn btn-primary btn-sm",onClick:async()=>{var ye;if(!Fe.id){console.error("Tried to fetch replies for undefined annotation id");return}if(!((ye=be[Fe.id])!=null&&ye.trim()))return;await c(Fe.id,be[Fe.id]),q({...be,[Fe.id]:""});const Me=await l(Fe.id);v(_e=>({..._e,[Fe.id]:Me}))},children:"Reply"})]}),b.jsxs("div",{className:"flex gap-2 mt-2",children:[!ze&&b.jsxs("button",{className:"btn btn-success btn-xs",onClick:async()=>{if(!Fe.id){console.error("Tried to resolve annotation with undefined id");return}await u(Fe.id);const Me=await r(n);g(Me),X(ye=>({...ye,[Fe.id]:!0})),_===Fe.id&&A(null),Te===Fe.id&&ie(null)},children:[b.jsx(qM,{size:14,className:"mr-1"}),"Resolve"]}),ze&&b.jsxs("button",{className:"btn btn-danger btn-xs",onClick:async()=>{if(!Fe.id){console.error("Tried to delete annotation with undefined id");return}await h(Fe.id);const Me=await r(n);g(Me),Te===Fe.id&&ie(null),_===Fe.id&&A(null)},children:[b.jsx(F0,{size:14,className:"mr-1"}),"Delete"]})]})]})]},Fe.id)),je=Fe.location.end}),Ie.push(e.slice(je)),Ie},Oe=async()=>{if(!(!F||!C.trim())){B(!0),se(null);try{await o(n,F,C),N(""),L(null),O(!1),J(null);const Ie=await r(n);g(Ie)}catch(Ie){se(Ie.message||"Failed to save annotation")}finally{B(!1)}}};return G.useEffect(()=>{_&&!ue.some(Ie=>Ie.id===_)&&(ie(null),A(null))},[ue,_]),b.jsxs("div",{className:"flex gap-6",children:[b.jsxs("div",{style:{flex:1,minWidth:0,position:"relative"},children:[b.jsx("div",{ref:K,style:{whiteSpace:"pre-wrap",cursor:i?"default":"text",minHeight:80},onMouseUp:i?void 0:fe,children:Se()}),!i&&de&&F&&!I&&b.jsx("button",{style:{position:"absolute",left:de.x,top:de.y,zIndex:10,background:"#fab005",color:"white",border:"none",borderRadius:6,padding:"4px 10px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",cursor:"pointer",fontWeight:600},onClick:()=>O(!0),children:"Add comment"}),!i&&I&&b.jsxs("div",{className:"mt-2 flex flex-col gap-2 bg-yellow-50 p-3 rounded shadow max-w-md",style:{position:"absolute",left:(de==null?void 0:de.x)||0,top:(de==null?void 0:de.y)||0,zIndex:20},children:[b.jsx("textarea",{value:C,onChange:Ie=>N(Ie.target.value),placeholder:"Enter comment...",className:"w-full px-3 py-2 border border-slate-300 rounded-md",rows:2,autoFocus:!0}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{className:"btn btn-primary",onClick:Oe,disabled:!C.trim()||z,children:z?"Saving...":"Save Comment"}),b.jsx("button",{className:"btn btn-secondary",onClick:()=>{O(!1),L(null),N(""),J(null)},disabled:z,children:"Cancel"})]}),Y&&b.jsx("div",{className:"text-red-600 text-sm mt-1",children:Y})]})]}),b.jsxs("div",{className:"w-72 border-l pl-4 flex flex-col gap-3 bg-slate-50 max-h-[400px] overflow-y-auto",children:[b.jsx("h4",{className:"font-semibold text-slate-700 mb-2",children:"Comments"}),ue.length===0&&b.jsx("div",{className:"text-slate-400 text-sm",children:"No comments yet."}),ue.map(Ie=>{const je=Ie.author_role==="supervisor",Be=Ie.resolved;return b.jsxs("div",{ref:Fe=>ee.current[Ie.id]=Fe,className:`p-2 rounded cursor-pointer transition-all ${_===Ie.id?je?"bg-yellow-100":"bg-blue-100":S===Ie.id?je?"bg-yellow-50":"bg-blue-50":"hover:bg-slate-100"}`,onClick:()=>A(Ie.id),onMouseEnter:()=>T(Ie.id),onMouseLeave:()=>T(null),style:{borderLeft:_===Ie.id?je?"3px solid #fab005":"3px solid #228be6":"3px solid transparent",opacity:Be?.6:1},children:[b.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 mb-1 italic max-w-full truncate",children:[Ie.author_name?`${Ie.author_name} (${je?"Supervisor":"EIT"})`:"",Be&&b.jsx("span",{className:"ml-2 text-green-600 font-semibold",children:"[Resolved]"}),b.jsx("span",{className:"ml-2",children:e.slice(Ie.location.start,Ie.location.end)})]}),b.jsx("div",{className:"text-slate-800 text-sm mb-1",children:Ie.annotation}),y[Ie.id]&&y[Ie.id].length>0&&b.jsx("div",{className:"mb-1 ml-4",children:y[Ie.id].map(Fe=>b.jsxs("div",{className:"flex items-start gap-2 mb-1",children:[b.jsx(p$,{size:14,className:"mt-1 text-slate-400"}),b.jsx("div",{children:b.jsx("span",{className:"text-xs text-slate-500",children:Fe.content})})]},Fe.id))}),!Be&&b.jsxs("div",{className:"flex gap-2 mt-1 ml-4",children:[b.jsx("input",{type:"text",className:"input input-xs flex-1",placeholder:"Reply...",value:be[Ie.id]||"",onChange:Fe=>q({...be,[Ie.id]:Fe.target.value})}),b.jsx("button",{className:"btn btn-primary btn-xs",onClick:async()=>{var Ae;if(!Ie.id){console.error("Tried to fetch replies for undefined annotation id");return}if(!((Ae=be[Ie.id])!=null&&Ae.trim()))return;await c(Ie.id,be[Ie.id]),q({...be,[Ie.id]:""});const Fe=await l(Ie.id);v(ke=>({...ke,[Ie.id]:Fe}))},children:"Reply"})]}),b.jsxs("div",{className:"flex gap-2 mt-2 ml-4",children:[!Be&&b.jsxs("button",{className:"btn btn-success btn-xs",onClick:async()=>{if(!Ie.id){console.error("Tried to resolve annotation with undefined id");return}await u(Ie.id);const Fe=await r(n);g(Fe),X(Ae=>({...Ae,[Ie.id]:!0})),_===Ie.id&&A(null),Te===Ie.id&&ie(null)},children:[b.jsx(qM,{size:14,className:"mr-1"}),"Resolve"]}),Be&&b.jsxs("button",{className:"btn btn-danger btn-xs",onClick:async()=>{if(!Ie.id){console.error("Tried to delete annotation with undefined id");return}await h(Ie.id);const Fe=await r(n);g(Fe),Te===Ie.id&&ie(null),_===Ie.id&&A(null)},children:[b.jsx(F0,{size:14,className:"mr-1"}),"Delete"]})]})]},Ie.id)})]})]})};let h_e={data:""},f_e=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||h_e,p_e=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,m_e=/\/\*[^]*?\*\/|  +/g,z$=/\n+/g,Lp=(n,e)=>{let i="",r="",o="";for(let l in n){let c=n[l];l[0]=="@"?l[1]=="i"?i=l+" "+c+";":r+=l[1]=="f"?Lp(c,l):l+"{"+Lp(c,l[1]=="k"?"":e)+"}":typeof c=="object"?r+=Lp(c,e?e.replace(/([^,])+/g,u=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,u):u?u+" "+h:h)):l):c!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Lp.p?Lp.p(l,c):l+":"+c+";")}return i+(e&&o?e+"{"+o+"}":o)+r},yh={},DJ=n=>{if(typeof n=="object"){let e="";for(let i in n)e+=i+DJ(n[i]);return e}return n},g_e=(n,e,i,r,o)=>{let l=DJ(n),c=yh[l]||(yh[l]=(h=>{let m=0,g=11;for(;m<h.length;)g=101*g+h.charCodeAt(m++)>>>0;return"go"+g})(l));if(!yh[c]){let h=l!==n?n:(m=>{let g,y,v=[{}];for(;g=p_e.exec(m.replace(m_e,""));)g[4]?v.shift():g[3]?(y=g[3].replace(z$," ").trim(),v.unshift(v[0][y]=v[0][y]||{})):v[0][g[1]]=g[2].replace(z$," ").trim();return v[0]})(n);yh[c]=Lp(o?{["@keyframes "+c]:h}:h,i?"":"."+c)}let u=i&&yh.g?yh.g:null;return i&&(yh.g=yh[c]),((h,m,g,y)=>{y?m.data=m.data.replace(y,h):m.data.indexOf(h)===-1&&(m.data=g?h+m.data:m.data+h)})(yh[c],e,r,u),c},b_e=(n,e,i)=>n.reduce((r,o,l)=>{let c=e[l];if(c&&c.call){let u=c(i),h=u&&u.props&&u.props.className||/^go/.test(u)&&u;c=h?"."+h:u&&typeof u=="object"?u.props?"":Lp(u,""):u===!1?"":u}return r+o+(c??"")},"");function I3(n){let e=this||{},i=n.call?n(e.p):n;return g_e(i.unshift?i.raw?b_e(i,[].slice.call(arguments,1),e.p):i.reduce((r,o)=>Object.assign(r,o&&o.call?o(e.p):o),{}):i,f_e(e.target),e.g,e.o,e.k)}let NJ,eO,tO;I3.bind({g:1});let xf=I3.bind({k:1});function y_e(n,e,i,r){Lp.p=e,NJ=n,eO=i,tO=r}function Qm(n,e){let i=this||{};return function(){let r=arguments;function o(l,c){let u=Object.assign({},l),h=u.className||o.className;i.p=Object.assign({theme:eO&&eO()},u),i.o=/ *go\d+/.test(h),u.className=I3.apply(i,r)+(h?" "+h:"");let m=n;return n[0]&&(m=u.as||n,delete u.as),tO&&m[0]&&tO(u),NJ(m,u)}return o}}var v_e=n=>typeof n=="function",u5=(n,e)=>v_e(n)?n(e):n,w_e=(()=>{let n=0;return()=>(++n).toString()})(),PJ=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),x_e=20,IJ=(n,e)=>{switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,x_e)};case 1:return{...n,toasts:n.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:i}=e;return IJ(n,{type:n.toasts.find(l=>l.id===i.id)?1:0,toast:i});case 3:let{toastId:r}=e;return{...n,toasts:n.toasts.map(l=>l.id===r||r===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let o=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+o}))}}},XD=[],yb={toasts:[],pausedAt:void 0},Z0=n=>{yb=IJ(yb,n),XD.forEach(e=>{e(yb)})},__e={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},k_e=(n={})=>{let[e,i]=G.useState(yb),r=G.useRef(yb);G.useEffect(()=>(r.current!==yb&&i(yb),XD.push(i),()=>{let l=XD.indexOf(i);l>-1&&XD.splice(l,1)}),[]);let o=e.toasts.map(l=>{var c,u,h;return{...n,...n[l.type],...l,removeDelay:l.removeDelay||((c=n[l.type])==null?void 0:c.removeDelay)||(n==null?void 0:n.removeDelay),duration:l.duration||((u=n[l.type])==null?void 0:u.duration)||(n==null?void 0:n.duration)||__e[l.type],style:{...n.style,...(h=n[l.type])==null?void 0:h.style,...l.style}}});return{...e,toasts:o}},E_e=(n,e="blank",i)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...i,id:(i==null?void 0:i.id)||w_e()}),aA=n=>(e,i)=>{let r=E_e(e,n,i);return Z0({type:2,toast:r}),r.id},fi=(n,e)=>aA("blank")(n,e);fi.error=aA("error");fi.success=aA("success");fi.loading=aA("loading");fi.custom=aA("custom");fi.dismiss=n=>{Z0({type:3,toastId:n})};fi.remove=n=>Z0({type:4,toastId:n});fi.promise=(n,e,i)=>{let r=fi.loading(e.loading,{...i,...i==null?void 0:i.loading});return typeof n=="function"&&(n=n()),n.then(o=>{let l=e.success?u5(e.success,o):void 0;return l?fi.success(l,{id:r,...i,...i==null?void 0:i.success}):fi.dismiss(r),o}).catch(o=>{let l=e.error?u5(e.error,o):void 0;l?fi.error(l,{id:r,...i,...i==null?void 0:i.error}):fi.dismiss(r)}),n};var S_e=(n,e)=>{Z0({type:1,toast:{id:n,height:e}})},A_e=()=>{Z0({type:5,time:Date.now()})},P2=new Map,T_e=1e3,C_e=(n,e=T_e)=>{if(P2.has(n))return;let i=setTimeout(()=>{P2.delete(n),Z0({type:4,toastId:n})},e);P2.set(n,i)},D_e=n=>{let{toasts:e,pausedAt:i}=k_e(n);G.useEffect(()=>{if(i)return;let l=Date.now(),c=e.map(u=>{if(u.duration===1/0)return;let h=(u.duration||0)+u.pauseDuration-(l-u.createdAt);if(h<0){u.visible&&fi.dismiss(u.id);return}return setTimeout(()=>fi.dismiss(u.id),h)});return()=>{c.forEach(u=>u&&clearTimeout(u))}},[e,i]);let r=G.useCallback(()=>{i&&Z0({type:6,time:Date.now()})},[i]),o=G.useCallback((l,c)=>{let{reverseOrder:u=!1,gutter:h=8,defaultPosition:m}=c||{},g=e.filter(_=>(_.position||m)===(l.position||m)&&_.height),y=g.findIndex(_=>_.id===l.id),v=g.filter((_,A)=>A<y&&_.visible).length;return g.filter(_=>_.visible).slice(...u?[v+1]:[0,v]).reduce((_,A)=>_+(A.height||0)+h,0)},[e]);return G.useEffect(()=>{e.forEach(l=>{if(l.dismissed)C_e(l.id,l.removeDelay);else{let c=P2.get(l.id);c&&(clearTimeout(c),P2.delete(l.id))}})},[e]),{toasts:e,handlers:{updateHeight:S_e,startPause:A_e,endPause:r,calculateOffset:o}}},N_e=xf`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,P_e=xf`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,I_e=xf`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,j_e=Qm("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${N_e} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${P_e} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${I_e} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,R_e=xf`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,M_e=Qm("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${R_e} 1s linear infinite;
`,O_e=xf`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,F_e=xf`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,L_e=Qm("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${O_e} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${F_e} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,U_e=Qm("div")`
  position: absolute;
`,B_e=Qm("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,z_e=xf`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,V_e=Qm("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${z_e} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,W_e=({toast:n})=>{let{icon:e,type:i,iconTheme:r}=n;return e!==void 0?typeof e=="string"?G.createElement(V_e,null,e):e:i==="blank"?null:G.createElement(B_e,null,G.createElement(M_e,{...r}),i!=="loading"&&G.createElement(U_e,null,i==="error"?G.createElement(j_e,{...r}):G.createElement(L_e,{...r})))},$_e=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,q_e=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,H_e="0%{opacity:0;} 100%{opacity:1;}",G_e="0%{opacity:1;} 100%{opacity:0;}",X_e=Qm("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Y_e=Qm("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,K_e=(n,e)=>{let i=n.includes("top")?1:-1,[r,o]=PJ()?[H_e,G_e]:[$_e(i),q_e(i)];return{animation:e?`${xf(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${xf(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Z_e=G.memo(({toast:n,position:e,style:i,children:r})=>{let o=n.height?K_e(n.position||e||"top-center",n.visible):{opacity:0},l=G.createElement(W_e,{toast:n}),c=G.createElement(Y_e,{...n.ariaProps},u5(n.message,n));return G.createElement(X_e,{className:n.className,style:{...o,...i,...n.style}},typeof r=="function"?r({icon:l,message:c}):G.createElement(G.Fragment,null,l,c))});y_e(G.createElement);var J_e=({id:n,className:e,style:i,onHeightUpdate:r,children:o})=>{let l=G.useCallback(c=>{if(c){let u=()=>{let h=c.getBoundingClientRect().height;r(n,h)};u(),new MutationObserver(u).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[n,r]);return G.createElement("div",{ref:l,className:e,style:i},o)},Q_e=(n,e)=>{let i=n.includes("top"),r=i?{top:0}:{bottom:0},o=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:PJ()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(i?1:-1)}px)`,...r,...o}},eke=I3`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,hD=16,tke=({reverseOrder:n,position:e="top-center",toastOptions:i,gutter:r,children:o,containerStyle:l,containerClassName:c})=>{let{toasts:u,handlers:h}=D_e(i);return G.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:hD,left:hD,right:hD,bottom:hD,pointerEvents:"none",...l},className:c,onMouseEnter:h.startPause,onMouseLeave:h.endPause},u.map(m=>{let g=m.position||e,y=h.calculateOffset(m,{reverseOrder:n,gutter:r,defaultPosition:e}),v=Q_e(g,y);return G.createElement(J_e,{id:m.id,key:m.id,onHeightUpdate:h.updateHeight,className:m.visible?eke:"",style:v},m.type==="custom"?u5(m.message,m):o?o(m):G.createElement(Z_e,{toast:m,position:g}))}))},vd=fi,hu={},k8="1.13.7",V$=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},j3=Array.prototype,E8=Object.prototype,W$=typeof Symbol<"u"?Symbol.prototype:null,nke=j3.push,lA=j3.slice,lE=E8.toString,ike=E8.hasOwnProperty,jJ=typeof ArrayBuffer<"u",rke=typeof DataView<"u",ske=Array.isArray,$$=Object.keys,q$=Object.create,H$=jJ&&ArrayBuffer.isView,oke=isNaN,ake=isFinite,RJ=!{toString:null}.propertyIsEnumerable("toString"),G$=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],lke=Math.pow(2,53)-1;function Ko(n,e){return e=e==null?n.length-1:+e,function(){for(var i=Math.max(arguments.length-e,0),r=Array(i),o=0;o<i;o++)r[o]=arguments[o+e];switch(e){case 0:return n.call(this,r);case 1:return n.call(this,arguments[0],r);case 2:return n.call(this,arguments[0],arguments[1],r)}var l=Array(e+1);for(o=0;o<e;o++)l[o]=arguments[o];return l[e]=r,n.apply(this,l)}}function eg(n){var e=typeof n;return e==="function"||e==="object"&&!!n}function MJ(n){return n===null}function S8(n){return n===void 0}function A8(n){return n===!0||n===!1||lE.call(n)==="[object Boolean]"}function OJ(n){return!!(n&&n.nodeType===1)}function go(n){var e="[object "+n+"]";return function(i){return lE.call(i)===e}}const R3=go("String"),T8=go("Number"),FJ=go("Date"),LJ=go("RegExp"),UJ=go("Error"),C8=go("Symbol"),D8=go("ArrayBuffer");var BJ=go("Function"),cke=V$.document&&V$.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof cke!="function"&&(BJ=function(n){return typeof n=="function"||!1});const mo=BJ,zJ=go("Object");var VJ=rke&&(!/\[native code\]/.test(String(DataView))||zJ(new DataView(new ArrayBuffer(8)))),N8=typeof Map<"u"&&zJ(new Map),uke=go("DataView");function dke(n){return n!=null&&mo(n.getInt8)&&D8(n.buffer)}const cE=VJ?dke:uke,tg=ske||go("Array");function ng(n,e){return n!=null&&ike.call(n,e)}var nO=go("Arguments");(function(){nO(arguments)||(nO=function(n){return ng(n,"callee")})})();const M3=nO;function WJ(n){return!C8(n)&&ake(n)&&!isNaN(parseFloat(n))}function P8(n){return T8(n)&&oke(n)}function I8(n){return function(){return n}}function $J(n){return function(e){var i=n(e);return typeof i=="number"&&i>=0&&i<=lke}}function qJ(n){return function(e){return e==null?void 0:e[n]}}const d5=qJ("byteLength"),hke=$J(d5);var fke=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function pke(n){return H$?H$(n)&&!cE(n):hke(n)&&fke.test(lE.call(n))}const j8=jJ?pke:I8(!1),Sa=qJ("length");function mke(n){for(var e={},i=n.length,r=0;r<i;++r)e[n[r]]=!0;return{contains:function(o){return e[o]===!0},push:function(o){return e[o]=!0,n.push(o)}}}function HJ(n,e){e=mke(e);var i=G$.length,r=n.constructor,o=mo(r)&&r.prototype||E8,l="constructor";for(ng(n,l)&&!e.contains(l)&&e.push(l);i--;)l=G$[i],l in n&&n[l]!==o[l]&&!e.contains(l)&&e.push(l)}function Zr(n){if(!eg(n))return[];if($$)return $$(n);var e=[];for(var i in n)ng(n,i)&&e.push(i);return RJ&&HJ(n,e),e}function GJ(n){if(n==null)return!0;var e=Sa(n);return typeof e=="number"&&(tg(n)||R3(n)||M3(n))?e===0:Sa(Zr(n))===0}function R8(n,e){var i=Zr(e),r=i.length;if(n==null)return!r;for(var o=Object(n),l=0;l<r;l++){var c=i[l];if(e[c]!==o[c]||!(c in o))return!1}return!0}function ni(n){if(n instanceof ni)return n;if(!(this instanceof ni))return new ni(n);this._wrapped=n}ni.VERSION=k8;ni.prototype.value=function(){return this._wrapped};ni.prototype.valueOf=ni.prototype.toJSON=ni.prototype.value;ni.prototype.toString=function(){return String(this._wrapped)};function X$(n){return new Uint8Array(n.buffer||n,n.byteOffset||0,d5(n))}var Y$="[object DataView]";function iO(n,e,i,r){if(n===e)return n!==0||1/n===1/e;if(n==null||e==null)return!1;if(n!==n)return e!==e;var o=typeof n;return o!=="function"&&o!=="object"&&typeof e!="object"?!1:XJ(n,e,i,r)}function XJ(n,e,i,r){n instanceof ni&&(n=n._wrapped),e instanceof ni&&(e=e._wrapped);var o=lE.call(n);if(o!==lE.call(e))return!1;if(VJ&&o=="[object Object]"&&cE(n)){if(!cE(e))return!1;o=Y$}switch(o){case"[object RegExp]":case"[object String]":return""+n==""+e;case"[object Number]":return+n!=+n?+e!=+e:+n==0?1/+n===1/e:+n==+e;case"[object Date]":case"[object Boolean]":return+n==+e;case"[object Symbol]":return W$.valueOf.call(n)===W$.valueOf.call(e);case"[object ArrayBuffer]":case Y$:return XJ(X$(n),X$(e),i,r)}var l=o==="[object Array]";if(!l&&j8(n)){var c=d5(n);if(c!==d5(e))return!1;if(n.buffer===e.buffer&&n.byteOffset===e.byteOffset)return!0;l=!0}if(!l){if(typeof n!="object"||typeof e!="object")return!1;var u=n.constructor,h=e.constructor;if(u!==h&&!(mo(u)&&u instanceof u&&mo(h)&&h instanceof h)&&"constructor"in n&&"constructor"in e)return!1}i=i||[],r=r||[];for(var m=i.length;m--;)if(i[m]===n)return r[m]===e;if(i.push(n),r.push(e),l){if(m=n.length,m!==e.length)return!1;for(;m--;)if(!iO(n[m],e[m],i,r))return!1}else{var g=Zr(n),y;if(m=g.length,Zr(e).length!==m)return!1;for(;m--;)if(y=g[m],!(ng(e,y)&&iO(n[y],e[y],i,r)))return!1}return i.pop(),r.pop(),!0}function YJ(n,e){return iO(n,e)}function lx(n){if(!eg(n))return[];var e=[];for(var i in n)e.push(i);return RJ&&HJ(n,e),e}function M8(n){var e=Sa(n);return function(i){if(i==null)return!1;var r=lx(i);if(Sa(r))return!1;for(var o=0;o<e;o++)if(!mo(i[n[o]]))return!1;return n!==JJ||!mo(i[O8])}}var O8="forEach",KJ="has",F8=["clear","delete"],ZJ=["get",KJ,"set"],gke=F8.concat(O8,ZJ),JJ=F8.concat(ZJ),bke=["add"].concat(F8,O8,KJ);const QJ=N8?M8(gke):go("Map"),eQ=N8?M8(JJ):go("WeakMap"),tQ=N8?M8(bke):go("Set"),nQ=go("WeakSet");function J0(n){for(var e=Zr(n),i=e.length,r=Array(i),o=0;o<i;o++)r[o]=n[e[o]];return r}function iQ(n){for(var e=Zr(n),i=e.length,r=Array(i),o=0;o<i;o++)r[o]=[e[o],n[e[o]]];return r}function L8(n){for(var e={},i=Zr(n),r=0,o=i.length;r<o;r++)e[n[i[r]]]=i[r];return e}function uE(n){var e=[];for(var i in n)mo(n[i])&&e.push(i);return e.sort()}function U8(n,e){return function(i){var r=arguments.length;if(e&&(i=Object(i)),r<2||i==null)return i;for(var o=1;o<r;o++)for(var l=arguments[o],c=n(l),u=c.length,h=0;h<u;h++){var m=c[h];(!e||i[m]===void 0)&&(i[m]=l[m])}return i}}const B8=U8(lx),$1=U8(Zr),z8=U8(lx,!0);function yke(){return function(){}}function rQ(n){if(!eg(n))return{};if(q$)return q$(n);var e=yke();e.prototype=n;var i=new e;return e.prototype=null,i}function sQ(n,e){var i=rQ(n);return e&&$1(i,e),i}function oQ(n){return eg(n)?tg(n)?n.slice():B8({},n):n}function aQ(n,e){return e(n),n}function V8(n){return tg(n)?n:[n]}ni.toPath=V8;function cA(n){return ni.toPath(n)}function W8(n,e){for(var i=e.length,r=0;r<i;r++){if(n==null)return;n=n[e[r]]}return i?n:void 0}function $8(n,e,i){var r=W8(n,cA(e));return S8(r)?i:r}function lQ(n,e){e=cA(e);for(var i=e.length,r=0;r<i;r++){var o=e[r];if(!ng(n,o))return!1;n=n[o]}return!!i}function O3(n){return n}function L0(n){return n=$1({},n),function(e){return R8(e,n)}}function F3(n){return n=cA(n),function(e){return W8(e,n)}}function uA(n,e,i){if(e===void 0)return n;switch(i??3){case 1:return function(r){return n.call(e,r)};case 3:return function(r,o,l){return n.call(e,r,o,l)};case 4:return function(r,o,l,c){return n.call(e,r,o,l,c)}}return function(){return n.apply(e,arguments)}}function cQ(n,e,i){return n==null?O3:mo(n)?uA(n,e,i):eg(n)&&!tg(n)?L0(n):F3(n)}function L3(n,e){return cQ(n,e,1/0)}ni.iteratee=L3;function Ta(n,e,i){return ni.iteratee!==L3?ni.iteratee(n,e):cQ(n,e,i)}function uQ(n,e,i){e=Ta(e,i);for(var r=Zr(n),o=r.length,l={},c=0;c<o;c++){var u=r[c];l[u]=e(n[u],u,n)}return l}function q8(){}function dQ(n){return n==null?q8:function(e){return $8(n,e)}}function hQ(n,e,i){var r=Array(Math.max(0,n));e=uA(e,i,1);for(var o=0;o<n;o++)r[o]=e(o);return r}function h5(n,e){return e==null&&(e=n,n=0),n+Math.floor(Math.random()*(e-n+1))}const q1=Date.now||function(){return new Date().getTime()};function fQ(n){var e=function(l){return n[l]},i="(?:"+Zr(n).join("|")+")",r=RegExp(i),o=RegExp(i,"g");return function(l){return l=l==null?"":""+l,r.test(l)?l.replace(o,e):l}}const pQ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},mQ=fQ(pQ),vke=L8(pQ),gQ=fQ(vke),bQ=ni.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Qj=/(.)^/,wke={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},xke=/\\|'|\r|\n|\u2028|\u2029/g;function _ke(n){return"\\"+wke[n]}var kke=/^\s*(\w|\$)+\s*$/;function yQ(n,e,i){!e&&i&&(e=i),e=z8({},e,ni.templateSettings);var r=RegExp([(e.escape||Qj).source,(e.interpolate||Qj).source,(e.evaluate||Qj).source].join("|")+"|$","g"),o=0,l="__p+='";n.replace(r,function(m,g,y,v,_){return l+=n.slice(o,_).replace(xke,_ke),o=_+m.length,g?l+=`'+
((__t=(`+g+`))==null?'':_.escape(__t))+
'`:y?l+=`'+
((__t=(`+y+`))==null?'':__t)+
'`:v&&(l+=`';
`+v+`
__p+='`),m}),l+=`';
`;var c=e.variable;if(c){if(!kke.test(c))throw new Error("variable is not a bare identifier: "+c)}else l=`with(obj||{}){
`+l+`}
`,c="obj";l=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+l+`return __p;
`;var u;try{u=new Function(c,"_",l)}catch(m){throw m.source=l,m}var h=function(m){return u.call(this,m,ni)};return h.source="function("+c+`){
`+l+"}",h}function vQ(n,e,i){e=cA(e);var r=e.length;if(!r)return mo(i)?i.call(n):i;for(var o=0;o<r;o++){var l=n==null?void 0:n[e[o]];l===void 0&&(l=i,o=r),n=mo(l)?l.call(n):l}return n}var Eke=0;function wQ(n){var e=++Eke+"";return n?n+e:e}function xQ(n){var e=ni(n);return e._chain=!0,e}function _Q(n,e,i,r,o){if(!(r instanceof e))return n.apply(i,o);var l=rQ(n.prototype),c=n.apply(l,o);return eg(c)?c:l}var Q0=Ko(function(n,e){var i=Q0.placeholder,r=function(){for(var o=0,l=e.length,c=Array(l),u=0;u<l;u++)c[u]=e[u]===i?arguments[o++]:e[u];for(;o<arguments.length;)c.push(arguments[o++]);return _Q(n,r,this,this,c)};return r});Q0.placeholder=ni;const H8=Ko(function(n,e,i){if(!mo(n))throw new TypeError("Bind must be called on a function");var r=Ko(function(o){return _Q(n,r,e,this,i.concat(o))});return r}),vl=$J(Sa);function ey(n,e,i,r){if(r=r||[],!e&&e!==0)e=1/0;else if(e<=0)return r.concat(n);for(var o=r.length,l=0,c=Sa(n);l<c;l++){var u=n[l];if(vl(u)&&(tg(u)||M3(u)))if(e>1)ey(u,e-1,i,r),o=r.length;else for(var h=0,m=u.length;h<m;)r[o++]=u[h++];else i||(r[o++]=u)}return r}const kQ=Ko(function(n,e){e=ey(e,!1,!1);var i=e.length;if(i<1)throw new Error("bindAll must be passed function names");for(;i--;){var r=e[i];n[r]=H8(n[r],n)}return n});function EQ(n,e){var i=function(r){var o=i.cache,l=""+(e?e.apply(this,arguments):r);return ng(o,l)||(o[l]=n.apply(this,arguments)),o[l]};return i.cache={},i}const G8=Ko(function(n,e,i){return setTimeout(function(){return n.apply(null,i)},e)}),SQ=Q0(G8,ni,1);function AQ(n,e,i){var r,o,l,c,u=0;i||(i={});var h=function(){u=i.leading===!1?0:q1(),r=null,c=n.apply(o,l),r||(o=l=null)},m=function(){var g=q1();!u&&i.leading===!1&&(u=g);var y=e-(g-u);return o=this,l=arguments,y<=0||y>e?(r&&(clearTimeout(r),r=null),u=g,c=n.apply(o,l),r||(o=l=null)):!r&&i.trailing!==!1&&(r=setTimeout(h,y)),c};return m.cancel=function(){clearTimeout(r),u=0,r=o=l=null},m}function TQ(n,e,i){var r,o,l,c,u,h=function(){var g=q1()-o;e>g?r=setTimeout(h,e-g):(r=null,i||(c=n.apply(u,l)),r||(l=u=null))},m=Ko(function(g){return u=this,l=g,o=q1(),r||(r=setTimeout(h,e),i&&(c=n.apply(u,l))),c});return m.cancel=function(){clearTimeout(r),r=l=u=null},m}function CQ(n,e){return Q0(e,n)}function U3(n){return function(){return!n.apply(this,arguments)}}function DQ(){var n=arguments,e=n.length-1;return function(){for(var i=e,r=n[e].apply(this,arguments);i--;)r=n[i].call(this,r);return r}}function NQ(n,e){return function(){if(--n<1)return e.apply(this,arguments)}}function X8(n,e){var i;return function(){return--n>0&&(i=e.apply(this,arguments)),n<=1&&(e=null),i}}const PQ=Q0(X8,2);function Y8(n,e,i){e=Ta(e,i);for(var r=Zr(n),o,l=0,c=r.length;l<c;l++)if(o=r[l],e(n[o],o,n))return o}function IQ(n){return function(e,i,r){i=Ta(i,r);for(var o=Sa(e),l=n>0?0:o-1;l>=0&&l<o;l+=n)if(i(e[l],l,e))return l;return-1}}const B3=IQ(1),K8=IQ(-1);function Z8(n,e,i,r){i=Ta(i,r,1);for(var o=i(e),l=0,c=Sa(n);l<c;){var u=Math.floor((l+c)/2);i(n[u])<o?l=u+1:c=u}return l}function jQ(n,e,i){return function(r,o,l){var c=0,u=Sa(r);if(typeof l=="number")n>0?c=l>=0?l:Math.max(l+u,c):u=l>=0?Math.min(l+1,u):l+u+1;else if(i&&l&&u)return l=i(r,o),r[l]===o?l:-1;if(o!==o)return l=e(lA.call(r,c,u),P8),l>=0?l+c:-1;for(l=n>0?c:u-1;l>=0&&l<u;l+=n)if(r[l]===o)return l;return-1}}const J8=jQ(1,B3,Z8),RQ=jQ(-1,K8);function dE(n,e,i){var r=vl(n)?B3:Y8,o=r(n,e,i);if(o!==void 0&&o!==-1)return n[o]}function MQ(n,e){return dE(n,L0(e))}function cu(n,e,i){e=uA(e,i);var r,o;if(vl(n))for(r=0,o=n.length;r<o;r++)e(n[r],r,n);else{var l=Zr(n);for(r=0,o=l.length;r<o;r++)e(n[l[r]],l[r],n)}return n}function _f(n,e,i){e=Ta(e,i);for(var r=!vl(n)&&Zr(n),o=(r||n).length,l=Array(o),c=0;c<o;c++){var u=r?r[c]:c;l[c]=e(n[u],u,n)}return l}function OQ(n){var e=function(i,r,o,l){var c=!vl(i)&&Zr(i),u=(c||i).length,h=n>0?0:u-1;for(l||(o=i[c?c[h]:h],h+=n);h>=0&&h<u;h+=n){var m=c?c[h]:h;o=r(o,i[m],m,i)}return o};return function(i,r,o,l){var c=arguments.length>=3;return e(i,uA(r,l,4),o,c)}}const yw=OQ(1),f5=OQ(-1);function zm(n,e,i){var r=[];return e=Ta(e,i),cu(n,function(o,l,c){e(o,l,c)&&r.push(o)}),r}function FQ(n,e,i){return zm(n,U3(Ta(e)),i)}function p5(n,e,i){e=Ta(e,i);for(var r=!vl(n)&&Zr(n),o=(r||n).length,l=0;l<o;l++){var c=r?r[l]:l;if(!e(n[c],c,n))return!1}return!0}function m5(n,e,i){e=Ta(e,i);for(var r=!vl(n)&&Zr(n),o=(r||n).length,l=0;l<o;l++){var c=r?r[l]:l;if(e(n[c],c,n))return!0}return!1}function hc(n,e,i,r){return vl(n)||(n=J0(n)),(typeof i!="number"||r)&&(i=0),J8(n,e,i)>=0}const LQ=Ko(function(n,e,i){var r,o;return mo(e)?o=e:(e=cA(e),r=e.slice(0,-1),e=e[e.length-1]),_f(n,function(l){var c=o;if(!c){if(r&&r.length&&(l=W8(l,r)),l==null)return;c=l[e]}return c==null?c:c.apply(l,i)})});function z3(n,e){return _f(n,F3(e))}function UQ(n,e){return zm(n,L0(e))}function Q8(n,e,i){var r=-1/0,o=-1/0,l,c;if(e==null||typeof e=="number"&&typeof n[0]!="object"&&n!=null){n=vl(n)?n:J0(n);for(var u=0,h=n.length;u<h;u++)l=n[u],l!=null&&l>r&&(r=l)}else e=Ta(e,i),cu(n,function(m,g,y){c=e(m,g,y),(c>o||c===-1/0&&r===-1/0)&&(r=m,o=c)});return r}function BQ(n,e,i){var r=1/0,o=1/0,l,c;if(e==null||typeof e=="number"&&typeof n[0]!="object"&&n!=null){n=vl(n)?n:J0(n);for(var u=0,h=n.length;u<h;u++)l=n[u],l!=null&&l<r&&(r=l)}else e=Ta(e,i),cu(n,function(m,g,y){c=e(m,g,y),(c<o||c===1/0&&r===1/0)&&(r=m,o=c)});return r}var Ske=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function eL(n){return n?tg(n)?lA.call(n):R3(n)?n.match(Ske):vl(n)?_f(n,O3):J0(n):[]}function tL(n,e,i){if(e==null||i)return vl(n)||(n=J0(n)),n[h5(n.length-1)];var r=eL(n),o=Sa(r);e=Math.max(Math.min(e,o),0);for(var l=o-1,c=0;c<e;c++){var u=h5(c,l),h=r[c];r[c]=r[u],r[u]=h}return r.slice(0,e)}function zQ(n){return tL(n,1/0)}function VQ(n,e,i){var r=0;return e=Ta(e,i),z3(_f(n,function(o,l,c){return{value:o,index:r++,criteria:e(o,l,c)}}).sort(function(o,l){var c=o.criteria,u=l.criteria;if(c!==u){if(c>u||c===void 0)return 1;if(c<u||u===void 0)return-1}return o.index-l.index}),"value")}function V3(n,e){return function(i,r,o){var l=e?[[],[]]:{};return r=Ta(r,o),cu(i,function(c,u){var h=r(c,u,i);n(l,c,h)}),l}}const WQ=V3(function(n,e,i){ng(n,i)?n[i].push(e):n[i]=[e]}),$Q=V3(function(n,e,i){n[i]=e}),qQ=V3(function(n,e,i){ng(n,i)?n[i]++:n[i]=1}),HQ=V3(function(n,e,i){n[i?0:1].push(e)},!0);function GQ(n){return n==null?0:vl(n)?n.length:Zr(n).length}function Ake(n,e,i){return e in i}const nL=Ko(function(n,e){var i={},r=e[0];if(n==null)return i;mo(r)?(e.length>1&&(r=uA(r,e[1])),e=lx(n)):(r=Ake,e=ey(e,!1,!1),n=Object(n));for(var o=0,l=e.length;o<l;o++){var c=e[o],u=n[c];r(u,c,n)&&(i[c]=u)}return i}),XQ=Ko(function(n,e){var i=e[0],r;return mo(i)?(i=U3(i),e.length>1&&(r=e[1])):(e=_f(ey(e,!1,!1),String),i=function(o,l){return!hc(e,l)}),nL(n,i,r)});function iL(n,e,i){return lA.call(n,0,Math.max(0,n.length-(e==null||i?1:e)))}function vw(n,e,i){return n==null||n.length<1?e==null||i?void 0:[]:e==null||i?n[0]:iL(n,n.length-e)}function D0(n,e,i){return lA.call(n,e==null||i?1:e)}function YQ(n,e,i){return n==null||n.length<1?e==null||i?void 0:[]:e==null||i?n[n.length-1]:D0(n,Math.max(0,n.length-e))}function KQ(n){return zm(n,Boolean)}function ZQ(n,e){return ey(n,e,!1)}const rL=Ko(function(n,e){return e=ey(e,!0,!0),zm(n,function(i){return!hc(e,i)})}),JQ=Ko(function(n,e){return rL(n,e)});function hE(n,e,i,r){A8(e)||(r=i,i=e,e=!1),i!=null&&(i=Ta(i,r));for(var o=[],l=[],c=0,u=Sa(n);c<u;c++){var h=n[c],m=i?i(h,c,n):h;e&&!i?((!c||l!==m)&&o.push(h),l=m):i?hc(l,m)||(l.push(m),o.push(h)):hc(o,h)||o.push(h)}return o}const QQ=Ko(function(n){return hE(ey(n,!0,!0))});function eee(n){for(var e=[],i=arguments.length,r=0,o=Sa(n);r<o;r++){var l=n[r];if(!hc(e,l)){var c;for(c=1;c<i&&hc(arguments[c],l);c++);c===i&&e.push(l)}}return e}function fE(n){for(var e=n&&Q8(n,Sa).length||0,i=Array(e),r=0;r<e;r++)i[r]=z3(n,r);return i}const tee=Ko(fE);function nee(n,e){for(var i={},r=0,o=Sa(n);r<o;r++)e?i[n[r]]=e[r]:i[n[r][0]]=n[r][1];return i}function iee(n,e,i){e==null&&(e=n||0,n=0),i||(i=e<n?-1:1);for(var r=Math.max(Math.ceil((e-n)/i),0),o=Array(r),l=0;l<r;l++,n+=i)o[l]=n;return o}function ree(n,e){if(e==null||e<1)return[];for(var i=[],r=0,o=n.length;r<o;)i.push(lA.call(n,r,r+=e));return i}function sL(n,e){return n._chain?ni(e).chain():e}function oL(n){return cu(uE(n),function(e){var i=ni[e]=n[e];ni.prototype[e]=function(){var r=[this._wrapped];return nke.apply(r,arguments),sL(this,i.apply(ni,r))}}),ni}cu(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var e=j3[n];ni.prototype[n]=function(){var i=this._wrapped;return i!=null&&(e.apply(i,arguments),(n==="shift"||n==="splice")&&i.length===0&&delete i[0]),sL(this,i)}});cu(["concat","join","slice"],function(n){var e=j3[n];ni.prototype[n]=function(){var i=this._wrapped;return i!=null&&(i=e.apply(i,arguments)),sL(this,i)}});const Tke=Object.freeze(Object.defineProperty({__proto__:null,VERSION:k8,after:NQ,all:p5,allKeys:lx,any:m5,assign:$1,before:X8,bind:H8,bindAll:kQ,chain:xQ,chunk:ree,clone:oQ,collect:_f,compact:KQ,compose:DQ,constant:I8,contains:hc,countBy:qQ,create:sQ,debounce:TQ,default:ni,defaults:z8,defer:SQ,delay:G8,detect:dE,difference:rL,drop:D0,each:cu,escape:mQ,every:p5,extend:B8,extendOwn:$1,filter:zm,find:dE,findIndex:B3,findKey:Y8,findLastIndex:K8,findWhere:MQ,first:vw,flatten:ZQ,foldl:yw,foldr:f5,forEach:cu,functions:uE,get:$8,groupBy:WQ,has:lQ,head:vw,identity:O3,include:hc,includes:hc,indexBy:$Q,indexOf:J8,initial:iL,inject:yw,intersection:eee,invert:L8,invoke:LQ,isArguments:M3,isArray:tg,isArrayBuffer:D8,isBoolean:A8,isDataView:cE,isDate:FJ,isElement:OJ,isEmpty:GJ,isEqual:YJ,isError:UJ,isFinite:WJ,isFunction:mo,isMap:QJ,isMatch:R8,isNaN:P8,isNull:MJ,isNumber:T8,isObject:eg,isRegExp:LJ,isSet:tQ,isString:R3,isSymbol:C8,isTypedArray:j8,isUndefined:S8,isWeakMap:eQ,isWeakSet:nQ,iteratee:L3,keys:Zr,last:YQ,lastIndexOf:RQ,map:_f,mapObject:uQ,matcher:L0,matches:L0,max:Q8,memoize:EQ,methods:uE,min:BQ,mixin:oL,negate:U3,noop:q8,now:q1,object:nee,omit:XQ,once:PQ,pairs:iQ,partial:Q0,partition:HQ,pick:nL,pluck:z3,property:F3,propertyOf:dQ,random:h5,range:iee,reduce:yw,reduceRight:f5,reject:FQ,rest:D0,restArguments:Ko,result:vQ,sample:tL,select:zm,shuffle:zQ,size:GQ,some:m5,sortBy:VQ,sortedIndex:Z8,tail:D0,take:vw,tap:aQ,template:yQ,templateSettings:bQ,throttle:AQ,times:hQ,toArray:eL,toPath:V8,transpose:fE,unescape:gQ,union:QQ,uniq:hE,unique:hE,uniqueId:wQ,unzip:fE,values:J0,where:UQ,without:JQ,wrap:CQ,zip:tee},Symbol.toStringTag,{value:"Module"}));var rO=oL(Tke);rO._=rO;const Cke=Object.freeze(Object.defineProperty({__proto__:null,VERSION:k8,after:NQ,all:p5,allKeys:lx,any:m5,assign:$1,before:X8,bind:H8,bindAll:kQ,chain:xQ,chunk:ree,clone:oQ,collect:_f,compact:KQ,compose:DQ,constant:I8,contains:hc,countBy:qQ,create:sQ,debounce:TQ,default:rO,defaults:z8,defer:SQ,delay:G8,detect:dE,difference:rL,drop:D0,each:cu,escape:mQ,every:p5,extend:B8,extendOwn:$1,filter:zm,find:dE,findIndex:B3,findKey:Y8,findLastIndex:K8,findWhere:MQ,first:vw,flatten:ZQ,foldl:yw,foldr:f5,forEach:cu,functions:uE,get:$8,groupBy:WQ,has:lQ,head:vw,identity:O3,include:hc,includes:hc,indexBy:$Q,indexOf:J8,initial:iL,inject:yw,intersection:eee,invert:L8,invoke:LQ,isArguments:M3,isArray:tg,isArrayBuffer:D8,isBoolean:A8,isDataView:cE,isDate:FJ,isElement:OJ,isEmpty:GJ,isEqual:YJ,isError:UJ,isFinite:WJ,isFunction:mo,isMap:QJ,isMatch:R8,isNaN:P8,isNull:MJ,isNumber:T8,isObject:eg,isRegExp:LJ,isSet:tQ,isString:R3,isSymbol:C8,isTypedArray:j8,isUndefined:S8,isWeakMap:eQ,isWeakSet:nQ,iteratee:L3,keys:Zr,last:YQ,lastIndexOf:RQ,map:_f,mapObject:uQ,matcher:L0,matches:L0,max:Q8,memoize:EQ,methods:uE,min:BQ,mixin:oL,negate:U3,noop:q8,now:q1,object:nee,omit:XQ,once:PQ,pairs:iQ,partial:Q0,partition:HQ,pick:nL,pluck:z3,property:F3,propertyOf:dQ,random:h5,range:iee,reduce:yw,reduceRight:f5,reject:FQ,rest:D0,restArguments:Ko,result:vQ,sample:tL,select:zm,shuffle:zQ,size:GQ,some:m5,sortBy:VQ,sortedIndex:Z8,tail:D0,take:vw,tap:aQ,template:yQ,templateSettings:bQ,throttle:AQ,times:hQ,toArray:eL,toPath:V8,transpose:fE,unescape:gQ,union:QQ,uniq:hE,unique:hE,uniqueId:wQ,unzip:fE,values:J0,where:UQ,without:JQ,wrap:CQ,zip:tee},Symbol.toStringTag,{value:"Module"})),kr=dG(Cke);var aL={},vs={},see={exports:{}},fD={exports:{}},K$;function cx(){if(K$)return fD.exports;K$=1;var n=function(){return this===void 0}();if(n)fD.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:n,propertyIsWritable:function(g,y){var v=Object.getOwnPropertyDescriptor(g,y);return!!(!v||v.writable||v.set)}};else{var e={}.hasOwnProperty,i={}.toString,r={}.constructor.prototype,o=function(g){var y=[];for(var v in g)e.call(g,v)&&y.push(v);return y},l=function(g,y){return{value:g[y]}},c=function(g,y,v){return g[y]=v.value,g},u=function(g){return g},h=function(g){try{return Object(g).constructor.prototype}catch{return r}},m=function(g){try{return i.call(g)==="[object Array]"}catch{return!1}};fD.exports={isArray:m,keys:o,names:o,defineProperty:c,getDescriptor:l,freeze:u,getPrototypeOf:h,isES5:n,propertyIsWritable:function(){return!0}}}return fD.exports}var e4,Z$;function Ni(){if(Z$)return e4;Z$=1;var n={},e=cx(),i=typeof navigator>"u",r={e:{}},o,l=typeof self<"u"?self:typeof window<"u"?window:typeof Gt<"u"||Gt!==void 0?Gt:null;function c(){try{var Q=o;return o=null,Q.apply(this,arguments)}catch(fe){return r.e=fe,r}}function u(Q){return o=Q,c}var h=function(Q,fe){var Se={}.hasOwnProperty;function Oe(){this.constructor=Q,this.constructor$=fe;for(var Ie in fe.prototype)Se.call(fe.prototype,Ie)&&Ie.charAt(Ie.length-1)!=="$"&&(this[Ie+"$"]=fe.prototype[Ie])}return Oe.prototype=fe.prototype,Q.prototype=new Oe,Q.prototype};function m(Q){return Q==null||Q===!0||Q===!1||typeof Q=="string"||typeof Q=="number"}function g(Q){return typeof Q=="function"||typeof Q=="object"&&Q!==null}function y(Q){return m(Q)?new Error(z(Q)):Q}function v(Q,fe){var Se=Q.length,Oe=new Array(Se+1),Ie;for(Ie=0;Ie<Se;++Ie)Oe[Ie]=Q[Ie];return Oe[Ie]=fe,Oe}function _(Q,fe,Se){if(e.isES5){var Oe=Object.getOwnPropertyDescriptor(Q,fe);if(Oe!=null)return Oe.get==null&&Oe.set==null?Oe.value:Se}else return{}.hasOwnProperty.call(Q,fe)?Q[fe]:void 0}function A(Q,fe,Se){if(m(Q))return Q;var Oe={value:Se,configurable:!0,enumerable:!1,writable:!0};return e.defineProperty(Q,fe,Oe),Q}function S(Q){throw Q}var T=function(){var Q=[Array.prototype,Object.prototype,Function.prototype],fe=function(Ie){for(var je=0;je<Q.length;++je)if(Q[je]===Ie)return!0;return!1};if(e.isES5){var Se=Object.getOwnPropertyNames;return function(Ie){for(var je=[],Be=Object.create(null);Ie!=null&&!fe(Ie);){var Fe;try{Fe=Se(Ie)}catch{return je}for(var Ae=0;Ae<Fe.length;++Ae){var ke=Fe[Ae];if(!Be[ke]){Be[ke]=!0;var ze=Object.getOwnPropertyDescriptor(Ie,ke);ze!=null&&ze.get==null&&ze.set==null&&je.push(ke)}}Ie=e.getPrototypeOf(Ie)}return je}}else{var Oe={}.hasOwnProperty;return function(Ie){if(fe(Ie))return[];var je=[];e:for(var Be in Ie)if(Oe.call(Ie,Be))je.push(Be);else{for(var Fe=0;Fe<Q.length;++Fe)if(Oe.call(Q[Fe],Be))continue e;je.push(Be)}return je}}}(),C=/this\s*\.\s*\S+\s*=/;function N(Q){try{if(typeof Q=="function"){var fe=e.names(Q.prototype),Se=e.isES5&&fe.length>1,Oe=fe.length>0&&!(fe.length===1&&fe[0]==="constructor"),Ie=C.test(Q+"")&&e.names(Q).length>0;if(Se||Oe||Ie)return!0}return!1}catch{return!1}}function I(Q){return Q}var O=/^[a-z$_][a-z$_0-9]*$/i;function F(Q){return O.test(Q)}function L(Q,fe,Se){for(var Oe=new Array(Q),Ie=0;Ie<Q;++Ie)Oe[Ie]=fe+Ie+Se;return Oe}function z(Q){try{return Q+""}catch{return"[no string representation]"}}function B(Q){return Q!==null&&typeof Q=="object"&&typeof Q.message=="string"&&typeof Q.name=="string"}function Y(Q){try{A(Q,"isOperational",!0)}catch{}}function se(Q){return Q==null?!1:Q instanceof Error.__BluebirdErrorTypes__.OperationalError||Q.isOperational===!0}function de(Q){return B(Q)&&e.propertyIsWritable(Q,"stack")}var J=function(){return"stack"in new Error?function(Q){return de(Q)?Q:new Error(z(Q))}:function(Q){if(de(Q))return Q;try{throw new Error(z(Q))}catch(fe){return fe}}}();function be(Q){return{}.toString.call(Q)}function q(Q,fe,Se){for(var Oe=e.names(Q),Ie=0;Ie<Oe.length;++Ie){var je=Oe[Ie];if(Se(je))try{e.defineProperty(fe,je,e.getDescriptor(Q,je))}catch{}}}var Te=function(Q){return e.isArray(Q)?Q:null};if(typeof Symbol<"u"&&Symbol.iterator){var ie=typeof Array.from=="function"?function(Q){return Array.from(Q)}:function(Q){for(var fe=[],Se=Q[Symbol.iterator](),Oe;!(Oe=Se.next()).done;)fe.push(Oe.value);return fe};Te=function(Q){return e.isArray(Q)?Q:Q!=null&&typeof Q[Symbol.iterator]=="function"?ie(Q):null}}var ce=typeof process<"u"&&be(process).toLowerCase()==="[object process]",X=typeof process<"u"&&typeof n<"u";function K(Q){return X?n[Q]:void 0}function ne(){if(typeof Promise=="function")try{var Q=new Promise(function(){});if({}.toString.call(Q)==="[object Promise]")return Promise}catch{}}function ee(Q,fe){return Q.bind(fe)}var ue={isClass:N,isIdentifier:F,inheritedDataKeys:T,getDataPropertyOrDefault:_,thrower:S,isArray:e.isArray,asArray:Te,notEnumerableProp:A,isPrimitive:m,isObject:g,isError:B,canEvaluate:i,errorObj:r,tryCatch:u,inherits:h,withAppended:v,maybeWrapAsError:y,toFastProperties:I,filledRange:L,toString:z,canAttachTrace:de,ensureErrorObject:J,originatesFromRejection:se,markAsOriginatingFromRejection:Y,classString:be,copyDescriptors:q,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:ce,hasEnvVariables:X,env:K,global:l,getNativePromise:ne,domainBind:ee};ue.isRecentNode=ue.isNode&&function(){var Q=process.versions.node.split(".").map(Number);return Q[0]===0&&Q[1]>10||Q[0]>0}(),ue.isNode&&ue.toFastProperties(process);try{throw new Error}catch(Q){ue.lastLineError=Q}return e4=ue,e4}var pD={exports:{}},t4,J$;function Dke(){if(J$)return t4;J$=1;var n=Ni(),e,i=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},r=n.getNativePromise();if(n.isNode&&typeof MutationObserver>"u"){var o=Gt.setImmediate,l=process.nextTick;e=n.isRecentNode?function(u){o.call(Gt,u)}:function(u){l.call(process,u)}}else if(typeof r=="function"&&typeof r.resolve=="function"){var c=r.resolve();e=function(u){c.then(u)}}else typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))?e=function(){var u=document.createElement("div"),h={attributes:!0},m=!1,g=document.createElement("div"),y=new MutationObserver(function(){u.classList.toggle("foo"),m=!1});y.observe(g,h);var v=function(){m||(m=!0,g.classList.toggle("foo"))};return function(A){var S=new MutationObserver(function(){S.disconnect(),A()});S.observe(u,h),v()}}():typeof setImmediate<"u"?e=function(u){setImmediate(u)}:typeof setTimeout<"u"?e=function(u){setTimeout(u,0)}:e=i;return t4=e,t4}var n4,Q$;function Nke(){if(Q$)return n4;Q$=1;function n(i,r,o,l,c){for(var u=0;u<c;++u)o[u+l]=i[u+r],i[u+r]=void 0}function e(i){this._capacity=i,this._length=0,this._front=0}return e.prototype._willBeOverCapacity=function(i){return this._capacity<i},e.prototype._pushOne=function(i){var r=this.length();this._checkCapacity(r+1);var o=this._front+r&this._capacity-1;this[o]=i,this._length=r+1},e.prototype.push=function(i,r,o){var l=this.length()+3;if(this._willBeOverCapacity(l)){this._pushOne(i),this._pushOne(r),this._pushOne(o);return}var c=this._front+l-3;this._checkCapacity(l);var u=this._capacity-1;this[c+0&u]=i,this[c+1&u]=r,this[c+2&u]=o,this._length=l},e.prototype.shift=function(){var i=this._front,r=this[i];return this[i]=void 0,this._front=i+1&this._capacity-1,this._length--,r},e.prototype.length=function(){return this._length},e.prototype._checkCapacity=function(i){this._capacity<i&&this._resizeTo(this._capacity<<1)},e.prototype._resizeTo=function(i){var r=this._capacity;this._capacity=i;var o=this._front,l=this._length,c=o+l&r-1;n(this,0,this,r,c)},n4=e,n4}var eq;function Pke(){if(eq)return pD.exports;eq=1;var n;try{throw new Error}catch(h){n=h}var e=Dke(),i=Nke(),r=Ni();function o(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new i(16),this._normalQueue=new i(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var h=this;this.drainQueues=function(){h._drainQueues()},this._schedule=e}o.prototype.setScheduler=function(h){var m=this._schedule;return this._schedule=h,this._customScheduler=!0,m},o.prototype.hasCustomScheduler=function(){return this._customScheduler},o.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},o.prototype.disableTrampolineIfNecessary=function(){r.hasDevTools&&(this._trampolineEnabled=!1)},o.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},o.prototype.fatalError=function(h,m){m?(process.stderr.write("Fatal "+(h instanceof Error?h.stack:h)+`
`),process.exit(2)):this.throwLater(h)},o.prototype.throwLater=function(h,m){if(arguments.length===1&&(m=h,h=function(){throw m}),typeof setTimeout<"u")setTimeout(function(){h(m)},0);else try{this._schedule(function(){h(m)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function l(h,m,g){this._lateQueue.push(h,m,g),this._queueTick()}function c(h,m,g){this._normalQueue.push(h,m,g),this._queueTick()}function u(h){this._normalQueue._pushOne(h),this._queueTick()}return r.hasDevTools?(o.prototype.invokeLater=function(h,m,g){this._trampolineEnabled?l.call(this,h,m,g):this._schedule(function(){setTimeout(function(){h.call(m,g)},100)})},o.prototype.invoke=function(h,m,g){this._trampolineEnabled?c.call(this,h,m,g):this._schedule(function(){h.call(m,g)})},o.prototype.settlePromises=function(h){this._trampolineEnabled?u.call(this,h):this._schedule(function(){h._settlePromises()})}):(o.prototype.invokeLater=l,o.prototype.invoke=c,o.prototype.settlePromises=u),o.prototype._drainQueue=function(h){for(;h.length()>0;){var m=h.shift();if(typeof m!="function"){m._settlePromises();continue}var g=h.shift(),y=h.shift();m.call(g,y)}},o.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},o.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},o.prototype._reset=function(){this._isTickUsed=!1},pD.exports=o,pD.exports.firstLineError=n,pD.exports}var i4,tq;function Vm(){if(tq)return i4;tq=1;var n=cx(),e=n.freeze,i=Ni(),r=i.inherits,o=i.notEnumerableProp;function l(C,N){function I(O){if(!(this instanceof I))return new I(O);o(this,"message",typeof O=="string"?O:N),o(this,"name",C),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return r(I,Error),I}var c,u,h=l("Warning","warning"),m=l("CancellationError","cancellation error"),g=l("TimeoutError","timeout error"),y=l("AggregateError","aggregate error");try{c=TypeError,u=RangeError}catch{c=l("TypeError","type error"),u=l("RangeError","range error")}for(var v="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),_=0;_<v.length;++_)typeof Array.prototype[v[_]]=="function"&&(y.prototype[v[_]]=Array.prototype[v[_]]);n.defineProperty(y.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),y.prototype.isOperational=!0;var A=0;y.prototype.toString=function(){var C=Array(A*4+1).join(" "),N=`
`+C+`AggregateError of:
`;A++,C=Array(A*4+1).join(" ");for(var I=0;I<this.length;++I){for(var O=this[I]===this?"[Circular AggregateError]":this[I]+"",F=O.split(`
`),L=0;L<F.length;++L)F[L]=C+F[L];O=F.join(`
`),N+=O+`
`}return A--,N};function S(C){if(!(this instanceof S))return new S(C);o(this,"name","OperationalError"),o(this,"message",C),this.cause=C,this.isOperational=!0,C instanceof Error?(o(this,"message",C.message),o(this,"stack",C.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}r(S,Error);var T=Error.__BluebirdErrorTypes__;return T||(T=e({CancellationError:m,TimeoutError:g,OperationalError:S,RejectionError:S,AggregateError:y}),n.defineProperty(Error,"__BluebirdErrorTypes__",{value:T,writable:!1,enumerable:!1,configurable:!1})),i4={Error,TypeError:c,RangeError:u,CancellationError:T.CancellationError,OperationalError:T.OperationalError,TimeoutError:T.TimeoutError,AggregateError:T.AggregateError,Warning:h},i4}var r4,nq;function Ike(){return nq||(nq=1,r4=function(n,e){var i=Ni(),r=i.errorObj,o=i.isObject;function l(y,v){if(o(y)){if(y instanceof n)return y;var _=u(y);if(_===r){v&&v._pushContext();var A=n.reject(_.e);return v&&v._popContext(),A}else if(typeof _=="function"){if(m(y)){var A=new n(e);return y._then(A._fulfill,A._reject,void 0,A,null),A}return g(y,_,v)}}return y}function c(y){return y.then}function u(y){try{return c(y)}catch(v){return r.e=v,r}}var h={}.hasOwnProperty;function m(y){try{return h.call(y,"_promise0")}catch{return!1}}function g(y,v,_){var A=new n(e),S=A;_&&_._pushContext(),A._captureStackTrace(),_&&_._popContext();var T=!0,C=i.tryCatch(v).call(y,N,I);T=!1,A&&C===r&&(A._rejectCallback(C.e,!0,!0),A=null);function N(O){A&&(A._resolveCallback(O),A=null)}function I(O){A&&(A._rejectCallback(O,T,!0),A=null)}return S}return l}),r4}var s4,iq;function jke(){return iq||(iq=1,s4=function(n,e,i,r,o){var l=Ni();l.isArray;function c(h){switch(h){case-2:return[];case-3:return{}}}function u(h){var m=this._promise=new n(e);h instanceof n&&m._propagateFrom(h,3),m._setOnCancel(this),this._values=h,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return l.inherits(u,o),u.prototype.length=function(){return this._length},u.prototype.promise=function(){return this._promise},u.prototype._init=function h(m,g){var y=i(this._values,this._promise);if(y instanceof n){y=y._target();var v=y._bitField;if(this._values=y,v&50397184)if(v&33554432)y=y._value();else return v&16777216?this._reject(y._reason()):this._cancel();else return this._promise._setAsyncGuaranteed(),y._then(h,this._reject,void 0,this,g)}if(y=l.asArray(y),y===null){var _=r("expecting an array or an iterable object but got "+l.classString(y)).reason();this._promise._rejectCallback(_,!1);return}if(y.length===0){g===-5?this._resolveEmptyArray():this._resolve(c(g));return}this._iterate(y)},u.prototype._iterate=function(h){var m=this.getActualLength(h.length);this._length=m,this._values=this.shouldCopyValues()?new Array(m):this._values;for(var g=this._promise,y=!1,v=null,_=0;_<m;++_){var A=i(h[_],g);A instanceof n?(A=A._target(),v=A._bitField):v=null,y?v!==null&&A.suppressUnhandledRejections():v!==null?v&50397184?v&33554432?y=this._promiseFulfilled(A._value(),_):v&16777216?y=this._promiseRejected(A._reason(),_):y=this._promiseCancelled(_):(A._proxy(this,_),this._values[_]=A):y=this._promiseFulfilled(A,_)}y||g._setAsyncGuaranteed()},u.prototype._isResolved=function(){return this._values===null},u.prototype._resolve=function(h){this._values=null,this._promise._fulfill(h)},u.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},u.prototype._reject=function(h){this._values=null,this._promise._rejectCallback(h,!1)},u.prototype._promiseFulfilled=function(h,m){this._values[m]=h;var g=++this._totalResolved;return g>=this._length?(this._resolve(this._values),!0):!1},u.prototype._promiseCancelled=function(){return this._cancel(),!0},u.prototype._promiseRejected=function(h){return this._totalResolved++,this._reject(h),!0},u.prototype._resultCancelled=function(){if(!this._isResolved()){var h=this._values;if(this._cancel(),h instanceof n)h.cancel();else for(var m=0;m<h.length;++m)h[m]instanceof n&&h[m].cancel()}},u.prototype.shouldCopyValues=function(){return!0},u.prototype.getActualLength=function(h){return h},u}),s4}var o4,rq;function Rke(){return rq||(rq=1,o4=function(n){var e=!1,i=[];n.prototype._promiseCreated=function(){},n.prototype._pushContext=function(){},n.prototype._popContext=function(){return null},n._peekContext=n.prototype._peekContext=function(){};function r(){this._trace=new r.CapturedTrace(l())}r.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,i.push(this._trace))},r.prototype._popContext=function(){if(this._trace!==void 0){var c=i.pop(),u=c._promiseCreated;return c._promiseCreated=null,u}return null};function o(){if(e)return new r}function l(){var c=i.length-1;if(c>=0)return i[c]}return r.CapturedTrace=null,r.create=o,r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var c=n.prototype._pushContext,u=n.prototype._popContext,h=n._peekContext,m=n.prototype._peekContext,g=n.prototype._promiseCreated;r.deactivateLongStackTraces=function(){n.prototype._pushContext=c,n.prototype._popContext=u,n._peekContext=h,n.prototype._peekContext=m,n.prototype._promiseCreated=g,e=!1},e=!0,n.prototype._pushContext=r.prototype._pushContext,n.prototype._popContext=r.prototype._popContext,n._peekContext=n.prototype._peekContext=l,n.prototype._promiseCreated=function(){var y=this._peekContext();y&&y._promiseCreated==null&&(y._promiseCreated=this)}},r}),o4}var a4,sq;function Mke(){return sq||(sq=1,a4=function(n,e){var i=n._getDomain,r=n._async,o=Vm().Warning,l=Ni(),c=l.canAttachTrace,u,h,m=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,g=/\((?:timers\.js):\d+:\d+\)/,y=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,v=null,_=null,A=!1,S,T=!!(l.env("BLUEBIRD_DEBUG")!=0&&(l.env("BLUEBIRD_DEBUG")||l.env("NODE_ENV")==="development")),C=!!(l.env("BLUEBIRD_WARNINGS")!=0&&(T||l.env("BLUEBIRD_WARNINGS"))),N=!!(l.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(T||l.env("BLUEBIRD_LONG_STACK_TRACES"))),I=l.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(C||!!l.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var Ee=this._target();Ee._bitField=Ee._bitField&-1048577|524288},n.prototype._ensurePossibleRejectionHandled=function(){this._bitField&524288||(this._setRejectionIsUnhandled(),r.invokeLater(this._notifyUnhandledRejection,this,void 0))},n.prototype._notifyUnhandledRejectionIsHandled=function(){ke("rejectionHandled",u,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},n.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var Ee=this._settledValue();this._setUnhandledRejectionIsNotified(),ke("unhandledRejection",h,Ee,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},n.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},n.prototype._warn=function(Ee,ve,ae){return fe(Ee,ve,ae||this)},n.onPossiblyUnhandledRejection=function(Ee){var ve=i();h=typeof Ee=="function"?ve===null?Ee:l.domainBind(ve,Ee):void 0},n.onUnhandledRejectionHandled=function(Ee){var ve=i();u=typeof Ee=="function"?ve===null?Ee:l.domainBind(ve,Ee):void 0};var O=function(){};n.longStackTraces=function(){if(r.haveItemsQueued()&&!Ne.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!Ne.longStackTraces&&Ce()){var Ee=n.prototype._captureStackTrace,ve=n.prototype._attachExtraTrace;Ne.longStackTraces=!0,O=function(){if(r.haveItemsQueued()&&!Ne.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);n.prototype._captureStackTrace=Ee,n.prototype._attachExtraTrace=ve,e.deactivateLongStackTraces(),r.enableTrampoline(),Ne.longStackTraces=!1},n.prototype._captureStackTrace=ne,n.prototype._attachExtraTrace=ee,e.activateLongStackTraces(),r.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return Ne.longStackTraces&&Ce()};var F=function(){try{if(typeof CustomEvent=="function"){var Ee=new CustomEvent("CustomEvent");return l.global.dispatchEvent(Ee),function(ve,ae){var Ue=new CustomEvent(ve.toLowerCase(),{detail:ae,cancelable:!0});return!l.global.dispatchEvent(Ue)}}else if(typeof Event=="function"){var Ee=new Event("CustomEvent");return l.global.dispatchEvent(Ee),function(ae,Ue){var Je=new Event(ae.toLowerCase(),{cancelable:!0});return Je.detail=Ue,!l.global.dispatchEvent(Je)}}else{var Ee=document.createEvent("CustomEvent");return Ee.initCustomEvent("testingtheevent",!1,!0,{}),l.global.dispatchEvent(Ee),function(ae,Ue){var Je=document.createEvent("CustomEvent");return Je.initCustomEvent(ae.toLowerCase(),!1,!0,Ue),!l.global.dispatchEvent(Je)}}}catch{}return function(){return!1}}(),L=function(){return l.isNode?function(){return process.emit.apply(process,arguments)}:l.global?function(Ee){var ve="on"+Ee.toLowerCase(),ae=l.global[ve];return ae?(ae.apply(l.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}}();function z(Ee,ve){return{promise:ve}}var B={promiseCreated:z,promiseFulfilled:z,promiseRejected:z,promiseResolved:z,promiseCancelled:z,promiseChained:function(Ee,ve,ae){return{promise:ve,child:ae}},warning:function(Ee,ve){return{warning:ve}},unhandledRejection:function(Ee,ve,ae){return{reason:ve,promise:ae}},rejectionHandled:z},Y=function(Ee){var ve=!1;try{ve=L.apply(null,arguments)}catch(Ue){r.throwLater(Ue),ve=!0}var ae=!1;try{ae=F(Ee,B[Ee].apply(null,arguments))}catch(Ue){r.throwLater(Ue),ae=!0}return ae||ve};n.config=function(Ee){if(Ee=Object(Ee),"longStackTraces"in Ee&&(Ee.longStackTraces?n.longStackTraces():!Ee.longStackTraces&&n.hasLongStackTraces()&&O()),"warnings"in Ee){var ve=Ee.warnings;Ne.warnings=!!ve,I=Ne.warnings,l.isObject(ve)&&"wForgottenReturn"in ve&&(I=!!ve.wForgottenReturn)}if("cancellation"in Ee&&Ee.cancellation&&!Ne.cancellation){if(r.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=Te,n.prototype._propagateFrom=ie,n.prototype._onCancel=be,n.prototype._setOnCancel=q,n.prototype._attachCancellationCallback=J,n.prototype._execute=de,X=ie,Ne.cancellation=!0}return"monitoring"in Ee&&(Ee.monitoring&&!Ne.monitoring?(Ne.monitoring=!0,n.prototype._fireEvent=Y):!Ee.monitoring&&Ne.monitoring&&(Ne.monitoring=!1,n.prototype._fireEvent=se)),n};function se(){return!1}n.prototype._fireEvent=se,n.prototype._execute=function(Ee,ve,ae){try{Ee(ve,ae)}catch(Ue){return Ue}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(Ee){},n.prototype._attachCancellationCallback=function(Ee){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(Ee,ve){};function de(Ee,ve,ae){var Ue=this;try{Ee(ve,ae,function(Je){if(typeof Je!="function")throw new TypeError("onCancel must be a function, got: "+l.toString(Je));Ue._attachCancellationCallback(Je)})}catch(Je){return Je}}function J(Ee){if(!this._isCancellable())return this;var ve=this._onCancel();ve!==void 0?l.isArray(ve)?ve.push(Ee):this._setOnCancel([ve,Ee]):this._setOnCancel(Ee)}function be(){return this._onCancelField}function q(Ee){this._onCancelField=Ee}function Te(){this._cancellationParent=void 0,this._onCancelField=void 0}function ie(Ee,ve){if(ve&1){this._cancellationParent=Ee;var ae=Ee._branchesRemainingToCancel;ae===void 0&&(ae=0),Ee._branchesRemainingToCancel=ae+1}ve&2&&Ee._isBound()&&this._setBoundTo(Ee._boundTo)}function ce(Ee,ve){ve&2&&Ee._isBound()&&this._setBoundTo(Ee._boundTo)}var X=ce;function K(){var Ee=this._boundTo;return Ee!==void 0&&Ee instanceof n?Ee.isFulfilled()?Ee.value():void 0:Ee}function ne(){this._trace=new Ve(this._peekContext())}function ee(Ee,ve){if(c(Ee)){var ae=this._trace;if(ae!==void 0&&ve&&(ae=ae._parent),ae!==void 0)ae.attachExtraTrace(Ee);else if(!Ee.__stackCleaned__){var Ue=Fe(Ee);l.notEnumerableProp(Ee,"stack",Ue.message+`
`+Ue.stack.join(`
`)),l.notEnumerableProp(Ee,"__stackCleaned__",!0)}}}function ue(Ee,ve,ae,Ue,Je){if(Ee===void 0&&ve!==null&&I){if(Je!==void 0&&Je._returnedNonUndefined()||!(Ue._bitField&65535))return;ae&&(ae=ae+" ");var nt="",dt="";if(ve._trace){for(var ft=ve._trace.stack.split(`
`),Ot=je(ft),Ct=Ot.length-1;Ct>=0;--Ct){var $t=Ot[Ct];if(!g.test($t)){var At=$t.match(y);At&&(nt="at "+At[1]+":"+At[2]+":"+At[3]+" ");break}}if(Ot.length>0){for(var Zt=Ot[0],Ct=0;Ct<ft.length;++Ct)if(ft[Ct]===Zt){Ct>0&&(dt=`
`+ft[Ct-1]);break}}}var qt="a promise was created in a "+ae+"handler "+nt+"but was not returned from it, see http://goo.gl/rRqMUw"+dt;Ue._warn(qt,!0,ve)}}function Q(Ee,ve){var ae=Ee+" is deprecated and will be removed in a future version.";return ve&&(ae+=" Use "+ve+" instead."),fe(ae)}function fe(Ee,ve,ae){if(Ne.warnings){var Ue=new o(Ee),Je;if(ve)ae._attachExtraTrace(Ue);else if(Ne.longStackTraces&&(Je=n._peekContext()))Je.attachExtraTrace(Ue);else{var nt=Fe(Ue);Ue.stack=nt.message+`
`+nt.stack.join(`
`)}Y("warning",Ue)||Ae(Ue,"",!0)}}function Se(Ee,ve){for(var ae=0;ae<ve.length-1;++ae)ve[ae].push("From previous event:"),ve[ae]=ve[ae].join(`
`);return ae<ve.length&&(ve[ae]=ve[ae].join(`
`)),Ee+`
`+ve.join(`
`)}function Oe(Ee){for(var ve=0;ve<Ee.length;++ve)(Ee[ve].length===0||ve+1<Ee.length&&Ee[ve][0]===Ee[ve+1][0])&&(Ee.splice(ve,1),ve--)}function Ie(Ee){for(var ve=Ee[0],ae=1;ae<Ee.length;++ae){for(var Ue=Ee[ae],Je=ve.length-1,nt=ve[Je],dt=-1,ft=Ue.length-1;ft>=0;--ft)if(Ue[ft]===nt){dt=ft;break}for(var ft=dt;ft>=0;--ft){var Ot=Ue[ft];if(ve[Je]===Ot)ve.pop(),Je--;else break}ve=Ue}}function je(Ee){for(var ve=[],ae=0;ae<Ee.length;++ae){var Ue=Ee[ae],Je=Ue==="    (No stack trace)"||v.test(Ue),nt=Je&&Me(Ue);Je&&!nt&&(A&&Ue.charAt(0)!==" "&&(Ue="    "+Ue),ve.push(Ue))}return ve}function Be(Ee){for(var ve=Ee.stack.replace(/\s+$/g,"").split(`
`),ae=0;ae<ve.length;++ae){var Ue=ve[ae];if(Ue==="    (No stack trace)"||v.test(Ue))break}return ae>0&&Ee.name!="SyntaxError"&&(ve=ve.slice(ae)),ve}function Fe(Ee){var ve=Ee.stack,ae=Ee.toString();return ve=typeof ve=="string"&&ve.length>0?Be(Ee):["    (No stack trace)"],{message:ae,stack:Ee.name=="SyntaxError"?ve:je(ve)}}function Ae(Ee,ve,ae){if(typeof console<"u"){var Ue;if(l.isObject(Ee)){var Je=Ee.stack;Ue=ve+_(Je,Ee)}else Ue=ve+String(Ee);typeof S=="function"?S(Ue,ae):(typeof console.log=="function"||typeof console.log=="object")&&console.log(Ue)}}function ke(Ee,ve,ae,Ue){var Je=!1;try{typeof ve=="function"&&(Je=!0,Ee==="rejectionHandled"?ve(Ue):ve(ae,Ue))}catch(nt){r.throwLater(nt)}Ee==="unhandledRejection"?!Y(Ee,ae,Ue)&&!Je&&Ae(ae,"Unhandled rejection "):Y(Ee,Ue)}function ze(Ee){var ve;if(typeof Ee=="function")ve="[function "+(Ee.name||"anonymous")+"]";else{ve=Ee&&typeof Ee.toString=="function"?Ee.toString():l.toString(Ee);var ae=/\[object [a-zA-Z0-9$_]+\]/;if(ae.test(ve))try{var Ue=JSON.stringify(Ee);ve=Ue}catch{}ve.length===0&&(ve="(empty array)")}return"(<"+$(ve)+">, no stack trace)"}function $(Ee){var ve=41;return Ee.length<ve?Ee:Ee.substr(0,ve-3)+"..."}function Ce(){return typeof $e=="function"}var Me=function(){return!1},ye=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function _e(Ee){var ve=Ee.match(ye);if(ve)return{fileName:ve[1],line:parseInt(ve[2],10)}}function Le(Ee,ve){if(Ce()){for(var ae=Ee.stack.split(`
`),Ue=ve.stack.split(`
`),Je=-1,nt=-1,dt,ft,Ot=0;Ot<ae.length;++Ot){var Ct=_e(ae[Ot]);if(Ct){dt=Ct.fileName,Je=Ct.line;break}}for(var Ot=0;Ot<Ue.length;++Ot){var Ct=_e(Ue[Ot]);if(Ct){ft=Ct.fileName,nt=Ct.line;break}}Je<0||nt<0||!dt||!ft||dt!==ft||Je>=nt||(Me=function($t){if(m.test($t))return!0;var At=_e($t);return!!(At&&At.fileName===dt&&Je<=At.line&&At.line<=nt)})}}function Ve(Ee){this._parent=Ee,this._promisesCreated=0;var ve=this._length=1+(Ee===void 0?0:Ee._length);$e(this,Ve),ve>32&&this.uncycle()}l.inherits(Ve,Error),e.CapturedTrace=Ve,Ve.prototype.uncycle=function(){var Ee=this._length;if(!(Ee<2)){for(var ve=[],ae={},Ue=0,Je=this;Je!==void 0;++Ue)ve.push(Je),Je=Je._parent;Ee=this._length=Ue;for(var Ue=Ee-1;Ue>=0;--Ue){var nt=ve[Ue].stack;ae[nt]===void 0&&(ae[nt]=Ue)}for(var Ue=0;Ue<Ee;++Ue){var dt=ve[Ue].stack,ft=ae[dt];if(ft!==void 0&&ft!==Ue){ft>0&&(ve[ft-1]._parent=void 0,ve[ft-1]._length=1),ve[Ue]._parent=void 0,ve[Ue]._length=1;var Ot=Ue>0?ve[Ue-1]:this;ft<Ee-1?(Ot._parent=ve[ft+1],Ot._parent.uncycle(),Ot._length=Ot._parent._length+1):(Ot._parent=void 0,Ot._length=1);for(var Ct=Ot._length+1,$t=Ue-2;$t>=0;--$t)ve[$t]._length=Ct,Ct++;return}}}},Ve.prototype.attachExtraTrace=function(Ee){if(!Ee.__stackCleaned__){this.uncycle();for(var ve=Fe(Ee),ae=ve.message,Ue=[ve.stack],Je=this;Je!==void 0;)Ue.push(je(Je.stack.split(`
`))),Je=Je._parent;Ie(Ue),Oe(Ue),l.notEnumerableProp(Ee,"stack",Se(ae,Ue)),l.notEnumerableProp(Ee,"__stackCleaned__",!0)}};var $e=function(){var ve=/^\s*at\s*/,ae=function(dt,ft){return typeof dt=="string"?dt:ft.name!==void 0&&ft.message!==void 0?ft.toString():ze(ft)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,v=ve,_=ae;var Ue=Error.captureStackTrace;return Me=function(dt){return m.test(dt)},function(dt,ft){Error.stackTraceLimit+=6,Ue(dt,ft),Error.stackTraceLimit-=6}}var Je=new Error;if(typeof Je.stack=="string"&&Je.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return v=/@/,_=ae,A=!0,function(ft){ft.stack=new Error().stack};var nt;try{throw new Error}catch(dt){nt="stack"in dt}return!("stack"in Je)&&nt&&typeof Error.stackTraceLimit=="number"?(v=ve,_=ae,function(ft){Error.stackTraceLimit+=6;try{throw new Error}catch(Ot){ft.stack=Ot.stack}Error.stackTraceLimit-=6}):(_=function(dt,ft){return typeof dt=="string"?dt:(typeof ft=="object"||typeof ft=="function")&&ft.name!==void 0&&ft.message!==void 0?ft.toString():ze(ft)},null)}();typeof console<"u"&&typeof console.warn<"u"&&(S=function(Ee){console.warn(Ee)},l.isNode&&process.stderr.isTTY?S=function(Ee,ve){var ae=ve?"\x1B[33m":"\x1B[31m";console.warn(ae+Ee+`\x1B[0m
`)}:!l.isNode&&typeof new Error().stack=="string"&&(S=function(Ee,ve){console.warn("%c"+Ee,ve?"color: darkorange":"color: red")}));var Ne={warnings:C,longStackTraces:!1,cancellation:!1,monitoring:!1};return N&&n.longStackTraces(),{longStackTraces:function(){return Ne.longStackTraces},warnings:function(){return Ne.warnings},cancellation:function(){return Ne.cancellation},monitoring:function(){return Ne.monitoring},propagateFromFunction:function(){return X},boundValueFunction:function(){return K},checkForgottenReturns:ue,setBounds:Le,warn:fe,deprecated:Q,CapturedTrace:Ve,fireDomEvent:F,fireGlobalEvent:L}}),a4}var l4,oq;function Oke(){return oq||(oq=1,l4=function(n,e){var i=Ni(),r=n.CancellationError,o=i.errorObj;function l(y,v,_){this.promise=y,this.type=v,this.handler=_,this.called=!1,this.cancelPromise=null}l.prototype.isFinallyHandler=function(){return this.type===0};function c(y){this.finallyHandler=y}c.prototype._resultCancelled=function(){u(this.finallyHandler)};function u(y,v){return y.cancelPromise!=null?(arguments.length>1?y.cancelPromise._reject(v):y.cancelPromise._cancel(),y.cancelPromise=null,!0):!1}function h(){return g.call(this,this.promise._target()._settledValue())}function m(y){if(!u(this,y))return o.e=y,o}function g(y){var v=this.promise,_=this.handler;if(!this.called){this.called=!0;var A=this.isFinallyHandler()?_.call(v._boundValue()):_.call(v._boundValue(),y);if(A!==void 0){v._setReturnedNonUndefined();var S=e(A,v);if(S instanceof n){if(this.cancelPromise!=null)if(S._isCancelled()){var T=new r("late cancellation observer");return v._attachExtraTrace(T),o.e=T,o}else S.isPending()&&S._attachCancellationCallback(new c(this));return S._then(h,m,void 0,this,void 0)}}}return v.isRejected()?(u(this),o.e=y,o):(u(this),y)}return n.prototype._passThrough=function(y,v,_,A){return typeof y!="function"?this.then():this._then(_,A,void 0,new l(this,v,y),void 0)},n.prototype.lastly=n.prototype.finally=function(y){return this._passThrough(y,0,g,g)},n.prototype.tap=function(y){return this._passThrough(y,1,g)},l}),l4}var c4,aq;function Fke(){return aq||(aq=1,c4=function(n){var e=Ni(),i=cx().keys,r=e.tryCatch,o=e.errorObj;function l(c,u,h){return function(m){var g=h._boundValue();e:for(var y=0;y<c.length;++y){var v=c[y];if(v===Error||v!=null&&v.prototype instanceof Error){if(m instanceof v)return r(u).call(g,m)}else if(typeof v=="function"){var _=r(v).call(g,m);if(_===o)return _;if(_)return r(u).call(g,m)}else if(e.isObject(m)){for(var A=i(v),S=0;S<A.length;++S){var T=A[S];if(v[T]!=m[T])continue e}return r(u).call(g,m)}}return n}}return l}),c4}var u4,lq;function oee(){if(lq)return u4;lq=1;var n=Ni(),e=n.maybeWrapAsError,i=Vm(),r=i.OperationalError,o=cx();function l(m){return m instanceof Error&&o.getPrototypeOf(m)===Error.prototype}var c=/^(?:name|message|stack|cause)$/;function u(m){var g;if(l(m)){g=new r(m),g.name=m.name,g.message=m.message,g.stack=m.stack;for(var y=o.keys(m),v=0;v<y.length;++v){var _=y[v];c.test(_)||(g[_]=m[_])}return g}return n.markAsOriginatingFromRejection(m),m}function h(m,g){return function(y,v){if(m!==null){if(y){var _=u(e(y));m._attachExtraTrace(_),m._reject(_)}else if(!g)m._fulfill(v);else{for(var A=arguments.length,S=new Array(Math.max(A-1,0)),T=1;T<A;++T)S[T-1]=arguments[T];m._fulfill(S)}m=null}}}return u4=h,u4}var d4,cq;function Lke(){return cq||(cq=1,d4=function(n,e,i,r,o){var l=Ni(),c=l.tryCatch;n.method=function(u){if(typeof u!="function")throw new n.TypeError("expecting a function but got "+l.classString(u));return function(){var h=new n(e);h._captureStackTrace(),h._pushContext();var m=c(u).apply(this,arguments),g=h._popContext();return o.checkForgottenReturns(m,g,"Promise.method",h),h._resolveFromSyncValue(m),h}},n.attempt=n.try=function(u){if(typeof u!="function")return r("expecting a function but got "+l.classString(u));var h=new n(e);h._captureStackTrace(),h._pushContext();var m;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var g=arguments[1],y=arguments[2];m=l.isArray(g)?c(u).apply(y,g):c(u).call(y,g)}else m=c(u)();var v=h._popContext();return o.checkForgottenReturns(m,v,"Promise.try",h),h._resolveFromSyncValue(m),h},n.prototype._resolveFromSyncValue=function(u){u===l.errorObj?this._rejectCallback(u.e,!1):this._resolveCallback(u,!0)}}),d4}var h4,uq;function Uke(){return uq||(uq=1,h4=function(n,e,i,r){var o=!1,l=function(m,g){this._reject(g)},c=function(m,g){g.promiseRejectionQueued=!0,g.bindingPromise._then(l,l,null,this,m)},u=function(m,g){this._bitField&50397184||this._resolveCallback(g.target)},h=function(m,g){g.promiseRejectionQueued||this._reject(m)};n.prototype.bind=function(m){o||(o=!0,n.prototype._propagateFrom=r.propagateFromFunction(),n.prototype._boundValue=r.boundValueFunction());var g=i(m),y=new n(e);y._propagateFrom(this,1);var v=this._target();if(y._setBoundTo(g),g instanceof n){var _={promiseRejectionQueued:!1,promise:y,target:v,bindingPromise:g};v._then(e,c,void 0,y,_),g._then(u,h,void 0,y,_),y._setOnCancel(g)}else y._resolveCallback(v);return y},n.prototype._setBoundTo=function(m){m!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=m):this._bitField=this._bitField&-2097153},n.prototype._isBound=function(){return(this._bitField&2097152)===2097152},n.bind=function(m,g){return n.resolve(g).bind(m)}}),h4}var f4,dq;function Bke(){return dq||(dq=1,f4=function(n,e,i,r){var o=Ni(),l=o.tryCatch,c=o.errorObj,u=n._async;n.prototype.break=n.prototype.cancel=function(){if(!r.cancellation())return this._warn("cancellation is disabled");for(var h=this,m=h;h._isCancellable();){if(!h._cancelBy(m)){m._isFollowing()?m._followee().cancel():m._cancelBranched();break}var g=h._cancellationParent;if(g==null||!g._isCancellable()){h._isFollowing()?h._followee().cancel():h._cancelBranched();break}else h._isFollowing()&&h._followee().cancel(),h._setWillBeCancelled(),m=h,h=g}},n.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},n.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},n.prototype._cancelBy=function(h){return h===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},n.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},n.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),u.invoke(this._cancelPromises,this,void 0))},n.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},n.prototype._unsetOnCancel=function(){this._onCancelField=void 0},n.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},n.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},n.prototype._doInvokeOnCancel=function(h,m){if(o.isArray(h))for(var g=0;g<h.length;++g)this._doInvokeOnCancel(h[g],m);else if(h!==void 0)if(typeof h=="function"){if(!m){var y=l(h).call(this._boundValue());y===c&&(this._attachExtraTrace(y.e),u.throwLater(y.e))}}else h._resultCancelled(this)},n.prototype._invokeOnCancel=function(){var h=this._onCancel();this._unsetOnCancel(),u.invoke(this._doInvokeOnCancel,this,h)},n.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},n.prototype._resultCancelled=function(){this.cancel()}}),f4}var p4,hq;function zke(){return hq||(hq=1,p4=function(n){function e(){return this.value}function i(){throw this.reason}n.prototype.return=n.prototype.thenReturn=function(r){return r instanceof n&&r.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:r},void 0)},n.prototype.throw=n.prototype.thenThrow=function(r){return this._then(i,void 0,void 0,{reason:r},void 0)},n.prototype.catchThrow=function(r){if(arguments.length<=1)return this._then(void 0,i,void 0,{reason:r},void 0);var o=arguments[1],l=function(){throw o};return this.caught(r,l)},n.prototype.catchReturn=function(r){if(arguments.length<=1)return r instanceof n&&r.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:r},void 0);var o=arguments[1];o instanceof n&&o.suppressUnhandledRejections();var l=function(){return o};return this.caught(r,l)}}),p4}var m4,fq;function Vke(){return fq||(fq=1,m4=function(n){function e(h){h!==void 0?(h=h._target(),this._bitField=h._bitField,this._settledValueField=h._isFateSealed()?h._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var i=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},o=e.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},l=e.prototype.isRejected=function(){return(this._bitField&16777216)!==0},c=e.prototype.isPending=function(){return(this._bitField&50397184)===0},u=e.prototype.isResolved=function(){return(this._bitField&50331648)!==0};e.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},n.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},n.prototype._isCancelled=function(){return this._target().__isCancelled()},n.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},n.prototype.isPending=function(){return c.call(this._target())},n.prototype.isRejected=function(){return l.call(this._target())},n.prototype.isFulfilled=function(){return o.call(this._target())},n.prototype.isResolved=function(){return u.call(this._target())},n.prototype.value=function(){return i.call(this._target())},n.prototype.reason=function(){var h=this._target();return h._unsetRejectionIsUnhandled(),r.call(h)},n.prototype._value=function(){return this._settledValue()},n.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},n.PromiseInspection=e}),m4}var g4,pq;function Wke(){return pq||(pq=1,g4=function(n,e,i,r,o,l){var c=Ni(),u=c.canEvaluate,h=c.tryCatch,m=c.errorObj,g;if(u){for(var y=function(N){return new Function("value","holder",`                             
	            'use strict';                                                    
	            holder.pIndex = value;                                           
	            holder.checkFulfillment(this);                                   
	            `.replace(/Index/g,N))},v=function(N){return new Function("promise","holder",`                           
	            'use strict';                                                    
	            holder.pIndex = promise;                                         
	            `.replace(/Index/g,N))},_=function(N){for(var I=new Array(N),O=0;O<I.length;++O)I[O]="this.p"+(O+1);var F=I.join(" = ")+" = null;",L=`var promise;
`+I.map(function(se){return`                                                         
	                promise = `+se+`;                                      
	                if (promise instanceof Promise) {                            
	                    promise.cancel();                                        
	                }                                                            
	            `}).join(`
`),z=I.join(", "),B="Holder$"+N,Y=`return function(tryCatch, errorObj, Promise, async) {    
	            'use strict';                                                    
	            function [TheName](fn) {                                         
	                [TheProperties]                                              
	                this.fn = fn;                                                
	                this.asyncNeeded = true;                                     
	                this.now = 0;                                                
	            }                                                                
	                                                                             
	            [TheName].prototype._callFunction = function(promise) {          
	                promise._pushContext();                                      
	                var ret = tryCatch(this.fn)([ThePassedArguments]);           
	                promise._popContext();                                       
	                if (ret === errorObj) {                                      
	                    promise._rejectCallback(ret.e, false);                   
	                } else {                                                     
	                    promise._resolveCallback(ret);                           
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype.checkFulfillment = function(promise) {       
	                var now = ++this.now;                                        
	                if (now === [TheTotal]) {                                    
	                    if (this.asyncNeeded) {                                  
	                        async.invoke(this._callFunction, this, promise);     
	                    } else {                                                 
	                        this._callFunction(promise);                         
	                    }                                                        
	                                                                             
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype._resultCancelled = function() {              
	                [CancellationCode]                                           
	            };                                                               
	                                                                             
	            return [TheName];                                                
	        }(tryCatch, errorObj, Promise, async);                               
	        `;return Y=Y.replace(/\[TheName\]/g,B).replace(/\[TheTotal\]/g,N).replace(/\[ThePassedArguments\]/g,z).replace(/\[TheProperties\]/g,F).replace(/\[CancellationCode\]/g,L),new Function("tryCatch","errorObj","Promise","async",Y)(h,m,n,o)},A=[],S=[],T=[],C=0;C<8;++C)A.push(_(C+1)),S.push(y(C+1)),T.push(v(C+1));g=function(N){this._reject(N)}}n.join=function(){var N=arguments.length-1,I;if(N>0&&typeof arguments[N]=="function"&&(I=arguments[N],N<=8&&u)){var q=new n(r);q._captureStackTrace();for(var O=A[N-1],F=new O(I),L=S,z=0;z<N;++z){var B=i(arguments[z],q);if(B instanceof n){B=B._target();var Y=B._bitField;Y&50397184?Y&33554432?L[z].call(q,B._value(),F):Y&16777216?q._reject(B._reason()):q._cancel():(B._then(L[z],g,void 0,q,F),T[z](B,F),F.asyncNeeded=!1)}else L[z].call(q,B,F)}if(!q._isFateSealed()){if(F.asyncNeeded){var se=l();se!==null&&(F.fn=c.domainBind(se,F.fn))}q._setAsyncGuaranteed(),q._setOnCancel(F)}return q}for(var de=arguments.length,J=new Array(de),be=0;be<de;++be)J[be]=arguments[be];I&&J.pop();var q=new e(J).promise();return I!==void 0?q.spread(I):q}}),g4}var b4,mq;function $ke(){return mq||(mq=1,b4=function(n,e,i,r,o,l){var c=n._getDomain,u=Ni(),h=u.tryCatch,m=u.errorObj,g=n._async;function y(_,A,S,T){this.constructor$(_),this._promise._captureStackTrace();var C=c();this._callback=C===null?A:u.domainBind(C,A),this._preservedValues=T===o?new Array(this.length()):null,this._limit=S,this._inFlight=0,this._queue=[],g.invoke(this._asyncInit,this,void 0)}u.inherits(y,e),y.prototype._asyncInit=function(){this._init$(void 0,-2)},y.prototype._init=function(){},y.prototype._promiseFulfilled=function(_,A){var S=this._values,T=this.length(),C=this._preservedValues,N=this._limit;if(A<0){if(A=A*-1-1,S[A]=_,N>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(N>=1&&this._inFlight>=N)return S[A]=_,this._queue.push(A),!1;C!==null&&(C[A]=_);var I=this._promise,O=this._callback,F=I._boundValue();I._pushContext();var L=h(O).call(F,_,A,T),z=I._popContext();if(l.checkForgottenReturns(L,z,C!==null?"Promise.filter":"Promise.map",I),L===m)return this._reject(L.e),!0;var B=r(L,this._promise);if(B instanceof n){B=B._target();var Y=B._bitField;if(Y&50397184)if(Y&33554432)L=B._value();else return Y&16777216?(this._reject(B._reason()),!0):(this._cancel(),!0);else return N>=1&&this._inFlight++,S[A]=B,B._proxy(this,(A+1)*-1),!1}S[A]=L}var se=++this._totalResolved;return se>=T?(C!==null?this._filter(S,C):this._resolve(S),!0):!1},y.prototype._drainQueue=function(){for(var _=this._queue,A=this._limit,S=this._values;_.length>0&&this._inFlight<A;){if(this._isResolved())return;var T=_.pop();this._promiseFulfilled(S[T],T)}},y.prototype._filter=function(_,A){for(var S=A.length,T=new Array(S),C=0,N=0;N<S;++N)_[N]&&(T[C++]=A[N]);T.length=C,this._resolve(T)},y.prototype.preservedValues=function(){return this._preservedValues};function v(_,A,S,T){if(typeof A!="function")return i("expecting a function but got "+u.classString(A));var C=0;if(S!==void 0)if(typeof S=="object"&&S!==null){if(typeof S.concurrency!="number")return n.reject(new TypeError("'concurrency' must be a number but it is "+u.classString(S.concurrency)));C=S.concurrency}else return n.reject(new TypeError("options argument must be an object but it is "+u.classString(S)));return C=typeof C=="number"&&isFinite(C)&&C>=1?C:0,new y(_,A,C,T).promise()}n.prototype.map=function(_,A){return v(this,_,A,null)},n.map=function(_,A,S,T){return v(_,A,S,T)}}),b4}var y4,gq;function qke(){if(gq)return y4;gq=1;var n=Object.create;if(n){var e=n(null),i=n(null);e[" size"]=i[" size"]=0}return y4=function(r){var o=Ni(),l=o.canEvaluate,c=o.isIdentifier,u,h;{var m=function(T){return new Function("ensureMethod",`                                    
	        return function(obj) {                                               
	            'use strict'                                                     
	            var len = this.length;                                           
	            ensureMethod(obj, 'methodName');                                 
	            switch(len) {                                                    
	                case 1: return obj.methodName(this[0]);                      
	                case 2: return obj.methodName(this[0], this[1]);             
	                case 3: return obj.methodName(this[0], this[1], this[2]);    
	                case 0: return obj.methodName();                             
	                default:                                                     
	                    return obj.methodName.apply(obj, this);                  
	            }                                                                
	        };                                                                   
	        `.replace(/methodName/g,T))(v)},g=function(T){return new Function("obj",`                                             
	        'use strict';                                                        
	        return obj.propertyName;                                             
	        `.replace("propertyName",T))},y=function(T,C,N){var I=N[T];if(typeof I!="function"){if(!c(T))return null;if(I=C(T),N[T]=I,N[" size"]++,N[" size"]>512){for(var O=Object.keys(N),F=0;F<256;++F)delete N[O[F]];N[" size"]=O.length-256}}return I};u=function(T){return y(T,m,e)},h=function(T){return y(T,g,i)}}function v(T,C){var N;if(T!=null&&(N=T[C]),typeof N!="function"){var I="Object "+o.classString(T)+" has no method '"+o.toString(C)+"'";throw new r.TypeError(I)}return N}function _(T){var C=this.pop(),N=v(T,C);return N.apply(T,this)}r.prototype.call=function(T){for(var C=arguments.length,N=new Array(Math.max(C-1,0)),I=1;I<C;++I)N[I-1]=arguments[I];if(l){var O=u(T);if(O!==null)return this._then(O,void 0,void 0,N,void 0)}return N.push(T),this._then(_,void 0,void 0,N,void 0)};function A(T){return T[this]}function S(T){var C=+this;return C<0&&(C=Math.max(0,C+T.length)),T[C]}r.prototype.get=function(T){var C=typeof T=="number",N;if(C)N=S;else if(l){var I=h(T);N=I!==null?I:A}else N=A;return this._then(N,void 0,void 0,T,void 0)}},y4}var v4,bq;function Hke(){return bq||(bq=1,v4=function(n,e,i,r,o,l){var c=Ni(),u=Vm().TypeError,h=Ni().inherits,m=c.errorObj,g=c.tryCatch,y={};function v(I){setTimeout(function(){throw I},0)}function _(I){var O=i(I);return O!==I&&typeof I._isDisposable=="function"&&typeof I._getDisposer=="function"&&I._isDisposable()&&O._setDisposable(I._getDisposer()),O}function A(I,O){var F=0,L=I.length,z=new n(o);function B(){if(F>=L)return z._fulfill();var Y=_(I[F++]);if(Y instanceof n&&Y._isDisposable()){try{Y=i(Y._getDisposer().tryDispose(O),I.promise)}catch(se){return v(se)}if(Y instanceof n)return Y._then(B,v,null,null,null)}B()}return B(),z}function S(I,O,F){this._data=I,this._promise=O,this._context=F}S.prototype.data=function(){return this._data},S.prototype.promise=function(){return this._promise},S.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():y},S.prototype.tryDispose=function(I){var O=this.resource(),F=this._context;F!==void 0&&F._pushContext();var L=O!==y?this.doDispose(O,I):null;return F!==void 0&&F._popContext(),this._promise._unsetDisposable(),this._data=null,L},S.isDisposer=function(I){return I!=null&&typeof I.resource=="function"&&typeof I.tryDispose=="function"};function T(I,O,F){this.constructor$(I,O,F)}h(T,S),T.prototype.doDispose=function(I,O){var F=this.data();return F.call(I,I,O)};function C(I){return S.isDisposer(I)?(this.resources[this.index]._setDisposable(I),I.promise()):I}function N(I){this.length=I,this.promise=null,this[I-1]=null}N.prototype._resultCancelled=function(){for(var I=this.length,O=0;O<I;++O){var F=this[O];F instanceof n&&F.cancel()}},n.using=function(){var I=arguments.length;if(I<2)return e("you must pass at least 2 arguments to Promise.using");var O=arguments[I-1];if(typeof O!="function")return e("expecting a function but got "+c.classString(O));var F,L=!0;I===2&&Array.isArray(arguments[0])?(F=arguments[0],I=F.length,L=!1):(F=arguments,I--);for(var z=new N(I),B=0;B<I;++B){var Y=F[B];if(S.isDisposer(Y)){var se=Y;Y=Y.promise(),Y._setDisposable(se)}else{var de=i(Y);de instanceof n&&(Y=de._then(C,null,null,{resources:z,index:B},void 0))}z[B]=Y}for(var J=new Array(z.length),B=0;B<J.length;++B)J[B]=n.resolve(z[B]).reflect();var be=n.all(J).then(function(Te){for(var ie=0;ie<Te.length;++ie){var ce=Te[ie];if(ce.isRejected())return m.e=ce.error(),m;if(!ce.isFulfilled()){be.cancel();return}Te[ie]=ce.value()}q._pushContext(),O=g(O);var X=L?O.apply(void 0,Te):O(Te),K=q._popContext();return l.checkForgottenReturns(X,K,"Promise.using",q),X}),q=be.lastly(function(){var Te=new n.PromiseInspection(be);return A(z,Te)});return z.promise=q,q._setOnCancel(z),q},n.prototype._setDisposable=function(I){this._bitField=this._bitField|131072,this._disposer=I},n.prototype._isDisposable=function(){return(this._bitField&131072)>0},n.prototype._getDisposer=function(){return this._disposer},n.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},n.prototype.disposer=function(I){if(typeof I=="function")return new T(I,this,r());throw new u}}),v4}var w4,yq;function Gke(){return yq||(yq=1,w4=function(n,e,i){var r=Ni(),o=n.TimeoutError;function l(y){this.handle=y}l.prototype._resultCancelled=function(){clearTimeout(this.handle)};var c=function(y){return u(+this).thenReturn(y)},u=n.delay=function(y,v){var _,A;return v!==void 0?(_=n.resolve(v)._then(c,null,null,y,void 0),i.cancellation()&&v instanceof n&&_._setOnCancel(v)):(_=new n(e),A=setTimeout(function(){_._fulfill()},+y),i.cancellation()&&_._setOnCancel(new l(A)),_._captureStackTrace()),_._setAsyncGuaranteed(),_};n.prototype.delay=function(y){return u(y,this)};var h=function(y,v,_){var A;typeof v!="string"?v instanceof Error?A=v:A=new o("operation timed out"):A=new o(v),r.markAsOriginatingFromRejection(A),y._attachExtraTrace(A),y._reject(A),_!=null&&_.cancel()};function m(y){return clearTimeout(this.handle),y}function g(y){throw clearTimeout(this.handle),y}n.prototype.timeout=function(y,v){y=+y;var _,A,S=new l(setTimeout(function(){_.isPending()&&h(_,v,A)},y));return i.cancellation()?(A=this.then(),_=A._then(m,g,void 0,S,void 0),_._setOnCancel(S)):_=this._then(m,g,void 0,S,void 0),_}}),w4}var x4,vq;function Xke(){return vq||(vq=1,x4=function(n,e,i,r,o,l){var c=Vm(),u=c.TypeError,h=Ni(),m=h.errorObj,g=h.tryCatch,y=[];function v(A,S,T){for(var C=0;C<S.length;++C){T._pushContext();var N=g(S[C])(A);if(T._popContext(),N===m){T._pushContext();var I=n.reject(m.e);return T._popContext(),I}var O=r(N,T);if(O instanceof n)return O}return null}function _(A,S,T,C){if(l.cancellation()){var N=new n(i),I=this._finallyPromise=new n(i);this._promise=N.lastly(function(){return I}),N._captureStackTrace(),N._setOnCancel(this)}else{var O=this._promise=new n(i);O._captureStackTrace()}this._stack=C,this._generatorFunction=A,this._receiver=S,this._generator=void 0,this._yieldHandlers=typeof T=="function"?[T].concat(y):y,this._yieldedPromise=null,this._cancellationPhase=!1}h.inherits(_,o),_.prototype._isResolved=function(){return this._promise===null},_.prototype._cleanup=function(){this._promise=this._generator=null,l.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},_.prototype._promiseCancelled=function(){if(!this._isResolved()){var A=typeof this._generator.return<"u",S;if(A)this._promise._pushContext(),S=g(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var T=new n.CancellationError("generator .return() sentinel");n.coroutine.returnSentinel=T,this._promise._attachExtraTrace(T),this._promise._pushContext(),S=g(this._generator.throw).call(this._generator,T),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(S)}},_.prototype._promiseFulfilled=function(A){this._yieldedPromise=null,this._promise._pushContext();var S=g(this._generator.next).call(this._generator,A);this._promise._popContext(),this._continue(S)},_.prototype._promiseRejected=function(A){this._yieldedPromise=null,this._promise._attachExtraTrace(A),this._promise._pushContext();var S=g(this._generator.throw).call(this._generator,A);this._promise._popContext(),this._continue(S)},_.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof n){var A=this._yieldedPromise;this._yieldedPromise=null,A.cancel()}},_.prototype.promise=function(){return this._promise},_.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},_.prototype._continue=function(A){var S=this._promise;if(A===m)return this._cleanup(),this._cancellationPhase?S.cancel():S._rejectCallback(A.e,!1);var T=A.value;if(A.done===!0)return this._cleanup(),this._cancellationPhase?S.cancel():S._resolveCallback(T);var C=r(T,this._promise);if(!(C instanceof n)&&(C=v(C,this._yieldHandlers,this._promise),C===null)){this._promiseRejected(new u(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",T)+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}C=C._target();var N=C._bitField;N&50397184?N&33554432?n._async.invoke(this._promiseFulfilled,this,C._value()):N&16777216?n._async.invoke(this._promiseRejected,this,C._reason()):this._promiseCancelled():(this._yieldedPromise=C,C._proxy(this,null))},n.coroutine=function(A,S){if(typeof A!="function")throw new u(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var T=Object(S).yieldHandler,C=_,N=new Error().stack;return function(){var I=A.apply(this,arguments),O=new C(void 0,void 0,T,N),F=O.promise();return O._generator=I,O._promiseFulfilled(void 0),F}},n.coroutine.addYieldHandler=function(A){if(typeof A!="function")throw new u("expecting a function but got "+h.classString(A));y.push(A)},n.spawn=function(A){if(l.deprecated("Promise.spawn()","Promise.coroutine()"),typeof A!="function")return e(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var S=new _(A,this),T=S.promise();return S._run(n.spawn),T}}),x4}var _4,wq;function Yke(){return wq||(wq=1,_4=function(n){var e=Ni(),i=n._async,r=e.tryCatch,o=e.errorObj;function l(h,m){var g=this;if(!e.isArray(h))return c.call(g,h,m);var y=r(m).apply(g._boundValue(),[null].concat(h));y===o&&i.throwLater(y.e)}function c(h,m){var g=this,y=g._boundValue(),v=h===void 0?r(m).call(y,null):r(m).call(y,null,h);v===o&&i.throwLater(v.e)}function u(h,m){var g=this;if(!h){var y=new Error(h+"");y.cause=h,h=y}var v=r(m).call(g._boundValue(),h);v===o&&i.throwLater(v.e)}n.prototype.asCallback=n.prototype.nodeify=function(h,m){if(typeof h=="function"){var g=c;m!==void 0&&Object(m).spread&&(g=l),this._then(g,u,void 0,this,h)}return this}}),_4}var k4,xq;function Kke(){return xq||(xq=1,k4=function(n,e){var i={},r=Ni(),o=oee(),l=r.withAppended,c=r.maybeWrapAsError,u=r.canEvaluate,h=Vm().TypeError,m="Async",g={__isPromisified__:!0},y=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],v=new RegExp("^(?:"+y.join("|")+")$"),_=function(be){return r.isIdentifier(be)&&be.charAt(0)!=="_"&&be!=="constructor"};function A(be){return!v.test(be)}function S(be){try{return be.__isPromisified__===!0}catch{return!1}}function T(be,q,Te){var ie=r.getDataPropertyOrDefault(be,q+Te,g);return ie?S(ie):!1}function C(be,q,Te){for(var ie=0;ie<be.length;ie+=2){var ce=be[ie];if(Te.test(ce)){for(var X=ce.replace(Te,""),K=0;K<be.length;K+=2)if(be[K]===X)throw new h(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",q))}}}function N(be,q,Te,ie){for(var ce=r.inheritedDataKeys(be),X=[],K=0;K<ce.length;++K){var ne=ce[K],ee=be[ne],ue=ie===_?!0:_(ne);typeof ee=="function"&&!S(ee)&&!T(be,ne,q)&&ie(ne,ee,be,ue)&&X.push(ne,ee)}return C(X,q,Te),X}var I=function(be){return be.replace(/([$])/,"\\$")},O;{var F=function(be){for(var q=[be],Te=Math.max(0,be-1-3),ie=be-1;ie>=Te;--ie)q.push(ie);for(var ie=be+1;ie<=3;++ie)q.push(ie);return q},L=function(be){return r.filledRange(be,"_arg","")},z=function(be){return r.filledRange(Math.max(be,3),"_arg","")},B=function(be){return typeof be.length=="number"?Math.max(Math.min(be.length,1024),0):0};O=function(be,q,Te,ie,ce,X){var K=Math.max(0,B(ie)-1),ne=F(K),ee=typeof be=="string"||q===i;function ue(Oe){var Ie=L(Oe).join(", "),je=Oe>0?", ":"",Be;return ee?Be=`ret = callback.call(this, {{args}}, nodeback); break;
`:Be=q===void 0?`ret = callback({{args}}, nodeback); break;
`:`ret = callback.call(receiver, {{args}}, nodeback); break;
`,Be.replace("{{args}}",Ie).replace(", ",je)}function Q(){for(var Oe="",Ie=0;Ie<ne.length;++Ie)Oe+="case "+ne[Ie]+":"+ue(ne[Ie]);return Oe+=`                                                             
	        default:                                                             
	            var args = new Array(len + 1);                                   
	            var i = 0;                                                       
	            for (var i = 0; i < len; ++i) {                                  
	               args[i] = arguments[i];                                       
	            }                                                                
	            args[i] = nodeback;                                              
	            [CodeForCall]                                                    
	            break;                                                           
	        `.replace("[CodeForCall]",ee?`ret = callback.apply(this, args);
`:`ret = callback.apply(receiver, args);
`),Oe}var fe=typeof be=="string"?"this != null ? this['"+be+"'] : fn":"fn",Se=`'use strict';                                                
	        var ret = function (Parameters) {                                    
	            'use strict';                                                    
	            var len = arguments.length;                                      
	            var promise = new Promise(INTERNAL);                             
	            promise._captureStackTrace();                                    
	            var nodeback = nodebackForPromise(promise, `+X+`);   
	            var ret;                                                         
	            var callback = tryCatch([GetFunctionCode]);                      
	            switch(len) {                                                    
	                [CodeForSwitchCase]                                          
	            }                                                                
	            if (ret === errorObj) {                                          
	                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);
	            }                                                                
	            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     
	            return promise;                                                  
	        };                                                                   
	        notEnumerableProp(ret, '__isPromisified__', true);                   
	        return ret;                                                          
	    `.replace("[CodeForSwitchCase]",Q()).replace("[GetFunctionCode]",fe);return Se=Se.replace("Parameters",z(K)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",Se)(n,ie,q,l,c,o,r.tryCatch,r.errorObj,r.notEnumerableProp,e)}}function Y(be,q,Te,ie,ce,X){var K=function(){return this}(),ne=be;typeof ne=="string"&&(be=ie);function ee(){var ue=q;q===i&&(ue=this);var Q=new n(e);Q._captureStackTrace();var fe=typeof ne=="string"&&this!==K?this[ne]:be,Se=o(Q,X);try{fe.apply(ue,l(arguments,Se))}catch(Oe){Q._rejectCallback(c(Oe),!0,!0)}return Q._isFateSealed()||Q._setAsyncGuaranteed(),Q}return r.notEnumerableProp(ee,"__isPromisified__",!0),ee}var se=u?O:Y;function de(be,q,Te,ie,ce){for(var X=new RegExp(I(q)+"$"),K=N(be,q,X,Te),ne=0,ee=K.length;ne<ee;ne+=2){var ue=K[ne],Q=K[ne+1],fe=ue+q;if(ie===se)be[fe]=se(ue,i,ue,Q,q,ce);else{var Se=ie(Q,function(){return se(ue,i,ue,Q,q,ce)});r.notEnumerableProp(Se,"__isPromisified__",!0),be[fe]=Se}}return r.toFastProperties(be),be}function J(be,q,Te){return se(be,q,void 0,be,null,Te)}n.promisify=function(be,q){if(typeof be!="function")throw new h("expecting a function but got "+r.classString(be));if(S(be))return be;q=Object(q);var Te=q.context===void 0?i:q.context,ie=!!q.multiArgs,ce=J(be,Te,ie);return r.copyDescriptors(be,ce,A),ce},n.promisifyAll=function(be,q){if(typeof be!="function"&&typeof be!="object")throw new h(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);q=Object(q);var Te=!!q.multiArgs,ie=q.suffix;typeof ie!="string"&&(ie=m);var ce=q.filter;typeof ce!="function"&&(ce=_);var X=q.promisifier;if(typeof X!="function"&&(X=se),!r.isIdentifier(ie))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var K=r.inheritedDataKeys(be),ne=0;ne<K.length;++ne){var ee=be[K[ne]];K[ne]!=="constructor"&&r.isClass(ee)&&(de(ee.prototype,ie,ce,X,Te),de(ee,ie,ce,X,Te))}return de(be,ie,ce,X,Te)}}),k4}var E4,_q;function Zke(){return _q||(_q=1,E4=function(n,e,i,r){var o=Ni(),l=o.isObject,c=cx(),u;typeof Map=="function"&&(u=Map);var h=function(){var v=0,_=0;function A(S,T){this[v]=S,this[v+_]=T,v++}return function(T){_=T.size,v=0;var C=new Array(T.size*2);return T.forEach(A,C),C}}(),m=function(v){for(var _=new u,A=v.length/2|0,S=0;S<A;++S){var T=v[A+S],C=v[S];_.set(T,C)}return _};function g(v){var _=!1,A;if(u!==void 0&&v instanceof u)A=h(v),_=!0;else{var S=c.keys(v),T=S.length;A=new Array(T*2);for(var C=0;C<T;++C){var N=S[C];A[C]=v[N],A[C+T]=N}}this.constructor$(A),this._isMap=_,this._init$(void 0,-3)}o.inherits(g,e),g.prototype._init=function(){},g.prototype._promiseFulfilled=function(v,_){this._values[_]=v;var A=++this._totalResolved;if(A>=this._length){var S;if(this._isMap)S=m(this._values);else{S={};for(var T=this.length(),C=0,N=this.length();C<N;++C)S[this._values[C+T]]=this._values[C]}return this._resolve(S),!0}return!1},g.prototype.shouldCopyValues=function(){return!1},g.prototype.getActualLength=function(v){return v>>1};function y(v){var _,A=i(v);if(l(A))A instanceof n?_=A._then(n.props,void 0,void 0,void 0,void 0):_=new g(A).promise();else return r(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return A instanceof n&&_._propagateFrom(A,2),_}n.prototype.props=function(){return y(this)},n.props=function(v){return y(v)}}),E4}var S4,kq;function Jke(){return kq||(kq=1,S4=function(n,e,i,r){var o=Ni(),l=function(u){return u.then(function(h){return c(h,u)})};function c(u,h){var m=i(u);if(m instanceof n)return l(m);if(u=o.asArray(u),u===null)return r("expecting an array or an iterable object but got "+o.classString(u));var g=new n(e);h!==void 0&&g._propagateFrom(h,3);for(var y=g._fulfill,v=g._reject,_=0,A=u.length;_<A;++_){var S=u[_];S===void 0&&!(_ in u)||n.cast(S)._then(y,v,void 0,g,null)}return g}n.race=function(u){return c(u,void 0)},n.prototype.race=function(){return c(this,void 0)}}),S4}var A4,Eq;function Qke(){return Eq||(Eq=1,A4=function(n,e,i,r,o,l){var c=n._getDomain,u=Ni(),h=u.tryCatch;function m(A,S,T,C){this.constructor$(A);var N=c();this._fn=N===null?S:u.domainBind(N,S),T!==void 0&&(T=n.resolve(T),T._attachCancellationCallback(this)),this._initialValue=T,this._currentCancellable=null,C===o?this._eachValues=Array(this._length):C===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}u.inherits(m,e),m.prototype._gotAccum=function(A){this._eachValues!==void 0&&this._eachValues!==null&&A!==o&&this._eachValues.push(A)},m.prototype._eachComplete=function(A){return this._eachValues!==null&&this._eachValues.push(A),this._eachValues},m.prototype._init=function(){},m.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},m.prototype.shouldCopyValues=function(){return!1},m.prototype._resolve=function(A){this._promise._resolveCallback(A),this._values=null},m.prototype._resultCancelled=function(A){if(A===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof n&&this._currentCancellable.cancel(),this._initialValue instanceof n&&this._initialValue.cancel())},m.prototype._iterate=function(A){this._values=A;var S,T,C=A.length;if(this._initialValue!==void 0?(S=this._initialValue,T=0):(S=n.resolve(A[0]),T=1),this._currentCancellable=S,!S.isRejected())for(;T<C;++T){var N={accum:null,value:A[T],index:T,length:C,array:this};S=S._then(v,void 0,void 0,N,void 0)}this._eachValues!==void 0&&(S=S._then(this._eachComplete,void 0,void 0,this,void 0)),S._then(g,g,void 0,S,this)},n.prototype.reduce=function(A,S){return y(this,A,S,null)},n.reduce=function(A,S,T,C){return y(A,S,T,C)};function g(A,S){this.isFulfilled()?S._resolve(A):S._reject(A)}function y(A,S,T,C){if(typeof S!="function")return i("expecting a function but got "+u.classString(S));var N=new m(A,S,T,C);return N.promise()}function v(A){this.accum=A,this.array._gotAccum(A);var S=r(this.value,this.array._promise);return S instanceof n?(this.array._currentCancellable=S,S._then(_,void 0,void 0,this,void 0)):_.call(this,S)}function _(A){var S=this.array,T=S._promise,C=h(S._fn);T._pushContext();var N;S._eachValues!==void 0?N=C.call(T._boundValue(),A,this.index,this.length):N=C.call(T._boundValue(),this.accum,A,this.index,this.length),N instanceof n&&(S._currentCancellable=N);var I=T._popContext();return l.checkForgottenReturns(N,I,S._eachValues!==void 0?"Promise.each":"Promise.reduce",T),N}}),A4}var T4,Sq;function e2e(){return Sq||(Sq=1,T4=function(n,e,i){var r=n.PromiseInspection,o=Ni();function l(c){this.constructor$(c)}o.inherits(l,e),l.prototype._promiseResolved=function(c,u){this._values[c]=u;var h=++this._totalResolved;return h>=this._length?(this._resolve(this._values),!0):!1},l.prototype._promiseFulfilled=function(c,u){var h=new r;return h._bitField=33554432,h._settledValueField=c,this._promiseResolved(u,h)},l.prototype._promiseRejected=function(c,u){var h=new r;return h._bitField=16777216,h._settledValueField=c,this._promiseResolved(u,h)},n.settle=function(c){return i.deprecated(".settle()",".reflect()"),new l(c).promise()},n.prototype.settle=function(){return n.settle(this)}}),T4}var C4,Aq;function t2e(){return Aq||(Aq=1,C4=function(n,e,i){var r=Ni(),o=Vm().RangeError,l=Vm().AggregateError,c=r.isArray,u={};function h(g){this.constructor$(g),this._howMany=0,this._unwrap=!1,this._initialized=!1}r.inherits(h,e),h.prototype._init=function(){if(this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var g=c(this._values);!this._isResolved()&&g&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},h.prototype.init=function(){this._initialized=!0,this._init()},h.prototype.setUnwrap=function(){this._unwrap=!0},h.prototype.howMany=function(){return this._howMany},h.prototype.setHowMany=function(g){this._howMany=g},h.prototype._promiseFulfilled=function(g){return this._addFulfilled(g),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},h.prototype._promiseRejected=function(g){return this._addRejected(g),this._checkOutcome()},h.prototype._promiseCancelled=function(){return this._values instanceof n||this._values==null?this._cancel():(this._addRejected(u),this._checkOutcome())},h.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var g=new l,y=this.length();y<this._values.length;++y)this._values[y]!==u&&g.push(this._values[y]);return g.length>0?this._reject(g):this._cancel(),!0}return!1},h.prototype._fulfilled=function(){return this._totalResolved},h.prototype._rejected=function(){return this._values.length-this.length()},h.prototype._addRejected=function(g){this._values.push(g)},h.prototype._addFulfilled=function(g){this._values[this._totalResolved++]=g},h.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},h.prototype._getRangeError=function(g){var y="Input array must contain at least "+this._howMany+" items but contains only "+g+" items";return new o(y)},h.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function m(g,y){if((y|0)!==y||y<0)return i(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var v=new h(g),_=v.promise();return v.setHowMany(y),v.init(),_}n.some=function(g,y){return m(g,y)},n.prototype.some=function(g){return m(this,g)},n._SomePromiseArray=h}),C4}var D4,Tq;function n2e(){return Tq||(Tq=1,D4=function(n,e){var i=n.map;n.prototype.filter=function(r,o){return i(this,r,o,e)},n.filter=function(r,o,l){return i(r,o,l,e)}}),D4}var N4,Cq;function i2e(){return Cq||(Cq=1,N4=function(n,e){var i=n.reduce,r=n.all;function o(){return r(this)}function l(c,u){return i(c,u,e,e)}n.prototype.each=function(c){return i(this,c,e,0)._then(o,void 0,void 0,this,void 0)},n.prototype.mapSeries=function(c){return i(this,c,e,e)},n.each=function(c,u){return i(c,u,e,0)._then(o,void 0,void 0,c,void 0)},n.mapSeries=l}),N4}var P4,Dq;function r2e(){return Dq||(Dq=1,P4=function(n){var e=n._SomePromiseArray;function i(r){var o=new e(r),l=o.promise();return o.setHowMany(1),o.setUnwrap(),o.init(),l}n.any=function(r){return i(r)},n.prototype.any=function(){return i(this)}}),P4}(function(n){n.exports=function(){var e=function(){return new v(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},i=function(){return new J.PromiseInspection(this._target())},r=function(ie){return J.reject(new v(ie))};function o(){}var l={},c=Ni(),u;c.isNode?u=function(){var ie=process.domain;return ie===void 0&&(ie=null),ie}:u=function(){return null},c.notEnumerableProp(J,"_getDomain",u);var h=cx(),m=Pke(),g=new m;h.defineProperty(J,"_async",{value:g});var y=Vm(),v=J.TypeError=y.TypeError;J.RangeError=y.RangeError;var _=J.CancellationError=y.CancellationError;J.TimeoutError=y.TimeoutError,J.OperationalError=y.OperationalError,J.RejectionError=y.OperationalError,J.AggregateError=y.AggregateError;var A=function(){},S={},T={},C=Ike()(J,A),N=jke()(J,A,C,r,o),I=Rke()(J),O=I.create,F=Mke()(J,I);F.CapturedTrace;var L=Oke()(J,C),z=Fke()(T),B=oee(),Y=c.errorObj,se=c.tryCatch;function de(ie,ce){if(typeof ce!="function")throw new v("expecting a function but got "+c.classString(ce));if(ie.constructor!==J)throw new v(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`)}function J(ie){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,ie!==A&&(de(this,ie),this._resolveFromExecutor(ie)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}J.prototype.toString=function(){return"[object Promise]"},J.prototype.caught=J.prototype.catch=function(ie){var ce=arguments.length;if(ce>1){var X=new Array(ce-1),K=0,ne;for(ne=0;ne<ce-1;++ne){var ee=arguments[ne];if(c.isObject(ee))X[K++]=ee;else return r("expecting an object but got A catch statement predicate "+c.classString(ee))}return X.length=K,ie=arguments[ne],this.then(void 0,z(X,ie,this))}return this.then(void 0,ie)},J.prototype.reflect=function(){return this._then(i,i,void 0,this,void 0)},J.prototype.then=function(ie,ce){if(F.warnings()&&arguments.length>0&&typeof ie!="function"&&typeof ce!="function"){var X=".then() only accepts functions but was passed: "+c.classString(ie);arguments.length>1&&(X+=", "+c.classString(ce)),this._warn(X)}return this._then(ie,ce,void 0,void 0,void 0)},J.prototype.done=function(ie,ce){var X=this._then(ie,ce,void 0,void 0,void 0);X._setIsFinal()},J.prototype.spread=function(ie){return typeof ie!="function"?r("expecting a function but got "+c.classString(ie)):this.all()._then(ie,void 0,void 0,S,void 0)},J.prototype.toJSON=function(){var ie={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(ie.fulfillmentValue=this.value(),ie.isFulfilled=!0):this.isRejected()&&(ie.rejectionReason=this.reason(),ie.isRejected=!0),ie},J.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new N(this).promise()},J.prototype.error=function(ie){return this.caught(c.originatesFromRejection,ie)},J.getNewLibraryCopy=n.exports,J.is=function(ie){return ie instanceof J},J.fromNode=J.fromCallback=function(ie){var ce=new J(A);ce._captureStackTrace();var X=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,K=se(ie)(B(ce,X));return K===Y&&ce._rejectCallback(K.e,!0),ce._isFateSealed()||ce._setAsyncGuaranteed(),ce},J.all=function(ie){return new N(ie).promise()},J.cast=function(ie){var ce=C(ie);return ce instanceof J||(ce=new J(A),ce._captureStackTrace(),ce._setFulfilled(),ce._rejectionHandler0=ie),ce},J.resolve=J.fulfilled=J.cast,J.reject=J.rejected=function(ie){var ce=new J(A);return ce._captureStackTrace(),ce._rejectCallback(ie,!0),ce},J.setScheduler=function(ie){if(typeof ie!="function")throw new v("expecting a function but got "+c.classString(ie));return g.setScheduler(ie)},J.prototype._then=function(ie,ce,X,K,ne){var ee=ne!==void 0,ue=ee?ne:new J(A),Q=this._target(),fe=Q._bitField;ee||(ue._propagateFrom(this,3),ue._captureStackTrace(),K===void 0&&this._bitField&2097152&&(fe&50397184?K=this._boundValue():K=Q===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,ue));var Se=u();if(fe&50397184){var Oe,Ie,je=Q._settlePromiseCtx;fe&33554432?(Ie=Q._rejectionHandler0,Oe=ie):fe&16777216?(Ie=Q._fulfillmentHandler0,Oe=ce,Q._unsetRejectionIsUnhandled()):(je=Q._settlePromiseLateCancellationObserver,Ie=new _("late cancellation observer"),Q._attachExtraTrace(Ie),Oe=ce),g.invoke(je,Q,{handler:Se===null?Oe:typeof Oe=="function"&&c.domainBind(Se,Oe),promise:ue,receiver:K,value:Ie})}else Q._addCallbacks(ie,ce,ue,K,Se);return ue},J.prototype._length=function(){return this._bitField&65535},J.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},J.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},J.prototype._setLength=function(ie){this._bitField=this._bitField&-65536|ie&65535},J.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},J.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},J.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},J.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},J.prototype._isFinal=function(){return(this._bitField&4194304)>0},J.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},J.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},J.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},J.prototype._setAsyncGuaranteed=function(){g.hasCustomScheduler()||(this._bitField=this._bitField|134217728)},J.prototype._receiverAt=function(ie){var ce=ie===0?this._receiver0:this[ie*4-4+3];if(ce!==l)return ce===void 0&&this._isBound()?this._boundValue():ce},J.prototype._promiseAt=function(ie){return this[ie*4-4+2]},J.prototype._fulfillmentHandlerAt=function(ie){return this[ie*4-4+0]},J.prototype._rejectionHandlerAt=function(ie){return this[ie*4-4+1]},J.prototype._boundValue=function(){},J.prototype._migrateCallback0=function(ie){ie._bitField;var ce=ie._fulfillmentHandler0,X=ie._rejectionHandler0,K=ie._promise0,ne=ie._receiverAt(0);ne===void 0&&(ne=l),this._addCallbacks(ce,X,K,ne,null)},J.prototype._migrateCallbackAt=function(ie,ce){var X=ie._fulfillmentHandlerAt(ce),K=ie._rejectionHandlerAt(ce),ne=ie._promiseAt(ce),ee=ie._receiverAt(ce);ee===void 0&&(ee=l),this._addCallbacks(X,K,ne,ee,null)},J.prototype._addCallbacks=function(ie,ce,X,K,ne){var ee=this._length();if(ee>=65531&&(ee=0,this._setLength(0)),ee===0)this._promise0=X,this._receiver0=K,typeof ie=="function"&&(this._fulfillmentHandler0=ne===null?ie:c.domainBind(ne,ie)),typeof ce=="function"&&(this._rejectionHandler0=ne===null?ce:c.domainBind(ne,ce));else{var ue=ee*4-4;this[ue+2]=X,this[ue+3]=K,typeof ie=="function"&&(this[ue+0]=ne===null?ie:c.domainBind(ne,ie)),typeof ce=="function"&&(this[ue+1]=ne===null?ce:c.domainBind(ne,ce))}return this._setLength(ee+1),ee},J.prototype._proxy=function(ie,ce){this._addCallbacks(void 0,void 0,ce,ie,null)},J.prototype._resolveCallback=function(ie,ce){if(!(this._bitField&117506048)){if(ie===this)return this._rejectCallback(e(),!1);var X=C(ie,this);if(!(X instanceof J))return this._fulfill(ie);ce&&this._propagateFrom(X,2);var K=X._target();if(K===this){this._reject(e());return}var ne=K._bitField;if(ne&50397184)if(ne&33554432)this._fulfill(K._value());else if(ne&16777216)this._reject(K._reason());else{var Q=new _("late cancellation observer");K._attachExtraTrace(Q),this._reject(Q)}else{var ee=this._length();ee>0&&K._migrateCallback0(this);for(var ue=1;ue<ee;++ue)K._migrateCallbackAt(this,ue);this._setFollowing(),this._setLength(0),this._setFollowee(K)}}},J.prototype._rejectCallback=function(ie,ce,X){var K=c.ensureErrorObject(ie),ne=K===ie;if(!ne&&!X&&F.warnings()){var ee="a promise was rejected with a non-error: "+c.classString(ie);this._warn(ee,!0)}this._attachExtraTrace(K,ce?ne:!1),this._reject(ie)},J.prototype._resolveFromExecutor=function(ie){var ce=this;this._captureStackTrace(),this._pushContext();var X=!0,K=this._execute(ie,function(ne){ce._resolveCallback(ne)},function(ne){ce._rejectCallback(ne,X)});X=!1,this._popContext(),K!==void 0&&ce._rejectCallback(K,!0)},J.prototype._settlePromiseFromHandler=function(ie,ce,X,K){var ne=K._bitField;if(!(ne&65536)){K._pushContext();var ee;ce===S?!X||typeof X.length!="number"?(ee=Y,ee.e=new v("cannot .spread() a non-array: "+c.classString(X))):ee=se(ie).apply(this._boundValue(),X):ee=se(ie).call(ce,X);var ue=K._popContext();ne=K._bitField,!(ne&65536)&&(ee===T?K._reject(X):ee===Y?K._rejectCallback(ee.e,!1):(F.checkForgottenReturns(ee,ue,"",K,this),K._resolveCallback(ee)))}},J.prototype._target=function(){for(var ie=this;ie._isFollowing();)ie=ie._followee();return ie},J.prototype._followee=function(){return this._rejectionHandler0},J.prototype._setFollowee=function(ie){this._rejectionHandler0=ie},J.prototype._settlePromise=function(ie,ce,X,K){var ne=ie instanceof J,ee=this._bitField,ue=(ee&134217728)!==0;ee&65536?(ne&&ie._invokeInternalOnCancel(),X instanceof L&&X.isFinallyHandler()?(X.cancelPromise=ie,se(ce).call(X,K)===Y&&ie._reject(Y.e)):ce===i?ie._fulfill(i.call(X)):X instanceof o?X._promiseCancelled(ie):ne||ie instanceof N?ie._cancel():X.cancel()):typeof ce=="function"?ne?(ue&&ie._setAsyncGuaranteed(),this._settlePromiseFromHandler(ce,X,K,ie)):ce.call(X,K,ie):X instanceof o?X._isResolved()||(ee&33554432?X._promiseFulfilled(K,ie):X._promiseRejected(K,ie)):ne&&(ue&&ie._setAsyncGuaranteed(),ee&33554432?ie._fulfill(K):ie._reject(K))},J.prototype._settlePromiseLateCancellationObserver=function(ie){var ce=ie.handler,X=ie.promise,K=ie.receiver,ne=ie.value;typeof ce=="function"?X instanceof J?this._settlePromiseFromHandler(ce,K,ne,X):ce.call(K,ne,X):X instanceof J&&X._reject(ne)},J.prototype._settlePromiseCtx=function(ie){this._settlePromise(ie.promise,ie.handler,ie.receiver,ie.value)},J.prototype._settlePromise0=function(ie,ce,X){var K=this._promise0,ne=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(K,ie,ne,ce)},J.prototype._clearCallbackDataAtIndex=function(ie){var ce=ie*4-4;this[ce+2]=this[ce+3]=this[ce+0]=this[ce+1]=void 0},J.prototype._fulfill=function(ie){var ce=this._bitField;if(!((ce&117506048)>>>16)){if(ie===this){var X=e();return this._attachExtraTrace(X),this._reject(X)}this._setFulfilled(),this._rejectionHandler0=ie,(ce&65535)>0&&(ce&134217728?this._settlePromises():g.settlePromises(this))}},J.prototype._reject=function(ie){var ce=this._bitField;if(!((ce&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=ie,this._isFinal())return g.fatalError(ie,c.isNode);(ce&65535)>0?g.settlePromises(this):this._ensurePossibleRejectionHandled()}},J.prototype._fulfillPromises=function(ie,ce){for(var X=1;X<ie;X++){var K=this._fulfillmentHandlerAt(X),ne=this._promiseAt(X),ee=this._receiverAt(X);this._clearCallbackDataAtIndex(X),this._settlePromise(ne,K,ee,ce)}},J.prototype._rejectPromises=function(ie,ce){for(var X=1;X<ie;X++){var K=this._rejectionHandlerAt(X),ne=this._promiseAt(X),ee=this._receiverAt(X);this._clearCallbackDataAtIndex(X),this._settlePromise(ne,K,ee,ce)}},J.prototype._settlePromises=function(){var ie=this._bitField,ce=ie&65535;if(ce>0){if(ie&16842752){var X=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,X,ie),this._rejectPromises(ce,X)}else{var K=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,K,ie),this._fulfillPromises(ce,K)}this._setLength(0)}this._clearCancellationData()},J.prototype._settledValue=function(){var ie=this._bitField;if(ie&33554432)return this._rejectionHandler0;if(ie&16777216)return this._fulfillmentHandler0};function be(ie){this.promise._resolveCallback(ie)}function q(ie){this.promise._rejectCallback(ie,!1)}J.defer=J.pending=function(){F.deprecated("Promise.defer","new Promise");var ie=new J(A);return{promise:ie,resolve:be,reject:q}},c.notEnumerableProp(J,"_makeSelfResolutionError",e),Lke()(J,A,C,r,F),Uke()(J,A,C,F),Bke()(J,N,r,F),zke()(J),Vke()(J),Wke()(J,N,C,A,g,u),J.Promise=J,J.version="3.4.7",$ke()(J,N,r,C,A,F),qke()(J),Hke()(J,r,C,O,A,F),Gke()(J,A,F),Xke()(J,r,A,C,o,F),Yke()(J),Kke()(J,A),Zke()(J,N,C,r),Jke()(J,A,C,r),Qke()(J,N,r,C,A,F),e2e()(J,N,F),t2e()(J,N,r),n2e()(J,A),i2e()(J,A),r2e()(J),c.toFastProperties(J),c.toFastProperties(J.prototype);function Te(ie){var ce=new J(A);ce._fulfillmentHandler0=ie,ce._rejectionHandler0=ie,ce._promise0=ie,ce._receiver0=ie}return Te({a:1}),Te({b:2}),Te({c:3}),Te(1),Te(function(){}),Te(void 0),Te(!1),Te(new J(A)),F.setBounds(m.firstLineError,c.lastLineError),J}})(see);var s2e=see.exports,o2e=kr,Aa=s2e();vs.defer=a2e;vs.when=Aa.resolve;vs.resolve=Aa.resolve;vs.all=Aa.all;vs.props=Aa.props;vs.reject=Aa.reject;vs.promisify=Aa.promisify;vs.mapSeries=Aa.mapSeries;vs.attempt=Aa.attempt;vs.nfcall=function(n){var e=Array.prototype.slice.call(arguments,1),i=Aa.promisify(n);return i.apply(null,e)};Aa.prototype.fail=Aa.prototype.caught;Aa.prototype.also=function(n){return this.then(function(e){var i=o2e.extend({},e,n(e));return Aa.props(i)})};function a2e(){var n,e,i=new Aa.Promise(function(r,o){n=r,e=o});return{resolve:n,reject:e,promise:i}}var Pn={},l2e=kr,qs=Pn.types={document:"document",paragraph:"paragraph",run:"run",text:"text",tab:"tab",checkbox:"checkbox",hyperlink:"hyperlink",noteReference:"noteReference",image:"image",note:"note",commentReference:"commentReference",comment:"comment",table:"table",tableRow:"tableRow",tableCell:"tableCell",break:"break",bookmarkStart:"bookmarkStart"};function c2e(n,e){return e=e||{},{type:qs.document,children:n,notes:e.notes||new W3({}),comments:e.comments||[]}}function u2e(n,e){e=e||{};var i=e.indent||{};return{type:qs.paragraph,children:n,styleId:e.styleId||null,styleName:e.styleName||null,numbering:e.numbering||null,alignment:e.alignment||null,indent:{start:i.start||null,end:i.end||null,firstLine:i.firstLine||null,hanging:i.hanging||null}}}function d2e(n,e){return e=e||{},{type:qs.run,children:n,styleId:e.styleId||null,styleName:e.styleName||null,isBold:!!e.isBold,isUnderline:!!e.isUnderline,isItalic:!!e.isItalic,isStrikethrough:!!e.isStrikethrough,isAllCaps:!!e.isAllCaps,isSmallCaps:!!e.isSmallCaps,verticalAlignment:e.verticalAlignment||aee.baseline,font:e.font||null,fontSize:e.fontSize||null,highlight:e.highlight||null}}var aee={baseline:"baseline",superscript:"superscript",subscript:"subscript"};function h2e(n){return{type:qs.text,value:n}}function f2e(){return{type:qs.tab}}function p2e(n){return{type:qs.checkbox,checked:n.checked}}function m2e(n,e){return{type:qs.hyperlink,children:n,href:e.href,anchor:e.anchor,targetFrame:e.targetFrame}}function g2e(n){return{type:qs.noteReference,noteType:n.noteType,noteId:n.noteId}}function W3(n){this._notes=l2e.indexBy(n,function(e){return lee(e.noteType,e.noteId)})}W3.prototype.resolve=function(n){return this.findNoteByKey(lee(n.noteType,n.noteId))};W3.prototype.findNoteByKey=function(n){return this._notes[n]||null};function b2e(n){return{type:qs.note,noteType:n.noteType,noteId:n.noteId,body:n.body}}function y2e(n){return{type:qs.commentReference,commentId:n.commentId}}function v2e(n){return{type:qs.comment,commentId:n.commentId,body:n.body,authorName:n.authorName,authorInitials:n.authorInitials}}function lee(n,e){return n+"-"+e}function w2e(n){return{type:qs.image,read:function(e){return e?n.readImage(e):n.readImage().then(function(i){return Buffer.from(i)})},readAsArrayBuffer:function(){return n.readImage()},readAsBase64String:function(){return n.readImage("base64")},readAsBuffer:function(){return n.readImage().then(function(e){return Buffer.from(e)})},altText:n.altText,contentType:n.contentType}}function x2e(n,e){return e=e||{},{type:qs.table,children:n,styleId:e.styleId||null,styleName:e.styleName||null}}function _2e(n,e){return e=e||{},{type:qs.tableRow,children:n,isHeader:e.isHeader||!1}}function k2e(n,e){return e=e||{},{type:qs.tableCell,children:n,colSpan:e.colSpan==null?1:e.colSpan,rowSpan:e.rowSpan==null?1:e.rowSpan}}function lL(n){return{type:qs.break,breakType:n}}function E2e(n){return{type:qs.bookmarkStart,name:n.name}}Pn.document=Pn.Document=c2e;Pn.paragraph=Pn.Paragraph=u2e;Pn.run=Pn.Run=d2e;Pn.text=Pn.Text=h2e;Pn.tab=Pn.Tab=f2e;Pn.checkbox=Pn.Checkbox=p2e;Pn.Hyperlink=m2e;Pn.noteReference=Pn.NoteReference=g2e;Pn.Notes=W3;Pn.Note=b2e;Pn.commentReference=y2e;Pn.comment=v2e;Pn.Image=w2e;Pn.Table=x2e;Pn.TableRow=_2e;Pn.TableCell=k2e;Pn.lineBreak=lL("line");Pn.pageBreak=lL("page");Pn.columnBreak=lL("column");Pn.BookmarkStart=E2e;Pn.verticalAlignment=aee;var wl={},pE=kr;wl.Result=Nd;wl.success=S2e;wl.warning=A2e;wl.error=T2e;function Nd(n,e){this.value=n,this.messages=e||[]}Nd.prototype.map=function(n){return new Nd(n(this.value),this.messages)};Nd.prototype.flatMap=function(n){var e=n(this.value);return new Nd(e.value,cL([this,e]))};Nd.prototype.flatMapThen=function(n){var e=this;return n(this.value).then(function(i){return new Nd(i.value,cL([e,i]))})};Nd.combine=function(n){var e=pE.flatten(pE.pluck(n,"value")),i=cL(n);return new Nd(e,i)};function S2e(n){return new Nd(n,[])}function A2e(n){return{type:"warning",message:n}}function T2e(n){return{type:"error",message:n.message,error:n}}function cL(n){var e=[];return pE.flatten(pE.pluck(n,"messages"),!0).forEach(function(i){C2e(e,i)||e.push(i)}),e}function C2e(n,e){return pE.find(n,D2e.bind(null,e))!==void 0}function D2e(n,e){return n.type===e.type&&n.message===e.message}var dA={},$3={};$3.byteLength=I2e;$3.toByteArray=R2e;$3.fromByteArray=F2e;var xd=[],Yl=[],N2e=typeof Uint8Array<"u"?Uint8Array:Array,I4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Av=0,P2e=I4.length;Av<P2e;++Av)xd[Av]=I4[Av],Yl[I4.charCodeAt(Av)]=Av;Yl[45]=62;Yl[95]=63;function cee(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=n.indexOf("=");i===-1&&(i=e);var r=i===e?0:4-i%4;return[i,r]}function I2e(n){var e=cee(n),i=e[0],r=e[1];return(i+r)*3/4-r}function j2e(n,e,i){return(e+i)*3/4-i}function R2e(n){var e,i=cee(n),r=i[0],o=i[1],l=new N2e(j2e(n,r,o)),c=0,u=o>0?r-4:r,h;for(h=0;h<u;h+=4)e=Yl[n.charCodeAt(h)]<<18|Yl[n.charCodeAt(h+1)]<<12|Yl[n.charCodeAt(h+2)]<<6|Yl[n.charCodeAt(h+3)],l[c++]=e>>16&255,l[c++]=e>>8&255,l[c++]=e&255;return o===2&&(e=Yl[n.charCodeAt(h)]<<2|Yl[n.charCodeAt(h+1)]>>4,l[c++]=e&255),o===1&&(e=Yl[n.charCodeAt(h)]<<10|Yl[n.charCodeAt(h+1)]<<4|Yl[n.charCodeAt(h+2)]>>2,l[c++]=e>>8&255,l[c++]=e&255),l}function M2e(n){return xd[n>>18&63]+xd[n>>12&63]+xd[n>>6&63]+xd[n&63]}function O2e(n,e,i){for(var r,o=[],l=e;l<i;l+=3)r=(n[l]<<16&16711680)+(n[l+1]<<8&65280)+(n[l+2]&255),o.push(M2e(r));return o.join("")}function F2e(n){for(var e,i=n.length,r=i%3,o=[],l=16383,c=0,u=i-r;c<u;c+=l)o.push(O2e(n,c,c+l>u?u:c+l));return r===1?(e=n[i-1],o.push(xd[e>>2]+xd[e<<4&63]+"==")):r===2&&(e=(n[i-2]<<8)+n[i-1],o.push(xd[e>>10]+xd[e>>4&63]+xd[e<<2&63]+"=")),o.join("")}function mD(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var uee={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(n,e){(function(i){n.exports=i()})(function(){return function i(r,o,l){function c(m,g){if(!o[m]){if(!r[m]){var y=typeof mD=="function"&&mD;if(!g&&y)return y(m,!0);if(u)return u(m,!0);var v=new Error("Cannot find module '"+m+"'");throw v.code="MODULE_NOT_FOUND",v}var _=o[m]={exports:{}};r[m][0].call(_.exports,function(A){var S=r[m][1][A];return c(S||A)},_,_.exports,i,r,o,l)}return o[m].exports}for(var u=typeof mD=="function"&&mD,h=0;h<l.length;h++)c(l[h]);return c}({1:[function(i,r,o){var l=i("./utils"),c=i("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(h){for(var m,g,y,v,_,A,S,T=[],C=0,N=h.length,I=N,O=l.getTypeOf(h)!=="string";C<h.length;)I=N-C,y=O?(m=h[C++],g=C<N?h[C++]:0,C<N?h[C++]:0):(m=h.charCodeAt(C++),g=C<N?h.charCodeAt(C++):0,C<N?h.charCodeAt(C++):0),v=m>>2,_=(3&m)<<4|g>>4,A=1<I?(15&g)<<2|y>>6:64,S=2<I?63&y:64,T.push(u.charAt(v)+u.charAt(_)+u.charAt(A)+u.charAt(S));return T.join("")},o.decode=function(h){var m,g,y,v,_,A,S=0,T=0,C="data:";if(h.substr(0,C.length)===C)throw new Error("Invalid base64 input, it looks like a data url.");var N,I=3*(h=h.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(h.charAt(h.length-1)===u.charAt(64)&&I--,h.charAt(h.length-2)===u.charAt(64)&&I--,I%1!=0)throw new Error("Invalid base64 input, bad content length.");for(N=c.uint8array?new Uint8Array(0|I):new Array(0|I);S<h.length;)m=u.indexOf(h.charAt(S++))<<2|(v=u.indexOf(h.charAt(S++)))>>4,g=(15&v)<<4|(_=u.indexOf(h.charAt(S++)))>>2,y=(3&_)<<6|(A=u.indexOf(h.charAt(S++))),N[T++]=m,_!==64&&(N[T++]=g),A!==64&&(N[T++]=y);return N}},{"./support":30,"./utils":32}],2:[function(i,r,o){var l=i("./external"),c=i("./stream/DataWorker"),u=i("./stream/Crc32Probe"),h=i("./stream/DataLengthProbe");function m(g,y,v,_,A){this.compressedSize=g,this.uncompressedSize=y,this.crc32=v,this.compression=_,this.compressedContent=A}m.prototype={getContentWorker:function(){var g=new c(l.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new h("data_length")),y=this;return g.on("end",function(){if(this.streamInfo.data_length!==y.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),g},getCompressedWorker:function(){return new c(l.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(g,y,v){return g.pipe(new u).pipe(new h("uncompressedSize")).pipe(y.compressWorker(v)).pipe(new h("compressedSize")).withStreamInfo("compression",y)},r.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(i,r,o){var l=i("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new l("STORE compression")},uncompressWorker:function(){return new l("STORE decompression")}},o.DEFLATE=i("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(i,r,o){var l=i("./utils"),c=function(){for(var u,h=[],m=0;m<256;m++){u=m;for(var g=0;g<8;g++)u=1&u?3988292384^u>>>1:u>>>1;h[m]=u}return h}();r.exports=function(u,h){return u!==void 0&&u.length?l.getTypeOf(u)!=="string"?function(m,g,y,v){var _=c,A=v+y;m^=-1;for(var S=v;S<A;S++)m=m>>>8^_[255&(m^g[S])];return-1^m}(0|h,u,u.length,0):function(m,g,y,v){var _=c,A=v+y;m^=-1;for(var S=v;S<A;S++)m=m>>>8^_[255&(m^g.charCodeAt(S))];return-1^m}(0|h,u,u.length,0):0}},{"./utils":32}],5:[function(i,r,o){o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(i,r,o){var l=null;l=typeof Promise<"u"?Promise:i("lie"),r.exports={Promise:l}},{lie:37}],7:[function(i,r,o){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",c=i("pako"),u=i("./utils"),h=i("./stream/GenericWorker"),m=l?"uint8array":"array";function g(y,v){h.call(this,"FlateWorker/"+y),this._pako=null,this._pakoAction=y,this._pakoOptions=v,this.meta={}}o.magic="\b\0",u.inherits(g,h),g.prototype.processChunk=function(y){this.meta=y.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(m,y.data),!1)},g.prototype.flush=function(){h.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},g.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this._pako=null},g.prototype._createPako=function(){this._pako=new c[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var y=this;this._pako.onData=function(v){y.push({data:v,meta:y.meta})}},o.compressWorker=function(y){return new g("Deflate",y)},o.uncompressWorker=function(){return new g("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(i,r,o){function l(_,A){var S,T="";for(S=0;S<A;S++)T+=String.fromCharCode(255&_),_>>>=8;return T}function c(_,A,S,T,C,N){var I,O,F=_.file,L=_.compression,z=N!==m.utf8encode,B=u.transformTo("string",N(F.name)),Y=u.transformTo("string",m.utf8encode(F.name)),se=F.comment,de=u.transformTo("string",N(se)),J=u.transformTo("string",m.utf8encode(se)),be=Y.length!==F.name.length,q=J.length!==se.length,Te="",ie="",ce="",X=F.dir,K=F.date,ne={crc32:0,compressedSize:0,uncompressedSize:0};A&&!S||(ne.crc32=_.crc32,ne.compressedSize=_.compressedSize,ne.uncompressedSize=_.uncompressedSize);var ee=0;A&&(ee|=8),z||!be&&!q||(ee|=2048);var ue=0,Q=0;X&&(ue|=16),C==="UNIX"?(Q=798,ue|=function(Se,Oe){var Ie=Se;return Se||(Ie=Oe?16893:33204),(65535&Ie)<<16}(F.unixPermissions,X)):(Q=20,ue|=function(Se){return 63&(Se||0)}(F.dosPermissions)),I=K.getUTCHours(),I<<=6,I|=K.getUTCMinutes(),I<<=5,I|=K.getUTCSeconds()/2,O=K.getUTCFullYear()-1980,O<<=4,O|=K.getUTCMonth()+1,O<<=5,O|=K.getUTCDate(),be&&(ie=l(1,1)+l(g(B),4)+Y,Te+="up"+l(ie.length,2)+ie),q&&(ce=l(1,1)+l(g(de),4)+J,Te+="uc"+l(ce.length,2)+ce);var fe="";return fe+=`
\0`,fe+=l(ee,2),fe+=L.magic,fe+=l(I,2),fe+=l(O,2),fe+=l(ne.crc32,4),fe+=l(ne.compressedSize,4),fe+=l(ne.uncompressedSize,4),fe+=l(B.length,2),fe+=l(Te.length,2),{fileRecord:y.LOCAL_FILE_HEADER+fe+B+Te,dirRecord:y.CENTRAL_FILE_HEADER+l(Q,2)+fe+l(de.length,2)+"\0\0\0\0"+l(ue,4)+l(T,4)+B+Te+de}}var u=i("../utils"),h=i("../stream/GenericWorker"),m=i("../utf8"),g=i("../crc32"),y=i("../signature");function v(_,A,S,T){h.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=A,this.zipPlatform=S,this.encodeFileName=T,this.streamFiles=_,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}u.inherits(v,h),v.prototype.push=function(_){var A=_.meta.percent||0,S=this.entriesCount,T=this._sources.length;this.accumulate?this.contentBuffer.push(_):(this.bytesWritten+=_.data.length,h.prototype.push.call(this,{data:_.data,meta:{currentFile:this.currentFile,percent:S?(A+100*(S-T-1))/S:100}}))},v.prototype.openedSource=function(_){this.currentSourceOffset=this.bytesWritten,this.currentFile=_.file.name;var A=this.streamFiles&&!_.file.dir;if(A){var S=c(_,A,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:S.fileRecord,meta:{percent:0}})}else this.accumulate=!0},v.prototype.closedSource=function(_){this.accumulate=!1;var A=this.streamFiles&&!_.file.dir,S=c(_,A,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(S.dirRecord),A)this.push({data:function(T){return y.DATA_DESCRIPTOR+l(T.crc32,4)+l(T.compressedSize,4)+l(T.uncompressedSize,4)}(_),meta:{percent:100}});else for(this.push({data:S.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},v.prototype.flush=function(){for(var _=this.bytesWritten,A=0;A<this.dirRecords.length;A++)this.push({data:this.dirRecords[A],meta:{percent:100}});var S=this.bytesWritten-_,T=function(C,N,I,O,F){var L=u.transformTo("string",F(O));return y.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(C,2)+l(C,2)+l(N,4)+l(I,4)+l(L.length,2)+L}(this.dirRecords.length,S,_,this.zipComment,this.encodeFileName);this.push({data:T,meta:{percent:100}})},v.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},v.prototype.registerPrevious=function(_){this._sources.push(_);var A=this;return _.on("data",function(S){A.processChunk(S)}),_.on("end",function(){A.closedSource(A.previous.streamInfo),A._sources.length?A.prepareNextSource():A.end()}),_.on("error",function(S){A.error(S)}),this},v.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},v.prototype.error=function(_){var A=this._sources;if(!h.prototype.error.call(this,_))return!1;for(var S=0;S<A.length;S++)try{A[S].error(_)}catch{}return!0},v.prototype.lock=function(){h.prototype.lock.call(this);for(var _=this._sources,A=0;A<_.length;A++)_[A].lock()},r.exports=v},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(i,r,o){var l=i("../compressions"),c=i("./ZipFileWorker");o.generateWorker=function(u,h,m){var g=new c(h.streamFiles,m,h.platform,h.encodeFileName),y=0;try{u.forEach(function(v,_){y++;var A=function(N,I){var O=N||I,F=l[O];if(!F)throw new Error(O+" is not a valid compression method !");return F}(_.options.compression,h.compression),S=_.options.compressionOptions||h.compressionOptions||{},T=_.dir,C=_.date;_._compressWorker(A,S).withStreamInfo("file",{name:v,dir:T,date:C,comment:_.comment||"",unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions}).pipe(g)}),g.entriesCount=y}catch(v){g.error(v)}return g}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(i,r,o){function l(){if(!(this instanceof l))return new l;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var c=new l;for(var u in this)typeof this[u]!="function"&&(c[u]=this[u]);return c}}(l.prototype=i("./object")).loadAsync=i("./load"),l.support=i("./support"),l.defaults=i("./defaults"),l.version="3.10.1",l.loadAsync=function(c,u){return new l().loadAsync(c,u)},l.external=i("./external"),r.exports=l},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(i,r,o){var l=i("./utils"),c=i("./external"),u=i("./utf8"),h=i("./zipEntries"),m=i("./stream/Crc32Probe"),g=i("./nodejsUtils");function y(v){return new c.Promise(function(_,A){var S=v.decompressed.getContentWorker().pipe(new m);S.on("error",function(T){A(T)}).on("end",function(){S.streamInfo.crc32!==v.decompressed.crc32?A(new Error("Corrupted zip : CRC32 mismatch")):_()}).resume()})}r.exports=function(v,_){var A=this;return _=l.extend(_||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),g.isNode&&g.isStream(v)?c.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):l.prepareContent("the loaded zip file",v,!0,_.optimizedBinaryString,_.base64).then(function(S){var T=new h(_);return T.load(S),T}).then(function(S){var T=[c.Promise.resolve(S)],C=S.files;if(_.checkCRC32)for(var N=0;N<C.length;N++)T.push(y(C[N]));return c.Promise.all(T)}).then(function(S){for(var T=S.shift(),C=T.files,N=0;N<C.length;N++){var I=C[N],O=I.fileNameStr,F=l.resolve(I.fileNameStr);A.file(F,I.decompressed,{binary:!0,optimizedBinaryString:!0,date:I.date,dir:I.dir,comment:I.fileCommentStr.length?I.fileCommentStr:null,unixPermissions:I.unixPermissions,dosPermissions:I.dosPermissions,createFolders:_.createFolders}),I.dir||(A.file(F).unsafeOriginalName=O)}return T.zipComment.length&&(A.comment=T.zipComment),A})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(i,r,o){var l=i("../utils"),c=i("../stream/GenericWorker");function u(h,m){c.call(this,"Nodejs stream input adapter for "+h),this._upstreamEnded=!1,this._bindStream(m)}l.inherits(u,c),u.prototype._bindStream=function(h){var m=this;(this._stream=h).pause(),h.on("data",function(g){m.push({data:g,meta:{percent:0}})}).on("error",function(g){m.isPaused?this.generatedError=g:m.error(g)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},u.prototype.pause=function(){return!!c.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(i,r,o){var l=i("readable-stream").Readable;function c(u,h,m){l.call(this,h),this._helper=u;var g=this;u.on("data",function(y,v){g.push(y)||g._helper.pause(),m&&m(v)}).on("error",function(y){g.emit("error",y)}).on("end",function(){g.push(null)})}i("../utils").inherits(c,l),c.prototype._read=function(){this._helper.resume()},r.exports=c},{"../utils":32,"readable-stream":16}],14:[function(i,r,o){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(l,c){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(l,c);if(typeof l=="number")throw new Error('The "data" argument must not be a number');return new Buffer(l,c)},allocBuffer:function(l){if(Buffer.alloc)return Buffer.alloc(l);var c=new Buffer(l);return c.fill(0),c},isBuffer:function(l){return Buffer.isBuffer(l)},isStream:function(l){return l&&typeof l.on=="function"&&typeof l.pause=="function"&&typeof l.resume=="function"}}},{}],15:[function(i,r,o){function l(F,L,z){var B,Y=u.getTypeOf(L),se=u.extend(z||{},g);se.date=se.date||new Date,se.compression!==null&&(se.compression=se.compression.toUpperCase()),typeof se.unixPermissions=="string"&&(se.unixPermissions=parseInt(se.unixPermissions,8)),se.unixPermissions&&16384&se.unixPermissions&&(se.dir=!0),se.dosPermissions&&16&se.dosPermissions&&(se.dir=!0),se.dir&&(F=C(F)),se.createFolders&&(B=T(F))&&N.call(this,B,!0);var de=Y==="string"&&se.binary===!1&&se.base64===!1;z&&z.binary!==void 0||(se.binary=!de),(L instanceof y&&L.uncompressedSize===0||se.dir||!L||L.length===0)&&(se.base64=!1,se.binary=!0,L="",se.compression="STORE",Y="string");var J=null;J=L instanceof y||L instanceof h?L:A.isNode&&A.isStream(L)?new S(F,L):u.prepareContent(F,L,se.binary,se.optimizedBinaryString,se.base64);var be=new v(F,J,se);this.files[F]=be}var c=i("./utf8"),u=i("./utils"),h=i("./stream/GenericWorker"),m=i("./stream/StreamHelper"),g=i("./defaults"),y=i("./compressedObject"),v=i("./zipObject"),_=i("./generate"),A=i("./nodejsUtils"),S=i("./nodejs/NodejsStreamInputAdapter"),T=function(F){F.slice(-1)==="/"&&(F=F.substring(0,F.length-1));var L=F.lastIndexOf("/");return 0<L?F.substring(0,L):""},C=function(F){return F.slice(-1)!=="/"&&(F+="/"),F},N=function(F,L){return L=L!==void 0?L:g.createFolders,F=C(F),this.files[F]||l.call(this,F,null,{dir:!0,createFolders:L}),this.files[F]};function I(F){return Object.prototype.toString.call(F)==="[object RegExp]"}var O={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(F){var L,z,B;for(L in this.files)B=this.files[L],(z=L.slice(this.root.length,L.length))&&L.slice(0,this.root.length)===this.root&&F(z,B)},filter:function(F){var L=[];return this.forEach(function(z,B){F(z,B)&&L.push(B)}),L},file:function(F,L,z){if(arguments.length!==1)return F=this.root+F,l.call(this,F,L,z),this;if(I(F)){var B=F;return this.filter(function(se,de){return!de.dir&&B.test(se)})}var Y=this.files[this.root+F];return Y&&!Y.dir?Y:null},folder:function(F){if(!F)return this;if(I(F))return this.filter(function(Y,se){return se.dir&&F.test(Y)});var L=this.root+F,z=N.call(this,L),B=this.clone();return B.root=z.name,B},remove:function(F){F=this.root+F;var L=this.files[F];if(L||(F.slice(-1)!=="/"&&(F+="/"),L=this.files[F]),L&&!L.dir)delete this.files[F];else for(var z=this.filter(function(Y,se){return se.name.slice(0,F.length)===F}),B=0;B<z.length;B++)delete this.files[z[B].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(F){var L,z={};try{if((z=u.extend(F||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:c.utf8encode})).type=z.type.toLowerCase(),z.compression=z.compression.toUpperCase(),z.type==="binarystring"&&(z.type="string"),!z.type)throw new Error("No output type specified.");u.checkSupport(z.type),z.platform!=="darwin"&&z.platform!=="freebsd"&&z.platform!=="linux"&&z.platform!=="sunos"||(z.platform="UNIX"),z.platform==="win32"&&(z.platform="DOS");var B=z.comment||this.comment||"";L=_.generateWorker(this,z,B)}catch(Y){(L=new h("error")).error(Y)}return new m(L,z.type||"string",z.mimeType)},generateAsync:function(F,L){return this.generateInternalStream(F).accumulate(L)},generateNodeStream:function(F,L){return(F=F||{}).type||(F.type="nodebuffer"),this.generateInternalStream(F).toNodejsStream(L)}};r.exports=O},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(i,r,o){r.exports=i("stream")},{stream:void 0}],17:[function(i,r,o){var l=i("./DataReader");function c(u){l.call(this,u);for(var h=0;h<this.data.length;h++)u[h]=255&u[h]}i("../utils").inherits(c,l),c.prototype.byteAt=function(u){return this.data[this.zero+u]},c.prototype.lastIndexOfSignature=function(u){for(var h=u.charCodeAt(0),m=u.charCodeAt(1),g=u.charCodeAt(2),y=u.charCodeAt(3),v=this.length-4;0<=v;--v)if(this.data[v]===h&&this.data[v+1]===m&&this.data[v+2]===g&&this.data[v+3]===y)return v-this.zero;return-1},c.prototype.readAndCheckSignature=function(u){var h=u.charCodeAt(0),m=u.charCodeAt(1),g=u.charCodeAt(2),y=u.charCodeAt(3),v=this.readData(4);return h===v[0]&&m===v[1]&&g===v[2]&&y===v[3]},c.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var h=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,h},r.exports=c},{"../utils":32,"./DataReader":18}],18:[function(i,r,o){var l=i("../utils");function c(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}c.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var h,m=0;for(this.checkOffset(u),h=this.index+u-1;h>=this.index;h--)m=(m<<8)+this.byteAt(h);return this.index+=u,m},readString:function(u){return l.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},r.exports=c},{"../utils":32}],19:[function(i,r,o){var l=i("./Uint8ArrayReader");function c(u){l.call(this,u)}i("../utils").inherits(c,l),c.prototype.readData=function(u){this.checkOffset(u);var h=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,h},r.exports=c},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(i,r,o){var l=i("./DataReader");function c(u){l.call(this,u)}i("../utils").inherits(c,l),c.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},c.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},c.prototype.readAndCheckSignature=function(u){return u===this.readData(4)},c.prototype.readData=function(u){this.checkOffset(u);var h=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,h},r.exports=c},{"../utils":32,"./DataReader":18}],21:[function(i,r,o){var l=i("./ArrayReader");function c(u){l.call(this,u)}i("../utils").inherits(c,l),c.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var h=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,h},r.exports=c},{"../utils":32,"./ArrayReader":17}],22:[function(i,r,o){var l=i("../utils"),c=i("../support"),u=i("./ArrayReader"),h=i("./StringReader"),m=i("./NodeBufferReader"),g=i("./Uint8ArrayReader");r.exports=function(y){var v=l.getTypeOf(y);return l.checkSupport(v),v!=="string"||c.uint8array?v==="nodebuffer"?new m(y):c.uint8array?new g(l.transformTo("uint8array",y)):new u(l.transformTo("array",y)):new h(y)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(i,r,o){o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(i,r,o){var l=i("./GenericWorker"),c=i("../utils");function u(h){l.call(this,"ConvertWorker to "+h),this.destType=h}c.inherits(u,l),u.prototype.processChunk=function(h){this.push({data:c.transformTo(this.destType,h.data),meta:h.meta})},r.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(i,r,o){var l=i("./GenericWorker"),c=i("../crc32");function u(){l.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}i("../utils").inherits(u,l),u.prototype.processChunk=function(h){this.streamInfo.crc32=c(h.data,this.streamInfo.crc32||0),this.push(h)},r.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(i,r,o){var l=i("../utils"),c=i("./GenericWorker");function u(h){c.call(this,"DataLengthProbe for "+h),this.propName=h,this.withStreamInfo(h,0)}l.inherits(u,c),u.prototype.processChunk=function(h){if(h){var m=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=m+h.data.length}c.prototype.processChunk.call(this,h)},r.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(i,r,o){var l=i("../utils"),c=i("./GenericWorker");function u(h){c.call(this,"DataWorker");var m=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,h.then(function(g){m.dataIsReady=!0,m.data=g,m.max=g&&g.length||0,m.type=l.getTypeOf(g),m.isPaused||m._tickAndRepeat()},function(g){m.error(g)})}l.inherits(u,c),u.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,l.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(l.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var h=null,m=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":h=this.data.substring(this.index,m);break;case"uint8array":h=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":h=this.data.slice(this.index,m)}return this.index=m,this.push({data:h,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(i,r,o){function l(c){this.name=c||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}l.prototype={push:function(c){this.emit("data",c)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(c){this.emit("error",c)}return!0},error:function(c){return!this.isFinished&&(this.isPaused?this.generatedError=c:(this.isFinished=!0,this.emit("error",c),this.previous&&this.previous.error(c),this.cleanUp()),!0)},on:function(c,u){return this._listeners[c].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(c,u){if(this._listeners[c])for(var h=0;h<this._listeners[c].length;h++)this._listeners[c][h].call(this,u)},pipe:function(c){return c.registerPrevious(this)},registerPrevious:function(c){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=c.streamInfo,this.mergeStreamInfo(),this.previous=c;var u=this;return c.on("data",function(h){u.processChunk(h)}),c.on("end",function(){u.end()}),c.on("error",function(h){u.error(h)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var c=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),c=!0),this.previous&&this.previous.resume(),!c},flush:function(){},processChunk:function(c){this.push(c)},withStreamInfo:function(c,u){return this.extraStreamInfo[c]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var c in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,c)&&(this.streamInfo[c]=this.extraStreamInfo[c])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var c="Worker "+this.name;return this.previous?this.previous+" -> "+c:c}},r.exports=l},{}],29:[function(i,r,o){var l=i("../utils"),c=i("./ConvertWorker"),u=i("./GenericWorker"),h=i("../base64"),m=i("../support"),g=i("../external"),y=null;if(m.nodestream)try{y=i("../nodejs/NodejsStreamOutputAdapter")}catch{}function v(A,S){return new g.Promise(function(T,C){var N=[],I=A._internalType,O=A._outputType,F=A._mimeType;A.on("data",function(L,z){N.push(L),S&&S(z)}).on("error",function(L){N=[],C(L)}).on("end",function(){try{var L=function(z,B,Y){switch(z){case"blob":return l.newBlob(l.transformTo("arraybuffer",B),Y);case"base64":return h.encode(B);default:return l.transformTo(z,B)}}(O,function(z,B){var Y,se=0,de=null,J=0;for(Y=0;Y<B.length;Y++)J+=B[Y].length;switch(z){case"string":return B.join("");case"array":return Array.prototype.concat.apply([],B);case"uint8array":for(de=new Uint8Array(J),Y=0;Y<B.length;Y++)de.set(B[Y],se),se+=B[Y].length;return de;case"nodebuffer":return Buffer.concat(B);default:throw new Error("concat : unsupported type '"+z+"'")}}(I,N),F);T(L)}catch(z){C(z)}N=[]}).resume()})}function _(A,S,T){var C=S;switch(S){case"blob":case"arraybuffer":C="uint8array";break;case"base64":C="string"}try{this._internalType=C,this._outputType=S,this._mimeType=T,l.checkSupport(C),this._worker=A.pipe(new c(C)),A.lock()}catch(N){this._worker=new u("error"),this._worker.error(N)}}_.prototype={accumulate:function(A){return v(this,A)},on:function(A,S){var T=this;return A==="data"?this._worker.on(A,function(C){S.call(T,C.data,C.meta)}):this._worker.on(A,function(){l.delay(S,arguments,T)}),this},resume:function(){return l.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(A){if(l.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new y(this,{objectMode:this._outputType!=="nodebuffer"},A)}},r.exports=_},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(i,r,o){if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var l=new ArrayBuffer(0);try{o.blob=new Blob([l],{type:"application/zip"}).size===0}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);c.append(l),o.blob=c.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!i("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(i,r,o){for(var l=i("./utils"),c=i("./support"),u=i("./nodejsUtils"),h=i("./stream/GenericWorker"),m=new Array(256),g=0;g<256;g++)m[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;m[254]=m[254]=1;function y(){h.call(this,"utf-8 decode"),this.leftOver=null}function v(){h.call(this,"utf-8 encode")}o.utf8encode=function(_){return c.nodebuffer?u.newBufferFrom(_,"utf-8"):function(A){var S,T,C,N,I,O=A.length,F=0;for(N=0;N<O;N++)(64512&(T=A.charCodeAt(N)))==55296&&N+1<O&&(64512&(C=A.charCodeAt(N+1)))==56320&&(T=65536+(T-55296<<10)+(C-56320),N++),F+=T<128?1:T<2048?2:T<65536?3:4;for(S=c.uint8array?new Uint8Array(F):new Array(F),N=I=0;I<F;N++)(64512&(T=A.charCodeAt(N)))==55296&&N+1<O&&(64512&(C=A.charCodeAt(N+1)))==56320&&(T=65536+(T-55296<<10)+(C-56320),N++),T<128?S[I++]=T:(T<2048?S[I++]=192|T>>>6:(T<65536?S[I++]=224|T>>>12:(S[I++]=240|T>>>18,S[I++]=128|T>>>12&63),S[I++]=128|T>>>6&63),S[I++]=128|63&T);return S}(_)},o.utf8decode=function(_){return c.nodebuffer?l.transformTo("nodebuffer",_).toString("utf-8"):function(A){var S,T,C,N,I=A.length,O=new Array(2*I);for(S=T=0;S<I;)if((C=A[S++])<128)O[T++]=C;else if(4<(N=m[C]))O[T++]=65533,S+=N-1;else{for(C&=N===2?31:N===3?15:7;1<N&&S<I;)C=C<<6|63&A[S++],N--;1<N?O[T++]=65533:C<65536?O[T++]=C:(C-=65536,O[T++]=55296|C>>10&1023,O[T++]=56320|1023&C)}return O.length!==T&&(O.subarray?O=O.subarray(0,T):O.length=T),l.applyFromCharCode(O)}(_=l.transformTo(c.uint8array?"uint8array":"array",_))},l.inherits(y,h),y.prototype.processChunk=function(_){var A=l.transformTo(c.uint8array?"uint8array":"array",_.data);if(this.leftOver&&this.leftOver.length){if(c.uint8array){var S=A;(A=new Uint8Array(S.length+this.leftOver.length)).set(this.leftOver,0),A.set(S,this.leftOver.length)}else A=this.leftOver.concat(A);this.leftOver=null}var T=function(N,I){var O;for((I=I||N.length)>N.length&&(I=N.length),O=I-1;0<=O&&(192&N[O])==128;)O--;return O<0||O===0?I:O+m[N[O]]>I?O:I}(A),C=A;T!==A.length&&(c.uint8array?(C=A.subarray(0,T),this.leftOver=A.subarray(T,A.length)):(C=A.slice(0,T),this.leftOver=A.slice(T,A.length))),this.push({data:o.utf8decode(C),meta:_.meta})},y.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=y,l.inherits(v,h),v.prototype.processChunk=function(_){this.push({data:o.utf8encode(_.data),meta:_.meta})},o.Utf8EncodeWorker=v},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(i,r,o){var l=i("./support"),c=i("./base64"),u=i("./nodejsUtils"),h=i("./external");function m(S){return S}function g(S,T){for(var C=0;C<S.length;++C)T[C]=255&S.charCodeAt(C);return T}i("setimmediate"),o.newBlob=function(S,T){o.checkSupport("blob");try{return new Blob([S],{type:T})}catch{try{var C=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return C.append(S),C.getBlob(T)}catch{throw new Error("Bug : can't construct the Blob.")}}};var y={stringifyByChunk:function(S,T,C){var N=[],I=0,O=S.length;if(O<=C)return String.fromCharCode.apply(null,S);for(;I<O;)T==="array"||T==="nodebuffer"?N.push(String.fromCharCode.apply(null,S.slice(I,Math.min(I+C,O)))):N.push(String.fromCharCode.apply(null,S.subarray(I,Math.min(I+C,O)))),I+=C;return N.join("")},stringifyByChar:function(S){for(var T="",C=0;C<S.length;C++)T+=String.fromCharCode(S[C]);return T},applyCanBeUsed:{uint8array:function(){try{return l.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return l.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}}()}};function v(S){var T=65536,C=o.getTypeOf(S),N=!0;if(C==="uint8array"?N=y.applyCanBeUsed.uint8array:C==="nodebuffer"&&(N=y.applyCanBeUsed.nodebuffer),N)for(;1<T;)try{return y.stringifyByChunk(S,C,T)}catch{T=Math.floor(T/2)}return y.stringifyByChar(S)}function _(S,T){for(var C=0;C<S.length;C++)T[C]=S[C];return T}o.applyFromCharCode=v;var A={};A.string={string:m,array:function(S){return g(S,new Array(S.length))},arraybuffer:function(S){return A.string.uint8array(S).buffer},uint8array:function(S){return g(S,new Uint8Array(S.length))},nodebuffer:function(S){return g(S,u.allocBuffer(S.length))}},A.array={string:v,array:m,arraybuffer:function(S){return new Uint8Array(S).buffer},uint8array:function(S){return new Uint8Array(S)},nodebuffer:function(S){return u.newBufferFrom(S)}},A.arraybuffer={string:function(S){return v(new Uint8Array(S))},array:function(S){return _(new Uint8Array(S),new Array(S.byteLength))},arraybuffer:m,uint8array:function(S){return new Uint8Array(S)},nodebuffer:function(S){return u.newBufferFrom(new Uint8Array(S))}},A.uint8array={string:v,array:function(S){return _(S,new Array(S.length))},arraybuffer:function(S){return S.buffer},uint8array:m,nodebuffer:function(S){return u.newBufferFrom(S)}},A.nodebuffer={string:v,array:function(S){return _(S,new Array(S.length))},arraybuffer:function(S){return A.nodebuffer.uint8array(S).buffer},uint8array:function(S){return _(S,new Uint8Array(S.length))},nodebuffer:m},o.transformTo=function(S,T){if(T=T||"",!S)return T;o.checkSupport(S);var C=o.getTypeOf(T);return A[C][S](T)},o.resolve=function(S){for(var T=S.split("/"),C=[],N=0;N<T.length;N++){var I=T[N];I==="."||I===""&&N!==0&&N!==T.length-1||(I===".."?C.pop():C.push(I))}return C.join("/")},o.getTypeOf=function(S){return typeof S=="string"?"string":Object.prototype.toString.call(S)==="[object Array]"?"array":l.nodebuffer&&u.isBuffer(S)?"nodebuffer":l.uint8array&&S instanceof Uint8Array?"uint8array":l.arraybuffer&&S instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(S){if(!l[S.toLowerCase()])throw new Error(S+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(S){var T,C,N="";for(C=0;C<(S||"").length;C++)N+="\\x"+((T=S.charCodeAt(C))<16?"0":"")+T.toString(16).toUpperCase();return N},o.delay=function(S,T,C){setImmediate(function(){S.apply(C||null,T||[])})},o.inherits=function(S,T){function C(){}C.prototype=T.prototype,S.prototype=new C},o.extend=function(){var S,T,C={};for(S=0;S<arguments.length;S++)for(T in arguments[S])Object.prototype.hasOwnProperty.call(arguments[S],T)&&C[T]===void 0&&(C[T]=arguments[S][T]);return C},o.prepareContent=function(S,T,C,N,I){return h.Promise.resolve(T).then(function(O){return l.blob&&(O instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(O))!==-1)&&typeof FileReader<"u"?new h.Promise(function(F,L){var z=new FileReader;z.onload=function(B){F(B.target.result)},z.onerror=function(B){L(B.target.error)},z.readAsArrayBuffer(O)}):O}).then(function(O){var F=o.getTypeOf(O);return F?(F==="arraybuffer"?O=o.transformTo("uint8array",O):F==="string"&&(I?O=c.decode(O):C&&N!==!0&&(O=function(L){return g(L,l.uint8array?new Uint8Array(L.length):new Array(L.length))}(O))),O):h.Promise.reject(new Error("Can't read the data of '"+S+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(i,r,o){var l=i("./reader/readerFor"),c=i("./utils"),u=i("./signature"),h=i("./zipEntry"),m=i("./support");function g(y){this.files=[],this.loadOptions=y}g.prototype={checkSignature:function(y){if(!this.reader.readAndCheckSignature(y)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+c.pretty(v)+", expected "+c.pretty(y)+")")}},isSignature:function(y,v){var _=this.reader.index;this.reader.setIndex(y);var A=this.reader.readString(4)===v;return this.reader.setIndex(_),A},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var y=this.reader.readData(this.zipCommentLength),v=m.uint8array?"uint8array":"array",_=c.transformTo(v,y);this.zipComment=this.loadOptions.decodeFileName(_)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var y,v,_,A=this.zip64EndOfCentralSize-44;0<A;)y=this.reader.readInt(2),v=this.reader.readInt(4),_=this.reader.readData(v),this.zip64ExtensibleData[y]={id:y,length:v,value:_}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var y,v;for(y=0;y<this.files.length;y++)v=this.files[y],this.reader.setIndex(v.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var y;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)(y=new h({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(y);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var y=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(y<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(y);var v=y;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===c.MAX_VALUE_16BITS||this.diskWithCentralDirStart===c.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===c.MAX_VALUE_16BITS||this.centralDirRecords===c.MAX_VALUE_16BITS||this.centralDirSize===c.MAX_VALUE_32BITS||this.centralDirOffset===c.MAX_VALUE_32BITS){if(this.zip64=!0,(y=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(y),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var _=this.centralDirOffset+this.centralDirSize;this.zip64&&(_+=20,_+=12+this.zip64EndOfCentralSize);var A=v-_;if(0<A)this.isSignature(v,u.CENTRAL_FILE_HEADER)||(this.reader.zero=A);else if(A<0)throw new Error("Corrupted zip: missing "+Math.abs(A)+" bytes.")},prepareReader:function(y){this.reader=l(y)},load:function(y){this.prepareReader(y),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=g},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(i,r,o){var l=i("./reader/readerFor"),c=i("./utils"),u=i("./compressedObject"),h=i("./crc32"),m=i("./utf8"),g=i("./compressions"),y=i("./support");function v(_,A){this.options=_,this.loadOptions=A}v.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(_){var A,S;if(_.skip(22),this.fileNameLength=_.readInt(2),S=_.readInt(2),this.fileName=_.readData(this.fileNameLength),_.skip(S),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((A=function(T){for(var C in g)if(Object.prototype.hasOwnProperty.call(g,C)&&g[C].magic===T)return g[C];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+c.pretty(this.compressionMethod)+" unknown (inner file : "+c.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,A,_.readData(this.compressedSize))},readCentralPart:function(_){this.versionMadeBy=_.readInt(2),_.skip(2),this.bitFlag=_.readInt(2),this.compressionMethod=_.readString(2),this.date=_.readDate(),this.crc32=_.readInt(4),this.compressedSize=_.readInt(4),this.uncompressedSize=_.readInt(4);var A=_.readInt(2);if(this.extraFieldsLength=_.readInt(2),this.fileCommentLength=_.readInt(2),this.diskNumberStart=_.readInt(2),this.internalFileAttributes=_.readInt(2),this.externalFileAttributes=_.readInt(4),this.localHeaderOffset=_.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");_.skip(A),this.readExtraFields(_),this.parseZIP64ExtraField(_),this.fileComment=_.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var _=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),_==0&&(this.dosPermissions=63&this.externalFileAttributes),_==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var _=l(this.extraFields[1].value);this.uncompressedSize===c.MAX_VALUE_32BITS&&(this.uncompressedSize=_.readInt(8)),this.compressedSize===c.MAX_VALUE_32BITS&&(this.compressedSize=_.readInt(8)),this.localHeaderOffset===c.MAX_VALUE_32BITS&&(this.localHeaderOffset=_.readInt(8)),this.diskNumberStart===c.MAX_VALUE_32BITS&&(this.diskNumberStart=_.readInt(4))}},readExtraFields:function(_){var A,S,T,C=_.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});_.index+4<C;)A=_.readInt(2),S=_.readInt(2),T=_.readData(S),this.extraFields[A]={id:A,length:S,value:T};_.setIndex(C)},handleUTF8:function(){var _=y.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment);else{var A=this.findExtraFieldUnicodePath();if(A!==null)this.fileNameStr=A;else{var S=c.transformTo(_,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(S)}var T=this.findExtraFieldUnicodeComment();if(T!==null)this.fileCommentStr=T;else{var C=c.transformTo(_,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(C)}}},findExtraFieldUnicodePath:function(){var _=this.extraFields[28789];if(_){var A=l(_.value);return A.readInt(1)!==1||h(this.fileName)!==A.readInt(4)?null:m.utf8decode(A.readData(_.length-5))}return null},findExtraFieldUnicodeComment:function(){var _=this.extraFields[25461];if(_){var A=l(_.value);return A.readInt(1)!==1||h(this.fileComment)!==A.readInt(4)?null:m.utf8decode(A.readData(_.length-5))}return null}},r.exports=v},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(i,r,o){function l(A,S,T){this.name=A,this.dir=T.dir,this.date=T.date,this.comment=T.comment,this.unixPermissions=T.unixPermissions,this.dosPermissions=T.dosPermissions,this._data=S,this._dataBinary=T.binary,this.options={compression:T.compression,compressionOptions:T.compressionOptions}}var c=i("./stream/StreamHelper"),u=i("./stream/DataWorker"),h=i("./utf8"),m=i("./compressedObject"),g=i("./stream/GenericWorker");l.prototype={internalStream:function(A){var S=null,T="string";try{if(!A)throw new Error("No output type specified.");var C=(T=A.toLowerCase())==="string"||T==="text";T!=="binarystring"&&T!=="text"||(T="string"),S=this._decompressWorker();var N=!this._dataBinary;N&&!C&&(S=S.pipe(new h.Utf8EncodeWorker)),!N&&C&&(S=S.pipe(new h.Utf8DecodeWorker))}catch(I){(S=new g("error")).error(I)}return new c(S,T,"")},async:function(A,S){return this.internalStream(A).accumulate(S)},nodeStream:function(A,S){return this.internalStream(A||"nodebuffer").toNodejsStream(S)},_compressWorker:function(A,S){if(this._data instanceof m&&this._data.compression.magic===A.magic)return this._data.getCompressedWorker();var T=this._decompressWorker();return this._dataBinary||(T=T.pipe(new h.Utf8EncodeWorker)),m.createWorkerFrom(T,A,S)},_decompressWorker:function(){return this._data instanceof m?this._data.getContentWorker():this._data instanceof g?this._data:new u(this._data)}};for(var y=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},_=0;_<y.length;_++)l.prototype[y[_]]=v;r.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(i,r,o){(function(l){var c,u,h=l.MutationObserver||l.WebKitMutationObserver;if(h){var m=0,g=new h(A),y=l.document.createTextNode("");g.observe(y,{characterData:!0}),c=function(){y.data=m=++m%2}}else if(l.setImmediate||l.MessageChannel===void 0)c="document"in l&&"onreadystatechange"in l.document.createElement("script")?function(){var S=l.document.createElement("script");S.onreadystatechange=function(){A(),S.onreadystatechange=null,S.parentNode.removeChild(S),S=null},l.document.documentElement.appendChild(S)}:function(){setTimeout(A,0)};else{var v=new l.MessageChannel;v.port1.onmessage=A,c=function(){v.port2.postMessage(0)}}var _=[];function A(){var S,T;u=!0;for(var C=_.length;C;){for(T=_,_=[],S=-1;++S<C;)T[S]();C=_.length}u=!1}r.exports=function(S){_.push(S)!==1||u||c()}}).call(this,typeof Gt<"u"?Gt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(i,r,o){var l=i("immediate");function c(){}var u={},h=["REJECTED"],m=["FULFILLED"],g=["PENDING"];function y(C){if(typeof C!="function")throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,C!==c&&S(this,C)}function v(C,N,I){this.promise=C,typeof N=="function"&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),typeof I=="function"&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}function _(C,N,I){l(function(){var O;try{O=N(I)}catch(F){return u.reject(C,F)}O===C?u.reject(C,new TypeError("Cannot resolve promise with itself")):u.resolve(C,O)})}function A(C){var N=C&&C.then;if(C&&(typeof C=="object"||typeof C=="function")&&typeof N=="function")return function(){N.apply(C,arguments)}}function S(C,N){var I=!1;function O(z){I||(I=!0,u.reject(C,z))}function F(z){I||(I=!0,u.resolve(C,z))}var L=T(function(){N(F,O)});L.status==="error"&&O(L.value)}function T(C,N){var I={};try{I.value=C(N),I.status="success"}catch(O){I.status="error",I.value=O}return I}(r.exports=y).prototype.finally=function(C){if(typeof C!="function")return this;var N=this.constructor;return this.then(function(I){return N.resolve(C()).then(function(){return I})},function(I){return N.resolve(C()).then(function(){throw I})})},y.prototype.catch=function(C){return this.then(null,C)},y.prototype.then=function(C,N){if(typeof C!="function"&&this.state===m||typeof N!="function"&&this.state===h)return this;var I=new this.constructor(c);return this.state!==g?_(I,this.state===m?C:N,this.outcome):this.queue.push(new v(I,C,N)),I},v.prototype.callFulfilled=function(C){u.resolve(this.promise,C)},v.prototype.otherCallFulfilled=function(C){_(this.promise,this.onFulfilled,C)},v.prototype.callRejected=function(C){u.reject(this.promise,C)},v.prototype.otherCallRejected=function(C){_(this.promise,this.onRejected,C)},u.resolve=function(C,N){var I=T(A,N);if(I.status==="error")return u.reject(C,I.value);var O=I.value;if(O)S(C,O);else{C.state=m,C.outcome=N;for(var F=-1,L=C.queue.length;++F<L;)C.queue[F].callFulfilled(N)}return C},u.reject=function(C,N){C.state=h,C.outcome=N;for(var I=-1,O=C.queue.length;++I<O;)C.queue[I].callRejected(N);return C},y.resolve=function(C){return C instanceof this?C:u.resolve(new this(c),C)},y.reject=function(C){var N=new this(c);return u.reject(N,C)},y.all=function(C){var N=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=C.length,O=!1;if(!I)return this.resolve([]);for(var F=new Array(I),L=0,z=-1,B=new this(c);++z<I;)Y(C[z],z);return B;function Y(se,de){N.resolve(se).then(function(J){F[de]=J,++L!==I||O||(O=!0,u.resolve(B,F))},function(J){O||(O=!0,u.reject(B,J))})}},y.race=function(C){var N=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=C.length,O=!1;if(!I)return this.resolve([]);for(var F=-1,L=new this(c);++F<I;)z=C[F],N.resolve(z).then(function(B){O||(O=!0,u.resolve(L,B))},function(B){O||(O=!0,u.reject(L,B))});var z;return L}},{immediate:36}],38:[function(i,r,o){var l={};(0,i("./lib/utils/common").assign)(l,i("./lib/deflate"),i("./lib/inflate"),i("./lib/zlib/constants")),r.exports=l},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(i,r,o){var l=i("./zlib/deflate"),c=i("./utils/common"),u=i("./utils/strings"),h=i("./zlib/messages"),m=i("./zlib/zstream"),g=Object.prototype.toString,y=0,v=-1,_=0,A=8;function S(C){if(!(this instanceof S))return new S(C);this.options=c.assign({level:v,method:A,chunkSize:16384,windowBits:15,memLevel:8,strategy:_,to:""},C||{});var N=this.options;N.raw&&0<N.windowBits?N.windowBits=-N.windowBits:N.gzip&&0<N.windowBits&&N.windowBits<16&&(N.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var I=l.deflateInit2(this.strm,N.level,N.method,N.windowBits,N.memLevel,N.strategy);if(I!==y)throw new Error(h[I]);if(N.header&&l.deflateSetHeader(this.strm,N.header),N.dictionary){var O;if(O=typeof N.dictionary=="string"?u.string2buf(N.dictionary):g.call(N.dictionary)==="[object ArrayBuffer]"?new Uint8Array(N.dictionary):N.dictionary,(I=l.deflateSetDictionary(this.strm,O))!==y)throw new Error(h[I]);this._dict_set=!0}}function T(C,N){var I=new S(N);if(I.push(C,!0),I.err)throw I.msg||h[I.err];return I.result}S.prototype.push=function(C,N){var I,O,F=this.strm,L=this.options.chunkSize;if(this.ended)return!1;O=N===~~N?N:N===!0?4:0,typeof C=="string"?F.input=u.string2buf(C):g.call(C)==="[object ArrayBuffer]"?F.input=new Uint8Array(C):F.input=C,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new c.Buf8(L),F.next_out=0,F.avail_out=L),(I=l.deflate(F,O))!==1&&I!==y)return this.onEnd(I),!(this.ended=!0);F.avail_out!==0&&(F.avail_in!==0||O!==4&&O!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(c.shrinkBuf(F.output,F.next_out))):this.onData(c.shrinkBuf(F.output,F.next_out)))}while((0<F.avail_in||F.avail_out===0)&&I!==1);return O===4?(I=l.deflateEnd(this.strm),this.onEnd(I),this.ended=!0,I===y):O!==2||(this.onEnd(y),!(F.avail_out=0))},S.prototype.onData=function(C){this.chunks.push(C)},S.prototype.onEnd=function(C){C===y&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg},o.Deflate=S,o.deflate=T,o.deflateRaw=function(C,N){return(N=N||{}).raw=!0,T(C,N)},o.gzip=function(C,N){return(N=N||{}).gzip=!0,T(C,N)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(i,r,o){var l=i("./zlib/inflate"),c=i("./utils/common"),u=i("./utils/strings"),h=i("./zlib/constants"),m=i("./zlib/messages"),g=i("./zlib/zstream"),y=i("./zlib/gzheader"),v=Object.prototype.toString;function _(S){if(!(this instanceof _))return new _(S);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},S||{});var T=this.options;T.raw&&0<=T.windowBits&&T.windowBits<16&&(T.windowBits=-T.windowBits,T.windowBits===0&&(T.windowBits=-15)),!(0<=T.windowBits&&T.windowBits<16)||S&&S.windowBits||(T.windowBits+=32),15<T.windowBits&&T.windowBits<48&&!(15&T.windowBits)&&(T.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var C=l.inflateInit2(this.strm,T.windowBits);if(C!==h.Z_OK)throw new Error(m[C]);this.header=new y,l.inflateGetHeader(this.strm,this.header)}function A(S,T){var C=new _(T);if(C.push(S,!0),C.err)throw C.msg||m[C.err];return C.result}_.prototype.push=function(S,T){var C,N,I,O,F,L,z=this.strm,B=this.options.chunkSize,Y=this.options.dictionary,se=!1;if(this.ended)return!1;N=T===~~T?T:T===!0?h.Z_FINISH:h.Z_NO_FLUSH,typeof S=="string"?z.input=u.binstring2buf(S):v.call(S)==="[object ArrayBuffer]"?z.input=new Uint8Array(S):z.input=S,z.next_in=0,z.avail_in=z.input.length;do{if(z.avail_out===0&&(z.output=new c.Buf8(B),z.next_out=0,z.avail_out=B),(C=l.inflate(z,h.Z_NO_FLUSH))===h.Z_NEED_DICT&&Y&&(L=typeof Y=="string"?u.string2buf(Y):v.call(Y)==="[object ArrayBuffer]"?new Uint8Array(Y):Y,C=l.inflateSetDictionary(this.strm,L)),C===h.Z_BUF_ERROR&&se===!0&&(C=h.Z_OK,se=!1),C!==h.Z_STREAM_END&&C!==h.Z_OK)return this.onEnd(C),!(this.ended=!0);z.next_out&&(z.avail_out!==0&&C!==h.Z_STREAM_END&&(z.avail_in!==0||N!==h.Z_FINISH&&N!==h.Z_SYNC_FLUSH)||(this.options.to==="string"?(I=u.utf8border(z.output,z.next_out),O=z.next_out-I,F=u.buf2string(z.output,I),z.next_out=O,z.avail_out=B-O,O&&c.arraySet(z.output,z.output,I,O,0),this.onData(F)):this.onData(c.shrinkBuf(z.output,z.next_out)))),z.avail_in===0&&z.avail_out===0&&(se=!0)}while((0<z.avail_in||z.avail_out===0)&&C!==h.Z_STREAM_END);return C===h.Z_STREAM_END&&(N=h.Z_FINISH),N===h.Z_FINISH?(C=l.inflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===h.Z_OK):N!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),!(z.avail_out=0))},_.prototype.onData=function(S){this.chunks.push(S)},_.prototype.onEnd=function(S){S===h.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},o.Inflate=_,o.inflate=A,o.inflateRaw=function(S,T){return(T=T||{}).raw=!0,A(S,T)},o.ungzip=A},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(i,r,o){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(h){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var g=m.shift();if(g){if(typeof g!="object")throw new TypeError(g+"must be non-object");for(var y in g)g.hasOwnProperty(y)&&(h[y]=g[y])}}return h},o.shrinkBuf=function(h,m){return h.length===m?h:h.subarray?h.subarray(0,m):(h.length=m,h)};var c={arraySet:function(h,m,g,y,v){if(m.subarray&&h.subarray)h.set(m.subarray(g,g+y),v);else for(var _=0;_<y;_++)h[v+_]=m[g+_]},flattenChunks:function(h){var m,g,y,v,_,A;for(m=y=0,g=h.length;m<g;m++)y+=h[m].length;for(A=new Uint8Array(y),m=v=0,g=h.length;m<g;m++)_=h[m],A.set(_,v),v+=_.length;return A}},u={arraySet:function(h,m,g,y,v){for(var _=0;_<y;_++)h[v+_]=m[g+_]},flattenChunks:function(h){return[].concat.apply([],h)}};o.setTyped=function(h){h?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,c)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,u))},o.setTyped(l)},{}],42:[function(i,r,o){var l=i("./common"),c=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{c=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var h=new l.Buf8(256),m=0;m<256;m++)h[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;function g(y,v){if(v<65537&&(y.subarray&&u||!y.subarray&&c))return String.fromCharCode.apply(null,l.shrinkBuf(y,v));for(var _="",A=0;A<v;A++)_+=String.fromCharCode(y[A]);return _}h[254]=h[254]=1,o.string2buf=function(y){var v,_,A,S,T,C=y.length,N=0;for(S=0;S<C;S++)(64512&(_=y.charCodeAt(S)))==55296&&S+1<C&&(64512&(A=y.charCodeAt(S+1)))==56320&&(_=65536+(_-55296<<10)+(A-56320),S++),N+=_<128?1:_<2048?2:_<65536?3:4;for(v=new l.Buf8(N),S=T=0;T<N;S++)(64512&(_=y.charCodeAt(S)))==55296&&S+1<C&&(64512&(A=y.charCodeAt(S+1)))==56320&&(_=65536+(_-55296<<10)+(A-56320),S++),_<128?v[T++]=_:(_<2048?v[T++]=192|_>>>6:(_<65536?v[T++]=224|_>>>12:(v[T++]=240|_>>>18,v[T++]=128|_>>>12&63),v[T++]=128|_>>>6&63),v[T++]=128|63&_);return v},o.buf2binstring=function(y){return g(y,y.length)},o.binstring2buf=function(y){for(var v=new l.Buf8(y.length),_=0,A=v.length;_<A;_++)v[_]=y.charCodeAt(_);return v},o.buf2string=function(y,v){var _,A,S,T,C=v||y.length,N=new Array(2*C);for(_=A=0;_<C;)if((S=y[_++])<128)N[A++]=S;else if(4<(T=h[S]))N[A++]=65533,_+=T-1;else{for(S&=T===2?31:T===3?15:7;1<T&&_<C;)S=S<<6|63&y[_++],T--;1<T?N[A++]=65533:S<65536?N[A++]=S:(S-=65536,N[A++]=55296|S>>10&1023,N[A++]=56320|1023&S)}return g(N,A)},o.utf8border=function(y,v){var _;for((v=v||y.length)>y.length&&(v=y.length),_=v-1;0<=_&&(192&y[_])==128;)_--;return _<0||_===0?v:_+h[y[_]]>v?_:v}},{"./common":41}],43:[function(i,r,o){r.exports=function(l,c,u,h){for(var m=65535&l|0,g=l>>>16&65535|0,y=0;u!==0;){for(u-=y=2e3<u?2e3:u;g=g+(m=m+c[h++]|0)|0,--y;);m%=65521,g%=65521}return m|g<<16|0}},{}],44:[function(i,r,o){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(i,r,o){var l=function(){for(var c,u=[],h=0;h<256;h++){c=h;for(var m=0;m<8;m++)c=1&c?3988292384^c>>>1:c>>>1;u[h]=c}return u}();r.exports=function(c,u,h,m){var g=l,y=m+h;c^=-1;for(var v=m;v<y;v++)c=c>>>8^g[255&(c^u[v])];return-1^c}},{}],46:[function(i,r,o){var l,c=i("../utils/common"),u=i("./trees"),h=i("./adler32"),m=i("./crc32"),g=i("./messages"),y=0,v=4,_=0,A=-2,S=-1,T=4,C=2,N=8,I=9,O=286,F=30,L=19,z=2*O+1,B=15,Y=3,se=258,de=se+Y+1,J=42,be=113,q=1,Te=2,ie=3,ce=4;function X($,Ce){return $.msg=g[Ce],Ce}function K($){return($<<1)-(4<$?9:0)}function ne($){for(var Ce=$.length;0<=--Ce;)$[Ce]=0}function ee($){var Ce=$.state,Me=Ce.pending;Me>$.avail_out&&(Me=$.avail_out),Me!==0&&(c.arraySet($.output,Ce.pending_buf,Ce.pending_out,Me,$.next_out),$.next_out+=Me,Ce.pending_out+=Me,$.total_out+=Me,$.avail_out-=Me,Ce.pending-=Me,Ce.pending===0&&(Ce.pending_out=0))}function ue($,Ce){u._tr_flush_block($,0<=$.block_start?$.block_start:-1,$.strstart-$.block_start,Ce),$.block_start=$.strstart,ee($.strm)}function Q($,Ce){$.pending_buf[$.pending++]=Ce}function fe($,Ce){$.pending_buf[$.pending++]=Ce>>>8&255,$.pending_buf[$.pending++]=255&Ce}function Se($,Ce){var Me,ye,_e=$.max_chain_length,Le=$.strstart,Ve=$.prev_length,$e=$.nice_match,Ne=$.strstart>$.w_size-de?$.strstart-($.w_size-de):0,Ee=$.window,ve=$.w_mask,ae=$.prev,Ue=$.strstart+se,Je=Ee[Le+Ve-1],nt=Ee[Le+Ve];$.prev_length>=$.good_match&&(_e>>=2),$e>$.lookahead&&($e=$.lookahead);do if(Ee[(Me=Ce)+Ve]===nt&&Ee[Me+Ve-1]===Je&&Ee[Me]===Ee[Le]&&Ee[++Me]===Ee[Le+1]){Le+=2,Me++;do;while(Ee[++Le]===Ee[++Me]&&Ee[++Le]===Ee[++Me]&&Ee[++Le]===Ee[++Me]&&Ee[++Le]===Ee[++Me]&&Ee[++Le]===Ee[++Me]&&Ee[++Le]===Ee[++Me]&&Ee[++Le]===Ee[++Me]&&Ee[++Le]===Ee[++Me]&&Le<Ue);if(ye=se-(Ue-Le),Le=Ue-se,Ve<ye){if($.match_start=Ce,$e<=(Ve=ye))break;Je=Ee[Le+Ve-1],nt=Ee[Le+Ve]}}while((Ce=ae[Ce&ve])>Ne&&--_e!=0);return Ve<=$.lookahead?Ve:$.lookahead}function Oe($){var Ce,Me,ye,_e,Le,Ve,$e,Ne,Ee,ve,ae=$.w_size;do{if(_e=$.window_size-$.lookahead-$.strstart,$.strstart>=ae+(ae-de)){for(c.arraySet($.window,$.window,ae,ae,0),$.match_start-=ae,$.strstart-=ae,$.block_start-=ae,Ce=Me=$.hash_size;ye=$.head[--Ce],$.head[Ce]=ae<=ye?ye-ae:0,--Me;);for(Ce=Me=ae;ye=$.prev[--Ce],$.prev[Ce]=ae<=ye?ye-ae:0,--Me;);_e+=ae}if($.strm.avail_in===0)break;if(Ve=$.strm,$e=$.window,Ne=$.strstart+$.lookahead,Ee=_e,ve=void 0,ve=Ve.avail_in,Ee<ve&&(ve=Ee),Me=ve===0?0:(Ve.avail_in-=ve,c.arraySet($e,Ve.input,Ve.next_in,ve,Ne),Ve.state.wrap===1?Ve.adler=h(Ve.adler,$e,ve,Ne):Ve.state.wrap===2&&(Ve.adler=m(Ve.adler,$e,ve,Ne)),Ve.next_in+=ve,Ve.total_in+=ve,ve),$.lookahead+=Me,$.lookahead+$.insert>=Y)for(Le=$.strstart-$.insert,$.ins_h=$.window[Le],$.ins_h=($.ins_h<<$.hash_shift^$.window[Le+1])&$.hash_mask;$.insert&&($.ins_h=($.ins_h<<$.hash_shift^$.window[Le+Y-1])&$.hash_mask,$.prev[Le&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=Le,Le++,$.insert--,!($.lookahead+$.insert<Y)););}while($.lookahead<de&&$.strm.avail_in!==0)}function Ie($,Ce){for(var Me,ye;;){if($.lookahead<de){if(Oe($),$.lookahead<de&&Ce===y)return q;if($.lookahead===0)break}if(Me=0,$.lookahead>=Y&&($.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+Y-1])&$.hash_mask,Me=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart),Me!==0&&$.strstart-Me<=$.w_size-de&&($.match_length=Se($,Me)),$.match_length>=Y)if(ye=u._tr_tally($,$.strstart-$.match_start,$.match_length-Y),$.lookahead-=$.match_length,$.match_length<=$.max_lazy_match&&$.lookahead>=Y){for($.match_length--;$.strstart++,$.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+Y-1])&$.hash_mask,Me=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart,--$.match_length!=0;);$.strstart++}else $.strstart+=$.match_length,$.match_length=0,$.ins_h=$.window[$.strstart],$.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+1])&$.hash_mask;else ye=u._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++;if(ye&&(ue($,!1),$.strm.avail_out===0))return q}return $.insert=$.strstart<Y-1?$.strstart:Y-1,Ce===v?(ue($,!0),$.strm.avail_out===0?ie:ce):$.last_lit&&(ue($,!1),$.strm.avail_out===0)?q:Te}function je($,Ce){for(var Me,ye,_e;;){if($.lookahead<de){if(Oe($),$.lookahead<de&&Ce===y)return q;if($.lookahead===0)break}if(Me=0,$.lookahead>=Y&&($.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+Y-1])&$.hash_mask,Me=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart),$.prev_length=$.match_length,$.prev_match=$.match_start,$.match_length=Y-1,Me!==0&&$.prev_length<$.max_lazy_match&&$.strstart-Me<=$.w_size-de&&($.match_length=Se($,Me),$.match_length<=5&&($.strategy===1||$.match_length===Y&&4096<$.strstart-$.match_start)&&($.match_length=Y-1)),$.prev_length>=Y&&$.match_length<=$.prev_length){for(_e=$.strstart+$.lookahead-Y,ye=u._tr_tally($,$.strstart-1-$.prev_match,$.prev_length-Y),$.lookahead-=$.prev_length-1,$.prev_length-=2;++$.strstart<=_e&&($.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+Y-1])&$.hash_mask,Me=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart),--$.prev_length!=0;);if($.match_available=0,$.match_length=Y-1,$.strstart++,ye&&(ue($,!1),$.strm.avail_out===0))return q}else if($.match_available){if((ye=u._tr_tally($,0,$.window[$.strstart-1]))&&ue($,!1),$.strstart++,$.lookahead--,$.strm.avail_out===0)return q}else $.match_available=1,$.strstart++,$.lookahead--}return $.match_available&&(ye=u._tr_tally($,0,$.window[$.strstart-1]),$.match_available=0),$.insert=$.strstart<Y-1?$.strstart:Y-1,Ce===v?(ue($,!0),$.strm.avail_out===0?ie:ce):$.last_lit&&(ue($,!1),$.strm.avail_out===0)?q:Te}function Be($,Ce,Me,ye,_e){this.good_length=$,this.max_lazy=Ce,this.nice_length=Me,this.max_chain=ye,this.func=_e}function Fe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=N,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*z),this.dyn_dtree=new c.Buf16(2*(2*F+1)),this.bl_tree=new c.Buf16(2*(2*L+1)),ne(this.dyn_ltree),ne(this.dyn_dtree),ne(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(B+1),this.heap=new c.Buf16(2*O+1),ne(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*O+1),ne(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ae($){var Ce;return $&&$.state?($.total_in=$.total_out=0,$.data_type=C,(Ce=$.state).pending=0,Ce.pending_out=0,Ce.wrap<0&&(Ce.wrap=-Ce.wrap),Ce.status=Ce.wrap?J:be,$.adler=Ce.wrap===2?0:1,Ce.last_flush=y,u._tr_init(Ce),_):X($,A)}function ke($){var Ce=Ae($);return Ce===_&&function(Me){Me.window_size=2*Me.w_size,ne(Me.head),Me.max_lazy_match=l[Me.level].max_lazy,Me.good_match=l[Me.level].good_length,Me.nice_match=l[Me.level].nice_length,Me.max_chain_length=l[Me.level].max_chain,Me.strstart=0,Me.block_start=0,Me.lookahead=0,Me.insert=0,Me.match_length=Me.prev_length=Y-1,Me.match_available=0,Me.ins_h=0}($.state),Ce}function ze($,Ce,Me,ye,_e,Le){if(!$)return A;var Ve=1;if(Ce===S&&(Ce=6),ye<0?(Ve=0,ye=-ye):15<ye&&(Ve=2,ye-=16),_e<1||I<_e||Me!==N||ye<8||15<ye||Ce<0||9<Ce||Le<0||T<Le)return X($,A);ye===8&&(ye=9);var $e=new Fe;return($.state=$e).strm=$,$e.wrap=Ve,$e.gzhead=null,$e.w_bits=ye,$e.w_size=1<<$e.w_bits,$e.w_mask=$e.w_size-1,$e.hash_bits=_e+7,$e.hash_size=1<<$e.hash_bits,$e.hash_mask=$e.hash_size-1,$e.hash_shift=~~(($e.hash_bits+Y-1)/Y),$e.window=new c.Buf8(2*$e.w_size),$e.head=new c.Buf16($e.hash_size),$e.prev=new c.Buf16($e.w_size),$e.lit_bufsize=1<<_e+6,$e.pending_buf_size=4*$e.lit_bufsize,$e.pending_buf=new c.Buf8($e.pending_buf_size),$e.d_buf=1*$e.lit_bufsize,$e.l_buf=3*$e.lit_bufsize,$e.level=Ce,$e.strategy=Le,$e.method=Me,ke($)}l=[new Be(0,0,0,0,function($,Ce){var Me=65535;for(Me>$.pending_buf_size-5&&(Me=$.pending_buf_size-5);;){if($.lookahead<=1){if(Oe($),$.lookahead===0&&Ce===y)return q;if($.lookahead===0)break}$.strstart+=$.lookahead,$.lookahead=0;var ye=$.block_start+Me;if(($.strstart===0||$.strstart>=ye)&&($.lookahead=$.strstart-ye,$.strstart=ye,ue($,!1),$.strm.avail_out===0)||$.strstart-$.block_start>=$.w_size-de&&(ue($,!1),$.strm.avail_out===0))return q}return $.insert=0,Ce===v?(ue($,!0),$.strm.avail_out===0?ie:ce):($.strstart>$.block_start&&(ue($,!1),$.strm.avail_out),q)}),new Be(4,4,8,4,Ie),new Be(4,5,16,8,Ie),new Be(4,6,32,32,Ie),new Be(4,4,16,16,je),new Be(8,16,32,32,je),new Be(8,16,128,128,je),new Be(8,32,128,256,je),new Be(32,128,258,1024,je),new Be(32,258,258,4096,je)],o.deflateInit=function($,Ce){return ze($,Ce,N,15,8,0)},o.deflateInit2=ze,o.deflateReset=ke,o.deflateResetKeep=Ae,o.deflateSetHeader=function($,Ce){return $&&$.state?$.state.wrap!==2?A:($.state.gzhead=Ce,_):A},o.deflate=function($,Ce){var Me,ye,_e,Le;if(!$||!$.state||5<Ce||Ce<0)return $?X($,A):A;if(ye=$.state,!$.output||!$.input&&$.avail_in!==0||ye.status===666&&Ce!==v)return X($,$.avail_out===0?-5:A);if(ye.strm=$,Me=ye.last_flush,ye.last_flush=Ce,ye.status===J)if(ye.wrap===2)$.adler=0,Q(ye,31),Q(ye,139),Q(ye,8),ye.gzhead?(Q(ye,(ye.gzhead.text?1:0)+(ye.gzhead.hcrc?2:0)+(ye.gzhead.extra?4:0)+(ye.gzhead.name?8:0)+(ye.gzhead.comment?16:0)),Q(ye,255&ye.gzhead.time),Q(ye,ye.gzhead.time>>8&255),Q(ye,ye.gzhead.time>>16&255),Q(ye,ye.gzhead.time>>24&255),Q(ye,ye.level===9?2:2<=ye.strategy||ye.level<2?4:0),Q(ye,255&ye.gzhead.os),ye.gzhead.extra&&ye.gzhead.extra.length&&(Q(ye,255&ye.gzhead.extra.length),Q(ye,ye.gzhead.extra.length>>8&255)),ye.gzhead.hcrc&&($.adler=m($.adler,ye.pending_buf,ye.pending,0)),ye.gzindex=0,ye.status=69):(Q(ye,0),Q(ye,0),Q(ye,0),Q(ye,0),Q(ye,0),Q(ye,ye.level===9?2:2<=ye.strategy||ye.level<2?4:0),Q(ye,3),ye.status=be);else{var Ve=N+(ye.w_bits-8<<4)<<8;Ve|=(2<=ye.strategy||ye.level<2?0:ye.level<6?1:ye.level===6?2:3)<<6,ye.strstart!==0&&(Ve|=32),Ve+=31-Ve%31,ye.status=be,fe(ye,Ve),ye.strstart!==0&&(fe(ye,$.adler>>>16),fe(ye,65535&$.adler)),$.adler=1}if(ye.status===69)if(ye.gzhead.extra){for(_e=ye.pending;ye.gzindex<(65535&ye.gzhead.extra.length)&&(ye.pending!==ye.pending_buf_size||(ye.gzhead.hcrc&&ye.pending>_e&&($.adler=m($.adler,ye.pending_buf,ye.pending-_e,_e)),ee($),_e=ye.pending,ye.pending!==ye.pending_buf_size));)Q(ye,255&ye.gzhead.extra[ye.gzindex]),ye.gzindex++;ye.gzhead.hcrc&&ye.pending>_e&&($.adler=m($.adler,ye.pending_buf,ye.pending-_e,_e)),ye.gzindex===ye.gzhead.extra.length&&(ye.gzindex=0,ye.status=73)}else ye.status=73;if(ye.status===73)if(ye.gzhead.name){_e=ye.pending;do{if(ye.pending===ye.pending_buf_size&&(ye.gzhead.hcrc&&ye.pending>_e&&($.adler=m($.adler,ye.pending_buf,ye.pending-_e,_e)),ee($),_e=ye.pending,ye.pending===ye.pending_buf_size)){Le=1;break}Le=ye.gzindex<ye.gzhead.name.length?255&ye.gzhead.name.charCodeAt(ye.gzindex++):0,Q(ye,Le)}while(Le!==0);ye.gzhead.hcrc&&ye.pending>_e&&($.adler=m($.adler,ye.pending_buf,ye.pending-_e,_e)),Le===0&&(ye.gzindex=0,ye.status=91)}else ye.status=91;if(ye.status===91)if(ye.gzhead.comment){_e=ye.pending;do{if(ye.pending===ye.pending_buf_size&&(ye.gzhead.hcrc&&ye.pending>_e&&($.adler=m($.adler,ye.pending_buf,ye.pending-_e,_e)),ee($),_e=ye.pending,ye.pending===ye.pending_buf_size)){Le=1;break}Le=ye.gzindex<ye.gzhead.comment.length?255&ye.gzhead.comment.charCodeAt(ye.gzindex++):0,Q(ye,Le)}while(Le!==0);ye.gzhead.hcrc&&ye.pending>_e&&($.adler=m($.adler,ye.pending_buf,ye.pending-_e,_e)),Le===0&&(ye.status=103)}else ye.status=103;if(ye.status===103&&(ye.gzhead.hcrc?(ye.pending+2>ye.pending_buf_size&&ee($),ye.pending+2<=ye.pending_buf_size&&(Q(ye,255&$.adler),Q(ye,$.adler>>8&255),$.adler=0,ye.status=be)):ye.status=be),ye.pending!==0){if(ee($),$.avail_out===0)return ye.last_flush=-1,_}else if($.avail_in===0&&K(Ce)<=K(Me)&&Ce!==v)return X($,-5);if(ye.status===666&&$.avail_in!==0)return X($,-5);if($.avail_in!==0||ye.lookahead!==0||Ce!==y&&ye.status!==666){var $e=ye.strategy===2?function(Ne,Ee){for(var ve;;){if(Ne.lookahead===0&&(Oe(Ne),Ne.lookahead===0)){if(Ee===y)return q;break}if(Ne.match_length=0,ve=u._tr_tally(Ne,0,Ne.window[Ne.strstart]),Ne.lookahead--,Ne.strstart++,ve&&(ue(Ne,!1),Ne.strm.avail_out===0))return q}return Ne.insert=0,Ee===v?(ue(Ne,!0),Ne.strm.avail_out===0?ie:ce):Ne.last_lit&&(ue(Ne,!1),Ne.strm.avail_out===0)?q:Te}(ye,Ce):ye.strategy===3?function(Ne,Ee){for(var ve,ae,Ue,Je,nt=Ne.window;;){if(Ne.lookahead<=se){if(Oe(Ne),Ne.lookahead<=se&&Ee===y)return q;if(Ne.lookahead===0)break}if(Ne.match_length=0,Ne.lookahead>=Y&&0<Ne.strstart&&(ae=nt[Ue=Ne.strstart-1])===nt[++Ue]&&ae===nt[++Ue]&&ae===nt[++Ue]){Je=Ne.strstart+se;do;while(ae===nt[++Ue]&&ae===nt[++Ue]&&ae===nt[++Ue]&&ae===nt[++Ue]&&ae===nt[++Ue]&&ae===nt[++Ue]&&ae===nt[++Ue]&&ae===nt[++Ue]&&Ue<Je);Ne.match_length=se-(Je-Ue),Ne.match_length>Ne.lookahead&&(Ne.match_length=Ne.lookahead)}if(Ne.match_length>=Y?(ve=u._tr_tally(Ne,1,Ne.match_length-Y),Ne.lookahead-=Ne.match_length,Ne.strstart+=Ne.match_length,Ne.match_length=0):(ve=u._tr_tally(Ne,0,Ne.window[Ne.strstart]),Ne.lookahead--,Ne.strstart++),ve&&(ue(Ne,!1),Ne.strm.avail_out===0))return q}return Ne.insert=0,Ee===v?(ue(Ne,!0),Ne.strm.avail_out===0?ie:ce):Ne.last_lit&&(ue(Ne,!1),Ne.strm.avail_out===0)?q:Te}(ye,Ce):l[ye.level].func(ye,Ce);if($e!==ie&&$e!==ce||(ye.status=666),$e===q||$e===ie)return $.avail_out===0&&(ye.last_flush=-1),_;if($e===Te&&(Ce===1?u._tr_align(ye):Ce!==5&&(u._tr_stored_block(ye,0,0,!1),Ce===3&&(ne(ye.head),ye.lookahead===0&&(ye.strstart=0,ye.block_start=0,ye.insert=0))),ee($),$.avail_out===0))return ye.last_flush=-1,_}return Ce!==v?_:ye.wrap<=0?1:(ye.wrap===2?(Q(ye,255&$.adler),Q(ye,$.adler>>8&255),Q(ye,$.adler>>16&255),Q(ye,$.adler>>24&255),Q(ye,255&$.total_in),Q(ye,$.total_in>>8&255),Q(ye,$.total_in>>16&255),Q(ye,$.total_in>>24&255)):(fe(ye,$.adler>>>16),fe(ye,65535&$.adler)),ee($),0<ye.wrap&&(ye.wrap=-ye.wrap),ye.pending!==0?_:1)},o.deflateEnd=function($){var Ce;return $&&$.state?(Ce=$.state.status)!==J&&Ce!==69&&Ce!==73&&Ce!==91&&Ce!==103&&Ce!==be&&Ce!==666?X($,A):($.state=null,Ce===be?X($,-3):_):A},o.deflateSetDictionary=function($,Ce){var Me,ye,_e,Le,Ve,$e,Ne,Ee,ve=Ce.length;if(!$||!$.state||(Le=(Me=$.state).wrap)===2||Le===1&&Me.status!==J||Me.lookahead)return A;for(Le===1&&($.adler=h($.adler,Ce,ve,0)),Me.wrap=0,ve>=Me.w_size&&(Le===0&&(ne(Me.head),Me.strstart=0,Me.block_start=0,Me.insert=0),Ee=new c.Buf8(Me.w_size),c.arraySet(Ee,Ce,ve-Me.w_size,Me.w_size,0),Ce=Ee,ve=Me.w_size),Ve=$.avail_in,$e=$.next_in,Ne=$.input,$.avail_in=ve,$.next_in=0,$.input=Ce,Oe(Me);Me.lookahead>=Y;){for(ye=Me.strstart,_e=Me.lookahead-(Y-1);Me.ins_h=(Me.ins_h<<Me.hash_shift^Me.window[ye+Y-1])&Me.hash_mask,Me.prev[ye&Me.w_mask]=Me.head[Me.ins_h],Me.head[Me.ins_h]=ye,ye++,--_e;);Me.strstart=ye,Me.lookahead=Y-1,Oe(Me)}return Me.strstart+=Me.lookahead,Me.block_start=Me.strstart,Me.insert=Me.lookahead,Me.lookahead=0,Me.match_length=Me.prev_length=Y-1,Me.match_available=0,$.next_in=$e,$.input=Ne,$.avail_in=Ve,Me.wrap=Le,_},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(i,r,o){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(i,r,o){r.exports=function(l,c){var u,h,m,g,y,v,_,A,S,T,C,N,I,O,F,L,z,B,Y,se,de,J,be,q,Te;u=l.state,h=l.next_in,q=l.input,m=h+(l.avail_in-5),g=l.next_out,Te=l.output,y=g-(c-l.avail_out),v=g+(l.avail_out-257),_=u.dmax,A=u.wsize,S=u.whave,T=u.wnext,C=u.window,N=u.hold,I=u.bits,O=u.lencode,F=u.distcode,L=(1<<u.lenbits)-1,z=(1<<u.distbits)-1;e:do{I<15&&(N+=q[h++]<<I,I+=8,N+=q[h++]<<I,I+=8),B=O[N&L];t:for(;;){if(N>>>=Y=B>>>24,I-=Y,(Y=B>>>16&255)===0)Te[g++]=65535&B;else{if(!(16&Y)){if(!(64&Y)){B=O[(65535&B)+(N&(1<<Y)-1)];continue t}if(32&Y){u.mode=12;break e}l.msg="invalid literal/length code",u.mode=30;break e}se=65535&B,(Y&=15)&&(I<Y&&(N+=q[h++]<<I,I+=8),se+=N&(1<<Y)-1,N>>>=Y,I-=Y),I<15&&(N+=q[h++]<<I,I+=8,N+=q[h++]<<I,I+=8),B=F[N&z];n:for(;;){if(N>>>=Y=B>>>24,I-=Y,!(16&(Y=B>>>16&255))){if(!(64&Y)){B=F[(65535&B)+(N&(1<<Y)-1)];continue n}l.msg="invalid distance code",u.mode=30;break e}if(de=65535&B,I<(Y&=15)&&(N+=q[h++]<<I,(I+=8)<Y&&(N+=q[h++]<<I,I+=8)),_<(de+=N&(1<<Y)-1)){l.msg="invalid distance too far back",u.mode=30;break e}if(N>>>=Y,I-=Y,(Y=g-y)<de){if(S<(Y=de-Y)&&u.sane){l.msg="invalid distance too far back",u.mode=30;break e}if(be=C,(J=0)===T){if(J+=A-Y,Y<se){for(se-=Y;Te[g++]=C[J++],--Y;);J=g-de,be=Te}}else if(T<Y){if(J+=A+T-Y,(Y-=T)<se){for(se-=Y;Te[g++]=C[J++],--Y;);if(J=0,T<se){for(se-=Y=T;Te[g++]=C[J++],--Y;);J=g-de,be=Te}}}else if(J+=T-Y,Y<se){for(se-=Y;Te[g++]=C[J++],--Y;);J=g-de,be=Te}for(;2<se;)Te[g++]=be[J++],Te[g++]=be[J++],Te[g++]=be[J++],se-=3;se&&(Te[g++]=be[J++],1<se&&(Te[g++]=be[J++]))}else{for(J=g-de;Te[g++]=Te[J++],Te[g++]=Te[J++],Te[g++]=Te[J++],2<(se-=3););se&&(Te[g++]=Te[J++],1<se&&(Te[g++]=Te[J++]))}break}}break}}while(h<m&&g<v);h-=se=I>>3,N&=(1<<(I-=se<<3))-1,l.next_in=h,l.next_out=g,l.avail_in=h<m?m-h+5:5-(h-m),l.avail_out=g<v?v-g+257:257-(g-v),u.hold=N,u.bits=I}},{}],49:[function(i,r,o){var l=i("../utils/common"),c=i("./adler32"),u=i("./crc32"),h=i("./inffast"),m=i("./inftrees"),g=1,y=2,v=0,_=-2,A=1,S=852,T=592;function C(J){return(J>>>24&255)+(J>>>8&65280)+((65280&J)<<8)+((255&J)<<24)}function N(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new l.Buf16(320),this.work=new l.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function I(J){var be;return J&&J.state?(be=J.state,J.total_in=J.total_out=be.total=0,J.msg="",be.wrap&&(J.adler=1&be.wrap),be.mode=A,be.last=0,be.havedict=0,be.dmax=32768,be.head=null,be.hold=0,be.bits=0,be.lencode=be.lendyn=new l.Buf32(S),be.distcode=be.distdyn=new l.Buf32(T),be.sane=1,be.back=-1,v):_}function O(J){var be;return J&&J.state?((be=J.state).wsize=0,be.whave=0,be.wnext=0,I(J)):_}function F(J,be){var q,Te;return J&&J.state?(Te=J.state,be<0?(q=0,be=-be):(q=1+(be>>4),be<48&&(be&=15)),be&&(be<8||15<be)?_:(Te.window!==null&&Te.wbits!==be&&(Te.window=null),Te.wrap=q,Te.wbits=be,O(J))):_}function L(J,be){var q,Te;return J?(Te=new N,(J.state=Te).window=null,(q=F(J,be))!==v&&(J.state=null),q):_}var z,B,Y=!0;function se(J){if(Y){var be;for(z=new l.Buf32(512),B=new l.Buf32(32),be=0;be<144;)J.lens[be++]=8;for(;be<256;)J.lens[be++]=9;for(;be<280;)J.lens[be++]=7;for(;be<288;)J.lens[be++]=8;for(m(g,J.lens,0,288,z,0,J.work,{bits:9}),be=0;be<32;)J.lens[be++]=5;m(y,J.lens,0,32,B,0,J.work,{bits:5}),Y=!1}J.lencode=z,J.lenbits=9,J.distcode=B,J.distbits=5}function de(J,be,q,Te){var ie,ce=J.state;return ce.window===null&&(ce.wsize=1<<ce.wbits,ce.wnext=0,ce.whave=0,ce.window=new l.Buf8(ce.wsize)),Te>=ce.wsize?(l.arraySet(ce.window,be,q-ce.wsize,ce.wsize,0),ce.wnext=0,ce.whave=ce.wsize):(Te<(ie=ce.wsize-ce.wnext)&&(ie=Te),l.arraySet(ce.window,be,q-Te,ie,ce.wnext),(Te-=ie)?(l.arraySet(ce.window,be,q-Te,Te,0),ce.wnext=Te,ce.whave=ce.wsize):(ce.wnext+=ie,ce.wnext===ce.wsize&&(ce.wnext=0),ce.whave<ce.wsize&&(ce.whave+=ie))),0}o.inflateReset=O,o.inflateReset2=F,o.inflateResetKeep=I,o.inflateInit=function(J){return L(J,15)},o.inflateInit2=L,o.inflate=function(J,be){var q,Te,ie,ce,X,K,ne,ee,ue,Q,fe,Se,Oe,Ie,je,Be,Fe,Ae,ke,ze,$,Ce,Me,ye,_e=0,Le=new l.Buf8(4),Ve=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!J||!J.state||!J.output||!J.input&&J.avail_in!==0)return _;(q=J.state).mode===12&&(q.mode=13),X=J.next_out,ie=J.output,ne=J.avail_out,ce=J.next_in,Te=J.input,K=J.avail_in,ee=q.hold,ue=q.bits,Q=K,fe=ne,Ce=v;e:for(;;)switch(q.mode){case A:if(q.wrap===0){q.mode=13;break}for(;ue<16;){if(K===0)break e;K--,ee+=Te[ce++]<<ue,ue+=8}if(2&q.wrap&&ee===35615){Le[q.check=0]=255&ee,Le[1]=ee>>>8&255,q.check=u(q.check,Le,2,0),ue=ee=0,q.mode=2;break}if(q.flags=0,q.head&&(q.head.done=!1),!(1&q.wrap)||(((255&ee)<<8)+(ee>>8))%31){J.msg="incorrect header check",q.mode=30;break}if((15&ee)!=8){J.msg="unknown compression method",q.mode=30;break}if(ue-=4,$=8+(15&(ee>>>=4)),q.wbits===0)q.wbits=$;else if($>q.wbits){J.msg="invalid window size",q.mode=30;break}q.dmax=1<<$,J.adler=q.check=1,q.mode=512&ee?10:12,ue=ee=0;break;case 2:for(;ue<16;){if(K===0)break e;K--,ee+=Te[ce++]<<ue,ue+=8}if(q.flags=ee,(255&q.flags)!=8){J.msg="unknown compression method",q.mode=30;break}if(57344&q.flags){J.msg="unknown header flags set",q.mode=30;break}q.head&&(q.head.text=ee>>8&1),512&q.flags&&(Le[0]=255&ee,Le[1]=ee>>>8&255,q.check=u(q.check,Le,2,0)),ue=ee=0,q.mode=3;case 3:for(;ue<32;){if(K===0)break e;K--,ee+=Te[ce++]<<ue,ue+=8}q.head&&(q.head.time=ee),512&q.flags&&(Le[0]=255&ee,Le[1]=ee>>>8&255,Le[2]=ee>>>16&255,Le[3]=ee>>>24&255,q.check=u(q.check,Le,4,0)),ue=ee=0,q.mode=4;case 4:for(;ue<16;){if(K===0)break e;K--,ee+=Te[ce++]<<ue,ue+=8}q.head&&(q.head.xflags=255&ee,q.head.os=ee>>8),512&q.flags&&(Le[0]=255&ee,Le[1]=ee>>>8&255,q.check=u(q.check,Le,2,0)),ue=ee=0,q.mode=5;case 5:if(1024&q.flags){for(;ue<16;){if(K===0)break e;K--,ee+=Te[ce++]<<ue,ue+=8}q.length=ee,q.head&&(q.head.extra_len=ee),512&q.flags&&(Le[0]=255&ee,Le[1]=ee>>>8&255,q.check=u(q.check,Le,2,0)),ue=ee=0}else q.head&&(q.head.extra=null);q.mode=6;case 6:if(1024&q.flags&&(K<(Se=q.length)&&(Se=K),Se&&(q.head&&($=q.head.extra_len-q.length,q.head.extra||(q.head.extra=new Array(q.head.extra_len)),l.arraySet(q.head.extra,Te,ce,Se,$)),512&q.flags&&(q.check=u(q.check,Te,Se,ce)),K-=Se,ce+=Se,q.length-=Se),q.length))break e;q.length=0,q.mode=7;case 7:if(2048&q.flags){if(K===0)break e;for(Se=0;$=Te[ce+Se++],q.head&&$&&q.length<65536&&(q.head.name+=String.fromCharCode($)),$&&Se<K;);if(512&q.flags&&(q.check=u(q.check,Te,Se,ce)),K-=Se,ce+=Se,$)break e}else q.head&&(q.head.name=null);q.length=0,q.mode=8;case 8:if(4096&q.flags){if(K===0)break e;for(Se=0;$=Te[ce+Se++],q.head&&$&&q.length<65536&&(q.head.comment+=String.fromCharCode($)),$&&Se<K;);if(512&q.flags&&(q.check=u(q.check,Te,Se,ce)),K-=Se,ce+=Se,$)break e}else q.head&&(q.head.comment=null);q.mode=9;case 9:if(512&q.flags){for(;ue<16;){if(K===0)break e;K--,ee+=Te[ce++]<<ue,ue+=8}if(ee!==(65535&q.check)){J.msg="header crc mismatch",q.mode=30;break}ue=ee=0}q.head&&(q.head.hcrc=q.flags>>9&1,q.head.done=!0),J.adler=q.check=0,q.mode=12;break;case 10:for(;ue<32;){if(K===0)break e;K--,ee+=Te[ce++]<<ue,ue+=8}J.adler=q.check=C(ee),ue=ee=0,q.mode=11;case 11:if(q.havedict===0)return J.next_out=X,J.avail_out=ne,J.next_in=ce,J.avail_in=K,q.hold=ee,q.bits=ue,2;J.adler=q.check=1,q.mode=12;case 12:if(be===5||be===6)break e;case 13:if(q.last){ee>>>=7&ue,ue-=7&ue,q.mode=27;break}for(;ue<3;){if(K===0)break e;K--,ee+=Te[ce++]<<ue,ue+=8}switch(q.last=1&ee,ue-=1,3&(ee>>>=1)){case 0:q.mode=14;break;case 1:if(se(q),q.mode=20,be!==6)break;ee>>>=2,ue-=2;break e;case 2:q.mode=17;break;case 3:J.msg="invalid block type",q.mode=30}ee>>>=2,ue-=2;break;case 14:for(ee>>>=7&ue,ue-=7&ue;ue<32;){if(K===0)break e;K--,ee+=Te[ce++]<<ue,ue+=8}if((65535&ee)!=(ee>>>16^65535)){J.msg="invalid stored block lengths",q.mode=30;break}if(q.length=65535&ee,ue=ee=0,q.mode=15,be===6)break e;case 15:q.mode=16;case 16:if(Se=q.length){if(K<Se&&(Se=K),ne<Se&&(Se=ne),Se===0)break e;l.arraySet(ie,Te,ce,Se,X),K-=Se,ce+=Se,ne-=Se,X+=Se,q.length-=Se;break}q.mode=12;break;case 17:for(;ue<14;){if(K===0)break e;K--,ee+=Te[ce++]<<ue,ue+=8}if(q.nlen=257+(31&ee),ee>>>=5,ue-=5,q.ndist=1+(31&ee),ee>>>=5,ue-=5,q.ncode=4+(15&ee),ee>>>=4,ue-=4,286<q.nlen||30<q.ndist){J.msg="too many length or distance symbols",q.mode=30;break}q.have=0,q.mode=18;case 18:for(;q.have<q.ncode;){for(;ue<3;){if(K===0)break e;K--,ee+=Te[ce++]<<ue,ue+=8}q.lens[Ve[q.have++]]=7&ee,ee>>>=3,ue-=3}for(;q.have<19;)q.lens[Ve[q.have++]]=0;if(q.lencode=q.lendyn,q.lenbits=7,Me={bits:q.lenbits},Ce=m(0,q.lens,0,19,q.lencode,0,q.work,Me),q.lenbits=Me.bits,Ce){J.msg="invalid code lengths set",q.mode=30;break}q.have=0,q.mode=19;case 19:for(;q.have<q.nlen+q.ndist;){for(;Be=(_e=q.lencode[ee&(1<<q.lenbits)-1])>>>16&255,Fe=65535&_e,!((je=_e>>>24)<=ue);){if(K===0)break e;K--,ee+=Te[ce++]<<ue,ue+=8}if(Fe<16)ee>>>=je,ue-=je,q.lens[q.have++]=Fe;else{if(Fe===16){for(ye=je+2;ue<ye;){if(K===0)break e;K--,ee+=Te[ce++]<<ue,ue+=8}if(ee>>>=je,ue-=je,q.have===0){J.msg="invalid bit length repeat",q.mode=30;break}$=q.lens[q.have-1],Se=3+(3&ee),ee>>>=2,ue-=2}else if(Fe===17){for(ye=je+3;ue<ye;){if(K===0)break e;K--,ee+=Te[ce++]<<ue,ue+=8}ue-=je,$=0,Se=3+(7&(ee>>>=je)),ee>>>=3,ue-=3}else{for(ye=je+7;ue<ye;){if(K===0)break e;K--,ee+=Te[ce++]<<ue,ue+=8}ue-=je,$=0,Se=11+(127&(ee>>>=je)),ee>>>=7,ue-=7}if(q.have+Se>q.nlen+q.ndist){J.msg="invalid bit length repeat",q.mode=30;break}for(;Se--;)q.lens[q.have++]=$}}if(q.mode===30)break;if(q.lens[256]===0){J.msg="invalid code -- missing end-of-block",q.mode=30;break}if(q.lenbits=9,Me={bits:q.lenbits},Ce=m(g,q.lens,0,q.nlen,q.lencode,0,q.work,Me),q.lenbits=Me.bits,Ce){J.msg="invalid literal/lengths set",q.mode=30;break}if(q.distbits=6,q.distcode=q.distdyn,Me={bits:q.distbits},Ce=m(y,q.lens,q.nlen,q.ndist,q.distcode,0,q.work,Me),q.distbits=Me.bits,Ce){J.msg="invalid distances set",q.mode=30;break}if(q.mode=20,be===6)break e;case 20:q.mode=21;case 21:if(6<=K&&258<=ne){J.next_out=X,J.avail_out=ne,J.next_in=ce,J.avail_in=K,q.hold=ee,q.bits=ue,h(J,fe),X=J.next_out,ie=J.output,ne=J.avail_out,ce=J.next_in,Te=J.input,K=J.avail_in,ee=q.hold,ue=q.bits,q.mode===12&&(q.back=-1);break}for(q.back=0;Be=(_e=q.lencode[ee&(1<<q.lenbits)-1])>>>16&255,Fe=65535&_e,!((je=_e>>>24)<=ue);){if(K===0)break e;K--,ee+=Te[ce++]<<ue,ue+=8}if(Be&&!(240&Be)){for(Ae=je,ke=Be,ze=Fe;Be=(_e=q.lencode[ze+((ee&(1<<Ae+ke)-1)>>Ae)])>>>16&255,Fe=65535&_e,!(Ae+(je=_e>>>24)<=ue);){if(K===0)break e;K--,ee+=Te[ce++]<<ue,ue+=8}ee>>>=Ae,ue-=Ae,q.back+=Ae}if(ee>>>=je,ue-=je,q.back+=je,q.length=Fe,Be===0){q.mode=26;break}if(32&Be){q.back=-1,q.mode=12;break}if(64&Be){J.msg="invalid literal/length code",q.mode=30;break}q.extra=15&Be,q.mode=22;case 22:if(q.extra){for(ye=q.extra;ue<ye;){if(K===0)break e;K--,ee+=Te[ce++]<<ue,ue+=8}q.length+=ee&(1<<q.extra)-1,ee>>>=q.extra,ue-=q.extra,q.back+=q.extra}q.was=q.length,q.mode=23;case 23:for(;Be=(_e=q.distcode[ee&(1<<q.distbits)-1])>>>16&255,Fe=65535&_e,!((je=_e>>>24)<=ue);){if(K===0)break e;K--,ee+=Te[ce++]<<ue,ue+=8}if(!(240&Be)){for(Ae=je,ke=Be,ze=Fe;Be=(_e=q.distcode[ze+((ee&(1<<Ae+ke)-1)>>Ae)])>>>16&255,Fe=65535&_e,!(Ae+(je=_e>>>24)<=ue);){if(K===0)break e;K--,ee+=Te[ce++]<<ue,ue+=8}ee>>>=Ae,ue-=Ae,q.back+=Ae}if(ee>>>=je,ue-=je,q.back+=je,64&Be){J.msg="invalid distance code",q.mode=30;break}q.offset=Fe,q.extra=15&Be,q.mode=24;case 24:if(q.extra){for(ye=q.extra;ue<ye;){if(K===0)break e;K--,ee+=Te[ce++]<<ue,ue+=8}q.offset+=ee&(1<<q.extra)-1,ee>>>=q.extra,ue-=q.extra,q.back+=q.extra}if(q.offset>q.dmax){J.msg="invalid distance too far back",q.mode=30;break}q.mode=25;case 25:if(ne===0)break e;if(Se=fe-ne,q.offset>Se){if((Se=q.offset-Se)>q.whave&&q.sane){J.msg="invalid distance too far back",q.mode=30;break}Oe=Se>q.wnext?(Se-=q.wnext,q.wsize-Se):q.wnext-Se,Se>q.length&&(Se=q.length),Ie=q.window}else Ie=ie,Oe=X-q.offset,Se=q.length;for(ne<Se&&(Se=ne),ne-=Se,q.length-=Se;ie[X++]=Ie[Oe++],--Se;);q.length===0&&(q.mode=21);break;case 26:if(ne===0)break e;ie[X++]=q.length,ne--,q.mode=21;break;case 27:if(q.wrap){for(;ue<32;){if(K===0)break e;K--,ee|=Te[ce++]<<ue,ue+=8}if(fe-=ne,J.total_out+=fe,q.total+=fe,fe&&(J.adler=q.check=q.flags?u(q.check,ie,fe,X-fe):c(q.check,ie,fe,X-fe)),fe=ne,(q.flags?ee:C(ee))!==q.check){J.msg="incorrect data check",q.mode=30;break}ue=ee=0}q.mode=28;case 28:if(q.wrap&&q.flags){for(;ue<32;){if(K===0)break e;K--,ee+=Te[ce++]<<ue,ue+=8}if(ee!==(4294967295&q.total)){J.msg="incorrect length check",q.mode=30;break}ue=ee=0}q.mode=29;case 29:Ce=1;break e;case 30:Ce=-3;break e;case 31:return-4;case 32:default:return _}return J.next_out=X,J.avail_out=ne,J.next_in=ce,J.avail_in=K,q.hold=ee,q.bits=ue,(q.wsize||fe!==J.avail_out&&q.mode<30&&(q.mode<27||be!==4))&&de(J,J.output,J.next_out,fe-J.avail_out)?(q.mode=31,-4):(Q-=J.avail_in,fe-=J.avail_out,J.total_in+=Q,J.total_out+=fe,q.total+=fe,q.wrap&&fe&&(J.adler=q.check=q.flags?u(q.check,ie,fe,J.next_out-fe):c(q.check,ie,fe,J.next_out-fe)),J.data_type=q.bits+(q.last?64:0)+(q.mode===12?128:0)+(q.mode===20||q.mode===15?256:0),(Q==0&&fe===0||be===4)&&Ce===v&&(Ce=-5),Ce)},o.inflateEnd=function(J){if(!J||!J.state)return _;var be=J.state;return be.window&&(be.window=null),J.state=null,v},o.inflateGetHeader=function(J,be){var q;return J&&J.state&&2&(q=J.state).wrap?((q.head=be).done=!1,v):_},o.inflateSetDictionary=function(J,be){var q,Te=be.length;return J&&J.state?(q=J.state).wrap!==0&&q.mode!==11?_:q.mode===11&&c(1,be,Te,0)!==q.check?-3:de(J,be,Te,Te)?(q.mode=31,-4):(q.havedict=1,v):_},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(i,r,o){var l=i("../utils/common"),c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(g,y,v,_,A,S,T,C){var N,I,O,F,L,z,B,Y,se,de=C.bits,J=0,be=0,q=0,Te=0,ie=0,ce=0,X=0,K=0,ne=0,ee=0,ue=null,Q=0,fe=new l.Buf16(16),Se=new l.Buf16(16),Oe=null,Ie=0;for(J=0;J<=15;J++)fe[J]=0;for(be=0;be<_;be++)fe[y[v+be]]++;for(ie=de,Te=15;1<=Te&&fe[Te]===0;Te--);if(Te<ie&&(ie=Te),Te===0)return A[S++]=20971520,A[S++]=20971520,C.bits=1,0;for(q=1;q<Te&&fe[q]===0;q++);for(ie<q&&(ie=q),J=K=1;J<=15;J++)if(K<<=1,(K-=fe[J])<0)return-1;if(0<K&&(g===0||Te!==1))return-1;for(Se[1]=0,J=1;J<15;J++)Se[J+1]=Se[J]+fe[J];for(be=0;be<_;be++)y[v+be]!==0&&(T[Se[y[v+be]]++]=be);if(z=g===0?(ue=Oe=T,19):g===1?(ue=c,Q-=257,Oe=u,Ie-=257,256):(ue=h,Oe=m,-1),J=q,L=S,X=be=ee=0,O=-1,F=(ne=1<<(ce=ie))-1,g===1&&852<ne||g===2&&592<ne)return 1;for(;;){for(B=J-X,se=T[be]<z?(Y=0,T[be]):T[be]>z?(Y=Oe[Ie+T[be]],ue[Q+T[be]]):(Y=96,0),N=1<<J-X,q=I=1<<ce;A[L+(ee>>X)+(I-=N)]=B<<24|Y<<16|se|0,I!==0;);for(N=1<<J-1;ee&N;)N>>=1;if(N!==0?(ee&=N-1,ee+=N):ee=0,be++,--fe[J]==0){if(J===Te)break;J=y[v+T[be]]}if(ie<J&&(ee&F)!==O){for(X===0&&(X=ie),L+=q,K=1<<(ce=J-X);ce+X<Te&&!((K-=fe[ce+X])<=0);)ce++,K<<=1;if(ne+=1<<ce,g===1&&852<ne||g===2&&592<ne)return 1;A[O=ee&F]=ie<<24|ce<<16|L-S|0}}return ee!==0&&(A[L+ee]=J-X<<24|64<<16|0),C.bits=ie,0}},{"../utils/common":41}],51:[function(i,r,o){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(i,r,o){var l=i("../utils/common"),c=0,u=1;function h(_e){for(var Le=_e.length;0<=--Le;)_e[Le]=0}var m=0,g=29,y=256,v=y+1+g,_=30,A=19,S=2*v+1,T=15,C=16,N=7,I=256,O=16,F=17,L=18,z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],B=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],se=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],de=new Array(2*(v+2));h(de);var J=new Array(2*_);h(J);var be=new Array(512);h(be);var q=new Array(256);h(q);var Te=new Array(g);h(Te);var ie,ce,X,K=new Array(_);function ne(_e,Le,Ve,$e,Ne){this.static_tree=_e,this.extra_bits=Le,this.extra_base=Ve,this.elems=$e,this.max_length=Ne,this.has_stree=_e&&_e.length}function ee(_e,Le){this.dyn_tree=_e,this.max_code=0,this.stat_desc=Le}function ue(_e){return _e<256?be[_e]:be[256+(_e>>>7)]}function Q(_e,Le){_e.pending_buf[_e.pending++]=255&Le,_e.pending_buf[_e.pending++]=Le>>>8&255}function fe(_e,Le,Ve){_e.bi_valid>C-Ve?(_e.bi_buf|=Le<<_e.bi_valid&65535,Q(_e,_e.bi_buf),_e.bi_buf=Le>>C-_e.bi_valid,_e.bi_valid+=Ve-C):(_e.bi_buf|=Le<<_e.bi_valid&65535,_e.bi_valid+=Ve)}function Se(_e,Le,Ve){fe(_e,Ve[2*Le],Ve[2*Le+1])}function Oe(_e,Le){for(var Ve=0;Ve|=1&_e,_e>>>=1,Ve<<=1,0<--Le;);return Ve>>>1}function Ie(_e,Le,Ve){var $e,Ne,Ee=new Array(T+1),ve=0;for($e=1;$e<=T;$e++)Ee[$e]=ve=ve+Ve[$e-1]<<1;for(Ne=0;Ne<=Le;Ne++){var ae=_e[2*Ne+1];ae!==0&&(_e[2*Ne]=Oe(Ee[ae]++,ae))}}function je(_e){var Le;for(Le=0;Le<v;Le++)_e.dyn_ltree[2*Le]=0;for(Le=0;Le<_;Le++)_e.dyn_dtree[2*Le]=0;for(Le=0;Le<A;Le++)_e.bl_tree[2*Le]=0;_e.dyn_ltree[2*I]=1,_e.opt_len=_e.static_len=0,_e.last_lit=_e.matches=0}function Be(_e){8<_e.bi_valid?Q(_e,_e.bi_buf):0<_e.bi_valid&&(_e.pending_buf[_e.pending++]=_e.bi_buf),_e.bi_buf=0,_e.bi_valid=0}function Fe(_e,Le,Ve,$e){var Ne=2*Le,Ee=2*Ve;return _e[Ne]<_e[Ee]||_e[Ne]===_e[Ee]&&$e[Le]<=$e[Ve]}function Ae(_e,Le,Ve){for(var $e=_e.heap[Ve],Ne=Ve<<1;Ne<=_e.heap_len&&(Ne<_e.heap_len&&Fe(Le,_e.heap[Ne+1],_e.heap[Ne],_e.depth)&&Ne++,!Fe(Le,$e,_e.heap[Ne],_e.depth));)_e.heap[Ve]=_e.heap[Ne],Ve=Ne,Ne<<=1;_e.heap[Ve]=$e}function ke(_e,Le,Ve){var $e,Ne,Ee,ve,ae=0;if(_e.last_lit!==0)for(;$e=_e.pending_buf[_e.d_buf+2*ae]<<8|_e.pending_buf[_e.d_buf+2*ae+1],Ne=_e.pending_buf[_e.l_buf+ae],ae++,$e===0?Se(_e,Ne,Le):(Se(_e,(Ee=q[Ne])+y+1,Le),(ve=z[Ee])!==0&&fe(_e,Ne-=Te[Ee],ve),Se(_e,Ee=ue(--$e),Ve),(ve=B[Ee])!==0&&fe(_e,$e-=K[Ee],ve)),ae<_e.last_lit;);Se(_e,I,Le)}function ze(_e,Le){var Ve,$e,Ne,Ee=Le.dyn_tree,ve=Le.stat_desc.static_tree,ae=Le.stat_desc.has_stree,Ue=Le.stat_desc.elems,Je=-1;for(_e.heap_len=0,_e.heap_max=S,Ve=0;Ve<Ue;Ve++)Ee[2*Ve]!==0?(_e.heap[++_e.heap_len]=Je=Ve,_e.depth[Ve]=0):Ee[2*Ve+1]=0;for(;_e.heap_len<2;)Ee[2*(Ne=_e.heap[++_e.heap_len]=Je<2?++Je:0)]=1,_e.depth[Ne]=0,_e.opt_len--,ae&&(_e.static_len-=ve[2*Ne+1]);for(Le.max_code=Je,Ve=_e.heap_len>>1;1<=Ve;Ve--)Ae(_e,Ee,Ve);for(Ne=Ue;Ve=_e.heap[1],_e.heap[1]=_e.heap[_e.heap_len--],Ae(_e,Ee,1),$e=_e.heap[1],_e.heap[--_e.heap_max]=Ve,_e.heap[--_e.heap_max]=$e,Ee[2*Ne]=Ee[2*Ve]+Ee[2*$e],_e.depth[Ne]=(_e.depth[Ve]>=_e.depth[$e]?_e.depth[Ve]:_e.depth[$e])+1,Ee[2*Ve+1]=Ee[2*$e+1]=Ne,_e.heap[1]=Ne++,Ae(_e,Ee,1),2<=_e.heap_len;);_e.heap[--_e.heap_max]=_e.heap[1],function(nt,dt){var ft,Ot,Ct,$t,At,Zt,qt=dt.dyn_tree,En=dt.max_code,Or=dt.stat_desc.static_tree,$i=dt.stat_desc.has_stree,qi=dt.stat_desc.extra_bits,Pi=dt.stat_desc.extra_base,Yn=dt.stat_desc.max_length,bi=0;for($t=0;$t<=T;$t++)nt.bl_count[$t]=0;for(qt[2*nt.heap[nt.heap_max]+1]=0,ft=nt.heap_max+1;ft<S;ft++)Yn<($t=qt[2*qt[2*(Ot=nt.heap[ft])+1]+1]+1)&&($t=Yn,bi++),qt[2*Ot+1]=$t,En<Ot||(nt.bl_count[$t]++,At=0,Pi<=Ot&&(At=qi[Ot-Pi]),Zt=qt[2*Ot],nt.opt_len+=Zt*($t+At),$i&&(nt.static_len+=Zt*(Or[2*Ot+1]+At)));if(bi!==0){do{for($t=Yn-1;nt.bl_count[$t]===0;)$t--;nt.bl_count[$t]--,nt.bl_count[$t+1]+=2,nt.bl_count[Yn]--,bi-=2}while(0<bi);for($t=Yn;$t!==0;$t--)for(Ot=nt.bl_count[$t];Ot!==0;)En<(Ct=nt.heap[--ft])||(qt[2*Ct+1]!==$t&&(nt.opt_len+=($t-qt[2*Ct+1])*qt[2*Ct],qt[2*Ct+1]=$t),Ot--)}}(_e,Le),Ie(Ee,Je,_e.bl_count)}function $(_e,Le,Ve){var $e,Ne,Ee=-1,ve=Le[1],ae=0,Ue=7,Je=4;for(ve===0&&(Ue=138,Je=3),Le[2*(Ve+1)+1]=65535,$e=0;$e<=Ve;$e++)Ne=ve,ve=Le[2*($e+1)+1],++ae<Ue&&Ne===ve||(ae<Je?_e.bl_tree[2*Ne]+=ae:Ne!==0?(Ne!==Ee&&_e.bl_tree[2*Ne]++,_e.bl_tree[2*O]++):ae<=10?_e.bl_tree[2*F]++:_e.bl_tree[2*L]++,Ee=Ne,Je=(ae=0)===ve?(Ue=138,3):Ne===ve?(Ue=6,3):(Ue=7,4))}function Ce(_e,Le,Ve){var $e,Ne,Ee=-1,ve=Le[1],ae=0,Ue=7,Je=4;for(ve===0&&(Ue=138,Je=3),$e=0;$e<=Ve;$e++)if(Ne=ve,ve=Le[2*($e+1)+1],!(++ae<Ue&&Ne===ve)){if(ae<Je)for(;Se(_e,Ne,_e.bl_tree),--ae!=0;);else Ne!==0?(Ne!==Ee&&(Se(_e,Ne,_e.bl_tree),ae--),Se(_e,O,_e.bl_tree),fe(_e,ae-3,2)):ae<=10?(Se(_e,F,_e.bl_tree),fe(_e,ae-3,3)):(Se(_e,L,_e.bl_tree),fe(_e,ae-11,7));Ee=Ne,Je=(ae=0)===ve?(Ue=138,3):Ne===ve?(Ue=6,3):(Ue=7,4)}}h(K);var Me=!1;function ye(_e,Le,Ve,$e){fe(_e,(m<<1)+($e?1:0),3),function(Ne,Ee,ve,ae){Be(Ne),Q(Ne,ve),Q(Ne,~ve),l.arraySet(Ne.pending_buf,Ne.window,Ee,ve,Ne.pending),Ne.pending+=ve}(_e,Le,Ve)}o._tr_init=function(_e){Me||(function(){var Le,Ve,$e,Ne,Ee,ve=new Array(T+1);for(Ne=$e=0;Ne<g-1;Ne++)for(Te[Ne]=$e,Le=0;Le<1<<z[Ne];Le++)q[$e++]=Ne;for(q[$e-1]=Ne,Ne=Ee=0;Ne<16;Ne++)for(K[Ne]=Ee,Le=0;Le<1<<B[Ne];Le++)be[Ee++]=Ne;for(Ee>>=7;Ne<_;Ne++)for(K[Ne]=Ee<<7,Le=0;Le<1<<B[Ne]-7;Le++)be[256+Ee++]=Ne;for(Ve=0;Ve<=T;Ve++)ve[Ve]=0;for(Le=0;Le<=143;)de[2*Le+1]=8,Le++,ve[8]++;for(;Le<=255;)de[2*Le+1]=9,Le++,ve[9]++;for(;Le<=279;)de[2*Le+1]=7,Le++,ve[7]++;for(;Le<=287;)de[2*Le+1]=8,Le++,ve[8]++;for(Ie(de,v+1,ve),Le=0;Le<_;Le++)J[2*Le+1]=5,J[2*Le]=Oe(Le,5);ie=new ne(de,z,y+1,v,T),ce=new ne(J,B,0,_,T),X=new ne(new Array(0),Y,0,A,N)}(),Me=!0),_e.l_desc=new ee(_e.dyn_ltree,ie),_e.d_desc=new ee(_e.dyn_dtree,ce),_e.bl_desc=new ee(_e.bl_tree,X),_e.bi_buf=0,_e.bi_valid=0,je(_e)},o._tr_stored_block=ye,o._tr_flush_block=function(_e,Le,Ve,$e){var Ne,Ee,ve=0;0<_e.level?(_e.strm.data_type===2&&(_e.strm.data_type=function(ae){var Ue,Je=4093624447;for(Ue=0;Ue<=31;Ue++,Je>>>=1)if(1&Je&&ae.dyn_ltree[2*Ue]!==0)return c;if(ae.dyn_ltree[18]!==0||ae.dyn_ltree[20]!==0||ae.dyn_ltree[26]!==0)return u;for(Ue=32;Ue<y;Ue++)if(ae.dyn_ltree[2*Ue]!==0)return u;return c}(_e)),ze(_e,_e.l_desc),ze(_e,_e.d_desc),ve=function(ae){var Ue;for($(ae,ae.dyn_ltree,ae.l_desc.max_code),$(ae,ae.dyn_dtree,ae.d_desc.max_code),ze(ae,ae.bl_desc),Ue=A-1;3<=Ue&&ae.bl_tree[2*se[Ue]+1]===0;Ue--);return ae.opt_len+=3*(Ue+1)+5+5+4,Ue}(_e),Ne=_e.opt_len+3+7>>>3,(Ee=_e.static_len+3+7>>>3)<=Ne&&(Ne=Ee)):Ne=Ee=Ve+5,Ve+4<=Ne&&Le!==-1?ye(_e,Le,Ve,$e):_e.strategy===4||Ee===Ne?(fe(_e,2+($e?1:0),3),ke(_e,de,J)):(fe(_e,4+($e?1:0),3),function(ae,Ue,Je,nt){var dt;for(fe(ae,Ue-257,5),fe(ae,Je-1,5),fe(ae,nt-4,4),dt=0;dt<nt;dt++)fe(ae,ae.bl_tree[2*se[dt]+1],3);Ce(ae,ae.dyn_ltree,Ue-1),Ce(ae,ae.dyn_dtree,Je-1)}(_e,_e.l_desc.max_code+1,_e.d_desc.max_code+1,ve+1),ke(_e,_e.dyn_ltree,_e.dyn_dtree)),je(_e),$e&&Be(_e)},o._tr_tally=function(_e,Le,Ve){return _e.pending_buf[_e.d_buf+2*_e.last_lit]=Le>>>8&255,_e.pending_buf[_e.d_buf+2*_e.last_lit+1]=255&Le,_e.pending_buf[_e.l_buf+_e.last_lit]=255&Ve,_e.last_lit++,Le===0?_e.dyn_ltree[2*Ve]++:(_e.matches++,Le--,_e.dyn_ltree[2*(q[Ve]+y+1)]++,_e.dyn_dtree[2*ue(Le)]++),_e.last_lit===_e.lit_bufsize-1},o._tr_align=function(_e){fe(_e,2,3),Se(_e,I,de),function(Le){Le.bi_valid===16?(Q(Le,Le.bi_buf),Le.bi_buf=0,Le.bi_valid=0):8<=Le.bi_valid&&(Le.pending_buf[Le.pending++]=255&Le.bi_buf,Le.bi_buf>>=8,Le.bi_valid-=8)}(_e)}},{"../utils/common":41}],53:[function(i,r,o){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(i,r,o){(function(l){(function(c,u){if(!c.setImmediate){var h,m,g,y,v=1,_={},A=!1,S=c.document,T=Object.getPrototypeOf&&Object.getPrototypeOf(c);T=T&&T.setTimeout?T:c,h={}.toString.call(c.process)==="[object process]"?function(O){process.nextTick(function(){N(O)})}:function(){if(c.postMessage&&!c.importScripts){var O=!0,F=c.onmessage;return c.onmessage=function(){O=!1},c.postMessage("","*"),c.onmessage=F,O}}()?(y="setImmediate$"+Math.random()+"$",c.addEventListener?c.addEventListener("message",I,!1):c.attachEvent("onmessage",I),function(O){c.postMessage(y+O,"*")}):c.MessageChannel?((g=new MessageChannel).port1.onmessage=function(O){N(O.data)},function(O){g.port2.postMessage(O)}):S&&"onreadystatechange"in S.createElement("script")?(m=S.documentElement,function(O){var F=S.createElement("script");F.onreadystatechange=function(){N(O),F.onreadystatechange=null,m.removeChild(F),F=null},m.appendChild(F)}):function(O){setTimeout(N,0,O)},T.setImmediate=function(O){typeof O!="function"&&(O=new Function(""+O));for(var F=new Array(arguments.length-1),L=0;L<F.length;L++)F[L]=arguments[L+1];var z={callback:O,args:F};return _[v]=z,h(v),v++},T.clearImmediate=C}function C(O){delete _[O]}function N(O){if(A)setTimeout(N,0,O);else{var F=_[O];if(F){A=!0;try{(function(L){var z=L.callback,B=L.args;switch(B.length){case 0:z();break;case 1:z(B[0]);break;case 2:z(B[0],B[1]);break;case 3:z(B[0],B[1],B[2]);break;default:z.apply(u,B)}})(F)}finally{C(O),A=!1}}}}function I(O){O.source===c&&typeof O.data=="string"&&O.data.indexOf(y)===0&&N(+O.data.slice(y.length))}})(typeof self>"u"?l===void 0?this:l:self)}).call(this,typeof Gt<"u"?Gt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(uee);var L2e=uee.exports,U2e=$3,B2e=L2e;dA.openArrayBuffer=z2e;dA.splitPath=V2e;dA.joinPath=W2e;function z2e(n){return B2e.loadAsync(n).then(function(e){function i(c){return e.file(c)!==null}function r(c,u){return e.file(c).async("uint8array").then(function(h){if(u==="base64")return U2e.fromByteArray(h);if(u){var m=new TextDecoder(u);return m.decode(h)}else return h})}function o(c,u){e.file(c,u)}function l(){return e.generateAsync({type:"arraybuffer"})}return{exists:i,read:r,write:o,toArrayBuffer:l}})}function V2e(n){var e=n.lastIndexOf("/");return e===-1?{dirname:"",basename:n}:{dirname:n.substring(0,e),basename:n.substring(e+1)}}function W2e(){var n=Array.prototype.filter.call(arguments,function(i){return i}),e=[];return n.forEach(function(i){/^\//.test(i)?e=[i]:e.push(i)}),e.join("/")}var uL={},Df={},ux={},q3=kr;ux.Element=dx;ux.element=function(n,e,i){return new dx(n,e,i)};ux.text=function(n){return{type:"text",value:n}};var dee=ux.emptyElement={first:function(){return null},firstOrEmpty:function(){return dee},attributes:{},children:[]};function dx(n,e,i){this.type="element",this.name=n,this.attributes=e||{},this.children=i||[]}dx.prototype.first=function(n){return q3.find(this.children,function(e){return e.name===n})};dx.prototype.firstOrEmpty=function(n){return this.first(n)||dee};dx.prototype.getElementsByTagName=function(n){var e=q3.filter(this.children,function(i){return i.name===n});return hee(e)};dx.prototype.text=function(){if(this.children.length===0)return"";if(this.children.length!==1||this.children[0].type!=="text")throw new Error("Not implemented");return this.children[0].value};var $2e={getElementsByTagName:function(n){return hee(q3.flatten(this.map(function(e){return e.getElementsByTagName(n)},!0)))}};function hee(n){return q3.extend(n,$2e)}var fee={},dL={},H3={},Md={},Nf={};function q2e(n,e,i){if(i===void 0&&(i=Array.prototype),n&&typeof i.find=="function")return i.find.call(n,e);for(var r=0;r<n.length;r++)if(Object.prototype.hasOwnProperty.call(n,r)){var o=n[r];if(e.call(void 0,o,r,n))return o}}function hL(n,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(n):n}function H2e(n,e){if(n===null||typeof n!="object")throw new TypeError("target is not an object");for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}var pee=hL({HTML:"text/html",isHTML:function(n){return n===pee.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),mee=hL({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(n){return n===mee.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});Nf.assign=H2e;Nf.find=q2e;Nf.freeze=hL;Nf.MIME_TYPE=pee;Nf.NAMESPACE=mee;var gee=Nf,Cd=gee.find,mE=gee.NAMESPACE;function G2e(n){return n!==""}function X2e(n){return n?n.split(/[\t\n\f\r ]+/).filter(G2e):[]}function Y2e(n,e){return n.hasOwnProperty(e)||(n[e]=!0),n}function Nq(n){if(!n)return[];var e=X2e(n);return Object.keys(e.reduce(Y2e,{}))}function K2e(n){return function(e){return n&&n.indexOf(e)!==-1}}function hA(n,e){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}function Ca(n,e){var i=n.prototype;if(!(i instanceof e)){let r=function(){};r.prototype=e.prototype,r=new r,hA(i,r),n.prototype=i=r}i.constructor!=n&&(typeof n!="function"&&console.error("unknown Class:"+n),i.constructor=n)}var Da={},au=Da.ELEMENT_NODE=1,H1=Da.ATTRIBUTE_NODE=2,g5=Da.TEXT_NODE=3,bee=Da.CDATA_SECTION_NODE=4,yee=Da.ENTITY_REFERENCE_NODE=5,Z2e=Da.ENTITY_NODE=6,vee=Da.PROCESSING_INSTRUCTION_NODE=7,wee=Da.COMMENT_NODE=8,xee=Da.DOCUMENT_NODE=9,_ee=Da.DOCUMENT_TYPE_NODE=10,kf=Da.DOCUMENT_FRAGMENT_NODE=11,J2e=Da.NOTATION_NODE=12,bo={},bs={};bo.INDEX_SIZE_ERR=(bs[1]="Index size error",1);bo.DOMSTRING_SIZE_ERR=(bs[2]="DOMString size error",2);var va=bo.HIERARCHY_REQUEST_ERR=(bs[3]="Hierarchy request error",3);bo.WRONG_DOCUMENT_ERR=(bs[4]="Wrong document",4);bo.INVALID_CHARACTER_ERR=(bs[5]="Invalid character",5);bo.NO_DATA_ALLOWED_ERR=(bs[6]="No data allowed",6);bo.NO_MODIFICATION_ALLOWED_ERR=(bs[7]="No modification allowed",7);var kee=bo.NOT_FOUND_ERR=(bs[8]="Not found",8);bo.NOT_SUPPORTED_ERR=(bs[9]="Not supported",9);var Pq=bo.INUSE_ATTRIBUTE_ERR=(bs[10]="Attribute in use",10);bo.INVALID_STATE_ERR=(bs[11]="Invalid state",11);bo.SYNTAX_ERR=(bs[12]="Syntax error",12);bo.INVALID_MODIFICATION_ERR=(bs[13]="Invalid modification",13);bo.NAMESPACE_ERR=(bs[14]="Invalid namespace",14);bo.INVALID_ACCESS_ERR=(bs[15]="Invalid access",15);function xr(n,e){if(e instanceof Error)var i=e;else i=this,Error.call(this,bs[n]),this.message=bs[n],Error.captureStackTrace&&Error.captureStackTrace(this,xr);return i.code=n,e&&(this.message=this.message+": "+e),i}xr.prototype=Error.prototype;hA(bo,xr);function df(){}df.prototype={length:0,item:function(n){return n>=0&&n<this.length?this[n]:null},toString:function(n,e){for(var i=[],r=0;r<this.length;r++)sw(this[r],i,n,e);return i.join("")},filter:function(n){return Array.prototype.filter.call(this,n)},indexOf:function(n){return Array.prototype.indexOf.call(this,n)}};function G1(n,e){this._node=n,this._refresh=e,fL(this)}function fL(n){var e=n._node._inc||n._node.ownerDocument._inc;if(n._inc!==e){var i=n._refresh(n._node);if(Mee(n,"length",i.length),!n.$$length||i.length<n.$$length)for(var r=i.length;r in n;r++)Object.prototype.hasOwnProperty.call(n,r)&&delete n[r];hA(i,n),n._inc=e}}G1.prototype.item=function(n){return fL(this),this[n]||null};Ca(G1,df);function b5(){}function Eee(n,e){for(var i=n.length;i--;)if(n[i]===e)return i}function Iq(n,e,i,r){if(r?e[Eee(e,r)]=i:e[e.length++]=i,n){i.ownerElement=n;var o=n.ownerDocument;o&&(r&&Tee(o,n,r),Q2e(o,n,i))}}function jq(n,e,i){var r=Eee(e,i);if(r>=0){for(var o=e.length-1;r<o;)e[r]=e[++r];if(e.length=o,n){var l=n.ownerDocument;l&&(Tee(l,n,i),i.ownerElement=null)}}else throw new xr(kee,new Error(n.tagName+"@"+i))}b5.prototype={length:0,item:df.prototype.item,getNamedItem:function(n){for(var e=this.length;e--;){var i=this[e];if(i.nodeName==n)return i}},setNamedItem:function(n){var e=n.ownerElement;if(e&&e!=this._ownerElement)throw new xr(Pq);var i=this.getNamedItem(n.nodeName);return Iq(this._ownerElement,this,n,i),i},setNamedItemNS:function(n){var e=n.ownerElement,i;if(e&&e!=this._ownerElement)throw new xr(Pq);return i=this.getNamedItemNS(n.namespaceURI,n.localName),Iq(this._ownerElement,this,n,i),i},removeNamedItem:function(n){var e=this.getNamedItem(n);return jq(this._ownerElement,this,e),e},removeNamedItemNS:function(n,e){var i=this.getNamedItemNS(n,e);return jq(this._ownerElement,this,i),i},getNamedItemNS:function(n,e){for(var i=this.length;i--;){var r=this[i];if(r.localName==e&&r.namespaceURI==n)return r}return null}};function See(){}See.prototype={hasFeature:function(n,e){return!0},createDocument:function(n,e,i){var r=new fA;if(r.implementation=this,r.childNodes=new df,r.doctype=i||null,i&&r.appendChild(i),e){var o=r.createElementNS(n,e);r.appendChild(o)}return r},createDocumentType:function(n,e,i){var r=new G3;return r.name=n,r.nodeName=n,r.publicId=e||"",r.systemId=i||"",r}};function ci(){}ci.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(n,e){return y5(this,n,e)},replaceChild:function(n,e){y5(this,n,e,Dee),e&&this.removeChild(e)},removeChild:function(n){return Cee(this,n)},appendChild:function(n){return this.insertBefore(n,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(n){return sO(this.ownerDocument||this,this,n)},normalize:function(){for(var n=this.firstChild;n;){var e=n.nextSibling;e&&e.nodeType==g5&&n.nodeType==g5?(this.removeChild(e),n.appendData(e.data)):(n.normalize(),n=e)}},isSupported:function(n,e){return this.ownerDocument.implementation.hasFeature(n,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(n){for(var e=this;e;){var i=e._nsMap;if(i){for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)&&i[r]===n)return r}e=e.nodeType==H1?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(n){for(var e=this;e;){var i=e._nsMap;if(i&&Object.prototype.hasOwnProperty.call(i,n))return i[n];e=e.nodeType==H1?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(n){var e=this.lookupPrefix(n);return e==null}};function Aee(n){return n=="<"&&"&lt;"||n==">"&&"&gt;"||n=="&"&&"&amp;"||n=='"'&&"&quot;"||"&#"+n.charCodeAt()+";"}hA(Da,ci);hA(Da,ci.prototype);function gE(n,e){if(e(n))return!0;if(n=n.firstChild)do if(gE(n,e))return!0;while(n=n.nextSibling)}function fA(){this.ownerDocument=this}function Q2e(n,e,i){n&&n._inc++;var r=i.namespaceURI;r===mE.XMLNS&&(e._nsMap[i.prefix?i.localName:""]=i.value)}function Tee(n,e,i,r){n&&n._inc++;var o=i.namespaceURI;o===mE.XMLNS&&delete e._nsMap[i.prefix?i.localName:""]}function pL(n,e,i){if(n&&n._inc){n._inc++;var r=e.childNodes;if(i)r[r.length++]=i;else{for(var o=e.firstChild,l=0;o;)r[l++]=o,o=o.nextSibling;r.length=l,delete r[r.length]}}}function Cee(n,e){var i=e.previousSibling,r=e.nextSibling;return i?i.nextSibling=r:n.firstChild=r,r?r.previousSibling=i:n.lastChild=i,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,pL(n.ownerDocument,n),e}function eEe(n){return n&&(n.nodeType===ci.DOCUMENT_NODE||n.nodeType===ci.DOCUMENT_FRAGMENT_NODE||n.nodeType===ci.ELEMENT_NODE)}function tEe(n){return n&&(Dd(n)||mL(n)||Ef(n)||n.nodeType===ci.DOCUMENT_FRAGMENT_NODE||n.nodeType===ci.COMMENT_NODE||n.nodeType===ci.PROCESSING_INSTRUCTION_NODE)}function Ef(n){return n&&n.nodeType===ci.DOCUMENT_TYPE_NODE}function Dd(n){return n&&n.nodeType===ci.ELEMENT_NODE}function mL(n){return n&&n.nodeType===ci.TEXT_NODE}function Rq(n,e){var i=n.childNodes||[];if(Cd(i,Dd)||Ef(e))return!1;var r=Cd(i,Ef);return!(e&&r&&i.indexOf(r)>i.indexOf(e))}function Mq(n,e){var i=n.childNodes||[];function r(l){return Dd(l)&&l!==e}if(Cd(i,r))return!1;var o=Cd(i,Ef);return!(e&&o&&i.indexOf(o)>i.indexOf(e))}function nEe(n,e,i){if(!eEe(n))throw new xr(va,"Unexpected parent node type "+n.nodeType);if(i&&i.parentNode!==n)throw new xr(kee,"child not in parent");if(!tEe(e)||Ef(e)&&n.nodeType!==ci.DOCUMENT_NODE)throw new xr(va,"Unexpected node type "+e.nodeType+" for parent node type "+n.nodeType)}function iEe(n,e,i){var r=n.childNodes||[],o=e.childNodes||[];if(e.nodeType===ci.DOCUMENT_FRAGMENT_NODE){var l=o.filter(Dd);if(l.length>1||Cd(o,mL))throw new xr(va,"More than one element or text in fragment");if(l.length===1&&!Rq(n,i))throw new xr(va,"Element in fragment can not be inserted before doctype")}if(Dd(e)&&!Rq(n,i))throw new xr(va,"Only one element can be added and only after doctype");if(Ef(e)){if(Cd(r,Ef))throw new xr(va,"Only one doctype is allowed");var c=Cd(r,Dd);if(i&&r.indexOf(c)<r.indexOf(i))throw new xr(va,"Doctype can only be inserted before an element");if(!i&&c)throw new xr(va,"Doctype can not be appended since element is present")}}function Dee(n,e,i){var r=n.childNodes||[],o=e.childNodes||[];if(e.nodeType===ci.DOCUMENT_FRAGMENT_NODE){var l=o.filter(Dd);if(l.length>1||Cd(o,mL))throw new xr(va,"More than one element or text in fragment");if(l.length===1&&!Mq(n,i))throw new xr(va,"Element in fragment can not be inserted before doctype")}if(Dd(e)&&!Mq(n,i))throw new xr(va,"Only one element can be added and only after doctype");if(Ef(e)){if(Cd(r,function(h){return Ef(h)&&h!==i}))throw new xr(va,"Only one doctype is allowed");var c=Cd(r,Dd);if(i&&r.indexOf(c)<r.indexOf(i))throw new xr(va,"Doctype can only be inserted before an element")}}function y5(n,e,i,r){nEe(n,e,i),n.nodeType===ci.DOCUMENT_NODE&&(r||iEe)(n,e,i);var o=e.parentNode;if(o&&o.removeChild(e),e.nodeType===kf){var l=e.firstChild;if(l==null)return e;var c=e.lastChild}else l=c=e;var u=i?i.previousSibling:n.lastChild;l.previousSibling=u,c.nextSibling=i,u?u.nextSibling=l:n.firstChild=l,i==null?n.lastChild=c:i.previousSibling=c;do l.parentNode=n;while(l!==c&&(l=l.nextSibling));return pL(n.ownerDocument||n,n),e.nodeType==kf&&(e.firstChild=e.lastChild=null),e}function rEe(n,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=n,e.previousSibling=n.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:n.firstChild=e,n.lastChild=e,pL(n.ownerDocument,n,e),e}fA.prototype={nodeName:"#document",nodeType:xee,doctype:null,documentElement:null,_inc:1,insertBefore:function(n,e){if(n.nodeType==kf){for(var i=n.firstChild;i;){var r=i.nextSibling;this.insertBefore(i,e),i=r}return n}return y5(this,n,e),n.ownerDocument=this,this.documentElement===null&&n.nodeType===au&&(this.documentElement=n),n},removeChild:function(n){return this.documentElement==n&&(this.documentElement=null),Cee(this,n)},replaceChild:function(n,e){y5(this,n,e,Dee),n.ownerDocument=this,e&&this.removeChild(e),Dd(n)&&(this.documentElement=n)},importNode:function(n,e){return Ree(this,n,e)},getElementById:function(n){var e=null;return gE(this.documentElement,function(i){if(i.nodeType==au&&i.getAttribute("id")==n)return e=i,!0}),e},getElementsByClassName:function(n){var e=Nq(n);return new G1(this,function(i){var r=[];return e.length>0&&gE(i.documentElement,function(o){if(o!==i&&o.nodeType===au){var l=o.getAttribute("class");if(l){var c=n===l;if(!c){var u=Nq(l);c=e.every(K2e(u))}c&&r.push(o)}}}),r})},createElement:function(n){var e=new U0;e.ownerDocument=this,e.nodeName=n,e.tagName=n,e.localName=n,e.childNodes=new df;var i=e.attributes=new b5;return i._ownerElement=e,e},createDocumentFragment:function(){var n=new X3;return n.ownerDocument=this,n.childNodes=new df,n},createTextNode:function(n){var e=new gL;return e.ownerDocument=this,e.appendData(n),e},createComment:function(n){var e=new bL;return e.ownerDocument=this,e.appendData(n),e},createCDATASection:function(n){var e=new yL;return e.ownerDocument=this,e.appendData(n),e},createProcessingInstruction:function(n,e){var i=new wL;return i.ownerDocument=this,i.tagName=i.nodeName=i.target=n,i.nodeValue=i.data=e,i},createAttribute:function(n){var e=new v5;return e.ownerDocument=this,e.name=n,e.nodeName=n,e.localName=n,e.specified=!0,e},createEntityReference:function(n){var e=new vL;return e.ownerDocument=this,e.nodeName=n,e},createElementNS:function(n,e){var i=new U0,r=e.split(":"),o=i.attributes=new b5;return i.childNodes=new df,i.ownerDocument=this,i.nodeName=e,i.tagName=e,i.namespaceURI=n,r.length==2?(i.prefix=r[0],i.localName=r[1]):i.localName=e,o._ownerElement=i,i},createAttributeNS:function(n,e){var i=new v5,r=e.split(":");return i.ownerDocument=this,i.nodeName=e,i.name=e,i.namespaceURI=n,i.specified=!0,r.length==2?(i.prefix=r[0],i.localName=r[1]):i.localName=e,i}};Ca(fA,ci);function U0(){this._nsMap={}}U0.prototype={nodeType:au,hasAttribute:function(n){return this.getAttributeNode(n)!=null},getAttribute:function(n){var e=this.getAttributeNode(n);return e&&e.value||""},getAttributeNode:function(n){return this.attributes.getNamedItem(n)},setAttribute:function(n,e){var i=this.ownerDocument.createAttribute(n);i.value=i.nodeValue=""+e,this.setAttributeNode(i)},removeAttribute:function(n){var e=this.getAttributeNode(n);e&&this.removeAttributeNode(e)},appendChild:function(n){return n.nodeType===kf?this.insertBefore(n,null):rEe(this,n)},setAttributeNode:function(n){return this.attributes.setNamedItem(n)},setAttributeNodeNS:function(n){return this.attributes.setNamedItemNS(n)},removeAttributeNode:function(n){return this.attributes.removeNamedItem(n.nodeName)},removeAttributeNS:function(n,e){var i=this.getAttributeNodeNS(n,e);i&&this.removeAttributeNode(i)},hasAttributeNS:function(n,e){return this.getAttributeNodeNS(n,e)!=null},getAttributeNS:function(n,e){var i=this.getAttributeNodeNS(n,e);return i&&i.value||""},setAttributeNS:function(n,e,i){var r=this.ownerDocument.createAttributeNS(n,e);r.value=r.nodeValue=""+i,this.setAttributeNode(r)},getAttributeNodeNS:function(n,e){return this.attributes.getNamedItemNS(n,e)},getElementsByTagName:function(n){return new G1(this,function(e){var i=[];return gE(e,function(r){r!==e&&r.nodeType==au&&(n==="*"||r.tagName==n)&&i.push(r)}),i})},getElementsByTagNameNS:function(n,e){return new G1(this,function(i){var r=[];return gE(i,function(o){o!==i&&o.nodeType===au&&(n==="*"||o.namespaceURI===n)&&(e==="*"||o.localName==e)&&r.push(o)}),r})}};fA.prototype.getElementsByTagName=U0.prototype.getElementsByTagName;fA.prototype.getElementsByTagNameNS=U0.prototype.getElementsByTagNameNS;Ca(U0,ci);function v5(){}v5.prototype.nodeType=H1;Ca(v5,ci);function pA(){}pA.prototype={data:"",substringData:function(n,e){return this.data.substring(n,n+e)},appendData:function(n){n=this.data+n,this.nodeValue=this.data=n,this.length=n.length},insertData:function(n,e){this.replaceData(n,0,e)},appendChild:function(n){throw new Error(bs[va])},deleteData:function(n,e){this.replaceData(n,e,"")},replaceData:function(n,e,i){var r=this.data.substring(0,n),o=this.data.substring(n+e);i=r+i+o,this.nodeValue=this.data=i,this.length=i.length}};Ca(pA,ci);function gL(){}gL.prototype={nodeName:"#text",nodeType:g5,splitText:function(n){var e=this.data,i=e.substring(n);e=e.substring(0,n),this.data=this.nodeValue=e,this.length=e.length;var r=this.ownerDocument.createTextNode(i);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}};Ca(gL,pA);function bL(){}bL.prototype={nodeName:"#comment",nodeType:wee};Ca(bL,pA);function yL(){}yL.prototype={nodeName:"#cdata-section",nodeType:bee};Ca(yL,pA);function G3(){}G3.prototype.nodeType=_ee;Ca(G3,ci);function Nee(){}Nee.prototype.nodeType=J2e;Ca(Nee,ci);function Pee(){}Pee.prototype.nodeType=Z2e;Ca(Pee,ci);function vL(){}vL.prototype.nodeType=yee;Ca(vL,ci);function X3(){}X3.prototype.nodeName="#document-fragment";X3.prototype.nodeType=kf;Ca(X3,ci);function wL(){}wL.prototype.nodeType=vee;Ca(wL,ci);function Iee(){}Iee.prototype.serializeToString=function(n,e,i){return jee.call(n,e,i)};ci.prototype.toString=jee;function jee(n,e){var i=[],r=this.nodeType==9&&this.documentElement||this,o=r.prefix,l=r.namespaceURI;if(l&&o==null){var o=r.lookupPrefix(l);if(o==null)var c=[{namespace:l,prefix:null}]}return sw(this,i,n,e,c),i.join("")}function Oq(n,e,i){var r=n.prefix||"",o=n.namespaceURI;if(!o||r==="xml"&&o===mE.XML||o===mE.XMLNS)return!1;for(var l=i.length;l--;){var c=i[l];if(c.prefix===r)return c.namespace!==o}return!0}function j4(n,e,i){n.push(" ",e,'="',i.replace(/[<>&"\t\n\r]/g,Aee),'"')}function sw(n,e,i,r,o){if(o||(o=[]),r)if(n=r(n),n){if(typeof n=="string"){e.push(n);return}}else return;switch(n.nodeType){case au:var l=n.attributes,c=l.length,C=n.firstChild,u=n.tagName;i=mE.isHTML(n.namespaceURI)||i;var h=u;if(!i&&!n.prefix&&n.namespaceURI){for(var m,g=0;g<l.length;g++)if(l.item(g).name==="xmlns"){m=l.item(g).value;break}if(!m)for(var y=o.length-1;y>=0;y--){var v=o[y];if(v.prefix===""&&v.namespace===n.namespaceURI){m=v.namespace;break}}if(m!==n.namespaceURI)for(var y=o.length-1;y>=0;y--){var v=o[y];if(v.namespace===n.namespaceURI){v.prefix&&(h=v.prefix+":"+u);break}}}e.push("<",h);for(var _=0;_<c;_++){var A=l.item(_);A.prefix=="xmlns"?o.push({prefix:A.localName,namespace:A.value}):A.nodeName=="xmlns"&&o.push({prefix:"",namespace:A.value})}for(var _=0;_<c;_++){var A=l.item(_);if(Oq(A,i,o)){var S=A.prefix||"",T=A.namespaceURI;j4(e,S?"xmlns:"+S:"xmlns",T),o.push({prefix:S,namespace:T})}sw(A,e,i,r,o)}if(u===h&&Oq(n,i,o)){var S=n.prefix||"",T=n.namespaceURI;j4(e,S?"xmlns:"+S:"xmlns",T),o.push({prefix:S,namespace:T})}if(C||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(u)){if(e.push(">"),i&&/^script$/i.test(u))for(;C;)C.data?e.push(C.data):sw(C,e,i,r,o.slice()),C=C.nextSibling;else for(;C;)sw(C,e,i,r,o.slice()),C=C.nextSibling;e.push("</",h,">")}else e.push("/>");return;case xee:case kf:for(var C=n.firstChild;C;)sw(C,e,i,r,o.slice()),C=C.nextSibling;return;case H1:return j4(e,n.name,n.value);case g5:return e.push(n.data.replace(/[<&>]/g,Aee));case bee:return e.push("<![CDATA[",n.data,"]]>");case wee:return e.push("<!--",n.data,"-->");case _ee:var N=n.publicId,I=n.systemId;if(e.push("<!DOCTYPE ",n.name),N)e.push(" PUBLIC ",N),I&&I!="."&&e.push(" ",I),e.push(">");else if(I&&I!=".")e.push(" SYSTEM ",I,">");else{var O=n.internalSubset;O&&e.push(" [",O,"]"),e.push(">")}return;case vee:return e.push("<?",n.target," ",n.data,"?>");case yee:return e.push("&",n.nodeName,";");default:e.push("??",n.nodeName)}}function Ree(n,e,i){var r;switch(e.nodeType){case au:r=e.cloneNode(!1),r.ownerDocument=n;case kf:break;case H1:i=!0;break}if(r||(r=e.cloneNode(!1)),r.ownerDocument=n,r.parentNode=null,i)for(var o=e.firstChild;o;)r.appendChild(Ree(n,o,i)),o=o.nextSibling;return r}function sO(n,e,i){var r=new e.constructor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var l=e[o];typeof l!="object"&&l!=r[o]&&(r[o]=l)}switch(e.childNodes&&(r.childNodes=new df),r.ownerDocument=n,r.nodeType){case au:var c=e.attributes,u=r.attributes=new b5,h=c.length;u._ownerElement=r;for(var m=0;m<h;m++)r.setAttributeNode(sO(n,c.item(m),!0));break;case H1:i=!0}if(i)for(var g=e.firstChild;g;)r.appendChild(sO(n,g,i)),g=g.nextSibling;return r}function Mee(n,e,i){n[e]=i}try{if(Object.defineProperty){let n=function(e){switch(e.nodeType){case au:case kf:var i=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&i.push(n(e)),e=e.nextSibling;return i.join("");default:return e.nodeValue}};Object.defineProperty(G1.prototype,"length",{get:function(){return fL(this),this.$$length}}),Object.defineProperty(ci.prototype,"textContent",{get:function(){return n(this)},set:function(e){switch(this.nodeType){case au:case kf:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),Mee=function(e,i,r){e["$$"+i]=r}}}catch{}Md.DocumentType=G3;Md.DOMException=xr;Md.DOMImplementation=See;Md.Element=U0;Md.Node=ci;Md.NodeList=df;Md.XMLSerializer=Iee;var Y3={},Oee={};(function(n){var e=Nf.freeze;n.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),n.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),n.entityMap=n.HTML_ENTITIES})(Oee);var xL={},bE=Nf.NAMESPACE,oO=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Fq=new RegExp("[\\-\\.0-9"+oO.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),Lq=new RegExp("^"+oO.source+Fq.source+"*(?::"+oO.source+Fq.source+"*)?$"),jk=0,Sp=1,Tv=2,Rk=3,Cv=4,Dv=5,Mk=6,gD=7;function X1(n,e){this.message=n,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,X1)}X1.prototype=new Error;X1.prototype.name=X1.name;function Fee(){}Fee.prototype={parse:function(n,e,i){var r=this.domBuilder;r.startDocument(),Lee(e,e={}),sEe(n,e,i,r,this.errorHandler),r.endDocument()}};function sEe(n,e,i,r,o){function l(ie){if(ie>65535){ie-=65536;var ce=55296+(ie>>10),X=56320+(ie&1023);return String.fromCharCode(ce,X)}else return String.fromCharCode(ie)}function c(ie){var ce=ie.slice(1,-1);return Object.hasOwnProperty.call(i,ce)?i[ce]:ce.charAt(0)==="#"?l(parseInt(ce.substr(1).replace("x","0x"))):(o.error("entity not found:"+ie),ie)}function u(ie){if(ie>S){var ce=n.substring(S,ie).replace(/&#?\w+;/g,c);v&&h(S),r.characters(ce,0,ie-S),S=ie}}function h(ie,ce){for(;ie>=g&&(ce=y.exec(n));)m=ce.index,g=m+ce[0].length,v.lineNumber++;v.columnNumber=ie-m+1}for(var m=0,g=0,y=/.*(?:\r\n?|\n)|.*$/g,v=r.locator,_=[{currentNSMap:e}],A={},S=0;;){try{var T=n.indexOf("<",S);if(T<0){if(!n.substr(S).match(/^\s*$/)){var C=r.doc,N=C.createTextNode(n.substr(S));C.appendChild(N),r.currentElement=N}return}switch(T>S&&u(T),n.charAt(T+1)){case"/":var de=n.indexOf(">",T+3),I=n.substring(T+2,de).replace(/[ \t\n\r]+$/g,""),O=_.pop();de<0?(I=n.substring(T+2).replace(/[\s<].*/,""),o.error("end tag name: "+I+" is not complete:"+O.tagName),de=T+1+I.length):I.match(/\s</)&&(I=I.replace(/[\s<].*/,""),o.error("end tag name: "+I+" maybe not complete"),de=T+1+I.length);var F=O.localNSMap,L=O.tagName==I,z=L||O.tagName&&O.tagName.toLowerCase()==I.toLowerCase();if(z){if(r.endElement(O.uri,O.localName,I),F)for(var B in F)Object.prototype.hasOwnProperty.call(F,B)&&r.endPrefixMapping(B);L||o.fatalError("end tag name: "+I+" is not match the current start tagName:"+O.tagName)}else _.push(O);de++;break;case"?":v&&h(T),de=uEe(n,T,r);break;case"!":v&&h(T),de=cEe(n,T,r,o);break;default:v&&h(T);var Y=new Uee,se=_[_.length-1].currentNSMap,de=oEe(n,T,Y,se,c,o),J=Y.length;if(!Y.closed&&lEe(n,de,Y.tagName,A)&&(Y.closed=!0,i.nbsp||o.warning("unclosed xml attribute")),v&&J){for(var be=Uq(v,{}),q=0;q<J;q++){var Te=Y[q];h(Te.offset),Te.locator=Uq(v,{})}r.locator=be,Bq(Y,r,se)&&_.push(Y),r.locator=v}else Bq(Y,r,se)&&_.push(Y);bE.isHTML(Y.uri)&&!Y.closed?de=aEe(n,de,Y.tagName,c,r):de++}}catch(ie){if(ie instanceof X1)throw ie;o.error("element parse error: "+ie),de=-1}de>S?S=de:u(Math.max(T,S)+1)}}function Uq(n,e){return e.lineNumber=n.lineNumber,e.columnNumber=n.columnNumber,e}function oEe(n,e,i,r,o,l){function c(v,_,A){i.attributeNames.hasOwnProperty(v)&&l.fatalError("Attribute "+v+" redefined"),i.addValue(v,_.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,o),A)}for(var u,h,m=++e,g=jk;;){var y=n.charAt(m);switch(y){case"=":if(g===Sp)u=n.slice(e,m),g=Rk;else if(g===Tv)g=Rk;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(g===Rk||g===Sp)if(g===Sp&&(l.warning('attribute value must after "="'),u=n.slice(e,m)),e=m+1,m=n.indexOf(y,e),m>0)h=n.slice(e,m),c(u,h,e-1),g=Dv;else throw new Error("attribute value no end '"+y+"' match");else if(g==Cv)h=n.slice(e,m),c(u,h,e),l.warning('attribute "'+u+'" missed start quot('+y+")!!"),e=m+1,g=Dv;else throw new Error('attribute value must after "="');break;case"/":switch(g){case jk:i.setTagName(n.slice(e,m));case Dv:case Mk:case gD:g=gD,i.closed=!0;case Cv:case Sp:break;case Tv:i.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return l.error("unexpected end of input"),g==jk&&i.setTagName(n.slice(e,m)),m;case">":switch(g){case jk:i.setTagName(n.slice(e,m));case Dv:case Mk:case gD:break;case Cv:case Sp:h=n.slice(e,m),h.slice(-1)==="/"&&(i.closed=!0,h=h.slice(0,-1));case Tv:g===Tv&&(h=u),g==Cv?(l.warning('attribute "'+h+'" missed quot(")!'),c(u,h,e)):((!bE.isHTML(r[""])||!h.match(/^(?:disabled|checked|selected)$/i))&&l.warning('attribute "'+h+'" missed value!! "'+h+'" instead!!'),c(h,h,e));break;case Rk:throw new Error("attribute value missed!!")}return m;case"":y=" ";default:if(y<=" ")switch(g){case jk:i.setTagName(n.slice(e,m)),g=Mk;break;case Sp:u=n.slice(e,m),g=Tv;break;case Cv:var h=n.slice(e,m);l.warning('attribute "'+h+'" missed quot(")!!'),c(u,h,e);case Dv:g=Mk;break}else switch(g){case Tv:i.tagName,(!bE.isHTML(r[""])||!u.match(/^(?:disabled|checked|selected)$/i))&&l.warning('attribute "'+u+'" missed value!! "'+u+'" instead2!!'),c(u,u,e),e=m,g=Sp;break;case Dv:l.warning('attribute space is required"'+u+'"!!');case Mk:g=Sp,e=m;break;case Rk:g=Cv,e=m;break;case gD:throw new Error("elements closed character '/' and '>' must be connected to")}}m++}}function Bq(n,e,i){for(var r=n.tagName,o=null,y=n.length;y--;){var l=n[y],c=l.qName,u=l.value,v=c.indexOf(":");if(v>0)var h=l.prefix=c.slice(0,v),m=c.slice(v+1),g=h==="xmlns"&&m;else m=c,h=null,g=c==="xmlns"&&"";l.localName=m,g!==!1&&(o==null&&(o={},Lee(i,i={})),i[g]=o[g]=u,l.uri=bE.XMLNS,e.startPrefixMapping(g,u))}for(var y=n.length;y--;){l=n[y];var h=l.prefix;h&&(h==="xml"&&(l.uri=bE.XML),h!=="xmlns"&&(l.uri=i[h||""]))}var v=r.indexOf(":");v>0?(h=n.prefix=r.slice(0,v),m=n.localName=r.slice(v+1)):(h=null,m=n.localName=r);var _=n.uri=i[h||""];if(e.startElement(_,m,r,n),n.closed){if(e.endElement(_,m,r),o)for(h in o)Object.prototype.hasOwnProperty.call(o,h)&&e.endPrefixMapping(h)}else return n.currentNSMap=i,n.localNSMap=o,!0}function aEe(n,e,i,r,o){if(/^(?:script|textarea)$/i.test(i)){var l=n.indexOf("</"+i+">",e),c=n.substring(e+1,l);if(/[&<]/.test(c))return/^script$/i.test(i)?(o.characters(c,0,c.length),l):(c=c.replace(/&#?\w+;/g,r),o.characters(c,0,c.length),l)}return e+1}function lEe(n,e,i,r){var o=r[i];return o==null&&(o=n.lastIndexOf("</"+i+">"),o<e&&(o=n.lastIndexOf("</"+i)),r[i]=o),o<e}function Lee(n,e){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}function cEe(n,e,i,r){var o=n.charAt(e+2);switch(o){case"-":if(n.charAt(e+3)==="-"){var l=n.indexOf("-->",e+4);return l>e?(i.comment(n,e+4,l-e-4),l+3):(r.error("Unclosed comment"),-1)}else return-1;default:if(n.substr(e+3,6)=="CDATA["){var l=n.indexOf("]]>",e+9);return i.startCDATA(),i.characters(n,e+9,l-e-9),i.endCDATA(),l+3}var c=dEe(n,e),u=c.length;if(u>1&&/!doctype/i.test(c[0][0])){var h=c[1][0],m=!1,g=!1;u>3&&(/^public$/i.test(c[2][0])?(m=c[3][0],g=u>4&&c[4][0]):/^system$/i.test(c[2][0])&&(g=c[3][0]));var y=c[u-1];return i.startDTD(h,m,g),i.endDTD(),y.index+y[0].length}}return-1}function uEe(n,e,i){var r=n.indexOf("?>",e);if(r){var o=n.substring(e,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return o?(o[0].length,i.processingInstruction(o[1],o[2]),r+2):-1}return-1}function Uee(){this.attributeNames={}}Uee.prototype={setTagName:function(n){if(!Lq.test(n))throw new Error("invalid tagName:"+n);this.tagName=n},addValue:function(n,e,i){if(!Lq.test(n))throw new Error("invalid attribute:"+n);this.attributeNames[n]=this.length,this[this.length++]={qName:n,value:e,offset:i}},length:0,getLocalName:function(n){return this[n].localName},getLocator:function(n){return this[n].locator},getQName:function(n){return this[n].qName},getURI:function(n){return this[n].uri},getValue:function(n){return this[n].value}};function dEe(n,e){var i,r=[],o=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(o.lastIndex=e,o.exec(n);i=o.exec(n);)if(r.push(i),i[1])return r}xL.XMLReader=Fee;xL.ParseError=X1;var hEe=Nf,fEe=Md,zq=Oee,Bee=xL,pEe=fEe.DOMImplementation,Vq=hEe.NAMESPACE,mEe=Bee.ParseError,gEe=Bee.XMLReader;function zee(n){return n.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function Vee(n){this.options=n||{locator:{}}}Vee.prototype.parseFromString=function(n,e){var i=this.options,r=new gEe,o=i.domBuilder||new mA,l=i.errorHandler,c=i.locator,u=i.xmlns||{},h=/\/x?html?$/.test(e),m=h?zq.HTML_ENTITIES:zq.XML_ENTITIES;c&&o.setDocumentLocator(c),r.errorHandler=bEe(l,o,c),r.domBuilder=i.domBuilder||o,h&&(u[""]=Vq.HTML),u.xml=u.xml||Vq.XML;var g=i.normalizeLineEndings||zee;return n&&typeof n=="string"?r.parse(g(n),u,m):r.errorHandler.error("invalid doc source"),o.doc};function bEe(n,e,i){if(!n){if(e instanceof mA)return e;n=e}var r={},o=n instanceof Function;i=i||{};function l(c){var u=n[c];!u&&o&&(u=n.length==2?function(h){n(c,h)}:n),r[c]=u&&function(h){u("[xmldom "+c+"]	"+h+aO(i))}||function(){}}return l("warning"),l("error"),l("fatalError"),r}function mA(){this.cdata=!1}function Nv(n,e){e.lineNumber=n.lineNumber,e.columnNumber=n.columnNumber}mA.prototype={startDocument:function(){this.doc=new pEe().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(n,e,i,r){var o=this.doc,l=o.createElementNS(n,i||e),c=r.length;bD(this,l),this.currentElement=l,this.locator&&Nv(this.locator,l);for(var u=0;u<c;u++){var n=r.getURI(u),h=r.getValue(u),i=r.getQName(u),m=o.createAttributeNS(n,i);this.locator&&Nv(r.getLocator(u),m),m.value=m.nodeValue=h,l.setAttributeNode(m)}},endElement:function(n,e,i){var r=this.currentElement;r.tagName,this.currentElement=r.parentNode},startPrefixMapping:function(n,e){},endPrefixMapping:function(n){},processingInstruction:function(n,e){var i=this.doc.createProcessingInstruction(n,e);this.locator&&Nv(this.locator,i),bD(this,i)},ignorableWhitespace:function(n,e,i){},characters:function(n,e,i){if(n=Wq.apply(this,arguments),n){if(this.cdata)var r=this.doc.createCDATASection(n);else var r=this.doc.createTextNode(n);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(n)&&this.doc.appendChild(r),this.locator&&Nv(this.locator,r)}},skippedEntity:function(n){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(n){(this.locator=n)&&(n.lineNumber=0)},comment:function(n,e,i){n=Wq.apply(this,arguments);var r=this.doc.createComment(n);this.locator&&Nv(this.locator,r),bD(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(n,e,i){var r=this.doc.implementation;if(r&&r.createDocumentType){var o=r.createDocumentType(n,e,i);this.locator&&Nv(this.locator,o),bD(this,o),this.doc.doctype=o}},warning:function(n){console.warn("[xmldom warning]	"+n,aO(this.locator))},error:function(n){console.error("[xmldom error]	"+n,aO(this.locator))},fatalError:function(n){throw new mEe(n,this.locator)}};function aO(n){if(n)return`
@`+(n.systemId||"")+"#[line:"+n.lineNumber+",col:"+n.columnNumber+"]"}function Wq(n,e,i){return typeof n=="string"?n.substr(e,i):n.length>=e+i||e?new java.lang.String(n,e,i)+"":n}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(n){mA.prototype[n]=function(){return null}});function bD(n,e){n.currentElement?n.currentElement.appendChild(e):n.doc.appendChild(e)}Y3.__DOMHandler=mA;Y3.normalizeLineEndings=zee;Y3.DOMParser=Vee;var Wee=Md;H3.DOMImplementation=Wee.DOMImplementation;H3.XMLSerializer=Wee.XMLSerializer;H3.DOMParser=Y3.DOMParser;var yEe=H3,vEe=Md;function wEe(n){var e=null,i=new yEe.DOMParser({errorHandler:function(o,l){e={level:o,message:l}}}),r=i.parseFromString(n);if(e===null)return r;throw new Error(e.level+": "+e.message)}dL.parseFromString=wEe;dL.Node=vEe.Node;var R4=vs,$q=kr,$ee=dL,qee=ux,xEe=qee.Element;fee.readString=_Ee;var qq=$ee.Node;function _Ee(n,e){e=e||{};try{var i=$ee.parseFromString(n,"text/xml")}catch(c){return R4.reject(c)}if(i.documentElement.tagName==="parsererror")return R4.resolve(new Error(i.documentElement.textContent));function r(c){switch(c.nodeType){case qq.ELEMENT_NODE:return o(c);case qq.TEXT_NODE:return qee.text(c.nodeValue)}}function o(c){var u=l(c),h=[];$q.forEach(c.childNodes,function(g){var y=r(g);y&&h.push(y)});var m={};return $q.forEach(c.attributes,function(g){m[l(g)]=g.value}),new xEe(u,m,h)}function l(c){if(c.namespaceURI){var u=e[c.namespaceURI],h;return u?h=u+":":h="{"+c.namespaceURI+"}",h+c.localName}else return c.localName}return R4.resolve(r(i.documentElement))}var Hee={},Xk={},vh={},Hq;function ig(){return Hq||(Hq=1,(function(){var n,e,i,r,o,l,c,u=[].slice,h={}.hasOwnProperty;n=function(){var m,g,y,v,_,A;if(A=arguments[0],_=2<=arguments.length?u.call(arguments,1):[],o(Object.assign))Object.assign.apply(null,arguments);else for(m=0,y=_.length;m<y;m++)if(v=_[m],v!=null)for(g in v)h.call(v,g)&&(A[g]=v[g]);return A},o=function(m){return!!m&&Object.prototype.toString.call(m)==="[object Function]"},l=function(m){var g;return!!m&&((g=typeof m)=="function"||g==="object")},i=function(m){return o(Array.isArray)?Array.isArray(m):Object.prototype.toString.call(m)==="[object Array]"},r=function(m){var g;if(i(m))return!m.length;for(g in m)if(h.call(m,g))return!1;return!0},c=function(m){var g,y;return l(m)&&(y=Object.getPrototypeOf(m))&&(g=y.constructor)&&typeof g=="function"&&g instanceof g&&Function.prototype.toString.call(g)===Function.prototype.toString.call(Object)},e=function(m){return o(m.valueOf)?m.valueOf():m},vh.assign=n,vh.isFunction=o,vh.isObject=l,vh.isArray=i,vh.isEmpty=r,vh.isPlainObject=c,vh.getValue=e}).call(Gt)),vh}var M4={exports:{}},O4={exports:{}},F4={exports:{}},L4={exports:{}},Gq;function Gee(){return Gq||(Gq=1,(function(){L4.exports=function(){function n(e,i,r){if(this.options=e.options,this.stringify=e.stringify,this.parent=e,i==null)throw new Error("Missing attribute name. "+this.debugInfo(i));if(r==null)throw new Error("Missing attribute value. "+this.debugInfo(i));this.name=this.stringify.attName(i),this.value=this.stringify.attValue(r)}return n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.set(e).attribute(this)},n.prototype.debugInfo=function(e){return e=e||this.name,e==null?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},n}()}).call(Gt)),L4.exports}var Xq;function K3(){return Xq||(Xq=1,(function(){var n,e,i,r,o,l,c=function(h,m){for(var g in m)u.call(m,g)&&(h[g]=m[g]);function y(){this.constructor=h}return y.prototype=m.prototype,h.prototype=new y,h.__super__=m.prototype,h},u={}.hasOwnProperty;l=ig(),o=l.isObject,r=l.isFunction,i=l.getValue,e=Na(),n=Gee(),F4.exports=function(h){c(m,h);function m(g,y,v){if(m.__super__.constructor.call(this,g),y==null)throw new Error("Missing element name. "+this.debugInfo());this.name=this.stringify.eleName(y),this.attributes={},v!=null&&this.attribute(v),g.isDocument&&(this.isRoot=!0,this.documentObject=g,g.rootObject=this)}return m.prototype.clone=function(){var g,y,v,_;v=Object.create(this),v.isRoot&&(v.documentObject=null),v.attributes={},_=this.attributes;for(y in _)u.call(_,y)&&(g=_[y],v.attributes[y]=g.clone());return v.children=[],this.children.forEach(function(A){var S;return S=A.clone(),S.parent=v,v.children.push(S)}),v},m.prototype.attribute=function(g,y){var v,_;if(g!=null&&(g=i(g)),o(g))for(v in g)u.call(g,v)&&(_=g[v],this.attribute(v,_));else r(y)&&(y=y.apply()),(!this.options.skipNullAttributes||y!=null)&&(this.attributes[g]=new n(this,g,y));return this},m.prototype.removeAttribute=function(g){var y,v,_;if(g==null)throw new Error("Missing attribute name. "+this.debugInfo());if(g=i(g),Array.isArray(g))for(v=0,_=g.length;v<_;v++)y=g[v],delete this.attributes[y];else delete this.attributes[g];return this},m.prototype.toString=function(g){return this.options.writer.set(g).element(this)},m.prototype.att=function(g,y){return this.attribute(g,y)},m.prototype.a=function(g,y){return this.attribute(g,y)},m}(e)}).call(Gt)),F4.exports}var U4={exports:{}},Yq;function Z3(){return Yq||(Yq=1,(function(){var n,e=function(r,o){for(var l in o)i.call(o,l)&&(r[l]=o[l]);function c(){this.constructor=r}return c.prototype=o.prototype,r.prototype=new c,r.__super__=o.prototype,r},i={}.hasOwnProperty;n=Na(),U4.exports=function(r){e(o,r);function o(l,c){if(o.__super__.constructor.call(this,l),c==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.text=this.stringify.cdata(c)}return o.prototype.clone=function(){return Object.create(this)},o.prototype.toString=function(l){return this.options.writer.set(l).cdata(this)},o}(n)}).call(Gt)),U4.exports}var B4={exports:{}},Kq;function J3(){return Kq||(Kq=1,(function(){var n,e=function(r,o){for(var l in o)i.call(o,l)&&(r[l]=o[l]);function c(){this.constructor=r}return c.prototype=o.prototype,r.prototype=new c,r.__super__=o.prototype,r},i={}.hasOwnProperty;n=Na(),B4.exports=function(r){e(o,r);function o(l,c){if(o.__super__.constructor.call(this,l),c==null)throw new Error("Missing comment text. "+this.debugInfo());this.text=this.stringify.comment(c)}return o.prototype.clone=function(){return Object.create(this)},o.prototype.toString=function(l){return this.options.writer.set(l).comment(this)},o}(n)}).call(Gt)),B4.exports}var z4={exports:{}},Zq;function Q3(){return Zq||(Zq=1,(function(){var n,e,i=function(o,l){for(var c in l)r.call(l,c)&&(o[c]=l[c]);function u(){this.constructor=o}return u.prototype=l.prototype,o.prototype=new u,o.__super__=l.prototype,o},r={}.hasOwnProperty;e=ig().isObject,n=Na(),z4.exports=function(o){i(l,o);function l(c,u,h,m){var g;l.__super__.constructor.call(this,c),e(u)&&(g=u,u=g.version,h=g.encoding,m=g.standalone),u||(u="1.0"),this.version=this.stringify.xmlVersion(u),h!=null&&(this.encoding=this.stringify.xmlEncoding(h)),m!=null&&(this.standalone=this.stringify.xmlStandalone(m))}return l.prototype.toString=function(c){return this.options.writer.set(c).declaration(this)},l}(n)}).call(Gt)),z4.exports}var V4={exports:{}},W4={exports:{}},Jq;function eP(){return Jq||(Jq=1,(function(){var n,e=function(r,o){for(var l in o)i.call(o,l)&&(r[l]=o[l]);function c(){this.constructor=r}return c.prototype=o.prototype,r.prototype=new c,r.__super__=o.prototype,r},i={}.hasOwnProperty;n=Na(),W4.exports=function(r){e(o,r);function o(l,c,u,h,m,g){if(o.__super__.constructor.call(this,l),c==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(u==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(c));if(!h)throw new Error("Missing DTD attribute type. "+this.debugInfo(c));if(!m)throw new Error("Missing DTD attribute default. "+this.debugInfo(c));if(m.indexOf("#")!==0&&(m="#"+m),!m.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(c));if(g&&!m.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(c));this.elementName=this.stringify.eleName(c),this.attributeName=this.stringify.attName(u),this.attributeType=this.stringify.dtdAttType(h),this.defaultValue=this.stringify.dtdAttDefault(g),this.defaultValueType=m}return o.prototype.toString=function(l){return this.options.writer.set(l).dtdAttList(this)},o}(n)}).call(Gt)),W4.exports}var $4={exports:{}},Qq;function tP(){return Qq||(Qq=1,(function(){var n,e,i=function(o,l){for(var c in l)r.call(l,c)&&(o[c]=l[c]);function u(){this.constructor=o}return u.prototype=l.prototype,o.prototype=new u,o.__super__=l.prototype,o},r={}.hasOwnProperty;e=ig().isObject,n=Na(),$4.exports=function(o){i(l,o);function l(c,u,h,m){if(l.__super__.constructor.call(this,c),h==null)throw new Error("Missing DTD entity name. "+this.debugInfo(h));if(m==null)throw new Error("Missing DTD entity value. "+this.debugInfo(h));if(this.pe=!!u,this.name=this.stringify.eleName(h),!e(m))this.value=this.stringify.dtdEntityValue(m);else{if(!m.pubID&&!m.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(h));if(m.pubID&&!m.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(h));if(m.pubID!=null&&(this.pubID=this.stringify.dtdPubID(m.pubID)),m.sysID!=null&&(this.sysID=this.stringify.dtdSysID(m.sysID)),m.nData!=null&&(this.nData=this.stringify.dtdNData(m.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(h))}}return l.prototype.toString=function(c){return this.options.writer.set(c).dtdEntity(this)},l}(n)}).call(Gt)),$4.exports}var q4={exports:{}},eH;function nP(){return eH||(eH=1,(function(){var n,e=function(r,o){for(var l in o)i.call(o,l)&&(r[l]=o[l]);function c(){this.constructor=r}return c.prototype=o.prototype,r.prototype=new c,r.__super__=o.prototype,r},i={}.hasOwnProperty;n=Na(),q4.exports=function(r){e(o,r);function o(l,c,u){if(o.__super__.constructor.call(this,l),c==null)throw new Error("Missing DTD element name. "+this.debugInfo());u||(u="(#PCDATA)"),Array.isArray(u)&&(u="("+u.join(",")+")"),this.name=this.stringify.eleName(c),this.value=this.stringify.dtdElementValue(u)}return o.prototype.toString=function(l){return this.options.writer.set(l).dtdElement(this)},o}(n)}).call(Gt)),q4.exports}var H4={exports:{}},tH;function iP(){return tH||(tH=1,(function(){var n,e=function(r,o){for(var l in o)i.call(o,l)&&(r[l]=o[l]);function c(){this.constructor=r}return c.prototype=o.prototype,r.prototype=new c,r.__super__=o.prototype,r},i={}.hasOwnProperty;n=Na(),H4.exports=function(r){e(o,r);function o(l,c,u){if(o.__super__.constructor.call(this,l),c==null)throw new Error("Missing DTD notation name. "+this.debugInfo(c));if(!u.pubID&&!u.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(c));this.name=this.stringify.eleName(c),u.pubID!=null&&(this.pubID=this.stringify.dtdPubID(u.pubID)),u.sysID!=null&&(this.sysID=this.stringify.dtdSysID(u.sysID))}return o.prototype.toString=function(l){return this.options.writer.set(l).dtdNotation(this)},o}(n)}).call(Gt)),H4.exports}var nH;function rP(){return nH||(nH=1,(function(){var n,e,i,r,o,l,c=function(h,m){for(var g in m)u.call(m,g)&&(h[g]=m[g]);function y(){this.constructor=h}return y.prototype=m.prototype,h.prototype=new y,h.__super__=m.prototype,h},u={}.hasOwnProperty;l=ig().isObject,o=Na(),n=eP(),i=tP(),e=nP(),r=iP(),V4.exports=function(h){c(m,h);function m(g,y,v){var _,A;m.__super__.constructor.call(this,g),this.name="!DOCTYPE",this.documentObject=g,l(y)&&(_=y,y=_.pubID,v=_.sysID),v==null&&(A=[y,v],v=A[0],y=A[1]),y!=null&&(this.pubID=this.stringify.dtdPubID(y)),v!=null&&(this.sysID=this.stringify.dtdSysID(v))}return m.prototype.element=function(g,y){var v;return v=new e(this,g,y),this.children.push(v),this},m.prototype.attList=function(g,y,v,_,A){var S;return S=new n(this,g,y,v,_,A),this.children.push(S),this},m.prototype.entity=function(g,y){var v;return v=new i(this,!1,g,y),this.children.push(v),this},m.prototype.pEntity=function(g,y){var v;return v=new i(this,!0,g,y),this.children.push(v),this},m.prototype.notation=function(g,y){var v;return v=new r(this,g,y),this.children.push(v),this},m.prototype.toString=function(g){return this.options.writer.set(g).docType(this)},m.prototype.ele=function(g,y){return this.element(g,y)},m.prototype.att=function(g,y,v,_,A){return this.attList(g,y,v,_,A)},m.prototype.ent=function(g,y){return this.entity(g,y)},m.prototype.pent=function(g,y){return this.pEntity(g,y)},m.prototype.not=function(g,y){return this.notation(g,y)},m.prototype.up=function(){return this.root()||this.documentObject},m}(o)}).call(Gt)),V4.exports}var G4={exports:{}},iH;function sP(){return iH||(iH=1,(function(){var n,e=function(r,o){for(var l in o)i.call(o,l)&&(r[l]=o[l]);function c(){this.constructor=r}return c.prototype=o.prototype,r.prototype=new c,r.__super__=o.prototype,r},i={}.hasOwnProperty;n=Na(),G4.exports=function(r){e(o,r);function o(l,c){if(o.__super__.constructor.call(this,l),c==null)throw new Error("Missing raw text. "+this.debugInfo());this.value=this.stringify.raw(c)}return o.prototype.clone=function(){return Object.create(this)},o.prototype.toString=function(l){return this.options.writer.set(l).raw(this)},o}(n)}).call(Gt)),G4.exports}var X4={exports:{}},rH;function oP(){return rH||(rH=1,(function(){var n,e=function(r,o){for(var l in o)i.call(o,l)&&(r[l]=o[l]);function c(){this.constructor=r}return c.prototype=o.prototype,r.prototype=new c,r.__super__=o.prototype,r},i={}.hasOwnProperty;n=Na(),X4.exports=function(r){e(o,r);function o(l,c){if(o.__super__.constructor.call(this,l),c==null)throw new Error("Missing element text. "+this.debugInfo());this.value=this.stringify.eleText(c)}return o.prototype.clone=function(){return Object.create(this)},o.prototype.toString=function(l){return this.options.writer.set(l).text(this)},o}(n)}).call(Gt)),X4.exports}var Y4={exports:{}},sH;function aP(){return sH||(sH=1,(function(){var n,e=function(r,o){for(var l in o)i.call(o,l)&&(r[l]=o[l]);function c(){this.constructor=r}return c.prototype=o.prototype,r.prototype=new c,r.__super__=o.prototype,r},i={}.hasOwnProperty;n=Na(),Y4.exports=function(r){e(o,r);function o(l,c,u){if(o.__super__.constructor.call(this,l),c==null)throw new Error("Missing instruction target. "+this.debugInfo());this.target=this.stringify.insTarget(c),u&&(this.value=this.stringify.insValue(u))}return o.prototype.clone=function(){return Object.create(this)},o.prototype.toString=function(l){return this.options.writer.set(l).processingInstruction(this)},o}(n)}).call(Gt)),Y4.exports}var K4={exports:{}},oH;function _L(){return oH||(oH=1,(function(){var n,e=function(r,o){for(var l in o)i.call(o,l)&&(r[l]=o[l]);function c(){this.constructor=r}return c.prototype=o.prototype,r.prototype=new c,r.__super__=o.prototype,r},i={}.hasOwnProperty;n=Na(),K4.exports=function(r){e(o,r);function o(l){o.__super__.constructor.call(this,l),this.isDummy=!0}return o.prototype.clone=function(){return Object.create(this)},o.prototype.toString=function(l){return""},o}(n)}).call(Gt)),K4.exports}var aH;function Na(){return aH||(aH=1,(function(){var n,e,i,r,o,l,c,u,h,m,g,y,v,_,A={}.hasOwnProperty;_=ig(),v=_.isObject,y=_.isFunction,g=_.isEmpty,m=_.getValue,l=null,n=null,e=null,i=null,r=null,u=null,h=null,c=null,o=null,O4.exports=function(){function S(T){this.parent=T,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],l||(l=K3(),n=Z3(),e=J3(),i=Q3(),r=rP(),u=sP(),h=oP(),c=aP(),o=_L())}return S.prototype.element=function(T,C,N){var I,O,F,L,z,B,Y,se,de,J,be;if(B=null,C===null&&N==null&&(de=[{},null],C=de[0],N=de[1]),C==null&&(C={}),C=m(C),v(C)||(J=[C,N],N=J[0],C=J[1]),T!=null&&(T=m(T)),Array.isArray(T))for(F=0,Y=T.length;F<Y;F++)O=T[F],B=this.element(O);else if(y(T))B=this.element(T.apply());else if(v(T)){for(z in T)if(A.call(T,z))if(be=T[z],y(be)&&(be=be.apply()),v(be)&&g(be)&&(be=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&z.indexOf(this.stringify.convertAttKey)===0)B=this.attribute(z.substr(this.stringify.convertAttKey.length),be);else if(!this.options.separateArrayItems&&Array.isArray(be))for(L=0,se=be.length;L<se;L++)O=be[L],I={},I[z]=O,B=this.element(I);else v(be)?(B=this.element(z),B.element(be)):B=this.element(z,be)}else this.options.skipNullNodes&&N===null?B=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&T.indexOf(this.stringify.convertTextKey)===0?B=this.text(N):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&T.indexOf(this.stringify.convertCDataKey)===0?B=this.cdata(N):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&T.indexOf(this.stringify.convertCommentKey)===0?B=this.comment(N):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&T.indexOf(this.stringify.convertRawKey)===0?B=this.raw(N):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&T.indexOf(this.stringify.convertPIKey)===0?B=this.instruction(T.substr(this.stringify.convertPIKey.length),N):B=this.node(T,C,N);if(B==null)throw new Error("Could not create any elements with: "+T+". "+this.debugInfo());return B},S.prototype.insertBefore=function(T,C,N){var I,O,F;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(T));return O=this.parent.children.indexOf(this),F=this.parent.children.splice(O),I=this.parent.element(T,C,N),Array.prototype.push.apply(this.parent.children,F),I},S.prototype.insertAfter=function(T,C,N){var I,O,F;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(T));return O=this.parent.children.indexOf(this),F=this.parent.children.splice(O+1),I=this.parent.element(T,C,N),Array.prototype.push.apply(this.parent.children,F),I},S.prototype.remove=function(){var T;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return T=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[T,T-T+1].concat([])),this.parent},S.prototype.node=function(T,C,N){var I,O;return T!=null&&(T=m(T)),C||(C={}),C=m(C),v(C)||(O=[C,N],N=O[0],C=O[1]),I=new l(this,T,C),N!=null&&I.text(N),this.children.push(I),I},S.prototype.text=function(T){var C;return C=new h(this,T),this.children.push(C),this},S.prototype.cdata=function(T){var C;return C=new n(this,T),this.children.push(C),this},S.prototype.comment=function(T){var C;return C=new e(this,T),this.children.push(C),this},S.prototype.commentBefore=function(T){var C,N;return C=this.parent.children.indexOf(this),N=this.parent.children.splice(C),this.parent.comment(T),Array.prototype.push.apply(this.parent.children,N),this},S.prototype.commentAfter=function(T){var C,N;return C=this.parent.children.indexOf(this),N=this.parent.children.splice(C+1),this.parent.comment(T),Array.prototype.push.apply(this.parent.children,N),this},S.prototype.raw=function(T){var C;return C=new u(this,T),this.children.push(C),this},S.prototype.dummy=function(){var T;return T=new o(this),this.children.push(T),T},S.prototype.instruction=function(T,C){var N,I,O,F,L;if(T!=null&&(T=m(T)),C!=null&&(C=m(C)),Array.isArray(T))for(F=0,L=T.length;F<L;F++)N=T[F],this.instruction(N);else if(v(T))for(N in T)A.call(T,N)&&(I=T[N],this.instruction(N,I));else y(C)&&(C=C.apply()),O=new c(this,T,C),this.children.push(O);return this},S.prototype.instructionBefore=function(T,C){var N,I;return N=this.parent.children.indexOf(this),I=this.parent.children.splice(N),this.parent.instruction(T,C),Array.prototype.push.apply(this.parent.children,I),this},S.prototype.instructionAfter=function(T,C){var N,I;return N=this.parent.children.indexOf(this),I=this.parent.children.splice(N+1),this.parent.instruction(T,C),Array.prototype.push.apply(this.parent.children,I),this},S.prototype.declaration=function(T,C,N){var I,O;return I=this.document(),O=new i(I,T,C,N),I.children[0]instanceof i?I.children[0]=O:I.children.unshift(O),I.root()||I},S.prototype.doctype=function(T,C){var N,I,O,F,L,z,B,Y,se,de;for(I=this.document(),O=new r(I,T,C),se=I.children,F=L=0,B=se.length;L<B;F=++L)if(N=se[F],N instanceof r)return I.children[F]=O,O;for(de=I.children,F=z=0,Y=de.length;z<Y;F=++z)if(N=de[F],N.isRoot)return I.children.splice(F,0,O),O;return I.children.push(O),O},S.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},S.prototype.root=function(){var T;for(T=this;T;){if(T.isDocument)return T.rootObject;if(T.isRoot)return T;T=T.parent}},S.prototype.document=function(){var T;for(T=this;T;){if(T.isDocument)return T;T=T.parent}},S.prototype.end=function(T){return this.document().end(T)},S.prototype.prev=function(){var T;for(T=this.parent.children.indexOf(this);T>0&&this.parent.children[T-1].isDummy;)T=T-1;if(T<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[T-1]},S.prototype.next=function(){var T;for(T=this.parent.children.indexOf(this);T<this.parent.children.length-1&&this.parent.children[T+1].isDummy;)T=T+1;if(T===-1||T===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[T+1]},S.prototype.importDocument=function(T){var C;return C=T.root().clone(),C.parent=this,C.isRoot=!1,this.children.push(C),this},S.prototype.debugInfo=function(T){var C,N;return T=T||this.name,T==null&&!((C=this.parent)!=null&&C.name)?"":T==null?"parent: <"+this.parent.name+">":(N=this.parent)!=null&&N.name?"node: <"+T+">, parent: <"+this.parent.name+">":"node: <"+T+">"},S.prototype.ele=function(T,C,N){return this.element(T,C,N)},S.prototype.nod=function(T,C,N){return this.node(T,C,N)},S.prototype.txt=function(T){return this.text(T)},S.prototype.dat=function(T){return this.cdata(T)},S.prototype.com=function(T){return this.comment(T)},S.prototype.ins=function(T,C){return this.instruction(T,C)},S.prototype.doc=function(){return this.document()},S.prototype.dec=function(T,C,N){return this.declaration(T,C,N)},S.prototype.dtd=function(T,C){return this.doctype(T,C)},S.prototype.e=function(T,C,N){return this.element(T,C,N)},S.prototype.n=function(T,C,N){return this.node(T,C,N)},S.prototype.t=function(T){return this.text(T)},S.prototype.d=function(T){return this.cdata(T)},S.prototype.c=function(T){return this.comment(T)},S.prototype.r=function(T){return this.raw(T)},S.prototype.i=function(T,C){return this.instruction(T,C)},S.prototype.u=function(){return this.up()},S.prototype.importXMLBuilder=function(T){return this.importDocument(T)},S}()}).call(Gt)),O4.exports}var Z4={exports:{}},lH;function Xee(){return lH||(lH=1,(function(){var n=function(i,r){return function(){return i.apply(r,arguments)}},e={}.hasOwnProperty;Z4.exports=function(){function i(r){this.assertLegalChar=n(this.assertLegalChar,this);var o,l,c;r||(r={}),this.noDoubleEncoding=r.noDoubleEncoding,l=r.stringify||{};for(o in l)e.call(l,o)&&(c=l[o],this[o]=c)}return i.prototype.eleName=function(r){return r=""+r||"",this.assertLegalChar(r)},i.prototype.eleText=function(r){return r=""+r||"",this.assertLegalChar(this.elEscape(r))},i.prototype.cdata=function(r){return r=""+r||"",r=r.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(r)},i.prototype.comment=function(r){if(r=""+r||"",r.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+r);return this.assertLegalChar(r)},i.prototype.raw=function(r){return""+r||""},i.prototype.attName=function(r){return r=""+r||""},i.prototype.attValue=function(r){return r=""+r||"",this.attEscape(r)},i.prototype.insTarget=function(r){return""+r||""},i.prototype.insValue=function(r){if(r=""+r||"",r.match(/\?>/))throw new Error("Invalid processing instruction value: "+r);return r},i.prototype.xmlVersion=function(r){if(r=""+r||"",!r.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+r);return r},i.prototype.xmlEncoding=function(r){if(r=""+r||"",!r.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+r);return r},i.prototype.xmlStandalone=function(r){return r?"yes":"no"},i.prototype.dtdPubID=function(r){return""+r||""},i.prototype.dtdSysID=function(r){return""+r||""},i.prototype.dtdElementValue=function(r){return""+r||""},i.prototype.dtdAttType=function(r){return""+r||""},i.prototype.dtdAttDefault=function(r){return r!=null?""+r||"":r},i.prototype.dtdEntityValue=function(r){return""+r||""},i.prototype.dtdNData=function(r){return""+r||""},i.prototype.convertAttKey="@",i.prototype.convertPIKey="?",i.prototype.convertTextKey="#text",i.prototype.convertCDataKey="#cdata",i.prototype.convertCommentKey="#comment",i.prototype.convertRawKey="#raw",i.prototype.assertLegalChar=function(r){var o;if(o=r.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),o)throw new Error("Invalid character in string: "+r+" at index "+o.index);return r},i.prototype.elEscape=function(r){var o;return o=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(o,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},i.prototype.attEscape=function(r){var o;return o=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(o,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},i}()}).call(Gt)),Z4.exports}var J4={exports:{}},Q4={exports:{}},cH;function Yee(){return cH||(cH=1,(function(){var n={}.hasOwnProperty;Q4.exports=function(){function e(i){var r,o,l,c,u,h,m,g,y;i||(i={}),this.pretty=i.pretty||!1,this.allowEmpty=(o=i.allowEmpty)!=null?o:!1,this.pretty?(this.indent=(l=i.indent)!=null?l:"  ",this.newline=(c=i.newline)!=null?c:`
`,this.offset=(u=i.offset)!=null?u:0,this.dontprettytextnodes=(h=i.dontprettytextnodes)!=null?h:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=(m=i.spacebeforeslash)!=null?m:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,g=i.writer||{};for(r in g)n.call(g,r)&&(y=g[r],this[r]=y)}return e.prototype.set=function(i){var r,o,l;i||(i={}),"pretty"in i&&(this.pretty=i.pretty),"allowEmpty"in i&&(this.allowEmpty=i.allowEmpty),this.pretty?(this.indent="indent"in i?i.indent:"  ",this.newline="newline"in i?i.newline:`
`,this.offset="offset"in i?i.offset:0,this.dontprettytextnodes="dontprettytextnodes"in i?i.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in i?i.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,o=i.writer||{};for(r in o)n.call(o,r)&&(l=o[r],this[r]=l);return this},e.prototype.space=function(i){var r;return this.pretty?(r=(i||0)+this.offset+1,r>0?new Array(r).join(this.indent):""):""},e}()}).call(Gt)),Q4.exports}var uH;function kL(){return uH||(uH=1,(function(){var n,e,i,r,o,l,c,u,h,m,g,y,v,_,A=function(T,C){for(var N in C)S.call(C,N)&&(T[N]=C[N]);function I(){this.constructor=T}return I.prototype=C.prototype,T.prototype=new I,T.__super__=C.prototype,T},S={}.hasOwnProperty;c=Q3(),u=rP(),n=Z3(),e=J3(),m=K3(),y=sP(),v=oP(),g=aP(),h=_L(),i=eP(),r=nP(),o=tP(),l=iP(),_=Yee(),J4.exports=function(T){A(C,T);function C(N){C.__super__.constructor.call(this,N)}return C.prototype.document=function(N){var I,O,F,L,z;for(this.textispresent=!1,L="",z=N.children,O=0,F=z.length;O<F;O++)I=z[O],!(I instanceof h)&&(L+=(function(){switch(!1){case!(I instanceof c):return this.declaration(I);case!(I instanceof u):return this.docType(I);case!(I instanceof e):return this.comment(I);case!(I instanceof g):return this.processingInstruction(I);default:return this.element(I,0)}}).call(this));return this.pretty&&L.slice(-this.newline.length)===this.newline&&(L=L.slice(0,-this.newline.length)),L},C.prototype.attribute=function(N){return" "+N.name+'="'+N.value+'"'},C.prototype.cdata=function(N,I){return this.space(I)+"<![CDATA["+N.text+"]]>"+this.newline},C.prototype.comment=function(N,I){return this.space(I)+"<!-- "+N.text+" -->"+this.newline},C.prototype.declaration=function(N,I){var O;return O=this.space(I),O+='<?xml version="'+N.version+'"',N.encoding!=null&&(O+=' encoding="'+N.encoding+'"'),N.standalone!=null&&(O+=' standalone="'+N.standalone+'"'),O+=this.spacebeforeslash+"?>",O+=this.newline,O},C.prototype.docType=function(N,I){var O,F,L,z,B;if(I||(I=0),z=this.space(I),z+="<!DOCTYPE "+N.root().name,N.pubID&&N.sysID?z+=' PUBLIC "'+N.pubID+'" "'+N.sysID+'"':N.sysID&&(z+=' SYSTEM "'+N.sysID+'"'),N.children.length>0){for(z+=" [",z+=this.newline,B=N.children,F=0,L=B.length;F<L;F++)O=B[F],z+=(function(){switch(!1){case!(O instanceof i):return this.dtdAttList(O,I+1);case!(O instanceof r):return this.dtdElement(O,I+1);case!(O instanceof o):return this.dtdEntity(O,I+1);case!(O instanceof l):return this.dtdNotation(O,I+1);case!(O instanceof n):return this.cdata(O,I+1);case!(O instanceof e):return this.comment(O,I+1);case!(O instanceof g):return this.processingInstruction(O,I+1);default:throw new Error("Unknown DTD node type: "+O.constructor.name)}}).call(this);z+="]"}return z+=this.spacebeforeslash+">",z+=this.newline,z},C.prototype.element=function(N,I){var O,F,L,z,B,Y,se,de,J,be,q,Te,ie;I||(I=0),ie=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),Te=this.space(I),de="",de+=Te+"<"+N.name,J=N.attributes;for(se in J)S.call(J,se)&&(O=J[se],de+=this.attribute(O));if(N.children.length===0||N.children.every(function(ce){return ce.value===""}))this.allowEmpty?de+="></"+N.name+">"+this.newline:de+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&N.children.length===1&&N.children[0].value!=null)de+=">",de+=N.children[0].value,de+="</"+N.name+">"+this.newline;else{if(this.dontprettytextnodes){for(be=N.children,L=0,B=be.length;L<B;L++)if(F=be[L],F.value!=null){this.textispresent++,ie=!0;break}}for(this.textispresent&&(this.newline="",this.pretty=!1,Te=this.space(I)),de+=">"+this.newline,q=N.children,z=0,Y=q.length;z<Y;z++)F=q[z],de+=(function(){switch(!1){case!(F instanceof n):return this.cdata(F,I+1);case!(F instanceof e):return this.comment(F,I+1);case!(F instanceof m):return this.element(F,I+1);case!(F instanceof y):return this.raw(F,I+1);case!(F instanceof v):return this.text(F,I+1);case!(F instanceof g):return this.processingInstruction(F,I+1);case!(F instanceof h):return"";default:throw new Error("Unknown XML node type: "+F.constructor.name)}}).call(this);ie&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),de+=Te+"</"+N.name+">"+this.newline}return de},C.prototype.processingInstruction=function(N,I){var O;return O=this.space(I)+"<?"+N.target,N.value&&(O+=" "+N.value),O+=this.spacebeforeslash+"?>"+this.newline,O},C.prototype.raw=function(N,I){return this.space(I)+N.value+this.newline},C.prototype.text=function(N,I){return this.space(I)+N.value+this.newline},C.prototype.dtdAttList=function(N,I){var O;return O=this.space(I)+"<!ATTLIST "+N.elementName+" "+N.attributeName+" "+N.attributeType,N.defaultValueType!=="#DEFAULT"&&(O+=" "+N.defaultValueType),N.defaultValue&&(O+=' "'+N.defaultValue+'"'),O+=this.spacebeforeslash+">"+this.newline,O},C.prototype.dtdElement=function(N,I){return this.space(I)+"<!ELEMENT "+N.name+" "+N.value+this.spacebeforeslash+">"+this.newline},C.prototype.dtdEntity=function(N,I){var O;return O=this.space(I)+"<!ENTITY",N.pe&&(O+=" %"),O+=" "+N.name,N.value?O+=' "'+N.value+'"':(N.pubID&&N.sysID?O+=' PUBLIC "'+N.pubID+'" "'+N.sysID+'"':N.sysID&&(O+=' SYSTEM "'+N.sysID+'"'),N.nData&&(O+=" NDATA "+N.nData)),O+=this.spacebeforeslash+">"+this.newline,O},C.prototype.dtdNotation=function(N,I){var O;return O=this.space(I)+"<!NOTATION "+N.name,N.pubID&&N.sysID?O+=' PUBLIC "'+N.pubID+'" "'+N.sysID+'"':N.pubID?O+=' PUBLIC "'+N.pubID+'"':N.sysID&&(O+=' SYSTEM "'+N.sysID+'"'),O+=this.spacebeforeslash+">"+this.newline,O},C.prototype.openNode=function(N,I){var O,F,L,z;if(I||(I=0),N instanceof m){L=this.space(I)+"<"+N.name,z=N.attributes;for(F in z)S.call(z,F)&&(O=z[F],L+=this.attribute(O));return L+=(N.children?">":"/>")+this.newline,L}else return L=this.space(I)+"<!DOCTYPE "+N.rootNodeName,N.pubID&&N.sysID?L+=' PUBLIC "'+N.pubID+'" "'+N.sysID+'"':N.sysID&&(L+=' SYSTEM "'+N.sysID+'"'),L+=(N.children?" [":">")+this.newline,L},C.prototype.closeNode=function(N,I){switch(I||(I=0),!1){case!(N instanceof m):return this.space(I)+"</"+N.name+">"+this.newline;case!(N instanceof u):return this.space(I)+"]>"+this.newline}},C}(_)}).call(Gt)),J4.exports}var dH;function kEe(){return dH||(dH=1,(function(){var n,e,i,r,o=function(c,u){for(var h in u)l.call(u,h)&&(c[h]=u[h]);function m(){this.constructor=c}return m.prototype=u.prototype,c.prototype=new m,c.__super__=u.prototype,c},l={}.hasOwnProperty;r=ig().isPlainObject,n=Na(),i=Xee(),e=kL(),M4.exports=function(c){o(u,c);function u(h){u.__super__.constructor.call(this,null),this.name="?xml",h||(h={}),h.writer||(h.writer=new e),this.options=h,this.stringify=new i(h),this.isDocument=!0}return u.prototype.end=function(h){var m;return h?r(h)&&(m=h,h=this.options.writer.set(m)):h=this.options.writer,h.document(this)},u.prototype.toString=function(h){return this.options.writer.set(h).document(this)},u}(n)}).call(Gt)),M4.exports}var eR={exports:{}},hH;function EEe(){return hH||(hH=1,(function(){var n,e,i,r,o,l,c,u,h,m,g,y,v,_,A,S,T,C,N,I,O={}.hasOwnProperty;I=ig(),C=I.isObject,T=I.isFunction,N=I.isPlainObject,S=I.getValue,m=K3(),e=Z3(),i=J3(),y=sP(),A=oP(),g=aP(),u=Q3(),h=rP(),r=eP(),l=tP(),o=nP(),c=iP(),n=Gee(),_=Xee(),v=kL(),eR.exports=function(){function F(L,z,B){var Y;this.name="?xml",L||(L={}),L.writer?N(L.writer)&&(Y=L.writer,L.writer=new v(Y)):L.writer=new v(L),this.options=L,this.writer=L.writer,this.stringify=new _(L),this.onDataCallback=z||function(){},this.onEndCallback=B||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return F.prototype.node=function(L,z,B){var Y,se;if(L==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(L));return this.openCurrent(),L=S(L),z===null&&B==null&&(Y=[{},null],z=Y[0],B=Y[1]),z==null&&(z={}),z=S(z),C(z)||(se=[z,B],B=se[0],z=se[1]),this.currentNode=new m(this,L,z),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,B!=null&&this.text(B),this},F.prototype.element=function(L,z,B){return this.currentNode&&this.currentNode instanceof h?this.dtdElement.apply(this,arguments):this.node(L,z,B)},F.prototype.attribute=function(L,z){var B,Y;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(L));if(L!=null&&(L=S(L)),C(L))for(B in L)O.call(L,B)&&(Y=L[B],this.attribute(B,Y));else T(z)&&(z=z.apply()),(!this.options.skipNullAttributes||z!=null)&&(this.currentNode.attributes[L]=new n(this,L,z));return this},F.prototype.text=function(L){var z;return this.openCurrent(),z=new A(this,L),this.onData(this.writer.text(z,this.currentLevel+1),this.currentLevel+1),this},F.prototype.cdata=function(L){var z;return this.openCurrent(),z=new e(this,L),this.onData(this.writer.cdata(z,this.currentLevel+1),this.currentLevel+1),this},F.prototype.comment=function(L){var z;return this.openCurrent(),z=new i(this,L),this.onData(this.writer.comment(z,this.currentLevel+1),this.currentLevel+1),this},F.prototype.raw=function(L){var z;return this.openCurrent(),z=new y(this,L),this.onData(this.writer.raw(z,this.currentLevel+1),this.currentLevel+1),this},F.prototype.instruction=function(L,z){var B,Y,se,de,J;if(this.openCurrent(),L!=null&&(L=S(L)),z!=null&&(z=S(z)),Array.isArray(L))for(B=0,de=L.length;B<de;B++)Y=L[B],this.instruction(Y);else if(C(L))for(Y in L)O.call(L,Y)&&(se=L[Y],this.instruction(Y,se));else T(z)&&(z=z.apply()),J=new g(this,L,z),this.onData(this.writer.processingInstruction(J,this.currentLevel+1),this.currentLevel+1);return this},F.prototype.declaration=function(L,z,B){var Y;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return Y=new u(this,L,z,B),this.onData(this.writer.declaration(Y,this.currentLevel+1),this.currentLevel+1),this},F.prototype.doctype=function(L,z,B){if(this.openCurrent(),L==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new h(this,z,B),this.currentNode.rootNodeName=L,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},F.prototype.dtdElement=function(L,z){var B;return this.openCurrent(),B=new o(this,L,z),this.onData(this.writer.dtdElement(B,this.currentLevel+1),this.currentLevel+1),this},F.prototype.attList=function(L,z,B,Y,se){var de;return this.openCurrent(),de=new r(this,L,z,B,Y,se),this.onData(this.writer.dtdAttList(de,this.currentLevel+1),this.currentLevel+1),this},F.prototype.entity=function(L,z){var B;return this.openCurrent(),B=new l(this,!1,L,z),this.onData(this.writer.dtdEntity(B,this.currentLevel+1),this.currentLevel+1),this},F.prototype.pEntity=function(L,z){var B;return this.openCurrent(),B=new l(this,!0,L,z),this.onData(this.writer.dtdEntity(B,this.currentLevel+1),this.currentLevel+1),this},F.prototype.notation=function(L,z){var B;return this.openCurrent(),B=new c(this,L,z),this.onData(this.writer.dtdNotation(B,this.currentLevel+1),this.currentLevel+1),this},F.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},F.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},F.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},F.prototype.openNode=function(L){if(!L.isOpen)return!this.root&&this.currentLevel===0&&L instanceof m&&(this.root=L),this.onData(this.writer.openNode(L,this.currentLevel),this.currentLevel),L.isOpen=!0},F.prototype.closeNode=function(L){if(!L.isClosed)return this.onData(this.writer.closeNode(L,this.currentLevel),this.currentLevel),L.isClosed=!0},F.prototype.onData=function(L,z){return this.documentStarted=!0,this.onDataCallback(L,z+1)},F.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},F.prototype.debugInfo=function(L){return L==null?"":"node: <"+L+">"},F.prototype.ele=function(){return this.element.apply(this,arguments)},F.prototype.nod=function(L,z,B){return this.node(L,z,B)},F.prototype.txt=function(L){return this.text(L)},F.prototype.dat=function(L){return this.cdata(L)},F.prototype.com=function(L){return this.comment(L)},F.prototype.ins=function(L,z){return this.instruction(L,z)},F.prototype.dec=function(L,z,B){return this.declaration(L,z,B)},F.prototype.dtd=function(L,z,B){return this.doctype(L,z,B)},F.prototype.e=function(L,z,B){return this.element(L,z,B)},F.prototype.n=function(L,z,B){return this.node(L,z,B)},F.prototype.t=function(L){return this.text(L)},F.prototype.d=function(L){return this.cdata(L)},F.prototype.c=function(L){return this.comment(L)},F.prototype.r=function(L){return this.raw(L)},F.prototype.i=function(L,z){return this.instruction(L,z)},F.prototype.att=function(){return this.currentNode&&this.currentNode instanceof h?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},F.prototype.a=function(){return this.currentNode&&this.currentNode instanceof h?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},F.prototype.ent=function(L,z){return this.entity(L,z)},F.prototype.pent=function(L,z){return this.pEntity(L,z)},F.prototype.not=function(L,z){return this.notation(L,z)},F}()}).call(Gt)),eR.exports}var tR={exports:{}},fH;function SEe(){return fH||(fH=1,(function(){var n,e,i,r,o,l,c,u,h,m,g,y,v,_,A=function(T,C){for(var N in C)S.call(C,N)&&(T[N]=C[N]);function I(){this.constructor=T}return I.prototype=C.prototype,T.prototype=new I,T.__super__=C.prototype,T},S={}.hasOwnProperty;c=Q3(),u=rP(),n=Z3(),e=J3(),m=K3(),y=sP(),v=oP(),g=aP(),h=_L(),i=eP(),r=nP(),o=tP(),l=iP(),_=Yee(),tR.exports=function(T){A(C,T);function C(N,I){C.__super__.constructor.call(this,I),this.stream=N}return C.prototype.document=function(N){var I,O,F,L,z,B,Y,se;for(B=N.children,O=0,L=B.length;O<L;O++)I=B[O],I.isLastRootNode=!1;for(N.children[N.children.length-1].isLastRootNode=!0,Y=N.children,se=[],F=0,z=Y.length;F<z;F++)if(I=Y[F],!(I instanceof h))switch(!1){case!(I instanceof c):se.push(this.declaration(I));break;case!(I instanceof u):se.push(this.docType(I));break;case!(I instanceof e):se.push(this.comment(I));break;case!(I instanceof g):se.push(this.processingInstruction(I));break;default:se.push(this.element(I))}return se},C.prototype.attribute=function(N){return this.stream.write(" "+N.name+'="'+N.value+'"')},C.prototype.cdata=function(N,I){return this.stream.write(this.space(I)+"<![CDATA["+N.text+"]]>"+this.endline(N))},C.prototype.comment=function(N,I){return this.stream.write(this.space(I)+"<!-- "+N.text+" -->"+this.endline(N))},C.prototype.declaration=function(N,I){return this.stream.write(this.space(I)),this.stream.write('<?xml version="'+N.version+'"'),N.encoding!=null&&this.stream.write(' encoding="'+N.encoding+'"'),N.standalone!=null&&this.stream.write(' standalone="'+N.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(N))},C.prototype.docType=function(N,I){var O,F,L,z;if(I||(I=0),this.stream.write(this.space(I)),this.stream.write("<!DOCTYPE "+N.root().name),N.pubID&&N.sysID?this.stream.write(' PUBLIC "'+N.pubID+'" "'+N.sysID+'"'):N.sysID&&this.stream.write(' SYSTEM "'+N.sysID+'"'),N.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(N)),z=N.children,F=0,L=z.length;F<L;F++)switch(O=z[F],!1){case!(O instanceof i):this.dtdAttList(O,I+1);break;case!(O instanceof r):this.dtdElement(O,I+1);break;case!(O instanceof o):this.dtdEntity(O,I+1);break;case!(O instanceof l):this.dtdNotation(O,I+1);break;case!(O instanceof n):this.cdata(O,I+1);break;case!(O instanceof e):this.comment(O,I+1);break;case!(O instanceof g):this.processingInstruction(O,I+1);break;default:throw new Error("Unknown DTD node type: "+O.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(N))},C.prototype.element=function(N,I){var O,F,L,z,B,Y,se,de;I||(I=0),de=this.space(I),this.stream.write(de+"<"+N.name),Y=N.attributes;for(B in Y)S.call(Y,B)&&(O=Y[B],this.attribute(O));if(N.children.length===0||N.children.every(function(J){return J.value===""}))this.allowEmpty?this.stream.write("></"+N.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&N.children.length===1&&N.children[0].value!=null)this.stream.write(">"),this.stream.write(N.children[0].value),this.stream.write("</"+N.name+">");else{for(this.stream.write(">"+this.newline),se=N.children,L=0,z=se.length;L<z;L++)switch(F=se[L],!1){case!(F instanceof n):this.cdata(F,I+1);break;case!(F instanceof e):this.comment(F,I+1);break;case!(F instanceof m):this.element(F,I+1);break;case!(F instanceof y):this.raw(F,I+1);break;case!(F instanceof v):this.text(F,I+1);break;case!(F instanceof g):this.processingInstruction(F,I+1);break;case!(F instanceof h):break;default:throw new Error("Unknown XML node type: "+F.constructor.name)}this.stream.write(de+"</"+N.name+">")}return this.stream.write(this.endline(N))},C.prototype.processingInstruction=function(N,I){return this.stream.write(this.space(I)+"<?"+N.target),N.value&&this.stream.write(" "+N.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(N))},C.prototype.raw=function(N,I){return this.stream.write(this.space(I)+N.value+this.endline(N))},C.prototype.text=function(N,I){return this.stream.write(this.space(I)+N.value+this.endline(N))},C.prototype.dtdAttList=function(N,I){return this.stream.write(this.space(I)+"<!ATTLIST "+N.elementName+" "+N.attributeName+" "+N.attributeType),N.defaultValueType!=="#DEFAULT"&&this.stream.write(" "+N.defaultValueType),N.defaultValue&&this.stream.write(' "'+N.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(N))},C.prototype.dtdElement=function(N,I){return this.stream.write(this.space(I)+"<!ELEMENT "+N.name+" "+N.value),this.stream.write(this.spacebeforeslash+">"+this.endline(N))},C.prototype.dtdEntity=function(N,I){return this.stream.write(this.space(I)+"<!ENTITY"),N.pe&&this.stream.write(" %"),this.stream.write(" "+N.name),N.value?this.stream.write(' "'+N.value+'"'):(N.pubID&&N.sysID?this.stream.write(' PUBLIC "'+N.pubID+'" "'+N.sysID+'"'):N.sysID&&this.stream.write(' SYSTEM "'+N.sysID+'"'),N.nData&&this.stream.write(" NDATA "+N.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(N))},C.prototype.dtdNotation=function(N,I){return this.stream.write(this.space(I)+"<!NOTATION "+N.name),N.pubID&&N.sysID?this.stream.write(' PUBLIC "'+N.pubID+'" "'+N.sysID+'"'):N.pubID?this.stream.write(' PUBLIC "'+N.pubID+'"'):N.sysID&&this.stream.write(' SYSTEM "'+N.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(N))},C.prototype.endline=function(N){return N.isLastRootNode?"":this.newline},C}(_)}).call(Gt)),tR.exports}(function(){var n,e,i,r,o,l,c;c=ig(),o=c.assign,l=c.isFunction,n=kEe(),e=EEe(),r=kL(),i=SEe(),Xk.create=function(u,h,m,g){var y,v;if(u==null)throw new Error("Root element needs a name.");return g=o({},h,m,g),y=new n(g),v=y.element(u),g.headless||(y.declaration(g),(g.pubID!=null||g.sysID!=null)&&y.doctype(g)),v},Xk.begin=function(u,h,m){var g;return l(u)&&(g=[u,h],h=g[0],m=g[1],u={}),h?new e(u,h,m):new n(u)},Xk.stringWriter=function(u){return new r(u)},Xk.streamWriter=function(u,h){return new i(u,h)}}).call(Gt);var pH=kr,AEe=Xk;Hee.writeString=TEe;function TEe(n,e){var i=pH.invert(e),r={element:l,text:CEe};function o(h,m){return r[m.type](h,m)}function l(h,m){var g=h.element(c(m.name),m.attributes);m.children.forEach(function(y){o(g,y)})}function c(h){var m=/^\{(.*)\}(.*)$/.exec(h);if(m){var g=i[m[1]];return g+(g===""?"":":")+m[2]}else return h}function u(h){var m=AEe.create(c(h.name),{version:"1.0",encoding:"UTF-8",standalone:!0});return pH.forEach(e,function(g,y){var v="xmlns"+(y===""?"":":"+y);m.attribute(v,g)}),h.children.forEach(function(g){o(m,g)}),m.end()}return u(n)}function CEe(n,e){n.text(e.value)}var lP=ux;Df.Element=lP.Element;Df.element=lP.element;Df.emptyElement=lP.emptyElement;Df.text=lP.text;Df.readString=fee.readString;Df.writeString=Hee.writeString;var DEe=kr,NEe=vs,PEe=Df;uL.read=Kee;uL.readXmlFromZipFile=jEe;var IEe={"http://schemas.openxmlformats.org/wordprocessingml/2006/main":"w","http://schemas.openxmlformats.org/officeDocument/2006/relationships":"r","http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing":"wp","http://schemas.openxmlformats.org/drawingml/2006/main":"a","http://schemas.openxmlformats.org/drawingml/2006/picture":"pic","http://purl.oclc.org/ooxml/wordprocessingml/main":"w","http://purl.oclc.org/ooxml/officeDocument/relationships":"r","http://purl.oclc.org/ooxml/drawingml/wordprocessingDrawing":"wp","http://purl.oclc.org/ooxml/drawingml/main":"a","http://purl.oclc.org/ooxml/drawingml/picture":"pic","http://schemas.openxmlformats.org/package/2006/content-types":"content-types","http://schemas.openxmlformats.org/package/2006/relationships":"relationships","http://schemas.openxmlformats.org/markup-compatibility/2006":"mc","urn:schemas-microsoft-com:vml":"v","urn:schemas-microsoft-com:office:word":"office-word","http://schemas.microsoft.com/office/word/2010/wordml":"wordml"};function Kee(n){return PEe.readString(n,IEe).then(function(e){return Zee(e)[0]})}function jEe(n,e){return n.exists(e)?n.read(e,"utf-8").then(REe).then(Kee):NEe.resolve(null)}function REe(n){return n.replace(/^\uFEFF/g,"")}function Zee(n){return n.type==="element"?n.name==="mc:AlternateContent"?n.firstOrEmpty("mc:Fallback").children:(n.children=DEe.flatten(n.children.map(Zee,!0)),[n]):[n]}var EL={},Mm={},SL={};Object.defineProperty(SL,"__esModule",{value:!0});var MEe=[{"Typeface name":"Symbol","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Symbol","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"33","Unicode hex":"21"},{"Typeface name":"Symbol","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"8704","Unicode hex":"2200"},{"Typeface name":"Symbol","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"35","Unicode hex":"23"},{"Typeface name":"Symbol","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"8707","Unicode hex":"2203"},{"Typeface name":"Symbol","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"37","Unicode hex":"25"},{"Typeface name":"Symbol","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"38","Unicode hex":"26"},{"Typeface name":"Symbol","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"8717","Unicode hex":"220D"},{"Typeface name":"Symbol","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"40","Unicode hex":"28"},{"Typeface name":"Symbol","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"41","Unicode hex":"29"},{"Typeface name":"Symbol","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"42","Unicode hex":"2A"},{"Typeface name":"Symbol","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"43","Unicode hex":"2B"},{"Typeface name":"Symbol","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"44","Unicode hex":"2C"},{"Typeface name":"Symbol","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"8722","Unicode hex":"2212"},{"Typeface name":"Symbol","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"46","Unicode hex":"2E"},{"Typeface name":"Symbol","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"47","Unicode hex":"2F"},{"Typeface name":"Symbol","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"48","Unicode hex":"30"},{"Typeface name":"Symbol","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"49","Unicode hex":"31"},{"Typeface name":"Symbol","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"50","Unicode hex":"32"},{"Typeface name":"Symbol","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"51","Unicode hex":"33"},{"Typeface name":"Symbol","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"52","Unicode hex":"34"},{"Typeface name":"Symbol","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"53","Unicode hex":"35"},{"Typeface name":"Symbol","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"54","Unicode hex":"36"},{"Typeface name":"Symbol","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"55","Unicode hex":"37"},{"Typeface name":"Symbol","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"56","Unicode hex":"38"},{"Typeface name":"Symbol","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"57","Unicode hex":"39"},{"Typeface name":"Symbol","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"58","Unicode hex":"3A"},{"Typeface name":"Symbol","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"59","Unicode hex":"3B"},{"Typeface name":"Symbol","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"60","Unicode hex":"3C"},{"Typeface name":"Symbol","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"61","Unicode hex":"3D"},{"Typeface name":"Symbol","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"62","Unicode hex":"3E"},{"Typeface name":"Symbol","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"63","Unicode hex":"3F"},{"Typeface name":"Symbol","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"8773","Unicode hex":"2245"},{"Typeface name":"Symbol","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"913","Unicode hex":"391"},{"Typeface name":"Symbol","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"914","Unicode hex":"392"},{"Typeface name":"Symbol","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"935","Unicode hex":"3A7"},{"Typeface name":"Symbol","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"916","Unicode hex":"394"},{"Typeface name":"Symbol","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"917","Unicode hex":"395"},{"Typeface name":"Symbol","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"934","Unicode hex":"3A6"},{"Typeface name":"Symbol","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"915","Unicode hex":"393"},{"Typeface name":"Symbol","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"919","Unicode hex":"397"},{"Typeface name":"Symbol","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"921","Unicode hex":"399"},{"Typeface name":"Symbol","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"977","Unicode hex":"3D1"},{"Typeface name":"Symbol","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"922","Unicode hex":"39A"},{"Typeface name":"Symbol","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"923","Unicode hex":"39B"},{"Typeface name":"Symbol","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"924","Unicode hex":"39C"},{"Typeface name":"Symbol","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"925","Unicode hex":"39D"},{"Typeface name":"Symbol","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"927","Unicode hex":"39F"},{"Typeface name":"Symbol","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"928","Unicode hex":"3A0"},{"Typeface name":"Symbol","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"920","Unicode hex":"398"},{"Typeface name":"Symbol","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"929","Unicode hex":"3A1"},{"Typeface name":"Symbol","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"931","Unicode hex":"3A3"},{"Typeface name":"Symbol","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"932","Unicode hex":"3A4"},{"Typeface name":"Symbol","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"933","Unicode hex":"3A5"},{"Typeface name":"Symbol","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"962","Unicode hex":"3C2"},{"Typeface name":"Symbol","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"937","Unicode hex":"3A9"},{"Typeface name":"Symbol","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"926","Unicode hex":"39E"},{"Typeface name":"Symbol","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"936","Unicode hex":"3A8"},{"Typeface name":"Symbol","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"918","Unicode hex":"396"},{"Typeface name":"Symbol","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"91","Unicode hex":"5B"},{"Typeface name":"Symbol","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"8756","Unicode hex":"2234"},{"Typeface name":"Symbol","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"93","Unicode hex":"5D"},{"Typeface name":"Symbol","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"8869","Unicode hex":"22A5"},{"Typeface name":"Symbol","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"95","Unicode hex":"5F"},{"Typeface name":"Symbol","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"8254","Unicode hex":"203E"},{"Typeface name":"Symbol","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"945","Unicode hex":"3B1"},{"Typeface name":"Symbol","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"946","Unicode hex":"3B2"},{"Typeface name":"Symbol","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"967","Unicode hex":"3C7"},{"Typeface name":"Symbol","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"948","Unicode hex":"3B4"},{"Typeface name":"Symbol","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"949","Unicode hex":"3B5"},{"Typeface name":"Symbol","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"966","Unicode hex":"3C6"},{"Typeface name":"Symbol","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"947","Unicode hex":"3B3"},{"Typeface name":"Symbol","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"951","Unicode hex":"3B7"},{"Typeface name":"Symbol","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"953","Unicode hex":"3B9"},{"Typeface name":"Symbol","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"981","Unicode hex":"3D5"},{"Typeface name":"Symbol","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"954","Unicode hex":"3BA"},{"Typeface name":"Symbol","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"955","Unicode hex":"3BB"},{"Typeface name":"Symbol","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"956","Unicode hex":"3BC"},{"Typeface name":"Symbol","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"957","Unicode hex":"3BD"},{"Typeface name":"Symbol","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"959","Unicode hex":"3BF"},{"Typeface name":"Symbol","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"960","Unicode hex":"3C0"},{"Typeface name":"Symbol","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"952","Unicode hex":"3B8"},{"Typeface name":"Symbol","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"961","Unicode hex":"3C1"},{"Typeface name":"Symbol","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"963","Unicode hex":"3C3"},{"Typeface name":"Symbol","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"964","Unicode hex":"3C4"},{"Typeface name":"Symbol","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"965","Unicode hex":"3C5"},{"Typeface name":"Symbol","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"982","Unicode hex":"3D6"},{"Typeface name":"Symbol","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"969","Unicode hex":"3C9"},{"Typeface name":"Symbol","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"958","Unicode hex":"3BE"},{"Typeface name":"Symbol","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"968","Unicode hex":"3C8"},{"Typeface name":"Symbol","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"950","Unicode hex":"3B6"},{"Typeface name":"Symbol","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"123","Unicode hex":"7B"},{"Typeface name":"Symbol","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"124","Unicode hex":"7C"},{"Typeface name":"Symbol","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"125","Unicode hex":"7D"},{"Typeface name":"Symbol","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"126","Unicode hex":"7E"},{"Typeface name":"Symbol","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"8364","Unicode hex":"20AC"},{"Typeface name":"Symbol","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"978","Unicode hex":"3D2"},{"Typeface name":"Symbol","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"8242","Unicode hex":"2032"},{"Typeface name":"Symbol","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"8804","Unicode hex":"2264"},{"Typeface name":"Symbol","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"8260","Unicode hex":"2044"},{"Typeface name":"Symbol","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"8734","Unicode hex":"221E"},{"Typeface name":"Symbol","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"402","Unicode hex":"192"},{"Typeface name":"Symbol","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9827","Unicode hex":"2663"},{"Typeface name":"Symbol","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9830","Unicode hex":"2666"},{"Typeface name":"Symbol","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"9829","Unicode hex":"2665"},{"Typeface name":"Symbol","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"9824","Unicode hex":"2660"},{"Typeface name":"Symbol","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"8596","Unicode hex":"2194"},{"Typeface name":"Symbol","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"8592","Unicode hex":"2190"},{"Typeface name":"Symbol","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"8593","Unicode hex":"2191"},{"Typeface name":"Symbol","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"8594","Unicode hex":"2192"},{"Typeface name":"Symbol","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"8595","Unicode hex":"2193"},{"Typeface name":"Symbol","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"176","Unicode hex":"B0"},{"Typeface name":"Symbol","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"177","Unicode hex":"B1"},{"Typeface name":"Symbol","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"8243","Unicode hex":"2033"},{"Typeface name":"Symbol","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"8805","Unicode hex":"2265"},{"Typeface name":"Symbol","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"215","Unicode hex":"D7"},{"Typeface name":"Symbol","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"8733","Unicode hex":"221D"},{"Typeface name":"Symbol","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"8706","Unicode hex":"2202"},{"Typeface name":"Symbol","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Symbol","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"247","Unicode hex":"F7"},{"Typeface name":"Symbol","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"8800","Unicode hex":"2260"},{"Typeface name":"Symbol","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"8801","Unicode hex":"2261"},{"Typeface name":"Symbol","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"8776","Unicode hex":"2248"},{"Typeface name":"Symbol","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"8230","Unicode hex":"2026"},{"Typeface name":"Symbol","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Symbol","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"9135","Unicode hex":"23AF"},{"Typeface name":"Symbol","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"8629","Unicode hex":"21B5"},{"Typeface name":"Symbol","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"8501","Unicode hex":"2135"},{"Typeface name":"Symbol","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"8465","Unicode hex":"2111"},{"Typeface name":"Symbol","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"8476","Unicode hex":"211C"},{"Typeface name":"Symbol","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"8472","Unicode hex":"2118"},{"Typeface name":"Symbol","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"8855","Unicode hex":"2297"},{"Typeface name":"Symbol","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"8853","Unicode hex":"2295"},{"Typeface name":"Symbol","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"8709","Unicode hex":"2205"},{"Typeface name":"Symbol","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"8745","Unicode hex":"2229"},{"Typeface name":"Symbol","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"8746","Unicode hex":"222A"},{"Typeface name":"Symbol","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"8835","Unicode hex":"2283"},{"Typeface name":"Symbol","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"8839","Unicode hex":"2287"},{"Typeface name":"Symbol","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"8836","Unicode hex":"2284"},{"Typeface name":"Symbol","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"8834","Unicode hex":"2282"},{"Typeface name":"Symbol","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"8838","Unicode hex":"2286"},{"Typeface name":"Symbol","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"8712","Unicode hex":"2208"},{"Typeface name":"Symbol","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"8713","Unicode hex":"2209"},{"Typeface name":"Symbol","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"8736","Unicode hex":"2220"},{"Typeface name":"Symbol","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"8711","Unicode hex":"2207"},{"Typeface name":"Symbol","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"8719","Unicode hex":"220F"},{"Typeface name":"Symbol","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8730","Unicode hex":"221A"},{"Typeface name":"Symbol","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Symbol","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"172","Unicode hex":"AC"},{"Typeface name":"Symbol","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"8743","Unicode hex":"2227"},{"Typeface name":"Symbol","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"8744","Unicode hex":"2228"},{"Typeface name":"Symbol","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"8660","Unicode hex":"21D4"},{"Typeface name":"Symbol","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"8656","Unicode hex":"21D0"},{"Typeface name":"Symbol","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"8657","Unicode hex":"21D1"},{"Typeface name":"Symbol","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"8658","Unicode hex":"21D2"},{"Typeface name":"Symbol","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"8659","Unicode hex":"21D3"},{"Typeface name":"Symbol","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Symbol","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"12296","Unicode hex":"3008"},{"Typeface name":"Symbol","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"8721","Unicode hex":"2211"},{"Typeface name":"Symbol","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"9115","Unicode hex":"239B"},{"Typeface name":"Symbol","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"9116","Unicode hex":"239C"},{"Typeface name":"Symbol","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9117","Unicode hex":"239D"},{"Typeface name":"Symbol","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9121","Unicode hex":"23A1"},{"Typeface name":"Symbol","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"9122","Unicode hex":"23A2"},{"Typeface name":"Symbol","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"9123","Unicode hex":"23A3"},{"Typeface name":"Symbol","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"9127","Unicode hex":"23A7"},{"Typeface name":"Symbol","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"9128","Unicode hex":"23A8"},{"Typeface name":"Symbol","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"9129","Unicode hex":"23A9"},{"Typeface name":"Symbol","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"9130","Unicode hex":"23AA"},{"Typeface name":"Symbol","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"63743","Unicode hex":"F8FF"},{"Typeface name":"Symbol","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"12297","Unicode hex":"3009"},{"Typeface name":"Symbol","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8747","Unicode hex":"222B"},{"Typeface name":"Symbol","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"8992","Unicode hex":"2320"},{"Typeface name":"Symbol","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"9134","Unicode hex":"23AE"},{"Typeface name":"Symbol","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"8993","Unicode hex":"2321"},{"Typeface name":"Symbol","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"9118","Unicode hex":"239E"},{"Typeface name":"Symbol","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"9119","Unicode hex":"239F"},{"Typeface name":"Symbol","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"9120","Unicode hex":"23A0"},{"Typeface name":"Symbol","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"9124","Unicode hex":"23A4"},{"Typeface name":"Symbol","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"9125","Unicode hex":"23A5"},{"Typeface name":"Symbol","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"9126","Unicode hex":"23A6"},{"Typeface name":"Symbol","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"9131","Unicode hex":"23AB"},{"Typeface name":"Symbol","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"9132","Unicode hex":"23AC"},{"Typeface name":"Symbol","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"9133","Unicode hex":"23AD"},{"Typeface name":"Webdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Webdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128375","Unicode hex":"1F577"},{"Typeface name":"Webdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128376","Unicode hex":"1F578"},{"Typeface name":"Webdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128370","Unicode hex":"1F572"},{"Typeface name":"Webdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128374","Unicode hex":"1F576"},{"Typeface name":"Webdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"127942","Unicode hex":"1F3C6"},{"Typeface name":"Webdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"127894","Unicode hex":"1F396"},{"Typeface name":"Webdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128391","Unicode hex":"1F587"},{"Typeface name":"Webdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128488","Unicode hex":"1F5E8"},{"Typeface name":"Webdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128489","Unicode hex":"1F5E9"},{"Typeface name":"Webdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128496","Unicode hex":"1F5F0"},{"Typeface name":"Webdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128497","Unicode hex":"1F5F1"},{"Typeface name":"Webdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"127798","Unicode hex":"1F336"},{"Typeface name":"Webdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"127895","Unicode hex":"1F397"},{"Typeface name":"Webdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128638","Unicode hex":"1F67E"},{"Typeface name":"Webdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128636","Unicode hex":"1F67C"},{"Typeface name":"Webdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128469","Unicode hex":"1F5D5"},{"Typeface name":"Webdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128470","Unicode hex":"1F5D6"},{"Typeface name":"Webdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128471","Unicode hex":"1F5D7"},{"Typeface name":"Webdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"9204","Unicode hex":"23F4"},{"Typeface name":"Webdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"9205","Unicode hex":"23F5"},{"Typeface name":"Webdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"9206","Unicode hex":"23F6"},{"Typeface name":"Webdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"9207","Unicode hex":"23F7"},{"Typeface name":"Webdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"9194","Unicode hex":"23EA"},{"Typeface name":"Webdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"9193","Unicode hex":"23E9"},{"Typeface name":"Webdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"9198","Unicode hex":"23EE"},{"Typeface name":"Webdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"9197","Unicode hex":"23ED"},{"Typeface name":"Webdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"9208","Unicode hex":"23F8"},{"Typeface name":"Webdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"9209","Unicode hex":"23F9"},{"Typeface name":"Webdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"9210","Unicode hex":"23FA"},{"Typeface name":"Webdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128474","Unicode hex":"1F5DA"},{"Typeface name":"Webdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128499","Unicode hex":"1F5F3"},{"Typeface name":"Webdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128736","Unicode hex":"1F6E0"},{"Typeface name":"Webdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"127959","Unicode hex":"1F3D7"},{"Typeface name":"Webdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"127960","Unicode hex":"1F3D8"},{"Typeface name":"Webdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"127961","Unicode hex":"1F3D9"},{"Typeface name":"Webdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"127962","Unicode hex":"1F3DA"},{"Typeface name":"Webdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"127964","Unicode hex":"1F3DC"},{"Typeface name":"Webdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"127981","Unicode hex":"1F3ED"},{"Typeface name":"Webdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"127963","Unicode hex":"1F3DB"},{"Typeface name":"Webdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"127968","Unicode hex":"1F3E0"},{"Typeface name":"Webdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"127958","Unicode hex":"1F3D6"},{"Typeface name":"Webdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"127965","Unicode hex":"1F3DD"},{"Typeface name":"Webdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128739","Unicode hex":"1F6E3"},{"Typeface name":"Webdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128269","Unicode hex":"1F50D"},{"Typeface name":"Webdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"127956","Unicode hex":"1F3D4"},{"Typeface name":"Webdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128065","Unicode hex":"1F441"},{"Typeface name":"Webdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128066","Unicode hex":"1F442"},{"Typeface name":"Webdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127966","Unicode hex":"1F3DE"},{"Typeface name":"Webdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"127957","Unicode hex":"1F3D5"},{"Typeface name":"Webdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"128740","Unicode hex":"1F6E4"},{"Typeface name":"Webdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127967","Unicode hex":"1F3DF"},{"Typeface name":"Webdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"128755","Unicode hex":"1F6F3"},{"Typeface name":"Webdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128364","Unicode hex":"1F56C"},{"Typeface name":"Webdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"128363","Unicode hex":"1F56B"},{"Typeface name":"Webdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128360","Unicode hex":"1F568"},{"Typeface name":"Webdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"128264","Unicode hex":"1F508"},{"Typeface name":"Webdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"127892","Unicode hex":"1F394"},{"Typeface name":"Webdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"127893","Unicode hex":"1F395"},{"Typeface name":"Webdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128492","Unicode hex":"1F5EC"},{"Typeface name":"Webdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128637","Unicode hex":"1F67D"},{"Typeface name":"Webdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"128493","Unicode hex":"1F5ED"},{"Typeface name":"Webdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128490","Unicode hex":"1F5EA"},{"Typeface name":"Webdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128491","Unicode hex":"1F5EB"},{"Typeface name":"Webdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"11156","Unicode hex":"2B94"},{"Typeface name":"Webdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"10004","Unicode hex":"2714"},{"Typeface name":"Webdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128690","Unicode hex":"1F6B2"},{"Typeface name":"Webdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"11036","Unicode hex":"2B1C"},{"Typeface name":"Webdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128737","Unicode hex":"1F6E1"},{"Typeface name":"Webdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128230","Unicode hex":"1F4E6"},{"Typeface name":"Webdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128753","Unicode hex":"1F6F1"},{"Typeface name":"Webdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"11035","Unicode hex":"2B1B"},{"Typeface name":"Webdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128657","Unicode hex":"1F691"},{"Typeface name":"Webdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"128712","Unicode hex":"1F6C8"},{"Typeface name":"Webdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128745","Unicode hex":"1F6E9"},{"Typeface name":"Webdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128752","Unicode hex":"1F6F0"},{"Typeface name":"Webdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"128968","Unicode hex":"1F7C8"},{"Typeface name":"Webdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128372","Unicode hex":"1F574"},{"Typeface name":"Webdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"11044","Unicode hex":"2B24"},{"Typeface name":"Webdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128741","Unicode hex":"1F6E5"},{"Typeface name":"Webdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128660","Unicode hex":"1F694"},{"Typeface name":"Webdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"128472","Unicode hex":"1F5D8"},{"Typeface name":"Webdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"128473","Unicode hex":"1F5D9"},{"Typeface name":"Webdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"10067","Unicode hex":"2753"},{"Typeface name":"Webdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"128754","Unicode hex":"1F6F2"},{"Typeface name":"Webdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"128647","Unicode hex":"1F687"},{"Typeface name":"Webdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"128653","Unicode hex":"1F68D"},{"Typeface name":"Webdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9971","Unicode hex":"26F3"},{"Typeface name":"Webdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Webdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"8854","Unicode hex":"2296"},{"Typeface name":"Webdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"128685","Unicode hex":"1F6AD"},{"Typeface name":"Webdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"128494","Unicode hex":"1F5EE"},{"Typeface name":"Webdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Webdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128495","Unicode hex":"1F5EF"},{"Typeface name":"Webdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128498","Unicode hex":"1F5F2"},{"Typeface name":"Webdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128697","Unicode hex":"1F6B9"},{"Typeface name":"Webdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"128698","Unicode hex":"1F6BA"},{"Typeface name":"Webdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"128713","Unicode hex":"1F6C9"},{"Typeface name":"Webdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"128714","Unicode hex":"1F6CA"},{"Typeface name":"Webdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"128700","Unicode hex":"1F6BC"},{"Typeface name":"Webdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"128125","Unicode hex":"1F47D"},{"Typeface name":"Webdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"127947","Unicode hex":"1F3CB"},{"Typeface name":"Webdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"9975","Unicode hex":"26F7"},{"Typeface name":"Webdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"127938","Unicode hex":"1F3C2"},{"Typeface name":"Webdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"127948","Unicode hex":"1F3CC"},{"Typeface name":"Webdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"127946","Unicode hex":"1F3CA"},{"Typeface name":"Webdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127940","Unicode hex":"1F3C4"},{"Typeface name":"Webdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"127949","Unicode hex":"1F3CD"},{"Typeface name":"Webdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"127950","Unicode hex":"1F3CE"},{"Typeface name":"Webdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128664","Unicode hex":"1F698"},{"Typeface name":"Webdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128480","Unicode hex":"1F5E0"},{"Typeface name":"Webdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128738","Unicode hex":"1F6E2"},{"Typeface name":"Webdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128176","Unicode hex":"1F4B0"},{"Typeface name":"Webdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"127991","Unicode hex":"1F3F7"},{"Typeface name":"Webdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128179","Unicode hex":"1F4B3"},{"Typeface name":"Webdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128106","Unicode hex":"1F46A"},{"Typeface name":"Webdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"128481","Unicode hex":"1F5E1"},{"Typeface name":"Webdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128482","Unicode hex":"1F5E2"},{"Typeface name":"Webdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128483","Unicode hex":"1F5E3"},{"Typeface name":"Webdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Webdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128388","Unicode hex":"1F584"},{"Typeface name":"Webdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128389","Unicode hex":"1F585"},{"Typeface name":"Webdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Webdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128390","Unicode hex":"1F586"},{"Typeface name":"Webdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128441","Unicode hex":"1F5B9"},{"Typeface name":"Webdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"128442","Unicode hex":"1F5BA"},{"Typeface name":"Webdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128443","Unicode hex":"1F5BB"},{"Typeface name":"Webdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128373","Unicode hex":"1F575"},{"Typeface name":"Webdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"128368","Unicode hex":"1F570"},{"Typeface name":"Webdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128445","Unicode hex":"1F5BD"},{"Typeface name":"Webdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128446","Unicode hex":"1F5BE"},{"Typeface name":"Webdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Webdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128466","Unicode hex":"1F5D2"},{"Typeface name":"Webdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128467","Unicode hex":"1F5D3"},{"Typeface name":"Webdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Webdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128218","Unicode hex":"1F4DA"},{"Typeface name":"Webdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128478","Unicode hex":"1F5DE"},{"Typeface name":"Webdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128479","Unicode hex":"1F5DF"},{"Typeface name":"Webdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128451","Unicode hex":"1F5C3"},{"Typeface name":"Webdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128450","Unicode hex":"1F5C2"},{"Typeface name":"Webdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128444","Unicode hex":"1F5BC"},{"Typeface name":"Webdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"127917","Unicode hex":"1F3AD"},{"Typeface name":"Webdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"127900","Unicode hex":"1F39C"},{"Typeface name":"Webdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"127896","Unicode hex":"1F398"},{"Typeface name":"Webdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"127897","Unicode hex":"1F399"},{"Typeface name":"Webdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"127911","Unicode hex":"1F3A7"},{"Typeface name":"Webdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128191","Unicode hex":"1F4BF"},{"Typeface name":"Webdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"127902","Unicode hex":"1F39E"},{"Typeface name":"Webdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128247","Unicode hex":"1F4F7"},{"Typeface name":"Webdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"127903","Unicode hex":"1F39F"},{"Typeface name":"Webdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"127916","Unicode hex":"1F3AC"},{"Typeface name":"Webdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128253","Unicode hex":"1F4FD"},{"Typeface name":"Webdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128249","Unicode hex":"1F4F9"},{"Typeface name":"Webdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128254","Unicode hex":"1F4FE"},{"Typeface name":"Webdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128251","Unicode hex":"1F4FB"},{"Typeface name":"Webdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"127898","Unicode hex":"1F39A"},{"Typeface name":"Webdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"127899","Unicode hex":"1F39B"},{"Typeface name":"Webdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128250","Unicode hex":"1F4FA"},{"Typeface name":"Webdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128187","Unicode hex":"1F4BB"},{"Typeface name":"Webdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128421","Unicode hex":"1F5A5"},{"Typeface name":"Webdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128422","Unicode hex":"1F5A6"},{"Typeface name":"Webdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128423","Unicode hex":"1F5A7"},{"Typeface name":"Webdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"128377","Unicode hex":"1F579"},{"Typeface name":"Webdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"127918","Unicode hex":"1F3AE"},{"Typeface name":"Webdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"128379","Unicode hex":"1F57B"},{"Typeface name":"Webdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128380","Unicode hex":"1F57C"},{"Typeface name":"Webdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128223","Unicode hex":"1F4DF"},{"Typeface name":"Webdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128385","Unicode hex":"1F581"},{"Typeface name":"Webdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128384","Unicode hex":"1F580"},{"Typeface name":"Webdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128424","Unicode hex":"1F5A8"},{"Typeface name":"Webdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128425","Unicode hex":"1F5A9"},{"Typeface name":"Webdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128447","Unicode hex":"1F5BF"},{"Typeface name":"Webdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128426","Unicode hex":"1F5AA"},{"Typeface name":"Webdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128476","Unicode hex":"1F5DC"},{"Typeface name":"Webdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128274","Unicode hex":"1F512"},{"Typeface name":"Webdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128275","Unicode hex":"1F513"},{"Typeface name":"Webdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128477","Unicode hex":"1F5DD"},{"Typeface name":"Webdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128229","Unicode hex":"1F4E5"},{"Typeface name":"Webdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128228","Unicode hex":"1F4E4"},{"Typeface name":"Webdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128371","Unicode hex":"1F573"},{"Typeface name":"Webdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"127779","Unicode hex":"1F323"},{"Typeface name":"Webdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"127780","Unicode hex":"1F324"},{"Typeface name":"Webdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"127781","Unicode hex":"1F325"},{"Typeface name":"Webdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"127782","Unicode hex":"1F326"},{"Typeface name":"Webdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"9729","Unicode hex":"2601"},{"Typeface name":"Webdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"127784","Unicode hex":"1F328"},{"Typeface name":"Webdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"127783","Unicode hex":"1F327"},{"Typeface name":"Webdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"127785","Unicode hex":"1F329"},{"Typeface name":"Webdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"127786","Unicode hex":"1F32A"},{"Typeface name":"Webdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"127788","Unicode hex":"1F32C"},{"Typeface name":"Webdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"127787","Unicode hex":"1F32B"},{"Typeface name":"Webdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"127772","Unicode hex":"1F31C"},{"Typeface name":"Webdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"127777","Unicode hex":"1F321"},{"Typeface name":"Webdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128715","Unicode hex":"1F6CB"},{"Typeface name":"Webdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128719","Unicode hex":"1F6CF"},{"Typeface name":"Webdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"127869","Unicode hex":"1F37D"},{"Typeface name":"Webdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"127864","Unicode hex":"1F378"},{"Typeface name":"Webdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128718","Unicode hex":"1F6CE"},{"Typeface name":"Webdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128717","Unicode hex":"1F6CD"},{"Typeface name":"Webdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9413","Unicode hex":"24C5"},{"Typeface name":"Webdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9855","Unicode hex":"267F"},{"Typeface name":"Webdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128710","Unicode hex":"1F6C6"},{"Typeface name":"Webdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"128392","Unicode hex":"1F588"},{"Typeface name":"Webdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"127891","Unicode hex":"1F393"},{"Typeface name":"Webdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128484","Unicode hex":"1F5E4"},{"Typeface name":"Webdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128485","Unicode hex":"1F5E5"},{"Typeface name":"Webdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128486","Unicode hex":"1F5E6"},{"Typeface name":"Webdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"128487","Unicode hex":"1F5E7"},{"Typeface name":"Webdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128746","Unicode hex":"1F6EA"},{"Typeface name":"Webdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128063","Unicode hex":"1F43F"},{"Typeface name":"Webdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"128038","Unicode hex":"1F426"},{"Typeface name":"Webdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128031","Unicode hex":"1F41F"},{"Typeface name":"Webdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128021","Unicode hex":"1F415"},{"Typeface name":"Webdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"128008","Unicode hex":"1F408"},{"Typeface name":"Webdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"128620","Unicode hex":"1F66C"},{"Typeface name":"Webdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"128622","Unicode hex":"1F66E"},{"Typeface name":"Webdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"128621","Unicode hex":"1F66D"},{"Typeface name":"Webdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"128623","Unicode hex":"1F66F"},{"Typeface name":"Webdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128506","Unicode hex":"1F5FA"},{"Typeface name":"Webdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"127757","Unicode hex":"1F30D"},{"Typeface name":"Webdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"127759","Unicode hex":"1F30F"},{"Typeface name":"Webdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"127758","Unicode hex":"1F30E"},{"Typeface name":"Webdings","Dingbat dec":"255","Dingbat hex":"FF","Unicode dec":"128330","Unicode hex":"1F54A"},{"Typeface name":"Wingdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128393","Unicode hex":"1F589"},{"Typeface name":"Wingdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"9986","Unicode hex":"2702"},{"Typeface name":"Wingdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"9985","Unicode hex":"2701"},{"Typeface name":"Wingdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128083","Unicode hex":"1F453"},{"Typeface name":"Wingdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"128365","Unicode hex":"1F56D"},{"Typeface name":"Wingdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Wingdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128367","Unicode hex":"1F56F"},{"Typeface name":"Wingdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128383","Unicode hex":"1F57F"},{"Typeface name":"Wingdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"9990","Unicode hex":"2706"},{"Typeface name":"Wingdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128386","Unicode hex":"1F582"},{"Typeface name":"Wingdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Wingdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128234","Unicode hex":"1F4EA"},{"Typeface name":"Wingdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128235","Unicode hex":"1F4EB"},{"Typeface name":"Wingdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128236","Unicode hex":"1F4EC"},{"Typeface name":"Wingdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128237","Unicode hex":"1F4ED"},{"Typeface name":"Wingdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128448","Unicode hex":"1F5C0"},{"Typeface name":"Wingdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128449","Unicode hex":"1F5C1"},{"Typeface name":"Wingdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128462","Unicode hex":"1F5CE"},{"Typeface name":"Wingdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128463","Unicode hex":"1F5CF"},{"Typeface name":"Wingdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128464","Unicode hex":"1F5D0"},{"Typeface name":"Wingdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128452","Unicode hex":"1F5C4"},{"Typeface name":"Wingdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"8987","Unicode hex":"231B"},{"Typeface name":"Wingdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128430","Unicode hex":"1F5AE"},{"Typeface name":"Wingdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128432","Unicode hex":"1F5B0"},{"Typeface name":"Wingdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128434","Unicode hex":"1F5B2"},{"Typeface name":"Wingdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128435","Unicode hex":"1F5B3"},{"Typeface name":"Wingdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128436","Unicode hex":"1F5B4"},{"Typeface name":"Wingdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128427","Unicode hex":"1F5AB"},{"Typeface name":"Wingdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128428","Unicode hex":"1F5AC"},{"Typeface name":"Wingdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"9991","Unicode hex":"2707"},{"Typeface name":"Wingdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"9997","Unicode hex":"270D"},{"Typeface name":"Wingdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128398","Unicode hex":"1F58E"},{"Typeface name":"Wingdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"9996","Unicode hex":"270C"},{"Typeface name":"Wingdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128399","Unicode hex":"1F58F"},{"Typeface name":"Wingdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128077","Unicode hex":"1F44D"},{"Typeface name":"Wingdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128078","Unicode hex":"1F44E"},{"Typeface name":"Wingdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"9756","Unicode hex":"261C"},{"Typeface name":"Wingdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"9758","Unicode hex":"261E"},{"Typeface name":"Wingdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"9757","Unicode hex":"261D"},{"Typeface name":"Wingdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"9759","Unicode hex":"261F"},{"Typeface name":"Wingdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128400","Unicode hex":"1F590"},{"Typeface name":"Wingdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"9786","Unicode hex":"263A"},{"Typeface name":"Wingdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128528","Unicode hex":"1F610"},{"Typeface name":"Wingdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"9785","Unicode hex":"2639"},{"Typeface name":"Wingdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128163","Unicode hex":"1F4A3"},{"Typeface name":"Wingdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128369","Unicode hex":"1F571"},{"Typeface name":"Wingdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"127987","Unicode hex":"1F3F3"},{"Typeface name":"Wingdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127985","Unicode hex":"1F3F1"},{"Typeface name":"Wingdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"9992","Unicode hex":"2708"},{"Typeface name":"Wingdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9788","Unicode hex":"263C"},{"Typeface name":"Wingdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127778","Unicode hex":"1F322"},{"Typeface name":"Wingdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"10052","Unicode hex":"2744"},{"Typeface name":"Wingdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128326","Unicode hex":"1F546"},{"Typeface name":"Wingdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"10014","Unicode hex":"271E"},{"Typeface name":"Wingdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128328","Unicode hex":"1F548"},{"Typeface name":"Wingdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10016","Unicode hex":"2720"},{"Typeface name":"Wingdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"10017","Unicode hex":"2721"},{"Typeface name":"Wingdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"9770","Unicode hex":"262A"},{"Typeface name":"Wingdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"9775","Unicode hex":"262F"},{"Typeface name":"Wingdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128329","Unicode hex":"1F549"},{"Typeface name":"Wingdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"9784","Unicode hex":"2638"},{"Typeface name":"Wingdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"9800","Unicode hex":"2648"},{"Typeface name":"Wingdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"9801","Unicode hex":"2649"},{"Typeface name":"Wingdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"9802","Unicode hex":"264A"},{"Typeface name":"Wingdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"9803","Unicode hex":"264B"},{"Typeface name":"Wingdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"9804","Unicode hex":"264C"},{"Typeface name":"Wingdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"9805","Unicode hex":"264D"},{"Typeface name":"Wingdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"9806","Unicode hex":"264E"},{"Typeface name":"Wingdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"9807","Unicode hex":"264F"},{"Typeface name":"Wingdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"9808","Unicode hex":"2650"},{"Typeface name":"Wingdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"9809","Unicode hex":"2651"},{"Typeface name":"Wingdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"9810","Unicode hex":"2652"},{"Typeface name":"Wingdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9811","Unicode hex":"2653"},{"Typeface name":"Wingdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128624","Unicode hex":"1F670"},{"Typeface name":"Wingdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128629","Unicode hex":"1F675"},{"Typeface name":"Wingdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9899","Unicode hex":"26AB"},{"Typeface name":"Wingdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128318","Unicode hex":"1F53E"},{"Typeface name":"Wingdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9724","Unicode hex":"25FC"},{"Typeface name":"Wingdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128911","Unicode hex":"1F78F"},{"Typeface name":"Wingdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128912","Unicode hex":"1F790"},{"Typeface name":"Wingdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"10065","Unicode hex":"2751"},{"Typeface name":"Wingdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"10066","Unicode hex":"2752"},{"Typeface name":"Wingdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"128927","Unicode hex":"1F79F"},{"Typeface name":"Wingdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"10731","Unicode hex":"29EB"},{"Typeface name":"Wingdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9670","Unicode hex":"25C6"},{"Typeface name":"Wingdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10070","Unicode hex":"2756"},{"Typeface name":"Wingdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"8999","Unicode hex":"2327"},{"Typeface name":"Wingdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"11193","Unicode hex":"2BB9"},{"Typeface name":"Wingdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"8984","Unicode hex":"2318"},{"Typeface name":"Wingdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"127989","Unicode hex":"1F3F5"},{"Typeface name":"Wingdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"127990","Unicode hex":"1F3F6"},{"Typeface name":"Wingdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128630","Unicode hex":"1F676"},{"Typeface name":"Wingdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128631","Unicode hex":"1F677"},{"Typeface name":"Wingdings","Dingbat dec":"127","Dingbat hex":"7F","Unicode dec":"9647","Unicode hex":"25AF"},{"Typeface name":"Wingdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"127243","Unicode hex":"1F10B"},{"Typeface name":"Wingdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"10112","Unicode hex":"2780"},{"Typeface name":"Wingdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"10113","Unicode hex":"2781"},{"Typeface name":"Wingdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"10114","Unicode hex":"2782"},{"Typeface name":"Wingdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"10115","Unicode hex":"2783"},{"Typeface name":"Wingdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10116","Unicode hex":"2784"},{"Typeface name":"Wingdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"10117","Unicode hex":"2785"},{"Typeface name":"Wingdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"10118","Unicode hex":"2786"},{"Typeface name":"Wingdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"10119","Unicode hex":"2787"},{"Typeface name":"Wingdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"10120","Unicode hex":"2788"},{"Typeface name":"Wingdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"10121","Unicode hex":"2789"},{"Typeface name":"Wingdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127244","Unicode hex":"1F10C"},{"Typeface name":"Wingdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"10122","Unicode hex":"278A"},{"Typeface name":"Wingdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"10123","Unicode hex":"278B"},{"Typeface name":"Wingdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"10124","Unicode hex":"278C"},{"Typeface name":"Wingdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"10125","Unicode hex":"278D"},{"Typeface name":"Wingdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"10126","Unicode hex":"278E"},{"Typeface name":"Wingdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"10127","Unicode hex":"278F"},{"Typeface name":"Wingdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"10128","Unicode hex":"2790"},{"Typeface name":"Wingdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"10129","Unicode hex":"2791"},{"Typeface name":"Wingdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"10130","Unicode hex":"2792"},{"Typeface name":"Wingdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"10131","Unicode hex":"2793"},{"Typeface name":"Wingdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128610","Unicode hex":"1F662"},{"Typeface name":"Wingdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128608","Unicode hex":"1F660"},{"Typeface name":"Wingdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"128609","Unicode hex":"1F661"},{"Typeface name":"Wingdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128611","Unicode hex":"1F663"},{"Typeface name":"Wingdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128606","Unicode hex":"1F65E"},{"Typeface name":"Wingdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128604","Unicode hex":"1F65C"},{"Typeface name":"Wingdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128605","Unicode hex":"1F65D"},{"Typeface name":"Wingdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128607","Unicode hex":"1F65F"},{"Typeface name":"Wingdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"8729","Unicode hex":"2219"},{"Typeface name":"Wingdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Wingdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"11037","Unicode hex":"2B1D"},{"Typeface name":"Wingdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"11096","Unicode hex":"2B58"},{"Typeface name":"Wingdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128902","Unicode hex":"1F786"},{"Typeface name":"Wingdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128904","Unicode hex":"1F788"},{"Typeface name":"Wingdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128906","Unicode hex":"1F78A"},{"Typeface name":"Wingdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128907","Unicode hex":"1F78B"},{"Typeface name":"Wingdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128319","Unicode hex":"1F53F"},{"Typeface name":"Wingdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9642","Unicode hex":"25AA"},{"Typeface name":"Wingdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128910","Unicode hex":"1F78E"},{"Typeface name":"Wingdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128961","Unicode hex":"1F7C1"},{"Typeface name":"Wingdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128965","Unicode hex":"1F7C5"},{"Typeface name":"Wingdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"9733","Unicode hex":"2605"},{"Typeface name":"Wingdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128971","Unicode hex":"1F7CB"},{"Typeface name":"Wingdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128975","Unicode hex":"1F7CF"},{"Typeface name":"Wingdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"128979","Unicode hex":"1F7D3"},{"Typeface name":"Wingdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"128977","Unicode hex":"1F7D1"},{"Typeface name":"Wingdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"11216","Unicode hex":"2BD0"},{"Typeface name":"Wingdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"8982","Unicode hex":"2316"},{"Typeface name":"Wingdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"11214","Unicode hex":"2BCE"},{"Typeface name":"Wingdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"11215","Unicode hex":"2BCF"},{"Typeface name":"Wingdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"11217","Unicode hex":"2BD1"},{"Typeface name":"Wingdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"10026","Unicode hex":"272A"},{"Typeface name":"Wingdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"10032","Unicode hex":"2730"},{"Typeface name":"Wingdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"128336","Unicode hex":"1F550"},{"Typeface name":"Wingdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128337","Unicode hex":"1F551"},{"Typeface name":"Wingdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128338","Unicode hex":"1F552"},{"Typeface name":"Wingdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128339","Unicode hex":"1F553"},{"Typeface name":"Wingdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128340","Unicode hex":"1F554"},{"Typeface name":"Wingdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"128341","Unicode hex":"1F555"},{"Typeface name":"Wingdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"128342","Unicode hex":"1F556"},{"Typeface name":"Wingdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128343","Unicode hex":"1F557"},{"Typeface name":"Wingdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128344","Unicode hex":"1F558"},{"Typeface name":"Wingdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128345","Unicode hex":"1F559"},{"Typeface name":"Wingdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128346","Unicode hex":"1F55A"},{"Typeface name":"Wingdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128347","Unicode hex":"1F55B"},{"Typeface name":"Wingdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11184","Unicode hex":"2BB0"},{"Typeface name":"Wingdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11185","Unicode hex":"2BB1"},{"Typeface name":"Wingdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11186","Unicode hex":"2BB2"},{"Typeface name":"Wingdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"11187","Unicode hex":"2BB3"},{"Typeface name":"Wingdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"11188","Unicode hex":"2BB4"},{"Typeface name":"Wingdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"11189","Unicode hex":"2BB5"},{"Typeface name":"Wingdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11190","Unicode hex":"2BB6"},{"Typeface name":"Wingdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11191","Unicode hex":"2BB7"},{"Typeface name":"Wingdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128618","Unicode hex":"1F66A"},{"Typeface name":"Wingdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128619","Unicode hex":"1F66B"},{"Typeface name":"Wingdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128597","Unicode hex":"1F655"},{"Typeface name":"Wingdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128596","Unicode hex":"1F654"},{"Typeface name":"Wingdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128599","Unicode hex":"1F657"},{"Typeface name":"Wingdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128598","Unicode hex":"1F656"},{"Typeface name":"Wingdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128592","Unicode hex":"1F650"},{"Typeface name":"Wingdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128593","Unicode hex":"1F651"},{"Typeface name":"Wingdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128594","Unicode hex":"1F652"},{"Typeface name":"Wingdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128595","Unicode hex":"1F653"},{"Typeface name":"Wingdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"9003","Unicode hex":"232B"},{"Typeface name":"Wingdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8998","Unicode hex":"2326"},{"Typeface name":"Wingdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"11160","Unicode hex":"2B98"},{"Typeface name":"Wingdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"11162","Unicode hex":"2B9A"},{"Typeface name":"Wingdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"11161","Unicode hex":"2B99"},{"Typeface name":"Wingdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"11163","Unicode hex":"2B9B"},{"Typeface name":"Wingdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"11144","Unicode hex":"2B88"},{"Typeface name":"Wingdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"11146","Unicode hex":"2B8A"},{"Typeface name":"Wingdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"11145","Unicode hex":"2B89"},{"Typeface name":"Wingdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"11147","Unicode hex":"2B8B"},{"Typeface name":"Wingdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129128","Unicode hex":"1F868"},{"Typeface name":"Wingdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129130","Unicode hex":"1F86A"},{"Typeface name":"Wingdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129129","Unicode hex":"1F869"},{"Typeface name":"Wingdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129131","Unicode hex":"1F86B"},{"Typeface name":"Wingdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129132","Unicode hex":"1F86C"},{"Typeface name":"Wingdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129133","Unicode hex":"1F86D"},{"Typeface name":"Wingdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129135","Unicode hex":"1F86F"},{"Typeface name":"Wingdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129134","Unicode hex":"1F86E"},{"Typeface name":"Wingdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129144","Unicode hex":"1F878"},{"Typeface name":"Wingdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129146","Unicode hex":"1F87A"},{"Typeface name":"Wingdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129145","Unicode hex":"1F879"},{"Typeface name":"Wingdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129147","Unicode hex":"1F87B"},{"Typeface name":"Wingdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129148","Unicode hex":"1F87C"},{"Typeface name":"Wingdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129149","Unicode hex":"1F87D"},{"Typeface name":"Wingdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129151","Unicode hex":"1F87F"},{"Typeface name":"Wingdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129150","Unicode hex":"1F87E"},{"Typeface name":"Wingdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"8678","Unicode hex":"21E6"},{"Typeface name":"Wingdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"8680","Unicode hex":"21E8"},{"Typeface name":"Wingdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"8679","Unicode hex":"21E7"},{"Typeface name":"Wingdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8681","Unicode hex":"21E9"},{"Typeface name":"Wingdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"11012","Unicode hex":"2B04"},{"Typeface name":"Wingdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"8691","Unicode hex":"21F3"},{"Typeface name":"Wingdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"11009","Unicode hex":"2B01"},{"Typeface name":"Wingdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11008","Unicode hex":"2B00"},{"Typeface name":"Wingdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11011","Unicode hex":"2B03"},{"Typeface name":"Wingdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"11010","Unicode hex":"2B02"},{"Typeface name":"Wingdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"129196","Unicode hex":"1F8AC"},{"Typeface name":"Wingdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"129197","Unicode hex":"1F8AD"},{"Typeface name":"Wingdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128502","Unicode hex":"1F5F6"},{"Typeface name":"Wingdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"10003","Unicode hex":"2713"},{"Typeface name":"Wingdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"128503","Unicode hex":"1F5F7"},{"Typeface name":"Wingdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"128505","Unicode hex":"1F5F9"},{"Typeface name":"Wingdings 2","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 2","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128394","Unicode hex":"1F58A"},{"Typeface name":"Wingdings 2","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128395","Unicode hex":"1F58B"},{"Typeface name":"Wingdings 2","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128396","Unicode hex":"1F58C"},{"Typeface name":"Wingdings 2","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128397","Unicode hex":"1F58D"},{"Typeface name":"Wingdings 2","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"9988","Unicode hex":"2704"},{"Typeface name":"Wingdings 2","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"9984","Unicode hex":"2700"},{"Typeface name":"Wingdings 2","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128382","Unicode hex":"1F57E"},{"Typeface name":"Wingdings 2","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128381","Unicode hex":"1F57D"},{"Typeface name":"Wingdings 2","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128453","Unicode hex":"1F5C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128454","Unicode hex":"1F5C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128455","Unicode hex":"1F5C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128456","Unicode hex":"1F5C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128457","Unicode hex":"1F5C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128458","Unicode hex":"1F5CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128459","Unicode hex":"1F5CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128460","Unicode hex":"1F5CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128461","Unicode hex":"1F5CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128465","Unicode hex":"1F5D1"},{"Typeface name":"Wingdings 2","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128468","Unicode hex":"1F5D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128437","Unicode hex":"1F5B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"128438","Unicode hex":"1F5B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128439","Unicode hex":"1F5B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128440","Unicode hex":"1F5B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128429","Unicode hex":"1F5AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128431","Unicode hex":"1F5AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128433","Unicode hex":"1F5B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128402","Unicode hex":"1F592"},{"Typeface name":"Wingdings 2","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128403","Unicode hex":"1F593"},{"Typeface name":"Wingdings 2","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128408","Unicode hex":"1F598"},{"Typeface name":"Wingdings 2","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128409","Unicode hex":"1F599"},{"Typeface name":"Wingdings 2","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128410","Unicode hex":"1F59A"},{"Typeface name":"Wingdings 2","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"128411","Unicode hex":"1F59B"},{"Typeface name":"Wingdings 2","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128072","Unicode hex":"1F448"},{"Typeface name":"Wingdings 2","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128073","Unicode hex":"1F449"},{"Typeface name":"Wingdings 2","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128412","Unicode hex":"1F59C"},{"Typeface name":"Wingdings 2","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"128413","Unicode hex":"1F59D"},{"Typeface name":"Wingdings 2","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"128414","Unicode hex":"1F59E"},{"Typeface name":"Wingdings 2","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"128415","Unicode hex":"1F59F"},{"Typeface name":"Wingdings 2","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"128416","Unicode hex":"1F5A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128417","Unicode hex":"1F5A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"128070","Unicode hex":"1F446"},{"Typeface name":"Wingdings 2","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128071","Unicode hex":"1F447"},{"Typeface name":"Wingdings 2","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128418","Unicode hex":"1F5A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128419","Unicode hex":"1F5A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128401","Unicode hex":"1F591"},{"Typeface name":"Wingdings 2","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128500","Unicode hex":"1F5F4"},{"Typeface name":"Wingdings 2","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"128504","Unicode hex":"1F5F8"},{"Typeface name":"Wingdings 2","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"128501","Unicode hex":"1F5F5"},{"Typeface name":"Wingdings 2","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9745","Unicode hex":"2611"},{"Typeface name":"Wingdings 2","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"11197","Unicode hex":"2BBD"},{"Typeface name":"Wingdings 2","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"9746","Unicode hex":"2612"},{"Typeface name":"Wingdings 2","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"11198","Unicode hex":"2BBE"},{"Typeface name":"Wingdings 2","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"11199","Unicode hex":"2BBF"},{"Typeface name":"Wingdings 2","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128711","Unicode hex":"1F6C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"128625","Unicode hex":"1F671"},{"Typeface name":"Wingdings 2","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"128628","Unicode hex":"1F674"},{"Typeface name":"Wingdings 2","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128626","Unicode hex":"1F672"},{"Typeface name":"Wingdings 2","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128627","Unicode hex":"1F673"},{"Typeface name":"Wingdings 2","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"8253","Unicode hex":"203D"},{"Typeface name":"Wingdings 2","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128633","Unicode hex":"1F679"},{"Typeface name":"Wingdings 2","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128634","Unicode hex":"1F67A"},{"Typeface name":"Wingdings 2","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"128635","Unicode hex":"1F67B"},{"Typeface name":"Wingdings 2","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"128614","Unicode hex":"1F666"},{"Typeface name":"Wingdings 2","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128612","Unicode hex":"1F664"},{"Typeface name":"Wingdings 2","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"128613","Unicode hex":"1F665"},{"Typeface name":"Wingdings 2","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128615","Unicode hex":"1F667"},{"Typeface name":"Wingdings 2","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128602","Unicode hex":"1F65A"},{"Typeface name":"Wingdings 2","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128600","Unicode hex":"1F658"},{"Typeface name":"Wingdings 2","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"128601","Unicode hex":"1F659"},{"Typeface name":"Wingdings 2","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128603","Unicode hex":"1F65B"},{"Typeface name":"Wingdings 2","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9450","Unicode hex":"24EA"},{"Typeface name":"Wingdings 2","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"9312","Unicode hex":"2460"},{"Typeface name":"Wingdings 2","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"9313","Unicode hex":"2461"},{"Typeface name":"Wingdings 2","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9314","Unicode hex":"2462"},{"Typeface name":"Wingdings 2","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"9315","Unicode hex":"2463"},{"Typeface name":"Wingdings 2","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9316","Unicode hex":"2464"},{"Typeface name":"Wingdings 2","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"9317","Unicode hex":"2465"},{"Typeface name":"Wingdings 2","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9318","Unicode hex":"2466"},{"Typeface name":"Wingdings 2","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9319","Unicode hex":"2467"},{"Typeface name":"Wingdings 2","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9320","Unicode hex":"2468"},{"Typeface name":"Wingdings 2","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9321","Unicode hex":"2469"},{"Typeface name":"Wingdings 2","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9471","Unicode hex":"24FF"},{"Typeface name":"Wingdings 2","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"10102","Unicode hex":"2776"},{"Typeface name":"Wingdings 2","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10103","Unicode hex":"2777"},{"Typeface name":"Wingdings 2","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"10104","Unicode hex":"2778"},{"Typeface name":"Wingdings 2","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10105","Unicode hex":"2779"},{"Typeface name":"Wingdings 2","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"10106","Unicode hex":"277A"},{"Typeface name":"Wingdings 2","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"10107","Unicode hex":"277B"},{"Typeface name":"Wingdings 2","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"10108","Unicode hex":"277C"},{"Typeface name":"Wingdings 2","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"10109","Unicode hex":"277D"},{"Typeface name":"Wingdings 2","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"10110","Unicode hex":"277E"},{"Typeface name":"Wingdings 2","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"10111","Unicode hex":"277F"},{"Typeface name":"Wingdings 2","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"9737","Unicode hex":"2609"},{"Typeface name":"Wingdings 2","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"127765","Unicode hex":"1F315"},{"Typeface name":"Wingdings 2","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"9789","Unicode hex":"263D"},{"Typeface name":"Wingdings 2","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"9790","Unicode hex":"263E"},{"Typeface name":"Wingdings 2","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11839","Unicode hex":"2E3F"},{"Typeface name":"Wingdings 2","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10013","Unicode hex":"271D"},{"Typeface name":"Wingdings 2","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"128327","Unicode hex":"1F547"},{"Typeface name":"Wingdings 2","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"128348","Unicode hex":"1F55C"},{"Typeface name":"Wingdings 2","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"128349","Unicode hex":"1F55D"},{"Typeface name":"Wingdings 2","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"128350","Unicode hex":"1F55E"},{"Typeface name":"Wingdings 2","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"128351","Unicode hex":"1F55F"},{"Typeface name":"Wingdings 2","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"128352","Unicode hex":"1F560"},{"Typeface name":"Wingdings 2","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"128353","Unicode hex":"1F561"},{"Typeface name":"Wingdings 2","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"128354","Unicode hex":"1F562"},{"Typeface name":"Wingdings 2","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128355","Unicode hex":"1F563"},{"Typeface name":"Wingdings 2","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128356","Unicode hex":"1F564"},{"Typeface name":"Wingdings 2","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128357","Unicode hex":"1F565"},{"Typeface name":"Wingdings 2","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128358","Unicode hex":"1F566"},{"Typeface name":"Wingdings 2","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"128359","Unicode hex":"1F567"},{"Typeface name":"Wingdings 2","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128616","Unicode hex":"1F668"},{"Typeface name":"Wingdings 2","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128617","Unicode hex":"1F669"},{"Typeface name":"Wingdings 2","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128900","Unicode hex":"1F784"},{"Typeface name":"Wingdings 2","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"10625","Unicode hex":"2981"},{"Typeface name":"Wingdings 2","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"9679","Unicode hex":"25CF"},{"Typeface name":"Wingdings 2","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"9675","Unicode hex":"25CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128901","Unicode hex":"1F785"},{"Typeface name":"Wingdings 2","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128903","Unicode hex":"1F787"},{"Typeface name":"Wingdings 2","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128905","Unicode hex":"1F789"},{"Typeface name":"Wingdings 2","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"8857","Unicode hex":"2299"},{"Typeface name":"Wingdings 2","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"10687","Unicode hex":"29BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128908","Unicode hex":"1F78C"},{"Typeface name":"Wingdings 2","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128909","Unicode hex":"1F78D"},{"Typeface name":"Wingdings 2","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"9726","Unicode hex":"25FE"},{"Typeface name":"Wingdings 2","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"9632","Unicode hex":"25A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"9633","Unicode hex":"25A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128913","Unicode hex":"1F791"},{"Typeface name":"Wingdings 2","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128914","Unicode hex":"1F792"},{"Typeface name":"Wingdings 2","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128915","Unicode hex":"1F793"},{"Typeface name":"Wingdings 2","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128916","Unicode hex":"1F794"},{"Typeface name":"Wingdings 2","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9635","Unicode hex":"25A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128917","Unicode hex":"1F795"},{"Typeface name":"Wingdings 2","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128918","Unicode hex":"1F796"},{"Typeface name":"Wingdings 2","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128919","Unicode hex":"1F797"},{"Typeface name":"Wingdings 2","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128920","Unicode hex":"1F798"},{"Typeface name":"Wingdings 2","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings 2","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"11045","Unicode hex":"2B25"},{"Typeface name":"Wingdings 2","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"9671","Unicode hex":"25C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"128922","Unicode hex":"1F79A"},{"Typeface name":"Wingdings 2","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"9672","Unicode hex":"25C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"128923","Unicode hex":"1F79B"},{"Typeface name":"Wingdings 2","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128924","Unicode hex":"1F79C"},{"Typeface name":"Wingdings 2","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"128925","Unicode hex":"1F79D"},{"Typeface name":"Wingdings 2","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128926","Unicode hex":"1F79E"},{"Typeface name":"Wingdings 2","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"11050","Unicode hex":"2B2A"},{"Typeface name":"Wingdings 2","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"11047","Unicode hex":"2B27"},{"Typeface name":"Wingdings 2","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128928","Unicode hex":"1F7A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"9686","Unicode hex":"25D6"},{"Typeface name":"Wingdings 2","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"9687","Unicode hex":"25D7"},{"Typeface name":"Wingdings 2","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"11210","Unicode hex":"2BCA"},{"Typeface name":"Wingdings 2","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"11211","Unicode hex":"2BCB"},{"Typeface name":"Wingdings 2","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"11200","Unicode hex":"2BC0"},{"Typeface name":"Wingdings 2","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"11201","Unicode hex":"2BC1"},{"Typeface name":"Wingdings 2","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"11039","Unicode hex":"2B1F"},{"Typeface name":"Wingdings 2","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"11202","Unicode hex":"2BC2"},{"Typeface name":"Wingdings 2","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"11043","Unicode hex":"2B23"},{"Typeface name":"Wingdings 2","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11042","Unicode hex":"2B22"},{"Typeface name":"Wingdings 2","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11203","Unicode hex":"2BC3"},{"Typeface name":"Wingdings 2","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11204","Unicode hex":"2BC4"},{"Typeface name":"Wingdings 2","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128929","Unicode hex":"1F7A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128930","Unicode hex":"1F7A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128931","Unicode hex":"1F7A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128932","Unicode hex":"1F7A4"},{"Typeface name":"Wingdings 2","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128933","Unicode hex":"1F7A5"},{"Typeface name":"Wingdings 2","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128934","Unicode hex":"1F7A6"},{"Typeface name":"Wingdings 2","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128935","Unicode hex":"1F7A7"},{"Typeface name":"Wingdings 2","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128936","Unicode hex":"1F7A8"},{"Typeface name":"Wingdings 2","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128937","Unicode hex":"1F7A9"},{"Typeface name":"Wingdings 2","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128938","Unicode hex":"1F7AA"},{"Typeface name":"Wingdings 2","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128939","Unicode hex":"1F7AB"},{"Typeface name":"Wingdings 2","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128940","Unicode hex":"1F7AC"},{"Typeface name":"Wingdings 2","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128941","Unicode hex":"1F7AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128942","Unicode hex":"1F7AE"},{"Typeface name":"Wingdings 2","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128943","Unicode hex":"1F7AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"128944","Unicode hex":"1F7B0"},{"Typeface name":"Wingdings 2","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"128945","Unicode hex":"1F7B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"128946","Unicode hex":"1F7B2"},{"Typeface name":"Wingdings 2","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"128947","Unicode hex":"1F7B3"},{"Typeface name":"Wingdings 2","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"128948","Unicode hex":"1F7B4"},{"Typeface name":"Wingdings 2","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"128949","Unicode hex":"1F7B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"128950","Unicode hex":"1F7B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"128951","Unicode hex":"1F7B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"128952","Unicode hex":"1F7B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"128953","Unicode hex":"1F7B9"},{"Typeface name":"Wingdings 2","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"128954","Unicode hex":"1F7BA"},{"Typeface name":"Wingdings 2","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"128955","Unicode hex":"1F7BB"},{"Typeface name":"Wingdings 2","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"128956","Unicode hex":"1F7BC"},{"Typeface name":"Wingdings 2","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128957","Unicode hex":"1F7BD"},{"Typeface name":"Wingdings 2","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128958","Unicode hex":"1F7BE"},{"Typeface name":"Wingdings 2","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"128959","Unicode hex":"1F7BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"128960","Unicode hex":"1F7C0"},{"Typeface name":"Wingdings 2","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128962","Unicode hex":"1F7C2"},{"Typeface name":"Wingdings 2","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128964","Unicode hex":"1F7C4"},{"Typeface name":"Wingdings 2","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"128966","Unicode hex":"1F7C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"128969","Unicode hex":"1F7C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128970","Unicode hex":"1F7CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"10038","Unicode hex":"2736"},{"Typeface name":"Wingdings 2","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"128972","Unicode hex":"1F7CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128974","Unicode hex":"1F7CE"},{"Typeface name":"Wingdings 2","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128976","Unicode hex":"1F7D0"},{"Typeface name":"Wingdings 2","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128978","Unicode hex":"1F7D2"},{"Typeface name":"Wingdings 2","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"10041","Unicode hex":"2739"},{"Typeface name":"Wingdings 2","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128963","Unicode hex":"1F7C3"},{"Typeface name":"Wingdings 2","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128967","Unicode hex":"1F7C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Wingdings 2","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128973","Unicode hex":"1F7CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128980","Unicode hex":"1F7D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11212","Unicode hex":"2BCC"},{"Typeface name":"Wingdings 2","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11213","Unicode hex":"2BCD"},{"Typeface name":"Wingdings 2","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"8251","Unicode hex":"203B"},{"Typeface name":"Wingdings 2","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"8258","Unicode hex":"2042"},{"Typeface name":"Wingdings 3","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 3","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"11104","Unicode hex":"2B60"},{"Typeface name":"Wingdings 3","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"11106","Unicode hex":"2B62"},{"Typeface name":"Wingdings 3","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"11105","Unicode hex":"2B61"},{"Typeface name":"Wingdings 3","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"11107","Unicode hex":"2B63"},{"Typeface name":"Wingdings 3","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"11110","Unicode hex":"2B66"},{"Typeface name":"Wingdings 3","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"11111","Unicode hex":"2B67"},{"Typeface name":"Wingdings 3","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"11113","Unicode hex":"2B69"},{"Typeface name":"Wingdings 3","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"11112","Unicode hex":"2B68"},{"Typeface name":"Wingdings 3","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"11120","Unicode hex":"2B70"},{"Typeface name":"Wingdings 3","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"11122","Unicode hex":"2B72"},{"Typeface name":"Wingdings 3","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"11121","Unicode hex":"2B71"},{"Typeface name":"Wingdings 3","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"11123","Unicode hex":"2B73"},{"Typeface name":"Wingdings 3","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"11126","Unicode hex":"2B76"},{"Typeface name":"Wingdings 3","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"11128","Unicode hex":"2B78"},{"Typeface name":"Wingdings 3","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"11131","Unicode hex":"2B7B"},{"Typeface name":"Wingdings 3","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"11133","Unicode hex":"2B7D"},{"Typeface name":"Wingdings 3","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"11108","Unicode hex":"2B64"},{"Typeface name":"Wingdings 3","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"11109","Unicode hex":"2B65"},{"Typeface name":"Wingdings 3","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"11114","Unicode hex":"2B6A"},{"Typeface name":"Wingdings 3","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"11116","Unicode hex":"2B6C"},{"Typeface name":"Wingdings 3","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"11115","Unicode hex":"2B6B"},{"Typeface name":"Wingdings 3","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"11117","Unicode hex":"2B6D"},{"Typeface name":"Wingdings 3","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"11085","Unicode hex":"2B4D"},{"Typeface name":"Wingdings 3","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"11168","Unicode hex":"2BA0"},{"Typeface name":"Wingdings 3","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"11169","Unicode hex":"2BA1"},{"Typeface name":"Wingdings 3","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"11170","Unicode hex":"2BA2"},{"Typeface name":"Wingdings 3","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"11171","Unicode hex":"2BA3"},{"Typeface name":"Wingdings 3","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"11172","Unicode hex":"2BA4"},{"Typeface name":"Wingdings 3","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"11173","Unicode hex":"2BA5"},{"Typeface name":"Wingdings 3","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"11174","Unicode hex":"2BA6"},{"Typeface name":"Wingdings 3","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"11175","Unicode hex":"2BA7"},{"Typeface name":"Wingdings 3","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"11152","Unicode hex":"2B90"},{"Typeface name":"Wingdings 3","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"11153","Unicode hex":"2B91"},{"Typeface name":"Wingdings 3","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"11154","Unicode hex":"2B92"},{"Typeface name":"Wingdings 3","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"11155","Unicode hex":"2B93"},{"Typeface name":"Wingdings 3","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"11136","Unicode hex":"2B80"},{"Typeface name":"Wingdings 3","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"11139","Unicode hex":"2B83"},{"Typeface name":"Wingdings 3","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"11134","Unicode hex":"2B7E"},{"Typeface name":"Wingdings 3","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"11135","Unicode hex":"2B7F"},{"Typeface name":"Wingdings 3","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"11140","Unicode hex":"2B84"},{"Typeface name":"Wingdings 3","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"11142","Unicode hex":"2B86"},{"Typeface name":"Wingdings 3","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"11141","Unicode hex":"2B85"},{"Typeface name":"Wingdings 3","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"11143","Unicode hex":"2B87"},{"Typeface name":"Wingdings 3","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"11151","Unicode hex":"2B8F"},{"Typeface name":"Wingdings 3","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"11149","Unicode hex":"2B8D"},{"Typeface name":"Wingdings 3","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"11150","Unicode hex":"2B8E"},{"Typeface name":"Wingdings 3","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"11148","Unicode hex":"2B8C"},{"Typeface name":"Wingdings 3","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"11118","Unicode hex":"2B6E"},{"Typeface name":"Wingdings 3","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"11119","Unicode hex":"2B6F"},{"Typeface name":"Wingdings 3","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9099","Unicode hex":"238B"},{"Typeface name":"Wingdings 3","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"8996","Unicode hex":"2324"},{"Typeface name":"Wingdings 3","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"8963","Unicode hex":"2303"},{"Typeface name":"Wingdings 3","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"8997","Unicode hex":"2325"},{"Typeface name":"Wingdings 3","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"9251","Unicode hex":"2423"},{"Typeface name":"Wingdings 3","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"9085","Unicode hex":"237D"},{"Typeface name":"Wingdings 3","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"8682","Unicode hex":"21EA"},{"Typeface name":"Wingdings 3","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"11192","Unicode hex":"2BB8"},{"Typeface name":"Wingdings 3","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"129184","Unicode hex":"1F8A0"},{"Typeface name":"Wingdings 3","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"129185","Unicode hex":"1F8A1"},{"Typeface name":"Wingdings 3","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"129186","Unicode hex":"1F8A2"},{"Typeface name":"Wingdings 3","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"129187","Unicode hex":"1F8A3"},{"Typeface name":"Wingdings 3","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"129188","Unicode hex":"1F8A4"},{"Typeface name":"Wingdings 3","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"129189","Unicode hex":"1F8A5"},{"Typeface name":"Wingdings 3","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"129190","Unicode hex":"1F8A6"},{"Typeface name":"Wingdings 3","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"129191","Unicode hex":"1F8A7"},{"Typeface name":"Wingdings 3","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"129192","Unicode hex":"1F8A8"},{"Typeface name":"Wingdings 3","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"129193","Unicode hex":"1F8A9"},{"Typeface name":"Wingdings 3","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"129194","Unicode hex":"1F8AA"},{"Typeface name":"Wingdings 3","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"129195","Unicode hex":"1F8AB"},{"Typeface name":"Wingdings 3","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"129104","Unicode hex":"1F850"},{"Typeface name":"Wingdings 3","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"129106","Unicode hex":"1F852"},{"Typeface name":"Wingdings 3","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"129105","Unicode hex":"1F851"},{"Typeface name":"Wingdings 3","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"129107","Unicode hex":"1F853"},{"Typeface name":"Wingdings 3","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"129108","Unicode hex":"1F854"},{"Typeface name":"Wingdings 3","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"129109","Unicode hex":"1F855"},{"Typeface name":"Wingdings 3","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"129111","Unicode hex":"1F857"},{"Typeface name":"Wingdings 3","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"129110","Unicode hex":"1F856"},{"Typeface name":"Wingdings 3","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"129112","Unicode hex":"1F858"},{"Typeface name":"Wingdings 3","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"129113","Unicode hex":"1F859"},{"Typeface name":"Wingdings 3","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9650","Unicode hex":"25B2"},{"Typeface name":"Wingdings 3","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9660","Unicode hex":"25BC"},{"Typeface name":"Wingdings 3","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9651","Unicode hex":"25B3"},{"Typeface name":"Wingdings 3","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9661","Unicode hex":"25BD"},{"Typeface name":"Wingdings 3","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9664","Unicode hex":"25C0"},{"Typeface name":"Wingdings 3","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9654","Unicode hex":"25B6"},{"Typeface name":"Wingdings 3","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"9665","Unicode hex":"25C1"},{"Typeface name":"Wingdings 3","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9655","Unicode hex":"25B7"},{"Typeface name":"Wingdings 3","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"9699","Unicode hex":"25E3"},{"Typeface name":"Wingdings 3","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"9698","Unicode hex":"25E2"},{"Typeface name":"Wingdings 3","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"9700","Unicode hex":"25E4"},{"Typeface name":"Wingdings 3","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"9701","Unicode hex":"25E5"},{"Typeface name":"Wingdings 3","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"128896","Unicode hex":"1F780"},{"Typeface name":"Wingdings 3","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128898","Unicode hex":"1F782"},{"Typeface name":"Wingdings 3","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128897","Unicode hex":"1F781"},{"Typeface name":"Wingdings 3","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128899","Unicode hex":"1F783"},{"Typeface name":"Wingdings 3","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"11205","Unicode hex":"2BC5"},{"Typeface name":"Wingdings 3","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"11206","Unicode hex":"2BC6"},{"Typeface name":"Wingdings 3","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"11207","Unicode hex":"2BC7"},{"Typeface name":"Wingdings 3","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11208","Unicode hex":"2BC8"},{"Typeface name":"Wingdings 3","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"11164","Unicode hex":"2B9C"},{"Typeface name":"Wingdings 3","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"11166","Unicode hex":"2B9E"},{"Typeface name":"Wingdings 3","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"11165","Unicode hex":"2B9D"},{"Typeface name":"Wingdings 3","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"11167","Unicode hex":"2B9F"},{"Typeface name":"Wingdings 3","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"129040","Unicode hex":"1F810"},{"Typeface name":"Wingdings 3","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"129042","Unicode hex":"1F812"},{"Typeface name":"Wingdings 3","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"129041","Unicode hex":"1F811"},{"Typeface name":"Wingdings 3","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"129043","Unicode hex":"1F813"},{"Typeface name":"Wingdings 3","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"129044","Unicode hex":"1F814"},{"Typeface name":"Wingdings 3","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"129046","Unicode hex":"1F816"},{"Typeface name":"Wingdings 3","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"129045","Unicode hex":"1F815"},{"Typeface name":"Wingdings 3","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"129047","Unicode hex":"1F817"},{"Typeface name":"Wingdings 3","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"129048","Unicode hex":"1F818"},{"Typeface name":"Wingdings 3","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"129050","Unicode hex":"1F81A"},{"Typeface name":"Wingdings 3","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"129049","Unicode hex":"1F819"},{"Typeface name":"Wingdings 3","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"129051","Unicode hex":"1F81B"},{"Typeface name":"Wingdings 3","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"129052","Unicode hex":"1F81C"},{"Typeface name":"Wingdings 3","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"129054","Unicode hex":"1F81E"},{"Typeface name":"Wingdings 3","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"129053","Unicode hex":"1F81D"},{"Typeface name":"Wingdings 3","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"129055","Unicode hex":"1F81F"},{"Typeface name":"Wingdings 3","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"129024","Unicode hex":"1F800"},{"Typeface name":"Wingdings 3","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"129026","Unicode hex":"1F802"},{"Typeface name":"Wingdings 3","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"129025","Unicode hex":"1F801"},{"Typeface name":"Wingdings 3","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"129027","Unicode hex":"1F803"},{"Typeface name":"Wingdings 3","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"129028","Unicode hex":"1F804"},{"Typeface name":"Wingdings 3","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"129030","Unicode hex":"1F806"},{"Typeface name":"Wingdings 3","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"129029","Unicode hex":"1F805"},{"Typeface name":"Wingdings 3","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"129031","Unicode hex":"1F807"},{"Typeface name":"Wingdings 3","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"129032","Unicode hex":"1F808"},{"Typeface name":"Wingdings 3","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"129034","Unicode hex":"1F80A"},{"Typeface name":"Wingdings 3","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"129033","Unicode hex":"1F809"},{"Typeface name":"Wingdings 3","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"129035","Unicode hex":"1F80B"},{"Typeface name":"Wingdings 3","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"129056","Unicode hex":"1F820"},{"Typeface name":"Wingdings 3","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"129058","Unicode hex":"1F822"},{"Typeface name":"Wingdings 3","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"129060","Unicode hex":"1F824"},{"Typeface name":"Wingdings 3","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"129062","Unicode hex":"1F826"},{"Typeface name":"Wingdings 3","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"129064","Unicode hex":"1F828"},{"Typeface name":"Wingdings 3","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"129066","Unicode hex":"1F82A"},{"Typeface name":"Wingdings 3","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"129068","Unicode hex":"1F82C"},{"Typeface name":"Wingdings 3","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"129180","Unicode hex":"1F89C"},{"Typeface name":"Wingdings 3","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"129181","Unicode hex":"1F89D"},{"Typeface name":"Wingdings 3","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"129182","Unicode hex":"1F89E"},{"Typeface name":"Wingdings 3","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"129183","Unicode hex":"1F89F"},{"Typeface name":"Wingdings 3","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"129070","Unicode hex":"1F82E"},{"Typeface name":"Wingdings 3","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"129072","Unicode hex":"1F830"},{"Typeface name":"Wingdings 3","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"129074","Unicode hex":"1F832"},{"Typeface name":"Wingdings 3","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"129076","Unicode hex":"1F834"},{"Typeface name":"Wingdings 3","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"129078","Unicode hex":"1F836"},{"Typeface name":"Wingdings 3","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"129080","Unicode hex":"1F838"},{"Typeface name":"Wingdings 3","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"129082","Unicode hex":"1F83A"},{"Typeface name":"Wingdings 3","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"129081","Unicode hex":"1F839"},{"Typeface name":"Wingdings 3","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"129083","Unicode hex":"1F83B"},{"Typeface name":"Wingdings 3","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"129176","Unicode hex":"1F898"},{"Typeface name":"Wingdings 3","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"129178","Unicode hex":"1F89A"},{"Typeface name":"Wingdings 3","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"129177","Unicode hex":"1F899"},{"Typeface name":"Wingdings 3","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"129179","Unicode hex":"1F89B"},{"Typeface name":"Wingdings 3","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"129084","Unicode hex":"1F83C"},{"Typeface name":"Wingdings 3","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"129086","Unicode hex":"1F83E"},{"Typeface name":"Wingdings 3","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"129085","Unicode hex":"1F83D"},{"Typeface name":"Wingdings 3","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"129087","Unicode hex":"1F83F"},{"Typeface name":"Wingdings 3","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"129088","Unicode hex":"1F840"},{"Typeface name":"Wingdings 3","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"129090","Unicode hex":"1F842"},{"Typeface name":"Wingdings 3","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"129089","Unicode hex":"1F841"},{"Typeface name":"Wingdings 3","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"129091","Unicode hex":"1F843"},{"Typeface name":"Wingdings 3","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"129092","Unicode hex":"1F844"},{"Typeface name":"Wingdings 3","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"129094","Unicode hex":"1F846"},{"Typeface name":"Wingdings 3","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"129093","Unicode hex":"1F845"},{"Typeface name":"Wingdings 3","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"129095","Unicode hex":"1F847"},{"Typeface name":"Wingdings 3","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11176","Unicode hex":"2BA8"},{"Typeface name":"Wingdings 3","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11177","Unicode hex":"2BA9"},{"Typeface name":"Wingdings 3","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"11178","Unicode hex":"2BAA"},{"Typeface name":"Wingdings 3","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"11179","Unicode hex":"2BAB"},{"Typeface name":"Wingdings 3","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"11180","Unicode hex":"2BAC"},{"Typeface name":"Wingdings 3","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"11181","Unicode hex":"2BAD"},{"Typeface name":"Wingdings 3","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"11182","Unicode hex":"2BAE"},{"Typeface name":"Wingdings 3","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"11183","Unicode hex":"2BAF"},{"Typeface name":"Wingdings 3","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"129120","Unicode hex":"1F860"},{"Typeface name":"Wingdings 3","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"129122","Unicode hex":"1F862"},{"Typeface name":"Wingdings 3","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"129121","Unicode hex":"1F861"},{"Typeface name":"Wingdings 3","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"129123","Unicode hex":"1F863"},{"Typeface name":"Wingdings 3","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"129124","Unicode hex":"1F864"},{"Typeface name":"Wingdings 3","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"129125","Unicode hex":"1F865"},{"Typeface name":"Wingdings 3","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"129127","Unicode hex":"1F867"},{"Typeface name":"Wingdings 3","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"129126","Unicode hex":"1F866"},{"Typeface name":"Wingdings 3","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"129136","Unicode hex":"1F870"},{"Typeface name":"Wingdings 3","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"129138","Unicode hex":"1F872"},{"Typeface name":"Wingdings 3","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"129137","Unicode hex":"1F871"},{"Typeface name":"Wingdings 3","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"129139","Unicode hex":"1F873"},{"Typeface name":"Wingdings 3","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"129140","Unicode hex":"1F874"},{"Typeface name":"Wingdings 3","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"129141","Unicode hex":"1F875"},{"Typeface name":"Wingdings 3","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129143","Unicode hex":"1F877"},{"Typeface name":"Wingdings 3","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129142","Unicode hex":"1F876"},{"Typeface name":"Wingdings 3","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129152","Unicode hex":"1F880"},{"Typeface name":"Wingdings 3","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129154","Unicode hex":"1F882"},{"Typeface name":"Wingdings 3","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129153","Unicode hex":"1F881"},{"Typeface name":"Wingdings 3","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129155","Unicode hex":"1F883"},{"Typeface name":"Wingdings 3","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129156","Unicode hex":"1F884"},{"Typeface name":"Wingdings 3","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129157","Unicode hex":"1F885"},{"Typeface name":"Wingdings 3","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129159","Unicode hex":"1F887"},{"Typeface name":"Wingdings 3","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129158","Unicode hex":"1F886"},{"Typeface name":"Wingdings 3","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129168","Unicode hex":"1F890"},{"Typeface name":"Wingdings 3","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129170","Unicode hex":"1F892"},{"Typeface name":"Wingdings 3","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129169","Unicode hex":"1F891"},{"Typeface name":"Wingdings 3","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129171","Unicode hex":"1F893"},{"Typeface name":"Wingdings 3","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129172","Unicode hex":"1F894"},{"Typeface name":"Wingdings 3","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129174","Unicode hex":"1F896"},{"Typeface name":"Wingdings 3","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"129173","Unicode hex":"1F895"},{"Typeface name":"Wingdings 3","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"129175","Unicode hex":"1F897"}];SL.default=MEe;var OEe=Gt&&Gt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Mm,"__esModule",{value:!0});Mm.hex=Mm.dec=Mm.codePoint=void 0;var FEe=OEe(SL),Jee={},LEe=String.fromCodePoint?String.fromCodePoint:VEe;for(var nR=0,mH=FEe.default;nR<mH.length;nR++){var iR=mH[nR],gH=parseInt(iR["Unicode dec"],10),UEe={codePoint:gH,string:LEe(gH)};Jee[iR["Typeface name"].toUpperCase()+"_"+iR["Dingbat dec"]]=UEe}function AL(n,e){return Jee[n.toUpperCase()+"_"+e]}Mm.codePoint=AL;function BEe(n,e){return AL(n,parseInt(e,10))}Mm.dec=BEe;function zEe(n,e){return AL(n,parseInt(e,16))}Mm.hex=zEe;function VEe(n){if(n<=65535)return String.fromCharCode(n);var e=Math.floor((n-65536)/1024)+55296,i=(n-65536)%1024+56320;return String.fromCharCode(e,i)}var TL={};TL.uriToZipEntryName=WEe;TL.replaceFragment=$Ee;function WEe(n,e){return e.charAt(0)==="/"?e.substr(1):n+"/"+e}function $Ee(n,e){var i=n.indexOf("#");return i!==-1&&(n=n.substring(0,i)),n+"#"+e}EL.createBodyReader=HEe;EL._readNumberingProperties=ete;var bH=Mm,ac=kr,Ki=Pn,Qee=wl.Result,wh=wl.warning,qEe=Df,yH=TL;function HEe(n){return{readXmlElement:function(e){return new vH(n).readXmlElement(e)},readXmlElements:function(e){return new vH(n).readXmlElements(e)}}}function vH(n){var e=[],i=[],r=[],o=n.relationships,l=n.contentTypes,c=n.docxFile,u=n.files,h=n.numbering,m=n.styles;function g(Ae){var ke=Ae.map(y);return wH(ke)}function y(Ae){if(Ae.type==="element"){var ke=ie[Ae.name];if(ke)return ke(Ae);if(!Object.prototype.hasOwnProperty.call(XEe,Ae.name)){var ze=wh("An unrecognised element was ignored: "+Ae.name);return Ok([ze])}}return Fk()}function v(Ae){return I(Ae).map(function(ke){return{type:"paragraphProperties",styleId:ke.styleId,styleName:ke.name,alignment:Ae.firstOrEmpty("w:jc").attributes["w:val"],numbering:ete(ke.styleId,Ae.firstOrEmpty("w:numPr"),h),indent:_(Ae.firstOrEmpty("w:ind"))}})}function _(Ae){return{start:Ae.attributes["w:start"]||Ae.attributes["w:left"],end:Ae.attributes["w:end"]||Ae.attributes["w:right"],firstLine:Ae.attributes["w:firstLine"],hanging:Ae.attributes["w:hanging"]}}function A(Ae){return O(Ae).map(function(ke){var ze=Ae.firstOrEmpty("w:sz").attributes["w:val"],$=/^[0-9]+$/.test(ze)?parseInt(ze,10)/2:null;return{type:"runProperties",styleId:ke.styleId,styleName:ke.name,verticalAlignment:Ae.firstOrEmpty("w:vertAlign").attributes["w:val"],font:Ae.firstOrEmpty("w:rFonts").attributes["w:ascii"],fontSize:$,isBold:T(Ae.first("w:b")),isUnderline:S(Ae.first("w:u")),isItalic:T(Ae.first("w:i")),isStrikethrough:T(Ae.first("w:strike")),isAllCaps:T(Ae.first("w:caps")),isSmallCaps:T(Ae.first("w:smallCaps")),highlight:N(Ae.firstOrEmpty("w:highlight").attributes["w:val"])}})}function S(Ae){if(Ae){var ke=Ae.attributes["w:val"];return ke!==void 0&&ke!=="false"&&ke!=="0"&&ke!=="none"}else return!1}function T(Ae){if(Ae){var ke=Ae.attributes["w:val"];return ke!=="false"&&ke!=="0"}else return!1}function C(Ae){return Ae!=="false"&&Ae!=="0"}function N(Ae){return!Ae||Ae==="none"?null:Ae}function I(Ae){return L(Ae,"w:pStyle","Paragraph",m.findParagraphStyleById)}function O(Ae){return L(Ae,"w:rStyle","Run",m.findCharacterStyleById)}function F(Ae){return L(Ae,"w:tblStyle","Table",m.findTableStyleById)}function L(Ae,ke,ze,$){var Ce=[],Me=Ae.first(ke),ye=null,_e=null;if(Me&&(ye=Me.attributes["w:val"],ye)){var Le=$(ye);Le?_e=Le.name:Ce.push(Fe(ze,ye))}return yD({styleId:ye,name:_e},Ce)}function z(Ae){var ke=Ae.attributes["w:fldCharType"];if(ke==="begin")e.push({type:"begin",fldChar:Ae}),i=[];else if(ke==="end"){var ze=e.pop();if(ze.type==="begin"&&(ze=Y(ze)),ze.type==="checkbox")return ua(Ki.checkbox({checked:ze.checked}))}else if(ke==="separate"){var $=e.pop(),Ce=Y($);e.push(Ce)}return Fk()}function B(){var Ae=ac.last(e.filter(function(ke){return ke.type==="hyperlink"}));return Ae?Ae.options:null}function Y(Ae){return se(i.join(""),Ae.type==="begin"?Ae.fldChar:qEe.emptyElement)}function se(Ae,ke){var ze=/\s*HYPERLINK "(.*)"/.exec(Ae);if(ze)return{type:"hyperlink",options:{href:ze[1]}};var $=/\s*HYPERLINK\s+\\l\s+"(.*)"/.exec(Ae);if($)return{type:"hyperlink",options:{anchor:$[1]}};var Ce=/\s*FORMCHECKBOX\s*/.exec(Ae);if(Ce){var Me=ke.firstOrEmpty("w:ffData").firstOrEmpty("w:checkBox"),ye=Me.first("w:checked"),_e=ye==null?T(Me.first("w:default")):T(ye);return{type:"checkbox",checked:_e}}return{type:"unknown"}}function de(Ae){return i.push(Ae.text()),Fk()}function J(Ae){var ke=Ae.attributes["w:font"],ze=Ae.attributes["w:char"],$=bH.hex(ke,ze);return $==null&&/^F0..$/.test(ze)&&($=bH.hex(ke,ze.substring(2))),$==null?Ok([wh("A w:sym element with an unsupported character was ignored: char "+ze+" in font "+ke)]):ua(new Ki.Text($.string))}function be(Ae){return function(ke){var ze=ke.attributes["w:id"];return ua(new Ki.NoteReference({noteType:Ae,noteId:ze}))}}function q(Ae){return ua(Ki.commentReference({commentId:Ae.attributes["w:id"]}))}function Te(Ae){return g(Ae.children)}var ie={"w:p":function(Ae){var ke=Ae.firstOrEmpty("w:pPr"),ze=!!ke.firstOrEmpty("w:rPr").first("w:del");if(ze)return Ae.children.forEach(function(Ce){r.push(Ce)}),Fk();var $=Ae.children;return r.length>0&&($=r.concat($),r=[]),$s.map(v(ke),g($),function(Ce,Me){return new Ki.Paragraph(Me,Ce)}).insertExtra()},"w:r":function(Ae){return $s.map(A(Ae.firstOrEmpty("w:rPr")),g(Ae.children),function(ke,ze){var $=B();return $!==null&&(ze=[new Ki.Hyperlink(ze,$)]),new Ki.Run(ze,ke)})},"w:fldChar":z,"w:instrText":de,"w:t":function(Ae){return ua(new Ki.Text(Ae.text()))},"w:tab":function(Ae){return ua(new Ki.Tab)},"w:noBreakHyphen":function(){return ua(new Ki.Text("‑"))},"w:softHyphen":function(Ae){return ua(new Ki.Text("­"))},"w:sym":J,"w:hyperlink":function(Ae){var ke=Ae.attributes["r:id"],ze=Ae.attributes["w:anchor"];return g(Ae.children).map(function($){function Ce(ye){var _e=Ae.attributes["w:tgtFrame"]||null;return new Ki.Hyperlink($,ac.extend({targetFrame:_e},ye))}if(ke){var Me=o.findTargetByRelationshipId(ke);return ze&&(Me=yH.replaceFragment(Me,ze)),Ce({href:Me})}else return ze?Ce({anchor:ze}):$})},"w:tbl":ce,"w:tr":K,"w:tc":ne,"w:footnoteReference":be("footnote"),"w:endnoteReference":be("endnote"),"w:commentReference":q,"w:br":function(Ae){var ke=Ae.attributes["w:type"];return ke==null||ke==="textWrapping"?ua(Ki.lineBreak):ke==="page"?ua(Ki.pageBreak):ke==="column"?ua(Ki.columnBreak):Ok([wh("Unsupported break type: "+ke)])},"w:bookmarkStart":function(Ae){var ke=Ae.attributes["w:name"];return ke==="_GoBack"?Fk():ua(new Ki.BookmarkStart({name:ke}))},"mc:AlternateContent":function(Ae){return Te(Ae.firstOrEmpty("mc:Fallback"))},"w:sdt":function(Ae){var ke=Ae.firstOrEmpty("w:sdtPr").first("wordml:checkbox");if(ke){var ze=ke.first("wordml:checked"),$=!!ze&&C(ze.attributes["wordml:val"]);return ua(Ki.checkbox({checked:$}))}else return g(Ae.firstOrEmpty("w:sdtContent").children)},"w:ins":Te,"w:object":Te,"w:smartTag":Te,"w:drawing":Te,"w:pict":function(Ae){return Te(Ae).toExtra()},"v:roundrect":Te,"v:shape":Te,"v:textbox":Te,"w:txbxContent":Te,"wp:inline":Q,"wp:anchor":Q,"v:imagedata":Ie,"v:group":Te,"v:rect":Te};return{readXmlElement:y,readXmlElements:g};function ce(Ae){var ke=X(Ae.firstOrEmpty("w:tblPr"));return g(Ae.children).flatMap(ue).flatMap(function(ze){return ke.map(function($){return Ki.Table(ze,$)})})}function X(Ae){return F(Ae).map(function(ke){return{styleId:ke.styleId,styleName:ke.name}})}function K(Ae){var ke=Ae.firstOrEmpty("w:trPr"),ze=!!ke.first("w:tblHeader");return g(Ae.children).map(function($){return Ki.TableRow($,{isHeader:ze})})}function ne(Ae){return g(Ae.children).map(function(ke){var ze=Ae.firstOrEmpty("w:tcPr"),$=ze.firstOrEmpty("w:gridSpan").attributes["w:val"],Ce=$?parseInt($,10):1,Me=Ki.TableCell(ke,{colSpan:Ce});return Me._vMerge=ee(ze),Me})}function ee(Ae){var ke=Ae.first("w:vMerge");if(ke){var ze=ke.attributes["w:val"];return ze==="continue"||!ze}else return null}function ue(Ae){var ke=ac.any(Ae,function(Ce){return Ce.type!==Ki.types.tableRow});if(ke)return yD(Ae,[wh("unexpected non-row element in table, cell merging may be incorrect")]);var ze=ac.any(Ae,function(Ce){return ac.any(Ce.children,function(Me){return Me.type!==Ki.types.tableCell})});if(ze)return yD(Ae,[wh("unexpected non-cell element in table row, cell merging may be incorrect")]);var $={};return Ae.forEach(function(Ce){var Me=0;Ce.children.forEach(function(ye){ye._vMerge&&$[Me]?$[Me].rowSpan++:($[Me]=ye,ye._vMerge=!1),Me+=ye.colSpan})}),Ae.forEach(function(Ce){Ce.children=Ce.children.filter(function(Me){return!Me._vMerge}),Ce.children.forEach(function(Me){delete Me._vMerge})}),ua(Ae)}function Q(Ae){var ke=Ae.getElementsByTagName("a:graphic").getElementsByTagName("a:graphicData").getElementsByTagName("pic:pic").getElementsByTagName("pic:blipFill").getElementsByTagName("a:blip");return wH(ke.map(fe.bind(null,Ae)))}function fe(Ae,ke){var ze=Ae.first("wp:docPr").attributes,$=Se(ze.descr)?ze.title:ze.descr,Ce=Oe(ke);return Ce===null?Ok([wh("Could not find image file for a:blip element")]):Be(Ce,$)}function Se(Ae){return Ae==null||/^\s*$/.test(Ae)}function Oe(Ae){var ke=Ae.attributes["r:embed"],ze=Ae.attributes["r:link"];if(ke)return je(ke);if(ze){var $=o.findTargetByRelationshipId(ze);return{path:$,read:u.read.bind(u,$)}}else return null}function Ie(Ae){var ke=Ae.attributes["r:id"];return ke?Be(je(ke),Ae.attributes["o:title"]):Ok([wh("A v:imagedata element without a relationship ID was ignored")])}function je(Ae){var ke=yH.uriToZipEntryName("word",o.findTargetByRelationshipId(Ae));return{path:ke,read:c.read.bind(c,ke)}}function Be(Ae,ke){var ze=l.findContentType(Ae.path),$=Ki.Image({readImage:Ae.read,altText:ke,contentType:ze}),Ce=GEe[ze]?[]:wh("Image of type "+ze+" is unlikely to display in web browsers");return yD($,Ce)}function Fe(Ae,ke){return wh(Ae+" style with ID "+ke+" was referenced but not defined in the document")}}function ete(n,e,i){var r=e.firstOrEmpty("w:ilvl").attributes["w:val"],o=e.firstOrEmpty("w:numId").attributes["w:val"];if(r!==void 0&&o!==void 0)return i.findLevel(o,r);if(n!=null){var l=i.findLevelByParagraphStyleId(n);if(l!=null)return l}return null}var GEe={"image/png":!0,"image/gif":!0,"image/jpeg":!0,"image/svg+xml":!0,"image/tiff":!0},XEe={"office-word:wrap":!0,"v:shadow":!0,"v:shapetype":!0,"w:annotationRef":!0,"w:bookmarkEnd":!0,"w:sectPr":!0,"w:proofErr":!0,"w:lastRenderedPageBreak":!0,"w:commentRangeStart":!0,"w:commentRangeEnd":!0,"w:del":!0,"w:footnoteRef":!0,"w:endnoteRef":!0,"w:pPr":!0,"w:rPr":!0,"w:tblPr":!0,"w:tblGrid":!0,"w:trPr":!0,"w:tcPr":!0};function Ok(n){return new $s(null,null,n)}function Fk(){return new $s(null)}function ua(n){return new $s(n)}function yD(n,e){return new $s(n,null,e)}function $s(n,e,i){this.value=n||[],this.extra=e||[],this._result=new Qee({element:this.value,extra:e},i),this.messages=this._result.messages}$s.prototype.toExtra=function(){return new $s(null,cP(this.extra,this.value),this.messages)};$s.prototype.insertExtra=function(){var n=this.extra;return n&&n.length?new $s(cP(this.value,n),null,this.messages):this};$s.prototype.map=function(n){var e=this._result.map(function(i){return n(i.element)});return new $s(e.value,this.extra,e.messages)};$s.prototype.flatMap=function(n){var e=this._result.flatMap(function(i){return n(i.element)._result});return new $s(e.value.element,cP(this.extra,e.value.extra),e.messages)};$s.map=function(n,e,i){return new $s(i(n.value,e.value),cP(n.extra,e.extra),n.messages.concat(e.messages))};function wH(n){var e=Qee.combine(ac.pluck(n,"_result"));return new $s(ac.flatten(ac.pluck(e.value,"element")),ac.filter(ac.flatten(ac.pluck(e.value,"extra")),YEe),e.messages)}function cP(n,e){return ac.flatten([n,e])}function YEe(n){return n}var tte={};tte.DocumentXmlReader=JEe;var KEe=Pn,ZEe=wl.Result;function JEe(n){var e=n.bodyReader;function i(r){var o=r.first("w:body");if(o==null)throw new Error("Could not find the body element: are you sure this is a docx file?");var l=e.readXmlElements(o.children).map(function(c){return new KEe.Document(c,{notes:n.notes,comments:n.comments})});return new ZEe(l.value,l.messages)}return{convertXmlToDocument:i}}var uP={};uP.readRelationships=QEe;uP.defaultValue=new CL([]);uP.Relationships=CL;function QEe(n){var e=[];return n.children.forEach(function(i){if(i.name==="relationships:Relationship"){var r={relationshipId:i.attributes.Id,target:i.attributes.Target,type:i.attributes.Type};e.push(r)}}),new CL(e)}function CL(n){var e={};n.forEach(function(r){e[r.relationshipId]=r.target});var i={};return n.forEach(function(r){i[r.type]||(i[r.type]=[]),i[r.type].push(r.target)}),{findTargetByRelationshipId:function(r){return e[r]},findTargetsByType:function(r){return i[r]||[]}}}var DL={};DL.readContentTypesFromXml=tSe;var eSe={png:"png",gif:"gif",jpeg:"jpeg",jpg:"jpeg",tif:"tiff",tiff:"tiff",bmp:"bmp"};DL.defaultContentTypes=nte({},{});function tSe(n){var e={},i={};return n.children.forEach(function(r){if(r.name==="content-types:Default"&&(e[r.attributes.Extension]=r.attributes.ContentType),r.name==="content-types:Override"){var o=r.attributes.PartName;o.charAt(0)==="/"&&(o=o.substring(1)),i[o]=r.attributes.ContentType}}),nte(i,e)}function nte(n,e){return{findContentType:function(i){var r=n[i];if(r)return r;var o=i.split("."),l=o[o.length-1];if(e.hasOwnProperty(l))return e[l];var c=eSe[l.toLowerCase()];return c?"image/"+c:null}}}var dP={},vD=kr;dP.readNumberingXml=nSe;dP.Numbering=NL;dP.defaultNumbering=new NL({},{});function NL(n,e,i){var r=vD.flatten(vD.values(e).map(function(u){return vD.values(u.levels)})),o=vD.indexBy(r.filter(function(u){return u.paragraphStyleId!=null}),"paragraphStyleId");function l(u,h){var m=n[u];if(m){var g=e[m.abstractNumId];if(g){if(g.numStyleLink==null)return e[m.abstractNumId].levels[h];var y=i.findNumberingStyleById(g.numStyleLink);return l(y.numId,h)}else return null}else return null}function c(u){return o[u]||null}return{findLevel:l,findLevelByParagraphStyleId:c}}function nSe(n,e){if(!e||!e.styles)throw new Error("styles is missing");var i=iSe(n),r=sSe(n);return new NL(r,i,e.styles)}function iSe(n){var e={};return n.getElementsByTagName("w:abstractNum").forEach(function(i){var r=i.attributes["w:abstractNumId"];e[r]=rSe(i)}),e}function rSe(n){var e={};n.getElementsByTagName("w:lvl").forEach(function(r){var o=r.attributes["w:ilvl"],l=r.firstOrEmpty("w:numFmt").attributes["w:val"],c=r.firstOrEmpty("w:pStyle").attributes["w:val"];e[o]={isOrdered:l!=="bullet",level:o,paragraphStyleId:c}});var i=n.firstOrEmpty("w:numStyleLink").attributes["w:val"];return{levels:e,numStyleLink:i}}function sSe(n){var e={};return n.getElementsByTagName("w:num").forEach(function(i){var r=i.attributes["w:numId"],o=i.first("w:abstractNumId").attributes["w:val"];e[r]={abstractNumId:o}}),e}var hP={};hP.readStylesXml=oSe;hP.Styles=yE;hP.defaultStyles=new yE({},{});function yE(n,e,i,r){return{findParagraphStyleById:function(o){return n[o]},findCharacterStyleById:function(o){return e[o]},findTableStyleById:function(o){return i[o]},findNumberingStyleById:function(o){return r[o]}}}yE.EMPTY=new yE({},{},{},{});function oSe(n){var e={},i={},r={},o={},l={paragraph:e,character:i,table:r};return n.getElementsByTagName("w:style").forEach(function(c){var u=aSe(c);if(u.type==="numbering")o[u.styleId]=cSe(c);else{var h=l[u.type];h&&(h[u.styleId]=u)}}),new yE(e,i,r,o)}function aSe(n){var e=n.attributes["w:type"],i=n.attributes["w:styleId"],r=lSe(n);return{type:e,styleId:i,name:r}}function lSe(n){var e=n.first("w:name");return e?e.attributes["w:val"]:null}function cSe(n){var e=n.firstOrEmpty("w:pPr").firstOrEmpty("w:numPr").firstOrEmpty("w:numId").attributes["w:val"];return{numId:e}}var PL={},uSe=Pn,dSe=wl.Result;PL.createFootnotesReader=ite.bind(Gt,"footnote");PL.createEndnotesReader=ite.bind(Gt,"endnote");function ite(n,e){function i(l){return dSe.combine(l.getElementsByTagName("w:"+n).filter(r).map(o))}function r(l){var c=l.attributes["w:type"];return c!=="continuationSeparator"&&c!=="separator"}function o(l){var c=l.attributes["w:id"];return e.readXmlElements(l.children).map(function(u){return uSe.Note({noteType:n,noteId:c,body:u})})}return i}var rte={},hSe=Pn,fSe=wl.Result;function pSe(n){function e(r){return fSe.combine(r.getElementsByTagName("w:comment").map(i))}function i(r){var o=r.attributes["w:id"];function l(c){return(r.attributes[c]||"").trim()||null}return n.readXmlElements(r.children).map(function(c){return hSe.comment({commentId:o,body:c,authorName:l("w:author"),authorInitials:l("w:initials")})})}return e}rte.createCommentsReader=pSe;var ste={},mSe=vs;ste.Files=gSe;function gSe(){function n(e){return mSe.reject(new Error("could not open external image: '"+e+`'
cannot open linked files from a web browser`))}return{read:n}}aL.read=_Se;aL._findPartPaths=ate;var bSe=vs,ySe=Pn,rR=wl.Result,w5=dA,ote=uL.readXmlFromZipFile,vSe=EL.createBodyReader,wSe=tte.DocumentXmlReader,Y1=uP,xH=DL,_H=dP,kH=hP,EH=PL,xSe=rte,SH=ste.Files;function _Se(n,e){return e=e||{},bSe.props({contentTypes:ESe(n),partPaths:ate(n),docxFile:n,files:e.path?SH.relativeToFile(e.path):new SH(null)}).also(function(i){return{styles:ASe(n,i.partPaths.styles)}}).also(function(i){return{numbering:SSe(n,i.partPaths.numbering,i.styles)}}).also(function(i){return{footnotes:wD(i.partPaths.footnotes,i,function(r,o){return o?EH.createFootnotesReader(r)(o):new rR([])}),endnotes:wD(i.partPaths.endnotes,i,function(r,o){return o?EH.createEndnotesReader(r)(o):new rR([])}),comments:wD(i.partPaths.comments,i,function(r,o){return o?xSe.createCommentsReader(r)(o):new rR([])})}}).also(function(i){return{notes:i.footnotes.flatMap(function(r){return i.endnotes.map(function(o){return new ySe.Notes(r.concat(o))})})}}).then(function(i){return wD(i.partPaths.mainDocument,i,function(r,o){return i.notes.flatMap(function(l){return i.comments.flatMap(function(c){var u=new wSe({bodyReader:r,notes:l,comments:c});return u.convertXmlToDocument(o)})})})})}function ate(n){return TSe(n).then(function(e){var i=AH({docxFile:n,relationships:e,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",basePath:"",fallbackPath:"word/document.xml"});if(!n.exists(i))throw new Error("Could not find main document part. Are you sure this is a valid .docx file?");return hx({filename:lte(i),readElement:Y1.readRelationships,defaultValue:Y1.defaultValue})(n).then(function(r){function o(l){return AH({docxFile:n,relationships:r,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/"+l,basePath:w5.splitPath(i).dirname,fallbackPath:"word/"+l+".xml"})}return{mainDocument:i,comments:o("comments"),endnotes:o("endnotes"),footnotes:o("footnotes"),numbering:o("numbering"),styles:o("styles")}})})}function AH(n){var e=n.docxFile,i=n.relationships,r=n.relationshipType,o=n.basePath,l=n.fallbackPath,c=i.findTargetsByType(r),u=c.map(function(m){return kSe(w5.joinPath(o,m),"/")}),h=u.filter(function(m){return e.exists(m)});return h.length===0?l:h[0]}function kSe(n,e){return n.substring(0,e.length)===e?n.substring(e.length):n}function hx(n){return function(e){return ote(e,n.filename).then(function(i){return i?n.readElement(i):n.defaultValue})}}function wD(n,e,i){var r=hx({filename:lte(n),readElement:Y1.readRelationships,defaultValue:Y1.defaultValue});return r(e.docxFile).then(function(o){var l=new vSe({relationships:o,contentTypes:e.contentTypes,docxFile:e.docxFile,numbering:e.numbering,styles:e.styles,files:e.files});return ote(e.docxFile,n).then(function(c){return i(l,c)})})}function lte(n){var e=w5.splitPath(n);return w5.joinPath(e.dirname,"_rels",e.basename+".rels")}var ESe=hx({filename:"[Content_Types].xml",readElement:xH.readContentTypesFromXml,defaultValue:xH.defaultContentTypes});function SSe(n,e,i){return hx({filename:e,readElement:function(r){return _H.readNumberingXml(r,{styles:i})},defaultValue:_H.defaultNumbering})(n)}function ASe(n,e){return hx({filename:e,readElement:kH.readStylesXml,defaultValue:kH.defaultStyles})(n)}var TSe=hx({filename:"_rels/.rels",readElement:Y1.readRelationships,defaultValue:Y1.defaultValue}),IL={},CSe=kr,DSe=vs,vE=Df;IL.writeStyleMap=PSe;IL.readStyleMap=RSe;var NSe="http://schemas.zwobble.org/mammoth/style-map",x5="mammoth/style-map",cte="/"+x5;function PSe(n,e){return n.write(x5,e),ISe(n).then(function(){return jSe(n)})}function ISe(n){var e="word/_rels/document.xml.rels",i="http://schemas.openxmlformats.org/package/2006/relationships",r="{"+i+"}Relationship";return n.read(e,"utf8").then(vE.readString).then(function(o){var l=o.children;ute(l,r,"Id",{Id:"rMammothStyleMap",Type:NSe,Target:cte});var c={"":i};return n.write(e,vE.writeString(o,c))})}function jSe(n){var e="[Content_Types].xml",i="http://schemas.openxmlformats.org/package/2006/content-types",r="{"+i+"}Override";return n.read(e,"utf8").then(vE.readString).then(function(o){var l=o.children;ute(l,r,"PartName",{PartName:cte,ContentType:"text/prs.mammoth.style-map"});var c={"":i};return n.write(e,vE.writeString(o,c))})}function ute(n,e,i,r){var o=CSe.find(n,function(l){return l.name===e&&l.attributes[i]===r[i]});o?o.attributes=r:n.push(vE.element(e,r))}function RSe(n){return n.exists(x5)?n.read(x5,"utf8"):DSe.resolve(null)}var jL={},nb={},xh={},Ap={},TH;function dte(){if(TH)return Ap;TH=1;var n=pP();function e(h,m,g){return r(n.element(h,m,{fresh:!1}),g)}function i(h,m,g){var y=n.element(h,m,{fresh:!0});return r(y,g)}function r(h,m){return{type:"element",tag:h,children:m||[]}}function o(h){return{type:"text",value:h}}var l={type:"forceWrite"};Ap.freshElement=i,Ap.nonFreshElement=e,Ap.elementWithTag=r,Ap.text=o,Ap.forceWrite=l;var c={br:!0,hr:!0,img:!0,input:!0};function u(h){return h.children.length===0&&c[h.tag.tagName]}return Ap.isVoidElement=u,Ap}var sR,CH;function MSe(){if(CH)return sR;CH=1;var n=kr,e=dte();function i(S){return r(m(S))}function r(S){var T=[];return S.map(o).forEach(function(C){h(T,C)}),T}function o(S){return l[S.type](S)}var l={element:c,text:u,forceWrite:u};function c(S){return e.elementWithTag(S.tag,r(S.children))}function u(S){return S}function h(S,T){var C=S[S.length-1];T.type==="element"&&!T.tag.fresh&&C&&C.type==="element"&&T.tag.matchesElement(C.tag)?(T.tag.separator&&h(C.children,e.text(T.tag.separator)),T.children.forEach(function(N){h(C.children,N)})):S.push(T)}function m(S){return g(S,function(T){return y[T.type](T)})}function g(S,T){return n.flatten(n.map(S,T),!0)}var y={element:_,text:A,forceWrite:v};function v(S){return[S]}function _(S){var T=m(S.children);return T.length===0&&!e.isVoidElement(S)?[]:[e.elementWithTag(S.tag,T)]}function A(S){return S.value.length===0?[]:[S]}return sR=i,sR}var DH;function fP(){if(DH)return xh;DH=1;var n=dte();xh.freshElement=n.freshElement,xh.nonFreshElement=n.nonFreshElement,xh.elementWithTag=n.elementWithTag,xh.text=n.text,xh.forceWrite=n.forceWrite,xh.simplify=MSe();function e(c,u){u.forEach(function(h){i(c,h)})}function i(c,u){r[u.type](c,u)}var r={element:o,text:l,forceWrite:function(){}};function o(c,u){n.isVoidElement(u)?c.selfClosing(u.tag.tagName,u.tag.attributes):(c.open(u.tag.tagName,u.tag.attributes),e(c,u.children),c.close(u.tag.tagName))}function l(c,u){c.text(u.value)}return xh.write=e,xh}var NH;function pP(){if(NH)return nb;NH=1;var n=kr,e=fP();nb.topLevelElement=i,nb.elements=r,nb.element=l;function i(u,h){return r([l(u,h,{fresh:!0})])}function r(u){return new o(u.map(function(h){return n.isString(h)?l(h):h}))}function o(u){this._elements=u}o.prototype.wrap=function(h){for(var m=h(),g=this._elements.length-1;g>=0;g--)m=this._elements[g].wrapNodes(m);return m};function l(u,h,m){return m=m||{},new c(u,h,m)}function c(u,h,m){var g={};n.isArray(u)?(u.forEach(function(y){g[y]=!0}),u=u[0]):g[u]=!0,this.tagName=u,this.tagNames=g,this.attributes=h||{},this.fresh=m.fresh,this.separator=m.separator}return c.prototype.matchesElement=function(u){return this.tagNames[u.tagName]&&n.isEqual(this.attributes||{},u.attributes||{})},c.prototype.wrap=function(h){return this.wrapNodes(h())},c.prototype.wrapNodes=function(h){return[e.elementWithTag(this,h)]},nb.empty=r([]),nb.ignore={wrap:function(){return[]}},nb}var RL={};(function(n){var e=kr,i=vs,r=fP();n.imgElement=o;function o(l){return function(c,u){return i.when(l(c)).then(function(h){var m={};return c.altText&&(m.alt=c.altText),e.extend(m,h),[r.freshElement("img",m)]})}}n.inline=n.imgElement,n.dataUri=o(function(l){return l.readAsBase64String().then(function(c){return{src:"data:"+l.contentType+";base64,"+c}})})})(RL);var hte={},fte={},pte=kr;fte.writer=OSe;function OSe(n){return n=n||{},n.prettyPrint?FSe():mte()}var xD={div:!0,p:!0,ul:!0,li:!0};function FSe(){var n=0,e="  ",i=[],r=!0,o=!1,l=mte();function c(A,S){xD[A]&&v(),i.push(A),l.open(A,S),xD[A]&&n++,r=!1}function u(A){xD[A]&&(n--,v()),i.pop(),l.close(A)}function h(A){y();var S=_()?A:A.replace(`
`,`
`+e);l.text(S)}function m(A,S){v(),l.selfClosing(A,S)}function g(){return i.length===0||xD[i[i.length-1]]}function y(){o||(v(),o=!0)}function v(){if(o=!1,!r&&g()&&!_()){l._append(`
`);for(var A=0;A<n;A++)l._append(e)}}function _(){return pte.some(i,function(A){return A==="pre"})}return{asString:l.asString,open:c,close:u,text:h,selfClosing:m}}function mte(){var n=[];function e(h,m){var g=o(m);n.push("<"+h+g+">")}function i(h){n.push("</"+h+">")}function r(h,m){var g=o(m);n.push("<"+h+g+" />")}function o(h){return pte.map(h,function(m,g){return" "+g+'="'+USe(m)+'"'}).join("")}function l(h){n.push(LSe(h))}function c(h){n.push(h)}function u(){return n.join("")}return{asString:u,open:e,close:i,text:l,selfClosing:r,_append:c}}function LSe(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function USe(n){return n.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var gte={},BSe=kr;function PH(n){return _5(n,n)}function _5(n,e){return function(){return{start:n,end:e}}}function zSe(n){var e=n.href||"";return e?{start:"[",end:"]("+e+")",anchorPosition:"before"}:{}}function VSe(n){var e=n.src||"",i=n.alt||"";return e||i?{start:"!["+i+"]("+e+")"}:{}}function IH(n){return function(e,i){return{start:i?`
`:"",end:i?"":`
`,list:{isOrdered:n.isOrdered,indent:i?i.indent+1:0,count:0}}}}function WSe(n,e,i){e=e||{indent:0,isOrdered:!1,count:0},e.count++,i.hasClosed=!1;var r=e.isOrdered?e.count+".":"-",o=yte("	",e.indent)+r+" ";return{start:o,end:function(){if(!i.hasClosed)return i.hasClosed=!0,`
`}}}var bte={p:_5("",`

`),br:_5("",`  
`),ul:IH({isOrdered:!1}),ol:IH({isOrdered:!0}),li:WSe,strong:PH("__"),em:PH("*"),a:zSe,img:VSe};(function(){for(var n=1;n<=6;n++)bte["h"+n]=_5(yte("#",n)+" ",`

`)})();function yte(n,e){return new Array(e+1).join(n)}function $Se(){var n=[],e=[],i=null,r={};function o(g,y){y=y||{};var v=bte[g]||function(){return{}},_=v(y,i,r);e.push({end:_.end,list:i}),_.list&&(i=_.list);var A=_.anchorPosition==="before";A&&l(y),n.push(_.start||""),A||l(y)}function l(g){g.id&&n.push('<a id="'+g.id+'"></a>')}function c(g){var y=e.pop();i=y.list;var v=BSe.isFunction(y.end)?y.end():y.end;n.push(v||"")}function u(g,y){o(g,y),c()}function h(g){n.push(qSe(g))}function m(){return n.join("")}return{asString:m,open:o,close:c,text:h,selfClosing:u}}gte.writer=$Se;function qSe(n){return n.replace(/\\/g,"\\\\").replace(/([\`\*_\{\}\[\]\(\)\#\+\-\.\!])/g,"\\$1")}var HSe=fte,GSe=gte;hte.writer=XSe;function XSe(n){return n=n||{},n.outputFormat==="markdown"?GSe.writer():HSe.writer(n)}var Rp=kr,jH=vs,YD=Pn,Hl=pP(),lO=wl,YSe=RL,In=fP(),KSe=hte;jL.DocumentConverter=ZSe;function ZSe(n){return{convertToHtml:function(e){var i=Rp.indexBy(e.type===YD.types.document?e.comments:[],"commentId"),r=new JSe(n,i);return r.convertToHtml(e)}}}function JSe(n,e){var i=1,r=[],o=[];n=Rp.extend({ignoreEmptyParagraphs:!0},n);var l=n.idPrefix===void 0?"":n.idPrefix,c=n.ignoreEmptyParagraphs,u=Hl.topLevelElement("p"),h=n.styleMap||[];function m(X){var K=[],ne=y(X,K,{}),ee=[];vte(ne,function(Q){Q.type==="deferred"&&ee.push(Q)});var ue={};return jH.mapSeries(ee,function(Q){return Q.value().then(function(fe){ue[Q.id]=fe})}).then(function(){function Q(Se){return oR(Se,function(Oe){return Oe.type==="deferred"?ue[Oe.id]:Oe.children?[Rp.extend({},Oe,{children:Q(Oe.children)})]:[Oe]})}var fe=KSe.writer({prettyPrint:n.prettyPrint,outputFormat:n.outputFormat});return In.write(fe,In.simplify(Q(ne))),new lO.Result(fe.asString(),K)})}function g(X,K,ne){return oR(X,function(ee){return y(ee,K,ne)})}function y(X,K,ne){if(!ne)throw new Error("options not set");var ee=ce[X.type];return ee?ee(X,K,ne):[]}function v(X,K,ne){return _(X,K).wrap(function(){var ee=g(X.children,K,ne);return c?ee:[In.forceWrite].concat(ee)})}function _(X,K){var ne=C(X);return ne?ne.to:(X.styleId&&K.push(RH("paragraph",X)),u)}function A(X,K,ne){var ee=function(){return g(X.children,K,ne)},ue=[];if(X.highlight!==null){var Q=T({type:"highlight",color:X.highlight});Q&&ue.push(Q)}X.isSmallCaps&&ue.push(S("smallCaps")),X.isAllCaps&&ue.push(S("allCaps")),X.isStrikethrough&&ue.push(S("strikethrough","s")),X.isUnderline&&ue.push(S("underline")),X.verticalAlignment===YD.verticalAlignment.subscript&&ue.push(Hl.element("sub",{},{fresh:!1})),X.verticalAlignment===YD.verticalAlignment.superscript&&ue.push(Hl.element("sup",{},{fresh:!1})),X.isItalic&&ue.push(S("italic","em")),X.isBold&&ue.push(S("bold","strong"));var fe=Hl.empty,Se=C(X);return Se?fe=Se.to:X.styleId&&K.push(RH("run",X)),ue.push(fe),ue.forEach(function(Oe){ee=Oe.wrap.bind(Oe,ee)}),ee()}function S(X,K){var ne=T({type:X});return ne||(K?Hl.element(K,{},{fresh:!1}):Hl.empty)}function T(X,K){var ne=C(X);return ne?ne.to:K}function C(X){for(var K=0;K<h.length;K++)if(h[K].from.matches(X))return h[K]}function N(X){return function(K,ne){return jH.attempt(function(){return X(K,ne)}).caught(function(ee){return ne.push(lO.error(ee)),[]})}}function I(X){return F(X.noteType,X.noteId)}function O(X){return L(X.noteType,X.noteId)}function F(X,K){return z(X+"-"+K)}function L(X,K){return z(X+"-ref-"+K)}function z(X){return l+X}var B=Hl.elements([Hl.element("table",{},{fresh:!0})]);function Y(X,K,ne){return T(X,B).wrap(function(){return se(X,K,ne)})}function se(X,K,ne){var ee=Rp.findIndex(X.children,function(Se){return!Se.type===YD.types.tableRow||!Se.isHeader});ee===-1&&(ee=X.children.length);var ue;if(ee===0)ue=g(X.children,K,Rp.extend({},ne,{isTableHeader:!1}));else{var Q=g(X.children.slice(0,ee),K,Rp.extend({},ne,{isTableHeader:!0})),fe=g(X.children.slice(ee),K,Rp.extend({},ne,{isTableHeader:!1}));ue=[In.freshElement("thead",{},Q),In.freshElement("tbody",{},fe)]}return[In.forceWrite].concat(ue)}function de(X,K,ne){var ee=g(X.children,K,ne);return[In.freshElement("tr",{},[In.forceWrite].concat(ee))]}function J(X,K,ne){var ee=ne.isTableHeader?"th":"td",ue=g(X.children,K,ne),Q={};return X.colSpan!==1&&(Q.colspan=X.colSpan.toString()),X.rowSpan!==1&&(Q.rowspan=X.rowSpan.toString()),[In.freshElement(ee,Q,[In.forceWrite].concat(ue))]}function be(X,K,ne){return T(X,Hl.ignore).wrap(function(){var ee=e[X.commentId],ue=o.length+1,Q="["+tAe(ee)+ue+"]";return o.push({label:Q,comment:ee}),[In.freshElement("a",{href:"#"+F("comment",X.commentId),id:L("comment",X.commentId)},[In.text(Q)])]})}function q(X,K,ne){var ee=X.label,ue=X.comment,Q=g(ue.body,K,ne).concat([In.nonFreshElement("p",{},[In.text(" "),In.freshElement("a",{href:"#"+L("comment",ue.commentId)},[In.text("↑")])])]);return[In.freshElement("dt",{id:F("comment",ue.commentId)},[In.text("Comment "+ee)]),In.freshElement("dd",{},Q)]}function Te(X,K,ne){return ie(X).wrap(function(){return[]})}function ie(X){var K=C(X);return K?K.to:X.breakType==="line"?Hl.topLevelElement("br"):Hl.empty}var ce={document:function(X,K,ne){var ee=g(X.children,K,ne),ue=r.map(function(fe){return X.notes.resolve(fe)}),Q=g(ue,K,ne);return ee.concat([In.freshElement("ol",{},Q),In.freshElement("dl",{},oR(o,function(fe){return q(fe,K,ne)}))])},paragraph:v,run:A,text:function(X,K,ne){return[In.text(X.value)]},tab:function(X,K,ne){return[In.text("	")]},hyperlink:function(X,K,ne){var ee=X.anchor?"#"+z(X.anchor):X.href,ue={href:ee};X.targetFrame!=null&&(ue.target=X.targetFrame);var Q=g(X.children,K,ne);return[In.nonFreshElement("a",ue,Q)]},checkbox:function(X){var K={type:"checkbox"};return X.checked&&(K.checked="checked"),[In.freshElement("input",K)]},bookmarkStart:function(X,K,ne){var ee=In.freshElement("a",{id:z(X.name)},[In.forceWrite]);return[ee]},noteReference:function(X,K,ne){r.push(X);var ee=In.freshElement("a",{href:"#"+I(X),id:O(X)},[In.text("["+i+++"]")]);return[In.freshElement("sup",{},[ee])]},note:function(X,K,ne){var ee=g(X.body,K,ne),ue=In.elementWithTag(Hl.element("p",{},{fresh:!1}),[In.text(" "),In.freshElement("a",{href:"#"+O(X)},[In.text("↑")])]),Q=ee.concat([ue]);return In.freshElement("li",{id:I(X)},Q)},commentReference:be,comment:q,image:eAe(N(n.convertImage||YSe.dataUri)),table:Y,tableRow:de,tableCell:J,break:Te};return{convertToHtml:m}}var QSe=1;function eAe(n){return function(e,i,r){return[{type:"deferred",id:QSe++,value:function(){return n(e,i,r)}}]}}function RH(n,e){return lO.warning("Unrecognised "+n+" style: '"+e.styleName+"' (Style ID: "+e.styleId+")")}function oR(n,e){return Rp.flatten(n.map(e),!0)}function vte(n,e){n.forEach(function(i){e(i),i.children&&vte(i.children,e)})}var tAe=jL.commentAuthorLabel=function(e){return e.authorInitials||""},wte={},nAe=Pn;function xte(n){if(n.type==="text")return n.value;if(n.type===nAe.types.tab)return"	";var e=n.type==="paragraph"?`

`:"";return(n.children||[]).map(xte).join("")+e}wte.convertElementToRawText=xte;var mP={},fu={},_te={},kte={exports:{}},K1=kte.exports=function(n,e){this._tokens=n,this._startIndex=e||0};K1.prototype.head=function(){return this._tokens[this._startIndex]};K1.prototype.tail=function(n){return new K1(this._tokens,this._startIndex+1)};K1.prototype.toArray=function(){return this._tokens.slice(this._startIndex)};K1.prototype.end=function(){return this._tokens[this._tokens.length-1]};K1.prototype.to=function(n){var e=this.head().source,i=n.head()||n.end();return e.to(i.source)};var iAe=kte.exports,rAe=iAe;_te.Parser=function(n){var e=function(i,r){return i(new rAe(r))};return{parseTokens:e}};var ML={},Ete={};(function(n){n.none=Object.create({value:function(){throw new Error("Called value on none")},isNone:function(){return!0},isSome:function(){return!1},map:function(){return n.none},flatMap:function(){return n.none},filter:function(){return n.none},toArray:function(){return[]},orElse:e,valueOrElse:e});function e(r){return typeof r=="function"?r():r}n.some=function(r){return new i(r)};var i=function(r){this._value=r};i.prototype.value=function(){return this._value},i.prototype.isNone=function(){return!1},i.prototype.isSome=function(){return!0},i.prototype.map=function(r){return new i(r(this._value))},i.prototype.flatMap=function(r){return r(this._value)},i.prototype.filter=function(r){return r(this._value)?this:n.none},i.prototype.toArray=function(){return[this._value]},i.prototype.orElse=function(r){return this},i.prototype.valueOrElse=function(r){return this._value},n.isOption=function(r){return r===n.none||r instanceof i},n.fromNullable=function(r){return r==null?n.none:new i(r)}})(Ete);var OL={failure:function(n,e){if(n.length<1)throw new Error("Failure must have errors");return new fo({status:"failure",remaining:e,errors:n})},error:function(n,e){if(n.length<1)throw new Error("Failure must have errors");return new fo({status:"error",remaining:e,errors:n})},success:function(n,e,i){return new fo({status:"success",value:n,source:i,remaining:e,errors:[]})},cut:function(n){return new fo({status:"cut",remaining:n,errors:[]})}},fo=function(n){this._value=n.value,this._status=n.status,this._hasValue=n.value!==void 0,this._remaining=n.remaining,this._source=n.source,this._errors=n.errors};fo.prototype.map=function(n){return this._hasValue?new fo({value:n(this._value,this._source),status:this._status,remaining:this._remaining,source:this._source,errors:this._errors}):this};fo.prototype.changeRemaining=function(n){return new fo({value:this._value,status:this._status,remaining:n,source:this._source,errors:this._errors})};fo.prototype.isSuccess=function(){return this._status==="success"||this._status==="cut"};fo.prototype.isFailure=function(){return this._status==="failure"};fo.prototype.isError=function(){return this._status==="error"};fo.prototype.isCut=function(){return this._status==="cut"};fo.prototype.value=function(){return this._value};fo.prototype.remaining=function(){return this._remaining};fo.prototype.source=function(){return this._source};fo.prototype.errors=function(){return this._errors};var FL={};FL.error=function(n){return new gP(n)};var gP=function(n){this.expected=n.expected,this.actual=n.actual,this._location=n.location};gP.prototype.describe=function(){var n=this._location?this._location.describe()+`:
`:"";return n+"Expected "+this.expected+`
but got `+this.actual};gP.prototype.lineNumber=function(){return this._location.lineNumber()};gP.prototype.characterNumber=function(){return this._location.characterNumber()};var Ste={};Ste.fromArray=function(n){var e=0,i=function(){return e<n.length};return new B0({hasNext:i,next:function(){if(i())return n[e++];throw new Error("No more elements")}})};var B0=function(n){this._iterator=n};B0.prototype.map=function(n){var e=this._iterator;return new B0({hasNext:function(){return e.hasNext()},next:function(){return n(e.next())}})};B0.prototype.filter=function(n){var e=this._iterator,i=!1,r=!1,o,l=function(){if(!i)for(i=!0,r=!1;e.hasNext()&&!r;)o=e.next(),r=n(o)};return new B0({hasNext:function(){return l(),r},next:function(){l();var c=o;return i=!1,c}})};B0.prototype.first=function(){var n=this._iterator;return this._iterator.hasNext()?n.next():null};B0.prototype.toArray=function(){for(var n=[];this._iterator.hasNext();)n.push(this._iterator.next());return n};(function(n){var e=kr,i=Ete,r=OL,o=FL,l=Ste;n.token=function(v,_){var A=_!==void 0;return function(S){var T=S.head();if(T&&T.name===v&&(!A||T.value===_))return r.success(T.value,S.tail(),T.source);var C=g({name:v,value:_});return y(S,C)}},n.tokenOfType=function(v){return n.token(v)},n.firstOf=function(v,_){return e.isArray(_)||(_=Array.prototype.slice.call(arguments,1)),function(A){return l.fromArray(_).map(function(S){return S(A)}).filter(function(S){return S.isSuccess()||S.isError()}).first()||y(A,v)}},n.then=function(v,_){return function(A){var S=v(A);return S.map||console.log(S),S.map(_)}},n.sequence=function(){var v=Array.prototype.slice.call(arguments,0),_=function(S){var T=e.foldl(v,function(N,I){var O=N.result,F=N.hasCut;if(!O.isSuccess())return{result:O,hasCut:F};var L=I(O.remaining());if(L.isCut())return{result:O,hasCut:!0};if(L.isSuccess()){var z;I.isCaptured?z=O.value().withValue(I,L.value()):z=O.value();var B=L.remaining(),Y=S.to(B);return{result:r.success(z,B,Y),hasCut:F}}else return F?{result:r.error(L.errors(),L.remaining()),hasCut:F}:{result:L,hasCut:F}},{result:r.success(new c,S),hasCut:!1}).result,C=S.to(T.remaining());return T.map(function(N){return N.withValue(n.sequence.source,C)})};_.head=function(){var S=e.find(v,A);return n.then(_,n.sequence.extract(S))},_.map=function(S){return n.then(_,function(T){return S.apply(this,T.toArray())})};function A(S){return S.isCaptured}return _};var c=function(v,_){this._values=v||{},this._valuesArray=_||[]};c.prototype.withValue=function(v,_){if(v.captureName&&v.captureName in this._values)throw new Error('Cannot add second value for capture "'+v.captureName+'"');var A=e.clone(this._values);A[v.captureName]=_;var S=this._valuesArray.concat([_]);return new c(A,S)},c.prototype.get=function(v){if(v.captureName in this._values)return this._values[v.captureName];throw new Error('No value for capture "'+v.captureName+'"')},c.prototype.toArray=function(){return this._valuesArray},n.sequence.capture=function(v,_){var A=function(){return v.apply(this,arguments)};return A.captureName=_,A.isCaptured=!0,A},n.sequence.extract=function(v){return function(_){return _.get(v)}},n.sequence.applyValues=function(v){var _=Array.prototype.slice.call(arguments,1);return function(A){var S=_.map(function(T){return A.get(T)});return v.apply(this,S)}},n.sequence.source={captureName:"☃source☃"},n.sequence.cut=function(){return function(v){return r.cut(v)}},n.optional=function(v){return function(_){var A=v(_);return A.isSuccess()?A.map(i.some):A.isFailure()?r.success(i.none,_):A}},n.zeroOrMoreWithSeparator=function(v,_){return m(v,_,!1)},n.oneOrMoreWithSeparator=function(v,_){return m(v,_,!0)};var u=n.zeroOrMore=function(v){return function(_){for(var A=[],S;(S=v(_))&&S.isSuccess();)_=S.remaining(),A.push(S.value());return S.isError()?S:r.success(A,_)}};n.oneOrMore=function(v){return n.oneOrMoreWithSeparator(v,h)};function h(v){return r.success(null,v)}var m=function(v,_,A){return function(S){var T=v(S);if(T.isSuccess()){var C=n.sequence.capture(v,"main"),N=u(n.then(n.sequence(_,C),n.sequence.extract(C))),I=N(T.remaining());return r.success([T.value()].concat(I.value()),I.remaining())}else return A||T.isError()?T:r.success([],S)}};n.leftAssociative=function(v,_,A){var S;A?S=[{func:A,rule:_}]:S=_,S=S.map(function(C){return n.then(C.rule,function(N){return function(I,O){return C.func(I,N,O)}})});var T=n.firstOf.apply(null,["rules"].concat(S));return function(C){var N=C,I=v(C);if(!I.isSuccess())return I;for(var O=T(I.remaining());O.isSuccess();){var F=O.remaining(),L=N.to(O.remaining()),z=O.value();I=r.success(z(I.value(),L),F,L),O=T(I.remaining())}return O.isError()?O:I}},n.leftAssociative.firstOf=function(){return Array.prototype.slice.call(arguments,0)},n.nonConsuming=function(v){return function(_){return v(_).changeRemaining(_)}};var g=function(v){return v.value?v.name+' "'+v.value+'"':v.name};function y(v,_){var A,S=v.head();return S?A=o.error({expected:_,actual:g(S),location:S.source}):A=o.error({expected:_,actual:"end of tokens"}),r.failure([A],v)}})(ML);var Ate={exports:{}};Ate.exports=function(n,e){var i={asString:function(){return n},range:function(r,o){return new z0(n,e,r,o)}};return i};var z0=function(n,e,i,r){this._string=n,this._description=e,this._startIndex=i,this._endIndex=r};z0.prototype.to=function(n){return new z0(this._string,this._description,this._startIndex,n._endIndex)};z0.prototype.describe=function(){var n=this._position(),e=this._description?this._description+`
`:"";return e+"Line number: "+n.lineNumber+`
Character number: `+n.characterNumber};z0.prototype.lineNumber=function(){return this._position().lineNumber};z0.prototype.characterNumber=function(){return this._position().characterNumber};z0.prototype._position=function(){for(var n=this,e=0,i=function(){return n._string.indexOf(`
`,e)},r=1;i()!==-1&&i()<this._startIndex;)e=i()+1,r+=1;var o=this._startIndex-e+1;return{lineNumber:r,characterNumber:o}};var Tte=Ate.exports,Cte=function(n,e,i){this.name=n,this.value=e,i&&(this.source=i)},Dte={};(function(n){var e=ML,i=OL;n.parser=function(l,c,u){var h={rule:v,leftAssociative:_,rightAssociative:A},m=new r(u.map(y)),g=e.firstOf(l,c);function y(C){return{name:C.name,rule:o(C.ruleBuilder.bind(null,h))}}function v(){return S(m)}function _(C){return S(m.untilExclusive(C))}function A(C){return S(m.untilInclusive(C))}function S(C){return T.bind(null,C)}function T(C,N){var I=g(N);return I.isSuccess()?C.apply(I):I}return h};function r(l){function c(y){return new r(l.slice(0,h().indexOf(y)))}function u(y){return new r(l.slice(0,h().indexOf(y)+1))}function h(){return l.map(function(y){return y.name})}function m(y){for(var v,_;;)if(v=g(y.remaining()),v.isSuccess())_=y.source().to(v.source()),y=i.success(v.value()(y.value(),_),v.remaining(),_);else return v.isFailure()?y:v}function g(y){return e.firstOf("infix",l.map(function(v){return v.rule}))(y)}return{apply:m,untilExclusive:c,untilInclusive:u}}n.infix=function(l,c){function u(h){return n.infix(l,function(m){var g=c(m);return function(y){var v=g(y);return v.map(function(_){return function(A,S){return h(A,_,S)}})}})}return{name:l,ruleBuilder:c,map:u}};var o=function(l){var c;return function(u){return c||(c=l()),c(u)}}})(Dte);var Nte={},aR=Cte,sAe=Tte;Nte.RegexTokeniser=oAe;function oAe(n){n=n.map(function(o){return{name:o.name,regex:new RegExp(o.regex.source,"g")}});function e(o,l){for(var c=new sAe(o,l),u=0,h=[];u<o.length;){var m=i(o,u,c);u=m.endIndex,h.push(m.token)}return h.push(r(o,c)),h}function i(o,l,c){for(var u=0;u<n.length;u++){var h=n[u].regex;h.lastIndex=l;var m=h.exec(o);if(m){var y=l+m[0].length;if(m.index===l&&y>l){var g=m[1],v=new aR(n[u].name,g,c.range(l,y));return{token:v,endIndex:y}}}}var y=l+1,v=new aR("unrecognisedCharacter",o.substring(l,y),c.range(l,y));return{token:v,endIndex:y}}function r(o,l){return new aR("end",null,l.range(o.length,o.length))}return{tokenise:e}}fu.Parser=_te.Parser;fu.rules=ML;fu.errors=FL;fu.results=OL;fu.StringSource=Tte;fu.Token=Cte;fu.bottomUp=Dte;fu.RegexTokeniser=Nte.RegexTokeniser;fu.rule=function(n){var e;return function(i){return e||(e=n()),e(i)}};var Hs={};Hs.paragraph=aAe;Hs.run=lAe;Hs.table=cAe;Hs.bold=new pu("bold");Hs.italic=new pu("italic");Hs.underline=new pu("underline");Hs.strikethrough=new pu("strikethrough");Hs.allCaps=new pu("allCaps");Hs.smallCaps=new pu("smallCaps");Hs.highlight=uAe;Hs.commentReference=new pu("commentReference");Hs.lineBreak=new bP({breakType:"line"});Hs.pageBreak=new bP({breakType:"page"});Hs.columnBreak=new bP({breakType:"column"});Hs.equalTo=hAe;Hs.startsWith=fAe;function aAe(n){return new pu("paragraph",n)}function lAe(n){return new pu("run",n)}function cAe(n){return new pu("table",n)}function uAe(n){return new Pte(n)}function pu(n,e){e=e||{},this._elementType=n,this._styleId=e.styleId,this._styleName=e.styleName,e.list&&(this._listIndex=e.list.levelIndex,this._listIsOrdered=e.list.isOrdered)}pu.prototype.matches=function(n){return n.type===this._elementType&&(this._styleId===void 0||n.styleId===this._styleId)&&(this._styleName===void 0||n.styleName&&this._styleName.operator(this._styleName.operand,n.styleName))&&(this._listIndex===void 0||dAe(n,this._listIndex,this._listIsOrdered))&&(this._breakType===void 0||this._breakType===n.breakType)};function Pte(n){n=n||{},this._color=n.color}Pte.prototype.matches=function(n){return n.type==="highlight"&&(this._color===void 0||n.color===this._color)};function bP(n){n=n||{},this._breakType=n.breakType}bP.prototype.matches=function(n){return n.type==="break"&&(this._breakType===void 0||n.breakType===this._breakType)};function dAe(n,e,i){return n.numbering&&n.numbering.level==e&&n.numbering.isOrdered==i}function hAe(n){return{operator:pAe,operand:n}}function fAe(n){return{operator:mAe,operand:n}}function pAe(n,e){return n.toUpperCase()===e.toUpperCase()}function mAe(n,e){return e.toUpperCase().indexOf(n.toUpperCase())===0}var Ite={},gAe=fu,bAe=gAe.RegexTokeniser;Ite.tokenise=yAe;var MH="'((?:\\\\.|[^'])*)";function yAe(n){var e="(?:[a-zA-Z\\-_]|\\\\.)",i=new bAe([{name:"identifier",regex:new RegExp("("+e+"(?:"+e+"|[0-9])*)")},{name:"dot",regex:/\./},{name:"colon",regex:/:/},{name:"gt",regex:/>/},{name:"whitespace",regex:/\s+/},{name:"arrow",regex:/=>/},{name:"equals",regex:/=/},{name:"startsWith",regex:/\^=/},{name:"open-paren",regex:/\(/},{name:"close-paren",regex:/\)/},{name:"open-square-bracket",regex:/\[/},{name:"close-square-bracket",regex:/\]/},{name:"string",regex:new RegExp(MH+"'")},{name:"unterminated-string",regex:new RegExp(MH)},{name:"integer",regex:/([0-9]+)/},{name:"choice",regex:/\|/},{name:"bang",regex:/(!)/}]);return i.tokenise(n)}var vAe=kr,lt=fu,no=Hs,KD=pP(),wAe=Ite.tokenise,lR=wl;mP.readHtmlPath=EAe;mP.readDocumentMatcher=kAe;mP.readStyle=xAe;function xAe(n){return LL(IAe,n)}function _Ae(){return lt.rules.sequence(lt.rules.sequence.capture(jte()),lt.rules.tokenOfType("whitespace"),lt.rules.tokenOfType("arrow"),lt.rules.sequence.capture(lt.rules.optional(lt.rules.sequence(lt.rules.tokenOfType("whitespace"),lt.rules.sequence.capture(Rte())).head())),lt.rules.tokenOfType("end")).map(function(n,e){return{from:n,to:e.valueOrElse(KD.empty)}})}function kAe(n){return LL(jte(),n)}function jte(){var n=lt.rules.sequence,e=function(L,z){return lt.rules.then(lt.rules.token("identifier",L),function(){return z})},i=e("p",no.paragraph),r=e("r",no.run),o=lt.rules.firstOf("p or r or table",i,r),l=lt.rules.sequence(lt.rules.tokenOfType("dot"),lt.rules.sequence.cut(),lt.rules.sequence.capture(yP)).map(function(L){return{styleId:L}}),c=lt.rules.firstOf("style name matcher",lt.rules.then(lt.rules.sequence(lt.rules.tokenOfType("equals"),lt.rules.sequence.cut(),lt.rules.sequence.capture(ow)).head(),function(L){return{styleName:no.equalTo(L)}}),lt.rules.then(lt.rules.sequence(lt.rules.tokenOfType("startsWith"),lt.rules.sequence.cut(),lt.rules.sequence.capture(ow)).head(),function(L){return{styleName:no.startsWith(L)}})),u=lt.rules.sequence(lt.rules.tokenOfType("open-square-bracket"),lt.rules.sequence.cut(),lt.rules.token("identifier","style-name"),lt.rules.sequence.capture(c),lt.rules.tokenOfType("close-square-bracket")).head(),h=lt.rules.firstOf("list type",e("ordered-list",{isOrdered:!0}),e("unordered-list",{isOrdered:!1})),m=n(lt.rules.tokenOfType("colon"),n.capture(h),n.cut(),lt.rules.tokenOfType("open-paren"),n.capture(SAe),lt.rules.tokenOfType("close-paren")).map(function(L,z){return{list:{isOrdered:L.isOrdered,levelIndex:z-1}}});function g(L){var z=lt.rules.firstOf.apply(lt.rules.firstOf,["matcher suffix"].concat(L)),B=lt.rules.zeroOrMore(z);return lt.rules.then(B,function(Y){var se={};return Y.forEach(function(de){vAe.extend(se,de)}),se})}var y=n(n.capture(o),n.capture(g([l,u,m]))).map(function(L,z){return L(z)}),v=n(lt.rules.token("identifier","table"),n.capture(g([l,u]))).map(function(L){return no.table(L)}),_=e("b",no.bold),A=e("i",no.italic),S=e("u",no.underline),T=e("strike",no.strikethrough),C=e("all-caps",no.allCaps),N=e("small-caps",no.smallCaps),I=n(lt.rules.token("identifier","highlight"),lt.rules.sequence.capture(lt.rules.optional(lt.rules.sequence(lt.rules.tokenOfType("open-square-bracket"),lt.rules.sequence.cut(),lt.rules.token("identifier","color"),lt.rules.tokenOfType("equals"),lt.rules.sequence.capture(ow),lt.rules.tokenOfType("close-square-bracket")).head()))).map(function(L){return no.highlight({color:L.valueOrElse(void 0)})}),O=e("comment-reference",no.commentReference),F=n(lt.rules.token("identifier","br"),n.cut(),lt.rules.tokenOfType("open-square-bracket"),lt.rules.token("identifier","type"),lt.rules.tokenOfType("equals"),n.capture(ow),lt.rules.tokenOfType("close-square-bracket")).map(function(L){switch(L){case"line":return no.lineBreak;case"page":return no.pageBreak;case"column":return no.columnBreak}});return lt.rules.firstOf("element type",y,v,_,A,S,T,C,N,I,O,F)}function EAe(n){return LL(Rte(),n)}function Rte(){var n=lt.rules.sequence.capture,e=lt.rules.tokenOfType("whitespace"),i=lt.rules.then(lt.rules.optional(lt.rules.sequence(lt.rules.tokenOfType("colon"),lt.rules.token("identifier","fresh"))),function(c){return c.map(function(){return!0}).valueOrElse(!1)}),r=lt.rules.then(lt.rules.optional(lt.rules.sequence(lt.rules.tokenOfType("colon"),lt.rules.token("identifier","separator"),lt.rules.tokenOfType("open-paren"),n(ow),lt.rules.tokenOfType("close-paren")).head()),function(c){return c.valueOrElse("")}),o=lt.rules.oneOrMoreWithSeparator(yP,lt.rules.tokenOfType("choice")),l=lt.rules.sequence(n(o),n(lt.rules.zeroOrMore(DAe)),n(i),n(r)).map(function(c,u,h,m){var g={},y={};return u.forEach(function(v){v.append&&g[v.name]?g[v.name]+=" "+v.value:g[v.name]=v.value}),h&&(y.fresh=!0),m&&(y.separator=m),KD.element(c,g,y)});return lt.rules.firstOf("html path",lt.rules.then(lt.rules.tokenOfType("bang"),function(){return KD.ignore}),lt.rules.then(lt.rules.zeroOrMoreWithSeparator(l,lt.rules.sequence(e,lt.rules.tokenOfType("gt"),e)),KD.elements))}var yP=lt.rules.then(lt.rules.tokenOfType("identifier"),Mte),SAe=lt.rules.tokenOfType("integer"),ow=lt.rules.then(lt.rules.tokenOfType("string"),Mte),AAe={n:`
`,r:"\r",t:"	"};function Mte(n){return n.replace(/\\(.)/g,function(e,i){return AAe[i]||i})}var TAe=lt.rules.sequence(lt.rules.tokenOfType("open-square-bracket"),lt.rules.sequence.cut(),lt.rules.sequence.capture(yP),lt.rules.tokenOfType("equals"),lt.rules.sequence.capture(ow),lt.rules.tokenOfType("close-square-bracket")).map(function(n,e){return{name:n,value:e,append:!1}}),CAe=lt.rules.sequence(lt.rules.tokenOfType("dot"),lt.rules.sequence.cut(),lt.rules.sequence.capture(yP)).map(function(n){return{name:"class",value:n,append:!0}}),DAe=lt.rules.firstOf("attribute or class",TAe,CAe);function LL(n,e){var i=wAe(e),r=lt.Parser(),o=r.parseTokens(n,i);return o.isSuccess()?lR.success(o.value()):new lR.Result(null,[lR.warning(NAe(e,o))])}function NAe(n,e){return"Did not understand this style mapping, so ignored it: "+n+`
`+e.errors().map(PAe).join(`
`)}function PAe(n){return"Error was at character number "+n.characterNumber()+": Expected "+n.expected+" but got "+n.actual}var IAe=_Ae(),vP={};vP.readOptions=MAe;var Ote=kr,jAe=vP._defaultStyleMap=["p.Heading1 => h1:fresh","p.Heading2 => h2:fresh","p.Heading3 => h3:fresh","p.Heading4 => h4:fresh","p.Heading5 => h5:fresh","p.Heading6 => h6:fresh","p[style-name='Heading 1'] => h1:fresh","p[style-name='Heading 2'] => h2:fresh","p[style-name='Heading 3'] => h3:fresh","p[style-name='Heading 4'] => h4:fresh","p[style-name='Heading 5'] => h5:fresh","p[style-name='Heading 6'] => h6:fresh","p[style-name='heading 1'] => h1:fresh","p[style-name='heading 2'] => h2:fresh","p[style-name='heading 3'] => h3:fresh","p[style-name='heading 4'] => h4:fresh","p[style-name='heading 5'] => h5:fresh","p[style-name='heading 6'] => h6:fresh","r[style-name='Strong'] => strong","p[style-name='footnote text'] => p:fresh","r[style-name='footnote reference'] =>","p[style-name='endnote text'] => p:fresh","r[style-name='endnote reference'] =>","p[style-name='annotation text'] => p:fresh","r[style-name='annotation reference'] =>","p[style-name='Footnote'] => p:fresh","r[style-name='Footnote anchor'] =>","p[style-name='Endnote'] => p:fresh","r[style-name='Endnote anchor'] =>","p:unordered-list(1) => ul > li:fresh","p:unordered-list(2) => ul|ol > li > ul > li:fresh","p:unordered-list(3) => ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:ordered-list(1) => ol > li:fresh","p:ordered-list(2) => ul|ol > li > ol > li:fresh","p:ordered-list(3) => ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","r[style-name='Hyperlink'] =>","p[style-name='Normal'] => p:fresh"],RAe=vP._standardOptions={transformDocument:OAe,includeDefaultStyleMap:!0,includeEmbeddedStyleMap:!0};function MAe(n){return n=n||{},Ote.extend({},RAe,n,{customStyleMap:OH(n.styleMap),readStyleMap:function(){var e=this.customStyleMap;return this.includeEmbeddedStyleMap&&(e=e.concat(OH(this.embeddedStyleMap))),this.includeDefaultStyleMap&&(e=e.concat(jAe)),e}})}function OH(n){return n?Ote.isString(n)?n.split(`
`).map(function(e){return e.trim()}).filter(function(e){return e!==""&&e.charAt(0)!=="#"}):n:[]}function OAe(n){return n}var Fte={},FH=vs,FAe=dA;Fte.openZip=LAe;function LAe(n){return n.arrayBuffer?FH.resolve(FAe.openArrayBuffer(n.arrayBuffer)):FH.reject(new Error("Could not find file in options"))}var fx={},LH=kr;fx.paragraph=UAe;fx.run=BAe;fx._elements=Ute;fx.getDescendantsOfType=zAe;fx.getDescendants=Bte;function UAe(n){return Lte("paragraph",n)}function BAe(n){return Lte("run",n)}function Lte(n,e){return Ute(function(i){return i.type===n?e(i):i})}function Ute(n){return function e(i){if(i.children){var r=LH.map(i.children,e);i=LH.extend(i,{children:r})}return n(i)}}function zAe(n,e){return Bte(n).filter(function(i){return i.type===e})}function Bte(n){var e=[];return zte(n,function(i){e.push(i)}),e}function zte(n,e){n.children&&n.children.forEach(function(i){zte(i,e),e(i)})}var Vte={},VAe=pP(),WAe=fP();Vte.element=$Ae;function $Ae(n){return function(e){return WAe.elementWithTag(VAe.element(n),[e])}}var qAe=kr,Wte=aL,UL=IL,HAe=jL.DocumentConverter,GAe=wte.convertElementToRawText,XAe=mP.readStyle,YAe=vP.readOptions,wP=Fte,KAe=wl.Result;hu.convertToHtml=ZAe;hu.convertToMarkdown=JAe;hu.convert=BL;hu.extractRawText=nTe;hu.images=RL;hu.transforms=fx;hu.underline=Vte;hu.embedStyleMap=iTe;hu.readEmbeddedStyleMap=QAe;function ZAe(n,e){return BL(n,e)}function JAe(n,e){var i=Object.create(e||{});return i.outputFormat="markdown",BL(n,i)}function BL(n,e){return e=YAe(e),wP.openZip(n).tap(function(i){return UL.readStyleMap(i).then(function(r){e.embeddedStyleMap=r})}).then(function(i){return Wte.read(i,n).then(function(r){return r.map(e.transformDocument)}).then(function(r){return eTe(r,e)})})}function QAe(n){return wP.openZip(n).then(UL.readStyleMap)}function eTe(n,e){var i=tTe(e.readStyleMap()),r=qAe.extend({},e,{styleMap:i.value}),o=new HAe(r);return n.flatMapThen(function(l){return i.flatMapThen(function(c){return o.convertToHtml(l)})})}function tTe(n){return KAe.combine((n||[]).map(XAe)).map(function(e){return e.filter(function(i){return!!i})})}function nTe(n){return wP.openZip(n).then(Wte.read).then(function(e){return e.map(GAe)})}function iTe(n,e){return wP.openZip(n).tap(function(i){return UL.writeStyleMap(i,e)}).then(function(i){return i.toArrayBuffer()}).then(function(i){return{toArrayBuffer:function(){return i},toBuffer:function(){return Buffer.from(i)}}})}hu.styleMapping=function(){throw new Error(`Use a raw string instead of mammoth.styleMapping e.g. "p[style-name='Title'] => h1" instead of mammoth.styleMapping("p[style-name='Title'] => h1")`)};const Vo=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),cO=[.001,0,0,.001,0,0],cR=1.35,ll={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Up={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},rTe="pdfjs_internal_editor_",gn={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},jn={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},sTe={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},io={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},ZD={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Pr={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},jv={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},xP={ERRORS:0,WARNINGS:1,INFOS:5},k5={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},_D={moveTo:0,lineTo:1,curveTo:2,closePath:3},oTe={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let _P=xP.WARNINGS;function aTe(n){Number.isInteger(n)&&(_P=n)}function lTe(){return _P}function kP(n){_P>=xP.INFOS&&console.log(`Info: ${n}`)}function yn(n){_P>=xP.WARNINGS&&console.log(`Warning: ${n}`)}function mi(n){throw new Error(n)}function Rr(n,e){n||mi(e)}function cTe(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function $te(n,e=null,i=null){if(!n)return null;if(i&&typeof n=="string"){if(i.addDefaultProtocol&&n.startsWith("www.")){const o=n.match(/\./g);(o==null?void 0:o.length)>=2&&(n=`http://${n}`)}if(i.tryConvertEncoding)try{n=pTe(n)}catch{}}const r=e?URL.parse(n,e):URL.parse(n);return cTe(r)?r:null}function qte(n,e,i=!1){const r=URL.parse(n);return r?(r.hash=e,r.href):i&&$te(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Tn(n,e,i,r=!1){return Object.defineProperty(n,e,{value:i,enumerable:!r,configurable:!0,writable:!1}),i}const ty=function(){function e(i,r){this.message=i,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class UH extends ty{constructor(e,i){super(e,"PasswordException"),this.code=i}}class uR extends ty{constructor(e,i){super(e,"UnknownErrorException"),this.details=i}}class uO extends ty{constructor(e){super(e,"InvalidPDFException")}}class E5 extends ty{constructor(e,i,r){super(e,"ResponseException"),this.status=i,this.missing=r}}class uTe extends ty{constructor(e){super(e,"FormatError")}}class Wm extends ty{constructor(e){super(e,"AbortException")}}function Hte(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&mi("Invalid argument for bytesToString");const e=n.length,i=8192;if(e<i)return String.fromCharCode.apply(null,n);const r=[];for(let o=0;o<e;o+=i){const l=Math.min(o+i,e),c=n.subarray(o,l);r.push(String.fromCharCode.apply(null,c))}return r.join("")}function gA(n){typeof n!="string"&&mi("Invalid argument for stringToBytes");const e=n.length,i=new Uint8Array(e);for(let r=0;r<e;++r)i[r]=n.charCodeAt(r)&255;return i}function dTe(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function hTe(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function fTe(){try{return new Function(""),!0}catch{return!1}}class Vs{static get isLittleEndian(){return Tn(this,"isLittleEndian",hTe())}static get isEvalSupported(){return Tn(this,"isEvalSupported",fTe())}static get isOffscreenCanvasSupported(){return Tn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Tn(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){if(typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"){const{platform:e,userAgent:i}=navigator;return Tn(this,"platform",{isAndroid:i.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:i.includes("Firefox")})}return Tn(this,"platform",{isAndroid:!1,isLinux:!1,isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,i;return Tn(this,"isCSSRoundSupported",(i=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:i.call(e,"width: round(1.5px, 1px)"))}}const dR=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var hf,JD,dO;class Kt{static makeHexColor(e,i,r){return`#${dR[e]}${dR[i]}${dR[r]}`}static scaleMinMax(e,i){let r;e[0]?(e[0]<0&&(r=i[0],i[0]=i[2],i[2]=r),i[0]*=e[0],i[2]*=e[0],e[3]<0&&(r=i[1],i[1]=i[3],i[3]=r),i[1]*=e[3],i[3]*=e[3]):(r=i[0],i[0]=i[1],i[1]=r,r=i[2],i[2]=i[3],i[3]=r,e[1]<0&&(r=i[1],i[1]=i[3],i[3]=r),i[1]*=e[1],i[3]*=e[1],e[2]<0&&(r=i[0],i[0]=i[2],i[2]=r),i[0]*=e[2],i[2]*=e[2]),i[0]+=e[4],i[1]+=e[5],i[2]+=e[4],i[3]+=e[5]}static transform(e,i){return[e[0]*i[0]+e[2]*i[1],e[1]*i[0]+e[3]*i[1],e[0]*i[2]+e[2]*i[3],e[1]*i[2]+e[3]*i[3],e[0]*i[4]+e[2]*i[5]+e[4],e[1]*i[4]+e[3]*i[5]+e[5]]}static applyTransform(e,i,r=0){const o=e[r],l=e[r+1];e[r]=o*i[0]+l*i[2]+i[4],e[r+1]=o*i[1]+l*i[3]+i[5]}static applyTransformToBezier(e,i,r=0){const o=i[0],l=i[1],c=i[2],u=i[3],h=i[4],m=i[5];for(let g=0;g<6;g+=2){const y=e[r+g],v=e[r+g+1];e[r+g]=y*o+v*c+h,e[r+g+1]=y*l+v*u+m}}static applyInverseTransform(e,i){const r=e[0],o=e[1],l=i[0]*i[3]-i[1]*i[2];e[0]=(r*i[3]-o*i[2]+i[2]*i[5]-i[4]*i[3])/l,e[1]=(-r*i[1]+o*i[0]+i[4]*i[1]-i[5]*i[0])/l}static axialAlignedBoundingBox(e,i,r){const o=i[0],l=i[1],c=i[2],u=i[3],h=i[4],m=i[5],g=e[0],y=e[1],v=e[2],_=e[3];let A=o*g+h,S=A,T=o*v+h,C=T,N=u*y+m,I=N,O=u*_+m,F=O;if(l!==0||c!==0){const L=l*g,z=l*v,B=c*y,Y=c*_;A+=B,C+=B,T+=Y,S+=Y,N+=L,F+=L,O+=z,I+=z}r[0]=Math.min(r[0],A,T,S,C),r[1]=Math.min(r[1],N,O,I,F),r[2]=Math.max(r[2],A,T,S,C),r[3]=Math.max(r[3],N,O,I,F)}static inverseTransform(e){const i=e[0]*e[3]-e[1]*e[2];return[e[3]/i,-e[1]/i,-e[2]/i,e[0]/i,(e[2]*e[5]-e[4]*e[3])/i,(e[4]*e[1]-e[5]*e[0])/i]}static singularValueDecompose2dScale(e,i){const r=e[0],o=e[1],l=e[2],c=e[3],u=r**2+o**2,h=r*l+o*c,m=l**2+c**2,g=(u+m)/2,y=Math.sqrt(g**2-(u*m-h**2));i[0]=Math.sqrt(g+y||1),i[1]=Math.sqrt(g-y||1)}static normalizeRect(e){const i=e.slice(0);return e[0]>e[2]&&(i[0]=e[2],i[2]=e[0]),e[1]>e[3]&&(i[1]=e[3],i[3]=e[1]),i}static intersect(e,i){const r=Math.max(Math.min(e[0],e[2]),Math.min(i[0],i[2])),o=Math.min(Math.max(e[0],e[2]),Math.max(i[0],i[2]));if(r>o)return null;const l=Math.max(Math.min(e[1],e[3]),Math.min(i[1],i[3])),c=Math.min(Math.max(e[1],e[3]),Math.max(i[1],i[3]));return l>c?null:[r,l,o,c]}static pointBoundingBox(e,i,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],i),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],i)}static rectBoundingBox(e,i,r,o,l){l[0]=Math.min(l[0],e,r),l[1]=Math.min(l[1],i,o),l[2]=Math.max(l[2],e,r),l[3]=Math.max(l[3],i,o)}static bezierBoundingBox(e,i,r,o,l,c,u,h,m){m[0]=Math.min(m[0],e,u),m[1]=Math.min(m[1],i,h),m[2]=Math.max(m[2],e,u),m[3]=Math.max(m[3],i,h),me(this,hf,dO).call(this,e,r,l,u,i,o,c,h,3*(-e+3*(r-l)+u),6*(e-2*r+l),3*(r-e),m),me(this,hf,dO).call(this,e,r,l,u,i,o,c,h,3*(-i+3*(o-c)+h),6*(i-2*o+c),3*(o-i),m)}}hf=new WeakSet,JD=function(e,i,r,o,l,c,u,h,m,g){if(m<=0||m>=1)return;const y=1-m,v=m*m,_=v*m,A=y*(y*(y*e+3*m*i)+3*v*r)+_*o,S=y*(y*(y*l+3*m*c)+3*v*u)+_*h;g[0]=Math.min(g[0],A),g[1]=Math.min(g[1],S),g[2]=Math.max(g[2],A),g[3]=Math.max(g[3],S)},dO=function(e,i,r,o,l,c,u,h,m,g,y,v){if(Math.abs(m)<1e-12){Math.abs(g)>=1e-12&&me(this,hf,JD).call(this,e,i,r,o,l,c,u,h,-y/g,v);return}const _=g**2-4*y*m;if(_<0)return;const A=Math.sqrt(_),S=2*m;me(this,hf,JD).call(this,e,i,r,o,l,c,u,h,(-g+A)/S,v),me(this,hf,JD).call(this,e,i,r,o,l,c,u,h,(-g-A)/S,v)},pe(Kt,hf);function pTe(n){return decodeURIComponent(escape(n))}let hR=null,BH=null;function mTe(n){return hR||(hR=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,BH=new Map([["ﬅ","ſt"]])),n.replaceAll(hR,(e,i,r)=>i?i.normalize("NFKC"):BH.get(r))}function Gte(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),Hte(n)}const zL="pdfjs_internal_id_";function gTe(n,e,i){if(!Array.isArray(i)||i.length<2)return!1;const[r,o,...l]=i;if(!n(r)&&!Number.isInteger(r)||!e(o))return!1;const c=l.length;let u=!0;switch(o.name){case"XYZ":if(c<2||c>3)return!1;break;case"Fit":case"FitB":return c===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(c>1)return!1;break;case"FitR":if(c!==4)return!1;u=!1;break;default:return!1}for(const h of l)if(!(typeof h=="number"||u&&h===null))return!1;return!0}function Wo(n,e,i){return Math.min(Math.max(n,e),i)}function Xte(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(Hte(n))}function bTe(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):gA(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(i=>{i(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,i)=>e+i,0)});const kh="http://www.w3.org/2000/svg",db=class db{};yt(db,"CSS",96),yt(db,"PDF",72),yt(db,"PDF_TO_CSS_UNITS",db.CSS/db.PDF);let $m=db;async function bA(n,e="text"){if(Rv(n,document.baseURI)){const i=await fetch(n);if(!i.ok)throw new Error(i.statusText);switch(e){case"arraybuffer":return i.arrayBuffer();case"blob":return i.blob();case"json":return i.json()}return i.text()}return new Promise((i,r)=>{const o=new XMLHttpRequest;o.open("GET",n,!0),o.responseType=e,o.onreadystatechange=()=>{if(o.readyState===XMLHttpRequest.DONE){if(o.status===200||o.status===0){switch(e){case"arraybuffer":case"blob":case"json":i(o.response);return}i(o.responseText);return}r(new Error(o.statusText))}},o.send(null)})}class yA{constructor({viewBox:e,userUnit:i,scale:r,rotation:o,offsetX:l=0,offsetY:c=0,dontFlip:u=!1}){this.viewBox=e,this.userUnit=i,this.scale=r,this.rotation=o,this.offsetX=l,this.offsetY=c,r*=i;const h=(e[2]+e[0])/2,m=(e[3]+e[1])/2;let g,y,v,_;switch(o%=360,o<0&&(o+=360),o){case 180:g=-1,y=0,v=0,_=1;break;case 90:g=0,y=1,v=1,_=0;break;case 270:g=0,y=-1,v=-1,_=0;break;case 0:g=1,y=0,v=0,_=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(v=-v,_=-_);let A,S,T,C;g===0?(A=Math.abs(m-e[1])*r+l,S=Math.abs(h-e[0])*r+c,T=(e[3]-e[1])*r,C=(e[2]-e[0])*r):(A=Math.abs(h-e[0])*r+l,S=Math.abs(m-e[1])*r+c,T=(e[2]-e[0])*r,C=(e[3]-e[1])*r),this.transform=[g*r,y*r,v*r,_*r,A-g*r*h-v*r*m,S-y*r*h-_*r*m],this.width=T,this.height=C}get rawDims(){const e=this.viewBox;return Tn(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:i=this.rotation,offsetX:r=this.offsetX,offsetY:o=this.offsetY,dontFlip:l=!1}={}){return new yA({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:i,offsetX:r,offsetY:o,dontFlip:l})}convertToViewportPoint(e,i){const r=[e,i];return Kt.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const i=[e[0],e[1]];Kt.applyTransform(i,this.transform);const r=[e[2],e[3]];return Kt.applyTransform(r,this.transform),[i[0],i[1],r[0],r[1]]}convertToPdfPoint(e,i){const r=[e,i];return Kt.applyInverseTransform(r,this.transform),r}}class VL extends ty{constructor(e,i=0){super(e,"RenderingCancelledException"),this.extraDelay=i}}function EP(n){const e=n.length;let i=0;for(;i<e&&n[i].trim()==="";)i++;return n.substring(i,i+5).toLowerCase()==="data:"}function WL(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function yTe(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function vTe(n,e="document.pdf"){if(typeof n!="string")return e;if(EP(n))return yn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const i=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,o=i.exec(n);let l=r.exec(o[1])||r.exec(o[2])||r.exec(o[3]);if(l&&(l=l[0],l.includes("%")))try{l=r.exec(decodeURIComponent(l))[0]}catch{}return l||e}class zH{constructor(){yt(this,"started",Object.create(null));yt(this,"times",[])}time(e){e in this.started&&yn(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||yn(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let i=0;for(const{name:r}of this.times)i=Math.max(r.length,i);for(const{name:r,start:o,end:l}of this.times)e.push(`${r.padEnd(i)} ${l-o}ms
`);return e.join("")}}function Rv(n,e){const i=e?URL.parse(n,e):URL.parse(n);return(i==null?void 0:i.protocol)==="http:"||(i==null?void 0:i.protocol)==="https:"}function uu(n){n.preventDefault()}function Ir(n){n.preventDefault(),n.stopPropagation()}var _E;class $L{static toDateObject(e){if(!e||typeof e!="string")return null;P(this,_E)||te(this,_E,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const i=P(this,_E).exec(e);if(!i)return null;const r=parseInt(i[1],10);let o=parseInt(i[2],10);o=o>=1&&o<=12?o-1:0;let l=parseInt(i[3],10);l=l>=1&&l<=31?l:1;let c=parseInt(i[4],10);c=c>=0&&c<=23?c:0;let u=parseInt(i[5],10);u=u>=0&&u<=59?u:0;let h=parseInt(i[6],10);h=h>=0&&h<=59?h:0;const m=i[7]||"Z";let g=parseInt(i[8],10);g=g>=0&&g<=23?g:0;let y=parseInt(i[9],10)||0;return y=y>=0&&y<=59?y:0,m==="-"?(c+=g,u+=y):m==="+"&&(c-=g,u-=y),new Date(Date.UTC(r,o,l,c,u,h))}}_E=new WeakMap,pe($L,_E);function wTe(n,{scale:e=1,rotation:i=0}){const{width:r,height:o}=n.attributes.style,l=[0,0,parseInt(r),parseInt(o)];return new yA({viewBox:l,userUnit:1,scale:e,rotation:i})}function qL(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(yn(`Not a valid color format: "${n}"`),[0,0,0])}function xTe(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const i of n.keys()){e.style.color=i;const r=window.getComputedStyle(e).color;n.set(i,qL(r))}e.remove()}function Ji(n){const{a:e,b:i,c:r,d:o,e:l,f:c}=n.getTransform();return[e,i,r,o,l,c]}function Ju(n){const{a:e,b:i,c:r,d:o,e:l,f:c}=n.getTransform().invertSelf();return[e,i,r,o,l,c]}function V0(n,e,i=!1,r=!0){if(e instanceof yA){const{pageWidth:o,pageHeight:l}=e.rawDims,{style:c}=n,u=Vs.isCSSRoundSupported,h=`var(--total-scale-factor) * ${o}px`,m=`var(--total-scale-factor) * ${l}px`,g=u?`round(down, ${h}, var(--scale-round-x))`:`calc(${h})`,y=u?`round(down, ${m}, var(--scale-round-y))`:`calc(${m})`;!i||e.rotation%180===0?(c.width=g,c.height=y):(c.width=y,c.height=g)}r&&n.setAttribute("data-main-rotation",e.rotation)}class Sf{constructor(){const{pixelRatio:e}=Sf;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,i,r,o){let l=1/0,c=1/0,u=1/0;r>0&&(l=Math.sqrt(r/(e*i))),o!==-1&&(c=o/e,u=o/i);const h=Math.min(l,c,u);return this.sx>h||this.sy>h?(this.sx=h,this.sy=h,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}}const hO=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var Bp,vb,Kl,zp,kE,_w,EE,I5,Yte,Us,Kte,Zte,Yk,Jte,QD;const Ch=class Ch{constructor(e){pe(this,Us);pe(this,Bp,null);pe(this,vb,null);pe(this,Kl);pe(this,zp,null);pe(this,kE,null);pe(this,_w,null);te(this,Kl,e),P(Ch,EE)||te(Ch,EE,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=te(this,Bp,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const i=P(this,Kl)._uiManager._signal;e.addEventListener("contextmenu",uu,{signal:i}),e.addEventListener("pointerdown",me(Ch,I5,Yte),{signal:i});const r=te(this,zp,document.createElement("div"));r.className="buttons",e.append(r);const o=P(this,Kl).toolbarPosition;if(o){const{style:l}=e,c=P(this,Kl)._uiManager.direction==="ltr"?1-o[0]:o[0];l.insetInlineEnd=`${100*c}%`,l.top=`calc(${100*o[1]}% + var(--editor-toolbar-vert-offset))`}return me(this,Us,Jte).call(this),e}get div(){return P(this,Bp)}hide(){var e;P(this,Bp).classList.add("hidden"),(e=P(this,vb))==null||e.hideDropdown()}show(){var e;P(this,Bp).classList.remove("hidden"),(e=P(this,kE))==null||e.shown()}async addAltText(e){const i=await e.render();me(this,Us,Yk).call(this,i),P(this,zp).prepend(i,P(this,Us,QD)),te(this,kE,e)}addColorPicker(e){te(this,vb,e);const i=e.renderButton();me(this,Us,Yk).call(this,i),P(this,zp).prepend(i,P(this,Us,QD))}async addEditSignatureButton(e){const i=te(this,_w,await e.renderEditButton(P(this,Kl)));me(this,Us,Yk).call(this,i),P(this,zp).prepend(i,P(this,Us,QD))}updateEditSignatureButton(e){P(this,_w)&&(P(this,_w).title=e)}remove(){var e;P(this,Bp).remove(),(e=P(this,vb))==null||e.destroy(),te(this,vb,null)}};Bp=new WeakMap,vb=new WeakMap,Kl=new WeakMap,zp=new WeakMap,kE=new WeakMap,_w=new WeakMap,EE=new WeakMap,I5=new WeakSet,Yte=function(e){e.stopPropagation()},Us=new WeakSet,Kte=function(e){P(this,Kl)._focusEventsAllowed=!1,Ir(e)},Zte=function(e){P(this,Kl)._focusEventsAllowed=!0,Ir(e)},Yk=function(e){const i=P(this,Kl)._uiManager._signal;e.addEventListener("focusin",me(this,Us,Kte).bind(this),{capture:!0,signal:i}),e.addEventListener("focusout",me(this,Us,Zte).bind(this),{capture:!0,signal:i}),e.addEventListener("contextmenu",uu,{signal:i})},Jte=function(){const{editorType:e,_uiManager:i}=P(this,Kl),r=document.createElement("button");r.className="delete",r.tabIndex=0,r.setAttribute("data-l10n-id",P(Ch,EE)[e]),me(this,Us,Yk).call(this,r),r.addEventListener("click",o=>{i.delete()},{signal:i._signal}),P(this,zp).append(r)},QD=function(){const e=document.createElement("div");return e.className="divider",e},pe(Ch,I5),pe(Ch,EE,null);let fO=Ch;var SE,wb,xb,qm,Qte,ene,tne;class _Te{constructor(e){pe(this,qm);pe(this,SE,null);pe(this,wb,null);pe(this,xb);te(this,xb,e)}show(e,i,r){const[o,l]=me(this,qm,ene).call(this,i,r),{style:c}=P(this,wb)||te(this,wb,me(this,qm,Qte).call(this));e.append(P(this,wb)),c.insetInlineEnd=`${100*o}%`,c.top=`calc(${100*l}% + var(--editor-toolbar-vert-offset))`}hide(){P(this,wb).remove()}}SE=new WeakMap,wb=new WeakMap,xb=new WeakMap,qm=new WeakSet,Qte=function(){const e=te(this,wb,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",uu,{signal:P(this,xb)._signal});const i=te(this,SE,document.createElement("div"));return i.className="buttons",e.append(i),me(this,qm,tne).call(this),e},ene=function(e,i){let r=0,o=0;for(const l of e){const c=l.y+l.height;if(c<r)continue;const u=l.x+(i?l.width:0);if(c>r){o=u,r=c;continue}i?u>o&&(o=u):u<o&&(o=u)}return[i?1-o:o,r]},tne=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const i=document.createElement("span");e.append(i),i.className="visuallyHidden",i.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=P(this,xb)._signal;e.addEventListener("contextmenu",uu,{signal:r}),e.addEventListener("click",()=>{P(this,xb).highlightSelection("floating_button")},{signal:r}),P(this,SE).append(e)};function HL(n,e,i){for(const r of i)e.addEventListener(r,n[r].bind(n))}var j5;class kTe{constructor(){pe(this,j5,0)}get id(){return`${rTe}${Ro(this,j5)._++}`}}j5=new WeakMap;var kw,AE,so,Ew,eN;const QL=class QL{constructor(){pe(this,Ew);pe(this,kw,Gte());pe(this,AE,0);pe(this,so,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),o=new Image;o.src=e;const l=o.decode().then(()=>(r.drawImage(o,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Tn(this,"_isSVGFittingCanvas",l)}async getFromFile(e){const{lastModified:i,name:r,size:o,type:l}=e;return me(this,Ew,eN).call(this,`${i}_${r}_${o}_${l}`,e)}async getFromUrl(e){return me(this,Ew,eN).call(this,e,e)}async getFromBlob(e,i){const r=await i;return me(this,Ew,eN).call(this,e,r)}async getFromId(e){P(this,so)||te(this,so,new Map);const i=P(this,so).get(e);if(!i)return null;if(i.bitmap)return i.refCounter+=1,i;if(i.file)return this.getFromFile(i.file);if(i.blobPromise){const{blobPromise:r}=i;return delete i.blobPromise,this.getFromBlob(i.id,r)}return this.getFromUrl(i.url)}getFromCanvas(e,i){P(this,so)||te(this,so,new Map);let r=P(this,so).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const o=new OffscreenCanvas(i.width,i.height);return o.getContext("2d").drawImage(i,0,0),r={bitmap:o.transferToImageBitmap(),id:`image_${P(this,kw)}_${Ro(this,AE)._++}`,refCounter:1,isSvg:!1},P(this,so).set(e,r),P(this,so).set(r.id,r),r}getSvgUrl(e){const i=P(this,so).get(e);return i!=null&&i.isSvg?i.svgUrl:null}deleteId(e){var o;P(this,so)||te(this,so,new Map);const i=P(this,so).get(e);if(!i||(i.refCounter-=1,i.refCounter!==0))return;const{bitmap:r}=i;if(!i.url&&!i.file){const l=new OffscreenCanvas(r.width,r.height);l.getContext("bitmaprenderer").transferFromImageBitmap(r),i.blobPromise=l.convertToBlob()}(o=r.close)==null||o.call(r),i.bitmap=null}isValidId(e){return e.startsWith(`image_${P(this,kw)}_`)}};kw=new WeakMap,AE=new WeakMap,so=new WeakMap,Ew=new WeakSet,eN=async function(e,i){P(this,so)||te(this,so,new Map);let r=P(this,so).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${P(this,kw)}_${Ro(this,AE)._++}`,refCounter:0,isSvg:!1});let o;if(typeof i=="string"?(r.url=i,o=await bA(i,"blob")):i instanceof File?o=r.file=i:i instanceof Blob&&(o=i),o.type==="image/svg+xml"){const l=QL._isSVGFittingCanvas,c=new FileReader,u=new Image,h=new Promise((m,g)=>{u.onload=()=>{r.bitmap=u,r.isSvg=!0,m()},c.onload=async()=>{const y=r.svgUrl=c.result;u.src=await l?`${y}#svgView(preserveAspectRatio(none))`:y},u.onerror=c.onerror=g});c.readAsDataURL(o),await h}else r.bitmap=await createImageBitmap(o);r.refCounter=1}catch(o){yn(o),r=null}return P(this,so).set(e,r),r&&P(this,so).set(r.id,r),r};let pO=QL;var br,Vp,TE,Zi;class ETe{constructor(e=128){pe(this,br,[]);pe(this,Vp,!1);pe(this,TE);pe(this,Zi,-1);te(this,TE,e)}add({cmd:e,undo:i,post:r,mustExec:o,type:l=NaN,overwriteIfSameType:c=!1,keepUndo:u=!1}){if(o&&e(),P(this,Vp))return;const h={cmd:e,undo:i,post:r,type:l};if(P(this,Zi)===-1){P(this,br).length>0&&(P(this,br).length=0),te(this,Zi,0),P(this,br).push(h);return}if(c&&P(this,br)[P(this,Zi)].type===l){u&&(h.undo=P(this,br)[P(this,Zi)].undo),P(this,br)[P(this,Zi)]=h;return}const m=P(this,Zi)+1;m===P(this,TE)?P(this,br).splice(0,1):(te(this,Zi,m),m<P(this,br).length&&P(this,br).splice(m)),P(this,br).push(h)}undo(){if(P(this,Zi)===-1)return;te(this,Vp,!0);const{undo:e,post:i}=P(this,br)[P(this,Zi)];e(),i==null||i(),te(this,Vp,!1),te(this,Zi,P(this,Zi)-1)}redo(){if(P(this,Zi)<P(this,br).length-1){te(this,Zi,P(this,Zi)+1),te(this,Vp,!0);const{cmd:e,post:i}=P(this,br)[P(this,Zi)];e(),i==null||i(),te(this,Vp,!1)}}hasSomethingToUndo(){return P(this,Zi)!==-1}hasSomethingToRedo(){return P(this,Zi)<P(this,br).length-1}cleanType(e){if(P(this,Zi)!==-1){for(let i=P(this,Zi);i>=0;i--)if(P(this,br)[i].type!==e){P(this,br).splice(i+1,P(this,Zi)-i),te(this,Zi,i);return}P(this,br).length=0,te(this,Zi,-1)}}destroy(){te(this,br,null)}}br=new WeakMap,Vp=new WeakMap,TE=new WeakMap,Zi=new WeakMap;var R5,nne;class vA{constructor(e){pe(this,R5);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:i}=Vs.platform;for(const[r,o,l={}]of e)for(const c of r){const u=c.startsWith("mac+");i&&u?(this.callbacks.set(c.slice(4),{callback:o,options:l}),this.allKeys.add(c.split("+").at(-1))):!i&&!u&&(this.callbacks.set(c,{callback:o,options:l}),this.allKeys.add(c.split("+").at(-1)))}}exec(e,i){if(!this.allKeys.has(i.key))return;const r=this.callbacks.get(me(this,R5,nne).call(this,i));if(!r)return;const{callback:o,options:{bubbles:l=!1,args:c=[],checker:u=null}}=r;u&&!u(e,i)||(o.bind(e,...c,i)(),l||Ir(i))}}R5=new WeakSet,nne=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const i=this.buffer.join("+");return this.buffer.length=0,i};const M5=class M5{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return xTe(e),Tn(this,"_colors",e)}convert(e){const i=qL(e);if(!window.matchMedia("(forced-colors: active)").matches)return i;for(const[r,o]of this._colors)if(o.every((l,c)=>l===i[c]))return M5._colorsMapping.get(r);return i}getHexCode(e){const i=this._colors.get(e);return i?Kt.makeHexColor(...i):e}};yt(M5,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let mO=M5;var Sw,Ya,Hr,Ns,Aw,Ph,Tw,Zl,Wp,$p,Cw,_b,id,Wc,kb,CE,DE,Dw,NE,rd,qp,Nw,Hp,sd,O5,Gp,PE,Xp,Eb,Sb,Yp,IE,as,oi,Ih,Kp,Ab,jE,RE,Zp,od,jh,ME,Jl,xt,tN,gO,ine,rne,nN,sne,one,ane,bO,lne,yO,vO,cne,Oo,Eh,une,dne,wO,hne,Kk,xO;const lw=class lw{constructor(e,i,r,o,l,c,u,h,m,g,y,v,_,A){pe(this,xt);pe(this,Sw,new AbortController);pe(this,Ya,null);pe(this,Hr,new Map);pe(this,Ns,new Map);pe(this,Aw,null);pe(this,Ph,null);pe(this,Tw,null);pe(this,Zl,new ETe);pe(this,Wp,null);pe(this,$p,null);pe(this,Cw,0);pe(this,_b,new Set);pe(this,id,null);pe(this,Wc,null);pe(this,kb,new Set);yt(this,"_editorUndoBar",null);pe(this,CE,!1);pe(this,DE,!1);pe(this,Dw,!1);pe(this,NE,null);pe(this,rd,null);pe(this,qp,null);pe(this,Nw,null);pe(this,Hp,!1);pe(this,sd,null);pe(this,O5,new kTe);pe(this,Gp,!1);pe(this,PE,!1);pe(this,Xp,null);pe(this,Eb,null);pe(this,Sb,null);pe(this,Yp,null);pe(this,IE,null);pe(this,as,gn.NONE);pe(this,oi,new Set);pe(this,Ih,null);pe(this,Kp,null);pe(this,Ab,null);pe(this,jE,null);pe(this,RE,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});pe(this,Zp,[0,0]);pe(this,od,null);pe(this,jh,null);pe(this,ME,null);pe(this,Jl,null);const S=this._signal=P(this,Sw).signal;te(this,jh,e),te(this,ME,i),te(this,Aw,r),te(this,Kp,o),this._eventBus=l,l._on("editingaction",this.onEditingAction.bind(this),{signal:S}),l._on("pagechanging",this.onPageChanging.bind(this),{signal:S}),l._on("scalechanging",this.onScaleChanging.bind(this),{signal:S}),l._on("rotationchanging",this.onRotationChanging.bind(this),{signal:S}),l._on("setpreference",this.onSetPreference.bind(this),{signal:S}),l._on("switchannotationeditorparams",T=>this.updateParams(T.type,T.value),{signal:S}),me(this,xt,sne).call(this),me(this,xt,cne).call(this),me(this,xt,bO).call(this),te(this,Ph,c.annotationStorage),te(this,NE,c.filterFactory),te(this,Ab,u),te(this,Nw,h||null),te(this,CE,m),te(this,DE,g),te(this,Dw,y),te(this,IE,v||null),this.viewParameters={realScale:$m.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=_||null,this._supportsPinchToZoom=A!==!1}static get _keyboardManager(){const e=lw.prototype,i=c=>P(c,jh).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),r=(c,{target:u})=>{if(u instanceof HTMLInputElement){const{type:h}=u;return h!=="text"&&h!=="number"}return!0},o=this.TRANSLATE_SMALL,l=this.TRANSLATE_BIG;return Tn(this,"_keyboardManager",new vA([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(c,{target:u})=>!(u instanceof HTMLButtonElement)&&P(c,jh).contains(u)&&!c.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(c,{target:u})=>!(u instanceof HTMLButtonElement)&&P(c,jh).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-l,0],checker:i}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[l,0],checker:i}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-l],checker:i}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,l],checker:i}]]))}destroy(){var e,i,r,o,l,c,u,h;(e=P(this,Jl))==null||e.resolve(),te(this,Jl,null),(i=P(this,Sw))==null||i.abort(),te(this,Sw,null),this._signal=null;for(const m of P(this,Ns).values())m.destroy();P(this,Ns).clear(),P(this,Hr).clear(),P(this,kb).clear(),(r=P(this,Yp))==null||r.clear(),te(this,Ya,null),P(this,oi).clear(),P(this,Zl).destroy(),(o=P(this,Aw))==null||o.destroy(),(l=P(this,Kp))==null||l.destroy(),(c=P(this,sd))==null||c.hide(),te(this,sd,null),(u=P(this,Sb))==null||u.destroy(),te(this,Sb,null),P(this,rd)&&(clearTimeout(P(this,rd)),te(this,rd,null)),P(this,od)&&(clearTimeout(P(this,od)),te(this,od,null)),(h=this._editorUndoBar)==null||h.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return P(this,IE)}get useNewAltTextFlow(){return P(this,DE)}get useNewAltTextWhenAddingImage(){return P(this,Dw)}get hcmFilter(){return Tn(this,"hcmFilter",P(this,Ab)?P(this,NE).addHCMFilter(P(this,Ab).foreground,P(this,Ab).background):"none")}get direction(){return Tn(this,"direction",getComputedStyle(P(this,jh)).direction)}get highlightColors(){return Tn(this,"highlightColors",P(this,Nw)?new Map(P(this,Nw).split(",").map(e=>e.split("=").map(i=>i.trim()))):null)}get highlightColorNames(){return Tn(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),te(this,$p,e)}setMainHighlightColorPicker(e){te(this,Sb,e)}editAltText(e,i=!1){var r;(r=P(this,Aw))==null||r.editAltText(this,e,i)}getSignature(e){var i;(i=P(this,Kp))==null||i.getSignature({uiManager:this,editor:e})}get signatureManager(){return P(this,Kp)}switchToMode(e,i){this._eventBus.on("annotationeditormodechanged",i,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,i){this._eventBus.dispatch("setpreference",{source:this,name:e,value:i})}onSetPreference({name:e,value:i}){switch(e){case"enableNewAltTextWhenAddingImage":te(this,Dw,i);break}}onPageChanging({pageNumber:e}){te(this,Cw,e-1)}focusMainContainer(){P(this,jh).focus()}findParent(e,i){for(const r of P(this,Ns).values()){const{x:o,y:l,width:c,height:u}=r.div.getBoundingClientRect();if(e>=o&&e<=o+c&&i>=l&&i<=l+u)return r}return null}disableUserSelect(e=!1){P(this,ME).classList.toggle("noUserSelect",e)}addShouldRescale(e){P(this,kb).add(e)}removeShouldRescale(e){P(this,kb).delete(e)}onScaleChanging({scale:e}){var i;this.commitOrRemove(),this.viewParameters.realScale=e*$m.PDF_TO_CSS_UNITS;for(const r of P(this,kb))r.onScaleChanging();(i=P(this,$p))==null||i.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:r,anchorOffset:o,focusNode:l,focusOffset:c}=i,u=i.toString(),m=me(this,xt,tN).call(this,i).closest(".textLayer"),g=this.getSelectionBoxes(m);if(!g)return;i.empty();const y=me(this,xt,gO).call(this,m),v=P(this,as)===gn.NONE,_=()=>{y==null||y.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:g,anchorNode:r,anchorOffset:o,focusNode:l,focusOffset:c,text:u}),v&&this.showAllEditors("highlight",!0,!0)};if(v){this.switchToMode(gn.HIGHLIGHT,_);return}_()}addToAnnotationStorage(e){!e.isEmpty()&&P(this,Ph)&&!P(this,Ph).has(e.id)&&P(this,Ph).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,P(this,Hp)&&(te(this,Hp,!1),me(this,xt,nN).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const i of P(this,oi))if(i.div.contains(e)){te(this,Eb,[i,e]),i._focusEventsAllowed=!1;break}}focus(){if(!P(this,Eb))return;const[e,i]=P(this,Eb);te(this,Eb,null),i.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),i.focus()}addEditListeners(){me(this,xt,bO).call(this),me(this,xt,yO).call(this)}removeEditListeners(){me(this,xt,lne).call(this),me(this,xt,vO).call(this)}dragOver(e){for(const{type:i}of e.dataTransfer.items)for(const r of P(this,Wc))if(r.isHandlingMimeForPasting(i)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const i of e.dataTransfer.items)for(const r of P(this,Wc))if(r.isHandlingMimeForPasting(i.type)){r.paste(i,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=P(this,Ya))==null||r.commitOrRemove(),!this.hasSelection)return;const i=[];for(const o of P(this,oi)){const l=o.serialize(!0);l&&i.push(l)}i.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(i))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:i}=e;for(const l of i.items)for(const c of P(this,Wc))if(c.isHandlingMimeForPasting(l.type)){c.paste(l,this.currentLayer);return}let r=i.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(l){yn(`paste: "${l.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const o=this.currentLayer;try{const l=[];for(const h of r){const m=await o.deserialize(h);if(!m)return;l.push(m)}const c=()=>{for(const h of l)me(this,xt,wO).call(this,h);me(this,xt,xO).call(this,l)},u=()=>{for(const h of l)h.remove()};this.addCommands({cmd:c,undo:u,mustExec:!0})}catch(l){yn(`paste: "${l.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),P(this,as)!==gn.NONE&&!this.isEditorHandlingKeyboard&&lw._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,P(this,Hp)&&(te(this,Hp,!1),me(this,xt,nN).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(me(this,xt,one).call(this),me(this,xt,yO).call(this),me(this,xt,Oo).call(this,{isEditing:P(this,as)!==gn.NONE,isEmpty:me(this,xt,Kk).call(this),hasSomethingToUndo:P(this,Zl).hasSomethingToUndo(),hasSomethingToRedo:P(this,Zl).hasSomethingToRedo(),hasSelectedEditor:!1})):(me(this,xt,ane).call(this),me(this,xt,vO).call(this),me(this,xt,Oo).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!P(this,Wc)){te(this,Wc,e);for(const i of P(this,Wc))me(this,xt,Eh).call(this,i.defaultPropertiesToUpdate)}}getId(){return P(this,O5).id}get currentLayer(){return P(this,Ns).get(P(this,Cw))}getLayer(e){return P(this,Ns).get(e)}get currentPageIndex(){return P(this,Cw)}addLayer(e){P(this,Ns).set(e.pageIndex,e),P(this,Gp)?e.enable():e.disable()}removeLayer(e){P(this,Ns).delete(e.pageIndex)}async updateMode(e,i=null,r=!1){var o,l,c;if(P(this,as)!==e&&!(P(this,Jl)&&(await P(this,Jl).promise,!P(this,Jl)))){if(te(this,Jl,Promise.withResolvers()),(o=P(this,$p))==null||o.commitOrRemove(),te(this,as,e),e===gn.NONE){this.setEditingState(!1),me(this,xt,dne).call(this),(l=this._editorUndoBar)==null||l.hide(),P(this,Jl).resolve();return}e===gn.SIGNATURE&&await((c=P(this,Kp))==null?void 0:c.loadSignatures()),this.setEditingState(!0),await me(this,xt,une).call(this),this.unselectAll();for(const u of P(this,Ns).values())u.updateMode(e);if(!i){r&&this.addNewEditorFromKeyboard(),P(this,Jl).resolve();return}for(const u of P(this,Hr).values())u.annotationElementId===i?(this.setSelected(u),u.enterInEditMode()):u.unselect();P(this,Jl).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==P(this,as)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,i){var r;if(P(this,Wc)){switch(e){case jn.CREATE:this.currentLayer.addNewEditor(i);return;case jn.HIGHLIGHT_DEFAULT_COLOR:(r=P(this,Sb))==null||r.updateColor(i);break;case jn.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(P(this,jE)||te(this,jE,new Map)).set(e,i),this.showAllEditors("highlight",i);break}for(const o of P(this,oi))o.updateParams(e,i);for(const o of P(this,Wc))o.updateDefaultParams(e,i)}}showAllEditors(e,i,r=!1){var l;for(const c of P(this,Hr).values())c.editorType===e&&c.show(i);(((l=P(this,jE))==null?void 0:l.get(jn.HIGHLIGHT_SHOW_ALL))??!0)!==i&&me(this,xt,Eh).call(this,[[jn.HIGHLIGHT_SHOW_ALL,i]])}enableWaiting(e=!1){if(P(this,PE)!==e){te(this,PE,e);for(const i of P(this,Ns).values())e?i.disableClick():i.enableClick(),i.div.classList.toggle("waiting",e)}}getEditors(e){const i=[];for(const r of P(this,Hr).values())r.pageIndex===e&&i.push(r);return i}getEditor(e){return P(this,Hr).get(e)}addEditor(e){P(this,Hr).set(e.id,e)}removeEditor(e){var i,r;e.div.contains(document.activeElement)&&(P(this,rd)&&clearTimeout(P(this,rd)),te(this,rd,setTimeout(()=>{this.focusMainContainer(),te(this,rd,null)},0))),P(this,Hr).delete(e.id),e.annotationElementId&&((i=P(this,Yp))==null||i.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!P(this,_b).has(e.annotationElementId))&&((r=P(this,Ph))==null||r.remove(e.id))}addDeletedAnnotationElement(e){P(this,_b).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return P(this,_b).has(e)}removeDeletedAnnotationElement(e){P(this,_b).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){P(this,Ya)!==e&&(te(this,Ya,e),e&&me(this,xt,Eh).call(this,e.propertiesToUpdate))}updateUI(e){P(this,xt,hne)===e&&me(this,xt,Eh).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){me(this,xt,Eh).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(P(this,oi).has(e)){P(this,oi).delete(e),e.unselect(),me(this,xt,Oo).call(this,{hasSelectedEditor:this.hasSelection});return}P(this,oi).add(e),e.select(),me(this,xt,Eh).call(this,e.propertiesToUpdate),me(this,xt,Oo).call(this,{hasSelectedEditor:!0})}setSelected(e){var i;(i=P(this,$p))==null||i.commitOrRemove();for(const r of P(this,oi))r!==e&&r.unselect();P(this,oi).clear(),P(this,oi).add(e),e.select(),me(this,xt,Eh).call(this,e.propertiesToUpdate),me(this,xt,Oo).call(this,{hasSelectedEditor:!0})}isSelected(e){return P(this,oi).has(e)}get firstSelectedEditor(){return P(this,oi).values().next().value}unselect(e){e.unselect(),P(this,oi).delete(e),me(this,xt,Oo).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return P(this,oi).size!==0}get isEnterHandled(){return P(this,oi).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;P(this,Zl).undo(),me(this,xt,Oo).call(this,{hasSomethingToUndo:P(this,Zl).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:me(this,xt,Kk).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){P(this,Zl).redo(),me(this,xt,Oo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:P(this,Zl).hasSomethingToRedo(),isEmpty:me(this,xt,Kk).call(this)})}addCommands(e){P(this,Zl).add(e),me(this,xt,Oo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:me(this,xt,Kk).call(this)})}cleanUndoStack(e){P(this,Zl).cleanType(e)}delete(){var l;this.commitOrRemove();const e=(l=this.currentLayer)==null?void 0:l.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const i=e?[e]:[...P(this,oi)],r=()=>{var c;(c=this._editorUndoBar)==null||c.show(o,i.length===1?i[0].editorType:i.length);for(const u of i)u.remove()},o=()=>{for(const c of i)me(this,xt,wO).call(this,c)};this.addCommands({cmd:r,undo:o,mustExec:!0})}commitOrRemove(){var e;(e=P(this,Ya))==null||e.commitOrRemove()}hasSomethingToControl(){return P(this,Ya)||this.hasSelection}selectAll(){for(const e of P(this,oi))e.commit();me(this,xt,xO).call(this,P(this,Hr).values())}unselectAll(){var e;if(!(P(this,Ya)&&(P(this,Ya).commitOrRemove(),P(this,as)!==gn.NONE))&&!((e=P(this,$p))!=null&&e.commitOrRemove())&&this.hasSelection){for(const i of P(this,oi))i.unselect();P(this,oi).clear(),me(this,xt,Oo).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,i,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;P(this,Zp)[0]+=e,P(this,Zp)[1]+=i;const[o,l]=P(this,Zp),c=[...P(this,oi)],u=1e3;P(this,od)&&clearTimeout(P(this,od)),te(this,od,setTimeout(()=>{te(this,od,null),P(this,Zp)[0]=P(this,Zp)[1]=0,this.addCommands({cmd:()=>{for(const h of c)P(this,Hr).has(h.id)&&(h.translateInPage(o,l),h.translationDone())},undo:()=>{for(const h of c)P(this,Hr).has(h.id)&&(h.translateInPage(-o,-l),h.translationDone())},mustExec:!1})},u));for(const h of c)h.translateInPage(e,i),h.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),te(this,id,new Map);for(const e of P(this,oi))P(this,id).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!P(this,id))return!1;this.disableUserSelect(!1);const e=P(this,id);te(this,id,null);let i=!1;for(const[{x:o,y:l,pageIndex:c},u]of e)u.newX=o,u.newY=l,u.newPageIndex=c,i||(i=o!==u.savedX||l!==u.savedY||c!==u.savedPageIndex);if(!i)return!1;const r=(o,l,c,u)=>{if(P(this,Hr).has(o.id)){const h=P(this,Ns).get(u);h?o._setParentAndPosition(h,l,c):(o.pageIndex=u,o.x=l,o.y=c)}};return this.addCommands({cmd:()=>{for(const[o,{newX:l,newY:c,newPageIndex:u}]of e)r(o,l,c,u)},undo:()=>{for(const[o,{savedX:l,savedY:c,savedPageIndex:u}]of e)r(o,l,c,u)},mustExec:!0}),!0}dragSelectedEditors(e,i){if(P(this,id))for(const r of P(this,id).keys())r.drag(e,i)}rebuild(e){if(e.parent===null){const i=this.getLayer(e.pageIndex);i?(i.changeParent(e),i.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||P(this,oi).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return P(this,Ya)===e}getActive(){return P(this,Ya)}getMode(){return P(this,as)}get imageManager(){return Tn(this,"imageManager",new pO)}getSelectionBoxes(e){if(!e)return null;const i=document.getSelection();for(let m=0,g=i.rangeCount;m<g;m++)if(!e.contains(i.getRangeAt(m).commonAncestorContainer))return null;const{x:r,y:o,width:l,height:c}=e.getBoundingClientRect();let u;switch(e.getAttribute("data-main-rotation")){case"90":u=(m,g,y,v)=>({x:(g-o)/c,y:1-(m+y-r)/l,width:v/c,height:y/l});break;case"180":u=(m,g,y,v)=>({x:1-(m+y-r)/l,y:1-(g+v-o)/c,width:y/l,height:v/c});break;case"270":u=(m,g,y,v)=>({x:1-(g+v-o)/c,y:(m-r)/l,width:v/c,height:y/l});break;default:u=(m,g,y,v)=>({x:(m-r)/l,y:(g-o)/c,width:y/l,height:v/c});break}const h=[];for(let m=0,g=i.rangeCount;m<g;m++){const y=i.getRangeAt(m);if(!y.collapsed)for(const{x:v,y:_,width:A,height:S}of y.getClientRects())A===0||S===0||h.push(u(v,_,A,S))}return h.length===0?null:h}addChangedExistingAnnotation({annotationElementId:e,id:i}){(P(this,Tw)||te(this,Tw,new Map)).set(e,i)}removeChangedExistingAnnotation({annotationElementId:e}){var i;(i=P(this,Tw))==null||i.delete(e)}renderAnnotationElement(e){var o;const i=(o=P(this,Tw))==null?void 0:o.get(e.data.id);if(!i)return;const r=P(this,Ph).getRawValue(i);r&&(P(this,as)===gn.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,i,r){var l;const o=(l=P(this,Yp))==null?void 0:l.get(e);o&&(o.setCanvas(i,r),P(this,Yp).delete(e))}addMissingCanvas(e,i){(P(this,Yp)||te(this,Yp,new Map)).set(e,i)}};Sw=new WeakMap,Ya=new WeakMap,Hr=new WeakMap,Ns=new WeakMap,Aw=new WeakMap,Ph=new WeakMap,Tw=new WeakMap,Zl=new WeakMap,Wp=new WeakMap,$p=new WeakMap,Cw=new WeakMap,_b=new WeakMap,id=new WeakMap,Wc=new WeakMap,kb=new WeakMap,CE=new WeakMap,DE=new WeakMap,Dw=new WeakMap,NE=new WeakMap,rd=new WeakMap,qp=new WeakMap,Nw=new WeakMap,Hp=new WeakMap,sd=new WeakMap,O5=new WeakMap,Gp=new WeakMap,PE=new WeakMap,Xp=new WeakMap,Eb=new WeakMap,Sb=new WeakMap,Yp=new WeakMap,IE=new WeakMap,as=new WeakMap,oi=new WeakMap,Ih=new WeakMap,Kp=new WeakMap,Ab=new WeakMap,jE=new WeakMap,RE=new WeakMap,Zp=new WeakMap,od=new WeakMap,jh=new WeakMap,ME=new WeakMap,Jl=new WeakMap,xt=new WeakSet,tN=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},gO=function(e){const{currentLayer:i}=this;if(i.hasTextLayer(e))return i;for(const r of P(this,Ns).values())if(r.hasTextLayer(e))return r;return null},ine=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=me(this,xt,tN).call(this,e).closest(".textLayer"),o=this.getSelectionBoxes(r);o&&(P(this,sd)||te(this,sd,new _Te(this)),P(this,sd).show(r,o,this.direction==="ltr"))},rne=function(){var l,c,u;const e=document.getSelection();if(!e||e.isCollapsed){P(this,Ih)&&((l=P(this,sd))==null||l.hide(),te(this,Ih,null),me(this,xt,Oo).call(this,{hasSelectedText:!1}));return}const{anchorNode:i}=e;if(i===P(this,Ih))return;const o=me(this,xt,tN).call(this,e).closest(".textLayer");if(!o){P(this,Ih)&&((c=P(this,sd))==null||c.hide(),te(this,Ih,null),me(this,xt,Oo).call(this,{hasSelectedText:!1}));return}if((u=P(this,sd))==null||u.hide(),te(this,Ih,i),me(this,xt,Oo).call(this,{hasSelectedText:!0}),!(P(this,as)!==gn.HIGHLIGHT&&P(this,as)!==gn.NONE)&&(P(this,as)===gn.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),te(this,Hp,this.isShiftKeyDown),!this.isShiftKeyDown)){const h=P(this,as)===gn.HIGHLIGHT?me(this,xt,gO).call(this,o):null;h==null||h.toggleDrawing();const m=new AbortController,g=this.combinedSignal(m),y=v=>{v.type==="pointerup"&&v.button!==0||(m.abort(),h==null||h.toggleDrawing(!0),v.type==="pointerup"&&me(this,xt,nN).call(this,"main_toolbar"))};window.addEventListener("pointerup",y,{signal:g}),window.addEventListener("blur",y,{signal:g})}},nN=function(e=""){P(this,as)===gn.HIGHLIGHT?this.highlightSelection(e):P(this,CE)&&me(this,xt,ine).call(this)},sne=function(){document.addEventListener("selectionchange",me(this,xt,rne).bind(this),{signal:this._signal})},one=function(){if(P(this,qp))return;te(this,qp,new AbortController);const e=this.combinedSignal(P(this,qp));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},ane=function(){var e;(e=P(this,qp))==null||e.abort(),te(this,qp,null)},bO=function(){if(P(this,Xp))return;te(this,Xp,new AbortController);const e=this.combinedSignal(P(this,Xp));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},lne=function(){var e;(e=P(this,Xp))==null||e.abort(),te(this,Xp,null)},yO=function(){if(P(this,Wp))return;te(this,Wp,new AbortController);const e=this.combinedSignal(P(this,Wp));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},vO=function(){var e;(e=P(this,Wp))==null||e.abort(),te(this,Wp,null)},cne=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Oo=function(e){Object.entries(e).some(([r,o])=>P(this,RE)[r]!==o)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(P(this,RE),e)}),P(this,as)===gn.HIGHLIGHT&&e.hasSelectedEditor===!1&&me(this,xt,Eh).call(this,[[jn.HIGHLIGHT_FREE,!0]]))},Eh=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},une=async function(){if(!P(this,Gp)){te(this,Gp,!0);const e=[];for(const i of P(this,Ns).values())e.push(i.enable());await Promise.all(e);for(const i of P(this,Hr).values())i.enable()}},dne=function(){if(this.unselectAll(),P(this,Gp)){te(this,Gp,!1);for(const e of P(this,Ns).values())e.disable();for(const e of P(this,Hr).values())e.disable()}},wO=function(e){const i=P(this,Ns).get(e.pageIndex);i?i.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},hne=function(){let e=null;for(e of P(this,oi));return e},Kk=function(){if(P(this,Hr).size===0)return!0;if(P(this,Hr).size===1)for(const e of P(this,Hr).values())return e.isEmpty();return!1},xO=function(e){for(const i of P(this,oi))i.unselect();P(this,oi).clear();for(const i of e)i.isEmpty()||(P(this,oi).add(i),i.select());me(this,xt,Oo).call(this,{hasSelectedEditor:this.hasSelection})},yt(lw,"TRANSLATE_SMALL",1),yt(lw,"TRANSLATE_BIG",10);let W0=lw;var ls,ad,$c,Pw,ld,Ka,Iw,cd,fa,Rh,Tb,ud,Jp,ru,Zk,iN;const Lo=class Lo{constructor(e){pe(this,ru);pe(this,ls,null);pe(this,ad,!1);pe(this,$c,null);pe(this,Pw,null);pe(this,ld,null);pe(this,Ka,null);pe(this,Iw,!1);pe(this,cd,null);pe(this,fa,null);pe(this,Rh,null);pe(this,Tb,null);pe(this,ud,!1);te(this,fa,e),te(this,ud,e._uiManager.useNewAltTextFlow),P(Lo,Jp)||te(Lo,Jp,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Lo._l10n??(Lo._l10n=e)}async render(){const e=te(this,$c,document.createElement("button"));e.className="altText",e.tabIndex="0";const i=te(this,Pw,document.createElement("span"));e.append(i),P(this,ud)?(e.classList.add("new"),e.setAttribute("data-l10n-id",P(Lo,Jp).missing),i.setAttribute("data-l10n-id",P(Lo,Jp)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=P(this,fa)._uiManager._signal;e.addEventListener("contextmenu",uu,{signal:r}),e.addEventListener("pointerdown",l=>l.stopPropagation(),{signal:r});const o=l=>{l.preventDefault(),P(this,fa)._uiManager.editAltText(P(this,fa)),P(this,ud)&&P(this,fa)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:P(this,ru,Zk)}})};return e.addEventListener("click",o,{capture:!0,signal:r}),e.addEventListener("keydown",l=>{l.target===e&&l.key==="Enter"&&(te(this,Iw,!0),o(l))},{signal:r}),await me(this,ru,iN).call(this),e}finish(){P(this,$c)&&(P(this,$c).focus({focusVisible:P(this,Iw)}),te(this,Iw,!1))}isEmpty(){return P(this,ud)?P(this,ls)===null:!P(this,ls)&&!P(this,ad)}hasData(){return P(this,ud)?P(this,ls)!==null||!!P(this,Rh):this.isEmpty()}get guessedText(){return P(this,Rh)}async setGuessedText(e){P(this,ls)===null&&(te(this,Rh,e),te(this,Tb,await Lo._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),me(this,ru,iN).call(this))}toggleAltTextBadge(e=!1){var i;if(!P(this,ud)||P(this,ls)){(i=P(this,cd))==null||i.remove(),te(this,cd,null);return}if(!P(this,cd)){const r=te(this,cd,document.createElement("div"));r.className="noAltTextBadge",P(this,fa).div.append(r)}P(this,cd).classList.toggle("hidden",!e)}serialize(e){let i=P(this,ls);return!e&&P(this,Rh)===i&&(i=P(this,Tb)),{altText:i,decorative:P(this,ad),guessedText:P(this,Rh),textWithDisclaimer:P(this,Tb)}}get data(){return{altText:P(this,ls),decorative:P(this,ad)}}set data({altText:e,decorative:i,guessedText:r,textWithDisclaimer:o,cancel:l=!1}){r&&(te(this,Rh,r),te(this,Tb,o)),!(P(this,ls)===e&&P(this,ad)===i)&&(l||(te(this,ls,e),te(this,ad,i)),me(this,ru,iN).call(this))}toggle(e=!1){P(this,$c)&&(!e&&P(this,Ka)&&(clearTimeout(P(this,Ka)),te(this,Ka,null)),P(this,$c).disabled=!e)}shown(){P(this,fa)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:P(this,ru,Zk)}})}destroy(){var e,i;(e=P(this,$c))==null||e.remove(),te(this,$c,null),te(this,Pw,null),te(this,ld,null),(i=P(this,cd))==null||i.remove(),te(this,cd,null)}};ls=new WeakMap,ad=new WeakMap,$c=new WeakMap,Pw=new WeakMap,ld=new WeakMap,Ka=new WeakMap,Iw=new WeakMap,cd=new WeakMap,fa=new WeakMap,Rh=new WeakMap,Tb=new WeakMap,ud=new WeakMap,Jp=new WeakMap,ru=new WeakSet,Zk=function(){return P(this,ls)&&"added"||P(this,ls)===null&&this.guessedText&&"review"||"missing"},iN=async function(){var o,l,c;const e=P(this,$c);if(!e)return;if(P(this,ud)){if(e.classList.toggle("done",!!P(this,ls)),e.setAttribute("data-l10n-id",P(Lo,Jp)[P(this,ru,Zk)]),(o=P(this,Pw))==null||o.setAttribute("data-l10n-id",P(Lo,Jp)[`${P(this,ru,Zk)}-label`]),!P(this,ls)){(l=P(this,ld))==null||l.remove();return}}else{if(!P(this,ls)&&!P(this,ad)){e.classList.remove("done"),(c=P(this,ld))==null||c.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let i=P(this,ld);if(!i){te(this,ld,i=document.createElement("span")),i.className="tooltip",i.setAttribute("role","tooltip"),i.id=`alt-text-tooltip-${P(this,fa).id}`;const u=100,h=P(this,fa)._uiManager._signal;h.addEventListener("abort",()=>{clearTimeout(P(this,Ka)),te(this,Ka,null)},{once:!0}),e.addEventListener("mouseenter",()=>{te(this,Ka,setTimeout(()=>{te(this,Ka,null),P(this,ld).classList.add("show"),P(this,fa)._reportTelemetry({action:"alt_text_tooltip"})},u))},{signal:h}),e.addEventListener("mouseleave",()=>{var m;P(this,Ka)&&(clearTimeout(P(this,Ka)),te(this,Ka,null)),(m=P(this,ld))==null||m.classList.remove("show")},{signal:h})}P(this,ad)?i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(i.removeAttribute("data-l10n-id"),i.textContent=P(this,ls)),i.parentNode||e.append(i);const r=P(this,fa).getElementForAltText();r==null||r.setAttribute("aria-describedby",i.id)},pe(Lo,Jp,null),yt(Lo,"_l10n",null);let S5=Lo;var jw,Cb,OE,FE,LE,UE,BE,Mh,Db,Oh,Nb,Fh,Hm,fne,pne,mne;const eU=class eU{constructor({container:e,isPinchingDisabled:i=null,isPinchingStopped:r=null,onPinchStart:o=null,onPinching:l=null,onPinchEnd:c=null,signal:u}){pe(this,Hm);pe(this,jw);pe(this,Cb,!1);pe(this,OE,null);pe(this,FE);pe(this,LE);pe(this,UE);pe(this,BE);pe(this,Mh,null);pe(this,Db);pe(this,Oh,null);pe(this,Nb);pe(this,Fh,null);te(this,jw,e),te(this,OE,r),te(this,FE,i),te(this,LE,o),te(this,UE,l),te(this,BE,c),te(this,Nb,new AbortController),te(this,Db,AbortSignal.any([u,P(this,Nb).signal])),e.addEventListener("touchstart",me(this,Hm,fne).bind(this),{passive:!1,signal:P(this,Db)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Sf.pixelRatio}destroy(){var e,i;(e=P(this,Nb))==null||e.abort(),te(this,Nb,null),(i=P(this,Mh))==null||i.abort(),te(this,Mh,null)}};jw=new WeakMap,Cb=new WeakMap,OE=new WeakMap,FE=new WeakMap,LE=new WeakMap,UE=new WeakMap,BE=new WeakMap,Mh=new WeakMap,Db=new WeakMap,Oh=new WeakMap,Nb=new WeakMap,Fh=new WeakMap,Hm=new WeakSet,fne=function(e){var o,l,c;if((o=P(this,FE))!=null&&o.call(this))return;if(e.touches.length===1){if(P(this,Mh))return;const u=te(this,Mh,new AbortController),h=AbortSignal.any([P(this,Db),u.signal]),m=P(this,jw),g={capture:!0,signal:h,passive:!1},y=v=>{var _;v.pointerType==="touch"&&((_=P(this,Mh))==null||_.abort(),te(this,Mh,null))};m.addEventListener("pointerdown",v=>{v.pointerType==="touch"&&(Ir(v),y(v))},g),m.addEventListener("pointerup",y,g),m.addEventListener("pointercancel",y,g);return}if(!P(this,Fh)){te(this,Fh,new AbortController);const u=AbortSignal.any([P(this,Db),P(this,Fh).signal]),h=P(this,jw),m={signal:u,capture:!1,passive:!1};h.addEventListener("touchmove",me(this,Hm,pne).bind(this),m);const g=me(this,Hm,mne).bind(this);h.addEventListener("touchend",g,m),h.addEventListener("touchcancel",g,m),m.capture=!0,h.addEventListener("pointerdown",Ir,m),h.addEventListener("pointermove",Ir,m),h.addEventListener("pointercancel",Ir,m),h.addEventListener("pointerup",Ir,m),(l=P(this,LE))==null||l.call(this)}if(Ir(e),e.touches.length!==2||(c=P(this,OE))!=null&&c.call(this)){te(this,Oh,null);return}let[i,r]=e.touches;i.identifier>r.identifier&&([i,r]=[r,i]),te(this,Oh,{touch0X:i.screenX,touch0Y:i.screenY,touch1X:r.screenX,touch1Y:r.screenY})},pne=function(e){var O;if(!P(this,Oh)||e.touches.length!==2)return;Ir(e);let[i,r]=e.touches;i.identifier>r.identifier&&([i,r]=[r,i]);const{screenX:o,screenY:l}=i,{screenX:c,screenY:u}=r,h=P(this,Oh),{touch0X:m,touch0Y:g,touch1X:y,touch1Y:v}=h,_=y-m,A=v-g,S=c-o,T=u-l,C=Math.hypot(S,T)||1,N=Math.hypot(_,A)||1;if(!P(this,Cb)&&Math.abs(N-C)<=eU.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(h.touch0X=o,h.touch0Y=l,h.touch1X=c,h.touch1Y=u,!P(this,Cb)){te(this,Cb,!0);return}const I=[(o+c)/2,(l+u)/2];(O=P(this,UE))==null||O.call(this,I,N,C)},mne=function(e){var i;e.touches.length>=2||(P(this,Fh)&&(P(this,Fh).abort(),te(this,Fh,null),(i=P(this,BE))==null||i.call(this)),P(this,Oh)&&(Ir(e),te(this,Oh,null),te(this,Cb,!1)))};let A5=eU;var Pb,qc,Mi,Rw,Qp,zE,Ib,Ps,jb,Lh,em,VE,Rb,Za,WE,Mb,Uh,dd,Mw,Ow,Ql,Ob,$E,F5,rn,_O,qE,kO,rN,gne,bne,EO,sN,SO,yne,vne,wne,AO,xne,TO,_ne,kne,Ene,CO,Jk;const _n=class _n{constructor(e){pe(this,rn);pe(this,Pb,null);pe(this,qc,null);pe(this,Mi,null);pe(this,Rw,!1);pe(this,Qp,null);pe(this,zE,"");pe(this,Ib,!1);pe(this,Ps,null);pe(this,jb,null);pe(this,Lh,null);pe(this,em,null);pe(this,VE,"");pe(this,Rb,!1);pe(this,Za,null);pe(this,WE,!1);pe(this,Mb,!1);pe(this,Uh,!1);pe(this,dd,null);pe(this,Mw,0);pe(this,Ow,0);pe(this,Ql,null);pe(this,Ob,null);yt(this,"_isCopy",!1);yt(this,"_editToolbar",null);yt(this,"_initialOptions",Object.create(null));yt(this,"_initialData",null);yt(this,"_isVisible",!0);yt(this,"_uiManager",null);yt(this,"_focusEventsAllowed",!0);pe(this,$E,!1);pe(this,F5,_n._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:i,rawDims:{pageWidth:r,pageHeight:o,pageX:l,pageY:c}}=this.parent.viewport;this.rotation=i,this.pageRotation=(360+i-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,o],this.pageTranslation=[l,c];const[u,h]=this.parentDimensions;this.x=e.x/u,this.y=e.y/h,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=_n.prototype._resizeWithKeyboard,i=W0.TRANSLATE_SMALL,r=W0.TRANSLATE_BIG;return Tn(this,"_resizerKeyboardManager",new vA([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-i,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[i,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-i]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,i]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],_n.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return Tn(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const i=new STe({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});i.annotationElementId=e.annotationElementId,i.deleted=!0,i._uiManager.addToAnnotationStorage(i)}static initialize(e,i){if(_n._l10n??(_n._l10n=e),_n._l10nResizer||(_n._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),_n._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);_n._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,i){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,i){mi("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return P(this,$E)}set _isDraggable(e){var i;te(this,$E,e),(i=this.div)==null||i.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,i]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*i/(e*2),this.y+=this.width*e/(i*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*i/(e*2),this.y-=this.width*e/(i*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=P(this,F5)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):me(this,rn,Jk).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(P(this,Rb)?te(this,Rb,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const i=e.relatedTarget;i!=null&&i.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,i,r,o){const[l,c]=this.parentDimensions;[r,o]=this.screenToPageTranslation(r,o),this.x=(e+r)/l,this.y=(i+o)/c,this.fixAndSetPosition()}_moveAfterPaste(e,i){const[r,o]=this.parentDimensions;this.setAt(e*r,i*o,this.width*r,this.height*o),this._onTranslated()}translate(e,i){me(this,rn,_O).call(this,this.parentDimensions,e,i)}translateInPage(e,i){P(this,Za)||te(this,Za,[this.x,this.y,this.width,this.height]),me(this,rn,_O).call(this,this.pageDimensions,e,i),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,i){P(this,Za)||te(this,Za,[this.x,this.y,this.width,this.height]);const{div:r,parentDimensions:[o,l]}=this;if(this.x+=e/o,this.y+=i/l,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:y,y:v}=this.div.getBoundingClientRect();this.parent.findNewParent(this,y,v)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:c,y:u}=this;const[h,m]=this.getBaseTranslation();c+=h,u+=m;const{style:g}=r;g.left=`${(100*c).toFixed(2)}%`,g.top=`${(100*u).toFixed(2)}%`,this._onTranslating(c,u),r.scrollIntoView({block:"nearest"})}_onTranslating(e,i){}_onTranslated(e,i){}get _hasBeenMoved(){return!!P(this,Za)&&(P(this,Za)[0]!==this.x||P(this,Za)[1]!==this.y)}get _hasBeenResized(){return!!P(this,Za)&&(P(this,Za)[2]!==this.width||P(this,Za)[3]!==this.height)}getBaseTranslation(){const[e,i]=this.parentDimensions,{_borderLineWidth:r}=_n,o=r/e,l=r/i;switch(this.rotation){case 90:return[-o,l];case 180:return[o,l];case 270:return[o,-l];default:return[-o,-l]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:i},pageDimensions:[r,o]}=this;let{x:l,y:c,width:u,height:h}=this;if(u*=r,h*=o,l*=r,c*=o,this._mustFixPosition)switch(e){case 0:l=Wo(l,0,r-u),c=Wo(c,0,o-h);break;case 90:l=Wo(l,0,r-h),c=Wo(c,u,o);break;case 180:l=Wo(l,u,r),c=Wo(c,h,o);break;case 270:l=Wo(l,h,r),c=Wo(c,0,o-u);break}this.x=l/=r,this.y=c/=o;const[m,g]=this.getBaseTranslation();l+=m,c+=g,i.left=`${(100*l).toFixed(2)}%`,i.top=`${(100*c).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,i){var r;return me(r=_n,qE,kO).call(r,e,i,this.parentRotation)}pageTranslationToScreen(e,i){var r;return me(r=_n,qE,kO).call(r,e,i,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[i,r]}=this;return[i*e,r*e]}setDims(e,i){const[r,o]=this.parentDimensions,{style:l}=this.div;l.width=`${(100*e/r).toFixed(2)}%`,P(this,Ib)||(l.height=`${(100*i/o).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:i,width:r}=e,o=r.endsWith("%"),l=!P(this,Ib)&&i.endsWith("%");if(o&&l)return;const[c,u]=this.parentDimensions;o||(e.width=`${(100*parseFloat(r)/c).toFixed(2)}%`),!P(this,Ib)&&!l&&(e.height=`${(100*parseFloat(i)/u).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=P(this,Mi))==null||e.finish()}async addEditToolbar(){return this._editToolbar||P(this,Mb)?this._editToolbar:(this._editToolbar=new fO(this),this.div.append(this._editToolbar.render()),P(this,Mi)&&await this._editToolbar.addAltText(P(this,Mi)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=P(this,Mi))==null||e.destroy())}addContainer(e){var r;const i=(r=this._editToolbar)==null?void 0:r.div;i?i.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){P(this,Mi)||(S5.initialize(_n._l10n),te(this,Mi,new S5(this)),P(this,Pb)&&(P(this,Mi).data=P(this,Pb),te(this,Pb,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=P(this,Mi))==null?void 0:e.data}set altTextData(e){P(this,Mi)&&(P(this,Mi).data=e)}get guessedAltText(){var e;return(e=P(this,Mi))==null?void 0:e.guessedText}async setGuessedAltText(e){var i;await((i=P(this,Mi))==null?void 0:i.setGuessedText(e))}serializeAltText(e){var i;return(i=P(this,Mi))==null?void 0:i.serialize(e)}hasAltText(){return!!P(this,Mi)&&!P(this,Mi).isEmpty()}hasAltTextData(){var e;return((e=P(this,Mi))==null?void 0:e.hasData())??!1}render(){var c;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=P(this,Rw)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),me(this,rn,TO).call(this);const[i,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/i).toFixed(2)}%`,e.style.maxHeight=`${(100*i/r).toFixed(2)}%`);const[o,l]=this.getInitialTranslation();return this.translate(o,l),HL(this,e,["keydown","pointerdown"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(P(this,Ob)||te(this,Ob,new A5({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:me(this,rn,yne).bind(this),onPinching:me(this,rn,vne).bind(this),onPinchEnd:me(this,rn,wne).bind(this),signal:this._uiManager._signal}))),(c=this._uiManager._editorUndoBar)==null||c.hide(),e}pointerdown(e){const{isMac:i}=Vs.platform;if(e.button!==0||e.ctrlKey&&i){e.preventDefault();return}if(te(this,Rb,!0),this._isDraggable){me(this,rn,xne).call(this,e);return}me(this,rn,AO).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){P(this,dd)&&clearTimeout(P(this,dd)),te(this,dd,setTimeout(()=>{var e;te(this,dd,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,i,r){e.changeParent(this),this.x=i,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,i,r=this.rotation){const o=this.parentScale,[l,c]=this.pageDimensions,[u,h]=this.pageTranslation,m=e/o,g=i/o,y=this.x*l,v=this.y*c,_=this.width*l,A=this.height*c;switch(r){case 0:return[y+m+u,c-v-g-A+h,y+m+_+u,c-v-g+h];case 90:return[y+g+u,c-v+m+h,y+g+A+u,c-v+m+_+h];case 180:return[y-m-_+u,c-v+g+h,y-m+u,c-v+g+A+h];case 270:return[y-g-A+u,c-v-m-_+h,y-g+u,c-v-m+h];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,i){const[r,o,l,c]=e,u=l-r,h=c-o;switch(this.rotation){case 0:return[r,i-c,u,h];case 90:return[r,i-o,h,u];case 180:return[l,i-o,u,h];case 270:return[l,i-c,h,u];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){te(this,Mb,!0)}disableEditMode(){te(this,Mb,!1)}isInEditMode(){return P(this,Mb)}shouldGetKeyboardEvents(){return P(this,Uh)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:i,bottom:r,right:o}=this.getClientDimensions(),{innerHeight:l,innerWidth:c}=window;return i<c&&o>0&&e<l&&r>0}rebuild(){me(this,rn,TO).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,i=null){mi("An editor must be serializable")}static async deserialize(e,i,r){const o=new this.prototype.constructor({parent:i,id:i.getNextId(),uiManager:r});o.rotation=e.rotation,te(o,Pb,e.accessibilityData),o._isCopy=e.isCopy||!1;const[l,c]=o.pageDimensions,[u,h,m,g]=o.getRectInCurrentCoords(e.rect,c);return o.x=u/l,o.y=h/c,o.width=m/l,o.height=g/c,o}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,i;if((e=P(this,em))==null||e.abort(),te(this,em,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),P(this,dd)&&(clearTimeout(P(this,dd)),te(this,dd,null)),me(this,rn,Jk).call(this),this.removeEditToolbar(),P(this,Ql)){for(const r of P(this,Ql).values())clearTimeout(r);te(this,Ql,null)}this.parent=null,(i=P(this,Ob))==null||i.destroy(),te(this,Ob,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(me(this,rn,gne).call(this),P(this,Ps).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),te(this,Lh,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const i=P(this,Ps).children;if(!P(this,qc)){te(this,qc,Array.from(i));const c=me(this,rn,_ne).bind(this),u=me(this,rn,kne).bind(this),h=this._uiManager._signal;for(const m of P(this,qc)){const g=m.getAttribute("data-resizer-name");m.setAttribute("role","spinbutton"),m.addEventListener("keydown",c,{signal:h}),m.addEventListener("blur",u,{signal:h}),m.addEventListener("focus",me(this,rn,Ene).bind(this,g),{signal:h}),m.setAttribute("data-l10n-id",_n._l10nResizer[g])}}const r=P(this,qc)[0];let o=0;for(const c of i){if(c===r)break;o++}const l=(360-this.rotation+this.parentRotation)%360/90*(P(this,qc).length/4);if(l!==o){if(l<o)for(let u=0;u<o-l;u++)P(this,Ps).append(P(this,Ps).firstChild);else if(l>o)for(let u=0;u<l-o;u++)P(this,Ps).firstChild.before(P(this,Ps).lastChild);let c=0;for(const u of i){const m=P(this,qc)[c++].getAttribute("data-resizer-name");u.setAttribute("data-l10n-id",_n._l10nResizer[m])}}me(this,rn,CO).call(this,0),te(this,Uh,!0),P(this,Ps).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,i){P(this,Uh)&&me(this,rn,SO).call(this,P(this,VE),{deltaX:e,deltaY:i,fromKeyboard:!0})}_stopResizingWithKeyboard(){me(this,rn,Jk).call(this),this.div.focus()}select(){var e,i,r;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var o,l;(o=this.div)!=null&&o.classList.contains("selectedEditor")&&((l=this._editToolbar)==null||l.show())});return}(i=this._editToolbar)==null||i.show(),(r=P(this,Mi))==null||r.toggleAltTextBadge(!1)}unselect(){var e,i,r,o,l;(e=P(this,Ps))==null||e.classList.add("hidden"),(i=this.div)==null||i.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(o=this._editToolbar)==null||o.hide(),(l=P(this,Mi))==null||l.toggleAltTextBadge(!0)}updateParams(e,i){}disableEditing(){}enableEditing(){}enterInEditMode(){}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return P(this,WE)}set isEditing(e){te(this,WE,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,i){te(this,Ib,!0);const r=e/i,{style:o}=this.div;o.aspectRatio=r,o.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,i=!1){if(i){P(this,Ql)||te(this,Ql,new Map);const{action:r}=e;let o=P(this,Ql).get(r);o&&clearTimeout(o),o=setTimeout(()=>{this._reportTelemetry(e),P(this,Ql).delete(r),P(this,Ql).size===0&&te(this,Ql,null)},_n._telemetryTimeout),P(this,Ql).set(r,o);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),te(this,Rw,!1)}disable(){this.div&&(this.div.tabIndex=-1),te(this,Rw,!0)}renderAnnotationElement(e){let i=e.container.querySelector(".annotationContent");if(!i)i=document.createElement("div"),i.classList.add("annotationContent",this.editorType),e.container.prepend(i);else if(i.nodeName==="CANVAS"){const r=i;i=document.createElement("div"),i.classList.add("annotationContent",this.editorType),r.before(i)}return i}resetAnnotationElement(e){const{firstChild:i}=e.container;(i==null?void 0:i.nodeName)==="DIV"&&i.classList.contains("annotationContent")&&i.remove()}};Pb=new WeakMap,qc=new WeakMap,Mi=new WeakMap,Rw=new WeakMap,Qp=new WeakMap,zE=new WeakMap,Ib=new WeakMap,Ps=new WeakMap,jb=new WeakMap,Lh=new WeakMap,em=new WeakMap,VE=new WeakMap,Rb=new WeakMap,Za=new WeakMap,WE=new WeakMap,Mb=new WeakMap,Uh=new WeakMap,dd=new WeakMap,Mw=new WeakMap,Ow=new WeakMap,Ql=new WeakMap,Ob=new WeakMap,$E=new WeakMap,F5=new WeakMap,rn=new WeakSet,_O=function([e,i],r,o){[r,o]=this.screenToPageTranslation(r,o),this.x+=r/e,this.y+=o/i,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},qE=new WeakSet,kO=function(e,i,r){switch(r){case 90:return[i,-e];case 180:return[-e,-i];case 270:return[-i,e];default:return[e,i]}},rN=function(e){switch(e){case 90:{const[i,r]=this.pageDimensions;return[0,-i/r,r/i,0]}case 180:return[-1,0,0,-1];case 270:{const[i,r]=this.pageDimensions;return[0,i/r,-r/i,0]}default:return[1,0,0,1]}},gne=function(){if(P(this,Ps))return;te(this,Ps,document.createElement("div")),P(this,Ps).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],i=this._uiManager._signal;for(const r of e){const o=document.createElement("div");P(this,Ps).append(o),o.classList.add("resizer",r),o.setAttribute("data-resizer-name",r),o.addEventListener("pointerdown",me(this,rn,bne).bind(this,r),{signal:i}),o.addEventListener("contextmenu",uu,{signal:i}),o.tabIndex=-1}this.div.prepend(P(this,Ps))},bne=function(e,i){var g;i.preventDefault();const{isMac:r}=Vs.platform;if(i.button!==0||i.ctrlKey&&r)return;(g=P(this,Mi))==null||g.toggle(!1);const o=this._isDraggable;this._isDraggable=!1,te(this,jb,[i.screenX,i.screenY]);const l=new AbortController,c=this._uiManager.combinedSignal(l);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",me(this,rn,SO).bind(this,e),{passive:!0,capture:!0,signal:c}),window.addEventListener("touchmove",Ir,{passive:!1,signal:c}),window.addEventListener("contextmenu",uu,{signal:c}),te(this,Lh,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const u=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(i.target).cursor;const m=()=>{var y;l.abort(),this.parent.togglePointerEvents(!0),(y=P(this,Mi))==null||y.toggle(!0),this._isDraggable=o,this.parent.div.style.cursor=u,this.div.style.cursor=h,me(this,rn,sN).call(this)};window.addEventListener("pointerup",m,{signal:c}),window.addEventListener("blur",m,{signal:c})},EO=function(e,i,r,o){this.width=r,this.height=o,this.x=e,this.y=i;const[l,c]=this.parentDimensions;this.setDims(l*r,c*o),this.fixAndSetPosition(),this._onResized()},sN=function(){if(!P(this,Lh))return;const{savedX:e,savedY:i,savedWidth:r,savedHeight:o}=P(this,Lh);te(this,Lh,null);const l=this.x,c=this.y,u=this.width,h=this.height;l===e&&c===i&&u===r&&h===o||this.addCommands({cmd:me(this,rn,EO).bind(this,l,c,u,h),undo:me(this,rn,EO).bind(this,e,i,r,o),mustExec:!0})},SO=function(e,i){const[r,o]=this.parentDimensions,l=this.x,c=this.y,u=this.width,h=this.height,m=_n.MIN_SIZE/r,g=_n.MIN_SIZE/o,y=me(this,rn,rN).call(this,this.rotation),v=(ie,ce)=>[y[0]*ie+y[2]*ce,y[1]*ie+y[3]*ce],_=me(this,rn,rN).call(this,360-this.rotation),A=(ie,ce)=>[_[0]*ie+_[2]*ce,_[1]*ie+_[3]*ce];let S,T,C=!1,N=!1;switch(e){case"topLeft":C=!0,S=(ie,ce)=>[0,0],T=(ie,ce)=>[ie,ce];break;case"topMiddle":S=(ie,ce)=>[ie/2,0],T=(ie,ce)=>[ie/2,ce];break;case"topRight":C=!0,S=(ie,ce)=>[ie,0],T=(ie,ce)=>[0,ce];break;case"middleRight":N=!0,S=(ie,ce)=>[ie,ce/2],T=(ie,ce)=>[0,ce/2];break;case"bottomRight":C=!0,S=(ie,ce)=>[ie,ce],T=(ie,ce)=>[0,0];break;case"bottomMiddle":S=(ie,ce)=>[ie/2,ce],T=(ie,ce)=>[ie/2,0];break;case"bottomLeft":C=!0,S=(ie,ce)=>[0,ce],T=(ie,ce)=>[ie,0];break;case"middleLeft":N=!0,S=(ie,ce)=>[0,ce/2],T=(ie,ce)=>[ie,ce/2];break}const I=S(u,h),O=T(u,h);let F=v(...O);const L=_n._round(l+F[0]),z=_n._round(c+F[1]);let B=1,Y=1,se,de;if(i.fromKeyboard)({deltaX:se,deltaY:de}=i);else{const{screenX:ie,screenY:ce}=i,[X,K]=P(this,jb);[se,de]=this.screenToPageTranslation(ie-X,ce-K),P(this,jb)[0]=ie,P(this,jb)[1]=ce}if([se,de]=A(se/r,de/o),C){const ie=Math.hypot(u,h);B=Y=Math.max(Math.min(Math.hypot(O[0]-I[0]-se,O[1]-I[1]-de)/ie,1/u,1/h),m/u,g/h)}else N?B=Wo(Math.abs(O[0]-I[0]-se),m,1)/u:Y=Wo(Math.abs(O[1]-I[1]-de),g,1)/h;const J=_n._round(u*B),be=_n._round(h*Y);F=v(...T(J,be));const q=L-F[0],Te=z-F[1];P(this,Za)||te(this,Za,[this.x,this.y,this.width,this.height]),this.width=J,this.height=be,this.x=q,this.y=Te,this.setDims(r*J,o*be),this.fixAndSetPosition(),this._onResizing()},yne=function(){var e;te(this,Lh,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=P(this,Mi))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},vne=function(e,i,r){let l=.7*(r/i)+1-.7;if(l===1)return;const c=me(this,rn,rN).call(this,this.rotation),u=(L,z)=>[c[0]*L+c[2]*z,c[1]*L+c[3]*z],[h,m]=this.parentDimensions,g=this.x,y=this.y,v=this.width,_=this.height,A=_n.MIN_SIZE/h,S=_n.MIN_SIZE/m;l=Math.max(Math.min(l,1/v,1/_),A/v,S/_);const T=_n._round(v*l),C=_n._round(_*l);if(T===v&&C===_)return;P(this,Za)||te(this,Za,[g,y,v,_]);const N=u(v/2,_/2),I=_n._round(g+N[0]),O=_n._round(y+N[1]),F=u(T/2,C/2);this.x=I-F[0],this.y=O-F[1],this.width=T,this.height=C,this.setDims(h*T,m*C),this.fixAndSetPosition(),this._onResizing()},wne=function(){var e;(e=P(this,Mi))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),me(this,rn,sN).call(this)},AO=function(e){const{isMac:i}=Vs.platform;e.ctrlKey&&!i||e.shiftKey||e.metaKey&&i?this.parent.toggleSelected(this):this.parent.setSelected(this)},xne=function(e){const{isSelected:i}=this;this._uiManager.setUpDragSession();let r=!1;const o=new AbortController,l=this._uiManager.combinedSignal(o),c={capture:!0,passive:!1,signal:l},u=m=>{o.abort(),te(this,Qp,null),te(this,Rb,!1),this._uiManager.endDragSession()||me(this,rn,AO).call(this,m),r&&this._onStopDragging()};i&&(te(this,Mw,e.clientX),te(this,Ow,e.clientY),te(this,Qp,e.pointerId),te(this,zE,e.pointerType),window.addEventListener("pointermove",m=>{r||(r=!0,this._onStartDragging());const{clientX:g,clientY:y,pointerId:v}=m;if(v!==P(this,Qp)){Ir(m);return}const[_,A]=this.screenToPageTranslation(g-P(this,Mw),y-P(this,Ow));te(this,Mw,g),te(this,Ow,y),this._uiManager.dragSelectedEditors(_,A)},c),window.addEventListener("touchmove",Ir,c),window.addEventListener("pointerdown",m=>{m.pointerType===P(this,zE)&&(P(this,Ob)||m.isPrimary)&&u(m),Ir(m)},c));const h=m=>{if(!P(this,Qp)||P(this,Qp)===m.pointerId){u(m);return}Ir(m)};window.addEventListener("pointerup",h,{signal:l}),window.addEventListener("blur",h,{signal:l})},TO=function(){if(P(this,em)||!this.div)return;te(this,em,new AbortController);const e=this._uiManager.combinedSignal(P(this,em));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},_ne=function(e){_n._resizerKeyboardManager.exec(this,e)},kne=function(e){var i;P(this,Uh)&&((i=e.relatedTarget)==null?void 0:i.parentNode)!==P(this,Ps)&&me(this,rn,Jk).call(this)},Ene=function(e){te(this,VE,P(this,Uh)?e:"")},CO=function(e){if(P(this,qc))for(const i of P(this,qc))i.tabIndex=e},Jk=function(){te(this,Uh,!1),me(this,rn,CO).call(this,-1),me(this,rn,sN).call(this)},pe(_n,qE),yt(_n,"_l10n",null),yt(_n,"_l10nResizer",null),yt(_n,"_borderLineWidth",-1),yt(_n,"_colorManager",new mO),yt(_n,"_zIndex",1),yt(_n,"_telemetryTimeout",1e3);let Di=_n;class STe extends Di{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const VH=3285377520,Gl=4294901760,Qu=65535;class Sne{constructor(e){this.h1=e?e&4294967295:VH,this.h2=e?e&4294967295:VH}update(e){let i,r;if(typeof e=="string"){i=new Uint8Array(e.length*2),r=0;for(let S=0,T=e.length;S<T;S++){const C=e.charCodeAt(S);C<=255?i[r++]=C:(i[r++]=C>>>8,i[r++]=C&255)}}else if(ArrayBuffer.isView(e))i=e.slice(),r=i.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const o=r>>2,l=r-o*4,c=new Uint32Array(i.buffer,0,o);let u=0,h=0,m=this.h1,g=this.h2;const y=3432918353,v=461845907,_=y&Qu,A=v&Qu;for(let S=0;S<o;S++)S&1?(u=c[S],u=u*y&Gl|u*_&Qu,u=u<<15|u>>>17,u=u*v&Gl|u*A&Qu,m^=u,m=m<<13|m>>>19,m=m*5+3864292196):(h=c[S],h=h*y&Gl|h*_&Qu,h=h<<15|h>>>17,h=h*v&Gl|h*A&Qu,g^=h,g=g<<13|g>>>19,g=g*5+3864292196);switch(u=0,l){case 3:u^=i[o*4+2]<<16;case 2:u^=i[o*4+1]<<8;case 1:u^=i[o*4],u=u*y&Gl|u*_&Qu,u=u<<15|u>>>17,u=u*v&Gl|u*A&Qu,o&1?m^=u:g^=u}this.h1=m,this.h2=g}hexdigest(){let e=this.h1,i=this.h2;return e^=i>>>1,e=e*3981806797&Gl|e*36045&Qu,i=i*4283543511&Gl|((i<<16|e>>>16)*2950163797&Gl)>>>16,e^=i>>>1,e=e*444984403&Gl|e*60499&Qu,i=i*3301882366&Gl|((i<<16|e>>>16)*3120437893&Gl)>>>16,e^=i>>>1,(e>>>0).toString(16).padStart(8,"0")+(i>>>0).toString(16).padStart(8,"0")}}const DO=Object.freeze({map:null,hash:"",transfer:void 0});var Fb,Lb,Is,L5,Ane;class GL{constructor(){pe(this,L5);pe(this,Fb,!1);pe(this,Lb,null);pe(this,Is,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,i){const r=P(this,Is).get(e);return r===void 0?i:Object.assign(i,r)}getRawValue(e){return P(this,Is).get(e)}remove(e){if(P(this,Is).delete(e),P(this,Is).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const i of P(this,Is).values())if(i instanceof Di)return;this.onAnnotationEditor(null)}}setValue(e,i){const r=P(this,Is).get(e);let o=!1;if(r!==void 0)for(const[l,c]of Object.entries(i))r[l]!==c&&(o=!0,r[l]=c);else o=!0,P(this,Is).set(e,i);o&&me(this,L5,Ane).call(this),i instanceof Di&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(i.constructor._type)}has(e){return P(this,Is).has(e)}get size(){return P(this,Is).size}resetModified(){P(this,Fb)&&(te(this,Fb,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Tne(this)}get serializable(){if(P(this,Is).size===0)return DO;const e=new Map,i=new Sne,r=[],o=Object.create(null);let l=!1;for(const[c,u]of P(this,Is)){const h=u instanceof Di?u.serialize(!1,o):u;h&&(e.set(c,h),i.update(`${c}:${JSON.stringify(h)}`),l||(l=!!h.bitmap))}if(l)for(const c of e.values())c.bitmap&&r.push(c.bitmap);return e.size>0?{map:e,hash:i.hexdigest(),transfer:r}:DO}get editorStats(){let e=null;const i=new Map;for(const r of P(this,Is).values()){if(!(r instanceof Di))continue;const o=r.telemetryFinalData;if(!o)continue;const{type:l}=o;i.has(l)||i.set(l,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const c=e[l]||(e[l]=new Map);for(const[u,h]of Object.entries(o)){if(u==="type")continue;let m=c.get(u);m||(m=new Map,c.set(u,m));const g=m.get(h)??0;m.set(h,g+1)}}for(const[r,o]of i)e[r]=o.computeTelemetryFinalData(e[r]);return e}resetModifiedIds(){te(this,Lb,null)}get modifiedIds(){if(P(this,Lb))return P(this,Lb);const e=[];for(const i of P(this,Is).values())!(i instanceof Di)||!i.annotationElementId||!i.serialize()||e.push(i.annotationElementId);return te(this,Lb,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return P(this,Is).entries()}}Fb=new WeakMap,Lb=new WeakMap,Is=new WeakMap,L5=new WeakSet,Ane=function(){P(this,Fb)||(te(this,Fb,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var HE;class Tne extends GL{constructor(i){super();pe(this,HE);const{map:r,hash:o,transfer:l}=i.serializable,c=structuredClone(r,l?{transfer:l}:null);te(this,HE,{map:c,hash:o,transfer:l})}get print(){mi("Should not call PrintAnnotationStorage.print")}get serializable(){return P(this,HE)}get modifiedIds(){return Tn(this,"modifiedIds",{ids:new Set,hash:""})}}HE=new WeakMap;var Fw;class ATe{constructor({ownerDocument:e=globalThis.document,styleElement:i=null}){pe(this,Fw,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const i=this.styleElement.sheet;i.insertRule(e,i.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),P(this,Fw).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:i,_inspectFont:r}){if(!(!e||P(this,Fw).has(e.loadedName))){if(Rr(!i,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:o,src:l,style:c}=e,u=new FontFace(o,l,c);this.addNativeFontFace(u);try{await u.load(),P(this,Fw).add(o),r==null||r(e)}catch{yn(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}mi("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(o){throw yn(`Failed to load font '${r.family}': '${o}'.`),e.disableFontFace=!0,o}}return}const i=e.createFontFaceRule();if(i){if(this.insertRule(i),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const o=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,o)})}}get isFontLoadingAPISupported(){var i;const e=!!((i=this._document)!=null&&i.fonts);return Tn(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Tn(this,"isSyncFontLoadingSupported",Vo||Vs.platform.isFirefox)}_queueLoadingCallback(e){function i(){for(Rr(!o.done,"completeRequest() cannot be called twice."),o.done=!0;r.length>0&&r[0].done;){const l=r.shift();setTimeout(l.callback,0)}}const{loadingRequests:r}=this,o={done:!1,complete:i,callback:e};return r.push(o),o}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Tn(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,i){function r(O,F){return O.charCodeAt(F)<<24|O.charCodeAt(F+1)<<16|O.charCodeAt(F+2)<<8|O.charCodeAt(F+3)&255}function o(O,F,L,z){const B=O.substring(0,F),Y=O.substring(F+L);return B+z+Y}let l,c;const u=this._document.createElement("canvas");u.width=1,u.height=1;const h=u.getContext("2d");let m=0;function g(O,F){if(++m>30){yn("Load test font never loaded."),F();return}if(h.font="30px "+O,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0){F();return}setTimeout(g.bind(null,O,F))}const y=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=o(v,976,y.length,y);const A=16,S=1482184792;let T=r(v,A);for(l=0,c=y.length-3;l<c;l+=4)T=T-S+r(y,l)|0;l<y.length&&(T=T-S+r(y+"XXX",l)|0),v=o(v,A,4,dTe(T));const C=`url(data:font/opentype;base64,${btoa(v)});`,N=`@font-face {font-family:"${y}";src:${C}}`;this.insertRule(N);const I=this._document.createElement("div");I.style.visibility="hidden",I.style.width=I.style.height="10px",I.style.position="absolute",I.style.top=I.style.left="0px";for(const O of[e.loadedName,y]){const F=this._document.createElement("span");F.textContent="Hi",F.style.fontFamily=O,I.append(F)}this._document.body.append(I),g(y,()=>{I.remove(),i.complete()})}}Fw=new WeakMap;class TTe{constructor(e,i=null){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this._inspectFont=i}createNativeFontFace(){var i;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(i=this._inspectFont)==null||i.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${Xte(this.data)});`;let i;if(!this.cssFontInfo)i=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let o=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(o+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),i=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${o}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),i}getPathGenerator(e,i){if(this.compiledGlyphs[i]!==void 0)return this.compiledGlyphs[i];const r=this.loadedName+"_path_"+i;let o;try{o=e.get(r)}catch(c){yn(`getPathGenerator - ignoring character: "${c}".`)}const l=new Path2D(o||"");return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[i]=l}}const kD={DATA:1,ERROR:2},Nr={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function WH(){}function da(n){if(n instanceof Wm||n instanceof uO||n instanceof UH||n instanceof E5||n instanceof uR)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||mi('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Wm(n.message);case"InvalidPDFException":return new uO(n.message);case"PasswordException":return new UH(n.message,n.code);case"ResponseException":return new E5(n.message,n.status,n.missing);case"UnknownErrorException":return new uR(n.message,n.details)}return new uR(n.message,n.toString())}var Lw,fc,Cne,Dne,Nne,oN;class Qk{constructor(e,i,r){pe(this,fc);pe(this,Lw,new AbortController);this.sourceName=e,this.targetName=i,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",me(this,fc,Cne).bind(this),{signal:P(this,Lw).signal})}on(e,i){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=i}send(e,i,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:i},r)}sendWithPromise(e,i,r){const o=this.callbackId++,l=Promise.withResolvers();this.callbackCapabilities[o]=l;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:o,data:i},r)}catch(c){l.reject(c)}return l.promise}sendWithStream(e,i,r,o){const l=this.streamId++,c=this.sourceName,u=this.targetName,h=this.comObj;return new ReadableStream({start:m=>{const g=Promise.withResolvers();return this.streamControllers[l]={controller:m,startCall:g,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:c,targetName:u,action:e,streamId:l,data:i,desiredSize:m.desiredSize},o),g.promise},pull:m=>{const g=Promise.withResolvers();return this.streamControllers[l].pullCall=g,h.postMessage({sourceName:c,targetName:u,stream:Nr.PULL,streamId:l,desiredSize:m.desiredSize}),g.promise},cancel:m=>{Rr(m instanceof Error,"cancel must have a valid reason");const g=Promise.withResolvers();return this.streamControllers[l].cancelCall=g,this.streamControllers[l].isClosed=!0,h.postMessage({sourceName:c,targetName:u,stream:Nr.CANCEL,streamId:l,reason:da(m)}),g.promise}},r)}destroy(){var e;(e=P(this,Lw))==null||e.abort(),te(this,Lw,null)}}Lw=new WeakMap,fc=new WeakSet,Cne=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){me(this,fc,Nne).call(this,e);return}if(e.callback){const r=e.callbackId,o=this.callbackCapabilities[r];if(!o)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===kD.DATA)o.resolve(e.data);else if(e.callback===kD.ERROR)o.reject(da(e.reason));else throw new Error("Unexpected callback case");return}const i=this.actionHandler[e.action];if(!i)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,o=e.sourceName,l=this.comObj;Promise.try(i,e.data).then(function(c){l.postMessage({sourceName:r,targetName:o,callback:kD.DATA,callbackId:e.callbackId,data:c})},function(c){l.postMessage({sourceName:r,targetName:o,callback:kD.ERROR,callbackId:e.callbackId,reason:da(c)})});return}if(e.streamId){me(this,fc,Dne).call(this,e);return}i(e.data)},Dne=function(e){const i=e.streamId,r=this.sourceName,o=e.sourceName,l=this.comObj,c=this,u=this.actionHandler[e.action],h={enqueue(m,g=1,y){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=g,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),l.postMessage({sourceName:r,targetName:o,stream:Nr.ENQUEUE,streamId:i,chunk:m},y)},close(){this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:r,targetName:o,stream:Nr.CLOSE,streamId:i}),delete c.streamSinks[i])},error(m){Rr(m instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,l.postMessage({sourceName:r,targetName:o,stream:Nr.ERROR,streamId:i,reason:da(m)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[i]=h,Promise.try(u,e.data,h).then(function(){l.postMessage({sourceName:r,targetName:o,stream:Nr.START_COMPLETE,streamId:i,success:!0})},function(m){l.postMessage({sourceName:r,targetName:o,stream:Nr.START_COMPLETE,streamId:i,reason:da(m)})})},Nne=function(e){const i=e.streamId,r=this.sourceName,o=e.sourceName,l=this.comObj,c=this.streamControllers[i],u=this.streamSinks[i];switch(e.stream){case Nr.START_COMPLETE:e.success?c.startCall.resolve():c.startCall.reject(da(e.reason));break;case Nr.PULL_COMPLETE:e.success?c.pullCall.resolve():c.pullCall.reject(da(e.reason));break;case Nr.PULL:if(!u){l.postMessage({sourceName:r,targetName:o,stream:Nr.PULL_COMPLETE,streamId:i,success:!0});break}u.desiredSize<=0&&e.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=e.desiredSize,Promise.try(u.onPull||WH).then(function(){l.postMessage({sourceName:r,targetName:o,stream:Nr.PULL_COMPLETE,streamId:i,success:!0})},function(m){l.postMessage({sourceName:r,targetName:o,stream:Nr.PULL_COMPLETE,streamId:i,reason:da(m)})});break;case Nr.ENQUEUE:if(Rr(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(e.chunk);break;case Nr.CLOSE:if(Rr(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),me(this,fc,oN).call(this,c,i);break;case Nr.ERROR:Rr(c,"error should have stream controller"),c.controller.error(da(e.reason)),me(this,fc,oN).call(this,c,i);break;case Nr.CANCEL_COMPLETE:e.success?c.cancelCall.resolve():c.cancelCall.reject(da(e.reason)),me(this,fc,oN).call(this,c,i);break;case Nr.CANCEL:if(!u)break;const h=da(e.reason);Promise.try(u.onCancel||WH,h).then(function(){l.postMessage({sourceName:r,targetName:o,stream:Nr.CANCEL_COMPLETE,streamId:i,success:!0})},function(m){l.postMessage({sourceName:r,targetName:o,stream:Nr.CANCEL_COMPLETE,streamId:i,reason:da(m)})}),u.sinkCapability.reject(h),u.isCancelled=!0,delete this.streamSinks[i];break;default:throw new Error("Unexpected stream case")}},oN=async function(e,i){var r,o,l;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(o=e.pullCall)==null?void 0:o.promise,(l=e.cancelCall)==null?void 0:l.promise]),delete this.streamControllers[i]};var GE;class Pne{constructor({enableHWA:e=!1}){pe(this,GE,!1);te(this,GE,e)}create(e,i){if(e<=0||i<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,i);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!P(this,GE)})}}reset(e,i,r){if(!e.canvas)throw new Error("Canvas is not specified");if(i<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=i,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,i){mi("Abstract method `_createCanvas` called.")}}GE=new WeakMap;class CTe extends Pne{constructor({ownerDocument:e=globalThis.document,enableHWA:i=!1}){super({enableHWA:i}),this._document=e}_createCanvas(e,i){const r=this._document.createElement("canvas");return r.width=e,r.height=i,r}}class Ine{constructor({baseUrl:e=null,isCompressed:i=!0}){this.baseUrl=e,this.isCompressed=i}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const i=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(i).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${i}`)})}async _fetch(e){mi("Abstract method `_fetch` called.")}}class $H extends Ine{async _fetch(e){const i=await bA(e,this.isCompressed?"arraybuffer":"text");return i instanceof ArrayBuffer?new Uint8Array(i):gA(i)}}class jne{addFilter(e){return"none"}addHCMFilter(e,i){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,i,r,o,l){return"none"}destroy(e=!1){}}var Ub,Uw,Bh,zh,oo,Bb,zb,Pt,ro,e2,Mv,aN,Ov,Rne,NO,Fv,t2,n2,PO,i2;class DTe extends jne{constructor({docId:i,ownerDocument:r=globalThis.document}){super();pe(this,Pt);pe(this,Ub);pe(this,Uw);pe(this,Bh);pe(this,zh);pe(this,oo);pe(this,Bb);pe(this,zb,0);te(this,zh,i),te(this,oo,r)}addFilter(i){if(!i)return"none";let r=P(this,Pt,ro).get(i);if(r)return r;const[o,l,c]=me(this,Pt,aN).call(this,i),u=i.length===1?o:`${o}${l}${c}`;if(r=P(this,Pt,ro).get(u),r)return P(this,Pt,ro).set(i,r),r;const h=`g_${P(this,zh)}_transfer_map_${Ro(this,zb)._++}`,m=me(this,Pt,Ov).call(this,h);P(this,Pt,ro).set(i,m),P(this,Pt,ro).set(u,m);const g=me(this,Pt,Fv).call(this,h);return me(this,Pt,n2).call(this,o,l,c,g),m}addHCMFilter(i,r){var A;const o=`${i}-${r}`,l="base";let c=P(this,Pt,e2).get(l);if((c==null?void 0:c.key)===o||(c?((A=c.filter)==null||A.remove(),c.key=o,c.url="none",c.filter=null):(c={key:o,url:"none",filter:null},P(this,Pt,e2).set(l,c)),!i||!r))return c.url;const u=me(this,Pt,i2).call(this,i);i=Kt.makeHexColor(...u);const h=me(this,Pt,i2).call(this,r);if(r=Kt.makeHexColor(...h),P(this,Pt,Mv).style.color="",i==="#000000"&&r==="#ffffff"||i===r)return c.url;const m=new Array(256);for(let S=0;S<=255;S++){const T=S/255;m[S]=T<=.03928?T/12.92:((T+.055)/1.055)**2.4}const g=m.join(","),y=`g_${P(this,zh)}_hcm_filter`,v=c.filter=me(this,Pt,Fv).call(this,y);me(this,Pt,n2).call(this,g,g,g,v),me(this,Pt,NO).call(this,v);const _=(S,T)=>{const C=u[S]/255,N=h[S]/255,I=new Array(T+1);for(let O=0;O<=T;O++)I[O]=C+O/T*(N-C);return I.join(",")};return me(this,Pt,n2).call(this,_(0,5),_(1,5),_(2,5),v),c.url=me(this,Pt,Ov).call(this,y),c.url}addAlphaFilter(i){let r=P(this,Pt,ro).get(i);if(r)return r;const[o]=me(this,Pt,aN).call(this,[i]),l=`alpha_${o}`;if(r=P(this,Pt,ro).get(l),r)return P(this,Pt,ro).set(i,r),r;const c=`g_${P(this,zh)}_alpha_map_${Ro(this,zb)._++}`,u=me(this,Pt,Ov).call(this,c);P(this,Pt,ro).set(i,u),P(this,Pt,ro).set(l,u);const h=me(this,Pt,Fv).call(this,c);return me(this,Pt,PO).call(this,o,h),u}addLuminosityFilter(i){let r=P(this,Pt,ro).get(i||"luminosity");if(r)return r;let o,l;if(i?([o]=me(this,Pt,aN).call(this,[i]),l=`luminosity_${o}`):l="luminosity",r=P(this,Pt,ro).get(l),r)return P(this,Pt,ro).set(i,r),r;const c=`g_${P(this,zh)}_luminosity_map_${Ro(this,zb)._++}`,u=me(this,Pt,Ov).call(this,c);P(this,Pt,ro).set(i,u),P(this,Pt,ro).set(l,u);const h=me(this,Pt,Fv).call(this,c);return me(this,Pt,Rne).call(this,h),i&&me(this,Pt,PO).call(this,o,h),u}addHighlightHCMFilter(i,r,o,l,c){var N;const u=`${r}-${o}-${l}-${c}`;let h=P(this,Pt,e2).get(i);if((h==null?void 0:h.key)===u||(h?((N=h.filter)==null||N.remove(),h.key=u,h.url="none",h.filter=null):(h={key:u,url:"none",filter:null},P(this,Pt,e2).set(i,h)),!r||!o))return h.url;const[m,g]=[r,o].map(me(this,Pt,i2).bind(this));let y=Math.round(.2126*m[0]+.7152*m[1]+.0722*m[2]),v=Math.round(.2126*g[0]+.7152*g[1]+.0722*g[2]),[_,A]=[l,c].map(me(this,Pt,i2).bind(this));v<y&&([y,v,_,A]=[v,y,A,_]),P(this,Pt,Mv).style.color="";const S=(I,O,F)=>{const L=new Array(256),z=(v-y)/F,B=I/255,Y=(O-I)/(255*F);let se=0;for(let de=0;de<=F;de++){const J=Math.round(y+de*z),be=B+de*Y;for(let q=se;q<=J;q++)L[q]=be;se=J+1}for(let de=se;de<256;de++)L[de]=L[se-1];return L.join(",")},T=`g_${P(this,zh)}_hcm_${i}_filter`,C=h.filter=me(this,Pt,Fv).call(this,T);return me(this,Pt,NO).call(this,C),me(this,Pt,n2).call(this,S(_[0],A[0],5),S(_[1],A[1],5),S(_[2],A[2],5),C),h.url=me(this,Pt,Ov).call(this,T),h.url}destroy(i=!1){var r,o,l,c;i&&((r=P(this,Bb))!=null&&r.size)||((o=P(this,Bh))==null||o.parentNode.parentNode.remove(),te(this,Bh,null),(l=P(this,Uw))==null||l.clear(),te(this,Uw,null),(c=P(this,Bb))==null||c.clear(),te(this,Bb,null),te(this,zb,0))}}Ub=new WeakMap,Uw=new WeakMap,Bh=new WeakMap,zh=new WeakMap,oo=new WeakMap,Bb=new WeakMap,zb=new WeakMap,Pt=new WeakSet,ro=function(){return P(this,Uw)||te(this,Uw,new Map)},e2=function(){return P(this,Bb)||te(this,Bb,new Map)},Mv=function(){if(!P(this,Bh)){const i=P(this,oo).createElement("div"),{style:r}=i;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const o=P(this,oo).createElementNS(kh,"svg");o.setAttribute("width",0),o.setAttribute("height",0),te(this,Bh,P(this,oo).createElementNS(kh,"defs")),i.append(o),o.append(P(this,Bh)),P(this,oo).body.append(i)}return P(this,Bh)},aN=function(i){if(i.length===1){const m=i[0],g=new Array(256);for(let v=0;v<256;v++)g[v]=m[v]/255;const y=g.join(",");return[y,y,y]}const[r,o,l]=i,c=new Array(256),u=new Array(256),h=new Array(256);for(let m=0;m<256;m++)c[m]=r[m]/255,u[m]=o[m]/255,h[m]=l[m]/255;return[c.join(","),u.join(","),h.join(",")]},Ov=function(i){if(P(this,Ub)===void 0){te(this,Ub,"");const r=P(this,oo).URL;r!==P(this,oo).baseURI&&(EP(r)?yn('#createUrl: ignore "data:"-URL for performance reasons.'):te(this,Ub,qte(r,"")))}return`url(${P(this,Ub)}#${i})`},Rne=function(i){const r=P(this,oo).createElementNS(kh,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),i.append(r)},NO=function(i){const r=P(this,oo).createElementNS(kh,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),i.append(r)},Fv=function(i){const r=P(this,oo).createElementNS(kh,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",i),P(this,Pt,Mv).append(r),r},t2=function(i,r,o){const l=P(this,oo).createElementNS(kh,r);l.setAttribute("type","discrete"),l.setAttribute("tableValues",o),i.append(l)},n2=function(i,r,o,l){const c=P(this,oo).createElementNS(kh,"feComponentTransfer");l.append(c),me(this,Pt,t2).call(this,c,"feFuncR",i),me(this,Pt,t2).call(this,c,"feFuncG",r),me(this,Pt,t2).call(this,c,"feFuncB",o)},PO=function(i,r){const o=P(this,oo).createElementNS(kh,"feComponentTransfer");r.append(o),me(this,Pt,t2).call(this,o,"feFuncA",i)},i2=function(i){return P(this,Pt,Mv).style.color=i,qL(getComputedStyle(P(this,Pt,Mv)).getPropertyValue("color"))};class Mne{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const i=`${this.baseUrl}${e}`;return this._fetch(i).catch(r=>{throw new Error(`Unable to load font data at: ${i}`)})}async _fetch(e){mi("Abstract method `_fetch` called.")}}class qH extends Mne{async _fetch(e){const i=await bA(e,"arraybuffer");return new Uint8Array(i)}}class One{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const i=`${this.baseUrl}${e}`;return this._fetch(i).catch(r=>{throw new Error(`Unable to load wasm data at: ${i}`)})}async _fetch(e){mi("Abstract method `_fetch` called.")}}class HH extends One{async _fetch(e){const i=await bA(e,"arraybuffer");return new Uint8Array(i)}}Vo&&yn("Please use the `legacy` build in Node.js environments.");async function XL(n){const i=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(i)}class NTe extends jne{}class PTe extends Pne{_createCanvas(e,i){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,i)}}class ITe extends Ine{async _fetch(e){return XL(e)}}class jTe extends Mne{async _fetch(e){return XL(e)}}class RTe extends One{async _fetch(e){return XL(e)}}const Fs={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function IO(n,e){if(!e)return;const i=e[2]-e[0],r=e[3]-e[1],o=new Path2D;o.rect(e[0],e[1],i,r),n.clip(o)}class YL{isModifyingCurrentTransform(){return!1}getPattern(){mi("Abstract method `getPattern` called.")}}class MTe extends YL{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let i;this._type==="axial"?i=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(i=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)i.addColorStop(r[0],r[1]);return i}getPattern(e,i,r,o){let l;if(o===Fs.STROKE||o===Fs.FILL){const c=i.current.getClippedPathBoundingBox(o,Ji(e))||[0,0,0,0],u=Math.ceil(c[2]-c[0])||1,h=Math.ceil(c[3]-c[1])||1,m=i.cachedCanvases.getCanvas("pattern",u,h),g=m.context;g.clearRect(0,0,g.canvas.width,g.canvas.height),g.beginPath(),g.rect(0,0,g.canvas.width,g.canvas.height),g.translate(-c[0],-c[1]),r=Kt.transform(r,[1,0,0,1,c[0],c[1]]),g.transform(...i.baseTransform),this.matrix&&g.transform(...this.matrix),IO(g,this._bbox),g.fillStyle=this._createGradient(g),g.fill(),l=e.createPattern(m.canvas,"no-repeat");const y=new DOMMatrix(r);l.setTransform(y)}else IO(e,this._bbox),l=this._createGradient(e);return l}}function fR(n,e,i,r,o,l,c,u){const h=e.coords,m=e.colors,g=n.data,y=n.width*4;let v;h[i+1]>h[r+1]&&(v=i,i=r,r=v,v=l,l=c,c=v),h[r+1]>h[o+1]&&(v=r,r=o,o=v,v=c,c=u,u=v),h[i+1]>h[r+1]&&(v=i,i=r,r=v,v=l,l=c,c=v);const _=(h[i]+e.offsetX)*e.scaleX,A=(h[i+1]+e.offsetY)*e.scaleY,S=(h[r]+e.offsetX)*e.scaleX,T=(h[r+1]+e.offsetY)*e.scaleY,C=(h[o]+e.offsetX)*e.scaleX,N=(h[o+1]+e.offsetY)*e.scaleY;if(A>=N)return;const I=m[l],O=m[l+1],F=m[l+2],L=m[c],z=m[c+1],B=m[c+2],Y=m[u],se=m[u+1],de=m[u+2],J=Math.round(A),be=Math.round(N);let q,Te,ie,ce,X,K,ne,ee;for(let ue=J;ue<=be;ue++){if(ue<T){const Ie=ue<A?0:(A-ue)/(A-T);q=_-(_-S)*Ie,Te=I-(I-L)*Ie,ie=O-(O-z)*Ie,ce=F-(F-B)*Ie}else{let Ie;ue>N?Ie=1:T===N?Ie=0:Ie=(T-ue)/(T-N),q=S-(S-C)*Ie,Te=L-(L-Y)*Ie,ie=z-(z-se)*Ie,ce=B-(B-de)*Ie}let Q;ue<A?Q=0:ue>N?Q=1:Q=(A-ue)/(A-N),X=_-(_-C)*Q,K=I-(I-Y)*Q,ne=O-(O-se)*Q,ee=F-(F-de)*Q;const fe=Math.round(Math.min(q,X)),Se=Math.round(Math.max(q,X));let Oe=y*ue+fe*4;for(let Ie=fe;Ie<=Se;Ie++)Q=(q-Ie)/(q-X),Q<0?Q=0:Q>1&&(Q=1),g[Oe++]=Te-(Te-K)*Q|0,g[Oe++]=ie-(ie-ne)*Q|0,g[Oe++]=ce-(ce-ee)*Q|0,g[Oe++]=255}}function OTe(n,e,i){const r=e.coords,o=e.colors;let l,c;switch(e.type){case"lattice":const u=e.verticesPerRow,h=Math.floor(r.length/u)-1,m=u-1;for(l=0;l<h;l++){let g=l*u;for(let y=0;y<m;y++,g++)fR(n,i,r[g],r[g+1],r[g+u],o[g],o[g+1],o[g+u]),fR(n,i,r[g+u+1],r[g+1],r[g+u],o[g+u+1],o[g+1],o[g+u])}break;case"triangles":for(l=0,c=r.length;l<c;l+=3)fR(n,i,r[l],r[l+1],r[l+2],o[l],o[l+1],o[l+2]);break;default:throw new Error("illegal figure")}}class FTe extends YL{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,i,r){const u=Math.floor(this._bounds[0]),h=Math.floor(this._bounds[1]),m=Math.ceil(this._bounds[2])-u,g=Math.ceil(this._bounds[3])-h,y=Math.min(Math.ceil(Math.abs(m*e[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(g*e[1]*1.1)),3e3),_=m/y,A=g/v,S={coords:this._coords,colors:this._colors,offsetX:-u,offsetY:-h,scaleX:1/_,scaleY:1/A},T=y+2*2,C=v+2*2,N=r.getCanvas("mesh",T,C),I=N.context,O=I.createImageData(y,v);if(i){const L=O.data;for(let z=0,B=L.length;z<B;z+=4)L[z]=i[0],L[z+1]=i[1],L[z+2]=i[2],L[z+3]=255}for(const L of this._figures)OTe(O,L,S);return I.putImageData(O,2,2),{canvas:N.canvas,offsetX:u-2*_,offsetY:h-2*A,scaleX:_,scaleY:A}}isModifyingCurrentTransform(){return!0}getPattern(e,i,r,o){IO(e,this._bbox);const l=new Float32Array(2);if(o===Fs.SHADING)Kt.singularValueDecompose2dScale(Ji(e),l);else if(this.matrix){Kt.singularValueDecompose2dScale(this.matrix,l);const[u,h]=l;Kt.singularValueDecompose2dScale(i.baseTransform,l),l[0]*=u,l[1]*=h}else Kt.singularValueDecompose2dScale(i.baseTransform,l);const c=this._createMeshCanvas(l,o===Fs.SHADING?null:this._background,i.cachedCanvases);return o!==Fs.SHADING&&(e.setTransform(...i.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(c.offsetX,c.offsetY),e.scale(c.scaleX,c.scaleY),e.createPattern(c.canvas,"no-repeat")}}class LTe extends YL{getPattern(){return"hotpink"}}function UTe(n){switch(n[0]){case"RadialAxial":return new MTe(n);case"Mesh":return new FTe(n);case"Dummy":return new LTe}throw new Error(`Unknown IR type: ${n[0]}`)}const GH={COLORED:1,UNCOLORED:2},U5=class U5{constructor(e,i,r,o){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=i,this.canvasGraphicsFactory=r,this.baseTransform=o}createPatternCanvas(e){const{bbox:i,operatorList:r,paintType:o,tilingType:l,color:c,canvasGraphicsFactory:u}=this;let{xstep:h,ystep:m}=this;h=Math.abs(h),m=Math.abs(m),kP("TilingType: "+l);const g=i[0],y=i[1],v=i[2],_=i[3],A=v-g,S=_-y,T=new Float32Array(2);Kt.singularValueDecompose2dScale(this.matrix,T);const[C,N]=T;Kt.singularValueDecompose2dScale(this.baseTransform,T);const I=C*T[0],O=N*T[1];let F=A,L=S,z=!1,B=!1;const Y=Math.ceil(h*I),se=Math.ceil(m*O),de=Math.ceil(A*I),J=Math.ceil(S*O);Y>=de?F=h:z=!0,se>=J?L=m:B=!0;const be=this.getSizeAndScale(F,this.ctx.canvas.width,I),q=this.getSizeAndScale(L,this.ctx.canvas.height,O),Te=e.cachedCanvases.getCanvas("pattern",be.size,q.size),ie=Te.context,ce=u.createCanvasGraphics(ie);if(ce.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(ce,o,c),ie.translate(-be.scale*g,-q.scale*y),ce.transform(be.scale,0,0,q.scale,0,0),ie.save(),this.clipBbox(ce,g,y,v,_),ce.baseTransform=Ji(ce.ctx),ce.executeOperatorList(r),ce.endDrawing(),ie.restore(),z||B){const X=Te.canvas;z&&(F=h),B&&(L=m);const K=this.getSizeAndScale(F,this.ctx.canvas.width,I),ne=this.getSizeAndScale(L,this.ctx.canvas.height,O),ee=K.size,ue=ne.size,Q=e.cachedCanvases.getCanvas("pattern-workaround",ee,ue),fe=Q.context,Se=z?Math.floor(A/h):0,Oe=B?Math.floor(S/m):0;for(let Ie=0;Ie<=Se;Ie++)for(let je=0;je<=Oe;je++)fe.drawImage(X,ee*Ie,ue*je,ee,ue,0,0,ee,ue);return{canvas:Q.canvas,scaleX:K.scale,scaleY:ne.scale,offsetX:g,offsetY:y}}return{canvas:Te.canvas,scaleX:be.scale,scaleY:q.scale,offsetX:g,offsetY:y}}getSizeAndScale(e,i,r){const o=Math.max(U5.MAX_PATTERN_SIZE,i);let l=Math.ceil(e*r);return l>=o?l=o:r=l/e,{scale:r,size:l}}clipBbox(e,i,r,o,l){const c=o-i,u=l-r;e.ctx.rect(i,r,c,u),Kt.axialAlignedBoundingBox([i,r,o,l],Ji(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,i,r){const o=e.ctx,l=e.current;switch(i){case GH.COLORED:const c=this.ctx;o.fillStyle=c.fillStyle,o.strokeStyle=c.strokeStyle,l.fillColor=c.fillStyle,l.strokeColor=c.strokeStyle;break;case GH.UNCOLORED:const u=Kt.makeHexColor(r[0],r[1],r[2]);o.fillStyle=u,o.strokeStyle=u,l.fillColor=u,l.strokeColor=u;break;default:throw new uTe(`Unsupported paint type: ${i}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,i,r,o){let l=r;o!==Fs.SHADING&&(l=Kt.transform(l,i.baseTransform),this.matrix&&(l=Kt.transform(l,this.matrix)));const c=this.createPatternCanvas(i);let u=new DOMMatrix(l);u=u.translate(c.offsetX,c.offsetY),u=u.scale(1/c.scaleX,1/c.scaleY);const h=e.createPattern(c.canvas,"repeat");return h.setTransform(u),h}};yt(U5,"MAX_PATTERN_SIZE",3e3);let jO=U5;function BTe({src:n,srcPos:e=0,dest:i,width:r,height:o,nonBlackColor:l=4294967295,inverseDecode:c=!1}){const u=Vs.isLittleEndian?4278190080:255,[h,m]=c?[l,u]:[u,l],g=r>>3,y=r&7,v=n.length;i=new Uint32Array(i.buffer);let _=0;for(let A=0;A<o;A++){for(const T=e+g;e<T;e++){const C=e<v?n[e]:255;i[_++]=C&128?m:h,i[_++]=C&64?m:h,i[_++]=C&32?m:h,i[_++]=C&16?m:h,i[_++]=C&8?m:h,i[_++]=C&4?m:h,i[_++]=C&2?m:h,i[_++]=C&1?m:h}if(y===0)continue;const S=e<v?n[e++]:255;for(let T=0;T<y;T++)i[_++]=S&1<<7-T?m:h}return{srcPos:e,destPos:_}}const XH=16,YH=100,zTe=15,KH=10,ga=16,pR=new DOMMatrix,ul=new Float32Array(2),aw=new Float32Array([1/0,1/0,-1/0,-1/0]);function VTe(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(i,r){e.translate(i,r),this.__originalTranslate(i,r)},n.scale=function(i,r){e.scale(i,r),this.__originalScale(i,r)},n.transform=function(i,r,o,l,c,u){e.transform(i,r,o,l,c,u),this.__originalTransform(i,r,o,l,c,u)},n.setTransform=function(i,r,o,l,c,u){e.setTransform(i,r,o,l,c,u),this.__originalSetTransform(i,r,o,l,c,u)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(i){e.rotate(i),this.__originalRotate(i)},n.clip=function(i){e.clip(i),this.__originalClip(i)},n.moveTo=function(i,r){e.moveTo(i,r),this.__originalMoveTo(i,r)},n.lineTo=function(i,r){e.lineTo(i,r),this.__originalLineTo(i,r)},n.bezierCurveTo=function(i,r,o,l,c,u){e.bezierCurveTo(i,r,o,l,c,u),this.__originalBezierCurveTo(i,r,o,l,c,u)},n.rect=function(i,r,o,l){e.rect(i,r,o,l),this.__originalRect(i,r,o,l)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class WTe{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,i,r){let o;return this.cache[e]!==void 0?(o=this.cache[e],this.canvasFactory.reset(o,i,r)):(o=this.canvasFactory.create(i,r),this.cache[e]=o),o}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const i=this.cache[e];this.canvasFactory.destroy(i),delete this.cache[e]}}}function ED(n,e,i,r,o,l,c,u,h,m){const[g,y,v,_,A,S]=Ji(n);if(y===0&&v===0){const N=c*g+A,I=Math.round(N),O=u*_+S,F=Math.round(O),L=(c+h)*g+A,z=Math.abs(Math.round(L)-I)||1,B=(u+m)*_+S,Y=Math.abs(Math.round(B)-F)||1;return n.setTransform(Math.sign(g),0,0,Math.sign(_),I,F),n.drawImage(e,i,r,o,l,0,0,z,Y),n.setTransform(g,y,v,_,A,S),[z,Y]}if(g===0&&_===0){const N=u*v+A,I=Math.round(N),O=c*y+S,F=Math.round(O),L=(u+m)*v+A,z=Math.abs(Math.round(L)-I)||1,B=(c+h)*y+S,Y=Math.abs(Math.round(B)-F)||1;return n.setTransform(0,Math.sign(y),Math.sign(v),0,I,F),n.drawImage(e,i,r,o,l,0,0,Y,z),n.setTransform(g,y,v,_,A,S),[Y,z]}n.drawImage(e,i,r,o,l,c,u,h,m);const T=Math.hypot(g,y),C=Math.hypot(v,_);return[T*h,C*m]}class ZH{constructor(e,i){yt(this,"alphaIsShape",!1);yt(this,"fontSize",0);yt(this,"fontSizeScale",1);yt(this,"textMatrix",null);yt(this,"textMatrixScale",1);yt(this,"fontMatrix",cO);yt(this,"leading",0);yt(this,"x",0);yt(this,"y",0);yt(this,"lineX",0);yt(this,"lineY",0);yt(this,"charSpacing",0);yt(this,"wordSpacing",0);yt(this,"textHScale",1);yt(this,"textRenderingMode",io.FILL);yt(this,"textRise",0);yt(this,"fillColor","#000000");yt(this,"strokeColor","#000000");yt(this,"patternFill",!1);yt(this,"patternStroke",!1);yt(this,"fillAlpha",1);yt(this,"strokeAlpha",1);yt(this,"lineWidth",1);yt(this,"activeSMask",null);yt(this,"transferMaps","none");this.clipBox=new Float32Array([0,0,e,i]),this.minMax=aw.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Fs.FILL,i=null){const r=this.minMax.slice();if(e===Fs.STROKE){i||mi("Stroke bounding box must include transform."),Kt.singularValueDecompose2dScale(i,ul);const o=ul[0]*this.lineWidth/2,l=ul[1]*this.lineWidth/2;r[0]-=o,r[1]-=l,r[2]+=o,r[3]+=l}return r}updateClipFromPath(){const e=Kt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(aw,0)}getClippedPathBoundingBox(e=Fs.FILL,i=null){return Kt.intersect(this.clipBox,this.getPathBoundingBox(e,i))}}function JH(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const i=e.height,r=e.width,o=i%ga,l=(i-o)/ga,c=o===0?l:l+1,u=n.createImageData(r,ga);let h=0,m;const g=e.data,y=u.data;let v,_,A,S;if(e.kind===ZD.GRAYSCALE_1BPP){const T=g.byteLength,C=new Uint32Array(y.buffer,0,y.byteLength>>2),N=C.length,I=r+7>>3,O=4294967295,F=Vs.isLittleEndian?4278190080:255;for(v=0;v<c;v++){for(A=v<l?ga:o,m=0,_=0;_<A;_++){const L=T-h;let z=0;const B=L>I?r:L*8-7,Y=B&-8;let se=0,de=0;for(;z<Y;z+=8)de=g[h++],C[m++]=de&128?O:F,C[m++]=de&64?O:F,C[m++]=de&32?O:F,C[m++]=de&16?O:F,C[m++]=de&8?O:F,C[m++]=de&4?O:F,C[m++]=de&2?O:F,C[m++]=de&1?O:F;for(;z<B;z++)se===0&&(de=g[h++],se=128),C[m++]=de&se?O:F,se>>=1}for(;m<N;)C[m++]=0;n.putImageData(u,0,v*ga)}}else if(e.kind===ZD.RGBA_32BPP){for(_=0,S=r*ga*4,v=0;v<l;v++)y.set(g.subarray(h,h+S)),h+=S,n.putImageData(u,0,_),_+=ga;v<c&&(S=r*o*4,y.set(g.subarray(h,h+S)),n.putImageData(u,0,_))}else if(e.kind===ZD.RGB_24BPP)for(A=ga,S=r*A,v=0;v<c;v++){for(v>=l&&(A=o,S=r*A),m=0,_=S;_--;)y[m++]=g[h++],y[m++]=g[h++],y[m++]=g[h++],y[m++]=255;n.putImageData(u,0,v*ga)}else throw new Error(`bad image kind: ${e.kind}`)}function QH(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const i=e.height,r=e.width,o=i%ga,l=(i-o)/ga,c=o===0?l:l+1,u=n.createImageData(r,ga);let h=0;const m=e.data,g=u.data;for(let y=0;y<c;y++){const v=y<l?ga:o;({srcPos:h}=BTe({src:m,srcPos:h,dest:g,width:r,height:v,nonBlackColor:0})),n.putImageData(u,0,y*ga)}}function Lk(n,e){const i=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of i)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function SD(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function eG(n,e){if(e)return!0;Kt.singularValueDecompose2dScale(n,ul);const i=Math.fround(Sf.pixelRatio*$m.PDF_TO_CSS_UNITS);return ul[0]<=i&&ul[1]<=i}const $Te=["butt","round","square"],qTe=["miter","round","bevel"],HTe={},tG={};var du,RO,MO,OO;const tU=class tU{constructor(e,i,r,o,l,{optionalContentConfig:c,markedContentStack:u=null},h,m){pe(this,du);this.ctx=e,this.current=new ZH(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=i,this.objs=r,this.canvasFactory=o,this.filterFactory=l,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=c,this.cachedCanvases=new WTe(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=m,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,i=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):i}beginDrawing({transform:e,viewport:i,transparency:r=!1,background:o=null}){const l=this.ctx.canvas.width,c=this.ctx.canvas.height,u=this.ctx.fillStyle;if(this.ctx.fillStyle=o||"#ffffff",this.ctx.fillRect(0,0,l,c),this.ctx.fillStyle=u,r){const h=this.cachedCanvases.getCanvas("transparent",l,c);this.compositeCtx=this.ctx,this.transparentCanvas=h.canvas,this.ctx=h.context,this.ctx.save(),this.ctx.transform(...Ji(this.compositeCtx))}this.ctx.save(),SD(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...i.transform),this.viewportScale=i.scale,this.baseTransform=Ji(this.ctx)}executeOperatorList(e,i,r,o){const l=e.argsArray,c=e.fnArray;let u=i||0;const h=l.length;if(h===u)return u;const m=h-u>KH&&typeof r=="function",g=m?Date.now()+zTe:0;let y=0;const v=this.commonObjs,_=this.objs;let A;for(;;){if(o!==void 0&&u===o.nextBreakPoint)return o.breakIt(u,r),u;if(A=c[u],A!==k5.dependency)this[A].apply(this,l[u]);else for(const S of l[u]){const T=S.startsWith("g_")?v:_;if(!T.has(S))return T.get(S,r),u}if(u++,u===h)return u;if(m&&++y>KH){if(Date.now()>g)return r(),u;y=0}}}endDrawing(){me(this,du,RO).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const i of e.values())typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement&&(i.width=i.height=0);e.clear()}this._cachedBitmapsMap.clear(),me(this,du,MO).call(this)}_scaleImage(e,i){const r=e.width??e.displayWidth,o=e.height??e.displayHeight;let l=Math.max(Math.hypot(i[0],i[1]),1),c=Math.max(Math.hypot(i[2],i[3]),1),u=r,h=o,m="prescale1",g,y;for(;l>2&&u>1||c>2&&h>1;){let v=u,_=h;l>2&&u>1&&(v=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),l/=u/v),c>2&&h>1&&(_=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,c/=h/_),g=this.cachedCanvases.getCanvas(m,v,_),y=g.context,y.clearRect(0,0,v,_),y.drawImage(e,0,0,u,h,0,0,v,_),e=g.canvas,u=v,h=_,m=m==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:u,paintHeight:h}}_createMaskCanvas(e){const i=this.ctx,{width:r,height:o}=e,l=this.current.fillColor,c=this.current.patternFill,u=Ji(i);let h,m,g,y;if((e.bitmap||e.data)&&e.count>1){const Y=e.bitmap||e.data.buffer;m=JSON.stringify(c?u:[u.slice(0,4),l]),h=this._cachedBitmapsMap.get(Y),h||(h=new Map,this._cachedBitmapsMap.set(Y,h));const se=h.get(m);if(se&&!c){const de=Math.round(Math.min(u[0],u[2])+u[4]),J=Math.round(Math.min(u[1],u[3])+u[5]);return{canvas:se,offsetX:de,offsetY:J}}g=se}g||(y=this.cachedCanvases.getCanvas("maskCanvas",r,o),QH(y.context,e));let v=Kt.transform(u,[1/r,0,0,-1/o,0,0]);v=Kt.transform(v,[1,0,0,1,0,-o]);const _=aw.slice();Kt.axialAlignedBoundingBox([0,0,r,o],v,_);const[A,S,T,C]=_,N=Math.round(T-A)||1,I=Math.round(C-S)||1,O=this.cachedCanvases.getCanvas("fillCanvas",N,I),F=O.context,L=A,z=S;F.translate(-L,-z),F.transform(...v),g||(g=this._scaleImage(y.canvas,Ju(F)),g=g.img,h&&c&&h.set(m,g)),F.imageSmoothingEnabled=eG(Ji(F),e.interpolate),ED(F,g,0,0,g.width,g.height,0,0,r,o),F.globalCompositeOperation="source-in";const B=Kt.transform(Ju(F),[1,0,0,1,-L,-z]);return F.fillStyle=c?l.getPattern(i,this,B,Fs.FILL):l,F.fillRect(0,0,r,o),h&&!c&&(this.cachedCanvases.delete("fillCanvas"),h.set(m,O.canvas)),{canvas:O.canvas,offsetX:Math.round(L),offsetY:Math.round(z)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=$Te[e]}setLineJoin(e){this.ctx.lineJoin=qTe[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,i){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=i)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[i,r]of e)switch(i){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,i=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,o=this.cachedCanvases.getCanvas(r,e,i);this.suspendedCtx=this.ctx;const l=this.ctx=o.context;l.setTransform(this.suspendedCtx.getTransform()),Lk(this.suspendedCtx,l),VTe(l,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Lk(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const i=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,i,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,i,r,o){const l=o[0],c=o[1],u=o[2]-l,h=o[3]-c;u===0||h===0||(this.genericComposeSMask(i.context,r,u,h,i.subtype,i.backdrop,i.transferMap,l,c,i.offsetX,i.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,i,r,o,l,c,u,h,m,g,y){let v=e.canvas,_=h-g,A=m-y;if(c){const T=Kt.makeHexColor(...c);if(_<0||A<0||_+r>v.width||A+o>v.height){const C=this.cachedCanvases.getCanvas("maskExtension",r,o),N=C.context;N.drawImage(v,-_,-A),N.globalCompositeOperation="destination-atop",N.fillStyle=T,N.fillRect(0,0,r,o),N.globalCompositeOperation="source-over",v=C.canvas,_=A=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const C=new Path2D;C.rect(_,A,r,o),e.clip(C),e.globalCompositeOperation="destination-atop",e.fillStyle=T,e.fillRect(_,A,r,o),e.restore()}}i.save(),i.globalAlpha=1,i.setTransform(1,0,0,1,0,0),l==="Alpha"&&u?i.filter=this.filterFactory.addAlphaFilter(u):l==="Luminosity"&&(i.filter=this.filterFactory.addLuminosityFilter(u));const S=new Path2D;S.rect(h,m,r,o),i.clip(S),i.globalCompositeOperation="destination-in",i.drawImage(v,_,A,r,o,h,m,r,o),i.restore()}save(){this.inSMaskMode&&Lk(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Lk(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,i,r,o,l,c){this.ctx.transform(e,i,r,o,l,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,i,r){let[o]=i;if(!r){o||(o=i[0]=new Path2D),this[e](o);return}if(!(o instanceof Path2D)){const l=i[0]=new Path2D;for(let c=0,u=o.length;c<u;)switch(o[c++]){case _D.moveTo:l.moveTo(o[c++],o[c++]);break;case _D.lineTo:l.lineTo(o[c++],o[c++]);break;case _D.curveTo:l.bezierCurveTo(o[c++],o[c++],o[c++],o[c++],o[c++],o[c++]);break;case _D.closePath:l.closePath();break;default:yn(`Unrecognized drawing path operator: ${o[c-1]}`);break}o=l}Kt.axialAlignedBoundingBox(r,Ji(this.ctx),this.current.minMax),this[e](o)}closePath(){this.ctx.closePath()}stroke(e,i=!0){const r=this.ctx,o=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof o=="object"&&(o!=null&&o.getPattern)){const l=o.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=o.getPattern(r,this,Ju(r),Fs.STROKE),l){const c=new Path2D;c.addPath(e,r.getTransform().invertSelf().multiplySelf(l)),e=c}this.rescaleAndStroke(e,!1),r.restore()}else this.rescaleAndStroke(e,!0);i&&this.consumePath(e,this.current.getClippedPathBoundingBox(Fs.STROKE,Ji(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(e){this.stroke(e)}fill(e,i=!0){const r=this.ctx,o=this.current.fillColor,l=this.current.patternFill;let c=!1;if(l){const h=o.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.fillStyle=o.getPattern(r,this,Ju(r),Fs.FILL),h){const m=new Path2D;m.addPath(e,r.getTransform().invertSelf().multiplySelf(h)),e=m}c=!0}const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(r.fill(e,"evenodd"),this.pendingEOFill=!1):r.fill(e)),c&&r.restore(),i&&this.consumePath(e,u)}eoFill(e){this.pendingEOFill=!0,this.fill(e)}fillStroke(e){this.fill(e,!1),this.stroke(e,!1),this.consumePath(e)}eoFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}closeFillStroke(e){this.fillStroke(e)}closeEOFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}endPath(e){this.consumePath(e)}rawFillPath(e){this.ctx.fill(e)}clip(){this.pendingClip=HTe}eoClip(){this.pendingClip=tG}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,i=this.ctx;if(e===void 0)return;const r=new Path2D,o=i.getTransform().invertSelf();for(const{transform:l,x:c,y:u,fontSize:h,path:m}of e)r.addPath(m,new DOMMatrix(l).preMultiplySelf(o).translate(c,u).scale(h,-h));i.clip(r),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,i){var g;const r=this.commonObjs.get(e),o=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(o.fontMatrix=r.fontMatrix||cO,(o.fontMatrix[0]===0||o.fontMatrix[3]===0)&&yn("Invalid font matrix for font "+e),i<0?(i=-i,o.fontDirection=-1):o.fontDirection=1,this.current.font=r,this.current.fontSize=i,r.isType3Font)return;const l=r.loadedName||"sans-serif",c=((g=r.systemFontInfo)==null?void 0:g.css)||`"${l}", ${r.fallbackName}`;let u="normal";r.black?u="900":r.bold&&(u="bold");const h=r.italic?"italic":"normal";let m=i;i<XH?m=XH:i>YH&&(m=YH),this.current.fontSizeScale=i/m,this.ctx.font=`${h} ${u} ${m}px ${c}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,i){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=i}setLeadingMoveText(e,i){this.setLeading(-i),this.moveText(e,i)}setTextMatrix(e){const{current:i}=this;i.textMatrix=e,i.textMatrixScale=Math.hypot(e[0],e[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,i,r,o,l){const c=this.ctx,u=this.current,h=u.font,m=u.textRenderingMode,g=u.fontSize/u.fontSizeScale,y=m&io.FILL_STROKE_MASK,v=!!(m&io.ADD_TO_PATH_FLAG),_=u.patternFill&&!h.missingFile,A=u.patternStroke&&!h.missingFile;let S;if((h.disableFontFace||v||_||A)&&(S=h.getPathGenerator(this.commonObjs,e)),h.disableFontFace||_||A){c.save(),c.translate(i,r),c.scale(g,-g);let T;if((y===io.FILL||y===io.FILL_STROKE)&&(o?(T=c.getTransform(),c.setTransform(...o),c.fill(me(this,du,OO).call(this,S,T,o))):c.fill(S)),y===io.STROKE||y===io.FILL_STROKE)if(l){T||(T=c.getTransform()),c.setTransform(...l);const{a:C,b:N,c:I,d:O}=T,F=Kt.inverseTransform(l),L=Kt.transform([C,N,I,O,0,0],F);Kt.singularValueDecompose2dScale(L,ul),c.lineWidth*=Math.max(ul[0],ul[1])/g,c.stroke(me(this,du,OO).call(this,S,T,l))}else c.lineWidth/=g,c.stroke(S);c.restore()}else(y===io.FILL||y===io.FILL_STROKE)&&c.fillText(e,i,r),(y===io.STROKE||y===io.FILL_STROKE)&&c.strokeText(e,i,r);v&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Ji(c),x:i,y:r,fontSize:g,path:S})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const i=e.getImageData(0,0,10,10).data;let r=!1;for(let o=3;o<i.length;o+=4)if(i[o]>0&&i[o]<255){r=!0;break}return Tn(this,"isFontSubpixelAAEnabled",r)}showText(e){const i=this.current,r=i.font;if(r.isType3Font)return this.showType3Text(e);const o=i.fontSize;if(o===0)return;const l=this.ctx,c=i.fontSizeScale,u=i.charSpacing,h=i.wordSpacing,m=i.fontDirection,g=i.textHScale*m,y=e.length,v=r.vertical,_=v?1:-1,A=r.defaultVMetrics,S=o*i.fontMatrix[0],T=i.textRenderingMode===io.FILL&&!r.disableFontFace&&!i.patternFill;l.save(),i.textMatrix&&l.transform(...i.textMatrix),l.translate(i.x,i.y+i.textRise),m>0?l.scale(g,-1):l.scale(g,1);let C,N;if(i.patternFill){l.save();const z=i.fillColor.getPattern(l,this,Ju(l),Fs.FILL);C=Ji(l),l.restore(),l.fillStyle=z}if(i.patternStroke){l.save();const z=i.strokeColor.getPattern(l,this,Ju(l),Fs.STROKE);N=Ji(l),l.restore(),l.strokeStyle=z}let I=i.lineWidth;const O=i.textMatrixScale;if(O===0||I===0){const z=i.textRenderingMode&io.FILL_STROKE_MASK;(z===io.STROKE||z===io.FILL_STROKE)&&(I=this.getSinglePixelWidth())}else I/=O;if(c!==1&&(l.scale(c,c),I/=c),l.lineWidth=I,r.isInvalidPDFjsFont){const z=[];let B=0;for(const Y of e)z.push(Y.unicode),B+=Y.width;l.fillText(z.join(""),0,0),i.x+=B*S*g,l.restore(),this.compose();return}let F=0,L;for(L=0;L<y;++L){const z=e[L];if(typeof z=="number"){F+=_*z*o/1e3;continue}let B=!1;const Y=(z.isSpace?h:0)+u,se=z.fontChar,de=z.accent;let J,be,q=z.width;if(v){const ie=z.vmetric||A,ce=-(z.vmetric?ie[1]:q*.5)*S,X=ie[2]*S;q=ie?-ie[0]:q,J=ce/c,be=(F+X)/c}else J=F/c,be=0;if(r.remeasure&&q>0){const ie=l.measureText(se).width*1e3/o*c;if(q<ie&&this.isFontSubpixelAAEnabled){const ce=q/ie;B=!0,l.save(),l.scale(ce,1),J/=ce}else q!==ie&&(J+=(q-ie)/2e3*o/c)}if(this.contentVisible&&(z.isInFont||r.missingFile)){if(T&&!de)l.fillText(se,J,be);else if(this.paintChar(se,J,be,C,N),de){const ie=J+o*de.offset.x/c,ce=be-o*de.offset.y/c;this.paintChar(de.fontChar,ie,ce,C,N)}}const Te=v?q*S-Y*m:q*S+Y*m;F+=Te,B&&l.restore()}v?i.y-=F:i.x+=F*g,l.restore(),this.compose()}showType3Text(e){const i=this.ctx,r=this.current,o=r.font,l=r.fontSize,c=r.fontDirection,u=o.vertical?1:-1,h=r.charSpacing,m=r.wordSpacing,g=r.textHScale*c,y=r.fontMatrix||cO,v=e.length,_=r.textRenderingMode===io.INVISIBLE;let A,S,T,C;if(!(_||l===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),r.textMatrix&&i.transform(...r.textMatrix),i.translate(r.x,r.y+r.textRise),i.scale(g,c),A=0;A<v;++A){if(S=e[A],typeof S=="number"){C=u*S*l/1e3,this.ctx.translate(C,0),r.x+=C*g;continue}const N=(S.isSpace?m:0)+h,I=o.charProcOperatorList[S.operatorListId];I?this.contentVisible&&(this.save(),i.scale(l,l),i.transform(...y),this.executeOperatorList(I),this.restore()):yn(`Type3 character "${S.operatorListId}" is not available.`);const O=[S.width,0];Kt.applyTransform(O,y),T=O[0]*l+N,i.translate(T,0),r.x+=T*g}i.restore()}}setCharWidth(e,i){}setCharWidthAndBounds(e,i,r,o,l,c){const u=new Path2D;u.rect(r,o,l-r,c-o),this.ctx.clip(u),this.endPath()}getColorN_Pattern(e){let i;if(e[0]==="TilingPattern"){const r=this.baseTransform||Ji(this.ctx),o={createCanvasGraphics:l=>new tU(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};i=new jO(e,this.ctx,o,r)}else i=this._getPattern(e[1],e[2]);return i}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,i,r){this.ctx.strokeStyle=this.current.strokeColor=Kt.makeHexColor(e,i,r),this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,i,r){this.ctx.fillStyle=this.current.fillColor=Kt.makeHexColor(e,i,r),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,i=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=UTe(this.getObject(e)),this.cachedPatterns.set(e,r)),i&&(r.matrix=i),r}shadingFill(e){if(!this.contentVisible)return;const i=this.ctx;this.save();const r=this._getPattern(e);i.fillStyle=r.getPattern(i,this,Ju(i),Fs.SHADING);const o=Ju(i);if(o){const{width:l,height:c}=i.canvas,u=aw.slice();Kt.axialAlignedBoundingBox([0,0,l,c],o,u);const[h,m,g,y]=u;this.ctx.fillRect(h,m,g-h,y-m)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){mi("Should not call beginInlineImage")}beginImageData(){mi("Should not call beginImageData")}paintFormXObjectBegin(e,i){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Ji(this.ctx),i)){Kt.axialAlignedBoundingBox(i,this.baseTransform,this.current.minMax);const[r,o,l,c]=i,u=new Path2D;u.rect(r,o,l-r,c-o),this.ctx.clip(u),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;e.isolated||kP("TODO: Support non-isolated groups."),e.knockout&&yn("Knockout groups not supported.");const r=Ji(i);if(e.matrix&&i.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let o=aw.slice();Kt.axialAlignedBoundingBox(e.bbox,Ji(i),o);const l=[0,0,i.canvas.width,i.canvas.height];o=Kt.intersect(o,l)||[0,0,0,0];const c=Math.floor(o[0]),u=Math.floor(o[1]),h=Math.max(Math.ceil(o[2])-c,1),m=Math.max(Math.ceil(o[3])-u,1);this.current.startNewPathAndClipBox([0,0,h,m]);let g="groupAt"+this.groupLevel;e.smask&&(g+="_smask_"+this.smaskCounter++%2);const y=this.cachedCanvases.getCanvas(g,h,m),v=y.context;v.translate(-c,-u),v.transform(...r);let _=new Path2D;const[A,S,T,C]=e.bbox;if(_.rect(A,S,T-A,C-S),e.matrix){const N=new Path2D;N.addPath(_,new DOMMatrix(e.matrix)),_=N}v.clip(_),e.smask?this.smaskStack.push({canvas:y.canvas,context:v,offsetX:c,offsetY:u,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(i.setTransform(1,0,0,1,0,0),i.translate(c,u),i.save()),Lk(i,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const o=Ji(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...o);const l=aw.slice();Kt.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],o,l),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(e,i,r,o,l){if(me(this,du,RO).call(this),SD(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const c=i[2]-i[0],u=i[3]-i[1];if(l&&this.annotationCanvasMap){r=r.slice(),r[4]-=i[0],r[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=c,i[3]=u,Kt.singularValueDecompose2dScale(Ji(this.ctx),ul);const{viewportScale:h}=this,m=Math.ceil(c*this.outputScaleX*h),g=Math.ceil(u*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(m,g);const{canvas:y,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(e,y),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(ul[0],0,0,-ul[1],0,u*ul[1]),SD(this.ctx)}else{SD(this.ctx),this.endPath();const h=new Path2D;h.rect(i[0],i[1],c,u),this.ctx.clip(h)}}this.current=new ZH(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...o)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),me(this,du,MO).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const i=e.count;e=this.getObject(e.data,e),e.count=i;const r=this.ctx,o=this._createMaskCanvas(e),l=o.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(l,o.offsetX,o.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,i,r=0,o=0,l,c){if(!this.contentVisible)return;e=this.getObject(e.data,e);const u=this.ctx;u.save();const h=Ji(u);u.transform(i,r,o,l,0,0);const m=this._createMaskCanvas(e);u.setTransform(1,0,0,1,m.offsetX-h[4],m.offsetY-h[5]);for(let g=0,y=c.length;g<y;g+=2){const v=Kt.transform(h,[i,r,o,l,c[g],c[g+1]]);u.drawImage(m.canvas,v[4],v[5])}u.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const i=this.ctx,r=this.current.fillColor,o=this.current.patternFill;for(const l of e){const{data:c,width:u,height:h,transform:m}=l,g=this.cachedCanvases.getCanvas("maskCanvas",u,h),y=g.context;y.save();const v=this.getObject(c,l);QH(y,v),y.globalCompositeOperation="source-in",y.fillStyle=o?r.getPattern(y,this,Ju(i),Fs.FILL):r,y.fillRect(0,0,u,h),y.restore(),i.save(),i.transform(...m),i.scale(1,-1),ED(i,g.canvas,0,0,u,h,0,-1,1,1),i.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const i=this.getObject(e);if(!i){yn("Dependent image isn't ready yet");return}this.paintInlineImageXObject(i)}paintImageXObjectRepeat(e,i,r,o){if(!this.contentVisible)return;const l=this.getObject(e);if(!l){yn("Dependent image isn't ready yet");return}const c=l.width,u=l.height,h=[];for(let m=0,g=o.length;m<g;m+=2)h.push({transform:[i,0,0,r,o[m],o[m+1]],x:0,y:0,w:c,h:u});this.paintInlineImageXObjectGroup(l,h)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:i,width:r,height:o}=e,l=this.cachedCanvases.getCanvas("inlineImage",r,o),c=l.context;return c.filter=this.current.transferMaps,c.drawImage(i,0,0),c.filter="none",l.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const i=e.width,r=e.height,o=this.ctx;this.save();const{filter:l}=o;l!=="none"&&l!==""&&(o.filter="none"),o.scale(1/i,-1/r);let c;if(e.bitmap)c=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)c=e;else{const m=this.cachedCanvases.getCanvas("inlineImage",i,r).context;JH(m,e),c=this.applyTransferMapsToCanvas(m)}const u=this._scaleImage(c,Ju(o));o.imageSmoothingEnabled=eG(Ji(o),e.interpolate),ED(o,u.img,0,0,u.paintWidth,u.paintHeight,0,-r,i,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,i){if(!this.contentVisible)return;const r=this.ctx;let o;if(e.bitmap)o=e.bitmap;else{const l=e.width,c=e.height,h=this.cachedCanvases.getCanvas("inlineImage",l,c).context;JH(h,e),o=this.applyTransferMapsToCanvas(h)}for(const l of i)r.save(),r.transform(...l.transform),r.scale(1,-1),ED(r,o,l.x,l.y,l.w,l.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,i){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,i){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e,i){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const o=this.ctx;this.pendingClip&&(r||(this.pendingClip===tG?o.clip(e,"evenodd"):o.clip(e)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Ji(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const i=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),o=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,o)/i}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:i,b:r,c:o,d:l}=this.ctx.getTransform();let c,u;if(r===0&&o===0){const h=Math.abs(i),m=Math.abs(l);if(h===m)if(e===0)c=u=1/h;else{const g=h*e;c=u=g<1?1/g:1}else if(e===0)c=1/h,u=1/m;else{const g=h*e,y=m*e;c=g<1?1/g:1,u=y<1?1/y:1}}else{const h=Math.abs(i*l-r*o),m=Math.hypot(i,r),g=Math.hypot(o,l);if(e===0)c=g/h,u=m/h;else{const y=e*h;c=g>y?g/y:1,u=m>y?m/y:1}}this._cachedScaleForStroking[0]=c,this._cachedScaleForStroking[1]=u}return this._cachedScaleForStroking}rescaleAndStroke(e,i){const{ctx:r,current:{lineWidth:o}}=this,[l,c]=this.getScaleForStroking();if(l===c){r.lineWidth=(o||1)*l,r.stroke(e);return}const u=r.getLineDash();i&&r.save(),r.scale(l,c),pR.a=1/l,pR.d=1/c;const h=new Path2D;if(h.addPath(e,pR),u.length>0){const m=Math.max(l,c);r.setLineDash(u.map(g=>g/m)),r.lineDashOffset/=m}r.lineWidth=o||1,r.stroke(h),i&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};du=new WeakSet,RO=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},MO=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const i=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=i}}},OO=function(e,i,r){const o=new Path2D;return o.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(i)),o};let ww=tU;for(const n in k5)ww.prototype[n]!==void 0&&(ww.prototype[k5[n]]=ww.prototype[n]);var XE,YE;class _d{static get workerPort(){return P(this,XE)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");te(this,XE,e)}static get workerSrc(){return P(this,YE)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");te(this,YE,e)}}XE=new WeakMap,YE=new WeakMap,pe(_d,XE,null),pe(_d,YE,"");var Bw,KE;class GTe{constructor({parsedData:e,rawData:i}){pe(this,Bw);pe(this,KE);te(this,Bw,e),te(this,KE,i)}getRaw(){return P(this,KE)}get(e){return P(this,Bw).get(e)??null}[Symbol.iterator](){return P(this,Bw).entries()}}Bw=new WeakMap,KE=new WeakMap;const Lv=Symbol("INTERNAL");var ZE,JE,QE,zw;class XTe{constructor(e,{name:i,intent:r,usage:o,rbGroups:l}){pe(this,ZE,!1);pe(this,JE,!1);pe(this,QE,!1);pe(this,zw,!0);te(this,ZE,!!(e&ll.DISPLAY)),te(this,JE,!!(e&ll.PRINT)),this.name=i,this.intent=r,this.usage=o,this.rbGroups=l}get visible(){if(P(this,QE))return P(this,zw);if(!P(this,zw))return!1;const{print:e,view:i}=this.usage;return P(this,ZE)?(i==null?void 0:i.viewState)!=="OFF":P(this,JE)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,i,r=!1){e!==Lv&&mi("Internal method `_setVisible` called."),te(this,QE,r),te(this,zw,i)}}ZE=new WeakMap,JE=new WeakMap,QE=new WeakMap,zw=new WeakMap;var tm,hi,Vw,Ww,eS,FO;class YTe{constructor(e,i=ll.DISPLAY){pe(this,eS);pe(this,tm,null);pe(this,hi,new Map);pe(this,Vw,null);pe(this,Ww,null);if(this.renderingIntent=i,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,te(this,Ww,e.order);for(const r of e.groups)P(this,hi).set(r.id,new XTe(i,r));if(e.baseState==="OFF")for(const r of P(this,hi).values())r._setVisible(Lv,!1);for(const r of e.on)P(this,hi).get(r)._setVisible(Lv,!0);for(const r of e.off)P(this,hi).get(r)._setVisible(Lv,!1);te(this,Vw,this.getHash())}}isVisible(e){if(P(this,hi).size===0)return!0;if(!e)return kP("Optional content group not defined."),!0;if(e.type==="OCG")return P(this,hi).has(e.id)?P(this,hi).get(e.id).visible:(yn(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return me(this,eS,FO).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const i of e.ids){if(!P(this,hi).has(i))return yn(`Optional content group not found: ${i}`),!0;if(P(this,hi).get(i).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const i of e.ids){if(!P(this,hi).has(i))return yn(`Optional content group not found: ${i}`),!0;if(!P(this,hi).get(i).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const i of e.ids){if(!P(this,hi).has(i))return yn(`Optional content group not found: ${i}`),!0;if(!P(this,hi).get(i).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const i of e.ids){if(!P(this,hi).has(i))return yn(`Optional content group not found: ${i}`),!0;if(P(this,hi).get(i).visible)return!1}return!0}return yn(`Unknown optional content policy ${e.policy}.`),!0}return yn(`Unknown group type ${e.type}.`),!0}setVisibility(e,i=!0,r=!0){var l;const o=P(this,hi).get(e);if(!o){yn(`Optional content group not found: ${e}`);return}if(r&&i&&o.rbGroups.length)for(const c of o.rbGroups)for(const u of c)u!==e&&((l=P(this,hi).get(u))==null||l._setVisible(Lv,!1,!0));o._setVisible(Lv,!!i,!0),te(this,tm,null)}setOCGState({state:e,preserveRB:i}){let r;for(const o of e){switch(o){case"ON":case"OFF":case"Toggle":r=o;continue}const l=P(this,hi).get(o);if(l)switch(r){case"ON":this.setVisibility(o,!0,i);break;case"OFF":this.setVisibility(o,!1,i);break;case"Toggle":this.setVisibility(o,!l.visible,i);break}}te(this,tm,null)}get hasInitialVisibility(){return P(this,Vw)===null||this.getHash()===P(this,Vw)}getOrder(){return P(this,hi).size?P(this,Ww)?P(this,Ww).slice():[...P(this,hi).keys()]:null}getGroup(e){return P(this,hi).get(e)||null}getHash(){if(P(this,tm)!==null)return P(this,tm);const e=new Sne;for(const[i,r]of P(this,hi))e.update(`${i}:${r.visible}`);return te(this,tm,e.hexdigest())}[Symbol.iterator](){return P(this,hi).entries()}}tm=new WeakMap,hi=new WeakMap,Vw=new WeakMap,Ww=new WeakMap,eS=new WeakSet,FO=function(e){const i=e.length;if(i<2)return!0;const r=e[0];for(let o=1;o<i;o++){const l=e[o];let c;if(Array.isArray(l))c=me(this,eS,FO).call(this,l);else if(P(this,hi).has(l))c=P(this,hi).get(l).visible;else return yn(`Optional content group not found: ${l}`),!0;switch(r){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return r==="And"};class KTe{constructor(e,{disableRange:i=!1,disableStream:r=!1}){Rr(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:o,initialData:l,progressiveDone:c,contentDispositionFilename:u}=e;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=u,(l==null?void 0:l.length)>0){const h=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;this._queuedChunks.push(h)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!i,this._contentLength=o,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((h,m)=>{this._onReceiveData({begin:h,chunk:m})}),e.addProgressListener((h,m)=>{this._onProgress({loaded:h,total:m})}),e.addProgressiveReadListener(h=>{this._onReceiveData({chunk:h})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:i}){const r=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const o=this._rangeReaders.some(function(l){return l._begin!==e?!1:(l._enqueue(r),!0)});Rr(o,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var i,r,o,l;e.total===void 0?(r=(i=this._rangeReaders[0])==null?void 0:i.onProgress)==null||r.call(i,{loaded:e.loaded}):(l=(o=this._fullRequestReader)==null?void 0:o.onProgress)==null||l.call(o,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const i=this._rangeReaders.indexOf(e);i>=0&&this._rangeReaders.splice(i,1)}getFullReader(){Rr(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new ZTe(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,i){if(i<=this._progressiveDataLength)return null;const r=new JTe(this,e,i);return this._pdfDataRangeTransport.requestDataRange(e,i),this._rangeReaders.push(r),r}cancelAllRequests(e){var i;(i=this._fullRequestReader)==null||i.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class ZTe{constructor(e,i,r=!1,o=null){this._stream=e,this._done=r||!1,this._filename=WL(o)?o:null,this._queuedChunks=i||[],this._loaded=0;for(const l of this._queuedChunks)this._loaded+=l.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class JTe{constructor(e,i,r){this._stream=e,this._begin=i,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const i=this._queuedChunk;return this._queuedChunk=null,{value:i,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function QTe(n){let e=!0,i=r("filename\\*","i").exec(n);if(i){i=i[1];let g=u(i);return g=unescape(g),g=h(g),g=m(g),l(g)}if(i=c(n),i){const g=m(i);return l(g)}if(i=r("filename","i").exec(n),i){i=i[1];let g=u(i);return g=m(g),l(g)}function r(g,y){return new RegExp("(?:^|;)\\s*"+g+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',y)}function o(g,y){if(g){if(!/^[\x00-\xFF]+$/.test(y))return y;try{const v=new TextDecoder(g,{fatal:!0}),_=gA(y);y=v.decode(_),e=!1}catch{}}return y}function l(g){return e&&/[\x80-\xff]/.test(g)&&(g=o("utf-8",g),e&&(g=o("iso-8859-1",g))),g}function c(g){const y=[];let v;const _=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=_.exec(g))!==null;){let[,S,T,C]=v;if(S=parseInt(S,10),S in y){if(S===0)break;continue}y[S]=[T,C]}const A=[];for(let S=0;S<y.length&&S in y;++S){let[T,C]=y[S];C=u(C),T&&(C=unescape(C),S===0&&(C=h(C))),A.push(C)}return A.join("")}function u(g){if(g.startsWith('"')){const y=g.slice(1).split('\\"');for(let v=0;v<y.length;++v){const _=y[v].indexOf('"');_!==-1&&(y[v]=y[v].slice(0,_),y.length=v+1),y[v]=y[v].replaceAll(/\\(.)/g,"$1")}g=y.join('"')}return g}function h(g){const y=g.indexOf("'");if(y===-1)return g;const v=g.slice(0,y),A=g.slice(y+1).replace(/^[^']*'/,"");return o(v,A)}function m(g){return!g.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(g)?g:g.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(y,v,_,A){if(_==="q"||_==="Q")return A=A.replaceAll("_"," "),A=A.replaceAll(/=([0-9a-fA-F]{2})/g,function(S,T){return String.fromCharCode(parseInt(T,16))}),o(v,A);try{A=atob(A)}catch{}return o(v,A)})}return""}function Fne(n,e){const i=new Headers;if(!n||!e||typeof e!="object")return i;for(const r in e){const o=e[r];o!==void 0&&i.append(r,o)}return i}function SP(n){var e;return((e=URL.parse(n))==null?void 0:e.origin)??null}function Lne({responseHeaders:n,isHttp:e,rangeChunkSize:i,disableRange:r}){const o={allowRangeRequests:!1,suggestedLength:void 0},l=parseInt(n.get("Content-Length"),10);return!Number.isInteger(l)||(o.suggestedLength=l,l<=2*i)||r||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(o.allowRangeRequests=!0),o}function Une(n){const e=n.get("Content-Disposition");if(e){let i=QTe(e);if(i.includes("%"))try{i=decodeURIComponent(i)}catch{}if(WL(i))return i}return null}function wA(n,e){return new E5(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function Bne(n){return n===200||n===206}function zne(n,e,i){return{method:"GET",headers:n,signal:i.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Vne(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(yn(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class nG{constructor(e){yt(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=Fne(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Rr(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new eCe(this),this._fullRequestReader}getRangeReader(e,i){if(i<=this._progressiveDataLength)return null;const r=new tCe(this,e,i);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var i;(i=this._fullRequestReader)==null||i.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class eCe{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const i=e.source;this._withCredentials=i.withCredentials||!1,this._contentLength=i.length,this._headersCapability=Promise.withResolvers(),this._disableRange=i.disableRange||!1,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!i.disableStream,this._isRangeSupported=!i.disableRange;const r=new Headers(e.headers),o=i.url;fetch(o,zne(r,this._withCredentials,this._abortController)).then(l=>{if(e._responseOrigin=SP(l.url),!Bne(l.status))throw wA(l.status,o);this._reader=l.body.getReader(),this._headersCapability.resolve();const c=l.headers,{allowRangeRequests:u,suggestedLength:h}=Lne({responseHeaders:c,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=h||this._contentLength,this._filename=Une(c),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Wm("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:i}=await this._reader.read();return i?{value:e,done:i}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Vne(e),done:!1})}cancel(e){var i;(i=this._reader)==null||i.cancel(e),this._abortController.abort()}}class tCe{constructor(e,i,r){this._stream=e,this._reader=null,this._loaded=0;const o=e.source;this._withCredentials=o.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!o.disableStream,this._abortController=new AbortController;const l=new Headers(e.headers);l.append("Range",`bytes=${i}-${r-1}`);const c=o.url;fetch(c,zne(l,this._withCredentials,this._abortController)).then(u=>{const h=SP(u.url);if(h!==e._responseOrigin)throw new Error(`Expected range response-origin "${h}" to match "${e._responseOrigin}".`);if(!Bne(u.status))throw wA(u.status,c);this._readCapability.resolve(),this._reader=u.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:i}=await this._reader.read();return i?{value:e,done:i}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:Vne(e),done:!1})}cancel(e){var i;(i=this._reader)==null||i.cancel(e),this._abortController.abort()}}const mR=200,gR=206;function nCe(n){const e=n.response;return typeof e!="string"?e:gA(e).buffer}class iCe{constructor({url:e,httpHeaders:i,withCredentials:r}){yt(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=Fne(this.isHttp,i),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const i=new XMLHttpRequest,r=this.currXhrId++,o=this.pendingRequests[r]={xhr:i};i.open("GET",this.url),i.withCredentials=this.withCredentials;for(const[l,c]of this.headers)i.setRequestHeader(l,c);return this.isHttp&&"begin"in e&&"end"in e?(i.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),o.expectedStatus=gR):o.expectedStatus=mR,i.responseType="arraybuffer",Rr(e.onError,"Expected `onError` callback to be provided."),i.onerror=()=>{e.onError(i.status)},i.onreadystatechange=this.onStateChange.bind(this,r),i.onprogress=this.onProgress.bind(this,r),o.onHeadersReceived=e.onHeadersReceived,o.onDone=e.onDone,o.onError=e.onError,o.onProgress=e.onProgress,i.send(null),r}onProgress(e,i){var o;const r=this.pendingRequests[e];r&&((o=r.onProgress)==null||o.call(r,i))}onStateChange(e,i){const r=this.pendingRequests[e];if(!r)return;const o=r.xhr;if(o.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),o.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],o.status===0&&this.isHttp){r.onError(o.status);return}const l=o.status||mR;if(!(l===mR&&r.expectedStatus===gR)&&l!==r.expectedStatus){r.onError(o.status);return}const u=nCe(o);if(l===gR){const h=o.getResponseHeader("Content-Range"),m=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);m?r.onDone({begin:parseInt(m[1],10),chunk:u}):(yn('Missing or invalid "Content-Range" header.'),r.onError(0))}else u?r.onDone({begin:0,chunk:u}):r.onError(o.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const i=this.pendingRequests[e].xhr;delete this.pendingRequests[e],i.abort()}}class rCe{constructor(e){this._source=e,this._manager=new iCe(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const i=this._rangeRequestReaders.indexOf(e);i>=0&&this._rangeRequestReaders.splice(i,1)}getFullReader(){return Rr(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new sCe(this._manager,this._source),this._fullRequestReader}getRangeReader(e,i){const r=new oCe(this._manager,e,i);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var i;(i=this._fullRequestReader)==null||i.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class sCe{constructor(e,i){this._manager=e,this._url=i.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=i.disableRange||!1,this._contentLength=i.length,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,i=this._manager.getRequestXhr(e);this._manager._responseOrigin=SP(i.responseURL);const r=i.getAllResponseHeaders(),o=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(u=>{const[h,...m]=u.split(": ");return[h,m.join(": ")]}):[]),{allowRangeRequests:l,suggestedLength:c}=Lne({responseHeaders:o,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});l&&(this._isRangeSupported=!0),this._contentLength=c||this._contentLength,this._filename=Une(o),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=wA(e,this._url),this._headersCapability.reject(this._storedError);for(const i of this._requests)i.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var i;(i=this.onProgress)==null||i.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class oCe{constructor(e,i,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:i,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var i;const e=SP((i=this._manager.getRequestXhr(this._requestId))==null?void 0:i.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const i=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:i,done:!1}):this._queuedChunk=i,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=wA(e,this._url));for(const i of this._requests)i.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var i;this.isStreamingSupported||(i=this.onProgress)==null||i.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const i=this._queuedChunk;return this._queuedChunk=null,{value:i,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const aCe=/^[a-z][a-z0-9\-+.]+:/i;function lCe(n){if(aCe.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class cCe{constructor(e){this.source=e,this.url=lCe(e.url),Rr(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Rr(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new uCe(this),this._fullRequestReader}getRangeReader(e,i){if(i<=this._progressiveDataLength)return null;const r=new dCe(this,e,i);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var i;(i=this._fullRequestReader)==null||i.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class uCe{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const i=e.source;this._contentLength=i.length,this._loaded=0,this._filename=null,this._disableRange=i.disableRange||!1,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!i.disableStream,this._isRangeSupported=!i.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(o=>{this._contentLength=o.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},o=>{o.code==="ENOENT"&&(o=wA(0,this._url.href)),this._storedError=o,this._headersCapability.reject(o)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",i=>{this._error(i)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Wm("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class dCe{constructor(e,i,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const o=e.source;this._isStreamingSupported=!o.disableStream;const l=process.getBuiltinModule("fs");this._setReadableStream(l.createReadStream(this._url,{start:i,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",i=>{this._error(i)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const hCe=1e5,iG=30;var uG,nm,pa,tS,nS,Vb,Vh,iS,rS,Wb,$w,qw,im,Hw,sS,Gw,$b,oS,aS,Xw,qb,lS,rm,Yw,Af,Wne,$ne,LO,ml,lN,UO,qne,Hne;const $r=class $r{constructor({textContentSource:e,container:i,viewport:r}){pe(this,Af);pe(this,nm,Promise.withResolvers());pe(this,pa,null);pe(this,tS,!1);pe(this,nS,!!((uG=globalThis.FontInspector)!=null&&uG.enabled));pe(this,Vb,null);pe(this,Vh,null);pe(this,iS,0);pe(this,rS,0);pe(this,Wb,null);pe(this,$w,null);pe(this,qw,0);pe(this,im,0);pe(this,Hw,Object.create(null));pe(this,sS,[]);pe(this,Gw,null);pe(this,$b,[]);pe(this,oS,new WeakMap);pe(this,aS,null);var h;if(e instanceof ReadableStream)te(this,Gw,e);else if(typeof e=="object")te(this,Gw,new ReadableStream({start(m){m.enqueue(e),m.close()}}));else throw new Error('No "textContentSource" parameter specified.');te(this,pa,te(this,$w,i)),te(this,im,r.scale*Sf.pixelRatio),te(this,qw,r.rotation),te(this,Vh,{div:null,properties:null,ctx:null});const{pageWidth:o,pageHeight:l,pageX:c,pageY:u}=r.rawDims;te(this,aS,[1,0,0,-1,-c,u+l]),te(this,rS,o),te(this,iS,l),me(h=$r,ml,qne).call(h),V0(i,r),P(this,nm).promise.finally(()=>{P($r,Yw).delete(this),te(this,Vh,null),te(this,Hw,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:i}=Vs.platform;return Tn(this,"fontFamilyMap",new Map([["sans-serif",`${e&&i?"Calibri, ":""}sans-serif`],["monospace",`${e&&i?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{P(this,Wb).read().then(({value:i,done:r})=>{if(r){P(this,nm).resolve();return}P(this,Vb)??te(this,Vb,i.lang),Object.assign(P(this,Hw),i.styles),me(this,Af,Wne).call(this,i.items),e()},P(this,nm).reject)};return te(this,Wb,P(this,Gw).getReader()),P($r,Yw).add(this),e(),P(this,nm).promise}update({viewport:e,onBefore:i=null}){var l;const r=e.scale*Sf.pixelRatio,o=e.rotation;if(o!==P(this,qw)&&(i==null||i(),te(this,qw,o),V0(P(this,$w),{rotation:o})),r!==P(this,im)){i==null||i(),te(this,im,r);const c={div:null,properties:null,ctx:me(l=$r,ml,lN).call(l,P(this,Vb))};for(const u of P(this,$b))c.properties=P(this,oS).get(u),c.div=u,me(this,Af,LO).call(this,c)}}cancel(){var i;const e=new Wm("TextLayer task cancelled.");(i=P(this,Wb))==null||i.cancel(e).catch(()=>{}),te(this,Wb,null),P(this,nm).reject(e)}get textDivs(){return P(this,$b)}get textContentItemsStr(){return P(this,sS)}static cleanup(){if(!(P(this,Yw).size>0)){P(this,Xw).clear();for(const{canvas:e}of P(this,qb).values())e.remove();P(this,qb).clear()}}};nm=new WeakMap,pa=new WeakMap,tS=new WeakMap,nS=new WeakMap,Vb=new WeakMap,Vh=new WeakMap,iS=new WeakMap,rS=new WeakMap,Wb=new WeakMap,$w=new WeakMap,qw=new WeakMap,im=new WeakMap,Hw=new WeakMap,sS=new WeakMap,Gw=new WeakMap,$b=new WeakMap,oS=new WeakMap,aS=new WeakMap,Xw=new WeakMap,qb=new WeakMap,lS=new WeakMap,rm=new WeakMap,Yw=new WeakMap,Af=new WeakSet,Wne=function(e){var o,l;if(P(this,tS))return;(l=P(this,Vh)).ctx??(l.ctx=me(o=$r,ml,lN).call(o,P(this,Vb)));const i=P(this,$b),r=P(this,sS);for(const c of e){if(i.length>hCe){yn("Ignoring additional textDivs for performance reasons."),te(this,tS,!0);return}if(c.str===void 0){if(c.type==="beginMarkedContentProps"||c.type==="beginMarkedContent"){const u=P(this,pa);te(this,pa,document.createElement("span")),P(this,pa).classList.add("markedContent"),c.id!==null&&P(this,pa).setAttribute("id",`${c.id}`),u.append(P(this,pa))}else c.type==="endMarkedContent"&&te(this,pa,P(this,pa).parentNode);continue}r.push(c.str),me(this,Af,$ne).call(this,c)}},$ne=function(e){var S;const i=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};P(this,$b).push(i);const o=Kt.transform(P(this,aS),e.transform);let l=Math.atan2(o[1],o[0]);const c=P(this,Hw)[e.fontName];c.vertical&&(l+=Math.PI/2);let u=P(this,nS)&&c.fontSubstitution||c.fontFamily;u=$r.fontFamilyMap.get(u)||u;const h=Math.hypot(o[2],o[3]),m=h*me(S=$r,ml,Hne).call(S,u,c,P(this,Vb));let g,y;l===0?(g=o[4],y=o[5]-m):(g=o[4]+m*Math.sin(l),y=o[5]-m*Math.cos(l));const v="calc(var(--total-scale-factor) *",_=i.style;P(this,pa)===P(this,$w)?(_.left=`${(100*g/P(this,rS)).toFixed(2)}%`,_.top=`${(100*y/P(this,iS)).toFixed(2)}%`):(_.left=`${v}${g.toFixed(2)}px)`,_.top=`${v}${y.toFixed(2)}px)`),_.fontSize=`${v}${(P($r,rm)*h).toFixed(2)}px)`,_.fontFamily=u,r.fontSize=h,i.setAttribute("role","presentation"),i.textContent=e.str,i.dir=e.dir,P(this,nS)&&(i.dataset.fontName=c.fontSubstitutionLoadedName||e.fontName),l!==0&&(r.angle=l*(180/Math.PI));let A=!1;if(e.str.length>1)A=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const T=Math.abs(e.transform[0]),C=Math.abs(e.transform[3]);T!==C&&Math.max(T,C)/Math.min(T,C)>1.5&&(A=!0)}if(A&&(r.canvasWidth=c.vertical?e.height:e.width),P(this,oS).set(i,r),P(this,Vh).div=i,P(this,Vh).properties=r,me(this,Af,LO).call(this,P(this,Vh)),r.hasText&&P(this,pa).append(i),r.hasEOL){const T=document.createElement("br");T.setAttribute("role","presentation"),P(this,pa).append(T)}},LO=function(e){var u;const{div:i,properties:r,ctx:o}=e,{style:l}=i;let c="";if(P($r,rm)>1&&(c=`scale(${1/P($r,rm)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:h}=l,{canvasWidth:m,fontSize:g}=r;me(u=$r,ml,UO).call(u,o,g*P(this,im),h);const{width:y}=o.measureText(i.textContent);y>0&&(c=`scaleX(${m*P(this,im)/y}) ${c}`)}r.angle!==0&&(c=`rotate(${r.angle}deg) ${c}`),c.length>0&&(l.transform=c)},ml=new WeakSet,lN=function(e=null){let i=P(this,qb).get(e||(e=""));if(!i){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),i=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),P(this,qb).set(e,i),P(this,lS).set(i,{size:0,family:""})}return i},UO=function(e,i,r){const o=P(this,lS).get(e);i===o.size&&r===o.family||(e.font=`${i}px ${r}`,o.size=i,o.family=r)},qne=function(){if(P(this,rm)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),te(this,rm,e.getBoundingClientRect().height),e.remove()},Hne=function(e,i,r){const o=P(this,Xw).get(e);if(o)return o;const l=me(this,ml,lN).call(this,r);l.canvas.width=l.canvas.height=iG,me(this,ml,UO).call(this,l,iG,e);const c=l.measureText(""),u=c.fontBoundingBoxAscent,h=Math.abs(c.fontBoundingBoxDescent);l.canvas.width=l.canvas.height=0;let m=.8;return u?m=u/(u+h):(Vs.platform.isFirefox&&yn("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),i.ascent?m=i.ascent:i.descent&&(m=1+i.descent)),P(this,Xw).set(e,m),m},pe($r,ml),pe($r,Xw,new Map),pe($r,qb,new Map),pe($r,lS,new WeakMap),pe($r,rm,null),pe($r,Yw,new Set);let wE=$r;class xE{static textContent(e){const i=[],r={items:i,styles:Object.create(null)};function o(l){var h;if(!l)return;let c=null;const u=l.name;if(u==="#text")c=l.value;else if(xE.shouldBuildText(u))(h=l==null?void 0:l.attributes)!=null&&h.textContent?c=l.attributes.textContent:l.value&&(c=l.value);else return;if(c!==null&&i.push({str:c}),!!l.children)for(const m of l.children)o(m)}return o(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const fCe=65536,pCe=100;function Gne(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new zO,{docId:i}=e,r=n.url?mCe(n.url):null,o=n.data?gCe(n.data):null,l=n.httpHeaders||null,c=n.withCredentials===!0,u=n.password??null,h=n.range instanceof Xne?n.range:null,m=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:fCe;let g=n.worker instanceof xw?n.worker:null;const y=n.verbosity,v=typeof n.docBaseUrl=="string"&&!EP(n.docBaseUrl)?n.docBaseUrl:null,_=AD(n.cMapUrl),A=n.cMapPacked!==!1,S=n.CMapReaderFactory||(Vo?ITe:$H),T=AD(n.iccUrl),C=AD(n.standardFontDataUrl),N=n.StandardFontDataFactory||(Vo?jTe:qH),I=AD(n.wasmUrl),O=n.WasmFactory||(Vo?RTe:HH),F=n.stopAtErrors!==!0,L=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,z=n.isEvalSupported!==!1,B=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Vo,Y=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!Vo&&(Vs.platform.isFirefox||!globalThis.chrome),se=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,de=typeof n.disableFontFace=="boolean"?n.disableFontFace:Vo,J=n.fontExtraProperties===!0,be=n.enableXfa===!0,q=n.ownerDocument||globalThis.document,Te=n.disableRange===!0,ie=n.disableStream===!0,ce=n.disableAutoFetch===!0,X=n.pdfBug===!0,K=n.CanvasFactory||(Vo?PTe:CTe),ne=n.FilterFactory||(Vo?NTe:DTe),ee=n.enableHWA===!0,ue=n.useWasm!==!1,Q=h?h.length:n.length??NaN,fe=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Vo&&!de,Se=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(S===$H&&N===qH&&O===HH&&_&&C&&I&&Rv(_,document.baseURI)&&Rv(C,document.baseURI)&&Rv(I,document.baseURI)),Oe=null;aTe(y);const Ie={canvasFactory:new K({ownerDocument:q,enableHWA:ee}),filterFactory:new ne({docId:i,ownerDocument:q}),cMapReaderFactory:Se?null:new S({baseUrl:_,isCompressed:A}),standardFontDataFactory:Se?null:new N({baseUrl:C}),wasmFactory:Se?null:new O({baseUrl:I})};if(!g){const Fe={verbosity:y,port:_d.workerPort};g=Fe.port?xw.fromPort(Fe):new xw(Fe),e._worker=g}const je={docId:i,apiVersion:"5.2.133",data:o,password:u,disableAutoFetch:ce,rangeChunkSize:m,length:Q,docBaseUrl:v,enableXfa:be,evaluatorOptions:{maxImageSize:L,disableFontFace:de,ignoreErrors:F,isEvalSupported:z,isOffscreenCanvasSupported:B,isImageDecoderSupported:Y,canvasMaxAreaInBytes:se,fontExtraProperties:J,useSystemFonts:fe,useWasm:ue,useWorkerFetch:Se,cMapUrl:_,iccUrl:T,standardFontDataUrl:C,wasmUrl:I}},Be={ownerDocument:q,pdfBug:X,styleElement:Oe,loadingParams:{disableAutoFetch:ce,enableXfa:be}};return g.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const Fe=g.messageHandler.sendWithPromise("GetDocRequest",je,o?[o.buffer]:null);let Ae;if(h)Ae=new KTe(h,{disableRange:Te,disableStream:ie});else if(!o){if(!r)throw new Error("getDocument - no `url` parameter provided.");let ke;if(Vo)if(Rv(r)){if(typeof fetch>"u"||typeof Response>"u"||!("body"in Response.prototype))throw new Error("getDocument - the Fetch API was disabled in Node.js, see `--no-experimental-fetch`.");ke=nG}else ke=cCe;else ke=Rv(r)?nG:rCe;Ae=new ke({url:r,length:Q,httpHeaders:l,withCredentials:c,rangeChunkSize:m,disableRange:Te,disableStream:ie})}return Fe.then(ke=>{if(e.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const ze=new Qk(i,ke,g.port),$=new _Ce(ze,e,Ae,Be,Ie);e._transport=$,ze.send("Ready",null)})}).catch(e._capability.reject),e}function mCe(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(Vo)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function gCe(n){if(Vo&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return gA(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function AD(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const BO=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,bCe=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",yCe=gTe.bind(null,BO,bCe);var B5;const z5=class z5{constructor(){yt(this,"_capability",Promise.withResolvers());yt(this,"_transport",null);yt(this,"_worker",null);yt(this,"docId",`d${Ro(z5,B5)._++}`);yt(this,"destroyed",!1);yt(this,"onPassword",null);yt(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,i,r,o;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((i=this._transport)==null?void 0:i.destroy())}catch(l){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,l}this._transport=null,(o=this._worker)==null||o.destroy(),this._worker=null}async getData(){return this._transport.getData()}};B5=new WeakMap,pe(z5,B5,0);let zO=z5;class Xne{constructor(e,i,r=!1,o=null){this.length=e,this.initialData=i,this.progressiveDone=r,this.contentDispositionFilename=o,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,i){for(const r of this._rangeListeners)r(e,i)}onDataProgress(e,i){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,i)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const i of this._progressiveReadListeners)i(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,i){mi("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class vCe{constructor(e,i){this._pdfInfo=e,this._transport=i}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Tn(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:i}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(i)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Wh,Hb,r2;class wCe{constructor(e,i,r,o=!1){pe(this,Hb);pe(this,Wh,!1);this._pageIndex=e,this._pageInfo=i,this._transport=r,this._stats=o?new zH:null,this._pdfBug=o,this.commonObjs=r.commonObjs,this.objs=new Yne,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:i=this.rotate,offsetX:r=0,offsetY:o=0,dontFlip:l=!1}={}){return new yA({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:i,offsetX:r,offsetY:o,dontFlip:l})}getAnnotations({intent:e="display"}={}){const{renderingIntent:i}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,i)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Tn(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:i,intent:r="display",annotationMode:o=Up.ENABLE,transform:l=null,background:c=null,optionalContentConfigPromise:u=null,annotationCanvasMap:h=null,pageColors:m=null,printAnnotationStorage:g=null,isEditing:y=!1}){var O,F;(O=this._stats)==null||O.time("Overall");const v=this._transport.getRenderingIntent(r,o,g,y),{renderingIntent:_,cacheKey:A}=v;te(this,Wh,!1),u||(u=this._transport.getOptionalContentConfig(_));let S=this._intentStates.get(A);S||(S=Object.create(null),this._intentStates.set(A,S)),S.streamReaderCancelTimeout&&(clearTimeout(S.streamReaderCancelTimeout),S.streamReaderCancelTimeout=null);const T=!!(_&ll.PRINT);S.displayReadyCapability||(S.displayReadyCapability=Promise.withResolvers(),S.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(F=this._stats)==null||F.time("Page Request"),this._pumpOperatorList(v));const C=L=>{var z;S.renderTasks.delete(N),T&&te(this,Wh,!0),me(this,Hb,r2).call(this),L?(N.capability.reject(L),this._abortOperatorList({intentState:S,reason:L instanceof Error?L:new Error(L)})):N.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(z=globalThis.Stats)!=null&&z.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},N=new WO({callback:C,params:{canvasContext:e,viewport:i,transform:l,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:h,operatorList:S.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!T,pdfBug:this._pdfBug,pageColors:m});(S.renderTasks||(S.renderTasks=new Set)).add(N);const I=N.task;return Promise.all([S.displayReadyCapability.promise,u]).then(([L,z])=>{var B;if(this.destroyed){C();return}if((B=this._stats)==null||B.time("Rendering"),!(z.renderingIntent&_))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");N.initializeGraphics({transparency:L,optionalContentConfig:z}),N.operatorListChanged()}).catch(C),I}getOperatorList({intent:e="display",annotationMode:i=Up.ENABLE,printAnnotationStorage:r=null,isEditing:o=!1}={}){var m;function l(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(h))}const c=this._transport.getRenderingIntent(e,i,r,o,!0);let u=this._intentStates.get(c.cacheKey);u||(u=Object.create(null),this._intentStates.set(c.cacheKey,u));let h;return u.opListReadCapability||(h=Object.create(null),h.operatorListChanged=l,u.opListReadCapability=Promise.withResolvers(),(u.renderTasks||(u.renderTasks=new Set)).add(h),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(m=this._stats)==null||m.time("Page Request"),this._pumpOperatorList(c)),u.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:i=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:i===!0},{highWaterMark:100,size(o){return o.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>xE.textContent(r));const i=this.streamTextContent(e);return new Promise(function(r,o){function l(){c.read().then(function({value:h,done:m}){if(m){r(u);return}u.lang??(u.lang=h.lang),Object.assign(u.styles,h.styles),u.items.push(...h.items),l()},o)}const c=i.getReader(),u={items:[],styles:Object.create(null),lang:null};l()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const i of this._intentStates.values())if(this._abortOperatorList({intentState:i,reason:new Error("Page was destroyed."),force:!0}),!i.opListReadCapability)for(const r of i.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),te(this,Wh,!1),Promise.all(e)}cleanup(e=!1){te(this,Wh,!0);const i=me(this,Hb,r2).call(this);return e&&i&&this._stats&&(this._stats=new zH),i}_startRenderPage(e,i){var o,l;const r=this._intentStates.get(i);r&&((o=this._stats)==null||o.timeEnd("Page Request"),(l=r.displayReadyCapability)==null||l.resolve(e))}_renderPageChunk(e,i){for(let r=0,o=e.length;r<o;r++)i.operatorList.fnArray.push(e.fnArray[r]),i.operatorList.argsArray.push(e.argsArray[r]);i.operatorList.lastChunk=e.lastChunk,i.operatorList.separateAnnots=e.separateAnnots;for(const r of i.renderTasks)r.operatorListChanged();e.lastChunk&&me(this,Hb,r2).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:i,annotationStorageSerializable:r,modifiedIds:o}){const{map:l,transfer:c}=r,h=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:i,annotationStorage:l,modifiedIds:o},c).getReader(),m=this._intentStates.get(i);m.streamReader=h;const g=()=>{h.read().then(({value:y,done:v})=>{if(v){m.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(y,m),g())},y=>{if(m.streamReader=null,!this._transport.destroyed){if(m.operatorList){m.operatorList.lastChunk=!0;for(const v of m.renderTasks)v.operatorListChanged();me(this,Hb,r2).call(this)}if(m.displayReadyCapability)m.displayReadyCapability.reject(y);else if(m.opListReadCapability)m.opListReadCapability.reject(y);else throw y}})};g()}_abortOperatorList({intentState:e,reason:i,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(i instanceof VL){let o=pCe;i.extraDelay>0&&i.extraDelay<1e3&&(o+=i.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:i,force:!0})},o);return}}if(e.streamReader.cancel(new Wm(i.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[o,l]of this._intentStates)if(l===e){this._intentStates.delete(o);break}this.cleanup()}}}get stats(){return this._stats}}Wh=new WeakMap,Hb=new WeakSet,r2=function(){if(!P(this,Wh)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:i}of this._intentStates.values())if(e.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),te(this,Wh,!1),!0};var $h,V5;class xCe{constructor(){pe(this,$h,new Map);pe(this,V5,Promise.resolve())}postMessage(e,i){const r={data:structuredClone(e,i?{transfer:i}:null)};P(this,V5).then(()=>{for(const[o]of P(this,$h))o.call(this,r)})}addEventListener(e,i,r=null){let o=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:l}=r;if(l.aborted){yn("LoopbackPort - cannot use an `aborted` signal.");return}const c=()=>this.removeEventListener(e,i);o=()=>l.removeEventListener("abort",c),l.addEventListener("abort",c)}P(this,$h).set(i,o)}removeEventListener(e,i){const r=P(this,$h).get(i);r==null||r(),P(this,$h).delete(i)}terminate(){for(const[,e]of P(this,$h))e==null||e();P(this,$h).clear()}}$h=new WeakMap,V5=new WeakMap;var W5,Gb,Xb,Kw,cN,Zw,uN;const Bi=class Bi{constructor({name:e=null,port:i=null,verbosity:r=lTe()}={}){pe(this,Kw);var o;if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,i){if((o=P(Bi,Xb))!=null&&o.has(i))throw new Error("Cannot use more than one PDFWorker per port.");(P(Bi,Xb)||te(Bi,Xb,new WeakMap)).set(i,this),this._initializeFromPort(i);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Qk("main","worker",e),this._messageHandler.on("ready",function(){}),me(this,Kw,cN).call(this)}_initialize(){if(P(Bi,Gb)||P(Bi,Zw,uN)){this._setupFakeWorker();return}let{workerSrc:e}=Bi;try{Bi._isSameOrigin(window.location,e)||(e=Bi._createCDNWrapper(new URL(e,window.location).href));const i=new Worker(e,{type:"module"}),r=new Qk("main","worker",i),o=()=>{l.abort(),r.destroy(),i.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},l=new AbortController;i.addEventListener("error",()=>{this._webWorker||o()},{signal:l.signal}),r.on("test",u=>{if(l.abort(),this.destroyed||!u){o();return}this._messageHandler=r,this._port=i,this._webWorker=i,me(this,Kw,cN).call(this)}),r.on("ready",u=>{if(l.abort(),this.destroyed){o();return}try{c()}catch{this._setupFakeWorker()}});const c=()=>{const u=new Uint8Array;r.send("test",u,[u.buffer])};c();return}catch{kP("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){P(Bi,Gb)||(yn("Setting up fake worker."),te(Bi,Gb,!0)),Bi._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const i=new xCe;this._port=i;const r=`fake${Ro(Bi,W5)._++}`,o=new Qk(r+"_worker",r,i);e.setup(o,i),this._messageHandler=new Qk(r,r+"_worker",i),me(this,Kw,cN).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e,i,r;this.destroyed=!0,(e=this._webWorker)==null||e.terminate(),this._webWorker=null,(i=P(Bi,Xb))==null||i.delete(this._port),this._port=null,(r=this._messageHandler)==null||r.destroy(),this._messageHandler=null}static fromPort(e){var r;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const i=(r=P(this,Xb))==null?void 0:r.get(e.port);if(i){if(i._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return i}return new Bi(e)}static get workerSrc(){if(_d.workerSrc)return _d.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Tn(this,"_setupFakeWorkerGlobal",(async()=>P(this,Zw,uN)?P(this,Zw,uN):(await import(this.workerSrc)).WorkerMessageHandler)())}};W5=new WeakMap,Gb=new WeakMap,Xb=new WeakMap,Kw=new WeakSet,cN=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Zw=new WeakSet,uN=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},pe(Bi,Zw),pe(Bi,W5,0),pe(Bi,Gb,!1),pe(Bi,Xb),Vo&&(te(Bi,Gb,!0),_d.workerSrc||(_d.workerSrc="./pdf.worker.mjs")),Bi._isSameOrigin=(e,i)=>{const r=URL.parse(e);if(!(r!=null&&r.origin)||r.origin==="null")return!1;const o=new URL(i,r);return r.origin===o.origin},Bi._createCDNWrapper=e=>{const i=`await import("${e}");`;return URL.createObjectURL(new Blob([i],{type:"text/javascript"}))};let xw=Bi;var qh,hd,Jw,Qw,Hh,Yb,s2;class _Ce{constructor(e,i,r,o,l){pe(this,Yb);pe(this,qh,new Map);pe(this,hd,new Map);pe(this,Jw,new Map);pe(this,Qw,new Map);pe(this,Hh,null);this.messageHandler=e,this.loadingTask=i,this.commonObjs=new Yne,this.fontLoader=new ATe({ownerDocument:o.ownerDocument,styleElement:o.styleElement}),this.loadingParams=o.loadingParams,this._params=o,this.canvasFactory=l.canvasFactory,this.filterFactory=l.filterFactory,this.cMapReaderFactory=l.cMapReaderFactory,this.standardFontDataFactory=l.standardFontDataFactory,this.wasmFactory=l.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Tn(this,"annotationStorage",new GL)}getRenderingIntent(e,i=Up.ENABLE,r=null,o=!1,l=!1){let c=ll.DISPLAY,u=DO;switch(e){case"any":c=ll.ANY;break;case"display":break;case"print":c=ll.PRINT;break;default:yn(`getRenderingIntent - invalid intent: ${e}`)}const h=c&ll.PRINT&&r instanceof Tne?r:this.annotationStorage;switch(i){case Up.DISABLE:c+=ll.ANNOTATIONS_DISABLE;break;case Up.ENABLE:break;case Up.ENABLE_FORMS:c+=ll.ANNOTATIONS_FORMS;break;case Up.ENABLE_STORAGE:c+=ll.ANNOTATIONS_STORAGE,u=h.serializable;break;default:yn(`getRenderingIntent - invalid annotationMode: ${i}`)}o&&(c+=ll.IS_EDITING),l&&(c+=ll.OPLIST);const{ids:m,hash:g}=h.modifiedIds,y=[c,u.hash,g];return{renderingIntent:c,cacheKey:y.join("_"),annotationStorageSerializable:u,modifiedIds:m}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=P(this,Hh))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const o of P(this,hd).values())e.push(o._destroy());P(this,hd).clear(),P(this,Jw).clear(),P(this,Qw).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const i=this.messageHandler.sendWithPromise("Terminate",null);return e.push(i),Promise.all(e).then(()=>{var o,l;this.commonObjs.clear(),this.fontLoader.clear(),P(this,qh).clear(),this.filterFactory.destroy(),wE.cleanup(),(o=this._networkStream)==null||o.cancelAllRequests(new Wm("Worker was terminated.")),(l=this.messageHandler)==null||l.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:i}=this;e.on("GetReader",(r,o)=>{Rr(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=l=>{this._lastProgress={loaded:l.loaded,total:l.total}},o.onPull=()=>{this._fullReader.read().then(function({value:l,done:c}){if(c){o.close();return}Rr(l instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),o.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{o.error(l)})},o.onCancel=l=>{this._fullReader.cancel(l),o.ready.catch(c=>{if(!this.destroyed)throw c})}}),e.on("ReaderHeadersReady",async r=>{var u;await this._fullReader.headersReady;const{isStreamingSupported:o,isRangeSupported:l,contentLength:c}=this._fullReader;return(!o||!l)&&(this._lastProgress&&((u=i.onProgress)==null||u.call(i,this._lastProgress)),this._fullReader.onProgress=h=>{var m;(m=i.onProgress)==null||m.call(i,{loaded:h.loaded,total:h.total})}),{isStreamingSupported:o,isRangeSupported:l,contentLength:c}}),e.on("GetRangeReader",(r,o)=>{Rr(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const l=this._networkStream.getRangeReader(r.begin,r.end);if(!l){o.close();return}o.onPull=()=>{l.read().then(function({value:c,done:u}){if(u){o.close();return}Rr(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),o.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{o.error(c)})},o.onCancel=c=>{l.cancel(c),o.ready.catch(u=>{if(!this.destroyed)throw u})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,i._capability.resolve(new vCe(r,this))}),e.on("DocException",r=>{i._capability.reject(da(r))}),e.on("PasswordRequest",r=>{te(this,Hh,Promise.withResolvers());try{if(!i.onPassword)throw da(r);const o=l=>{l instanceof Error?P(this,Hh).reject(l):P(this,Hh).resolve({password:l})};i.onPassword(o,r.code)}catch(o){P(this,Hh).reject(o)}return P(this,Hh).promise}),e.on("DataLoaded",r=>{var o;(o=i.onProgress)==null||o.call(i,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;P(this,hd).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,o,l])=>{var c;if(this.destroyed||this.commonObjs.has(r))return null;switch(o){case"Font":if("error"in l){const g=l.error;yn(`Error during font loading: ${g}`),this.commonObjs.resolve(r,g);break}const u=this._params.pdfBug&&((c=globalThis.FontInspector)!=null&&c.enabled)?(g,y)=>globalThis.FontInspector.fontAdded(g,y):null,h=new TTe(l,u);this.fontLoader.bind(h).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!h.fontExtraProperties&&h.data&&(h.data=null),this.commonObjs.resolve(r,h)});break;case"CopyLocalImage":const{imageRef:m}=l;Rr(m,"The imageRef must be defined.");for(const g of P(this,hd).values())for(const[,y]of g.objs)if((y==null?void 0:y.ref)===m)return y.dataLen?(this.commonObjs.resolve(r,structuredClone(y)),y.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,l);break;default:throw new Error(`Got unknown common object type ${o}`)}return null}),e.on("obj",([r,o,l,c])=>{var h;if(this.destroyed)return;const u=P(this,hd).get(o);if(!u.objs.has(r)){if(u._intentStates.size===0){(h=c==null?void 0:c.bitmap)==null||h.close();return}switch(l){case"Image":case"Pattern":u.objs.resolve(r,c);break;default:throw new Error(`Got unknown object type ${l}`)}}}),e.on("DocProgress",r=>{var o;this.destroyed||(o=i.onProgress)==null||o.call(i,{loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const o=this[r.type];if(!o)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return o.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&yn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:i}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},i).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const i=e-1,r=P(this,Jw).get(i);if(r)return r;const o=this.messageHandler.sendWithPromise("GetPage",{pageIndex:i}).then(l=>{if(this.destroyed)throw new Error("Transport destroyed");l.refStr&&P(this,Qw).set(l.refStr,e);const c=new wCe(i,l,this,this._params.pdfBug);return P(this,hd).set(i,c),c});return P(this,Jw).set(i,o),o}getPageIndex(e){return BO(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,i){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:i})}getFieldObjects(){return me(this,Yb,s2).call(this,"GetFieldObjects")}hasJSActions(){return me(this,Yb,s2).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return me(this,Yb,s2).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return me(this,Yb,s2).call(this,"GetOptionalContentConfig").then(i=>new YTe(i,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",i=P(this,qh).get(e);if(i)return i;const r=this.messageHandler.sendWithPromise(e,null).then(o=>{var l,c;return{info:o[0],metadata:o[1]?new GTe(o[1]):null,contentDispositionFilename:((l=this._fullReader)==null?void 0:l.filename)??null,contentLength:((c=this._fullReader)==null?void 0:c.contentLength)??null}});return P(this,qh).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const i of P(this,hd).values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),P(this,qh).clear(),this.filterFactory.destroy(!0),wE.cleanup()}}cachedPageNumber(e){if(!BO(e))return null;const i=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return P(this,Qw).get(i)??null}}qh=new WeakMap,hd=new WeakMap,Jw=new WeakMap,Qw=new WeakMap,Hh=new WeakMap,Yb=new WeakSet,s2=function(e,i=null){const r=P(this,qh).get(e);if(r)return r;const o=this.messageHandler.sendWithPromise(e,i);return P(this,qh).set(e,o),o};const Uk=Symbol("INITIAL_DATA");var Ja,cS,VO;class Yne{constructor(){pe(this,cS);pe(this,Ja,Object.create(null))}get(e,i=null){if(i){const o=me(this,cS,VO).call(this,e);return o.promise.then(()=>i(o.data)),null}const r=P(this,Ja)[e];if(!r||r.data===Uk)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const i=P(this,Ja)[e];return!!i&&i.data!==Uk}delete(e){const i=P(this,Ja)[e];return!i||i.data===Uk?!1:(delete P(this,Ja)[e],!0)}resolve(e,i=null){const r=me(this,cS,VO).call(this,e);r.data=i,r.resolve()}clear(){var e;for(const i in P(this,Ja)){const{data:r}=P(this,Ja)[i];(e=r==null?void 0:r.bitmap)==null||e.close()}te(this,Ja,Object.create(null))}*[Symbol.iterator](){for(const e in P(this,Ja)){const{data:i}=P(this,Ja)[e];i!==Uk&&(yield[e,i])}}}Ja=new WeakMap,cS=new WeakSet,VO=function(e){var i;return(i=P(this,Ja))[e]||(i[e]={...Promise.withResolvers(),data:Uk})};var sm;class kCe{constructor(e){pe(this,sm,null);yt(this,"onContinue",null);yt(this,"onError",null);te(this,sm,e)}get promise(){return P(this,sm).capability.promise}cancel(e=0){P(this,sm).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=P(this,sm).operatorList;if(!e)return!1;const{annotationCanvasMap:i}=P(this,sm);return e.form||e.canvas&&(i==null?void 0:i.size)>0}}sm=new WeakMap;var om,Kb;const hb=class hb{constructor({callback:e,params:i,objs:r,commonObjs:o,annotationCanvasMap:l,operatorList:c,pageIndex:u,canvasFactory:h,filterFactory:m,useRequestAnimationFrame:g=!1,pdfBug:y=!1,pageColors:v=null}){pe(this,om,null);this.callback=e,this.params=i,this.objs=r,this.commonObjs=o,this.annotationCanvasMap=l,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=u,this.canvasFactory=h,this.filterFactory=m,this._pdfBug=y,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=g===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new kCe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=i.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:i}){var u,h;if(this.cancelled)return;if(this._canvas){if(P(hb,Kb).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");P(hb,Kb).add(this._canvas)}this._pdfBug&&((u=globalThis.StepperManager)!=null&&u.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:o,transform:l,background:c}=this.params;this.gfx=new ww(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:i},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:l,viewport:o,transparency:e,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,(h=this.graphicsReadyCallback)==null||h.call(this)}cancel(e=null,i=0){var r,o,l;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),P(this,om)&&(window.cancelAnimationFrame(P(this,om)),te(this,om,null)),P(hb,Kb).delete(this._canvas),e||(e=new VL(`Rendering cancelled, page ${this._pageIndex+1}`,i)),this.callback(e),(l=(o=this.task).onError)==null||l.call(o,e)}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?te(this,om,window.requestAnimationFrame(()=>{te(this,om,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),P(hb,Kb).delete(this._canvas),this.callback())))}};om=new WeakMap,Kb=new WeakMap,pe(hb,Kb,new WeakSet);let WO=hb;const ECe="5.2.133",SCe="4f7761353";function rG(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Bk(n){return Math.max(0,Math.min(255,255*n))}class sG{static CMYK_G([e,i,r,o]){return["G",1-Math.min(1,.3*e+.59*r+.11*i+o)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Bk(e),[e,e,e]}static G_HTML([e]){const i=rG(e);return`#${i}${i}${i}`}static RGB_G([e,i,r]){return["G",.3*e+.59*i+.11*r]}static RGB_rgb(e){return e.map(Bk)}static RGB_HTML(e){return`#${e.map(rG).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,i,r,o]){return["RGB",1-Math.min(1,e+o),1-Math.min(1,r+o),1-Math.min(1,i+o)]}static CMYK_rgb([e,i,r,o]){return[Bk(1-Math.min(1,e+o)),Bk(1-Math.min(1,r+o)),Bk(1-Math.min(1,i+o))]}static CMYK_HTML(e){const i=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(i)}static RGB_CMYK([e,i,r]){const o=1-e,l=1-i,c=1-r,u=Math.min(o,l,c);return["CMYK",o,l,c,u]}}class ACe{create(e,i,r=!1){if(e<=0||i<=0)throw new Error("Invalid SVG dimensions");const o=this._createSVG("svg:svg");return o.setAttribute("version","1.1"),r||(o.setAttribute("width",`${e}px`),o.setAttribute("height",`${i}px`)),o.setAttribute("preserveAspectRatio","none"),o.setAttribute("viewBox",`0 0 ${e} ${i}`),o}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){mi("Abstract method `_createSVG` called.")}}class T5 extends ACe{_createSVG(e){return document.createElementNS(kh,e)}}class Kne{static setupStorage(e,i,r,o,l){const c=o.getValue(i,{value:null});switch(r.name){case"textarea":if(c.value!==null&&(e.textContent=c.value),l==="print")break;e.addEventListener("input",u=>{o.setValue(i,{value:u.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(c.value===r.attributes.xfaOn?e.setAttribute("checked",!0):c.value===r.attributes.xfaOff&&e.removeAttribute("checked"),l==="print")break;e.addEventListener("change",u=>{o.setValue(i,{value:u.target.checked?u.target.getAttribute("xfaOn"):u.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&e.setAttribute("value",c.value),l==="print")break;e.addEventListener("input",u=>{o.setValue(i,{value:u.target.value})})}break;case"select":if(c.value!==null){e.setAttribute("value",c.value);for(const u of r.children)u.attributes.value===c.value?u.attributes.selected=!0:u.attributes.hasOwnProperty("selected")&&delete u.attributes.selected}e.addEventListener("input",u=>{const h=u.target.options,m=h.selectedIndex===-1?"":h[h.selectedIndex].value;o.setValue(i,{value:m})});break}}static setAttributes({html:e,element:i,storage:r=null,intent:o,linkService:l}){const{attributes:c}=i,u=e instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${o}`);for(const[h,m]of Object.entries(c))if(m!=null)switch(h){case"class":m.length&&e.setAttribute(h,m.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",m);break;case"style":Object.assign(e.style,m);break;case"textContent":e.textContent=m;break;default:(!u||h!=="href"&&h!=="newWindow")&&e.setAttribute(h,m)}u&&l.addLinkAttributes(e,c.href,c.newWindow),r&&c.dataId&&this.setupStorage(e,c.dataId,i,r)}static render(e){var y,v;const i=e.annotationStorage,r=e.linkService,o=e.xfaHtml,l=e.intent||"display",c=document.createElement(o.name);o.attributes&&this.setAttributes({html:c,element:o,intent:l,linkService:r});const u=l!=="richText",h=e.div;if(h.append(c),e.viewport){const _=`matrix(${e.viewport.transform.join(",")})`;h.style.transform=_}u&&h.setAttribute("class","xfaLayer xfaFont");const m=[];if(o.children.length===0){if(o.value){const _=document.createTextNode(o.value);c.append(_),u&&xE.shouldBuildText(o.name)&&m.push(_)}return{textDivs:m}}const g=[[o,-1,c]];for(;g.length>0;){const[_,A,S]=g.at(-1);if(A+1===_.children.length){g.pop();continue}const T=_.children[++g.at(-1)[1]];if(T===null)continue;const{name:C}=T;if(C==="#text"){const I=document.createTextNode(T.value);m.push(I),S.append(I);continue}const N=(y=T==null?void 0:T.attributes)!=null&&y.xmlns?document.createElementNS(T.attributes.xmlns,C):document.createElement(C);if(S.append(N),T.attributes&&this.setAttributes({html:N,element:T,storage:i,intent:l,linkService:r}),((v=T.children)==null?void 0:v.length)>0)g.push([T,-1,N]);else if(T.value){const I=document.createTextNode(T.value);u&&xE.shouldBuildText(C)&&m.push(I),N.append(I)}}for(const _ of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))_.setAttribute("readOnly",!0);return{textDivs:m}}static update(e){const i=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=i,e.div.hidden=!1}}const xA=1e3,TCe=9,$0=new WeakSet;class oG{static create(e){switch(e.data.annotationType){case Pr.LINK:return new Zne(e);case Pr.TEXT:return new CCe(e);case Pr.WIDGET:switch(e.data.fieldType){case"Tx":return new DCe(e);case"Btn":return e.data.radioButton?new eie(e):e.data.checkBox?new PCe(e):new ICe(e);case"Ch":return new jCe(e);case"Sig":return new NCe(e)}return new ny(e);case Pr.POPUP:return new qO(e);case Pr.FREETEXT:return new sie(e);case Pr.LINE:return new MCe(e);case Pr.SQUARE:return new OCe(e);case Pr.CIRCLE:return new FCe(e);case Pr.POLYLINE:return new oie(e);case Pr.CARET:return new UCe(e);case Pr.INK:return new KL(e);case Pr.POLYGON:return new LCe(e);case Pr.HIGHLIGHT:return new aie(e);case Pr.UNDERLINE:return new BCe(e);case Pr.SQUIGGLY:return new zCe(e);case Pr.STRIKEOUT:return new VCe(e);case Pr.STAMP:return new lie(e);case Pr.FILEATTACHMENT:return new WCe(e);default:return new _r(e)}}}var Zb,e1,t1,uS,$O;const nU=class nU{constructor(e,{isRenderable:i=!1,ignoreBorder:r=!1,createQuadrilaterals:o=!1}={}){pe(this,uS);pe(this,Zb,null);pe(this,e1,!1);pe(this,t1,null);this.isRenderable=i,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,i&&(this.container=this._createContainer(r)),o&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:i,richText:r}){return!!(e!=null&&e.str||i!=null&&i.str||r!=null&&r.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return nU._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;P(this,Zb)||te(this,Zb,{rect:this.data.rect.slice(0)});const{rect:i}=e;i&&me(this,uS,$O).call(this,i),(r=P(this,t1))==null||r.popup.updateEdited(e)}resetEdited(){var e;P(this,Zb)&&(me(this,uS,$O).call(this,P(this,Zb).rect),(e=P(this,t1))==null||e.popup.resetEdited(),te(this,Zb,null))}_createContainer(e){const{data:i,parent:{page:r,viewport:o}}=this,l=document.createElement("section");l.setAttribute("data-annotation-id",i.id),this instanceof ny||(l.tabIndex=xA);const{style:c}=l;if(c.zIndex=this.parent.zIndex++,i.alternativeText&&(l.title=i.alternativeText),i.noRotate&&l.classList.add("norotate"),!i.rect||this instanceof qO){const{rotation:S}=i;return!i.hasOwnCanvas&&S!==0&&this.setRotation(S,l),l}const{width:u,height:h}=this;if(!e&&i.borderStyle.width>0){c.borderWidth=`${i.borderStyle.width}px`;const S=i.borderStyle.horizontalCornerRadius,T=i.borderStyle.verticalCornerRadius;if(S>0||T>0){const N=`calc(${S}px * var(--total-scale-factor)) / calc(${T}px * var(--total-scale-factor))`;c.borderRadius=N}else if(this instanceof eie){const N=`calc(${u}px * var(--total-scale-factor)) / calc(${h}px * var(--total-scale-factor))`;c.borderRadius=N}switch(i.borderStyle.style){case jv.SOLID:c.borderStyle="solid";break;case jv.DASHED:c.borderStyle="dashed";break;case jv.BEVELED:yn("Unimplemented border style: beveled");break;case jv.INSET:yn("Unimplemented border style: inset");break;case jv.UNDERLINE:c.borderBottomStyle="solid";break}const C=i.borderColor||null;C?(te(this,e1,!0),c.borderColor=Kt.makeHexColor(C[0]|0,C[1]|0,C[2]|0)):c.borderWidth=0}const m=Kt.normalizeRect([i.rect[0],r.view[3]-i.rect[1]+r.view[1],i.rect[2],r.view[3]-i.rect[3]+r.view[1]]),{pageWidth:g,pageHeight:y,pageX:v,pageY:_}=o.rawDims;c.left=`${100*(m[0]-v)/g}%`,c.top=`${100*(m[1]-_)/y}%`;const{rotation:A}=i;return i.hasOwnCanvas||A===0?(c.width=`${100*u/g}%`,c.height=`${100*h/y}%`):this.setRotation(A,l),l}setRotation(e,i=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:o}=this.parent.viewport.rawDims;let{width:l,height:c}=this;e%180!==0&&([l,c]=[c,l]),i.style.width=`${100*l/r}%`,i.style.height=`${100*c/o}%`,i.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(i,r,o)=>{const l=o.detail[i],c=l[0],u=l.slice(1);o.target.style[r]=sG[`${c}_HTML`](u),this.annotationStorage.setValue(this.data.id,{[r]:sG[`${c}_rgb`](u)})};return Tn(this,"_commonActions",{display:i=>{const{display:r}=i.detail,o=r%2===1;this.container.style.visibility=o?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:o,noPrint:r===1||r===2})},print:i=>{this.annotationStorage.setValue(this.data.id,{noPrint:!i.detail.print})},hidden:i=>{const{hidden:r}=i.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:i=>{setTimeout(()=>i.target.focus({preventScroll:!1}),0)},userName:i=>{i.target.title=i.detail.userName},readonly:i=>{i.target.disabled=i.detail.readonly},required:i=>{this._setRequired(i.target,i.detail.required)},bgColor:i=>{e("bgColor","backgroundColor",i)},fillColor:i=>{e("fillColor","backgroundColor",i)},fgColor:i=>{e("fgColor","color",i)},textColor:i=>{e("textColor","color",i)},borderColor:i=>{e("borderColor","borderColor",i)},strokeColor:i=>{e("strokeColor","borderColor",i)},rotation:i=>{const r=i.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,i){const r=this._commonActions;for(const o of Object.keys(i.detail)){const l=e[o]||r[o];l==null||l(i)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const i=this.annotationStorage.getRawValue(this.data.id);if(!i)return;const r=this._commonActions;for(const[o,l]of Object.entries(i)){const c=r[o];if(c){const u={detail:{[o]:l},target:e};c(u),delete i[o]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[i,r,o,l]=this.data.rect.map(S=>Math.fround(S));if(e.length===8){const[S,T,C,N]=e.subarray(2,6);if(o===S&&l===T&&i===C&&r===N)return}const{style:c}=this.container;let u;if(P(this,e1)){const{borderColor:S,borderWidth:T}=c;c.borderWidth=0,u=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${S}" stroke-width="${T}">`],this.container.classList.add("hasBorder")}const h=o-i,m=l-r,{svgFactory:g}=this,y=g.createElement("svg");y.classList.add("quadrilateralsContainer"),y.setAttribute("width",0),y.setAttribute("height",0);const v=g.createElement("defs");y.append(v);const _=g.createElement("clipPath"),A=`clippath_${this.data.id}`;_.setAttribute("id",A),_.setAttribute("clipPathUnits","objectBoundingBox"),v.append(_);for(let S=2,T=e.length;S<T;S+=8){const C=e[S],N=e[S+1],I=e[S+2],O=e[S+3],F=g.createElement("rect"),L=(I-i)/h,z=(l-N)/m,B=(C-I)/h,Y=(N-O)/m;F.setAttribute("x",L),F.setAttribute("y",z),F.setAttribute("width",B),F.setAttribute("height",Y),_.append(F),u==null||u.push(`<rect vector-effect="non-scaling-stroke" x="${L}" y="${z}" width="${B}" height="${Y}"/>`)}P(this,e1)&&(u.push("</g></svg>')"),c.backgroundImage=u.join("")),this.container.append(y),this.container.style.clipPath=`url(#${A})`}_createPopup(){const{data:e}=this,i=te(this,t1,new qO({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(i.render())}render(){mi("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,i=null){const r=[];if(this._fieldObjects){const o=this._fieldObjects[e];if(o)for(const{page:l,id:c,exportValues:u}of o){if(l===-1||c===i)continue;const h=typeof u=="string"?u:null,m=document.querySelector(`[data-element-id="${c}"]`);if(m&&!$0.has(m)){yn(`_getElementsByName - element not allowed: ${c}`);continue}r.push({id:c,exportValue:h,domElement:m})}return r}for(const o of document.getElementsByName(e)){const{exportValue:l}=o,c=o.getAttribute("data-element-id");c!==i&&$0.has(o)&&r.push({id:c,exportValue:l,domElement:o})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const i of e)i.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:i}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:i})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Zb=new WeakMap,e1=new WeakMap,t1=new WeakMap,uS=new WeakSet,$O=function(e){const{container:{style:i},data:{rect:r,rotation:o},parent:{viewport:{rawDims:{pageWidth:l,pageHeight:c,pageX:u,pageY:h}}}}=this;r==null||r.splice(0,4,...e),i.left=`${100*(e[0]-u)/l}%`,i.top=`${100*(c-e[3]+h)/c}%`,o===0?(i.width=`${100*(e[2]-e[0])/l}%`,i.height=`${100*(e[3]-e[1])/c}%`):this.setRotation(o)};let _r=nU;var dl,ab,Jne,Qne;class Zne extends _r{constructor(i,r=null){super(i,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});pe(this,dl);this.isTooltipOnly=i.data.isTooltipOnly}render(){const{data:i,linkService:r}=this,o=document.createElement("a");o.setAttribute("data-element-id",i.id);let l=!1;return i.url?(r.addLinkAttributes(o,i.url,i.newWindow),l=!0):i.action?(this._bindNamedAction(o,i.action),l=!0):i.attachment?(me(this,dl,Jne).call(this,o,i.attachment,i.attachmentDest),l=!0):i.setOCGState?(me(this,dl,Qne).call(this,o,i.setOCGState),l=!0):i.dest?(this._bindLink(o,i.dest),l=!0):(i.actions&&(i.actions.Action||i.actions["Mouse Up"]||i.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(o,i),l=!0),i.resetForm?(this._bindResetFormAction(o,i.resetForm),l=!0):this.isTooltipOnly&&!l&&(this._bindLink(o,""),l=!0)),this.container.classList.add("linkAnnotation"),l&&this.container.append(o),this.container}_bindLink(i,r){i.href=this.linkService.getDestinationHash(r),i.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&me(this,dl,ab).call(this)}_bindNamedAction(i,r){i.href=this.linkService.getAnchorUrl(""),i.onclick=()=>(this.linkService.executeNamedAction(r),!1),me(this,dl,ab).call(this)}_bindJSAction(i,r){i.href=this.linkService.getAnchorUrl("");const o=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const l of Object.keys(r.actions)){const c=o.get(l);c&&(i[c]=()=>{var u;return(u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:l}}),!1})}i.onclick||(i.onclick=()=>!1),me(this,dl,ab).call(this)}_bindResetFormAction(i,r){const o=i.onclick;if(o||(i.href=this.linkService.getAnchorUrl("")),me(this,dl,ab).call(this),!this._fieldObjects){yn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),o||(i.onclick=()=>!1);return}i.onclick=()=>{var y;o==null||o();const{fields:l,refs:c,include:u}=r,h=[];if(l.length!==0||c.length!==0){const v=new Set(c);for(const _ of l){const A=this._fieldObjects[_]||[];for(const{id:S}of A)v.add(S)}for(const _ of Object.values(this._fieldObjects))for(const A of _)v.has(A.id)===u&&h.push(A)}else for(const v of Object.values(this._fieldObjects))h.push(...v);const m=this.annotationStorage,g=[];for(const v of h){const{id:_}=v;switch(g.push(_),v.type){case"text":{const S=v.defaultValue||"";m.setValue(_,{value:S});break}case"checkbox":case"radiobutton":{const S=v.defaultValue===v.exportValues;m.setValue(_,{value:S});break}case"combobox":case"listbox":{const S=v.defaultValue||"";m.setValue(_,{value:S});break}default:continue}const A=document.querySelector(`[data-element-id="${_}"]`);if(A){if(!$0.has(A)){yn(`_bindResetFormAction - element not allowed: ${_}`);continue}}else continue;A.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:g,name:"ResetForm"}})),!1}}}dl=new WeakSet,ab=function(){this.container.setAttribute("data-internal-link","")},Jne=function(i,r,o=null){i.href=this.linkService.getAnchorUrl(""),r.description&&(i.title=r.description),i.onclick=()=>{var l;return(l=this.downloadManager)==null||l.openOrDownloadData(r.content,r.filename,o),!1},me(this,dl,ab).call(this)},Qne=function(i,r){i.href=this.linkService.getAnchorUrl(""),i.onclick=()=>(this.linkService.executeSetOCGState(r),!1),me(this,dl,ab).call(this)};class CCe extends _r{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class ny extends _r{render(){return this.container}showElementAndHideCanvas(e){var i;this.data.hasOwnCanvas&&(((i=e.previousSibling)==null?void 0:i.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Vs.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,i,r,o,l){r.includes("mouse")?e.addEventListener(r,c=>{var u;(u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:o,value:l(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):e.addEventListener(r,c=>{var u;if(r==="blur"){if(!i.focused||!c.relatedTarget)return;i.focused=!1}else if(r==="focus"){if(i.focused)return;i.focused=!0}l&&((u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:o,value:l(c)}}))})}_setEventListeners(e,i,r,o){var l,c,u;for(const[h,m]of r)(m==="Action"||(l=this.data.actions)!=null&&l[m])&&((m==="Focus"||m==="Blur")&&(i||(i={focused:!1})),this._setEventListener(e,i,h,m,o),m==="Focus"&&!((c=this.data.actions)!=null&&c.Blur)?this._setEventListener(e,i,"blur","Blur",null):m==="Blur"&&!((u=this.data.actions)!=null&&u.Focus)&&this._setEventListener(e,i,"focus","Focus",null))}_setBackgroundColor(e){const i=this.data.backgroundColor||null;e.style.backgroundColor=i===null?"transparent":Kt.makeHexColor(i[0],i[1],i[2])}_setTextStyle(e){const i=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,o=this.data.defaultAppearanceData.fontSize||TCe,l=e.style;let c;const u=2,h=m=>Math.round(10*m)/10;if(this.data.multiLine){const m=Math.abs(this.data.rect[3]-this.data.rect[1]-u),g=Math.round(m/(cR*o))||1,y=m/g;c=Math.min(o,h(y/cR))}else{const m=Math.abs(this.data.rect[3]-this.data.rect[1]-u);c=Math.min(o,h(m/cR))}l.fontSize=`calc(${c}px * var(--total-scale-factor))`,l.color=Kt.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(l.textAlign=i[this.data.textAlignment])}_setRequired(e,i){i?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",i)}}class DCe extends ny{constructor(e){const i=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:i})}setPropertyOnSiblings(e,i,r,o){const l=this.annotationStorage;for(const c of this._getElementsByName(e.name,e.id))c.domElement&&(c.domElement[i]=r),l.setValue(c.id,{[o]:r})}render(){var o,l;const e=this.annotationStorage,i=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const c=e.getValue(i,{value:this.data.fieldValue});let u=c.value||"";const h=e.getValue(i,{charLimit:this.data.maxLen}).charLimit;h&&u.length>h&&(u=u.slice(0,h));let m=c.formattedValue||((o=this.data.textContent)==null?void 0:o.join(`
`))||null;m&&this.data.comb&&(m=m.replaceAll(/\s+/g,""));const g={userValue:u,formattedValue:m,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=m??u,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",m??u),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),$0.add(r),r.setAttribute("data-element-id",i),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=xA,this._setRequired(r,this.data.required),h&&(r.maxLength=h),r.addEventListener("input",v=>{e.setValue(i,{value:v.target.value}),this.setPropertyOnSiblings(r,"value",v.target.value,"value"),g.formattedValue=null}),r.addEventListener("resetform",v=>{const _=this.data.defaultFieldValue??"";r.value=g.userValue=_,g.formattedValue=null});let y=v=>{const{formattedValue:_}=g;_!=null&&(v.target.value=_),v.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",_=>{var S;if(g.focused)return;const{target:A}=_;g.userValue&&(A.value=g.userValue),g.lastCommittedValue=A.value,g.commitKey=1,(S=this.data.actions)!=null&&S.Focus||(g.focused=!0)}),r.addEventListener("updatefromsandbox",_=>{this.showElementAndHideCanvas(_.target);const A={value(S){g.userValue=S.detail.value??"",e.setValue(i,{value:g.userValue.toString()}),S.target.value=g.userValue},formattedValue(S){const{formattedValue:T}=S.detail;g.formattedValue=T,T!=null&&S.target!==document.activeElement&&(S.target.value=T),e.setValue(i,{formattedValue:T})},selRange(S){S.target.setSelectionRange(...S.detail.selRange)},charLimit:S=>{var I;const{charLimit:T}=S.detail,{target:C}=S;if(T===0){C.removeAttribute("maxLength");return}C.setAttribute("maxLength",T);let N=g.userValue;!N||N.length<=T||(N=N.slice(0,T),C.value=g.userValue=N,e.setValue(i,{value:N}),(I=this.linkService.eventBus)==null||I.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:N,willCommit:!0,commitKey:1,selStart:C.selectionStart,selEnd:C.selectionEnd}}))}};this._dispatchEventFromSandbox(A,_)}),r.addEventListener("keydown",_=>{var T;g.commitKey=1;let A=-1;if(_.key==="Escape"?A=0:_.key==="Enter"&&!this.data.multiLine?A=2:_.key==="Tab"&&(g.commitKey=3),A===-1)return;const{value:S}=_.target;g.lastCommittedValue!==S&&(g.lastCommittedValue=S,g.userValue=S,(T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:S,willCommit:!0,commitKey:A,selStart:_.target.selectionStart,selEnd:_.target.selectionEnd}}))});const v=y;y=null,r.addEventListener("blur",_=>{var S,T;if(!g.focused||!_.relatedTarget)return;(S=this.data.actions)!=null&&S.Blur||(g.focused=!1);const{value:A}=_.target;g.userValue=A,g.lastCommittedValue!==A&&((T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:A,willCommit:!0,commitKey:g.commitKey,selStart:_.target.selectionStart,selEnd:_.target.selectionEnd}})),v(_)}),(l=this.data.actions)!=null&&l.Keystroke&&r.addEventListener("beforeinput",_=>{var F;g.lastCommittedValue=null;const{data:A,target:S}=_,{value:T,selectionStart:C,selectionEnd:N}=S;let I=C,O=N;switch(_.inputType){case"deleteWordBackward":{const L=T.substring(0,C).match(/\w*[^\w]*$/);L&&(I-=L[0].length);break}case"deleteWordForward":{const L=T.substring(C).match(/^[^\w]*\w*/);L&&(O+=L[0].length);break}case"deleteContentBackward":C===N&&(I-=1);break;case"deleteContentForward":C===N&&(O+=1);break}_.preventDefault(),(F=this.linkService.eventBus)==null||F.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:T,change:A||"",willCommit:!1,selStart:I,selEnd:O}})}),this._setEventListeners(r,g,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],_=>_.target.value)}if(y&&r.addEventListener("blur",y),this.data.comb){const _=(this.data.rect[2]-this.data.rect[0])/h;r.classList.add("comb"),r.style.letterSpacing=`calc(${_}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class NCe extends ny{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class PCe extends ny{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,i=this.data,r=i.id;let o=e.getValue(r,{value:i.exportValue===i.fieldValue}).value;typeof o=="string"&&(o=o!=="Off",e.setValue(r,{value:o})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const l=document.createElement("input");return $0.add(l),l.setAttribute("data-element-id",r),l.disabled=i.readOnly,this._setRequired(l,this.data.required),l.type="checkbox",l.name=i.fieldName,o&&l.setAttribute("checked",!0),l.setAttribute("exportValue",i.exportValue),l.tabIndex=xA,l.addEventListener("change",c=>{const{name:u,checked:h}=c.target;for(const m of this._getElementsByName(u,r)){const g=h&&m.exportValue===i.exportValue;m.domElement&&(m.domElement.checked=g),e.setValue(m.id,{value:g})}e.setValue(r,{value:h})}),l.addEventListener("resetform",c=>{const u=i.defaultFieldValue||"Off";c.target.checked=u===i.exportValue}),this.enableScripting&&this.hasJSActions&&(l.addEventListener("updatefromsandbox",c=>{const u={value(h){h.target.checked=h.detail.value!=="Off",e.setValue(r,{value:h.target.checked})}};this._dispatchEventFromSandbox(u,c)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class eie extends ny{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,i=this.data,r=i.id;let o=e.getValue(r,{value:i.fieldValue===i.buttonValue}).value;if(typeof o=="string"&&(o=o!==i.buttonValue,e.setValue(r,{value:o})),o)for(const c of this._getElementsByName(i.fieldName,r))e.setValue(c.id,{value:!1});const l=document.createElement("input");if($0.add(l),l.setAttribute("data-element-id",r),l.disabled=i.readOnly,this._setRequired(l,this.data.required),l.type="radio",l.name=i.fieldName,o&&l.setAttribute("checked",!0),l.tabIndex=xA,l.addEventListener("change",c=>{const{name:u,checked:h}=c.target;for(const m of this._getElementsByName(u,r))e.setValue(m.id,{value:!1});e.setValue(r,{value:h})}),l.addEventListener("resetform",c=>{const u=i.defaultFieldValue;c.target.checked=u!=null&&u===i.buttonValue}),this.enableScripting&&this.hasJSActions){const c=i.buttonValue;l.addEventListener("updatefromsandbox",u=>{const h={value:m=>{const g=c===m.detail.value;for(const y of this._getElementsByName(m.target.name)){const v=g&&y.id===r;y.domElement&&(y.domElement.checked=v),e.setValue(y.id,{value:v})}}};this._dispatchEventFromSandbox(h,u)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)}return this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class ICe extends Zne{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const i=e.lastChild;return this.enableScripting&&this.hasJSActions&&i&&(this._setDefaultPropertiesFromJS(i),i.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class jCe extends ny{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,i=this.data.id,r=e.getValue(i,{value:this.data.fieldValue}),o=document.createElement("select");$0.add(o),o.setAttribute("data-element-id",i),o.disabled=this.data.readOnly,this._setRequired(o,this.data.required),o.name=this.data.fieldName,o.tabIndex=xA;let l=this.data.combo&&this.data.options.length>0;this.data.combo||(o.size=this.data.options.length,this.data.multiSelect&&(o.multiple=!0)),o.addEventListener("resetform",g=>{const y=this.data.defaultFieldValue;for(const v of o.options)v.selected=v.value===y});for(const g of this.data.options){const y=document.createElement("option");y.textContent=g.displayValue,y.value=g.exportValue,r.value.includes(g.exportValue)&&(y.setAttribute("selected",!0),l=!1),o.append(y)}let c=null;if(l){const g=document.createElement("option");g.value=" ",g.setAttribute("hidden",!0),g.setAttribute("selected",!0),o.prepend(g),c=()=>{g.remove(),o.removeEventListener("input",c),c=null},o.addEventListener("input",c)}const u=g=>{const y=g?"value":"textContent",{options:v,multiple:_}=o;return _?Array.prototype.filter.call(v,A=>A.selected).map(A=>A[y]):v.selectedIndex===-1?null:v[v.selectedIndex][y]};let h=u(!1);const m=g=>{const y=g.target.options;return Array.prototype.map.call(y,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(o.addEventListener("updatefromsandbox",g=>{const y={value(v){c==null||c();const _=v.detail.value,A=new Set(Array.isArray(_)?_:[_]);for(const S of o.options)S.selected=A.has(S.value);e.setValue(i,{value:u(!0)}),h=u(!1)},multipleSelection(v){o.multiple=!0},remove(v){const _=o.options,A=v.detail.remove;_[A].selected=!1,o.remove(A),_.length>0&&Array.prototype.findIndex.call(_,T=>T.selected)===-1&&(_[0].selected=!0),e.setValue(i,{value:u(!0),items:m(v)}),h=u(!1)},clear(v){for(;o.length!==0;)o.remove(0);e.setValue(i,{value:null,items:[]}),h=u(!1)},insert(v){const{index:_,displayValue:A,exportValue:S}=v.detail.insert,T=o.children[_],C=document.createElement("option");C.textContent=A,C.value=S,T?T.before(C):o.append(C),e.setValue(i,{value:u(!0),items:m(v)}),h=u(!1)},items(v){const{items:_}=v.detail;for(;o.length!==0;)o.remove(0);for(const A of _){const{displayValue:S,exportValue:T}=A,C=document.createElement("option");C.textContent=S,C.value=T,o.append(C)}o.options.length>0&&(o.options[0].selected=!0),e.setValue(i,{value:u(!0),items:m(v)}),h=u(!1)},indices(v){const _=new Set(v.detail.indices);for(const A of v.target.options)A.selected=_.has(A.index);e.setValue(i,{value:u(!0)}),h=u(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(y,g)}),o.addEventListener("input",g=>{var _;const y=u(!0),v=u(!1);e.setValue(i,{value:y}),g.preventDefault(),(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:h,change:v,changeEx:y,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(o,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],g=>g.target.value)):o.addEventListener("input",function(g){e.setValue(i,{value:u(!0)})}),this.data.combo&&this._setTextStyle(o),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class qO extends _r{constructor(e){const{data:i,elements:r}=e;super(e,{isRenderable:_r._hasPopupData(i)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new RCe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),i=[];for(const r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",i.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(r=>`${zL}${r}`).join(",")),this.container}}var n1,$5,q5,i1,r1,dr,Gh,s1,dS,hS,o1,Xh,Hc,Yh,fS,Kh,pS,Jb,Qb,gi,dN,HO,tie,nie,iie,rie,hN,fN,GO;class RCe{constructor({container:e,color:i,elements:r,titleObj:o,modificationDate:l,contentsObj:c,richText:u,parent:h,rect:m,parentRect:g,open:y}){pe(this,gi);pe(this,n1,me(this,gi,iie).bind(this));pe(this,$5,me(this,gi,GO).bind(this));pe(this,q5,me(this,gi,fN).bind(this));pe(this,i1,me(this,gi,hN).bind(this));pe(this,r1,null);pe(this,dr,null);pe(this,Gh,null);pe(this,s1,null);pe(this,dS,null);pe(this,hS,null);pe(this,o1,null);pe(this,Xh,!1);pe(this,Hc,null);pe(this,Yh,null);pe(this,fS,null);pe(this,Kh,null);pe(this,pS,null);pe(this,Jb,null);pe(this,Qb,!1);var v;te(this,dr,e),te(this,pS,o),te(this,Gh,c),te(this,Kh,u),te(this,hS,h),te(this,r1,i),te(this,fS,m),te(this,o1,g),te(this,dS,r),te(this,s1,$L.toDateObject(l)),this.trigger=r.flatMap(_=>_.getElementsToTriggerPopup());for(const _ of this.trigger)_.addEventListener("click",P(this,i1)),_.addEventListener("mouseenter",P(this,q5)),_.addEventListener("mouseleave",P(this,$5)),_.classList.add("popupTriggerArea");for(const _ of r)(v=_.container)==null||v.addEventListener("keydown",P(this,n1));P(this,dr).hidden=!0,y&&me(this,gi,hN).call(this)}render(){if(P(this,Hc))return;const e=te(this,Hc,document.createElement("div"));if(e.className="popup",P(this,r1)){const l=e.style.outlineColor=Kt.makeHexColor(...P(this,r1));e.style.backgroundColor=`color-mix(in srgb, ${l} 30%, white)`}const i=document.createElement("span");i.className="header";const r=document.createElement("h1");if(i.append(r),{dir:r.dir,str:r.textContent}=P(this,pS),e.append(i),P(this,s1)){const l=document.createElement("span");l.classList.add("popupDate"),l.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),l.setAttribute("data-l10n-args",JSON.stringify({dateObj:P(this,s1).valueOf()})),i.append(l)}const o=P(this,gi,dN);if(o)Kne.render({xfaHtml:o,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const l=this._formatContents(P(this,Gh));e.append(l)}P(this,dr).append(e)}_formatContents({str:e,dir:i}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=i;const o=e.split(/(?:\r\n?|\n)/);for(let l=0,c=o.length;l<c;++l){const u=o[l];r.append(document.createTextNode(u)),l<c-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:i}){var r;P(this,Jb)||te(this,Jb,{contentsObj:P(this,Gh),richText:P(this,Kh)}),e&&te(this,Yh,null),i&&(te(this,Kh,me(this,gi,nie).call(this,i)),te(this,Gh,null)),(r=P(this,Hc))==null||r.remove(),te(this,Hc,null)}resetEdited(){var e;P(this,Jb)&&({contentsObj:Ro(this,Gh)._,richText:Ro(this,Kh)._}=P(this,Jb),te(this,Jb,null),(e=P(this,Hc))==null||e.remove(),te(this,Hc,null),te(this,Yh,null))}forceHide(){te(this,Qb,this.isVisible),P(this,Qb)&&(P(this,dr).hidden=!0)}maybeShow(){P(this,Qb)&&(P(this,Hc)||me(this,gi,fN).call(this),te(this,Qb,!1),P(this,dr).hidden=!1)}get isVisible(){return P(this,dr).hidden===!1}}n1=new WeakMap,$5=new WeakMap,q5=new WeakMap,i1=new WeakMap,r1=new WeakMap,dr=new WeakMap,Gh=new WeakMap,s1=new WeakMap,dS=new WeakMap,hS=new WeakMap,o1=new WeakMap,Xh=new WeakMap,Hc=new WeakMap,Yh=new WeakMap,fS=new WeakMap,Kh=new WeakMap,pS=new WeakMap,Jb=new WeakMap,Qb=new WeakMap,gi=new WeakSet,dN=function(){const e=P(this,Kh),i=P(this,Gh);return e!=null&&e.str&&(!(i!=null&&i.str)||i.str===e.str)&&P(this,Kh).html||null},HO=function(){var e,i,r;return((r=(i=(e=P(this,gi,dN))==null?void 0:e.attributes)==null?void 0:i.style)==null?void 0:r.fontSize)||0},tie=function(){var e,i,r;return((r=(i=(e=P(this,gi,dN))==null?void 0:e.attributes)==null?void 0:i.style)==null?void 0:r.color)||null},nie=function(e){const i=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:i}]}},o={style:{color:P(this,gi,tie),fontSize:P(this,gi,HO)?`calc(${P(this,gi,HO)}px * var(--total-scale-factor))`:""}};for(const l of e.split(`
`))i.push({name:"span",value:l,attributes:o});return r},iie=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&P(this,Xh))&&me(this,gi,hN).call(this)},rie=function(){if(P(this,Yh)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:i,pageHeight:r,pageX:o,pageY:l}}}=P(this,hS);let c=!!P(this,o1),u=c?P(this,o1):P(this,fS);for(const A of P(this,dS))if(!u||Kt.intersect(A.data.rect,u)!==null){u=A.data.rect,c=!0;break}const h=Kt.normalizeRect([u[0],e[3]-u[1]+e[1],u[2],e[3]-u[3]+e[1]]),g=c?u[2]-u[0]+5:0,y=h[0]+g,v=h[1];te(this,Yh,[100*(y-o)/i,100*(v-l)/r]);const{style:_}=P(this,dr);_.left=`${P(this,Yh)[0]}%`,_.top=`${P(this,Yh)[1]}%`},hN=function(){te(this,Xh,!P(this,Xh)),P(this,Xh)?(me(this,gi,fN).call(this),P(this,dr).addEventListener("click",P(this,i1)),P(this,dr).addEventListener("keydown",P(this,n1))):(me(this,gi,GO).call(this),P(this,dr).removeEventListener("click",P(this,i1)),P(this,dr).removeEventListener("keydown",P(this,n1)))},fN=function(){P(this,Hc)||this.render(),this.isVisible?P(this,Xh)&&P(this,dr).classList.add("focused"):(me(this,gi,rie).call(this),P(this,dr).hidden=!1,P(this,dr).style.zIndex=parseInt(P(this,dr).style.zIndex)+1e3)},GO=function(){P(this,dr).classList.remove("focused"),!(P(this,Xh)||!this.isVisible)&&(P(this,dr).hidden=!0,P(this,dr).style.zIndex=parseInt(P(this,dr).style.zIndex)-1e3)};class sie extends _r{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=gn.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const i of this.textContent){const r=document.createElement("span");r.textContent=i,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var mS;class MCe extends _r{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});pe(this,mS,null)}render(){this.container.classList.add("lineAnnotation");const{data:i,width:r,height:o}=this,l=this.svgFactory.create(r,o,!0),c=te(this,mS,this.svgFactory.createElement("svg:line"));return c.setAttribute("x1",i.rect[2]-i.lineCoordinates[0]),c.setAttribute("y1",i.rect[3]-i.lineCoordinates[1]),c.setAttribute("x2",i.rect[2]-i.lineCoordinates[2]),c.setAttribute("y2",i.rect[3]-i.lineCoordinates[3]),c.setAttribute("stroke-width",i.borderStyle.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),l.append(c),this.container.append(l),!i.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return P(this,mS)}addHighlightArea(){this.container.classList.add("highlightArea")}}mS=new WeakMap;var gS;class OCe extends _r{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});pe(this,gS,null)}render(){this.container.classList.add("squareAnnotation");const{data:i,width:r,height:o}=this,l=this.svgFactory.create(r,o,!0),c=i.borderStyle.width,u=te(this,gS,this.svgFactory.createElement("svg:rect"));return u.setAttribute("x",c/2),u.setAttribute("y",c/2),u.setAttribute("width",r-c),u.setAttribute("height",o-c),u.setAttribute("stroke-width",c||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!i.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return P(this,gS)}addHighlightArea(){this.container.classList.add("highlightArea")}}gS=new WeakMap;var bS;class FCe extends _r{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});pe(this,bS,null)}render(){this.container.classList.add("circleAnnotation");const{data:i,width:r,height:o}=this,l=this.svgFactory.create(r,o,!0),c=i.borderStyle.width,u=te(this,bS,this.svgFactory.createElement("svg:ellipse"));return u.setAttribute("cx",r/2),u.setAttribute("cy",o/2),u.setAttribute("rx",r/2-c/2),u.setAttribute("ry",o/2-c/2),u.setAttribute("stroke-width",c||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!i.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return P(this,bS)}addHighlightArea(){this.container.classList.add("highlightArea")}}bS=new WeakMap;var yS;class oie extends _r{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});pe(this,yS,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:i,vertices:r,borderStyle:o,popupRef:l},width:c,height:u}=this;if(!r)return this.container;const h=this.svgFactory.create(c,u,!0);let m=[];for(let y=0,v=r.length;y<v;y+=2){const _=r[y]-i[0],A=i[3]-r[y+1];m.push(`${_},${A}`)}m=m.join(" ");const g=te(this,yS,this.svgFactory.createElement(this.svgElementName));return g.setAttribute("points",m),g.setAttribute("stroke-width",o.width||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),h.append(g),this.container.append(h),!l&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return P(this,yS)}addHighlightArea(){this.container.classList.add("highlightArea")}}yS=new WeakMap;class LCe extends oie{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class UCe extends _r{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var vS,e0,wS,XO;class KL extends _r{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});pe(this,wS);pe(this,vS,null);pe(this,e0,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?gn.HIGHLIGHT:gn.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:i,rotation:r,inkLists:o,borderStyle:l,popupRef:c}}=this,{transform:u,width:h,height:m}=me(this,wS,XO).call(this,r,i),g=this.svgFactory.create(h,m,!0),y=te(this,vS,this.svgFactory.createElement("svg:g"));g.append(y),y.setAttribute("stroke-width",l.width||1),y.setAttribute("stroke-linecap","round"),y.setAttribute("stroke-linejoin","round"),y.setAttribute("stroke-miterlimit",10),y.setAttribute("stroke","transparent"),y.setAttribute("fill","transparent"),y.setAttribute("transform",u);for(let v=0,_=o.length;v<_;v++){const A=this.svgFactory.createElement(this.svgElementName);P(this,e0).push(A),A.setAttribute("points",o[v].join(",")),y.append(A)}return!c&&this.hasPopupData&&this._createPopup(),this.container.append(g),this._editOnDoubleClick(),this.container}updateEdited(i){super.updateEdited(i);const{thickness:r,points:o,rect:l}=i,c=P(this,vS);if(r>=0&&c.setAttribute("stroke-width",r||1),o)for(let u=0,h=P(this,e0).length;u<h;u++)P(this,e0)[u].setAttribute("points",o[u].join(","));if(l){const{transform:u,width:h,height:m}=me(this,wS,XO).call(this,this.data.rotation,l);c.parentElement.setAttribute("viewBox",`0 0 ${h} ${m}`),c.setAttribute("transform",u)}}getElementsToTriggerPopup(){return P(this,e0)}addHighlightArea(){this.container.classList.add("highlightArea")}}vS=new WeakMap,e0=new WeakMap,wS=new WeakSet,XO=function(i,r){switch(i){case 90:return{transform:`rotate(90) translate(${-r[0]},${r[1]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};case 180:return{transform:`rotate(180) translate(${-r[2]},${r[1]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]};case 270:return{transform:`rotate(270) translate(${-r[2]},${r[3]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};default:return{transform:`translate(${-r[0]},${r[3]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]}}};class aie extends _r{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=gn.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class BCe extends _r{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class zCe extends _r{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class VCe extends _r{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class lie extends _r{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=gn.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var xS,_S,YO;class WCe extends _r{constructor(i){var o;super(i,{isRenderable:!0});pe(this,_S);pe(this,xS,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(o=this.linkService.eventBus)==null||o.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:i,data:r}=this;let o;r.hasAppearance||r.fillAlpha===0?o=document.createElement("div"):(o=document.createElement("img"),o.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(o.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),o.addEventListener("dblclick",me(this,_S,YO).bind(this)),te(this,xS,o);const{isMac:l}=Vs.platform;return i.addEventListener("keydown",c=>{c.key==="Enter"&&(l?c.metaKey:c.ctrlKey)&&me(this,_S,YO).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():o.classList.add("popupTriggerArea"),i.append(o),i}getElementsToTriggerPopup(){return P(this,xS)}addHighlightArea(){this.container.classList.add("highlightArea")}}xS=new WeakMap,_S=new WeakSet,YO=function(){var i;(i=this.downloadManager)==null||i.openOrDownloadData(this.content,this.filename)};var kS,t0,am,ES,Gm,ZO,JO;const iU=class iU{constructor({div:e,accessibilityManager:i,annotationCanvasMap:r,annotationEditorUIManager:o,page:l,viewport:c,structTreeLayer:u}){pe(this,Gm);pe(this,kS,null);pe(this,t0,null);pe(this,am,new Map);pe(this,ES,null);this.div=e,te(this,kS,i),te(this,t0,r),te(this,ES,u||null),this.page=l,this.viewport=c,this.zIndex=0,this._annotationEditorUIManager=o}hasEditableAnnotations(){return P(this,am).size>0}async render(e){var c;const{annotations:i}=e,r=this.div;V0(r,this.viewport);const o=new Map,l={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new T5,annotationStorage:e.annotationStorage||new GL,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const u of i){if(u.noHTML)continue;const h=u.annotationType===Pr.POPUP;if(h){const y=o.get(u.id);if(!y)continue;l.elements=y}else if(u.rect[2]===u.rect[0]||u.rect[3]===u.rect[1])continue;l.data=u;const m=oG.create(l);if(!m.isRenderable)continue;if(!h&&u.popupRef){const y=o.get(u.popupRef);y?y.push(m):o.set(u.popupRef,[m])}const g=m.render();u.hidden&&(g.style.visibility="hidden"),await me(this,Gm,ZO).call(this,g,u.id),m._isEditable&&(P(this,am).set(m.data.id,m),(c=this._annotationEditorUIManager)==null||c.renderAnnotationElement(m))}me(this,Gm,JO).call(this)}async addLinkAnnotations(e,i){const r={data:null,layer:this.div,linkService:i,svgFactory:new T5,parent:this};for(const o of e){o.borderStyle||(o.borderStyle=iU._defaultBorderStyle),r.data=o;const l=oG.create(r);if(!l.isRenderable)continue;const c=l.render();await me(this,Gm,ZO).call(this,c,o.id)}}update({viewport:e}){const i=this.div;this.viewport=e,V0(i,{rotation:e.rotation}),me(this,Gm,JO).call(this),i.hidden=!1}getEditableAnnotations(){return Array.from(P(this,am).values())}getEditableAnnotation(e){return P(this,am).get(e)}static get _defaultBorderStyle(){return Tn(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:jv.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};kS=new WeakMap,t0=new WeakMap,am=new WeakMap,ES=new WeakMap,Gm=new WeakSet,ZO=async function(e,i){var c,u;const r=e.firstChild||e,o=r.id=`${zL}${i}`,l=await((c=P(this,ES))==null?void 0:c.getAriaAttributes(o));if(l)for(const[h,m]of l)r.setAttribute(h,m);this.div.append(e),(u=P(this,kS))==null||u.moveElementInDOM(this.div,e,r,!1)},JO=function(){var i;if(!P(this,t0))return;const e=this.div;for(const[r,o]of P(this,t0)){const l=e.querySelector(`[data-annotation-id="${r}"]`);if(!l)continue;o.className="annotationContent";const{firstChild:c}=l;c?c.nodeName==="CANVAS"?c.replaceWith(o):c.classList.contains("annotationContent")?c.after(o):c.before(o):l.append(o);const u=P(this,am).get(r);u&&(u._hasNoCanvas?((i=this._annotationEditorUIManager)==null||i.setMissingCanvas(r,l.id,o),u._hasNoCanvas=!1):u.canvas=o)}P(this,t0).clear()};let KO=iU;const TD=/\r\n?|\n/g;var Gc,Qa,SS,n0,el,Mr,cie,uie,die,pN,ff,mN,gN,hie,e6,fie;const Ti=class Ti extends Di{constructor(i){super({...i,name:"freeTextEditor"});pe(this,Mr);pe(this,Gc);pe(this,Qa,"");pe(this,SS,`${this.id}-editor`);pe(this,n0,null);pe(this,el);te(this,Gc,i.color||Ti._defaultColor||Di._defaultLineColor),te(this,el,i.fontSize||Ti._defaultFontSize)}static get _keyboardManager(){const i=Ti.prototype,r=c=>c.isEmpty(),o=W0.TRANSLATE_SMALL,l=W0.TRANSLATE_BIG;return Tn(this,"_keyboardManager",new vA([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],i.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],i.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],i._translateEmpty,{args:[-o,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],i._translateEmpty,{args:[-l,0],checker:r}],[["ArrowRight","mac+ArrowRight"],i._translateEmpty,{args:[o,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],i._translateEmpty,{args:[l,0],checker:r}],[["ArrowUp","mac+ArrowUp"],i._translateEmpty,{args:[0,-o],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],i._translateEmpty,{args:[0,-l],checker:r}],[["ArrowDown","mac+ArrowDown"],i._translateEmpty,{args:[0,o],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],i._translateEmpty,{args:[0,l],checker:r}]]))}static initialize(i,r){Di.initialize(i,r);const o=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(o.getPropertyValue("--freetext-padding"))}static updateDefaultParams(i,r){switch(i){case jn.FREETEXT_SIZE:Ti._defaultFontSize=r;break;case jn.FREETEXT_COLOR:Ti._defaultColor=r;break}}updateParams(i,r){switch(i){case jn.FREETEXT_SIZE:me(this,Mr,cie).call(this,r);break;case jn.FREETEXT_COLOR:me(this,Mr,uie).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[jn.FREETEXT_SIZE,Ti._defaultFontSize],[jn.FREETEXT_COLOR,Ti._defaultColor||Di._defaultLineColor]]}get propertiesToUpdate(){return[[jn.FREETEXT_SIZE,P(this,el)],[jn.FREETEXT_COLOR,P(this,Gc)]]}_translateEmpty(i,r){this._uiManager.translateSelectedEditors(i,r,!0)}getInitialTranslation(){const i=this.parentScale;return[-Ti._internalPadding*i,-(Ti._internalPadding+P(this,el))*i]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(gn.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),te(this,n0,new AbortController);const i=this._uiManager.combinedSignal(P(this,n0));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:i}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:i}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:i}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:i}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:i})}disableEditMode(){var i;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",P(this,SS)),this._isDraggable=!0,(i=P(this,n0))==null||i.abort(),te(this,n0,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(i){this._focusEventsAllowed&&(super.focusin(i),i.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(i){var r;this.width||(this.enableEditMode(),i&&this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const i=P(this,Qa),r=te(this,Qa,me(this,Mr,die).call(this).trimEnd());if(i===r)return;const o=l=>{if(te(this,Qa,l),!l){this.remove();return}me(this,Mr,gN).call(this),this._uiManager.rebuild(this),me(this,Mr,pN).call(this)};this.addCommands({cmd:()=>{o(r)},undo:()=>{o(i)},mustExec:!1}),me(this,Mr,pN).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(i){this.enterInEditMode()}keydown(i){i.target===this.div&&i.key==="Enter"&&(this.enterInEditMode(),i.preventDefault())}editorDivKeydown(i){Ti._keyboardManager.exec(this,i)}editorDivFocus(i){this.isEditing=!0}editorDivBlur(i){this.isEditing=!1}editorDivInput(i){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let i,r;(this._isCopy||this.annotationElementId)&&(i=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",P(this,SS)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:o}=this.editorDiv;if(o.fontSize=`calc(${P(this,el)}px * var(--total-scale-factor))`,o.color=P(this,Gc),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),HL(this,this.div,["dblclick","keydown"]),this._isCopy||this.annotationElementId){const[l,c]=this.parentDimensions;if(this.annotationElementId){const{position:u}=this._initialData;let[h,m]=this.getInitialTranslation();[h,m]=this.pageTranslationToScreen(h,m);const[g,y]=this.pageDimensions,[v,_]=this.pageTranslation;let A,S;switch(this.rotation){case 0:A=i+(u[0]-v)/g,S=r+this.height-(u[1]-_)/y;break;case 90:A=i+(u[0]-v)/g,S=r-(u[1]-_)/y,[h,m]=[m,-h];break;case 180:A=i-this.width+(u[0]-v)/g,S=r-(u[1]-_)/y,[h,m]=[-h,-m];break;case 270:A=i+(u[0]-v-this.height*y)/g,S=r+(u[1]-_-this.width*g)/y,[h,m]=[-m,h];break}this.setAt(A*l,S*c,h,m)}else this._moveAfterPaste(i,r);me(this,Mr,gN).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(i){var A,S,T;const r=i.clipboardData||window.clipboardData,{types:o}=r;if(o.length===1&&o[0]==="text/plain")return;i.preventDefault();const l=me(A=Ti,ff,e6).call(A,r.getData("text")||"").replaceAll(TD,`
`);if(!l)return;const c=window.getSelection();if(!c.rangeCount)return;this.editorDiv.normalize(),c.deleteFromDocument();const u=c.getRangeAt(0);if(!l.includes(`
`)){u.insertNode(document.createTextNode(l)),this.editorDiv.normalize(),c.collapseToStart();return}const{startContainer:h,startOffset:m}=u,g=[],y=[];if(h.nodeType===Node.TEXT_NODE){const C=h.parentElement;if(y.push(h.nodeValue.slice(m).replaceAll(TD,"")),C!==this.editorDiv){let N=g;for(const I of this.editorDiv.childNodes){if(I===C){N=y;continue}N.push(me(S=Ti,ff,mN).call(S,I))}}g.push(h.nodeValue.slice(0,m).replaceAll(TD,""))}else if(h===this.editorDiv){let C=g,N=0;for(const I of this.editorDiv.childNodes)N++===m&&(C=y),C.push(me(T=Ti,ff,mN).call(T,I))}te(this,Qa,`${g.join(`
`)}${l}${y.join(`
`)}`),me(this,Mr,gN).call(this);const v=new Range;let _=Math.sumPrecise(g.map(C=>C.length));for(const{firstChild:C}of this.editorDiv.childNodes)if(C.nodeType===Node.TEXT_NODE){const N=C.nodeValue.length;if(_<=N){v.setStart(C,_),v.setEnd(C,_);break}_-=N}c.removeAllRanges(),c.addRange(v)}get contentDiv(){return this.editorDiv}static async deserialize(i,r,o){var u;let l=null;if(i instanceof sie){const{data:{defaultAppearanceData:{fontSize:h,fontColor:m},rect:g,rotation:y,id:v,popupRef:_},textContent:A,textPosition:S,parent:{page:{pageNumber:T}}}=i;if(!A||A.length===0)return null;l=i={annotationType:gn.FREETEXT,color:Array.from(m),fontSize:h,value:A.join(`
`),position:S,pageIndex:T-1,rect:g.slice(0),rotation:y,id:v,deleted:!1,popupRef:_}}const c=await super.deserialize(i,r,o);return te(c,el,i.fontSize),te(c,Gc,Kt.makeHexColor(...i.color)),te(c,Qa,me(u=Ti,ff,e6).call(u,i.value)),c.annotationElementId=i.id||null,c._initialData=l,c}serialize(i=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Ti._internalPadding*this.parentScale,o=this.getRect(r,r),l=Di._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:P(this,Gc)),c={annotationType:gn.FREETEXT,color:l,fontSize:P(this,el),value:me(this,Mr,hie).call(this),pageIndex:this.pageIndex,rect:o,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return i?(c.isCopy=!0,c):this.annotationElementId&&!me(this,Mr,fie).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(i){const r=super.renderAnnotationElement(i);if(this.deleted)return r;const{style:o}=r;o.fontSize=`calc(${P(this,el)}px * var(--total-scale-factor))`,o.color=P(this,Gc),r.replaceChildren();for(const c of P(this,Qa).split(`
`)){const u=document.createElement("div");u.append(c?document.createTextNode(c):document.createElement("br")),r.append(u)}const l=Ti._internalPadding*this.parentScale;return i.updateEdited({rect:this.getRect(l,l),popupContent:P(this,Qa)}),r}resetAnnotationElement(i){super.resetAnnotationElement(i),i.resetEdited()}};Gc=new WeakMap,Qa=new WeakMap,SS=new WeakMap,n0=new WeakMap,el=new WeakMap,Mr=new WeakSet,cie=function(i){const r=l=>{this.editorDiv.style.fontSize=`calc(${l}px * var(--total-scale-factor))`,this.translate(0,-(l-P(this,el))*this.parentScale),te(this,el,l),me(this,Mr,pN).call(this)},o=P(this,el);this.addCommands({cmd:r.bind(this,i),undo:r.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:jn.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},uie=function(i){const r=l=>{te(this,Gc,this.editorDiv.style.color=l)},o=P(this,Gc);this.addCommands({cmd:r.bind(this,i),undo:r.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:jn.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},die=function(){var o;const i=[];this.editorDiv.normalize();let r=null;for(const l of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&l.nodeName==="BR"||(i.push(me(o=Ti,ff,mN).call(o,l)),r=l);return i.join(`
`)},pN=function(){const[i,r]=this.parentDimensions;let o;if(this.isAttachedToDOM)o=this.div.getBoundingClientRect();else{const{currentLayer:l,div:c}=this,u=c.style.display,h=c.classList.contains("hidden");c.classList.remove("hidden"),c.style.display="hidden",l.div.append(this.div),o=c.getBoundingClientRect(),c.remove(),c.style.display=u,c.classList.toggle("hidden",h)}this.rotation%180===this.parentRotation%180?(this.width=o.width/i,this.height=o.height/r):(this.width=o.height/i,this.height=o.width/r),this.fixAndSetPosition()},ff=new WeakSet,mN=function(i){return(i.nodeType===Node.TEXT_NODE?i.nodeValue:i.innerText).replaceAll(TD,"")},gN=function(){if(this.editorDiv.replaceChildren(),!!P(this,Qa))for(const i of P(this,Qa).split(`
`)){const r=document.createElement("div");r.append(i?document.createTextNode(i):document.createElement("br")),this.editorDiv.append(r)}},hie=function(){return P(this,Qa).replaceAll(" "," ")},e6=function(i){return i.replaceAll(" "," ")},fie=function(i){const{value:r,fontSize:o,color:l,pageIndex:c}=this._initialData;return this._hasBeenMoved||i.value!==r||i.fontSize!==o||i.color.some((u,h)=>u!==l[h])||i.pageIndex!==c},pe(Ti,ff),yt(Ti,"_freeTextDefaultContent",""),yt(Ti,"_internalPadding",0),yt(Ti,"_defaultColor",null),yt(Ti,"_defaultFontSize",10),yt(Ti,"_type","freetext"),yt(Ti,"_editorType",gn.FREETEXT);let QO=Ti;class It{toSVGPath(){mi("Abstract method `toSVGPath` must be implemented.")}get box(){mi("Abstract getter `box` must be implemented.")}serialize(e,i){mi("Abstract method `serialize` must be implemented.")}static _rescale(e,i,r,o,l,c){c||(c=new Float32Array(e.length));for(let u=0,h=e.length;u<h;u+=2)c[u]=i+e[u]*o,c[u+1]=r+e[u+1]*l;return c}static _rescaleAndSwap(e,i,r,o,l,c){c||(c=new Float32Array(e.length));for(let u=0,h=e.length;u<h;u+=2)c[u]=i+e[u+1]*o,c[u+1]=r+e[u]*l;return c}static _translate(e,i,r,o){o||(o=new Float32Array(e.length));for(let l=0,c=e.length;l<c;l+=2)o[l]=i+e[l],o[l+1]=r+e[l+1];return o}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,i,r,o,l){switch(l){case 90:return[1-i/r,e/o];case 180:return[1-e/r,1-i/o];case 270:return[i/r,1-e/o];default:return[e/r,i/o]}}static _normalizePagePoint(e,i,r){switch(r){case 90:return[1-i,e];case 180:return[1-e,1-i];case 270:return[i,1-e];default:return[e,i]}}static createBezierPoints(e,i,r,o,l,c){return[(e+5*r)/6,(i+5*o)/6,(5*r+l)/6,(5*o+c)/6,(r+l)/2,(o+c)/2]}}yt(It,"PRECISION",1e-4);var tl,Xc,a1,l1,fd,kn,i0,r0,AS,TS,c1,u1,lm,CS,H5,G5,Kr,o2,pie,mie,gie,bie,yie,vie;const Dh=class Dh{constructor({x:e,y:i},r,o,l,c,u=0){pe(this,Kr);pe(this,tl);pe(this,Xc,[]);pe(this,a1);pe(this,l1);pe(this,fd,[]);pe(this,kn,new Float32Array(18));pe(this,i0);pe(this,r0);pe(this,AS);pe(this,TS);pe(this,c1);pe(this,u1);pe(this,lm,[]);te(this,tl,r),te(this,u1,l*o),te(this,l1,c),P(this,kn).set([NaN,NaN,NaN,NaN,e,i],6),te(this,a1,u),te(this,TS,P(Dh,CS)*o),te(this,AS,P(Dh,G5)*o),te(this,c1,o),P(this,lm).push(e,i)}isEmpty(){return isNaN(P(this,kn)[8])}add({x:e,y:i}){var Y;te(this,i0,e),te(this,r0,i);const[r,o,l,c]=P(this,tl);let[u,h,m,g]=P(this,kn).subarray(8,12);const y=e-m,v=i-g,_=Math.hypot(y,v);if(_<P(this,AS))return!1;const A=_-P(this,TS),S=A/_,T=S*y,C=S*v;let N=u,I=h;u=m,h=g,m+=T,g+=C,(Y=P(this,lm))==null||Y.push(e,i);const O=-C/A,F=T/A,L=O*P(this,u1),z=F*P(this,u1);return P(this,kn).set(P(this,kn).subarray(2,8),0),P(this,kn).set([m+L,g+z],4),P(this,kn).set(P(this,kn).subarray(14,18),12),P(this,kn).set([m-L,g-z],16),isNaN(P(this,kn)[6])?(P(this,fd).length===0&&(P(this,kn).set([u+L,h+z],2),P(this,fd).push(NaN,NaN,NaN,NaN,(u+L-r)/l,(h+z-o)/c),P(this,kn).set([u-L,h-z],14),P(this,Xc).push(NaN,NaN,NaN,NaN,(u-L-r)/l,(h-z-o)/c)),P(this,kn).set([N,I,u,h,m,g],6),!this.isEmpty()):(P(this,kn).set([N,I,u,h,m,g],6),Math.abs(Math.atan2(I-h,N-u)-Math.atan2(C,T))<Math.PI/2?([u,h,m,g]=P(this,kn).subarray(2,6),P(this,fd).push(NaN,NaN,NaN,NaN,((u+m)/2-r)/l,((h+g)/2-o)/c),[u,h,N,I]=P(this,kn).subarray(14,18),P(this,Xc).push(NaN,NaN,NaN,NaN,((N+u)/2-r)/l,((I+h)/2-o)/c),!0):([N,I,u,h,m,g]=P(this,kn).subarray(0,6),P(this,fd).push(((N+5*u)/6-r)/l,((I+5*h)/6-o)/c,((5*u+m)/6-r)/l,((5*h+g)/6-o)/c,((u+m)/2-r)/l,((h+g)/2-o)/c),[m,g,u,h,N,I]=P(this,kn).subarray(12,18),P(this,Xc).push(((N+5*u)/6-r)/l,((I+5*h)/6-o)/c,((5*u+m)/6-r)/l,((5*h+g)/6-o)/c,((u+m)/2-r)/l,((h+g)/2-o)/c),!0))}toSVGPath(){if(this.isEmpty())return"";const e=P(this,fd),i=P(this,Xc);if(isNaN(P(this,kn)[6])&&!this.isEmpty())return me(this,Kr,pie).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let o=6;o<e.length;o+=6)isNaN(e[o])?r.push(`L${e[o+4]} ${e[o+5]}`):r.push(`C${e[o]} ${e[o+1]} ${e[o+2]} ${e[o+3]} ${e[o+4]} ${e[o+5]}`);me(this,Kr,gie).call(this,r);for(let o=i.length-6;o>=6;o-=6)isNaN(i[o])?r.push(`L${i[o+4]} ${i[o+5]}`):r.push(`C${i[o]} ${i[o+1]} ${i[o+2]} ${i[o+3]} ${i[o+4]} ${i[o+5]}`);return me(this,Kr,mie).call(this,r),r.join(" ")}newFreeDrawOutline(e,i,r,o,l,c){return new wie(e,i,r,o,l,c)}getOutlines(){var y;const e=P(this,fd),i=P(this,Xc),r=P(this,kn),[o,l,c,u]=P(this,tl),h=new Float32Array((((y=P(this,lm))==null?void 0:y.length)??0)+2);for(let v=0,_=h.length-2;v<_;v+=2)h[v]=(P(this,lm)[v]-o)/c,h[v+1]=(P(this,lm)[v+1]-l)/u;if(h[h.length-2]=(P(this,i0)-o)/c,h[h.length-1]=(P(this,r0)-l)/u,isNaN(r[6])&&!this.isEmpty())return me(this,Kr,bie).call(this,h);const m=new Float32Array(P(this,fd).length+24+P(this,Xc).length);let g=e.length;for(let v=0;v<g;v+=2){if(isNaN(e[v])){m[v]=m[v+1]=NaN;continue}m[v]=e[v],m[v+1]=e[v+1]}g=me(this,Kr,vie).call(this,m,g);for(let v=i.length-6;v>=6;v-=6)for(let _=0;_<6;_+=2){if(isNaN(i[v+_])){m[g]=m[g+1]=NaN,g+=2;continue}m[g]=i[v+_],m[g+1]=i[v+_+1],g+=2}return me(this,Kr,yie).call(this,m,g),this.newFreeDrawOutline(m,h,P(this,tl),P(this,c1),P(this,a1),P(this,l1))}};tl=new WeakMap,Xc=new WeakMap,a1=new WeakMap,l1=new WeakMap,fd=new WeakMap,kn=new WeakMap,i0=new WeakMap,r0=new WeakMap,AS=new WeakMap,TS=new WeakMap,c1=new WeakMap,u1=new WeakMap,lm=new WeakMap,CS=new WeakMap,H5=new WeakMap,G5=new WeakMap,Kr=new WeakSet,o2=function(){const e=P(this,kn).subarray(4,6),i=P(this,kn).subarray(16,18),[r,o,l,c]=P(this,tl);return[(P(this,i0)+(e[0]-i[0])/2-r)/l,(P(this,r0)+(e[1]-i[1])/2-o)/c,(P(this,i0)+(i[0]-e[0])/2-r)/l,(P(this,r0)+(i[1]-e[1])/2-o)/c]},pie=function(){const[e,i,r,o]=P(this,tl),[l,c,u,h]=me(this,Kr,o2).call(this);return`M${(P(this,kn)[2]-e)/r} ${(P(this,kn)[3]-i)/o} L${(P(this,kn)[4]-e)/r} ${(P(this,kn)[5]-i)/o} L${l} ${c} L${u} ${h} L${(P(this,kn)[16]-e)/r} ${(P(this,kn)[17]-i)/o} L${(P(this,kn)[14]-e)/r} ${(P(this,kn)[15]-i)/o} Z`},mie=function(e){const i=P(this,Xc);e.push(`L${i[4]} ${i[5]} Z`)},gie=function(e){const[i,r,o,l]=P(this,tl),c=P(this,kn).subarray(4,6),u=P(this,kn).subarray(16,18),[h,m,g,y]=me(this,Kr,o2).call(this);e.push(`L${(c[0]-i)/o} ${(c[1]-r)/l} L${h} ${m} L${g} ${y} L${(u[0]-i)/o} ${(u[1]-r)/l}`)},bie=function(e){const i=P(this,kn),[r,o,l,c]=P(this,tl),[u,h,m,g]=me(this,Kr,o2).call(this),y=new Float32Array(36);return y.set([NaN,NaN,NaN,NaN,(i[2]-r)/l,(i[3]-o)/c,NaN,NaN,NaN,NaN,(i[4]-r)/l,(i[5]-o)/c,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,m,g,NaN,NaN,NaN,NaN,(i[16]-r)/l,(i[17]-o)/c,NaN,NaN,NaN,NaN,(i[14]-r)/l,(i[15]-o)/c],0),this.newFreeDrawOutline(y,e,P(this,tl),P(this,c1),P(this,a1),P(this,l1))},yie=function(e,i){const r=P(this,Xc);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],i),i+=6},vie=function(e,i){const r=P(this,kn).subarray(4,6),o=P(this,kn).subarray(16,18),[l,c,u,h]=P(this,tl),[m,g,y,v]=me(this,Kr,o2).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-l)/u,(r[1]-c)/h,NaN,NaN,NaN,NaN,m,g,NaN,NaN,NaN,NaN,y,v,NaN,NaN,NaN,NaN,(o[0]-l)/u,(o[1]-c)/h],i),i+=24},pe(Dh,CS,8),pe(Dh,H5,2),pe(Dh,G5,P(Dh,CS)+P(Dh,H5));let C5=Dh;var d1,s0,Zh,DS,nl,NS,yr,X5,xie;class wie extends It{constructor(i,r,o,l,c,u){super();pe(this,X5);pe(this,d1);pe(this,s0,new Float32Array(4));pe(this,Zh);pe(this,DS);pe(this,nl);pe(this,NS);pe(this,yr);te(this,yr,i),te(this,nl,r),te(this,d1,o),te(this,NS,l),te(this,Zh,c),te(this,DS,u),this.lastPoint=[NaN,NaN],me(this,X5,xie).call(this,u);const[h,m,g,y]=P(this,s0);for(let v=0,_=i.length;v<_;v+=2)i[v]=(i[v]-h)/g,i[v+1]=(i[v+1]-m)/y;for(let v=0,_=r.length;v<_;v+=2)r[v]=(r[v]-h)/g,r[v+1]=(r[v+1]-m)/y}toSVGPath(){const i=[`M${P(this,yr)[4]} ${P(this,yr)[5]}`];for(let r=6,o=P(this,yr).length;r<o;r+=6){if(isNaN(P(this,yr)[r])){i.push(`L${P(this,yr)[r+4]} ${P(this,yr)[r+5]}`);continue}i.push(`C${P(this,yr)[r]} ${P(this,yr)[r+1]} ${P(this,yr)[r+2]} ${P(this,yr)[r+3]} ${P(this,yr)[r+4]} ${P(this,yr)[r+5]}`)}return i.push("Z"),i.join(" ")}serialize([i,r,o,l],c){const u=o-i,h=l-r;let m,g;switch(c){case 0:m=It._rescale(P(this,yr),i,l,u,-h),g=It._rescale(P(this,nl),i,l,u,-h);break;case 90:m=It._rescaleAndSwap(P(this,yr),i,r,u,h),g=It._rescaleAndSwap(P(this,nl),i,r,u,h);break;case 180:m=It._rescale(P(this,yr),o,r,-u,h),g=It._rescale(P(this,nl),o,r,-u,h);break;case 270:m=It._rescaleAndSwap(P(this,yr),o,l,-u,-h),g=It._rescaleAndSwap(P(this,nl),o,l,-u,-h);break}return{outline:Array.from(m),points:[Array.from(g)]}}get box(){return P(this,s0)}newOutliner(i,r,o,l,c,u=0){return new C5(i,r,o,l,c,u)}getNewOutline(i,r){const[o,l,c,u]=P(this,s0),[h,m,g,y]=P(this,d1),v=c*g,_=u*y,A=o*g+h,S=l*y+m,T=this.newOutliner({x:P(this,nl)[0]*v+A,y:P(this,nl)[1]*_+S},P(this,d1),P(this,NS),i,P(this,DS),r??P(this,Zh));for(let C=2;C<P(this,nl).length;C+=2)T.add({x:P(this,nl)[C]*v+A,y:P(this,nl)[C+1]*_+S});return T.getOutlines()}}d1=new WeakMap,s0=new WeakMap,Zh=new WeakMap,DS=new WeakMap,nl=new WeakMap,NS=new WeakMap,yr=new WeakMap,X5=new WeakSet,xie=function(i){const r=P(this,yr);let o=r[4],l=r[5];const c=[o,l,o,l];let u=o,h=l;const m=i?Math.max:Math.min;for(let y=6,v=r.length;y<v;y+=6){const _=r[y+4],A=r[y+5];if(isNaN(r[y]))Kt.pointBoundingBox(_,A,c),h<A?(u=_,h=A):h===A&&(u=m(u,_));else{const S=[1/0,1/0,-1/0,-1/0];Kt.bezierBoundingBox(o,l,...r.slice(y,y+6),S),Kt.rectBoundingBox(...S,c),h<S[3]?(u=S[2],h=S[3]):h===S[3]&&(u=m(u,S[2]))}o=_,l=A}const g=P(this,s0);g[0]=c[0]-P(this,Zh),g[1]=c[1]-P(this,Zh),g[2]=c[2]-c[0]+2*P(this,Zh),g[3]=c[3]-c[1]+2*P(this,Zh),this.lastPoint=[u,h]};var PS,IS,cm,Yc,Go,_ie,bN,kie,Eie,n6;class t6{constructor(e,i=0,r=0,o=!0){pe(this,Go);pe(this,PS);pe(this,IS);pe(this,cm,[]);pe(this,Yc,[]);const l=[1/0,1/0,-1/0,-1/0],c=10**-4;for(const{x:_,y:A,width:S,height:T}of e){const C=Math.floor((_-i)/c)*c,N=Math.ceil((_+S+i)/c)*c,I=Math.floor((A-i)/c)*c,O=Math.ceil((A+T+i)/c)*c,F=[C,I,O,!0],L=[N,I,O,!1];P(this,cm).push(F,L),Kt.rectBoundingBox(C,I,N,O,l)}const u=l[2]-l[0]+2*r,h=l[3]-l[1]+2*r,m=l[0]-r,g=l[1]-r,y=P(this,cm).at(o?-1:-2),v=[y[0],y[2]];for(const _ of P(this,cm)){const[A,S,T]=_;_[0]=(A-m)/u,_[1]=(S-g)/h,_[2]=(T-g)/h}te(this,PS,new Float32Array([m,g,u,h])),te(this,IS,v)}getOutlines(){P(this,cm).sort((i,r)=>i[0]-r[0]||i[1]-r[1]||i[2]-r[2]);const e=[];for(const i of P(this,cm))i[3]?(e.push(...me(this,Go,n6).call(this,i)),me(this,Go,kie).call(this,i)):(me(this,Go,Eie).call(this,i),e.push(...me(this,Go,n6).call(this,i)));return me(this,Go,_ie).call(this,e)}}PS=new WeakMap,IS=new WeakMap,cm=new WeakMap,Yc=new WeakMap,Go=new WeakSet,_ie=function(e){const i=[],r=new Set;for(const c of e){const[u,h,m]=c;i.push([u,h,c],[u,m,c])}i.sort((c,u)=>c[1]-u[1]||c[0]-u[0]);for(let c=0,u=i.length;c<u;c+=2){const h=i[c][2],m=i[c+1][2];h.push(m),m.push(h),r.add(h),r.add(m)}const o=[];let l;for(;r.size>0;){const c=r.values().next().value;let[u,h,m,g,y]=c;r.delete(c);let v=u,_=h;for(l=[u,m],o.push(l);;){let A;if(r.has(g))A=g;else if(r.has(y))A=y;else break;r.delete(A),[u,h,m,g,y]=A,v!==u&&(l.push(v,_,u,_===h?h:m),v=u),_=_===h?m:h}l.push(v,_)}return new $Ce(o,P(this,PS),P(this,IS))},bN=function(e){const i=P(this,Yc);let r=0,o=i.length-1;for(;r<=o;){const l=r+o>>1,c=i[l][0];if(c===e)return l;c<e?r=l+1:o=l-1}return o+1},kie=function([,e,i]){const r=me(this,Go,bN).call(this,e);P(this,Yc).splice(r,0,[e,i])},Eie=function([,e,i]){const r=me(this,Go,bN).call(this,e);for(let o=r;o<P(this,Yc).length;o++){const[l,c]=P(this,Yc)[o];if(l!==e)break;if(l===e&&c===i){P(this,Yc).splice(o,1);return}}for(let o=r-1;o>=0;o--){const[l,c]=P(this,Yc)[o];if(l!==e)break;if(l===e&&c===i){P(this,Yc).splice(o,1);return}}},n6=function(e){const[i,r,o]=e,l=[[i,r,o]],c=me(this,Go,bN).call(this,o);for(let u=0;u<c;u++){const[h,m]=P(this,Yc)[u];for(let g=0,y=l.length;g<y;g++){const[,v,_]=l[g];if(!(m<=v||_<=h)){if(v>=h){if(_>m)l[g][1]=m;else{if(y===1)return[];l.splice(g,1),g--,y--}continue}l[g][2]=h,_>m&&l.push([i,m,_])}}}return l};var jS,h1;class $Ce extends It{constructor(i,r,o){super();pe(this,jS);pe(this,h1);te(this,h1,i),te(this,jS,r),this.lastPoint=o}toSVGPath(){const i=[];for(const r of P(this,h1)){let[o,l]=r;i.push(`M${o} ${l}`);for(let c=2;c<r.length;c+=2){const u=r[c],h=r[c+1];u===o?(i.push(`V${h}`),l=h):h===l&&(i.push(`H${u}`),o=u)}i.push("Z")}return i.join(" ")}serialize([i,r,o,l],c){const u=[],h=o-i,m=l-r;for(const g of P(this,h1)){const y=new Array(g.length);for(let v=0;v<g.length;v+=2)y[v]=i+g[v]*h,y[v+1]=l-g[v+1]*m;u.push(y)}return u}get box(){return P(this,jS)}get classNamesForOutlining(){return["highlightOutline"]}}jS=new WeakMap,h1=new WeakMap;class i6 extends C5{newFreeDrawOutline(e,i,r,o,l,c){return new qCe(e,i,r,o,l,c)}}class qCe extends wie{newOutliner(e,i,r,o,l,c=0){return new i6(e,i,r,o,l,c)}}var Kc,o0,f1,Gr,RS,p1,MS,OS,um,Zc,m1,FS,pi,r6,s6,o6,lb,Sie,Np;const ha=class ha{constructor({editor:e=null,uiManager:i=null}){pe(this,pi);pe(this,Kc,null);pe(this,o0,null);pe(this,f1);pe(this,Gr,null);pe(this,RS,!1);pe(this,p1,!1);pe(this,MS,null);pe(this,OS);pe(this,um,null);pe(this,Zc,null);pe(this,m1);var r;e?(te(this,p1,!1),te(this,m1,jn.HIGHLIGHT_COLOR),te(this,MS,e)):(te(this,p1,!0),te(this,m1,jn.HIGHLIGHT_DEFAULT_COLOR)),te(this,Zc,(e==null?void 0:e._uiManager)||i),te(this,OS,P(this,Zc)._eventBus),te(this,f1,(e==null?void 0:e.color)||((r=P(this,Zc))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),P(ha,FS)||te(ha,FS,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Tn(this,"_keyboardManager",new vA([[["Escape","mac+Escape"],ha.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],ha.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],ha.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],ha.prototype._moveToPrevious],[["Home","mac+Home"],ha.prototype._moveToBeginning],[["End","mac+End"],ha.prototype._moveToEnd]]))}renderButton(){const e=te(this,Kc,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const i=P(this,Zc)._signal;e.addEventListener("click",me(this,pi,lb).bind(this),{signal:i}),e.addEventListener("keydown",me(this,pi,o6).bind(this),{signal:i});const r=te(this,o0,document.createElement("span"));return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=P(this,f1),e.append(r),e}renderMainDropdown(){const e=te(this,Gr,me(this,pi,r6).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===P(this,Kc)){me(this,pi,lb).call(this,e);return}const i=e.target.getAttribute("data-color");i&&me(this,pi,s6).call(this,i,e)}_moveToNext(e){var i,r;if(!P(this,pi,Np)){me(this,pi,lb).call(this,e);return}if(e.target===P(this,Kc)){(i=P(this,Gr).firstChild)==null||i.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var i,r;if(e.target===((i=P(this,Gr))==null?void 0:i.firstChild)||e.target===P(this,Kc)){P(this,pi,Np)&&this._hideDropdownFromKeyboard();return}P(this,pi,Np)||me(this,pi,lb).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var i;if(!P(this,pi,Np)){me(this,pi,lb).call(this,e);return}(i=P(this,Gr).firstChild)==null||i.focus()}_moveToEnd(e){var i;if(!P(this,pi,Np)){me(this,pi,lb).call(this,e);return}(i=P(this,Gr).lastChild)==null||i.focus()}hideDropdown(){var e,i;(e=P(this,Gr))==null||e.classList.add("hidden"),(i=P(this,um))==null||i.abort(),te(this,um,null)}_hideDropdownFromKeyboard(){var e;if(!P(this,p1)){if(!P(this,pi,Np)){(e=P(this,MS))==null||e.unselect();return}this.hideDropdown(),P(this,Kc).focus({preventScroll:!0,focusVisible:P(this,RS)})}}updateColor(e){if(P(this,o0)&&(P(this,o0).style.backgroundColor=e),!P(this,Gr))return;const i=P(this,Zc).highlightColors.values();for(const r of P(this,Gr).children)r.setAttribute("aria-selected",i.next().value===e)}destroy(){var e,i;(e=P(this,Kc))==null||e.remove(),te(this,Kc,null),te(this,o0,null),(i=P(this,Gr))==null||i.remove(),te(this,Gr,null)}};Kc=new WeakMap,o0=new WeakMap,f1=new WeakMap,Gr=new WeakMap,RS=new WeakMap,p1=new WeakMap,MS=new WeakMap,OS=new WeakMap,um=new WeakMap,Zc=new WeakMap,m1=new WeakMap,FS=new WeakMap,pi=new WeakSet,r6=function(){const e=document.createElement("div"),i=P(this,Zc)._signal;e.addEventListener("contextmenu",uu,{signal:i}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[r,o]of P(this,Zc).highlightColors){const l=document.createElement("button");l.tabIndex="0",l.role="option",l.setAttribute("data-color",o),l.title=r,l.setAttribute("data-l10n-id",P(ha,FS)[r]);const c=document.createElement("span");l.append(c),c.className="swatch",c.style.backgroundColor=o,l.setAttribute("aria-selected",o===P(this,f1)),l.addEventListener("click",me(this,pi,s6).bind(this,o),{signal:i}),e.append(l)}return e.addEventListener("keydown",me(this,pi,o6).bind(this),{signal:i}),e},s6=function(e,i){i.stopPropagation(),P(this,OS).dispatch("switchannotationeditorparams",{source:this,type:P(this,m1),value:e})},o6=function(e){ha._keyboardManager.exec(this,e)},lb=function(e){if(P(this,pi,Np)){this.hideDropdown();return}if(te(this,RS,e.detail===0),P(this,um)||(te(this,um,new AbortController),window.addEventListener("pointerdown",me(this,pi,Sie).bind(this),{signal:P(this,Zc).combinedSignal(P(this,um))})),P(this,Gr)){P(this,Gr).classList.remove("hidden");return}const i=te(this,Gr,me(this,pi,r6).call(this));P(this,Kc).append(i)},Sie=function(e){var i;(i=P(this,Gr))!=null&&i.contains(e.target)||this.hideDropdown()},Np=function(){return P(this,Gr)&&!P(this,Gr).classList.contains("hidden")},pe(ha,FS,null);let D5=ha;var g1,LS,Jh,a0,b1,ma,US,BS,l0,ec,il,js,y1,Qh,ao,v1,tc,zS,vn,a6,yN,Aie,Tie,Cie,l6,cb,lc,Uv,Die,vN,a2,Nie,Pie,Iie,jie,Rie;const Jn=class Jn extends Di{constructor(i){super({...i,name:"highlightEditor"});pe(this,vn);pe(this,g1,null);pe(this,LS,0);pe(this,Jh);pe(this,a0,null);pe(this,b1,null);pe(this,ma,null);pe(this,US,null);pe(this,BS,0);pe(this,l0,null);pe(this,ec,null);pe(this,il,null);pe(this,js,!1);pe(this,y1,null);pe(this,Qh);pe(this,ao,null);pe(this,v1,"");pe(this,tc);pe(this,zS,"");this.color=i.color||Jn._defaultColor,te(this,tc,i.thickness||Jn._defaultThickness),te(this,Qh,i.opacity||Jn._defaultOpacity),te(this,Jh,i.boxes||null),te(this,zS,i.methodOfCreation||""),te(this,v1,i.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",i.highlightId>-1?(te(this,js,!0),me(this,vn,yN).call(this,i),me(this,vn,cb).call(this)):P(this,Jh)&&(te(this,g1,i.anchorNode),te(this,LS,i.anchorOffset),te(this,US,i.focusNode),te(this,BS,i.focusOffset),me(this,vn,a6).call(this),me(this,vn,cb).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const i=Jn.prototype;return Tn(this,"_keyboardManager",new vA([[["ArrowLeft","mac+ArrowLeft"],i._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],i._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],i._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],i._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:P(this,js)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:P(this,tc),methodOfCreation:P(this,zS)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(i){return{numberOfColors:i.get("color").size}}static initialize(i,r){var o;Di.initialize(i,r),Jn._defaultColor||(Jn._defaultColor=((o=r.highlightColors)==null?void 0:o.values().next().value)||"#fff066")}static updateDefaultParams(i,r){switch(i){case jn.HIGHLIGHT_DEFAULT_COLOR:Jn._defaultColor=r;break;case jn.HIGHLIGHT_THICKNESS:Jn._defaultThickness=r;break}}translateInPage(i,r){}get toolbarPosition(){return P(this,y1)}updateParams(i,r){switch(i){case jn.HIGHLIGHT_COLOR:me(this,vn,Aie).call(this,r);break;case jn.HIGHLIGHT_THICKNESS:me(this,vn,Tie).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[jn.HIGHLIGHT_DEFAULT_COLOR,Jn._defaultColor],[jn.HIGHLIGHT_THICKNESS,Jn._defaultThickness]]}get propertiesToUpdate(){return[[jn.HIGHLIGHT_COLOR,this.color||Jn._defaultColor],[jn.HIGHLIGHT_THICKNESS,P(this,tc)||Jn._defaultThickness],[jn.HIGHLIGHT_FREE,P(this,js)]]}async addEditToolbar(){const i=await super.addEditToolbar();return i?(this._uiManager.highlightColors&&(te(this,b1,new D5({editor:this})),i.addColorPicker(P(this,b1))),i):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(me(this,vn,a2).call(this))}getBaseTranslation(){return[0,0]}getRect(i,r){return super.getRect(i,r,me(this,vn,a2).call(this))}onceAdded(i){this.annotationElementId||this.parent.addUndoableEditor(this),i&&this.div.focus()}remove(){me(this,vn,l6).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(me(this,vn,cb).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(i){var o;let r=!1;this.parent&&!i?me(this,vn,l6).call(this):i&&(me(this,vn,cb).call(this,i),r=!this.parent&&((o=this.div)==null?void 0:o.classList.contains("selectedEditor"))),super.setParent(i),this.show(this._isVisible),r&&this.select()}rotate(i){var l,c,u;const{drawLayer:r}=this.parent;let o;P(this,js)?(i=(i-this.rotation+360)%360,o=me(l=Jn,lc,Uv).call(l,P(this,ec).box,i)):o=me(c=Jn,lc,Uv).call(c,[this.x,this.y,this.width,this.height],i),r.updateProperties(P(this,il),{bbox:o,root:{"data-main-rotation":i}}),r.updateProperties(P(this,ao),{bbox:me(u=Jn,lc,Uv).call(u,P(this,ma).box,i),root:{"data-main-rotation":i}})}render(){if(this.div)return this.div;const i=super.render();P(this,v1)&&(i.setAttribute("aria-label",P(this,v1)),i.setAttribute("role","mark")),P(this,js)?i.classList.add("free"):this.div.addEventListener("keydown",me(this,vn,Die).bind(this),{signal:this._uiManager._signal});const r=te(this,l0,document.createElement("div"));i.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=P(this,a0);const[o,l]=this.parentDimensions;return this.setDims(this.width*o,this.height*l),HL(this,P(this,l0),["pointerover","pointerleave"]),this.enableEditing(),i}pointerover(){var i;this.isSelected||(i=this.parent)==null||i.drawLayer.updateProperties(P(this,ao),{rootClass:{hovered:!0}})}pointerleave(){var i;this.isSelected||(i=this.parent)==null||i.drawLayer.updateProperties(P(this,ao),{rootClass:{hovered:!1}})}_moveCaret(i){switch(this.parent.unselect(this),i){case 0:case 2:me(this,vn,vN).call(this,!0);break;case 1:case 3:me(this,vn,vN).call(this,!1);break}}select(){var i;super.select(),P(this,ao)&&((i=this.parent)==null||i.drawLayer.updateProperties(P(this,ao),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var i;super.unselect(),P(this,ao)&&((i=this.parent)==null||i.drawLayer.updateProperties(P(this,ao),{rootClass:{selected:!1}}),P(this,js)||me(this,vn,vN).call(this,!1))}get _mustFixPosition(){return!P(this,js)}show(i=this._isVisible){super.show(i),this.parent&&(this.parent.drawLayer.updateProperties(P(this,il),{rootClass:{hidden:!i}}),this.parent.drawLayer.updateProperties(P(this,ao),{rootClass:{hidden:!i}}))}static startHighlighting(i,r,{target:o,x:l,y:c}){const{x:u,y:h,width:m,height:g}=o.getBoundingClientRect(),y=new AbortController,v=i.combinedSignal(y),_=A=>{y.abort(),me(this,lc,jie).call(this,i,A)};window.addEventListener("blur",_,{signal:v}),window.addEventListener("pointerup",_,{signal:v}),window.addEventListener("pointerdown",Ir,{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",uu,{signal:v}),o.addEventListener("pointermove",me(this,lc,Iie).bind(this,i),{signal:v}),this._freeHighlight=new i6({x:l,y:c},[u,h,m,g],i.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=i.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(i,r,o){var S,T,C,N;let l=null;if(i instanceof aie){const{data:{quadPoints:I,rect:O,rotation:F,id:L,color:z,opacity:B,popupRef:Y},parent:{page:{pageNumber:se}}}=i;l=i={annotationType:gn.HIGHLIGHT,color:Array.from(z),opacity:B,quadPoints:I,boxes:null,pageIndex:se-1,rect:O.slice(0),rotation:F,id:L,deleted:!1,popupRef:Y}}else if(i instanceof KL){const{data:{inkLists:I,rect:O,rotation:F,id:L,color:z,borderStyle:{rawWidth:B},popupRef:Y},parent:{page:{pageNumber:se}}}=i;l=i={annotationType:gn.HIGHLIGHT,color:Array.from(z),thickness:B,inkLists:I,boxes:null,pageIndex:se-1,rect:O.slice(0),rotation:F,id:L,deleted:!1,popupRef:Y}}const{color:c,quadPoints:u,inkLists:h,opacity:m}=i,g=await super.deserialize(i,r,o);g.color=Kt.makeHexColor(...c),te(g,Qh,m||1),h&&te(g,tc,i.thickness),g.annotationElementId=i.id||null,g._initialData=l;const[y,v]=g.pageDimensions,[_,A]=g.pageTranslation;if(u){const I=te(g,Jh,[]);for(let O=0;O<u.length;O+=8)I.push({x:(u[O]-_)/y,y:1-(u[O+1]-A)/v,width:(u[O+2]-u[O])/y,height:(u[O+1]-u[O+5])/v});me(S=g,vn,a6).call(S),me(T=g,vn,cb).call(T),g.rotate(g.rotation)}else if(h){te(g,js,!0);const I=h[0],O={x:I[0]-_,y:v-(I[1]-A)},F=new i6(O,[0,0,y,v],1,P(g,tc)/2,!0,.001);for(let B=0,Y=I.length;B<Y;B+=2)O.x=I[B]-_,O.y=v-(I[B+1]-A),F.add(O);const{id:L,clipPathId:z}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:g.color,"fill-opacity":g._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:F.toSVGPath()}},!0,!0);me(C=g,vn,yN).call(C,{highlightOutlines:F.getOutlines(),highlightId:L,clipPathId:z}),me(N=g,vn,cb).call(N),g.rotate(g.parentRotation)}return g}serialize(i=!1){if(this.isEmpty()||i)return null;if(this.deleted)return this.serializeDeleted();const r=this.getRect(0,0),o=Di._colorManager.convert(this.color),l={annotationType:gn.HIGHLIGHT,color:o,opacity:P(this,Qh),thickness:P(this,tc),quadPoints:me(this,vn,Nie).call(this),outlines:me(this,vn,Pie).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:me(this,vn,a2).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!me(this,vn,Rie).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(i){return i.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};g1=new WeakMap,LS=new WeakMap,Jh=new WeakMap,a0=new WeakMap,b1=new WeakMap,ma=new WeakMap,US=new WeakMap,BS=new WeakMap,l0=new WeakMap,ec=new WeakMap,il=new WeakMap,js=new WeakMap,y1=new WeakMap,Qh=new WeakMap,ao=new WeakMap,v1=new WeakMap,tc=new WeakMap,zS=new WeakMap,vn=new WeakSet,a6=function(){const i=new t6(P(this,Jh),.001);te(this,ec,i.getOutlines()),[this.x,this.y,this.width,this.height]=P(this,ec).box;const r=new t6(P(this,Jh),.0025,.001,this._uiManager.direction==="ltr");te(this,ma,r.getOutlines());const{lastPoint:o}=P(this,ma);te(this,y1,[(o[0]-this.x)/this.width,(o[1]-this.y)/this.height])},yN=function({highlightOutlines:i,highlightId:r,clipPathId:o}){var y,v;if(te(this,ec,i),te(this,ma,i.getNewOutline(P(this,tc)/2+1.5,.0025)),r>=0)te(this,il,r),te(this,a0,o),this.parent.drawLayer.finalizeDraw(r,{bbox:i.box,path:{d:i.toSVGPath()}}),te(this,ao,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:P(this,ma).box,path:{d:P(this,ma).toSVGPath()}},!0));else if(this.parent){const _=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(P(this,il),{bbox:me(y=Jn,lc,Uv).call(y,P(this,ec).box,(_-this.rotation+360)%360),path:{d:i.toSVGPath()}}),this.parent.drawLayer.updateProperties(P(this,ao),{bbox:me(v=Jn,lc,Uv).call(v,P(this,ma).box,_),path:{d:P(this,ma).toSVGPath()}})}const[c,u,h,m]=i.box;switch(this.rotation){case 0:this.x=c,this.y=u,this.width=h,this.height=m;break;case 90:{const[_,A]=this.parentDimensions;this.x=u,this.y=1-c,this.width=h*A/_,this.height=m*_/A;break}case 180:this.x=1-c,this.y=1-u,this.width=h,this.height=m;break;case 270:{const[_,A]=this.parentDimensions;this.x=1-u,this.y=c,this.width=h*A/_,this.height=m*_/A;break}}const{lastPoint:g}=P(this,ma);te(this,y1,[(g[0]-c)/h,(g[1]-u)/m])},Aie=function(i){const r=(c,u)=>{var h,m;this.color=c,te(this,Qh,u),(h=this.parent)==null||h.drawLayer.updateProperties(P(this,il),{root:{fill:c,"fill-opacity":u}}),(m=P(this,b1))==null||m.updateColor(c)},o=this.color,l=P(this,Qh);this.addCommands({cmd:r.bind(this,i,Jn._defaultOpacity),undo:r.bind(this,o,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:jn.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(i)},!0)},Tie=function(i){const r=P(this,tc),o=l=>{te(this,tc,l),me(this,vn,Cie).call(this,l)};this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:jn.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:i},!0)},Cie=function(i){if(!P(this,js))return;me(this,vn,yN).call(this,{highlightOutlines:P(this,ec).getNewOutline(i/2)}),this.fixAndSetPosition();const[r,o]=this.parentDimensions;this.setDims(this.width*r,this.height*o)},l6=function(){P(this,il)===null||!this.parent||(this.parent.drawLayer.remove(P(this,il)),te(this,il,null),this.parent.drawLayer.remove(P(this,ao)),te(this,ao,null))},cb=function(i=this.parent){P(this,il)===null&&({id:Ro(this,il)._,clipPathId:Ro(this,a0)._}=i.drawLayer.draw({bbox:P(this,ec).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":P(this,Qh)},rootClass:{highlight:!0,free:P(this,js)},path:{d:P(this,ec).toSVGPath()}},!1,!0),te(this,ao,i.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:P(this,js)},bbox:P(this,ma).box,path:{d:P(this,ma).toSVGPath()}},P(this,js))),P(this,l0)&&(P(this,l0).style.clipPath=P(this,a0)))},lc=new WeakSet,Uv=function([i,r,o,l],c){switch(c){case 90:return[1-r-l,i,l,o];case 180:return[1-i-o,1-r-l,o,l];case 270:return[r,1-i-o,l,o]}return[i,r,o,l]},Die=function(i){Jn._keyboardManager.exec(this,i)},vN=function(i){if(!P(this,g1))return;const r=window.getSelection();i?r.setPosition(P(this,g1),P(this,LS)):r.setPosition(P(this,US),P(this,BS))},a2=function(){return P(this,js)?this.rotation:0},Nie=function(){if(P(this,js))return null;const[i,r]=this.pageDimensions,[o,l]=this.pageTranslation,c=P(this,Jh),u=new Float32Array(c.length*8);let h=0;for(const{x:m,y:g,width:y,height:v}of c){const _=m*i+o,A=(1-g)*r+l;u[h]=u[h+4]=_,u[h+1]=u[h+3]=A,u[h+2]=u[h+6]=_+y*i,u[h+5]=u[h+7]=A-v*r,h+=8}return u},Pie=function(i){return P(this,ec).serialize(i,me(this,vn,a2).call(this))},Iie=function(i,r){this._freeHighlight.add(r)&&i.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},jie=function(i,r){this._freeHighlight.isEmpty()?i.drawLayer.remove(this._freeHighlightId):i.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},Rie=function(i){const{color:r}=this._initialData;return i.color.some((o,l)=>o!==r[l])},pe(Jn,lc),yt(Jn,"_defaultColor",null),yt(Jn,"_defaultOpacity",1),yt(Jn,"_defaultThickness",12),yt(Jn,"_type","highlight"),yt(Jn,"_editorType",gn.HIGHLIGHT),yt(Jn,"_freeHighlightId",-1),yt(Jn,"_freeHighlight",null),yt(Jn,"_freeHighlightClipId","");let N5=Jn;var c0;class Mie{constructor(){pe(this,c0,Object.create(null))}updateProperty(e,i){this[e]=i,this.updateSVGProperty(e,i)}updateProperties(e){if(e)for(const[i,r]of Object.entries(e))i.startsWith("_")||this.updateProperty(i,r)}updateSVGProperty(e,i){P(this,c0)[e]=i}toSVGProperties(){const e=P(this,c0);return te(this,c0,Object.create(null)),{root:e}}reset(){te(this,c0,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){mi("Not implemented")}}c0=new WeakMap;var rl,w1,cs,u0,d0,dm,hm,fm,h0,Un,c6,u6,d6,l2,Oie,wN,c2,Bv;const Mt=class Mt extends Di{constructor(i){super(i);pe(this,Un);pe(this,rl,null);pe(this,w1);yt(this,"_drawId",null);te(this,w1,i.mustBeCommitted||!1),this._addOutlines(i)}_addOutlines(i){i.drawOutlines&&(me(this,Un,c6).call(this,i),me(this,Un,l2).call(this))}static _mergeSVGProperties(i,r){const o=new Set(Object.keys(i));for(const[l,c]of Object.entries(r))o.has(l)?Object.assign(i[l],c):i[l]=c;return i}static getDefaultDrawingOptions(i){mi("Not implemented")}static get typesMap(){mi("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(i,r){const o=this.typesMap.get(i);o&&this._defaultDrawingOptions.updateProperty(o,r),this._currentParent&&(P(Mt,cs).updateProperty(o,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(i,r){const o=this.constructor.typesMap.get(i);o&&this._updateProperty(i,o,r)}static get defaultPropertiesToUpdate(){const i=[],r=this._defaultDrawingOptions;for(const[o,l]of this.typesMap)i.push([o,r[l]]);return i}get propertiesToUpdate(){const i=[],{_drawingOptions:r}=this;for(const[o,l]of this.constructor.typesMap)i.push([o,r[l]]);return i}_updateProperty(i,r,o){const l=this._drawingOptions,c=l[r],u=h=>{var g;l.updateProperty(r,h);const m=P(this,rl).updateProperty(r,h);m&&me(this,Un,c2).call(this,m),(g=this.parent)==null||g.drawLayer.updateProperties(this._drawId,l.toSVGProperties())};this.addCommands({cmd:u.bind(this,o),undo:u.bind(this,c),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:i,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,Mt._mergeSVGProperties(P(this,rl).getPathResizingSVGProperties(me(this,Un,wN).call(this)),{bbox:me(this,Un,Bv).call(this)}))}_onResized(){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,Mt._mergeSVGProperties(P(this,rl).getPathResizedSVGProperties(me(this,Un,wN).call(this)),{bbox:me(this,Un,Bv).call(this)}))}_onTranslating(i,r){var o;(o=this.parent)==null||o.drawLayer.updateProperties(this._drawId,{bbox:me(this,Un,Bv).call(this)})}_onTranslated(){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,Mt._mergeSVGProperties(P(this,rl).getPathTranslatedSVGProperties(me(this,Un,wN).call(this),this.parentDimensions),{bbox:me(this,Un,Bv).call(this)}))}_onStartDragging(){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(i){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,P(this,w1)&&(te(this,w1,!1),this.commit(),this.parent.setSelected(this),i&&this.isOnScreen&&this.div.focus())}remove(){me(this,Un,d6).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(me(this,Un,l2).call(this),me(this,Un,c2).call(this,P(this,rl).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(i){var o;let r=!1;this.parent&&!i?(this._uiManager.removeShouldRescale(this),me(this,Un,d6).call(this)):i&&(this._uiManager.addShouldRescale(this),me(this,Un,l2).call(this,i),r=!this.parent&&((o=this.div)==null?void 0:o.classList.contains("selectedEditor"))),super.setParent(i),r&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Mt._mergeSVGProperties({bbox:me(this,Un,Bv).call(this)},P(this,rl).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&me(this,Un,c2).call(this,P(this,rl).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let i,r;this._isCopy&&(i=this.x,r=this.y);const o=super.render();o.classList.add("draw");const l=document.createElement("div");o.append(l),l.setAttribute("aria-hidden","true"),l.className="internal";const[c,u]=this.parentDimensions;return this.setDims(this.width*c,this.height*u),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(i,r),o}static createDrawerInstance(i,r,o,l,c){mi("Not implemented")}static startDrawing(i,r,o,l){var T;const{target:c,offsetX:u,offsetY:h,pointerId:m,pointerType:g}=l;if(P(Mt,hm)&&P(Mt,hm)!==g)return;const{viewport:{rotation:y}}=i,{width:v,height:_}=c.getBoundingClientRect(),A=te(Mt,u0,new AbortController),S=i.combinedSignal(A);if(P(Mt,dm)||te(Mt,dm,m),P(Mt,hm)??te(Mt,hm,g),window.addEventListener("pointerup",C=>{var N;P(Mt,dm)===C.pointerId?this._endDraw(C):(N=P(Mt,fm))==null||N.delete(C.pointerId)},{signal:S}),window.addEventListener("pointercancel",C=>{var N;P(Mt,dm)===C.pointerId?this._currentParent.endDrawingSession():(N=P(Mt,fm))==null||N.delete(C.pointerId)},{signal:S}),window.addEventListener("pointerdown",C=>{P(Mt,hm)===C.pointerType&&((P(Mt,fm)||te(Mt,fm,new Set)).add(C.pointerId),P(Mt,cs).isCancellable()&&(P(Mt,cs).removeLastElement(),P(Mt,cs).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:S}),window.addEventListener("contextmenu",uu,{signal:S}),c.addEventListener("pointermove",this._drawMove.bind(this),{signal:S}),c.addEventListener("touchmove",C=>{C.timeStamp===P(Mt,h0)&&Ir(C)},{signal:S}),i.toggleDrawing(),(T=r._editorUndoBar)==null||T.hide(),P(Mt,cs)){i.drawLayer.updateProperties(this._currentDrawId,P(Mt,cs).startNew(u,h,v,_,y));return}r.updateUIForDefaultProperties(this),te(Mt,cs,this.createDrawerInstance(u,h,v,_,y)),te(Mt,d0,this.getDefaultDrawingOptions()),this._currentParent=i,{id:this._currentDrawId}=i.drawLayer.draw(this._mergeSVGProperties(P(Mt,d0).toSVGProperties(),P(Mt,cs).defaultSVGProperties),!0,!1)}static _drawMove(i){var c;if(te(Mt,h0,-1),!P(Mt,cs))return;const{offsetX:r,offsetY:o,pointerId:l}=i;if(P(Mt,dm)===l){if(((c=P(Mt,fm))==null?void 0:c.size)>=1){this._endDraw(i);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,P(Mt,cs).add(r,o)),te(Mt,h0,i.timeStamp),Ir(i)}}static _cleanup(i){i&&(this._currentDrawId=-1,this._currentParent=null,te(Mt,cs,null),te(Mt,d0,null),te(Mt,hm,null),te(Mt,h0,NaN)),P(Mt,u0)&&(P(Mt,u0).abort(),te(Mt,u0,null),te(Mt,dm,NaN),te(Mt,fm,null))}static _endDraw(i){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),(i==null?void 0:i.target)===r.div&&r.drawLayer.updateProperties(this._currentDrawId,P(Mt,cs).end(i.offsetX,i.offsetY)),this.supportMultipleDrawings){const o=P(Mt,cs),l=this._currentDrawId,c=o.getLastElement();r.addCommands({cmd:()=>{r.drawLayer.updateProperties(l,o.setLastElement(c))},undo:()=>{r.drawLayer.updateProperties(l,o.removeLastElement())},mustExec:!1,type:jn.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(i){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(jn.DRAW_STEP),!P(Mt,cs).isEmpty()){const{pageDimensions:[o,l],scale:c}=r,u=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:P(Mt,cs).getOutlines(o*c,l*c,c,this._INNER_MARGIN),drawingOptions:P(Mt,d0),mustBeCommitted:!i});return this._cleanup(!0),u}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(i){}static deserializeDraw(i,r,o,l,c,u){mi("Not implemented")}static async deserialize(i,r,o){var y,v;const{rawDims:{pageWidth:l,pageHeight:c,pageX:u,pageY:h}}=r.viewport,m=this.deserializeDraw(u,h,l,c,this._INNER_MARGIN,i),g=await super.deserialize(i,r,o);return g.createDrawingOptions(i),me(y=g,Un,c6).call(y,{drawOutlines:m}),me(v=g,Un,l2).call(v),g.onScaleChanging(),g.rotate(),g}serializeDraw(i){const[r,o]=this.pageTranslation,[l,c]=this.pageDimensions;return P(this,rl).serialize([r,o,l,c],i)}renderAnnotationElement(i){return i.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};rl=new WeakMap,w1=new WeakMap,cs=new WeakMap,u0=new WeakMap,d0=new WeakMap,dm=new WeakMap,hm=new WeakMap,fm=new WeakMap,h0=new WeakMap,Un=new WeakSet,c6=function({drawOutlines:i,drawId:r,drawingOptions:o}){te(this,rl,i),this._drawingOptions||(this._drawingOptions=o),r>=0?(this._drawId=r,this.parent.drawLayer.finalizeDraw(r,i.defaultProperties)):this._drawId=me(this,Un,u6).call(this,i,this.parent),me(this,Un,c2).call(this,i.box)},u6=function(i,r){const{id:o}=r.drawLayer.draw(Mt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),i.defaultSVGProperties),!1,!1);return o},d6=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},l2=function(i=this.parent){if(!(this._drawId!==null&&this.parent===i)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,i.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=me(this,Un,u6).call(this,P(this,rl),i)}},Oie=function([i,r,o,l]){const{parentDimensions:[c,u],rotation:h}=this;switch(h){case 90:return[r,1-i,o*(u/c),l*(c/u)];case 180:return[1-i,1-r,o,l];case 270:return[1-r,i,o*(u/c),l*(c/u)];default:return[i,r,o,l]}},wN=function(){const{x:i,y:r,width:o,height:l,parentDimensions:[c,u],rotation:h}=this;switch(h){case 90:return[1-r,i,o*(c/u),l*(u/c)];case 180:return[1-i,1-r,o,l];case 270:return[r,1-i,o*(c/u),l*(u/c)];default:return[i,r,o,l]}},c2=function(i){if([this.x,this.y,this.width,this.height]=me(this,Un,Oie).call(this,i),this.div){this.fixAndSetPosition();const[r,o]=this.parentDimensions;this.setDims(this.width*r,this.height*o)}this._onResized()},Bv=function(){const{x:i,y:r,width:o,height:l,rotation:c,parentRotation:u,parentDimensions:[h,m]}=this;switch((c*4+u)/90){case 1:return[1-r-l,i,l,o];case 2:return[1-i-o,1-r-l,o,l];case 3:return[r,1-i-o,l,o];case 4:return[i,r-o*(h/m),l*(m/h),o*(h/m)];case 5:return[1-r,i,o*(h/m),l*(m/h)];case 6:return[1-i-l*(m/h),1-r,l*(m/h),o*(h/m)];case 7:return[r-o*(h/m),1-i-l*(m/h),o*(h/m),l*(m/h)];case 8:return[i-o,r-l,o,l];case 9:return[1-r,i-o,l,o];case 10:return[1-i,1-r,o,l];case 11:return[r-l,1-i,l,o];case 12:return[i-l*(m/h),r,l*(m/h),o*(h/m)];case 13:return[1-r-o*(h/m),i-l*(m/h),o*(h/m),l*(m/h)];case 14:return[1-i,1-r-o*(h/m),l*(m/h),o*(h/m)];case 15:return[r,1-i,o*(h/m),l*(m/h)];default:return[i,r,o,l]}},yt(Mt,"_currentDrawId",-1),yt(Mt,"_currentParent",null),pe(Mt,cs,null),pe(Mt,u0,null),pe(Mt,d0,null),pe(Mt,dm,NaN),pe(Mt,hm,null),pe(Mt,fm,null),pe(Mt,h0,NaN),yt(Mt,"_INNER_MARGIN",3);let P5=Mt;var pd,us,ds,f0,x1,Uo,Rs,nc,p0,m0,g0,_1,xN;class HCe{constructor(e,i,r,o,l,c){pe(this,_1);pe(this,pd,new Float64Array(6));pe(this,us);pe(this,ds);pe(this,f0);pe(this,x1);pe(this,Uo);pe(this,Rs,"");pe(this,nc,0);pe(this,p0,new _A);pe(this,m0);pe(this,g0);te(this,m0,r),te(this,g0,o),te(this,f0,l),te(this,x1,c),[e,i]=me(this,_1,xN).call(this,e,i);const u=te(this,us,[NaN,NaN,NaN,NaN,e,i]);te(this,Uo,[e,i]),te(this,ds,[{line:u,points:P(this,Uo)}]),P(this,pd).set(u,0)}updateProperty(e,i){e==="stroke-width"&&te(this,x1,i)}isEmpty(){return!P(this,ds)||P(this,ds).length===0}isCancellable(){return P(this,Uo).length<=10}add(e,i){[e,i]=me(this,_1,xN).call(this,e,i);const[r,o,l,c]=P(this,pd).subarray(2,6),u=e-l,h=i-c;return Math.hypot(P(this,m0)*u,P(this,g0)*h)<=2?null:(P(this,Uo).push(e,i),isNaN(r)?(P(this,pd).set([l,c,e,i],2),P(this,us).push(NaN,NaN,NaN,NaN,e,i),{path:{d:this.toSVGPath()}}):(isNaN(P(this,pd)[0])&&P(this,us).splice(6,6),P(this,pd).set([r,o,l,c,e,i],0),P(this,us).push(...It.createBezierPoints(r,o,l,c,e,i)),{path:{d:this.toSVGPath()}}))}end(e,i){const r=this.add(e,i);return r||(P(this,Uo).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,i,r,o,l){te(this,m0,r),te(this,g0,o),te(this,f0,l),[e,i]=me(this,_1,xN).call(this,e,i);const c=te(this,us,[NaN,NaN,NaN,NaN,e,i]);te(this,Uo,[e,i]);const u=P(this,ds).at(-1);return u&&(u.line=new Float32Array(u.line),u.points=new Float32Array(u.points)),P(this,ds).push({line:c,points:P(this,Uo)}),P(this,pd).set(c,0),te(this,nc,0),this.toSVGPath(),null}getLastElement(){return P(this,ds).at(-1)}setLastElement(e){return P(this,ds)?(P(this,ds).push(e),te(this,us,e.line),te(this,Uo,e.points),te(this,nc,0),{path:{d:this.toSVGPath()}}):P(this,p0).setLastElement(e)}removeLastElement(){if(!P(this,ds))return P(this,p0).removeLastElement();P(this,ds).pop(),te(this,Rs,"");for(let e=0,i=P(this,ds).length;e<i;e++){const{line:r,points:o}=P(this,ds)[e];te(this,us,r),te(this,Uo,o),te(this,nc,0),this.toSVGPath()}return{path:{d:P(this,Rs)}}}toSVGPath(){const e=It.svgRound(P(this,us)[4]),i=It.svgRound(P(this,us)[5]);if(P(this,Uo).length===2)return te(this,Rs,`${P(this,Rs)} M ${e} ${i} Z`),P(this,Rs);if(P(this,Uo).length<=6){const o=P(this,Rs).lastIndexOf("M");te(this,Rs,`${P(this,Rs).slice(0,o)} M ${e} ${i}`),te(this,nc,6)}if(P(this,Uo).length===4){const o=It.svgRound(P(this,us)[10]),l=It.svgRound(P(this,us)[11]);return te(this,Rs,`${P(this,Rs)} L ${o} ${l}`),te(this,nc,12),P(this,Rs)}const r=[];P(this,nc)===0&&(r.push(`M ${e} ${i}`),te(this,nc,6));for(let o=P(this,nc),l=P(this,us).length;o<l;o+=6){const[c,u,h,m,g,y]=P(this,us).slice(o,o+6).map(It.svgRound);r.push(`C${c} ${u} ${h} ${m} ${g} ${y}`)}return te(this,Rs,P(this,Rs)+r.join(" ")),te(this,nc,P(this,us).length),P(this,Rs)}getOutlines(e,i,r,o){const l=P(this,ds).at(-1);return l.line=new Float32Array(l.line),l.points=new Float32Array(l.points),P(this,p0).build(P(this,ds),e,i,r,P(this,f0),P(this,x1),o),te(this,pd,null),te(this,us,null),te(this,ds,null),te(this,Rs,null),P(this,p0)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}pd=new WeakMap,us=new WeakMap,ds=new WeakMap,f0=new WeakMap,x1=new WeakMap,Uo=new WeakMap,Rs=new WeakMap,nc=new WeakMap,p0=new WeakMap,m0=new WeakMap,g0=new WeakMap,_1=new WeakSet,xN=function(e,i){return It._normalizePoint(e,i,P(this,m0),P(this,g0),P(this,f0))};var Bo,VS,WS,sl,md,gd,k1,E1,b0,Ls,Sh,Fie,Lie,Uie;class _A extends It{constructor(){super(...arguments);pe(this,Ls);pe(this,Bo);pe(this,VS,0);pe(this,WS);pe(this,sl);pe(this,md);pe(this,gd);pe(this,k1);pe(this,E1);pe(this,b0)}build(i,r,o,l,c,u,h){te(this,md,r),te(this,gd,o),te(this,k1,l),te(this,E1,c),te(this,b0,u),te(this,WS,h??0),te(this,sl,i),me(this,Ls,Lie).call(this)}get thickness(){return P(this,b0)}setLastElement(i){return P(this,sl).push(i),{path:{d:this.toSVGPath()}}}removeLastElement(){return P(this,sl).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const i=[];for(const{line:r}of P(this,sl)){if(i.push(`M${It.svgRound(r[4])} ${It.svgRound(r[5])}`),r.length===6){i.push("Z");continue}if(r.length===12&&isNaN(r[6])){i.push(`L${It.svgRound(r[10])} ${It.svgRound(r[11])}`);continue}for(let o=6,l=r.length;o<l;o+=6){const[c,u,h,m,g,y]=r.subarray(o,o+6).map(It.svgRound);i.push(`C${c} ${u} ${h} ${m} ${g} ${y}`)}}return i.join("")}serialize([i,r,o,l],c){const u=[],h=[],[m,g,y,v]=me(this,Ls,Fie).call(this);let _,A,S,T,C,N,I,O,F;switch(P(this,E1)){case 0:F=It._rescale,_=i,A=r+l,S=o,T=-l,C=i+m*o,N=r+(1-g-v)*l,I=i+(m+y)*o,O=r+(1-g)*l;break;case 90:F=It._rescaleAndSwap,_=i,A=r,S=o,T=l,C=i+g*o,N=r+m*l,I=i+(g+v)*o,O=r+(m+y)*l;break;case 180:F=It._rescale,_=i+o,A=r,S=-o,T=l,C=i+(1-m-y)*o,N=r+g*l,I=i+(1-m)*o,O=r+(g+v)*l;break;case 270:F=It._rescaleAndSwap,_=i+o,A=r+l,S=-o,T=-l,C=i+(1-g-v)*o,N=r+(1-m-y)*l,I=i+(1-g)*o,O=r+(1-m)*l;break}for(const{line:L,points:z}of P(this,sl))u.push(F(L,_,A,S,T,c?new Array(L.length):null)),h.push(F(z,_,A,S,T,c?new Array(z.length):null));return{lines:u,points:h,rect:[C,N,I,O]}}static deserialize(i,r,o,l,c,{paths:{lines:u,points:h},rotation:m,thickness:g}){const y=[];let v,_,A,S,T;switch(m){case 0:T=It._rescale,v=-i/o,_=r/l+1,A=1/o,S=-1/l;break;case 90:T=It._rescaleAndSwap,v=-r/l,_=-i/o,A=1/l,S=1/o;break;case 180:T=It._rescale,v=i/o+1,_=-r/l,A=-1/o,S=1/l;break;case 270:T=It._rescaleAndSwap,v=r/l+1,_=i/o+1,A=-1/l,S=-1/o;break}if(!u){u=[];for(const N of h){const I=N.length;if(I===2){u.push(new Float32Array([NaN,NaN,NaN,NaN,N[0],N[1]]));continue}if(I===4){u.push(new Float32Array([NaN,NaN,NaN,NaN,N[0],N[1],NaN,NaN,NaN,NaN,N[2],N[3]]));continue}const O=new Float32Array(3*(I-2));u.push(O);let[F,L,z,B]=N.subarray(0,4);O.set([NaN,NaN,NaN,NaN,F,L],0);for(let Y=4;Y<I;Y+=2){const se=N[Y],de=N[Y+1];O.set(It.createBezierPoints(F,L,z,B,se,de),(Y-2)*3),[F,L,z,B]=[z,B,se,de]}}}for(let N=0,I=u.length;N<I;N++)y.push({line:T(u[N].map(O=>O??NaN),v,_,A,S),points:T(h[N].map(O=>O??NaN),v,_,A,S)});const C=new this.prototype.constructor;return C.build(y,o,l,1,m,g,c),C}get box(){return P(this,Bo)}updateProperty(i,r){return i==="stroke-width"?me(this,Ls,Uie).call(this,r):null}updateParentDimensions([i,r],o){const[l,c]=me(this,Ls,Sh).call(this);te(this,md,i),te(this,gd,r),te(this,k1,o);const[u,h]=me(this,Ls,Sh).call(this),m=u-l,g=h-c,y=P(this,Bo);return y[0]-=m,y[1]-=g,y[2]+=2*m,y[3]+=2*g,y}updateRotation(i){return te(this,VS,i),{path:{transform:this.rotationTransform}}}get viewBox(){return P(this,Bo).map(It.svgRound).join(" ")}get defaultProperties(){const[i,r]=P(this,Bo);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${It.svgRound(i)} ${It.svgRound(r)}`}}}get rotationTransform(){const[,,i,r]=P(this,Bo);let o=0,l=0,c=0,u=0,h=0,m=0;switch(P(this,VS)){case 90:l=r/i,c=-i/r,h=i;break;case 180:o=-1,u=-1,h=i,m=r;break;case 270:l=-r/i,c=i/r,m=r;break;default:return""}return`matrix(${o} ${l} ${c} ${u} ${It.svgRound(h)} ${It.svgRound(m)})`}getPathResizingSVGProperties([i,r,o,l]){const[c,u]=me(this,Ls,Sh).call(this),[h,m,g,y]=P(this,Bo);if(Math.abs(g-c)<=It.PRECISION||Math.abs(y-u)<=It.PRECISION){const T=i+o/2-(h+g/2),C=r+l/2-(m+y/2);return{path:{"transform-origin":`${It.svgRound(i)} ${It.svgRound(r)}`,transform:`${this.rotationTransform} translate(${T} ${C})`}}}const v=(o-2*c)/(g-2*c),_=(l-2*u)/(y-2*u),A=g/o,S=y/l;return{path:{"transform-origin":`${It.svgRound(h)} ${It.svgRound(m)}`,transform:`${this.rotationTransform} scale(${A} ${S}) translate(${It.svgRound(c)} ${It.svgRound(u)}) scale(${v} ${_}) translate(${It.svgRound(-c)} ${It.svgRound(-u)})`}}}getPathResizedSVGProperties([i,r,o,l]){const[c,u]=me(this,Ls,Sh).call(this),h=P(this,Bo),[m,g,y,v]=h;if(h[0]=i,h[1]=r,h[2]=o,h[3]=l,Math.abs(y-c)<=It.PRECISION||Math.abs(v-u)<=It.PRECISION){const C=i+o/2-(m+y/2),N=r+l/2-(g+v/2);for(const{line:I,points:O}of P(this,sl))It._translate(I,C,N,I),It._translate(O,C,N,O);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${It.svgRound(i)} ${It.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const _=(o-2*c)/(y-2*c),A=(l-2*u)/(v-2*u),S=-_*(m+c)+i+c,T=-A*(g+u)+r+u;if(_!==1||A!==1||S!==0||T!==0)for(const{line:C,points:N}of P(this,sl))It._rescale(C,S,T,_,A,C),It._rescale(N,S,T,_,A,N);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${It.svgRound(i)} ${It.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([i,r],o){const[l,c]=o,u=P(this,Bo),h=i-u[0],m=r-u[1];if(P(this,md)===l&&P(this,gd)===c)for(const{line:g,points:y}of P(this,sl))It._translate(g,h,m,g),It._translate(y,h,m,y);else{const g=P(this,md)/l,y=P(this,gd)/c;te(this,md,l),te(this,gd,c);for(const{line:v,points:_}of P(this,sl))It._rescale(v,h,m,g,y,v),It._rescale(_,h,m,g,y,_);u[2]*=g,u[3]*=y}return u[0]=i,u[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${It.svgRound(i)} ${It.svgRound(r)}`}}}get defaultSVGProperties(){const i=P(this,Bo);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${It.svgRound(i[0])} ${It.svgRound(i[1])}`,transform:this.rotationTransform||null},bbox:i}}}Bo=new WeakMap,VS=new WeakMap,WS=new WeakMap,sl=new WeakMap,md=new WeakMap,gd=new WeakMap,k1=new WeakMap,E1=new WeakMap,b0=new WeakMap,Ls=new WeakSet,Sh=function(i=P(this,b0)){const r=P(this,WS)+i/2*P(this,k1);return P(this,E1)%180===0?[r/P(this,md),r/P(this,gd)]:[r/P(this,gd),r/P(this,md)]},Fie=function(){const[i,r,o,l]=P(this,Bo),[c,u]=me(this,Ls,Sh).call(this,0);return[i+c,r+u,o-2*c,l-2*u]},Lie=function(){const i=te(this,Bo,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:l}of P(this,sl)){if(l.length<=12){for(let h=4,m=l.length;h<m;h+=6)Kt.pointBoundingBox(l[h],l[h+1],i);continue}let c=l[4],u=l[5];for(let h=6,m=l.length;h<m;h+=6){const[g,y,v,_,A,S]=l.subarray(h,h+6);Kt.bezierBoundingBox(c,u,g,y,v,_,A,S,i),c=A,u=S}}const[r,o]=me(this,Ls,Sh).call(this);i[0]=Wo(i[0]-r,0,1),i[1]=Wo(i[1]-o,0,1),i[2]=Wo(i[2]+r,0,1),i[3]=Wo(i[3]+o,0,1),i[2]-=i[0],i[3]-=i[1]},Uie=function(i){const[r,o]=me(this,Ls,Sh).call(this);te(this,b0,i);const[l,c]=me(this,Ls,Sh).call(this),[u,h]=[l-r,c-o],m=P(this,Bo);return m[0]-=u,m[1]-=h,m[2]+=2*u,m[3]+=2*h,m};class AP extends Mie{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Di._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,i){e==="stroke-width"&&(i??(i=this["stroke-width"]),i*=this._viewParameters.realScale),super.updateSVGProperty(e,i)}clone(){const e=new AP(this._viewParameters);return e.updateAll(this),e}}var Y5,Bie;const cw=class cw extends P5{constructor(i){super({...i,name:"inkEditor"});pe(this,Y5);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(i,r){Di.initialize(i,r),this._defaultDrawingOptions=new AP(r.viewParameters)}static getDefaultDrawingOptions(i){const r=this._defaultDrawingOptions.clone();return r.updateProperties(i),r}static get supportMultipleDrawings(){return!0}static get typesMap(){return Tn(this,"typesMap",new Map([[jn.INK_THICKNESS,"stroke-width"],[jn.INK_COLOR,"stroke"],[jn.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(i,r,o,l,c){return new HCe(i,r,o,l,c,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(i,r,o,l,c,u){return _A.deserialize(i,r,o,l,c,u)}static async deserialize(i,r,o){let l=null;if(i instanceof KL){const{data:{inkLists:u,rect:h,rotation:m,id:g,color:y,opacity:v,borderStyle:{rawWidth:_},popupRef:A},parent:{page:{pageNumber:S}}}=i;l=i={annotationType:gn.INK,color:Array.from(y),thickness:_,opacity:v,paths:{points:u},boxes:null,pageIndex:S-1,rect:h.slice(0),rotation:m,id:g,deleted:!1,popupRef:A}}const c=await super.deserialize(i,r,o);return c.annotationElementId=i.id||null,c._initialData=l,c}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:i,_drawingOptions:r,parent:o}=this;r.updateSVGProperty("stroke-width"),o.drawLayer.updateProperties(i,r.toSVGProperties())}static onScaleChangingWhenDrawing(){const i=this._currentParent;i&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:i,thickness:r,opacity:o}){this._drawingOptions=cw.getDefaultDrawingOptions({stroke:Kt.makeHexColor(...i),"stroke-width":r,"stroke-opacity":o})}serialize(i=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:r,points:o,rect:l}=this.serializeDraw(i),{_drawingOptions:{stroke:c,"stroke-opacity":u,"stroke-width":h}}=this,m={annotationType:gn.INK,color:Di._colorManager.convert(c),opacity:u,thickness:h,paths:{lines:r,points:o},pageIndex:this.pageIndex,rect:l,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return i?(m.isCopy=!0,m):this.annotationElementId&&!me(this,Y5,Bie).call(this,m)?null:(m.id=this.annotationElementId,m)}renderAnnotationElement(i){const{points:r,rect:o}=this.serializeDraw(!1);return i.updateEdited({rect:o,thickness:this._drawingOptions["stroke-width"],points:r}),null}};Y5=new WeakSet,Bie=function(i){const{color:r,thickness:o,opacity:l,pageIndex:c}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||i.color.some((u,h)=>u!==r[h])||i.thickness!==o||i.opacity!==l||i.pageIndex!==c},yt(cw,"_type","ink"),yt(cw,"_editorType",gn.INK),yt(cw,"_defaultDrawingOptions",null);let h6=cw;class f6 extends _A{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const CD=8,zk=3;var y0,ii,p6,Jc,zie,Vie,m6,_N,Wie,$ie,qie,g6,b6,Hie;class af{static extractContoursFromText(e,{fontFamily:i,fontStyle:r,fontWeight:o},l,c,u,h){let m=new OffscreenCanvas(1,1),g=m.getContext("2d",{alpha:!1});const y=200,v=g.font=`${r} ${o} ${y}px ${i}`,{actualBoundingBoxLeft:_,actualBoundingBoxRight:A,actualBoundingBoxAscent:S,actualBoundingBoxDescent:T,fontBoundingBoxAscent:C,fontBoundingBoxDescent:N,width:I}=g.measureText(e),O=1.5,F=Math.ceil(Math.max(Math.abs(_)+Math.abs(A)||0,I)*O),L=Math.ceil(Math.max(Math.abs(S)+Math.abs(T)||y,Math.abs(C)+Math.abs(N)||y)*O);m=new OffscreenCanvas(F,L),g=m.getContext("2d",{alpha:!0,willReadFrequently:!0}),g.font=v,g.filter="grayscale(1)",g.fillStyle="white",g.fillRect(0,0,F,L),g.fillStyle="black",g.fillText(e,F*(O-1)/2,L*(3-O)/2);const z=me(this,ii,g6).call(this,g.getImageData(0,0,F,L).data),B=me(this,ii,qie).call(this,z),Y=me(this,ii,b6).call(this,B),se=me(this,ii,m6).call(this,z,F,L,Y);return this.processDrawnLines({lines:{curves:se,width:F,height:L},pageWidth:l,pageHeight:c,rotation:u,innerMargin:h,mustSmooth:!0,areContours:!0})}static process(e,i,r,o,l){const[c,u,h]=me(this,ii,Hie).call(this,e),[m,g]=me(this,ii,$ie).call(this,c,u,h,Math.hypot(u,h)*P(this,y0).sigmaSFactor,P(this,y0).sigmaR,P(this,y0).kernelSize),y=me(this,ii,b6).call(this,g),v=me(this,ii,m6).call(this,m,u,h,y);return this.processDrawnLines({lines:{curves:v,width:u,height:h},pageWidth:i,pageHeight:r,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:i,pageHeight:r,rotation:o,innerMargin:l,mustSmooth:c,areContours:u}){o%180!==0&&([i,r]=[r,i]);const{curves:h,width:m,height:g}=e,y=e.thickness??0,v=[],_=Math.min(i/m,r/g),A=_/i,S=_/r,T=[];for(const{points:N}of h){const I=c?me(this,ii,Wie).call(this,N):N;if(!I)continue;T.push(I);const O=I.length,F=new Float32Array(O),L=new Float32Array(3*(O===2?2:O-2));if(v.push({line:L,points:F}),O===2){F[0]=I[0]*A,F[1]=I[1]*S,L.set([NaN,NaN,NaN,NaN,F[0],F[1]],0);continue}let[z,B,Y,se]=I;z*=A,B*=S,Y*=A,se*=S,F.set([z,B,Y,se],0),L.set([NaN,NaN,NaN,NaN,z,B],0);for(let de=4;de<O;de+=2){const J=F[de]=I[de]*A,be=F[de+1]=I[de+1]*S;L.set(It.createBezierPoints(z,B,Y,se,J,be),(de-2)*3),[z,B,Y,se]=[Y,se,J,be]}}if(v.length===0)return null;const C=u?new f6:new _A;return C.build(v,i,r,1,o,u?0:y,l),{outline:C,newCurves:T,areContours:u,thickness:y,width:m,height:g}}static async compressSignature({outlines:e,areContours:i,thickness:r,width:o,height:l}){let c=1/0,u=-1/0,h=0;for(const I of e){h+=I.length;for(let O=2,F=I.length;O<F;O++){const L=I[O]-I[O-2];c=Math.min(c,L),u=Math.max(u,L)}}let m;c>=-128&&u<=127?m=Int8Array:c>=-32768&&u<=32767?m=Int16Array:m=Int32Array;const g=e.length,y=CD+zk*g,v=new Uint32Array(y);let _=0;v[_++]=y*Uint32Array.BYTES_PER_ELEMENT+(h-2*g)*m.BYTES_PER_ELEMENT,v[_++]=0,v[_++]=o,v[_++]=l,v[_++]=i?0:1,v[_++]=Math.max(0,Math.floor(r??0)),v[_++]=g,v[_++]=m.BYTES_PER_ELEMENT;for(const I of e)v[_++]=I.length-2,v[_++]=I[0],v[_++]=I[1];const A=new CompressionStream("deflate-raw"),S=A.writable.getWriter();await S.ready,S.write(v);const T=m.prototype.constructor;for(const I of e){const O=new T(I.length-2);for(let F=2,L=I.length;F<L;F++)O[F-2]=I[F]-I[F-2];S.write(O)}S.close();const C=await new Response(A.readable).arrayBuffer(),N=new Uint8Array(C);return Xte(N)}static async decompressSignature(e){try{const i=bTe(e),{readable:r,writable:o}=new DecompressionStream("deflate-raw"),l=o.getWriter();await l.ready,l.write(i).then(async()=>{await l.ready,await l.close()}).catch(()=>{});let c=null,u=0;for await(const I of r)c||(c=new Uint8Array(new Uint32Array(I.buffer,0,4)[0])),c.set(I,u),u+=I.length;const h=new Uint32Array(c.buffer,0,c.length>>2),m=h[1];if(m!==0)throw new Error(`Invalid version: ${m}`);const g=h[2],y=h[3],v=h[4]===0,_=h[5],A=h[6],S=h[7],T=[],C=(CD+zk*A)*Uint32Array.BYTES_PER_ELEMENT;let N;switch(S){case Int8Array.BYTES_PER_ELEMENT:N=new Int8Array(c.buffer,C);break;case Int16Array.BYTES_PER_ELEMENT:N=new Int16Array(c.buffer,C);break;case Int32Array.BYTES_PER_ELEMENT:N=new Int32Array(c.buffer,C);break}u=0;for(let I=0;I<A;I++){const O=h[zk*I+CD],F=new Float32Array(O+2);T.push(F);for(let L=0;L<zk-1;L++)F[L]=h[zk*I+CD+L+1];for(let L=0;L<O;L++)F[L+2]=F[L]+N[u++]}return{areContours:v,thickness:_,outlines:T,width:g,height:y}}catch(i){return yn(`decompressSignature: ${i}`),null}}}y0=new WeakMap,ii=new WeakSet,p6=function(e,i,r,o){return r-=e,o-=i,r===0?o>0?0:4:r===1?o+6:2-o},Jc=new WeakMap,zie=function(e,i,r,o,l,c,u){const h=me(this,ii,p6).call(this,r,o,l,c);for(let m=0;m<8;m++){const g=(-m+h-u+16)%8,y=P(this,Jc)[2*g],v=P(this,Jc)[2*g+1];if(e[(r+y)*i+(o+v)]!==0)return g}return-1},Vie=function(e,i,r,o,l,c,u){const h=me(this,ii,p6).call(this,r,o,l,c);for(let m=0;m<8;m++){const g=(m+h+u+16)%8,y=P(this,Jc)[2*g],v=P(this,Jc)[2*g+1];if(e[(r+y)*i+(o+v)]!==0)return g}return-1},m6=function(e,i,r,o){const l=e.length,c=new Int32Array(l);for(let g=0;g<l;g++)c[g]=e[g]<=o?1:0;for(let g=1;g<r-1;g++)c[g*i]=c[g*i+i-1]=0;for(let g=0;g<i;g++)c[g]=c[i*r-1-g]=0;let u=1,h;const m=[];for(let g=1;g<r-1;g++){h=1;for(let y=1;y<i-1;y++){const v=g*i+y,_=c[v];if(_===0)continue;let A=g,S=y;if(_===1&&c[v-1]===0)u+=1,S-=1;else if(_>=1&&c[v+1]===0)u+=1,S+=1,_>1&&(h=_);else{_!==1&&(h=Math.abs(_));continue}const T=[y,g],C=S===y+1,N={isHole:C,points:T,id:u,parent:0};m.push(N);let I;for(const de of m)if(de.id===h){I=de;break}I?I.isHole?N.parent=C?I.parent:h:N.parent=C?h:I.parent:N.parent=C?h:0;const O=me(this,ii,zie).call(this,c,i,g,y,A,S,0);if(O===-1){c[v]=-u,c[v]!==1&&(h=Math.abs(c[v]));continue}let F=P(this,Jc)[2*O],L=P(this,Jc)[2*O+1];const z=g+F,B=y+L;A=z,S=B;let Y=g,se=y;for(;;){const de=me(this,ii,Vie).call(this,c,i,Y,se,A,S,1);F=P(this,Jc)[2*de],L=P(this,Jc)[2*de+1];const J=Y+F,be=se+L;T.push(be,J);const q=Y*i+se;if(c[q+1]===0?c[q]=-u:c[q]===1&&(c[q]=u),J===g&&be===y&&Y===z&&se===B){c[v]!==1&&(h=Math.abs(c[v]));break}else A=Y,S=se,Y=J,se=be}}}return m},_N=function(e,i,r,o){if(r-i<=4){for(let z=i;z<r-2;z+=2)o.push(e[z],e[z+1]);return}const l=e[i],c=e[i+1],u=e[r-4]-l,h=e[r-3]-c,m=Math.hypot(u,h),g=u/m,y=h/m,v=g*c-y*l,_=h/u,A=1/m,S=Math.atan(_),T=Math.cos(S),C=Math.sin(S),N=A*(Math.abs(T)+Math.abs(C)),I=A*(1-N+N**2),O=Math.max(Math.atan(Math.abs(C+T)*I),Math.atan(Math.abs(C-T)*I));let F=0,L=i;for(let z=i+2;z<r-2;z+=2){const B=Math.abs(v-g*e[z+1]+y*e[z]);B>F&&(L=z,F=B)}F>(m*O)**2?(me(this,ii,_N).call(this,e,i,L+2,o),me(this,ii,_N).call(this,e,L,r,o)):o.push(l,c)},Wie=function(e){const i=[],r=e.length;return me(this,ii,_N).call(this,e,0,r,i),i.push(e[r-2],e[r-1]),i.length<=4?null:i},$ie=function(e,i,r,o,l,c){const u=new Float32Array(c**2),h=-2*o**2,m=c>>1;for(let S=0;S<c;S++){const T=(S-m)**2;for(let C=0;C<c;C++)u[S*c+C]=Math.exp((T+(C-m)**2)/h)}const g=new Float32Array(256),y=-2*l**2;for(let S=0;S<256;S++)g[S]=Math.exp(S**2/y);const v=e.length,_=new Uint8Array(v),A=new Uint32Array(256);for(let S=0;S<r;S++)for(let T=0;T<i;T++){const C=S*i+T,N=e[C];let I=0,O=0;for(let L=0;L<c;L++){const z=S+L-m;if(!(z<0||z>=r))for(let B=0;B<c;B++){const Y=T+B-m;if(Y<0||Y>=i)continue;const se=e[z*i+Y],de=u[L*c+B]*g[Math.abs(se-N)];I+=se*de,O+=de}}const F=_[C]=Math.round(I/O);A[F]++}return[_,A]},qie=function(e){const i=new Uint32Array(256);for(const r of e)i[r]++;return i},g6=function(e){const i=e.length,r=new Uint8ClampedArray(i>>2);let o=-1/0,l=1/0;for(let u=0,h=r.length;u<h;u++){if(e[(u<<2)+3]===0){o=r[u]=255;continue}const g=r[u]=e[u<<2];g>o&&(o=g),g<l&&(l=g)}const c=255/(o-l);for(let u=0;u<i;u++)r[u]=(r[u]-l)*c;return r},b6=function(e){let i,r=-1/0,o=-1/0;const l=e.findIndex(h=>h!==0);let c=l,u=l;for(i=l;i<256;i++){const h=e[i];h>r&&(i-c>o&&(o=i-c,u=i-1),r=h,c=i)}for(i=u-1;i>=0&&!(e[i]>e[i+1]);i--);return i},Hie=function(e){const i=e,{width:r,height:o}=e,{maxDim:l}=P(this,y0);let c=r,u=o;if(r>l||o>l){let v=r,_=o,A=Math.log2(Math.max(r,o)/l);const S=Math.floor(A);A=A===S?S-1:S;for(let C=0;C<A;C++){c=v,u=_,c>l&&(c=Math.ceil(c/2)),u>l&&(u=Math.ceil(u/2));const N=new OffscreenCanvas(c,u);N.getContext("2d").drawImage(e,0,0,v,_,0,0,c,u),v=c,_=u,e!==i&&e.close(),e=N.transferToImageBitmap()}const T=Math.min(l/c,l/u);c=Math.round(c*T),u=Math.round(u*T)}const m=new OffscreenCanvas(c,u).getContext("2d",{willReadFrequently:!0});m.filter="grayscale(1)",m.drawImage(e,0,0,e.width,e.height,0,0,c,u);const g=m.getImageData(0,0,c,u).data;return[me(this,ii,g6).call(this,g),c,u]},pe(af,ii),pe(af,y0,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),pe(af,Jc,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class ZL extends Mie{constructor(){super(),super.updateProperties({fill:Di._defaultLineColor,"stroke-width":0})}clone(){const e=new ZL;return e.updateAll(this),e}}class JL extends AP{constructor(e){super(e),super.updateProperties({stroke:Di._defaultLineColor,"stroke-width":1})}clone(){const e=new JL(this._viewParameters);return e.updateAll(this),e}}var pm,ol,mm,gm;const Xa=class Xa extends P5{constructor(i){super({...i,mustBeCommitted:!0,name:"signatureEditor"});pe(this,pm,!1);pe(this,ol,null);pe(this,mm,null);pe(this,gm,null);this._willKeepAspectRatio=!0,te(this,mm,i.signatureData||null),te(this,ol,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(i,r){Di.initialize(i,r),this._defaultDrawingOptions=new ZL,this._defaultDrawnSignatureOptions=new JL(r.viewParameters)}static getDefaultDrawingOptions(i){const r=this._defaultDrawingOptions.clone();return r.updateProperties(i),r}static get supportMultipleDrawings(){return!1}static get typesMap(){return Tn(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!P(this,ol)}}static computeTelemetryFinalData(i){const r=i.get("hasDescription");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let i,r;const{_isCopy:o}=this;if(o&&(this._isCopy=!1,i=this.x,r=this.y),super.render(),this._drawId===null)if(P(this,mm)){const{lines:l,mustSmooth:c,areContours:u,description:h,uuid:m,heightInPage:g}=P(this,mm),{rawDims:{pageWidth:y,pageHeight:v},rotation:_}=this.parent.viewport,A=af.processDrawnLines({lines:l,pageWidth:y,pageHeight:v,rotation:_,innerMargin:Xa._INNER_MARGIN,mustSmooth:c,areContours:u});this.addSignature(A,g,h,m)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return o&&(this._isCopy=!0,this._moveAfterPaste(i,r)),this.div}setUuid(i){te(this,gm,i),this.addEditToolbar()}getUuid(){return P(this,gm)}get description(){return P(this,ol)}set description(i){te(this,ol,i),super.addEditToolbar().then(r=>{r==null||r.updateEditSignatureButton(i)})}getSignaturePreview(){const{newCurves:i,areContours:r,thickness:o,width:l,height:c}=P(this,mm),u=Math.max(l,c),h=af.processDrawnLines({lines:{curves:i.map(m=>({points:m})),thickness:o,width:l,height:c},pageWidth:u,pageHeight:u,rotation:0,innerMargin:0,mustSmooth:!1,areContours:r});return{areContours:r,outline:h.outline}}async addEditToolbar(){const i=await super.addEditToolbar();return i?(this._uiManager.signatureManager&&P(this,ol)!==null&&(await i.addEditSignatureButton(this._uiManager.signatureManager,P(this,gm),P(this,ol)),i.show()),i):null}addSignature(i,r,o,l){const{x:c,y:u}=this,{outline:h}=te(this,mm,i);te(this,pm,h instanceof f6),te(this,ol,o),this.div.setAttribute("data-l10n-args",JSON.stringify({description:o}));let m;P(this,pm)?m=Xa.getDefaultDrawingOptions():(m=Xa._defaultDrawnSignatureOptions.clone(),m.updateProperties({"stroke-width":h.thickness})),this._addOutlines({drawOutlines:h,drawingOptions:m});const[g,y]=this.parentDimensions,[,v]=this.pageDimensions;let _=r/v;_=_>=1?.5:_,this.width*=_/this.height,this.width>=1&&(_*=.9/this.width,this.width=.9),this.height=_,this.setDims(g*this.width,y*this.height),this.x=c,this.y=u,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(l),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!l,hasDescription:!!o}}),this.div.hidden=!1}getFromImage(i){const{rawDims:{pageWidth:r,pageHeight:o},rotation:l}=this.parent.viewport;return af.process(i,r,o,l,Xa._INNER_MARGIN)}getFromText(i,r){const{rawDims:{pageWidth:o,pageHeight:l},rotation:c}=this.parent.viewport;return af.extractContoursFromText(i,r,o,l,c,Xa._INNER_MARGIN)}getDrawnSignature(i){const{rawDims:{pageWidth:r,pageHeight:o},rotation:l}=this.parent.viewport;return af.processDrawnLines({lines:i,pageWidth:r,pageHeight:o,rotation:l,innerMargin:Xa._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:i,thickness:r}){i?this._drawingOptions=Xa.getDefaultDrawingOptions():(this._drawingOptions=Xa._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":r}))}serialize(i=!1){if(this.isEmpty())return null;const{lines:r,points:o,rect:l}=this.serializeDraw(i),{_drawingOptions:{"stroke-width":c}}=this,u={annotationType:gn.SIGNATURE,isSignature:!0,areContours:P(this,pm),color:[0,0,0],thickness:P(this,pm)?0:c,pageIndex:this.pageIndex,rect:l,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return i?(u.paths={lines:r,points:o},u.uuid=P(this,gm),u.isCopy=!0):u.lines=r,P(this,ol)&&(u.accessibilityData={type:"Figure",alt:P(this,ol)}),u}static deserializeDraw(i,r,o,l,c,u){return u.areContours?f6.deserialize(i,r,o,l,c,u):_A.deserialize(i,r,o,l,c,u)}static async deserialize(i,r,o){var c;const l=await super.deserialize(i,r,o);return te(l,pm,i.areContours),te(l,ol,((c=i.accessibilityData)==null?void 0:c.alt)||""),te(l,gm,i.uuid),l}};pm=new WeakMap,ol=new WeakMap,mm=new WeakMap,gm=new WeakMap,yt(Xa,"_type","signature"),yt(Xa,"_editorType",gn.SIGNATURE),yt(Xa,"_defaultDrawingOptions",null);let y6=Xa;var zi,hs,bm,ef,ym,S1,tf,v0,bd,al,A1,Bn,u2,d2,kN,EN,SN,w6,AN,Gie;class v6 extends Di{constructor(i){super({...i,name:"stampEditor"});pe(this,Bn);pe(this,zi,null);pe(this,hs,null);pe(this,bm,null);pe(this,ef,null);pe(this,ym,null);pe(this,S1,"");pe(this,tf,null);pe(this,v0,!1);pe(this,bd,null);pe(this,al,!1);pe(this,A1,!1);te(this,ef,i.bitmapUrl),te(this,ym,i.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(i,r){Di.initialize(i,r)}static isHandlingMimeForPasting(i){return hO.includes(i)}static paste(i,r){r.pasteEditor(gn.STAMP,{bitmapFile:i.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var i;return{type:"stamp",hasAltText:!!((i=this.altTextData)!=null&&i.altText)}}static computeTelemetryFinalData(i){const r=i.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(i=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:o}=this._uiManager;if(!o)throw new Error("No ML.");if(!await o.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:l,width:c,height:u}=i||this.copyCanvas(null,null,!0).imageData,h=await o.guess({name:"altText",request:{data:l,width:c,height:u,channels:l.length/(c*u)}});if(!h)throw new Error("No response from the AI service.");if(h.error)throw new Error("Error from the AI service.");if(h.cancel)return null;if(!h.output)throw new Error("No valid response from the AI service.");const m=h.output;return await this.setGuessedAltText(m),r&&!this.hasAltTextData()&&(this.altTextData={alt:m,decorative:!1}),m}remove(){var i;P(this,hs)&&(te(this,zi,null),this._uiManager.imageManager.deleteId(P(this,hs)),(i=P(this,tf))==null||i.remove(),te(this,tf,null),P(this,bd)&&(clearTimeout(P(this,bd)),te(this,bd,null))),super.remove()}rebuild(){if(!this.parent){P(this,hs)&&me(this,Bn,kN).call(this);return}super.rebuild(),this.div!==null&&(P(this,hs)&&P(this,tf)===null&&me(this,Bn,kN).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(i){this._isDraggable=!0,i&&this.div.focus()}isEmpty(){return!(P(this,bm)||P(this,zi)||P(this,ef)||P(this,ym)||P(this,hs)||P(this,v0))}get isResizable(){return!0}render(){if(this.div)return this.div;let i,r;return this._isCopy&&(i=this.x,r=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),P(this,v0)||(P(this,zi)?me(this,Bn,EN).call(this):me(this,Bn,kN).call(this)),this._isCopy&&this._moveAfterPaste(i,r),this._uiManager.addShouldRescale(this),this.div}setCanvas(i,r){const{id:o,bitmap:l}=this._uiManager.imageManager.getFromCanvas(i,r);r.remove(),o&&this._uiManager.imageManager.isValidId(o)&&(te(this,hs,o),l&&te(this,zi,l),te(this,v0,!1),me(this,Bn,EN).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;P(this,bd)!==null&&clearTimeout(P(this,bd)),te(this,bd,setTimeout(()=>{te(this,bd,null),me(this,Bn,w6).call(this)},200))}copyCanvas(i,r,o=!1){var _;i||(i=224);const{width:l,height:c}=P(this,zi),u=new Sf;let h=P(this,zi),m=l,g=c,y=null;if(r){if(l>r||c>r){const B=Math.min(r/l,r/c);m=Math.floor(l*B),g=Math.floor(c*B)}y=document.createElement("canvas");const A=y.width=Math.ceil(m*u.sx),S=y.height=Math.ceil(g*u.sy);P(this,al)||(h=me(this,Bn,SN).call(this,A,S));const T=y.getContext("2d");T.filter=this._uiManager.hcmFilter;let C="white",N="#cfcfd8";this._uiManager.hcmFilter!=="none"?N="black":(_=window.matchMedia)!=null&&_.call(window,"(prefers-color-scheme: dark)").matches&&(C="#8f8f9d",N="#42414d");const I=15,O=I*u.sx,F=I*u.sy,L=new OffscreenCanvas(O*2,F*2),z=L.getContext("2d");z.fillStyle=C,z.fillRect(0,0,O*2,F*2),z.fillStyle=N,z.fillRect(0,0,O,F),z.fillRect(O,F,O,F),T.fillStyle=T.createPattern(L,"repeat"),T.fillRect(0,0,A,S),T.drawImage(h,0,0,h.width,h.height,0,0,A,S)}let v=null;if(o){let A,S;if(u.symmetric&&h.width<i&&h.height<i)A=h.width,S=h.height;else if(h=P(this,zi),l>i||c>i){const N=Math.min(i/l,i/c);A=Math.floor(l*N),S=Math.floor(c*N),P(this,al)||(h=me(this,Bn,SN).call(this,A,S))}const C=new OffscreenCanvas(A,S).getContext("2d",{willReadFrequently:!0});C.drawImage(h,0,0,h.width,h.height,0,0,A,S),v={width:A,height:S,data:C.getImageData(0,0,A,S).data}}return{canvas:y,width:m,height:g,imageData:v}}static async deserialize(i,r,o){var T;let l=null,c=!1;if(i instanceof lie){const{data:{rect:C,rotation:N,id:I,structParent:O,popupRef:F},container:L,parent:{page:{pageNumber:z}},canvas:B}=i;let Y,se;B?(delete i.canvas,{id:Y,bitmap:se}=o.imageManager.getFromCanvas(L.id,B),B.remove()):(c=!0,i._hasNoCanvas=!0);const de=((T=await r._structTree.getAriaAttributes(`${zL}${I}`))==null?void 0:T.get("aria-label"))||"";l=i={annotationType:gn.STAMP,bitmapId:Y,bitmap:se,pageIndex:z-1,rect:C.slice(0),rotation:N,id:I,deleted:!1,accessibilityData:{decorative:!1,altText:de},isSvg:!1,structParent:O,popupRef:F}}const u=await super.deserialize(i,r,o),{rect:h,bitmap:m,bitmapUrl:g,bitmapId:y,isSvg:v,accessibilityData:_}=i;c?(o.addMissingCanvas(i.id,u),te(u,v0,!0)):y&&o.imageManager.isValidId(y)?(te(u,hs,y),m&&te(u,zi,m)):te(u,ef,g),te(u,al,v);const[A,S]=u.pageDimensions;return u.width=(h[2]-h[0])/A,u.height=(h[3]-h[1])/S,u.annotationElementId=i.id||null,_&&(u.altTextData=_),u._initialData=l,te(u,A1,!!l),u}serialize(i=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const o={annotationType:gn.STAMP,bitmapId:P(this,hs),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:P(this,al),structTreeParentId:this._structTreeParentId};if(i)return o.bitmapUrl=me(this,Bn,AN).call(this,!0),o.accessibilityData=this.serializeAltText(!0),o.isCopy=!0,o;const{decorative:l,altText:c}=this.serializeAltText(!1);if(!l&&c&&(o.accessibilityData={type:"Figure",alt:c}),this.annotationElementId){const h=me(this,Bn,Gie).call(this,o);if(h.isSame)return null;h.isSameAltText?delete o.accessibilityData:o.accessibilityData.structParent=this._initialData.structParent??-1}if(o.id=this.annotationElementId,r===null)return o;r.stamps||(r.stamps=new Map);const u=P(this,al)?(o.rect[2]-o.rect[0])*(o.rect[3]-o.rect[1]):null;if(!r.stamps.has(P(this,hs)))r.stamps.set(P(this,hs),{area:u,serialized:o}),o.bitmap=me(this,Bn,AN).call(this,!1);else if(P(this,al)){const h=r.stamps.get(P(this,hs));u>h.area&&(h.area=u,h.serialized.bitmap.close(),h.serialized.bitmap=me(this,Bn,AN).call(this,!1))}return o}renderAnnotationElement(i){return i.updateEdited({rect:this.getRect(0,0)}),null}}zi=new WeakMap,hs=new WeakMap,bm=new WeakMap,ef=new WeakMap,ym=new WeakMap,S1=new WeakMap,tf=new WeakMap,v0=new WeakMap,bd=new WeakMap,al=new WeakMap,A1=new WeakMap,Bn=new WeakSet,u2=function(i,r=!1){if(!i){this.remove();return}te(this,zi,i.bitmap),r||(te(this,hs,i.id),te(this,al,i.isSvg)),i.file&&te(this,S1,i.file.name),me(this,Bn,EN).call(this)},d2=function(){if(te(this,bm,null),this._uiManager.enableWaiting(!1),!!P(this,tf)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&P(this,zi)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&P(this,zi)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},kN=function(){if(P(this,hs)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(P(this,hs)).then(o=>me(this,Bn,u2).call(this,o,!0)).finally(()=>me(this,Bn,d2).call(this));return}if(P(this,ef)){const o=P(this,ef);te(this,ef,null),this._uiManager.enableWaiting(!0),te(this,bm,this._uiManager.imageManager.getFromUrl(o).then(l=>me(this,Bn,u2).call(this,l)).finally(()=>me(this,Bn,d2).call(this)));return}if(P(this,ym)){const o=P(this,ym);te(this,ym,null),this._uiManager.enableWaiting(!0),te(this,bm,this._uiManager.imageManager.getFromFile(o).then(l=>me(this,Bn,u2).call(this,l)).finally(()=>me(this,Bn,d2).call(this)));return}const i=document.createElement("input");i.type="file",i.accept=hO.join(",");const r=this._uiManager._signal;te(this,bm,new Promise(o=>{i.addEventListener("change",async()=>{if(!i.files||i.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const l=await this._uiManager.imageManager.getFromFile(i.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),me(this,Bn,u2).call(this,l)}o()},{signal:r}),i.addEventListener("cancel",()=>{this.remove(),o()},{signal:r})}).finally(()=>me(this,Bn,d2).call(this))),i.click()},EN=function(){var y;const{div:i}=this;let{width:r,height:o}=P(this,zi);const[l,c]=this.pageDimensions,u=.75;if(this.width)r=this.width*l,o=this.height*c;else if(r>u*l||o>u*c){const v=Math.min(u*l/r,u*c/o);r*=v,o*=v}const[h,m]=this.parentDimensions;this.setDims(r*h/l,o*m/c),this._uiManager.enableWaiting(!1);const g=te(this,tf,document.createElement("canvas"));g.setAttribute("role","img"),this.addContainer(g),this.width=r/l,this.height=o/c,(y=this._initialOptions)!=null&&y.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(i.hidden=!1),me(this,Bn,w6).call(this),P(this,A1)||(this.parent.addUndoableEditor(this),te(this,A1,!0)),this._reportTelemetry({action:"inserted_image"}),P(this,S1)&&this.div.setAttribute("aria-description",P(this,S1))},SN=function(i,r){const{width:o,height:l}=P(this,zi);let c=o,u=l,h=P(this,zi);for(;c>2*i||u>2*r;){const m=c,g=u;c>2*i&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2)),u>2*r&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2));const y=new OffscreenCanvas(c,u);y.getContext("2d").drawImage(h,0,0,m,g,0,0,c,u),h=y.transferToImageBitmap()}return h},w6=function(){const[i,r]=this.parentDimensions,{width:o,height:l}=this,c=new Sf,u=Math.ceil(o*i*c.sx),h=Math.ceil(l*r*c.sy),m=P(this,tf);if(!m||m.width===u&&m.height===h)return;m.width=u,m.height=h;const g=P(this,al)?P(this,zi):me(this,Bn,SN).call(this,u,h),y=m.getContext("2d");y.filter=this._uiManager.hcmFilter,y.drawImage(g,0,0,g.width,g.height,0,0,u,h)},AN=function(i){if(i){if(P(this,al)){const l=this._uiManager.imageManager.getSvgUrl(P(this,hs));if(l)return l}const r=document.createElement("canvas");return{width:r.width,height:r.height}=P(this,zi),r.getContext("2d").drawImage(P(this,zi),0,0),r.toDataURL()}if(P(this,al)){const[r,o]=this.pageDimensions,l=Math.round(this.width*r*$m.PDF_TO_CSS_UNITS),c=Math.round(this.height*o*$m.PDF_TO_CSS_UNITS),u=new OffscreenCanvas(l,c);return u.getContext("2d").drawImage(P(this,zi),0,0,P(this,zi).width,P(this,zi).height,0,0,l,c),u.transferToImageBitmap()}return structuredClone(P(this,zi))},Gie=function(i){var u;const{pageIndex:r,accessibilityData:{altText:o}}=this._initialData,l=i.pageIndex===r,c=(((u=i.accessibilityData)==null?void 0:u.alt)||"")===o;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&l&&c,isSameAltText:c}},yt(v6,"_type","stamp"),yt(v6,"_editorType",gn.STAMP);var w0,T1,yd,vm,nf,ic,wm,C1,x0,Qc,rf,lo,sf,Jt,xm,Vi,Xie,td,_6,k6,TN;const zc=class zc{constructor({uiManager:e,pageIndex:i,div:r,structTreeLayer:o,accessibilityManager:l,annotationLayer:c,drawLayer:u,textLayer:h,viewport:m,l10n:g}){pe(this,Vi);pe(this,w0);pe(this,T1,!1);pe(this,yd,null);pe(this,vm,null);pe(this,nf,null);pe(this,ic,new Map);pe(this,wm,!1);pe(this,C1,!1);pe(this,x0,!1);pe(this,Qc,null);pe(this,rf,null);pe(this,lo,null);pe(this,sf,null);pe(this,Jt);const y=[...P(zc,xm).values()];if(!zc._initialized){zc._initialized=!0;for(const v of y)v.initialize(g,e)}e.registerEditorTypes(y),te(this,Jt,e),this.pageIndex=i,this.div=r,te(this,w0,l),te(this,yd,c),this.viewport=m,te(this,lo,h),this.drawLayer=u,this._structTree=o,P(this,Jt).addLayer(this)}get isEmpty(){return P(this,ic).size===0}get isInvisible(){return this.isEmpty&&P(this,Jt).getMode()===gn.NONE}updateToolbar(e){P(this,Jt).updateToolbar(e)}updateMode(e=P(this,Jt).getMode()){switch(me(this,Vi,TN).call(this),e){case gn.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case gn.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case gn.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:i}=this.div;for(const r of P(zc,xm).values())i.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var i;return e===((i=P(this,lo))==null?void 0:i.div)}setEditingState(e){P(this,Jt).setEditingState(e)}addCommands(e){P(this,Jt).addCommands(e)}cleanUndoStack(e){P(this,Jt).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var i;(i=P(this,yd))==null||i.div.classList.toggle("disabled",!e)}async enable(){te(this,x0,!0),this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of P(this,ic).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(P(this,Jt).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!P(this,yd)){te(this,x0,!1);return}const i=P(this,yd).getEditableAnnotations();for(const r of i){if(r.hide(),P(this,Jt).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const o=await this.deserialize(r);o&&(this.addOrRebuild(o),o.enableEditing())}te(this,x0,!1)}disable(){var o;te(this,C1,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,i=new Map;for(const l of P(this,ic).values())if(l.disableEditing(),!!l.annotationElementId){if(l.serialize()!==null){e.set(l.annotationElementId,l);continue}else i.set(l.annotationElementId,l);(o=this.getEditableAnnotation(l.annotationElementId))==null||o.show(),l.remove()}if(P(this,yd)){const l=P(this,yd).getEditableAnnotations();for(const c of l){const{id:u}=c.data;if(P(this,Jt).isDeletedAnnotationElement(u))continue;let h=i.get(u);if(h){h.resetAnnotationElement(c),h.show(!1),c.show();continue}h=e.get(u),h&&(P(this,Jt).addChangedExistingAnnotation(h),h.renderAnnotationElement(c)&&h.show(!1)),c.show()}}me(this,Vi,TN).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const l of P(zc,xm).values())r.remove(`${l._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),te(this,C1,!1)}getEditableAnnotation(e){var i;return((i=P(this,yd))==null?void 0:i.getEditableAnnotation(e))||null}setActiveEditor(e){P(this,Jt).getActive()!==e&&P(this,Jt).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=P(this,lo))!=null&&e.div&&!P(this,sf)){te(this,sf,new AbortController);const i=P(this,Jt).combinedSignal(P(this,sf));P(this,lo).div.addEventListener("pointerdown",me(this,Vi,Xie).bind(this),{signal:i}),P(this,lo).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=P(this,lo))!=null&&e.div&&P(this,sf)&&(P(this,sf).abort(),te(this,sf,null),P(this,lo).div.classList.remove("highlighting"))}enableClick(){if(P(this,vm))return;te(this,vm,new AbortController);const e=P(this,Jt).combinedSignal(P(this,vm));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const i=this.pointerup.bind(this);this.div.addEventListener("pointerup",i,{signal:e}),this.div.addEventListener("pointercancel",i,{signal:e})}disableClick(){var e;(e=P(this,vm))==null||e.abort(),te(this,vm,null)}attach(e){P(this,ic).set(e.id,e);const{annotationElementId:i}=e;i&&P(this,Jt).isDeletedAnnotationElement(i)&&P(this,Jt).removeDeletedAnnotationElement(e)}detach(e){var i;P(this,ic).delete(e.id),(i=P(this,w0))==null||i.removePointerInTextLayer(e.contentDiv),!P(this,C1)&&e.annotationElementId&&P(this,Jt).addDeletedAnnotationElement(e)}remove(e){this.detach(e),P(this,Jt).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var i;e.parent!==this&&(e.parent&&e.annotationElementId&&(P(this,Jt).addDeletedAnnotationElement(e.annotationElementId),Di.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(i=e.parent)==null||i.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),P(this,Jt).addEditor(e),this.attach(e),!e.isAttachedToDOM){const i=e.render();this.div.append(i),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!P(this,x0)),P(this,Jt).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:i}=document;e.div.contains(i)&&!P(this,nf)&&(e._focusEventsAllowed=!1,te(this,nf,setTimeout(()=>{te(this,nf,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:P(this,Jt)._signal}),i.focus())},0))),e._structTreeParentId=(r=P(this,w0))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const i=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:i,undo:r,mustExec:!1})}getNextId(){return P(this,Jt).getId()}combinedSignal(e){return P(this,Jt).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=P(this,Vi,td))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,i){P(this,Jt).updateToolbar(e),await P(this,Jt).updateMode(e);const{offsetX:r,offsetY:o}=me(this,Vi,k6).call(this),l=this.getNextId(),c=me(this,Vi,_6).call(this,{parent:this,id:l,x:r,y:o,uiManager:P(this,Jt),isCentered:!0,...i});c&&this.add(c)}async deserialize(e){var i;return await((i=P(zc,xm).get(e.annotationType??e.annotationEditorType))==null?void 0:i.deserialize(e,this,P(this,Jt)))||null}createAndAddNewEditor(e,i,r={}){const o=this.getNextId(),l=me(this,Vi,_6).call(this,{parent:this,id:o,x:e.offsetX,y:e.offsetY,uiManager:P(this,Jt),isCentered:i,...r});return l&&this.add(l),l}addNewEditor(e={}){this.createAndAddNewEditor(me(this,Vi,k6).call(this),!0,e)}setSelected(e){P(this,Jt).setSelected(e)}toggleSelected(e){P(this,Jt).toggleSelected(e)}unselect(e){P(this,Jt).unselect(e)}pointerup(e){var o;const{isMac:i}=Vs.platform;if(e.button!==0||e.ctrlKey&&i||e.target!==this.div||!P(this,wm)||(te(this,wm,!1),(o=P(this,Vi,td))!=null&&o.isDrawer&&P(this,Vi,td).supportMultipleDrawings))return;if(!P(this,T1)){te(this,T1,!0);return}const r=P(this,Jt).getMode();if(r===gn.STAMP||r===gn.SIGNATURE){P(this,Jt).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var o;if(P(this,Jt).getMode()===gn.HIGHLIGHT&&this.enableTextSelection(),P(this,wm)){te(this,wm,!1);return}const{isMac:i}=Vs.platform;if(e.button!==0||e.ctrlKey&&i||e.target!==this.div)return;if(te(this,wm,!0),(o=P(this,Vi,td))!=null&&o.isDrawer){this.startDrawingSession(e);return}const r=P(this,Jt).getActive();te(this,T1,!r||r.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),P(this,Qc)){P(this,Vi,td).startDrawing(this,P(this,Jt),!1,e);return}P(this,Jt).setCurrentDrawingSession(this),te(this,Qc,new AbortController);const i=P(this,Jt).combinedSignal(P(this,Qc));this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(te(this,rf,null),this.commitOrRemove())},{signal:i}),P(this,Vi,td).startDrawing(this,P(this,Jt),!1,e)}pause(e){if(e){const{activeElement:i}=document;this.div.contains(i)&&te(this,rf,i);return}P(this,rf)&&setTimeout(()=>{var i;(i=P(this,rf))==null||i.focus(),te(this,rf,null)},0)}endDrawingSession(e=!1){return P(this,Qc)?(P(this,Jt).setCurrentDrawingSession(null),P(this,Qc).abort(),te(this,Qc,null),te(this,rf,null),P(this,Vi,td).endDrawing(e)):null}findNewParent(e,i,r){const o=P(this,Jt).findParent(i,r);return o===null||o===this?!1:(o.changeParent(e),!0)}commitOrRemove(){return P(this,Qc)?(this.endDrawingSession(),!0):!1}onScaleChanging(){P(this,Qc)&&P(this,Vi,td).onScaleChangingWhenDrawing(this)}destroy(){var e,i;this.commitOrRemove(),((e=P(this,Jt).getActive())==null?void 0:e.parent)===this&&(P(this,Jt).commitOrRemove(),P(this,Jt).setActiveEditor(null)),P(this,nf)&&(clearTimeout(P(this,nf)),te(this,nf,null));for(const r of P(this,ic).values())(i=P(this,w0))==null||i.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,P(this,ic).clear(),P(this,Jt).removeLayer(this)}render({viewport:e}){this.viewport=e,V0(this.div,e);for(const i of P(this,Jt).getEditors(this.pageIndex))this.add(i),i.rebuild();this.updateMode()}update({viewport:e}){P(this,Jt).commitOrRemove(),me(this,Vi,TN).call(this);const i=this.viewport.rotation,r=e.rotation;if(this.viewport=e,V0(this.div,{rotation:r}),i!==r)for(const o of P(this,ic).values())o.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:i}=this.viewport.rawDims;return[e,i]}get scale(){return P(this,Jt).viewParameters.realScale}};w0=new WeakMap,T1=new WeakMap,yd=new WeakMap,vm=new WeakMap,nf=new WeakMap,ic=new WeakMap,wm=new WeakMap,C1=new WeakMap,x0=new WeakMap,Qc=new WeakMap,rf=new WeakMap,lo=new WeakMap,sf=new WeakMap,Jt=new WeakMap,xm=new WeakMap,Vi=new WeakSet,Xie=function(e){P(this,Jt).unselectAll();const{target:i}=e;if(i===P(this,lo).div||(i.getAttribute("role")==="img"||i.classList.contains("endOfContent"))&&P(this,lo).div.contains(i)){const{isMac:r}=Vs.platform;if(e.button!==0||e.ctrlKey&&r)return;P(this,Jt).showAllEditors("highlight",!0,!0),P(this,lo).div.classList.add("free"),this.toggleDrawing(),N5.startHighlighting(this,P(this,Jt).direction==="ltr",{target:P(this,lo).div,x:e.x,y:e.y}),P(this,lo).div.addEventListener("pointerup",()=>{P(this,lo).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:P(this,Jt)._signal}),e.preventDefault()}},td=function(){return P(zc,xm).get(P(this,Jt).getMode())},_6=function(e){const i=P(this,Vi,td);return i?new i.prototype.constructor(e):null},k6=function(){const{x:e,y:i,width:r,height:o}=this.div.getBoundingClientRect(),l=Math.max(0,e),c=Math.max(0,i),u=Math.min(window.innerWidth,e+r),h=Math.min(window.innerHeight,i+o),m=(l+u)/2-e,g=(c+h)/2-i,[y,v]=this.viewport.rotation%180===0?[m,g]:[g,m];return{offsetX:y,offsetY:v}},TN=function(){for(const e of P(this,ic).values())e.isEmpty()&&e.remove()},yt(zc,"_initialized",!1),pe(zc,xm,new Map([QO,h6,v6,N5,y6].map(e=>[e._editorType,e])));let x6=zc;var eu,zo,_0,$S,K5,Yie,Pd,S6,Kie,A6;const qr=class qr{constructor({pageIndex:e}){pe(this,Pd);pe(this,eu,null);pe(this,zo,new Map);pe(this,_0,new Map);this.pageIndex=e}setParent(e){if(!P(this,eu)){te(this,eu,e);return}if(P(this,eu)!==e){if(P(this,zo).size>0)for(const i of P(this,zo).values())i.remove(),e.append(i);te(this,eu,e)}}static get _svgFactory(){return Tn(this,"_svgFactory",new T5)}draw(e,i=!1,r=!1){const o=Ro(qr,$S)._++,l=me(this,Pd,S6).call(this),c=qr._svgFactory.createElement("defs");l.append(c);const u=qr._svgFactory.createElement("path");c.append(u);const h=`path_p${this.pageIndex}_${o}`;u.setAttribute("id",h),u.setAttribute("vector-effect","non-scaling-stroke"),i&&P(this,_0).set(o,u);const m=r?me(this,Pd,Kie).call(this,c,h):null,g=qr._svgFactory.createElement("use");return l.append(g),g.setAttribute("href",`#${h}`),this.updateProperties(l,e),P(this,zo).set(o,l),{id:o,clipPathId:`url(#${m})`}}drawOutline(e,i){const r=Ro(qr,$S)._++,o=me(this,Pd,S6).call(this),l=qr._svgFactory.createElement("defs");o.append(l);const c=qr._svgFactory.createElement("path");l.append(c);const u=`path_p${this.pageIndex}_${r}`;c.setAttribute("id",u),c.setAttribute("vector-effect","non-scaling-stroke");let h;if(i){const y=qr._svgFactory.createElement("mask");l.append(y),h=`mask_p${this.pageIndex}_${r}`,y.setAttribute("id",h),y.setAttribute("maskUnits","objectBoundingBox");const v=qr._svgFactory.createElement("rect");y.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const _=qr._svgFactory.createElement("use");y.append(_),_.setAttribute("href",`#${u}`),_.setAttribute("stroke","none"),_.setAttribute("fill","black"),_.setAttribute("fill-rule","nonzero"),_.classList.add("mask")}const m=qr._svgFactory.createElement("use");o.append(m),m.setAttribute("href",`#${u}`),h&&m.setAttribute("mask",`url(#${h})`);const g=m.cloneNode();return o.append(g),m.classList.add("mainOutline"),g.classList.add("secondaryOutline"),this.updateProperties(o,e),P(this,zo).set(r,o),r}finalizeDraw(e,i){P(this,_0).delete(e),this.updateProperties(e,i)}updateProperties(e,i){var h;if(!i)return;const{root:r,bbox:o,rootClass:l,path:c}=i,u=typeof e=="number"?P(this,zo).get(e):e;if(u){if(r&&me(this,Pd,A6).call(this,u,r),o&&me(h=qr,K5,Yie).call(h,u,o),l){const{classList:m}=u;for(const[g,y]of Object.entries(l))m.toggle(g,y)}if(c){const g=u.firstChild.firstChild;me(this,Pd,A6).call(this,g,c)}}}updateParent(e,i){if(i===this)return;const r=P(this,zo).get(e);r&&(P(i,eu).append(r),P(this,zo).delete(e),P(i,zo).set(e,r))}remove(e){P(this,_0).delete(e),P(this,eu)!==null&&(P(this,zo).get(e).remove(),P(this,zo).delete(e))}destroy(){te(this,eu,null);for(const e of P(this,zo).values())e.remove();P(this,zo).clear(),P(this,_0).clear()}};eu=new WeakMap,zo=new WeakMap,_0=new WeakMap,$S=new WeakMap,K5=new WeakSet,Yie=function(e,[i,r,o,l]){const{style:c}=e;c.top=`${100*r}%`,c.left=`${100*i}%`,c.width=`${100*o}%`,c.height=`${100*l}%`},Pd=new WeakSet,S6=function(){const e=qr._svgFactory.create(1,1,!0);return P(this,eu).append(e),e.setAttribute("aria-hidden",!0),e},Kie=function(e,i){const r=qr._svgFactory.createElement("clipPath");e.append(r);const o=`clip_${i}`;r.setAttribute("id",o),r.setAttribute("clipPathUnits","objectBoundingBox");const l=qr._svgFactory.createElement("use");return r.append(l),l.setAttribute("href",`#${i}`),l.classList.add("clip"),o},A6=function(e,i){for(const[r,o]of Object.entries(i))o===null?e.removeAttribute(r):e.setAttribute(r,o)},pe(qr,K5),pe(qr,$S,0);let E6=qr;globalThis.pdfjsTestingUtils={HighlightOutliner:t6};globalThis.pdfjsLib={AbortException:Wm,AnnotationEditorLayer:x6,AnnotationEditorParamsType:jn,AnnotationEditorType:gn,AnnotationEditorUIManager:W0,AnnotationLayer:KO,AnnotationMode:Up,AnnotationType:Pr,build:SCe,ColorPicker:D5,createValidAbsoluteUrl:$te,DOMSVGFactory:T5,DrawLayer:E6,FeatureTest:Vs,fetchData:bA,getDocument:Gne,getFilenameFromUrl:yTe,getPdfFilenameFromUrl:vTe,getUuid:Gte,getXfaPageViewport:wTe,GlobalWorkerOptions:_d,ImageKind:ZD,InvalidPDFException:uO,isDataScheme:EP,isPdfFile:WL,isValidExplicitDest:yCe,MathClamp:Wo,noContextMenu:uu,normalizeUnicode:mTe,OPS:k5,OutputScale:Sf,PasswordResponses:oTe,PDFDataRangeTransport:Xne,PDFDateString:$L,PDFWorker:xw,PermissionFlag:sTe,PixelsPerInch:$m,RenderingCancelledException:VL,ResponseException:E5,setLayerDimensions:V0,shadow:Tn,SignatureExtractor:af,stopEvent:Ir,SupportedImageMimeTypes:hO,TextLayer:wE,TouchManager:A5,updateUrlHash:qte,Util:Kt,VerbosityLevel:xP,version:ECe,XfaLayer:Kne};function GCe(n){return new Worker("/accreda.github.io/assets/pdf.worker-BKIAaNPc.js",{name:n==null?void 0:n.name})}function Zie(n){return!n||n.length===0?null:n.reduce((e,i)=>new Date(i.updated_at)>new Date(e.updated_at)?i:e)}function XCe(n){const e=document.createElement("div");return e.innerHTML=n,e.textContent||e.innerText||""}const YCe=({isOpen:n,onClose:e,editSAO:i,onCreated:r,initialContent:o,onInitialContentUsed:l})=>{const[c,u]=G.useState(""),[h,m]=G.useState(""),[g,y]=G.useState([]),[v,_]=G.useState("draft"),[A,S]=G.useState(!1),[T,C]=G.useState(!1),[N,I]=G.useState(null),[O,F]=G.useState(""),[L,z]=G.useState([]),{skillCategories:B}=wf(),{createSAO:Y,updateSAO:se,loading:de,error:J,requestFeedback:be,loadUserSAOs:q,fetchSAOVersions:Te}=oA(),[ie,ce]=G.useState(!1),[X,K]=G.useState(""),{checkSaoLimit:ne,tier:ee,fetchSubscription:ue}=rA(),[Q,fe]=G.useState(null),[Se,Oe]=G.useState(0),[Ie,je]=G.useState(!1),[Be,Fe]=G.useState(!1),[Ae,ke]=G.useState([]),[ze,$]=G.useState(!1),[Ce,Me]=G.useState(null),ye=i&&i.feedback?Zie(i.feedback):null;G.useEffect(()=>{n&&(async()=>{const{data:{user:Ne}}=await Re.auth.getUser();if(!Ne)return;const{data:Ee}=await Re.from("supervisor_eit_relationships").select(`
          supervisor_id,
          supervisor_profiles (
            id,
            full_name
          )
        `).eq("eit_id",Ne.id).eq("status","active");Ee&&z(Ee.map(ve=>({id:ve.supervisor_profiles.id,name:ve.supervisor_profiles.full_name})))})()},[n]),G.useEffect(()=>{n&&i?(u(i.title),m(i.content),y(i.skills),_(i.status||"draft")):n&&(u(""),m(""),y([]),_("draft"))},[n,i]),G.useEffect(()=>{n&&o&&(m(o),l&&l())},[n,o,l]),G.useEffect(()=>{(async()=>{await ue();const{data:{user:Ne}}=await Re.auth.getUser();if(Ne){const{data:Ee}=await Re.from("subscriptions").select("sao_created_count").eq("user_id",Ne.id).single();Ee&&typeof Ee.sao_created_count=="number"&&Oe(Ee.sao_created_count)}})()},[n]);const _e=async $e=>{$e.preventDefault(),fe(null);try{if(!i&&ee==="free"&&!await ne()){fe("You have reached your SAO limit for the Free plan. Upgrade to add more.");return}i?await se(i.id,c,h,g,v):await Y(c,h,g,v),u(""),m(""),y([]),F(""),e(),q(),r&&r()}catch(Ne){console.error("Error saving SAO:",Ne)}},Le=async()=>{if(!O||!i)return;const{data:{user:$e}}=await Re.auth.getUser();if(!$e)return;const{count:Ne}=await Re.from("skill_validations").select("*",{count:"exact",head:!0}).eq("eit_id",$e.id).eq("validator_id",O);if((Ne||0)>=20){K("This supervisor has already validated 20 skills for you. Please select a different supervisor."),ce(!0);return}await be(i.id,O)},Ve=Ie?(i==null?void 0:i.feedback)||[]:i!=null&&i.feedback&&i.feedback.length>0?[i.feedback[i.feedback.length-1]]:[];return n?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:b.jsxs("div",{className:"bg-white rounded-lg p-8 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("h2",{className:"text-2xl font-semibold",children:i?"Edit SAO":"Create New SAO"}),ye&&ye.status==="pending"&&b.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-yellow-100 text-yellow-800",children:"Pending"}),ye&&ye.status==="submitted"&&b.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-800",children:"Marked"})]}),b.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600",children:b.jsx(zs,{size:24})})]}),Q&&b.jsx("div",{className:"mb-6 p-4 bg-red-50 text-red-700 rounded-md text-sm font-semibold text-center",children:Q}),J&&b.jsx("div",{className:"mb-6 p-4 bg-red-50 text-red-700 rounded-md text-sm",children:J}),i&&b.jsxs("div",{className:"mb-6",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx("span",{className:"font-semibold text-slate-700",children:"Comments & Feedback"}),i&&b.jsx("button",{type:"button",className:"p-1 rounded hover:bg-slate-200",title:"Show Version History",onClick:async()=>{Fe(!0),$(!0),Me(null);try{const $e=await Te(i.id);ke($e)}catch($e){Me($e.message||"Failed to load version history")}finally{$(!1)}},children:b.jsx(K0,{size:18,className:"text-slate-400"})})]}),b.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"The preview below shows your formatting. Comments and highlights are made on the plain text version."}),b.jsx("div",{className:"bg-slate-50 rounded-lg p-4 mb-4 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:V1.sanitize(i.content)}}),b.jsx(CJ,{saoId:i.id,content:XCe(i.content)}),Ie&&Ve.length>1&&b.jsxs("div",{className:"mt-4",children:[b.jsx("div",{className:"font-semibold text-xs text-slate-500 mb-1",children:"Feedback History"}),Ve.slice(0,-1).map(($e,Ne)=>b.jsxs("div",{className:"bg-slate-100 rounded p-2 mb-2 text-xs text-slate-700",children:[b.jsx("div",{className:"mb-1 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:V1.sanitize($e.feedback)}}),b.jsx("div",{className:"text-slate-400",children:new Date($e.updated_at).toLocaleDateString()})]},$e.id))]})]}),i&&i.feedback&&i.feedback.length>0&&b.jsx("div",{className:"mb-6",children:b.jsx(b8,{feedback:Ve,onResolve:async()=>Promise.resolve(),onSubmitFeedback:async()=>Promise.resolve(),isSupervisor:!1})}),b.jsxs("form",{onSubmit:_e,className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-slate-700 mb-2",children:"Title"}),b.jsx("input",{type:"text",id:"title",value:c,onChange:$e=>u($e.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 text-lg",placeholder:"Enter SAO title",required:!0,disabled:de})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"sao",className:"block text-sm font-medium text-slate-700 mb-2",children:"Situation-Action-Outcome"}),b.jsx("div",{className:"relative",children:b.jsx(v8,{content:N||h,onChange:$e=>{N||m($e)},onSave:()=>{},onCancel:()=>{}})})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Status"}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("button",{type:"button",className:`px-4 py-2 rounded-full border text-sm font-semibold transition-colors duration-200 ${v==="draft"?"bg-slate-200 text-slate-800 border-slate-400":"bg-white text-slate-500 border-slate-200"}`,onClick:()=>_("draft"),"aria-pressed":v==="draft",children:"Draft"}),b.jsx("button",{type:"button",className:`px-4 py-2 rounded-full border text-sm font-semibold transition-colors duration-200 ${v==="complete"?"bg-green-200 text-green-800 border-green-400":"bg-white text-slate-500 border-slate-200"}`,onClick:()=>_("complete"),"aria-pressed":v==="complete",children:"Completed"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Relevant Skills"}),b.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:g.map($e=>b.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-teal-100 text-teal-800",children:[$e.name,b.jsx("button",{type:"button",onClick:()=>y(Ne=>Ne.filter(Ee=>Ee.id!==$e.id)),className:"ml-2 text-teal-600 hover:text-teal-800",disabled:de,children:b.jsx(zs,{size:16})})]},$e.id))}),b.jsxs("button",{type:"button",onClick:()=>S(!0),className:"btn btn-secondary w-full flex items-center justify-center gap-2 py-3 text-lg",disabled:de,children:[b.jsx(rw,{size:20}),"Select Skills"]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Supervisor Selection"}),b.jsxs("div",{className:"flex gap-3",children:[b.jsxs("select",{value:O,onChange:$e=>F($e.target.value),className:"flex-1 px-4 py-3 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 text-lg",disabled:de||L.length===0,children:[b.jsx("option",{value:"",children:"Select a supervisor"}),L.map($e=>b.jsx("option",{value:$e.id,children:$e.name},$e.id))]}),b.jsx("button",{type:"button",onClick:Le,disabled:!O||de||!i,className:"px-4 py-3 bg-teal-600 text-white rounded-md hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:"Send for Validation"})]}),L.length===0&&b.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"No active supervisors found. Connect with a supervisor first."})]}),b.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[b.jsx("button",{type:"button",onClick:e,className:"btn btn-secondary px-6 py-3 text-lg",disabled:de,children:"Cancel"}),b.jsx("button",{type:"submit",className:"btn btn-primary px-6 py-3 text-lg",disabled:de,children:de?"Saving...":i?"Update SAO":"Create SAO"})]})]}),A&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:b.jsxs("div",{className:"bg-white rounded-lg p-8 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsx("h3",{className:"text-2xl font-semibold",children:"Select Skills"}),b.jsx("button",{onClick:()=>S(!1),className:"text-slate-400 hover:text-slate-600",children:b.jsx(zs,{size:24})})]}),b.jsx("div",{className:"space-y-6",children:B.map($e=>b.jsxs("div",{className:"border rounded-lg p-6",children:[b.jsx("h4",{className:"font-medium text-slate-900 text-lg mb-4",children:$e.name}),b.jsx("div",{className:"space-y-3",children:$e.skills.map(Ne=>b.jsxs("label",{className:"flex items-center space-x-3 p-3 hover:bg-slate-50 rounded cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:g.some(Ee=>Ee.id===Ne.id),onChange:Ee=>{Ee.target.checked?y(ve=>[...ve,{...Ne,category_name:$e.name}]):y(ve=>ve.filter(ae=>ae.id!==Ne.id))},className:"rounded text-teal-600 focus:ring-teal-500 w-5 h-5"}),b.jsx("span",{className:"text-base",children:Ne.name})]},Ne.id))})]},$e.name))}),b.jsx("div",{className:"flex justify-end mt-8",children:b.jsx("button",{onClick:()=>S(!1),className:"btn btn-primary px-6 py-3 text-lg",children:"Done"})})]})}),b.jsx(C0,{isOpen:ie,onClose:()=>ce(!1),children:b.jsxs("div",{className:"p-6",children:[b.jsx("h2",{className:"text-lg font-semibold mb-4 text-red-700",children:"Validation Rule Violation"}),b.jsx("p",{className:"text-slate-700 mb-4",children:X}),b.jsx("button",{className:"btn btn-primary",onClick:()=>ce(!1),children:"OK"})]})}),Be&&b.jsx(C0,{isOpen:Be,onClose:()=>Fe(!1),children:b.jsxs("div",{className:"p-6 max-h-[80vh] overflow-y-auto",children:[b.jsx("h2",{className:"text-lg font-semibold mb-4",children:"SAO Version History"}),ze?b.jsx("div",{children:"Loading..."}):Ce?b.jsx("div",{className:"text-red-600",children:Ce}):Ae.length===0?b.jsx("div",{className:"text-slate-500",children:"No previous versions found."}):b.jsx("div",{className:"space-y-4",children:Ae.map(($e,Ne)=>b.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[b.jsxs("div",{className:"text-xs text-slate-500 mb-2",children:[new Date($e.created_at).toLocaleString()," ",Ne===0&&b.jsx("span",{className:"ml-2 text-green-600 font-semibold",children:"Latest"})]}),b.jsx("div",{className:"font-semibold mb-1",children:$e.title}),b.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:$e.content}})]},$e.id))}),b.jsx("div",{className:"flex justify-end mt-6",children:b.jsx("button",{className:"btn btn-secondary",onClick:()=>Fe(!1),children:"Close"})})]})})]})}):null},KCe=({sao:n,onDelete:e,onEdit:i})=>{const r=G.useRef(null),[o]=LY(),l=o.get("saoId"),c=n.feedback?Zie(n.feedback):null;return G.useEffect(()=>{var u,h;l===n.id&&((u=r.current)==null||u.scrollIntoView({behavior:"smooth",block:"center"}),(h=r.current)==null||h.classList.add("ring","ring-teal-400"),setTimeout(()=>{var m;(m=r.current)==null||m.classList.remove("ring","ring-teal-400")},1500))},[l,n.id]),b.jsxs("div",{ref:r,className:"bg-white rounded-lg shadow p-6",children:[b.jsxs("div",{className:"flex justify-between items-start mb-4",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:n.title}),c&&c.status==="pending"&&b.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-yellow-100 text-yellow-800",children:"Pending"}),c&&c.status==="submitted"&&b.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-800",children:"Marked"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[n.status==="draft"&&b.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold bg-slate-200 text-slate-700",children:"Draft"}),n.status==="complete"&&b.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold bg-green-100 text-green-800",children:"Complete"}),b.jsx("button",{onClick:()=>i(n),className:"text-slate-400 hover:text-teal-600 transition-colors",title:"Edit SAO",children:b.jsx(N2,{size:18})}),b.jsx("button",{onClick:()=>e(n.id),className:"text-slate-400 hover:text-red-600 transition-colors",title:"Delete SAO",children:b.jsx(F0,{size:18})})]})]}),b.jsx("div",{className:"text-slate-600 whitespace-pre-wrap mb-4 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:V1.sanitize(n.content)}}),b.jsx("div",{className:"flex flex-wrap gap-2",children:n.skills.map(u=>b.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium bg-teal-100 text-teal-800",children:u.name},u.id))}),b.jsxs("div",{className:"mt-4 text-sm text-slate-500",children:["Created: ",new Date(n.created_at).toLocaleDateString()]})]})},ZCe=()=>{const[n,e]=G.useState(!1),[i,r]=G.useState(),{saos:o,loading:l,error:c,loadUserSAOs:u,deleteSAO:h}=oA(),{tier:m,saoLimit:g,fetchSubscription:y}=rA(),[v]=LY(),_=v.get("saoId"),[A,S]=G.useState(0),[T,C]=G.useState(null),[N,I]=G.useState(!1),[O,F]=G.useState(null),[L,z]=G.useState(!1),[B]=G.useState(()=>ai.createRef()),[Y,se]=G.useState(null),de=()=>window.gapi?Promise.resolve():new Promise(K=>{const ne=document.createElement("script");ne.src="https://apis.google.com/js/api.js",ne.onload=K,document.body.appendChild(ne)}),J=async()=>{I(!1),await de(),alert("Google Drive picker scaffolded. Add credentials and logic when ready."),F("Imported content from Google Drive (simulated)."),z(!0)},be=()=>window.OneDrive?Promise.resolve():new Promise(K=>{const ne=document.createElement("script");ne.src="https://js.live.net/v7.2/OneDrive.js",ne.onload=K,document.body.appendChild(ne)}),q=async()=>{I(!1),await be(),alert("OneDrive picker scaffolded. Add credentials and logic when ready."),F("Imported content from OneDrive (simulated)."),z(!0)};G.useEffect(()=>{(async()=>{await y();const{data:{user:ne}}=await Re.auth.getUser();if(ne){const{data:ee}=await Re.from("subscriptions").select("sao_created_count").eq("user_id",ne.id).single();ee&&typeof ee.sao_created_count=="number"&&S(ee.sao_created_count)}})()},[n]),G.useEffect(()=>{u()},[u]),G.useEffect(()=>{if(_&&o.length>0){const K=o.find(ne=>ne.id===_);K&&(r(K),e(!0))}},[_,o]),G.useEffect(()=>{(async()=>{const{data:{user:ne}}=await Re.auth.getUser();if(!ne)return;const{data:ee}=await Re.from("supervisor_profiles").select("id").eq("id",ne.id).single();C(ee?"supervisor":"eit")})()},[]);const Te=async K=>{window.confirm("Are you sure you want to delete this SAO?")&&await h(K)},ie=K=>{r(K),e(!0)},ce=()=>{e(!1),r(void 0),u()},X=async K=>{var Q;const ne=(Q=K.target.files)==null?void 0:Q[0];if(!ne)return;let ee="",ue=!1;try{if(ne.type==="text/plain")ee=await ne.text();else if(ne.name.endsWith(".docx")){const fe=await ne.arrayBuffer();ee=(await hu.convertToHtml({arrayBuffer:fe})).value,ue=!0}else if(ne.type==="application/pdf"||ne.name.endsWith(".pdf")){_d.workerPort=new GCe;const fe=await ne.arrayBuffer(),Se=await Gne({data:fe}).promise;let Oe="";for(let Ie=1;Ie<=Se.numPages;Ie++){const Be=await(await Se.getPage(Ie)).getTextContent();Oe+=Be.items.map(Fe=>Fe.str).join(" ")+`
`}ee=Oe,vd("PDF formatting is not preserved. Only plain text is extracted.",{icon:"⚠️"})}else ee="Unsupported file type."}catch(fe){ee="Failed to extract content: "+(fe instanceof Error?fe.message:String(fe))}se(ee),e(!0),I(!1),B.current&&(B.current.value="")};return b.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[m==="free"&&b.jsx("div",{className:"p-4 mb-4 bg-yellow-50 border border-yellow-200 rounded-lg text-yellow-900 text-center font-semibold",children:A<g?`You have ${g-A} SAO${g-A===1?"":"s"} left on the Free plan.`:"You have reached your SAO limit for the Free plan. Upgrade to add more."}),b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Situation-Action-Outcome (SAO)"}),b.jsx("p",{className:"text-slate-500 mt-1",children:"Write and manage your SAO essays."})]}),b.jsxs("div",{className:"flex gap-2 items-center relative",children:[b.jsxs("button",{className:"btn flex items-center gap-2 bg-slate-100 hover:bg-slate-200 text-slate-700 border border-slate-200",onClick:()=>I(K=>!K),type:"button",children:[b.jsx(YZ,{size:18}),"Import / Upload"]}),N&&b.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-slate-200 rounded-lg shadow-lg z-10",children:[b.jsx("button",{className:"w-full text-left px-4 py-2 hover:bg-slate-100",onClick:()=>{var K;I(!1),(K=B.current)==null||K.click()},children:"Upload from Device"}),b.jsx("button",{className:"w-full text-left px-4 py-2 hover:bg-slate-100",onClick:J,children:"Import from Google Drive"}),b.jsx("button",{className:"w-full text-left px-4 py-2 hover:bg-slate-100",onClick:q,children:"Import from OneDrive"})]}),b.jsx("input",{type:"file",className:"hidden",ref:B,onChange:X,accept:".txt,.docx,.pdf"}),T==="eit"&&b.jsx("button",{className:`btn btn-primary ${l?"opacity-75 cursor-not-allowed":""}`,onClick:()=>u(!0),disabled:l,children:l?"Refreshing...":"Refresh"}),b.jsxs("button",{onClick:()=>{A<g&&e(!0)},className:`btn flex items-center gap-2 ${A>=g?"bg-gray-300 text-gray-500 border-gray-300 cursor-not-allowed":"btn-primary"}`,disabled:A>=g,"aria-disabled":A>=g,title:A>=g?"You have reached your SAO limit for the Free plan.":"Start a new SAO",children:[b.jsx(rw,{size:18}),"Start New SAO"]})]})]}),c&&b.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:b.jsxs("div",{className:"flex items-start gap-2",children:[b.jsx("span",{className:"text-red-600",children:"Error:"}),b.jsx("p",{className:"text-sm text-red-800",children:c})]})}),l?b.jsx("div",{className:"flex items-center justify-center py-12",children:b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-teal-600"})}):o.length>0?b.jsx("div",{className:"space-y-4",children:o.map(K=>b.jsx(KCe,{sao:K,onDelete:Te,onEdit:ie},K.id))}):b.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:b.jsxs("div",{className:"text-center py-12",children:[b.jsx(h8,{className:"mx-auto h-12 w-12 text-slate-400"}),b.jsx("h3",{className:"mt-4 text-lg font-medium text-slate-900",children:"No SAOs yet"}),b.jsx("p",{className:"mt-2 text-slate-500",children:"Get started by writing your first SAO essay."}),b.jsx("button",{onClick:()=>e(!0),className:"mt-4 btn btn-primary",children:"Start Writing"})]})}),b.jsx(YCe,{isOpen:n,onClose:ce,editSAO:i,onCreated:()=>{u(),e(!1)},initialContent:Y,onInitialContentUsed:()=>se(null)}),b.jsx(C0,{isOpen:L,onClose:()=>z(!1),children:b.jsxs("div",{className:"p-6",children:[b.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Imported Content Preview"}),b.jsx("div",{className:"bg-slate-50 p-4 rounded mb-4 whitespace-pre-wrap text-slate-800 min-h-[120px]",children:O}),b.jsx("button",{className:"btn btn-primary",onClick:()=>z(!1),children:"Close"})]})})]})},JCe=()=>{const[n,e]=G.useState(""),[i,r]=G.useState(""),[o,l]=G.useState(""),[c,u]=G.useState(!1),[h,m]=G.useState(null),[g,y]=G.useState(!1),[v,_]=G.useState(null),[A,S]=G.useState("general"),[T,C]=G.useState("help"),N=async F=>{F.preventDefault(),u(!0),m(null),y(!1);try{const L=await fetch("https://bbixvnkqroskholbxkgj.supabase.co/functions/v1/send-support-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU"},body:JSON.stringify({email:n,subject:i,message:o,issueType:A,mode:T})}),z=await L.json();if(!L.ok)throw new Error(z.error||"Failed to send message");y(!0),e(""),r(""),l(""),S("general")}catch(L){m(L instanceof Error?L.message:"Failed to send message. Please try again later."),console.error("Error sending support message:",L)}finally{u(!1)}},I=[{id:"sao",question:"What is an SAO?",answer:"A Situation-Action-Outcome (SAO) is a structured way to document your experiences and demonstrate your competencies. It helps you reflect on specific situations, the actions you took, and the outcomes achieved. This format is crucial for showcasing your professional growth and meeting EIT program requirements."},{id:"progress",question:"How do I track my progress?",answer:"Your progress is automatically tracked as you complete skills and document experiences. Visit the Dashboard to see your overall progress and skill-specific achievements. The progress bar shows your completion rate for skills, documented experiences, and supervisor approvals."},{id:"supervisor",question:"How do I connect with my supervisor?",answer:`You can connect with your supervisor through the "My Supervisor" section on your dashboard. If you haven't connected yet, you'll see an option to send a connection request. Once connected, your supervisor can review and validate your skills and experiences.`},{id:"skills",question:"How do I mark skills as complete?",answer:"To mark a skill as complete, navigate to the Skills section, select the skill you want to mark, and provide your self-assessment score. You'll need to document relevant experiences (SAOs) that demonstrate your competency in that skill. Your supervisor will then review and validate your assessment."},{id:"experiences",question:"How many experiences do I need to document?",answer:"You need to document at least 24 experiences (SAOs) across different skills. Each experience should demonstrate your competency in specific skills. Make sure to provide detailed descriptions of situations, your actions, and the outcomes achieved."}],O=[{title:"EIT Program Guide",description:"Comprehensive guide to the EIT program requirements and process",icon:b.jsx(ox,{size:20}),link:"/resources/eit-guide"},{title:"SAO Writing Tips",description:"Best practices for writing effective Situation-Action-Outcome statements",icon:b.jsx(Rd,{size:20}),link:"/resources/sao-tips"},{title:"Skills Framework",description:"Detailed breakdown of all required skills and competencies",icon:b.jsx(B1,{size:20}),link:"/resources/skills-framework"}];return b.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-8",children:[b.jsxs("div",{className:"text-center mb-8",children:[b.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Help & Support"}),b.jsx("p",{className:"text-slate-500 mt-2 text-lg",children:"Get help with your EIT program journey"}),b.jsx("div",{className:"mt-6 flex justify-center",children:b.jsxs("div",{className:"inline-flex rounded-lg border border-slate-200 p-1 bg-white",children:[b.jsxs("button",{onClick:()=>C("help"),className:`px-4 py-2 rounded-md text-sm font-medium flex items-center gap-2 ${T==="help"?"bg-teal-50 text-teal-700":"text-slate-600 hover:text-slate-900"}`,children:[b.jsx(B1,{size:16}),"Help"]}),b.jsxs("button",{onClick:()=>C("feedback"),className:`px-4 py-2 rounded-md text-sm font-medium flex items-center gap-2 ${T==="feedback"?"bg-teal-50 text-teal-700":"text-slate-600 hover:text-slate-900"}`,children:[b.jsx(O0,{size:16}),"Feedback"]})]})})]}),T==="help"?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"bg-teal-50 rounded-lg p-6 mb-8",children:[b.jsx("h2",{className:"text-xl font-semibold text-teal-800 mb-4",children:"Quick Help"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[b.jsxs("a",{href:"/dashboard",className:"bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[b.jsx("h3",{className:"font-medium text-teal-700",children:"View Progress"}),b.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Check your current progress and achievements"})]}),b.jsxs("a",{href:"/skills",className:"bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[b.jsx("h3",{className:"font-medium text-teal-700",children:"Manage Skills"}),b.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Update and track your skill assessments"})]}),b.jsxs("a",{href:"/experiences",className:"bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[b.jsx("h3",{className:"font-medium text-teal-700",children:"Document Experiences"}),b.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Add new experiences and SAOs"})]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[b.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Contact Support"}),b.jsxs("form",{onSubmit:N,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-1",children:"Your Email"}),b.jsx("input",{type:"email",id:"email",value:n,onChange:F=>e(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter your email",required:!0,disabled:c})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"issueType",className:"block text-sm font-medium text-slate-700 mb-1",children:"Issue Type"}),b.jsxs("select",{id:"issueType",value:A,onChange:F=>S(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",required:!0,disabled:c,children:[b.jsx("option",{value:"general",children:"General Inquiry"}),b.jsx("option",{value:"technical",children:"Technical Issue"}),b.jsx("option",{value:"skills",children:"Skills & Assessment"}),b.jsx("option",{value:"supervisor",children:"Supervisor Related"}),b.jsx("option",{value:"other",children:"Other"})]})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-slate-700 mb-1",children:"Subject"}),b.jsx("input",{type:"text",id:"subject",value:i,onChange:F=>r(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"What's your question about?",required:!0,disabled:c})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-slate-700 mb-1",children:"Message"}),b.jsx("textarea",{id:"message",value:o,onChange:F=>l(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 min-h-[150px]",placeholder:"Describe your issue or question...",required:!0,disabled:c})]}),h&&b.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-md text-sm flex items-center gap-2",children:[b.jsx(M0,{size:16}),h]}),g&&b.jsx("div",{className:"p-3 bg-green-50 text-green-700 rounded-md text-sm",children:"Your message has been sent successfully. We'll get back to you soon!"}),b.jsx("button",{type:"submit",className:"btn btn-primary w-full flex items-center justify-center gap-2",disabled:c,children:c?b.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):b.jsxs(b.Fragment,{children:[b.jsx(a5,{size:18}),"Send Message"]})})]})]}),b.jsxs("div",{className:"space-y-8",children:[b.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Frequently Asked Questions"}),b.jsx("div",{className:"space-y-4",children:I.map(F=>b.jsxs("div",{className:"border-b border-slate-200 last:border-0 pb-4 last:pb-0",children:[b.jsxs("button",{className:"w-full flex items-center justify-between text-left",onClick:()=>_(v===F.id?null:F.id),children:[b.jsx("h3",{className:"font-medium text-slate-900",children:F.question}),v===F.id?b.jsx(c8,{size:20}):b.jsx(nA,{size:20})]}),v===F.id&&b.jsx("p",{className:"text-sm text-slate-600 mt-2",children:F.answer})]},F.id))})]}),b.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Helpful Resources"}),b.jsx("div",{className:"space-y-4",children:O.map((F,L)=>b.jsxs("a",{href:F.link,className:"flex items-start gap-3 p-3 rounded-lg hover:bg-slate-50 transition-colors",children:[b.jsx("div",{className:"text-teal-600 mt-1",children:F.icon}),b.jsxs("div",{children:[b.jsx("h3",{className:"font-medium text-slate-900",children:F.title}),b.jsx("p",{className:"text-sm text-slate-600 mt-1",children:F.description})]}),b.jsx(u8,{size:16,className:"text-slate-400 ml-auto mt-1"})]},L))})]})]})]})]}):b.jsx("div",{className:"max-w-2xl mx-auto",children:b.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Share Your Feedback"}),b.jsx("p",{className:"text-slate-600 mb-6",children:"We value your feedback! Let us know what you think about the EIT program platform, what's working well, and what we can improve."}),b.jsxs("form",{onSubmit:N,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-1",children:"Your Email"}),b.jsx("input",{type:"email",id:"email",value:n,onChange:F=>e(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter your email",required:!0,disabled:c})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-slate-700 mb-1",children:"Subject"}),b.jsx("input",{type:"text",id:"subject",value:i,onChange:F=>r(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Brief summary of your feedback",required:!0,disabled:c})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-slate-700 mb-1",children:"Your Feedback"}),b.jsx("textarea",{id:"message",value:o,onChange:F=>l(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 min-h-[200px]",placeholder:"Share your thoughts, suggestions, or concerns...",required:!0,disabled:c})]}),h&&b.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-md text-sm flex items-center gap-2",children:[b.jsx(M0,{size:16}),h]}),g&&b.jsx("div",{className:"p-3 bg-green-50 text-green-700 rounded-md text-sm",children:"Thank you for your feedback! We appreciate your input."}),b.jsx("button",{type:"submit",className:"btn btn-primary w-full flex items-center justify-center gap-2",disabled:c,children:c?b.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):b.jsxs(b.Fragment,{children:[b.jsx(a5,{size:18}),"Submit Feedback"]})})]})]})})]})},QCe=()=>b.jsxs("div",{className:"min-h-screen bg-white",children:[b.jsx("div",{className:"relative bg-gradient-to-b from-teal-50 to-white",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-16 text-center",children:[b.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-slate-900 mb-6",children:"Streamline Your EIT Journey"}),b.jsx("p",{className:"text-xl text-slate-600 mb-8 max-w-3xl mx-auto",children:"Accreda helps engineers track, document, and manage their professional development journey towards becoming an Engineer in Training (EIT)."}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[b.jsx(oc,{to:"/signup",className:"btn btn-primary text-lg px-8 py-3",children:"Get Started"}),b.jsx(oc,{to:"/login",className:"btn btn-secondary text-lg px-8 py-3",children:"Sign In"})]})]})}),b.jsx("div",{className:"py-20 bg-white",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[b.jsx("h2",{className:"text-3xl font-bold text-center text-slate-900 mb-12",children:"Everything You Need to Succeed"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[b.jsx("div",{className:"card hover:scale-105 transition-transform",children:b.jsxs("div",{className:"p-6",children:[b.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center mb-4",children:b.jsx(T3,{className:"w-6 h-6 text-teal-600"})}),b.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Skill Tracking"}),b.jsx("p",{className:"text-slate-600",children:"Track your progress across all required engineering competencies with our intuitive skill assessment system."})]})}),b.jsx("div",{className:"card hover:scale-105 transition-transform",children:b.jsxs("div",{className:"p-6",children:[b.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center mb-4",children:b.jsx(Rd,{className:"w-6 h-6 text-teal-600"})}),b.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Experience Documentation"}),b.jsx("p",{className:"text-slate-600",children:"Document your engineering experiences with our structured templates and guidance."})]})}),b.jsx("div",{className:"card hover:scale-105 transition-transform",children:b.jsxs("div",{className:"p-6",children:[b.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center mb-4",children:b.jsx(ox,{className:"w-6 h-6 text-teal-600"})}),b.jsx("h3",{className:"text-xl font-semibold mb-2",children:"SAO Management"}),b.jsx("p",{className:"text-slate-600",children:"Create and manage your Self-Assessment Outcomes with our AI-powered writing assistant."})]})})]})]})}),b.jsx("div",{className:"py-20 bg-slate-50",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[b.jsx("h2",{className:"text-3xl font-bold text-center text-slate-900 mb-12",children:"Why Choose Accreda?"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[b.jsxs("div",{className:"flex items-start space-x-4",children:[b.jsx("div",{className:"flex-shrink-0",children:b.jsx(Bm,{className:"w-6 h-6 text-teal-600"})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Structured Progress Tracking"}),b.jsx("p",{className:"text-slate-600",children:"Stay organized with our comprehensive tracking system for skills, experiences, and documentation."})]})]}),b.jsxs("div",{className:"flex items-start space-x-4",children:[b.jsx("div",{className:"flex-shrink-0",children:b.jsx(iA,{className:"w-6 h-6 text-teal-600"})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Supervisor Collaboration"}),b.jsx("p",{className:"text-slate-600",children:"Streamline the approval process with our integrated supervisor review system."})]})]}),b.jsxs("div",{className:"flex items-start space-x-4",children:[b.jsx("div",{className:"flex-shrink-0",children:b.jsx(K0,{className:"w-6 h-6 text-teal-600"})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Time-Saving Tools"}),b.jsx("p",{className:"text-slate-600",children:"Our AI-powered writing assistant helps you draft professional documentation quickly."})]})]}),b.jsxs("div",{className:"flex items-start space-x-4",children:[b.jsx("div",{className:"flex-shrink-0",children:b.jsx(Wye,{className:"w-6 h-6 text-teal-600"})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Progress Analytics"}),b.jsx("p",{className:"text-slate-600",children:"Get clear insights into your progress with detailed analytics and visualizations."})]})]})]})]})}),b.jsx("div",{className:"py-20 bg-white",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[b.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-6",children:"Ready to Start Your EIT Journey?"}),b.jsx("p",{className:"text-xl text-slate-600 mb-8 max-w-2xl mx-auto",children:"Join thousands of engineers who are using Accreda to streamline their path to becoming an Engineer in Training."}),b.jsxs(oc,{to:"/signup",className:"btn btn-primary text-lg px-8 py-3 inline-flex items-center",children:["Get Started Now",b.jsx(zye,{className:"ml-2 w-5 h-5"})]})]})}),b.jsx("footer",{className:"bg-slate-900 text-white py-12",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Accreda"}),b.jsx("p",{className:"text-slate-400",children:"Helping engineers achieve their professional goals through structured development and documentation."})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),b.jsxs("ul",{className:"space-y-2",children:[b.jsx("li",{children:b.jsx(oc,{to:"/login",className:"text-slate-400 hover:text-white",children:"Sign In"})}),b.jsx("li",{children:b.jsx(oc,{to:"/signup",className:"text-slate-400 hover:text-white",children:"Sign Up"})}),b.jsx("li",{children:b.jsx(oc,{to:"/help",className:"text-slate-400 hover:text-white",children:"Help & Support"})})]})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contact"}),b.jsxs("ul",{className:"space-y-2 text-slate-400",children:[b.jsx("li",{children:"Email: support@accreda.com"}),b.jsx("li",{children:"Phone: (555) 123-4567"})]})]})]}),b.jsx("div",{className:"border-t border-slate-800 mt-8 pt-8 text-center text-slate-400",children:b.jsxs("p",{children:["© ",new Date().getFullYear()," Accreda. All rights reserved."]})})]})})]}),eDe=({value:n,onChange:e,disabled:i=!1})=>{const[r,o]=G.useState([]),[l,c]=G.useState(!1),[u,h]=G.useState(!1),[m,g]=G.useState([]),y=G.useRef(null);G.useEffect(()=>{(async()=>{try{const{data:{user:S}}=await Re.auth.getUser();if(!S)return;const{data:T,error:C}=await Re.from("supervisor_eit_relationships").select("supervisor_id").eq("eit_id",S.id).eq("status","active");if(C)throw C;const N=Array.from(new Set((T||[]).map(I=>I.supervisor_id)));console.log("Supervisor connections:",N),g(N)}catch(S){console.error("Error loading supervisor connections:",S)}})()},[]),G.useEffect(()=>{const A=S=>{y.current&&!y.current.contains(S.target)&&c(!1)};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]);const v=async A=>{const S=A.target.value;if(e(S,""),!S.trim()){o([]),c(!1);return}h(!0);try{const{data:{user:T}}=await Re.auth.getUser();if(!T)return;if(m===void 0){o([]),c(!0),h(!1);return}if(!m.length){o([]),c(!0),h(!1);return}const{data:C,error:N}=await Re.from("supervisor_profiles").select("id, full_name, email").or(`full_name.ilike.%${S}%,email.ilike.%${S}%`).in("id",m).limit(5);if(N)throw N;o(C||[]),c(!0)}catch(T){console.error("Error fetching supervisors:",T),o([])}finally{h(!1)}},_=A=>{e(A.full_name,A.email),c(!1)};return b.jsxs("div",{className:"relative",ref:y,children:[b.jsx("input",{type:"text",value:n,onChange:v,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter validator's full name",required:!0,disabled:i}),l&&(n.trim()||u)&&b.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white rounded-lg shadow-lg border border-slate-200 max-h-60 overflow-y-auto",children:u?b.jsx("div",{className:"p-2 text-sm text-slate-500",children:"Searching..."}):r.length>0?r.map(A=>b.jsxs("button",{className:"w-full px-4 py-2 text-left hover:bg-slate-50 focus:outline-none focus:bg-slate-50",onClick:()=>_(A),children:[b.jsx("div",{className:"font-medium text-slate-900",children:A.full_name}),b.jsx("div",{className:"text-sm text-slate-500",children:A.email})]},A.id)):b.jsx("div",{className:"p-2 text-sm text-slate-500",children:"No matching connected supervisors found"})})]})},tDe=({value:n,onChange:e,disabled:i=!1})=>{const[r,o]=G.useState([]),[l,c]=G.useState(!1),[u,h]=G.useState(!1),m=G.useRef(null);G.useEffect(()=>{const v=_=>{m.current&&!m.current.contains(_.target)&&c(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const g=async v=>{const _=v.target.value;if(e(_,""),!_.trim()){o([]),c(!1);return}h(!0);try{const{data:{user:A}}=await Re.auth.getUser();if(!A)return;const{data:S,error:T}=await Re.from("job_references").select("id, full_name, email").or(`full_name.ilike.%${_}%,email.ilike.%${_}%`).eq("eit_id",A.id).limit(5);if(T)throw T;const C=Array.from(new Map((S||[]).map(N=>[N.email,N])).values());o(C),c(!0)}catch(A){console.error("Error fetching references:",A),o([])}finally{h(!1)}},y=v=>{e(v.full_name,v.email),c(!1)};return b.jsxs("div",{className:"relative",ref:m,children:[b.jsx("input",{type:"text",value:n,onChange:g,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter reference's full name",required:!0,disabled:i}),l&&(n.trim()||u)&&b.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white rounded-lg shadow-lg border border-slate-200 max-h-60 overflow-y-auto",children:u?b.jsx("div",{className:"p-2 text-sm text-slate-500",children:"Searching..."}):r.length>0?r.map(v=>b.jsxs("button",{className:"w-full px-4 py-2 text-left hover:bg-slate-50 focus:outline-none focus:bg-slate-50",onClick:()=>y(v),children:[b.jsx("div",{className:"font-medium text-slate-900",children:v.full_name}),b.jsx("div",{className:"text-sm text-slate-500",children:v.email})]},v.id)):b.jsx("div",{className:"p-2 text-sm text-slate-500",children:"No matching references found"})})]})},nDe=({isOpen:n,onClose:e,skillName:i,skillId:r,existingValidator:o,onSave:l,status:c,loadValidators:u})=>{const[h,m]=G.useState({fullName:(o==null?void 0:o.full_name)||"",email:(o==null?void 0:o.email)||"",description:(o==null?void 0:o.description)||""}),[g,y]=G.useState(!1),[v,_]=G.useState(null);G.useEffect(()=>{n&&m(o?{fullName:o.full_name,email:o.email,description:o.description}:{fullName:"",email:"",description:""})},[n,o,r]);const A=async S=>{S.preventDefault(),y(!0),_(null);try{const{data:{user:T}}=await Re.auth.getUser();if(!T)throw new Error("No authenticated user");const{data:C,error:N}=await Re.from("eit_profiles").select("full_name").eq("id",T.id).single();if(N)throw N;const{data:I,error:O}=await Re.from("supervisor_profiles").select("id").eq("email",h.email).single();if(O)throw O;if(o){const{error:F}=await Re.from("validators").update({full_name:h.fullName,email:h.email,description:h.description}).eq("id",o.id);if(F)throw F}else{const{error:F}=await Re.from("validators").insert([{eit_id:T.id,skill_id:r,full_name:h.fullName,email:h.email,description:h.description,status:"pending"}]);if(F)throw F;await QM(I.id,C.full_name,i)}l(),e(),setTimeout(()=>u(),300)}catch(T){console.error("Validator insert error:",T),_(T instanceof Error?T.message:JSON.stringify(T)),fi.error(T instanceof Error?T.message:"Error submitting validator")}finally{y(!1)}};return n?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:b.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsxs("h3",{className:"text-lg font-semibold",children:[o?"Edit":"Add"," Validator for ",i]}),b.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600",children:b.jsx(zs,{size:24})})]}),v&&b.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:b.jsx("p",{className:"text-sm text-red-600",children:v})}),b.jsxs("form",{onSubmit:A,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),b.jsx(eDe,{value:h.fullName,onChange:(S,T)=>m(C=>({...C,fullName:S,email:T})),disabled:c!=="draft"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),b.jsx("input",{type:"email",value:h.email,onChange:S=>m(T=>({...T,email:S.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter validator's email",required:!0,disabled:c!=="draft"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),b.jsx("textarea",{value:h.description,onChange:S=>m(T=>({...T,description:S.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter description of validation (optional)",rows:4,disabled:c!=="draft"})]}),b.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[b.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 rounded-lg",disabled:g,children:"Cancel"}),b.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 hover:bg-teal-700 rounded-lg disabled:opacity-50",disabled:g,children:g?"Saving...":o?"Update Validator":"Add Validator"})]})]})]})}):null},iDe=({isOpen:n,onClose:e,job:i,referenceNumber:r,existingReference:o,onSave:l})=>{const[c,u]=G.useState({fullName:"",email:"",referenceText:""}),[h,m]=G.useState(!1),[g,y]=G.useState(null),[v,_]=G.useState(!1);G.useEffect(()=>{n&&u(o?{fullName:o.full_name,email:o.email,referenceText:o.description}:{fullName:"",email:"",referenceText:""})},[n,o]);const A=async C=>{C.preventDefault(),m(!0),y(null);try{const{data:{user:N}}=await Re.auth.getUser();if(!N)throw new Error("No authenticated user");const I={job_id:i.id,full_name:c.fullName,email:c.email,description:c.referenceText,reference_number:r,eit_id:N.id,validation_status:(o==null?void 0:o.validation_status)||"unsent"};if(o){const{error:O}=await Re.from("job_references").update(I).eq("id",o.id);if(O)throw O}else{const{error:O}=await Re.from("job_references").insert([I]);if(O)throw O}l(),e()}catch(N){console.error("ReferencePopup error:",N),y(N instanceof Error?N.message:"An error occurred"),fi.error(N instanceof Error?N.message:"Error submitting reference")}finally{m(!1)}},S=async()=>{if(o){_(!0),y(null);try{const C=await fetch("https://bbixvnkqroskholbxkgj.supabase.co/functions/v1/send-reference",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU"},body:JSON.stringify({reference_id:o.id,email:o.email})});if(!C.ok){const N=await C.json();throw new Error(N.error||"Failed to send reference")}l(),e(),fi.success("Reference request sent successfully")}catch(C){console.error("Error sending reference:",C),y(C instanceof Error?C.message:"An error occurred while sending the reference"),fi.error(C instanceof Error?C.message:"Error sending reference")}finally{_(!1)}}},T=async()=>{if(o){m(!0),y(null);try{const{error:C}=await Re.from("job_references").update({validation_status:"unsent"}).eq("id",o.id);if(C)throw C;l(),e()}catch(C){console.error("Error canceling reference:",C),y(C instanceof Error?C.message:"An error occurred while canceling the reference"),fi.error(C instanceof Error?C.message:"Error canceling reference")}finally{m(!1)}}};return n?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:b.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsxs("h3",{className:"text-lg font-semibold",children:[o?"Edit":"Add"," Reference ",r," for ",i.title," at ",i.company]}),b.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600",children:b.jsx(zs,{size:24})})]}),g&&b.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:b.jsx("p",{className:"text-sm text-red-600",children:g})}),b.jsxs("form",{onSubmit:A,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),b.jsx(tDe,{value:c.fullName,onChange:(C,N)=>u(I=>({...I,fullName:C,email:N})),disabled:(o==null?void 0:o.validation_status)==="validated"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),b.jsx("input",{type:"email",value:c.email,onChange:C=>u(N=>({...N,email:C.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter reference's email",required:!0,disabled:(o==null?void 0:o.validation_status)==="validated"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Reference Text"}),b.jsx("textarea",{value:c.referenceText,onChange:C=>u(N=>({...N,referenceText:C.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter reference text",rows:4,required:!0,disabled:(o==null?void 0:o.validation_status)==="validated"})]}),b.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[o&&o.validation_status==="pending"&&b.jsx("button",{type:"button",onClick:T,className:"px-4 py-2 text-sm font-medium text-red-600 hover:bg-red-50 rounded-lg",disabled:h||v,children:"Cancel Reference"}),o&&o.validation_status==="unsent"&&b.jsx("button",{type:"button",onClick:S,className:"px-4 py-2 text-sm font-medium text-teal-600 hover:bg-teal-50 rounded-lg",disabled:h||v,children:v?"Sending...":"Send Reference"}),b.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 rounded-lg",disabled:h||v,children:"Close"}),(o==null?void 0:o.validation_status)!=="validated"&&b.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 hover:bg-teal-700 rounded-lg disabled:opacity-50",disabled:h||v,children:h?"Saving...":o?"Update Reference":"Add Reference"})]})]})]})}):null},rDe=()=>{var Ae;const[n,e]=G.useState("references"),[i,r]=G.useState(null),[o,l]=G.useState(null),[c,u]=G.useState(null),[h,m]=G.useState(null),[g,y]=G.useState(null),[v,_]=G.useState({}),[A,S]=G.useState({}),[T,C]=G.useState([]),{skillCategories:N}=wf(),I=G.useRef(null),O=G.useRef(null),F=G.useRef(null),[L,z]=G.useState({}),[B,Y]=G.useState(null),[se,de]=G.useState(""),[J,be]=G.useState([]),[q,Te]=G.useState(null),[ie,ce]=G.useState(""),X=N.map(ke=>({...ke,skills:ke.skills.filter(ze=>ze.status==="completed"||ze.rank!==void 0)})).filter(ke=>ke.skills.length>0),K=async()=>{try{const{data:{user:ke}}=await Re.auth.getUser();if(!ke)return;const{data:ze,error:$}=await Re.from("validators").select("*").eq("eit_id",ke.id);if($)throw $;const Ce=ze.reduce((Me,ye)=>(Me[ye.skill_id]||(Me[ye.skill_id]=[]),Me[ye.skill_id].push(ye),Me),{});_(Ce)}catch(ke){console.error("Error loading validators:",ke)}},ne=async()=>{try{const{data:{user:ke}}=await Re.auth.getUser();if(!ke)return;const{data:ze,error:$}=await Re.from("jobs").select("*").eq("eit_id",ke.id).order("start_date",{ascending:!1});if($)throw $;C(ze||[])}catch(ke){console.error("Error loading jobs:",ke)}},ee=async()=>{try{const{data:{user:ke}}=await Re.auth.getUser();if(!ke)return;const{data:ze,error:$}=await Re.from("job_references").select("*").eq("eit_id",ke.id);if($)throw $;const Ce=ze.reduce((Me,ye)=>(Me[ye.job_id]||(Me[ye.job_id]=[]),Me[ye.job_id].push(ye),Me),{});S(Ce)}catch(ke){console.error("Error loading references:",ke)}},ue=async()=>{try{const{data:{user:ke}}=await Re.auth.getUser();if(!ke)return;const{data:ze,error:$}=await Re.from("eit_connections").select("*").or(`eit_id.eq.${ke.id},connected_eit_id.eq.${ke.id}`).eq("status","accepted");if($)throw $;be(ze||[])}catch(ke){console.error("Error loading connections:",ke)}};G.useEffect(()=>{K(),ne(),ee(),ue()},[]),G.useEffect(()=>{let ke,ze=!0;return(async()=>{const{data:{user:$}}=await Re.auth.getUser();$&&(ke=Re.channel("validators-realtime").on("postgres_changes",{event:"*",schema:"public",table:"validators",filter:`eit_id=eq.${$.id}`},Ce=>{ze&&K()}).subscribe())})(),()=>{ze=!1,ke&&ke.unsubscribe()}},[]),G.useEffect(()=>{const ke=ze=>{const{itemId:$,itemType:Ce}=ze.detail||{},Me=()=>{var Le,Ve;const ye=Ce==="reference"?`[data-reference-id="${$}"]`:Ce==="validator"?`[data-validator-id="${$}"]`:Ce==="job"?`[data-job-id="${$}"]`:"";if(!ye)return;const _e=document.querySelector(ye);_e&&(Ce==="reference"?(e("references"),(Le=O.current)==null||Le.scrollIntoView({behavior:"smooth",block:"start"})):Ce==="validator"&&(e("validators"),(Ve=F.current)==null||Ve.scrollIntoView({behavior:"smooth",block:"start"})),setTimeout(()=>{_e.scrollIntoView({behavior:"smooth",block:"center"}),_e.classList.add("highlight-item"),_e.classList.add("animate-bounce-subtle"),setTimeout(()=>{_e.classList.remove("highlight-item","animate-bounce-subtle")},2e3)},300))};requestAnimationFrame(()=>{Ce==="reference"&&n!=="references"||Ce==="validator"&&n!=="validators"?setTimeout(Me,100):Me()})};return window.addEventListener("scroll-to-item",ke),()=>window.removeEventListener("scroll-to-item",ke)},[n]),G.useEffect(()=>{const ke=()=>{ne(),ee()};return window.addEventListener("jobs-updated",ke),()=>window.removeEventListener("jobs-updated",ke)},[]);const Q=()=>{K()},fe=()=>{ee()},Se=async(ke,ze)=>{try{const{data:{user:$}}=await Re.auth.getUser();if(!$)throw new Error("No authenticated user");const{error:Ce}=await Re.from("job_references").update({validation_status:ze,validator_id:$.id,validated_at:new Date().toISOString(),validation_notes:ie}).eq("id",ke.id);if(Ce)throw Ce;Te(null),ce(""),ee(),fi.success(`Reference ${ze==="validated"?"validated":"rejected"} successfully`)}catch($){console.error("Error validating reference:",$),fi.error("Failed to validate reference")}},Oe=async ke=>{try{const{error:ze}=await Re.from("job_references").delete().eq("id",ke.id);if(ze)throw ze;ee(),fi.success("Reference unsent successfully")}catch(ze){console.error("Error unsending reference:",ze),fi.error("Failed to unsend reference")}},je=[...T].sort((ke,ze)=>new Date(ze.start_date).getTime()-new Date(ke.start_date).getTime()).filter(ke=>ke.title.toLowerCase().includes(se.toLowerCase())||ke.company.toLowerCase().includes(se.toLowerCase())||ke.skills&&ke.skills.some(ze=>{const $=N.flatMap(Ce=>Ce.skills).find(Ce=>Ce.id===ze);return $&&$.name.toLowerCase().includes(se.toLowerCase())})),Be=ke=>{switch(ke){case"validated":return"bg-green-100 text-green-700";case"rejected":return"bg-red-100 text-red-700";default:return"bg-yellow-100 text-yellow-700"}},Fe=ke=>{switch(ke){case"validated":return b.jsx(qM,{size:16,className:"text-green-600"});case"rejected":return b.jsx(ZZ,{size:16,className:"text-red-600"});default:return b.jsx(M0,{size:16,className:"text-yellow-600"})}};return b.jsxs("div",{className:"space-y-6",children:[b.jsx("div",{className:"flex items-center justify-between",ref:I,children:b.jsxs("h1",{className:"text-2xl font-semibold text-slate-900 flex items-center",children:[b.jsx(VZ,{size:24,className:"mr-2 text-teal-600"}),"Jobs"]})}),b.jsxs("div",{className:"mb-8",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[b.jsx(D2,{size:24,className:"text-teal-600"}),"Work Experience"]}),b.jsxs("button",{className:"btn btn-primary flex items-center gap-2 shadow-lg fixed bottom-8 right-8 z-40",onClick:()=>{},title:"Add Job",children:[b.jsx(rw,{size:18})," Add Job"]})]}),b.jsx("div",{className:"mb-6",children:b.jsxs("div",{className:"relative max-w-md",children:[b.jsx(m8,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),b.jsx("input",{type:"text",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Search jobs by title, company, or skill...",value:se,onChange:ke=>de(ke.target.value)})]})}),b.jsx("div",{className:"relative border-l-2 border-slate-200 pl-6",children:je.length>0?je.map((ke,ze)=>{const $=!ke.end_date,Ce=$?"bg-green-100 text-green-700":"bg-slate-100 text-slate-600",Me=ke.company.split(" ").map(ye=>ye[0]).join("").toUpperCase();return b.jsxs("div",{className:"mb-10 relative",children:[b.jsx("span",{className:"absolute -left-7 top-4 w-5 h-5 rounded-full bg-white border-2 border-teal-500 flex items-center justify-center text-teal-600 font-bold text-sm shadow",children:Me}),b.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-slate-100 p-6 flex flex-col gap-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsxs("h3",{className:"text-xl font-semibold text-slate-900 flex items-center gap-2",children:[ke.title,b.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs font-semibold ${Ce}`,children:$?"Current":"Past"})]}),b.jsx("p",{className:"text-slate-600 font-medium",children:ke.company}),b.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500 mt-1",children:[b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx(sE,{size:14}),new Date(ke.start_date).toLocaleDateString()," - ",ke.end_date?new Date(ke.end_date).toLocaleDateString():"Present"]}),b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx(m$,{size:14}),ke.location]})]})]}),b.jsx("button",{className:"ml-4 p-2 rounded-full hover:bg-slate-100 text-slate-500",onClick:()=>Y(B===ke.id?null:ke.id),title:B===ke.id?"Collapse":"Expand",children:B===ke.id?b.jsx(c8,{size:20}):b.jsx(nA,{size:20})})]}),B===ke.id&&b.jsxs("div",{className:"mt-4 space-y-3",children:[ke.description&&b.jsx("p",{className:"text-slate-700 text-sm mb-2",children:ke.description}),ke.skills&&ke.skills.length>0&&b.jsxs("div",{children:[b.jsx("h4",{className:"text-sm font-medium text-slate-700 mb-1",children:"Skills:"}),b.jsx("div",{className:"flex flex-wrap gap-2",children:ke.skills.map(ye=>{const _e=N.flatMap(Le=>Le.skills).find(Le=>Le.id===ye);return _e?b.jsx("span",{className:"px-2 py-1 bg-slate-100 text-slate-700 rounded-full text-xs",children:_e.name},ye):null})})]}),b.jsxs("div",{className:"mt-2",children:[b.jsx("h4",{className:"text-sm font-medium text-slate-700 mb-1",children:"References:"}),b.jsx("div",{className:"flex gap-2",children:[1,2].map(ye=>{var Le;const _e=(Le=A[ke.id])==null?void 0:Le.find(Ve=>Ve.reference_number===ye);return _e?b.jsxs("button",{onClick:()=>{u(ke),m(_e),y(ye),window.dispatchEvent(new CustomEvent("scroll-to-item",{detail:{itemId:_e.id,itemType:"reference"}}))},className:"px-3 py-1.5 text-sm font-medium text-slate-600 hover:text-slate-700 hover:bg-slate-50 rounded-lg transition-colors flex items-center gap-2 border border-slate-200","data-reference-id":_e.id,children:[b.jsx(N2,{size:14}),"Reference ",ye,": ",_e.full_name]},_e.id):b.jsxs("button",{onClick:()=>{u(ke),m(null),y(ye)},className:"px-3 py-1.5 text-sm font-medium text-teal-600 hover:text-teal-700 hover:bg-teal-50 rounded-lg transition-colors flex items-center gap-2 border border-teal-200",children:[b.jsx(rw,{size:14}),"Add Reference ",ye]},ye)})})]})]})]})]},ke.id)}):b.jsxs("div",{className:"text-center py-8 text-slate-500",children:[b.jsx(D2,{size:24,className:"mx-auto mb-2 text-slate-400"}),b.jsx("p",{children:"No work experience added yet"}),b.jsx("p",{className:"text-sm mt-1",children:"Add jobs using the button above"})]})})]}),b.jsxs("div",{className:"card",ref:O,children:[b.jsxs("div",{className:"flex border-b border-slate-200",children:[b.jsx("button",{onClick:()=>e("references"),className:`flex-1 py-3 px-4 text-sm font-medium ${n==="references"?"text-teal-600 border-b-2 border-teal-600":"text-slate-500 hover:text-slate-700"}`,children:b.jsxs("div",{className:"flex items-center justify-center gap-2",children:[b.jsx(iA,{size:18}),"References"]})}),b.jsx("button",{onClick:async()=>{await K(),e("validators")},className:`flex-1 py-3 px-4 text-sm font-medium ${n==="validators"?"text-teal-600 border-b-2 border-teal-600":"text-slate-500 hover:text-slate-700"}`,children:b.jsxs("div",{className:"flex items-center justify-center gap-2",children:[b.jsx(Bm,{size:18}),"Validators"]})})]}),b.jsx("div",{className:"p-6",ref:F,children:n==="references"?b.jsx("div",{className:"space-y-6",children:T.length>0?T.map(ke=>b.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4","data-job-id":ke.id,children:[b.jsxs("div",{className:"flex justify-between items-start mb-2",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"font-semibold text-slate-900",children:ke.title}),b.jsx("p",{className:"text-slate-600",children:ke.company})]}),b.jsx("div",{className:"flex gap-2",children:[1,2].map(ze=>{var Ce;const $=(Ce=A[ke.id])==null?void 0:Ce.find(Me=>Me.reference_number===ze);return $?b.jsxs("button",{onClick:()=>{u(ke),m($),y(ze),window.dispatchEvent(new CustomEvent("scroll-to-item",{detail:{itemId:$.id,itemType:"reference"}}))},className:"px-3 py-1.5 text-sm font-medium text-slate-600 hover:text-slate-700 hover:bg-slate-50 rounded-lg transition-colors flex items-center gap-2 border border-slate-200","data-reference-id":$.id,children:[b.jsx(N2,{size:14}),"Reference ",ze,": ",$.full_name]},$.id):b.jsxs("button",{onClick:()=>{u(ke),m(null),y(ze)},className:"px-3 py-1.5 text-sm font-medium text-teal-600 hover:text-teal-700 hover:bg-teal-50 rounded-lg transition-colors flex items-center gap-2 border border-teal-200",children:[b.jsx(rw,{size:14}),"Add Reference ",ze]},ze)})})]}),b.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500 mb-3",children:[b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx(sE,{size:14}),b.jsxs("span",{children:[new Date(ke.start_date).toLocaleDateString()," - ",ke.end_date?new Date(ke.end_date).toLocaleDateString():"Present"]})]}),b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx(m$,{size:14}),b.jsx("span",{children:ke.location})]})]}),ke.description&&b.jsx("p",{className:"text-slate-600 text-sm mb-3",children:ke.description}),ke.skills&&ke.skills.length>0&&b.jsxs("div",{className:"mt-3",children:[b.jsx("h4",{className:"text-sm font-medium text-slate-700 mb-2",children:"Skills:"}),b.jsx("div",{className:"flex flex-wrap gap-2",children:ke.skills.map(ze=>{const $=N.flatMap(Ce=>Ce.skills).find(Ce=>Ce.id===ze);return $?b.jsx("span",{className:"px-2 py-1 bg-slate-100 text-slate-700 rounded-full text-xs",children:$.name},ze):null})})]}),b.jsxs("div",{className:"mt-4 space-y-4",children:[b.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"References"}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[1,2].map(ze=>{var Ce;const $=(Ce=A[ke.id])==null?void 0:Ce.find(Me=>Me.reference_number===ze);return b.jsx("div",{className:"border border-slate-200 rounded-lg p-4",children:$?b.jsxs("div",{children:[b.jsx("div",{className:"flex items-center justify-between mb-2",children:b.jsx("h5",{className:"font-medium text-slate-900",children:$.full_name})}),b.jsx("p",{className:"text-sm text-slate-600 mb-2",children:$.email}),$.description&&b.jsx("p",{className:"text-sm text-slate-700 mb-2",children:$.description}),$.validation_status==="pending"&&b.jsx("div",{className:"mb-2",children:b.jsx("button",{onClick:()=>Oe($),className:"px-3 py-1.5 text-sm font-medium text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors",children:"Unsend"})}),b.jsxs("div",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${Be($.validation_status)}`,children:[Fe($.validation_status),$.validation_status.charAt(0).toUpperCase()+$.validation_status.slice(1)]}),$.validation_notes&&b.jsxs("div",{className:"mt-2 p-2 bg-slate-50 rounded text-sm text-slate-600",children:[b.jsx("p",{className:"font-medium",children:"Validation Notes:"}),b.jsx("p",{children:$.validation_notes})]}),$.validated_at&&b.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["Validated on ",new Date($.validated_at).toLocaleDateString()]}),J.some(Me=>Me.connected_eit_id===ke.eit_id)&&$.validation_status==="pending"&&b.jsx("div",{className:"mt-3 flex gap-2",children:b.jsx("button",{onClick:()=>{Te($),ce("")},className:"px-3 py-1.5 text-sm font-medium text-teal-600 hover:text-teal-700 hover:bg-teal-50 rounded-lg transition-colors flex items-center gap-2 border border-teal-200",children:"Validate Reference"})})]}):b.jsxs("button",{onClick:()=>{u(ke),m(null),y(ze)},className:"w-full px-3 py-1.5 text-sm font-medium text-teal-600 hover:text-teal-700 hover:bg-teal-50 rounded-lg transition-colors flex items-center gap-2 border border-teal-200",children:[b.jsx(rw,{size:14}),"Add Reference ",ze]})},ze)})})]})]},ke.id)):b.jsxs("div",{className:"text-center py-8 text-slate-500",children:[b.jsx(D2,{size:24,className:"mx-auto mb-2 text-slate-400"}),b.jsx("p",{children:"No work experience added yet"}),b.jsx("p",{className:"text-sm mt-1",children:"Add jobs in the Work Experience section above"})]})}):b.jsx("div",{className:"space-y-6",children:X.length>0?X.map(ke=>b.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4",children:[b.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:ke.name}),b.jsx("div",{className:"space-y-4",children:ke.skills.map(ze=>{var $;return b.jsx("div",{className:"flex items-center justify-between","data-skill-id":ze.id,children:b.jsxs("div",{className:"flex-1",children:[b.jsx("h4",{className:"font-medium text-slate-800",children:ze.name}),b.jsxs("div",{className:"flex items-center gap-2",children:[($=v[ze.id])==null?void 0:$.map(Ce=>b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("button",{onClick:()=>{Ce.status==="draft"&&(r(ze.id),l(Ce),window.dispatchEvent(new CustomEvent("scroll-to-item",{detail:{itemId:Ce.id,itemType:"validator"}})))},className:`px-3 py-1.5 text-sm font-medium rounded-lg transition-colors flex items-center gap-2 ${Ce.status!=="draft"?"bg-slate-100 text-slate-400 cursor-not-allowed":"text-slate-600 hover:text-slate-700 hover:bg-slate-50"}`,"data-validator-id":Ce.id,disabled:Ce.status!=="draft",children:[b.jsx(N2,{size:14}),Ce.full_name]}),b.jsx("span",{className:`ml-2 px-2 py-0.5 rounded text-xs font-semibold ${Ce.status==="draft"?"bg-yellow-100 text-yellow-800":Ce.status==="pending"?"bg-blue-100 text-blue-800":Ce.status==="scored"?"bg-green-100 text-green-800":"bg-slate-100 text-slate-500"}`,children:Ce.status.charAt(0).toUpperCase()+Ce.status.slice(1)}),Ce.status==="scored"&&b.jsxs("span",{className:"ml-2 text-green-700 font-bold",children:["Supervisor Score: ",Ce.score]}),Ce.status==="pending"&&b.jsx("button",{className:"ml-2 px-2 py-0.5 text-xs font-medium bg-orange-500 text-white rounded hover:bg-orange-600 disabled:bg-orange-200 disabled:cursor-not-allowed",disabled:!!(L[Ce.id]&&Date.now()-L[Ce.id]<5*60*1e3),onClick:async()=>{z(Me=>({...Me,[Ce.id]:Date.now()}));try{const{data:{user:Me}}=await Re.auth.getUser();if(!Me)return;const{data:ye}=await Re.from("eit_profiles").select("full_name").eq("id",Me.id).single(),{data:_e}=await Re.from("supervisor_profiles").select("id").eq("email",Ce.email).single();await QM((_e==null?void 0:_e.id)||Ce.email,(ye==null?void 0:ye.full_name)||Me.email,ze.name),await Re.from("validators").update({status:"pending",score:null}).eq("id",Ce.id),await K(),fi.success("Nudge sent!")}catch{fi.error("Failed to send nudge.")}},children:L[Ce.id]&&Date.now()-L[Ce.id]<5*60*1e3?`Nudged (wait ${Math.ceil((5*60*1e3-(Date.now()-L[Ce.id]))/1e3)}s)`:"Nudge Supervisor"}),Ce.status==="scored"&&b.jsx("button",{className:"ml-2 px-2 py-0.5 text-xs font-medium bg-green-800 text-white rounded hover:bg-green-900 disabled:bg-green-300 disabled:cursor-not-allowed",disabled:!!(L[Ce.id]&&Date.now()-L[Ce.id]<5*60*1e3),onClick:async()=>{z(Me=>({...Me,[Ce.id]:Date.now()}));try{const{data:{user:Me}}=await Re.auth.getUser();if(!Me)return;const{data:ye}=await Re.from("eit_profiles").select("full_name").eq("id",Me.id).single(),{data:_e}=await Re.from("supervisor_profiles").select("id").eq("email",Ce.email).single();await QM((_e==null?void 0:_e.id)||Ce.email,(ye==null?void 0:ye.full_name)||Me.email,ze.name),await Re.from("validators").update({status:"pending",score:null}).eq("id",Ce.id),await K(),fi.success("Rescore request sent!")}catch{fi.error("Failed to request rescore.")}},children:L[Ce.id]&&Date.now()-L[Ce.id]<5*60*1e3?`Requested (wait ${Math.ceil((5*60*1e3-(Date.now()-L[Ce.id]))/6e4)} min)`:"Ask for Rescore"}),(Ce.status==="draft"||Ce.status==="pending")&&b.jsx("button",{className:"btn btn-danger btn-xs",onClick:async()=>{await Re.from("validators").delete().eq("id",Ce.id),setTimeout(()=>K(),300)},children:"Cancel"})]},Ce.id)),(!v[ze.id]||v[ze.id].length===0)&&b.jsx("button",{onClick:()=>{r(ze.id),l(null)},className:"px-3 py-1.5 text-sm font-medium text-teal-600 hover:text-teal-700 hover:bg-teal-50 rounded-lg transition-colors",children:"Add Validator"})]})]})},ze.id)})})]},ke.name)):b.jsxs("div",{className:"text-center py-8 text-slate-500",children:[b.jsx(Bm,{size:24,className:"mx-auto mb-2 text-slate-400"}),b.jsx("p",{children:"No completed skills yet"}),b.jsx("p",{className:"text-sm mt-1",children:"Complete skills in the Skills section to see them here"})]})})})]}),b.jsx(nDe,{isOpen:i!==null,onClose:()=>{r(null),l(null)},skillName:i&&((Ae=N.flatMap(ke=>ke.skills).find(ke=>ke.id===i))==null?void 0:Ae.name)||"",skillId:i||"",existingValidator:o||void 0,onSave:Q,status:(o==null?void 0:o.status)??"draft",loadValidators:K}),b.jsx(iDe,{isOpen:c!==null&&g!==null,onClose:()=>{u(null),m(null),y(null)},job:c,referenceNumber:g,existingReference:h||void 0,onSave:fe}),q&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-lg w-full mx-4",children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Validate Reference"}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Validation Notes"}),b.jsx("textarea",{value:ie,onChange:ke=>ce(ke.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",rows:4,placeholder:"Add any notes about the validation..."})]}),b.jsxs("div",{className:"flex justify-end gap-3",children:[b.jsx("button",{onClick:()=>{Te(null),ce("")},className:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-700 hover:bg-slate-50 rounded-lg transition-colors",children:"Cancel"}),b.jsx("button",{onClick:()=>Se(q,"rejected"),className:"px-4 py-2 text-sm font-medium text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors",children:"Reject"}),b.jsx("button",{onClick:()=>Se(q,"validated"),className:"px-4 py-2 text-sm font-medium text-green-600 hover:text-green-700 hover:bg-green-50 rounded-lg transition-colors",children:"Validate"})]})]})})]})},sDe=({onMenuClick:n})=>b.jsxs("header",{className:"fixed top-0 right-0 left-0 md:left-64 bg-white/80 backdrop-blur-md z-10 border-b border-slate-200 px-4 py-3 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center",children:[n&&b.jsx("button",{className:"md:hidden p-2 rounded-lg text-slate-500 hover:bg-slate-100 mr-2",onClick:n,"aria-label":"Open sidebar menu",children:b.jsx(qZ,{size:24})}),b.jsx("div",{className:"ml-2 md:ml-0",children:b.jsx("h1",{className:"text-xl font-semibold text-slate-800",children:"Supervisor Dashboard"})})]}),b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("div",{className:"hidden md:block",children:b.jsx(aJ,{})}),b.jsx("div",{className:"relative inline-block",children:b.jsx(uJ,{})}),b.jsx(lJ,{})]})]}),oDe=({appLoaded:n})=>{const[e,i]=G.useState(!1);return b.jsxs("div",{className:"min-h-screen bg-[#F5F7FA]",children:[b.jsx("div",{className:"hidden md:block",children:b.jsx(XM,{})}),e&&b.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[b.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:()=>i(!1)}),b.jsx("div",{className:"fixed inset-y-0 left-0 w-full max-w-xs bg-white shadow-xl",children:b.jsx(XM,{onClose:()=>i(!1)})})]}),b.jsxs("div",{className:"md:pl-64 flex flex-col min-h-screen",children:[b.jsx(sDe,{onMenuClick:()=>i(!0)}),b.jsx("main",{className:"flex-1 p-4 md:p-6 pt-20 md:pt-24 pb-20 md:pb-6",children:b.jsx(OY,{context:{appLoaded:n}})})]})]})},kA=()=>b.jsx("div",{className:"flex items-center justify-center min-h-screen",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-teal-500"})}),Pv={"Category 1 – Technical Competence":3,"Category 2 – Communication":3,"Category 3 – Project & Financial Management":2,"Category 4 – Team Effectiveness":3,"Category 5 – Professional Accountability":3,"Category 6 – Social, Economic, Environmental & Sustainability":2},aG=async n=>{try{const[e,i,r]=await Promise.all([Re.from("eit_skills").select("id",{count:"exact",head:!0}).eq("eit_id",n).not("rank","is",null),Re.from("experiences").select("id",{count:"exact",head:!0}).eq("eit_id",n),Re.from("experiences").select("id",{count:"exact",head:!0}).eq("eit_id",n).eq("supervisor_approved",!0)]);if(e.error||i.error||r.error)throw new Error("Failed to fetch EIT progress");const o=e.count||0,l=i.count||0,c=r.count||0,u=o/22,h=l/24,m=c/24;return{overallProgress:Math.round((u+h+m)/3*100),completedSkills:o,documentedExperiences:l,supervisorApprovals:c}}catch(e){return console.error("Error fetching EIT progress:",e),{overallProgress:0,completedSkills:0,documentedExperiences:0,supervisorApprovals:0}}},aDe=()=>{const[n,e]=G.useState(!0),[i,r]=G.useState(null),[o,l]=G.useState([]),[c,u]=G.useState([]),[h,m]=G.useState({}),[g,y]=G.useState(null),[v,_]=G.useState([]),[A,S]=G.useState(!1),[T,C]=G.useState({}),[N,I]=G.useState(null),[O,F]=G.useState(""),[L,z]=G.useState(!1),[B,Y]=G.useState(null),[se,de]=G.useState(null),[J,be]=G.useState(null),[q,Te]=G.useState(null),[ie,ce]=G.useState({}),X=async()=>{e(!0),r(null);try{const{data:{user:fe}}=await Re.auth.getUser();if(!fe){r("No user found");return}const[Se,Oe]=await Promise.all([Re.from("supervisor_eit_relationships").select("id, eit_id, status, created_at, eit_profiles (id, full_name, email, start_date, target_date)").eq("supervisor_id",fe.id).eq("status","pending"),Re.from("supervisor_eit_relationships").select("eit_id, eit_profiles (id, full_name, email, start_date, target_date)").eq("supervisor_id",fe.id).eq("status","active")]);if(Se.error)throw Se.error;if(Oe.error)throw Oe.error;const Ie=(Se.data||[]).map($=>({...$,eit_profiles:Array.isArray($.eit_profiles)?$.eit_profiles[0]:$.eit_profiles}));l(Ie);const je=(Oe.data||[]).map($=>{const Ce=Array.isArray($.eit_profiles)?$.eit_profiles[0]:$.eit_profiles;return{id:String((Ce==null?void 0:Ce.id)||""),full_name:String((Ce==null?void 0:Ce.full_name)||""),email:String((Ce==null?void 0:Ce.email)||""),start_date:(Ce==null?void 0:Ce.start_date)||void 0,target_date:(Ce==null?void 0:Ce.target_date)||void 0}});u(je);const Be=je.map($=>aG($.id)),Fe=await Promise.all(Be),Ae=je.map(($,Ce)=>[$.id,Fe[Ce]]);m(Object.fromEntries(Ae));const ke=await Re.from("eit_skills").select("*").in("eit_id",je.map($=>$.id));if(ke.error)throw ke.error;const ze={};if((ke.data||[]).forEach($=>{ze[$.eit_id]||(ze[$.eit_id]=[]),ze[$.eit_id].push($)}),ce(ze),g){const $=je.find(Ce=>Ce.id===g.id);$&&await ne($)}}catch(fe){console.error("Error fetching team data:",fe),r("Failed to load team data. Please try again.")}finally{e(!1)}};G.useEffect(()=>{X();const fe=()=>{X()};return window.addEventListener("focus",fe),()=>{window.removeEventListener("focus",fe)}},[]),G.useEffect(()=>{const fe=setInterval(async()=>{if(c.length>0){const Se=c.map(je=>aG(je.id)),Oe=await Promise.all(Se),Ie=c.map((je,Be)=>[je.id,Oe[Be]]);m(Object.fromEntries(Ie))}},3e4);return()=>clearInterval(fe)},[c]);const K=async(fe,Se)=>{if(fe){e(!0);try{const{error:Oe}=await Re.from("supervisor_eit_relationships").update({status:Se?"active":"denied",updated_at:new Date().toISOString()}).eq("id",fe);if(Oe)throw Oe;if(l(Ie=>Ie.filter(je=>je.id!==fe)),Se){const Ie=o.find(je=>je.id===fe);Ie&&Ie.eit_profiles&&u(je=>[...je,Ie.eit_profiles])}}catch(Oe){console.error("Error handling request:",Oe),r("Failed to process request. Please try again.")}finally{e(!1)}}},ne=async fe=>{if(!fe||!fe.id)return;y(fe),S(!0);const{data:Se,error:Oe}=await Re.from("eit_skills").select("skill_id, rank, supervisor_score, category_name, skill_name, status, eit_id").eq("eit_id",fe.id),{data:Ie,error:je}=await Re.from("validators").select("*").eq("eit_id",fe.id),Be={};(Ie||[]).forEach(Ae=>{Be[Ae.skill_id]||(Be[Ae.skill_id]=[]),Be[Ae.skill_id].push(Ae)});const Fe={};(Se||[]).forEach(Ae=>{Fe[Ae.category_name]||(Fe[Ae.category_name]=[]),Fe[Ae.category_name].push({...Ae,validators:Be[Ae.skill_id]||[]})}),C(Fe),S(!1)},ee=async()=>{if(N){z(!0),Y(null),de(null);try{const{data:{user:fe}}=await Re.auth.getUser();if(!fe)throw new Error("No supervisor user");await ax({userId:N.id,type:"nudge",title:"Nudge from Supervisor",message:O||"Keep going! Your supervisor believes in you!"}),Y("Nudge sent!"),F(""),setTimeout(()=>I(null),1200)}catch(fe){de(fe.message||"Failed to send nudge")}finally{z(!1)}}},ue=c.length>0?Math.round(c.reduce((fe,Se)=>{var Oe;return fe+(((Oe=h[Se.id])==null?void 0:Oe.overallProgress)||0)},0)/c.length):0,Q="#f59e42";return n?b.jsx(kA,{}):i?b.jsx("div",{className:"p-6 text-red-600",children:i}):b.jsxs("div",{className:"p-6",children:[b.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Team"}),b.jsx("button",{className:"btn btn-primary mb-4",onClick:X,disabled:n,children:n?"Reloading...":"Reload Team"}),b.jsxs("div",{className:"mb-8",children:[b.jsx("h2",{className:"text-lg font-semibold mb-2 text-slate-800",children:"Team Progress"}),b.jsxs("div",{className:"flex items-center justify-between mb-1",children:[b.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Average Completion"}),b.jsxs("span",{className:"text-sm font-semibold text-teal-600",children:[ue,"%"]})]}),b.jsx("div",{className:"h-3 bg-slate-100 rounded-full overflow-hidden",children:b.jsx("div",{className:"h-full bg-teal-500 rounded-full transition-all duration-300",style:{width:`${ue}%`}})}),b.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"This is the average overall progress of all your connected EITs."})]}),o.length>0&&b.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-8",children:[b.jsx("h2",{className:"text-lg font-semibold mb-2 text-yellow-800",children:"Pending Requests"}),b.jsx("button",{className:"btn btn-primary btn-sm mb-4",onClick:async()=>{e(!0);try{await Promise.all(o.map(fe=>K(fe.id,!0)))}finally{e(!1)}},disabled:n,children:"Approve All"}),b.jsx("div",{className:"space-y-3",children:o.map(fe=>b.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 border-b border-yellow-100 pb-2 last:border-0",children:[b.jsxs("div",{children:[b.jsx("span",{className:"font-medium",children:fe.eit_profiles.full_name})," (",fe.eit_profiles.email,")",b.jsxs("span",{className:"ml-2 text-xs text-slate-500",children:["Requested on ",new Date(fe.created_at).toLocaleDateString()]})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>K(fe.id,!0),children:"Accept"}),b.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>K(fe.id,!1),children:"Deny"})]})]},fe.id))})]}),b.jsx("div",{className:"bg-white rounded-lg shadow mb-8",children:b.jsxs("div",{className:"p-6",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Team Members"}),b.jsx("div",{className:"flex flex-col gap-4",children:c.map(fe=>{const Se=h[fe.id],Oe=ie[fe.id]||[],Ie=Oe.filter($=>$.rank!==null&&$.rank!==void 0),je=Ie.length>0?(Ie.reduce(($,Ce)=>$+Ce.rank,0)/Ie.length).toFixed(1):"--",Be=Object.values(Pv).reduce(($,Ce)=>$+Ce,0)/Object.values(Pv).length;Object.entries(Pv).map(([$,Ce])=>{const ye=(Oe||[]).filter(Le=>Le.category_name===$).filter(Le=>Le.rank!==null&&Le.rank!==void 0),_e=ye.length>0?(ye.reduce((Le,Ve)=>Le+Ve.rank,0)/ye.length).toFixed(1):"--";return{name:$,eitMean:_e,required:Ce}});let Fe=null,Ae="teal",ke="",ze=!1;if(fe.start_date&&fe.target_date){const $=new Date,Ce=new Date(fe.start_date),ye=new Date(fe.target_date).getTime()-Ce.getTime(),_e=$.getTime()-Ce.getTime();let Le=Math.max(0,Math.min(100,Math.round(_e/ye*100)));if(Fe=Le,Se){const Ve=Se.overallProgress-Le;Ve>5?(Ae="teal",ke="Ahead of schedule"):Ve>=-5?(Ae="blue",ke="On track"):(Ae="red",ke="Behind schedule",ze=!0)}}return b.jsx("div",{className:"border-b border-gray-200 pb-4 last:border-0",children:b.jsxs("div",{className:"flex flex-col md:flex-row md:items-stretch md:gap-6 md:justify-between",children:[b.jsxs("div",{className:"flex-1 min-w-0 md:max-w-xl",children:[b.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),b.jsx("button",{className:"font-medium text-teal-700 hover:underline",onClick:()=>ne(fe),children:fe.full_name}),b.jsxs("div",{className:"mt-2",children:[b.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),b.jsx("p",{className:"font-medium",children:fe.email})]}),Se&&b.jsxs("div",{className:"mt-4",children:[b.jsxs("div",{className:"flex items-center justify-between mb-1",children:[b.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Overall Progress"}),b.jsxs("span",{className:"text-sm font-semibold text-teal-600",children:[Se.overallProgress,"%"]})]}),b.jsx("div",{className:"h-2 bg-slate-100 rounded-full overflow-hidden max-w-xs md:max-w-md w-full",children:b.jsx("div",{className:`h-full rounded-full transition-all duration-300 ${Ae==="teal"?"bg-teal-500":Ae==="blue"?"bg-blue-500":"bg-red-500"}`,style:{width:`${Se.overallProgress}%`}})}),b.jsxs("div",{className:"flex flex-col gap-1 mt-2",children:[b.jsxs("div",{className:"flex gap-4 text-xs text-slate-500",children:[b.jsxs("span",{children:["Skills: ",Se.completedSkills,"/22"]}),b.jsxs("span",{children:["Experiences: ",Se.documentedExperiences,"/24"]}),b.jsxs("span",{children:["Approvals: ",Se.supervisorApprovals,"/24"]})]}),Fe!==null&&b.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 mt-1",children:[ke," (Expected: ",Fe,"%)",ze&&b.jsxs("button",{className:"ml-2 px-2 py-0.5 rounded bg-red-100 text-red-700 text-xs font-semibold flex items-center gap-1 hover:bg-red-200 transition",onClick:()=>{I(fe),F("")},children:[b.jsx(p8,{size:14,className:"mr-1"})," Nudge"]})]})]})]})]}),b.jsxs("button",{className:"md:self-center md:ml-auto w-full md:w-80 flex flex-col justify-center items-center bg-white rounded-lg shadow p-6 mt-4 md:mt-0 focus:outline-none focus:ring-2 focus:ring-teal-400 hover:shadow-md hover:bg-slate-50 transition cursor-pointer group",onClick:()=>Te(fe),type:"button",children:[b.jsx("span",{className:"text-xl font-semibold text-slate-700 mb-3 group-hover:text-teal-700 transition",children:"Skills Average"}),b.jsxs("div",{className:"flex flex-col items-center w-full mb-2",children:[b.jsx("div",{className:"relative w-full flex justify-center mb-3",style:{height:"22px"},children:b.jsx("div",{className:"absolute",style:{left:`calc(${Be/5*100}% - 18px)`},children:b.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold bg-yellow-100 text-yellow-700 shadow",style:{fontSize:"13px"},children:Be.toFixed(1)})})}),b.jsxs("div",{className:"relative w-64 h-4 bg-slate-100 rounded-full overflow-hidden mb-3",children:[b.jsx("div",{className:"h-full rounded-full transition-all duration-300",style:{width:`${je!=="--"?parseFloat(je)/5*100:0}%`,background:"#14b8a6"}}),b.jsx("div",{className:"absolute top-1/2 -translate-y-1/2",style:{left:`calc(${Be/5*100}% - 10px)`},children:b.jsx("span",{className:"w-5 h-5 rounded-full border-2 border-white shadow-md block",style:{background:"#fde047"}})})]}),b.jsx("span",{className:"text-lg text-slate-700 font-bold mt-1",children:je})]}),b.jsx("span",{className:"text-xs text-slate-500 group-hover:text-teal-600 transition mt-2",children:"Click for category breakdown"})]})]})},fe.id)})})]})}),g&&b.jsx(C0,{isOpen:!!g,onClose:()=>y(null),children:b.jsxs("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto bg-white rounded-lg p-8",children:[b.jsxs("h2",{className:"text-2xl font-bold mb-6",children:[g.full_name,"'s Skills"]}),A?b.jsx("div",{children:"Loading..."}):Object.keys(T).length===0?b.jsx("div",{children:"No marked skills found."}):b.jsx("div",{className:"pr-2",children:Object.entries(T).sort(([fe],[Se])=>{var je,Be;const Oe=parseInt(((je=fe.match(/\d+/))==null?void 0:je[0])||"0"),Ie=parseInt(((Be=Se.match(/\d+/))==null?void 0:Be[0])||"0");return Oe-Ie}).map(([fe,Se])=>{const Oe=je=>{const Be=je.match(/^([\d.]+)/);return Be?Be[1].split(".").map(Number):[0]},Ie=[...Se].sort((je,Be)=>{const Fe=Oe(je.skill_name),Ae=Oe(Be.skill_name);for(let ke=0;ke<Math.max(Fe.length,Ae.length);ke++){const ze=Fe[ke]??0,$=Ae[ke]??0;if(ze!==$)return ze-$}return 0});return b.jsxs("div",{className:"mb-6",children:[b.jsx("h3",{className:"font-semibold text-slate-800 mb-3 text-lg",children:fe}),b.jsx("div",{className:"divide-y divide-slate-100 rounded-lg border border-slate-200 bg-white shadow-sm",children:Ie.map(je=>b.jsxs("div",{className:"flex flex-row items-center gap-4 px-4 py-3 transition-colors hover:bg-slate-50 group",children:[b.jsx("span",{className:"font-medium text-slate-800 flex-1 min-w-0 truncate",children:je.skill_name}),b.jsxs("div",{className:"flex gap-2",children:[je.rank!==null&&je.rank!==void 0&&b.jsxs("span",{className:"inline-block px-2 py-0.5 rounded-full text-xs font-semibold bg-blue-100 text-blue-800 group-hover:bg-blue-200 transition-colors",title:"EIT's self score",children:["EIT: ",je.rank]}),je.supervisor_score!==null&&je.supervisor_score!==void 0&&b.jsxs("span",{className:"inline-block px-2 py-0.5 rounded-full text-xs font-semibold bg-green-100 text-green-800 group-hover:bg-green-200 transition-colors",title:"Supervisor's score",children:["Supervisor: ",je.supervisor_score]})]})]},je.skill_id))})]},fe)})})]})}),N&&b.jsx(C0,{isOpen:!!N,onClose:()=>I(null),children:b.jsxs("div",{className:"w-full max-w-md p-6 bg-white rounded-lg",children:[b.jsxs("h2",{className:"text-lg font-semibold mb-4",children:["Send a Nudge to ",N.full_name]}),b.jsx("textarea",{className:"w-full border rounded p-2 mb-3",rows:3,placeholder:"Type your message (or leave blank for a default nudge)",value:O,onChange:fe=>F(fe.target.value),disabled:L}),se&&b.jsx("div",{className:"text-red-600 text-sm mb-2",children:se}),B&&b.jsx("div",{className:"text-green-600 text-sm mb-2",children:B}),b.jsxs("div",{className:"flex gap-2 justify-end",children:[b.jsx("button",{className:"btn btn-secondary",onClick:()=>I(null),disabled:L,children:"Cancel"}),b.jsx("button",{className:"btn btn-primary",onClick:ee,disabled:L,children:L?"Sending...":"Send Nudge"})]})]})}),q&&b.jsx(C0,{isOpen:!!q,onClose:()=>Te(null),children:b.jsxs("div",{className:"w-full max-w-lg bg-white rounded-xl p-8 shadow-lg relative",children:[b.jsx("button",{className:"absolute top-4 right-4 text-slate-400 hover:text-slate-700",onClick:()=>Te(null),"aria-label":"Close",children:b.jsx(zs,{size:24})}),b.jsxs("h2",{className:"text-2xl font-bold mb-6 text-slate-800",children:[q.full_name,"'s Skills by Category"]}),b.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"inline-block w-3 h-3 rounded-full",style:{background:"linear-gradient(90deg, #14b8a6 0%, #3b82f6 100%)"}}),b.jsx("span",{className:"text-xs text-slate-700 font-medium",children:"Their Mean"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"inline-block w-3 h-3 rounded-full",style:{background:Q}}),b.jsx("span",{className:"text-xs text-slate-700 font-medium",children:"Required Mean"})]})]}),b.jsx("div",{className:"space-y-5",children:function(){const fe=ie[q.id]||[],Se=Object.entries(Pv).map(([Be,Fe])=>{const ke=(fe||[]).filter($=>$.category_name===Be).filter($=>$.rank!==null&&$.rank!==void 0),ze=ke.length>0?(ke.reduce(($,Ce)=>$+Ce.rank,0)/ke.length).toFixed(1):"--";return{name:Be,eitMean:ze,required:Fe}}),Oe=(Be,Fe)=>{const Ae=Pv[Be];return Fe!=="--"&&parseFloat(Fe)<Ae},Ie=(Be,Fe)=>`A minimum average score of ${Pv[Be]} is required for ${Be}. Current average: ${Fe}`,je=["#14b8a6","#3b82f6","#6366f1","#a21caf","#ec4899","#22c55e"];return Se.map(({name:Be,eitMean:Fe,required:Ae},ke)=>b.jsxs("div",{className:"mb-2",children:[b.jsxs("div",{className:"flex justify-between items-center mb-1",children:[b.jsx("span",{className:"text-sm font-semibold text-slate-700",children:Be}),b.jsx("span",{className:"text-base font-bold text-blue-700",children:Fe})]}),b.jsxs("div",{className:"relative w-full h-4 bg-slate-200 rounded-full overflow-hidden mb-3",children:[b.jsx("div",{className:"h-full rounded-full transition-all duration-300",style:{width:`${Fe!=="--"?parseFloat(Fe)/5*100:0}%`,background:je[ke%je.length]}}),b.jsx("div",{className:"absolute left-0 top-0 w-full h-full pointer-events-none",children:b.jsxs("div",{className:"absolute flex flex-col items-center",style:{left:`calc(${Ae/5*100}% - 10px)`},children:[b.jsx("span",{className:"mb-1 px-2 py-0.5 rounded-full text-xs font-semibold bg-orange-100 text-orange-700 shadow",style:{fontSize:"11px"},children:Ae}),b.jsx("span",{className:"w-4 h-4 rounded-full border-2 border-white shadow-md",style:{background:Q}})]})})]}),Oe(Be,Fe)&&b.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:b.jsxs("div",{className:"flex items-start gap-2",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"text-red-600 mt-0.5 flex-shrink-0",width:"18",height:"18",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-sm font-medium text-red-800",children:"Warning: This category does not meet the minimum requirements"}),b.jsx("p",{className:"text-sm text-red-600 mt-1",children:Ie(Be,Fe)})]})]})})]},Be))}()})]})})]})},lDe={"1.1 Regulations, Codes & Standards":`Correct selection and application of statutory and technical requirements.
Evidence: Explicit citation of CSA, IEC, ABSA, etc.; design reviews addressing code clauses.
Level cues:
1 = can name relevant codes.
3 = interprets and applies clauses without oversight.
5 = authoring corporate standards; mentoring others on compliance.`,"1.2 Technical & Design Constraints":`Identifying limits (temperature, load, schedule) and designing within them.
Evidence: Trade-off studies, design margin calculations, interdisciplinary coordination notes.
Level cues:
1 = recognises simple constraints given by others.
3 = optimises design under multiple constraints.
5 = sets project-wide constraint envelopes and negotiates them.`,"1.3 Risk Management for Technical Work":`Systematic identification and mitigation of technical risks (distinct from safety).
Evidence: FMEA tables, hazard logs, risk registers with action plans.
Level cues:
1 = attends risk meetings.
3 = creates risk matrix and closes actions.
5 = institutionalises risk methodologies across projects.`,"1.4 Application of Theory":`Using engineering science to create or validate designs.
Evidence: Hand calculations, simulation models, design notes.
Level cues:
1 = performs textbook calcs shown by others.
3 = selects appropriate theory and justifies assumptions.
5 = derives novel analytical methods adopted by peers.`,"1.5 Solution Techniques & Results Verification":`Self-checking, peer-reviewing, and validating outputs.
Evidence: Check prints, back-calculations, test-vs-model comparisons.
Level cues:
1 = runs software without independent check.
3 = uses alternative method to cross-verify.
5 = implements QA verification workflows enterprise-wide.`,"1.6 Safety in Design & Technical Work":`Integrating safety / HAZOP thinking into technical tasks.
Evidence: SIL/LOPA studies, safety factors, safeguard design notes.
Level cues:
1 = attends toolbox talks.
3 = designs safety features and documents residual risk.
5 = chairs safety reviews and influences corporate safety culture.`,"1.7 Systems & Their Components":`Understanding and managing interactions within complex systems.
Evidence: System block diagrams, interface registers, control narratives.
Level cues:
1 = works on single component.
3 = balances interfaces across disciplines.
5 = architects whole-of-plant integration strategies.`,"1.8 Project or Asset Life-Cycle Awareness":`Considering feasibility through decommissioning.
Evidence: Stage-gate reports, O&M cost analyses, end-of-life plans.
Level cues:
1 = aware of immediate project phase.
3 = optimises design for O&M and eventual retirement.
5 = leads life-cycle cost optimisation across portfolio.`,"1.9 Quality Assurance":`Ensuring designs and deliverables meet defined quality criteria.
Evidence: ITPs, NCR resolution, audit findings.
Level cues:
1 = follows checklists.
3 = designs QA checks and resolves NCRs.
5 = drives continuous-improvement programs, reduces defect rates.`,"1.10 Engineering Documentation":`Creating clear drawings, reports, calculations.
Evidence: Issued-for-construction packages, calculation books.
Level cues:
1 = fills templates.
3 = authors multi-disciplinary documents accepted without major edits.
5 = sets documentation standards and trains staff.`,"2.1 Oral Communication (English)":`Clear, professional spoken English (presentations, meetings).
Evidence: Recorded presentations, client kick-off meetings.
Level cues:
1 = reads prepared notes.
3 = leads technical meetings, answers questions concisely.
5 = facilitates high-stakes negotiations.`,"2.2 Written Communication (English)":`Clear, structured technical writing.
Evidence: Formal reports, proposals, standards.
Level cues:
1 = grammar issues persist.
3 = reports accepted by clients without rewrite.
5 = publishes guidance documents adopted by organisation.`,"2.3 Reading & Comprehension (English)":`Using written technical material effectively.
Evidence: Mark-ups showing critical review, code interpretation memos.
Level cues:
1 = needs help interpreting dense specs.
3 = extracts crucial requirements, flags conflicts.
5 = synthesises complex literature into design policy.`,"3.1 Project Management Principles":`Scope, schedule, risk, change control.
Evidence: Gantt charts, change-order logs, status reports.
Level cues:
1 = tracks own tasks only.
3 = develops baselines, mitigates slippage.
5 = manages multi-discipline programs, mentors PMs.`,"3.2 Finances & Budget":`Cost estimating, cash-flow tracking, value engineering.
Evidence: CAPEX/OPEX estimates, variance analyses.
Level cues:
1 = inputs timesheets.
3 = owns WBS cost code, forecasts EAC accurately.
5 = optimises portfolio budgets, secures funding approvals.`,"4.1 Promote Team Effectiveness & Resolve Conflict":`Fostering collaboration and addressing interpersonal issues.
Evidence: Meeting minutes, stakeholder feedback, conflict-resolution plans.
Level cues:
1 = participates politely.
3 = facilitates consensus, resolves minor conflicts.
5 = leads high-tension negotiations, builds high-performing multi-site teams.`,"5.1 Professional Accountability (Ethics, Liability, Limits)":`Acting ethically, declaring limits, managing conflicts of interest.
Evidence: Signed professional-practice declarations, ethics case notes.
Level cues:
1 = knows the Code of Ethics exists.
3 = raises concerns proactively, seeks guidance.
5 = champions ethical culture, develops training modules.`,"6.1 Protection of the Public Interest":`Safety audits, public-impact assessments.
Evidence: Safety audits, public-impact assessments.
Level cues:
1 = identifies obvious hazards.
3 = designs to mitigate societal risk.
5 = influences public-safety policy.`,"6.2 Benefits of Engineering to the Public":`Community engagement records, cost-benefit studies.
Evidence: Community engagement records, cost-benefit studies.
Level cues:
1 = mentions public benefit.
3 = quantifies benefits, presents to stakeholders.
5 = leads projects delivering measurable public value.`,"6.3 Role of Regulatory Bodies":`Compliance registers, correspondence with AHJs.
Evidence: Compliance registers, correspondence with AHJs.
Level cues:
1 = names APEGA.
3 = coordinates approvals with multiple regulators.
5 = advises regulators, serves on industry committees.`,"6.4 Application of Sustainability Principles":`Life-cycle carbon analyses, circular-economy studies.
Evidence: Life-cycle carbon analyses, circular-economy studies.
Level cues:
1 = reuses specs.
3 = optimises design for energy/resource efficiency.
5 = drives corporate ESG strategy.`,"6.5 Promotion of Sustainability":`Training sessions delivered, sustainability KPIs met.
Evidence: Training sessions delivered, sustainability KPIs met.
Level cues:
1 = attends webinars.
3 = implements team sustainability actions.
5 = publishes best-practice guides, influences supply chain.`};function cDe(n){const e=lDe[n];if(!e)return b.jsx("span",{children:"No summary available for this skill."});const[i,r,...o]=e.split(/\n|\r/).filter(Boolean),l=r==null?void 0:r.replace(/^Evidence:/,"").trim(),c=o.filter(u=>u.trim().match(/^\d/));return b.jsxs("div",{children:[b.jsxs("div",{className:"mb-2",children:[b.jsx("span",{className:"font-semibold",children:"Skill Definition:"}),b.jsx("span",{className:"block text-slate-700 mt-1",children:i})]}),l&&b.jsxs("div",{className:"mb-2",children:[b.jsx("span",{className:"font-semibold",children:"Evidence supervisors might look for:"}),b.jsx("ul",{className:"list-disc ml-6 mt-1 text-slate-700",children:l.split(";").map((u,h)=>b.jsx("li",{children:u.trim()},h))})]}),c.length>0&&b.jsxs("div",{className:"mb-1",children:[b.jsx("span",{className:"font-semibold",children:"Level-specific indicators (cues):"}),b.jsx("ul",{className:"mt-1 ml-6 text-slate-700",children:c.map((u,h)=>{const m=u.match(/^(\d)\s*=\s*(.*)$/);return m?b.jsxs("li",{children:[b.jsx("span",{className:"font-bold",children:m[1]}),": ",m[2]]},h):b.jsx("li",{children:u},h)})})]})]})}function uDe(n){const e=document.createElement("div");return e.innerHTML=n,e.textContent||e.innerText||""}const dDe=()=>{var Me,ye,_e,Le;const[n,e]=G.useState("skills"),[i,r]=G.useState("all"),[o,l]=G.useState([]),[c,u]=G.useState({}),[h,m]=G.useState({}),[g,y]=G.useState({}),[v,_]=G.useState({}),[A,S]=G.useState(!0),[T,C]=G.useState([]),[N,I]=G.useState(!0),[O,F]=G.useState(null),[L,z]=G.useState(null),[B,Y]=G.useState(!1),[se,de]=G.useState({}),[J,be]=G.useState(null),[q,Te]=G.useState(!1),[ie,ce]=G.useState([]),[X,K]=G.useState([]),[ne,ee]=G.useState([]),[ue,Q]=G.useState(null),[fe,Se]=G.useState(null),{notifications:Oe,markAsRead:Ie}=N3(),je=i==="all"?ie:ie.filter(Ve=>Ve.eit_id===i),Be=i==="all"?X:X.filter(Ve=>{var $e;return(($e=Ve.sao)==null?void 0:$e.eit_id)===i}),Fe=i==="all"?v:Object.fromEntries(Object.entries(v).filter(([Ve])=>Ve.startsWith(i+"_")));G.useEffect(()=>{(async()=>{S(!0);const{data:{user:$e}}=await Re.auth.getUser();if(!$e)return;const{data:Ne,error:Ee}=await Re.from("skill_validations").select("*").eq("validator_id",$e.id).order("validated_at",{ascending:!1}),{data:ve,error:ae}=await Re.from("validators").select("*").eq("email",$e.email).eq("status","pending");if(Ee||!Ne){S(!1);return}const Ue=Array.from(new Set([...Ne.map(At=>At.eit_id),...(ve||[]).map(At=>At.eit_id)])),Je=Array.from(new Set([...Ne.map(At=>At.skill_id),...(ve||[]).map(At=>At.skill_id)])),[{data:nt},{data:dt}]=await Promise.all([Re.from("eit_profiles").select("id, full_name, email").in("id",Ue),Re.from("skills").select("id, name").in("id",Je)]),ft={};(nt||[]).forEach(At=>{ft[At.id]=At}),m(ft);const Ot={};(dt||[]).forEach(At=>{Ot[At.id]=At}),y(Ot);const Ct={};Ne.forEach(At=>{const Zt=`${At.eit_id}_${At.skill_id}`;Ct[Zt]||(Ct[Zt]=[]),Ct[Zt].push(At)});const $t=Object.values(Ct).map(At=>{var qt,En;const Zt=At[0];return{id:`${Zt.eit_id}_${Zt.skill_id}`,skill_id:Zt.skill_id,full_name:((qt=ft[Zt.eit_id])==null?void 0:qt.full_name)||"",email:((En=ft[Zt.eit_id])==null?void 0:En.email)||"",description:Zt.feedback||"",status:"completed",score:Zt.score,created_at:Zt.validated_at,updated_at:Zt.validated_at,eit_id:Zt.eit_id}});l($t),ce((ve||[]).map(At=>({...At,id:At.id}))),_(Ct),S(!1)})()},[]);const Ae=async()=>{I(!0),F(null);try{const{data:{user:Ve}}=await Re.auth.getUser();if(!Ve)throw new Error("No authenticated user");const{data:$e,error:Ne}=await Re.from("sao_feedback").select("*, sao:saos (title, content, created_at, eit_id)").eq("supervisor_id",Ve.id).order("created_at",{ascending:!1});if(Ne)throw Ne;ee($e||[]),K(($e||[]).filter(ve=>ve.status==="pending"));const Ee=Array.from(new Set(($e||[]).map(ve=>{var ae;return(ae=ve.sao)==null?void 0:ae.eit_id}).filter(Boolean)));if(Ee.length>0){const{data:ve}=await Re.from("eit_profiles").select("id, full_name").in("id",Ee),ae={};(ve||[]).forEach(Ue=>{ae[Ue.id]=Ue.full_name}),de(ae)}}catch(Ve){F(Ve.message||"Failed to load feedback requests")}finally{I(!1)}};G.useEffect(()=>{Ae()},[]);const ke=(Ve,$e)=>{u(Ne=>({...Ne,[Ve]:$e}))},ze=async Ve=>{try{Q(Ve.id),Se(null);const $e=c[Ve.id];if(!$e||$e<1||$e>5)return;const{data:{user:Ne}}=await Re.auth.getUser();if(!Ne)return;const{error:Ee}=await Re.from("validators").update({score:$e,description:Ve.description,status:"scored",updated_at:new Date().toISOString()}).eq("id",Ve.id);if(Ee)throw Ee;const{error:ve}=await Re.from("skill_validations").insert({validator_id:Ne.id,eit_id:Ve.eit_id,skill_id:Ve.skill_id,score:$e,feedback:Ve.description,validated_at:new Date().toISOString()});if(ve)throw ve;ce(Je=>Je.filter(nt=>nt.id!==Ve.id)),u(Je=>{const nt={...Je};return delete nt[Ve.id],nt});const ae=g[Ve.skill_id];await l_e(Ve.eit_id,ae?ae.name:Ve.skill_id,$e),await Re.from("eit_skills").update({supervisor_score:$e}).eq("eit_id",Ve.eit_id).eq("skill_id",Ve.skill_id);const Ue=ae?ae.name:Ve.skill_id;Oe.filter(Je=>Je.type==="validation_request"&&!Je.read&&Je.data&&Je.data.skillName===Ue).forEach(Je=>Ie(Je.id)),Se("Score submitted successfully!"),setTimeout(()=>Se(null),2e3)}catch($e){console.error("Error submitting score:",$e),vd.error($e.message||"Error submitting score")}finally{Q(null)}},$=async Ve=>{await Re.from("sao_feedback").update({status:"resolved"}).eq("id",Ve),C($e=>$e.map(Ne=>Ne.id===Ve?{...Ne,status:"resolved"}:Ne))},Ce=async(Ve,$e)=>{Q(Ve),Se(null);try{const{data:{user:Ne}}=await Re.auth.getUser();if(!Ne)return;await Re.from("sao_feedback").update({feedback:$e,status:"submitted"}).eq("sao_id",Ve).eq("supervisor_id",Ne.id),ee(Ee=>Ee.map(ve=>ve.sao_id===Ve?{...ve,feedback:$e,status:"submitted"}:ve)),K(Ee=>Ee.filter(ve=>!(ve.sao_id===Ve&&ve.status!=="pending"))),Y(!1),z(null),Oe.filter(Ee=>{var ve;return Ee.type==="validation_request"&&!Ee.read&&Ee.data&&Ee.data.saoTitle&&L&&Ee.data.saoTitle===((ve=L.sao)==null?void 0:ve.title)}).forEach(Ee=>Ie(Ee.id)),Se("Feedback submitted successfully!"),setTimeout(()=>Se(null),2e3),vd.success("Feedback submitted successfully!")}catch(Ne){vd.error(Ne.message||"Error submitting feedback")}finally{Q(null)}};return b.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[b.jsx("div",{className:"flex items-center justify-between mb-6",children:b.jsx("h1",{className:"text-2xl font-bold",children:"Review Center"})}),b.jsxs("div",{className:"flex items-center justify-between my-8 w-full",children:[b.jsx("div",{className:"flex items-center",children:b.jsx("button",{onClick:n==="skills"?()=>window.location.reload():Ae,disabled:A||N,className:"px-4 py-2 bg-teal-600 text-white rounded-md hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:A&&n==="skills"||N&&n==="saos"?"Refreshing...":"Refresh"})}),b.jsx("div",{className:"flex-1 flex justify-center",children:b.jsxs("div",{className:"relative flex bg-slate-100 rounded-full p-1 shadow-inner gap-0 items-center",children:[b.jsx("button",{onClick:()=>e("skills"),className:`px-6 py-2 rounded-full font-semibold transition-all duration-200 text-sm focus:outline-none z-10
                ${n==="skills"?"bg-teal-600 text-white shadow-lg":"text-slate-700 hover:text-teal-600"}`,style:{marginRight:"-0.5rem",marginLeft:"0.5rem"},"aria-pressed":n==="skills",children:"Skills"}),b.jsx("button",{onClick:()=>e("saos"),className:`px-6 py-2 rounded-full font-semibold transition-all duration-200 text-sm focus:outline-none z-10
                ${n==="saos"?"bg-teal-600 text-white shadow-lg":"text-slate-700 hover:text-teal-600"}`,style:{marginLeft:"-0.5rem",marginRight:"0.5rem"},"aria-pressed":n==="saos",children:"SAOs"})]})}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("div",{className:"ml-2 flex items-center gap-2",children:[b.jsx("label",{htmlFor:"eit-filter",className:"text-sm font-medium text-slate-700",children:"Filter by EIT:"}),b.jsxs("select",{id:"eit-filter",value:i,onChange:Ve=>r(Ve.target.value),className:"rounded-lg border border-slate-300 px-3 py-1.5 text-sm focus:border-teal-500 focus:outline-none focus:ring-1 focus:ring-teal-500",children:[b.jsx("option",{value:"all",children:"All EITs"}),Object.values(h).map(Ve=>b.jsx("option",{value:Ve.id,children:Ve.full_name},Ve.id))]})]}),b.jsx("button",{className:`p-2 rounded-full text-slate-500 hover:bg-slate-200 transition ${q?"bg-slate-300":""}`,title:"Show History",onClick:()=>Te(Ve=>!Ve),type:"button",children:b.jsx(K0,{size:20})})]})]}),n==="skills"&&!q&&b.jsx("div",{children:A?b.jsx("div",{children:"Loading..."}):je.length===0?b.jsx("div",{children:"No pending skill validation requests."}):b.jsxs("div",{className:"space-y-4",children:[fe&&b.jsx("div",{className:"p-3 bg-green-50 text-green-700 rounded-md text-sm mb-4",children:fe}),je.map(Ve=>{const $e=h[Ve.eit_id],Ne=g[Ve.skill_id];return b.jsxs("div",{className:"bg-white rounded-lg shadow p-4 flex flex-col md:flex-row md:items-center md:justify-between gap-4 transition-all duration-300",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"font-semibold flex items-center gap-2",children:["Skill: ",Ne?Ne.name:Ve.skill_id,Ne&&b.jsx("button",{className:"ml-1 p-1 rounded-full text-blue-500 hover:bg-blue-50",title:"View Skill Rubric",onClick:()=>be(Ne.name),type:"button",children:b.jsx(HM,{size:18})})]}),b.jsxs("div",{className:"text-slate-600",children:["EIT: ",$e?`${$e.full_name} (${$e.email})`:Ve.eit_id]}),b.jsxs("div",{className:"text-slate-600",children:["Description: ",Ve.description]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("input",{type:"number",min:1,max:5,value:c[Ve.id]||"",onChange:Ee=>ke(Ve.id,Number(Ee.target.value)),className:"input w-24",placeholder:"Score"}),b.jsx("button",{className:"btn btn-primary flex items-center gap-2",onClick:()=>ze(Ve),disabled:ue===Ve.id||!c[Ve.id]||c[Ve.id]<1||c[Ve.id]>5,children:ue===Ve.id?b.jsx("span",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):"Submit Score"})]})]},Ve.id)})]})}),n==="skills"&&q&&b.jsxs("div",{children:[b.jsx("div",{className:"text-xl font-bold mb-4",children:"History"}),A?b.jsx("div",{children:"Loading..."}):Object.keys(Fe).length===0?b.jsx("div",{children:"No history available."}):b.jsx("div",{className:"space-y-4",children:Object.entries(Fe).map(([Ve,$e])=>{const Ne=$e[0],Ee=h[Ne.eit_id],ve=g[Ne.skill_id];return b.jsxs("div",{className:"bg-white rounded-lg shadow p-4 flex flex-col md:flex-row md:items-center md:justify-between gap-4 transition-all duration-300",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"font-semibold flex items-center gap-2",children:["Skill: ",ve?ve.name:Ne.skill_id,ve&&b.jsx("button",{className:"ml-1 p-1 rounded-full text-blue-500 hover:bg-blue-50",title:"View Skill Rubric",onClick:()=>be(ve.name),type:"button",children:b.jsx(HM,{size:18})})]}),b.jsxs("div",{className:"text-slate-600",children:["EIT: ",Ee?`${Ee.full_name} (${Ee.email})`:Ne.eit_id]}),b.jsxs("div",{className:"text-slate-600",children:["Description: ",Ne.feedback||""]}),b.jsx("div",{className:"mt-3 border-t pt-3",children:b.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-2",children:$e.map((ae,Ue)=>b.jsxs("div",{className:"bg-slate-50 rounded-lg p-2 text-sm",children:[b.jsxs("div",{className:"flex items-center justify-between mb-1",children:[b.jsxs("span",{className:"font-medium text-slate-700",children:["Score: ",ae.score]}),b.jsx("span",{className:"text-xs text-slate-500",children:ae.validated_at?new Date(ae.validated_at).toLocaleDateString():""})]}),ae.feedback&&b.jsxs("div",{className:"text-slate-600 text-xs mt-1",children:[b.jsx("span",{className:"font-medium",children:"Feedback:"})," ",ae.feedback]})]},Ue))})})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("input",{type:"number",min:1,max:5,value:c[`${Ne.eit_id}_${Ne.skill_id}`]||"",onChange:ae=>ke(`${Ne.eit_id}_${Ne.skill_id}`,Number(ae.target.value)),className:"input w-24",placeholder:"Score"}),b.jsx("button",{className:"btn btn-primary",onClick:()=>ze({...Ne,id:`${Ne.eit_id}_${Ne.skill_id}`,description:Ne.feedback||""}),disabled:!c[`${Ne.eit_id}_${Ne.skill_id}`]||c[`${Ne.eit_id}_${Ne.skill_id}`]<1||c[`${Ne.eit_id}_${Ne.skill_id}`]>5,children:"Update Score"})]})]},Ve)})})]}),n==="saos"&&!q&&b.jsx("div",{children:N?b.jsx("div",{children:"Loading..."}):O?b.jsx("div",{className:"text-red-600",children:O}):Be.length===0?b.jsx("div",{className:"text-slate-500",children:"No pending feedback requests assigned to you."}):b.jsx("div",{className:"space-y-4",children:Be.map(Ve=>{var $e,Ne,Ee;return b.jsx("div",{className:"bg-white rounded-lg shadow p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{z(Ve),Y(!0)},children:b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-lg font-semibold text-teal-600",children:(($e=Ve.sao)==null?void 0:$e.title)||"Untitled SAO"}),b.jsxs("p",{className:"text-sm text-slate-500",children:["From: ",se[((Ne=Ve.sao)==null?void 0:Ne.eit_id)||""]||((Ee=Ve.sao)==null?void 0:Ee.eit_id)||"Unknown"]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[Ve.status==="pending"&&b.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold bg-yellow-100 text-yellow-800",children:"Pending Review"}),Ve.status==="submitted"&&b.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800",children:"Feedback Submitted"})]})]})},Ve.id)})})}),n==="saos"&&q&&b.jsxs("div",{children:[b.jsx("div",{className:"text-xl font-bold mb-4",children:"History"}),N?b.jsx("div",{children:"Loading..."}):ne.filter(Ve=>Ve.status==="submitted").length===0?b.jsx("div",{className:"text-slate-500",children:"No SAO history available."}):b.jsx("div",{className:"space-y-4",children:ne.filter(Ve=>Ve.status==="submitted").map(Ve=>{var $e,Ne,Ee;return b.jsx("div",{className:"bg-white rounded-lg shadow p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{z(Ve),Y(!0)},children:b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-lg font-semibold text-teal-600",children:(($e=Ve.sao)==null?void 0:$e.title)||"Untitled SAO"}),b.jsxs("p",{className:"text-sm text-slate-500",children:["From: ",se[((Ne=Ve.sao)==null?void 0:Ne.eit_id)||""]||((Ee=Ve.sao)==null?void 0:Ee.eit_id)||"Unknown"]})]}),b.jsx("div",{className:"flex items-center gap-2",children:b.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800",children:"Feedback Submitted"})})]})},Ve.id)})})]}),B&&L&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:b.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:b.jsxs("div",{className:"p-6",children:[b.jsxs("div",{className:"flex justify-between items-start mb-4",children:[b.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:((Me=L.sao)==null?void 0:Me.title)||"Untitled SAO"}),b.jsx("button",{onClick:()=>{Y(!1),z(null)},className:"text-slate-400 hover:text-slate-600",children:b.jsx(zs,{size:24})})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-2",children:"SAO Content"}),b.jsx("div",{className:"bg-slate-50 rounded-lg p-4 mb-4 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:V1.sanitize(((ye=L.sao)==null?void 0:ye.content)||"")}}),L.sao_id&&((_e=L.sao)==null?void 0:_e.content)&&b.jsx(CJ,{saoId:L.sao_id,content:uDe(L.sao.content)})]}),b.jsx(b8,{feedback:[L],onResolve:$,onSubmitFeedback:Ce,isSupervisor:!0,saoContent:(Le=L.sao)==null?void 0:Le.content})]})})}),J&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full relative",children:[b.jsx("button",{className:"absolute top-2 right-2 text-slate-400 hover:text-slate-600",onClick:()=>be(null),children:"×"}),b.jsx("h3",{className:"text-lg font-semibold mb-4",children:J}),cDe(J)]})})]})},hDe=()=>{const[n,e]=G.useState([]),[i,r]=G.useState({}),[o,l]=G.useState(!0),[c,u]=G.useState(null),[h,m]=G.useState(null),[g,y]=G.useState("all");G.useEffect(()=>{(async()=>{l(!0),u(null);try{const{data:{user:S}}=await Re.auth.getUser();if(!S)throw new Error("No authenticated user");const{data:T,error:C}=await Re.from("documents").select("*").eq("supervisor_id",S.id).order("created_at",{ascending:!1});if(C)throw C;e(T||[]);const N=Array.from(new Set((T||[]).map(I=>I.eit_id).filter(Boolean)));if(N.length>0){const{data:I,error:O}=await Re.from("eit_profiles").select("id, full_name, email").in("id",N);if(!O&&I){const F={};I.forEach(L=>{F[L.id]=L}),r(F)}}}catch{u("Failed to load documents.")}finally{l(!1)}})()},[]);const v=Object.values(i),_=g==="all"?n:n.filter(A=>A.eit_id===g);return b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Shared Documents"}),v.length>0&&b.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[b.jsx("label",{htmlFor:"eit-filter",className:"text-sm font-medium text-slate-700",children:"Filter by EIT:"}),b.jsxs("select",{id:"eit-filter",value:g,onChange:A=>y(A.target.value),className:"rounded-lg border border-slate-300 px-3 py-1.5 text-sm focus:border-teal-500 focus:outline-none focus:ring-1 focus:ring-teal-500",children:[b.jsx("option",{value:"all",children:"All EITs"}),v.map(A=>b.jsxs("option",{value:A.id,children:[A.full_name," (",A.email,")"]},A.id))]})]}),o&&b.jsx("div",{children:"Loading..."}),c&&b.jsx("div",{className:"text-red-600",children:c}),!o&&!c&&n.length===0&&b.jsxs("div",{className:"text-slate-500 flex flex-col items-center py-12",children:[b.jsx(Rd,{size:48,className:"mx-auto text-slate-400"}),b.jsx("div",{className:"mt-4 text-lg font-medium",children:"No documents shared with you yet."})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:_.map(A=>{const S=A.eit_id?i[A.eit_id]:void 0;return b.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200 ease-in-out",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("h3",{className:"font-semibold text-lg text-slate-800",children:A.title}),b.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-slate-700",onClick:()=>m(A),title:"Preview",children:b.jsx(d8,{size:16})})]}),b.jsxs("div",{className:"text-xs text-slate-500 mb-2",children:[b.jsx("span",{children:new Date(A.created_at).toLocaleDateString()}),b.jsx("span",{className:"mx-2",children:"•"}),b.jsx("span",{className:"capitalize",children:A.status})]}),S&&b.jsx("div",{className:"text-xs text-slate-600 mt-1",children:b.jsxs("span",{children:["From: ",b.jsx("span",{className:"font-medium",children:S.full_name})," (",S.email,")"]})})]},A.id)})}),h&&b.jsx(bJ,{document:{...h,type:["essay","saos","other"].includes(h.type)?h.type:"other",status:["draft","submitted","approved","rejected"].includes(h.status)?h.status:"draft",word_count:typeof h.word_count=="number"?h.word_count:0},onClose:()=>m(null)})]})},fDe=bc()(y8(n=>({eitRequests:!0,skillValidationRequests:!0,saoFeedback:!0,weeklyDigest:!0,toggleEitRequests:()=>n(e=>({eitRequests:!e.eitRequests})),toggleSkillValidationRequests:()=>n(e=>({skillValidationRequests:!e.skillValidationRequests})),toggleSaoFeedback:()=>n(e=>({saoFeedback:!e.saoFeedback})),toggleWeeklyDigest:()=>n(e=>({weeklyDigest:!e.weeklyDigest}))}),{name:"supervisor-notification-preferences"})),pDe=()=>{var yi;const[n,e]=G.useState(null),[i,r]=G.useState(""),[o,l]=G.useState(""),[c,u]=G.useState(""),[h,m]=G.useState(!1),[g,y]=G.useState({type:"",text:""}),[v,_]=G.useState(!1),[A,S]=G.useState(!1),[T,C]=G.useState(!1),[N,I]=G.useState(""),[O,F]=G.useState(""),[L,z]=G.useState(""),[B,Y]=G.useState(""),[se,de]=G.useState("Free"),[J,be]=G.useState([]),[q,Te]=G.useState(""),[ie,ce]=G.useState("idle"),[X,K]=G.useState(""),[ne,ee]=G.useState(!1),[ue,Q]=G.useState(""),[fe,Se]=G.useState(""),[Oe,Ie]=G.useState(""),[je,Be]=G.useState("idle"),[Fe,Ae]=G.useState(""),{eitRequests:ke,skillValidationRequests:ze,saoFeedback:$,weeklyDigest:Ce,toggleEitRequests:Me,toggleSkillValidationRequests:ye,toggleSaoFeedback:_e,toggleWeeklyDigest:Le}=fDe(),[Ve,$e]=G.useState(!1),[Ne,Ee]=G.useState(""),[ve,ae]=G.useState(""),[Ue,Je]=G.useState(""),[nt,dt]=G.useState(""),[ft,Ot]=G.useState(!1),[Ct,$t]=G.useState(null),[At,Zt]=G.useState(!1),{tier:qt,documentLimit:En,saoLimit:Or,supervisorLimit:$i,hasAiAccess:qi,fetchSubscription:Pi}=rA();G.useEffect(()=>{(async()=>{var on;const{data:{user:Ft}}=await Re.auth.getUser();Ft&&(e(Ft),r(((on=Ft.user_metadata)==null?void 0:on.full_name)||""),l(Ft.email||""),u(Ft.email||""),Re.from("supervisor_eit_relationships").select("eit_profiles (id, full_name, email)").eq("supervisor_id",Ft.id).eq("status","active").then(({data:Mn})=>{Mn&&be(Mn.map(On=>On.eit_profiles).filter(On=>On))}),Re.auth.mfa.listFactors().then(({data:Mn})=>{var pr;const On=(pr=Mn==null?void 0:Mn.all)==null?void 0:pr.find(Fi=>Fi.factor_type==="totp"&&Fi.status==="verified");ee(!!On)}))})(),Pi()},[]);const Yn=async mt=>{mt.preventDefault(),m(!0),y({type:"",text:""});try{const Ft={};v&&(Ft.data={full_name:i}),A&&c!==o&&(Ft.email=c);const{error:on}=await Re.auth.updateUser(Ft);if(on)throw on;if(v&&n){const{error:On}=await Re.from("supervisor_profiles").update({full_name:i}).eq("id",n.id);if(On)throw On}y({type:"success",text:"Profile updated successfully!"}),_(!1),S(!1);const{data:{user:Mn}}=await Re.auth.getUser();Mn&&(e(Mn),l(Mn.email||""),u(Mn.email||""))}catch(Ft){y({type:"error",text:"Failed to update profile. Please try again."}),console.error("Error updating profile:",Ft)}finally{m(!1)}},bi=mt=>mt.split(" ").map(Ft=>Ft[0]).join("").toUpperCase();return b.jsxs("div",{className:"max-w-3xl mx-auto p-6 space-y-8",children:[b.jsxs("section",{className:"card p-6 flex flex-col md:flex-row gap-6 items-center",children:[b.jsx("div",{className:"flex flex-col items-center",children:b.jsx("div",{className:"relative",children:(yi=n==null?void 0:n.user_metadata)!=null&&yi.avatar_url?b.jsx("img",{src:n.user_metadata.avatar_url,className:"w-24 h-24 rounded-full object-cover bg-slate-100",alt:"Profile"}):b.jsx("div",{className:"w-24 h-24 rounded-full bg-teal-500 flex items-center justify-center text-white text-3xl font-bold",children:bi(i||o)})})}),b.jsxs("form",{className:"flex-1 space-y-4 w-full",onSubmit:Yn,children:[b.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[b.jsx(KZ,{})," Profile Information",b.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"SUPERVISOR"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"fullName",className:"label",children:"Full Name"}),v?b.jsxs("div",{className:"space-y-2",children:[b.jsx("input",{type:"text",id:"fullName",value:i,onChange:mt=>r(mt.target.value),className:"input",placeholder:"Enter your full name"}),b.jsx("div",{className:"flex space-x-2",children:b.jsx("button",{type:"button",onClick:()=>_(!1),className:"btn btn-secondary",children:"Cancel"})})]}):b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("p",{children:i||"Not set"}),b.jsx("button",{type:"button",onClick:()=>_(!0),className:"text-sm text-teal-600 hover:text-teal-700",children:"Edit"})]})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"label",children:"Email Address"}),A?b.jsxs("div",{className:"space-y-2",children:[b.jsx("input",{type:"email",id:"newEmail",value:c,onChange:mt=>u(mt.target.value),className:"input",placeholder:"Enter your new email"}),b.jsx("p",{className:"text-sm text-slate-500",children:"After changing your email, you'll need to use the new email address to log in."}),b.jsx("div",{className:"flex space-x-2",children:b.jsx("button",{type:"button",onClick:()=>S(!1),className:"btn btn-secondary",children:"Cancel"})})]}):b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("p",{children:o}),b.jsx("button",{type:"button",onClick:()=>S(!0),className:"text-sm text-teal-600 hover:text-teal-700",children:"Edit"})]})]}),(v||A)&&b.jsx("button",{type:"submit",disabled:h,className:"btn btn-primary",children:h?"Saving...":"Save Changes"})]})]}),b.jsxs("section",{className:"card p-6",children:[b.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[b.jsx($Z,{})," Security"]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"label",children:"Password"}),T?b.jsxs("div",{className:"space-y-4",children:[b.jsx("input",{type:"password",id:"currentPassword",value:N,onChange:mt=>I(mt.target.value),className:"input",placeholder:"Current password"}),b.jsx("input",{type:"password",id:"newPassword",value:O,onChange:mt=>F(mt.target.value),className:"input",placeholder:"New password"}),b.jsx("input",{type:"password",id:"confirmPassword",value:L,onChange:mt=>z(mt.target.value),className:"input",placeholder:"Confirm new password"}),B&&b.jsx("p",{className:"text-sm text-red-600",children:B}),b.jsx("div",{className:"flex space-x-2",children:b.jsx("button",{type:"button",onClick:()=>C(!1),className:"btn btn-secondary",children:"Cancel"})})]}):b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("p",{children:"••••••••"}),b.jsx("button",{type:"button",onClick:()=>C(!0),className:"text-sm text-teal-600 hover:text-teal-700",children:"Change"})]})]}),b.jsxs("div",{className:"mt-4",children:[b.jsx("label",{className:"label",children:"Two-Factor Authentication"}),ne?b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("span",{className:"text-green-700 font-medium",children:"Enabled (TOTP)"}),b.jsx("button",{className:"btn btn-danger w-fit",onClick:async()=>{var mt;Be("idle"),Ae("");try{const{data:Ft}=await Re.auth.mfa.listFactors(),on=(mt=Ft==null?void 0:Ft.all)==null?void 0:mt.find(Mn=>Mn.factor_type==="totp"&&Mn.status==="verified");on&&(await Re.auth.mfa.unenroll({factorId:on.id}),ee(!1))}catch{Ae("Failed to disable 2FA.")}},children:"Disable 2FA"}),Fe&&b.jsx("span",{className:"text-red-600 text-sm",children:Fe})]}):je==="enrolling"?b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("span",{children:"Scan this QR code with your authenticator app:"}),ue&&b.jsx("img",{src:ue,alt:"TOTP QR Code",className:"w-40 h-40"}),b.jsx("input",{type:"text",className:"input mt-2",placeholder:"Enter 6-digit code",value:Oe,onChange:mt=>Ie(mt.target.value),maxLength:6}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{className:"btn btn-primary w-fit",onClick:async()=>{Be("verifying"),Ae("");try{const{data:mt,error:Ft}=await Re.auth.mfa.challenge({factorId:fe});if(Ft)throw Ft;const{error:on}=await Re.auth.mfa.verify({factorId:fe,challengeId:mt.id,code:Oe});if(on)throw on;ee(!0),Be("enabled")}catch{Ae("Invalid code. Please try again."),Be("enrolling")}},disabled:Oe.length!==6,children:"Verify"}),b.jsx("button",{className:"btn btn-secondary w-fit",onClick:async()=>{Be("idle"),Q(""),Se(""),Ie(""),Ae("");try{const{data:mt}=await Re.auth.mfa.listFactors();if(mt!=null&&mt.all)for(const Ft of mt.all)Ft.factor_type==="totp"&&Ft.status!=="verified"&&await Re.auth.mfa.unenroll({factorId:Ft.id})}catch{}},children:"Cancel"})]}),Fe&&b.jsx("span",{className:"text-red-600 text-sm",children:Fe})]}):b.jsx("button",{className:"btn btn-primary w-fit",onClick:async()=>{Be("enrolling"),Ae(""),Q(""),Se(""),Ie("");try{const{data:mt}=await Re.auth.mfa.listFactors();if(mt!=null&&mt.all)for(const Ft of mt.all)Ft.factor_type==="totp"&&Ft.status!=="verified"&&await Re.auth.mfa.unenroll({factorId:Ft.id})}catch{}try{const{data:mt,error:Ft}=await Re.auth.mfa.enroll({factorType:"totp"});if(Ft)throw Ft;Q(mt.totp.qr_code),Se(mt.id)}catch{Ae("Failed to start 2FA enrollment."),Be("idle")}},children:"Set up Two-Factor Authentication"})]})]})]}),b.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[b.jsx("div",{className:"flex items-center justify-between mb-4",children:b.jsxs("div",{className:"flex items-center",children:[b.jsx(l8,{className:"h-6 w-6 text-gray-400 mr-2"}),b.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Notification Preferences"})]})}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"EIT Connection Requests"}),b.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when an EIT requests to connect with you"})]}),b.jsx(of,{checked:ke,onChange:Me,className:`${ke?"bg-teal-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2`,children:b.jsx("span",{className:`${ke?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Skill Validation Requests"}),b.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when an EIT requests skill validation"})]}),b.jsx(of,{checked:ze,onChange:ye,className:`${ze?"bg-teal-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2`,children:b.jsx("span",{className:`${ze?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"SAO Feedback"}),b.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when you receive new SAO feedback requests"})]}),b.jsx(of,{checked:$,onChange:_e,className:`${$?"bg-teal-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2`,children:b.jsx("span",{className:`${$?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Weekly Digest"}),b.jsxs("p",{className:"text-sm text-gray-500",children:["Receive a weekly report on your EITs' progress and activities (",o,")"]})]}),b.jsx(of,{checked:Ce,onChange:Le,className:`${Ce?"bg-teal-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2`,children:b.jsx("span",{className:`${Ce?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]})]})]}),b.jsxs("section",{className:"card p-6",children:[b.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[b.jsx(p8,{})," EIT Connections"]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-3",children:"Current Connections"}),J.length===0?b.jsx("div",{className:"text-slate-400",children:"No active EIT connections."}):b.jsx("ul",{className:"divide-y divide-slate-200",children:J.map(mt=>b.jsxs("li",{className:"py-2 flex flex-col md:flex-row md:items-center md:justify-between",children:[b.jsx("span",{className:"font-medium text-slate-800",children:mt.full_name}),b.jsx("span",{className:"text-slate-500 text-sm",children:mt.email})]},mt.id))})]}),b.jsx("div",{className:"border-t border-slate-200 my-4"}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-3",children:"Connect with a New EIT"}),qt==="free"&&J.length>=1&&b.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded text-yellow-900 font-semibold text-center",children:"You have reached your EIT connection limit for the Free plan. Upgrade to Enterprise to connect with more EITs."}),b.jsxs("form",{className:"flex flex-col md:flex-row gap-4 items-start md:items-end",onSubmit:async mt=>{if(mt.preventDefault(),ce("idle"),K(""),!!q){if(qt==="free"&&J.length>=1){ce("error"),K("You have reached your EIT connection limit for the Free plan. Please upgrade to Enterprise to connect with more EITs.");return}m(!0);try{const{data:Ft}=await Re.from("eit_profiles").select("id, email, full_name").eq("email",q).single();if(!Ft){ce("notfound"),K("No EIT found with that email."),m(!1);return}const{data:on}=await Re.from("supervisor_eit_relationships").select("id, status").eq("supervisor_id",n==null?void 0:n.id).eq("eit_id",Ft.id).maybeSingle();if(on&&on.status==="pending"){ce("pending"),K("A request is already pending for this EIT."),m(!1);return}if(on&&on.status==="active"){ce("already"),K("This EIT is already connected."),m(!1);return}const{error:Mn}=await Re.from("supervisor_eit_relationships").upsert({supervisor_id:n==null?void 0:n.id,eit_id:Ft.id,status:"pending",created_at:new Date().toISOString(),updated_at:new Date().toISOString()});if(Mn)throw Mn;ce("success"),K("Request sent! The EIT will see it in their dashboard."),Te("")}catch(Ft){console.error(Ft),ce("error"),K("Failed to send request. Please try again.")}finally{m(!1)}}},children:[b.jsxs("div",{className:"flex-1 w-full",children:[b.jsx("label",{htmlFor:"eitEmail",className:"label",children:"EIT Email"}),b.jsx("input",{type:"email",id:"eitEmail",value:q,onChange:mt=>Te(mt.target.value),className:"input w-full",placeholder:"Enter EIT's email",required:!0,disabled:qt==="free"&&J.length>=1})]}),b.jsx("button",{type:"submit",className:"btn btn-primary whitespace-nowrap",disabled:h||qt==="free"&&J.length>=1,children:h?"Sending...":"Send Request"})]}),X&&b.jsx("div",{className:`mt-3 text-sm p-2 rounded-md ${ie==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:X})]})]})]}),b.jsxs("section",{className:"card p-6",children:[b.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[b.jsx(XZ,{})," Appearance"]}),b.jsx("p",{className:"text-slate-500 text-sm",children:"Coming soon: Switch between light and dark mode."})]}),b.jsxs("div",{className:"pt-8",children:[b.jsxs("div",{className:"mb-6 text-center",children:[b.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-2",children:"Choose Your Plan"}),b.jsx("p",{className:"text-gray-600 text-md max-w-2xl mx-auto",children:"Select the plan that best fits your needs"})]}),b.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[b.jsxs("div",{className:`border ${qt==="free"?"border-blue-500":"border-gray-200"} rounded-2xl p-8 bg-gradient-to-br from-blue-50 to-white flex flex-col items-center shadow-sm`,children:[b.jsx("h3",{className:"text-2xl font-bold text-blue-900 mb-2",children:"Free"}),b.jsx("p",{className:"text-5xl font-extrabold text-blue-800 mb-4",children:"$0"}),b.jsxs("ul",{className:"mb-6 w-full space-y-3",children:[b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"Up to 5 documents"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"Up to 5 SAOs"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"Connect with 1 EIT"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Standard support"]})]}),qt==="free"?b.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 px-4 py-2 rounded-full font-semibold text-sm shadow",children:"Current Plan"}):b.jsx("button",{onClick:()=>window.location.href="mailto:contact@accreda.com?subject=Downgrade to Free Plan",className:"inline-block bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-full font-semibold text-sm shadow transition-colors",children:"Contact to Downgrade"})]}),b.jsxs("div",{className:`border ${qt==="enterprise"?"border-purple-500":"border-gray-200"} rounded-2xl p-8 bg-gradient-to-br from-purple-50 to-white flex flex-col items-center shadow-sm`,children:[b.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-2",children:"Enterprise"}),b.jsx("p",{className:"text-base font-semibold text-purple-800 mb-4",children:"Custom Pricing"}),b.jsxs("ul",{className:"mb-6 w-full space-y-3",children:[b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Unlimited documents"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Unlimited SAOs"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Unlimited EIT connections"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Priority support"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Dedicated account manager"]})]}),qt==="enterprise"?b.jsx("span",{className:"inline-block bg-purple-100 text-purple-800 px-4 py-2 rounded-full font-semibold text-sm shadow",children:"Current Plan"}):b.jsx("button",{onClick:()=>$e(!0),className:"inline-block bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-full font-semibold text-sm shadow transition-colors",children:"Contact Us"})]})]})]}),Ve&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full relative",children:[b.jsx("button",{className:"absolute top-2 right-2 text-slate-400 hover:text-slate-600",onClick:()=>{$e(!1),Zt(!1),$t(null)},"aria-label":"Close",children:"×"}),b.jsx("h2",{className:"text-xl font-bold mb-4 text-purple-800",children:"Enterprise Plan Inquiry"}),At?b.jsx("div",{className:"p-3 bg-green-50 text-green-700 rounded-md text-sm mb-4",children:"Your inquiry has been sent successfully. We'll get back to you soon!"}):b.jsxs("form",{onSubmit:async mt=>{mt.preventDefault(),Ot(!0),$t(null),Zt(!1);try{const Ft=await fetch("https://bbixvnkqroskholbxkgj.supabase.co/functions/v1/send-support-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU"},body:JSON.stringify({email:ve,subject:"Enterprise Plan Inquiry",message:`Name: ${Ne}
Corporation: ${Ue}

${nt}`,issueType:"enterprise",mode:"help"})}),on=await Ft.json();if(!Ft.ok)throw new Error(on.error||"Failed to send message");Zt(!0),Ee(""),ae(""),Je(""),dt("")}catch(Ft){$t(Ft instanceof Error?Ft.message:"Failed to send message. Please try again later.")}finally{Ot(!1)}},className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"contactName",className:"label",children:"Full Name"}),b.jsx("input",{type:"text",id:"contactName",value:Ne,onChange:mt=>Ee(mt.target.value),className:"input",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"contactEmail",className:"label",children:"Email Address"}),b.jsx("input",{type:"email",id:"contactEmail",value:ve,onChange:mt=>ae(mt.target.value),className:"input",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"contactCorporation",className:"label",children:"Organization"}),b.jsx("input",{type:"text",id:"contactCorporation",value:Ue,onChange:mt=>Je(mt.target.value),className:"input",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"contactMessage",className:"label",children:"Message"}),b.jsx("textarea",{id:"contactMessage",value:nt,onChange:mt=>dt(mt.target.value),className:"input h-32",required:!0,placeholder:"Tell us about your needs and how we can help..."})]}),Ct&&b.jsx("div",{className:"p-3 bg-red-50 text-red-700 rounded-md text-sm",children:Ct}),b.jsxs("div",{className:"flex justify-end gap-2",children:[b.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{$e(!1),Zt(!1),$t(null)},disabled:ft,children:"Cancel"}),b.jsx("button",{type:"submit",className:"btn btn-primary",disabled:ft,children:ft?"Sending...":"Send Message"})]})]})]})}),b.jsxs("section",{className:"card p-6 border-red-200",children:[b.jsxs("h2",{className:"text-lg font-semibold text-red-600 flex items-center gap-2 mb-2",children:[b.jsx(F0,{})," Danger Zone"]}),b.jsx("button",{className:"btn btn-danger",children:"Delete Account"}),b.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"This action is irreversible. Your data will be permanently deleted."})]}),g.text&&b.jsx("div",{className:`fixed bottom-4 right-4 p-4 rounded-md z-50 ${g.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:g.text})]})},mDe=()=>{const[n,e]=G.useState(""),[i,r]=G.useState(""),[o,l]=G.useState(""),[c,u]=G.useState(!1),[h,m]=G.useState(null),[g,y]=G.useState(!1),[v,_]=G.useState(null),[A,S]=G.useState("general"),[T,C]=G.useState("help"),N=async F=>{F.preventDefault(),u(!0),m(null),y(!1);try{const L=await fetch("https://bbixvnkqroskholbxkgj.supabase.co/functions/v1/send-support-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU"},body:JSON.stringify({email:n,subject:i,message:o,issueType:A,mode:T,userType:"supervisor"})}),z=await L.json();if(!L.ok)throw new Error(z.error||"Failed to send message");y(!0),e(""),r(""),l(""),S("general")}catch(L){m(L instanceof Error?L.message:"Failed to send message. Please try again later."),console.error("Error sending support message:",L)}finally{u(!1)}},I=[{id:"validation",question:"How do I validate EIT skills?",answer:"To validate an EIT's skills, navigate to the Validation Requests section. Here you can review their self-assessments and supporting experiences. For each skill, you can provide a score and feedback based on the evidence presented. Make sure to thoroughly review their documented experiences before making your assessment."},{id:"team",question:"How do I manage my EIT team?",answer:"The Team section allows you to view all your connected EITs, their progress, and pending requests. You can accept new EIT connections, view individual progress, and access detailed skill assessments for each team member. Regular check-ins and feedback are essential for effective team management."},{id:"reviews",question:"What should I look for in experience reviews?",answer:"When reviewing experiences, focus on the quality of the Situation-Action-Outcome (SAO) documentation. Look for clear descriptions of the situation, specific actions taken, and measurable outcomes. The experience should demonstrate clear competency in the associated skills and show professional growth."},{id:"progress",question:"How do I track team progress?",answer:"The Dashboard provides an overview of your team's progress, including completed skills, documented experiences, and validation status. You can view individual progress for each EIT and identify areas that need attention or additional support."},{id:"guidance",question:"How can I provide effective guidance?",answer:"Effective guidance involves regular communication, constructive feedback, and clear expectations. Use the platform's messaging features to maintain open communication, provide timely feedback on submissions, and help EITs understand how to improve their documentation and skill assessments."}],O=[{title:"Supervisor Guide",description:"Comprehensive guide to supervising EITs and using the platform effectively",icon:b.jsx(ox,{size:20}),link:"/resources/supervisor-guide"},{title:"Validation Guidelines",description:"Best practices for validating EIT skills and experiences",icon:b.jsx(Bm,{size:20}),link:"/resources/validation-guidelines"},{title:"Team Management",description:"Tips and strategies for effective EIT team management",icon:b.jsx(iA,{size:20}),link:"/resources/team-management"}];return b.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-8",children:[b.jsxs("div",{className:"text-center mb-8",children:[b.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Help & Support"}),b.jsx("p",{className:"text-slate-500 mt-2 text-lg",children:"Get help with managing and supporting your EIT team"}),b.jsx("div",{className:"mt-6 flex justify-center",children:b.jsxs("div",{className:"inline-flex rounded-lg border border-slate-200 p-1 bg-white",children:[b.jsxs("button",{onClick:()=>C("help"),className:`px-4 py-2 rounded-md text-sm font-medium flex items-center gap-2 ${T==="help"?"bg-teal-50 text-teal-700":"text-slate-600 hover:text-slate-900"}`,children:[b.jsx(B1,{size:16}),"Help"]}),b.jsxs("button",{onClick:()=>C("feedback"),className:`px-4 py-2 rounded-md text-sm font-medium flex items-center gap-2 ${T==="feedback"?"bg-teal-50 text-teal-700":"text-slate-600 hover:text-slate-900"}`,children:[b.jsx(O0,{size:16}),"Feedback"]})]})})]}),T==="help"?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"bg-teal-50 rounded-lg p-6 mb-8",children:[b.jsx("h2",{className:"text-xl font-semibold text-teal-800 mb-4",children:"Quick Access"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[b.jsxs("a",{href:"/dashboard/supervisor/team",className:"bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[b.jsx("h3",{className:"font-medium text-teal-700",children:"Team Management"}),b.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"View and manage your EIT team members"})]}),b.jsxs("a",{href:"/dashboard/supervisor/validation-requests",className:"bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[b.jsx("h3",{className:"font-medium text-teal-700",children:"Validation Requests"}),b.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Review and validate EIT skills and experiences"})]}),b.jsxs("a",{href:"/dashboard/supervisor/reviews",className:"bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[b.jsx("h3",{className:"font-medium text-teal-700",children:"Experience Reviews"}),b.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Review and provide feedback on EIT experiences"})]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[b.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Contact Support"}),b.jsxs("form",{onSubmit:N,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-1",children:"Your Email"}),b.jsx("input",{type:"email",id:"email",value:n,onChange:F=>e(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter your email",required:!0,disabled:c})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"issueType",className:"block text-sm font-medium text-slate-700 mb-1",children:"Issue Type"}),b.jsxs("select",{id:"issueType",value:A,onChange:F=>S(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",required:!0,disabled:c,children:[b.jsx("option",{value:"general",children:"General Inquiry"}),b.jsx("option",{value:"technical",children:"Technical Issue"}),b.jsx("option",{value:"validation",children:"Validation Process"}),b.jsx("option",{value:"team",children:"Team Management"}),b.jsx("option",{value:"other",children:"Other"})]})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-slate-700 mb-1",children:"Subject"}),b.jsx("input",{type:"text",id:"subject",value:i,onChange:F=>r(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"What's your question about?",required:!0,disabled:c})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-slate-700 mb-1",children:"Message"}),b.jsx("textarea",{id:"message",value:o,onChange:F=>l(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 min-h-[150px]",placeholder:"Describe your issue or question...",required:!0,disabled:c})]}),h&&b.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-md text-sm flex items-center gap-2",children:[b.jsx(M0,{size:16}),h]}),g&&b.jsx("div",{className:"p-3 bg-green-50 text-green-700 rounded-md text-sm",children:"Your message has been sent successfully. We'll get back to you soon!"}),b.jsx("button",{type:"submit",className:"btn btn-primary w-full flex items-center justify-center gap-2",disabled:c,children:c?b.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):b.jsxs(b.Fragment,{children:[b.jsx(a5,{size:18}),"Send Message"]})})]})]}),b.jsxs("div",{className:"space-y-8",children:[b.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Frequently Asked Questions"}),b.jsx("div",{className:"space-y-4",children:I.map(F=>b.jsxs("div",{className:"border-b border-slate-200 last:border-0 pb-4 last:pb-0",children:[b.jsxs("button",{className:"w-full flex items-center justify-between text-left",onClick:()=>_(v===F.id?null:F.id),children:[b.jsx("h3",{className:"font-medium text-slate-900",children:F.question}),v===F.id?b.jsx(c8,{size:20}):b.jsx(nA,{size:20})]}),v===F.id&&b.jsx("p",{className:"text-sm text-slate-600 mt-2",children:F.answer})]},F.id))})]}),b.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Helpful Resources"}),b.jsx("div",{className:"space-y-4",children:O.map((F,L)=>b.jsxs("a",{href:F.link,className:"flex items-start gap-3 p-3 rounded-lg hover:bg-slate-50 transition-colors",children:[b.jsx("div",{className:"text-teal-600 mt-1",children:F.icon}),b.jsxs("div",{children:[b.jsx("h3",{className:"font-medium text-slate-900",children:F.title}),b.jsx("p",{className:"text-sm text-slate-600 mt-1",children:F.description})]}),b.jsx(u8,{size:16,className:"text-slate-400 ml-auto mt-1"})]},L))})]})]})]})]}):b.jsx("div",{className:"max-w-2xl mx-auto",children:b.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Share Your Feedback"}),b.jsx("p",{className:"text-slate-600 mb-6",children:"We value your feedback as a supervisor! Let us know what you think about the platform, what's working well for your team, and what we can improve to better support your role."}),b.jsxs("form",{onSubmit:N,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-1",children:"Your Email"}),b.jsx("input",{type:"email",id:"email",value:n,onChange:F=>e(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter your email",required:!0,disabled:c})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-slate-700 mb-1",children:"Subject"}),b.jsx("input",{type:"text",id:"subject",value:i,onChange:F=>r(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Brief summary of your feedback",required:!0,disabled:c})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-slate-700 mb-1",children:"Your Feedback"}),b.jsx("textarea",{id:"message",value:o,onChange:F=>l(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 min-h-[200px]",placeholder:"Share your thoughts, suggestions, or concerns...",required:!0,disabled:c})]}),h&&b.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-md text-sm flex items-center gap-2",children:[b.jsx(M0,{size:16}),h]}),g&&b.jsx("div",{className:"p-3 bg-green-50 text-green-700 rounded-md text-sm",children:"Thank you for your feedback! We appreciate your input as a supervisor."}),b.jsx("button",{type:"submit",className:"btn btn-primary w-full flex items-center justify-center gap-2",disabled:c,children:c?b.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):b.jsxs(b.Fragment,{children:[b.jsx(a5,{size:18}),"Submit Feedback"]})})]})]})})]})};class gDe{async getTeamMembers(){return[]}async getPendingReviews(){return[]}async getTeamPerformance(){return[]}async getSupervisorStats(){return{totalTeamMembers:0,pendingReviews:0,completedReviews:0,averageTeamPerformance:0}}async submitReview(e,i,r){}async updateTeamMember(e,i){}async getCategoryAverages(e){const{data:i,error:r}=await(await pl(async()=>{const{supabase:o}=await Promise.resolve().then(()=>zD);return{supabase:o}},[])).supabase.rpc("get_supervisor_category_averages",{supervisor_uuid:e});if(r)throw new Error(`Supabase error: ${r.message}`);return i}}const bDe=new gDe,yDe=()=>{const[n,e]=G.useState([]),[i,r]=G.useState(!0),[o,l]=G.useState(!1),c=ys(),u=async(y,v,_=5)=>{try{console.log("🔄 Starting fetchActivities for supervisor:",y),r(!0);const{data:A,error:S}=await Re.from("skill_validations").select("id, validated_at, feedback, eit_id, skill_id, score, eit_profiles (full_name), skills (name)").eq("validator_id",y).order("validated_at",{ascending:!1}).limit(_);if(S)throw S;const{data:T,error:C}=await Re.from("sao_feedback").select("id, sao_id, feedback, status, updated_at, sao:saos (title), eit_profiles (full_name)").eq("supervisor_id",y).order("updated_at",{ascending:!1}).limit(_);if(C)throw C;const{data:N,error:I}=await Re.from("validators").select("id, updated_at, status, skill_id, eit_id, description, score, skills (name), eit_profiles (full_name)").eq("email",v).neq("status","pending").order("updated_at",{ascending:!1}).limit(_);if(I)throw I;const O=(L,z,B)=>Array.isArray(L)&&L.length>0&&typeof L[0][z]=="string"?L[0][z]:L&&typeof L[z]=="string"?L[z]:B,F=[...(A||[]).map(L=>{const z=O(L.skills,"name",L.skill_id),B=O(L.eit_profiles,"full_name",L.eit_id);return{id:L.id,type:"validation",title:`Validated "${z}" for ${B}`,timestamp:L.validated_at?String(L.validated_at):"",eitName:B,eitId:L.eit_id,status:L.score?`Score: ${L.score}`:void 0}}),...(T||[]).map(L=>{const z=O(L.sao,"title",L.sao_id),B=O(L.eit_profiles,"full_name","");return{id:L.id,type:"feedback",title:`Provided SAO feedback for "${z}"`,timestamp:L.updated_at?String(L.updated_at):"",eitName:B,eitId:void 0,status:L.status}}),...(N||[]).map(L=>{const z=O(L.skills,"name",L.skill_id),B=O(L.eit_profiles,"full_name",L.eit_id);return{id:L.id,type:"validation",title:`Scored "${z}" for ${B}`,timestamp:L.updated_at?String(L.updated_at):"",eitName:B,eitId:L.eit_id,status:L.score?`Score: ${L.score}`:L.status}})].sort((L,z)=>new Date(z.timestamp).getTime()-new Date(L.timestamp).getTime()).slice(0,_);e(F)}catch(A){console.error("❌ Error in fetchActivities:",A),e([])}finally{r(!1)}};G.useEffect(()=>((async()=>{try{const{data:{user:v}}=await Re.auth.getUser();if(!v){console.error("❌ No authenticated user found");return}await u(v.id,v.email||"")}catch(v){console.error("❌ Error setting up subscriptions:",v)}})(),()=>{}),[]);const h={approval:b.jsx(Bm,{size:16,className:"text-green-500"}),feedback:b.jsx(O0,{size:16,className:"text-blue-500"}),validation:b.jsx(nve,{size:16,className:"text-purple-500"}),review:b.jsx(GM,{size:16,className:"text-amber-500"}),comment:b.jsx(O0,{size:16,className:"text-indigo-500"})},m=y=>{const v=new Date(y),A=new Date().getTime()-v.getTime(),S=Math.floor(A/(1e3*60)),T=Math.floor(A/(1e3*60*60)),C=Math.floor(A/(1e3*60*60*24));return S<5?"Just now":S<30?`${Math.floor(S/5)*5} minutes ago`:T<1?"30 minutes ago":T===1?"1 hour ago":T<24?`${T} hours ago`:C===1?"1 day ago":`${C} days ago`},g=y=>{y.type==="feedback"?c(`/supervisor/saos?saoId=${y.id}`):y.type==="validation"?c(`/supervisor/validations?validationId=${y.id}`):y.type==="review"&&c(`/supervisor/reviews?experienceId=${y.id}`)};return i?b.jsx("div",{className:"space-y-4",children:[...Array(3)].map((y,v)=>b.jsxs("div",{className:"flex items-start space-x-3 animate-pulse",children:[b.jsx("div",{className:"p-2 rounded-full bg-slate-200 mt-0.5 w-8 h-8"}),b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"h-4 bg-slate-200 rounded w-3/4 mb-2"}),b.jsx("div",{className:"h-3 bg-slate-200 rounded w-1/4"})]})]},v))}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"space-y-4",children:[n.length>0?n.slice(0,5).map(y=>b.jsxs("div",{className:"flex items-start space-x-3",children:[b.jsx("div",{className:"p-2 rounded-full bg-slate-100 mt-0.5",children:h[y.type]}),b.jsxs("div",{className:"flex-1",children:[b.jsx("p",{className:"text-sm text-slate-800",children:y.title}),b.jsxs("div",{className:"flex items-center mt-1",children:[y.eitName&&b.jsx("span",{className:"text-xs font-medium text-slate-700 mr-2",children:y.eitName}),b.jsx("span",{className:"text-xs text-slate-500",children:m(y.timestamp)})]})]}),b.jsx("button",{className:"ml-2 px-3 py-1 text-xs bg-amber-100 text-amber-700 hover:bg-amber-200",onClick:()=>g(y),children:"View"})]},y.id)):b.jsx("div",{className:"text-center py-4 text-slate-500",children:"No recent activities"}),b.jsx("button",{className:"w-full text-center py-2 text-lg text-teal-600 hover:underline font-medium",onClick:()=>l(!0),children:"View more activities"})]}),o&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl mx-4 max-h-[80vh] overflow-hidden",children:[b.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Recent Activities"}),b.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-slate-100 rounded-lg",children:b.jsx(zs,{size:20,className:"text-slate-500"})})]}),b.jsx("div",{className:"p-4 overflow-y-auto max-h-[calc(80vh-4rem)]",children:b.jsx("div",{className:"space-y-4",children:n.map(y=>b.jsxs("div",{className:"flex items-start space-x-3",children:[b.jsx("div",{className:"p-2 rounded-full bg-slate-100 mt-0.5",children:h[y.type]}),b.jsxs("div",{className:"flex-1",children:[b.jsx("p",{className:"text-sm text-slate-800",children:y.title}),b.jsxs("div",{className:"flex items-center mt-1",children:[y.eitName&&b.jsx("span",{className:"text-xs font-medium text-slate-700 mr-2",children:y.eitName}),b.jsx("span",{className:"text-xs text-slate-500",children:m(y.timestamp)})]})]}),b.jsx("button",{className:"ml-2 px-3 py-1 text-xs bg-amber-100 text-amber-700 hover:bg-amber-200",onClick:()=>{g(y),l(!1)},children:"View"})]},y.id))})})]})})]})},vDe=()=>{const[n,e]=G.useState(!1),[i,r]=G.useState([]),[o,l]=G.useState(!0);G.useEffect(()=>{(async()=>{const m=new Date,g=m.getDay();if(g===1||g===2&&c(m)){const v=localStorage.getItem("lastDigestShown"),_=m.toDateString();v!==_&&(await u(),e(!0),localStorage.setItem("lastDigestShown",_))}})()},[]);const c=h=>{const m=new Date(h);m.setDate(m.getDate()-1);const g=m.getMonth(),y=m.getDate();return[{month:0,day:1},{month:0,day:15},{month:1,day:19},{month:4,day:27},{month:6,day:4},{month:8,day:2},{month:9,day:14},{month:10,day:11},{month:11,day:25}].some(_=>_.month===g&&_.day===y)},u=async()=>{try{const{data:{user:h}}=await Re.auth.getUser();if(!h)return;const{data:m,error:g}=await Re.from("supervisor_eit_relationships").select(`
          eit_profiles (
            id,
            full_name,
            email,
            start_date,
            target_date
          )
        `).eq("supervisor_id",h.id).eq("status","active");if(g)throw g;const y=await Promise.all(m.map(async v=>{const _=Array.isArray(v.eit_profiles)?v.eit_profiles[0]:v.eit_profiles;if(!_)return null;const{data:A}=await Re.from("skill_validations").select(`
              score,
              feedback,
              validated_at,
              skills (
                name
              )
            `).eq("eit_id",_.id).gte("validated_at",new Date(Date.now()-7*24*60*60*1e3).toISOString()).order("validated_at",{ascending:!1}),S=(A||[]).map(T=>({...T,skills:Array.isArray(T.skills)?T.skills[0]:T.skills}));return{eit:_,activities:S}}));r(y.filter(Boolean))}catch(h){console.error("Error fetching EIT activities:",h)}finally{l(!1)}};return n?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:b.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:b.jsxs("div",{className:"p-6",children:[b.jsxs("div",{className:"flex items-center justify-between mb-6",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(sE,{className:"h-6 w-6 text-teal-600"}),b.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Weekly EIT Progress Report"})]}),b.jsx("button",{onClick:()=>e(!1),className:"text-gray-400 hover:text-gray-500",children:b.jsx(zs,{className:"h-6 w-6"})})]}),o?b.jsxs("div",{className:"text-center py-8",children:[b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 mx-auto"}),b.jsx("p",{className:"mt-4 text-gray-600",children:"Loading weekly report..."})]}):b.jsx("div",{className:"space-y-6",children:i.map(({eit:h,activities:m})=>{const[g,y]=ai.useState(null),[v,_]=ai.useState(null),[A,S]=ai.useState(null),[T,C]=ai.useState(null),[N,I]=ai.useState(null),[O,F]=ai.useState("teal"),[L,z]=ai.useState("");return ai.useEffect(()=>{(async()=>{const{count:Y}=await Re.from("eit_skills").select("id",{count:"exact",head:!0}).eq("eit_id",h.id).not("rank","is",null),{count:se}=await Re.from("experiences").select("id",{count:"exact",head:!0}).eq("eit_id",h.id),{count:de}=await Re.from("experiences").select("id",{count:"exact",head:!0}).eq("eit_id",h.id).eq("supervisor_approved",!0),J=Y||0,be=se||0,q=de||0;_(J),S(be),C(q);const Te=J/22,ie=be/24,ce=q/24,X=Math.round((Te+ie+ce)/3*100);if(y(X),h.start_date&&h.target_date){const K=new Date,ne=new Date(h.start_date),ue=new Date(h.target_date).getTime()-ne.getTime(),Q=K.getTime()-ne.getTime();let fe=Math.max(0,Math.min(100,Math.round(Q/ue*100)));I(fe);const Se=X-fe;Se>5?(F("teal"),z("Ahead of schedule")):Se>=-5?(F("blue"),z("On track")):(F("red"),z("Behind schedule"))}})()},[h.id,h.start_date,h.target_date]),b.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 mb-6",children:[b.jsxs("div",{className:"flex justify-between items-start mb-4",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:h.full_name}),b.jsx("p",{className:"text-gray-500",children:h.email})]}),b.jsxs("div",{className:"text-right",children:[b.jsxs("p",{className:"text-sm text-gray-600",children:["Program Start: ",new Date(h.start_date).toLocaleDateString()]}),b.jsxs("p",{className:"text-sm text-gray-600",children:["Target: ",new Date(h.target_date).toLocaleDateString()]})]})]}),b.jsxs("div",{className:"mb-4",children:[b.jsxs("div",{className:"flex items-center justify-between mb-1",children:[b.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Overall Progress"}),b.jsx("span",{className:`text-sm font-semibold ${O==="teal"?"text-teal-600":O==="blue"?"text-blue-600":"text-red-600"}`,children:g!==null?`${g}%`:"--"})]}),b.jsx("div",{className:"h-2 bg-slate-100 rounded-full overflow-hidden max-w-xs w-full",children:b.jsx("div",{className:`h-full rounded-full transition-all duration-300 ${O==="teal"?"bg-teal-500":O==="blue"?"bg-blue-500":"bg-red-500"}`,style:{width:g!==null?`${g}%`:"0%"}})}),N!==null&&b.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 mt-1",children:[L," (Expected: ",N,"%)"]}),b.jsxs("div",{className:"flex gap-4 text-xs text-slate-500 mt-2",children:[b.jsxs("span",{children:["Skills: ",v!==null?v:"--","/22"]}),b.jsxs("span",{children:["Experiences: ",A!==null?A:"--","/24"]}),b.jsxs("span",{children:["Approvals: ",T!==null?T:"--","/24"]})]})]}),b.jsxs("div",{className:"mt-4",children:[b.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-3",children:"Recent Activities"}),m.length>0?b.jsx("div",{className:"space-y-3",children:m.map((B,Y)=>b.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsx("h5",{className:"font-medium text-gray-900",children:B.skills.name}),b.jsx("p",{className:"text-sm text-gray-500",children:new Date(B.validated_at).toLocaleDateString()})]}),b.jsxs("div",{className:"bg-teal-100 text-teal-800 px-3 py-1 rounded-full text-sm font-medium",children:["Score: ",B.score,"/5"]})]}),B.feedback&&b.jsxs("p",{className:"mt-2 text-sm text-gray-700",children:["Feedback: ",B.feedback]})]},Y))}):b.jsx("p",{className:"text-gray-500",children:"No recent activities"})]})]},h.id)})})]})})}):null},wDe=()=>{const{appLoaded:n}=IY(),[e,i]=G.useState(!0),[r,o]=G.useState([]),[l,c]=G.useState([]),[u,h]=G.useState({totalEITs:0,pendingReviews:0,completedReviews:0,averageTeamProgress:0}),[m,g]=G.useState("Supervisor"),[y,v]=G.useState(new Date().toISOString()),[_,A]=G.useState(!1),[S,T]=G.useState(0),[C,N]=G.useState(0),[I,O]=G.useState({}),[F,L]=G.useState([]),z=async()=>{try{A(!0);const{data:{user:de}}=await Re.auth.getUser();if(!de)return;const{data:J}=await Re.from("supervisor_profiles").select("full_name").eq("id",de.id).single();J&&J.full_name&&g(J.full_name);const{data:be,error:q}=await Re.from("supervisor_eit_relationships").select(`
          eit_id,
          eit_profiles (
            id,
            full_name,
            email
          )
        `).eq("supervisor_id",de.id).eq("status","active");if(q)throw q;const Te=be?be.map(X=>X.eit_profiles):[];console.log("DEBUG relationships:",be),console.log("DEBUG eitData:",Te),o(Te);const{count:ie}=await Re.from("validators").select("*",{count:"exact",head:!0}).eq("email",de.email).eq("status","pending");T(ie||0);const{count:ce}=await Re.from("sao_feedback").select("*",{count:"exact",head:!0}).eq("supervisor_id",de.id).eq("status","pending");if(N(ce||0),Te.length>0){const{data:X,error:K}=await Re.from("experiences").select("*").in("eit_id",Te.map(fe=>fe.id)).eq("supervisor_approved",!1);if(K)throw K;const{data:ne,error:ee}=await Re.from("experiences").select("*").in("eit_id",Te.map(fe=>fe.id)).eq("supervisor_approved",!0);if(ee)throw ee;h({totalEITs:Te.length,pendingReviews:S+C,completedReviews:(ne==null?void 0:ne.length)||0,averageTeamProgress:0});const{data:ue,error:Q}=await Re.from("experiences").select("*").in("eit_id",Te.map(fe=>fe.id)).order("created_at",{ascending:!1}).limit(5);if(Q)throw Q;c(ue||[])}else h({totalEITs:0,pendingReviews:0,completedReviews:0,averageTeamProgress:0}),c([]);try{const X=await bDe.getCategoryAverages(de.id);L(X)}catch(X){console.error("Error fetching category averages:",X),L([])}v(new Date().toISOString())}catch(de){console.error("Error fetching dashboard data:",de)}finally{i(!1),A(!1)}},B=async de=>{const J=await Promise.all(de.map(async be=>{const[q,Te,ie]=await Promise.all([Re.from("eit_skills").select("id",{count:"exact",head:!0}).eq("eit_id",be).not("rank","is",null),Re.from("experiences").select("id",{count:"exact",head:!0}).eq("eit_id",be),Re.from("experiences").select("id",{count:"exact",head:!0}).eq("eit_id",be).eq("supervisor_approved",!0)]),ce=q.count||0,X=Te.count||0,K=ie.count||0,ne=ce/22,ee=X/24,ue=K/24,Q=Math.round((ne+ee+ue)/3*100);return[be,Q]}));return O(Object.fromEntries(J)),J};G.useEffect(()=>{if(r.length>0){B(r.map(J=>J.id));const de=setInterval(()=>{B(r.map(J=>J.id))},3e4);return()=>clearInterval(de)}},[r]);const Y=r.length>0?Math.round(r.reduce((de,J)=>de+(I[J.id]||0),0)/r.length):0;G.useEffect(()=>{z()},[]);const se=de=>new Date(de).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return e&&n?b.jsx(kA,{}):b.jsxs("div",{className:"container mx-auto px-4 py-8",children:[b.jsx(vDe,{}),b.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[b.jsxs("div",{children:[b.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800 flex items-center gap-2",children:["Welcome back, ",m,"!",b.jsx("span",{className:"ml-2 px-2 py-0.5 rounded text-xs font-semibold bg-purple-100 text-purple-800",children:"SUPERVISOR"})]}),b.jsx("p",{className:"text-slate-500 mt-1",children:"Here's an overview of your team's progress"})]}),b.jsxs("div",{className:"flex items-center space-x-2 mt-4 md:mt-0",children:[b.jsxs("span",{className:"text-sm text-slate-500 flex items-center",children:[b.jsx(K0,{size:14,className:"mr-1"}),"Last updated: ",se(y)]}),b.jsx("button",{className:`btn btn-primary ${_?"opacity-75 cursor-not-allowed":""}`,onClick:z,disabled:_,children:_?"Refreshing...":"Refresh"})]})]}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[b.jsxs("div",{className:"bg-white rounded-2xl shadow p-6 flex flex-col gap-4 min-w-[220px]",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("span",{className:"font-semibold text-lg text-slate-800",children:"Team Progress"}),b.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-bold bg-teal-50 text-teal-600",children:[Y,"%"]})]}),b.jsx("div",{className:"w-full h-2 rounded bg-slate-100",children:b.jsx("div",{className:"h-full rounded bg-teal-500 transition-all duration-700",style:{width:`${Y}%`}})}),b.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Average team completion rate"})]}),b.jsxs("div",{className:"bg-white rounded-2xl shadow p-6 flex flex-col gap-4 min-w-[220px]",children:[b.jsx("div",{className:"flex items-center justify-between",children:b.jsx("span",{className:"font-semibold text-lg text-slate-800",children:"Total EITs"})}),b.jsx("span",{className:"block text-3xl font-extrabold text-slate-900 leading-tight",children:u.totalEITs}),b.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"EITs under your supervision"})]}),b.jsxs("div",{className:"bg-white rounded-2xl shadow p-6 flex flex-col gap-4 min-w-[220px]",children:[b.jsx("div",{className:"flex items-center justify-between",children:b.jsx("span",{className:"font-semibold text-lg text-slate-800",children:"Pending Reviews"})}),b.jsx("span",{className:"block text-3xl font-extrabold text-slate-900 leading-tight",children:S+C}),b.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Validations: ",S,", SAOs: ",C]})]}),b.jsxs("div",{className:"bg-white rounded-2xl shadow p-6 flex flex-col gap-4 min-w-[220px]",children:[b.jsx("div",{className:"flex items-center justify-between",children:b.jsx("span",{className:"font-semibold text-lg text-slate-800",children:"Completed Reviews"})}),b.jsx("span",{className:"block text-3xl font-extrabold text-slate-900 leading-tight",children:u.completedReviews}),b.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Reviews completed"})]})]}),F.length>0&&b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mb-8",children:F.map(de=>{var J;return b.jsxs("div",{className:"bg-white rounded-2xl shadow p-6 flex flex-col gap-2 min-w-[220px]",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("span",{className:"font-semibold text-lg text-slate-800",children:de.category}),b.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-bold bg-blue-50 text-blue-600",children:((J=de.average_score)==null?void 0:J.toFixed(2))??"0.00"})]}),b.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Avg. self-score (from ",de.num_eits," EIT",de.num_eits!==1?"s":"",")"]})]},de.category)})}),r.length>0&&b.jsx("div",{className:"card mb-8",children:b.jsxs("div",{className:"p-6",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Team Members"}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:r.map(de=>b.jsxs("div",{className:"border-b border-gray-200 pb-4 last:border-0",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),b.jsx("p",{className:"font-medium",children:de.full_name})]}),b.jsxs("div",{className:"mt-2",children:[b.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),b.jsx("p",{className:"font-medium",children:de.email})]})]},de.id))})]})}),b.jsx("div",{className:"bg-white rounded-2xl shadow-sm hover:shadow-md transition-shadow duration-300",children:b.jsxs("div",{className:"p-6",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4 text-[#2C3E50]",children:"Recent Activities"}),b.jsx(yDe,{})]})})]})},xDe=wDe;let bR=!1;const _De=()=>{var n,e,i,r,o,l,c,u;if(!bR)try{bR=!0,(e=(n=oE.getState()).clearState)==null||e.call(n),(r=(i=wf.getState()).clearState)==null||r.call(i),(l=(o=oA.getState()).clearState)==null||l.call(o),(u=(c=gJ.getState()).clearState)==null||u.call(c)}finally{bR=!1}},kDe=()=>{const[n,e]=G.useState(!0),[i,r]=G.useState(null),[o,l]=G.useState(null),c=ys(),u=G.useCallback(async()=>{try{e(!0),r(null);const{data:{user:h},error:m}=await Re.auth.getUser();if(m)throw new Error(`Authentication error: ${m.message}`);if(!h)throw new Error("No authenticated user found");const[g,y]=await Promise.all([Re.from("eit_profiles").select("account_type").eq("id",h.id).single(),Re.from("supervisor_profiles").select("account_type").eq("id",h.id).single()]);if(g.error&&y.error)throw new Error("Failed to fetch user profiles");if(y.data)l("supervisor"),c("/dashboard/supervisor",{replace:!0});else if(g.data)l("eit"),c("/dashboard",{replace:!0});else throw new Error("No profile found for user")}catch(h){const m=h instanceof Error?h.message:"An unexpected error occurred";r(m),console.error("Error checking user role:",h),c("/login")}finally{e(!1)}},[c]);return G.useEffect(()=>{u();const{data:{subscription:h}}=Re.auth.onAuthStateChange(m=>{m==="SIGNED_OUT"?(_De(),c("/login")):m==="SIGNED_IN"&&u()});return()=>{h.unsubscribe()}},[u,c]),n?b.jsx(kA,{}):i?b.jsx("div",{className:"flex items-center justify-center min-h-screen",children:b.jsxs("div",{className:"text-red-500 text-center",children:[b.jsxs("p",{children:["Error: ",i]}),b.jsx("button",{onClick:()=>c("/login"),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Return to Login"})]})}):null},lG=bc(n=>({loading:!1,startWriting:async()=>{n({loading:!0});try{const{data:e}=await Re.from("eit_skills").select("*").eq("status","completed"),i=await fetch("https://bbixvnkqroskholbxkgj.supabase.co/functions/v1/generate-essay",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU","Content-Type":"application/json"},body:JSON.stringify({skills:e,experiences:[]})});if(!i.ok)throw new Error("Failed to generate essay");const{essay:r}=await i.json();await Re.from("essays").insert({title:"AI Generated Essay",content:r,ai_generated:!0})}finally{n({loading:!1})}}}));class EDe extends ai.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,i){}render(){return this.state.hasError?b.jsxs("div",{className:"p-8 text-center",children:[b.jsx("h2",{className:"text-2xl font-bold text-red-600",children:"Something went wrong."}),b.jsx("pre",{className:"mt-4 text-sm text-slate-700",children:String(this.state.error)})]}):this.props.children}}const cG=ai.lazy(()=>pl(()=>import("./ProgressCard-m1tR0k0j.js"),[])),SDe=ai.lazy(()=>pl(()=>import("./RecentActivities-DohcIxyt.js"),[]));ai.lazy(()=>pl(()=>import("./UpcomingDeadlines-BjGJDIrb.js"),[]));const ADe=ai.lazy(()=>pl(()=>import("./SkillsOverview-liTBgqOc.js"),[])),TDe=()=>{ys();const{appLoaded:n}=IY(),[e,i]=G.useState(""),[r,o]=G.useState(null),{overallProgress:l,completedSkills:c,totalSkills:u,documentedExperiences:h,totalExperiences:m,supervisorApprovals:g,totalApprovals:y,lastUpdated:v,loading:_,updateProgress:A,initialize:S}=oE();lG(Q=>Q.startWriting),lG(Q=>Q.loading);const T=wf(Q=>Q.loadUserSkills),{saos:C,loading:N,loadUserSAOs:I}=oA(),[O,F]=G.useState(null),[L,z]=G.useState([]),[B,Y]=G.useState(!1);console.log("Google Client ID (from import.meta.env):","521009491275-0m5p9k9vm29fc1v6v91f9k25v4godaem.apps.googleusercontent.com");const[de,J]=G.useState(!0),[be,q]=G.useState(!1),[Te,ie]=G.useState(null);G.useEffect(()=>{(async()=>{var fe;try{const{data:{user:Se}}=await Re.auth.getUser();if(!Se)return;(fe=Se.user_metadata)!=null&&fe.full_name&&i(Se.user_metadata.full_name);const[Oe,Ie,je,Be,Fe]=await Promise.all([Re.from("eit_profiles").select("id, start_date, target_date").eq("id",Se.id).single(),Re.from("supervisor_profiles").select("id").eq("id",Se.id).single(),T(),S(),C.length===0&&!N?I():Promise.resolve()]);Ie.data?o("supervisor"):Oe.data&&o("eit"),ie({eitProfile:Oe.data,supervisorProfile:Ie.data})}catch(Se){console.error("Error initializing dashboard data:",Se)}finally{J(!1)}})()},[T,S,C.length,N,I]),G.useEffect(()=>{O&&(Y(!0),fetch("https://www.googleapis.com/calendar/v3/calendars/primary/events?maxResults=5&orderBy=startTime&singleEvents=true&timeMin="+new Date().toISOString(),{headers:{Authorization:`Bearer ${O}`}}).then(Q=>Q.json()).then(Q=>{z(Q.items||[])}).catch(()=>z([])).finally(()=>Y(!1)))},[O]);const ce=C.filter(Q=>Q.status==="complete"),X=[{title:"Overall Progress",value:l,description:l>=75?"Excellent progress!":l>=50?"Good progress!":l>=25?"Keep going!":"Just getting started!",color:"teal"},{title:"Completed Skills",value:c,total:u,description:`${u-c} skills remaining to complete`,color:"blue"},{title:"Completed SAOs",value:ce.length,total:24,description:`${24-ce.length} SAOs remaining to complete`,color:"indigo"}];let K=null,ne="teal",ee="";if(r==="eit"&&(Te!=null&&Te.eitProfile)){const{start_date:Q,target_date:fe}=Te.eitProfile;if(Q&&fe){const Se=new Date,Oe=new Date(Q),je=new Date(fe).getTime()-Oe.getTime(),Be=Se.getTime()-Oe.getTime();let Fe=Math.max(0,Math.min(100,Math.round(Be/je*100)));K=Fe;const Ae=l-Fe;Ae>0?(ne="teal",ee="You are ahead of schedule!"):Ae>=-5?(ne="blue",ee="You are on track!"):(ne="purple",ee="You are behind schedule.")}}const ue=Q=>new Date(Q).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return de&&n?b.jsx(kA,{}):b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[b.jsxs("div",{children:[b.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800 flex items-center gap-2",children:["Welcome back, ",e||"Engineer","!",r&&b.jsx("span",{className:`ml-2 px-2 py-0.5 rounded text-xs font-semibold
                  ${r==="eit"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:r==="eit"?"EIT":"Supervisor"})]}),b.jsx("p",{className:"text-slate-500 mt-1",children:r==="eit"?"Here's an overview of your EIT progress":"Here's an overview of your team's progress"})]}),b.jsxs("div",{className:"flex items-center space-x-2 mt-4 md:mt-0",children:[b.jsxs("span",{className:"text-sm text-slate-500 flex items-center",children:[b.jsx(K0,{size:14,className:"mr-1"}),"Last updated: ",ue(v)]}),b.jsx("button",{className:`btn btn-primary ${be?"opacity-75 cursor-not-allowed":""}`,onClick:async()=>{if(!be){q(!0);try{await Promise.all([T(),A(!0),I()])}catch(Q){console.error("Error refreshing dashboard:",Q)}finally{q(!1)}}},disabled:be,children:be?"Refreshing...":"Refresh"})]})]}),b.jsx(G.Suspense,{fallback:b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(3)].map((Q,fe)=>b.jsx("div",{className:"card animate-pulse h-32"},fe))}),children:b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[b.jsx(cG,{title:"Overall Progress",value:l,total:100,description:r==="eit"&&K!==null?`${ee} (Expected: ${K}%)`:l>=75?"Excellent progress!":l>=50?"Good progress!":l>=25?"Keep going!":"Just getting started!",color:r==="eit"&&K!==null?ne:"teal"}),X.slice(1).map((Q,fe)=>b.jsx(cG,{...Q},fe))]})}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[b.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[b.jsxs("div",{className:"card",children:[b.jsx("div",{className:"flex justify-between items-center mb-4",children:b.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[b.jsx(sE,{size:18,className:"mr-2 text-teal-600"}),"Recent Activities"]})}),b.jsx(G.Suspense,{fallback:b.jsx("div",{className:"p-6 text-center text-slate-400",children:"Loading activities..."}),children:b.jsx(SDe,{})})]}),b.jsx("div",{className:"card",children:b.jsx("div",{className:"flex justify-between items-center mb-4",children:b.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[b.jsx(T3,{size:18,className:"mr-2 text-teal-600"}),"Upcoming Deadlines"]})})})]}),b.jsx("div",{className:"space-y-6",children:r==="eit"&&b.jsx(G.Suspense,{fallback:b.jsx("div",{className:"card animate-pulse h-32"}),children:b.jsx(ADe,{})})})]})]})};function CDe(){return b.jsx(EDe,{children:b.jsx(TDe,{})})}const DDe=()=>{const[n,e]=G.useState(null),[i,r]=G.useState(!0),o=ys();return G.useEffect(()=>{(async()=>{r(!0);const{data:{user:c}}=await Re.auth.getUser();if(!c){o("/login");return}const{data:u}=await Re.from("supervisor_profiles").select("id").eq("id",c.id).single();u?o("/dashboard/supervisor",{replace:!0}):e("eit"),r(!1)})()},[o]),i?b.jsx(kA,{}):n==="eit"?b.jsx(CDe,{}):null},NDe={"1.1 Regulations, Codes & Standards":"Demonstrates knowledge and application of relevant regulations, codes, standards, and safety requirements in engineering practice. This includes identifying which standards apply to a given project, ensuring compliance, and keeping up to date with changes in the regulatory environment. Example: Ensuring a design meets all applicable building codes and safety standards.","1.2 Technical & Design Constraints":"Understands and works within technical and design constraints, including limitations of materials, processes, and systems. Able to identify constraints early in the design process and adapt solutions accordingly. Example: Designing a bridge that meets both load requirements and material limitations.","1.3 Risk Management for Technical Work":"Identifies, assesses, and manages risks associated with technical work. This includes conducting risk assessments, implementing mitigation strategies, and monitoring risk throughout the project lifecycle. Example: Performing a hazard analysis for a new manufacturing process.","1.4 Application of Theory":"Applies engineering theory and principles to solve practical problems. Demonstrates the ability to use theoretical knowledge in real-world situations. Example: Using fluid dynamics equations to design a piping system.","1.5 Solution Techniques – Results Verification":"Selects and applies appropriate solution techniques and verifies results for accuracy and reliability. Example: Double-checking calculations and using simulation software to validate a design.","1.6 Safety in Design & Technical Work":"Prioritizes safety in all aspects of design and technical work. Identifies potential hazards and incorporates safety measures into engineering solutions. Example: Designing a machine with proper guarding to prevent operator injury.","1.7 Systems & Their Components":"Understands how systems and their components interact. Able to analyze and optimize system performance. Example: Evaluating the impact of a new component on an existing electrical system.","1.8 Project or Asset Life-Cycle Awareness":"Considers the entire life cycle of a project or asset, from conception to decommissioning. Example: Selecting materials that minimize maintenance costs over the lifespan of a product.","1.9 Quality Assurance":"Implements quality assurance processes to ensure deliverables meet required standards. Example: Developing and following a quality control checklist for a construction project.","1.10 Engineering Documentation":"Prepares clear, accurate, and comprehensive engineering documentation. Example: Writing detailed reports, specifications, and drawings that can be understood by others.","2.1 Oral Communication (English)":"Communicates effectively in spoken English with colleagues, clients, and stakeholders. Example: Leading a project meeting or presenting technical information to a non-technical audience.","2.2 Written Communication (English)":"Communicates effectively in written English, producing clear and concise reports, emails, and documentation. Example: Writing a technical report or project proposal.","2.3 Reading & Comprehension (English)":"Reads and comprehends technical documents, standards, and instructions in English. Example: Interpreting a complex engineering standard or technical manual.","3.1 Project Management Principles":"Applies project management principles to plan, execute, and close projects successfully. Example: Creating a project schedule, managing resources, and tracking progress.","3.2 Finances & Budget":"Manages project finances and budgets, including cost estimation, tracking, and reporting. Example: Preparing a project budget and monitoring expenses to stay within limits.","4.1 Promote Team Effectiveness & Resolve Conflict":"Demonstrates the ability to work effectively in teams, resolve conflicts, and promote collaboration. Example: Facilitating a team meeting to resolve technical disagreements and reach consensus.","5.1 Professional Accountability (Ethics, Liability, Limits)":"Understands and applies professional ethics, legal responsibilities, and limitations in engineering practice. Example: Making decisions that prioritize public safety and environmental protection while considering legal implications.","6.1 Protection of the Public Interest":"Prioritizes public safety, health, and welfare in engineering decisions and actions. Example: Ensuring a design meets all safety requirements and minimizes potential risks to the public.","6.2 Benefits of Engineering to the Public":"Understands and communicates how engineering solutions benefit society and improve quality of life. Example: Explaining how a new infrastructure project will improve community access and safety.","6.3 Role of Regulatory Bodies":"Understands the role and importance of regulatory bodies in engineering practice. Example: Working with building inspectors to ensure compliance with local regulations.","6.4 Application of Sustainability Principles":"Applies sustainability principles to engineering solutions, considering environmental, social, and economic impacts. Example: Designing a building with energy-efficient systems and sustainable materials.","6.5 Promotion of Sustainability":"Actively promotes and implements sustainable practices in engineering work. Example: Leading initiatives to reduce waste and energy consumption in manufacturing processes."},Jie=G.memo(({skill:n,skillRef:e})=>{const[i,r]=G.useState(!1);return b.jsxs(b.Fragment,{children:[b.jsxs("div",{ref:e,className:"flex items-center justify-between p-3 rounded-lg border hover:border-slate-300 hover:bg-slate-50 transition-colors",children:[b.jsx("span",{className:"font-medium",children:n.name}),b.jsx("button",{className:"p-2 rounded-full text-blue-500 hover:bg-blue-50",onClick:()=>r(!0),title:"More Info",children:b.jsx(HM,{size:18})})]}),i&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full relative",children:[b.jsx("button",{className:"absolute top-2 right-2 text-slate-400 hover:text-slate-600",onClick:()=>r(!1),children:"×"}),b.jsx("h3",{className:"text-lg font-semibold mb-2",children:n.name}),b.jsx("p",{className:"text-slate-700 text-base",children:NDe[n.name]||"No summary available for this skill."})]})})]})});G.memo(({category:n})=>b.jsxs("div",{className:"card",children:[b.jsx("div",{className:"flex justify-between items-center mb-4",children:b.jsx("h2",{className:"text-lg font-semibold",children:n.name})}),b.jsx("div",{className:"space-y-3",children:n.skills.map(e=>b.jsx(Jie,{skill:e},e.id))})]}));const PDe=()=>{const{skillCategories:n,loadUserSkills:e,loading:i,error:r}=wf(),o=G.useRef({}),[l,c]=G.useState({}),[u,h]=G.useState({});ys();const m=jd(),g=["#14b8a6","#3b82f6","#6366f1","#a21caf","#ec4899","#22c55e"];G.useEffect(()=>{async function v(){await e(),await y()}v()},[e,m]),G.useEffect(()=>{const v=_=>{const{skillId:A,timestamp:S}=_.detail;setTimeout(()=>{const T=o.current[A];T&&(T.scrollIntoView({behavior:"smooth",block:"center"}),T.classList.add("ring","ring-teal-400","highlight-item"),setTimeout(()=>T.classList.remove("ring","ring-teal-400","highlight-item"),1500))},100)};return window.addEventListener("scroll-to-skill",v),()=>window.removeEventListener("scroll-to-skill",v)},[]);const y=async()=>{try{const{data:{user:v}}=await Re.auth.getUser();if(!v)return;const{data:_,error:A}=await Re.from("supervisor_eit_relationships").select("eit_id").eq("supervisor_id",v.id);if(A)throw A;const S=_.map(O=>O.eit_id),{data:T,error:C}=await Re.from("eit_skills").select("*").in("eit_id",S);if(C)throw C;const N={};n.forEach(O=>{N[O.name]={eitSelfScores:[],supervisorScores:[],completed:0,total:O.skills.length*S.length,eitCount:S.length}}),T.forEach(O=>{const F=n.find(L=>L.skills.some(z=>z.id===O.skill_id));F&&(O.rank!==null&&O.rank!==void 0&&N[F.name].eitSelfScores.push(O.rank),O.supervisor_score!==null&&O.supervisor_score!==void 0&&(N[F.name].supervisorScores.push(O.supervisor_score),N[F.name].completed+=1))});const I={};Object.entries(N).forEach(([O,F])=>{const L=F.eitSelfScores.reduce((se,de)=>se+de,0),z=F.eitSelfScores.length,B=F.supervisorScores.reduce((se,de)=>se+de,0),Y=F.supervisorScores.length;I[O]={eitSelfAvg:z>0?Number((L/z).toFixed(2)):0,supervisorAvg:Y>0?Number((B/Y).toFixed(2)):0,completionRate:F.total>0?Number((F.completed/F.total*100).toFixed(1)):0}}),h(I)}catch(v){console.error("Error calculating category averages:",v)}};return G.useEffect(()=>{y()},[]),b.jsxs("div",{className:"space-y-6",children:[b.jsx("div",{className:"flex items-center justify-between",children:b.jsxs("h1",{className:"text-2xl font-semibold text-slate-900 flex items-center",children:[b.jsx(T3,{size:24,className:"mr-2 text-teal-600"}),"Skills"]})}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:n.map((v,_)=>{const A=u[v.name]||{eitSelfAvg:0,supervisorAvg:0},S=g[_%g.length];return b.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4",children:[b.jsx("div",{className:"flex justify-between items-center mb-2",children:b.jsx("h3",{className:"font-medium text-slate-900 text-lg",children:v.name})}),b.jsxs("div",{className:"space-y-5",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("span",{className:"w-40 text-base font-semibold",children:"Average EIT Self Score"}),b.jsx("div",{className:"w-10 flex-shrink-0 flex justify-center",children:b.jsxs("div",{className:"w-9 h-9 rounded-full flex items-center justify-center bg-slate-100 text-slate-800 text-sm font-bold border border-slate-200",children:[Math.round(A.eitSelfAvg/5*100),"%"]})}),b.jsx("div",{className:"flex-1",children:b.jsx("div",{className:"w-full max-w-[160px] bg-slate-200 rounded-full h-2",children:b.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${A.eitSelfAvg/5*100}%`,background:S}})})}),b.jsxs("div",{className:"w-14 text-xs text-slate-500 text-right",children:[A.eitSelfAvg.toFixed(2),"/5.0"]})]}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("span",{className:"w-40 text-base font-semibold",children:"Average Supervisor Score"}),b.jsx("div",{className:"w-10 flex-shrink-0 flex justify-center",children:b.jsxs("div",{className:"w-9 h-9 rounded-full flex items-center justify-center bg-slate-100 text-slate-800 text-sm font-bold border border-slate-200",children:[Math.round(A.supervisorAvg/5*100),"%"]})}),b.jsx("div",{className:"flex-1",children:b.jsx("div",{className:"w-full max-w-[160px] bg-slate-200 rounded-full h-2",children:b.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${A.supervisorAvg/5*100}%`,background:S}})})}),b.jsxs("div",{className:"w-14 text-xs text-slate-500 text-right",children:[A.supervisorAvg.toFixed(2),"/5.0"]})]})]})]},v.name)})}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Skills & Competencies"}),b.jsx("p",{className:"text-slate-500 mt-1",children:"View the EIT program competencies"})]}),r&&b.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:b.jsxs("div",{className:"flex items-start gap-2",children:[b.jsx(a8,{size:18,className:"text-red-600 mt-0.5 flex-shrink-0"}),b.jsx("p",{className:"text-sm text-red-800",children:r})]})}),i?b.jsx("div",{className:"flex items-center justify-center py-12",children:b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):b.jsx("div",{className:"space-y-6",children:n.map(v=>b.jsxs("div",{className:"card",children:[b.jsx("div",{className:"flex justify-between items-center mb-4",children:b.jsx("h2",{className:"text-lg font-semibold",children:v.name})}),b.jsx("div",{className:"space-y-3",children:v.skills.map(_=>b.jsx(Jie,{skill:_,skillRef:A=>o.current[_.id]=A},_.id))})]},v.name))})]})},IDe=n=>{G.useEffect(()=>{const e=[];return n.forEach(({table:i,filter:r,callback:o})=>{const l=Re.channel(`${i}_changes`).on("postgres_changes",{event:"*",schema:"public",table:i,filter:r},c=>{o(c)}).subscribe();e.push(l)}),()=>{e.forEach(i=>{Re.removeChannel(i)})}},[n])},jDe=bc(n=>({supervisorReviews:[],saoFeedback:[],relationships:[],userSkills:[],addSupervisorReview:e=>n(i=>({supervisorReviews:[...i.supervisorReviews,e]})),updateSupervisorReview:e=>n(i=>({supervisorReviews:i.supervisorReviews.map(r=>r.id===e.id?e:r)})),removeSupervisorReview:e=>n(i=>({supervisorReviews:i.supervisorReviews.filter(r=>r.id!==e)})),addSaoFeedback:e=>n(i=>({saoFeedback:[...i.saoFeedback,e]})),updateSaoFeedback:e=>n(i=>({saoFeedback:i.saoFeedback.map(r=>r.id===e.id?e:r)})),removeSaoFeedback:e=>n(i=>({saoFeedback:i.saoFeedback.filter(r=>r.id!==e)})),updateRelationship:e=>n(i=>({relationships:i.relationships.map(r=>r.id===e.id?e:r)})),updateUserSkill:e=>n(i=>({userSkills:i.userSkills.map(r=>r.id===e.id?e:r)}))})),RDe=({userId:n})=>{const{addSupervisorReview:e,updateSupervisorReview:i,addSaoFeedback:r,updateSaoFeedback:o,updateRelationship:l,updateUserSkill:c}=jDe(),{supervisorReviews:u,saoFeedback:h,relationships:m,userSkills:g}=vJ();return IDe([{table:"supervisor_reviews",filter:`eit_id=eq.${n}`,callback:y=>{u&&(y.eventType==="INSERT"?(e(y.new),vd.success("New review received!")):y.eventType==="UPDATE"&&(i(y.new),vd.success("Review updated!")))}},{table:"sao_feedback",filter:`sao_id=in.(select id from saos where user_id=eq.${n})`,callback:y=>{h&&(y.eventType==="INSERT"?(r(y.new),vd.success("New SAO feedback received!")):y.eventType==="UPDATE"&&(o(y.new),vd.success("SAO feedback updated!")))}},{table:"supervisor_eit_relationships",filter:`eit_id=eq.${n}`,callback:y=>{m&&y.eventType==="UPDATE"&&(l(y.new),vd.success("Relationship status updated!"))}},{table:"user_skills",filter:`user_id=eq.${n}`,callback:y=>{g&&y.eventType==="UPDATE"&&(c(y.new),vd.success("Skill status updated!"))}}]),null};function MDe(){const[n,e]=G.useState(null),[i,r]=G.useState(!0),o=oE(m=>m.initialize),l=oE(m=>m.setupRealtimeSubscriptions),c=wf(m=>m.loadUserSkills),u=N3(m=>m.initialize),h=async()=>{try{console.log("Starting app initialization..."),await c(),console.log("Skills loaded successfully"),await o(),console.log("Progress initialized successfully"),await l(),console.log("Realtime subscriptions set up successfully"),await u(),console.log("Notifications initialized successfully")}catch(m){console.error("Error initializing app:",m)}};return G.useEffect(()=>{console.log("Checking for existing session..."),Re.auth.getSession().then(({data:{session:g}})=>{console.log("Session check result:",g?"Session found":"No session"),e(g),r(!1),g&&(console.log("Session found, initializing app..."),h())});const{data:{subscription:m}}=Re.auth.onAuthStateChange((g,y)=>{console.log("Auth state changed:",g,y?"Session present":"No session"),e(y),y&&(console.log("New session detected, initializing app..."),h())});return()=>m.unsubscribe()},[o,l,c]),G.useEffect(()=>{const m="accreda_last_tab_close",y=localStorage.getItem(m);if(y){const _=parseInt(y,10);!isNaN(_)&&Date.now()-_>18e5&&Re.auth.signOut().then(()=>{e(null)})}const v=()=>{localStorage.setItem(m,Date.now().toString())};return window.addEventListener("beforeunload",v),()=>{window.removeEventListener("beforeunload",v)}},[]),i?b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"})}):b.jsxs(b.Fragment,{children:[n&&b.jsx(RDe,{userId:n.user.id}),b.jsx(tke,{position:"top-right"}),b.jsxs(_he,{children:[b.jsx(Si,{path:"/",element:n?b.jsx(kDe,{}):b.jsx(QCe,{})}),b.jsx(Si,{path:"/login",element:n?b.jsx(_v,{to:"/dashboard"}):b.jsx(Rye,{})}),b.jsx(Si,{path:"/signup",element:n?b.jsx(_v,{to:"/dashboard"}):b.jsx(Mye,{})}),b.jsx(Si,{path:"/forgot-password",element:n?b.jsx(_v,{to:"/dashboard"}):b.jsx(Oye,{})}),b.jsx(Si,{path:"/reset-password",element:n?b.jsx(_v,{to:"/dashboard"}):b.jsx(Fye,{})}),b.jsxs(Si,{path:"/dashboard",element:n?b.jsx(R1e,{appLoaded:!i}):b.jsx(_v,{to:"/"}),children:[b.jsx(Si,{index:!0,element:b.jsx(DDe,{})}),b.jsx(Si,{path:"skills",element:b.jsx(dxe,{})}),b.jsx(Si,{path:"saos",element:b.jsx(ZCe,{})}),b.jsx(Si,{path:"documents",element:b.jsx(hxe,{})}),b.jsx(Si,{path:"essays",element:b.jsx(fxe,{})}),b.jsx(Si,{path:"text-input",element:b.jsx(_xe,{})}),b.jsx(Si,{path:"edit-document/:id",element:b.jsx(Exe,{})}),b.jsx(Si,{path:"settings",element:b.jsx(d_e,{})}),b.jsx(Si,{path:"help",element:b.jsx(JCe,{})}),b.jsx(Si,{path:"references",element:b.jsx(rDe,{})})]}),b.jsxs(Si,{path:"/dashboard/supervisor",element:n?b.jsx(oDe,{appLoaded:!i}):b.jsx(_v,{to:"/"}),children:[b.jsx(Si,{index:!0,element:b.jsx(xDe,{})}),b.jsx(Si,{path:"team",element:b.jsx(aDe,{})}),b.jsx(Si,{path:"reviews",element:b.jsx(dDe,{})}),b.jsx(Si,{path:"documents",element:b.jsx(hDe,{})}),b.jsx(Si,{path:"settings",element:b.jsx(pDe,{})}),b.jsx(Si,{path:"support",element:b.jsx(mDe,{})}),b.jsx(Si,{path:"skills",element:b.jsx(PDe,{})})]}),b.jsx(Si,{path:"*",element:b.jsx(kxe,{})})]})]})}EY(document.getElementById("root")).render(b.jsx(G.StrictMode,{children:b.jsx(Phe,{children:b.jsx(MDe,{})})}));export{T3 as A,D2 as B,Bm as C,Rd as F,GM as P,YCe as S,iA as U,zs as X,wf as a,ys as b,nve as c,Ht as d,b as j,G as r,Re as s,oA as u};
