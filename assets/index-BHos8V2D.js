var Ele=Object.defineProperty;var QB=n=>{throw TypeError(n)};var Sle=(n,e,i)=>e in n?Ele(n,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[e]=i;var mt=(n,e,i)=>Sle(n,typeof e!="symbol"?e+"":e,i),Mj=(n,e,i)=>e.has(n)||QB("Cannot "+i);var P=(n,e,i)=>(Mj(n,e,"read from private field"),i?i.call(n):e.get(n)),he=(n,e,i)=>e.has(n)?QB("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,i),te=(n,e,i,r)=>(Mj(n,e,"write to private field"),r?r.call(n,i):e.set(n,i),i),fe=(n,e,i)=>(Mj(n,e,"access private method"),i);var wo=(n,e,i,r)=>({set _(o){te(n,e,o,i)},get _(){return P(n,e,r)}});function Ale(n,e){for(var i=0;i<e.length;i++){const r=e[i];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const l=Object.getOwnPropertyDescriptor(r,o);l&&Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=i(o);fetch(o.href,l)}})();var Lt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function MN(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function jH(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var i=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(i,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}),i}var IH={exports:{}},ON={},RH={exports:{}},vn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PS=Symbol.for("react.element"),Cle=Symbol.for("react.portal"),Tle=Symbol.for("react.fragment"),Dle=Symbol.for("react.strict_mode"),Nle=Symbol.for("react.profiler"),Ple=Symbol.for("react.provider"),jle=Symbol.for("react.context"),Ile=Symbol.for("react.forward_ref"),Rle=Symbol.for("react.suspense"),Mle=Symbol.for("react.memo"),Ole=Symbol.for("react.lazy"),ez=Symbol.iterator;function Fle(n){return n===null||typeof n!="object"?null:(n=ez&&n[ez]||n["@@iterator"],typeof n=="function"?n:null)}var MH={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},OH=Object.assign,FH={};function V1(n,e,i){this.props=n,this.context=e,this.refs=FH,this.updater=i||MH}V1.prototype.isReactComponent={};V1.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};V1.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function UH(){}UH.prototype=V1.prototype;function iO(n,e,i){this.props=n,this.context=e,this.refs=FH,this.updater=i||MH}var rO=iO.prototype=new UH;rO.constructor=iO;OH(rO,V1.prototype);rO.isPureReactComponent=!0;var tz=Array.isArray,LH=Object.prototype.hasOwnProperty,sO={current:null},BH={key:!0,ref:!0,__self:!0,__source:!0};function zH(n,e,i){var r,o={},l=null,c=null;if(e!=null)for(r in e.ref!==void 0&&(c=e.ref),e.key!==void 0&&(l=""+e.key),e)LH.call(e,r)&&!BH.hasOwnProperty(r)&&(o[r]=e[r]);var u=arguments.length-2;if(u===1)o.children=i;else if(1<u){for(var h=Array(u),m=0;m<u;m++)h[m]=arguments[m+2];o.children=h}if(n&&n.defaultProps)for(r in u=n.defaultProps,u)o[r]===void 0&&(o[r]=u[r]);return{$$typeof:PS,type:n,key:l,ref:c,props:o,_owner:sO.current}}function Ule(n,e){return{$$typeof:PS,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function oO(n){return typeof n=="object"&&n!==null&&n.$$typeof===PS}function Lle(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(i){return e[i]})}var nz=/\/+/g;function Oj(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Lle(""+n.key):e.toString(36)}function pD(n,e,i,r,o){var l=typeof n;(l==="undefined"||l==="boolean")&&(n=null);var c=!1;if(n===null)c=!0;else switch(l){case"string":case"number":c=!0;break;case"object":switch(n.$$typeof){case PS:case Cle:c=!0}}if(c)return c=n,o=o(c),n=r===""?"."+Oj(c,0):r,tz(o)?(i="",n!=null&&(i=n.replace(nz,"$&/")+"/"),pD(o,e,i,"",function(m){return m})):o!=null&&(oO(o)&&(o=Ule(o,i+(!o.key||c&&c.key===o.key?"":(""+o.key).replace(nz,"$&/")+"/")+n)),e.push(o)),1;if(c=0,r=r===""?".":r+":",tz(n))for(var u=0;u<n.length;u++){l=n[u];var h=r+Oj(l,u);c+=pD(l,e,i,h,o)}else if(h=Fle(n),typeof h=="function")for(n=h.call(n),u=0;!(l=n.next()).done;)l=l.value,h=r+Oj(l,u++),c+=pD(l,e,i,h,o);else if(l==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return c}function kT(n,e,i){if(n==null)return n;var r=[],o=0;return pD(n,r,"","",function(l){return e.call(i,l,o++)}),r}function Ble(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(i){(n._status===0||n._status===-1)&&(n._status=1,n._result=i)},function(i){(n._status===0||n._status===-1)&&(n._status=2,n._result=i)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Io={current:null},mD={transition:null},zle={ReactCurrentDispatcher:Io,ReactCurrentBatchConfig:mD,ReactCurrentOwner:sO};function VH(){throw Error("act(...) is not supported in production builds of React.")}vn.Children={map:kT,forEach:function(n,e,i){kT(n,function(){e.apply(this,arguments)},i)},count:function(n){var e=0;return kT(n,function(){e++}),e},toArray:function(n){return kT(n,function(e){return e})||[]},only:function(n){if(!oO(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};vn.Component=V1;vn.Fragment=Tle;vn.Profiler=Nle;vn.PureComponent=iO;vn.StrictMode=Dle;vn.Suspense=Rle;vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zle;vn.act=VH;vn.cloneElement=function(n,e,i){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=OH({},n.props),o=n.key,l=n.ref,c=n._owner;if(e!=null){if(e.ref!==void 0&&(l=e.ref,c=sO.current),e.key!==void 0&&(o=""+e.key),n.type&&n.type.defaultProps)var u=n.type.defaultProps;for(h in e)LH.call(e,h)&&!BH.hasOwnProperty(h)&&(r[h]=e[h]===void 0&&u!==void 0?u[h]:e[h])}var h=arguments.length-2;if(h===1)r.children=i;else if(1<h){u=Array(h);for(var m=0;m<h;m++)u[m]=arguments[m+2];r.children=u}return{$$typeof:PS,type:n.type,key:o,ref:l,props:r,_owner:c}};vn.createContext=function(n){return n={$$typeof:jle,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:Ple,_context:n},n.Consumer=n};vn.createElement=zH;vn.createFactory=function(n){var e=zH.bind(null,n);return e.type=n,e};vn.createRef=function(){return{current:null}};vn.forwardRef=function(n){return{$$typeof:Ile,render:n}};vn.isValidElement=oO;vn.lazy=function(n){return{$$typeof:Ole,_payload:{_status:-1,_result:n},_init:Ble}};vn.memo=function(n,e){return{$$typeof:Mle,type:n,compare:e===void 0?null:e}};vn.startTransition=function(n){var e=mD.transition;mD.transition={};try{n()}finally{mD.transition=e}};vn.unstable_act=VH;vn.useCallback=function(n,e){return Io.current.useCallback(n,e)};vn.useContext=function(n){return Io.current.useContext(n)};vn.useDebugValue=function(){};vn.useDeferredValue=function(n){return Io.current.useDeferredValue(n)};vn.useEffect=function(n,e){return Io.current.useEffect(n,e)};vn.useId=function(){return Io.current.useId()};vn.useImperativeHandle=function(n,e,i){return Io.current.useImperativeHandle(n,e,i)};vn.useInsertionEffect=function(n,e){return Io.current.useInsertionEffect(n,e)};vn.useLayoutEffect=function(n,e){return Io.current.useLayoutEffect(n,e)};vn.useMemo=function(n,e){return Io.current.useMemo(n,e)};vn.useReducer=function(n,e,i){return Io.current.useReducer(n,e,i)};vn.useRef=function(n){return Io.current.useRef(n)};vn.useState=function(n){return Io.current.useState(n)};vn.useSyncExternalStore=function(n,e,i){return Io.current.useSyncExternalStore(n,e,i)};vn.useTransition=function(){return Io.current.useTransition()};vn.version="18.3.1";RH.exports=vn;var H=RH.exports;const or=MN(H),Z4=Ale({__proto__:null,default:or},[H]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vle=H,Wle=Symbol.for("react.element"),$le=Symbol.for("react.fragment"),qle=Object.prototype.hasOwnProperty,Hle=Vle.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gle={key:!0,ref:!0,__self:!0,__source:!0};function WH(n,e,i){var r,o={},l=null,c=null;i!==void 0&&(l=""+i),e.key!==void 0&&(l=""+e.key),e.ref!==void 0&&(c=e.ref);for(r in e)qle.call(e,r)&&!Gle.hasOwnProperty(r)&&(o[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:Wle,type:n,key:l,ref:c,props:o,_owner:Hle.current}}ON.Fragment=$le;ON.jsx=WH;ON.jsxs=WH;IH.exports=ON;var b=IH.exports,$H={exports:{}},nl={},qH={exports:{}},HH={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(X,Y){var ne=X.length;X.push(Y);e:for(;0<ne;){var ee=ne-1>>>1,ue=X[ee];if(0<o(ue,Y))X[ee]=Y,X[ne]=ue,ne=ee;else break e}}function i(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var Y=X[0],ne=X.pop();if(ne!==Y){X[0]=ne;e:for(var ee=0,ue=X.length,Z=ue>>>1;ee<Z;){var xe=2*(ee+1)-1,Ae=X[xe],Oe=xe+1,Pe=X[Oe];if(0>o(Ae,ne))Oe<ue&&0>o(Pe,Ae)?(X[ee]=Pe,X[Oe]=ne,ee=Oe):(X[ee]=Ae,X[xe]=ne,ee=xe);else if(Oe<ue&&0>o(Pe,ne))X[ee]=Pe,X[Oe]=ne,ee=Oe;else break e}}return Y}function o(X,Y){var ne=X.sortIndex-Y.sortIndex;return ne!==0?ne:X.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();n.unstable_now=function(){return c.now()-u}}var h=[],m=[],g=1,y=null,v=3,_=!1,A=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(X){for(var Y=i(m);Y!==null;){if(Y.callback===null)r(m);else if(Y.startTime<=X)r(m),Y.sortIndex=Y.expirationTime,e(h,Y);else break;Y=i(m)}}function O(X){if(S=!1,j(X),!A)if(i(h)!==null)A=!0,ie(F);else{var Y=i(m);Y!==null&&ce(O,Y.startTime-X)}}function F(X,Y){A=!1,S&&(S=!1,T(B),B=-1),_=!0;var ne=v;try{for(j(Y),y=i(h);y!==null&&(!(y.expirationTime>Y)||X&&!me());){var ee=y.callback;if(typeof ee=="function"){y.callback=null,v=y.priorityLevel;var ue=ee(y.expirationTime<=Y);Y=n.unstable_now(),typeof ue=="function"?y.callback=ue:y===i(h)&&r(h),j(Y)}else r(h);y=i(h)}if(y!==null)var Z=!0;else{var xe=i(m);xe!==null&&ce(O,xe.startTime-Y),Z=!1}return Z}finally{y=null,v=ne,_=!1}}var U=!1,V=null,B=-1,K=5,oe=-1;function me(){return!(n.unstable_now()-oe<K)}function Q(){if(V!==null){var X=n.unstable_now();oe=X;var Y=!0;try{Y=V(!0,X)}finally{Y?ge():(U=!1,V=null)}}else U=!1}var ge;if(typeof N=="function")ge=function(){N(Q)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,De=$.port2;$.port1.onmessage=Q,ge=function(){De.postMessage(null)}}else ge=function(){C(Q,0)};function ie(X){V=X,U||(U=!0,ge())}function ce(X,Y){B=C(function(){X(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_continueExecution=function(){A||_||(A=!0,ie(F))},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return i(h)},n.unstable_next=function(X){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var ne=v;v=Y;try{return X()}finally{v=ne}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(X,Y){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ne=v;v=X;try{return Y()}finally{v=ne}},n.unstable_scheduleCallback=function(X,Y,ne){var ee=n.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ee+ne:ee):ne=ee,X){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=ne+ue,X={id:g++,callback:Y,priorityLevel:X,startTime:ne,expirationTime:ue,sortIndex:-1},ne>ee?(X.sortIndex=ne,e(m,X),i(h)===null&&X===i(m)&&(S?(T(B),B=-1):S=!0,ce(O,ne-ee))):(X.sortIndex=ue,e(h,X),A||_||(A=!0,ie(F))),X},n.unstable_shouldYield=me,n.unstable_wrapCallback=function(X){var Y=v;return function(){var ne=v;v=Y;try{return X.apply(this,arguments)}finally{v=ne}}}})(HH);qH.exports=HH;var Xle=qH.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kle=H,tl=Xle;function dt(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var GH=new Set,y2={};function F0(n,e){x1(n,e),x1(n+"Capture",e)}function x1(n,e){for(y2[n]=e,n=0;n<e.length;n++)GH.add(e[n])}var rf=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),J4=Object.prototype.hasOwnProperty,Yle=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iz={},rz={};function Zle(n){return J4.call(rz,n)?!0:J4.call(iz,n)?!1:Yle.test(n)?rz[n]=!0:(iz[n]=!0,!1)}function Jle(n,e,i,r){if(i!==null&&i.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:i!==null?!i.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Qle(n,e,i,r){if(e===null||typeof e>"u"||Jle(n,e,i,r))return!0;if(r)return!1;if(i!==null)switch(i.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ro(n,e,i,r,o,l,c){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=i,this.propertyName=n,this.type=e,this.sanitizeURL=l,this.removeEmptyString=c}var Ts={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Ts[n]=new Ro(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Ts[e]=new Ro(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Ts[n]=new Ro(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Ts[n]=new Ro(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Ts[n]=new Ro(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Ts[n]=new Ro(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Ts[n]=new Ro(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Ts[n]=new Ro(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Ts[n]=new Ro(n,5,!1,n.toLowerCase(),null,!1,!1)});var aO=/[\-:]([a-z])/g;function lO(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(aO,lO);Ts[e]=new Ro(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(aO,lO);Ts[e]=new Ro(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(aO,lO);Ts[e]=new Ro(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Ts[n]=new Ro(n,1,!1,n.toLowerCase(),null,!1,!1)});Ts.xlinkHref=new Ro("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Ts[n]=new Ro(n,1,!1,n.toLowerCase(),null,!0,!0)});function cO(n,e,i,r){var o=Ts.hasOwnProperty(e)?Ts[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Qle(e,i,o,r)&&(i=null),r||o===null?Zle(e)&&(i===null?n.removeAttribute(e):n.setAttribute(e,""+i)):o.mustUseProperty?n[o.propertyName]=i===null?o.type===3?!1:"":i:(e=o.attributeName,r=o.attributeNamespace,i===null?n.removeAttribute(e):(o=o.type,i=o===3||o===4&&i===!0?"":""+i,r?n.setAttributeNS(r,e,i):n.setAttribute(e,i))))}var bf=Kle.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ET=Symbol.for("react.element"),jv=Symbol.for("react.portal"),Iv=Symbol.for("react.fragment"),uO=Symbol.for("react.strict_mode"),Q4=Symbol.for("react.profiler"),XH=Symbol.for("react.provider"),KH=Symbol.for("react.context"),dO=Symbol.for("react.forward_ref"),eR=Symbol.for("react.suspense"),tR=Symbol.for("react.suspense_list"),hO=Symbol.for("react.memo"),kp=Symbol.for("react.lazy"),YH=Symbol.for("react.offscreen"),sz=Symbol.iterator;function ok(n){return n===null||typeof n!="object"?null:(n=sz&&n[sz]||n["@@iterator"],typeof n=="function"?n:null)}var $i=Object.assign,Fj;function Tk(n){if(Fj===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);Fj=e&&e[1]||""}return`
`+Fj+n}var Uj=!1;function Lj(n,e){if(!n||Uj)return"";Uj=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(m){var r=m}Reflect.construct(n,[],e)}else{try{e.call()}catch(m){r=m}n.call(e.prototype)}else{try{throw Error()}catch(m){r=m}n()}}catch(m){if(m&&r&&typeof m.stack=="string"){for(var o=m.stack.split(`
`),l=r.stack.split(`
`),c=o.length-1,u=l.length-1;1<=c&&0<=u&&o[c]!==l[u];)u--;for(;1<=c&&0<=u;c--,u--)if(o[c]!==l[u]){if(c!==1||u!==1)do if(c--,u--,0>u||o[c]!==l[u]){var h=`
`+o[c].replace(" at new "," at ");return n.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",n.displayName)),h}while(1<=c&&0<=u);break}}}finally{Uj=!1,Error.prepareStackTrace=i}return(n=n?n.displayName||n.name:"")?Tk(n):""}function ece(n){switch(n.tag){case 5:return Tk(n.type);case 16:return Tk("Lazy");case 13:return Tk("Suspense");case 19:return Tk("SuspenseList");case 0:case 2:case 15:return n=Lj(n.type,!1),n;case 11:return n=Lj(n.type.render,!1),n;case 1:return n=Lj(n.type,!0),n;default:return""}}function nR(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Iv:return"Fragment";case jv:return"Portal";case Q4:return"Profiler";case uO:return"StrictMode";case eR:return"Suspense";case tR:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case KH:return(n.displayName||"Context")+".Consumer";case XH:return(n._context.displayName||"Context")+".Provider";case dO:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case hO:return e=n.displayName||null,e!==null?e:nR(n.type)||"Memo";case kp:e=n._payload,n=n._init;try{return nR(n(e))}catch{}}return null}function tce(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nR(e);case 8:return e===uO?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Tm(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ZH(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nce(n){var e=ZH(n)?"checked":"value",i=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,l=i.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return o.call(this)},set:function(c){r=""+c,l.call(this,c)}}),Object.defineProperty(n,e,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(c){r=""+c},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function ST(n){n._valueTracker||(n._valueTracker=nce(n))}function JH(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var i=e.getValue(),r="";return n&&(r=ZH(n)?n.checked?"true":"false":n.value),n=r,n!==i?(e.setValue(n),!0):!1}function h5(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function iR(n,e){var i=e.checked;return $i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??n._wrapperState.initialChecked})}function oz(n,e){var i=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;i=Tm(e.value!=null?e.value:i),n._wrapperState={initialChecked:r,initialValue:i,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function QH(n,e){e=e.checked,e!=null&&cO(n,"checked",e,!1)}function rR(n,e){QH(n,e);var i=Tm(e.value),r=e.type;if(i!=null)r==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+i):n.value!==""+i&&(n.value=""+i);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?sR(n,e.type,i):e.hasOwnProperty("defaultValue")&&sR(n,e.type,Tm(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function az(n,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,i||e===n.value||(n.value=e),n.defaultValue=e}i=n.name,i!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,i!==""&&(n.name=i)}function sR(n,e,i){(e!=="number"||h5(n.ownerDocument)!==n)&&(i==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+i&&(n.defaultValue=""+i))}var Dk=Array.isArray;function tw(n,e,i,r){if(n=n.options,e){e={};for(var o=0;o<i.length;o++)e["$"+i[o]]=!0;for(i=0;i<n.length;i++)o=e.hasOwnProperty("$"+n[i].value),n[i].selected!==o&&(n[i].selected=o),o&&r&&(n[i].defaultSelected=!0)}else{for(i=""+Tm(i),e=null,o=0;o<n.length;o++){if(n[o].value===i){n[o].selected=!0,r&&(n[o].defaultSelected=!0);return}e!==null||n[o].disabled||(e=n[o])}e!==null&&(e.selected=!0)}}function oR(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(dt(91));return $i({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function lz(n,e){var i=e.value;if(i==null){if(i=e.children,e=e.defaultValue,i!=null){if(e!=null)throw Error(dt(92));if(Dk(i)){if(1<i.length)throw Error(dt(93));i=i[0]}e=i}e==null&&(e=""),i=e}n._wrapperState={initialValue:Tm(i)}}function eG(n,e){var i=Tm(e.value),r=Tm(e.defaultValue);i!=null&&(i=""+i,i!==n.value&&(n.value=i),e.defaultValue==null&&n.defaultValue!==i&&(n.defaultValue=i)),r!=null&&(n.defaultValue=""+r)}function cz(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function tG(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function aR(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?tG(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var AT,nG=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,i,r,o){MSApp.execUnsafeLocalFunction(function(){return n(e,i,r,o)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(AT=AT||document.createElement("div"),AT.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=AT.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function v2(n,e){if(e){var i=n.firstChild;if(i&&i===n.lastChild&&i.nodeType===3){i.nodeValue=e;return}}n.textContent=e}var Jk={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ice=["Webkit","ms","Moz","O"];Object.keys(Jk).forEach(function(n){ice.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Jk[e]=Jk[n]})});function iG(n,e,i){return e==null||typeof e=="boolean"||e===""?"":i||typeof e!="number"||e===0||Jk.hasOwnProperty(n)&&Jk[n]?(""+e).trim():e+"px"}function rG(n,e){n=n.style;for(var i in e)if(e.hasOwnProperty(i)){var r=i.indexOf("--")===0,o=iG(i,e[i],r);i==="float"&&(i="cssFloat"),r?n.setProperty(i,o):n[i]=o}}var rce=$i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lR(n,e){if(e){if(rce[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(dt(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(dt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(dt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(dt(62))}}function cR(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uR=null;function fO(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var dR=null,nw=null,iw=null;function uz(n){if(n=RS(n)){if(typeof dR!="function")throw Error(dt(280));var e=n.stateNode;e&&(e=zN(e),dR(n.stateNode,n.type,e))}}function sG(n){nw?iw?iw.push(n):iw=[n]:nw=n}function oG(){if(nw){var n=nw,e=iw;if(iw=nw=null,uz(n),e)for(n=0;n<e.length;n++)uz(e[n])}}function aG(n,e){return n(e)}function lG(){}var Bj=!1;function cG(n,e,i){if(Bj)return n(e,i);Bj=!0;try{return aG(n,e,i)}finally{Bj=!1,(nw!==null||iw!==null)&&(lG(),oG())}}function w2(n,e){var i=n.stateNode;if(i===null)return null;var r=zN(i);if(r===null)return null;i=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(i&&typeof i!="function")throw Error(dt(231,e,typeof i));return i}var hR=!1;if(rf)try{var ak={};Object.defineProperty(ak,"passive",{get:function(){hR=!0}}),window.addEventListener("test",ak,ak),window.removeEventListener("test",ak,ak)}catch{hR=!1}function sce(n,e,i,r,o,l,c,u,h){var m=Array.prototype.slice.call(arguments,3);try{e.apply(i,m)}catch(g){this.onError(g)}}var Qk=!1,f5=null,p5=!1,fR=null,oce={onError:function(n){Qk=!0,f5=n}};function ace(n,e,i,r,o,l,c,u,h){Qk=!1,f5=null,sce.apply(oce,arguments)}function lce(n,e,i,r,o,l,c,u,h){if(ace.apply(this,arguments),Qk){if(Qk){var m=f5;Qk=!1,f5=null}else throw Error(dt(198));p5||(p5=!0,fR=m)}}function U0(n){var e=n,i=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(i=e.return),n=e.return;while(n)}return e.tag===3?i:null}function uG(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function dz(n){if(U0(n)!==n)throw Error(dt(188))}function cce(n){var e=n.alternate;if(!e){if(e=U0(n),e===null)throw Error(dt(188));return e!==n?null:n}for(var i=n,r=e;;){var o=i.return;if(o===null)break;var l=o.alternate;if(l===null){if(r=o.return,r!==null){i=r;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===i)return dz(o),n;if(l===r)return dz(o),e;l=l.sibling}throw Error(dt(188))}if(i.return!==r.return)i=o,r=l;else{for(var c=!1,u=o.child;u;){if(u===i){c=!0,i=o,r=l;break}if(u===r){c=!0,r=o,i=l;break}u=u.sibling}if(!c){for(u=l.child;u;){if(u===i){c=!0,i=l,r=o;break}if(u===r){c=!0,r=l,i=o;break}u=u.sibling}if(!c)throw Error(dt(189))}}if(i.alternate!==r)throw Error(dt(190))}if(i.tag!==3)throw Error(dt(188));return i.stateNode.current===i?n:e}function dG(n){return n=cce(n),n!==null?hG(n):null}function hG(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=hG(n);if(e!==null)return e;n=n.sibling}return null}var fG=tl.unstable_scheduleCallback,hz=tl.unstable_cancelCallback,uce=tl.unstable_shouldYield,dce=tl.unstable_requestPaint,rr=tl.unstable_now,hce=tl.unstable_getCurrentPriorityLevel,pO=tl.unstable_ImmediatePriority,pG=tl.unstable_UserBlockingPriority,m5=tl.unstable_NormalPriority,fce=tl.unstable_LowPriority,mG=tl.unstable_IdlePriority,FN=null,pd=null;function pce(n){if(pd&&typeof pd.onCommitFiberRoot=="function")try{pd.onCommitFiberRoot(FN,n,void 0,(n.current.flags&128)===128)}catch{}}var Kc=Math.clz32?Math.clz32:bce,mce=Math.log,gce=Math.LN2;function bce(n){return n>>>=0,n===0?32:31-(mce(n)/gce|0)|0}var CT=64,TT=4194304;function Nk(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function g5(n,e){var i=n.pendingLanes;if(i===0)return 0;var r=0,o=n.suspendedLanes,l=n.pingedLanes,c=i&268435455;if(c!==0){var u=c&~o;u!==0?r=Nk(u):(l&=c,l!==0&&(r=Nk(l)))}else c=i&~o,c!==0?r=Nk(c):l!==0&&(r=Nk(l));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,l=e&-e,o>=l||o===16&&(l&4194240)!==0))return e;if(r&4&&(r|=i&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)i=31-Kc(e),o=1<<i,r|=n[i],e&=~o;return r}function yce(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vce(n,e){for(var i=n.suspendedLanes,r=n.pingedLanes,o=n.expirationTimes,l=n.pendingLanes;0<l;){var c=31-Kc(l),u=1<<c,h=o[c];h===-1?(!(u&i)||u&r)&&(o[c]=yce(u,e)):h<=e&&(n.expiredLanes|=u),l&=~u}}function pR(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function gG(){var n=CT;return CT<<=1,!(CT&4194240)&&(CT=64),n}function zj(n){for(var e=[],i=0;31>i;i++)e.push(n);return e}function jS(n,e,i){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Kc(e),n[e]=i}function wce(n,e){var i=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<i;){var o=31-Kc(i),l=1<<o;e[o]=0,r[o]=-1,n[o]=-1,i&=~l}}function mO(n,e){var i=n.entangledLanes|=e;for(n=n.entanglements;i;){var r=31-Kc(i),o=1<<r;o&e|n[r]&e&&(n[r]|=e),i&=~o}}var Jn=0;function bG(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var yG,gO,vG,wG,xG,mR=!1,DT=[],ym=null,vm=null,wm=null,x2=new Map,_2=new Map,Cp=[],xce="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fz(n,e){switch(n){case"focusin":case"focusout":ym=null;break;case"dragenter":case"dragleave":vm=null;break;case"mouseover":case"mouseout":wm=null;break;case"pointerover":case"pointerout":x2.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_2.delete(e.pointerId)}}function lk(n,e,i,r,o,l){return n===null||n.nativeEvent!==l?(n={blockedOn:e,domEventName:i,eventSystemFlags:r,nativeEvent:l,targetContainers:[o]},e!==null&&(e=RS(e),e!==null&&gO(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),n)}function _ce(n,e,i,r,o){switch(e){case"focusin":return ym=lk(ym,n,e,i,r,o),!0;case"dragenter":return vm=lk(vm,n,e,i,r,o),!0;case"mouseover":return wm=lk(wm,n,e,i,r,o),!0;case"pointerover":var l=o.pointerId;return x2.set(l,lk(x2.get(l)||null,n,e,i,r,o)),!0;case"gotpointercapture":return l=o.pointerId,_2.set(l,lk(_2.get(l)||null,n,e,i,r,o)),!0}return!1}function _G(n){var e=ob(n.target);if(e!==null){var i=U0(e);if(i!==null){if(e=i.tag,e===13){if(e=uG(i),e!==null){n.blockedOn=e,xG(n.priority,function(){vG(i)});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){n.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}n.blockedOn=null}function gD(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var i=gR(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(i===null){i=n.nativeEvent;var r=new i.constructor(i.type,i);uR=r,i.target.dispatchEvent(r),uR=null}else return e=RS(i),e!==null&&gO(e),n.blockedOn=i,!1;e.shift()}return!0}function pz(n,e,i){gD(n)&&i.delete(e)}function kce(){mR=!1,ym!==null&&gD(ym)&&(ym=null),vm!==null&&gD(vm)&&(vm=null),wm!==null&&gD(wm)&&(wm=null),x2.forEach(pz),_2.forEach(pz)}function ck(n,e){n.blockedOn===e&&(n.blockedOn=null,mR||(mR=!0,tl.unstable_scheduleCallback(tl.unstable_NormalPriority,kce)))}function k2(n){function e(o){return ck(o,n)}if(0<DT.length){ck(DT[0],n);for(var i=1;i<DT.length;i++){var r=DT[i];r.blockedOn===n&&(r.blockedOn=null)}}for(ym!==null&&ck(ym,n),vm!==null&&ck(vm,n),wm!==null&&ck(wm,n),x2.forEach(e),_2.forEach(e),i=0;i<Cp.length;i++)r=Cp[i],r.blockedOn===n&&(r.blockedOn=null);for(;0<Cp.length&&(i=Cp[0],i.blockedOn===null);)_G(i),i.blockedOn===null&&Cp.shift()}var rw=bf.ReactCurrentBatchConfig,b5=!0;function Ece(n,e,i,r){var o=Jn,l=rw.transition;rw.transition=null;try{Jn=1,bO(n,e,i,r)}finally{Jn=o,rw.transition=l}}function Sce(n,e,i,r){var o=Jn,l=rw.transition;rw.transition=null;try{Jn=4,bO(n,e,i,r)}finally{Jn=o,rw.transition=l}}function bO(n,e,i,r){if(b5){var o=gR(n,e,i,r);if(o===null)Zj(n,e,r,y5,i),fz(n,r);else if(_ce(o,n,e,i,r))r.stopPropagation();else if(fz(n,r),e&4&&-1<xce.indexOf(n)){for(;o!==null;){var l=RS(o);if(l!==null&&yG(l),l=gR(n,e,i,r),l===null&&Zj(n,e,r,y5,i),l===o)break;o=l}o!==null&&r.stopPropagation()}else Zj(n,e,r,null,i)}}var y5=null;function gR(n,e,i,r){if(y5=null,n=fO(r),n=ob(n),n!==null)if(e=U0(n),e===null)n=null;else if(i=e.tag,i===13){if(n=uG(e),n!==null)return n;n=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return y5=n,null}function kG(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hce()){case pO:return 1;case pG:return 4;case m5:case fce:return 16;case mG:return 536870912;default:return 16}default:return 16}}var pm=null,yO=null,bD=null;function EG(){if(bD)return bD;var n,e=yO,i=e.length,r,o="value"in pm?pm.value:pm.textContent,l=o.length;for(n=0;n<i&&e[n]===o[n];n++);var c=i-n;for(r=1;r<=c&&e[i-r]===o[l-r];r++);return bD=o.slice(n,1<r?1-r:void 0)}function yD(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function NT(){return!0}function mz(){return!1}function il(n){function e(i,r,o,l,c){this._reactName=i,this._targetInst=o,this.type=r,this.nativeEvent=l,this.target=c,this.currentTarget=null;for(var u in n)n.hasOwnProperty(u)&&(i=n[u],this[u]=i?i(l):l[u]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?NT:mz,this.isPropagationStopped=mz,this}return $i(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=NT)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=NT)},persist:function(){},isPersistent:NT}),e}var W1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vO=il(W1),IS=$i({},W1,{view:0,detail:0}),Ace=il(IS),Vj,Wj,uk,UN=$i({},IS,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wO,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==uk&&(uk&&n.type==="mousemove"?(Vj=n.screenX-uk.screenX,Wj=n.screenY-uk.screenY):Wj=Vj=0,uk=n),Vj)},movementY:function(n){return"movementY"in n?n.movementY:Wj}}),gz=il(UN),Cce=$i({},UN,{dataTransfer:0}),Tce=il(Cce),Dce=$i({},IS,{relatedTarget:0}),$j=il(Dce),Nce=$i({},W1,{animationName:0,elapsedTime:0,pseudoElement:0}),Pce=il(Nce),jce=$i({},W1,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ice=il(jce),Rce=$i({},W1,{data:0}),bz=il(Rce),Mce={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oce={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fce={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uce(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=Fce[n])?!!e[n]:!1}function wO(){return Uce}var Lce=$i({},IS,{key:function(n){if(n.key){var e=Mce[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=yD(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Oce[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wO,charCode:function(n){return n.type==="keypress"?yD(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?yD(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Bce=il(Lce),zce=$i({},UN,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yz=il(zce),Vce=$i({},IS,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wO}),Wce=il(Vce),$ce=$i({},W1,{propertyName:0,elapsedTime:0,pseudoElement:0}),qce=il($ce),Hce=$i({},UN,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Gce=il(Hce),Xce=[9,13,27,32],xO=rf&&"CompositionEvent"in window,e2=null;rf&&"documentMode"in document&&(e2=document.documentMode);var Kce=rf&&"TextEvent"in window&&!e2,SG=rf&&(!xO||e2&&8<e2&&11>=e2),vz=" ",wz=!1;function AG(n,e){switch(n){case"keyup":return Xce.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CG(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Rv=!1;function Yce(n,e){switch(n){case"compositionend":return CG(e);case"keypress":return e.which!==32?null:(wz=!0,vz);case"textInput":return n=e.data,n===vz&&wz?null:n;default:return null}}function Zce(n,e){if(Rv)return n==="compositionend"||!xO&&AG(n,e)?(n=EG(),bD=yO=pm=null,Rv=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return SG&&e.locale!=="ko"?null:e.data;default:return null}}var Jce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xz(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!Jce[n.type]:e==="textarea"}function TG(n,e,i,r){sG(r),e=v5(e,"onChange"),0<e.length&&(i=new vO("onChange","change",null,i,r),n.push({event:i,listeners:e}))}var t2=null,E2=null;function Qce(n){LG(n,0)}function LN(n){var e=Fv(n);if(JH(e))return n}function eue(n,e){if(n==="change")return e}var DG=!1;if(rf){var qj;if(rf){var Hj="oninput"in document;if(!Hj){var _z=document.createElement("div");_z.setAttribute("oninput","return;"),Hj=typeof _z.oninput=="function"}qj=Hj}else qj=!1;DG=qj&&(!document.documentMode||9<document.documentMode)}function kz(){t2&&(t2.detachEvent("onpropertychange",NG),E2=t2=null)}function NG(n){if(n.propertyName==="value"&&LN(E2)){var e=[];TG(e,E2,n,fO(n)),cG(Qce,e)}}function tue(n,e,i){n==="focusin"?(kz(),t2=e,E2=i,t2.attachEvent("onpropertychange",NG)):n==="focusout"&&kz()}function nue(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return LN(E2)}function iue(n,e){if(n==="click")return LN(e)}function rue(n,e){if(n==="input"||n==="change")return LN(e)}function sue(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Jc=typeof Object.is=="function"?Object.is:sue;function S2(n,e){if(Jc(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var i=Object.keys(n),r=Object.keys(e);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var o=i[r];if(!J4.call(e,o)||!Jc(n[o],e[o]))return!1}return!0}function Ez(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Sz(n,e){var i=Ez(n);n=0;for(var r;i;){if(i.nodeType===3){if(r=n+i.textContent.length,n<=e&&r>=e)return{node:i,offset:e-n};n=r}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Ez(i)}}function PG(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?PG(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function jG(){for(var n=window,e=h5();e instanceof n.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)n=e.contentWindow;else break;e=h5(n.document)}return e}function _O(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function oue(n){var e=jG(),i=n.focusedElem,r=n.selectionRange;if(e!==i&&i&&i.ownerDocument&&PG(i.ownerDocument.documentElement,i)){if(r!==null&&_O(i)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(n,i.value.length);else if(n=(e=i.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var o=i.textContent.length,l=Math.min(r.start,o);r=r.end===void 0?l:Math.min(r.end,o),!n.extend&&l>r&&(o=r,r=l,l=o),o=Sz(i,l);var c=Sz(i,r);o&&c&&(n.rangeCount!==1||n.anchorNode!==o.node||n.anchorOffset!==o.offset||n.focusNode!==c.node||n.focusOffset!==c.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),n.removeAllRanges(),l>r?(n.addRange(e),n.extend(c.node,c.offset)):(e.setEnd(c.node,c.offset),n.addRange(e)))}}for(e=[],n=i;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)n=e[i],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var aue=rf&&"documentMode"in document&&11>=document.documentMode,Mv=null,bR=null,n2=null,yR=!1;function Az(n,e,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;yR||Mv==null||Mv!==h5(r)||(r=Mv,"selectionStart"in r&&_O(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),n2&&S2(n2,r)||(n2=r,r=v5(bR,"onSelect"),0<r.length&&(e=new vO("onSelect","select",null,e,i),n.push({event:e,listeners:r}),e.target=Mv)))}function PT(n,e){var i={};return i[n.toLowerCase()]=e.toLowerCase(),i["Webkit"+n]="webkit"+e,i["Moz"+n]="moz"+e,i}var Ov={animationend:PT("Animation","AnimationEnd"),animationiteration:PT("Animation","AnimationIteration"),animationstart:PT("Animation","AnimationStart"),transitionend:PT("Transition","TransitionEnd")},Gj={},IG={};rf&&(IG=document.createElement("div").style,"AnimationEvent"in window||(delete Ov.animationend.animation,delete Ov.animationiteration.animation,delete Ov.animationstart.animation),"TransitionEvent"in window||delete Ov.transitionend.transition);function BN(n){if(Gj[n])return Gj[n];if(!Ov[n])return n;var e=Ov[n],i;for(i in e)if(e.hasOwnProperty(i)&&i in IG)return Gj[n]=e[i];return n}var RG=BN("animationend"),MG=BN("animationiteration"),OG=BN("animationstart"),FG=BN("transitionend"),UG=new Map,Cz="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bm(n,e){UG.set(n,e),F0(e,[n])}for(var Xj=0;Xj<Cz.length;Xj++){var Kj=Cz[Xj],lue=Kj.toLowerCase(),cue=Kj[0].toUpperCase()+Kj.slice(1);Bm(lue,"on"+cue)}Bm(RG,"onAnimationEnd");Bm(MG,"onAnimationIteration");Bm(OG,"onAnimationStart");Bm("dblclick","onDoubleClick");Bm("focusin","onFocus");Bm("focusout","onBlur");Bm(FG,"onTransitionEnd");x1("onMouseEnter",["mouseout","mouseover"]);x1("onMouseLeave",["mouseout","mouseover"]);x1("onPointerEnter",["pointerout","pointerover"]);x1("onPointerLeave",["pointerout","pointerover"]);F0("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));F0("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));F0("onBeforeInput",["compositionend","keypress","textInput","paste"]);F0("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));F0("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));F0("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pk="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uue=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pk));function Tz(n,e,i){var r=n.type||"unknown-event";n.currentTarget=i,lce(r,e,void 0,n),n.currentTarget=null}function LG(n,e){e=(e&4)!==0;for(var i=0;i<n.length;i++){var r=n[i],o=r.event;r=r.listeners;e:{var l=void 0;if(e)for(var c=r.length-1;0<=c;c--){var u=r[c],h=u.instance,m=u.currentTarget;if(u=u.listener,h!==l&&o.isPropagationStopped())break e;Tz(o,u,m),l=h}else for(c=0;c<r.length;c++){if(u=r[c],h=u.instance,m=u.currentTarget,u=u.listener,h!==l&&o.isPropagationStopped())break e;Tz(o,u,m),l=h}}}if(p5)throw n=fR,p5=!1,fR=null,n}function _i(n,e){var i=e[kR];i===void 0&&(i=e[kR]=new Set);var r=n+"__bubble";i.has(r)||(BG(e,n,2,!1),i.add(r))}function Yj(n,e,i){var r=0;e&&(r|=4),BG(i,n,r,e)}var jT="_reactListening"+Math.random().toString(36).slice(2);function A2(n){if(!n[jT]){n[jT]=!0,GH.forEach(function(i){i!=="selectionchange"&&(uue.has(i)||Yj(i,!1,n),Yj(i,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[jT]||(e[jT]=!0,Yj("selectionchange",!1,e))}}function BG(n,e,i,r){switch(kG(e)){case 1:var o=Ece;break;case 4:o=Sce;break;default:o=bO}i=o.bind(null,e,i,n),o=void 0,!hR||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?n.addEventListener(e,i,{capture:!0,passive:o}):n.addEventListener(e,i,!0):o!==void 0?n.addEventListener(e,i,{passive:o}):n.addEventListener(e,i,!1)}function Zj(n,e,i,r,o){var l=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var c=r.tag;if(c===3||c===4){var u=r.stateNode.containerInfo;if(u===o||u.nodeType===8&&u.parentNode===o)break;if(c===4)for(c=r.return;c!==null;){var h=c.tag;if((h===3||h===4)&&(h=c.stateNode.containerInfo,h===o||h.nodeType===8&&h.parentNode===o))return;c=c.return}for(;u!==null;){if(c=ob(u),c===null)return;if(h=c.tag,h===5||h===6){r=l=c;continue e}u=u.parentNode}}r=r.return}cG(function(){var m=l,g=fO(i),y=[];e:{var v=UG.get(n);if(v!==void 0){var _=vO,A=n;switch(n){case"keypress":if(yD(i)===0)break e;case"keydown":case"keyup":_=Bce;break;case"focusin":A="focus",_=$j;break;case"focusout":A="blur",_=$j;break;case"beforeblur":case"afterblur":_=$j;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=gz;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=Tce;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=Wce;break;case RG:case MG:case OG:_=Pce;break;case FG:_=qce;break;case"scroll":_=Ace;break;case"wheel":_=Gce;break;case"copy":case"cut":case"paste":_=Ice;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=yz}var S=(e&4)!==0,C=!S&&n==="scroll",T=S?v!==null?v+"Capture":null:v;S=[];for(var N=m,j;N!==null;){j=N;var O=j.stateNode;if(j.tag===5&&O!==null&&(j=O,T!==null&&(O=w2(N,T),O!=null&&S.push(C2(N,O,j)))),C)break;N=N.return}0<S.length&&(v=new _(v,A,null,i,g),y.push({event:v,listeners:S}))}}if(!(e&7)){e:{if(v=n==="mouseover"||n==="pointerover",_=n==="mouseout"||n==="pointerout",v&&i!==uR&&(A=i.relatedTarget||i.fromElement)&&(ob(A)||A[sf]))break e;if((_||v)&&(v=g.window===g?g:(v=g.ownerDocument)?v.defaultView||v.parentWindow:window,_?(A=i.relatedTarget||i.toElement,_=m,A=A?ob(A):null,A!==null&&(C=U0(A),A!==C||A.tag!==5&&A.tag!==6)&&(A=null)):(_=null,A=m),_!==A)){if(S=gz,O="onMouseLeave",T="onMouseEnter",N="mouse",(n==="pointerout"||n==="pointerover")&&(S=yz,O="onPointerLeave",T="onPointerEnter",N="pointer"),C=_==null?v:Fv(_),j=A==null?v:Fv(A),v=new S(O,N+"leave",_,i,g),v.target=C,v.relatedTarget=j,O=null,ob(g)===m&&(S=new S(T,N+"enter",A,i,g),S.target=j,S.relatedTarget=C,O=S),C=O,_&&A)t:{for(S=_,T=A,N=0,j=S;j;j=fv(j))N++;for(j=0,O=T;O;O=fv(O))j++;for(;0<N-j;)S=fv(S),N--;for(;0<j-N;)T=fv(T),j--;for(;N--;){if(S===T||T!==null&&S===T.alternate)break t;S=fv(S),T=fv(T)}S=null}else S=null;_!==null&&Dz(y,v,_,S,!1),A!==null&&C!==null&&Dz(y,C,A,S,!0)}}e:{if(v=m?Fv(m):window,_=v.nodeName&&v.nodeName.toLowerCase(),_==="select"||_==="input"&&v.type==="file")var F=eue;else if(xz(v))if(DG)F=rue;else{F=nue;var U=tue}else(_=v.nodeName)&&_.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(F=iue);if(F&&(F=F(n,m))){TG(y,F,i,g);break e}U&&U(n,v,m),n==="focusout"&&(U=v._wrapperState)&&U.controlled&&v.type==="number"&&sR(v,"number",v.value)}switch(U=m?Fv(m):window,n){case"focusin":(xz(U)||U.contentEditable==="true")&&(Mv=U,bR=m,n2=null);break;case"focusout":n2=bR=Mv=null;break;case"mousedown":yR=!0;break;case"contextmenu":case"mouseup":case"dragend":yR=!1,Az(y,i,g);break;case"selectionchange":if(aue)break;case"keydown":case"keyup":Az(y,i,g)}var V;if(xO)e:{switch(n){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else Rv?AG(n,i)&&(B="onCompositionEnd"):n==="keydown"&&i.keyCode===229&&(B="onCompositionStart");B&&(SG&&i.locale!=="ko"&&(Rv||B!=="onCompositionStart"?B==="onCompositionEnd"&&Rv&&(V=EG()):(pm=g,yO="value"in pm?pm.value:pm.textContent,Rv=!0)),U=v5(m,B),0<U.length&&(B=new bz(B,n,null,i,g),y.push({event:B,listeners:U}),V?B.data=V:(V=CG(i),V!==null&&(B.data=V)))),(V=Kce?Yce(n,i):Zce(n,i))&&(m=v5(m,"onBeforeInput"),0<m.length&&(g=new bz("onBeforeInput","beforeinput",null,i,g),y.push({event:g,listeners:m}),g.data=V))}LG(y,e)})}function C2(n,e,i){return{instance:n,listener:e,currentTarget:i}}function v5(n,e){for(var i=e+"Capture",r=[];n!==null;){var o=n,l=o.stateNode;o.tag===5&&l!==null&&(o=l,l=w2(n,i),l!=null&&r.unshift(C2(n,l,o)),l=w2(n,e),l!=null&&r.push(C2(n,l,o))),n=n.return}return r}function fv(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Dz(n,e,i,r,o){for(var l=e._reactName,c=[];i!==null&&i!==r;){var u=i,h=u.alternate,m=u.stateNode;if(h!==null&&h===r)break;u.tag===5&&m!==null&&(u=m,o?(h=w2(i,l),h!=null&&c.unshift(C2(i,h,u))):o||(h=w2(i,l),h!=null&&c.push(C2(i,h,u)))),i=i.return}c.length!==0&&n.push({event:e,listeners:c})}var due=/\r\n?/g,hue=/\u0000|\uFFFD/g;function Nz(n){return(typeof n=="string"?n:""+n).replace(due,`
`).replace(hue,"")}function IT(n,e,i){if(e=Nz(e),Nz(n)!==e&&i)throw Error(dt(425))}function w5(){}var vR=null,wR=null;function xR(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _R=typeof setTimeout=="function"?setTimeout:void 0,fue=typeof clearTimeout=="function"?clearTimeout:void 0,Pz=typeof Promise=="function"?Promise:void 0,pue=typeof queueMicrotask=="function"?queueMicrotask:typeof Pz<"u"?function(n){return Pz.resolve(null).then(n).catch(mue)}:_R;function mue(n){setTimeout(function(){throw n})}function Jj(n,e){var i=e,r=0;do{var o=i.nextSibling;if(n.removeChild(i),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(r===0){n.removeChild(o),k2(e);return}r--}else i!=="$"&&i!=="$?"&&i!=="$!"||r++;i=o}while(i);k2(e)}function xm(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function jz(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var i=n.data;if(i==="$"||i==="$!"||i==="$?"){if(e===0)return n;e--}else i==="/$"&&e++}n=n.previousSibling}return null}var $1=Math.random().toString(36).slice(2),dd="__reactFiber$"+$1,T2="__reactProps$"+$1,sf="__reactContainer$"+$1,kR="__reactEvents$"+$1,gue="__reactListeners$"+$1,bue="__reactHandles$"+$1;function ob(n){var e=n[dd];if(e)return e;for(var i=n.parentNode;i;){if(e=i[sf]||i[dd]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(n=jz(n);n!==null;){if(i=n[dd])return i;n=jz(n)}return e}n=i,i=n.parentNode}return null}function RS(n){return n=n[dd]||n[sf],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Fv(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(dt(33))}function zN(n){return n[T2]||null}var ER=[],Uv=-1;function zm(n){return{current:n}}function Ei(n){0>Uv||(n.current=ER[Uv],ER[Uv]=null,Uv--)}function pi(n,e){Uv++,ER[Uv]=n.current,n.current=e}var Dm={},to=zm(Dm),sa=zm(!1),_0=Dm;function _1(n,e){var i=n.type.contextTypes;if(!i)return Dm;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},l;for(l in i)o[l]=e[l];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=o),o}function oa(n){return n=n.childContextTypes,n!=null}function x5(){Ei(sa),Ei(to)}function Iz(n,e,i){if(to.current!==Dm)throw Error(dt(168));pi(to,e),pi(sa,i)}function zG(n,e,i){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return i;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(dt(108,tce(n)||"Unknown",o));return $i({},i,r)}function _5(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Dm,_0=to.current,pi(to,n),pi(sa,sa.current),!0}function Rz(n,e,i){var r=n.stateNode;if(!r)throw Error(dt(169));i?(n=zG(n,e,_0),r.__reactInternalMemoizedMergedChildContext=n,Ei(sa),Ei(to),pi(to,n)):Ei(sa),pi(sa,i)}var wh=null,VN=!1,Qj=!1;function VG(n){wh===null?wh=[n]:wh.push(n)}function yue(n){VN=!0,VG(n)}function Vm(){if(!Qj&&wh!==null){Qj=!0;var n=0,e=Jn;try{var i=wh;for(Jn=1;n<i.length;n++){var r=i[n];do r=r(!0);while(r!==null)}wh=null,VN=!1}catch(o){throw wh!==null&&(wh=wh.slice(n+1)),fG(pO,Vm),o}finally{Jn=e,Qj=!1}}return null}var Lv=[],Bv=0,k5=null,E5=0,Kl=[],Yl=0,k0=null,Zh=1,Jh="";function Yg(n,e){Lv[Bv++]=E5,Lv[Bv++]=k5,k5=n,E5=e}function WG(n,e,i){Kl[Yl++]=Zh,Kl[Yl++]=Jh,Kl[Yl++]=k0,k0=n;var r=Zh;n=Jh;var o=32-Kc(r)-1;r&=~(1<<o),i+=1;var l=32-Kc(e)+o;if(30<l){var c=o-o%5;l=(r&(1<<c)-1).toString(32),r>>=c,o-=c,Zh=1<<32-Kc(e)+o|i<<o|r,Jh=l+n}else Zh=1<<l|i<<o|r,Jh=n}function kO(n){n.return!==null&&(Yg(n,1),WG(n,1,0))}function EO(n){for(;n===k5;)k5=Lv[--Bv],Lv[Bv]=null,E5=Lv[--Bv],Lv[Bv]=null;for(;n===k0;)k0=Kl[--Yl],Kl[Yl]=null,Jh=Kl[--Yl],Kl[Yl]=null,Zh=Kl[--Yl],Kl[Yl]=null}var Qa=null,Ja=null,Pi=!1,Gc=null;function $G(n,e){var i=ec(5,null,null,0);i.elementType="DELETED",i.stateNode=e,i.return=n,e=n.deletions,e===null?(n.deletions=[i],n.flags|=16):e.push(i)}function Mz(n,e){switch(n.tag){case 5:var i=n.type;return e=e.nodeType!==1||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Qa=n,Ja=xm(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Qa=n,Ja=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(i=k0!==null?{id:Zh,overflow:Jh}:null,n.memoizedState={dehydrated:e,treeContext:i,retryLane:1073741824},i=ec(18,null,null,0),i.stateNode=e,i.return=n,n.child=i,Qa=n,Ja=null,!0):!1;default:return!1}}function SR(n){return(n.mode&1)!==0&&(n.flags&128)===0}function AR(n){if(Pi){var e=Ja;if(e){var i=e;if(!Mz(n,e)){if(SR(n))throw Error(dt(418));e=xm(i.nextSibling);var r=Qa;e&&Mz(n,e)?$G(r,i):(n.flags=n.flags&-4097|2,Pi=!1,Qa=n)}}else{if(SR(n))throw Error(dt(418));n.flags=n.flags&-4097|2,Pi=!1,Qa=n}}}function Oz(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Qa=n}function RT(n){if(n!==Qa)return!1;if(!Pi)return Oz(n),Pi=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!xR(n.type,n.memoizedProps)),e&&(e=Ja)){if(SR(n))throw qG(),Error(dt(418));for(;e;)$G(n,e),e=xm(e.nextSibling)}if(Oz(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(dt(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var i=n.data;if(i==="/$"){if(e===0){Ja=xm(n.nextSibling);break e}e--}else i!=="$"&&i!=="$!"&&i!=="$?"||e++}n=n.nextSibling}Ja=null}}else Ja=Qa?xm(n.stateNode.nextSibling):null;return!0}function qG(){for(var n=Ja;n;)n=xm(n.nextSibling)}function k1(){Ja=Qa=null,Pi=!1}function SO(n){Gc===null?Gc=[n]:Gc.push(n)}var vue=bf.ReactCurrentBatchConfig;function dk(n,e,i){if(n=i.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(dt(309));var r=i.stateNode}if(!r)throw Error(dt(147,n));var o=r,l=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===l?e.ref:(e=function(c){var u=o.refs;c===null?delete u[l]:u[l]=c},e._stringRef=l,e)}if(typeof n!="string")throw Error(dt(284));if(!i._owner)throw Error(dt(290,n))}return n}function MT(n,e){throw n=Object.prototype.toString.call(e),Error(dt(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Fz(n){var e=n._init;return e(n._payload)}function HG(n){function e(T,N){if(n){var j=T.deletions;j===null?(T.deletions=[N],T.flags|=16):j.push(N)}}function i(T,N){if(!n)return null;for(;N!==null;)e(T,N),N=N.sibling;return null}function r(T,N){for(T=new Map;N!==null;)N.key!==null?T.set(N.key,N):T.set(N.index,N),N=N.sibling;return T}function o(T,N){return T=Sm(T,N),T.index=0,T.sibling=null,T}function l(T,N,j){return T.index=j,n?(j=T.alternate,j!==null?(j=j.index,j<N?(T.flags|=2,N):j):(T.flags|=2,N)):(T.flags|=1048576,N)}function c(T){return n&&T.alternate===null&&(T.flags|=2),T}function u(T,N,j,O){return N===null||N.tag!==6?(N=oI(j,T.mode,O),N.return=T,N):(N=o(N,j),N.return=T,N)}function h(T,N,j,O){var F=j.type;return F===Iv?g(T,N,j.props.children,O,j.key):N!==null&&(N.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===kp&&Fz(F)===N.type)?(O=o(N,j.props),O.ref=dk(T,N,j),O.return=T,O):(O=SD(j.type,j.key,j.props,null,T.mode,O),O.ref=dk(T,N,j),O.return=T,O)}function m(T,N,j,O){return N===null||N.tag!==4||N.stateNode.containerInfo!==j.containerInfo||N.stateNode.implementation!==j.implementation?(N=aI(j,T.mode,O),N.return=T,N):(N=o(N,j.children||[]),N.return=T,N)}function g(T,N,j,O,F){return N===null||N.tag!==7?(N=b0(j,T.mode,O,F),N.return=T,N):(N=o(N,j),N.return=T,N)}function y(T,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return N=oI(""+N,T.mode,j),N.return=T,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ET:return j=SD(N.type,N.key,N.props,null,T.mode,j),j.ref=dk(T,null,N),j.return=T,j;case jv:return N=aI(N,T.mode,j),N.return=T,N;case kp:var O=N._init;return y(T,O(N._payload),j)}if(Dk(N)||ok(N))return N=b0(N,T.mode,j,null),N.return=T,N;MT(T,N)}return null}function v(T,N,j,O){var F=N!==null?N.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return F!==null?null:u(T,N,""+j,O);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ET:return j.key===F?h(T,N,j,O):null;case jv:return j.key===F?m(T,N,j,O):null;case kp:return F=j._init,v(T,N,F(j._payload),O)}if(Dk(j)||ok(j))return F!==null?null:g(T,N,j,O,null);MT(T,j)}return null}function _(T,N,j,O,F){if(typeof O=="string"&&O!==""||typeof O=="number")return T=T.get(j)||null,u(N,T,""+O,F);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case ET:return T=T.get(O.key===null?j:O.key)||null,h(N,T,O,F);case jv:return T=T.get(O.key===null?j:O.key)||null,m(N,T,O,F);case kp:var U=O._init;return _(T,N,j,U(O._payload),F)}if(Dk(O)||ok(O))return T=T.get(j)||null,g(N,T,O,F,null);MT(N,O)}return null}function A(T,N,j,O){for(var F=null,U=null,V=N,B=N=0,K=null;V!==null&&B<j.length;B++){V.index>B?(K=V,V=null):K=V.sibling;var oe=v(T,V,j[B],O);if(oe===null){V===null&&(V=K);break}n&&V&&oe.alternate===null&&e(T,V),N=l(oe,N,B),U===null?F=oe:U.sibling=oe,U=oe,V=K}if(B===j.length)return i(T,V),Pi&&Yg(T,B),F;if(V===null){for(;B<j.length;B++)V=y(T,j[B],O),V!==null&&(N=l(V,N,B),U===null?F=V:U.sibling=V,U=V);return Pi&&Yg(T,B),F}for(V=r(T,V);B<j.length;B++)K=_(V,T,B,j[B],O),K!==null&&(n&&K.alternate!==null&&V.delete(K.key===null?B:K.key),N=l(K,N,B),U===null?F=K:U.sibling=K,U=K);return n&&V.forEach(function(me){return e(T,me)}),Pi&&Yg(T,B),F}function S(T,N,j,O){var F=ok(j);if(typeof F!="function")throw Error(dt(150));if(j=F.call(j),j==null)throw Error(dt(151));for(var U=F=null,V=N,B=N=0,K=null,oe=j.next();V!==null&&!oe.done;B++,oe=j.next()){V.index>B?(K=V,V=null):K=V.sibling;var me=v(T,V,oe.value,O);if(me===null){V===null&&(V=K);break}n&&V&&me.alternate===null&&e(T,V),N=l(me,N,B),U===null?F=me:U.sibling=me,U=me,V=K}if(oe.done)return i(T,V),Pi&&Yg(T,B),F;if(V===null){for(;!oe.done;B++,oe=j.next())oe=y(T,oe.value,O),oe!==null&&(N=l(oe,N,B),U===null?F=oe:U.sibling=oe,U=oe);return Pi&&Yg(T,B),F}for(V=r(T,V);!oe.done;B++,oe=j.next())oe=_(V,T,B,oe.value,O),oe!==null&&(n&&oe.alternate!==null&&V.delete(oe.key===null?B:oe.key),N=l(oe,N,B),U===null?F=oe:U.sibling=oe,U=oe);return n&&V.forEach(function(Q){return e(T,Q)}),Pi&&Yg(T,B),F}function C(T,N,j,O){if(typeof j=="object"&&j!==null&&j.type===Iv&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case ET:e:{for(var F=j.key,U=N;U!==null;){if(U.key===F){if(F=j.type,F===Iv){if(U.tag===7){i(T,U.sibling),N=o(U,j.props.children),N.return=T,T=N;break e}}else if(U.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===kp&&Fz(F)===U.type){i(T,U.sibling),N=o(U,j.props),N.ref=dk(T,U,j),N.return=T,T=N;break e}i(T,U);break}else e(T,U);U=U.sibling}j.type===Iv?(N=b0(j.props.children,T.mode,O,j.key),N.return=T,T=N):(O=SD(j.type,j.key,j.props,null,T.mode,O),O.ref=dk(T,N,j),O.return=T,T=O)}return c(T);case jv:e:{for(U=j.key;N!==null;){if(N.key===U)if(N.tag===4&&N.stateNode.containerInfo===j.containerInfo&&N.stateNode.implementation===j.implementation){i(T,N.sibling),N=o(N,j.children||[]),N.return=T,T=N;break e}else{i(T,N);break}else e(T,N);N=N.sibling}N=aI(j,T.mode,O),N.return=T,T=N}return c(T);case kp:return U=j._init,C(T,N,U(j._payload),O)}if(Dk(j))return A(T,N,j,O);if(ok(j))return S(T,N,j,O);MT(T,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,N!==null&&N.tag===6?(i(T,N.sibling),N=o(N,j),N.return=T,T=N):(i(T,N),N=oI(j,T.mode,O),N.return=T,T=N),c(T)):i(T,N)}return C}var E1=HG(!0),GG=HG(!1),S5=zm(null),A5=null,zv=null,AO=null;function CO(){AO=zv=A5=null}function TO(n){var e=S5.current;Ei(S5),n._currentValue=e}function CR(n,e,i){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===i)break;n=n.return}}function sw(n,e){A5=n,AO=zv=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(ia=!0),n.firstContext=null)}function sc(n){var e=n._currentValue;if(AO!==n)if(n={context:n,memoizedValue:e,next:null},zv===null){if(A5===null)throw Error(dt(308));zv=n,A5.dependencies={lanes:0,firstContext:n}}else zv=zv.next=n;return e}var ab=null;function DO(n){ab===null?ab=[n]:ab.push(n)}function XG(n,e,i,r){var o=e.interleaved;return o===null?(i.next=i,DO(e)):(i.next=o.next,o.next=i),e.interleaved=i,of(n,r)}function of(n,e){n.lanes|=e;var i=n.alternate;for(i!==null&&(i.lanes|=e),i=n,n=n.return;n!==null;)n.childLanes|=e,i=n.alternate,i!==null&&(i.childLanes|=e),i=n,n=n.return;return i.tag===3?i.stateNode:null}var Ep=!1;function NO(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function KG(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Qh(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function _m(n,e,i){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Tn&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,of(n,i)}return o=r.interleaved,o===null?(e.next=e,DO(r)):(e.next=o.next,o.next=e),r.interleaved=e,of(n,i)}function vD(n,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,i|=r,e.lanes=i,mO(n,i)}}function Uz(n,e){var i=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var o=null,l=null;if(i=i.firstBaseUpdate,i!==null){do{var c={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};l===null?o=l=c:l=l.next=c,i=i.next}while(i!==null);l===null?o=l=e:l=l.next=e}else o=l=e;i={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:r.shared,effects:r.effects},n.updateQueue=i;return}n=i.lastBaseUpdate,n===null?i.firstBaseUpdate=e:n.next=e,i.lastBaseUpdate=e}function C5(n,e,i,r){var o=n.updateQueue;Ep=!1;var l=o.firstBaseUpdate,c=o.lastBaseUpdate,u=o.shared.pending;if(u!==null){o.shared.pending=null;var h=u,m=h.next;h.next=null,c===null?l=m:c.next=m,c=h;var g=n.alternate;g!==null&&(g=g.updateQueue,u=g.lastBaseUpdate,u!==c&&(u===null?g.firstBaseUpdate=m:u.next=m,g.lastBaseUpdate=h))}if(l!==null){var y=o.baseState;c=0,g=m=h=null,u=l;do{var v=u.lane,_=u.eventTime;if((r&v)===v){g!==null&&(g=g.next={eventTime:_,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var A=n,S=u;switch(v=e,_=i,S.tag){case 1:if(A=S.payload,typeof A=="function"){y=A.call(_,y,v);break e}y=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=S.payload,v=typeof A=="function"?A.call(_,y,v):A,v==null)break e;y=$i({},y,v);break e;case 2:Ep=!0}}u.callback!==null&&u.lane!==0&&(n.flags|=64,v=o.effects,v===null?o.effects=[u]:v.push(u))}else _={eventTime:_,lane:v,tag:u.tag,payload:u.payload,callback:u.callback,next:null},g===null?(m=g=_,h=y):g=g.next=_,c|=v;if(u=u.next,u===null){if(u=o.shared.pending,u===null)break;v=u,u=v.next,v.next=null,o.lastBaseUpdate=v,o.shared.pending=null}}while(!0);if(g===null&&(h=y),o.baseState=h,o.firstBaseUpdate=m,o.lastBaseUpdate=g,e=o.shared.interleaved,e!==null){o=e;do c|=o.lane,o=o.next;while(o!==e)}else l===null&&(o.shared.lanes=0);S0|=c,n.lanes=c,n.memoizedState=y}}function Lz(n,e,i){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],o=r.callback;if(o!==null){if(r.callback=null,r=i,typeof o!="function")throw Error(dt(191,o));o.call(r)}}}var MS={},md=zm(MS),D2=zm(MS),N2=zm(MS);function lb(n){if(n===MS)throw Error(dt(174));return n}function PO(n,e){switch(pi(N2,e),pi(D2,n),pi(md,MS),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:aR(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=aR(e,n)}Ei(md),pi(md,e)}function S1(){Ei(md),Ei(D2),Ei(N2)}function YG(n){lb(N2.current);var e=lb(md.current),i=aR(e,n.type);e!==i&&(pi(D2,n),pi(md,i))}function jO(n){D2.current===n&&(Ei(md),Ei(D2))}var Li=zm(0);function T5(n){for(var e=n;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var eI=[];function IO(){for(var n=0;n<eI.length;n++)eI[n]._workInProgressVersionPrimary=null;eI.length=0}var wD=bf.ReactCurrentDispatcher,tI=bf.ReactCurrentBatchConfig,E0=0,zi=null,Dr=null,Jr=null,D5=!1,i2=!1,P2=0,wue=0;function Vs(){throw Error(dt(321))}function RO(n,e){if(e===null)return!1;for(var i=0;i<e.length&&i<n.length;i++)if(!Jc(n[i],e[i]))return!1;return!0}function MO(n,e,i,r,o,l){if(E0=l,zi=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wD.current=n===null||n.memoizedState===null?Eue:Sue,n=i(r,o),i2){l=0;do{if(i2=!1,P2=0,25<=l)throw Error(dt(301));l+=1,Jr=Dr=null,e.updateQueue=null,wD.current=Aue,n=i(r,o)}while(i2)}if(wD.current=N5,e=Dr!==null&&Dr.next!==null,E0=0,Jr=Dr=zi=null,D5=!1,e)throw Error(dt(300));return n}function OO(){var n=P2!==0;return P2=0,n}function Gu(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jr===null?zi.memoizedState=Jr=n:Jr=Jr.next=n,Jr}function oc(){if(Dr===null){var n=zi.alternate;n=n!==null?n.memoizedState:null}else n=Dr.next;var e=Jr===null?zi.memoizedState:Jr.next;if(e!==null)Jr=e,Dr=n;else{if(n===null)throw Error(dt(310));Dr=n,n={memoizedState:Dr.memoizedState,baseState:Dr.baseState,baseQueue:Dr.baseQueue,queue:Dr.queue,next:null},Jr===null?zi.memoizedState=Jr=n:Jr=Jr.next=n}return Jr}function j2(n,e){return typeof e=="function"?e(n):e}function nI(n){var e=oc(),i=e.queue;if(i===null)throw Error(dt(311));i.lastRenderedReducer=n;var r=Dr,o=r.baseQueue,l=i.pending;if(l!==null){if(o!==null){var c=o.next;o.next=l.next,l.next=c}r.baseQueue=o=l,i.pending=null}if(o!==null){l=o.next,r=r.baseState;var u=c=null,h=null,m=l;do{var g=m.lane;if((E0&g)===g)h!==null&&(h=h.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),r=m.hasEagerState?m.eagerState:n(r,m.action);else{var y={lane:g,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};h===null?(u=h=y,c=r):h=h.next=y,zi.lanes|=g,S0|=g}m=m.next}while(m!==null&&m!==l);h===null?c=r:h.next=u,Jc(r,e.memoizedState)||(ia=!0),e.memoizedState=r,e.baseState=c,e.baseQueue=h,i.lastRenderedState=r}if(n=i.interleaved,n!==null){o=n;do l=o.lane,zi.lanes|=l,S0|=l,o=o.next;while(o!==n)}else o===null&&(i.lanes=0);return[e.memoizedState,i.dispatch]}function iI(n){var e=oc(),i=e.queue;if(i===null)throw Error(dt(311));i.lastRenderedReducer=n;var r=i.dispatch,o=i.pending,l=e.memoizedState;if(o!==null){i.pending=null;var c=o=o.next;do l=n(l,c.action),c=c.next;while(c!==o);Jc(l,e.memoizedState)||(ia=!0),e.memoizedState=l,e.baseQueue===null&&(e.baseState=l),i.lastRenderedState=l}return[l,r]}function ZG(){}function JG(n,e){var i=zi,r=oc(),o=e(),l=!Jc(r.memoizedState,o);if(l&&(r.memoizedState=o,ia=!0),r=r.queue,FO(tX.bind(null,i,r,n),[n]),r.getSnapshot!==e||l||Jr!==null&&Jr.memoizedState.tag&1){if(i.flags|=2048,I2(9,eX.bind(null,i,r,o,e),void 0,null),es===null)throw Error(dt(349));E0&30||QG(i,e,o)}return o}function QG(n,e,i){n.flags|=16384,n={getSnapshot:e,value:i},e=zi.updateQueue,e===null?(e={lastEffect:null,stores:null},zi.updateQueue=e,e.stores=[n]):(i=e.stores,i===null?e.stores=[n]:i.push(n))}function eX(n,e,i,r){e.value=i,e.getSnapshot=r,nX(e)&&iX(n)}function tX(n,e,i){return i(function(){nX(e)&&iX(n)})}function nX(n){var e=n.getSnapshot;n=n.value;try{var i=e();return!Jc(n,i)}catch{return!0}}function iX(n){var e=of(n,1);e!==null&&Yc(e,n,1,-1)}function Bz(n){var e=Gu();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:j2,lastRenderedState:n},e.queue=n,n=n.dispatch=kue.bind(null,zi,n),[e.memoizedState,n]}function I2(n,e,i,r){return n={tag:n,create:e,destroy:i,deps:r,next:null},e=zi.updateQueue,e===null?(e={lastEffect:null,stores:null},zi.updateQueue=e,e.lastEffect=n.next=n):(i=e.lastEffect,i===null?e.lastEffect=n.next=n:(r=i.next,i.next=n,n.next=r,e.lastEffect=n)),n}function rX(){return oc().memoizedState}function xD(n,e,i,r){var o=Gu();zi.flags|=n,o.memoizedState=I2(1|e,i,void 0,r===void 0?null:r)}function WN(n,e,i,r){var o=oc();r=r===void 0?null:r;var l=void 0;if(Dr!==null){var c=Dr.memoizedState;if(l=c.destroy,r!==null&&RO(r,c.deps)){o.memoizedState=I2(e,i,l,r);return}}zi.flags|=n,o.memoizedState=I2(1|e,i,l,r)}function zz(n,e){return xD(8390656,8,n,e)}function FO(n,e){return WN(2048,8,n,e)}function sX(n,e){return WN(4,2,n,e)}function oX(n,e){return WN(4,4,n,e)}function aX(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function lX(n,e,i){return i=i!=null?i.concat([n]):null,WN(4,4,aX.bind(null,e,n),i)}function UO(){}function cX(n,e){var i=oc();e=e===void 0?null:e;var r=i.memoizedState;return r!==null&&e!==null&&RO(e,r[1])?r[0]:(i.memoizedState=[n,e],n)}function uX(n,e){var i=oc();e=e===void 0?null:e;var r=i.memoizedState;return r!==null&&e!==null&&RO(e,r[1])?r[0]:(n=n(),i.memoizedState=[n,e],n)}function dX(n,e,i){return E0&21?(Jc(i,e)||(i=gG(),zi.lanes|=i,S0|=i,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,ia=!0),n.memoizedState=i)}function xue(n,e){var i=Jn;Jn=i!==0&&4>i?i:4,n(!0);var r=tI.transition;tI.transition={};try{n(!1),e()}finally{Jn=i,tI.transition=r}}function hX(){return oc().memoizedState}function _ue(n,e,i){var r=Em(n);if(i={lane:r,action:i,hasEagerState:!1,eagerState:null,next:null},fX(n))pX(e,i);else if(i=XG(n,e,i,r),i!==null){var o=No();Yc(i,n,r,o),mX(i,e,r)}}function kue(n,e,i){var r=Em(n),o={lane:r,action:i,hasEagerState:!1,eagerState:null,next:null};if(fX(n))pX(e,o);else{var l=n.alternate;if(n.lanes===0&&(l===null||l.lanes===0)&&(l=e.lastRenderedReducer,l!==null))try{var c=e.lastRenderedState,u=l(c,i);if(o.hasEagerState=!0,o.eagerState=u,Jc(u,c)){var h=e.interleaved;h===null?(o.next=o,DO(e)):(o.next=h.next,h.next=o),e.interleaved=o;return}}catch{}finally{}i=XG(n,e,o,r),i!==null&&(o=No(),Yc(i,n,r,o),mX(i,e,r))}}function fX(n){var e=n.alternate;return n===zi||e!==null&&e===zi}function pX(n,e){i2=D5=!0;var i=n.pending;i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e}function mX(n,e,i){if(i&4194240){var r=e.lanes;r&=n.pendingLanes,i|=r,e.lanes=i,mO(n,i)}}var N5={readContext:sc,useCallback:Vs,useContext:Vs,useEffect:Vs,useImperativeHandle:Vs,useInsertionEffect:Vs,useLayoutEffect:Vs,useMemo:Vs,useReducer:Vs,useRef:Vs,useState:Vs,useDebugValue:Vs,useDeferredValue:Vs,useTransition:Vs,useMutableSource:Vs,useSyncExternalStore:Vs,useId:Vs,unstable_isNewReconciler:!1},Eue={readContext:sc,useCallback:function(n,e){return Gu().memoizedState=[n,e===void 0?null:e],n},useContext:sc,useEffect:zz,useImperativeHandle:function(n,e,i){return i=i!=null?i.concat([n]):null,xD(4194308,4,aX.bind(null,e,n),i)},useLayoutEffect:function(n,e){return xD(4194308,4,n,e)},useInsertionEffect:function(n,e){return xD(4,2,n,e)},useMemo:function(n,e){var i=Gu();return e=e===void 0?null:e,n=n(),i.memoizedState=[n,e],n},useReducer:function(n,e,i){var r=Gu();return e=i!==void 0?i(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=_ue.bind(null,zi,n),[r.memoizedState,n]},useRef:function(n){var e=Gu();return n={current:n},e.memoizedState=n},useState:Bz,useDebugValue:UO,useDeferredValue:function(n){return Gu().memoizedState=n},useTransition:function(){var n=Bz(!1),e=n[0];return n=xue.bind(null,n[1]),Gu().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,i){var r=zi,o=Gu();if(Pi){if(i===void 0)throw Error(dt(407));i=i()}else{if(i=e(),es===null)throw Error(dt(349));E0&30||QG(r,e,i)}o.memoizedState=i;var l={value:i,getSnapshot:e};return o.queue=l,zz(tX.bind(null,r,l,n),[n]),r.flags|=2048,I2(9,eX.bind(null,r,l,i,e),void 0,null),i},useId:function(){var n=Gu(),e=es.identifierPrefix;if(Pi){var i=Jh,r=Zh;i=(r&~(1<<32-Kc(r)-1)).toString(32)+i,e=":"+e+"R"+i,i=P2++,0<i&&(e+="H"+i.toString(32)),e+=":"}else i=wue++,e=":"+e+"r"+i.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},Sue={readContext:sc,useCallback:cX,useContext:sc,useEffect:FO,useImperativeHandle:lX,useInsertionEffect:sX,useLayoutEffect:oX,useMemo:uX,useReducer:nI,useRef:rX,useState:function(){return nI(j2)},useDebugValue:UO,useDeferredValue:function(n){var e=oc();return dX(e,Dr.memoizedState,n)},useTransition:function(){var n=nI(j2)[0],e=oc().memoizedState;return[n,e]},useMutableSource:ZG,useSyncExternalStore:JG,useId:hX,unstable_isNewReconciler:!1},Aue={readContext:sc,useCallback:cX,useContext:sc,useEffect:FO,useImperativeHandle:lX,useInsertionEffect:sX,useLayoutEffect:oX,useMemo:uX,useReducer:iI,useRef:rX,useState:function(){return iI(j2)},useDebugValue:UO,useDeferredValue:function(n){var e=oc();return Dr===null?e.memoizedState=n:dX(e,Dr.memoizedState,n)},useTransition:function(){var n=iI(j2)[0],e=oc().memoizedState;return[n,e]},useMutableSource:ZG,useSyncExternalStore:JG,useId:hX,unstable_isNewReconciler:!1};function jc(n,e){if(n&&n.defaultProps){e=$i({},e),n=n.defaultProps;for(var i in n)e[i]===void 0&&(e[i]=n[i]);return e}return e}function TR(n,e,i,r){e=n.memoizedState,i=i(r,e),i=i==null?e:$i({},e,i),n.memoizedState=i,n.lanes===0&&(n.updateQueue.baseState=i)}var $N={isMounted:function(n){return(n=n._reactInternals)?U0(n)===n:!1},enqueueSetState:function(n,e,i){n=n._reactInternals;var r=No(),o=Em(n),l=Qh(r,o);l.payload=e,i!=null&&(l.callback=i),e=_m(n,l,o),e!==null&&(Yc(e,n,o,r),vD(e,n,o))},enqueueReplaceState:function(n,e,i){n=n._reactInternals;var r=No(),o=Em(n),l=Qh(r,o);l.tag=1,l.payload=e,i!=null&&(l.callback=i),e=_m(n,l,o),e!==null&&(Yc(e,n,o,r),vD(e,n,o))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var i=No(),r=Em(n),o=Qh(i,r);o.tag=2,e!=null&&(o.callback=e),e=_m(n,o,r),e!==null&&(Yc(e,n,r,i),vD(e,n,r))}};function Vz(n,e,i,r,o,l,c){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,l,c):e.prototype&&e.prototype.isPureReactComponent?!S2(i,r)||!S2(o,l):!0}function gX(n,e,i){var r=!1,o=Dm,l=e.contextType;return typeof l=="object"&&l!==null?l=sc(l):(o=oa(e)?_0:to.current,r=e.contextTypes,l=(r=r!=null)?_1(n,o):Dm),e=new e(i,l),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$N,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=o,n.__reactInternalMemoizedMaskedChildContext=l),e}function Wz(n,e,i,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,r),e.state!==n&&$N.enqueueReplaceState(e,e.state,null)}function DR(n,e,i,r){var o=n.stateNode;o.props=i,o.state=n.memoizedState,o.refs={},NO(n);var l=e.contextType;typeof l=="object"&&l!==null?o.context=sc(l):(l=oa(e)?_0:to.current,o.context=_1(n,l)),o.state=n.memoizedState,l=e.getDerivedStateFromProps,typeof l=="function"&&(TR(n,e,l,i),o.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&$N.enqueueReplaceState(o,o.state,null),C5(n,i,o,r),o.state=n.memoizedState),typeof o.componentDidMount=="function"&&(n.flags|=4194308)}function A1(n,e){try{var i="",r=e;do i+=ece(r),r=r.return;while(r);var o=i}catch(l){o=`
Error generating stack: `+l.message+`
`+l.stack}return{value:n,source:e,stack:o,digest:null}}function rI(n,e,i){return{value:n,source:null,stack:i??null,digest:e??null}}function NR(n,e){try{console.error(e.value)}catch(i){setTimeout(function(){throw i})}}var Cue=typeof WeakMap=="function"?WeakMap:Map;function bX(n,e,i){i=Qh(-1,i),i.tag=3,i.payload={element:null};var r=e.value;return i.callback=function(){j5||(j5=!0,BR=r),NR(n,e)},i}function yX(n,e,i){i=Qh(-1,i),i.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;i.payload=function(){return r(o)},i.callback=function(){NR(n,e)}}var l=n.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(i.callback=function(){NR(n,e),typeof r!="function"&&(km===null?km=new Set([this]):km.add(this));var c=e.stack;this.componentDidCatch(e.value,{componentStack:c!==null?c:""})}),i}function $z(n,e,i){var r=n.pingCache;if(r===null){r=n.pingCache=new Cue;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(i)||(o.add(i),n=zue.bind(null,n,e,i),e.then(n,n))}function qz(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function Hz(n,e,i,r,o){return n.mode&1?(n.flags|=65536,n.lanes=o,n):(n===e?n.flags|=65536:(n.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(e=Qh(-1,1),e.tag=2,_m(i,e,1))),i.lanes|=1),n)}var Tue=bf.ReactCurrentOwner,ia=!1;function To(n,e,i,r){e.child=n===null?GG(e,null,i,r):E1(e,n.child,i,r)}function Gz(n,e,i,r,o){i=i.render;var l=e.ref;return sw(e,o),r=MO(n,e,i,r,l,o),i=OO(),n!==null&&!ia?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~o,af(n,e,o)):(Pi&&i&&kO(e),e.flags|=1,To(n,e,r,o),e.child)}function Xz(n,e,i,r,o){if(n===null){var l=i.type;return typeof l=="function"&&!HO(l)&&l.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(e.tag=15,e.type=l,vX(n,e,l,r,o)):(n=SD(i.type,null,r,e,e.mode,o),n.ref=e.ref,n.return=e,e.child=n)}if(l=n.child,!(n.lanes&o)){var c=l.memoizedProps;if(i=i.compare,i=i!==null?i:S2,i(c,r)&&n.ref===e.ref)return af(n,e,o)}return e.flags|=1,n=Sm(l,r),n.ref=e.ref,n.return=e,e.child=n}function vX(n,e,i,r,o){if(n!==null){var l=n.memoizedProps;if(S2(l,r)&&n.ref===e.ref)if(ia=!1,e.pendingProps=r=l,(n.lanes&o)!==0)n.flags&131072&&(ia=!0);else return e.lanes=n.lanes,af(n,e,o)}return PR(n,e,i,r,o)}function wX(n,e,i){var r=e.pendingProps,o=r.children,l=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pi(Wv,Ka),Ka|=i;else{if(!(i&1073741824))return n=l!==null?l.baseLanes|i:i,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,pi(Wv,Ka),Ka|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:i,pi(Wv,Ka),Ka|=r}else l!==null?(r=l.baseLanes|i,e.memoizedState=null):r=i,pi(Wv,Ka),Ka|=r;return To(n,e,o,i),e.child}function xX(n,e){var i=e.ref;(n===null&&i!==null||n!==null&&n.ref!==i)&&(e.flags|=512,e.flags|=2097152)}function PR(n,e,i,r,o){var l=oa(i)?_0:to.current;return l=_1(e,l),sw(e,o),i=MO(n,e,i,r,l,o),r=OO(),n!==null&&!ia?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~o,af(n,e,o)):(Pi&&r&&kO(e),e.flags|=1,To(n,e,i,o),e.child)}function Kz(n,e,i,r,o){if(oa(i)){var l=!0;_5(e)}else l=!1;if(sw(e,o),e.stateNode===null)_D(n,e),gX(e,i,r),DR(e,i,r,o),r=!0;else if(n===null){var c=e.stateNode,u=e.memoizedProps;c.props=u;var h=c.context,m=i.contextType;typeof m=="object"&&m!==null?m=sc(m):(m=oa(i)?_0:to.current,m=_1(e,m));var g=i.getDerivedStateFromProps,y=typeof g=="function"||typeof c.getSnapshotBeforeUpdate=="function";y||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(u!==r||h!==m)&&Wz(e,c,r,m),Ep=!1;var v=e.memoizedState;c.state=v,C5(e,r,c,o),h=e.memoizedState,u!==r||v!==h||sa.current||Ep?(typeof g=="function"&&(TR(e,i,g,r),h=e.memoizedState),(u=Ep||Vz(e,i,u,r,v,h,m))?(y||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(e.flags|=4194308)):(typeof c.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=h),c.props=r,c.state=h,c.context=m,r=u):(typeof c.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{c=e.stateNode,KG(n,e),u=e.memoizedProps,m=e.type===e.elementType?u:jc(e.type,u),c.props=m,y=e.pendingProps,v=c.context,h=i.contextType,typeof h=="object"&&h!==null?h=sc(h):(h=oa(i)?_0:to.current,h=_1(e,h));var _=i.getDerivedStateFromProps;(g=typeof _=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(u!==y||v!==h)&&Wz(e,c,r,h),Ep=!1,v=e.memoizedState,c.state=v,C5(e,r,c,o);var A=e.memoizedState;u!==y||v!==A||sa.current||Ep?(typeof _=="function"&&(TR(e,i,_,r),A=e.memoizedState),(m=Ep||Vz(e,i,m,r,v,A,h)||!1)?(g||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,A,h),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,A,h)),typeof c.componentDidUpdate=="function"&&(e.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof c.componentDidUpdate!="function"||u===n.memoizedProps&&v===n.memoizedState||(e.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||u===n.memoizedProps&&v===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=A),c.props=r,c.state=A,c.context=h,r=m):(typeof c.componentDidUpdate!="function"||u===n.memoizedProps&&v===n.memoizedState||(e.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||u===n.memoizedProps&&v===n.memoizedState||(e.flags|=1024),r=!1)}return jR(n,e,i,r,l,o)}function jR(n,e,i,r,o,l){xX(n,e);var c=(e.flags&128)!==0;if(!r&&!c)return o&&Rz(e,i,!1),af(n,e,l);r=e.stateNode,Tue.current=e;var u=c&&typeof i.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&c?(e.child=E1(e,n.child,null,l),e.child=E1(e,null,u,l)):To(n,e,u,l),e.memoizedState=r.state,o&&Rz(e,i,!0),e.child}function _X(n){var e=n.stateNode;e.pendingContext?Iz(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Iz(n,e.context,!1),PO(n,e.containerInfo)}function Yz(n,e,i,r,o){return k1(),SO(o),e.flags|=256,To(n,e,i,r),e.child}var IR={dehydrated:null,treeContext:null,retryLane:0};function RR(n){return{baseLanes:n,cachePool:null,transitions:null}}function kX(n,e,i){var r=e.pendingProps,o=Li.current,l=!1,c=(e.flags&128)!==0,u;if((u=c)||(u=n!==null&&n.memoizedState===null?!1:(o&2)!==0),u?(l=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(o|=1),pi(Li,o&1),n===null)return AR(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(c=r.children,n=r.fallback,l?(r=e.mode,l=e.child,c={mode:"hidden",children:c},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=c):l=GN(c,r,0,null),n=b0(n,r,i,null),l.return=e,n.return=e,l.sibling=n,e.child=l,e.child.memoizedState=RR(i),e.memoizedState=IR,n):LO(e,c));if(o=n.memoizedState,o!==null&&(u=o.dehydrated,u!==null))return Due(n,e,c,r,u,o,i);if(l){l=r.fallback,c=e.mode,o=n.child,u=o.sibling;var h={mode:"hidden",children:r.children};return!(c&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=h,e.deletions=null):(r=Sm(o,h),r.subtreeFlags=o.subtreeFlags&14680064),u!==null?l=Sm(u,l):(l=b0(l,c,i,null),l.flags|=2),l.return=e,r.return=e,r.sibling=l,e.child=r,r=l,l=e.child,c=n.child.memoizedState,c=c===null?RR(i):{baseLanes:c.baseLanes|i,cachePool:null,transitions:c.transitions},l.memoizedState=c,l.childLanes=n.childLanes&~i,e.memoizedState=IR,r}return l=n.child,n=l.sibling,r=Sm(l,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=i),r.return=e,r.sibling=null,n!==null&&(i=e.deletions,i===null?(e.deletions=[n],e.flags|=16):i.push(n)),e.child=r,e.memoizedState=null,r}function LO(n,e){return e=GN({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function OT(n,e,i,r){return r!==null&&SO(r),E1(e,n.child,null,i),n=LO(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function Due(n,e,i,r,o,l,c){if(i)return e.flags&256?(e.flags&=-257,r=rI(Error(dt(422))),OT(n,e,c,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(l=r.fallback,o=e.mode,r=GN({mode:"visible",children:r.children},o,0,null),l=b0(l,o,c,null),l.flags|=2,r.return=e,l.return=e,r.sibling=l,e.child=r,e.mode&1&&E1(e,n.child,null,c),e.child.memoizedState=RR(c),e.memoizedState=IR,l);if(!(e.mode&1))return OT(n,e,c,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var u=r.dgst;return r=u,l=Error(dt(419)),r=rI(l,r,void 0),OT(n,e,c,r)}if(u=(c&n.childLanes)!==0,ia||u){if(r=es,r!==null){switch(c&-c){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|c)?0:o,o!==0&&o!==l.retryLane&&(l.retryLane=o,of(n,o),Yc(r,n,o,-1))}return qO(),r=rI(Error(dt(421))),OT(n,e,c,r)}return o.data==="$?"?(e.flags|=128,e.child=n.child,e=Vue.bind(null,n),o._reactRetry=e,null):(n=l.treeContext,Ja=xm(o.nextSibling),Qa=e,Pi=!0,Gc=null,n!==null&&(Kl[Yl++]=Zh,Kl[Yl++]=Jh,Kl[Yl++]=k0,Zh=n.id,Jh=n.overflow,k0=e),e=LO(e,r.children),e.flags|=4096,e)}function Zz(n,e,i){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),CR(n.return,e,i)}function sI(n,e,i,r,o){var l=n.memoizedState;l===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:o}:(l.isBackwards=e,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=i,l.tailMode=o)}function EX(n,e,i){var r=e.pendingProps,o=r.revealOrder,l=r.tail;if(To(n,e,r.children,i),r=Li.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Zz(n,i,e);else if(n.tag===19)Zz(n,i,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(pi(Li,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(i=e.child,o=null;i!==null;)n=i.alternate,n!==null&&T5(n)===null&&(o=i),i=i.sibling;i=o,i===null?(o=e.child,e.child=null):(o=i.sibling,i.sibling=null),sI(e,!1,o,i,l);break;case"backwards":for(i=null,o=e.child,e.child=null;o!==null;){if(n=o.alternate,n!==null&&T5(n)===null){e.child=o;break}n=o.sibling,o.sibling=i,i=o,o=n}sI(e,!0,i,null,l);break;case"together":sI(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _D(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function af(n,e,i){if(n!==null&&(e.dependencies=n.dependencies),S0|=e.lanes,!(i&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(dt(153));if(e.child!==null){for(n=e.child,i=Sm(n,n.pendingProps),e.child=i,i.return=e;n.sibling!==null;)n=n.sibling,i=i.sibling=Sm(n,n.pendingProps),i.return=e;i.sibling=null}return e.child}function Nue(n,e,i){switch(e.tag){case 3:_X(e),k1();break;case 5:YG(e);break;case 1:oa(e.type)&&_5(e);break;case 4:PO(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;pi(S5,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(pi(Li,Li.current&1),e.flags|=128,null):i&e.child.childLanes?kX(n,e,i):(pi(Li,Li.current&1),n=af(n,e,i),n!==null?n.sibling:null);pi(Li,Li.current&1);break;case 19:if(r=(i&e.childLanes)!==0,n.flags&128){if(r)return EX(n,e,i);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),pi(Li,Li.current),r)break;return null;case 22:case 23:return e.lanes=0,wX(n,e,i)}return af(n,e,i)}var SX,MR,AX,CX;SX=function(n,e){for(var i=e.child;i!==null;){if(i.tag===5||i.tag===6)n.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};MR=function(){};AX=function(n,e,i,r){var o=n.memoizedProps;if(o!==r){n=e.stateNode,lb(md.current);var l=null;switch(i){case"input":o=iR(n,o),r=iR(n,r),l=[];break;case"select":o=$i({},o,{value:void 0}),r=$i({},r,{value:void 0}),l=[];break;case"textarea":o=oR(n,o),r=oR(n,r),l=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=w5)}lR(i,r);var c;i=null;for(m in o)if(!r.hasOwnProperty(m)&&o.hasOwnProperty(m)&&o[m]!=null)if(m==="style"){var u=o[m];for(c in u)u.hasOwnProperty(c)&&(i||(i={}),i[c]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(y2.hasOwnProperty(m)?l||(l=[]):(l=l||[]).push(m,null));for(m in r){var h=r[m];if(u=o!=null?o[m]:void 0,r.hasOwnProperty(m)&&h!==u&&(h!=null||u!=null))if(m==="style")if(u){for(c in u)!u.hasOwnProperty(c)||h&&h.hasOwnProperty(c)||(i||(i={}),i[c]="");for(c in h)h.hasOwnProperty(c)&&u[c]!==h[c]&&(i||(i={}),i[c]=h[c])}else i||(l||(l=[]),l.push(m,i)),i=h;else m==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,u=u?u.__html:void 0,h!=null&&u!==h&&(l=l||[]).push(m,h)):m==="children"?typeof h!="string"&&typeof h!="number"||(l=l||[]).push(m,""+h):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(y2.hasOwnProperty(m)?(h!=null&&m==="onScroll"&&_i("scroll",n),l||u===h||(l=[])):(l=l||[]).push(m,h))}i&&(l=l||[]).push("style",i);var m=l;(e.updateQueue=m)&&(e.flags|=4)}};CX=function(n,e,i,r){i!==r&&(e.flags|=4)};function hk(n,e){if(!Pi)switch(n.tailMode){case"hidden":e=n.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?n.tail=null:i.sibling=null;break;case"collapsed":i=n.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Ws(n){var e=n.alternate!==null&&n.alternate.child===n.child,i=0,r=0;if(e)for(var o=n.child;o!==null;)i|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=n,o=o.sibling;else for(o=n.child;o!==null;)i|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=n,o=o.sibling;return n.subtreeFlags|=r,n.childLanes=i,e}function Pue(n,e,i){var r=e.pendingProps;switch(EO(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(e),null;case 1:return oa(e.type)&&x5(),Ws(e),null;case 3:return r=e.stateNode,S1(),Ei(sa),Ei(to),IO(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(RT(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gc!==null&&(WR(Gc),Gc=null))),MR(n,e),Ws(e),null;case 5:jO(e);var o=lb(N2.current);if(i=e.type,n!==null&&e.stateNode!=null)AX(n,e,i,r,o),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(dt(166));return Ws(e),null}if(n=lb(md.current),RT(e)){r=e.stateNode,i=e.type;var l=e.memoizedProps;switch(r[dd]=e,r[T2]=l,n=(e.mode&1)!==0,i){case"dialog":_i("cancel",r),_i("close",r);break;case"iframe":case"object":case"embed":_i("load",r);break;case"video":case"audio":for(o=0;o<Pk.length;o++)_i(Pk[o],r);break;case"source":_i("error",r);break;case"img":case"image":case"link":_i("error",r),_i("load",r);break;case"details":_i("toggle",r);break;case"input":oz(r,l),_i("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},_i("invalid",r);break;case"textarea":lz(r,l),_i("invalid",r)}lR(i,l),o=null;for(var c in l)if(l.hasOwnProperty(c)){var u=l[c];c==="children"?typeof u=="string"?r.textContent!==u&&(l.suppressHydrationWarning!==!0&&IT(r.textContent,u,n),o=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(l.suppressHydrationWarning!==!0&&IT(r.textContent,u,n),o=["children",""+u]):y2.hasOwnProperty(c)&&u!=null&&c==="onScroll"&&_i("scroll",r)}switch(i){case"input":ST(r),az(r,l,!0);break;case"textarea":ST(r),cz(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=w5)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{c=o.nodeType===9?o:o.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=tG(i)),n==="http://www.w3.org/1999/xhtml"?i==="script"?(n=c.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=c.createElement(i,{is:r.is}):(n=c.createElement(i),i==="select"&&(c=n,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):n=c.createElementNS(n,i),n[dd]=e,n[T2]=r,SX(n,e,!1,!1),e.stateNode=n;e:{switch(c=cR(i,r),i){case"dialog":_i("cancel",n),_i("close",n),o=r;break;case"iframe":case"object":case"embed":_i("load",n),o=r;break;case"video":case"audio":for(o=0;o<Pk.length;o++)_i(Pk[o],n);o=r;break;case"source":_i("error",n),o=r;break;case"img":case"image":case"link":_i("error",n),_i("load",n),o=r;break;case"details":_i("toggle",n),o=r;break;case"input":oz(n,r),o=iR(n,r),_i("invalid",n);break;case"option":o=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},o=$i({},r,{value:void 0}),_i("invalid",n);break;case"textarea":lz(n,r),o=oR(n,r),_i("invalid",n);break;default:o=r}lR(i,o),u=o;for(l in u)if(u.hasOwnProperty(l)){var h=u[l];l==="style"?rG(n,h):l==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&nG(n,h)):l==="children"?typeof h=="string"?(i!=="textarea"||h!=="")&&v2(n,h):typeof h=="number"&&v2(n,""+h):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(y2.hasOwnProperty(l)?h!=null&&l==="onScroll"&&_i("scroll",n):h!=null&&cO(n,l,h,c))}switch(i){case"input":ST(n),az(n,r,!1);break;case"textarea":ST(n),cz(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Tm(r.value));break;case"select":n.multiple=!!r.multiple,l=r.value,l!=null?tw(n,!!r.multiple,l,!1):r.defaultValue!=null&&tw(n,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(n.onclick=w5)}switch(i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ws(e),null;case 6:if(n&&e.stateNode!=null)CX(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(dt(166));if(i=lb(N2.current),lb(md.current),RT(e)){if(r=e.stateNode,i=e.memoizedProps,r[dd]=e,(l=r.nodeValue!==i)&&(n=Qa,n!==null))switch(n.tag){case 3:IT(r.nodeValue,i,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&IT(r.nodeValue,i,(n.mode&1)!==0)}l&&(e.flags|=4)}else r=(i.nodeType===9?i:i.ownerDocument).createTextNode(r),r[dd]=e,e.stateNode=r}return Ws(e),null;case 13:if(Ei(Li),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Pi&&Ja!==null&&e.mode&1&&!(e.flags&128))qG(),k1(),e.flags|=98560,l=!1;else if(l=RT(e),r!==null&&r.dehydrated!==null){if(n===null){if(!l)throw Error(dt(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(dt(317));l[dd]=e}else k1(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ws(e),l=!1}else Gc!==null&&(WR(Gc),Gc=null),l=!0;if(!l)return e.flags&65536?e:null}return e.flags&128?(e.lanes=i,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Li.current&1?Nr===0&&(Nr=3):qO())),e.updateQueue!==null&&(e.flags|=4),Ws(e),null);case 4:return S1(),MR(n,e),n===null&&A2(e.stateNode.containerInfo),Ws(e),null;case 10:return TO(e.type._context),Ws(e),null;case 17:return oa(e.type)&&x5(),Ws(e),null;case 19:if(Ei(Li),l=e.memoizedState,l===null)return Ws(e),null;if(r=(e.flags&128)!==0,c=l.rendering,c===null)if(r)hk(l,!1);else{if(Nr!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(c=T5(n),c!==null){for(e.flags|=128,hk(l,!1),r=c.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=i,i=e.child;i!==null;)l=i,n=r,l.flags&=14680066,c=l.alternate,c===null?(l.childLanes=0,l.lanes=n,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=c.childLanes,l.lanes=c.lanes,l.child=c.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=c.memoizedProps,l.memoizedState=c.memoizedState,l.updateQueue=c.updateQueue,l.type=c.type,n=c.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),i=i.sibling;return pi(Li,Li.current&1|2),e.child}n=n.sibling}l.tail!==null&&rr()>C1&&(e.flags|=128,r=!0,hk(l,!1),e.lanes=4194304)}else{if(!r)if(n=T5(c),n!==null){if(e.flags|=128,r=!0,i=n.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),hk(l,!0),l.tail===null&&l.tailMode==="hidden"&&!c.alternate&&!Pi)return Ws(e),null}else 2*rr()-l.renderingStartTime>C1&&i!==1073741824&&(e.flags|=128,r=!0,hk(l,!1),e.lanes=4194304);l.isBackwards?(c.sibling=e.child,e.child=c):(i=l.last,i!==null?i.sibling=c:e.child=c,l.last=c)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=rr(),e.sibling=null,i=Li.current,pi(Li,r?i&1|2:i&1),e):(Ws(e),null);case 22:case 23:return $O(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ka&1073741824&&(Ws(e),e.subtreeFlags&6&&(e.flags|=8192)):Ws(e),null;case 24:return null;case 25:return null}throw Error(dt(156,e.tag))}function jue(n,e){switch(EO(e),e.tag){case 1:return oa(e.type)&&x5(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return S1(),Ei(sa),Ei(to),IO(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return jO(e),null;case 13:if(Ei(Li),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(dt(340));k1()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Ei(Li),null;case 4:return S1(),null;case 10:return TO(e.type._context),null;case 22:case 23:return $O(),null;case 24:return null;default:return null}}var FT=!1,Js=!1,Iue=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function Vv(n,e){var i=n.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(r){Zi(n,e,r)}else i.current=null}function OR(n,e,i){try{i()}catch(r){Zi(n,e,r)}}var Jz=!1;function Rue(n,e){if(vR=b5,n=jG(),_O(n)){if("selectionStart"in n)var i={start:n.selectionStart,end:n.selectionEnd};else e:{i=(i=n.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var o=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{i.nodeType,l.nodeType}catch{i=null;break e}var c=0,u=-1,h=-1,m=0,g=0,y=n,v=null;t:for(;;){for(var _;y!==i||o!==0&&y.nodeType!==3||(u=c+o),y!==l||r!==0&&y.nodeType!==3||(h=c+r),y.nodeType===3&&(c+=y.nodeValue.length),(_=y.firstChild)!==null;)v=y,y=_;for(;;){if(y===n)break t;if(v===i&&++m===o&&(u=c),v===l&&++g===r&&(h=c),(_=y.nextSibling)!==null)break;y=v,v=y.parentNode}y=_}i=u===-1||h===-1?null:{start:u,end:h}}else i=null}i=i||{start:0,end:0}}else i=null;for(wR={focusedElem:n,selectionRange:i},b5=!1,Dt=e;Dt!==null;)if(e=Dt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Dt=n;else for(;Dt!==null;){e=Dt;try{var A=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var S=A.memoizedProps,C=A.memoizedState,T=e.stateNode,N=T.getSnapshotBeforeUpdate(e.elementType===e.type?S:jc(e.type,S),C);T.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var j=e.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(dt(163))}}catch(O){Zi(e,e.return,O)}if(n=e.sibling,n!==null){n.return=e.return,Dt=n;break}Dt=e.return}return A=Jz,Jz=!1,A}function r2(n,e,i){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&n)===n){var l=o.destroy;o.destroy=void 0,l!==void 0&&OR(e,i,l)}o=o.next}while(o!==r)}}function qN(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var i=e=e.next;do{if((i.tag&n)===n){var r=i.create;i.destroy=r()}i=i.next}while(i!==e)}}function FR(n){var e=n.ref;if(e!==null){var i=n.stateNode;switch(n.tag){case 5:n=i;break;default:n=i}typeof e=="function"?e(n):e.current=n}}function TX(n){var e=n.alternate;e!==null&&(n.alternate=null,TX(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[dd],delete e[T2],delete e[kR],delete e[gue],delete e[bue])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function DX(n){return n.tag===5||n.tag===3||n.tag===4}function Qz(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||DX(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function UR(n,e,i){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?i.nodeType===8?i.parentNode.insertBefore(n,e):i.insertBefore(n,e):(i.nodeType===8?(e=i.parentNode,e.insertBefore(n,i)):(e=i,e.appendChild(n)),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=w5));else if(r!==4&&(n=n.child,n!==null))for(UR(n,e,i),n=n.sibling;n!==null;)UR(n,e,i),n=n.sibling}function LR(n,e,i){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?i.insertBefore(n,e):i.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(LR(n,e,i),n=n.sibling;n!==null;)LR(n,e,i),n=n.sibling}var ws=null,qc=!1;function gp(n,e,i){for(i=i.child;i!==null;)NX(n,e,i),i=i.sibling}function NX(n,e,i){if(pd&&typeof pd.onCommitFiberUnmount=="function")try{pd.onCommitFiberUnmount(FN,i)}catch{}switch(i.tag){case 5:Js||Vv(i,e);case 6:var r=ws,o=qc;ws=null,gp(n,e,i),ws=r,qc=o,ws!==null&&(qc?(n=ws,i=i.stateNode,n.nodeType===8?n.parentNode.removeChild(i):n.removeChild(i)):ws.removeChild(i.stateNode));break;case 18:ws!==null&&(qc?(n=ws,i=i.stateNode,n.nodeType===8?Jj(n.parentNode,i):n.nodeType===1&&Jj(n,i),k2(n)):Jj(ws,i.stateNode));break;case 4:r=ws,o=qc,ws=i.stateNode.containerInfo,qc=!0,gp(n,e,i),ws=r,qc=o;break;case 0:case 11:case 14:case 15:if(!Js&&(r=i.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var l=o,c=l.destroy;l=l.tag,c!==void 0&&(l&2||l&4)&&OR(i,e,c),o=o.next}while(o!==r)}gp(n,e,i);break;case 1:if(!Js&&(Vv(i,e),r=i.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=i.memoizedProps,r.state=i.memoizedState,r.componentWillUnmount()}catch(u){Zi(i,e,u)}gp(n,e,i);break;case 21:gp(n,e,i);break;case 22:i.mode&1?(Js=(r=Js)||i.memoizedState!==null,gp(n,e,i),Js=r):gp(n,e,i);break;default:gp(n,e,i)}}function eV(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var i=n.stateNode;i===null&&(i=n.stateNode=new Iue),e.forEach(function(r){var o=Wue.bind(null,n,r);i.has(r)||(i.add(r),r.then(o,o))})}}function Dc(n,e){var i=e.deletions;if(i!==null)for(var r=0;r<i.length;r++){var o=i[r];try{var l=n,c=e,u=c;e:for(;u!==null;){switch(u.tag){case 5:ws=u.stateNode,qc=!1;break e;case 3:ws=u.stateNode.containerInfo,qc=!0;break e;case 4:ws=u.stateNode.containerInfo,qc=!0;break e}u=u.return}if(ws===null)throw Error(dt(160));NX(l,c,o),ws=null,qc=!1;var h=o.alternate;h!==null&&(h.return=null),o.return=null}catch(m){Zi(o,e,m)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)PX(e,n),e=e.sibling}function PX(n,e){var i=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Dc(e,n),Vu(n),r&4){try{r2(3,n,n.return),qN(3,n)}catch(S){Zi(n,n.return,S)}try{r2(5,n,n.return)}catch(S){Zi(n,n.return,S)}}break;case 1:Dc(e,n),Vu(n),r&512&&i!==null&&Vv(i,i.return);break;case 5:if(Dc(e,n),Vu(n),r&512&&i!==null&&Vv(i,i.return),n.flags&32){var o=n.stateNode;try{v2(o,"")}catch(S){Zi(n,n.return,S)}}if(r&4&&(o=n.stateNode,o!=null)){var l=n.memoizedProps,c=i!==null?i.memoizedProps:l,u=n.type,h=n.updateQueue;if(n.updateQueue=null,h!==null)try{u==="input"&&l.type==="radio"&&l.name!=null&&QH(o,l),cR(u,c);var m=cR(u,l);for(c=0;c<h.length;c+=2){var g=h[c],y=h[c+1];g==="style"?rG(o,y):g==="dangerouslySetInnerHTML"?nG(o,y):g==="children"?v2(o,y):cO(o,g,y,m)}switch(u){case"input":rR(o,l);break;case"textarea":eG(o,l);break;case"select":var v=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!l.multiple;var _=l.value;_!=null?tw(o,!!l.multiple,_,!1):v!==!!l.multiple&&(l.defaultValue!=null?tw(o,!!l.multiple,l.defaultValue,!0):tw(o,!!l.multiple,l.multiple?[]:"",!1))}o[T2]=l}catch(S){Zi(n,n.return,S)}}break;case 6:if(Dc(e,n),Vu(n),r&4){if(n.stateNode===null)throw Error(dt(162));o=n.stateNode,l=n.memoizedProps;try{o.nodeValue=l}catch(S){Zi(n,n.return,S)}}break;case 3:if(Dc(e,n),Vu(n),r&4&&i!==null&&i.memoizedState.isDehydrated)try{k2(e.containerInfo)}catch(S){Zi(n,n.return,S)}break;case 4:Dc(e,n),Vu(n);break;case 13:Dc(e,n),Vu(n),o=n.child,o.flags&8192&&(l=o.memoizedState!==null,o.stateNode.isHidden=l,!l||o.alternate!==null&&o.alternate.memoizedState!==null||(VO=rr())),r&4&&eV(n);break;case 22:if(g=i!==null&&i.memoizedState!==null,n.mode&1?(Js=(m=Js)||g,Dc(e,n),Js=m):Dc(e,n),Vu(n),r&8192){if(m=n.memoizedState!==null,(n.stateNode.isHidden=m)&&!g&&n.mode&1)for(Dt=n,g=n.child;g!==null;){for(y=Dt=g;Dt!==null;){switch(v=Dt,_=v.child,v.tag){case 0:case 11:case 14:case 15:r2(4,v,v.return);break;case 1:Vv(v,v.return);var A=v.stateNode;if(typeof A.componentWillUnmount=="function"){r=v,i=v.return;try{e=r,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(S){Zi(r,i,S)}}break;case 5:Vv(v,v.return);break;case 22:if(v.memoizedState!==null){nV(y);continue}}_!==null?(_.return=v,Dt=_):nV(y)}g=g.sibling}e:for(g=null,y=n;;){if(y.tag===5){if(g===null){g=y;try{o=y.stateNode,m?(l=o.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(u=y.stateNode,h=y.memoizedProps.style,c=h!=null&&h.hasOwnProperty("display")?h.display:null,u.style.display=iG("display",c))}catch(S){Zi(n,n.return,S)}}}else if(y.tag===6){if(g===null)try{y.stateNode.nodeValue=m?"":y.memoizedProps}catch(S){Zi(n,n.return,S)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===n)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;g===y&&(g=null),y=y.return}g===y&&(g=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:Dc(e,n),Vu(n),r&4&&eV(n);break;case 21:break;default:Dc(e,n),Vu(n)}}function Vu(n){var e=n.flags;if(e&2){try{e:{for(var i=n.return;i!==null;){if(DX(i)){var r=i;break e}i=i.return}throw Error(dt(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(v2(o,""),r.flags&=-33);var l=Qz(n);LR(n,l,o);break;case 3:case 4:var c=r.stateNode.containerInfo,u=Qz(n);UR(n,u,c);break;default:throw Error(dt(161))}}catch(h){Zi(n,n.return,h)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function Mue(n,e,i){Dt=n,jX(n)}function jX(n,e,i){for(var r=(n.mode&1)!==0;Dt!==null;){var o=Dt,l=o.child;if(o.tag===22&&r){var c=o.memoizedState!==null||FT;if(!c){var u=o.alternate,h=u!==null&&u.memoizedState!==null||Js;u=FT;var m=Js;if(FT=c,(Js=h)&&!m)for(Dt=o;Dt!==null;)c=Dt,h=c.child,c.tag===22&&c.memoizedState!==null?iV(o):h!==null?(h.return=c,Dt=h):iV(o);for(;l!==null;)Dt=l,jX(l),l=l.sibling;Dt=o,FT=u,Js=m}tV(n)}else o.subtreeFlags&8772&&l!==null?(l.return=o,Dt=l):tV(n)}}function tV(n){for(;Dt!==null;){var e=Dt;if(e.flags&8772){var i=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Js||qN(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Js)if(i===null)r.componentDidMount();else{var o=e.elementType===e.type?i.memoizedProps:jc(e.type,i.memoizedProps);r.componentDidUpdate(o,i.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=e.updateQueue;l!==null&&Lz(e,l,r);break;case 3:var c=e.updateQueue;if(c!==null){if(i=null,e.child!==null)switch(e.child.tag){case 5:i=e.child.stateNode;break;case 1:i=e.child.stateNode}Lz(e,c,i)}break;case 5:var u=e.stateNode;if(i===null&&e.flags&4){i=u;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&i.focus();break;case"img":h.src&&(i.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var m=e.alternate;if(m!==null){var g=m.memoizedState;if(g!==null){var y=g.dehydrated;y!==null&&k2(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(dt(163))}Js||e.flags&512&&FR(e)}catch(v){Zi(e,e.return,v)}}if(e===n){Dt=null;break}if(i=e.sibling,i!==null){i.return=e.return,Dt=i;break}Dt=e.return}}function nV(n){for(;Dt!==null;){var e=Dt;if(e===n){Dt=null;break}var i=e.sibling;if(i!==null){i.return=e.return,Dt=i;break}Dt=e.return}}function iV(n){for(;Dt!==null;){var e=Dt;try{switch(e.tag){case 0:case 11:case 15:var i=e.return;try{qN(4,e)}catch(h){Zi(e,i,h)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(h){Zi(e,o,h)}}var l=e.return;try{FR(e)}catch(h){Zi(e,l,h)}break;case 5:var c=e.return;try{FR(e)}catch(h){Zi(e,c,h)}}}catch(h){Zi(e,e.return,h)}if(e===n){Dt=null;break}var u=e.sibling;if(u!==null){u.return=e.return,Dt=u;break}Dt=e.return}}var Oue=Math.ceil,P5=bf.ReactCurrentDispatcher,BO=bf.ReactCurrentOwner,tc=bf.ReactCurrentBatchConfig,Tn=0,es=null,br=null,Ss=0,Ka=0,Wv=zm(0),Nr=0,R2=null,S0=0,HN=0,zO=0,s2=null,ea=null,VO=0,C1=1/0,gh=null,j5=!1,BR=null,km=null,UT=!1,mm=null,I5=0,o2=0,zR=null,kD=-1,ED=0;function No(){return Tn&6?rr():kD!==-1?kD:kD=rr()}function Em(n){return n.mode&1?Tn&2&&Ss!==0?Ss&-Ss:vue.transition!==null?(ED===0&&(ED=gG()),ED):(n=Jn,n!==0||(n=window.event,n=n===void 0?16:kG(n.type)),n):1}function Yc(n,e,i,r){if(50<o2)throw o2=0,zR=null,Error(dt(185));jS(n,i,r),(!(Tn&2)||n!==es)&&(n===es&&(!(Tn&2)&&(HN|=i),Nr===4&&Tp(n,Ss)),aa(n,r),i===1&&Tn===0&&!(e.mode&1)&&(C1=rr()+500,VN&&Vm()))}function aa(n,e){var i=n.callbackNode;vce(n,e);var r=g5(n,n===es?Ss:0);if(r===0)i!==null&&hz(i),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(i!=null&&hz(i),e===1)n.tag===0?yue(rV.bind(null,n)):VG(rV.bind(null,n)),pue(function(){!(Tn&6)&&Vm()}),i=null;else{switch(bG(r)){case 1:i=pO;break;case 4:i=pG;break;case 16:i=m5;break;case 536870912:i=mG;break;default:i=m5}i=BX(i,IX.bind(null,n))}n.callbackPriority=e,n.callbackNode=i}}function IX(n,e){if(kD=-1,ED=0,Tn&6)throw Error(dt(327));var i=n.callbackNode;if(ow()&&n.callbackNode!==i)return null;var r=g5(n,n===es?Ss:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=R5(n,r);else{e=r;var o=Tn;Tn|=2;var l=MX();(es!==n||Ss!==e)&&(gh=null,C1=rr()+500,g0(n,e));do try{Lue();break}catch(u){RX(n,u)}while(!0);CO(),P5.current=l,Tn=o,br!==null?e=0:(es=null,Ss=0,e=Nr)}if(e!==0){if(e===2&&(o=pR(n),o!==0&&(r=o,e=VR(n,o))),e===1)throw i=R2,g0(n,0),Tp(n,r),aa(n,rr()),i;if(e===6)Tp(n,r);else{if(o=n.current.alternate,!(r&30)&&!Fue(o)&&(e=R5(n,r),e===2&&(l=pR(n),l!==0&&(r=l,e=VR(n,l))),e===1))throw i=R2,g0(n,0),Tp(n,r),aa(n,rr()),i;switch(n.finishedWork=o,n.finishedLanes=r,e){case 0:case 1:throw Error(dt(345));case 2:Zg(n,ea,gh);break;case 3:if(Tp(n,r),(r&130023424)===r&&(e=VO+500-rr(),10<e)){if(g5(n,0)!==0)break;if(o=n.suspendedLanes,(o&r)!==r){No(),n.pingedLanes|=n.suspendedLanes&o;break}n.timeoutHandle=_R(Zg.bind(null,n,ea,gh),e);break}Zg(n,ea,gh);break;case 4:if(Tp(n,r),(r&4194240)===r)break;for(e=n.eventTimes,o=-1;0<r;){var c=31-Kc(r);l=1<<c,c=e[c],c>o&&(o=c),r&=~l}if(r=o,r=rr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Oue(r/1960))-r,10<r){n.timeoutHandle=_R(Zg.bind(null,n,ea,gh),r);break}Zg(n,ea,gh);break;case 5:Zg(n,ea,gh);break;default:throw Error(dt(329))}}}return aa(n,rr()),n.callbackNode===i?IX.bind(null,n):null}function VR(n,e){var i=s2;return n.current.memoizedState.isDehydrated&&(g0(n,e).flags|=256),n=R5(n,e),n!==2&&(e=ea,ea=i,e!==null&&WR(e)),n}function WR(n){ea===null?ea=n:ea.push.apply(ea,n)}function Fue(n){for(var e=n;;){if(e.flags&16384){var i=e.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var r=0;r<i.length;r++){var o=i[r],l=o.getSnapshot;o=o.value;try{if(!Jc(l(),o))return!1}catch{return!1}}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Tp(n,e){for(e&=~zO,e&=~HN,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var i=31-Kc(e),r=1<<i;n[i]=-1,e&=~r}}function rV(n){if(Tn&6)throw Error(dt(327));ow();var e=g5(n,0);if(!(e&1))return aa(n,rr()),null;var i=R5(n,e);if(n.tag!==0&&i===2){var r=pR(n);r!==0&&(e=r,i=VR(n,r))}if(i===1)throw i=R2,g0(n,0),Tp(n,e),aa(n,rr()),i;if(i===6)throw Error(dt(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Zg(n,ea,gh),aa(n,rr()),null}function WO(n,e){var i=Tn;Tn|=1;try{return n(e)}finally{Tn=i,Tn===0&&(C1=rr()+500,VN&&Vm())}}function A0(n){mm!==null&&mm.tag===0&&!(Tn&6)&&ow();var e=Tn;Tn|=1;var i=tc.transition,r=Jn;try{if(tc.transition=null,Jn=1,n)return n()}finally{Jn=r,tc.transition=i,Tn=e,!(Tn&6)&&Vm()}}function $O(){Ka=Wv.current,Ei(Wv)}function g0(n,e){n.finishedWork=null,n.finishedLanes=0;var i=n.timeoutHandle;if(i!==-1&&(n.timeoutHandle=-1,fue(i)),br!==null)for(i=br.return;i!==null;){var r=i;switch(EO(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&x5();break;case 3:S1(),Ei(sa),Ei(to),IO();break;case 5:jO(r);break;case 4:S1();break;case 13:Ei(Li);break;case 19:Ei(Li);break;case 10:TO(r.type._context);break;case 22:case 23:$O()}i=i.return}if(es=n,br=n=Sm(n.current,null),Ss=Ka=e,Nr=0,R2=null,zO=HN=S0=0,ea=s2=null,ab!==null){for(e=0;e<ab.length;e++)if(i=ab[e],r=i.interleaved,r!==null){i.interleaved=null;var o=r.next,l=i.pending;if(l!==null){var c=l.next;l.next=o,r.next=c}i.pending=r}ab=null}return n}function RX(n,e){do{var i=br;try{if(CO(),wD.current=N5,D5){for(var r=zi.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}D5=!1}if(E0=0,Jr=Dr=zi=null,i2=!1,P2=0,BO.current=null,i===null||i.return===null){Nr=1,R2=e,br=null;break}e:{var l=n,c=i.return,u=i,h=e;if(e=Ss,u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var m=h,g=u,y=g.tag;if(!(g.mode&1)&&(y===0||y===11||y===15)){var v=g.alternate;v?(g.updateQueue=v.updateQueue,g.memoizedState=v.memoizedState,g.lanes=v.lanes):(g.updateQueue=null,g.memoizedState=null)}var _=qz(c);if(_!==null){_.flags&=-257,Hz(_,c,u,l,e),_.mode&1&&$z(l,m,e),e=_,h=m;var A=e.updateQueue;if(A===null){var S=new Set;S.add(h),e.updateQueue=S}else A.add(h);break e}else{if(!(e&1)){$z(l,m,e),qO();break e}h=Error(dt(426))}}else if(Pi&&u.mode&1){var C=qz(c);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Hz(C,c,u,l,e),SO(A1(h,u));break e}}l=h=A1(h,u),Nr!==4&&(Nr=2),s2===null?s2=[l]:s2.push(l),l=c;do{switch(l.tag){case 3:l.flags|=65536,e&=-e,l.lanes|=e;var T=bX(l,h,e);Uz(l,T);break e;case 1:u=h;var N=l.type,j=l.stateNode;if(!(l.flags&128)&&(typeof N.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(km===null||!km.has(j)))){l.flags|=65536,e&=-e,l.lanes|=e;var O=yX(l,u,e);Uz(l,O);break e}}l=l.return}while(l!==null)}FX(i)}catch(F){e=F,br===i&&i!==null&&(br=i=i.return);continue}break}while(!0)}function MX(){var n=P5.current;return P5.current=N5,n===null?N5:n}function qO(){(Nr===0||Nr===3||Nr===2)&&(Nr=4),es===null||!(S0&268435455)&&!(HN&268435455)||Tp(es,Ss)}function R5(n,e){var i=Tn;Tn|=2;var r=MX();(es!==n||Ss!==e)&&(gh=null,g0(n,e));do try{Uue();break}catch(o){RX(n,o)}while(!0);if(CO(),Tn=i,P5.current=r,br!==null)throw Error(dt(261));return es=null,Ss=0,Nr}function Uue(){for(;br!==null;)OX(br)}function Lue(){for(;br!==null&&!uce();)OX(br)}function OX(n){var e=LX(n.alternate,n,Ka);n.memoizedProps=n.pendingProps,e===null?FX(n):br=e,BO.current=null}function FX(n){var e=n;do{var i=e.alternate;if(n=e.return,e.flags&32768){if(i=jue(i,e),i!==null){i.flags&=32767,br=i;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Nr=6,br=null;return}}else if(i=Pue(i,e,Ka),i!==null){br=i;return}if(e=e.sibling,e!==null){br=e;return}br=e=n}while(e!==null);Nr===0&&(Nr=5)}function Zg(n,e,i){var r=Jn,o=tc.transition;try{tc.transition=null,Jn=1,Bue(n,e,i,r)}finally{tc.transition=o,Jn=r}return null}function Bue(n,e,i,r){do ow();while(mm!==null);if(Tn&6)throw Error(dt(327));i=n.finishedWork;var o=n.finishedLanes;if(i===null)return null;if(n.finishedWork=null,n.finishedLanes=0,i===n.current)throw Error(dt(177));n.callbackNode=null,n.callbackPriority=0;var l=i.lanes|i.childLanes;if(wce(n,l),n===es&&(br=es=null,Ss=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||UT||(UT=!0,BX(m5,function(){return ow(),null})),l=(i.flags&15990)!==0,i.subtreeFlags&15990||l){l=tc.transition,tc.transition=null;var c=Jn;Jn=1;var u=Tn;Tn|=4,BO.current=null,Rue(n,i),PX(i,n),oue(wR),b5=!!vR,wR=vR=null,n.current=i,Mue(i),dce(),Tn=u,Jn=c,tc.transition=l}else n.current=i;if(UT&&(UT=!1,mm=n,I5=o),l=n.pendingLanes,l===0&&(km=null),pce(i.stateNode),aa(n,rr()),e!==null)for(r=n.onRecoverableError,i=0;i<e.length;i++)o=e[i],r(o.value,{componentStack:o.stack,digest:o.digest});if(j5)throw j5=!1,n=BR,BR=null,n;return I5&1&&n.tag!==0&&ow(),l=n.pendingLanes,l&1?n===zR?o2++:(o2=0,zR=n):o2=0,Vm(),null}function ow(){if(mm!==null){var n=bG(I5),e=tc.transition,i=Jn;try{if(tc.transition=null,Jn=16>n?16:n,mm===null)var r=!1;else{if(n=mm,mm=null,I5=0,Tn&6)throw Error(dt(331));var o=Tn;for(Tn|=4,Dt=n.current;Dt!==null;){var l=Dt,c=l.child;if(Dt.flags&16){var u=l.deletions;if(u!==null){for(var h=0;h<u.length;h++){var m=u[h];for(Dt=m;Dt!==null;){var g=Dt;switch(g.tag){case 0:case 11:case 15:r2(8,g,l)}var y=g.child;if(y!==null)y.return=g,Dt=y;else for(;Dt!==null;){g=Dt;var v=g.sibling,_=g.return;if(TX(g),g===m){Dt=null;break}if(v!==null){v.return=_,Dt=v;break}Dt=_}}}var A=l.alternate;if(A!==null){var S=A.child;if(S!==null){A.child=null;do{var C=S.sibling;S.sibling=null,S=C}while(S!==null)}}Dt=l}}if(l.subtreeFlags&2064&&c!==null)c.return=l,Dt=c;else e:for(;Dt!==null;){if(l=Dt,l.flags&2048)switch(l.tag){case 0:case 11:case 15:r2(9,l,l.return)}var T=l.sibling;if(T!==null){T.return=l.return,Dt=T;break e}Dt=l.return}}var N=n.current;for(Dt=N;Dt!==null;){c=Dt;var j=c.child;if(c.subtreeFlags&2064&&j!==null)j.return=c,Dt=j;else e:for(c=N;Dt!==null;){if(u=Dt,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:qN(9,u)}}catch(F){Zi(u,u.return,F)}if(u===c){Dt=null;break e}var O=u.sibling;if(O!==null){O.return=u.return,Dt=O;break e}Dt=u.return}}if(Tn=o,Vm(),pd&&typeof pd.onPostCommitFiberRoot=="function")try{pd.onPostCommitFiberRoot(FN,n)}catch{}r=!0}return r}finally{Jn=i,tc.transition=e}}return!1}function sV(n,e,i){e=A1(i,e),e=bX(n,e,1),n=_m(n,e,1),e=No(),n!==null&&(jS(n,1,e),aa(n,e))}function Zi(n,e,i){if(n.tag===3)sV(n,n,i);else for(;e!==null;){if(e.tag===3){sV(e,n,i);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(km===null||!km.has(r))){n=A1(i,n),n=yX(e,n,1),e=_m(e,n,1),n=No(),e!==null&&(jS(e,1,n),aa(e,n));break}}e=e.return}}function zue(n,e,i){var r=n.pingCache;r!==null&&r.delete(e),e=No(),n.pingedLanes|=n.suspendedLanes&i,es===n&&(Ss&i)===i&&(Nr===4||Nr===3&&(Ss&130023424)===Ss&&500>rr()-VO?g0(n,0):zO|=i),aa(n,e)}function UX(n,e){e===0&&(n.mode&1?(e=TT,TT<<=1,!(TT&130023424)&&(TT=4194304)):e=1);var i=No();n=of(n,e),n!==null&&(jS(n,e,i),aa(n,i))}function Vue(n){var e=n.memoizedState,i=0;e!==null&&(i=e.retryLane),UX(n,i)}function Wue(n,e){var i=0;switch(n.tag){case 13:var r=n.stateNode,o=n.memoizedState;o!==null&&(i=o.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(dt(314))}r!==null&&r.delete(e),UX(n,i)}var LX;LX=function(n,e,i){if(n!==null)if(n.memoizedProps!==e.pendingProps||sa.current)ia=!0;else{if(!(n.lanes&i)&&!(e.flags&128))return ia=!1,Nue(n,e,i);ia=!!(n.flags&131072)}else ia=!1,Pi&&e.flags&1048576&&WG(e,E5,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_D(n,e),n=e.pendingProps;var o=_1(e,to.current);sw(e,i),o=MO(null,e,r,n,o,i);var l=OO();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,oa(r)?(l=!0,_5(e)):l=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,NO(e),o.updater=$N,e.stateNode=o,o._reactInternals=e,DR(e,r,n,i),e=jR(null,e,r,!0,l,i)):(e.tag=0,Pi&&l&&kO(e),To(null,e,o,i),e=e.child),e;case 16:r=e.elementType;e:{switch(_D(n,e),n=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=que(r),n=jc(r,n),o){case 0:e=PR(null,e,r,n,i);break e;case 1:e=Kz(null,e,r,n,i);break e;case 11:e=Gz(null,e,r,n,i);break e;case 14:e=Xz(null,e,r,jc(r.type,n),i);break e}throw Error(dt(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:jc(r,o),PR(n,e,r,o,i);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:jc(r,o),Kz(n,e,r,o,i);case 3:e:{if(_X(e),n===null)throw Error(dt(387));r=e.pendingProps,l=e.memoizedState,o=l.element,KG(n,e),C5(e,r,null,i);var c=e.memoizedState;if(r=c.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},e.updateQueue.baseState=l,e.memoizedState=l,e.flags&256){o=A1(Error(dt(423)),e),e=Yz(n,e,r,i,o);break e}else if(r!==o){o=A1(Error(dt(424)),e),e=Yz(n,e,r,i,o);break e}else for(Ja=xm(e.stateNode.containerInfo.firstChild),Qa=e,Pi=!0,Gc=null,i=GG(e,null,r,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(k1(),r===o){e=af(n,e,i);break e}To(n,e,r,i)}e=e.child}return e;case 5:return YG(e),n===null&&AR(e),r=e.type,o=e.pendingProps,l=n!==null?n.memoizedProps:null,c=o.children,xR(r,o)?c=null:l!==null&&xR(r,l)&&(e.flags|=32),xX(n,e),To(n,e,c,i),e.child;case 6:return n===null&&AR(e),null;case 13:return kX(n,e,i);case 4:return PO(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=E1(e,null,r,i):To(n,e,r,i),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:jc(r,o),Gz(n,e,r,o,i);case 7:return To(n,e,e.pendingProps,i),e.child;case 8:return To(n,e,e.pendingProps.children,i),e.child;case 12:return To(n,e,e.pendingProps.children,i),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,l=e.memoizedProps,c=o.value,pi(S5,r._currentValue),r._currentValue=c,l!==null)if(Jc(l.value,c)){if(l.children===o.children&&!sa.current){e=af(n,e,i);break e}}else for(l=e.child,l!==null&&(l.return=e);l!==null;){var u=l.dependencies;if(u!==null){c=l.child;for(var h=u.firstContext;h!==null;){if(h.context===r){if(l.tag===1){h=Qh(-1,i&-i),h.tag=2;var m=l.updateQueue;if(m!==null){m=m.shared;var g=m.pending;g===null?h.next=h:(h.next=g.next,g.next=h),m.pending=h}}l.lanes|=i,h=l.alternate,h!==null&&(h.lanes|=i),CR(l.return,i,e),u.lanes|=i;break}h=h.next}}else if(l.tag===10)c=l.type===e.type?null:l.child;else if(l.tag===18){if(c=l.return,c===null)throw Error(dt(341));c.lanes|=i,u=c.alternate,u!==null&&(u.lanes|=i),CR(c,i,e),c=l.sibling}else c=l.child;if(c!==null)c.return=l;else for(c=l;c!==null;){if(c===e){c=null;break}if(l=c.sibling,l!==null){l.return=c.return,c=l;break}c=c.return}l=c}To(n,e,o.children,i),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,sw(e,i),o=sc(o),r=r(o),e.flags|=1,To(n,e,r,i),e.child;case 14:return r=e.type,o=jc(r,e.pendingProps),o=jc(r.type,o),Xz(n,e,r,o,i);case 15:return vX(n,e,e.type,e.pendingProps,i);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:jc(r,o),_D(n,e),e.tag=1,oa(r)?(n=!0,_5(e)):n=!1,sw(e,i),gX(e,r,o),DR(e,r,o,i),jR(null,e,r,!0,n,i);case 19:return EX(n,e,i);case 22:return wX(n,e,i)}throw Error(dt(156,e.tag))};function BX(n,e){return fG(n,e)}function $ue(n,e,i,r){this.tag=n,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ec(n,e,i,r){return new $ue(n,e,i,r)}function HO(n){return n=n.prototype,!(!n||!n.isReactComponent)}function que(n){if(typeof n=="function")return HO(n)?1:0;if(n!=null){if(n=n.$$typeof,n===dO)return 11;if(n===hO)return 14}return 2}function Sm(n,e){var i=n.alternate;return i===null?(i=ec(n.tag,e,n.key,n.mode),i.elementType=n.elementType,i.type=n.type,i.stateNode=n.stateNode,i.alternate=n,n.alternate=i):(i.pendingProps=e,i.type=n.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=n.flags&14680064,i.childLanes=n.childLanes,i.lanes=n.lanes,i.child=n.child,i.memoizedProps=n.memoizedProps,i.memoizedState=n.memoizedState,i.updateQueue=n.updateQueue,e=n.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=n.sibling,i.index=n.index,i.ref=n.ref,i}function SD(n,e,i,r,o,l){var c=2;if(r=n,typeof n=="function")HO(n)&&(c=1);else if(typeof n=="string")c=5;else e:switch(n){case Iv:return b0(i.children,o,l,e);case uO:c=8,o|=8;break;case Q4:return n=ec(12,i,e,o|2),n.elementType=Q4,n.lanes=l,n;case eR:return n=ec(13,i,e,o),n.elementType=eR,n.lanes=l,n;case tR:return n=ec(19,i,e,o),n.elementType=tR,n.lanes=l,n;case YH:return GN(i,o,l,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case XH:c=10;break e;case KH:c=9;break e;case dO:c=11;break e;case hO:c=14;break e;case kp:c=16,r=null;break e}throw Error(dt(130,n==null?n:typeof n,""))}return e=ec(c,i,e,o),e.elementType=n,e.type=r,e.lanes=l,e}function b0(n,e,i,r){return n=ec(7,n,r,e),n.lanes=i,n}function GN(n,e,i,r){return n=ec(22,n,r,e),n.elementType=YH,n.lanes=i,n.stateNode={isHidden:!1},n}function oI(n,e,i){return n=ec(6,n,null,e),n.lanes=i,n}function aI(n,e,i){return e=ec(4,n.children!==null?n.children:[],n.key,e),e.lanes=i,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Hue(n,e,i,r,o){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zj(0),this.expirationTimes=zj(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zj(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function GO(n,e,i,r,o,l,c,u,h){return n=new Hue(n,e,i,u,h),e===1?(e=1,l===!0&&(e|=8)):e=0,l=ec(3,null,null,e),n.current=l,l.stateNode=n,l.memoizedState={element:r,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},NO(l),n}function Gue(n,e,i){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jv,key:r==null?null:""+r,children:n,containerInfo:e,implementation:i}}function zX(n){if(!n)return Dm;n=n._reactInternals;e:{if(U0(n)!==n||n.tag!==1)throw Error(dt(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(oa(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(dt(171))}if(n.tag===1){var i=n.type;if(oa(i))return zG(n,i,e)}return e}function VX(n,e,i,r,o,l,c,u,h){return n=GO(i,r,!0,n,o,l,c,u,h),n.context=zX(null),i=n.current,r=No(),o=Em(i),l=Qh(r,o),l.callback=e??null,_m(i,l,o),n.current.lanes=o,jS(n,o,r),aa(n,r),n}function XN(n,e,i,r){var o=e.current,l=No(),c=Em(o);return i=zX(i),e.context===null?e.context=i:e.pendingContext=i,e=Qh(l,c),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=_m(o,e,c),n!==null&&(Yc(n,o,c,l),vD(n,o,c)),c}function M5(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function oV(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var i=n.retryLane;n.retryLane=i!==0&&i<e?i:e}}function XO(n,e){oV(n,e),(n=n.alternate)&&oV(n,e)}function Xue(){return null}var WX=typeof reportError=="function"?reportError:function(n){console.error(n)};function KO(n){this._internalRoot=n}KN.prototype.render=KO.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(dt(409));XN(n,e,null,null)};KN.prototype.unmount=KO.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;A0(function(){XN(null,n,null,null)}),e[sf]=null}};function KN(n){this._internalRoot=n}KN.prototype.unstable_scheduleHydration=function(n){if(n){var e=wG();n={blockedOn:null,target:n,priority:e};for(var i=0;i<Cp.length&&e!==0&&e<Cp[i].priority;i++);Cp.splice(i,0,n),i===0&&_G(n)}};function YO(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function YN(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function aV(){}function Kue(n,e,i,r,o){if(o){if(typeof r=="function"){var l=r;r=function(){var m=M5(c);l.call(m)}}var c=VX(e,r,n,0,null,!1,!1,"",aV);return n._reactRootContainer=c,n[sf]=c.current,A2(n.nodeType===8?n.parentNode:n),A0(),c}for(;o=n.lastChild;)n.removeChild(o);if(typeof r=="function"){var u=r;r=function(){var m=M5(h);u.call(m)}}var h=GO(n,0,!1,null,null,!1,!1,"",aV);return n._reactRootContainer=h,n[sf]=h.current,A2(n.nodeType===8?n.parentNode:n),A0(function(){XN(e,h,i,r)}),h}function ZN(n,e,i,r,o){var l=i._reactRootContainer;if(l){var c=l;if(typeof o=="function"){var u=o;o=function(){var h=M5(c);u.call(h)}}XN(e,c,n,o)}else c=Kue(i,e,n,o,r);return M5(c)}yG=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var i=Nk(e.pendingLanes);i!==0&&(mO(e,i|1),aa(e,rr()),!(Tn&6)&&(C1=rr()+500,Vm()))}break;case 13:A0(function(){var r=of(n,1);if(r!==null){var o=No();Yc(r,n,1,o)}}),XO(n,1)}};gO=function(n){if(n.tag===13){var e=of(n,134217728);if(e!==null){var i=No();Yc(e,n,134217728,i)}XO(n,134217728)}};vG=function(n){if(n.tag===13){var e=Em(n),i=of(n,e);if(i!==null){var r=No();Yc(i,n,e,r)}XO(n,e)}};wG=function(){return Jn};xG=function(n,e){var i=Jn;try{return Jn=n,e()}finally{Jn=i}};dR=function(n,e,i){switch(e){case"input":if(rR(n,i),e=i.name,i.type==="radio"&&e!=null){for(i=n;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var r=i[e];if(r!==n&&r.form===n.form){var o=zN(r);if(!o)throw Error(dt(90));JH(r),rR(r,o)}}}break;case"textarea":eG(n,i);break;case"select":e=i.value,e!=null&&tw(n,!!i.multiple,e,!1)}};aG=WO;lG=A0;var Yue={usingClientEntryPoint:!1,Events:[RS,Fv,zN,sG,oG,WO]},fk={findFiberByHostInstance:ob,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zue={bundleType:fk.bundleType,version:fk.version,rendererPackageName:fk.rendererPackageName,rendererConfig:fk.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bf.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=dG(n),n===null?null:n.stateNode},findFiberByHostInstance:fk.findFiberByHostInstance||Xue,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var LT=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!LT.isDisabled&&LT.supportsFiber)try{FN=LT.inject(Zue),pd=LT}catch{}}nl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yue;nl.createPortal=function(n,e){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!YO(e))throw Error(dt(200));return Gue(n,e,null,i)};nl.createRoot=function(n,e){if(!YO(n))throw Error(dt(299));var i=!1,r="",o=WX;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=GO(n,1,!1,null,null,i,!1,r,o),n[sf]=e.current,A2(n.nodeType===8?n.parentNode:n),new KO(e)};nl.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(dt(188)):(n=Object.keys(n).join(","),Error(dt(268,n)));return n=dG(e),n=n===null?null:n.stateNode,n};nl.flushSync=function(n){return A0(n)};nl.hydrate=function(n,e,i){if(!YN(e))throw Error(dt(200));return ZN(null,n,e,!0,i)};nl.hydrateRoot=function(n,e,i){if(!YO(n))throw Error(dt(405));var r=i!=null&&i.hydratedSources||null,o=!1,l="",c=WX;if(i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onRecoverableError!==void 0&&(c=i.onRecoverableError)),e=VX(e,null,n,1,i??null,o,!1,l,c),n[sf]=e.current,A2(n),r)for(n=0;n<r.length;n++)i=r[n],o=i._getVersion,o=o(i._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[i,o]:e.mutableSourceEagerHydrationData.push(i,o);return new KN(e)};nl.render=function(n,e,i){if(!YN(e))throw Error(dt(200));return ZN(null,n,e,!1,i)};nl.unmountComponentAtNode=function(n){if(!YN(n))throw Error(dt(40));return n._reactRootContainer?(A0(function(){ZN(null,null,n,!1,function(){n._reactRootContainer=null,n[sf]=null})}),!0):!1};nl.unstable_batchedUpdates=WO;nl.unstable_renderSubtreeIntoContainer=function(n,e,i,r){if(!YN(i))throw Error(dt(200));if(n==null||n._reactInternals===void 0)throw Error(dt(38));return ZN(n,e,i,!1,r)};nl.version="18.3.1-next-f1338f8080-20240426";function $X(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($X)}catch(n){console.error(n)}}$X(),$H.exports=nl;var Jue=$H.exports,qX,lV=Jue;qX=lV.createRoot,lV.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function M2(){return M2=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},M2.apply(this,arguments)}var gm;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(gm||(gm={}));const cV="popstate";function Que(n){n===void 0&&(n={});function e(o,l){let{pathname:c="/",search:u="",hash:h=""}=L0(o.location.hash.substr(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),$R("",{pathname:c,search:u,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function i(o,l){let c=o.document.querySelector("base"),u="";if(c&&c.getAttribute("href")){let h=o.location.href,m=h.indexOf("#");u=m===-1?h:h.slice(0,m)}return u+"#"+(typeof l=="string"?l:O5(l))}function r(o,l){ZO(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(l)+")")}return tde(e,i,r,n)}function Vi(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ZO(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ede(){return Math.random().toString(36).substr(2,8)}function uV(n,e){return{usr:n.state,key:n.key,idx:e}}function $R(n,e,i,r){return i===void 0&&(i=null),M2({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?L0(e):e,{state:i,key:e&&e.key||r||ede()})}function O5(n){let{pathname:e="/",search:i="",hash:r=""}=n;return i&&i!=="?"&&(e+=i.charAt(0)==="?"?i:"?"+i),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function L0(n){let e={};if(n){let i=n.indexOf("#");i>=0&&(e.hash=n.substr(i),n=n.substr(0,i));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function tde(n,e,i,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:l=!1}=r,c=o.history,u=gm.Pop,h=null,m=g();m==null&&(m=0,c.replaceState(M2({},c.state,{idx:m}),""));function g(){return(c.state||{idx:null}).idx}function y(){u=gm.Pop;let C=g(),T=C==null?null:C-m;m=C,h&&h({action:u,location:S.location,delta:T})}function v(C,T){u=gm.Push;let N=$R(S.location,C,T);i&&i(N,C),m=g()+1;let j=uV(N,m),O=S.createHref(N);try{c.pushState(j,"",O)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;o.location.assign(O)}l&&h&&h({action:u,location:S.location,delta:1})}function _(C,T){u=gm.Replace;let N=$R(S.location,C,T);i&&i(N,C),m=g();let j=uV(N,m),O=S.createHref(N);c.replaceState(j,"",O),l&&h&&h({action:u,location:S.location,delta:0})}function A(C){let T=o.location.origin!=="null"?o.location.origin:o.location.href,N=typeof C=="string"?C:O5(C);return N=N.replace(/ $/,"%20"),Vi(T,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,T)}let S={get action(){return u},get location(){return n(o,c)},listen(C){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(cV,y),h=C,()=>{o.removeEventListener(cV,y),h=null}},createHref(C){return e(o,C)},createURL:A,encodeLocation(C){let T=A(C);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:v,replace:_,go(C){return c.go(C)}};return S}var dV;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(dV||(dV={}));function nde(n,e,i){return i===void 0&&(i="/"),ide(n,e,i)}function ide(n,e,i,r){let o=typeof e=="string"?L0(e):e,l=T1(o.pathname||"/",i);if(l==null)return null;let c=HX(n);rde(c);let u=null;for(let h=0;u==null&&h<c.length;++h){let m=mde(l);u=fde(c[h],m)}return u}function HX(n,e,i,r){e===void 0&&(e=[]),i===void 0&&(i=[]),r===void 0&&(r="");let o=(l,c,u)=>{let h={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};h.relativePath.startsWith("/")&&(Vi(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let m=Am([r,h.relativePath]),g=i.concat(h);l.children&&l.children.length>0&&(Vi(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),HX(l.children,e,g,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:dde(m,l.index),routesMeta:g})};return n.forEach((l,c)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))o(l,c);else for(let h of GX(l.path))o(l,c,h)}),e}function GX(n){let e=n.split("/");if(e.length===0)return[];let[i,...r]=e,o=i.endsWith("?"),l=i.replace(/\?$/,"");if(r.length===0)return o?[l,""]:[l];let c=GX(r.join("/")),u=[];return u.push(...c.map(h=>h===""?l:[l,h].join("/"))),o&&u.push(...c),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function rde(n){n.sort((e,i)=>e.score!==i.score?i.score-e.score:hde(e.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}const sde=/^:[\w-]+$/,ode=3,ade=2,lde=1,cde=10,ude=-2,hV=n=>n==="*";function dde(n,e){let i=n.split("/"),r=i.length;return i.some(hV)&&(r+=ude),e&&(r+=ade),i.filter(o=>!hV(o)).reduce((o,l)=>o+(sde.test(l)?ode:l===""?lde:cde),r)}function hde(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function fde(n,e,i){let{routesMeta:r}=n,o={},l="/",c=[];for(let u=0;u<r.length;++u){let h=r[u],m=u===r.length-1,g=l==="/"?e:e.slice(l.length)||"/",y=qR({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},g),v=h.route;if(!y)return null;Object.assign(o,y.params),c.push({params:o,pathname:Am([l,y.pathname]),pathnameBase:vde(Am([l,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(l=Am([l,y.pathnameBase]))}return c}function qR(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,r]=pde(n.path,n.caseSensitive,n.end),o=e.match(i);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:r.reduce((m,g,y)=>{let{paramName:v,isOptional:_}=g;if(v==="*"){let S=u[y]||"";c=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const A=u[y];return _&&!A?m[v]=void 0:m[v]=(A||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:n}}function pde(n,e,i){e===void 0&&(e=!1),i===void 0&&(i=!0),ZO(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function mde(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ZO(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function T1(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,r=n.charAt(i);return r&&r!=="/"?null:n.slice(i)||"/"}function gde(n,e){e===void 0&&(e="/");let{pathname:i,search:r="",hash:o=""}=typeof n=="string"?L0(n):n;return{pathname:i?i.startsWith("/")?i:bde(i,e):e,search:wde(r),hash:xde(o)}}function bde(n,e){let i=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function lI(n,e,i,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yde(n){return n.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function JO(n,e){let i=yde(n);return e?i.map((r,o)=>o===i.length-1?r.pathname:r.pathnameBase):i.map(r=>r.pathnameBase)}function QO(n,e,i,r){r===void 0&&(r=!1);let o;typeof n=="string"?o=L0(n):(o=M2({},n),Vi(!o.pathname||!o.pathname.includes("?"),lI("?","pathname","search",o)),Vi(!o.pathname||!o.pathname.includes("#"),lI("#","pathname","hash",o)),Vi(!o.search||!o.search.includes("#"),lI("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,u;if(c==null)u=i;else{let y=e.length-1;if(!r&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),y-=1;o.pathname=v.join("/")}u=y>=0?e[y]:"/"}let h=gde(o,u),m=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&i.endsWith("/");return!h.pathname.endsWith("/")&&(m||g)&&(h.pathname+="/"),h}const Am=n=>n.join("/").replace(/\/\/+/g,"/"),vde=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),wde=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,xde=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function _de(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const XX=["post","put","patch","delete"];new Set(XX);const kde=["get",...XX];new Set(kde);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function O2(){return O2=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},O2.apply(this,arguments)}const JN=H.createContext(null),KX=H.createContext(null),yf=H.createContext(null),QN=H.createContext(null),kd=H.createContext({outlet:null,matches:[],isDataRoute:!1}),YX=H.createContext(null);function Ede(n,e){let{relative:i}=e===void 0?{}:e;q1()||Vi(!1);let{basename:r,navigator:o}=H.useContext(yf),{hash:l,pathname:c,search:u}=e3(n,{relative:i}),h=c;return r!=="/"&&(h=c==="/"?r:Am([r,c])),o.createHref({pathname:h,search:u,hash:l})}function q1(){return H.useContext(QN)!=null}function Ed(){return q1()||Vi(!1),H.useContext(QN).location}function ZX(n){H.useContext(yf).static||H.useLayoutEffect(n)}function ns(){let{isDataRoute:n}=H.useContext(kd);return n?Lde():Sde()}function Sde(){q1()||Vi(!1);let n=H.useContext(JN),{basename:e,future:i,navigator:r}=H.useContext(yf),{matches:o}=H.useContext(kd),{pathname:l}=Ed(),c=JSON.stringify(JO(o,i.v7_relativeSplatPath)),u=H.useRef(!1);return ZX(()=>{u.current=!0}),H.useCallback(function(m,g){if(g===void 0&&(g={}),!u.current)return;if(typeof m=="number"){r.go(m);return}let y=QO(m,JSON.parse(c),l,g.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Am([e,y.pathname])),(g.replace?r.replace:r.push)(y,g.state,g)},[e,r,c,l,n])}const JX=H.createContext(null);function QX(){return H.useContext(JX)}function Ade(n){let e=H.useContext(kd).outlet;return e&&H.createElement(JX.Provider,{value:n},e)}function Cde(){let{matches:n}=H.useContext(kd),e=n[n.length-1];return e?e.params:{}}function e3(n,e){let{relative:i}=e===void 0?{}:e,{future:r}=H.useContext(yf),{matches:o}=H.useContext(kd),{pathname:l}=Ed(),c=JSON.stringify(JO(o,r.v7_relativeSplatPath));return H.useMemo(()=>QO(n,JSON.parse(c),l,i==="path"),[n,c,l,i])}function Tde(n,e){return Dde(n,e)}function Dde(n,e,i,r){q1()||Vi(!1);let{navigator:o}=H.useContext(yf),{matches:l}=H.useContext(kd),c=l[l.length-1],u=c?c.params:{};c&&c.pathname;let h=c?c.pathnameBase:"/";c&&c.route;let m=Ed(),g;if(e){var y;let C=typeof e=="string"?L0(e):e;h==="/"||(y=C.pathname)!=null&&y.startsWith(h)||Vi(!1),g=C}else g=m;let v=g.pathname||"/",_=v;if(h!=="/"){let C=h.replace(/^\//,"").split("/");_="/"+v.replace(/^\//,"").split("/").slice(C.length).join("/")}let A=nde(n,{pathname:_}),S=Rde(A&&A.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:Am([h,o.encodeLocation?o.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?h:Am([h,o.encodeLocation?o.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),l,i,r);return e&&S?H.createElement(QN.Provider,{value:{location:O2({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:gm.Pop}},S):S}function Nde(){let n=Ude(),e=_de(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),i?H.createElement("pre",{style:o},i):null,null)}const Pde=H.createElement(Nde,null);class jde extends H.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,i){return i.location!==e.location||i.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:i.error,location:i.location,revalidation:e.revalidation||i.revalidation}}componentDidCatch(e,i){console.error("React Router caught the following error during render",e,i)}render(){return this.state.error!==void 0?H.createElement(kd.Provider,{value:this.props.routeContext},H.createElement(YX.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ide(n){let{routeContext:e,match:i,children:r}=n,o=H.useContext(JN);return o&&o.static&&o.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=i.route.id),H.createElement(kd.Provider,{value:e},r)}function Rde(n,e,i,r){var o;if(e===void 0&&(e=[]),i===void 0&&(i=null),r===void 0&&(r=null),n==null){var l;if(!i)return null;if(i.errors)n=i.matches;else if((l=r)!=null&&l.v7_partialHydration&&e.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let c=n,u=(o=i)==null?void 0:o.errors;if(u!=null){let g=c.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);g>=0||Vi(!1),c=c.slice(0,Math.min(c.length,g+1))}let h=!1,m=-1;if(i&&r&&r.v7_partialHydration)for(let g=0;g<c.length;g++){let y=c[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:v,errors:_}=i,A=y.route.loader&&v[y.route.id]===void 0&&(!_||_[y.route.id]===void 0);if(y.route.lazy||A){h=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((g,y,v)=>{let _,A=!1,S=null,C=null;i&&(_=u&&y.route.id?u[y.route.id]:void 0,S=y.route.errorElement||Pde,h&&(m<0&&v===0?(Bde("route-fallback"),A=!0,C=null):m===v&&(A=!0,C=y.route.hydrateFallbackElement||null)));let T=e.concat(c.slice(0,v+1)),N=()=>{let j;return _?j=S:A?j=C:y.route.Component?j=H.createElement(y.route.Component,null):y.route.element?j=y.route.element:j=g,H.createElement(Ide,{match:y,routeContext:{outlet:g,matches:T,isDataRoute:i!=null},children:j})};return i&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?H.createElement(jde,{location:i.location,revalidation:i.revalidation,component:S,error:_,children:N(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):N()},null)}var eK=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(eK||{}),tK=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(tK||{});function Mde(n){let e=H.useContext(JN);return e||Vi(!1),e}function Ode(n){let e=H.useContext(KX);return e||Vi(!1),e}function Fde(n){let e=H.useContext(kd);return e||Vi(!1),e}function nK(n){let e=Fde(),i=e.matches[e.matches.length-1];return i.route.id||Vi(!1),i.route.id}function Ude(){var n;let e=H.useContext(YX),i=Ode(),r=nK();return e!==void 0?e:(n=i.errors)==null?void 0:n[r]}function Lde(){let{router:n}=Mde(eK.UseNavigateStable),e=nK(tK.UseNavigateStable),i=H.useRef(!1);return ZX(()=>{i.current=!0}),H.useCallback(function(o,l){l===void 0&&(l={}),i.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,O2({fromRouteId:e},l)))},[n,e])}const fV={};function Bde(n,e,i){fV[n]||(fV[n]=!0)}function zde(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function pv(n){let{to:e,replace:i,state:r,relative:o}=n;q1()||Vi(!1);let{future:l,static:c}=H.useContext(yf),{matches:u}=H.useContext(kd),{pathname:h}=Ed(),m=ns(),g=QO(e,JO(u,l.v7_relativeSplatPath),h,o==="path"),y=JSON.stringify(g);return H.useEffect(()=>m(JSON.parse(y),{replace:i,state:r,relative:o}),[m,y,o,i,r]),null}function iK(n){return Ade(n.context)}function di(n){Vi(!1)}function Vde(n){let{basename:e="/",children:i=null,location:r,navigationType:o=gm.Pop,navigator:l,static:c=!1,future:u}=n;q1()&&Vi(!1);let h=e.replace(/^\/*/,"/"),m=H.useMemo(()=>({basename:h,navigator:l,static:c,future:O2({v7_relativeSplatPath:!1},u)}),[h,u,l,c]);typeof r=="string"&&(r=L0(r));let{pathname:g="/",search:y="",hash:v="",state:_=null,key:A="default"}=r,S=H.useMemo(()=>{let C=T1(g,h);return C==null?null:{location:{pathname:C,search:y,hash:v,state:_,key:A},navigationType:o}},[h,g,y,v,_,A,o]);return S==null?null:H.createElement(yf.Provider,{value:m},H.createElement(QN.Provider,{children:i,value:S}))}function Wde(n){let{children:e,location:i}=n;return Tde(HR(e),i)}new Promise(()=>{});function HR(n,e){e===void 0&&(e=[]);let i=[];return H.Children.forEach(n,(r,o)=>{if(!H.isValidElement(r))return;let l=[...e,o];if(r.type===H.Fragment){i.push.apply(i,HR(r.props.children,l));return}r.type!==di&&Vi(!1),!r.props.index||!r.props.children||Vi(!1);let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=HR(r.props.children,l)),i.push(c)}),i}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function F5(){return F5=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},F5.apply(this,arguments)}function rK(n,e){if(n==null)return{};var i={},r=Object.keys(n),o,l;for(l=0;l<r.length;l++)o=r[l],!(e.indexOf(o)>=0)&&(i[o]=n[o]);return i}function $de(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function qde(n,e){return n.button===0&&(!e||e==="_self")&&!$de(n)}function GR(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,i)=>{let r=n[i];return e.concat(Array.isArray(r)?r.map(o=>[i,o]):[[i,r]])},[]))}function Hde(n,e){let i=GR(n);return e&&e.forEach((r,o)=>{i.has(o)||e.getAll(o).forEach(l=>{i.append(o,l)})}),i}const Gde=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Xde=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Kde="6";try{window.__reactRouterVersion=Kde}catch{}const Yde=H.createContext({isTransitioning:!1}),Zde="startTransition",pV=Z4[Zde];function Jde(n){let{basename:e,children:i,future:r,window:o}=n,l=H.useRef();l.current==null&&(l.current=Que({window:o,v5Compat:!0}));let c=l.current,[u,h]=H.useState({action:c.action,location:c.location}),{v7_startTransition:m}=r||{},g=H.useCallback(y=>{m&&pV?pV(()=>h(y)):h(y)},[h,m]);return H.useLayoutEffect(()=>c.listen(g),[c,g]),H.useEffect(()=>zde(r),[r]),H.createElement(Vde,{basename:e,children:i,location:u.location,navigationType:u.action,navigator:c,future:r})}const Qde=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ehe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zl=H.forwardRef(function(e,i){let{onClick:r,relative:o,reloadDocument:l,replace:c,state:u,target:h,to:m,preventScrollReset:g,viewTransition:y}=e,v=rK(e,Gde),{basename:_}=H.useContext(yf),A,S=!1;if(typeof m=="string"&&ehe.test(m)&&(A=m,Qde))try{let j=new URL(window.location.href),O=m.startsWith("//")?new URL(j.protocol+m):new URL(m),F=T1(O.pathname,_);O.origin===j.origin&&F!=null?m=F+O.search+O.hash:S=!0}catch{}let C=Ede(m,{relative:o}),T=nhe(m,{replace:c,state:u,target:h,preventScrollReset:g,relative:o,viewTransition:y});function N(j){r&&r(j),j.defaultPrevented||T(j)}return H.createElement("a",F5({},v,{href:A||C,onClick:S||l?r:N,ref:i,target:h}))}),y0=H.forwardRef(function(e,i){let{"aria-current":r="page",caseSensitive:o=!1,className:l="",end:c=!1,style:u,to:h,viewTransition:m,children:g}=e,y=rK(e,Xde),v=e3(h,{relative:y.relative}),_=Ed(),A=H.useContext(KX),{navigator:S,basename:C}=H.useContext(yf),T=A!=null&&ihe(v)&&m===!0,N=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,j=_.pathname,O=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;o||(j=j.toLowerCase(),O=O?O.toLowerCase():null,N=N.toLowerCase()),O&&C&&(O=T1(O,C)||O);const F=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let U=j===N||!c&&j.startsWith(N)&&j.charAt(F)==="/",V=O!=null&&(O===N||!c&&O.startsWith(N)&&O.charAt(N.length)==="/"),B={isActive:U,isPending:V,isTransitioning:T},K=U?r:void 0,oe;typeof l=="function"?oe=l(B):oe=[l,U?"active":null,V?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let me=typeof u=="function"?u(B):u;return H.createElement(Zl,F5({},y,{"aria-current":K,className:oe,ref:i,style:me,to:h,viewTransition:m}),typeof g=="function"?g(B):g)});var XR;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(XR||(XR={}));var mV;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(mV||(mV={}));function the(n){let e=H.useContext(JN);return e||Vi(!1),e}function nhe(n,e){let{target:i,replace:r,state:o,preventScrollReset:l,relative:c,viewTransition:u}=e===void 0?{}:e,h=ns(),m=Ed(),g=e3(n,{relative:c});return H.useCallback(y=>{if(qde(y,i)){y.preventDefault();let v=r!==void 0?r:O5(m)===O5(g);h(n,{replace:v,state:o,preventScrollReset:l,relative:c,viewTransition:u})}},[m,h,g,r,o,i,n,l,c,u])}function sK(n){let e=H.useRef(GR(n)),i=H.useRef(!1),r=Ed(),o=H.useMemo(()=>Hde(r.search,i.current?null:e.current),[r.search]),l=ns(),c=H.useCallback((u,h)=>{const m=GR(typeof u=="function"?u(o):u);i.current=!0,l("?"+m,h)},[l,o]);return[o,c]}function ihe(n,e){e===void 0&&(e={});let i=H.useContext(Yde);i==null&&Vi(!1);let{basename:r}=the(XR.useViewTransitionState),o=e3(n,{relative:e.relative});if(!i.isTransitioning)return!1;let l=T1(i.currentLocation.pathname,r)||i.currentLocation.pathname,c=T1(i.nextLocation.pathname,r)||i.nextLocation.pathname;return qR(o.pathname,c)!=null||qR(o.pathname,l)!=null}const rhe="modulepreload",she=function(n){return"/accreda.github.io/"+n},gV={},la=function(e,i,r){let o=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));o=Promise.allSettled(i.map(h=>{if(h=she(h),h in gV)return;gV[h]=!0;const m=h.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const y=document.createElement("link");if(y.rel=m?"stylesheet":rhe,m||(y.as="script"),y.crossOrigin="",y.href=h,u&&y.setAttribute("nonce",u),document.head.appendChild(y),m)return new Promise((v,_)=>{y.addEventListener("load",v),y.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${h}`)))})}))}function l(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return o.then(c=>{for(const u of c||[])u.status==="rejected"&&l(u.reason);return e().catch(l)})},ohe=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...i)=>la(async()=>{const{default:r}=await Promise.resolve().then(()=>H1);return{default:r}},void 0).then(({default:r})=>r(...i)):e=fetch,(...i)=>e(...i)};class e8 extends Error{constructor(e,i="FunctionsError",r){super(e),this.name=i,this.context=r}}class ahe extends e8{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class lhe extends e8{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class che extends e8{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var KR;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(KR||(KR={}));var uhe=function(n,e,i,r){function o(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function u(g){try{m(r.next(g))}catch(y){c(y)}}function h(g){try{m(r.throw(g))}catch(y){c(y)}}function m(g){g.done?l(g.value):o(g.value).then(u,h)}m((r=r.apply(n,e||[])).next())})};class dhe{constructor(e,{headers:i={},customFetch:r,region:o=KR.Any}={}){this.url=e,this.headers=i,this.region=o,this.fetch=ohe(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,i={}){var r;return uhe(this,void 0,void 0,function*(){try{const{headers:o,method:l,body:c}=i;let u={},{region:h}=i;h||(h=this.region),h&&h!=="any"&&(u["x-region"]=h);let m;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(u["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(u["Content-Type"]="application/json",m=JSON.stringify(c)));const g=yield this.fetch(`${this.url}/${e}`,{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),o),body:m}).catch(A=>{throw new ahe(A)}),y=g.headers.get("x-relay-error");if(y&&y==="true")throw new lhe(g);if(!g.ok)throw new che(g);let v=((r=g.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),_;return v==="application/json"?_=yield g.json():v==="application/octet-stream"?_=yield g.blob():v==="text/event-stream"?_=g:v==="multipart/form-data"?_=yield g.formData():_=yield g.text(),{data:_,error:null}}catch(o){return{data:null,error:o}}})}}var ta={},t8={},t3={},OS={},n3={},i3={},hhe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},D1=hhe();const fhe=D1.fetch,oK=D1.fetch.bind(D1),aK=D1.Headers,phe=D1.Request,mhe=D1.Response,H1=Object.freeze(Object.defineProperty({__proto__:null,Headers:aK,Request:phe,Response:mhe,default:oK,fetch:fhe},Symbol.toStringTag,{value:"Module"})),ghe=jH(H1);var r3={};Object.defineProperty(r3,"__esModule",{value:!0});let bhe=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};r3.default=bhe;var lK=Lt&&Lt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(i3,"__esModule",{value:!0});const yhe=lK(ghe),vhe=lK(r3);let whe=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=yhe.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,i){return this.headers=Object.assign({},this.headers),this.headers[e]=i,this}then(e,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,u,h;let m=null,g=null,y=null,v=l.status,_=l.statusText;if(l.ok){if(this.method!=="HEAD"){const T=await l.text();T===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?g=T:g=JSON.parse(T))}const S=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),C=(u=l.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");S&&C&&C.length>1&&(y=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(m={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,y=null,v=406,_="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const S=await l.text();try{m=JSON.parse(S),Array.isArray(m)&&l.status===404&&(g=[],m=null,v=200,_="OK")}catch{l.status===404&&S===""?(v=204,_="No Content"):m={message:S}}if(m&&this.isMaybeSingle&&(!((h=m==null?void 0:m.details)===null||h===void 0)&&h.includes("0 rows"))&&(m=null,v=200,_="OK"),m&&this.shouldThrowOnError)throw new vhe.default(m)}return{error:m,data:g,count:y,status:v,statusText:_}});return this.shouldThrowOnError||(o=o.catch(l=>{var c,u,h;return{error:{message:`${(c=l==null?void 0:l.name)!==null&&c!==void 0?c:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(u=l==null?void 0:l.stack)!==null&&u!==void 0?u:""}`,hint:"",code:`${(h=l==null?void 0:l.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),o.then(e,i)}returns(){return this}overrideTypes(){return this}};i3.default=whe;var xhe=Lt&&Lt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(n3,"__esModule",{value:!0});const _he=xhe(i3);let khe=class extends _he.default{select(e){let i=!1;const r=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:i=!0,nullsFirst:r,foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${e}.${i?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:i,referencedTable:r=i}={}){const o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this}range(e,i,{foreignTable:r,referencedTable:o=r}={}){const l=typeof o>"u"?"offset":`${o}.offset`,c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${e}`),this.url.searchParams.set(c,`${i-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:i=!1,settings:r=!1,buffers:o=!1,wal:l=!1,format:c="text"}={}){var u;const h=[e?"analyze":null,i?"verbose":null,r?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),m=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${m}"; options=${h};`,c==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};n3.default=khe;var Ehe=Lt&&Lt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(OS,"__esModule",{value:!0});const She=Ehe(n3);let Ahe=class extends She.default{eq(e,i){return this.url.searchParams.append(e,`eq.${i}`),this}neq(e,i){return this.url.searchParams.append(e,`neq.${i}`),this}gt(e,i){return this.url.searchParams.append(e,`gt.${i}`),this}gte(e,i){return this.url.searchParams.append(e,`gte.${i}`),this}lt(e,i){return this.url.searchParams.append(e,`lt.${i}`),this}lte(e,i){return this.url.searchParams.append(e,`lte.${i}`),this}like(e,i){return this.url.searchParams.append(e,`like.${i}`),this}likeAllOf(e,i){return this.url.searchParams.append(e,`like(all).{${i.join(",")}}`),this}likeAnyOf(e,i){return this.url.searchParams.append(e,`like(any).{${i.join(",")}}`),this}ilike(e,i){return this.url.searchParams.append(e,`ilike.${i}`),this}ilikeAllOf(e,i){return this.url.searchParams.append(e,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(e,i){return this.url.searchParams.append(e,`ilike(any).{${i.join(",")}}`),this}is(e,i){return this.url.searchParams.append(e,`is.${i}`),this}in(e,i){const r=Array.from(new Set(i)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,i){return typeof i=="string"?this.url.searchParams.append(e,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(e,`cs.{${i.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(i)}`),this}containedBy(e,i){return typeof i=="string"?this.url.searchParams.append(e,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(e,`cd.{${i.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(i)}`),this}rangeGt(e,i){return this.url.searchParams.append(e,`sr.${i}`),this}rangeGte(e,i){return this.url.searchParams.append(e,`nxl.${i}`),this}rangeLt(e,i){return this.url.searchParams.append(e,`sl.${i}`),this}rangeLte(e,i){return this.url.searchParams.append(e,`nxr.${i}`),this}rangeAdjacent(e,i){return this.url.searchParams.append(e,`adj.${i}`),this}overlaps(e,i){return typeof i=="string"?this.url.searchParams.append(e,`ov.${i}`):this.url.searchParams.append(e,`ov.{${i.join(",")}}`),this}textSearch(e,i,{config:r,type:o}={}){let l="";o==="plain"?l="pl":o==="phrase"?l="ph":o==="websearch"&&(l="w");const c=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${l}fts${c}.${i}`),this}match(e){return Object.entries(e).forEach(([i,r])=>{this.url.searchParams.append(i,`eq.${r}`)}),this}not(e,i,r){return this.url.searchParams.append(e,`not.${i}.${r}`),this}or(e,{foreignTable:i,referencedTable:r=i}={}){const o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${e})`),this}filter(e,i,r){return this.url.searchParams.append(e,`${i}.${r}`),this}};OS.default=Ahe;var Che=Lt&&Lt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t3,"__esModule",{value:!0});const pk=Che(OS);let The=class{constructor(e,{headers:i={},schema:r,fetch:o}){this.url=e,this.headers=i,this.schema=r,this.fetch=o}select(e,{head:i=!1,count:r}={}){const o=i?"HEAD":"GET";let l=!1;const c=(e??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),r&&(this.headers.Prefer=`count=${r}`),new pk.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:i,defaultToNull:r=!0}={}){const o="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),r||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const c=e.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new pk.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:i,ignoreDuplicates:r=!1,count:o,defaultToNull:l=!0}={}){const c="POST",u=[`resolution=${r?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&u.push(this.headers.Prefer),o&&u.push(`count=${o}`),l||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(e)){const h=e.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(h.length>0){const m=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",m.join(","))}}return new pk.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:i}={}){const r="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),this.headers.Prefer=o.join(","),new pk.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const i="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new pk.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};t3.default=The;var s3={},o3={};Object.defineProperty(o3,"__esModule",{value:!0});o3.version=void 0;o3.version="0.0.0-automated";Object.defineProperty(s3,"__esModule",{value:!0});s3.DEFAULT_HEADERS=void 0;const Dhe=o3;s3.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Dhe.version}`};var cK=Lt&&Lt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t8,"__esModule",{value:!0});const Nhe=cK(t3),Phe=cK(OS),jhe=s3;let Ihe=class uK{constructor(e,{headers:i={},schema:r,fetch:o}={}){this.url=e,this.headers=Object.assign(Object.assign({},jhe.DEFAULT_HEADERS),i),this.schemaName=r,this.fetch=o}from(e){const i=new URL(`${this.url}/${e}`);return new Nhe.default(i,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new uK(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,i={},{head:r=!1,get:o=!1,count:l}={}){let c;const u=new URL(`${this.url}/rpc/${e}`);let h;r||o?(c=r?"HEAD":"GET",Object.entries(i).filter(([g,y])=>y!==void 0).map(([g,y])=>[g,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([g,y])=>{u.searchParams.append(g,y)})):(c="POST",h=i);const m=Object.assign({},this.headers);return l&&(m.Prefer=`count=${l}`),new Phe.default({method:c,url:u,headers:m,schema:this.schemaName,body:h,fetch:this.fetch,allowEmpty:!1})}};t8.default=Ihe;var G1=Lt&&Lt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ta,"__esModule",{value:!0});ta.PostgrestError=ta.PostgrestBuilder=ta.PostgrestTransformBuilder=ta.PostgrestFilterBuilder=ta.PostgrestQueryBuilder=ta.PostgrestClient=void 0;const dK=G1(t8);ta.PostgrestClient=dK.default;const hK=G1(t3);ta.PostgrestQueryBuilder=hK.default;const fK=G1(OS);ta.PostgrestFilterBuilder=fK.default;const pK=G1(n3);ta.PostgrestTransformBuilder=pK.default;const mK=G1(i3);ta.PostgrestBuilder=mK.default;const gK=G1(r3);ta.PostgrestError=gK.default;var Rhe=ta.default={PostgrestClient:dK.default,PostgrestQueryBuilder:hK.default,PostgrestFilterBuilder:fK.default,PostgrestTransformBuilder:pK.default,PostgrestBuilder:mK.default,PostgrestError:gK.default};const{PostgrestClient:Mhe,PostgrestQueryBuilder:FTe,PostgrestFilterBuilder:UTe,PostgrestTransformBuilder:LTe,PostgrestBuilder:BTe,PostgrestError:zTe}=Rhe,Ohe="2.11.2",Fhe={"X-Client-Info":`realtime-js/${Ohe}`},Uhe="1.0.0",bK=1e4,Lhe=1e3;var aw;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(aw||(aw={}));var Ia;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Ia||(Ia={}));var Hc;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Hc||(Hc={}));var YR;(function(n){n.websocket="websocket"})(YR||(YR={}));var ib;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(ib||(ib={}));class Bhe{constructor(){this.HEADER_LENGTH=1}decode(e,i){return e.constructor===ArrayBuffer?i(this._binaryDecode(e)):i(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const i=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,i,r)}_decodeBroadcast(e,i,r){const o=i.getUint8(1),l=i.getUint8(2);let c=this.HEADER_LENGTH+2;const u=r.decode(e.slice(c,c+o));c=c+o;const h=r.decode(e.slice(c,c+l));c=c+l;const m=JSON.parse(r.decode(e.slice(c,e.byteLength)));return{ref:null,topic:u,event:h,payload:m}}}class yK{constructor(e,i){this.callback=e,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var hi;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(hi||(hi={}));const bV=(n,e,i={})=>{var r;const o=(r=i.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((l,c)=>(l[c]=zhe(c,n,e,o),l),{})},zhe=(n,e,i,r)=>{const o=e.find(u=>u.name===n),l=o==null?void 0:o.type,c=i[n];return l&&!r.includes(l)?vK(l,c):ZR(c)},vK=(n,e)=>{if(n.charAt(0)==="_"){const i=n.slice(1,n.length);return qhe(e,i)}switch(n){case hi.bool:return Vhe(e);case hi.float4:case hi.float8:case hi.int2:case hi.int4:case hi.int8:case hi.numeric:case hi.oid:return Whe(e);case hi.json:case hi.jsonb:return $he(e);case hi.timestamp:return Hhe(e);case hi.abstime:case hi.date:case hi.daterange:case hi.int4range:case hi.int8range:case hi.money:case hi.reltime:case hi.text:case hi.time:case hi.timestamptz:case hi.timetz:case hi.tsrange:case hi.tstzrange:return ZR(e);default:return ZR(e)}},ZR=n=>n,Vhe=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Whe=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},$he=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},qhe=(n,e)=>{if(typeof n!="string")return n;const i=n.length-1,r=n[i];if(n[0]==="{"&&r==="}"){let l;const c=n.slice(1,i);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(u=>vK(e,u))}return n},Hhe=n=>typeof n=="string"?n.replace(" ","T"):n,wK=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class cI{constructor(e,i,r={},o=bK){this.channel=e,this.event=i,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,i){var r;return this._hasReceived(e)&&i((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:i}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(i))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var yV;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(yV||(yV={}));class a2{constructor(e,i){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(i==null?void 0:i.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:l,onLeave:c,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=a2.syncState(this.state,o,l,c),this.pendingDiffs.forEach(h=>{this.state=a2.syncDiff(this.state,h,l,c)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},o=>{const{onJoin:l,onLeave:c,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=a2.syncDiff(this.state,o,l,c),u())}),this.onJoin((o,l,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:c})}),this.onLeave((o,l,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,i,r,o){const l=this.cloneDeep(e),c=this.transformState(i),u={},h={};return this.map(l,(m,g)=>{c[m]||(h[m]=g)}),this.map(c,(m,g)=>{const y=l[m];if(y){const v=g.map(C=>C.presence_ref),_=y.map(C=>C.presence_ref),A=g.filter(C=>_.indexOf(C.presence_ref)<0),S=y.filter(C=>v.indexOf(C.presence_ref)<0);A.length>0&&(u[m]=A),S.length>0&&(h[m]=S)}else u[m]=g}),this.syncDiff(l,{joins:u,leaves:h},r,o)}static syncDiff(e,i,r,o){const{joins:l,leaves:c}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(l,(u,h)=>{var m;const g=(m=e[u])!==null&&m!==void 0?m:[];if(e[u]=this.cloneDeep(h),g.length>0){const y=e[u].map(_=>_.presence_ref),v=g.filter(_=>y.indexOf(_.presence_ref)<0);e[u].unshift(...v)}r(u,g,h)}),this.map(c,(u,h)=>{let m=e[u];if(!m)return;const g=h.map(y=>y.presence_ref);m=m.filter(y=>g.indexOf(y.presence_ref)<0),e[u]=m,o(u,m,h),m.length===0&&delete e[u]}),e}static map(e,i){return Object.getOwnPropertyNames(e).map(r=>i(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((i,r)=>{const o=e[r];return"metas"in o?i[r]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):i[r]=o,i},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vV;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(vV||(vV={}));var wV;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(wV||(wV={}));var bh;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(bh||(bh={}));class n8{constructor(e,i={config:{}},r){this.topic=e,this.params=i,this.socket=r,this.bindings={},this.state=Ia.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new cI(this,Hc.join,this.params,this.timeout),this.rejoinTimer=new yK(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ia.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ia.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ia.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ia.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Hc.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new a2(this),this.broadcastEndpointURL=wK(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,i=this.timeout){var r,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:l,presence:c,private:u}}=this.params;this._onError(g=>e==null?void 0:e(bh.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(bh.CLOSED));const h={},m={broadcast:l,presence:c,postgres_changes:(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&o!==void 0?o:[],private:u};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:g})=>{var y;if(this.socket.setAuth(),g===void 0){e==null||e(bh.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,_=(y=v==null?void 0:v.length)!==null&&y!==void 0?y:0,A=[];for(let S=0;S<_;S++){const C=v[S],{filter:{event:T,schema:N,table:j,filter:O}}=C,F=g&&g[S];if(F&&F.event===T&&F.schema===N&&F.table===j&&F.filter===O)A.push(Object.assign(Object.assign({},C),{id:F.id}));else{this.unsubscribe(),e==null||e(bh.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,e&&e(bh.SUBSCRIBED);return}}).receive("error",g=>{e==null||e(bh.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(bh.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,i={}){return await this.send({type:"presence",event:"track",payload:e},i.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,i,r){return this._on(e,i,r)}async send(e,i={}){var r,o;if(!this._canPush()&&e.type==="broadcast"){const{event:l,payload:c}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(r=i.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,u,h;const m=this._push(e.type,e,i.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(u=(c=this.params)===null||c===void 0?void 0:c.config)===null||u===void 0?void 0:u.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ia.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Hc.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const o=new cI(this,Hc.leave,{},e);o.receive("ok",()=>{i(),r("ok")}).receive("timeout",()=>{i(),r("timed out")}).receive("error",()=>{r("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}async _fetchWithTimeout(e,i,r){const o=new AbortController,l=setTimeout(()=>o.abort(),r),c=await this.socket.fetch(e,Object.assign(Object.assign({},i),{signal:o.signal}));return clearTimeout(l),c}_push(e,i,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new cI(this,e,i,r);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(e,i,r){return i}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,i,r){var o,l;const c=e.toLocaleLowerCase(),{close:u,error:h,leave:m,join:g}=Hc;if(r&&[u,h,m,g].indexOf(c)>=0&&r!==this._joinRef())return;let v=this._onMessage(c,i,r);if(i&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(_=>{var A,S,C;return((A=_.filter)===null||A===void 0?void 0:A.event)==="*"||((C=(S=_.filter)===null||S===void 0?void 0:S.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===c}).map(_=>_.callback(v,r)):(l=this.bindings[c])===null||l===void 0||l.filter(_=>{var A,S,C,T,N,j;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in _){const O=_.id,F=(A=_.filter)===null||A===void 0?void 0:A.event;return O&&((S=i.ids)===null||S===void 0?void 0:S.includes(O))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((C=i.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const O=(N=(T=_==null?void 0:_.filter)===null||T===void 0?void 0:T.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return O==="*"||O===((j=i==null?void 0:i.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===c}).map(_=>{if(typeof v=="object"&&"ids"in v){const A=v.data,{schema:S,table:C,commit_timestamp:T,type:N,errors:j}=A;v=Object.assign(Object.assign({},{schema:S,table:C,commit_timestamp:T,eventType:N,new:{},old:{},errors:j}),this._getPayloadRecords(A))}_.callback(v,r)})}_isClosed(){return this.state===Ia.closed}_isJoined(){return this.state===Ia.joined}_isJoining(){return this.state===Ia.joining}_isLeaving(){return this.state===Ia.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,i,r){const o=e.toLocaleLowerCase(),l={type:o,filter:i,callback:r};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,i){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===r&&n8.isEqual(o.filter,i))}),this}static isEqual(e,i){if(Object.keys(e).length!==Object.keys(i).length)return!1;for(const r in e)if(e[r]!==i[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Hc.close,{},e)}_onError(e){this._on(Hc.error,{},i=>e(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ia.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const i={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(i.new=bV(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(i.old=bV(e.columns,e.old_record)),i}}const Ghe=()=>{},Xhe=typeof WebSocket<"u",Khe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Yhe{constructor(e,i){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Fhe,this.params={},this.timeout=bK,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Ghe,this.conn=null,this.sendBuffer=[],this.serializer=new Bhe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=l=>{let c;return l?c=l:typeof fetch>"u"?c=(...u)=>la(async()=>{const{default:h}=await Promise.resolve().then(()=>H1);return{default:h}},void 0).then(({default:h})=>h(...u)):c=fetch,(...u)=>c(...u)},this.endPoint=`${e}/${YR.websocket}`,this.httpEndpoint=wK(e),i!=null&&i.transport?this.transport=i.transport:this.transport=null,i!=null&&i.params&&(this.params=i.params),i!=null&&i.headers&&(this.headers=Object.assign(Object.assign({},this.headers),i.headers)),i!=null&&i.timeout&&(this.timeout=i.timeout),i!=null&&i.logger&&(this.logger=i.logger),i!=null&&i.heartbeatIntervalMs&&(this.heartbeatIntervalMs=i.heartbeatIntervalMs);const o=(r=i==null?void 0:i.params)===null||r===void 0?void 0:r.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=i!=null&&i.reconnectAfterMs?i.reconnectAfterMs:l=>[1e3,2e3,5e3,1e4][l-1]||1e4,this.encode=i!=null&&i.encode?i.encode:(l,c)=>c(JSON.stringify(l)),this.decode=i!=null&&i.decode?i.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new yK(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(i==null?void 0:i.fetch),i!=null&&i.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(i==null?void 0:i.worker)||!1,this.workerUrl=i==null?void 0:i.workerUrl}this.accessToken=(i==null?void 0:i.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Xhe){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Zhe(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),la(async()=>{const{default:e}=await import("./browser-xeZ49vPK.js").then(i=>i.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Uhe}))}disconnect(e,i){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,i??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const i=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const e=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.disconnect(),e}log(e,i,r){this.logger(e,i,r)}connectionState(){switch(this.conn&&this.conn.readyState){case aw.connecting:return ib.Connecting;case aw.open:return ib.Open;case aw.closing:return ib.Closing;default:return ib.Closed}}isConnected(){return this.connectionState()===ib.Open}channel(e,i={config:{}}){const r=new n8(`realtime:${e}`,i,this);return this.channels.push(r),r}push(e){const{topic:i,event:r,payload:o,ref:l}=e,c=()=>{this.encode(e,u=>{var h;(h=this.conn)===null||h===void 0||h.send(u)})};this.log("push",`${i} ${r} (${l})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){let i=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(i){let r=null;try{r=JSON.parse(atob(i.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=i,this.channels.forEach(o=>{i&&o.updateJoinPayload({access_token:i}),o.joinedOnce&&o._isJoined()&&o._push(Hc.access_token,{access_token:i})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Lhe,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let i=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${e}"`),i.unsubscribe())}_remove(e){this.channels=this.channels.filter(i=>i._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,i=>{let{topic:r,event:o,payload:l,ref:c}=i;c&&c===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${l.status||""} ${r} ${o} ${c&&"("+c+")"||""}`,l),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(o,l,c)),this.stateChangeCallbacks.message.forEach(u=>u(i))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(i=>i(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(i=>i(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Hc.error))}_appendParams(e,i){if(Object.keys(i).length===0)return e;const r=e.match(/\?/)?"&":"?",o=new URLSearchParams(i);return`${e}${r}${o}`}_workerObjectUrl(e){let i;if(e)i=e;else{const r=new Blob([Khe],{type:"application/javascript"});i=URL.createObjectURL(r)}return i}}class Zhe{constructor(e,i,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=aw.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class i8 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Zr(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class Jhe extends i8{constructor(e,i){super(e),this.name="StorageApiError",this.status=i}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class JR extends i8{constructor(e,i){super(e),this.name="StorageUnknownError",this.originalError=i}}var Qhe=function(n,e,i,r){function o(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function u(g){try{m(r.next(g))}catch(y){c(y)}}function h(g){try{m(r.throw(g))}catch(y){c(y)}}function m(g){g.done?l(g.value):o(g.value).then(u,h)}m((r=r.apply(n,e||[])).next())})};const xK=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...i)=>la(async()=>{const{default:r}=await Promise.resolve().then(()=>H1);return{default:r}},void 0).then(({default:r})=>r(...i)):e=fetch,(...i)=>e(...i)},efe=()=>Qhe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield la(()=>Promise.resolve().then(()=>H1),void 0)).Response:Response}),QR=n=>{if(Array.isArray(n))return n.map(i=>QR(i));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([i,r])=>{const o=i.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=QR(r)}),e};var B0=function(n,e,i,r){function o(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function u(g){try{m(r.next(g))}catch(y){c(y)}}function h(g){try{m(r.throw(g))}catch(y){c(y)}}function m(g){g.done?l(g.value):o(g.value).then(u,h)}m((r=r.apply(n,e||[])).next())})};const uI=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),tfe=(n,e,i)=>B0(void 0,void 0,void 0,function*(){const r=yield efe();n instanceof r&&!(i!=null&&i.noResolveJson)?n.json().then(o=>{e(new Jhe(uI(o),n.status||500))}).catch(o=>{e(new JR(uI(o),o))}):e(new JR(uI(n),n))}),nfe=(n,e,i,r)=>{const o={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(o.body=JSON.stringify(r)),Object.assign(Object.assign({},o),i))};function FS(n,e,i,r,o,l){return B0(this,void 0,void 0,function*(){return new Promise((c,u)=>{n(i,nfe(e,r,o,l)).then(h=>{if(!h.ok)throw h;return r!=null&&r.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>tfe(h,u,r))})})}function U5(n,e,i,r){return B0(this,void 0,void 0,function*(){return FS(n,"GET",e,i,r)})}function Sp(n,e,i,r,o){return B0(this,void 0,void 0,function*(){return FS(n,"POST",e,r,o,i)})}function ife(n,e,i,r,o){return B0(this,void 0,void 0,function*(){return FS(n,"PUT",e,r,o,i)})}function rfe(n,e,i,r){return B0(this,void 0,void 0,function*(){return FS(n,"HEAD",e,Object.assign(Object.assign({},i),{noResolveJson:!0}),r)})}function _K(n,e,i,r,o){return B0(this,void 0,void 0,function*(){return FS(n,"DELETE",e,r,o,i)})}var Ho=function(n,e,i,r){function o(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function u(g){try{m(r.next(g))}catch(y){c(y)}}function h(g){try{m(r.throw(g))}catch(y){c(y)}}function m(g){g.done?l(g.value):o(g.value).then(u,h)}m((r=r.apply(n,e||[])).next())})};const sfe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xV={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ofe{constructor(e,i={},r,o){this.url=e,this.headers=i,this.bucketId=r,this.fetch=xK(o)}uploadOrUpdate(e,i,r,o){return Ho(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},xV),o);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),h&&l.append("metadata",this.encodeMetadata(h)),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl),h&&l.append("metadata",this.encodeMetadata(h))):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType,h&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),o!=null&&o.headers&&(u=Object.assign(Object.assign({},u),o.headers));const m=this._removeEmptyFolders(i),g=this._getFinalPath(m),y=yield this.fetch(`${this.url}/object/${g}`,Object.assign({method:e,body:l,headers:u},c!=null&&c.duplex?{duplex:c.duplex}:{})),v=yield y.json();return y.ok?{data:{path:m,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(l){if(Zr(l))return{data:null,error:l};throw l}})}upload(e,i,r){return Ho(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,i,r)})}uploadToSignedUrl(e,i,r,o){return Ho(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),u=new URL(this.url+`/object/upload/sign/${c}`);u.searchParams.set("token",i);try{let h;const m=Object.assign({upsert:xV.upsert},o),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.append("cacheControl",m.cacheControl)):(h=r,g["cache-control"]=`max-age=${m.cacheControl}`,g["content-type"]=m.contentType);const y=yield this.fetch(u.toString(),{method:"PUT",body:h,headers:g}),v=yield y.json();return y.ok?{data:{path:l,fullPath:v.Key},error:null}:{data:null,error:v}}catch(h){if(Zr(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,i){return Ho(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const o=Object.assign({},this.headers);i!=null&&i.upsert&&(o["x-upsert"]="true");const l=yield Sp(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),c=new URL(this.url+l.url),u=c.searchParams.get("token");if(!u)throw new i8("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:u},error:null}}catch(r){if(Zr(r))return{data:null,error:r};throw r}})}update(e,i,r){return Ho(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,i,r)})}move(e,i,r){return Ho(this,void 0,void 0,function*(){try{return{data:yield Sp(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:i,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(Zr(o))return{data:null,error:o};throw o}})}copy(e,i,r){return Ho(this,void 0,void 0,function*(){try{return{data:{path:(yield Sp(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:i,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(Zr(o))return{data:null,error:o};throw o}})}createSignedUrl(e,i,r){return Ho(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),l=yield Sp(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:i},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const c=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(o){if(Zr(o))return{data:null,error:o};throw o}})}createSignedUrls(e,i,r){return Ho(this,void 0,void 0,function*(){try{const o=yield Sp(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:e},{headers:this.headers}),l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(o){if(Zr(o))return{data:null,error:o};throw o}})}download(e,i){return Ho(this,void 0,void 0,function*(){const o=typeof(i==null?void 0:i.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((i==null?void 0:i.transform)||{}),c=l?`?${l}`:"";try{const u=this._getFinalPath(e);return{data:yield(yield U5(this.fetch,`${this.url}/${o}/${u}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(Zr(u))return{data:null,error:u};throw u}})}info(e){return Ho(this,void 0,void 0,function*(){const i=this._getFinalPath(e);try{const r=yield U5(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:QR(r),error:null}}catch(r){if(Zr(r))return{data:null,error:r};throw r}})}exists(e){return Ho(this,void 0,void 0,function*(){const i=this._getFinalPath(e);try{return yield rfe(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Zr(r)&&r instanceof JR){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,i){const r=this._getFinalPath(e),o=[],l=i!=null&&i.download?`download=${i.download===!0?"":i.download}`:"";l!==""&&o.push(l);const u=typeof(i==null?void 0:i.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((i==null?void 0:i.transform)||{});h!==""&&o.push(h);let m=o.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${m}`)}}}remove(e){return Ho(this,void 0,void 0,function*(){try{return{data:yield _K(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(i){if(Zr(i))return{data:null,error:i};throw i}})}list(e,i,r){return Ho(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},sfe),i),{prefix:e||""});return{data:yield Sp(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(Zr(o))return{data:null,error:o};throw o}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const i=[];return e.width&&i.push(`width=${e.width}`),e.height&&i.push(`height=${e.height}`),e.resize&&i.push(`resize=${e.resize}`),e.format&&i.push(`format=${e.format}`),e.quality&&i.push(`quality=${e.quality}`),i.join("&")}}const afe="2.7.1",lfe={"X-Client-Info":`storage-js/${afe}`};var mv=function(n,e,i,r){function o(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function u(g){try{m(r.next(g))}catch(y){c(y)}}function h(g){try{m(r.throw(g))}catch(y){c(y)}}function m(g){g.done?l(g.value):o(g.value).then(u,h)}m((r=r.apply(n,e||[])).next())})};class cfe{constructor(e,i={},r){this.url=e,this.headers=Object.assign(Object.assign({},lfe),i),this.fetch=xK(r)}listBuckets(){return mv(this,void 0,void 0,function*(){try{return{data:yield U5(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Zr(e))return{data:null,error:e};throw e}})}getBucket(e){return mv(this,void 0,void 0,function*(){try{return{data:yield U5(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(i){if(Zr(i))return{data:null,error:i};throw i}})}createBucket(e,i={public:!1}){return mv(this,void 0,void 0,function*(){try{return{data:yield Sp(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Zr(r))return{data:null,error:r};throw r}})}updateBucket(e,i){return mv(this,void 0,void 0,function*(){try{return{data:yield ife(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Zr(r))return{data:null,error:r};throw r}})}emptyBucket(e){return mv(this,void 0,void 0,function*(){try{return{data:yield Sp(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(Zr(i))return{data:null,error:i};throw i}})}deleteBucket(e){return mv(this,void 0,void 0,function*(){try{return{data:yield _K(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(i){if(Zr(i))return{data:null,error:i};throw i}})}}class ufe extends cfe{constructor(e,i={},r){super(e,i,r)}from(e){return new ofe(this.url,this.headers,e,this.fetch)}}const dfe="2.49.8";let jk="";typeof Deno<"u"?jk="deno":typeof document<"u"?jk="web":typeof navigator<"u"&&navigator.product==="ReactNative"?jk="react-native":jk="node";const hfe={"X-Client-Info":`supabase-js-${jk}/${dfe}`},ffe={headers:hfe},pfe={schema:"public"},mfe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},gfe={};var bfe=function(n,e,i,r){function o(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function u(g){try{m(r.next(g))}catch(y){c(y)}}function h(g){try{m(r.throw(g))}catch(y){c(y)}}function m(g){g.done?l(g.value):o(g.value).then(u,h)}m((r=r.apply(n,e||[])).next())})};const yfe=n=>{let e;return n?e=n:typeof fetch>"u"?e=oK:e=fetch,(...i)=>e(...i)},vfe=()=>typeof Headers>"u"?aK:Headers,wfe=(n,e,i)=>{const r=yfe(i),o=vfe();return(l,c)=>bfe(void 0,void 0,void 0,function*(){var u;const h=(u=yield e())!==null&&u!==void 0?u:n;let m=new o(c==null?void 0:c.headers);return m.has("apikey")||m.set("apikey",n),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),r(l,Object.assign(Object.assign({},c),{headers:m}))})};var xfe=function(n,e,i,r){function o(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function u(g){try{m(r.next(g))}catch(y){c(y)}}function h(g){try{m(r.throw(g))}catch(y){c(y)}}function m(g){g.done?l(g.value):o(g.value).then(u,h)}m((r=r.apply(n,e||[])).next())})};function _fe(n){return n.endsWith("/")?n:n+"/"}function kfe(n,e){var i,r;const{db:o,auth:l,realtime:c,global:u}=n,{db:h,auth:m,realtime:g,global:y}=e,v={db:Object.assign(Object.assign({},h),o),auth:Object.assign(Object.assign({},m),l),realtime:Object.assign(Object.assign({},g),c),global:Object.assign(Object.assign(Object.assign({},y),u),{headers:Object.assign(Object.assign({},(i=y==null?void 0:y.headers)!==null&&i!==void 0?i:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>xfe(this,void 0,void 0,function*(){return""})};return n.accessToken?v.accessToken=n.accessToken:delete v.accessToken,v}const kK="2.69.1",kv=30*1e3,e6=3,dI=e6*kv,Efe="http://localhost:9999",Sfe="supabase.auth.token",Afe={"X-Client-Info":`gotrue-js/${kK}`},t6="X-Supabase-Api-Version",EK={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Cfe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Tfe=6e5;class r8 extends Error{constructor(e,i,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=r}}function pn(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class Dfe extends r8{constructor(e,i,r){super(e,i,r),this.name="AuthApiError",this.status=i,this.code=r}}function Nfe(n){return pn(n)&&n.name==="AuthApiError"}class SK extends r8{constructor(e,i){super(e),this.name="AuthUnknownError",this.originalError=i}}class Wm extends r8{constructor(e,i,r,o){super(e,r,o),this.name=i,this.status=r}}class vp extends Wm{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Pfe(n){return pn(n)&&n.name==="AuthSessionMissingError"}class hI extends Wm{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class BT extends Wm{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class zT extends Wm{constructor(e,i=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jfe(n){return pn(n)&&n.name==="AuthImplicitGrantRedirectError"}class _V extends Wm{constructor(e,i=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class n6 extends Wm{constructor(e,i){super(e,"AuthRetryableFetchError",i,void 0)}}function fI(n){return pn(n)&&n.name==="AuthRetryableFetchError"}class kV extends Wm{constructor(e,i,r){super(e,"AuthWeakPasswordError",i,"weak_password"),this.reasons=r}}class l2 extends Wm{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const EV="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),SV=` 	
\r=`.split(""),Ife=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<SV.length;e+=1)n[SV[e].charCodeAt(0)]=-2;for(let e=0;e<EV.length;e+=1)n[EV[e].charCodeAt(0)]=e;return n})();function AK(n,e,i){const r=Ife[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)i(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function AV(n){const e=[],i=c=>{e.push(String.fromCodePoint(c))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=c=>{Ofe(c,r,i)};for(let c=0;c<n.length;c+=1)AK(n.charCodeAt(c),o,l);return e.join("")}function Rfe(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function Mfe(n,e){for(let i=0;i<n.length;i+=1){let r=n.charCodeAt(i);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(n.charCodeAt(i+1)-56320&65535|o)+65536,i+=1}Rfe(r,e)}}function Ofe(n,e,i){if(e.utf8seq===0){if(n<=127){i(n);return}for(let r=1;r<6;r+=1)if(!(n>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&i(e.codepoint)}}function Ffe(n){const e=[],i={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<n.length;o+=1)AK(n.charCodeAt(o),i,r);return new Uint8Array(e)}function Ufe(n){const e=[];return Mfe(n,i=>e.push(i)),new Uint8Array(e)}function Lfe(n){return Math.round(Date.now()/1e3)+n}function Bfe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const qu=()=>typeof window<"u"&&typeof document<"u",Gg={tested:!1,writable:!1},c2=()=>{if(!qu())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gg.tested)return Gg.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Gg.tested=!0,Gg.writable=!0}catch{Gg.tested=!0,Gg.writable=!1}return Gg.writable};function zfe(n){const e={},i=new URL(n);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return i.searchParams.forEach((r,o)=>{e[o]=r}),e}const CK=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...i)=>la(async()=>{const{default:r}=await Promise.resolve().then(()=>H1);return{default:r}},void 0).then(({default:r})=>r(...i)):e=fetch,(...i)=>e(...i)},Vfe=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",TK=async(n,e,i)=>{await n.setItem(e,JSON.stringify(i))},VT=async(n,e)=>{const i=await n.getItem(e);if(!i)return null;try{return JSON.parse(i)}catch{return i}},WT=async(n,e)=>{await n.removeItem(e)};class a3{constructor(){this.promise=new a3.promiseConstructor((e,i)=>{this.resolve=e,this.reject=i})}}a3.promiseConstructor=Promise;function pI(n){const e=n.split(".");if(e.length!==3)throw new l2("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Cfe.test(e[r]))throw new l2("JWT not in base64url format");return{header:JSON.parse(AV(e[0])),payload:JSON.parse(AV(e[1])),signature:Ffe(e[2]),raw:{header:e[0],payload:e[1]}}}async function Wfe(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function $fe(n,e){return new Promise((r,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await n(l);if(!e(l,null,c)){r(c);return}}catch(c){if(!e(l,c)){o(c);return}}})()})}function qfe(n){return("0"+n.toString(16)).substr(-2)}function Hfe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=i.length;let o="";for(let l=0;l<56;l++)o+=i.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,qfe).join("")}async function Gfe(n){const i=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",i),o=new Uint8Array(r);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function Xfe(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const i=await Gfe(n);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gv(n,e,i=!1){const r=Hfe();let o=r;i&&(o+="/PASSWORD_RECOVERY"),await TK(n,`${e}-code-verifier`,o);const l=await Xfe(r);return[l,r===l?"plain":"s256"]}const Kfe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Yfe(n){const e=n.headers.get(t6);if(!e||!e.match(Kfe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Zfe(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function Jfe(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Qfe=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};const Jg=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),epe=[502,503,504];async function CV(n){var e;if(!Vfe(n))throw new n6(Jg(n),0);if(epe.includes(n.status))throw new n6(Jg(n),n.status);let i;try{i=await n.json()}catch(l){throw new SK(Jg(l),l)}let r;const o=Yfe(n);if(o&&o.getTime()>=EK["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?r=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(r=i.error_code),r){if(r==="weak_password")throw new kV(Jg(i),n.status,((e=i.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new vp}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new kV(Jg(i),n.status,i.weak_password.reasons);throw new Dfe(Jg(i),n.status||500,r)}const tpe=(n,e,i,r)=>{const o={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),i))};async function xn(n,e,i,r){var o;const l=Object.assign({},r==null?void 0:r.headers);l[t6]||(l[t6]=EK["2024-01-01"].name),r!=null&&r.jwt&&(l.Authorization=`Bearer ${r.jwt}`);const c=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(c.redirect_to=r.redirectTo);const u=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await npe(n,e,i+u,{headers:l,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(h):{data:Object.assign({},h),error:null}}async function npe(n,e,i,r,o,l){const c=tpe(e,r,o,l);let u;try{u=await n(i,Object.assign({},c))}catch(h){throw console.error(h),new n6(Jg(h),0)}if(u.ok||await CV(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(h){await CV(h)}}function wp(n){var e;let i=null;ope(n)&&(i=Object.assign({},n),n.expires_at||(i.expires_at=Lfe(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:i,user:r},error:null}}function TV(n){const e=wp(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((i,r)=>i&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Dp(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function ipe(n){return{data:n,error:null}}function rpe(n){const{action_link:e,email_otp:i,hashed_token:r,redirect_to:o,verification_type:l}=n,c=Qfe(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:i,hashed_token:r,redirect_to:o,verification_type:l},h=Object.assign({},c);return{data:{properties:u,user:h},error:null}}function spe(n){return n}function ope(n){return n.access_token&&n.refresh_token&&n.expires_in}var ape=function(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(i[r[o]]=n[r[o]]);return i};class lpe{constructor({url:e="",headers:i={},fetch:r}){this.url=e,this.headers=i,this.fetch=CK(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,i="global"){try{return await xn(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(pn(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,i={}){try{return await xn(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:Dp})}catch(r){if(pn(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:i}=e,r=ape(e,["options"]),o=Object.assign(Object.assign({},r),i);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await xn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:rpe,redirectTo:i==null?void 0:i.redirectTo})}catch(i){if(pn(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(e){try{return await xn(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Dp})}catch(i){if(pn(i))return{data:{user:null},error:i};throw i}}async listUsers(e){var i,r,o,l,c,u,h;try{const m={nextPage:null,lastPage:0,total:0},g=await xn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(i=e==null?void 0:e.page)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:spe});if(g.error)throw g.error;const y=await g.json(),v=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,_=(h=(u=g.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return _.length>0&&(_.forEach(A=>{const S=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(A.split(";")[1].split("=")[1]);m[`${C}Page`]=S}),m.total=parseInt(v)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(pn(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){try{return await xn(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Dp})}catch(i){if(pn(i))return{data:{user:null},error:i};throw i}}async updateUserById(e,i){try{return await xn(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:i,headers:this.headers,xform:Dp})}catch(r){if(pn(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,i=!1){try{return await xn(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:i},xform:Dp})}catch(r){if(pn(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:i,error:r}=await xn(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:i,error:r}}catch(i){if(pn(i))return{data:null,error:i};throw i}}async _deleteFactor(e){try{return{data:await xn(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(i){if(pn(i))return{data:null,error:i};throw i}}}const cpe={getItem:n=>c2()?globalThis.localStorage.getItem(n):null,setItem:(n,e)=>{c2()&&globalThis.localStorage.setItem(n,e)},removeItem:n=>{c2()&&globalThis.localStorage.removeItem(n)}};function DV(n={}){return{getItem:e=>n[e]||null,setItem:(e,i)=>{n[e]=i},removeItem:e=>{delete n[e]}}}function upe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const bv={debug:!!(globalThis&&c2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class DK extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class dpe extends DK{}async function hpe(n,e,i){bv.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),bv.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){bv.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return await i()}finally{bv.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(e===0)throw bv.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new dpe(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(bv.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}upe();const fpe={url:Efe,storageKey:Sfe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Afe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function NV(n,e,i){return await i()}class F2{constructor(e){var i,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=F2.nextInstanceID,F2.nextInstanceID+=1,this.instanceID>0&&qu()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},fpe),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new lpe({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=CK(o.fetch),this.lock=o.lock||NV,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:qu()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=hpe:this.lock=NV,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:c2()?this.storage=cpe:(this.memoryStorage={},this.storage=DV(this.memoryStorage)):(this.memoryStorage={},this.storage=DV(this.memoryStorage)),qu()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${kK}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const i=zfe(window.location.href);let r="none";if(this._isImplicitGrantCallback(i)?r="implicit":await this._isPKCECallback(i)&&(r="pkce"),qu()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:l}=await this._getSessionFromURL(i,r);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),jfe(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:u}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",u),await this._saveSession(c),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return pn(i)?{error:i}:{error:new SK("Unexpected error during initialization",i)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var i,r,o;try{const l=await xn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:wp}),{data:c,error:u}=l;if(u||!c)return{data:{user:null,session:null},error:u};const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(l){if(pn(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var i,r,o;try{let l;if("email"in e){const{email:g,password:y,options:v}=e;let _=null,A=null;this.flowType==="pkce"&&([_,A]=await gv(this.storage,this.storageKey)),l=await xn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:g,password:y,data:(i=v==null?void 0:v.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:_,code_challenge_method:A},xform:wp})}else if("phone"in e){const{phone:g,password:y,options:v}=e;l=await xn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:y,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(o=v==null?void 0:v.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:wp})}else throw new BT("You must provide either an email or phone number and a password");const{data:c,error:u}=l;if(u||!c)return{data:{user:null,session:null},error:u};const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(l){if(pn(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let i;if("email"in e){const{email:l,password:c,options:u}=e;i=await xn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:TV})}else if("phone"in e){const{phone:l,password:c,options:u}=e;i=await xn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:TV})}else throw new BT("You must provide either an email or phone number and a password");const{data:r,error:o}=i;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new hI}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(i){if(pn(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOAuth(e){var i,r,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const i=await VT(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(i??"").split("/");try{const{data:l,error:c}=await xn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:wp});if(await WT(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new hI}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:c})}catch(l){if(pn(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:i,provider:r,token:o,access_token:l,nonce:c}=e,u=await xn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:wp}),{data:h,error:m}=u;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new hI}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:m})}catch(i){if(pn(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOtp(e){var i,r,o,l,c;try{if("email"in e){const{email:u,options:h}=e;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await gv(this.storage,this.storageKey));const{error:y}=await xn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(i=h==null?void 0:h.data)!==null&&i!==void 0?i:{},create_user:(r=h==null?void 0:h.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},redirectTo:h==null?void 0:h.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in e){const{phone:u,options:h}=e,{data:m,error:g}=await xn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(o=h==null?void 0:h.data)!==null&&o!==void 0?o:{},create_user:(l=h==null?void 0:h.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(c=h==null?void 0:h.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:g}}throw new BT("You must provide either an email or phone number.")}catch(u){if(pn(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var i,r;try{let o,l;"options"in e&&(o=(i=e.options)===null||i===void 0?void 0:i.redirectTo,l=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:c,error:u}=await xn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:wp});if(u)throw u;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,m=c.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(o){if(pn(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var i,r,o;try{let l=null,c=null;return this.flowType==="pkce"&&([l,c]=await gv(this.storage,this.storageKey)),await xn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(i=e.options)===null||i===void 0?void 0:i.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:ipe})}catch(l){if(pn(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:i},error:r}=e;if(r)throw r;if(!i)throw new vp;const{error:o}=await xn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(pn(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const i=`${this.url}/resend`;if("email"in e){const{email:r,type:o,options:l}=e,{error:c}=await xn(this.fetch,"POST",i,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:r,type:o,options:l}=e,{data:c,error:u}=await xn(this.fetch,"POST",i,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new BT("You must provide either an email or phone number and a type")}catch(i){if(pn(i))return{data:{user:null,session:null},error:i};throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(e,i){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await i()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=i();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await e(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const i=await VT(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?e=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<dI:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let c=this.suppressGetSessionWarning;e=new Proxy(e,{get:(h,m,g)=>(!c&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,m,g))})}return{data:{session:e},error:null}}const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await xn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Dp}):await this._useSession(async i=>{var r,o,l;const{data:c,error:u}=i;if(u)throw u;return!(!((r=c.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vp}:await xn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:Dp})})}catch(i){if(pn(i))return Pfe(i)&&(await this._removeSession(),await WT(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:i};throw i}}async updateUser(e,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,i))}async _updateUser(e,i={}){try{return await this._useSession(async r=>{const{data:o,error:l}=r;if(l)throw l;if(!o.session)throw new vp;const c=o.session;let u=null,h=null;this.flowType==="pkce"&&e.email!=null&&([u,h]=await gv(this.storage,this.storageKey));const{data:m,error:g}=await xn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i==null?void 0:i.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:h}),jwt:c.access_token,xform:Dp});if(g)throw g;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(r){if(pn(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new vp;const i=Date.now()/1e3;let r=i,o=!0,l=null;const{payload:c}=pI(e.access_token);if(c.exp&&(r=c.exp,o=r<=i),o){const{session:u,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!u)return{data:{user:null,session:null},error:null};l=u}else{const{data:u,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-i,expires_at:r},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(i){if(pn(i))return{data:{session:null,user:null},error:i};throw i}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async i=>{var r;if(!e){const{data:c,error:u}=i;if(u)throw u;e=(r=c.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new vp;const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(i){if(pn(i))return{data:{user:null,session:null},error:i};throw i}}async _getSessionFromURL(e,i){try{if(!qu())throw new zT("No browser detected.");if(e.error||e.error_description||e.error_code)throw new zT(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new _V("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new zT("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new _V("No code detected.");const{data:N,error:j}=await this._exchangeCodeForSession(e.code);if(j)throw j;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:l,refresh_token:c,expires_in:u,expires_at:h,token_type:m}=e;if(!l||!u||!c||!m)throw new zT("No session defined in URL");const g=Math.round(Date.now()/1e3),y=parseInt(u);let v=g+y;h&&(v=parseInt(h));const _=v-g;_*1e3<=kv&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${y}s`);const A=v-y;g-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,v,g):g-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,v,g);const{data:S,error:C}=await this._getUser(l);if(C)throw C;const T={provider_token:r,provider_refresh_token:o,access_token:l,expires_in:y,expires_at:v,refresh_token:c,token_type:m,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:T,redirectType:e.type},error:null}}catch(r){if(pn(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const i=await VT(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&i)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async i=>{var r;const{data:o,error:l}=i;if(l)return{error:l};const c=(r=o.session)===null||r===void 0?void 0:r.access_token;if(c){const{error:u}=await this.admin.signOut(c,e);if(u&&!(Nfe(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await WT(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const i=Bfe(),r={id:i,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async i=>{var r,o;try{const{data:{session:l},error:c}=i;if(c)throw c;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,i={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await gv(this.storage,this.storageKey,!0));try{return await xn(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(l){if(pn(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:i,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=i.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(i){if(pn(i))return{data:null,error:i};throw i}}async linkIdentity(e){var i;try{const{data:r,error:o}=await this._useSession(async l=>{var c,u,h,m,g;const{data:y,error:v}=l;if(v)throw v;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await xn(this.fetch,"GET",_,{headers:this.headers,jwt:(g=(m=y.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0})});if(o)throw o;return qu()&&!(!((i=e.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(pn(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async i=>{var r,o;const{data:l,error:c}=i;if(c)throw c;return await xn(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(i){if(pn(i))return{data:null,error:i};throw i}}async _refreshAccessToken(e){const i=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{const r=Date.now();return await $fe(async o=>(o>0&&await Wfe(200*Math.pow(2,o-1)),this._debug(i,"refreshing attempt",o),await xn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:wp})),(o,l)=>{const c=200*Math.pow(2,o);return l&&fI(l)&&Date.now()+c-r<kv})}catch(r){if(this._debug(i,"error",r),pn(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(i,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,i){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",i,"url",r),qu()&&!i.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const r=await VT(this.storage,this.storageKey);if(this._debug(i,"session from storage",r),!this._isValidSession(r)){this._debug(i,"session is not valid"),r!==null&&await this._removeSession();return}const o=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<dI;if(this._debug(i,`session has${o?"":" not"} expired with margin of ${dI}s`),o){if(this.autoRefreshToken&&r.refresh_token){const{error:l}=await this._callRefreshToken(r.refresh_token);l&&(console.error(l),fI(l)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(i,"error",r),console.error(r);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var i,r;if(!e)throw new vp;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new a3;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new vp;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const u={session:l.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(l){if(this._debug(o,"error",l),pn(l)){const c={session:null,error:l};return fI(l)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(c),c}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,i,r=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",i,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:i});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,i)}catch(h){l.push(h)}});if(await Promise.all(c),l.length>0){for(let u=0;u<l.length;u+=1)console.error(l[u]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await TK(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await WT(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&qu()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),kv);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async i=>{const{data:{session:r}}=i;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-e)/kv);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${kv}ms, refresh threshold is ${e6} ticks`),o<=e6&&await this._callRefreshToken(r.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof DK)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qu()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const i=`#_onVisibilityChanged(${e})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,i,r){const o=[`provider=${encodeURIComponent(i)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[l,c]=await gv(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(u.toString())}if(r!=null&&r.queryParams){const l=new URLSearchParams(r.queryParams);o.push(l.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async i=>{var r;const{data:o,error:l}=i;return l?{data:null,error:l}:await xn(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(i){if(pn(i))return{data:null,error:i};throw i}}async _enroll(e){try{return await this._useSession(async i=>{var r,o;const{data:l,error:c}=i;if(c)return{data:null,error:c};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:h,error:m}=await xn(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=l==null?void 0:l.session)===null||r===void 0?void 0:r.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&(!((o=h==null?void 0:h.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(i){if(pn(i))return{data:null,error:i};throw i}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;const{data:o,error:l}=i;if(l)return{data:null,error:l};const{data:c,error:u}=await xn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:u})})}catch(i){if(pn(i))return{data:null,error:i};throw i}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;const{data:o,error:l}=i;return l?{data:null,error:l}:await xn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(i){if(pn(i))return{data:null,error:i};throw i}})}async _challengeAndVerify(e){const{data:i,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:i.id,code:e.code})}async _listFactors(){const{data:{user:e},error:i}=await this.getUser();if(i)return{data:null,error:i};const r=(e==null?void 0:e.factors)||[],o=r.filter(c=>c.factor_type==="totp"&&c.status==="verified"),l=r.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:r,totp:o,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var i,r;const{data:{session:o},error:l}=e;if(l)return{data:null,error:l};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=pI(o.access_token);let u=null;c.aal&&(u=c.aal);let h=u;((r=(i=o.user.factors)===null||i===void 0?void 0:i.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(h="aal2");const g=c.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(e,i={keys:[]}){let r=i.keys.find(c=>c.kid===e);if(r||(r=this.jwks.keys.find(c=>c.kid===e),r&&this.jwks_cached_at+Tfe>Date.now()))return r;const{data:o,error:l}=await xn(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;if(!o.keys||o.keys.length===0)throw new l2("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),r=o.keys.find(c=>c.kid===e),!r)throw new l2("No matching signing key found in JWKS");return r}async getClaims(e,i={keys:[]}){try{let r=e;if(!r){const{data:_,error:A}=await this.getSession();if(A||!_.session)return{data:null,error:A};r=_.session.access_token}const{header:o,payload:l,signature:c,raw:{header:u,payload:h}}=pI(r);if(Zfe(l.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:l,header:o,signature:c},error:null}}const m=Jfe(o.alg),g=await this.fetchJwk(o.kid,i),y=await crypto.subtle.importKey("jwk",g,m,!0,["verify"]);if(!await crypto.subtle.verify(m,y,c,Ufe(`${u}.${h}`)))throw new l2("Invalid JWT signature");return{data:{claims:l,header:o,signature:c},error:null}}catch(r){if(pn(r))return{data:null,error:r};throw r}}}F2.nextInstanceID=0;const ppe=F2;class mpe extends ppe{constructor(e){super(e)}}var gpe=function(n,e,i,r){function o(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function u(g){try{m(r.next(g))}catch(y){c(y)}}function h(g){try{m(r.throw(g))}catch(y){c(y)}}function m(g){g.done?l(g.value):o(g.value).then(u,h)}m((r=r.apply(n,e||[])).next())})};class bpe{constructor(e,i,r){var o,l,c;if(this.supabaseUrl=e,this.supabaseKey=i,!e)throw new Error("supabaseUrl is required.");if(!i)throw new Error("supabaseKey is required.");const u=_fe(e),h=new URL(u);this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const m=`sb-${h.hostname.split(".")[0]}-auth-token`,g={db:pfe,realtime:gfe,auth:Object.assign(Object.assign({},mfe),{storageKey:m}),global:ffe},y=kfe(r??{},g);this.storageKey=(o=y.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=y.global.headers)!==null&&l!==void 0?l:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(v,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=y.auth)!==null&&c!==void 0?c:{},this.headers,y.global.fetch),this.fetch=wfe(i,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new Mhe(new URL("rest/v1",h).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),y.accessToken||this._listenForAuthEvents()}get functions(){return new dhe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ufe(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,i={},r={}){return this.rest.rpc(e,i,r)}channel(e,i={config:{}}){return this.realtime.channel(e,i)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,i;return gpe(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(i=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&i!==void 0?i:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:i,detectSessionInUrl:r,storage:o,storageKey:l,flowType:c,lock:u,debug:h},m,g){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mpe({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),m),storageKey:l,autoRefreshToken:e,persistSession:i,detectSessionInUrl:r,storage:o,flowType:c,lock:u,debug:h,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Yhe(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,r)=>{this._handleTokenChanged(i,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,i,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ype=(n,e,i)=>new bpe(n,e,i);console.log("Environment variables check:");console.log("NODE_ENV:","production");console.log("VITE_SUPABASE_URL exists:",!0);console.log("VITE_SUPABASE_ANON_KEY exists:",!0);console.log("VITE_SUPABASE_URL:","https://bbixvnkqroskholbxkgj.supabase.co");console.log("VITE_SUPABASE_ANON_KEY:","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU");const vpe="https://bbixvnkqroskholbxkgj.supabase.co",wpe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU",Re=ype(vpe,wpe),AD=Object.freeze(Object.defineProperty({__proto__:null,supabase:Re},Symbol.toStringTag,{value:"Module"})),z0="/accreda.github.io/assets/accreda-logo-rSXzK5SL.png",NK=H.createContext({});function xpe(n){const e=H.useRef(null);return e.current===null&&(e.current=n()),e.current}const s8=typeof window<"u",_pe=s8?H.useLayoutEffect:H.useEffect,o8=H.createContext(null);function a8(n,e){n.indexOf(e)===-1&&n.push(e)}function l8(n,e){const i=n.indexOf(e);i>-1&&n.splice(i,1)}const lf=(n,e,i)=>i>e?e:i<n?n:i;let c8=()=>{};const cf={},PK=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function jK(n){return typeof n=="object"&&n!==null}const IK=n=>/^0[^.\s]+$/u.test(n);function u8(n){let e;return()=>(e===void 0&&(e=n()),e)}const nc=n=>n,kpe=(n,e)=>i=>e(n(i)),US=(...n)=>n.reduce(kpe),U2=(n,e,i)=>{const r=e-n;return r===0?1:(i-n)/r};class d8{constructor(){this.subscriptions=[]}add(e){return a8(this.subscriptions,e),()=>l8(this.subscriptions,e)}notify(e,i,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,i,r);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(e,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const gd=n=>n*1e3,bd=n=>n/1e3;function RK(n,e){return e?n*(1e3/e):0}const MK=(n,e,i)=>(((1-3*i+3*e)*n+(3*i-6*e))*n+3*e)*n,Epe=1e-7,Spe=12;function Ape(n,e,i,r,o){let l,c,u=0;do c=e+(i-e)/2,l=MK(c,r,o)-n,l>0?i=c:e=c;while(Math.abs(l)>Epe&&++u<Spe);return c}function LS(n,e,i,r){if(n===e&&i===r)return nc;const o=l=>Ape(l,0,1,n,i);return l=>l===0||l===1?l:MK(o(l),e,r)}const OK=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,FK=n=>e=>1-n(1-e),UK=LS(.33,1.53,.69,.99),h8=FK(UK),LK=OK(h8),BK=n=>(n*=2)<1?.5*h8(n):.5*(2-Math.pow(2,-10*(n-1))),f8=n=>1-Math.sin(Math.acos(n)),zK=FK(f8),VK=OK(f8),Cpe=LS(.42,0,1,1),Tpe=LS(0,0,.58,1),WK=LS(.42,0,.58,1),Dpe=n=>Array.isArray(n)&&typeof n[0]!="number",$K=n=>Array.isArray(n)&&typeof n[0]=="number",Npe={linear:nc,easeIn:Cpe,easeInOut:WK,easeOut:Tpe,circIn:f8,circInOut:VK,circOut:zK,backIn:h8,backInOut:LK,backOut:UK,anticipate:BK},Ppe=n=>typeof n=="string",PV=n=>{if($K(n)){c8(n.length===4);const[e,i,r,o]=n;return LS(e,i,r,o)}else if(Ppe(n))return Npe[n];return n},$T=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],jV={value:null};function jpe(n,e){let i=new Set,r=new Set,o=!1,l=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},h=0;function m(y){c.has(y)&&(g.schedule(y),n()),h++,y(u)}const g={schedule:(y,v=!1,_=!1)=>{const S=_&&o?i:r;return v&&c.add(y),S.has(y)||S.add(y),y},cancel:y=>{r.delete(y),c.delete(y)},process:y=>{if(u=y,o){l=!0;return}o=!0,[i,r]=[r,i],i.forEach(m),e&&jV.value&&jV.value.frameloop[e].push(h),h=0,i.clear(),o=!1,l&&(l=!1,g.process(y))}};return g}const Ipe=40;function qK(n,e){let i=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>i=!0,c=$T.reduce((j,O)=>(j[O]=jpe(l,e?O:void 0),j),{}),{setup:u,read:h,resolveKeyframes:m,preUpdate:g,update:y,preRender:v,render:_,postRender:A}=c,S=()=>{const j=cf.useManualTiming?o.timestamp:performance.now();i=!1,cf.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(j-o.timestamp,Ipe),1)),o.timestamp=j,o.isProcessing=!0,u.process(o),h.process(o),m.process(o),g.process(o),y.process(o),v.process(o),_.process(o),A.process(o),o.isProcessing=!1,i&&e&&(r=!1,n(S))},C=()=>{i=!0,r=!0,o.isProcessing||n(S)};return{schedule:$T.reduce((j,O)=>{const F=c[O];return j[O]=(U,V=!1,B=!1)=>(i||C(),F.schedule(U,V,B)),j},{}),cancel:j=>{for(let O=0;O<$T.length;O++)c[$T[O]].cancel(j)},state:o,steps:c}}const{schedule:Wi,cancel:Nm,state:xs,steps:mI}=qK(typeof requestAnimationFrame<"u"?requestAnimationFrame:nc,!0);let CD;function Rpe(){CD=void 0}const ra={now:()=>(CD===void 0&&ra.set(xs.isProcessing||cf.useManualTiming?xs.timestamp:performance.now()),CD),set:n=>{CD=n,queueMicrotask(Rpe)}},HK=n=>e=>typeof e=="string"&&e.startsWith(n),p8=HK("--"),Mpe=HK("var(--"),m8=n=>Mpe(n)?Ope.test(n.split("/*")[0].trim()):!1,Ope=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,X1={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},L2={...X1,transform:n=>lf(0,1,n)},qT={...X1,default:1},u2=n=>Math.round(n*1e5)/1e5,g8=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Fpe(n){return n==null}const Upe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,b8=(n,e)=>i=>!!(typeof i=="string"&&Upe.test(i)&&i.startsWith(n)||e&&!Fpe(i)&&Object.prototype.hasOwnProperty.call(i,e)),GK=(n,e,i)=>r=>{if(typeof r!="string")return r;const[o,l,c,u]=r.match(g8);return{[n]:parseFloat(o),[e]:parseFloat(l),[i]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},Lpe=n=>lf(0,255,n),gI={...X1,transform:n=>Math.round(Lpe(n))},cb={test:b8("rgb","red"),parse:GK("red","green","blue"),transform:({red:n,green:e,blue:i,alpha:r=1})=>"rgba("+gI.transform(n)+", "+gI.transform(e)+", "+gI.transform(i)+", "+u2(L2.transform(r))+")"};function Bpe(n){let e="",i="",r="",o="";return n.length>5?(e=n.substring(1,3),i=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(e=n.substring(1,2),i=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),e+=e,i+=i,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const i6={test:b8("#"),parse:Bpe,transform:cb.transform},BS=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),xp=BS("deg"),yd=BS("%"),rn=BS("px"),zpe=BS("vh"),Vpe=BS("vw"),IV={...yd,parse:n=>yd.parse(n)/100,transform:n=>yd.transform(n*100)},$v={test:b8("hsl","hue"),parse:GK("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:i,alpha:r=1})=>"hsla("+Math.round(n)+", "+yd.transform(u2(e))+", "+yd.transform(u2(i))+", "+u2(L2.transform(r))+")"},Zs={test:n=>cb.test(n)||i6.test(n)||$v.test(n),parse:n=>cb.test(n)?cb.parse(n):$v.test(n)?$v.parse(n):i6.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?cb.transform(n):$v.transform(n)},Wpe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function $pe(n){var e,i;return isNaN(n)&&typeof n=="string"&&(((e=n.match(g8))==null?void 0:e.length)||0)+(((i=n.match(Wpe))==null?void 0:i.length)||0)>0}const XK="number",KK="color",qpe="var",Hpe="var(",RV="${}",Gpe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function B2(n){const e=n.toString(),i=[],r={color:[],number:[],var:[]},o=[];let l=0;const u=e.replace(Gpe,h=>(Zs.test(h)?(r.color.push(l),o.push(KK),i.push(Zs.parse(h))):h.startsWith(Hpe)?(r.var.push(l),o.push(qpe),i.push(h)):(r.number.push(l),o.push(XK),i.push(parseFloat(h))),++l,RV)).split(RV);return{values:i,split:u,indexes:r,types:o}}function YK(n){return B2(n).values}function ZK(n){const{split:e,types:i}=B2(n),r=e.length;return o=>{let l="";for(let c=0;c<r;c++)if(l+=e[c],o[c]!==void 0){const u=i[c];u===XK?l+=u2(o[c]):u===KK?l+=Zs.transform(o[c]):l+=o[c]}return l}}const Xpe=n=>typeof n=="number"?0:n;function Kpe(n){const e=YK(n);return ZK(n)(e.map(Xpe))}const Pm={test:$pe,parse:YK,createTransformer:ZK,getAnimatableNone:Kpe};function bI(n,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?n+(e-n)*6*i:i<1/2?e:i<2/3?n+(e-n)*(2/3-i)*6:n}function Ype({hue:n,saturation:e,lightness:i,alpha:r}){n/=360,e/=100,i/=100;let o=0,l=0,c=0;if(!e)o=l=c=i;else{const u=i<.5?i*(1+e):i+e-i*e,h=2*i-u;o=bI(h,u,n+1/3),l=bI(h,u,n),c=bI(h,u,n-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function L5(n,e){return i=>i>0?e:n}const Bi=(n,e,i)=>n+(e-n)*i,yI=(n,e,i)=>{const r=n*n,o=i*(e*e-r)+r;return o<0?0:Math.sqrt(o)},Zpe=[i6,cb,$v],Jpe=n=>Zpe.find(e=>e.test(n));function MV(n){const e=Jpe(n);if(!e)return!1;let i=e.parse(n);return e===$v&&(i=Ype(i)),i}const OV=(n,e)=>{const i=MV(n),r=MV(e);if(!i||!r)return L5(n,e);const o={...i};return l=>(o.red=yI(i.red,r.red,l),o.green=yI(i.green,r.green,l),o.blue=yI(i.blue,r.blue,l),o.alpha=Bi(i.alpha,r.alpha,l),cb.transform(o))},r6=new Set(["none","hidden"]);function Qpe(n,e){return r6.has(n)?i=>i<=0?n:e:i=>i>=1?e:n}function eme(n,e){return i=>Bi(n,e,i)}function y8(n){return typeof n=="number"?eme:typeof n=="string"?m8(n)?L5:Zs.test(n)?OV:ime:Array.isArray(n)?JK:typeof n=="object"?Zs.test(n)?OV:tme:L5}function JK(n,e){const i=[...n],r=i.length,o=n.map((l,c)=>y8(l)(l,e[c]));return l=>{for(let c=0;c<r;c++)i[c]=o[c](l);return i}}function tme(n,e){const i={...n,...e},r={};for(const o in i)n[o]!==void 0&&e[o]!==void 0&&(r[o]=y8(n[o])(n[o],e[o]));return o=>{for(const l in r)i[l]=r[l](o);return i}}function nme(n,e){const i=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],c=n.indexes[l][r[l]],u=n.values[c]??0;i[o]=u,r[l]++}return i}const ime=(n,e)=>{const i=Pm.createTransformer(e),r=B2(n),o=B2(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?r6.has(n)&&!o.values.length||r6.has(e)&&!r.values.length?Qpe(n,e):US(JK(nme(r,o),o.values),i):L5(n,e)};function QK(n,e,i){return typeof n=="number"&&typeof e=="number"&&typeof i=="number"?Bi(n,e,i):y8(n)(n,e)}const rme=n=>{const e=({timestamp:i})=>n(i);return{start:(i=!0)=>Wi.update(e,i),stop:()=>Nm(e),now:()=>xs.isProcessing?xs.timestamp:ra.now()}},eY=(n,e,i=10)=>{let r="";const o=Math.max(Math.round(e/i),2);for(let l=0;l<o;l++)r+=n(l/(o-1))+", ";return`linear(${r.substring(0,r.length-2)})`},B5=2e4;function v8(n){let e=0;const i=50;let r=n.next(e);for(;!r.done&&e<B5;)e+=i,r=n.next(e);return e>=B5?1/0:e}function sme(n,e=100,i){const r=i({...n,keyframes:[0,e]}),o=Math.min(v8(r),B5);return{type:"keyframes",ease:l=>r.next(o*l).value/e,duration:bd(o)}}const ome=5;function tY(n,e,i){const r=Math.max(e-ome,0);return RK(i-n(r),e-r)}const Yi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},FV=.001;function ame({duration:n=Yi.duration,bounce:e=Yi.bounce,velocity:i=Yi.velocity,mass:r=Yi.mass}){let o,l,c=1-e;c=lf(Yi.minDamping,Yi.maxDamping,c),n=lf(Yi.minDuration,Yi.maxDuration,bd(n)),c<1?(o=m=>{const g=m*c,y=g*n,v=g-i,_=s6(m,c),A=Math.exp(-y);return FV-v/_*A},l=m=>{const y=m*c*n,v=y*i+i,_=Math.pow(c,2)*Math.pow(m,2)*n,A=Math.exp(-y),S=s6(Math.pow(m,2),c);return(-o(m)+FV>0?-1:1)*((v-_)*A)/S}):(o=m=>{const g=Math.exp(-m*n),y=(m-i)*n+1;return-.001+g*y},l=m=>{const g=Math.exp(-m*n),y=(i-m)*(n*n);return g*y});const u=5/n,h=cme(o,l,u);if(n=gd(n),isNaN(h))return{stiffness:Yi.stiffness,damping:Yi.damping,duration:n};{const m=Math.pow(h,2)*r;return{stiffness:m,damping:c*2*Math.sqrt(r*m),duration:n}}}const lme=12;function cme(n,e,i){let r=i;for(let o=1;o<lme;o++)r=r-n(r)/e(r);return r}function s6(n,e){return n*Math.sqrt(1-e*e)}const ume=["duration","bounce"],dme=["stiffness","damping","mass"];function UV(n,e){return e.some(i=>n[i]!==void 0)}function hme(n){let e={velocity:Yi.velocity,stiffness:Yi.stiffness,damping:Yi.damping,mass:Yi.mass,isResolvedFromDuration:!1,...n};if(!UV(n,dme)&&UV(n,ume))if(n.visualDuration){const i=n.visualDuration,r=2*Math.PI/(i*1.2),o=r*r,l=2*lf(.05,1,1-(n.bounce||0))*Math.sqrt(o);e={...e,mass:Yi.mass,stiffness:o,damping:l}}else{const i=ame(n);e={...e,...i,mass:Yi.mass},e.isResolvedFromDuration=!0}return e}function z5(n=Yi.visualDuration,e=Yi.bounce){const i=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:o}=i;const l=i.keyframes[0],c=i.keyframes[i.keyframes.length-1],u={done:!1,value:l},{stiffness:h,damping:m,mass:g,duration:y,velocity:v,isResolvedFromDuration:_}=hme({...i,velocity:-bd(i.velocity||0)}),A=v||0,S=m/(2*Math.sqrt(h*g)),C=c-l,T=bd(Math.sqrt(h/g)),N=Math.abs(C)<5;r||(r=N?Yi.restSpeed.granular:Yi.restSpeed.default),o||(o=N?Yi.restDelta.granular:Yi.restDelta.default);let j;if(S<1){const F=s6(T,S);j=U=>{const V=Math.exp(-S*T*U);return c-V*((A+S*T*C)/F*Math.sin(F*U)+C*Math.cos(F*U))}}else if(S===1)j=F=>c-Math.exp(-T*F)*(C+(A+T*C)*F);else{const F=T*Math.sqrt(S*S-1);j=U=>{const V=Math.exp(-S*T*U),B=Math.min(F*U,300);return c-V*((A+S*T*C)*Math.sinh(B)+F*C*Math.cosh(B))/F}}const O={calculatedDuration:_&&y||null,next:F=>{const U=j(F);if(_)u.done=F>=y;else{let V=F===0?A:0;S<1&&(V=F===0?gd(A):tY(j,F,U));const B=Math.abs(V)<=r,K=Math.abs(c-U)<=o;u.done=B&&K}return u.value=u.done?c:U,u},toString:()=>{const F=Math.min(v8(O),B5),U=eY(V=>O.next(F*V).value,F,30);return F+"ms "+U},toTransition:()=>{}};return O}z5.applyToOptions=n=>{const e=sme(n,100,z5);return n.ease=e.ease,n.duration=gd(e.duration),n.type="keyframes",n};function o6({keyframes:n,velocity:e=0,power:i=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:u,max:h,restDelta:m=.5,restSpeed:g}){const y=n[0],v={done:!1,value:y},_=B=>u!==void 0&&B<u||h!==void 0&&B>h,A=B=>u===void 0?h:h===void 0||Math.abs(u-B)<Math.abs(h-B)?u:h;let S=i*e;const C=y+S,T=c===void 0?C:c(C);T!==C&&(S=T-y);const N=B=>-S*Math.exp(-B/r),j=B=>T+N(B),O=B=>{const K=N(B),oe=j(B);v.done=Math.abs(K)<=m,v.value=v.done?T:oe};let F,U;const V=B=>{_(v.value)&&(F=B,U=z5({keyframes:[v.value,A(v.value)],velocity:tY(j,B,v.value),damping:o,stiffness:l,restDelta:m,restSpeed:g}))};return V(0),{calculatedDuration:null,next:B=>{let K=!1;return!U&&F===void 0&&(K=!0,O(B),V(B)),F!==void 0&&B>=F?U.next(B-F):(!K&&O(B),v)}}}function fme(n,e,i){const r=[],o=i||cf.mix||QK,l=n.length-1;for(let c=0;c<l;c++){let u=o(n[c],n[c+1]);if(e){const h=Array.isArray(e)?e[c]||nc:e;u=US(h,u)}r.push(u)}return r}function pme(n,e,{clamp:i=!0,ease:r,mixer:o}={}){const l=n.length;if(c8(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=fme(e,r,o),h=u.length,m=g=>{if(c&&g<n[0])return e[0];let y=0;if(h>1)for(;y<n.length-2&&!(g<n[y+1]);y++);const v=U2(n[y],n[y+1],g);return u[y](v)};return i?g=>m(lf(n[0],n[l-1],g)):m}function mme(n,e){const i=n[n.length-1];for(let r=1;r<=e;r++){const o=U2(0,e,r);n.push(Bi(i,1,o))}}function gme(n){const e=[0];return mme(e,n.length-1),e}function bme(n,e){return n.map(i=>i*e)}function yme(n,e){return n.map(()=>e||WK).splice(0,n.length-1)}function d2({duration:n=300,keyframes:e,times:i,ease:r="easeInOut"}){const o=Dpe(r)?r.map(PV):PV(r),l={done:!1,value:e[0]},c=bme(i&&i.length===e.length?i:gme(e),n),u=pme(c,e,{ease:Array.isArray(o)?o:yme(e,o)});return{calculatedDuration:n,next:h=>(l.value=u(h),l.done=h>=n,l)}}const vme=n=>n!==null;function w8(n,{repeat:e,repeatType:i="loop"},r,o=1){const l=n.filter(vme),u=o<0||e&&i!=="loop"&&e%2===1?0:l.length-1;return!u||r===void 0?l[u]:r}const wme={decay:o6,inertia:o6,tween:d2,keyframes:d2,spring:z5};function nY(n){typeof n.type=="string"&&(n.type=wme[n.type])}class x8{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,i){return this.finished.then(e,i)}}const xme=n=>n/100;class _8 extends x8{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,o;const{motionValue:i}=this.options;i&&i.updatedAt!==ra.now()&&this.tick(ra.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(r=this.options).onStop)==null||o.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;nY(e);const{type:i=d2,repeat:r=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=e;let{keyframes:u}=e;const h=i||d2;h!==d2&&typeof u[0]!="number"&&(this.mixKeyframes=US(xme,QK(u[0],u[1])),u=[0,100]);const m=h({...e,keyframes:u});l==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...u].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=v8(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=m}updateTime(e){const i=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(e,i=!1){const{generator:r,totalDuration:o,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:g,repeat:y,repeatType:v,repeatDelay:_,type:A,onUpdate:S,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),i?this.currentTime=e:this.updateTime(e);const T=this.currentTime-m*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?T<0:T>o;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let j=this.currentTime,O=r;if(y){const B=Math.min(this.currentTime,o)/u;let K=Math.floor(B),oe=B%1;!oe&&B>=1&&(oe=1),oe===1&&K--,K=Math.min(K,y+1),!!(K%2)&&(v==="reverse"?(oe=1-oe,_&&(oe-=_/u)):v==="mirror"&&(O=c)),j=lf(0,1,oe)*u}const F=N?{done:!1,value:g[0]}:O.next(j);l&&(F.value=l(F.value));let{done:U}=F;!N&&h!==null&&(U=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return V&&A!==o6&&(F.value=w8(g,this.options,C,this.speed)),S&&S(F.value),V&&this.finish(),F}then(e,i){return this.finished.then(e,i)}get duration(){return bd(this.calculatedDuration)}get time(){return bd(this.currentTime)}set time(e){var i;e=gd(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(i=this.driver)==null||i.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ra.now());const i=this.playbackSpeed!==e;this.playbackSpeed=e,i&&(this.time=bd(this.currentTime))}play(){var o,l;if(this.isStopped)return;const{driver:e=rme,startTime:i}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(l=(o=this.options).onPlay)==null||l.call(o);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=i??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ra.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,i;this.notifyFinished(),this.teardown(),this.state="finished",(i=(e=this.options).onComplete)==null||i.call(e)}cancel(){var e,i;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(i=(e=this.options).onCancel)==null||i.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var i;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(i=this.driver)==null||i.stop(),e.observe(this)}}function _me(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const ub=n=>n*180/Math.PI,a6=n=>{const e=ub(Math.atan2(n[1],n[0]));return l6(e)},kme={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:a6,rotateZ:a6,skewX:n=>ub(Math.atan(n[1])),skewY:n=>ub(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},l6=n=>(n=n%360,n<0&&(n+=360),n),LV=a6,BV=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),zV=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),Eme={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:BV,scaleY:zV,scale:n=>(BV(n)+zV(n))/2,rotateX:n=>l6(ub(Math.atan2(n[6],n[5]))),rotateY:n=>l6(ub(Math.atan2(-n[2],n[0]))),rotateZ:LV,rotate:LV,skewX:n=>ub(Math.atan(n[4])),skewY:n=>ub(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function c6(n){return n.includes("scale")?1:0}function u6(n,e){if(!n||n==="none")return c6(e);const i=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(i)r=Eme,o=i;else{const u=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=kme,o=u}if(!o)return c6(e);const l=r[e],c=o[1].split(",").map(Ame);return typeof l=="function"?l(c):c[l]}const Sme=(n,e)=>{const{transform:i="none"}=getComputedStyle(n);return u6(i,e)};function Ame(n){return parseFloat(n.trim())}const K1=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Y1=new Set(K1),VV=n=>n===X1||n===rn,Cme=new Set(["x","y","z"]),Tme=K1.filter(n=>!Cme.has(n));function Dme(n){const e=[];return Tme.forEach(i=>{const r=n.getValue(i);r!==void 0&&(e.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),e}const v0={width:({x:n},{paddingLeft:e="0",paddingRight:i="0"})=>n.max-n.min-parseFloat(e)-parseFloat(i),height:({y:n},{paddingTop:e="0",paddingBottom:i="0"})=>n.max-n.min-parseFloat(e)-parseFloat(i),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>u6(e,"x"),y:(n,{transform:e})=>u6(e,"y")};v0.translateX=v0.x;v0.translateY=v0.y;const w0=new Set;let d6=!1,h6=!1,f6=!1;function iY(){if(h6){const n=Array.from(w0).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),i=new Map;e.forEach(r=>{const o=Dme(r);o.length&&(i.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=i.get(r);o&&o.forEach(([l,c])=>{var u;(u=r.getValue(l))==null||u.set(c)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}h6=!1,d6=!1,w0.forEach(n=>n.complete(f6)),w0.clear()}function rY(){w0.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(h6=!0)})}function Nme(){f6=!0,rY(),iY(),f6=!1}class k8{constructor(e,i,r,o,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=i,this.name=r,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(w0.add(this),d6||(d6=!0,Wi.read(rY),Wi.resolveKeyframes(iY))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:i,element:r,motionValue:o}=this;if(e[0]===null){const l=o==null?void 0:o.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&i){const u=r.readValue(i,c);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=c),o&&l===void 0&&o.set(e[0])}_me(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),w0.delete(this)}cancel(){this.state==="scheduled"&&(w0.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Pme=n=>n.startsWith("--");function jme(n,e,i){Pme(e)?n.style.setProperty(e,i):n.style[e]=i}const Ime=u8(()=>window.ScrollTimeline!==void 0),Rme={};function Mme(n,e){const i=u8(n);return()=>Rme[e]??i()}const sY=Mme(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ik=([n,e,i,r])=>`cubic-bezier(${n}, ${e}, ${i}, ${r})`,WV={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ik([0,.65,.55,1]),circOut:Ik([.55,0,1,.45]),backIn:Ik([.31,.01,.66,-.59]),backOut:Ik([.33,1.53,.69,.99])};function oY(n,e){if(n)return typeof n=="function"?sY()?eY(n,e):"ease-out":$K(n)?Ik(n):Array.isArray(n)?n.map(i=>oY(i,e)||WV.easeOut):WV[n]}function Ome(n,e,i,{delay:r=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:u="easeOut",times:h}={},m=void 0){const g={[e]:i};h&&(g.offset=h);const y=oY(u,o);Array.isArray(y)&&(g.easing=y);const v={delay:r,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(v.pseudoElement=m),n.animate(g,v)}function aY(n){return typeof n=="function"&&"applyToOptions"in n}function Fme({type:n,...e}){return aY(n)&&sY()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Ume extends x8{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:i,name:r,keyframes:o,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:u,onComplete:h}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,c8(typeof e.type!="string");const m=Fme(e);this.animation=Ome(i,r,o,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=w8(o,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(g):jme(i,r,g),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,i;(i=(e=this.animation).finish)==null||i.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,i;this.isPseudoElement||(i=(e=this.animation).commitStyles)==null||i.call(e)}get duration(){var i,r;const e=((r=(i=this.animation.effect)==null?void 0:i.getComputedTiming)==null?void 0:r.call(i).duration)||0;return bd(Number(e))}get time(){return bd(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=gd(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:i}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Ime()?(this.animation.timeline=e,nc):i(this)}}const lY={anticipate:BK,backInOut:LK,circInOut:VK};function Lme(n){return n in lY}function Bme(n){typeof n.ease=="string"&&Lme(n.ease)&&(n.ease=lY[n.ease])}const $V=10;class zme extends Ume{constructor(e){Bme(e),nY(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:i,onUpdate:r,onComplete:o,element:l,...c}=this.options;if(!i)return;if(e!==void 0){i.set(e);return}const u=new _8({...c,autoplay:!1}),h=gd(this.finishedTime??this.time);i.setWithVelocity(u.sample(h-$V).value,u.sample(h).value,$V),u.stop()}}const qV=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Pm.test(n)||n==="0")&&!n.startsWith("url("));function Vme(n){const e=n[0];if(n.length===1)return!0;for(let i=0;i<n.length;i++)if(n[i]!==e)return!0}function Wme(n,e,i,r){const o=n[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=n[n.length-1],c=qV(o,e),u=qV(l,e);return!c||!u?!1:Vme(n)||(i==="spring"||aY(i))&&r}function cY(n){return jK(n)&&"offsetHeight"in n}const $me=new Set(["opacity","clipPath","filter","transform"]),qme=u8(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Hme(n){var m;const{motionValue:e,name:i,repeatDelay:r,repeatType:o,damping:l,type:c}=n;if(!cY((m=e==null?void 0:e.owner)==null?void 0:m.current))return!1;const{onUpdate:u,transformTemplate:h}=e.owner.getProps();return qme()&&i&&$me.has(i)&&(i!=="transform"||!h)&&!u&&!r&&o!=="mirror"&&l!==0&&c!=="inertia"}const Gme=40;class Xme extends x8{constructor({autoplay:e=!0,delay:i=0,type:r="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",keyframes:u,name:h,motionValue:m,element:g,...y}){var A;super(),this.stop=()=>{var S,C;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(C=this.keyframeResolver)==null||C.cancel()},this.createdAt=ra.now();const v={autoplay:e,delay:i,type:r,repeat:o,repeatDelay:l,repeatType:c,name:h,motionValue:m,element:g,...y},_=(g==null?void 0:g.KeyframeResolver)||k8;this.keyframeResolver=new _(u,(S,C,T)=>this.onKeyframesResolved(S,C,v,!T),h,m,g),(A=this.keyframeResolver)==null||A.scheduleResolve()}onKeyframesResolved(e,i,r,o){this.keyframeResolver=void 0;const{name:l,type:c,velocity:u,delay:h,isHandoff:m,onUpdate:g}=r;this.resolvedAt=ra.now(),Wme(e,l,c,u)||((cf.instantAnimations||!h)&&(g==null||g(w8(e,r,i))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const v={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>Gme?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...r,keyframes:e},_=!m&&Hme(v)?new zme({...v,element:v.motionValue.owner.current}):new _8(v);_.finished.then(()=>this.notifyFinished()).catch(nc),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,i){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Nme()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Kme=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Yme(n){const e=Kme.exec(n);if(!e)return[,];const[,i,r,o]=e;return[`--${i??r}`,o]}function uY(n,e,i=1){const[r,o]=Yme(n);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const c=l.trim();return PK(c)?parseFloat(c):c}return m8(o)?uY(o,e,i+1):o}function E8(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const dY=new Set(["width","height","top","left","right","bottom",...K1]),Zme={test:n=>n==="auto",parse:n=>n},hY=n=>e=>e.test(n),fY=[X1,rn,yd,xp,Vpe,zpe,Zme],HV=n=>fY.find(hY(n));function Jme(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||IK(n):!0}const Qme=new Set(["brightness","contrast","saturate","opacity"]);function ege(n){const[e,i]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=i.match(g8)||[];if(!r)return n;const o=i.replace(r,"");let l=Qme.has(e)?1:0;return r!==i&&(l*=100),e+"("+l+o+")"}const tge=/\b([a-z-]*)\(.*?\)/gu,p6={...Pm,getAnimatableNone:n=>{const e=n.match(tge);return e?e.map(ege).join(" "):n}},GV={...X1,transform:Math.round},nge={rotate:xp,rotateX:xp,rotateY:xp,rotateZ:xp,scale:qT,scaleX:qT,scaleY:qT,scaleZ:qT,skew:xp,skewX:xp,skewY:xp,distance:rn,translateX:rn,translateY:rn,translateZ:rn,x:rn,y:rn,z:rn,perspective:rn,transformPerspective:rn,opacity:L2,originX:IV,originY:IV,originZ:rn},S8={borderWidth:rn,borderTopWidth:rn,borderRightWidth:rn,borderBottomWidth:rn,borderLeftWidth:rn,borderRadius:rn,radius:rn,borderTopLeftRadius:rn,borderTopRightRadius:rn,borderBottomRightRadius:rn,borderBottomLeftRadius:rn,width:rn,maxWidth:rn,height:rn,maxHeight:rn,top:rn,right:rn,bottom:rn,left:rn,padding:rn,paddingTop:rn,paddingRight:rn,paddingBottom:rn,paddingLeft:rn,margin:rn,marginTop:rn,marginRight:rn,marginBottom:rn,marginLeft:rn,backgroundPositionX:rn,backgroundPositionY:rn,...nge,zIndex:GV,fillOpacity:L2,strokeOpacity:L2,numOctaves:GV},ige={...S8,color:Zs,backgroundColor:Zs,outlineColor:Zs,fill:Zs,stroke:Zs,borderColor:Zs,borderTopColor:Zs,borderRightColor:Zs,borderBottomColor:Zs,borderLeftColor:Zs,filter:p6,WebkitFilter:p6},pY=n=>ige[n];function mY(n,e){let i=pY(n);return i!==p6&&(i=Pm),i.getAnimatableNone?i.getAnimatableNone(e):void 0}const rge=new Set(["auto","none","0"]);function sge(n,e,i){let r=0,o;for(;r<n.length&&!o;){const l=n[r];typeof l=="string"&&!rge.has(l)&&B2(l).values.length&&(o=n[r]),r++}if(o&&i)for(const l of e)n[l]=mY(i,o)}class oge extends k8{constructor(e,i,r,o,l){super(e,i,r,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let m=e[h];if(typeof m=="string"&&(m=m.trim(),m8(m))){const g=uY(m,i.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!dY.has(r)||e.length!==2)return;const[o,l]=e,c=HV(o),u=HV(l);if(c!==u)if(VV(c)&&VV(u))for(let h=0;h<e.length;h++){const m=e[h];typeof m=="string"&&(e[h]=parseFloat(m))}else v0[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:i}=this,r=[];for(let o=0;o<e.length;o++)(e[o]===null||Jme(e[o]))&&r.push(o);r.length&&sge(e,r,i)}measureInitialState(){const{element:e,unresolvedKeyframes:i,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=v0[r](e.measureViewportBox(),window.getComputedStyle(e.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){var u;const{element:e,name:i,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const o=e.getValue(i);o&&o.jump(this.measuredOrigin,!1);const l=r.length-1,c=r[l];r[l]=v0[i](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([h,m])=>{e.getValue(h).set(m)}),this.resolveNoneKeyframes()}}function age(n,e,i){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=(i==null?void 0:i[n])??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const gY=(n,e)=>e&&typeof n=="number"?e.transform(n):n,XV=30,lge=n=>!isNaN(parseFloat(n));class cge{constructor(e,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{var c,u;const l=ra.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty();o&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=i.owner}setCurrent(e){this.current=e,this.updatedAt=ra.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=lge(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,i){this.events[e]||(this.events[e]=new d8);const r=this.events[e].add(i);return e==="change"?()=>{r(),Wi.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,i){this.passiveEffect=e,this.stopPassiveEffect=i}set(e,i=!0){!i||!this.passiveEffect?this.updateAndNotify(e,i):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,i=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ra.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>XV)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,XV);return RK(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(e){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=e(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,i;(e=this.dependents)==null||e.clear(),(i=this.events.destroy)==null||i.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function N1(n,e){return new cge(n,e)}const{schedule:A8}=qK(queueMicrotask,!1),Nc={x:!1,y:!1};function bY(){return Nc.x||Nc.y}function uge(n){return n==="x"||n==="y"?Nc[n]?null:(Nc[n]=!0,()=>{Nc[n]=!1}):Nc.x||Nc.y?null:(Nc.x=Nc.y=!0,()=>{Nc.x=Nc.y=!1})}function yY(n,e){const i=age(n),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[i,o,()=>r.abort()]}function KV(n){return!(n.pointerType==="touch"||bY())}function dge(n,e,i={}){const[r,o,l]=yY(n,i),c=u=>{if(!KV(u))return;const{target:h}=u,m=e(h,u);if(typeof m!="function"||!h)return;const g=y=>{KV(y)&&(m(y),h.removeEventListener("pointerleave",g))};h.addEventListener("pointerleave",g,o)};return r.forEach(u=>{u.addEventListener("pointerenter",c,o)}),l}const vY=(n,e)=>e?n===e?!0:vY(n,e.parentElement):!1,C8=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,hge=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function fge(n){return hge.has(n.tagName)||n.tabIndex!==-1}const TD=new WeakSet;function YV(n){return e=>{e.key==="Enter"&&n(e)}}function vI(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const pge=(n,e)=>{const i=n.currentTarget;if(!i)return;const r=YV(()=>{if(TD.has(i))return;vI(i,"down");const o=YV(()=>{vI(i,"up")}),l=()=>vI(i,"cancel");i.addEventListener("keyup",o,e),i.addEventListener("blur",l,e)});i.addEventListener("keydown",r,e),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),e)};function ZV(n){return C8(n)&&!bY()}function mge(n,e,i={}){const[r,o,l]=yY(n,i),c=u=>{const h=u.currentTarget;if(!ZV(u))return;TD.add(h);const m=e(h,u),g=(_,A)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",v),TD.has(h)&&TD.delete(h),ZV(_)&&typeof m=="function"&&m(_,{success:A})},y=_=>{g(_,h===window||h===document||i.useGlobalTarget||vY(h,_.target))},v=_=>{g(_,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",v,o)};return r.forEach(u=>{(i.useGlobalTarget?window:u).addEventListener("pointerdown",c,o),cY(u)&&(u.addEventListener("focus",m=>pge(m,o)),!fge(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),l}function wY(n){return jK(n)&&"ownerSVGElement"in n}function gge(n){return wY(n)&&n.tagName==="svg"}const Qs=n=>!!(n&&n.getVelocity),bge=[...fY,Zs,Pm],yge=n=>bge.find(hY(n)),xY=H.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function vge(n=!0){const e=H.useContext(o8);if(e===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=e,l=H.useId();H.useEffect(()=>{if(n)return o(l)},[n]);const c=H.useCallback(()=>n&&r&&r(l),[l,r,n]);return!i&&r?[!1,c]:[!0]}const _Y=H.createContext({strict:!1}),JV={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},P1={};for(const n in JV)P1[n]={isEnabled:e=>JV[n].some(i=>!!e[i])};function wge(n){for(const e in n)P1[e]={...P1[e],...n[e]}}const xge=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function V5(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||xge.has(n)}let kY=n=>!V5(n);function _ge(n){n&&(kY=e=>e.startsWith("on")?!V5(e):n(e))}try{_ge(require("@emotion/is-prop-valid").default)}catch{}function kge(n,e,i){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(kY(o)||i===!0&&V5(o)||!e&&!V5(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}function Ege(n){if(typeof Proxy>"u")return n;const e=new Map,i=(...r)=>n(...r);return new Proxy(i,{get:(r,o)=>o==="create"?n:(e.has(o)||e.set(o,n(o)),e.get(o))})}const l3=H.createContext({});function c3(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function z2(n){return typeof n=="string"||Array.isArray(n)}const T8=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],D8=["initial",...T8];function u3(n){return c3(n.animate)||D8.some(e=>z2(n[e]))}function EY(n){return!!(u3(n)||n.variants)}function Sge(n,e){if(u3(n)){const{initial:i,animate:r}=n;return{initial:i===!1||z2(i)?i:void 0,animate:z2(r)?r:void 0}}return n.inherit!==!1?e:{}}function Age(n){const{initial:e,animate:i}=Sge(n,H.useContext(l3));return H.useMemo(()=>({initial:e,animate:i}),[QV(e),QV(i)])}function QV(n){return Array.isArray(n)?n.join(" "):n}const Cge=Symbol.for("motionComponentSymbol");function qv(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Tge(n,e,i){return H.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),i&&(typeof i=="function"?i(r):qv(i)&&(i.current=r))},[e])}const N8=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Dge="framerAppearId",SY="data-"+N8(Dge),AY=H.createContext({});function Nge(n,e,i,r,o){var S,C;const{visualElement:l}=H.useContext(l3),c=H.useContext(_Y),u=H.useContext(o8),h=H.useContext(xY).reducedMotion,m=H.useRef(null);r=r||c.renderer,!m.current&&r&&(m.current=r(n,{visualState:e,parent:l,props:i,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const g=m.current,y=H.useContext(AY);g&&!g.projection&&o&&(g.type==="html"||g.type==="svg")&&Pge(m.current,i,o,y);const v=H.useRef(!1);H.useInsertionEffect(()=>{g&&v.current&&g.update(i,u)});const _=i[SY],A=H.useRef(!!_&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,_))&&((C=window.MotionHasOptimisedAnimation)==null?void 0:C.call(window,_)));return _pe(()=>{g&&(v.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),A8.render(g.render),A.current&&g.animationState&&g.animationState.animateChanges())}),H.useEffect(()=>{g&&(!A.current&&g.animationState&&g.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var T;(T=window.MotionHandoffMarkAsComplete)==null||T.call(window,_)}),A.current=!1))}),g}function Pge(n,e,i,r){const{layoutId:o,layout:l,drag:c,dragConstraints:u,layoutScroll:h,layoutRoot:m,layoutCrossfade:g}=e;n.projection=new i(n.latestValues,e["data-framer-portal-id"]?void 0:CY(n.parent)),n.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||u&&qv(u),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:h,layoutRoot:m})}function CY(n){if(n)return n.options.allowProjection!==!1?n.projection:CY(n.parent)}function jge({preloadedFeatures:n,createVisualElement:e,useRender:i,useVisualState:r,Component:o}){n&&wge(n);function l(u,h){let m;const g={...H.useContext(xY),...u,layoutId:Ige(u)},{isStatic:y}=g,v=Age(u),_=r(u,y);if(!y&&s8){Rge();const A=Mge(g);m=A.MeasureLayout,v.visualElement=Nge(o,_,g,e,A.ProjectionNode)}return b.jsxs(l3.Provider,{value:v,children:[m&&v.visualElement?b.jsx(m,{visualElement:v.visualElement,...g}):null,i(o,u,Tge(_,v.visualElement,h),_,y,v.visualElement)]})}l.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const c=H.forwardRef(l);return c[Cge]=o,c}function Ige({layoutId:n}){const e=H.useContext(NK).id;return e&&n!==void 0?e+"-"+n:n}function Rge(n,e){H.useContext(_Y).strict}function Mge(n){const{drag:e,layout:i}=P1;if(!e&&!i)return{};const r={...e,...i};return{MeasureLayout:e!=null&&e.isEnabled(n)||i!=null&&i.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const V2={};function Oge(n){for(const e in n)V2[e]=n[e],p8(e)&&(V2[e].isCSSVariable=!0)}function TY(n,{layout:e,layoutId:i}){return Y1.has(n)||n.startsWith("origin")||(e||i!==void 0)&&(!!V2[n]||n==="opacity")}const Fge={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Uge=K1.length;function Lge(n,e,i){let r="",o=!0;for(let l=0;l<Uge;l++){const c=K1[l],u=n[c];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(c.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||i){const m=gY(u,S8[c]);if(!h){o=!1;const g=Fge[c]||c;r+=`${g}(${m}) `}i&&(e[c]=m)}}return r=r.trim(),i?r=i(e,o?"":r):o&&(r="none"),r}function P8(n,e,i){const{style:r,vars:o,transformOrigin:l}=n;let c=!1,u=!1;for(const h in e){const m=e[h];if(Y1.has(h)){c=!0;continue}else if(p8(h)){o[h]=m;continue}else{const g=gY(m,S8[h]);h.startsWith("origin")?(u=!0,l[h]=g):r[h]=g}}if(e.transform||(c||i?r.transform=Lge(e,n.transform,i):r.transform&&(r.transform="none")),u){const{originX:h="50%",originY:m="50%",originZ:g=0}=l;r.transformOrigin=`${h} ${m} ${g}`}}const j8=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function DY(n,e,i){for(const r in e)!Qs(e[r])&&!TY(r,i)&&(n[r]=e[r])}function Bge({transformTemplate:n},e){return H.useMemo(()=>{const i=j8();return P8(i,e,n),Object.assign({},i.vars,i.style)},[e])}function zge(n,e){const i=n.style||{},r={};return DY(r,i,n),Object.assign(r,Bge(n,e)),r}function Vge(n,e){const i={},r=zge(n,e);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const Wge={offset:"stroke-dashoffset",array:"stroke-dasharray"},$ge={offset:"strokeDashoffset",array:"strokeDasharray"};function qge(n,e,i=1,r=0,o=!0){n.pathLength=1;const l=o?Wge:$ge;n[l.offset]=rn.transform(-r);const c=rn.transform(e),u=rn.transform(i);n[l.array]=`${c} ${u}`}function NY(n,{attrX:e,attrY:i,attrScale:r,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},h,m,g){if(P8(n,u,m),h){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:y,style:v}=n;y.transform&&(v.transform=y.transform,delete y.transform),(v.transform||y.transformOrigin)&&(v.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),v.transform&&(v.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),i!==void 0&&(y.y=i),r!==void 0&&(y.scale=r),o!==void 0&&qge(y,o,l,c,!1)}const PY=()=>({...j8(),attrs:{}}),jY=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Hge(n,e,i,r){const o=H.useMemo(()=>{const l=PY();return NY(l,e,jY(r),n.transformTemplate,n.style),{...l.attrs,style:{...l.style}}},[e]);if(n.style){const l={};DY(l,n.style,n),o.style={...l,...o.style}}return o}const Gge=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function I8(n){return typeof n!="string"||n.includes("-")?!1:!!(Gge.indexOf(n)>-1||/[A-Z]/u.test(n))}function Xge(n=!1){return(i,r,o,{latestValues:l},c)=>{const h=(I8(i)?Hge:Vge)(r,l,c,i),m=kge(r,typeof i=="string",n),g=i!==H.Fragment?{...m,...h,ref:o}:{},{children:y}=r,v=H.useMemo(()=>Qs(y)?y.get():y,[y]);return H.createElement(i,{...g,children:v})}}function eW(n){const e=[{},{}];return n==null||n.values.forEach((i,r)=>{e[0][r]=i.get(),e[1][r]=i.getVelocity()}),e}function R8(n,e,i,r){if(typeof e=="function"){const[o,l]=eW(r);e=e(i!==void 0?i:n.custom,o,l)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[o,l]=eW(r);e=e(i!==void 0?i:n.custom,o,l)}return e}function DD(n){return Qs(n)?n.get():n}function Kge({scrapeMotionValuesFromProps:n,createRenderState:e},i,r,o){return{latestValues:Yge(i,r,o,n),renderState:e()}}const IY=n=>(e,i)=>{const r=H.useContext(l3),o=H.useContext(o8),l=()=>Kge(n,e,r,o);return i?l():xpe(l)};function Yge(n,e,i,r){const o={},l=r(n,{});for(const v in l)o[v]=DD(l[v]);let{initial:c,animate:u}=n;const h=u3(n),m=EY(n);e&&m&&!h&&n.inherit!==!1&&(c===void 0&&(c=e.initial),u===void 0&&(u=e.animate));let g=i?i.initial===!1:!1;g=g||c===!1;const y=g?u:c;if(y&&typeof y!="boolean"&&!c3(y)){const v=Array.isArray(y)?y:[y];for(let _=0;_<v.length;_++){const A=R8(n,v[_]);if(A){const{transitionEnd:S,transition:C,...T}=A;for(const N in T){let j=T[N];if(Array.isArray(j)){const O=g?j.length-1:0;j=j[O]}j!==null&&(o[N]=j)}for(const N in S)o[N]=S[N]}}}return o}function M8(n,e,i){var l;const{style:r}=n,o={};for(const c in r)(Qs(r[c])||e.style&&Qs(e.style[c])||TY(c,n)||((l=i==null?void 0:i.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(o[c]=r[c]);return o}const Zge={useVisualState:IY({scrapeMotionValuesFromProps:M8,createRenderState:j8})};function RY(n,e,i){const r=M8(n,e,i);for(const o in n)if(Qs(n[o])||Qs(e[o])){const l=K1.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[l]=n[o]}return r}const Jge={useVisualState:IY({scrapeMotionValuesFromProps:RY,createRenderState:PY})};function Qge(n,e){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...I8(r)?Jge:Zge,preloadedFeatures:n,useRender:Xge(o),createVisualElement:e,Component:r};return jge(c)}}function W2(n,e,i){const r=n.getProps();return R8(r,e,i!==void 0?i:r.custom,n)}const m6=n=>Array.isArray(n);function ebe(n,e,i){n.hasValue(e)?n.getValue(e).set(i):n.addValue(e,N1(i))}function tbe(n){return m6(n)?n[n.length-1]||0:n}function nbe(n,e){const i=W2(n,e);let{transitionEnd:r={},transition:o={},...l}=i||{};l={...l,...r};for(const c in l){const u=tbe(l[c]);ebe(n,c,u)}}function ibe(n){return!!(Qs(n)&&n.add)}function g6(n,e){const i=n.getValue("willChange");if(ibe(i))return i.add(e);if(!i&&cf.WillChange){const r=new cf.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function MY(n){return n.props[SY]}const rbe=n=>n!==null;function sbe(n,{repeat:e,repeatType:i="loop"},r){const o=n.filter(rbe),l=e&&i!=="loop"&&e%2===1?0:o.length-1;return o[l]}const obe={type:"spring",stiffness:500,damping:25,restSpeed:10},abe=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),lbe={type:"keyframes",duration:.8},cbe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ube=(n,{keyframes:e})=>e.length>2?lbe:Y1.has(n)?n.startsWith("scale")?abe(e[1]):obe:cbe;function dbe({when:n,delay:e,delayChildren:i,staggerChildren:r,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:u,from:h,elapsed:m,...g}){return!!Object.keys(g).length}const O8=(n,e,i,r={},o,l)=>c=>{const u=E8(r,n)||{},h=u.delay||r.delay||0;let{elapsed:m=0}=r;m=m-gd(h);const g={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-m,onUpdate:v=>{e.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:n,motionValue:e,element:l?void 0:o};dbe(u)||Object.assign(g,ube(n,g)),g.duration&&(g.duration=gd(g.duration)),g.repeatDelay&&(g.repeatDelay=gd(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(y=!0)),(cf.instantAnimations||cf.skipAnimations)&&(y=!0,g.duration=0,g.delay=0),g.allowFlatten=!u.type&&!u.ease,y&&!l&&e.get()!==void 0){const v=sbe(g.keyframes,u);if(v!==void 0){Wi.update(()=>{g.onUpdate(v),g.onComplete()});return}}return u.isSync?new _8(g):new Xme(g)};function hbe({protectedKeys:n,needsAnimating:e},i){const r=n.hasOwnProperty(i)&&e[i]!==!0;return e[i]=!1,r}function OY(n,e,{delay:i=0,transitionOverride:r,type:o}={}){let{transition:l=n.getDefaultTransition(),transitionEnd:c,...u}=e;r&&(l=r);const h=[],m=o&&n.animationState&&n.animationState.getState()[o];for(const g in u){const y=n.getValue(g,n.latestValues[g]??null),v=u[g];if(v===void 0||m&&hbe(m,g))continue;const _={delay:i,...E8(l||{},g)},A=y.get();if(A!==void 0&&!y.isAnimating&&!Array.isArray(v)&&v===A&&!_.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const T=MY(n);if(T){const N=window.MotionHandoffAnimation(T,g,Wi);N!==null&&(_.startTime=N,S=!0)}}g6(n,g),y.start(O8(g,y,v,n.shouldReduceMotion&&dY.has(g)?{type:!1}:_,n,S));const C=y.animation;C&&h.push(C)}return c&&Promise.all(h).then(()=>{Wi.update(()=>{c&&nbe(n,c)})}),h}function b6(n,e,i={}){var h;const r=W2(n,e,i.type==="exit"?(h=n.presenceContext)==null?void 0:h.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(o=i.transitionOverride);const l=r?()=>Promise.all(OY(n,r,i)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:v}=o;return fbe(n,e,g+m,y,v,i)}:()=>Promise.resolve(),{when:u}=o;if(u){const[m,g]=u==="beforeChildren"?[l,c]:[c,l];return m().then(()=>g())}else return Promise.all([l(),c(i.delay)])}function fbe(n,e,i=0,r=0,o=1,l){const c=[],u=(n.variantChildren.size-1)*r,h=o===1?(m=0)=>m*r:(m=0)=>u-m*r;return Array.from(n.variantChildren).sort(pbe).forEach((m,g)=>{m.notify("AnimationStart",e),c.push(b6(m,e,{...l,delay:i+h(g)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(c)}function pbe(n,e){return n.sortNodePosition(e)}function mbe(n,e,i={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(l=>b6(n,l,i));r=Promise.all(o)}else if(typeof e=="string")r=b6(n,e,i);else{const o=typeof e=="function"?W2(n,e,i.custom):e;r=Promise.all(OY(n,o,i))}return r.then(()=>{n.notify("AnimationComplete",e)})}function FY(n,e){if(!Array.isArray(e))return!1;const i=e.length;if(i!==n.length)return!1;for(let r=0;r<i;r++)if(e[r]!==n[r])return!1;return!0}const gbe=D8.length;function UY(n){if(!n)return;if(!n.isControllingVariants){const i=n.parent?UY(n.parent)||{}:{};return n.props.initial!==void 0&&(i.initial=n.props.initial),i}const e={};for(let i=0;i<gbe;i++){const r=D8[i],o=n.props[r];(z2(o)||o===!1)&&(e[r]=o)}return e}const bbe=[...T8].reverse(),ybe=T8.length;function vbe(n){return e=>Promise.all(e.map(({animation:i,options:r})=>mbe(n,i,r)))}function wbe(n){let e=vbe(n),i=tW(),r=!0;const o=h=>(m,g)=>{var v;const y=W2(n,g,h==="exit"?(v=n.presenceContext)==null?void 0:v.custom:void 0);if(y){const{transition:_,transitionEnd:A,...S}=y;m={...m,...S,...A}}return m};function l(h){e=h(n)}function c(h){const{props:m}=n,g=UY(n.parent)||{},y=[],v=new Set;let _={},A=1/0;for(let C=0;C<ybe;C++){const T=bbe[C],N=i[T],j=m[T]!==void 0?m[T]:g[T],O=z2(j),F=T===h?N.isActive:null;F===!1&&(A=C);let U=j===g[T]&&j!==m[T]&&O;if(U&&r&&n.manuallyAnimateOnMount&&(U=!1),N.protectedKeys={..._},!N.isActive&&F===null||!j&&!N.prevProp||c3(j)||typeof j=="boolean")continue;const V=xbe(N.prevProp,j);let B=V||T===h&&N.isActive&&!U&&O||C>A&&O,K=!1;const oe=Array.isArray(j)?j:[j];let me=oe.reduce(o(T),{});F===!1&&(me={});const{prevResolvedValues:Q={}}=N,ge={...Q,...me},$=ce=>{B=!0,v.has(ce)&&(K=!0,v.delete(ce)),N.needsAnimating[ce]=!0;const X=n.getValue(ce);X&&(X.liveStyle=!1)};for(const ce in ge){const X=me[ce],Y=Q[ce];if(_.hasOwnProperty(ce))continue;let ne=!1;m6(X)&&m6(Y)?ne=!FY(X,Y):ne=X!==Y,ne?X!=null?$(ce):v.add(ce):X!==void 0&&v.has(ce)?$(ce):N.protectedKeys[ce]=!0}N.prevProp=j,N.prevResolvedValues=me,N.isActive&&(_={..._,...me}),r&&n.blockInitialAnimation&&(B=!1),B&&(!(U&&V)||K)&&y.push(...oe.map(ce=>({animation:ce,options:{type:T}})))}if(v.size){const C={};if(typeof m.initial!="boolean"){const T=W2(n,Array.isArray(m.initial)?m.initial[0]:m.initial);T&&T.transition&&(C.transition=T.transition)}v.forEach(T=>{const N=n.getBaseTarget(T),j=n.getValue(T);j&&(j.liveStyle=!0),C[T]=N??null}),y.push({animation:C})}let S=!!y.length;return r&&(m.initial===!1||m.initial===m.animate)&&!n.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(y):Promise.resolve()}function u(h,m){var y;if(i[h].isActive===m)return Promise.resolve();(y=n.variantChildren)==null||y.forEach(v=>{var _;return(_=v.animationState)==null?void 0:_.setActive(h,m)}),i[h].isActive=m;const g=c(h);for(const v in i)i[v].protectedKeys={};return g}return{animateChanges:c,setActive:u,setAnimateFunction:l,getState:()=>i,reset:()=>{i=tW(),r=!0}}}function xbe(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!FY(e,n):!1}function Xg(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function tW(){return{animate:Xg(!0),whileInView:Xg(),whileHover:Xg(),whileTap:Xg(),whileDrag:Xg(),whileFocus:Xg(),exit:Xg()}}class $m{constructor(e){this.isMounted=!1,this.node=e}update(){}}class _be extends $m{constructor(e){super(e),e.animationState||(e.animationState=wbe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();c3(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:i}=this.node.prevProps||{};e!==i&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let kbe=0;class Ebe extends $m{constructor(){super(...arguments),this.id=kbe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);i&&!e&&o.then(()=>{i(this.id)})}mount(){const{register:e,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Sbe={animation:{Feature:_be},exit:{Feature:Ebe}};function $2(n,e,i,r={passive:!0}){return n.addEventListener(e,i,r),()=>n.removeEventListener(e,i)}function zS(n){return{point:{x:n.pageX,y:n.pageY}}}const Abe=n=>e=>C8(e)&&n(e,zS(e));function h2(n,e,i,r){return $2(n,e,Abe(i),r)}function LY({top:n,left:e,right:i,bottom:r}){return{x:{min:e,max:i},y:{min:n,max:r}}}function Cbe({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Tbe(n,e){if(!e)return n;const i=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}const BY=1e-4,Dbe=1-BY,Nbe=1+BY,zY=.01,Pbe=0-zY,jbe=0+zY;function Do(n){return n.max-n.min}function Ibe(n,e,i){return Math.abs(n-e)<=i}function nW(n,e,i,r=.5){n.origin=r,n.originPoint=Bi(e.min,e.max,n.origin),n.scale=Do(i)/Do(e),n.translate=Bi(i.min,i.max,n.origin)-n.originPoint,(n.scale>=Dbe&&n.scale<=Nbe||isNaN(n.scale))&&(n.scale=1),(n.translate>=Pbe&&n.translate<=jbe||isNaN(n.translate))&&(n.translate=0)}function f2(n,e,i,r){nW(n.x,e.x,i.x,r?r.originX:void 0),nW(n.y,e.y,i.y,r?r.originY:void 0)}function iW(n,e,i){n.min=i.min+e.min,n.max=n.min+Do(e)}function Rbe(n,e,i){iW(n.x,e.x,i.x),iW(n.y,e.y,i.y)}function rW(n,e,i){n.min=e.min-i.min,n.max=n.min+Do(e)}function p2(n,e,i){rW(n.x,e.x,i.x),rW(n.y,e.y,i.y)}const sW=()=>({translate:0,scale:1,origin:0,originPoint:0}),Hv=()=>({x:sW(),y:sW()}),oW=()=>({min:0,max:0}),ir=()=>({x:oW(),y:oW()});function Ll(n){return[n("x"),n("y")]}function wI(n){return n===void 0||n===1}function y6({scale:n,scaleX:e,scaleY:i}){return!wI(n)||!wI(e)||!wI(i)}function Qg(n){return y6(n)||VY(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function VY(n){return aW(n.x)||aW(n.y)}function aW(n){return n&&n!=="0%"}function W5(n,e,i){const r=n-i,o=e*r;return i+o}function lW(n,e,i,r,o){return o!==void 0&&(n=W5(n,o,r)),W5(n,i,r)+e}function v6(n,e=0,i=1,r,o){n.min=lW(n.min,e,i,r,o),n.max=lW(n.max,e,i,r,o)}function WY(n,{x:e,y:i}){v6(n.x,e.translate,e.scale,e.originPoint),v6(n.y,i.translate,i.scale,i.originPoint)}const cW=.999999999999,uW=1.0000000000001;function Mbe(n,e,i,r=!1){const o=i.length;if(!o)return;e.x=e.y=1;let l,c;for(let u=0;u<o;u++){l=i[u],c=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Xv(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,WY(n,c)),r&&Qg(l.latestValues)&&Xv(n,l.latestValues))}e.x<uW&&e.x>cW&&(e.x=1),e.y<uW&&e.y>cW&&(e.y=1)}function Gv(n,e){n.min=n.min+e,n.max=n.max+e}function dW(n,e,i,r,o=.5){const l=Bi(n.min,n.max,o);v6(n,e,i,l,r)}function Xv(n,e){dW(n.x,e.x,e.scaleX,e.scale,e.originX),dW(n.y,e.y,e.scaleY,e.scale,e.originY)}function $Y(n,e){return LY(Tbe(n.getBoundingClientRect(),e))}function Obe(n,e,i){const r=$Y(n,i),{scroll:o}=e;return o&&(Gv(r.x,o.offset.x),Gv(r.y,o.offset.y)),r}const qY=({current:n})=>n?n.ownerDocument.defaultView:null,hW=(n,e)=>Math.abs(n-e);function Fbe(n,e){const i=hW(n.x,e.x),r=hW(n.y,e.y);return Math.sqrt(i**2+r**2)}class HY{constructor(e,i,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=_I(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,_=Fbe(y.offset,{x:0,y:0})>=3;if(!v&&!_)return;const{point:A}=y,{timestamp:S}=xs;this.history.push({...A,timestamp:S});const{onStart:C,onMove:T}=this.handlers;v||(C&&C(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,y)},this.handlePointerMove=(y,v)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=xI(v,this.transformPagePoint),Wi.update(this.updatePoint,!0)},this.handlePointerUp=(y,v)=>{this.end();const{onEnd:_,onSessionEnd:A,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=_I(y.type==="pointercancel"?this.lastMoveEventInfo:xI(v,this.transformPagePoint),this.history);this.startEvent&&_&&_(y,C),A&&A(y,C)},!C8(e))return;this.dragSnapToOrigin=l,this.handlers=i,this.transformPagePoint=r,this.contextWindow=o||window;const c=zS(e),u=xI(c,this.transformPagePoint),{point:h}=u,{timestamp:m}=xs;this.history=[{...h,timestamp:m}];const{onSessionStart:g}=i;g&&g(e,_I(u,this.history)),this.removeListeners=US(h2(this.contextWindow,"pointermove",this.handlePointerMove),h2(this.contextWindow,"pointerup",this.handlePointerUp),h2(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Nm(this.updatePoint)}}function xI(n,e){return e?{point:e(n.point)}:n}function fW(n,e){return{x:n.x-e.x,y:n.y-e.y}}function _I({point:n},e){return{point:n,delta:fW(n,GY(e)),offset:fW(n,Ube(e)),velocity:Lbe(e,.1)}}function Ube(n){return n[0]}function GY(n){return n[n.length-1]}function Lbe(n,e){if(n.length<2)return{x:0,y:0};let i=n.length-1,r=null;const o=GY(n);for(;i>=0&&(r=n[i],!(o.timestamp-r.timestamp>gd(e)));)i--;if(!r)return{x:0,y:0};const l=bd(o.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-r.x)/l,y:(o.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Bbe(n,{min:e,max:i},r){return e!==void 0&&n<e?n=r?Bi(e,n,r.min):Math.max(n,e):i!==void 0&&n>i&&(n=r?Bi(i,n,r.max):Math.min(n,i)),n}function pW(n,e,i){return{min:e!==void 0?n.min+e:void 0,max:i!==void 0?n.max+i-(n.max-n.min):void 0}}function zbe(n,{top:e,left:i,bottom:r,right:o}){return{x:pW(n.x,i,o),y:pW(n.y,e,r)}}function mW(n,e){let i=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([i,r]=[r,i]),{min:i,max:r}}function Vbe(n,e){return{x:mW(n.x,e.x),y:mW(n.y,e.y)}}function Wbe(n,e){let i=.5;const r=Do(n),o=Do(e);return o>r?i=U2(e.min,e.max-r,n.min):r>o&&(i=U2(n.min,n.max-o,e.min)),lf(0,1,i)}function $be(n,e){const i={};return e.min!==void 0&&(i.min=e.min-n.min),e.max!==void 0&&(i.max=e.max-n.min),i}const w6=.35;function qbe(n=w6){return n===!1?n=0:n===!0&&(n=w6),{x:gW(n,"left","right"),y:gW(n,"top","bottom")}}function gW(n,e,i){return{min:bW(n,e),max:bW(n,i)}}function bW(n,e){return typeof n=="number"?n:n[e]||0}const Hbe=new WeakMap;class Gbe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ir(),this.visualElement=e}start(e,{snapToCursor:i=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(zS(g).point)},l=(g,y)=>{const{drag:v,dragPropagation:_,onDragStart:A}=this.getProps();if(v&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=uge(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ll(C=>{let T=this.getAxisMotionValue(C).get()||0;if(yd.test(T)){const{projection:N}=this.visualElement;if(N&&N.layout){const j=N.layout.layoutBox[C];j&&(T=Do(j)*(parseFloat(T)/100))}}this.originPoint[C]=T}),A&&Wi.postRender(()=>A(g,y)),g6(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},c=(g,y)=>{const{dragPropagation:v,dragDirectionLock:_,onDirectionLock:A,onDrag:S}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:C}=y;if(_&&this.currentDirection===null){this.currentDirection=Xbe(C),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",y.point,C),this.updateAxis("y",y.point,C),this.visualElement.render(),S&&S(g,y)},u=(g,y)=>this.stop(g,y),h=()=>Ll(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)==null?void 0:y.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new HY(e,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:qY(this.visualElement)})}stop(e,i){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Wi.postRender(()=>l(e,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:i}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(e,i,r){const{drag:o}=this.getProps();if(!r||!HT(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=Bbe(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,o=this.constraints;e&&qv(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=zbe(r.layoutBox,e):this.constraints=!1,this.elastic=qbe(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ll(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=$be(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:i}=this.getProps();if(!e||!qv(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=Obe(r,o.root,this.visualElement.getTransformPagePoint());let c=Vbe(o.layout.layoutBox,l);if(i){const u=i(Cbe(c));this.hasMutatedConstraints=!!u,u&&(c=LY(u))}return c}startAnimation(e){const{drag:i,dragMomentum:r,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},m=Ll(g=>{if(!HT(g,i,this.currentDirection))return;let y=h&&h[g]||{};c&&(y={min:0,max:0});const v=o?200:1e6,_=o?40:1e7,A={type:"inertia",velocity:r?e[g]:0,bounceStiffness:v,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...l,...y};return this.startAxisValueAnimation(g,A)});return Promise.all(m).then(u)}startAxisValueAnimation(e,i){const r=this.getAxisMotionValue(e);return g6(this.visualElement,e),r.start(O8(e,r,0,i,this.visualElement,!1))}stopAnimation(){Ll(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ll(e=>{var i;return(i=this.getAxisMotionValue(e).animation)==null?void 0:i.pause()})}getAnimationState(e){var i;return(i=this.getAxisMotionValue(e).animation)==null?void 0:i.state}getAxisMotionValue(e){const i=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[i];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ll(i=>{const{drag:r}=this.getProps();if(!HT(i,r,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(i);if(o&&o.layout){const{min:c,max:u}=o.layout.layoutBox[i];l.set(e[i]-Bi(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!qv(i)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Ll(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const h=u.get();o[c]=Wbe({min:h,max:h},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ll(c=>{if(!HT(c,e,null))return;const u=this.getAxisMotionValue(c),{min:h,max:m}=this.constraints[c];u.set(Bi(h,m,o[c]))})}addListeners(){if(!this.visualElement.current)return;Hbe.set(this.visualElement,this);const e=this.visualElement.current,i=h2(e,"pointerdown",h=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();qv(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Wi.read(r);const c=$2(window,"resize",()=>this.scalePositionWithinConstraints()),u=o.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(Ll(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=h[g].translate,y.set(y.get()+h[g].translate))}),this.visualElement.render())});return()=>{c(),i(),l(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=w6,dragMomentum:u=!0}=e;return{...e,drag:i,dragDirectionLock:r,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:u}}}function HT(n,e,i){return(e===!0||e===n)&&(i===null||i===n)}function Xbe(n,e=10){let i=null;return Math.abs(n.y)>e?i="y":Math.abs(n.x)>e&&(i="x"),i}class Kbe extends $m{constructor(e){super(e),this.removeGroupControls=nc,this.removeListeners=nc,this.controls=new Gbe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||nc}unmount(){this.removeGroupControls(),this.removeListeners()}}const yW=n=>(e,i)=>{n&&Wi.postRender(()=>n(e,i))};class Ybe extends $m{constructor(){super(...arguments),this.removePointerDownListener=nc}onPointerDown(e){this.session=new HY(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:qY(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:i,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:yW(e),onStart:yW(i),onMove:r,onEnd:(l,c)=>{delete this.session,o&&Wi.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=h2(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ND={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function vW(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const mk={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(rn.test(n))n=parseFloat(n);else return n;const i=vW(n,e.target.x),r=vW(n,e.target.y);return`${i}% ${r}%`}},Zbe={correct:(n,{treeScale:e,projectionDelta:i})=>{const r=n,o=Pm.parse(n);if(o.length>5)return r;const l=Pm.createTransformer(n),c=typeof o[0]!="number"?1:0,u=i.x.scale*e.x,h=i.y.scale*e.y;o[0+c]/=u,o[1+c]/=h;const m=Bi(u,h,.5);return typeof o[2+c]=="number"&&(o[2+c]/=m),typeof o[3+c]=="number"&&(o[3+c]/=m),l(o)}};class Jbe extends H.Component{componentDidMount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:r,layoutId:o}=this.props,{projection:l}=e;Oge(Qbe),l&&(i.group&&i.group.add(l),r&&r.register&&o&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),ND.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:i,visualElement:r,drag:o,isPresent:l}=this.props,{projection:c}=r;return c&&(c.isPresent=l,o||e.layoutDependency!==i||i===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Wi.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),A8.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function XY(n){const[e,i]=vge(),r=H.useContext(NK);return b.jsx(Jbe,{...n,layoutGroup:r,switchLayoutGroup:H.useContext(AY),isPresent:e,safeToRemove:i})}const Qbe={borderRadius:{...mk,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:mk,borderTopRightRadius:mk,borderBottomLeftRadius:mk,borderBottomRightRadius:mk,boxShadow:Zbe};function e0e(n,e,i){const r=Qs(n)?n:N1(n);return r.start(O8("",r,e,i)),r.animation}const t0e=(n,e)=>n.depth-e.depth;class n0e{constructor(){this.children=[],this.isDirty=!1}add(e){a8(this.children,e),this.isDirty=!0}remove(e){l8(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(t0e),this.isDirty=!1,this.children.forEach(e)}}function i0e(n,e){const i=ra.now(),r=({timestamp:o})=>{const l=o-i;l>=e&&(Nm(r),n(l-e))};return Wi.setup(r,!0),()=>Nm(r)}const KY=["TopLeft","TopRight","BottomLeft","BottomRight"],r0e=KY.length,wW=n=>typeof n=="string"?parseFloat(n):n,xW=n=>typeof n=="number"||rn.test(n);function s0e(n,e,i,r,o,l){o?(n.opacity=Bi(0,i.opacity??1,o0e(r)),n.opacityExit=Bi(e.opacity??1,0,a0e(r))):l&&(n.opacity=Bi(e.opacity??1,i.opacity??1,r));for(let c=0;c<r0e;c++){const u=`border${KY[c]}Radius`;let h=_W(e,u),m=_W(i,u);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||xW(h)===xW(m)?(n[u]=Math.max(Bi(wW(h),wW(m),r),0),(yd.test(m)||yd.test(h))&&(n[u]+="%")):n[u]=m}(e.rotate||i.rotate)&&(n.rotate=Bi(e.rotate||0,i.rotate||0,r))}function _W(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const o0e=YY(0,.5,zK),a0e=YY(.5,.95,nc);function YY(n,e,i){return r=>r<n?0:r>e?1:i(U2(n,e,r))}function kW(n,e){n.min=e.min,n.max=e.max}function Ol(n,e){kW(n.x,e.x),kW(n.y,e.y)}function EW(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function SW(n,e,i,r,o){return n-=e,n=W5(n,1/i,r),o!==void 0&&(n=W5(n,1/o,r)),n}function l0e(n,e=0,i=1,r=.5,o,l=n,c=n){if(yd.test(e)&&(e=parseFloat(e),e=Bi(c.min,c.max,e/100)-c.min),typeof e!="number")return;let u=Bi(l.min,l.max,r);n===l&&(u-=e),n.min=SW(n.min,e,i,u,o),n.max=SW(n.max,e,i,u,o)}function AW(n,e,[i,r,o],l,c){l0e(n,e[i],e[r],e[o],e.scale,l,c)}const c0e=["x","scaleX","originX"],u0e=["y","scaleY","originY"];function CW(n,e,i,r){AW(n.x,e,c0e,i?i.x:void 0,r?r.x:void 0),AW(n.y,e,u0e,i?i.y:void 0,r?r.y:void 0)}function TW(n){return n.translate===0&&n.scale===1}function ZY(n){return TW(n.x)&&TW(n.y)}function DW(n,e){return n.min===e.min&&n.max===e.max}function d0e(n,e){return DW(n.x,e.x)&&DW(n.y,e.y)}function NW(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function JY(n,e){return NW(n.x,e.x)&&NW(n.y,e.y)}function PW(n){return Do(n.x)/Do(n.y)}function jW(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class h0e{constructor(){this.members=[]}add(e){a8(this.members,e),e.scheduleRender()}remove(e){if(l8(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(e){const i=this.members.findIndex(o=>e===o);if(i===0)return!1;let r;for(let o=i;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,i){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,i&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:i,resumingFrom:r}=e;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function f0e(n,e,i){let r="";const o=n.x.translate/e.x,l=n.y.translate/e.y,c=(i==null?void 0:i.z)||0;if((o||l||c)&&(r=`translate3d(${o}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),i){const{transformPerspective:m,rotate:g,rotateX:y,rotateY:v,skewX:_,skewY:A}=i;m&&(r=`perspective(${m}px) ${r}`),g&&(r+=`rotate(${g}deg) `),y&&(r+=`rotateX(${y}deg) `),v&&(r+=`rotateY(${v}deg) `),_&&(r+=`skewX(${_}deg) `),A&&(r+=`skewY(${A}deg) `)}const u=n.x.scale*e.x,h=n.y.scale*e.y;return(u!==1||h!==1)&&(r+=`scale(${u}, ${h})`),r||"none"}const kI=["","X","Y","Z"],p0e={visibility:"hidden"},m0e=1e3;let g0e=0;function EI(n,e,i,r){const{latestValues:o}=e;o[n]&&(i[n]=o[n],e.setStaticValue(n,0),r&&(r[n]=0))}function QY(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const i=MY(e);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(i,"transform",Wi,!(o||l))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&QY(r)}function eZ({attachResizeListener:n,defaultParent:e,measureScroll:i,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},u=e==null?void 0:e()){this.id=g0e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(v0e),this.nodes.forEach(E0e),this.nodes.forEach(S0e),this.nodes.forEach(w0e)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new n0e)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new d8),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const h=this.eventHandlers.get(c);h&&h.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=wY(c)&&!gge(c),this.instance=c;const{layoutId:u,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),n){let g;const y=()=>this.root.updateBlockedByResize=!1;n(c,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=i0e(y,250),ND.hasAnimatedSinceResize&&(ND.hasAnimatedSinceResize=!1,this.nodes.forEach(RW))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&m&&(u||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeLayoutChanged:v,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||m.getDefaultTransition()||N0e,{onLayoutAnimationStart:S,onLayoutAnimationComplete:C}=m.getProps(),T=!this.targetLayout||!JY(this.targetLayout,_),N=!y&&v;if(this.options.layoutRoot||this.resumeFrom||N||y&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...E8(A,"layout"),onPlay:S,onComplete:C};(m.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(g,N)}else y||RW(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Nm(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(A0e),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&QY(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(IW);return}this.isUpdating||this.nodes.forEach(_0e),this.isUpdating=!1,this.nodes.forEach(k0e),this.nodes.forEach(b0e),this.nodes.forEach(y0e),this.clearAllSnapshots();const u=ra.now();xs.delta=lf(0,1e3/60,u-xs.timestamp),xs.timestamp=u,xs.isProcessing=!0,mI.update.process(xs),mI.preRender.process(xs),mI.render.process(xs),xs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,A8.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(x0e),this.sharedNodes.forEach(C0e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Wi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Wi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Do(this.snapshot.measuredBox.x)&&!Do(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ir(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u&&this.instance){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!ZY(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;c&&this.instance&&(u||Qg(this.latestValues)||g)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return c&&(h=this.removeTransform(h)),P0e(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:c}=this.options;if(!c)return ir();const u=c.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(j0e))){const{scroll:g}=this.root;g&&(Gv(u.x,g.offset.x),Gv(u.y,g.offset.y))}return u}removeElementScroll(c){var h;const u=ir();if(Ol(u,c),(h=this.scroll)!=null&&h.wasRoot)return u;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:v}=g;g!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Ol(u,c),Gv(u.x,y.offset.x),Gv(u.y,y.offset.y))}return u}applyTransform(c,u=!1){const h=ir();Ol(h,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];!u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Xv(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Qg(g.latestValues)&&Xv(h,g.latestValues)}return Qg(this.latestValues)&&Xv(h,this.latestValues),h}removeTransform(c){const u=ir();Ol(u,c);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!Qg(m.latestValues))continue;y6(m.latestValues)&&m.updateSnapshot();const g=ir(),y=m.measurePageBox();Ol(g,y),CW(u,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Qg(this.latestValues)&&CW(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var v;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!(!this.layout||!(g||y))){if(this.resolvedRelativeTargetAt=xs.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ir(),this.relativeTargetOrigin=ir(),p2(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),Ol(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ir(),this.targetWithTransforms=ir()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Rbe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ol(this.target,this.layout.layoutBox),WY(this.target,this.targetDelta)):Ol(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ir(),this.relativeTargetOrigin=ir(),p2(this.relativeTargetOrigin,this.target,_.target),Ol(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||y6(this.parent.latestValues)||VY(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var A;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===xs.timestamp&&(h=!1),h)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;Ol(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,v=this.treeScale.y;Mbe(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ir());const{target:_}=c;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(EW(this.prevProjectionDelta.x,this.projectionDelta.x),EW(this.prevProjectionDelta.y,this.projectionDelta.y)),f2(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==v||!jW(this.projectionDelta.x,this.prevProjectionDelta.x)||!jW(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Hv(),this.projectionDelta=Hv(),this.projectionDeltaWithTransform=Hv()}setAnimationOrigin(c,u=!1){const h=this.snapshot,m=h?h.latestValues:{},g={...this.latestValues},y=Hv();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const v=ir(),_=h?h.source:void 0,A=this.layout?this.layout.source:void 0,S=_!==A,C=this.getStack(),T=!C||C.members.length<=1,N=!!(S&&!T&&this.options.crossfade===!0&&!this.path.some(D0e));this.animationProgress=0;let j;this.mixTargetDelta=O=>{const F=O/1e3;MW(y.x,c.x,F),MW(y.y,c.y,F),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(p2(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),T0e(this.relativeTarget,this.relativeTargetOrigin,v,F),j&&d0e(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=ir()),Ol(j,this.relativeTarget)),S&&(this.animationValues=g,s0e(g,m,this.latestValues,F,N,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var u,h,m;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(m=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||m.stop(),this.pendingAnimation&&(Nm(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Wi.update(()=>{ND.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=N1(0)),this.currentAnimation=e0e(this.motionValue,[0,1e3],{...c,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),c.onUpdate&&c.onUpdate(g)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(m0e),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:h,layout:m,latestValues:g}=c;if(!(!u||!h||!m)){if(this!==c&&this.layout&&m&&tZ(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||ir();const y=Do(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+y;const v=Do(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+v}Ol(u,h),Xv(u,g),f2(this.projectionDeltaWithTransform,this.layoutCorrected,u,g)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new h0e),this.sharedNodes.get(c).add(u);const m=u.options.initialPromotionConfig;u.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var u;const{layoutId:c}=this.options;return c?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:c}=this.options;return c?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const m={};h.z&&EI("z",c,m,this.animationValues);for(let g=0;g<kI.length;g++)EI(`rotate${kI[g]}`,c,m,this.animationValues),EI(`skew${kI[g]}`,c,m,this.animationValues);c.render();for(const g in m)c.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return p0e;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=DD(c==null?void 0:c.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=DD(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Qg(this.latestValues)&&(_.transform=h?h({},""):"none",this.hasProjected=!1),_}const g=m.animationValues||m.latestValues;this.applyTransformsToTarget(),u.transform=f0e(this.projectionDeltaWithTransform,this.treeScale,g),h&&(u.transform=h(g,u.transform));const{x:y,y:v}=this.projectionDelta;u.transformOrigin=`${y.origin*100}% ${v.origin*100}% 0`,m.animationValues?u.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const _ in V2){if(g[_]===void 0)continue;const{correct:A,applyTo:S,isCSSVariable:C}=V2[_],T=u.transform==="none"?g[_]:A(g[_],m);if(S){const N=S.length;for(let j=0;j<N;j++)u[S[j]]=T}else C?this.options.visualElement.renderState.vars[_]=T:u[_]=T}return this.options.layoutId&&(u.pointerEvents=m===this?DD(c==null?void 0:c.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var u;return(u=c.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(IW),this.root.sharedNodes.clear()}}}function b0e(n){n.updateLayout()}function y0e(n){var i;const e=((i=n.resumeFrom)==null?void 0:i.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=n.layout,{animationType:l}=n.options,c=e.source!==n.layout.source;l==="size"?Ll(y=>{const v=c?e.measuredBox[y]:e.layoutBox[y],_=Do(v);v.min=r[y].min,v.max=v.min+_}):tZ(l,e.layoutBox,r)&&Ll(y=>{const v=c?e.measuredBox[y]:e.layoutBox[y],_=Do(r[y]);v.max=v.min+_,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+_)});const u=Hv();f2(u,r,e.layoutBox);const h=Hv();c?f2(h,n.applyTransform(o,!0),e.measuredBox):f2(h,r,e.layoutBox);const m=!ZY(u);let g=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:_}=y;if(v&&_){const A=ir();p2(A,e.layoutBox,v.layoutBox);const S=ir();p2(S,r,_.layoutBox),JY(A,S)||(g=!0),y.options.layoutRoot&&(n.relativeTarget=S,n.relativeTargetOrigin=A,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function v0e(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function w0e(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function x0e(n){n.clearSnapshot()}function IW(n){n.clearMeasurements()}function _0e(n){n.isLayoutDirty=!1}function k0e(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function RW(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function E0e(n){n.resolveTargetDelta()}function S0e(n){n.calcProjection()}function A0e(n){n.resetSkewAndRotation()}function C0e(n){n.removeLeadSnapshot()}function MW(n,e,i){n.translate=Bi(e.translate,0,i),n.scale=Bi(e.scale,1,i),n.origin=e.origin,n.originPoint=e.originPoint}function OW(n,e,i,r){n.min=Bi(e.min,i.min,r),n.max=Bi(e.max,i.max,r)}function T0e(n,e,i,r){OW(n.x,e.x,i.x,r),OW(n.y,e.y,i.y,r)}function D0e(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const N0e={duration:.45,ease:[.4,0,.1,1]},FW=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),UW=FW("applewebkit/")&&!FW("chrome/")?Math.round:nc;function LW(n){n.min=UW(n.min),n.max=UW(n.max)}function P0e(n){LW(n.x),LW(n.y)}function tZ(n,e,i){return n==="position"||n==="preserve-aspect"&&!Ibe(PW(e),PW(i),.2)}function j0e(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const I0e=eZ({attachResizeListener:(n,e)=>$2(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),SI={current:void 0},nZ=eZ({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!SI.current){const n=new I0e({});n.mount(window),n.setOptions({layoutScroll:!0}),SI.current=n}return SI.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),R0e={pan:{Feature:Ybe},drag:{Feature:Kbe,ProjectionNode:nZ,MeasureLayout:XY}};function BW(n,e,i){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,l=r[o];l&&Wi.postRender(()=>l(e,zS(e)))}class M0e extends $m{mount(){const{current:e}=this.node;e&&(this.unmount=dge(e,(i,r)=>(BW(this.node,r,"Start"),o=>BW(this.node,o,"End"))))}unmount(){}}class O0e extends $m{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=US($2(this.node.current,"focus",()=>this.onFocus()),$2(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function zW(n,e,i){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),l=r[o];l&&Wi.postRender(()=>l(e,zS(e)))}class F0e extends $m{mount(){const{current:e}=this.node;e&&(this.unmount=mge(e,(i,r)=>(zW(this.node,r,"Start"),(o,{success:l})=>zW(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const x6=new WeakMap,AI=new WeakMap,U0e=n=>{const e=x6.get(n.target);e&&e(n)},L0e=n=>{n.forEach(U0e)};function B0e({root:n,...e}){const i=n||document;AI.has(i)||AI.set(i,{});const r=AI.get(i),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(L0e,{root:n,...e})),r[o]}function z0e(n,e,i){const r=B0e(e);return x6.set(n,i),r.observe(n),()=>{x6.delete(n),r.unobserve(n)}}const V0e={some:0,all:1};class W0e extends $m{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:i,margin:r,amount:o="some",once:l}=e,c={root:i?i.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:V0e[o]},u=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),v=m?g:y;v&&v(h)};return z0e(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:i}=this.node;["amount","margin","root"].some($0e(e,i))&&this.startObserver()}unmount(){}}function $0e({viewport:n={}},{viewport:e={}}={}){return i=>n[i]!==e[i]}const q0e={inView:{Feature:W0e},tap:{Feature:F0e},focus:{Feature:O0e},hover:{Feature:M0e}},H0e={layout:{ProjectionNode:nZ,MeasureLayout:XY}},_6={current:null},iZ={current:!1};function G0e(){if(iZ.current=!0,!!s8)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>_6.current=n.matches;n.addListener(e),e()}else _6.current=!1}const X0e=new WeakMap;function K0e(n,e,i){for(const r in e){const o=e[r],l=i[r];if(Qs(o))n.addValue(r,o);else if(Qs(l))n.addValue(r,N1(o,{owner:n}));else if(l!==o)if(n.hasValue(r)){const c=n.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(r);n.addValue(r,N1(c!==void 0?c:o,{owner:n}))}}for(const r in i)e[r]===void 0&&n.removeValue(r);return e}const VW=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Y0e{scrapeMotionValuesFromProps(e,i,r){return{}}constructor({parent:e,props:i,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=k8,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=ra.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Wi.render(this.render,!1,!0))};const{latestValues:h,renderState:m}=c;this.latestValues=h,this.baseTarget={...h},this.initialValues=i.initial?{...h}:{},this.renderState=m,this.parent=e,this.props=i,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=u,this.blockInitialAnimation=!!l,this.isControllingVariants=u3(i),this.isVariantNode=EY(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(i,{},this);for(const v in y){const _=y[v];h[v]!==void 0&&Qs(_)&&_.set(h[v],!1)}}mount(e){this.current=e,X0e.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),iZ.current||G0e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_6.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Nm(this.notifyUpdate),Nm(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const i=this.features[e];i&&(i.unmount(),i.isMounted=!1)}this.current=null}bindToMotionValue(e,i){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Y1.has(e);r&&this.onBindTransform&&this.onBindTransform();const o=i.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Wi.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=i.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,i)),this.valueSubscriptions.set(e,()=>{o(),l(),c&&c(),i.owner&&i.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in P1){const i=P1[e];if(!i)continue;const{isEnabled:r,Feature:o}=i;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ir()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,i){this.latestValues[e]=i}update(e,i){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<VW.length;r++){const o=VW[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=e[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=K0e(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(e),()=>i.variantChildren.delete(e)}addValue(e,i){const r=this.values.get(e);i!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,i),this.values.set(e,i),this.latestValues[e]=i.get())}removeValue(e){this.values.delete(e);const i=this.valueSubscriptions.get(e);i&&(i(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,i){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&i!==void 0&&(r=N1(i===null?void 0:i,{owner:this}),this.addValue(e,r)),r}readValue(e,i){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(PK(r)||IK(r))?r=parseFloat(r):!yge(r)&&Pm.test(i)&&(r=mY(e,i)),this.setBaseTarget(e,Qs(r)?r.get():r)),Qs(r)?r.get():r}setBaseTarget(e,i){this.baseTarget[e]=i}getBaseTarget(e){var l;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const c=R8(this.props,i,(l=this.presenceContext)==null?void 0:l.custom);c&&(r=c[e])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Qs(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,i){return this.events[e]||(this.events[e]=new d8),this.events[e].add(i)}notify(e,...i){this.events[e]&&this.events[e].notify(...i)}}class rZ extends Y0e{constructor(){super(...arguments),this.KeyframeResolver=oge}sortInstanceNodePosition(e,i){return e.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(e,i){return e.style?e.style[i]:void 0}removeValueFromRenderState(e,{vars:i,style:r}){delete i[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Qs(e)&&(this.childSubscription=e.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function sZ(n,{style:e,vars:i},r,o){Object.assign(n.style,e,o&&o.getProjectionStyles(r));for(const l in i)n.style.setProperty(l,i[l])}function Z0e(n){return window.getComputedStyle(n)}class J0e extends rZ{constructor(){super(...arguments),this.type="html",this.renderInstance=sZ}readValueFromInstance(e,i){var r;if(Y1.has(i))return(r=this.projection)!=null&&r.isProjecting?c6(i):Sme(e,i);{const o=Z0e(e),l=(p8(i)?o.getPropertyValue(i):o[i])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:i}){return $Y(e,i)}build(e,i,r){P8(e,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,i,r){return M8(e,i,r)}}const oZ=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Q0e(n,e,i,r){sZ(n,e,void 0,r);for(const o in e.attrs)n.setAttribute(oZ.has(o)?o:N8(o),e.attrs[o])}class eye extends rZ{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ir}getBaseTargetFromProps(e,i){return e[i]}readValueFromInstance(e,i){if(Y1.has(i)){const r=pY(i);return r&&r.default||0}return i=oZ.has(i)?i:N8(i),e.getAttribute(i)}scrapeMotionValuesFromProps(e,i,r){return RY(e,i,r)}build(e,i,r){NY(e,i,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,i,r,o){Q0e(e,i,r,o)}mount(e){this.isSVGTag=jY(e.tagName),super.mount(e)}}const tye=(n,e)=>I8(n)?new eye(e):new J0e(e,{allowProjection:n!==H.Fragment}),nye=Qge({...Sbe,...q0e,...R0e,...H0e},tye),aZ=Ege(nye);function iye(){var v;const[n,e]=H.useState(""),[i,r]=H.useState(""),[o,l]=H.useState(null),[c,u]=H.useState(!1),h=ns(),g=(v=Ed().state)==null?void 0:v.message,y=async _=>{_.preventDefault(),l(null),u(!0);try{const{data:A,error:S}=await Re.auth.signInWithPassword({email:n,password:i});if(S)throw S;A!=null&&A.user&&h("/dashboard")}catch(A){A instanceof Error?A.message.includes("Invalid login credentials")?l("Invalid email or password"):A.message.includes("Email not confirmed")?l("Please confirm your email address before logging in"):l(A.message):l("An unexpected error occurred during login")}finally{u(!1)}};return b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#1a365d] to-[#0f2942] py-12 px-4 sm:px-6 lg:px-8",children:b.jsxs(aZ.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md w-full space-y-8 bg-white p-8 rounded-2xl shadow-xl",children:[b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("img",{src:z0,alt:"Accreda Logo",className:"h-24 w-auto mb-6 cursor-pointer",onClick:()=>h("/")}),b.jsx("h2",{className:"text-2xl font-bold text-[#1a365d]",children:"Welcome back"}),b.jsx("p",{className:"mt-2 text-sm text-[#4a5568]",children:"Sign in to your EIT Track account"})]}),g&&b.jsx("div",{className:"rounded-lg bg-green-50 p-4 border border-green-100",children:b.jsx("div",{className:"text-sm text-green-700",children:g})}),b.jsxs("form",{className:"mt-8 space-y-6",onSubmit:y,children:[o&&b.jsx("div",{className:"rounded-lg bg-red-50 p-4 border border-red-100",children:b.jsx("div",{className:"text-sm text-red-700",children:o})}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-[#1a365d] mb-1",children:"Email address"}),b.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-200 placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a365d] focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your email",value:n,onChange:_=>e(_.target.value)})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-[#1a365d] mb-1",children:"Password"}),b.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-200 placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a365d] focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your password",value:i,onChange:_=>r(_.target.value)})]})]}),b.jsx("div",{className:"flex items-center justify-end",children:b.jsx("div",{className:"text-sm",children:b.jsx(Zl,{to:"/forgot-password",className:"font-medium text-[#1a365d] hover:text-[#2c5282] transition-colors",children:"Forgot your password?"})})}),b.jsx("div",{children:b.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-2.5 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-[#1a365d] hover:bg-[#2c5282] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#1a365d] transition-all duration-300 transform hover:scale-105 disabled:opacity-75 disabled:cursor-not-allowed",children:c?"Signing in...":"Sign in"})}),b.jsx("div",{className:"text-center",children:b.jsxs("p",{className:"text-sm text-[#4a5568]",children:["Don't have an account?"," ",b.jsx(Zl,{to:"/signup",className:"font-medium text-[#1a365d] hover:text-[#2c5282] transition-colors",children:"Create one now"})]})})]})]})})}function rye(){const[n,e]=H.useState({email:"",password:"",confirmPassword:"",fullName:"",organization:"",accountType:"eit",startDate:"",targetDate:""}),[i,r]=H.useState(null),[o,l]=H.useState(!1),[c,u]=H.useState(null),h=ns(),m=async g=>{g.preventDefault(),r(null),l(!0);try{if(n.password!==n.confirmPassword)throw new Error("Passwords do not match");if(n.password.length<6)throw new Error("Password must be at least 6 characters long");if(!n.fullName.trim())throw new Error("Full name is required");if(n.accountType==="supervisor"&&!n.organization.trim())throw new Error("Organization is required for supervisors");if(n.accountType==="eit"&&(!n.startDate||!n.targetDate))throw new Error("Please provide your program start and expected end date.");const{data:y,error:v}=await Re.auth.signUp({email:n.email,password:n.password,options:{emailRedirectTo:`${window.location.origin}/login`}});if(v)throw new Error(`Authentication error: ${v.message}`);if(!y.user)throw new Error("Failed to create user account");const _={id:y.user.id,email:n.email,full_name:n.fullName,account_type:n.accountType,...n.accountType==="supervisor"&&{organization:n.organization},...n.accountType==="eit"&&{start_date:n.startDate,target_date:n.targetDate}},{error:A}=await Re.from(n.accountType==="eit"?"eit_profiles":"supervisor_profiles").insert([_]);if(A)throw new Error(`Failed to create profile: ${A.message}`);u("Account created successfully! Please check your email for verification."),e({email:"",password:"",confirmPassword:"",fullName:"",organization:"",accountType:"eit",startDate:"",targetDate:""}),h("/login",{state:{message:"Please check your email to confirm your account. You can now sign in."}})}catch(y){let v=y instanceof Error?y.message:"An error occurred during signup";(v.includes("duplicate key value")||v.includes("unique constraint")||v.toLowerCase().includes("already exists"))&&(v="An account with this email already exists. Please log in or use a different email address."),r(v)}finally{l(!1)}};return H.useEffect(()=>{Re.auth.getSession().then(({data:{session:g}})=>{g&&h("/dashboard")})},[h]),b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#1a365d] to-[#0f2942] py-12 px-4 sm:px-6 lg:px-8",children:b.jsxs(aZ.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md w-full space-y-8 bg-white p-8 rounded-2xl shadow-xl",children:[b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("img",{src:z0,alt:"Accreda Logo",className:"h-24 w-auto mb-6 cursor-pointer",onClick:()=>h("/")}),b.jsx("h2",{className:"text-2xl font-bold text-[#1a365d]",children:"Create your account"}),b.jsx("p",{className:"mt-2 text-sm text-[#4a5568]",children:"Join EIT Track to start your journey"})]}),b.jsxs("form",{className:"mt-8 space-y-6",onSubmit:m,children:[i&&b.jsx("div",{className:"rounded-lg bg-red-50 p-4 border border-red-100",children:b.jsx("div",{className:"text-sm text-red-700",children:i})}),c&&b.jsx("div",{className:"rounded-lg bg-green-50 p-4 border border-green-100",children:b.jsx("div",{className:"text-sm text-green-700",children:c})}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex justify-center mb-4 gap-3",children:[b.jsx("button",{type:"button",className:`px-4 py-2 rounded-lg border font-semibold transition-all duration-200 transform focus:outline-none focus:ring-2 focus:ring-[#1a365d]
                  ${n.accountType==="eit"?"bg-[#1a365d] text-white scale-105 shadow-lg":"bg-white text-[#1a365d] border-[#1a365d] hover:scale-105 hover:brightness-95"}
                `,onClick:()=>e({...n,accountType:"eit"}),children:"EIT"}),b.jsx("button",{type:"button",className:`px-4 py-2 rounded-lg border font-semibold transition-all duration-200 transform focus:outline-none focus:ring-2 focus:ring-[#1a365d]
                  ${n.accountType==="supervisor"?"bg-[#1a365d] text-white scale-105 shadow-lg":"bg-white text-[#1a365d] border-[#1a365d] hover:scale-105 hover:brightness-95"}
                `,onClick:()=>e({...n,accountType:"supervisor"}),children:"Supervisor"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"full-name",className:"block text-sm font-medium text-[#1a365d] mb-1",children:"Full Name"}),b.jsx("input",{id:"full-name",name:"full-name",type:"text",autoComplete:"name",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-200 placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a365d] focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your full name",value:n.fullName,onChange:g=>e({...n,fullName:g.target.value})})]}),n.accountType==="supervisor"&&b.jsxs("div",{children:[b.jsx("label",{htmlFor:"organization",className:"block text-sm font-medium text-[#1a365d] mb-1",children:"Organization"}),b.jsx("input",{id:"organization",name:"organization",type:"text",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-200 placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a365d] focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your organization",value:n.organization,onChange:g=>e({...n,organization:g.target.value})})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-[#1a365d] mb-1",children:"Email address"}),b.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-200 placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a365d] focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your email",value:n.email,onChange:g=>e({...n,email:g.target.value})})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-[#1a365d] mb-1",children:"Password"}),b.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-200 placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a365d] focus:border-transparent sm:text-sm transition-colors",placeholder:"Create a password",value:n.password,onChange:g=>e({...n,password:g.target.value})})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-[#1a365d] mb-1",children:"Confirm Password"}),b.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-200 placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a365d] focus:border-transparent sm:text-sm transition-colors",placeholder:"Confirm your password",value:n.confirmPassword,onChange:g=>e({...n,confirmPassword:g.target.value})})]}),n.accountType==="eit"&&b.jsxs("div",{className:"card p-4 mb-2 bg-blue-50/50 border border-blue-100 rounded-lg",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),b.jsx("span",{className:"font-semibold text-blue-800",children:"Program Timeline"})]}),b.jsx("p",{className:"text-xs text-blue-700 mb-3",children:"Set your program start and expected end date for personalized progress tracking."}),b.jsxs("div",{className:"flex flex-col gap-3",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium text-blue-900 mb-1",children:"Start Date"}),b.jsx("input",{type:"date",className:"w-full border border-blue-200 rounded px-3 py-2 text-blue-900 focus:outline-none focus:ring-2 focus:ring-blue-400",value:n.startDate,onChange:g=>e({...n,startDate:g.target.value}),required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium text-blue-900 mb-1",children:"Expected End Date"}),b.jsx("input",{type:"date",className:"w-full border border-blue-200 rounded px-3 py-2 text-blue-900 focus:outline-none focus:ring-2 focus:ring-blue-400",value:n.targetDate,onChange:g=>e({...n,targetDate:g.target.value}),required:!0})]})]})]})]}),b.jsx("div",{children:b.jsx("button",{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-2.5 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-[#1a365d] hover:bg-[#2c5282] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#1a365d] transition-all duration-300 transform hover:scale-105 disabled:opacity-75 disabled:cursor-not-allowed",children:o?"Creating account...":"Create account"})}),b.jsx("div",{className:"text-center",children:b.jsxs("p",{className:"text-sm text-[#4a5568]",children:["Already have an account?"," ",b.jsx(Zl,{to:"/login",className:"font-medium text-[#1a365d] hover:text-[#2c5282] transition-colors",children:"Sign in"})]})})]})]})})}function sye(){const[n,e]=H.useState(""),[i,r]=H.useState(null),[o,l]=H.useState(null),[c,u]=H.useState(!1),h=async m=>{m.preventDefault(),r(null),l(null),u(!0);try{const{error:g}=await Re.auth.resetPasswordForEmail(n,{redirectTo:`${window.location.origin}/reset-password`});if(g)throw g;l("Password reset instructions have been sent to your email address."),e("")}catch(g){r(g instanceof Error?g.message:"An error occurred while sending reset instructions")}finally{u(!1)}};return b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-slate-50 to-slate-100 py-12 px-4 sm:px-6 lg:px-8",children:b.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg",children:[b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("img",{src:z0,alt:"Accreda Logo",className:"h-24 w-auto mb-6"}),b.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Reset your password"}),b.jsx("p",{className:"mt-2 text-sm text-slate-600 text-center",children:"Enter your email address and we'll send you instructions to reset your password"})]}),o&&b.jsx("div",{className:"rounded-lg bg-green-50 p-4 border border-green-100",children:b.jsx("div",{className:"text-sm text-green-700",children:o})}),b.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[i&&b.jsx("div",{className:"rounded-lg bg-red-50 p-4 border border-red-100",children:b.jsx("div",{className:"text-sm text-red-700",children:i})}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-slate-700 mb-1",children:"Email address"}),b.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your email",value:n,onChange:m=>e(m.target.value)})]}),b.jsx("div",{children:b.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-2.5 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-colors disabled:opacity-75 disabled:cursor-not-allowed",children:c?"Sending instructions...":"Send reset instructions"})}),b.jsx("div",{className:"text-center",children:b.jsxs("p",{className:"text-sm text-slate-600",children:["Remember your password?"," ",b.jsx(Zl,{to:"/login",className:"font-medium text-teal-600 hover:text-teal-500 transition-colors",children:"Sign in"})]})})]})]})})}function oye(){const[n,e]=H.useState(""),[i,r]=H.useState(""),[o,l]=H.useState(null),[c,u]=H.useState(!1),h=ns();H.useEffect(()=>{Re.auth.getSession().then(({data:{session:g}})=>{g||h("/login",{state:{message:"Password reset link is invalid or has expired. Please try again."}})})},[h]);const m=async g=>{if(g.preventDefault(),l(null),n!==i){l("Passwords do not match");return}if(n.length<6){l("Password must be at least 6 characters long");return}u(!0);try{const{error:y}=await Re.auth.updateUser({password:n});if(y)throw y;await Re.auth.signOut(),h("/login",{state:{message:"Your password has been reset successfully. Please sign in with your new password."}})}catch(y){l(y instanceof Error?y.message:"An error occurred while resetting your password")}finally{u(!1)}};return b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-slate-50 to-slate-100 py-12 px-4 sm:px-6 lg:px-8",children:b.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg",children:[b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("img",{src:z0,alt:"Accreda Logo",className:"h-24 w-auto mb-6"}),b.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Set new password"}),b.jsx("p",{className:"mt-2 text-sm text-slate-600 text-center",children:"Please enter your new password below"})]}),b.jsxs("form",{className:"mt-8 space-y-6",onSubmit:m,children:[o&&b.jsx("div",{className:"rounded-lg bg-red-50 p-4 border border-red-100",children:b.jsx("div",{className:"text-sm text-red-700",children:o})}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-1",children:"New Password"}),b.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your new password",value:n,onChange:g=>e(g.target.value)})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-slate-700 mb-1",children:"Confirm New Password"}),b.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Confirm your new password",value:i,onChange:g=>r(g.target.value)})]})]}),b.jsx("div",{children:b.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-2.5 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-colors disabled:opacity-75 disabled:cursor-not-allowed",children:c?"Resetting password...":"Reset password"})})]})]})})}/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aye={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lye=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ut=(n,e)=>{const i=H.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:u="",children:h,...m},g)=>H.createElement("svg",{ref:g,...aye,width:o,height:o,stroke:r,strokeWidth:c?Number(l)*24/Number(o):l,className:["lucide",`lucide-${lye(n)}`,u].join(" "),...m},[...e.map(([y,v])=>H.createElement(y,v)),...Array.isArray(h)?h:[h]]));return i.displayName=`${n}`,i};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=Ut("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8=Ut("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cye=Ut("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lZ=Ut("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uye=Ut("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dye=Ut("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=Ut("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hye=Ut("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=Ut("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=Ut("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cZ=Ut("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WW=Ut("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=Ut("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=Ut("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=Ut("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=Ut("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fye=Ut("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pye=Ut("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=Ut("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=Ut("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mye=Ut("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gye=Ut("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bye=Ut("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=Ut("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $W=Ut("CornerDownRight",[["polyline",{points:"15 10 20 15 15 20",key:"1q7qjw"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uZ=Ut("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B8=Ut("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8=Ut("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V8=Ut("FilePen",[["path",{d:"M12 22h6a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v10",key:"x7tsz2"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10.4 12.6a2 2 0 1 1 3 3L8 21l-4 1 1-4Z",key:"o3xyfb"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=Ut("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yye=Ut("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vye=Ut("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=Ut("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=Ut("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=Ut("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wye=Ut("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dZ=Ut("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W8=Ut("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $8=Ut("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qW=Ut("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hZ=Ut("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=Ut("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=Ut("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=Ut("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fZ=Ut("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=Ut("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=Ut("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pZ=Ut("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q8=Ut("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=Ut("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8=Ut("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xye=Ut("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mZ=Ut("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ye=Ut("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gZ=Ut("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=Ut("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bZ=Ut("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kye=Ut("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yZ=Ut("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=Ut("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vZ=Ut("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=Ut("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Eye={},HW=n=>{let e;const i=new Set,r=(g,y)=>{const v=typeof g=="function"?g(e):g;if(!Object.is(v,e)){const _=e;e=y??(typeof v!="object"||v===null)?v:Object.assign({},e,v),i.forEach(A=>A(e,_))}},o=()=>e,h={setState:r,getState:o,getInitialState:()=>m,subscribe:g=>(i.add(g),()=>i.delete(g)),destroy:()=>{(Eye?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},m=e=n(r,o,h);return h},Sye=n=>n?HW(n):HW;var wZ={exports:{}},xZ={},_Z={exports:{}},kZ={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I1=H;function Aye(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Cye=typeof Object.is=="function"?Object.is:Aye,Tye=I1.useState,Dye=I1.useEffect,Nye=I1.useLayoutEffect,Pye=I1.useDebugValue;function jye(n,e){var i=e(),r=Tye({inst:{value:i,getSnapshot:e}}),o=r[0].inst,l=r[1];return Nye(function(){o.value=i,o.getSnapshot=e,CI(o)&&l({inst:o})},[n,i,e]),Dye(function(){return CI(o)&&l({inst:o}),n(function(){CI(o)&&l({inst:o})})},[n]),Pye(i),i}function CI(n){var e=n.getSnapshot;n=n.value;try{var i=e();return!Cye(n,i)}catch{return!0}}function Iye(n,e){return e()}var Rye=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Iye:jye;kZ.useSyncExternalStore=I1.useSyncExternalStore!==void 0?I1.useSyncExternalStore:Rye;_Z.exports=kZ;var Mye=_Z.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f3=H,Oye=Mye;function Fye(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Uye=typeof Object.is=="function"?Object.is:Fye,Lye=Oye.useSyncExternalStore,Bye=f3.useRef,zye=f3.useEffect,Vye=f3.useMemo,Wye=f3.useDebugValue;xZ.useSyncExternalStoreWithSelector=function(n,e,i,r,o){var l=Bye(null);if(l.current===null){var c={hasValue:!1,value:null};l.current=c}else c=l.current;l=Vye(function(){function h(_){if(!m){if(m=!0,g=_,_=r(_),o!==void 0&&c.hasValue){var A=c.value;if(o(A,_))return y=A}return y=_}if(A=y,Uye(g,_))return A;var S=r(_);return o!==void 0&&o(A,S)?(g=_,A):(g=_,y=S)}var m=!1,g,y,v=i===void 0?null:i;return[function(){return h(e())},v===null?void 0:function(){return h(v())}]},[e,i,r,o]);var u=Lye(n,l[0],l[1]);return zye(function(){c.hasValue=!0,c.value=u},[u]),Wye(u),u};wZ.exports=xZ;var $ye=wZ.exports;const qye=MN($ye),EZ={},{useDebugValue:Hye}=or,{useSyncExternalStoreWithSelector:Gye}=qye;let GW=!1;const Xye=n=>n;function Kye(n,e=Xye,i){(EZ?"production":void 0)!=="production"&&i&&!GW&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),GW=!0);const r=Gye(n.subscribe,n.getState,n.getServerState||n.getInitialState,e,i);return Hye(r),r}const XW=n=>{(EZ?"production":void 0)!=="production"&&typeof n!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof n=="function"?Sye(n):n,i=(r,o)=>Kye(e,r,o);return Object.assign(i,e),i},ac=n=>n?XW(n):XW;function Yye(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var SZ=Yye,Zye=typeof Lt=="object"&&Lt&&Lt.Object===Object&&Lt,Jye=Zye,Qye=Jye,eve=typeof self=="object"&&self&&self.Object===Object&&self,tve=Qye||eve||Function("return this")(),AZ=tve,nve=AZ,ive=function(){return nve.Date.now()},rve=ive,sve=/\s/;function ove(n){for(var e=n.length;e--&&sve.test(n.charAt(e)););return e}var ave=ove,lve=ave,cve=/^\s+/;function uve(n){return n&&n.slice(0,lve(n)+1).replace(cve,"")}var dve=uve,hve=AZ,fve=hve.Symbol,CZ=fve,KW=CZ,TZ=Object.prototype,pve=TZ.hasOwnProperty,mve=TZ.toString,gk=KW?KW.toStringTag:void 0;function gve(n){var e=pve.call(n,gk),i=n[gk];try{n[gk]=void 0;var r=!0}catch{}var o=mve.call(n);return r&&(e?n[gk]=i:delete n[gk]),o}var bve=gve,yve=Object.prototype,vve=yve.toString;function wve(n){return vve.call(n)}var xve=wve,YW=CZ,_ve=bve,kve=xve,Eve="[object Null]",Sve="[object Undefined]",ZW=YW?YW.toStringTag:void 0;function Ave(n){return n==null?n===void 0?Sve:Eve:ZW&&ZW in Object(n)?_ve(n):kve(n)}var Cve=Ave;function Tve(n){return n!=null&&typeof n=="object"}var Dve=Tve,Nve=Cve,Pve=Dve,jve="[object Symbol]";function Ive(n){return typeof n=="symbol"||Pve(n)&&Nve(n)==jve}var Rve=Ive,Mve=dve,JW=SZ,Ove=Rve,QW=NaN,Fve=/^[-+]0x[0-9a-f]+$/i,Uve=/^0b[01]+$/i,Lve=/^0o[0-7]+$/i,Bve=parseInt;function zve(n){if(typeof n=="number")return n;if(Ove(n))return QW;if(JW(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=JW(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=Mve(n);var i=Uve.test(n);return i||Lve.test(n)?Bve(n.slice(2),i?2:8):Fve.test(n)?QW:+n}var Vve=zve,Wve=SZ,TI=rve,e$=Vve,$ve="Expected a function",qve=Math.max,Hve=Math.min;function Gve(n,e,i){var r,o,l,c,u,h,m=0,g=!1,y=!1,v=!0;if(typeof n!="function")throw new TypeError($ve);e=e$(e)||0,Wve(i)&&(g=!!i.leading,y="maxWait"in i,l=y?qve(e$(i.maxWait)||0,e):l,v="trailing"in i?!!i.trailing:v);function _(U){var V=r,B=o;return r=o=void 0,m=U,c=n.apply(B,V),c}function A(U){return m=U,u=setTimeout(T,e),g?_(U):c}function S(U){var V=U-h,B=U-m,K=e-V;return y?Hve(K,l-B):K}function C(U){var V=U-h,B=U-m;return h===void 0||V>=e||V<0||y&&B>=l}function T(){var U=TI();if(C(U))return N(U);u=setTimeout(T,S(U))}function N(U){return u=void 0,v&&r?_(U):(r=o=void 0,c)}function j(){u!==void 0&&clearTimeout(u),m=0,r=h=o=u=void 0}function O(){return u===void 0?c:N(TI())}function F(){var U=TI(),V=C(U);if(r=arguments,o=this,h=U,V){if(u===void 0)return A(h);if(y)return clearTimeout(u),u=setTimeout(T,e),_(h)}return u===void 0&&(u=setTimeout(T,e)),c}return F.cancel=j,F.flush=O,F}var Xve=Gve;const Kve=MN(Xve),Yve=ac(n=>({results:[],loading:!1,error:null,search:Kve(async e=>{if(!e.trim()){n({results:[],loading:!1,error:null});return}n({loading:!0,error:null});try{const{data:{user:i}}=await Re.auth.getUser();if(!i)throw new Error("No user found");const{data:r,error:o}=await Re.rpc("search_all",{search_query:e,user_id:i.id});if(o)throw console.error("Search error:",o),new Error(o.message);const l=(r||[]).map(c=>{const u={id:c.id,type:c.type,title:c.title,description:c.description,category:c.category};switch(c.type){case"job":return{...u,metadata:{company:c.company,location:c.location}};case"reference":return{...u,metadata:{email:c.email,referenceNumber:c.reference_number}};case"validator":return{...u,metadata:{email:c.email,skillName:c.skill_name}};default:return u}});n({results:l,loading:!1})}catch(i){console.error("Search error:",i),n({error:"Failed to search",loading:!1})}},300),clearResults:()=>n({results:[],error:null})})),DZ=()=>{const[n,e]=H.useState(""),[i,r]=H.useState(!1),[o,l]=H.useState(null),{results:c,loading:u,error:h,search:m,clearResults:g}=Yve(),y=ns(),v=H.useRef(null);H.useEffect(()=>{const T=N=>{v.current&&!v.current.contains(N.target)&&r(!1)};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[]),H.useEffect(()=>{(async()=>{const{data:{user:N}}=await la(()=>Promise.resolve().then(()=>AD),void 0).then(F=>F.supabase.auth.getUser());if(!N)return;const{data:j}=await la(async()=>{const{data:F}=await Promise.resolve().then(()=>AD);return{data:F}},void 0).then(F=>F.supabase.from("eit_profiles").select("id").eq("id",N.id).single()),{data:O}=await la(async()=>{const{data:F}=await Promise.resolve().then(()=>AD);return{data:F}},void 0).then(F=>F.supabase.from("supervisor_profiles").select("id").eq("id",N.id).single());O?l("supervisor"):j&&l("eit")})()},[]);const _=async T=>{if(e(T),T.trim()){r(!0);try{await m(T)}catch(N){console.error("Search error:",N),r(!0)}}else r(!1),g()},A=T=>{switch(r(!1),e(""),g(),T.type){case"document":y("/dashboard/documents"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("highlight-document",{detail:{documentId:T.id}}))},500);break;case"sao":y("/dashboard/saos"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("highlight-sao",{detail:{saoId:T.id}}))},500);break;case"skill":o==="eit"?(y("/dashboard/skills"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("scroll-to-skill",{detail:{skillId:T.id,timestamp:Date.now()}}))},500)):o==="supervisor"&&(y("/dashboard/supervisor/skills"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("scroll-to-skill",{detail:{skillId:T.id,timestamp:Date.now()}}))},500));break;case"job":y("/dashboard/references"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("scroll-to-item",{detail:{itemId:T.id,itemType:"job"}}))},500);break;case"reference":y("/dashboard/references"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("scroll-to-item",{detail:{itemId:T.id,itemType:"reference"}}))},500);break;case"validator":y("/dashboard/references"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("scroll-to-item",{detail:{itemId:T.id,itemType:"validator"}}))},500);break}},S=T=>{switch(T){case"document":return b.jsx(Sd,{size:16,className:"text-blue-500"});case"sao":return b.jsx(V8,{size:16,className:"text-amber-500"});case"skill":return b.jsx(Z1,{size:16,className:"text-green-500"});case"job":return b.jsx(m2,{size:16,className:"text-purple-500"});case"reference":return b.jsx(WS,{size:16,className:"text-indigo-500"});case"validator":return b.jsx(jm,{size:16,className:"text-teal-500"})}},C=T=>{if(!T.metadata)return null;switch(T.type){case"job":return`${T.metadata.company} • ${T.metadata.location}`;case"reference":return`Reference ${T.metadata.referenceNumber} • ${T.metadata.email}`;case"validator":return`${T.metadata.skillName} • ${T.metadata.email}`;default:return null}};return b.jsxs("div",{className:"relative",ref:v,children:[b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:"text",placeholder:"Search documents, SAOs, skills, jobs, references...",value:n,onChange:T=>_(T.target.value),className:"pl-9 pr-4 py-2 bg-slate-100 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 w-64"}),b.jsx(q8,{className:"absolute left-3 top-2.5 text-slate-400",size:18}),u&&b.jsx(wye,{className:"absolute right-3 top-2.5 text-slate-400 animate-spin",size:18})]}),i&&(n.trim()||c.length>0)&&b.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white rounded-lg shadow-lg border border-slate-200 max-h-96 overflow-y-auto z-50",children:h?b.jsx("div",{className:"px-4 py-3 text-sm text-red-500",children:h}):c.length>0?b.jsx("div",{className:"py-2",children:c.map(T=>b.jsxs("button",{onClick:()=>A(T),className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center space-x-3",children:[S(T.type),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:T.title}),T.description&&b.jsx("p",{className:"text-xs text-slate-500 truncate",children:T.description}),T.category&&b.jsx("p",{className:"text-xs text-slate-500",children:T.category}),C(T)&&b.jsx("p",{className:"text-xs text-slate-500",children:C(T)})]})]},`${T.type}-${T.id}`))}):b.jsx("div",{className:"px-4 py-3 text-sm text-slate-500",children:"No results found"})})]})},NZ=()=>{const[n,e]=H.useState(!1),[i,r]=H.useState(""),[o,l]=H.useState(""),[c,u]=H.useState(""),[h,m]=H.useState(null),g=H.useRef(null),y=ns();H.useEffect(()=>{(async()=>{var T,N,j;const{data:{user:C}}=await Re.auth.getUser();if(C){l(C.email||""),r(((T=C.user_metadata)==null?void 0:T.full_name)||((N=C.email)==null?void 0:N.split("@")[0])||"User"),u(((j=C.user_metadata)==null?void 0:j.avatar_url)||"");const{data:O}=await Re.from("eit_profiles").select("id").eq("id",C.id).single(),{data:F}=await Re.from("supervisor_profiles").select("id").eq("id",C.id).single();F?m("supervisor"):O&&m("eit")}})()},[]),H.useEffect(()=>{const S=C=>{g.current&&!g.current.contains(C.target)&&e(!1)};return document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[]);const v=async()=>{try{await Re.auth.signOut(),y("/login")}catch(S){console.error("Error signing out:",S)}},_=S=>S.split(" ").map(C=>C[0]).join("").toUpperCase().slice(0,2),A=()=>{y(h==="supervisor"?"/dashboard/supervisor/settings":"/dashboard/settings"),e(!1)};return b.jsxs("div",{className:"relative",ref:g,children:[b.jsxs("button",{className:"flex items-center space-x-2 focus:outline-none",onClick:()=>e(!n),children:[c?b.jsx("img",{src:c,alt:"Avatar",className:"w-8 h-8 rounded-full object-cover bg-teal-500 text-white"}):b.jsx("div",{className:"w-8 h-8 rounded-full bg-teal-500 flex items-center justify-center text-white",children:b.jsx("span",{className:"text-sm font-semibold",children:_(i)})}),b.jsx("span",{className:"hidden md:block text-sm font-medium",children:i}),b.jsx(VS,{size:16,className:`text-slate-500 transition-transform ${n?"rotate-180":""}`})]}),n&&b.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-1 z-50 border border-slate-200 animate-in fade-in slide-in-from-top-3 duration-200",children:[b.jsxs("div",{className:"px-4 py-2 border-b border-slate-200",children:[b.jsx("p",{className:"text-sm font-semibold",children:i}),b.jsx("p",{className:"text-xs text-slate-500",children:o})]}),b.jsxs("ul",{children:[b.jsx("li",{children:b.jsxs("button",{onClick:A,className:"w-full flex items-center px-4 py-2 text-sm text-slate-700 hover:bg-slate-50",children:[b.jsx(H8,{size:16,className:"mr-2"}),"Settings"]})}),b.jsx("li",{className:"border-t border-slate-200 mt-1",children:b.jsxs("button",{onClick:v,className:"w-full flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[b.jsx(W8,{size:16,className:"mr-2"}),"Sign out"]})})]})]})]})},p3=ac((n,e)=>({notifications:[],unreadCount:0,loading:!1,initialized:!1,initialize:async()=>{try{n({loading:!0});const{data:{user:i}}=await Re.auth.getUser();if(!i)return;const{data:r,error:o}=await Re.from("notifications").select("*").eq("user_id",i.id).order("created_at",{ascending:!1});if(o)throw o;n({notifications:r||[],unreadCount:(r==null?void 0:r.filter(l=>!l.read).length)||0,loading:!1,initialized:!0}),await e().setupRealtimeSubscriptions()}catch(i){console.error("Error initializing notifications:",i),n({loading:!1,initialized:!1})}},markAsRead:async i=>{try{const{error:r}=await Re.from("notifications").update({read:!0}).eq("id",i);if(r)throw r;n(o=>({notifications:o.notifications.map(l=>l.id===i?{...l,read:!0}:l),unreadCount:o.unreadCount-1}))}catch(r){console.error("Error marking notification as read:",r)}},markAllAsRead:async()=>{try{const{data:{user:i}}=await Re.auth.getUser();if(!i)return;const{error:r}=await Re.from("notifications").update({read:!0}).eq("user_id",i.id).eq("read",!1);if(r)throw r;n(o=>({notifications:o.notifications.map(l=>({...l,read:!0})),unreadCount:0}))}catch(i){console.error("Error marking all notifications as read:",i)}},clearNotifications:()=>{n({notifications:[],unreadCount:0})},setupRealtimeSubscriptions:async()=>{const{data:{user:i}}=await Re.auth.getUser();if(!i)return;const r=Re.channel("notifications-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${i.id}`},o=>{const l=o.new;n(c=>({notifications:[l,...c.notifications],unreadCount:l.read?c.unreadCount:c.unreadCount+1}))}).subscribe();window.addEventListener("unload",()=>{r.unsubscribe()})}}));function Qr(n){const e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function PZ(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}function Zve(n,e){const i=Qr(n);return isNaN(e)?PZ(n,NaN):(i.setDate(i.getDate()+e),i)}const GT=43200,t$=1440;let Jve={};function Qve(){return Jve}function n$(n){const e=Qr(n),i=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return i.setUTCFullYear(e.getFullYear()),+n-+i}function ewe(n,e){const i=e*7;return Zve(n,i)}function PD(n,e){const i=Qr(n),r=Qr(e),o=i.getTime()-r.getTime();return o<0?-1:o>0?1:o}function twe(n){return PZ(n,Date.now())}function nwe(n,e){const i=Qr(n),r=Qr(e),o=i.getFullYear()-r.getFullYear(),l=i.getMonth()-r.getMonth();return o*12+l}function iwe(n){return e=>{const r=(n?Math[n]:Math.trunc)(e);return r===0?0:r}}function rwe(n,e){return+Qr(n)-+Qr(e)}function swe(n){const e=Qr(n);return e.setHours(23,59,59,999),e}function owe(n){const e=Qr(n),i=e.getMonth();return e.setFullYear(e.getFullYear(),i+1,0),e.setHours(23,59,59,999),e}function awe(n){const e=Qr(n);return+swe(e)==+owe(e)}function lwe(n,e){const i=Qr(n),r=Qr(e),o=PD(i,r),l=Math.abs(nwe(i,r));let c;if(l<1)c=0;else{i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-o*l);let u=PD(i,r)===-o;awe(Qr(n))&&l===1&&PD(n,r)===1&&(u=!1),c=o*(l-Number(u))}return c===0?0:c}function cwe(n,e,i){const r=rwe(n,e)/1e3;return iwe(i==null?void 0:i.roundingMethod)(r)}const uwe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},dwe=(n,e,i)=>{let r;const o=uwe[n];return typeof o=="string"?r=o:e===1?r=o.one:r=o.other.replace("{{count}}",e.toString()),i!=null&&i.addSuffix?i.comparison&&i.comparison>0?"in "+r:r+" ago":r};function DI(n){return(e={})=>{const i=e.width?String(e.width):n.defaultWidth;return n.formats[i]||n.formats[n.defaultWidth]}}const hwe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},fwe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},pwe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mwe={date:DI({formats:hwe,defaultWidth:"full"}),time:DI({formats:fwe,defaultWidth:"full"}),dateTime:DI({formats:pwe,defaultWidth:"full"})},gwe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bwe=(n,e,i,r)=>gwe[n];function bk(n){return(e,i)=>{const r=i!=null&&i.context?String(i.context):"standalone";let o;if(r==="formatting"&&n.formattingValues){const c=n.defaultFormattingWidth||n.defaultWidth,u=i!=null&&i.width?String(i.width):c;o=n.formattingValues[u]||n.formattingValues[c]}else{const c=n.defaultWidth,u=i!=null&&i.width?String(i.width):n.defaultWidth;o=n.values[u]||n.values[c]}const l=n.argumentCallback?n.argumentCallback(e):e;return o[l]}}const ywe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},vwe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},wwe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},xwe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_we={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},kwe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ewe=(n,e)=>{const i=Number(n),r=i%100;if(r>20||r<10)switch(r%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},Swe={ordinalNumber:Ewe,era:bk({values:ywe,defaultWidth:"wide"}),quarter:bk({values:vwe,defaultWidth:"wide",argumentCallback:n=>n-1}),month:bk({values:wwe,defaultWidth:"wide"}),day:bk({values:xwe,defaultWidth:"wide"}),dayPeriod:bk({values:_we,defaultWidth:"wide",formattingValues:kwe,defaultFormattingWidth:"wide"})};function yk(n){return(e,i={})=>{const r=i.width,o=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],l=e.match(o);if(!l)return null;const c=l[0],u=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],h=Array.isArray(u)?Cwe(u,y=>y.test(c)):Awe(u,y=>y.test(c));let m;m=n.valueCallback?n.valueCallback(h):h,m=i.valueCallback?i.valueCallback(m):m;const g=e.slice(c.length);return{value:m,rest:g}}}function Awe(n,e){for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)&&e(n[i]))return i}function Cwe(n,e){for(let i=0;i<n.length;i++)if(e(n[i]))return i}function Twe(n){return(e,i={})=>{const r=e.match(n.matchPattern);if(!r)return null;const o=r[0],l=e.match(n.parsePattern);if(!l)return null;let c=n.valueCallback?n.valueCallback(l[0]):l[0];c=i.valueCallback?i.valueCallback(c):c;const u=e.slice(o.length);return{value:c,rest:u}}}const Dwe=/^(\d+)(th|st|nd|rd)?/i,Nwe=/\d+/i,Pwe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},jwe={any:[/^b/i,/^(a|c)/i]},Iwe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Rwe={any:[/1/i,/2/i,/3/i,/4/i]},Mwe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Owe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Fwe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Uwe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Lwe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Bwe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zwe={ordinalNumber:Twe({matchPattern:Dwe,parsePattern:Nwe,valueCallback:n=>parseInt(n,10)}),era:yk({matchPatterns:Pwe,defaultMatchWidth:"wide",parsePatterns:jwe,defaultParseWidth:"any"}),quarter:yk({matchPatterns:Iwe,defaultMatchWidth:"wide",parsePatterns:Rwe,defaultParseWidth:"any",valueCallback:n=>n+1}),month:yk({matchPatterns:Mwe,defaultMatchWidth:"wide",parsePatterns:Owe,defaultParseWidth:"any"}),day:yk({matchPatterns:Fwe,defaultMatchWidth:"wide",parsePatterns:Uwe,defaultParseWidth:"any"}),dayPeriod:yk({matchPatterns:Lwe,defaultMatchWidth:"any",parsePatterns:Bwe,defaultParseWidth:"any"})},Vwe={code:"en-US",formatDistance:dwe,formatLong:mwe,formatRelative:bwe,localize:Swe,match:zwe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Wwe(n,e,i){const r=Qve(),o=(i==null?void 0:i.locale)??r.locale??Vwe,l=2520,c=PD(n,e);if(isNaN(c))throw new RangeError("Invalid time value");const u=Object.assign({},i,{addSuffix:i==null?void 0:i.addSuffix,comparison:c});let h,m;c>0?(h=Qr(e),m=Qr(n)):(h=Qr(n),m=Qr(e));const g=cwe(m,h),y=(n$(m)-n$(h))/1e3,v=Math.round((g-y)/60);let _;if(v<2)return i!=null&&i.includeSeconds?g<5?o.formatDistance("lessThanXSeconds",5,u):g<10?o.formatDistance("lessThanXSeconds",10,u):g<20?o.formatDistance("lessThanXSeconds",20,u):g<40?o.formatDistance("halfAMinute",0,u):g<60?o.formatDistance("lessThanXMinutes",1,u):o.formatDistance("xMinutes",1,u):v===0?o.formatDistance("lessThanXMinutes",1,u):o.formatDistance("xMinutes",v,u);if(v<45)return o.formatDistance("xMinutes",v,u);if(v<90)return o.formatDistance("aboutXHours",1,u);if(v<t$){const A=Math.round(v/60);return o.formatDistance("aboutXHours",A,u)}else{if(v<l)return o.formatDistance("xDays",1,u);if(v<GT){const A=Math.round(v/t$);return o.formatDistance("xDays",A,u)}else if(v<GT*2)return _=Math.round(v/GT),o.formatDistance("aboutXMonths",_,u)}if(_=lwe(m,h),_<12){const A=Math.round(v/GT);return o.formatDistance("xMonths",A,u)}else{const A=_%12,S=Math.trunc(_/12);return A<3?o.formatDistance("aboutXYears",S,u):A<9?o.formatDistance("overXYears",S,u):o.formatDistance("almostXYears",S+1,u)}}function $we(n,e){return Wwe(n,twe(n),e)}function qwe(n,e){return ewe(n,-2)}const jZ=()=>{const[n,e]=H.useState(!1),[i,r]=H.useState(!1),o=H.useRef(null),{notifications:l,unreadCount:c,markAsRead:u,markAllAsRead:h}=p3(),m=ns();H.useEffect(()=>{const C=T=>{o.current&&!o.current.contains(T.target)&&(e(!1),r(!1))};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]);const g=async C=>{switch(C.read||await u(C.id),C.type){case"validation_request":m("/dashboard/supervisor/reviews");break;case"request":m("/dashboard/supervisor/team");break;case"score":m("/dashboard/skills");break;case"approval":m("/dashboard/skills");break;case"sao_feedback":m("/dashboard/supervisor/reviews");break}e(!1),r(!1)},y=C=>{switch(C){case"request":return"📝";case"score":return"⭐";case"approval":return"✅";case"validation_request":return"🔍";case"sao_feedback":return"📝";case"nudge":return"📣";default:return"📬"}},v=C=>b.jsx("div",{className:`p-3 border-b border-slate-100 hover:bg-slate-50 cursor-pointer ${C.read?"":"bg-slate-50"}`,onClick:()=>g(C),children:b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx("span",{className:"text-xl",children:y(C.type)}),b.jsxs("div",{className:"flex-1",children:[b.jsx("p",{className:"font-medium text-slate-800",children:C.title}),b.jsx("p",{className:"text-sm text-slate-600 mt-1",children:C.message}),b.jsx("p",{className:"text-xs text-slate-500 mt-1",children:$we(new Date(C.created_at),{addSuffix:!0})})]}),!C.read&&b.jsx("span",{className:"w-2 h-2 bg-teal-500 rounded-full mt-2"})]})},C.id),_=l.slice(0,5),A=qwe(new Date),S=l.filter(C=>new Date(C.created_at)>=A);return b.jsxs("div",{className:"relative inline-block",children:[b.jsxs("button",{className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100 relative",onClick:()=>e(!n),"aria-label":"Notifications",children:[b.jsx(U8,{size:20}),c>0&&b.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),n&&!i&&b.jsxs("div",{ref:o,className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-lg shadow-lg border border-slate-200 z-50",children:[b.jsxs("div",{className:"p-3 border-b border-slate-200 flex justify-between items-center",children:[b.jsx("h3",{className:"font-semibold text-slate-800",children:"Notifications"}),b.jsxs("div",{className:"flex items-center gap-2",children:[c>0&&b.jsx("button",{onClick:()=>h(),className:"text-sm text-teal-600 hover:text-teal-700",children:"Mark all as read"}),b.jsxs("button",{onClick:()=>r(!0),className:"text-sm text-slate-600 hover:text-slate-800 flex items-center gap-1",children:[b.jsx(V0,{size:14}),"View more"]})]})]}),b.jsx("div",{className:"max-h-96 overflow-y-auto",children:_.length>0?_.map(v):b.jsx("div",{className:"p-4 text-center text-slate-500",children:"No notifications"})})]}),i&&b.jsx("div",{className:"fixed inset-0 min-h-screen bg-black bg-opacity-50 z-50 flex items-center justify-center",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-lg mx-4 max-h-[80vh] flex flex-col",children:[b.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[b.jsx("h3",{className:"font-semibold text-slate-800",children:"Notification History"}),b.jsxs("div",{className:"flex items-center gap-2",children:[c>0&&b.jsx("button",{onClick:()=>h(),className:"text-sm text-teal-600 hover:text-teal-700",children:"Mark all as read"}),b.jsx("button",{onClick:()=>r(!1),className:"text-slate-500 hover:text-slate-700",children:b.jsx(As,{size:20})})]})]}),b.jsx("div",{className:"overflow-y-auto flex-1",children:S.length>0?S.map(v):b.jsx("div",{className:"p-4 text-center text-slate-500",children:"No notifications in the last 2 weeks"})})]})})]})},Hwe=({onMenuClick:n})=>b.jsxs("header",{className:"fixed top-0 right-0 left-0 md:left-64 bg-white/80 backdrop-blur-md z-10 border-b border-slate-200 px-4 py-3 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("button",{onClick:n,className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100 md:hidden","aria-label":"Menu",children:b.jsx(hZ,{size:24})}),b.jsx("div",{className:"ml-2 md:ml-0",children:b.jsx("h1",{className:"text-xl font-semibold text-slate-800",children:"EIT Progress"})})]}),b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("div",{className:"hidden md:block",children:b.jsx(DZ,{})}),b.jsx(jZ,{}),b.jsx(NZ,{})]})]}),Gwe=()=>{const n=[{name:"Home",path:"/dashboard",icon:b.jsx(h3,{size:20})},{name:"Skills",path:"/dashboard/skills",icon:b.jsx(vye,{size:20})},{name:"Documents",path:"/dashboard/documents",icon:b.jsx(Sd,{size:20})},{name:"Essays",path:"/dashboard/essays",icon:b.jsx(fZ,{size:20})},{name:"Help",path:"/dashboard/help",icon:b.jsx(j1,{size:20})}];return b.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 p-2 z-10",children:b.jsx("ul",{className:"flex justify-around",children:n.map(e=>b.jsx("li",{children:b.jsxs(y0,{to:e.path,className:({isActive:i})=>`flex flex-col items-center p-2 rounded-lg transition-colors ${i?"text-teal-600":"text-slate-500 hover:text-teal-600"}`,children:[b.jsx("span",{children:e.icon}),b.jsx("span",{className:"text-xs mt-1",children:e.name})]})},e.name))})})},Xwe=()=>{const[n,e]=H.useState(!1),[i,r]=H.useState(!0),o=H.useRef(0);H.useEffect(()=>{const u=()=>{const h=window.pageYOffset;h>o.current&&(o.current=h),h>300?(e(!0),r(!1)):h===0?(e(!0),r(!0)):(e(!1),r(!1))};return window.addEventListener("scroll",u),()=>{window.removeEventListener("scroll",u)}},[]);const l=()=>{window.scrollTo({top:0,behavior:"smooth"})},c=()=>{window.scrollTo({top:o.current,behavior:"smooth"})};return b.jsx("div",{className:`fixed bottom-20 md:bottom-6 right-6 transition-all duration-300 z-50 ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"}`,children:b.jsx("button",{onClick:i?c:l,className:`p-3 text-white rounded-full shadow-lg transition-all duration-300 transform hover:scale-110 active:scale-95 ${i?"bg-slate-600 hover:bg-slate-700":"bg-teal-600 hover:bg-teal-700"}`,"aria-label":i?"Scroll to last position":"Scroll to top",children:i?b.jsx(cye,{size:20}):b.jsx(dye,{size:20})})})},XT=[{name:"Category 1 – Technical Competence",skills:[{id:"temp-1",name:"1.1 Regulations, Codes & Standards",status:"not-started",rank:void 0},{id:"temp-2",name:"1.2 Technical & Design Constraints",status:"not-started",rank:void 0},{id:"temp-3",name:"1.3 Risk Management for Technical Work",status:"not-started",rank:void 0},{id:"temp-4",name:"1.4 Application of Theory",status:"not-started",rank:void 0},{id:"temp-5",name:"1.5 Solution Techniques – Results Verification",status:"not-started",rank:void 0},{id:"temp-6",name:"1.6 Safety in Design & Technical Work",status:"not-started",rank:void 0},{id:"temp-7",name:"1.7 Systems & Their Components",status:"not-started",rank:void 0},{id:"temp-8",name:"1.8 Project or Asset Life-Cycle Awareness",status:"not-started",rank:void 0},{id:"temp-9",name:"1.9 Quality Assurance",status:"not-started",rank:void 0},{id:"temp-10",name:"1.10 Engineering Documentation",status:"not-started",rank:void 0}]},{name:"Category 2 – Communication",skills:[{id:"temp-11",name:"2.1 Oral Communication (English)",status:"not-started",rank:void 0},{id:"temp-12",name:"2.2 Written Communication (English)",status:"not-started",rank:void 0},{id:"temp-13",name:"2.3 Reading & Comprehension (English)",status:"not-started",rank:void 0}]},{name:"Category 3 – Project & Financial Management",skills:[{id:"temp-14",name:"3.1 Project Management Principles",status:"not-started",rank:void 0},{id:"temp-15",name:"3.2 Finances & Budget",status:"not-started",rank:void 0}]},{name:"Category 4 – Team Effectiveness",skills:[{id:"temp-16",name:"4.1 Promote Team Effectiveness & Resolve Conflict",status:"not-started",rank:void 0}]},{name:"Category 5 – Professional Accountability",skills:[{id:"temp-17",name:"5.1 Professional Accountability (Ethics, Liability, Limits)",status:"not-started",rank:void 0}]},{name:"Category 6 – Social, Economic, Environmental & Sustainability",skills:[{id:"temp-18",name:"6.1 Protection of the Public Interest",status:"not-started",rank:void 0},{id:"temp-19",name:"6.2 Benefits of Engineering to the Public",status:"not-started",rank:void 0},{id:"temp-20",name:"6.3 Role of Regulatory Bodies",status:"not-started",rank:void 0},{id:"temp-21",name:"6.4 Application of Sustainability Principles",status:"not-started",rank:void 0},{id:"temp-22",name:"6.5 Promotion of Sustainability",status:"not-started",rank:void 0}]}],uf=ac((n,e)=>({skillCategories:XT,loading:!1,error:null,skills:[],lastFetched:null,clearState:()=>n({skillCategories:XT,loading:!1,error:null,skills:[],lastFetched:null}),setSkillCategories:i=>n({skillCategories:i}),loadUserSkills:async(i=!1)=>{var l;const r=Date.now(),o=e().lastFetched;if(!(!i&&o&&r-o<5*60*1e3)){n({loading:!0,error:null});try{console.log("Starting loadUserSkills...");const{data:{user:c}}=await Re.auth.getUser();if(!c)throw console.error("No authenticated user found"),new Error("No authenticated user found");console.log("User authenticated:",c.id),await Re.from("eit_profiles").upsert({id:c.id,full_name:((l=c.user_metadata)==null?void 0:l.full_name)||"",email:c.email||""});const[u,h]=await Promise.all([Re.from("skills").select("id, name, category"),Re.from("eit_skills").select("id, eit_id, skill_id, category_name, skill_name, rank, status").eq("eit_id",c.id)]),m=u.data||[];let g=h.data||[];if(console.log("Skills fetched from DB:",m.length),console.log("Existing user skills:",g.length),!g||g.length===0){console.log("No existing skills found, initializing for new user...");const v=XT.flatMap(C=>C.skills.map(T=>{const N=m.find(j=>j.name===T.name&&j.category===C.name);return N?{eit_id:c.id,skill_id:N.id,category_name:C.name,skill_name:T.name,rank:null,status:"not-started"}:(console.warn(`No matching DB skill found for: ${T.name} in ${C.name}`),null)}).filter(Boolean));console.log("Initializing skills:",v.length);const{error:_}=await Re.from("eit_skills").insert(v);if(_)throw console.error("Error initializing user skills:",_),_;console.log("Fetching newly initialized skills...");const{data:A,error:S}=await Re.from("eit_skills").select("id, eit_id, skill_id, category_name, skill_name, rank, status").eq("eit_id",c.id);if(S)throw console.error("Error fetching newly initialized skills:",S),S;g=A,console.log("New skills fetched:",g==null?void 0:g.length)}console.log("Updating store with user skills...");const y=XT.map(v=>({...v,skills:v.skills.map(_=>{const A=m.find(C=>C.name===_.name&&C.category===v.name);if(!A)throw new Error(`No matching DB skill found for: ${_.name} in ${v.name}`);const S=g==null?void 0:g.find(C=>C.skill_id===A.id);return{..._,id:A.id,category_name:A.category,rank:(S==null?void 0:S.rank)||void 0,status:(S==null?void 0:S.status)||"not-started"}})}));console.log("Setting updated categories in store:",y.length),n({skillCategories:y,skills:y.flatMap(v=>v.skills),lastFetched:r})}catch(c){throw console.error("Error in loadUserSkills:",{error:c,message:c.message,details:c.details,hint:c.hint}),n({error:`Failed to load skills: ${c.message||"Unknown error"}`}),c}finally{n({loading:!1})}}},updateSkillRank:async(i,r,o)=>{try{const{data:{user:l},error:c}=await Re.auth.getUser();if(c)throw console.error("Auth error:",c),new Error("Authentication error: "+c.message);if(!l)throw console.error("No authenticated user found"),new Error("No authenticated user found");console.log("Updating skill rank:",{categoryIndex:i,skillId:r,rank:o,userId:l.id});const u=e().skillCategories[i],h=u.skills.find(y=>y.id===r);if(!h)throw console.error("Skill not found:",{categoryIndex:i,skillId:r}),new Error("Skill not found");n(y=>({skillCategories:y.skillCategories.map((v,_)=>_===i?{...v,skills:v.skills.map(A=>A.id===r?{...A,rank:o||void 0,status:o?"completed":"not-started"}:A)}:v)}));const m={eit_id:l.id,skill_id:r,category_name:h.category_name||u.name,skill_name:h.name,rank:o||null,status:o?"completed":"not-started"};console.log("Sending update to Supabase:",m);const{error:g}=await Re.from("eit_skills").upsert(m,{onConflict:"eit_id,skill_id"});if(g)throw console.error("Supabase error:",{error:g,message:g.message,details:g.details,hint:g.hint,code:g.code}),await e().loadUserSkills(),g;console.log("Successfully updated skill rank")}catch(l){console.error("Error updating skill rank:",{error:l,message:l.message,details:l.details,hint:l.hint,code:l.code}),n({error:`Failed to update skill rank: ${l.message||"Unknown error"}`})}},consoleLogSkillCategories:()=>{console.log("Skill categories in store:",e().skillCategories)}})),H2=ac((n,e)=>({overallProgress:0,completedSkills:0,totalSkills:22,documentedExperiences:0,totalExperiences:24,supervisorApprovals:0,totalApprovals:24,lastUpdated:new Date().toISOString(),loading:!1,initialized:!1,lastFetched:null,clearState:()=>n({overallProgress:0,completedSkills:0,documentedExperiences:0,supervisorApprovals:0,lastUpdated:new Date().toISOString(),loading:!1,initialized:!1,lastFetched:null}),setupRealtimeSubscriptions:async()=>{const{data:{user:i}}=await Re.auth.getUser();if(!i)return;const r=Re.channel("experiences-changes").on("postgres_changes",{event:"*",schema:"public",table:"experiences",filter:`eit_id=eq.${i.id}`},()=>{console.log("📝 Experience change detected, updating progress..."),e().updateProgress()}).subscribe(),o=Re.channel("skills-changes").on("postgres_changes",{event:"*",schema:"public",table:"skills",filter:`eit_id=eq.${i.id}`},()=>{console.log("🎯 Skill change detected, updating progress..."),e().updateProgress()}).subscribe(),l=()=>{r.unsubscribe(),o.unsubscribe()};window.addEventListener("unload",l)},initialize:async(i=!1)=>{if(e().loading)return;const r=Date.now(),o=e().lastFetched;if(!(!i&&o&&r-o<5*60*1e3)){n({loading:!0});try{const{data:{user:l}}=await Re.auth.getUser();if(!l)throw new Error("No user found");const c=uf.getState();c.skillCategories.length===0&&await c.loadUserSkills(),await new Promise(C=>setTimeout(C,100));const u=c.skillCategories.reduce((C,T)=>C+T.skills.filter(N=>N.rank!==void 0).length,0),{data:h,error:m}=await Re.from("experiences").select("*").eq("eit_id",l.id);if(m)throw m;const{data:g,error:y}=await Re.from("experiences").select("*").eq("eit_id",l.id).eq("supervisor_approved",!0);if(y)throw y;const v=u/22,_=((h==null?void 0:h.length)||0)/24,A=((g==null?void 0:g.length)||0)/24,S=Math.round((v+_+A)/3*100);console.log("Progress calculation:",{completedSkills:u,skillsProgress:v,experiencesProgress:_,approvalsProgress:A,overallProgress:S}),n({overallProgress:S,completedSkills:u,documentedExperiences:(h==null?void 0:h.length)||0,supervisorApprovals:(g==null?void 0:g.length)||0,lastUpdated:new Date().toISOString(),loading:!1,initialized:!0,lastFetched:r}),await e().setupRealtimeSubscriptions()}catch(l){console.error("Error initializing progress:",l),n({loading:!1,initialized:!1})}}},updateProgress:async(i=!1)=>{if(e().loading)return;const r=Date.now(),o=e().lastFetched;if(!(!i&&o&&r-o<5*60*1e3)){n({loading:!0});try{const{data:{user:l}}=await Re.auth.getUser();if(!l)throw new Error("No user found");const c=uf.getState();c.skillCategories.length===0&&await c.loadUserSkills(),await new Promise(C=>setTimeout(C,100));const u=c.skillCategories.reduce((C,T)=>C+T.skills.filter(N=>N.rank!==void 0).length,0),{data:h,error:m}=await Re.from("experiences").select("*").eq("eit_id",l.id);if(m)throw m;const{data:g,error:y}=await Re.from("experiences").select("*").eq("eit_id",l.id).eq("supervisor_approved",!0);if(y)throw y;const v=u/22,_=((h==null?void 0:h.length)||0)/24,A=((g==null?void 0:g.length)||0)/24,S=Math.round((v+_+A)/3*100);console.log("Progress update calculation:",{completedSkills:u,skillsProgress:v,experiencesProgress:_,approvalsProgress:A,overallProgress:S}),n({overallProgress:S,completedSkills:u,documentedExperiences:(h==null?void 0:h.length)||0,supervisorApprovals:(g==null?void 0:g.length)||0,lastUpdated:new Date().toISOString(),loading:!1,lastFetched:r})}catch(l){console.error("Error updating progress:",l),n({loading:!1})}}}})),Kwe=[{name:"Dashboard",path:"/dashboard",icon:b.jsx(h3,{size:20})},{name:"Skills",path:"/dashboard/skills",icon:b.jsx(Z1,{size:20})},{name:"SAOs",path:"/dashboard/saos",icon:b.jsx(V8,{size:20})},{name:"Documents",path:"/dashboard/documents",icon:b.jsx(Sd,{size:20})},{name:"Jobs",path:"/dashboard/references",icon:b.jsx(cZ,{size:20})},{name:"Settings",path:"/dashboard/settings",icon:b.jsx(H8,{size:20})}],Ywe=[{name:"Help & Support",path:"/dashboard/help",icon:b.jsx(j1,{size:20})}],Zwe=({onClose:n})=>{const{overallProgress:e,loading:i}=H2(),r=Ed(),o=async()=>{await Re.auth.signOut()},l=c=>c==="/dashboard"?r.pathname==="/dashboard":r.pathname.startsWith(c);return b.jsxs("aside",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-slate-900 text-white flex flex-col",children:[b.jsx("div",{className:"p-4 border-b border-slate-800 flex items-center justify-center",children:b.jsx(y0,{to:"/dashboard",className:"cursor-pointer",children:b.jsx("img",{src:z0,alt:"Accreda Logo",className:"h-28 w-auto"})})}),b.jsxs("nav",{className:"flex-1 py-6",children:[b.jsx("ul",{className:"space-y-1 px-3",children:Kwe.map(c=>b.jsx("li",{children:b.jsxs(y0,{to:c.path,className:({isActive:u})=>`flex items-center px-3 py-2.5 rounded-lg transition-colors ${l(c.path)?"bg-teal-600 text-white":"text-slate-300 hover:text-white hover:bg-slate-800"}`,onClick:()=>{window.scrollTo({top:0,behavior:"smooth"}),n==null||n()},children:[b.jsx("span",{className:"mr-3",children:c.icon}),b.jsx("span",{children:c.name})]})},c.name))}),b.jsxs("div",{className:"mt-10 px-4",children:[b.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 mb-2 px-3",children:"Support"}),b.jsxs("ul",{className:"space-y-1 px-3",children:[Ywe.map(c=>b.jsx("li",{children:b.jsxs(y0,{to:c.path,className:({isActive:u})=>`flex items-center px-3 py-2.5 rounded-lg transition-colors ${l(c.path)?"bg-slate-800 text-white":"text-slate-400 hover:text-white hover:bg-slate-800"}`,onClick:()=>{window.scrollTo({top:0,behavior:"smooth"}),n==null||n()},children:[b.jsx("span",{className:"mr-3",children:c.icon}),b.jsx("span",{children:c.name})]})},c.name)),b.jsx("li",{children:b.jsxs("button",{onClick:o,className:"flex items-center px-3 py-2.5 rounded-lg transition-colors w-full text-slate-400 hover:text-white hover:bg-slate-800",children:[b.jsx(W8,{size:20,className:"mr-3"}),b.jsx("span",{children:"Sign Out"})]})})]})]})]}),b.jsxs("div",{className:"p-4 border-t border-slate-800 sticky bottom-0 bg-slate-900",children:[b.jsxs("div",{className:"mb-2 flex justify-between items-center",children:[b.jsx("h3",{className:"text-sm font-medium text-slate-300",children:"Program Progress"}),b.jsx("span",{className:"text-sm font-semibold text-teal-400",children:i?b.jsx("span",{className:"animate-pulse",children:"..."}):`${e}%`})]}),b.jsx("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden",children:b.jsx("div",{className:"h-full bg-teal-500 rounded-full transition-all duration-300",style:{width:i?"0%":`${e}%`}})})]})]})},Jwe=[{to:"/dashboard/supervisor",label:"Dashboard",icon:b.jsx(h3,{size:20})},{to:"/dashboard/supervisor/skills",label:"Skills",icon:b.jsx(Z1,{size:20})},{to:"/dashboard/supervisor/team",label:"Team",icon:b.jsx(WS,{size:20})},{to:"/dashboard/supervisor/reviews",label:"Reviews",icon:b.jsx(bye,{size:20})},{to:"/dashboard/supervisor/documents",label:"Documents",icon:b.jsx(Sd,{size:20})},{to:"/dashboard/supervisor/settings",label:"Settings",icon:b.jsx(H8,{size:20})}],Qwe=[{to:"/dashboard/supervisor/support",label:"Help & Support",icon:b.jsx(j1,{size:20})}],A6=({onClose:n})=>{const e=ns(),i=p3(o=>o.unreadCount),r=async()=>{await Re.auth.signOut(),e("/login")};return b.jsxs("aside",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-slate-900 text-white flex flex-col",children:[b.jsx("div",{className:"p-4 border-b border-slate-800 flex items-center justify-center",children:b.jsx(y0,{to:"/dashboard/supervisor",className:"cursor-pointer",children:b.jsx("img",{src:z0,alt:"Accreda Logo",className:"h-28 w-auto"})})}),b.jsxs("nav",{className:"flex-1 py-6",children:[b.jsx("ul",{className:"space-y-1 px-3",children:Jwe.map(o=>b.jsx("li",{className:"relative",children:b.jsxs(y0,{to:o.to,className:({isActive:l})=>`flex items-center px-3 py-2.5 rounded-lg transition-colors font-medium ${l?"bg-teal-600 text-white":"text-slate-300 hover:text-white hover:bg-slate-800"}`,end:o.to==="/dashboard/supervisor",onClick:n,children:[b.jsx("span",{className:"mr-3",children:o.icon}),b.jsx("span",{children:o.label}),o.label==="Reviews"&&i>0&&b.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]})},o.to))}),b.jsxs("div",{className:"mt-10 px-4",children:[b.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 mb-2 px-3",children:"Help & Support"}),b.jsxs("ul",{className:"space-y-1 px-3",children:[Qwe.map(o=>b.jsx("li",{children:b.jsxs(y0,{to:o.to,className:({isActive:l})=>`flex items-center px-3 py-2.5 rounded-lg transition-colors font-medium ${l?"bg-slate-800 text-white":"text-slate-400 hover:text-white hover:bg-slate-800"}`,onClick:n,children:[b.jsx("span",{className:"mr-3",children:o.icon}),b.jsx("span",{children:o.label})]})},o.to)),b.jsx("li",{children:b.jsxs("button",{onClick:()=>{r(),n==null||n()},className:"flex items-center px-3 py-2.5 rounded-lg transition-colors w-full text-slate-400 hover:text-white hover:bg-slate-800",children:[b.jsx(W8,{size:20,className:"mr-3"}),b.jsx("span",{children:"Sign Out"})]})})]})]})]})]})},e1e=()=>b.jsxs("aside",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-slate-900 text-white flex flex-col animate-pulse [animation-duration:2s]",children:[b.jsx("div",{className:"p-4 border-b border-slate-800 flex items-center justify-center",children:b.jsx("img",{src:z0,alt:"Accreda Logo",className:"h-28 w-auto"})}),b.jsx("div",{className:"flex-1 py-6 space-y-4 px-6",children:[...Array(6)].map((n,e)=>b.jsx("div",{className:"h-8 bg-slate-800/80 rounded-lg"},e))}),b.jsxs("div",{className:"p-4 border-t border-slate-800 bg-slate-900",children:[b.jsx("div",{className:"h-4 bg-slate-800/80 rounded w-1/2 mb-2"}),b.jsx("div",{className:"h-2 bg-slate-800/80 rounded w-full"})]})]}),i$=({onClose:n})=>{const[e,i]=H.useState(null),[r,o]=H.useState(!0);return H.useEffect(()=>{(async()=>{o(!0);const{data:{user:c}}=await Re.auth.getUser();if(c){const{data:u}=await Re.from("eit_profiles").select("id").eq("id",c.id).single(),{data:h}=await Re.from("supervisor_profiles").select("id").eq("id",c.id).single();i(h?"supervisor":u?"eit":null)}o(!1)})()},[]),r?b.jsx(e1e,{}):e==="supervisor"?b.jsx(A6,{onClose:n}):b.jsx(Zwe,{onClose:n})},t1e=({appLoaded:n})=>{const[e,i]=H.useState(!1);return b.jsxs("div",{className:"min-h-screen bg-[#F5F7FA]",children:[b.jsx("div",{className:"hidden md:block",children:b.jsx(i$,{})}),e&&b.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[b.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:()=>i(!1)}),b.jsx("div",{className:"fixed inset-y-0 left-0 w-full max-w-xs bg-white shadow-xl",children:b.jsx(i$,{onClose:()=>i(!1)})})]}),b.jsxs("div",{className:"md:pl-64 flex flex-col min-h-screen",children:[b.jsx(Hwe,{onMenuClick:()=>i(!0)}),b.jsx("main",{className:"flex-1 p-4 md:p-6 pt-20 md:pt-24 pb-20 md:pb-6",children:b.jsx(iK,{context:{appLoaded:n}})}),b.jsx("div",{className:"md:hidden",children:b.jsx(Gwe,{})}),b.jsx(Xwe,{})]})]})},IZ="https://openrouter.ai/api/v1/chat/completions",RZ="https://accreda.com",MZ="Accreda",OZ="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",n1e=async n=>{var o,l,c;const e=`You are an expert in writing professional Situation-Action-Outcome (SAO) statements. Please enhance the following SAO statement following these specific guidelines:

1. Structure:
   - Situation: Clearly describe the context, challenge, or problem faced
   - Action: Detail the specific steps taken, emphasizing your personal involvement
   - Outcome: Quantify results and highlight the impact of your actions

2. Best Practices:
   - Use active voice and strong action verbs
   - Include specific metrics and numbers where possible
   - Focus on your personal contributions and leadership
   - Highlight problem-solving and decision-making skills
   - Maintain a professional and confident tone
   - Keep the statement concise but impactful

3. Key Elements to Include:
   - Clear problem statement
   - Specific actions taken
   - Measurable results
   - Skills demonstrated
   - Impact on the organization/team

Please enhance the following SAO statement while maintaining its core message and following these guidelines:

${n}

Format the response as a clear SAO statement with Situation, Action, and Outcome sections clearly separated.`,i=await fetch(IZ,{method:"POST",headers:{Authorization:`Bearer ${OZ}`,"HTTP-Referer":RZ,"X-Title":MZ,"Content-Type":"application/json"},body:JSON.stringify({model:"meta-llama/llama-3.1-8b-instruct:free",messages:[{role:"user",content:e}]})});if(!i.ok){const u=await i.text();throw new Error(`OpenRouter API error: ${i.status} - ${u}`)}return((c=(l=(o=(await i.json()).choices)==null?void 0:o[0])==null?void 0:l.message)==null?void 0:c.content)||""},i1e=async n=>{var o,l,c;const e=`You are an expert in improving the clarity and grammar of professional writing. Please enhance the following text by:

1. Fixing any grammatical errors
2. Improving sentence structure and flow
3. Enhancing clarity while maintaining the original meaning
4. Using more precise and professional language
5. Maintaining the original tone and style
6. Preserving all specific details, numbers, and technical terms

Please provide the enhanced version with clear markdown formatting to show the changes:

${n}

Format the response as a markdown diff, showing the original text with strikethrough and the improved text in bold.`,i=await fetch(IZ,{method:"POST",headers:{Authorization:`Bearer ${OZ}`,"HTTP-Referer":RZ,"X-Title":MZ,"Content-Type":"application/json"},body:JSON.stringify({model:"meta-llama/llama-3.1-8b-instruct:free",messages:[{role:"user",content:e}]})});if(!i.ok){const u=await i.text();throw new Error(`OpenRouter API error: ${i.status} - ${u}`)}return((c=(l=(o=(await i.json()).choices)==null?void 0:o[0])==null?void 0:l.message)==null?void 0:c.content)||""},G8=({feedback:n,onResolve:e,onSubmitFeedback:i,isSupervisor:r,saoContent:o})=>{const[l,c]=H.useState(""),[u,h]=H.useState(!1),[m,g]=H.useState(0),[y,v]=H.useState(!1),[_,A]=H.useState(null);H.useEffect(()=>{(async()=>{if(n.length>0){const{count:U}=await Re.from("sao_annotation").select("id",{count:"exact",head:!0}).eq("sao_id",n[0].sao_id);g(U||0)}})()},[n]);const S=async F=>{if(F.preventDefault(),!(!l.trim()&&m===0)){h(!0);try{await i(n[0].sao_id,l),c("")}catch(U){console.error("Error submitting feedback:",U)}finally{h(!1)}}},C=async()=>{if(o){v(!0);try{const F=await i1e(o);A(F)}catch(F){console.error("Error in handleEnhanceClarity:",F),alert(F instanceof Error?F.message:"Failed to enhance text. Please try again.")}finally{v(!1)}}},T=()=>{_&&(c(F=>{const U=_.replace(/~~(.*?)~~/g,"").replace(/\*\*(.*?)\*\*/g,"$1");return F?`${F}

Enhanced Version:
${U}`:`Enhanced Version:
${U}`}),A(null))},N=()=>{A(null)},j=F=>{switch(F){case"pending":return b.jsx(T0,{className:"text-yellow-500",size:16});case"submitted":return b.jsx(jm,{className:"text-green-500",size:16});case"resolved":return b.jsx(vZ,{className:"text-slate-400",size:16});default:return null}},O=F=>{switch(F){case"pending":return"Pending Review";case"submitted":return"Feedback Submitted";case"resolved":return"Resolved";default:return F}};return b.jsxs("div",{className:"mt-6 border-t pt-6",children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Supervisor Feedback"}),n.length>0?b.jsx("div",{className:"space-y-4",children:n.map(F=>b.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[j(F.status),b.jsx("span",{className:"text-sm font-medium text-slate-700",children:O(F.status)})]}),r&&F.status==="submitted"&&!1]}),F.feedback&&b.jsx("p",{className:"text-slate-600 whitespace-pre-wrap",children:F.feedback}),b.jsx("div",{className:"mt-2 text-xs text-slate-500",children:new Date(F.updated_at).toLocaleDateString()})]},F.id))}):b.jsx("p",{className:"text-slate-500 italic",children:"No feedback yet."}),r&&n.length>0&&n[0].status==="pending"&&b.jsxs("form",{onSubmit:S,className:"mt-4",children:[o&&b.jsx("div",{className:"mb-4",children:b.jsxs("button",{type:"button",onClick:C,disabled:!o||u||y,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-teal-600 hover:text-teal-700 hover:bg-teal-50 rounded-md transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:[b.jsx(mZ,{size:16,className:y?"animate-pulse":""}),y?"Enhancing...":"Enhance Clarity"]})}),_&&b.jsxs("div",{className:"mb-4 p-4 bg-slate-50 rounded-lg",children:[b.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:_}}),b.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[b.jsx("button",{type:"button",onClick:T,className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 hover:bg-teal-700 rounded-md transition-all duration-300 hover:scale-105 active:scale-95",children:"Accept Changes"}),b.jsx("button",{type:"button",onClick:N,className:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-800 hover:bg-slate-100 rounded-md transition-all duration-300 hover:scale-105 active:scale-95",children:"Decline"})]})]}),b.jsx("textarea",{value:l,onChange:F=>c(F.target.value),placeholder:"Enter your feedback...",className:"w-full px-4 py-3 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",rows:4,disabled:u}),b.jsx("div",{className:"mt-2 flex justify-end",children:b.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u||!l.trim()&&m===0,children:u?"Submitting...":"Submit Feedback"})})]})]})},r1e=({isOpen:n,onClose:e,skillName:i,saos:r,jobs:o})=>{const l=ns();if(!n)return null;const c=h=>{l(`/saos?saoId=${h}`),e()},u=h=>{l(`/references?jobId=${h}`),e()};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:b.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsxs("h3",{className:"text-lg font-semibold",children:["Linked Items for ",i]}),b.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600",children:b.jsx(As,{size:24})})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Linked SAOs"}),b.jsx("div",{className:"space-y-4",children:r.length>0?r.map(h=>b.jsxs("div",{className:"border rounded-lg p-4 hover:bg-slate-50",children:[b.jsxs("div",{className:"flex justify-between items-start mb-2",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("h4",{className:"font-medium text-slate-900",children:h.title}),h.feedback&&h.feedback.length>0&&b.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[b.jsx(T0,{size:14,className:"text-blue-500"}),b.jsx("span",{className:"text-xs text-blue-600",children:h.feedback.some(m=>m.status==="pending")?"Feedback Pending":"Has Feedback"})]})]}),b.jsx("button",{onClick:()=>c(h.id),className:"p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Open SAO",children:b.jsx(B8,{size:18})})]}),b.jsx("p",{className:"text-sm text-slate-600",children:h.content}),h.feedback&&h.feedback.length>0&&b.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200",children:b.jsx(G8,{feedback:h.feedback,onResolve:async()=>Promise.resolve(),onSubmitFeedback:async()=>Promise.resolve(),isSupervisor:!1})}),b.jsxs("div",{className:"mt-2 text-xs text-slate-500",children:["Created: ",new Date(h.created_at).toLocaleDateString()]})]},h.id)):b.jsx("p",{className:"text-slate-500 italic",children:"No SAOs linked to this skill yet."})})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Linked Jobs"}),b.jsx("div",{className:"space-y-4",children:o.length>0?o.map(h=>b.jsxs("div",{className:"border rounded-lg p-4 hover:bg-slate-50",children:[b.jsxs("div",{className:"flex justify-between items-start mb-2",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"font-medium text-slate-900",children:h.title}),b.jsx("p",{className:"text-sm text-slate-600",children:h.company})]}),b.jsx("button",{onClick:()=>u(h.id),className:"p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Open Job",children:b.jsx(m2,{size:18})})]}),b.jsxs("div",{className:"mt-2 text-xs text-slate-500",children:[new Date(h.start_date).toLocaleDateString()," - ",h.end_date?new Date(h.end_date).toLocaleDateString():"Present"]})]},h.id)):b.jsx("p",{className:"text-slate-500 italic",children:"No jobs linked to this skill yet."})})]})]}),b.jsx("div",{className:"flex justify-end mt-6",children:b.jsx("button",{onClick:e,className:"btn btn-primary",children:"Close"})})]})})},s1e=H.memo(({skill:n,categoryIndex:e,onRankChange:i,getStatusIcon:r,getStatusLabel:o,getStatusClass:l,getRankColor:c,getRankLabel:u,skillRef:h,linkedSkillIds:m,fetchLinkedItems:g})=>{const[y,v]=H.useState(!1),[_,A]=H.useState([]),[S,C]=H.useState([]),[T,N]=H.useState(!1),j=m.has(n.id),O=async()=>{N(!0);try{const{saos:F,jobs:U}=await g(n.id);A(F),C(U),v(!0)}catch(F){console.error("Error fetching linked items:",F)}finally{N(!1)}};return b.jsxs(b.Fragment,{children:[b.jsxs("div",{ref:h,className:"flex items-center justify-between p-3 rounded-lg border hover:border-slate-300 hover:bg-slate-50 transition-colors",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"mr-3",children:r(n)}),b.jsx("span",{className:"font-medium",children:n.name})]}),b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsx("button",{onClick:O,className:`p-2 rounded-full transition-colors ${j?"text-amber-500 hover:text-amber-600 hover:bg-amber-50 shadow-[0_0_8px_rgba(245,158,11,0.5)]":"text-slate-400 hover:text-slate-600 hover:bg-slate-100"}`,title:j?"View linked items":"No linked items",disabled:T,children:b.jsx(Sd,{size:18,className:T?"animate-pulse":""})}),b.jsxs("div",{className:"relative",children:[b.jsxs("select",{value:n.rank||"",onChange:F=>{i(e,n.id,Number(F.target.value))},className:`appearance-none px-3 py-1.5 rounded-full text-sm font-medium ${c(n.rank)} border-0 focus:ring-2 focus:ring-teal-500 focus:outline-none cursor-pointer`,children:[b.jsx("option",{value:"",children:"Not Ranked"}),[1,2,3,4,5].map(F=>b.jsxs("option",{value:F,children:[F," - ",u(F)]},F))]}),b.jsx(VS,{size:16,className:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none text-current"})]}),b.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full ${l(n)}`,children:o(n)})]})]}),b.jsx(r1e,{isOpen:y,onClose:()=>v(!1),skillName:n.name,saos:_,jobs:S})]})}),o1e=H.memo(({category:n,categoryIndex:e,onRankChange:i,getStatusIcon:r,getStatusLabel:o,getStatusClass:l,getRankColor:c,getRankLabel:u,getCategoryProgress:h,calculateCategoryMean:m,getMeanColor:g,showRequirementWarning:y,getRequirementMessage:v,skillRefs:_,linkedSkillIds:A,fetchLinkedItems:S})=>{const C=h(n.skills),{mean:T,isComplete:N}=m(n.skills);return b.jsxs("div",{className:"card",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("h2",{className:"text-lg font-semibold",children:n.name}),N&&b.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${g(T)}`,children:[b.jsx(d3,{size:16}),b.jsxs("span",{className:"text-sm font-medium",children:["Mean Score: ",T]})]})]}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-green-100 text-green-700 mr-2",children:b.jsx("span",{className:"text-sm font-bold",children:C.completed})}),b.jsx("div",{children:b.jsx("p",{className:"text-xs font-medium",children:"Completed"})})]}),b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-slate-100 text-slate-700 mr-2",children:b.jsx("span",{className:"text-sm font-bold",children:C.notStarted})}),b.jsx("div",{children:b.jsx("p",{className:"text-xs font-medium",children:"Not Started"})})]})]})]}),N&&y(n.name,T)&&b.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:b.jsxs("div",{className:"flex items-start gap-2",children:[b.jsx(F8,{size:18,className:"text-red-600 mt-0.5 flex-shrink-0"}),b.jsxs("div",{children:[b.jsx("p",{className:"text-sm font-medium text-red-800",children:"Warning: This category does not meet the minimum requirements"}),b.jsx("p",{className:"text-sm text-red-600 mt-1",children:v(n.name,T)})]})]})}),b.jsx("div",{className:"space-y-3",children:n.skills.map(j=>b.jsx(s1e,{skill:j,categoryIndex:e,onRankChange:i,getStatusIcon:r,getStatusLabel:o,getStatusClass:l,getRankColor:c,getRankLabel:u,skillRef:O=>_.current[j.id]=O,linkedSkillIds:A,fetchLinkedItems:S},j.id))})]})}),a1e=()=>{const{skillCategories:n,updateSkillRank:e,loadUserSkills:i,loading:r,error:o}=uf(),l=H.useRef({}),[c,u]=H.useState(new Set),h=H.useRef({});H.useEffect(()=>{i()},[i]),H.useEffect(()=>{(async()=>{try{const{data:{user:B}}=await Re.auth.getUser();if(!B)return;const[{data:K},{data:oe}]=await Promise.all([Re.from("saos").select("*, sao_skills(skill_id)").eq("eit_id",B.id),Re.from("jobs").select("id, skills").eq("eit_id",B.id)]),me=K||[],Q=oe||[],ge=new Set;me.forEach($=>{$.sao_skills&&$.sao_skills.forEach(De=>ge.add(De.skill_id))}),Q.forEach($=>{Array.isArray($.skills)&&$.skills.forEach(De=>ge.add(De))}),u(ge)}catch(B){console.error("Error fetching all linked items:",B)}})()},[i]);const m=async V=>{if(h.current[V])return h.current[V];const{data:{user:B}}=await Re.auth.getUser();if(!B)return{saos:[],jobs:[]};const{data:K}=await Re.from("saos").select("*, sao_skills!inner(skill_id)").eq("eit_id",B.id).eq("sao_skills.skill_id",V),oe=K||[],{data:me}=await Re.from("jobs").select("*").eq("eit_id",B.id).contains("skills",[V]),Q=me||[];return h.current[V]={saos:oe,jobs:Q},{saos:oe,jobs:Q}};H.useEffect(()=>{const V=B=>{const{skillId:K,timestamp:oe}=B.detail;console.log("Scroll event received:",{skillId:K,timestamp:oe}),setTimeout(()=>{const me=l.current[K];console.log("Looking for element:",{skillId:K,element:me}),me?(console.log("Scrolling to element"),me.scrollIntoView({behavior:"smooth",block:"center"}),me.classList.add("ring","ring-teal-400"),setTimeout(()=>me.classList.remove("ring","ring-teal-400"),1500)):(console.log("Element not found, retrying in 100ms"),setTimeout(()=>{const Q=l.current[K];Q&&(Q.scrollIntoView({behavior:"smooth",block:"center"}),Q.classList.add("ring","ring-teal-400"),setTimeout(()=>Q.classList.remove("ring","ring-teal-400"),1500))},100))},100)};return window.addEventListener("scroll-to-skill",V),()=>window.removeEventListener("scroll-to-skill",V)},[]);const g=H.useCallback(async(V,B,K)=>{try{console.log("Updating skill rank for skillId:",B,typeof B),await e(V,B,K)}catch(oe){console.error("Error in handleRankChange:",oe)}},[e]),y=H.useCallback(V=>V.reduce((B,K)=>(K.rank!==void 0?B.completed++:B.notStarted++,B),{completed:0,notStarted:0}),[]),v=H.useCallback(V=>{const B=V.filter(oe=>oe.rank!==void 0);if(B.length!==V.length)return{mean:0,isComplete:!1};const K=B.reduce((oe,me)=>oe+(me.rank||0),0);return{mean:Number((K/V.length).toFixed(1)),isComplete:!0}},[]),_=H.useCallback(V=>V>=4.5?"bg-green-100 text-green-700":V>=3.5?"bg-blue-100 text-blue-700":V>=2.5?"bg-yellow-100 text-yellow-700":V>=1.5?"bg-orange-100 text-orange-700":"bg-red-100 text-red-700",[]),A=H.useCallback(V=>V.status==="completed"?b.jsx(jm,{size:18,className:"text-green-500"}):V.status==="in-progress"?b.jsx(_ye,{size:18,className:"text-amber-500"}):V.rank!==void 0?b.jsx(mye,{size:18,className:"text-green-500"}):b.jsx(gye,{size:18,className:"text-slate-300"}),[]),S=H.useCallback(V=>V.rank!==void 0||V.status==="completed"?"Completed":V.status==="in-progress"?"In Progress":"Not Started",[]),C=H.useCallback(V=>V.rank!==void 0||V.status==="completed"?"bg-green-100 text-green-800":V.status==="in-progress"?"bg-amber-100 text-amber-800":"bg-slate-100 text-slate-800",[]),T=H.useCallback(V=>{if(!V)return"bg-slate-100 text-slate-600";switch(V){case 1:return"bg-red-100 text-red-600";case 2:return"bg-orange-100 text-orange-600";case 3:return"bg-yellow-100 text-yellow-600";case 4:return"bg-blue-100 text-blue-600";case 5:return"bg-green-100 text-green-600";default:return"bg-slate-100 text-slate-600"}},[]),N=H.useCallback(V=>{if(!V)return"Not Ranked";switch(V){case 1:return"Beginner";case 2:return"Basic";case 3:return"Intermediate";case 4:return"Advanced";case 5:return"Expert";default:return"Not Ranked"}},[]),j={"Category 1 – Technical Competence":3,"Category 2 – Communication":3,"Category 3 – Project & Financial Management":2,"Category 4 – Team Effectiveness":3,"Category 5 – Professional Accountability":3,"Category 6 – Social, Economic, Environmental & Sustainability":2},O=H.useCallback((V,B)=>{const K=j[V];return B<K},[]),F=H.useCallback((V,B)=>`A minimum average score of ${j[V]} is required for ${V}. Current average: ${B}`,[]),U=H.useMemo(()=>n.reduce((V,B)=>(B.skills.forEach(K=>{K.rank!==void 0?V.completed++:V.notStarted++}),V),{completed:0,notStarted:0}),[n]);return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Skills & Competencies"}),b.jsx("p",{className:"text-slate-500 mt-1",children:"Track and document your EIT program competencies"})]}),o&&b.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:b.jsxs("div",{className:"flex items-start gap-2",children:[b.jsx(F8,{size:18,className:"text-red-600 mt-0.5 flex-shrink-0"}),b.jsx("p",{className:"text-sm text-red-800",children:o})]})}),r?b.jsx("div",{className:"flex items-center justify-center py-12",children:b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"card p-6",children:[b.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Overall Progress"}),b.jsxs("div",{className:"flex flex-wrap gap-4",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center bg-green-100 text-green-700 mr-3",children:b.jsx("span",{className:"text-lg font-bold",children:U.completed})}),b.jsxs("div",{children:[b.jsx("p",{className:"font-medium",children:"Completed"}),b.jsx("p",{className:"text-sm text-slate-500",children:"Skills"})]})]}),b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center bg-slate-100 text-slate-700 mr-3",children:b.jsx("span",{className:"text-lg font-bold",children:U.notStarted})}),b.jsxs("div",{children:[b.jsx("p",{className:"font-medium",children:"Not Started"}),b.jsx("p",{className:"text-sm text-slate-500",children:"Skills"})]})]})]})]}),b.jsx("div",{className:"space-y-6",children:n.map((V,B)=>b.jsx(o1e,{category:V,categoryIndex:B,onRankChange:g,getStatusIcon:A,getStatusLabel:S,getStatusClass:C,getRankColor:T,getRankLabel:N,getCategoryProgress:y,calculateCategoryMean:v,getMeanColor:_,showRequirementWarning:O,getRequirementMessage:F,skillRefs:l,linkedSkillIds:c,fetchLinkedItems:m},V.name))})]})]})},l1e=H.memo(a1e),FZ=ac((n,e)=>({documents:[],loading:!1,error:null,lastFetched:null,clearState:()=>n({documents:[],loading:!1,error:null,lastFetched:null}),createDocument:async(i,r,o,l,c)=>{var u;n({loading:!0,error:null});try{const{data:{user:h},error:m}=await Re.auth.getUser();if(m)throw console.error("Auth error:",m),new Error("Authentication error: "+m.message);if(!h)throw new Error("No authenticated user found");await Re.from("eit_profiles").upsert({id:h.id,full_name:((u=h.user_metadata)==null?void 0:u.full_name)||"",email:h.email||""});const g=(l==null?void 0:l.type)||"text/plain",y=(l==null?void 0:l.size)||r.length,v=c||"Uncategorized";let _=r;if(l&&(g==="application/pdf"||g==="application/msword"||g==="application/vnd.openxmlformats-officedocument.wordprocessingml.document")){const C=await l.arrayBuffer();_=btoa(String.fromCharCode(...new Uint8Array(C)))}console.log("Creating document:",{title:i,type:o,eit_id:h.id,file_type:g,file_size:y,category:v});const{data:A,error:S}=await Re.from("documents").insert([{eit_id:h.id,title:i,content:_,type:o,status:"draft",word_count:r.split(/\s+/).length,file_type:g,file_size:y,category:v}]).select().single();if(S)throw S;n(C=>({documents:[...C.documents,A],loading:!1}))}catch(h){throw console.error("Error creating document:",h),n({error:h instanceof Error?h.message:"Failed to create document",loading:!1}),h}},updateDocument:async(i,r)=>{n({loading:!0,error:null});try{const{error:o}=await Re.from("documents").update(r).eq("id",i);if(o)throw o;n(l=>({documents:l.documents.map(c=>c.id===i?{...c,...r}:c),loading:!1}))}catch(o){throw console.error("Error updating document:",o),n({error:o instanceof Error?o.message:"Failed to update document",loading:!1}),o}},deleteDocument:async i=>{n({loading:!0,error:null});try{const{error:r}=await Re.from("documents").delete().eq("id",i);if(r)throw r;n(o=>({documents:o.documents.filter(l=>l.id!==i),loading:!1}))}catch(r){throw console.error("Error deleting document:",r),n({error:r instanceof Error?r.message:"Failed to delete document",loading:!1}),r}},loadUserDocuments:async()=>{n({loading:!0,error:null});try{const{data:{user:i},error:r}=await Re.auth.getUser();if(r)throw r;if(!i)throw new Error("No authenticated user found");const{data:o,error:l}=await Re.from("documents").select("*").eq("eit_id",i.id).order("created_at",{ascending:!1});if(l)throw l;const c=o.map(u=>{if(u.file_type&&(u.file_type==="application/pdf"||u.file_type==="application/msword"||u.file_type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"))try{const h=atob(u.content),m=new Uint8Array(h.length);for(let g=0;g<h.length;g++)m[g]=h.charCodeAt(g);u.content=m.buffer}catch(h){console.error("Error processing document content:",h)}return u});n({documents:c,loading:!1,lastFetched:new Date().toISOString()})}catch(i){console.error("Error loading documents:",i),n({error:i instanceof Error?i.message:"Failed to load documents",loading:!1})}}})),$S=ac((n,e)=>{let i=null;return{tier:"free",documentLimit:5,saoLimit:5,supervisorLimit:1,hasAiAccess:!1,isLoading:!1,error:null,fetchSubscription:async()=>{n({isLoading:!0,error:null});try{const{data:{user:r}}=await Re.auth.getUser();if(!r)throw new Error("No user found");const{data:o,error:l}=await Re.from("subscriptions").select("*").eq("user_id",r.id).single();if(l)throw l;if(o)n({tier:o.tier,documentLimit:o.document_limit,saoLimit:o.sao_limit,supervisorLimit:o.supervisor_limit,hasAiAccess:o.has_ai_access});else{const{error:c}=await Re.from("subscriptions").insert([{user_id:r.id}]);if(c)throw c}i&&i.unsubscribe(),i=Re.channel("subscription_changes").on("postgres_changes",{event:"*",schema:"public",table:"subscriptions",filter:`user_id=eq.${r.id}`},c=>{if(c.new){const u=c.new;n({tier:u.tier,documentLimit:u.document_limit,saoLimit:u.sao_limit,supervisorLimit:u.supervisor_limit,hasAiAccess:u.has_ai_access})}}).subscribe()}catch(r){n({error:r instanceof Error?r.message:"Failed to fetch subscription"})}finally{n({isLoading:!1})}},checkDocumentLimit:async()=>{const{documentLimit:r}=e();if(r===2147483647)return!0;const{data:{user:o}}=await Re.auth.getUser();if(!o)return!1;const{count:l}=await Re.from("documents").select("*",{count:"exact",head:!0}).eq("user_id",o.id);return(l||0)<r},checkSaoLimit:async()=>{const{saoLimit:r}=e();if(r===2147483647)return!0;const{data:{user:o}}=await Re.auth.getUser();if(!o)return!1;const{count:l}=await Re.from("saos").select("*",{count:"exact",head:!0}).eq("eit_id",o.id);return(l||0)<r},checkSupervisorLimit:async()=>{const{supervisorLimit:r}=e();if(r===2147483647)return!0;const{data:{user:o}}=await Re.auth.getUser();if(!o)return!1;const{count:l}=await Re.from("supervisor_eit_relationships").select("*",{count:"exact",head:!0}).eq("eit_id",o.id).eq("status","active");return(l||0)<r}}});function r$(n){const e=atob(n),i=e.length,r=new Uint8Array(i);for(let o=0;o<i;o++)r[o]=e.charCodeAt(o);return r}const UZ=({document:n,onClose:e})=>{const[i,r]=H.useState(!0),[o,l]=H.useState(null),c=()=>{if(!n.file_type)return b.jsx("div",{className:"p-4 text-center",children:"No file type information."});if(n.file_type.startsWith("text/"))return typeof n.content=="string"?b.jsx("pre",{className:"whitespace-pre-wrap p-4 bg-slate-50 rounded text-left text-slate-800 max-h-[500px] overflow-auto",children:n.content}):b.jsx("div",{className:"p-4 text-center text-red-600",children:"Error: Text file content is not a string."});if(n.file_type==="application/pdf")try{let u;if(typeof n.content=="string"){const h=r$(n.content);u=new Blob([h],{type:"application/pdf"})}else return l("PDF content is not a string."),null;return b.jsx("iframe",{src:URL.createObjectURL(u),className:"w-full h-[600px]",onLoad:()=>r(!1),title:"PDF Preview"})}catch{return l("Failed to decode or display PDF."),null}return n.file_type==="application/msword"||n.file_type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?b.jsxs("div",{className:"p-4 text-center",children:[b.jsx(Sd,{size:48,className:"mx-auto text-slate-400 mb-4"}),b.jsxs("p",{className:"text-slate-600",children:["Word documents can be previewed after downloading.",b.jsx("br",{}),b.jsxs("button",{onClick:()=>{try{let u;if(typeof n.content=="string"){const g=r$(n.content);u=new Blob([g],{type:n.file_type})}else{l("DOC content is not a string.");return}const h=URL.createObjectURL(u),m=window.document.createElement("a");m.href=h,m.download=n.title,window.document.body.appendChild(m),m.click(),window.document.body.removeChild(m),URL.revokeObjectURL(h)}catch{l("Failed to download DOC file.")}},className:"mt-2 inline-flex items-center gap-2 text-teal-600 hover:text-teal-700",children:[b.jsx(uZ,{size:16}),"Download to View"]})]})]}):b.jsx("div",{className:"p-4 text-center",children:b.jsx("p",{className:"text-slate-600",children:"Preview not available for this file type."})})};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:b.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] flex flex-col",children:[b.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[b.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:n.title}),b.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:text-slate-600",children:b.jsx(As,{size:24})})]}),b.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[i&&!o&&b.jsx("div",{className:"flex items-center justify-center h-full",children:b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-teal-600"})}),o&&b.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-red-600",children:[b.jsx(C0,{size:32}),b.jsx("div",{className:"mt-2",children:o})]}),!o&&c()]})]})})},lw=({isOpen:n,onClose:e,children:i})=>n?b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-lg w-full relative",children:[b.jsx("button",{className:"absolute top-2 right-2 text-slate-400 hover:text-slate-600 text-xl font-bold",onClick:e,"aria-label":"Close",children:"×"}),i]})}):null,c1e=()=>{const{documents:n,loading:e,error:i,createDocument:r,updateDocument:o,deleteDocument:l,loadUserDocuments:c}=FZ(),{tier:u,documentLimit:h,fetchSubscription:m}=$S(),[g,y]=H.useState(0),[v,_]=H.useState(""),[A,S]=H.useState("all"),[C,T]=H.useState(!1),[N,j]=H.useState("all"),[O,F]=H.useState("date"),[U,V]=H.useState("desc"),[B,K]=H.useState(null),[oe,me]=H.useState(""),Q=or.useRef({}),[ge,$]=H.useState(null),[De,ie]=H.useState(null),[ce,X]=H.useState([]),[Y,ne]=H.useState(""),[ee,ue]=H.useState(!1),[Z,xe]=H.useState(null),[Ae,Oe]=H.useState(!1),[Pe,Me]=H.useState(null),[Ve,Le]=H.useState(!1),[Ee]=H.useState(()=>or.createRef()),we=()=>window.gapi?Promise.resolve():new Promise(le=>{const Ue=document.createElement("script");Ue.src="https://apis.google.com/js/api.js",Ue.onload=le,document.body.appendChild(Ue)}),ze=async()=>{Oe(!1),await we(),alert("Google Drive picker scaffolded. Add credentials and logic when ready."),Me("Imported content from Google Drive (simulated)."),Le(!0)},G=()=>window.OneDrive?Promise.resolve():new Promise(le=>{const Ue=document.createElement("script");Ue.src="https://js.live.net/v7.2/OneDrive.js",Ue.onload=le,document.body.appendChild(Ue)}),Ce=async()=>{Oe(!1),await G(),alert("OneDrive picker scaffolded. Add credentials and logic when ready."),Me("Imported content from OneDrive (simulated)."),Le(!0)};H.useEffect(()=>{console.log("Documents component mounted"),c()},[c]),H.useEffect(()=>{console.log("Documents array updated:",{documentCount:n.length,documents:n})},[n]),H.useEffect(()=>{const le=Ue=>{const et=Ue.detail.documentId,nt=Q.current[et];nt&&(nt.scrollIntoView({behavior:"smooth",block:"center"}),nt.classList.add("ring","ring-teal-400","transition-all","duration-300"),setTimeout(()=>{nt.classList.remove("ring","ring-teal-400")},2e3))};return window.addEventListener("scroll-to-document",le),()=>window.removeEventListener("scroll-to-document",le)},[]),H.useEffect(()=>{(async()=>{await m();const{data:{user:Ue}}=await Re.auth.getUser();if(Ue){const{data:et}=await Re.from("subscriptions").select("document_created_count").eq("user_id",Ue.id).single();et&&typeof et.document_created_count=="number"&&y(et.document_created_count)}})()},[]),H.useEffect(()=>{De&&(async()=>{var le;xe(null),ue(!0);try{const{data:{user:Ue}}=await Re.auth.getUser();if(!Ue)return;const{data:et,error:nt}=await Re.from("supervisor_eit_relationships").select("supervisor_id, supervisor_profiles (id, full_name, email)").eq("eit_id",Ue.id).eq("status","active");if(nt)throw nt;const ct=(et||[]).map(ht=>ht.supervisor_profiles).filter(Boolean);X(ct),ne(((le=ct[0])==null?void 0:le.id)||"")}catch{xe("Failed to load supervisors.")}finally{ue(!1)}})()},[De]);const Ie=async le=>{var et;const Ue=(et=le.target.files)==null?void 0:et[0];if(Ue)try{console.log("Starting document creation process...");let nt="";const ct=Ue.type;ct.startsWith("text/")?nt=await Ue.text():nt=`File type (${ct}) not directly viewable. Will be stored.`,await r(Ue.name,nt,"other",Ue),console.log("Document creation completed successfully"),le.target.value=""}catch(nt){console.error("Document creation failed:",nt),alert("Failed to create document. Please try again.")}},be=async le=>{try{const Ue=new Blob([le.content],{type:"text/plain"}),et=URL.createObjectURL(Ue),nt=document.createElement("a");nt.href=et,nt.download=`${le.title}.txt`,document.body.appendChild(nt),nt.click(),document.body.removeChild(nt),URL.revokeObjectURL(et)}catch(Ue){console.error("Download failed:",Ue),alert("Failed to download document")}},_e=async le=>{if(window.confirm("Are you sure you want to delete this document?"))try{await l(le.id)}catch(Ue){console.error("Delete failed:",Ue),alert("Failed to delete document")}},Se=async le=>{K({id:le.id,title:le.title}),me(le.title)},He=async()=>{if(B)try{if(!n.find(Ue=>Ue.id===B.id))throw new Error("Document not found");await o(B.id,{title:oe}),K(null)}catch(le){console.error("Update failed:",le),alert("Failed to update document title")}},qe=le=>{$(le)},Fe=n.filter(le=>{const Ue=le.title.toLowerCase().includes(v.toLowerCase())||le.content.toLowerCase().includes(v.toLowerCase()),et=A==="all"||le.type===A,nt=N==="all"||le.status===N;return Ue&&et&&nt}).sort((le,Ue)=>O==="date"?U==="asc"?new Date(le.created_at).getTime()-new Date(Ue.created_at).getTime():new Date(Ue.created_at).getTime()-new Date(le.created_at).getTime():U==="asc"?le.title.localeCompare(Ue.title):Ue.title.localeCompare(le.title)),Te=["all",...new Set(n.map(le=>le.type))],ke=async()=>{if(!(!De||!Y)){ue(!0),xe(null);try{await o(De.id,{supervisor_id:Y}),ie(null)}catch{xe("Failed to share document.")}finally{ue(!1)}}};return b.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[b.jsx(lw,{isOpen:Ve,onClose:()=>Le(!1),children:b.jsxs("div",{className:"p-6",children:[b.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Imported Content Preview"}),b.jsx("div",{className:"bg-slate-50 p-4 rounded mb-4 whitespace-pre-wrap text-slate-800 min-h-[120px]",children:Pe}),b.jsx("button",{className:"btn btn-primary",onClick:()=>Le(!1),children:"Close"})]})}),b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Documents"}),b.jsx("p",{className:"text-slate-500 mt-1",children:"Upload, manage, and share your documents."})]}),b.jsxs("div",{className:"flex gap-2 items-center relative",children:[b.jsxs("button",{className:"btn flex items-center gap-2 bg-slate-100 hover:bg-slate-200 text-slate-700 border border-slate-200",onClick:()=>Oe(le=>!le),type:"button",children:[b.jsx(bZ,{size:18}),"Upload / Import"]}),Ae&&b.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-slate-200 rounded-lg shadow-lg z-10",children:[b.jsx("button",{className:"w-full text-left px-4 py-2 hover:bg-slate-100",onClick:()=>{var le;Oe(!1),(le=Ee.current)==null||le.click()},children:"Upload from Device"}),b.jsx("button",{className:"w-full text-left px-4 py-2 hover:bg-slate-100",onClick:ze,children:"Import from Google Drive"}),b.jsx("button",{className:"w-full text-left px-4 py-2 hover:bg-slate-100",onClick:Ce,children:"Import from OneDrive"})]}),b.jsx("input",{type:"file",className:"hidden",ref:Ee,onChange:Ie,disabled:u==="free"&&g>=h})]})]}),u==="free"&&b.jsx("div",{className:"p-4 mb-4 bg-yellow-50 border border-yellow-200 rounded-lg text-yellow-900 text-center font-semibold",children:g<h?`You have ${h-g} document${h-g===1?"":"s"} left on the Free plan.`:"You have reached your document upload limit for the Free plan. Upgrade to add more."}),b.jsx("div",{className:"flex items-center justify-between",children:b.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Documents"})}),b.jsxs("div",{className:"card p-4",children:[b.jsxs("div",{className:"flex flex-wrap gap-4",children:[b.jsx("div",{className:"flex-1 min-w-[200px]",children:b.jsxs("div",{className:"relative",children:[b.jsx(q8,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),b.jsx("input",{type:"text",value:v,onChange:le=>_(le.target.value),placeholder:"Search documents...",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500"}),v&&b.jsx("button",{onClick:()=>_(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:b.jsx(As,{size:16})})]})}),b.jsxs("button",{onClick:()=>T(!C),className:"btn btn-secondary flex items-center",children:[b.jsx(yye,{size:16,className:"mr-1.5"}),"Filters"]})]}),C&&b.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Type"}),b.jsx("select",{value:A,onChange:le=>S(le.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:Te.map(le=>b.jsx("option",{value:le,children:le.charAt(0).toUpperCase()+le.slice(1)},le))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),b.jsxs("select",{value:N,onChange:le=>j(le.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:[b.jsx("option",{value:"all",children:"All Statuses"}),b.jsx("option",{value:"draft",children:"Draft"}),b.jsx("option",{value:"submitted",children:"Submitted"}),b.jsx("option",{value:"approved",children:"Approved"}),b.jsx("option",{value:"rejected",children:"Rejected"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Sort By"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsxs("select",{value:O,onChange:le=>F(le.target.value),className:"flex-1 px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:[b.jsx("option",{value:"date",children:"Date"}),b.jsx("option",{value:"name",children:"Name"})]}),b.jsx("button",{onClick:()=>V(U==="asc"?"desc":"asc"),className:"px-3 py-2 border border-slate-200 rounded-lg hover:bg-slate-50",children:U==="asc"?"↑":"↓"})]})]})]})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Fe.map(le=>b.jsxs("div",{ref:Ue=>Q.current[le.id]=Ue,"data-document-id":le.id,className:"document-card bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200 ease-in-out",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[(B==null?void 0:B.id)===le.id?b.jsx("div",{className:"flex-1 mr-2",children:b.jsx("input",{type:"text",value:oe,onChange:Ue=>me(Ue.target.value),className:"w-full px-2 py-1 border border-slate-200 rounded",onKeyDown:Ue=>{Ue.key==="Enter"&&He(),Ue.key==="Escape"&&K(null)},autoFocus:!0})}):b.jsx("h3",{className:"font-semibold text-lg text-slate-800",children:le.title}),b.jsxs("div",{className:"flex space-x-1",children:[b.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-slate-700",onClick:()=>Se(le),children:b.jsx(g2,{size:16})}),b.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-slate-700",onClick:()=>qe(le),children:b.jsx(z8,{size:16})}),b.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-slate-700",onClick:()=>be(le),children:b.jsx(uZ,{size:16})}),b.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-red-600",onClick:()=>_e(le),children:b.jsx(D0,{size:16})})]})]}),le.file_type&&le.file_type.startsWith("text/")?b.jsx("p",{className:"text-sm text-slate-600 mt-2 line-clamp-2",children:le.content}):null,b.jsxs("div",{className:"flex justify-between items-center mt-4 pt-3 border-t border-slate-100",children:[b.jsxs("div",{className:"text-xs text-slate-500",children:[b.jsx("span",{children:new Date(le.created_at).toLocaleDateString()}),b.jsx("span",{className:"mx-2",children:"•"}),b.jsx("span",{className:"capitalize",children:le.status})]}),le.type==="other"?b.jsxs("button",{className:"text-xs px-2 py-1 rounded-full bg-teal-100 text-teal-700 flex items-center gap-1 hover:bg-teal-200 transition",onClick:()=>ie(le),title:"Share with Supervisor",children:[b.jsx(xye,{size:16})," Share"]}):b.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-600",children:le.type})]})]},le.id))}),ge&&b.jsx(UZ,{document:ge,onClose:()=>$(null)}),De&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:b.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md p-6",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx("h2",{className:"text-xl font-semibold",children:"Share Document"}),b.jsx("button",{onClick:()=>ie(null),className:"text-slate-400 hover:text-slate-600",children:b.jsx(As,{size:24})})]}),b.jsxs("div",{className:"mb-4",children:[b.jsxs("p",{className:"text-slate-700 mb-2",children:["Share ",b.jsx("span",{className:"font-semibold",children:De.title})," with your supervisor."]}),ee?b.jsx("div",{className:"text-slate-500 text-sm",children:"Loading supervisors..."}):ce.length===0?b.jsx("div",{className:"text-slate-500 text-sm",children:"No active supervisors found. Connect with a supervisor first."}):b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Supervisor"}),b.jsx("select",{value:Y,onChange:le=>ne(le.target.value),className:"input w-full mb-2",children:ce.map(le=>b.jsxs("option",{value:le.id,children:[le.full_name," (",le.email,")"]},le.id))})]}),Z&&b.jsx("div",{className:"text-red-600 text-sm mt-2",children:Z})]}),b.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[b.jsx("button",{type:"button",onClick:()=>ie(null),className:"btn btn-secondary",disabled:ee,children:"Cancel"}),b.jsx("button",{type:"button",className:`btn btn-primary ${!Y||ee?"opacity-50 cursor-not-allowed":""}`,disabled:!Y||ee,onClick:ke,children:ee?"Sending...":"Send"})]})]})}),Fe.length===0&&b.jsxs("div",{className:"text-center py-12",children:[b.jsx(Sd,{size:48,className:"mx-auto text-slate-400"}),b.jsx("h3",{className:"mt-4 text-lg font-medium text-slate-900",children:"No documents found"}),b.jsx("p",{className:"mt-2 text-slate-500",children:v||A!=="all"||N!=="all"?"Try adjusting your search or filters":"Get started by uploading your first document"})]}),e&&b.jsxs("div",{className:"text-center py-12",children:[b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 mx-auto"}),b.jsx("p",{className:"mt-4 text-slate-500",children:"Loading documents..."})]}),i&&b.jsxs("div",{className:"text-center py-12",children:[b.jsx(C0,{size:48,className:"mx-auto text-red-400"}),b.jsx("h3",{className:"mt-4 text-lg font-medium text-slate-900",children:"Error loading documents"}),b.jsx("p",{className:"mt-2 text-slate-500",children:i})]})]})},u1e=()=>{const n=[{id:1,title:"Technical Problem Analysis",description:"Self-Assessment Outcome (SAO) for problem analysis competency",status:"complete",updatedAt:"2025-04-12",wordCount:850},{id:2,title:"Team Leadership Experience",description:"SAO documenting leadership skills in team environments",status:"draft",updatedAt:"2025-04-08",wordCount:620},{id:3,title:"Project Management Methodology",description:"SAO for project planning and execution competency",status:"ai-assisted",updatedAt:"2025-04-02",wordCount:740},{id:4,title:"Professional Ethics Application",description:"SAO for ethical decision making in engineering",status:"in-review",updatedAt:"2025-03-25",wordCount:910}],e={complete:"bg-green-100 text-green-800 border-green-200",draft:"bg-slate-100 text-slate-800 border-slate-200","ai-assisted":"bg-purple-100 text-purple-800 border-purple-200","in-review":"bg-amber-100 text-amber-800 border-amber-200"},i={complete:b.jsx(fye,{size:16,className:"mr-1"}),draft:b.jsx(S6,{size:16,className:"mr-1"}),"ai-assisted":b.jsx(WW,{size:16,className:"mr-1"}),"in-review":b.jsx(V0,{size:16,className:"mr-1"})};return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Essays"}),b.jsx("p",{className:"text-slate-500 mt-1",children:"Manage your Self-Assessment Outcome (SAO) essays"})]}),b.jsx("div",{className:"card bg-gradient-to-br from-teal-500 to-teal-700 text-white p-6",children:b.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[b.jsxs("div",{className:"mb-4 md:mb-0",children:[b.jsx("h2",{className:"text-xl font-bold",children:"AI Essay Assistant"}),b.jsx("p",{className:"mt-1 text-teal-100",children:"Let our AI analyze your documented experiences and draft SAO essays that highlight your key competencies."})]}),b.jsxs("button",{className:"btn bg-white text-teal-700 hover:bg-teal-50 flex items-center self-start",children:[b.jsx(WW,{size:16,className:"mr-2"}),"Start New AI-Assisted Essay"]})]})}),b.jsxs("div",{className:"flex flex-col md:flex-row justify-between space-y-4 md:space-y-0",children:[b.jsxs("button",{className:"btn btn-primary flex items-center",children:[b.jsx(fZ,{size:16,className:"mr-1.5"}),"Create New Essay"]}),b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsxs("select",{className:"px-3 py-2 rounded-lg border border-slate-200 bg-white text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:[b.jsx("option",{value:"all",children:"All Essays"}),b.jsx("option",{value:"complete",children:"Completed"}),b.jsx("option",{value:"draft",children:"Drafts"}),b.jsx("option",{value:"ai-assisted",children:"AI-Assisted"}),b.jsx("option",{value:"in-review",children:"In Review"})]}),b.jsxs("select",{className:"px-3 py-2 rounded-lg border border-slate-200 bg-white text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:[b.jsx("option",{value:"recent",children:"Recently Updated"}),b.jsx("option",{value:"oldest",children:"Oldest First"}),b.jsx("option",{value:"alphabetical",children:"Alphabetical"})]})]})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(r=>b.jsxs("div",{className:"card hover:shadow-md transition-shadow",children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsx("h3",{className:"font-semibold text-lg text-slate-800",children:r.title}),b.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${e[r.status]}`,children:[i[r.status],r.status==="ai-assisted"?"AI Assisted":r.status.charAt(0).toUpperCase()+r.status.slice(1)]})]}),b.jsx("p",{className:"text-sm text-slate-600 mt-2",children:r.description}),b.jsxs("div",{className:"flex justify-between items-center mt-4 pt-3 border-t border-slate-100",children:[b.jsxs("div",{className:"text-xs text-slate-500",children:[b.jsxs("span",{children:["Updated ",new Date(r.updatedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]}),b.jsx("span",{className:"mx-2",children:"•"}),b.jsxs("span",{children:[r.wordCount," words"]})]}),b.jsxs("div",{className:"flex space-x-1",children:[b.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-slate-700",children:b.jsx(z8,{size:16})}),b.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-slate-700",children:b.jsx(S6,{size:16})}),b.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-red-600",children:b.jsx(D0,{size:16})})]})]})]},r.id))})]})},d1e={};function h1e(n,e){let i;try{i=n()}catch{return}return{getItem:o=>{var l;const c=h=>h===null?null:JSON.parse(h,void 0),u=(l=i.getItem(o))!=null?l:null;return u instanceof Promise?u.then(c):c(u)},setItem:(o,l)=>i.setItem(o,JSON.stringify(l,void 0)),removeItem:o=>i.removeItem(o)}}const G2=n=>e=>{try{const i=n(e);return i instanceof Promise?i:{then(r){return G2(r)(i)},catch(r){return this}}}catch(i){return{then(r){return this},catch(r){return G2(r)(i)}}}},f1e=(n,e)=>(i,r,o)=>{let l={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:C=>C,version:0,merge:(C,T)=>({...T,...C}),...e},c=!1;const u=new Set,h=new Set;let m;try{m=l.getStorage()}catch{}if(!m)return n((...C)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),i(...C)},r,o);const g=G2(l.serialize),y=()=>{const C=l.partialize({...r()});let T;const N=g({state:C,version:l.version}).then(j=>m.setItem(l.name,j)).catch(j=>{T=j});if(T)throw T;return N},v=o.setState;o.setState=(C,T)=>{v(C,T),y()};const _=n((...C)=>{i(...C),y()},r,o);let A;const S=()=>{var C;if(!m)return;c=!1,u.forEach(N=>N(r()));const T=((C=l.onRehydrateStorage)==null?void 0:C.call(l,r()))||void 0;return G2(m.getItem.bind(m))(l.name).then(N=>{if(N)return l.deserialize(N)}).then(N=>{if(N)if(typeof N.version=="number"&&N.version!==l.version){if(l.migrate)return l.migrate(N.state,N.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return N.state}).then(N=>{var j;return A=l.merge(N,(j=r())!=null?j:_),i(A,!0),y()}).then(()=>{T==null||T(A,void 0),c=!0,h.forEach(N=>N(A))}).catch(N=>{T==null||T(void 0,N)})};return o.persist={setOptions:C=>{l={...l,...C},C.getStorage&&(m=C.getStorage())},clearStorage:()=>{m==null||m.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>S(),hasHydrated:()=>c,onHydrate:C=>(u.add(C),()=>{u.delete(C)}),onFinishHydration:C=>(h.add(C),()=>{h.delete(C)})},S(),A||_},p1e=(n,e)=>(i,r,o)=>{let l={storage:h1e(()=>localStorage),partialize:S=>S,version:0,merge:(S,C)=>({...C,...S}),...e},c=!1;const u=new Set,h=new Set;let m=l.storage;if(!m)return n((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),i(...S)},r,o);const g=()=>{const S=l.partialize({...r()});return m.setItem(l.name,{state:S,version:l.version})},y=o.setState;o.setState=(S,C)=>{y(S,C),g()};const v=n((...S)=>{i(...S),g()},r,o);o.getInitialState=()=>v;let _;const A=()=>{var S,C;if(!m)return;c=!1,u.forEach(N=>{var j;return N((j=r())!=null?j:v)});const T=((C=l.onRehydrateStorage)==null?void 0:C.call(l,(S=r())!=null?S:v))||void 0;return G2(m.getItem.bind(m))(l.name).then(N=>{if(N)if(typeof N.version=="number"&&N.version!==l.version){if(l.migrate)return[!0,l.migrate(N.state,N.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,N.state];return[!1,void 0]}).then(N=>{var j;const[O,F]=N;if(_=l.merge(F,(j=r())!=null?j:v),i(_,!0),O)return g()}).then(()=>{T==null||T(_,void 0),_=r(),c=!0,h.forEach(N=>N(_))}).catch(N=>{T==null||T(void 0,N)})};return o.persist={setOptions:S=>{l={...l,...S},S.storage&&(m=S.storage)},clearStorage:()=>{m==null||m.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>A(),hasHydrated:()=>c,onHydrate:S=>(u.add(S),()=>{u.delete(S)}),onFinishHydration:S=>(h.add(S),()=>{h.delete(S)})},l.skipHydration||A(),_||v},m1e=(n,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((d1e?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),f1e(n,e)):p1e(n,e),X8=m1e,LZ=ac()(X8((n,e)=>({documents:[],loading:!1,error:null,addDocument:(i,r,o)=>{const l={id:Date.now().toString(),name:i,content:r,category:o,size:`${(r.length/1024).toFixed(1)} KB`,created_at:new Date().toISOString(),attachments:[]};n(c=>({documents:[l,...c.documents]}))},getDocuments:()=>e().documents,getDocument:i=>e().documents.find(r=>r.id===i),updateDocument:(i,r)=>{n(o=>({documents:o.documents.map(l=>{if(l.id===i){const c={...l,...r};return r.content&&(c.size=`${(r.content.length/1024).toFixed(1)} KB`),c}return l})}))},deleteDocument:i=>{n(r=>({documents:r.documents.filter(o=>o.id!==i)}))}}),{name:"local-documents-storage"}));var H5={exports:{}};/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */H5.exports;(function(n,e){(function(i,r){n.exports=r(H)})(self,i=>(()=>{var r={703:(u,h,m)=>{var g=m(414);function y(){}function v(){}v.resetWarningCache=y,u.exports=function(){function _(C,T,N,j,O,F){if(F!==g){var U=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw U.name="Invariant Violation",U}}function A(){return _}_.isRequired=_;var S={array:_,bigint:_,bool:_,func:_,number:_,object:_,string:_,symbol:_,any:_,arrayOf:A,element:_,elementType:_,instanceOf:A,node:_,objectOf:A,oneOf:A,oneOfType:A,shape:A,exact:A,checkPropTypes:v,resetWarningCache:y};return S.PropTypes=S,S}},697:(u,h,m)=>{u.exports=m(703)()},414:u=>{u.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},787:u=>{u.exports=i}},o={};function l(u){var h=o[u];if(h!==void 0)return h.exports;var m=o[u]={exports:{}};return r[u](m,m.exports,l),m.exports}l.n=u=>{var h=u&&u.__esModule?()=>u.default:()=>u;return l.d(h,{a:h}),h},l.d=(u,h)=>{for(var m in h)l.o(h,m)&&!l.o(u,m)&&Object.defineProperty(u,m,{enumerable:!0,get:h[m]})},l.o=(u,h)=>Object.prototype.hasOwnProperty.call(u,h),l.r=u=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})};var c={};return(()=>{l.r(c),l.d(c,{CKEditor:()=>kl,CKEditorContext:()=>Uf});var u=l(787),h=l.n(u),m=l(697),g=l.n(m);const y=function(ye){var de=typeof ye;return ye!=null&&(de=="object"||de=="function")},v=typeof Lt=="object"&&Lt&&Lt.Object===Object&&Lt;var _=typeof self=="object"&&self&&self.Object===Object&&self;const A=v||_||Function("return this")(),S=function(){return A.Date.now()};var C=/\s/;const T=function(ye){for(var de=ye.length;de--&&C.test(ye.charAt(de)););return de};var N=/^\s+/;const j=function(ye){return ye&&ye.slice(0,T(ye)+1).replace(N,"")},O=A.Symbol;var F=Object.prototype,U=F.hasOwnProperty,V=F.toString,B=O?O.toStringTag:void 0;const K=function(ye){var de=U.call(ye,B),Be=ye[B];try{ye[B]=void 0;var Ze=!0}catch{}var jt=V.call(ye);return Ze&&(de?ye[B]=Be:delete ye[B]),jt};var oe=Object.prototype.toString;const me=function(ye){return oe.call(ye)};var Q="[object Null]",ge="[object Undefined]",$=O?O.toStringTag:void 0;const De=function(ye){return ye==null?ye===void 0?ge:Q:$&&$ in Object(ye)?K(ye):me(ye)},ie=function(ye){return ye!=null&&typeof ye=="object"};var ce="[object Symbol]";const X=function(ye){return typeof ye=="symbol"||ie(ye)&&De(ye)==ce};var Y=NaN,ne=/^[-+]0x[0-9a-f]+$/i,ee=/^0b[01]+$/i,ue=/^0o[0-7]+$/i,Z=parseInt;const xe=function(ye){if(typeof ye=="number")return ye;if(X(ye))return Y;if(y(ye)){var de=typeof ye.valueOf=="function"?ye.valueOf():ye;ye=y(de)?de+"":de}if(typeof ye!="string")return ye===0?ye:+ye;ye=j(ye);var Be=ee.test(ye);return Be||ue.test(ye)?Z(ye.slice(2),Be?2:8):ne.test(ye)?Y:+ye};var Ae="Expected a function",Oe=Math.max,Pe=Math.min;const Me=function(ye,de,Be){var Ze,jt,Qt,nn,vt,qi,In=0,xa=!1,Uo=!1,wn=!0;if(typeof ye!="function")throw new TypeError(Ae);function Ur(Ai){var cs=Ze,fo=jt;return Ze=jt=void 0,In=Ai,nn=ye.apply(fo,cs)}function Lr(Ai){var cs=Ai-qi;return qi===void 0||cs>=de||cs<0||Uo&&Ai-In>=Qt}function pc(){var Ai=S();if(Lr(Ai))return Wd(Ai);vt=setTimeout(pc,function(cs){var fo=de-(cs-qi);return Uo?Pe(fo,Qt-(cs-In)):fo}(Ai))}function Wd(Ai){return vt=void 0,wn&&Ze?Ur(Ai):(Ze=jt=void 0,nn)}function Os(){var Ai=S(),cs=Lr(Ai);if(Ze=arguments,jt=this,qi=Ai,cs){if(vt===void 0)return function(fo){return In=fo,vt=setTimeout(pc,de),xa?Ur(fo):nn}(qi);if(Uo)return clearTimeout(vt),vt=setTimeout(pc,de),Ur(qi)}return vt===void 0&&(vt=setTimeout(pc,de)),nn}return de=xe(de)||0,y(Be)&&(xa=!!Be.leading,Qt=(Uo="maxWait"in Be)?Oe(xe(Be.maxWait)||0,de):Qt,wn="trailing"in Be?!!Be.trailing:wn),Os.cancel=function(){vt!==void 0&&clearTimeout(vt),In=0,Ze=qi=jt=vt=void 0},Os.flush=function(){return vt===void 0?nn:Wd(S())},Os};var Ve="Expected a function";const Le=function(ye,de,Be){var Ze=!0,jt=!0;if(typeof ye!="function")throw new TypeError(Ve);return y(Be)&&(Ze="leading"in Be?!!Be.leading:Ze,jt="trailing"in Be?!!Be.trailing:jt),Me(ye,de,{leading:Ze,maxWait:de,trailing:jt})},Ee=function(){this.__data__=[],this.size=0},we=function(ye,de){return ye===de||ye!=ye&&de!=de},ze=function(ye,de){for(var Be=ye.length;Be--;)if(we(ye[Be][0],de))return Be;return-1};var G=Array.prototype.splice;const Ce=function(ye){var de=this.__data__,Be=ze(de,ye);return!(Be<0)&&(Be==de.length-1?de.pop():G.call(de,Be,1),--this.size,!0)},Ie=function(ye){var de=this.__data__,Be=ze(de,ye);return Be<0?void 0:de[Be][1]},be=function(ye){return ze(this.__data__,ye)>-1},_e=function(ye,de){var Be=this.__data__,Ze=ze(Be,ye);return Ze<0?(++this.size,Be.push([ye,de])):Be[Ze][1]=de,this};function Se(ye){var de=-1,Be=ye==null?0:ye.length;for(this.clear();++de<Be;){var Ze=ye[de];this.set(Ze[0],Ze[1])}}Se.prototype.clear=Ee,Se.prototype.delete=Ce,Se.prototype.get=Ie,Se.prototype.has=be,Se.prototype.set=_e;const He=Se,qe=function(){this.__data__=new He,this.size=0},Fe=function(ye){var de=this.__data__,Be=de.delete(ye);return this.size=de.size,Be},Te=function(ye){return this.__data__.get(ye)},ke=function(ye){return this.__data__.has(ye)};var le="[object AsyncFunction]",Ue="[object Function]",et="[object GeneratorFunction]",nt="[object Proxy]";const ct=function(ye){if(!y(ye))return!1;var de=De(ye);return de==Ue||de==et||de==le||de==nt},ht=A["__core-js_shared__"];var Pt=function(){var ye=/[^.]+$/.exec(ht&&ht.keys&&ht.keys.IE_PROTO||"");return ye?"Symbol(src)_1."+ye:""}();const Bt=function(ye){return!!Pt&&Pt in ye};var bt=Function.prototype.toString;const Yt=function(ye){if(ye!=null){try{return bt.call(ye)}catch{}try{return ye+""}catch{}}return""};var mn=/^\[object .+?Constructor\]$/,qt=Function.prototype,Vn=Object.prototype,rs=qt.toString,Ir=Vn.hasOwnProperty,Rr=RegExp("^"+rs.call(Ir).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const ji=function(ye){return!(!y(ye)||Bt(ye))&&(ct(ye)?Rr:mn).test(Yt(ye))},bi=function(ye,de){return ye==null?void 0:ye[de]},yi=function(ye,de){var Be=bi(ye,de);return ji(Be)?Be:void 0},vi=yi(A,"Map"),wt=yi(Object,"create"),Ht=function(){this.__data__=wt?wt(null):{},this.size=0},sn=function(ye){var de=this.has(ye)&&delete this.__data__[ye];return this.size-=de?1:0,de};var Wn="__lodash_hash_undefined__",Xn=Object.prototype.hasOwnProperty;const Mr=function(ye){var de=this.__data__;if(wt){var Be=de[ye];return Be===Wn?void 0:Be}return Xn.call(de,ye)?de[ye]:void 0};var Ji=Object.prototype.hasOwnProperty;const ft=function(ye){var de=this.__data__;return wt?de[ye]!==void 0:Ji.call(de,ye)};var An="__lodash_hash_undefined__";const js=function(ye,de){var Be=this.__data__;return this.size+=this.has(ye)?0:1,Be[ye]=wt&&de===void 0?An:de,this};function ss(ye){var de=-1,Be=ye==null?0:ye.length;for(this.clear();++de<Be;){var Ze=ye[de];this.set(Ze[0],Ze[1])}}ss.prototype.clear=Ht,ss.prototype.delete=sn,ss.prototype.get=Mr,ss.prototype.has=ft,ss.prototype.set=js;const Is=ss,ol=function(){this.size=0,this.__data__={hash:new Is,map:new(vi||He),string:new Is}},Mo=function(ye){var de=typeof ye;return de=="string"||de=="number"||de=="symbol"||de=="boolean"?ye!=="__proto__":ye===null},al=function(ye,de){var Be=ye.__data__;return Mo(de)?Be[typeof de=="string"?"string":"hash"]:Be.map},Oo=function(ye){var de=al(this,ye).delete(ye);return this.size-=de?1:0,de},ll=function(ye){return al(this,ye).get(ye)},so=function(ye){return al(this,ye).has(ye)},Rs=function(ye,de){var Be=al(this,ye),Ze=Be.size;return Be.set(ye,de),this.size+=Be.size==Ze?0:1,this};function Si(ye){var de=-1,Be=ye==null?0:ye.length;for(this.clear();++de<Be;){var Ze=ye[de];this.set(Ze[0],Ze[1])}}Si.prototype.clear=ol,Si.prototype.delete=Oo,Si.prototype.get=ll,Si.prototype.has=so,Si.prototype.set=Rs;const cl=Si;var Ms=200;const Or=function(ye,de){var Be=this.__data__;if(Be instanceof He){var Ze=Be.__data__;if(!vi||Ze.length<Ms-1)return Ze.push([ye,de]),this.size=++Be.size,this;Be=this.__data__=new cl(Ze)}return Be.set(ye,de),this.size=Be.size,this};function os(ye){var de=this.__data__=new He(ye);this.size=de.size}os.prototype.clear=qe,os.prototype.delete=Fe,os.prototype.get=Te,os.prototype.has=ke,os.prototype.set=Or;const ul=os,lc=function(ye,de){for(var Be=-1,Ze=ye==null?0:ye.length;++Be<Ze&&de(ye[Be],Be,ye)!==!1;);return ye},su=function(){try{var ye=yi(Object,"defineProperty");return ye({},"",{}),ye}catch{}}(),Ym=function(ye,de,Be){de=="__proto__"&&su?su(ye,de,{configurable:!0,enumerable:!0,value:Be,writable:!0}):ye[de]=Be};var ma=Object.prototype.hasOwnProperty;const xf=function(ye,de,Be){var Ze=ye[de];ma.call(ye,de)&&we(Ze,Be)&&(Be!==void 0||de in ye)||Ym(ye,de,Be)},_f=function(ye,de){for(var Be=-1,Ze=Array(ye);++Be<ye;)Ze[Be]=de(Be);return Ze};var Ii="[object Arguments]";const dl=function(ye){return ie(ye)&&De(ye)==Ii};var hl=Object.prototype,fl=hl.hasOwnProperty,Zm=hl.propertyIsEnumerable;const Cd=dl(function(){return arguments}())?dl:function(ye){return ie(ye)&&fl.call(ye,"callee")&&!Zm.call(ye,"callee")},ou=Array.isArray,oo=function(){return!1};var Fo=e&&!e.nodeType&&e,ao=Fo&&!0&&n&&!n.nodeType&&n,cr=ao&&ao.exports===Fo?A.Buffer:void 0;const ga=(cr?cr.isBuffer:void 0)||oo;var cc=9007199254740991,pl=/^(?:0|[1-9]\d*)$/;const uc=function(ye,de){var Be=typeof ye;return!!(de=de??cc)&&(Be=="number"||Be!="symbol"&&pl.test(ye))&&ye>-1&&ye%1==0&&ye<de};var at=9007199254740991;const gt=function(ye){return typeof ye=="number"&&ye>-1&&ye%1==0&&ye<=at};var _t={};_t["[object Float32Array]"]=_t["[object Float64Array]"]=_t["[object Int8Array]"]=_t["[object Int16Array]"]=_t["[object Int32Array]"]=_t["[object Uint8Array]"]=_t["[object Uint8ClampedArray]"]=_t["[object Uint16Array]"]=_t["[object Uint32Array]"]=!0,_t["[object Arguments]"]=_t["[object Array]"]=_t["[object ArrayBuffer]"]=_t["[object Boolean]"]=_t["[object DataView]"]=_t["[object Date]"]=_t["[object Error]"]=_t["[object Function]"]=_t["[object Map]"]=_t["[object Number]"]=_t["[object Object]"]=_t["[object RegExp]"]=_t["[object Set]"]=_t["[object String]"]=_t["[object WeakMap]"]=!1;const oi=function(ye){return ie(ye)&&gt(ye.length)&&!!_t[De(ye)]},wi=function(ye){return function(de){return ye(de)}};var Fr=e&&!e.nodeType&&e,au=Fr&&!0&&n&&!n.nodeType&&n,wr=au&&au.exports===Fr&&v.process;const lo=function(){try{var ye=au&&au.require&&au.require("util").types;return ye||wr&&wr.binding&&wr.binding("util")}catch{}}();var Td=lo&&lo.isTypedArray;const ba=Td?wi(Td):oi;var Dd=Object.prototype.hasOwnProperty;const K0=function(ye,de){var Be=ou(ye),Ze=!Be&&Cd(ye),jt=!Be&&!Ze&&ga(ye),Qt=!Be&&!Ze&&!jt&&ba(ye),nn=Be||Ze||jt||Qt,vt=nn?_f(ye.length,String):[],qi=vt.length;for(var In in ye)!Dd.call(ye,In)||nn&&(In=="length"||jt&&(In=="offset"||In=="parent")||Qt&&(In=="buffer"||In=="byteLength"||In=="byteOffset")||uc(In,qi))||vt.push(In);return vt};var lu=Object.prototype;const ml=function(ye){var de=ye&&ye.constructor;return ye===(typeof de=="function"&&de.prototype||lu)},Jm=function(ye,de){return function(Be){return ye(de(Be))}},Qm=Jm(Object.keys,Object);var eg=Object.prototype.hasOwnProperty;const Y0=function(ye){if(!ml(ye))return Qm(ye);var de=[];for(var Be in Object(ye))eg.call(ye,Be)&&Be!="constructor"&&de.push(Be);return de},tg=function(ye){return ye!=null&&gt(ye.length)&&!ct(ye)},ng=function(ye){return tg(ye)?K0(ye):Y0(ye)};var kf=e&&!e.nodeType&&e,Pn=kf&&!0&&n&&!n.nodeType&&n,gl=Pn&&Pn.exports===kf?A.Buffer:void 0;gl&&gl.allocUnsafe;const cu=function(ye,de){return ye.slice()},uu=function(ye,de){for(var Be=-1,Ze=ye==null?0:ye.length,jt=0,Qt=[];++Be<Ze;){var nn=ye[Be];de(nn,Be,ye)&&(Qt[jt++]=nn)}return Qt},Ef=function(){return[]};var bl=Object.prototype.propertyIsEnumerable,Nd=Object.getOwnPropertySymbols;const jn=Nd?function(ye){return ye==null?[]:(ye=Object(ye),uu(Nd(ye),function(de){return bl.call(ye,de)}))}:Ef,yl=function(ye,de){for(var Be=-1,Ze=de.length,jt=ye.length;++Be<Ze;)ye[jt+Be]=de[Be];return ye},Sf=Jm(Object.getPrototypeOf,Object),Z0=function(ye,de,Be){var Ze=de(ye);return ou(ye)?Ze:yl(Ze,Be(ye))},Pd=function(ye){return Z0(ye,ng,jn)},jd=yi(A,"DataView"),co=yi(A,"Promise"),Af=yi(A,"Set"),Id=yi(A,"WeakMap");var Cf="[object Map]",Rd="[object Promise]",vl="[object Set]",du="[object WeakMap]",Md="[object DataView]",J0=Yt(jd),Tf=Yt(vi),dc=Yt(co),Df=Yt(Af),as=Yt(Id),ya=De;(jd&&ya(new jd(new ArrayBuffer(1)))!=Md||vi&&ya(new vi)!=Cf||co&&ya(co.resolve())!=Rd||Af&&ya(new Af)!=vl||Id&&ya(new Id)!=du)&&(ya=function(ye){var de=De(ye),Be=de=="[object Object]"?ye.constructor:void 0,Ze=Be?Yt(Be):"";if(Ze)switch(Ze){case J0:return Md;case Tf:return Cf;case dc:return Rd;case Df:return vl;case as:return du}return de});const Od=ya;var Fd=Object.prototype.hasOwnProperty;const uo=function(ye){var de=ye.length,Be=new ye.constructor(de);return de&&typeof ye[0]=="string"&&Fd.call(ye,"index")&&(Be.index=ye.index,Be.input=ye.input),Be},Nf=A.Uint8Array,wl=function(ye){var de=new ye.constructor(ye.byteLength);return new Nf(de).set(new Nf(ye)),de},Q0=function(ye,de){var Be=wl(ye.buffer);return new ye.constructor(Be,ye.byteOffset,ye.byteLength)};var Ud=/\w*$/;const ig=function(ye){var de=new ye.constructor(ye.source,Ud.exec(ye));return de.lastIndex=ye.lastIndex,de};var rg=O?O.prototype:void 0,Ld=rg?rg.valueOf:void 0;const sx=function(ye){return Ld?Object(Ld.call(ye)):{}},ey=function(ye,de){var Be=wl(ye.buffer);return new ye.constructor(Be,ye.byteOffset,ye.length)};var ox="[object Boolean]",sg="[object Date]",og="[object Map]",ax="[object Number]",ty="[object RegExp]",ny="[object Set]",ag="[object String]",iy="[object Symbol]",lg="[object ArrayBuffer]",ry="[object DataView]",cg="[object Float32Array]",ug="[object Float64Array]",dg="[object Int8Array]",hg="[object Int16Array]",sy="[object Int32Array]",Pf="[object Uint8Array]",hu="[object Uint8ClampedArray]",oy="[object Uint16Array]",fg="[object Uint32Array]";const ay=function(ye,de,Be){var Ze=ye.constructor;switch(de){case lg:return wl(ye);case ox:case sg:return new Ze(+ye);case ry:return Q0(ye);case cg:case ug:case dg:case hg:case sy:case Pf:case hu:case oy:case fg:return ey(ye);case og:return new Ze;case ax:case ag:return new Ze(ye);case ty:return ig(ye);case ny:return new Ze;case iy:return sx(ye)}};var pg=Object.create;const ly=function(){function ye(){}return function(de){if(!y(de))return{};if(pg)return pg(de);ye.prototype=de;var Be=new ye;return ye.prototype=void 0,Be}}(),cy=function(ye){return typeof ye.constructor!="function"||ml(ye)?{}:ly(Sf(ye))};var fu="[object Map]";const hc=function(ye){return ie(ye)&&Od(ye)==fu};var fc=lo&&lo.isMap;const uy=fc?wi(fc):hc;var jf="[object Set]";const xl=function(ye){return ie(ye)&&Od(ye)==jf};var If=lo&&lo.isSet;const Rf=If?wi(If):xl;var dy="[object Arguments]",mg="[object Function]",Mf="[object GeneratorFunction]",Bd="[object Object]",Ln={};Ln[dy]=Ln["[object Array]"]=Ln["[object ArrayBuffer]"]=Ln["[object DataView]"]=Ln["[object Boolean]"]=Ln["[object Date]"]=Ln["[object Float32Array]"]=Ln["[object Float64Array]"]=Ln["[object Int8Array]"]=Ln["[object Int16Array]"]=Ln["[object Int32Array]"]=Ln["[object Map]"]=Ln["[object Number]"]=Ln[Bd]=Ln["[object RegExp]"]=Ln["[object Set]"]=Ln["[object String]"]=Ln["[object Symbol]"]=Ln["[object Uint8Array]"]=Ln["[object Uint8ClampedArray]"]=Ln["[object Uint16Array]"]=Ln["[object Uint32Array]"]=!0,Ln["[object Error]"]=Ln[mg]=Ln["[object WeakMap]"]=!1;const gg=function ye(de,Be,Ze,jt,Qt,nn){var vt;if(Ze&&(vt=Qt?Ze(de,jt,Qt,nn):Ze(de)),vt!==void 0)return vt;if(!y(de))return de;var qi=ou(de);if(qi)vt=uo(de);else{var In=Od(de),xa=In==mg||In==Mf;if(ga(de))return cu(de);if(In==Bd||In==dy||xa&&!Qt)vt=xa?{}:cy(de);else{if(!Ln[In])return Qt?de:{};vt=ay(de,In)}}nn||(nn=new ul);var Uo=nn.get(de);if(Uo)return Uo;nn.set(de,vt),Rf(de)?de.forEach(function(Ur){vt.add(ye(Ur,Be,Ze,Ur,de,nn))}):uy(de)&&de.forEach(function(Ur,Lr){vt.set(Lr,ye(Ur,Be,Ze,Lr,de,nn))});var wn=qi?void 0:Pd(de);return lc(wn||de,function(Ur,Lr){wn&&(Ur=de[Lr=Ur]),xf(vt,Lr,ye(Ur,Be,Ze,Lr,de,nn))}),vt};var hy=1,fy=4;const lx=function(ye,de){return gg(ye,hy|fy,de=typeof de=="function"?de:void 0)};var py="[object Object]",cx=Function.prototype,ls=Object.prototype,my=cx.toString,zd=ls.hasOwnProperty,bg=my.call(Object);const gy=function(ye){if(!ie(ye)||De(ye)!=py)return!1;var de=Sf(ye);if(de===null)return!0;var Be=zd.call(de,"constructor")&&de.constructor;return typeof Be=="function"&&Be instanceof Be&&my.call(Be)==bg},yg=function(ye){return ie(ye)&&ye.nodeType===1&&!gy(ye)};function Vd(ye,de=new Set){const Be=[ye],Ze=new Set;let jt=0;for(;Be.length>jt;){const Qt=Be[jt++];if(!(Ze.has(Qt)||Of(Qt)||de.has(Qt)))if(Ze.add(Qt),Qt[Symbol.iterator])try{for(const nn of Qt)Be.push(nn)}catch{}else for(const nn in Qt)nn!=="defaultValue"&&Be.push(Qt[nn])}return Ze}function Of(ye){const de=Object.prototype.toString.call(ye),Be=typeof ye;return Be==="number"||Be==="boolean"||Be==="string"||Be==="symbol"||Be==="function"||de==="[object Date]"||de==="[object RegExp]"||de==="[object Module]"||ye==null||ye._watchdogExcluded===!0||ye instanceof EventTarget||ye instanceof Event}function Bn(ye,de,Be=new Set){if(ye===de&&typeof(Ze=ye)=="object"&&Ze!==null)return!0;var Ze;const jt=Vd(ye,Be),Qt=Vd(de,Be);for(const nn of jt)if(Qt.has(nn))return!0;return!1}class va{constructor(de){if(this.crashes=[],this.state="initializing",this._crashNumberLimit=typeof de.crashNumberLimit=="number"?de.crashNumberLimit:3,this._now=Date.now,this._minimumNonErrorTimePeriod=typeof de.minimumNonErrorTimePeriod=="number"?de.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=Be=>{const Ze=Be.error||Be.reason;Ze instanceof Error&&this._handleError(Ze,Be)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}setCreator(de){this._creator=de}setDestructor(de){this._destructor=de}destroy(){this._stopErrorHandling(),this._listeners={}}on(de,Be){this._listeners[de]||(this._listeners[de]=[]),this._listeners[de].push(Be)}off(de,Be){this._listeners[de]=this._listeners[de].filter(Ze=>Ze!==Be)}_fire(de,...Be){const Ze=this._listeners[de]||[];for(const jt of Ze)jt.apply(this,[null,...Be])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(de,Be){if(this._shouldReactToError(de)){this.crashes.push({message:de.message,stack:de.stack,filename:Be.filename,lineno:Be.lineno,colno:Be.colno,date:this._now()});const Ze=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:de,causesRestart:Ze}),Ze?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(de){return de.is&&de.is("CKEditorError")&&de.context!==void 0&&de.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(de)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}class pu extends va{constructor(de,Be={}){super(Be),this._editor=null,this._throttledSave=Le(this._save.bind(this),typeof Be.saveInterval=="number"?Be.saveInterval:5e3),this._creator=(Ze,jt)=>de.create(Ze,jt),this._destructor=Ze=>Ze.destroy()}get editor(){return this._editor}get _item(){return this._editor}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(de=>{console.error("An error happened during the editor destroying.",de)}).then(()=>{if(typeof this._elementOrData=="string")return this.create(this._data,this._config,this._config.context);{const de=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,de,de.context)}}).then(()=>{this._fire("restart")})}create(de=this._elementOrData,Be=this._config,Ze){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=de,this._config=this._cloneEditorConfiguration(Be)||{},this._config.context=Ze,this._creator(de,this._config))).then(jt=>{this._editor=jt,jt.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=jt.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const de=this._editor;return this._editor=null,de.model.document.off("change:data",this._throttledSave),this._destructor(de)})}_save(){const de=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=de}catch(Be){console.error(Be,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(de){this._excludedProps=de}_getData(){const de={};for(const Be of this._editor.model.document.getRootNames())de[Be]=this._editor.data.get({rootName:Be});return de}_isErrorComingFromThisItem(de){return Bn(this._editor,de.context,this._excludedProps)}_cloneEditorConfiguration(de){return lx(de,(Be,Ze)=>yg(Be)||Ze==="context"?Be:void 0)}}const $n=new Array(256).fill("").map((ye,de)=>("0"+de.toString(16)).slice(-2)),_l=Symbol("MainQueueId");class Ff extends va{constructor(de,Be={}){super(Be),this._watchdogs=new Map,this._watchdogConfig=Be,this._context=null,this._contextProps=new Set,this._actionQueues=new by,this._creator=Ze=>de.create(Ze),this._destructor=Ze=>Ze.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}get context(){return this._context}create(de={}){return this._actionQueues.enqueue(_l,()=>(this._contextConfig=de,this._create()))}getItem(de){return this._getWatchdog(de)._item}getItemState(de){return this._getWatchdog(de).state}add(de){const Be=ho(de);return Promise.all(Be.map(Ze=>this._actionQueues.enqueue(Ze.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let jt;if(this._watchdogs.has(Ze.id))throw new Error(`Item with the given id is already added: '${Ze.id}'.`);if(Ze.type==="editor")return jt=new pu(this._watchdogConfig),jt.setCreator(Ze.creator),jt._setExcludedProperties(this._contextProps),Ze.destructor&&jt.setDestructor(Ze.destructor),this._watchdogs.set(Ze.id,jt),jt.on("error",(Qt,{error:nn,causesRestart:vt})=>{this._fire("itemError",{itemId:Ze.id,error:nn}),vt&&this._actionQueues.enqueue(Ze.id,()=>new Promise(qi=>{jt.on("restart",(function In(){jt.off("restart",In),this._fire("itemRestart",{itemId:Ze.id}),qi()}).bind(this))}))}),jt.create(Ze.sourceElementOrData,Ze.config,this._context);throw new Error(`Not supported item type: '${Ze.type}'.`)})))}remove(de){const Be=ho(de);return Promise.all(Be.map(Ze=>this._actionQueues.enqueue(Ze,()=>{const jt=this._getWatchdog(Ze);return this._watchdogs.delete(Ze),jt.destroy()})))}destroy(){return this._actionQueues.enqueue(_l,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(_l,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(de=>{console.error("An error happened during destroying the context or items.",de)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(de=>(this._context=de,this._contextProps=Vd(this._context),Promise.all(Array.from(this._watchdogs.values()).map(Be=>(Be._setExcludedProperties(this._contextProps),Be.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const de=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(Be=>Be.destroy())).then(()=>this._destructor(de))})}_getWatchdog(de){const Be=this._watchdogs.get(de);if(!Be)throw new Error(`Item with the given id was not registered: ${de}.`);return Be}_isErrorComingFromThisItem(de){for(const Be of this._watchdogs.values())if(Be._isErrorComingFromThisItem(de))return!1;return Bn(this._context,de.context)}}class by{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._actions=new WeakMap,this._lastActionId=0,this._activeActions=0}onEmpty(de){this._onEmptyCallbacks.push(de)}enqueue(de,Be){const Ze=de===_l;this._activeActions++,this._queues.get(de)||this._queues.set(de,Promise.resolve());const jt=(Ze?Promise.all(this._queues.values()):Promise.all([this._queues.get(_l),this._queues.get(de)])).then(Be),Qt=jt.catch(()=>{});return this._queues.set(de,Qt),jt.finally(()=>{this._activeActions--,this._queues.get(de)===Qt&&this._activeActions===0&&this._onEmptyCallbacks.forEach(nn=>nn())})}}function ho(ye){return Array.isArray(ye)?ye:[ye]}const wa=h().createContext("contextWatchdog");class Uf extends h().Component{constructor(de,Be){super(de,Be),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}async shouldComponentUpdate(de){return de.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(de.config)),de.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(de.config),!0):this.props.children!==de.children}render(){return h().createElement(wa.Provider,{value:this.contextWatchdog},this.props.children)}async componentWillUnmount(){await this._destroyContext()}async _initializeContextWatchdog(de){this.contextWatchdog=new Ff(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",(Be,Ze)=>{this.props.onError(Ze.error,{phase:"runtime",willContextRestart:Ze.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(de).catch(Be=>{this.props.onError(Be,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}Uf.defaultProps={isLayoutReady:!0,onError:(ye,de)=>console.error(ye,de)},Uf.propTypes={id:g().string,isLayoutReady:g().bool,context:g().func,watchdogConfig:g().object,config:g().object,onReady:g().func,onError:g().func};const ur="Lock from React integration (@ckeditor/ckeditor5-react)";class kl extends h().Component{constructor(de){super(de),this.editorDestructionInProgress=null,this.domContainer=h().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:Be}=window;if(Be){const[Ze]=Be.split(".").map(Number);Ze<34&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 34 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(de){return!!this.editor&&(de.id!==this.props.id||(this._shouldUpdateEditor(de)&&this.editor.setData(de.data),"disabled"in de&&(de.disabled?this.editor.enableReadOnlyMode(ur):this.editor.disableReadOnlyMode(ur)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return h().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.watchdog||(this.context instanceof Ff?this.watchdog=new qn(this.context):this.watchdog=new kl._EditorWatchdog(this.props.editor,this.props.watchdogConfig),this.watchdog.setCreator((de,Be)=>this._createEditor(de,Be)),this.watchdog.on("error",(de,{error:Be,causesRestart:Ze})=>{this.props.onError(Be,{phase:"runtime",willEditorRestart:Ze})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch(de=>this.props.onError(de,{phase:"initialization",willEditorRestart:!1})))}_createEditor(de,Be){return this.props.editor.create(de,Be).then(Ze=>{"disabled"in this.props&&this.props.disabled&&Ze.enableReadOnlyMode(ur);const jt=Ze.model.document,Qt=Ze.editing.view.document;return jt.on("change:data",nn=>{this.props.onChange&&this.props.onChange(nn,Ze)}),Qt.on("focus",nn=>{this.props.onFocus&&this.props.onFocus(nn,Ze)}),Qt.on("blur",nn=>{this.props.onBlur&&this.props.onBlur(nn,Ze)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(Ze)}),Ze})}async _destroyEditor(){this.editorDestructionInProgress=new Promise(de=>{setTimeout(()=>{this.watchdog?this.watchdog.destroy().then(()=>{this.watchdog=null,de()}):de()})})}_shouldUpdateEditor(de){return this.props.data!==de.data&&this.editor.getData()!==de.data}_getConfig(){return this.props.data&&this.props.config.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` properties. The config property is over the data value and the first one will be used when specified both."),{...this.props.config,initialData:this.props.config.initialData||this.props.data||""}}}class qn{constructor(de){this._contextWatchdog=de,this._id=function(){const Be=4294967296*Math.random()>>>0,Ze=4294967296*Math.random()>>>0,jt=4294967296*Math.random()>>>0,Qt=4294967296*Math.random()>>>0;return"e"+$n[Be>>0&255]+$n[Be>>8&255]+$n[Be>>16&255]+$n[Be>>24&255]+$n[Ze>>0&255]+$n[Ze>>8&255]+$n[Ze>>16&255]+$n[Ze>>24&255]+$n[jt>>0&255]+$n[jt>>8&255]+$n[jt>>16&255]+$n[jt>>24&255]+$n[Qt>>0&255]+$n[Qt>>8&255]+$n[Qt>>16&255]+$n[Qt>>24&255]}()}setCreator(de){this._creator=de}create(de,Be){return this._contextWatchdog.add({sourceElementOrData:de,config:Be,creator:this._creator,id:this._id,type:"editor"})}on(de,Be){this._contextWatchdog.on("itemError",(Ze,{itemId:jt,causesRestart:Qt,error:nn})=>{jt===this._id&&Be(null,{error:nn,causesRestart:Qt})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}kl.contextType=wa,kl.propTypes={editor:g().func.isRequired,data:g().string,config:g().object,watchdogConfig:g().object,onChange:g().func,onReady:g().func,onFocus:g().func,onBlur:g().func,onError:g().func,disabled:g().bool,onInit:(ye,de)=>{if(ye[de])return new Error('The "onInit" property is not supported anymore by the CKEditor component. Use the "onReady" property instead.')}},kl.defaultProps={config:{},onError:(ye,de)=>console.error(ye,de)},kl._EditorWatchdog=pu})(),c})())})(H5,H5.exports);var g1e=H5.exports,G5={exports:{}};G5.exports;(function(n,e){(function(i){const r=i.en=i.en||{};r.dictionary=Object.assign(r.dictionary||{},{"%0 of %1":"%0 of %1",Accept:"Accept",Aquamarine:"Aquamarine",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Break text":"Break text","Bulleted List":"Bulleted List",Cancel:"Cancel","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Clear:"Clear","Click to edit block":"Click to edit block",Code:"Code",Column:"Column","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Downloadable:"Downloadable","Drag to move":"Drag to move","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Full size image":"Full size image",Green:"Green",Grey:"Grey","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",HEX:"HEX","Image resize list":"Image resize list","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Insert code block":"Insert code block","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table",Italic:"Italic","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link URL":"Link URL","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next","No results found":"No results found","No searchable items":"No searchable items","Numbered List":"Numbered List","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab",Orange:"Orange",Original:"Original",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.","Plain text":"Plain text","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Resize image":"Resize image","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Rich Text Editor":"Rich Text Editor","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Show more items":"Show more items","Side image":"Side image","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically","Table toolbar":"Table toolbar","Text alternative":"Text alternative","The URL must not be empty.":"The URL must not be empty.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on",Turquoise:"Turquoise",Undo:"Undo",Unlink:"Unlink","Upload failed":"Upload failed","Upload in progress":"Upload in progress",White:"White","Widget toolbar":"Widget toolbar","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(i,r){n.exports=r()}(self,()=>(()=>{var i={1924:(c,u,h)=>{var m=h(210),g=h(5559),y=g(m("String.prototype.indexOf"));c.exports=function(v,_){var A=m(v,!!_);return typeof A=="function"&&y(v,".prototype.")>-1?g(A):A}},5559:(c,u,h)=>{var m=h(8612),g=h(210),y=g("%Function.prototype.apply%"),v=g("%Function.prototype.call%"),_=g("%Reflect.apply%",!0)||m.call(v,y),A=g("%Object.getOwnPropertyDescriptor%",!0),S=g("%Object.defineProperty%",!0),C=g("%Math.max%");if(S)try{S({},"a",{value:1})}catch{S=null}c.exports=function(N){var j=_(m,v,arguments);return A&&S&&A(j,"length").configurable&&S(j,"length",{value:1+C(0,N.length-(arguments.length-1))}),j};var T=function(){return _(m,y,arguments)};S?S(c.exports,"apply",{value:T}):c.exports.apply=T},8168:(c,u,h)=>{const m=h(8874),g={};for(const v of Object.keys(m))g[m[v]]=v;const y={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};c.exports=y;for(const v of Object.keys(y)){if(!("channels"in y[v]))throw new Error("missing channels property: "+v);if(!("labels"in y[v]))throw new Error("missing channel labels property: "+v);if(y[v].labels.length!==y[v].channels)throw new Error("channel and label counts mismatch: "+v);const{channels:_,labels:A}=y[v];delete y[v].channels,delete y[v].labels,Object.defineProperty(y[v],"channels",{value:_}),Object.defineProperty(y[v],"labels",{value:A})}y.rgb.hsl=function(v){const _=v[0]/255,A=v[1]/255,S=v[2]/255,C=Math.min(_,A,S),T=Math.max(_,A,S),N=T-C;let j,O;T===C?j=0:_===T?j=(A-S)/N:A===T?j=2+(S-_)/N:S===T&&(j=4+(_-A)/N),j=Math.min(60*j,360),j<0&&(j+=360);const F=(C+T)/2;return O=T===C?0:F<=.5?N/(T+C):N/(2-T-C),[j,100*O,100*F]},y.rgb.hsv=function(v){let _,A,S,C,T;const N=v[0]/255,j=v[1]/255,O=v[2]/255,F=Math.max(N,j,O),U=F-Math.min(N,j,O),V=function(B){return(F-B)/6/U+.5};return U===0?(C=0,T=0):(T=U/F,_=V(N),A=V(j),S=V(O),N===F?C=S-A:j===F?C=.3333333333333333+_-S:O===F&&(C=.6666666666666666+A-_),C<0?C+=1:C>1&&(C-=1)),[360*C,100*T,100*F]},y.rgb.hwb=function(v){const _=v[0],A=v[1];let S=v[2];const C=y.rgb.hsl(v)[0],T=1/255*Math.min(_,Math.min(A,S));return S=1-.00392156862745098*Math.max(_,Math.max(A,S)),[C,100*T,100*S]},y.rgb.cmyk=function(v){const _=v[0]/255,A=v[1]/255,S=v[2]/255,C=Math.min(1-_,1-A,1-S);return[100*((1-_-C)/(1-C)||0),100*((1-A-C)/(1-C)||0),100*((1-S-C)/(1-C)||0),100*C]},y.rgb.keyword=function(v){const _=g[v];if(_)return _;let A,S=1/0;for(const N of Object.keys(m)){const j=m[N],O=(T=j,((C=v)[0]-T[0])**2+(C[1]-T[1])**2+(C[2]-T[2])**2);O<S&&(S=O,A=N)}var C,T;return A},y.keyword.rgb=function(v){return m[v]},y.rgb.xyz=function(v){let _=v[0]/255,A=v[1]/255,S=v[2]/255;return _=_>.04045?((_+.055)/1.055)**2.4:_/12.92,A=A>.04045?((A+.055)/1.055)**2.4:A/12.92,S=S>.04045?((S+.055)/1.055)**2.4:S/12.92,[100*(.4124*_+.3576*A+.1805*S),100*(.2126*_+.7152*A+.0722*S),100*(.0193*_+.1192*A+.9505*S)]},y.rgb.lab=function(v){const _=y.rgb.xyz(v);let A=_[0],S=_[1],C=_[2];return A/=95.047,S/=100,C/=108.883,A=A>.008856?A**.3333333333333333:7.787*A+.13793103448275862,S=S>.008856?S**.3333333333333333:7.787*S+.13793103448275862,C=C>.008856?C**.3333333333333333:7.787*C+.13793103448275862,[116*S-16,500*(A-S),200*(S-C)]},y.hsl.rgb=function(v){const _=v[0]/360,A=v[1]/100,S=v[2]/100;let C,T,N;if(A===0)return N=255*S,[N,N,N];C=S<.5?S*(1+A):S+A-S*A;const j=2*S-C,O=[0,0,0];for(let F=0;F<3;F++)T=_+.3333333333333333*-(F-1),T<0&&T++,T>1&&T--,N=6*T<1?j+6*(C-j)*T:2*T<1?C:3*T<2?j+(C-j)*(.6666666666666666-T)*6:j,O[F]=255*N;return O},y.hsl.hsv=function(v){const _=v[0];let A=v[1]/100,S=v[2]/100,C=A;const T=Math.max(S,.01);return S*=2,A*=S<=1?S:2-S,C*=T<=1?T:2-T,[_,100*(S===0?2*C/(T+C):2*A/(S+A)),100*((S+A)/2)]},y.hsv.rgb=function(v){const _=v[0]/60,A=v[1]/100;let S=v[2]/100;const C=Math.floor(_)%6,T=_-Math.floor(_),N=255*S*(1-A),j=255*S*(1-A*T),O=255*S*(1-A*(1-T));switch(S*=255,C){case 0:return[S,O,N];case 1:return[j,S,N];case 2:return[N,S,O];case 3:return[N,j,S];case 4:return[O,N,S];case 5:return[S,N,j]}},y.hsv.hsl=function(v){const _=v[0],A=v[1]/100,S=v[2]/100,C=Math.max(S,.01);let T,N;N=(2-A)*S;const j=(2-A)*C;return T=A*C,T/=j<=1?j:2-j,T=T||0,N/=2,[_,100*T,100*N]},y.hwb.rgb=function(v){const _=v[0]/360;let A=v[1]/100,S=v[2]/100;const C=A+S;let T;C>1&&(A/=C,S/=C);const N=Math.floor(6*_),j=1-S;T=6*_-N,1&N&&(T=1-T);const O=A+T*(j-A);let F,U,V;switch(N){default:case 6:case 0:F=j,U=O,V=A;break;case 1:F=O,U=j,V=A;break;case 2:F=A,U=j,V=O;break;case 3:F=A,U=O,V=j;break;case 4:F=O,U=A,V=j;break;case 5:F=j,U=A,V=O}return[255*F,255*U,255*V]},y.cmyk.rgb=function(v){const _=v[0]/100,A=v[1]/100,S=v[2]/100,C=v[3]/100;return[255*(1-Math.min(1,_*(1-C)+C)),255*(1-Math.min(1,A*(1-C)+C)),255*(1-Math.min(1,S*(1-C)+C))]},y.xyz.rgb=function(v){const _=v[0]/100,A=v[1]/100,S=v[2]/100;let C,T,N;return C=3.2406*_+-1.5372*A+-.4986*S,T=-.9689*_+1.8758*A+.0415*S,N=.0557*_+-.204*A+1.057*S,C=C>.0031308?1.055*C**.4166666666666667-.055:12.92*C,T=T>.0031308?1.055*T**.4166666666666667-.055:12.92*T,N=N>.0031308?1.055*N**.4166666666666667-.055:12.92*N,C=Math.min(Math.max(0,C),1),T=Math.min(Math.max(0,T),1),N=Math.min(Math.max(0,N),1),[255*C,255*T,255*N]},y.xyz.lab=function(v){let _=v[0],A=v[1],S=v[2];return _/=95.047,A/=100,S/=108.883,_=_>.008856?_**.3333333333333333:7.787*_+.13793103448275862,A=A>.008856?A**.3333333333333333:7.787*A+.13793103448275862,S=S>.008856?S**.3333333333333333:7.787*S+.13793103448275862,[116*A-16,500*(_-A),200*(A-S)]},y.lab.xyz=function(v){let _,A,S;A=(v[0]+16)/116,_=v[1]/500+A,S=A-v[2]/200;const C=A**3,T=_**3,N=S**3;return A=C>.008856?C:(A-.13793103448275862)/7.787,_=T>.008856?T:(_-.13793103448275862)/7.787,S=N>.008856?N:(S-.13793103448275862)/7.787,_*=95.047,A*=100,S*=108.883,[_,A,S]},y.lab.lch=function(v){const _=v[0],A=v[1],S=v[2];let C;return C=360*Math.atan2(S,A)/2/Math.PI,C<0&&(C+=360),[_,Math.sqrt(A*A+S*S),C]},y.lch.lab=function(v){const _=v[0],A=v[1],S=v[2]/360*2*Math.PI;return[_,A*Math.cos(S),A*Math.sin(S)]},y.rgb.ansi16=function(v,_=null){const[A,S,C]=v;let T=_===null?y.rgb.hsv(v)[2]:_;if(T=Math.round(T/50),T===0)return 30;let N=30+(Math.round(C/255)<<2|Math.round(S/255)<<1|Math.round(A/255));return T===2&&(N+=60),N},y.hsv.ansi16=function(v){return y.rgb.ansi16(y.hsv.rgb(v),v[2])},y.rgb.ansi256=function(v){const _=v[0],A=v[1],S=v[2];return _===A&&A===S?_<8?16:_>248?231:Math.round((_-8)/247*24)+232:16+36*Math.round(_/255*5)+6*Math.round(A/255*5)+Math.round(S/255*5)},y.ansi16.rgb=function(v){let _=v%10;if(_===0||_===7)return v>50&&(_+=3.5),_=_/10.5*255,[_,_,_];const A=.5*(1+~~(v>50));return[(1&_)*A*255,(_>>1&1)*A*255,(_>>2&1)*A*255]},y.ansi256.rgb=function(v){if(v>=232){const A=10*(v-232)+8;return[A,A,A]}let _;return v-=16,[Math.floor(v/36)/5*255,Math.floor((_=v%36)/6)/5*255,_%6/5*255]},y.rgb.hex=function(v){const _=(((255&Math.round(v[0]))<<16)+((255&Math.round(v[1]))<<8)+(255&Math.round(v[2]))).toString(16).toUpperCase();return"000000".substring(_.length)+_},y.hex.rgb=function(v){const _=v.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!_)return[0,0,0];let A=_[0];_[0].length===3&&(A=A.split("").map(C=>C+C).join(""));const S=parseInt(A,16);return[S>>16&255,S>>8&255,255&S]},y.rgb.hcg=function(v){const _=v[0]/255,A=v[1]/255,S=v[2]/255,C=Math.max(Math.max(_,A),S),T=Math.min(Math.min(_,A),S),N=C-T;let j,O;return j=N<1?T/(1-N):0,O=N<=0?0:C===_?(A-S)/N%6:C===A?2+(S-_)/N:4+(_-A)/N,O/=6,O%=1,[360*O,100*N,100*j]},y.hsl.hcg=function(v){const _=v[1]/100,A=v[2]/100,S=A<.5?2*_*A:2*_*(1-A);let C=0;return S<1&&(C=(A-.5*S)/(1-S)),[v[0],100*S,100*C]},y.hsv.hcg=function(v){const _=v[1]/100,A=v[2]/100,S=_*A;let C=0;return S<1&&(C=(A-S)/(1-S)),[v[0],100*S,100*C]},y.hcg.rgb=function(v){const _=v[0]/360,A=v[1]/100,S=v[2]/100;if(A===0)return[255*S,255*S,255*S];const C=[0,0,0],T=_%1*6,N=T%1,j=1-N;let O=0;switch(Math.floor(T)){case 0:C[0]=1,C[1]=N,C[2]=0;break;case 1:C[0]=j,C[1]=1,C[2]=0;break;case 2:C[0]=0,C[1]=1,C[2]=N;break;case 3:C[0]=0,C[1]=j,C[2]=1;break;case 4:C[0]=N,C[1]=0,C[2]=1;break;default:C[0]=1,C[1]=0,C[2]=j}return O=(1-A)*S,[255*(A*C[0]+O),255*(A*C[1]+O),255*(A*C[2]+O)]},y.hcg.hsv=function(v){const _=v[1]/100,A=_+v[2]/100*(1-_);let S=0;return A>0&&(S=_/A),[v[0],100*S,100*A]},y.hcg.hsl=function(v){const _=v[1]/100,A=v[2]/100*(1-_)+.5*_;let S=0;return A>0&&A<.5?S=_/(2*A):A>=.5&&A<1&&(S=_/(2*(1-A))),[v[0],100*S,100*A]},y.hcg.hwb=function(v){const _=v[1]/100,A=_+v[2]/100*(1-_);return[v[0],100*(A-_),100*(1-A)]},y.hwb.hcg=function(v){const _=v[1]/100,A=1-v[2]/100,S=A-_;let C=0;return S<1&&(C=(A-S)/(1-S)),[v[0],100*S,100*C]},y.apple.rgb=function(v){return[v[0]/65535*255,v[1]/65535*255,v[2]/65535*255]},y.rgb.apple=function(v){return[v[0]/255*65535,v[1]/255*65535,v[2]/255*65535]},y.gray.rgb=function(v){return[v[0]/100*255,v[0]/100*255,v[0]/100*255]},y.gray.hsl=function(v){return[0,0,v[0]]},y.gray.hsv=y.gray.hsl,y.gray.hwb=function(v){return[0,100,v[0]]},y.gray.cmyk=function(v){return[0,0,0,v[0]]},y.gray.lab=function(v){return[v[0],0,0]},y.gray.hex=function(v){const _=255&Math.round(v[0]/100*255),A=((_<<16)+(_<<8)+_).toString(16).toUpperCase();return"000000".substring(A.length)+A},y.rgb.gray=function(v){return[(v[0]+v[1]+v[2])/3/255*100]}},2085:(c,u,h)=>{const m=h(8168),g=h(4111),y={};Object.keys(m).forEach(v=>{y[v]={},Object.defineProperty(y[v],"channels",{value:m[v].channels}),Object.defineProperty(y[v],"labels",{value:m[v].labels});const _=g(v);Object.keys(_).forEach(A=>{const S=_[A];y[v][A]=function(C){const T=function(...N){const j=N[0];if(j==null)return j;j.length>1&&(N=j);const O=C(N);if(typeof O=="object")for(let F=O.length,U=0;U<F;U++)O[U]=Math.round(O[U]);return O};return"conversion"in C&&(T.conversion=C.conversion),T}(S),y[v][A].raw=function(C){const T=function(...N){const j=N[0];return j==null?j:(j.length>1&&(N=j),C(N))};return"conversion"in C&&(T.conversion=C.conversion),T}(S)})}),c.exports=y},4111:(c,u,h)=>{const m=h(8168);function g(_){const A=function(){const C={},T=Object.keys(m);for(let N=T.length,j=0;j<N;j++)C[T[j]]={distance:-1,parent:null};return C}(),S=[_];for(A[_].distance=0;S.length;){const C=S.pop(),T=Object.keys(m[C]);for(let N=T.length,j=0;j<N;j++){const O=T[j],F=A[O];F.distance===-1&&(F.distance=A[C].distance+1,F.parent=C,S.unshift(O))}}return A}function y(_,A){return function(S){return A(_(S))}}function v(_,A){const S=[A[_].parent,_];let C=m[A[_].parent][_],T=A[_].parent;for(;A[T].parent;)S.unshift(A[T].parent),C=y(m[A[T].parent][T],C),T=A[T].parent;return C.conversion=S,C}c.exports=function(_){const A=g(_),S={},C=Object.keys(A);for(let T=C.length,N=0;N<T;N++){const j=C[N];A[j].parent!==null&&(S[j]=v(j,A))}return S}},8874:c=>{c.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},8767:c=>{function u(h){if(h)return function(m){for(var g in u.prototype)m[g]=u.prototype[g];return m}(h)}c.exports=u,u.prototype.on=u.prototype.addEventListener=function(h,m){return this._callbacks=this._callbacks||{},(this._callbacks["$"+h]=this._callbacks["$"+h]||[]).push(m),this},u.prototype.once=function(h,m){function g(){this.off(h,g),m.apply(this,arguments)}return g.fn=m,this.on(h,g),this},u.prototype.off=u.prototype.removeListener=u.prototype.removeAllListeners=u.prototype.removeEventListener=function(h,m){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var g,y=this._callbacks["$"+h];if(!y)return this;if(arguments.length==1)return delete this._callbacks["$"+h],this;for(var v=0;v<y.length;v++)if((g=y[v])===m||g.fn===m){y.splice(v,1);break}return y.length===0&&delete this._callbacks["$"+h],this},u.prototype.emit=function(h){this._callbacks=this._callbacks||{};for(var m=new Array(arguments.length-1),g=this._callbacks["$"+h],y=1;y<arguments.length;y++)m[y-1]=arguments[y];if(g){y=0;for(var v=(g=g.slice(0)).length;y<v;++y)g[y].apply(this,m)}return this},u.prototype.listeners=function(h){return this._callbacks=this._callbacks||{},this._callbacks["$"+h]||[]},u.prototype.hasListeners=function(h){return!!this.listeners(h).length}},5363:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}",""]);const _=v},3789:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}",""]);const _=v},799:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',""]);const _=v},3624:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}",""]);const _=v},7372:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}",""]);const _=v},5037:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}",""]);const _=v},4249:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}",""]);const _=v},2430:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}",""]);const _=v},2423:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}",""]);const _=v},2400:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}",""]);const _=v},3534:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}",""]);const _=v},1547:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',""]);const _=v},6618:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',""]);const _=v},2926:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}",""]);const _=v},5269:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}",""]);const _=v},3925:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}",""]);const _=v},7536:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}",""]);const _=v},4874:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}",""]);const _=v},4784:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}",""]);const _=v},8705:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}",""]);const _=v},1922:(c,u,h)=>{h.d(u,{Z:()=>B});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y),_=h(1667),A=h.n(_),S=new URL(h(4493),h.b),C=new URL(h(2739),h.b),T=new URL(h(6631),h.b),N=new URL(h(7511),h.b),j=v()(g()),O=A()(S),F=A()(C),U=A()(T),V=A()(N);j.push([c.id,`.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(${O})}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(${F})}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(${U})}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(${V})}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}`,""]);const B=j},7138:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}",""]);const _=v},468:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}",""]);const _=v},2510:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}",""]);const _=v},8361:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}",""]);const _=v},1546:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',""]);const _=v},4029:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-modal)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}",""]);const _=v},4971:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}",""]);const _=v},7258:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}",""]);const _=v},4923:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}",""]);const _=v},4257:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}",""]);const _=v},6306:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}",""]);const _=v},5062:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}",""]);const _=v},1883:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}",""]);const _=v},4791:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',""]);const _=v},2704:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}",""]);const _=v},9847:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}",""]);const _=v},1874:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header .ck-icon{margin-right:var(--ck-spacing-medium)}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}",""]);const _=v},4746:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}",""]);const _=v},1977:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}",""]);const _=v},2470:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}",""]);const _=v},3525:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}",""]);const _=v},2933:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}",""]);const _=v},179:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>span{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}",""]);const _=v},4460:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',""]);const _=v},7592:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}",""]);const _=v},6356:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}",""]);const _=v},3707:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}",""]);const _=v},6603:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',""]);const _=v},9332:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}",""]);const _=v},6446:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:rotate 1.5s linear infinite}.ck.ck-spinner,.ck.ck-spinner-container{height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent}@keyframes rotate{to{transform:rotate(1turn)}}",""]);const _=v},5224:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck-textarea{overflow-x:hidden}",""]);const _=v},4176:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}",""]);const _=v},4768:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}",""]);const _=v},3888:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}",""]);const _=v},5167:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-modal) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}",""]);const _=v},7153:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}",""]);const _=v},4875:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}",""]);const _=v},2347:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',""]);const _=v},6059:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,".ck-content pre{background:hsla(0,0%,78%,.3);border:1px solid #c4c4c4;border-radius:2px;color:#353535;direction:ltr;font-style:normal;min-width:200px;padding:1em;tab-size:4;text-align:left;white-space:pre-wrap}.ck-content pre code{background:unset;border-radius:0;padding:0}.ck.ck-editor__editable pre{position:relative}.ck.ck-editor__editable pre[data-language]:after{content:attr(data-language);position:absolute}:root{--ck-color-code-block-label-background:#757575}.ck.ck-editor__editable pre[data-language]:after{background:var(--ck-color-code-block-label-background);color:#fff;font-family:var(--ck-font-face);font-size:10px;line-height:16px;padding:var(--ck-spacing-tiny) var(--ck-spacing-medium);right:10px;top:-1px;white-space:nowrap}.ck.ck-code-block-dropdown .ck-dropdown__panel{max-height:250px;overflow-x:hidden;overflow-y:auto}",""]);const _=v},9330:(c,u,h)=>{h.d(u,{Z:()=>_});var m=h(8081),g=h.n(m),y=h(3645),v=h.n(y)()(g());v.push([c.id,'.dnx-box{background-color:#fff;color:#4a4a4a;display:block;padding:3.25rem}.dnx-modal lable{display:inline-block;font-weight:700;margin-bottom:5px}.dnx-modal input{-webkit-tap-highlight-color:rgba(255,255,255,0);background:#fff;border:1px solid rgba(34,36,38,.15);border-radius:.28571429rem;box-shadow:none;color:rgba(0,0,0,.87);flex:1 0 auto;line-height:1.21428571em;margin:0;outline:0;padding:.67857143em 1em;text-align:left;transition:box-shadow .1s ease,border-color .1s ease;width:100%}.dnx-modal input:focus{background:#fff;border-color:#85b7d9;-webkit-box-shadow:none;box-shadow:none;color:rgba(0,0,0,.8)}.dnx-modal{background:#fff;box-shadow:0 0 30px 5px rgba(0,0,0,.5);display:block;height:80%;left:50%;position:fixed;top:50%;transform:translate(-50%,-50%);width:70%;z-index:501}.dnx-modal-overlay.closed,.dnx-modal.closed{display:none}.dnx-modal-overlay{background:rgba(0,0,0,.2);height:100%;left:0;position:fixed;top:0;width:100%;z-index:500}.dnx-modal .modal-guts{left:0;overflow:hidden;position:absolute;top:0;width:100%}.dnx-close-button{height:28px;opacity:.3;position:absolute;right:15px;top:15px;width:28px;z-index:600}.dnx-close-button:hover{opacity:1}.dnx-close-button:after,.dnx-close-button:before{background-color:#333;content:" ";height:20px;left:15px;position:absolute;width:2px}.dnx-close-button:before{transform:rotate(45deg)}.dnx-close-button:after{transform:rotate(-45deg)}.dnx-unsplash-box{background-color:#fff;border-radius:6px;box-shadow:0 2px 3px hsla(0,0%,4%,.1),0 0 0 1px hsla(0,0%,4%,.1);color:#4a4a4a;display:block;padding:1.5rem}.dnx-photo-grid{display:flex;flex-wrap:wrap;height:70vh;list-style:none;margin:0 -8px -8px 0;overflow:auto;padding:0}.dnx-modal .dnx-photo-grid::-webkit-scrollbar{display:none}.dnx-photo-grid li{-webkit-box-flex:1;flex-grow:1;height:20vh;margin:0 8px 8px 0}.dnx-photo-grid li:last-child{-webkit-box-flex:10;flex-grow:10}.dnx-photo-grid img{border-radius:4px;cursor:pointer;max-height:100%;min-width:100%;-o-object-fit:cover;object-fit:cover;vertical-align:bottom}@media only screen and (max-width:768px){.dnx-box{padding:3.25rem 1.5rem}.dnx-modal{width:95%}}',""]);const _=v},3645:c=>{c.exports=function(u){var h=[];return h.toString=function(){return this.map(function(m){var g="",y=m[5]!==void 0;return m[4]&&(g+="@supports (".concat(m[4],") {")),m[2]&&(g+="@media ".concat(m[2]," {")),y&&(g+="@layer".concat(m[5].length>0?" ".concat(m[5]):""," {")),g+=u(m),y&&(g+="}"),m[2]&&(g+="}"),m[4]&&(g+="}"),g}).join("")},h.i=function(m,g,y,v,_){typeof m=="string"&&(m=[[null,m,void 0]]);var A={};if(y)for(var S=0;S<this.length;S++){var C=this[S][0];C!=null&&(A[C]=!0)}for(var T=0;T<m.length;T++){var N=[].concat(m[T]);y&&A[N[0]]||(_!==void 0&&(N[5]===void 0||(N[1]="@layer".concat(N[5].length>0?" ".concat(N[5]):""," {").concat(N[1],"}")),N[5]=_),g&&(N[2]&&(N[1]="@media ".concat(N[2]," {").concat(N[1],"}")),N[2]=g),v&&(N[4]?(N[1]="@supports (".concat(N[4],") {").concat(N[1],"}"),N[4]=v):N[4]="".concat(v)),h.push(N))}},h}},1667:c=>{c.exports=function(u,h){return h||(h={}),u&&(u=String(u.__esModule?u.default:u),/^['"].*['"]$/.test(u)&&(u=u.slice(1,-1)),h.hash&&(u+=h.hash),/["'() \t\n]|(%20)/.test(u)||h.needQuotes?'"'.concat(u.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):u)}},8081:c=>{c.exports=function(u){return u[1]}},4445:c=>{c.exports=v,v.default=v,v.stable=C,v.stableStringify=C;var u="[...]",h="[Circular]",m=[],g=[];function y(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function v(j,O,F,U){var V;U===void 0&&(U=y()),A(j,"",0,[],void 0,0,U);try{V=g.length===0?JSON.stringify(j,O,F):JSON.stringify(j,N(O),F)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;m.length!==0;){var B=m.pop();B.length===4?Object.defineProperty(B[0],B[1],B[3]):B[0][B[1]]=B[2]}}return V}function _(j,O,F,U){var V=Object.getOwnPropertyDescriptor(U,F);V.get!==void 0?V.configurable?(Object.defineProperty(U,F,{value:j}),m.push([U,F,O,V])):g.push([O,F,j]):(U[F]=j,m.push([U,F,O]))}function A(j,O,F,U,V,B,K){var oe;if(B+=1,typeof j=="object"&&j!==null){for(oe=0;oe<U.length;oe++)if(U[oe]===j)return void _(h,j,O,V);if(K.depthLimit!==void 0&&B>K.depthLimit||K.edgesLimit!==void 0&&F+1>K.edgesLimit)return void _(u,j,O,V);if(U.push(j),Array.isArray(j))for(oe=0;oe<j.length;oe++)A(j[oe],oe,oe,U,j,B,K);else{var me=Object.keys(j);for(oe=0;oe<me.length;oe++){var Q=me[oe];A(j[Q],Q,oe,U,j,B,K)}}U.pop()}}function S(j,O){return j<O?-1:j>O?1:0}function C(j,O,F,U){U===void 0&&(U=y());var V,B=T(j,"",0,[],void 0,0,U)||j;try{V=g.length===0?JSON.stringify(B,O,F):JSON.stringify(B,N(O),F)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;m.length!==0;){var K=m.pop();K.length===4?Object.defineProperty(K[0],K[1],K[3]):K[0][K[1]]=K[2]}}return V}function T(j,O,F,U,V,B,K){var oe;if(B+=1,typeof j=="object"&&j!==null){for(oe=0;oe<U.length;oe++)if(U[oe]===j)return void _(h,j,O,V);try{if(typeof j.toJSON=="function")return}catch{return}if(K.depthLimit!==void 0&&B>K.depthLimit||K.edgesLimit!==void 0&&F+1>K.edgesLimit)return void _(u,j,O,V);if(U.push(j),Array.isArray(j))for(oe=0;oe<j.length;oe++)T(j[oe],oe,oe,U,j,B,K);else{var me={},Q=Object.keys(j).sort(S);for(oe=0;oe<Q.length;oe++){var ge=Q[oe];T(j[ge],ge,oe,U,j,B,K),me[ge]=j[ge]}if(V===void 0)return me;m.push([V,O,j]),V[O]=me}U.pop()}}function N(j){return j=j!==void 0?j:function(O,F){return F},function(O,F){if(g.length>0)for(var U=0;U<g.length;U++){var V=g[U];if(V[1]===O&&V[0]===F){F=V[2],g.splice(U,1);break}}return j.call(this,O,F)}}},7648:c=>{var u=Array.prototype.slice,h=Object.prototype.toString;c.exports=function(m){var g=this;if(typeof g!="function"||h.call(g)!=="[object Function]")throw new TypeError("Function.prototype.bind called on incompatible "+g);for(var y,v=u.call(arguments,1),_=Math.max(0,g.length-v.length),A=[],S=0;S<_;S++)A.push("$"+S);if(y=Function("binder","return function ("+A.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof y){var T=g.apply(this,v.concat(u.call(arguments)));return Object(T)===T?T:this}return g.apply(m,v.concat(u.call(arguments)))}),g.prototype){var C=function(){};C.prototype=g.prototype,y.prototype=new C,C.prototype=null}return y}},8612:(c,u,h)=>{var m=h(7648);c.exports=Function.prototype.bind||m},210:(c,u,h)=>{var m,g=SyntaxError,y=Function,v=TypeError,_=function(X){try{return y('"use strict"; return ('+X+").constructor;")()}catch{}},A=Object.getOwnPropertyDescriptor;if(A)try{A({},"")}catch{A=null}var S=function(){throw new v},C=A?function(){try{return S}catch{try{return A(arguments,"callee").get}catch{return S}}}():S,T=h(1405)(),N=Object.getPrototypeOf||function(X){return X.__proto__},j={},O=typeof Uint8Array>"u"?m:N(Uint8Array),F={"%AggregateError%":typeof AggregateError>"u"?m:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?m:ArrayBuffer,"%ArrayIteratorPrototype%":T?N([][Symbol.iterator]()):m,"%AsyncFromSyncIteratorPrototype%":m,"%AsyncFunction%":j,"%AsyncGenerator%":j,"%AsyncGeneratorFunction%":j,"%AsyncIteratorPrototype%":j,"%Atomics%":typeof Atomics>"u"?m:Atomics,"%BigInt%":typeof BigInt>"u"?m:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?m:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?m:Float32Array,"%Float64Array%":typeof Float64Array>"u"?m:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?m:FinalizationRegistry,"%Function%":y,"%GeneratorFunction%":j,"%Int8Array%":typeof Int8Array>"u"?m:Int8Array,"%Int16Array%":typeof Int16Array>"u"?m:Int16Array,"%Int32Array%":typeof Int32Array>"u"?m:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":T?N(N([][Symbol.iterator]())):m,"%JSON%":typeof JSON=="object"?JSON:m,"%Map%":typeof Map>"u"?m:Map,"%MapIteratorPrototype%":typeof Map<"u"&&T?N(new Map()[Symbol.iterator]()):m,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?m:Promise,"%Proxy%":typeof Proxy>"u"?m:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?m:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?m:Set,"%SetIteratorPrototype%":typeof Set<"u"&&T?N(new Set()[Symbol.iterator]()):m,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?m:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":T?N(""[Symbol.iterator]()):m,"%Symbol%":T?Symbol:m,"%SyntaxError%":g,"%ThrowTypeError%":C,"%TypedArray%":O,"%TypeError%":v,"%Uint8Array%":typeof Uint8Array>"u"?m:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?m:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?m:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?m:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?m:WeakMap,"%WeakRef%":typeof WeakRef>"u"?m:WeakRef,"%WeakSet%":typeof WeakSet>"u"?m:WeakSet},U=function X(Y){var ne;if(Y==="%AsyncFunction%")ne=_("async function () {}");else if(Y==="%GeneratorFunction%")ne=_("function* () {}");else if(Y==="%AsyncGeneratorFunction%")ne=_("async function* () {}");else if(Y==="%AsyncGenerator%"){var ee=X("%AsyncGeneratorFunction%");ee&&(ne=ee.prototype)}else if(Y==="%AsyncIteratorPrototype%"){var ue=X("%AsyncGenerator%");ue&&(ne=N(ue.prototype))}return F[Y]=ne,ne},V={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},B=h(8612),K=h(7642),oe=B.call(Function.call,Array.prototype.concat),me=B.call(Function.apply,Array.prototype.splice),Q=B.call(Function.call,String.prototype.replace),ge=B.call(Function.call,String.prototype.slice),$=B.call(Function.call,RegExp.prototype.exec),De=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ie=/\\(\\)?/g,ce=function(X,Y){var ne,ee=X;if(K(V,ee)&&(ee="%"+(ne=V[ee])[0]+"%"),K(F,ee)){var ue=F[ee];if(ue===j&&(ue=U(ee)),ue===void 0&&!Y)throw new v("intrinsic "+X+" exists, but is not available. Please file an issue!");return{alias:ne,name:ee,value:ue}}throw new g("intrinsic "+X+" does not exist!")};c.exports=function(X,Y){if(typeof X!="string"||X.length===0)throw new v("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Y!="boolean")throw new v('"allowMissing" argument must be a boolean');if($(/^%?[^%]*%?$/,X)===null)throw new g("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ne=function(ze){var G=ge(ze,0,1),Ce=ge(ze,-1);if(G==="%"&&Ce!=="%")throw new g("invalid intrinsic syntax, expected closing `%`");if(Ce==="%"&&G!=="%")throw new g("invalid intrinsic syntax, expected opening `%`");var Ie=[];return Q(ze,De,function(be,_e,Se,He){Ie[Ie.length]=Se?Q(He,ie,"$1"):_e||be}),Ie}(X),ee=ne.length>0?ne[0]:"",ue=ce("%"+ee+"%",Y),Z=ue.name,xe=ue.value,Ae=!1,Oe=ue.alias;Oe&&(ee=Oe[0],me(ne,oe([0,1],Oe)));for(var Pe=1,Me=!0;Pe<ne.length;Pe+=1){var Ve=ne[Pe],Le=ge(Ve,0,1),Ee=ge(Ve,-1);if((Le==='"'||Le==="'"||Le==="`"||Ee==='"'||Ee==="'"||Ee==="`")&&Le!==Ee)throw new g("property names with quotes must have matching quotes");if(Ve!=="constructor"&&Me||(Ae=!0),K(F,Z="%"+(ee+="."+Ve)+"%"))xe=F[Z];else if(xe!=null){if(!(Ve in xe)){if(!Y)throw new v("base intrinsic for "+X+" exists, but the property is not available.");return}if(A&&Pe+1>=ne.length){var we=A(xe,Ve);xe=(Me=!!we)&&"get"in we&&!("originalValue"in we.get)?we.get:xe[Ve]}else Me=K(xe,Ve),xe=xe[Ve];Me&&!Ae&&(F[Z]=xe)}}return xe}},1405:(c,u,h)=>{var m=typeof Symbol<"u"&&Symbol,g=h(5419);c.exports=function(){return typeof m=="function"&&typeof Symbol=="function"&&typeof m("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&g()}},5419:c=>{c.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var u={},h=Symbol("test"),m=Object(h);if(typeof h=="string"||Object.prototype.toString.call(h)!=="[object Symbol]"||Object.prototype.toString.call(m)!=="[object Symbol]")return!1;for(h in u[h]=42,u)return!1;if(typeof Object.keys=="function"&&Object.keys(u).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(u).length!==0)return!1;var g=Object.getOwnPropertySymbols(u);if(g.length!==1||g[0]!==h||!Object.prototype.propertyIsEnumerable.call(u,h))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var y=Object.getOwnPropertyDescriptor(u,h);if(y.value!==42||y.enumerable!==!0)return!1}return!0}},7642:(c,u,h)=>{var m=h(8612);c.exports=m.call(Function.call,Object.prototype.hasOwnProperty)},7418:c=>{var u=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable;c.exports=function(){try{if(!Object.assign)return!1;var g=new String("abc");if(g[5]="de",Object.getOwnPropertyNames(g)[0]==="5")return!1;for(var y={},v=0;v<10;v++)y["_"+String.fromCharCode(v)]=v;if(Object.getOwnPropertyNames(y).map(function(A){return y[A]}).join("")!=="0123456789")return!1;var _={};return"abcdefghijklmnopqrst".split("").forEach(function(A){_[A]=A}),Object.keys(Object.assign({},_)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(g,y){for(var v,_,A=function(N){if(N==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(N)}(g),S=1;S<arguments.length;S++){for(var C in v=Object(arguments[S]))h.call(v,C)&&(A[C]=v[C]);if(u){_=u(v);for(var T=0;T<_.length;T++)m.call(v,_[T])&&(A[_[T]]=v[_[T]])}}return A}},631:(c,u,h)=>{var m=typeof Map=="function"&&Map.prototype,g=Object.getOwnPropertyDescriptor&&m?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,y=m&&g&&typeof g.get=="function"?g.get:null,v=m&&Map.prototype.forEach,_=typeof Set=="function"&&Set.prototype,A=Object.getOwnPropertyDescriptor&&_?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,S=_&&A&&typeof A.get=="function"?A.get:null,C=_&&Set.prototype.forEach,T=typeof WeakMap=="function"&&WeakMap.prototype?WeakMap.prototype.has:null,N=typeof WeakSet=="function"&&WeakSet.prototype?WeakSet.prototype.has:null,j=typeof WeakRef=="function"&&WeakRef.prototype?WeakRef.prototype.deref:null,O=Boolean.prototype.valueOf,F=Object.prototype.toString,U=Function.prototype.toString,V=String.prototype.match,B=String.prototype.slice,K=String.prototype.replace,oe=String.prototype.toUpperCase,me=String.prototype.toLowerCase,Q=RegExp.prototype.test,ge=Array.prototype.concat,$=Array.prototype.join,De=Array.prototype.slice,ie=Math.floor,ce=typeof BigInt=="function"?BigInt.prototype.valueOf:null,X=Object.getOwnPropertySymbols,Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ne=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ee=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ne||!0)?Symbol.toStringTag:null,ue=Object.prototype.propertyIsEnumerable,Z=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(ke){return ke.__proto__}:null);function xe(ke,le){if(ke===1/0||ke===-1/0||ke!=ke||ke&&ke>-1e3&&ke<1e3||Q.call(/e/,le))return le;var Ue=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof ke=="number"){var et=ke<0?-ie(-ke):ie(ke);if(et!==ke){var nt=String(et),ct=B.call(le,nt.length+1);return K.call(nt,Ue,"$&_")+"."+K.call(K.call(ct,/([0-9]{3})/g,"$&_"),/_$/,"")}}return K.call(le,Ue,"$&_")}var Ae=h(4654),Oe=Ae.custom,Pe=we(Oe)?Oe:null;function Me(ke,le,Ue){var et=(Ue.quoteStyle||le)==="double"?'"':"'";return et+ke+et}function Ve(ke){return K.call(String(ke),/"/g,"&quot;")}function Le(ke){return!(Ce(ke)!=="[object Array]"||ee&&typeof ke=="object"&&ee in ke)}function Ee(ke){return!(Ce(ke)!=="[object RegExp]"||ee&&typeof ke=="object"&&ee in ke)}function we(ke){if(ne)return ke&&typeof ke=="object"&&ke instanceof Symbol;if(typeof ke=="symbol")return!0;if(!ke||typeof ke!="object"||!Y)return!1;try{return Y.call(ke),!0}catch{}return!1}c.exports=function ke(le,Ue,et,nt){var ct=Ue||{};if(G(ct,"quoteStyle")&&ct.quoteStyle!=="single"&&ct.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(G(ct,"maxStringLength")&&(typeof ct.maxStringLength=="number"?ct.maxStringLength<0&&ct.maxStringLength!==1/0:ct.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var ht=!G(ct,"customInspect")||ct.customInspect;if(typeof ht!="boolean"&&ht!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(G(ct,"indent")&&ct.indent!==null&&ct.indent!=="	"&&!(parseInt(ct.indent,10)===ct.indent&&ct.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(G(ct,"numericSeparator")&&typeof ct.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Pt=ct.numericSeparator;if(le===void 0)return"undefined";if(le===null)return"null";if(typeof le=="boolean")return le?"true":"false";if(typeof le=="string")return be(le,ct);if(typeof le=="number"){if(le===0)return 1/0/le>0?"0":"-0";var Bt=String(le);return Pt?xe(le,Bt):Bt}if(typeof le=="bigint"){var bt=String(le)+"n";return Pt?xe(le,bt):bt}var Yt=ct.depth===void 0?5:ct.depth;if(et===void 0&&(et=0),et>=Yt&&Yt>0&&typeof le=="object")return Le(le)?"[Array]":"[Object]";var mn=function(ft,An){var js;if(ft.indent==="	")js="	";else{if(!(typeof ft.indent=="number"&&ft.indent>0))return null;js=$.call(Array(ft.indent+1)," ")}return{base:js,prev:$.call(Array(An+1),js)}}(ct,et);if(nt===void 0)nt=[];else if(Ie(nt,le)>=0)return"[Circular]";function qt(ft,An,js){if(An&&(nt=De.call(nt)).push(An),js){var ss={depth:ct.depth};return G(ct,"quoteStyle")&&(ss.quoteStyle=ct.quoteStyle),ke(ft,ss,et+1,nt)}return ke(ft,ct,et+1,nt)}if(typeof le=="function"&&!Ee(le)){var Vn=function(ft){if(ft.name)return ft.name;var An=V.call(U.call(ft),/^function\s*([\w$]+)/);return An?An[1]:null}(le),rs=Te(le,qt);return"[Function"+(Vn?": "+Vn:" (anonymous)")+"]"+(rs.length>0?" { "+$.call(rs,", ")+" }":"")}if(we(le)){var Ir=ne?K.call(String(le),/^(Symbol\(.*\))_[^)]*$/,"$1"):Y.call(le);return typeof le!="object"||ne?Ir:Se(Ir)}if(function(ft){return!ft||typeof ft!="object"?!1:typeof HTMLElement<"u"&&ft instanceof HTMLElement?!0:typeof ft.nodeName=="string"&&typeof ft.getAttribute=="function"}(le)){for(var Rr="<"+me.call(String(le.nodeName)),ji=le.attributes||[],bi=0;bi<ji.length;bi++)Rr+=" "+ji[bi].name+"="+Me(Ve(ji[bi].value),"double",ct);return Rr+=">",le.childNodes&&le.childNodes.length&&(Rr+="..."),Rr+="</"+me.call(String(le.nodeName))+">"}if(Le(le)){if(le.length===0)return"[]";var yi=Te(le,qt);return mn&&!function(ft){for(var An=0;An<ft.length;An++)if(Ie(ft[An],`
`)>=0)return!1;return!0}(yi)?"["+Fe(yi,mn)+"]":"[ "+$.call(yi,", ")+" ]"}if(function(ft){return!(Ce(ft)!=="[object Error]"||ee&&typeof ft=="object"&&ee in ft)}(le)){var vi=Te(le,qt);return"cause"in Error.prototype||!("cause"in le)||ue.call(le,"cause")?vi.length===0?"["+String(le)+"]":"{ ["+String(le)+"] "+$.call(vi,", ")+" }":"{ ["+String(le)+"] "+$.call(ge.call("[cause]: "+qt(le.cause),vi),", ")+" }"}if(typeof le=="object"&&ht){if(Pe&&typeof le[Pe]=="function"&&Ae)return Ae(le,{depth:Yt-et});if(ht!=="symbol"&&typeof le.inspect=="function")return le.inspect()}if(function(ft){if(!y||!ft||typeof ft!="object")return!1;try{y.call(ft);try{S.call(ft)}catch{return!0}return ft instanceof Map}catch{}return!1}(le)){var wt=[];return v.call(le,function(ft,An){wt.push(qt(An,le,!0)+" => "+qt(ft,le))}),qe("Map",y.call(le),wt,mn)}if(function(ft){if(!S||!ft||typeof ft!="object")return!1;try{S.call(ft);try{y.call(ft)}catch{return!0}return ft instanceof Set}catch{}return!1}(le)){var Ht=[];return C.call(le,function(ft){Ht.push(qt(ft,le))}),qe("Set",S.call(le),Ht,mn)}if(function(ft){if(!T||!ft||typeof ft!="object")return!1;try{T.call(ft,T);try{N.call(ft,N)}catch{return!0}return ft instanceof WeakMap}catch{}return!1}(le))return He("WeakMap");if(function(ft){if(!N||!ft||typeof ft!="object")return!1;try{N.call(ft,N);try{T.call(ft,T)}catch{return!0}return ft instanceof WeakSet}catch{}return!1}(le))return He("WeakSet");if(function(ft){if(!j||!ft||typeof ft!="object")return!1;try{return j.call(ft),!0}catch{}return!1}(le))return He("WeakRef");if(function(ft){return!(Ce(ft)!=="[object Number]"||ee&&typeof ft=="object"&&ee in ft)}(le))return Se(qt(Number(le)));if(function(ft){if(!ft||typeof ft!="object"||!ce)return!1;try{return ce.call(ft),!0}catch{}return!1}(le))return Se(qt(ce.call(le)));if(function(ft){return!(Ce(ft)!=="[object Boolean]"||ee&&typeof ft=="object"&&ee in ft)}(le))return Se(O.call(le));if(function(ft){return!(Ce(ft)!=="[object String]"||ee&&typeof ft=="object"&&ee in ft)}(le))return Se(qt(String(le)));if(!function(ft){return!(Ce(ft)!=="[object Date]"||ee&&typeof ft=="object"&&ee in ft)}(le)&&!Ee(le)){var sn=Te(le,qt),Wn=Z?Z(le)===Object.prototype:le instanceof Object||le.constructor===Object,Xn=le instanceof Object?"":"null prototype",Mr=!Wn&&ee&&Object(le)===le&&ee in le?B.call(Ce(le),8,-1):Xn?"Object":"",Ji=(Wn||typeof le.constructor!="function"?"":le.constructor.name?le.constructor.name+" ":"")+(Mr||Xn?"["+$.call(ge.call([],Mr||[],Xn||[]),": ")+"] ":"");return sn.length===0?Ji+"{}":mn?Ji+"{"+Fe(sn,mn)+"}":Ji+"{ "+$.call(sn,", ")+" }"}return String(le)};var ze=Object.prototype.hasOwnProperty||function(ke){return ke in this};function G(ke,le){return ze.call(ke,le)}function Ce(ke){return F.call(ke)}function Ie(ke,le){if(ke.indexOf)return ke.indexOf(le);for(var Ue=0,et=ke.length;Ue<et;Ue++)if(ke[Ue]===le)return Ue;return-1}function be(ke,le){if(ke.length>le.maxStringLength){var Ue=ke.length-le.maxStringLength,et="... "+Ue+" more character"+(Ue>1?"s":"");return be(B.call(ke,0,le.maxStringLength),le)+et}return Me(K.call(K.call(ke,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,_e),"single",le)}function _e(ke){var le=ke.charCodeAt(0),Ue={8:"b",9:"t",10:"n",12:"f",13:"r"}[le];return Ue?"\\"+Ue:"\\x"+(le<16?"0":"")+oe.call(le.toString(16))}function Se(ke){return"Object("+ke+")"}function He(ke){return ke+" { ? }"}function qe(ke,le,Ue,et){return ke+" ("+le+") {"+(et?Fe(Ue,et):$.call(Ue,", "))+"}"}function Fe(ke,le){if(ke.length===0)return"";var Ue=`
`+le.prev+le.base;return Ue+$.call(ke,","+Ue)+`
`+le.prev}function Te(ke,le){var Ue=Le(ke),et=[];if(Ue){et.length=ke.length;for(var nt=0;nt<ke.length;nt++)et[nt]=G(ke,nt)?le(ke[nt],ke):""}var ct,ht=typeof X=="function"?X(ke):[];if(ne){ct={};for(var Pt=0;Pt<ht.length;Pt++)ct["$"+ht[Pt]]=ht[Pt]}for(var Bt in ke)G(ke,Bt)&&(Ue&&String(Number(Bt))===Bt&&Bt<ke.length||ne&&ct["$"+Bt]instanceof Symbol||(Q.call(/[^\w$]/,Bt)?et.push(le(Bt,ke)+": "+le(ke[Bt],ke)):et.push(Bt+": "+le(ke[Bt],ke))));if(typeof X=="function")for(var bt=0;bt<ht.length;bt++)ue.call(ke,ht[bt])&&et.push("["+le(ht[bt])+"]: "+le(ke[ht[bt]],ke));return et}},5798:c=>{var u=String.prototype.replace,h=/%20/g,m="RFC1738",g="RFC3986";c.exports={default:g,formatters:{RFC1738:function(y){return u.call(y,h,"+")},RFC3986:function(y){return String(y)}},RFC1738:m,RFC3986:g}},129:(c,u,h)=>{var m=h(8261),g=h(5235),y=h(5798);c.exports={formats:y,parse:g,stringify:m}},5235:(c,u,h)=>{var m=h(2769),g=Object.prototype.hasOwnProperty,y=Array.isArray,v={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:m.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},_=function(C){return C.replace(/&#(\d+);/g,function(T,N){return String.fromCharCode(parseInt(N,10))})},A=function(C,T){return C&&typeof C=="string"&&T.comma&&C.indexOf(",")>-1?C.split(","):C},S=function(C,T,N,j){if(C){var O=N.allowDots?C.replace(/\.([^.[]+)/g,"[$1]"):C,F=/(\[[^[\]]*])/g,U=N.depth>0&&/(\[[^[\]]*])/.exec(O),V=U?O.slice(0,U.index):O,B=[];if(V){if(!N.plainObjects&&g.call(Object.prototype,V)&&!N.allowPrototypes)return;B.push(V)}for(var K=0;N.depth>0&&(U=F.exec(O))!==null&&K<N.depth;){if(K+=1,!N.plainObjects&&g.call(Object.prototype,U[1].slice(1,-1))&&!N.allowPrototypes)return;B.push(U[1])}return U&&B.push("["+O.slice(U.index)+"]"),function(oe,me,Q,ge){for(var $=ge?me:A(me,Q),De=oe.length-1;De>=0;--De){var ie,ce=oe[De];if(ce==="[]"&&Q.parseArrays)ie=[].concat($);else{ie=Q.plainObjects?Object.create(null):{};var X=ce.charAt(0)==="["&&ce.charAt(ce.length-1)==="]"?ce.slice(1,-1):ce,Y=parseInt(X,10);Q.parseArrays||X!==""?!isNaN(Y)&&ce!==X&&String(Y)===X&&Y>=0&&Q.parseArrays&&Y<=Q.arrayLimit?(ie=[])[Y]=$:X!=="__proto__"&&(ie[X]=$):ie={0:$}}$=ie}return $}(B,T,N,j)}};c.exports=function(C,T){var N=function(K){if(!K)return v;if(K.decoder!==null&&K.decoder!==void 0&&typeof K.decoder!="function")throw new TypeError("Decoder has to be a function.");if(K.charset!==void 0&&K.charset!=="utf-8"&&K.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var oe=K.charset===void 0?v.charset:K.charset;return{allowDots:K.allowDots===void 0?v.allowDots:!!K.allowDots,allowPrototypes:typeof K.allowPrototypes=="boolean"?K.allowPrototypes:v.allowPrototypes,allowSparse:typeof K.allowSparse=="boolean"?K.allowSparse:v.allowSparse,arrayLimit:typeof K.arrayLimit=="number"?K.arrayLimit:v.arrayLimit,charset:oe,charsetSentinel:typeof K.charsetSentinel=="boolean"?K.charsetSentinel:v.charsetSentinel,comma:typeof K.comma=="boolean"?K.comma:v.comma,decoder:typeof K.decoder=="function"?K.decoder:v.decoder,delimiter:typeof K.delimiter=="string"||m.isRegExp(K.delimiter)?K.delimiter:v.delimiter,depth:typeof K.depth=="number"||K.depth===!1?+K.depth:v.depth,ignoreQueryPrefix:K.ignoreQueryPrefix===!0,interpretNumericEntities:typeof K.interpretNumericEntities=="boolean"?K.interpretNumericEntities:v.interpretNumericEntities,parameterLimit:typeof K.parameterLimit=="number"?K.parameterLimit:v.parameterLimit,parseArrays:K.parseArrays!==!1,plainObjects:typeof K.plainObjects=="boolean"?K.plainObjects:v.plainObjects,strictNullHandling:typeof K.strictNullHandling=="boolean"?K.strictNullHandling:v.strictNullHandling}}(T);if(C===""||C==null)return N.plainObjects?Object.create(null):{};for(var j=typeof C=="string"?function(K,oe){var me,Q={},ge=oe.ignoreQueryPrefix?K.replace(/^\?/,""):K,$=oe.parameterLimit===1/0?void 0:oe.parameterLimit,De=ge.split(oe.delimiter,$),ie=-1,ce=oe.charset;if(oe.charsetSentinel)for(me=0;me<De.length;++me)De[me].indexOf("utf8=")===0&&(De[me]==="utf8=%E2%9C%93"?ce="utf-8":De[me]==="utf8=%26%2310003%3B"&&(ce="iso-8859-1"),ie=me,me=De.length);for(me=0;me<De.length;++me)if(me!==ie){var X,Y,ne=De[me],ee=ne.indexOf("]="),ue=ee===-1?ne.indexOf("="):ee+1;ue===-1?(X=oe.decoder(ne,v.decoder,ce,"key"),Y=oe.strictNullHandling?null:""):(X=oe.decoder(ne.slice(0,ue),v.decoder,ce,"key"),Y=m.maybeMap(A(ne.slice(ue+1),oe),function(Z){return oe.decoder(Z,v.decoder,ce,"value")})),Y&&oe.interpretNumericEntities&&ce==="iso-8859-1"&&(Y=_(Y)),ne.indexOf("[]=")>-1&&(Y=y(Y)?[Y]:Y),g.call(Q,X)?Q[X]=m.combine(Q[X],Y):Q[X]=Y}return Q}(C,N):C,O=N.plainObjects?Object.create(null):{},F=Object.keys(j),U=0;U<F.length;++U){var V=F[U],B=S(V,j[V],N,typeof C=="string");O=m.merge(O,B,N)}return N.allowSparse===!0?O:m.compact(O)}},8261:(c,u,h)=>{var m=h(7478),g=h(2769),y=h(5798),v=Object.prototype.hasOwnProperty,_={brackets:function(V){return V+"[]"},comma:"comma",indices:function(V,B){return V+"["+B+"]"},repeat:function(V){return V}},A=Array.isArray,S=String.prototype.split,C=Array.prototype.push,T=function(V,B){C.apply(V,A(B)?B:[B])},N=Date.prototype.toISOString,j=y.default,O={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:g.encode,encodeValuesOnly:!1,format:j,formatter:y.formatters[j],indices:!1,serializeDate:function(V){return N.call(V)},skipNulls:!1,strictNullHandling:!1},F={},U=function V(B,K,oe,me,Q,ge,$,De,ie,ce,X,Y,ne,ee,ue,Z){for(var xe,Ae=B,Oe=Z,Pe=0,Me=!1;(Oe=Oe.get(F))!==void 0&&!Me;){var Ve=Oe.get(B);if(Pe+=1,Ve!==void 0){if(Ve===Pe)throw new RangeError("Cyclic object value");Me=!0}Oe.get(F)===void 0&&(Pe=0)}if(typeof De=="function"?Ae=De(K,Ae):Ae instanceof Date?Ae=X(Ae):oe==="comma"&&A(Ae)&&(Ae=g.maybeMap(Ae,function(Te){return Te instanceof Date?X(Te):Te})),Ae===null){if(Q)return $&&!ee?$(K,O.encoder,ue,"key",Y):K;Ae=""}if(typeof(xe=Ae)=="string"||typeof xe=="number"||typeof xe=="boolean"||typeof xe=="symbol"||typeof xe=="bigint"||g.isBuffer(Ae)){if($){var Le=ee?K:$(K,O.encoder,ue,"key",Y);if(oe==="comma"&&ee){for(var Ee=S.call(String(Ae),","),we="",ze=0;ze<Ee.length;++ze)we+=(ze===0?"":",")+ne($(Ee[ze],O.encoder,ue,"value",Y));return[ne(Le)+(me&&A(Ae)&&Ee.length===1?"[]":"")+"="+we]}return[ne(Le)+"="+ne($(Ae,O.encoder,ue,"value",Y))]}return[ne(K)+"="+ne(String(Ae))]}var G,Ce=[];if(Ae===void 0)return Ce;if(oe==="comma"&&A(Ae))G=[{value:Ae.length>0?Ae.join(",")||null:void 0}];else if(A(De))G=De;else{var Ie=Object.keys(Ae);G=ie?Ie.sort(ie):Ie}for(var be=me&&A(Ae)&&Ae.length===1?K+"[]":K,_e=0;_e<G.length;++_e){var Se=G[_e],He=typeof Se=="object"&&Se.value!==void 0?Se.value:Ae[Se];if(!ge||He!==null){var qe=A(Ae)?typeof oe=="function"?oe(be,Se):be:be+(ce?"."+Se:"["+Se+"]");Z.set(B,Pe);var Fe=m();Fe.set(F,Z),T(Ce,V(He,qe,oe,me,Q,ge,$,De,ie,ce,X,Y,ne,ee,ue,Fe))}}return Ce};c.exports=function(V,B){var K,oe=V,me=function(ee){if(!ee)return O;if(ee.encoder!==null&&ee.encoder!==void 0&&typeof ee.encoder!="function")throw new TypeError("Encoder has to be a function.");var ue=ee.charset||O.charset;if(ee.charset!==void 0&&ee.charset!=="utf-8"&&ee.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var Z=y.default;if(ee.format!==void 0){if(!v.call(y.formatters,ee.format))throw new TypeError("Unknown format option provided.");Z=ee.format}var xe=y.formatters[Z],Ae=O.filter;return(typeof ee.filter=="function"||A(ee.filter))&&(Ae=ee.filter),{addQueryPrefix:typeof ee.addQueryPrefix=="boolean"?ee.addQueryPrefix:O.addQueryPrefix,allowDots:ee.allowDots===void 0?O.allowDots:!!ee.allowDots,charset:ue,charsetSentinel:typeof ee.charsetSentinel=="boolean"?ee.charsetSentinel:O.charsetSentinel,delimiter:ee.delimiter===void 0?O.delimiter:ee.delimiter,encode:typeof ee.encode=="boolean"?ee.encode:O.encode,encoder:typeof ee.encoder=="function"?ee.encoder:O.encoder,encodeValuesOnly:typeof ee.encodeValuesOnly=="boolean"?ee.encodeValuesOnly:O.encodeValuesOnly,filter:Ae,format:Z,formatter:xe,serializeDate:typeof ee.serializeDate=="function"?ee.serializeDate:O.serializeDate,skipNulls:typeof ee.skipNulls=="boolean"?ee.skipNulls:O.skipNulls,sort:typeof ee.sort=="function"?ee.sort:null,strictNullHandling:typeof ee.strictNullHandling=="boolean"?ee.strictNullHandling:O.strictNullHandling}}(B);typeof me.filter=="function"?oe=(0,me.filter)("",oe):A(me.filter)&&(K=me.filter);var Q,ge=[];if(typeof oe!="object"||oe===null)return"";Q=B&&B.arrayFormat in _?B.arrayFormat:B&&"indices"in B?B.indices?"indices":"repeat":"indices";var $=_[Q];if(B&&"commaRoundTrip"in B&&typeof B.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var De=$==="comma"&&B&&B.commaRoundTrip;K||(K=Object.keys(oe)),me.sort&&K.sort(me.sort);for(var ie=m(),ce=0;ce<K.length;++ce){var X=K[ce];me.skipNulls&&oe[X]===null||T(ge,U(oe[X],X,$,De,me.strictNullHandling,me.skipNulls,me.encode?me.encoder:null,me.filter,me.sort,me.allowDots,me.serializeDate,me.format,me.formatter,me.encodeValuesOnly,me.charset,ie))}var Y=ge.join(me.delimiter),ne=me.addQueryPrefix===!0?"?":"";return me.charsetSentinel&&(me.charset==="iso-8859-1"?ne+="utf8=%26%2310003%3B&":ne+="utf8=%E2%9C%93&"),Y.length>0?ne+Y:""}},2769:(c,u,h)=>{var m=h(5798),g=Object.prototype.hasOwnProperty,y=Array.isArray,v=function(){for(var A=[],S=0;S<256;++S)A.push("%"+((S<16?"0":"")+S.toString(16)).toUpperCase());return A}(),_=function(A,S){for(var C=S&&S.plainObjects?Object.create(null):{},T=0;T<A.length;++T)A[T]!==void 0&&(C[T]=A[T]);return C};c.exports={arrayToObject:_,assign:function(A,S){return Object.keys(S).reduce(function(C,T){return C[T]=S[T],C},A)},combine:function(A,S){return[].concat(A,S)},compact:function(A){for(var S=[{obj:{o:A},prop:"o"}],C=[],T=0;T<S.length;++T)for(var N=S[T],j=N.obj[N.prop],O=Object.keys(j),F=0;F<O.length;++F){var U=O[F],V=j[U];typeof V=="object"&&V!==null&&C.indexOf(V)===-1&&(S.push({obj:j,prop:U}),C.push(V))}return function(B){for(;B.length>1;){var K=B.pop(),oe=K.obj[K.prop];if(y(oe)){for(var me=[],Q=0;Q<oe.length;++Q)oe[Q]!==void 0&&me.push(oe[Q]);K.obj[K.prop]=me}}}(S),A},decode:function(A,S,C){var T=A.replace(/\+/g," ");if(C==="iso-8859-1")return T.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(T)}catch{return T}},encode:function(A,S,C,T,N){if(A.length===0)return A;var j=A;if(typeof A=="symbol"?j=Symbol.prototype.toString.call(A):typeof A!="string"&&(j=String(A)),C==="iso-8859-1")return escape(j).replace(/%u[0-9a-f]{4}/gi,function(V){return"%26%23"+parseInt(V.slice(2),16)+"%3B"});for(var O="",F=0;F<j.length;++F){var U=j.charCodeAt(F);U===45||U===46||U===95||U===126||U>=48&&U<=57||U>=65&&U<=90||U>=97&&U<=122||N===m.RFC1738&&(U===40||U===41)?O+=j.charAt(F):U<128?O+=v[U]:U<2048?O+=v[192|U>>6]+v[128|63&U]:U<55296||U>=57344?O+=v[224|U>>12]+v[128|U>>6&63]+v[128|63&U]:(F+=1,U=65536+((1023&U)<<10|1023&j.charCodeAt(F)),O+=v[240|U>>18]+v[128|U>>12&63]+v[128|U>>6&63]+v[128|63&U])}return O},isBuffer:function(A){return!(!A||typeof A!="object")&&!!(A.constructor&&A.constructor.isBuffer&&A.constructor.isBuffer(A))},isRegExp:function(A){return Object.prototype.toString.call(A)==="[object RegExp]"},maybeMap:function(A,S){if(y(A)){for(var C=[],T=0;T<A.length;T+=1)C.push(S(A[T]));return C}return S(A)},merge:function A(S,C,T){if(!C)return S;if(typeof C!="object"){if(y(S))S.push(C);else{if(!S||typeof S!="object")return[S,C];(T&&(T.plainObjects||T.allowPrototypes)||!g.call(Object.prototype,C))&&(S[C]=!0)}return S}if(!S||typeof S!="object")return[S].concat(C);var N=S;return y(S)&&!y(C)&&(N=_(S,T)),y(S)&&y(C)?(C.forEach(function(j,O){if(g.call(S,O)){var F=S[O];F&&typeof F=="object"&&j&&typeof j=="object"?S[O]=A(F,j,T):S.push(j)}else S[O]=j}),S):Object.keys(C).reduce(function(j,O){var F=C[O];return g.call(j,O)?j[O]=A(j[O],F,T):j[O]=F,j},N)}}},4448:(c,u,h)=>{var m=h(7294),g=h(7418),y=h(3840);function v(x){for(var E="https://reactjs.org/docs/error-decoder.html?invariant="+x,I=1;I<arguments.length;I++)E+="&args[]="+encodeURIComponent(arguments[I]);return"Minified React error #"+x+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!m)throw Error(v(227));var _=new Set,A={};function S(x,E){C(x,E),C(x+"Capture",E)}function C(x,E){for(A[x]=E,x=0;x<E.length;x++)_.add(E[x])}var T=!(typeof window>"u"||window.document===void 0||window.document.createElement===void 0),N=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,j=Object.prototype.hasOwnProperty,O={},F={};function U(x,E,I,z,q,se,pe){this.acceptsBooleans=E===2||E===3||E===4,this.attributeName=z,this.attributeNamespace=q,this.mustUseProperty=I,this.propertyName=x,this.type=E,this.sanitizeURL=se,this.removeEmptyString=pe}var V={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(x){V[x]=new U(x,0,!1,x,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(x){var E=x[0];V[E]=new U(E,1,!1,x[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(x){V[x]=new U(x,2,!1,x.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(x){V[x]=new U(x,2,!1,x,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(x){V[x]=new U(x,3,!1,x.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(x){V[x]=new U(x,3,!0,x,null,!1,!1)}),["capture","download"].forEach(function(x){V[x]=new U(x,4,!1,x,null,!1,!1)}),["cols","rows","size","span"].forEach(function(x){V[x]=new U(x,6,!1,x,null,!1,!1)}),["rowSpan","start"].forEach(function(x){V[x]=new U(x,5,!1,x.toLowerCase(),null,!1,!1)});var B=/[\-:]([a-z])/g;function K(x){return x[1].toUpperCase()}function oe(x,E,I,z){var q=V.hasOwnProperty(E)?V[E]:null;(q!==null?q.type===0:!z&&2<E.length&&(E[0]==="o"||E[0]==="O")&&(E[1]==="n"||E[1]==="N"))||(function(se,pe,Ne,We){if(pe==null||function(Xe,ut,kt,lt){if(kt!==null&&kt.type===0)return!1;switch(typeof ut){case"function":case"symbol":return!0;case"boolean":return!lt&&(kt!==null?!kt.acceptsBooleans:(Xe=Xe.toLowerCase().slice(0,5))!=="data-"&&Xe!=="aria-");default:return!1}}(se,pe,Ne,We))return!0;if(We)return!1;if(Ne!==null)switch(Ne.type){case 3:return!pe;case 4:return pe===!1;case 5:return isNaN(pe);case 6:return isNaN(pe)||1>pe}return!1}(E,I,q,z)&&(I=null),z||q===null?function(se){return!!j.call(F,se)||!j.call(O,se)&&(N.test(se)?F[se]=!0:(O[se]=!0,!1))}(E)&&(I===null?x.removeAttribute(E):x.setAttribute(E,""+I)):q.mustUseProperty?x[q.propertyName]=I===null?q.type!==3&&"":I:(E=q.attributeName,z=q.attributeNamespace,I===null?x.removeAttribute(E):(I=(q=q.type)===3||q===4&&I===!0?"":""+I,z?x.setAttributeNS(z,E,I):x.setAttribute(E,I))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(x){var E=x.replace(B,K);V[E]=new U(E,1,!1,x,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(x){var E=x.replace(B,K);V[E]=new U(E,1,!1,x,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(x){var E=x.replace(B,K);V[E]=new U(E,1,!1,x,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(x){V[x]=new U(x,1,!1,x.toLowerCase(),null,!1,!1)}),V.xlinkHref=new U("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(x){V[x]=new U(x,1,!1,x.toLowerCase(),null,!0,!0)});var me=m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=60103,ge=60106,$=60107,De=60108,ie=60114,ce=60109,X=60110,Y=60112,ne=60113,ee=60120,ue=60115,Z=60116,xe=60121,Ae=60128,Oe=60129,Pe=60130,Me=60131;if(typeof Symbol=="function"&&Symbol.for){var Ve=Symbol.for;Q=Ve("react.element"),ge=Ve("react.portal"),$=Ve("react.fragment"),De=Ve("react.strict_mode"),ie=Ve("react.profiler"),ce=Ve("react.provider"),X=Ve("react.context"),Y=Ve("react.forward_ref"),ne=Ve("react.suspense"),ee=Ve("react.suspense_list"),ue=Ve("react.memo"),Z=Ve("react.lazy"),xe=Ve("react.block"),Ve("react.scope"),Ae=Ve("react.opaque.id"),Oe=Ve("react.debug_trace_mode"),Pe=Ve("react.offscreen"),Me=Ve("react.legacy_hidden")}var Le,Ee=typeof Symbol=="function"&&Symbol.iterator;function we(x){return x===null||typeof x!="object"?null:typeof(x=Ee&&x[Ee]||x["@@iterator"])=="function"?x:null}function ze(x){if(Le===void 0)try{throw Error()}catch(I){var E=I.stack.trim().match(/\n( *(at )?)/);Le=E&&E[1]||""}return`
`+Le+x}var G=!1;function Ce(x,E){if(!x||G)return"";G=!0;var I=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(E)if(E=function(){throw Error()},Object.defineProperty(E.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(E,[])}catch(We){var z=We}Reflect.construct(x,[],E)}else{try{E.call()}catch(We){z=We}x.call(E.prototype)}else{try{throw Error()}catch(We){z=We}x()}}catch(We){if(We&&z&&typeof We.stack=="string"){for(var q=We.stack.split(`
`),se=z.stack.split(`
`),pe=q.length-1,Ne=se.length-1;1<=pe&&0<=Ne&&q[pe]!==se[Ne];)Ne--;for(;1<=pe&&0<=Ne;pe--,Ne--)if(q[pe]!==se[Ne]){if(pe!==1||Ne!==1)do if(pe--,0>--Ne||q[pe]!==se[Ne])return`
`+q[pe].replace(" at new "," at ");while(1<=pe&&0<=Ne);break}}}finally{G=!1,Error.prepareStackTrace=I}return(x=x?x.displayName||x.name:"")?ze(x):""}function Ie(x){switch(x.tag){case 5:return ze(x.type);case 16:return ze("Lazy");case 13:return ze("Suspense");case 19:return ze("SuspenseList");case 0:case 2:case 15:return x=Ce(x.type,!1);case 11:return x=Ce(x.type.render,!1);case 22:return x=Ce(x.type._render,!1);case 1:return x=Ce(x.type,!0);default:return""}}function be(x){if(x==null)return null;if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x;switch(x){case $:return"Fragment";case ge:return"Portal";case ie:return"Profiler";case De:return"StrictMode";case ne:return"Suspense";case ee:return"SuspenseList"}if(typeof x=="object")switch(x.$$typeof){case X:return(x.displayName||"Context")+".Consumer";case ce:return(x._context.displayName||"Context")+".Provider";case Y:var E=x.render;return E=E.displayName||E.name||"",x.displayName||(E!==""?"ForwardRef("+E+")":"ForwardRef");case ue:return be(x.type);case xe:return be(x._render);case Z:E=x._payload,x=x._init;try{return be(x(E))}catch{}}return null}function _e(x){switch(typeof x){case"boolean":case"number":case"object":case"string":case"undefined":return x;default:return""}}function Se(x){var E=x.type;return(x=x.nodeName)&&x.toLowerCase()==="input"&&(E==="checkbox"||E==="radio")}function He(x){x._valueTracker||(x._valueTracker=function(E){var I=Se(E)?"checked":"value",z=Object.getOwnPropertyDescriptor(E.constructor.prototype,I),q=""+E[I];if(!E.hasOwnProperty(I)&&z!==void 0&&typeof z.get=="function"&&typeof z.set=="function"){var se=z.get,pe=z.set;return Object.defineProperty(E,I,{configurable:!0,get:function(){return se.call(this)},set:function(Ne){q=""+Ne,pe.call(this,Ne)}}),Object.defineProperty(E,I,{enumerable:z.enumerable}),{getValue:function(){return q},setValue:function(Ne){q=""+Ne},stopTracking:function(){E._valueTracker=null,delete E[I]}}}}(x))}function qe(x){if(!x)return!1;var E=x._valueTracker;if(!E)return!0;var I=E.getValue(),z="";return x&&(z=Se(x)?x.checked?"true":"false":x.value),(x=z)!==I&&(E.setValue(x),!0)}function Fe(x){if((x=x||(typeof document<"u"?document:void 0))===void 0)return null;try{return x.activeElement||x.body}catch{return x.body}}function Te(x,E){var I=E.checked;return g({},E,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:I??x._wrapperState.initialChecked})}function ke(x,E){var I=E.defaultValue==null?"":E.defaultValue,z=E.checked!=null?E.checked:E.defaultChecked;I=_e(E.value!=null?E.value:I),x._wrapperState={initialChecked:z,initialValue:I,controlled:E.type==="checkbox"||E.type==="radio"?E.checked!=null:E.value!=null}}function le(x,E){(E=E.checked)!=null&&oe(x,"checked",E,!1)}function Ue(x,E){le(x,E);var I=_e(E.value),z=E.type;if(I!=null)z==="number"?(I===0&&x.value===""||x.value!=I)&&(x.value=""+I):x.value!==""+I&&(x.value=""+I);else if(z==="submit"||z==="reset")return void x.removeAttribute("value");E.hasOwnProperty("value")?nt(x,E.type,I):E.hasOwnProperty("defaultValue")&&nt(x,E.type,_e(E.defaultValue)),E.checked==null&&E.defaultChecked!=null&&(x.defaultChecked=!!E.defaultChecked)}function et(x,E,I){if(E.hasOwnProperty("value")||E.hasOwnProperty("defaultValue")){var z=E.type;if(!(z!=="submit"&&z!=="reset"||E.value!==void 0&&E.value!==null))return;E=""+x._wrapperState.initialValue,I||E===x.value||(x.value=E),x.defaultValue=E}(I=x.name)!==""&&(x.name=""),x.defaultChecked=!!x._wrapperState.initialChecked,I!==""&&(x.name=I)}function nt(x,E,I){E==="number"&&Fe(x.ownerDocument)===x||(I==null?x.defaultValue=""+x._wrapperState.initialValue:x.defaultValue!==""+I&&(x.defaultValue=""+I))}function ct(x,E){return x=g({children:void 0},E),(E=function(I){var z="";return m.Children.forEach(I,function(q){q!=null&&(z+=q)}),z}(E.children))&&(x.children=E),x}function ht(x,E,I,z){if(x=x.options,E){E={};for(var q=0;q<I.length;q++)E["$"+I[q]]=!0;for(I=0;I<x.length;I++)q=E.hasOwnProperty("$"+x[I].value),x[I].selected!==q&&(x[I].selected=q),q&&z&&(x[I].defaultSelected=!0)}else{for(I=""+_e(I),E=null,q=0;q<x.length;q++){if(x[q].value===I)return x[q].selected=!0,void(z&&(x[q].defaultSelected=!0));E!==null||x[q].disabled||(E=x[q])}E!==null&&(E.selected=!0)}}function Pt(x,E){if(E.dangerouslySetInnerHTML!=null)throw Error(v(91));return g({},E,{value:void 0,defaultValue:void 0,children:""+x._wrapperState.initialValue})}function Bt(x,E){var I=E.value;if(I==null){if(I=E.children,E=E.defaultValue,I!=null){if(E!=null)throw Error(v(92));if(Array.isArray(I)){if(!(1>=I.length))throw Error(v(93));I=I[0]}E=I}E==null&&(E=""),I=E}x._wrapperState={initialValue:_e(I)}}function bt(x,E){var I=_e(E.value),z=_e(E.defaultValue);I!=null&&((I=""+I)!==x.value&&(x.value=I),E.defaultValue==null&&x.defaultValue!==I&&(x.defaultValue=I)),z!=null&&(x.defaultValue=""+z)}function Yt(x){var E=x.textContent;E===x._wrapperState.initialValue&&E!==""&&E!==null&&(x.value=E)}var mn={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function qt(x){switch(x){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vn(x,E){return x==null||x==="http://www.w3.org/1999/xhtml"?qt(E):x==="http://www.w3.org/2000/svg"&&E==="foreignObject"?"http://www.w3.org/1999/xhtml":x}var rs,Ir,Rr=(Ir=function(x,E){if(x.namespaceURI!==mn.svg||"innerHTML"in x)x.innerHTML=E;else{for((rs=rs||document.createElement("div")).innerHTML="<svg>"+E.valueOf().toString()+"</svg>",E=rs.firstChild;x.firstChild;)x.removeChild(x.firstChild);for(;E.firstChild;)x.appendChild(E.firstChild)}},typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(x,E,I,z){MSApp.execUnsafeLocalFunction(function(){return Ir(x,E)})}:Ir);function ji(x,E){if(E){var I=x.firstChild;if(I&&I===x.lastChild&&I.nodeType===3)return void(I.nodeValue=E)}x.textContent=E}var bi={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yi=["Webkit","ms","Moz","O"];function vi(x,E,I){return E==null||typeof E=="boolean"||E===""?"":I||typeof E!="number"||E===0||bi.hasOwnProperty(x)&&bi[x]?(""+E).trim():E+"px"}function wt(x,E){for(var I in x=x.style,E)if(E.hasOwnProperty(I)){var z=I.indexOf("--")===0,q=vi(I,E[I],z);I==="float"&&(I="cssFloat"),z?x.setProperty(I,q):x[I]=q}}Object.keys(bi).forEach(function(x){yi.forEach(function(E){E=E+x.charAt(0).toUpperCase()+x.substring(1),bi[E]=bi[x]})});var Ht=g({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sn(x,E){if(E){if(Ht[x]&&(E.children!=null||E.dangerouslySetInnerHTML!=null))throw Error(v(137,x));if(E.dangerouslySetInnerHTML!=null){if(E.children!=null)throw Error(v(60));if(typeof E.dangerouslySetInnerHTML!="object"||!("__html"in E.dangerouslySetInnerHTML))throw Error(v(61))}if(E.style!=null&&typeof E.style!="object")throw Error(v(62))}}function Wn(x,E){if(x.indexOf("-")===-1)return typeof E.is=="string";switch(x){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Xn(x){return(x=x.target||x.srcElement||window).correspondingUseElement&&(x=x.correspondingUseElement),x.nodeType===3?x.parentNode:x}var Mr=null,Ji=null,ft=null;function An(x){if(x=Bf(x)){if(typeof Mr!="function")throw Error(v(280));var E=x.stateNode;E&&(E=wg(E),Mr(x.stateNode,x.type,E))}}function js(x){Ji?ft?ft.push(x):ft=[x]:Ji=x}function ss(){if(Ji){var x=Ji,E=ft;if(ft=Ji=null,An(x),E)for(x=0;x<E.length;x++)An(E[x])}}function Is(x,E){return x(E)}function ol(x,E,I,z,q){return x(E,I,z,q)}function Mo(){}var al=Is,Oo=!1,ll=!1;function so(){Ji===null&&ft===null||(Mo(),ss())}function Rs(x,E){var I=x.stateNode;if(I===null)return null;var z=wg(I);if(z===null)return null;I=z[E];e:switch(E){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(z=!z.disabled)||(z=!((x=x.type)==="button"||x==="input"||x==="select"||x==="textarea")),x=!z;break e;default:x=!1}if(x)return null;if(I&&typeof I!="function")throw Error(v(231,E,typeof I));return I}var Si=!1;if(T)try{var cl={};Object.defineProperty(cl,"passive",{get:function(){Si=!0}}),window.addEventListener("test",cl,cl),window.removeEventListener("test",cl,cl)}catch{Si=!1}function Ms(x,E,I,z,q,se,pe,Ne,We){var Xe=Array.prototype.slice.call(arguments,3);try{E.apply(I,Xe)}catch(ut){this.onError(ut)}}var Or=!1,os=null,ul=!1,lc=null,su={onError:function(x){Or=!0,os=x}};function Ym(x,E,I,z,q,se,pe,Ne,We){Or=!1,os=null,Ms.apply(su,arguments)}function ma(x){var E=x,I=x;if(x.alternate)for(;E.return;)E=E.return;else{x=E;do 1026&(E=x).flags&&(I=E.return),x=E.return;while(x)}return E.tag===3?I:null}function xf(x){if(x.tag===13){var E=x.memoizedState;if(E===null&&(x=x.alternate)!==null&&(E=x.memoizedState),E!==null)return E.dehydrated}return null}function _f(x){if(ma(x)!==x)throw Error(v(188))}function Ii(x){if(x=function(I){var z=I.alternate;if(!z){if((z=ma(I))===null)throw Error(v(188));return z!==I?null:I}for(var q=I,se=z;;){var pe=q.return;if(pe===null)break;var Ne=pe.alternate;if(Ne===null){if((se=pe.return)!==null){q=se;continue}break}if(pe.child===Ne.child){for(Ne=pe.child;Ne;){if(Ne===q)return _f(pe),I;if(Ne===se)return _f(pe),z;Ne=Ne.sibling}throw Error(v(188))}if(q.return!==se.return)q=pe,se=Ne;else{for(var We=!1,Xe=pe.child;Xe;){if(Xe===q){We=!0,q=pe,se=Ne;break}if(Xe===se){We=!0,se=pe,q=Ne;break}Xe=Xe.sibling}if(!We){for(Xe=Ne.child;Xe;){if(Xe===q){We=!0,q=Ne,se=pe;break}if(Xe===se){We=!0,se=Ne,q=pe;break}Xe=Xe.sibling}if(!We)throw Error(v(189))}}if(q.alternate!==se)throw Error(v(190))}if(q.tag!==3)throw Error(v(188));return q.stateNode.current===q?I:z}(x),!x)return null;for(var E=x;;){if(E.tag===5||E.tag===6)return E;if(E.child)E.child.return=E,E=E.child;else{if(E===x)break;for(;!E.sibling;){if(!E.return||E.return===x)return null;E=E.return}E.sibling.return=E.return,E=E.sibling}}return null}function dl(x,E){for(var I=x.alternate;E!==null;){if(E===x||E===I)return!0;E=E.return}return!1}var hl,fl,Zm,Cd,ou=!1,oo=[],Fo=null,ao=null,cr=null,ga=new Map,cc=new Map,pl=[],uc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function at(x,E,I,z,q){return{blockedOn:x,domEventName:E,eventSystemFlags:16|I,nativeEvent:q,targetContainers:[z]}}function gt(x,E){switch(x){case"focusin":case"focusout":Fo=null;break;case"dragenter":case"dragleave":ao=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":ga.delete(E.pointerId);break;case"gotpointercapture":case"lostpointercapture":cc.delete(E.pointerId)}}function _t(x,E,I,z,q,se){return x===null||x.nativeEvent!==se?(x=at(E,I,z,q,se),E!==null&&(E=Bf(E))!==null&&fl(E),x):(x.eventSystemFlags|=z,E=x.targetContainers,q!==null&&E.indexOf(q)===-1&&E.push(q),x)}function oi(x){var E=mu(x.target);if(E!==null){var I=ma(E);if(I!==null){if((E=I.tag)===13){if((E=xf(I))!==null)return x.blockedOn=E,void Cd(x.lanePriority,function(){y.unstable_runWithPriority(x.priority,function(){Zm(I)})})}else if(E===3&&I.stateNode.hydrate)return void(x.blockedOn=I.tag===3?I.stateNode.containerInfo:null)}}x.blockedOn=null}function wi(x){if(x.blockedOn!==null)return!1;for(var E=x.targetContainers;0<E.length;){var I=Rd(x.domEventName,x.eventSystemFlags,E[0],x.nativeEvent);if(I!==null)return(E=Bf(I))!==null&&fl(E),x.blockedOn=I,!1;E.shift()}return!0}function Fr(x,E,I){wi(x)&&I.delete(E)}function au(){for(ou=!1;0<oo.length;){var x=oo[0];if(x.blockedOn!==null){(x=Bf(x.blockedOn))!==null&&hl(x);break}for(var E=x.targetContainers;0<E.length;){var I=Rd(x.domEventName,x.eventSystemFlags,E[0],x.nativeEvent);if(I!==null){x.blockedOn=I;break}E.shift()}x.blockedOn===null&&oo.shift()}Fo!==null&&wi(Fo)&&(Fo=null),ao!==null&&wi(ao)&&(ao=null),cr!==null&&wi(cr)&&(cr=null),ga.forEach(Fr),cc.forEach(Fr)}function wr(x,E){x.blockedOn===E&&(x.blockedOn=null,ou||(ou=!0,y.unstable_scheduleCallback(y.unstable_NormalPriority,au)))}function lo(x){function E(q){return wr(q,x)}if(0<oo.length){wr(oo[0],x);for(var I=1;I<oo.length;I++){var z=oo[I];z.blockedOn===x&&(z.blockedOn=null)}}for(Fo!==null&&wr(Fo,x),ao!==null&&wr(ao,x),cr!==null&&wr(cr,x),ga.forEach(E),cc.forEach(E),I=0;I<pl.length;I++)(z=pl[I]).blockedOn===x&&(z.blockedOn=null);for(;0<pl.length&&(I=pl[0]).blockedOn===null;)oi(I),I.blockedOn===null&&pl.shift()}function Td(x,E){var I={};return I[x.toLowerCase()]=E.toLowerCase(),I["Webkit"+x]="webkit"+E,I["Moz"+x]="moz"+E,I}var ba={animationend:Td("Animation","AnimationEnd"),animationiteration:Td("Animation","AnimationIteration"),animationstart:Td("Animation","AnimationStart"),transitionend:Td("Transition","TransitionEnd")},Dd={},K0={};function lu(x){if(Dd[x])return Dd[x];if(!ba[x])return x;var E,I=ba[x];for(E in I)if(I.hasOwnProperty(E)&&E in K0)return Dd[x]=I[E];return x}T&&(K0=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);var ml=lu("animationend"),Jm=lu("animationiteration"),Qm=lu("animationstart"),eg=lu("transitionend"),Y0=new Map,tg=new Map,ng=["abort","abort",ml,"animationEnd",Jm,"animationIteration",Qm,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",eg,"transitionEnd","waiting","waiting"];function kf(x,E){for(var I=0;I<x.length;I+=2){var z=x[I],q=x[I+1];q="on"+(q[0].toUpperCase()+q.slice(1)),tg.set(z,E),Y0.set(z,q),S(q,[z])}}(0,y.unstable_now)();var Pn=8;function gl(x){if(1&x)return Pn=15,1;if(2&x)return Pn=14,2;if(4&x)return Pn=13,4;var E=24&x;return E!==0?(Pn=12,E):32&x?(Pn=11,32):(E=192&x)!==0?(Pn=10,E):256&x?(Pn=9,256):(E=3584&x)!==0?(Pn=8,E):4096&x?(Pn=7,4096):(E=4186112&x)!==0?(Pn=6,E):(E=62914560&x)!==0?(Pn=5,E):67108864&x?(Pn=4,67108864):134217728&x?(Pn=3,134217728):(E=805306368&x)!==0?(Pn=2,E):1073741824&x?(Pn=1,1073741824):(Pn=8,x)}function cu(x,E){var I=x.pendingLanes;if(I===0)return Pn=0;var z=0,q=0,se=x.expiredLanes,pe=x.suspendedLanes,Ne=x.pingedLanes;if(se!==0)z=se,q=Pn=15;else if((se=134217727&I)!==0){var We=se&~pe;We!==0?(z=gl(We),q=Pn):(Ne&=se)!==0&&(z=gl(Ne),q=Pn)}else(se=I&~pe)!==0?(z=gl(se),q=Pn):Ne!==0&&(z=gl(Ne),q=Pn);if(z===0)return 0;if(z=I&((0>(z=31-yl(z))?0:1<<z)<<1)-1,E!==0&&E!==z&&(E&pe)==0){if(gl(E),q<=Pn)return E;Pn=q}if((E=x.entangledLanes)!==0)for(x=x.entanglements,E&=z;0<E;)q=1<<(I=31-yl(E)),z|=x[I],E&=~q;return z}function uu(x){return(x=-1073741825&x.pendingLanes)!==0?x:1073741824&x?1073741824:0}function Ef(x,E){switch(x){case 15:return 1;case 14:return 2;case 12:return(x=bl(24&~E))===0?Ef(10,E):x;case 10:return(x=bl(192&~E))===0?Ef(8,E):x;case 8:return(x=bl(3584&~E))===0&&(x=bl(4186112&~E))===0&&(x=512),x;case 2:return(E=bl(805306368&~E))===0&&(E=268435456),E}throw Error(v(358,x))}function bl(x){return x&-x}function Nd(x){for(var E=[],I=0;31>I;I++)E.push(x);return E}function jn(x,E,I){x.pendingLanes|=E;var z=E-1;x.suspendedLanes&=z,x.pingedLanes&=z,(x=x.eventTimes)[E=31-yl(E)]=I}var yl=Math.clz32?Math.clz32:function(x){return x===0?32:31-(Sf(x)/Z0|0)|0},Sf=Math.log,Z0=Math.LN2,Pd=y.unstable_UserBlockingPriority,jd=y.unstable_runWithPriority,co=!0;function Af(x,E,I,z){Oo||Mo();var q=Cf,se=Oo;Oo=!0;try{ol(q,x,E,I,z)}finally{(Oo=se)||so()}}function Id(x,E,I,z){jd(Pd,Cf.bind(null,x,E,I,z))}function Cf(x,E,I,z){var q;if(co)if((q=(4&E)==0)&&0<oo.length&&-1<uc.indexOf(x))x=at(null,x,E,I,z),oo.push(x);else{var se=Rd(x,E,I,z);if(se===null)q&&gt(x,z);else{if(q){if(-1<uc.indexOf(x))return x=at(se,x,E,I,z),void oo.push(x);if(function(pe,Ne,We,Xe,ut){switch(Ne){case"focusin":return Fo=_t(Fo,pe,Ne,We,Xe,ut),!0;case"dragenter":return ao=_t(ao,pe,Ne,We,Xe,ut),!0;case"mouseover":return cr=_t(cr,pe,Ne,We,Xe,ut),!0;case"pointerover":var kt=ut.pointerId;return ga.set(kt,_t(ga.get(kt)||null,pe,Ne,We,Xe,ut)),!0;case"gotpointercapture":return kt=ut.pointerId,cc.set(kt,_t(cc.get(kt)||null,pe,Ne,We,Xe,ut)),!0}return!1}(se,x,E,I,z))return;gt(x,z)}jt(x,E,z,null,I)}}}function Rd(x,E,I,z){var q=Xn(z);if((q=mu(q))!==null){var se=ma(q);if(se===null)q=null;else{var pe=se.tag;if(pe===13){if((q=xf(se))!==null)return q;q=null}else if(pe===3){if(se.stateNode.hydrate)return se.tag===3?se.stateNode.containerInfo:null;q=null}else se!==q&&(q=null)}}return jt(x,E,z,q,I),null}var vl=null,du=null,Md=null;function J0(){if(Md)return Md;var x,E,I=du,z=I.length,q="value"in vl?vl.value:vl.textContent,se=q.length;for(x=0;x<z&&I[x]===q[x];x++);var pe=z-x;for(E=1;E<=pe&&I[z-E]===q[se-E];E++);return Md=q.slice(x,1<E?1-E:void 0)}function Tf(x){var E=x.keyCode;return"charCode"in x?(x=x.charCode)===0&&E===13&&(x=13):x=E,x===10&&(x=13),32<=x||x===13?x:0}function dc(){return!0}function Df(){return!1}function as(x){function E(I,z,q,se,pe){for(var Ne in this._reactName=I,this._targetInst=q,this.type=z,this.nativeEvent=se,this.target=pe,this.currentTarget=null,x)x.hasOwnProperty(Ne)&&(I=x[Ne],this[Ne]=I?I(se):se[Ne]);return this.isDefaultPrevented=(se.defaultPrevented!=null?se.defaultPrevented:se.returnValue===!1)?dc:Df,this.isPropagationStopped=Df,this}return g(E.prototype,{preventDefault:function(){this.defaultPrevented=!0;var I=this.nativeEvent;I&&(I.preventDefault?I.preventDefault():typeof I.returnValue!="unknown"&&(I.returnValue=!1),this.isDefaultPrevented=dc)},stopPropagation:function(){var I=this.nativeEvent;I&&(I.stopPropagation?I.stopPropagation():typeof I.cancelBubble!="unknown"&&(I.cancelBubble=!0),this.isPropagationStopped=dc)},persist:function(){},isPersistent:dc}),E}var ya,Od,Fd,uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(x){return x.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nf=as(uo),wl=g({},uo,{view:0,detail:0}),Q0=as(wl),Ud=g({},wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ag,button:0,buttons:0,relatedTarget:function(x){return x.relatedTarget===void 0?x.fromElement===x.srcElement?x.toElement:x.fromElement:x.relatedTarget},movementX:function(x){return"movementX"in x?x.movementX:(x!==Fd&&(Fd&&x.type==="mousemove"?(ya=x.screenX-Fd.screenX,Od=x.screenY-Fd.screenY):Od=ya=0,Fd=x),ya)},movementY:function(x){return"movementY"in x?x.movementY:Od}}),ig=as(Ud),rg=as(g({},Ud,{dataTransfer:0})),Ld=as(g({},wl,{relatedTarget:0})),sx=as(g({},uo,{animationName:0,elapsedTime:0,pseudoElement:0})),ey=g({},uo,{clipboardData:function(x){return"clipboardData"in x?x.clipboardData:window.clipboardData}}),ox=as(ey),sg=as(g({},uo,{data:0})),og={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ax={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ty={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ny(x){var E=this.nativeEvent;return E.getModifierState?E.getModifierState(x):!!(x=ty[x])&&!!E[x]}function ag(){return ny}var iy=g({},wl,{key:function(x){if(x.key){var E=og[x.key]||x.key;if(E!=="Unidentified")return E}return x.type==="keypress"?(x=Tf(x))===13?"Enter":String.fromCharCode(x):x.type==="keydown"||x.type==="keyup"?ax[x.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ag,charCode:function(x){return x.type==="keypress"?Tf(x):0},keyCode:function(x){return x.type==="keydown"||x.type==="keyup"?x.keyCode:0},which:function(x){return x.type==="keypress"?Tf(x):x.type==="keydown"||x.type==="keyup"?x.keyCode:0}}),lg=as(iy),ry=as(g({},Ud,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),cg=as(g({},wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ag})),ug=as(g({},uo,{propertyName:0,elapsedTime:0,pseudoElement:0})),dg=g({},Ud,{deltaX:function(x){return"deltaX"in x?x.deltaX:"wheelDeltaX"in x?-x.wheelDeltaX:0},deltaY:function(x){return"deltaY"in x?x.deltaY:"wheelDeltaY"in x?-x.wheelDeltaY:"wheelDelta"in x?-x.wheelDelta:0},deltaZ:0,deltaMode:0}),hg=as(dg),sy=[9,13,27,32],Pf=T&&"CompositionEvent"in window,hu=null;T&&"documentMode"in document&&(hu=document.documentMode);var oy=T&&"TextEvent"in window&&!hu,fg=T&&(!Pf||hu&&8<hu&&11>=hu),ay=" ",pg=!1;function ly(x,E){switch(x){case"keyup":return sy.indexOf(E.keyCode)!==-1;case"keydown":return E.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cy(x){return typeof(x=x.detail)=="object"&&"data"in x?x.data:null}var fu=!1,hc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fc(x){var E=x&&x.nodeName&&x.nodeName.toLowerCase();return E==="input"?!!hc[x.type]:E==="textarea"}function uy(x,E,I,z){js(z),0<(E=nn(E,"onChange")).length&&(I=new Nf("onChange","change",null,I,z),x.push({event:I,listeners:E}))}var jf=null,xl=null;function If(x){kl(x,0)}function Rf(x){if(qe($d(x)))return x}function dy(x,E){if(x==="change")return E}var mg=!1;if(T){var Mf;if(T){var Bd="oninput"in document;if(!Bd){var Ln=document.createElement("div");Ln.setAttribute("oninput","return;"),Bd=typeof Ln.oninput=="function"}Mf=Bd}else Mf=!1;mg=Mf&&(!document.documentMode||9<document.documentMode)}function gg(){jf&&(jf.detachEvent("onpropertychange",hy),xl=jf=null)}function hy(x){if(x.propertyName==="value"&&Rf(xl)){var E=[];if(uy(E,xl,x,Xn(x)),x=If,Oo)x(E);else{Oo=!0;try{Is(x,E)}finally{Oo=!1,so()}}}}function fy(x,E,I){x==="focusin"?(gg(),xl=I,(jf=E).attachEvent("onpropertychange",hy)):x==="focusout"&&gg()}function lx(x){if(x==="selectionchange"||x==="keyup"||x==="keydown")return Rf(xl)}function py(x,E){if(x==="click")return Rf(E)}function cx(x,E){if(x==="input"||x==="change")return Rf(E)}var ls=typeof Object.is=="function"?Object.is:function(x,E){return x===E&&(x!==0||1/x==1/E)||x!=x&&E!=E},my=Object.prototype.hasOwnProperty;function zd(x,E){if(ls(x,E))return!0;if(typeof x!="object"||x===null||typeof E!="object"||E===null)return!1;var I=Object.keys(x),z=Object.keys(E);if(I.length!==z.length)return!1;for(z=0;z<I.length;z++)if(!my.call(E,I[z])||!ls(x[I[z]],E[I[z]]))return!1;return!0}function bg(x){for(;x&&x.firstChild;)x=x.firstChild;return x}function gy(x,E){var I,z=bg(x);for(x=0;z;){if(z.nodeType===3){if(I=x+z.textContent.length,x<=E&&I>=E)return{node:z,offset:E-x};x=I}e:{for(;z;){if(z.nextSibling){z=z.nextSibling;break e}z=z.parentNode}z=void 0}z=bg(z)}}function yg(x,E){return!(!x||!E)&&(x===E||(!x||x.nodeType!==3)&&(E&&E.nodeType===3?yg(x,E.parentNode):"contains"in x?x.contains(E):!!x.compareDocumentPosition&&!!(16&x.compareDocumentPosition(E))))}function Vd(){for(var x=window,E=Fe();E instanceof x.HTMLIFrameElement;){try{var I=typeof E.contentWindow.location.href=="string"}catch{I=!1}if(!I)break;E=Fe((x=E.contentWindow).document)}return E}function Of(x){var E=x&&x.nodeName&&x.nodeName.toLowerCase();return E&&(E==="input"&&(x.type==="text"||x.type==="search"||x.type==="tel"||x.type==="url"||x.type==="password")||E==="textarea"||x.contentEditable==="true")}var Bn=T&&"documentMode"in document&&11>=document.documentMode,va=null,pu=null,$n=null,_l=!1;function Ff(x,E,I){var z=I.window===I?I.document:I.nodeType===9?I:I.ownerDocument;_l||va==null||va!==Fe(z)||("selectionStart"in(z=va)&&Of(z)?z={start:z.selectionStart,end:z.selectionEnd}:z={anchorNode:(z=(z.ownerDocument&&z.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:z.anchorOffset,focusNode:z.focusNode,focusOffset:z.focusOffset},$n&&zd($n,z)||($n=z,0<(z=nn(pu,"onSelect")).length&&(E=new Nf("onSelect","select",null,E,I),x.push({event:E,listeners:z}),E.target=va)))}kf("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),kf("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),kf(ng,2);for(var by="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),ho=0;ho<by.length;ho++)tg.set(by[ho],0);C("onMouseEnter",["mouseout","mouseover"]),C("onMouseLeave",["mouseout","mouseover"]),C("onPointerEnter",["pointerout","pointerover"]),C("onPointerLeave",["pointerout","pointerover"]),S("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),S("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),S("onBeforeInput",["compositionend","keypress","textInput","paste"]),S("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),S("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),S("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uf=new Set("cancel close invalid load scroll toggle".split(" ").concat(wa));function ur(x,E,I){var z=x.type||"unknown-event";x.currentTarget=I,function(q,se,pe,Ne,We,Xe,ut,kt,lt){if(Ym.apply(this,arguments),Or){if(!Or)throw Error(v(198));var zt=os;Or=!1,os=null,ul||(ul=!0,lc=zt)}}(z,E,void 0,x),x.currentTarget=null}function kl(x,E){E=(4&E)!=0;for(var I=0;I<x.length;I++){var z=x[I],q=z.event;z=z.listeners;e:{var se=void 0;if(E)for(var pe=z.length-1;0<=pe;pe--){var Ne=z[pe],We=Ne.instance,Xe=Ne.currentTarget;if(Ne=Ne.listener,We!==se&&q.isPropagationStopped())break e;ur(q,Ne,Xe),se=We}else for(pe=0;pe<z.length;pe++){if(We=(Ne=z[pe]).instance,Xe=Ne.currentTarget,Ne=Ne.listener,We!==se&&q.isPropagationStopped())break e;ur(q,Ne,Xe),se=We}}}if(ul)throw x=lc,ul=!1,lc=null,x}function qn(x,E){var I=yy(E),z=x+"__bubble";I.has(z)||(Ze(E,x,2,!1),I.add(z))}var ye="_reactListening"+Math.random().toString(36).slice(2);function de(x){x[ye]||(x[ye]=!0,_.forEach(function(E){Uf.has(E)||Be(E,!1,x,null),Be(E,!0,x,null)}))}function Be(x,E,I,z){var q=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,se=I;x==="selectionchange"&&I.nodeType!==9&&(se=I.ownerDocument);var pe=yy(se),Ne=x+"__"+(E?"capture":"bubble");pe.has(Ne)||(E&&(q|=4),Ze(se,x,q,E),pe.add(Ne))}function Ze(x,E,I,z){var q=tg.get(E);switch(q===void 0?2:q){case 0:q=Af;break;case 1:q=Id;break;default:q=Cf}I=q.bind(null,E,I,x),q=void 0,!Si||E!=="touchstart"&&E!=="touchmove"&&E!=="wheel"||(q=!0),z?q!==void 0?x.addEventListener(E,I,{capture:!0,passive:q}):x.addEventListener(E,I,!0):q!==void 0?x.addEventListener(E,I,{passive:q}):x.addEventListener(E,I,!1)}function jt(x,E,I,z,q){var se=z;if(!(1&E)&&!(2&E)&&z!==null)e:for(;;){if(z===null)return;var pe=z.tag;if(pe===3||pe===4){var Ne=z.stateNode.containerInfo;if(Ne===q||Ne.nodeType===8&&Ne.parentNode===q)break;if(pe===4)for(pe=z.return;pe!==null;){var We=pe.tag;if((We===3||We===4)&&((We=pe.stateNode.containerInfo)===q||We.nodeType===8&&We.parentNode===q))return;pe=pe.return}for(;Ne!==null;){if((pe=mu(Ne))===null)return;if((We=pe.tag)===5||We===6){z=se=pe;continue e}Ne=Ne.parentNode}}z=z.return}(function(Xe,ut,kt){if(ll)return Xe(ut,kt);ll=!0;try{return al(Xe,ut,kt)}finally{ll=!1,so()}})(function(){var Xe=se,ut=Xn(I),kt=[];e:{var lt=Y0.get(x);if(lt!==void 0){var zt=Nf,an=x;switch(x){case"keypress":if(Tf(I)===0)break e;case"keydown":case"keyup":zt=lg;break;case"focusin":an="focus",zt=Ld;break;case"focusout":an="blur",zt=Ld;break;case"beforeblur":case"afterblur":zt=Ld;break;case"click":if(I.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":zt=ig;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":zt=rg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":zt=cg;break;case ml:case Jm:case Qm:zt=sx;break;case eg:zt=ug;break;case"scroll":zt=Q0;break;case"wheel":zt=hg;break;case"copy":case"cut":case"paste":zt=ox;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":zt=ry}var en=(4&E)!=0,Ye=!en&&x==="scroll",Ge=en?lt!==null?lt+"Capture":null:lt;en=[];for(var Ke,tt=Xe;tt!==null;){var rt=(Ke=tt).stateNode;if(Ke.tag===5&&rt!==null&&(Ke=rt,Ge!==null&&(rt=Rs(tt,Ge))!=null&&en.push(Qt(tt,rt,Ke))),Ye)break;tt=tt.return}0<en.length&&(lt=new zt(lt,an,null,I,ut),kt.push({event:lt,listeners:en}))}}if(!(7&E)){if(zt=x==="mouseout"||x==="pointerout",(!(lt=x==="mouseover"||x==="pointerover")||(16&E)!=0||!(an=I.relatedTarget||I.fromElement)||!mu(an)&&!an[Lf])&&(zt||lt)&&(lt=ut.window===ut?ut:(lt=ut.ownerDocument)?lt.defaultView||lt.parentWindow:window,zt?(zt=Xe,(an=(an=I.relatedTarget||I.toElement)?mu(an):null)!==null&&(an!==(Ye=ma(an))||an.tag!==5&&an.tag!==6)&&(an=null)):(zt=null,an=Xe),zt!==an)){if(en=ig,rt="onMouseLeave",Ge="onMouseEnter",tt="mouse",x!=="pointerout"&&x!=="pointerover"||(en=ry,rt="onPointerLeave",Ge="onPointerEnter",tt="pointer"),Ye=zt==null?lt:$d(zt),Ke=an==null?lt:$d(an),(lt=new en(rt,tt+"leave",zt,I,ut)).target=Ye,lt.relatedTarget=Ke,rt=null,mu(ut)===Xe&&((en=new en(Ge,tt+"enter",an,I,ut)).target=Ke,en.relatedTarget=Ye,rt=en),Ye=rt,zt&&an)e:{for(Ge=an,tt=0,Ke=en=zt;Ke;Ke=vt(Ke))tt++;for(Ke=0,rt=Ge;rt;rt=vt(rt))Ke++;for(;0<tt-Ke;)en=vt(en),tt--;for(;0<Ke-tt;)Ge=vt(Ge),Ke--;for(;tt--;){if(en===Ge||Ge!==null&&en===Ge.alternate)break e;en=vt(en),Ge=vt(Ge)}en=null}else en=null;zt!==null&&qi(kt,lt,zt,en,!1),an!==null&&Ye!==null&&qi(kt,Ye,an,en,!0)}if((zt=(lt=Xe?$d(Xe):window).nodeName&&lt.nodeName.toLowerCase())==="select"||zt==="input"&&lt.type==="file")var Kt=dy;else if(fc(lt))if(mg)Kt=cx;else{Kt=lx;var Et=fy}else(zt=lt.nodeName)&&zt.toLowerCase()==="input"&&(lt.type==="checkbox"||lt.type==="radio")&&(Kt=py);switch(Kt&&(Kt=Kt(x,Xe))?uy(kt,Kt,I,ut):(Et&&Et(x,lt,Xe),x==="focusout"&&(Et=lt._wrapperState)&&Et.controlled&&lt.type==="number"&&nt(lt,"number",lt.value)),Et=Xe?$d(Xe):window,x){case"focusin":(fc(Et)||Et.contentEditable==="true")&&(va=Et,pu=Xe,$n=null);break;case"focusout":$n=pu=va=null;break;case"mousedown":_l=!0;break;case"contextmenu":case"mouseup":case"dragend":_l=!1,Ff(kt,I,ut);break;case"selectionchange":if(Bn)break;case"keydown":case"keyup":Ff(kt,I,ut)}var ln;if(Pf)e:{switch(x){case"compositionstart":var Ft="onCompositionStart";break e;case"compositionend":Ft="onCompositionEnd";break e;case"compositionupdate":Ft="onCompositionUpdate";break e}Ft=void 0}else fu?ly(x,I)&&(Ft="onCompositionEnd"):x==="keydown"&&I.keyCode===229&&(Ft="onCompositionStart");Ft&&(fg&&I.locale!=="ko"&&(fu||Ft!=="onCompositionStart"?Ft==="onCompositionEnd"&&fu&&(ln=J0()):(du="value"in(vl=ut)?vl.value:vl.textContent,fu=!0)),0<(Et=nn(Xe,Ft)).length&&(Ft=new sg(Ft,x,null,I,ut),kt.push({event:Ft,listeners:Et}),(ln||(ln=cy(I))!==null)&&(Ft.data=ln))),(ln=oy?function(Vt,Xt){switch(Vt){case"compositionend":return cy(Xt);case"keypress":return Xt.which!==32?null:(pg=!0,ay);case"textInput":return(Vt=Xt.data)===ay&&pg?null:Vt;default:return null}}(x,I):function(Vt,Xt){if(fu)return Vt==="compositionend"||!Pf&&ly(Vt,Xt)?(Vt=J0(),Md=du=vl=null,fu=!1,Vt):null;switch(Vt){case"paste":default:return null;case"keypress":if(!(Xt.ctrlKey||Xt.altKey||Xt.metaKey)||Xt.ctrlKey&&Xt.altKey){if(Xt.char&&1<Xt.char.length)return Xt.char;if(Xt.which)return String.fromCharCode(Xt.which)}return null;case"compositionend":return fg&&Xt.locale!=="ko"?null:Xt.data}}(x,I))&&0<(Xe=nn(Xe,"onBeforeInput")).length&&(ut=new sg("onBeforeInput","beforeinput",null,I,ut),kt.push({event:ut,listeners:Xe}),ut.data=ln)}kl(kt,E)})}function Qt(x,E,I){return{instance:x,listener:E,currentTarget:I}}function nn(x,E){for(var I=E+"Capture",z=[];x!==null;){var q=x,se=q.stateNode;q.tag===5&&se!==null&&(q=se,(se=Rs(x,I))!=null&&z.unshift(Qt(x,se,q)),(se=Rs(x,E))!=null&&z.push(Qt(x,se,q))),x=x.return}return z}function vt(x){if(x===null)return null;do x=x.return;while(x&&x.tag!==5);return x||null}function qi(x,E,I,z,q){for(var se=E._reactName,pe=[];I!==null&&I!==z;){var Ne=I,We=Ne.alternate,Xe=Ne.stateNode;if(We!==null&&We===z)break;Ne.tag===5&&Xe!==null&&(Ne=Xe,q?(We=Rs(I,se))!=null&&pe.unshift(Qt(I,We,Ne)):q||(We=Rs(I,se))!=null&&pe.push(Qt(I,We,Ne))),I=I.return}pe.length!==0&&x.push({event:E,listeners:pe})}function In(){}var xa=null,Uo=null;function wn(x,E){switch(x){case"button":case"input":case"select":case"textarea":return!!E.autoFocus}return!1}function Ur(x,E){return x==="textarea"||x==="option"||x==="noscript"||typeof E.children=="string"||typeof E.children=="number"||typeof E.dangerouslySetInnerHTML=="object"&&E.dangerouslySetInnerHTML!==null&&E.dangerouslySetInnerHTML.__html!=null}var Lr=typeof setTimeout=="function"?setTimeout:void 0,pc=typeof clearTimeout=="function"?clearTimeout:void 0;function Wd(x){(x.nodeType===1||x.nodeType===9&&(x=x.body)!=null)&&(x.textContent="")}function Os(x){for(;x!=null;x=x.nextSibling){var E=x.nodeType;if(E===1||E===3)break}return x}function Ai(x){x=x.previousSibling;for(var E=0;x;){if(x.nodeType===8){var I=x.data;if(I==="$"||I==="$!"||I==="$?"){if(E===0)return x;E--}else I==="/$"&&E++}x=x.previousSibling}return null}var cs=0,fo=Math.random().toString(36).slice(2),mc="__reactFiber$"+fo,vg="__reactProps$"+fo,Lf="__reactContainer$"+fo,uA="__reactEvents$"+fo;function mu(x){var E=x[mc];if(E)return E;for(var I=x.parentNode;I;){if(E=I[Lf]||I[mc]){if(I=E.alternate,E.child!==null||I!==null&&I.child!==null)for(x=Ai(x);x!==null;){if(I=x[mc])return I;x=Ai(x)}return E}I=(x=I).parentNode}return null}function Bf(x){return!(x=x[mc]||x[Lf])||x.tag!==5&&x.tag!==6&&x.tag!==13&&x.tag!==3?null:x}function $d(x){if(x.tag===5||x.tag===6)return x.stateNode;throw Error(v(33))}function wg(x){return x[vg]||null}function yy(x){var E=x[uA];return E===void 0&&(E=x[uA]=new Set),E}var ux=[],qd=-1;function gu(x){return{current:x}}function li(x){0>qd||(x.current=ux[qd],ux[qd]=null,qd--)}function Gt(x,E){qd++,ux[qd]=x.current,x.current=E}var bu={},Ri=gu(bu),Br=gu(!1),yu=bu;function vu(x,E){var I=x.type.contextTypes;if(!I)return bu;var z=x.stateNode;if(z&&z.__reactInternalMemoizedUnmaskedChildContext===E)return z.__reactInternalMemoizedMaskedChildContext;var q,se={};for(q in I)se[q]=E[q];return z&&((x=x.stateNode).__reactInternalMemoizedUnmaskedChildContext=E,x.__reactInternalMemoizedMaskedChildContext=se),se}function Rn(x){return(x=x.childContextTypes)!=null}function dx(){li(Br),li(Ri)}function dA(x,E,I){if(Ri.current!==bu)throw Error(v(168));Gt(Ri,E),Gt(Br,I)}function hx(x,E,I){var z=x.stateNode;if(x=E.childContextTypes,typeof z.getChildContext!="function")return I;for(var q in z=z.getChildContext())if(!(q in x))throw Error(v(108,be(E)||"Unknown",q));return g({},I,z)}function vy(x){return x=(x=x.stateNode)&&x.__reactInternalMemoizedMergedChildContext||bu,yu=Ri.current,Gt(Ri,x),Gt(Br,Br.current),!0}function Fs(x,E,I){var z=x.stateNode;if(!z)throw Error(v(169));I?(x=hx(x,E,yu),z.__reactInternalMemoizedMergedChildContext=x,li(Br),li(Ri),Gt(Ri,x)):li(Br),Gt(Br,I)}var ci=null,Hi=null,_a=y.unstable_runWithPriority,ka=y.unstable_scheduleCallback,xg=y.unstable_cancelCallback,fx=y.unstable_shouldYield,wy=y.unstable_requestPaint,px=y.unstable_now,hA=y.unstable_getCurrentPriorityLevel,Lo=y.unstable_ImmediatePriority,fA=y.unstable_UserBlockingPriority,It=y.unstable_NormalPriority,pA=y.unstable_LowPriority,Rt=y.unstable_IdlePriority,mx={},Ot=wy!==void 0?wy:function(){},gc=null,Tt=null,gx=!1,Mt=px(),Qi=1e4>Mt?px:function(){return px()-Mt};function El(){switch(hA()){case Lo:return 99;case fA:return 98;case It:return 97;case pA:return 96;case Rt:return 95;default:throw Error(v(332))}}function on(x){switch(x){case 99:return Lo;case 98:return fA;case 97:return It;case 96:return pA;case 95:return Rt;default:throw Error(v(332))}}function dr(x,E){return x=on(x),_a(x,E)}function bc(x,E,I){return x=on(x),ka(x,E,I)}function Sl(){if(Tt!==null){var x=Tt;Tt=null,xg(x)}bx()}function bx(){if(!gx&&gc!==null){gx=!0;var x=0;try{var E=gc;dr(99,function(){for(;x<E.length;x++){var I=E[x];do I=I(!0);while(I!==null)}}),gc=null}catch(I){throw gc!==null&&(gc=gc.slice(x+1)),ka(Lo,Sl),I}finally{gx=!1}}}var xy=me.ReactCurrentBatchConfig;function Bo(x,E){if(x&&x.defaultProps){for(var I in E=g({},E),x=x.defaultProps)E[I]===void 0&&(E[I]=x[I]);return E}return E}var _y=gu(null),ky=null,zf=null,_g=null;function Ey(){_g=zf=ky=null}function Sy(x){var E=_y.current;li(_y),x.type._context._currentValue=E}function yx(x,E){for(;x!==null;){var I=x.alternate;if((x.childLanes&E)===E){if(I===null||(I.childLanes&E)===E)break;I.childLanes|=E}else x.childLanes|=E,I!==null&&(I.childLanes|=E);x=x.return}}function Hd(x,E){ky=x,_g=zf=null,(x=x.dependencies)!==null&&x.firstContext!==null&&(x.lanes&E&&(yo=!0),x.firstContext=null)}function po(x,E){if(_g!==x&&E!==!1&&E!==0)if(typeof E=="number"&&E!==1073741823||(_g=x,E=1073741823),E={context:x,observedBits:E,next:null},zf===null){if(ky===null)throw Error(v(308));zf=E,ky.dependencies={lanes:0,firstContext:E,responders:null}}else zf=zf.next=E;return x._currentValue}var mo=!1;function Vf(x){x.updateQueue={baseState:x.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Ay(x,E){x=x.updateQueue,E.updateQueue===x&&(E.updateQueue={baseState:x.baseState,firstBaseUpdate:x.firstBaseUpdate,lastBaseUpdate:x.lastBaseUpdate,shared:x.shared,effects:x.effects})}function Al(x,E){return{eventTime:x,lane:E,tag:0,payload:null,callback:null,next:null}}function yc(x,E){if((x=x.updateQueue)!==null){var I=(x=x.shared).pending;I===null?E.next=E:(E.next=I.next,I.next=E),x.pending=E}}function vx(x,E){var I=x.updateQueue,z=x.alternate;if(z!==null&&I===(z=z.updateQueue)){var q=null,se=null;if((I=I.firstBaseUpdate)!==null){do{var pe={eventTime:I.eventTime,lane:I.lane,tag:I.tag,payload:I.payload,callback:I.callback,next:null};se===null?q=se=pe:se=se.next=pe,I=I.next}while(I!==null);se===null?q=se=E:se=se.next=E}else q=se=E;return I={baseState:z.baseState,firstBaseUpdate:q,lastBaseUpdate:se,shared:z.shared,effects:z.effects},void(x.updateQueue=I)}(x=I.lastBaseUpdate)===null?I.firstBaseUpdate=E:x.next=E,I.lastBaseUpdate=E}function kg(x,E,I,z){var q=x.updateQueue;mo=!1;var se=q.firstBaseUpdate,pe=q.lastBaseUpdate,Ne=q.shared.pending;if(Ne!==null){q.shared.pending=null;var We=Ne,Xe=We.next;We.next=null,pe===null?se=Xe:pe.next=Xe,pe=We;var ut=x.alternate;if(ut!==null){var kt=(ut=ut.updateQueue).lastBaseUpdate;kt!==pe&&(kt===null?ut.firstBaseUpdate=Xe:kt.next=Xe,ut.lastBaseUpdate=We)}}if(se!==null){for(kt=q.baseState,pe=0,ut=Xe=We=null;;){Ne=se.lane;var lt=se.eventTime;if((z&Ne)===Ne){ut!==null&&(ut=ut.next={eventTime:lt,lane:0,tag:se.tag,payload:se.payload,callback:se.callback,next:null});e:{var zt=x,an=se;switch(Ne=E,lt=I,an.tag){case 1:if(typeof(zt=an.payload)=="function"){kt=zt.call(lt,kt,Ne);break e}kt=zt;break e;case 3:zt.flags=-4097&zt.flags|64;case 0:if((Ne=typeof(zt=an.payload)=="function"?zt.call(lt,kt,Ne):zt)==null)break e;kt=g({},kt,Ne);break e;case 2:mo=!0}}se.callback!==null&&(x.flags|=32,(Ne=q.effects)===null?q.effects=[se]:Ne.push(se))}else lt={eventTime:lt,lane:Ne,tag:se.tag,payload:se.payload,callback:se.callback,next:null},ut===null?(Xe=ut=lt,We=kt):ut=ut.next=lt,pe|=Ne;if((se=se.next)===null){if((Ne=q.shared.pending)===null)break;se=Ne.next,Ne.next=null,q.lastBaseUpdate=Ne,q.shared.pending=null}}ut===null&&(We=kt),q.baseState=We,q.firstBaseUpdate=Xe,q.lastBaseUpdate=ut,Qd|=pe,x.lanes=pe,x.memoizedState=kt}}function Eg(x,E,I){if(x=E.effects,E.effects=null,x!==null)for(E=0;E<x.length;E++){var z=x[E],q=z.callback;if(q!==null){if(z.callback=null,z=I,typeof q!="function")throw Error(v(191,q));q.call(z)}}}var Wf=new m.Component().refs;function zo(x,E,I,z){I=(I=I(z,E=x.memoizedState))==null?E:g({},E,I),x.memoizedState=I,x.lanes===0&&(x.updateQueue.baseState=I)}var Cy={isMounted:function(x){return!!(x=x._reactInternals)&&ma(x)===x},enqueueSetState:function(x,E,I){x=x._reactInternals;var z=ai(),q=Vo(x),se=Al(z,q);se.payload=E,I!=null&&(se.callback=I),yc(x,se),Sc(x,q,z)},enqueueReplaceState:function(x,E,I){x=x._reactInternals;var z=ai(),q=Vo(x),se=Al(z,q);se.tag=1,se.payload=E,I!=null&&(se.callback=I),yc(x,se),Sc(x,q,z)},enqueueForceUpdate:function(x,E){x=x._reactInternals;var I=ai(),z=Vo(x),q=Al(I,z);q.tag=2,E!=null&&(q.callback=E),yc(x,q),Sc(x,z,I)}};function Sg(x,E,I,z,q,se,pe){return typeof(x=x.stateNode).shouldComponentUpdate=="function"?x.shouldComponentUpdate(z,se,pe):!E.prototype||!E.prototype.isPureReactComponent||!zd(I,z)||!zd(q,se)}function $f(x,E,I){var z=!1,q=bu,se=E.contextType;return typeof se=="object"&&se!==null?se=po(se):(q=Rn(E)?yu:Ri.current,se=(z=(z=E.contextTypes)!=null)?vu(x,q):bu),E=new E(I,se),x.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=Cy,x.stateNode=E,E._reactInternals=x,z&&((x=x.stateNode).__reactInternalMemoizedUnmaskedChildContext=q,x.__reactInternalMemoizedMaskedChildContext=se),E}function Mn(x,E,I,z){x=E.state,typeof E.componentWillReceiveProps=="function"&&E.componentWillReceiveProps(I,z),typeof E.UNSAFE_componentWillReceiveProps=="function"&&E.UNSAFE_componentWillReceiveProps(I,z),E.state!==x&&Cy.enqueueReplaceState(E,E.state,null)}function qf(x,E,I,z){var q=x.stateNode;q.props=I,q.state=x.memoizedState,q.refs=Wf,Vf(x);var se=E.contextType;typeof se=="object"&&se!==null?q.context=po(se):(se=Rn(E)?yu:Ri.current,q.context=vu(x,se)),kg(x,I,q,z),q.state=x.memoizedState,typeof(se=E.getDerivedStateFromProps)=="function"&&(zo(x,E,se,I),q.state=x.memoizedState),typeof E.getDerivedStateFromProps=="function"||typeof q.getSnapshotBeforeUpdate=="function"||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(E=q.state,typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount(),E!==q.state&&Cy.enqueueReplaceState(q,q.state,null),kg(x,I,q,z),q.state=x.memoizedState),typeof q.componentDidMount=="function"&&(x.flags|=4)}var wu=Array.isArray;function xu(x,E,I){if((x=I.ref)!==null&&typeof x!="function"&&typeof x!="object"){if(I._owner){if(I=I._owner){if(I.tag!==1)throw Error(v(309));var z=I.stateNode}if(!z)throw Error(v(147,x));var q=""+x;return E!==null&&E.ref!==null&&typeof E.ref=="function"&&E.ref._stringRef===q?E.ref:(E=function(se){var pe=z.refs;pe===Wf&&(pe=z.refs={}),se===null?delete pe[q]:pe[q]=se},E._stringRef=q,E)}if(typeof x!="string")throw Error(v(284));if(!I._owner)throw Error(v(290,x))}return x}function Gd(x,E){if(x.type!=="textarea")throw Error(v(31,Object.prototype.toString.call(E)==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":E))}function Hf(x){function E(Ye,Ge){if(x){var Ke=Ye.lastEffect;Ke!==null?(Ke.nextEffect=Ge,Ye.lastEffect=Ge):Ye.firstEffect=Ye.lastEffect=Ge,Ge.nextEffect=null,Ge.flags=8}}function I(Ye,Ge){if(!x)return null;for(;Ge!==null;)E(Ye,Ge),Ge=Ge.sibling;return null}function z(Ye,Ge){for(Ye=new Map;Ge!==null;)Ge.key!==null?Ye.set(Ge.key,Ge):Ye.set(Ge.index,Ge),Ge=Ge.sibling;return Ye}function q(Ye,Ge){return(Ye=Fu(Ye,Ge)).index=0,Ye.sibling=null,Ye}function se(Ye,Ge,Ke){return Ye.index=Ke,x?(Ke=Ye.alternate)!==null?(Ke=Ke.index)<Ge?(Ye.flags=2,Ge):Ke:(Ye.flags=2,Ge):Ge}function pe(Ye){return x&&Ye.alternate===null&&(Ye.flags=2),Ye}function Ne(Ye,Ge,Ke,tt){return Ge===null||Ge.tag!==6?((Ge=$x(Ke,Ye.mode,tt)).return=Ye,Ge):((Ge=q(Ge,Ke)).return=Ye,Ge)}function We(Ye,Ge,Ke,tt){return Ge!==null&&Ge.elementType===Ke.type?((tt=q(Ge,Ke.props)).ref=xu(Ye,Ge,Ke),tt.return=Ye,tt):((tt=Ky(Ke.type,Ke.key,Ke.props,null,Ye.mode,tt)).ref=xu(Ye,Ge,Ke),tt.return=Ye,tt)}function Xe(Ye,Ge,Ke,tt){return Ge===null||Ge.tag!==4||Ge.stateNode.containerInfo!==Ke.containerInfo||Ge.stateNode.implementation!==Ke.implementation?((Ge=ih(Ke,Ye.mode,tt)).return=Ye,Ge):((Ge=q(Ge,Ke.children||[])).return=Ye,Ge)}function ut(Ye,Ge,Ke,tt,rt){return Ge===null||Ge.tag!==7?((Ge=nh(Ke,Ye.mode,tt,rt)).return=Ye,Ge):((Ge=q(Ge,Ke)).return=Ye,Ge)}function kt(Ye,Ge,Ke){if(typeof Ge=="string"||typeof Ge=="number")return(Ge=$x(""+Ge,Ye.mode,Ke)).return=Ye,Ge;if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case Q:return(Ke=Ky(Ge.type,Ge.key,Ge.props,null,Ye.mode,Ke)).ref=xu(Ye,null,Ge),Ke.return=Ye,Ke;case ge:return(Ge=ih(Ge,Ye.mode,Ke)).return=Ye,Ge}if(wu(Ge)||we(Ge))return(Ge=nh(Ge,Ye.mode,Ke,null)).return=Ye,Ge;Gd(Ye,Ge)}return null}function lt(Ye,Ge,Ke,tt){var rt=Ge!==null?Ge.key:null;if(typeof Ke=="string"||typeof Ke=="number")return rt!==null?null:Ne(Ye,Ge,""+Ke,tt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case Q:return Ke.key===rt?Ke.type===$?ut(Ye,Ge,Ke.props.children,tt,rt):We(Ye,Ge,Ke,tt):null;case ge:return Ke.key===rt?Xe(Ye,Ge,Ke,tt):null}if(wu(Ke)||we(Ke))return rt!==null?null:ut(Ye,Ge,Ke,tt,null);Gd(Ye,Ke)}return null}function zt(Ye,Ge,Ke,tt,rt){if(typeof tt=="string"||typeof tt=="number")return Ne(Ge,Ye=Ye.get(Ke)||null,""+tt,rt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case Q:return Ye=Ye.get(tt.key===null?Ke:tt.key)||null,tt.type===$?ut(Ge,Ye,tt.props.children,rt,tt.key):We(Ge,Ye,tt,rt);case ge:return Xe(Ge,Ye=Ye.get(tt.key===null?Ke:tt.key)||null,tt,rt)}if(wu(tt)||we(tt))return ut(Ge,Ye=Ye.get(Ke)||null,tt,rt,null);Gd(Ge,tt)}return null}function an(Ye,Ge,Ke,tt){for(var rt=null,Kt=null,Et=Ge,ln=Ge=0,Ft=null;Et!==null&&ln<Ke.length;ln++){Et.index>ln?(Ft=Et,Et=null):Ft=Et.sibling;var Vt=lt(Ye,Et,Ke[ln],tt);if(Vt===null){Et===null&&(Et=Ft);break}x&&Et&&Vt.alternate===null&&E(Ye,Et),Ge=se(Vt,Ge,ln),Kt===null?rt=Vt:Kt.sibling=Vt,Kt=Vt,Et=Ft}if(ln===Ke.length)return I(Ye,Et),rt;if(Et===null){for(;ln<Ke.length;ln++)(Et=kt(Ye,Ke[ln],tt))!==null&&(Ge=se(Et,Ge,ln),Kt===null?rt=Et:Kt.sibling=Et,Kt=Et);return rt}for(Et=z(Ye,Et);ln<Ke.length;ln++)(Ft=zt(Et,Ye,ln,Ke[ln],tt))!==null&&(x&&Ft.alternate!==null&&Et.delete(Ft.key===null?ln:Ft.key),Ge=se(Ft,Ge,ln),Kt===null?rt=Ft:Kt.sibling=Ft,Kt=Ft);return x&&Et.forEach(function(Xt){return E(Ye,Xt)}),rt}function en(Ye,Ge,Ke,tt){var rt=we(Ke);if(typeof rt!="function")throw Error(v(150));if((Ke=rt.call(Ke))==null)throw Error(v(151));for(var Kt=rt=null,Et=Ge,ln=Ge=0,Ft=null,Vt=Ke.next();Et!==null&&!Vt.done;ln++,Vt=Ke.next()){Et.index>ln?(Ft=Et,Et=null):Ft=Et.sibling;var Xt=lt(Ye,Et,Vt.value,tt);if(Xt===null){Et===null&&(Et=Ft);break}x&&Et&&Xt.alternate===null&&E(Ye,Et),Ge=se(Xt,Ge,ln),Kt===null?rt=Xt:Kt.sibling=Xt,Kt=Xt,Et=Ft}if(Vt.done)return I(Ye,Et),rt;if(Et===null){for(;!Vt.done;ln++,Vt=Ke.next())(Vt=kt(Ye,Vt.value,tt))!==null&&(Ge=se(Vt,Ge,ln),Kt===null?rt=Vt:Kt.sibling=Vt,Kt=Vt);return rt}for(Et=z(Ye,Et);!Vt.done;ln++,Vt=Ke.next())(Vt=zt(Et,Ye,ln,Vt.value,tt))!==null&&(x&&Vt.alternate!==null&&Et.delete(Vt.key===null?ln:Vt.key),Ge=se(Vt,Ge,ln),Kt===null?rt=Vt:Kt.sibling=Vt,Kt=Vt);return x&&Et.forEach(function(Il){return E(Ye,Il)}),rt}return function(Ye,Ge,Ke,tt){var rt=typeof Ke=="object"&&Ke!==null&&Ke.type===$&&Ke.key===null;rt&&(Ke=Ke.props.children);var Kt=typeof Ke=="object"&&Ke!==null;if(Kt)switch(Ke.$$typeof){case Q:e:{for(Kt=Ke.key,rt=Ge;rt!==null;){if(rt.key===Kt){if(rt.tag===7){if(Ke.type===$){I(Ye,rt.sibling),(Ge=q(rt,Ke.props.children)).return=Ye,Ye=Ge;break e}}else if(rt.elementType===Ke.type){I(Ye,rt.sibling),(Ge=q(rt,Ke.props)).ref=xu(Ye,rt,Ke),Ge.return=Ye,Ye=Ge;break e}I(Ye,rt);break}E(Ye,rt),rt=rt.sibling}Ke.type===$?((Ge=nh(Ke.props.children,Ye.mode,tt,Ke.key)).return=Ye,Ye=Ge):((tt=Ky(Ke.type,Ke.key,Ke.props,null,Ye.mode,tt)).ref=xu(Ye,Ge,Ke),tt.return=Ye,Ye=tt)}return pe(Ye);case ge:e:{for(rt=Ke.key;Ge!==null;){if(Ge.key===rt){if(Ge.tag===4&&Ge.stateNode.containerInfo===Ke.containerInfo&&Ge.stateNode.implementation===Ke.implementation){I(Ye,Ge.sibling),(Ge=q(Ge,Ke.children||[])).return=Ye,Ye=Ge;break e}I(Ye,Ge);break}E(Ye,Ge),Ge=Ge.sibling}(Ge=ih(Ke,Ye.mode,tt)).return=Ye,Ye=Ge}return pe(Ye)}if(typeof Ke=="string"||typeof Ke=="number")return Ke=""+Ke,Ge!==null&&Ge.tag===6?(I(Ye,Ge.sibling),(Ge=q(Ge,Ke)).return=Ye,Ye=Ge):(I(Ye,Ge),(Ge=$x(Ke,Ye.mode,tt)).return=Ye,Ye=Ge),pe(Ye);if(wu(Ke))return an(Ye,Ge,Ke,tt);if(we(Ke))return en(Ye,Ge,Ke,tt);if(Kt&&Gd(Ye,Ke),Ke===void 0&&!rt)switch(Ye.tag){case 1:case 22:case 0:case 11:case 15:throw Error(v(152,be(Ye.type)||"Component"))}return I(Ye,Ge)}}var Xd=Hf(!0),Gf=Hf(!1),Xf={},go=gu(Xf),vc=gu(Xf),_u=gu(Xf);function Kd(x){if(x===Xf)throw Error(v(174));return x}function Kf(x,E){switch(Gt(_u,E),Gt(vc,x),Gt(go,Xf),x=E.nodeType){case 9:case 11:E=(E=E.documentElement)?E.namespaceURI:Vn(null,"");break;default:E=Vn(E=(x=x===8?E.parentNode:E).namespaceURI||null,x=x.tagName)}li(go),Gt(go,E)}function Cl(){li(go),li(vc),li(_u)}function mA(x){Kd(_u.current);var E=Kd(go.current),I=Vn(E,x.type);E!==I&&(Gt(vc,x),Gt(go,I))}function wx(x){vc.current===x&&(li(go),li(vc))}var ui=gu(0);function ku(x){for(var E=x;E!==null;){if(E.tag===13){var I=E.memoizedState;if(I!==null&&((I=I.dehydrated)===null||I.data==="$?"||I.data==="$!"))return E}else if(E.tag===19&&E.memoizedProps.revealOrder!==void 0){if(64&E.flags)return E}else if(E.child!==null){E.child.return=E,E=E.child;continue}if(E===x)break;for(;E.sibling===null;){if(E.return===null||E.return===x)return null;E=E.return}E.sibling.return=E.return,E=E.sibling}return null}var wc=null,Ea=null,Us=!1;function Yd(x,E){var I=Wo(5,null,null,0);I.elementType="DELETED",I.type="DELETED",I.stateNode=E,I.return=x,I.flags=8,x.lastEffect!==null?(x.lastEffect.nextEffect=I,x.lastEffect=I):x.firstEffect=x.lastEffect=I}function xx(x,E){switch(x.tag){case 5:var I=x.type;return(E=E.nodeType!==1||I.toLowerCase()!==E.nodeName.toLowerCase()?null:E)!==null&&(x.stateNode=E,!0);case 6:return(E=x.pendingProps===""||E.nodeType!==3?null:E)!==null&&(x.stateNode=E,!0);default:return!1}}function Ty(x){if(Us){var E=Ea;if(E){var I=E;if(!xx(x,E)){if(!(E=Os(I.nextSibling))||!xx(x,E))return x.flags=-1025&x.flags|2,Us=!1,void(wc=x);Yd(wc,I)}wc=x,Ea=Os(E.firstChild)}else x.flags=-1025&x.flags|2,Us=!1,wc=x}}function xc(x){for(x=x.return;x!==null&&x.tag!==5&&x.tag!==3&&x.tag!==13;)x=x.return;wc=x}function Yf(x){if(x!==wc)return!1;if(!Us)return xc(x),Us=!0,!1;var E=x.type;if(x.tag!==5||E!=="head"&&E!=="body"&&!Ur(E,x.memoizedProps))for(E=Ea;E;)Yd(x,E),E=Os(E.nextSibling);if(xc(x),x.tag===13){if(!(x=(x=x.memoizedState)!==null?x.dehydrated:null))throw Error(v(317));e:{for(x=x.nextSibling,E=0;x;){if(x.nodeType===8){var I=x.data;if(I==="/$"){if(E===0){Ea=Os(x.nextSibling);break e}E--}else I!=="$"&&I!=="$!"&&I!=="$?"||E++}x=x.nextSibling}Ea=null}}else Ea=wc?Os(x.stateNode.nextSibling):null;return!0}function Dy(){Ea=wc=null,Us=!1}var Zf=[];function Ny(){for(var x=0;x<Zf.length;x++)Zf[x]._workInProgressVersionPrimary=null;Zf.length=0}var it=me.ReactCurrentDispatcher,bo=me.ReactCurrentBatchConfig,cn=0,Ci=null,zr=null,hr=null,Ag=!1,Jf=!1;function xr(){throw Error(v(321))}function Zd(x,E){if(E===null)return!1;for(var I=0;I<E.length&&I<x.length;I++)if(!ls(x[I],E[I]))return!1;return!0}function Qf(x,E,I,z,q,se){if(cn=se,Ci=E,E.memoizedState=null,E.updateQueue=null,E.lanes=0,it.current=x===null||x.memoizedState===null?hP:xA,x=I(z,q),Jf){se=0;do{if(Jf=!1,!(25>se))throw Error(v(301));se+=1,hr=zr=null,E.updateQueue=null,it.current=_A,x=I(z,q)}while(Jf)}if(it.current=Ry,E=zr!==null&&zr.next!==null,cn=0,hr=zr=Ci=null,Ag=!1,E)throw Error(v(300));return x}function Eu(){var x={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hr===null?Ci.memoizedState=hr=x:hr=hr.next=x,hr}function Su(){if(zr===null){var x=Ci.alternate;x=x!==null?x.memoizedState:null}else x=zr.next;var E=hr===null?Ci.memoizedState:hr.next;if(E!==null)hr=E,zr=x;else{if(x===null)throw Error(v(310));x={memoizedState:(zr=x).memoizedState,baseState:zr.baseState,baseQueue:zr.baseQueue,queue:zr.queue,next:null},hr===null?Ci.memoizedState=hr=x:hr=hr.next=x}return hr}function Tl(x,E){return typeof E=="function"?E(x):E}function Jd(x){var E=Su(),I=E.queue;if(I===null)throw Error(v(311));I.lastRenderedReducer=x;var z=zr,q=z.baseQueue,se=I.pending;if(se!==null){if(q!==null){var pe=q.next;q.next=se.next,se.next=pe}z.baseQueue=q=se,I.pending=null}if(q!==null){q=q.next,z=z.baseState;var Ne=pe=se=null,We=q;do{var Xe=We.lane;if((cn&Xe)===Xe)Ne!==null&&(Ne=Ne.next={lane:0,action:We.action,eagerReducer:We.eagerReducer,eagerState:We.eagerState,next:null}),z=We.eagerReducer===x?We.eagerState:x(z,We.action);else{var ut={lane:Xe,action:We.action,eagerReducer:We.eagerReducer,eagerState:We.eagerState,next:null};Ne===null?(pe=Ne=ut,se=z):Ne=Ne.next=ut,Ci.lanes|=Xe,Qd|=Xe}We=We.next}while(We!==null&&We!==q);Ne===null?se=z:Ne.next=pe,ls(z,E.memoizedState)||(yo=!0),E.memoizedState=z,E.baseState=se,E.baseQueue=Ne,I.lastRenderedState=z}return[E.memoizedState,I.dispatch]}function ep(x){var E=Su(),I=E.queue;if(I===null)throw Error(v(311));I.lastRenderedReducer=x;var z=I.dispatch,q=I.pending,se=E.memoizedState;if(q!==null){I.pending=null;var pe=q=q.next;do se=x(se,pe.action),pe=pe.next;while(pe!==q);ls(se,E.memoizedState)||(yo=!0),E.memoizedState=se,E.baseQueue===null&&(E.baseState=se),I.lastRenderedState=se}return[se,z]}function gA(x,E,I){var z=E._getVersion;z=z(E._source);var q=E._workInProgressVersionPrimary;if(q!==null?x=q===z:(x=x.mutableReadLanes,(x=(cn&x)===x)&&(E._workInProgressVersionPrimary=z,Zf.push(E))),x)return I(E._source);throw Zf.push(E),Error(v(350))}function Au(x,E,I,z){var q=_r;if(q===null)throw Error(v(349));var se=E._getVersion,pe=se(E._source),Ne=it.current,We=Ne.useState(function(){return gA(q,E,I)}),Xe=We[1],ut=We[0];We=hr;var kt=x.memoizedState,lt=kt.refs,zt=lt.getSnapshot,an=kt.source;kt=kt.subscribe;var en=Ci;return x.memoizedState={refs:lt,source:E,subscribe:z},Ne.useEffect(function(){lt.getSnapshot=I,lt.setSnapshot=Xe;var Ye=se(E._source);if(!ls(pe,Ye)){Ye=I(E._source),ls(ut,Ye)||(Xe(Ye),Ye=Vo(en),q.mutableReadLanes|=Ye&q.pendingLanes),Ye=q.mutableReadLanes,q.entangledLanes|=Ye;for(var Ge=q.entanglements,Ke=Ye;0<Ke;){var tt=31-yl(Ke),rt=1<<tt;Ge[tt]|=Ye,Ke&=~rt}}},[I,E,z]),Ne.useEffect(function(){return z(E._source,function(){var Ye=lt.getSnapshot,Ge=lt.setSnapshot;try{Ge(Ye(E._source));var Ke=Vo(en);q.mutableReadLanes|=Ke&q.pendingLanes}catch(tt){Ge(function(){throw tt})}})},[E,z]),ls(zt,I)&&ls(an,E)&&ls(kt,z)||((x={pending:null,dispatch:null,lastRenderedReducer:Tl,lastRenderedState:ut}).dispatch=Xe=Ex.bind(null,Ci,x),We.queue=x,We.baseQueue=null,ut=gA(q,E,I),We.memoizedState=We.baseState=ut),ut}function _x(x,E,I){return Au(Su(),x,E,I)}function Sa(x){var E=Eu();return typeof x=="function"&&(x=x()),E.memoizedState=E.baseState=x,x=(x=E.queue={pending:null,dispatch:null,lastRenderedReducer:Tl,lastRenderedState:x}).dispatch=Ex.bind(null,Ci,x),[E.memoizedState,x]}function Cn(x,E,I,z){return x={tag:x,create:E,destroy:I,deps:z,next:null},(E=Ci.updateQueue)===null?(E={lastEffect:null},Ci.updateQueue=E,E.lastEffect=x.next=x):(I=E.lastEffect)===null?E.lastEffect=x.next=x:(z=I.next,I.next=x,x.next=z,E.lastEffect=x),x}function Aa(x){return x={current:x},Eu().memoizedState=x}function Cu(){return Su().memoizedState}function Py(x,E,I,z){var q=Eu();Ci.flags|=x,q.memoizedState=Cn(1|E,I,void 0,z===void 0?null:z)}function Cg(x,E,I,z){var q=Su();z=z===void 0?null:z;var se=void 0;if(zr!==null){var pe=zr.memoizedState;if(se=pe.destroy,z!==null&&Zd(z,pe.deps))return void Cn(E,I,se,z)}Ci.flags|=x,q.memoizedState=Cn(1|E,I,se,z)}function Tg(x,E){return Py(516,4,x,E)}function jy(x,E){return Cg(516,4,x,E)}function bA(x,E){return Cg(4,2,x,E)}function yA(x,E){return typeof E=="function"?(x=x(),E(x),function(){E(null)}):E!=null?(x=x(),E.current=x,function(){E.current=null}):void 0}function Iy(x,E,I){return I=I!=null?I.concat([x]):null,Cg(4,2,yA.bind(null,E,x),I)}function kx(){}function vA(x,E){var I=Su();E=E===void 0?null:E;var z=I.memoizedState;return z!==null&&E!==null&&Zd(E,z[1])?z[0]:(I.memoizedState=[x,E],x)}function wA(x,E){var I=Su();E=E===void 0?null:E;var z=I.memoizedState;return z!==null&&E!==null&&Zd(E,z[1])?z[0]:(x=x(),I.memoizedState=[x,E],x)}function dP(x,E){var I=El();dr(98>I?98:I,function(){x(!0)}),dr(97<I?97:I,function(){var z=bo.transition;bo.transition=1;try{x(!1),E()}finally{bo.transition=z}})}function Ex(x,E,I){var z=ai(),q=Vo(x),se={lane:q,action:I,eagerReducer:null,eagerState:null,next:null},pe=E.pending;if(pe===null?se.next=se:(se.next=pe.next,pe.next=se),E.pending=se,pe=x.alternate,x===Ci||pe!==null&&pe===Ci)Jf=Ag=!0;else{if(x.lanes===0&&(pe===null||pe.lanes===0)&&(pe=E.lastRenderedReducer)!==null)try{var Ne=E.lastRenderedState,We=pe(Ne,I);if(se.eagerReducer=pe,se.eagerState=We,ls(We,Ne))return}catch{}Sc(x,q,z)}}var Ry={readContext:po,useCallback:xr,useContext:xr,useEffect:xr,useImperativeHandle:xr,useLayoutEffect:xr,useMemo:xr,useReducer:xr,useRef:xr,useState:xr,useDebugValue:xr,useDeferredValue:xr,useTransition:xr,useMutableSource:xr,useOpaqueIdentifier:xr,unstable_isNewReconciler:!1},hP={readContext:po,useCallback:function(x,E){return Eu().memoizedState=[x,E===void 0?null:E],x},useContext:po,useEffect:Tg,useImperativeHandle:function(x,E,I){return I=I!=null?I.concat([x]):null,Py(4,2,yA.bind(null,E,x),I)},useLayoutEffect:function(x,E){return Py(4,2,x,E)},useMemo:function(x,E){var I=Eu();return E=E===void 0?null:E,x=x(),I.memoizedState=[x,E],x},useReducer:function(x,E,I){var z=Eu();return E=I!==void 0?I(E):E,z.memoizedState=z.baseState=E,x=(x=z.queue={pending:null,dispatch:null,lastRenderedReducer:x,lastRenderedState:E}).dispatch=Ex.bind(null,Ci,x),[z.memoizedState,x]},useRef:Aa,useState:Sa,useDebugValue:kx,useDeferredValue:function(x){var E=Sa(x),I=E[0],z=E[1];return Tg(function(){var q=bo.transition;bo.transition=1;try{z(x)}finally{bo.transition=q}},[x]),I},useTransition:function(){var x=Sa(!1),E=x[0];return Aa(x=dP.bind(null,x[1])),[x,E]},useMutableSource:function(x,E,I){var z=Eu();return z.memoizedState={refs:{getSnapshot:E,setSnapshot:null},source:x,subscribe:I},Au(z,x,E,I)},useOpaqueIdentifier:function(){if(Us){var x=!1,E=function(z){return{$$typeof:Ae,toString:z,valueOf:z}}(function(){throw x||(x=!0,I("r:"+(cs++).toString(36))),Error(v(355))}),I=Sa(E)[1];return!(2&Ci.mode)&&(Ci.flags|=516,Cn(5,function(){I("r:"+(cs++).toString(36))},void 0,null)),E}return Sa(E="r:"+(cs++).toString(36)),E},unstable_isNewReconciler:!1},xA={readContext:po,useCallback:vA,useContext:po,useEffect:jy,useImperativeHandle:Iy,useLayoutEffect:bA,useMemo:wA,useReducer:Jd,useRef:Cu,useState:function(){return Jd(Tl)},useDebugValue:kx,useDeferredValue:function(x){var E=Jd(Tl),I=E[0],z=E[1];return jy(function(){var q=bo.transition;bo.transition=1;try{z(x)}finally{bo.transition=q}},[x]),I},useTransition:function(){var x=Jd(Tl)[0];return[Cu().current,x]},useMutableSource:_x,useOpaqueIdentifier:function(){return Jd(Tl)[0]},unstable_isNewReconciler:!1},_A={readContext:po,useCallback:vA,useContext:po,useEffect:jy,useImperativeHandle:Iy,useLayoutEffect:bA,useMemo:wA,useReducer:ep,useRef:Cu,useState:function(){return ep(Tl)},useDebugValue:kx,useDeferredValue:function(x){var E=ep(Tl),I=E[0],z=E[1];return jy(function(){var q=bo.transition;bo.transition=1;try{z(x)}finally{bo.transition=q}},[x]),I},useTransition:function(){var x=ep(Tl)[0];return[Cu().current,x]},useMutableSource:_x,useOpaqueIdentifier:function(){return ep(Tl)[0]},unstable_isNewReconciler:!1},fP=me.ReactCurrentOwner,yo=!1;function us(x,E,I,z){E.child=x===null?Gf(E,null,I,z):Xd(E,x.child,I,z)}function kA(x,E,I,z,q){I=I.render;var se=E.ref;return Hd(E,q),z=Qf(x,E,I,z,se,q),x===null||yo?(E.flags|=1,us(x,E,z,q),E.child):(E.updateQueue=x.updateQueue,E.flags&=-517,x.lanes&=~q,_c(x,E,q))}function My(x,E,I,z,q,se){if(x===null){var pe=I.type;return typeof pe!="function"||Vx(pe)||pe.defaultProps!==void 0||I.compare!==null||I.defaultProps!==void 0?((x=Ky(I.type,null,z,E,E.mode,se)).ref=E.ref,x.return=E,E.child=x):(E.tag=15,E.type=pe,Sx(x,E,pe,z,q,se))}return pe=x.child,!(q&se)&&(q=pe.memoizedProps,(I=(I=I.compare)!==null?I:zd)(q,z)&&x.ref===E.ref)?_c(x,E,se):(E.flags|=1,(x=Fu(pe,z)).ref=E.ref,x.return=E,E.child=x)}function Sx(x,E,I,z,q,se){if(x!==null&&zd(x.memoizedProps,z)&&x.ref===E.ref){if(yo=!1,(se&q)==0)return E.lanes=x.lanes,_c(x,E,se);16384&x.flags&&(yo=!0)}return Cx(x,E,I,z,se)}function Ax(x,E,I){var z=E.pendingProps,q=z.children,se=x!==null?x.memoizedState:null;if(z.mode==="hidden"||z.mode==="unstable-defer-without-hiding")if(!(4&E.mode))E.memoizedState={baseLanes:0},Hy(E,I);else{if(!(1073741824&I))return x=se!==null?se.baseLanes|I:I,E.lanes=E.childLanes=1073741824,E.memoizedState={baseLanes:x},Hy(E,x),null;E.memoizedState={baseLanes:0},Hy(E,se!==null?se.baseLanes:I)}else se!==null?(z=se.baseLanes|I,E.memoizedState=null):z=I,Hy(E,z);return us(x,E,q,I),E.child}function EA(x,E){var I=E.ref;(x===null&&I!==null||x!==null&&x.ref!==I)&&(E.flags|=128)}function Cx(x,E,I,z,q){var se=Rn(I)?yu:Ri.current;return se=vu(E,se),Hd(E,q),I=Qf(x,E,I,z,se,q),x===null||yo?(E.flags|=1,us(x,E,I,q),E.child):(E.updateQueue=x.updateQueue,E.flags&=-517,x.lanes&=~q,_c(x,E,q))}function SA(x,E,I,z,q){if(Rn(I)){var se=!0;vy(E)}else se=!1;if(Hd(E,q),E.stateNode===null)x!==null&&(x.alternate=null,E.alternate=null,E.flags|=2),$f(E,I,z),qf(E,I,z,q),z=!0;else if(x===null){var pe=E.stateNode,Ne=E.memoizedProps;pe.props=Ne;var We=pe.context,Xe=I.contextType;typeof Xe=="object"&&Xe!==null?Xe=po(Xe):Xe=vu(E,Xe=Rn(I)?yu:Ri.current);var ut=I.getDerivedStateFromProps,kt=typeof ut=="function"||typeof pe.getSnapshotBeforeUpdate=="function";kt||typeof pe.UNSAFE_componentWillReceiveProps!="function"&&typeof pe.componentWillReceiveProps!="function"||(Ne!==z||We!==Xe)&&Mn(E,pe,z,Xe),mo=!1;var lt=E.memoizedState;pe.state=lt,kg(E,z,pe,q),We=E.memoizedState,Ne!==z||lt!==We||Br.current||mo?(typeof ut=="function"&&(zo(E,I,ut,z),We=E.memoizedState),(Ne=mo||Sg(E,I,Ne,z,lt,We,Xe))?(kt||typeof pe.UNSAFE_componentWillMount!="function"&&typeof pe.componentWillMount!="function"||(typeof pe.componentWillMount=="function"&&pe.componentWillMount(),typeof pe.UNSAFE_componentWillMount=="function"&&pe.UNSAFE_componentWillMount()),typeof pe.componentDidMount=="function"&&(E.flags|=4)):(typeof pe.componentDidMount=="function"&&(E.flags|=4),E.memoizedProps=z,E.memoizedState=We),pe.props=z,pe.state=We,pe.context=Xe,z=Ne):(typeof pe.componentDidMount=="function"&&(E.flags|=4),z=!1)}else{pe=E.stateNode,Ay(x,E),Ne=E.memoizedProps,Xe=E.type===E.elementType?Ne:Bo(E.type,Ne),pe.props=Xe,kt=E.pendingProps,lt=pe.context,typeof(We=I.contextType)=="object"&&We!==null?We=po(We):We=vu(E,We=Rn(I)?yu:Ri.current);var zt=I.getDerivedStateFromProps;(ut=typeof zt=="function"||typeof pe.getSnapshotBeforeUpdate=="function")||typeof pe.UNSAFE_componentWillReceiveProps!="function"&&typeof pe.componentWillReceiveProps!="function"||(Ne!==kt||lt!==We)&&Mn(E,pe,z,We),mo=!1,lt=E.memoizedState,pe.state=lt,kg(E,z,pe,q);var an=E.memoizedState;Ne!==kt||lt!==an||Br.current||mo?(typeof zt=="function"&&(zo(E,I,zt,z),an=E.memoizedState),(Xe=mo||Sg(E,I,Xe,z,lt,an,We))?(ut||typeof pe.UNSAFE_componentWillUpdate!="function"&&typeof pe.componentWillUpdate!="function"||(typeof pe.componentWillUpdate=="function"&&pe.componentWillUpdate(z,an,We),typeof pe.UNSAFE_componentWillUpdate=="function"&&pe.UNSAFE_componentWillUpdate(z,an,We)),typeof pe.componentDidUpdate=="function"&&(E.flags|=4),typeof pe.getSnapshotBeforeUpdate=="function"&&(E.flags|=256)):(typeof pe.componentDidUpdate!="function"||Ne===x.memoizedProps&&lt===x.memoizedState||(E.flags|=4),typeof pe.getSnapshotBeforeUpdate!="function"||Ne===x.memoizedProps&&lt===x.memoizedState||(E.flags|=256),E.memoizedProps=z,E.memoizedState=an),pe.props=z,pe.state=an,pe.context=We,z=Xe):(typeof pe.componentDidUpdate!="function"||Ne===x.memoizedProps&&lt===x.memoizedState||(E.flags|=4),typeof pe.getSnapshotBeforeUpdate!="function"||Ne===x.memoizedProps&&lt===x.memoizedState||(E.flags|=256),z=!1)}return tp(x,E,I,z,se,q)}function tp(x,E,I,z,q,se){EA(x,E);var pe=(64&E.flags)!=0;if(!z&&!pe)return q&&Fs(E,I,!1),_c(x,E,se);z=E.stateNode,fP.current=E;var Ne=pe&&typeof I.getDerivedStateFromError!="function"?null:z.render();return E.flags|=1,x!==null&&pe?(E.child=Xd(E,x.child,null,se),E.child=Xd(E,null,Ne,se)):us(x,E,Ne,se),E.memoizedState=z.state,q&&Fs(E,I,!0),E.child}function Oy(x){var E=x.stateNode;E.pendingContext?dA(0,E.pendingContext,E.pendingContext!==E.context):E.context&&dA(0,E.context,!1),Kf(x,E.containerInfo)}var AA,Tx,Dx,CA,Nx={dehydrated:null,retryLane:0};function TA(x,E,I){var z,q=E.pendingProps,se=ui.current,pe=!1;return(z=(64&E.flags)!=0)||(z=(x===null||x.memoizedState!==null)&&(2&se)!=0),z?(pe=!0,E.flags&=-65):x!==null&&x.memoizedState===null||q.fallback===void 0||q.unstable_avoidThisFallback===!0||(se|=1),Gt(ui,1&se),x===null?(q.fallback!==void 0&&Ty(E),x=q.children,se=q.fallback,pe?(x=Tu(E,x,se,I),E.child.memoizedState={baseLanes:I},E.memoizedState=Nx,x):typeof q.unstable_expectedLoadTime=="number"?(x=Tu(E,x,se,I),E.child.memoizedState={baseLanes:I},E.memoizedState=Nx,E.lanes=33554432,x):((I=Wx({mode:"visible",children:x},E.mode,I,null)).return=E,E.child=I)):(x.memoizedState,pe?(q=DA(x,E,q.children,q.fallback,I),pe=E.child,se=x.child.memoizedState,pe.memoizedState=se===null?{baseLanes:I}:{baseLanes:se.baseLanes|I},pe.childLanes=x.childLanes&~I,E.memoizedState=Nx,q):(I=pP(x,E,q.children,I),E.memoizedState=null,I))}function Tu(x,E,I,z){var q=x.mode,se=x.child;return E={mode:"hidden",children:E},!(2&q)&&se!==null?(se.childLanes=0,se.pendingProps=E):se=Wx(E,q,0,null),I=nh(I,q,z,null),se.return=x,I.return=x,se.sibling=I,x.child=se,I}function pP(x,E,I,z){var q=x.child;return x=q.sibling,I=Fu(q,{mode:"visible",children:I}),!(2&E.mode)&&(I.lanes=z),I.return=E,I.sibling=null,x!==null&&(x.nextEffect=null,x.flags=8,E.firstEffect=E.lastEffect=x),E.child=I}function DA(x,E,I,z,q){var se=E.mode,pe=x.child;x=pe.sibling;var Ne={mode:"hidden",children:I};return!(2&se)&&E.child!==pe?((I=E.child).childLanes=0,I.pendingProps=Ne,(pe=I.lastEffect)!==null?(E.firstEffect=I.firstEffect,E.lastEffect=pe,pe.nextEffect=null):E.firstEffect=E.lastEffect=null):I=Fu(pe,Ne),x!==null?z=Fu(x,z):(z=nh(z,se,q,null)).flags|=2,z.return=E,I.return=E,I.sibling=z,E.child=I,z}function NA(x,E){x.lanes|=E;var I=x.alternate;I!==null&&(I.lanes|=E),yx(x.return,E)}function Px(x,E,I,z,q,se){var pe=x.memoizedState;pe===null?x.memoizedState={isBackwards:E,rendering:null,renderingStartTime:0,last:z,tail:I,tailMode:q,lastEffect:se}:(pe.isBackwards=E,pe.rendering=null,pe.renderingStartTime=0,pe.last=z,pe.tail=I,pe.tailMode=q,pe.lastEffect=se)}function PA(x,E,I){var z=E.pendingProps,q=z.revealOrder,se=z.tail;if(us(x,E,z.children,I),(2&(z=ui.current))!=0)z=1&z|2,E.flags|=64;else{if(x!==null&&64&x.flags)e:for(x=E.child;x!==null;){if(x.tag===13)x.memoizedState!==null&&NA(x,I);else if(x.tag===19)NA(x,I);else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===E)break e;for(;x.sibling===null;){if(x.return===null||x.return===E)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}z&=1}if(Gt(ui,z),(2&E.mode)==0)E.memoizedState=null;else switch(q){case"forwards":for(I=E.child,q=null;I!==null;)(x=I.alternate)!==null&&ku(x)===null&&(q=I),I=I.sibling;(I=q)===null?(q=E.child,E.child=null):(q=I.sibling,I.sibling=null),Px(E,!1,q,I,se,E.lastEffect);break;case"backwards":for(I=null,q=E.child,E.child=null;q!==null;){if((x=q.alternate)!==null&&ku(x)===null){E.child=q;break}x=q.sibling,q.sibling=I,I=q,q=x}Px(E,!0,I,null,se,E.lastEffect);break;case"together":Px(E,!1,null,null,void 0,E.lastEffect);break;default:E.memoizedState=null}return E.child}function _c(x,E,I){if(x!==null&&(E.dependencies=x.dependencies),Qd|=E.lanes,(I&E.childLanes)!=0){if(x!==null&&E.child!==x.child)throw Error(v(153));if(E.child!==null){for(I=Fu(x=E.child,x.pendingProps),E.child=I,I.return=E;x.sibling!==null;)x=x.sibling,(I=I.sibling=Fu(x,x.pendingProps)).return=E;I.sibling=null}return E.child}return null}function Fy(x,E){if(!Us)switch(x.tailMode){case"hidden":E=x.tail;for(var I=null;E!==null;)E.alternate!==null&&(I=E),E=E.sibling;I===null?x.tail=null:I.sibling=null;break;case"collapsed":I=x.tail;for(var z=null;I!==null;)I.alternate!==null&&(z=I),I=I.sibling;z===null?E||x.tail===null?x.tail=null:x.tail.sibling=null:z.sibling=null}}function mP(x,E,I){var z=E.pendingProps;switch(E.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return Rn(E.type)&&dx(),null;case 3:return Cl(),li(Br),li(Ri),Ny(),(z=E.stateNode).pendingContext&&(z.context=z.pendingContext,z.pendingContext=null),x!==null&&x.child!==null||(Yf(E)?E.flags|=4:z.hydrate||(E.flags|=256)),Tx(E),null;case 5:wx(E);var q=Kd(_u.current);if(I=E.type,x!==null&&E.stateNode!=null)Dx(x,E,I,z,q),x.ref!==E.ref&&(E.flags|=128);else{if(!z){if(E.stateNode===null)throw Error(v(166));return null}if(x=Kd(go.current),Yf(E)){z=E.stateNode,I=E.type;var se=E.memoizedProps;switch(z[mc]=E,z[vg]=se,I){case"dialog":qn("cancel",z),qn("close",z);break;case"iframe":case"object":case"embed":qn("load",z);break;case"video":case"audio":for(x=0;x<wa.length;x++)qn(wa[x],z);break;case"source":qn("error",z);break;case"img":case"image":case"link":qn("error",z),qn("load",z);break;case"details":qn("toggle",z);break;case"input":ke(z,se),qn("invalid",z);break;case"select":z._wrapperState={wasMultiple:!!se.multiple},qn("invalid",z);break;case"textarea":Bt(z,se),qn("invalid",z)}for(var pe in sn(I,se),x=null,se)se.hasOwnProperty(pe)&&(q=se[pe],pe==="children"?typeof q=="string"?z.textContent!==q&&(x=["children",q]):typeof q=="number"&&z.textContent!==""+q&&(x=["children",""+q]):A.hasOwnProperty(pe)&&q!=null&&pe==="onScroll"&&qn("scroll",z));switch(I){case"input":He(z),et(z,se,!0);break;case"textarea":He(z),Yt(z);break;case"select":case"option":break;default:typeof se.onClick=="function"&&(z.onclick=In)}z=x,E.updateQueue=z,z!==null&&(E.flags|=4)}else{switch(pe=q.nodeType===9?q:q.ownerDocument,x===mn.html&&(x=qt(I)),x===mn.html?I==="script"?((x=pe.createElement("div")).innerHTML="<script><\/script>",x=x.removeChild(x.firstChild)):typeof z.is=="string"?x=pe.createElement(I,{is:z.is}):(x=pe.createElement(I),I==="select"&&(pe=x,z.multiple?pe.multiple=!0:z.size&&(pe.size=z.size))):x=pe.createElementNS(x,I),x[mc]=E,x[vg]=z,AA(x,E,!1,!1),E.stateNode=x,pe=Wn(I,z),I){case"dialog":qn("cancel",x),qn("close",x),q=z;break;case"iframe":case"object":case"embed":qn("load",x),q=z;break;case"video":case"audio":for(q=0;q<wa.length;q++)qn(wa[q],x);q=z;break;case"source":qn("error",x),q=z;break;case"img":case"image":case"link":qn("error",x),qn("load",x),q=z;break;case"details":qn("toggle",x),q=z;break;case"input":ke(x,z),q=Te(x,z),qn("invalid",x);break;case"option":q=ct(x,z);break;case"select":x._wrapperState={wasMultiple:!!z.multiple},q=g({},z,{value:void 0}),qn("invalid",x);break;case"textarea":Bt(x,z),q=Pt(x,z),qn("invalid",x);break;default:q=z}sn(I,q);var Ne=q;for(se in Ne)if(Ne.hasOwnProperty(se)){var We=Ne[se];se==="style"?wt(x,We):se==="dangerouslySetInnerHTML"?(We=We?We.__html:void 0)!=null&&Rr(x,We):se==="children"?typeof We=="string"?(I!=="textarea"||We!=="")&&ji(x,We):typeof We=="number"&&ji(x,""+We):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(A.hasOwnProperty(se)?We!=null&&se==="onScroll"&&qn("scroll",x):We!=null&&oe(x,se,We,pe))}switch(I){case"input":He(x),et(x,z,!1);break;case"textarea":He(x),Yt(x);break;case"option":z.value!=null&&x.setAttribute("value",""+_e(z.value));break;case"select":x.multiple=!!z.multiple,(se=z.value)!=null?ht(x,!!z.multiple,se,!1):z.defaultValue!=null&&ht(x,!!z.multiple,z.defaultValue,!0);break;default:typeof q.onClick=="function"&&(x.onclick=In)}wn(I,z)&&(E.flags|=4)}E.ref!==null&&(E.flags|=128)}return null;case 6:if(x&&E.stateNode!=null)CA(x,E,x.memoizedProps,z);else{if(typeof z!="string"&&E.stateNode===null)throw Error(v(166));I=Kd(_u.current),Kd(go.current),Yf(E)?(z=E.stateNode,I=E.memoizedProps,z[mc]=E,z.nodeValue!==I&&(E.flags|=4)):((z=(I.nodeType===9?I:I.ownerDocument).createTextNode(z))[mc]=E,E.stateNode=z)}return null;case 13:return li(ui),z=E.memoizedState,64&E.flags?(E.lanes=I,E):(z=z!==null,I=!1,x===null?E.memoizedProps.fallback!==void 0&&Yf(E):I=x.memoizedState!==null,z&&!I&&2&E.mode&&(x===null&&E.memoizedProps.unstable_avoidThisFallback!==!0||1&ui.current?fr===0&&(fr=3):(fr!==0&&fr!==3||(fr=4),_r===null||!(134217727&Qd)&&!(134217727&ju)||lp(_r,Mi))),(z||I)&&(E.flags|=4),null);case 4:return Cl(),Tx(E),x===null&&de(E.stateNode.containerInfo),null;case 10:return Sy(E),null;case 19:if(li(ui),(z=E.memoizedState)===null)return null;if(se=(64&E.flags)!=0,(pe=z.rendering)===null)if(se)Fy(z,!1);else{if(fr!==0||x!==null&&64&x.flags)for(x=E.child;x!==null;){if((pe=ku(x))!==null){for(E.flags|=64,Fy(z,!1),(se=pe.updateQueue)!==null&&(E.updateQueue=se,E.flags|=4),z.lastEffect===null&&(E.firstEffect=null),E.lastEffect=z.lastEffect,z=I,I=E.child;I!==null;)x=z,(se=I).flags&=2,se.nextEffect=null,se.firstEffect=null,se.lastEffect=null,(pe=se.alternate)===null?(se.childLanes=0,se.lanes=x,se.child=null,se.memoizedProps=null,se.memoizedState=null,se.updateQueue=null,se.dependencies=null,se.stateNode=null):(se.childLanes=pe.childLanes,se.lanes=pe.lanes,se.child=pe.child,se.memoizedProps=pe.memoizedProps,se.memoizedState=pe.memoizedState,se.updateQueue=pe.updateQueue,se.type=pe.type,x=pe.dependencies,se.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext}),I=I.sibling;return Gt(ui,1&ui.current|2),E.child}x=x.sibling}z.tail!==null&&Qi()>Lx&&(E.flags|=64,se=!0,Fy(z,!1),E.lanes=33554432)}else{if(!se)if((x=ku(pe))!==null){if(E.flags|=64,se=!0,(I=x.updateQueue)!==null&&(E.updateQueue=I,E.flags|=4),Fy(z,!0),z.tail===null&&z.tailMode==="hidden"&&!pe.alternate&&!Us)return(E=E.lastEffect=z.lastEffect)!==null&&(E.nextEffect=null),null}else 2*Qi()-z.renderingStartTime>Lx&&I!==1073741824&&(E.flags|=64,se=!0,Fy(z,!1),E.lanes=33554432);z.isBackwards?(pe.sibling=E.child,E.child=pe):((I=z.last)!==null?I.sibling=pe:E.child=pe,z.last=pe)}return z.tail!==null?(I=z.tail,z.rendering=I,z.tail=I.sibling,z.lastEffect=E.lastEffect,z.renderingStartTime=Qi(),I.sibling=null,E=ui.current,Gt(ui,se?1&E|2:1&E),I):null;case 23:case 24:return Gy(),x!==null&&x.memoizedState!==null!=(E.memoizedState!==null)&&z.mode!=="unstable-defer-without-hiding"&&(E.flags|=4),null}throw Error(v(156,E.tag))}function gP(x){switch(x.tag){case 1:Rn(x.type)&&dx();var E=x.flags;return 4096&E?(x.flags=-4097&E|64,x):null;case 3:if(Cl(),li(Br),li(Ri),Ny(),(64&(E=x.flags))!=0)throw Error(v(285));return x.flags=-4097&E|64,x;case 5:return wx(x),null;case 13:return li(ui),4096&(E=x.flags)?(x.flags=-4097&E|64,x):null;case 19:return li(ui),null;case 4:return Cl(),null;case 10:return Sy(x),null;case 23:case 24:return Gy(),null;default:return null}}function jx(x,E){try{var I="",z=E;do I+=Ie(z),z=z.return;while(z);var q=I}catch(se){q=`
Error generating stack: `+se.message+`
`+se.stack}return{value:x,source:E,stack:q}}function Uy(x,E){try{console.error(E.value)}catch(I){setTimeout(function(){throw I})}}AA=function(x,E){for(var I=E.child;I!==null;){if(I.tag===5||I.tag===6)x.appendChild(I.stateNode);else if(I.tag!==4&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===E)break;for(;I.sibling===null;){if(I.return===null||I.return===E)return;I=I.return}I.sibling.return=I.return,I=I.sibling}},Tx=function(){},Dx=function(x,E,I,z){var q=x.memoizedProps;if(q!==z){x=E.stateNode,Kd(go.current);var se,pe=null;switch(I){case"input":q=Te(x,q),z=Te(x,z),pe=[];break;case"option":q=ct(x,q),z=ct(x,z),pe=[];break;case"select":q=g({},q,{value:void 0}),z=g({},z,{value:void 0}),pe=[];break;case"textarea":q=Pt(x,q),z=Pt(x,z),pe=[];break;default:typeof q.onClick!="function"&&typeof z.onClick=="function"&&(x.onclick=In)}for(Xe in sn(I,z),I=null,q)if(!z.hasOwnProperty(Xe)&&q.hasOwnProperty(Xe)&&q[Xe]!=null)if(Xe==="style"){var Ne=q[Xe];for(se in Ne)Ne.hasOwnProperty(se)&&(I||(I={}),I[se]="")}else Xe!=="dangerouslySetInnerHTML"&&Xe!=="children"&&Xe!=="suppressContentEditableWarning"&&Xe!=="suppressHydrationWarning"&&Xe!=="autoFocus"&&(A.hasOwnProperty(Xe)?pe||(pe=[]):(pe=pe||[]).push(Xe,null));for(Xe in z){var We=z[Xe];if(Ne=q!=null?q[Xe]:void 0,z.hasOwnProperty(Xe)&&We!==Ne&&(We!=null||Ne!=null))if(Xe==="style")if(Ne){for(se in Ne)!Ne.hasOwnProperty(se)||We&&We.hasOwnProperty(se)||(I||(I={}),I[se]="");for(se in We)We.hasOwnProperty(se)&&Ne[se]!==We[se]&&(I||(I={}),I[se]=We[se])}else I||(pe||(pe=[]),pe.push(Xe,I)),I=We;else Xe==="dangerouslySetInnerHTML"?(We=We?We.__html:void 0,Ne=Ne?Ne.__html:void 0,We!=null&&Ne!==We&&(pe=pe||[]).push(Xe,We)):Xe==="children"?typeof We!="string"&&typeof We!="number"||(pe=pe||[]).push(Xe,""+We):Xe!=="suppressContentEditableWarning"&&Xe!=="suppressHydrationWarning"&&(A.hasOwnProperty(Xe)?(We!=null&&Xe==="onScroll"&&qn("scroll",x),pe||Ne===We||(pe=[])):typeof We=="object"&&We!==null&&We.$$typeof===Ae?We.toString():(pe=pe||[]).push(Xe,We))}I&&(pe=pe||[]).push("style",I);var Xe=pe;(E.updateQueue=Xe)&&(E.flags|=4)}},CA=function(x,E,I,z){I!==z&&(E.flags|=4)};var jA=typeof WeakMap=="function"?WeakMap:Map;function IA(x,E,I){(I=Al(-1,I)).tag=3,I.payload={element:null};var z=E.value;return I.callback=function(){Pg||(Pg=!0,jg=z),Uy(0,E)},I}function RA(x,E,I){(I=Al(-1,I)).tag=3;var z=x.type.getDerivedStateFromError;if(typeof z=="function"){var q=E.value;I.payload=function(){return Uy(0,E),z(q)}}var se=x.stateNode;return se!==null&&typeof se.componentDidCatch=="function"&&(I.callback=function(){typeof z!="function"&&(Nl===null?Nl=new Set([this]):Nl.add(this),Uy(0,E));var pe=E.stack;this.componentDidCatch(E.value,{componentStack:pe!==null?pe:""})}),I}var bP=typeof WeakSet=="function"?WeakSet:Set;function MA(x){var E=x.ref;if(E!==null)if(typeof E=="function")try{E(null)}catch(I){Ou(x,I)}else E.current=null}function Ix(x,E){switch(E.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&E.flags&&x!==null){var I=x.memoizedProps,z=x.memoizedState;E=(x=E.stateNode).getSnapshotBeforeUpdate(E.elementType===E.type?I:Bo(E.type,I),z),x.__reactInternalSnapshotBeforeUpdate=E}return;case 3:return void(256&E.flags&&Wd(E.stateNode.containerInfo))}throw Error(v(163))}function Rx(x,E,I){switch(I.tag){case 0:case 11:case 15:case 22:if((E=(E=I.updateQueue)!==null?E.lastEffect:null)!==null){x=E=E.next;do{if((3&x.tag)==3){var z=x.create;x.destroy=z()}x=x.next}while(x!==E)}if((E=(E=I.updateQueue)!==null?E.lastEffect:null)!==null){x=E=E.next;do{var q=x;z=q.next,4&(q=q.tag)&&1&q&&(Cc(I,x),up(I,x)),x=z}while(x!==E)}return;case 1:return x=I.stateNode,4&I.flags&&(E===null?x.componentDidMount():(z=I.elementType===I.type?E.memoizedProps:Bo(I.type,E.memoizedProps),x.componentDidUpdate(z,E.memoizedState,x.__reactInternalSnapshotBeforeUpdate))),void((E=I.updateQueue)!==null&&Eg(I,E,x));case 3:if((E=I.updateQueue)!==null){if(x=null,I.child!==null)switch(I.child.tag){case 5:case 1:x=I.child.stateNode}Eg(I,E,x)}return;case 5:return x=I.stateNode,void(E===null&&4&I.flags&&wn(I.type,I.memoizedProps)&&x.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(I.memoizedState===null&&(I=I.alternate,I!==null&&(I=I.memoizedState,I!==null&&(I=I.dehydrated,I!==null&&lo(I)))))}throw Error(v(163))}function Ls(x,E){for(var I=x;;){if(I.tag===5){var z=I.stateNode;if(E)typeof(z=z.style).setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{z=I.stateNode;var q=I.memoizedProps.style;q=q!=null&&q.hasOwnProperty("display")?q.display:null,z.style.display=vi("display",q)}}else if(I.tag===6)I.stateNode.nodeValue=E?"":I.memoizedProps;else if((I.tag!==23&&I.tag!==24||I.memoizedState===null||I===x)&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===x)break;for(;I.sibling===null;){if(I.return===null||I.return===x)return;I=I.return}I.sibling.return=I.return,I=I.sibling}}function Mx(x,E){if(Hi&&typeof Hi.onCommitFiberUnmount=="function")try{Hi.onCommitFiberUnmount(ci,E)}catch{}switch(E.tag){case 0:case 11:case 14:case 15:case 22:if((x=E.updateQueue)!==null&&(x=x.lastEffect)!==null){var I=x=x.next;do{var z=I,q=z.destroy;if(z=z.tag,q!==void 0)if(4&z)Cc(E,I);else{z=E;try{q()}catch(se){Ou(z,se)}}I=I.next}while(I!==x)}break;case 1:if(MA(E),typeof(x=E.stateNode).componentWillUnmount=="function")try{x.props=E.memoizedProps,x.state=E.memoizedState,x.componentWillUnmount()}catch(se){Ou(E,se)}break;case 5:MA(E);break;case 4:Du(x,E)}}function np(x){x.alternate=null,x.child=null,x.dependencies=null,x.firstEffect=null,x.lastEffect=null,x.memoizedProps=null,x.memoizedState=null,x.pendingProps=null,x.return=null,x.updateQueue=null}function Ox(x){return x.tag===5||x.tag===3||x.tag===4}function Dg(x){e:{for(var E=x.return;E!==null;){if(Ox(E))break e;E=E.return}throw Error(v(160))}var I=E;switch(E=I.stateNode,I.tag){case 5:var z=!1;break;case 3:case 4:E=E.containerInfo,z=!0;break;default:throw Error(v(161))}16&I.flags&&(ji(E,""),I.flags&=-17);e:t:for(I=x;;){for(;I.sibling===null;){if(I.return===null||Ox(I.return)){I=null;break e}I=I.return}for(I.sibling.return=I.return,I=I.sibling;I.tag!==5&&I.tag!==6&&I.tag!==18;){if(2&I.flags||I.child===null||I.tag===4)continue t;I.child.return=I,I=I.child}if(!(2&I.flags)){I=I.stateNode;break e}}z?Ly(x,I,E):By(x,I,E)}function Ly(x,E,I){var z=x.tag,q=z===5||z===6;if(q)x=q?x.stateNode:x.stateNode.instance,E?I.nodeType===8?I.parentNode.insertBefore(x,E):I.insertBefore(x,E):(I.nodeType===8?(E=I.parentNode).insertBefore(x,I):(E=I).appendChild(x),(I=I._reactRootContainer)!=null||E.onclick!==null||(E.onclick=In));else if(z!==4&&(x=x.child)!==null)for(Ly(x,E,I),x=x.sibling;x!==null;)Ly(x,E,I),x=x.sibling}function By(x,E,I){var z=x.tag,q=z===5||z===6;if(q)x=q?x.stateNode:x.stateNode.instance,E?I.insertBefore(x,E):I.appendChild(x);else if(z!==4&&(x=x.child)!==null)for(By(x,E,I),x=x.sibling;x!==null;)By(x,E,I),x=x.sibling}function Du(x,E){for(var I,z,q=E,se=!1;;){if(!se){se=q.return;e:for(;;){if(se===null)throw Error(v(160));switch(I=se.stateNode,se.tag){case 5:z=!1;break e;case 3:case 4:I=I.containerInfo,z=!0;break e}se=se.return}se=!0}if(q.tag===5||q.tag===6){e:for(var pe=x,Ne=q,We=Ne;;)if(Mx(pe,We),We.child!==null&&We.tag!==4)We.child.return=We,We=We.child;else{if(We===Ne)break e;for(;We.sibling===null;){if(We.return===null||We.return===Ne)break e;We=We.return}We.sibling.return=We.return,We=We.sibling}z?(pe=I,Ne=q.stateNode,pe.nodeType===8?pe.parentNode.removeChild(Ne):pe.removeChild(Ne)):I.removeChild(q.stateNode)}else if(q.tag===4){if(q.child!==null){I=q.stateNode.containerInfo,z=!0,q.child.return=q,q=q.child;continue}}else if(Mx(x,q),q.child!==null){q.child.return=q,q=q.child;continue}if(q===E)break;for(;q.sibling===null;){if(q.return===null||q.return===E)return;(q=q.return).tag===4&&(se=!1)}q.sibling.return=q.return,q=q.sibling}}function pt(x,E){switch(E.tag){case 0:case 11:case 14:case 15:case 22:var I=E.updateQueue;if((I=I!==null?I.lastEffect:null)!==null){var z=I=I.next;do(3&z.tag)==3&&(x=z.destroy,z.destroy=void 0,x!==void 0&&x()),z=z.next;while(z!==I)}return;case 1:case 12:case 17:return;case 5:if((I=E.stateNode)!=null){z=E.memoizedProps;var q=x!==null?x.memoizedProps:z;x=E.type;var se=E.updateQueue;if(E.updateQueue=null,se!==null){for(I[vg]=z,x==="input"&&z.type==="radio"&&z.name!=null&&le(I,z),Wn(x,q),E=Wn(x,z),q=0;q<se.length;q+=2){var pe=se[q],Ne=se[q+1];pe==="style"?wt(I,Ne):pe==="dangerouslySetInnerHTML"?Rr(I,Ne):pe==="children"?ji(I,Ne):oe(I,pe,Ne,E)}switch(x){case"input":Ue(I,z);break;case"textarea":bt(I,z);break;case"select":x=I._wrapperState.wasMultiple,I._wrapperState.wasMultiple=!!z.multiple,(se=z.value)!=null?ht(I,!!z.multiple,se,!1):x!==!!z.multiple&&(z.defaultValue!=null?ht(I,!!z.multiple,z.defaultValue,!0):ht(I,!!z.multiple,z.multiple?[]:"",!1))}}}return;case 6:if(E.stateNode===null)throw Error(v(162));return void(E.stateNode.nodeValue=E.memoizedProps);case 3:return void((I=E.stateNode).hydrate&&(I.hydrate=!1,lo(I.containerInfo)));case 13:return E.memoizedState!==null&&(Ux=Qi(),Ls(E.child,!0)),void Zt(E);case 19:return void Zt(E);case 23:case 24:return void Ls(E,E.memoizedState!==null)}throw Error(v(163))}function Zt(x){var E=x.updateQueue;if(E!==null){x.updateQueue=null;var I=x.stateNode;I===null&&(I=x.stateNode=new bP),E.forEach(function(z){var q=wP.bind(null,x,z);I.has(z)||(I.add(z),z.then(q,q))})}}function zy(x,E){return x!==null&&((x=x.memoizedState)===null||x.dehydrated!==null)&&(E=E.memoizedState)!==null&&E.dehydrated===null}var Ca=Math.ceil,ip=me.ReactCurrentDispatcher,Nu=me.ReactCurrentOwner,un=0,_r=null,xi=null,Mi=0,Pu=0,Ng=gu(0),fr=0,Dl=null,rp=0,Qd=0,ju=0,Fx=0,sp=null,Ux=0,Lx=1/0;function Iu(){Lx=Qi()+500}var OA,xt=null,Pg=!1,jg=null,Nl=null,kc=!1,eh=null,op=90,Bx=[],Vy=[],Ta=null,Ec=0,Wy=null,Ig=-1,Pl=0,Rg=0,ds=null,Ru=!1;function ai(){return 48&un?Qi():Ig!==-1?Ig:Ig=Qi()}function Vo(x){if(!(2&(x=x.mode)))return 1;if(!(4&x))return El()===99?1:2;if(Pl===0&&(Pl=rp),xy.transition!==0){Rg!==0&&(Rg=sp!==null?sp.pendingLanes:0),x=Pl;var E=4186112&~Rg;return(E&=-E)===0&&(E=(x=4186112&~x)&-x)===0&&(E=8192),E}return x=El(),4&un&&x===98?x=Ef(12,Pl):x=Ef(x=function(I){switch(I){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(x),Pl),x}function Sc(x,E,I){if(50<Ec)throw Ec=0,Wy=null,Error(v(185));if((x=$y(x,E))===null)return null;jn(x,E,I),x===_r&&(ju|=E,fr===4&&lp(x,Mi));var z=El();E===1?8&un&&!(48&un)?qy(x):(hs(x,I),un===0&&(Iu(),Sl())):(!(4&un)||z!==98&&z!==99||(Ta===null?Ta=new Set([x]):Ta.add(x)),hs(x,I)),sp=x}function $y(x,E){x.lanes|=E;var I=x.alternate;for(I!==null&&(I.lanes|=E),I=x,x=x.return;x!==null;)x.childLanes|=E,(I=x.alternate)!==null&&(I.childLanes|=E),I=x,x=x.return;return I.tag===3?I.stateNode:null}function hs(x,E){for(var I=x.callbackNode,z=x.suspendedLanes,q=x.pingedLanes,se=x.expirationTimes,pe=x.pendingLanes;0<pe;){var Ne=31-yl(pe),We=1<<Ne,Xe=se[Ne];if(Xe===-1){if(!(We&z)||We&q){Xe=E,gl(We);var ut=Pn;se[Ne]=10<=ut?Xe+250:6<=ut?Xe+5e3:-1}}else Xe<=E&&(x.expiredLanes|=We);pe&=~We}if(z=cu(x,x===_r?Mi:0),E=Pn,z===0)I!==null&&(I!==mx&&xg(I),x.callbackNode=null,x.callbackPriority=0);else{if(I!==null){if(x.callbackPriority===E)return;I!==mx&&xg(I)}E===15?(I=qy.bind(null,x),gc===null?(gc=[I],Tt=ka(Lo,bx)):gc.push(I),I=mx):E===14?I=bc(99,qy.bind(null,x)):(I=function(kt){switch(kt){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(v(358,kt))}}(E),I=bc(I,ap.bind(null,x))),x.callbackPriority=E,x.callbackNode=I}}function ap(x){if(Ig=-1,Rg=Pl=0,(48&un)!=0)throw Error(v(327));var E=x.callbackNode;if(Ac()&&x.callbackNode!==E)return null;var I=cu(x,x===_r?Mi:0);if(I===0)return null;var z=I,q=un;un|=16;var se=BA();for(_r===x&&Mi===z||(Iu(),cp(x,z));;)try{VA();break}catch(Ne){LA(x,Ne)}if(Ey(),ip.current=se,un=q,xi!==null?z=0:(_r=null,Mi=0,z=fr),(rp&ju)!=0)cp(x,0);else if(z!==0){if(z===2&&(un|=64,x.hydrate&&(x.hydrate=!1,Wd(x.containerInfo)),(I=uu(x))!==0&&(z=Mu(x,I))),z===1)throw E=Dl,cp(x,0),lp(x,I),hs(x,Qi()),E;switch(x.finishedWork=x.current.alternate,x.finishedLanes=I,z){case 0:case 1:throw Error(v(345));case 2:case 5:th(x);break;case 3:if(lp(x,I),(62914560&I)===I&&10<(z=Ux+500-Qi())){if(cu(x,0)!==0)break;if(((q=x.suspendedLanes)&I)!==I){ai(),x.pingedLanes|=x.suspendedLanes&q;break}x.timeoutHandle=Lr(th.bind(null,x),z);break}th(x);break;case 4:if(lp(x,I),(4186112&I)===I)break;for(z=x.eventTimes,q=-1;0<I;){var pe=31-yl(I);se=1<<pe,(pe=z[pe])>q&&(q=pe),I&=~se}if(I=q,10<(I=(120>(I=Qi()-I)?120:480>I?480:1080>I?1080:1920>I?1920:3e3>I?3e3:4320>I?4320:1960*Ca(I/1960))-I)){x.timeoutHandle=Lr(th.bind(null,x),I);break}th(x);break;default:throw Error(v(329))}}return hs(x,Qi()),x.callbackNode===E?ap.bind(null,x):null}function lp(x,E){for(E&=~Fx,E&=~ju,x.suspendedLanes|=E,x.pingedLanes&=~E,x=x.expirationTimes;0<E;){var I=31-yl(E),z=1<<I;x[I]=-1,E&=~z}}function qy(x){if(48&un)throw Error(v(327));if(Ac(),x===_r&&(x.expiredLanes&Mi)!=0){var E=Mi,I=Mu(x,E);rp&ju&&(I=Mu(x,E=cu(x,E)))}else I=Mu(x,E=cu(x,0));if(x.tag!==0&&I===2&&(un|=64,x.hydrate&&(x.hydrate=!1,Wd(x.containerInfo)),(E=uu(x))!==0&&(I=Mu(x,E))),I===1)throw I=Dl,cp(x,0),lp(x,E),hs(x,Qi()),I;return x.finishedWork=x.current.alternate,x.finishedLanes=E,th(x),hs(x,Qi()),null}function FA(x,E){var I=un;un|=1;try{return x(E)}finally{(un=I)===0&&(Iu(),Sl())}}function UA(x,E){var I=un;un&=-2,un|=8;try{return x(E)}finally{(un=I)===0&&(Iu(),Sl())}}function Hy(x,E){Gt(Ng,Pu),Pu|=E,rp|=E}function Gy(){Pu=Ng.current,li(Ng)}function cp(x,E){x.finishedWork=null,x.finishedLanes=0;var I=x.timeoutHandle;if(I!==-1&&(x.timeoutHandle=-1,pc(I)),xi!==null)for(I=xi.return;I!==null;){var z=I;switch(z.tag){case 1:(z=z.type.childContextTypes)!=null&&dx();break;case 3:Cl(),li(Br),li(Ri),Ny();break;case 5:wx(z);break;case 4:Cl();break;case 13:case 19:li(ui);break;case 10:Sy(z);break;case 23:case 24:Gy()}I=I.return}_r=x,xi=Fu(x.current,null),Mi=Pu=rp=E,fr=0,Dl=null,Fx=ju=Qd=0}function LA(x,E){for(;;){var I=xi;try{if(Ey(),it.current=Ry,Ag){for(var z=Ci.memoizedState;z!==null;){var q=z.queue;q!==null&&(q.pending=null),z=z.next}Ag=!1}if(cn=0,hr=zr=Ci=null,Jf=!1,Nu.current=null,I===null||I.return===null){fr=1,Dl=E,xi=null;break}e:{var se=x,pe=I.return,Ne=I,We=E;if(E=Mi,Ne.flags|=2048,Ne.firstEffect=Ne.lastEffect=null,We!==null&&typeof We=="object"&&typeof We.then=="function"){var Xe=We;if(!(2&Ne.mode)){var ut=Ne.alternate;ut?(Ne.updateQueue=ut.updateQueue,Ne.memoizedState=ut.memoizedState,Ne.lanes=ut.lanes):(Ne.updateQueue=null,Ne.memoizedState=null)}var kt=(1&ui.current)!=0,lt=pe;do{var zt;if(zt=lt.tag===13){var an=lt.memoizedState;if(an!==null)zt=an.dehydrated!==null;else{var en=lt.memoizedProps;zt=en.fallback!==void 0&&(en.unstable_avoidThisFallback!==!0||!kt)}}if(zt){var Ye=lt.updateQueue;if(Ye===null){var Ge=new Set;Ge.add(Xe),lt.updateQueue=Ge}else Ye.add(Xe);if(!(2&lt.mode)){if(lt.flags|=64,Ne.flags|=16384,Ne.flags&=-2981,Ne.tag===1)if(Ne.alternate===null)Ne.tag=17;else{var Ke=Al(-1,1);Ke.tag=2,yc(Ne,Ke)}Ne.lanes|=1;break e}We=void 0,Ne=E;var tt=se.pingCache;if(tt===null?(tt=se.pingCache=new jA,We=new Set,tt.set(Xe,We)):(We=tt.get(Xe))===void 0&&(We=new Set,tt.set(Xe,We)),!We.has(Ne)){We.add(Ne);var rt=vP.bind(null,se,Xe,Ne);Xe.then(rt,rt)}lt.flags|=4096,lt.lanes=E;break e}lt=lt.return}while(lt!==null);We=Error((be(Ne.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}fr!==5&&(fr=2),We=jx(We,Ne),lt=pe;do{switch(lt.tag){case 3:se=We,lt.flags|=4096,E&=-E,lt.lanes|=E,vx(lt,IA(0,se,E));break e;case 1:se=We;var Kt=lt.type,Et=lt.stateNode;if(!(64&lt.flags)&&(typeof Kt.getDerivedStateFromError=="function"||Et!==null&&typeof Et.componentDidCatch=="function"&&(Nl===null||!Nl.has(Et)))){lt.flags|=4096,E&=-E,lt.lanes|=E,vx(lt,RA(lt,se,E));break e}}lt=lt.return}while(lt!==null)}zx(I)}catch(ln){E=ln,xi===I&&I!==null&&(xi=I=I.return);continue}break}}function BA(){var x=ip.current;return ip.current=Ry,x===null?Ry:x}function Mu(x,E){var I=un;un|=16;var z=BA();for(_r===x&&Mi===E||cp(x,E);;)try{zA();break}catch(q){LA(x,q)}if(Ey(),un=I,ip.current=z,xi!==null)throw Error(v(261));return _r=null,Mi=0,fr}function zA(){for(;xi!==null;)WA(xi)}function VA(){for(;xi!==null&&!fx();)WA(xi)}function WA(x){var E=OA(x.alternate,x,Pu);x.memoizedProps=x.pendingProps,E===null?zx(x):xi=E,Nu.current=null}function zx(x){var E=x;do{var I=E.alternate;if(x=E.return,(2048&E.flags)==0){if((I=mP(I,E,Pu))!==null)return void(xi=I);if((I=E).tag!==24&&I.tag!==23||I.memoizedState===null||1073741824&Pu||!(4&I.mode)){for(var z=0,q=I.child;q!==null;)z|=q.lanes|q.childLanes,q=q.sibling;I.childLanes=z}x!==null&&!(2048&x.flags)&&(x.firstEffect===null&&(x.firstEffect=E.firstEffect),E.lastEffect!==null&&(x.lastEffect!==null&&(x.lastEffect.nextEffect=E.firstEffect),x.lastEffect=E.lastEffect),1<E.flags&&(x.lastEffect!==null?x.lastEffect.nextEffect=E:x.firstEffect=E,x.lastEffect=E))}else{if((I=gP(E))!==null)return I.flags&=2047,void(xi=I);x!==null&&(x.firstEffect=x.lastEffect=null,x.flags|=2048)}if((E=E.sibling)!==null)return void(xi=E);xi=E=x}while(E!==null);fr===0&&(fr=5)}function th(x){var E=El();return dr(99,$A.bind(null,x,E)),null}function $A(x,E){do Ac();while(eh!==null);if(48&un)throw Error(v(327));var I=x.finishedWork;if(I===null)return null;if(x.finishedWork=null,x.finishedLanes=0,I===x.current)throw Error(v(177));x.callbackNode=null;var z=I.lanes|I.childLanes,q=z,se=x.pendingLanes&~q;x.pendingLanes=q,x.suspendedLanes=0,x.pingedLanes=0,x.expiredLanes&=q,x.mutableReadLanes&=q,x.entangledLanes&=q,q=x.entanglements;for(var pe=x.eventTimes,Ne=x.expirationTimes;0<se;){var We=31-yl(se),Xe=1<<We;q[We]=0,pe[We]=-1,Ne[We]=-1,se&=~Xe}if(Ta!==null&&!(24&z)&&Ta.has(x)&&Ta.delete(x),x===_r&&(xi=_r=null,Mi=0),1<I.flags?I.lastEffect!==null?(I.lastEffect.nextEffect=I,z=I.firstEffect):z=I:z=I.firstEffect,z!==null){if(q=un,un|=32,Nu.current=null,xa=co,Of(pe=Vd())){if("selectionStart"in pe)Ne={start:pe.selectionStart,end:pe.selectionEnd};else e:if(Ne=(Ne=pe.ownerDocument)&&Ne.defaultView||window,(Xe=Ne.getSelection&&Ne.getSelection())&&Xe.rangeCount!==0){Ne=Xe.anchorNode,se=Xe.anchorOffset,We=Xe.focusNode,Xe=Xe.focusOffset;try{Ne.nodeType,We.nodeType}catch{Ne=null;break e}var ut=0,kt=-1,lt=-1,zt=0,an=0,en=pe,Ye=null;t:for(;;){for(var Ge;en!==Ne||se!==0&&en.nodeType!==3||(kt=ut+se),en!==We||Xe!==0&&en.nodeType!==3||(lt=ut+Xe),en.nodeType===3&&(ut+=en.nodeValue.length),(Ge=en.firstChild)!==null;)Ye=en,en=Ge;for(;;){if(en===pe)break t;if(Ye===Ne&&++zt===se&&(kt=ut),Ye===We&&++an===Xe&&(lt=ut),(Ge=en.nextSibling)!==null)break;Ye=(en=Ye).parentNode}en=Ge}Ne=kt===-1||lt===-1?null:{start:kt,end:lt}}else Ne=null;Ne=Ne||{start:0,end:0}}else Ne=null;Uo={focusedElem:pe,selectionRange:Ne},co=!1,ds=null,Ru=!1,xt=z;do try{jl()}catch(Vt){if(xt===null)throw Error(v(330));Ou(xt,Vt),xt=xt.nextEffect}while(xt!==null);ds=null,xt=z;do try{for(pe=x;xt!==null;){var Ke=xt.flags;if(16&Ke&&ji(xt.stateNode,""),128&Ke){var tt=xt.alternate;if(tt!==null){var rt=tt.ref;rt!==null&&(typeof rt=="function"?rt(null):rt.current=null)}}switch(1038&Ke){case 2:Dg(xt),xt.flags&=-3;break;case 6:Dg(xt),xt.flags&=-3,pt(xt.alternate,xt);break;case 1024:xt.flags&=-1025;break;case 1028:xt.flags&=-1025,pt(xt.alternate,xt);break;case 4:pt(xt.alternate,xt);break;case 8:Du(pe,Ne=xt);var Kt=Ne.alternate;np(Ne),Kt!==null&&np(Kt)}xt=xt.nextEffect}}catch(Vt){if(xt===null)throw Error(v(330));Ou(xt,Vt),xt=xt.nextEffect}while(xt!==null);if(rt=Uo,tt=Vd(),Ke=rt.focusedElem,pe=rt.selectionRange,tt!==Ke&&Ke&&Ke.ownerDocument&&yg(Ke.ownerDocument.documentElement,Ke)){for(pe!==null&&Of(Ke)&&(tt=pe.start,(rt=pe.end)===void 0&&(rt=tt),"selectionStart"in Ke?(Ke.selectionStart=tt,Ke.selectionEnd=Math.min(rt,Ke.value.length)):(rt=(tt=Ke.ownerDocument||document)&&tt.defaultView||window).getSelection&&(rt=rt.getSelection(),Ne=Ke.textContent.length,Kt=Math.min(pe.start,Ne),pe=pe.end===void 0?Kt:Math.min(pe.end,Ne),!rt.extend&&Kt>pe&&(Ne=pe,pe=Kt,Kt=Ne),Ne=gy(Ke,Kt),se=gy(Ke,pe),Ne&&se&&(rt.rangeCount!==1||rt.anchorNode!==Ne.node||rt.anchorOffset!==Ne.offset||rt.focusNode!==se.node||rt.focusOffset!==se.offset)&&((tt=tt.createRange()).setStart(Ne.node,Ne.offset),rt.removeAllRanges(),Kt>pe?(rt.addRange(tt),rt.extend(se.node,se.offset)):(tt.setEnd(se.node,se.offset),rt.addRange(tt))))),tt=[],rt=Ke;rt=rt.parentNode;)rt.nodeType===1&&tt.push({element:rt,left:rt.scrollLeft,top:rt.scrollTop});for(typeof Ke.focus=="function"&&Ke.focus(),Ke=0;Ke<tt.length;Ke++)(rt=tt[Ke]).element.scrollLeft=rt.left,rt.element.scrollTop=rt.top}co=!!xa,Uo=xa=null,x.current=I,xt=z;do try{for(Ke=x;xt!==null;){var Et=xt.flags;if(36&Et&&Rx(Ke,xt.alternate,xt),128&Et){tt=void 0;var ln=xt.ref;if(ln!==null){var Ft=xt.stateNode;xt.tag,tt=Ft,typeof ln=="function"?ln(tt):ln.current=tt}}xt=xt.nextEffect}}catch(Vt){if(xt===null)throw Error(v(330));Ou(xt,Vt),xt=xt.nextEffect}while(xt!==null);xt=null,Ot(),un=q}else x.current=I;if(kc)kc=!1,eh=x,op=E;else for(xt=z;xt!==null;)E=xt.nextEffect,xt.nextEffect=null,8&xt.flags&&((Et=xt).sibling=null,Et.stateNode=null),xt=E;if((z=x.pendingLanes)===0&&(Nl=null),z===1?x===Wy?Ec++:(Ec=0,Wy=x):Ec=0,I=I.stateNode,Hi&&typeof Hi.onCommitFiberRoot=="function")try{Hi.onCommitFiberRoot(ci,I,void 0,(64&I.current.flags)==64)}catch{}if(hs(x,Qi()),Pg)throw Pg=!1,x=jg,jg=null,x;return 8&un||Sl(),null}function jl(){for(;xt!==null;){var x=xt.alternate;Ru||ds===null||(8&xt.flags?dl(xt,ds)&&(Ru=!0):xt.tag===13&&zy(x,xt)&&dl(xt,ds)&&(Ru=!0));var E=xt.flags;256&E&&Ix(x,xt),!(512&E)||kc||(kc=!0,bc(97,function(){return Ac(),null})),xt=xt.nextEffect}}function Ac(){if(op!==90){var x=97<op?97:op;return op=90,dr(x,yP)}return!1}function up(x,E){Bx.push(E,x),kc||(kc=!0,bc(97,function(){return Ac(),null}))}function Cc(x,E){Vy.push(E,x),kc||(kc=!0,bc(97,function(){return Ac(),null}))}function yP(){if(eh===null)return!1;var x=eh;if(eh=null,(48&un)!=0)throw Error(v(331));var E=un;un|=32;var I=Vy;Vy=[];for(var z=0;z<I.length;z+=2){var q=I[z],se=I[z+1],pe=q.destroy;if(q.destroy=void 0,typeof pe=="function")try{pe()}catch(We){if(se===null)throw Error(v(330));Ou(se,We)}}for(I=Bx,Bx=[],z=0;z<I.length;z+=2){q=I[z],se=I[z+1];try{var Ne=q.create;q.destroy=Ne()}catch(We){if(se===null)throw Error(v(330));Ou(se,We)}}for(Ne=x.current.firstEffect;Ne!==null;)x=Ne.nextEffect,Ne.nextEffect=null,8&Ne.flags&&(Ne.sibling=null,Ne.stateNode=null),Ne=x;return un=E,Sl(),!0}function Xy(x,E,I){yc(x,E=IA(0,E=jx(I,E),1)),E=ai(),(x=$y(x,1))!==null&&(jn(x,1,E),hs(x,E))}function Ou(x,E){if(x.tag===3)Xy(x,x,E);else for(var I=x.return;I!==null;){if(I.tag===3){Xy(I,x,E);break}if(I.tag===1){var z=I.stateNode;if(typeof I.type.getDerivedStateFromError=="function"||typeof z.componentDidCatch=="function"&&(Nl===null||!Nl.has(z))){var q=RA(I,x=jx(E,x),1);if(yc(I,q),q=ai(),(I=$y(I,1))!==null)jn(I,1,q),hs(I,q);else if(typeof z.componentDidCatch=="function"&&(Nl===null||!Nl.has(z)))try{z.componentDidCatch(E,x)}catch{}break}}I=I.return}}function vP(x,E,I){var z=x.pingCache;z!==null&&z.delete(E),E=ai(),x.pingedLanes|=x.suspendedLanes&I,_r===x&&(Mi&I)===I&&(fr===4||fr===3&&(62914560&Mi)===Mi&&500>Qi()-Ux?cp(x,0):Fx|=I),hs(x,E)}function wP(x,E){var I=x.stateNode;I!==null&&I.delete(E),(E=0)==0&&(2&(E=x.mode)?4&E?(Pl===0&&(Pl=rp),(E=bl(62914560&~Pl))===0&&(E=4194304)):E=El()===99?1:2:E=1),I=ai(),(x=$y(x,E))!==null&&(jn(x,E,I),hs(x,I))}function xP(x,E,I,z){this.tag=x,this.key=I,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=E,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=z,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Wo(x,E,I,z){return new xP(x,E,I,z)}function Vx(x){return!(!(x=x.prototype)||!x.isReactComponent)}function Fu(x,E){var I=x.alternate;return I===null?((I=Wo(x.tag,E,x.key,x.mode)).elementType=x.elementType,I.type=x.type,I.stateNode=x.stateNode,I.alternate=x,x.alternate=I):(I.pendingProps=E,I.type=x.type,I.flags=0,I.nextEffect=null,I.firstEffect=null,I.lastEffect=null),I.childLanes=x.childLanes,I.lanes=x.lanes,I.child=x.child,I.memoizedProps=x.memoizedProps,I.memoizedState=x.memoizedState,I.updateQueue=x.updateQueue,E=x.dependencies,I.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext},I.sibling=x.sibling,I.index=x.index,I.ref=x.ref,I}function Ky(x,E,I,z,q,se){var pe=2;if(z=x,typeof x=="function")Vx(x)&&(pe=1);else if(typeof x=="string")pe=5;else e:switch(x){case $:return nh(I.children,q,se,E);case Oe:pe=8,q|=16;break;case De:pe=8,q|=1;break;case ie:return(x=Wo(12,I,E,8|q)).elementType=ie,x.type=ie,x.lanes=se,x;case ne:return(x=Wo(13,I,E,q)).type=ne,x.elementType=ne,x.lanes=se,x;case ee:return(x=Wo(19,I,E,q)).elementType=ee,x.lanes=se,x;case Pe:return Wx(I,q,se,E);case Me:return(x=Wo(24,I,E,q)).elementType=Me,x.lanes=se,x;default:if(typeof x=="object"&&x!==null)switch(x.$$typeof){case ce:pe=10;break e;case X:pe=9;break e;case Y:pe=11;break e;case ue:pe=14;break e;case Z:pe=16,z=null;break e;case xe:pe=22;break e}throw Error(v(130,x==null?x:typeof x,""))}return(E=Wo(pe,I,E,q)).elementType=x,E.type=z,E.lanes=se,E}function nh(x,E,I,z){return(x=Wo(7,x,z,E)).lanes=I,x}function Wx(x,E,I,z){return(x=Wo(23,x,z,E)).elementType=Pe,x.lanes=I,x}function $x(x,E,I){return(x=Wo(6,x,null,E)).lanes=I,x}function ih(x,E,I){return(E=Wo(4,x.children!==null?x.children:[],x.key,E)).lanes=I,E.stateNode={containerInfo:x.containerInfo,pendingChildren:null,implementation:x.implementation},E}function _P(x,E,I){this.tag=E,this.containerInfo=x,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=I,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Nd(0),this.expirationTimes=Nd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nd(0),this.mutableSourceEagerHydrationData=null}function Yy(x,E,I,z){var q=E.current,se=ai(),pe=Vo(q);e:if(I){t:{if(ma(I=I._reactInternals)!==I||I.tag!==1)throw Error(v(170));var Ne=I;do{switch(Ne.tag){case 3:Ne=Ne.stateNode.context;break t;case 1:if(Rn(Ne.type)){Ne=Ne.stateNode.__reactInternalMemoizedMergedChildContext;break t}}Ne=Ne.return}while(Ne!==null);throw Error(v(171))}if(I.tag===1){var We=I.type;if(Rn(We)){I=hx(I,We,Ne);break e}}I=Ne}else I=bu;return E.context===null?E.context=I:E.pendingContext=I,(E=Al(se,pe)).payload={element:x},(z=z===void 0?null:z)!==null&&(E.callback=z),yc(q,E),Sc(q,pe,se),pe}function qx(x){return(x=x.current).child?(x.child.tag,x.child.stateNode):null}function Mg(x,E){if((x=x.memoizedState)!==null&&x.dehydrated!==null){var I=x.retryLane;x.retryLane=I!==0&&I<E?I:E}}function Hx(x,E){Mg(x,E),(x=x.alternate)&&Mg(x,E)}function Gx(x,E,I){var z=I!=null&&I.hydrationOptions!=null&&I.hydrationOptions.mutableSources||null;if(I=new _P(x,E,I!=null&&I.hydrate===!0),E=Wo(3,null,null,E===2?7:E===1?3:0),I.current=E,E.stateNode=I,Vf(E),x[Lf]=I.current,de(x.nodeType===8?x.parentNode:x),z)for(x=0;x<z.length;x++){var q=(E=z[x])._getVersion;q=q(E._source),I.mutableSourceEagerHydrationData==null?I.mutableSourceEagerHydrationData=[E,q]:I.mutableSourceEagerHydrationData.push(E,q)}this._internalRoot=I}function Og(x){return!(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11&&(x.nodeType!==8||x.nodeValue!==" react-mount-point-unstable "))}function Fg(x,E,I,z,q){var se=I._reactRootContainer;if(se){var pe=se._internalRoot;if(typeof q=="function"){var Ne=q;q=function(){var Xe=qx(pe);Ne.call(Xe)}}Yy(E,pe,x,q)}else{if(se=I._reactRootContainer=function(Xe,ut){if(ut||(ut=!(!(ut=Xe?Xe.nodeType===9?Xe.documentElement:Xe.firstChild:null)||ut.nodeType!==1||!ut.hasAttribute("data-reactroot"))),!ut)for(var kt;kt=Xe.lastChild;)Xe.removeChild(kt);return new Gx(Xe,0,ut?{hydrate:!0}:void 0)}(I,z),pe=se._internalRoot,typeof q=="function"){var We=q;q=function(){var Xe=qx(pe);We.call(Xe)}}UA(function(){Yy(E,pe,x,q)})}return qx(pe)}function qA(x,E){var I=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Og(E))throw Error(v(200));return function(z,q,se){var pe=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ge,key:pe==null?null:""+pe,children:z,containerInfo:q,implementation:se}}(x,E,null,I)}OA=function(x,E,I){var z=E.lanes;if(x!==null)if(x.memoizedProps!==E.pendingProps||Br.current)yo=!0;else{if(!(I&z)){switch(yo=!1,E.tag){case 3:Oy(E),Dy();break;case 5:mA(E);break;case 1:Rn(E.type)&&vy(E);break;case 4:Kf(E,E.stateNode.containerInfo);break;case 10:z=E.memoizedProps.value;var q=E.type._context;Gt(_y,q._currentValue),q._currentValue=z;break;case 13:if(E.memoizedState!==null)return I&E.child.childLanes?TA(x,E,I):(Gt(ui,1&ui.current),(E=_c(x,E,I))!==null?E.sibling:null);Gt(ui,1&ui.current);break;case 19:if(z=(I&E.childLanes)!=0,(64&x.flags)!=0){if(z)return PA(x,E,I);E.flags|=64}if((q=E.memoizedState)!==null&&(q.rendering=null,q.tail=null,q.lastEffect=null),Gt(ui,ui.current),z)break;return null;case 23:case 24:return E.lanes=0,Ax(x,E,I)}return _c(x,E,I)}yo=(16384&x.flags)!=0}else yo=!1;switch(E.lanes=0,E.tag){case 2:if(z=E.type,x!==null&&(x.alternate=null,E.alternate=null,E.flags|=2),x=E.pendingProps,q=vu(E,Ri.current),Hd(E,I),q=Qf(null,E,z,x,q,I),E.flags|=1,typeof q=="object"&&q!==null&&typeof q.render=="function"&&q.$$typeof===void 0){if(E.tag=1,E.memoizedState=null,E.updateQueue=null,Rn(z)){var se=!0;vy(E)}else se=!1;E.memoizedState=q.state!==null&&q.state!==void 0?q.state:null,Vf(E);var pe=z.getDerivedStateFromProps;typeof pe=="function"&&zo(E,z,pe,x),q.updater=Cy,E.stateNode=q,q._reactInternals=E,qf(E,z,x,I),E=tp(null,E,z,!0,se,I)}else E.tag=0,us(null,E,q,I),E=E.child;return E;case 16:q=E.elementType;e:{switch(x!==null&&(x.alternate=null,E.alternate=null,E.flags|=2),x=E.pendingProps,q=(se=q._init)(q._payload),E.type=q,se=E.tag=function(ut){if(typeof ut=="function")return Vx(ut)?1:0;if(ut!=null){if((ut=ut.$$typeof)===Y)return 11;if(ut===ue)return 14}return 2}(q),x=Bo(q,x),se){case 0:E=Cx(null,E,q,x,I);break e;case 1:E=SA(null,E,q,x,I);break e;case 11:E=kA(null,E,q,x,I);break e;case 14:E=My(null,E,q,Bo(q.type,x),z,I);break e}throw Error(v(306,q,""))}return E;case 0:return z=E.type,q=E.pendingProps,Cx(x,E,z,q=E.elementType===z?q:Bo(z,q),I);case 1:return z=E.type,q=E.pendingProps,SA(x,E,z,q=E.elementType===z?q:Bo(z,q),I);case 3:if(Oy(E),z=E.updateQueue,x===null||z===null)throw Error(v(282));if(z=E.pendingProps,q=(q=E.memoizedState)!==null?q.element:null,Ay(x,E),kg(E,z,null,I),(z=E.memoizedState.element)===q)Dy(),E=_c(x,E,I);else{if((se=(q=E.stateNode).hydrate)&&(Ea=Os(E.stateNode.containerInfo.firstChild),wc=E,se=Us=!0),se){if((x=q.mutableSourceEagerHydrationData)!=null)for(q=0;q<x.length;q+=2)(se=x[q])._workInProgressVersionPrimary=x[q+1],Zf.push(se);for(I=Gf(E,null,z,I),E.child=I;I;)I.flags=-3&I.flags|1024,I=I.sibling}else us(x,E,z,I),Dy();E=E.child}return E;case 5:return mA(E),x===null&&Ty(E),z=E.type,q=E.pendingProps,se=x!==null?x.memoizedProps:null,pe=q.children,Ur(z,q)?pe=null:se!==null&&Ur(z,se)&&(E.flags|=16),EA(x,E),us(x,E,pe,I),E.child;case 6:return x===null&&Ty(E),null;case 13:return TA(x,E,I);case 4:return Kf(E,E.stateNode.containerInfo),z=E.pendingProps,x===null?E.child=Xd(E,null,z,I):us(x,E,z,I),E.child;case 11:return z=E.type,q=E.pendingProps,kA(x,E,z,q=E.elementType===z?q:Bo(z,q),I);case 7:return us(x,E,E.pendingProps,I),E.child;case 8:case 12:return us(x,E,E.pendingProps.children,I),E.child;case 10:e:{z=E.type._context,q=E.pendingProps,pe=E.memoizedProps,se=q.value;var Ne=E.type._context;if(Gt(_y,Ne._currentValue),Ne._currentValue=se,pe!==null)if(Ne=pe.value,(se=ls(Ne,se)?0:0|(typeof z._calculateChangedBits=="function"?z._calculateChangedBits(Ne,se):1073741823))===0){if(pe.children===q.children&&!Br.current){E=_c(x,E,I);break e}}else for((Ne=E.child)!==null&&(Ne.return=E);Ne!==null;){var We=Ne.dependencies;if(We!==null){pe=Ne.child;for(var Xe=We.firstContext;Xe!==null;){if(Xe.context===z&&Xe.observedBits&se){Ne.tag===1&&((Xe=Al(-1,I&-I)).tag=2,yc(Ne,Xe)),Ne.lanes|=I,(Xe=Ne.alternate)!==null&&(Xe.lanes|=I),yx(Ne.return,I),We.lanes|=I;break}Xe=Xe.next}}else pe=Ne.tag===10&&Ne.type===E.type?null:Ne.child;if(pe!==null)pe.return=Ne;else for(pe=Ne;pe!==null;){if(pe===E){pe=null;break}if((Ne=pe.sibling)!==null){Ne.return=pe.return,pe=Ne;break}pe=pe.return}Ne=pe}us(x,E,q.children,I),E=E.child}return E;case 9:return q=E.type,z=(se=E.pendingProps).children,Hd(E,I),z=z(q=po(q,se.unstable_observedBits)),E.flags|=1,us(x,E,z,I),E.child;case 14:return se=Bo(q=E.type,E.pendingProps),My(x,E,q,se=Bo(q.type,se),z,I);case 15:return Sx(x,E,E.type,E.pendingProps,z,I);case 17:return z=E.type,q=E.pendingProps,q=E.elementType===z?q:Bo(z,q),x!==null&&(x.alternate=null,E.alternate=null,E.flags|=2),E.tag=1,Rn(z)?(x=!0,vy(E)):x=!1,Hd(E,I),$f(E,z,q),qf(E,z,q,I),tp(null,E,z,!0,x,I);case 19:return PA(x,E,I);case 23:case 24:return Ax(x,E,I)}throw Error(v(156,E.tag))},Gx.prototype.render=function(x){Yy(x,this._internalRoot,null,null)},Gx.prototype.unmount=function(){var x=this._internalRoot,E=x.containerInfo;Yy(null,x,null,function(){E[Lf]=null})},hl=function(x){x.tag===13&&(Sc(x,4,ai()),Hx(x,4))},fl=function(x){x.tag===13&&(Sc(x,67108864,ai()),Hx(x,67108864))},Zm=function(x){if(x.tag===13){var E=ai(),I=Vo(x);Sc(x,I,E),Hx(x,I)}},Cd=function(x,E){return E()},Mr=function(x,E,I){switch(E){case"input":if(Ue(x,I),E=I.name,I.type==="radio"&&E!=null){for(I=x;I.parentNode;)I=I.parentNode;for(I=I.querySelectorAll("input[name="+JSON.stringify(""+E)+'][type="radio"]'),E=0;E<I.length;E++){var z=I[E];if(z!==x&&z.form===x.form){var q=wg(z);if(!q)throw Error(v(90));qe(z),Ue(z,q)}}}break;case"textarea":bt(x,I);break;case"select":(E=I.value)!=null&&ht(x,!!I.multiple,E,!1)}},Is=FA,ol=function(x,E,I,z,q){var se=un;un|=4;try{return dr(98,x.bind(null,E,I,z,q))}finally{(un=se)===0&&(Iu(),Sl())}},Mo=function(){!(49&un)&&(function(){if(Ta!==null){var x=Ta;Ta=null,x.forEach(function(E){E.expiredLanes|=24&E.pendingLanes,hs(E,Qi())})}Sl()}(),Ac())},al=function(x,E){var I=un;un|=2;try{return x(E)}finally{(un=I)===0&&(Iu(),Sl())}};var kP={Events:[Bf,$d,wg,js,ss,Ac,{current:!1}]},dp={findFiberByHostInstance:mu,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Xx={bundleType:dp.bundleType,version:dp.version,rendererPackageName:dp.rendererPackageName,rendererConfig:dp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:me.ReactCurrentDispatcher,findHostInstanceByFiber:function(x){return(x=Ii(x))===null?null:x.stateNode},findFiberByHostInstance:dp.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zy.isDisabled&&Zy.supportsFiber)try{ci=Zy.inject(Xx),Hi=Zy}catch{}}u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kP,u.createPortal=qA,u.findDOMNode=function(x){if(x==null)return null;if(x.nodeType===1)return x;var E=x._reactInternals;if(E===void 0)throw typeof x.render=="function"?Error(v(188)):Error(v(268,Object.keys(x)));return x=(x=Ii(E))===null?null:x.stateNode},u.flushSync=function(x,E){var I=un;if(48&I)return x(E);un|=1;try{if(x)return dr(99,x.bind(null,E))}finally{un=I,Sl()}},u.hydrate=function(x,E,I){if(!Og(E))throw Error(v(200));return Fg(null,x,E,!0,I)},u.render=function(x,E,I){if(!Og(E))throw Error(v(200));return Fg(null,x,E,!1,I)},u.unmountComponentAtNode=function(x){if(!Og(x))throw Error(v(40));return!!x._reactRootContainer&&(UA(function(){Fg(null,null,x,!1,function(){x._reactRootContainer=null,x[Lf]=null})}),!0)},u.unstable_batchedUpdates=FA,u.unstable_createPortal=function(x,E){return qA(x,E,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)},u.unstable_renderSubtreeIntoContainer=function(x,E,I,z){if(!Og(I))throw Error(v(200));if(x==null||x._reactInternals===void 0)throw Error(v(38));return Fg(x,E,I,!1,z)},u.version="17.0.2"},3935:(c,u,h)=>{(function m(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE=="function")try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m)}catch(g){console.error(g)}})(),c.exports=h(4448)},2408:(c,u,h)=>{var m=h(7418),g=60103,y=60106;u.Fragment=60107,u.StrictMode=60108,u.Profiler=60114;var v=60109,_=60110,A=60112;u.Suspense=60113;var S=60115,C=60116;if(typeof Symbol=="function"&&Symbol.for){var T=Symbol.for;g=T("react.element"),y=T("react.portal"),u.Fragment=T("react.fragment"),u.StrictMode=T("react.strict_mode"),u.Profiler=T("react.profiler"),v=T("react.provider"),_=T("react.context"),A=T("react.forward_ref"),u.Suspense=T("react.suspense"),S=T("react.memo"),C=T("react.lazy")}var N=typeof Symbol=="function"&&Symbol.iterator;function j(Z){for(var xe="https://reactjs.org/docs/error-decoder.html?invariant="+Z,Ae=1;Ae<arguments.length;Ae++)xe+="&args[]="+encodeURIComponent(arguments[Ae]);return"Minified React error #"+Z+"; visit "+xe+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F={};function U(Z,xe,Ae){this.props=Z,this.context=xe,this.refs=F,this.updater=Ae||O}function V(){}function B(Z,xe,Ae){this.props=Z,this.context=xe,this.refs=F,this.updater=Ae||O}U.prototype.isReactComponent={},U.prototype.setState=function(Z,xe){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error(j(85));this.updater.enqueueSetState(this,Z,xe,"setState")},U.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")},V.prototype=U.prototype;var K=B.prototype=new V;K.constructor=B,m(K,U.prototype),K.isPureReactComponent=!0;var oe={current:null},me=Object.prototype.hasOwnProperty,Q={key:!0,ref:!0,__self:!0,__source:!0};function ge(Z,xe,Ae){var Oe,Pe={},Me=null,Ve=null;if(xe!=null)for(Oe in xe.ref!==void 0&&(Ve=xe.ref),xe.key!==void 0&&(Me=""+xe.key),xe)me.call(xe,Oe)&&!Q.hasOwnProperty(Oe)&&(Pe[Oe]=xe[Oe]);var Le=arguments.length-2;if(Le===1)Pe.children=Ae;else if(1<Le){for(var Ee=Array(Le),we=0;we<Le;we++)Ee[we]=arguments[we+2];Pe.children=Ee}if(Z&&Z.defaultProps)for(Oe in Le=Z.defaultProps)Pe[Oe]===void 0&&(Pe[Oe]=Le[Oe]);return{$$typeof:g,type:Z,key:Me,ref:Ve,props:Pe,_owner:oe.current}}function $(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===g}var De=/\/+/g;function ie(Z,xe){return typeof Z=="object"&&Z!==null&&Z.key!=null?function(Ae){var Oe={"=":"=0",":":"=2"};return"$"+Ae.replace(/[=:]/g,function(Pe){return Oe[Pe]})}(""+Z.key):xe.toString(36)}function ce(Z,xe,Ae,Oe,Pe){var Me=typeof Z;Me!=="undefined"&&Me!=="boolean"||(Z=null);var Ve=!1;if(Z===null)Ve=!0;else switch(Me){case"string":case"number":Ve=!0;break;case"object":switch(Z.$$typeof){case g:case y:Ve=!0}}if(Ve)return Pe=Pe(Ve=Z),Z=Oe===""?"."+ie(Ve,0):Oe,Array.isArray(Pe)?(Ae="",Z!=null&&(Ae=Z.replace(De,"$&/")+"/"),ce(Pe,xe,Ae,"",function(we){return we})):Pe!=null&&($(Pe)&&(Pe=function(we,ze){return{$$typeof:g,type:we.type,key:ze,ref:we.ref,props:we.props,_owner:we._owner}}(Pe,Ae+(!Pe.key||Ve&&Ve.key===Pe.key?"":(""+Pe.key).replace(De,"$&/")+"/")+Z)),xe.push(Pe)),1;if(Ve=0,Oe=Oe===""?".":Oe+":",Array.isArray(Z))for(var Le=0;Le<Z.length;Le++){var Ee=Oe+ie(Me=Z[Le],Le);Ve+=ce(Me,xe,Ae,Ee,Pe)}else if(Ee=function(we){return we===null||typeof we!="object"?null:typeof(we=N&&we[N]||we["@@iterator"])=="function"?we:null}(Z),typeof Ee=="function")for(Z=Ee.call(Z),Le=0;!(Me=Z.next()).done;)Ve+=ce(Me=Me.value,xe,Ae,Ee=Oe+ie(Me,Le++),Pe);else if(Me==="object")throw xe=""+Z,Error(j(31,xe==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":xe));return Ve}function X(Z,xe,Ae){if(Z==null)return Z;var Oe=[],Pe=0;return ce(Z,Oe,"","",function(Me){return xe.call(Ae,Me,Pe++)}),Oe}function Y(Z){if(Z._status===-1){var xe=Z._result;xe=xe(),Z._status=0,Z._result=xe,xe.then(function(Ae){Z._status===0&&(Ae=Ae.default,Z._status=1,Z._result=Ae)},function(Ae){Z._status===0&&(Z._status=2,Z._result=Ae)})}if(Z._status===1)return Z._result;throw Z._result}var ne={current:null};function ee(){var Z=ne.current;if(Z===null)throw Error(j(321));return Z}var ue={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:oe,IsSomeRendererActing:{current:!1},assign:m};u.Children={map:X,forEach:function(Z,xe,Ae){X(Z,function(){xe.apply(this,arguments)},Ae)},count:function(Z){var xe=0;return X(Z,function(){xe++}),xe},toArray:function(Z){return X(Z,function(xe){return xe})||[]},only:function(Z){if(!$(Z))throw Error(j(143));return Z}},u.Component=U,u.PureComponent=B,u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,u.cloneElement=function(Z,xe,Ae){if(Z==null)throw Error(j(267,Z));var Oe=m({},Z.props),Pe=Z.key,Me=Z.ref,Ve=Z._owner;if(xe!=null){if(xe.ref!==void 0&&(Me=xe.ref,Ve=oe.current),xe.key!==void 0&&(Pe=""+xe.key),Z.type&&Z.type.defaultProps)var Le=Z.type.defaultProps;for(Ee in xe)me.call(xe,Ee)&&!Q.hasOwnProperty(Ee)&&(Oe[Ee]=xe[Ee]===void 0&&Le!==void 0?Le[Ee]:xe[Ee])}var Ee=arguments.length-2;if(Ee===1)Oe.children=Ae;else if(1<Ee){Le=Array(Ee);for(var we=0;we<Ee;we++)Le[we]=arguments[we+2];Oe.children=Le}return{$$typeof:g,type:Z.type,key:Pe,ref:Me,props:Oe,_owner:Ve}},u.createContext=function(Z,xe){return xe===void 0&&(xe=null),(Z={$$typeof:_,_calculateChangedBits:xe,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:v,_context:Z},Z.Consumer=Z},u.createElement=ge,u.createFactory=function(Z){var xe=ge.bind(null,Z);return xe.type=Z,xe},u.createRef=function(){return{current:null}},u.forwardRef=function(Z){return{$$typeof:A,render:Z}},u.isValidElement=$,u.lazy=function(Z){return{$$typeof:C,_payload:{_status:-1,_result:Z},_init:Y}},u.memo=function(Z,xe){return{$$typeof:S,type:Z,compare:xe===void 0?null:xe}},u.useCallback=function(Z,xe){return ee().useCallback(Z,xe)},u.useContext=function(Z,xe){return ee().useContext(Z,xe)},u.useDebugValue=function(){},u.useEffect=function(Z,xe){return ee().useEffect(Z,xe)},u.useImperativeHandle=function(Z,xe,Ae){return ee().useImperativeHandle(Z,xe,Ae)},u.useLayoutEffect=function(Z,xe){return ee().useLayoutEffect(Z,xe)},u.useMemo=function(Z,xe){return ee().useMemo(Z,xe)},u.useReducer=function(Z,xe,Ae){return ee().useReducer(Z,xe,Ae)},u.useRef=function(Z){return ee().useRef(Z)},u.useState=function(Z){return ee().useState(Z)},u.version="17.0.2"},7294:(c,u,h)=>{c.exports=h(2408)},53:(c,u)=>{var h,m,g,y;if(typeof performance=="object"&&typeof performance.now=="function"){var v=performance;u.unstable_now=function(){return v.now()}}else{var _=Date,A=_.now();u.unstable_now=function(){return _.now()-A}}if(typeof window>"u"||typeof MessageChannel!="function"){var S=null,C=null,T=function(){if(S!==null)try{var Me=u.unstable_now();S(!0,Me),S=null}catch(Ve){throw setTimeout(T,0),Ve}};h=function(Me){S!==null?setTimeout(h,0,Me):(S=Me,setTimeout(T,0))},m=function(Me,Ve){C=setTimeout(Me,Ve)},g=function(){clearTimeout(C)},u.unstable_shouldYield=function(){return!1},y=u.unstable_forceFrameRate=function(){}}else{var N=window.setTimeout,j=window.clearTimeout;if(typeof console<"u"){var O=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof O!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var F=!1,U=null,V=-1,B=5,K=0;u.unstable_shouldYield=function(){return u.unstable_now()>=K},y=function(){},u.unstable_forceFrameRate=function(Me){0>Me||125<Me?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<Me?Math.floor(1e3/Me):5};var oe=new MessageChannel,me=oe.port2;oe.port1.onmessage=function(){if(U!==null){var Me=u.unstable_now();K=Me+B;try{U(!0,Me)?me.postMessage(null):(F=!1,U=null)}catch(Ve){throw me.postMessage(null),Ve}}else F=!1},h=function(Me){U=Me,F||(F=!0,me.postMessage(null))},m=function(Me,Ve){V=N(function(){Me(u.unstable_now())},Ve)},g=function(){j(V),V=-1}}function Q(Me,Ve){var Le=Me.length;Me.push(Ve);e:for(;;){var Ee=Le-1>>>1,we=Me[Ee];if(!(we!==void 0&&0<De(we,Ve)))break e;Me[Ee]=Ve,Me[Le]=we,Le=Ee}}function ge(Me){return(Me=Me[0])===void 0?null:Me}function $(Me){var Ve=Me[0];if(Ve!==void 0){var Le=Me.pop();if(Le!==Ve){Me[0]=Le;e:for(var Ee=0,we=Me.length;Ee<we;){var ze=2*(Ee+1)-1,G=Me[ze],Ce=ze+1,Ie=Me[Ce];if(G!==void 0&&0>De(G,Le))Ie!==void 0&&0>De(Ie,G)?(Me[Ee]=Ie,Me[Ce]=Le,Ee=Ce):(Me[Ee]=G,Me[ze]=Le,Ee=ze);else{if(!(Ie!==void 0&&0>De(Ie,Le)))break e;Me[Ee]=Ie,Me[Ce]=Le,Ee=Ce}}}return Ve}return null}function De(Me,Ve){var Le=Me.sortIndex-Ve.sortIndex;return Le!==0?Le:Me.id-Ve.id}var ie=[],ce=[],X=1,Y=null,ne=3,ee=!1,ue=!1,Z=!1;function xe(Me){for(var Ve=ge(ce);Ve!==null;){if(Ve.callback===null)$(ce);else{if(!(Ve.startTime<=Me))break;$(ce),Ve.sortIndex=Ve.expirationTime,Q(ie,Ve)}Ve=ge(ce)}}function Ae(Me){if(Z=!1,xe(Me),!ue)if(ge(ie)!==null)ue=!0,h(Oe);else{var Ve=ge(ce);Ve!==null&&m(Ae,Ve.startTime-Me)}}function Oe(Me,Ve){ue=!1,Z&&(Z=!1,g()),ee=!0;var Le=ne;try{for(xe(Ve),Y=ge(ie);Y!==null&&(!(Y.expirationTime>Ve)||Me&&!u.unstable_shouldYield());){var Ee=Y.callback;if(typeof Ee=="function"){Y.callback=null,ne=Y.priorityLevel;var we=Ee(Y.expirationTime<=Ve);Ve=u.unstable_now(),typeof we=="function"?Y.callback=we:Y===ge(ie)&&$(ie),xe(Ve)}else $(ie);Y=ge(ie)}if(Y!==null)var ze=!0;else{var G=ge(ce);G!==null&&m(Ae,G.startTime-Ve),ze=!1}return ze}finally{Y=null,ne=Le,ee=!1}}var Pe=y;u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(Me){Me.callback=null},u.unstable_continueExecution=function(){ue||ee||(ue=!0,h(Oe))},u.unstable_getCurrentPriorityLevel=function(){return ne},u.unstable_getFirstCallbackNode=function(){return ge(ie)},u.unstable_next=function(Me){switch(ne){case 1:case 2:case 3:var Ve=3;break;default:Ve=ne}var Le=ne;ne=Ve;try{return Me()}finally{ne=Le}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=Pe,u.unstable_runWithPriority=function(Me,Ve){switch(Me){case 1:case 2:case 3:case 4:case 5:break;default:Me=3}var Le=ne;ne=Me;try{return Ve()}finally{ne=Le}},u.unstable_scheduleCallback=function(Me,Ve,Le){var Ee=u.unstable_now();switch(typeof Le=="object"&&Le!==null?Le=typeof(Le=Le.delay)=="number"&&0<Le?Ee+Le:Ee:Le=Ee,Me){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return Me={id:X++,callback:Ve,priorityLevel:Me,startTime:Le,expirationTime:we=Le+we,sortIndex:-1},Le>Ee?(Me.sortIndex=Le,Q(ce,Me),ge(ie)===null&&Me===ge(ce)&&(Z?g():Z=!0,m(Ae,Le-Ee))):(Me.sortIndex=we,Q(ie,Me),ue||ee||(ue=!0,h(Oe))),Me},u.unstable_wrapCallback=function(Me){var Ve=ne;return function(){var Le=ne;ne=Ve;try{return Me.apply(this,arguments)}finally{ne=Le}}}},3840:(c,u,h)=>{c.exports=h(53)},4670:(c,u,h)=>{c.exports=h(5607)},9829:(c,u,h)=>{var m,g,y,v=h(8946),_="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function A(){y=!1}function S(T){if(T){if(T!==m){if(T.length!==_.length)throw new Error("Custom alphabet for shortid must be "+_.length+" unique characters. You submitted "+T.length+" characters: "+T);var N=T.split("").filter(function(j,O,F){return O!==F.lastIndexOf(j)});if(N.length)throw new Error("Custom alphabet for shortid must be "+_.length+" unique characters. These characters were not unique: "+N.join(", "));m=T,A()}}else m!==_&&(m=_,A())}function C(){return y||(y=function(){m||S(_);for(var T,N=m.split(""),j=[],O=v.nextValue();N.length>0;)O=v.nextValue(),T=Math.floor(O*N.length),j.push(N.splice(T,1)[0]);return j.join("")}())}c.exports={get:function(){return m||_},characters:function(T){return S(T),m},seed:function(T){v.seed(T),g!==T&&(A(),g=T)},lookup:function(T){return C()[T]},shuffled:C}},480:(c,u,h)=>{var m,g,y=h(8416);h(9829),c.exports=function(v){var _="",A=Math.floor(.001*(Date.now()-1567752802062));return A===g?m++:(m=0,g=A),_+=y(7),_+=y(v),m>0&&(_+=y(m)),_+=y(A)}},8416:(c,u,h)=>{var m=h(9829),g=h(3766),y=h(296);c.exports=function(v){for(var _,A=0,S="";!_;)S+=y(g,m.get(),1),_=v<Math.pow(16,A+1),A++;return S}},5607:(c,u,h)=>{var m=h(9829),g=h(480),y=h(1082),v=h(5636)||0;function _(){return g(v)}c.exports=_,c.exports.generate=_,c.exports.seed=function(A){return m.seed(A),c.exports},c.exports.worker=function(A){return v=A,c.exports},c.exports.characters=function(A){return A!==void 0&&m.characters(A),m.shuffled()},c.exports.isValid=y},1082:(c,u,h)=>{var m=h(9829);c.exports=function(g){return!(!g||typeof g!="string"||g.length<6)&&!new RegExp("[^"+m.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(g)}},3766:c=>{var u,h=typeof window=="object"&&(window.crypto||window.msCrypto);u=h&&h.getRandomValues?function(m){return h.getRandomValues(new Uint8Array(m))}:function(m){for(var g=[],y=0;y<m;y++)g.push(Math.floor(256*Math.random()));return g},c.exports=u},8946:c=>{var u=1;c.exports={nextValue:function(){return(u=(9301*u+49297)%233280)/233280},seed:function(h){u=h}}},5636:c=>{c.exports=0},296:c=>{c.exports=function(u,h,m){for(var g=(2<<Math.log(h.length-1)/Math.LN2)-1,y=-~(1.6*g*m/h.length),v="";;)for(var _=u(y),A=y;A--;)if((v+=h[_[A]&g]||"").length===+m)return v}},7478:(c,u,h)=>{var m=h(210),g=h(1924),y=h(631),v=m("%TypeError%"),_=m("%WeakMap%",!0),A=m("%Map%",!0),S=g("WeakMap.prototype.get",!0),C=g("WeakMap.prototype.set",!0),T=g("WeakMap.prototype.has",!0),N=g("Map.prototype.get",!0),j=g("Map.prototype.set",!0),O=g("Map.prototype.has",!0),F=function(U,V){for(var B,K=U;(B=K.next)!==null;K=B)if(B.key===V)return K.next=B.next,B.next=U.next,U.next=B,B};c.exports=function(){var U,V,B,K={assert:function(oe){if(!K.has(oe))throw new v("Side channel does not contain "+y(oe))},get:function(oe){if(_&&oe&&(typeof oe=="object"||typeof oe=="function")){if(U)return S(U,oe)}else if(A){if(V)return N(V,oe)}else if(B)return function(me,Q){var ge=F(me,Q);return ge&&ge.value}(B,oe)},has:function(oe){if(_&&oe&&(typeof oe=="object"||typeof oe=="function")){if(U)return T(U,oe)}else if(A){if(V)return O(V,oe)}else if(B)return function(me,Q){return!!F(me,Q)}(B,oe);return!1},set:function(oe,me){_&&oe&&(typeof oe=="object"||typeof oe=="function")?(U||(U=new _),C(U,oe,me)):A?(V||(V=new A),j(V,oe,me)):(B||(B={key:{},next:null}),function(Q,ge,$){var De=F(Q,ge);De?De.value=$:Q.next={key:ge,next:Q.next,value:$}}(B,oe,me))}};return K}},3379:c=>{var u=[];function h(y){for(var v=-1,_=0;_<u.length;_++)if(u[_].identifier===y){v=_;break}return v}function m(y,v){for(var _={},A=[],S=0;S<y.length;S++){var C=y[S],T=v.base?C[0]+v.base:C[0],N=_[T]||0,j="".concat(T," ").concat(N);_[T]=N+1;var O=h(j),F={css:C[1],media:C[2],sourceMap:C[3],supports:C[4],layer:C[5]};if(O!==-1)u[O].references++,u[O].updater(F);else{var U=g(F,v);v.byIndex=S,u.splice(S,0,{identifier:j,updater:U,references:1})}A.push(j)}return A}function g(y,v){var _=v.domAPI(v);return _.update(y),function(A){if(A){if(A.css===y.css&&A.media===y.media&&A.sourceMap===y.sourceMap&&A.supports===y.supports&&A.layer===y.layer)return;_.update(y=A)}else _.remove()}}c.exports=function(y,v){var _=m(y=y||[],v=v||{});return function(A){A=A||[];for(var S=0;S<_.length;S++){var C=h(_[S]);u[C].references--}for(var T=m(A,v),N=0;N<_.length;N++){var j=h(_[N]);u[j].references===0&&(u[j].updater(),u.splice(j,1))}_=T}}},569:c=>{var u={};c.exports=function(h,m){var g=function(y){if(u[y]===void 0){var v=document.querySelector(y);if(window.HTMLIFrameElement&&v instanceof window.HTMLIFrameElement)try{v=v.contentDocument.head}catch{v=null}u[y]=v}return u[y]}(h);if(!g)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");g.appendChild(m)}},9216:c=>{c.exports=function(u){var h=document.createElement("style");return u.setAttributes(h,u.attributes),u.insert(h,u.options),h}},8575:c=>{c.exports=function(u,h){Object.keys(h).forEach(function(m){u.setAttribute(m,h[m])})}},9037:c=>{var u,h=(u=[],function(y,v){return u[y]=v,u.filter(Boolean).join(`
`)});function m(y,v,_,A){var S;if(_)S="";else{S="",A.supports&&(S+="@supports (".concat(A.supports,") {")),A.media&&(S+="@media ".concat(A.media," {"));var C=A.layer!==void 0;C&&(S+="@layer".concat(A.layer.length>0?" ".concat(A.layer):""," {")),S+=A.css,C&&(S+="}"),A.media&&(S+="}"),A.supports&&(S+="}")}if(y.styleSheet)y.styleSheet.cssText=h(v,S);else{var T=document.createTextNode(S),N=y.childNodes;N[v]&&y.removeChild(N[v]),N.length?y.insertBefore(T,N[v]):y.appendChild(T)}}var g={singleton:null,singletonCounter:0};c.exports=function(y){if(typeof document>"u")return{update:function(){},remove:function(){}};var v=g.singletonCounter++,_=g.singleton||(g.singleton=y.insertStyleElement(y));return{update:function(A){m(_,v,!1,A)},remove:function(A){m(_,v,!0,A)}}}},7903:c=>{function u(v,_){var A=typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(!A){if(Array.isArray(v)||(A=function(O,F){if(O){if(typeof O=="string")return h(O,F);var U=Object.prototype.toString.call(O).slice(8,-1);if(U==="Object"&&O.constructor&&(U=O.constructor.name),U==="Map"||U==="Set")return Array.from(O);if(U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return h(O,F)}}(v))||_){A&&(v=A);var S=0,C=function(){};return{s:C,n:function(){return S>=v.length?{done:!0}:{done:!1,value:v[S++]}},e:function(O){throw O},f:C}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var T,N=!0,j=!1;return{s:function(){A=A.call(v)},n:function(){var O=A.next();return N=O.done,O},e:function(O){j=!0,T=O},f:function(){try{N||A.return==null||A.return()}finally{if(j)throw T}}}}function h(v,_){(_==null||_>v.length)&&(_=v.length);for(var A=0,S=new Array(_);A<_;A++)S[A]=v[A];return S}function m(){this._defaults=[]}for(var g=0,y=["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"];g<y.length;g++){const v=y[g];m.prototype[v]=function(){for(var _=arguments.length,A=new Array(_),S=0;S<_;S++)A[S]=arguments[S];return this._defaults.push({fn:v,args:A}),this}}m.prototype._setDefaults=function(v){var _,A=u(this._defaults);try{for(A.s();!(_=A.n()).done;){const S=_.value;v[S.fn](...S.args)}}catch(S){A.e(S)}finally{A.f()}},c.exports=m},2968:(c,u,h)=>{function m(X,Y){var ne=typeof Symbol<"u"&&X[Symbol.iterator]||X["@@iterator"];if(!ne){if(Array.isArray(X)||(ne=function(Oe,Pe){if(Oe){if(typeof Oe=="string")return g(Oe,Pe);var Me=Object.prototype.toString.call(Oe).slice(8,-1);if(Me==="Object"&&Oe.constructor&&(Me=Oe.constructor.name),Me==="Map"||Me==="Set")return Array.from(Oe);if(Me==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Me))return g(Oe,Pe)}}(X))||Y){ne&&(X=ne);var ee=0,ue=function(){};return{s:ue,n:function(){return ee>=X.length?{done:!0}:{done:!1,value:X[ee++]}},e:function(Oe){throw Oe},f:ue}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Z,xe=!0,Ae=!1;return{s:function(){ne=ne.call(X)},n:function(){var Oe=ne.next();return xe=Oe.done,Oe},e:function(Oe){Ae=!0,Z=Oe},f:function(){try{xe||ne.return==null||ne.return()}finally{if(Ae)throw Z}}}}function g(X,Y){(Y==null||Y>X.length)&&(Y=X.length);for(var ne=0,ee=new Array(Y);ne<Y;ne++)ee[ne]=X[ne];return ee}let y;typeof window<"u"?y=window:typeof self>"u"?(console.warn("Using browser-only version of superagent in non-browser environment"),y=void 0):y=self;const v=h(8767),_=h(4445),A=h(129),S=h(8899),C=h(4506),T=C.isObject,N=C.mixin,j=C.hasOwn,O=h(1097),F=h(7903);function U(){}c.exports=function(X,Y){return typeof Y=="function"?new u.Request("GET",X).end(Y):arguments.length===1?new u.Request("GET",X):new u.Request(X,Y)};const V=u=c.exports;u.Request=$,V.getXHR=()=>{if(y.XMLHttpRequest)return new y.XMLHttpRequest;throw new Error("Browser-only version of superagent could not find XHR")};const B="".trim?X=>X.trim():X=>X.replace(/(^\s*|\s*$)/g,"");function K(X){if(!T(X))return X;const Y=[];for(const ne in X)j(X,ne)&&oe(Y,ne,X[ne]);return Y.join("&")}function oe(X,Y,ne){if(ne!==void 0)if(ne!==null)if(Array.isArray(ne)){var ee,ue=m(ne);try{for(ue.s();!(ee=ue.n()).done;)oe(X,Y,ee.value)}catch(Z){ue.e(Z)}finally{ue.f()}}else if(T(ne))for(const Z in ne)j(ne,Z)&&oe(X,`${Y}[${Z}]`,ne[Z]);else X.push(encodeURI(Y)+"="+encodeURIComponent(ne));else X.push(encodeURI(Y))}function me(X){const Y={},ne=X.split("&");let ee,ue;for(let Z=0,xe=ne.length;Z<xe;++Z)ee=ne[Z],ue=ee.indexOf("="),ue===-1?Y[decodeURIComponent(ee)]="":Y[decodeURIComponent(ee.slice(0,ue))]=decodeURIComponent(ee.slice(ue+1));return Y}function Q(X){return/[/+]json($|[^-\w])/i.test(X)}function ge(X){this.req=X,this.xhr=this.req.xhr,this.text=this.req.method!=="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||this.xhr.responseType===void 0?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;let Y=this.xhr.status;Y===1223&&(Y=204),this._setStatusProperties(Y),this.headers=function(ne){const ee=ne.split(/\r?\n/),ue={};let Z,xe,Ae,Oe;for(let Pe=0,Me=ee.length;Pe<Me;++Pe)xe=ee[Pe],Z=xe.indexOf(":"),Z!==-1&&(Ae=xe.slice(0,Z).toLowerCase(),Oe=B(xe.slice(Z+1)),ue[Ae]=Oe);return ue}(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.text===null&&X._responseType?this.body=this.xhr.response:this.body=this.req.method==="HEAD"?null:this._parseBody(this.text?this.text:this.xhr.response)}function $(X,Y){const ne=this;this._query=this._query||[],this.method=X,this.url=Y,this.header={},this._header={},this.on("end",()=>{let ee,ue=null,Z=null;try{Z=new ge(ne)}catch(xe){return ue=new Error("Parser is unable to parse the response"),ue.parse=!0,ue.original=xe,ne.xhr?(ue.rawResponse=ne.xhr.responseType===void 0?ne.xhr.responseText:ne.xhr.response,ue.status=ne.xhr.status?ne.xhr.status:null,ue.statusCode=ue.status):(ue.rawResponse=null,ue.status=null),ne.callback(ue)}ne.emit("response",Z);try{ne._isResponseOK(Z)||(ee=new Error(Z.statusText||Z.text||"Unsuccessful HTTP response"))}catch(xe){ee=xe}ee?(ee.original=ue,ee.response=Z,ee.status=ee.status||Z.status,ne.callback(ee,Z)):ne.callback(null,Z)})}V.serializeObject=K,V.parseString=me,V.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},V.serialize={"application/x-www-form-urlencoded":A.stringify,"application/json":_},V.parse={"application/x-www-form-urlencoded":me,"application/json":JSON.parse},N(ge.prototype,O.prototype),ge.prototype._parseBody=function(X){let Y=V.parse[this.type];return this.req._parser?this.req._parser(this,X):(!Y&&Q(this.type)&&(Y=V.parse["application/json"]),Y&&X&&(X.length>0||X instanceof Object)?Y(X):null)},ge.prototype.toError=function(){const X=this.req,Y=X.method,ne=X.url,ee=`cannot ${Y} ${ne} (${this.status})`,ue=new Error(ee);return ue.status=this.status,ue.method=Y,ue.url=ne,ue},V.Response=ge,v($.prototype),N($.prototype,S.prototype),$.prototype.type=function(X){return this.set("Content-Type",V.types[X]||X),this},$.prototype.accept=function(X){return this.set("Accept",V.types[X]||X),this},$.prototype.auth=function(X,Y,ne){arguments.length===1&&(Y=""),typeof Y=="object"&&Y!==null&&(ne=Y,Y=""),ne||(ne={type:typeof btoa=="function"?"basic":"auto"});const ee=ne.encoder?ne.encoder:ue=>{if(typeof btoa=="function")return btoa(ue);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(X,Y,ne,ee)},$.prototype.query=function(X){return typeof X!="string"&&(X=K(X)),X&&this._query.push(X),this},$.prototype.attach=function(X,Y,ne){if(Y){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(X,Y,ne||Y.name)}return this},$.prototype._getFormData=function(){return this._formData||(this._formData=new y.FormData),this._formData},$.prototype.callback=function(X,Y){if(this._shouldRetry(X,Y))return this._retry();const ne=this._callback;this.clearTimeout(),X&&(this._maxRetries&&(X.retries=this._retries-1),this.emit("error",X)),ne(X,Y)},$.prototype.crossDomainError=function(){const X=new Error(`Request has been terminated
Possible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.`);X.crossDomain=!0,X.status=this.status,X.method=this.method,X.url=this.url,this.callback(X)},$.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},$.prototype.ca=$.prototype.agent,$.prototype.buffer=$.prototype.ca,$.prototype.write=()=>{throw new Error("Streaming is not supported in browser version of superagent")},$.prototype.pipe=$.prototype.write,$.prototype._isHost=function(X){return X&&typeof X=="object"&&!Array.isArray(X)&&Object.prototype.toString.call(X)!=="[object Object]"},$.prototype.end=function(X){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=X||U,this._finalizeQueryString(),this._end()},$.prototype._setUploadTimeout=function(){const X=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout(()=>{X._timeoutError("Upload timeout of ",X._uploadTimeout,"ETIMEDOUT")},this._uploadTimeout))},$.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));const X=this;this.xhr=V.getXHR();const Y=this.xhr;let ne=this._formData||this._data;this._setTimeouts(),Y.addEventListener("readystatechange",()=>{const ue=Y.readyState;if(ue>=2&&X._responseTimeoutTimer&&clearTimeout(X._responseTimeoutTimer),ue!==4)return;let Z;try{Z=Y.status}catch{Z=0}if(!Z)return X.timedout||X._aborted?void 0:X.crossDomainError();X.emit("end")});const ee=(ue,Z)=>{Z.total>0&&(Z.percent=Z.loaded/Z.total*100,Z.percent===100&&clearTimeout(X._uploadTimeoutTimer)),Z.direction=ue,X.emit("progress",Z)};if(this.hasListeners("progress"))try{Y.addEventListener("progress",ee.bind(null,"download")),Y.upload&&Y.upload.addEventListener("progress",ee.bind(null,"upload"))}catch{}Y.upload&&this._setUploadTimeout();try{this.username&&this.password?Y.open(this.method,this.url,!0,this.username,this.password):Y.open(this.method,this.url,!0)}catch(ue){return this.callback(ue)}if(this._withCredentials&&(Y.withCredentials=!0),!this._formData&&this.method!=="GET"&&this.method!=="HEAD"&&typeof ne!="string"&&!this._isHost(ne)){const ue=this._header["content-type"];let Z=this._serializer||V.serialize[ue?ue.split(";")[0]:""];!Z&&Q(ue)&&(Z=V.serialize["application/json"]),Z&&(ne=Z(ne))}for(const ue in this.header)this.header[ue]!==null&&j(this.header,ue)&&Y.setRequestHeader(ue,this.header[ue]);this._responseType&&(Y.responseType=this._responseType),this.emit("request",this),Y.send(ne===void 0?null:ne)},V.agent=()=>new F;for(var De=0,ie=["GET","POST","OPTIONS","PATCH","PUT","DELETE"];De<ie.length;De++){const X=ie[De];F.prototype[X.toLowerCase()]=function(Y,ne){const ee=new V.Request(X,Y);return this._setDefaults(ee),ne&&ee.end(ne),ee}}function ce(X,Y,ne){const ee=V("DELETE",X);return typeof Y=="function"&&(ne=Y,Y=null),Y&&ee.send(Y),ne&&ee.end(ne),ee}F.prototype.del=F.prototype.delete,V.get=(X,Y,ne)=>{const ee=V("GET",X);return typeof Y=="function"&&(ne=Y,Y=null),Y&&ee.query(Y),ne&&ee.end(ne),ee},V.head=(X,Y,ne)=>{const ee=V("HEAD",X);return typeof Y=="function"&&(ne=Y,Y=null),Y&&ee.query(Y),ne&&ee.end(ne),ee},V.options=(X,Y,ne)=>{const ee=V("OPTIONS",X);return typeof Y=="function"&&(ne=Y,Y=null),Y&&ee.send(Y),ne&&ee.end(ne),ee},V.del=ce,V.delete=ce,V.patch=(X,Y,ne)=>{const ee=V("PATCH",X);return typeof Y=="function"&&(ne=Y,Y=null),Y&&ee.send(Y),ne&&ee.end(ne),ee},V.post=(X,Y,ne)=>{const ee=V("POST",X);return typeof Y=="function"&&(ne=Y,Y=null),Y&&ee.send(Y),ne&&ee.end(ne),ee},V.put=(X,Y,ne)=>{const ee=V("PUT",X);return typeof Y=="function"&&(ne=Y,Y=null),Y&&ee.send(Y),ne&&ee.end(ne),ee}},8899:(c,u,h)=>{const m=h(3695),g=h(4506),y=g.isObject,v=g.hasOwn;function _(){}c.exports=_,_.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},_.prototype.parse=function(C){return this._parser=C,this},_.prototype.responseType=function(C){return this._responseType=C,this},_.prototype.serialize=function(C){return this._serializer=C,this},_.prototype.timeout=function(C){if(!C||typeof C!="object")return this._timeout=C,this._responseTimeout=0,this._uploadTimeout=0,this;for(const T in C)if(v(C,T))switch(T){case"deadline":this._timeout=C.deadline;break;case"response":this._responseTimeout=C.response;break;case"upload":this._uploadTimeout=C.upload;break;default:console.warn("Unknown timeout option",T)}return this},_.prototype.retry=function(C,T){return arguments.length!==0&&C!==!0||(C=1),C<=0&&(C=0),this._maxRetries=C,this._retries=0,this._retryCallback=T,this};const A=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),S=new Set([408,413,429,500,502,503,504,521,522,524]);_.prototype._shouldRetry=function(C,T){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{const N=this._retryCallback(C,T);if(N===!0)return!0;if(N===!1)return!1}catch(N){console.error(N)}return!!(T&&T.status&&S.has(T.status)||C&&(C.code&&A.has(C.code)||C.timeout&&C.code==="ECONNABORTED"||C.crossDomain))},_.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},_.prototype.then=function(C,T){if(!this._fullfilledPromise){const N=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise((j,O)=>{N.on("abort",()=>{if(this._maxRetries&&this._maxRetries>this._retries)return;if(this.timedout&&this.timedoutError)return void O(this.timedoutError);const F=new Error("Aborted");F.code="ABORTED",F.status=this.status,F.method=this.method,F.url=this.url,O(F)}),N.end((F,U)=>{F?O(F):j(U)})})}return this._fullfilledPromise.then(C,T)},_.prototype.catch=function(C){return this.then(void 0,C)},_.prototype.use=function(C){return C(this),this},_.prototype.ok=function(C){if(typeof C!="function")throw new Error("Callback required");return this._okCallback=C,this},_.prototype._isResponseOK=function(C){return!!C&&(this._okCallback?this._okCallback(C):C.status>=200&&C.status<300)},_.prototype.get=function(C){return this._header[C.toLowerCase()]},_.prototype.getHeader=_.prototype.get,_.prototype.set=function(C,T){if(y(C)){for(const N in C)v(C,N)&&this.set(N,C[N]);return this}return this._header[C.toLowerCase()]=T,this.header[C]=T,this},_.prototype.unset=function(C){return delete this._header[C.toLowerCase()],delete this.header[C],this},_.prototype.field=function(C,T,N){if(C==null)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(y(C)){for(const j in C)v(C,j)&&this.field(j,C[j]);return this}if(Array.isArray(T)){for(const j in T)v(T,j)&&this.field(C,T[j]);return this}if(T==null)throw new Error(".field(name, val) val can not be empty");return typeof T=="boolean"&&(T=String(T)),N?this._getFormData().append(C,T,N):this._getFormData().append(C,T),this},_.prototype.abort=function(){if(this._aborted)return this;if(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req){if(m.gte(process.version,"v13.0.0")&&m.lt(process.version,"v14.0.0"))throw new Error("Superagent does not work in v13 properly with abort() due to Node.js core changes");this.req.abort()}return this.clearTimeout(),this.emit("abort"),this},_.prototype._auth=function(C,T,N,j){switch(N.type){case"basic":this.set("Authorization",`Basic ${j(`${C}:${T}`)}`);break;case"auto":this.username=C,this.password=T;break;case"bearer":this.set("Authorization",`Bearer ${C}`)}return this},_.prototype.withCredentials=function(C){return C===void 0&&(C=!0),this._withCredentials=C,this},_.prototype.redirects=function(C){return this._maxRedirects=C,this},_.prototype.maxResponseSize=function(C){if(typeof C!="number")throw new TypeError("Invalid argument");return this._maxResponseSize=C,this},_.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},_.prototype.send=function(C){const T=y(C);let N=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(T&&!this._data)Array.isArray(C)?this._data=[]:this._isHost(C)||(this._data={});else if(C&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(T&&y(this._data))for(const j in C){if(typeof C[j]=="bigint"&&!C[j].toJSON)throw new Error("Cannot serialize BigInt value to json");v(C,j)&&(this._data[j]=C[j])}else{if(typeof C=="bigint")throw new Error("Cannot send value of type BigInt");typeof C=="string"?(N||this.type("form"),N=this._header["content-type"],N&&(N=N.toLowerCase().trim()),this._data=N==="application/x-www-form-urlencoded"?this._data?`${this._data}&${C}`:C:(this._data||"")+C):this._data=C}return!T||this._isHost(C)||N||this.type("json"),this},_.prototype.sortQuery=function(C){return this._sort=C===void 0||C,this},_.prototype._finalizeQueryString=function(){const C=this._query.join("&");if(C&&(this.url+=(this.url.includes("?")?"&":"?")+C),this._query.length=0,this._sort){const T=this.url.indexOf("?");if(T>=0){const N=this.url.slice(T+1).split("&");typeof this._sort=="function"?N.sort(this._sort):N.sort(),this.url=this.url.slice(0,T)+"?"+N.join("&")}}},_.prototype._appendQueryString=()=>{console.warn("Unsupported")},_.prototype._timeoutError=function(C,T,N){if(this._aborted)return;const j=new Error(`${C+T}ms exceeded`);j.timeout=T,j.code="ECONNABORTED",j.errno=N,this.timedout=!0,this.timedoutError=j,this.abort(),this.callback(j)},_.prototype._setTimeouts=function(){const C=this;this._timeout&&!this._timer&&(this._timer=setTimeout(()=>{C._timeoutError("Timeout of ",C._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(()=>{C._timeoutError("Response timeout of ",C._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},1097:(c,u,h)=>{const m=h(4506);function g(){}c.exports=g,g.prototype.get=function(y){return this.header[y.toLowerCase()]},g.prototype._setHeaderProperties=function(y){const v=y["content-type"]||"";this.type=m.type(v);const _=m.params(v);for(const A in _)Object.prototype.hasOwnProperty.call(_,A)&&(this[A]=_[A]);this.links={};try{y.link&&(this.links=m.parseLinks(y.link))}catch{}},g.prototype._setStatusProperties=function(y){const v=Math.trunc(y/100);this.statusCode=y,this.status=this.statusCode,this.statusType=v,this.info=v===1,this.ok=v===2,this.redirect=v===3,this.clientError=v===4,this.serverError=v===5,this.error=(v===4||v===5)&&this.toError(),this.created=y===201,this.accepted=y===202,this.noContent=y===204,this.badRequest=y===400,this.unauthorized=y===401,this.notAcceptable=y===406,this.forbidden=y===403,this.notFound=y===404,this.unprocessableEntity=y===422}},4506:(c,u)=>{function h(g,y){var v=typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(!v){if(Array.isArray(g)||(v=function(N,j){if(N){if(typeof N=="string")return m(N,j);var O=Object.prototype.toString.call(N).slice(8,-1);if(O==="Object"&&N.constructor&&(O=N.constructor.name),O==="Map"||O==="Set")return Array.from(N);if(O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O))return m(N,j)}}(g))||y){v&&(g=v);var _=0,A=function(){};return{s:A,n:function(){return _>=g.length?{done:!0}:{done:!1,value:g[_++]}},e:function(N){throw N},f:A}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var S,C=!0,T=!1;return{s:function(){v=v.call(g)},n:function(){var N=v.next();return C=N.done,N},e:function(N){T=!0,S=N},f:function(){try{C||v.return==null||v.return()}finally{if(T)throw S}}}}function m(g,y){(y==null||y>g.length)&&(y=g.length);for(var v=0,_=new Array(y);v<y;v++)_[v]=g[v];return _}u.type=g=>g.split(/ *; */).shift(),u.params=g=>{const y={};var v,_=h(g.split(/ *; */));try{for(_.s();!(v=_.n()).done;){const A=v.value.split(/ *= */),S=A.shift(),C=A.shift();S&&C&&(y[S]=C)}}catch(A){_.e(A)}finally{_.f()}return y},u.parseLinks=g=>{const y={};var v,_=h(g.split(/ *, */));try{for(_.s();!(v=_.n()).done;){const A=v.value.split(/ *; */),S=A[0].slice(1,-1);y[A[1].split(/ *= */)[1].slice(1,-1)]=S}}catch(A){_.e(A)}finally{_.f()}return y},u.cleanHeader=(g,y)=>(delete g["content-type"],delete g["content-length"],delete g["transfer-encoding"],delete g.host,y&&(delete g.authorization,delete g.cookie),g),u.isObject=g=>g!==null&&typeof g=="object",u.hasOwn=Object.hasOwn||function(g,y){if(g==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(new Object(g),y)},u.mixin=(g,y)=>{for(const v in y)u.hasOwn(y,v)&&(g[v]=y[v])}},2739:c=>{c.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4="},6631:c=>{c.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg=="},7511:c=>{c.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4="},4493:c=>{c.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4="},4654:()=>{},3695:()=>{}},r={};function o(c){var u=r[c];if(u!==void 0)return u.exports;var h=r[c]={id:c,exports:{}};return i[c](h,h.exports,o),h.exports}o.m=i,o.n=c=>{var u=c&&c.__esModule?()=>c.default:()=>c;return o.d(u,{a:u}),u},o.d=(c,u)=>{for(var h in u)o.o(u,h)&&!o.o(c,h)&&Object.defineProperty(c,h,{enumerable:!0,get:u[h]})},o.o=(c,u)=>Object.prototype.hasOwnProperty.call(c,u),o.b=document.baseURI||self.location.href;var l={};return(()=>{function c({emitter:f,activator:t,callback:s,contextElements:a}){f.listenTo(document,"mousedown",(d,p)=>{if(!t())return;const w=typeof p.composedPath=="function"?p.composedPath():[],k=typeof a=="function"?a():a;for(const D of k)if(D.contains(p.target)||w.includes(D))return;s()})}function u(f){return class extends f{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...t){super(...t),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function h({view:f}){f.listenTo(f.element,"submit",(t,s)=>{s.preventDefault(),f.fire("submit")},{useCapture:!0})}o.d(l,{default:()=>Rj});const m=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}(),g={isMac:v(m),isWindows:function(f){return f.indexOf("windows")>-1}(m),isGecko:function(f){return!!f.match(/gecko\/\d+/)}(m),isSafari:function(f){return f.indexOf(" applewebkit/")>-1&&f.indexOf("chrome")===-1}(m),isiOS:function(f){return!!f.match(/iphone|ipad/i)||v(f)&&navigator.maxTouchPoints>0}(m),isAndroid:function(f){return f.indexOf("android")>-1}(m),isBlink:function(f){return f.indexOf("chrome/")>-1&&f.indexOf("edge/")<0}(m),features:{isRegExpUnicodePropertySupported:function(){let f=!1;try{f="ć".search(new RegExp("[\\p{L}]","u"))===0}catch{}return f}()}},y=g;function v(f){return f.indexOf("macintosh")>-1}function _(f,t,s,a){s=s||function(D,R){return D===R};const d=Array.isArray(f)?f:Array.prototype.slice.call(f),p=Array.isArray(t)?t:Array.prototype.slice.call(t),w=function(D,R,M){const L=A(D,R,M);if(L===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const W=S(D,L),J=S(R,L),re=A(W,J,M),ae=D.length-re,ve=R.length-re;return{firstIndex:L,lastIndexOld:ae,lastIndexNew:ve}}(d,p,s);return a?function(D,R){const{firstIndex:M,lastIndexOld:L,lastIndexNew:W}=D;if(M===-1)return Array(R).fill("equal");let J=[];return M>0&&(J=J.concat(Array(M).fill("equal"))),W-M>0&&(J=J.concat(Array(W-M).fill("insert"))),L-M>0&&(J=J.concat(Array(L-M).fill("delete"))),W<R&&(J=J.concat(Array(R-W).fill("equal"))),J}(w,p.length):function(D,R){const M=[],{firstIndex:L,lastIndexOld:W,lastIndexNew:J}=R;return J-L>0&&M.push({index:L,type:"insert",values:D.slice(L,J)}),W-L>0&&M.push({index:L+(J-L),type:"delete",howMany:W-L}),M}(p,w)}function A(f,t,s){for(let a=0;a<Math.max(f.length,t.length);a++)if(f[a]===void 0||t[a]===void 0||!s(f[a],t[a]))return a;return-1}function S(f,t){return f.slice(t).reverse()}function C(f,t,s){s=s||function(ae,ve){return ae===ve};const a=f.length,d=t.length;if(a>200||d>200||a+d>300)return C.fastDiff(f,t,s,!0);let p,w;if(d<a){const ae=f;f=t,t=ae,p="delete",w="insert"}else p="insert",w="delete";const k=f.length,D=t.length,R=D-k,M={},L={};function W(ae){const ve=(L[ae-1]!==void 0?L[ae-1]:-1)+1,je=L[ae+1]!==void 0?L[ae+1]:-1,$e=ve>je?-1:1;M[ae+$e]&&(M[ae]=M[ae+$e].slice(0)),M[ae]||(M[ae]=[]),M[ae].push(ve>je?p:w);let Qe=Math.max(ve,je),St=Qe-ae;for(;St<k&&Qe<D&&s(f[St],t[Qe]);)St++,Qe++,M[ae].push("equal");return Qe}let J,re=0;do{for(J=-re;J<R;J++)L[J]=W(J);for(J=R+re;J>R;J--)L[J]=W(J);L[R]=W(R),re++}while(L[R]!==D);return M[R].slice(1)}C.fastDiff=_;const T=function(){return function f(){f.called=!0}};class N{constructor(t,s){this.source=t,this.name=s,this.path=[],this.stop=T(),this.off=T()}}const j=new Array(256).fill("").map((f,t)=>("0"+t.toString(16)).slice(-2));function O(){const f=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,s=4294967296*Math.random()>>>0,a=4294967296*Math.random()>>>0;return"e"+j[f>>0&255]+j[f>>8&255]+j[f>>16&255]+j[f>>24&255]+j[t>>0&255]+j[t>>8&255]+j[t>>16&255]+j[t>>24&255]+j[s>>0&255]+j[s>>8&255]+j[s>>16&255]+j[s>>24&255]+j[a>>0&255]+j[a>>8&255]+j[a>>16&255]+j[a>>24&255]}const F={get(f="normal"){return typeof f!="number"?this[f]||this.normal:f},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function U(f,t){const s=F.get(t.priority);for(let a=0;a<f.length;a++)if(F.get(f[a].priority)<s)return void f.splice(a,0,t);f.push(t)}const V="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class B extends Error{constructor(t,s,a){super(function(d,p){const w=new WeakSet,k=(M,L)=>{if(typeof L=="object"&&L!==null){if(w.has(L))return`[object ${L.constructor.name}]`;w.add(L)}return L},D=p?` ${JSON.stringify(p,k)}`:"",R=oe(d);return d+D+R}(t,a)),this.name="CKEditorError",this.context=s,this.data=a}is(t){return t==="CKEditorError"}static rethrowUnexpectedError(t,s){if(t.is&&t.is("CKEditorError"))throw t;const a=new B(t.message,s);throw a.stack=t.stack,a}}function K(f,t){console.warn(...me(f,t))}function oe(f){return`
Read more: ${V}#error-${f}`}function me(f,t){const s=oe(f);return t?[f,t,s]:[f,s]}const Q="40.0.0",ge=new Date(2023,9,4);if(globalThis.CKEDITOR_VERSION)throw new B("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=Q;const $=Symbol("listeningTo"),De=Symbol("emitterId"),ie=Symbol("delegations"),ce=X(Object);function X(f){return f?class extends f{on(t,s,a){this.listenTo(this,t,s,a)}once(t,s,a){let d=!1;this.listenTo(this,t,(p,...w)=>{d||(d=!0,p.off(),s.call(this,p,...w))},a)}off(t,s){this.stopListening(this,t,s)}listenTo(t,s,a,d={}){let p,w;this[$]||(this[$]={});const k=this[$];ne(t)||Y(t);const D=ne(t);(p=k[D])||(p=k[D]={emitter:t,callbacks:{}}),(w=p.callbacks[s])||(w=p.callbacks[s]=[]),w.push(a),function(R,M,L,W,J){M._addEventListener?M._addEventListener(L,W,J):R._addEventListener.call(M,L,W,J)}(this,t,s,a,d)}stopListening(t,s,a){const d=this[$];let p=t&&ne(t);const w=d&&p?d[p]:void 0,k=w&&s?w.callbacks[s]:void 0;if(!(!d||t&&!w||s&&!k))if(a)Ae(this,t,s,a),k.indexOf(a)!==-1&&(k.length===1?delete w.callbacks[s]:Ae(this,t,s,a));else if(k){for(;a=k.pop();)Ae(this,t,s,a);delete w.callbacks[s]}else if(w){for(s in w.callbacks)this.stopListening(t,s);delete d[p]}else{for(p in d)this.stopListening(d[p].emitter);delete this[$]}}fire(t,...s){try{const a=t instanceof N?t:new N(this,t),d=a.name;let p=Z(this,d);if(a.path.push(this),p){const k=[a,...s];p=Array.from(p);for(let D=0;D<p.length&&(p[D].callback.apply(this,k),a.off.called&&(delete a.off.called,this._removeEventListener(d,p[D].callback)),!a.stop.called);D++);}const w=this[ie];if(w){const k=w.get(d),D=w.get("*");k&&xe(k,a,s),D&&xe(D,a,s)}return a.return}catch(a){B.rethrowUnexpectedError(a,this)}}delegate(...t){return{to:(s,a)=>{this[ie]||(this[ie]=new Map),t.forEach(d=>{const p=this[ie].get(d);p?p.set(s,a):this[ie].set(d,new Map([[s,a]]))})}}}stopDelegating(t,s){if(this[ie])if(t)if(s){const a=this[ie].get(t);a&&a.delete(s)}else this[ie].delete(t);else this[ie].clear()}_addEventListener(t,s,a){(function(w,k){const D=ee(w);if(D[k])return;let R=k,M=null;const L=[];for(;R!==""&&!D[R];)D[R]={callbacks:[],childEvents:[]},L.push(D[R]),M&&D[R].childEvents.push(M),M=R,R=R.substr(0,R.lastIndexOf(":"));if(R!==""){for(const W of L)W.callbacks=D[R].callbacks.slice();D[R].childEvents.push(M)}})(this,t);const d=ue(this,t),p={callback:s,priority:F.get(a.priority)};for(const w of d)U(w,p)}_removeEventListener(t,s){const a=ue(this,t);for(const d of a)for(let p=0;p<d.length;p++)d[p].callback==s&&(d.splice(p,1),p--)}}:ce}function Y(f,t){f[De]||(f[De]=t||O())}function ne(f){return f[De]}function ee(f){return f._events||Object.defineProperty(f,"_events",{value:{}}),f._events}function ue(f,t){const s=ee(f)[t];if(!s)return[];let a=[s.callbacks];for(let d=0;d<s.childEvents.length;d++){const p=ue(f,s.childEvents[d]);a=a.concat(p)}return a}function Z(f,t){let s;return f._events&&(s=f._events[t])&&s.callbacks.length?s.callbacks:t.indexOf(":")>-1?Z(f,t.substr(0,t.lastIndexOf(":"))):null}function xe(f,t,s){for(let[a,d]of f){d?typeof d=="function"&&(d=d(t.name)):d=t.name;const p=new N(t.source,d);p.path=[...t.path],a.fire(p,...s)}}function Ae(f,t,s,a){t._removeEventListener?t._removeEventListener(s,a):f._removeEventListener.call(t,s,a)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(f=>{X[f]=ce.prototype[f]});const Oe=function(f){var t=typeof f;return f!=null&&(t=="object"||t=="function")},Pe=Symbol("observableProperties"),Me=Symbol("boundObservables"),Ve=Symbol("boundProperties"),Le=Symbol("decoratedMethods"),Ee=Symbol("decoratedOriginal"),we=ze(X());function ze(f){return f?class extends f{set(t,s){if(Oe(t))return void Object.keys(t).forEach(d=>{this.set(d,t[d])},this);G(this);const a=this[Pe];if(t in this&&!a.has(t))throw new B("observable-set-cannot-override",this);Object.defineProperty(this,t,{enumerable:!0,configurable:!0,get:()=>a.get(t),set(d){const p=a.get(t);let w=this.fire(`set:${t}`,t,d,p);w===void 0&&(w=d),p===w&&a.has(t)||(a.set(t,w),this.fire(`change:${t}`,t,w,p))}}),this[t]=s}bind(...t){if(!t.length||!be(t))throw new B("observable-bind-wrong-properties",this);if(new Set(t).size!==t.length)throw new B("observable-bind-duplicate-properties",this);G(this);const s=this[Ve];t.forEach(d=>{if(s.has(d))throw new B("observable-bind-rebind",this)});const a=new Map;return t.forEach(d=>{const p={property:d,to:[]};s.set(d,p),a.set(d,p)}),{to:Ce,toMany:Ie,_observable:this,_bindProperties:t,_to:[],_bindings:a}}unbind(...t){if(!this[Pe])return;const s=this[Ve],a=this[Me];if(t.length){if(!be(t))throw new B("observable-unbind-wrong-properties",this);t.forEach(d=>{const p=s.get(d);p&&(p.to.forEach(([w,k])=>{const D=a.get(w),R=D[k];R.delete(p),R.size||delete D[k],Object.keys(D).length||(a.delete(w),this.stopListening(w,"change"))}),s.delete(d))})}else a.forEach((d,p)=>{this.stopListening(p,"change")}),a.clear(),s.clear()}decorate(t){G(this);const s=this[t];if(!s)throw new B("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:t});this.on(t,(a,d)=>{a.return=s.apply(this,d)}),this[t]=function(...a){return this.fire(t,a)},this[t][Ee]=s,this[Le]||(this[Le]=[]),this[Le].push(t)}stopListening(t,s,a){if(!t&&this[Le]){for(const d of this[Le])this[d]=this[d][Ee];delete this[Le]}super.stopListening(t,s,a)}}:we}function G(f){f[Pe]||(Object.defineProperty(f,Pe,{value:new Map}),Object.defineProperty(f,Me,{value:new Map}),Object.defineProperty(f,Ve,{value:new Map}))}function Ce(...f){const t=function(...p){if(!p.length)throw new B("observable-bind-to-parse-error",null);const w={to:[]};let k;return typeof p[p.length-1]=="function"&&(w.callback=p.pop()),p.forEach(D=>{if(typeof D=="string")k.properties.push(D);else{if(typeof D!="object")throw new B("observable-bind-to-parse-error",null);k={observable:D,properties:[]},w.to.push(k)}}),w}(...f),s=Array.from(this._bindings.keys()),a=s.length;if(!t.callback&&t.to.length>1)throw new B("observable-bind-to-no-callback",this);if(a>1&&t.callback)throw new B("observable-bind-to-extra-callback",this);var d;t.to.forEach(p=>{if(p.properties.length&&p.properties.length!==a)throw new B("observable-bind-to-properties-length",this);p.properties.length||(p.properties=this._bindProperties)}),this._to=t.to,t.callback&&(this._bindings.get(s[0]).callback=t.callback),d=this._observable,this._to.forEach(p=>{const w=d[Me];let k;w.get(p.observable)||d.listenTo(p.observable,"change",(D,R)=>{k=w.get(p.observable)[R],k&&k.forEach(M=>{_e(d,M.property)})})}),function(p){let w;p._bindings.forEach((k,D)=>{p._to.forEach(R=>{w=R.properties[k.callback?0:p._bindProperties.indexOf(D)],k.to.push([R.observable,w]),function(M,L,W,J){const re=M[Me],ae=re.get(W),ve=ae||{};ve[J]||(ve[J]=new Set),ve[J].add(L),ae||re.set(W,ve)}(p._observable,k,R.observable,w)})})}(this),this._bindProperties.forEach(p=>{_e(this._observable,p)})}function Ie(f,t,s){if(this._bindings.size>1)throw new B("observable-bind-to-many-not-one-binding",this);this.to(...function(a,d){const p=a.map(w=>[w,d]);return Array.prototype.concat.apply([],p)}(f,t),s)}function be(f){return f.every(t=>typeof t=="string")}function _e(f,t){const s=f[Ve].get(t);let a;s.callback?a=s.callback.apply(f,s.to.map(d=>d[0][d[1]])):(a=s.to[0],a=a[0][a[1]]),Object.prototype.hasOwnProperty.call(f,t)?f[t]=a:f.set(t,a)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(f=>{ze[f]=we.prototype[f]});class Se{constructor(){this._replacedElements=[]}replace(t,s){this._replacedElements.push({element:t,newElement:s}),t.style.display="none",s&&t.parentNode.insertBefore(s,t.nextSibling)}restore(){this._replacedElements.forEach(({element:t,newElement:s})=>{t.style.display="",s&&s.remove()}),this._replacedElements=[]}}function He(f){let t=0;for(const s of f)t++;return t}function qe(f,t){const s=Math.min(f.length,t.length);for(let a=0;a<s;a++)if(f[a]!=t[a])return a;return f.length==t.length?"same":f.length<t.length?"prefix":"extension"}function Fe(f){return!(!f||!f[Symbol.iterator])}const Te=typeof Lt=="object"&&Lt&&Lt.Object===Object&&Lt;var ke=typeof self=="object"&&self&&self.Object===Object&&self;const le=Te||ke||Function("return this")(),Ue=le.Symbol;var et=Object.prototype,nt=et.hasOwnProperty,ct=et.toString,ht=Ue?Ue.toStringTag:void 0;const Pt=function(f){var t=nt.call(f,ht),s=f[ht];try{f[ht]=void 0;var a=!0}catch{}var d=ct.call(f);return a&&(t?f[ht]=s:delete f[ht]),d};var Bt=Object.prototype.toString;const bt=function(f){return Bt.call(f)};var Yt=Ue?Ue.toStringTag:void 0;const mn=function(f){return f==null?f===void 0?"[object Undefined]":"[object Null]":Yt&&Yt in Object(f)?Pt(f):bt(f)},qt=Array.isArray,Vn=function(f){return f!=null&&typeof f=="object"},rs=function(f){return typeof f=="string"||!qt(f)&&Vn(f)&&mn(f)=="[object String]"};function Ir(f,t,s={},a=[]){const d=s&&s.xmlns,p=d?f.createElementNS(d,t):f.createElement(t);for(const w in s)p.setAttribute(w,s[w]);!rs(a)&&Fe(a)||(a=[a]);for(let w of a)rs(w)&&(w=f.createTextNode(w)),p.appendChild(w);return p}const Rr=function(f,t){return function(s){return f(t(s))}},ji=Rr(Object.getPrototypeOf,Object);var bi=Function.prototype,yi=Object.prototype,vi=bi.toString,wt=yi.hasOwnProperty,Ht=vi.call(Object);const sn=function(f){if(!Vn(f)||mn(f)!="[object Object]")return!1;var t=ji(f);if(t===null)return!0;var s=wt.call(t,"constructor")&&t.constructor;return typeof s=="function"&&s instanceof s&&vi.call(s)==Ht},Wn=function(){this.__data__=[],this.size=0},Xn=function(f,t){return f===t||f!=f&&t!=t},Mr=function(f,t){for(var s=f.length;s--;)if(Xn(f[s][0],t))return s;return-1};var Ji=Array.prototype.splice;const ft=function(f){var t=this.__data__,s=Mr(t,f);return!(s<0)&&(s==t.length-1?t.pop():Ji.call(t,s,1),--this.size,!0)},An=function(f){var t=this.__data__,s=Mr(t,f);return s<0?void 0:t[s][1]},js=function(f){return Mr(this.__data__,f)>-1},ss=function(f,t){var s=this.__data__,a=Mr(s,f);return a<0?(++this.size,s.push([f,t])):s[a][1]=t,this};function Is(f){var t=-1,s=f==null?0:f.length;for(this.clear();++t<s;){var a=f[t];this.set(a[0],a[1])}}Is.prototype.clear=Wn,Is.prototype.delete=ft,Is.prototype.get=An,Is.prototype.has=js,Is.prototype.set=ss;const ol=Is,Mo=function(){this.__data__=new ol,this.size=0},al=function(f){var t=this.__data__,s=t.delete(f);return this.size=t.size,s},Oo=function(f){return this.__data__.get(f)},ll=function(f){return this.__data__.has(f)},so=function(f){if(!Oe(f))return!1;var t=mn(f);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"},Rs=le["__core-js_shared__"];var Si=function(){var f=/[^.]+$/.exec(Rs&&Rs.keys&&Rs.keys.IE_PROTO||"");return f?"Symbol(src)_1."+f:""}();const cl=function(f){return!!Si&&Si in f};var Ms=Function.prototype.toString;const Or=function(f){if(f!=null){try{return Ms.call(f)}catch{}try{return f+""}catch{}}return""};var os=/^\[object .+?Constructor\]$/,ul=Function.prototype,lc=Object.prototype,su=ul.toString,Ym=lc.hasOwnProperty,ma=RegExp("^"+su.call(Ym).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const xf=function(f){return!(!Oe(f)||cl(f))&&(so(f)?ma:os).test(Or(f))},_f=function(f,t){return f==null?void 0:f[t]},Ii=function(f,t){var s=_f(f,t);return xf(s)?s:void 0},dl=Ii(le,"Map"),hl=Ii(Object,"create"),fl=function(){this.__data__=hl?hl(null):{},this.size=0},Zm=function(f){var t=this.has(f)&&delete this.__data__[f];return this.size-=t?1:0,t};var Cd=Object.prototype.hasOwnProperty;const ou=function(f){var t=this.__data__;if(hl){var s=t[f];return s==="__lodash_hash_undefined__"?void 0:s}return Cd.call(t,f)?t[f]:void 0};var oo=Object.prototype.hasOwnProperty;const Fo=function(f){var t=this.__data__;return hl?t[f]!==void 0:oo.call(t,f)},ao=function(f,t){var s=this.__data__;return this.size+=this.has(f)?0:1,s[f]=hl&&t===void 0?"__lodash_hash_undefined__":t,this};function cr(f){var t=-1,s=f==null?0:f.length;for(this.clear();++t<s;){var a=f[t];this.set(a[0],a[1])}}cr.prototype.clear=fl,cr.prototype.delete=Zm,cr.prototype.get=ou,cr.prototype.has=Fo,cr.prototype.set=ao;const ga=cr,cc=function(){this.size=0,this.__data__={hash:new ga,map:new(dl||ol),string:new ga}},pl=function(f){var t=typeof f;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?f!=="__proto__":f===null},uc=function(f,t){var s=f.__data__;return pl(t)?s[typeof t=="string"?"string":"hash"]:s.map},at=function(f){var t=uc(this,f).delete(f);return this.size-=t?1:0,t},gt=function(f){return uc(this,f).get(f)},_t=function(f){return uc(this,f).has(f)},oi=function(f,t){var s=uc(this,f),a=s.size;return s.set(f,t),this.size+=s.size==a?0:1,this};function wi(f){var t=-1,s=f==null?0:f.length;for(this.clear();++t<s;){var a=f[t];this.set(a[0],a[1])}}wi.prototype.clear=cc,wi.prototype.delete=at,wi.prototype.get=gt,wi.prototype.has=_t,wi.prototype.set=oi;const Fr=wi,au=function(f,t){var s=this.__data__;if(s instanceof ol){var a=s.__data__;if(!dl||a.length<199)return a.push([f,t]),this.size=++s.size,this;s=this.__data__=new Fr(a)}return s.set(f,t),this.size=s.size,this};function wr(f){var t=this.__data__=new ol(f);this.size=t.size}wr.prototype.clear=Mo,wr.prototype.delete=al,wr.prototype.get=Oo,wr.prototype.has=ll,wr.prototype.set=au;const lo=wr,Td=function(f,t){for(var s=-1,a=f==null?0:f.length;++s<a&&t(f[s],s,f)!==!1;);return f},ba=function(){try{var f=Ii(Object,"defineProperty");return f({},"",{}),f}catch{}}(),Dd=function(f,t,s){t=="__proto__"&&ba?ba(f,t,{configurable:!0,enumerable:!0,value:s,writable:!0}):f[t]=s};var K0=Object.prototype.hasOwnProperty;const lu=function(f,t,s){var a=f[t];K0.call(f,t)&&Xn(a,s)&&(s!==void 0||t in f)||Dd(f,t,s)},ml=function(f,t,s,a){var d=!s;s||(s={});for(var p=-1,w=t.length;++p<w;){var k=t[p],D=void 0;D===void 0&&(D=f[k]),d?Dd(s,k,D):lu(s,k,D)}return s},Jm=function(f,t){for(var s=-1,a=Array(f);++s<f;)a[s]=t(s);return a},Qm=function(f){return Vn(f)&&mn(f)=="[object Arguments]"};var eg=Object.prototype,Y0=eg.hasOwnProperty,tg=eg.propertyIsEnumerable;const ng=Qm(function(){return arguments}())?Qm:function(f){return Vn(f)&&Y0.call(f,"callee")&&!tg.call(f,"callee")},kf=function(){return!1};var Pn=e&&!e.nodeType&&e,gl=Pn&&!0&&n&&!n.nodeType&&n,cu=gl&&gl.exports===Pn?le.Buffer:void 0;const uu=(cu?cu.isBuffer:void 0)||kf;var Ef=/^(?:0|[1-9]\d*)$/;const bl=function(f,t){var s=typeof f;return!!(t=t??9007199254740991)&&(s=="number"||s!="symbol"&&Ef.test(f))&&f>-1&&f%1==0&&f<t},Nd=function(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=9007199254740991};var jn={};jn["[object Float32Array]"]=jn["[object Float64Array]"]=jn["[object Int8Array]"]=jn["[object Int16Array]"]=jn["[object Int32Array]"]=jn["[object Uint8Array]"]=jn["[object Uint8ClampedArray]"]=jn["[object Uint16Array]"]=jn["[object Uint32Array]"]=!0,jn["[object Arguments]"]=jn["[object Array]"]=jn["[object ArrayBuffer]"]=jn["[object Boolean]"]=jn["[object DataView]"]=jn["[object Date]"]=jn["[object Error]"]=jn["[object Function]"]=jn["[object Map]"]=jn["[object Number]"]=jn["[object Object]"]=jn["[object RegExp]"]=jn["[object Set]"]=jn["[object String]"]=jn["[object WeakMap]"]=!1;const yl=function(f){return Vn(f)&&Nd(f.length)&&!!jn[mn(f)]},Sf=function(f){return function(t){return f(t)}};var Z0=e&&!e.nodeType&&e,Pd=Z0&&!0&&n&&!n.nodeType&&n,jd=Pd&&Pd.exports===Z0&&Te.process;const co=function(){try{var f=Pd&&Pd.require&&Pd.require("util").types;return f||jd&&jd.binding&&jd.binding("util")}catch{}}();var Af=co&&co.isTypedArray;const Id=Af?Sf(Af):yl;var Cf=Object.prototype.hasOwnProperty;const Rd=function(f,t){var s=qt(f),a=!s&&ng(f),d=!s&&!a&&uu(f),p=!s&&!a&&!d&&Id(f),w=s||a||d||p,k=w?Jm(f.length,String):[],D=k.length;for(var R in f)!t&&!Cf.call(f,R)||w&&(R=="length"||d&&(R=="offset"||R=="parent")||p&&(R=="buffer"||R=="byteLength"||R=="byteOffset")||bl(R,D))||k.push(R);return k};var vl=Object.prototype;const du=function(f){var t=f&&f.constructor;return f===(typeof t=="function"&&t.prototype||vl)},Md=Rr(Object.keys,Object);var J0=Object.prototype.hasOwnProperty;const Tf=function(f){if(!du(f))return Md(f);var t=[];for(var s in Object(f))J0.call(f,s)&&s!="constructor"&&t.push(s);return t},dc=function(f){return f!=null&&Nd(f.length)&&!so(f)},Df=function(f){return dc(f)?Rd(f):Tf(f)},as=function(f,t){return f&&ml(t,Df(t),f)},ya=function(f){var t=[];if(f!=null)for(var s in Object(f))t.push(s);return t};var Od=Object.prototype.hasOwnProperty;const Fd=function(f){if(!Oe(f))return ya(f);var t=du(f),s=[];for(var a in f)(a!="constructor"||!t&&Od.call(f,a))&&s.push(a);return s},uo=function(f){return dc(f)?Rd(f,!0):Fd(f)},Nf=function(f,t){return f&&ml(t,uo(t),f)};var wl=e&&!e.nodeType&&e,Q0=wl&&!0&&n&&!n.nodeType&&n,Ud=Q0&&Q0.exports===wl?le.Buffer:void 0,ig=Ud?Ud.allocUnsafe:void 0;const rg=function(f,t){if(t)return f.slice();var s=f.length,a=ig?ig(s):new f.constructor(s);return f.copy(a),a},Ld=function(f,t){var s=-1,a=f.length;for(t||(t=Array(a));++s<a;)t[s]=f[s];return t},sx=function(f,t){for(var s=-1,a=f==null?0:f.length,d=0,p=[];++s<a;){var w=f[s];t(w,s,f)&&(p[d++]=w)}return p},ey=function(){return[]};var ox=Object.prototype.propertyIsEnumerable,sg=Object.getOwnPropertySymbols;const og=sg?function(f){return f==null?[]:(f=Object(f),sx(sg(f),function(t){return ox.call(f,t)}))}:ey,ax=function(f,t){return ml(f,og(f),t)},ty=function(f,t){for(var s=-1,a=t.length,d=f.length;++s<a;)f[d+s]=t[s];return f},ny=Object.getOwnPropertySymbols?function(f){for(var t=[];f;)ty(t,og(f)),f=ji(f);return t}:ey,ag=function(f,t){return ml(f,ny(f),t)},iy=function(f,t,s){var a=t(f);return qt(f)?a:ty(a,s(f))},lg=function(f){return iy(f,Df,og)},ry=function(f){return iy(f,uo,ny)},cg=Ii(le,"DataView"),ug=Ii(le,"Promise"),dg=Ii(le,"Set"),hg=Ii(le,"WeakMap");var sy="[object Map]",Pf="[object Promise]",hu="[object Set]",oy="[object WeakMap]",fg="[object DataView]",ay=Or(cg),pg=Or(dl),ly=Or(ug),cy=Or(dg),fu=Or(hg),hc=mn;(cg&&hc(new cg(new ArrayBuffer(1)))!=fg||dl&&hc(new dl)!=sy||ug&&hc(ug.resolve())!=Pf||dg&&hc(new dg)!=hu||hg&&hc(new hg)!=oy)&&(hc=function(f){var t=mn(f),s=t=="[object Object]"?f.constructor:void 0,a=s?Or(s):"";if(a)switch(a){case ay:return fg;case pg:return sy;case ly:return Pf;case cy:return hu;case fu:return oy}return t});const fc=hc;var uy=Object.prototype.hasOwnProperty;const jf=function(f){var t=f.length,s=new f.constructor(t);return t&&typeof f[0]=="string"&&uy.call(f,"index")&&(s.index=f.index,s.input=f.input),s},xl=le.Uint8Array,If=function(f){var t=new f.constructor(f.byteLength);return new xl(t).set(new xl(f)),t},Rf=function(f,t){var s=t?If(f.buffer):f.buffer;return new f.constructor(s,f.byteOffset,f.byteLength)};var dy=/\w*$/;const mg=function(f){var t=new f.constructor(f.source,dy.exec(f));return t.lastIndex=f.lastIndex,t};var Mf=Ue?Ue.prototype:void 0,Bd=Mf?Mf.valueOf:void 0;const Ln=function(f){return Bd?Object(Bd.call(f)):{}},gg=function(f,t){var s=t?If(f.buffer):f.buffer;return new f.constructor(s,f.byteOffset,f.length)},hy=function(f,t,s){var a=f.constructor;switch(t){case"[object ArrayBuffer]":return If(f);case"[object Boolean]":case"[object Date]":return new a(+f);case"[object DataView]":return Rf(f,s);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return gg(f,s);case"[object Map]":case"[object Set]":return new a;case"[object Number]":case"[object String]":return new a(f);case"[object RegExp]":return mg(f);case"[object Symbol]":return Ln(f)}};var fy=Object.create;const lx=function(){function f(){}return function(t){if(!Oe(t))return{};if(fy)return fy(t);f.prototype=t;var s=new f;return f.prototype=void 0,s}}(),py=function(f){return typeof f.constructor!="function"||du(f)?{}:lx(ji(f))},cx=function(f){return Vn(f)&&fc(f)=="[object Map]"};var ls=co&&co.isMap;const my=ls?Sf(ls):cx,zd=function(f){return Vn(f)&&fc(f)=="[object Set]"};var bg=co&&co.isSet;const gy=bg?Sf(bg):zd;var yg="[object Arguments]",Vd="[object Function]",Of="[object Object]",Bn={};Bn[yg]=Bn["[object Array]"]=Bn["[object ArrayBuffer]"]=Bn["[object DataView]"]=Bn["[object Boolean]"]=Bn["[object Date]"]=Bn["[object Float32Array]"]=Bn["[object Float64Array]"]=Bn["[object Int8Array]"]=Bn["[object Int16Array]"]=Bn["[object Int32Array]"]=Bn["[object Map]"]=Bn["[object Number]"]=Bn[Of]=Bn["[object RegExp]"]=Bn["[object Set]"]=Bn["[object String]"]=Bn["[object Symbol]"]=Bn["[object Uint8Array]"]=Bn["[object Uint8ClampedArray]"]=Bn["[object Uint16Array]"]=Bn["[object Uint32Array]"]=!0,Bn["[object Error]"]=Bn[Vd]=Bn["[object WeakMap]"]=!1;const va=function f(t,s,a,d,p,w){var k,D=1&s,R=2&s,M=4&s;if(a&&(k=p?a(t,d,p,w):a(t)),k!==void 0)return k;if(!Oe(t))return t;var L=qt(t);if(L){if(k=jf(t),!D)return Ld(t,k)}else{var W=fc(t),J=W==Vd||W=="[object GeneratorFunction]";if(uu(t))return rg(t,D);if(W==Of||W==yg||J&&!p){if(k=R||J?{}:py(t),!D)return R?ag(t,Nf(k,t)):ax(t,as(k,t))}else{if(!Bn[W])return p?t:{};k=hy(t,W,D)}}w||(w=new lo);var re=w.get(t);if(re)return re;w.set(t,k),gy(t)?t.forEach(function(ve){k.add(f(ve,s,a,ve,t,w))}):my(t)&&t.forEach(function(ve,je){k.set(je,f(ve,s,a,je,t,w))});var ae=L?void 0:(M?R?ry:lg:R?uo:Df)(t);return Td(ae||t,function(ve,je){ae&&(ve=t[je=ve]),lu(k,je,f(ve,s,a,je,t,w))}),k},pu=function(f,t){return va(f,5,t=typeof t=="function"?t:void 0)},$n=function(f){return Vn(f)&&f.nodeType===1&&!sn(f)};class _l{constructor(t,s){this._config={},s&&this.define(Ff(s)),t&&this._setObjectToTarget(this._config,t)}set(t,s){this._setToTarget(this._config,t,s)}define(t,s){this._setToTarget(this._config,t,s,!0)}get(t){return this._getFromSource(this._config,t)}*names(){for(const t of Object.keys(this._config))yield t}_setToTarget(t,s,a,d=!1){if(sn(s))return void this._setObjectToTarget(t,s,d);const p=s.split(".");s=p.pop();for(const w of p)sn(t[w])||(t[w]={}),t=t[w];if(sn(a))return sn(t[s])||(t[s]={}),t=t[s],void this._setObjectToTarget(t,a,d);d&&t[s]!==void 0||(t[s]=a)}_getFromSource(t,s){const a=s.split(".");s=a.pop();for(const d of a){if(!sn(t[d])){t=null;break}t=t[d]}return t?Ff(t[s]):void 0}_setObjectToTarget(t,s,a){Object.keys(s).forEach(d=>{this._setToTarget(t,d,s[d],a)})}}function Ff(f){return pu(f,by)}function by(f){return $n(f)?f:void 0}function ho(f){if(f){if(f.defaultView)return f instanceof f.defaultView.Document;if(f.ownerDocument&&f.ownerDocument.defaultView)return f instanceof f.ownerDocument.defaultView.Node}return!1}function wa(f){const t=Object.prototype.toString.apply(f);return t=="[object Window]"||t=="[object global]"}const Uf=ur(X());function ur(f){return f?class extends f{listenTo(t,s,a,d={}){if(ho(t)||wa(t)){const p={capture:!!d.useCapture,passive:!!d.usePassive},w=this._getProxyEmitter(t,p)||new kl(t,p);this.listenTo(w,s,a,d)}else super.listenTo(t,s,a,d)}stopListening(t,s,a){if(ho(t)||wa(t)){const d=this._getAllProxyEmitters(t);for(const p of d)this.stopListening(p,s,a)}else super.stopListening(t,s,a)}_getProxyEmitter(t,s){return function(a,d){const p=a[$];return p&&p[d]?p[d].emitter:null}(this,qn(t,s))}_getAllProxyEmitters(t){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(s=>this._getProxyEmitter(t,s)).filter(s=>!!s)}}:Uf}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(f=>{ur[f]=Uf.prototype[f]});class kl extends X(){constructor(t,s){super(),Y(this,qn(t,s)),this._domNode=t,this._options=s}attach(t){if(this._domListeners&&this._domListeners[t])return;const s=this._createDomListener(t);this._domNode.addEventListener(t,s,this._options),this._domListeners||(this._domListeners={}),this._domListeners[t]=s}detach(t){let s;!this._domListeners[t]||(s=this._events[t])&&s.callbacks.length||this._domListeners[t].removeListener()}_addEventListener(t,s,a){this.attach(t),X().prototype._addEventListener.call(this,t,s,a)}_removeEventListener(t,s){X().prototype._removeEventListener.call(this,t,s),this.detach(t)}_createDomListener(t){const s=a=>{this.fire(t,a)};return s.removeListener=()=>{this._domNode.removeEventListener(t,s,this._options),delete this._domListeners[t]},s}}function qn(f,t){let s=function(a){return a["data-ck-expando"]||(a["data-ck-expando"]=O())}(f);for(const a of Object.keys(t).sort())t[a]&&(s+="-"+a);return s}let ye;try{ye={window,document}}catch{ye={window:{},document:{}}}const de=ye;function Be(f){return Object.prototype.toString.call(f)=="[object Text]"}function Ze(f){return Object.prototype.toString.apply(f)=="[object Range]"}function jt(f){const t=f.ownerDocument.defaultView.getComputedStyle(f);return{top:parseInt(t.borderTopWidth,10),right:parseInt(t.borderRightWidth,10),bottom:parseInt(t.borderBottomWidth,10),left:parseInt(t.borderLeftWidth,10)}}function Qt(f){return f&&f.parentNode?f.offsetParent===de.document.body?null:f.offsetParent:null}const nn=["top","right","bottom","left","width","height"];class vt{constructor(t){const s=Ze(t);if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),xa(t)||s)if(s){const a=vt.getDomRangeRects(t);qi(this,vt.getBoundingRect(a))}else qi(this,t.getBoundingClientRect());else if(wa(t)){const{innerWidth:a,innerHeight:d}=t;qi(this,{top:0,right:a,bottom:d,left:0,width:a,height:d})}else qi(this,t)}clone(){return new vt(this)}moveTo(t,s){return this.top=s,this.right=t+this.width,this.bottom=s+this.height,this.left=t,this}moveBy(t,s){return this.top+=s,this.right+=t,this.left+=t,this.bottom+=s,this}getIntersection(t){const s={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left),width:0,height:0};if(s.width=s.right-s.left,s.height=s.bottom-s.top,s.width<0||s.height<0)return null;{const a=new vt(s);return a._source=this._source,a}}getIntersectionArea(t){const s=this.getIntersection(t);return s?s.getArea():0}getArea(){return this.width*this.height}getVisible(){const t=this._source;let s=this.clone();if(In(t))return s;let a,d=t,p=t.parentNode||t.commonAncestorContainer;for(;p&&!In(p);){const k=((w=p)instanceof HTMLElement?w.ownerDocument.defaultView.getComputedStyle(w).overflow:"visible")==="visible";d instanceof HTMLElement&&Uo(d)==="absolute"&&(a=d);const D=Uo(p);if(k||a&&(D==="relative"&&k||D!=="relative")){d=p,p=p.parentNode;continue}const R=new vt(p),M=s.getIntersection(R);if(!M)return null;M.getArea()<s.getArea()&&(s=M),d=p,p=p.parentNode}var w;return s}isEqual(t){for(const s of nn)if(this[s]!==t[s])return!1;return!0}contains(t){const s=this.getIntersection(t);return!(!s||!s.isEqual(t))}toAbsoluteRect(){const{scrollX:t,scrollY:s}=de.window,a=this.clone().moveBy(t,s);if(xa(a._source)){const d=Qt(a._source);d&&function(p,w){const k=new vt(w),D=jt(w);let R=0,M=0;R-=k.left,M-=k.top,R+=w.scrollLeft,M+=w.scrollTop,R-=D.left,M-=D.top,p.moveBy(R,M)}(a,d)}return a}excludeScrollbarsAndBorders(){const t=this._source;let s,a,d;if(wa(t))s=t.innerWidth-t.document.documentElement.clientWidth,a=t.innerHeight-t.document.documentElement.clientHeight,d=t.getComputedStyle(t.document.documentElement).direction;else{const p=jt(t);s=t.offsetWidth-t.clientWidth-p.left-p.right,a=t.offsetHeight-t.clientHeight-p.top-p.bottom,d=t.ownerDocument.defaultView.getComputedStyle(t).direction,this.left+=p.left,this.top+=p.top,this.right-=p.right,this.bottom-=p.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=s,d==="ltr"?this.right-=s:this.left+=s,this.height-=a,this.bottom-=a,this}static getDomRangeRects(t){const s=[],a=Array.from(t.getClientRects());if(a.length)for(const d of a)s.push(new vt(d));else{let d=t.startContainer;Be(d)&&(d=d.parentNode);const p=new vt(d.getBoundingClientRect());p.right=p.left,p.width=0,s.push(p)}return s}static getBoundingRect(t){const s={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let a=0;for(const d of t)a++,s.left=Math.min(s.left,d.left),s.top=Math.min(s.top,d.top),s.right=Math.max(s.right,d.right),s.bottom=Math.max(s.bottom,d.bottom);return a==0?null:(s.width=s.right-s.left,s.height=s.bottom-s.top,new vt(s))}}function qi(f,t){for(const s of nn)f[s]=t[s]}function In(f){return!!xa(f)&&f===f.ownerDocument.body}function xa(f){return f!==null&&typeof f=="object"&&f.nodeType===1&&typeof f.getBoundingClientRect=="function"}function Uo(f){return f instanceof HTMLElement?f.ownerDocument.defaultView.getComputedStyle(f).position:"static"}class wn{constructor(t,s){wn._observerInstance||wn._createObserver(),this._element=t,this._callback=s,wn._addElementCallback(t,s),wn._observerInstance.observe(t)}get element(){return this._element}destroy(){wn._deleteElementCallback(this._element,this._callback)}static _addElementCallback(t,s){wn._elementCallbacks||(wn._elementCallbacks=new Map);let a=wn._elementCallbacks.get(t);a||(a=new Set,wn._elementCallbacks.set(t,a)),a.add(s)}static _deleteElementCallback(t,s){const a=wn._getElementCallbacks(t);a&&(a.delete(s),a.size||(wn._elementCallbacks.delete(t),wn._observerInstance.unobserve(t))),wn._elementCallbacks&&!wn._elementCallbacks.size&&(wn._observerInstance=null,wn._elementCallbacks=null)}static _getElementCallbacks(t){return wn._elementCallbacks?wn._elementCallbacks.get(t):null}static _createObserver(){wn._observerInstance=new de.window.ResizeObserver(t=>{for(const s of t){const a=wn._getElementCallbacks(s.target);if(a)for(const d of a)d(s)}})}}function Ur(f,t){f instanceof HTMLTextAreaElement&&(f.value=t),f.innerHTML=t}function Lr(f){return t=>t+f}function pc(f){let t=0;for(;f.previousSibling;)f=f.previousSibling,t++;return t}function Wd(f,t,s){f.insertBefore(s,f.childNodes[t]||null)}function Os(f){return f&&f.nodeType===Node.COMMENT_NODE}function Ai(f){return!!(f&&f.getClientRects&&f.getClientRects().length)}function cs({element:f,target:t,positions:s,limiter:a,fitInViewport:d,viewportOffsetConfig:p}){so(t)&&(t=t()),so(a)&&(a=a());const w=Qt(f),k=function(W){W=Object.assign({top:0,bottom:0,left:0,right:0},W);const J=new vt(de.window);return J.top+=W.top,J.height-=W.top,J.bottom-=W.bottom,J.height-=W.bottom,J}(p),D=new vt(f),R=fo(t,k);let M;if(!R||!k.getIntersection(R))return null;const L={targetRect:R,elementRect:D,positionedElementAncestor:w,viewportRect:k};if(a||d){if(a){const W=fo(a,k);W&&(L.limiterRect=W)}M=function(W,J){const{elementRect:re}=J,ae=re.getArea(),ve=W.map(Qe=>new mc(Qe,J)).filter(Qe=>!!Qe.name);let je=0,$e=null;for(const Qe of ve){const{limiterIntersectionArea:St,viewportIntersectionArea:tn}=Qe;if(St===ae)return Qe;const Fn=tn**2+St**2;Fn>je&&(je=Fn,$e=Qe)}return $e}(s,L)}else M=new mc(s[0],L);return M}function fo(f,t){const s=new vt(f).getVisible();return s?s.getIntersection(t):null}wn._observerInstance=null,wn._elementCallbacks=null;class mc{constructor(t,s){const a=t(s.targetRect,s.elementRect,s.viewportRect,s.limiterRect);if(!a)return;const{left:d,top:p,name:w,config:k}=a;this.name=w,this.config=k,this._positioningFunctionCoordinates={left:d,top:p},this._options=s}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const t=this._options.limiterRect;return t?t.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function vg(f){const t=f.parentNode;t&&t.removeChild(f)}function Lf({window:f,rect:t,alignToTop:s,forceScroll:a,viewportOffset:d}){const p=t.clone().moveBy(0,d.bottom),w=t.clone().moveBy(0,-d.top),k=new vt(f).excludeScrollbarsAndBorders(),D=s&&a,R=[w,p].every(re=>k.contains(re));let{scrollX:M,scrollY:L}=f;const W=M,J=L;D?L-=k.top-t.top+d.top:R||(Bf(w,k)?L-=k.top-t.top+d.top:mu(p,k)&&(L+=s?t.top-k.top-d.top:t.bottom-k.bottom+d.bottom)),R||($d(t,k)?M-=k.left-t.left+d.left:wg(t,k)&&(M+=t.right-k.right+d.right)),M==W&&L===J||f.scrollTo(M,L)}function uA({parent:f,getRect:t,alignToTop:s,forceScroll:a,ancestorOffset:d=0,limiterElement:p}){const w=yy(f),k=s&&a;let D,R,M;const L=p||w.document.body;for(;f!=L;)R=t(),D=new vt(f).excludeScrollbarsAndBorders(),M=D.contains(R),k?f.scrollTop-=D.top-R.top+d:M||(Bf(R,D)?f.scrollTop-=D.top-R.top+d:mu(R,D)&&(f.scrollTop+=s?R.top-D.top-d:R.bottom-D.bottom+d)),M||($d(R,D)?f.scrollLeft-=D.left-R.left+d:wg(R,D)&&(f.scrollLeft+=R.right-D.right+d)),f=f.parentNode}function mu(f,t){return f.bottom>t.bottom}function Bf(f,t){return f.top<t.top}function $d(f,t){return f.left<t.left}function wg(f,t){return f.right>t.right}function yy(f){return Ze(f)?f.startContainer.ownerDocument.defaultView:f.ownerDocument.defaultView}function ux(f){if(Ze(f)){let t=f.commonAncestorContainer;return Be(t)&&(t=t.parentNode),t}return f.parentNode}function qd(f,t){const s=yy(f),a=new vt(f);if(s===t)return a;{let d=s;for(;d!=t;){const p=d.frameElement,w=new vt(p).excludeScrollbarsAndBorders();a.moveBy(w.left,w.top),d=d.parent}}return a}const gu={ctrl:"⌃",cmd:"⌘",alt:"⌥",shift:"⇧"},li={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Gt=function(){const f={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let t=65;t<=90;t++)f[String.fromCharCode(t).toLowerCase()]=t;for(let t=48;t<=57;t++)f[t-48]=t;for(let t=112;t<=123;t++)f["f"+(t-111)]=t;for(const t of"`-=[];',./\\")f[t]=t.charCodeAt(0);return f}(),bu=Object.fromEntries(Object.entries(Gt).map(([f,t])=>[t,f.charAt(0).toUpperCase()+f.slice(1)]));function Ri(f){let t;if(typeof f=="string"){if(t=Gt[f.toLowerCase()],!t)throw new B("keyboard-unknown-key",null,{key:f})}else t=f.keyCode+(f.altKey?Gt.alt:0)+(f.ctrlKey?Gt.ctrl:0)+(f.shiftKey?Gt.shift:0)+(f.metaKey?Gt.cmd:0);return t}function Br(f){return typeof f=="string"&&(f=function(t){return t.split("+").map(s=>s.trim())}(f)),f.map(t=>typeof t=="string"?function(s){if(s.endsWith("!"))return Ri(s.slice(0,-1));const a=Ri(s);return(y.isMac||y.isiOS)&&a==Gt.ctrl?Gt.cmd:a}(t):t).reduce((t,s)=>s+t,0)}function yu(f){let t=Br(f);return Object.entries(y.isMac||y.isiOS?gu:li).reduce((s,[a,d])=>(t&Gt[a]&&(t&=~Gt[a],s+=d),s),"")+(t?bu[t]:"")}function vu(f,t){const s=t==="ltr";switch(f){case Gt.arrowleft:return s?"left":"right";case Gt.arrowright:return s?"right":"left";case Gt.arrowup:return"up";case Gt.arrowdown:return"down"}}function Rn(f){return Array.isArray(f)?f:[f]}function dx(f,t,s=1){if(typeof s!="number")throw new B("translation-service-quantity-not-a-number",null,{quantity:s});const a=Object.keys(de.window.CKEDITOR_TRANSLATIONS).length;a===1&&(f=Object.keys(de.window.CKEDITOR_TRANSLATIONS)[0]);const d=t.id||t.string;if(a===0||!function(D,R){return!!de.window.CKEDITOR_TRANSLATIONS[D]&&!!de.window.CKEDITOR_TRANSLATIONS[D].dictionary[R]}(f,d))return s!==1?t.plural:t.string;const p=de.window.CKEDITOR_TRANSLATIONS[f].dictionary,w=de.window.CKEDITOR_TRANSLATIONS[f].getPluralForm||(D=>D===1?0:1),k=p[d];return typeof k=="string"?k:k[Number(w(s))]}de.window.CKEDITOR_TRANSLATIONS||(de.window.CKEDITOR_TRANSLATIONS={});const dA=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function hx(f){return dA.includes(f)?"rtl":"ltr"}class vy{constructor({uiLanguage:t="en",contentLanguage:s}={}){this.uiLanguage=t,this.contentLanguage=s||this.uiLanguage,this.uiLanguageDirection=hx(this.uiLanguage),this.contentLanguageDirection=hx(this.contentLanguage),this.t=(a,d)=>this._t(a,d)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(t,s=[]){s=Rn(s),typeof t=="string"&&(t={string:t});const a=t.plural?s[0]:1;return function(d,p){return d.replace(/%(\d+)/g,(w,k)=>k<p.length?p[k]:w)}(dx(this.uiLanguage,t,a),s)}}class Fs extends X(){constructor(t={},s={}){super();const a=Fe(t);if(a||(s=t),this._items=[],this._itemMap=new Map,this._idProperty=s.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],a)for(const d of t)this._items.push(d),this._itemMap.set(this._getItemIdBeforeAdding(d),d)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(t,s){return this.addMany([t],s)}addMany(t,s){if(s===void 0)s=this._items.length;else if(s>this._items.length||s<0)throw new B("collection-add-item-invalid-index",this);let a=0;for(const d of t){const p=this._getItemIdBeforeAdding(d),w=s+a;this._items.splice(w,0,d),this._itemMap.set(p,d),this.fire("add",d,w),a++}return this.fire("change",{added:t,removed:[],index:s}),this}get(t){let s;if(typeof t=="string")s=this._itemMap.get(t);else{if(typeof t!="number")throw new B("collection-get-invalid-arg",this);s=this._items[t]}return s||null}has(t){if(typeof t=="string")return this._itemMap.has(t);{const s=t[this._idProperty];return s&&this._itemMap.has(s)}}getIndex(t){let s;return s=typeof t=="string"?this._itemMap.get(t):t,s?this._items.indexOf(s):-1}remove(t){const[s,a]=this._remove(t);return this.fire("change",{added:[],removed:[s],index:a}),s}map(t,s){return this._items.map(t,s)}find(t,s){return this._items.find(t,s)}filter(t,s){return this._items.filter(t,s)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const t=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:t,index:0})}bindTo(t){if(this._bindToCollection)throw new B("collection-bind-to-rebind",this);return this._bindToCollection=t,{as:s=>{this._setUpBindToBinding(a=>new s(a))},using:s=>{typeof s=="function"?this._setUpBindToBinding(s):this._setUpBindToBinding(a=>a[s])}}}_setUpBindToBinding(t){const s=this._bindToCollection,a=(d,p,w)=>{const k=s._bindToCollection==this,D=s._bindToInternalToExternalMap.get(p);if(k&&D)this._bindToExternalToInternalMap.set(p,D),this._bindToInternalToExternalMap.set(D,p);else{const R=t(p);if(!R)return void this._skippedIndexesFromExternal.push(w);let M=w;for(const L of this._skippedIndexesFromExternal)w>L&&M--;for(const L of s._skippedIndexesFromExternal)M>=L&&M++;this._bindToExternalToInternalMap.set(p,R),this._bindToInternalToExternalMap.set(R,p),this.add(R,M);for(let L=0;L<s._skippedIndexesFromExternal.length;L++)M<=s._skippedIndexesFromExternal[L]&&s._skippedIndexesFromExternal[L]++}};for(const d of s)a(0,d,s.getIndex(d));this.listenTo(s,"add",a),this.listenTo(s,"remove",(d,p,w)=>{const k=this._bindToExternalToInternalMap.get(p);k&&this.remove(k),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((D,R)=>(w<R&&D.push(R-1),w>R&&D.push(R),D),[])})}_getItemIdBeforeAdding(t){const s=this._idProperty;let a;if(s in t){if(a=t[s],typeof a!="string")throw new B("collection-add-invalid-id",this);if(this.get(a))throw new B("collection-add-item-already-exists",this)}else t[s]=a=O();return a}_remove(t){let s,a,d,p=!1;const w=this._idProperty;if(typeof t=="string"?(a=t,d=this._itemMap.get(a),p=!d,d&&(s=this._items.indexOf(d))):typeof t=="number"?(s=t,d=this._items[s],p=!d,d&&(a=d[w])):(d=t,a=d[w],s=this._items.indexOf(d),p=s==-1||!this._itemMap.get(a)),p)throw new B("collection-remove-404",this);this._items.splice(s,1),this._itemMap.delete(a);const k=this._bindToInternalToExternalMap.get(d);return this._bindToInternalToExternalMap.delete(d),this._bindToExternalToInternalMap.delete(k),this.fire("remove",d,s),[d,s]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function ci(f){const t=f.next();return t.done?null:t.value}class Hi extends ur(ze()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(t){if(this._elements.has(t))throw new B("focustracker-add-element-already-exist",this);this.listenTo(t,"focus",()=>this._focus(t),{useCapture:!0}),this.listenTo(t,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(t)}remove(t){t===this.focusedElement&&this._blur(),this._elements.has(t)&&(this.stopListening(t),this._elements.delete(t))}destroy(){this.stopListening()}_focus(t){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=t,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class _a{constructor(){this._listener=new(ur())}listenTo(t){this._listener.listenTo(t,"keydown",(s,a)=>{this._listener.fire("_keydown:"+Ri(a),a)})}set(t,s,a={}){const d=Br(t),p=a.priority;this._listener.listenTo(this._listener,"_keydown:"+d,(w,k)=>{s(k,()=>{k.preventDefault(),k.stopPropagation(),w.stop()}),w.return=!0},{priority:p})}press(t){return!!this._listener.fire("_keydown:"+Ri(t),t)}stopListening(t){this._listener.stopListening(t)}destroy(){this.stopListening()}}function ka(f){return Fe(f)?new Map(f):function(t){const s=new Map;for(const a in t)s.set(a,t[a]);return s}(f)}function xg(f,t){let s;function a(...d){a.cancel(),s=setTimeout(()=>f(...d),t)}return a.cancel=()=>{clearTimeout(s)},a}function fx(f,t){return!!(s=f.charAt(t-1))&&s.length==1&&/[\ud800-\udbff]/.test(s)&&function(a){return!!a&&a.length==1&&/[\udc00-\udfff]/.test(a)}(f.charAt(t));var s}function wy(f,t){return!!(s=f.charAt(t))&&s.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(s);var s}const px=function(){const f=new RegExp("\\p{Regional_Indicator}{2}","u").source,t="(?:"+[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")].map(s=>s.source).join("|")+")";return new RegExp(`${f}|${t}(?:‍${t})*`,"ug")}();function hA(f,t){const s=String(f).matchAll(px);return Array.from(s).some(a=>a.index<t&&t<a.index+a[0].length)}class Lo extends Fs{constructor(t=[]){super(t,{idProperty:"viewUid"}),this.on("add",(s,a,d)=>{this._renderViewIntoCollectionParent(a,d)}),this.on("remove",(s,a)=>{a.element&&this._parentElement&&a.element.remove()}),this._parentElement=null}destroy(){this.map(t=>t.destroy())}setParent(t){this._parentElement=t;for(const s of this)this._renderViewIntoCollectionParent(s)}delegate(...t){if(!t.length||!t.every(s=>typeof s=="string"))throw new B("ui-viewcollection-delegate-wrong-events",this);return{to:s=>{for(const a of this)for(const d of t)a.delegate(d).to(s);this.on("add",(a,d)=>{for(const p of t)d.delegate(p).to(s)}),this.on("remove",(a,d)=>{for(const p of t)d.stopDelegating(p,s)})}}}_renderViewIntoCollectionParent(t,s){t.isRendered||t.render(),t.element&&this._parentElement&&this._parentElement.insertBefore(t.element,this._parentElement.children[s])}remove(t){return super.remove(t)}}var fA=o(3379),It=o.n(fA),pA=o(9037),Rt=o.n(pA),mx=o(569),Ot=o.n(mx),gc=o(8575),Tt=o.n(gc),gx=o(9216),Mt=o.n(gx),Qi=o(5167),El={attributes:{"data-cke":!0}};El.setAttributes=Tt(),El.insert=Ot().bind(null,"head"),El.domAPI=Rt(),El.insertStyleElement=Mt(),It()(Qi.Z,El),Qi.Z&&Qi.Z.locals&&Qi.Z.locals;class on extends ur(ze()){constructor(t){super(),this.element=null,this.isRendered=!1,this.locale=t,this.t=t&&t.t,this._viewCollections=new Fs,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(s,a)=>{a.locale=t,a.t=t&&t.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=dr.bind(this,this)}createCollection(t){const s=new Lo(t);return this._viewCollections.add(s),s}registerChild(t){Fe(t)||(t=[t]);for(const s of t)this._unboundChildren.add(s)}deregisterChild(t){Fe(t)||(t=[t]);for(const s of t)this._unboundChildren.remove(s)}setTemplate(t){this.template=new dr(t)}extendTemplate(t){dr.extend(this.template,t)}render(){if(this.isRendered)throw new B("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(t=>t.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}class dr extends X(){constructor(t){super(),Object.assign(this,Ey(_g(t))),this._isRendered=!1,this._revertData=null}render(){const t=this._renderNode({intoFragment:!0});return this._isRendered=!0,t}apply(t){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:t,intoFragment:!1,isApplying:!0,revertData:this._revertData}),t}revert(t){if(!this._revertData)throw new B("ui-template-revert-not-applied",[this,t]);this._revertTemplateFromNode(t,this._revertData)}*getViews(){yield*function*t(s){if(s.children)for(const a of s.children)Vf(a)?yield a:Ay(a)&&(yield*t(a))}(this)}static bind(t,s){return{to:(a,d)=>new Sl({eventNameOrFunction:a,attribute:a,observable:t,emitter:s,callback:d}),if:(a,d,p)=>new bx({observable:t,emitter:s,attribute:a,valueIfTrue:d,callback:p})}}static extend(t,s){if(t._isRendered)throw new B("template-extend-render",[this,t]);po(t,Ey(_g(s)))}_renderNode(t){let s;if(s=t.node?this.tag&&this.text:this.tag?this.text:!this.text,s)throw new B("ui-template-wrong-syntax",this);return this.text?this._renderText(t):this._renderElement(t)}_renderElement(t){let s=t.node;return s||(s=t.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(t),this._renderElementChildren(t),this._setUpListeners(t),s}_renderText(t){let s=t.node;return s?t.revertData.text=s.textContent:s=t.node=document.createTextNode(""),xy(this.text)?this._bindToObservable({schema:this.text,updater:_y(s),data:t}):s.textContent=this.text.join(""),s}_renderAttributes(t){if(!this.attributes)return;const s=t.node,a=t.revertData;for(const d in this.attributes){const p=s.getAttribute(d),w=this.attributes[d];a&&(a.attributes[d]=p);const k=yc(w)?w[0].ns:null;if(xy(w)){const D=yc(w)?w[0].value:w;a&&vx(d)&&D.unshift(p),this._bindToObservable({schema:D,updater:ky(s,d,k),data:t})}else if(d=="style"&&typeof w[0]!="string")this._renderStyleAttribute(w[0],t);else{a&&p&&vx(d)&&w.unshift(p);const D=w.map(R=>R&&R.value||R).reduce((R,M)=>R.concat(M),[]).reduce(yx,"");mo(D)||s.setAttributeNS(k,d,D)}}}_renderStyleAttribute(t,s){const a=s.node;for(const d in t){const p=t[d];xy(p)?this._bindToObservable({schema:[p],updater:zf(a,d),data:s}):a.style[d]=p}}_renderElementChildren(t){const s=t.node,a=t.intoFragment?document.createDocumentFragment():s,d=t.isApplying;let p=0;for(const w of this.children)if(Al(w)){if(!d){w.setParent(s);for(const k of w)a.appendChild(k.element)}}else if(Vf(w))d||(w.isRendered||w.render(),a.appendChild(w.element));else if(ho(w))a.appendChild(w);else if(d){const k={children:[],bindings:[],attributes:{}};t.revertData.children.push(k),w._renderNode({intoFragment:!1,node:a.childNodes[p++],isApplying:!0,revertData:k})}else a.appendChild(w.render());t.intoFragment&&s.appendChild(a)}_setUpListeners(t){if(this.eventListeners)for(const s in this.eventListeners){const a=this.eventListeners[s].map(d=>{const[p,w]=s.split("@");return d.activateDomEventListener(p,w,t)});t.revertData&&t.revertData.bindings.push(a)}}_bindToObservable({schema:t,updater:s,data:a}){const d=a.revertData;Bo(t,s,a);const p=t.filter(w=>!mo(w)).filter(w=>w.observable).map(w=>w.activateAttributeListener(t,s,a));d&&d.bindings.push(p)}_revertTemplateFromNode(t,s){for(const d of s.bindings)for(const p of d)p();if(s.text)return void(t.textContent=s.text);const a=t;for(const d in s.attributes){const p=s.attributes[d];p===null?a.removeAttribute(d):a.setAttribute(d,p)}for(let d=0;d<s.children.length;++d)this._revertTemplateFromNode(a.childNodes[d],s.children[d])}}class bc{constructor(t){this.attribute=t.attribute,this.observable=t.observable,this.emitter=t.emitter,this.callback=t.callback}getValue(t){const s=this.observable[this.attribute];return this.callback?this.callback(s,t):s}activateAttributeListener(t,s,a){const d=()=>Bo(t,s,a);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,d),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,d)}}}class Sl extends bc{constructor(t){super(t),this.eventNameOrFunction=t.eventNameOrFunction}activateDomEventListener(t,s,a){const d=(p,w)=>{s&&!w.target.matches(s)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(w):this.observable.fire(this.eventNameOrFunction,w))};return this.emitter.listenTo(a.node,t,d),()=>{this.emitter.stopListening(a.node,t,d)}}}class bx extends bc{constructor(t){super(t),this.valueIfTrue=t.valueIfTrue}getValue(t){return!mo(super.getValue(t))&&(this.valueIfTrue||!0)}}function xy(f){return!!f&&(f.value&&(f=f.value),Array.isArray(f)?f.some(xy):f instanceof bc)}function Bo(f,t,{node:s}){const a=function(p,w){return p.map(k=>k instanceof bc?k.getValue(w):k)}(f,s);let d;d=f.length==1&&f[0]instanceof bx?a[0]:a.reduce(yx,""),mo(d)?t.remove():t.set(d)}function _y(f){return{set(t){f.textContent=t},remove(){f.textContent=""}}}function ky(f,t,s){return{set(a){f.setAttributeNS(s,t,a)},remove(){f.removeAttributeNS(s,t)}}}function zf(f,t){return{set(s){f.style[t]=s},remove(){f.style[t]=null}}}function _g(f){return pu(f,t=>{if(t&&(t instanceof bc||Ay(t)||Vf(t)||Al(t)))return t})}function Ey(f){if(typeof f=="string"?f=function(t){return{text:[t]}}(f):f.text&&function(t){t.text=Rn(t.text)}(f),f.on&&(f.eventListeners=function(t){for(const s in t)Sy(t,s);return t}(f.on),delete f.on),!f.text){f.attributes&&function(s){for(const a in s)s[a].value&&(s[a].value=Rn(s[a].value)),Sy(s,a)}(f.attributes);const t=[];if(f.children)if(Al(f.children))t.push(f.children);else for(const s of f.children)Ay(s)||Vf(s)||ho(s)?t.push(s):t.push(new dr(s));f.children=t}return f}function Sy(f,t){f[t]=Rn(f[t])}function yx(f,t){return mo(t)?f:mo(f)?t:`${f} ${t}`}function Hd(f,t){for(const s in t)f[s]?f[s].push(...t[s]):f[s]=t[s]}function po(f,t){if(t.attributes&&(f.attributes||(f.attributes={}),Hd(f.attributes,t.attributes)),t.eventListeners&&(f.eventListeners||(f.eventListeners={}),Hd(f.eventListeners,t.eventListeners)),t.text&&f.text.push(...t.text),t.children&&t.children.length){if(f.children.length!=t.children.length)throw new B("ui-template-extend-children-mismatch",f);let s=0;for(const a of t.children)po(f.children[s++],a)}}function mo(f){return!f&&f!==0}function Vf(f){return f instanceof on}function Ay(f){return f instanceof dr}function Al(f){return f instanceof Lo}function yc(f){return Oe(f[0])&&f[0].ns}function vx(f){return f=="class"||f=="style"}class kg extends Lo{constructor(t,s=[]){super(s),this.locale=t}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new dr({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let t=document.querySelector(".ck-body-wrapper");t||(t=Ir(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(t)),t.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const t=document.querySelector(".ck-body-wrapper");t&&t.childElementCount==0&&t.remove()}}var Eg=o(1977),Wf={attributes:{"data-cke":!0}};Wf.setAttributes=Tt(),Wf.insert=Ot().bind(null,"head"),Wf.domAPI=Rt(),Wf.insertStyleElement=Mt(),It()(Eg.Z,Wf),Eg.Z&&Eg.Z.locals&&Eg.Z.locals;class zo extends on{constructor(){super();const t=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",t.if("isVisible","ck-hidden",s=>!s),"ck-reset_all-excluded",t.if("isColorInherited","ck-icon_inherit-color")],viewBox:t.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const t=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),s=t.getAttribute("viewBox");s&&(this.viewBox=s);for(const{name:a,value:d}of Array.from(t.attributes))zo.presentationalAttributeNames.includes(a)&&this.element.setAttribute(a,d);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(t=>{t.style.fill=this.fillColor})}}zo.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];class Cy extends on{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const t=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:t.to("style"),id:t.to("id")},children:[{text:t.to("text")}]})}}var Sg=o(4971),$f={attributes:{"data-cke":!0}};$f.setAttributes=Tt(),$f.insert=Ot().bind(null,"head"),$f.domAPI=Rt(),$f.insertStyleElement=Mt(),It()(Sg.Z,$f),Sg.Z&&Sg.Z.locals&&Sg.Z.locals;class Mn extends on{constructor(t,s=new Cy){super(t),this._focusDelayed=null;const a=this.bindTemplate,d=O();this.set("ariaChecked",void 0),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${d}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(s),this.iconView=new zo,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const p={tag:"button",attributes:{class:["ck","ck-button",a.to("class"),a.if("isEnabled","ck-disabled",w=>!w),a.if("isVisible","ck-hidden",w=>!w),a.to("isOn",w=>w?"ck-on":"ck-off"),a.if("withText","ck-button_with-text"),a.if("withKeystroke","ck-button_with-keystroke")],role:a.to("role"),type:a.to("type",w=>w||"button"),tabindex:a.to("tabindex"),"aria-label":a.to("ariaLabel"),"aria-labelledby":a.to("ariaLabelledBy"),"aria-disabled":a.if("isEnabled",!0,w=>!w),"aria-checked":a.to("isOn"),"aria-pressed":a.to("isOn",w=>!!this.isToggleable&&String(!!w)),"data-cke-tooltip-text":a.to("_tooltipString"),"data-cke-tooltip-position":a.to("tooltipPosition")},children:this.children,on:{click:a.to(w=>{this.isEnabled?this.fire("execute"):w.preventDefault()})}};y.isSafari&&(this._focusDelayed||(this._focusDelayed=xg(()=>this.focus(),0)),p.on.mousedown=a.to(()=>{this._focusDelayed()}),p.on.mouseup=a.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(p)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(t){return t.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),t}_createKeystrokeView(){const t=new on;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",s=>yu(s))}]}),t}_getTooltipString(t,s,a){return t?typeof t=="string"?t:(a&&(a=yu(a)),t instanceof Function?t(s,a):`${s}${a?` (${a})`:""}`):""}}var qf=o(7258),wu={attributes:{"data-cke":!0}};wu.setAttributes=Tt(),wu.insert=Ot().bind(null,"head"),wu.domAPI=Rt(),wu.insertStyleElement=Mt(),It()(qf.Z,wu),qf.Z&&qf.Z.locals&&qf.Z.locals;class xu extends Mn{constructor(t){super(t),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const t=new on;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),t}}var Gd=o(4923),Hf={attributes:{"data-cke":!0}};Hf.setAttributes=Tt(),Hf.insert=Ot().bind(null,"head"),Hf.domAPI=Rt(),Hf.insertStyleElement=Mt(),It()(Gd.Z,Hf),Gd.Z&&Gd.Z.locals&&Gd.Z.locals,o(8874),o(2085);var Xd=o(3525),Gf={attributes:{"data-cke":!0}};Gf.setAttributes=Tt(),Gf.insert=Ot().bind(null,"head"),Gf.domAPI=Rt(),Gf.insertStyleElement=Mt(),It()(Xd.Z,Gf),Xd.Z&&Xd.Z.locals&&Xd.Z.locals;class Xf extends on{constructor(t){super(t),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${O()}`;const s=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:s.to("for")},children:[{text:s.to("text")}]})}}var go=o(2933),vc={attributes:{"data-cke":!0}};vc.setAttributes=Tt(),vc.insert=Ot().bind(null,"head"),vc.domAPI=Rt(),vc.insertStyleElement=Mt(),It()(go.Z,vc),go.Z&&go.Z.locals&&go.Z.locals;class _u extends on{constructor(t,s){super(t);const a=`ck-labeled-field-view-${O()}`,d=`ck-labeled-field-view-status-${O()}`;this.fieldView=s(this,a,d),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(a),this.statusView=this._createStatusView(d),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(w,k)=>w||k);const p=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",p.to("class"),p.if("isEnabled","ck-disabled",w=>!w),p.if("isEmpty","ck-labeled-field-view_empty"),p.if("isFocused","ck-labeled-field-view_focused"),p.if("placeholder","ck-labeled-field-view_placeholder"),p.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(t){const s=new Xf(this.locale);return s.for=t,s.bind("text").to(this,"label"),s}_createStatusView(t){const s=new on(this.locale),a=this.bindTemplate;return s.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",a.if("errorText","ck-labeled-field-view__status_error"),a.if("_statusText","ck-hidden",d=>!d)],id:t,role:a.if("errorText","alert")},children:[{text:a.to("_statusText")}]}),s}focus(t){this.fieldView.focus(t)}}class Kd extends on{constructor(t){super(t),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new Hi,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const s=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",s.if("isFocused","ck-input_focused"),s.if("isEmpty","ck-input-text_empty"),s.if("hasError","ck-error")],id:s.to("id"),placeholder:s.to("placeholder"),readonly:s.to("isReadOnly"),"aria-invalid":s.if("hasError",!0),"aria-describedby":s.to("ariaDescribedById")},on:{input:s.to((...a)=>{this.fire("input",...a),this._updateIsEmpty()}),change:s.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(t,s,a)=>{this._setDomElementValue(a),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(t){this.element.value=t||t===0?t:""}}var Kf=o(2470),Cl={attributes:{"data-cke":!0}};Cl.setAttributes=Tt(),Cl.insert=Ot().bind(null,"head"),Cl.domAPI=Rt(),Cl.insertStyleElement=Mt(),It()(Kf.Z,Cl),Kf.Z&&Kf.Z.locals&&Kf.Z.locals;class mA extends Kd{constructor(t){super(t),this.set("inputMode","text");const s=this.bindTemplate;this.extendTemplate({attributes:{inputmode:s.to("inputMode")}})}}class wx extends mA{constructor(t){super(t),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var ui=o(5224),ku={attributes:{"data-cke":!0}};ku.setAttributes=Tt(),ku.insert=Ot().bind(null,"head"),ku.domAPI=Rt(),ku.insertStyleElement=Mt(),It()(ui.Z,ku),ui.Z&&ui.Z.locals&&ui.Z.locals;class wc extends on{constructor(t){super(t);const s=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",s.to("position",a=>`ck-dropdown__panel_${a}`),s.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:s.to(a=>{a.target.tagName.toLocaleLowerCase()!=="input"&&a.preventDefault()})}})}focus(){if(this.children.length){const t=this.children.first;typeof t.focus=="function"?t.focus():K("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const t=this.children.last;typeof t.focusLast=="function"?t.focusLast():t.focus()}}}var Ea=o(5062),Us={attributes:{"data-cke":!0}};Us.setAttributes=Tt(),Us.insert=Ot().bind(null,"head"),Us.domAPI=Rt(),Us.insertStyleElement=Mt(),It()(Ea.Z,Us),Ea.Z&&Ea.Z.locals&&Ea.Z.locals;class Yd extends on{constructor(t,s,a){super(t);const d=this.bindTemplate;this.buttonView=s,this.panelView=a,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new _a,this.focusTracker=new Hi,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",d.to("class"),d.if("isEnabled","ck-disabled",p=>!p)],id:d.to("id"),"aria-describedby":d.to("ariaDescribedById")},children:[s,a]}),s.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":d.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(s,a,d)=>{if(d)if(this.panelPosition==="auto"){const p=Yd._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=p?p.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const t=(s,a)=>{this.isOpen&&(this.isOpen=!1,a())};this.keystrokes.set("arrowdown",(s,a)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,a())}),this.keystrokes.set("arrowright",(s,a)=>{this.isOpen&&a()}),this.keystrokes.set("arrowleft",t),this.keystrokes.set("esc",t)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:t,north:s,southEast:a,southWest:d,northEast:p,northWest:w,southMiddleEast:k,southMiddleWest:D,northMiddleEast:R,northMiddleWest:M}=Yd.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[a,d,k,D,t,p,w,R,M,s]:[d,a,D,k,t,w,p,M,R,s]}}Yd.defaultPanelPositions={south:(f,t)=>({top:f.bottom,left:f.left-(t.width-f.width)/2,name:"s"}),southEast:f=>({top:f.bottom,left:f.left,name:"se"}),southWest:(f,t)=>({top:f.bottom,left:f.left-t.width+f.width,name:"sw"}),southMiddleEast:(f,t)=>({top:f.bottom,left:f.left-(t.width-f.width)/4,name:"sme"}),southMiddleWest:(f,t)=>({top:f.bottom,left:f.left-3*(t.width-f.width)/4,name:"smw"}),north:(f,t)=>({top:f.top-t.height,left:f.left-(t.width-f.width)/2,name:"n"}),northEast:(f,t)=>({top:f.top-t.height,left:f.left,name:"ne"}),northWest:(f,t)=>({top:f.top-t.height,left:f.left-t.width+f.width,name:"nw"}),northMiddleEast:(f,t)=>({top:f.top-t.height,left:f.left-(t.width-f.width)/4,name:"nme"}),northMiddleWest:(f,t)=>({top:f.top-t.height,left:f.left-3*(t.width-f.width)/4,name:"nmw"})},Yd._getOptimalPosition=cs;const xx='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class Ty extends Mn{constructor(t){super(t),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",s=>String(s))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const t=new zo;return t.content=xx,t.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),t}}class xc extends X(){constructor(t){if(super(),this.focusables=t.focusables,this.focusTracker=t.focusTracker,this.keystrokeHandler=t.keystrokeHandler,this.actions=t.actions,t.actions&&t.keystrokeHandler)for(const s in t.actions){let a=t.actions[s];typeof a=="string"&&(a=[a]);for(const d of a)t.keystrokeHandler.set(d,(p,w)=>{this[s](),w()})}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(Yf)||null}get last(){return this.focusables.filter(Yf).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let t=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((s,a)=>{const d=s.element===this.focusTracker.focusedElement;return d&&(t=a),d}),t)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const t=this.next;t&&this.focusables.getIndex(t)===this.current||(t===this.first?this.fire("forwardCycle"):this._focus(t,1))}focusPrevious(){const t=this.previous;t&&this.focusables.getIndex(t)===this.current||(t===this.last?this.fire("backwardCycle"):this._focus(t,-1))}_focus(t,s){t&&t.focus(s)}_getFocusableItem(t){const s=this.current,a=this.focusables.length;if(!a)return null;if(s===null)return this[t===1?"first":"last"];let d=(s+a+t)%a;do{const p=this.focusables.get(d);if(Yf(p))return p;d=(d+a+t)%a}while(d!==s);return null}}function Yf(f){return!(!("focus"in f)||!Ai(f.element))}class Dy extends on{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class Zf extends on{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function Ny(f){return Array.isArray(f)?{items:f,removeItems:[]}:f?Object.assign({items:[],removeItems:[]},f):{items:[],removeItems:[]}}class it extends ze(){constructor(t){super(),this._disableStack=new Set,this.editor=t,this.set("isEnabled",!0)}forceDisabled(t){this._disableStack.add(t),this._disableStack.size==1&&(this.on("set:isEnabled",bo,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(t){this._disableStack.delete(t),this._disableStack.size==0&&(this.off("set:isEnabled",bo),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function bo(f){f.return=!1,f.stop()}class cn extends ze(){constructor(t){super(),this.editor=t,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(t,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",s=>{if(!this.affectsData)return;const a=t.model.document.selection,d=a.getFirstPosition().root.rootName!="$graveyard"&&t.model.canEditAt(a);(t.isReadOnly||this._isEnabledBasedOnSelection&&!d)&&(s.return=!1,s.stop())},{priority:"highest"}),this.on("execute",s=>{this.isEnabled||s.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(t){this._affectsData=t}refresh(){this.isEnabled=!0}forceDisabled(t){this._disableStack.add(t),this._disableStack.size==1&&(this.on("set:isEnabled",Ci,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(t){this._disableStack.delete(t),this._disableStack.size==0&&(this.off("set:isEnabled",Ci),this.refresh())}execute(...t){}destroy(){this.stopListening()}}function Ci(f){f.return=!1,f.stop()}class zr extends cn{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...t){const s=this._getFirstEnabledCommand();return!!s&&s.execute(t)}registerChildCommand(t,s={}){U(this._childCommandsDefinitions,{command:t,priority:s.priority||"normal"}),t.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const t=this._childCommandsDefinitions.find(({command:s})=>s.isEnabled);return t&&t.command}}class hr extends X(){constructor(t,s=[],a=[]){super(),this._plugins=new Map,this._context=t,this._availablePlugins=new Map;for(const d of s)d.pluginName&&this._availablePlugins.set(d.pluginName,d);this._contextPlugins=new Map;for(const[d,p]of a)this._contextPlugins.set(d,p),this._contextPlugins.set(p,d),d.pluginName&&this._availablePlugins.set(d.pluginName,d)}*[Symbol.iterator](){for(const t of this._plugins)typeof t[0]=="function"&&(yield t)}get(t){const s=this._plugins.get(t);if(!s){let a=t;throw typeof t=="function"&&(a=t.pluginName||t.name),new B("plugincollection-plugin-not-loaded",this._context,{plugin:a})}return s}has(t){return this._plugins.has(t)}init(t,s=[],a=[]){const d=this,p=this._context;(function re(ae,ve=new Set){ae.forEach(je=>{D(je)&&(ve.has(je)||(ve.add(je),je.pluginName&&!d._availablePlugins.has(je.pluginName)&&d._availablePlugins.set(je.pluginName,je),je.requires&&re(je.requires,ve)))})})(t),W(t);const w=[...function re(ae,ve=new Set){return ae.map(je=>D(je)?je:d._availablePlugins.get(je)).reduce((je,$e)=>ve.has($e)?je:(ve.add($e),$e.requires&&(W($e.requires,$e),re($e.requires,ve).forEach(Qe=>je.add(Qe))),je.add($e)),new Set)}(t.filter(re=>!M(re,s)))];(function(re,ae){for(const ve of ae){if(typeof ve!="function")throw new B("plugincollection-replace-plugin-invalid-type",null,{pluginItem:ve});const je=ve.pluginName;if(!je)throw new B("plugincollection-replace-plugin-missing-name",null,{pluginItem:ve});if(ve.requires&&ve.requires.length)throw new B("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:je});const $e=d._availablePlugins.get(je);if(!$e)throw new B("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:je});const Qe=re.indexOf($e);if(Qe===-1){if(d._contextPlugins.has($e))return;throw new B("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:je})}if($e.requires&&$e.requires.length)throw new B("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:je});re.splice(Qe,1,ve),d._availablePlugins.set(je,ve)}})(w,a);const k=function(re){return re.map(ae=>{let ve=d._contextPlugins.get(ae);return ve=ve||new ae(p),d._add(ae,ve),ve})}(w);return J(k,"init").then(()=>J(k,"afterInit")).then(()=>k);function D(re){return typeof re=="function"}function R(re){return D(re)&&!!re.isContextPlugin}function M(re,ae){return ae.some(ve=>ve===re||L(re)===ve||L(ve)===re)}function L(re){return D(re)?re.pluginName||re.name:re}function W(re,ae=null){re.map(ve=>D(ve)?ve:d._availablePlugins.get(ve)||ve).forEach(ve=>{(function(je,$e){if(!D(je))throw $e?new B("plugincollection-soft-required",p,{missingPlugin:je,requiredBy:L($e)}):new B("plugincollection-plugin-not-found",p,{plugin:je})})(ve,ae),function(je,$e){if(R($e)&&!R(je))throw new B("plugincollection-context-required",p,{plugin:L(je),requiredBy:L($e)})}(ve,ae),function(je,$e){if($e&&M(je,s))throw new B("plugincollection-required",p,{plugin:L(je),requiredBy:L($e)})}(ve,ae)})}function J(re,ae){return re.reduce((ve,je)=>je[ae]?d._contextPlugins.has(je)?ve:ve.then(je[ae].bind(je)):ve,Promise.resolve())}}destroy(){const t=[];for(const[,s]of this)typeof s.destroy!="function"||this._contextPlugins.has(s)||t.push(s.destroy());return Promise.all(t)}_add(t,s){this._plugins.set(t,s);const a=t.pluginName;if(a){if(this._plugins.has(a))throw new B("plugincollection-plugin-name-conflict",null,{pluginName:a,plugin1:this._plugins.get(a).constructor,plugin2:t});this._plugins.set(a,s)}}}class Ag{constructor(t){this._contextOwner=null,this.config=new _l(t,this.constructor.defaultConfig);const s=this.constructor.builtinPlugins;this.config.define("plugins",s),this.plugins=new hr(this,s);const a=this.config.get("language")||{};this.locale=new vy({uiLanguage:typeof a=="string"?a:a.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new Fs}initPlugins(){const t=this.config.get("plugins")||[],s=this.config.get("substitutePlugins")||[];for(const a of t.concat(s)){if(typeof a!="function")throw new B("context-initplugins-constructor-only",null,{Plugin:a});if(a.isContextPlugin!==!0)throw new B("context-initplugins-invalid-plugin",null,{Plugin:a})}return this.plugins.init(t,[],s)}destroy(){return Promise.all(Array.from(this.editors,t=>t.destroy())).then(()=>this.plugins.destroy())}_addEditor(t,s){if(this._contextOwner)throw new B("context-addeditor-private-context");this.editors.add(t),s&&(this._contextOwner=t)}_removeEditor(t){return this.editors.has(t)&&this.editors.remove(t),this._contextOwner===t?this.destroy():Promise.resolve()}_getEditorConfig(){const t={};for(const s of this.config.names())["plugins","removePlugins","extraPlugins"].includes(s)||(t[s]=this.config.get(s));return t}static create(t){return new Promise(s=>{const a=new this(t);s(a.initPlugins().then(()=>a))})}}class Jf extends ze(){constructor(t){super(),this.context=t}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}var xr=o(7372),Zd={attributes:{"data-cke":!0}};Zd.setAttributes=Tt(),Zd.insert=Ot().bind(null,"head"),Zd.domAPI=Rt(),Zd.insertStyleElement=Mt(),It()(xr.Z,Zd),xr.Z&&xr.Z.locals&&xr.Z.locals;const Qf=new WeakMap;let Eu=!1;function Su({view:f,element:t,text:s,isDirectHost:a=!0,keepOnFocus:d=!1}){const p=f.document;function w(k){Qf.get(p).set(t,{text:k,isDirectHost:a,keepOnFocus:d,hostElement:a?t:null}),f.change(D=>Jd(p,D))}Qf.has(p)||(Qf.set(p,new Map),p.registerPostFixer(k=>Jd(p,k)),p.on("change:isComposing",()=>{f.change(k=>Jd(p,k))},{priority:"high"})),t.is("editableElement")&&t.on("change:placeholder",(k,D,R)=>{w(R)}),t.placeholder?w(t.placeholder):s&&w(s),s&&function(){Eu||K("enableplaceholder-deprecated-text-option"),Eu=!0}()}function Tl(f,t){return!!t.hasClass("ck-placeholder")&&(f.removeClass("ck-placeholder",t),!0)}function Jd(f,t){const s=Qf.get(f),a=[];let d=!1;for(const[p,w]of s)w.isDirectHost&&(a.push(p),ep(t,p,w)&&(d=!0));for(const[p,w]of s){if(w.isDirectHost)continue;const k=gA(p);k&&(a.includes(k)||(w.hostElement=k,ep(t,p,w)&&(d=!0)))}return d}function ep(f,t,s){const{text:a,isDirectHost:d,hostElement:p}=s;let w=!1;return p.getAttribute("data-placeholder")!==a&&(f.setAttribute("data-placeholder",a,p),w=!0),(d||t.childCount==1)&&function(k,D){if(!k.isAttached()||Array.from(k.getChildren()).some(W=>!W.is("uiElement")))return!1;const M=k.document,L=M.selection.anchor;return!(M.isComposing&&L&&L.parent===k||!D&&M.isFocused&&(!L||L.parent===k))}(p,s.keepOnFocus)?function(k,D){return!D.hasClass("ck-placeholder")&&(k.addClass("ck-placeholder",D),!0)}(f,p)&&(w=!0):Tl(f,p)&&(w=!0),w}function gA(f){if(f.childCount){const t=f.getChild(0);if(t.is("element")&&!t.is("uiElement")&&!t.is("attributeElement"))return t}return null}class Au{is(){throw new Error("is() method is abstract")}}const _x=function(f){return va(f,4)};class Sa extends X(Au){constructor(t){super(),this.document=t,this.parent=null}get index(){let t;if(!this.parent)return null;if((t=this.parent.getChildIndex(this))==-1)throw new B("view-node-not-found-in-parent",this);return t}get nextSibling(){const t=this.index;return t!==null&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return t!==null&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}isAttached(){return this.root.is("rootElement")}getPath(){const t=[];let s=this;for(;s.parent;)t.unshift(s.index),s=s.parent;return t}getAncestors(t={}){const s=[];let a=t.includeSelf?this:this.parent;for(;a;)s[t.parentFirst?"push":"unshift"](a),a=a.parent;return s}getCommonAncestor(t,s={}){const a=this.getAncestors(s),d=t.getAncestors(s);let p=0;for(;a[p]==d[p]&&a[p];)p++;return p===0?null:a[p-1]}isBefore(t){if(this==t||this.root!==t.root)return!1;const s=this.getPath(),a=t.getPath(),d=qe(s,a);switch(d){case"prefix":return!0;case"extension":return!1;default:return s[d]<a[d]}}isAfter(t){return this!=t&&this.root===t.root&&!this.isBefore(t)}_remove(){this.parent._removeChildren(this.index)}_fireChange(t,s){this.fire(`change:${t}`,s),this.parent&&this.parent._fireChange(t,s)}toJSON(){const t=_x(this);return delete t.parent,t}}Sa.prototype.is=function(f){return f==="node"||f==="view:node"};class Cn extends Sa{constructor(t,s){super(t),this._textData=s}get data(){return this._textData}get _data(){return this.data}set _data(t){this._fireChange("text",this),this._textData=t}isSimilar(t){return t instanceof Cn&&(this===t||this.data===t.data)}_clone(){return new Cn(this.document,this.data)}}Cn.prototype.is=function(f){return f==="$text"||f==="view:$text"||f==="text"||f==="view:text"||f==="node"||f==="view:node"};class Aa extends Au{constructor(t,s,a){if(super(),this.textNode=t,s<0||s>t.data.length)throw new B("view-textproxy-wrong-offsetintext",this);if(a<0||s+a>t.data.length)throw new B("view-textproxy-wrong-length",this);this.data=t.data.substring(s,s+a),this.offsetInText=s}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(t={}){const s=[];let a=t.includeSelf?this.textNode:this.parent;for(;a!==null;)s[t.parentFirst?"push":"unshift"](a),a=a.parent;return s}}Aa.prototype.is=function(f){return f==="$textProxy"||f==="view:$textProxy"||f==="textProxy"||f==="view:textProxy"};class Cu{constructor(...t){this._patterns=[],this.add(...t)}add(...t){for(let s of t)(typeof s=="string"||s instanceof RegExp)&&(s={name:s}),this._patterns.push(s)}match(...t){for(const s of t)for(const a of this._patterns){const d=Py(s,a);if(d)return{element:s,pattern:a,match:d}}return null}matchAll(...t){const s=[];for(const a of t)for(const d of this._patterns){const p=Py(a,d);p&&s.push({element:a,pattern:d,match:p})}return s.length>0?s:null}getElementName(){if(this._patterns.length!==1)return null;const t=this._patterns[0],s=t.name;return typeof t=="function"||!s||s instanceof RegExp?null:s}}function Py(f,t){if(typeof t=="function")return t(f);const s={};return t.name&&(s.name=function(a,d){return a instanceof RegExp?!!d.match(a):a===d}(t.name,f.name),!s.name)||t.attributes&&(s.attributes=function(a,d){const p=new Set(d.getAttributeKeys());return sn(a)?(a.style!==void 0&&K("matcher-pattern-deprecated-attributes-style-key",a),a.class!==void 0&&K("matcher-pattern-deprecated-attributes-class-key",a)):(p.delete("style"),p.delete("class")),Cg(a,p,w=>d.getAttribute(w))}(t.attributes,f),!s.attributes)||t.classes&&(s.classes=function(a,d){return Cg(a,d.getClassNames(),()=>{})}(t.classes,f),!s.classes)||t.styles&&(s.styles=function(a,d){return Cg(a,d.getStyleNames(!0),p=>d.getStyle(p))}(t.styles,f),!s.styles)?null:s}function Cg(f,t,s){const a=function(w){return Array.isArray(w)?w.map(k=>sn(k)?(k.key!==void 0&&k.value!==void 0||K("matcher-pattern-missing-key-or-value",k),[k.key,k.value]):[k,!0]):sn(w)?Object.entries(w):[[w,!0]]}(f),d=Array.from(t),p=[];if(a.forEach(([w,k])=>{d.forEach(D=>{(function(R,M){return R===!0||R===M||R instanceof RegExp&&M.match(R)})(w,D)&&function(R,M,L){if(R===!0)return!0;const W=L(M);return R===W||R instanceof RegExp&&!!String(W).match(R)}(k,D,s)&&p.push(D)})}),a.length&&!(p.length<a.length))return p}const Tg=function(f){return typeof f=="symbol"||Vn(f)&&mn(f)=="[object Symbol]"};var jy=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bA=/^\w*$/;const yA=function(f,t){if(qt(f))return!1;var s=typeof f;return!(s!="number"&&s!="symbol"&&s!="boolean"&&f!=null&&!Tg(f))||bA.test(f)||!jy.test(f)||t!=null&&f in Object(t)};function Iy(f,t){if(typeof f!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var s=function(){var a=arguments,d=t?t.apply(this,a):a[0],p=s.cache;if(p.has(d))return p.get(d);var w=f.apply(this,a);return s.cache=p.set(d,w)||p,w};return s.cache=new(Iy.Cache||Fr),s}Iy.Cache=Fr;const kx=Iy,vA=function(f){var t=kx(f,function(a){return s.size===500&&s.clear(),a}),s=t.cache;return t};var wA=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dP=/\\(\\)?/g,Ex=vA(function(f){var t=[];return f.charCodeAt(0)===46&&t.push(""),f.replace(wA,function(s,a,d,p){t.push(d?p.replace(dP,"$1"):a||s)}),t});const Ry=Ex,hP=function(f,t){for(var s=-1,a=f==null?0:f.length,d=Array(a);++s<a;)d[s]=t(f[s],s,f);return d};var xA=Ue?Ue.prototype:void 0,_A=xA?xA.toString:void 0;const fP=function f(t){if(typeof t=="string")return t;if(qt(t))return hP(t,f)+"";if(Tg(t))return _A?_A.call(t):"";var s=t+"";return s=="0"&&1/t==-1/0?"-0":s},yo=function(f){return f==null?"":fP(f)},us=function(f,t){return qt(f)?f:yA(f,t)?[f]:Ry(yo(f))},kA=function(f){var t=f==null?0:f.length;return t?f[t-1]:void 0},My=function(f){if(typeof f=="string"||Tg(f))return f;var t=f+"";return t=="0"&&1/f==-1/0?"-0":t},Sx=function(f,t){for(var s=0,a=(t=us(t,f)).length;f!=null&&s<a;)f=f[My(t[s++])];return s&&s==a?f:void 0},Ax=function(f,t,s){var a=-1,d=f.length;t<0&&(t=-t>d?0:d+t),(s=s>d?d:s)<0&&(s+=d),d=t>s?0:s-t>>>0,t>>>=0;for(var p=Array(d);++a<d;)p[a]=f[a+t];return p},EA=function(f,t){return t.length<2?f:Sx(f,Ax(t,0,-1))},Cx=function(f,t){return t=us(t,f),(f=EA(f,t))==null||delete f[My(kA(t))]},SA=function(f,t){return f==null||Cx(f,t)},tp=function(f,t,s){var a=f==null?void 0:Sx(f,t);return a===void 0?s:a},Oy=function(f,t,s){(s!==void 0&&!Xn(f[t],s)||s===void 0&&!(t in f))&&Dd(f,t,s)},AA=function(f){return function(t,s,a){for(var d=-1,p=Object(t),w=a(t),k=w.length;k--;){var D=w[++d];if(s(p[D],D,p)===!1)break}return t}}(),Tx=function(f){return Vn(f)&&dc(f)},Dx=function(f,t){if((t!=="constructor"||typeof f[t]!="function")&&t!="__proto__")return f[t]},CA=function(f){return ml(f,uo(f))},Nx=function(f,t,s,a,d,p,w){var k=Dx(f,s),D=Dx(t,s),R=w.get(D);if(R)Oy(f,s,R);else{var M=void 0,L=M===void 0;if(L){var W=qt(D),J=!W&&uu(D),re=!W&&!J&&Id(D);M=D,W||J||re?qt(k)?M=k:Tx(k)?M=Ld(k):J?(L=!1,M=rg(D,!0)):re?(L=!1,M=gg(D,!0)):M=[]:sn(D)||ng(D)?(M=k,ng(k)?M=CA(k):Oe(k)&&!so(k)||(M=py(D))):L=!1}L&&(w.set(D,M),d(M,D,a,p,w),w.delete(D)),Oy(f,s,M)}},TA=function f(t,s,a,d,p){t!==s&&AA(s,function(w,k){if(p||(p=new lo),Oe(w))Nx(t,s,k,a,f,d,p);else{var D=void 0;D===void 0&&(D=w),Oy(t,k,D)}},uo)},Tu=function(f){return f},pP=function(f,t,s){switch(s.length){case 0:return f.call(t);case 1:return f.call(t,s[0]);case 2:return f.call(t,s[0],s[1]);case 3:return f.call(t,s[0],s[1],s[2])}return f.apply(t,s)};var DA=Math.max;const NA=function(f,t,s){return t=DA(t===void 0?f.length-1:t,0),function(){for(var a=arguments,d=-1,p=DA(a.length-t,0),w=Array(p);++d<p;)w[d]=a[t+d];d=-1;for(var k=Array(t+1);++d<t;)k[d]=a[d];return k[t]=s(w),pP(f,this,k)}},Px=function(f){return function(){return f}},PA=ba?function(f,t){return ba(f,"toString",{configurable:!0,enumerable:!1,value:Px(t),writable:!0})}:Tu;var _c=Date.now;const mP=function(f){var t=0,s=0;return function(){var a=_c(),d=16-(a-s);if(s=a,d>0){if(++t>=800)return arguments[0]}else t=0;return f.apply(void 0,arguments)}}(PA),gP=function(f,t){return mP(NA(f,t,Tu),f+"")},jx=function(f,t,s){if(!Oe(s))return!1;var a=typeof t;return!!(a=="number"?dc(s)&&bl(t,s.length):a=="string"&&t in s)&&Xn(s[t],f)},Uy=function(f){return gP(function(t,s){var a=-1,d=s.length,p=d>1?s[d-1]:void 0,w=d>2?s[2]:void 0;for(p=f.length>3&&typeof p=="function"?(d--,p):void 0,w&&jx(s[0],s[1],w)&&(p=d<3?void 0:p,d=1),t=Object(t);++a<d;){var k=s[a];k&&f(t,k,a,p)}return t})},jA=Uy(function(f,t,s){TA(f,t,s)}),IA=function(f,t,s,a){if(!Oe(f))return f;for(var d=-1,p=(t=us(t,f)).length,w=p-1,k=f;k!=null&&++d<p;){var D=My(t[d]),R=s;if(D==="__proto__"||D==="constructor"||D==="prototype")return f;if(d!=w){var M=k[D];(R=void 0)==void 0&&(R=Oe(M)?M:bl(t[d+1])?[]:{})}lu(k,D,R),k=k[D]}return f},RA=function(f,t,s){return f==null?f:IA(f,t,s)};class bP{constructor(t){this._styles={},this._styleProcessor=t}get isEmpty(){const t=Object.entries(this._styles);return!Array.from(t).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(t){this.clear();const s=Array.from(function(a){let d=null,p=0,w=0,k=null;const D=new Map;if(a==="")return D;a.charAt(a.length-1)!=";"&&(a+=";");for(let R=0;R<a.length;R++){const M=a.charAt(R);if(d===null)switch(M){case":":k||(k=a.substr(p,R-p),w=R+1);break;case'"':case"'":d=M;break;case";":{const L=a.substr(w,R-w);k&&D.set(k.trim(),L.trim()),k=null,p=R+1;break}}else M===d&&(d=null)}return D}(t).entries());for(const[a,d]of s)this._styleProcessor.toNormalizedForm(a,d,this._styles)}has(t){if(this.isEmpty)return!1;const s=this._styleProcessor.getReducedForm(t,this._styles).find(([a])=>a===t);return Array.isArray(s)}set(t,s){if(Oe(t))for(const[a,d]of Object.entries(t))this._styleProcessor.toNormalizedForm(a,d,this._styles);else this._styleProcessor.toNormalizedForm(t,s,this._styles)}remove(t){const s=Ix(t);SA(this._styles,s),delete this._styles[t],this._cleanEmptyObjectsOnPath(s)}getNormalized(t){return this._styleProcessor.getNormalized(t,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(t=>t.join(":")).sort().join(";")+";"}getAsString(t){if(this.isEmpty)return;if(this._styles[t]&&!Oe(this._styles[t]))return this._styles[t];const s=this._styleProcessor.getReducedForm(t,this._styles).find(([a])=>a===t);return Array.isArray(s)?s[1]:void 0}getStyleNames(t=!1){return this.isEmpty?[]:t?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([s])=>s)}clear(){this._styles={}}_getStylesEntries(){const t=[],s=Object.keys(this._styles);for(const a of s)t.push(...this._styleProcessor.getReducedForm(a,this._styles));return t}_cleanEmptyObjectsOnPath(t){const s=t.split(".");if(!(s.length>1))return;const a=s.splice(0,s.length-1).join("."),d=tp(this._styles,a);d&&!Array.from(Object.keys(d)).length&&this.remove(a)}}class MA{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(t,s,a){if(Oe(s))Rx(a,Ix(t),s);else if(this._normalizers.has(t)){const d=this._normalizers.get(t),{path:p,value:w}=d(s);Rx(a,p,w)}else Rx(a,t,s)}getNormalized(t,s){if(!t)return jA({},s);if(s[t]!==void 0)return s[t];if(this._extractors.has(t)){const a=this._extractors.get(t);if(typeof a=="string")return tp(s,a);const d=a(t,s);if(d)return d}return tp(s,Ix(t))}getReducedForm(t,s){const a=this.getNormalized(t,s);return a===void 0?[]:this._reducers.has(t)?this._reducers.get(t)(a):[[t,a]]}getStyleNames(t){const s=Array.from(this._consumables.keys()).filter(d=>{const p=this.getNormalized(d,t);return p&&typeof p=="object"?Object.keys(p).length:p}),a=new Set([...s,...Object.keys(t)]);return Array.from(a.values())}getRelatedStyles(t){return this._consumables.get(t)||[]}setNormalizer(t,s){this._normalizers.set(t,s)}setExtractor(t,s){this._extractors.set(t,s)}setReducer(t,s){this._reducers.set(t,s)}setStyleRelation(t,s){this._mapStyleNames(t,s);for(const a of s)this._mapStyleNames(a,[t])}_mapStyleNames(t,s){this._consumables.has(t)||this._consumables.set(t,[]),this._consumables.get(t).push(...s)}}function Ix(f){return f.replace("-",".")}function Rx(f,t,s){let a=s;Oe(s)&&(a=jA({},tp(f,t),s)),RA(f,t,a)}class Ls extends Sa{constructor(t,s,a,d){if(super(t),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=s,this._attrs=function(p){const w=ka(p);for(const[k,D]of w)D===null?w.delete(k):typeof D!="string"&&w.set(k,String(D));return w}(a),this._children=[],d&&this._insertChild(0,d),this._classes=new Set,this._attrs.has("class")){const p=this._attrs.get("class");Mx(this._classes,p),this._attrs.delete("class")}this._styles=new bP(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(t){if(t=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(t=="style"){const s=this._styles.toString();return s==""?void 0:s}return this._attrs.get(t)}hasAttribute(t){return t=="class"?this._classes.size>0:t=="style"?!this._styles.isEmpty:this._attrs.has(t)}isSimilar(t){if(!(t instanceof Ls))return!1;if(this===t)return!0;if(this.name!=t.name||this._attrs.size!==t._attrs.size||this._classes.size!==t._classes.size||this._styles.size!==t._styles.size)return!1;for(const[s,a]of this._attrs)if(!t._attrs.has(s)||t._attrs.get(s)!==a)return!1;for(const s of this._classes)if(!t._classes.has(s))return!1;for(const s of this._styles.getStyleNames())if(!t._styles.has(s)||t._styles.getAsString(s)!==this._styles.getAsString(s))return!1;return!0}hasClass(...t){for(const s of t)if(!this._classes.has(s))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(t){return this._styles.getAsString(t)}getNormalizedStyle(t){return this._styles.getNormalized(t)}getStyleNames(t){return this._styles.getStyleNames(t)}hasStyle(...t){for(const s of t)if(!this._styles.has(s))return!1;return!0}findAncestor(...t){const s=new Cu(...t);let a=this.parent;for(;a&&!a.is("documentFragment");){if(s.match(a))return a;a=a.parent}return null}getCustomProperty(t){return this._customProperties.get(t)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const t=Array.from(this._classes).sort().join(","),s=this._styles.toString(),a=Array.from(this._attrs).map(d=>`${d[0]}="${d[1]}"`).sort().join(" ");return this.name+(t==""?"":` class="${t}"`)+(s?` style="${s}"`:"")+(a==""?"":` ${a}`)}shouldRenderUnsafeAttribute(t){return this._unsafeAttributesToRender.includes(t)}_clone(t=!1){const s=[];if(t)for(const d of this.getChildren())s.push(d._clone(t));const a=new this.constructor(this.document,this.name,this._attrs,s);return a._classes=new Set(this._classes),a._styles.set(this._styles.getNormalized()),a._customProperties=new Map(this._customProperties),a.getFillerOffset=this.getFillerOffset,a._unsafeAttributesToRender=this._unsafeAttributesToRender,a}_appendChild(t){return this._insertChild(this.childCount,t)}_insertChild(t,s){this._fireChange("children",this);let a=0;const d=function(p,w){return typeof w=="string"?[new Cn(p,w)]:(Fe(w)||(w=[w]),Array.from(w).map(k=>typeof k=="string"?new Cn(p,k):k instanceof Aa?new Cn(p,k.data):k))}(this.document,s);for(const p of d)p.parent!==null&&p._remove(),p.parent=this,p.document=this.document,this._children.splice(t,0,p),t++,a++;return a}_removeChildren(t,s=1){this._fireChange("children",this);for(let a=t;a<t+s;a++)this._children[a].parent=null;return this._children.splice(t,s)}_setAttribute(t,s){const a=String(s);this._fireChange("attributes",this),t=="class"?Mx(this._classes,a):t=="style"?this._styles.setTo(a):this._attrs.set(t,a)}_removeAttribute(t){return this._fireChange("attributes",this),t=="class"?this._classes.size>0&&(this._classes.clear(),!0):t=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(t)}_addClass(t){this._fireChange("attributes",this);for(const s of Rn(t))this._classes.add(s)}_removeClass(t){this._fireChange("attributes",this);for(const s of Rn(t))this._classes.delete(s)}_setStyle(t,s){this._fireChange("attributes",this),typeof t!="string"?this._styles.set(t):this._styles.set(t,s)}_removeStyle(t){this._fireChange("attributes",this);for(const s of Rn(t))this._styles.remove(s)}_setCustomProperty(t,s){this._customProperties.set(t,s)}_removeCustomProperty(t){return this._customProperties.delete(t)}}function Mx(f,t){const s=t.split(/\s+/);f.clear(),s.forEach(a=>f.add(a))}Ls.prototype.is=function(f,t){return t?t===this.name&&(f==="element"||f==="view:element"):f==="element"||f==="view:element"||f==="node"||f==="view:node"};class np extends Ls{constructor(t,s,a,d){super(t,s,a,d),this.getFillerOffset=Ox}}function Ox(){const f=[...this.getChildren()],t=f[this.childCount-1];if(t&&t.is("element","br"))return this.childCount;for(const s of f)if(!s.is("uiElement"))return null;return this.childCount}np.prototype.is=function(f,t){return t?t===this.name&&(f==="containerElement"||f==="view:containerElement"||f==="element"||f==="view:element"):f==="containerElement"||f==="view:containerElement"||f==="element"||f==="view:element"||f==="node"||f==="view:node"};class Dg extends ze(np){constructor(t,s,a,d){super(t,s,a,d),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(t),this.bind("isFocused").to(t,"isFocused",p=>p&&t.selection.editableElement==this),this.listenTo(t.selection,"change",()=>{this.isFocused=t.isFocused&&t.selection.editableElement==this})}destroy(){this.stopListening()}}Dg.prototype.is=function(f,t){return t?t===this.name&&(f==="editableElement"||f==="view:editableElement"||f==="containerElement"||f==="view:containerElement"||f==="element"||f==="view:element"):f==="editableElement"||f==="view:editableElement"||f==="containerElement"||f==="view:containerElement"||f==="element"||f==="view:element"||f==="node"||f==="view:node"};const Ly=Symbol("rootName");class By extends Dg{constructor(t,s){super(t,s),this.rootName="main"}get rootName(){return this.getCustomProperty(Ly)}set rootName(t){this._setCustomProperty(Ly,t)}set _name(t){this.name=t}}By.prototype.is=function(f,t){return t?t===this.name&&(f==="rootElement"||f==="view:rootElement"||f==="editableElement"||f==="view:editableElement"||f==="containerElement"||f==="view:containerElement"||f==="element"||f==="view:element"):f==="rootElement"||f==="view:rootElement"||f==="editableElement"||f==="view:editableElement"||f==="containerElement"||f==="view:containerElement"||f==="element"||f==="view:element"||f==="node"||f==="view:node"};class Du{constructor(t={}){if(!t.boundaries&&!t.startPosition)throw new B("view-tree-walker-no-start-position",null);if(t.direction&&t.direction!="forward"&&t.direction!="backward")throw new B("view-tree-walker-unknown-direction",t.startPosition,{direction:t.direction});this.boundaries=t.boundaries||null,t.startPosition?this._position=pt._createAt(t.startPosition):this._position=pt._createAt(t.boundaries[t.direction=="backward"?"end":"start"]),this.direction=t.direction||"forward",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(t){let s,a;do a=this.position,s=this.next();while(!s.done&&t(s.value));s.done||(this._position=a)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let t=this.position.clone();const s=this.position,a=t.parent;if(a.parent===null&&t.offset===a.childCount)return{done:!0,value:void 0};if(a===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let d;if(a instanceof Cn){if(t.isAtEnd)return this._position=pt._createAfter(a),this._next();d=a.data[t.offset]}else d=a.getChild(t.offset);if(d instanceof Ls){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}else t=new pt(d,0);return this._position=t,this._formatReturnValue("elementStart",d,s,t,1)}if(d instanceof Cn){if(this.singleCharacters)return t=new pt(d,0),this._position=t,this._next();let p,w=d.data.length;return d==this._boundaryEndParent?(w=this.boundaries.end.offset,p=new Aa(d,0,w),t=pt._createAfter(p)):(p=new Aa(d,0,d.data.length),t.offset++),this._position=t,this._formatReturnValue("text",p,s,t,w)}if(typeof d=="string"){let p;this.singleCharacters?p=1:p=(a===this._boundaryEndParent?this.boundaries.end.offset:a.data.length)-t.offset;const w=new Aa(a,t.offset,p);return t.offset+=p,this._position=t,this._formatReturnValue("text",w,s,t,p)}return t=pt._createAfter(a),this._position=t,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",a,s,t)}_previous(){let t=this.position.clone();const s=this.position,a=t.parent;if(a.parent===null&&t.offset===0)return{done:!0,value:void 0};if(a==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let d;if(a instanceof Cn){if(t.isAtStart)return this._position=pt._createBefore(a),this._previous();d=a.data[t.offset-1]}else d=a.getChild(t.offset-1);if(d instanceof Ls)return this.shallow?(t.offset--,this._position=t,this._formatReturnValue("elementStart",d,s,t,1)):(t=new pt(d,d.childCount),this._position=t,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",d,s,t));if(d instanceof Cn){if(this.singleCharacters)return t=new pt(d,d.data.length),this._position=t,this._previous();let p,w=d.data.length;if(d==this._boundaryStartParent){const k=this.boundaries.start.offset;p=new Aa(d,k,d.data.length-k),w=p.data.length,t=pt._createBefore(p)}else p=new Aa(d,0,d.data.length),t.offset--;return this._position=t,this._formatReturnValue("text",p,s,t,w)}if(typeof d=="string"){let p;if(this.singleCharacters)p=1;else{const k=a===this._boundaryStartParent?this.boundaries.start.offset:0;p=t.offset-k}t.offset-=p;const w=new Aa(a,t.offset,p);return this._position=t,this._formatReturnValue("text",w,s,t,p)}return t=pt._createBefore(a),this._position=t,this._formatReturnValue("elementStart",a,s,t,1)}_formatReturnValue(t,s,a,d,p){return s instanceof Aa&&(s.offsetInText+s.data.length==s.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?a=pt._createAfter(s.textNode):(d=pt._createAfter(s.textNode),this._position=d)),s.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?a=pt._createBefore(s.textNode):(d=pt._createBefore(s.textNode),this._position=d))),{done:!1,value:{type:t,item:s,previousPosition:a,nextPosition:d,length:p}}}}class pt extends Au{constructor(t,s){super(),this.parent=t,this.offset=s}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const t=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===t}get root(){return this.parent.root}get editableElement(){let t=this.parent;for(;!(t instanceof Dg);){if(!t.parent)return null;t=t.parent}return t}getShiftedBy(t){const s=pt._createAt(this),a=s.offset+t;return s.offset=a<0?0:a,s}getLastMatchingPosition(t,s={}){s.startPosition=this;const a=new Du(s);return a.skip(t),a.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(t){const s=this.getAncestors(),a=t.getAncestors();let d=0;for(;s[d]==a[d]&&s[d];)d++;return d===0?null:s[d-1]}isEqual(t){return this.parent==t.parent&&this.offset==t.offset}isBefore(t){return this.compareWith(t)=="before"}isAfter(t){return this.compareWith(t)=="after"}compareWith(t){if(this.root!==t.root)return"different";if(this.isEqual(t))return"same";const s=this.parent.is("node")?this.parent.getPath():[],a=t.parent.is("node")?t.parent.getPath():[];s.push(this.offset),a.push(t.offset);const d=qe(s,a);switch(d){case"prefix":return"before";case"extension":return"after";default:return s[d]<a[d]?"before":"after"}}getWalker(t={}){return t.startPosition=this,new Du(t)}clone(){return new pt(this.parent,this.offset)}static _createAt(t,s){if(t instanceof pt)return new this(t.parent,t.offset);{const a=t;if(s=="end")s=a.is("$text")?a.data.length:a.childCount;else{if(s=="before")return this._createBefore(a);if(s=="after")return this._createAfter(a);if(s!==0&&!s)throw new B("view-createpositionat-offset-required",a)}return new pt(a,s)}}static _createAfter(t){if(t.is("$textProxy"))return new pt(t.textNode,t.offsetInText+t.data.length);if(!t.parent)throw new B("view-position-after-root",t,{root:t});return new pt(t.parent,t.index+1)}static _createBefore(t){if(t.is("$textProxy"))return new pt(t.textNode,t.offsetInText);if(!t.parent)throw new B("view-position-before-root",t,{root:t});return new pt(t.parent,t.index)}}pt.prototype.is=function(f){return f==="position"||f==="view:position"};class Zt extends Au{constructor(t,s=null){super(),this.start=t.clone(),this.end=s?s.clone():t.clone()}*[Symbol.iterator](){yield*new Du({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let t=this.start.getLastMatchingPosition(zy,{direction:"backward"}),s=this.end.getLastMatchingPosition(zy);return t.parent.is("$text")&&t.isAtStart&&(t=pt._createBefore(t.parent)),s.parent.is("$text")&&s.isAtEnd&&(s=pt._createAfter(s.parent)),new Zt(t,s)}getTrimmed(){let t=this.start.getLastMatchingPosition(zy);if(t.isAfter(this.end)||t.isEqual(this.end))return new Zt(t,t);let s=this.end.getLastMatchingPosition(zy,{direction:"backward"});const a=t.nodeAfter,d=s.nodeBefore;return a&&a.is("$text")&&(t=new pt(a,0)),d&&d.is("$text")&&(s=new pt(d,d.data.length)),new Zt(t,s)}isEqual(t){return this==t||this.start.isEqual(t.start)&&this.end.isEqual(t.end)}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,s=!1){t.isCollapsed&&(s=!1);const a=this.containsPosition(t.start)||s&&this.start.isEqual(t.start),d=this.containsPosition(t.end)||s&&this.end.isEqual(t.end);return a&&d}getDifference(t){const s=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&s.push(new Zt(this.start,t.start)),this.containsPosition(t.end)&&s.push(new Zt(t.end,this.end))):s.push(this.clone()),s}getIntersection(t){if(this.isIntersecting(t)){let s=this.start,a=this.end;return this.containsPosition(t.start)&&(s=t.start),this.containsPosition(t.end)&&(a=t.end),new Zt(s,a)}return null}getWalker(t={}){return t.boundaries=this,new Du(t)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let t=this.start.nodeAfter,s=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(t=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(s=this.end.parent.previousSibling),t&&t.is("element")&&t===s?t:null}clone(){return new Zt(this.start,this.end)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const s=new Du(t);for(const a of s)yield a.item}*getPositions(t={}){t.boundaries=this;const s=new Du(t);yield s.position;for(const a of s)yield a.nextPosition}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}static _createFromParentsAndOffsets(t,s,a,d){return new this(new pt(t,s),new pt(a,d))}static _createFromPositionAndShift(t,s){const a=t,d=t.getShiftedBy(s);return s>0?new this(a,d):new this(d,a)}static _createIn(t){return this._createFromParentsAndOffsets(t,0,t,t.childCount)}static _createOn(t){const s=t.is("$textProxy")?t.offsetSize:1;return this._createFromPositionAndShift(pt._createBefore(t),s)}}function zy(f){return!(!f.item.is("attributeElement")&&!f.item.is("uiElement"))}Zt.prototype.is=function(f){return f==="range"||f==="view:range"};class Ca extends X(Au){constructor(...t){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",t.length&&this.setTo(...t)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.end:t.start).clone()}get focus(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.start:t.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const t of this._ranges)yield t.clone()}getFirstRange(){let t=null;for(const s of this._ranges)t&&!s.start.isBefore(t.start)||(t=s);return t?t.clone():null}getLastRange(){let t=null;for(const s of this._ranges)t&&!s.end.isAfter(t.end)||(t=s);return t?t.clone():null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}isEqual(t){if(this.isFake!=t.isFake||this.isFake&&this.fakeSelectionLabel!=t.fakeSelectionLabel||this.rangeCount!=t.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const s of this._ranges){let a=!1;for(const d of t._ranges)if(s.isEqual(d)){a=!0;break}if(!a)return!1}return!0}isSimilar(t){if(this.isBackward!=t.isBackward)return!1;const s=He(this.getRanges());if(s!=He(t.getRanges()))return!1;if(s==0)return!0;for(let a of this.getRanges()){a=a.getTrimmed();let d=!1;for(let p of t.getRanges())if(p=p.getTrimmed(),a.start.isEqual(p.start)&&a.end.isEqual(p.end)){d=!0;break}if(!d)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...t){let[s,a,d]=t;if(typeof a=="object"&&(d=a,a=void 0),s===null)this._setRanges([]),this._setFakeOptions(d);else if(s instanceof Ca||s instanceof ip)this._setRanges(s.getRanges(),s.isBackward),this._setFakeOptions({fake:s.isFake,label:s.fakeSelectionLabel});else if(s instanceof Zt)this._setRanges([s],d&&d.backward),this._setFakeOptions(d);else if(s instanceof pt)this._setRanges([new Zt(s)]),this._setFakeOptions(d);else if(s instanceof Sa){const p=!!d&&!!d.backward;let w;if(a===void 0)throw new B("view-selection-setto-required-second-parameter",this);w=a=="in"?Zt._createIn(s):a=="on"?Zt._createOn(s):new Zt(pt._createAt(s,a)),this._setRanges([w],p),this._setFakeOptions(d)}else{if(!Fe(s))throw new B("view-selection-setto-not-selectable",this);this._setRanges(s,d&&d.backward),this._setFakeOptions(d)}this.fire("change")}setFocus(t,s){if(this.anchor===null)throw new B("view-selection-setfocus-no-ranges",this);const a=pt._createAt(t,s);if(a.compareWith(this.focus)=="same")return;const d=this.anchor;this._ranges.pop(),a.compareWith(d)=="before"?this._addRange(new Zt(a,d),!0):this._addRange(new Zt(d,a)),this.fire("change")}_setRanges(t,s=!1){t=Array.from(t),this._ranges=[];for(const a of t)this._addRange(a);this._lastRangeBackward=!!s}_setFakeOptions(t={}){this._isFake=!!t.fake,this._fakeSelectionLabel=t.fake&&t.label||""}_addRange(t,s=!1){if(!(t instanceof Zt))throw new B("view-selection-add-range-not-range",this);this._pushRange(t),this._lastRangeBackward=!!s}_pushRange(t){for(const s of this._ranges)if(t.isIntersecting(s))throw new B("view-selection-range-intersects",this,{addedRange:t,intersectingRange:s});this._ranges.push(new Zt(t.start,t.end))}}Ca.prototype.is=function(f){return f==="selection"||f==="view:selection"};class ip extends X(Au){constructor(...t){super(),this._selection=new Ca,this._selection.delegate("change").to(this),t.length&&this._selection.setTo(...t)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(t){return this._selection.isEqual(t)}isSimilar(t){return this._selection.isSimilar(t)}_setTo(...t){this._selection.setTo(...t)}_setFocus(t,s){this._selection.setFocus(t,s)}}ip.prototype.is=function(f){return f==="selection"||f=="documentSelection"||f=="view:selection"||f=="view:documentSelection"};class Nu extends N{constructor(t,s,a){super(t,s),this.startRange=a,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const un=Symbol("bubbling contexts");function _r(f){return class extends f{fire(t,...s){try{const a=t instanceof N?t:new N(this,t),d=Ng(this);if(!d.size)return;if(xi(a,"capturing",this),Mi(d,"$capture",a,...s))return a.return;const p=a.startRange||this.selection.getFirstRange(),w=p?p.getContainedElement():null,k=!!w&&!!Pu(d,w);let D=w||function(R){if(!R)return null;const M=R.start.parent,L=R.end.parent,W=M.getPath(),J=L.getPath();return W.length>J.length?M:L}(p);if(xi(a,"atTarget",D),!k){if(Mi(d,"$text",a,...s))return a.return;xi(a,"bubbling",D)}for(;D;){if(D.is("rootElement")){if(Mi(d,"$root",a,...s))return a.return}else if(D.is("element")&&Mi(d,D.name,a,...s))return a.return;if(Mi(d,D,a,...s))return a.return;D=D.parent,xi(a,"bubbling",D)}return xi(a,"bubbling",this),Mi(d,"$document",a,...s),a.return}catch(a){B.rethrowUnexpectedError(a,this)}}_addEventListener(t,s,a){const d=Rn(a.context||"$document"),p=Ng(this);for(const w of d){let k=p.get(w);k||(k=new(X()),p.set(w,k)),this.listenTo(k,t,s,a)}}_removeEventListener(t,s){const a=Ng(this);for(const d of a.values())this.stopListening(d,t,s)}}}{const f=_r(Object);["fire","_addEventListener","_removeEventListener"].forEach(t=>{_r[t]=f.prototype[t]})}function xi(f,t,s){f instanceof Nu&&(f._eventPhase=t,f._currentTarget=s)}function Mi(f,t,s,...a){const d=typeof t=="string"?f.get(t):Pu(f,t);return!!d&&(d.fire(s,...a),s.stop.called)}function Pu(f,t){for(const[s,a]of f)if(typeof s=="function"&&s(t))return a;return null}function Ng(f){return f[un]||(f[un]=new Map),f[un]}class fr extends _r(ze()){constructor(t){super(),this._postFixers=new Set,this.selection=new ip,this.roots=new Fs({idProperty:"rootName"}),this.stylesProcessor=t,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(t="main"){return this.roots.get(t)}registerPostFixer(t){this._postFixers.add(t)}destroy(){this.roots.map(t=>t.destroy()),this.stopListening()}_callPostFixers(t){let s=!1;do for(const a of this._postFixers)if(s=a(t),s)break;while(s)}}class Dl extends Ls{constructor(t,s,a,d){super(t,s,a,d),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=rp}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new B("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(t){return this.id!==null||t.id!==null?this.id===t.id:super.isSimilar(t)&&this.priority==t.priority}_clone(t=!1){const s=super._clone(t);return s._priority=this._priority,s._id=this._id,s}}function rp(){if(Qd(this))return null;let f=this.parent;for(;f&&f.is("attributeElement");){if(Qd(f)>1)return null;f=f.parent}return!f||Qd(f)>1?null:this.childCount}function Qd(f){return Array.from(f.getChildren()).filter(t=>!t.is("uiElement")).length}Dl.DEFAULT_PRIORITY=10,Dl.prototype.is=function(f,t){return t?t===this.name&&(f==="attributeElement"||f==="view:attributeElement"||f==="element"||f==="view:element"):f==="attributeElement"||f==="view:attributeElement"||f==="element"||f==="view:element"||f==="node"||f==="view:node"};class ju extends Ls{constructor(t,s,a,d){super(t,s,a,d),this.getFillerOffset=Fx}_insertChild(t,s){if(s&&(s instanceof Sa||Array.from(s).length>0))throw new B("view-emptyelement-cannot-add",[this,s]);return 0}}function Fx(){return null}ju.prototype.is=function(f,t){return t?t===this.name&&(f==="emptyElement"||f==="view:emptyElement"||f==="element"||f==="view:element"):f==="emptyElement"||f==="view:emptyElement"||f==="element"||f==="view:element"||f==="node"||f==="view:node"};class sp extends Ls{constructor(t,s,a,d){super(t,s,a,d),this.getFillerOffset=Lx}_insertChild(t,s){if(s&&(s instanceof Sa||Array.from(s).length>0))throw new B("view-uielement-cannot-add",[this,s]);return 0}render(t,s){return this.toDomElement(t)}toDomElement(t){const s=t.createElement(this.name);for(const a of this.getAttributeKeys())s.setAttribute(a,this.getAttribute(a));return s}}function Ux(f){f.document.on("arrowKey",(t,s)=>function(a,d,p){if(d.keyCode==Gt.arrowright){const w=d.domTarget.ownerDocument.defaultView.getSelection(),k=w.rangeCount==1&&w.getRangeAt(0).collapsed;if(k||d.shiftKey){const D=w.focusNode,R=w.focusOffset,M=p.domPositionToView(D,R);if(M===null)return;let L=!1;const W=M.getLastMatchingPosition(J=>(J.item.is("uiElement")&&(L=!0),!(!J.item.is("uiElement")&&!J.item.is("attributeElement"))));if(L){const J=p.viewPositionToDom(W);k?w.collapse(J.parent,J.offset):w.extend(J.parent,J.offset)}}}}(0,s,f.domConverter),{priority:"low"})}function Lx(){return null}sp.prototype.is=function(f,t){return t?t===this.name&&(f==="uiElement"||f==="view:uiElement"||f==="element"||f==="view:element"):f==="uiElement"||f==="view:uiElement"||f==="element"||f==="view:element"||f==="node"||f==="view:node"};class Iu extends Ls{constructor(t,s,a,d){super(t,s,a,d),this.getFillerOffset=OA}_insertChild(t,s){if(s&&(s instanceof Sa||Array.from(s).length>0))throw new B("view-rawelement-cannot-add",[this,s]);return 0}render(t,s){}}function OA(){return null}Iu.prototype.is=function(f,t){return t?t===this.name&&(f==="rawElement"||f==="view:rawElement"||f==="element"||f==="view:element"):f==="rawElement"||f==="view:rawElement"||f===this.name||f==="view:"+this.name||f==="element"||f==="view:element"||f==="node"||f==="view:node"};class xt extends X(Au){constructor(t,s){super(),this._children=[],this._customProperties=new Map,this.document=t,s&&this._insertChild(0,s)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}getCustomProperty(t){return this._customProperties.get(t)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(t){return this._insertChild(this.childCount,t)}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(t,s){this._fireChange("children",this);let a=0;const d=function(p,w){return typeof w=="string"?[new Cn(p,w)]:(Fe(w)||(w=[w]),Array.from(w).map(k=>typeof k=="string"?new Cn(p,k):k instanceof Aa?new Cn(p,k.data):k))}(this.document,s);for(const p of d)p.parent!==null&&p._remove(),p.parent=this,this._children.splice(t,0,p),t++,a++;return a}_removeChildren(t,s=1){this._fireChange("children",this);for(let a=t;a<t+s;a++)this._children[a].parent=null;return this._children.splice(t,s)}_fireChange(t,s){this.fire("change:"+t,s)}_setCustomProperty(t,s){this._customProperties.set(t,s)}_removeCustomProperty(t){return this._customProperties.delete(t)}}xt.prototype.is=function(f){return f==="documentFragment"||f==="view:documentFragment"};class Pg{constructor(t){this._cloneGroups=new Map,this._slotFactory=null,this.document=t}setSelection(...t){this.document.selection._setTo(...t)}setSelectionFocus(t,s){this.document.selection._setFocus(t,s)}createDocumentFragment(t){return new xt(this.document,t)}createText(t){return new Cn(this.document,t)}createAttributeElement(t,s,a={}){const d=new Dl(this.document,t,s);return typeof a.priority=="number"&&(d._priority=a.priority),a.id&&(d._id=a.id),a.renderUnsafeAttributes&&d._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),d}createContainerElement(t,s,a={},d={}){let p=null;sn(a)?d=a:p=a;const w=new np(this.document,t,s,p);return d.renderUnsafeAttributes&&w._unsafeAttributesToRender.push(...d.renderUnsafeAttributes),w}createEditableElement(t,s,a={}){const d=new Dg(this.document,t,s);return a.renderUnsafeAttributes&&d._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),d}createEmptyElement(t,s,a={}){const d=new ju(this.document,t,s);return a.renderUnsafeAttributes&&d._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),d}createUIElement(t,s,a){const d=new sp(this.document,t,s);return a&&(d.render=a),d}createRawElement(t,s,a,d={}){const p=new Iu(this.document,t,s);return a&&(p.render=a),d.renderUnsafeAttributes&&p._unsafeAttributesToRender.push(...d.renderUnsafeAttributes),p}setAttribute(t,s,a){a._setAttribute(t,s)}removeAttribute(t,s){s._removeAttribute(t)}addClass(t,s){s._addClass(t)}removeClass(t,s){s._removeClass(t)}setStyle(t,s,a){sn(t)&&a===void 0?s._setStyle(t):a._setStyle(t,s)}removeStyle(t,s){s._removeStyle(t)}setCustomProperty(t,s,a){a._setCustomProperty(t,s)}removeCustomProperty(t,s){return s._removeCustomProperty(t)}breakAttributes(t){return t instanceof pt?this._breakAttributes(t):this._breakAttributesRange(t)}breakContainer(t){const s=t.parent;if(!s.is("containerElement"))throw new B("view-writer-break-non-container-element",this.document);if(!s.parent)throw new B("view-writer-break-root",this.document);if(t.isAtStart)return pt._createBefore(s);if(!t.isAtEnd){const a=s._clone(!1);this.insert(pt._createAfter(s),a);const d=new Zt(t,pt._createAt(s,"end")),p=new pt(a,0);this.move(d,p)}return pt._createAfter(s)}mergeAttributes(t){const s=t.offset,a=t.parent;if(a.is("$text"))return t;if(a.is("attributeElement")&&a.childCount===0){const w=a.parent,k=a.index;return a._remove(),this._removeFromClonedElementsGroup(a),this.mergeAttributes(new pt(w,k))}const d=a.getChild(s-1),p=a.getChild(s);if(!d||!p)return t;if(d.is("$text")&&p.is("$text"))return op(d,p);if(d.is("attributeElement")&&p.is("attributeElement")&&d.isSimilar(p)){const w=d.childCount;return d._appendChild(p.getChildren()),p._remove(),this._removeFromClonedElementsGroup(p),this.mergeAttributes(new pt(d,w))}return t}mergeContainers(t){const s=t.nodeBefore,a=t.nodeAfter;if(!(s&&a&&s.is("containerElement")&&a.is("containerElement")))throw new B("view-writer-merge-containers-invalid-position",this.document);const d=s.getChild(s.childCount-1),p=d instanceof Cn?pt._createAt(d,"end"):pt._createAt(s,"end");return this.move(Zt._createIn(a),pt._createAt(s,"end")),this.remove(Zt._createOn(a)),p}insert(t,s){Vy(s=Fe(s)?[...s]:[s],this.document);const a=s.reduce((w,k)=>{const D=w[w.length-1],R=!k.is("uiElement");return D&&D.breakAttributes==R?D.nodes.push(k):w.push({breakAttributes:R,nodes:[k]}),w},[]);let d=null,p=t;for(const{nodes:w,breakAttributes:k}of a){const D=this._insertNodes(p,w,k);d||(d=D.start),p=D.end}return d?new Zt(d,p):new Zt(t)}remove(t){const s=t instanceof Zt?t:Zt._createOn(t);if(Ec(s,this.document),s.isCollapsed)return new xt(this.document);const{start:a,end:d}=this._breakAttributesRange(s,!0),p=a.parent,w=d.offset-a.offset,k=p._removeChildren(a.offset,w);for(const R of k)this._removeFromClonedElementsGroup(R);const D=this.mergeAttributes(a);return s.start=D,s.end=D.clone(),new xt(this.document,k)}clear(t,s){Ec(t,this.document);const a=t.getWalker({direction:"backward",ignoreElementEnd:!0});for(const d of a){const p=d.item;let w;if(p.is("element")&&s.isSimilar(p))w=Zt._createOn(p);else if(!d.nextPosition.isAfter(t.start)&&p.is("$textProxy")){const k=p.getAncestors().find(D=>D.is("element")&&s.isSimilar(D));k&&(w=Zt._createIn(k))}w&&(w.end.isAfter(t.end)&&(w.end=t.end),w.start.isBefore(t.start)&&(w.start=t.start),this.remove(w))}}move(t,s){let a;if(s.isAfter(t.end)){const d=(s=this._breakAttributes(s,!0)).parent,p=d.childCount;t=this._breakAttributesRange(t,!0),a=this.remove(t),s.offset+=d.childCount-p}else a=this.remove(t);return this.insert(s,a)}wrap(t,s){if(!(s instanceof Dl))throw new B("view-writer-wrap-invalid-attribute",this.document);if(Ec(t,this.document),t.isCollapsed){let d=t.start;d.parent.is("element")&&(a=d.parent,!Array.from(a.getChildren()).some(w=>!w.is("uiElement")))&&(d=d.getLastMatchingPosition(w=>w.item.is("uiElement"))),d=this._wrapPosition(d,s);const p=this.document.selection;return p.isCollapsed&&p.getFirstPosition().isEqual(t.start)&&this.setSelection(d),new Zt(d)}return this._wrapRange(t,s);var a}unwrap(t,s){if(!(s instanceof Dl))throw new B("view-writer-unwrap-invalid-attribute",this.document);if(Ec(t,this.document),t.isCollapsed)return t;const{start:a,end:d}=this._breakAttributesRange(t,!0),p=a.parent,w=this._unwrapChildren(p,a.offset,d.offset,s),k=this.mergeAttributes(w.start);k.isEqual(w.start)||w.end.offset--;const D=this.mergeAttributes(w.end);return new Zt(k,D)}rename(t,s){const a=new np(this.document,t,s.getAttributes());return this.insert(pt._createAfter(s),a),this.move(Zt._createIn(s),pt._createAt(a,0)),this.remove(Zt._createOn(s)),a}clearClonedElementsGroup(t){this._cloneGroups.delete(t)}createPositionAt(t,s){return pt._createAt(t,s)}createPositionAfter(t){return pt._createAfter(t)}createPositionBefore(t){return pt._createBefore(t)}createRange(t,s){return new Zt(t,s)}createRangeOn(t){return Zt._createOn(t)}createRangeIn(t){return Zt._createIn(t)}createSelection(...t){return new Ca(...t)}createSlot(t="children"){if(!this._slotFactory)throw new B("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,t)}_registerSlotFactory(t){this._slotFactory=t}_clearSlotFactory(){this._slotFactory=null}_insertNodes(t,s,a){let d,p;if(d=a?jg(t):t.parent.is("$text")?t.parent.parent:t.parent,!d)throw new B("view-writer-invalid-position-container",this.document);p=a?this._breakAttributes(t,!0):t.parent.is("$text")?eh(t):t;const w=d._insertChild(p.offset,s);for(const M of s)this._addToClonedElementsGroup(M);const k=p.getShiftedBy(w),D=this.mergeAttributes(p);D.isEqual(p)||k.offset--;const R=this.mergeAttributes(k);return new Zt(D,R)}_wrapChildren(t,s,a,d){let p=s;const w=[];for(;p<a;){const D=t.getChild(p),R=D.is("$text"),M=D.is("attributeElement");if(M&&this._wrapAttributeElement(d,D))w.push(new pt(t,p));else if(R||!M||Nl(d,D)){const L=d._clone();D._remove(),L._appendChild(D),t._insertChild(p,L),this._addToClonedElementsGroup(L),w.push(new pt(t,p))}else this._wrapChildren(D,0,D.childCount,d);p++}let k=0;for(const D of w)D.offset-=k,D.offset!=s&&(this.mergeAttributes(D).isEqual(D)||(k++,a--));return Zt._createFromParentsAndOffsets(t,s,t,a)}_unwrapChildren(t,s,a,d){let p=s;const w=[];for(;p<a;){const D=t.getChild(p);if(D.is("attributeElement"))if(D.isSimilar(d)){const R=D.getChildren(),M=D.childCount;D._remove(),t._insertChild(p,R),this._removeFromClonedElementsGroup(D),w.push(new pt(t,p),new pt(t,p+M)),p+=M,a+=M-1}else this._unwrapAttributeElement(d,D)?(w.push(new pt(t,p),new pt(t,p+1)),p++):(this._unwrapChildren(D,0,D.childCount,d),p++);else p++}let k=0;for(const D of w)D.offset-=k,!(D.offset==s||D.offset==a)&&(this.mergeAttributes(D).isEqual(D)||(k++,a--));return Zt._createFromParentsAndOffsets(t,s,t,a)}_wrapRange(t,s){const{start:a,end:d}=this._breakAttributesRange(t,!0),p=a.parent,w=this._wrapChildren(p,a.offset,d.offset,s),k=this.mergeAttributes(w.start);k.isEqual(w.start)||w.end.offset--;const D=this.mergeAttributes(w.end);return new Zt(k,D)}_wrapPosition(t,s){if(s.isSimilar(t.parent))return kc(t.clone());t.parent.is("$text")&&(t=eh(t));const a=this.createAttributeElement("_wrapPosition-fake-element");a._priority=Number.POSITIVE_INFINITY,a.isSimilar=()=>!1,t.parent._insertChild(t.offset,a);const d=new Zt(t,t.getShiftedBy(1));this.wrap(d,s);const p=new pt(a.parent,a.index);a._remove();const w=p.nodeBefore,k=p.nodeAfter;return w instanceof Cn&&k instanceof Cn?op(w,k):kc(p)}_wrapAttributeElement(t,s){if(!Wy(t,s)||t.name!==s.name||t.priority!==s.priority)return!1;for(const a of t.getAttributeKeys())if(a!=="class"&&a!=="style"&&s.hasAttribute(a)&&s.getAttribute(a)!==t.getAttribute(a))return!1;for(const a of t.getStyleNames())if(s.hasStyle(a)&&s.getStyle(a)!==t.getStyle(a))return!1;for(const a of t.getAttributeKeys())a!=="class"&&a!=="style"&&(s.hasAttribute(a)||this.setAttribute(a,t.getAttribute(a),s));for(const a of t.getStyleNames())s.hasStyle(a)||this.setStyle(a,t.getStyle(a),s);for(const a of t.getClassNames())s.hasClass(a)||this.addClass(a,s);return!0}_unwrapAttributeElement(t,s){if(!Wy(t,s)||t.name!==s.name||t.priority!==s.priority)return!1;for(const a of t.getAttributeKeys())if(a!=="class"&&a!=="style"&&(!s.hasAttribute(a)||s.getAttribute(a)!==t.getAttribute(a)))return!1;if(!s.hasClass(...t.getClassNames()))return!1;for(const a of t.getStyleNames())if(!s.hasStyle(a)||s.getStyle(a)!==t.getStyle(a))return!1;for(const a of t.getAttributeKeys())a!=="class"&&a!=="style"&&this.removeAttribute(a,s);return this.removeClass(Array.from(t.getClassNames()),s),this.removeStyle(Array.from(t.getStyleNames()),s),!0}_breakAttributesRange(t,s=!1){const a=t.start,d=t.end;if(Ec(t,this.document),t.isCollapsed){const D=this._breakAttributes(t.start,s);return new Zt(D,D)}const p=this._breakAttributes(d,s),w=p.parent.childCount,k=this._breakAttributes(a,s);return p.offset+=p.parent.childCount-w,new Zt(k,p)}_breakAttributes(t,s=!1){const a=t.offset,d=t.parent;if(t.parent.is("emptyElement"))throw new B("view-writer-cannot-break-empty-element",this.document);if(t.parent.is("uiElement"))throw new B("view-writer-cannot-break-ui-element",this.document);if(t.parent.is("rawElement"))throw new B("view-writer-cannot-break-raw-element",this.document);if(!s&&d.is("$text")&&Ta(d.parent)||Ta(d))return t.clone();if(d.is("$text"))return this._breakAttributes(eh(t),s);if(a==d.childCount){const p=new pt(d.parent,d.index+1);return this._breakAttributes(p,s)}if(a===0){const p=new pt(d.parent,d.index);return this._breakAttributes(p,s)}{const p=d.index+1,w=d._clone();d.parent._insertChild(p,w),this._addToClonedElementsGroup(w);const k=d.childCount-a,D=d._removeChildren(a,k);w._appendChild(D);const R=new pt(d.parent,p);return this._breakAttributes(R,s)}}_addToClonedElementsGroup(t){if(!t.root.is("rootElement"))return;if(t.is("element"))for(const d of t.getChildren())this._addToClonedElementsGroup(d);const s=t.id;if(!s)return;let a=this._cloneGroups.get(s);a||(a=new Set,this._cloneGroups.set(s,a)),a.add(t),t._clonesGroup=a}_removeFromClonedElementsGroup(t){if(t.is("element"))for(const d of t.getChildren())this._removeFromClonedElementsGroup(d);const s=t.id;if(!s)return;const a=this._cloneGroups.get(s);a&&a.delete(t)}}function jg(f){let t=f.parent;for(;!Ta(t);){if(!t)return;t=t.parent}return t}function Nl(f,t){return f.priority<t.priority||!(f.priority>t.priority)&&f.getIdentity()<t.getIdentity()}function kc(f){const t=f.nodeBefore;if(t&&t.is("$text"))return new pt(t,t.data.length);const s=f.nodeAfter;return s&&s.is("$text")?new pt(s,0):f}function eh(f){if(f.offset==f.parent.data.length)return new pt(f.parent.parent,f.parent.index+1);if(f.offset===0)return new pt(f.parent.parent,f.parent.index);const t=f.parent.data.slice(f.offset);return f.parent._data=f.parent.data.slice(0,f.offset),f.parent.parent._insertChild(f.parent.index+1,new Cn(f.root.document,t)),new pt(f.parent.parent,f.parent.index+1)}function op(f,t){const s=f.data.length;return f._data+=t.data,t._remove(),new pt(f,s)}const Bx=[Cn,Dl,np,ju,Iu,sp];function Vy(f,t){for(const s of f){if(!Bx.some(a=>s instanceof a))throw new B("view-writer-insert-invalid-node-type",t);s.is("$text")||Vy(s.getChildren(),t)}}function Ta(f){return f&&(f.is("containerElement")||f.is("documentFragment"))}function Ec(f,t){const s=jg(f.start),a=jg(f.end);if(!s||!a||s!==a)throw new B("view-writer-invalid-range-container",t)}function Wy(f,t){return f.id===null&&t.id===null}const Ig=f=>f.createTextNode(" "),Pl=f=>{const t=f.createElement("span");return t.dataset.ckeFiller="true",t.innerText=" ",t},Rg=f=>{const t=f.createElement("br");return t.dataset.ckeFiller="true",t},ds=7,Ru="⁠".repeat(ds);function ai(f){return typeof f=="string"?f.substr(0,ds)===Ru:Be(f)&&f.data.substr(0,ds)===Ru}function Vo(f){return f.data.length==ds&&ai(f)}function Sc(f){const t=typeof f=="string"?f:f.data;return ai(f)?t.slice(ds):t}function $y(f,t){if(t.keyCode==Gt.arrowleft){const s=t.domTarget.ownerDocument.defaultView.getSelection();if(s.rangeCount==1&&s.getRangeAt(0).collapsed){const a=s.getRangeAt(0).startContainer,d=s.getRangeAt(0).startOffset;ai(a)&&d<=ds&&s.collapse(a,0)}}}var hs=o(5037),ap={attributes:{"data-cke":!0}};ap.setAttributes=Tt(),ap.insert=Ot().bind(null,"head"),ap.domAPI=Rt(),ap.insertStyleElement=Mt(),It()(hs.Z,ap),hs.Z&&hs.Z.locals&&hs.Z.locals;class lp extends ze(){constructor(t,s){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=t,this.selection=s,this.set("isFocused",!1),this.set("isSelecting",!1),y.isBlink&&!y.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(t,s){if(t==="text")this.domConverter.mapViewToDom(s.parent)&&this.markedTexts.add(s);else{if(!this.domConverter.mapViewToDom(s))return;if(t==="attributes")this.markedAttributes.add(s);else{if(t!=="children")throw new B("view-renderer-unknown-type",this);this.markedChildren.add(s)}}}render(){if(this.isComposing&&!y.isAndroid)return;let t=null;const s=!(y.isBlink&&!y.isAndroid)||!this.isSelecting;for(const a of this.markedChildren)this._updateChildrenMappings(a);s?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?t=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(t=this.selection.getFirstPosition(),this.markedChildren.add(t.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(t=this.domConverter.domPositionToView(this._inlineFiller),t&&t.parent.is("$text")&&(t=pt._createBefore(t.parent)));for(const a of this.markedAttributes)this._updateAttrs(a);for(const a of this.markedChildren)this._updateChildren(a,{inlineFillerPosition:t});for(const a of this.markedTexts)!this.markedChildren.has(a.parent)&&this.domConverter.mapViewToDom(a.parent)&&this._updateText(a,{inlineFillerPosition:t});if(s)if(t){const a=this.domConverter.viewPositionToDom(t),d=a.parent.ownerDocument;ai(a.parent)?this._inlineFiller=a.parent:this._inlineFiller=qy(d,a.parent,a.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(t){const s=this.domConverter.mapViewToDom(t);if(!s)return;const a=Array.from(s.childNodes),d=Array.from(this.domConverter.viewChildrenToDom(t,{withChildren:!1})),p=this._diffNodeLists(a,d),w=this._findUpdateActions(p,a,d,FA);if(w.indexOf("update")!==-1){const k={equal:0,insert:0,delete:0};for(const D of w)if(D==="update"){const R=k.equal+k.insert,M=k.equal+k.delete,L=t.getChild(R);!L||L.is("uiElement")||L.is("rawElement")||this._updateElementMappings(L,a[M]),vg(d[R]),k.equal++}else k[D]++}}_updateElementMappings(t,s){this.domConverter.unbindDomElement(s),this.domConverter.bindElements(s,t),this.markedChildren.add(t),this.markedAttributes.add(t)}_getInlineFillerPosition(){const t=this.selection.getFirstPosition();return t.parent.is("$text")?pt._createBefore(t.parent):t}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),s=this.domConverter.viewPositionToDom(t);return!!(s&&Be(s.parent)&&ai(s.parent))}_removeInlineFiller(){const t=this._inlineFiller;if(!ai(t))throw new B("view-renderer-filler-was-lost",this);Vo(t)?t.remove():t.data=t.data.substr(ds),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),s=t.parent,a=t.offset;if(!this.domConverter.mapViewToDom(s.root)||!s.is("element")||!function(w){if(w.getAttribute("contenteditable")=="false")return!1;const k=w.findAncestor(D=>D.hasAttribute("contenteditable"));return!k||k.getAttribute("contenteditable")=="true"}(s)||a===s.getFillerOffset())return!1;const d=t.nodeBefore,p=t.nodeAfter;return!(d instanceof Cn||p instanceof Cn)&&(!y.isAndroid||!d&&!p)}_updateText(t,s){const a=this.domConverter.findCorrespondingDomText(t);let d=this.domConverter.viewToDom(t).data;const p=s.inlineFillerPosition;p&&p.parent==t.parent&&p.offset==t.index&&(d=Ru+d),Gy(a,d)}_updateAttrs(t){const s=this.domConverter.mapViewToDom(t);if(!s)return;const a=Array.from(s.attributes).map(p=>p.name),d=t.getAttributeKeys();for(const p of d)this.domConverter.setDomElementAttribute(s,p,t.getAttribute(p),t);for(const p of a)t.hasAttribute(p)||this.domConverter.removeDomElementAttribute(s,p)}_updateChildren(t,s){const a=this.domConverter.mapViewToDom(t);if(!a)return;if(y.isAndroid){let L=null;for(const W of Array.from(a.childNodes)){if(L&&Be(L)&&Be(W)){a.normalize();break}L=W}}const d=s.inlineFillerPosition,p=a.childNodes,w=Array.from(this.domConverter.viewChildrenToDom(t,{bind:!0}));d&&d.parent===t&&qy(a.ownerDocument,w,d.offset);const k=this._diffNodeLists(p,w),D=this._findUpdateActions(k,p,w,UA);let R=0;const M=new Set;for(const L of D)L==="delete"?(M.add(p[R]),vg(p[R])):L!=="equal"&&L!=="update"||R++;R=0;for(const L of D)L==="insert"?(Wd(a,R,w[R]),R++):L==="update"?(Gy(p[R],w[R].data),R++):L==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(w[R])),R++);for(const L of M)L.parentNode||this.domConverter.unbindDomElement(L)}_diffNodeLists(t,s){return t=function(a,d){const p=Array.from(a);return p.length==0||!d||p[p.length-1]==d&&p.pop(),p}(t,this._fakeSelectionContainer),C(t,s,Hy.bind(null,this.domConverter))}_findUpdateActions(t,s,a,d){if(t.indexOf("insert")===-1||t.indexOf("delete")===-1)return t;let p=[],w=[],k=[];const D={equal:0,insert:0,delete:0};for(const R of t)R==="insert"?k.push(a[D.equal+D.insert]):R==="delete"?w.push(s[D.equal+D.delete]):(p=p.concat(C(w,k,d).map(M=>M==="equal"?"update":M)),p.push("equal"),w=[],k=[]),D[R]++;return p.concat(C(w,k,d).map(R=>R==="equal"?"update":R))}_markDescendantTextToSync(t){if(t){if(t.is("$text"))this.markedTexts.add(t);else if(t.is("element"))for(const s of t.getChildren())this._markDescendantTextToSync(s)}}_updateSelection(){if(y.isBlink&&!y.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const t=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&t&&(this.selection.isFake?this._updateFakeSelection(t):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(t)):this.isComposing&&y.isAndroid||this._updateDomSelection(t))}_updateFakeSelection(t){const s=t.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(w){const k=w.createElement("div");return k.className="ck-fake-selection-container",Object.assign(k.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),k.textContent=" ",k}(s));const a=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(a,this.selection),!this._fakeSelectionNeedsUpdate(t))return;a.parentElement&&a.parentElement==t||t.appendChild(a),a.textContent=this.selection.fakeSelectionLabel||" ";const d=s.getSelection(),p=s.createRange();d.removeAllRanges(),p.selectNodeContents(a),d.addRange(p)}_updateDomSelection(t){const s=t.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(s))return;const a=this.domConverter.viewPositionToDom(this.selection.anchor),d=this.domConverter.viewPositionToDom(this.selection.focus);s.setBaseAndExtent(a.parent,a.offset,d.parent,d.offset),y.isGecko&&function(p,w){const k=p.parent;if(k.nodeType!=Node.ELEMENT_NODE||p.offset!=k.childNodes.length-1)return;const D=k.childNodes[p.offset];D&&D.tagName=="BR"&&w.addRange(w.getRangeAt(0))}(d,s)}_domSelectionNeedsUpdate(t){if(!this.domConverter.isDomSelectionCorrect(t))return!0;const s=t&&this.domConverter.domSelectionToView(t);return(!s||!this.selection.isEqual(s))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(s))}_fakeSelectionNeedsUpdate(t){const s=this._fakeSelectionContainer,a=t.ownerDocument.getSelection();return!s||s.parentElement!==t||a.anchorNode!==s&&!s.contains(a.anchorNode)||s.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const t of this.domDocuments){const s=t.getSelection();if(s.rangeCount){const a=t.activeElement,d=this.domConverter.mapDomToView(a);a&&d&&s.removeAllRanges()}}}_removeFakeSelection(){const t=this._fakeSelectionContainer;t&&t.remove()}_updateFocus(){if(this.isFocused){const t=this.selection.editableElement;t&&this.domConverter.focus(t)}}}function qy(f,t,s){const a=t instanceof Array?t:t.childNodes,d=a[s];if(Be(d))return d.data=Ru+d.data,d;{const p=f.createTextNode(Ru);return Array.isArray(t)?a.splice(s,0,p):Wd(t,s,p),p}}function FA(f,t){return ho(f)&&ho(t)&&!Be(f)&&!Be(t)&&!Os(f)&&!Os(t)&&f.tagName.toLowerCase()===t.tagName.toLowerCase()}function UA(f,t){return ho(f)&&ho(t)&&Be(f)&&Be(t)}function Hy(f,t,s){return t===s||(Be(t)&&Be(s)?t.data===s.data:!(!f.isBlockFiller(t)||!f.isBlockFiller(s)))}function Gy(f,t){const s=f.data;if(s==t)return;const a=_(s,t);for(const d of a)d.type==="insert"?f.insertData(d.index,d.values.join("")):f.deleteData(d.index,d.howMany)}const cp=Rg(de.document),LA=Ig(de.document),BA=Pl(de.document),Mu="data-ck-unsafe-attribute-",zA="data-ck-unsafe-element";class VA{constructor(t,{blockFillerMode:s,renderingMode:a="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new Cu,this._inlineObjectElementMatcher=new Cu,this.document=t,this.renderingMode=a,this.blockFillerMode=s||(a==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?de.document:de.document.implementation.createHTMLDocument("")}bindFakeSelection(t,s){this._fakeSelectionMapping.set(t,new Ca(s))}fakeSelectionToView(t){return this._fakeSelectionMapping.get(t)}bindElements(t,s){this._domToViewMapping.set(t,s),this._viewToDomMapping.set(s,t)}unbindDomElement(t){const s=this._domToViewMapping.get(t);if(s){this._domToViewMapping.delete(t),this._viewToDomMapping.delete(s);for(const a of Array.from(t.children))this.unbindDomElement(a)}}bindDocumentFragments(t,s){this._domToViewMapping.set(t,s),this._viewToDomMapping.set(s,t)}shouldRenderAttribute(t,s,a){return this.renderingMode==="data"||!(t=t.toLowerCase()).startsWith("on")&&(t!=="srcdoc"||!s.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(a==="img"&&(t==="src"||t==="srcset")||a==="source"&&t==="srcset"||!s.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(t,s){if(this.renderingMode==="data")return void(t.innerHTML=s);const a=new DOMParser().parseFromString(s,"text/html"),d=a.createDocumentFragment(),p=a.body.childNodes;for(;p.length>0;)d.appendChild(p[0]);const w=a.createTreeWalker(d,NodeFilter.SHOW_ELEMENT),k=[];let D;for(;D=w.nextNode();)k.push(D);for(const R of k){for(const L of R.getAttributeNames())this.setDomElementAttribute(R,L,R.getAttribute(L));const M=R.tagName.toLowerCase();this._shouldRenameElement(M)&&($A(M),R.replaceWith(this._createReplacementDomElement(M,R)))}for(;t.firstChild;)t.firstChild.remove();t.append(d)}viewToDom(t,s={}){if(t.is("$text")){const a=this._processDataFromViewText(t);return this._domDocument.createTextNode(a)}{if(this.mapViewToDom(t))return this.mapViewToDom(t);let a;if(t.is("documentFragment"))a=this._domDocument.createDocumentFragment(),s.bind&&this.bindDocumentFragments(a,t);else{if(t.is("uiElement"))return a=t.name==="$comment"?this._domDocument.createComment(t.getCustomProperty("$rawContent")):t.render(this._domDocument,this),s.bind&&this.bindElements(a,t),a;this._shouldRenameElement(t.name)?($A(t.name),a=this._createReplacementDomElement(t.name)):a=t.hasAttribute("xmlns")?this._domDocument.createElementNS(t.getAttribute("xmlns"),t.name):this._domDocument.createElement(t.name),t.is("rawElement")&&t.render(a,this),s.bind&&this.bindElements(a,t);for(const d of t.getAttributeKeys())this.setDomElementAttribute(a,d,t.getAttribute(d),t)}if(s.withChildren!==!1)for(const d of this.viewChildrenToDom(t,s))a.appendChild(d);return a}}setDomElementAttribute(t,s,a,d){const p=this.shouldRenderAttribute(s,a,t.tagName.toLowerCase())||d&&d.shouldRenderUnsafeAttribute(s);p||K("domconverter-unsafe-attribute-detected",{domElement:t,key:s,value:a}),function(w){try{de.document.createAttribute(w)}catch{return!1}return!0}(s)?(t.hasAttribute(s)&&!p?t.removeAttribute(s):t.hasAttribute(Mu+s)&&p&&t.removeAttribute(Mu+s),t.setAttribute(p?s:Mu+s,a)):K("domconverter-invalid-attribute-detected",{domElement:t,key:s,value:a})}removeDomElementAttribute(t,s){s!=zA&&(t.removeAttribute(s),t.removeAttribute(Mu+s))}*viewChildrenToDom(t,s={}){const a=t.getFillerOffset&&t.getFillerOffset();let d=0;for(const p of t.getChildren()){a===d&&(yield this._getBlockFiller());const w=p.is("element")&&!!p.getCustomProperty("dataPipeline:transparentRendering")&&!ci(p.getAttributes());w&&this.renderingMode=="data"?yield*this.viewChildrenToDom(p,s):(w&&K("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:p}),yield this.viewToDom(p,s)),d++}a===d&&(yield this._getBlockFiller())}viewRangeToDom(t){const s=this.viewPositionToDom(t.start),a=this.viewPositionToDom(t.end),d=this._domDocument.createRange();return d.setStart(s.parent,s.offset),d.setEnd(a.parent,a.offset),d}viewPositionToDom(t){const s=t.parent;if(s.is("$text")){const a=this.findCorrespondingDomText(s);if(!a)return null;let d=t.offset;return ai(a)&&(d+=ds),{parent:a,offset:d}}{let a,d,p;if(t.offset===0){if(a=this.mapViewToDom(s),!a)return null;p=a.childNodes[0]}else{const w=t.nodeBefore;if(d=w.is("$text")?this.findCorrespondingDomText(w):this.mapViewToDom(w),!d)return null;a=d.parentNode,p=d.nextSibling}return Be(p)&&ai(p)?{parent:p,offset:ds}:{parent:a,offset:d?pc(d)+1:0}}}domToView(t,s={}){const a=[],d=this._domToView(t,s,a),p=d.next().value;return p?(d.next(),this._processDomInlineNodes(null,a,s),p.is("$text")&&p.data.length==0?null:p):null}*domChildrenToView(t,s={},a=[]){for(let d=0;d<t.childNodes.length;d++){const p=t.childNodes[d],w=this._domToView(p,s,a),k=w.next().value;k!==null&&(this._isBlockViewElement(k)&&this._processDomInlineNodes(t,a,s),yield k,w.next())}this._processDomInlineNodes(t,a,s)}domSelectionToView(t){if(function(d){if(!y.isGecko||!d.rangeCount)return!1;const p=d.getRangeAt(0).startContainer;try{Object.prototype.toString.call(p)}catch{return!0}return!1}(t))return new Ca([]);if(t.rangeCount===1){let d=t.getRangeAt(0).startContainer;Be(d)&&(d=d.parentNode);const p=this.fakeSelectionToView(d);if(p)return p}const s=this.isDomSelectionBackward(t),a=[];for(let d=0;d<t.rangeCount;d++){const p=t.getRangeAt(d),w=this.domRangeToView(p);w&&a.push(w)}return new Ca(a,{backward:s})}domRangeToView(t){const s=this.domPositionToView(t.startContainer,t.startOffset),a=this.domPositionToView(t.endContainer,t.endOffset);return s&&a?new Zt(s,a):null}domPositionToView(t,s=0){if(this.isBlockFiller(t))return this.domPositionToView(t.parentNode,pc(t));const a=this.mapDomToView(t);if(a&&(a.is("uiElement")||a.is("rawElement")))return pt._createBefore(a);if(Be(t)){if(Vo(t))return this.domPositionToView(t.parentNode,pc(t));const d=this.findCorrespondingViewText(t);let p=s;return d?(ai(t)&&(p-=ds,p=p<0?0:p),new pt(d,p)):null}if(s===0){const d=this.mapDomToView(t);if(d)return new pt(d,0)}else{const d=t.childNodes[s-1];if(Be(d)&&Vo(d)||d&&this.isBlockFiller(d))return this.domPositionToView(d.parentNode,pc(d));const p=Be(d)?this.findCorrespondingViewText(d):this.mapDomToView(d);if(p&&p.parent)return new pt(p.parent,p.index+1)}return null}mapDomToView(t){return this.getHostViewElement(t)||this._domToViewMapping.get(t)}findCorrespondingViewText(t){if(Vo(t))return null;const s=this.getHostViewElement(t);if(s)return s;const a=t.previousSibling;if(a){if(!this.isElement(a))return null;const d=this.mapDomToView(a);if(d){const p=d.nextSibling;return p instanceof Cn?p:null}}else{const d=this.mapDomToView(t.parentNode);if(d){const p=d.getChild(0);return p instanceof Cn?p:null}}return null}mapViewToDom(t){return this._viewToDomMapping.get(t)}findCorrespondingDomText(t){const s=t.previousSibling;return s&&this.mapViewToDom(s)?this.mapViewToDom(s).nextSibling:!s&&t.parent&&this.mapViewToDom(t.parent)?this.mapViewToDom(t.parent).childNodes[0]:null}focus(t){const s=this.mapViewToDom(t);if(s&&s.ownerDocument.activeElement!==s){const{scrollX:a,scrollY:d}=de.window,p=[];zx(s,w=>{const{scrollLeft:k,scrollTop:D}=w;p.push([k,D])}),s.focus(),zx(s,w=>{const[k,D]=p.shift();w.scrollLeft=k,w.scrollTop=D}),de.window.scrollTo(a,d)}}_clearDomSelection(){const t=this.mapViewToDom(this.document.selection.editableElement);if(!t)return;const s=t.ownerDocument.defaultView.getSelection(),a=this.domSelectionToView(s);a&&a.rangeCount>0&&s.removeAllRanges()}isElement(t){return t&&t.nodeType==Node.ELEMENT_NODE}isDocumentFragment(t){return t&&t.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(t){return this.blockFillerMode=="br"?t.isEqualNode(cp):!(t.tagName!=="BR"||!th(t,this.blockElements)||t.parentNode.childNodes.length!==1)||t.isEqualNode(BA)||function(s,a){return s.isEqualNode(LA)&&th(s,a)&&s.parentNode.childNodes.length===1}(t,this.blockElements)}isDomSelectionBackward(t){if(t.isCollapsed)return!1;const s=this._domDocument.createRange();try{s.setStart(t.anchorNode,t.anchorOffset),s.setEnd(t.focusNode,t.focusOffset)}catch{return!1}const a=s.collapsed;return s.detach(),a}getHostViewElement(t){const s=function(a){const d=[];let p=a;for(;p&&p.nodeType!=Node.DOCUMENT_NODE;)d.unshift(p),p=p.parentNode;return d}(t);for(s.pop();s.length;){const a=s.pop(),d=this._domToViewMapping.get(a);if(d&&(d.is("uiElement")||d.is("rawElement")))return d}return null}isDomSelectionCorrect(t){return this._isDomSelectionPositionCorrect(t.anchorNode,t.anchorOffset)&&this._isDomSelectionPositionCorrect(t.focusNode,t.focusOffset)}registerRawContentMatcher(t){this._rawContentElementMatcher.add(t)}registerInlineObjectMatcher(t){this._inlineObjectElementMatcher.add(t)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return Ig(this._domDocument);case"markedNbsp":return Pl(this._domDocument);case"br":return Rg(this._domDocument)}}_isDomSelectionPositionCorrect(t,s){if(Be(t)&&ai(t)&&s<ds||this.isElement(t)&&ai(t.childNodes[s]))return!1;const a=this.mapDomToView(t);return!a||!a.is("uiElement")&&!a.is("rawElement")}*_domToView(t,s,a){if(this.isBlockFiller(t))return null;const d=this.getHostViewElement(t);if(d)return d;if(Os(t)&&s.skipComments)return null;if(Be(t)){if(Vo(t))return null;{const p=t.data;if(p==="")return null;const w=new Cn(this.document,p);return a.push(w),w}}{let p=this.mapDomToView(t);if(p)return this._isInlineObjectElement(p)&&a.push(p),p;if(this.isDocumentFragment(t))p=new xt(this.document),s.bind&&this.bindDocumentFragments(t,p);else{p=this._createViewElement(t,s),s.bind&&this.bindElements(t,p);const k=t.attributes;if(k)for(let D=k.length,R=0;R<D;R++)p._setAttribute(k[R].name,k[R].value);if(this._isViewElementWithRawContent(p,s))return p._setCustomProperty("$rawContent",t.innerHTML),this._isBlockViewElement(p)||a.push(p),p;if(Os(t))return p._setCustomProperty("$rawContent",t.data),p}yield p;const w=[];if(s.withChildren!==!1)for(const k of this.domChildrenToView(t,s,w))p._appendChild(k);if(this._isInlineObjectElement(p))a.push(p);else for(const k of w)a.push(k)}}_processDomInlineNodes(t,s,a){if(!s.length||t&&!this.isDocumentFragment(t)&&!this._isBlockDomElement(t))return;let d=!1;for(let p=0;p<s.length;p++){const w=s[p];if(!w.is("$text")){d=!1;continue}let k,D=!1;if(WA(w,this.preElements))k=Sc(w.data);else{k=w.data.replace(/[ \n\t\r]{1,}/g," "),D=/[^\S\u00A0]/.test(k.charAt(k.length-1));const R=p>0?s[p-1]:null,M=p+1<s.length?s[p+1]:null,L=!R||R.is("element")&&R.name=="br"||d,W=!M&&!ai(w.data);a.withChildren!==!1&&(L&&(k=k.replace(/^ /,"")),W&&(k=k.replace(/ $/,""))),k=Sc(k),k=k.replace(/ \u00A0/g,"  ");const J=M&&M.is("element")&&M.name!="br",re=M&&M.is("$text")&&M.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(k)||!M||J||re)&&(k=k.replace(/\u00A0$/," ")),(L||R&&R.is("element")&&R.name!="br")&&(k=k.replace(/^\u00A0/," "))}k.length==0&&w.parent?(w._remove(),s.splice(p,1),p--):(w._data=k,d=D)}s.length=0}_processDataFromViewText(t){let s=t.data;if(t.getAncestors().some(a=>this.preElements.includes(a.name)))return s;if(s.charAt(0)==" "){const a=this._getTouchingInlineViewNode(t,!1);!(a&&a.is("$textProxy")&&this._nodeEndsWithSpace(a))&&a||(s=" "+s.substr(1))}if(s.charAt(s.length-1)==" "){const a=this._getTouchingInlineViewNode(t,!0),d=a&&a.is("$textProxy")&&a.data.charAt(0)==" ";s.charAt(s.length-2)!=" "&&a&&!d||(s=s.substr(0,s.length-1)+" ")}return s.replace(/ {2}/g,"  ")}_nodeEndsWithSpace(t){if(t.getAncestors().some(a=>this.preElements.includes(a.name)))return!1;const s=this._processDataFromViewText(t);return s.charAt(s.length-1)==" "}_getTouchingInlineViewNode(t,s){const a=new Du({startPosition:s?pt._createAfter(t):pt._createBefore(t),direction:s?"forward":"backward"});for(const d of a){if(d.item.is("element","br"))return null;if(this._isInlineObjectElement(d.item))return d.item;if(d.item.is("containerElement"))return null;if(d.item.is("$textProxy"))return d.item}return null}_isBlockDomElement(t){return this.isElement(t)&&this.blockElements.includes(t.tagName.toLowerCase())}_isBlockViewElement(t){return t.is("element")&&this.blockElements.includes(t.name)}_isInlineObjectElement(t){return!!t.is("element")&&(t.name=="br"||this.inlineObjectElements.includes(t.name)||!!this._inlineObjectElementMatcher.match(t))}_createViewElement(t,s){if(Os(t))return new sp(this.document,"$comment");const a=s.keepOriginalCase?t.tagName:t.tagName.toLowerCase();return new Ls(this.document,a)}_isViewElementWithRawContent(t,s){return s.withChildren!==!1&&t.is("element")&&!!this._rawContentElementMatcher.match(t)}_shouldRenameElement(t){const s=t.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(s)}_createReplacementDomElement(t,s){const a=this._domDocument.createElement("span");if(a.setAttribute(zA,t),s){for(;s.firstChild;)a.appendChild(s.firstChild);for(const d of s.getAttributeNames())a.setAttribute(d,s.getAttribute(d))}return a}}function WA(f,t){return f.getAncestors().some(s=>s.is("element")&&t.includes(s.name))}function zx(f,t){let s=f;for(;s;)t(s),s=s.parentElement}function th(f,t){const s=f.parentNode;return!!s&&!!s.tagName&&t.includes(s.tagName.toLowerCase())}function $A(f){f==="script"&&K("domconverter-unsafe-script-element-detected"),f==="style"&&K("domconverter-unsafe-style-element-detected")}class jl extends ur(){constructor(t){super(),this._isEnabled=!1,this.view=t,this.document=t.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(t){return t&&t.nodeType===3&&(t=t.parentNode),!(!t||t.nodeType!==1)&&t.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const Ac=Uy(function(f,t){ml(t,uo(t),f)});class up{constructor(t,s,a){this.view=t,this.document=t.document,this.domEvent=s,this.domTarget=s.target,Ac(this,a)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Cc extends jl{constructor(){super(...arguments),this.useCapture=!1}observe(t){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(s=>{this.listenTo(t,s,(a,d)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(d.target)&&this.onDomEvent(d)},{useCapture:this.useCapture})})}stopObserving(t){this.stopListening(t)}fire(t,s,a){this.isEnabled&&this.document.fire(t,new up(this.view,s,a))}}class yP extends Cc{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(t){const s={keyCode:t.keyCode,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,metaKey:t.metaKey,get keystroke(){return Ri(this)}};this.fire(t.type,t,s)}}const Xy=function(){return le.Date.now()};var Ou=/\s/;const vP=function(f){for(var t=f.length;t--&&Ou.test(f.charAt(t)););return t};var wP=/^\s+/;const xP=function(f){return f&&f.slice(0,vP(f)+1).replace(wP,"")};var Wo=/^[-+]0x[0-9a-f]+$/i,Vx=/^0b[01]+$/i,Fu=/^0o[0-7]+$/i,Ky=parseInt;const nh=function(f){if(typeof f=="number")return f;if(Tg(f))return NaN;if(Oe(f)){var t=typeof f.valueOf=="function"?f.valueOf():f;f=Oe(t)?t+"":t}if(typeof f!="string")return f===0?f:+f;f=xP(f);var s=Vx.test(f);return s||Fu.test(f)?Ky(f.slice(2),s?2:8):Wo.test(f)?NaN:+f};var Wx=Math.max,$x=Math.min;const ih=function(f,t,s){var a,d,p,w,k,D,R=0,M=!1,L=!1,W=!0;if(typeof f!="function")throw new TypeError("Expected a function");function J($e){var Qe=a,St=d;return a=d=void 0,R=$e,w=f.apply(St,Qe)}function re($e){var Qe=$e-D;return D===void 0||Qe>=t||Qe<0||L&&$e-R>=p}function ae(){var $e=Xy();if(re($e))return ve($e);k=setTimeout(ae,function(Qe){var St=t-(Qe-D);return L?$x(St,p-(Qe-R)):St}($e))}function ve($e){return k=void 0,W&&a?J($e):(a=d=void 0,w)}function je(){var $e=Xy(),Qe=re($e);if(a=arguments,d=this,D=$e,Qe){if(k===void 0)return function(St){return R=St,k=setTimeout(ae,t),M?J(St):w}(D);if(L)return clearTimeout(k),k=setTimeout(ae,t),J(D)}return k===void 0&&(k=setTimeout(ae,t)),w}return t=nh(t)||0,Oe(s)&&(M=!!s.leading,p=(L="maxWait"in s)?Wx(nh(s.maxWait)||0,t):p,W="trailing"in s?!!s.trailing:W),je.cancel=function(){k!==void 0&&clearTimeout(k),R=0,a=D=d=k=void 0},je.flush=function(){return k===void 0?w:ve(Xy())},je};class _P extends jl{constructor(t){super(t),this._fireSelectionChangeDoneDebounced=ih(s=>{this.document.fire("selectionChangeDone",s)},200)}observe(){const t=this.document;t.on("arrowKey",(s,a)=>{t.selection.isFake&&this.isEnabled&&a.preventDefault()},{context:"$capture"}),t.on("arrowKey",(s,a)=>{t.selection.isFake&&this.isEnabled&&this._handleSelectionMove(a.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(t){const s=this.document.selection,a=new Ca(s.getRanges(),{backward:s.isBackward,fake:!1});t!=Gt.arrowleft&&t!=Gt.arrowup||a.setTo(a.getFirstPosition()),t!=Gt.arrowright&&t!=Gt.arrowdown||a.setTo(a.getLastPosition());const d={oldSelection:s,newSelection:a,domSelection:null};this.document.fire("selectionChange",d),this._fireSelectionChangeDoneDebounced(d)}}const Yy=function(f){return this.__data__.set(f,"__lodash_hash_undefined__"),this},qx=function(f){return this.__data__.has(f)};function Mg(f){var t=-1,s=f==null?0:f.length;for(this.__data__=new Fr;++t<s;)this.add(f[t])}Mg.prototype.add=Mg.prototype.push=Yy,Mg.prototype.has=qx;const Hx=Mg,Gx=function(f,t){for(var s=-1,a=f==null?0:f.length;++s<a;)if(t(f[s],s,f))return!0;return!1},Og=function(f,t){return f.has(t)},Fg=function(f,t,s,a,d,p){var w=1&s,k=f.length,D=t.length;if(k!=D&&!(w&&D>k))return!1;var R=p.get(f),M=p.get(t);if(R&&M)return R==t&&M==f;var L=-1,W=!0,J=2&s?new Hx:void 0;for(p.set(f,t),p.set(t,f);++L<k;){var re=f[L],ae=t[L];if(a)var ve=w?a(ae,re,L,t,f,p):a(re,ae,L,f,t,p);if(ve!==void 0){if(ve)continue;W=!1;break}if(J){if(!Gx(t,function(je,$e){if(!Og(J,$e)&&(re===je||d(re,je,s,a,p)))return J.push($e)})){W=!1;break}}else if(re!==ae&&!d(re,ae,s,a,p)){W=!1;break}}return p.delete(f),p.delete(t),W},qA=function(f){var t=-1,s=Array(f.size);return f.forEach(function(a,d){s[++t]=[d,a]}),s},kP=function(f){var t=-1,s=Array(f.size);return f.forEach(function(a){s[++t]=a}),s};var dp=Ue?Ue.prototype:void 0,Xx=dp?dp.valueOf:void 0;const Zy=function(f,t,s,a,d,p,w){switch(s){case"[object DataView]":if(f.byteLength!=t.byteLength||f.byteOffset!=t.byteOffset)return!1;f=f.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(f.byteLength!=t.byteLength||!p(new xl(f),new xl(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Xn(+f,+t);case"[object Error]":return f.name==t.name&&f.message==t.message;case"[object RegExp]":case"[object String]":return f==t+"";case"[object Map]":var k=qA;case"[object Set]":var D=1&a;if(k||(k=kP),f.size!=t.size&&!D)return!1;var R=w.get(f);if(R)return R==t;a|=2,w.set(f,t);var M=Fg(k(f),k(t),a,d,p,w);return w.delete(f),M;case"[object Symbol]":if(Xx)return Xx.call(f)==Xx.call(t)}return!1};var x=Object.prototype.hasOwnProperty;const E=function(f,t,s,a,d,p){var w=1&s,k=lg(f),D=k.length;if(D!=lg(t).length&&!w)return!1;for(var R=D;R--;){var M=k[R];if(!(w?M in t:x.call(t,M)))return!1}var L=p.get(f),W=p.get(t);if(L&&W)return L==t&&W==f;var J=!0;p.set(f,t),p.set(t,f);for(var re=w;++R<D;){var ae=f[M=k[R]],ve=t[M];if(a)var je=w?a(ve,ae,M,t,f,p):a(ae,ve,M,f,t,p);if(!(je===void 0?ae===ve||d(ae,ve,s,a,p):je)){J=!1;break}re||(re=M=="constructor")}if(J&&!re){var $e=f.constructor,Qe=t.constructor;$e==Qe||!("constructor"in f)||!("constructor"in t)||typeof $e=="function"&&$e instanceof $e&&typeof Qe=="function"&&Qe instanceof Qe||(J=!1)}return p.delete(f),p.delete(t),J};var I="[object Arguments]",z="[object Array]",q="[object Object]",se=Object.prototype.hasOwnProperty;const pe=function(f,t,s,a,d,p){var w=qt(f),k=qt(t),D=w?z:fc(f),R=k?z:fc(t),M=(D=D==I?q:D)==q,L=(R=R==I?q:R)==q,W=D==R;if(W&&uu(f)){if(!uu(t))return!1;w=!0,M=!1}if(W&&!M)return p||(p=new lo),w||Id(f)?Fg(f,t,s,a,d,p):Zy(f,t,D,s,a,d,p);if(!(1&s)){var J=M&&se.call(f,"__wrapped__"),re=L&&se.call(t,"__wrapped__");if(J||re){var ae=J?f.value():f,ve=re?t.value():t;return p||(p=new lo),d(ae,ve,s,a,p)}}return!!W&&(p||(p=new lo),E(f,t,s,a,d,p))},Ne=function f(t,s,a,d,p){return t===s||(t==null||s==null||!Vn(t)&&!Vn(s)?t!=t&&s!=s:pe(t,s,a,d,f,p))},We=function(f,t,s){var a=(s=typeof s=="function"?s:void 0)?s(f,t):void 0;return a===void 0?Ne(f,t,void 0,s):!!a};class Xe extends jl{constructor(t){super(t),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=t.domConverter,this.renderer=t._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(t){this._domElements.add(t),this.isEnabled&&this._mutationObserver.observe(t,this._config)}stopObserving(t){if(this._domElements.delete(t),this.isEnabled){this._mutationObserver.disconnect();for(const s of this._domElements)this._mutationObserver.observe(s,this._config)}}enable(){super.enable();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(t){if(t.length===0)return;const s=this.domConverter,a=new Set,d=new Set;for(const w of t){const k=s.mapDomToView(w.target);k&&(k.is("uiElement")||k.is("rawElement")||w.type!=="childList"||this._isBogusBrMutation(w)||d.add(k))}for(const w of t){const k=s.mapDomToView(w.target);if((!k||!k.is("uiElement")&&!k.is("rawElement"))&&w.type==="characterData"){const D=s.findCorrespondingViewText(w.target);D&&!d.has(D.parent)?a.add(D):!D&&ai(w.target)&&d.add(s.mapDomToView(w.target.parentNode))}}let p=!1;for(const w of a)p=!0,this.renderer.markToSync("text",w);for(const w of d){const k=s.mapViewToDom(w),D=Array.from(w.getChildren()),R=Array.from(s.domChildrenToView(k,{withChildren:!1}));We(D,R,ut)||(p=!0,this.renderer.markToSync("children",w))}p&&this.view.forceRender()}_isBogusBrMutation(t){let s=null;return t.nextSibling===null&&t.removedNodes.length===0&&t.addedNodes.length==1&&(s=this.domConverter.domToView(t.addedNodes[0],{withChildren:!1})),s&&s.is("element","br")}}function ut(f,t){if(!Array.isArray(f))return f===t||!(!f.is("$text")||!t.is("$text"))&&f.data===t.data}class kt extends Cc{constructor(t){super(t),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const s=this.document;s.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),t.change(()=>{})},50)}),s.on("blur",(a,d)=>{const p=s.selection.editableElement;p!==null&&p!==d.target||(s.isFocused=!1,this._isFocusChanging=!1,t.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(t){this.fire(t.type,t)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class lt extends jl{constructor(t){super(t),this.mutationObserver=t.getObserver(Xe),this.focusObserver=t.getObserver(kt),this.selection=this.document.selection,this.domConverter=t.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=ih(s=>{this.document.fire("selectionChangeDone",s)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=ih(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(t){const s=t.ownerDocument,a=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,s),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(t,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(t,"keydown",a,{priority:"highest",useCapture:!0}),this.listenTo(t,"keyup",a,{priority:"highest",useCapture:!0}),this._documents.has(s)||(this.listenTo(s,"mouseup",a,{priority:"highest",useCapture:!0}),this.listenTo(s,"selectionchange",(d,p)=>{this.document.isComposing&&!y.isAndroid||(this._handleSelectionChange(p,s),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(s))}stopObserving(t){this.stopListening(t)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(t,s){if(!this.isEnabled)return;const a=s.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(a.anchorNode))return;this.mutationObserver.flush();const d=this.domConverter.domSelectionToView(a);if(d.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(d)||!this.domConverter.isDomSelectionCorrect(a))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(d))this.view.forceRender();else{const p={oldSelection:this.selection,newSelection:d,domSelection:a};this.document.fire("selectionChange",p),this._fireSelectionChangeDoneDebounced(p)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class zt extends Cc{constructor(t){super(t),this.domEventType=["compositionstart","compositionupdate","compositionend"];const s=this.document;s.on("compositionstart",()=>{s.isComposing=!0},{priority:"low"}),s.on("compositionend",()=>{s.isComposing=!1},{priority:"low"})}onDomEvent(t){this.fire(t.type,t,{data:t.data})}}class an{constructor(t,s={}){this._files=s.cacheFiles?en(t):null,this._native=t}get files(){return this._files||(this._files=en(this._native)),this._files}get types(){return this._native.types}getData(t){return this._native.getData(t)}setData(t,s){this._native.setData(t,s)}set effectAllowed(t){this._native.effectAllowed=t}get effectAllowed(){return this._native.effectAllowed}set dropEffect(t){this._native.dropEffect=t}get dropEffect(){return this._native.dropEffect}setDragImage(t,s,a){this._native.setDragImage(t,s,a)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function en(f){const t=Array.from(f.files||[]),s=Array.from(f.items||[]);return t.length?t:s.filter(a=>a.kind==="file").map(a=>a.getAsFile())}class Ye extends Cc{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(t){const s=t.getTargetRanges(),a=this.view,d=a.document;let p=null,w=null,k=[];if(t.dataTransfer&&(p=new an(t.dataTransfer)),t.data!==null?w=t.data:p&&(w=p.getData("text/plain")),d.selection.isFake)k=Array.from(d.selection.getRanges());else if(s.length)k=s.map(D=>{const R=a.domConverter.domPositionToView(D.startContainer,D.startOffset),M=a.domConverter.domPositionToView(D.endContainer,D.endOffset);return R?a.createRange(R,M):M?a.createRange(M):void 0}).filter(D=>!!D);else if(y.isAndroid){const D=t.target.ownerDocument.defaultView.getSelection();k=Array.from(a.domConverter.domSelectionToView(D).getRanges())}if(y.isAndroid&&t.inputType=="insertCompositionText"&&w&&w.endsWith(`
`))this.fire(t.type,t,{inputType:"insertParagraph",targetRanges:[a.createRange(k[0].end)]});else if(t.inputType=="insertText"&&w&&w.includes(`
`)){const D=w.split(/\n{1,2}/g);let R=k;for(let M=0;M<D.length;M++){const L=D[M];L!=""&&(this.fire(t.type,t,{data:L,dataTransfer:p,targetRanges:R,inputType:t.inputType,isComposing:t.isComposing}),R=[d.selection.getFirstRange()]),M+1<D.length&&(this.fire(t.type,t,{inputType:"insertParagraph",targetRanges:R}),R=[d.selection.getFirstRange()])}}else this.fire(t.type,t,{data:w,dataTransfer:p,targetRanges:k,inputType:t.inputType,isComposing:t.isComposing})}}class Ge extends jl{constructor(t){super(t),this.document.on("keydown",(s,a)=>{if(this.isEnabled&&((d=a.keyCode)==Gt.arrowright||d==Gt.arrowleft||d==Gt.arrowup||d==Gt.arrowdown)){const p=new Nu(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(p,a),p.stop.called&&s.stop()}var d})}observe(){}stopObserving(){}}class Ke extends jl{constructor(t){super(t);const s=this.document;s.on("keydown",(a,d)=>{if(!this.isEnabled||d.keyCode!=Gt.tab||d.ctrlKey)return;const p=new Nu(s,"tab",s.selection.getFirstRange());s.fire(p,d),p.stop.called&&a.stop()})}observe(){}stopObserving(){}}const tt=function(f){return va(f,5)};class rt extends ze(){constructor(t){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new fr(t),this.domConverter=new VA(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new lp(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new Pg(this.document),this.addObserver(Xe),this.addObserver(kt),this.addObserver(lt),this.addObserver(yP),this.addObserver(_P),this.addObserver(zt),this.addObserver(Ge),this.addObserver(Ye),this.addObserver(Ke),this.document.on("arrowKey",$y,{priority:"low"}),Ux(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),y.isiOS&&this.listenTo(this.document,"blur",(s,a)=>{this.domConverter.mapDomToView(a.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(t,s="main"){const a=this.document.getRoot(s);a._name=t.tagName.toLowerCase();const d={};for(const{name:w,value:k}of Array.from(t.attributes))d[w]=k,w==="class"?this._writer.addClass(k.split(" "),a):this._writer.setAttribute(w,k,a);this._initialDomRootAttributes.set(t,d);const p=()=>{this._writer.setAttribute("contenteditable",(!a.isReadOnly).toString(),a),a.isReadOnly?this._writer.addClass("ck-read-only",a):this._writer.removeClass("ck-read-only",a)};p(),this.domRoots.set(s,t),this.domConverter.bindElements(t,a),this._renderer.markToSync("children",a),this._renderer.markToSync("attributes",a),this._renderer.domDocuments.add(t.ownerDocument),a.on("change:children",(w,k)=>this._renderer.markToSync("children",k)),a.on("change:attributes",(w,k)=>this._renderer.markToSync("attributes",k)),a.on("change:text",(w,k)=>this._renderer.markToSync("text",k)),a.on("change:isReadOnly",()=>this.change(p)),a.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const w of this._observers.values())w.observe(t,s)}detachDomRoot(t){const s=this.domRoots.get(t);Array.from(s.attributes).forEach(({name:d})=>s.removeAttribute(d));const a=this._initialDomRootAttributes.get(s);for(const d in a)s.setAttribute(d,a[d]);this.domRoots.delete(t),this.domConverter.unbindDomElement(s);for(const d of this._observers.values())d.stopObserving(s)}getDomRoot(t="main"){return this.domRoots.get(t)}addObserver(t){let s=this._observers.get(t);if(s)return s;s=new t(this),this._observers.set(t,s);for(const[a,d]of this.domRoots)s.observe(d,a);return s.enable(),s}getObserver(t){return this._observers.get(t)}disableObservers(){for(const t of this._observers.values())t.disable()}enableObservers(){for(const t of this._observers.values())t.enable()}scrollToTheSelection({alignToTop:t,forceScroll:s,viewportOffset:a=20,ancestorOffset:d=20}={}){const p=this.document.selection.getFirstRange();if(!p)return;const w=tt({alignToTop:t,forceScroll:s,viewportOffset:a,ancestorOffset:d});typeof a=="number"&&(a={top:a,bottom:a,left:a,right:a});const k={target:this.domConverter.viewRangeToDom(p),viewportOffset:a,ancestorOffset:d,alignToTop:t,forceScroll:s};this.fire("scrollToTheSelection",k,w),function({target:D,viewportOffset:R=0,ancestorOffset:M=0,alignToTop:L,forceScroll:W}){const J=yy(D);let re=J,ae=null;for(R=function(ve){return typeof ve=="number"?{top:ve,bottom:ve,left:ve,right:ve}:ve}(R);re;){let ve;ve=ux(re==J?D:ae),uA({parent:ve,getRect:()=>qd(D,re),alignToTop:L,ancestorOffset:M,forceScroll:W});const je=qd(D,re);if(Lf({window:re,rect:je,viewportOffset:R,alignToTop:L,forceScroll:W}),re.parent!=re){if(ae=re.frameElement,re=re.parent,!ae)return}else re=null}}(k)}focus(){if(!this.document.isFocused){const t=this.document.selection.editableElement;t&&(this.domConverter.focus(t),this.forceRender())}}change(t){if(this.isRenderingInProgress||this._postFixersInProgress)throw new B("cannot-change-view-tree",this);try{if(this._ongoingChange)return t(this._writer);this._ongoingChange=!0;const s=t(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),s}catch(s){B.rethrowUnexpectedError(s,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(kt).flush(),this.change(()=>{})}destroy(){for(const t of this._observers.values())t.destroy();this.document.destroy(),this.stopListening()}createPositionAt(t,s){return pt._createAt(t,s)}createPositionAfter(t){return pt._createAfter(t)}createPositionBefore(t){return pt._createBefore(t)}createRange(t,s){return new Zt(t,s)}createRangeOn(t){return Zt._createOn(t)}createRangeIn(t){return Zt._createIn(t)}createSelection(...t){return new Ca(...t)}_disableRendering(t){this._renderingDisabled=t,t==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Kt{is(){throw new Error("is() method is abstract")}}class Et extends Kt{constructor(t){super(),this.parent=null,this._attrs=ka(t)}get document(){return null}get index(){let t;if(!this.parent)return null;if((t=this.parent.getChildIndex(this))===null)throw new B("model-node-not-found-in-parent",this);return t}get startOffset(){let t;if(!this.parent)return null;if((t=this.parent.getChildStartOffset(this))===null)throw new B("model-node-not-found-in-parent",this);return t}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const t=this.index;return t!==null&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return t!==null&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const t=[];let s=this;for(;s.parent;)t.unshift(s.startOffset),s=s.parent;return t}getAncestors(t={}){const s=[];let a=t.includeSelf?this:this.parent;for(;a;)s[t.parentFirst?"push":"unshift"](a),a=a.parent;return s}getCommonAncestor(t,s={}){const a=this.getAncestors(s),d=t.getAncestors(s);let p=0;for(;a[p]==d[p]&&a[p];)p++;return p===0?null:a[p-1]}isBefore(t){if(this==t||this.root!==t.root)return!1;const s=this.getPath(),a=t.getPath(),d=qe(s,a);switch(d){case"prefix":return!0;case"extension":return!1;default:return s[d]<a[d]}}isAfter(t){return this!=t&&this.root===t.root&&!this.isBefore(t)}hasAttribute(t){return this._attrs.has(t)}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const t={};return this._attrs.size&&(t.attributes=Array.from(this._attrs).reduce((s,a)=>(s[a[0]]=a[1],s),{})),t}_clone(t){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(t,s){this._attrs.set(t,s)}_setAttributesTo(t){this._attrs=ka(t)}_removeAttribute(t){return this._attrs.delete(t)}_clearAttributes(){this._attrs.clear()}}Et.prototype.is=function(f){return f==="node"||f==="model:node"};class ln{constructor(t){this._nodes=[],t&&this._insertNodes(0,t)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((t,s)=>t+s.offsetSize,0)}getNode(t){return this._nodes[t]||null}getNodeIndex(t){const s=this._nodes.indexOf(t);return s==-1?null:s}getNodeStartOffset(t){const s=this.getNodeIndex(t);return s===null?null:this._nodes.slice(0,s).reduce((a,d)=>a+d.offsetSize,0)}indexToOffset(t){if(t==this._nodes.length)return this.maxOffset;const s=this._nodes[t];if(!s)throw new B("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(s)}offsetToIndex(t){let s=0;for(const a of this._nodes){if(t>=s&&t<s+a.offsetSize)return this.getNodeIndex(a);s+=a.offsetSize}if(s!=t)throw new B("model-nodelist-offset-out-of-bounds",this,{offset:t,nodeList:this});return this.length}_insertNodes(t,s){for(const a of s)if(!(a instanceof Et))throw new B("model-nodelist-insertnodes-not-node",this);this._nodes=function(a,d,p,w){if(Math.max(d.length,a.length)>1e4)return a.slice(0,p).concat(d).concat(a.slice(p+w,a.length));{const k=Array.from(a);return k.splice(p,w,...d),k}}(this._nodes,Array.from(s),t,0)}_removeNodes(t,s=1){return this._nodes.splice(t,s)}toJSON(){return this._nodes.map(t=>t.toJSON())}}class Ft extends Et{constructor(t,s){super(s),this._data=t||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const t=super.toJSON();return t.data=this.data,t}_clone(){return new Ft(this.data,this.getAttributes())}static fromJSON(t){return new Ft(t.data,t.attributes)}}Ft.prototype.is=function(f){return f==="$text"||f==="model:$text"||f==="text"||f==="model:text"||f==="node"||f==="model:node"};class Vt extends Kt{constructor(t,s,a){if(super(),this.textNode=t,s<0||s>t.offsetSize)throw new B("model-textproxy-wrong-offsetintext",this);if(a<0||s+a>t.offsetSize)throw new B("model-textproxy-wrong-length",this);this.data=t.data.substring(s,s+a),this.offsetInText=s}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const t=this.textNode.getPath();return t.length>0&&(t[t.length-1]+=this.offsetInText),t}getAncestors(t={}){const s=[];let a=t.includeSelf?this:this.parent;for(;a;)s[t.parentFirst?"push":"unshift"](a),a=a.parent;return s}hasAttribute(t){return this.textNode.hasAttribute(t)}getAttribute(t){return this.textNode.getAttribute(t)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Vt.prototype.is=function(f){return f==="$textProxy"||f==="model:$textProxy"||f==="textProxy"||f==="model:textProxy"};class Xt extends Et{constructor(t,s,a){super(s),this._children=new ln,this.name=t,a&&this._insertChild(0,a)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}offsetToIndex(t){return this._children.offsetToIndex(t)}getNodeByPath(t){let s=this;for(const a of t)s=s.getChild(s.offsetToIndex(a));return s}findAncestor(t,s={}){let a=s.includeSelf?this:this.parent;for(;a;){if(a.name===t)return a;a=a.parent}return null}toJSON(){const t=super.toJSON();if(t.name=this.name,this._children.length>0){t.children=[];for(const s of this._children)t.children.push(s.toJSON())}return t}_clone(t=!1){const s=t?Array.from(this._children).map(a=>a._clone(!0)):void 0;return new Xt(this.name,this.getAttributes(),s)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,s){const a=function(d){return typeof d=="string"?[new Ft(d)]:(Fe(d)||(d=[d]),Array.from(d).map(p=>typeof p=="string"?new Ft(p):p instanceof Vt?new Ft(p.data,p.getAttributes()):p))}(s);for(const d of a)d.parent!==null&&d._remove(),d.parent=this;this._children._insertNodes(t,a)}_removeChildren(t,s=1){const a=this._children._removeNodes(t,s);for(const d of a)d.parent=null;return a}static fromJSON(t){let s;if(t.children){s=[];for(const a of t.children)a.name?s.push(Xt.fromJSON(a)):s.push(Ft.fromJSON(a))}return new Xt(t.name,t.attributes,s)}}Xt.prototype.is=function(f,t){return t?t===this.name&&(f==="element"||f==="model:element"):f==="element"||f==="model:element"||f==="node"||f==="model:node"};class Il{constructor(t){if(!t||!t.boundaries&&!t.startPosition)throw new B("model-tree-walker-no-start-position",null);const s=t.direction||"forward";if(s!="forward"&&s!="backward")throw new B("model-tree-walker-unknown-direction",t,{direction:s});this.direction=s,this.boundaries=t.boundaries||null,t.startPosition?this._position=t.startPosition.clone():this._position=st._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(t){let s,a,d,p;do d=this.position,p=this._visitedParent,{done:s,value:a}=this.next();while(!s&&t(a));s||(this._position=d,this._visitedParent=p)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const t=this.position,s=this.position.clone(),a=this._visitedParent;if(a.parent===null&&s.offset===a.maxOffset)return{done:!0,value:void 0};if(a===this._boundaryEndParent&&s.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const d=Kx(s,a),p=d||RU(s,a,d);if(p instanceof Xt){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(s))return{done:!0,value:void 0};s.offset++}else s.path.push(0),this._visitedParent=p;return this._position=s,Ug("elementStart",p,t,s,1)}if(p instanceof Ft){let w;if(this.singleCharacters)w=1;else{let R=p.endOffset;this._boundaryEndParent==a&&this.boundaries.end.offset<R&&(R=this.boundaries.end.offset),w=R-s.offset}const k=s.offset-p.startOffset,D=new Vt(p,k,w);return s.offset+=w,this._position=s,Ug("text",D,t,s,w)}return s.path.pop(),s.offset++,this._position=s,this._visitedParent=a.parent,this.ignoreElementEnd?this._next():Ug("elementEnd",a,t,s)}_previous(){const t=this.position,s=this.position.clone(),a=this._visitedParent;if(a.parent===null&&s.offset===0)return{done:!0,value:void 0};if(a==this._boundaryStartParent&&s.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const d=s.parent,p=Kx(s,d),w=p||MU(s,d,p);if(w instanceof Xt)return s.offset--,this.shallow?(this._position=s,Ug("elementStart",w,t,s,1)):(s.path.push(w.maxOffset),this._position=s,this._visitedParent=w,this.ignoreElementEnd?this._previous():Ug("elementEnd",w,t,s));if(w instanceof Ft){let k;if(this.singleCharacters)k=1;else{let M=w.startOffset;this._boundaryStartParent==a&&this.boundaries.start.offset>M&&(M=this.boundaries.start.offset),k=s.offset-M}const D=s.offset-w.startOffset,R=new Vt(w,D-k,k);return s.offset-=k,this._position=s,Ug("text",R,t,s,k)}return s.path.pop(),this._position=s,this._visitedParent=a.parent,Ug("elementStart",a,t,s,1)}}function Ug(f,t,s,a,d){return{done:!1,value:{type:f,item:t,previousPosition:s,nextPosition:a,length:d}}}class st extends Kt{constructor(t,s,a="toNone"){if(super(),!t.is("element")&&!t.is("documentFragment"))throw new B("model-position-root-invalid",t);if(!(s instanceof Array)||s.length===0)throw new B("model-position-path-incorrect-format",t,{path:s});t.is("rootElement")?s=s.slice():(s=[...t.getPath(),...s],t=t.root),this.root=t,this.path=s,this.stickiness=a}get offset(){return this.path[this.path.length-1]}set offset(t){this.path[this.path.length-1]=t}get parent(){let t=this.root;for(let s=0;s<this.path.length-1;s++)if(t=t.getChild(t.offsetToIndex(this.path[s])),!t)throw new B("model-position-path-incorrect",this,{position:this});if(t.is("$text"))throw new B("model-position-path-incorrect",this,{position:this});return t}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Kx(this,this.parent)}get nodeAfter(){const t=this.parent;return RU(this,t,Kx(this,t))}get nodeBefore(){const t=this.parent;return MU(this,t,Kx(this,t))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(t){if(this.root!=t.root)return"different";const s=qe(this.path,t.path);switch(s){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[s]<t.path[s]?"before":"after"}}getLastMatchingPosition(t,s={}){s.startPosition=this;const a=new Il(s);return a.skip(t),a.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const t=this.parent;return t.is("documentFragment")?[t]:t.getAncestors({includeSelf:!0})}findAncestor(t){const s=this.parent;return s.is("element")?s.findAncestor(t,{includeSelf:!0}):null}getCommonPath(t){if(this.root!=t.root)return[];const s=qe(this.path,t.path),a=typeof s=="string"?Math.min(this.path.length,t.path.length):s;return this.path.slice(0,a)}getCommonAncestor(t){const s=this.getAncestors(),a=t.getAncestors();let d=0;for(;s[d]==a[d]&&s[d];)d++;return d===0?null:s[d-1]}getShiftedBy(t){const s=this.clone(),a=s.offset+t;return s.offset=a<0?0:a,s}isAfter(t){return this.compareWith(t)=="after"}isBefore(t){return this.compareWith(t)=="before"}isEqual(t){return this.compareWith(t)=="same"}isTouching(t){if(this.root!==t.root)return!1;const s=Math.min(this.path.length,t.path.length);for(let a=0;a<s;a++){const d=this.path[a]-t.path[a];if(d<-1||d>1)return!1;if(d===1)return OU(t,this,a);if(d===-1)return OU(this,t,a)}return this.path.length===t.path.length||(this.path.length>t.path.length?EP(this.path,s):EP(t.path,s))}hasSameParentAs(t){return this.root!==t.root?!1:qe(this.getParentPath(),t.getParentPath())=="same"}getTransformedByOperation(t){let s;switch(t.type){case"insert":s=this._getTransformedByInsertOperation(t);break;case"move":case"remove":case"reinsert":s=this._getTransformedByMoveOperation(t);break;case"split":s=this._getTransformedBySplitOperation(t);break;case"merge":s=this._getTransformedByMergeOperation(t);break;default:s=st._createAt(this)}return s}_getTransformedByInsertOperation(t){return this._getTransformedByInsertion(t.position,t.howMany)}_getTransformedByMoveOperation(t){return this._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany)}_getTransformedBySplitOperation(t){const s=t.movedRange;return s.containsPosition(this)||s.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(t.splitPosition,t.moveTargetPosition):t.graveyardPosition?this._getTransformedByMove(t.graveyardPosition,t.insertionPosition,1):this._getTransformedByInsertion(t.insertionPosition,1)}_getTransformedByMergeOperation(t){const s=t.movedRange;let a;return s.containsPosition(this)||s.start.isEqual(this)?(a=this._getCombined(t.sourcePosition,t.targetPosition),t.sourcePosition.isBefore(t.targetPosition)&&(a=a._getTransformedByDeletion(t.deletionPosition,1))):a=this.isEqual(t.deletionPosition)?st._createAt(t.deletionPosition):this._getTransformedByMove(t.deletionPosition,t.graveyardPosition,1),a}_getTransformedByDeletion(t,s){const a=st._createAt(this);if(this.root!=t.root)return a;if(qe(t.getParentPath(),this.getParentPath())=="same"){if(t.offset<this.offset){if(t.offset+s>this.offset)return null;a.offset-=s}}else if(qe(t.getParentPath(),this.getParentPath())=="prefix"){const d=t.path.length-1;if(t.offset<=this.path[d]){if(t.offset+s>this.path[d])return null;a.path[d]-=s}}return a}_getTransformedByInsertion(t,s){const a=st._createAt(this);if(this.root!=t.root)return a;if(qe(t.getParentPath(),this.getParentPath())=="same")(t.offset<this.offset||t.offset==this.offset&&this.stickiness!="toPrevious")&&(a.offset+=s);else if(qe(t.getParentPath(),this.getParentPath())=="prefix"){const d=t.path.length-1;t.offset<=this.path[d]&&(a.path[d]+=s)}return a}_getTransformedByMove(t,s,a){if(s=s._getTransformedByDeletion(t,a),t.isEqual(s))return st._createAt(this);const d=this._getTransformedByDeletion(t,a);return d===null||t.isEqual(this)&&this.stickiness=="toNext"||t.getShiftedBy(a).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(t,s):d._getTransformedByInsertion(s,a)}_getCombined(t,s){const a=t.path.length-1,d=st._createAt(s);return d.stickiness=this.stickiness,d.offset=d.offset+this.path[a]-t.offset,d.path=[...d.path,...this.path.slice(a+1)],d}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(t,s,a="toNone"){if(t instanceof st)return new st(t.root,t.path,t.stickiness);{const d=t;if(s=="end")s=d.maxOffset;else{if(s=="before")return this._createBefore(d,a);if(s=="after")return this._createAfter(d,a);if(s!==0&&!s)throw new B("model-createpositionat-offset-required",[this,t])}if(!d.is("element")&&!d.is("documentFragment"))throw new B("model-position-parent-incorrect",[this,t]);const p=d.getPath();return p.push(s),new this(d.root,p,a)}}static _createAfter(t,s){if(!t.parent)throw new B("model-position-after-root",[this,t],{root:t});return this._createAt(t.parent,t.endOffset,s)}static _createBefore(t,s){if(!t.parent)throw new B("model-position-before-root",t,{root:t});return this._createAt(t.parent,t.startOffset,s)}static fromJSON(t,s){if(t.root==="$graveyard"){const a=new st(s.graveyard,t.path);return a.stickiness=t.stickiness,a}if(!s.getRoot(t.root))throw new B("model-position-fromjson-no-root",s,{rootName:t.root});return new st(s.getRoot(t.root),t.path,t.stickiness)}}function Kx(f,t){const s=t.getChild(t.offsetToIndex(f.offset));return s&&s.is("$text")&&s.startOffset<f.offset?s:null}function RU(f,t,s){return s!==null?null:t.getChild(t.offsetToIndex(f.offset))}function MU(f,t,s){return s!==null?null:t.getChild(t.offsetToIndex(f.offset)-1)}function OU(f,t,s){return s+1!==f.path.length&&!!EP(t.path,s+1)&&!!function(a,d){let p=a.parent,w=a.path.length-1,k=0;for(;w>=d;){if(a.path[w]+k!==p.maxOffset)return!1;k=1,w--,p=p.parent}return!0}(f,s+1)}function EP(f,t){for(;t<f.length;){if(f[t]!==0)return!1;t++}return!0}st.prototype.is=function(f){return f==="position"||f==="model:position"};class Je extends Kt{constructor(t,s){super(),this.start=st._createAt(t),this.end=s?st._createAt(s):st._createAt(t),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Il({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return qe(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,s=!1){t.isCollapsed&&(s=!1);const a=this.containsPosition(t.start)||s&&this.start.isEqual(t.start),d=this.containsPosition(t.end)||s&&this.end.isEqual(t.end);return a&&d}containsItem(t){const s=st._createBefore(t);return this.containsPosition(s)||this.start.isEqual(s)}isEqual(t){return this.start.isEqual(t.start)&&this.end.isEqual(t.end)}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}getDifference(t){const s=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&s.push(new Je(this.start,t.start)),this.containsPosition(t.end)&&s.push(new Je(t.end,this.end))):s.push(new Je(this.start,this.end)),s}getIntersection(t){if(this.isIntersecting(t)){let s=this.start,a=this.end;return this.containsPosition(t.start)&&(s=t.start),this.containsPosition(t.end)&&(a=t.end),new Je(s,a)}return null}getJoined(t,s=!1){let a=this.isIntersecting(t);if(a||(a=this.start.isBefore(t.start)?s?this.end.isTouching(t.start):this.end.isEqual(t.start):s?t.end.isTouching(this.start):t.end.isEqual(this.start)),!a)return null;let d=this.start,p=this.end;return t.start.isBefore(d)&&(d=t.start),t.end.isAfter(p)&&(p=t.end),new Je(d,p)}getMinimalFlatRanges(){const t=[],s=this.start.getCommonPath(this.end).length,a=st._createAt(this.start);let d=a.parent;for(;a.path.length>s+1;){const p=d.maxOffset-a.offset;p!==0&&t.push(new Je(a,a.getShiftedBy(p))),a.path=a.path.slice(0,-1),a.offset++,d=d.parent}for(;a.path.length<=this.end.path.length;){const p=this.end.path[a.path.length-1],w=p-a.offset;w!==0&&t.push(new Je(a,a.getShiftedBy(w))),a.offset=p,a.path.push(0)}return t}getWalker(t={}){return t.boundaries=this,new Il(t)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const s=new Il(t);for(const a of s)yield a.item}*getPositions(t={}){t.boundaries=this;const s=new Il(t);yield s.position;for(const a of s)yield a.nextPosition}getTransformedByOperation(t){switch(t.type){case"insert":return this._getTransformedByInsertOperation(t);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(t);case"split":return[this._getTransformedBySplitOperation(t)];case"merge":return[this._getTransformedByMergeOperation(t)]}return[new Je(this.start,this.end)]}getTransformedByOperations(t){const s=[new Je(this.start,this.end)];for(const a of t)for(let d=0;d<s.length;d++){const p=s[d].getTransformedByOperation(a);s.splice(d,1,...p),d+=p.length-1}for(let a=0;a<s.length;a++){const d=s[a];for(let p=a+1;p<s.length;p++){const w=s[p];(d.containsRange(w)||w.containsRange(d)||d.isEqual(w))&&s.splice(p,1)}}return s}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const t=this.start.nodeAfter,s=this.end.nodeBefore;return t&&t.is("element")&&t===s?t:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(t,s=!1){return this._getTransformedByInsertion(t.position,t.howMany,s)}_getTransformedByMoveOperation(t,s=!1){const a=t.sourcePosition,d=t.howMany,p=t.targetPosition;return this._getTransformedByMove(a,p,d,s)}_getTransformedBySplitOperation(t){const s=this.start._getTransformedBySplitOperation(t);let a=this.end._getTransformedBySplitOperation(t);return this.end.isEqual(t.insertionPosition)&&(a=this.end.getShiftedBy(1)),s.root!=a.root&&(a=this.end.getShiftedBy(-1)),new Je(s,a)}_getTransformedByMergeOperation(t){if(this.start.isEqual(t.targetPosition)&&this.end.isEqual(t.deletionPosition))return new Je(this.start);let s=this.start._getTransformedByMergeOperation(t),a=this.end._getTransformedByMergeOperation(t);return s.root!=a.root&&(a=this.end.getShiftedBy(-1)),s.isAfter(a)?(t.sourcePosition.isBefore(t.targetPosition)?(s=st._createAt(a),s.offset=0):(t.deletionPosition.isEqual(s)||(a=t.deletionPosition),s=t.targetPosition),new Je(s,a)):new Je(s,a)}_getTransformedByInsertion(t,s,a=!1){if(a&&this.containsPosition(t))return[new Je(this.start,t),new Je(t.getShiftedBy(s),this.end._getTransformedByInsertion(t,s))];{const d=new Je(this.start,this.end);return d.start=d.start._getTransformedByInsertion(t,s),d.end=d.end._getTransformedByInsertion(t,s),[d]}}_getTransformedByMove(t,s,a,d=!1){if(this.isCollapsed){const L=this.start._getTransformedByMove(t,s,a);return[new Je(L)]}const p=Je._createFromPositionAndShift(t,a),w=s._getTransformedByDeletion(t,a);if(this.containsPosition(s)&&!d&&(p.containsPosition(this.start)||p.containsPosition(this.end))){const L=this.start._getTransformedByMove(t,s,a),W=this.end._getTransformedByMove(t,s,a);return[new Je(L,W)]}let k;const D=this.getDifference(p);let R=null;const M=this.getIntersection(p);if(D.length==1?R=new Je(D[0].start._getTransformedByDeletion(t,a),D[0].end._getTransformedByDeletion(t,a)):D.length==2&&(R=new Je(this.start,this.end._getTransformedByDeletion(t,a))),k=R?R._getTransformedByInsertion(w,a,M!==null||d):[],M){const L=new Je(M.start._getCombined(p.start,w),M.end._getCombined(p.start,w));k.length==2?k.splice(1,0,L):k.push(L)}return k}_getTransformedByDeletion(t,s){let a=this.start._getTransformedByDeletion(t,s),d=this.end._getTransformedByDeletion(t,s);return a==null&&d==null?null:(a==null&&(a=t),d==null&&(d=t),new Je(a,d))}static _createFromPositionAndShift(t,s){const a=t,d=t.getShiftedBy(s);return s>0?new this(a,d):new this(d,a)}static _createIn(t){return new this(st._createAt(t,0),st._createAt(t,t.maxOffset))}static _createOn(t){return this._createFromPositionAndShift(st._createBefore(t),t.offsetSize)}static _createFromRanges(t){if(t.length===0)throw new B("range-create-from-ranges-empty-array",null);if(t.length==1)return t[0].clone();const s=t[0];t.sort((p,w)=>p.start.isAfter(w.start)?1:-1);const a=t.indexOf(s),d=new this(s.start,s.end);if(a>0)for(let p=a-1;t[p].end.isEqual(d.start);p++)d.start=st._createAt(t[p].start);for(let p=a+1;p<t.length&&t[p].start.isEqual(d.end);p++)d.end=st._createAt(t[p].end);return d}static fromJSON(t,s){return new this(st.fromJSON(t.start,s),st.fromJSON(t.end,s))}}Je.prototype.is=function(f){return f==="range"||f==="model:range"};class FU extends X(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(t,s)=>{if(s.viewPosition)return;const a=this._modelToViewMapping.get(s.modelPosition.parent);if(!a)throw new B("mapping-model-position-view-parent-not-found",this,{modelPosition:s.modelPosition});s.viewPosition=this.findPositionIn(a,s.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(t,s)=>{if(s.modelPosition)return;const a=this.findMappedViewAncestor(s.viewPosition),d=this._viewToModelMapping.get(a),p=this._toModelOffset(s.viewPosition.parent,s.viewPosition.offset,a);s.modelPosition=st._createAt(d,p)},{priority:"low"})}bindElements(t,s){this._modelToViewMapping.set(t,s),this._viewToModelMapping.set(s,t)}unbindViewElement(t,s={}){const a=this.toModelElement(t);if(this._elementToMarkerNames.has(t))for(const d of this._elementToMarkerNames.get(t))this._unboundMarkerNames.add(d);s.defer?this._deferredBindingRemovals.set(t,t.root):(this._viewToModelMapping.delete(t),this._modelToViewMapping.get(a)==t&&this._modelToViewMapping.delete(a))}unbindModelElement(t){const s=this.toViewElement(t);this._modelToViewMapping.delete(t),this._viewToModelMapping.get(s)==t&&this._viewToModelMapping.delete(s)}bindElementToMarker(t,s){const a=this._markerNameToElements.get(s)||new Set;a.add(t);const d=this._elementToMarkerNames.get(t)||new Set;d.add(s),this._markerNameToElements.set(s,a),this._elementToMarkerNames.set(t,d)}unbindElementFromMarkerName(t,s){const a=this._markerNameToElements.get(s);a&&(a.delete(t),a.size==0&&this._markerNameToElements.delete(s));const d=this._elementToMarkerNames.get(t);d&&(d.delete(s),d.size==0&&this._elementToMarkerNames.delete(t))}flushUnboundMarkerNames(){const t=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),t}flushDeferredBindings(){for(const[t,s]of this._deferredBindingRemovals)t.root==s&&this.unbindViewElement(t);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(t){return this._viewToModelMapping.get(t)}toViewElement(t){return this._modelToViewMapping.get(t)}toModelRange(t){return new Je(this.toModelPosition(t.start),this.toModelPosition(t.end))}toViewRange(t){return new Zt(this.toViewPosition(t.start),this.toViewPosition(t.end))}toModelPosition(t){const s={viewPosition:t,mapper:this};return this.fire("viewToModelPosition",s),s.modelPosition}toViewPosition(t,s={}){const a={modelPosition:t,mapper:this,isPhantom:s.isPhantom};return this.fire("modelToViewPosition",a),a.viewPosition}markerNameToElements(t){const s=this._markerNameToElements.get(t);if(!s)return null;const a=new Set;for(const d of s)if(d.is("attributeElement"))for(const p of d.getElementsWithSameId())a.add(p);else a.add(d);return a}registerViewToModelLength(t,s){this._viewToModelLengthCallbacks.set(t,s)}findMappedViewAncestor(t){let s=t.parent;for(;!this._viewToModelMapping.has(s);)s=s.parent;return s}_toModelOffset(t,s,a){if(a!=t)return this._toModelOffset(t.parent,t.index,a)+this._toModelOffset(t,s,t);if(t.is("$text"))return s;let d=0;for(let p=0;p<s;p++)d+=this.getModelLength(t.getChild(p));return d}getModelLength(t){if(this._viewToModelLengthCallbacks.get(t.name))return this._viewToModelLengthCallbacks.get(t.name)(t);if(this._viewToModelMapping.has(t))return 1;if(t.is("$text"))return t.data.length;if(t.is("uiElement"))return 0;{let s=0;for(const a of t.getChildren())s+=this.getModelLength(a);return s}}findPositionIn(t,s){let a,d=0,p=0,w=0;if(t.is("$text"))return new pt(t,s);for(;p<s;)a=t.getChild(w),d=this.getModelLength(a),p+=d,w++;return p==s?this._moveViewPositionToTextNode(new pt(t,w)):this.findPositionIn(a,s-(p-d))}_moveViewPositionToTextNode(t){const s=t.nodeBefore,a=t.nodeAfter;return s instanceof Cn?new pt(s,s.data.length):a instanceof Cn?new pt(a,0):t}}class wie{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(t,s){s=HA(s),t instanceof Vt&&(t=this._getSymbolForTextProxy(t)),this._consumable.has(t)||this._consumable.set(t,new Map),this._consumable.get(t).set(s,!0)}consume(t,s){return s=HA(s),t instanceof Vt&&(t=this._getSymbolForTextProxy(t)),!!this.test(t,s)&&(this._consumable.get(t).set(s,!1),!0)}test(t,s){s=HA(s),t instanceof Vt&&(t=this._getSymbolForTextProxy(t));const a=this._consumable.get(t);if(a===void 0)return null;const d=a.get(s);return d===void 0?null:d}revert(t,s){s=HA(s),t instanceof Vt&&(t=this._getSymbolForTextProxy(t));const a=this.test(t,s);return a===!1?(this._consumable.get(t).set(s,!0),!0):a!==!0&&null}verifyAllConsumed(t){const s=[];for(const[a,d]of this._consumable)for(const[p,w]of d){const k=p.split(":")[0];w&&t==k&&s.push({event:p,item:a.name||a.description})}if(s.length)throw new B("conversion-model-consumable-not-consumed",null,{items:s})}_getSymbolForTextProxy(t){let s=null;const a=this._textProxyRegistry.get(t.startOffset);if(a){const d=a.get(t.endOffset);d&&(s=d.get(t.parent))}return s||(s=this._addSymbolForTextProxy(t)),s}_addSymbolForTextProxy(t){const s=t.startOffset,a=t.endOffset,d=t.parent,p=Symbol("$textProxy:"+t.data);let w,k;return w=this._textProxyRegistry.get(s),w||(w=new Map,this._textProxyRegistry.set(s,w)),k=w.get(a),k||(k=new Map,w.set(a,k)),k.set(d,p),p}}function HA(f){const t=f.split(":");return t[0]=="insert"?t[0]:t[0]=="addMarker"||t[0]=="removeMarker"?f:t.length>1?t[0]+":"+t[1]:t[0]}class UU extends X(){constructor(t){super(),this._conversionApi={dispatcher:this,...t},this._firedEventsMap=new WeakMap}convertChanges(t,s,a){const d=this._createConversionApi(a,t.getRefreshedItems());for(const w of t.getMarkersToRemove())this._convertMarkerRemove(w.name,w.range,d);const p=this._reduceChanges(t.getChanges());for(const w of p)w.type==="insert"?this._convertInsert(Je._createFromPositionAndShift(w.position,w.length),d):w.type==="reinsert"?this._convertReinsert(Je._createFromPositionAndShift(w.position,w.length),d):w.type==="remove"?this._convertRemove(w.position,w.length,w.name,d):this._convertAttribute(w.range,w.attributeKey,w.attributeOldValue,w.attributeNewValue,d);for(const w of d.mapper.flushUnboundMarkerNames()){const k=s.get(w).getRange();this._convertMarkerRemove(w,k,d),this._convertMarkerAdd(w,k,d)}for(const w of t.getMarkersToAdd())this._convertMarkerAdd(w.name,w.range,d);d.mapper.flushDeferredBindings(),d.consumable.verifyAllConsumed("insert")}convert(t,s,a,d={}){const p=this._createConversionApi(a,void 0,d);this._convertInsert(t,p);for(const[w,k]of s)this._convertMarkerAdd(w,k,p);p.consumable.verifyAllConsumed("insert")}convertSelection(t,s,a){const d=this._createConversionApi(a);this.fire("cleanSelection",{selection:t},d);const p=t.getFirstPosition().root;if(!d.mapper.toViewElement(p))return;const w=Array.from(s.getMarkersAtPosition(t.getFirstPosition()));if(this._addConsumablesForSelection(d.consumable,t,w),this.fire("selection",{selection:t},d),t.isCollapsed){for(const k of w)if(d.consumable.test(t,"addMarker:"+k.name)){const D=k.getRange();if(!xie(t.getFirstPosition(),k,d.mapper))continue;const R={item:t,markerName:k.name,markerRange:D};this.fire(`addMarker:${k.name}`,R,d)}for(const k of t.getAttributeKeys())if(d.consumable.test(t,"attribute:"+k)){const D={item:t,range:t.getFirstRange(),attributeKey:k,attributeOldValue:null,attributeNewValue:t.getAttribute(k)};this.fire(`attribute:${k}:$text`,D,d)}}}_convertInsert(t,s,a={}){a.doNotAddConsumables||this._addConsumablesForInsert(s.consumable,Array.from(t));for(const d of Array.from(t.getWalker({shallow:!0})).map(LU))this._testAndFire("insert",d,s)}_convertRemove(t,s,a,d){this.fire(`remove:${a}`,{position:t,length:s},d)}_convertAttribute(t,s,a,d,p){this._addConsumablesForRange(p.consumable,t,`attribute:${s}`);for(const w of t){const k={item:w.item,range:Je._createFromPositionAndShift(w.previousPosition,w.length),attributeKey:s,attributeOldValue:a,attributeNewValue:d};this._testAndFire(`attribute:${s}`,k,p)}}_convertReinsert(t,s){const a=Array.from(t.getWalker({shallow:!0}));this._addConsumablesForInsert(s.consumable,a);for(const d of a.map(LU))this._testAndFire("insert",{...d,reconversion:!0},s)}_convertMarkerAdd(t,s,a){if(s.root.rootName=="$graveyard")return;const d=`addMarker:${t}`;if(a.consumable.add(s,d),this.fire(d,{markerName:t,markerRange:s},a),a.consumable.consume(s,d)){this._addConsumablesForRange(a.consumable,s,d);for(const p of s.getItems()){if(!a.consumable.test(p,d))continue;const w={item:p,range:Je._createOn(p),markerName:t,markerRange:s};this.fire(d,w,a)}}}_convertMarkerRemove(t,s,a){s.root.rootName!="$graveyard"&&this.fire(`removeMarker:${t}`,{markerName:t,markerRange:s},a)}_reduceChanges(t){const s={changes:t};return this.fire("reduceChanges",s),s.changes}_addConsumablesForInsert(t,s){for(const a of s){const d=a.item;if(t.test(d,"insert")===null){t.add(d,"insert");for(const p of d.getAttributeKeys())t.add(d,"attribute:"+p)}}return t}_addConsumablesForRange(t,s,a){for(const d of s.getItems())t.add(d,a);return t}_addConsumablesForSelection(t,s,a){t.add(s,"selection");for(const d of a)t.add(s,"addMarker:"+d.name);for(const d of s.getAttributeKeys())t.add(s,"attribute:"+d);return t}_testAndFire(t,s,a){const d=function(D,R){const M=R.item.is("element")?R.item.name:"$text";return`${D}:${M}`}(t,s),p=s.item.is("$textProxy")?a.consumable._getSymbolForTextProxy(s.item):s.item,w=this._firedEventsMap.get(a),k=w.get(p);if(k){if(k.has(d))return;k.add(d)}else w.set(p,new Set([d]));this.fire(d,s,a)}_testAndFireAddAttributes(t,s){const a={item:t,range:Je._createOn(t)};for(const d of a.item.getAttributeKeys())a.attributeKey=d,a.attributeOldValue=null,a.attributeNewValue=a.item.getAttribute(d),this._testAndFire(`attribute:${d}`,a,s)}_createConversionApi(t,s=new Set,a={}){const d={...this._conversionApi,consumable:new wie,writer:t,options:a,convertItem:p=>this._convertInsert(Je._createOn(p),d),convertChildren:p=>this._convertInsert(Je._createIn(p),d,{doNotAddConsumables:!0}),convertAttributes:p=>this._testAndFireAddAttributes(p,d),canReuseView:p=>!s.has(d.mapper.toModelElement(p))};return this._firedEventsMap.set(d,new Map),d}}function xie(f,t,s){const a=t.getRange(),d=Array.from(f.getAncestors());return d.shift(),d.reverse(),!d.some(p=>{if(a.containsItem(p))return!!s.toViewElement(p).getCustomProperty("addHighlight")})}function LU(f){return{item:f.item,range:Je._createFromPositionAndShift(f.previousPosition,f.length)}}class Da extends X(Kt){constructor(...t){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],t.length&&this.setTo(...t)}get anchor(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.end:t.start}return null}get focus(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.start:t.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(t){if(this.rangeCount!=t.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const s of this._ranges){let a=!1;for(const d of t._ranges)if(s.isEqual(d)){a=!0;break}if(!a)return!1}return!0}*getRanges(){for(const t of this._ranges)yield new Je(t.start,t.end)}getFirstRange(){let t=null;for(const s of this._ranges)t&&!s.start.isBefore(t.start)||(t=s);return t?new Je(t.start,t.end):null}getLastRange(){let t=null;for(const s of this._ranges)t&&!s.end.isAfter(t.end)||(t=s);return t?new Je(t.start,t.end):null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}setTo(...t){let[s,a,d]=t;if(typeof a=="object"&&(d=a,a=void 0),s===null)this._setRanges([]);else if(s instanceof Da)this._setRanges(s.getRanges(),s.isBackward);else if(s&&typeof s.getRanges=="function")this._setRanges(s.getRanges(),s.isBackward);else if(s instanceof Je)this._setRanges([s],!!d&&!!d.backward);else if(s instanceof st)this._setRanges([new Je(s)]);else if(s instanceof Et){const p=!!d&&!!d.backward;let w;if(a=="in")w=Je._createIn(s);else if(a=="on")w=Je._createOn(s);else{if(a===void 0)throw new B("model-selection-setto-required-second-parameter",[this,s]);w=new Je(st._createAt(s,a))}this._setRanges([w],p)}else{if(!Fe(s))throw new B("model-selection-setto-not-selectable",[this,s]);this._setRanges(s,d&&!!d.backward)}}_setRanges(t,s=!1){const a=Array.from(t),d=a.some(p=>{if(!(p instanceof Je))throw new B("model-selection-set-ranges-not-range",[this,t]);return this._ranges.every(w=>!w.isEqual(p))});(a.length!==this._ranges.length||d)&&(this._replaceAllRanges(a),this._lastRangeBackward=!!s,this.fire("change:range",{directChange:!0}))}setFocus(t,s){if(this.anchor===null)throw new B("model-selection-setfocus-no-ranges",[this,t]);const a=st._createAt(t,s);if(a.compareWith(this.focus)=="same")return;const d=this.anchor;this._ranges.length&&this._popRange(),a.compareWith(d)=="before"?(this._pushRange(new Je(a,d)),this._lastRangeBackward=!0):(this._pushRange(new Je(d,a)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(t){return this._attrs.has(t)}removeAttribute(t){this.hasAttribute(t)&&(this._attrs.delete(t),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}setAttribute(t,s){this.getAttribute(t)!==s&&(this._attrs.set(t,s),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const t=new WeakSet;for(const s of this.getRanges()){const a=zU(s.start,t);kie(a,s)&&(yield a);for(const p of s.getWalker()){const w=p.item;p.type=="elementEnd"&&_ie(w,t,s)&&(yield w)}const d=zU(s.end,t);Eie(d,s)&&(yield d)}}containsEntireContent(t=this.anchor.root){const s=st._createAt(t,0),a=st._createAt(t,"end");return s.isTouching(this.getFirstPosition())&&a.isTouching(this.getLastPosition())}_pushRange(t){this._checkRange(t),this._ranges.push(new Je(t.start,t.end))}_checkRange(t){for(let s=0;s<this._ranges.length;s++)if(t.isIntersecting(this._ranges[s]))throw new B("model-selection-range-intersects",[this,t],{addedRange:t,intersectingRange:this._ranges[s]})}_replaceAllRanges(t){this._removeAllRanges();for(const s of t)this._pushRange(s)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function BU(f,t){return!t.has(f)&&(t.add(f),f.root.document.model.schema.isBlock(f)&&!!f.parent)}function _ie(f,t,s){return BU(f,t)&&SP(f,s)}function zU(f,t){const s=f.parent.root.document.model.schema,a=f.parent.getAncestors({parentFirst:!0,includeSelf:!0});let d=!1;const p=a.find(w=>!d&&(d=s.isLimit(w),!d&&BU(w,t)));return a.forEach(w=>t.add(w)),p}function SP(f,t){const s=function(a){const d=a.root.document.model.schema;let p=a.parent;for(;p;){if(d.isBlock(p))return p;p=p.parent}}(f);return s?!t.containsRange(Je._createOn(s),!0):!0}function kie(f,t){return!!f&&(!(!t.isCollapsed&&!f.isEmpty)||!t.start.isTouching(st._createAt(f,f.maxOffset))&&SP(f,t))}function Eie(f,t){return!!f&&(!(!t.isCollapsed&&!f.isEmpty)||!t.end.isTouching(st._createAt(f,0))&&SP(f,t))}Da.prototype.is=function(f){return f==="selection"||f==="model:selection"};class Na extends X(Je){constructor(t,s){super(t,s),Sie.call(this)}detach(){this.stopListening()}toRange(){return new Je(this.start,this.end)}static fromRange(t){return new Na(t.start,t.end)}}function Sie(){this.listenTo(this.root.document.model,"applyOperation",(f,t)=>{const s=t[0];s.isDocumentOperation&&Aie.call(this,s)},{priority:"low"})}function Aie(f){const t=this.getTransformedByOperation(f),s=Je._createFromRanges(t),a=!s.isEqual(this),d=function(w,k){switch(k.type){case"insert":return w.containsPosition(k.position);case"move":case"remove":case"reinsert":case"merge":return w.containsPosition(k.sourcePosition)||w.start.isEqual(k.sourcePosition)||w.containsPosition(k.targetPosition);case"split":return w.containsPosition(k.splitPosition)||w.containsPosition(k.insertionPosition)}return!1}(this,f);let p=null;if(a){s.root.rootName=="$graveyard"&&(p=f.type=="remove"?f.sourcePosition:f.deletionPosition);const w=this.toRange();this.start=s.start,this.end=s.end,this.fire("change:range",w,{deletionPosition:p})}else d&&this.fire("change:content",this.toRange(),{deletionPosition:p})}Na.prototype.is=function(f){return f==="liveRange"||f==="model:liveRange"||f=="range"||f==="model:range"};const GA="selection:";class Tc extends X(Kt){constructor(t){super(),this._selection=new Cie(t),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(t){return this._selection.containsEntireContent(t)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(t){return this._selection.getAttribute(t)}hasAttribute(t){return this._selection.hasAttribute(t)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(t){this._selection.observeMarkers(t)}_setFocus(t,s){this._selection.setFocus(t,s)}_setTo(...t){this._selection.setTo(...t)}_setAttribute(t,s){this._selection.setAttribute(t,s)}_removeAttribute(t){this._selection.removeAttribute(t)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(t){this._selection.restoreGravity(t)}static _getStoreAttributeKey(t){return GA+t}static _isStoreAttributeKey(t){return t.startsWith(GA)}}Tc.prototype.is=function(f){return f==="selection"||f=="model:selection"||f=="documentSelection"||f=="model:documentSelection"};class Cie extends Da{constructor(t){super(),this.markers=new Fs({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=t.model,this._document=t,this.listenTo(this._model,"applyOperation",(s,a)=>{const d=a[0];d.isDocumentOperation&&d.type!="marker"&&d.type!="rename"&&d.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(s,a,d,p)=>{this._updateMarker(a,p)}),this.listenTo(this._document,"change",(s,a)=>{(function(d,p){const w=d.document.differ;for(const k of w.getChanges()){if(k.type!="insert")continue;const D=k.position.parent;k.length===D.maxOffset&&d.enqueueChange(p,R=>{const M=Array.from(D.getAttributeKeys()).filter(L=>L.startsWith(GA));for(const L of M)R.removeAttribute(L,D)})}})(this._model,a)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let t=0;t<this._ranges.length;t++)this._ranges[t].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...t){super.setTo(...t),this._updateAttributes(!0),this.updateMarkers()}setFocus(t,s){super.setFocus(t,s),this._updateAttributes(!0),this.updateMarkers()}setAttribute(t,s){if(this._setAttribute(t,s)){const a=[t];this.fire("change:attribute",{attributeKeys:a,directChange:!0})}}removeAttribute(t){if(this._removeAttribute(t)){const s=[t];this.fire("change:attribute",{attributeKeys:s,directChange:!0})}}overrideGravity(){const t=O();return this._overriddenGravityRegister.add(t),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),t}restoreGravity(t){if(!this._overriddenGravityRegister.has(t))throw new B("document-selection-gravity-wrong-restore",this,{uid:t});this._overriddenGravityRegister.delete(t),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(t){this._observedMarkers.add(t),this.updateMarkers()}_replaceAllRanges(t){this._validateSelectionRanges(t),super._replaceAllRanges(t)}_popRange(){this._ranges.pop().detach()}_pushRange(t){const s=this._prepareRange(t);s&&this._ranges.push(s)}_validateSelectionRanges(t){for(const s of t)if(!this._document._validateSelectionRange(s))throw new B("document-selection-wrong-position",this,{range:s})}_prepareRange(t){if(this._checkRange(t),t.root==this._document.graveyard)return;const s=Na.fromRange(t);return s.on("change:range",(a,d,p)=>{if(this._hasChangedRange=!0,s.root==this._document.graveyard){this._selectionRestorePosition=p.deletionPosition;const w=this._ranges.indexOf(s);this._ranges.splice(w,1),s.detach()}}),s}updateMarkers(){if(!this._observedMarkers.size)return;const t=[];let s=!1;for(const d of this._model.markers){const p=d.name.split(":",1)[0];if(!this._observedMarkers.has(p))continue;const w=d.getRange();for(const k of this.getRanges())w.containsRange(k,!k.isCollapsed)&&t.push(d)}const a=Array.from(this.markers);for(const d of t)this.markers.has(d)||(this.markers.add(d),s=!0);for(const d of Array.from(this.markers))t.includes(d)||(this.markers.remove(d),s=!0);s&&this.fire("change:marker",{oldMarkers:a,directChange:!1})}_updateMarker(t,s){const a=t.name.split(":",1)[0];if(!this._observedMarkers.has(a))return;let d=!1;const p=Array.from(this.markers),w=this.markers.has(t);if(s){let k=!1;for(const D of this.getRanges())if(s.containsRange(D,!D.isCollapsed)){k=!0;break}k&&!w?(this.markers.add(t),d=!0):!k&&w&&(this.markers.remove(t),d=!0)}else w&&(this.markers.remove(t),d=!0);d&&this.fire("change:marker",{oldMarkers:p,directChange:!1})}_updateAttributes(t){const s=ka(this._getSurroundingAttributes()),a=ka(this.getAttributes());if(t)this._attributePriority=new Map,this._attrs=new Map;else for(const[p,w]of this._attributePriority)w=="low"&&(this._attrs.delete(p),this._attributePriority.delete(p));this._setAttributesTo(s);const d=[];for(const[p,w]of this.getAttributes())a.has(p)&&a.get(p)===w||d.push(p);for(const[p]of a)this.hasAttribute(p)||d.push(p);d.length>0&&this.fire("change:attribute",{attributeKeys:d,directChange:!1})}_setAttribute(t,s,a=!0){const d=a?"normal":"low";return d=="low"&&this._attributePriority.get(t)=="normal"?!1:super.getAttribute(t)!==s&&(this._attrs.set(t,s),this._attributePriority.set(t,d),!0)}_removeAttribute(t,s=!0){const a=s?"normal":"low";return(a!="low"||this._attributePriority.get(t)!="normal")&&(this._attributePriority.set(t,a),!!super.hasAttribute(t)&&(this._attrs.delete(t),!0))}_setAttributesTo(t){const s=new Set;for(const[a,d]of this.getAttributes())t.get(a)!==d&&this._removeAttribute(a,!1);for(const[a,d]of t)this._setAttribute(a,d,!1)&&s.add(a);return s}*getStoredAttributes(){const t=this.getFirstPosition().parent;if(this.isCollapsed&&t.isEmpty)for(const s of t.getAttributeKeys())s.startsWith(GA)&&(yield[s.substr(10),t.getAttribute(s)])}_getSurroundingAttributes(){const t=this.getFirstPosition(),s=this._model.schema;if(t.root.rootName=="$graveyard")return null;let a=null;if(this.isCollapsed){const d=t.textNode?t.textNode:t.nodeBefore,p=t.textNode?t.textNode:t.nodeAfter;if(this.isGravityOverridden||(a=Yx(d,s)),a||(a=Yx(p,s)),!this.isGravityOverridden&&!a){let w=d;for(;w&&!a;)w=w.previousSibling,a=Yx(w,s)}if(!a){let w=p;for(;w&&!a;)w=w.nextSibling,a=Yx(w,s)}a||(a=this.getStoredAttributes())}else{const d=this.getFirstRange();for(const p of d){if(p.item.is("element")&&s.isObject(p.item)){a=Yx(p.item,s);break}if(p.type=="text"){a=p.item.getAttributes();break}}}return a}_fixGraveyardSelection(t){const s=this._model.schema.getNearestSelectionRange(t);s&&this._pushRange(s)}}function Yx(f,t){if(!f)return null;if(f instanceof Vt||f instanceof Ft)return f.getAttributes();if(!t.isInline(f))return null;if(!t.isObject(f))return[];const s=[];for(const[a,d]of f.getAttributes())t.checkAttribute("$text",a)&&t.getAttributeProperties(a).copyFromObject!==!1&&s.push([a,d]);return s}class VU{constructor(t){this._dispatchers=t}add(t){for(const s of this._dispatchers)t(s);return this}}class Tie extends VU{elementToElement(t){return this.add(function(s){const a=qU(s.model),d=Zx(s.view,"container");return a.attributes.length&&(a.children=!0),p=>{p.on(`insert:${a.name}`,function(w,k=Nie){return(D,R,M)=>{if(!k(R.item,M.consumable,{preflight:!0}))return;const L=w(R.item,M,R);if(!L)return;k(R.item,M.consumable);const W=M.mapper.toViewPosition(R.range.start);M.mapper.bindElements(R.item,L),M.writer.insert(W,L),M.convertAttributes(R.item),YU(L,R.item.getChildren(),M,{reconversion:R.reconversion})}}(d,KU(a)),{priority:s.converterPriority||"normal"}),(a.children||a.attributes.length)&&p.on("reduceChanges",XU(a),{priority:"low"})}}(t))}elementToStructure(t){return this.add(function(s){const a=qU(s.model),d=Zx(s.view,"container");return a.children=!0,p=>{if(p._conversionApi.schema.checkChild(a.name,"$text"))throw new B("conversion-element-to-structure-disallowed-text",p,{elementName:a.name});var w,k;p.on(`insert:${a.name}`,(w=d,k=KU(a),(D,R,M)=>{if(!k(R.item,M.consumable,{preflight:!0}))return;const L=new Map;M.writer._registerSlotFactory(function(re,ae,ve){return(je,$e)=>{const Qe=je.createContainerElement("$slot");let St=null;if($e==="children")St=Array.from(re.getChildren());else{if(typeof $e!="function")throw new B("conversion-slot-mode-unknown",ve.dispatcher,{modeOrFilter:$e});St=Array.from(re.getChildren()).filter(tn=>$e(tn))}return ae.set(Qe,St),Qe}}(R.item,L,M));const W=w(R.item,M,R);if(M.writer._clearSlotFactory(),!W)return;(function(re,ae,ve){const je=Array.from(ae.values()).flat(),$e=new Set(je);if($e.size!=je.length)throw new B("conversion-slot-filter-overlap",ve.dispatcher,{element:re});if($e.size!=re.childCount)throw new B("conversion-slot-filter-incomplete",ve.dispatcher,{element:re})})(R.item,L,M),k(R.item,M.consumable);const J=M.mapper.toViewPosition(R.range.start);M.mapper.bindElements(R.item,W),M.writer.insert(J,W),M.convertAttributes(R.item),function(re,ae,ve,je){ve.mapper.on("modelToViewPosition",St,{priority:"highest"});let $e=null,Qe=null;for([$e,Qe]of ae)YU(re,Qe,ve,je),ve.writer.move(ve.writer.createRangeIn($e),ve.writer.createPositionBefore($e)),ve.writer.remove($e);function St(tn,Fn){const Un=Fn.modelPosition.nodeAfter,$r=Qe.indexOf(Un);$r<0||(Fn.viewPosition=Fn.mapper.findPositionIn($e,$r))}ve.mapper.off("modelToViewPosition",St)}(W,L,M,{reconversion:R.reconversion})}),{priority:s.converterPriority||"normal"}),p.on("reduceChanges",XU(a),{priority:"low"})}}(t))}attributeToElement(t){return this.add(function(s){s=tt(s);let a=s.model;typeof a=="string"&&(a={key:a});let d=`attribute:${a.key}`;if(a.name&&(d+=":"+a.name),a.values)for(const w of a.values)s.view[w]=Zx(s.view[w],"attribute");else s.view=Zx(s.view,"attribute");const p=HU(s);return w=>{w.on(d,function(k){return(D,R,M)=>{if(!M.consumable.test(R.item,D.name))return;const L=k(R.attributeOldValue,M,R),W=k(R.attributeNewValue,M,R);if(!L&&!W)return;M.consumable.consume(R.item,D.name);const J=M.writer,re=J.document.selection;if(R.item instanceof Da||R.item instanceof Tc)J.wrap(re.getFirstRange(),W);else{let ae=M.mapper.toViewRange(R.range);R.attributeOldValue!==null&&L&&(ae=J.unwrap(ae,L)),R.attributeNewValue!==null&&W&&J.wrap(ae,W)}}}(p),{priority:s.converterPriority||"normal"})}}(t))}attributeToAttribute(t){return this.add(function(s){s=tt(s);let a=s.model;typeof a=="string"&&(a={key:a});let d=`attribute:${a.key}`;if(a.name&&(d+=":"+a.name),a.values)for(const w of a.values)s.view[w]=GU(s.view[w]);else s.view=GU(s.view);const p=HU(s);return w=>{var k;w.on(d,(k=p,(D,R,M)=>{if(!M.consumable.test(R.item,D.name))return;const L=k(R.attributeOldValue,M,R),W=k(R.attributeNewValue,M,R);if(!L&&!W)return;M.consumable.consume(R.item,D.name);const J=M.mapper.toViewElement(R.item),re=M.writer;if(!J)throw new B("conversion-attribute-to-attribute-on-text",M.dispatcher,R);if(R.attributeOldValue!==null&&L)if(L.key=="class"){const ae=Rn(L.value);for(const ve of ae)re.removeClass(ve,J)}else if(L.key=="style"){const ae=Object.keys(L.value);for(const ve of ae)re.removeStyle(ve,J)}else re.removeAttribute(L.key,J);if(R.attributeNewValue!==null&&W)if(W.key=="class"){const ae=Rn(W.value);for(const ve of ae)re.addClass(ve,J)}else if(W.key=="style"){const ae=Object.keys(W.value);for(const ve of ae)re.setStyle(ve,W.value[ve],J)}else re.setAttribute(W.key,W.value,J)}),{priority:s.converterPriority||"normal"})}}(t))}markerToElement(t){return this.add(function(s){const a=Zx(s.view,"ui");return d=>{var p;d.on(`addMarker:${s.model}`,(p=a,(w,k,D)=>{k.isOpening=!0;const R=p(k,D);k.isOpening=!1;const M=p(k,D);if(!R||!M)return;const L=k.markerRange;if(L.isCollapsed&&!D.consumable.consume(L,w.name))return;for(const re of L)if(!D.consumable.consume(re.item,w.name))return;const W=D.mapper,J=D.writer;J.insert(W.toViewPosition(L.start),R),D.mapper.bindElementToMarker(R,k.markerName),L.isCollapsed||(J.insert(W.toViewPosition(L.end),M),D.mapper.bindElementToMarker(M,k.markerName)),w.stop()}),{priority:s.converterPriority||"normal"}),d.on(`removeMarker:${s.model}`,(w,k,D)=>{const R=D.mapper.markerNameToElements(k.markerName);if(R){for(const M of R)D.mapper.unbindElementFromMarkerName(M,k.markerName),D.writer.clear(D.writer.createRangeOn(M),M);D.writer.clearClonedElementsGroup(k.markerName),w.stop()}},{priority:s.converterPriority||"normal"})}}(t))}markerToHighlight(t){return this.add(function(s){return a=>{var d;a.on(`addMarker:${s.model}`,(d=s.view,(p,w,k)=>{if(!w.item||!(w.item instanceof Da||w.item instanceof Tc||w.item.is("$textProxy")))return;const D=AP(d,w,k);if(!D||!k.consumable.consume(w.item,p.name))return;const R=k.writer,M=WU(R,D),L=R.document.selection;if(w.item instanceof Da||w.item instanceof Tc)R.wrap(L.getFirstRange(),M);else{const W=k.mapper.toViewRange(w.range),J=R.wrap(W,M);for(const re of J.getItems())if(re.is("attributeElement")&&re.isSimilar(M)){k.mapper.bindElementToMarker(re,w.markerName);break}}}),{priority:s.converterPriority||"normal"}),a.on(`addMarker:${s.model}`,function(p){return(w,k,D)=>{if(!k.item||!(k.item instanceof Xt))return;const R=AP(p,k,D);if(!R||!D.consumable.test(k.item,w.name))return;const M=D.mapper.toViewElement(k.item);if(M&&M.getCustomProperty("addHighlight")){D.consumable.consume(k.item,w.name);for(const L of Je._createIn(k.item))D.consumable.consume(L.item,w.name);M.getCustomProperty("addHighlight")(M,R,D.writer),D.mapper.bindElementToMarker(M,k.markerName)}}}(s.view),{priority:s.converterPriority||"normal"}),a.on(`removeMarker:${s.model}`,function(p){return(w,k,D)=>{if(k.markerRange.isCollapsed)return;const R=AP(p,k,D);if(!R)return;const M=WU(D.writer,R),L=D.mapper.markerNameToElements(k.markerName);if(L){for(const W of L)D.mapper.unbindElementFromMarkerName(W,k.markerName),W.is("attributeElement")?D.writer.unwrap(D.writer.createRangeOn(W),M):W.getCustomProperty("removeHighlight")(W,R.id,D.writer);D.writer.clearClonedElementsGroup(k.markerName),w.stop()}}}(s.view),{priority:s.converterPriority||"normal"})}}(t))}markerToData(t){return this.add(function(s){s=tt(s);const a=s.model;let d=s.view;return d||(d=p=>({group:a,name:p.substr(s.model.length+1)})),p=>{var w;p.on(`addMarker:${a}`,(w=d,(k,D,R)=>{const M=w(D.markerName,R);if(!M)return;const L=D.markerRange;R.consumable.consume(L,k.name)&&($U(L,!1,R,D,M),$U(L,!0,R,D,M),k.stop())}),{priority:s.converterPriority||"normal"}),p.on(`removeMarker:${a}`,function(k){return(D,R,M)=>{const L=k(R.markerName,M);if(!L)return;const W=M.mapper.markerNameToElements(R.markerName);if(W){for(const re of W)M.mapper.unbindElementFromMarkerName(re,R.markerName),re.is("containerElement")?(J(`data-${L.group}-start-before`,re),J(`data-${L.group}-start-after`,re),J(`data-${L.group}-end-before`,re),J(`data-${L.group}-end-after`,re)):M.writer.clear(M.writer.createRangeOn(re),re);M.writer.clearClonedElementsGroup(R.markerName),D.stop()}function J(re,ae){if(ae.hasAttribute(re)){const ve=new Set(ae.getAttribute(re).split(","));ve.delete(L.name),ve.size==0?M.writer.removeAttribute(re,ae):M.writer.setAttribute(re,Array.from(ve).join(","),ae)}}}}(d),{priority:s.converterPriority||"normal"})}}(t))}}function WU(f,t){const s=f.createAttributeElement("span",t.attributes);return t.classes&&s._addClass(t.classes),typeof t.priority=="number"&&(s._priority=t.priority),s._id=t.id,s}function $U(f,t,s,a,d){const p=t?f.start:f.end,w=p.nodeAfter&&p.nodeAfter.is("element")?p.nodeAfter:null,k=p.nodeBefore&&p.nodeBefore.is("element")?p.nodeBefore:null;if(w||k){let D,R;t&&w||!t&&!k?(D=w,R=!0):(D=k,R=!1);const M=s.mapper.toViewElement(D);if(M)return void function(L,W,J,re,ae,ve){const je=`data-${ve.group}-${W?"start":"end"}-${J?"before":"after"}`,$e=L.hasAttribute(je)?L.getAttribute(je).split(","):[];$e.unshift(ve.name),re.writer.setAttribute(je,$e.join(","),L),re.mapper.bindElementToMarker(L,ae.markerName)}(M,t,R,s,a,d)}(function(D,R,M,L,W){const J=`${W.group}-${R?"start":"end"}`,re=W.name?{name:W.name}:null,ae=M.writer.createUIElement(J,re);M.writer.insert(D,ae),M.mapper.bindElementToMarker(ae,L.markerName)})(s.mapper.toViewPosition(p),t,s,a,d)}function qU(f){return typeof f=="string"&&(f={name:f}),f.attributes?Array.isArray(f.attributes)||(f.attributes=[f.attributes]):f.attributes=[],f.children=!!f.children,f}function Zx(f,t){return typeof f=="function"?f:(s,a)=>function(d,p,w){typeof d=="string"&&(d={name:d});let k;const D=p.writer,R=Object.assign({},d.attributes);if(w=="container")k=D.createContainerElement(d.name,R);else if(w=="attribute"){const M={priority:d.priority||Dl.DEFAULT_PRIORITY};k=D.createAttributeElement(d.name,R,M)}else k=D.createUIElement(d.name,R);if(d.styles){const M=Object.keys(d.styles);for(const L of M)D.setStyle(L,d.styles[L],k)}if(d.classes){const M=d.classes;if(typeof M=="string")D.addClass(M,k);else for(const L of M)D.addClass(L,k)}return k}(f,a,t)}function HU(f){return f.model.values?(t,s,a)=>{const d=f.view[t];return d?d(t,s,a):null}:f.view}function GU(f){return typeof f=="string"?t=>({key:f,value:t}):typeof f=="object"?f.value?()=>f:t=>({key:f.key,value:t}):f}function AP(f,t,s){const a=typeof f=="function"?f(t,s):f;return a?(a.priority||(a.priority=10),a.id||(a.id=t.markerName),a):null}function XU(f){const t=function(s){return(a,d)=>{if(!a.is("element",s.name))return!1;if(d.type=="attribute"){if(s.attributes.includes(d.attributeKey))return!0}else if(s.children)return!0;return!1}}(f);return(s,a)=>{const d=[];a.reconvertedElements||(a.reconvertedElements=new Set);for(const p of a.changes){const w=p.type=="attribute"?p.range.start.nodeAfter:p.position.parent;if(w&&t(w,p)){if(!a.reconvertedElements.has(w)){a.reconvertedElements.add(w);const k=st._createBefore(w);let D=d.length;for(let R=d.length-1;R>=0;R--){const M=d[R],L=(M.type=="attribute"?M.range.start:M.position).compareWith(k);if(L=="before"||M.type=="remove"&&L=="same")break;D=R}d.splice(D,0,{type:"remove",name:w.name,position:k,length:1},{type:"reinsert",name:w.name,position:k,length:1})}}else d.push(p)}a.changes=d}}function KU(f){return(t,s,a={})=>{const d=["insert"];for(const p of f.attributes)t.hasAttribute(p)&&d.push(`attribute:${p}`);return!!d.every(p=>s.test(t,p))&&(a.preflight||d.forEach(p=>s.consume(t,p)),!0)}}function YU(f,t,s,a){for(const d of t)Die(f.root,d,s,a)||s.convertItem(d)}function Die(f,t,s,a){const{writer:d,mapper:p}=s;if(!a.reconversion)return!1;const w=p.toViewElement(t);return!(!w||w.root==f)&&!!s.canReuseView(w)&&(d.move(d.createRangeOn(w),p.toViewPosition(st._createBefore(t))),!0)}function Nie(f,t,{preflight:s}={}){return s?t.test(f,"insert"):t.consume(f,"insert")}function ZU(f){const{schema:t,document:s}=f.model;for(const a of s.getRoots())if(a.isEmpty&&!t.checkChild(a,"$text")&&t.checkChild(a,"paragraph"))return f.insertElement("paragraph",a),!0;return!1}function JU(f,t,s){const a=s.createContext(f);return!!s.checkChild(a,"paragraph")&&!!s.checkChild(a.push("paragraph"),t)}function QU(f,t){const s=t.createElement("paragraph");return t.insert(s,f),t.createPositionAt(s,0)}class Pie extends VU{elementToElement(t){return this.add(eL(t))}elementToAttribute(t){return this.add(function(s){s=tt(s),tL(s);const a=nL(s,!1),d=CP(s.view),p=d?`element:${d}`:"element";return w=>{w.on(p,a,{priority:s.converterPriority||"low"})}}(t))}attributeToAttribute(t){return this.add(function(s){s=tt(s);let a=null;(typeof s.view=="string"||s.view.key)&&(a=function(p){typeof p.view=="string"&&(p.view={key:p.view});const w=p.view.key;let k;return w=="class"||w=="style"?k={[w=="class"?"classes":"styles"]:p.view.value}:k={attributes:{[w]:p.view.value===void 0?/[\s\S]*/:p.view.value}},p.view.name&&(k.name=p.view.name),p.view=k,w}(s)),tL(s,a);const d=nL(s,!0);return p=>{p.on("element",d,{priority:s.converterPriority||"low"})}}(t))}elementToMarker(t){return this.add(function(s){const a=function(d){return(p,w)=>{const k=typeof d=="string"?d:d(p,w);return w.writer.createElement("$marker",{"data-name":k})}}(s.model);return eL({...s,model:a})}(t))}dataToMarker(t){return this.add(function(s){s=tt(s),s.model||(s.model=w=>w?s.view+":"+w:s.view);const a={view:s.view,model:s.model},d=TP(iL(a,"start")),p=TP(iL(a,"end"));return w=>{w.on(`element:${s.view}-start`,d,{priority:s.converterPriority||"normal"}),w.on(`element:${s.view}-end`,p,{priority:s.converterPriority||"normal"});const k=F.low,D=F.highest,R=F.get(s.converterPriority)/D;w.on("element",function(M){return(L,W,J)=>{const re=`data-${M.view}`;function ae(ve,je){for(const $e of je){const Qe=M.model($e,J),St=J.writer.createElement("$marker",{"data-name":Qe});J.writer.insert(St,ve),W.modelCursor.isEqual(ve)?W.modelCursor=W.modelCursor.getShiftedBy(1):W.modelCursor=W.modelCursor._getTransformedByInsertion(ve,1),W.modelRange=W.modelRange._getTransformedByInsertion(ve,1)[0]}}(J.consumable.test(W.viewItem,{attributes:re+"-end-after"})||J.consumable.test(W.viewItem,{attributes:re+"-start-after"})||J.consumable.test(W.viewItem,{attributes:re+"-end-before"})||J.consumable.test(W.viewItem,{attributes:re+"-start-before"}))&&(W.modelRange||Object.assign(W,J.convertChildren(W.viewItem,W.modelCursor)),J.consumable.consume(W.viewItem,{attributes:re+"-end-after"})&&ae(W.modelRange.end,W.viewItem.getAttribute(re+"-end-after").split(",")),J.consumable.consume(W.viewItem,{attributes:re+"-start-after"})&&ae(W.modelRange.end,W.viewItem.getAttribute(re+"-start-after").split(",")),J.consumable.consume(W.viewItem,{attributes:re+"-end-before"})&&ae(W.modelRange.start,W.viewItem.getAttribute(re+"-end-before").split(",")),J.consumable.consume(W.viewItem,{attributes:re+"-start-before"})&&ae(W.modelRange.start,W.viewItem.getAttribute(re+"-start-before").split(",")))}}(a),{priority:k+R})}}(t))}}function eL(f){const t=TP(f=tt(f)),s=CP(f.view),a=s?`element:${s}`:"element";return d=>{d.on(a,t,{priority:f.converterPriority||"normal"})}}function CP(f){return typeof f=="string"?f:typeof f=="object"&&typeof f.name=="string"?f.name:null}function TP(f){const t=new Cu(f.view);return(s,a,d)=>{const p=t.match(a.viewItem);if(!p)return;const w=p.match;if(w.name=!0,!d.consumable.test(a.viewItem,w))return;const k=function(D,R,M){return D instanceof Function?D(R,M):M.writer.createElement(D)}(f.model,a.viewItem,d);k&&d.safeInsert(k,a.modelCursor)&&(d.consumable.consume(a.viewItem,w),d.convertChildren(a.viewItem,k),d.updateConversionResult(k,a))}}function tL(f,t=null){const s=t===null||(p=>p.getAttribute(t)),a=typeof f.model!="object"?f.model:f.model.key,d=typeof f.model!="object"||f.model.value===void 0?s:f.model.value;f.model={key:a,value:d}}function nL(f,t){const s=new Cu(f.view);return(a,d,p)=>{if(!d.modelRange&&t)return;const w=s.match(d.viewItem);if(!w||(function(M,L){const W=typeof M=="function"?M(L):M;return typeof W=="object"&&!CP(W)?!1:!W.classes&&!W.attributes&&!W.styles}(f.view,d.viewItem)?w.match.name=!0:delete w.match.name,!p.consumable.test(d.viewItem,w.match)))return;const k=f.model.key,D=typeof f.model.value=="function"?f.model.value(d.viewItem,p):f.model.value;if(D===null)return;d.modelRange||Object.assign(d,p.convertChildren(d.viewItem,d.modelCursor)),function(M,L,W,J){let re=!1;for(const ae of Array.from(M.getItems({shallow:W})))J.schema.checkAttribute(ae,L.key)&&(re=!0,ae.hasAttribute(L.key)||J.writer.setAttribute(L.key,L.value,ae));return re}(d.modelRange,{key:k,value:D},t,p)&&(p.consumable.test(d.viewItem,{name:!0})&&(w.match.name=!0),p.consumable.consume(d.viewItem,w.match))}}function iL(f,t){return{view:`${f.view}-${t}`,model:(s,a)=>{const d=s.getAttribute("name"),p=f.model(d,a);return a.writer.createElement("$marker",{"data-name":p})}}}function jie(f){f.document.registerPostFixer(t=>function(s,a){const d=a.document.selection,p=a.schema,w=[];let k=!1;for(const D of d.getRanges()){const R=rL(D,p);R&&!R.isEqual(D)?(w.push(R),k=!0):w.push(D)}return k&&s.setSelection(function(D){const R=[...D],M=new Set;let L=1;for(;L<R.length;){const W=R[L],J=R.slice(0,L);for(const[re,ae]of J.entries())if(!M.has(re)){if(W.isEqual(ae))M.add(re);else if(W.isIntersecting(ae)){M.add(re),M.add(L);const ve=W.getJoined(ae);R.push(ve)}}L++}return R.filter((W,J)=>!M.has(J))}(w),{backward:d.isBackward}),!1}(t,f))}function rL(f,t){return f.isCollapsed?function(s,a){const d=s.start,p=a.getNearestSelectionRange(d);if(!p){const k=d.getAncestors().reverse().find(D=>a.isObject(D));return k?Je._createOn(k):null}if(!p.isCollapsed)return p;const w=p.start;return d.isEqual(w)?null:new Je(w)}(f,t):function(s,a){const{start:d,end:p}=s,w=a.checkChild(d,"$text"),k=a.checkChild(p,"$text"),D=a.getLimitElement(d),R=a.getLimitElement(p);if(D===R){if(w&&k)return null;if(function(W,J,re){const ae=W.nodeAfter&&!re.isLimit(W.nodeAfter)||re.checkChild(W,"$text"),ve=J.nodeBefore&&!re.isLimit(J.nodeBefore)||re.checkChild(J,"$text");return ae||ve}(d,p,a)){const W=d.nodeAfter&&a.isSelectable(d.nodeAfter)?null:a.getNearestSelectionRange(d,"forward"),J=p.nodeBefore&&a.isSelectable(p.nodeBefore)?null:a.getNearestSelectionRange(p,"backward"),re=W?W.start:d,ae=J?J.end:p;return new Je(re,ae)}}const M=D&&!D.is("rootElement"),L=R&&!R.is("rootElement");if(M||L){const W=d.nodeAfter&&p.nodeBefore&&d.nodeAfter.parent===p.nodeBefore.parent,J=M&&(!W||!oL(d.nodeAfter,a)),re=L&&(!W||!oL(p.nodeBefore,a));let ae=d,ve=p;return J&&(ae=st._createBefore(sL(D,a))),re&&(ve=st._createAfter(sL(R,a))),new Je(ae,ve)}return null}(f,t)}function sL(f,t){let s=f,a=s;for(;t.isLimit(a)&&a.parent;)s=a,a=a.parent;return s}function oL(f,t){return f&&t.isSelectable(f)}class Iie extends ze(){constructor(t,s){super(),this.model=t,this.view=new rt(s),this.mapper=new FU,this.downcastDispatcher=new UU({mapper:this.mapper,schema:t.schema});const a=this.model.document,d=a.selection,p=this.model.markers;var w,k,D;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(a,"change",()=>{this.view.change(R=>{this.downcastDispatcher.convertChanges(a.differ,p,R),this.downcastDispatcher.convertSelection(d,p,R)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(R,M){return(L,W)=>{const J=W.newSelection,re=[];for(const ve of J.getRanges())re.push(M.toModelRange(ve));const ae=R.createSelection(re,{backward:J.isBackward});ae.isEqual(R.document.selection)||R.change(ve=>{ve.setSelection(ae)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(w=this.mapper,k=this.model.schema,D=this.view,(R,M)=>{if(!D.document.isComposing||y.isAndroid)for(let L=0;L<M.targetRanges.length;L++){const W=M.targetRanges[L],J=w.toModelRange(W),re=rL(J,k);re&&!re.isEqual(J)&&(M.targetRanges[L]=w.toViewRange(re))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(R,M,L)=>{if(!L.consumable.consume(M.item,R.name))return;const W=L.writer,J=L.mapper.toViewPosition(M.range.start),re=W.createText(M.item.data);W.insert(J,re)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(R,M,L)=>{L.convertAttributes(M.item),M.reconversion||!M.item.is("element")||M.item.isEmpty||L.convertChildren(M.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(R,M,L)=>{const W=L.mapper.toViewPosition(M.position),J=M.position.getShiftedBy(M.length),re=L.mapper.toViewPosition(J,{isPhantom:!0}),ae=L.writer.createRange(W,re),ve=L.writer.remove(ae.getTrimmed());for(const je of L.writer.createRangeIn(ve).getItems())L.mapper.unbindViewElement(je,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(R,M,L)=>{const W=L.writer,J=W.document.selection;for(const re of J.getRanges())re.isCollapsed&&re.end.parent.isAttached()&&L.writer.mergeAttributes(re.start);W.setSelection(null)}),this.downcastDispatcher.on("selection",(R,M,L)=>{const W=M.selection;if(W.isCollapsed||!L.consumable.consume(W,"selection"))return;const J=[];for(const re of W.getRanges())J.push(L.mapper.toViewRange(re));L.writer.setSelection(J,{backward:W.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(R,M,L)=>{const W=M.selection;if(!W.isCollapsed||!L.consumable.consume(W,"selection"))return;const J=L.writer,re=W.getFirstPosition(),ae=L.mapper.toViewPosition(re),ve=J.breakAttributes(ae);J.setSelection(ve)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(R=>{if(R.rootName=="$graveyard")return null;const M=new By(this.view.document,R.name);return M.rootName=R.rootName,this.mapper.bindElements(R,M),M})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(t){const s=typeof t=="string"?t:t.name,a=this.model.markers.get(s);if(!a)throw new B("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:s});this.model.change(()=>{this.model.markers._refresh(a)})}reconvertItem(t){this.model.change(()=>{this.model.document.differ._refreshItem(t)})}}class Jx{constructor(){this._consumables=new Map}add(t,s){let a;t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):(this._consumables.has(t)?a=this._consumables.get(t):(a=new Rie(t),this._consumables.set(t,a)),a.add(s))}test(t,s){const a=this._consumables.get(t);return a===void 0?null:t.is("$text")||t.is("documentFragment")?a:a.test(s)}consume(t,s){return!!this.test(t,s)&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!1):this._consumables.get(t).consume(s),!0)}revert(t,s){const a=this._consumables.get(t);a!==void 0&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):a.revert(s))}static consumablesFromElement(t){const s={element:t,name:!0,attributes:[],classes:[],styles:[]},a=t.getAttributeKeys();for(const w of a)w!="style"&&w!="class"&&s.attributes.push(w);const d=t.getClassNames();for(const w of d)s.classes.push(w);const p=t.getStyleNames();for(const w of p)s.styles.push(w);return s}static createFrom(t,s){if(s||(s=new Jx),t.is("$text"))return s.add(t),s;t.is("element")&&s.add(t,Jx.consumablesFromElement(t)),t.is("documentFragment")&&s.add(t);for(const a of t.getChildren())s=Jx.createFrom(a,s);return s}}const XA=["attributes","classes","styles"];class Rie{constructor(t){this.element=t,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(t){t.name&&(this._canConsumeName=!0);for(const s of XA)s in t&&this._add(s,t[s])}test(t){if(t.name&&!this._canConsumeName)return this._canConsumeName;for(const s of XA)if(s in t){const a=this._test(s,t[s]);if(a!==!0)return a}return!0}consume(t){t.name&&(this._canConsumeName=!1);for(const s of XA)s in t&&this._consume(s,t[s])}revert(t){t.name&&(this._canConsumeName=!0);for(const s of XA)s in t&&this._revert(s,t[s])}_add(t,s){const a=qt(s)?s:[s],d=this._consumables[t];for(const p of a){if(t==="attributes"&&(p==="class"||p==="style"))throw new B("viewconsumable-invalid-attribute",this);if(d.set(p,!0),t==="styles")for(const w of this.element.document.stylesProcessor.getRelatedStyles(p))d.set(w,!0)}}_test(t,s){const a=qt(s)?s:[s],d=this._consumables[t];for(const p of a)if(t!=="attributes"||p!=="class"&&p!=="style"){const w=d.get(p);if(w===void 0)return null;if(!w)return!1}else{const w=p=="class"?"classes":"styles",k=this._test(w,[...this._consumables[w].keys()]);if(k!==!0)return k}return!0}_consume(t,s){const a=qt(s)?s:[s],d=this._consumables[t];for(const p of a)if(t!=="attributes"||p!=="class"&&p!=="style"){if(d.set(p,!1),t=="styles")for(const w of this.element.document.stylesProcessor.getRelatedStyles(p))d.set(w,!1)}else{const w=p=="class"?"classes":"styles";this._consume(w,[...this._consumables[w].keys()])}}_revert(t,s){const a=qt(s)?s:[s],d=this._consumables[t];for(const p of a)if(t!=="attributes"||p!=="class"&&p!=="style")d.get(p)===!1&&d.set(p,!0);else{const w=p=="class"?"classes":"styles";this._revert(w,[...this._consumables[w].keys()])}}}class Mie extends ze(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(t,s)=>{s[0]=new Lg(s[0])},{priority:"highest"}),this.on("checkChild",(t,s)=>{s[0]=new Lg(s[0]),s[1]=this.getDefinition(s[1])},{priority:"highest"})}register(t,s){if(this._sourceDefinitions[t])throw new B("schema-cannot-register-item-twice",this,{itemName:t});this._sourceDefinitions[t]=[Object.assign({},s)],this._clearCache()}extend(t,s){if(!this._sourceDefinitions[t])throw new B("schema-cannot-extend-missing-item",this,{itemName:t});this._sourceDefinitions[t].push(Object.assign({},s)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(t){let s;return s=typeof t=="string"?t:"is"in t&&(t.is("$text")||t.is("$textProxy"))?"$text":t.name,this.getDefinitions()[s]}isRegistered(t){return!!this.getDefinition(t)}isBlock(t){const s=this.getDefinition(t);return!(!s||!s.isBlock)}isLimit(t){const s=this.getDefinition(t);return!!s&&!(!s.isLimit&&!s.isObject)}isObject(t){const s=this.getDefinition(t);return!!s&&!!(s.isObject||s.isLimit&&s.isSelectable&&s.isContent)}isInline(t){const s=this.getDefinition(t);return!(!s||!s.isInline)}isSelectable(t){const s=this.getDefinition(t);return!!s&&!(!s.isSelectable&&!s.isObject)}isContent(t){const s=this.getDefinition(t);return!!s&&!(!s.isContent&&!s.isObject)}checkChild(t,s){return!!s&&this._checkContextMatch(s,t)}checkAttribute(t,s){const a=this.getDefinition(t.last);return!!a&&a.allowAttributes.includes(s)}checkMerge(t,s){if(t instanceof st){const a=t.nodeBefore,d=t.nodeAfter;if(!(a instanceof Xt))throw new B("schema-check-merge-no-element-before",this);if(!(d instanceof Xt))throw new B("schema-check-merge-no-element-after",this);return this.checkMerge(a,d)}for(const a of s.getChildren())if(!this.checkChild(t,a))return!1;return!0}addChildCheck(t){this.on("checkChild",(s,[a,d])=>{if(!d)return;const p=t(a,d);typeof p=="boolean"&&(s.stop(),s.return=p)},{priority:"high"})}addAttributeCheck(t){this.on("checkAttribute",(s,[a,d])=>{const p=t(a,d);typeof p=="boolean"&&(s.stop(),s.return=p)},{priority:"high"})}setAttributeProperties(t,s){this._attributeProperties[t]=Object.assign(this.getAttributeProperties(t),s)}getAttributeProperties(t){return this._attributeProperties[t]||{}}getLimitElement(t){let s;for(t instanceof st?s=t.parent:s=(t instanceof Je?[t]:Array.from(t.getRanges())).reduce((a,d)=>{const p=d.getCommonAncestor();return a?a.getCommonAncestor(p,{includeSelf:!0}):p},null);!this.isLimit(s)&&s.parent;)s=s.parent;return s}checkAttributeInSelection(t,s){if(t.isCollapsed){const a=[...t.getFirstPosition().getAncestors(),new Ft("",t.getAttributes())];return this.checkAttribute(a,s)}{const a=t.getRanges();for(const d of a)for(const p of d)if(this.checkAttribute(p.item,s))return!0}return!1}*getValidRanges(t,s){t=function*(a){for(const d of a)yield*d.getMinimalFlatRanges()}(t);for(const a of t)yield*this._getValidRangesForRange(a,s)}getNearestSelectionRange(t,s="both"){if(t.root.rootName=="$graveyard")return null;if(this.checkChild(t,"$text"))return new Je(t);let a,d;const p=t.getAncestors().reverse().find(w=>this.isLimit(w))||t.root;s!="both"&&s!="backward"||(a=new Il({boundaries:Je._createIn(p),startPosition:t,direction:"backward"})),s!="both"&&s!="forward"||(d=new Il({boundaries:Je._createIn(p),startPosition:t}));for(const w of function*(k,D){let R=!1;for(;!R;){if(R=!0,k){const M=k.next();M.done||(R=!1,yield{walker:k,value:M.value})}if(D){const M=D.next();M.done||(R=!1,yield{walker:D,value:M.value})}}}(a,d)){const k=w.walker==a?"elementEnd":"elementStart",D=w.value;if(D.type==k&&this.isObject(D.item))return Je._createOn(D.item);if(this.checkChild(D.nextPosition,"$text"))return new Je(D.nextPosition)}return null}findAllowedParent(t,s){let a=t.parent;for(;a;){if(this.checkChild(a,s))return a;if(this.isLimit(a))return null;a=a.parent}return null}setAllowedAttributes(t,s,a){const d=a.model;for(const[p,w]of Object.entries(s))d.schema.checkAttribute(t,p)&&a.setAttribute(p,w,t)}removeDisallowedAttributes(t,s){for(const a of t)if(a.is("$text"))aL(this,a,s);else{const d=Je._createIn(a).getPositions();for(const p of d)aL(this,p.nodeBefore||p.parent,s)}}getAttributesWithProperty(t,s,a){const d={};for(const[p,w]of t.getAttributes()){const k=this.getAttributeProperties(p);k[s]!==void 0&&(a!==void 0&&a!==k[s]||(d[p]=w))}return d}createContext(t){return new Lg(t)}_clearCache(){this._compiledDefinitions=null}_compile(){const t={},s=this._sourceDefinitions,a=Object.keys(s);for(const d of a)t[d]=Oie(s[d],d);for(const d of a)Fie(t,d);for(const d of a)Uie(t,d);for(const d of a)Lie(t,d);for(const d of a)Bie(t,d),zie(t,d);for(const d of a)Vie(t,d),Wie(t,d),$ie(t,d);this._compiledDefinitions=t}_checkContextMatch(t,s,a=s.length-1){const d=s.getItem(a);if(t.allowIn.includes(d.name)){if(a==0)return!0;{const p=this.getDefinition(d);return this._checkContextMatch(p,s,a-1)}}return!1}*_getValidRangesForRange(t,s){let a=t.start,d=t.start;for(const p of t.getItems({shallow:!0}))p.is("element")&&(yield*this._getValidRangesForRange(Je._createIn(p),s)),this.checkAttribute(p,s)||(a.isEqual(d)||(yield new Je(a,d)),a=st._createAfter(p)),d=st._createAfter(p);a.isEqual(d)||(yield new Je(a,d))}}class Lg{constructor(t){if(t instanceof Lg)return t;let s;s=typeof t=="string"?[t]:Array.isArray(t)?t:t.getAncestors({includeSelf:!0}),this._items=s.map(Hie)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(t){const s=new Lg([t]);return s._items=[...this._items,...s._items],s}getItem(t){return this._items[t]}*getNames(){yield*this._items.map(t=>t.name)}endsWith(t){return Array.from(this.getNames()).join(" ").endsWith(t)}startsWith(t){return Array.from(this.getNames()).join(" ").startsWith(t)}}function Oie(f,t){const s={name:t,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(a,d){for(const p of a){const w=Object.keys(p).filter(k=>k.startsWith("is"));for(const k of w)d[k]=!!p[k]}}(f,s),Bg(f,s,"allowIn"),Bg(f,s,"allowContentOf"),Bg(f,s,"allowWhere"),Bg(f,s,"allowAttributes"),Bg(f,s,"allowAttributesOf"),Bg(f,s,"allowChildren"),Bg(f,s,"inheritTypesFrom"),function(a,d){for(const p of a){const w=p.inheritAllFrom;w&&(d.allowContentOf.push(w),d.allowWhere.push(w),d.allowAttributesOf.push(w),d.inheritTypesFrom.push(w))}}(f,s),s}function Fie(f,t){const s=f[t];for(const a of s.allowChildren){const d=f[a];d&&d.allowIn.push(t)}s.allowChildren.length=0}function Uie(f,t){for(const s of f[t].allowContentOf)f[s]&&qie(f,s).forEach(a=>{a.allowIn.push(t)});delete f[t].allowContentOf}function Lie(f,t){for(const s of f[t].allowWhere){const a=f[s];if(a){const d=a.allowIn;f[t].allowIn.push(...d)}}delete f[t].allowWhere}function Bie(f,t){for(const s of f[t].allowAttributesOf){const a=f[s];if(a){const d=a.allowAttributes;f[t].allowAttributes.push(...d)}}delete f[t].allowAttributesOf}function zie(f,t){const s=f[t];for(const a of s.inheritTypesFrom){const d=f[a];if(d){const p=Object.keys(d).filter(w=>w.startsWith("is"));for(const w of p)w in s||(s[w]=d[w])}}delete s.inheritTypesFrom}function Vie(f,t){const s=f[t],a=s.allowIn.filter(d=>f[d]);s.allowIn=Array.from(new Set(a))}function Wie(f,t){const s=f[t];for(const a of s.allowIn)f[a].allowChildren.push(t)}function $ie(f,t){const s=f[t];s.allowAttributes=Array.from(new Set(s.allowAttributes))}function Bg(f,t,s){for(const a of f){const d=a[s];typeof d=="string"?t[s].push(d):Array.isArray(d)&&t[s].push(...d)}}function qie(f,t){const s=f[t];return(a=f,Object.keys(a).map(d=>a[d])).filter(d=>d.allowIn.includes(s.name));var a}function Hie(f){return typeof f=="string"||f.is("documentFragment")?{name:typeof f=="string"?f:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:f.is("element")?f.name:"$text",*getAttributeKeys(){yield*f.getAttributeKeys()},getAttribute:t=>f.getAttribute(t)}}function aL(f,t,s){for(const a of t.getAttributeKeys())f.checkAttribute(t,a)||s.removeAttribute(a,t)}class Gie extends X(){constructor(t){super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi={...t,consumable:null,writer:null,store:null,convertItem:(s,a)=>this._convertItem(s,a),convertChildren:(s,a)=>this._convertChildren(s,a),safeInsert:(s,a)=>this._safeInsert(s,a),updateConversionResult:(s,a)=>this._updateConversionResult(s,a),splitToAllowedParent:(s,a)=>this._splitToAllowedParent(s,a),getSplitParts:s=>this._getSplitParts(s),keepEmptyElement:s=>this._keepEmptyElement(s)}}convert(t,s,a=["$root"]){this.fire("viewCleanup",t),this._modelCursor=function(w,k){let D;for(const R of new Lg(w)){const M={};for(const W of R.getAttributeKeys())M[W]=R.getAttribute(W);const L=k.createElement(R.name,M);D&&k.insert(L,D),D=st._createAt(L,0)}return D}(a,s),this.conversionApi.writer=s,this.conversionApi.consumable=Jx.createFrom(t),this.conversionApi.store={};const{modelRange:d}=this._convertItem(t,this._modelCursor),p=s.createDocumentFragment();if(d){this._removeEmptyElements();for(const w of Array.from(this._modelCursor.parent.getChildren()))s.append(w,p);p.markers=function(w,k){const D=new Set,R=new Map,M=Je._createIn(w).getItems();for(const L of M)L.is("element","$marker")&&D.add(L);for(const L of D){const W=L.getAttribute("data-name"),J=k.createPositionBefore(L);R.has(W)?R.get(W).end=J.clone():R.set(W,new Je(J.clone())),k.remove(L)}return R}(p,s)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,p}_convertItem(t,s){const a={viewItem:t,modelCursor:s,modelRange:null};if(t.is("element")?this.fire(`element:${t.name}`,a,this.conversionApi):t.is("$text")?this.fire("text",a,this.conversionApi):this.fire("documentFragment",a,this.conversionApi),a.modelRange&&!(a.modelRange instanceof Je))throw new B("view-conversion-dispatcher-incorrect-result",this);return{modelRange:a.modelRange,modelCursor:a.modelCursor}}_convertChildren(t,s){let a=s.is("position")?s:st._createAt(s,0);const d=new Je(a);for(const p of Array.from(t.getChildren())){const w=this._convertItem(p,a);w.modelRange instanceof Je&&(d.end=w.modelRange.end,a=w.modelCursor)}return{modelRange:d,modelCursor:a}}_safeInsert(t,s){const a=this._splitToAllowedParent(t,s);return!!a&&(this.conversionApi.writer.insert(t,a.position),!0)}_updateConversionResult(t,s){const a=this._getSplitParts(t),d=this.conversionApi.writer;s.modelRange||(s.modelRange=d.createRange(d.createPositionBefore(t),d.createPositionAfter(a[a.length-1])));const p=this._cursorParents.get(t);s.modelCursor=p?d.createPositionAt(p,0):s.modelRange.end}_splitToAllowedParent(t,s){const{schema:a,writer:d}=this.conversionApi;let p=a.findAllowedParent(s,t);if(p){if(p===s.parent)return{position:s};this._modelCursor.parent.getAncestors().includes(p)&&(p=null)}if(!p)return JU(s,t,a)?{position:QU(s,d)}:null;const w=this.conversionApi.writer.split(s,p),k=[];for(const R of w.range.getWalker())if(R.type=="elementEnd")k.push(R.item);else{const M=k.pop(),L=R.item;this._registerSplitPair(M,L)}const D=w.range.end.parent;return this._cursorParents.set(t,D),{position:w.position,cursorParent:D}}_registerSplitPair(t,s){this._splitParts.has(t)||this._splitParts.set(t,[t]);const a=this._splitParts.get(t);this._splitParts.set(s,a),a.push(s)}_getSplitParts(t){let s;return s=this._splitParts.has(t)?this._splitParts.get(t):[t],s}_keepEmptyElement(t){this._emptyElementsToKeep.add(t)}_removeEmptyElements(){let t=!1;for(const s of this._splitParts.keys())s.isEmpty&&!this._emptyElementsToKeep.has(s)&&(this.conversionApi.writer.remove(s),this._splitParts.delete(s),t=!0);t&&this._removeEmptyElements()}}class Xie{getHtml(t){const s=document.implementation.createHTMLDocument("").createElement("div");return s.appendChild(t),s.innerHTML}}class Kie{constructor(t){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new VA(t,{renderingMode:"data"}),this.htmlWriter=new Xie}toData(t){const s=this.domConverter.viewToDom(t);return this.htmlWriter.getHtml(s)}toView(t){const s=this._toDom(t);return this.domConverter.domToView(s,{skipComments:this.skipComments})}registerRawContentMatcher(t){this.domConverter.registerRawContentMatcher(t)}useFillerType(t){this.domConverter.blockFillerMode=t=="marked"?"markedNbsp":"nbsp"}_toDom(t){t.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(t=`<body>${t}</body>`);const s=this.domParser.parseFromString(t,"text/html"),a=s.createDocumentFragment(),d=s.body.childNodes;for(;d.length>0;)a.appendChild(d[0]);return a}}class Yie extends X(){constructor(t,s){super(),this.model=t,this.mapper=new FU,this.downcastDispatcher=new UU({mapper:this.mapper,schema:t.schema}),this.downcastDispatcher.on("insert:$text",(a,d,p)=>{if(!p.consumable.consume(d.item,a.name))return;const w=p.writer,k=p.mapper.toViewPosition(d.range.start),D=w.createText(d.item.data);w.insert(k,D)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(a,d,p)=>{p.convertAttributes(d.item),d.reconversion||!d.item.is("element")||d.item.isEmpty||p.convertChildren(d.item)},{priority:"lowest"}),this.upcastDispatcher=new Gie({schema:t.schema}),this.viewDocument=new fr(s),this.stylesProcessor=s,this.htmlProcessor=new Kie(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new Pg(this.viewDocument),this.upcastDispatcher.on("text",(a,d,{schema:p,consumable:w,writer:k})=>{let D=d.modelCursor;if(!w.test(d.viewItem))return;if(!p.checkChild(D,"$text")){if(!JU(D,"$text",p)||d.viewItem.data.trim().length==0)return;const M=D.nodeBefore;D=QU(D,k),M&&M.is("element","$marker")&&(k.move(k.createRangeOn(M),D),D=k.createPositionAfter(M))}w.consume(d.viewItem);const R=k.createText(d.viewItem.data);k.insert(R,D),d.modelRange=k.createRange(D,D.getShiftedBy(R.offsetSize)),d.modelCursor=d.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(a,d,p)=>{if(!d.modelRange&&p.consumable.consume(d.viewItem,{name:!0})){const{modelRange:w,modelCursor:k}=p.convertChildren(d.viewItem,d.modelCursor);d.modelRange=w,d.modelCursor=k}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(a,d,p)=>{if(!d.modelRange&&p.consumable.consume(d.viewItem,{name:!0})){const{modelRange:w,modelCursor:k}=p.convertChildren(d.viewItem,d.modelCursor);d.modelRange=w,d.modelCursor=k}},{priority:"lowest"}),ze().prototype.decorate.call(this,"init"),ze().prototype.decorate.call(this,"set"),ze().prototype.decorate.call(this,"get"),ze().prototype.decorate.call(this,"toView"),ze().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},ZU)},{priority:"lowest"})}get(t={}){const{rootName:s="main",trim:a="empty"}=t;if(!this._checkIfRootsExists([s]))throw new B("datacontroller-get-non-existent-root",this);const d=this.model.document.getRoot(s);return d.isAttached()||K("datacontroller-get-detached-root",this),a!=="empty"||this.model.hasContent(d,{ignoreWhitespaces:!0})?this.stringify(d,t):""}stringify(t,s={}){const a=this.toView(t,s);return this.processor.toData(a)}toView(t,s={}){const a=this.viewDocument,d=this._viewWriter;this.mapper.clearBindings();const p=Je._createIn(t),w=new xt(a);this.mapper.bindElements(t,w);const k=t.is("documentFragment")?t.markers:function(D){const R=[],M=D.root.document;if(!M)return new Map;const L=Je._createIn(D);for(const W of M.model.markers){const J=W.getRange(),re=J.isCollapsed,ae=J.start.isEqual(L.start)||J.end.isEqual(L.end);if(re&&ae)R.push([W.name,J]);else{const ve=L.getIntersection(J);ve&&R.push([W.name,ve])}}return R.sort(([W,J],[re,ae])=>{if(J.end.compareWith(ae.start)!=="after")return 1;if(J.start.compareWith(ae.end)!=="before")return-1;switch(J.start.compareWith(ae.start)){case"before":return 1;case"after":return-1;default:switch(J.end.compareWith(ae.end)){case"before":return 1;case"after":return-1;default:return re.localeCompare(W)}}}),new Map(R)}(t);return this.downcastDispatcher.convert(p,k,d,s),w}init(t){if(this.model.document.version)throw new B("datacontroller-init-document-not-empty",this);let s={};if(typeof t=="string"?s.main=t:s=t,!this._checkIfRootsExists(Object.keys(s)))throw new B("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},a=>{for(const d of Object.keys(s)){const p=this.model.document.getRoot(d);a.insert(this.parse(s[d],p),p,0)}}),Promise.resolve()}set(t,s={}){let a={};if(typeof t=="string"?a.main=t:a=t,!this._checkIfRootsExists(Object.keys(a)))throw new B("datacontroller-set-non-existent-root",this);this.model.enqueueChange(s.batchType||{},d=>{d.setSelection(null),d.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const p of Object.keys(a)){const w=this.model.document.getRoot(p);d.remove(d.createRangeIn(w)),d.insert(this.parse(a[p],w),w,0)}})}parse(t,s="$root"){const a=this.processor.toView(t);return this.toModel(a,s)}toModel(t,s="$root"){return this.model.change(a=>this.upcastDispatcher.convert(t,a,s))}addStyleProcessorRules(t){t(this.stylesProcessor)}registerRawContentMatcher(t){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(t),this.htmlProcessor.registerRawContentMatcher(t)}destroy(){this.stopListening()}_checkIfRootsExists(t){for(const s of t)if(!this.model.document.getRoot(s))return!1;return!0}}class Zie{constructor(t,s){this._helpers=new Map,this._downcast=Rn(t),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Rn(s),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(t,s){const a=this._downcast.includes(s);if(!this._upcast.includes(s)&&!a)throw new B("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:t,dispatchers:[s],isDowncast:a})}for(t){if(!this._helpers.has(t))throw new B("conversion-for-unknown-group",this);return this._helpers.get(t)}elementToElement(t){this.for("downcast").elementToElement(t);for(const{model:s,view:a}of DP(t))this.for("upcast").elementToElement({model:s,view:a,converterPriority:t.converterPriority})}attributeToElement(t){this.for("downcast").attributeToElement(t);for(const{model:s,view:a}of DP(t))this.for("upcast").elementToAttribute({view:a,model:s,converterPriority:t.converterPriority})}attributeToAttribute(t){this.for("downcast").attributeToAttribute(t);for(const{model:s,view:a}of DP(t))this.for("upcast").attributeToAttribute({view:a,model:s})}_createConversionHelpers({name:t,dispatchers:s,isDowncast:a}){if(this._helpers.has(t))throw new B("conversion-group-exists",this);const d=a?new Tie(s):new Pie(s);this._helpers.set(t,d)}}function*DP(f){if(f.model.values)for(const t of f.model.values){const s={key:f.model.key,value:t},a=f.view[t],d=f.upcastAlso?f.upcastAlso[t]:void 0;yield*lL(s,a,d)}else yield*lL(f.model,f.view,f.upcastAlso)}function*lL(f,t,s){if(yield{model:f,view:t},s)for(const a of Rn(s))yield{model:f,view:a}}class Pa{constructor(t){this.baseVersion=t,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const t=Object.assign({},this);return t.__className=this.constructor.className,delete t.batch,delete t.isDocumentOperation,t}static get className(){return"Operation"}static fromJSON(t,s){return new this(t.baseVersion)}}function NP(f,t){const s=uL(t),a=s.reduce((w,k)=>w+k.offsetSize,0),d=f.parent;t_(f);const p=f.index;return d._insertChild(p,s),e_(d,p+s.length),e_(d,p),new Je(f,f.getShiftedBy(a))}function cL(f){if(!f.isFlat)throw new B("operation-utils-remove-range-not-flat",this);const t=f.start.parent;t_(f.start),t_(f.end);const s=t._removeChildren(f.start.index,f.end.index-f.start.index);return e_(t,f.start.index),s}function Qx(f,t){if(!f.isFlat)throw new B("operation-utils-move-range-not-flat",this);const s=cL(f);return NP(t=t._getTransformedByDeletion(f.start,f.end.offset-f.start.offset),s)}function uL(f){const t=[];(function s(a){if(typeof a=="string")t.push(new Ft(a));else if(a instanceof Vt)t.push(new Ft(a.data,a.getAttributes()));else if(a instanceof Et)t.push(a);else if(Fe(a))for(const d of a)s(d)})(f);for(let s=1;s<t.length;s++){const a=t[s],d=t[s-1];a instanceof Ft&&d instanceof Ft&&dL(a,d)&&(t.splice(s-1,2,new Ft(d.data+a.data,d.getAttributes())),s--)}return t}function e_(f,t){const s=f.getChild(t-1),a=f.getChild(t);if(s&&a&&s.is("$text")&&a.is("$text")&&dL(s,a)){const d=new Ft(s.data+a.data,s.getAttributes());f._removeChildren(t-1,2),f._insertChild(t-1,d)}}function t_(f){const t=f.textNode,s=f.parent;if(t){const a=f.offset-t.startOffset,d=t.index;s._removeChildren(d,1);const p=new Ft(t.data.substr(0,a),t.getAttributes()),w=new Ft(t.data.substr(a),t.getAttributes());s._insertChild(d,[p,w])}}function dL(f,t){const s=f.getAttributes(),a=t.getAttributes();for(const d of s){if(d[1]!==t.getAttribute(d[0]))return!1;a.next()}return a.next().done}class On extends Pa{constructor(t,s,a,d){super(d),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toNext",this.howMany=s,this.targetPosition=a.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[Je._createFromPositionAndShift(this.sourcePosition,this.howMany),Je._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new On(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new On(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1)}_validate(){const t=this.sourcePosition.parent,s=this.targetPosition.parent,a=this.sourcePosition.offset,d=this.targetPosition.offset;if(a+this.howMany>t.maxOffset)throw new B("move-operation-nodes-do-not-exist",this);if(t===s&&a<d&&d<a+this.howMany)throw new B("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&qe(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const p=this.sourcePosition.path.length-1;if(this.targetPosition.path[p]>=a&&this.targetPosition.path[p]<a+this.howMany)throw new B("move-operation-node-into-itself",this)}}_execute(){Qx(Je._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t.targetPosition=this.targetPosition.toJSON(),t}static get className(){return"MoveOperation"}static fromJSON(t,s){const a=st.fromJSON(t.sourcePosition,s),d=st.fromJSON(t.targetPosition,s);return new this(a,t.howMany,d,t.baseVersion)}}class Vr extends Pa{constructor(t,s,a){super(a),this.position=t.clone(),this.position.stickiness="toNone",this.nodes=new ln(uL(s)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const t=new ln([...this.nodes].map(a=>a._clone(!0))),s=new Vr(this.position,t,this.baseVersion);return s.shouldReceiveAttributes=this.shouldReceiveAttributes,s}getReversed(){const t=this.position.root.document.graveyard,s=new st(t,[0]);return new On(this.position,this.nodes.maxOffset,s,this.baseVersion+1)}_validate(){const t=this.position.parent;if(!t||t.maxOffset<this.position.offset)throw new B("insert-operation-position-invalid",this)}_execute(){const t=this.nodes;this.nodes=new ln([...t].map(s=>s._clone(!0))),NP(this.position,t)}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t.nodes=this.nodes.toJSON(),t}static get className(){return"InsertOperation"}static fromJSON(t,s){const a=[];for(const p of t.nodes)p.name?a.push(Xt.fromJSON(p)):a.push(Ft.fromJSON(p));const d=new Vr(st.fromJSON(t.position,s),a,t.baseVersion);return d.shouldReceiveAttributes=t.shouldReceiveAttributes,d}}class ei extends Pa{constructor(t,s,a,d,p){super(p),this.splitPosition=t.clone(),this.splitPosition.stickiness="toNext",this.howMany=s,this.insertionPosition=a,this.graveyardPosition=d?d.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const t=this.insertionPosition.path.slice();return t.push(0),new st(this.insertionPosition.root,t)}get movedRange(){const t=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Je(this.splitPosition,t)}get affectedSelectable(){const t=[Je._createFromPositionAndShift(this.splitPosition,0),Je._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&t.push(Je._createFromPositionAndShift(this.graveyardPosition,0)),t}clone(){return new ei(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=this.splitPosition.root.document.graveyard,s=new st(t,[0]);return new Gi(this.moveTargetPosition,this.howMany,this.splitPosition,s,this.baseVersion+1)}_validate(){const t=this.splitPosition.parent,s=this.splitPosition.offset;if(!t||t.maxOffset<s)throw new B("split-operation-position-invalid",this);if(!t.parent)throw new B("split-operation-split-in-root",this);if(this.howMany!=t.maxOffset-this.splitPosition.offset)throw new B("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new B("split-operation-graveyard-position-invalid",this)}_execute(){const t=this.splitPosition.parent;if(this.graveyardPosition)Qx(Je._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const s=t._clone();NP(this.insertionPosition,s)}Qx(new Je(st._createAt(t,this.splitPosition.offset),st._createAt(t,t.maxOffset)),this.moveTargetPosition)}toJSON(){const t=super.toJSON();return t.splitPosition=this.splitPosition.toJSON(),t.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(t.graveyardPosition=this.graveyardPosition.toJSON()),t}static get className(){return"SplitOperation"}static getInsertionPosition(t){const s=t.path.slice(0,-1);return s[s.length-1]++,new st(t.root,s,"toPrevious")}static fromJSON(t,s){const a=st.fromJSON(t.splitPosition,s),d=st.fromJSON(t.insertionPosition,s),p=t.graveyardPosition?st.fromJSON(t.graveyardPosition,s):null;return new this(a,t.howMany,d,p,t.baseVersion)}}class Gi extends Pa{constructor(t,s,a,d,p){super(p),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=s,this.targetPosition=a.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=d.clone()}get type(){return"merge"}get deletionPosition(){return new st(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const t=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Je(this.sourcePosition,t)}get affectedSelectable(){const t=this.sourcePosition.parent;return[Je._createOn(t),Je._createFromPositionAndShift(this.targetPosition,0),Je._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new Gi(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=this.targetPosition._getTransformedByMergeOperation(this),s=this.sourcePosition.path.slice(0,-1),a=new st(this.sourcePosition.root,s)._getTransformedByMergeOperation(this);return new ei(t,this.howMany,a,this.graveyardPosition,this.baseVersion+1)}_validate(){const t=this.sourcePosition.parent,s=this.targetPosition.parent;if(!t.parent)throw new B("merge-operation-source-position-invalid",this);if(!s.parent)throw new B("merge-operation-target-position-invalid",this);if(this.howMany!=t.maxOffset)throw new B("merge-operation-how-many-invalid",this)}_execute(){const t=this.sourcePosition.parent;Qx(Je._createIn(t),this.targetPosition),Qx(Je._createOn(t),this.graveyardPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=t.sourcePosition.toJSON(),t.targetPosition=t.targetPosition.toJSON(),t.graveyardPosition=t.graveyardPosition.toJSON(),t}static get className(){return"MergeOperation"}static fromJSON(t,s){const a=st.fromJSON(t.sourcePosition,s),d=st.fromJSON(t.targetPosition,s),p=st.fromJSON(t.graveyardPosition,s);return new this(a,t.howMany,d,p,t.baseVersion)}}class $o extends Pa{constructor(t,s,a,d,p,w){super(w),this.name=t,this.oldRange=s?s.clone():null,this.newRange=a?a.clone():null,this.affectsData=p,this._markers=d}get type(){return"marker"}get affectedSelectable(){const t=[];return this.oldRange&&t.push(this.oldRange.clone()),this.newRange&&(this.oldRange?t.push(...this.newRange.getDifference(this.oldRange)):t.push(this.newRange.clone())),t}clone(){return new $o(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new $o(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const t=super.toJSON();return this.oldRange&&(t.oldRange=this.oldRange.toJSON()),this.newRange&&(t.newRange=this.newRange.toJSON()),delete t._markers,t}static get className(){return"MarkerOperation"}static fromJSON(t,s){return new $o(t.name,t.oldRange?Je.fromJSON(t.oldRange,s):null,t.newRange?Je.fromJSON(t.newRange,s):null,s.model.markers,t.affectsData,t.baseVersion)}}const hL=function(f,t){return Ne(f,t)};class er extends Pa{constructor(t,s,a,d,p){super(p),this.range=t.clone(),this.key=s,this.oldValue=a===void 0?null:a,this.newValue=d===void 0?null:d}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new er(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new er(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const t=super.toJSON();return t.range=this.range.toJSON(),t}_validate(){if(!this.range.isFlat)throw new B("attribute-operation-range-not-flat",this);for(const t of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!hL(t.getAttribute(this.key),this.oldValue))throw new B("attribute-operation-wrong-old-value",this,{item:t,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&t.hasAttribute(this.key))throw new B("attribute-operation-attribute-exists",this,{node:t,key:this.key})}}_execute(){hL(this.oldValue,this.newValue)||function(t,s,a){t_(t.start),t_(t.end);for(const d of t.getItems({shallow:!0})){const p=d.is("$textProxy")?d.textNode:d;a!==null?p._setAttribute(s,a):p._removeAttribute(s),e_(p.parent,p.index)}e_(t.end.parent,t.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(t,s){return new er(Je.fromJSON(t.range,s),t.key,t.oldValue,t.newValue,t.baseVersion)}}class kr extends Pa{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new kr(this.baseVersion)}getReversed(){return new kr(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class qo extends Pa{constructor(t,s,a,d){super(d),this.position=t,this.position.stickiness="toNext",this.oldName=s,this.newName=a}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new qo(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new qo(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const t=this.position.nodeAfter;if(!(t instanceof Xt))throw new B("rename-operation-wrong-position",this);if(t.name!==this.oldName)throw new B("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t}static get className(){return"RenameOperation"}static fromJSON(t,s){return new qo(st.fromJSON(t.position,s),t.oldName,t.newName,t.baseVersion)}}class rh extends Pa{constructor(t,s,a,d,p){super(p),this.root=t,this.key=s,this.oldValue=a===void 0?null:a,this.newValue=d===void 0?null:d}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new rh(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new rh(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new B("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new B("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new B("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const t=super.toJSON();return t.root=this.root.toJSON(),t}static get className(){return"RootAttributeOperation"}static fromJSON(t,s){if(!s.getRoot(t.root))throw new B("rootattribute-operation-fromjson-no-root",this,{rootName:t.root});return new rh(s.getRoot(t.root),t.key,t.oldValue,t.newValue,t.baseVersion)}}class Uu extends Pa{constructor(t,s,a,d,p){super(p),this.rootName=t,this.elementName=s,this.isAdd=a,this._document=d,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new Uu(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Uu(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const t=super.toJSON();return delete t._document,t}static get className(){return"RootOperation"}static fromJSON(t,s){return new Uu(t.rootName,t.elementName,t.isAdd,s,t.baseVersion)}}const Rl={};Rl[er.className]=er,Rl[Vr.className]=Vr,Rl[$o.className]=$o,Rl[On.className]=On,Rl[kr.className]=kr,Rl[Pa.className]=Pa,Rl[qo.className]=qo,Rl[rh.className]=rh,Rl[Uu.className]=Uu,Rl[ei.className]=ei,Rl[Gi.className]=Gi;class Jie{static fromJSON(t,s){return Rl[t.__className].fromJSON(t,s)}}const PP=new Map;function Sn(f,t,s){let a=PP.get(f);a||(a=new Map,PP.set(f,a)),a.set(t,s)}function Qie(f){return[f]}function fL(f,t,s={}){const a=function(d,p){const w=PP.get(d);return w&&w.has(p)?w.get(p):Qie}(f.constructor,t.constructor);try{return a(f=f.clone(),t,s)}catch(d){throw d}}function ere(f,t,s){f=f.slice(),t=t.slice();const a=new tre(s.document,s.useRelations,s.forceWeakRemove);a.setOriginalOperations(f),a.setOriginalOperations(t);const d=a.originalOperations;if(f.length==0||t.length==0)return{operationsA:f,operationsB:t,originalOperations:d};const p=new WeakMap;for(const D of f)p.set(D,0);const w={nextBaseVersionA:f[f.length-1].baseVersion+1,nextBaseVersionB:t[t.length-1].baseVersion+1,originalOperationsACount:f.length,originalOperationsBCount:t.length};let k=0;for(;k<f.length;){const D=f[k],R=p.get(D);if(R==t.length){k++;continue}const M=t[R],L=fL(D,M,a.getContext(D,M,!0)),W=fL(M,D,a.getContext(M,D,!1));a.updateRelation(D,M),a.setOriginalOperations(L,D),a.setOriginalOperations(W,M);for(const J of L)p.set(J,R+W.length);f.splice(k,1,...L),t.splice(R,1,...W)}return pL(f,w.nextBaseVersionB),pL(t,w.nextBaseVersionA),{operationsA:f,operationsB:t,originalOperations:d}}class tre{constructor(t,s,a=!1){this.originalOperations=new Map,this._history=t.history,this._useRelations=s,this._forceWeakRemove=!!a,this._relations=new Map}setOriginalOperations(t,s=null){const a=s?this.originalOperations.get(s):null;for(const d of t)this.originalOperations.set(d,a||d)}updateRelation(t,s){if(t instanceof On)s instanceof Gi?t.targetPosition.isEqual(s.sourcePosition)||s.movedRange.containsPosition(t.targetPosition)?this._setRelation(t,s,"insertAtSource"):t.targetPosition.isEqual(s.deletionPosition)?this._setRelation(t,s,"insertBetween"):t.targetPosition.isAfter(s.sourcePosition)&&this._setRelation(t,s,"moveTargetAfter"):s instanceof On&&(t.targetPosition.isEqual(s.sourcePosition)||t.targetPosition.isBefore(s.sourcePosition)?this._setRelation(t,s,"insertBefore"):this._setRelation(t,s,"insertAfter"));else if(t instanceof ei){if(s instanceof Gi)t.splitPosition.isBefore(s.sourcePosition)&&this._setRelation(t,s,"splitBefore");else if(s instanceof On)if(t.splitPosition.isEqual(s.sourcePosition)||t.splitPosition.isBefore(s.sourcePosition))this._setRelation(t,s,"splitBefore");else{const a=Je._createFromPositionAndShift(s.sourcePosition,s.howMany);if(t.splitPosition.hasSameParentAs(s.sourcePosition)&&a.containsPosition(t.splitPosition)){const d=a.end.offset-t.splitPosition.offset,p=t.splitPosition.offset-a.start.offset;this._setRelation(t,s,{howMany:d,offset:p})}}}else if(t instanceof Gi)s instanceof Gi?(t.targetPosition.isEqual(s.sourcePosition)||this._setRelation(t,s,"mergeTargetNotMoved"),t.sourcePosition.isEqual(s.targetPosition)&&this._setRelation(t,s,"mergeSourceNotMoved"),t.sourcePosition.isEqual(s.sourcePosition)&&this._setRelation(t,s,"mergeSameElement")):s instanceof ei&&t.sourcePosition.isEqual(s.splitPosition)&&this._setRelation(t,s,"splitAtSource");else if(t instanceof $o){const a=t.newRange;if(!a)return;if(s instanceof On){const d=Je._createFromPositionAndShift(s.sourcePosition,s.howMany),p=d.containsPosition(a.start)||d.start.isEqual(a.start),w=d.containsPosition(a.end)||d.end.isEqual(a.end);!p&&!w||d.containsRange(a)||this._setRelation(t,s,{side:p?"left":"right",path:p?a.start.path.slice():a.end.path.slice()})}else if(s instanceof Gi){const d=a.start.isEqual(s.targetPosition),p=a.start.isEqual(s.deletionPosition),w=a.end.isEqual(s.deletionPosition),k=a.end.isEqual(s.sourcePosition);(d||p||w||k)&&this._setRelation(t,s,{wasInLeftElement:d,wasStartBeforeMergedElement:p,wasEndBeforeMergedElement:w,wasInRightElement:k})}}}getContext(t,s,a){return{aIsStrong:a,aWasUndone:this._wasUndone(t),bWasUndone:this._wasUndone(s),abRelation:this._useRelations?this._getRelation(t,s):null,baRelation:this._useRelations?this._getRelation(s,t):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(t){const s=this.originalOperations.get(t);return s.wasUndone||this._history.isUndoneOperation(s)}_getRelation(t,s){const a=this.originalOperations.get(s),d=this._history.getUndoneOperation(a);if(!d)return null;const p=this.originalOperations.get(t),w=this._relations.get(p);return w&&w.get(d)||null}_setRelation(t,s,a){const d=this.originalOperations.get(t),p=this.originalOperations.get(s);let w=this._relations.get(d);w||(w=new Map,this._relations.set(d,w)),w.set(p,a)}}function pL(f,t){for(const s of f)s.baseVersion=t++}function mL(f,t,s){const a=f.nodes.getNode(0).getAttribute(t);if(a==s)return null;const d=new Je(f.position,f.position.getShiftedBy(f.howMany));return new er(d,t,a,s,0)}function gL(f,t){return f.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)===null}function Jy(f,t){const s=[];for(let a=0;a<f.length;a++){const d=f[a],p=new On(d.start,d.end.offset-d.start.offset,t,0);s.push(p);for(let w=a+1;w<f.length;w++)f[w]=f[w]._getTransformedByMove(p.sourcePosition,p.targetPosition,p.howMany)[0];t=t._getTransformedByMove(p.sourcePosition,p.targetPosition,p.howMany)}return s}Sn(er,er,(f,t,s)=>{if(f.key===t.key&&f.range.start.hasSameParentAs(t.range.start)){const a=f.range.getDifference(t.range).map(p=>new er(p,f.key,f.oldValue,f.newValue,0)),d=f.range.getIntersection(t.range);return d&&s.aIsStrong&&a.push(new er(d,t.key,t.newValue,f.newValue,0)),a.length==0?[new kr(0)]:a}return[f]}),Sn(er,Vr,(f,t)=>{if(f.range.start.hasSameParentAs(t.position)&&f.range.containsPosition(t.position)){const s=f.range._getTransformedByInsertion(t.position,t.howMany,!t.shouldReceiveAttributes).map(a=>new er(a,f.key,f.oldValue,f.newValue,f.baseVersion));if(t.shouldReceiveAttributes){const a=mL(t,f.key,f.oldValue);a&&s.unshift(a)}return s}return f.range=f.range._getTransformedByInsertion(t.position,t.howMany,!1)[0],[f]}),Sn(er,Gi,(f,t)=>{const s=[];f.range.start.hasSameParentAs(t.deletionPosition)&&(f.range.containsPosition(t.deletionPosition)||f.range.start.isEqual(t.deletionPosition))&&s.push(Je._createFromPositionAndShift(t.graveyardPosition,1));const a=f.range._getTransformedByMergeOperation(t);return a.isCollapsed||s.push(a),s.map(d=>new er(d,f.key,f.oldValue,f.newValue,f.baseVersion))}),Sn(er,On,(f,t)=>function(a,d){const p=Je._createFromPositionAndShift(d.sourcePosition,d.howMany);let w=null,k=[];p.containsRange(a,!0)?w=a:a.start.hasSameParentAs(p.start)?(k=a.getDifference(p),w=a.getIntersection(p)):k=[a];const D=[];for(let R of k){R=R._getTransformedByDeletion(d.sourcePosition,d.howMany);const M=d.getMovedRangeStart(),L=R.start.hasSameParentAs(M),W=R._getTransformedByInsertion(M,d.howMany,L);D.push(...W)}return w&&D.push(w._getTransformedByMove(d.sourcePosition,d.targetPosition,d.howMany,!1)[0]),D}(f.range,t).map(a=>new er(a,f.key,f.oldValue,f.newValue,f.baseVersion))),Sn(er,ei,(f,t)=>{if(f.range.end.isEqual(t.insertionPosition))return t.graveyardPosition||f.range.end.offset++,[f];if(f.range.start.hasSameParentAs(t.splitPosition)&&f.range.containsPosition(t.splitPosition)){const s=f.clone();return s.range=new Je(t.moveTargetPosition.clone(),f.range.end._getCombined(t.splitPosition,t.moveTargetPosition)),f.range.end=t.splitPosition.clone(),f.range.end.stickiness="toPrevious",[f,s]}return f.range=f.range._getTransformedBySplitOperation(t),[f]}),Sn(Vr,er,(f,t)=>{const s=[f];if(f.shouldReceiveAttributes&&f.position.hasSameParentAs(t.range.start)&&t.range.containsPosition(f.position)){const a=mL(f,t.key,t.newValue);a&&s.push(a)}return s}),Sn(Vr,Vr,(f,t,s)=>(f.position.isEqual(t.position)&&s.aIsStrong||(f.position=f.position._getTransformedByInsertOperation(t)),[f])),Sn(Vr,On,(f,t)=>(f.position=f.position._getTransformedByMoveOperation(t),[f])),Sn(Vr,ei,(f,t)=>(f.position=f.position._getTransformedBySplitOperation(t),[f])),Sn(Vr,Gi,(f,t)=>(f.position=f.position._getTransformedByMergeOperation(t),[f])),Sn($o,Vr,(f,t)=>(f.oldRange&&(f.oldRange=f.oldRange._getTransformedByInsertOperation(t)[0]),f.newRange&&(f.newRange=f.newRange._getTransformedByInsertOperation(t)[0]),[f])),Sn($o,$o,(f,t,s)=>{if(f.name==t.name){if(!s.aIsStrong)return[new kr(0)];f.oldRange=t.newRange?t.newRange.clone():null}return[f]}),Sn($o,Gi,(f,t)=>(f.oldRange&&(f.oldRange=f.oldRange._getTransformedByMergeOperation(t)),f.newRange&&(f.newRange=f.newRange._getTransformedByMergeOperation(t)),[f])),Sn($o,On,(f,t,s)=>{if(f.oldRange&&(f.oldRange=Je._createFromRanges(f.oldRange._getTransformedByMoveOperation(t))),f.newRange){if(s.abRelation){const a=Je._createFromRanges(f.newRange._getTransformedByMoveOperation(t));if(s.abRelation.side=="left"&&t.targetPosition.isEqual(f.newRange.start))return f.newRange.end=a.end,f.newRange.start.path=s.abRelation.path,[f];if(s.abRelation.side=="right"&&t.targetPosition.isEqual(f.newRange.end))return f.newRange.start=a.start,f.newRange.end.path=s.abRelation.path,[f]}f.newRange=Je._createFromRanges(f.newRange._getTransformedByMoveOperation(t))}return[f]}),Sn($o,ei,(f,t,s)=>{if(f.oldRange&&(f.oldRange=f.oldRange._getTransformedBySplitOperation(t)),f.newRange){if(s.abRelation){const a=f.newRange._getTransformedBySplitOperation(t);return f.newRange.start.isEqual(t.splitPosition)&&s.abRelation.wasStartBeforeMergedElement?f.newRange.start=st._createAt(t.insertionPosition):f.newRange.start.isEqual(t.splitPosition)&&!s.abRelation.wasInLeftElement&&(f.newRange.start=st._createAt(t.moveTargetPosition)),f.newRange.end.isEqual(t.splitPosition)&&s.abRelation.wasInRightElement?f.newRange.end=st._createAt(t.moveTargetPosition):f.newRange.end.isEqual(t.splitPosition)&&s.abRelation.wasEndBeforeMergedElement?f.newRange.end=st._createAt(t.insertionPosition):f.newRange.end=a.end,[f]}f.newRange=f.newRange._getTransformedBySplitOperation(t)}return[f]}),Sn(Gi,Vr,(f,t)=>(f.sourcePosition.hasSameParentAs(t.position)&&(f.howMany+=t.howMany),f.sourcePosition=f.sourcePosition._getTransformedByInsertOperation(t),f.targetPosition=f.targetPosition._getTransformedByInsertOperation(t),[f])),Sn(Gi,Gi,(f,t,s)=>{if(f.sourcePosition.isEqual(t.sourcePosition)&&f.targetPosition.isEqual(t.targetPosition)){if(s.bWasUndone){const a=t.graveyardPosition.path.slice();return a.push(0),f.sourcePosition=new st(t.graveyardPosition.root,a),f.howMany=0,[f]}return[new kr(0)]}if(f.sourcePosition.isEqual(t.sourcePosition)&&!f.targetPosition.isEqual(t.targetPosition)&&!s.bWasUndone&&s.abRelation!="splitAtSource"){const a=f.targetPosition.root.rootName=="$graveyard",d=t.targetPosition.root.rootName=="$graveyard";if(d&&!a||!(a&&!d)&&s.aIsStrong){const p=t.targetPosition._getTransformedByMergeOperation(t),w=f.targetPosition._getTransformedByMergeOperation(t);return[new On(p,f.howMany,w,0)]}return[new kr(0)]}return f.sourcePosition.hasSameParentAs(t.targetPosition)&&(f.howMany+=t.howMany),f.sourcePosition=f.sourcePosition._getTransformedByMergeOperation(t),f.targetPosition=f.targetPosition._getTransformedByMergeOperation(t),f.graveyardPosition.isEqual(t.graveyardPosition)&&s.aIsStrong||(f.graveyardPosition=f.graveyardPosition._getTransformedByMergeOperation(t)),[f]}),Sn(Gi,On,(f,t,s)=>{const a=Je._createFromPositionAndShift(t.sourcePosition,t.howMany);return t.type=="remove"&&!s.bWasUndone&&!s.forceWeakRemove&&f.deletionPosition.hasSameParentAs(t.sourcePosition)&&a.containsPosition(f.sourcePosition)?[new kr(0)]:(f.sourcePosition.hasSameParentAs(t.targetPosition)&&(f.howMany+=t.howMany),f.sourcePosition.hasSameParentAs(t.sourcePosition)&&(f.howMany-=t.howMany),f.sourcePosition=f.sourcePosition._getTransformedByMoveOperation(t),f.targetPosition=f.targetPosition._getTransformedByMoveOperation(t),f.graveyardPosition.isEqual(t.targetPosition)||(f.graveyardPosition=f.graveyardPosition._getTransformedByMoveOperation(t)),[f])}),Sn(Gi,ei,(f,t,s)=>{if(t.graveyardPosition&&(f.graveyardPosition=f.graveyardPosition._getTransformedByDeletion(t.graveyardPosition,1),f.deletionPosition.isEqual(t.graveyardPosition)&&(f.howMany=t.howMany)),f.targetPosition.isEqual(t.splitPosition)){const a=t.howMany!=0,d=t.graveyardPosition&&f.deletionPosition.isEqual(t.graveyardPosition);if(a||d||s.abRelation=="mergeTargetNotMoved")return f.sourcePosition=f.sourcePosition._getTransformedBySplitOperation(t),[f]}if(f.sourcePosition.isEqual(t.splitPosition)){if(s.abRelation=="mergeSourceNotMoved")return f.howMany=0,f.targetPosition=f.targetPosition._getTransformedBySplitOperation(t),[f];if(s.abRelation=="mergeSameElement"||f.sourcePosition.offset>0)return f.sourcePosition=t.moveTargetPosition.clone(),f.targetPosition=f.targetPosition._getTransformedBySplitOperation(t),[f]}return f.sourcePosition.hasSameParentAs(t.splitPosition)&&(f.howMany=t.splitPosition.offset),f.sourcePosition=f.sourcePosition._getTransformedBySplitOperation(t),f.targetPosition=f.targetPosition._getTransformedBySplitOperation(t),[f]}),Sn(On,Vr,(f,t)=>{const s=Je._createFromPositionAndShift(f.sourcePosition,f.howMany)._getTransformedByInsertOperation(t,!1)[0];return f.sourcePosition=s.start,f.howMany=s.end.offset-s.start.offset,f.targetPosition.isEqual(t.position)||(f.targetPosition=f.targetPosition._getTransformedByInsertOperation(t)),[f]}),Sn(On,On,(f,t,s)=>{const a=Je._createFromPositionAndShift(f.sourcePosition,f.howMany),d=Je._createFromPositionAndShift(t.sourcePosition,t.howMany);let p,w=s.aIsStrong,k=!s.aIsStrong;if(s.abRelation=="insertBefore"||s.baRelation=="insertAfter"?k=!0:s.abRelation!="insertAfter"&&s.baRelation!="insertBefore"||(k=!1),p=f.targetPosition.isEqual(t.targetPosition)&&k?f.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany):f.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),gL(f,t)&&gL(t,f))return[t.getReversed()];if(a.containsPosition(t.targetPosition)&&a.containsRange(d,!0))return a.start=a.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),a.end=a.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),Jy([a],p);if(d.containsPosition(f.targetPosition)&&d.containsRange(a,!0))return a.start=a.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),a.end=a.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),Jy([a],p);const D=qe(f.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if(D=="prefix"||D=="extension")return a.start=a.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),a.end=a.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),Jy([a],p);f.type!="remove"||t.type=="remove"||s.aWasUndone||s.forceWeakRemove?f.type=="remove"||t.type!="remove"||s.bWasUndone||s.forceWeakRemove||(w=!1):w=!0;const R=[],M=a.getDifference(d);for(const W of M){W.start=W.start._getTransformedByDeletion(t.sourcePosition,t.howMany),W.end=W.end._getTransformedByDeletion(t.sourcePosition,t.howMany);const J=qe(W.start.getParentPath(),t.getMovedRangeStart().getParentPath())=="same",re=W._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,J);R.push(...re)}const L=a.getIntersection(d);return L!==null&&w&&(L.start=L.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),L.end=L.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),R.length===0?R.push(L):R.length==1?d.start.isBefore(a.start)||d.start.isEqual(a.start)?R.unshift(L):R.push(L):R.splice(1,0,L)),R.length===0?[new kr(f.baseVersion)]:Jy(R,p)}),Sn(On,ei,(f,t,s)=>{let a=f.targetPosition.clone();f.targetPosition.isEqual(t.insertionPosition)&&t.graveyardPosition&&s.abRelation!="moveTargetAfter"||(a=f.targetPosition._getTransformedBySplitOperation(t));const d=Je._createFromPositionAndShift(f.sourcePosition,f.howMany);if(d.end.isEqual(t.insertionPosition))return t.graveyardPosition||f.howMany++,f.targetPosition=a,[f];if(d.start.hasSameParentAs(t.splitPosition)&&d.containsPosition(t.splitPosition)){let w=new Je(t.splitPosition,d.end);return w=w._getTransformedBySplitOperation(t),Jy([new Je(d.start,t.splitPosition),w],a)}f.targetPosition.isEqual(t.splitPosition)&&s.abRelation=="insertAtSource"&&(a=t.moveTargetPosition),f.targetPosition.isEqual(t.insertionPosition)&&s.abRelation=="insertBetween"&&(a=f.targetPosition);const p=[d._getTransformedBySplitOperation(t)];if(t.graveyardPosition){const w=d.start.isEqual(t.graveyardPosition)||d.containsPosition(t.graveyardPosition);f.howMany>1&&w&&!s.aWasUndone&&p.push(Je._createFromPositionAndShift(t.insertionPosition,1))}return Jy(p,a)}),Sn(On,Gi,(f,t,s)=>{const a=Je._createFromPositionAndShift(f.sourcePosition,f.howMany);if(t.deletionPosition.hasSameParentAs(f.sourcePosition)&&a.containsPosition(t.sourcePosition)){if(f.type!="remove"||s.forceWeakRemove){if(f.howMany==1)return s.bWasUndone?(f.sourcePosition=t.graveyardPosition.clone(),f.targetPosition=f.targetPosition._getTransformedByMergeOperation(t),[f]):[new kr(0)]}else if(!s.aWasUndone){const p=[];let w=t.graveyardPosition.clone(),k=t.targetPosition._getTransformedByMergeOperation(t);f.howMany>1&&(p.push(new On(f.sourcePosition,f.howMany-1,f.targetPosition,0)),w=w._getTransformedByMove(f.sourcePosition,f.targetPosition,f.howMany-1),k=k._getTransformedByMove(f.sourcePosition,f.targetPosition,f.howMany-1));const D=t.deletionPosition._getCombined(f.sourcePosition,f.targetPosition),R=new On(w,1,D,0),M=R.getMovedRangeStart().path.slice();M.push(0);const L=new st(R.targetPosition.root,M);k=k._getTransformedByMove(w,D,1);const W=new On(k,t.howMany,L,0);return p.push(R),p.push(W),p}}const d=Je._createFromPositionAndShift(f.sourcePosition,f.howMany)._getTransformedByMergeOperation(t);return f.sourcePosition=d.start,f.howMany=d.end.offset-d.start.offset,f.targetPosition=f.targetPosition._getTransformedByMergeOperation(t),[f]}),Sn(qo,Vr,(f,t)=>(f.position=f.position._getTransformedByInsertOperation(t),[f])),Sn(qo,Gi,(f,t)=>f.position.isEqual(t.deletionPosition)?(f.position=t.graveyardPosition.clone(),f.position.stickiness="toNext",[f]):(f.position=f.position._getTransformedByMergeOperation(t),[f])),Sn(qo,On,(f,t)=>(f.position=f.position._getTransformedByMoveOperation(t),[f])),Sn(qo,qo,(f,t,s)=>{if(f.position.isEqual(t.position)){if(!s.aIsStrong)return[new kr(0)];f.oldName=t.newName}return[f]}),Sn(qo,ei,(f,t)=>{if(qe(f.position.path,t.splitPosition.getParentPath())=="same"&&!t.graveyardPosition){const s=new qo(f.position.getShiftedBy(1),f.oldName,f.newName,0);return[f,s]}return f.position=f.position._getTransformedBySplitOperation(t),[f]}),Sn(rh,rh,(f,t,s)=>{if(f.root===t.root&&f.key===t.key){if(!s.aIsStrong||f.newValue===t.newValue)return[new kr(0)];f.oldValue=t.newValue}return[f]}),Sn(Uu,Uu,(f,t)=>f.rootName===t.rootName&&f.isAdd===t.isAdd?[new kr(0)]:[f]),Sn(ei,Vr,(f,t)=>(f.splitPosition.hasSameParentAs(t.position)&&f.splitPosition.offset<t.position.offset&&(f.howMany+=t.howMany),f.splitPosition=f.splitPosition._getTransformedByInsertOperation(t),f.insertionPosition=f.insertionPosition._getTransformedByInsertOperation(t),[f])),Sn(ei,Gi,(f,t,s)=>{if(!f.graveyardPosition&&!s.bWasUndone&&f.splitPosition.hasSameParentAs(t.sourcePosition)){const a=t.graveyardPosition.path.slice();a.push(0);const d=new st(t.graveyardPosition.root,a),p=ei.getInsertionPosition(new st(t.graveyardPosition.root,a)),w=new ei(d,0,p,null,0);return f.splitPosition=f.splitPosition._getTransformedByMergeOperation(t),f.insertionPosition=ei.getInsertionPosition(f.splitPosition),f.graveyardPosition=w.insertionPosition.clone(),f.graveyardPosition.stickiness="toNext",[w,f]}return f.splitPosition.hasSameParentAs(t.deletionPosition)&&!f.splitPosition.isAfter(t.deletionPosition)&&f.howMany--,f.splitPosition.hasSameParentAs(t.targetPosition)&&(f.howMany+=t.howMany),f.splitPosition=f.splitPosition._getTransformedByMergeOperation(t),f.insertionPosition=ei.getInsertionPosition(f.splitPosition),f.graveyardPosition&&(f.graveyardPosition=f.graveyardPosition._getTransformedByMergeOperation(t)),[f]}),Sn(ei,On,(f,t,s)=>{const a=Je._createFromPositionAndShift(t.sourcePosition,t.howMany);if(f.graveyardPosition){const p=a.start.isEqual(f.graveyardPosition)||a.containsPosition(f.graveyardPosition);if(!s.bWasUndone&&p){const w=f.splitPosition._getTransformedByMoveOperation(t),k=f.graveyardPosition._getTransformedByMoveOperation(t),D=k.path.slice();D.push(0);const R=new st(k.root,D);return[new On(w,f.howMany,R,0)]}f.graveyardPosition=f.graveyardPosition._getTransformedByMoveOperation(t)}const d=f.splitPosition.isEqual(t.targetPosition);if(d&&(s.baRelation=="insertAtSource"||s.abRelation=="splitBefore"))return f.howMany+=t.howMany,f.splitPosition=f.splitPosition._getTransformedByDeletion(t.sourcePosition,t.howMany),f.insertionPosition=ei.getInsertionPosition(f.splitPosition),[f];if(d&&s.abRelation&&s.abRelation.howMany){const{howMany:p,offset:w}=s.abRelation;return f.howMany+=p,f.splitPosition=f.splitPosition.getShiftedBy(w),[f]}if(f.splitPosition.hasSameParentAs(t.sourcePosition)&&a.containsPosition(f.splitPosition)){const p=t.howMany-(f.splitPosition.offset-t.sourcePosition.offset);return f.howMany-=p,f.splitPosition.hasSameParentAs(t.targetPosition)&&f.splitPosition.offset<t.targetPosition.offset&&(f.howMany+=t.howMany),f.splitPosition=t.sourcePosition.clone(),f.insertionPosition=ei.getInsertionPosition(f.splitPosition),[f]}return t.sourcePosition.isEqual(t.targetPosition)||(f.splitPosition.hasSameParentAs(t.sourcePosition)&&f.splitPosition.offset<=t.sourcePosition.offset&&(f.howMany-=t.howMany),f.splitPosition.hasSameParentAs(t.targetPosition)&&f.splitPosition.offset<t.targetPosition.offset&&(f.howMany+=t.howMany)),f.splitPosition.stickiness="toNone",f.splitPosition=f.splitPosition._getTransformedByMoveOperation(t),f.splitPosition.stickiness="toNext",f.graveyardPosition?f.insertionPosition=f.insertionPosition._getTransformedByMoveOperation(t):f.insertionPosition=ei.getInsertionPosition(f.splitPosition),[f]}),Sn(ei,ei,(f,t,s)=>{if(f.splitPosition.isEqual(t.splitPosition)){if(!f.graveyardPosition&&!t.graveyardPosition)return[new kr(0)];if(f.graveyardPosition&&t.graveyardPosition&&f.graveyardPosition.isEqual(t.graveyardPosition))return[new kr(0)];if(s.abRelation=="splitBefore")return f.howMany=0,f.graveyardPosition=f.graveyardPosition._getTransformedBySplitOperation(t),[f]}if(f.graveyardPosition&&t.graveyardPosition&&f.graveyardPosition.isEqual(t.graveyardPosition)){const a=f.splitPosition.root.rootName=="$graveyard",d=t.splitPosition.root.rootName=="$graveyard";if(d&&!a||!(a&&!d)&&s.aIsStrong){const p=[];return t.howMany&&p.push(new On(t.moveTargetPosition,t.howMany,t.splitPosition,0)),f.howMany&&p.push(new On(f.splitPosition,f.howMany,f.moveTargetPosition,0)),p}return[new kr(0)]}if(f.graveyardPosition&&(f.graveyardPosition=f.graveyardPosition._getTransformedBySplitOperation(t)),f.splitPosition.isEqual(t.insertionPosition)&&s.abRelation=="splitBefore")return f.howMany++,[f];if(t.splitPosition.isEqual(f.insertionPosition)&&s.baRelation=="splitBefore"){const a=t.insertionPosition.path.slice();a.push(0);const d=new st(t.insertionPosition.root,a);return[f,new On(f.insertionPosition,1,d,0)]}return f.splitPosition.hasSameParentAs(t.splitPosition)&&f.splitPosition.offset<t.splitPosition.offset&&(f.howMany-=t.howMany),f.splitPosition=f.splitPosition._getTransformedBySplitOperation(t),f.insertionPosition=ei.getInsertionPosition(f.splitPosition),[f]});class fs extends X(st){constructor(t,s,a="toNone"){if(super(t,s,a),!this.root.is("rootElement"))throw new B("model-liveposition-root-not-rootelement",t);nre.call(this)}detach(){this.stopListening()}toPosition(){return new st(this.root,this.path.slice(),this.stickiness)}static fromPosition(t,s){return new this(t.root,t.path.slice(),s||t.stickiness)}}function nre(){this.listenTo(this.root.document.model,"applyOperation",(f,t)=>{const s=t[0];s.isDocumentOperation&&ire.call(this,s)},{priority:"low"})}function ire(f){const t=this.getTransformedByOperation(f);if(!this.isEqual(t)){const s=this.toPosition();this.path=t.path,this.root=t.root,this.fire("change",s)}}fs.prototype.is=function(f){return f==="livePosition"||f==="model:livePosition"||f=="position"||f==="model:position"};class Qy{constructor(t={}){typeof t=="string"&&(t=t==="transparent"?{isUndoable:!1}:{},K("batch-constructor-deprecated-string-type"));const{isUndoable:s=!0,isLocal:a=!0,isUndo:d=!1,isTyping:p=!1}=t;this.operations=[],this.isUndoable=s,this.isLocal=a,this.isUndo=d,this.isTyping=p}get type(){return K("batch-type-deprecated"),"default"}get baseVersion(){for(const t of this.operations)if(t.baseVersion!==null)return t.baseVersion;return null}addOperation(t){return t.batch=this,this.operations.push(t),t}}class rre{constructor(t){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=t}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(t){const s=t;switch(s.type){case"insert":if(this._isInInsertedElement(s.position.parent))return;this._markInsert(s.position.parent,s.position.offset,s.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const a of s.range.getItems({shallow:!0}))this._isInInsertedElement(a.parent)||this._markAttribute(a);break;case"remove":case"move":case"reinsert":{if(s.sourcePosition.isEqual(s.targetPosition)||s.sourcePosition.getShiftedBy(s.howMany).isEqual(s.targetPosition))return;const a=this._isInInsertedElement(s.sourcePosition.parent),d=this._isInInsertedElement(s.targetPosition.parent);a||this._markRemove(s.sourcePosition.parent,s.sourcePosition.offset,s.howMany),d||this._markInsert(s.targetPosition.parent,s.getMovedRangeStart().offset,s.howMany);break}case"rename":{if(this._isInInsertedElement(s.position.parent))return;this._markRemove(s.position.parent,s.position.offset,1),this._markInsert(s.position.parent,s.position.offset,1);const a=Je._createFromPositionAndShift(s.position,1);for(const d of this._markerCollection.getMarkersIntersectingRange(a)){const p=d.getData();this.bufferMarkerChange(d.name,p,p)}break}case"split":{const a=s.splitPosition.parent;this._isInInsertedElement(a)||this._markRemove(a,s.splitPosition.offset,s.howMany),this._isInInsertedElement(s.insertionPosition.parent)||this._markInsert(s.insertionPosition.parent,s.insertionPosition.offset,1),s.graveyardPosition&&this._markRemove(s.graveyardPosition.parent,s.graveyardPosition.offset,1);break}case"merge":{const a=s.sourcePosition.parent;this._isInInsertedElement(a.parent)||this._markRemove(a.parent,a.startOffset,1);const d=s.graveyardPosition.parent;this._markInsert(d,s.graveyardPosition.offset,1);const p=s.targetPosition.parent;this._isInInsertedElement(p)||this._markInsert(p,s.targetPosition.offset,a.maxOffset);break}case"detachRoot":case"addRoot":{const a=s.affectedSelectable;if(!a._isLoaded||a.isAttached()==s.isAdd)return;this._bufferRootStateChange(s.rootName,s.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!s.root._isLoaded)return;const a=s.root.rootName;this._bufferRootAttributeChange(a,s.key,s.oldValue,s.newValue);break}}this._cachedChanges=null}bufferMarkerChange(t,s,a){s.range&&s.range.root.is("rootElement")&&!s.range.root._isLoaded&&(s.range=null),a.range&&a.range.root.is("rootElement")&&!a.range.root._isLoaded&&(a.range=null);let d=this._changedMarkers.get(t);d?d.newMarkerData=a:(d={newMarkerData:a,oldMarkerData:s},this._changedMarkers.set(t,d)),d.oldMarkerData.range==null&&a.range==null&&this._changedMarkers.delete(t)}getMarkersToRemove(){const t=[];for(const[s,a]of this._changedMarkers)a.oldMarkerData.range!=null&&t.push({name:s,range:a.oldMarkerData.range});return t}getMarkersToAdd(){const t=[];for(const[s,a]of this._changedMarkers)a.newMarkerData.range!=null&&t.push({name:s,range:a.newMarkerData.range});return t}getChangedMarkers(){return Array.from(this._changedMarkers).map(([t,s])=>({name:t,data:{oldRange:s.oldMarkerData.range,newRange:s.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0||this._changedRoots.size>0)return!0;for(const{newMarkerData:t,oldMarkerData:s}of this._changedMarkers.values()){if(t.affectsData!==s.affectsData)return!0;if(t.affectsData){const a=t.range&&!s.range,d=!t.range&&s.range,p=t.range&&s.range&&!t.range.isEqual(s.range);if(a||d||p)return!0}}return!1}getChanges(t={}){if(this._cachedChanges)return t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let s=[];for(const a of this._changesInElement.keys()){const d=this._changesInElement.get(a).sort((M,L)=>M.offset===L.offset?M.type!=L.type?M.type=="remove"?-1:1:0:M.offset<L.offset?-1:1),p=this._elementSnapshots.get(a),w=bL(a.getChildren()),k=sre(p.length,d);let D=0,R=0;for(const M of k)if(M==="i")s.push(this._getInsertDiff(a,D,w[D])),D++;else if(M==="r")s.push(this._getRemoveDiff(a,D,p[R])),R++;else if(M==="a"){const L=w[D].attributes,W=p[R].attributes;let J;if(w[D].name=="$text")J=new Je(st._createAt(a,D),st._createAt(a,D+1));else{const re=a.offsetToIndex(D);J=new Je(st._createAt(a,D),st._createAt(a.getChild(re),0))}s.push(...this._getAttributesDiff(J,W,L)),D++,R++}else D++,R++}s.sort((a,d)=>a.position.root!=d.position.root?a.position.root.rootName<d.position.root.rootName?-1:1:a.position.isEqual(d.position)?a.changeCount-d.changeCount:a.position.isBefore(d.position)?-1:1);for(let a=1,d=0;a<s.length;a++){const p=s[d],w=s[a],k=p.type=="remove"&&w.type=="remove"&&p.name=="$text"&&w.name=="$text"&&p.position.isEqual(w.position),D=p.type=="insert"&&w.type=="insert"&&p.name=="$text"&&w.name=="$text"&&p.position.parent==w.position.parent&&p.position.offset+p.length==w.position.offset,R=p.type=="attribute"&&w.type=="attribute"&&p.position.parent==w.position.parent&&p.range.isFlat&&w.range.isFlat&&p.position.offset+p.length==w.position.offset&&p.attributeKey==w.attributeKey&&p.attributeOldValue==w.attributeOldValue&&p.attributeNewValue==w.attributeNewValue;k||D||R?(p.length++,R&&(p.range.end=p.range.end.getShiftedBy(1)),s[a]=null):d=a}s=s.filter(a=>a);for(const a of s)delete a.changeCount,a.type=="attribute"&&(delete a.position,delete a.length);return this._changeCount=0,this._cachedChangesWithGraveyard=s,this._cachedChanges=s.filter(ore),t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(t=>{const s={...t};return s.state!==void 0&&delete s.attributes,s})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(t,s){if(!this._changedRoots.has(t))return void this._changedRoots.set(t,{name:t,state:s?"attached":"detached"});const a=this._changedRoots.get(t);a.state!==void 0?(delete a.state,a.attributes===void 0&&this._changedRoots.delete(t)):a.state=s?"attached":"detached"}_bufferRootAttributeChange(t,s,a,d){const p=this._changedRoots.get(t)||{name:t},w=p.attributes||{};if(w[s]){const k=w[s];d===k.oldValue?delete w[s]:k.newValue=d}else w[s]={oldValue:a,newValue:d};Object.entries(w).length===0?(delete p.attributes,p.state===void 0&&this._changedRoots.delete(t)):(p.attributes=w,this._changedRoots.set(t,p))}_refreshItem(t){if(this._isInInsertedElement(t.parent))return;this._markRemove(t.parent,t.startOffset,t.offsetSize),this._markInsert(t.parent,t.startOffset,t.offsetSize),this._refreshedItems.add(t);const s=Je._createOn(t);for(const a of this._markerCollection.getMarkersIntersectingRange(s)){const d=a.getData();this.bufferMarkerChange(a.name,d,d)}this._cachedChanges=null}_bufferRootLoad(t){if(t.isAttached()){this._bufferRootStateChange(t.rootName,!0),this._markInsert(t,0,t.maxOffset);for(const s of t.getAttributeKeys())this._bufferRootAttributeChange(t.rootName,s,null,t.getAttribute(s));for(const s of this._markerCollection)if(s.getRange().root==t){const a=s.getData();this.bufferMarkerChange(s.name,{...a,range:null},a)}}}_markInsert(t,s,a){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const d={type:"insert",offset:s,howMany:a,count:this._changeCount++};this._markChange(t,d)}_markRemove(t,s,a){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const d={type:"remove",offset:s,howMany:a,count:this._changeCount++};this._markChange(t,d),this._removeAllNestedChanges(t,s,a)}_markAttribute(t){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const s={type:"attribute",offset:t.startOffset,howMany:t.offsetSize,count:this._changeCount++};this._markChange(t.parent,s)}_markChange(t,s){this._makeSnapshot(t);const a=this._getChangesForElement(t);this._handleChange(s,a),a.push(s);for(let d=0;d<a.length;d++)a[d].howMany<1&&(a.splice(d,1),d--)}_getChangesForElement(t){let s;return this._changesInElement.has(t)?s=this._changesInElement.get(t):(s=[],this._changesInElement.set(t,s)),s}_makeSnapshot(t){this._elementSnapshots.has(t)||this._elementSnapshots.set(t,bL(t.getChildren()))}_handleChange(t,s){t.nodesToHandle=t.howMany;for(const a of s){const d=t.offset+t.howMany,p=a.offset+a.howMany;if(t.type=="insert"&&(a.type=="insert"&&(t.offset<=a.offset?a.offset+=t.howMany:t.offset<p&&(a.howMany+=t.nodesToHandle,t.nodesToHandle=0)),a.type=="remove"&&t.offset<a.offset&&(a.offset+=t.howMany),a.type=="attribute")){if(t.offset<=a.offset)a.offset+=t.howMany;else if(t.offset<p){const w=a.howMany;a.howMany=t.offset-a.offset,s.unshift({type:"attribute",offset:d,howMany:w-a.howMany,count:this._changeCount++})}}if(t.type=="remove"){if(a.type=="insert"){if(d<=a.offset)a.offset-=t.howMany;else if(d<=p)if(t.offset<a.offset){const w=d-a.offset;a.offset=t.offset,a.howMany-=w,t.nodesToHandle-=w}else a.howMany-=t.nodesToHandle,t.nodesToHandle=0;else if(t.offset<=a.offset)t.nodesToHandle-=a.howMany,a.howMany=0;else if(t.offset<p){const w=p-t.offset;a.howMany-=w,t.nodesToHandle-=w}}if(a.type=="remove"&&(d<=a.offset?a.offset-=t.howMany:t.offset<a.offset&&(t.nodesToHandle+=a.howMany,a.howMany=0)),a.type=="attribute"){if(d<=a.offset)a.offset-=t.howMany;else if(t.offset<a.offset){const w=d-a.offset;a.offset=t.offset,a.howMany-=w}else if(t.offset<p)if(d<=p){const w=a.howMany;a.howMany=t.offset-a.offset;const k=w-a.howMany-t.nodesToHandle;s.unshift({type:"attribute",offset:t.offset,howMany:k,count:this._changeCount++})}else a.howMany-=p-t.offset}}if(t.type=="attribute"){if(a.type=="insert")if(t.offset<a.offset&&d>a.offset){if(d>p){const w={type:"attribute",offset:p,howMany:d-p,count:this._changeCount++};this._handleChange(w,s),s.push(w)}t.nodesToHandle=a.offset-t.offset,t.howMany=t.nodesToHandle}else t.offset>=a.offset&&t.offset<p&&(d>p?(t.nodesToHandle=d-p,t.offset=p):t.nodesToHandle=0);if(a.type=="remove"&&t.offset<a.offset&&d>a.offset){const w={type:"attribute",offset:a.offset,howMany:d-a.offset,count:this._changeCount++};this._handleChange(w,s),s.push(w),t.nodesToHandle=a.offset-t.offset,t.howMany=t.nodesToHandle}a.type=="attribute"&&(t.offset>=a.offset&&d<=p?(t.nodesToHandle=0,t.howMany=0,t.offset=0):t.offset<=a.offset&&d>=p&&(a.howMany=0))}}t.howMany=t.nodesToHandle,delete t.nodesToHandle}_getInsertDiff(t,s,a){return{type:"insert",position:st._createAt(t,s),name:a.name,attributes:new Map(a.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(t,s,a){return{type:"remove",position:st._createAt(t,s),name:a.name,attributes:new Map(a.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(t,s,a){const d=[];a=new Map(a);for(const[p,w]of s){const k=a.has(p)?a.get(p):null;k!==w&&d.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:p,attributeOldValue:w,attributeNewValue:k,changeCount:this._changeCount++}),a.delete(p)}for(const[p,w]of a)d.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:p,attributeOldValue:null,attributeNewValue:w,changeCount:this._changeCount++});return d}_isInInsertedElement(t){const s=t.parent;if(!s)return!1;const a=this._changesInElement.get(s),d=t.startOffset;if(a){for(const p of a)if(p.type=="insert"&&d>=p.offset&&d<p.offset+p.howMany)return!0}return this._isInInsertedElement(s)}_removeAllNestedChanges(t,s,a){const d=new Je(st._createAt(t,s),st._createAt(t,s+a));for(const p of d.getItems({shallow:!0}))p.is("element")&&(this._elementSnapshots.delete(p),this._changesInElement.delete(p),this._removeAllNestedChanges(p,0,p.maxOffset))}}function bL(f){const t=[];for(const s of f)if(s.is("$text"))for(let a=0;a<s.data.length;a++)t.push({name:"$text",attributes:new Map(s.getAttributes())});else t.push({name:s.name,attributes:new Map(s.getAttributes())});return t}function sre(f,t){const s=[];let a=0,d=0;for(const p of t){if(p.offset>a){for(let w=0;w<p.offset-a;w++)s.push("e");d+=p.offset-a}if(p.type=="insert"){for(let w=0;w<p.howMany;w++)s.push("i");a=p.offset+p.howMany}else if(p.type=="remove"){for(let w=0;w<p.howMany;w++)s.push("r");a=p.offset,d+=p.howMany}else s.push(..."a".repeat(p.howMany).split("")),a=p.offset+p.howMany,d+=p.howMany}if(d<f)for(let p=0;p<f-d-a;p++)s.push("e");return s}function ore(f){const t="position"in f&&f.position.root.rootName=="$graveyard",s="range"in f&&f.range.root.rootName=="$graveyard";return!t&&!s}class are{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(t){this._operations.length&&t>this._version+1&&this._gaps.set(this._version,t),this._version=t}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(t){if(t.baseVersion!==this.version)throw new B("model-document-history-addoperation-incorrect-version",this,{operation:t,historyVersion:this.version});this._operations.push(t),this._version++,this._baseVersionToOperationIndex.set(t.baseVersion,this._operations.length-1)}getOperations(t,s=this.version){if(!this._operations.length)return[];const a=this._operations[0];t===void 0&&(t=a.baseVersion);let d=s-1;for(const[k,D]of this._gaps)t>k&&t<D&&(t=D),d>k&&d<D&&(d=k-1);if(d<a.baseVersion||t>this.lastOperation.baseVersion)return[];let p=this._baseVersionToOperationIndex.get(t);p===void 0&&(p=0);let w=this._baseVersionToOperationIndex.get(d);return w===void 0&&(w=this._operations.length-1),this._operations.slice(p,w+1)}getOperation(t){const s=this._baseVersionToOperationIndex.get(t);if(s!==void 0)return this._operations[s]}setOperationAsUndone(t,s){this._undoPairs.set(s,t),this._undoneOperations.add(t)}isUndoingOperation(t){return this._undoPairs.has(t)}isUndoneOperation(t){return this._undoneOperations.has(t)}getUndoneOperation(t){return this._undoPairs.get(t)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class KA extends Xt{constructor(t,s,a="main"){super(s),this._isAttached=!0,this._isLoaded=!0,this._document=t,this.rootName=a}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}KA.prototype.is=function(f,t){return t?t===this.name&&(f==="rootElement"||f==="model:rootElement"||f==="element"||f==="model:element"):f==="rootElement"||f==="model:rootElement"||f==="element"||f==="model:element"||f==="node"||f==="model:node"};const yL="$graveyard";class lre extends X(){constructor(t){super(),this.model=t,this.history=new are,this.selection=new Tc(this),this.roots=new Fs({idProperty:"rootName"}),this.differ=new rre(t.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",yL),this.listenTo(t,"applyOperation",(s,a)=>{const d=a[0];d.isDocumentOperation&&this.differ.bufferOperation(d)},{priority:"high"}),this.listenTo(t,"applyOperation",(s,a)=>{const d=a[0];d.isDocumentOperation&&this.history.addOperation(d)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(t.markers,"update",(s,a,d,p,w)=>{const k={...a.getData(),range:p};this.differ.bufferMarkerChange(a.name,w,k),d===null&&a.on("change",(D,R)=>{const M=a.getData();this.differ.bufferMarkerChange(a.name,{...M,range:R},M)})}),this.registerPostFixer(s=>{let a=!1;for(const d of this.roots)d.isAttached()||d.isEmpty||(s.remove(s.createRangeIn(d)),a=!0);for(const d of this.model.markers)d.getRange().root.isAttached()||(s.removeMarker(d),a=!0);return a})}get version(){return this.history.version}set version(t){this.history.version=t}get graveyard(){return this.getRoot(yL)}createRoot(t="$root",s="main"){if(this.roots.get(s))throw new B("model-document-createroot-name-exists",this,{name:s});const a=new KA(this,t,s);return this.roots.add(a),a}destroy(){this.selection.destroy(),this.stopListening()}getRoot(t="main"){return this.roots.get(t)}getRootNames(t=!1){return this.getRoots(t).map(s=>s.rootName)}getRoots(t=!1){return Array.from(this.roots).filter(s=>s!=this.graveyard&&(t||s.isAttached())&&s._isLoaded)}registerPostFixer(t){this._postFixers.add(t)}toJSON(){const t=_x(this);return t.selection="[engine.model.DocumentSelection]",t.model="[engine.model.Model]",t}_handleChangeBlock(t){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(t),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",t.batch):this.fire("change",t.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const t=this.getRoots();return t.length?t[0]:this.graveyard}_getDefaultRange(){const t=this._getDefaultRoot(),s=this.model,a=s.schema,d=s.createPositionFromPath(t,[0]);return a.getNearestSelectionRange(d)||s.createRange(d)}_validateSelectionRange(t){return vL(t.start)&&vL(t.end)}_callPostFixers(t){let s=!1;do for(const a of this._postFixers)if(this.selection.refresh(),s=a(t),s)break;while(s)}}function vL(f){const t=f.textNode;if(t){const s=t.data,a=f.offset-t.startOffset;return!fx(s,a)&&!wy(s,a)}return!0}class cre extends X(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(t){const s=t instanceof ev?t.name:t;return this._markers.has(s)}get(t){return this._markers.get(t)||null}_set(t,s,a=!1,d=!1){const p=t instanceof ev?t.name:t;if(p.includes(","))throw new B("markercollection-incorrect-marker-name",this);const w=this._markers.get(p);if(w){const R=w.getData(),M=w.getRange();let L=!1;return M.isEqual(s)||(w._attachLiveRange(Na.fromRange(s)),L=!0),a!=w.managedUsingOperations&&(w._managedUsingOperations=a,L=!0),typeof d=="boolean"&&d!=w.affectsData&&(w._affectsData=d,L=!0),L&&this.fire(`update:${p}`,w,M,s,R),w}const k=Na.fromRange(s),D=new ev(p,k,a,d);return this._markers.set(p,D),this.fire(`update:${p}`,D,null,s,{...D.getData(),range:null}),D}_remove(t){const s=t instanceof ev?t.name:t,a=this._markers.get(s);return!!a&&(this._markers.delete(s),this.fire(`update:${s}`,a,a.getRange(),null,a.getData()),this._destroyMarker(a),!0)}_refresh(t){const s=t instanceof ev?t.name:t,a=this._markers.get(s);if(!a)throw new B("markercollection-refresh-marker-not-exists",this);const d=a.getRange();this.fire(`update:${s}`,a,d,d,a.getData())}*getMarkersAtPosition(t){for(const s of this)s.getRange().containsPosition(t)&&(yield s)}*getMarkersIntersectingRange(t){for(const s of this)s.getRange().getIntersection(t)!==null&&(yield s)}destroy(){for(const t of this._markers.values())this._destroyMarker(t);this._markers=null,this.stopListening()}*getMarkersGroup(t){for(const s of this._markers.values())s.name.startsWith(t+":")&&(yield s)}_destroyMarker(t){t.stopListening(),t._detachLiveRange()}}class ev extends X(Kt){constructor(t,s,a,d){super(),this.name=t,this._liveRange=this._attachLiveRange(s),this._managedUsingOperations=a,this._affectsData=d}get managedUsingOperations(){if(!this._liveRange)throw new B("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new B("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new B("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new B("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new B("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(t){return this._liveRange&&this._detachLiveRange(),t.delegate("change:range").to(this),t.delegate("change:content").to(this),this._liveRange=t,t}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}ev.prototype.is=function(f){return f==="marker"||f==="model:marker"};class ure extends Pa{constructor(t,s){super(null),this.sourcePosition=t.clone(),this.howMany=s}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t}_validate(){if(this.sourcePosition.root.document)throw new B("detach-operation-on-document-node",this)}_execute(){cL(Je._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class sh extends Kt{constructor(t){super(),this.markers=new Map,this._children=new ln,t&&this._insertChild(0,t)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}getPath(){return[]}getNodeByPath(t){let s=this;for(const a of t)s=s.getChild(s.offsetToIndex(a));return s}offsetToIndex(t){return this._children.offsetToIndex(t)}toJSON(){const t=[];for(const s of this._children)t.push(s.toJSON());return t}static fromJSON(t){const s=[];for(const a of t)a.name?s.push(Xt.fromJSON(a)):s.push(Ft.fromJSON(a));return new sh(s)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,s){const a=function(d){return typeof d=="string"?[new Ft(d)]:(Fe(d)||(d=[d]),Array.from(d).map(p=>typeof p=="string"?new Ft(p):p instanceof Vt?new Ft(p.data,p.getAttributes()):p))}(s);for(const d of a)d.parent!==null&&d._remove(),d.parent=this;this._children._insertNodes(t,a)}_removeChildren(t,s=1){const a=this._children._removeNodes(t,s);for(const d of a)d.parent=null;return a}}sh.prototype.is=function(f){return f==="documentFragment"||f==="model:documentFragment"};class dre{constructor(t,s){this.model=t,this.batch=s}createText(t,s){return new Ft(t,s)}createElement(t,s){return new Xt(t,s)}createDocumentFragment(){return new sh}cloneElement(t,s=!0){return t._clone(s)}insert(t,s,a=0){if(this._assertWriterUsedCorrectly(),t instanceof Ft&&t.data=="")return;const d=st._createAt(s,a);if(t.parent){if(_L(t.root,d.root))return void this.move(Je._createOn(t),d);if(t.root.document)throw new B("model-writer-insert-forbidden-move",this);this.remove(t)}const p=d.root.document?d.root.document.version:null,w=new Vr(d,t,p);if(t instanceof Ft&&(w.shouldReceiveAttributes=!0),this.batch.addOperation(w),this.model.applyOperation(w),t instanceof sh)for(const[k,D]of t.markers){const R=st._createAt(D.root,0),M={range:new Je(D.start._getCombined(R,d),D.end._getCombined(R,d)),usingOperation:!0,affectsData:!0};this.model.markers.has(k)?this.updateMarker(k,M):this.addMarker(k,M)}}insertText(t,s,a,d){s instanceof sh||s instanceof Xt||s instanceof st?this.insert(this.createText(t),s,a):this.insert(this.createText(t,s),a,d)}insertElement(t,s,a,d){s instanceof sh||s instanceof Xt||s instanceof st?this.insert(this.createElement(t),s,a):this.insert(this.createElement(t,s),a,d)}append(t,s){this.insert(t,s,"end")}appendText(t,s,a){s instanceof sh||s instanceof Xt?this.insert(this.createText(t),s,"end"):this.insert(this.createText(t,s),a,"end")}appendElement(t,s,a){s instanceof sh||s instanceof Xt?this.insert(this.createElement(t),s,"end"):this.insert(this.createElement(t,s),a,"end")}setAttribute(t,s,a){if(this._assertWriterUsedCorrectly(),a instanceof Je){const d=a.getMinimalFlatRanges();for(const p of d)wL(this,t,s,p)}else xL(this,t,s,a)}setAttributes(t,s){for(const[a,d]of ka(t))this.setAttribute(a,d,s)}removeAttribute(t,s){if(this._assertWriterUsedCorrectly(),s instanceof Je){const a=s.getMinimalFlatRanges();for(const d of a)wL(this,t,null,d)}else xL(this,t,null,s)}clearAttributes(t){this._assertWriterUsedCorrectly();const s=a=>{for(const d of a.getAttributeKeys())this.removeAttribute(d,a)};if(t instanceof Je)for(const a of t.getItems())s(a);else s(t)}move(t,s,a){if(this._assertWriterUsedCorrectly(),!(t instanceof Je))throw new B("writer-move-invalid-range",this);if(!t.isFlat)throw new B("writer-move-range-not-flat",this);const d=st._createAt(s,a);if(d.isEqual(t.start))return;if(this._addOperationForAffectedMarkers("move",t),!_L(t.root,d.root))throw new B("writer-move-different-document",this);const p=t.root.document?t.root.document.version:null,w=new On(t.start,t.end.offset-t.start.offset,d,p);this.batch.addOperation(w),this.model.applyOperation(w)}remove(t){this._assertWriterUsedCorrectly();const s=(t instanceof Je?t:Je._createOn(t)).getMinimalFlatRanges().reverse();for(const a of s)this._addOperationForAffectedMarkers("move",a),hre(a.start,a.end.offset-a.start.offset,this.batch,this.model)}merge(t){this._assertWriterUsedCorrectly();const s=t.nodeBefore,a=t.nodeAfter;if(this._addOperationForAffectedMarkers("merge",t),!(s instanceof Xt))throw new B("writer-merge-no-element-before",this);if(!(a instanceof Xt))throw new B("writer-merge-no-element-after",this);t.root.document?this._merge(t):this._mergeDetached(t)}createPositionFromPath(t,s,a){return this.model.createPositionFromPath(t,s,a)}createPositionAt(t,s){return this.model.createPositionAt(t,s)}createPositionAfter(t){return this.model.createPositionAfter(t)}createPositionBefore(t){return this.model.createPositionBefore(t)}createRange(t,s){return this.model.createRange(t,s)}createRangeIn(t){return this.model.createRangeIn(t)}createRangeOn(t){return this.model.createRangeOn(t)}createSelection(...t){return this.model.createSelection(...t)}_mergeDetached(t){const s=t.nodeBefore,a=t.nodeAfter;this.move(Je._createIn(a),st._createAt(s,"end")),this.remove(a)}_merge(t){const s=st._createAt(t.nodeBefore,"end"),a=st._createAt(t.nodeAfter,0),d=t.root.document.graveyard,p=new st(d,[0]),w=t.root.document.version,k=new Gi(a,t.nodeAfter.maxOffset,s,p,w);this.batch.addOperation(k),this.model.applyOperation(k)}rename(t,s){if(this._assertWriterUsedCorrectly(),!(t instanceof Xt))throw new B("writer-rename-not-element-instance",this);const a=t.root.document?t.root.document.version:null,d=new qo(st._createBefore(t),t.name,s,a);this.batch.addOperation(d),this.model.applyOperation(d)}split(t,s){this._assertWriterUsedCorrectly();let a,d,p=t.parent;if(!p.parent)throw new B("writer-split-element-no-parent",this);if(s||(s=p.parent),!t.parent.getAncestors({includeSelf:!0}).includes(s))throw new B("writer-split-invalid-limit-element",this);do{const w=p.root.document?p.root.document.version:null,k=p.maxOffset-t.offset,D=ei.getInsertionPosition(t),R=new ei(t,k,D,null,w);this.batch.addOperation(R),this.model.applyOperation(R),a||d||(a=p,d=t.parent.nextSibling),p=(t=this.createPositionAfter(t.parent)).parent}while(p!==s);return{position:t,range:new Je(st._createAt(a,"end"),st._createAt(d,0))}}wrap(t,s){if(this._assertWriterUsedCorrectly(),!t.isFlat)throw new B("writer-wrap-range-not-flat",this);const a=s instanceof Xt?s:new Xt(s);if(a.childCount>0)throw new B("writer-wrap-element-not-empty",this);if(a.parent!==null)throw new B("writer-wrap-element-attached",this);this.insert(a,t.start);const d=new Je(t.start.getShiftedBy(1),t.end.getShiftedBy(1));this.move(d,st._createAt(a,0))}unwrap(t){if(this._assertWriterUsedCorrectly(),t.parent===null)throw new B("writer-unwrap-element-no-parent",this);this.move(Je._createIn(t),this.createPositionAfter(t)),this.remove(t)}addMarker(t,s){if(this._assertWriterUsedCorrectly(),!s||typeof s.usingOperation!="boolean")throw new B("writer-addmarker-no-usingoperation",this);const a=s.usingOperation,d=s.range,p=s.affectsData!==void 0&&s.affectsData;if(this.model.markers.has(t))throw new B("writer-addmarker-marker-exists",this);if(!d)throw new B("writer-addmarker-no-range",this);return a?(n_(this,t,null,d,p),this.model.markers.get(t)):this.model.markers._set(t,d,a,p)}updateMarker(t,s){this._assertWriterUsedCorrectly();const a=typeof t=="string"?t:t.name,d=this.model.markers.get(a);if(!d)throw new B("writer-updatemarker-marker-not-exists",this);if(!s)return K("writer-updatemarker-reconvert-using-editingcontroller",{markerName:a}),void this.model.markers._refresh(d);const p=typeof s.usingOperation=="boolean",w=typeof s.affectsData=="boolean",k=w?s.affectsData:d.affectsData;if(!p&&!s.range&&!w)throw new B("writer-updatemarker-wrong-options",this);const D=d.getRange(),R=s.range?s.range:D;p&&s.usingOperation!==d.managedUsingOperations?s.usingOperation?n_(this,a,null,R,k):(n_(this,a,D,null,k),this.model.markers._set(a,R,void 0,k)):d.managedUsingOperations?n_(this,a,D,R,k):this.model.markers._set(a,R,void 0,k)}removeMarker(t){this._assertWriterUsedCorrectly();const s=typeof t=="string"?t:t.name;if(!this.model.markers.has(s))throw new B("writer-removemarker-no-marker",this);const a=this.model.markers.get(s);if(!a.managedUsingOperations)return void this.model.markers._remove(s);n_(this,s,a.getRange(),null,a.affectsData)}addRoot(t,s="$root"){this._assertWriterUsedCorrectly();const a=this.model.document.getRoot(t);if(a&&a.isAttached())throw new B("writer-addroot-root-exists",this);const d=this.model.document,p=new Uu(t,s,!0,d,d.version);return this.batch.addOperation(p),this.model.applyOperation(p),this.model.document.getRoot(t)}detachRoot(t){this._assertWriterUsedCorrectly();const s=typeof t=="string"?this.model.document.getRoot(t):t;if(!s||!s.isAttached())throw new B("writer-detachroot-no-root",this);for(const p of this.model.markers)p.getRange().root===s&&this.removeMarker(p);for(const p of s.getAttributeKeys())this.removeAttribute(p,s);this.remove(this.createRangeIn(s));const a=this.model.document,d=new Uu(s.rootName,s.name,!1,a,a.version);this.batch.addOperation(d),this.model.applyOperation(d)}setSelection(...t){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...t)}setSelectionFocus(t,s){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(t,s)}setSelectionAttribute(t,s){if(this._assertWriterUsedCorrectly(),typeof t=="string")this._setSelectionAttribute(t,s);else for(const[a,d]of ka(t))this._setSelectionAttribute(a,d)}removeSelectionAttribute(t){if(this._assertWriterUsedCorrectly(),typeof t=="string")this._removeSelectionAttribute(t);else for(const s of t)this._removeSelectionAttribute(s)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(t){this.model.document.selection._restoreGravity(t)}_setSelectionAttribute(t,s){const a=this.model.document.selection;if(a.isCollapsed&&a.anchor.parent.isEmpty){const d=Tc._getStoreAttributeKey(t);this.setAttribute(d,s,a.anchor.parent)}a._setAttribute(t,s)}_removeSelectionAttribute(t){const s=this.model.document.selection;if(s.isCollapsed&&s.anchor.parent.isEmpty){const a=Tc._getStoreAttributeKey(t);this.removeAttribute(a,s.anchor.parent)}s._removeAttribute(t)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new B("writer-incorrect-use",this)}_addOperationForAffectedMarkers(t,s){for(const a of this.model.markers){if(!a.managedUsingOperations)continue;const d=a.getRange();let p=!1;if(t==="move"){const w=s;p=w.containsPosition(d.start)||w.start.isEqual(d.start)||w.containsPosition(d.end)||w.end.isEqual(d.end)}else{const w=s,k=w.nodeBefore,D=w.nodeAfter,R=d.start.parent==k&&d.start.isAtEnd,M=d.end.parent==D&&d.end.offset==0,L=d.end.nodeAfter==D,W=d.start.nodeAfter==D;p=R||M||L||W}p&&this.updateMarker(a.name,{range:d})}}}function wL(f,t,s,a){const d=f.model,p=d.document;let w,k,D,R=a.start;for(const L of a.getWalker({shallow:!0}))D=L.item.getAttribute(t),w&&k!=D&&(k!=s&&M(),R=w),w=L.nextPosition,k=D;function M(){const L=new Je(R,w),W=L.root.document?p.version:null,J=new er(L,t,k,s,W);f.batch.addOperation(J),d.applyOperation(J)}w instanceof st&&w!=R&&k!=s&&M()}function xL(f,t,s,a){const d=f.model,p=d.document,w=a.getAttribute(t);let k,D;if(w!=s){if(a.root===a){const R=a.document?p.version:null;D=new rh(a,t,w,s,R)}else{k=new Je(st._createBefore(a),f.createPositionAfter(a));const R=k.root.document?p.version:null;D=new er(k,t,w,s,R)}f.batch.addOperation(D),d.applyOperation(D)}}function n_(f,t,s,a,d){const p=f.model,w=p.document,k=new $o(t,s,a,p.markers,!!d,w.version);f.batch.addOperation(k),p.applyOperation(k)}function hre(f,t,s,a){let d;if(f.root.document){const p=a.document,w=new st(p.graveyard,[0]);d=new On(f,t,w,p.version)}else d=new ure(f,t);s.addOperation(d),a.applyOperation(d)}function _L(f,t){return f===t||f instanceof KA&&t instanceof KA}function fre(f,t,s={}){if(t.isCollapsed)return;const a=t.getFirstRange();if(a.root.rootName=="$graveyard")return;const d=f.schema;f.change(p=>{if(!s.doNotResetEntireContent&&function(R,M){const L=R.getLimitElement(M);if(!M.containsEntireContent(L))return!1;const W=M.getFirstRange();return W.start.parent==W.end.parent?!1:R.checkChild(L,"paragraph")}(d,t))return void function(R,M){const L=R.model.schema.getLimitElement(M);R.remove(R.createRangeIn(L)),SL(R,R.createPositionAt(L,0),M)}(p,t);const w={};if(!s.doNotAutoparagraph){const R=t.getSelectedElement();R&&Object.assign(w,d.getAttributesWithProperty(R,"copyOnReplace",!0))}const[k,D]=function(R){const M=R.root.document.model,L=R.start;let W=R.end;if(M.hasContent(R,{ignoreMarkers:!0})){const J=function(re){const ae=re.parent,ve=ae.root.document.model.schema,je=ae.getAncestors({parentFirst:!0,includeSelf:!0});for(const $e of je){if(ve.isLimit($e))return null;if(ve.isBlock($e))return $e}}(W);if(J&&W.isTouching(M.createPositionAt(J,0))){const re=M.createSelection(R);M.modifySelection(re,{direction:"backward"});const ae=re.getLastPosition(),ve=M.createRange(ae,W);M.hasContent(ve,{ignoreMarkers:!0})||(W=ae)}}return[fs.fromPosition(L,"toPrevious"),fs.fromPosition(W,"toNext")]}(a);k.isTouching(D)||p.remove(p.createRange(k,D)),s.leaveUnmerged||(function(R,M,L){const W=R.model;if(!jP(R.model.schema,M,L))return;const[J,re]=function(ae,ve){const je=ae.getAncestors(),$e=ve.getAncestors();let Qe=0;for(;je[Qe]&&je[Qe]==$e[Qe];)Qe++;return[je[Qe],$e[Qe]]}(M,L);!J||!re||(!W.hasContent(J,{ignoreMarkers:!0})&&W.hasContent(re,{ignoreMarkers:!0})?EL(R,M,L,J.parent):kL(R,M,L,J.parent))}(p,k,D),d.removeDisallowedAttributes(k.parent.getChildren(),p)),AL(p,t,k),!s.doNotAutoparagraph&&function(R,M){const L=R.checkChild(M,"$text"),W=R.checkChild(M,"paragraph");return!L&&W}(d,k)&&SL(p,k,t,w),k.detach(),D.detach()})}function kL(f,t,s,a){const d=t.parent,p=s.parent;if(d!=a&&p!=a){for(t=f.createPositionAfter(d),(s=f.createPositionBefore(p)).isEqual(t)||f.insert(p,t),f.merge(t);s.parent.isEmpty;){const w=s.parent;s=f.createPositionBefore(w),f.remove(w)}jP(f.model.schema,t,s)&&kL(f,t,s,a)}}function EL(f,t,s,a){const d=t.parent,p=s.parent;if(d!=a&&p!=a){for(t=f.createPositionAfter(d),(s=f.createPositionBefore(p)).isEqual(t)||f.insert(d,s);t.parent.isEmpty;){const w=t.parent;t=f.createPositionBefore(w),f.remove(w)}s=f.createPositionBefore(p),function(w,k){const D=k.nodeBefore,R=k.nodeAfter;D.name!=R.name&&w.rename(D,R.name),w.clearAttributes(D),w.setAttributes(Object.fromEntries(R.getAttributes()),D),w.merge(k)}(f,s),jP(f.model.schema,t,s)&&EL(f,t,s,a)}}function jP(f,t,s){const a=t.parent,d=s.parent;return a!=d&&!f.isLimit(a)&&!f.isLimit(d)&&function(p,w,k){const D=new Je(p,w);for(const R of D.getWalker())if(k.isLimit(R.item))return!1;return!0}(t,s,f)}function SL(f,t,s,a={}){const d=f.createElement("paragraph");f.model.schema.setAllowedAttributes(d,a,f),f.insert(d,t),AL(f,s,f.createPositionAt(d,0))}function AL(f,t,s){t instanceof Tc?f.setSelection(s):t.setTo(s)}function CL(f,t){const s=[];Array.from(f.getItems({direction:"backward"})).map(a=>t.createRangeOn(a)).filter(a=>(a.start.isAfter(f.start)||a.start.isEqual(f.start))&&(a.end.isBefore(f.end)||a.end.isEqual(f.end))).forEach(a=>{s.push(a.start.parent),t.remove(a)}),s.forEach(a=>{let d=a;for(;d.parent&&d.isEmpty;){const p=t.createRangeOn(d);d=d.parent,t.remove(p)}})}class pre{constructor(t,s,a){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=t,this.writer=s,this.position=a,this.canMergeWith=new Set([this.position.parent]),this.schema=t.schema,this._documentFragment=s.createDocumentFragment(),this._documentFragmentPosition=s.createPositionAt(this._documentFragment,0)}handleNodes(t){for(const s of Array.from(t))this._handleNode(s);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(t){const s=this.writer.createPositionAfter(this._lastNode),a=this.writer.createPositionAfter(t);if(a.isAfter(s)){if(this._lastNode=t,this.position.parent!=t||!this.position.isAtEnd)throw new B("insertcontent-invalid-insertion-position",this);this.position=a,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?Je._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new Je(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(t){if(this.schema.isObject(t))return void this._handleObject(t);let s=this._checkAndAutoParagraphToAllowedPosition(t);s||(s=this._checkAndSplitToAllowedPosition(t),s)?(this._appendToFragment(t),this._firstNode||(this._firstNode=t),this._lastNode=t):this._handleDisallowedNode(t)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const t=fs.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=t.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=t.toPosition(),t.detach()}_handleObject(t){this._checkAndSplitToAllowedPosition(t)?this._appendToFragment(t):this._tryAutoparagraphing(t)}_handleDisallowedNode(t){t.is("element")?this.handleNodes(t.getChildren()):this._tryAutoparagraphing(t)}_appendToFragment(t){if(!this.schema.checkChild(this.position,t))throw new B("insertcontent-wrong-position",this,{node:t,position:this.position});this.writer.insert(t,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(t.offsetSize),this.schema.isObject(t)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=t:this._nodeToSelect=null,this._filterAttributesOf.push(t)}_setAffectedBoundaries(t){this._affectedStart||(this._affectedStart=fs.fromPosition(t,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(t)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=fs.fromPosition(t,"toNext"))}_mergeOnLeft(){const t=this._firstNode;if(!(t instanceof Xt)||!this._canMergeLeft(t))return;const s=fs._createBefore(t);s.stickiness="toNext";const a=fs.fromPosition(this.position,"toNext");this._affectedStart.isEqual(s)&&(this._affectedStart.detach(),this._affectedStart=fs._createAt(s.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=s.nodeBefore,this._lastNode=s.nodeBefore),this.writer.merge(s),s.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=fs._createAt(s.nodeBefore,"end","toNext")),this.position=a.toPosition(),a.detach(),this._filterAttributesOf.push(this.position.parent),s.detach()}_mergeOnRight(){const t=this._lastNode;if(!(t instanceof Xt)||!this._canMergeRight(t))return;const s=fs._createAfter(t);if(s.stickiness="toNext",!this.position.isEqual(s))throw new B("insertcontent-invalid-insertion-position",this);this.position=st._createAt(s.nodeBefore,"end");const a=fs.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(s)&&(this._affectedEnd.detach(),this._affectedEnd=fs._createAt(s.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=s.nodeBefore,this._lastNode=s.nodeBefore),this.writer.merge(s),s.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=fs._createAt(s.nodeBefore,0,"toPrevious")),this.position=a.toPosition(),a.detach(),this._filterAttributesOf.push(this.position.parent),s.detach()}_canMergeLeft(t){const s=t.previousSibling;return s instanceof Xt&&this.canMergeWith.has(s)&&this.model.schema.checkMerge(s,t)}_canMergeRight(t){const s=t.nextSibling;return s instanceof Xt&&this.canMergeWith.has(s)&&this.model.schema.checkMerge(t,s)}_tryAutoparagraphing(t){const s=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,s)&&this.schema.checkChild(s,t)&&(s._appendChild(t),this._handleNode(s))}_checkAndAutoParagraphToAllowedPosition(t){if(this.schema.checkChild(this.position.parent,t))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",t))return!1;this._insertPartialFragment();const s=this.writer.createElement("paragraph");return this.writer.insert(s,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=s,this.position=this.writer.createPositionAt(s,0),!0}_checkAndSplitToAllowedPosition(t){const s=this._getAllowedIn(this.position.parent,t);if(!s)return!1;for(s!=this.position.parent&&this._insertPartialFragment();s!=this.position.parent;)if(this.position.isAtStart){const a=this.position.parent;this.position=this.writer.createPositionBefore(a),a.isEmpty&&a.parent===s&&this.writer.remove(a)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const a=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=a,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(t,s){return this.schema.checkChild(t,s)?t:this.schema.isLimit(t)?null:this._getAllowedIn(t.parent,s)}}function TL(f,t,s="auto"){const a=f.getSelectedElement();if(a&&t.schema.isObject(a)&&!t.schema.isInline(a))return s=="before"||s=="after"?t.createRange(t.createPositionAt(a,s)):t.createRangeOn(a);const d=ci(f.getSelectedBlocks());if(!d)return t.createRange(f.focus);if(d.isEmpty)return t.createRange(t.createPositionAt(d,0));const p=t.createPositionAfter(d);return f.focus.isTouching(p)?t.createRange(p):t.createRange(t.createPositionBefore(d))}function mre(f,t,s,a={}){if(!f.schema.isObject(t))throw new B("insertobject-element-not-an-object",f,{object:t});const d=s||f.document.selection;let p=d;a.findOptimalPosition&&f.schema.isBlock(t)&&(p=f.createSelection(TL(d,f,a.findOptimalPosition)));const w=ci(d.getSelectedBlocks()),k={};return w&&Object.assign(k,f.schema.getAttributesWithProperty(w,"copyOnReplace",!0)),f.change(D=>{p.isCollapsed||f.deleteContent(p,{doNotAutoparagraph:!0});let R=t;const M=p.anchor.parent;!f.schema.checkChild(M,t)&&f.schema.checkChild(M,"paragraph")&&f.schema.checkChild("paragraph",t)&&(R=D.createElement("paragraph"),D.insert(t,R)),f.schema.setAllowedAttributes(R,k,D);const L=f.insertContent(R,p);return L.isCollapsed||a.setSelection&&function(W,J,re,ae){const ve=W.model;if(re=="on")return void W.setSelection(J,"on");if(re!="after")throw new B("insertobject-invalid-place-parameter-value",ve);let je=J.nextSibling;if(ve.schema.isInline(J))return void W.setSelection(J,"after");!(je&&ve.schema.checkChild(je,"$text"))&&ve.schema.checkChild(J.parent,"paragraph")&&(je=W.createElement("paragraph"),ve.schema.setAllowedAttributes(je,ae,W),ve.insertContent(je,W.createPositionAfter(J))),je&&W.setSelection(je,0)}(D,t,a.setSelection,k),L})}const gre=' ,.?!:;"-()';function bre(f,t){const{isForward:s,walker:a,unit:d,schema:p,treatEmojiAsSingleUnit:w}=f,{type:k,item:D,nextPosition:R}=t;if(k=="text")return f.unit==="word"?function(M,L){let W=M.position.textNode;for(W||(W=L?M.position.nodeAfter:M.position.nodeBefore);W&&W.is("$text");){const J=M.position.offset-W.startOffset;if(wre(W,J,L))W=L?M.position.nodeAfter:M.position.nodeBefore;else{if(vre(W.data,J,L))break;M.next()}}return M.position}(a,s):function(M,L,W){const J=M.position.textNode;if(J){const re=J.data;let ae=M.position.offset-J.startOffset;for(;fx(re,ae)||L=="character"&&wy(re,ae)||W&&hA(re,ae);)M.next(),ae=M.position.offset-J.startOffset}return M.position}(a,d,w);if(k==(s?"elementStart":"elementEnd")){if(p.isSelectable(D))return st._createAt(D,s?"after":"before");if(p.checkChild(R,"$text"))return R}else{if(p.isLimit(D))return void a.skip(()=>!0);if(p.checkChild(R,"$text"))return R}}function yre(f,t){const s=f.root,a=st._createAt(s,t?"end":0);return t?new Je(f,a):new Je(a,f)}function vre(f,t,s){const a=t+(s?0:-1);return gre.includes(f.charAt(a))}function wre(f,t,s){return t===(s?f.offsetSize:0)}class xre extends ze(){constructor(){super(),this.markers=new cre,this.document=new lre(this),this.schema=new Mie,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(t=>this.decorate(t)),this.on("applyOperation",(t,s)=>{s[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((t,s)=>{if(s.name==="$marker")return!0}),jie(this),this.document.registerPostFixer(ZU),this.on("insertContent",(t,[s,a])=>{t.return=function(d,p,w){return d.change(k=>{const D=w||d.document.selection;D.isCollapsed||d.deleteContent(D,{doNotAutoparagraph:!0});const R=new pre(d,k,D.anchor),M=[];let L;if(p.is("documentFragment")){if(p.markers.size){const re=[];for(const[ae,ve]of p.markers){const{start:je,end:$e}=ve,Qe=je.isEqual($e);re.push({position:je,name:ae,isCollapsed:Qe},{position:$e,name:ae,isCollapsed:Qe})}re.sort(({position:ae},{position:ve})=>ae.isBefore(ve)?1:-1);for(const{position:ae,name:ve,isCollapsed:je}of re){let $e=null,Qe=null;const St=ae.parent===p&&ae.isAtStart,tn=ae.parent===p&&ae.isAtEnd;St||tn?je&&(Qe=St?"start":"end"):($e=k.createElement("$marker"),k.insert($e,ae)),M.push({name:ve,element:$e,collapsed:Qe})}}L=p.getChildren()}else L=[p];R.handleNodes(L);let W=R.getSelectionRange();if(p.is("documentFragment")&&M.length){const re=W?Na.fromRange(W):null,ae={};for(let ve=M.length-1;ve>=0;ve--){const{name:je,element:$e,collapsed:Qe}=M[ve],St=!ae[je];if(St&&(ae[je]=[]),$e){const tn=k.createPositionAt($e,"before");ae[je].push(tn),k.remove($e)}else{const tn=R.getAffectedRange();if(!tn){Qe&&ae[je].push(R.position);continue}Qe?ae[je].push(tn[Qe]):ae[je].push(St?tn.start:tn.end)}}for(const[ve,[je,$e]]of Object.entries(ae))je&&$e&&je.root===$e.root&&k.addMarker(ve,{usingOperation:!0,affectsData:!0,range:new Je(je,$e)});re&&(W=re.toRange(),re.detach())}W&&(D instanceof Tc?k.setSelection(W):D.setTo(W));const J=R.getAffectedRange()||d.createRange(D.anchor);return R.destroy(),J})}(this,s,a)}),this.on("insertObject",(t,[s,a,d])=>{t.return=mre(this,s,a,d)}),this.on("canEditAt",t=>{const s=!this.document.isReadOnly;t.return=s,s||t.stop()})}change(t){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new Qy,callback:t}),this._runPendingChanges()[0]):t(this._currentWriter)}catch(s){B.rethrowUnexpectedError(s,this)}}enqueueChange(t,s){try{t?typeof t=="function"?(s=t,t=new Qy):t instanceof Qy||(t=new Qy(t)):t=new Qy,this._pendingChanges.push({batch:t,callback:s}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(a){B.rethrowUnexpectedError(a,this)}}applyOperation(t){t._execute()}insertContent(t,s,a,...d){const p=IP(s,a);return this.fire("insertContent",[t,p,a,...d])}insertObject(t,s,a,d,...p){const w=IP(s,a);return this.fire("insertObject",[t,w,d,d,...p])}deleteContent(t,s){fre(this,t,s)}modifySelection(t,s){(function(a,d,p={}){const w=a.schema,k=p.direction!="backward",D=p.unit?p.unit:"character",R=!!p.treatEmojiAsSingleUnit,M=d.focus,L=new Il({boundaries:yre(M,k),singleCharacters:!0,direction:k?"forward":"backward"}),W={walker:L,schema:w,isForward:k,unit:D,treatEmojiAsSingleUnit:R};let J;for(;J=L.next();){if(J.done)return;const re=bre(W,J.value);if(re)return void(d instanceof Tc?a.change(ae=>{ae.setSelectionFocus(re)}):d.setFocus(re))}})(this,t,s)}getSelectedContent(t){return function(s,a){return s.change(d=>{const p=d.createDocumentFragment(),w=a.getFirstRange();if(!w||w.isCollapsed)return p;const k=w.start.root,D=w.start.getCommonPath(w.end),R=k.getNodeByPath(D);let M;M=w.start.parent==w.end.parent?w:d.createRange(d.createPositionAt(R,w.start.path[D.length]),d.createPositionAt(R,w.end.path[D.length]+1));const L=M.end.offset-M.start.offset;for(const W of M.getItems({shallow:!0}))W.is("$textProxy")?d.appendText(W.data,W.getAttributes(),p):d.append(d.cloneElement(W,!0),p);if(M!=w){const W=w._getTransformedByMove(M.start,d.createPositionAt(p,0),L)[0],J=d.createRange(d.createPositionAt(p,0),W.start);CL(d.createRange(W.end,d.createPositionAt(p,"end")),d),CL(J,d)}return p})}(this,t)}hasContent(t,s={}){const a=t instanceof Je?t:Je._createIn(t);if(a.isCollapsed)return!1;const{ignoreWhitespaces:d=!1,ignoreMarkers:p=!1}=s;if(!p){for(const w of this.markers.getMarkersIntersectingRange(a))if(w.affectsData)return!0}for(const w of a.getItems())if(this.schema.isContent(w)&&(!w.is("$textProxy")||!d||w.data.search(/\S/)!==-1))return!0;return!1}canEditAt(t){const s=IP(t);return this.fire("canEditAt",[s])}createPositionFromPath(t,s,a){return new st(t,s,a)}createPositionAt(t,s){return st._createAt(t,s)}createPositionAfter(t){return st._createAfter(t)}createPositionBefore(t){return st._createBefore(t)}createRange(t,s){return new Je(t,s)}createRangeIn(t){return Je._createIn(t)}createRangeOn(t){return Je._createOn(t)}createSelection(...t){return new Da(...t)}createBatch(t){return new Qy(t)}createOperationFromJSON(t){return Jie.fromJSON(t,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const t=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const s=this._pendingChanges[0].batch;this._currentWriter=new dre(this,s);const a=this._pendingChanges[0].callback(this._currentWriter);t.push(a),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return t}}function IP(f,t){if(f)return f instanceof Da||f instanceof Tc?f:f instanceof Et?t||t===0?new Da(f,t):f.is("rootElement")?new Da(f,"in"):new Da(f,"on"):new Da(f)}class _re extends Cc{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(t){this.fire(t.type,t)}}class YA extends Cc{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(t){this.fire(t.type,t)}}class RP{constructor(t){this.document=t}createDocumentFragment(t){return new xt(this.document,t)}createElement(t,s,a){return new Ls(this.document,t,s,a)}createText(t){return new Cn(this.document,t)}clone(t,s=!1){return t._clone(s)}appendChild(t,s){return s._appendChild(t)}insertChild(t,s,a){return a._insertChild(t,s)}removeChildren(t,s,a){return a._removeChildren(t,s)}remove(t){const s=t.parent;return s?this.removeChildren(s.getChildIndex(t),1,s):[]}replace(t,s){const a=t.parent;if(a){const d=a.getChildIndex(t);return this.removeChildren(d,1,a),this.insertChild(d,s,a),!0}return!1}unwrapElement(t){const s=t.parent;if(s){const a=s.getChildIndex(t);this.remove(t),this.insertChild(a,t.getChildren(),s)}}rename(t,s){const a=new Ls(this.document,t,s.getAttributes(),s.getChildren());return this.replace(s,a)?a:null}setAttribute(t,s,a){a._setAttribute(t,s)}removeAttribute(t,s){s._removeAttribute(t)}addClass(t,s){s._addClass(t)}removeClass(t,s){s._removeClass(t)}setStyle(t,s,a){sn(t)&&a===void 0?s._setStyle(t):a._setStyle(t,s)}removeStyle(t,s){s._removeStyle(t)}setCustomProperty(t,s,a){a._setCustomProperty(t,s)}removeCustomProperty(t,s){return s._removeCustomProperty(t)}createPositionAt(t,s){return pt._createAt(t,s)}createPositionAfter(t){return pt._createAfter(t)}createPositionBefore(t){return pt._createBefore(t)}createRange(t,s){return new Zt(t,s)}createRangeOn(t){return Zt._createOn(t)}createRangeIn(t){return Zt._createIn(t)}createSelection(...t){return new Ca(...t)}}class kre{constructor(){this._commands=new Map}add(t,s){this._commands.set(t,s)}get(t){return this._commands.get(t)}execute(t,...s){const a=this.get(t);if(!a)throw new B("commandcollection-command-not-found",this,{commandName:t});return a.execute(...s)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const t of this.commands())t.destroy()}}class Ere extends _a{constructor(t){super(),this.editor=t}set(t,s,a={}){if(typeof s=="string"){const d=s;s=(p,w)=>{this.editor.execute(d),w()}}super.set(t,s,a)}}class Sre extends ze(){constructor(t={}){super();const s=this.constructor,a=t.language||s.defaultConfig&&s.defaultConfig.language;this._context=t.context||new Ag({language:a}),this._context._addEditor(this,!t.context);const d=Array.from(s.builtinPlugins||[]);this.config=new _l(t,s.defaultConfig),this.config.define("plugins",d),this.config.define(this._context._getEditorConfig()),this.plugins=new hr(this,d,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new kre,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new xre,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const p=new MA;this.data=new Yie(this.model,p),this.editing=new Iie(this.model,p),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new Zie([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new Ere(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(t){throw new B("editor-isreadonly-has-no-setter")}enableReadOnlyMode(t){if(typeof t!="string"&&typeof t!="symbol")throw new B("editor-read-only-lock-id-invalid",null,{lockId:t});this._readOnlyLocks.has(t)||(this._readOnlyLocks.add(t),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(t){if(typeof t!="string"&&typeof t!="symbol")throw new B("editor-read-only-lock-id-invalid",null,{lockId:t});this._readOnlyLocks.has(t)&&(this._readOnlyLocks.delete(t),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const t=this.config,s=t.get("plugins"),a=t.get("removePlugins")||[],d=t.get("extraPlugins")||[],p=t.get("substitutePlugins")||[];return this.plugins.init(s.concat(d),a,p)}destroy(){let t=Promise.resolve();return this.state=="initializing"&&(t=new Promise(s=>this.once("ready",s))),t.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(t,...s){try{return this.commands.execute(t,...s)}catch(a){B.rethrowUnexpectedError(a,this)}}focus(){this.editing.view.focus()}static create(...t){throw new Error("This is an abstract method.")}}function ZA(f){return class extends f{setData(t){this.data.set(t)}getData(t){return this.data.get(t)}}}{const f=ZA(Object);ZA.setData=f.prototype.setData,ZA.getData=f.prototype.getData}function MP(f){return class extends f{updateSourceElement(t=this.data.get()){if(!this.sourceElement)throw new B("editor-missing-sourceelement",this);const s=this.config.get("updateSourceElementOnDestroy"),a=this.sourceElement instanceof HTMLTextAreaElement;Ur(this.sourceElement,s||a?t:"")}}}MP.updateSourceElement=MP(Object).prototype.updateSourceElement;class DL extends Jf{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Fs({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(t){if(typeof t!="string")throw new B("pendingactions-add-invalid-message",this);const s=new(ze());return s.set("message",t),this._actions.add(s),this.hasAny=!0,s}remove(t){this._actions.remove(t),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const Kn={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>'};var JA=o(4768),i_={attributes:{"data-cke":!0}};i_.setAttributes=Tt(),i_.insert=Ot().bind(null,"head"),i_.domAPI=Rt(),i_.insertStyleElement=Mt(),It()(JA.Z,i_),JA.Z&&JA.Z.locals&&JA.Z.locals;const{threeVerticalDots:NL}=Kn,Are={alignLeft:Kn.alignLeft,bold:Kn.bold,importExport:Kn.importExport,paragraph:Kn.paragraph,plus:Kn.plus,text:Kn.text,threeVerticalDots:Kn.threeVerticalDots,pilcrow:Kn.pilcrow,dragIndicator:Kn.dragIndicator};class OP extends on{constructor(t,s){super(t);const a=this.bindTemplate,d=this.t;this.options=s||{},this.set("ariaLabel",d("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new Hi,this.keystrokes=new _a,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new Cre(t),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const p=t.uiLanguageDirection==="rtl";this._focusCycler=new xc({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[p?"arrowright":"arrowleft","arrowup"],focusNext:[p?"arrowleft":"arrowright","arrowdown"]}});const w=["ck","ck-toolbar",a.to("class"),a.if("isCompact","ck-toolbar_compact")];var k;this.options.shouldGroupWhenFull&&this.options.isFloating&&w.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:w,role:"toolbar","aria-label":a.to("ariaLabel"),style:{maxWidth:a.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(k=this,k.bindTemplate.to(D=>{D.target===k.element&&D.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new Dre(this):new Tre(this)}render(){super.render(),this.focusTracker.add(this.element);for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",(t,s)=>{this.focusTracker.add(s.element)}),this.items.on("remove",(t,s)=>{this.focusTracker.remove(s.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(t,s,a){this.items.addMany(this._buildItemsFromConfig(t,s,a))}_buildItemsFromConfig(t,s,a){const d=Ny(t),p=a||d.removeItems;return this._cleanItemsConfiguration(d.items,s,p).map(w=>Oe(w)?this._createNestedToolbarDropdown(w,s,p):w==="|"?new Dy:w==="-"?new Zf:s.create(w)).filter(w=>!!w)}_cleanItemsConfiguration(t,s,a){const d=t.filter((p,w,k)=>p==="|"||a.indexOf(p)===-1&&(p==="-"?!this.options.shouldGroupWhenFull||(K("toolbarview-line-break-ignored-when-grouping-items",k),!1):!(!Oe(p)&&!s.has(p))||(K("toolbarview-item-unavailable",{item:p}),!1)));return this._cleanSeparatorsAndLineBreaks(d)}_cleanSeparatorsAndLineBreaks(t){const s=w=>w!=="-"&&w!=="|",a=t.length,d=t.findIndex(s);if(d===-1)return[];const p=a-t.slice().reverse().findIndex(s);return t.slice(d,p).filter((w,k,D)=>s(w)?!0:!(k>0&&D[k-1]===w))}_createNestedToolbarDropdown(t,s,a){let{label:d,icon:p,items:w,tooltip:k=!0,withText:D=!1}=t;if(w=this._cleanItemsConfiguration(w,s,a),!w.length)return null;const R=Lu(this.locale);return d||K("toolbarview-nested-toolbar-dropdown-missing-label",t),R.class="ck-toolbar__nested-toolbar-dropdown",R.buttonView.set({label:d,tooltip:k,withText:!!D}),p!==!1?R.buttonView.icon=Are[p]||p||NL:R.buttonView.withText=!0,FP(R,()=>R.toolbarView._buildItemsFromConfig(w,s,a)),R}}class Cre extends on{constructor(t){super(t),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class Tre{constructor(t){const s=t.bindTemplate;t.set("isVertical",!1),t.itemsView.children.bindTo(t.items).using(a=>a),t.focusables.bindTo(t.items).using(a=>a),t.extendTemplate({attributes:{class:[s.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class Dre{constructor(t){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=t,this.viewChildren=t.children,this.viewFocusables=t.focusables,this.viewItemsView=t.itemsView,this.viewFocusTracker=t.focusTracker,this.viewLocale=t.locale,this.ungroupedItems=t.createCollection(),this.groupedItems=t.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),t.itemsView.children.bindTo(this.ungroupedItems).using(s=>s),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),t.children.on("change",this._updateFocusCycleableItems.bind(this)),t.items.on("change",(s,a)=>{const d=a.index,p=Array.from(a.added);for(const w of a.removed)d>=this.ungroupedItems.length?this.groupedItems.remove(w):this.ungroupedItems.remove(w);for(let w=d;w<d+p.length;w++){const k=p[w-d];w>this.ungroupedItems.length?this.groupedItems.add(k,w-this.ungroupedItems.length):this.ungroupedItems.add(k,w)}this._updateGrouping()}),t.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(t){this.viewElement=t.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(t)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Ai(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const t=this.groupedItems.length;let s;for(;this._areItemsOverflowing;)this._groupLastItem(),s=!0;if(!s&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==t&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const t=this.viewElement,s=this.viewLocale.uiLanguageDirection,a=new vt(t.lastChild),d=new vt(t);if(!this.cachedPadding){const p=de.window.getComputedStyle(t),w=s==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(p[w])}return s==="ltr"?a.right>d.right-this.cachedPadding:a.left<d.left+this.cachedPadding}_enableGroupingOnResize(){let t;this.resizeObserver=new wn(this.viewElement,s=>{t&&t===s.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),t=s.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(t){t.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new Dy),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const t=this.viewLocale,s=t.t,a=Lu(t);return a.class="ck-toolbar__grouped-dropdown",a.panelPosition=t.uiLanguageDirection==="ltr"?"sw":"se",FP(a,this.groupedItems),a.buttonView.set({label:s("Show more items"),tooltip:!0,tooltipPosition:t.uiLanguageDirection==="rtl"?"se":"sw",icon:NL}),a}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(t=>{this.viewFocusables.add(t)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class QA extends on{constructor(t){super(t);const s=this.bindTemplate,a=`ck-editor__label_${O()}`,d=new PL(t);this.children=this.createCollection(),this.children.addMany([this._createLabel(a),d]),this.set({label:"",isVisible:!0}),d.set({role:"group",ariaLabelledBy:a}),d.focusTracker.destroy(),d.keystrokes.destroy(),this.items=d.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",s.if("isVisible","ck-hidden",p=>!p)]},children:this.children})}_createLabel(t){const s=new on(this.locale),a=this.bindTemplate;return s.setTemplate({tag:"span",attributes:{id:t},children:[{text:a.to("label")}]}),s}focus(){this.items.first&&this.items.first.focus()}}var eC=o(179),r_={attributes:{"data-cke":!0}};r_.setAttributes=Tt(),r_.insert=Ot().bind(null,"head"),r_.domAPI=Rt(),r_.insertStyleElement=Mt(),It()(eC.Z,r_),eC.Z&&eC.Z.locals&&eC.Z.locals;class PL extends on{constructor(t){super(t),this._listItemGroupToChangeListeners=new WeakMap;const s=this.bindTemplate;this.focusables=new Lo,this.items=this.createCollection(),this.focusTracker=new Hi,this.keystrokes=new _a,this._focusCycler=new xc({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:s.to("role"),"aria-label":s.to("ariaLabel"),"aria-labelledby":s.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const t of this.items)t instanceof QA?this._registerFocusableItemsGroup(t):this._registerFocusableListItem(t);this.items.on("change",(t,s)=>{for(const a of s.removed)a instanceof QA?this._deregisterFocusableItemsGroup(a):this._deregisterFocusableListItem(a);for(const a of Array.from(s.added).reverse())a instanceof QA?this._registerFocusableItemsGroup(a,s.index):this._registerFocusableListItem(a,s.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(t,s){this.focusTracker.add(t.element),this.focusables.add(t,s)}_deregisterFocusableListItem(t){this.focusTracker.remove(t.element),this.focusables.remove(t)}_getOnGroupItemsChangeCallback(t){return(s,a)=>{for(const d of a.removed)this._deregisterFocusableListItem(d);for(const d of Array.from(a.added).reverse())this._registerFocusableListItem(d,this.items.getIndex(t)+a.index)}}_registerFocusableItemsGroup(t,s){Array.from(t.items).forEach((d,p)=>{const w=s!==void 0?s+p:void 0;this._registerFocusableListItem(d,w)});const a=this._getOnGroupItemsChangeCallback(t);this._listItemGroupToChangeListeners.set(t,a),t.items.on("change",a)}_deregisterFocusableItemsGroup(t){for(const s of t.items)this._deregisterFocusableListItem(s);t.items.off("change",this._listItemGroupToChangeListeners.get(t)),this._listItemGroupToChangeListeners.delete(t)}}class jL extends on{constructor(t){super(t);const s=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",s.if("isVisible","ck-hidden",a=>!a)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class Nre extends on{constructor(t){super(t),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var tC=o(4791),s_={attributes:{"data-cke":!0}};s_.setAttributes=Tt(),s_.insert=Ot().bind(null,"head"),s_.domAPI=Rt(),s_.insertStyleElement=Mt(),It()(tC.Z,s_),tC.Z&&tC.Z.locals&&tC.Z.locals;class nC extends on{constructor(t){super(t);const s=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new _a,this.focusTracker=new Hi,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",s.to("class"),s.if("isVisible","ck-hidden",a=>!a),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(t,s)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),s())}),this.keystrokes.set("arrowleft",(t,s)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),s())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const t=new Mn;return t.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),t.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),t.delegate("execute").to(this),t}_createArrowView(){const t=new Mn,s=t.bindTemplate;return t.icon=xx,t.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":s.to("isOn"),"aria-haspopup":!0,"aria-expanded":s.to("isOn",a=>String(a))}}),t.bind("isEnabled").to(this),t.bind("label").to(this),t.bind("tooltip").to(this),t.delegate("execute").to(this,"open"),t}}var iC=o(2704),o_={attributes:{"data-cke":!0}};o_.setAttributes=Tt(),o_.insert=Ot().bind(null,"head"),o_.domAPI=Rt(),o_.insertStyleElement=Mt(),It()(iC.Z,o_),iC.Z&&iC.Z.locals&&iC.Z.locals;var rC=o(1883),a_={attributes:{"data-cke":!0}};a_.setAttributes=Tt(),a_.insert=Ot().bind(null,"head"),a_.domAPI=Rt(),a_.insertStyleElement=Mt(),It()(rC.Z,a_),rC.Z&&rC.Z.locals&&rC.Z.locals;function Lu(f,t=Ty){const s=new t(f),a=new wc(f),d=new Yd(f,s,a);return s.bind("isEnabled").to(d),s instanceof nC?s.arrowView.bind("isOn").to(d,"isOpen"):s.bind("isOn").to(d,"isOpen"),function(p){(function(w){w.on("render",()=>{c({emitter:w,activator:()=>w.isOpen,callback:()=>{w.isOpen=!1},contextElements:()=>[w.element,...w.focusTracker._elements]})})})(p),function(w){w.on("execute",k=>{k.source instanceof xu||(w.isOpen=!1)})}(p),function(w){w.focusTracker.on("change:isFocused",(k,D,R)=>{w.isOpen&&!R&&(w.isOpen=!1)})}(p),function(w){w.keystrokes.set("arrowdown",(k,D)=>{w.isOpen&&(w.panelView.focus(),D())}),w.keystrokes.set("arrowup",(k,D)=>{w.isOpen&&(w.panelView.focusLast(),D())})}(p),function(w){w.on("change:isOpen",(k,D,R)=>{if(R)return;const M=w.panelView.element;M&&M.contains(de.document.activeElement)&&w.buttonView.focus()})}(p),function(w){w.on("change:isOpen",(k,D,R)=>{R&&w.panelView.focus()},{priority:"low"})}(p)}(d),d}function FP(f,t,s={}){f.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),f.isOpen?IL(f,t,s):f.once("change:isOpen",()=>IL(f,t,s),{priority:"highest"}),s.enableActiveItemFocusOnDropdownOpen&&ML(f,()=>f.toolbarView.items.find(a=>a.isOn))}function IL(f,t,s){const a=f.locale,d=a.t,p=f.toolbarView=new OP(a),w=typeof t=="function"?t():t;p.ariaLabel=s.ariaLabel||d("Dropdown toolbar"),s.maxWidth&&(p.maxWidth=s.maxWidth),s.class&&(p.class=s.class),s.isCompact&&(p.isCompact=s.isCompact),s.isVertical&&(p.isVertical=!0),w instanceof Lo?p.items.bindTo(w).using(k=>k):p.items.addMany(w),f.panelView.children.add(p),p.items.delegate("execute").to(f)}function sC(f,t,s={}){f.isOpen?RL(f,t,s):f.once("change:isOpen",()=>RL(f,t,s),{priority:"highest"}),ML(f,()=>f.listView.items.find(a=>a instanceof jL&&a.children.first.isOn))}function RL(f,t,s){const a=f.locale,d=f.listView=new PL(a),p=typeof t=="function"?t():t;d.ariaLabel=s.ariaLabel,d.role=s.role,OL(f,d.items,p,a),f.panelView.children.add(d),d.items.delegate("execute").to(f)}function ML(f,t){f.on("change:isOpen",()=>{if(!f.isOpen)return;const s=t();s&&(typeof s.focus=="function"?s.focus():K("ui-dropdown-focus-child-on-open-child-missing-focus",{view:s}))},{priority:F.low-10})}function OL(f,t,s,a){t.bindTo(s).using(d=>{if(d.type==="separator")return new Nre(a);if(d.type==="group"){const p=new QA(a);return p.set({label:d.label}),OL(f,p.items,d.items,a),p.items.delegate("execute").to(f),p}if(d.type==="button"||d.type==="switchbutton"){const p=new jL(a);let w;return w=d.type==="button"?new Mn(a):new xu(a),w.bind(...Object.keys(d.model)).to(d.model),w.delegate("execute").to(p),p.children.add(w),p}return null})}const oC=(f,t,s)=>{const a=new wx(f.locale);return a.set({id:t,ariaDescribedById:s}),a.bind("isReadOnly").to(f,"isEnabled",d=>!d),a.bind("hasError").to(f,"errorText",d=>!!d),a.on("input",()=>{f.errorText=null}),f.bind("isEmpty","isFocused","placeholder").to(a),a},l_=(f,t=0,s=1)=>f>s?s:f<t?t:f,ps=(f,t=0,s=Math.pow(10,t))=>Math.round(s*f)/s,UP=f=>(f[0]==="#"&&(f=f.substring(1)),f.length<6?{r:parseInt(f[0]+f[0],16),g:parseInt(f[1]+f[1],16),b:parseInt(f[2]+f[2],16),a:f.length===4?ps(parseInt(f[3]+f[3],16)/255,2):1}:{r:parseInt(f.substring(0,2),16),g:parseInt(f.substring(2,4),16),b:parseInt(f.substring(4,6),16),a:f.length===8?ps(parseInt(f.substring(6,8),16)/255,2):1}),Pre=({h:f,s:t,v:s,a})=>{const d=(200-t)*s/100;return{h:ps(f),s:ps(d>0&&d<200?t*s/100/(d<=100?d:200-d)*100:0),l:ps(d/2),a:ps(a,2)}},LP=f=>{const{h:t,s,l:a}=Pre(f);return`hsl(${t}, ${s}%, ${a}%)`},jre=({h:f,s:t,v:s,a})=>{f=f/360*6,t/=100,s/=100;const d=Math.floor(f),p=s*(1-t),w=s*(1-(f-d)*t),k=s*(1-(1-f+d)*t),D=d%6;return{r:ps(255*[s,w,p,p,k,s][D]),g:ps(255*[k,s,s,w,p,p][D]),b:ps(255*[p,p,k,s,s,w][D]),a:ps(a,2)}},aC=f=>{const t=f.toString(16);return t.length<2?"0"+t:t},Ire=({r:f,g:t,b:s,a})=>{const d=a<1?aC(ps(255*a)):"";return"#"+aC(f)+aC(t)+aC(s)+d},Rre=({r:f,g:t,b:s,a})=>{const d=Math.max(f,t,s),p=d-Math.min(f,t,s),w=p?d===f?(t-s)/p:d===t?2+(s-f)/p:4+(f-t)/p:0;return{h:ps(60*(w<0?w+6:w)),s:ps(d?p/d*100:0),v:ps(d/255*100),a}},FL=(f,t)=>{if(f===t)return!0;for(const s in f)if(f[s]!==t[s])return!1;return!0},UL={},LL=f=>{let t=UL[f];return t||(t=document.createElement("template"),t.innerHTML=f,UL[f]=t),t},BP=(f,t,s)=>{f.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:s}))};let tv=!1;const zP=f=>"touches"in f,BL=(f,t)=>{const s=zP(t)?t.touches[0]:t,a=f.el.getBoundingClientRect();BP(f.el,"move",f.getMove({x:l_((s.pageX-(a.left+window.pageXOffset))/a.width),y:l_((s.pageY-(a.top+window.pageYOffset))/a.height)}))};class zL{constructor(t,s,a,d){const p=LL(`<div role="slider" tabindex="0" part="${s}" ${a}><div part="${s}-pointer"></div></div>`);t.appendChild(p.content.cloneNode(!0));const w=t.querySelector(`[part=${s}]`);w.addEventListener("mousedown",this),w.addEventListener("touchstart",this),w.addEventListener("keydown",this),this.el=w,this.xy=d,this.nodes=[w.firstChild,w]}set dragging(t){const s=t?document.addEventListener:document.removeEventListener;s(tv?"touchmove":"mousemove",this),s(tv?"touchend":"mouseup",this)}handleEvent(t){switch(t.type){case"mousedown":case"touchstart":if(t.preventDefault(),!(s=>!(tv&&!zP(s)||(tv||(tv=zP(s)),0)))(t)||!tv&&t.button!=0)return;this.el.focus(),BL(this,t),this.dragging=!0;break;case"mousemove":case"touchmove":t.preventDefault(),BL(this,t);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":((s,a)=>{const d=a.keyCode;d>40||s.xy&&d<37||d<33||(a.preventDefault(),BP(s.el,"move",s.getMove({x:d===39?.01:d===37?-.01:d===34?.05:d===33?-.05:d===35?1:d===36?-1:0,y:d===40?.01:d===38?-.01:0},!0)))})(this,t)}}style(t){t.forEach((s,a)=>{for(const d in s)this.nodes[a].style.setProperty(d,s[d])})}}class Mre extends zL{constructor(t){super(t,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:t}){this.h=t,this.style([{left:t/360*100+"%",color:LP({h:t,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${ps(t)}`)}getMove(t,s){return{h:s?l_(this.h+360*t.x,0,360):360*t.x}}}class Ore extends zL{constructor(t){super(t,"saturation",'aria-label="Color"',!0)}update(t){this.hsva=t,this.style([{top:100-t.v+"%",left:`${t.s}%`,color:LP(t)},{"background-color":LP({h:t.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${ps(t.s)}%, Brightness ${ps(t.v)}%`)}getMove(t,s){return{s:s?l_(this.hsva.s+100*t.x,0,100):100*t.x,v:s?l_(this.hsva.v-100*t.y,0,100):Math.round(100-100*t.y)}}}const lC=Symbol("same"),VP=Symbol("color"),VL=Symbol("hsva"),WP=Symbol("update"),WL=Symbol("parts"),$L=Symbol("css"),qL=Symbol("sliders");class Fre extends HTMLElement{static get observedAttributes(){return["color"]}get[$L](){return[':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',"[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}","[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}"]}get[qL](){return[Ore,Mre]}get color(){return this[VP]}set color(t){if(!this[lC](t)){const s=this.colorModel.toHsva(t);this[WP](s),this[VP]=t}}constructor(){super();const t=LL(`<style>${this[$L].join("")}</style>`),s=this.attachShadow({mode:"open"});s.appendChild(t.content.cloneNode(!0)),s.addEventListener("move",this),this[WL]=this[qL].map(a=>new a(s))}connectedCallback(){if(this.hasOwnProperty("color")){const t=this.color;delete this.color,this.color=t}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(t,s,a){const d=this.colorModel.fromAttr(a);this[lC](d)||(this.color=d)}handleEvent(t){const s=this[VL],a={...s,...t.detail};let d;this[WP](a),FL(a,s)||this[lC](d=this.colorModel.fromHsva(a))||(this[VP]=d,BP(this,"color-changed",{value:d}))}[lC](t){return this.color&&this.colorModel.equal(t,this.color)}[WP](t){this[VL]=t,this[WL].forEach(s=>s.update(t))}}const Ure={defaultColor:"#000",toHsva:f=>Rre(UP(f)),fromHsva:({h:f,s:t,v:s})=>Ire(jre({h:f,s:t,v:s,a:1})),equal:(f,t)=>f.toLowerCase()===t.toLowerCase()||FL(UP(f),UP(t)),fromAttr:f=>f};class Lre extends Fre{get colorModel(){return Ure}}customElements.define("hex-color-picker",class extends Lre{});var cC=o(4257),c_={attributes:{"data-cke":!0}};c_.setAttributes=Tt(),c_.insert=Ot().bind(null,"head"),c_.domAPI=Rt(),c_.insertStyleElement=Mt(),It()(cC.Z,c_),cC.Z&&cC.Z.locals&&cC.Z.locals;var uC=o(6306),u_={attributes:{"data-cke":!0}};u_.setAttributes=Tt(),u_.insert=Ot().bind(null,"head"),u_.domAPI=Rt(),u_.insertStyleElement=Mt(),It()(uC.Z,u_),uC.Z&&uC.Z.locals&&uC.Z.locals;class Bre{constructor(t){this._components=new Map,this.editor=t}*names(){for(const t of this._components.values())yield t.originalName}add(t,s){this._components.set($P(t),{callback:s,originalName:t})}create(t){if(!this.has(t))throw new B("componentfactory-item-missing",this,{name:t});return this._components.get($P(t)).callback(this.editor.locale)}has(t){return this._components.has($P(t))}}function $P(f){return String(f).toLowerCase()}var dC=o(4460),d_={attributes:{"data-cke":!0}};d_.setAttributes=Tt(),d_.insert=Ot().bind(null,"head"),d_.domAPI=Rt(),d_.insertStyleElement=Mt(),It()(dC.Z,d_),dC.Z&&dC.Z.locals&&dC.Z.locals;const HL=Lr("px"),GL=de.document.body,zre={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}};class Bs extends on{constructor(t){super(t);const s=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",s.to("position",a=>`ck-balloon-panel_${a}`),s.if("isVisible","ck-balloon-panel_visible"),s.if("withArrow","ck-balloon-panel_with-arrow"),s.to("class")],style:{top:s.to("top",HL),left:s.to("left",HL)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(t){this.show();const s=Bs.defaultPositions,a=Object.assign({},{element:this.element,positions:[s.southArrowNorth,s.southArrowNorthMiddleWest,s.southArrowNorthMiddleEast,s.southArrowNorthWest,s.southArrowNorthEast,s.northArrowSouth,s.northArrowSouthMiddleWest,s.northArrowSouthMiddleEast,s.northArrowSouthWest,s.northArrowSouthEast,s.viewportStickyNorth],limiter:GL,fitInViewport:!0},t),d=Bs._getOptimalPosition(a)||zre,p=parseInt(d.left),w=parseInt(d.top),k=d.name,D=d.config||{},{withArrow:R=!0}=D;this.top=w,this.left=p,this.position=k,this.withArrow=R}pin(t){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(t):this._stopPinning()},this._startPinning(t),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(t){this.attachTo(t);const s=qP(t.target),a=t.limiter?qP(t.limiter):GL;this.listenTo(de.document,"scroll",(d,p)=>{const w=p.target,k=s&&w.contains(s),D=a&&w.contains(a);!k&&!D&&s&&a||this.attachTo(t)},{useCapture:!0}),this.listenTo(de.window,"resize",()=>{this.attachTo(t)})}_stopPinning(){this.stopListening(de.document,"scroll"),this.stopListening(de.window,"resize")}}function qP(f){return $n(f)?f:Ze(f)?f.commonAncestorContainer:typeof f=="function"?qP(f()):null}function XL(f={}){const{sideOffset:t=Bs.arrowSideOffset,heightOffset:s=Bs.arrowHeightOffset,stickyVerticalOffset:a=Bs.stickyVerticalOffset,config:d}=f;return{northWestArrowSouthWest:(k,D)=>({top:p(k,D),left:k.left-t,name:"arrow_sw",...d&&{config:d}}),northWestArrowSouthMiddleWest:(k,D)=>({top:p(k,D),left:k.left-.25*D.width-t,name:"arrow_smw",...d&&{config:d}}),northWestArrowSouth:(k,D)=>({top:p(k,D),left:k.left-D.width/2,name:"arrow_s",...d&&{config:d}}),northWestArrowSouthMiddleEast:(k,D)=>({top:p(k,D),left:k.left-.75*D.width+t,name:"arrow_sme",...d&&{config:d}}),northWestArrowSouthEast:(k,D)=>({top:p(k,D),left:k.left-D.width+t,name:"arrow_se",...d&&{config:d}}),northArrowSouthWest:(k,D)=>({top:p(k,D),left:k.left+k.width/2-t,name:"arrow_sw",...d&&{config:d}}),northArrowSouthMiddleWest:(k,D)=>({top:p(k,D),left:k.left+k.width/2-.25*D.width-t,name:"arrow_smw",...d&&{config:d}}),northArrowSouth:(k,D)=>({top:p(k,D),left:k.left+k.width/2-D.width/2,name:"arrow_s",...d&&{config:d}}),northArrowSouthMiddleEast:(k,D)=>({top:p(k,D),left:k.left+k.width/2-.75*D.width+t,name:"arrow_sme",...d&&{config:d}}),northArrowSouthEast:(k,D)=>({top:p(k,D),left:k.left+k.width/2-D.width+t,name:"arrow_se",...d&&{config:d}}),northEastArrowSouthWest:(k,D)=>({top:p(k,D),left:k.right-t,name:"arrow_sw",...d&&{config:d}}),northEastArrowSouthMiddleWest:(k,D)=>({top:p(k,D),left:k.right-.25*D.width-t,name:"arrow_smw",...d&&{config:d}}),northEastArrowSouth:(k,D)=>({top:p(k,D),left:k.right-D.width/2,name:"arrow_s",...d&&{config:d}}),northEastArrowSouthMiddleEast:(k,D)=>({top:p(k,D),left:k.right-.75*D.width+t,name:"arrow_sme",...d&&{config:d}}),northEastArrowSouthEast:(k,D)=>({top:p(k,D),left:k.right-D.width+t,name:"arrow_se",...d&&{config:d}}),southWestArrowNorthWest:k=>({top:w(k),left:k.left-t,name:"arrow_nw",...d&&{config:d}}),southWestArrowNorthMiddleWest:(k,D)=>({top:w(k),left:k.left-.25*D.width-t,name:"arrow_nmw",...d&&{config:d}}),southWestArrowNorth:(k,D)=>({top:w(k),left:k.left-D.width/2,name:"arrow_n",...d&&{config:d}}),southWestArrowNorthMiddleEast:(k,D)=>({top:w(k),left:k.left-.75*D.width+t,name:"arrow_nme",...d&&{config:d}}),southWestArrowNorthEast:(k,D)=>({top:w(k),left:k.left-D.width+t,name:"arrow_ne",...d&&{config:d}}),southArrowNorthWest:k=>({top:w(k),left:k.left+k.width/2-t,name:"arrow_nw",...d&&{config:d}}),southArrowNorthMiddleWest:(k,D)=>({top:w(k),left:k.left+k.width/2-.25*D.width-t,name:"arrow_nmw",...d&&{config:d}}),southArrowNorth:(k,D)=>({top:w(k),left:k.left+k.width/2-D.width/2,name:"arrow_n",...d&&{config:d}}),southArrowNorthMiddleEast:(k,D)=>({top:w(k),left:k.left+k.width/2-.75*D.width+t,name:"arrow_nme",...d&&{config:d}}),southArrowNorthEast:(k,D)=>({top:w(k),left:k.left+k.width/2-D.width+t,name:"arrow_ne",...d&&{config:d}}),southEastArrowNorthWest:k=>({top:w(k),left:k.right-t,name:"arrow_nw",...d&&{config:d}}),southEastArrowNorthMiddleWest:(k,D)=>({top:w(k),left:k.right-.25*D.width-t,name:"arrow_nmw",...d&&{config:d}}),southEastArrowNorth:(k,D)=>({top:w(k),left:k.right-D.width/2,name:"arrow_n",...d&&{config:d}}),southEastArrowNorthMiddleEast:(k,D)=>({top:w(k),left:k.right-.75*D.width+t,name:"arrow_nme",...d&&{config:d}}),southEastArrowNorthEast:(k,D)=>({top:w(k),left:k.right-D.width+t,name:"arrow_ne",...d&&{config:d}}),westArrowEast:(k,D)=>({top:k.top+k.height/2-D.height/2,left:k.left-D.width-s,name:"arrow_e",...d&&{config:d}}),eastArrowWest:(k,D)=>({top:k.top+k.height/2-D.height/2,left:k.right+s,name:"arrow_w",...d&&{config:d}}),viewportStickyNorth:(k,D,R,M)=>{const L=M||R;return k.getIntersection(L)?L.height-k.height>a?null:{top:L.top+a,left:k.left+k.width/2-D.width/2,name:"arrowless",config:{withArrow:!1,...d}}:null}};function p(k,D){return k.top-D.height-s}function w(k){return k.bottom+s}}Bs.arrowSideOffset=25,Bs.arrowHeightOffset=10,Bs.stickyVerticalOffset=20,Bs._getOptimalPosition=cs,Bs.defaultPositions=XL();var hC=o(3888),h_={attributes:{"data-cke":!0}};h_.setAttributes=Tt(),h_.insert=Ot().bind(null,"head"),h_.domAPI=Rt(),h_.insertStyleElement=Mt(),It()(hC.Z,h_),hC.Z&&hC.Z.locals&&hC.Z.locals;const KL="ck-tooltip";class Wr extends ur(){constructor(t){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,Wr._editors.add(t),Wr._instance)return Wr._instance;Wr._instance=this,this.tooltipTextView=new on(t.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Bs(t.locale),this.balloonPanelView.class=KL,this.balloonPanelView.content.add(this.tooltipTextView),this._pinTooltipDebounced=ih(this._pinTooltip,600),this.listenTo(de.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(de.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(de.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(de.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(de.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(t){const s=t.ui.view&&t.ui.view.body;Wr._editors.delete(t),this.stopListening(t.ui),s&&s.has(this.balloonPanelView)&&s.remove(this.balloonPanelView),Wr._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Wr._instance=null)}static getPositioningFunctions(t){const s=Wr.defaultBalloonPositions;return{s:[s.southArrowNorth,s.southArrowNorthEast,s.southArrowNorthWest],n:[s.northArrowSouth],e:[s.eastArrowWest],w:[s.westArrowEast],sw:[s.southArrowNorthEast],se:[s.southArrowNorthWest]}[t]}_onEnterOrFocus(t,{target:s}){const a=HP(s);var d;a&&a!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(a,{text:(d=a).dataset.ckeTooltipText,position:d.dataset.ckeTooltipPosition||"s",cssClass:d.dataset.ckeTooltipClass||""}))}_onLeaveOrBlur(t,{target:s,relatedTarget:a}){if(t.name==="mouseleave"){if(!$n(s)||this._currentElementWithTooltip&&s!==this._currentElementWithTooltip)return;const d=HP(s),p=HP(a);d&&d!==p&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&s!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(t,{target:s}){this._currentElementWithTooltip&&(s.contains(this.balloonPanelView.element)&&s.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(t,{text:s,position:a,cssClass:d}){const p=ci(Wr._editors.values()).ui.view.body;p.has(this.balloonPanelView)||p.add(this.balloonPanelView),this.tooltipTextView.text=s,this.balloonPanelView.pin({target:t,positions:Wr.getPositioningFunctions(a)}),this._resizeObserver=new wn(t,()=>{Ai(t)||this._unpinTooltip()}),this.balloonPanelView.class=[KL,d].filter(w=>w).join(" ");for(const w of Wr._editors)this.listenTo(w.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=t,this._currentTooltipPosition=a}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const t of Wr._editors)this.stopListening(t.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){Ai(this._currentElementWithTooltip)?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Wr.getPositioningFunctions(this._currentTooltipPosition)}):this._unpinTooltip()}}function HP(f){return $n(f)?f.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}Wr.defaultBalloonPositions=XL({heightOffset:5,sideOffset:13}),Wr._editors=new Set,Wr._instance=null;const f_=function(f,t,s){var a=!0,d=!0;if(typeof f!="function")throw new TypeError("Expected a function");return Oe(s)&&(a="leading"in s?!!s.leading:a,d="trailing"in s?!!s.trailing:d),ih(f,t,{leading:a,maxWait:t,trailing:d})},Vre=50,Wre=350,$re="Powered by";class qre extends ur(){constructor(t){super(),this.editor=t,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=f_(this._showBalloon.bind(this),50,{leading:!0}),t.on("ready",this._handleEditorReady.bind(this))}destroy(){const t=this._balloonView;t&&(t.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const t=this.editor;(t.config.get("ui.poweredBy.forceVisible")||function(s){function a(J){return J.length>=40&&J.length<=255?"VALID":"INVALID"}if(!s)return"INVALID";let d="";try{d=atob(s)}catch{return"INVALID"}const p=d.split("-"),w=p[0],k=p[1];if(!k)return a(s);try{atob(k)}catch{try{if(atob(w),!atob(w).length)return a(s)}catch{return a(s)}}if(w.length<40||w.length>255)return"INVALID";let D="";try{atob(w),D=atob(k)}catch{return"INVALID"}if(D.length!==8)return"INVALID";const R=Number(D.substring(0,4)),M=Number(D.substring(4,6))-1,L=Number(D.substring(6,8)),W=new Date(R,M,L);return W<ge||isNaN(Number(W))?"INVALID":"VALID"}(t.config.get("licenseKey"))!=="VALID")&&t.ui.view&&(t.ui.focusTracker.on("change:isFocused",(s,a,d)=>{this._updateLastFocusedEditableElement(),d?this._showBalloon():this._hideBalloon()}),t.ui.focusTracker.on("change:focusedElement",(s,a,d)=>{this._updateLastFocusedEditableElement(),d&&this._showBalloon()}),t.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const t=this.editor,s=this._balloonView=new Bs,a=ZL(t),d=new Hre(t.locale,a.label);s.content.add(d),s.set({class:"ck-powered-by-balloon"}),t.ui.view.body.add(s),t.ui.focusTracker.add(s.element),this._balloonView=s}_showBalloon(){if(!this._lastFocusedEditableElement)return;const t=function(s,a){const d=ZL(s),p=d.side==="right"?function(w,k){return YL(w,k,(D,R)=>D.left+D.width-R.width-k.horizontalOffset)}(a,d):function(w,k){return YL(w,k,D=>D.left+k.horizontalOffset)}(a,d);return{target:a,positions:[p]}}(this.editor,this._lastFocusedEditableElement);t&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(t))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const t=this.editor,s=t.ui.focusTracker.isFocused,a=t.ui.focusTracker.focusedElement;if(!s||!a)return void(this._lastFocusedEditableElement=null);const d=Array.from(t.ui.getEditableElementsNames()).map(p=>t.ui.getEditableElement(p));d.includes(a)?this._lastFocusedEditableElement=a:this._lastFocusedEditableElement=d[0]}}class Hre extends on{constructor(t,s){super(t);const a=new zo,d=this.bindTemplate;a.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),a.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...s?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[s]}]:[],a],on:{dragstart:d.to(p=>p.preventDefault())}}]})}}function YL(f,t,s){return(a,d)=>{const p=new vt(f);if(p.width<Wre||p.height<Vre)return null;let w;w=t.position==="inside"?p.bottom-d.height:p.bottom-d.height/2,w-=t.verticalOffset;const k=s(p,d),D=a.clone().moveTo(k,w).getIntersection(d.clone().moveTo(k,w)).getVisible();return!D||D.getArea()<d.getArea()?null:{top:w,left:k,name:`position_${t.position}-side_${t.side}`,config:{withArrow:!1}}}}function ZL(f){const t=f.config.get("ui.poweredBy"),s=t&&t.position||"border";return{position:s,label:$re,verticalOffset:s==="inside"?5:0,horizontalOffset:5,side:f.locale.contentLanguageDirection==="ltr"?"right":"left",...t}}class Gre extends ze(){constructor(t){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const s=t.editing.view;this.editor=t,this.componentFactory=new Bre(t),this.focusTracker=new Hi,this.tooltipManager=new Wr(t),this.poweredBy=new qre(t),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(s.document,"layoutChanged",this.update.bind(this)),this.listenTo(s,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const t of this._editableElementsMap.values())t.ckeditorInstance=null,this.editor.keystrokes.stopListening(t);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(t,s){this._editableElementsMap.set(t,s),s.ckeditorInstance||(s.ckeditorInstance=this.editor),this.focusTracker.add(s);const a=()=>{this.editor.editing.view.getDomRoot(t)||this.editor.keystrokes.listenTo(s)};this.isReady?a():this.once("ready",a)}removeEditableElement(t){const s=this._editableElementsMap.get(t);s&&(this._editableElementsMap.delete(t),this.editor.keystrokes.stopListening(s),this.focusTracker.remove(s),s.ckeditorInstance=null)}getEditableElement(t="main"){return this._editableElementsMap.get(t)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(t,s={}){t.isRendered?(this.focusTracker.add(t.element),this.editor.keystrokes.listenTo(t.element)):t.once("render",()=>{this.focusTracker.add(t.element),this.editor.keystrokes.listenTo(t.element)}),this._focusableToolbarDefinitions.push({toolbarView:t,options:s})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const t=this.editor,s=t.config.get("ui.viewportOffset");if(s)return s;const a=t.config.get("toolbar.viewportTopOffset");return a?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:a}):{top:0}}_initFocusTracking(){const t=this.editor,s=t.editing.view;let a,d;t.keystrokes.set("Alt+F10",(p,w)=>{const k=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(k)&&!Array.from(s.domRoots.values()).includes(k)&&(a=k);const D=this._getCurrentFocusedToolbarDefinition();D&&d||(d=this._getFocusableCandidateToolbarDefinitions());for(let R=0;R<d.length;R++){const M=d.shift();if(d.push(M),M!==D&&this._focusFocusableCandidateToolbar(M)){D&&D.options.afterBlur&&D.options.afterBlur();break}}w()}),t.keystrokes.set("Esc",(p,w)=>{const k=this._getCurrentFocusedToolbarDefinition();k&&(a?(a.focus(),a=null):t.editing.view.focus(),k.options.afterBlur&&k.options.afterBlur(),w())})}_getFocusableCandidateToolbarDefinitions(){const t=[];for(const s of this._focusableToolbarDefinitions){const{toolbarView:a,options:d}=s;(Ai(a.element)||d.beforeFocus)&&t.push(s)}return t.sort((s,a)=>JL(s)-JL(a)),t}_getCurrentFocusedToolbarDefinition(){for(const t of this._focusableToolbarDefinitions)if(t.toolbarView.element&&t.toolbarView.element.contains(this.focusTracker.focusedElement))return t;return null}_focusFocusableCandidateToolbar(t){const{toolbarView:s,options:{beforeFocus:a}}=t;return a&&a(),!!Ai(s.element)&&(s.focus(),!0)}_handleScrollToTheSelection(t,s){const a={top:0,bottom:0,left:0,right:0,...this.viewportOffset};s.viewportOffset.top+=a.top,s.viewportOffset.bottom+=a.bottom,s.viewportOffset.left+=a.left,s.viewportOffset.right+=a.right}}function JL(f){const{toolbarView:t,options:s}=f;let a=10;return Ai(t.element)&&a--,s.isContextual&&a--,a}var fC=o(9847),p_={attributes:{"data-cke":!0}};p_.setAttributes=Tt(),p_.insert=Ot().bind(null,"head"),p_.domAPI=Rt(),p_.insertStyleElement=Mt(),It()(fC.Z,p_),fC.Z&&fC.Z.locals&&fC.Z.locals;class Xre extends on{constructor(t){super(t),this.body=new kg(t)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class Kre extends Xre{constructor(t){super(t),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:t.uiLanguageDirection,lang:t.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const t=this.t,s=new Xf;return s.text=t("Rich Text Editor"),s.extendTemplate({attributes:{class:"ck-voice-label"}}),s}}class Yre extends on{constructor(t,s,a){super(t),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:t.contentLanguage,dir:t.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=a,this._hasExternalElement=!!this._editableElement,this._editingView=s}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const t=this._editingView;function s(a){t.change(d=>{const p=t.document.getRoot(a.name);d.addClass(a.isFocused?"ck-focused":"ck-blurred",p),d.removeClass(a.isFocused?"ck-blurred":"ck-focused",p)})}t.isRenderingInProgress?function a(d){t.once("change:isRenderingInProgress",(p,w,k)=>{k?a(d):s(d)})}(this):s(this)}}class Zre extends Yre{constructor(t,s,a,d={}){super(t,s,a);const p=t.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=d.label||(()=>p("Editor editing area: %0",this.name))}render(){super.render();const t=this._editingView;t.change(s=>{const a=t.document.getRoot(this.name);s.setAttribute("aria-label",this._generateLabel(this),a)})}}var pC=o(1874),m_={attributes:{"data-cke":!0}};m_.setAttributes=Tt(),m_.insert=Ot().bind(null,"head"),m_.domAPI=Rt(),m_.insertStyleElement=Mt(),It()(pC.Z,m_),pC.Z&&pC.Z.locals&&pC.Z.locals;class QL extends Jf{static get pluginName(){return"Notification"}init(){this.on("show:warning",(t,s)=>{window.alert(s.message)},{priority:"lowest"})}showSuccess(t,s={}){this._showNotification({message:t,type:"success",namespace:s.namespace,title:s.title})}showInfo(t,s={}){this._showNotification({message:t,type:"info",namespace:s.namespace,title:s.title})}showWarning(t,s={}){this._showNotification({message:t,type:"warning",namespace:s.namespace,title:s.title})}_showNotification(t){const s=t.namespace?`show:${t.type}:${t.namespace}`:`show:${t.type}`;this.fire(s,{message:t.message,type:t.type,title:t.title||""})}}class mC extends ze(){constructor(t,s){super(),s&&Ac(this,s),t&&this.set(t)}}var gC=o(7592),g_={attributes:{"data-cke":!0}};g_.setAttributes=Tt(),g_.insert=Ot().bind(null,"head"),g_.domAPI=Rt(),g_.insertStyleElement=Mt(),It()(gC.Z,g_),gC.Z&&gC.Z.locals&&gC.Z.locals;var bC=o(6356),b_={attributes:{"data-cke":!0}};b_.setAttributes=Tt(),b_.insert=Ot().bind(null,"head"),b_.domAPI=Rt(),b_.insertStyleElement=Mt(),It()(bC.Z,b_),bC.Z&&bC.Z.locals&&bC.Z.locals;const yC=Lr("px");class vC extends it{static get pluginName(){return"ContextualBalloon"}constructor(t){super(t),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const s=this.editor.editing.view,a=s.document.selection.editableElement;return a?s.domConverter.mapViewToDom(a.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(t){return Array.from(this._viewToStack.keys()).includes(t)}add(t){if(this._view||this._createPanelView(),this.hasView(t.view))throw new B("contextualballoon-add-view-exist",[this,t]);const s=t.stackId||"main";if(!this._idToStack.has(s))return this._idToStack.set(s,new Map([[t.view,t]])),this._viewToStack.set(t.view,this._idToStack.get(s)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!t.singleViewMode||this.showStack(s));const a=this._idToStack.get(s);t.singleViewMode&&this.showStack(s),a.set(t.view,t),this._viewToStack.set(t.view,a),a===this._visibleStack&&this._showView(t)}remove(t){if(!this.hasView(t))throw new B("contextualballoon-remove-view-not-exist",[this,t]);const s=this._viewToStack.get(t);this._singleViewMode&&this.visibleView===t&&(this._singleViewMode=!1),this.visibleView===t&&(s.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(s.values())[s.size-2])),s.size===1?(this._idToStack.delete(this._getStackId(s)),this._numberOfStacks=this._idToStack.size):s.delete(t),this._viewToStack.delete(t)}updatePosition(t){t&&(this._visibleStack.get(this.visibleView).position=t),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(t){this.visibleStack=t;const s=this._idToStack.get(t);if(!s)throw new B("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==s&&this._showView(Array.from(s.values()).pop())}_createPanelView(){this._view=new Bs(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(t){return Array.from(this._idToStack.entries()).find(s=>s[1]===t)[0]}_showNextStack(){const t=Array.from(this._idToStack.values());let s=t.indexOf(this._visibleStack)+1;t[s]||(s=0),this.showStack(this._getStackId(t[s]))}_showPrevStack(){const t=Array.from(this._idToStack.values());let s=t.indexOf(this._visibleStack)-1;t[s]||(s=t.length-1),this.showStack(this._getStackId(t[s]))}_createRotatorView(){const t=new Jre(this.editor.locale),s=this.editor.locale.t;return this.view.content.add(t),t.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(a,d)=>!d&&a>1),t.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),t.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(a,d)=>{if(d<2)return"";const p=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return s("%0 of %1",[p,d])}),t.buttonNextView.on("execute",()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),t.buttonPrevView.on("execute",()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),t}_createFakePanelsView(){const t=new Qre(this.editor.locale,this.view);return t.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(s,a)=>!a&&s>=2?Math.min(s-1,2):0),t.listenTo(this.view,"change:top",()=>t.updatePosition()),t.listenTo(this.view,"change:left",()=>t.updatePosition()),this.editor.ui.view.body.add(t),t}_showView({view:t,balloonClassName:s="",withArrow:a=!0,singleViewMode:d=!1}){this.view.class=s,this.view.withArrow=a,this._rotatorView.showView(t),this.visibleView=t,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),d&&(this._singleViewMode=!0)}_getBalloonPosition(){let t=Array.from(this._visibleStack.values()).pop().position;return t&&(t.limiter||(t=Object.assign({},t,{limiter:this.positionLimiter})),t=Object.assign({},t,{viewportOffsetConfig:this.editor.ui.viewportOffset})),t}}class Jre extends on{constructor(t){super(t);const s=t.t,a=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Hi,this.buttonPrevView=this._createButtonView(s("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(s("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",a.to("isNavigationVisible",d=>d?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:a.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(t){this.hideView(),this.content.add(t)}hideView(){this.content.clear()}_createButtonView(t,s){const a=new Mn(this.locale);return a.set({label:t,icon:s,tooltip:!0}),a}}class Qre extends on{constructor(t,s){super(t);const a=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=s,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",a.to("numberOfPanels",d=>d?"":"ck-hidden")],style:{top:a.to("top",yC),left:a.to("left",yC),width:a.to("width",yC),height:a.to("height",yC)}},children:this.content}),this.on("change:numberOfPanels",(d,p,w,k)=>{w>k?this._addPanels(w-k):this._removePanels(k-w),this.updatePosition()})}_addPanels(t){for(;t--;){const s=new on;s.setTemplate({tag:"div"}),this.content.add(s),this.registerChild(s)}}_removePanels(t){for(;t--;){const s=this.content.last;this.content.remove(s),this.deregisterChild(s),s.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:t,left:s}=this._balloonPanelView,{width:a,height:d}=new vt(this._balloonPanelView.element);Object.assign(this,{top:t,left:s,width:a,height:d})}}}var wC=o(3707),y_={attributes:{"data-cke":!0}};y_.setAttributes=Tt(),y_.insert=Ot().bind(null,"head"),y_.domAPI=Rt(),y_.insertStyleElement=Mt(),It()(wC.Z,y_),wC.Z&&wC.Z.locals&&wC.Z.locals;const nv=Lr("px");class ese extends on{constructor(t){super(t);const s=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new dr({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:s.to("isSticky",a=>a?"block":"none"),height:s.to("isSticky",a=>a?nv(this._contentPanelRect.height):null)}}}).render(),this._contentPanel=new dr({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",s.if("isSticky","ck-sticky-panel__content_sticky"),s.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:s.to("isSticky",a=>a?nv(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:s.to("_stickyTopOffset",a=>a&&nv(a)),bottom:s.to("_stickyBottomOffset",a=>a&&nv(a)),marginLeft:s.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(de.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive)return void this._unstick();const t=new vt(this.limiterElement);let s=t.getVisible();if(s){const a=new vt(de.window);a.top+=this.viewportTopOffset,a.height-=this.viewportTopOffset,s=s.getIntersection(a)}if(s&&t.top<s.top){const a=s.top;if(a+this._contentPanelRect.height+this.limiterBottomOffset>s.bottom){const d=Math.max(t.bottom-s.bottom,0)+this.limiterBottomOffset;t.bottom-d>t.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(d):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<t.height?this._stickToTopOfAncestors(a):this._unstick()}else this._unstick()}_stickToTopOfAncestors(t){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=t,this._stickyBottomOffset=null,this._marginLeft=nv(-de.window.scrollX)}_stickToBottomOfLimiter(t){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=t,this._marginLeft=nv(-de.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new vt(this._contentPanel)}}class tse extends _u{constructor(t,s){const a=t.t,d=Object.assign({},{showResetButton:!0,showIcon:!0,creator:oC},s);super(t,d.creator),this.label=s.label,this._viewConfig=d,this._viewConfig.showIcon&&(this.iconView=new zo,this.iconView.content=Kn.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new Mn(t),this.resetButtonView.set({label:a("Clear"),icon:Kn.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",p=>!p),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class nse extends on{constructor(){super();const t=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",t.if("isVisible","ck-hidden",s=>!s)],tabindex:-1},children:[{tag:"span",children:[{text:[t.to("primaryText")]}]},{tag:"span",children:[{text:[t.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class ise extends on{constructor(t){super(t),this.children=this.createCollection(),this.focusTracker=new Hi,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new xc({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const t of this.children)this.focusTracker.add(t.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var e7=/[\\^$.*+?()[\]{}|]/g,rse=RegExp(e7.source);const t7=function(f){return(f=yo(f))&&rse.test(f)?f.replace(e7,"\\$&"):f};var xC=o(9332),v_={attributes:{"data-cke":!0}};v_.setAttributes=Tt(),v_.insert=Ot().bind(null,"head"),v_.domAPI=Rt(),v_.insertStyleElement=Mt(),It()(xC.Z,v_),xC.Z&&xC.Z.locals&&xC.Z.locals;class sse extends on{constructor(t,s){super(t),this._config=s,this.filteredView=s.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new Hi,this.keystrokes=new _a,this.resultsView=new ise(t),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),s.infoView&&s.infoView.instance?this.infoView=s.infoView.instance:(this.infoView=new nse,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new xc({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(a,{resultsCount:d,totalItemsCount:p})=>{this.resultsCount=d,this.totalItemsCount=p}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",s.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const t=s=>s.stopPropagation();for(const s of this.focusableChildren)this.focusTracker.add(s.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(t){const s=t?new RegExp(t7(t),"ig"):null,a=this.filteredView.filter(s);this.fire("search",{query:t,...a})}_createSearchTextQueryView(){const t=new tse(this.locale,this._config.queryView);return this.listenTo(t.fieldView,"input",()=>{this.search(t.fieldView.element.value)}),t.on("reset",()=>this.reset()),t.bind("isEnabled").to(this),t}_enableDefaultInfoViewBehavior(){const t=this.locale.t,s=this.infoView;function a(d,{query:p,resultsCount:w,totalItemsCount:k}){return typeof d=="function"?d(p,w,k):d}this.on("search",(d,p)=>{if(p.resultsCount)s.set({isVisible:!1});else{const w=this._config.infoView&&this._config.infoView.text;let k,D;p.totalItemsCount?w&&w.notFound?(k=w.notFound.primary,D=w.notFound.secondary):(k=t("No results found"),D=""):w&&w.noSearchableItems?(k=w.noSearchableItems.primary,D=w.noSearchableItems.secondary):(k=t("No searchable items"),D=""),s.set({primaryText:a(k,p),secondaryText:a(D,p),isVisible:!0})}})}}var _C=o(4029),w_={attributes:{"data-cke":!0}};w_.setAttributes=Tt(),w_.insert=Ot().bind(null,"head"),w_.domAPI=Rt(),w_.insertStyleElement=Mt(),It()(_C.Z,w_),_C.Z&&_C.Z.locals&&_C.Z.locals;class x_ extends sse{constructor(t,s){super(t,s),this._config=s;const a=Lr("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const d=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[d.if("isVisible","ck-hidden",p=>!p),d.to("_position",p=>`ck-search__results_${p}`)],style:{width:d.to("_width",a)}}}),this.focusTracker.on("change:isFocused",(p,w,k)=>{this._updateResultsVisibility(),k?this.resultsView.element.scrollTop=0:s.resetOnBlur&&this.queryView.reset()}),this.on("search",()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()}),this.keystrokes.set("esc",(p,w)=>{this.resultsView.isVisible=!1,w()}),this.listenTo(de.document,"scroll",()=>{this._updateResultsViewWidthAndPosition()}),this.on("change:isEnabled",()=>{this._updateResultsVisibility()}),this.filteredView.on("execute",(p,{value:w})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=w,this.resultsView.isVisible=!1}),this.resultsView.on("change:isVisible",()=>{this._updateResultsViewWidthAndPosition()})}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new vt(this.queryView.fieldView.element).width;const t=x_._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:x_.defaultResultsPositions});this.resultsView._position=t?t.name:"s"}_updateResultsVisibility(){const t=this._config.queryMinChars===void 0?0:this._config.queryMinChars,s=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&s>=t}}x_.defaultResultsPositions=[f=>({top:f.bottom,left:f.left,name:"s"}),(f,t)=>({top:f.top-t.height,left:f.left,name:"n"})],x_._getOptimalPosition=cs;var kC=o(4746),__={attributes:{"data-cke":!0}};__.setAttributes=Tt(),__.insert=Ot().bind(null,"head"),__.domAPI=Rt(),__.insertStyleElement=Mt(),It()(kC.Z,__),kC.Z&&kC.Z.locals&&kC.Z.locals;var EC=o(6446),k_={attributes:{"data-cke":!0}};k_.setAttributes=Tt(),k_.insert=Ot().bind(null,"head"),k_.domAPI=Rt(),k_.insertStyleElement=Mt(),It()(EC.Z,k_),EC.Z&&EC.Z.locals&&EC.Z.locals;var SC=o(4176),E_={attributes:{"data-cke":!0}};E_.setAttributes=Tt(),E_.insert=Ot().bind(null,"head"),E_.domAPI=Rt(),E_.insertStyleElement=Mt(),It()(SC.Z,E_),SC.Z&&SC.Z.locals&&SC.Z.locals;class ose extends Gre{constructor(t,s){super(t),this.view=s,this._toolbarConfig=Ny(t.config.get("toolbar")),this._elementReplacer=new Se,this.listenTo(t.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(t){const s=this.editor,a=this.view,d=s.editing.view,p=a.editable,w=d.document.getRoot();p.name=w.rootName,a.render();const k=p.element;this.setEditableElement(p.name,k),a.editable.bind("isFocused").to(this.focusTracker),d.attachDomRoot(k),t&&this._elementReplacer.replace(t,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const t=this.view,s=this.editor.editing.view;this._elementReplacer.restore(),s.detachDomRoot(t.editable.name),t.destroy()}_initToolbar(){const t=this.view;t.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),t.stickyPanel.limiterElement=t.element,t.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:s})=>s||0),t.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(t.toolbar)}_initPlaceholder(){const t=this.editor,s=t.editing.view,a=s.document.getRoot(),d=t.sourceElement;let p;const w=t.config.get("placeholder");w&&(p=typeof w=="string"?w:w[this.view.editable.name]),!p&&d&&d.tagName.toLowerCase()==="textarea"&&(p=d.getAttribute("placeholder")),p&&(a.placeholder=p),Su({view:s,element:a,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(t,s,a){const d=this.view.stickyPanel;if(d.isSticky){const p=new vt(d.element).height;s.viewportOffset.top+=p}else{const p=()=>{this.editor.editing.view.scrollToTheSelection(a)};this.listenTo(d,"change:isSticky",p),setTimeout(()=>{this.stopListening(d,"change:isSticky",p)},20)}}}var AC=o(3624),S_={attributes:{"data-cke":!0}};S_.setAttributes=Tt(),S_.insert=Ot().bind(null,"head"),S_.domAPI=Rt(),S_.insertStyleElement=Mt(),It()(AC.Z,S_),AC.Z&&AC.Z.locals&&AC.Z.locals;class ase extends Kre{constructor(t,s,a={}){super(t),this.stickyPanel=new ese(t),this.toolbar=new OP(t,{shouldGroupWhenFull:a.shouldToolbarGroupWhenFull}),this.editable=new Zre(t,s)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class n7{constructor(t){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof t.crashNumberLimit=="number"?t.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof t.minimumNonErrorTimePeriod=="number"?t.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=s=>{const a="error"in s?s.error:s.reason;a instanceof Error&&this._handleError(a,s)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(t,s){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(s)}off(t,s){this._listeners[t]=this._listeners[t].filter(a=>a!==s)}_fire(t,...s){const a=this._listeners[t]||[];for(const d of a)d.apply(this,[null,...s])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(t,s){if(this._shouldReactToError(t)){this.crashes.push({message:t.message,stack:t.stack,filename:s instanceof ErrorEvent?s.filename:void 0,lineno:s instanceof ErrorEvent?s.lineno:void 0,colno:s instanceof ErrorEvent?s.colno:void 0,date:this._now()});const a=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:t,causesRestart:a}),a?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(t){return t.is&&t.is("CKEditorError")&&t.context!==void 0&&t.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(t)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function GP(f,t=new Set){const s=[f],a=new Set;let d=0;for(;s.length>d;){const p=s[d++];if(!a.has(p)&&lse(p)&&!t.has(p))if(a.add(p),Symbol.iterator in p)try{for(const w of p)s.push(w)}catch{}else for(const w in p)w!=="defaultValue"&&s.push(p[w])}return a}function lse(f){const t=Object.prototype.toString.call(f),s=typeof f;return!(s==="number"||s==="boolean"||s==="string"||s==="symbol"||s==="function"||t==="[object Date]"||t==="[object RegExp]"||t==="[object Module]"||f==null||f._watchdogExcluded||f instanceof EventTarget||f instanceof Event)}function i7(f,t,s=new Set){if(f===t&&typeof(a=f)=="object"&&a!==null)return!0;var a;const d=GP(f,s),p=GP(t,s);for(const w of d)if(p.has(w))return!0;return!1}class r7 extends n7{constructor(t,s={}){super(s),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=f_(this._save.bind(this),typeof s.saveInterval=="number"?s.saveInterval:5e3),t&&(this._creator=(a,d)=>t.create(a,d)),this._destructor=a=>a.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(t=>{console.error("An error happened during the editor destroying.",t)}).then(()=>{const t={},s=[],a=this._config.rootsAttributes||{},d={};for(const[w,k]of Object.entries(this._data.roots))k.isLoaded?(t[w]="",d[w]=a[w]||{}):s.push(w);const p={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:s,rootsAttributes:d,_watchdogInitialData:this._data};return delete p.initialData,p.extraPlugins.push(cse),this._initUsingData?this.create(t,p,p.context):$n(this._elementOrData)?this.create(this._elementOrData,p,p.context):this.create(this._editables,p,p.context)}).then(()=>{this._fire("restart")})}create(t=this._elementOrData,s=this._config,a){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=t,this._initUsingData=typeof t=="string"||Object.keys(t).length>0&&typeof Object.values(t)[0]=="string",this._config=this._cloneEditorConfiguration(s)||{},this._config.context=a,this._creator(t,this._config))).then(d=>{this._editor=d,d.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=d.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const t=this._editor;return this._editor=null,t.model.document.off("change:data",this._throttledSave),this._destructor(t)})}_save(){const t=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=t}catch(s){console.error(s,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(t){this._excludedProps=t}_getData(){const t=this._editor,s=t.model.document.roots.filter(k=>k.isAttached()&&k.rootName!="$graveyard"),{plugins:a}=t,d=a.has("CommentsRepository")&&a.get("CommentsRepository"),p=a.has("TrackChanges")&&a.get("TrackChanges"),w={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};s.forEach(k=>{w.roots[k.rootName]={content:JSON.stringify(Array.from(k.getChildren())),attributes:JSON.stringify(Array.from(k.getAttributes())),isLoaded:k._isLoaded}});for(const k of t.model.markers)k._affectsData&&(w.markers[k.name]={rangeJSON:k.getRange().toJSON(),usingOperation:k._managedUsingOperations,affectsData:k._affectsData});return d&&(w.commentThreads=JSON.stringify(d.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),p&&(w.suggestions=JSON.stringify(p.getSuggestions({toJSON:!0,skipNotAttached:!0}))),w}_getEditables(){const t={};for(const s of this.editor.model.document.getRootNames()){const a=this.editor.ui.getEditableElement(s);a&&(t[s]=a)}return t}_isErrorComingFromThisItem(t){return i7(this._editor,t.context,this._excludedProps)}_cloneEditorConfiguration(t){return pu(t,(s,a)=>$n(s)||a==="context"?s:void 0)}}class cse{constructor(t){this.editor=t,this._data=t.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",t=>{t.stop(),this.editor.model.enqueueChange({isUndoable:!1},s=>{this._restoreCollaborationData(),this._restoreEditorData(s)}),this.editor.data.fire("ready")},{priority:999})}_createNode(t,s){if("name"in s){const a=t.createElement(s.name,s.attributes);if(s.children)for(const d of s.children)a._appendChild(this._createNode(t,d));return a}return t.createText(s.data,s.attributes)}_restoreEditorData(t){const s=this.editor;Object.entries(this._data.roots).forEach(([a,{content:d,attributes:p}])=>{const w=JSON.parse(d),k=JSON.parse(p),D=s.model.document.getRoot(a);for(const[R,M]of k)t.setAttribute(R,M,D);for(const R of w){const M=this._createNode(t,R);t.insert(M,D,"end")}}),Object.entries(this._data.markers).forEach(([a,d])=>{const{document:p}=s.model,{rangeJSON:{start:w,end:k},...D}=d,R=p.getRoot(w.root),M=t.createPositionFromPath(R,w.path,w.stickiness),L=t.createPositionFromPath(R,k.path,k.stickiness),W=t.createRange(M,L);t.addMarker(a,{range:W,...D})})}_restoreCollaborationData(){const t=JSON.parse(this._data.commentThreads),s=JSON.parse(this._data.suggestions);t.forEach(a=>{const d=this.editor.config.get("collaboration.channelId"),p=this.editor.plugins.get("CommentsRepository");p.hasCommentThread(a.threadId)&&p.getCommentThread(a.threadId).remove(),p.addCommentThread({channelId:d,...a})}),s.forEach(a=>{const d=this.editor.plugins.get("TrackChangesEditing");d.hasSuggestion(a.id)?d.getSuggestion(a.id).attributes=a.attributes:d.addSuggestionData(a)})}}const A_=Symbol("MainQueueId");class use{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(t){this._onEmptyCallbacks.push(t)}enqueue(t,s){const a=t===A_;this._activeActions++,this._queues.get(t)||this._queues.set(t,Promise.resolve());const d=(a?Promise.all(this._queues.values()):Promise.all([this._queues.get(A_),this._queues.get(t)])).then(s),p=d.catch(()=>{});return this._queues.set(t,p),d.finally(()=>{this._activeActions--,this._queues.get(t)===p&&this._activeActions===0&&this._onEmptyCallbacks.forEach(w=>w())})}}function s7(f){return Array.isArray(f)?f:[f]}class CC extends ZA(MP(Sre)){constructor(t,s={}){if(!TC(t)&&s.initialData!==void 0)throw new B("editor-create-initial-data",null);super(s),this.config.get("initialData")===void 0&&this.config.set("initialData",function(p){return TC(p)?(w=p,w instanceof HTMLTextAreaElement?w.value:w.innerHTML):p;var w}(t)),TC(t)&&(this.sourceElement=t),this.model.document.createRoot();const a=!this.config.get("toolbar.shouldNotGroupWhenFull"),d=new ase(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:a});this.ui=new ose(this,d),function(p){if(!so(p.updateSourceElement))throw new B("attachtoform-missing-elementapi-interface",p);const w=p.sourceElement;if(function(k){return!!k&&k.tagName.toLowerCase()==="textarea"}(w)&&w.form){let k;const D=w.form,R=()=>p.updateSourceElement();so(D.submit)&&(k=D.submit,D.submit=()=>{R(),k.apply(D)}),D.addEventListener("submit",R),p.on("destroy",()=>{D.removeEventListener("submit",R),k&&(D.submit=k)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(t,s={}){return new Promise(a=>{const d=new this(t,s);a(d.initPlugins().then(()=>d.ui.init(TC(t)?t:null)).then(()=>d.data.init(d.config.get("initialData"))).then(()=>d.fire("ready")).then(()=>d))})}}function TC(f){return $n(f)}CC.Context=Ag,CC.EditorWatchdog=r7,CC.ContextWatchdog=class extends n7{constructor(f,t={}){super(t),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new use,this._watchdogConfig=t,this._creator=s=>f.create(s),this._destructor=s=>s.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(f){this._creator=f}setDestructor(f){this._destructor=f}get context(){return this._context}create(f={}){return this._actionQueues.enqueue(A_,()=>(this._contextConfig=f,this._create()))}getItem(f){return this._getWatchdog(f)._item}getItemState(f){return this._getWatchdog(f).state}add(f){const t=s7(f);return Promise.all(t.map(s=>this._actionQueues.enqueue(s.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let a;if(this._watchdogs.has(s.id))throw new Error(`Item with the given id is already added: '${s.id}'.`);if(s.type==="editor")return a=new r7(null,this._watchdogConfig),a.setCreator(s.creator),a._setExcludedProperties(this._contextProps),s.destructor&&a.setDestructor(s.destructor),this._watchdogs.set(s.id,a),a.on("error",(d,{error:p,causesRestart:w})=>{this._fire("itemError",{itemId:s.id,error:p}),w&&this._actionQueues.enqueue(s.id,()=>new Promise(k=>{const D=()=>{a.off("restart",D),this._fire("itemRestart",{itemId:s.id}),k()};a.on("restart",D)}))}),a.create(s.sourceElementOrData,s.config,this._context);throw new Error(`Not supported item type: '${s.type}'.`)})))}remove(f){const t=s7(f);return Promise.all(t.map(s=>this._actionQueues.enqueue(s,()=>{const a=this._getWatchdog(s);return this._watchdogs.delete(s),a.destroy()})))}destroy(){return this._actionQueues.enqueue(A_,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(A_,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(f=>{console.error("An error happened during destroying the context or items.",f)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(f=>(this._context=f,this._contextProps=GP(this._context),Promise.all(Array.from(this._watchdogs.values()).map(t=>(t._setExcludedProperties(this._contextProps),t.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const f=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(t=>t.destroy())).then(()=>this._destructor(f))})}_getWatchdog(f){const t=this._watchdogs.get(f);if(!t)throw new Error(`Item with the given id was not registered: ${f}.`);return t}_isErrorComingFromThisItem(f){for(const t of this._watchdogs.values())if(t._isErrorComingFromThisItem(f))return!1;return i7(this._context,f.context)}};class C_ extends Cc{constructor(t){super(t),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const s=this.document;function a(d){return(p,w)=>{w.preventDefault();const k=w.dropRange?[w.dropRange]:null,D=new N(s,d);s.fire(D,{dataTransfer:w.dataTransfer,method:p.name,targetRanges:k,target:w.target,domEvent:w.domEvent}),D.stop.called&&w.stopPropagation()}}this.listenTo(s,"paste",a("clipboardInput"),{priority:"low"}),this.listenTo(s,"drop",a("clipboardInput"),{priority:"low"}),this.listenTo(s,"dragover",a("dragging"),{priority:"low"})}onDomEvent(t){const s="clipboardData"in t?t.clipboardData:t.dataTransfer,a=t.type=="drop"||t.type=="paste",d={dataTransfer:new an(s,{cacheFiles:a})};t.type!="drop"&&t.type!="dragover"||(d.dropRange=function(p,w){const k=w.target.ownerDocument,D=w.clientX,R=w.clientY;let M;return k.caretRangeFromPoint&&k.caretRangeFromPoint(D,R)?M=k.caretRangeFromPoint(D,R):w.rangeParent&&(M=k.createRange(),M.setStart(w.rangeParent,w.rangeOffset),M.collapse(!0)),M?p.domConverter.domRangeToView(M):null}(this.view,t)),this.fire(t.type,t,d)}}const o7=["figcaption","li"];function a7(f){let t="";if(f.is("$text")||f.is("$textProxy"))t=f.data;else if(f.is("element","img")&&f.hasAttribute("alt"))t=f.getAttribute("alt");else if(f.is("element","br"))t=`
`;else{let s=null;for(const a of f.getChildren()){const d=a7(a);s&&(s.is("containerElement")||a.is("containerElement"))&&(o7.includes(s.name)||o7.includes(a.name)?t+=`
`:t+=`

`),t+=d,s=a}}return t}class oh extends it{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(C_),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(t,s,a){const d=this.editor.model.getSelectedContent(s);this.fire("outputTransformation",{dataTransfer:t,content:d,method:a})}_setupPasteDrop(){const t=this.editor,s=t.model,a=t.editing.view,d=a.document;this.listenTo(d,"clipboardInput",(p,w)=>{w.method!="paste"||t.model.canEditAt(t.model.document.selection)||p.stop()},{priority:"highest"}),this.listenTo(d,"clipboardInput",(p,w)=>{const k=w.dataTransfer;let D;if(w.content)D=w.content;else{let L="";k.getData("text/html")?L=function(W){return W.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(J,re)=>re.length==1?" ":re).replace(/<!--[\s\S]*?-->/g,"")}(k.getData("text/html")):k.getData("text/plain")&&(((R=(R=k.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||R.includes("<br>"))&&(R=`<p>${R}</p>`),L=R),D=this.editor.data.htmlProcessor.toView(L)}var R;const M=new N(this,"inputTransformation");this.fire(M,{content:D,dataTransfer:k,targetRanges:w.targetRanges,method:w.method}),M.stop.called&&p.stop(),a.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(p,w)=>{if(w.content.isEmpty)return;const k=this.editor.data.toModel(w.content,"$clipboardHolder");k.childCount!=0&&(p.stop(),s.change(()=>{this.fire("contentInsertion",{content:k,method:w.method,dataTransfer:w.dataTransfer,targetRanges:w.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(p,w)=>{w.resultRange=s.insertContent(w.content)},{priority:"low"})}_setupCopyCut(){const t=this.editor,s=t.model.document,a=t.editing.view.document,d=(p,w)=>{const k=w.dataTransfer;w.preventDefault(),this._fireOutputTransformationEvent(k,s.selection,p.name)};this.listenTo(a,"copy",d,{priority:"low"}),this.listenTo(a,"cut",(p,w)=>{t.model.canEditAt(t.model.document.selection)?d(p,w):w.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(p,w)=>{const k=t.data.toView(w.content);a.fire("clipboardOutput",{dataTransfer:w.dataTransfer,content:k,method:w.method})},{priority:"low"}),this.listenTo(a,"clipboardOutput",(p,w)=>{w.content.isEmpty||(w.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(w.content)),w.dataTransfer.setData("text/plain",a7(w.content))),w.method=="cut"&&t.model.deleteContent(s.selection)},{priority:"low"})}}class l7{constructor(t,s=20){this._batch=null,this.model=t,this._size=0,this.limit=s,this._isLocked=!1,this._changeCallback=(a,d)=>{d.isLocal&&d.isUndoable&&d!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(t){this._size+=t,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(t=!1){this.isLocked&&!t||(this._batch=null,this._size=0)}}class dse extends cn{constructor(t,s){super(t),this._buffer=new l7(t.model,s),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(t={}){const s=this.editor.model,a=s.document,d=t.text||"",p=d.length;let w=a.selection;if(t.selection?w=t.selection:t.range&&(w=s.createSelection(t.range)),!s.canEditAt(w))return;const k=t.resultRange;s.enqueueChange(this._buffer.batch,D=>{this._buffer.lock(),s.deleteContent(w),d&&s.insertContent(D.createText(d,a.selection.getAttributes()),w),k?D.setSelection(k):w.is("documentSelection")||D.setSelection(w),this._buffer.unlock(),this._buffer.input(p)})}}const c7=["insertText","insertReplacementText"];class hse extends jl{constructor(t){super(t),this.focusObserver=t.getObserver(kt),y.isAndroid&&c7.push("insertCompositionText");const s=t.document;s.on("beforeinput",(a,d)=>{if(!this.isEnabled)return;const{data:p,targetRanges:w,inputType:k,domEvent:D}=d;if(!c7.includes(k))return;this.focusObserver.flush();const R=new N(s,"insertText");s.fire(R,new up(t,D,{text:p,selection:t.createSelection(w)})),R.stop.called&&a.stop()}),s.on("compositionend",(a,{data:d,domEvent:p})=>{this.isEnabled&&!y.isAndroid&&d&&s.fire("insertText",new up(t,p,{text:d,selection:s.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class u7 extends it{static get pluginName(){return"Input"}init(){const t=this.editor,s=t.model,a=t.editing.view,d=s.document.selection;a.addObserver(hse);const p=new dse(t,t.config.get("typing.undoStep")||20);t.commands.add("insertText",p),t.commands.add("input",p),this.listenTo(a.document,"insertText",(w,k)=>{a.document.isComposing||k.preventDefault();const{text:D,selection:R,resultRange:M}=k,L=Array.from(R.getRanges()).map(re=>t.editing.mapper.toModelRange(re));let W=D;if(y.isAndroid){const re=Array.from(L[0].getItems()).reduce((ae,ve)=>ae+(ve.is("$textProxy")?ve.data:""),"");re&&(re.length<=W.length?W.startsWith(re)&&(W=W.substring(re.length),L[0].start=L[0].start.getShiftedBy(re.length)):re.startsWith(W)&&(L[0].start=L[0].start.getShiftedBy(W.length),W=""))}const J={text:W,selection:s.createSelection(L)};M&&(J.resultRange=t.editing.mapper.toModelRange(M)),t.execute("insertText",J),a.scrollToTheSelection()}),y.isAndroid?this.listenTo(a.document,"keydown",(w,k)=>{!d.isCollapsed&&k.keyCode==229&&a.document.isComposing&&d7(s,p)}):this.listenTo(a.document,"compositionstart",()=>{d.isCollapsed||d7(s,p)})}}function d7(f,t){if(!t.isEnabled)return;const s=t.buffer;s.lock(),f.enqueueChange(s.batch,()=>{f.deleteContent(f.document.selection)}),s.unlock()}class h7 extends cn{constructor(t,s){super(t),this.direction=s,this._buffer=new l7(t.model,t.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(t={}){const s=this.editor.model,a=s.document;s.enqueueChange(this._buffer.batch,d=>{this._buffer.lock();const p=d.createSelection(t.selection||a.selection);if(!s.canEditAt(p))return;const w=t.sequence||1,k=p.isCollapsed;if(p.isCollapsed&&s.modifySelection(p,{direction:this.direction,unit:t.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(w))return void this._replaceEntireContentWithParagraph(d);if(this._shouldReplaceFirstBlockWithParagraph(p,w))return void this.editor.execute("paragraph",{selection:p});if(p.isCollapsed)return;let D=0;p.getFirstRange().getMinimalFlatRanges().forEach(R=>{D+=He(R.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),s.deleteContent(p,{doNotResetEntireContent:k,direction:this.direction}),this._buffer.input(D),d.setSelection(p),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(t){if(t>1)return!1;const s=this.editor.model,a=s.document.selection,d=s.schema.getLimitElement(a);if(!(a.isCollapsed&&a.containsEntireContent(d))||!s.schema.checkChild(d,"paragraph"))return!1;const p=d.getChild(0);return!p||!p.is("element","paragraph")}_replaceEntireContentWithParagraph(t){const s=this.editor.model,a=s.document.selection,d=s.schema.getLimitElement(a),p=t.createElement("paragraph");t.remove(t.createRangeIn(d)),t.insert(p,d),t.setSelection(p,0)}_shouldReplaceFirstBlockWithParagraph(t,s){const a=this.editor.model;if(s>1||this.direction!="backward"||!t.isCollapsed)return!1;const d=t.getFirstPosition(),p=a.schema.getLimitElement(d),w=p.getChild(0);return d.parent==w&&!!t.containsEntireContent(w)&&!!a.schema.checkChild(p,"paragraph")&&w.name!="paragraph"}}const f7="word",hp="selection",iv="backward",T_="forward",p7={deleteContent:{unit:hp,direction:iv},deleteContentBackward:{unit:"codePoint",direction:iv},deleteWordBackward:{unit:f7,direction:iv},deleteHardLineBackward:{unit:hp,direction:iv},deleteSoftLineBackward:{unit:hp,direction:iv},deleteContentForward:{unit:"character",direction:T_},deleteWordForward:{unit:f7,direction:T_},deleteHardLineForward:{unit:hp,direction:T_},deleteSoftLineForward:{unit:hp,direction:T_}};class fse extends jl{constructor(t){super(t);const s=t.document;let a=0;s.on("keydown",()=>{a++}),s.on("keyup",()=>{a=0}),s.on("beforeinput",(d,p)=>{if(!this.isEnabled)return;const{targetRanges:w,domEvent:k,inputType:D}=p,R=p7[D];if(!R)return;const M={direction:R.direction,unit:R.unit,sequence:a};M.unit==hp&&(M.selectionToRemove=t.createSelection(w[0])),D==="deleteContentBackward"&&(y.isAndroid&&(M.sequence=1),function(W){if(W.length!=1||W[0].isCollapsed)return!1;const J=W[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let re=0;for(const{nextPosition:ae}of J){if(ae.parent.is("$text")){const ve=ae.parent.data,je=ae.offset;if(fx(ve,je)||wy(ve,je)||hA(ve,je))continue;re++}else re++;if(re>1)return!0}return!1}(w)&&(M.unit=hp,M.selectionToRemove=t.createSelection(w)));const L=new Nu(s,"delete",w[0]);s.fire(L,new up(t,k,M)),L.stop.called&&d.stop()}),y.isBlink&&function(d){const p=d.view,w=p.document;let k=null,D=!1;function R(L){return L==Gt.backspace||L==Gt.delete}function M(L){return L==Gt.backspace?iv:T_}w.on("keydown",(L,{keyCode:W})=>{k=W,D=!1}),w.on("keyup",(L,{keyCode:W,domEvent:J})=>{const re=w.selection,ae=d.isEnabled&&W==k&&R(W)&&!re.isCollapsed&&!D;if(k=null,ae){const ve=re.getFirstRange(),je=new Nu(w,"delete",ve),$e={unit:hp,direction:M(W),selectionToRemove:re};w.fire(je,new up(p,J,$e))}}),w.on("beforeinput",(L,{inputType:W})=>{const J=p7[W];R(k)&&J&&J.direction==M(k)&&(D=!0)},{priority:"high"}),w.on("beforeinput",(L,{inputType:W,data:J})=>{k==Gt.delete&&W=="insertText"&&J==""&&L.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class ah extends it{static get pluginName(){return"Delete"}init(){const t=this.editor,s=t.editing.view,a=s.document,d=t.model.document;s.addObserver(fse),this._undoOnBackspace=!1;const p=new h7(t,"forward");t.commands.add("deleteForward",p),t.commands.add("forwardDelete",p),t.commands.add("delete",new h7(t,"backward")),this.listenTo(a,"delete",(w,k)=>{a.isComposing||k.preventDefault();const{direction:D,sequence:R,selectionToRemove:M,unit:L}=k,W=D==="forward"?"deleteForward":"delete",J={sequence:R};if(L=="selection"){const re=Array.from(M.getRanges()).map(ae=>t.editing.mapper.toModelRange(ae));J.selection=t.model.createSelection(re)}else J.unit=L;t.execute(W,J),s.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(a,"delete",(w,k)=>{this._undoOnBackspace&&k.direction=="backward"&&k.sequence==1&&k.unit=="codePoint"&&(this._undoOnBackspace=!1,t.execute("undo"),k.preventDefault(),w.stop())},{context:"$capture"}),this.listenTo(d,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class pse extends it{static get requires(){return[u7,ah]}static get pluginName(){return"Typing"}}function m7(f,t){let s=f.start;return{text:Array.from(f.getWalker({ignoreElementEnd:!1})).reduce((a,{item:d})=>d.is("$text")||d.is("$textProxy")?a+d.data:(s=t.createPositionAfter(d),""),""),range:t.createRange(s,f.end)}}class g7 extends ze(){constructor(t,s){super(),this.model=t,this.testCallback=s,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(t.document.selection),this.stopListening(t.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const t=this.model.document;this.listenTo(t.selection,"change:range",(s,{directChange:a})=>{a&&(t.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(t,"change:data",(s,a)=>{!a.isUndo&&a.isLocal&&this._evaluateTextBeforeSelection("data",{batch:a})})}_evaluateTextBeforeSelection(t,s={}){const a=this.model,d=a.document.selection,p=a.createRange(a.createPositionAt(d.focus.parent,0),d.focus),{text:w,range:k}=m7(p,a),D=this.testCallback(w);if(!D&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!D,D){const R=Object.assign(s,{text:w,range:k});typeof D=="object"&&Object.assign(R,D),this.fire(`matched:${t}`,R)}}}class DC extends it{static get pluginName(){return"TwoStepCaretMovement"}constructor(t){super(t),this.attributes=new Set,this._overrideUid=null}init(){const t=this.editor,s=t.model,a=t.editing.view,d=t.locale,p=s.document.selection;this.listenTo(a.document,"arrowKey",(w,k)=>{if(!p.isCollapsed||k.shiftKey||k.altKey||k.ctrlKey)return;const D=k.keyCode==Gt.arrowright,R=k.keyCode==Gt.arrowleft;if(!D&&!R)return;const M=d.contentLanguageDirection;let L=!1;L=M==="ltr"&&D||M==="rtl"&&R?this._handleForwardMovement(k):this._handleBackwardMovement(k),L===!0&&w.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(p,"change:range",(w,k)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!k.directChange&&PC(p.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(t){this.attributes.add(t)}_handleForwardMovement(t){const s=this.attributes,a=this.editor.model.document.selection,d=a.getFirstPosition();return!this._isGravityOverridden&&(!d.isAtStart||!XP(a,s))&&!!PC(d,s)&&(NC(t),this._overrideGravity(),!0)}_handleBackwardMovement(t){const s=this.attributes,a=this.editor.model,d=a.document.selection,p=d.getFirstPosition();return this._isGravityOverridden?(NC(t),this._restoreGravity(),KP(a,s,p),!0):p.isAtStart?!!XP(d,s)&&(NC(t),KP(a,s,p),!0):!!function(w,k){const D=w.getShiftedBy(-1);return PC(D,k)}(p,s)&&(p.isAtEnd&&!XP(d,s)&&PC(p,s)?(NC(t),KP(a,s,p),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(t=>t.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(t=>{t.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function XP(f,t){for(const s of t)if(f.hasAttribute(s))return!0;return!1}function KP(f,t,s){const a=s.nodeBefore;f.change(d=>{if(a){const p=[],w=f.schema.isObject(a)&&f.schema.isInline(a);for(const[k,D]of a.getAttributes())!f.schema.checkAttribute("$text",k)||w&&f.schema.getAttributeProperties(k).copyFromObject===!1||p.push([k,D]);d.setSelectionAttribute(p)}else d.removeSelectionAttribute(t)})}function NC(f){f.preventDefault()}function PC(f,t){const{nodeBefore:s,nodeAfter:a}=f;for(const d of t){const p=s?s.getAttribute(d):void 0;if((a?a.getAttribute(d):void 0)!==p)return!0}return!1}const b7={copyright:{from:"(c)",to:"©"},registeredTrademark:{from:"(r)",to:"®"},trademark:{from:"(tm)",to:"™"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"½",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"⅓",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"⅔",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"¼",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"¾",null]},lessThanOrEqual:{from:"<=",to:"≤"},greaterThanOrEqual:{from:">=",to:"≥"},notEqual:{from:"!=",to:"≠"},arrowLeft:{from:"<-",to:"←"},arrowRight:{from:"->",to:"→"},horizontalEllipsis:{from:"...",to:"…"},enDash:{from:/(^| )(--)( )$/,to:[null,"–",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"—",null]},quotesPrimary:{from:rv('"'),to:[null,"“",null,"”"]},quotesSecondary:{from:rv("'"),to:[null,"‘",null,"’"]},quotesPrimaryEnGb:{from:rv("'"),to:[null,"‘",null,"’"]},quotesSecondaryEnGb:{from:rv('"'),to:[null,"“",null,"”"]},quotesPrimaryPl:{from:rv('"'),to:[null,"„",null,"”"]},quotesSecondaryPl:{from:rv("'"),to:[null,"‚",null,"’"]}},y7={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},mse=["symbols","mathematical","typography","quotes"];function gse(f){return typeof f=="string"?new RegExp(`(${t7(f)})$`):f}function bse(f){return typeof f=="string"?()=>[f]:f instanceof Array?()=>f:f}function yse(f){return(f.textNode?f.textNode:f.nodeAfter).getAttributes()}function rv(f){return new RegExp(`(^|\\s)(${f})([^${f}]*)(${f})$`)}function sv(f,t,s,a){return a.createRange(v7(f,t,s,!0,a),v7(f,t,s,!1,a))}function v7(f,t,s,a,d){let p=f.textNode||(a?f.nodeBefore:f.nodeAfter),w=null;for(;p&&p.getAttribute(t)==s;)w=p,p=a?p.previousSibling:p.nextSibling;return w?d.createPositionAt(w,a?"before":"after"):f}function w7(f,t,s,a){const d=f.editing.view,p=new Set;d.document.registerPostFixer(w=>{const k=f.model.document.selection;let D=!1;if(k.hasAttribute(t)){const R=sv(k.getFirstPosition(),t,k.getAttribute(t),f.model),M=f.editing.mapper.toViewRange(R);for(const L of M.getItems())L.is("element",s)&&!L.hasClass(a)&&(w.addClass(a,L),p.add(L),D=!0)}return D}),f.conversion.for("editingDowncast").add(w=>{function k(){d.change(D=>{for(const R of p.values())D.removeClass(a,R),p.delete(R)})}w.on("insert",k,{priority:"highest"}),w.on("remove",k,{priority:"highest"}),w.on("attribute",k,{priority:"highest"}),w.on("selection",k,{priority:"highest"})})}function*x7(f,t){for(const s of t)s&&f.getAttributeProperties(s[0]).copyOnEnter&&(yield s)}class vse extends cn{execute(){this.editor.model.change(t=>{this.enterBlock(t),this.fire("afterExecute",{writer:t})})}enterBlock(t){const s=this.editor.model,a=s.document.selection,d=s.schema,p=a.isCollapsed,w=a.getFirstRange(),k=w.start.parent,D=w.end.parent;if(d.isLimit(k)||d.isLimit(D))return p||k!=D||s.deleteContent(a),!1;if(p){const R=x7(t.model.schema,a.getAttributes());return _7(t,w.start),t.setSelectionAttribute(R),!0}{const R=!(w.start.isAtStart&&w.end.isAtEnd),M=k==D;if(s.deleteContent(a,{leaveUnmerged:R}),R){if(M)return _7(t,a.focus),!0;t.setSelection(D,0)}}return!1}}function _7(f,t){f.split(t),f.setSelection(t.parent.nextSibling,0)}const wse={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class k7 extends jl{constructor(t){super(t);const s=this.document;let a=!1;s.on("keydown",(d,p)=>{a=p.shiftKey}),s.on("beforeinput",(d,p)=>{if(!this.isEnabled)return;let w=p.inputType;y.isSafari&&a&&w=="insertParagraph"&&(w="insertLineBreak");const k=p.domEvent,D=wse[w];if(!D)return;const R=new Nu(s,"enter",p.targetRanges[0]);s.fire(R,new up(t,k,{isSoft:D.isSoft})),R.stop.called&&d.stop()})}observe(){}stopObserving(){}}class jC extends it{static get pluginName(){return"Enter"}init(){const t=this.editor,s=t.editing.view,a=s.document;s.addObserver(k7),t.commands.add("enter",new vse(t)),this.listenTo(a,"enter",(d,p)=>{a.isComposing||p.preventDefault(),p.isSoft||(t.execute("enter"),s.scrollToTheSelection())},{priority:"low"})}}class xse extends cn{execute(){const t=this.editor.model,s=t.document;t.change(a=>{(function(d,p,w){const k=w.isCollapsed,D=w.getFirstRange(),R=D.start.parent,M=D.end.parent,L=R==M;if(k){const W=x7(d.schema,w.getAttributes());E7(d,p,D.end),p.removeSelectionAttribute(w.getAttributeKeys()),p.setSelectionAttribute(W)}else{const W=!(D.start.isAtStart&&D.end.isAtEnd);d.deleteContent(w,{leaveUnmerged:W}),L?E7(d,p,w.focus):W&&p.setSelection(M,0)}})(t,a,s.selection),this.fire("afterExecute",{writer:a})})}refresh(){const t=this.editor.model,s=t.document;this.isEnabled=function(a,d){if(d.rangeCount>1)return!1;const p=d.anchor;if(!p||!a.checkChild(p,"softBreak"))return!1;const w=d.getFirstRange(),k=w.start.parent,D=w.end.parent;return!((YP(k,a)||YP(D,a))&&k!==D)}(t.schema,s.selection)}}function E7(f,t,s){const a=t.createElement("softBreak");f.insertContent(a,s),t.setSelection(a,"after")}function YP(f,t){return!f.is("rootElement")&&(t.isLimit(f)||YP(f.parent,t))}class S7 extends it{static get pluginName(){return"ShiftEnter"}init(){const t=this.editor,s=t.model.schema,a=t.conversion,d=t.editing.view,p=d.document;s.register("softBreak",{allowWhere:"$text",isInline:!0}),a.for("upcast").elementToElement({model:"softBreak",view:"br"}),a.for("downcast").elementToElement({model:"softBreak",view:(w,{writer:k})=>k.createEmptyElement("br")}),d.addObserver(k7),t.commands.add("shiftEnter",new xse(t)),this.listenTo(p,"enter",(w,k)=>{p.isComposing||k.preventDefault(),k.isSoft&&(t.execute("shiftEnter"),d.scrollToTheSelection())},{priority:"low"})}}class _se extends X(){constructor(){super(...arguments),this._stack=[]}add(t,s){const a=this._stack,d=a[0];this._insertDescriptor(t);const p=a[0];d===p||ZP(d,p)||this.fire("change:top",{oldDescriptor:d,newDescriptor:p,writer:s})}remove(t,s){const a=this._stack,d=a[0];this._removeDescriptor(t);const p=a[0];d===p||ZP(d,p)||this.fire("change:top",{oldDescriptor:d,newDescriptor:p,writer:s})}_insertDescriptor(t){const s=this._stack,a=s.findIndex(p=>p.id===t.id);if(ZP(t,s[a]))return;a>-1&&s.splice(a,1);let d=0;for(;s[d]&&kse(s[d],t);)d++;s.splice(d,0,t)}_removeDescriptor(t){const s=this._stack,a=s.findIndex(d=>d.id===t);a>-1&&s.splice(a,1)}}function ZP(f,t){return f&&t&&f.priority==t.priority&&IC(f.classes)==IC(t.classes)}function kse(f,t){return f.priority>t.priority||!(f.priority<t.priority)&&IC(f.classes)>IC(t.classes)}function IC(f){return Array.isArray(f)?f.sort().join(","):f}const Ese='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',Sse="ck-widget",A7="ck-widget_selected";function Er(f){return!!f.is("element")&&!!f.getCustomProperty("widget")}function JP(f,t,s={}){if(!f.is("containerElement"))throw new B("widget-to-widget-wrong-element-type",null,{element:f});return t.setAttribute("contenteditable","false",f),t.addClass(Sse,f),t.setCustomProperty("widget",!0,f),f.getFillerOffset=Tse,t.setCustomProperty("widgetLabel",[],f),s.label&&function(a,d){a.getCustomProperty("widgetLabel").push(d)}(f,s.label),s.hasSelectionHandle&&function(a,d){const p=d.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(w){const k=this.toDomElement(w),D=new zo;return D.set("content",Ese),D.render(),k.appendChild(D.element),k});d.insert(d.createPositionAt(a,0),p),d.addClass(["ck-widget_with-selection-handle"],a)}(f,t),C7(f,t),f}function Ase(f,t,s){if(t.classes&&s.addClass(Rn(t.classes),f),t.attributes)for(const a in t.attributes)s.setAttribute(a,t.attributes[a],f)}function Cse(f,t,s){if(t.classes&&s.removeClass(Rn(t.classes),f),t.attributes)for(const a in t.attributes)s.removeAttribute(a,f)}function C7(f,t,s=Ase,a=Cse){const d=new _se;d.on("change:top",(p,w)=>{w.oldDescriptor&&a(f,w.oldDescriptor,w.writer),w.newDescriptor&&s(f,w.newDescriptor,w.writer)}),t.setCustomProperty("addHighlight",(p,w,k)=>d.add(w,k),f),t.setCustomProperty("removeHighlight",(p,w,k)=>d.remove(w,k),f)}function T7(f,t,s={}){return t.addClass(["ck-editor__editable","ck-editor__nested-editable"],f),t.setAttribute("role","textbox",f),s.label&&t.setAttribute("aria-label",s.label,f),t.setAttribute("contenteditable",f.isReadOnly?"false":"true",f),f.on("change:isReadOnly",(a,d,p)=>{t.setAttribute("contenteditable",p?"false":"true",f)}),f.on("change:isFocused",(a,d,p)=>{p?t.addClass("ck-editor__nested-editable_focused",f):t.removeClass("ck-editor__nested-editable_focused",f)}),C7(f,t),f}function D7(f,t){const s=f.getSelectedElement();if(s){const a=fp(f);if(a)return t.createRange(t.createPositionAt(s,a))}return TL(f,t)}function Tse(){return null}const lh="widget-type-around";function zg(f,t,s){return!!f&&Er(f)&&!s.isInline(t)}function fp(f){return f.getAttribute(lh)}var RC=o(2347),D_={attributes:{"data-cke":!0}};D_.setAttributes=Tt(),D_.insert=Ot().bind(null,"head"),D_.domAPI=Rt(),D_.insertStyleElement=Mt(),It()(RC.Z,D_),RC.Z&&RC.Z.locals&&RC.Z.locals;const N7=["before","after"],Dse=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,P7="ck-widget__type-around_disabled";class Nse extends it{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[jC,ah]}init(){const t=this.editor,s=t.editing.view;this.on("change:isEnabled",(a,d,p)=>{s.change(w=>{for(const k of s.document.roots)p?w.removeClass(P7,k):w.addClass(P7,k)}),p||t.model.change(w=>{w.removeSelectionAttribute(lh)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(t,s){const a=this.editor,d=a.editing.view,p=a.model.schema.getAttributesWithProperty(t,"copyOnReplace",!0);a.execute("insertParagraph",{position:a.model.createPositionAt(t,s),attributes:p}),d.focus(),d.scrollToTheSelection()}_listenToIfEnabled(t,s,a,d){this.listenTo(t,s,(...p)=>{this.isEnabled&&a(...p)},d)}_insertParagraphAccordingToFakeCaretPosition(){const t=this.editor.model.document.selection,s=fp(t);if(!s)return!1;const a=t.getSelectedElement();return this._insertParagraph(a,s),!0}_enableTypeAroundUIInjection(){const t=this.editor,s=t.model.schema,a=t.locale.t,d={before:a("Insert paragraph before block"),after:a("Insert paragraph after block")};t.editing.downcastDispatcher.on("insert",(p,w,k)=>{const D=k.mapper.toViewElement(w.item);D&&zg(D,w.item,s)&&(function(R,M,L){const W=R.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(J){const re=this.toDomElement(J);return function(ae,ve){for(const je of N7){const $e=new dr({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${je}`],title:ve[je],"aria-hidden":"true"},children:[ae.ownerDocument.importNode(Dse,!0)]});ae.appendChild($e.render())}}(re,M),function(ae){const ve=new dr({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});ae.appendChild(ve.render())}(re),re});R.insert(R.createPositionAt(L,"end"),W)}(k.writer,d,D),D.getCustomProperty("widgetLabel").push(()=>this.isEnabled?a("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const t=this.editor,s=t.model,a=s.document.selection,d=s.schema,p=t.editing.view;function w(k){return`ck-widget_type-around_show-fake-caret_${k}`}this._listenToIfEnabled(p.document,"arrowKey",(k,D)=>{this._handleArrowKeyPress(k,D)},{context:[Er,"$text"],priority:"high"}),this._listenToIfEnabled(a,"change:range",(k,D)=>{D.directChange&&t.model.change(R=>{R.removeSelectionAttribute(lh)})}),this._listenToIfEnabled(s.document,"change:data",()=>{const k=a.getSelectedElement();k&&zg(t.editing.mapper.toViewElement(k),k,d)||t.model.change(D=>{D.removeSelectionAttribute(lh)})}),this._listenToIfEnabled(t.editing.downcastDispatcher,"selection",(k,D,R)=>{const M=R.writer;if(this._currentFakeCaretModelElement){const re=R.mapper.toViewElement(this._currentFakeCaretModelElement);re&&(M.removeClass(N7.map(w),re),this._currentFakeCaretModelElement=null)}const L=D.selection.getSelectedElement();if(!L)return;const W=R.mapper.toViewElement(L);if(!zg(W,L,d))return;const J=fp(D.selection);J&&(M.addClass(w(J),W),this._currentFakeCaretModelElement=L)}),this._listenToIfEnabled(t.ui.focusTracker,"change:isFocused",(k,D,R)=>{R||t.model.change(M=>{M.removeSelectionAttribute(lh)})})}_handleArrowKeyPress(t,s){const a=this.editor,d=a.model,p=d.document.selection,w=d.schema,k=a.editing.view,D=function(L,W){const J=vu(L,W);return J==="down"||J==="right"}(s.keyCode,a.locale.contentLanguageDirection),R=k.document.selection.getSelectedElement();let M;zg(R,a.editing.mapper.toModelElement(R),w)?M=this._handleArrowKeyPressOnSelectedWidget(D):p.isCollapsed?M=this._handleArrowKeyPressWhenSelectionNextToAWidget(D):s.shiftKey||(M=this._handleArrowKeyPressWhenNonCollapsedSelection(D)),M&&(s.preventDefault(),t.stop())}_handleArrowKeyPressOnSelectedWidget(t){const s=this.editor.model,a=fp(s.document.selection);return s.change(d=>a?a!==(t?"after":"before")?(d.removeSelectionAttribute(lh),!0):!1:(d.setSelectionAttribute(lh,t?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(t){const s=this.editor,a=s.model,d=a.schema,p=s.plugins.get("Widget"),w=p._getObjectElementNextToSelection(t);return!!zg(s.editing.mapper.toViewElement(w),w,d)&&(a.change(k=>{p._setSelectionOverElement(w),k.setSelectionAttribute(lh,t?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(t){const s=this.editor,a=s.model,d=a.schema,p=s.editing.mapper,w=a.document.selection,k=t?w.getLastPosition().nodeBefore:w.getFirstPosition().nodeAfter;return!!zg(p.toViewElement(k),k,d)&&(a.change(D=>{D.setSelection(k,"on"),D.setSelectionAttribute(lh,t?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const t=this.editor,s=t.editing.view;this._listenToIfEnabled(s.document,"mousedown",(a,d)=>{const p=d.domTarget.closest(".ck-widget__type-around__button");if(!p)return;const w=function(R){return R.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(p),k=function(R,M){const L=R.closest(".ck-widget");return M.mapDomToView(L)}(p,s.domConverter),D=t.editing.mapper.toModelElement(k);this._insertParagraph(D,w),d.preventDefault(),a.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const t=this.editor,s=t.model.document.selection,a=t.editing.view;this._listenToIfEnabled(a.document,"enter",(d,p)=>{if(d.eventPhase!="atTarget")return;const w=s.getSelectedElement(),k=t.editing.mapper.toViewElement(w),D=t.model.schema;let R;this._insertParagraphAccordingToFakeCaretPosition()?R=!0:zg(k,w,D)&&(this._insertParagraph(w,p.isSoft?"before":"after"),R=!0),R&&(p.preventDefault(),d.stop())},{context:Er})}_enableInsertingParagraphsOnTypingKeystroke(){const t=this.editor.editing.view.document;this._listenToIfEnabled(t,"insertText",(s,a)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(a.selection=t.selection)},{priority:"high"}),y.isAndroid?this._listenToIfEnabled(t,"keydown",(s,a)=>{a.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(t,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const t=this.editor,s=t.editing.view,a=t.model,d=a.schema;this._listenToIfEnabled(s.document,"delete",(p,w)=>{if(p.eventPhase!="atTarget")return;const k=fp(a.document.selection);if(!k)return;const D=w.direction,R=a.document.selection.getSelectedElement(),M=D=="forward";if(k==="before"===M)t.execute("delete",{selection:a.createSelection(R,"on")});else{const L=d.getNearestSelectionRange(a.createPositionAt(R,k),D);if(L)if(L.isCollapsed){const W=a.createSelection(L.start);if(a.modifySelection(W,{direction:D}),W.focus.isEqual(L.start)){const J=function(re,ae){let ve=ae;for(const je of ae.getAncestors({parentFirst:!0})){if(je.childCount>1||re.isLimit(je))break;ve=je}return ve}(d,L.start.parent);a.deleteContent(a.createSelection(J,"on"),{doNotAutoparagraph:!0})}else a.change(J=>{J.setSelection(L),t.execute(M?"deleteForward":"delete")})}else a.change(W=>{W.setSelection(L),t.execute(M?"deleteForward":"delete")})}w.preventDefault(),p.stop()},{context:Er})}_enableInsertContentIntegration(){const t=this.editor,s=this.editor.model,a=s.document.selection;this._listenToIfEnabled(t.model,"insertContent",(d,[p,w])=>{if(w&&!w.is("documentSelection"))return;const k=fp(a);return k?(d.stop(),s.change(D=>{const R=a.getSelectedElement(),M=s.createPositionAt(R,k),L=D.createSelection(M),W=s.insertContent(p,L);return D.setSelection(L),W})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const t=this.editor,s=this.editor.model.document.selection;this._listenToIfEnabled(t.model,"insertObject",(a,d)=>{const[,p,w={}]=d;if(p&&!p.is("documentSelection"))return;const k=fp(s);k&&(w.findOptimalPosition=k,d[3]=w)},{priority:"high"})}_enableDeleteContentIntegration(){const t=this.editor,s=this.editor.model.document.selection;this._listenToIfEnabled(t.model,"deleteContent",(a,[d])=>{d&&!d.is("documentSelection")||fp(s)&&a.stop()},{priority:"high"})}}function Pse(f){const t=f.model;return(s,a)=>{const d=a.keyCode==Gt.arrowup,p=a.keyCode==Gt.arrowdown,w=a.shiftKey,k=t.document.selection;if(!d&&!p)return;const D=p;if(w&&function(M,L){return!M.isCollapsed&&M.isBackward==L}(k,D))return;const R=function(M,L,W){const J=M.model;if(W){const re=L.isCollapsed?L.focus:L.getLastPosition(),ae=j7(J,re,"forward");if(!ae)return null;const ve=J.createRange(re,ae),je=I7(J.schema,ve,"backward");return je?J.createRange(re,je):null}{const re=L.isCollapsed?L.focus:L.getFirstPosition(),ae=j7(J,re,"backward");if(!ae)return null;const ve=J.createRange(ae,re),je=I7(J.schema,ve,"forward");return je?J.createRange(je,re):null}}(f,k,D);if(R){if(R.isCollapsed&&(k.isCollapsed||w))return;(R.isCollapsed||function(M,L,W){const J=M.model,re=M.view.domConverter;if(W){const Qe=J.createSelection(L.start);J.modifySelection(Qe),Qe.focus.isAtEnd||L.start.isEqual(Qe.focus)||(L=J.createRange(Qe.focus,L.end))}const ae=M.mapper.toViewRange(L),ve=re.viewRangeToDom(ae),je=vt.getDomRangeRects(ve);let $e;for(const Qe of je)if($e!==void 0){if(Math.round(Qe.top)>=$e)return!1;$e=Math.max($e,Math.round(Qe.bottom))}else $e=Math.round(Qe.bottom);return!0}(f,R,D))&&(t.change(M=>{const L=D?R.end:R.start;if(w){const W=t.createSelection(k.anchor);W.setFocus(L),M.setSelection(W)}else M.setSelection(L)}),s.stop(),a.preventDefault(),a.stopPropagation())}}}function j7(f,t,s){const a=f.schema,d=f.createRangeIn(t.root),p=s=="forward"?"elementStart":"elementEnd";for(const{previousPosition:w,item:k,type:D}of d.getWalker({startPosition:t,direction:s})){if(a.isLimit(k)&&!a.isInline(k))return w;if(D==p&&a.isBlock(k))return null}return null}function I7(f,t,s){const a=s=="backward"?t.end:t.start;if(f.checkChild(a,"$text"))return a;for(const{nextPosition:d}of t.getWalker({direction:s}))if(f.checkChild(d,"$text"))return d;return null}var MC=o(7153),N_={attributes:{"data-cke":!0}};N_.setAttributes=Tt(),N_.insert=Ot().bind(null,"head"),N_.domAPI=Rt(),N_.insertStyleElement=Mt(),It()(MC.Z,N_),MC.Z&&MC.Z.locals&&MC.Z.locals;class P_ extends it{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[Nse,ah]}init(){const t=this.editor,s=t.editing.view,a=s.document;this.editor.editing.downcastDispatcher.on("selection",(d,p,w)=>{const k=w.writer,D=p.selection;if(D.isCollapsed)return;const R=D.getSelectedElement();if(!R)return;const M=t.editing.mapper.toViewElement(R);var L;Er(M)&&w.consumable.consume(D,"selection")&&k.setSelection(k.createRangeOn(M),{fake:!0,label:(L=M,L.getCustomProperty("widgetLabel").reduce((W,J)=>typeof J=="function"?W?W+". "+J():J():W?W+". "+J:J,""))})}),this.editor.editing.downcastDispatcher.on("selection",(d,p,w)=>{this._clearPreviouslySelectedWidgets(w.writer);const k=w.writer,D=k.document.selection;let R=null;for(const M of D.getRanges())for(const L of M){const W=L.item;Er(W)&&!jse(W,R)&&(k.addClass(A7,W),this._previouslySelected.add(W),R=W)}},{priority:"low"}),s.addObserver(YA),this.listenTo(a,"mousedown",(...d)=>this._onMousedown(...d)),this.listenTo(a,"arrowKey",(...d)=>{this._handleSelectionChangeOnArrowKeyPress(...d)},{context:[Er,"$text"]}),this.listenTo(a,"arrowKey",(...d)=>{this._preventDefaultOnArrowKeyPress(...d)},{context:"$root"}),this.listenTo(a,"arrowKey",Pse(this.editor.editing),{context:"$text"}),this.listenTo(a,"delete",(d,p)=>{this._handleDelete(p.direction=="forward")&&(p.preventDefault(),d.stop())},{context:"$root"})}_onMousedown(t,s){const a=this.editor,d=a.editing.view,p=d.document;let w=s.target;if(function(D){let R=D;for(;R;){if(R.is("editableElement")&&!R.is("rootElement"))return!0;if(Er(R))return!1;R=R.parent}return!1}(w)){if((y.isSafari||y.isGecko)&&s.domEvent.detail>=3){const D=a.editing.mapper,R=w.is("attributeElement")?w.findAncestor(L=>!L.is("attributeElement")):w,M=D.toModelElement(R);s.preventDefault(),this.editor.model.change(L=>{L.setSelection(M,"in")})}return}if(!Er(w)&&(w=w.findAncestor(Er),!w))return;y.isAndroid&&s.preventDefault(),p.isFocused||d.focus();const k=a.editing.mapper.toModelElement(w);this._setSelectionOverElement(k)}_handleSelectionChangeOnArrowKeyPress(t,s){const a=s.keyCode,d=this.editor.model,p=d.schema,w=d.document.selection,k=w.getSelectedElement(),D=vu(a,this.editor.locale.contentLanguageDirection),R=D=="down"||D=="right",M=D=="up"||D=="down";if(k&&p.isObject(k)){const W=R?w.getLastPosition():w.getFirstPosition(),J=p.getNearestSelectionRange(W,R?"forward":"backward");return void(J&&(d.change(re=>{re.setSelection(J)}),s.preventDefault(),t.stop()))}if(!w.isCollapsed&&!s.shiftKey){const W=w.getFirstPosition(),J=w.getLastPosition(),re=W.nodeAfter,ae=J.nodeBefore;return void((re&&p.isObject(re)||ae&&p.isObject(ae))&&(d.change(ve=>{ve.setSelection(R?J:W)}),s.preventDefault(),t.stop()))}if(!w.isCollapsed)return;const L=this._getObjectElementNextToSelection(R);if(L&&p.isObject(L)){if(p.isInline(L)&&M)return;this._setSelectionOverElement(L),s.preventDefault(),t.stop()}}_preventDefaultOnArrowKeyPress(t,s){const a=this.editor.model,d=a.schema,p=a.document.selection.getSelectedElement();p&&d.isObject(p)&&(s.preventDefault(),t.stop())}_handleDelete(t){const s=this.editor.model.document.selection;if(!this.editor.model.canEditAt(s)||!s.isCollapsed)return;const a=this._getObjectElementNextToSelection(t);return a?(this.editor.model.change(d=>{let p=s.anchor.parent;for(;p.isEmpty;){const w=p;p=w.parent,d.remove(w)}this._setSelectionOverElement(a)}),!0):void 0}_setSelectionOverElement(t){this.editor.model.change(s=>{s.setSelection(s.createRangeOn(t))})}_getObjectElementNextToSelection(t){const s=this.editor.model,a=s.schema,d=s.document.selection,p=s.createSelection(d);if(s.modifySelection(p,{direction:t?"forward":"backward"}),p.isEqual(d))return null;const w=t?p.focus.nodeBefore:p.focus.nodeAfter;return w&&a.isObject(w)?w:null}_clearPreviouslySelectedWidgets(t){for(const s of this._previouslySelected)t.removeClass(A7,s);this._previouslySelected.clear()}}function jse(f,t){return!!t&&Array.from(f.getAncestors()).includes(t)}class OC extends it{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[vC]}static get pluginName(){return"WidgetToolbarRepository"}init(){const t=this.editor;if(t.plugins.has("BalloonToolbar")){const s=t.plugins.get("BalloonToolbar");this.listenTo(s,"show",a=>{(function(d){const p=d.getSelectedElement();return!(!p||!Er(p))})(t.editing.view.document.selection)&&a.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(t.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(t.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const t of this._toolbarDefinitions.values())t.view.destroy()}register(t,{ariaLabel:s,items:a,getRelatedElement:d,balloonClassName:p="ck-toolbar-container"}){if(!a.length)return void K("widget-toolbar-no-items",{toolbarId:t});const w=this.editor,k=w.t,D=new OP(w.locale);if(D.ariaLabel=s||k("Widget toolbar"),this._toolbarDefinitions.has(t))throw new B("widget-toolbar-duplicated",this,{toolbarId:t});const R={view:D,getRelatedElement:d,balloonClassName:p,itemsConfig:a,initialized:!1};w.ui.addToolbar(D,{isContextual:!0,beforeFocus:()=>{const M=d(w.editing.view.document.selection);M&&this._showToolbar(R,M)},afterBlur:()=>{this._hideToolbar(R)}}),this._toolbarDefinitions.set(t,R)}_updateToolbarsVisibility(){let t=0,s=null,a=null;for(const d of this._toolbarDefinitions.values()){const p=d.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&p)if(this.editor.ui.focusTracker.isFocused){const w=p.getAncestors().length;w>t&&(t=w,s=p,a=d)}else this._isToolbarVisible(d)&&this._hideToolbar(d);else this._isToolbarInBalloon(d)&&this._hideToolbar(d)}a&&this._showToolbar(a,s)}_hideToolbar(t){this._balloon.remove(t.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(t,s){this._isToolbarVisible(t)?R7(this.editor,s):this._isToolbarInBalloon(t)||(t.initialized||(t.initialized=!0,t.view.fillFromConfig(t.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:t.view,position:M7(this.editor,s),balloonClassName:t.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const a of this._toolbarDefinitions.values())if(this._isToolbarVisible(a)){const d=a.getRelatedElement(this.editor.editing.view.document.selection);R7(this.editor,d)}}))}_isToolbarVisible(t){return this._balloon.visibleView===t.view}_isToolbarInBalloon(t){return this._balloon.hasView(t.view)}}function R7(f,t){const s=f.plugins.get("ContextualBalloon"),a=M7(f,t);s.updatePosition(a)}function M7(f,t){const s=f.editing.view,a=Bs.defaultPositions;return{target:s.domConverter.mapViewToDom(t),positions:[a.northArrowSouth,a.northArrowSouthWest,a.northArrowSouthEast,a.southArrowNorth,a.southArrowNorthWest,a.southArrowNorthEast,a.viewportStickyNorth]}}class Ise extends ze(){constructor(t){super(),this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=t,this._referenceCoordinates=null}get originalWidth(){return this._originalWidth}get originalHeight(){return this._originalHeight}get originalWidthPercents(){return this._originalWidthPercents}get aspectRatio(){return this._aspectRatio}begin(t,s,a){const d=new vt(s);this.activeHandlePosition=function(w){const k=["top-left","top-right","bottom-right","bottom-left"];for(const D of k)if(w.classList.contains(Rse(D)))return D}(t),this._referenceCoordinates=function(w,k){const D=new vt(w),R=k.split("-"),M={x:R[1]=="right"?D.right:D.left,y:R[0]=="bottom"?D.bottom:D.top};return M.x+=w.ownerDocument.defaultView.scrollX,M.y+=w.ownerDocument.defaultView.scrollY,M}(s,function(w){const k=w.split("-"),D={top:"bottom",bottom:"top",left:"right",right:"left"};return`${D[k[0]]}-${D[k[1]]}`}(this.activeHandlePosition)),this._originalWidth=d.width,this._originalHeight=d.height,this._aspectRatio=d.width/d.height;const p=a.style.width;p&&p.match(/^\d+(\.\d*)?%$/)?this._originalWidthPercents=parseFloat(p):this._originalWidthPercents=function(w,k){const D=w.parentElement;let R=parseFloat(D.ownerDocument.defaultView.getComputedStyle(D).width);const M=5;let L=0,W=D;for(;isNaN(R);){if(W=W.parentElement,++L>M)return 0;R=parseFloat(D.ownerDocument.defaultView.getComputedStyle(W).width)}return k.width/R*100}(a,d)}update(t){this.proposedWidth=t.width,this.proposedHeight=t.height,this.proposedWidthPercents=t.widthPercents,this.proposedHandleHostWidth=t.handleHostWidth,this.proposedHandleHostHeight=t.handleHostHeight}}function Rse(f){return`ck-widget__resizer__handle-${f}`}class Mse extends on{constructor(){super();const t=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",t.to("_viewPosition",s=>s?`ck-orientation-${s}`:"")],style:{display:t.if("_isVisible","none",s=>!s)}},children:[{text:t.to("_label")}]})}_bindToState(t,s){this.bind("_isVisible").to(s,"proposedWidth",s,"proposedHeight",(a,d)=>a!==null&&d!==null),this.bind("_label").to(s,"proposedHandleHostWidth",s,"proposedHandleHostHeight",s,"proposedWidthPercents",(a,d,p)=>t.unit==="px"?`${a}×${d}`:`${p}%`),this.bind("_viewPosition").to(s,"activeHandlePosition",s,"proposedHandleHostWidth",s,"proposedHandleHostHeight",(a,d,p)=>d<50||p<50?"above-center":a)}_dismiss(){this.unbind(),this._isVisible=!1}}class O7 extends ze(){constructor(t){super(),this._viewResizerWrapper=null,this._options=t,this.set("isEnabled",!0),this.set("isSelected",!1),this.bind("isVisible").to(this,"isEnabled",this,"isSelected",(s,a)=>s&&a),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",s=>{this.state.proposedWidth||this.state.proposedWidthPercents||(this._cleanup(),s.stop())},{priority:"high"})}get state(){return this._state}show(){this._options.editor.editing.view.change(t=>{t.removeClass("ck-hidden",this._viewResizerWrapper)})}hide(){this._options.editor.editing.view.change(t=>{t.addClass("ck-hidden",this._viewResizerWrapper)})}attach(){const t=this,s=this._options.viewElement;this._options.editor.editing.view.change(a=>{const d=a.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},function(p){const w=this.toDomElement(p);return t._appendHandles(w),t._appendSizeUI(w),w});a.insert(a.createPositionAt(s,"end"),d),a.addClass("ck-widget_with-resizer",s),this._viewResizerWrapper=d,this.isVisible||this.hide()}),this.on("change:isVisible",()=>{this.isVisible?(this.show(),this.redraw()):this.hide()})}begin(t){this._state=new Ise(this._options),this._sizeView._bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(t,this._getHandleHost(),this._getResizeHost())}updateSize(t){const s=this._proposeNewSize(t);this._options.editor.editing.view.change(D=>{const R=this._options.unit||"%",M=(R==="%"?s.widthPercents:s.width)+R;D.setStyle("width",M,this._options.viewElement)});const a=this._getHandleHost(),d=new vt(a),p=Math.round(d.width),w=Math.round(d.height),k=new vt(a);s.width=Math.round(k.width),s.height=Math.round(k.height),this.redraw(d),this.state.update({...s,handleHostWidth:p,handleHostHeight:w})}commit(){const t=this._options.unit||"%",s=(t==="%"?this.state.proposedWidthPercents:this.state.proposedWidth)+t;this._options.editor.editing.view.change(()=>{this._cleanup(),this._options.onCommit(s)})}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(t){const s=this._domResizerWrapper;if(!((a=s)&&a.ownerDocument&&a.ownerDocument.contains(a)))return;var a;const d=s.parentElement,p=this._getHandleHost(),w=this._viewResizerWrapper,k=[w.getStyle("width"),w.getStyle("height"),w.getStyle("left"),w.getStyle("top")];let D;if(d.isSameNode(p)){const R=t||new vt(p);D=[R.width+"px",R.height+"px",void 0,void 0]}else D=[p.offsetWidth+"px",p.offsetHeight+"px",p.offsetLeft+"px",p.offsetTop+"px"];qe(k,D)!=="same"&&this._options.editor.editing.view.change(R=>{R.setStyle({width:D[0],height:D[1],left:D[2],top:D[3]},w)})}containsHandle(t){return this._domResizerWrapper.contains(t)}static isResizeHandle(t){return t.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeView._dismiss(),this._options.editor.editing.view.change(t=>{t.setStyle("width",this._initialViewWidth,this._options.viewElement)})}_proposeNewSize(t){const s=this.state,a={x:(d=t).pageX,y:d.pageY};var d;const p=!this._options.isCentered||this._options.isCentered(this),w={x:s._referenceCoordinates.x-(a.x+s.originalWidth),y:a.y-s.originalHeight-s._referenceCoordinates.y};p&&s.activeHandlePosition.endsWith("-right")&&(w.x=a.x-(s._referenceCoordinates.x+s.originalWidth)),p&&(w.x*=2);let k=Math.abs(s.originalWidth+w.x),D=Math.abs(s.originalHeight+w.y);return(k/s.aspectRatio>D?"width":"height")=="width"?D=k/s.aspectRatio:k=D*s.aspectRatio,{width:Math.round(k),height:Math.round(D),widthPercents:Math.min(Math.round(s.originalWidthPercents/s.originalWidth*k*100)/100,100)}}_getResizeHost(){const t=this._domResizerWrapper.parentElement;return this._options.getResizeHost(t)}_getHandleHost(){const t=this._domResizerWrapper.parentElement;return this._options.getHandleHost(t)}get _domResizerWrapper(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}_appendHandles(t){const s=["top-left","top-right","bottom-right","bottom-left"];for(const d of s)t.appendChild(new dr({tag:"div",attributes:{class:"ck-widget__resizer__handle "+(a=d,`ck-widget__resizer__handle-${a}`)}}).render());var a}_appendSizeUI(t){this._sizeView=new Mse,this._sizeView.render(),t.appendChild(this._sizeView.element)}}var FC=o(4875),j_={attributes:{"data-cke":!0}};j_.setAttributes=Tt(),j_.insert=Ot().bind(null,"head"),j_.domAPI=Rt(),j_.insertStyleElement=Mt(),It()(FC.Z,j_),FC.Z&&FC.Z.locals&&FC.Z.locals;class QP extends it{constructor(){super(...arguments),this._resizers=new Map}static get pluginName(){return"WidgetResize"}init(){const t=this.editor.editing,s=de.window.document;this.set("selectedResizer",null),this.set("_activeResizer",null),t.view.addObserver(YA),this._observer=new(ur()),this.listenTo(t.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(s,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(s,"mouseup",this._mouseUpListener.bind(this)),this._redrawSelectedResizerThrottled=f_(()=>this.redrawSelectedResizer(),200),this.editor.ui.on("update",this._redrawSelectedResizerThrottled),this.editor.model.document.on("change",()=>{for(const[d,p]of this._resizers)d.isAttached()||(this._resizers.delete(d),p.destroy())},{priority:"lowest"}),this._observer.listenTo(de.window,"resize",this._redrawSelectedResizerThrottled);const a=this.editor.editing.view.document.selection;a.on("change",()=>{const d=a.getSelectedElement(),p=this.getResizerByViewElement(d)||null;p?this.select(p):this.deselect()})}redrawSelectedResizer(){this.selectedResizer&&this.selectedResizer.isVisible&&this.selectedResizer.redraw()}destroy(){super.destroy(),this._observer.stopListening();for(const t of this._resizers.values())t.destroy();this._redrawSelectedResizerThrottled.cancel()}select(t){this.deselect(),this.selectedResizer=t,this.selectedResizer.isSelected=!0}deselect(){this.selectedResizer&&(this.selectedResizer.isSelected=!1),this.selectedResizer=null}attachTo(t){const s=new O7(t),a=this.editor.plugins;if(s.attach(),a.has("WidgetToolbarRepository")){const p=a.get("WidgetToolbarRepository");s.on("begin",()=>{p.forceDisabled("resize")},{priority:"lowest"}),s.on("cancel",()=>{p.clearForceDisabled("resize")},{priority:"highest"}),s.on("commit",()=>{p.clearForceDisabled("resize")},{priority:"highest"})}this._resizers.set(t.viewElement,s);const d=this.editor.editing.view.document.selection.getSelectedElement();return this.getResizerByViewElement(d)==s&&this.select(s),s}getResizerByViewElement(t){return this._resizers.get(t)}_getResizerByHandle(t){for(const s of this._resizers.values())if(s.containsHandle(t))return s}_mouseDownListener(t,s){const a=s.domTarget;O7.isResizeHandle(a)&&(this._activeResizer=this._getResizerByHandle(a)||null,this._activeResizer&&(this._activeResizer.begin(a),t.stop(),s.preventDefault()))}_mouseMoveListener(t,s){this._activeResizer&&this._activeResizer.updateSize(s)}_mouseUpListener(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}}const ej=Lr("px");class Ose extends on{constructor(){super();const t=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",t.if("isVisible","ck-hidden",s=>!s)],style:{left:t.to("left",s=>ej(s)),top:t.to("top",s=>ej(s)),width:t.to("width",s=>ej(s))}}})}}class UC extends it{constructor(){super(...arguments),this.removeDropMarkerDelayed=xg(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=f_(t=>this._updateDropMarker(t),40),this._reconvertMarkerThrottled=f_(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new Ose,this._domEmitter=new(ur()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:t}of this._scrollables.values())t.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(t,s,a,d,p){this.removeDropMarkerDelayed.cancel();const w=F7(this.editor,t,s,a,d,p);w&&this._updateDropMarkerThrottled(w)}getFinalDropRange(t,s,a,d,p){const w=F7(this.editor,t,s,a,d,p);return this.removeDropMarker(),w}removeDropMarker(){const t=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,t.markers.has("drop-target")&&t.change(s=>{s.removeMarker("drop-target")})}_setupDropMarker(){const t=this.editor;t.ui.view.body.add(this._dropTargetLineView),t.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),t.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(s,{writer:a})=>{if(t.model.schema.checkChild(s.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(a);s.markerRange.isCollapsed?this._updateDropTargetLine(s.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(t){const s=this.editor,a=s.model.markers;s.model.change(d=>{a.has("drop-target")?a.get("drop-target").getRange().isEqual(t)||d.updateMarker("drop-target",{range:t}):d.addMarker("drop-target",{range:t,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(t){return t.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(s){const a=this.toDomElement(s);return a.append("⁠",s.createElement("span"),"⁠"),a})}_updateDropTargetLine(t){const s=this.editor.editing,a=t.start.nodeBefore,d=t.start.nodeAfter,p=t.start.parent,w=a?s.mapper.toViewElement(a):null,k=w?s.view.domConverter.mapViewToDom(w):null,D=d?s.mapper.toViewElement(d):null,R=D?s.view.domConverter.mapViewToDom(D):null,M=s.mapper.toViewElement(p),L=s.view.domConverter.mapViewToDom(M),W=this._getScrollableRect(M),{scrollX:J,scrollY:re}=de.window,ae=k?new vt(k):null,ve=R?new vt(R):null,je=new vt(L).excludeScrollbarsAndBorders(),$e=ae?ae.bottom:je.top,Qe=ve?ve.top:je.bottom,St=de.window.getComputedStyle(L),tn=$e<=Qe?($e+Qe)/2:Qe;if(W.top<tn&&tn<W.bottom){const Fn=je.left+parseFloat(St.paddingLeft),Un=je.right-parseFloat(St.paddingRight),$r=Math.max(Fn+J,W.left),vo=Math.min(Un+J,W.right);this._dropTargetLineView.set({isVisible:!0,left:$r,top:tn+re,width:vo-$r})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(t){const s=t.root.rootName;let a;if(this._scrollables.has(s))a=this._scrollables.get(s).domElement;else{a=function(p){let w=p;do{w=w.parentElement;const k=de.window.getComputedStyle(w).overflowY;if(k=="auto"||k=="scroll")break}while(w.tagName!="BODY");return w}(this.editor.editing.view.domConverter.mapViewToDom(t)),this._domEmitter.listenTo(a,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const d=new wn(a,this._reconvertMarkerThrottled);this._scrollables.set(s,{domElement:a,resizeObserver:d})}return new vt(a).excludeScrollbarsAndBorders()}}function F7(f,t,s,a,d,p){const w=f.model,k=f.editing.mapper;let D=L7(f,t);for(;D;){if(!p){if(w.schema.checkChild(D,"$text")){const R=s?s[0].start:null,M=R?k.toModelPosition(R):null;if(M){if(w.schema.checkChild(M,"$text"))return w.createRange(M);if(R)return LC(f,L7(f,R.parent),a,d)}}else if(w.schema.isInline(D))return LC(f,D,a,d)}if(w.schema.isBlock(D))return LC(f,D,a,d);if(w.schema.checkChild(D,"$block")){const R=Array.from(D.getChildren()).filter(W=>W.is("element")&&!Fse(f,W));let M=0,L=R.length;if(L==0)return w.createRange(w.createPositionAt(D,"end"));for(;M<L-1;){const W=Math.floor((M+L)/2);U7(f,R[W],a,d)=="before"?L=W:M=W}return LC(f,R[M],a,d)}D=D.parent}return null}function Fse(f,t){const s=f.editing.mapper,a=f.editing.view.domConverter,d=s.toViewElement(t),p=a.mapViewToDom(d);return de.window.getComputedStyle(p).float!="none"}function LC(f,t,s,a){const d=f.model;return d.createRange(d.createPositionAt(t,U7(f,t,s,a)))}function U7(f,t,s,a){const d=f.editing.mapper,p=f.editing.view.domConverter,w=d.toViewElement(t),k=p.mapViewToDom(w),D=new vt(k);return f.model.schema.isInline(t)?s<(D.left+D.right)/2?"before":"after":a<(D.top+D.bottom)/2?"before":"after"}function L7(f,t){const s=f.editing.mapper,a=f.editing.view,d=s.toModelElement(t);if(d)return d;const p=a.createPositionBefore(t),w=s.findMappedViewAncestor(p);return s.toModelElement(w)}class Use extends it{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(ur())}static get pluginName(){return"DragDropBlockToolbar"}init(){const t=this.editor;if(this.listenTo(t,"change:isReadOnly",(s,a,d)=>{d?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),y.isAndroid&&this.forceDisabled("noAndroidSupport"),t.plugins.has("BlockToolbar")){const s=t.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(s,"dragstart",(a,d)=>this._handleBlockDragStart(d)),this._domEmitter.listenTo(de.document,"dragover",(a,d)=>this._handleBlockDragging(d)),this._domEmitter.listenTo(de.document,"drop",(a,d)=>this._handleBlockDragging(d)),this._domEmitter.listenTo(de.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&s.setAttribute("draggable","true"),this.on("change:isEnabled",(a,d,p)=>{s.setAttribute("draggable",p?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(t){if(!this.isEnabled)return;const s=this.editor.model,a=s.document.selection,d=this.editor.editing.view,p=Array.from(a.getSelectedBlocks()),w=s.createRange(s.createPositionBefore(p[0]),s.createPositionAfter(p[p.length-1]));s.change(k=>k.setSelection(w)),this._isBlockDragging=!0,d.focus(),d.getObserver(C_).onDomEvent(t)}_handleBlockDragging(t){if(!this.isEnabled||!this._isBlockDragging)return;const s=t.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),a=t.clientY,d=document.elementFromPoint(s,a),p=this.editor.editing.view;d&&d.closest(".ck-editor__editable")&&p.getObserver(C_).onDomEvent({...t,type:t.type,dataTransfer:t.dataTransfer,target:d,clientX:s,clientY:a,preventDefault:()=>t.preventDefault(),stopPropagation:()=>t.stopPropagation()})}_handleBlockDragEnd(){this._isBlockDragging=!1}}var BC=o(799),I_={attributes:{"data-cke":!0}};I_.setAttributes=Tt(),I_.insert=Ot().bind(null,"head"),I_.domAPI=Rt(),I_.insertStyleElement=Mt(),It()(BC.Z,I_),BC.Z&&BC.Z.locals&&BC.Z.locals;class Lse extends it{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=xg(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new(ur())}static get pluginName(){return"DragDrop"}static get requires(){return[oh,P_,UC,Use]}init(){const t=this.editor,s=t.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,s.addObserver(C_),s.addObserver(YA),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(t,"change:isReadOnly",(a,d,p)=>{p?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(a,d,p)=>{p||this._finalizeDragging(!1)}),y.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const t=this.editor,s=t.model,a=t.editing.view,d=a.document,p=t.plugins.get(UC);this.listenTo(d,"dragstart",(w,k)=>{if(k.target&&k.target.is("editableElement")||(this._prepareDraggedRange(k.target),!this._draggedRange))return void k.preventDefault();this._draggingUid=O(),k.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",k.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const D=s.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(k.dataTransfer,D,"dragstart");const{dataTransfer:R,domTarget:M,domEvent:L}=k,{clientX:W}=L;this._updatePreview({dataTransfer:R,domTarget:M,clientX:W}),k.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(d,"dragend",(w,k)=>{this._finalizeDragging(!k.dataTransfer.isCanceled&&k.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(de.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(d,"dragenter",()=>{this.isEnabled&&a.focus()}),this.listenTo(d,"dragleave",()=>{p.removeDropMarkerDelayed()}),this.listenTo(d,"dragging",(w,k)=>{if(!this.isEnabled)return void(k.dataTransfer.dropEffect="none");const{clientX:D,clientY:R}=k.domEvent;p.updateDropMarker(k.target,k.targetRanges,D,R,this._blockMode),this._draggedRange||(k.dataTransfer.dropEffect="copy"),y.isGecko||(k.dataTransfer.effectAllowed=="copy"?k.dataTransfer.dropEffect="copy":["all","copyMove"].includes(k.dataTransfer.effectAllowed)&&(k.dataTransfer.dropEffect="move")),w.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const t=this.editor,s=t.editing.view.document,a=t.plugins.get(UC);this.listenTo(s,"clipboardInput",(d,p)=>{if(p.method!="drop")return;const{clientX:w,clientY:k}=p.domEvent,D=a.getFinalDropRange(p.target,p.targetRanges,w,k,this._blockMode);if(!D)return this._finalizeDragging(!1),void d.stop();if(this._draggedRange&&this._draggingUid!=p.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),B7(p.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(D,!0))return this._finalizeDragging(!1),void d.stop();p.targetRanges=[t.editing.mapper.toViewRange(D)]},{priority:"high"})}_setupContentInsertionIntegration(){const t=this.editor.plugins.get(oh);t.on("contentInsertion",(s,a)=>{if(!this.isEnabled||a.method!=="drop")return;const d=a.targetRanges.map(p=>this.editor.editing.mapper.toModelRange(p));this.editor.model.change(p=>p.setSelection(d))},{priority:"high"}),t.on("contentInsertion",(s,a)=>{if(!this.isEnabled||a.method!=="drop")return;const d=B7(a.dataTransfer)=="move",p=!a.resultRange||!a.resultRange.isCollapsed;this._finalizeDragging(p&&d)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const t=this.editor,s=t.editing.view,a=s.document;this.listenTo(a,"mousedown",(d,p)=>{if(y.isAndroid||!p)return;this._clearDraggableAttributesDelayed.cancel();let w=z7(p.target);if(y.isBlink&&!t.isReadOnly&&!w&&!a.selection.isCollapsed){const k=a.selection.getSelectedElement();k&&Er(k)||(w=a.selection.editableElement)}w&&(s.change(k=>{k.setAttribute("draggable","true",w)}),this._draggableElement=t.editing.mapper.toModelElement(w))}),this.listenTo(a,"mouseup",()=>{y.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const t=this.editor.editing;t.view.change(s=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&s.removeAttribute("draggable",t.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(t){const s=this.editor,a=s.model;s.plugins.get(UC).removeDropMarker(),this._clearDraggableAttributes(),s.plugins.has("WidgetToolbarRepository")&&s.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(t&&this.isEnabled&&a.change(d=>{const p=a.createSelection(this._draggedRange);a.deleteContent(p,{doNotAutoparagraph:!0});const w=p.getFirstPosition().parent;w.isEmpty&&!a.schema.checkChild(w,"$text")&&a.schema.checkChild(w,"paragraph")&&d.insertElement("paragraph",w,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(t){const s=this.editor,a=s.model,d=a.document.selection,p=t?z7(t):null;if(p){const R=s.editing.mapper.toModelElement(p);this._draggedRange=Na.fromRange(a.createRangeOn(R)),this._blockMode=a.schema.isBlock(R),s.plugins.has("WidgetToolbarRepository")&&s.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(d.isCollapsed&&!d.getFirstPosition().parent.isEmpty)return;const w=Array.from(d.getSelectedBlocks()),k=d.getFirstRange();if(w.length==0)return void(this._draggedRange=Na.fromRange(k));const D=V7(a,w);if(w.length>1)this._draggedRange=Na.fromRange(D),this._blockMode=!0;else if(w.length==1){const R=k.start.isTouching(D.start)&&k.end.isTouching(D.end);this._draggedRange=Na.fromRange(R?D:k),this._blockMode=R}a.change(R=>R.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:t,domTarget:s,clientX:a}){const d=this.editor.editing.view,p=d.document.selection.editableElement,w=d.domConverter.mapViewToDom(p),k=de.window.getComputedStyle(w);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=Ir(de.document,"div",{style:"position: fixed; left: -999999px;"}),de.document.body.appendChild(this._previewContainer));const D=new vt(w);if(w.contains(s))return;const R=parseFloat(k.paddingLeft),M=Ir(de.document,"div");M.className="ck ck-content",M.style.width=k.width,M.style.paddingLeft=`${D.left-a+R}px`,y.isiOS&&(M.style.backgroundColor="white"),M.innerHTML=t.getData("text/html"),t.setDragImage(M,0,0),this._previewContainer.appendChild(M)}}function B7(f){return y.isGecko?f.dropEffect:["all","copyMove"].includes(f.effectAllowed)?"move":"copy"}function z7(f){if(f.is("editableElement"))return null;if(f.hasClass("ck-widget__selection-handle"))return f.findAncestor(Er);if(Er(f))return f;const t=f.findAncestor(s=>Er(s)||s.is("editableElement"));return Er(t)?t:null}function V7(f,t){const s=t[0],a=t[t.length-1],d=s.getCommonAncestor(a),p=f.createPositionBefore(s),w=f.createPositionAfter(a);if(d&&d.is("element")&&!f.schema.isLimit(d)){const k=f.createRangeOn(d),D=p.isTouching(k.start),R=w.isTouching(k.end);if(D&&R)return V7(f,[d])}return f.createRange(p,w)}class Bse extends it{static get pluginName(){return"PastePlainText"}static get requires(){return[oh]}init(){const t=this.editor,s=t.model,a=t.editing.view,d=a.document,p=s.document.selection;let w=!1;a.addObserver(C_),this.listenTo(d,"keydown",(k,D)=>{w=D.shiftKey}),t.plugins.get(oh).on("contentInsertion",(k,D)=>{(w||function(R,M){if(R.childCount>1)return!1;const L=R.getChild(0);return M.isObject(L)?!1:Array.from(L.getAttributeKeys()).length==0}(D.content,s.schema))&&s.change(R=>{const M=Array.from(p.getAttributes()).filter(([W])=>s.schema.getAttributeProperties(W).isFormatting);p.isCollapsed||s.deleteContent(p,{doNotAutoparagraph:!0}),M.push(...p.getAttributes());const L=R.createRangeIn(D.content);for(const W of L.getItems())W.is("$textProxy")&&R.setAttributes(M,W)})})}}class W7 extends it{static get pluginName(){return"Clipboard"}static get requires(){return[oh,Lse,Bse]}}class zse extends cn{constructor(t){super(t),this.affectsData=!1}execute(){const t=this.editor.model,s=t.document.selection;let a=t.schema.getLimitElement(s);if(s.containsEntireContent(a)||!$7(t.schema,a))do if(a=a.parent,!a)return;while(!$7(t.schema,a));t.change(d=>{d.setSelection(a,"in")})}}function $7(f,t){return f.isLimit(t)&&(f.checkChild(t,"$text")||f.checkChild(t,"paragraph"))}const Vse=Br("Ctrl+A");class Wse extends it{static get pluginName(){return"SelectAllEditing"}init(){const t=this.editor,s=t.editing.view.document;t.commands.add("selectAll",new zse(t)),this.listenTo(s,"keydown",(a,d)=>{Ri(d)===Vse&&(t.execute("selectAll"),d.preventDefault())})}}class $se extends it{static get pluginName(){return"SelectAllUI"}init(){const t=this.editor;t.ui.componentFactory.add("selectAll",s=>{const a=t.commands.get("selectAll"),d=new Mn(s),p=s.t;return d.set({label:p("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),d.bind("isEnabled").to(a,"isEnabled"),this.listenTo(d,"execute",()=>{t.execute("selectAll"),t.editing.view.focus()}),d})}}class qse extends it{static get requires(){return[Wse,$se]}static get pluginName(){return"SelectAll"}}class q7 extends cn{constructor(t){super(t),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(t.data,"set",(s,a)=>{a[1]={...a[1]};const d=a[1];d.batchType||(d.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(t.data,"set",(s,a)=>{a[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(t){const s=this.editor.model.document.selection,a={ranges:s.hasOwnRange?Array.from(s.getRanges()):[],isBackward:s.isBackward};this._stack.push({batch:t,selection:a}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(t,s,a){const d=this.editor.model,p=d.document,w=[],k=t.map(R=>R.getTransformedByOperations(a)),D=k.flat();for(const R of k){const M=R.filter(L=>L.root!=p.graveyard).filter(L=>!Gse(L,D));M.length&&(Hse(M),w.push(M[0]))}w.length&&d.change(R=>{R.setSelection(w,{backward:s})})}_undo(t,s){const a=this.editor.model,d=a.document;this._createdBatches.add(s);const p=t.operations.slice().filter(w=>w.isDocumentOperation);p.reverse();for(const w of p){const k=w.baseVersion+1,D=Array.from(d.history.getOperations(k)),R=ere([w.getReversed()],D,{useRelations:!0,document:this.editor.model.document,forceWeakRemove:!0}).operationsA;for(let M of R){const L=M.affectedSelectable;L&&!a.canEditAt(L)&&(M=new kr(M.baseVersion)),s.addOperation(M),a.applyOperation(M),d.history.setOperationAsUndone(w,M)}}}}function Hse(f){f.sort((t,s)=>t.start.isBefore(s.start)?-1:1);for(let t=1;t<f.length;t++){const s=f[t-1].getJoined(f[t],!0);s&&(t--,f.splice(t,2,s))}}function Gse(f,t){return t.some(s=>s!==f&&s.containsRange(f,!0))}class Xse extends q7{execute(t=null){const s=t?this._stack.findIndex(p=>p.batch==t):this._stack.length-1,a=this._stack.splice(s,1)[0],d=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(d,()=>{this._undo(a.batch,d);const p=this.editor.model.document.history.getOperations(a.batch.baseVersion);this._restoreSelection(a.selection.ranges,a.selection.isBackward,p)}),this.fire("revert",a.batch,d),this.refresh()}}class Kse extends q7{execute(){const t=this._stack.pop(),s=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(s,()=>{const a=t.batch.operations[t.batch.operations.length-1].baseVersion+1,d=this.editor.model.document.history.getOperations(a);this._restoreSelection(t.selection.ranges,t.selection.isBackward,d),this._undo(t.batch,s)}),this.refresh()}}class Yse extends it{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const t=this.editor;this._undoCommand=new Xse(t),this._redoCommand=new Kse(t),t.commands.add("undo",this._undoCommand),t.commands.add("redo",this._redoCommand),this.listenTo(t.model,"applyOperation",(s,a)=>{const d=a[0];if(!d.isDocumentOperation)return;const p=d.batch,w=this._redoCommand.createdBatches.has(p),k=this._undoCommand.createdBatches.has(p);this._batchRegistry.has(p)||(this._batchRegistry.add(p),p.isUndoable&&(w?this._undoCommand.addBatch(p):k||(this._undoCommand.addBatch(p),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(s,a,d)=>{this._redoCommand.addBatch(d)}),t.keystrokes.set("CTRL+Z","undo"),t.keystrokes.set("CTRL+Y","redo"),t.keystrokes.set("CTRL+SHIFT+Z","redo")}}const H7='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',G7='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class Zse extends it{static get pluginName(){return"UndoUI"}init(){const t=this.editor,s=t.locale,a=t.t,d=s.uiLanguageDirection=="ltr"?H7:G7,p=s.uiLanguageDirection=="ltr"?G7:H7;this._addButton("undo",a("Undo"),"CTRL+Z",d),this._addButton("redo",a("Redo"),"CTRL+Y",p)}_addButton(t,s,a,d){const p=this.editor;p.ui.componentFactory.add(t,w=>{const k=p.commands.get(t),D=new Mn(w);return D.set({label:s,icon:d,keystroke:a,tooltip:!0}),D.bind("isEnabled").to(k,"isEnabled"),this.listenTo(D,"execute",()=>{p.execute(t),p.editing.view.focus()}),D})}}class X7 extends it{static get requires(){return[Yse,Zse]}static get pluginName(){return"Undo"}}function pp(f,t,s,a){let d,p=null;typeof a=="function"?d=a:(p=f.commands.get(a),d=()=>{f.execute(a)}),f.model.document.on("change:data",(w,k)=>{if(p&&!p.isEnabled||!t.isEnabled)return;const D=ci(f.model.document.selection.getRanges());if(!D.isCollapsed||k.isUndo||!k.isLocal)return;const R=Array.from(f.model.document.differ.getChanges()),M=R[0];if(R.length!=1||M.type!=="insert"||M.name!="$text"||M.length!=1)return;const L=M.position.parent;if(L.is("element","codeBlock")||L.is("element","listItem")&&typeof a!="function"&&!["numberedList","bulletedList","todoList"].includes(a)||p&&p.value===!0)return;const W=L.getChild(0),J=f.model.createRangeOn(W);if(!J.containsRange(D)&&!D.end.isEqual(J.end))return;const re=s.exec(W.data.substr(0,D.end.offset));re&&f.model.enqueueChange(ae=>{const ve=ae.createPositionAt(L,0),je=ae.createPositionAt(L,re[0].length),$e=new Na(ve,je);if(d({match:re})!==!1){ae.remove($e);const Qe=f.model.document.selection.getFirstRange(),St=ae.createRangeIn(L);!L.isEmpty||St.isEqual(Qe)||St.containsRange(Qe,!0)||ae.remove(L)}$e.detach(),f.model.enqueueChange(()=>{f.plugins.get("Delete").requestUndoOnBackspace()})})})}function ov(f,t,s,a){let d,p;s instanceof RegExp?d=s:p=s,p=p||(w=>{let k;const D=[],R=[];for(;(k=d.exec(w))!==null&&!(k&&k.length<4);){let{index:M,1:L,2:W,3:J}=k;const re=L+W+J;M+=k[0].length-re.length;const ae=[M,M+L.length],ve=[M+L.length+W.length,M+L.length+W.length+J.length];D.push(ae),D.push(ve),R.push([M+L.length,M+L.length+W.length])}return{remove:D,format:R}}),f.model.document.on("change:data",(w,k)=>{if(k.isUndo||!k.isLocal||!t.isEnabled)return;const D=f.model,R=D.document.selection;if(!R.isCollapsed)return;const M=Array.from(D.document.differ.getChanges()),L=M[0];if(M.length!=1||L.type!=="insert"||L.name!="$text"||L.length!=1)return;const W=R.focus,J=W.parent,{text:re,range:ae}=function(Qe,St){let tn=Qe.start;return{text:Array.from(Qe.getItems()).reduce((Un,$r)=>!$r.is("$text")&&!$r.is("$textProxy")||$r.getAttribute("code")?(tn=St.createPositionAfter($r),""):Un+$r.data,""),range:St.createRange(tn,Qe.end)}}(D.createRange(D.createPositionAt(J,0),W),D),ve=p(re),je=K7(ae.start,ve.format,D),$e=K7(ae.start,ve.remove,D);je.length&&$e.length&&D.enqueueChange(Qe=>{if(a(Qe,je)!==!1){for(const St of $e.reverse())Qe.remove(St);D.enqueueChange(()=>{f.plugins.get("Delete").requestUndoOnBackspace()})}})})}function K7(f,t,s){return t.filter(a=>a[0]!==void 0&&a[1]!==void 0).map(a=>s.createRange(f.getShiftedBy(a[0]),f.getShiftedBy(a[1])))}function zC(f,t){return(s,a)=>{if(!f.commands.get(t).isEnabled)return!1;const d=f.model.schema.getValidRanges(a,t);for(const p of d)s.setAttribute(t,!0,p);s.removeSelectionAttribute(t)}}class tj extends cn{constructor(t,s){super(t),this.attributeKey=s}refresh(){const t=this.editor.model,s=t.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=t.schema.checkAttributeInSelection(s.selection,this.attributeKey)}execute(t={}){const s=this.editor.model,a=s.document.selection,d=t.forceValue===void 0?!this.value:t.forceValue;s.change(p=>{if(a.isCollapsed)d?p.setSelectionAttribute(this.attributeKey,!0):p.removeSelectionAttribute(this.attributeKey);else{const w=s.schema.getValidRanges(a.getRanges(),this.attributeKey);for(const k of w)d?p.setAttribute(this.attributeKey,d,k):p.removeAttribute(this.attributeKey,k)}})}_getValueFromFirstAllowedNode(){const t=this.editor.model,s=t.schema,a=t.document.selection;if(a.isCollapsed)return a.hasAttribute(this.attributeKey);for(const d of a.getRanges())for(const p of d.getItems())if(s.checkAttribute(p,this.attributeKey))return p.hasAttribute(this.attributeKey);return!1}}const av="bold";class Jse extends it{static get pluginName(){return"BoldEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:av}),t.model.schema.setAttributeProperties(av,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:av,view:"strong",upcastAlso:["b",s=>{const a=s.getStyle("font-weight");return a&&(a=="bold"||Number(a)>=600)?{name:!0,styles:["font-weight"]}:null}]}),t.commands.add(av,new tj(t,av)),t.keystrokes.set("CTRL+B",av)}}const nj="bold";class Qse extends it{static get pluginName(){return"BoldUI"}init(){const t=this.editor,s=t.t;t.ui.componentFactory.add(nj,a=>{const d=t.commands.get(nj),p=new Mn(a);return p.set({label:s("Bold"),icon:Kn.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),p.bind("isOn","isEnabled").to(d,"value","isEnabled"),this.listenTo(p,"execute",()=>{t.execute(nj),t.editing.view.focus()}),p})}}const lv="italic";class eoe extends it{static get pluginName(){return"ItalicEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:lv}),t.model.schema.setAttributeProperties(lv,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:lv,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),t.commands.add(lv,new tj(t,lv)),t.keystrokes.set("CTRL+I",lv)}}const ij="italic";class toe extends it{static get pluginName(){return"ItalicUI"}init(){const t=this.editor,s=t.t;t.ui.componentFactory.add(ij,a=>{const d=t.commands.get(ij),p=new Mn(a);return p.set({label:s("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),p.bind("isOn","isEnabled").to(d,"value","isEnabled"),this.listenTo(p,"execute",()=>{t.execute(ij),t.editing.view.focus()}),p})}}const Vg="code";class noe extends it{static get pluginName(){return"CodeEditing"}static get requires(){return[DC]}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:Vg}),t.model.schema.setAttributeProperties(Vg,{isFormatting:!0,copyOnEnter:!1}),t.conversion.attributeToElement({model:Vg,view:"code",upcastAlso:{styles:{"word-wrap":"break-word"}}}),t.commands.add(Vg,new tj(t,Vg)),t.plugins.get(DC).registerAttribute(Vg),w7(t,Vg,"code","ck-code_selected")}}var VC=o(5363),R_={attributes:{"data-cke":!0}};R_.setAttributes=Tt(),R_.insert=Ot().bind(null,"head"),R_.domAPI=Rt(),R_.insertStyleElement=Mt(),It()(VC.Z,R_),VC.Z&&VC.Z.locals&&VC.Z.locals;const rj="code";class ioe extends it{static get pluginName(){return"CodeUI"}init(){const t=this.editor,s=t.t;t.ui.componentFactory.add(rj,a=>{const d=t.commands.get(rj),p=new Mn(a);return p.set({label:s("Code"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.5 5.7 5.2 3.9v1.3l-5.6 4c-.1.2-.3.2-.5.2-.3-.1-.6-.7-.6-1l.3-.4 4.7-3.5L11.5 7l-.2-.2c-.1-.3-.1-.6 0-.8.2-.2.5-.4.8-.4a.8.8 0 0 1 .4.1zm-5.2 0L2 9.6v1.3l5.6 4c.1.2.3.2.5.2.3-.1.7-.7.6-1 0-.1 0-.3-.2-.4l-5-3.5L8.2 7l.2-.2c.1-.3.1-.6 0-.8-.2-.2-.5-.4-.8-.4a.8.8 0 0 0-.3.1z"/></svg>',tooltip:!0,isToggleable:!0}),p.bind("isOn","isEnabled").to(d,"value","isEnabled"),this.listenTo(p,"execute",()=>{t.execute(rj),t.editing.view.focus()}),p})}}function sj(f){const t=f.t,s=f.config.get("codeBlock.languages");for(const a of s)a.label==="Plain text"&&(a.label=t("Plain text")),a.class===void 0&&(a.class=`language-${a.language}`);return s}function oj(f,t,s){const a={};for(const d of f)t==="class"?a[d[t].split(" ").shift()]=d[s]:a[d[t]]=d[s];return a}function aj(f){return f.data.match(/^(\s*)/)[0]}function Y7(f,t){const s=f.createDocumentFragment(),a=t.split(`
`).map(p=>f.createText(p)),d=a[a.length-1];for(const p of a)f.append(p,s),p!==d&&f.appendElement("softBreak",s);return s}function lj(f){const t=f.document.selection,s=[];if(t.isCollapsed)s.push(t.anchor);else{const a=t.getFirstRange().getWalker({ignoreElementEnd:!0,direction:"backward"});for(const{item:d}of a)if(d.is("$textProxy")&&d.parent.is("element","codeBlock")){const p=aj(d.textNode),{parent:w,startOffset:k}=d.textNode,D=f.createPositionAt(w,k+p.length);s.push(D)}}return s}function Z7(f){const t=ci(f.getSelectedBlocks());return t&&t.is("element","codeBlock")}var roe=o(4670),soe=o.n(roe);class ooe extends cn{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const s=this.editor,a=s.model,d=a.document.selection,p=sj(s)[0],w=Array.from(d.getSelectedBlocks()),k=t.forceValue===void 0?!this.value:t.forceValue,D=t.language||p.language;a.change(R=>{k?this._applyCodeBlock(R,w,D):this._removeCodeBlock(R,w)})}_getValue(){const t=ci(this.editor.model.document.selection.getSelectedBlocks());return!(!t||!t.is("element","codeBlock"))&&t.getAttribute("language")}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.document.selection,s=this.editor.model.schema,a=ci(t.getSelectedBlocks());return!!a&&J7(s,a)}_applyCodeBlock(t,s,a){const d=this.editor.model.schema,p=s.filter(w=>J7(d,w));for(const w of p)t.rename(w,"codeBlock"),t.setAttribute("language",a,w),t.setAttribute("codeID",soe().generate(),w),d.removeDisallowedAttributes([w],t);p.reverse().forEach((w,k)=>{const D=p[k+1];w.previousSibling===D&&(t.appendElement("softBreak",D),t.merge(t.createPositionBefore(w)))})}_removeCodeBlock(t,s){const a=s.filter(d=>d.is("element","codeBlock"));for(const d of a){const p=t.createRangeOn(d);for(const w of Array.from(p.getItems()).reverse())if(w.is("element","softBreak")&&w.parent.is("element","codeBlock")){const{position:k}=t.split(t.createPositionBefore(w));t.rename(k.nodeAfter,"paragraph"),t.removeAttribute("language",k.nodeAfter),t.remove(w)}t.rename(d,"paragraph"),t.removeAttribute("language",d)}}}function J7(f,t){return!t.is("rootElement")&&!f.isLimit(t)&&f.checkChild(t.parent,"codeBlock")}class aoe extends cn{constructor(t){super(t),this._indentSequence=t.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model;t.change(s=>{const a=lj(t);for(const d of a)s.insertText(this._indentSequence,d)})}_checkEnabled(){return!!this._indentSequence&&Z7(this.editor.model.document.selection)}}class loe extends cn{constructor(t){super(t),this._indentSequence=t.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model;t.change(s=>{const a=lj(t);for(const d of a){const p=Q7(this.editor.model,d,this._indentSequence);p&&s.remove(p)}})}_checkEnabled(){if(!this._indentSequence)return!1;const t=this.editor.model;return!!Z7(t.document.selection)&&lj(t).some(s=>Q7(t,s,this._indentSequence))}}function Q7(f,t,s){const a=function(D){let R=D.parent.getChild(D.index);return R&&!R.is("element","softBreak")||(R=D.nodeBefore),!R||R.is("element","softBreak")?null:R}(t);if(!a)return null;const d=aj(a),p=d.lastIndexOf(s);if(p+s.length!==d.length||p===-1)return null;const{parent:w,startOffset:k}=a;return f.createRange(f.createPositionAt(w,k+p),f.createPositionAt(w,k+p+s.length))}function e9(f,t,s=!1){const a=oj(t,"language","class"),d=oj(t,"language","label");return(p,w,k)=>{const{writer:D,mapper:R,consumable:M}=k;let L="";if(!M.consume(w.item,"insert"))return;const W=w.item.getAttribute("language"),J=w.item.getAttribute("codeID"),re=R.toViewPosition(f.createPositionBefore(w.item)),ae={};s?(ae["data-language"]=d[W],ae.spellcheck="false"):L=J;const ve=D.createContainerElement("pre",ae),je=D.createContainerElement("code",{class:a[W]||null,id:L||null});D.insert(D.createPositionAt(ve,0),je),D.insert(re,ve),R.bindElements(w.item,je)}}const t9="paragraph";class coe extends it{static get pluginName(){return"CodeBlockEditing"}static get requires(){return[S7]}constructor(t){super(t),t.config.define("codeBlock",{languages:[{language:"plaintext",label:"Plain text"},{language:"c",label:"C"},{language:"cs",label:"C#"},{language:"cpp",label:"C++"},{language:"css",label:"CSS"},{language:"diff",label:"Diff"},{language:"html",label:"HTML"},{language:"java",label:"Java"},{language:"javascript",label:"JavaScript"},{language:"php",label:"PHP"},{language:"python",label:"Python"},{language:"ruby",label:"Ruby"},{language:"typescript",label:"TypeScript"},{language:"xml",label:"XML"}],indentSequence:"	"})}init(){const t=this.editor,s=t.model.schema,a=t.model,d=sj(t);t.commands.add("codeBlock",new ooe(t)),t.commands.add("indentCodeBlock",new aoe(t)),t.commands.add("outdentCodeBlock",new loe(t));const p=w=>(k,D)=>{this.editor.commands.get(w).isEnabled&&(this.editor.execute(w),D())};t.keystrokes.set("Tab",p("indentCodeBlock")),t.keystrokes.set("Shift+Tab",p("outdentCodeBlock")),s.register("codeBlock",{allowWhere:"$block",isBlock:!0,allowAttributes:["language","codeID"]}),s.extend("$text",{allowIn:"codeBlock"}),s.addAttributeCheck(w=>{if(w.endsWith("codeBlock $text"))return!1}),t.editing.downcastDispatcher.on("insert:codeBlock",e9(a,d,!0)),t.data.downcastDispatcher.on("insert:codeBlock",e9(a,d)),t.data.downcastDispatcher.on("insert:softBreak",function(w){return(k,D,R)=>{if(D.item.parent.name!=="codeBlock")return;const{writer:M,mapper:L,consumable:W}=R;if(!W.consume(D.item,"insert"))return;const J=L.toViewPosition(w.createPositionBefore(D.item));M.insert(J,M.createText(`
`))}}(a),{priority:"high"}),t.data.upcastDispatcher.on("element:pre",function(w,k){const D=oj(k,"class","language"),R=k[0].language;return(M,L,W)=>{const J=L.viewItem,re=J.getChild(0);if(!re||!re.is("element","code"))return;const{consumable:ae,writer:ve}=W;if(!ae.test(J,{name:!0})||!ae.test(re,{name:!0}))return;const je=ve.createElement("codeBlock"),$e=[...re.getClassNames()],Qe=re.getAttribute("id");Qe&&ve.setAttribute("codeID",Qe,je),$e.length||$e.push("");for(const tn of $e){const Fn=D[tn];if(Fn){ve.setAttribute("language",Fn,je);break}}je.hasAttribute("language")||ve.setAttribute("language",R,je);const St=Y7(ve,[...w.createRangeIn(re)].filter(tn=>tn.type==="text").map(({item:tn})=>tn.data).join(""));ve.append(St,je),W.safeInsert(je,L.modelCursor)&&(ae.consume(J,{name:!0}),ae.consume(re,{name:!0}),W.updateConversionResult(je,L))}}(t.editing.view,d)),this.listenTo(t.editing.view.document,"clipboardInput",(w,k)=>{const D=a.document.selection;if(!D.anchor.parent.is("element","codeBlock"))return;const R=k.dataTransfer.getData("text/plain");a.change(M=>{a.insertContent(Y7(M,R),D),w.stop()})}),this.listenTo(a,"getSelectedContent",(w,[k])=>{const D=k.anchor;!k.isCollapsed&&D.parent.is("element","codeBlock")&&D.hasSameParentAs(k.focus)&&a.change(R=>{const M=w.return;if(M.childCount>1||k.containsEntireContent(D.parent)){const L=R.createElement("codeBlock",D.parent.getAttributes());R.append(M,L);const W=R.createDocumentFragment();R.append(L,W),w.return=W}else{const L=M.getChild(0);s.checkAttribute(L,"code")&&R.setAttribute("code",!0,L)}})})}afterInit(){const t=this.editor,s=t.commands,a=s.get("indent"),d=s.get("outdent");a&&a.registerChildCommand(s.get("indentCodeBlock")),d&&d.registerChildCommand(s.get("outdentCodeBlock")),this.listenTo(t.editing.view.document,"enter",(p,w)=>{t.model.document.selection.getLastPosition().parent.is("element","codeBlock")&&(function(k,D){const R=k.model,M=R.document,L=k.editing.view,W=M.selection.getLastPosition(),J=W.nodeAfter;return D||!M.selection.isCollapsed||!W.isAtStart||!J||!J.is("element","softBreak")?!1:(k.model.change(re=>{k.execute("enter");const ae=M.selection.anchor.parent.previousSibling;re.rename(ae,t9),re.setSelection(ae,"in"),k.model.schema.removeDisallowedAttributes([ae],re),re.remove(J)}),L.scrollToTheSelection(),!0)}(t,w.isSoft)||function(k,D){const R=k.model,M=R.document,L=k.editing.view,W=M.selection.getLastPosition(),J=W.nodeBefore;let re;if(D||!M.selection.isCollapsed||!W.isAtEnd||!J)return!1;if(J.is("element","softBreak"))re=R.createRangeOn(J);else{if(!J.is("$text")||J.data.match(/\S/)||!J.previousSibling||!J.previousSibling.is("element","softBreak"))return!1;re=R.createRange(R.createPositionBefore(J.previousSibling),R.createPositionAfter(J))}return k.model.change(ae=>{ae.remove(re),k.execute("enter");const ve=M.selection.anchor.parent;ae.rename(ve,t9),k.model.schema.removeDisallowedAttributes([ve],ae)}),L.scrollToTheSelection(),!0}(t,w.isSoft)||function(k){const D=k.model,R=D.document,M=R.selection.getLastPosition(),L=M.nodeBefore||M.textNode;let W;L&&L.is("$text")&&(W=aj(L)),k.model.change(J=>{k.execute("shiftEnter"),W&&J.insertText(W,R.selection.anchor)})}(t),w.preventDefault(),p.stop())})}}var WC=o(6059),M_={attributes:{"data-cke":!0}};M_.setAttributes=Tt(),M_.insert=Ot().bind(null,"head"),M_.domAPI=Rt(),M_.insertStyleElement=Mt(),It()(WC.Z,M_),WC.Z&&WC.Z.locals&&WC.Z.locals;class uoe extends it{init(){const t=this.editor,s=t.t,a=t.ui.componentFactory,d=sj(t),p=d[0];a.add("codeBlock",w=>{const k=t.commands.get("codeBlock"),D=Lu(w,nC),R=D.buttonView;return R.set({label:s("Insert code block"),tooltip:!0,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231l.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2l-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',isToggleable:!0}),R.bind("isOn").to(k,"value",M=>!!M),R.on("execute",()=>{t.execute("codeBlock",{language:p.language}),t.editing.view.focus()}),D.on("execute",M=>{t.execute("codeBlock",{language:M.source._codeBlockLanguage,forceValue:!0}),t.editing.view.focus()}),D.class="ck-code-block-dropdown",D.bind("isEnabled").to(k),sC(D,this._getLanguageListItemDefinitions(d)),D})}_getLanguageListItemDefinitions(t){const s=this.editor.commands.get("codeBlock"),a=new Fs;for(const d of t){const p={type:"button",model:new mC({_codeBlockLanguage:d.language,label:d.label,withText:!0})};p.model.bind("isOn").to(s,"value",w=>w===p.model._codeBlockLanguage),a.add(p)}return a}}class doe extends cn{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const s=this.editor.model,a=s.schema,d=s.document.selection,p=Array.from(d.getSelectedBlocks()),w=t.forceValue===void 0?!this.value:t.forceValue;s.change(k=>{if(w){const D=p.filter(R=>$C(R)||i9(a,R));this._applyQuote(k,D)}else this._removeQuote(k,p.filter($C))})}_getValue(){const t=ci(this.editor.model.document.selection.getSelectedBlocks());return!(!t||!$C(t))}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.document.selection,s=this.editor.model.schema,a=ci(t.getSelectedBlocks());return!!a&&i9(s,a)}_removeQuote(t,s){n9(t,s).reverse().forEach(a=>{if(a.start.isAtStart&&a.end.isAtEnd)return void t.unwrap(a.start.parent);if(a.start.isAtStart){const p=t.createPositionBefore(a.start.parent);return void t.move(a,p)}a.end.isAtEnd||t.split(a.end);const d=t.createPositionAfter(a.end.parent);t.move(a,d)})}_applyQuote(t,s){const a=[];n9(t,s).reverse().forEach(d=>{let p=$C(d.start);p||(p=t.createElement("blockQuote"),t.wrap(d,p)),a.push(p)}),a.reverse().reduce((d,p)=>d.nextSibling==p?(t.merge(t.createPositionAfter(d)),d):p)}}function $C(f){return f.parent.name=="blockQuote"?f.parent:null}function n9(f,t){let s,a=0;const d=[];for(;a<t.length;){const p=t[a],w=t[a+1];s||(s=f.createPositionBefore(p)),w&&p.nextSibling==w||(d.push(f.createRange(s,f.createPositionAfter(p))),s=null),a++}return d}function i9(f,t){const s=f.checkChild(t.parent,"blockQuote"),a=f.checkChild(["$root","blockQuote"],t);return s&&a}class hoe extends it{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[jC,ah]}init(){const t=this.editor,s=t.model.schema;t.commands.add("blockQuote",new doe(t)),s.register("blockQuote",{inheritAllFrom:"$container"}),t.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),t.model.document.registerPostFixer(w=>{const k=t.model.document.differ.getChanges();for(const D of k)if(D.type=="insert"){const R=D.position.nodeAfter;if(!R)continue;if(R.is("element","blockQuote")&&R.isEmpty)return w.remove(R),!0;if(R.is("element","blockQuote")&&!s.checkChild(D.position,R))return w.unwrap(R),!0;if(R.is("element")){const M=w.createRangeIn(R);for(const L of M.getItems())if(L.is("element","blockQuote")&&!s.checkChild(w.createPositionBefore(L),L))return w.unwrap(L),!0}}else if(D.type=="remove"){const R=D.position.parent;if(R.is("element","blockQuote")&&R.isEmpty)return w.remove(R),!0}return!1});const a=this.editor.editing.view.document,d=t.model.document.selection,p=t.commands.get("blockQuote");this.listenTo(a,"enter",(w,k)=>{!d.isCollapsed||!p.value||d.getLastPosition().parent.isEmpty&&(t.execute("blockQuote"),t.editing.view.scrollToTheSelection(),k.preventDefault(),w.stop())},{context:"blockquote"}),this.listenTo(a,"delete",(w,k)=>{if(k.direction!="backward"||!d.isCollapsed||!p.value)return;const D=d.getLastPosition().parent;D.isEmpty&&!D.previousSibling&&(t.execute("blockQuote"),t.editing.view.scrollToTheSelection(),k.preventDefault(),w.stop())},{context:"blockquote"})}}var qC=o(3789),O_={attributes:{"data-cke":!0}};O_.setAttributes=Tt(),O_.insert=Ot().bind(null,"head"),O_.domAPI=Rt(),O_.insertStyleElement=Mt(),It()(qC.Z,O_),qC.Z&&qC.Z.locals&&qC.Z.locals;class foe extends it{static get pluginName(){return"BlockQuoteUI"}init(){const t=this.editor,s=t.t;t.ui.componentFactory.add("blockQuote",a=>{const d=t.commands.get("blockQuote"),p=new Mn(a);return p.set({label:s("Block quote"),icon:Kn.quote,tooltip:!0,isToggleable:!0}),p.bind("isOn","isEnabled").to(d,"value","isEnabled"),this.listenTo(p,"execute",()=>{t.execute("blockQuote"),t.editing.view.focus()}),p})}}class poe extends cn{constructor(t){super(t),this._isEnabledBasedOnSelection=!1}refresh(){const t=this.editor.model,s=ci(t.document.selection.getSelectedBlocks());this.value=!!s&&s.is("element","paragraph"),this.isEnabled=!!s&&r9(s,t.schema)}execute(t={}){const s=this.editor.model,a=s.document,d=t.selection||a.selection;s.canEditAt(d)&&s.change(p=>{const w=d.getSelectedBlocks();for(const k of w)!k.is("element","paragraph")&&r9(k,s.schema)&&p.rename(k,"paragraph")})}}function r9(f,t){return t.checkChild(f.parent,"paragraph")&&!t.isObject(f)}class moe extends cn{constructor(t){super(t),this._isEnabledBasedOnSelection=!1}execute(t){const s=this.editor.model,a=t.attributes;let d=t.position;s.canEditAt(d)&&s.change(p=>{if(d=this._findPositionToInsertParagraph(d,p),!d)return;const w=p.createElement("paragraph");a&&s.schema.setAllowedAttributes(w,a,p),s.insertContent(w,d),p.setSelection(w,"in")})}_findPositionToInsertParagraph(t,s){const a=this.editor.model;if(a.schema.checkChild(t,"paragraph"))return t;const d=a.schema.findAllowedParent(t,"paragraph");if(!d)return null;const p=t.parent,w=a.schema.checkChild(p,"$text");return p.isEmpty||w&&t.isAtEnd?a.createPositionAfter(p):!p.isEmpty&&w&&t.isAtStart?a.createPositionBefore(p):s.split(t,d).position}}class F_ extends it{static get pluginName(){return"Paragraph"}init(){const t=this.editor,s=t.model;t.commands.add("paragraph",new poe(t)),t.commands.add("insertParagraph",new moe(t)),s.schema.register("paragraph",{inheritAllFrom:"$block"}),t.conversion.elementToElement({model:"paragraph",view:"p"}),t.conversion.for("upcast").elementToElement({model:(a,{writer:d})=>F_.paragraphLikeElements.has(a.name)?a.isEmpty?null:d.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}}F_.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class goe extends cn{constructor(t,s){super(t),this.modelElements=s}refresh(){const t=ci(this.editor.model.document.selection.getSelectedBlocks());this.value=!!t&&this.modelElements.includes(t.name)&&t.name,this.isEnabled=!!t&&this.modelElements.some(s=>s9(t,s,this.editor.model.schema))}execute(t){const s=this.editor.model,a=s.document,d=t.value;s.change(p=>{const w=Array.from(a.selection.getSelectedBlocks()).filter(k=>s9(k,d,s.schema));for(const k of w)k.is("element",d)||p.rename(k,d)})}}function s9(f,t,s){return s.checkChild(f.parent,t)&&!s.isObject(f)}const o9="paragraph";class boe extends it{static get pluginName(){return"HeadingEditing"}constructor(t){super(t),t.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[F_]}init(){const t=this.editor,s=t.config.get("heading.options"),a=[];for(const d of s)d.model!=="paragraph"&&(t.model.schema.register(d.model,{inheritAllFrom:"$block"}),t.conversion.elementToElement(d),a.push(d.model));this._addDefaultH1Conversion(t),t.commands.add("heading",new goe(t,a))}afterInit(){const t=this.editor,s=t.commands.get("enter"),a=t.config.get("heading.options");s&&this.listenTo(s,"afterExecute",(d,p)=>{const w=t.model.document.selection.getFirstPosition().parent;a.some(k=>w.is("element",k.model))&&!w.is("element",o9)&&w.childCount===0&&p.writer.rename(w,o9)})}_addDefaultH1Conversion(t){t.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:F.low+1})}}var HC=o(4249),U_={attributes:{"data-cke":!0}};U_.setAttributes=Tt(),U_.insert=Ot().bind(null,"head"),U_.domAPI=Rt(),U_.insertStyleElement=Mt(),It()(HC.Z,U_),HC.Z&&HC.Z.locals&&HC.Z.locals;class yoe extends it{static get pluginName(){return"HeadingUI"}init(){const t=this.editor,s=t.t,a=function(w){const k=w.t,D={Paragraph:k("Paragraph"),"Heading 1":k("Heading 1"),"Heading 2":k("Heading 2"),"Heading 3":k("Heading 3"),"Heading 4":k("Heading 4"),"Heading 5":k("Heading 5"),"Heading 6":k("Heading 6")};return w.config.get("heading.options").map(R=>{const M=D[R.title];return M&&M!=R.title&&(R.title=M),R})}(t),d=s("Choose heading"),p=s("Heading");t.ui.componentFactory.add("heading",w=>{const k={},D=new Fs,R=t.commands.get("heading"),M=t.commands.get("paragraph"),L=[R];for(const J of a){const re={type:"button",model:new mC({label:J.title,class:J.class,role:"menuitemradio",withText:!0})};J.model==="paragraph"?(re.model.bind("isOn").to(M,"value"),re.model.set("commandName","paragraph"),L.push(M)):(re.model.bind("isOn").to(R,"value",ae=>ae===J.model),re.model.set({commandName:"heading",commandValue:J.model})),D.add(re),k[J.model]=J.title}const W=Lu(w);return sC(W,D,{ariaLabel:p,role:"menu"}),W.buttonView.set({ariaLabel:p,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:p}),W.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),W.bind("isEnabled").toMany(L,"isEnabled",(...J)=>J.some(re=>re)),W.buttonView.bind("label").to(R,"value",M,"value",(J,re)=>{const ae=J||re&&"paragraph";return typeof ae=="boolean"?d:k[ae]?k[ae]:d}),this.listenTo(W,"execute",J=>{const{commandName:re,commandValue:ae}=J.source;t.execute(re,ae?{value:ae}:void 0),t.editing.view.focus()}),W})}}class voe extends cn{refresh(){const t=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!t,this.isEnabled&&t.hasAttribute("alt")?this.value=t.getAttribute("alt"):this.value=!1}execute(t){const s=this.editor,a=s.plugins.get("ImageUtils"),d=s.model,p=a.getClosestSelectedImageElement(d.document.selection);d.change(w=>{w.setAttribute("alt",t.newValue,p)})}}function a9(f){return f.createContainerElement("figure",{class:"image"},[f.createEmptyElement("img"),f.createSlot("children")])}function l9(f,t){const s=f.plugins.get("ImageUtils"),a=f.plugins.has("ImageInlineEditing")&&f.plugins.has("ImageBlockEditing");return p=>s.isInlineImageView(p)?a&&(p.getStyle("display")=="block"||p.findAncestor(s.isBlockImageView)?"imageBlock":"imageInline")!==t?null:d(p):null;function d(p){const w={name:!0};return p.hasAttribute("src")&&(w.attributes=["src"]),w}}function cj(f,t){const s=ci(t.getSelectedBlocks());return!s||f.isObject(s)||s.isEmpty&&s.name!="listItem"?"imageBlock":"imageInline"}function GC(f){return f&&f.endsWith("px")?parseInt(f):null}function XC(f){const t=GC(f.getStyle("width")),s=GC(f.getStyle("height"));return!(!t||!s)}const woe=/^(image|image-inline)$/;class ja extends it{constructor(){super(...arguments),this._domEmitter=new(ur())}static get pluginName(){return"ImageUtils"}isImage(t){return this.isInlineImage(t)||this.isBlockImage(t)}isInlineImageView(t){return!!t&&t.is("element","img")}isBlockImageView(t){return!!t&&t.is("element","figure")&&t.hasClass("image")}insertImage(t={},s=null,a=null,d={}){const p=this.editor,w=p.model,k=w.document.selection;a=c9(p,s||k,a),t={...Object.fromEntries(k.getAttributes()),...t};for(const D in t)w.schema.checkAttribute(a,D)||delete t[D];return w.change(D=>{const{setImageSizes:R=!0}=d,M=D.createElement(a,t);return w.insertObject(M,s,null,{setSelection:"on",findOptimalPosition:s||a=="imageInline"?void 0:"auto"}),M.parent?(R&&this.setImageNaturalSizeAttributes(M),M):null})}setImageNaturalSizeAttributes(t){const s=t.getAttribute("src");s&&(t.getAttribute("width")||t.getAttribute("height")||this.editor.model.change(a=>{const d=new de.window.Image;this._domEmitter.listenTo(d,"load",()=>{t.getAttribute("width")||t.getAttribute("height")||this.editor.model.enqueueChange(a.batch,p=>{p.setAttribute("width",d.naturalWidth,t),p.setAttribute("height",d.naturalHeight,t)}),this._domEmitter.stopListening(d,"load")}),d.src=s}))}getClosestSelectedImageWidget(t){const s=t.getFirstPosition();if(!s)return null;const a=t.getSelectedElement();if(a&&this.isImageWidget(a))return a;let d=s.parent;for(;d;){if(d.is("element")&&this.isImageWidget(d))return d;d=d.parent}return null}getClosestSelectedImageElement(t){const s=t.getSelectedElement();return this.isImage(s)?s:t.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(t){return t.findAncestor({classes:woe})}isImageAllowed(){const t=this.editor.model.document.selection;return function(s,a){if(c9(s,a,null)=="imageBlock"){const p=function(w,k){const D=D7(w,k),R=D.start.parent;return R.isEmpty&&!R.is("element","$root")?R.parent:R}(a,s.model);if(s.model.schema.checkChild(p,"imageBlock"))return!0}else if(s.model.schema.checkChild(a.focus,"imageInline"))return!0;return!1}(this.editor,t)&&function(s){return[...s.focus.getAncestors()].every(a=>!a.is("element","imageBlock"))}(t)}toImageWidget(t,s,a){return s.setCustomProperty("image",!0,t),JP(t,s,{label:()=>{const d=this.findViewImgElement(t).getAttribute("alt");return d?`${d} ${a}`:a}})}isImageWidget(t){return!!t.getCustomProperty("image")&&Er(t)}isBlockImage(t){return!!t&&t.is("element","imageBlock")}isInlineImage(t){return!!t&&t.is("element","imageInline")}findViewImgElement(t){if(this.isInlineImageView(t))return t;const s=this.editor.editing.view;for(const{item:a}of s.createRangeIn(t))if(this.isInlineImageView(a))return a}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function c9(f,t,s){const a=f.model.schema,d=f.config.get("image.insert.type");return f.plugins.has("ImageBlockEditing")?f.plugins.has("ImageInlineEditing")?s||(d==="inline"?"imageInline":d==="block"?"imageBlock":t.is("selection")?cj(a,t):a.checkChild(t,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class xoe extends it{static get requires(){return[ja]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new voe(this.editor))}}var KC=o(5269),L_={attributes:{"data-cke":!0}};L_.setAttributes=Tt(),L_.insert=Ot().bind(null,"head"),L_.domAPI=Rt(),L_.insertStyleElement=Mt(),It()(KC.Z,L_),KC.Z&&KC.Z.locals&&KC.Z.locals;var YC=o(6603),B_={attributes:{"data-cke":!0}};B_.setAttributes=Tt(),B_.insert=Ot().bind(null,"head"),B_.domAPI=Rt(),B_.insertStyleElement=Mt(),It()(YC.Z,B_),YC.Z&&YC.Z.locals&&YC.Z.locals;class _oe extends on{constructor(t){super(t);const s=this.locale.t;this.focusTracker=new Hi,this.keystrokes=new _a,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(s("Save"),Kn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(s("Cancel"),Kn.cancel,"ck-button-cancel","cancel"),this._focusables=new Lo,this._focusCycler=new xc({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),h({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(t,s,a,d){const p=new Mn(this.locale);return p.set({label:t,icon:s,tooltip:!0}),p.extendTemplate({attributes:{class:a}}),d&&p.delegate("execute").to(this,d),p}_createLabeledInputView(){const t=this.locale.t,s=new _u(this.locale,oC);return s.label=t("Text alternative"),s}}function u9(f){const t=f.editing.view,s=Bs.defaultPositions,a=f.plugins.get("ImageUtils");return{target:t.domConverter.mapViewToDom(a.getClosestSelectedImageWidget(t.document.selection)),positions:[s.northArrowSouth,s.northArrowSouthWest,s.northArrowSouthEast,s.southArrowNorth,s.southArrowNorthWest,s.southArrowNorthEast,s.viewportStickyNorth]}}class koe extends it{static get requires(){return[vC]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const t=this.editor,s=t.t;t.ui.componentFactory.add("imageTextAlternative",a=>{const d=t.commands.get("imageTextAlternative"),p=new Mn(a);return p.set({label:s("Change image text alternative"),icon:Kn.lowVision,tooltip:!0}),p.bind("isEnabled").to(d,"isEnabled"),p.bind("isOn").to(d,"value",w=>!!w),this.listenTo(p,"execute",()=>{this._showForm()}),p})}_createForm(){const t=this.editor,s=t.editing.view.document,a=t.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(u(_oe))(t.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{t.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(d,p)=>{this._hideForm(!0),p()}),this.listenTo(t.ui,"update",()=>{a.getClosestSelectedImageWidget(s.selection)?this._isVisible&&function(d){const p=d.plugins.get("ContextualBalloon");if(d.plugins.get("ImageUtils").getClosestSelectedImageWidget(d.editing.view.document.selection)){const w=u9(d);p.updatePosition(w)}}(t):this._hideForm(!0)}),c({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const t=this.editor,s=t.commands.get("imageTextAlternative"),a=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:u9(t)}),a.fieldView.value=a.fieldView.element.value=s.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(t=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),t&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class d9 extends it{static get requires(){return[xoe,koe]}static get pluginName(){return"ImageTextAlternative"}}function h9(f,t){const s=(a,d,p)=>{if(!p.consumable.consume(d.item,a.name))return;const w=p.writer,k=p.mapper.toViewElement(d.item),D=f.findViewImgElement(k);d.attributeNewValue===null?(w.removeAttribute("srcset",D),w.removeAttribute("sizes",D)):d.attributeNewValue&&(w.setAttribute("srcset",d.attributeNewValue,D),w.setAttribute("sizes","100vw",D))};return a=>{a.on(`attribute:srcset:${t}`,s)}}function ZC(f,t,s){const a=(d,p,w)=>{if(!w.consumable.consume(p.item,d.name))return;const k=w.writer,D=w.mapper.toViewElement(p.item),R=f.findViewImgElement(D);k.setAttribute(p.attributeKey,p.attributeNewValue||"",R)};return d=>{d.on(`attribute:${s}:${t}`,a)}}class f9 extends jl{observe(t){this.listenTo(t,"load",(s,a)=>{const d=a.target;this.checkShouldIgnoreEventFromTarget(d)||d.tagName=="IMG"&&this._fireEvents(a)},{useCapture:!0})}stopObserving(t){this.stopListening(t)}_fireEvents(t){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",t))}}class Eoe extends cn{constructor(t){super(t);const s=t.config.get("image.insert.type");t.plugins.has("ImageBlockEditing")||s==="block"&&K("image-block-plugin-required"),t.plugins.has("ImageInlineEditing")||s==="inline"&&K("image-inline-plugin-required")}refresh(){const t=this.editor.plugins.get("ImageUtils");this.isEnabled=t.isImageAllowed()}execute(t){const s=Rn(t.source),a=this.editor.model.document.selection,d=this.editor.plugins.get("ImageUtils"),p=Object.fromEntries(a.getAttributes());s.forEach((w,k)=>{const D=a.getSelectedElement();if(typeof w=="string"&&(w={src:w}),k&&D&&d.isImage(D)){const R=this.editor.model.createPositionAfter(D);d.insertImage({...w,...p},R)}else d.insertImage({...w,...p})})}}class Soe extends cn{refresh(){const t=this.editor.plugins.get("ImageUtils"),s=this.editor.model.document.selection.getSelectedElement();this.isEnabled=t.isImage(s),this.value=this.isEnabled?s.getAttribute("src"):null}execute(t){const s=this.editor.model.document.selection.getSelectedElement();this.editor.model.change(a=>{a.setAttribute("src",t.source,s),a.removeAttribute("srcset",s),a.removeAttribute("sizes",s)})}}class p9 extends it{static get requires(){return[ja]}static get pluginName(){return"ImageEditing"}init(){const t=this.editor,s=t.conversion;t.editing.view.addObserver(f9),s.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const a=new Eoe(t),d=new Soe(t);t.commands.add("insertImage",a),t.commands.add("replaceImageSource",d),t.commands.add("imageInsert",a)}}class m9 extends it{static get requires(){return[ja]}static get pluginName(){return"ImageSizeAttributes"}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(t){const s=this.editor,a=s.plugins.get("ImageUtils"),d=t==="imageBlock"?"figure":"img";function p(w,k,D,R){w.on(`attribute:${k}:${t}`,(M,L,W)=>{if(!W.consumable.consume(L.item,M.name))return;const J=W.writer,re=W.mapper.toViewElement(L.item),ae=a.findViewImgElement(re);if(L.attributeNewValue!==null?J.setAttribute(D,L.attributeNewValue,ae):J.removeAttribute(D,ae),L.item.hasAttribute("sources"))return;const ve=L.item.hasAttribute("resizedWidth");if(t==="imageInline"&&!ve&&!R)return;const je=L.item.getAttribute("width"),$e=L.item.getAttribute("height"),Qe=ae.getStyle("aspect-ratio");je&&$e&&!Qe&&J.setStyle("aspect-ratio",`${je}/${$e}`,ae)})}s.conversion.for("upcast").attributeToAttribute({view:{name:d,styles:{width:/.+/}},model:{key:"width",value:w=>XC(w)?GC(w.getStyle("width")):null}}).attributeToAttribute({view:{name:d,key:"width"},model:"width"}).attributeToAttribute({view:{name:d,styles:{height:/.+/}},model:{key:"height",value:w=>XC(w)?GC(w.getStyle("height")):null}}).attributeToAttribute({view:{name:d,key:"height"},model:"height"}),s.conversion.for("editingDowncast").add(w=>{p(w,"width","width",!0),p(w,"height","height",!0)}),s.conversion.for("dataDowncast").add(w=>{p(w,"width","width",!1),p(w,"height","height",!1)})}}class g9 extends cn{constructor(t,s){super(t),this._modelElementName=s}refresh(){const t=this.editor.plugins.get("ImageUtils"),s=t.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=t.isInlineImage(s):this.isEnabled=t.isBlockImage(s)}execute(t={}){const s=this.editor,a=this.editor.model,d=s.plugins.get("ImageUtils"),p=d.getClosestSelectedImageElement(a.document.selection),w=Object.fromEntries(p.getAttributes());return w.src||w.uploadId?a.change(k=>{const{setImageSizes:D=!0}=t,R=Array.from(a.markers).filter(W=>W.getRange().containsItem(p)),M=d.insertImage(w,a.createSelection(p,"on"),this._modelElementName,{setImageSizes:D});if(!M)return null;const L=k.createRangeOn(M);for(const W of R){const J=W.getRange(),re=J.root.rootName!="$graveyard"?J.getJoined(L,!0):L;k.updateMarker(W,{range:re})}return{oldElement:p,newElement:M}}):null}}class b9 extends it{static get requires(){return[p9,m9,ja,oh]}static get pluginName(){return"ImageBlockEditing"}init(){const t=this.editor;t.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),t.plugins.has("ImageInlineEditing")&&(t.commands.add("imageTypeBlock",new g9(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const t=this.editor,s=t.t,a=t.conversion,d=t.plugins.get("ImageUtils");a.for("dataDowncast").elementToStructure({model:"imageBlock",view:(p,{writer:w})=>a9(w)}),a.for("editingDowncast").elementToStructure({model:"imageBlock",view:(p,{writer:w})=>d.toImageWidget(a9(w),w,s("image widget"))}),a.for("downcast").add(ZC(d,"imageBlock","src")).add(ZC(d,"imageBlock","alt")).add(h9(d,"imageBlock")),a.for("upcast").elementToElement({view:l9(t,"imageBlock"),model:(p,{writer:w})=>w.createElement("imageBlock",p.hasAttribute("src")?{src:p.getAttribute("src")}:void 0)}).add(function(p){const w=(k,D,R)=>{if(!R.consumable.test(D.viewItem,{name:!0,classes:"image"}))return;const M=p.findViewImgElement(D.viewItem);if(!M||!R.consumable.test(M,{name:!0}))return;R.consumable.consume(D.viewItem,{name:!0,classes:"image"});const L=ci(R.convertItem(M,D.modelCursor).modelRange.getItems());L?(R.convertChildren(D.viewItem,L),R.updateConversionResult(L,D)):R.consumable.revert(D.viewItem,{name:!0,classes:"image"})};return k=>{k.on("element:figure",w)}}(d))}_setupClipboardIntegration(){const t=this.editor,s=t.model,a=t.editing.view,d=t.plugins.get("ImageUtils"),p=t.plugins.get("ClipboardPipeline");this.listenTo(p,"inputTransformation",(w,k)=>{const D=Array.from(k.content.getChildren());let R;if(!D.every(d.isInlineImageView))return;R=k.targetRanges?t.editing.mapper.toModelRange(k.targetRanges[0]):s.document.selection.getFirstRange();const M=s.createSelection(R);if(cj(s.schema,M)==="imageBlock"){const L=new RP(a.document),W=D.map(J=>L.createElement("figure",{class:"image"},J));k.content=L.createDocumentFragment(W)}}),this.listenTo(p,"contentInsertion",(w,k)=>{k.method==="paste"&&s.change(D=>{const R=D.createRangeIn(k.content);for(const M of R.getItems())M.is("element","imageBlock")&&d.setImageNaturalSizeAttributes(M)})})}}var JC=o(2430),z_={attributes:{"data-cke":!0}};z_.setAttributes=Tt(),z_.insert=Ot().bind(null,"head"),z_.domAPI=Rt(),z_.insertStyleElement=Mt(),It()(JC.Z,z_),JC.Z&&JC.Z.locals&&JC.Z.locals;class Aoe extends it{static get requires(){return[b9,P_,d9]}static get pluginName(){return"ImageBlock"}}class Coe extends it{static get requires(){return[p9,m9,ja,oh]}static get pluginName(){return"ImageInlineEditing"}init(){const t=this.editor,s=t.model.schema;s.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),s.addChildCheck((a,d)=>{if(a.endsWith("caption")&&d.name==="imageInline")return!1}),this._setupConversion(),t.plugins.has("ImageBlockEditing")&&(t.commands.add("imageTypeInline",new g9(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const t=this.editor,s=t.t,a=t.conversion,d=t.plugins.get("ImageUtils");a.for("dataDowncast").elementToElement({model:"imageInline",view:(p,{writer:w})=>w.createEmptyElement("img")}),a.for("editingDowncast").elementToStructure({model:"imageInline",view:(p,{writer:w})=>d.toImageWidget(function(k){return k.createContainerElement("span",{class:"image-inline"},k.createEmptyElement("img"))}(w),w,s("image widget"))}),a.for("downcast").add(ZC(d,"imageInline","src")).add(ZC(d,"imageInline","alt")).add(h9(d,"imageInline")),a.for("upcast").elementToElement({view:l9(t,"imageInline"),model:(p,{writer:w})=>w.createElement("imageInline",p.hasAttribute("src")?{src:p.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const t=this.editor,s=t.model,a=t.editing.view,d=t.plugins.get("ImageUtils"),p=t.plugins.get("ClipboardPipeline");this.listenTo(p,"inputTransformation",(w,k)=>{const D=Array.from(k.content.getChildren());let R;if(!D.every(d.isBlockImageView))return;R=k.targetRanges?t.editing.mapper.toModelRange(k.targetRanges[0]):s.document.selection.getFirstRange();const M=s.createSelection(R);if(cj(s.schema,M)==="imageInline"){const L=new RP(a.document),W=D.map(J=>J.childCount===1?(Array.from(J.getAttributes()).forEach(re=>L.setAttribute(...re,d.findViewImgElement(J))),J.getChild(0)):J);k.content=L.createDocumentFragment(W)}}),this.listenTo(p,"contentInsertion",(w,k)=>{k.method==="paste"&&s.change(D=>{const R=D.createRangeIn(k.content);for(const M of R.getItems())M.is("element","imageInline")&&d.setImageNaturalSizeAttributes(M)})})}}class Toe extends it{static get requires(){return[Coe,P_,d9]}static get pluginName(){return"ImageInline"}}class Doe extends cn{refresh(){const t=this.editor,s=t.plugins.get("ImageCaptionUtils"),a=t.plugins.get("ImageUtils");if(!t.plugins.has(b9))return this.isEnabled=!1,void(this.value=!1);const d=t.model.document.selection,p=d.getSelectedElement();if(!p){const w=s.getCaptionFromModelSelection(d);return this.isEnabled=!!w,void(this.value=!!w)}this.isEnabled=a.isImage(p),this.isEnabled?this.value=!!s.getCaptionFromImageModelElement(p):this.value=!1}execute(t={}){const{focusCaptionOnShow:s}=t;this.editor.model.change(a=>{this.value?this._hideImageCaption(a):this._showImageCaption(a,s)})}_showImageCaption(t,s){const a=this.editor.model.document.selection,d=this.editor.plugins.get("ImageCaptionEditing"),p=this.editor.plugins.get("ImageUtils");let w=a.getSelectedElement();const k=d._getSavedCaption(w);p.isInlineImage(w)&&(this.editor.execute("imageTypeBlock"),w=a.getSelectedElement());const D=k||t.createElement("caption");t.append(D,w),s&&t.setSelection(D,"in")}_hideImageCaption(t){const s=this.editor,a=s.model.document.selection,d=s.plugins.get("ImageCaptionEditing"),p=s.plugins.get("ImageCaptionUtils");let w,k=a.getSelectedElement();k?w=p.getCaptionFromImageModelElement(k):(w=p.getCaptionFromModelSelection(a),k=w.parent),d._saveCaption(k,w),t.setSelection(k,"on"),t.remove(w)}}class y9 extends it{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[ja]}getCaptionFromImageModelElement(t){for(const s of t.getChildren())if(s&&s.is("element","caption"))return s;return null}getCaptionFromModelSelection(t){const s=this.editor.plugins.get("ImageUtils"),a=t.getFirstPosition().findAncestor("caption");return a&&s.isBlockImage(a.parent)?a:null}matchImageCaptionViewElement(t){const s=this.editor.plugins.get("ImageUtils");return t.name=="figcaption"&&s.isBlockImageView(t.parent)?{name:!0}:null}}class Noe extends it{static get requires(){return[ja,y9]}static get pluginName(){return"ImageCaptionEditing"}constructor(t){super(t),this._savedCaptionsMap=new WeakMap}init(){const t=this.editor,s=t.model.schema;s.isRegistered("caption")?s.extend("caption",{allowIn:"imageBlock"}):s.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),t.commands.add("toggleImageCaption",new Doe(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const t=this.editor,s=t.editing.view,a=t.plugins.get("ImageUtils"),d=t.plugins.get("ImageCaptionUtils"),p=t.t;t.conversion.for("upcast").elementToElement({view:w=>d.matchImageCaptionViewElement(w),model:"caption"}),t.conversion.for("dataDowncast").elementToElement({model:"caption",view:(w,{writer:k})=>a.isBlockImage(w.parent)?k.createContainerElement("figcaption"):null}),t.conversion.for("editingDowncast").elementToElement({model:"caption",view:(w,{writer:k})=>{if(!a.isBlockImage(w.parent))return null;const D=k.createEditableElement("figcaption");k.setCustomProperty("imageCaption",!0,D),D.placeholder=p("Enter image caption"),Su({view:s,element:D,keepOnFocus:!0});const R=w.parent.getAttribute("alt");return T7(D,k,{label:R?p("Caption for image: %0",[R]):p("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const t=this.editor,s=t.plugins.get("ImageUtils"),a=t.plugins.get("ImageCaptionUtils"),d=t.commands.get("imageTypeInline"),p=t.commands.get("imageTypeBlock"),w=k=>{if(!k.return)return;const{oldElement:D,newElement:R}=k.return;if(!D)return;if(s.isBlockImage(D)){const L=a.getCaptionFromImageModelElement(D);if(L)return void this._saveCaption(R,L)}const M=this._getSavedCaption(D);M&&this._saveCaption(R,M)};d&&this.listenTo(d,"execute",w,{priority:"low"}),p&&this.listenTo(p,"execute",w,{priority:"low"})}_getSavedCaption(t){const s=this._savedCaptionsMap.get(t);return s?Xt.fromJSON(s):null}_saveCaption(t,s){this._savedCaptionsMap.set(t,s.toJSON())}_registerCaptionReconversion(){const t=this.editor,s=t.model,a=t.plugins.get("ImageUtils"),d=t.plugins.get("ImageCaptionUtils");s.document.on("change:data",()=>{const p=s.document.differ.getChanges();for(const w of p){if(w.attributeKey!=="alt")continue;const k=w.range.start.nodeAfter;if(a.isBlockImage(k)){const D=d.getCaptionFromImageModelElement(k);if(!D)return;t.editing.reconvertItem(D)}}})}}class Poe extends it{static get requires(){return[y9]}static get pluginName(){return"ImageCaptionUI"}init(){const t=this.editor,s=t.editing.view,a=t.plugins.get("ImageCaptionUtils"),d=t.t;t.ui.componentFactory.add("toggleImageCaption",p=>{const w=t.commands.get("toggleImageCaption"),k=new Mn(p);return k.set({icon:Kn.caption,tooltip:!0,isToggleable:!0}),k.bind("isOn","isEnabled").to(w,"value","isEnabled"),k.bind("label").to(w,"value",D=>d(D?"Toggle caption off":"Toggle caption on")),this.listenTo(k,"execute",()=>{t.execute("toggleImageCaption",{focusCaptionOnShow:!0});const D=a.getCaptionFromModelSelection(t.model.document.selection);if(D){const R=t.editing.mapper.toViewElement(D);s.scrollToTheSelection(),s.change(M=>{M.addClass("image__caption_highlighted",R)})}t.editing.view.focus()}),k})}}var QC=o(2423),V_={attributes:{"data-cke":!0}};V_.setAttributes=Tt(),V_.insert=Ot().bind(null,"head"),V_.domAPI=Rt(),V_.insertStyleElement=Mt(),It()(QC.Z,V_),QC.Z&&QC.Z.locals&&QC.Z.locals;class joe extends cn{constructor(t,s){super(t),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(s.map(a=>{if(a.isDefault)for(const d of a.modelElements)this._defaultStyles[d]=a.name;return[a.name,a]}))}refresh(){const t=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!t,this.isEnabled?t.hasAttribute("imageStyle")?this.value=t.getAttribute("imageStyle"):this.value=this._defaultStyles[t.name]:this.value=!1}execute(t={}){const s=this.editor,a=s.model,d=s.plugins.get("ImageUtils");a.change(p=>{const w=t.value,{setImageSizes:k=!0}=t;let D=d.getClosestSelectedImageElement(a.document.selection);w&&this.shouldConvertImageType(w,D)&&(this.editor.execute(d.isBlockImage(D)?"imageTypeInline":"imageTypeBlock",{setImageSizes:k}),D=d.getClosestSelectedImageElement(a.document.selection)),!w||this._styles.get(w).isDefault?p.removeAttribute("imageStyle",D):p.setAttribute("imageStyle",w,D),k&&d.setImageNaturalSizeAttributes(D)})}shouldConvertImageType(t,s){return!this._styles.get(t).modelElements.includes(s.name)}}const{objectFullWidth:Ioe,objectInline:v9,objectLeft:w9,objectRight:uj,objectCenter:dj,objectBlockLeft:x9,objectBlockRight:_9}=Kn,eT={get inline(){return{name:"inline",title:"In line",icon:v9,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:w9,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:x9,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:dj,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:uj,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:_9,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:dj,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:uj,modelElements:["imageBlock"],className:"image-style-side"}}},k9={full:Ioe,left:x9,right:_9,center:dj,inlineLeft:w9,inlineRight:uj,inline:v9},E9=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function S9(f){K("image-style-configuration-definition-invalid",f)}const hj={normalizeStyles:function(f){return(f.configuredStyles.options||[]).map(t=>function(s){return s=typeof s=="string"?eT[s]?{...eT[s]}:{name:s}:function(a,d){const p={...d};for(const w in a)Object.prototype.hasOwnProperty.call(d,w)||(p[w]=a[w]);return p}(eT[s.name],s),typeof s.icon=="string"&&(s.icon=k9[s.icon]||s.icon),s}(t)).filter(t=>function(s,{isBlockPluginLoaded:a,isInlinePluginLoaded:d}){const{modelElements:p,name:w}=s;if(!(p&&p.length&&w))return S9({style:s}),!1;{const k=[a?"imageBlock":null,d?"imageInline":null];if(!p.some(D=>k.includes(D)))return K("image-style-missing-dependency",{style:s,missingPlugins:p.map(D=>D==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(t,f))},getDefaultStylesConfiguration:function(f,t){return f&&t?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:f?{options:["block","side"]}:t?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(f){return f.has("ImageBlockEditing")&&f.has("ImageInlineEditing")?[...E9]:[]},warnInvalidStyle:S9,DEFAULT_OPTIONS:eT,DEFAULT_ICONS:k9,DEFAULT_DROPDOWN_DEFINITIONS:E9};function A9(f,t){for(const s of t)if(s.name===f)return s}class C9 extends it{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[ja]}init(){const{normalizeStyles:t,getDefaultStylesConfiguration:s}=hj,a=this.editor,d=a.plugins.has("ImageBlockEditing"),p=a.plugins.has("ImageInlineEditing");a.config.define("image.styles",s(d,p)),this.normalizedStyles=t({configuredStyles:a.config.get("image.styles"),isBlockPluginLoaded:d,isInlinePluginLoaded:p}),this._setupConversion(d,p),this._setupPostFixer(),a.commands.add("imageStyle",new joe(a,this.normalizedStyles))}_setupConversion(t,s){const a=this.editor,d=a.model.schema,p=(w=this.normalizedStyles,(D,R,M)=>{if(!M.consumable.consume(R.item,D.name))return;const L=A9(R.attributeNewValue,w),W=A9(R.attributeOldValue,w),J=M.mapper.toViewElement(R.item),re=M.writer;W&&re.removeClass(W.className,J),L&&re.addClass(L.className,J)});var w;const k=function(D){const R={imageInline:D.filter(M=>!M.isDefault&&M.modelElements.includes("imageInline")),imageBlock:D.filter(M=>!M.isDefault&&M.modelElements.includes("imageBlock"))};return(M,L,W)=>{if(!L.modelRange)return;const J=L.viewItem,re=ci(L.modelRange.getItems());if(re&&W.schema.checkAttribute(re,"imageStyle"))for(const ae of R[re.name])W.consumable.consume(J,{classes:ae.className})&&W.writer.setAttribute("imageStyle",ae.name,re)}}(this.normalizedStyles);a.editing.downcastDispatcher.on("attribute:imageStyle",p),a.data.downcastDispatcher.on("attribute:imageStyle",p),t&&(d.extend("imageBlock",{allowAttributes:"imageStyle"}),a.data.upcastDispatcher.on("element:figure",k,{priority:"low"})),s&&(d.extend("imageInline",{allowAttributes:"imageStyle"}),a.data.upcastDispatcher.on("element:img",k,{priority:"low"}))}_setupPostFixer(){const t=this.editor,s=t.model.document,a=t.plugins.get(ja),d=new Map(this.normalizedStyles.map(p=>[p.name,p]));s.registerPostFixer(p=>{let w=!1;for(const k of s.differ.getChanges())if(k.type=="insert"||k.type=="attribute"&&k.attributeKey=="imageStyle"){let D=k.type=="insert"?k.position.nodeAfter:k.range.start.nodeAfter;if(D&&D.is("element","paragraph")&&D.childCount>0&&(D=D.getChild(0)),!a.isImage(D))continue;const R=D.getAttribute("imageStyle");if(!R)continue;const M=d.get(R);M&&M.modelElements.includes(D.name)||(p.removeAttribute("imageStyle",D),w=!0)}return w})}}var tT=o(3534),W_={attributes:{"data-cke":!0}};W_.setAttributes=Tt(),W_.insert=Ot().bind(null,"head"),W_.domAPI=Rt(),W_.insertStyleElement=Mt(),It()(tT.Z,W_),tT.Z&&tT.Z.locals&&tT.Z.locals;class Roe extends it{static get requires(){return[C9]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const t=this.editor.t;return{"Wrap text":t("Wrap text"),"Break text":t("Break text"),"In line":t("In line"),"Full size image":t("Full size image"),"Side image":t("Side image"),"Left aligned image":t("Left aligned image"),"Centered image":t("Centered image"),"Right aligned image":t("Right aligned image")}}init(){const t=this.editor.plugins,s=this.editor.config.get("image.toolbar")||[],a=T9(t.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const p of a)this._createButton(p);const d=T9([...s.filter(Oe),...hj.getDefaultDropdownDefinitions(t)],this.localizedDefaultStylesTitles);for(const p of d)this._createDropdown(p,a)}_createDropdown(t,s){const a=this.editor.ui.componentFactory;a.add(t.name,d=>{let p;const{defaultItem:w,items:k,title:D}=t,R=k.filter(J=>s.find(({name:re})=>D9(re)===J)).map(J=>{const re=a.create(J);return J===w&&(p=re),re});k.length!==R.length&&hj.warnInvalidStyle({dropdown:t});const M=Lu(d,nC),L=M.buttonView,W=L.arrowView;return FP(M,R,{enableActiveItemFocusOnDropdownOpen:!0}),L.set({label:N9(D,p.label),class:null,tooltip:!0}),W.unbind("label"),W.set({label:D}),L.bind("icon").toMany(R,"isOn",(...J)=>{const re=J.findIndex(Tu);return re<0?p.icon:R[re].icon}),L.bind("label").toMany(R,"isOn",(...J)=>{const re=J.findIndex(Tu);return N9(D,re<0?p.label:R[re].label)}),L.bind("isOn").toMany(R,"isOn",(...J)=>J.some(Tu)),L.bind("class").toMany(R,"isOn",(...J)=>J.some(Tu)?"ck-splitbutton_flatten":void 0),L.on("execute",()=>{R.some(({isOn:J})=>J)?M.isOpen=!M.isOpen:p.fire("execute")}),M.bind("isEnabled").toMany(R,"isEnabled",(...J)=>J.some(Tu)),this.listenTo(M,"execute",()=>{this.editor.editing.view.focus()}),M})}_createButton(t){const s=t.name;this.editor.ui.componentFactory.add(D9(s),a=>{const d=this.editor.commands.get("imageStyle"),p=new Mn(a);return p.set({label:t.title,icon:t.icon,tooltip:!0,isToggleable:!0}),p.bind("isEnabled").to(d,"isEnabled"),p.bind("isOn").to(d,"value",w=>w===s),p.on("execute",this._executeCommand.bind(this,s)),p})}_executeCommand(t){this.editor.execute("imageStyle",{value:t}),this.editor.editing.view.focus()}}function T9(f,t){for(const s of f)t[s.title]&&(s.title=t[s.title]);return f}function D9(f){return`imageStyle:${f}`}function N9(f,t){return(f?f+": ":"")+t}class Moe extends ze(){constructor(){super();const t=new window.FileReader;this._reader=t,this._data=void 0,this.set("loaded",0),t.onprogress=s=>{this.loaded=s.loaded}}get error(){return this._reader.error}get data(){return this._data}read(t){const s=this._reader;return this.total=t.size,new Promise((a,d)=>{s.onload=()=>{const p=s.result;this._data=p,a(p)},s.onerror=()=>{d("error")},s.onabort=()=>{d("aborted")},this._reader.readAsDataURL(t)})}abort(){this._reader.abort()}}class Wg extends it{constructor(){super(...arguments),this.loaders=new Fs,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[DL]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(t,s)=>s?t/s*100:0)}getLoader(t){return this._loadersMap.get(t)||null}createLoader(t){if(!this.createUploadAdapter)return K("filerepository-no-upload-adapter"),null;const s=new P9(Promise.resolve(t),this.createUploadAdapter);return this.loaders.add(s),this._loadersMap.set(t,s),t instanceof Promise&&s.file.then(a=>{this._loadersMap.set(a,s)}).catch(()=>{}),s.on("change:uploaded",()=>{let a=0;for(const d of this.loaders)a+=d.uploaded;this.uploaded=a}),s.on("change:uploadTotal",()=>{let a=0;for(const d of this.loaders)d.uploadTotal&&(a+=d.uploadTotal);this.uploadTotal=a}),s}destroyLoader(t){const s=t instanceof P9?t:this.getLoader(t);s._destroy(),this.loaders.remove(s),this._loadersMap.forEach((a,d)=>{a===s&&this._loadersMap.delete(d)})}_updatePendingAction(){const t=this.editor.plugins.get(DL);if(this.loaders.length){if(!this._pendingAction){const s=this.editor.t,a=d=>`${s("Upload in progress")} ${parseInt(d)}%.`;this._pendingAction=t.add(a(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",a)}}else t.remove(this._pendingAction),this._pendingAction=null}}class P9 extends ze(){constructor(t,s){super(),this.id=O(),this._filePromiseWrapper=this._createFilePromiseWrapper(t),this._adapter=s(this),this._reader=new Moe,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(a,d)=>d?a/d*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(t=>this._filePromiseWrapper?t:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new B("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(t=>this._reader.read(t)).then(t=>{if(this.status!=="reading")throw this.status;return this.status="idle",t}).catch(t=>{throw t==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:t)})}upload(){if(this.status!="idle")throw new B("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(t=>(this.uploadResponse=t,this.status="idle",t)).catch(t=>{throw this.status==="aborted"?"aborted":(this.status="error",t)})}abort(){const t=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?t=="reading"?this._reader.abort():t=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(t){const s={};return s.promise=new Promise((a,d)=>{s.rejecter=d,s.isFulfilled=!1,t.then(p=>{s.isFulfilled=!0,a(p)}).catch(p=>{s.isFulfilled=!0,d(p)})}),s}}class Ooe extends on{constructor(t){super(t),this.buttonView=new Mn(t),this._fileInputView=new Foe(t),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class Foe extends on{constructor(t){super(t),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const s=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:s.to("acceptedType"),multiple:s.to("allowMultipleFiles")},on:{change:s.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}class Uoe{constructor(t){this.loader=t}upload(){return new Promise((t,s)=>{const a=this.reader=new window.FileReader;a.addEventListener("load",()=>{t({default:a.result})}),a.addEventListener("error",d=>{s(d)}),a.addEventListener("abort",()=>{s()}),this.loader.file.then(d=>{a.readAsDataURL(d)})})}abort(){this.reader.abort()}}function j9(f){const t=f.map(s=>s.replace("+","\\+"));return new RegExp(`^image\\/(${t.join("|")})$`)}function Loe(f){return new Promise((t,s)=>{const a=f.getAttribute("src");fetch(a).then(d=>d.blob()).then(d=>{const p=I9(d,a),w=p.replace("image/",""),k=new File([d],`image.${w}`,{type:p});t(k)}).catch(d=>d&&d.name==="TypeError"?function(p){return function(w){return new Promise((k,D)=>{const R=de.document.createElement("img");R.addEventListener("load",()=>{const M=de.document.createElement("canvas");M.width=R.width,M.height=R.height,M.getContext("2d").drawImage(R,0,0),M.toBlob(L=>L?k(L):D())}),R.addEventListener("error",()=>D()),R.src=w})}(p).then(w=>{const k=I9(w,p),D=k.replace("image/","");return new File([w],`image.${D}`,{type:k})})}(a).then(t).catch(s):s(d))})}function I9(f,t){return f.type?f.type:t.match(/data:(image\/\w+);base64/)?t.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class Boe extends it{static get pluginName(){return"ImageUploadUI"}init(){const t=this.editor,s=t.t,a=d=>{const p=new Ooe(d),w=t.commands.get("uploadImage"),k=t.config.get("image.upload.types"),D=j9(k);return p.set({acceptedType:k.map(R=>`image/${R}`).join(","),allowMultipleFiles:!0}),p.buttonView.set({label:s("Insert image"),icon:Kn.image,tooltip:!0}),p.buttonView.bind("isEnabled").to(w),p.on("done",(R,M)=>{const L=Array.from(M).filter(W=>D.test(W.type));L.length&&(t.execute("uploadImage",{file:L}),t.editing.view.focus())}),p};t.ui.componentFactory.add("uploadImage",a),t.ui.componentFactory.add("imageUpload",a)}}var nT=o(2926),$_={attributes:{"data-cke":!0}};$_.setAttributes=Tt(),$_.insert=Ot().bind(null,"head"),$_.domAPI=Rt(),$_.insertStyleElement=Mt(),It()(nT.Z,$_),nT.Z&&nT.Z.locals&&nT.Z.locals;var iT=o(1547),q_={attributes:{"data-cke":!0}};q_.setAttributes=Tt(),q_.insert=Ot().bind(null,"head"),q_.domAPI=Rt(),q_.insertStyleElement=Mt(),It()(iT.Z,q_),iT.Z&&iT.Z.locals&&iT.Z.locals;var rT=o(6618),H_={attributes:{"data-cke":!0}};H_.setAttributes=Tt(),H_.insert=Ot().bind(null,"head"),H_.domAPI=Rt(),H_.insertStyleElement=Mt(),It()(rT.Z,H_),rT.Z&&rT.Z.locals&&rT.Z.locals;class zoe extends it{static get pluginName(){return"ImageUploadProgress"}constructor(t){super(t),this.uploadStatusChange=(s,a,d)=>{const p=this.editor,w=a.item,k=w.getAttribute("uploadId");if(!d.consumable.consume(a.item,s.name))return;const D=p.plugins.get("ImageUtils"),R=p.plugins.get(Wg),M=k?a.attributeNewValue:null,L=this.placeholder,W=p.editing.mapper.toViewElement(w),J=d.writer;if(M=="reading")return R9(W,J),void M9(D,L,W,J);if(M=="uploading"){const re=R.loaders.get(k);return R9(W,J),void(re?(O9(W,J),function(ae,ve,je,$e){const Qe=function(St){const tn=St.createUIElement("div",{class:"ck-progress-bar"});return St.setCustomProperty("progressBar",!0,tn),tn}(ve);ve.insert(ve.createPositionAt(ae,"end"),Qe),je.on("change:uploadedPercent",(St,tn,Fn)=>{$e.change(Un=>{Un.setStyle("width",Fn+"%",Qe)})})}(W,J,re,p.editing.view),function(ae,ve,je,$e){if($e.data){const Qe=ae.findViewImgElement(ve);je.setAttribute("src",$e.data,Qe)}}(D,W,J,re)):M9(D,L,W,J))}M=="complete"&&R.loaders.get(k)&&function(re,ae,ve){const je=ae.createUIElement("div",{class:"ck-image-upload-complete-icon"});ae.insert(ae.createPositionAt(re,"end"),je),setTimeout(()=>{ve.change($e=>$e.remove($e.createRangeOn(je)))},3e3)}(W,J,p.editing.view),function(re,ae){U9(re,ae,"progressBar")}(W,J),O9(W,J),function(re,ae){ae.removeClass("ck-appear",re)}(W,J)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const t=this.editor;t.plugins.has("ImageBlockEditing")&&t.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),t.plugins.has("ImageInlineEditing")&&t.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function R9(f,t){f.hasClass("ck-appear")||t.addClass("ck-appear",f)}function M9(f,t,s,a){s.hasClass("ck-image-upload-placeholder")||a.addClass("ck-image-upload-placeholder",s);const d=f.findViewImgElement(s);d.getAttribute("src")!==t&&a.setAttribute("src",t,d),F9(s,"placeholder")||a.insert(a.createPositionAfter(d),function(p){const w=p.createUIElement("div",{class:"ck-upload-placeholder-loader"});return p.setCustomProperty("placeholder",!0,w),w}(a))}function O9(f,t){f.hasClass("ck-image-upload-placeholder")&&t.removeClass("ck-image-upload-placeholder",f),U9(f,t,"placeholder")}function F9(f,t){for(const s of f.getChildren())if(s.getCustomProperty(t))return s}function U9(f,t,s){const a=F9(f,s);a&&t.remove(t.createRangeOn(a))}class Voe extends cn{refresh(){const t=this.editor,s=t.plugins.get("ImageUtils"),a=t.model.document.selection.getSelectedElement();this.isEnabled=s.isImageAllowed()||s.isImage(a)}execute(t){const s=Rn(t.file),a=this.editor.model.document.selection,d=this.editor.plugins.get("ImageUtils"),p=Object.fromEntries(a.getAttributes());s.forEach((w,k)=>{const D=a.getSelectedElement();if(k&&D&&d.isImage(D)){const R=this.editor.model.createPositionAfter(D);this._uploadImage(w,p,R)}else this._uploadImage(w,p)})}_uploadImage(t,s,a){const d=this.editor,p=d.plugins.get(Wg).createLoader(t),w=d.plugins.get("ImageUtils");p&&w.insertImage({...s,uploadId:p.id},a)}}class Woe extends it{static get requires(){return[Wg,QL,oh,ja]}static get pluginName(){return"ImageUploadEditing"}constructor(t){super(t),t.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const t=this.editor,s=t.model.document,a=t.conversion,d=t.plugins.get(Wg),p=t.plugins.get("ImageUtils"),w=t.plugins.get("ClipboardPipeline"),k=j9(t.config.get("image.upload.types")),D=new Voe(t);t.commands.add("uploadImage",D),t.commands.add("imageUpload",D),a.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(t.editing.view.document,"clipboardInput",(R,M)=>{if(L=M.dataTransfer,Array.from(L.types).includes("text/html")&&L.getData("text/html")!=="")return;var L;const W=Array.from(M.dataTransfer.files).filter(J=>!!J&&k.test(J.type));W.length&&(R.stop(),t.model.change(J=>{M.targetRanges&&J.setSelection(M.targetRanges.map(re=>t.editing.mapper.toModelRange(re))),t.execute("uploadImage",{file:W})}))}),this.listenTo(w,"inputTransformation",(R,M)=>{const L=Array.from(t.editing.view.createRangeIn(M.content)).map(J=>J.item).filter(J=>function(re,ae){return!(!re.isInlineImageView(ae)||!ae.getAttribute("src")||!ae.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!ae.getAttribute("src").match(/^blob:/g))}(p,J)&&!J.getAttribute("uploadProcessed")).map(J=>({promise:Loe(J),imageElement:J}));if(!L.length)return;const W=new RP(t.editing.view.document);for(const J of L){W.setAttribute("uploadProcessed",!0,J.imageElement);const re=d.createLoader(J.promise);re&&(W.setAttribute("src","",J.imageElement),W.setAttribute("uploadId",re.id,J.imageElement))}}),t.editing.view.document.on("dragover",(R,M)=>{M.preventDefault()}),s.on("change",()=>{const R=s.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),M=new Set;for(const L of R)if(L.type=="insert"&&L.name!="$text"){const W=L.position.nodeAfter,J=L.position.root.rootName=="$graveyard";for(const re of $oe(t,W)){const ae=re.getAttribute("uploadId");if(!ae)continue;const ve=d.loaders.get(ae);ve&&(J?M.has(ae)||ve.abort():(M.add(ae),this._uploadImageElements.set(ae,re),ve.status=="idle"&&this._readAndUpload(ve)))}}}),this.on("uploadComplete",(R,{imageElement:M,data:L})=>{const W=L.urls?L.urls:L;this.editor.model.change(J=>{J.setAttribute("src",W.default,M),this._parseAndSetSrcsetAttributeOnImage(W,M,J),p.setImageNaturalSizeAttributes(M)})},{priority:"low"})}afterInit(){const t=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&t.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&t.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(t){const s=this.editor,a=s.model,d=s.locale.t,p=s.plugins.get(Wg),w=s.plugins.get(QL),k=s.plugins.get("ImageUtils"),D=this._uploadImageElements;return a.enqueueChange({isUndoable:!1},M=>{M.setAttribute("uploadStatus","reading",D.get(t.id))}),t.read().then(()=>{const M=t.upload(),L=D.get(t.id);if(y.isSafari){const W=s.editing.mapper.toViewElement(L),J=k.findViewImgElement(W);s.editing.view.once("render",()=>{if(!J.parent)return;const re=s.editing.view.domConverter.mapViewToDom(J.parent);if(!re)return;const ae=re.style.display;re.style.display="none",re._ckHack=re.offsetHeight,re.style.display=ae})}return a.enqueueChange({isUndoable:!1},W=>{W.setAttribute("uploadStatus","uploading",L)}),M}).then(M=>{a.enqueueChange({isUndoable:!1},L=>{const W=D.get(t.id);L.setAttribute("uploadStatus","complete",W),this.fire("uploadComplete",{data:M,imageElement:W})}),R()}).catch(M=>{if(t.status!=="error"&&t.status!=="aborted")throw M;t.status=="error"&&M&&w.showWarning(M,{title:d("Upload failed"),namespace:"upload"}),a.enqueueChange({isUndoable:!1},L=>{L.remove(D.get(t.id))}),R()});function R(){a.enqueueChange({isUndoable:!1},M=>{const L=D.get(t.id);M.removeAttribute("uploadId",L),M.removeAttribute("uploadStatus",L),D.delete(t.id)}),p.destroyLoader(t)}}_parseAndSetSrcsetAttributeOnImage(t,s,a){let d=0;const p=Object.keys(t).filter(w=>{const k=parseInt(w,10);if(!isNaN(k))return d=Math.max(d,k),!0}).map(w=>`${t[w]} ${w}w`).join(", ");if(p!=""){const w={srcset:p};s.hasAttribute("width")||s.hasAttribute("height")||(w.width=d),a.setAttributes(w,s)}}}function $oe(f,t){const s=f.plugins.get("ImageUtils");return Array.from(f.model.createRangeOn(t)).filter(a=>s.isImage(a.item)).map(a=>a.item)}class qoe extends cn{refresh(){const t=this.editor,s=t.plugins.get("ImageUtils").getClosestSelectedImageElement(t.model.document.selection);this.isEnabled=!!s,s&&s.hasAttribute("resizedWidth")?this.value={width:s.getAttribute("resizedWidth"),height:null}:this.value=null}execute(t){const s=this.editor,a=s.model,d=s.plugins.get("ImageUtils"),p=d.getClosestSelectedImageElement(a.document.selection);this.value={width:t.width,height:null},p&&a.change(w=>{w.setAttribute("resizedWidth",t.width,p),w.removeAttribute("resizedHeight",p),d.setImageNaturalSizeAttributes(p)})}}class L9 extends it{static get requires(){return[ja]}static get pluginName(){return"ImageResizeEditing"}constructor(t){super(t),t.config.define("image",{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}]})}init(){const t=this.editor,s=new qoe(t);this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline"),t.commands.add("resizeImage",s),t.commands.add("imageResize",s)}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["resizedWidth","resizedHeight"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["resizedWidth","resizedHeight"]})}_registerConverters(t){const s=this.editor,a=s.plugins.get("ImageUtils");s.conversion.for("downcast").add(d=>d.on(`attribute:resizedWidth:${t}`,(p,w,k)=>{if(!k.consumable.consume(w.item,p.name))return;const D=k.writer,R=k.mapper.toViewElement(w.item);w.attributeNewValue!==null?(D.setStyle("width",w.attributeNewValue,R),D.addClass("image_resized",R)):(D.removeStyle("width",R),D.removeClass("image_resized",R))})),s.conversion.for("dataDowncast").attributeToAttribute({model:{name:t,key:"resizedHeight"},view:d=>({key:"style",value:{height:d}})}),s.conversion.for("editingDowncast").add(d=>d.on(`attribute:resizedHeight:${t}`,(p,w,k)=>{if(!k.consumable.consume(w.item,p.name))return;const D=k.writer,R=k.mapper.toViewElement(w.item),M=t==="imageInline"?a.findViewImgElement(R):R;w.attributeNewValue!==null?D.setStyle("height",w.attributeNewValue,M):D.removeStyle("height",M)})),s.conversion.for("upcast").attributeToAttribute({view:{name:t==="imageBlock"?"figure":"img",styles:{width:/.+/}},model:{key:"resizedWidth",value:d=>XC(d)?null:d.getStyle("width")}}),s.conversion.for("upcast").attributeToAttribute({view:{name:t==="imageBlock"?"figure":"img",styles:{height:/.+/}},model:{key:"resizedHeight",value:d=>XC(d)?null:d.getStyle("height")}})}}const fj={small:Kn.objectSizeSmall,medium:Kn.objectSizeMedium,large:Kn.objectSizeLarge,original:Kn.objectSizeFull};class Hoe extends it{static get requires(){return[L9]}static get pluginName(){return"ImageResizeButtons"}constructor(t){super(t),this._resizeUnit=t.config.get("image.resizeUnit")}init(){const t=this.editor,s=t.config.get("image.resizeOptions"),a=t.commands.get("resizeImage");this.bind("isEnabled").to(a);for(const d of s)this._registerImageResizeButton(d);this._registerImageResizeDropdown(s)}_registerImageResizeButton(t){const s=this.editor,{name:a,value:d,icon:p}=t,w=d?d+this._resizeUnit:null;s.ui.componentFactory.add(a,k=>{const D=new Mn(k),R=s.commands.get("resizeImage"),M=this._getOptionLabelValue(t,!0);if(!fj[p])throw new B("imageresizebuttons-missing-icon",s,t);return D.set({label:M,icon:fj[p],tooltip:M,isToggleable:!0}),D.bind("isEnabled").to(this),D.bind("isOn").to(R,"value",B9(w)),this.listenTo(D,"execute",()=>{s.execute("resizeImage",{width:w})}),D})}_registerImageResizeDropdown(t){const s=this.editor,a=s.t,d=t.find(w=>!w.value),p=w=>{const k=s.commands.get("resizeImage"),D=Lu(w,Ty),R=D.buttonView,M=a("Resize image");return R.set({tooltip:M,commandValue:d.value,icon:fj.medium,isToggleable:!0,label:this._getOptionLabelValue(d),withText:!0,class:"ck-resize-image-button",ariaLabel:M,ariaLabelledBy:void 0}),R.bind("label").to(k,"value",L=>L&&L.width?L.width:this._getOptionLabelValue(d)),D.bind("isEnabled").to(this),sC(D,()=>this._getResizeDropdownListItemDefinitions(t,k),{ariaLabel:a("Image resize list"),role:"menu"}),this.listenTo(D,"execute",L=>{s.execute(L.source.commandName,{width:L.source.commandValue}),s.editing.view.focus()}),D};s.ui.componentFactory.add("resizeImage",p),s.ui.componentFactory.add("imageResize",p)}_getOptionLabelValue(t,s=!1){const a=this.editor.t;return t.label?t.label:s?t.value?a("Resize image to %0",t.value+this._resizeUnit):a("Resize image to the original size"):t.value?t.value+this._resizeUnit:a("Original")}_getResizeDropdownListItemDefinitions(t,s){const a=new Fs;return t.map(d=>{const p=d.value?d.value+this._resizeUnit:null,w={type:"button",model:new mC({commandName:"resizeImage",commandValue:p,label:this._getOptionLabelValue(d),role:"menuitemradio",withText:!0,icon:null})};w.model.bind("isOn").to(s,"value",B9(p)),a.add(w)}),a}}function B9(f){return t=>f===null&&t===f||t!==null&&t.width===f}const pj="image_resized";class Goe extends it{static get requires(){return[QP,ja]}static get pluginName(){return"ImageResizeHandles"}init(){const t=this.editor.commands.get("resizeImage");this.bind("isEnabled").to(t),this._setupResizerCreator()}_setupResizerCreator(){const t=this.editor,s=t.editing.view,a=t.plugins.get("ImageUtils");s.addObserver(f9),this.listenTo(s.document,"imageLoaded",(d,p)=>{if(!p.target.matches("figure.image.ck-widget > img,figure.image.ck-widget > picture > img,figure.image.ck-widget > a > img,figure.image.ck-widget > a > picture > img,span.image-inline.ck-widget > img,span.image-inline.ck-widget > picture > img"))return;const w=t.editing.view.domConverter,k=w.domToView(p.target),D=a.getImageWidgetFromImageView(k);let R=this.editor.plugins.get(QP).getResizerByViewElement(D);if(R)return void R.redraw();const M=t.editing.mapper,L=M.toModelElement(D);R=t.plugins.get(QP).attachTo({unit:t.config.get("image.resizeUnit"),modelElement:L,viewElement:D,editor:t,getHandleHost:W=>W.querySelector("img"),getResizeHost:()=>w.mapViewToDom(M.toViewElement(L.parent)),isCentered(){const W=L.getAttribute("imageStyle");return!W||W=="block"||W=="alignCenter"},onCommit(W){s.change(J=>{J.removeClass(pj,D)}),t.execute("resizeImage",{width:W})}}),R.on("updateSize",()=>{D.hasClass(pj)||s.change(J=>{J.addClass(pj,D)});const W=L.name==="imageInline"?k:D;W.getStyle("height")&&s.change(J=>{J.removeStyle("height",W)})}),R.bind("isEnabled").to(this)})}}var sT=o(2400),G_={attributes:{"data-cke":!0}};G_.setAttributes=Tt(),G_.insert=Ot().bind(null,"head"),G_.domAPI=Rt(),G_.insertStyleElement=Mt(),It()(sT.Z,G_),sT.Z&&sT.Z.locals&&sT.Z.locals;class Xoe extends it{static get pluginName(){return"IndentEditing"}init(){const t=this.editor;t.commands.add("indent",new zr(t)),t.commands.add("outdent",new zr(t))}}const z9='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',V9='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class Koe extends it{static get pluginName(){return"IndentUI"}init(){const t=this.editor,s=t.locale,a=t.t,d=s.uiLanguageDirection=="ltr"?z9:V9,p=s.uiLanguageDirection=="ltr"?V9:z9;this._defineButton("indent",a("Increase indent"),d),this._defineButton("outdent",a("Decrease indent"),p)}_defineButton(t,s,a){const d=this.editor;d.ui.componentFactory.add(t,p=>{const w=d.commands.get(t),k=new Mn(p);return k.set({label:s,icon:a,tooltip:!0}),k.bind("isEnabled").to(w,"isEnabled"),this.listenTo(k,"execute",()=>{d.execute(t),d.editing.view.focus()}),k})}}class Yoe{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(t){Array.isArray(t)?t.forEach(s=>this._definitions.add(s)):this._definitions.add(t)}getDispatcher(){return t=>{t.on("attribute:linkHref",(s,a,d)=>{if(!d.consumable.test(a.item,"attribute:linkHref")||!a.item.is("selection")&&!d.schema.isInline(a.item))return;const p=d.writer,w=p.document.selection;for(const k of this._definitions){const D=p.createAttributeElement("a",k.attributes,{priority:5});k.classes&&p.addClass(k.classes,D);for(const R in k.styles)p.setStyle(R,k.styles[R],D);p.setCustomProperty("link",!0,D),k.callback(a.attributeNewValue)?a.item.is("selection")?p.wrap(w.getFirstRange(),D):p.wrap(d.mapper.toViewRange(a.range),D):p.unwrap(d.mapper.toViewRange(a.range),D)}},{priority:"high"})}}getDispatcherForLinkedImage(){return t=>{t.on("attribute:linkHref:imageBlock",(s,a,{writer:d,mapper:p})=>{const w=p.toViewElement(a.item),k=Array.from(w.getChildren()).find(D=>D.is("element","a"));for(const D of this._definitions){const R=ka(D.attributes);if(D.callback(a.attributeNewValue)){for(const[M,L]of R)M==="class"?d.addClass(L,k):d.setAttribute(M,L,k);D.classes&&d.addClass(D.classes,k);for(const M in D.styles)d.setStyle(M,D.styles[M],k)}else{for(const[M,L]of R)M==="class"?d.removeClass(L,k):d.removeAttribute(M,k);D.classes&&d.removeClass(D.classes,k);for(const M in D.styles)d.removeStyle(M,k)}}})}}}const Zoe=function(f,t,s){var a=f.length;return s=s===void 0?a:s,Ax(f,t,s)};var Joe=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const W9=function(f){return Joe.test(f)},Qoe=function(f){return f.split("")};var $9="\\ud800-\\udfff",eae="["+$9+"]",mj="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",gj="\\ud83c[\\udffb-\\udfff]",q9="[^"+$9+"]",H9="(?:\\ud83c[\\udde6-\\uddff]){2}",G9="[\\ud800-\\udbff][\\udc00-\\udfff]",X9="(?:"+mj+"|"+gj+")?",K9="[\\ufe0e\\ufe0f]?",tae=K9+X9+("(?:\\u200d(?:"+[q9,H9,G9].join("|")+")"+K9+X9+")*"),nae="(?:"+[q9+mj+"?",mj,H9,G9,eae].join("|")+")",iae=RegExp(gj+"(?="+gj+")|"+nae+tae,"g");const rae=function(f){return f.match(iae)||[]},sae=function(f){return W9(f)?rae(f):Qoe(f)},oae=function(f){return function(t){t=yo(t);var s=W9(t)?sae(t):void 0,a=s?s[0]:t.charAt(0),d=s?Zoe(s,1).join(""):t.slice(1);return a[f]()+d}}("toUpperCase"),aae=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,lae=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,cae=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,uae=/^((\w+:(\/{2,})?)|(\W))/i,bj="Ctrl+K";function Y9(f,{writer:t}){const s=t.createAttributeElement("a",{href:f},{priority:5});return t.setCustomProperty("link",!0,s),s}function Z9(f){const t=String(f);return function(s){return!!s.replace(aae,"").match(lae)}(t)?t:"#"}function yj(f,t){return!!f&&t.checkAttribute(f.name,"linkHref")}function vj(f,t){const s=(a=f,cae.test(a)?"mailto:":t);var a;const d=!!s&&!J9(f);return f&&d?s+f:f}function J9(f){return uae.test(f)}function Q9(f){window.open(f,"_blank","noopener")}class dae extends cn{constructor(){super(...arguments),this.manualDecorators=new Fs,this.automaticDecorators=new Yoe}restoreManualDecoratorStates(){for(const t of this.manualDecorators)t.value=this._getDecoratorStateFromModel(t.id)}refresh(){const t=this.editor.model,s=t.document.selection,a=s.getSelectedElement()||ci(s.getSelectedBlocks());yj(a,t.schema)?(this.value=a.getAttribute("linkHref"),this.isEnabled=t.schema.checkAttribute(a,"linkHref")):(this.value=s.getAttribute("linkHref"),this.isEnabled=t.schema.checkAttributeInSelection(s,"linkHref"));for(const d of this.manualDecorators)d.value=this._getDecoratorStateFromModel(d.id)}execute(t,s={}){const a=this.editor.model,d=a.document.selection,p=[],w=[];for(const k in s)s[k]?p.push(k):w.push(k);a.change(k=>{if(d.isCollapsed){const D=d.getFirstPosition();if(d.hasAttribute("linkHref")){const R=eB(d);let M=sv(D,"linkHref",d.getAttribute("linkHref"),a);d.getAttribute("linkHref")===R&&(M=this._updateLinkContent(a,k,M,t)),k.setAttribute("linkHref",t,M),p.forEach(L=>{k.setAttribute(L,!0,M)}),w.forEach(L=>{k.removeAttribute(L,M)}),k.setSelection(k.createPositionAfter(M.end.nodeBefore))}else if(t!==""){const R=ka(d.getAttributes());R.set("linkHref",t),p.forEach(L=>{R.set(L,!0)});const{end:M}=a.insertContent(k.createText(t,R),D);k.setSelection(M)}["linkHref",...p,...w].forEach(R=>{k.removeSelectionAttribute(R)})}else{const D=a.schema.getValidRanges(d.getRanges(),"linkHref"),R=[];for(const L of d.getSelectedBlocks())a.schema.checkAttribute(L,"linkHref")&&R.push(k.createRangeOn(L));const M=R.slice();for(const L of D)this._isRangeToUpdate(L,R)&&M.push(L);for(const L of M){let W=L;if(M.length===1){const J=eB(d);d.getAttribute("linkHref")===J&&(W=this._updateLinkContent(a,k,L,t),k.setSelection(k.createSelection(W)))}k.setAttribute("linkHref",t,W),p.forEach(J=>{k.setAttribute(J,!0,W)}),w.forEach(J=>{k.removeAttribute(J,W)})}}})}_getDecoratorStateFromModel(t){const s=this.editor.model,a=s.document.selection,d=a.getSelectedElement();return yj(d,s.schema)?d.getAttribute(t):a.getAttribute(t)}_isRangeToUpdate(t,s){for(const a of s)if(a.containsRange(t))return!1;return!0}_updateLinkContent(t,s,a,d){const p=s.createText(d,{linkHref:d});return t.insertContent(p,a)}}function eB(f){if(f.isCollapsed){const t=f.getFirstPosition();return t.textNode&&t.textNode.data}{const t=Array.from(f.getFirstRange().getItems());if(t.length>1)return null;const s=t[0];return s.is("$text")||s.is("$textProxy")?s.data:null}}class hae extends cn{refresh(){const t=this.editor.model,s=t.document.selection,a=s.getSelectedElement();yj(a,t.schema)?this.isEnabled=t.schema.checkAttribute(a,"linkHref"):this.isEnabled=t.schema.checkAttributeInSelection(s,"linkHref")}execute(){const t=this.editor,s=this.editor.model,a=s.document.selection,d=t.commands.get("link");s.change(p=>{const w=a.isCollapsed?[sv(a.getFirstPosition(),"linkHref",a.getAttribute("linkHref"),s)]:s.schema.getValidRanges(a.getRanges(),"linkHref");for(const k of w)if(p.removeAttribute("linkHref",k),d)for(const D of d.manualDecorators)p.removeAttribute(D.id,k)})}}class fae extends ze(){constructor({id:t,label:s,attributes:a,classes:d,styles:p,defaultValue:w}){super(),this.id=t,this.set("value",void 0),this.defaultValue=w,this.label=s,this.attributes=a,this.classes=d,this.styles=p}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var oT=o(3925),X_={attributes:{"data-cke":!0}};X_.setAttributes=Tt(),X_.insert=Ot().bind(null,"head"),X_.domAPI=Rt(),X_.insertStyleElement=Mt(),It()(oT.Z,X_),oT.Z&&oT.Z.locals&&oT.Z.locals;const tB="automatic",pae=/^(https?:)?\/\//;class mae extends it{static get pluginName(){return"LinkEditing"}static get requires(){return[DC,u7,oh]}constructor(t){super(t),t.config.define("link",{addTargetToExternalLinks:!1})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:"linkHref"}),t.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:Y9}),t.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(a,d)=>Y9(Z9(a),d)}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:a=>a.getAttribute("href")}}),t.commands.add("link",new dae(t)),t.commands.add("unlink",new hae(t));const s=function(a,d){const p={"Open in a new tab":a("Open in a new tab"),Downloadable:a("Downloadable")};return d.forEach(w=>("label"in w&&p[w.label]&&(w.label=p[w.label]),w)),d}(t.t,function(a){const d=[];if(a)for(const[p,w]of Object.entries(a)){const k=Object.assign({},w,{id:`link${oae(p)}`});d.push(k)}return d}(t.config.get("link.decorators")));this._enableAutomaticDecorators(s.filter(a=>a.mode===tB)),this._enableManualDecorators(s.filter(a=>a.mode==="manual")),t.plugins.get(DC).registerAttribute("linkHref"),w7(t,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink(),this._enableClipboardIntegration()}_enableAutomaticDecorators(t){const s=this.editor,a=s.commands.get("link").automaticDecorators;s.config.get("link.addTargetToExternalLinks")&&a.add({id:"linkIsExternal",mode:tB,callback:d=>!!d&&pae.test(d),attributes:{target:"_blank",rel:"noopener noreferrer"}}),a.add(t),a.length&&s.conversion.for("downcast").add(a.getDispatcher())}_enableManualDecorators(t){if(!t.length)return;const s=this.editor,a=s.commands.get("link").manualDecorators;t.forEach(d=>{s.model.schema.extend("$text",{allowAttributes:d.id});const p=new fae(d);a.add(p),s.conversion.for("downcast").attributeToElement({model:p.id,view:(w,{writer:k,schema:D},{item:R})=>{if((R.is("selection")||D.isInline(R))&&w){const M=k.createAttributeElement("a",p.attributes,{priority:5});p.classes&&k.addClass(p.classes,M);for(const L in p.styles)k.setStyle(L,p.styles[L],M);return k.setCustomProperty("link",!0,M),M}}}),s.conversion.for("upcast").elementToAttribute({view:{name:"a",...p._createPattern()},model:{key:p.id}})})}_enableLinkOpen(){const t=this.editor,s=t.editing.view.document;this.listenTo(s,"click",(a,d)=>{if(!(y.isMac?d.domEvent.metaKey:d.domEvent.ctrlKey))return;let p=d.domTarget;if(p.tagName.toLowerCase()!="a"&&(p=p.closest("a")),!p)return;const w=p.getAttribute("href");w&&(a.stop(),d.preventDefault(),Q9(w))},{context:"$capture"}),this.listenTo(s,"keydown",(a,d)=>{const p=t.commands.get("link").value;p&&d.keyCode===Gt.enter&&d.altKey&&(a.stop(),Q9(p))})}_enableInsertContentSelectionAttributesFixer(){const t=this.editor.model,s=t.document.selection;this.listenTo(t,"insertContent",()=>{const a=s.anchor.nodeBefore,d=s.anchor.nodeAfter;s.hasAttribute("linkHref")&&a&&a.hasAttribute("linkHref")&&(d&&d.hasAttribute("linkHref")||t.change(p=>{wj(p,xj(t.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const t=this.editor,s=t.model;t.editing.view.addObserver(YA);let a=!1;this.listenTo(t.editing.view.document,"mousedown",()=>{a=!0}),this.listenTo(t.editing.view.document,"selectionChange",()=>{if(!a)return;a=!1;const d=s.document.selection;if(!d.isCollapsed||!d.hasAttribute("linkHref"))return;const p=d.getFirstPosition(),w=sv(p,"linkHref",d.getAttribute("linkHref"),s);(p.isTouching(w.start)||p.isTouching(w.end))&&s.change(k=>{wj(k,xj(s.schema))})})}_enableTypingOverLink(){const t=this.editor,s=t.editing.view;let a=null,d=!1;this.listenTo(s.document,"delete",()=>{d=!0},{priority:"high"}),this.listenTo(t.model,"deleteContent",()=>{const p=t.model.document.selection;p.isCollapsed||(d?d=!1:nB(t)&&function(w){const k=w.document.selection,D=k.getFirstPosition(),R=k.getLastPosition(),M=D.nodeAfter;if(!M||!M.is("$text")||!M.hasAttribute("linkHref"))return!1;const L=R.textNode||R.nodeBefore;return M===L?!0:sv(D,"linkHref",M.getAttribute("linkHref"),w).containsRange(w.createRange(D,R),!0)}(t.model)&&(a=p.getAttributes()))},{priority:"high"}),this.listenTo(t.model,"insertContent",(p,[w])=>{d=!1,nB(t)&&a&&(t.model.change(k=>{for(const[D,R]of a)k.setAttribute(D,R,w)}),a=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const t=this.editor,s=t.model,a=s.document.selection,d=t.editing.view;let p=!1,w=!1;this.listenTo(d.document,"delete",(k,D)=>{w=D.direction==="backward"},{priority:"high"}),this.listenTo(s,"deleteContent",()=>{p=!1;const k=a.getFirstPosition(),D=a.getAttribute("linkHref");if(!D)return;const R=sv(k,"linkHref",D,s);p=R.containsPosition(k)||R.end.isEqual(k)},{priority:"high"}),this.listenTo(s,"deleteContent",()=>{w&&(w=!1,p||t.model.enqueueChange(k=>{wj(k,xj(s.schema))}))},{priority:"low"})}_enableClipboardIntegration(){const t=this.editor,s=t.model,a=this.editor.config.get("link.defaultProtocol");a&&this.listenTo(t.plugins.get("ClipboardPipeline"),"contentInsertion",(d,p)=>{s.change(w=>{const k=w.createRangeIn(p.content);for(const D of k.getItems())if(D.hasAttribute("linkHref")){const R=vj(D.getAttribute("linkHref"),a);w.setAttribute("linkHref",R,D)}})})}}function wj(f,t){f.removeSelectionAttribute("linkHref");for(const s of t)f.removeSelectionAttribute(s)}function nB(f){return f.model.change(t=>t.batch).isTyping}function xj(f){return f.getDefinition("$text").allowAttributes.filter(t=>t.startsWith("link"))}var aT=o(4874),K_={attributes:{"data-cke":!0}};K_.setAttributes=Tt(),K_.insert=Ot().bind(null,"head"),K_.domAPI=Rt(),K_.insertStyleElement=Mt(),It()(aT.Z,K_),aT.Z&&aT.Z.locals&&aT.Z.locals;class gae extends on{constructor(t,s){super(t),this.focusTracker=new Hi,this.keystrokes=new _a,this._focusables=new Lo;const a=t.t;this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(a("Save"),Kn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(a("Cancel"),Kn.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(s),this.children=this._createFormChildren(s.manualDecorators),this._focusCycler=new xc({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const d=["ck","ck-link-form","ck-responsive-form"];s.manualDecorators.length&&d.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:d,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((t,s)=>(t[s.name]=s.isOn,t),{})}render(){super.render(),h({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const t=this.locale.t,s=new _u(this.locale,oC);return s.label=t("Link URL"),s}_createButton(t,s,a,d){const p=new Mn(this.locale);return p.set({label:t,icon:s,tooltip:!0}),p.extendTemplate({attributes:{class:a}}),d&&p.delegate("execute").to(this,d),p}_createManualDecoratorSwitches(t){const s=this.createCollection();for(const a of t.manualDecorators){const d=new xu(this.locale);d.set({name:a.id,label:a.label,withText:!0}),d.bind("isOn").toMany([a,t],"value",(p,w)=>w===void 0&&p===void 0?!!a.defaultValue:!!p),d.on("execute",()=>{a.set("value",!d.isOn)}),s.add(d)}return s}_createFormChildren(t){const s=this.createCollection();if(s.add(this.urlInputView),t.length){const a=new on;a.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(d=>({tag:"li",children:[d],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),s.add(a)}return s.add(this.saveButtonView),s.add(this.cancelButtonView),s}}var lT=o(7536),Y_={attributes:{"data-cke":!0}};Y_.setAttributes=Tt(),Y_.insert=Ot().bind(null,"head"),Y_.domAPI=Rt(),Y_.insertStyleElement=Mt(),It()(lT.Z,Y_),lT.Z&&lT.Z.locals&&lT.Z.locals;class bae extends on{constructor(t){super(t),this.focusTracker=new Hi,this.keystrokes=new _a,this._focusables=new Lo;const s=t.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(s("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(s("Edit link"),Kn.pencil,"edit"),this.set("href",void 0),this._focusCycler=new xc({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(t,s,a){const d=new Mn(this.locale);return d.set({label:t,icon:s,tooltip:!0}),d.delegate("execute").to(this,a),d}_createPreviewButton(){const t=new Mn(this.locale),s=this.bindTemplate,a=this.t;return t.set({withText:!0,tooltip:a("Open link in new tab")}),t.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:s.to("href",d=>d&&Z9(d)),target:"_blank",rel:"noopener noreferrer"}}),t.bind("label").to(this,"href",d=>d||a("This link has no URL")),t.bind("isEnabled").to(this,"href",d=>!!d),t.template.tag="a",t.template.eventListeners={},t}}const Bu="link-ui";class yae extends it{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[vC]}static get pluginName(){return"LinkUI"}init(){const t=this.editor;t.editing.view.addObserver(_re),this._balloon=t.plugins.get(vC),this._createToolbarLinkButton(),this._enableBalloonActivators(),t.conversion.for("editingDowncast").markerToHighlight({model:Bu,view:{classes:["ck-fake-link-selection"]}}),t.conversion.for("editingDowncast").markerToElement({model:Bu,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const t=this.editor,s=new bae(t.locale),a=t.commands.get("link"),d=t.commands.get("unlink");return s.bind("href").to(a,"value"),s.editButtonView.bind("isEnabled").to(a),s.unlinkButtonView.bind("isEnabled").to(d),this.listenTo(s,"edit",()=>{this._addFormView()}),this.listenTo(s,"unlink",()=>{t.execute("unlink"),this._hideUI()}),s.keystrokes.set("Esc",(p,w)=>{this._hideUI(),w()}),s.keystrokes.set(bj,(p,w)=>{this._addFormView(),w()}),s}_createFormView(){const t=this.editor,s=t.commands.get("link"),a=t.config.get("link.defaultProtocol"),d=new(u(gae))(t.locale,s);return d.urlInputView.fieldView.bind("value").to(s,"value"),d.urlInputView.bind("isEnabled").to(s,"isEnabled"),d.saveButtonView.bind("isEnabled").to(s),this.listenTo(d,"submit",()=>{const{value:p}=d.urlInputView.fieldView.element,w=vj(p,a);t.execute("link",w,d.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(d,"cancel",()=>{this._closeFormView()}),d.keystrokes.set("Esc",(p,w)=>{this._closeFormView(),w()}),d}_createToolbarLinkButton(){const t=this.editor,s=t.commands.get("link"),a=t.t;t.ui.componentFactory.add("link",d=>{const p=new Mn(d);return p.isEnabled=!0,p.label=a("Link"),p.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',p.keystroke=bj,p.tooltip=!0,p.isToggleable=!0,p.bind("isEnabled").to(s,"isEnabled"),p.bind("isOn").to(s,"value",w=>!!w),this.listenTo(p,"execute",()=>this._showUI(!0)),p})}_enableBalloonActivators(){const t=this.editor,s=t.editing.view.document;this.listenTo(s,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),t.keystrokes.set(bj,(a,d)=>{d(),t.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(t,s)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),s())},{priority:"high"}),this.editor.keystrokes.set("Esc",(t,s)=>{this._isUIVisible&&(this._hideUI(),s())}),c({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const t=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=t.value||""}_closeFormView(){const t=this.editor.commands.get("link");t.restoreManualDecoratorStates(),t.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(t=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),t&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),t&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const t=this.editor;this.stopListening(t.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),t.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const t=this.editor,s=t.editing.view.document;let a=this._getSelectedLinkElement(),d=w();const p=()=>{const k=this._getSelectedLinkElement(),D=w();a&&!k||!a&&D!==d?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),a=k,d=D};function w(){return s.selection.focus.getAncestors().reverse().find(k=>k.is("element"))}this.listenTo(t.ui,"update",p),this.listenTo(this._balloon,"change:visibleView",p)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const t=this._balloon.visibleView;return!!this.formView&&t==this.formView||this._areActionsVisible}_getBalloonPositionData(){const t=this.editor.editing.view,s=this.editor.model,a=t.document;let d;if(s.markers.has(Bu)){const p=Array.from(this.editor.editing.mapper.markerNameToElements(Bu)),w=t.createRange(t.createPositionBefore(p[0]),t.createPositionAfter(p[p.length-1]));d=t.domConverter.viewRangeToDom(w)}else d=()=>{const p=this._getSelectedLinkElement();return p?t.domConverter.mapViewToDom(p):t.domConverter.viewRangeToDom(a.selection.getFirstRange())};return{target:d}}_getSelectedLinkElement(){const t=this.editor.editing.view,s=t.document.selection,a=s.getSelectedElement();if(s.isCollapsed||a&&Er(a))return _j(s.getFirstPosition());{const d=s.getFirstRange().getTrimmed(),p=_j(d.start),w=_j(d.end);return p&&p==w&&t.createRangeIn(p).getTrimmed().isEqual(d)?p:null}}_showFakeVisualSelection(){const t=this.editor.model;t.change(s=>{const a=t.document.selection.getFirstRange();if(t.markers.has(Bu))s.updateMarker(Bu,{range:a});else if(a.start.isAtEnd){const d=a.start.getLastMatchingPosition(({item:p})=>!t.schema.isContent(p),{boundaries:a});s.addMarker(Bu,{usingOperation:!1,affectsData:!1,range:s.createRange(d,a.end)})}else s.addMarker(Bu,{usingOperation:!1,affectsData:!1,range:a})})}_hideFakeVisualSelection(){const t=this.editor.model;t.markers.has(Bu)&&t.change(s=>{s.removeMarker(Bu)})}}function _j(f){return f.getAncestors().find(t=>{return(s=t).is("attributeElement")&&!!s.getCustomProperty("link");var s})||null}const vae=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class wae extends it{static get requires(){return[ah]}static get pluginName(){return"AutoLink"}init(){const t=this.editor.model.document.selection;t.on("change:range",()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const t=this.editor,s=new g7(t.model,a=>{if(!function(p){return p.length>4&&p[p.length-1]===" "&&p[p.length-2]!==" "}(a))return;const d=iB(a.substr(0,a.length-1));return d?{url:d}:void 0});s.on("matched:data",(a,d)=>{const{batch:p,range:w,url:k}=d;if(!p.isTyping)return;const D=w.end.getShiftedBy(-1),R=D.getShiftedBy(-k.length),M=t.model.createRange(R,D);this._applyAutoLink(k,M)}),s.bind("isEnabled").to(this)}_enableEnterHandling(){const t=this.editor,s=t.model,a=t.commands.get("enter");a&&a.on("execute",()=>{const d=s.document.selection.getFirstPosition();if(!d.parent.previousSibling)return;const p=s.createRangeIn(d.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(p)})}_enableShiftEnterHandling(){const t=this.editor,s=t.model,a=t.commands.get("shiftEnter");a&&a.on("execute",()=>{const d=s.document.selection.getFirstPosition(),p=s.createRange(s.createPositionAt(d.parent,0),d.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(p)})}_checkAndApplyAutoLinkOnRange(t){const s=this.editor.model,{text:a,range:d}=m7(t,s),p=iB(a);if(p){const w=s.createRange(d.end.getShiftedBy(-p.length),d.end);this._applyAutoLink(p,w)}}_applyAutoLink(t,s){const a=this.editor.model,d=vj(t,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(p,w){return w.schema.checkAttributeInSelection(w.createSelection(p),"linkHref")}(s,a)&&J9(d)&&!function(p){const w=p.start.nodeAfter;return!!w&&w.hasAttribute("linkHref")}(s)&&this._persistAutoLink(d,s)}_persistAutoLink(t,s){const a=this.editor.model,d=this.editor.plugins.get("Delete");a.enqueueChange(p=>{p.setAttribute("linkHref",t,s),a.enqueueChange(()=>{d.requestUndoOnBackspace()})})}}function iB(f){const t=vae.exec(f);return t?t[2]:null}class rB extends cn{constructor(t,s){super(t),this.type=s}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const s=this.editor.model,a=s.document,d=Array.from(a.selection.getSelectedBlocks()).filter(w=>oB(w,s.schema)),p=t.forceValue!==void 0?!t.forceValue:this.value;s.change(w=>{if(p){let k=d[d.length-1].nextSibling,D=Number.POSITIVE_INFINITY,R=[];for(;k&&k.name=="listItem"&&k.getAttribute("listIndent")!==0;){const M=k.getAttribute("listIndent");M<D&&(D=M);const L=M-D;R.push({element:k,listIndent:L}),k=k.nextSibling}R=R.reverse();for(const M of R)w.setAttribute("listIndent",M.listIndent,M.element)}if(!p){let k=Number.POSITIVE_INFINITY;for(const D of d)D.is("element","listItem")&&D.getAttribute("listIndent")<k&&(k=D.getAttribute("listIndent"));k=k===0?1:k,sB(d,!0,k),sB(d,!1,k)}for(const k of d.reverse())p&&k.name=="listItem"?w.rename(k,"paragraph"):p||k.name=="listItem"?p||k.name!="listItem"||k.getAttribute("listType")==this.type||w.setAttribute("listType",this.type,k):(w.setAttributes({listType:this.type,listIndent:0},k),w.rename(k,"listItem"));this.fire("_executeCleanup",d)})}_getValue(){const t=ci(this.editor.model.document.selection.getSelectedBlocks());return!!t&&t.is("element","listItem")&&t.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.document.selection,s=this.editor.model.schema,a=ci(t.getSelectedBlocks());return!!a&&oB(a,s)}}function sB(f,t,s){const a=t?f[0]:f[f.length-1];if(a.is("element","listItem")){let d=a[t?"previousSibling":"nextSibling"],p=a.getAttribute("listIndent");for(;d&&d.is("element","listItem")&&d.getAttribute("listIndent")>=s;)p>d.getAttribute("listIndent")&&(p=d.getAttribute("listIndent")),d.getAttribute("listIndent")==p&&f[t?"unshift":"push"](d),d=d[t?"previousSibling":"nextSibling"]}}function oB(f,t){return t.checkChild(f.parent,"listItem")&&!t.isObject(f)}class aB extends cn{constructor(t,s){super(t),this._indentBy=s=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model,s=t.document;let a=Array.from(s.selection.getSelectedBlocks());t.change(d=>{const p=a[a.length-1];let w=p.nextSibling;for(;w&&w.name=="listItem"&&w.getAttribute("listIndent")>p.getAttribute("listIndent");)a.push(w),w=w.nextSibling;this._indentBy<0&&(a=a.reverse());for(const k of a){const D=k.getAttribute("listIndent")+this._indentBy;D<0?d.rename(k,"paragraph"):d.setAttribute("listIndent",D,k)}this.fire("_executeCleanup",a)})}_checkEnabled(){const t=ci(this.editor.model.document.selection.getSelectedBlocks());if(!t||!t.is("element","listItem"))return!1;if(this._indentBy>0){const s=t.getAttribute("listIndent"),a=t.getAttribute("listType");let d=t.previousSibling;for(;d&&d.is("element","listItem")&&d.getAttribute("listIndent")>=s;){if(d.getAttribute("listIndent")==s)return d.getAttribute("listType")==a;d=d.previousSibling}return!1}return!0}}function xae(f,t){const s=t.mapper,a=t.writer,d=f.getAttribute("listType")=="numbered"?"ol":"ul",p=function(k){const D=k.createContainerElement("li");return D.getFillerOffset=Eae,D}(a),w=a.createContainerElement(d,null);return a.insert(a.createPositionAt(w,0),p),s.bindElements(f,p),p}function lB(f,t,s,a){const d=t.parent,p=s.mapper,w=s.writer;let k=p.toViewPosition(a.createPositionBefore(f));const D=uB(f.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:f.getAttribute("listIndent")}),R=f.previousSibling;if(D&&D.getAttribute("listIndent")==f.getAttribute("listIndent")){const M=p.toViewElement(D);k=w.breakContainer(w.createPositionAfter(M))}else if(R&&R.name=="listItem"){k=p.toViewPosition(a.createPositionAt(R,"end"));const M=p.findMappedViewAncestor(k),L=function(W){for(const J of W.getChildren())if(J.name=="ul"||J.name=="ol")return J;return null}(M);k=L?w.createPositionBefore(L):w.createPositionAt(M,"end")}else k=p.toViewPosition(a.createPositionBefore(f));if(k=cB(k),w.insert(k,d),R&&R.name=="listItem"){const M=p.toViewElement(R),L=w.createRange(w.createPositionAt(M,0),k).getWalker({ignoreElementEnd:!0});for(const W of L)if(W.item.is("element","li")){const J=w.breakContainer(w.createPositionBefore(W.item)),re=W.item.parent,ae=w.createPositionAt(t,"end");Ml(w,ae.nodeBefore,ae.nodeAfter),w.move(w.createRangeOn(re),ae),L._position=J}}else{const M=d.nextSibling;if(M&&(M.is("element","ul")||M.is("element","ol"))){let L=null;for(const W of M.getChildren()){const J=p.toModelElement(W);if(!(J&&J.getAttribute("listIndent")>f.getAttribute("listIndent")))break;L=W}L&&(w.breakContainer(w.createPositionAfter(L)),w.move(w.createRangeOn(L.parent),w.createPositionAt(t,"end")))}}Ml(w,d,d.nextSibling),Ml(w,d.previousSibling,d)}function Ml(f,t,s){return!t||!s||t.name!="ul"&&t.name!="ol"||t.name!=s.name||t.getAttribute("class")!==s.getAttribute("class")?null:f.mergeContainers(f.createPositionAfter(t))}function cB(f){return f.getLastMatchingPosition(t=>t.item.is("uiElement"))}function uB(f,t){const s=!!t.sameIndent,a=!!t.smallerIndent,d=t.listIndent;let p=f;for(;p&&p.name=="listItem";){const w=p.getAttribute("listIndent");if(s&&d==w||a&&d>w)return p;p=t.direction==="forward"?p.nextSibling:p.previousSibling}return null}function dB(f,t,s,a){f.ui.componentFactory.add(t,d=>{const p=f.commands.get(t),w=new Mn(d);return w.set({label:s,icon:a,tooltip:!0,isToggleable:!0}),w.bind("isOn","isEnabled").to(p,"value","isEnabled"),w.on("execute",()=>{f.execute(t),f.editing.view.focus()}),w})}function kj(f,t){const s=[],a=f.parent,d={ignoreElementEnd:!1,startPosition:f,shallow:!0,direction:t},p=a.getAttribute("listIndent"),w=[...new Il(d)].filter(k=>k.item.is("element")).map(k=>k.item);for(const k of w){if(!k.is("element","listItem")||k.getAttribute("listIndent")<p)break;if(!(k.getAttribute("listIndent")>p)){if(k.getAttribute("listType")!==a.getAttribute("listType")||k.getAttribute("listStyle")!==a.getAttribute("listStyle")||k.getAttribute("listReversed")!==a.getAttribute("listReversed")||k.getAttribute("listStart")!==a.getAttribute("listStart"))break;t==="backward"?s.unshift(k):s.push(k)}}return s}const _ae=["disc","circle","square"],kae=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function Eae(){const f=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||f?0:Ox.call(this)}class Sae extends it{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(t){return function(s){return _ae.includes(s)?"bulleted":kae.includes(s)?"numbered":null}(t)}getSelectedListItems(t){return function(s){let a=[...s.document.selection.getSelectedBlocks()].filter(d=>d.is("element","listItem")).map(d=>{const p=s.change(w=>w.createPositionAt(d,0));return[...kj(p,"backward"),...kj(p,"forward")]}).flat();return a=[...new Set(a)],a}(t)}getSiblingNodes(t,s){return kj(t,s)}}function hB(f){return(t,s,a)=>{const d=a.consumable;if(!d.test(s.item,"insert")||!d.test(s.item,"attribute:listType")||!d.test(s.item,"attribute:listIndent"))return;d.consume(s.item,"insert"),d.consume(s.item,"attribute:listType"),d.consume(s.item,"attribute:listIndent");const p=s.item;lB(p,xae(p,a),a,f)}}const Aae=(f,t,s)=>{if(!s.consumable.test(t.item,f.name))return;const a=s.mapper.toViewElement(t.item),d=s.writer;d.breakContainer(d.createPositionBefore(a)),d.breakContainer(d.createPositionAfter(a));const p=a.parent,w=t.attributeNewValue=="numbered"?"ol":"ul";d.rename(w,p)},Cae=(f,t,s)=>{s.consumable.consume(t.item,f.name);const a=s.mapper.toViewElement(t.item).parent,d=s.writer;Ml(d,a,a.nextSibling),Ml(d,a.previousSibling,a)},fB=(f,t,s)=>{if(s.consumable.test(t.item,f.name)&&t.item.name!="listItem"){let a=s.mapper.toViewPosition(t.range.start);const d=s.writer,p=[];for(;(a.parent.name=="ul"||a.parent.name=="ol")&&(a=d.breakContainer(a),a.parent.name=="li");){const w=a,k=d.createPositionAt(a.parent,"end");if(!w.isEqual(k)){const D=d.remove(d.createRange(w,k));p.push(D)}a=d.createPositionAfter(a.parent)}if(p.length>0){for(let w=0;w<p.length;w++){const k=a.nodeBefore;if(a=d.insert(a,p[w]).end,w>0){const D=Ml(d,k,k.nextSibling);D&&D.parent==k&&a.offset--}}Ml(d,a.nodeBefore,a.nodeAfter)}}},Tae=(f,t,s)=>{const a=s.mapper.toViewPosition(t.position),d=a.nodeBefore,p=a.nodeAfter;Ml(s.writer,d,p)},Dae=(f,t,s)=>{if(s.consumable.consume(t.viewItem,{name:!0})){const a=s.writer,d=a.createElement("listItem"),p=function(D){let R=0,M=D.parent;for(;M;){if(M.is("element","li"))R++;else{const L=M.previousSibling;L&&L.is("element","li")&&R++}M=M.parent}return R}(t.viewItem);a.setAttribute("listIndent",p,d);const w=t.viewItem.parent&&t.viewItem.parent.name=="ol"?"numbered":"bulleted";if(a.setAttribute("listType",w,d),!s.safeInsert(d,t.modelCursor))return;const k=function(D,R,M){const{writer:L,schema:W}=M;let J=L.createPositionAfter(D);for(const re of R)if(re.name=="ul"||re.name=="ol")J=M.convertItem(re,J).modelCursor;else{const ae=M.convertItem(re,L.createPositionAt(D,"end")),ve=ae.modelRange.start.nodeAfter;ve&&ve.is("element")&&!W.checkChild(D,ve.name)&&(D=ae.modelCursor.parent.is("element","listItem")?ae.modelCursor.parent:jae(ae.modelCursor),J=L.createPositionAfter(D))}return J}(d,t.viewItem.getChildren(),s);t.modelRange=a.createRange(t.modelCursor,k),s.updateConversionResult(d,t)}},pB=(f,t,s)=>{if(s.consumable.test(t.viewItem,{name:!0})){const a=Array.from(t.viewItem.getChildren());for(const d of a)!(d.is("element","li")||cv(d))&&d._remove()}},Nae=(f,t,s)=>{if(s.consumable.test(t.viewItem,{name:!0})){if(t.viewItem.childCount===0)return;const a=[...t.viewItem.getChildren()];let d=!1;for(const p of a)d&&!cv(p)&&p._remove(),cv(p)&&(d=!0)}};function mB(f){return(t,s)=>{if(s.isPhantom)return;const a=s.modelPosition.nodeBefore;if(a&&a.is("element","listItem")){const d=s.mapper.toViewElement(a),p=d.getAncestors().find(cv),w=f.createPositionAt(d,0).getWalker();for(const k of w){if(k.type=="elementStart"&&k.item.is("element","li")){s.viewPosition=k.previousPosition;break}if(k.type=="elementEnd"&&k.item==p){s.viewPosition=k.nextPosition;break}}}}}const Pae=function(f,[t,s]){const a=this;let d,p=t.is("documentFragment")?t.getChild(0):t;if(d=s?a.createSelection(s):a.document.selection,p&&p.is("element","listItem")){const w=d.getFirstPosition();let k=null;if(w.parent.is("element","listItem")?k=w.parent:w.nodeBefore&&w.nodeBefore.is("element","listItem")&&(k=w.nodeBefore),k){const D=k.getAttribute("listIndent");if(D>0)for(;p&&p.is("element","listItem");)p._setAttribute("listIndent",p.getAttribute("listIndent")+D),p=p.nextSibling}}};function jae(f){const t=new Il({startPosition:f});let s;do s=t.next();while(!s.value.item.is("element","listItem"));return s.value.item}function gB(f,t,s,a,d,p){const w=uB(t.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:f}),k=d.mapper,D=d.writer,R=w?w.getAttribute("listIndent"):null;let M;if(w)if(R==f){const L=k.toViewElement(w).parent;M=D.createPositionAfter(L)}else{const L=p.createPositionAt(w,"end");M=k.toViewPosition(L)}else M=s;M=cB(M);for(const L of[...a.getChildren()])cv(L)&&(M=D.move(D.createRangeOn(L),M).end,Ml(D,L,L.nextSibling),Ml(D,L.previousSibling,L))}function cv(f){return f.is("element","ol")||f.is("element","ul")}var cT=o(4784),Z_={attributes:{"data-cke":!0}};Z_.setAttributes=Tt(),Z_.insert=Ot().bind(null,"head"),Z_.domAPI=Rt(),Z_.insertStyleElement=Mt(),It()(cT.Z,Z_),cT.Z&&cT.Z.locals&&cT.Z.locals;class Iae extends it{static get pluginName(){return"ListEditing"}static get requires(){return[jC,ah,Sae]}init(){const t=this.editor;t.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const s=t.data,a=t.editing;var d;t.model.document.registerPostFixer(w=>function(k,D){const R=k.document.differ.getChanges(),M=new Map;let L=!1;for(const ae of R)if(ae.type=="insert"&&ae.name=="listItem")W(ae.position);else if(ae.type=="insert"&&ae.name!="listItem"){if(ae.name!="$text"){const ve=ae.position.nodeAfter;ve.hasAttribute("listIndent")&&(D.removeAttribute("listIndent",ve),L=!0),ve.hasAttribute("listType")&&(D.removeAttribute("listType",ve),L=!0),ve.hasAttribute("listStyle")&&(D.removeAttribute("listStyle",ve),L=!0),ve.hasAttribute("listReversed")&&(D.removeAttribute("listReversed",ve),L=!0),ve.hasAttribute("listStart")&&(D.removeAttribute("listStart",ve),L=!0);for(const je of Array.from(k.createRangeIn(ve)).filter($e=>$e.item.is("element","listItem")))W(je.previousPosition)}W(ae.position.getShiftedBy(ae.length))}else ae.type=="remove"&&ae.name=="listItem"?W(ae.position):(ae.type=="attribute"&&ae.attributeKey=="listIndent"||ae.type=="attribute"&&ae.attributeKey=="listType")&&W(ae.range.start);for(const ae of M.values())J(ae),re(ae);return L;function W(ae){const ve=ae.nodeBefore;if(ve&&ve.is("element","listItem")){let je=ve;if(M.has(je))return;for(let $e=je.previousSibling;$e&&$e.is("element","listItem");$e=je.previousSibling)if(je=$e,M.has(je))return;M.set(ve,je)}else{const je=ae.nodeAfter;je&&je.is("element","listItem")&&M.set(je,je)}}function J(ae){let ve=0,je=null;for(;ae&&ae.is("element","listItem");){const $e=ae.getAttribute("listIndent");if($e>ve){let Qe;je===null?(je=$e-ve,Qe=ve):(je>$e&&(je=$e),Qe=$e-je),D.setAttribute("listIndent",Qe,ae),L=!0}else je=null,ve=ae.getAttribute("listIndent")+1;ae=ae.nextSibling}}function re(ae){let ve=[],je=null;for(;ae&&ae.is("element","listItem");){const $e=ae.getAttribute("listIndent");if(je&&je.getAttribute("listIndent")>$e&&(ve=ve.slice(0,$e+1)),$e!=0)if(ve[$e]){const Qe=ve[$e];ae.getAttribute("listType")!=Qe&&(D.setAttribute("listType",Qe,ae),L=!0)}else ve[$e]=ae.getAttribute("listType");je=ae,ae=ae.nextSibling}}}(t.model,w)),a.mapper.registerViewToModelLength("li",Ej),s.mapper.registerViewToModelLength("li",Ej),a.mapper.on("modelToViewPosition",mB(a.view)),a.mapper.on("viewToModelPosition",(d=t.model,(w,k)=>{const D=k.viewPosition,R=D.parent,M=k.mapper;if(R.name=="ul"||R.name=="ol"){if(D.isAtEnd){const L=M.toModelElement(D.nodeBefore),W=M.getModelLength(D.nodeBefore);k.modelPosition=d.createPositionBefore(L).getShiftedBy(W)}else{const L=M.toModelElement(D.nodeAfter);k.modelPosition=d.createPositionBefore(L)}w.stop()}else if(R.name=="li"&&D.nodeBefore&&(D.nodeBefore.name=="ul"||D.nodeBefore.name=="ol")){const L=M.toModelElement(R);let W=1,J=D.nodeBefore;for(;J&&cv(J);)W+=M.getModelLength(J),J=J.previousSibling;k.modelPosition=d.createPositionBefore(L).getShiftedBy(W),w.stop()}})),s.mapper.on("modelToViewPosition",mB(a.view)),t.conversion.for("editingDowncast").add(w=>{w.on("insert",fB,{priority:"high"}),w.on("insert:listItem",hB(t.model)),w.on("attribute:listType:listItem",Aae,{priority:"high"}),w.on("attribute:listType:listItem",Cae,{priority:"low"}),w.on("attribute:listIndent:listItem",function(k){return(D,R,M)=>{if(!M.consumable.consume(R.item,"attribute:listIndent"))return;const L=M.mapper.toViewElement(R.item),W=M.writer;W.breakContainer(W.createPositionBefore(L)),W.breakContainer(W.createPositionAfter(L));const J=L.parent,re=J.previousSibling,ae=W.createRangeOn(J);W.remove(ae),re&&re.nextSibling&&Ml(W,re,re.nextSibling),gB(R.attributeOldValue+1,R.range.start,ae.start,L,M,k),lB(R.item,L,M,k);for(const ve of R.item.getChildren())M.consumable.consume(ve,"insert")}}(t.model)),w.on("remove:listItem",function(k){return(D,R,M)=>{const L=M.mapper.toViewPosition(R.position).getLastMatchingPosition(je=>!je.item.is("element","li")).nodeAfter,W=M.writer;W.breakContainer(W.createPositionBefore(L)),W.breakContainer(W.createPositionAfter(L));const J=L.parent,re=J.previousSibling,ae=W.createRangeOn(J),ve=W.remove(ae);re&&re.nextSibling&&Ml(W,re,re.nextSibling),gB(M.mapper.toModelElement(L).getAttribute("listIndent")+1,R.position,ae.start,L,M,k);for(const je of W.createRangeIn(ve).getItems())M.mapper.unbindViewElement(je);D.stop()}}(t.model)),w.on("remove",Tae,{priority:"low"})}),t.conversion.for("dataDowncast").add(w=>{w.on("insert",fB,{priority:"high"}),w.on("insert:listItem",hB(t.model))}),t.conversion.for("upcast").add(w=>{w.on("element:ul",pB,{priority:"high"}),w.on("element:ol",pB,{priority:"high"}),w.on("element:li",Nae,{priority:"high"}),w.on("element:li",Dae)}),t.model.on("insertContent",Pae,{priority:"high"}),t.commands.add("numberedList",new rB(t,"numbered")),t.commands.add("bulletedList",new rB(t,"bulleted")),t.commands.add("indentList",new aB(t,"forward")),t.commands.add("outdentList",new aB(t,"backward"));const p=a.view.document;this.listenTo(p,"enter",(w,k)=>{const D=this.editor.model.document,R=D.selection.getLastPosition().parent;D.selection.isCollapsed&&R.name=="listItem"&&R.isEmpty&&(this.editor.execute("outdentList"),k.preventDefault(),w.stop())},{context:"li"}),this.listenTo(p,"delete",(w,k)=>{if(k.direction!=="backward")return;const D=this.editor.model.document.selection;if(!D.isCollapsed)return;const R=D.getFirstPosition();if(!R.isAtStart)return;const M=R.parent;M.name==="listItem"&&(M.previousSibling&&M.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),k.preventDefault(),w.stop()))},{context:"li"}),this.listenTo(t.editing.view.document,"tab",(w,k)=>{const D=k.shiftKey?"outdentList":"indentList";this.editor.commands.get(D).isEnabled&&(t.execute(D),k.stopPropagation(),k.preventDefault(),w.stop())},{context:"li"})}afterInit(){const t=this.editor.commands,s=t.get("indent"),a=t.get("outdent");s&&s.registerChildCommand(t.get("indentList")),a&&a.registerChildCommand(t.get("outdentList"))}}function Ej(f){let t=1;for(const s of f.getChildren())if(s.name=="ul"||s.name=="ol")for(const a of s.getChildren())t+=Ej(a);return t}class Rae extends it{static get pluginName(){return"ListUI"}init(){const t=this.editor.t;dB(this.editor,"numberedList",t("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),dB(this.editor,"bulletedList",t("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}function bB(f,t){const s=(a,d,p)=>{if(!p.consumable.consume(d.item,a.name))return;const w=d.attributeNewValue,k=p.writer,D=p.mapper.toViewElement(d.item),R=[...D.getChildren()].find(L=>L.getCustomProperty("media-content"));k.remove(R);const M=f.getMediaViewElement(k,w,t);k.insert(k.createPositionAt(D,0),M)};return a=>{a.on("attribute:url:media",s)}}function yB(f,t,s,a){return f.createContainerElement("figure",{class:"media"},[t.getMediaViewElement(f,s,a),f.createSlot()])}function vB(f){const t=f.getSelectedElement();return t&&t.is("element","media")?t:null}function wB(f,t,s,a){f.change(d=>{const p=d.createElement("media",{url:t});f.insertObject(p,s,null,{setSelection:"on",findOptimalPosition:a?"auto":void 0})})}class Mae extends cn{refresh(){const t=this.editor.model,s=t.document.selection,a=vB(s);this.value=a?a.getAttribute("url"):void 0,this.isEnabled=function(d){const p=d.getSelectedElement();return!!p&&p.name==="media"}(s)||function(d,p){let k=D7(d,p).start.parent;return k.isEmpty&&!p.schema.isLimit(k)&&(k=k.parent),p.schema.checkChild(k,"media")}(s,t)}execute(t){const s=this.editor.model,a=s.document.selection,d=vB(a);d?s.change(p=>{p.setAttribute("url",t,d)}):wB(s,t,a,!0)}}class Oae{constructor(t,s){const a=s.providers,d=s.extraProviders||[],p=new Set(s.removeProviders),w=a.concat(d).filter(k=>{const D=k.name;return D?!p.has(D):(K("media-embed-no-provider-name",{provider:k}),!1)});this.locale=t,this.providerDefinitions=w}hasMedia(t){return!!this._getMedia(t)}getMediaViewElement(t,s,a){return this._getMedia(s).getViewElement(t,a)}_getMedia(t){if(!t)return new xB(this.locale);t=t.trim();for(const s of this.providerDefinitions){const a=s.html,d=Rn(s.url);for(const p of d){const w=this._getUrlMatches(t,p);if(w)return new xB(this.locale,t,w,a)}}return null}_getUrlMatches(t,s){let a=t.match(s);if(a)return a;let d=t.replace(/^https?:\/\//,"");return a=d.match(s),a||(d=d.replace(/^www\./,""),a=d.match(s),a||null)}}class xB{constructor(t,s,a,d){this.url=this._getValidUrl(s),this._locale=t,this._match=a,this._previewRenderer=d}getViewElement(t,s){const a={};let d;if(s.renderForEditingView||s.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(a["data-oembed-url"]=this.url),s.renderForEditingView&&(a.class="ck-media__wrapper");const p=this._getPreviewHtml(s);d=t.createRawElement("div",a,(w,k)=>{k.setContentOf(w,p)})}else this.url&&(a.url=this.url),d=t.createEmptyElement(s.elementName,a);return t.setCustomProperty("media-content",!0,d),d}_getPreviewHtml(t){return this._previewRenderer?this._previewRenderer(this._match):this.url&&t.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const t=new zo,s=this._locale.t;return t.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',t.viewBox="0 0 64 42",new dr({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[t]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":s("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(t){return t?t.match(/^https?/)?t:"https://"+t:null}}var uT=o(1922),J_={attributes:{"data-cke":!0}};J_.setAttributes=Tt(),J_.insert=Ot().bind(null,"head"),J_.domAPI=Rt(),J_.insertStyleElement=Mt(),It()(uT.Z,J_),uT.Z&&uT.Z.locals&&uT.Z.locals;class dT extends it{static get pluginName(){return"MediaEmbedEditing"}constructor(t){super(t),t.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:s=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${s[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:s=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${s[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:s=>{const a=s[1],d=s[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${a}${d?`?start=${d}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:s=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${s[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new Oae(t.locale,t.config.get("mediaEmbed"))}init(){const t=this.editor,s=t.model.schema,a=t.t,d=t.conversion,p=t.config.get("mediaEmbed.previewsInData"),w=t.config.get("mediaEmbed.elementName"),k=this.registry;t.commands.add("mediaEmbed",new Mae(t)),s.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),d.for("dataDowncast").elementToStructure({model:"media",view:(D,{writer:R})=>{const M=D.getAttribute("url");return yB(R,k,M,{elementName:w,renderMediaPreview:!!M&&p})}}),d.for("dataDowncast").add(bB(k,{elementName:w,renderMediaPreview:p})),d.for("editingDowncast").elementToStructure({model:"media",view:(D,{writer:R})=>{const M=D.getAttribute("url");return function(L,W,J){return W.setCustomProperty("media",!0,L),JP(L,W,{label:J})}(yB(R,k,M,{elementName:w,renderForEditingView:!0}),R,a("media widget"))}}),d.for("editingDowncast").add(bB(k,{elementName:w,renderForEditingView:!0})),d.for("upcast").elementToElement({view:D=>["oembed",w].includes(D.name)&&D.getAttribute("url")?{name:!0}:null,model:(D,{writer:R})=>{const M=D.getAttribute("url");return k.hasMedia(M)?R.createElement("media",{url:M}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(D,{writer:R})=>{const M=D.getAttribute("data-oembed-url");return k.hasMedia(M)?R.createElement("media",{url:M}):null}}).add(D=>{D.on("element:figure",(R,M,L)=>{if(!L.consumable.consume(M.viewItem,{name:!0,classes:"media"}))return;const{modelRange:W,modelCursor:J}=L.convertChildren(M.viewItem,M.modelCursor);M.modelRange=W,M.modelCursor=J,ci(W.getItems())||L.consumable.revert(M.viewItem,{name:!0,classes:"media"})})})}}const Fae=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class Uae extends it{static get requires(){return[W7,ah,X7]}static get pluginName(){return"AutoMediaEmbed"}constructor(t){super(t),this._timeoutId=null,this._positionToInsert=null}init(){const t=this.editor,s=t.model.document,a=t.plugins.get("ClipboardPipeline");this.listenTo(a,"inputTransformation",()=>{const d=s.selection.getFirstRange(),p=fs.fromPosition(d.start);p.stickiness="toPrevious";const w=fs.fromPosition(d.end);w.stickiness="toNext",s.once("change:data",()=>{this._embedMediaBetweenPositions(p,w),p.detach(),w.detach()},{priority:"high"})}),t.commands.get("undo").on("execute",()=>{this._timeoutId&&(de.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(t,s){const a=this.editor,d=a.plugins.get(dT).registry,p=new Na(t,s),w=p.getWalker({ignoreElementEnd:!0});let k="";for(const D of w)D.item.is("$textProxy")&&(k+=D.item.data);if(k=k.trim(),!k.match(Fae)||!d.hasMedia(k))return void p.detach();a.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=fs.fromPosition(t),this._timeoutId=de.window.setTimeout(()=>{a.model.change(D=>{this._timeoutId=null,D.remove(p),p.detach();let R=null;this._positionToInsert.root.rootName!=="$graveyard"&&(R=this._positionToInsert),wB(a.model,k,R,!1),this._positionToInsert.detach(),this._positionToInsert=null}),a.plugins.get(ah).requestUndoOnBackspace()},100)):p.detach()}}var hT=o(7138),Q_={attributes:{"data-cke":!0}};Q_.setAttributes=Tt(),Q_.insert=Ot().bind(null,"head"),Q_.domAPI=Rt(),Q_.insertStyleElement=Mt(),It()(hT.Z,Q_),hT.Z&&hT.Z.locals&&hT.Z.locals;class Lae extends on{constructor(t,s){super(s);const a=s.t;this.focusTracker=new Hi,this.keystrokes=new _a,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(a("Save"),Kn.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",d=>!!d),this.cancelButtonView=this._createButton(a("Cancel"),Kn.cancel,"ck-button-cancel","cancel"),this._focusables=new Lo,this._focusCycler=new xc({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=t,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),h({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(s=>{this._focusables.add(s),this.focusTracker.add(s.element)}),this.keystrokes.listenTo(this.element);const t=s=>s.stopPropagation();this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(t){this.urlInputView.fieldView.element.value=t.trim()}isValid(){this.resetFormStatus();for(const t of this._validators){const s=t(this);if(s)return this.urlInputView.errorText=s,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const t=this.locale.t,s=new _u(this.locale,oC),a=s.fieldView;return this._urlInputViewInfoDefault=t("Paste the media URL in the input."),this._urlInputViewInfoTip=t("Tip: Paste the URL into the content to embed faster."),s.label=t("Media URL"),s.infoText=this._urlInputViewInfoDefault,a.on("input",()=>{s.infoText=a.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=a.element.value.trim()}),s}_createButton(t,s,a,d){const p=new Mn(this.locale);return p.set({label:t,icon:s,tooltip:!0}),p.extendTemplate({attributes:{class:a}}),d&&p.delegate("execute").to(this,d),p}}class Bae extends it{static get requires(){return[dT]}static get pluginName(){return"MediaEmbedUI"}init(){const t=this.editor,s=t.commands.get("mediaEmbed");t.ui.componentFactory.add("mediaEmbed",a=>{const d=Lu(a);return this._setUpDropdown(d,s),d})}_setUpDropdown(t,s){const a=this.editor,d=a.t,p=t.buttonView,w=a.plugins.get(dT).registry;t.once("change:isOpen",()=>{const k=new(u(Lae))(function(D,R){return[M=>{if(!M.url.length)return D("The URL must not be empty.")},M=>{if(!R.hasMedia(M.url))return D("This media URL is not supported.")}]}(a.t,w),a.locale);t.panelView.children.add(k),p.on("open",()=>{k.disableCssTransitions(),k.url=s.value||"",k.urlInputView.fieldView.select(),k.enableCssTransitions()},{priority:"low"}),t.on("submit",()=>{k.isValid()&&(a.execute("mediaEmbed",k.url),a.editing.view.focus())}),t.on("change:isOpen",()=>k.resetFormStatus()),t.on("cancel",()=>{a.editing.view.focus()}),k.delegate("submit","cancel").to(t),k.urlInputView.fieldView.bind("value").to(s,"value"),k.urlInputView.bind("isEnabled").to(s,"isEnabled")}),t.bind("isEnabled").to(s),p.set({label:d("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0})}}var fT=o(8705),ek={attributes:{"data-cke":!0}};ek.setAttributes=Tt(),ek.insert=Ot().bind(null,"head"),ek.domAPI=Rt(),ek.insertStyleElement=Mt(),It()(fT.Z,ek),fT.Z&&fT.Z.locals&&fT.Z.locals;function Xi(f,t,s,a,d=1){t!=null&&d!=null&&t>d?a.setAttribute(f,t,s):a.removeAttribute(f,s)}function $g(f,t,s={}){const a=f.createElement("tableCell",s);return f.insertElement("paragraph",a),f.insert(a,t),a}function Sj(f,t){const s=t.parent.parent,a=parseInt(s.getAttribute("headingColumns")||"0"),{column:d}=f.getCellLocation(t);return!!a&&d<a}function zae(){return f=>{f.on("element:table",(t,s,a)=>{const d=s.viewItem;if(!a.consumable.test(d,{name:!0}))return;const{rows:p,headingRows:w,headingColumns:k}=function(M){let L,W=0;const J=[],re=[];let ae;for(const ve of Array.from(M.getChildren())){if(ve.name!=="tbody"&&ve.name!=="thead"&&ve.name!=="tfoot")continue;ve.name!=="thead"||ae||(ae=ve);const je=Array.from(ve.getChildren()).filter($e=>$e.is("element","tr"));for(const $e of je)if(ae&&ve===ae||ve.name==="tbody"&&Array.from($e.getChildren()).length&&Array.from($e.getChildren()).every(Qe=>Qe.is("element","th")))W++,J.push($e);else{re.push($e);const Qe=Vae($e);(!L||Qe<L)&&(L=Qe)}}return{headingRows:W,headingColumns:L||0,rows:[...J,...re]}}(d),D={};k&&(D.headingColumns=k),w&&(D.headingRows=w);const R=a.writer.createElement("table",D);if(a.safeInsert(R,s.modelCursor)){if(a.consumable.consume(d,{name:!0}),p.forEach(M=>a.convertItem(M,a.writer.createPositionAt(R,"end"))),a.convertChildren(d,a.writer.createPositionAt(R,"end")),R.isEmpty){const M=a.writer.createElement("tableRow");a.writer.insert(M,a.writer.createPositionAt(R,"end")),$g(a.writer,a.writer.createPositionAt(M,"end"))}a.updateConversionResult(R,s)}})}}function _B(f){return t=>{t.on(`element:${f}`,(s,a,{writer:d})=>{if(!a.modelRange)return;const p=a.modelRange.start.nodeAfter,w=d.createPositionAt(p,0);if(a.viewItem.isEmpty)return void d.insertElement("paragraph",w);const k=Array.from(p.getChildren());if(k.every(D=>D.is("element","$marker"))){const D=d.createElement("paragraph");d.insert(D,d.createPositionAt(p,0));for(const R of k)d.move(d.createRangeOn(R),d.createPositionAt(D,"end"))}},{priority:"low"})}}function Vae(f){let t=0,s=0;const a=Array.from(f.getChildren()).filter(d=>d.name==="th"||d.name==="td");for(;s<a.length&&a[s].name==="th";){const d=a[s];t+=parseInt(d.getAttribute("colspan")||"1"),s++}return t}class Yn{constructor(t,s={}){this._jumpedToStartRow=!1,this._table=t,this._startRow=s.row!==void 0?s.row:s.startRow||0,this._endRow=s.row!==void 0?s.row:s.endRow,this._startColumn=s.column!==void 0?s.column:s.startColumn||0,this._endColumn=s.column!==void 0?s.column:s.endColumn,this._includeAllSlots=!!s.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const t=this._table.getChild(this._rowIndex);if(!t||this._isOverEndRow())return{done:!0,value:void 0};if(!t.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let s=null;const a=this._getSpanned();if(a)this._includeAllSlots&&!this._shouldSkipSlot()&&(s=this._formatOutValue(a.cell,a.row,a.column));else{const d=t.getChild(this._cellIndex);if(!d)return this._advanceToNextRow();const p=parseInt(d.getAttribute("colspan")||"1"),w=parseInt(d.getAttribute("rowspan")||"1");(p>1||w>1)&&this._recordSpans(d,w,p),this._shouldSkipSlot()||(s=this._formatOutValue(d)),this._nextCellAtColumn=this._column+p}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,s||this.next()}skipRow(t){this._skipRows.add(t)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(t,s=this._row,a=this._column){return{done:!1,value:new Wae(this,t,s,a)}}_shouldSkipSlot(){const t=this._skipRows.has(this._row),s=this._row<this._startRow,a=this._column<this._startColumn,d=this._endColumn!==void 0&&this._column>this._endColumn;return t||s||a||d}_getSpanned(){const t=this._spannedCells.get(this._row);return t&&t.get(this._column)||null}_recordSpans(t,s,a){const d={cell:t,row:this._row,column:this._column};for(let p=this._row;p<this._row+s;p++)for(let w=this._column;w<this._column+a;w++)p==this._row&&w==this._column||this._markSpannedCell(p,w,d)}_markSpannedCell(t,s,a){this._spannedCells.has(t)||this._spannedCells.set(t,new Map),this._spannedCells.get(t).set(s,a)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const t=this._getRowLength(0);for(let s=this._startRow;!this._jumpedToStartRow;s--)t===this._getRowLength(s)&&(this._row=s,this._rowIndex=s,this._jumpedToStartRow=!0)}_getRowLength(t){return[...this._table.getChild(t).getChildren()].reduce((s,a)=>s+parseInt(a.getAttribute("colspan")||"1"),0)}}class Wae{constructor(t,s,a,d){this.cell=s,this.row=t._row,this.column=t._column,this.cellAnchorRow=a,this.cellAnchorColumn=d,this._cellIndex=t._cellIndex,this._rowIndex=t._rowIndex,this._table=t._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function kB(f,t){return(s,{writer:a})=>{const d=s.getAttribute("headingRows")||0,p=a.createContainerElement("table",null,[]),w=a.createContainerElement("figure",{class:"table"},p);d>0&&a.insert(a.createPositionAt(p,"end"),a.createContainerElement("thead",null,a.createSlot(k=>k.is("element","tableRow")&&k.index<d))),d<f.getRows(s)&&a.insert(a.createPositionAt(p,"end"),a.createContainerElement("tbody",null,a.createSlot(k=>k.is("element","tableRow")&&k.index>=d)));for(const{positionOffset:k,filter:D}of t.additionalSlots)a.insert(a.createPositionAt(p,k),a.createSlot(D));return a.insert(a.createPositionAt(p,"after"),a.createSlot(k=>!k.is("element","tableRow")&&!t.additionalSlots.some(({filter:D})=>D(k)))),t.asWidget?function(k,D){return D.setCustomProperty("table",!0,k),JP(k,D,{hasSelectionHandle:!0})}(w,a):w}}function EB(f={}){return(t,{writer:s})=>{const a=t.parent,d=a.parent,p=d.getChildIndex(a),w=new Yn(d,{row:p}),k=d.getAttribute("headingRows")||0,D=d.getAttribute("headingColumns")||0;let R=null;for(const M of w)if(M.cell==t){const L=M.row<k||M.column<D?"th":"td";R=f.asWidget?T7(s.createEditableElement(L),s):s.createContainerElement(L);break}return R}}function SB(f={}){return(t,{writer:s})=>{if(!t.parent.is("element","tableCell")||!AB(t))return null;if(f.asWidget)return s.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const a=s.createContainerElement("p");return s.setCustomProperty("dataPipeline:transparentRendering",!0,a),a}}}function AB(f){return f.parent.childCount==1&&!!f.getAttributeKeys().next().done}class $ae extends cn{refresh(){const t=this.editor.model,s=t.document.selection,a=t.schema;this.isEnabled=function(d,p){const w=d.getFirstPosition().parent,k=w===w.root?w:w.parent;return p.checkChild(k,"table")}(s,a)}execute(t={}){const s=this.editor,a=s.model,d=s.plugins.get("TableUtils"),p=s.config.get("table.defaultHeadings.rows"),w=s.config.get("table.defaultHeadings.columns");t.headingRows===void 0&&p&&(t.headingRows=p),t.headingColumns===void 0&&w&&(t.headingColumns=w),a.change(k=>{const D=d.createTable(k,t);a.insertObject(D,null,null,{findOptimalPosition:"auto"}),k.setSelection(k.createPositionAt(D.getNodeByPath([0,0,0]),0))})}}class CB extends cn{constructor(t,s={}){super(t),this.order=s.order||"below"}refresh(){const t=this.editor.model.document.selection,s=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(t).length;this.isEnabled=s}execute(){const t=this.editor,s=t.model.document.selection,a=t.plugins.get("TableUtils"),d=this.order==="above",p=a.getSelectionAffectedTableCells(s),w=a.getRowIndexes(p),k=d?w.first:w.last,D=p[0].findAncestor("table");a.insertRows(D,{at:d?k:k+1,copyStructureFromAbove:!d})}}class TB extends cn{constructor(t,s={}){super(t),this.order=s.order||"right"}refresh(){const t=this.editor.model.document.selection,s=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(t).length;this.isEnabled=s}execute(){const t=this.editor,s=t.model.document.selection,a=t.plugins.get("TableUtils"),d=this.order==="left",p=a.getSelectionAffectedTableCells(s),w=a.getColumnIndexes(p),k=d?w.first:w.last,D=p[0].findAncestor("table");a.insertColumns(D,{columns:1,at:d?k:k+1})}}class DB extends cn{constructor(t,s={}){super(t),this.direction=s.direction||"horizontally"}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length===1}execute(){const t=this.editor.plugins.get("TableUtils"),s=t.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?t.splitCellHorizontally(s,2):t.splitCellVertically(s,2)}}function NB(f,t,s){const{startRow:a,startColumn:d,endRow:p,endColumn:w}=t,k=s.createElement("table"),D=p-a+1;for(let M=0;M<D;M++)s.insertElement("tableRow",k,"end");const R=[...new Yn(f,{startRow:a,endRow:p,startColumn:d,endColumn:w,includeAllSlots:!0})];for(const{row:M,column:L,cell:W,isAnchor:J,cellAnchorRow:re,cellAnchorColumn:ae}of R){const ve=M-a,je=k.getChild(ve);if(J){const $e=s.cloneElement(W);s.append($e,je),MB($e,M,L,p,w,s)}else(re<a||ae<d)&&$g(s,s.createPositionAt(je,"end"))}return function(M,L,W,J,re){const ae=parseInt(L.getAttribute("headingRows")||"0");ae>0&&Xi("headingRows",ae-W,M,re,0);const ve=parseInt(L.getAttribute("headingColumns")||"0");ve>0&&Xi("headingColumns",ve-J,M,re,0)}(k,f,a,d,s),k}function PB(f,t,s=0){const a=[],d=new Yn(f,{startRow:s,endRow:t-1});for(const p of d){const{row:w,cellHeight:k}=p;w<t&&t<=w+k-1&&a.push(p)}return a}function jB(f,t,s){const a=f.parent,d=a.parent,p=a.index,w=t-p,k={},D=parseInt(f.getAttribute("rowspan"))-w;D>1&&(k.rowspan=D);const R=parseInt(f.getAttribute("colspan")||"1");R>1&&(k.colspan=R);const M=p+w,L=[...new Yn(d,{startRow:p,endRow:M,includeAllSlots:!0})];let W,J=null;for(const re of L){const{row:ae,column:ve,cell:je}=re;je===f&&W===void 0&&(W=ve),W!==void 0&&W===ve&&ae===M&&(J=$g(s,re.getPositionBefore(),k))}return Xi("rowspan",w,f,s),J}function IB(f,t){const s=[],a=new Yn(f);for(const d of a){const{column:p,cellWidth:w}=d;p<t&&t<=p+w-1&&s.push(d)}return s}function RB(f,t,s,a){const d=s-t,p={},w=parseInt(f.getAttribute("colspan"))-d;w>1&&(p.colspan=w);const k=parseInt(f.getAttribute("rowspan")||"1");k>1&&(p.rowspan=k);const D=$g(a,a.createPositionAfter(f),p);return Xi("colspan",d,f,a),D}function MB(f,t,s,a,d,p){const w=parseInt(f.getAttribute("colspan")||"1"),k=parseInt(f.getAttribute("rowspan")||"1");s+w-1>d&&Xi("colspan",d-s+1,f,p,1),t+k-1>a&&Xi("rowspan",a-t+1,f,p,1)}function Aj(f,t){const s=t.getColumns(f),a=new Array(s).fill(0);for(const{column:p}of new Yn(f))a[p]++;const d=a.reduce((p,w,k)=>w?p:[...p,k],[]);if(d.length>0){const p=d[d.length-1];return t.removeColumns(f,{at:p}),!0}return!1}function Cj(f,t){const s=[],a=t.getRows(f);for(let d=0;d<a;d++)f.getChild(d).isEmpty&&s.push(d);if(s.length>0){const d=s[s.length-1];return t.removeRows(f,{at:d}),!0}return!1}function Tj(f,t){Aj(f,t)||Cj(f,t)}function OB(f,t){const s=Array.from(new Yn(f,{startColumn:t.firstColumn,endColumn:t.lastColumn,row:t.lastRow}));if(s.every(({cellHeight:d})=>d===1))return t.lastRow;const a=s[0].cellHeight-1;return t.lastRow+a}function FB(f,t){const s=Array.from(new Yn(f,{startRow:t.firstRow,endRow:t.lastRow,column:t.lastColumn}));if(s.every(({cellWidth:d})=>d===1))return t.lastColumn;const a=s[0].cellWidth-1;return t.lastColumn+a}class pT extends cn{constructor(t,s){super(t),this.direction=s.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const t=this._getMergeableCell();this.value=t,this.isEnabled=!!t}execute(){const t=this.editor.model,s=t.document,a=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(s.selection)[0],d=this.value,p=this.direction;t.change(w=>{const k=p=="right"||p=="down",D=k?a:d,R=k?d:a,M=R.parent;(function(ae,ve,je){UB(ae)||(UB(ve)&&je.remove(je.createRangeIn(ve)),je.move(je.createRangeIn(ae),je.createPositionAt(ve,"end"))),je.remove(ae)})(R,D,w);const L=this.isHorizontal?"colspan":"rowspan",W=parseInt(a.getAttribute(L)||"1"),J=parseInt(d.getAttribute(L)||"1");w.setAttribute(L,W+J,D),w.setSelection(w.createRangeIn(D));const re=this.editor.plugins.get("TableUtils");Tj(M.findAncestor("table"),re)})}_getMergeableCell(){const t=this.editor.model.document,s=this.editor.plugins.get("TableUtils"),a=s.getTableCellsContainingSelection(t.selection)[0];if(!a)return;const d=this.isHorizontal?function(k,D,R){const M=k.parent,L=M.parent,W=D=="right"?k.nextSibling:k.previousSibling,J=(L.getAttribute("headingColumns")||0)>0;if(!W)return;const re=D=="right"?k:W,ae=D=="right"?W:k,{column:ve}=R.getCellLocation(re),{column:je}=R.getCellLocation(ae),$e=parseInt(re.getAttribute("colspan")||"1"),Qe=Sj(R,re),St=Sj(R,ae);if(!(J&&Qe!=St))return ve+$e===je?W:void 0}(a,this.direction,s):function(k,D,R){const M=k.parent,L=M.parent,W=L.getChildIndex(M);if(D=="down"&&W===R.getRows(L)-1||D=="up"&&W===0)return null;const J=parseInt(k.getAttribute("rowspan")||"1"),re=L.getAttribute("headingRows")||0,ae=D=="down"&&W+J===re,ve=D=="up"&&W===re;if(re&&(ae||ve))return null;const je=parseInt(k.getAttribute("rowspan")||"1"),$e=D=="down"?W+je:W,Qe=[...new Yn(L,{endRow:$e})],St=Qe.find(Un=>Un.cell===k),tn=St.column,Fn=Qe.find(({row:Un,cellHeight:$r,column:vo})=>vo===tn&&(D=="down"?Un===$e:$e===Un+$r));return Fn&&Fn.cell?Fn.cell:null}(a,this.direction,s);if(!d)return;const p=this.isHorizontal?"rowspan":"colspan",w=parseInt(a.getAttribute(p)||"1");return parseInt(d.getAttribute(p)||"1")===w?d:void 0}}function UB(f){const t=f.getChild(0);return f.childCount==1&&t.is("element","paragraph")&&t.isEmpty}class qae extends cn{refresh(){const t=this.editor.plugins.get("TableUtils"),s=t.getSelectionAffectedTableCells(this.editor.model.document.selection),a=s[0];if(a){const d=a.findAncestor("table"),p=t.getRows(d)-1,w=t.getRowIndexes(s),k=w.first===0&&w.last===p;this.isEnabled=!k}else this.isEnabled=!1}execute(){const t=this.editor.model,s=this.editor.plugins.get("TableUtils"),a=s.getSelectionAffectedTableCells(t.document.selection),d=s.getRowIndexes(a),p=a[0],w=p.findAncestor("table"),k=s.getCellLocation(p).column;t.change(D=>{const R=d.last-d.first+1;s.removeRows(w,{at:d.first,rows:R});const M=function(L,W,J,re){const ae=L.getChild(Math.min(W,re-1));let ve=ae.getChild(0),je=0;for(const $e of ae.getChildren()){if(je>J)return ve;ve=$e,je+=parseInt($e.getAttribute("colspan")||"1")}return ve}(w,d.first,k,s.getRows(w));D.setSelection(D.createPositionAt(M,0))})}}class Hae extends cn{refresh(){const t=this.editor.plugins.get("TableUtils"),s=t.getSelectionAffectedTableCells(this.editor.model.document.selection),a=s[0];if(a){const d=a.findAncestor("table"),p=t.getColumns(d),{first:w,last:k}=t.getColumnIndexes(s);this.isEnabled=k-w<p-1}else this.isEnabled=!1}execute(){const t=this.editor.plugins.get("TableUtils"),[s,a]=function(D,R){const M=R.getSelectionAffectedTableCells(D),L=M[0],W=M.pop(),J=[L,W];return L.isBefore(W)?J:J.reverse()}(this.editor.model.document.selection,t),d=s.parent.parent,p=[...new Yn(d)],w={first:p.find(D=>D.cell===s).column,last:p.find(D=>D.cell===a).column},k=function(D,R,M,L){return parseInt(M.getAttribute("colspan")||"1")>1?M:R.previousSibling||M.nextSibling?M.nextSibling||R.previousSibling:L.first?D.reverse().find(({column:J})=>J<L.first).cell:D.reverse().find(({column:J})=>J>L.last).cell}(p,s,a,w);this.editor.model.change(D=>{const R=w.last-w.first+1;t.removeColumns(d,{at:w.first,columns:R}),D.setSelection(D.createPositionAt(k,0))})}}class Gae extends cn{refresh(){const t=this.editor.plugins.get("TableUtils"),s=this.editor.model,a=t.getSelectionAffectedTableCells(s.document.selection),d=a.length>0;this.isEnabled=d,this.value=d&&a.every(p=>this._isInHeading(p,p.parent.parent))}execute(t={}){if(t.forceValue===this.value)return;const s=this.editor.plugins.get("TableUtils"),a=this.editor.model,d=s.getSelectionAffectedTableCells(a.document.selection),p=d[0].findAncestor("table"),{first:w,last:k}=s.getRowIndexes(d),D=this.value?w:k+1,R=p.getAttribute("headingRows")||0;a.change(M=>{if(D){const L=PB(p,D,D>R?R:0);for(const{cell:W}of L)jB(W,D,M)}Xi("headingRows",D,p,M,0)})}_isInHeading(t,s){const a=parseInt(s.getAttribute("headingRows")||"0");return!!a&&t.parent.index<a}}class Xae extends cn{refresh(){const t=this.editor.model,s=this.editor.plugins.get("TableUtils"),a=s.getSelectionAffectedTableCells(t.document.selection),d=a.length>0;this.isEnabled=d,this.value=d&&a.every(p=>Sj(s,p))}execute(t={}){if(t.forceValue===this.value)return;const s=this.editor.plugins.get("TableUtils"),a=this.editor.model,d=s.getSelectionAffectedTableCells(a.document.selection),p=d[0].findAncestor("table"),{first:w,last:k}=s.getColumnIndexes(d),D=this.value?w:k+1;a.change(R=>{if(D){const M=IB(p,D);for(const{cell:L,column:W}of M)RB(L,W,D,R)}Xi("headingColumns",D,p,R,0)})}}function Kae(f){if(f.is("element","tableColumnGroup"))return f;const t=f.getChildren();return Array.from(t).find(s=>s.is("element","tableColumnGroup"))}function Yae(f){const t=Kae(f);return t?Array.from(t.getChildren()):[]}class zs extends it{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(t){const s=t.parent,a=s.parent,d=a.getChildIndex(s),p=new Yn(a,{row:d});for(const{cell:w,row:k,column:D}of p)if(w===t)return{row:k,column:D}}createTable(t,s){const a=t.createElement("table"),d=s.rows||2,p=s.columns||2;return Dj(t,a,0,d,p),s.headingRows&&Xi("headingRows",Math.min(s.headingRows,d),a,t,0),s.headingColumns&&Xi("headingColumns",Math.min(s.headingColumns,p),a,t,0),a}insertRows(t,s={}){const a=this.editor.model,d=s.at||0,p=s.rows||1,w=s.copyStructureFromAbove!==void 0,k=s.copyStructureFromAbove?d-1:d,D=this.getRows(t),R=this.getColumns(t);if(d>D)throw new B("tableutils-insertrows-insert-out-of-range",this,{options:s});a.change(M=>{const L=t.getAttribute("headingRows")||0;if(L>d&&Xi("headingRows",L+p,t,M,0),!w&&(d===0||d===D))return void Dj(M,t,d,p,R);const W=w?Math.max(d,k):d,J=new Yn(t,{endRow:W}),re=new Array(R).fill(1);for(const{row:ae,column:ve,cellHeight:je,cellWidth:$e,cell:Qe}of J){const St=ae+je-1,tn=ae<=k&&k<=St;ae<d&&d<=St?(M.setAttribute("rowspan",je+p,Qe),re[ve]=-$e):w&&tn&&(re[ve]=$e)}for(let ae=0;ae<p;ae++){const ve=M.createElement("tableRow");M.insert(ve,t,d);for(let je=0;je<re.length;je++){const $e=re[je],Qe=M.createPositionAt(ve,"end");$e>0&&$g(M,Qe,$e>1?{colspan:$e}:void 0),je+=Math.abs($e)-1}}})}insertColumns(t,s={}){const a=this.editor.model,d=s.at||0,p=s.columns||1;a.change(w=>{const k=t.getAttribute("headingColumns");d<k&&w.setAttribute("headingColumns",k+p,t);const D=this.getColumns(t);if(d===0||D===d){for(const M of t.getChildren())M.is("element","tableRow")&&uv(p,w,w.createPositionAt(M,d?"end":0));return}const R=new Yn(t,{column:d,includeAllSlots:!0});for(const M of R){const{row:L,cell:W,cellAnchorColumn:J,cellAnchorRow:re,cellWidth:ae,cellHeight:ve}=M;if(J<d){w.setAttribute("colspan",ae+p,W);const je=re+ve-1;for(let $e=L;$e<=je;$e++)R.skipRow($e)}else uv(p,w,M.getPositionBefore())}})}removeRows(t,s){const a=this.editor.model,d=s.rows||1,p=this.getRows(t),w=s.at,k=w+d-1;if(k>p-1)throw new B("tableutils-removerows-row-index-out-of-range",this,{table:t,options:s});a.change(D=>{const R={first:w,last:k},{cellsToMove:M,cellsToTrim:L}=function(W,{first:J,last:re}){const ae=new Map,ve=[];for(const{row:je,column:$e,cellHeight:Qe,cell:St}of new Yn(W,{endRow:re})){const tn=je+Qe-1;if(je>=J&&je<=re&&tn>re){const Fn=Qe-(re-je+1);ae.set($e,{cell:St,rowspan:Fn})}if(je<J&&tn>=J){let Fn;Fn=tn>=re?re-J+1:tn-J+1,ve.push({cell:St,rowspan:Qe-Fn})}}return{cellsToMove:ae,cellsToTrim:ve}}(t,R);M.size&&function(W,J,re,ae){const ve=new Yn(W,{includeAllSlots:!0,row:J}),je=[...ve],$e=W.getChild(J);let Qe;for(const{column:St,cell:tn,isAnchor:Fn}of je)if(re.has(St)){const{cell:Un,rowspan:$r}=re.get(St),vo=Qe?ae.createPositionAfter(Qe):ae.createPositionAt($e,0);ae.move(ae.createRangeOn(Un),vo),Xi("rowspan",$r,Un,ae),Qe=Un}else Fn&&(Qe=tn)}(t,k+1,M,D);for(let W=k;W>=w;W--)D.remove(t.getChild(W));for(const{rowspan:W,cell:J}of L)Xi("rowspan",W,J,D);(function(W,{first:J,last:re},ae){const ve=W.getAttribute("headingRows")||0;J<ve&&Xi("headingRows",re<ve?ve-(re-J+1):J,W,ae,0)})(t,R,D),Aj(t,this)||Cj(t,this)})}removeColumns(t,s){const a=this.editor.model,d=s.at,p=s.columns||1,w=s.at+p-1;a.change(k=>{(function(R,M,L){const W=R.getAttribute("headingColumns")||0;if(W&&M.first<W){const J=Math.min(W-1,M.last)-M.first+1;L.setAttribute("headingColumns",W-J,R)}})(t,{first:d,last:w},k);const D=Yae(t);for(let R=w;R>=d;R--){for(const{cell:M,column:L,cellWidth:W}of[...new Yn(t)])L<=R&&W>1&&L+W>R?Xi("colspan",W-1,M,k):L===R&&k.remove(M);if(D[R]){const M=R===0?D[1]:D[R-1],L=parseFloat(D[R].getAttribute("columnWidth")),W=parseFloat(M.getAttribute("columnWidth"));k.remove(D[R]),k.setAttribute("columnWidth",L+W+"%",M)}}Cj(t,this)||Aj(t,this)})}splitCellVertically(t,s=2){const a=this.editor.model,d=t.parent.parent,p=parseInt(t.getAttribute("rowspan")||"1"),w=parseInt(t.getAttribute("colspan")||"1");a.change(k=>{if(w>1){const{newCellsSpan:D,updatedSpan:R}=LB(w,s);Xi("colspan",R,t,k);const M={};D>1&&(M.colspan=D),p>1&&(M.rowspan=p),uv(w>s?s-1:w-1,k,k.createPositionAfter(t),M)}if(w<s){const D=s-w,R=[...new Yn(d)],{column:M}=R.find(({cell:re})=>re===t),L=R.filter(({cell:re,cellWidth:ae,column:ve})=>re!==t&&ve===M||ve<M&&ve+ae>M);for(const{cell:re,cellWidth:ae}of L)k.setAttribute("colspan",ae+D,re);const W={};p>1&&(W.rowspan=p),uv(D,k,k.createPositionAfter(t),W);const J=d.getAttribute("headingColumns")||0;J>M&&Xi("headingColumns",J+D,d,k)}})}splitCellHorizontally(t,s=2){const a=this.editor.model,d=t.parent,p=d.parent,w=p.getChildIndex(d),k=parseInt(t.getAttribute("rowspan")||"1"),D=parseInt(t.getAttribute("colspan")||"1");a.change(R=>{if(k>1){const M=[...new Yn(p,{startRow:w,endRow:w+k-1,includeAllSlots:!0})],{newCellsSpan:L,updatedSpan:W}=LB(k,s);Xi("rowspan",W,t,R);const{column:J}=M.find(({cell:ae})=>ae===t),re={};L>1&&(re.rowspan=L),D>1&&(re.colspan=D);for(const ae of M){const{column:ve,row:je}=ae;je>=w+W&&ve===J&&(je+w+W)%L==0&&uv(1,R,ae.getPositionBefore(),re)}}if(k<s){const M=s-k,L=[...new Yn(p,{startRow:0,endRow:w})];for(const{cell:re,cellHeight:ae,row:ve}of L)if(re!==t&&ve+ae>w){const je=ae+M;R.setAttribute("rowspan",je,re)}const W={};D>1&&(W.colspan=D),Dj(R,p,w+1,M,1,W);const J=p.getAttribute("headingRows")||0;J>w&&Xi("headingRows",J+M,p,R)}})}getColumns(t){return[...t.getChild(0).getChildren()].reduce((s,a)=>s+parseInt(a.getAttribute("colspan")||"1"),0)}getRows(t){return Array.from(t.getChildren()).reduce((s,a)=>a.is("element","tableRow")?s+1:s,0)}createTableWalker(t,s={}){return new Yn(t,s)}getSelectedTableCells(t){const s=[];for(const a of this.sortRanges(t.getRanges())){const d=a.getContainedElement();d&&d.is("element","tableCell")&&s.push(d)}return s}getTableCellsContainingSelection(t){const s=[];for(const a of t.getRanges()){const d=a.start.findAncestor("tableCell");d&&s.push(d)}return s}getSelectionAffectedTableCells(t){const s=this.getSelectedTableCells(t);return s.length?s:this.getTableCellsContainingSelection(t)}getRowIndexes(t){const s=t.map(a=>a.parent.index);return this._getFirstLastIndexesObject(s)}getColumnIndexes(t){const s=t[0].findAncestor("table"),a=[...new Yn(s)].filter(d=>t.includes(d.cell)).map(d=>d.column);return this._getFirstLastIndexesObject(a)}isSelectionRectangular(t){if(t.length<2||!this._areCellInTheSameTableSection(t))return!1;const s=new Set,a=new Set;let d=0;for(const w of t){const{row:k,column:D}=this.getCellLocation(w),R=parseInt(w.getAttribute("rowspan"))||1,M=parseInt(w.getAttribute("colspan"))||1;s.add(k),a.add(D),R>1&&s.add(k+R-1),M>1&&a.add(D+M-1),d+=R*M}return function(w,k){const D=Array.from(w.values()),R=Array.from(k.values()),M=Math.max(...D),L=Math.min(...D),W=Math.max(...R),J=Math.min(...R);return(M-L+1)*(W-J+1)}(s,a)==d}sortRanges(t){return Array.from(t).sort(Zae)}_getFirstLastIndexesObject(t){const s=t.sort((a,d)=>a-d);return{first:s[0],last:s[s.length-1]}}_areCellInTheSameTableSection(t){const s=t[0].findAncestor("table"),a=this.getRowIndexes(t),d=parseInt(s.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(a,d))return!1;const p=this.getColumnIndexes(t),w=parseInt(s.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(p,w)}_areIndexesInSameSection({first:t,last:s},a){return t<a==s<a}}function Dj(f,t,s,a,d,p={}){for(let w=0;w<a;w++){const k=f.createElement("tableRow");f.insert(k,t,s),uv(d,f,f.createPositionAt(k,"end"),p)}}function uv(f,t,s,a={}){for(let d=0;d<f;d++)$g(t,s,a)}function LB(f,t){if(f<t)return{newCellsSpan:1,updatedSpan:1};const s=Math.floor(f/t);return{newCellsSpan:s,updatedSpan:f-s*t+s}}function Zae(f,t){const s=f.start,a=t.start;return s.isBefore(a)?-1:1}class Jae extends cn{refresh(){const t=this.editor.plugins.get(zs),s=t.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=t.isSelectionRectangular(s)}execute(){const t=this.editor.model,s=this.editor.plugins.get(zs);t.change(a=>{const d=s.getSelectedTableCells(t.document.selection),p=d.shift(),{mergeWidth:w,mergeHeight:k}=function(D,R,M){let L=0,W=0;for(const je of R){const{row:$e,column:Qe}=M.getCellLocation(je);L=zB(je,Qe,L,"colspan"),W=zB(je,$e,W,"rowspan")}const{row:J,column:re}=M.getCellLocation(D),ae=L-re,ve=W-J;return{mergeWidth:ae,mergeHeight:ve}}(p,d,s);Xi("colspan",w,p,a),Xi("rowspan",k,p,a);for(const D of d)Qae(D,p,a);Tj(p.findAncestor("table"),s),a.setSelection(p,"in")})}}function Qae(f,t,s){BB(f)||(BB(t)&&s.remove(s.createRangeIn(t)),s.move(s.createRangeIn(f),s.createPositionAt(t,"end"))),s.remove(f)}function BB(f){const t=f.getChild(0);return f.childCount==1&&t.is("element","paragraph")&&t.isEmpty}function zB(f,t,s,a){const d=parseInt(f.getAttribute(a)||"1");return Math.max(s,t+d)}class ele extends cn{constructor(t){super(t),this.affectsData=!1}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const t=this.editor.model,s=this.editor.plugins.get("TableUtils"),a=s.getSelectionAffectedTableCells(t.document.selection),d=s.getRowIndexes(a),p=a[0].findAncestor("table"),w=[];for(let k=d.first;k<=d.last;k++)for(const D of p.getChild(k).getChildren())w.push(t.createRangeOn(D));t.change(k=>{k.setSelection(w)})}}class tle extends cn{constructor(t){super(t),this.affectsData=!1}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const t=this.editor.plugins.get("TableUtils"),s=this.editor.model,a=t.getSelectionAffectedTableCells(s.document.selection),d=a[0],p=a.pop(),w=d.findAncestor("table"),k=t.getCellLocation(d),D=t.getCellLocation(p),R=Math.min(k.column,D.column),M=Math.max(k.column,D.column),L=[];for(const W of new Yn(w,{startColumn:R,endColumn:M}))L.push(s.createRangeOn(W.cell));s.change(W=>{W.setSelection(L)})}}function nle(f){f.document.registerPostFixer(t=>function(s,a){const d=a.document.differ.getChanges();let p=!1;const w=new Set;for(const k of d){let D=null;k.type=="insert"&&k.name=="table"&&(D=k.position.nodeAfter),k.type!="insert"&&k.type!="remove"||k.name!="tableRow"&&k.name!="tableCell"||(D=k.position.findAncestor("table")),sle(k)&&(D=k.range.start.findAncestor("table")),D&&!w.has(D)&&(p=ile(D,s)||p,p=rle(D,s)||p,w.add(D))}return p}(t,f))}function ile(f,t){let s=!1;const a=function(d){const p=parseInt(d.getAttribute("headingRows")||"0"),w=Array.from(d.getChildren()).reduce((D,R)=>R.is("element","tableRow")?D+1:D,0),k=[];for(const{row:D,cell:R,cellHeight:M}of new Yn(d)){if(M<2)continue;const L=D<p?p:w;if(D+M>L){const W=L-D;k.push({cell:R,rowspan:W})}}return k}(f);if(a.length){s=!0;for(const d of a)Xi("rowspan",d.rowspan,d.cell,t,1)}return s}function rle(f,t){let s=!1;const a=function(k){const D=new Array(k.childCount).fill(0);for(const{rowIndex:R}of new Yn(k,{includeAllSlots:!0}))D[R]++;return D}(f),d=[];for(const[k,D]of a.entries())!D&&f.getChild(k).is("element","tableRow")&&d.push(k);if(d.length){s=!0;for(const k of d.reverse())t.remove(f.getChild(k)),a.splice(k,1)}const p=a.filter((k,D)=>f.getChild(D).is("element","tableRow")),w=p[0];if(!p.every(k=>k===w)){const k=p.reduce((D,R)=>R>D?R:D,0);for(const[D,R]of p.entries()){const M=k-R;if(M){for(let L=0;L<M;L++)$g(t,t.createPositionAt(f.getChild(D),"end"));s=!0}}}return s}function sle(f){if(f.type!=="attribute")return!1;const t=f.attributeKey;return t==="headingRows"||t==="colspan"||t==="rowspan"}function ole(f){f.document.registerPostFixer(t=>function(s,a){const d=a.document.differ.getChanges();let p=!1;for(const w of d)w.type=="insert"&&w.name=="table"&&(p=ale(w.position.nodeAfter,s)||p),w.type=="insert"&&w.name=="tableRow"&&(p=VB(w.position.nodeAfter,s)||p),w.type=="insert"&&w.name=="tableCell"&&(p=Nj(w.position.nodeAfter,s)||p),w.type!="remove"&&w.type!="insert"||!lle(w)||(p=Nj(w.position.parent,s)||p);return p}(t,f))}function ale(f,t){let s=!1;for(const a of f.getChildren())a.is("element","tableRow")&&(s=VB(a,t)||s);return s}function VB(f,t){let s=!1;for(const a of f.getChildren())s=Nj(a,t)||s;return s}function Nj(f,t){if(f.childCount==0)return t.insertElement("paragraph",f),!0;const s=Array.from(f.getChildren()).filter(a=>a.is("$text"));for(const a of s)t.wrap(t.createRangeOn(a),"paragraph");return!!s.length}function lle(f){return!!f.position.parent.is("element","tableCell")&&(f.type=="insert"&&f.name=="$text"||f.type=="remove")}function cle(f,t){if(!f.is("element","paragraph"))return!1;const s=t.toViewElement(f);return!!s&&AB(f)!==s.is("element","span")}var mT=o(8361),tk={attributes:{"data-cke":!0}};tk.setAttributes=Tt(),tk.insert=Ot().bind(null,"head"),tk.domAPI=Rt(),tk.insertStyleElement=Mt(),It()(mT.Z,tk),mT.Z&&mT.Z.locals&&mT.Z.locals;class ule extends it{static get pluginName(){return"TableEditing"}static get requires(){return[zs]}constructor(t){super(t),this._additionalSlots=[]}init(){const t=this.editor,s=t.model,a=s.schema,d=t.conversion,p=t.plugins.get(zs);a.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),a.register("tableRow",{allowIn:"table",isLimit:!0}),a.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),d.for("upcast").add(w=>{w.on("element:figure",(k,D,R)=>{if(!R.consumable.test(D.viewItem,{name:!0,classes:"table"}))return;const M=function(W){for(const J of W.getChildren())if(J.is("element","table"))return J}(D.viewItem);if(!M||!R.consumable.test(M,{name:!0}))return;R.consumable.consume(D.viewItem,{name:!0,classes:"table"});const L=ci(R.convertItem(M,D.modelCursor).modelRange.getItems());L?(R.convertChildren(D.viewItem,R.writer.createPositionAt(L,"end")),R.updateConversionResult(L,D)):R.consumable.revert(D.viewItem,{name:!0,classes:"table"})})}),d.for("upcast").add(zae()),d.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:kB(p,{asWidget:!0,additionalSlots:this._additionalSlots})}),d.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:kB(p,{additionalSlots:this._additionalSlots})}),d.for("upcast").elementToElement({model:"tableRow",view:"tr"}),d.for("upcast").add(w=>{w.on("element:tr",(k,D)=>{D.viewItem.isEmpty&&D.modelCursor.index==0&&k.stop()},{priority:"high"})}),d.for("downcast").elementToElement({model:"tableRow",view:(w,{writer:k})=>w.isEmpty?k.createEmptyElement("tr"):k.createContainerElement("tr")}),d.for("upcast").elementToElement({model:"tableCell",view:"td"}),d.for("upcast").elementToElement({model:"tableCell",view:"th"}),d.for("upcast").add(_B("td")),d.for("upcast").add(_B("th")),d.for("editingDowncast").elementToElement({model:"tableCell",view:EB({asWidget:!0})}),d.for("dataDowncast").elementToElement({model:"tableCell",view:EB()}),d.for("editingDowncast").elementToElement({model:"paragraph",view:SB({asWidget:!0}),converterPriority:"high"}),d.for("dataDowncast").elementToElement({model:"paragraph",view:SB(),converterPriority:"high"}),d.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),d.for("upcast").attributeToAttribute({model:{key:"colspan",value:WB("colspan")},view:"colspan"}),d.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),d.for("upcast").attributeToAttribute({model:{key:"rowspan",value:WB("rowspan")},view:"rowspan"}),t.config.define("table.defaultHeadings.rows",0),t.config.define("table.defaultHeadings.columns",0),t.commands.add("insertTable",new $ae(t)),t.commands.add("insertTableRowAbove",new CB(t,{order:"above"})),t.commands.add("insertTableRowBelow",new CB(t,{order:"below"})),t.commands.add("insertTableColumnLeft",new TB(t,{order:"left"})),t.commands.add("insertTableColumnRight",new TB(t,{order:"right"})),t.commands.add("removeTableRow",new qae(t)),t.commands.add("removeTableColumn",new Hae(t)),t.commands.add("splitTableCellVertically",new DB(t,{direction:"vertically"})),t.commands.add("splitTableCellHorizontally",new DB(t,{direction:"horizontally"})),t.commands.add("mergeTableCells",new Jae(t)),t.commands.add("mergeTableCellRight",new pT(t,{direction:"right"})),t.commands.add("mergeTableCellLeft",new pT(t,{direction:"left"})),t.commands.add("mergeTableCellDown",new pT(t,{direction:"down"})),t.commands.add("mergeTableCellUp",new pT(t,{direction:"up"})),t.commands.add("setTableColumnHeader",new Xae(t)),t.commands.add("setTableRowHeader",new Gae(t)),t.commands.add("selectTableRow",new ele(t)),t.commands.add("selectTableColumn",new tle(t)),nle(s),ole(s),this.listenTo(s.document,"change:data",()=>{(function(w,k){const D=w.document.differ;for(const R of D.getChanges()){let M,L=!1;if(R.type=="attribute"){const ae=R.range.start.nodeAfter;if(!ae||!ae.is("element","table")||R.attributeKey!="headingRows"&&R.attributeKey!="headingColumns")continue;M=ae,L=R.attributeKey=="headingRows"}else R.name!="tableRow"&&R.name!="tableCell"||(M=R.position.findAncestor("table"),L=R.name=="tableRow");if(!M)continue;const W=M.getAttribute("headingRows")||0,J=M.getAttribute("headingColumns")||0,re=new Yn(M);for(const ae of re){const ve=ae.row<W||ae.column<J?"th":"td",je=k.mapper.toViewElement(ae.cell);je&&je.is("element")&&je.name!=ve&&k.reconvertItem(L?ae.cell.parent:ae.cell)}}})(s,t.editing),function(w,k){const D=w.document.differ,R=new Set;for(const M of D.getChanges()){const L=M.type=="attribute"?M.range.start.parent:M.position.parent;L.is("element","tableCell")&&R.add(L)}for(const M of R.values()){const L=Array.from(M.getChildren()).filter(W=>cle(W,k.mapper));for(const W of L)k.reconvertItem(W)}}(s,t.editing)})}registerAdditionalSlot(t){this._additionalSlots.push(t)}}function WB(f){return t=>{const s=parseInt(t.getAttribute(f));return Number.isNaN(s)||s<=0?null:s}}var gT=o(468),nk={attributes:{"data-cke":!0}};nk.setAttributes=Tt(),nk.insert=Ot().bind(null,"head"),nk.domAPI=Rt(),nk.insertStyleElement=Mt(),It()(gT.Z,nk),gT.Z&&gT.Z.locals&&gT.Z.locals;class dle extends on{constructor(t){super(t);const s=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new _a,this.focusTracker=new Hi,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(a,d)=>`${d} × ${a}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":s.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:s.to("label")}]}],on:{mousedown:s.to(a=>{a.preventDefault()}),click:s.to(()=>{this.fire("execute")})}}),this.on("boxover",(a,d)=>{const{row:p,column:w}=d.target.dataset;this.items.get(10*(parseInt(p,10)-1)+(parseInt(w,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(a,d,p)=>{if(!p)return;const{row:w,column:k}=p.dataset;this.set({rows:parseInt(w),columns:parseInt(k)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),function({keystrokeHandler:t,focusTracker:s,gridItems:a,numberOfColumns:d,uiLanguageDirection:p}){const w=()=>d;function k(M){return L=>{const W=a.find(ae=>ae.element===s.focusedElement),J=a.getIndex(W),re=M(J,a);a.get(re).focus(),L.stopPropagation(),L.preventDefault()}}function D(M,L){return M===L-1?0:M+1}function R(M,L){return M===0?L-1:M-1}t.set("arrowright",k((M,L)=>p==="rtl"?R(M,L.length):D(M,L.length))),t.set("arrowleft",k((M,L)=>p==="rtl"?D(M,L.length):R(M,L.length))),t.set("arrowup",k((M,L)=>{let W=M-w();return W<0&&(W=M+w()*Math.floor(L.length/w()),W>L.length-1&&(W-=w())),W})),t.set("arrowdown",k((M,L)=>{let W=M+w();return W>L.length-1&&(W=M%w()),W}))}({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const t of this.items)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const t=this.rows,s=this.columns;this.items.map((a,d)=>{const p=Math.floor(d/10)<t&&d%10<s;a.set("isOn",p)})}_createGridButton(t,s,a,d){const p=new Mn(t);return p.set({label:d,class:"ck-insert-table-dropdown-grid-box"}),p.extendTemplate({attributes:{"data-row":s,"data-column":a}}),p}_createGridCollection(){const t=[];for(let s=0;s<100;s++){const a=Math.floor(s/10),d=s%10,p=`${a+1} × ${d+1}`;t.push(this._createGridButton(this.locale,a+1,d+1,p))}return this.createCollection(t)}}class hle extends it{static get pluginName(){return"TableUI"}init(){const t=this.editor,s=this.editor.t,a=t.locale.contentLanguageDirection==="ltr";t.ui.componentFactory.add("insertTable",d=>{const p=t.commands.get("insertTable"),w=Lu(d);let k;return w.bind("isEnabled").to(p),w.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:s("Insert table"),tooltip:!0}),w.on("change:isOpen",()=>{k||(k=new dle(d),w.panelView.children.add(k),k.delegate("execute").to(w),w.on("execute",()=>{t.execute("insertTable",{rows:k.rows,columns:k.columns}),t.editing.view.focus()}))}),w}),t.ui.componentFactory.add("tableColumn",d=>{const p=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:s("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:a?"insertTableColumnLeft":"insertTableColumnRight",label:s("Insert column left")}},{type:"button",model:{commandName:a?"insertTableColumnRight":"insertTableColumnLeft",label:s("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:s("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:s("Select column")}}];return this._prepareDropdown(s("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',p,d)}),t.ui.componentFactory.add("tableRow",d=>{const p=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:s("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:s("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:s("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:s("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:s("Select row")}}];return this._prepareDropdown(s("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',p,d)}),t.ui.componentFactory.add("mergeTableCells",d=>{const p=[{type:"button",model:{commandName:"mergeTableCellUp",label:s("Merge cell up")}},{type:"button",model:{commandName:a?"mergeTableCellRight":"mergeTableCellLeft",label:s("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:s("Merge cell down")}},{type:"button",model:{commandName:a?"mergeTableCellLeft":"mergeTableCellRight",label:s("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:s("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:s("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(s("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',p,d)})}_prepareDropdown(t,s,a,d){const p=this.editor,w=Lu(d),k=this._fillDropdownWithListOptions(w,a);return w.buttonView.set({label:t,icon:s,tooltip:!0}),w.bind("isEnabled").toMany(k,"isEnabled",(...D)=>D.some(R=>R)),this.listenTo(w,"execute",D=>{p.execute(D.source.commandName),D.source instanceof xu||p.editing.view.focus()}),w}_prepareMergeSplitButtonDropdown(t,s,a,d){const p=this.editor,w=Lu(d,nC),k="mergeTableCells",D=p.commands.get(k),R=this._fillDropdownWithListOptions(w,a);return w.buttonView.set({label:t,icon:s,tooltip:!0,isEnabled:!0}),w.bind("isEnabled").toMany([D,...R],"isEnabled",(...M)=>M.some(L=>L)),this.listenTo(w.buttonView,"execute",()=>{p.execute(k),p.editing.view.focus()}),this.listenTo(w,"execute",M=>{p.execute(M.source.commandName),p.editing.view.focus()}),w}_fillDropdownWithListOptions(t,s){const a=this.editor,d=[],p=new Fs;for(const w of s)fle(w,a,d,p);return sC(t,p),d}}function fle(f,t,s,a){if(f.type==="button"||f.type==="switchbutton"){const d=f.model=new mC(f.model),{commandName:p,bindIsOn:w}=f.model,k=t.commands.get(p);s.push(k),d.set({commandName:p}),d.bind("isEnabled").to(k),w&&d.bind("isOn").to(k,"value"),d.set({withText:!0})}a.add(f)}var bT=o(1546),ik={attributes:{"data-cke":!0}};ik.setAttributes=Tt(),ik.insert=Ot().bind(null,"head"),ik.domAPI=Rt(),ik.insertStyleElement=Mt(),It()(bT.Z,ik),bT.Z&&bT.Z.locals&&bT.Z.locals;class qg extends it{static get pluginName(){return"TableSelection"}static get requires(){return[zs,zs]}init(){const t=this.editor,s=t.model,a=t.editing.view;this.listenTo(s,"deleteContent",(d,p)=>this._handleDeleteContent(d,p),{priority:"high"}),this.listenTo(a.document,"insertText",(d,p)=>this._handleInsertTextEvent(d,p),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const t=this.editor.plugins.get(zs),s=this.editor.model.document.selection,a=t.getSelectedTableCells(s);return a.length==0?null:a}getSelectionAsFragment(){const t=this.editor.plugins.get(zs),s=this.getSelectedTableCells();return s?this.editor.model.change(a=>{const d=a.createDocumentFragment(),{first:p,last:w}=t.getColumnIndexes(s),{first:k,last:D}=t.getRowIndexes(s),R=s[0].findAncestor("table");let M=D,L=w;if(t.isSelectionRectangular(s)){const J={firstColumn:p,lastColumn:w,firstRow:k,lastRow:D};M=OB(R,J),L=FB(R,J)}const W=NB(R,{startRow:k,startColumn:p,endRow:M,endColumn:L},a);return a.insert(W,d,0),d}):null}setCellSelection(t,s){const a=this._getCellsToSelect(t,s);this.editor.model.change(d=>{d.setSelection(a.cells.map(p=>d.createRangeOn(p)),{backward:a.backward})})}getFocusCell(){const t=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return t&&t.is("element","tableCell")?t:null}getAnchorCell(){const t=ci(this.editor.model.document.selection.getRanges()).getContainedElement();return t&&t.is("element","tableCell")?t:null}_defineSelectionConverter(){const t=this.editor,s=new Set;t.conversion.for("editingDowncast").add(a=>a.on("selection",(d,p,w)=>{const k=w.writer;(function(M){for(const L of s)M.removeClass("ck-editor__editable_selected",L);s.clear()})(k);const D=this.getSelectedTableCells();if(!D)return;for(const M of D){const L=w.mapper.toViewElement(M);k.addClass("ck-editor__editable_selected",L),s.add(L)}const R=w.mapper.toViewElement(D[D.length-1]);k.setSelection(R,0)},{priority:"lowest"}))}_enablePluginDisabling(){const t=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const s=this.getSelectedTableCells();if(!s)return;t.model.change(a=>{const d=a.createPositionAt(s[0],0),p=t.model.schema.getNearestSelectionRange(d);a.setSelection(p)})}})}_handleDeleteContent(t,s){const a=this.editor.plugins.get(zs),d=s[0],p=s[1],w=this.editor.model,k=!p||p.direction=="backward",D=a.getSelectedTableCells(d);D.length&&(t.stop(),w.change(R=>{const M=D[k?D.length-1:0];w.change(W=>{for(const J of D)w.deleteContent(W.createSelection(J,"in"))});const L=w.schema.getNearestSelectionRange(R.createPositionAt(M,0));d.is("documentSelection")?R.setSelection(L):d.setTo(L)}))}_handleInsertTextEvent(t,s){const a=this.editor,d=this.getSelectedTableCells();if(!d)return;const p=a.editing.view,w=a.editing.mapper,k=d.map(D=>p.createRangeOn(w.toViewElement(D)));s.selection=p.createSelection(k)}_getCellsToSelect(t,s){const a=this.editor.plugins.get("TableUtils"),d=a.getCellLocation(t),p=a.getCellLocation(s),w=Math.min(d.row,p.row),k=Math.max(d.row,p.row),D=Math.min(d.column,p.column),R=Math.max(d.column,p.column),M=new Array(k-w+1).fill(null).map(()=>[]),L={startRow:w,endRow:k,startColumn:D,endColumn:R};for(const{row:re,cell:ae}of new Yn(t.findAncestor("table"),L))M[re-w].push(ae);const W=p.row<d.row,J=p.column<d.column;return W&&M.reverse(),J&&M.forEach(re=>re.reverse()),{cells:M.flat(),backward:W||J}}}class ple extends it{static get pluginName(){return"TableClipboard"}static get requires(){return[qg,zs]}init(){const t=this.editor,s=t.editing.view.document;this.listenTo(s,"copy",(a,d)=>this._onCopyCut(a,d)),this.listenTo(s,"cut",(a,d)=>this._onCopyCut(a,d)),this.listenTo(t.model,"insertContent",(a,[d,p])=>this._onInsertContent(a,d,p),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(t,s){const a=this.editor.plugins.get(qg);if(!a.getSelectedTableCells()||t.name=="cut"&&!this.editor.model.canEditAt(this.editor.model.document.selection))return;s.preventDefault(),t.stop();const d=this.editor.data,p=this.editor.editing.view.document,w=d.toView(a.getSelectionAsFragment());p.fire("clipboardOutput",{dataTransfer:s.dataTransfer,content:w,method:t.name})}_onInsertContent(t,s,a){if(a&&!a.is("documentSelection"))return;const d=this.editor.model,p=this.editor.plugins.get(zs);let w=this.getTableIfOnlyTableInContent(s,d);if(!w)return;const k=p.getSelectionAffectedTableCells(d.document.selection);k.length?(t.stop(),d.change(D=>{const R={width:p.getColumns(w),height:p.getRows(w)},M=function(ve,je,$e,Qe){const St=ve[0].findAncestor("table"),tn=Qe.getColumnIndexes(ve),Fn=Qe.getRowIndexes(ve),Un={firstColumn:tn.first,lastColumn:tn.last,firstRow:Fn.first,lastRow:Fn.last},$r=ve.length===1;return $r&&(Un.lastRow+=je.height-1,Un.lastColumn+=je.width-1,function(vo,_T,Hg,mp){const dv=mp.getColumns(vo),hv=mp.getRows(vo);Hg>dv&&mp.insertColumns(vo,{at:dv,columns:Hg-dv}),_T>hv&&mp.insertRows(vo,{at:hv,rows:_T-hv})}(St,Un.lastRow+1,Un.lastColumn+1,Qe)),$r||!Qe.isSelectionRectangular(ve)?function(vo,_T,Hg){const{firstRow:mp,lastRow:dv,firstColumn:hv,lastColumn:YB}=_T,ZB={first:mp,last:dv},JB={first:hv,last:YB};jj(vo,hv,ZB,Hg),jj(vo,YB+1,ZB,Hg),Pj(vo,mp,JB,Hg),Pj(vo,dv+1,JB,Hg,mp)}(St,Un,$e):(Un.lastRow=OB(St,Un),Un.lastColumn=FB(St,Un)),Un}(k,R,D,p),L=M.lastRow-M.firstRow+1,W=M.lastColumn-M.firstColumn+1,J={startRow:0,startColumn:0,endRow:Math.min(L,R.height)-1,endColumn:Math.min(W,R.width)-1};w=NB(w,J,D);const re=k[0].findAncestor("table"),ae=this._replaceSelectedCellsWithPasted(w,R,re,M,D);if(this.editor.plugins.get("TableSelection").isEnabled){const ve=p.sortRanges(ae.map(je=>D.createRangeOn(je)));D.setSelection(ve)}else D.setSelection(ae[0],0)})):Tj(w,p)}_replaceSelectedCellsWithPasted(t,s,a,d,p){const{width:w,height:k}=s,D=function(ve,je,$e){const Qe=new Array($e).fill(null).map(()=>new Array(je).fill(null));for(const{column:St,row:tn,cell:Fn}of new Yn(ve))Qe[tn][St]=Fn;return Qe}(t,w,k),R=[...new Yn(a,{startRow:d.firstRow,endRow:d.lastRow,startColumn:d.firstColumn,endColumn:d.lastColumn,includeAllSlots:!0})],M=[];let L;for(const ve of R){const{row:je,column:$e}=ve;$e===d.firstColumn&&(L=ve.getPositionBefore());const Qe=je-d.firstRow,St=$e-d.firstColumn,tn=D[Qe%k][St%w],Fn=tn?p.cloneElement(tn):null,Un=this._replaceTableSlotCell(ve,Fn,L,p);Un&&(MB(Un,je,$e,d.lastRow,d.lastColumn,p),M.push(Un),L=p.createPositionAfter(Un))}const W=parseInt(a.getAttribute("headingRows")||"0"),J=parseInt(a.getAttribute("headingColumns")||"0"),re=d.firstRow<W&&W<=d.lastRow,ae=d.firstColumn<J&&J<=d.lastColumn;if(re){const ve=Pj(a,W,{first:d.firstColumn,last:d.lastColumn},p,d.firstRow);M.push(...ve)}if(ae){const ve=jj(a,J,{first:d.firstRow,last:d.lastRow},p);M.push(...ve)}return M}_replaceTableSlotCell(t,s,a,d){const{cell:p,isAnchor:w}=t;return w&&d.remove(p),s?(d.insert(s,a),s):null}getTableIfOnlyTableInContent(t,s){if(!t.is("documentFragment")&&!t.is("element"))return null;if(t.is("element","table"))return t;if(t.childCount==1&&t.getChild(0).is("element","table"))return t.getChild(0);const a=s.createRangeIn(t);for(const d of a.getItems())if(d.is("element","table")){const p=s.createRange(a.start,s.createPositionBefore(d));if(s.hasContent(p,{ignoreWhitespaces:!0}))return null;const w=s.createRange(s.createPositionAfter(d),a.end);return s.hasContent(w,{ignoreWhitespaces:!0})?null:d}return null}}function Pj(f,t,s,a,d=0){if(!(t<1))return PB(f,t,d).filter(({column:p,cellWidth:w})=>$B(p,w,s)).map(({cell:p})=>jB(p,t,a))}function jj(f,t,s,a){if(!(t<1))return IB(f,t).filter(({row:d,cellHeight:p})=>$B(d,p,s)).map(({cell:d,column:p})=>RB(d,p,t,a))}function $B(f,t,s){const a=f+t-1,{first:d,last:p}=s;return f>=d&&f<=p||f<d&&a>=d}class mle extends it{static get pluginName(){return"TableKeyboard"}static get requires(){return[qg,zs]}init(){const t=this.editor.editing.view.document;this.listenTo(t,"arrowKey",(...s)=>this._onArrowKey(...s),{context:"table"}),this.listenTo(t,"tab",(...s)=>this._handleTabOnSelectedTable(...s),{context:"figure"}),this.listenTo(t,"tab",(...s)=>this._handleTab(...s),{context:["th","td"]})}_handleTabOnSelectedTable(t,s){const a=this.editor,d=a.model.document.selection.getSelectedElement();d&&d.is("element","table")&&(s.preventDefault(),s.stopPropagation(),t.stop(),a.model.change(p=>{p.setSelection(p.createRangeIn(d.getChild(0).getChild(0)))}))}_handleTab(t,s){const a=this.editor,d=this.editor.plugins.get(zs),p=this.editor.plugins.get("TableSelection"),w=a.model.document.selection,k=!s.shiftKey;let D=d.getTableCellsContainingSelection(w)[0];if(D||(D=p.getFocusCell()),!D)return;s.preventDefault(),s.stopPropagation(),t.stop();const R=D.parent,M=R.parent,L=M.getChildIndex(R),W=R.getChildIndex(D),J=W===0;if(!k&&J&&L===0)return void a.model.change(je=>{je.setSelection(je.createRangeOn(M))});const re=W===R.childCount-1,ae=L===d.getRows(M)-1;if(k&&ae&&re&&(a.execute("insertTableRowBelow"),L===d.getRows(M)-1))return void a.model.change(je=>{je.setSelection(je.createRangeOn(M))});let ve;if(k&&re)ve=M.getChild(L+1).getChild(0);else if(!k&&J){const je=M.getChild(L-1);ve=je.getChild(je.childCount-1)}else ve=R.getChild(W+(k?1:-1));a.model.change(je=>{je.setSelection(je.createRangeIn(ve))})}_onArrowKey(t,s){const a=this.editor,d=vu(s.keyCode,a.locale.contentLanguageDirection);this._handleArrowKeys(d,s.shiftKey)&&(s.preventDefault(),s.stopPropagation(),t.stop())}_handleArrowKeys(t,s){const a=this.editor.plugins.get(zs),d=this.editor.plugins.get("TableSelection"),p=this.editor.model,w=p.document.selection,k=["right","down"].includes(t),D=a.getSelectedTableCells(w);if(D.length){let M;return M=s?d.getFocusCell():k?D[D.length-1]:D[0],this._navigateFromCellInDirection(M,t,s),!0}const R=w.focus.findAncestor("tableCell");if(!R)return!1;if(!w.isCollapsed)if(s){if(w.isBackward==k&&!w.containsEntireContent(R))return!1}else{const M=w.getSelectedElement();if(!M||!p.schema.isObject(M))return!1}return!!this._isSelectionAtCellEdge(w,R,k)&&(this._navigateFromCellInDirection(R,t,s),!0)}_isSelectionAtCellEdge(t,s,a){const d=this.editor.model,p=this.editor.model.schema,w=a?t.getLastPosition():t.getFirstPosition();if(!p.getLimitElement(w).is("element","tableCell"))return d.createPositionAt(s,a?"end":0).isTouching(w);const k=d.createSelection(w);return d.modifySelection(k,{direction:a?"forward":"backward"}),w.isEqual(k.focus)}_navigateFromCellInDirection(t,s,a=!1){const d=this.editor.model,p=t.findAncestor("table"),w=[...new Yn(p,{includeAllSlots:!0})],{row:k,column:D}=w[w.length-1],R=w.find(({cell:ae})=>ae==t);let{row:M,column:L}=R;switch(s){case"left":L--;break;case"up":M--;break;case"right":L+=R.cellWidth;break;case"down":M+=R.cellHeight}if(M<0||M>k||L<0&&M<=0||L>D&&M>=k)return void d.change(ae=>{ae.setSelection(ae.createRangeOn(p))});L<0?(L=a?0:D,M--):L>D&&(L=a?D:0,M++);const W=w.find(ae=>ae.row==M&&ae.column==L).cell,J=["right","down"].includes(s),re=this.editor.plugins.get("TableSelection");if(a&&re.isEnabled){const ae=re.getAnchorCell()||t;re.setCellSelection(ae,W)}else{const ae=d.createPositionAt(W,J?0:"end");d.change(ve=>{ve.setSelection(ae)})}}}class gle extends Cc{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(t){this.fire(t.type,t)}}class ble extends it{static get pluginName(){return"TableMouse"}static get requires(){return[qg,zs]}init(){this.editor.editing.view.addObserver(gle),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const t=this.editor,s=t.plugins.get(zs);let a=!1;const d=t.plugins.get(qg);this.listenTo(t.editing.view.document,"mousedown",(p,w)=>{const k=t.model.document.selection;if(!this.isEnabled||!d.isEnabled||!w.domEvent.shiftKey)return;const D=d.getAnchorCell()||s.getTableCellsContainingSelection(k)[0];if(!D)return;const R=this._getModelTableCellFromDomEvent(w);R&&qB(D,R)&&(a=!0,d.setCellSelection(D,R),w.preventDefault())}),this.listenTo(t.editing.view.document,"mouseup",()=>{a=!1}),this.listenTo(t.editing.view.document,"selectionChange",p=>{a&&p.stop()},{priority:"highest"})}_enableMouseDragSelection(){const t=this.editor;let s,a,d=!1,p=!1;const w=t.plugins.get(qg);this.listenTo(t.editing.view.document,"mousedown",(k,D)=>{this.isEnabled&&w.isEnabled&&(D.domEvent.shiftKey||D.domEvent.ctrlKey||D.domEvent.altKey||(s=this._getModelTableCellFromDomEvent(D)))}),this.listenTo(t.editing.view.document,"mousemove",(k,D)=>{if(!D.domEvent.buttons||!s)return;const R=this._getModelTableCellFromDomEvent(D);R&&qB(s,R)&&(a=R,d||a==s||(d=!0)),d&&(p=!0,w.setCellSelection(s,a),D.preventDefault())}),this.listenTo(t.editing.view.document,"mouseup",()=>{d=!1,p=!1,s=null,a=null}),this.listenTo(t.editing.view.document,"selectionChange",k=>{p&&k.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(t){const s=t.target,a=this.editor.editing.view.createPositionAt(s,0);return this.editor.editing.mapper.toModelPosition(a).parent.findAncestor("tableCell",{includeSelf:!0})}}function qB(f,t){return f.parent.parent==t.parent.parent}var yT=o(2510),rk={attributes:{"data-cke":!0}};rk.setAttributes=Tt(),rk.insert=Ot().bind(null,"head"),rk.domAPI=Rt(),rk.insertStyleElement=Mt(),It()(yT.Z,rk),yT.Z&&yT.Z.locals&&yT.Z.locals;function yle(f){const t=f.getSelectedElement();return t&&HB(t)?t:null}function vle(f){const t=f.getFirstPosition();if(!t)return null;let s=t.parent;for(;s;){if(s.is("element")&&HB(s))return s;s=s.parent}return null}function HB(f){return!!f.getCustomProperty("table")&&Er(f)}var zu=o(7294),wle=o(3935),xle=o(2968),GB=o.n(xle),vT=o(9330),sk={attributes:{"data-cke":!0}};sk.setAttributes=Tt(),sk.insert=Ot().bind(null,"head"),sk.domAPI=Rt(),sk.insertStyleElement=Mt(),It()(vT.Z,sk),vT.Z&&vT.Z.locals&&vT.Z.locals;let wT="TN-IIz68YhmPLsEAbVD4WA3RucFcJNZBy-G0UlhaqSM";const{useState:xT,useEffect:XB,useRef:_le}=zu,kle=f=>{let[t,s]=xT(null),[a,d]=xT(""),[p,w]=xT(!1),[k,D]=xT(1);const R=_le(null),M=L=>{const W=L.target;W.scrollTop+W.clientHeight+50>=W.scrollHeight&&w(!0)};return XB(()=>{const L=document.getElementById("dnx-photo-list");return L.addEventListener("scroll",M),()=>L.removeEventListener("scroll",M)},[]),XB(()=>{R.current.focus(),(k===1||a&&p&&k<=5)&&(L=>{GB().get(L.url).then(function(W){L.onSuccess&&L.onSuccess(W)}).catch(W=>{L.onFailure&&L.onFailure()})})({url:a?`${"https://api.unsplash.com/search/photos/?per_page=30&page="+k+"&client_id="+wT}&query=${a}`:"https://api.unsplash.com/photos/random/?count=30&client_id="+wT,onSuccess:L=>{const W=Array.isArray(L.body)?L.body:L.body.results;t=t===null?W:t.concat(W),s(t),W.length>0&&(D(k+1),w(!1))},onFailure:()=>{s([])}})},[a,p]),zu.createElement("div",{className:"dnx-box"},zu.createElement("form",{id:"unsplash-search",className:"unsplash-search form",onSubmit:L=>{L.preventDefault(),s(null),D(1),d(R.current.value)}},zu.createElement("input",{id:"dnx-unsplash-search-input",ref:R,placeholder:"Search Photos on Unsplash",type:"search",className:"input",defaultValue:"",style:{marginBottom:20}})),zu.createElement("ul",{id:"dnx-photo-list",className:"dnx-photo-grid"},t===null&&zu.createElement("p",null,"Loading..."),t!==null&&t.length===0&&zu.createElement("p",null,"No results"),t!==null&&t.length>0&&t.map(L=>zu.createElement("li",{key:L.id},zu.createElement("img",{src:L.urls.regular,onClick:()=>f.handleSelect(L)})))))};function KB(f,t,s,a){s.model.schema.extend(t,{allowAttributes:["customClass"]}),s.conversion.for("upcast").add(Ij(f,a),{priority:"low"}),s.conversion.for("downcast").add(function(d,p,w){return k=>k.on(`insert:${p}`,(D,R,M)=>{const L=R.item,W=M.mapper.toViewElement(L);if(!W)return;const J=function(ae,ve,je){return Array.from(je.writer.createRangeIn(ae).getItems()).find(Qe=>Qe.is("element",ve))}(W,d,M),re=L.getAttribute("customClass")||w;M.writer.addClass(re,J)})}(f,t,a),{priority:"low"})}function Ij(f,t=[]){return s=>s.on(`element:${f}`,(a,d,p)=>{d.viewItem;const w=d.modelRange,k=w&&w.start.nodeAfter;if(!k)return;const D=k.getAttribute("customClass")||t;p.writer.setAttribute("customClass",D,k)})}class Rj extends CC{}Rj.builtinPlugins=[class extends it{static get requires(){return[W7,jC,qse,S7,pse,X7]}static get pluginName(){return"Essentials"}},class extends it{static get requires(){return[ah]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const f=this.editor.commands;f.get("bulletedList")&&pp(this.editor,this,/^[*-]\s$/,"bulletedList"),f.get("numberedList")&&pp(this.editor,this,/^1[.|)]\s$/,"numberedList"),f.get("todoList")&&pp(this.editor,this,/^\[\s?\]\s$/,"todoList"),f.get("checkTodoList")&&pp(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const f=this.editor.commands;if(f.get("bold")){const t=zC(this.editor,"bold");ov(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,t),ov(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,t)}if(f.get("italic")){const t=zC(this.editor,"italic");ov(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,t),ov(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,t)}if(f.get("code")){const t=zC(this.editor,"code");ov(this.editor,this,/(`)([^`]+)(`)$/g,t)}if(f.get("strikethrough")){const t=zC(this.editor,"strikethrough");ov(this.editor,this,/(~~)([^~]+)(~~)$/g,t)}}_addHeadingAutoformats(){const f=this.editor.commands.get("heading");f&&f.modelElements.filter(t=>t.match(/^heading[1-6]$/)).forEach(t=>{const s=t[7],a=new RegExp(`^(#{${s}})\\s$`);pp(this.editor,this,a,()=>{if(!f.isEnabled||f.value===t)return!1;this.editor.execute("heading",{value:t})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&pp(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const f=this.editor,t=f.model.document.selection;f.commands.get("codeBlock")&&pp(f,this,/^```$/,()=>{if(t.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&pp(this.editor,this,/^---$/,"horizontalLine")}},class extends it{static get requires(){return[Jse,Qse]}static get pluginName(){return"Bold"}},class extends it{static get requires(){return[eoe,toe]}static get pluginName(){return"Italic"}},class extends it{static get requires(){return[noe,ioe]}static get pluginName(){return"Code"}},class extends it{static get requires(){return[coe,uoe]}static get pluginName(){return"CodeBlock"}},class extends it{static get requires(){return[hoe,foe]}static get pluginName(){return"BlockQuote"}},class extends it{static get requires(){return[boe,yoe]}static get pluginName(){return"Heading"}},class extends it{static get requires(){return[Aoe,Toe]}static get pluginName(){return"Image"}},class extends it{static get requires(){return[Noe,Poe]}static get pluginName(){return"ImageCaption"}},class extends it{static get requires(){return[C9,Roe]}static get pluginName(){return"ImageStyle"}},class extends it{static get requires(){return[OC,ja]}static get pluginName(){return"ImageToolbar"}afterInit(){const f=this.editor,t=f.t,s=f.plugins.get(OC),a=f.plugins.get("ImageUtils");var d;s.register("image",{ariaLabel:t("Image toolbar"),items:(d=f.config.get("image.toolbar")||[],d.map(p=>Oe(p)?p.name:p)),getRelatedElement:p=>a.getClosestSelectedImageWidget(p)})}},class extends it{static get pluginName(){return"ImageUpload"}static get requires(){return[Woe,Boe,zoe]}},class extends it{static get requires(){return[L9,Goe,Hoe]}static get pluginName(){return"ImageResize"}},class extends it{static get requires(){return[Wg]}static get pluginName(){return"Base64UploadAdapter"}init(){this.editor.plugins.get(Wg).createUploadAdapter=f=>new Uoe(f)}},class extends it{init(){const f=this.editor;f.ui.componentFactory.add("insertImage",t=>{const s=new Mn(t);return s.set({label:"Insert image url",icon:'<svg height="512pt" viewBox="0 -107 512 512" width="512pt" xmlns="http://www.w3.org/2000/svg"><path d="m362.667969 298.667969h-42.667969c-11.777344 0-21.332031-9.539063-21.332031-21.335938s9.554687-21.332031 21.332031-21.332031h42.667969c58.816406 0 106.664062-47.851562 106.664062-106.667969 0-58.816406-47.847656-106.664062-106.664062-106.664062h-42.667969c-11.777344 0-21.332031-9.539063-21.332031-21.335938s9.554687-21.332031 21.332031-21.332031h42.667969c82.34375 0 149.332031 67.007812 149.332031 149.332031 0 82.328125-66.988281 149.335938-149.332031 149.335938zm0 0"/><path d="m192 298.667969h-42.667969c-82.34375 0-149.332031-67.007813-149.332031-149.335938 0-82.324219 66.988281-149.332031 149.332031-149.332031h42.667969c11.777344 0 21.332031 9.535156 21.332031 21.332031s-9.554687 21.335938-21.332031 21.335938h-42.667969c-58.816406 0-106.664062 47.847656-106.664062 106.664062 0 58.816407 47.847656 106.667969 106.664062 106.667969h42.667969c11.777344 0 21.332031 9.535156 21.332031 21.332031s-9.554687 21.335938-21.332031 21.335938zm0 0"/><path d="m320 170.667969h-128c-11.777344 0-21.332031-9.539063-21.332031-21.335938s9.554687-21.332031 21.332031-21.332031h128c11.777344 0 21.332031 9.535156 21.332031 21.332031s-9.554687 21.335938-21.332031 21.335938zm0 0"/></svg>',tooltip:!0}),s.on("execute",()=>{const a=prompt("Image URL");if(!a)return!1;f.model.change(d=>{const p=d.createElement("image",{src:a});f.model.insertContent(p,f.model.document.selection)})}),s})}},class extends it{init(){const f=this.editor;f.clientID&&(wT=f.clientID),f.ui.componentFactory.add("insertImageFromUnsplash",t=>{const s=new Mn(t);return s.set({label:"Add an image from Unsplash",icon:'<svg fill="#000000" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="512px" height="512px"><path d="M19.116,5c0.969,0,1.797,0.693,1.969,1.647l0.127,0.707C21.382,8.306,22.211,9,23.18,9H26c1.103,0,2,0.897,2,2v13c0,1.103-0.897,2-2,2H6c-1.103,0-2-0.897-2-2V11c0-1.103,0.897-2,2-2h2.82c0.968,0,1.797-0.694,1.969-1.647l0.127-0.707C11.087,5.693,11.915,5,12.884,5H19.116 M19.116,3h-6.231c-1.937,0-3.595,1.387-3.937,3.293L8.82,7H6c-2.209,0-4,1.791-4,4v13c0,2.209,1.791,4,4,4h20c2.209,0,4-1.791,4-4V11c0-2.209-1.791-4-4-4h-2.82l-0.127-0.707C22.711,4.387,21.052,3,19.116,3L19.116,3z"/><path d="M16,13c2.481,0,4.5,2.019,4.5,4.5S18.481,22,16,22s-4.5-2.019-4.5-4.5S13.519,13,16,13 M16,11c-3.59,0-6.5,2.91-6.5,6.5S12.41,24,16,24s6.5-2.91,6.5-6.5S19.59,11,16,11L16,11z"/></svg>',tooltip:!0}),s.on("execute",()=>{let a=document.querySelector("#dnx-modal"),d=document.querySelector("#dnx-modal-overlay");if(a)a.classList.toggle("closed"),d.classList.toggle("closed"),document.querySelector("body").style.overflow=a.classList.contains("closed")?"visible":"hidden",document.getElementById("dnx-unsplash-search-input").focus();else{const p=document.createElement("div");p.id="dnx-modal-wrapper",p.innerHTML=`<div class="dnx-modal-overlay" id="dnx-modal-overlay"></div>
          <div class="dnx-modal" id="dnx-modal">
            <a href="#" class="dnx-close-button" id="dnx-close-button"></a>
            <div class="modal-guts">
              <div id="unsplash-dna"></div>
            </div>
          </div>`,document.body.appendChild(p),document.querySelector("body").style.overflow="hidden";const w=document.querySelector("#dnx-close-button");a=document.querySelector("#dnx-modal"),d=document.querySelector("#dnx-modal-overlay"),w.addEventListener("click",function(k){k.preventDefault(),a.classList.toggle("closed"),d.classList.toggle("closed"),document.querySelector("body").style.overflow="visible"})}wle.render(zu.createElement(kle,{handleSelect:async p=>{if(!p.urls&&!p.urls.regular)return!1;let w="";if(p.links){w=((k,D)=>{let R=k;return R+=(R.split("?")[1]?"&":"?")+D,R})(p.links.download_location,"client_id="+wT);try{await GB().get(w)}catch(k){console.log("ERR",k)}}return f.model.change(k=>{const D=k.createElement("imageBlock",{src:p.urls.regular});if(p.user){const{name:R,links:M}=p.user;let L=M?M.html:"https://unsplash.com";L+="?utm_source=DNX&utm_medium=referral";const W=k.createElement("caption");k.appendText("Photo by ",W),k.appendText(R,{linkHref:L},W),k.appendText(" on ",W),k.appendText("Unsplash",{linkHref:"https://unsplash.com/?utm_source=DNX&utm_medium=referral"},W),k.append(W,D)}f.model.insertContent(D,f.model.document.selection)}),a.classList.toggle("closed"),d.classList.toggle("closed"),document.querySelector("body").style.overflow="visible",s}}),document.getElementById("unsplash-dna"))}),s})}},class extends it{static get pluginName(){return"Indent"}static get requires(){return[Xoe,Koe]}},class extends it{static get requires(){return[mae,yae,wae]}static get pluginName(){return"Link"}},class extends it{static get requires(){return[Iae,Rae]}static get pluginName(){return"List"}},class extends it{static get requires(){return[dT,Bae,Uae,P_]}static get pluginName(){return"MediaEmbed"}},F_,class extends it{static get requires(){return[ule,hle,qg,ble,mle,ple,P_]}static get pluginName(){return"Table"}},class extends it{static get requires(){return[OC]}static get pluginName(){return"TableToolbar"}afterInit(){const f=this.editor,t=f.t,s=f.plugins.get(OC),a=f.config.get("table.contentToolbar"),d=f.config.get("table.tableToolbar");a&&s.register("tableContent",{ariaLabel:t("Table toolbar"),items:a,getRelatedElement:vle}),d&&s.register("table",{ariaLabel:t("Table toolbar"),items:d,getRelatedElement:yle})}},class extends it{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(f){super(f),f.config.define("typing",{transformations:{include:mse}})}init(){const f=this.editor.model.document.selection;f.on("change:range",()=>{this.isEnabled=!f.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const f=this.editor,t=f.model,s=f.plugins.get("Delete"),a=function(p){const w=p.extra||[],k=p.remove||[],D=R=>!k.includes(R);return function(R){const M=new Set;for(const L of R)if(typeof L=="string"&&y7[L])for(const W of y7[L])M.add(W);else M.add(L);return Array.from(M)}(p.include.concat(w).filter(D)).filter(D).map(R=>typeof R=="string"&&b7[R]?b7[R]:R).filter(R=>typeof R=="object").map(R=>({from:gse(R.from),to:bse(R.to)}))}(f.config.get("typing.transformations")),d=new g7(f.model,p=>{for(const w of a)if(w.from.test(p))return{normalizedTransformation:w}});d.on("matched:data",(p,w)=>{if(!w.batch.isTyping)return;const{from:k,to:D}=w.normalizedTransformation,R=k.exec(w.text),M=D(R.slice(1)),L=w.range;let W=R.index;t.enqueueChange(J=>{for(let re=1;re<R.length;re++){const ae=R[re],ve=M[re-1];if(ve==null){W+=ae.length;continue}const je=L.start.getShiftedBy(W),$e=t.createRange(je,je.getShiftedBy(ae.length)),Qe=yse(je);t.insertContent(J.createText(ve,Qe),$e),W+=ve.length}t.enqueueChange(()=>{s.requestUndoOnBackspace()})})}),d.bind("isEnabled").to(this)}},class{constructor(f){this.editor=f}afterInit(){const f=this.editor,t=f.config._config.table.customClass&&Array.isArray(f.config._config.table.customClass)?f.config._config.table.customClass:null,s=f.config._config.image.customClass&&Array.isArray(f.config._config.image.customClass)?f.config._config.image.customClass:null;t&&(KB("table","table",f,t),f.conversion.for("upcast").add(Ij("figure",t),{priority:"low"})),s&&(KB("img","image",f,s),f.conversion.for("upcast").add(Ij("figure",s),{priority:"low"}))}}],Rj.defaultConfig={toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","indent","outdent","|","imageUpload","imageResize","insertImage","insertImageFromUnsplash","code","codeBlock","blockQuote","insertTable","mediaEmbed","undo","redo"]},image:{toolbar:["imageStyle:side","|","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),l=l.default})())})(G5,G5.exports);var b1e=G5.exports;const y1e=MN(b1e),K8=({content:n,onChange:e,onSave:i,onCancel:r})=>b.jsxs("div",{className:"space-y-4",children:[b.jsx("div",{className:"border border-slate-200 rounded-lg bg-slate-50",children:b.jsx(g1e.CKEditor,{editor:y1e,data:n,config:{toolbar:["heading","|","bold","italic","underline","link","|","bulletedList","numberedList","|","insertTable","codeBlock","blockQuote","undo","redo","pasteFromOffice"]},onChange:(o,l)=>{const c=l.getData();e(c)}})}),b.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[b.jsx("button",{onClick:r,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg flex items-center",children:"Cancel"}),b.jsx("button",{onClick:i,className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 flex items-center",children:"Save"})]}),b.jsx("style",{children:`
        .ck-editor__editable_inline {
          border-radius: 0.5rem !important;
          background: #f8fafc !important;
          min-height: 400px !important;
          padding: 1rem !important;
          border: none !important;
        }
        .ck.ck-toolbar {
          border-radius: 0.5rem 0.5rem 0 0 !important;
          background: #f1f5f9 !important;
          border: none !important;
        }
      `})]}),v1e=()=>{const[n,e]=H.useState(""),[i,r]=H.useState(""),[o,l]=H.useState("Experience Reports"),[c,u]=H.useState([]),[h,m]=H.useState(!1),g=ns(),{addDocument:y}=LZ(),v=async()=>{try{if(!i.trim()){alert("Please enter a document name");return}m(!0),y(i,n,o),g("/documents")}catch(S){console.error("Error saving document:",S),alert("Error saving document. Please try again.")}finally{m(!1)}},_=async S=>{var T;const C=(T=S.target.files)==null?void 0:T[0];if(C)try{const N={id:Date.now().toString(),name:C.name,type:C.type,size:C.size,url:URL.createObjectURL(C)};u(j=>[...j,N])}catch(N){console.error("Error uploading file:",N),alert("Error uploading file. Please try again.")}},A=S=>{u(C=>C.filter(T=>T.id!==S))};return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsx("button",{onClick:()=>g("/documents"),className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100",children:b.jsx(lZ,{size:20})}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"New Text Document"}),b.jsx("p",{className:"text-slate-500 mt-1",children:"Write and save your text"})]})]}),b.jsxs("div",{className:"card space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"documentName",className:"block text-sm font-medium text-slate-700 mb-1",children:"Document Name"}),b.jsx("input",{id:"documentName",type:"text",value:i,onChange:S=>r(S.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter document name..."})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-slate-700 mb-1",children:"Category"}),b.jsxs("select",{id:"category",value:o,onChange:S=>l(S.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:[b.jsx("option",{value:"Experience Reports",children:"Experience Reports"}),b.jsx("option",{value:"Technical Reports",children:"Technical Reports"}),b.jsx("option",{value:"Certificates",children:"Certificates"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Content"}),b.jsx(K8,{content:n,onChange:e,onSave:v,onCancel:()=>g("/documents")})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Attachments"}),b.jsxs("div",{className:"space-y-2",children:[c.map(S=>b.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded-lg",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx($5,{size:16,className:"text-slate-500"}),b.jsx("span",{className:"text-sm text-slate-700",children:S.name}),b.jsxs("span",{className:"text-xs text-slate-500",children:["(",(S.size/1024).toFixed(1)," KB)"]})]}),b.jsx("button",{onClick:()=>A(S.id),className:"p-1 text-slate-500 hover:text-red-600",children:b.jsx(As,{size:16})})]},S.id)),b.jsxs("label",{className:"flex items-center space-x-2 p-2 border-2 border-dashed border-slate-200 rounded-lg cursor-pointer hover:border-teal-500",children:[b.jsx($5,{size:16,className:"text-slate-500"}),b.jsx("span",{className:"text-sm text-slate-700",children:"Add attachment"}),b.jsx("input",{type:"file",className:"hidden",onChange:_})]})]})]})]}),b.jsx("div",{className:"flex justify-end",children:b.jsxs("button",{onClick:v,disabled:h,className:"btn btn-primary flex items-center",children:[b.jsx(pZ,{size:16,className:"mr-1.5"}),h?"Saving...":"Save Document"]})})]})},w1e=()=>b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#F5F7FA] p-4",children:b.jsxs("div",{className:"text-center",children:[b.jsx("h1",{className:"text-9xl font-bold text-teal-600",children:"404"}),b.jsx("h2",{className:"text-3xl font-semibold text-slate-800 mt-4",children:"Page Not Found"}),b.jsx("p",{className:"text-slate-500 max-w-md mx-auto mt-2",children:"The page you're looking for doesn't exist or has been moved."}),b.jsxs(Zl,{to:"/",className:"inline-flex items-center px-4 py-2 mt-6 rounded-lg bg-teal-600 text-white hover:bg-teal-700 transition-colors",children:[b.jsx(h3,{size:18,className:"mr-2"}),"Back to Dashboard"]})]})}),x1e=()=>{const{id:n}=Cde(),e=ns(),{getDocument:i,updateDocument:r}=LZ(),[o,l]=H.useState(""),[c,u]=H.useState(""),[h,m]=H.useState("Experience Reports"),[g,y]=H.useState([]),[v,_]=H.useState(!1);H.useEffect(()=>{if(n){const T=i(n);T?(l(T.content),u(T.name),m(T.category),T.attachments&&y(T.attachments)):e("/documents")}},[n,i,e]);const A=async()=>{try{if(!c.trim()){alert("Please enter a document name");return}_(!0),n&&(await r(n,{name:c,content:o,category:h,attachments:g}),e("/documents"))}catch(T){console.error("Error updating document:",T),alert("Error updating document. Please try again.")}finally{_(!1)}},S=async T=>{var j;const N=(j=T.target.files)==null?void 0:j[0];if(N)try{const O={id:Date.now().toString(),name:N.name,type:N.type,size:N.size,url:URL.createObjectURL(N)};y(F=>[...F,O])}catch(O){console.error("Error uploading file:",O),alert("Error uploading file. Please try again.")}},C=T=>{y(N=>N.filter(j=>j.id!==T))};return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsx("button",{onClick:()=>e("/documents"),className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100",children:b.jsx(lZ,{size:20})}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Edit Document"}),b.jsx("p",{className:"text-slate-500 mt-1",children:"Modify your document"})]})]}),b.jsxs("div",{className:"card space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"documentName",className:"block text-sm font-medium text-slate-700 mb-1",children:"Document Name"}),b.jsx("input",{id:"documentName",type:"text",value:c,onChange:T=>u(T.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter document name..."})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-slate-700 mb-1",children:"Category"}),b.jsxs("select",{id:"category",value:h,onChange:T=>m(T.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:[b.jsx("option",{value:"Experience Reports",children:"Experience Reports"}),b.jsx("option",{value:"Technical Reports",children:"Technical Reports"}),b.jsx("option",{value:"Certificates",children:"Certificates"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Content"}),b.jsx(K8,{content:o,onChange:l,onSave:A,onCancel:()=>e("/documents")})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Attachments"}),b.jsxs("div",{className:"space-y-2",children:[g.map(T=>b.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded-lg",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx($5,{size:16,className:"text-slate-500"}),b.jsx("span",{className:"text-sm text-slate-700",children:T.name}),b.jsxs("span",{className:"text-xs text-slate-500",children:["(",(T.size/1024).toFixed(1)," KB)"]})]}),b.jsx("button",{onClick:()=>C(T.id),className:"p-1 text-slate-500 hover:text-red-600",children:b.jsx(As,{size:16})})]},T.id)),b.jsxs("label",{className:"flex items-center space-x-2 p-2 border-2 border-dashed border-slate-200 rounded-lg cursor-pointer hover:border-teal-500",children:[b.jsx($5,{size:16,className:"text-slate-500"}),b.jsx("span",{className:"text-sm text-slate-700",children:"Add attachment"}),b.jsx("input",{type:"file",className:"hidden",onChange:S})]})]})]})]}),b.jsx("div",{className:"flex justify-end",children:b.jsxs("button",{onClick:A,disabled:v,className:"btn btn-primary flex items-center",children:[b.jsx(pZ,{size:16,className:"mr-1.5"}),v?"Saving...":"Save Changes"]})})]})},BZ=ac()(X8(n=>({supervisorReviews:!0,saoFeedback:!0,relationships:!0,userSkills:!0,toggleSupervisorReviews:()=>n(e=>({supervisorReviews:!e.supervisorReviews})),toggleSaoFeedback:()=>n(e=>({saoFeedback:!e.saoFeedback})),toggleRelationships:()=>n(e=>({relationships:!e.relationships})),toggleUserSkills:()=>n(e=>({userSkills:!e.userSkills}))}),{name:"notification-preferences"}));var _1e=Object.defineProperty,k1e=(n,e,i)=>e in n?_1e(n,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[e]=i,NI=(n,e,i)=>(k1e(n,typeof e!="symbol"?e+"":e,i),i);let E1e=class{constructor(){NI(this,"current",this.detect()),NI(this,"handoffState","pending"),NI(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},cw=new E1e,R1=(n,e)=>{cw.isServer?H.useEffect(n,e):H.useLayoutEffect(n,e)};function S1e(n){let e=H.useRef(n);return R1(()=>{e.current=n},[n]),e}let bm=function(n){let e=S1e(n);return or.useCallback((...i)=>e.current(...i),[e])};function A1e(n,e,i){let[r,o]=H.useState(i),l=n!==void 0,c=H.useRef(l),u=H.useRef(!1),h=H.useRef(!1);return l&&!c.current&&!u.current?(u.current=!0,c.current=l,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!l&&c.current&&!h.current&&(h.current=!0,c.current=l,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[l?n:r,bm(m=>(l||o(m),e==null?void 0:e(m)))]}function C1e(n){typeof queueMicrotask=="function"?queueMicrotask(n):Promise.resolve().then(n).catch(e=>setTimeout(()=>{throw e}))}function zZ(){let n=[],e={addEventListener(i,r,o,l){return i.addEventListener(r,o,l),e.add(()=>i.removeEventListener(r,o,l))},requestAnimationFrame(...i){let r=requestAnimationFrame(...i);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...i){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...i))},setTimeout(...i){let r=setTimeout(...i);return e.add(()=>clearTimeout(r))},microTask(...i){let r={current:!0};return C1e(()=>{r.current&&i[0]()}),e.add(()=>{r.current=!1})},style(i,r,o){let l=i.style.getPropertyValue(r);return Object.assign(i.style,{[r]:o}),this.add(()=>{Object.assign(i.style,{[r]:l})})},group(i){let r=zZ();return i(r),this.add(()=>r.dispose())},add(i){return n.push(i),()=>{let r=n.indexOf(i);if(r>=0)for(let o of n.splice(r,1))o()}},dispose(){for(let i of n.splice(0))i()}};return e}function T1e(){let[n]=H.useState(zZ);return H.useEffect(()=>()=>n.dispose(),[n]),n}function D1e(){let n=typeof document>"u";return"useSyncExternalStore"in Z4?(e=>e.useSyncExternalStore)(Z4)(()=>()=>{},()=>!1,()=>!n):!1}function N1e(){let n=D1e(),[e,i]=H.useState(cw.isHandoffComplete);return e&&cw.isHandoffComplete===!1&&i(!1),H.useEffect(()=>{e!==!0&&i(!0)},[e]),H.useEffect(()=>cw.handoff(),[]),n?!1:e}var s$;let Y8=(s$=or.useId)!=null?s$:function(){let n=N1e(),[e,i]=or.useState(n?()=>cw.nextId():null);return R1(()=>{e===null&&i(cw.nextId())},[e]),e!=null?""+e:void 0};function VZ(n,e,...i){if(n in e){let o=e[n];return typeof o=="function"?o(...i):o}let r=new Error(`Tried to handle "${n}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,VZ),r}function o$(n){var e;if(n.type)return n.type;let i=(e=n.as)!=null?e:"button";if(typeof i=="string"&&i.toLowerCase()==="button")return"button"}function P1e(n,e){let[i,r]=H.useState(()=>o$(n));return R1(()=>{r(o$(n))},[n.type,n.as]),R1(()=>{i||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&r("button")},[i,e]),i}let j1e=Symbol();function Z8(...n){let e=H.useRef(n);H.useEffect(()=>{e.current=n},[n]);let i=bm(r=>{for(let o of e.current)o!=null&&(typeof o=="function"?o(r):o.current=r)});return n.every(r=>r==null||(r==null?void 0:r[j1e]))?void 0:i}function a$(...n){return Array.from(new Set(n.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var I1e=(n=>(n[n.None=0]="None",n[n.RenderStrategy=1]="RenderStrategy",n[n.Static=2]="Static",n))(I1e||{}),R1e=(n=>(n[n.Unmount=0]="Unmount",n[n.Hidden=1]="Hidden",n))(R1e||{});function qS({ourProps:n,theirProps:e,slot:i,defaultTag:r,features:o,visible:l=!0,name:c,mergeRefs:u}){u=u??M1e;let h=WZ(e,n);if(l)return KT(h,i,r,c,u);let m=o??0;if(m&2){let{static:g=!1,...y}=h;if(g)return KT(y,i,r,c,u)}if(m&1){let{unmount:g=!0,...y}=h;return VZ(g?0:1,{0(){return null},1(){return KT({...y,hidden:!0,style:{display:"none"}},i,r,c,u)}})}return KT(h,i,r,c,u)}function KT(n,e={},i,r,o){let{as:l=i,children:c,refName:u="ref",...h}=PI(n,["unmount","static"]),m=n.ref!==void 0?{[u]:n.ref}:{},g=typeof c=="function"?c(e):c;"className"in h&&h.className&&typeof h.className=="function"&&(h.className=h.className(e));let y={};if(e){let v=!1,_=[];for(let[A,S]of Object.entries(e))typeof S=="boolean"&&(v=!0),S===!0&&_.push(A);v&&(y["data-headlessui-state"]=_.join(" "))}if(l===H.Fragment&&Object.keys(C6(h)).length>0){if(!H.isValidElement(g)||Array.isArray(g)&&g.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(h).map(S=>`  - ${S}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(S=>`  - ${S}`).join(`
`)].join(`
`));let v=g.props,_=typeof(v==null?void 0:v.className)=="function"?(...S)=>a$(v==null?void 0:v.className(...S),h.className):a$(v==null?void 0:v.className,h.className),A=_?{className:_}:{};return H.cloneElement(g,Object.assign({},WZ(g.props,C6(PI(h,["ref"]))),y,m,{ref:o(g.ref,m.ref)},A))}return H.createElement(l,Object.assign({},PI(h,["ref"]),l!==H.Fragment&&m,l!==H.Fragment&&y),g)}function M1e(...n){return n.every(e=>e==null)?void 0:e=>{for(let i of n)i!=null&&(typeof i=="function"?i(e):i.current=e)}}function WZ(...n){if(n.length===0)return{};if(n.length===1)return n[0];let e={},i={};for(let r of n)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(i[o]!=null||(i[o]=[]),i[o].push(r[o])):e[o]=r[o];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(i).map(r=>[r,void 0])));for(let r in i)Object.assign(e,{[r](o,...l){let c=i[r];for(let u of c){if((o instanceof Event||(o==null?void 0:o.nativeEvent)instanceof Event)&&o.defaultPrevented)return;u(o,...l)}}});return e}function m3(n){var e;return Object.assign(H.forwardRef(n),{displayName:(e=n.displayName)!=null?e:n.name})}function C6(n){let e=Object.assign({},n);for(let i in e)e[i]===void 0&&delete e[i];return e}function PI(n,e=[]){let i=Object.assign({},n);for(let r of e)r in i&&delete i[r];return i}let O1e="div";var $Z=(n=>(n[n.None=1]="None",n[n.Focusable=2]="Focusable",n[n.Hidden=4]="Hidden",n))($Z||{});function F1e(n,e){var i;let{features:r=1,...o}=n,l={ref:e,"aria-hidden":(r&2)===2?!0:(i=o["aria-hidden"])!=null?i:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return qS({ourProps:l,theirProps:o,slot:{},defaultTag:O1e,name:"Hidden"})}let U1e=m3(F1e);function L1e(n){let e=n.parentElement,i=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(i=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&B1e(i)?!1:r}function B1e(n){if(!n)return!1;let e=n.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}function z1e(n){var e,i;let r=(e=n==null?void 0:n.form)!=null?e:n.closest("form");if(r){for(let o of r.elements)if(o!==n&&(o.tagName==="INPUT"&&o.type==="submit"||o.tagName==="BUTTON"&&o.type==="submit"||o.nodeName==="INPUT"&&o.type==="image")){o.click();return}(i=r.requestSubmit)==null||i.call(r)}}var T6=(n=>(n.Space=" ",n.Enter="Enter",n.Escape="Escape",n.Backspace="Backspace",n.Delete="Delete",n.ArrowLeft="ArrowLeft",n.ArrowUp="ArrowUp",n.ArrowRight="ArrowRight",n.ArrowDown="ArrowDown",n.Home="Home",n.End="End",n.PageUp="PageUp",n.PageDown="PageDown",n.Tab="Tab",n))(T6||{});let qZ=H.createContext(null);function HZ(){let n=H.useContext(qZ);if(n===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,HZ),e}return n}function V1e(){let[n,e]=H.useState([]);return[n.length>0?n.join(" "):void 0,H.useMemo(()=>function(i){let r=bm(l=>(e(c=>[...c,l]),()=>e(c=>{let u=c.slice(),h=u.indexOf(l);return h!==-1&&u.splice(h,1),u}))),o=H.useMemo(()=>({register:r,slot:i.slot,name:i.name,props:i.props}),[r,i.slot,i.name,i.props]);return or.createElement(qZ.Provider,{value:o},i.children)},[e])]}let W1e="p";function $1e(n,e){let i=Y8(),{id:r=`headlessui-description-${i}`,...o}=n,l=HZ(),c=Z8(e);R1(()=>l.register(r),[r,l.register]);let u={ref:c,...l.props,id:r};return qS({ourProps:u,theirProps:o,slot:l.slot||{},defaultTag:W1e,name:l.name||"Description"})}let q1e=m3($1e),H1e=Object.assign(q1e,{}),GZ=H.createContext(null);function XZ(){let n=H.useContext(GZ);if(n===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,XZ),e}return n}function G1e(){let[n,e]=H.useState([]);return[n.length>0?n.join(" "):void 0,H.useMemo(()=>function(i){let r=bm(l=>(e(c=>[...c,l]),()=>e(c=>{let u=c.slice(),h=u.indexOf(l);return h!==-1&&u.splice(h,1),u}))),o=H.useMemo(()=>({register:r,slot:i.slot,name:i.name,props:i.props}),[r,i.slot,i.name,i.props]);return or.createElement(GZ.Provider,{value:o},i.children)},[e])]}let X1e="label";function K1e(n,e){let i=Y8(),{id:r=`headlessui-label-${i}`,passive:o=!1,...l}=n,c=XZ(),u=Z8(e);R1(()=>c.register(r),[r,c.register]);let h={ref:u,...c.props,id:r};return o&&("onClick"in h&&(delete h.htmlFor,delete h.onClick),"onClick"in l&&delete l.onClick),qS({ourProps:h,theirProps:l,slot:c.slot||{},defaultTag:X1e,name:c.name||"Label"})}let Y1e=m3(K1e),Z1e=Object.assign(Y1e,{}),J8=H.createContext(null);J8.displayName="GroupContext";let J1e=H.Fragment;function Q1e(n){var e;let[i,r]=H.useState(null),[o,l]=G1e(),[c,u]=V1e(),h=H.useMemo(()=>({switch:i,setSwitch:r,labelledby:o,describedby:c}),[i,r,o,c]),m={},g=n;return or.createElement(u,{name:"Switch.Description"},or.createElement(l,{name:"Switch.Label",props:{htmlFor:(e=h.switch)==null?void 0:e.id,onClick(y){i&&(y.currentTarget.tagName==="LABEL"&&y.preventDefault(),i.click(),i.focus({preventScroll:!0}))}}},or.createElement(J8.Provider,{value:h},qS({ourProps:m,theirProps:g,defaultTag:J1e,name:"Switch.Group"}))))}let exe="button";function txe(n,e){var i;let r=Y8(),{id:o=`headlessui-switch-${r}`,checked:l,defaultChecked:c=!1,onChange:u,disabled:h=!1,name:m,value:g,form:y,...v}=n,_=H.useContext(J8),A=H.useRef(null),S=Z8(A,e,_===null?null:_.setSwitch),[C,T]=A1e(l,u,c),N=bm(()=>T==null?void 0:T(!C)),j=bm(K=>{if(L1e(K.currentTarget))return K.preventDefault();K.preventDefault(),N()}),O=bm(K=>{K.key===T6.Space?(K.preventDefault(),N()):K.key===T6.Enter&&z1e(K.currentTarget)}),F=bm(K=>K.preventDefault()),U=H.useMemo(()=>({checked:C}),[C]),V={id:o,ref:S,role:"switch",type:P1e(n,A),tabIndex:n.tabIndex===-1?0:(i=n.tabIndex)!=null?i:0,"aria-checked":C,"aria-labelledby":_==null?void 0:_.labelledby,"aria-describedby":_==null?void 0:_.describedby,disabled:h,onClick:j,onKeyUp:O,onKeyPress:F},B=T1e();return H.useEffect(()=>{var K;let oe=(K=A.current)==null?void 0:K.closest("form");oe&&c!==void 0&&B.addEventListener(oe,"reset",()=>{T(c)})},[A,T]),or.createElement(or.Fragment,null,m!=null&&C&&or.createElement(U1e,{features:$Z.Hidden,...C6({as:"input",type:"checkbox",hidden:!0,readOnly:!0,disabled:h,form:y,checked:C,name:m,value:g})}),qS({ourProps:V,theirProps:v,slot:U,defaultTag:exe,name:"Switch"}))}let nxe=m3(txe),ixe=Q1e,Kh=Object.assign(nxe,{Group:ixe,Label:Z1e,Description:H1e});async function J1({userId:n,type:e,title:i,message:r="",data:o={}}){const{error:l}=await Re.from("notifications").insert({user_id:n,type:e,title:i,message:r,data:o,read:!1,created_at:new Date().toISOString()});if(l)throw l}const rxe=async(n,e)=>J1({userId:n,type:"request",title:"New EIT Connection Request",message:`${e} has requested to connect with you as their supervisor.`,data:{type:"supervisor_request"}}),sxe=async(n,e,i)=>J1({userId:n,type:"score",title:"New Skill Score",message:`You received a score of ${i} for ${e}.`,data:{type:"skill_score",skillName:e,score:i}}),D6=async(n,e,i)=>J1({userId:n,type:"validation_request",title:"New Skill Validation Request",message:`${e} has requested your validation for ${i}.`,data:{type:"validation_request",skillName:i}}),oxe=async(n,e,i)=>J1({userId:n,type:"score",title:"New SAO Score",message:`You received a score of ${i} for your SAO: "${e}".`,data:{type:"sao_score",saoTitle:e,score:i}}),axe=async(n,e,i)=>J1({userId:n,type:"validation_request",title:"New SAO Validation Request",message:`${e} has requested your validation for SAO: "${i}".`,data:{type:"sao_validation_request",saoTitle:i}}),lxe=()=>{const[n,e]=H.useState(null),[i,r]=H.useState(""),[o,l]=H.useState(""),[c,u]=H.useState(""),[h,m]=H.useState(""),[g,y]=H.useState(!1),[v,_]=H.useState({type:"",text:""}),[A,S]=H.useState(!1),[C,T]=H.useState(!1),[N,j]=H.useState(!1),[O,F]=H.useState(""),[U,V]=H.useState(""),[B,K]=H.useState(""),[oe,me]=H.useState(""),[Q,ge]=H.useState("Free"),[$,De]=H.useState(null),[ie,ce]=H.useState(""),[X,Y]=H.useState(null),[ne,ee]=H.useState(""),[ue,Z]=H.useState("idle"),[xe,Ae]=H.useState(""),[Oe,Pe]=H.useState([]),[Me,Ve]=H.useState(!1),[Le,Ee]=H.useState(""),[we,ze]=H.useState(""),[G,Ce]=H.useState(""),[Ie,be]=H.useState("idle"),[_e,Se]=H.useState(""),[He,qe]=H.useState(!1),[Fe,Te]=H.useState(!1),[ke,le]=H.useState(""),[Ue,et]=H.useState(""),[nt,ct]=H.useState(""),[ht,Pt]=H.useState(""),[Bt,bt]=H.useState(!1),[Yt,mn]=H.useState(null),[qt,Vn]=H.useState(!1),[rs,Ir]=H.useState(""),[Rr,ji]=H.useState(""),[bi,yi]=H.useState(""),[vi,wt]=H.useState(!1),[Ht,sn]=H.useState(null),[Wn,Xn]=H.useState(!1),[Mr,Ji]=H.useState(!1),[ft,An]=H.useState(""),[js,ss]=H.useState(""),[Is,ol]=H.useState(""),[Mo,al]=H.useState(!1),[Oo,ll]=H.useState(null),[so,Rs]=H.useState(!1),[Si,cl]=H.useState(""),[Ms,Or]=H.useState(""),{supervisorReviews:os,saoFeedback:ul,relationships:lc,userSkills:su,toggleSupervisorReviews:Ym,toggleSaoFeedback:ma,toggleRelationships:xf,toggleUserSkills:_f}=BZ(),{tier:Ii,documentLimit:dl,saoLimit:hl,supervisorLimit:fl,hasAiAccess:Zm,fetchSubscription:Cd,checkDocumentLimit:ou,checkSaoLimit:oo,checkSupervisorLimit:Fo}=$S();H.useEffect(()=>{(async()=>{var _t,oi;const{data:{user:gt}}=await Re.auth.getUser();if(gt){e(gt),r(((_t=gt.user_metadata)==null?void 0:_t.full_name)||""),l(gt.email||""),u(gt.email||""),m(((oi=gt.user_metadata)==null?void 0:oi.avatar_url)||"");const{data:wi}=await Re.from("eit_profiles").select("id, start_date, target_date").eq("id",gt.id).single();wi&&(Y("eit"),cl(wi.start_date||""),Or(wi.target_date||""));const{data:Fr}=await Re.from("supervisor_profiles").select("id").eq("id",gt.id).single();Fr&&Y("supervisor")}})(),Cd()},[]),H.useEffect(()=>{X==="eit"&&n&&pl(n.id)},[X,n]),H.useEffect(()=>{n&&Re.auth.mfa.listFactors().then(({data:at})=>{var _t;const gt=(_t=at==null?void 0:at.all)==null?void 0:_t.find(oi=>oi.factor_type==="totp"&&oi.status==="verified");Ve(!!gt)})},[n]),H.useEffect(()=>{Cd()},[]);const ao=at=>at.split(" ").map(gt=>gt[0]).join("").toUpperCase(),cr=async()=>{if(!(!$||!n)){y(!0);try{const at=$.name.split(".").pop(),gt=`${n.id}.${at}`,{error:_t}=await Re.storage.from("avatars").upload(gt,$,{upsert:!0});if(_t)throw _t;const{data:oi}=Re.storage.from("avatars").getPublicUrl(gt),wi=oi.publicUrl,{error:Fr}=await Re.auth.updateUser({data:{...n.user_metadata,avatar_url:wi}});if(Fr)throw Fr;m(wi),_({type:"success",text:"Profile picture updated!"}),De(null),ce("")}catch{_({type:"error",text:"Failed to update avatar."})}finally{y(!1)}}},ga=async()=>{if(n){y(!0);try{const{error:at}=await Re.auth.updateUser({data:{...n.user_metadata,avatar_url:""}});if(at)throw at;m(""),_({type:"success",text:"Profile picture removed."})}catch{_({type:"error",text:"Failed to remove avatar."})}finally{y(!1)}}},cc=async at=>{at.preventDefault(),y(!0),_({type:"",text:""});try{const gt={};A&&(gt.data={full_name:i}),C&&c!==o&&(gt.email=c);const{error:_t}=await Re.auth.updateUser(gt);if(_t)throw _t;_({type:"success",text:"Profile updated successfully!"}),S(!1),T(!1);const{data:{user:oi}}=await Re.auth.getUser();oi&&(e(oi),l(oi.email||""),u(oi.email||""))}catch(gt){_({type:"error",text:"Failed to update profile. Please try again."}),console.error("Error updating profile:",gt)}finally{y(!1)}},pl=async at=>{const{data:gt}=await Re.from("supervisor_eit_relationships").select("supervisor_profiles (id, full_name, email)").eq("eit_id",at).eq("status","active");gt&&Pe(gt.map(_t=>_t.supervisor_profiles).filter(_t=>_t))},uc=async at=>{var gt;if(at.preventDefault(),Z("idle"),Ae(""),!!ne){y(!0);try{const{data:_t}=await Re.from("supervisor_profiles").select("id, email, full_name").eq("email",ne).single();if(!_t){Z("notfound"),Ae("No supervisor found with that email."),y(!1);return}const{data:oi}=await Re.from("supervisor_eit_relationships").select("id, status").eq("supervisor_id",_t.id).eq("eit_id",n==null?void 0:n.id).maybeSingle();if(oi&&oi.status==="pending"){Z("pending"),Ae("A request is already pending for this supervisor."),y(!1);return}if(oi&&oi.status==="active"){Z("already"),Ae("This supervisor is already connected."),y(!1);return}const{count:wi,error:Fr}=await Re.from("supervisor_eit_relationships").select("id",{count:"exact",head:!0}).eq("supervisor_id",_t.id).eq("status","active");if(Fr)throw Fr;if(Ii==="free"&&(typeof wi=="number"?wi:0)>=fl){Z("error"),Ae("This supervisor has reached their free plan EIT limit and cannot accept more requests."),y(!1);return}const{error:wr}=await Re.from("supervisor_eit_relationships").upsert({supervisor_id:_t.id,eit_id:n==null?void 0:n.id,status:"pending",created_at:new Date().toISOString(),updated_at:new Date().toISOString()});if(wr)throw wr;if(!n){Z("error"),Ae("User not found. Please re-login."),y(!1);return}await rxe(_t.id,((gt=n.user_metadata)==null?void 0:gt.full_name)||n.email),Z("success"),Ae("Request sent! Your supervisor will see it in their dashboard."),ee(""),n&&pl(n.id)}catch(_t){console.error(_t),Z("error"),Ae("Failed to send request. Please try again.")}finally{y(!1)}}};return b.jsxs("div",{className:"min-h-screen bg-gray-50",children:[b.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:b.jsxs("div",{className:"space-y-8 divide-y divide-gray-200",children:[b.jsxs("div",{className:"space-y-6 pt-8",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Profile"}),b.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Update your profile information and preferences."})]}),b.jsxs("section",{className:"card p-6 flex flex-col md:flex-row gap-6 items-center",children:[b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsxs("div",{className:"relative",children:[ie||h?b.jsx("img",{src:ie||h,className:"w-24 h-24 rounded-full object-cover bg-slate-100",alt:"Profile"}):b.jsx("div",{className:"w-24 h-24 rounded-full bg-teal-500 flex items-center justify-center text-white text-3xl font-bold",children:ao(i||o)}),(ie||h)&&b.jsx("button",{className:"absolute -top-2 -right-2 bg-slate-100 rounded-full p-1 shadow hover:bg-slate-200",onClick:ga,disabled:g,title:"Remove profile picture",style:{zIndex:10},children:b.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",className:"text-red-600",children:b.jsx("path",{d:"M6 6l8 8M6 14L14 6",strokeWidth:"2"})})})]}),$&&b.jsx("button",{className:"btn btn-primary mt-2",onClick:cr,disabled:g,children:g?"Uploading...":"Save Photo"})]}),b.jsxs("form",{className:"flex-1 space-y-4",onSubmit:cc,children:[b.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[b.jsx(yZ,{})," Profile Information",X&&b.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${X==="eit"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:X.toUpperCase()})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"fullName",className:"label",children:"Full Name"}),A?b.jsxs("div",{className:"space-y-2",children:[b.jsx("input",{type:"text",id:"fullName",value:i,onChange:at=>r(at.target.value),className:"input",placeholder:"Enter your full name"}),b.jsx("div",{className:"flex space-x-2",children:b.jsx("button",{type:"button",onClick:()=>S(!1),className:"btn btn-secondary",children:"Cancel"})})]}):b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("p",{children:i||"Not set"}),b.jsx("button",{type:"button",onClick:()=>S(!0),className:"text-sm text-teal-600 hover:text-teal-700",children:"Edit"})]})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"label",children:"Email Address"}),C?b.jsxs("div",{className:"space-y-2",children:[b.jsx("input",{type:"email",id:"newEmail",value:c,onChange:at=>u(at.target.value),className:"input",placeholder:"Enter your new email"}),b.jsx("p",{className:"text-sm text-slate-500",children:"After changing your email, you'll need to use the new email address to log in."}),b.jsx("div",{className:"flex space-x-2",children:b.jsx("button",{type:"button",onClick:()=>T(!1),className:"btn btn-secondary",children:"Cancel"})})]}):b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("p",{children:o}),b.jsx("button",{type:"button",onClick:()=>T(!0),className:"text-sm text-teal-600 hover:text-teal-700",children:"Edit"})]})]}),(A||C)&&b.jsx("button",{type:"submit",disabled:g,className:"btn btn-primary",children:g?"Saving...":"Save Changes"})]})]})]}),X==="eit"&&b.jsxs("section",{className:"card p-6",children:[b.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[b.jsx(q2,{})," Program Timeline"]}),b.jsxs("form",{className:"flex flex-col gap-6",onSubmit:async at=>{if(at.preventDefault(),y(!0),_({type:"",text:""}),Si&&Ms&&new Date(Ms)<=new Date(Si)){_({type:"error",text:"End date must be after start date."}),y(!1);return}try{const{error:gt}=await Re.from("eit_profiles").update({start_date:Si,target_date:Ms}).eq("id",n==null?void 0:n.id);if(gt)throw gt;_({type:"success",text:"Timeline updated!"})}catch{_({type:"error",text:"Failed to update timeline."})}finally{y(!1)}},children:[b.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center w-full",children:[b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Start Date"}),b.jsx("input",{type:"date",value:Si||"",onChange:at=>cl(at.target.value),className:"input"}),Si&&b.jsx("span",{className:"text-xs text-slate-500 mt-1",children:new Date(Si).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})})]}),b.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[b.jsxs("div",{className:"w-full max-w-xs flex items-center gap-2",children:[b.jsx("span",{className:"w-2 h-2 rounded-full bg-teal-500"}),b.jsx("div",{className:"flex-1 h-1 bg-slate-200 rounded-full relative",children:Si&&Ms&&b.jsx("div",{className:"h-1 bg-teal-400 rounded-full absolute top-0 left-0",style:{width:(()=>{const at=new Date().getTime(),gt=new Date(Si).getTime(),_t=new Date(Ms).getTime();return _t<=gt?"0%":`${Math.max(0,Math.min(100,(at-gt)/(_t-gt)*100))}%`})(),transition:"width 0.5s"}})}),b.jsx("span",{className:"w-2 h-2 rounded-full bg-teal-500"})]}),b.jsxs("div",{className:"flex justify-between w-full max-w-xs text-xs text-slate-400 mt-1",children:[b.jsx("span",{children:Si?new Date(Si).toLocaleDateString(void 0,{month:"short",year:"numeric"}):""}),b.jsx("span",{children:Ms?new Date(Ms).toLocaleDateString(void 0,{month:"short",year:"numeric"}):""})]})]}),b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Expected End Date"}),b.jsx("input",{type:"date",value:Ms||"",onChange:at=>Or(at.target.value),className:"input"}),Ms&&b.jsx("span",{className:"text-xs text-slate-500 mt-1",children:new Date(Ms).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})})]})]}),b.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[b.jsx("button",{type:"submit",className:"btn btn-primary",disabled:g,children:g?"Saving...":"Save Dates"}),v.type==="success"&&b.jsxs("span",{className:"text-green-600 flex items-center gap-1 font-medium",children:[b.jsx(pye,{size:18})," Saved!"]}),v.type==="error"&&b.jsx("span",{className:"text-red-600 text-sm",children:v.text})]})]})]}),b.jsxs("div",{className:"pt-8",children:[b.jsxs("div",{className:"mb-6 text-center",children:[b.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-2",children:"Choose Your Plan"}),b.jsx("p",{className:"text-gray-600 text-md max-w-2xl mx-auto",children:"Select the plan that best fits your needs"})]}),b.jsxs("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:[b.jsxs("div",{className:`border ${Ii==="free"?"border-blue-500":"border-gray-200"} rounded-2xl p-8 bg-gradient-to-br from-blue-50 to-white flex flex-col items-center shadow-sm`,children:[b.jsx("h3",{className:"text-2xl font-bold text-blue-900 mb-2",children:"Free"}),b.jsx("p",{className:"text-5xl font-extrabold text-blue-800 mb-4",children:"$0"}),b.jsxs("ul",{className:"mb-6 w-full space-y-3",children:[b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"Up to 5 documents"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"Up to 5 SAOs"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"Connect with 1 supervisor"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Standard support"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-red-500 mr-2",children:"✗"})," AI Features"]})]}),Ii==="free"?b.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 px-4 py-2 rounded-full font-semibold text-sm shadow",children:"Current Plan"}):b.jsx("button",{onClick:()=>window.location.href="mailto:contact@accreda.com?subject=Downgrade to Free Plan",className:"inline-block bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-full font-semibold text-sm shadow transition-colors",children:"Contact to Downgrade"})]}),b.jsxs("div",{className:`border ${Ii==="pro"?"border-teal-500":"border-gray-200"} rounded-2xl p-8 bg-gradient-to-br from-teal-50 to-white flex flex-col items-center shadow-sm relative`,children:[b.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:b.jsx("span",{className:"bg-teal-500 text-white px-4 py-1 rounded-full text-sm font-semibold",children:"Most Popular"})}),b.jsx("h3",{className:"text-2xl font-bold text-teal-900 mb-2",children:"Pro"}),b.jsxs("div",{className:"text-center mb-4",children:[b.jsx("p",{className:"text-5xl font-extrabold text-teal-800",children:"$19.99"}),b.jsx("p",{className:"text-sm text-gray-600",children:"per month"}),b.jsx("p",{className:"text-sm text-teal-600 font-medium mt-1",children:"or $17.49/month billed yearly"})]}),b.jsxs("ul",{className:"mb-6 w-full space-y-3",children:[b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Unlimited documents"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Unlimited SAOs"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Unlimited supervisors"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Priority support"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," AI Features"]})]}),Ii==="pro"?b.jsx("button",{onClick:()=>Ji(!0),className:"inline-block bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-full font-semibold text-sm shadow transition-colors",children:"Downgrade to Free"}):b.jsx("button",{onClick:()=>Te(!0),className:"inline-block bg-teal-600 hover:bg-teal-700 text-white px-6 py-2 rounded-full font-semibold text-sm shadow transition-colors",children:"Upgrade to Pro"})]}),b.jsxs("div",{className:`border ${Ii==="enterprise"?"border-purple-500":"border-gray-200"} rounded-2xl p-8 bg-gradient-to-br from-purple-50 to-white flex flex-col items-center shadow-sm`,children:[b.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-2",children:"Enterprise"}),b.jsx("p",{className:"text-base font-semibold text-purple-800 mb-4",children:"Custom Pricing"}),b.jsxs("ul",{className:"mb-6 w-full space-y-3",children:[b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Everything in Pro"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Priority support"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Dedicated account manager"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Access to Supervisor Dashboard"]})]}),Ii==="enterprise"?b.jsx("span",{className:"inline-block bg-purple-100 text-purple-800 px-4 py-2 rounded-full font-semibold text-sm shadow",children:"Current Plan"}):b.jsx("button",{onClick:()=>qe(!0),className:"inline-block bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-full font-semibold text-sm shadow transition-colors",children:"Contact Us"})]})]})]}),b.jsxs("section",{className:"card p-6",children:[b.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[b.jsx(dZ,{})," Security"]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"label",children:"Password"}),N?b.jsxs("div",{className:"space-y-4",children:[b.jsx("input",{type:"password",id:"currentPassword",value:O,onChange:at=>F(at.target.value),className:"input",placeholder:"Current password"}),b.jsx("input",{type:"password",id:"newPassword",value:U,onChange:at=>V(at.target.value),className:"input",placeholder:"New password"}),b.jsx("input",{type:"password",id:"confirmPassword",value:B,onChange:at=>K(at.target.value),className:"input",placeholder:"Confirm new password"}),oe&&b.jsx("p",{className:"text-sm text-red-600",children:oe}),b.jsx("div",{className:"flex space-x-2",children:b.jsx("button",{type:"button",onClick:()=>j(!1),className:"btn btn-secondary",children:"Cancel"})})]}):b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("p",{children:"••••••••"}),b.jsx("button",{type:"button",onClick:()=>j(!0),className:"text-sm text-teal-600 hover:text-teal-700",children:"Change"})]})]}),b.jsxs("div",{className:"mt-4",children:[b.jsx("label",{className:"label",children:"Two-Factor Authentication"}),Me?b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("span",{className:"text-green-700 font-medium",children:"Enabled (TOTP)"}),b.jsx("button",{className:"btn btn-danger w-fit",onClick:async()=>{var at;be("idle"),Se("");try{const{data:gt}=await Re.auth.mfa.listFactors(),_t=(at=gt==null?void 0:gt.all)==null?void 0:at.find(oi=>oi.factor_type==="totp"&&oi.status==="verified");_t&&(await Re.auth.mfa.unenroll({factorId:_t.id}),Ve(!1))}catch{Se("Failed to disable 2FA.")}},children:"Disable 2FA"}),_e&&b.jsx("span",{className:"text-red-600 text-sm",children:_e})]}):Ie==="enrolling"?b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("span",{children:"Scan this QR code with your authenticator app:"}),Le&&b.jsx("img",{src:Le,alt:"TOTP QR Code",className:"w-40 h-40"}),b.jsx("input",{type:"text",className:"input mt-2",placeholder:"Enter 6-digit code",value:G,onChange:at=>Ce(at.target.value),maxLength:6}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{className:"btn btn-primary w-fit",onClick:async()=>{be("verifying"),Se("");try{const{data:at,error:gt}=await Re.auth.mfa.challenge({factorId:we});if(gt)throw gt;const{error:_t}=await Re.auth.mfa.verify({factorId:we,challengeId:at.id,code:G});if(_t)throw _t;Ve(!0),be("enabled")}catch{Se("Invalid code. Please try again."),be("enrolling")}},disabled:G.length!==6,children:"Verify"}),b.jsx("button",{className:"btn btn-secondary w-fit",onClick:async()=>{be("idle"),Ee(""),ze(""),Ce(""),Se("");try{const{data:at}=await Re.auth.mfa.listFactors();if(at!=null&&at.all)for(const gt of at.all)gt.factor_type==="totp"&&gt.status!=="verified"&&await Re.auth.mfa.unenroll({factorId:gt.id})}catch{}},children:"Cancel"})]}),_e&&b.jsx("span",{className:"text-red-600 text-sm",children:_e})]}):b.jsx("button",{className:"btn btn-primary w-fit",onClick:async()=>{be("enrolling"),Se(""),Ee(""),ze(""),Ce("");try{const{data:at}=await Re.auth.mfa.listFactors();if(at!=null&&at.all)for(const gt of at.all)gt.factor_type==="totp"&&gt.status!=="verified"&&await Re.auth.mfa.unenroll({factorId:gt.id})}catch{}try{const{data:at,error:gt}=await Re.auth.mfa.enroll({factorType:"totp"});if(gt)throw gt;Ee(at.totp.qr_code),ze(at.id)}catch{Se("Failed to start 2FA enrollment."),be("idle")}},children:"Set up Two-Factor Authentication"})]})]})]}),X==="eit"&&b.jsxs("section",{className:"card p-6",children:[b.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[b.jsx($8,{})," Supervisor Connections"]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-3",children:"Current Connections"}),Oe.length===0?b.jsx("div",{className:"text-slate-400",children:"No active supervisor connections."}):b.jsx("ul",{className:"divide-y divide-slate-200",children:Oe.map(at=>b.jsxs("li",{className:"py-2 flex flex-col md:flex-row md:items-center md:justify-between",children:[b.jsx("span",{className:"font-medium text-slate-800",children:at.full_name}),b.jsx("span",{className:"text-slate-500 text-sm",children:at.email})]},at.id))})]}),b.jsx("div",{className:"border-t border-slate-200 my-4"}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-3",children:"Connect with a New Supervisor"}),Ii==="free"&&Oe.length>=fl&&b.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded text-yellow-900 font-semibold text-center",children:"You have reached your supervisor connection limit for the Free plan. Upgrade to add more."}),b.jsxs("form",{className:"flex flex-col md:flex-row gap-4 items-start md:items-end",onSubmit:uc,children:[b.jsxs("div",{className:"flex-1 w-full",children:[b.jsx("label",{htmlFor:"supervisorEmail",className:"label",children:"Supervisor Email"}),b.jsx("input",{type:"email",id:"supervisorEmail",value:ne,onChange:at=>ee(at.target.value),className:"input w-full",placeholder:"Enter supervisor's email",required:!0,disabled:Ii==="free"&&Oe.length>=fl})]}),b.jsx("button",{type:"submit",className:"btn btn-primary whitespace-nowrap",disabled:g||Ii==="free"&&Oe.length>=fl,children:g?"Sending...":"Send Request"})]}),xe&&b.jsx("div",{className:`mt-3 text-sm p-2 rounded-md ${ue==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:xe})]})]})]}),b.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[b.jsx("div",{className:"flex items-center justify-between mb-4",children:b.jsxs("div",{className:"flex items-center",children:[b.jsx(U8,{className:"h-6 w-6 text-gray-400 mr-2"}),b.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Notification Preferences"})]})}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Supervisor Reviews"}),b.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when you receive new reviews or updates"})]}),b.jsx(Kh,{checked:os,onChange:Ym,className:`${os?"bg-teal-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2`,children:b.jsx("span",{className:`${os?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"SAO Feedback"}),b.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when you receive feedback on your SAOs"})]}),b.jsx(Kh,{checked:ul,onChange:ma,className:`${ul?"bg-teal-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2`,children:b.jsx("span",{className:`${ul?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Relationship Updates"}),b.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when your supervisor relationship status changes"})]}),b.jsx(Kh,{checked:lc,onChange:xf,className:`${lc?"bg-teal-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2`,children:b.jsx("span",{className:`${lc?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"User Skills"}),b.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when your skills are validated or updated"})]}),b.jsx(Kh,{checked:su,onChange:_f,className:`${su?"bg-teal-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2`,children:b.jsx("span",{className:`${su?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),b.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Portfolio Update Reminders"}),b.jsx("p",{className:"text-sm text-gray-500",children:"Receive automated reminders to update your portfolio"})]}),b.jsx(Kh,{checked:!0,onChange:()=>{},className:"bg-teal-600 relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2",children:b.jsx("span",{className:"translate-x-6 inline-block h-4 w-4 transform rounded-full bg-white transition-transform"})})]}),b.jsxs("div",{className:"mt-3",children:[b.jsx("label",{htmlFor:"emailFrequency",className:"block text-sm font-medium text-gray-700",children:"Email Frequency"}),b.jsxs("select",{id:"emailFrequency",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-teal-500 focus:border-teal-500 sm:text-sm rounded-md",defaultValue:"weekly",children:[b.jsx("option",{value:"daily",children:"Daily"}),b.jsx("option",{value:"weekly",children:"Weekly"}),b.jsx("option",{value:"biweekly",children:"Bi-weekly"}),b.jsx("option",{value:"monthly",children:"Monthly"})]})]})]})]})]}),b.jsxs("section",{className:"card p-6",children:[b.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[b.jsx(gZ,{})," Appearance"]}),b.jsx("p",{className:"text-slate-500 text-sm",children:"Coming soon: Switch between light and dark mode."})]}),b.jsxs("section",{className:"card p-6 border-red-200",children:[b.jsxs("h2",{className:"text-lg font-semibold text-red-600 flex items-center gap-2 mb-2",children:[b.jsx(D0,{})," Danger Zone"]}),b.jsx("button",{className:"btn btn-danger",children:"Delete Account"}),b.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"This action is irreversible. Your data will be permanently deleted."})]}),v.text&&b.jsx("div",{className:`fixed bottom-4 right-4 p-4 rounded-md z-50 ${v.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.text})]})}),Fe&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full relative",children:[b.jsx("button",{className:"absolute top-2 right-2 text-slate-400 hover:text-slate-600",onClick:()=>{Te(!1),Xn(!1),sn(null)},"aria-label":"Close",children:"×"}),b.jsx("h2",{className:"text-xl font-bold mb-4 text-teal-800",children:"Upgrade to Pro"}),Wn?b.jsx("div",{className:"p-3 bg-green-50 text-green-700 rounded-md text-sm mb-4",children:"Your request has been sent successfully. We'll get back to you soon!"}):b.jsxs("form",{onSubmit:async at=>{at.preventDefault(),wt(!0),sn(null),Xn(!1);try{const gt=await fetch("https://bbixvnkqroskholbxkgj.supabase.co/functions/v1/send-support-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU"},body:JSON.stringify({email:Rr,subject:"Pro Plan Upgrade Request",message:`Name: ${rs}

${bi}`,issueType:"pro",mode:"help"})}),_t=await gt.json();if(!gt.ok)throw new Error(_t.error||"Failed to send message");Xn(!0),Ir(""),ji(""),yi("")}catch(gt){sn(gt instanceof Error?gt.message:"Failed to send message. Please try again later.")}finally{wt(!1)}},className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Name"}),b.jsx("input",{type:"text",className:"input",value:rs,onChange:at=>Ir(at.target.value),required:!0,disabled:vi})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),b.jsx("input",{type:"email",className:"input",value:Rr,onChange:at=>ji(at.target.value),required:!0,disabled:vi})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Message"}),b.jsx("textarea",{className:"input",rows:4,value:bi,onChange:at=>yi(at.target.value),required:!0,disabled:vi})]}),Ht&&b.jsx("div",{className:"p-3 bg-red-50 text-red-700 rounded-md text-sm",children:Ht}),b.jsxs("div",{className:"flex justify-end gap-2",children:[b.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{Te(!1),Xn(!1),sn(null)},disabled:vi,children:"Cancel"}),b.jsx("button",{type:"submit",className:"btn btn-primary",disabled:vi,children:vi?"Sending...":"Send Request"})]})]})]})}),He&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full relative",children:[b.jsx("button",{className:"absolute top-2 right-2 text-slate-400 hover:text-slate-600",onClick:()=>{qe(!1),Vn(!1),mn(null)},"aria-label":"Close",children:"×"}),b.jsx("h2",{className:"text-xl font-bold mb-4 text-purple-800",children:"Contact Us"}),qt?b.jsx("div",{className:"p-3 bg-green-50 text-green-700 rounded-md text-sm mb-4",children:"Your message has been sent successfully. We'll get back to you soon!"}):b.jsxs("form",{onSubmit:async at=>{at.preventDefault(),bt(!0),mn(null),Vn(!1);try{const gt=await fetch("https://bbixvnkqroskholbxkgj.supabase.co/functions/v1/send-support-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU"},body:JSON.stringify({email:Ue,subject:"Enterprise Plan Inquiry",message:`Name: ${ke}
Corporation: ${nt}

${ht}`,issueType:"enterprise",mode:"help"})}),_t=await gt.json();if(!gt.ok)throw new Error(_t.error||"Failed to send message");Vn(!0),le(""),et(""),ct(""),Pt("")}catch(gt){mn(gt instanceof Error?gt.message:"Failed to send message. Please try again later.")}finally{bt(!1)}},className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Name"}),b.jsx("input",{type:"text",className:"input",value:ke,onChange:at=>le(at.target.value),required:!0,disabled:Bt})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),b.jsx("input",{type:"email",className:"input",value:Ue,onChange:at=>et(at.target.value),required:!0,disabled:Bt})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Corporation Name"}),b.jsx("input",{type:"text",className:"input",value:nt,onChange:at=>ct(at.target.value),required:!0,disabled:Bt})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Message"}),b.jsx("textarea",{className:"input",rows:4,value:ht,onChange:at=>Pt(at.target.value),required:!0,disabled:Bt})]}),Yt&&b.jsx("div",{className:"p-3 bg-red-50 text-red-700 rounded-md text-sm",children:Yt}),b.jsxs("div",{className:"flex justify-end gap-2",children:[b.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{qe(!1),Vn(!1),mn(null)},disabled:Bt,children:"Cancel"}),b.jsx("button",{type:"submit",className:"btn btn-primary",disabled:Bt,children:Bt?"Sending...":"Send Message"})]})]})]})}),Mr&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full relative",children:[b.jsx("button",{className:"absolute top-2 right-2 text-slate-400 hover:text-slate-600",onClick:()=>{Ji(!1),Rs(!1),ll(null)},"aria-label":"Close",children:"×"}),b.jsx("h2",{className:"text-xl font-bold mb-4 text-blue-800",children:"Downgrade to Free"}),so?b.jsx("div",{className:"p-3 bg-green-50 text-green-700 rounded-md text-sm mb-4",children:"Your downgrade request has been sent successfully. We'll get back to you soon!"}):b.jsxs("form",{onSubmit:async at=>{at.preventDefault(),al(!0),ll(null),Rs(!1);try{const gt=await fetch("https://bbixvnkqroskholbxkgj.supabase.co/functions/v1/send-support-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU"},body:JSON.stringify({email:js,subject:"Downgrade to Free Plan Request",message:`Name: ${ft}

${Is}`,issueType:"downgrade",mode:"help"})}),_t=await gt.json();if(!gt.ok)throw new Error(_t.error||"Failed to send message");Rs(!0),An(""),ss(""),ol("")}catch(gt){ll(gt instanceof Error?gt.message:"Failed to send message. Please try again later.")}finally{al(!1)}},className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Name"}),b.jsx("input",{type:"text",className:"input",value:ft,onChange:at=>An(at.target.value),required:!0,disabled:Mo})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),b.jsx("input",{type:"email",className:"input",value:js,onChange:at=>ss(at.target.value),required:!0,disabled:Mo})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Message"}),b.jsx("textarea",{className:"input",rows:4,value:Is,onChange:at=>ol(at.target.value),required:!0,disabled:Mo})]}),Oo&&b.jsx("div",{className:"p-3 bg-red-50 text-red-700 rounded-md text-sm",children:Oo}),b.jsxs("div",{className:"flex justify-end gap-2",children:[b.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{Ji(!1),Rs(!1),ll(null)},disabled:Mo,children:"Cancel"}),b.jsx("button",{type:"submit",className:"btn btn-primary",disabled:Mo,children:Mo?"Sending...":"Send Request"})]})]})]})})]})},HS=ac((n,e)=>({saos:[],loading:!1,error:null,lastFetched:null,clearState:()=>n({saos:[],loading:!1,error:null,lastFetched:null}),createSAO:async(i,r,o,l)=>{var c;n({loading:!0,error:null});try{console.log("Creating new SAO...");const{data:{user:u},error:h}=await Re.auth.getUser();if(h)throw console.error("Auth error:",h),new Error("Authentication error: "+h.message);if(!u)throw new Error("No authenticated user found");await Re.from("eit_profiles").upsert({id:u.id,full_name:((c=u.user_metadata)==null?void 0:c.full_name)||"",email:u.email||""}),console.log("Creating SAO:",{title:i,content:r,skills:o,eit_id:u.id});const{data:m,error:g}=await Re.from("saos").insert([{eit_id:u.id,title:i,content:r,status:l}]).select().single();if(g)throw console.error("Error creating SAO:",{error:g,message:g.message,details:g.details,hint:g.hint,code:g.code}),g;console.log("SAO created successfully:",m);const y=o.map(_=>({sao_id:m.id,skill_id:_.id,category_name:_.category_name||""}));console.log("Creating SAO skills relationships:",y);const{error:v}=await Re.from("sao_skills").insert(y);if(v)throw console.error("Error creating SAO skills:",{error:v,message:v.message,details:v.details,hint:v.hint,code:v.code}),v;console.log("SAO skills created successfully"),await e().loadUserSAOs()}catch(u){throw console.error("Error in createSAO:",{error:u,message:u.message,details:u.details,hint:u.hint}),n({error:`Failed to create SAO: ${u.message||"Unknown error"}`}),u}finally{n({loading:!1})}},updateSAO:async(i,r,o,l,c)=>{n({loading:!0,error:null});try{console.log("Updating SAO:",{id:i,title:r,content:o,skills:l});const{data:{user:u},error:h}=await Re.auth.getUser();if(h)throw console.error("Auth error:",h),new Error("Authentication error: "+h.message);if(!u)throw new Error("No authenticated user found");const{error:m}=await Re.from("saos").update({title:r,content:o,status:c}).eq("id",i).eq("eit_id",u.id);if(m)throw console.error("Error updating SAO:",m),m;const{error:g}=await Re.from("sao_skills").delete().eq("sao_id",i);if(g)throw console.error("Error deleting existing SAO skills:",g),g;const y=l.map(_=>({sao_id:i,skill_id:_.id,category_name:_.category_name||""})),{error:v}=await Re.from("sao_skills").insert(y);if(v)throw console.error("Error updating SAO skills:",v),v;n(_=>({saos:_.saos.map(A=>A.id===i?{...A,title:r,content:o,status:c,skills:l}:A)})),await e().loadUserSAOs()}catch(u){throw console.error("Error in updateSAO:",{error:u,message:u.message,details:u.details,hint:u.hint}),n({error:`Failed to update SAO: ${u.message||"Unknown error"}`}),u}finally{n({loading:!1})}},deleteSAO:async i=>{n({loading:!0,error:null});try{console.log("Deleting SAO:",i);const{data:{user:r},error:o}=await Re.auth.getUser();if(o)throw console.error("Auth error:",o),new Error("Authentication error: "+o.message);if(!r)throw new Error("No authenticated user found");const{error:l}=await Re.from("sao_skills").delete().eq("sao_id",i);if(l)throw console.error("Error deleting SAO skills:",l),l;const{error:c}=await Re.from("saos").delete().eq("id",i).eq("eit_id",r.id);if(c)throw console.error("Error deleting SAO:",c),c;n(u=>({saos:u.saos.filter(h=>h.id!==i)}))}catch(r){throw console.error("Error in deleteSAO:",{error:r,message:r.message,details:r.details,hint:r.hint}),n({error:`Failed to delete SAO: ${r.message||"Unknown error"}`}),r}finally{n({loading:!1})}},requestFeedback:async(i,r)=>{var o;n({loading:!0,error:null});try{const{data:{user:l}}=await Re.auth.getUser();if(!l)throw new Error("No authenticated user found");const{data:c}=await Re.from("saos").select("title").eq("id",i).single();await Re.from("sao_feedback").delete().eq("sao_id",i),await Re.from("saos").update({status:"in-review"}).eq("id",i),await Re.from("sao_feedback").insert([{sao_id:i,supervisor_id:r,feedback:"",status:"pending"}]),await axe(r,((o=l.user_metadata)==null?void 0:o.full_name)||l.email,(c==null?void 0:c.title)||"SAO"),await e().loadUserSAOs(!0)}catch(l){throw n({error:`Failed to request feedback: ${l.message||"Unknown error"}`}),l}finally{n({loading:!1})}},submitFeedback:async(i,r)=>{n({loading:!0,error:null});try{const{data:{user:o}}=await Re.auth.getUser();if(!o)throw new Error("No authenticated user found");const{data:l}=await Re.from("saos").select("eit_id, title").eq("id",i).single();await Re.from("sao_feedback").update({feedback:r,status:"submitted"}).eq("sao_id",i).eq("supervisor_id",o.id),l!=null&&l.eit_id&&await oxe(l.eit_id,(l==null?void 0:l.title)||"SAO",1),await e().loadUserSAOs(!0)}catch(o){throw n({error:`Failed to submit feedback: ${o.message||"Unknown error"}`}),o}finally{n({loading:!1})}},resolveFeedback:async i=>{n({loading:!0,error:null});try{const{error:r}=await Re.from("sao_feedback").update({status:"resolved"}).eq("id",i);if(r)throw r;await e().loadUserSAOs(!0)}catch(r){throw n({error:`Failed to resolve feedback: ${r.message||"Unknown error"}`}),r}finally{n({loading:!1})}},loadUserSAOs:async(i=!1)=>{const r=Date.now(),o=e().lastFetched;if(!(!i&&o&&r-o<5*60*1e3)){n({loading:!0,error:null});try{console.log("Loading user SAOs...");const{data:{user:l},error:c}=await Re.auth.getUser();if(c)throw console.error("Auth error:",c),new Error("Authentication error: "+c.message);if(!l)throw new Error("No authenticated user found");console.log("Fetching SAOs for user:",l.id);const{data:u,error:h}=await Re.from("saos").select(`
          *,
          sao_skills (
            skill_id,
            category_name
          ),
          sao_feedback:sao_feedback_sao_id_fkey (
            id,
            supervisor_id,
            feedback,
            status,
            created_at,
            updated_at
          )
        `).eq("eit_id",l.id).order("created_at",{ascending:!1});if(h)throw console.error("Error fetching SAOs:",h),h;console.log("SAOs fetched:",u==null?void 0:u.length);const m=(u==null?void 0:u.map(g=>({...g,skills:g.sao_skills.map(y=>({id:y.skill_id,name:"",category_name:y.category_name,status:"not-started"})),feedback:g.sao_feedback||[]})))||[];console.log("Transformed SAOs:",m.length),n({saos:m,lastFetched:r})}catch(l){throw console.error("Error in loadUserSAOs:",{error:l,message:l.message,details:l.details,hint:l.hint}),n({error:`Failed to load SAOs: ${l.message||"Unknown error"}`}),l}finally{n({loading:!1})}}},fetchAnnotations:async i=>{n({loading:!0,error:null});try{const{data:r,error:o}=await Re.from("sao_annotation").select("*").eq("sao_id",i).order("created_at",{ascending:!0});if(o)throw o;return r}catch(r){return n({error:`Failed to fetch annotations: ${r.message||"Unknown error"}`}),[]}finally{n({loading:!1})}},addAnnotation:async(i,r,o)=>{var l;n({loading:!0,error:null});try{const{data:{user:c},error:u}=await Re.auth.getUser();if(u)throw u;if(!c)throw new Error("No authenticated user found");let h=null,m="eit",g=((l=c.user_metadata)==null?void 0:l.full_name)||c.email||"Unknown";const{data:y}=await Re.from("supervisor_profiles").select("id, full_name").eq("id",c.id).single();if(y)h=y.id,m="supervisor",g=y.full_name||g;else{const{data:_}=await Re.from("eit_profiles").select("full_name").eq("id",c.id).single();_&&_.full_name&&(g=_.full_name)}const{error:v}=await Re.from("sao_annotation").insert([{sao_id:i,supervisor_id:h,created_by:c.id,author_name:g,author_role:m,location:r,annotation:o,status:"active"}]);if(v)throw v}catch(c){throw n({error:`Failed to add annotation: ${c.message||"Unknown error"}`}),c}finally{n({loading:!1})}},fetchReplies:async i=>{n({loading:!0,error:null});try{const{data:r,error:o}=await Re.from("sao_annotation_replies").select("*").eq("annotation_id",i).order("created_at",{ascending:!0});if(o)throw o;return r||[]}catch(r){return n({error:`Failed to fetch replies: ${r.message||"Unknown error"}`}),[]}finally{n({loading:!1})}},addReply:async(i,r)=>{n({loading:!0,error:null});try{const{data:{user:o},error:l}=await Re.auth.getUser();if(l)throw l;if(!o)throw new Error("No authenticated user found");const{error:c}=await Re.from("sao_annotation_replies").insert([{annotation_id:i,content:r,author_id:o.id}]);if(c)throw c}catch(o){throw n({error:`Failed to add reply: ${o.message||"Unknown error"}`}),o}finally{n({loading:!1})}},resolveAnnotation:async i=>{n({loading:!0,error:null});try{const{error:r}=await Re.from("sao_annotation").update({resolved:!0}).eq("id",i);if(r)throw r}catch(r){throw n({error:`Failed to resolve annotation: ${r.message||"Unknown error"}`}),r}finally{n({loading:!1})}},deleteAnnotation:async i=>{n({loading:!0,error:null});try{const{error:r}=await Re.from("sao_annotation").delete().eq("id",i);if(r)throw r}catch(r){throw n({error:`Failed to delete annotation: ${r.message||"Unknown error"}`}),r}finally{n({loading:!1})}},updateAnnotationStatus:async(i,r)=>{n({loading:!0,error:null});try{const{error:o}=await Re.from("sao_annotation").update({status:r}).eq("id",i);if(o)throw o}catch(o){throw n({error:`Failed to update annotation status: ${o.message||"Unknown error"}`}),o}finally{n({loading:!1})}}})),KZ=({saoId:n,content:e,readOnly:i})=>{const{fetchAnnotations:r,addAnnotation:o,fetchReplies:l,addReply:c,resolveAnnotation:u,deleteAnnotation:h}=HS(),[m,g]=H.useState([]),[y,v]=H.useState({}),[_,A]=H.useState(null),[S,C]=H.useState(null),[T,N]=H.useState(""),[j,O]=H.useState(!1),[F,U]=H.useState(null),[V,B]=H.useState(!1),[K,oe]=H.useState(null),[me,Q]=H.useState(null),[ge,$]=H.useState({}),[De,ie]=H.useState(null),[ce,X]=H.useState({}),Y=H.useRef(null),ne=H.useRef({}),ee=H.useRef({});H.useEffect(()=>{(async()=>{const Me=await r(n);g(Me);const Ve={},Le={};for(const Ee of Me)Ve[Ee.id]=await l(Ee.id);v(Ve),X(Le)})()},[n,r,l]),m.map(Pe=>({id:Pe.id,start:Pe.location.start,end:Pe.location.end,comment:Pe.annotation,author_role:Pe.author_role,author_name:Pe.author_name}));const ue=m.filter(Pe=>!Pe.resolved);function Z(Pe,Me,Ve){let Le=0;function Ee(we){if(we===Me)return Le+=Ve,!0;if(we.nodeType===Node.TEXT_NODE)Le+=(we.textContent||"").length;else for(let ze of Array.from(we.childNodes))if(Ee(ze))return!0;return!1}return Ee(Pe),Le}const xe=Pe=>{const Me=window.getSelection();if(!Me||!Me.rangeCount){Q(null);return}const Ve=Me.getRangeAt(0);if(!Y.current||!Y.current.contains(Ve.commonAncestorContainer)){Q(null);return}if(Me.isCollapsed){Q(null);return}const Le=Z(Y.current,Ve.startContainer,Ve.startOffset),Ee=Z(Y.current,Ve.endContainer,Ve.endOffset);if(Le!==Ee){const we=Ve.getBoundingClientRect();Q({x:we.right-Y.current.getBoundingClientRect().left,y:we.bottom-Y.current.getBoundingClientRect().top+window.scrollY}),U({start:Math.min(Le,Ee),end:Math.max(Le,Ee)})}else Q(null)},Ae=()=>{if(!ue.length)return e;let Pe=[],Me=0;return[...ue].sort((Le,Ee)=>Le.location.start-Ee.location.start).forEach((Le,Ee)=>{const we=Le.author_role==="supervisor",ze=Le.resolved,G=ze?"#e9ecef":we?_===Le.id||S===Le.id?"#ffe066":"#fff3bf":_===Le.id||S===Le.id?"#d0ebff":"#e7f5ff",Ce=we?"#ffd43b":"#228be6";Pe.push(e.slice(Me,Le.location.start)),Pe.push(b.jsxs("span",{ref:Ie=>ne.current[Le.id]=Ie,style:{background:G,borderRadius:3,boxShadow:_===Le.id||S===Le.id?`0 0 0 2px ${Ce}`:void 0,cursor:"pointer",position:"relative",transition:"background 0.2s, box-shadow 0.2s",padding:"0 2px",opacity:ze?.6:1},onClick:Ie=>{A(Le.id),ie(Le.id),setTimeout(()=>{var be;(be=ee.current[Le.id])==null||be.scrollIntoView({behavior:"smooth",block:"center"})},100)},onMouseEnter:()=>C(Le.id),onMouseLeave:()=>C(null),children:[e.slice(Le.location.start,Le.location.end),b.jsx("span",{style:{display:"inline-block",verticalAlign:"middle",marginLeft:2,color:we?"#fab005":"#228be6",cursor:"pointer",position:"relative",top:2},title:"View comment",onClick:Ie=>{var be;Ie.stopPropagation(),A(Le.id),ie(Le.id),(be=ee.current[Le.id])==null||be.scrollIntoView({behavior:"smooth",block:"center"})},children:b.jsx(T0,{size:14})}),De===Le.id&&_===Le.id&&b.jsxs("div",{style:{position:"absolute",left:0,top:"100%",zIndex:100,background:"white",border:"1px solid #ddd",borderRadius:6,boxShadow:"0 2px 8px rgba(0,0,0,0.08)",minWidth:280,padding:12,marginTop:4},onClick:Ie=>Ie.stopPropagation(),children:[b.jsxs("div",{className:"flex justify-between items-center mb-1",children:[b.jsxs("span",{className:"text-xs text-slate-500",children:[Le.author_name," (",we?"Supervisor":"EIT",")",ze&&b.jsx("span",{className:"ml-2 text-green-600 font-semibold",children:"[Resolved]"})]}),b.jsx("button",{onClick:()=>ie(null),className:"text-slate-400 hover:text-slate-600",children:b.jsx(As,{size:16})})]}),b.jsx("div",{className:"text-slate-800 text-sm mb-2",children:Le.annotation}),y[Le.id]&&y[Le.id].length>0&&b.jsx("div",{className:"mb-2",children:y[Le.id].map(Ie=>b.jsxs("div",{className:"flex items-start gap-2 mb-1",children:[b.jsx($W,{size:14,className:"mt-1 text-slate-400"}),b.jsx("div",{children:b.jsx("span",{className:"text-xs text-slate-500",children:Ie.content})})]},Ie.id))}),!ze&&b.jsxs("div",{className:"flex gap-2 mt-2",children:[b.jsx("input",{type:"text",className:"input input-sm flex-1",placeholder:"Reply...",value:ge[Le.id]||"",onChange:Ie=>$({...ge,[Le.id]:Ie.target.value})}),b.jsx("button",{className:"btn btn-primary btn-sm",onClick:async()=>{var be;if(!Le.id){console.error("Tried to fetch replies for undefined annotation id");return}if(!((be=ge[Le.id])!=null&&be.trim()))return;await c(Le.id,ge[Le.id]),$({...ge,[Le.id]:""});const Ie=await l(Le.id);v(_e=>({..._e,[Le.id]:Ie}))},children:"Reply"})]}),b.jsxs("div",{className:"flex gap-2 mt-2",children:[!ze&&b.jsxs("button",{className:"btn btn-success btn-xs",onClick:async()=>{if(!Le.id){console.error("Tried to resolve annotation with undefined id");return}await u(Le.id);const Ie=await r(n);g(Ie),X(be=>({...be,[Le.id]:!0})),_===Le.id&&A(null),De===Le.id&&ie(null)},children:[b.jsx(k6,{size:14,className:"mr-1"}),"Resolve"]}),ze&&b.jsxs("button",{className:"btn btn-danger btn-xs",onClick:async()=>{if(!Le.id){console.error("Tried to delete annotation with undefined id");return}await h(Le.id);const Ie=await r(n);g(Ie),De===Le.id&&ie(null),_===Le.id&&A(null)},children:[b.jsx(D0,{size:14,className:"mr-1"}),"Delete"]})]})]})]},Le.id)),Me=Le.location.end}),Pe.push(e.slice(Me)),Pe},Oe=async()=>{if(!(!F||!T.trim())){B(!0),oe(null);try{await o(n,F,T),N(""),U(null),O(!1),Q(null);const Pe=await r(n);g(Pe)}catch(Pe){oe(Pe.message||"Failed to save annotation")}finally{B(!1)}}};return H.useEffect(()=>{_&&!ue.some(Pe=>Pe.id===_)&&(ie(null),A(null))},[ue,_]),b.jsxs("div",{className:"flex gap-6",children:[b.jsxs("div",{style:{flex:1,minWidth:0,position:"relative"},children:[b.jsx("div",{ref:Y,style:{whiteSpace:"pre-wrap",cursor:i?"default":"text",minHeight:80},onMouseUp:i?void 0:xe,children:Ae()}),!i&&me&&F&&!j&&b.jsx("button",{style:{position:"absolute",left:me.x,top:me.y,zIndex:10,background:"#fab005",color:"white",border:"none",borderRadius:6,padding:"4px 10px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",cursor:"pointer",fontWeight:600},onClick:()=>O(!0),children:"Add comment"}),!i&&j&&b.jsxs("div",{className:"mt-2 flex flex-col gap-2 bg-yellow-50 p-3 rounded shadow max-w-md",style:{position:"absolute",left:(me==null?void 0:me.x)||0,top:(me==null?void 0:me.y)||0,zIndex:20},children:[b.jsx("textarea",{value:T,onChange:Pe=>N(Pe.target.value),placeholder:"Enter comment...",className:"w-full px-3 py-2 border border-slate-300 rounded-md",rows:2,autoFocus:!0}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{className:"btn btn-primary",onClick:Oe,disabled:!T.trim()||V,children:V?"Saving...":"Save Comment"}),b.jsx("button",{className:"btn btn-secondary",onClick:()=>{O(!1),U(null),N(""),Q(null)},disabled:V,children:"Cancel"})]}),K&&b.jsx("div",{className:"text-red-600 text-sm mt-1",children:K})]})]}),b.jsxs("div",{className:"w-72 border-l pl-4 flex flex-col gap-3 bg-slate-50 max-h-[400px] overflow-y-auto",children:[b.jsx("h4",{className:"font-semibold text-slate-700 mb-2",children:"Comments"}),ue.length===0&&b.jsx("div",{className:"text-slate-400 text-sm",children:"No comments yet."}),ue.map(Pe=>{const Me=Pe.author_role==="supervisor",Ve=Pe.resolved;return b.jsxs("div",{ref:Le=>ee.current[Pe.id]=Le,className:`p-2 rounded cursor-pointer transition-all ${_===Pe.id?Me?"bg-yellow-100":"bg-blue-100":S===Pe.id?Me?"bg-yellow-50":"bg-blue-50":"hover:bg-slate-100"}`,onClick:()=>A(Pe.id),onMouseEnter:()=>C(Pe.id),onMouseLeave:()=>C(null),style:{borderLeft:_===Pe.id?Me?"3px solid #fab005":"3px solid #228be6":"3px solid transparent",opacity:Ve?.6:1},children:[b.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 mb-1 italic max-w-full truncate",children:[Pe.author_name?`${Pe.author_name} (${Me?"Supervisor":"EIT"})`:"",Ve&&b.jsx("span",{className:"ml-2 text-green-600 font-semibold",children:"[Resolved]"}),b.jsx("span",{className:"ml-2",children:e.slice(Pe.location.start,Pe.location.end)})]}),b.jsx("div",{className:"text-slate-800 text-sm mb-1",children:Pe.annotation}),y[Pe.id]&&y[Pe.id].length>0&&b.jsx("div",{className:"mb-1 ml-4",children:y[Pe.id].map(Le=>b.jsxs("div",{className:"flex items-start gap-2 mb-1",children:[b.jsx($W,{size:14,className:"mt-1 text-slate-400"}),b.jsx("div",{children:b.jsx("span",{className:"text-xs text-slate-500",children:Le.content})})]},Le.id))}),!Ve&&b.jsxs("div",{className:"flex gap-2 mt-1 ml-4",children:[b.jsx("input",{type:"text",className:"input input-xs flex-1",placeholder:"Reply...",value:ge[Pe.id]||"",onChange:Le=>$({...ge,[Pe.id]:Le.target.value})}),b.jsx("button",{className:"btn btn-primary btn-xs",onClick:async()=>{var Ee;if(!Pe.id){console.error("Tried to fetch replies for undefined annotation id");return}if(!((Ee=ge[Pe.id])!=null&&Ee.trim()))return;await c(Pe.id,ge[Pe.id]),$({...ge,[Pe.id]:""});const Le=await l(Pe.id);v(we=>({...we,[Pe.id]:Le}))},children:"Reply"})]}),b.jsxs("div",{className:"flex gap-2 mt-2 ml-4",children:[!Ve&&b.jsxs("button",{className:"btn btn-success btn-xs",onClick:async()=>{if(!Pe.id){console.error("Tried to resolve annotation with undefined id");return}await u(Pe.id);const Le=await r(n);g(Le),X(Ee=>({...Ee,[Pe.id]:!0})),_===Pe.id&&A(null),De===Pe.id&&ie(null)},children:[b.jsx(k6,{size:14,className:"mr-1"}),"Resolve"]}),Ve&&b.jsxs("button",{className:"btn btn-danger btn-xs",onClick:async()=>{if(!Pe.id){console.error("Tried to delete annotation with undefined id");return}await h(Pe.id);const Le=await r(n);g(Le),De===Pe.id&&ie(null),_===Pe.id&&A(null)},children:[b.jsx(D0,{size:14,className:"mr-1"}),"Delete"]})]})]},Pe.id)})]})]})};let cxe={data:""},uxe=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||cxe,dxe=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,hxe=/\/\*[^]*?\*\/|  +/g,l$=/\n+/g,Np=(n,e)=>{let i="",r="",o="";for(let l in n){let c=n[l];l[0]=="@"?l[1]=="i"?i=l+" "+c+";":r+=l[1]=="f"?Np(c,l):l+"{"+Np(c,l[1]=="k"?"":e)+"}":typeof c=="object"?r+=Np(c,e?e.replace(/([^,])+/g,u=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,u):u?u+" "+h:h)):l):c!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Np.p?Np.p(l,c):l+":"+c+";")}return i+(e&&o?e+"{"+o+"}":o)+r},ch={},YZ=n=>{if(typeof n=="object"){let e="";for(let i in n)e+=i+YZ(n[i]);return e}return n},fxe=(n,e,i,r,o)=>{let l=YZ(n),c=ch[l]||(ch[l]=(h=>{let m=0,g=11;for(;m<h.length;)g=101*g+h.charCodeAt(m++)>>>0;return"go"+g})(l));if(!ch[c]){let h=l!==n?n:(m=>{let g,y,v=[{}];for(;g=dxe.exec(m.replace(hxe,""));)g[4]?v.shift():g[3]?(y=g[3].replace(l$," ").trim(),v.unshift(v[0][y]=v[0][y]||{})):v[0][g[1]]=g[2].replace(l$," ").trim();return v[0]})(n);ch[c]=Np(o?{["@keyframes "+c]:h}:h,i?"":"."+c)}let u=i&&ch.g?ch.g:null;return i&&(ch.g=ch[c]),((h,m,g,y)=>{y?m.data=m.data.replace(y,h):m.data.indexOf(h)===-1&&(m.data=g?h+m.data:m.data+h)})(ch[c],e,r,u),c},pxe=(n,e,i)=>n.reduce((r,o,l)=>{let c=e[l];if(c&&c.call){let u=c(i),h=u&&u.props&&u.props.className||/^go/.test(u)&&u;c=h?"."+h:u&&typeof u=="object"?u.props?"":Np(u,""):u===!1?"":u}return r+o+(c??"")},"");function g3(n){let e=this||{},i=n.call?n(e.p):n;return fxe(i.unshift?i.raw?pxe(i,[].slice.call(arguments,1),e.p):i.reduce((r,o)=>Object.assign(r,o&&o.call?o(e.p):o),{}):i,uxe(e.target),e.g,e.o,e.k)}let ZZ,N6,P6;g3.bind({g:1});let df=g3.bind({k:1});function mxe(n,e,i,r){Np.p=e,ZZ=n,N6=i,P6=r}function qm(n,e){let i=this||{};return function(){let r=arguments;function o(l,c){let u=Object.assign({},l),h=u.className||o.className;i.p=Object.assign({theme:N6&&N6()},u),i.o=/ *go\d+/.test(h),u.className=g3.apply(i,r)+(h?" "+h:"");let m=n;return n[0]&&(m=u.as||n,delete u.as),P6&&m[0]&&P6(u),ZZ(m,u)}return o}}var gxe=n=>typeof n=="function",X5=(n,e)=>gxe(n)?n(e):n,bxe=(()=>{let n=0;return()=>(++n).toString()})(),JZ=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),yxe=20,QZ=(n,e)=>{switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,yxe)};case 1:return{...n,toasts:n.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:i}=e;return QZ(n,{type:n.toasts.find(l=>l.id===i.id)?1:0,toast:i});case 3:let{toastId:r}=e;return{...n,toasts:n.toasts.map(l=>l.id===r||r===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let o=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+o}))}}},jD=[],db={toasts:[],pausedAt:void 0},W0=n=>{db=QZ(db,n),jD.forEach(e=>{e(db)})},vxe={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},wxe=(n={})=>{let[e,i]=H.useState(db),r=H.useRef(db);H.useEffect(()=>(r.current!==db&&i(db),jD.push(i),()=>{let l=jD.indexOf(i);l>-1&&jD.splice(l,1)}),[]);let o=e.toasts.map(l=>{var c,u,h;return{...n,...n[l.type],...l,removeDelay:l.removeDelay||((c=n[l.type])==null?void 0:c.removeDelay)||(n==null?void 0:n.removeDelay),duration:l.duration||((u=n[l.type])==null?void 0:u.duration)||(n==null?void 0:n.duration)||vxe[l.type],style:{...n.style,...(h=n[l.type])==null?void 0:h.style,...l.style}}});return{...e,toasts:o}},xxe=(n,e="blank",i)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...i,id:(i==null?void 0:i.id)||bxe()}),GS=n=>(e,i)=>{let r=xxe(e,n,i);return W0({type:2,toast:r}),r.id},ni=(n,e)=>GS("blank")(n,e);ni.error=GS("error");ni.success=GS("success");ni.loading=GS("loading");ni.custom=GS("custom");ni.dismiss=n=>{W0({type:3,toastId:n})};ni.remove=n=>W0({type:4,toastId:n});ni.promise=(n,e,i)=>{let r=ni.loading(e.loading,{...i,...i==null?void 0:i.loading});return typeof n=="function"&&(n=n()),n.then(o=>{let l=e.success?X5(e.success,o):void 0;return l?ni.success(l,{id:r,...i,...i==null?void 0:i.success}):ni.dismiss(r),o}).catch(o=>{let l=e.error?X5(e.error,o):void 0;l?ni.error(l,{id:r,...i,...i==null?void 0:i.error}):ni.dismiss(r)}),n};var _xe=(n,e)=>{W0({type:1,toast:{id:n,height:e}})},kxe=()=>{W0({type:5,time:Date.now()})},b2=new Map,Exe=1e3,Sxe=(n,e=Exe)=>{if(b2.has(n))return;let i=setTimeout(()=>{b2.delete(n),W0({type:4,toastId:n})},e);b2.set(n,i)},Axe=n=>{let{toasts:e,pausedAt:i}=wxe(n);H.useEffect(()=>{if(i)return;let l=Date.now(),c=e.map(u=>{if(u.duration===1/0)return;let h=(u.duration||0)+u.pauseDuration-(l-u.createdAt);if(h<0){u.visible&&ni.dismiss(u.id);return}return setTimeout(()=>ni.dismiss(u.id),h)});return()=>{c.forEach(u=>u&&clearTimeout(u))}},[e,i]);let r=H.useCallback(()=>{i&&W0({type:6,time:Date.now()})},[i]),o=H.useCallback((l,c)=>{let{reverseOrder:u=!1,gutter:h=8,defaultPosition:m}=c||{},g=e.filter(_=>(_.position||m)===(l.position||m)&&_.height),y=g.findIndex(_=>_.id===l.id),v=g.filter((_,A)=>A<y&&_.visible).length;return g.filter(_=>_.visible).slice(...u?[v+1]:[0,v]).reduce((_,A)=>_+(A.height||0)+h,0)},[e]);return H.useEffect(()=>{e.forEach(l=>{if(l.dismissed)Sxe(l.id,l.removeDelay);else{let c=b2.get(l.id);c&&(clearTimeout(c),b2.delete(l.id))}})},[e]),{toasts:e,handlers:{updateHeight:_xe,startPause:kxe,endPause:r,calculateOffset:o}}},Cxe=df`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Txe=df`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Dxe=df`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Nxe=qm("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Cxe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Txe} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Dxe} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Pxe=df`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,jxe=qm("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${Pxe} 1s linear infinite;
`,Ixe=df`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Rxe=df`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Mxe=qm("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ixe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Rxe} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Oxe=qm("div")`
  position: absolute;
`,Fxe=qm("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Uxe=df`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Lxe=qm("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Uxe} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Bxe=({toast:n})=>{let{icon:e,type:i,iconTheme:r}=n;return e!==void 0?typeof e=="string"?H.createElement(Lxe,null,e):e:i==="blank"?null:H.createElement(Fxe,null,H.createElement(jxe,{...r}),i!=="loading"&&H.createElement(Oxe,null,i==="error"?H.createElement(Nxe,{...r}):H.createElement(Mxe,{...r})))},zxe=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Vxe=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,Wxe="0%{opacity:0;} 100%{opacity:1;}",$xe="0%{opacity:1;} 100%{opacity:0;}",qxe=qm("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Hxe=qm("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Gxe=(n,e)=>{let i=n.includes("top")?1:-1,[r,o]=JZ()?[Wxe,$xe]:[zxe(i),Vxe(i)];return{animation:e?`${df(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${df(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Xxe=H.memo(({toast:n,position:e,style:i,children:r})=>{let o=n.height?Gxe(n.position||e||"top-center",n.visible):{opacity:0},l=H.createElement(Bxe,{toast:n}),c=H.createElement(Hxe,{...n.ariaProps},X5(n.message,n));return H.createElement(qxe,{className:n.className,style:{...o,...i,...n.style}},typeof r=="function"?r({icon:l,message:c}):H.createElement(H.Fragment,null,l,c))});mxe(H.createElement);var Kxe=({id:n,className:e,style:i,onHeightUpdate:r,children:o})=>{let l=H.useCallback(c=>{if(c){let u=()=>{let h=c.getBoundingClientRect().height;r(n,h)};u(),new MutationObserver(u).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[n,r]);return H.createElement("div",{ref:l,className:e,style:i},o)},Yxe=(n,e)=>{let i=n.includes("top"),r=i?{top:0}:{bottom:0},o=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:JZ()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(i?1:-1)}px)`,...r,...o}},Zxe=g3`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,YT=16,Jxe=({reverseOrder:n,position:e="top-center",toastOptions:i,gutter:r,children:o,containerStyle:l,containerClassName:c})=>{let{toasts:u,handlers:h}=Axe(i);return H.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:YT,left:YT,right:YT,bottom:YT,pointerEvents:"none",...l},className:c,onMouseEnter:h.startPause,onMouseLeave:h.endPause},u.map(m=>{let g=m.position||e,y=h.calculateOffset(m,{reverseOrder:n,gutter:r,defaultPosition:e}),v=Yxe(g,y);return H.createElement(Kxe,{id:m.id,key:m.id,onHeightUpdate:h.updateHeight,className:m.visible?Zxe:"",style:v},m.type==="custom"?X5(m.message,m):o?o(m):H.createElement(Xxe,{toast:m,position:g}))}))},ud=ni,nu={},Q8="1.13.7",c$=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},b3=Array.prototype,eF=Object.prototype,u$=typeof Symbol<"u"?Symbol.prototype:null,Qxe=b3.push,XS=b3.slice,X2=eF.toString,e_e=eF.hasOwnProperty,eJ=typeof ArrayBuffer<"u",t_e=typeof DataView<"u",n_e=Array.isArray,d$=Object.keys,h$=Object.create,f$=eJ&&ArrayBuffer.isView,i_e=isNaN,r_e=isFinite,tJ=!{toString:null}.propertyIsEnumerable("toString"),p$=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],s_e=Math.pow(2,53)-1;function jo(n,e){return e=e==null?n.length-1:+e,function(){for(var i=Math.max(arguments.length-e,0),r=Array(i),o=0;o<i;o++)r[o]=arguments[o+e];switch(e){case 0:return n.call(this,r);case 1:return n.call(this,arguments[0],r);case 2:return n.call(this,arguments[0],arguments[1],r)}var l=Array(e+1);for(o=0;o<e;o++)l[o]=arguments[o];return l[e]=r,n.apply(this,l)}}function Hm(n){var e=typeof n;return e==="function"||e==="object"&&!!n}function nJ(n){return n===null}function tF(n){return n===void 0}function nF(n){return n===!0||n===!1||X2.call(n)==="[object Boolean]"}function iJ(n){return!!(n&&n.nodeType===1)}function io(n){var e="[object "+n+"]";return function(i){return X2.call(i)===e}}const y3=io("String"),iF=io("Number"),rJ=io("Date"),sJ=io("RegExp"),oJ=io("Error"),rF=io("Symbol"),sF=io("ArrayBuffer");var aJ=io("Function"),o_e=c$.document&&c$.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof o_e!="function"&&(aJ=function(n){return typeof n=="function"||!1});const no=aJ,lJ=io("Object");var cJ=t_e&&(!/\[native code\]/.test(String(DataView))||lJ(new DataView(new ArrayBuffer(8)))),oF=typeof Map<"u"&&lJ(new Map),a_e=io("DataView");function l_e(n){return n!=null&&no(n.getInt8)&&sF(n.buffer)}const K2=cJ?l_e:a_e,Gm=n_e||io("Array");function Xm(n,e){return n!=null&&e_e.call(n,e)}var j6=io("Arguments");(function(){j6(arguments)||(j6=function(n){return Xm(n,"callee")})})();const v3=j6;function uJ(n){return!rF(n)&&r_e(n)&&!isNaN(parseFloat(n))}function aF(n){return iF(n)&&i_e(n)}function lF(n){return function(){return n}}function dJ(n){return function(e){var i=n(e);return typeof i=="number"&&i>=0&&i<=s_e}}function hJ(n){return function(e){return e==null?void 0:e[n]}}const K5=hJ("byteLength"),c_e=dJ(K5);var u_e=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function d_e(n){return f$?f$(n)&&!K2(n):c_e(n)&&u_e.test(X2.call(n))}const cF=eJ?d_e:lF(!1),ca=hJ("length");function h_e(n){for(var e={},i=n.length,r=0;r<i;++r)e[n[r]]=!0;return{contains:function(o){return e[o]===!0},push:function(o){return e[o]=!0,n.push(o)}}}function fJ(n,e){e=h_e(e);var i=p$.length,r=n.constructor,o=no(r)&&r.prototype||eF,l="constructor";for(Xm(n,l)&&!e.contains(l)&&e.push(l);i--;)l=p$[i],l in n&&n[l]!==o[l]&&!e.contains(l)&&e.push(l)}function jr(n){if(!Hm(n))return[];if(d$)return d$(n);var e=[];for(var i in n)Xm(n,i)&&e.push(i);return tJ&&fJ(n,e),e}function pJ(n){if(n==null)return!0;var e=ca(n);return typeof e=="number"&&(Gm(n)||y3(n)||v3(n))?e===0:ca(jr(n))===0}function uF(n,e){var i=jr(e),r=i.length;if(n==null)return!r;for(var o=Object(n),l=0;l<r;l++){var c=i[l];if(e[c]!==o[c]||!(c in o))return!1}return!0}function Hn(n){if(n instanceof Hn)return n;if(!(this instanceof Hn))return new Hn(n);this._wrapped=n}Hn.VERSION=Q8;Hn.prototype.value=function(){return this._wrapped};Hn.prototype.valueOf=Hn.prototype.toJSON=Hn.prototype.value;Hn.prototype.toString=function(){return String(this._wrapped)};function m$(n){return new Uint8Array(n.buffer||n,n.byteOffset||0,K5(n))}var g$="[object DataView]";function I6(n,e,i,r){if(n===e)return n!==0||1/n===1/e;if(n==null||e==null)return!1;if(n!==n)return e!==e;var o=typeof n;return o!=="function"&&o!=="object"&&typeof e!="object"?!1:mJ(n,e,i,r)}function mJ(n,e,i,r){n instanceof Hn&&(n=n._wrapped),e instanceof Hn&&(e=e._wrapped);var o=X2.call(n);if(o!==X2.call(e))return!1;if(cJ&&o=="[object Object]"&&K2(n)){if(!K2(e))return!1;o=g$}switch(o){case"[object RegExp]":case"[object String]":return""+n==""+e;case"[object Number]":return+n!=+n?+e!=+e:+n==0?1/+n===1/e:+n==+e;case"[object Date]":case"[object Boolean]":return+n==+e;case"[object Symbol]":return u$.valueOf.call(n)===u$.valueOf.call(e);case"[object ArrayBuffer]":case g$:return mJ(m$(n),m$(e),i,r)}var l=o==="[object Array]";if(!l&&cF(n)){var c=K5(n);if(c!==K5(e))return!1;if(n.buffer===e.buffer&&n.byteOffset===e.byteOffset)return!0;l=!0}if(!l){if(typeof n!="object"||typeof e!="object")return!1;var u=n.constructor,h=e.constructor;if(u!==h&&!(no(u)&&u instanceof u&&no(h)&&h instanceof h)&&"constructor"in n&&"constructor"in e)return!1}i=i||[],r=r||[];for(var m=i.length;m--;)if(i[m]===n)return r[m]===e;if(i.push(n),r.push(e),l){if(m=n.length,m!==e.length)return!1;for(;m--;)if(!I6(n[m],e[m],i,r))return!1}else{var g=jr(n),y;if(m=g.length,jr(e).length!==m)return!1;for(;m--;)if(y=g[m],!(Xm(e,y)&&I6(n[y],e[y],i,r)))return!1}return i.pop(),r.pop(),!0}function gJ(n,e){return I6(n,e)}function Q1(n){if(!Hm(n))return[];var e=[];for(var i in n)e.push(i);return tJ&&fJ(n,e),e}function dF(n){var e=ca(n);return function(i){if(i==null)return!1;var r=Q1(i);if(ca(r))return!1;for(var o=0;o<e;o++)if(!no(i[n[o]]))return!1;return n!==vJ||!no(i[hF])}}var hF="forEach",bJ="has",fF=["clear","delete"],yJ=["get",bJ,"set"],f_e=fF.concat(hF,yJ),vJ=fF.concat(yJ),p_e=["add"].concat(fF,hF,bJ);const wJ=oF?dF(f_e):io("Map"),xJ=oF?dF(vJ):io("WeakMap"),_J=oF?dF(p_e):io("Set"),kJ=io("WeakSet");function $0(n){for(var e=jr(n),i=e.length,r=Array(i),o=0;o<i;o++)r[o]=n[e[o]];return r}function EJ(n){for(var e=jr(n),i=e.length,r=Array(i),o=0;o<i;o++)r[o]=[e[o],n[e[o]]];return r}function pF(n){for(var e={},i=jr(n),r=0,o=i.length;r<o;r++)e[n[i[r]]]=i[r];return e}function Y2(n){var e=[];for(var i in n)no(n[i])&&e.push(i);return e.sort()}function mF(n,e){return function(i){var r=arguments.length;if(e&&(i=Object(i)),r<2||i==null)return i;for(var o=1;o<r;o++)for(var l=arguments[o],c=n(l),u=c.length,h=0;h<u;h++){var m=c[h];(!e||i[m]===void 0)&&(i[m]=l[m])}return i}}const gF=mF(Q1),M1=mF(jr),bF=mF(Q1,!0);function m_e(){return function(){}}function SJ(n){if(!Hm(n))return{};if(h$)return h$(n);var e=m_e();e.prototype=n;var i=new e;return e.prototype=null,i}function AJ(n,e){var i=SJ(n);return e&&M1(i,e),i}function CJ(n){return Hm(n)?Gm(n)?n.slice():gF({},n):n}function TJ(n,e){return e(n),n}function yF(n){return Gm(n)?n:[n]}Hn.toPath=yF;function KS(n){return Hn.toPath(n)}function vF(n,e){for(var i=e.length,r=0;r<i;r++){if(n==null)return;n=n[e[r]]}return i?n:void 0}function wF(n,e,i){var r=vF(n,KS(e));return tF(r)?i:r}function DJ(n,e){e=KS(e);for(var i=e.length,r=0;r<i;r++){var o=e[r];if(!Xm(n,o))return!1;n=n[o]}return!!i}function w3(n){return n}function N0(n){return n=M1({},n),function(e){return uF(e,n)}}function x3(n){return n=KS(n),function(e){return vF(e,n)}}function YS(n,e,i){if(e===void 0)return n;switch(i??3){case 1:return function(r){return n.call(e,r)};case 3:return function(r,o,l){return n.call(e,r,o,l)};case 4:return function(r,o,l,c){return n.call(e,r,o,l,c)}}return function(){return n.apply(e,arguments)}}function NJ(n,e,i){return n==null?w3:no(n)?YS(n,e,i):Hm(n)&&!Gm(n)?N0(n):x3(n)}function _3(n,e){return NJ(n,e,1/0)}Hn.iteratee=_3;function da(n,e,i){return Hn.iteratee!==_3?Hn.iteratee(n,e):NJ(n,e,i)}function PJ(n,e,i){e=da(e,i);for(var r=jr(n),o=r.length,l={},c=0;c<o;c++){var u=r[c];l[u]=e(n[u],u,n)}return l}function xF(){}function jJ(n){return n==null?xF:function(e){return wF(n,e)}}function IJ(n,e,i){var r=Array(Math.max(0,n));e=YS(e,i,1);for(var o=0;o<n;o++)r[o]=e(o);return r}function Y5(n,e){return e==null&&(e=n,n=0),n+Math.floor(Math.random()*(e-n+1))}const O1=Date.now||function(){return new Date().getTime()};function RJ(n){var e=function(l){return n[l]},i="(?:"+jr(n).join("|")+")",r=RegExp(i),o=RegExp(i,"g");return function(l){return l=l==null?"":""+l,r.test(l)?l.replace(o,e):l}}const MJ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},OJ=RJ(MJ),g_e=pF(MJ),FJ=RJ(g_e),UJ=Hn.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var jI=/(.)^/,b_e={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},y_e=/\\|'|\r|\n|\u2028|\u2029/g;function v_e(n){return"\\"+b_e[n]}var w_e=/^\s*(\w|\$)+\s*$/;function LJ(n,e,i){!e&&i&&(e=i),e=bF({},e,Hn.templateSettings);var r=RegExp([(e.escape||jI).source,(e.interpolate||jI).source,(e.evaluate||jI).source].join("|")+"|$","g"),o=0,l="__p+='";n.replace(r,function(m,g,y,v,_){return l+=n.slice(o,_).replace(y_e,v_e),o=_+m.length,g?l+=`'+
((__t=(`+g+`))==null?'':_.escape(__t))+
'`:y?l+=`'+
((__t=(`+y+`))==null?'':__t)+
'`:v&&(l+=`';
`+v+`
__p+='`),m}),l+=`';
`;var c=e.variable;if(c){if(!w_e.test(c))throw new Error("variable is not a bare identifier: "+c)}else l=`with(obj||{}){
`+l+`}
`,c="obj";l=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+l+`return __p;
`;var u;try{u=new Function(c,"_",l)}catch(m){throw m.source=l,m}var h=function(m){return u.call(this,m,Hn)};return h.source="function("+c+`){
`+l+"}",h}function BJ(n,e,i){e=KS(e);var r=e.length;if(!r)return no(i)?i.call(n):i;for(var o=0;o<r;o++){var l=n==null?void 0:n[e[o]];l===void 0&&(l=i,o=r),n=no(l)?l.call(n):l}return n}var x_e=0;function zJ(n){var e=++x_e+"";return n?n+e:e}function VJ(n){var e=Hn(n);return e._chain=!0,e}function WJ(n,e,i,r,o){if(!(r instanceof e))return n.apply(i,o);var l=SJ(n.prototype),c=n.apply(l,o);return Hm(c)?c:l}var q0=jo(function(n,e){var i=q0.placeholder,r=function(){for(var o=0,l=e.length,c=Array(l),u=0;u<l;u++)c[u]=e[u]===i?arguments[o++]:e[u];for(;o<arguments.length;)c.push(arguments[o++]);return WJ(n,r,this,this,c)};return r});q0.placeholder=Hn;const _F=jo(function(n,e,i){if(!no(n))throw new TypeError("Bind must be called on a function");var r=jo(function(o){return WJ(n,r,e,this,i.concat(o))});return r}),rl=dJ(ca);function H0(n,e,i,r){if(r=r||[],!e&&e!==0)e=1/0;else if(e<=0)return r.concat(n);for(var o=r.length,l=0,c=ca(n);l<c;l++){var u=n[l];if(rl(u)&&(Gm(u)||v3(u)))if(e>1)H0(u,e-1,i,r),o=r.length;else for(var h=0,m=u.length;h<m;)r[o++]=u[h++];else i||(r[o++]=u)}return r}const $J=jo(function(n,e){e=H0(e,!1,!1);var i=e.length;if(i<1)throw new Error("bindAll must be passed function names");for(;i--;){var r=e[i];n[r]=_F(n[r],n)}return n});function qJ(n,e){var i=function(r){var o=i.cache,l=""+(e?e.apply(this,arguments):r);return Xm(o,l)||(o[l]=n.apply(this,arguments)),o[l]};return i.cache={},i}const kF=jo(function(n,e,i){return setTimeout(function(){return n.apply(null,i)},e)}),HJ=q0(kF,Hn,1);function GJ(n,e,i){var r,o,l,c,u=0;i||(i={});var h=function(){u=i.leading===!1?0:O1(),r=null,c=n.apply(o,l),r||(o=l=null)},m=function(){var g=O1();!u&&i.leading===!1&&(u=g);var y=e-(g-u);return o=this,l=arguments,y<=0||y>e?(r&&(clearTimeout(r),r=null),u=g,c=n.apply(o,l),r||(o=l=null)):!r&&i.trailing!==!1&&(r=setTimeout(h,y)),c};return m.cancel=function(){clearTimeout(r),u=0,r=o=l=null},m}function XJ(n,e,i){var r,o,l,c,u,h=function(){var g=O1()-o;e>g?r=setTimeout(h,e-g):(r=null,i||(c=n.apply(u,l)),r||(l=u=null))},m=jo(function(g){return u=this,l=g,o=O1(),r||(r=setTimeout(h,e),i&&(c=n.apply(u,l))),c});return m.cancel=function(){clearTimeout(r),r=l=u=null},m}function KJ(n,e){return q0(e,n)}function k3(n){return function(){return!n.apply(this,arguments)}}function YJ(){var n=arguments,e=n.length-1;return function(){for(var i=e,r=n[e].apply(this,arguments);i--;)r=n[i].call(this,r);return r}}function ZJ(n,e){return function(){if(--n<1)return e.apply(this,arguments)}}function EF(n,e){var i;return function(){return--n>0&&(i=e.apply(this,arguments)),n<=1&&(e=null),i}}const JJ=q0(EF,2);function SF(n,e,i){e=da(e,i);for(var r=jr(n),o,l=0,c=r.length;l<c;l++)if(o=r[l],e(n[o],o,n))return o}function QJ(n){return function(e,i,r){i=da(i,r);for(var o=ca(e),l=n>0?0:o-1;l>=0&&l<o;l+=n)if(i(e[l],l,e))return l;return-1}}const E3=QJ(1),AF=QJ(-1);function CF(n,e,i,r){i=da(i,r,1);for(var o=i(e),l=0,c=ca(n);l<c;){var u=Math.floor((l+c)/2);i(n[u])<o?l=u+1:c=u}return l}function eQ(n,e,i){return function(r,o,l){var c=0,u=ca(r);if(typeof l=="number")n>0?c=l>=0?l:Math.max(l+u,c):u=l>=0?Math.min(l+1,u):l+u+1;else if(i&&l&&u)return l=i(r,o),r[l]===o?l:-1;if(o!==o)return l=e(XS.call(r,c,u),aF),l>=0?l+c:-1;for(l=n>0?c:u-1;l>=0&&l<u;l+=n)if(r[l]===o)return l;return-1}}const TF=eQ(1,E3,CF),tQ=eQ(-1,AF);function Z2(n,e,i){var r=rl(n)?E3:SF,o=r(n,e,i);if(o!==void 0&&o!==-1)return n[o]}function nQ(n,e){return Z2(n,N0(e))}function Qc(n,e,i){e=YS(e,i);var r,o;if(rl(n))for(r=0,o=n.length;r<o;r++)e(n[r],r,n);else{var l=jr(n);for(r=0,o=l.length;r<o;r++)e(n[l[r]],l[r],n)}return n}function hf(n,e,i){e=da(e,i);for(var r=!rl(n)&&jr(n),o=(r||n).length,l=Array(o),c=0;c<o;c++){var u=r?r[c]:c;l[c]=e(n[u],u,n)}return l}function iQ(n){var e=function(i,r,o,l){var c=!rl(i)&&jr(i),u=(c||i).length,h=n>0?0:u-1;for(l||(o=i[c?c[h]:h],h+=n);h>=0&&h<u;h+=n){var m=c?c[h]:h;o=r(o,i[m],m,i)}return o};return function(i,r,o,l){var c=arguments.length>=3;return e(i,YS(r,l,4),o,c)}}const uw=iQ(1),Z5=iQ(-1);function Im(n,e,i){var r=[];return e=da(e,i),Qc(n,function(o,l,c){e(o,l,c)&&r.push(o)}),r}function rQ(n,e,i){return Im(n,k3(da(e)),i)}function J5(n,e,i){e=da(e,i);for(var r=!rl(n)&&jr(n),o=(r||n).length,l=0;l<o;l++){var c=r?r[l]:l;if(!e(n[c],c,n))return!1}return!0}function Q5(n,e,i){e=da(e,i);for(var r=!rl(n)&&jr(n),o=(r||n).length,l=0;l<o;l++){var c=r?r[l]:l;if(e(n[c],c,n))return!0}return!1}function ic(n,e,i,r){return rl(n)||(n=$0(n)),(typeof i!="number"||r)&&(i=0),TF(n,e,i)>=0}const sQ=jo(function(n,e,i){var r,o;return no(e)?o=e:(e=KS(e),r=e.slice(0,-1),e=e[e.length-1]),hf(n,function(l){var c=o;if(!c){if(r&&r.length&&(l=vF(l,r)),l==null)return;c=l[e]}return c==null?c:c.apply(l,i)})});function S3(n,e){return hf(n,x3(e))}function oQ(n,e){return Im(n,N0(e))}function DF(n,e,i){var r=-1/0,o=-1/0,l,c;if(e==null||typeof e=="number"&&typeof n[0]!="object"&&n!=null){n=rl(n)?n:$0(n);for(var u=0,h=n.length;u<h;u++)l=n[u],l!=null&&l>r&&(r=l)}else e=da(e,i),Qc(n,function(m,g,y){c=e(m,g,y),(c>o||c===-1/0&&r===-1/0)&&(r=m,o=c)});return r}function aQ(n,e,i){var r=1/0,o=1/0,l,c;if(e==null||typeof e=="number"&&typeof n[0]!="object"&&n!=null){n=rl(n)?n:$0(n);for(var u=0,h=n.length;u<h;u++)l=n[u],l!=null&&l<r&&(r=l)}else e=da(e,i),Qc(n,function(m,g,y){c=e(m,g,y),(c<o||c===1/0&&r===1/0)&&(r=m,o=c)});return r}var __e=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function NF(n){return n?Gm(n)?XS.call(n):y3(n)?n.match(__e):rl(n)?hf(n,w3):$0(n):[]}function PF(n,e,i){if(e==null||i)return rl(n)||(n=$0(n)),n[Y5(n.length-1)];var r=NF(n),o=ca(r);e=Math.max(Math.min(e,o),0);for(var l=o-1,c=0;c<e;c++){var u=Y5(c,l),h=r[c];r[c]=r[u],r[u]=h}return r.slice(0,e)}function lQ(n){return PF(n,1/0)}function cQ(n,e,i){var r=0;return e=da(e,i),S3(hf(n,function(o,l,c){return{value:o,index:r++,criteria:e(o,l,c)}}).sort(function(o,l){var c=o.criteria,u=l.criteria;if(c!==u){if(c>u||c===void 0)return 1;if(c<u||u===void 0)return-1}return o.index-l.index}),"value")}function A3(n,e){return function(i,r,o){var l=e?[[],[]]:{};return r=da(r,o),Qc(i,function(c,u){var h=r(c,u,i);n(l,c,h)}),l}}const uQ=A3(function(n,e,i){Xm(n,i)?n[i].push(e):n[i]=[e]}),dQ=A3(function(n,e,i){n[i]=e}),hQ=A3(function(n,e,i){Xm(n,i)?n[i]++:n[i]=1}),fQ=A3(function(n,e,i){n[i?0:1].push(e)},!0);function pQ(n){return n==null?0:rl(n)?n.length:jr(n).length}function k_e(n,e,i){return e in i}const jF=jo(function(n,e){var i={},r=e[0];if(n==null)return i;no(r)?(e.length>1&&(r=YS(r,e[1])),e=Q1(n)):(r=k_e,e=H0(e,!1,!1),n=Object(n));for(var o=0,l=e.length;o<l;o++){var c=e[o],u=n[c];r(u,c,n)&&(i[c]=u)}return i}),mQ=jo(function(n,e){var i=e[0],r;return no(i)?(i=k3(i),e.length>1&&(r=e[1])):(e=hf(H0(e,!1,!1),String),i=function(o,l){return!ic(e,l)}),jF(n,i,r)});function IF(n,e,i){return XS.call(n,0,Math.max(0,n.length-(e==null||i?1:e)))}function dw(n,e,i){return n==null||n.length<1?e==null||i?void 0:[]:e==null||i?n[0]:IF(n,n.length-e)}function x0(n,e,i){return XS.call(n,e==null||i?1:e)}function gQ(n,e,i){return n==null||n.length<1?e==null||i?void 0:[]:e==null||i?n[n.length-1]:x0(n,Math.max(0,n.length-e))}function bQ(n){return Im(n,Boolean)}function yQ(n,e){return H0(n,e,!1)}const RF=jo(function(n,e){return e=H0(e,!0,!0),Im(n,function(i){return!ic(e,i)})}),vQ=jo(function(n,e){return RF(n,e)});function J2(n,e,i,r){nF(e)||(r=i,i=e,e=!1),i!=null&&(i=da(i,r));for(var o=[],l=[],c=0,u=ca(n);c<u;c++){var h=n[c],m=i?i(h,c,n):h;e&&!i?((!c||l!==m)&&o.push(h),l=m):i?ic(l,m)||(l.push(m),o.push(h)):ic(o,h)||o.push(h)}return o}const wQ=jo(function(n){return J2(H0(n,!0,!0))});function xQ(n){for(var e=[],i=arguments.length,r=0,o=ca(n);r<o;r++){var l=n[r];if(!ic(e,l)){var c;for(c=1;c<i&&ic(arguments[c],l);c++);c===i&&e.push(l)}}return e}function Q2(n){for(var e=n&&DF(n,ca).length||0,i=Array(e),r=0;r<e;r++)i[r]=S3(n,r);return i}const _Q=jo(Q2);function kQ(n,e){for(var i={},r=0,o=ca(n);r<o;r++)e?i[n[r]]=e[r]:i[n[r][0]]=n[r][1];return i}function EQ(n,e,i){e==null&&(e=n||0,n=0),i||(i=e<n?-1:1);for(var r=Math.max(Math.ceil((e-n)/i),0),o=Array(r),l=0;l<r;l++,n+=i)o[l]=n;return o}function SQ(n,e){if(e==null||e<1)return[];for(var i=[],r=0,o=n.length;r<o;)i.push(XS.call(n,r,r+=e));return i}function MF(n,e){return n._chain?Hn(e).chain():e}function OF(n){return Qc(Y2(n),function(e){var i=Hn[e]=n[e];Hn.prototype[e]=function(){var r=[this._wrapped];return Qxe.apply(r,arguments),MF(this,i.apply(Hn,r))}}),Hn}Qc(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var e=b3[n];Hn.prototype[n]=function(){var i=this._wrapped;return i!=null&&(e.apply(i,arguments),(n==="shift"||n==="splice")&&i.length===0&&delete i[0]),MF(this,i)}});Qc(["concat","join","slice"],function(n){var e=b3[n];Hn.prototype[n]=function(){var i=this._wrapped;return i!=null&&(i=e.apply(i,arguments)),MF(this,i)}});const E_e=Object.freeze(Object.defineProperty({__proto__:null,VERSION:Q8,after:ZJ,all:J5,allKeys:Q1,any:Q5,assign:M1,before:EF,bind:_F,bindAll:$J,chain:VJ,chunk:SQ,clone:CJ,collect:hf,compact:bQ,compose:YJ,constant:lF,contains:ic,countBy:hQ,create:AJ,debounce:XJ,default:Hn,defaults:bF,defer:HJ,delay:kF,detect:Z2,difference:RF,drop:x0,each:Qc,escape:OJ,every:J5,extend:gF,extendOwn:M1,filter:Im,find:Z2,findIndex:E3,findKey:SF,findLastIndex:AF,findWhere:nQ,first:dw,flatten:yQ,foldl:uw,foldr:Z5,forEach:Qc,functions:Y2,get:wF,groupBy:uQ,has:DJ,head:dw,identity:w3,include:ic,includes:ic,indexBy:dQ,indexOf:TF,initial:IF,inject:uw,intersection:xQ,invert:pF,invoke:sQ,isArguments:v3,isArray:Gm,isArrayBuffer:sF,isBoolean:nF,isDataView:K2,isDate:rJ,isElement:iJ,isEmpty:pJ,isEqual:gJ,isError:oJ,isFinite:uJ,isFunction:no,isMap:wJ,isMatch:uF,isNaN:aF,isNull:nJ,isNumber:iF,isObject:Hm,isRegExp:sJ,isSet:_J,isString:y3,isSymbol:rF,isTypedArray:cF,isUndefined:tF,isWeakMap:xJ,isWeakSet:kJ,iteratee:_3,keys:jr,last:gQ,lastIndexOf:tQ,map:hf,mapObject:PJ,matcher:N0,matches:N0,max:DF,memoize:qJ,methods:Y2,min:aQ,mixin:OF,negate:k3,noop:xF,now:O1,object:kQ,omit:mQ,once:JJ,pairs:EJ,partial:q0,partition:fQ,pick:jF,pluck:S3,property:x3,propertyOf:jJ,random:Y5,range:EQ,reduce:uw,reduceRight:Z5,reject:rQ,rest:x0,restArguments:jo,result:BJ,sample:PF,select:Im,shuffle:lQ,size:pQ,some:Q5,sortBy:cQ,sortedIndex:CF,tail:x0,take:dw,tap:TJ,template:LJ,templateSettings:UJ,throttle:GJ,times:IJ,toArray:NF,toPath:yF,transpose:Q2,unescape:FJ,union:wQ,uniq:J2,unique:J2,uniqueId:zJ,unzip:Q2,values:$0,where:oQ,without:vQ,wrap:KJ,zip:_Q},Symbol.toStringTag,{value:"Module"}));var R6=OF(E_e);R6._=R6;const S_e=Object.freeze(Object.defineProperty({__proto__:null,VERSION:Q8,after:ZJ,all:J5,allKeys:Q1,any:Q5,assign:M1,before:EF,bind:_F,bindAll:$J,chain:VJ,chunk:SQ,clone:CJ,collect:hf,compact:bQ,compose:YJ,constant:lF,contains:ic,countBy:hQ,create:AJ,debounce:XJ,default:R6,defaults:bF,defer:HJ,delay:kF,detect:Z2,difference:RF,drop:x0,each:Qc,escape:OJ,every:J5,extend:gF,extendOwn:M1,filter:Im,find:Z2,findIndex:E3,findKey:SF,findLastIndex:AF,findWhere:nQ,first:dw,flatten:yQ,foldl:uw,foldr:Z5,forEach:Qc,functions:Y2,get:wF,groupBy:uQ,has:DJ,head:dw,identity:w3,include:ic,includes:ic,indexBy:dQ,indexOf:TF,initial:IF,inject:uw,intersection:xQ,invert:pF,invoke:sQ,isArguments:v3,isArray:Gm,isArrayBuffer:sF,isBoolean:nF,isDataView:K2,isDate:rJ,isElement:iJ,isEmpty:pJ,isEqual:gJ,isError:oJ,isFinite:uJ,isFunction:no,isMap:wJ,isMatch:uF,isNaN:aF,isNull:nJ,isNumber:iF,isObject:Hm,isRegExp:sJ,isSet:_J,isString:y3,isSymbol:rF,isTypedArray:cF,isUndefined:tF,isWeakMap:xJ,isWeakSet:kJ,iteratee:_3,keys:jr,last:gQ,lastIndexOf:tQ,map:hf,mapObject:PJ,matcher:N0,matches:N0,max:DF,memoize:qJ,methods:Y2,min:aQ,mixin:OF,negate:k3,noop:xF,now:O1,object:kQ,omit:mQ,once:JJ,pairs:EJ,partial:q0,partition:fQ,pick:jF,pluck:S3,property:x3,propertyOf:jJ,random:Y5,range:EQ,reduce:uw,reduceRight:Z5,reject:rQ,rest:x0,restArguments:jo,result:BJ,sample:PF,select:Im,shuffle:lQ,size:pQ,some:Q5,sortBy:cQ,sortedIndex:CF,tail:x0,take:dw,tap:TJ,template:LJ,templateSettings:UJ,throttle:GJ,times:IJ,toArray:NF,toPath:yF,transpose:Q2,unescape:FJ,union:wQ,uniq:J2,unique:J2,uniqueId:zJ,unzip:Q2,values:$0,where:oQ,without:vQ,wrap:KJ,zip:_Q},Symbol.toStringTag,{value:"Module"})),lr=jH(S_e);var FF={},is={},AQ={exports:{}},ZT={exports:{}},b$;function ex(){if(b$)return ZT.exports;b$=1;var n=function(){return this===void 0}();if(n)ZT.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:n,propertyIsWritable:function(g,y){var v=Object.getOwnPropertyDescriptor(g,y);return!!(!v||v.writable||v.set)}};else{var e={}.hasOwnProperty,i={}.toString,r={}.constructor.prototype,o=function(g){var y=[];for(var v in g)e.call(g,v)&&y.push(v);return y},l=function(g,y){return{value:g[y]}},c=function(g,y,v){return g[y]=v.value,g},u=function(g){return g},h=function(g){try{return Object(g).constructor.prototype}catch{return r}},m=function(g){try{return i.call(g)==="[object Array]"}catch{return!1}};ZT.exports={isArray:m,keys:o,names:o,defineProperty:c,getDescriptor:l,freeze:u,getPrototypeOf:h,isES5:n,propertyIsWritable:function(){return!0}}}return ZT.exports}var II,y$;function gi(){if(y$)return II;y$=1;var n={},e=ex(),i=typeof navigator>"u",r={e:{}},o,l=typeof self<"u"?self:typeof window<"u"?window:typeof Lt<"u"||Lt!==void 0?Lt:null;function c(){try{var Z=o;return o=null,Z.apply(this,arguments)}catch(xe){return r.e=xe,r}}function u(Z){return o=Z,c}var h=function(Z,xe){var Ae={}.hasOwnProperty;function Oe(){this.constructor=Z,this.constructor$=xe;for(var Pe in xe.prototype)Ae.call(xe.prototype,Pe)&&Pe.charAt(Pe.length-1)!=="$"&&(this[Pe+"$"]=xe.prototype[Pe])}return Oe.prototype=xe.prototype,Z.prototype=new Oe,Z.prototype};function m(Z){return Z==null||Z===!0||Z===!1||typeof Z=="string"||typeof Z=="number"}function g(Z){return typeof Z=="function"||typeof Z=="object"&&Z!==null}function y(Z){return m(Z)?new Error(V(Z)):Z}function v(Z,xe){var Ae=Z.length,Oe=new Array(Ae+1),Pe;for(Pe=0;Pe<Ae;++Pe)Oe[Pe]=Z[Pe];return Oe[Pe]=xe,Oe}function _(Z,xe,Ae){if(e.isES5){var Oe=Object.getOwnPropertyDescriptor(Z,xe);if(Oe!=null)return Oe.get==null&&Oe.set==null?Oe.value:Ae}else return{}.hasOwnProperty.call(Z,xe)?Z[xe]:void 0}function A(Z,xe,Ae){if(m(Z))return Z;var Oe={value:Ae,configurable:!0,enumerable:!1,writable:!0};return e.defineProperty(Z,xe,Oe),Z}function S(Z){throw Z}var C=function(){var Z=[Array.prototype,Object.prototype,Function.prototype],xe=function(Pe){for(var Me=0;Me<Z.length;++Me)if(Z[Me]===Pe)return!0;return!1};if(e.isES5){var Ae=Object.getOwnPropertyNames;return function(Pe){for(var Me=[],Ve=Object.create(null);Pe!=null&&!xe(Pe);){var Le;try{Le=Ae(Pe)}catch{return Me}for(var Ee=0;Ee<Le.length;++Ee){var we=Le[Ee];if(!Ve[we]){Ve[we]=!0;var ze=Object.getOwnPropertyDescriptor(Pe,we);ze!=null&&ze.get==null&&ze.set==null&&Me.push(we)}}Pe=e.getPrototypeOf(Pe)}return Me}}else{var Oe={}.hasOwnProperty;return function(Pe){if(xe(Pe))return[];var Me=[];e:for(var Ve in Pe)if(Oe.call(Pe,Ve))Me.push(Ve);else{for(var Le=0;Le<Z.length;++Le)if(Oe.call(Z[Le],Ve))continue e;Me.push(Ve)}return Me}}}(),T=/this\s*\.\s*\S+\s*=/;function N(Z){try{if(typeof Z=="function"){var xe=e.names(Z.prototype),Ae=e.isES5&&xe.length>1,Oe=xe.length>0&&!(xe.length===1&&xe[0]==="constructor"),Pe=T.test(Z+"")&&e.names(Z).length>0;if(Ae||Oe||Pe)return!0}return!1}catch{return!1}}function j(Z){return Z}var O=/^[a-z$_][a-z$_0-9]*$/i;function F(Z){return O.test(Z)}function U(Z,xe,Ae){for(var Oe=new Array(Z),Pe=0;Pe<Z;++Pe)Oe[Pe]=xe+Pe+Ae;return Oe}function V(Z){try{return Z+""}catch{return"[no string representation]"}}function B(Z){return Z!==null&&typeof Z=="object"&&typeof Z.message=="string"&&typeof Z.name=="string"}function K(Z){try{A(Z,"isOperational",!0)}catch{}}function oe(Z){return Z==null?!1:Z instanceof Error.__BluebirdErrorTypes__.OperationalError||Z.isOperational===!0}function me(Z){return B(Z)&&e.propertyIsWritable(Z,"stack")}var Q=function(){return"stack"in new Error?function(Z){return me(Z)?Z:new Error(V(Z))}:function(Z){if(me(Z))return Z;try{throw new Error(V(Z))}catch(xe){return xe}}}();function ge(Z){return{}.toString.call(Z)}function $(Z,xe,Ae){for(var Oe=e.names(Z),Pe=0;Pe<Oe.length;++Pe){var Me=Oe[Pe];if(Ae(Me))try{e.defineProperty(xe,Me,e.getDescriptor(Z,Me))}catch{}}}var De=function(Z){return e.isArray(Z)?Z:null};if(typeof Symbol<"u"&&Symbol.iterator){var ie=typeof Array.from=="function"?function(Z){return Array.from(Z)}:function(Z){for(var xe=[],Ae=Z[Symbol.iterator](),Oe;!(Oe=Ae.next()).done;)xe.push(Oe.value);return xe};De=function(Z){return e.isArray(Z)?Z:Z!=null&&typeof Z[Symbol.iterator]=="function"?ie(Z):null}}var ce=typeof process<"u"&&ge(process).toLowerCase()==="[object process]",X=typeof process<"u"&&typeof n<"u";function Y(Z){return X?n[Z]:void 0}function ne(){if(typeof Promise=="function")try{var Z=new Promise(function(){});if({}.toString.call(Z)==="[object Promise]")return Promise}catch{}}function ee(Z,xe){return Z.bind(xe)}var ue={isClass:N,isIdentifier:F,inheritedDataKeys:C,getDataPropertyOrDefault:_,thrower:S,isArray:e.isArray,asArray:De,notEnumerableProp:A,isPrimitive:m,isObject:g,isError:B,canEvaluate:i,errorObj:r,tryCatch:u,inherits:h,withAppended:v,maybeWrapAsError:y,toFastProperties:j,filledRange:U,toString:V,canAttachTrace:me,ensureErrorObject:Q,originatesFromRejection:oe,markAsOriginatingFromRejection:K,classString:ge,copyDescriptors:$,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:ce,hasEnvVariables:X,env:Y,global:l,getNativePromise:ne,domainBind:ee};ue.isRecentNode=ue.isNode&&function(){var Z=process.versions.node.split(".").map(Number);return Z[0]===0&&Z[1]>10||Z[0]>0}(),ue.isNode&&ue.toFastProperties(process);try{throw new Error}catch(Z){ue.lastLineError=Z}return II=ue,II}var JT={exports:{}},RI,v$;function A_e(){if(v$)return RI;v$=1;var n=gi(),e,i=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},r=n.getNativePromise();if(n.isNode&&typeof MutationObserver>"u"){var o=Lt.setImmediate,l=process.nextTick;e=n.isRecentNode?function(u){o.call(Lt,u)}:function(u){l.call(process,u)}}else if(typeof r=="function"&&typeof r.resolve=="function"){var c=r.resolve();e=function(u){c.then(u)}}else typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))?e=function(){var u=document.createElement("div"),h={attributes:!0},m=!1,g=document.createElement("div"),y=new MutationObserver(function(){u.classList.toggle("foo"),m=!1});y.observe(g,h);var v=function(){m||(m=!0,g.classList.toggle("foo"))};return function(A){var S=new MutationObserver(function(){S.disconnect(),A()});S.observe(u,h),v()}}():typeof setImmediate<"u"?e=function(u){setImmediate(u)}:typeof setTimeout<"u"?e=function(u){setTimeout(u,0)}:e=i;return RI=e,RI}var MI,w$;function C_e(){if(w$)return MI;w$=1;function n(i,r,o,l,c){for(var u=0;u<c;++u)o[u+l]=i[u+r],i[u+r]=void 0}function e(i){this._capacity=i,this._length=0,this._front=0}return e.prototype._willBeOverCapacity=function(i){return this._capacity<i},e.prototype._pushOne=function(i){var r=this.length();this._checkCapacity(r+1);var o=this._front+r&this._capacity-1;this[o]=i,this._length=r+1},e.prototype.push=function(i,r,o){var l=this.length()+3;if(this._willBeOverCapacity(l)){this._pushOne(i),this._pushOne(r),this._pushOne(o);return}var c=this._front+l-3;this._checkCapacity(l);var u=this._capacity-1;this[c+0&u]=i,this[c+1&u]=r,this[c+2&u]=o,this._length=l},e.prototype.shift=function(){var i=this._front,r=this[i];return this[i]=void 0,this._front=i+1&this._capacity-1,this._length--,r},e.prototype.length=function(){return this._length},e.prototype._checkCapacity=function(i){this._capacity<i&&this._resizeTo(this._capacity<<1)},e.prototype._resizeTo=function(i){var r=this._capacity;this._capacity=i;var o=this._front,l=this._length,c=o+l&r-1;n(this,0,this,r,c)},MI=e,MI}var x$;function T_e(){if(x$)return JT.exports;x$=1;var n;try{throw new Error}catch(h){n=h}var e=A_e(),i=C_e(),r=gi();function o(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new i(16),this._normalQueue=new i(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var h=this;this.drainQueues=function(){h._drainQueues()},this._schedule=e}o.prototype.setScheduler=function(h){var m=this._schedule;return this._schedule=h,this._customScheduler=!0,m},o.prototype.hasCustomScheduler=function(){return this._customScheduler},o.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},o.prototype.disableTrampolineIfNecessary=function(){r.hasDevTools&&(this._trampolineEnabled=!1)},o.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},o.prototype.fatalError=function(h,m){m?(process.stderr.write("Fatal "+(h instanceof Error?h.stack:h)+`
`),process.exit(2)):this.throwLater(h)},o.prototype.throwLater=function(h,m){if(arguments.length===1&&(m=h,h=function(){throw m}),typeof setTimeout<"u")setTimeout(function(){h(m)},0);else try{this._schedule(function(){h(m)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function l(h,m,g){this._lateQueue.push(h,m,g),this._queueTick()}function c(h,m,g){this._normalQueue.push(h,m,g),this._queueTick()}function u(h){this._normalQueue._pushOne(h),this._queueTick()}return r.hasDevTools?(o.prototype.invokeLater=function(h,m,g){this._trampolineEnabled?l.call(this,h,m,g):this._schedule(function(){setTimeout(function(){h.call(m,g)},100)})},o.prototype.invoke=function(h,m,g){this._trampolineEnabled?c.call(this,h,m,g):this._schedule(function(){h.call(m,g)})},o.prototype.settlePromises=function(h){this._trampolineEnabled?u.call(this,h):this._schedule(function(){h._settlePromises()})}):(o.prototype.invokeLater=l,o.prototype.invoke=c,o.prototype.settlePromises=u),o.prototype._drainQueue=function(h){for(;h.length()>0;){var m=h.shift();if(typeof m!="function"){m._settlePromises();continue}var g=h.shift(),y=h.shift();m.call(g,y)}},o.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},o.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},o.prototype._reset=function(){this._isTickUsed=!1},JT.exports=o,JT.exports.firstLineError=n,JT.exports}var OI,_$;function Rm(){if(_$)return OI;_$=1;var n=ex(),e=n.freeze,i=gi(),r=i.inherits,o=i.notEnumerableProp;function l(T,N){function j(O){if(!(this instanceof j))return new j(O);o(this,"message",typeof O=="string"?O:N),o(this,"name",T),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return r(j,Error),j}var c,u,h=l("Warning","warning"),m=l("CancellationError","cancellation error"),g=l("TimeoutError","timeout error"),y=l("AggregateError","aggregate error");try{c=TypeError,u=RangeError}catch{c=l("TypeError","type error"),u=l("RangeError","range error")}for(var v="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),_=0;_<v.length;++_)typeof Array.prototype[v[_]]=="function"&&(y.prototype[v[_]]=Array.prototype[v[_]]);n.defineProperty(y.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),y.prototype.isOperational=!0;var A=0;y.prototype.toString=function(){var T=Array(A*4+1).join(" "),N=`
`+T+`AggregateError of:
`;A++,T=Array(A*4+1).join(" ");for(var j=0;j<this.length;++j){for(var O=this[j]===this?"[Circular AggregateError]":this[j]+"",F=O.split(`
`),U=0;U<F.length;++U)F[U]=T+F[U];O=F.join(`
`),N+=O+`
`}return A--,N};function S(T){if(!(this instanceof S))return new S(T);o(this,"name","OperationalError"),o(this,"message",T),this.cause=T,this.isOperational=!0,T instanceof Error?(o(this,"message",T.message),o(this,"stack",T.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}r(S,Error);var C=Error.__BluebirdErrorTypes__;return C||(C=e({CancellationError:m,TimeoutError:g,OperationalError:S,RejectionError:S,AggregateError:y}),n.defineProperty(Error,"__BluebirdErrorTypes__",{value:C,writable:!1,enumerable:!1,configurable:!1})),OI={Error,TypeError:c,RangeError:u,CancellationError:C.CancellationError,OperationalError:C.OperationalError,TimeoutError:C.TimeoutError,AggregateError:C.AggregateError,Warning:h},OI}var FI,k$;function D_e(){return k$||(k$=1,FI=function(n,e){var i=gi(),r=i.errorObj,o=i.isObject;function l(y,v){if(o(y)){if(y instanceof n)return y;var _=u(y);if(_===r){v&&v._pushContext();var A=n.reject(_.e);return v&&v._popContext(),A}else if(typeof _=="function"){if(m(y)){var A=new n(e);return y._then(A._fulfill,A._reject,void 0,A,null),A}return g(y,_,v)}}return y}function c(y){return y.then}function u(y){try{return c(y)}catch(v){return r.e=v,r}}var h={}.hasOwnProperty;function m(y){try{return h.call(y,"_promise0")}catch{return!1}}function g(y,v,_){var A=new n(e),S=A;_&&_._pushContext(),A._captureStackTrace(),_&&_._popContext();var C=!0,T=i.tryCatch(v).call(y,N,j);C=!1,A&&T===r&&(A._rejectCallback(T.e,!0,!0),A=null);function N(O){A&&(A._resolveCallback(O),A=null)}function j(O){A&&(A._rejectCallback(O,C,!0),A=null)}return S}return l}),FI}var UI,E$;function N_e(){return E$||(E$=1,UI=function(n,e,i,r,o){var l=gi();l.isArray;function c(h){switch(h){case-2:return[];case-3:return{}}}function u(h){var m=this._promise=new n(e);h instanceof n&&m._propagateFrom(h,3),m._setOnCancel(this),this._values=h,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return l.inherits(u,o),u.prototype.length=function(){return this._length},u.prototype.promise=function(){return this._promise},u.prototype._init=function h(m,g){var y=i(this._values,this._promise);if(y instanceof n){y=y._target();var v=y._bitField;if(this._values=y,v&50397184)if(v&33554432)y=y._value();else return v&16777216?this._reject(y._reason()):this._cancel();else return this._promise._setAsyncGuaranteed(),y._then(h,this._reject,void 0,this,g)}if(y=l.asArray(y),y===null){var _=r("expecting an array or an iterable object but got "+l.classString(y)).reason();this._promise._rejectCallback(_,!1);return}if(y.length===0){g===-5?this._resolveEmptyArray():this._resolve(c(g));return}this._iterate(y)},u.prototype._iterate=function(h){var m=this.getActualLength(h.length);this._length=m,this._values=this.shouldCopyValues()?new Array(m):this._values;for(var g=this._promise,y=!1,v=null,_=0;_<m;++_){var A=i(h[_],g);A instanceof n?(A=A._target(),v=A._bitField):v=null,y?v!==null&&A.suppressUnhandledRejections():v!==null?v&50397184?v&33554432?y=this._promiseFulfilled(A._value(),_):v&16777216?y=this._promiseRejected(A._reason(),_):y=this._promiseCancelled(_):(A._proxy(this,_),this._values[_]=A):y=this._promiseFulfilled(A,_)}y||g._setAsyncGuaranteed()},u.prototype._isResolved=function(){return this._values===null},u.prototype._resolve=function(h){this._values=null,this._promise._fulfill(h)},u.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},u.prototype._reject=function(h){this._values=null,this._promise._rejectCallback(h,!1)},u.prototype._promiseFulfilled=function(h,m){this._values[m]=h;var g=++this._totalResolved;return g>=this._length?(this._resolve(this._values),!0):!1},u.prototype._promiseCancelled=function(){return this._cancel(),!0},u.prototype._promiseRejected=function(h){return this._totalResolved++,this._reject(h),!0},u.prototype._resultCancelled=function(){if(!this._isResolved()){var h=this._values;if(this._cancel(),h instanceof n)h.cancel();else for(var m=0;m<h.length;++m)h[m]instanceof n&&h[m].cancel()}},u.prototype.shouldCopyValues=function(){return!0},u.prototype.getActualLength=function(h){return h},u}),UI}var LI,S$;function P_e(){return S$||(S$=1,LI=function(n){var e=!1,i=[];n.prototype._promiseCreated=function(){},n.prototype._pushContext=function(){},n.prototype._popContext=function(){return null},n._peekContext=n.prototype._peekContext=function(){};function r(){this._trace=new r.CapturedTrace(l())}r.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,i.push(this._trace))},r.prototype._popContext=function(){if(this._trace!==void 0){var c=i.pop(),u=c._promiseCreated;return c._promiseCreated=null,u}return null};function o(){if(e)return new r}function l(){var c=i.length-1;if(c>=0)return i[c]}return r.CapturedTrace=null,r.create=o,r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var c=n.prototype._pushContext,u=n.prototype._popContext,h=n._peekContext,m=n.prototype._peekContext,g=n.prototype._promiseCreated;r.deactivateLongStackTraces=function(){n.prototype._pushContext=c,n.prototype._popContext=u,n._peekContext=h,n.prototype._peekContext=m,n.prototype._promiseCreated=g,e=!1},e=!0,n.prototype._pushContext=r.prototype._pushContext,n.prototype._popContext=r.prototype._popContext,n._peekContext=n.prototype._peekContext=l,n.prototype._promiseCreated=function(){var y=this._peekContext();y&&y._promiseCreated==null&&(y._promiseCreated=this)}},r}),LI}var BI,A$;function j_e(){return A$||(A$=1,BI=function(n,e){var i=n._getDomain,r=n._async,o=Rm().Warning,l=gi(),c=l.canAttachTrace,u,h,m=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,g=/\((?:timers\.js):\d+:\d+\)/,y=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,v=null,_=null,A=!1,S,C=!!(l.env("BLUEBIRD_DEBUG")!=0&&(l.env("BLUEBIRD_DEBUG")||l.env("NODE_ENV")==="development")),T=!!(l.env("BLUEBIRD_WARNINGS")!=0&&(C||l.env("BLUEBIRD_WARNINGS"))),N=!!(l.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(C||l.env("BLUEBIRD_LONG_STACK_TRACES"))),j=l.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(T||!!l.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var Te=this._target();Te._bitField=Te._bitField&-1048577|524288},n.prototype._ensurePossibleRejectionHandled=function(){this._bitField&524288||(this._setRejectionIsUnhandled(),r.invokeLater(this._notifyUnhandledRejection,this,void 0))},n.prototype._notifyUnhandledRejectionIsHandled=function(){we("rejectionHandled",u,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},n.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var Te=this._settledValue();this._setUnhandledRejectionIsNotified(),we("unhandledRejection",h,Te,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},n.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},n.prototype._warn=function(Te,ke,le){return xe(Te,ke,le||this)},n.onPossiblyUnhandledRejection=function(Te){var ke=i();h=typeof Te=="function"?ke===null?Te:l.domainBind(ke,Te):void 0},n.onUnhandledRejectionHandled=function(Te){var ke=i();u=typeof Te=="function"?ke===null?Te:l.domainBind(ke,Te):void 0};var O=function(){};n.longStackTraces=function(){if(r.haveItemsQueued()&&!Fe.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!Fe.longStackTraces&&Ce()){var Te=n.prototype._captureStackTrace,ke=n.prototype._attachExtraTrace;Fe.longStackTraces=!0,O=function(){if(r.haveItemsQueued()&&!Fe.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);n.prototype._captureStackTrace=Te,n.prototype._attachExtraTrace=ke,e.deactivateLongStackTraces(),r.enableTrampoline(),Fe.longStackTraces=!1},n.prototype._captureStackTrace=ne,n.prototype._attachExtraTrace=ee,e.activateLongStackTraces(),r.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return Fe.longStackTraces&&Ce()};var F=function(){try{if(typeof CustomEvent=="function"){var Te=new CustomEvent("CustomEvent");return l.global.dispatchEvent(Te),function(ke,le){var Ue=new CustomEvent(ke.toLowerCase(),{detail:le,cancelable:!0});return!l.global.dispatchEvent(Ue)}}else if(typeof Event=="function"){var Te=new Event("CustomEvent");return l.global.dispatchEvent(Te),function(le,Ue){var et=new Event(le.toLowerCase(),{cancelable:!0});return et.detail=Ue,!l.global.dispatchEvent(et)}}else{var Te=document.createEvent("CustomEvent");return Te.initCustomEvent("testingtheevent",!1,!0,{}),l.global.dispatchEvent(Te),function(le,Ue){var et=document.createEvent("CustomEvent");return et.initCustomEvent(le.toLowerCase(),!1,!0,Ue),!l.global.dispatchEvent(et)}}}catch{}return function(){return!1}}(),U=function(){return l.isNode?function(){return process.emit.apply(process,arguments)}:l.global?function(Te){var ke="on"+Te.toLowerCase(),le=l.global[ke];return le?(le.apply(l.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}}();function V(Te,ke){return{promise:ke}}var B={promiseCreated:V,promiseFulfilled:V,promiseRejected:V,promiseResolved:V,promiseCancelled:V,promiseChained:function(Te,ke,le){return{promise:ke,child:le}},warning:function(Te,ke){return{warning:ke}},unhandledRejection:function(Te,ke,le){return{reason:ke,promise:le}},rejectionHandled:V},K=function(Te){var ke=!1;try{ke=U.apply(null,arguments)}catch(Ue){r.throwLater(Ue),ke=!0}var le=!1;try{le=F(Te,B[Te].apply(null,arguments))}catch(Ue){r.throwLater(Ue),le=!0}return le||ke};n.config=function(Te){if(Te=Object(Te),"longStackTraces"in Te&&(Te.longStackTraces?n.longStackTraces():!Te.longStackTraces&&n.hasLongStackTraces()&&O()),"warnings"in Te){var ke=Te.warnings;Fe.warnings=!!ke,j=Fe.warnings,l.isObject(ke)&&"wForgottenReturn"in ke&&(j=!!ke.wForgottenReturn)}if("cancellation"in Te&&Te.cancellation&&!Fe.cancellation){if(r.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=De,n.prototype._propagateFrom=ie,n.prototype._onCancel=ge,n.prototype._setOnCancel=$,n.prototype._attachCancellationCallback=Q,n.prototype._execute=me,X=ie,Fe.cancellation=!0}return"monitoring"in Te&&(Te.monitoring&&!Fe.monitoring?(Fe.monitoring=!0,n.prototype._fireEvent=K):!Te.monitoring&&Fe.monitoring&&(Fe.monitoring=!1,n.prototype._fireEvent=oe)),n};function oe(){return!1}n.prototype._fireEvent=oe,n.prototype._execute=function(Te,ke,le){try{Te(ke,le)}catch(Ue){return Ue}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(Te){},n.prototype._attachCancellationCallback=function(Te){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(Te,ke){};function me(Te,ke,le){var Ue=this;try{Te(ke,le,function(et){if(typeof et!="function")throw new TypeError("onCancel must be a function, got: "+l.toString(et));Ue._attachCancellationCallback(et)})}catch(et){return et}}function Q(Te){if(!this._isCancellable())return this;var ke=this._onCancel();ke!==void 0?l.isArray(ke)?ke.push(Te):this._setOnCancel([ke,Te]):this._setOnCancel(Te)}function ge(){return this._onCancelField}function $(Te){this._onCancelField=Te}function De(){this._cancellationParent=void 0,this._onCancelField=void 0}function ie(Te,ke){if(ke&1){this._cancellationParent=Te;var le=Te._branchesRemainingToCancel;le===void 0&&(le=0),Te._branchesRemainingToCancel=le+1}ke&2&&Te._isBound()&&this._setBoundTo(Te._boundTo)}function ce(Te,ke){ke&2&&Te._isBound()&&this._setBoundTo(Te._boundTo)}var X=ce;function Y(){var Te=this._boundTo;return Te!==void 0&&Te instanceof n?Te.isFulfilled()?Te.value():void 0:Te}function ne(){this._trace=new He(this._peekContext())}function ee(Te,ke){if(c(Te)){var le=this._trace;if(le!==void 0&&ke&&(le=le._parent),le!==void 0)le.attachExtraTrace(Te);else if(!Te.__stackCleaned__){var Ue=Le(Te);l.notEnumerableProp(Te,"stack",Ue.message+`
`+Ue.stack.join(`
`)),l.notEnumerableProp(Te,"__stackCleaned__",!0)}}}function ue(Te,ke,le,Ue,et){if(Te===void 0&&ke!==null&&j){if(et!==void 0&&et._returnedNonUndefined()||!(Ue._bitField&65535))return;le&&(le=le+" ");var nt="",ct="";if(ke._trace){for(var ht=ke._trace.stack.split(`
`),Pt=Me(ht),Bt=Pt.length-1;Bt>=0;--Bt){var bt=Pt[Bt];if(!g.test(bt)){var Yt=bt.match(y);Yt&&(nt="at "+Yt[1]+":"+Yt[2]+":"+Yt[3]+" ");break}}if(Pt.length>0){for(var mn=Pt[0],Bt=0;Bt<ht.length;++Bt)if(ht[Bt]===mn){Bt>0&&(ct=`
`+ht[Bt-1]);break}}}var qt="a promise was created in a "+le+"handler "+nt+"but was not returned from it, see http://goo.gl/rRqMUw"+ct;Ue._warn(qt,!0,ke)}}function Z(Te,ke){var le=Te+" is deprecated and will be removed in a future version.";return ke&&(le+=" Use "+ke+" instead."),xe(le)}function xe(Te,ke,le){if(Fe.warnings){var Ue=new o(Te),et;if(ke)le._attachExtraTrace(Ue);else if(Fe.longStackTraces&&(et=n._peekContext()))et.attachExtraTrace(Ue);else{var nt=Le(Ue);Ue.stack=nt.message+`
`+nt.stack.join(`
`)}K("warning",Ue)||Ee(Ue,"",!0)}}function Ae(Te,ke){for(var le=0;le<ke.length-1;++le)ke[le].push("From previous event:"),ke[le]=ke[le].join(`
`);return le<ke.length&&(ke[le]=ke[le].join(`
`)),Te+`
`+ke.join(`
`)}function Oe(Te){for(var ke=0;ke<Te.length;++ke)(Te[ke].length===0||ke+1<Te.length&&Te[ke][0]===Te[ke+1][0])&&(Te.splice(ke,1),ke--)}function Pe(Te){for(var ke=Te[0],le=1;le<Te.length;++le){for(var Ue=Te[le],et=ke.length-1,nt=ke[et],ct=-1,ht=Ue.length-1;ht>=0;--ht)if(Ue[ht]===nt){ct=ht;break}for(var ht=ct;ht>=0;--ht){var Pt=Ue[ht];if(ke[et]===Pt)ke.pop(),et--;else break}ke=Ue}}function Me(Te){for(var ke=[],le=0;le<Te.length;++le){var Ue=Te[le],et=Ue==="    (No stack trace)"||v.test(Ue),nt=et&&Ie(Ue);et&&!nt&&(A&&Ue.charAt(0)!==" "&&(Ue="    "+Ue),ke.push(Ue))}return ke}function Ve(Te){for(var ke=Te.stack.replace(/\s+$/g,"").split(`
`),le=0;le<ke.length;++le){var Ue=ke[le];if(Ue==="    (No stack trace)"||v.test(Ue))break}return le>0&&Te.name!="SyntaxError"&&(ke=ke.slice(le)),ke}function Le(Te){var ke=Te.stack,le=Te.toString();return ke=typeof ke=="string"&&ke.length>0?Ve(Te):["    (No stack trace)"],{message:le,stack:Te.name=="SyntaxError"?ke:Me(ke)}}function Ee(Te,ke,le){if(typeof console<"u"){var Ue;if(l.isObject(Te)){var et=Te.stack;Ue=ke+_(et,Te)}else Ue=ke+String(Te);typeof S=="function"?S(Ue,le):(typeof console.log=="function"||typeof console.log=="object")&&console.log(Ue)}}function we(Te,ke,le,Ue){var et=!1;try{typeof ke=="function"&&(et=!0,Te==="rejectionHandled"?ke(Ue):ke(le,Ue))}catch(nt){r.throwLater(nt)}Te==="unhandledRejection"?!K(Te,le,Ue)&&!et&&Ee(le,"Unhandled rejection "):K(Te,Ue)}function ze(Te){var ke;if(typeof Te=="function")ke="[function "+(Te.name||"anonymous")+"]";else{ke=Te&&typeof Te.toString=="function"?Te.toString():l.toString(Te);var le=/\[object [a-zA-Z0-9$_]+\]/;if(le.test(ke))try{var Ue=JSON.stringify(Te);ke=Ue}catch{}ke.length===0&&(ke="(empty array)")}return"(<"+G(ke)+">, no stack trace)"}function G(Te){var ke=41;return Te.length<ke?Te:Te.substr(0,ke-3)+"..."}function Ce(){return typeof qe=="function"}var Ie=function(){return!1},be=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function _e(Te){var ke=Te.match(be);if(ke)return{fileName:ke[1],line:parseInt(ke[2],10)}}function Se(Te,ke){if(Ce()){for(var le=Te.stack.split(`
`),Ue=ke.stack.split(`
`),et=-1,nt=-1,ct,ht,Pt=0;Pt<le.length;++Pt){var Bt=_e(le[Pt]);if(Bt){ct=Bt.fileName,et=Bt.line;break}}for(var Pt=0;Pt<Ue.length;++Pt){var Bt=_e(Ue[Pt]);if(Bt){ht=Bt.fileName,nt=Bt.line;break}}et<0||nt<0||!ct||!ht||ct!==ht||et>=nt||(Ie=function(bt){if(m.test(bt))return!0;var Yt=_e(bt);return!!(Yt&&Yt.fileName===ct&&et<=Yt.line&&Yt.line<=nt)})}}function He(Te){this._parent=Te,this._promisesCreated=0;var ke=this._length=1+(Te===void 0?0:Te._length);qe(this,He),ke>32&&this.uncycle()}l.inherits(He,Error),e.CapturedTrace=He,He.prototype.uncycle=function(){var Te=this._length;if(!(Te<2)){for(var ke=[],le={},Ue=0,et=this;et!==void 0;++Ue)ke.push(et),et=et._parent;Te=this._length=Ue;for(var Ue=Te-1;Ue>=0;--Ue){var nt=ke[Ue].stack;le[nt]===void 0&&(le[nt]=Ue)}for(var Ue=0;Ue<Te;++Ue){var ct=ke[Ue].stack,ht=le[ct];if(ht!==void 0&&ht!==Ue){ht>0&&(ke[ht-1]._parent=void 0,ke[ht-1]._length=1),ke[Ue]._parent=void 0,ke[Ue]._length=1;var Pt=Ue>0?ke[Ue-1]:this;ht<Te-1?(Pt._parent=ke[ht+1],Pt._parent.uncycle(),Pt._length=Pt._parent._length+1):(Pt._parent=void 0,Pt._length=1);for(var Bt=Pt._length+1,bt=Ue-2;bt>=0;--bt)ke[bt]._length=Bt,Bt++;return}}}},He.prototype.attachExtraTrace=function(Te){if(!Te.__stackCleaned__){this.uncycle();for(var ke=Le(Te),le=ke.message,Ue=[ke.stack],et=this;et!==void 0;)Ue.push(Me(et.stack.split(`
`))),et=et._parent;Pe(Ue),Oe(Ue),l.notEnumerableProp(Te,"stack",Ae(le,Ue)),l.notEnumerableProp(Te,"__stackCleaned__",!0)}};var qe=function(){var ke=/^\s*at\s*/,le=function(ct,ht){return typeof ct=="string"?ct:ht.name!==void 0&&ht.message!==void 0?ht.toString():ze(ht)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,v=ke,_=le;var Ue=Error.captureStackTrace;return Ie=function(ct){return m.test(ct)},function(ct,ht){Error.stackTraceLimit+=6,Ue(ct,ht),Error.stackTraceLimit-=6}}var et=new Error;if(typeof et.stack=="string"&&et.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return v=/@/,_=le,A=!0,function(ht){ht.stack=new Error().stack};var nt;try{throw new Error}catch(ct){nt="stack"in ct}return!("stack"in et)&&nt&&typeof Error.stackTraceLimit=="number"?(v=ke,_=le,function(ht){Error.stackTraceLimit+=6;try{throw new Error}catch(Pt){ht.stack=Pt.stack}Error.stackTraceLimit-=6}):(_=function(ct,ht){return typeof ct=="string"?ct:(typeof ht=="object"||typeof ht=="function")&&ht.name!==void 0&&ht.message!==void 0?ht.toString():ze(ht)},null)}();typeof console<"u"&&typeof console.warn<"u"&&(S=function(Te){console.warn(Te)},l.isNode&&process.stderr.isTTY?S=function(Te,ke){var le=ke?"\x1B[33m":"\x1B[31m";console.warn(le+Te+`\x1B[0m
`)}:!l.isNode&&typeof new Error().stack=="string"&&(S=function(Te,ke){console.warn("%c"+Te,ke?"color: darkorange":"color: red")}));var Fe={warnings:T,longStackTraces:!1,cancellation:!1,monitoring:!1};return N&&n.longStackTraces(),{longStackTraces:function(){return Fe.longStackTraces},warnings:function(){return Fe.warnings},cancellation:function(){return Fe.cancellation},monitoring:function(){return Fe.monitoring},propagateFromFunction:function(){return X},boundValueFunction:function(){return Y},checkForgottenReturns:ue,setBounds:Se,warn:xe,deprecated:Z,CapturedTrace:He,fireDomEvent:F,fireGlobalEvent:U}}),BI}var zI,C$;function I_e(){return C$||(C$=1,zI=function(n,e){var i=gi(),r=n.CancellationError,o=i.errorObj;function l(y,v,_){this.promise=y,this.type=v,this.handler=_,this.called=!1,this.cancelPromise=null}l.prototype.isFinallyHandler=function(){return this.type===0};function c(y){this.finallyHandler=y}c.prototype._resultCancelled=function(){u(this.finallyHandler)};function u(y,v){return y.cancelPromise!=null?(arguments.length>1?y.cancelPromise._reject(v):y.cancelPromise._cancel(),y.cancelPromise=null,!0):!1}function h(){return g.call(this,this.promise._target()._settledValue())}function m(y){if(!u(this,y))return o.e=y,o}function g(y){var v=this.promise,_=this.handler;if(!this.called){this.called=!0;var A=this.isFinallyHandler()?_.call(v._boundValue()):_.call(v._boundValue(),y);if(A!==void 0){v._setReturnedNonUndefined();var S=e(A,v);if(S instanceof n){if(this.cancelPromise!=null)if(S._isCancelled()){var C=new r("late cancellation observer");return v._attachExtraTrace(C),o.e=C,o}else S.isPending()&&S._attachCancellationCallback(new c(this));return S._then(h,m,void 0,this,void 0)}}}return v.isRejected()?(u(this),o.e=y,o):(u(this),y)}return n.prototype._passThrough=function(y,v,_,A){return typeof y!="function"?this.then():this._then(_,A,void 0,new l(this,v,y),void 0)},n.prototype.lastly=n.prototype.finally=function(y){return this._passThrough(y,0,g,g)},n.prototype.tap=function(y){return this._passThrough(y,1,g)},l}),zI}var VI,T$;function R_e(){return T$||(T$=1,VI=function(n){var e=gi(),i=ex().keys,r=e.tryCatch,o=e.errorObj;function l(c,u,h){return function(m){var g=h._boundValue();e:for(var y=0;y<c.length;++y){var v=c[y];if(v===Error||v!=null&&v.prototype instanceof Error){if(m instanceof v)return r(u).call(g,m)}else if(typeof v=="function"){var _=r(v).call(g,m);if(_===o)return _;if(_)return r(u).call(g,m)}else if(e.isObject(m)){for(var A=i(v),S=0;S<A.length;++S){var C=A[S];if(v[C]!=m[C])continue e}return r(u).call(g,m)}}return n}}return l}),VI}var WI,D$;function CQ(){if(D$)return WI;D$=1;var n=gi(),e=n.maybeWrapAsError,i=Rm(),r=i.OperationalError,o=ex();function l(m){return m instanceof Error&&o.getPrototypeOf(m)===Error.prototype}var c=/^(?:name|message|stack|cause)$/;function u(m){var g;if(l(m)){g=new r(m),g.name=m.name,g.message=m.message,g.stack=m.stack;for(var y=o.keys(m),v=0;v<y.length;++v){var _=y[v];c.test(_)||(g[_]=m[_])}return g}return n.markAsOriginatingFromRejection(m),m}function h(m,g){return function(y,v){if(m!==null){if(y){var _=u(e(y));m._attachExtraTrace(_),m._reject(_)}else if(!g)m._fulfill(v);else{for(var A=arguments.length,S=new Array(Math.max(A-1,0)),C=1;C<A;++C)S[C-1]=arguments[C];m._fulfill(S)}m=null}}}return WI=h,WI}var $I,N$;function M_e(){return N$||(N$=1,$I=function(n,e,i,r,o){var l=gi(),c=l.tryCatch;n.method=function(u){if(typeof u!="function")throw new n.TypeError("expecting a function but got "+l.classString(u));return function(){var h=new n(e);h._captureStackTrace(),h._pushContext();var m=c(u).apply(this,arguments),g=h._popContext();return o.checkForgottenReturns(m,g,"Promise.method",h),h._resolveFromSyncValue(m),h}},n.attempt=n.try=function(u){if(typeof u!="function")return r("expecting a function but got "+l.classString(u));var h=new n(e);h._captureStackTrace(),h._pushContext();var m;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var g=arguments[1],y=arguments[2];m=l.isArray(g)?c(u).apply(y,g):c(u).call(y,g)}else m=c(u)();var v=h._popContext();return o.checkForgottenReturns(m,v,"Promise.try",h),h._resolveFromSyncValue(m),h},n.prototype._resolveFromSyncValue=function(u){u===l.errorObj?this._rejectCallback(u.e,!1):this._resolveCallback(u,!0)}}),$I}var qI,P$;function O_e(){return P$||(P$=1,qI=function(n,e,i,r){var o=!1,l=function(m,g){this._reject(g)},c=function(m,g){g.promiseRejectionQueued=!0,g.bindingPromise._then(l,l,null,this,m)},u=function(m,g){this._bitField&50397184||this._resolveCallback(g.target)},h=function(m,g){g.promiseRejectionQueued||this._reject(m)};n.prototype.bind=function(m){o||(o=!0,n.prototype._propagateFrom=r.propagateFromFunction(),n.prototype._boundValue=r.boundValueFunction());var g=i(m),y=new n(e);y._propagateFrom(this,1);var v=this._target();if(y._setBoundTo(g),g instanceof n){var _={promiseRejectionQueued:!1,promise:y,target:v,bindingPromise:g};v._then(e,c,void 0,y,_),g._then(u,h,void 0,y,_),y._setOnCancel(g)}else y._resolveCallback(v);return y},n.prototype._setBoundTo=function(m){m!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=m):this._bitField=this._bitField&-2097153},n.prototype._isBound=function(){return(this._bitField&2097152)===2097152},n.bind=function(m,g){return n.resolve(g).bind(m)}}),qI}var HI,j$;function F_e(){return j$||(j$=1,HI=function(n,e,i,r){var o=gi(),l=o.tryCatch,c=o.errorObj,u=n._async;n.prototype.break=n.prototype.cancel=function(){if(!r.cancellation())return this._warn("cancellation is disabled");for(var h=this,m=h;h._isCancellable();){if(!h._cancelBy(m)){m._isFollowing()?m._followee().cancel():m._cancelBranched();break}var g=h._cancellationParent;if(g==null||!g._isCancellable()){h._isFollowing()?h._followee().cancel():h._cancelBranched();break}else h._isFollowing()&&h._followee().cancel(),h._setWillBeCancelled(),m=h,h=g}},n.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},n.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},n.prototype._cancelBy=function(h){return h===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},n.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},n.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),u.invoke(this._cancelPromises,this,void 0))},n.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},n.prototype._unsetOnCancel=function(){this._onCancelField=void 0},n.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},n.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},n.prototype._doInvokeOnCancel=function(h,m){if(o.isArray(h))for(var g=0;g<h.length;++g)this._doInvokeOnCancel(h[g],m);else if(h!==void 0)if(typeof h=="function"){if(!m){var y=l(h).call(this._boundValue());y===c&&(this._attachExtraTrace(y.e),u.throwLater(y.e))}}else h._resultCancelled(this)},n.prototype._invokeOnCancel=function(){var h=this._onCancel();this._unsetOnCancel(),u.invoke(this._doInvokeOnCancel,this,h)},n.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},n.prototype._resultCancelled=function(){this.cancel()}}),HI}var GI,I$;function U_e(){return I$||(I$=1,GI=function(n){function e(){return this.value}function i(){throw this.reason}n.prototype.return=n.prototype.thenReturn=function(r){return r instanceof n&&r.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:r},void 0)},n.prototype.throw=n.prototype.thenThrow=function(r){return this._then(i,void 0,void 0,{reason:r},void 0)},n.prototype.catchThrow=function(r){if(arguments.length<=1)return this._then(void 0,i,void 0,{reason:r},void 0);var o=arguments[1],l=function(){throw o};return this.caught(r,l)},n.prototype.catchReturn=function(r){if(arguments.length<=1)return r instanceof n&&r.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:r},void 0);var o=arguments[1];o instanceof n&&o.suppressUnhandledRejections();var l=function(){return o};return this.caught(r,l)}}),GI}var XI,R$;function L_e(){return R$||(R$=1,XI=function(n){function e(h){h!==void 0?(h=h._target(),this._bitField=h._bitField,this._settledValueField=h._isFateSealed()?h._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var i=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},o=e.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},l=e.prototype.isRejected=function(){return(this._bitField&16777216)!==0},c=e.prototype.isPending=function(){return(this._bitField&50397184)===0},u=e.prototype.isResolved=function(){return(this._bitField&50331648)!==0};e.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},n.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},n.prototype._isCancelled=function(){return this._target().__isCancelled()},n.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},n.prototype.isPending=function(){return c.call(this._target())},n.prototype.isRejected=function(){return l.call(this._target())},n.prototype.isFulfilled=function(){return o.call(this._target())},n.prototype.isResolved=function(){return u.call(this._target())},n.prototype.value=function(){return i.call(this._target())},n.prototype.reason=function(){var h=this._target();return h._unsetRejectionIsUnhandled(),r.call(h)},n.prototype._value=function(){return this._settledValue()},n.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},n.PromiseInspection=e}),XI}var KI,M$;function B_e(){return M$||(M$=1,KI=function(n,e,i,r,o,l){var c=gi(),u=c.canEvaluate,h=c.tryCatch,m=c.errorObj,g;if(u){for(var y=function(N){return new Function("value","holder",`                             
	            'use strict';                                                    
	            holder.pIndex = value;                                           
	            holder.checkFulfillment(this);                                   
	            `.replace(/Index/g,N))},v=function(N){return new Function("promise","holder",`                           
	            'use strict';                                                    
	            holder.pIndex = promise;                                         
	            `.replace(/Index/g,N))},_=function(N){for(var j=new Array(N),O=0;O<j.length;++O)j[O]="this.p"+(O+1);var F=j.join(" = ")+" = null;",U=`var promise;
`+j.map(function(oe){return`                                                         
	                promise = `+oe+`;                                      
	                if (promise instanceof Promise) {                            
	                    promise.cancel();                                        
	                }                                                            
	            `}).join(`
`),V=j.join(", "),B="Holder$"+N,K=`return function(tryCatch, errorObj, Promise, async) {    
	            'use strict';                                                    
	            function [TheName](fn) {                                         
	                [TheProperties]                                              
	                this.fn = fn;                                                
	                this.asyncNeeded = true;                                     
	                this.now = 0;                                                
	            }                                                                
	                                                                             
	            [TheName].prototype._callFunction = function(promise) {          
	                promise._pushContext();                                      
	                var ret = tryCatch(this.fn)([ThePassedArguments]);           
	                promise._popContext();                                       
	                if (ret === errorObj) {                                      
	                    promise._rejectCallback(ret.e, false);                   
	                } else {                                                     
	                    promise._resolveCallback(ret);                           
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype.checkFulfillment = function(promise) {       
	                var now = ++this.now;                                        
	                if (now === [TheTotal]) {                                    
	                    if (this.asyncNeeded) {                                  
	                        async.invoke(this._callFunction, this, promise);     
	                    } else {                                                 
	                        this._callFunction(promise);                         
	                    }                                                        
	                                                                             
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype._resultCancelled = function() {              
	                [CancellationCode]                                           
	            };                                                               
	                                                                             
	            return [TheName];                                                
	        }(tryCatch, errorObj, Promise, async);                               
	        `;return K=K.replace(/\[TheName\]/g,B).replace(/\[TheTotal\]/g,N).replace(/\[ThePassedArguments\]/g,V).replace(/\[TheProperties\]/g,F).replace(/\[CancellationCode\]/g,U),new Function("tryCatch","errorObj","Promise","async",K)(h,m,n,o)},A=[],S=[],C=[],T=0;T<8;++T)A.push(_(T+1)),S.push(y(T+1)),C.push(v(T+1));g=function(N){this._reject(N)}}n.join=function(){var N=arguments.length-1,j;if(N>0&&typeof arguments[N]=="function"&&(j=arguments[N],N<=8&&u)){var $=new n(r);$._captureStackTrace();for(var O=A[N-1],F=new O(j),U=S,V=0;V<N;++V){var B=i(arguments[V],$);if(B instanceof n){B=B._target();var K=B._bitField;K&50397184?K&33554432?U[V].call($,B._value(),F):K&16777216?$._reject(B._reason()):$._cancel():(B._then(U[V],g,void 0,$,F),C[V](B,F),F.asyncNeeded=!1)}else U[V].call($,B,F)}if(!$._isFateSealed()){if(F.asyncNeeded){var oe=l();oe!==null&&(F.fn=c.domainBind(oe,F.fn))}$._setAsyncGuaranteed(),$._setOnCancel(F)}return $}for(var me=arguments.length,Q=new Array(me),ge=0;ge<me;++ge)Q[ge]=arguments[ge];j&&Q.pop();var $=new e(Q).promise();return j!==void 0?$.spread(j):$}}),KI}var YI,O$;function z_e(){return O$||(O$=1,YI=function(n,e,i,r,o,l){var c=n._getDomain,u=gi(),h=u.tryCatch,m=u.errorObj,g=n._async;function y(_,A,S,C){this.constructor$(_),this._promise._captureStackTrace();var T=c();this._callback=T===null?A:u.domainBind(T,A),this._preservedValues=C===o?new Array(this.length()):null,this._limit=S,this._inFlight=0,this._queue=[],g.invoke(this._asyncInit,this,void 0)}u.inherits(y,e),y.prototype._asyncInit=function(){this._init$(void 0,-2)},y.prototype._init=function(){},y.prototype._promiseFulfilled=function(_,A){var S=this._values,C=this.length(),T=this._preservedValues,N=this._limit;if(A<0){if(A=A*-1-1,S[A]=_,N>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(N>=1&&this._inFlight>=N)return S[A]=_,this._queue.push(A),!1;T!==null&&(T[A]=_);var j=this._promise,O=this._callback,F=j._boundValue();j._pushContext();var U=h(O).call(F,_,A,C),V=j._popContext();if(l.checkForgottenReturns(U,V,T!==null?"Promise.filter":"Promise.map",j),U===m)return this._reject(U.e),!0;var B=r(U,this._promise);if(B instanceof n){B=B._target();var K=B._bitField;if(K&50397184)if(K&33554432)U=B._value();else return K&16777216?(this._reject(B._reason()),!0):(this._cancel(),!0);else return N>=1&&this._inFlight++,S[A]=B,B._proxy(this,(A+1)*-1),!1}S[A]=U}var oe=++this._totalResolved;return oe>=C?(T!==null?this._filter(S,T):this._resolve(S),!0):!1},y.prototype._drainQueue=function(){for(var _=this._queue,A=this._limit,S=this._values;_.length>0&&this._inFlight<A;){if(this._isResolved())return;var C=_.pop();this._promiseFulfilled(S[C],C)}},y.prototype._filter=function(_,A){for(var S=A.length,C=new Array(S),T=0,N=0;N<S;++N)_[N]&&(C[T++]=A[N]);C.length=T,this._resolve(C)},y.prototype.preservedValues=function(){return this._preservedValues};function v(_,A,S,C){if(typeof A!="function")return i("expecting a function but got "+u.classString(A));var T=0;if(S!==void 0)if(typeof S=="object"&&S!==null){if(typeof S.concurrency!="number")return n.reject(new TypeError("'concurrency' must be a number but it is "+u.classString(S.concurrency)));T=S.concurrency}else return n.reject(new TypeError("options argument must be an object but it is "+u.classString(S)));return T=typeof T=="number"&&isFinite(T)&&T>=1?T:0,new y(_,A,T,C).promise()}n.prototype.map=function(_,A){return v(this,_,A,null)},n.map=function(_,A,S,C){return v(_,A,S,C)}}),YI}var ZI,F$;function V_e(){if(F$)return ZI;F$=1;var n=Object.create;if(n){var e=n(null),i=n(null);e[" size"]=i[" size"]=0}return ZI=function(r){var o=gi(),l=o.canEvaluate,c=o.isIdentifier,u,h;{var m=function(C){return new Function("ensureMethod",`                                    
	        return function(obj) {                                               
	            'use strict'                                                     
	            var len = this.length;                                           
	            ensureMethod(obj, 'methodName');                                 
	            switch(len) {                                                    
	                case 1: return obj.methodName(this[0]);                      
	                case 2: return obj.methodName(this[0], this[1]);             
	                case 3: return obj.methodName(this[0], this[1], this[2]);    
	                case 0: return obj.methodName();                             
	                default:                                                     
	                    return obj.methodName.apply(obj, this);                  
	            }                                                                
	        };                                                                   
	        `.replace(/methodName/g,C))(v)},g=function(C){return new Function("obj",`                                             
	        'use strict';                                                        
	        return obj.propertyName;                                             
	        `.replace("propertyName",C))},y=function(C,T,N){var j=N[C];if(typeof j!="function"){if(!c(C))return null;if(j=T(C),N[C]=j,N[" size"]++,N[" size"]>512){for(var O=Object.keys(N),F=0;F<256;++F)delete N[O[F]];N[" size"]=O.length-256}}return j};u=function(C){return y(C,m,e)},h=function(C){return y(C,g,i)}}function v(C,T){var N;if(C!=null&&(N=C[T]),typeof N!="function"){var j="Object "+o.classString(C)+" has no method '"+o.toString(T)+"'";throw new r.TypeError(j)}return N}function _(C){var T=this.pop(),N=v(C,T);return N.apply(C,this)}r.prototype.call=function(C){for(var T=arguments.length,N=new Array(Math.max(T-1,0)),j=1;j<T;++j)N[j-1]=arguments[j];if(l){var O=u(C);if(O!==null)return this._then(O,void 0,void 0,N,void 0)}return N.push(C),this._then(_,void 0,void 0,N,void 0)};function A(C){return C[this]}function S(C){var T=+this;return T<0&&(T=Math.max(0,T+C.length)),C[T]}r.prototype.get=function(C){var T=typeof C=="number",N;if(T)N=S;else if(l){var j=h(C);N=j!==null?j:A}else N=A;return this._then(N,void 0,void 0,C,void 0)}},ZI}var JI,U$;function W_e(){return U$||(U$=1,JI=function(n,e,i,r,o,l){var c=gi(),u=Rm().TypeError,h=gi().inherits,m=c.errorObj,g=c.tryCatch,y={};function v(j){setTimeout(function(){throw j},0)}function _(j){var O=i(j);return O!==j&&typeof j._isDisposable=="function"&&typeof j._getDisposer=="function"&&j._isDisposable()&&O._setDisposable(j._getDisposer()),O}function A(j,O){var F=0,U=j.length,V=new n(o);function B(){if(F>=U)return V._fulfill();var K=_(j[F++]);if(K instanceof n&&K._isDisposable()){try{K=i(K._getDisposer().tryDispose(O),j.promise)}catch(oe){return v(oe)}if(K instanceof n)return K._then(B,v,null,null,null)}B()}return B(),V}function S(j,O,F){this._data=j,this._promise=O,this._context=F}S.prototype.data=function(){return this._data},S.prototype.promise=function(){return this._promise},S.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():y},S.prototype.tryDispose=function(j){var O=this.resource(),F=this._context;F!==void 0&&F._pushContext();var U=O!==y?this.doDispose(O,j):null;return F!==void 0&&F._popContext(),this._promise._unsetDisposable(),this._data=null,U},S.isDisposer=function(j){return j!=null&&typeof j.resource=="function"&&typeof j.tryDispose=="function"};function C(j,O,F){this.constructor$(j,O,F)}h(C,S),C.prototype.doDispose=function(j,O){var F=this.data();return F.call(j,j,O)};function T(j){return S.isDisposer(j)?(this.resources[this.index]._setDisposable(j),j.promise()):j}function N(j){this.length=j,this.promise=null,this[j-1]=null}N.prototype._resultCancelled=function(){for(var j=this.length,O=0;O<j;++O){var F=this[O];F instanceof n&&F.cancel()}},n.using=function(){var j=arguments.length;if(j<2)return e("you must pass at least 2 arguments to Promise.using");var O=arguments[j-1];if(typeof O!="function")return e("expecting a function but got "+c.classString(O));var F,U=!0;j===2&&Array.isArray(arguments[0])?(F=arguments[0],j=F.length,U=!1):(F=arguments,j--);for(var V=new N(j),B=0;B<j;++B){var K=F[B];if(S.isDisposer(K)){var oe=K;K=K.promise(),K._setDisposable(oe)}else{var me=i(K);me instanceof n&&(K=me._then(T,null,null,{resources:V,index:B},void 0))}V[B]=K}for(var Q=new Array(V.length),B=0;B<Q.length;++B)Q[B]=n.resolve(V[B]).reflect();var ge=n.all(Q).then(function(De){for(var ie=0;ie<De.length;++ie){var ce=De[ie];if(ce.isRejected())return m.e=ce.error(),m;if(!ce.isFulfilled()){ge.cancel();return}De[ie]=ce.value()}$._pushContext(),O=g(O);var X=U?O.apply(void 0,De):O(De),Y=$._popContext();return l.checkForgottenReturns(X,Y,"Promise.using",$),X}),$=ge.lastly(function(){var De=new n.PromiseInspection(ge);return A(V,De)});return V.promise=$,$._setOnCancel(V),$},n.prototype._setDisposable=function(j){this._bitField=this._bitField|131072,this._disposer=j},n.prototype._isDisposable=function(){return(this._bitField&131072)>0},n.prototype._getDisposer=function(){return this._disposer},n.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},n.prototype.disposer=function(j){if(typeof j=="function")return new C(j,this,r());throw new u}}),JI}var QI,L$;function $_e(){return L$||(L$=1,QI=function(n,e,i){var r=gi(),o=n.TimeoutError;function l(y){this.handle=y}l.prototype._resultCancelled=function(){clearTimeout(this.handle)};var c=function(y){return u(+this).thenReturn(y)},u=n.delay=function(y,v){var _,A;return v!==void 0?(_=n.resolve(v)._then(c,null,null,y,void 0),i.cancellation()&&v instanceof n&&_._setOnCancel(v)):(_=new n(e),A=setTimeout(function(){_._fulfill()},+y),i.cancellation()&&_._setOnCancel(new l(A)),_._captureStackTrace()),_._setAsyncGuaranteed(),_};n.prototype.delay=function(y){return u(y,this)};var h=function(y,v,_){var A;typeof v!="string"?v instanceof Error?A=v:A=new o("operation timed out"):A=new o(v),r.markAsOriginatingFromRejection(A),y._attachExtraTrace(A),y._reject(A),_!=null&&_.cancel()};function m(y){return clearTimeout(this.handle),y}function g(y){throw clearTimeout(this.handle),y}n.prototype.timeout=function(y,v){y=+y;var _,A,S=new l(setTimeout(function(){_.isPending()&&h(_,v,A)},y));return i.cancellation()?(A=this.then(),_=A._then(m,g,void 0,S,void 0),_._setOnCancel(S)):_=this._then(m,g,void 0,S,void 0),_}}),QI}var e4,B$;function q_e(){return B$||(B$=1,e4=function(n,e,i,r,o,l){var c=Rm(),u=c.TypeError,h=gi(),m=h.errorObj,g=h.tryCatch,y=[];function v(A,S,C){for(var T=0;T<S.length;++T){C._pushContext();var N=g(S[T])(A);if(C._popContext(),N===m){C._pushContext();var j=n.reject(m.e);return C._popContext(),j}var O=r(N,C);if(O instanceof n)return O}return null}function _(A,S,C,T){if(l.cancellation()){var N=new n(i),j=this._finallyPromise=new n(i);this._promise=N.lastly(function(){return j}),N._captureStackTrace(),N._setOnCancel(this)}else{var O=this._promise=new n(i);O._captureStackTrace()}this._stack=T,this._generatorFunction=A,this._receiver=S,this._generator=void 0,this._yieldHandlers=typeof C=="function"?[C].concat(y):y,this._yieldedPromise=null,this._cancellationPhase=!1}h.inherits(_,o),_.prototype._isResolved=function(){return this._promise===null},_.prototype._cleanup=function(){this._promise=this._generator=null,l.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},_.prototype._promiseCancelled=function(){if(!this._isResolved()){var A=typeof this._generator.return<"u",S;if(A)this._promise._pushContext(),S=g(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var C=new n.CancellationError("generator .return() sentinel");n.coroutine.returnSentinel=C,this._promise._attachExtraTrace(C),this._promise._pushContext(),S=g(this._generator.throw).call(this._generator,C),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(S)}},_.prototype._promiseFulfilled=function(A){this._yieldedPromise=null,this._promise._pushContext();var S=g(this._generator.next).call(this._generator,A);this._promise._popContext(),this._continue(S)},_.prototype._promiseRejected=function(A){this._yieldedPromise=null,this._promise._attachExtraTrace(A),this._promise._pushContext();var S=g(this._generator.throw).call(this._generator,A);this._promise._popContext(),this._continue(S)},_.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof n){var A=this._yieldedPromise;this._yieldedPromise=null,A.cancel()}},_.prototype.promise=function(){return this._promise},_.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},_.prototype._continue=function(A){var S=this._promise;if(A===m)return this._cleanup(),this._cancellationPhase?S.cancel():S._rejectCallback(A.e,!1);var C=A.value;if(A.done===!0)return this._cleanup(),this._cancellationPhase?S.cancel():S._resolveCallback(C);var T=r(C,this._promise);if(!(T instanceof n)&&(T=v(T,this._yieldHandlers,this._promise),T===null)){this._promiseRejected(new u(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",C)+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}T=T._target();var N=T._bitField;N&50397184?N&33554432?n._async.invoke(this._promiseFulfilled,this,T._value()):N&16777216?n._async.invoke(this._promiseRejected,this,T._reason()):this._promiseCancelled():(this._yieldedPromise=T,T._proxy(this,null))},n.coroutine=function(A,S){if(typeof A!="function")throw new u(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var C=Object(S).yieldHandler,T=_,N=new Error().stack;return function(){var j=A.apply(this,arguments),O=new T(void 0,void 0,C,N),F=O.promise();return O._generator=j,O._promiseFulfilled(void 0),F}},n.coroutine.addYieldHandler=function(A){if(typeof A!="function")throw new u("expecting a function but got "+h.classString(A));y.push(A)},n.spawn=function(A){if(l.deprecated("Promise.spawn()","Promise.coroutine()"),typeof A!="function")return e(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var S=new _(A,this),C=S.promise();return S._run(n.spawn),C}}),e4}var t4,z$;function H_e(){return z$||(z$=1,t4=function(n){var e=gi(),i=n._async,r=e.tryCatch,o=e.errorObj;function l(h,m){var g=this;if(!e.isArray(h))return c.call(g,h,m);var y=r(m).apply(g._boundValue(),[null].concat(h));y===o&&i.throwLater(y.e)}function c(h,m){var g=this,y=g._boundValue(),v=h===void 0?r(m).call(y,null):r(m).call(y,null,h);v===o&&i.throwLater(v.e)}function u(h,m){var g=this;if(!h){var y=new Error(h+"");y.cause=h,h=y}var v=r(m).call(g._boundValue(),h);v===o&&i.throwLater(v.e)}n.prototype.asCallback=n.prototype.nodeify=function(h,m){if(typeof h=="function"){var g=c;m!==void 0&&Object(m).spread&&(g=l),this._then(g,u,void 0,this,h)}return this}}),t4}var n4,V$;function G_e(){return V$||(V$=1,n4=function(n,e){var i={},r=gi(),o=CQ(),l=r.withAppended,c=r.maybeWrapAsError,u=r.canEvaluate,h=Rm().TypeError,m="Async",g={__isPromisified__:!0},y=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],v=new RegExp("^(?:"+y.join("|")+")$"),_=function(ge){return r.isIdentifier(ge)&&ge.charAt(0)!=="_"&&ge!=="constructor"};function A(ge){return!v.test(ge)}function S(ge){try{return ge.__isPromisified__===!0}catch{return!1}}function C(ge,$,De){var ie=r.getDataPropertyOrDefault(ge,$+De,g);return ie?S(ie):!1}function T(ge,$,De){for(var ie=0;ie<ge.length;ie+=2){var ce=ge[ie];if(De.test(ce)){for(var X=ce.replace(De,""),Y=0;Y<ge.length;Y+=2)if(ge[Y]===X)throw new h(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",$))}}}function N(ge,$,De,ie){for(var ce=r.inheritedDataKeys(ge),X=[],Y=0;Y<ce.length;++Y){var ne=ce[Y],ee=ge[ne],ue=ie===_?!0:_(ne);typeof ee=="function"&&!S(ee)&&!C(ge,ne,$)&&ie(ne,ee,ge,ue)&&X.push(ne,ee)}return T(X,$,De),X}var j=function(ge){return ge.replace(/([$])/,"\\$")},O;{var F=function(ge){for(var $=[ge],De=Math.max(0,ge-1-3),ie=ge-1;ie>=De;--ie)$.push(ie);for(var ie=ge+1;ie<=3;++ie)$.push(ie);return $},U=function(ge){return r.filledRange(ge,"_arg","")},V=function(ge){return r.filledRange(Math.max(ge,3),"_arg","")},B=function(ge){return typeof ge.length=="number"?Math.max(Math.min(ge.length,1024),0):0};O=function(ge,$,De,ie,ce,X){var Y=Math.max(0,B(ie)-1),ne=F(Y),ee=typeof ge=="string"||$===i;function ue(Oe){var Pe=U(Oe).join(", "),Me=Oe>0?", ":"",Ve;return ee?Ve=`ret = callback.call(this, {{args}}, nodeback); break;
`:Ve=$===void 0?`ret = callback({{args}}, nodeback); break;
`:`ret = callback.call(receiver, {{args}}, nodeback); break;
`,Ve.replace("{{args}}",Pe).replace(", ",Me)}function Z(){for(var Oe="",Pe=0;Pe<ne.length;++Pe)Oe+="case "+ne[Pe]+":"+ue(ne[Pe]);return Oe+=`                                                             
	        default:                                                             
	            var args = new Array(len + 1);                                   
	            var i = 0;                                                       
	            for (var i = 0; i < len; ++i) {                                  
	               args[i] = arguments[i];                                       
	            }                                                                
	            args[i] = nodeback;                                              
	            [CodeForCall]                                                    
	            break;                                                           
	        `.replace("[CodeForCall]",ee?`ret = callback.apply(this, args);
`:`ret = callback.apply(receiver, args);
`),Oe}var xe=typeof ge=="string"?"this != null ? this['"+ge+"'] : fn":"fn",Ae=`'use strict';                                                
	        var ret = function (Parameters) {                                    
	            'use strict';                                                    
	            var len = arguments.length;                                      
	            var promise = new Promise(INTERNAL);                             
	            promise._captureStackTrace();                                    
	            var nodeback = nodebackForPromise(promise, `+X+`);   
	            var ret;                                                         
	            var callback = tryCatch([GetFunctionCode]);                      
	            switch(len) {                                                    
	                [CodeForSwitchCase]                                          
	            }                                                                
	            if (ret === errorObj) {                                          
	                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);
	            }                                                                
	            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     
	            return promise;                                                  
	        };                                                                   
	        notEnumerableProp(ret, '__isPromisified__', true);                   
	        return ret;                                                          
	    `.replace("[CodeForSwitchCase]",Z()).replace("[GetFunctionCode]",xe);return Ae=Ae.replace("Parameters",V(Y)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",Ae)(n,ie,$,l,c,o,r.tryCatch,r.errorObj,r.notEnumerableProp,e)}}function K(ge,$,De,ie,ce,X){var Y=function(){return this}(),ne=ge;typeof ne=="string"&&(ge=ie);function ee(){var ue=$;$===i&&(ue=this);var Z=new n(e);Z._captureStackTrace();var xe=typeof ne=="string"&&this!==Y?this[ne]:ge,Ae=o(Z,X);try{xe.apply(ue,l(arguments,Ae))}catch(Oe){Z._rejectCallback(c(Oe),!0,!0)}return Z._isFateSealed()||Z._setAsyncGuaranteed(),Z}return r.notEnumerableProp(ee,"__isPromisified__",!0),ee}var oe=u?O:K;function me(ge,$,De,ie,ce){for(var X=new RegExp(j($)+"$"),Y=N(ge,$,X,De),ne=0,ee=Y.length;ne<ee;ne+=2){var ue=Y[ne],Z=Y[ne+1],xe=ue+$;if(ie===oe)ge[xe]=oe(ue,i,ue,Z,$,ce);else{var Ae=ie(Z,function(){return oe(ue,i,ue,Z,$,ce)});r.notEnumerableProp(Ae,"__isPromisified__",!0),ge[xe]=Ae}}return r.toFastProperties(ge),ge}function Q(ge,$,De){return oe(ge,$,void 0,ge,null,De)}n.promisify=function(ge,$){if(typeof ge!="function")throw new h("expecting a function but got "+r.classString(ge));if(S(ge))return ge;$=Object($);var De=$.context===void 0?i:$.context,ie=!!$.multiArgs,ce=Q(ge,De,ie);return r.copyDescriptors(ge,ce,A),ce},n.promisifyAll=function(ge,$){if(typeof ge!="function"&&typeof ge!="object")throw new h(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);$=Object($);var De=!!$.multiArgs,ie=$.suffix;typeof ie!="string"&&(ie=m);var ce=$.filter;typeof ce!="function"&&(ce=_);var X=$.promisifier;if(typeof X!="function"&&(X=oe),!r.isIdentifier(ie))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var Y=r.inheritedDataKeys(ge),ne=0;ne<Y.length;++ne){var ee=ge[Y[ne]];Y[ne]!=="constructor"&&r.isClass(ee)&&(me(ee.prototype,ie,ce,X,De),me(ee,ie,ce,X,De))}return me(ge,ie,ce,X,De)}}),n4}var i4,W$;function X_e(){return W$||(W$=1,i4=function(n,e,i,r){var o=gi(),l=o.isObject,c=ex(),u;typeof Map=="function"&&(u=Map);var h=function(){var v=0,_=0;function A(S,C){this[v]=S,this[v+_]=C,v++}return function(C){_=C.size,v=0;var T=new Array(C.size*2);return C.forEach(A,T),T}}(),m=function(v){for(var _=new u,A=v.length/2|0,S=0;S<A;++S){var C=v[A+S],T=v[S];_.set(C,T)}return _};function g(v){var _=!1,A;if(u!==void 0&&v instanceof u)A=h(v),_=!0;else{var S=c.keys(v),C=S.length;A=new Array(C*2);for(var T=0;T<C;++T){var N=S[T];A[T]=v[N],A[T+C]=N}}this.constructor$(A),this._isMap=_,this._init$(void 0,-3)}o.inherits(g,e),g.prototype._init=function(){},g.prototype._promiseFulfilled=function(v,_){this._values[_]=v;var A=++this._totalResolved;if(A>=this._length){var S;if(this._isMap)S=m(this._values);else{S={};for(var C=this.length(),T=0,N=this.length();T<N;++T)S[this._values[T+C]]=this._values[T]}return this._resolve(S),!0}return!1},g.prototype.shouldCopyValues=function(){return!1},g.prototype.getActualLength=function(v){return v>>1};function y(v){var _,A=i(v);if(l(A))A instanceof n?_=A._then(n.props,void 0,void 0,void 0,void 0):_=new g(A).promise();else return r(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return A instanceof n&&_._propagateFrom(A,2),_}n.prototype.props=function(){return y(this)},n.props=function(v){return y(v)}}),i4}var r4,$$;function K_e(){return $$||($$=1,r4=function(n,e,i,r){var o=gi(),l=function(u){return u.then(function(h){return c(h,u)})};function c(u,h){var m=i(u);if(m instanceof n)return l(m);if(u=o.asArray(u),u===null)return r("expecting an array or an iterable object but got "+o.classString(u));var g=new n(e);h!==void 0&&g._propagateFrom(h,3);for(var y=g._fulfill,v=g._reject,_=0,A=u.length;_<A;++_){var S=u[_];S===void 0&&!(_ in u)||n.cast(S)._then(y,v,void 0,g,null)}return g}n.race=function(u){return c(u,void 0)},n.prototype.race=function(){return c(this,void 0)}}),r4}var s4,q$;function Y_e(){return q$||(q$=1,s4=function(n,e,i,r,o,l){var c=n._getDomain,u=gi(),h=u.tryCatch;function m(A,S,C,T){this.constructor$(A);var N=c();this._fn=N===null?S:u.domainBind(N,S),C!==void 0&&(C=n.resolve(C),C._attachCancellationCallback(this)),this._initialValue=C,this._currentCancellable=null,T===o?this._eachValues=Array(this._length):T===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}u.inherits(m,e),m.prototype._gotAccum=function(A){this._eachValues!==void 0&&this._eachValues!==null&&A!==o&&this._eachValues.push(A)},m.prototype._eachComplete=function(A){return this._eachValues!==null&&this._eachValues.push(A),this._eachValues},m.prototype._init=function(){},m.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},m.prototype.shouldCopyValues=function(){return!1},m.prototype._resolve=function(A){this._promise._resolveCallback(A),this._values=null},m.prototype._resultCancelled=function(A){if(A===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof n&&this._currentCancellable.cancel(),this._initialValue instanceof n&&this._initialValue.cancel())},m.prototype._iterate=function(A){this._values=A;var S,C,T=A.length;if(this._initialValue!==void 0?(S=this._initialValue,C=0):(S=n.resolve(A[0]),C=1),this._currentCancellable=S,!S.isRejected())for(;C<T;++C){var N={accum:null,value:A[C],index:C,length:T,array:this};S=S._then(v,void 0,void 0,N,void 0)}this._eachValues!==void 0&&(S=S._then(this._eachComplete,void 0,void 0,this,void 0)),S._then(g,g,void 0,S,this)},n.prototype.reduce=function(A,S){return y(this,A,S,null)},n.reduce=function(A,S,C,T){return y(A,S,C,T)};function g(A,S){this.isFulfilled()?S._resolve(A):S._reject(A)}function y(A,S,C,T){if(typeof S!="function")return i("expecting a function but got "+u.classString(S));var N=new m(A,S,C,T);return N.promise()}function v(A){this.accum=A,this.array._gotAccum(A);var S=r(this.value,this.array._promise);return S instanceof n?(this.array._currentCancellable=S,S._then(_,void 0,void 0,this,void 0)):_.call(this,S)}function _(A){var S=this.array,C=S._promise,T=h(S._fn);C._pushContext();var N;S._eachValues!==void 0?N=T.call(C._boundValue(),A,this.index,this.length):N=T.call(C._boundValue(),this.accum,A,this.index,this.length),N instanceof n&&(S._currentCancellable=N);var j=C._popContext();return l.checkForgottenReturns(N,j,S._eachValues!==void 0?"Promise.each":"Promise.reduce",C),N}}),s4}var o4,H$;function Z_e(){return H$||(H$=1,o4=function(n,e,i){var r=n.PromiseInspection,o=gi();function l(c){this.constructor$(c)}o.inherits(l,e),l.prototype._promiseResolved=function(c,u){this._values[c]=u;var h=++this._totalResolved;return h>=this._length?(this._resolve(this._values),!0):!1},l.prototype._promiseFulfilled=function(c,u){var h=new r;return h._bitField=33554432,h._settledValueField=c,this._promiseResolved(u,h)},l.prototype._promiseRejected=function(c,u){var h=new r;return h._bitField=16777216,h._settledValueField=c,this._promiseResolved(u,h)},n.settle=function(c){return i.deprecated(".settle()",".reflect()"),new l(c).promise()},n.prototype.settle=function(){return n.settle(this)}}),o4}var a4,G$;function J_e(){return G$||(G$=1,a4=function(n,e,i){var r=gi(),o=Rm().RangeError,l=Rm().AggregateError,c=r.isArray,u={};function h(g){this.constructor$(g),this._howMany=0,this._unwrap=!1,this._initialized=!1}r.inherits(h,e),h.prototype._init=function(){if(this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var g=c(this._values);!this._isResolved()&&g&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},h.prototype.init=function(){this._initialized=!0,this._init()},h.prototype.setUnwrap=function(){this._unwrap=!0},h.prototype.howMany=function(){return this._howMany},h.prototype.setHowMany=function(g){this._howMany=g},h.prototype._promiseFulfilled=function(g){return this._addFulfilled(g),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},h.prototype._promiseRejected=function(g){return this._addRejected(g),this._checkOutcome()},h.prototype._promiseCancelled=function(){return this._values instanceof n||this._values==null?this._cancel():(this._addRejected(u),this._checkOutcome())},h.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var g=new l,y=this.length();y<this._values.length;++y)this._values[y]!==u&&g.push(this._values[y]);return g.length>0?this._reject(g):this._cancel(),!0}return!1},h.prototype._fulfilled=function(){return this._totalResolved},h.prototype._rejected=function(){return this._values.length-this.length()},h.prototype._addRejected=function(g){this._values.push(g)},h.prototype._addFulfilled=function(g){this._values[this._totalResolved++]=g},h.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},h.prototype._getRangeError=function(g){var y="Input array must contain at least "+this._howMany+" items but contains only "+g+" items";return new o(y)},h.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function m(g,y){if((y|0)!==y||y<0)return i(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var v=new h(g),_=v.promise();return v.setHowMany(y),v.init(),_}n.some=function(g,y){return m(g,y)},n.prototype.some=function(g){return m(this,g)},n._SomePromiseArray=h}),a4}var l4,X$;function Q_e(){return X$||(X$=1,l4=function(n,e){var i=n.map;n.prototype.filter=function(r,o){return i(this,r,o,e)},n.filter=function(r,o,l){return i(r,o,l,e)}}),l4}var c4,K$;function eke(){return K$||(K$=1,c4=function(n,e){var i=n.reduce,r=n.all;function o(){return r(this)}function l(c,u){return i(c,u,e,e)}n.prototype.each=function(c){return i(this,c,e,0)._then(o,void 0,void 0,this,void 0)},n.prototype.mapSeries=function(c){return i(this,c,e,e)},n.each=function(c,u){return i(c,u,e,0)._then(o,void 0,void 0,c,void 0)},n.mapSeries=l}),c4}var u4,Y$;function tke(){return Y$||(Y$=1,u4=function(n){var e=n._SomePromiseArray;function i(r){var o=new e(r),l=o.promise();return o.setHowMany(1),o.setUnwrap(),o.init(),l}n.any=function(r){return i(r)},n.prototype.any=function(){return i(this)}}),u4}(function(n){n.exports=function(){var e=function(){return new v(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},i=function(){return new Q.PromiseInspection(this._target())},r=function(ie){return Q.reject(new v(ie))};function o(){}var l={},c=gi(),u;c.isNode?u=function(){var ie=process.domain;return ie===void 0&&(ie=null),ie}:u=function(){return null},c.notEnumerableProp(Q,"_getDomain",u);var h=ex(),m=T_e(),g=new m;h.defineProperty(Q,"_async",{value:g});var y=Rm(),v=Q.TypeError=y.TypeError;Q.RangeError=y.RangeError;var _=Q.CancellationError=y.CancellationError;Q.TimeoutError=y.TimeoutError,Q.OperationalError=y.OperationalError,Q.RejectionError=y.OperationalError,Q.AggregateError=y.AggregateError;var A=function(){},S={},C={},T=D_e()(Q,A),N=N_e()(Q,A,T,r,o),j=P_e()(Q),O=j.create,F=j_e()(Q,j);F.CapturedTrace;var U=I_e()(Q,T),V=R_e()(C),B=CQ(),K=c.errorObj,oe=c.tryCatch;function me(ie,ce){if(typeof ce!="function")throw new v("expecting a function but got "+c.classString(ce));if(ie.constructor!==Q)throw new v(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`)}function Q(ie){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,ie!==A&&(me(this,ie),this._resolveFromExecutor(ie)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}Q.prototype.toString=function(){return"[object Promise]"},Q.prototype.caught=Q.prototype.catch=function(ie){var ce=arguments.length;if(ce>1){var X=new Array(ce-1),Y=0,ne;for(ne=0;ne<ce-1;++ne){var ee=arguments[ne];if(c.isObject(ee))X[Y++]=ee;else return r("expecting an object but got A catch statement predicate "+c.classString(ee))}return X.length=Y,ie=arguments[ne],this.then(void 0,V(X,ie,this))}return this.then(void 0,ie)},Q.prototype.reflect=function(){return this._then(i,i,void 0,this,void 0)},Q.prototype.then=function(ie,ce){if(F.warnings()&&arguments.length>0&&typeof ie!="function"&&typeof ce!="function"){var X=".then() only accepts functions but was passed: "+c.classString(ie);arguments.length>1&&(X+=", "+c.classString(ce)),this._warn(X)}return this._then(ie,ce,void 0,void 0,void 0)},Q.prototype.done=function(ie,ce){var X=this._then(ie,ce,void 0,void 0,void 0);X._setIsFinal()},Q.prototype.spread=function(ie){return typeof ie!="function"?r("expecting a function but got "+c.classString(ie)):this.all()._then(ie,void 0,void 0,S,void 0)},Q.prototype.toJSON=function(){var ie={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(ie.fulfillmentValue=this.value(),ie.isFulfilled=!0):this.isRejected()&&(ie.rejectionReason=this.reason(),ie.isRejected=!0),ie},Q.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new N(this).promise()},Q.prototype.error=function(ie){return this.caught(c.originatesFromRejection,ie)},Q.getNewLibraryCopy=n.exports,Q.is=function(ie){return ie instanceof Q},Q.fromNode=Q.fromCallback=function(ie){var ce=new Q(A);ce._captureStackTrace();var X=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,Y=oe(ie)(B(ce,X));return Y===K&&ce._rejectCallback(Y.e,!0),ce._isFateSealed()||ce._setAsyncGuaranteed(),ce},Q.all=function(ie){return new N(ie).promise()},Q.cast=function(ie){var ce=T(ie);return ce instanceof Q||(ce=new Q(A),ce._captureStackTrace(),ce._setFulfilled(),ce._rejectionHandler0=ie),ce},Q.resolve=Q.fulfilled=Q.cast,Q.reject=Q.rejected=function(ie){var ce=new Q(A);return ce._captureStackTrace(),ce._rejectCallback(ie,!0),ce},Q.setScheduler=function(ie){if(typeof ie!="function")throw new v("expecting a function but got "+c.classString(ie));return g.setScheduler(ie)},Q.prototype._then=function(ie,ce,X,Y,ne){var ee=ne!==void 0,ue=ee?ne:new Q(A),Z=this._target(),xe=Z._bitField;ee||(ue._propagateFrom(this,3),ue._captureStackTrace(),Y===void 0&&this._bitField&2097152&&(xe&50397184?Y=this._boundValue():Y=Z===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,ue));var Ae=u();if(xe&50397184){var Oe,Pe,Me=Z._settlePromiseCtx;xe&33554432?(Pe=Z._rejectionHandler0,Oe=ie):xe&16777216?(Pe=Z._fulfillmentHandler0,Oe=ce,Z._unsetRejectionIsUnhandled()):(Me=Z._settlePromiseLateCancellationObserver,Pe=new _("late cancellation observer"),Z._attachExtraTrace(Pe),Oe=ce),g.invoke(Me,Z,{handler:Ae===null?Oe:typeof Oe=="function"&&c.domainBind(Ae,Oe),promise:ue,receiver:Y,value:Pe})}else Z._addCallbacks(ie,ce,ue,Y,Ae);return ue},Q.prototype._length=function(){return this._bitField&65535},Q.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},Q.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},Q.prototype._setLength=function(ie){this._bitField=this._bitField&-65536|ie&65535},Q.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},Q.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},Q.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},Q.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},Q.prototype._isFinal=function(){return(this._bitField&4194304)>0},Q.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},Q.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},Q.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},Q.prototype._setAsyncGuaranteed=function(){g.hasCustomScheduler()||(this._bitField=this._bitField|134217728)},Q.prototype._receiverAt=function(ie){var ce=ie===0?this._receiver0:this[ie*4-4+3];if(ce!==l)return ce===void 0&&this._isBound()?this._boundValue():ce},Q.prototype._promiseAt=function(ie){return this[ie*4-4+2]},Q.prototype._fulfillmentHandlerAt=function(ie){return this[ie*4-4+0]},Q.prototype._rejectionHandlerAt=function(ie){return this[ie*4-4+1]},Q.prototype._boundValue=function(){},Q.prototype._migrateCallback0=function(ie){ie._bitField;var ce=ie._fulfillmentHandler0,X=ie._rejectionHandler0,Y=ie._promise0,ne=ie._receiverAt(0);ne===void 0&&(ne=l),this._addCallbacks(ce,X,Y,ne,null)},Q.prototype._migrateCallbackAt=function(ie,ce){var X=ie._fulfillmentHandlerAt(ce),Y=ie._rejectionHandlerAt(ce),ne=ie._promiseAt(ce),ee=ie._receiverAt(ce);ee===void 0&&(ee=l),this._addCallbacks(X,Y,ne,ee,null)},Q.prototype._addCallbacks=function(ie,ce,X,Y,ne){var ee=this._length();if(ee>=65531&&(ee=0,this._setLength(0)),ee===0)this._promise0=X,this._receiver0=Y,typeof ie=="function"&&(this._fulfillmentHandler0=ne===null?ie:c.domainBind(ne,ie)),typeof ce=="function"&&(this._rejectionHandler0=ne===null?ce:c.domainBind(ne,ce));else{var ue=ee*4-4;this[ue+2]=X,this[ue+3]=Y,typeof ie=="function"&&(this[ue+0]=ne===null?ie:c.domainBind(ne,ie)),typeof ce=="function"&&(this[ue+1]=ne===null?ce:c.domainBind(ne,ce))}return this._setLength(ee+1),ee},Q.prototype._proxy=function(ie,ce){this._addCallbacks(void 0,void 0,ce,ie,null)},Q.prototype._resolveCallback=function(ie,ce){if(!(this._bitField&117506048)){if(ie===this)return this._rejectCallback(e(),!1);var X=T(ie,this);if(!(X instanceof Q))return this._fulfill(ie);ce&&this._propagateFrom(X,2);var Y=X._target();if(Y===this){this._reject(e());return}var ne=Y._bitField;if(ne&50397184)if(ne&33554432)this._fulfill(Y._value());else if(ne&16777216)this._reject(Y._reason());else{var Z=new _("late cancellation observer");Y._attachExtraTrace(Z),this._reject(Z)}else{var ee=this._length();ee>0&&Y._migrateCallback0(this);for(var ue=1;ue<ee;++ue)Y._migrateCallbackAt(this,ue);this._setFollowing(),this._setLength(0),this._setFollowee(Y)}}},Q.prototype._rejectCallback=function(ie,ce,X){var Y=c.ensureErrorObject(ie),ne=Y===ie;if(!ne&&!X&&F.warnings()){var ee="a promise was rejected with a non-error: "+c.classString(ie);this._warn(ee,!0)}this._attachExtraTrace(Y,ce?ne:!1),this._reject(ie)},Q.prototype._resolveFromExecutor=function(ie){var ce=this;this._captureStackTrace(),this._pushContext();var X=!0,Y=this._execute(ie,function(ne){ce._resolveCallback(ne)},function(ne){ce._rejectCallback(ne,X)});X=!1,this._popContext(),Y!==void 0&&ce._rejectCallback(Y,!0)},Q.prototype._settlePromiseFromHandler=function(ie,ce,X,Y){var ne=Y._bitField;if(!(ne&65536)){Y._pushContext();var ee;ce===S?!X||typeof X.length!="number"?(ee=K,ee.e=new v("cannot .spread() a non-array: "+c.classString(X))):ee=oe(ie).apply(this._boundValue(),X):ee=oe(ie).call(ce,X);var ue=Y._popContext();ne=Y._bitField,!(ne&65536)&&(ee===C?Y._reject(X):ee===K?Y._rejectCallback(ee.e,!1):(F.checkForgottenReturns(ee,ue,"",Y,this),Y._resolveCallback(ee)))}},Q.prototype._target=function(){for(var ie=this;ie._isFollowing();)ie=ie._followee();return ie},Q.prototype._followee=function(){return this._rejectionHandler0},Q.prototype._setFollowee=function(ie){this._rejectionHandler0=ie},Q.prototype._settlePromise=function(ie,ce,X,Y){var ne=ie instanceof Q,ee=this._bitField,ue=(ee&134217728)!==0;ee&65536?(ne&&ie._invokeInternalOnCancel(),X instanceof U&&X.isFinallyHandler()?(X.cancelPromise=ie,oe(ce).call(X,Y)===K&&ie._reject(K.e)):ce===i?ie._fulfill(i.call(X)):X instanceof o?X._promiseCancelled(ie):ne||ie instanceof N?ie._cancel():X.cancel()):typeof ce=="function"?ne?(ue&&ie._setAsyncGuaranteed(),this._settlePromiseFromHandler(ce,X,Y,ie)):ce.call(X,Y,ie):X instanceof o?X._isResolved()||(ee&33554432?X._promiseFulfilled(Y,ie):X._promiseRejected(Y,ie)):ne&&(ue&&ie._setAsyncGuaranteed(),ee&33554432?ie._fulfill(Y):ie._reject(Y))},Q.prototype._settlePromiseLateCancellationObserver=function(ie){var ce=ie.handler,X=ie.promise,Y=ie.receiver,ne=ie.value;typeof ce=="function"?X instanceof Q?this._settlePromiseFromHandler(ce,Y,ne,X):ce.call(Y,ne,X):X instanceof Q&&X._reject(ne)},Q.prototype._settlePromiseCtx=function(ie){this._settlePromise(ie.promise,ie.handler,ie.receiver,ie.value)},Q.prototype._settlePromise0=function(ie,ce,X){var Y=this._promise0,ne=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(Y,ie,ne,ce)},Q.prototype._clearCallbackDataAtIndex=function(ie){var ce=ie*4-4;this[ce+2]=this[ce+3]=this[ce+0]=this[ce+1]=void 0},Q.prototype._fulfill=function(ie){var ce=this._bitField;if(!((ce&117506048)>>>16)){if(ie===this){var X=e();return this._attachExtraTrace(X),this._reject(X)}this._setFulfilled(),this._rejectionHandler0=ie,(ce&65535)>0&&(ce&134217728?this._settlePromises():g.settlePromises(this))}},Q.prototype._reject=function(ie){var ce=this._bitField;if(!((ce&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=ie,this._isFinal())return g.fatalError(ie,c.isNode);(ce&65535)>0?g.settlePromises(this):this._ensurePossibleRejectionHandled()}},Q.prototype._fulfillPromises=function(ie,ce){for(var X=1;X<ie;X++){var Y=this._fulfillmentHandlerAt(X),ne=this._promiseAt(X),ee=this._receiverAt(X);this._clearCallbackDataAtIndex(X),this._settlePromise(ne,Y,ee,ce)}},Q.prototype._rejectPromises=function(ie,ce){for(var X=1;X<ie;X++){var Y=this._rejectionHandlerAt(X),ne=this._promiseAt(X),ee=this._receiverAt(X);this._clearCallbackDataAtIndex(X),this._settlePromise(ne,Y,ee,ce)}},Q.prototype._settlePromises=function(){var ie=this._bitField,ce=ie&65535;if(ce>0){if(ie&16842752){var X=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,X,ie),this._rejectPromises(ce,X)}else{var Y=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,Y,ie),this._fulfillPromises(ce,Y)}this._setLength(0)}this._clearCancellationData()},Q.prototype._settledValue=function(){var ie=this._bitField;if(ie&33554432)return this._rejectionHandler0;if(ie&16777216)return this._fulfillmentHandler0};function ge(ie){this.promise._resolveCallback(ie)}function $(ie){this.promise._rejectCallback(ie,!1)}Q.defer=Q.pending=function(){F.deprecated("Promise.defer","new Promise");var ie=new Q(A);return{promise:ie,resolve:ge,reject:$}},c.notEnumerableProp(Q,"_makeSelfResolutionError",e),M_e()(Q,A,T,r,F),O_e()(Q,A,T,F),F_e()(Q,N,r,F),U_e()(Q),L_e()(Q),B_e()(Q,N,T,A,g,u),Q.Promise=Q,Q.version="3.4.7",z_e()(Q,N,r,T,A,F),V_e()(Q),W_e()(Q,r,T,O,A,F),$_e()(Q,A,F),q_e()(Q,r,A,T,o,F),H_e()(Q),G_e()(Q,A),X_e()(Q,N,T,r),K_e()(Q,A,T,r),Y_e()(Q,N,r,T,A,F),Z_e()(Q,N,F),J_e()(Q,N,r),Q_e()(Q,A),eke()(Q,A),tke()(Q),c.toFastProperties(Q),c.toFastProperties(Q.prototype);function De(ie){var ce=new Q(A);ce._fulfillmentHandler0=ie,ce._rejectionHandler0=ie,ce._promise0=ie,ce._receiver0=ie}return De({a:1}),De({b:2}),De({c:3}),De(1),De(function(){}),De(void 0),De(!1),De(new Q(A)),F.setBounds(m.firstLineError,c.lastLineError),Q}})(AQ);var nke=AQ.exports,ike=lr,ua=nke();is.defer=rke;is.when=ua.resolve;is.resolve=ua.resolve;is.all=ua.all;is.props=ua.props;is.reject=ua.reject;is.promisify=ua.promisify;is.mapSeries=ua.mapSeries;is.attempt=ua.attempt;is.nfcall=function(n){var e=Array.prototype.slice.call(arguments,1),i=ua.promisify(n);return i.apply(null,e)};ua.prototype.fail=ua.prototype.caught;ua.prototype.also=function(n){return this.then(function(e){var i=ike.extend({},e,n(e));return ua.props(i)})};function rke(){var n,e,i=new ua.Promise(function(r,o){n=r,e=o});return{resolve:n,reject:e,promise:i}}var _n={},ske=lr,Ns=_n.types={document:"document",paragraph:"paragraph",run:"run",text:"text",tab:"tab",checkbox:"checkbox",hyperlink:"hyperlink",noteReference:"noteReference",image:"image",note:"note",commentReference:"commentReference",comment:"comment",table:"table",tableRow:"tableRow",tableCell:"tableCell",break:"break",bookmarkStart:"bookmarkStart"};function oke(n,e){return e=e||{},{type:Ns.document,children:n,notes:e.notes||new C3({}),comments:e.comments||[]}}function ake(n,e){e=e||{};var i=e.indent||{};return{type:Ns.paragraph,children:n,styleId:e.styleId||null,styleName:e.styleName||null,numbering:e.numbering||null,alignment:e.alignment||null,indent:{start:i.start||null,end:i.end||null,firstLine:i.firstLine||null,hanging:i.hanging||null}}}function lke(n,e){return e=e||{},{type:Ns.run,children:n,styleId:e.styleId||null,styleName:e.styleName||null,isBold:!!e.isBold,isUnderline:!!e.isUnderline,isItalic:!!e.isItalic,isStrikethrough:!!e.isStrikethrough,isAllCaps:!!e.isAllCaps,isSmallCaps:!!e.isSmallCaps,verticalAlignment:e.verticalAlignment||TQ.baseline,font:e.font||null,fontSize:e.fontSize||null,highlight:e.highlight||null}}var TQ={baseline:"baseline",superscript:"superscript",subscript:"subscript"};function cke(n){return{type:Ns.text,value:n}}function uke(){return{type:Ns.tab}}function dke(n){return{type:Ns.checkbox,checked:n.checked}}function hke(n,e){return{type:Ns.hyperlink,children:n,href:e.href,anchor:e.anchor,targetFrame:e.targetFrame}}function fke(n){return{type:Ns.noteReference,noteType:n.noteType,noteId:n.noteId}}function C3(n){this._notes=ske.indexBy(n,function(e){return DQ(e.noteType,e.noteId)})}C3.prototype.resolve=function(n){return this.findNoteByKey(DQ(n.noteType,n.noteId))};C3.prototype.findNoteByKey=function(n){return this._notes[n]||null};function pke(n){return{type:Ns.note,noteType:n.noteType,noteId:n.noteId,body:n.body}}function mke(n){return{type:Ns.commentReference,commentId:n.commentId}}function gke(n){return{type:Ns.comment,commentId:n.commentId,body:n.body,authorName:n.authorName,authorInitials:n.authorInitials}}function DQ(n,e){return n+"-"+e}function bke(n){return{type:Ns.image,read:function(e){return e?n.readImage(e):n.readImage().then(function(i){return Buffer.from(i)})},readAsArrayBuffer:function(){return n.readImage()},readAsBase64String:function(){return n.readImage("base64")},readAsBuffer:function(){return n.readImage().then(function(e){return Buffer.from(e)})},altText:n.altText,contentType:n.contentType}}function yke(n,e){return e=e||{},{type:Ns.table,children:n,styleId:e.styleId||null,styleName:e.styleName||null}}function vke(n,e){return e=e||{},{type:Ns.tableRow,children:n,isHeader:e.isHeader||!1}}function wke(n,e){return e=e||{},{type:Ns.tableCell,children:n,colSpan:e.colSpan==null?1:e.colSpan,rowSpan:e.rowSpan==null?1:e.rowSpan}}function UF(n){return{type:Ns.break,breakType:n}}function xke(n){return{type:Ns.bookmarkStart,name:n.name}}_n.document=_n.Document=oke;_n.paragraph=_n.Paragraph=ake;_n.run=_n.Run=lke;_n.text=_n.Text=cke;_n.tab=_n.Tab=uke;_n.checkbox=_n.Checkbox=dke;_n.Hyperlink=hke;_n.noteReference=_n.NoteReference=fke;_n.Notes=C3;_n.Note=pke;_n.commentReference=mke;_n.comment=gke;_n.Image=bke;_n.Table=yke;_n.TableRow=vke;_n.TableCell=wke;_n.lineBreak=UF("line");_n.pageBreak=UF("page");_n.columnBreak=UF("column");_n.BookmarkStart=xke;_n.verticalAlignment=TQ;var sl={},eE=lr;sl.Result=xd;sl.success=_ke;sl.warning=kke;sl.error=Eke;function xd(n,e){this.value=n,this.messages=e||[]}xd.prototype.map=function(n){return new xd(n(this.value),this.messages)};xd.prototype.flatMap=function(n){var e=n(this.value);return new xd(e.value,LF([this,e]))};xd.prototype.flatMapThen=function(n){var e=this;return n(this.value).then(function(i){return new xd(i.value,LF([e,i]))})};xd.combine=function(n){var e=eE.flatten(eE.pluck(n,"value")),i=LF(n);return new xd(e,i)};function _ke(n){return new xd(n,[])}function kke(n){return{type:"warning",message:n}}function Eke(n){return{type:"error",message:n.message,error:n}}function LF(n){var e=[];return eE.flatten(eE.pluck(n,"messages"),!0).forEach(function(i){Ske(e,i)||e.push(i)}),e}function Ske(n,e){return eE.find(n,Ake.bind(null,e))!==void 0}function Ake(n,e){return n.type===e.type&&n.message===e.message}var ZS={},T3={};T3.byteLength=Dke;T3.toByteArray=Pke;T3.fromByteArray=Rke;var hd=[],Bl=[],Cke=typeof Uint8Array<"u"?Uint8Array:Array,d4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var yv=0,Tke=d4.length;yv<Tke;++yv)hd[yv]=d4[yv],Bl[d4.charCodeAt(yv)]=yv;Bl[45]=62;Bl[95]=63;function NQ(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=n.indexOf("=");i===-1&&(i=e);var r=i===e?0:4-i%4;return[i,r]}function Dke(n){var e=NQ(n),i=e[0],r=e[1];return(i+r)*3/4-r}function Nke(n,e,i){return(e+i)*3/4-i}function Pke(n){var e,i=NQ(n),r=i[0],o=i[1],l=new Cke(Nke(n,r,o)),c=0,u=o>0?r-4:r,h;for(h=0;h<u;h+=4)e=Bl[n.charCodeAt(h)]<<18|Bl[n.charCodeAt(h+1)]<<12|Bl[n.charCodeAt(h+2)]<<6|Bl[n.charCodeAt(h+3)],l[c++]=e>>16&255,l[c++]=e>>8&255,l[c++]=e&255;return o===2&&(e=Bl[n.charCodeAt(h)]<<2|Bl[n.charCodeAt(h+1)]>>4,l[c++]=e&255),o===1&&(e=Bl[n.charCodeAt(h)]<<10|Bl[n.charCodeAt(h+1)]<<4|Bl[n.charCodeAt(h+2)]>>2,l[c++]=e>>8&255,l[c++]=e&255),l}function jke(n){return hd[n>>18&63]+hd[n>>12&63]+hd[n>>6&63]+hd[n&63]}function Ike(n,e,i){for(var r,o=[],l=e;l<i;l+=3)r=(n[l]<<16&16711680)+(n[l+1]<<8&65280)+(n[l+2]&255),o.push(jke(r));return o.join("")}function Rke(n){for(var e,i=n.length,r=i%3,o=[],l=16383,c=0,u=i-r;c<u;c+=l)o.push(Ike(n,c,c+l>u?u:c+l));return r===1?(e=n[i-1],o.push(hd[e>>2]+hd[e<<4&63]+"==")):r===2&&(e=(n[i-2]<<8)+n[i-1],o.push(hd[e>>10]+hd[e>>4&63]+hd[e<<2&63]+"=")),o.join("")}function QT(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var PQ={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(n,e){(function(i){n.exports=i()})(function(){return function i(r,o,l){function c(m,g){if(!o[m]){if(!r[m]){var y=typeof QT=="function"&&QT;if(!g&&y)return y(m,!0);if(u)return u(m,!0);var v=new Error("Cannot find module '"+m+"'");throw v.code="MODULE_NOT_FOUND",v}var _=o[m]={exports:{}};r[m][0].call(_.exports,function(A){var S=r[m][1][A];return c(S||A)},_,_.exports,i,r,o,l)}return o[m].exports}for(var u=typeof QT=="function"&&QT,h=0;h<l.length;h++)c(l[h]);return c}({1:[function(i,r,o){var l=i("./utils"),c=i("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(h){for(var m,g,y,v,_,A,S,C=[],T=0,N=h.length,j=N,O=l.getTypeOf(h)!=="string";T<h.length;)j=N-T,y=O?(m=h[T++],g=T<N?h[T++]:0,T<N?h[T++]:0):(m=h.charCodeAt(T++),g=T<N?h.charCodeAt(T++):0,T<N?h.charCodeAt(T++):0),v=m>>2,_=(3&m)<<4|g>>4,A=1<j?(15&g)<<2|y>>6:64,S=2<j?63&y:64,C.push(u.charAt(v)+u.charAt(_)+u.charAt(A)+u.charAt(S));return C.join("")},o.decode=function(h){var m,g,y,v,_,A,S=0,C=0,T="data:";if(h.substr(0,T.length)===T)throw new Error("Invalid base64 input, it looks like a data url.");var N,j=3*(h=h.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(h.charAt(h.length-1)===u.charAt(64)&&j--,h.charAt(h.length-2)===u.charAt(64)&&j--,j%1!=0)throw new Error("Invalid base64 input, bad content length.");for(N=c.uint8array?new Uint8Array(0|j):new Array(0|j);S<h.length;)m=u.indexOf(h.charAt(S++))<<2|(v=u.indexOf(h.charAt(S++)))>>4,g=(15&v)<<4|(_=u.indexOf(h.charAt(S++)))>>2,y=(3&_)<<6|(A=u.indexOf(h.charAt(S++))),N[C++]=m,_!==64&&(N[C++]=g),A!==64&&(N[C++]=y);return N}},{"./support":30,"./utils":32}],2:[function(i,r,o){var l=i("./external"),c=i("./stream/DataWorker"),u=i("./stream/Crc32Probe"),h=i("./stream/DataLengthProbe");function m(g,y,v,_,A){this.compressedSize=g,this.uncompressedSize=y,this.crc32=v,this.compression=_,this.compressedContent=A}m.prototype={getContentWorker:function(){var g=new c(l.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new h("data_length")),y=this;return g.on("end",function(){if(this.streamInfo.data_length!==y.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),g},getCompressedWorker:function(){return new c(l.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(g,y,v){return g.pipe(new u).pipe(new h("uncompressedSize")).pipe(y.compressWorker(v)).pipe(new h("compressedSize")).withStreamInfo("compression",y)},r.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(i,r,o){var l=i("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new l("STORE compression")},uncompressWorker:function(){return new l("STORE decompression")}},o.DEFLATE=i("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(i,r,o){var l=i("./utils"),c=function(){for(var u,h=[],m=0;m<256;m++){u=m;for(var g=0;g<8;g++)u=1&u?3988292384^u>>>1:u>>>1;h[m]=u}return h}();r.exports=function(u,h){return u!==void 0&&u.length?l.getTypeOf(u)!=="string"?function(m,g,y,v){var _=c,A=v+y;m^=-1;for(var S=v;S<A;S++)m=m>>>8^_[255&(m^g[S])];return-1^m}(0|h,u,u.length,0):function(m,g,y,v){var _=c,A=v+y;m^=-1;for(var S=v;S<A;S++)m=m>>>8^_[255&(m^g.charCodeAt(S))];return-1^m}(0|h,u,u.length,0):0}},{"./utils":32}],5:[function(i,r,o){o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(i,r,o){var l=null;l=typeof Promise<"u"?Promise:i("lie"),r.exports={Promise:l}},{lie:37}],7:[function(i,r,o){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",c=i("pako"),u=i("./utils"),h=i("./stream/GenericWorker"),m=l?"uint8array":"array";function g(y,v){h.call(this,"FlateWorker/"+y),this._pako=null,this._pakoAction=y,this._pakoOptions=v,this.meta={}}o.magic="\b\0",u.inherits(g,h),g.prototype.processChunk=function(y){this.meta=y.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(m,y.data),!1)},g.prototype.flush=function(){h.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},g.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this._pako=null},g.prototype._createPako=function(){this._pako=new c[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var y=this;this._pako.onData=function(v){y.push({data:v,meta:y.meta})}},o.compressWorker=function(y){return new g("Deflate",y)},o.uncompressWorker=function(){return new g("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(i,r,o){function l(_,A){var S,C="";for(S=0;S<A;S++)C+=String.fromCharCode(255&_),_>>>=8;return C}function c(_,A,S,C,T,N){var j,O,F=_.file,U=_.compression,V=N!==m.utf8encode,B=u.transformTo("string",N(F.name)),K=u.transformTo("string",m.utf8encode(F.name)),oe=F.comment,me=u.transformTo("string",N(oe)),Q=u.transformTo("string",m.utf8encode(oe)),ge=K.length!==F.name.length,$=Q.length!==oe.length,De="",ie="",ce="",X=F.dir,Y=F.date,ne={crc32:0,compressedSize:0,uncompressedSize:0};A&&!S||(ne.crc32=_.crc32,ne.compressedSize=_.compressedSize,ne.uncompressedSize=_.uncompressedSize);var ee=0;A&&(ee|=8),V||!ge&&!$||(ee|=2048);var ue=0,Z=0;X&&(ue|=16),T==="UNIX"?(Z=798,ue|=function(Ae,Oe){var Pe=Ae;return Ae||(Pe=Oe?16893:33204),(65535&Pe)<<16}(F.unixPermissions,X)):(Z=20,ue|=function(Ae){return 63&(Ae||0)}(F.dosPermissions)),j=Y.getUTCHours(),j<<=6,j|=Y.getUTCMinutes(),j<<=5,j|=Y.getUTCSeconds()/2,O=Y.getUTCFullYear()-1980,O<<=4,O|=Y.getUTCMonth()+1,O<<=5,O|=Y.getUTCDate(),ge&&(ie=l(1,1)+l(g(B),4)+K,De+="up"+l(ie.length,2)+ie),$&&(ce=l(1,1)+l(g(me),4)+Q,De+="uc"+l(ce.length,2)+ce);var xe="";return xe+=`
\0`,xe+=l(ee,2),xe+=U.magic,xe+=l(j,2),xe+=l(O,2),xe+=l(ne.crc32,4),xe+=l(ne.compressedSize,4),xe+=l(ne.uncompressedSize,4),xe+=l(B.length,2),xe+=l(De.length,2),{fileRecord:y.LOCAL_FILE_HEADER+xe+B+De,dirRecord:y.CENTRAL_FILE_HEADER+l(Z,2)+xe+l(me.length,2)+"\0\0\0\0"+l(ue,4)+l(C,4)+B+De+me}}var u=i("../utils"),h=i("../stream/GenericWorker"),m=i("../utf8"),g=i("../crc32"),y=i("../signature");function v(_,A,S,C){h.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=A,this.zipPlatform=S,this.encodeFileName=C,this.streamFiles=_,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}u.inherits(v,h),v.prototype.push=function(_){var A=_.meta.percent||0,S=this.entriesCount,C=this._sources.length;this.accumulate?this.contentBuffer.push(_):(this.bytesWritten+=_.data.length,h.prototype.push.call(this,{data:_.data,meta:{currentFile:this.currentFile,percent:S?(A+100*(S-C-1))/S:100}}))},v.prototype.openedSource=function(_){this.currentSourceOffset=this.bytesWritten,this.currentFile=_.file.name;var A=this.streamFiles&&!_.file.dir;if(A){var S=c(_,A,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:S.fileRecord,meta:{percent:0}})}else this.accumulate=!0},v.prototype.closedSource=function(_){this.accumulate=!1;var A=this.streamFiles&&!_.file.dir,S=c(_,A,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(S.dirRecord),A)this.push({data:function(C){return y.DATA_DESCRIPTOR+l(C.crc32,4)+l(C.compressedSize,4)+l(C.uncompressedSize,4)}(_),meta:{percent:100}});else for(this.push({data:S.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},v.prototype.flush=function(){for(var _=this.bytesWritten,A=0;A<this.dirRecords.length;A++)this.push({data:this.dirRecords[A],meta:{percent:100}});var S=this.bytesWritten-_,C=function(T,N,j,O,F){var U=u.transformTo("string",F(O));return y.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(T,2)+l(T,2)+l(N,4)+l(j,4)+l(U.length,2)+U}(this.dirRecords.length,S,_,this.zipComment,this.encodeFileName);this.push({data:C,meta:{percent:100}})},v.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},v.prototype.registerPrevious=function(_){this._sources.push(_);var A=this;return _.on("data",function(S){A.processChunk(S)}),_.on("end",function(){A.closedSource(A.previous.streamInfo),A._sources.length?A.prepareNextSource():A.end()}),_.on("error",function(S){A.error(S)}),this},v.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},v.prototype.error=function(_){var A=this._sources;if(!h.prototype.error.call(this,_))return!1;for(var S=0;S<A.length;S++)try{A[S].error(_)}catch{}return!0},v.prototype.lock=function(){h.prototype.lock.call(this);for(var _=this._sources,A=0;A<_.length;A++)_[A].lock()},r.exports=v},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(i,r,o){var l=i("../compressions"),c=i("./ZipFileWorker");o.generateWorker=function(u,h,m){var g=new c(h.streamFiles,m,h.platform,h.encodeFileName),y=0;try{u.forEach(function(v,_){y++;var A=function(N,j){var O=N||j,F=l[O];if(!F)throw new Error(O+" is not a valid compression method !");return F}(_.options.compression,h.compression),S=_.options.compressionOptions||h.compressionOptions||{},C=_.dir,T=_.date;_._compressWorker(A,S).withStreamInfo("file",{name:v,dir:C,date:T,comment:_.comment||"",unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions}).pipe(g)}),g.entriesCount=y}catch(v){g.error(v)}return g}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(i,r,o){function l(){if(!(this instanceof l))return new l;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var c=new l;for(var u in this)typeof this[u]!="function"&&(c[u]=this[u]);return c}}(l.prototype=i("./object")).loadAsync=i("./load"),l.support=i("./support"),l.defaults=i("./defaults"),l.version="3.10.1",l.loadAsync=function(c,u){return new l().loadAsync(c,u)},l.external=i("./external"),r.exports=l},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(i,r,o){var l=i("./utils"),c=i("./external"),u=i("./utf8"),h=i("./zipEntries"),m=i("./stream/Crc32Probe"),g=i("./nodejsUtils");function y(v){return new c.Promise(function(_,A){var S=v.decompressed.getContentWorker().pipe(new m);S.on("error",function(C){A(C)}).on("end",function(){S.streamInfo.crc32!==v.decompressed.crc32?A(new Error("Corrupted zip : CRC32 mismatch")):_()}).resume()})}r.exports=function(v,_){var A=this;return _=l.extend(_||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),g.isNode&&g.isStream(v)?c.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):l.prepareContent("the loaded zip file",v,!0,_.optimizedBinaryString,_.base64).then(function(S){var C=new h(_);return C.load(S),C}).then(function(S){var C=[c.Promise.resolve(S)],T=S.files;if(_.checkCRC32)for(var N=0;N<T.length;N++)C.push(y(T[N]));return c.Promise.all(C)}).then(function(S){for(var C=S.shift(),T=C.files,N=0;N<T.length;N++){var j=T[N],O=j.fileNameStr,F=l.resolve(j.fileNameStr);A.file(F,j.decompressed,{binary:!0,optimizedBinaryString:!0,date:j.date,dir:j.dir,comment:j.fileCommentStr.length?j.fileCommentStr:null,unixPermissions:j.unixPermissions,dosPermissions:j.dosPermissions,createFolders:_.createFolders}),j.dir||(A.file(F).unsafeOriginalName=O)}return C.zipComment.length&&(A.comment=C.zipComment),A})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(i,r,o){var l=i("../utils"),c=i("../stream/GenericWorker");function u(h,m){c.call(this,"Nodejs stream input adapter for "+h),this._upstreamEnded=!1,this._bindStream(m)}l.inherits(u,c),u.prototype._bindStream=function(h){var m=this;(this._stream=h).pause(),h.on("data",function(g){m.push({data:g,meta:{percent:0}})}).on("error",function(g){m.isPaused?this.generatedError=g:m.error(g)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},u.prototype.pause=function(){return!!c.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(i,r,o){var l=i("readable-stream").Readable;function c(u,h,m){l.call(this,h),this._helper=u;var g=this;u.on("data",function(y,v){g.push(y)||g._helper.pause(),m&&m(v)}).on("error",function(y){g.emit("error",y)}).on("end",function(){g.push(null)})}i("../utils").inherits(c,l),c.prototype._read=function(){this._helper.resume()},r.exports=c},{"../utils":32,"readable-stream":16}],14:[function(i,r,o){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(l,c){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(l,c);if(typeof l=="number")throw new Error('The "data" argument must not be a number');return new Buffer(l,c)},allocBuffer:function(l){if(Buffer.alloc)return Buffer.alloc(l);var c=new Buffer(l);return c.fill(0),c},isBuffer:function(l){return Buffer.isBuffer(l)},isStream:function(l){return l&&typeof l.on=="function"&&typeof l.pause=="function"&&typeof l.resume=="function"}}},{}],15:[function(i,r,o){function l(F,U,V){var B,K=u.getTypeOf(U),oe=u.extend(V||{},g);oe.date=oe.date||new Date,oe.compression!==null&&(oe.compression=oe.compression.toUpperCase()),typeof oe.unixPermissions=="string"&&(oe.unixPermissions=parseInt(oe.unixPermissions,8)),oe.unixPermissions&&16384&oe.unixPermissions&&(oe.dir=!0),oe.dosPermissions&&16&oe.dosPermissions&&(oe.dir=!0),oe.dir&&(F=T(F)),oe.createFolders&&(B=C(F))&&N.call(this,B,!0);var me=K==="string"&&oe.binary===!1&&oe.base64===!1;V&&V.binary!==void 0||(oe.binary=!me),(U instanceof y&&U.uncompressedSize===0||oe.dir||!U||U.length===0)&&(oe.base64=!1,oe.binary=!0,U="",oe.compression="STORE",K="string");var Q=null;Q=U instanceof y||U instanceof h?U:A.isNode&&A.isStream(U)?new S(F,U):u.prepareContent(F,U,oe.binary,oe.optimizedBinaryString,oe.base64);var ge=new v(F,Q,oe);this.files[F]=ge}var c=i("./utf8"),u=i("./utils"),h=i("./stream/GenericWorker"),m=i("./stream/StreamHelper"),g=i("./defaults"),y=i("./compressedObject"),v=i("./zipObject"),_=i("./generate"),A=i("./nodejsUtils"),S=i("./nodejs/NodejsStreamInputAdapter"),C=function(F){F.slice(-1)==="/"&&(F=F.substring(0,F.length-1));var U=F.lastIndexOf("/");return 0<U?F.substring(0,U):""},T=function(F){return F.slice(-1)!=="/"&&(F+="/"),F},N=function(F,U){return U=U!==void 0?U:g.createFolders,F=T(F),this.files[F]||l.call(this,F,null,{dir:!0,createFolders:U}),this.files[F]};function j(F){return Object.prototype.toString.call(F)==="[object RegExp]"}var O={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(F){var U,V,B;for(U in this.files)B=this.files[U],(V=U.slice(this.root.length,U.length))&&U.slice(0,this.root.length)===this.root&&F(V,B)},filter:function(F){var U=[];return this.forEach(function(V,B){F(V,B)&&U.push(B)}),U},file:function(F,U,V){if(arguments.length!==1)return F=this.root+F,l.call(this,F,U,V),this;if(j(F)){var B=F;return this.filter(function(oe,me){return!me.dir&&B.test(oe)})}var K=this.files[this.root+F];return K&&!K.dir?K:null},folder:function(F){if(!F)return this;if(j(F))return this.filter(function(K,oe){return oe.dir&&F.test(K)});var U=this.root+F,V=N.call(this,U),B=this.clone();return B.root=V.name,B},remove:function(F){F=this.root+F;var U=this.files[F];if(U||(F.slice(-1)!=="/"&&(F+="/"),U=this.files[F]),U&&!U.dir)delete this.files[F];else for(var V=this.filter(function(K,oe){return oe.name.slice(0,F.length)===F}),B=0;B<V.length;B++)delete this.files[V[B].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(F){var U,V={};try{if((V=u.extend(F||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:c.utf8encode})).type=V.type.toLowerCase(),V.compression=V.compression.toUpperCase(),V.type==="binarystring"&&(V.type="string"),!V.type)throw new Error("No output type specified.");u.checkSupport(V.type),V.platform!=="darwin"&&V.platform!=="freebsd"&&V.platform!=="linux"&&V.platform!=="sunos"||(V.platform="UNIX"),V.platform==="win32"&&(V.platform="DOS");var B=V.comment||this.comment||"";U=_.generateWorker(this,V,B)}catch(K){(U=new h("error")).error(K)}return new m(U,V.type||"string",V.mimeType)},generateAsync:function(F,U){return this.generateInternalStream(F).accumulate(U)},generateNodeStream:function(F,U){return(F=F||{}).type||(F.type="nodebuffer"),this.generateInternalStream(F).toNodejsStream(U)}};r.exports=O},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(i,r,o){r.exports=i("stream")},{stream:void 0}],17:[function(i,r,o){var l=i("./DataReader");function c(u){l.call(this,u);for(var h=0;h<this.data.length;h++)u[h]=255&u[h]}i("../utils").inherits(c,l),c.prototype.byteAt=function(u){return this.data[this.zero+u]},c.prototype.lastIndexOfSignature=function(u){for(var h=u.charCodeAt(0),m=u.charCodeAt(1),g=u.charCodeAt(2),y=u.charCodeAt(3),v=this.length-4;0<=v;--v)if(this.data[v]===h&&this.data[v+1]===m&&this.data[v+2]===g&&this.data[v+3]===y)return v-this.zero;return-1},c.prototype.readAndCheckSignature=function(u){var h=u.charCodeAt(0),m=u.charCodeAt(1),g=u.charCodeAt(2),y=u.charCodeAt(3),v=this.readData(4);return h===v[0]&&m===v[1]&&g===v[2]&&y===v[3]},c.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var h=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,h},r.exports=c},{"../utils":32,"./DataReader":18}],18:[function(i,r,o){var l=i("../utils");function c(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}c.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var h,m=0;for(this.checkOffset(u),h=this.index+u-1;h>=this.index;h--)m=(m<<8)+this.byteAt(h);return this.index+=u,m},readString:function(u){return l.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},r.exports=c},{"../utils":32}],19:[function(i,r,o){var l=i("./Uint8ArrayReader");function c(u){l.call(this,u)}i("../utils").inherits(c,l),c.prototype.readData=function(u){this.checkOffset(u);var h=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,h},r.exports=c},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(i,r,o){var l=i("./DataReader");function c(u){l.call(this,u)}i("../utils").inherits(c,l),c.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},c.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},c.prototype.readAndCheckSignature=function(u){return u===this.readData(4)},c.prototype.readData=function(u){this.checkOffset(u);var h=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,h},r.exports=c},{"../utils":32,"./DataReader":18}],21:[function(i,r,o){var l=i("./ArrayReader");function c(u){l.call(this,u)}i("../utils").inherits(c,l),c.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var h=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,h},r.exports=c},{"../utils":32,"./ArrayReader":17}],22:[function(i,r,o){var l=i("../utils"),c=i("../support"),u=i("./ArrayReader"),h=i("./StringReader"),m=i("./NodeBufferReader"),g=i("./Uint8ArrayReader");r.exports=function(y){var v=l.getTypeOf(y);return l.checkSupport(v),v!=="string"||c.uint8array?v==="nodebuffer"?new m(y):c.uint8array?new g(l.transformTo("uint8array",y)):new u(l.transformTo("array",y)):new h(y)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(i,r,o){o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(i,r,o){var l=i("./GenericWorker"),c=i("../utils");function u(h){l.call(this,"ConvertWorker to "+h),this.destType=h}c.inherits(u,l),u.prototype.processChunk=function(h){this.push({data:c.transformTo(this.destType,h.data),meta:h.meta})},r.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(i,r,o){var l=i("./GenericWorker"),c=i("../crc32");function u(){l.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}i("../utils").inherits(u,l),u.prototype.processChunk=function(h){this.streamInfo.crc32=c(h.data,this.streamInfo.crc32||0),this.push(h)},r.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(i,r,o){var l=i("../utils"),c=i("./GenericWorker");function u(h){c.call(this,"DataLengthProbe for "+h),this.propName=h,this.withStreamInfo(h,0)}l.inherits(u,c),u.prototype.processChunk=function(h){if(h){var m=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=m+h.data.length}c.prototype.processChunk.call(this,h)},r.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(i,r,o){var l=i("../utils"),c=i("./GenericWorker");function u(h){c.call(this,"DataWorker");var m=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,h.then(function(g){m.dataIsReady=!0,m.data=g,m.max=g&&g.length||0,m.type=l.getTypeOf(g),m.isPaused||m._tickAndRepeat()},function(g){m.error(g)})}l.inherits(u,c),u.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,l.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(l.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var h=null,m=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":h=this.data.substring(this.index,m);break;case"uint8array":h=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":h=this.data.slice(this.index,m)}return this.index=m,this.push({data:h,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(i,r,o){function l(c){this.name=c||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}l.prototype={push:function(c){this.emit("data",c)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(c){this.emit("error",c)}return!0},error:function(c){return!this.isFinished&&(this.isPaused?this.generatedError=c:(this.isFinished=!0,this.emit("error",c),this.previous&&this.previous.error(c),this.cleanUp()),!0)},on:function(c,u){return this._listeners[c].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(c,u){if(this._listeners[c])for(var h=0;h<this._listeners[c].length;h++)this._listeners[c][h].call(this,u)},pipe:function(c){return c.registerPrevious(this)},registerPrevious:function(c){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=c.streamInfo,this.mergeStreamInfo(),this.previous=c;var u=this;return c.on("data",function(h){u.processChunk(h)}),c.on("end",function(){u.end()}),c.on("error",function(h){u.error(h)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var c=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),c=!0),this.previous&&this.previous.resume(),!c},flush:function(){},processChunk:function(c){this.push(c)},withStreamInfo:function(c,u){return this.extraStreamInfo[c]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var c in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,c)&&(this.streamInfo[c]=this.extraStreamInfo[c])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var c="Worker "+this.name;return this.previous?this.previous+" -> "+c:c}},r.exports=l},{}],29:[function(i,r,o){var l=i("../utils"),c=i("./ConvertWorker"),u=i("./GenericWorker"),h=i("../base64"),m=i("../support"),g=i("../external"),y=null;if(m.nodestream)try{y=i("../nodejs/NodejsStreamOutputAdapter")}catch{}function v(A,S){return new g.Promise(function(C,T){var N=[],j=A._internalType,O=A._outputType,F=A._mimeType;A.on("data",function(U,V){N.push(U),S&&S(V)}).on("error",function(U){N=[],T(U)}).on("end",function(){try{var U=function(V,B,K){switch(V){case"blob":return l.newBlob(l.transformTo("arraybuffer",B),K);case"base64":return h.encode(B);default:return l.transformTo(V,B)}}(O,function(V,B){var K,oe=0,me=null,Q=0;for(K=0;K<B.length;K++)Q+=B[K].length;switch(V){case"string":return B.join("");case"array":return Array.prototype.concat.apply([],B);case"uint8array":for(me=new Uint8Array(Q),K=0;K<B.length;K++)me.set(B[K],oe),oe+=B[K].length;return me;case"nodebuffer":return Buffer.concat(B);default:throw new Error("concat : unsupported type '"+V+"'")}}(j,N),F);C(U)}catch(V){T(V)}N=[]}).resume()})}function _(A,S,C){var T=S;switch(S){case"blob":case"arraybuffer":T="uint8array";break;case"base64":T="string"}try{this._internalType=T,this._outputType=S,this._mimeType=C,l.checkSupport(T),this._worker=A.pipe(new c(T)),A.lock()}catch(N){this._worker=new u("error"),this._worker.error(N)}}_.prototype={accumulate:function(A){return v(this,A)},on:function(A,S){var C=this;return A==="data"?this._worker.on(A,function(T){S.call(C,T.data,T.meta)}):this._worker.on(A,function(){l.delay(S,arguments,C)}),this},resume:function(){return l.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(A){if(l.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new y(this,{objectMode:this._outputType!=="nodebuffer"},A)}},r.exports=_},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(i,r,o){if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var l=new ArrayBuffer(0);try{o.blob=new Blob([l],{type:"application/zip"}).size===0}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);c.append(l),o.blob=c.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!i("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(i,r,o){for(var l=i("./utils"),c=i("./support"),u=i("./nodejsUtils"),h=i("./stream/GenericWorker"),m=new Array(256),g=0;g<256;g++)m[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;m[254]=m[254]=1;function y(){h.call(this,"utf-8 decode"),this.leftOver=null}function v(){h.call(this,"utf-8 encode")}o.utf8encode=function(_){return c.nodebuffer?u.newBufferFrom(_,"utf-8"):function(A){var S,C,T,N,j,O=A.length,F=0;for(N=0;N<O;N++)(64512&(C=A.charCodeAt(N)))==55296&&N+1<O&&(64512&(T=A.charCodeAt(N+1)))==56320&&(C=65536+(C-55296<<10)+(T-56320),N++),F+=C<128?1:C<2048?2:C<65536?3:4;for(S=c.uint8array?new Uint8Array(F):new Array(F),N=j=0;j<F;N++)(64512&(C=A.charCodeAt(N)))==55296&&N+1<O&&(64512&(T=A.charCodeAt(N+1)))==56320&&(C=65536+(C-55296<<10)+(T-56320),N++),C<128?S[j++]=C:(C<2048?S[j++]=192|C>>>6:(C<65536?S[j++]=224|C>>>12:(S[j++]=240|C>>>18,S[j++]=128|C>>>12&63),S[j++]=128|C>>>6&63),S[j++]=128|63&C);return S}(_)},o.utf8decode=function(_){return c.nodebuffer?l.transformTo("nodebuffer",_).toString("utf-8"):function(A){var S,C,T,N,j=A.length,O=new Array(2*j);for(S=C=0;S<j;)if((T=A[S++])<128)O[C++]=T;else if(4<(N=m[T]))O[C++]=65533,S+=N-1;else{for(T&=N===2?31:N===3?15:7;1<N&&S<j;)T=T<<6|63&A[S++],N--;1<N?O[C++]=65533:T<65536?O[C++]=T:(T-=65536,O[C++]=55296|T>>10&1023,O[C++]=56320|1023&T)}return O.length!==C&&(O.subarray?O=O.subarray(0,C):O.length=C),l.applyFromCharCode(O)}(_=l.transformTo(c.uint8array?"uint8array":"array",_))},l.inherits(y,h),y.prototype.processChunk=function(_){var A=l.transformTo(c.uint8array?"uint8array":"array",_.data);if(this.leftOver&&this.leftOver.length){if(c.uint8array){var S=A;(A=new Uint8Array(S.length+this.leftOver.length)).set(this.leftOver,0),A.set(S,this.leftOver.length)}else A=this.leftOver.concat(A);this.leftOver=null}var C=function(N,j){var O;for((j=j||N.length)>N.length&&(j=N.length),O=j-1;0<=O&&(192&N[O])==128;)O--;return O<0||O===0?j:O+m[N[O]]>j?O:j}(A),T=A;C!==A.length&&(c.uint8array?(T=A.subarray(0,C),this.leftOver=A.subarray(C,A.length)):(T=A.slice(0,C),this.leftOver=A.slice(C,A.length))),this.push({data:o.utf8decode(T),meta:_.meta})},y.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=y,l.inherits(v,h),v.prototype.processChunk=function(_){this.push({data:o.utf8encode(_.data),meta:_.meta})},o.Utf8EncodeWorker=v},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(i,r,o){var l=i("./support"),c=i("./base64"),u=i("./nodejsUtils"),h=i("./external");function m(S){return S}function g(S,C){for(var T=0;T<S.length;++T)C[T]=255&S.charCodeAt(T);return C}i("setimmediate"),o.newBlob=function(S,C){o.checkSupport("blob");try{return new Blob([S],{type:C})}catch{try{var T=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return T.append(S),T.getBlob(C)}catch{throw new Error("Bug : can't construct the Blob.")}}};var y={stringifyByChunk:function(S,C,T){var N=[],j=0,O=S.length;if(O<=T)return String.fromCharCode.apply(null,S);for(;j<O;)C==="array"||C==="nodebuffer"?N.push(String.fromCharCode.apply(null,S.slice(j,Math.min(j+T,O)))):N.push(String.fromCharCode.apply(null,S.subarray(j,Math.min(j+T,O)))),j+=T;return N.join("")},stringifyByChar:function(S){for(var C="",T=0;T<S.length;T++)C+=String.fromCharCode(S[T]);return C},applyCanBeUsed:{uint8array:function(){try{return l.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return l.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}}()}};function v(S){var C=65536,T=o.getTypeOf(S),N=!0;if(T==="uint8array"?N=y.applyCanBeUsed.uint8array:T==="nodebuffer"&&(N=y.applyCanBeUsed.nodebuffer),N)for(;1<C;)try{return y.stringifyByChunk(S,T,C)}catch{C=Math.floor(C/2)}return y.stringifyByChar(S)}function _(S,C){for(var T=0;T<S.length;T++)C[T]=S[T];return C}o.applyFromCharCode=v;var A={};A.string={string:m,array:function(S){return g(S,new Array(S.length))},arraybuffer:function(S){return A.string.uint8array(S).buffer},uint8array:function(S){return g(S,new Uint8Array(S.length))},nodebuffer:function(S){return g(S,u.allocBuffer(S.length))}},A.array={string:v,array:m,arraybuffer:function(S){return new Uint8Array(S).buffer},uint8array:function(S){return new Uint8Array(S)},nodebuffer:function(S){return u.newBufferFrom(S)}},A.arraybuffer={string:function(S){return v(new Uint8Array(S))},array:function(S){return _(new Uint8Array(S),new Array(S.byteLength))},arraybuffer:m,uint8array:function(S){return new Uint8Array(S)},nodebuffer:function(S){return u.newBufferFrom(new Uint8Array(S))}},A.uint8array={string:v,array:function(S){return _(S,new Array(S.length))},arraybuffer:function(S){return S.buffer},uint8array:m,nodebuffer:function(S){return u.newBufferFrom(S)}},A.nodebuffer={string:v,array:function(S){return _(S,new Array(S.length))},arraybuffer:function(S){return A.nodebuffer.uint8array(S).buffer},uint8array:function(S){return _(S,new Uint8Array(S.length))},nodebuffer:m},o.transformTo=function(S,C){if(C=C||"",!S)return C;o.checkSupport(S);var T=o.getTypeOf(C);return A[T][S](C)},o.resolve=function(S){for(var C=S.split("/"),T=[],N=0;N<C.length;N++){var j=C[N];j==="."||j===""&&N!==0&&N!==C.length-1||(j===".."?T.pop():T.push(j))}return T.join("/")},o.getTypeOf=function(S){return typeof S=="string"?"string":Object.prototype.toString.call(S)==="[object Array]"?"array":l.nodebuffer&&u.isBuffer(S)?"nodebuffer":l.uint8array&&S instanceof Uint8Array?"uint8array":l.arraybuffer&&S instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(S){if(!l[S.toLowerCase()])throw new Error(S+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(S){var C,T,N="";for(T=0;T<(S||"").length;T++)N+="\\x"+((C=S.charCodeAt(T))<16?"0":"")+C.toString(16).toUpperCase();return N},o.delay=function(S,C,T){setImmediate(function(){S.apply(T||null,C||[])})},o.inherits=function(S,C){function T(){}T.prototype=C.prototype,S.prototype=new T},o.extend=function(){var S,C,T={};for(S=0;S<arguments.length;S++)for(C in arguments[S])Object.prototype.hasOwnProperty.call(arguments[S],C)&&T[C]===void 0&&(T[C]=arguments[S][C]);return T},o.prepareContent=function(S,C,T,N,j){return h.Promise.resolve(C).then(function(O){return l.blob&&(O instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(O))!==-1)&&typeof FileReader<"u"?new h.Promise(function(F,U){var V=new FileReader;V.onload=function(B){F(B.target.result)},V.onerror=function(B){U(B.target.error)},V.readAsArrayBuffer(O)}):O}).then(function(O){var F=o.getTypeOf(O);return F?(F==="arraybuffer"?O=o.transformTo("uint8array",O):F==="string"&&(j?O=c.decode(O):T&&N!==!0&&(O=function(U){return g(U,l.uint8array?new Uint8Array(U.length):new Array(U.length))}(O))),O):h.Promise.reject(new Error("Can't read the data of '"+S+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(i,r,o){var l=i("./reader/readerFor"),c=i("./utils"),u=i("./signature"),h=i("./zipEntry"),m=i("./support");function g(y){this.files=[],this.loadOptions=y}g.prototype={checkSignature:function(y){if(!this.reader.readAndCheckSignature(y)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+c.pretty(v)+", expected "+c.pretty(y)+")")}},isSignature:function(y,v){var _=this.reader.index;this.reader.setIndex(y);var A=this.reader.readString(4)===v;return this.reader.setIndex(_),A},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var y=this.reader.readData(this.zipCommentLength),v=m.uint8array?"uint8array":"array",_=c.transformTo(v,y);this.zipComment=this.loadOptions.decodeFileName(_)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var y,v,_,A=this.zip64EndOfCentralSize-44;0<A;)y=this.reader.readInt(2),v=this.reader.readInt(4),_=this.reader.readData(v),this.zip64ExtensibleData[y]={id:y,length:v,value:_}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var y,v;for(y=0;y<this.files.length;y++)v=this.files[y],this.reader.setIndex(v.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var y;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)(y=new h({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(y);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var y=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(y<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(y);var v=y;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===c.MAX_VALUE_16BITS||this.diskWithCentralDirStart===c.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===c.MAX_VALUE_16BITS||this.centralDirRecords===c.MAX_VALUE_16BITS||this.centralDirSize===c.MAX_VALUE_32BITS||this.centralDirOffset===c.MAX_VALUE_32BITS){if(this.zip64=!0,(y=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(y),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var _=this.centralDirOffset+this.centralDirSize;this.zip64&&(_+=20,_+=12+this.zip64EndOfCentralSize);var A=v-_;if(0<A)this.isSignature(v,u.CENTRAL_FILE_HEADER)||(this.reader.zero=A);else if(A<0)throw new Error("Corrupted zip: missing "+Math.abs(A)+" bytes.")},prepareReader:function(y){this.reader=l(y)},load:function(y){this.prepareReader(y),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=g},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(i,r,o){var l=i("./reader/readerFor"),c=i("./utils"),u=i("./compressedObject"),h=i("./crc32"),m=i("./utf8"),g=i("./compressions"),y=i("./support");function v(_,A){this.options=_,this.loadOptions=A}v.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(_){var A,S;if(_.skip(22),this.fileNameLength=_.readInt(2),S=_.readInt(2),this.fileName=_.readData(this.fileNameLength),_.skip(S),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((A=function(C){for(var T in g)if(Object.prototype.hasOwnProperty.call(g,T)&&g[T].magic===C)return g[T];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+c.pretty(this.compressionMethod)+" unknown (inner file : "+c.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,A,_.readData(this.compressedSize))},readCentralPart:function(_){this.versionMadeBy=_.readInt(2),_.skip(2),this.bitFlag=_.readInt(2),this.compressionMethod=_.readString(2),this.date=_.readDate(),this.crc32=_.readInt(4),this.compressedSize=_.readInt(4),this.uncompressedSize=_.readInt(4);var A=_.readInt(2);if(this.extraFieldsLength=_.readInt(2),this.fileCommentLength=_.readInt(2),this.diskNumberStart=_.readInt(2),this.internalFileAttributes=_.readInt(2),this.externalFileAttributes=_.readInt(4),this.localHeaderOffset=_.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");_.skip(A),this.readExtraFields(_),this.parseZIP64ExtraField(_),this.fileComment=_.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var _=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),_==0&&(this.dosPermissions=63&this.externalFileAttributes),_==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var _=l(this.extraFields[1].value);this.uncompressedSize===c.MAX_VALUE_32BITS&&(this.uncompressedSize=_.readInt(8)),this.compressedSize===c.MAX_VALUE_32BITS&&(this.compressedSize=_.readInt(8)),this.localHeaderOffset===c.MAX_VALUE_32BITS&&(this.localHeaderOffset=_.readInt(8)),this.diskNumberStart===c.MAX_VALUE_32BITS&&(this.diskNumberStart=_.readInt(4))}},readExtraFields:function(_){var A,S,C,T=_.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});_.index+4<T;)A=_.readInt(2),S=_.readInt(2),C=_.readData(S),this.extraFields[A]={id:A,length:S,value:C};_.setIndex(T)},handleUTF8:function(){var _=y.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment);else{var A=this.findExtraFieldUnicodePath();if(A!==null)this.fileNameStr=A;else{var S=c.transformTo(_,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(S)}var C=this.findExtraFieldUnicodeComment();if(C!==null)this.fileCommentStr=C;else{var T=c.transformTo(_,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(T)}}},findExtraFieldUnicodePath:function(){var _=this.extraFields[28789];if(_){var A=l(_.value);return A.readInt(1)!==1||h(this.fileName)!==A.readInt(4)?null:m.utf8decode(A.readData(_.length-5))}return null},findExtraFieldUnicodeComment:function(){var _=this.extraFields[25461];if(_){var A=l(_.value);return A.readInt(1)!==1||h(this.fileComment)!==A.readInt(4)?null:m.utf8decode(A.readData(_.length-5))}return null}},r.exports=v},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(i,r,o){function l(A,S,C){this.name=A,this.dir=C.dir,this.date=C.date,this.comment=C.comment,this.unixPermissions=C.unixPermissions,this.dosPermissions=C.dosPermissions,this._data=S,this._dataBinary=C.binary,this.options={compression:C.compression,compressionOptions:C.compressionOptions}}var c=i("./stream/StreamHelper"),u=i("./stream/DataWorker"),h=i("./utf8"),m=i("./compressedObject"),g=i("./stream/GenericWorker");l.prototype={internalStream:function(A){var S=null,C="string";try{if(!A)throw new Error("No output type specified.");var T=(C=A.toLowerCase())==="string"||C==="text";C!=="binarystring"&&C!=="text"||(C="string"),S=this._decompressWorker();var N=!this._dataBinary;N&&!T&&(S=S.pipe(new h.Utf8EncodeWorker)),!N&&T&&(S=S.pipe(new h.Utf8DecodeWorker))}catch(j){(S=new g("error")).error(j)}return new c(S,C,"")},async:function(A,S){return this.internalStream(A).accumulate(S)},nodeStream:function(A,S){return this.internalStream(A||"nodebuffer").toNodejsStream(S)},_compressWorker:function(A,S){if(this._data instanceof m&&this._data.compression.magic===A.magic)return this._data.getCompressedWorker();var C=this._decompressWorker();return this._dataBinary||(C=C.pipe(new h.Utf8EncodeWorker)),m.createWorkerFrom(C,A,S)},_decompressWorker:function(){return this._data instanceof m?this._data.getContentWorker():this._data instanceof g?this._data:new u(this._data)}};for(var y=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},_=0;_<y.length;_++)l.prototype[y[_]]=v;r.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(i,r,o){(function(l){var c,u,h=l.MutationObserver||l.WebKitMutationObserver;if(h){var m=0,g=new h(A),y=l.document.createTextNode("");g.observe(y,{characterData:!0}),c=function(){y.data=m=++m%2}}else if(l.setImmediate||l.MessageChannel===void 0)c="document"in l&&"onreadystatechange"in l.document.createElement("script")?function(){var S=l.document.createElement("script");S.onreadystatechange=function(){A(),S.onreadystatechange=null,S.parentNode.removeChild(S),S=null},l.document.documentElement.appendChild(S)}:function(){setTimeout(A,0)};else{var v=new l.MessageChannel;v.port1.onmessage=A,c=function(){v.port2.postMessage(0)}}var _=[];function A(){var S,C;u=!0;for(var T=_.length;T;){for(C=_,_=[],S=-1;++S<T;)C[S]();T=_.length}u=!1}r.exports=function(S){_.push(S)!==1||u||c()}}).call(this,typeof Lt<"u"?Lt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(i,r,o){var l=i("immediate");function c(){}var u={},h=["REJECTED"],m=["FULFILLED"],g=["PENDING"];function y(T){if(typeof T!="function")throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,T!==c&&S(this,T)}function v(T,N,j){this.promise=T,typeof N=="function"&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),typeof j=="function"&&(this.onRejected=j,this.callRejected=this.otherCallRejected)}function _(T,N,j){l(function(){var O;try{O=N(j)}catch(F){return u.reject(T,F)}O===T?u.reject(T,new TypeError("Cannot resolve promise with itself")):u.resolve(T,O)})}function A(T){var N=T&&T.then;if(T&&(typeof T=="object"||typeof T=="function")&&typeof N=="function")return function(){N.apply(T,arguments)}}function S(T,N){var j=!1;function O(V){j||(j=!0,u.reject(T,V))}function F(V){j||(j=!0,u.resolve(T,V))}var U=C(function(){N(F,O)});U.status==="error"&&O(U.value)}function C(T,N){var j={};try{j.value=T(N),j.status="success"}catch(O){j.status="error",j.value=O}return j}(r.exports=y).prototype.finally=function(T){if(typeof T!="function")return this;var N=this.constructor;return this.then(function(j){return N.resolve(T()).then(function(){return j})},function(j){return N.resolve(T()).then(function(){throw j})})},y.prototype.catch=function(T){return this.then(null,T)},y.prototype.then=function(T,N){if(typeof T!="function"&&this.state===m||typeof N!="function"&&this.state===h)return this;var j=new this.constructor(c);return this.state!==g?_(j,this.state===m?T:N,this.outcome):this.queue.push(new v(j,T,N)),j},v.prototype.callFulfilled=function(T){u.resolve(this.promise,T)},v.prototype.otherCallFulfilled=function(T){_(this.promise,this.onFulfilled,T)},v.prototype.callRejected=function(T){u.reject(this.promise,T)},v.prototype.otherCallRejected=function(T){_(this.promise,this.onRejected,T)},u.resolve=function(T,N){var j=C(A,N);if(j.status==="error")return u.reject(T,j.value);var O=j.value;if(O)S(T,O);else{T.state=m,T.outcome=N;for(var F=-1,U=T.queue.length;++F<U;)T.queue[F].callFulfilled(N)}return T},u.reject=function(T,N){T.state=h,T.outcome=N;for(var j=-1,O=T.queue.length;++j<O;)T.queue[j].callRejected(N);return T},y.resolve=function(T){return T instanceof this?T:u.resolve(new this(c),T)},y.reject=function(T){var N=new this(c);return u.reject(N,T)},y.all=function(T){var N=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var j=T.length,O=!1;if(!j)return this.resolve([]);for(var F=new Array(j),U=0,V=-1,B=new this(c);++V<j;)K(T[V],V);return B;function K(oe,me){N.resolve(oe).then(function(Q){F[me]=Q,++U!==j||O||(O=!0,u.resolve(B,F))},function(Q){O||(O=!0,u.reject(B,Q))})}},y.race=function(T){var N=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var j=T.length,O=!1;if(!j)return this.resolve([]);for(var F=-1,U=new this(c);++F<j;)V=T[F],N.resolve(V).then(function(B){O||(O=!0,u.resolve(U,B))},function(B){O||(O=!0,u.reject(U,B))});var V;return U}},{immediate:36}],38:[function(i,r,o){var l={};(0,i("./lib/utils/common").assign)(l,i("./lib/deflate"),i("./lib/inflate"),i("./lib/zlib/constants")),r.exports=l},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(i,r,o){var l=i("./zlib/deflate"),c=i("./utils/common"),u=i("./utils/strings"),h=i("./zlib/messages"),m=i("./zlib/zstream"),g=Object.prototype.toString,y=0,v=-1,_=0,A=8;function S(T){if(!(this instanceof S))return new S(T);this.options=c.assign({level:v,method:A,chunkSize:16384,windowBits:15,memLevel:8,strategy:_,to:""},T||{});var N=this.options;N.raw&&0<N.windowBits?N.windowBits=-N.windowBits:N.gzip&&0<N.windowBits&&N.windowBits<16&&(N.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var j=l.deflateInit2(this.strm,N.level,N.method,N.windowBits,N.memLevel,N.strategy);if(j!==y)throw new Error(h[j]);if(N.header&&l.deflateSetHeader(this.strm,N.header),N.dictionary){var O;if(O=typeof N.dictionary=="string"?u.string2buf(N.dictionary):g.call(N.dictionary)==="[object ArrayBuffer]"?new Uint8Array(N.dictionary):N.dictionary,(j=l.deflateSetDictionary(this.strm,O))!==y)throw new Error(h[j]);this._dict_set=!0}}function C(T,N){var j=new S(N);if(j.push(T,!0),j.err)throw j.msg||h[j.err];return j.result}S.prototype.push=function(T,N){var j,O,F=this.strm,U=this.options.chunkSize;if(this.ended)return!1;O=N===~~N?N:N===!0?4:0,typeof T=="string"?F.input=u.string2buf(T):g.call(T)==="[object ArrayBuffer]"?F.input=new Uint8Array(T):F.input=T,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new c.Buf8(U),F.next_out=0,F.avail_out=U),(j=l.deflate(F,O))!==1&&j!==y)return this.onEnd(j),!(this.ended=!0);F.avail_out!==0&&(F.avail_in!==0||O!==4&&O!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(c.shrinkBuf(F.output,F.next_out))):this.onData(c.shrinkBuf(F.output,F.next_out)))}while((0<F.avail_in||F.avail_out===0)&&j!==1);return O===4?(j=l.deflateEnd(this.strm),this.onEnd(j),this.ended=!0,j===y):O!==2||(this.onEnd(y),!(F.avail_out=0))},S.prototype.onData=function(T){this.chunks.push(T)},S.prototype.onEnd=function(T){T===y&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg},o.Deflate=S,o.deflate=C,o.deflateRaw=function(T,N){return(N=N||{}).raw=!0,C(T,N)},o.gzip=function(T,N){return(N=N||{}).gzip=!0,C(T,N)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(i,r,o){var l=i("./zlib/inflate"),c=i("./utils/common"),u=i("./utils/strings"),h=i("./zlib/constants"),m=i("./zlib/messages"),g=i("./zlib/zstream"),y=i("./zlib/gzheader"),v=Object.prototype.toString;function _(S){if(!(this instanceof _))return new _(S);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},S||{});var C=this.options;C.raw&&0<=C.windowBits&&C.windowBits<16&&(C.windowBits=-C.windowBits,C.windowBits===0&&(C.windowBits=-15)),!(0<=C.windowBits&&C.windowBits<16)||S&&S.windowBits||(C.windowBits+=32),15<C.windowBits&&C.windowBits<48&&!(15&C.windowBits)&&(C.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var T=l.inflateInit2(this.strm,C.windowBits);if(T!==h.Z_OK)throw new Error(m[T]);this.header=new y,l.inflateGetHeader(this.strm,this.header)}function A(S,C){var T=new _(C);if(T.push(S,!0),T.err)throw T.msg||m[T.err];return T.result}_.prototype.push=function(S,C){var T,N,j,O,F,U,V=this.strm,B=this.options.chunkSize,K=this.options.dictionary,oe=!1;if(this.ended)return!1;N=C===~~C?C:C===!0?h.Z_FINISH:h.Z_NO_FLUSH,typeof S=="string"?V.input=u.binstring2buf(S):v.call(S)==="[object ArrayBuffer]"?V.input=new Uint8Array(S):V.input=S,V.next_in=0,V.avail_in=V.input.length;do{if(V.avail_out===0&&(V.output=new c.Buf8(B),V.next_out=0,V.avail_out=B),(T=l.inflate(V,h.Z_NO_FLUSH))===h.Z_NEED_DICT&&K&&(U=typeof K=="string"?u.string2buf(K):v.call(K)==="[object ArrayBuffer]"?new Uint8Array(K):K,T=l.inflateSetDictionary(this.strm,U)),T===h.Z_BUF_ERROR&&oe===!0&&(T=h.Z_OK,oe=!1),T!==h.Z_STREAM_END&&T!==h.Z_OK)return this.onEnd(T),!(this.ended=!0);V.next_out&&(V.avail_out!==0&&T!==h.Z_STREAM_END&&(V.avail_in!==0||N!==h.Z_FINISH&&N!==h.Z_SYNC_FLUSH)||(this.options.to==="string"?(j=u.utf8border(V.output,V.next_out),O=V.next_out-j,F=u.buf2string(V.output,j),V.next_out=O,V.avail_out=B-O,O&&c.arraySet(V.output,V.output,j,O,0),this.onData(F)):this.onData(c.shrinkBuf(V.output,V.next_out)))),V.avail_in===0&&V.avail_out===0&&(oe=!0)}while((0<V.avail_in||V.avail_out===0)&&T!==h.Z_STREAM_END);return T===h.Z_STREAM_END&&(N=h.Z_FINISH),N===h.Z_FINISH?(T=l.inflateEnd(this.strm),this.onEnd(T),this.ended=!0,T===h.Z_OK):N!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),!(V.avail_out=0))},_.prototype.onData=function(S){this.chunks.push(S)},_.prototype.onEnd=function(S){S===h.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},o.Inflate=_,o.inflate=A,o.inflateRaw=function(S,C){return(C=C||{}).raw=!0,A(S,C)},o.ungzip=A},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(i,r,o){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(h){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var g=m.shift();if(g){if(typeof g!="object")throw new TypeError(g+"must be non-object");for(var y in g)g.hasOwnProperty(y)&&(h[y]=g[y])}}return h},o.shrinkBuf=function(h,m){return h.length===m?h:h.subarray?h.subarray(0,m):(h.length=m,h)};var c={arraySet:function(h,m,g,y,v){if(m.subarray&&h.subarray)h.set(m.subarray(g,g+y),v);else for(var _=0;_<y;_++)h[v+_]=m[g+_]},flattenChunks:function(h){var m,g,y,v,_,A;for(m=y=0,g=h.length;m<g;m++)y+=h[m].length;for(A=new Uint8Array(y),m=v=0,g=h.length;m<g;m++)_=h[m],A.set(_,v),v+=_.length;return A}},u={arraySet:function(h,m,g,y,v){for(var _=0;_<y;_++)h[v+_]=m[g+_]},flattenChunks:function(h){return[].concat.apply([],h)}};o.setTyped=function(h){h?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,c)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,u))},o.setTyped(l)},{}],42:[function(i,r,o){var l=i("./common"),c=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{c=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var h=new l.Buf8(256),m=0;m<256;m++)h[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;function g(y,v){if(v<65537&&(y.subarray&&u||!y.subarray&&c))return String.fromCharCode.apply(null,l.shrinkBuf(y,v));for(var _="",A=0;A<v;A++)_+=String.fromCharCode(y[A]);return _}h[254]=h[254]=1,o.string2buf=function(y){var v,_,A,S,C,T=y.length,N=0;for(S=0;S<T;S++)(64512&(_=y.charCodeAt(S)))==55296&&S+1<T&&(64512&(A=y.charCodeAt(S+1)))==56320&&(_=65536+(_-55296<<10)+(A-56320),S++),N+=_<128?1:_<2048?2:_<65536?3:4;for(v=new l.Buf8(N),S=C=0;C<N;S++)(64512&(_=y.charCodeAt(S)))==55296&&S+1<T&&(64512&(A=y.charCodeAt(S+1)))==56320&&(_=65536+(_-55296<<10)+(A-56320),S++),_<128?v[C++]=_:(_<2048?v[C++]=192|_>>>6:(_<65536?v[C++]=224|_>>>12:(v[C++]=240|_>>>18,v[C++]=128|_>>>12&63),v[C++]=128|_>>>6&63),v[C++]=128|63&_);return v},o.buf2binstring=function(y){return g(y,y.length)},o.binstring2buf=function(y){for(var v=new l.Buf8(y.length),_=0,A=v.length;_<A;_++)v[_]=y.charCodeAt(_);return v},o.buf2string=function(y,v){var _,A,S,C,T=v||y.length,N=new Array(2*T);for(_=A=0;_<T;)if((S=y[_++])<128)N[A++]=S;else if(4<(C=h[S]))N[A++]=65533,_+=C-1;else{for(S&=C===2?31:C===3?15:7;1<C&&_<T;)S=S<<6|63&y[_++],C--;1<C?N[A++]=65533:S<65536?N[A++]=S:(S-=65536,N[A++]=55296|S>>10&1023,N[A++]=56320|1023&S)}return g(N,A)},o.utf8border=function(y,v){var _;for((v=v||y.length)>y.length&&(v=y.length),_=v-1;0<=_&&(192&y[_])==128;)_--;return _<0||_===0?v:_+h[y[_]]>v?_:v}},{"./common":41}],43:[function(i,r,o){r.exports=function(l,c,u,h){for(var m=65535&l|0,g=l>>>16&65535|0,y=0;u!==0;){for(u-=y=2e3<u?2e3:u;g=g+(m=m+c[h++]|0)|0,--y;);m%=65521,g%=65521}return m|g<<16|0}},{}],44:[function(i,r,o){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(i,r,o){var l=function(){for(var c,u=[],h=0;h<256;h++){c=h;for(var m=0;m<8;m++)c=1&c?3988292384^c>>>1:c>>>1;u[h]=c}return u}();r.exports=function(c,u,h,m){var g=l,y=m+h;c^=-1;for(var v=m;v<y;v++)c=c>>>8^g[255&(c^u[v])];return-1^c}},{}],46:[function(i,r,o){var l,c=i("../utils/common"),u=i("./trees"),h=i("./adler32"),m=i("./crc32"),g=i("./messages"),y=0,v=4,_=0,A=-2,S=-1,C=4,T=2,N=8,j=9,O=286,F=30,U=19,V=2*O+1,B=15,K=3,oe=258,me=oe+K+1,Q=42,ge=113,$=1,De=2,ie=3,ce=4;function X(G,Ce){return G.msg=g[Ce],Ce}function Y(G){return(G<<1)-(4<G?9:0)}function ne(G){for(var Ce=G.length;0<=--Ce;)G[Ce]=0}function ee(G){var Ce=G.state,Ie=Ce.pending;Ie>G.avail_out&&(Ie=G.avail_out),Ie!==0&&(c.arraySet(G.output,Ce.pending_buf,Ce.pending_out,Ie,G.next_out),G.next_out+=Ie,Ce.pending_out+=Ie,G.total_out+=Ie,G.avail_out-=Ie,Ce.pending-=Ie,Ce.pending===0&&(Ce.pending_out=0))}function ue(G,Ce){u._tr_flush_block(G,0<=G.block_start?G.block_start:-1,G.strstart-G.block_start,Ce),G.block_start=G.strstart,ee(G.strm)}function Z(G,Ce){G.pending_buf[G.pending++]=Ce}function xe(G,Ce){G.pending_buf[G.pending++]=Ce>>>8&255,G.pending_buf[G.pending++]=255&Ce}function Ae(G,Ce){var Ie,be,_e=G.max_chain_length,Se=G.strstart,He=G.prev_length,qe=G.nice_match,Fe=G.strstart>G.w_size-me?G.strstart-(G.w_size-me):0,Te=G.window,ke=G.w_mask,le=G.prev,Ue=G.strstart+oe,et=Te[Se+He-1],nt=Te[Se+He];G.prev_length>=G.good_match&&(_e>>=2),qe>G.lookahead&&(qe=G.lookahead);do if(Te[(Ie=Ce)+He]===nt&&Te[Ie+He-1]===et&&Te[Ie]===Te[Se]&&Te[++Ie]===Te[Se+1]){Se+=2,Ie++;do;while(Te[++Se]===Te[++Ie]&&Te[++Se]===Te[++Ie]&&Te[++Se]===Te[++Ie]&&Te[++Se]===Te[++Ie]&&Te[++Se]===Te[++Ie]&&Te[++Se]===Te[++Ie]&&Te[++Se]===Te[++Ie]&&Te[++Se]===Te[++Ie]&&Se<Ue);if(be=oe-(Ue-Se),Se=Ue-oe,He<be){if(G.match_start=Ce,qe<=(He=be))break;et=Te[Se+He-1],nt=Te[Se+He]}}while((Ce=le[Ce&ke])>Fe&&--_e!=0);return He<=G.lookahead?He:G.lookahead}function Oe(G){var Ce,Ie,be,_e,Se,He,qe,Fe,Te,ke,le=G.w_size;do{if(_e=G.window_size-G.lookahead-G.strstart,G.strstart>=le+(le-me)){for(c.arraySet(G.window,G.window,le,le,0),G.match_start-=le,G.strstart-=le,G.block_start-=le,Ce=Ie=G.hash_size;be=G.head[--Ce],G.head[Ce]=le<=be?be-le:0,--Ie;);for(Ce=Ie=le;be=G.prev[--Ce],G.prev[Ce]=le<=be?be-le:0,--Ie;);_e+=le}if(G.strm.avail_in===0)break;if(He=G.strm,qe=G.window,Fe=G.strstart+G.lookahead,Te=_e,ke=void 0,ke=He.avail_in,Te<ke&&(ke=Te),Ie=ke===0?0:(He.avail_in-=ke,c.arraySet(qe,He.input,He.next_in,ke,Fe),He.state.wrap===1?He.adler=h(He.adler,qe,ke,Fe):He.state.wrap===2&&(He.adler=m(He.adler,qe,ke,Fe)),He.next_in+=ke,He.total_in+=ke,ke),G.lookahead+=Ie,G.lookahead+G.insert>=K)for(Se=G.strstart-G.insert,G.ins_h=G.window[Se],G.ins_h=(G.ins_h<<G.hash_shift^G.window[Se+1])&G.hash_mask;G.insert&&(G.ins_h=(G.ins_h<<G.hash_shift^G.window[Se+K-1])&G.hash_mask,G.prev[Se&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=Se,Se++,G.insert--,!(G.lookahead+G.insert<K)););}while(G.lookahead<me&&G.strm.avail_in!==0)}function Pe(G,Ce){for(var Ie,be;;){if(G.lookahead<me){if(Oe(G),G.lookahead<me&&Ce===y)return $;if(G.lookahead===0)break}if(Ie=0,G.lookahead>=K&&(G.ins_h=(G.ins_h<<G.hash_shift^G.window[G.strstart+K-1])&G.hash_mask,Ie=G.prev[G.strstart&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=G.strstart),Ie!==0&&G.strstart-Ie<=G.w_size-me&&(G.match_length=Ae(G,Ie)),G.match_length>=K)if(be=u._tr_tally(G,G.strstart-G.match_start,G.match_length-K),G.lookahead-=G.match_length,G.match_length<=G.max_lazy_match&&G.lookahead>=K){for(G.match_length--;G.strstart++,G.ins_h=(G.ins_h<<G.hash_shift^G.window[G.strstart+K-1])&G.hash_mask,Ie=G.prev[G.strstart&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=G.strstart,--G.match_length!=0;);G.strstart++}else G.strstart+=G.match_length,G.match_length=0,G.ins_h=G.window[G.strstart],G.ins_h=(G.ins_h<<G.hash_shift^G.window[G.strstart+1])&G.hash_mask;else be=u._tr_tally(G,0,G.window[G.strstart]),G.lookahead--,G.strstart++;if(be&&(ue(G,!1),G.strm.avail_out===0))return $}return G.insert=G.strstart<K-1?G.strstart:K-1,Ce===v?(ue(G,!0),G.strm.avail_out===0?ie:ce):G.last_lit&&(ue(G,!1),G.strm.avail_out===0)?$:De}function Me(G,Ce){for(var Ie,be,_e;;){if(G.lookahead<me){if(Oe(G),G.lookahead<me&&Ce===y)return $;if(G.lookahead===0)break}if(Ie=0,G.lookahead>=K&&(G.ins_h=(G.ins_h<<G.hash_shift^G.window[G.strstart+K-1])&G.hash_mask,Ie=G.prev[G.strstart&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=G.strstart),G.prev_length=G.match_length,G.prev_match=G.match_start,G.match_length=K-1,Ie!==0&&G.prev_length<G.max_lazy_match&&G.strstart-Ie<=G.w_size-me&&(G.match_length=Ae(G,Ie),G.match_length<=5&&(G.strategy===1||G.match_length===K&&4096<G.strstart-G.match_start)&&(G.match_length=K-1)),G.prev_length>=K&&G.match_length<=G.prev_length){for(_e=G.strstart+G.lookahead-K,be=u._tr_tally(G,G.strstart-1-G.prev_match,G.prev_length-K),G.lookahead-=G.prev_length-1,G.prev_length-=2;++G.strstart<=_e&&(G.ins_h=(G.ins_h<<G.hash_shift^G.window[G.strstart+K-1])&G.hash_mask,Ie=G.prev[G.strstart&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=G.strstart),--G.prev_length!=0;);if(G.match_available=0,G.match_length=K-1,G.strstart++,be&&(ue(G,!1),G.strm.avail_out===0))return $}else if(G.match_available){if((be=u._tr_tally(G,0,G.window[G.strstart-1]))&&ue(G,!1),G.strstart++,G.lookahead--,G.strm.avail_out===0)return $}else G.match_available=1,G.strstart++,G.lookahead--}return G.match_available&&(be=u._tr_tally(G,0,G.window[G.strstart-1]),G.match_available=0),G.insert=G.strstart<K-1?G.strstart:K-1,Ce===v?(ue(G,!0),G.strm.avail_out===0?ie:ce):G.last_lit&&(ue(G,!1),G.strm.avail_out===0)?$:De}function Ve(G,Ce,Ie,be,_e){this.good_length=G,this.max_lazy=Ce,this.nice_length=Ie,this.max_chain=be,this.func=_e}function Le(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=N,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*V),this.dyn_dtree=new c.Buf16(2*(2*F+1)),this.bl_tree=new c.Buf16(2*(2*U+1)),ne(this.dyn_ltree),ne(this.dyn_dtree),ne(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(B+1),this.heap=new c.Buf16(2*O+1),ne(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*O+1),ne(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ee(G){var Ce;return G&&G.state?(G.total_in=G.total_out=0,G.data_type=T,(Ce=G.state).pending=0,Ce.pending_out=0,Ce.wrap<0&&(Ce.wrap=-Ce.wrap),Ce.status=Ce.wrap?Q:ge,G.adler=Ce.wrap===2?0:1,Ce.last_flush=y,u._tr_init(Ce),_):X(G,A)}function we(G){var Ce=Ee(G);return Ce===_&&function(Ie){Ie.window_size=2*Ie.w_size,ne(Ie.head),Ie.max_lazy_match=l[Ie.level].max_lazy,Ie.good_match=l[Ie.level].good_length,Ie.nice_match=l[Ie.level].nice_length,Ie.max_chain_length=l[Ie.level].max_chain,Ie.strstart=0,Ie.block_start=0,Ie.lookahead=0,Ie.insert=0,Ie.match_length=Ie.prev_length=K-1,Ie.match_available=0,Ie.ins_h=0}(G.state),Ce}function ze(G,Ce,Ie,be,_e,Se){if(!G)return A;var He=1;if(Ce===S&&(Ce=6),be<0?(He=0,be=-be):15<be&&(He=2,be-=16),_e<1||j<_e||Ie!==N||be<8||15<be||Ce<0||9<Ce||Se<0||C<Se)return X(G,A);be===8&&(be=9);var qe=new Le;return(G.state=qe).strm=G,qe.wrap=He,qe.gzhead=null,qe.w_bits=be,qe.w_size=1<<qe.w_bits,qe.w_mask=qe.w_size-1,qe.hash_bits=_e+7,qe.hash_size=1<<qe.hash_bits,qe.hash_mask=qe.hash_size-1,qe.hash_shift=~~((qe.hash_bits+K-1)/K),qe.window=new c.Buf8(2*qe.w_size),qe.head=new c.Buf16(qe.hash_size),qe.prev=new c.Buf16(qe.w_size),qe.lit_bufsize=1<<_e+6,qe.pending_buf_size=4*qe.lit_bufsize,qe.pending_buf=new c.Buf8(qe.pending_buf_size),qe.d_buf=1*qe.lit_bufsize,qe.l_buf=3*qe.lit_bufsize,qe.level=Ce,qe.strategy=Se,qe.method=Ie,we(G)}l=[new Ve(0,0,0,0,function(G,Ce){var Ie=65535;for(Ie>G.pending_buf_size-5&&(Ie=G.pending_buf_size-5);;){if(G.lookahead<=1){if(Oe(G),G.lookahead===0&&Ce===y)return $;if(G.lookahead===0)break}G.strstart+=G.lookahead,G.lookahead=0;var be=G.block_start+Ie;if((G.strstart===0||G.strstart>=be)&&(G.lookahead=G.strstart-be,G.strstart=be,ue(G,!1),G.strm.avail_out===0)||G.strstart-G.block_start>=G.w_size-me&&(ue(G,!1),G.strm.avail_out===0))return $}return G.insert=0,Ce===v?(ue(G,!0),G.strm.avail_out===0?ie:ce):(G.strstart>G.block_start&&(ue(G,!1),G.strm.avail_out),$)}),new Ve(4,4,8,4,Pe),new Ve(4,5,16,8,Pe),new Ve(4,6,32,32,Pe),new Ve(4,4,16,16,Me),new Ve(8,16,32,32,Me),new Ve(8,16,128,128,Me),new Ve(8,32,128,256,Me),new Ve(32,128,258,1024,Me),new Ve(32,258,258,4096,Me)],o.deflateInit=function(G,Ce){return ze(G,Ce,N,15,8,0)},o.deflateInit2=ze,o.deflateReset=we,o.deflateResetKeep=Ee,o.deflateSetHeader=function(G,Ce){return G&&G.state?G.state.wrap!==2?A:(G.state.gzhead=Ce,_):A},o.deflate=function(G,Ce){var Ie,be,_e,Se;if(!G||!G.state||5<Ce||Ce<0)return G?X(G,A):A;if(be=G.state,!G.output||!G.input&&G.avail_in!==0||be.status===666&&Ce!==v)return X(G,G.avail_out===0?-5:A);if(be.strm=G,Ie=be.last_flush,be.last_flush=Ce,be.status===Q)if(be.wrap===2)G.adler=0,Z(be,31),Z(be,139),Z(be,8),be.gzhead?(Z(be,(be.gzhead.text?1:0)+(be.gzhead.hcrc?2:0)+(be.gzhead.extra?4:0)+(be.gzhead.name?8:0)+(be.gzhead.comment?16:0)),Z(be,255&be.gzhead.time),Z(be,be.gzhead.time>>8&255),Z(be,be.gzhead.time>>16&255),Z(be,be.gzhead.time>>24&255),Z(be,be.level===9?2:2<=be.strategy||be.level<2?4:0),Z(be,255&be.gzhead.os),be.gzhead.extra&&be.gzhead.extra.length&&(Z(be,255&be.gzhead.extra.length),Z(be,be.gzhead.extra.length>>8&255)),be.gzhead.hcrc&&(G.adler=m(G.adler,be.pending_buf,be.pending,0)),be.gzindex=0,be.status=69):(Z(be,0),Z(be,0),Z(be,0),Z(be,0),Z(be,0),Z(be,be.level===9?2:2<=be.strategy||be.level<2?4:0),Z(be,3),be.status=ge);else{var He=N+(be.w_bits-8<<4)<<8;He|=(2<=be.strategy||be.level<2?0:be.level<6?1:be.level===6?2:3)<<6,be.strstart!==0&&(He|=32),He+=31-He%31,be.status=ge,xe(be,He),be.strstart!==0&&(xe(be,G.adler>>>16),xe(be,65535&G.adler)),G.adler=1}if(be.status===69)if(be.gzhead.extra){for(_e=be.pending;be.gzindex<(65535&be.gzhead.extra.length)&&(be.pending!==be.pending_buf_size||(be.gzhead.hcrc&&be.pending>_e&&(G.adler=m(G.adler,be.pending_buf,be.pending-_e,_e)),ee(G),_e=be.pending,be.pending!==be.pending_buf_size));)Z(be,255&be.gzhead.extra[be.gzindex]),be.gzindex++;be.gzhead.hcrc&&be.pending>_e&&(G.adler=m(G.adler,be.pending_buf,be.pending-_e,_e)),be.gzindex===be.gzhead.extra.length&&(be.gzindex=0,be.status=73)}else be.status=73;if(be.status===73)if(be.gzhead.name){_e=be.pending;do{if(be.pending===be.pending_buf_size&&(be.gzhead.hcrc&&be.pending>_e&&(G.adler=m(G.adler,be.pending_buf,be.pending-_e,_e)),ee(G),_e=be.pending,be.pending===be.pending_buf_size)){Se=1;break}Se=be.gzindex<be.gzhead.name.length?255&be.gzhead.name.charCodeAt(be.gzindex++):0,Z(be,Se)}while(Se!==0);be.gzhead.hcrc&&be.pending>_e&&(G.adler=m(G.adler,be.pending_buf,be.pending-_e,_e)),Se===0&&(be.gzindex=0,be.status=91)}else be.status=91;if(be.status===91)if(be.gzhead.comment){_e=be.pending;do{if(be.pending===be.pending_buf_size&&(be.gzhead.hcrc&&be.pending>_e&&(G.adler=m(G.adler,be.pending_buf,be.pending-_e,_e)),ee(G),_e=be.pending,be.pending===be.pending_buf_size)){Se=1;break}Se=be.gzindex<be.gzhead.comment.length?255&be.gzhead.comment.charCodeAt(be.gzindex++):0,Z(be,Se)}while(Se!==0);be.gzhead.hcrc&&be.pending>_e&&(G.adler=m(G.adler,be.pending_buf,be.pending-_e,_e)),Se===0&&(be.status=103)}else be.status=103;if(be.status===103&&(be.gzhead.hcrc?(be.pending+2>be.pending_buf_size&&ee(G),be.pending+2<=be.pending_buf_size&&(Z(be,255&G.adler),Z(be,G.adler>>8&255),G.adler=0,be.status=ge)):be.status=ge),be.pending!==0){if(ee(G),G.avail_out===0)return be.last_flush=-1,_}else if(G.avail_in===0&&Y(Ce)<=Y(Ie)&&Ce!==v)return X(G,-5);if(be.status===666&&G.avail_in!==0)return X(G,-5);if(G.avail_in!==0||be.lookahead!==0||Ce!==y&&be.status!==666){var qe=be.strategy===2?function(Fe,Te){for(var ke;;){if(Fe.lookahead===0&&(Oe(Fe),Fe.lookahead===0)){if(Te===y)return $;break}if(Fe.match_length=0,ke=u._tr_tally(Fe,0,Fe.window[Fe.strstart]),Fe.lookahead--,Fe.strstart++,ke&&(ue(Fe,!1),Fe.strm.avail_out===0))return $}return Fe.insert=0,Te===v?(ue(Fe,!0),Fe.strm.avail_out===0?ie:ce):Fe.last_lit&&(ue(Fe,!1),Fe.strm.avail_out===0)?$:De}(be,Ce):be.strategy===3?function(Fe,Te){for(var ke,le,Ue,et,nt=Fe.window;;){if(Fe.lookahead<=oe){if(Oe(Fe),Fe.lookahead<=oe&&Te===y)return $;if(Fe.lookahead===0)break}if(Fe.match_length=0,Fe.lookahead>=K&&0<Fe.strstart&&(le=nt[Ue=Fe.strstart-1])===nt[++Ue]&&le===nt[++Ue]&&le===nt[++Ue]){et=Fe.strstart+oe;do;while(le===nt[++Ue]&&le===nt[++Ue]&&le===nt[++Ue]&&le===nt[++Ue]&&le===nt[++Ue]&&le===nt[++Ue]&&le===nt[++Ue]&&le===nt[++Ue]&&Ue<et);Fe.match_length=oe-(et-Ue),Fe.match_length>Fe.lookahead&&(Fe.match_length=Fe.lookahead)}if(Fe.match_length>=K?(ke=u._tr_tally(Fe,1,Fe.match_length-K),Fe.lookahead-=Fe.match_length,Fe.strstart+=Fe.match_length,Fe.match_length=0):(ke=u._tr_tally(Fe,0,Fe.window[Fe.strstart]),Fe.lookahead--,Fe.strstart++),ke&&(ue(Fe,!1),Fe.strm.avail_out===0))return $}return Fe.insert=0,Te===v?(ue(Fe,!0),Fe.strm.avail_out===0?ie:ce):Fe.last_lit&&(ue(Fe,!1),Fe.strm.avail_out===0)?$:De}(be,Ce):l[be.level].func(be,Ce);if(qe!==ie&&qe!==ce||(be.status=666),qe===$||qe===ie)return G.avail_out===0&&(be.last_flush=-1),_;if(qe===De&&(Ce===1?u._tr_align(be):Ce!==5&&(u._tr_stored_block(be,0,0,!1),Ce===3&&(ne(be.head),be.lookahead===0&&(be.strstart=0,be.block_start=0,be.insert=0))),ee(G),G.avail_out===0))return be.last_flush=-1,_}return Ce!==v?_:be.wrap<=0?1:(be.wrap===2?(Z(be,255&G.adler),Z(be,G.adler>>8&255),Z(be,G.adler>>16&255),Z(be,G.adler>>24&255),Z(be,255&G.total_in),Z(be,G.total_in>>8&255),Z(be,G.total_in>>16&255),Z(be,G.total_in>>24&255)):(xe(be,G.adler>>>16),xe(be,65535&G.adler)),ee(G),0<be.wrap&&(be.wrap=-be.wrap),be.pending!==0?_:1)},o.deflateEnd=function(G){var Ce;return G&&G.state?(Ce=G.state.status)!==Q&&Ce!==69&&Ce!==73&&Ce!==91&&Ce!==103&&Ce!==ge&&Ce!==666?X(G,A):(G.state=null,Ce===ge?X(G,-3):_):A},o.deflateSetDictionary=function(G,Ce){var Ie,be,_e,Se,He,qe,Fe,Te,ke=Ce.length;if(!G||!G.state||(Se=(Ie=G.state).wrap)===2||Se===1&&Ie.status!==Q||Ie.lookahead)return A;for(Se===1&&(G.adler=h(G.adler,Ce,ke,0)),Ie.wrap=0,ke>=Ie.w_size&&(Se===0&&(ne(Ie.head),Ie.strstart=0,Ie.block_start=0,Ie.insert=0),Te=new c.Buf8(Ie.w_size),c.arraySet(Te,Ce,ke-Ie.w_size,Ie.w_size,0),Ce=Te,ke=Ie.w_size),He=G.avail_in,qe=G.next_in,Fe=G.input,G.avail_in=ke,G.next_in=0,G.input=Ce,Oe(Ie);Ie.lookahead>=K;){for(be=Ie.strstart,_e=Ie.lookahead-(K-1);Ie.ins_h=(Ie.ins_h<<Ie.hash_shift^Ie.window[be+K-1])&Ie.hash_mask,Ie.prev[be&Ie.w_mask]=Ie.head[Ie.ins_h],Ie.head[Ie.ins_h]=be,be++,--_e;);Ie.strstart=be,Ie.lookahead=K-1,Oe(Ie)}return Ie.strstart+=Ie.lookahead,Ie.block_start=Ie.strstart,Ie.insert=Ie.lookahead,Ie.lookahead=0,Ie.match_length=Ie.prev_length=K-1,Ie.match_available=0,G.next_in=qe,G.input=Fe,G.avail_in=He,Ie.wrap=Se,_},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(i,r,o){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(i,r,o){r.exports=function(l,c){var u,h,m,g,y,v,_,A,S,C,T,N,j,O,F,U,V,B,K,oe,me,Q,ge,$,De;u=l.state,h=l.next_in,$=l.input,m=h+(l.avail_in-5),g=l.next_out,De=l.output,y=g-(c-l.avail_out),v=g+(l.avail_out-257),_=u.dmax,A=u.wsize,S=u.whave,C=u.wnext,T=u.window,N=u.hold,j=u.bits,O=u.lencode,F=u.distcode,U=(1<<u.lenbits)-1,V=(1<<u.distbits)-1;e:do{j<15&&(N+=$[h++]<<j,j+=8,N+=$[h++]<<j,j+=8),B=O[N&U];t:for(;;){if(N>>>=K=B>>>24,j-=K,(K=B>>>16&255)===0)De[g++]=65535&B;else{if(!(16&K)){if(!(64&K)){B=O[(65535&B)+(N&(1<<K)-1)];continue t}if(32&K){u.mode=12;break e}l.msg="invalid literal/length code",u.mode=30;break e}oe=65535&B,(K&=15)&&(j<K&&(N+=$[h++]<<j,j+=8),oe+=N&(1<<K)-1,N>>>=K,j-=K),j<15&&(N+=$[h++]<<j,j+=8,N+=$[h++]<<j,j+=8),B=F[N&V];n:for(;;){if(N>>>=K=B>>>24,j-=K,!(16&(K=B>>>16&255))){if(!(64&K)){B=F[(65535&B)+(N&(1<<K)-1)];continue n}l.msg="invalid distance code",u.mode=30;break e}if(me=65535&B,j<(K&=15)&&(N+=$[h++]<<j,(j+=8)<K&&(N+=$[h++]<<j,j+=8)),_<(me+=N&(1<<K)-1)){l.msg="invalid distance too far back",u.mode=30;break e}if(N>>>=K,j-=K,(K=g-y)<me){if(S<(K=me-K)&&u.sane){l.msg="invalid distance too far back",u.mode=30;break e}if(ge=T,(Q=0)===C){if(Q+=A-K,K<oe){for(oe-=K;De[g++]=T[Q++],--K;);Q=g-me,ge=De}}else if(C<K){if(Q+=A+C-K,(K-=C)<oe){for(oe-=K;De[g++]=T[Q++],--K;);if(Q=0,C<oe){for(oe-=K=C;De[g++]=T[Q++],--K;);Q=g-me,ge=De}}}else if(Q+=C-K,K<oe){for(oe-=K;De[g++]=T[Q++],--K;);Q=g-me,ge=De}for(;2<oe;)De[g++]=ge[Q++],De[g++]=ge[Q++],De[g++]=ge[Q++],oe-=3;oe&&(De[g++]=ge[Q++],1<oe&&(De[g++]=ge[Q++]))}else{for(Q=g-me;De[g++]=De[Q++],De[g++]=De[Q++],De[g++]=De[Q++],2<(oe-=3););oe&&(De[g++]=De[Q++],1<oe&&(De[g++]=De[Q++]))}break}}break}}while(h<m&&g<v);h-=oe=j>>3,N&=(1<<(j-=oe<<3))-1,l.next_in=h,l.next_out=g,l.avail_in=h<m?m-h+5:5-(h-m),l.avail_out=g<v?v-g+257:257-(g-v),u.hold=N,u.bits=j}},{}],49:[function(i,r,o){var l=i("../utils/common"),c=i("./adler32"),u=i("./crc32"),h=i("./inffast"),m=i("./inftrees"),g=1,y=2,v=0,_=-2,A=1,S=852,C=592;function T(Q){return(Q>>>24&255)+(Q>>>8&65280)+((65280&Q)<<8)+((255&Q)<<24)}function N(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new l.Buf16(320),this.work=new l.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function j(Q){var ge;return Q&&Q.state?(ge=Q.state,Q.total_in=Q.total_out=ge.total=0,Q.msg="",ge.wrap&&(Q.adler=1&ge.wrap),ge.mode=A,ge.last=0,ge.havedict=0,ge.dmax=32768,ge.head=null,ge.hold=0,ge.bits=0,ge.lencode=ge.lendyn=new l.Buf32(S),ge.distcode=ge.distdyn=new l.Buf32(C),ge.sane=1,ge.back=-1,v):_}function O(Q){var ge;return Q&&Q.state?((ge=Q.state).wsize=0,ge.whave=0,ge.wnext=0,j(Q)):_}function F(Q,ge){var $,De;return Q&&Q.state?(De=Q.state,ge<0?($=0,ge=-ge):($=1+(ge>>4),ge<48&&(ge&=15)),ge&&(ge<8||15<ge)?_:(De.window!==null&&De.wbits!==ge&&(De.window=null),De.wrap=$,De.wbits=ge,O(Q))):_}function U(Q,ge){var $,De;return Q?(De=new N,(Q.state=De).window=null,($=F(Q,ge))!==v&&(Q.state=null),$):_}var V,B,K=!0;function oe(Q){if(K){var ge;for(V=new l.Buf32(512),B=new l.Buf32(32),ge=0;ge<144;)Q.lens[ge++]=8;for(;ge<256;)Q.lens[ge++]=9;for(;ge<280;)Q.lens[ge++]=7;for(;ge<288;)Q.lens[ge++]=8;for(m(g,Q.lens,0,288,V,0,Q.work,{bits:9}),ge=0;ge<32;)Q.lens[ge++]=5;m(y,Q.lens,0,32,B,0,Q.work,{bits:5}),K=!1}Q.lencode=V,Q.lenbits=9,Q.distcode=B,Q.distbits=5}function me(Q,ge,$,De){var ie,ce=Q.state;return ce.window===null&&(ce.wsize=1<<ce.wbits,ce.wnext=0,ce.whave=0,ce.window=new l.Buf8(ce.wsize)),De>=ce.wsize?(l.arraySet(ce.window,ge,$-ce.wsize,ce.wsize,0),ce.wnext=0,ce.whave=ce.wsize):(De<(ie=ce.wsize-ce.wnext)&&(ie=De),l.arraySet(ce.window,ge,$-De,ie,ce.wnext),(De-=ie)?(l.arraySet(ce.window,ge,$-De,De,0),ce.wnext=De,ce.whave=ce.wsize):(ce.wnext+=ie,ce.wnext===ce.wsize&&(ce.wnext=0),ce.whave<ce.wsize&&(ce.whave+=ie))),0}o.inflateReset=O,o.inflateReset2=F,o.inflateResetKeep=j,o.inflateInit=function(Q){return U(Q,15)},o.inflateInit2=U,o.inflate=function(Q,ge){var $,De,ie,ce,X,Y,ne,ee,ue,Z,xe,Ae,Oe,Pe,Me,Ve,Le,Ee,we,ze,G,Ce,Ie,be,_e=0,Se=new l.Buf8(4),He=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Q||!Q.state||!Q.output||!Q.input&&Q.avail_in!==0)return _;($=Q.state).mode===12&&($.mode=13),X=Q.next_out,ie=Q.output,ne=Q.avail_out,ce=Q.next_in,De=Q.input,Y=Q.avail_in,ee=$.hold,ue=$.bits,Z=Y,xe=ne,Ce=v;e:for(;;)switch($.mode){case A:if($.wrap===0){$.mode=13;break}for(;ue<16;){if(Y===0)break e;Y--,ee+=De[ce++]<<ue,ue+=8}if(2&$.wrap&&ee===35615){Se[$.check=0]=255&ee,Se[1]=ee>>>8&255,$.check=u($.check,Se,2,0),ue=ee=0,$.mode=2;break}if($.flags=0,$.head&&($.head.done=!1),!(1&$.wrap)||(((255&ee)<<8)+(ee>>8))%31){Q.msg="incorrect header check",$.mode=30;break}if((15&ee)!=8){Q.msg="unknown compression method",$.mode=30;break}if(ue-=4,G=8+(15&(ee>>>=4)),$.wbits===0)$.wbits=G;else if(G>$.wbits){Q.msg="invalid window size",$.mode=30;break}$.dmax=1<<G,Q.adler=$.check=1,$.mode=512&ee?10:12,ue=ee=0;break;case 2:for(;ue<16;){if(Y===0)break e;Y--,ee+=De[ce++]<<ue,ue+=8}if($.flags=ee,(255&$.flags)!=8){Q.msg="unknown compression method",$.mode=30;break}if(57344&$.flags){Q.msg="unknown header flags set",$.mode=30;break}$.head&&($.head.text=ee>>8&1),512&$.flags&&(Se[0]=255&ee,Se[1]=ee>>>8&255,$.check=u($.check,Se,2,0)),ue=ee=0,$.mode=3;case 3:for(;ue<32;){if(Y===0)break e;Y--,ee+=De[ce++]<<ue,ue+=8}$.head&&($.head.time=ee),512&$.flags&&(Se[0]=255&ee,Se[1]=ee>>>8&255,Se[2]=ee>>>16&255,Se[3]=ee>>>24&255,$.check=u($.check,Se,4,0)),ue=ee=0,$.mode=4;case 4:for(;ue<16;){if(Y===0)break e;Y--,ee+=De[ce++]<<ue,ue+=8}$.head&&($.head.xflags=255&ee,$.head.os=ee>>8),512&$.flags&&(Se[0]=255&ee,Se[1]=ee>>>8&255,$.check=u($.check,Se,2,0)),ue=ee=0,$.mode=5;case 5:if(1024&$.flags){for(;ue<16;){if(Y===0)break e;Y--,ee+=De[ce++]<<ue,ue+=8}$.length=ee,$.head&&($.head.extra_len=ee),512&$.flags&&(Se[0]=255&ee,Se[1]=ee>>>8&255,$.check=u($.check,Se,2,0)),ue=ee=0}else $.head&&($.head.extra=null);$.mode=6;case 6:if(1024&$.flags&&(Y<(Ae=$.length)&&(Ae=Y),Ae&&($.head&&(G=$.head.extra_len-$.length,$.head.extra||($.head.extra=new Array($.head.extra_len)),l.arraySet($.head.extra,De,ce,Ae,G)),512&$.flags&&($.check=u($.check,De,Ae,ce)),Y-=Ae,ce+=Ae,$.length-=Ae),$.length))break e;$.length=0,$.mode=7;case 7:if(2048&$.flags){if(Y===0)break e;for(Ae=0;G=De[ce+Ae++],$.head&&G&&$.length<65536&&($.head.name+=String.fromCharCode(G)),G&&Ae<Y;);if(512&$.flags&&($.check=u($.check,De,Ae,ce)),Y-=Ae,ce+=Ae,G)break e}else $.head&&($.head.name=null);$.length=0,$.mode=8;case 8:if(4096&$.flags){if(Y===0)break e;for(Ae=0;G=De[ce+Ae++],$.head&&G&&$.length<65536&&($.head.comment+=String.fromCharCode(G)),G&&Ae<Y;);if(512&$.flags&&($.check=u($.check,De,Ae,ce)),Y-=Ae,ce+=Ae,G)break e}else $.head&&($.head.comment=null);$.mode=9;case 9:if(512&$.flags){for(;ue<16;){if(Y===0)break e;Y--,ee+=De[ce++]<<ue,ue+=8}if(ee!==(65535&$.check)){Q.msg="header crc mismatch",$.mode=30;break}ue=ee=0}$.head&&($.head.hcrc=$.flags>>9&1,$.head.done=!0),Q.adler=$.check=0,$.mode=12;break;case 10:for(;ue<32;){if(Y===0)break e;Y--,ee+=De[ce++]<<ue,ue+=8}Q.adler=$.check=T(ee),ue=ee=0,$.mode=11;case 11:if($.havedict===0)return Q.next_out=X,Q.avail_out=ne,Q.next_in=ce,Q.avail_in=Y,$.hold=ee,$.bits=ue,2;Q.adler=$.check=1,$.mode=12;case 12:if(ge===5||ge===6)break e;case 13:if($.last){ee>>>=7&ue,ue-=7&ue,$.mode=27;break}for(;ue<3;){if(Y===0)break e;Y--,ee+=De[ce++]<<ue,ue+=8}switch($.last=1&ee,ue-=1,3&(ee>>>=1)){case 0:$.mode=14;break;case 1:if(oe($),$.mode=20,ge!==6)break;ee>>>=2,ue-=2;break e;case 2:$.mode=17;break;case 3:Q.msg="invalid block type",$.mode=30}ee>>>=2,ue-=2;break;case 14:for(ee>>>=7&ue,ue-=7&ue;ue<32;){if(Y===0)break e;Y--,ee+=De[ce++]<<ue,ue+=8}if((65535&ee)!=(ee>>>16^65535)){Q.msg="invalid stored block lengths",$.mode=30;break}if($.length=65535&ee,ue=ee=0,$.mode=15,ge===6)break e;case 15:$.mode=16;case 16:if(Ae=$.length){if(Y<Ae&&(Ae=Y),ne<Ae&&(Ae=ne),Ae===0)break e;l.arraySet(ie,De,ce,Ae,X),Y-=Ae,ce+=Ae,ne-=Ae,X+=Ae,$.length-=Ae;break}$.mode=12;break;case 17:for(;ue<14;){if(Y===0)break e;Y--,ee+=De[ce++]<<ue,ue+=8}if($.nlen=257+(31&ee),ee>>>=5,ue-=5,$.ndist=1+(31&ee),ee>>>=5,ue-=5,$.ncode=4+(15&ee),ee>>>=4,ue-=4,286<$.nlen||30<$.ndist){Q.msg="too many length or distance symbols",$.mode=30;break}$.have=0,$.mode=18;case 18:for(;$.have<$.ncode;){for(;ue<3;){if(Y===0)break e;Y--,ee+=De[ce++]<<ue,ue+=8}$.lens[He[$.have++]]=7&ee,ee>>>=3,ue-=3}for(;$.have<19;)$.lens[He[$.have++]]=0;if($.lencode=$.lendyn,$.lenbits=7,Ie={bits:$.lenbits},Ce=m(0,$.lens,0,19,$.lencode,0,$.work,Ie),$.lenbits=Ie.bits,Ce){Q.msg="invalid code lengths set",$.mode=30;break}$.have=0,$.mode=19;case 19:for(;$.have<$.nlen+$.ndist;){for(;Ve=(_e=$.lencode[ee&(1<<$.lenbits)-1])>>>16&255,Le=65535&_e,!((Me=_e>>>24)<=ue);){if(Y===0)break e;Y--,ee+=De[ce++]<<ue,ue+=8}if(Le<16)ee>>>=Me,ue-=Me,$.lens[$.have++]=Le;else{if(Le===16){for(be=Me+2;ue<be;){if(Y===0)break e;Y--,ee+=De[ce++]<<ue,ue+=8}if(ee>>>=Me,ue-=Me,$.have===0){Q.msg="invalid bit length repeat",$.mode=30;break}G=$.lens[$.have-1],Ae=3+(3&ee),ee>>>=2,ue-=2}else if(Le===17){for(be=Me+3;ue<be;){if(Y===0)break e;Y--,ee+=De[ce++]<<ue,ue+=8}ue-=Me,G=0,Ae=3+(7&(ee>>>=Me)),ee>>>=3,ue-=3}else{for(be=Me+7;ue<be;){if(Y===0)break e;Y--,ee+=De[ce++]<<ue,ue+=8}ue-=Me,G=0,Ae=11+(127&(ee>>>=Me)),ee>>>=7,ue-=7}if($.have+Ae>$.nlen+$.ndist){Q.msg="invalid bit length repeat",$.mode=30;break}for(;Ae--;)$.lens[$.have++]=G}}if($.mode===30)break;if($.lens[256]===0){Q.msg="invalid code -- missing end-of-block",$.mode=30;break}if($.lenbits=9,Ie={bits:$.lenbits},Ce=m(g,$.lens,0,$.nlen,$.lencode,0,$.work,Ie),$.lenbits=Ie.bits,Ce){Q.msg="invalid literal/lengths set",$.mode=30;break}if($.distbits=6,$.distcode=$.distdyn,Ie={bits:$.distbits},Ce=m(y,$.lens,$.nlen,$.ndist,$.distcode,0,$.work,Ie),$.distbits=Ie.bits,Ce){Q.msg="invalid distances set",$.mode=30;break}if($.mode=20,ge===6)break e;case 20:$.mode=21;case 21:if(6<=Y&&258<=ne){Q.next_out=X,Q.avail_out=ne,Q.next_in=ce,Q.avail_in=Y,$.hold=ee,$.bits=ue,h(Q,xe),X=Q.next_out,ie=Q.output,ne=Q.avail_out,ce=Q.next_in,De=Q.input,Y=Q.avail_in,ee=$.hold,ue=$.bits,$.mode===12&&($.back=-1);break}for($.back=0;Ve=(_e=$.lencode[ee&(1<<$.lenbits)-1])>>>16&255,Le=65535&_e,!((Me=_e>>>24)<=ue);){if(Y===0)break e;Y--,ee+=De[ce++]<<ue,ue+=8}if(Ve&&!(240&Ve)){for(Ee=Me,we=Ve,ze=Le;Ve=(_e=$.lencode[ze+((ee&(1<<Ee+we)-1)>>Ee)])>>>16&255,Le=65535&_e,!(Ee+(Me=_e>>>24)<=ue);){if(Y===0)break e;Y--,ee+=De[ce++]<<ue,ue+=8}ee>>>=Ee,ue-=Ee,$.back+=Ee}if(ee>>>=Me,ue-=Me,$.back+=Me,$.length=Le,Ve===0){$.mode=26;break}if(32&Ve){$.back=-1,$.mode=12;break}if(64&Ve){Q.msg="invalid literal/length code",$.mode=30;break}$.extra=15&Ve,$.mode=22;case 22:if($.extra){for(be=$.extra;ue<be;){if(Y===0)break e;Y--,ee+=De[ce++]<<ue,ue+=8}$.length+=ee&(1<<$.extra)-1,ee>>>=$.extra,ue-=$.extra,$.back+=$.extra}$.was=$.length,$.mode=23;case 23:for(;Ve=(_e=$.distcode[ee&(1<<$.distbits)-1])>>>16&255,Le=65535&_e,!((Me=_e>>>24)<=ue);){if(Y===0)break e;Y--,ee+=De[ce++]<<ue,ue+=8}if(!(240&Ve)){for(Ee=Me,we=Ve,ze=Le;Ve=(_e=$.distcode[ze+((ee&(1<<Ee+we)-1)>>Ee)])>>>16&255,Le=65535&_e,!(Ee+(Me=_e>>>24)<=ue);){if(Y===0)break e;Y--,ee+=De[ce++]<<ue,ue+=8}ee>>>=Ee,ue-=Ee,$.back+=Ee}if(ee>>>=Me,ue-=Me,$.back+=Me,64&Ve){Q.msg="invalid distance code",$.mode=30;break}$.offset=Le,$.extra=15&Ve,$.mode=24;case 24:if($.extra){for(be=$.extra;ue<be;){if(Y===0)break e;Y--,ee+=De[ce++]<<ue,ue+=8}$.offset+=ee&(1<<$.extra)-1,ee>>>=$.extra,ue-=$.extra,$.back+=$.extra}if($.offset>$.dmax){Q.msg="invalid distance too far back",$.mode=30;break}$.mode=25;case 25:if(ne===0)break e;if(Ae=xe-ne,$.offset>Ae){if((Ae=$.offset-Ae)>$.whave&&$.sane){Q.msg="invalid distance too far back",$.mode=30;break}Oe=Ae>$.wnext?(Ae-=$.wnext,$.wsize-Ae):$.wnext-Ae,Ae>$.length&&(Ae=$.length),Pe=$.window}else Pe=ie,Oe=X-$.offset,Ae=$.length;for(ne<Ae&&(Ae=ne),ne-=Ae,$.length-=Ae;ie[X++]=Pe[Oe++],--Ae;);$.length===0&&($.mode=21);break;case 26:if(ne===0)break e;ie[X++]=$.length,ne--,$.mode=21;break;case 27:if($.wrap){for(;ue<32;){if(Y===0)break e;Y--,ee|=De[ce++]<<ue,ue+=8}if(xe-=ne,Q.total_out+=xe,$.total+=xe,xe&&(Q.adler=$.check=$.flags?u($.check,ie,xe,X-xe):c($.check,ie,xe,X-xe)),xe=ne,($.flags?ee:T(ee))!==$.check){Q.msg="incorrect data check",$.mode=30;break}ue=ee=0}$.mode=28;case 28:if($.wrap&&$.flags){for(;ue<32;){if(Y===0)break e;Y--,ee+=De[ce++]<<ue,ue+=8}if(ee!==(4294967295&$.total)){Q.msg="incorrect length check",$.mode=30;break}ue=ee=0}$.mode=29;case 29:Ce=1;break e;case 30:Ce=-3;break e;case 31:return-4;case 32:default:return _}return Q.next_out=X,Q.avail_out=ne,Q.next_in=ce,Q.avail_in=Y,$.hold=ee,$.bits=ue,($.wsize||xe!==Q.avail_out&&$.mode<30&&($.mode<27||ge!==4))&&me(Q,Q.output,Q.next_out,xe-Q.avail_out)?($.mode=31,-4):(Z-=Q.avail_in,xe-=Q.avail_out,Q.total_in+=Z,Q.total_out+=xe,$.total+=xe,$.wrap&&xe&&(Q.adler=$.check=$.flags?u($.check,ie,xe,Q.next_out-xe):c($.check,ie,xe,Q.next_out-xe)),Q.data_type=$.bits+($.last?64:0)+($.mode===12?128:0)+($.mode===20||$.mode===15?256:0),(Z==0&&xe===0||ge===4)&&Ce===v&&(Ce=-5),Ce)},o.inflateEnd=function(Q){if(!Q||!Q.state)return _;var ge=Q.state;return ge.window&&(ge.window=null),Q.state=null,v},o.inflateGetHeader=function(Q,ge){var $;return Q&&Q.state&&2&($=Q.state).wrap?(($.head=ge).done=!1,v):_},o.inflateSetDictionary=function(Q,ge){var $,De=ge.length;return Q&&Q.state?($=Q.state).wrap!==0&&$.mode!==11?_:$.mode===11&&c(1,ge,De,0)!==$.check?-3:me(Q,ge,De,De)?($.mode=31,-4):($.havedict=1,v):_},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(i,r,o){var l=i("../utils/common"),c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(g,y,v,_,A,S,C,T){var N,j,O,F,U,V,B,K,oe,me=T.bits,Q=0,ge=0,$=0,De=0,ie=0,ce=0,X=0,Y=0,ne=0,ee=0,ue=null,Z=0,xe=new l.Buf16(16),Ae=new l.Buf16(16),Oe=null,Pe=0;for(Q=0;Q<=15;Q++)xe[Q]=0;for(ge=0;ge<_;ge++)xe[y[v+ge]]++;for(ie=me,De=15;1<=De&&xe[De]===0;De--);if(De<ie&&(ie=De),De===0)return A[S++]=20971520,A[S++]=20971520,T.bits=1,0;for($=1;$<De&&xe[$]===0;$++);for(ie<$&&(ie=$),Q=Y=1;Q<=15;Q++)if(Y<<=1,(Y-=xe[Q])<0)return-1;if(0<Y&&(g===0||De!==1))return-1;for(Ae[1]=0,Q=1;Q<15;Q++)Ae[Q+1]=Ae[Q]+xe[Q];for(ge=0;ge<_;ge++)y[v+ge]!==0&&(C[Ae[y[v+ge]]++]=ge);if(V=g===0?(ue=Oe=C,19):g===1?(ue=c,Z-=257,Oe=u,Pe-=257,256):(ue=h,Oe=m,-1),Q=$,U=S,X=ge=ee=0,O=-1,F=(ne=1<<(ce=ie))-1,g===1&&852<ne||g===2&&592<ne)return 1;for(;;){for(B=Q-X,oe=C[ge]<V?(K=0,C[ge]):C[ge]>V?(K=Oe[Pe+C[ge]],ue[Z+C[ge]]):(K=96,0),N=1<<Q-X,$=j=1<<ce;A[U+(ee>>X)+(j-=N)]=B<<24|K<<16|oe|0,j!==0;);for(N=1<<Q-1;ee&N;)N>>=1;if(N!==0?(ee&=N-1,ee+=N):ee=0,ge++,--xe[Q]==0){if(Q===De)break;Q=y[v+C[ge]]}if(ie<Q&&(ee&F)!==O){for(X===0&&(X=ie),U+=$,Y=1<<(ce=Q-X);ce+X<De&&!((Y-=xe[ce+X])<=0);)ce++,Y<<=1;if(ne+=1<<ce,g===1&&852<ne||g===2&&592<ne)return 1;A[O=ee&F]=ie<<24|ce<<16|U-S|0}}return ee!==0&&(A[U+ee]=Q-X<<24|64<<16|0),T.bits=ie,0}},{"../utils/common":41}],51:[function(i,r,o){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(i,r,o){var l=i("../utils/common"),c=0,u=1;function h(_e){for(var Se=_e.length;0<=--Se;)_e[Se]=0}var m=0,g=29,y=256,v=y+1+g,_=30,A=19,S=2*v+1,C=15,T=16,N=7,j=256,O=16,F=17,U=18,V=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],B=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],K=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],oe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],me=new Array(2*(v+2));h(me);var Q=new Array(2*_);h(Q);var ge=new Array(512);h(ge);var $=new Array(256);h($);var De=new Array(g);h(De);var ie,ce,X,Y=new Array(_);function ne(_e,Se,He,qe,Fe){this.static_tree=_e,this.extra_bits=Se,this.extra_base=He,this.elems=qe,this.max_length=Fe,this.has_stree=_e&&_e.length}function ee(_e,Se){this.dyn_tree=_e,this.max_code=0,this.stat_desc=Se}function ue(_e){return _e<256?ge[_e]:ge[256+(_e>>>7)]}function Z(_e,Se){_e.pending_buf[_e.pending++]=255&Se,_e.pending_buf[_e.pending++]=Se>>>8&255}function xe(_e,Se,He){_e.bi_valid>T-He?(_e.bi_buf|=Se<<_e.bi_valid&65535,Z(_e,_e.bi_buf),_e.bi_buf=Se>>T-_e.bi_valid,_e.bi_valid+=He-T):(_e.bi_buf|=Se<<_e.bi_valid&65535,_e.bi_valid+=He)}function Ae(_e,Se,He){xe(_e,He[2*Se],He[2*Se+1])}function Oe(_e,Se){for(var He=0;He|=1&_e,_e>>>=1,He<<=1,0<--Se;);return He>>>1}function Pe(_e,Se,He){var qe,Fe,Te=new Array(C+1),ke=0;for(qe=1;qe<=C;qe++)Te[qe]=ke=ke+He[qe-1]<<1;for(Fe=0;Fe<=Se;Fe++){var le=_e[2*Fe+1];le!==0&&(_e[2*Fe]=Oe(Te[le]++,le))}}function Me(_e){var Se;for(Se=0;Se<v;Se++)_e.dyn_ltree[2*Se]=0;for(Se=0;Se<_;Se++)_e.dyn_dtree[2*Se]=0;for(Se=0;Se<A;Se++)_e.bl_tree[2*Se]=0;_e.dyn_ltree[2*j]=1,_e.opt_len=_e.static_len=0,_e.last_lit=_e.matches=0}function Ve(_e){8<_e.bi_valid?Z(_e,_e.bi_buf):0<_e.bi_valid&&(_e.pending_buf[_e.pending++]=_e.bi_buf),_e.bi_buf=0,_e.bi_valid=0}function Le(_e,Se,He,qe){var Fe=2*Se,Te=2*He;return _e[Fe]<_e[Te]||_e[Fe]===_e[Te]&&qe[Se]<=qe[He]}function Ee(_e,Se,He){for(var qe=_e.heap[He],Fe=He<<1;Fe<=_e.heap_len&&(Fe<_e.heap_len&&Le(Se,_e.heap[Fe+1],_e.heap[Fe],_e.depth)&&Fe++,!Le(Se,qe,_e.heap[Fe],_e.depth));)_e.heap[He]=_e.heap[Fe],He=Fe,Fe<<=1;_e.heap[He]=qe}function we(_e,Se,He){var qe,Fe,Te,ke,le=0;if(_e.last_lit!==0)for(;qe=_e.pending_buf[_e.d_buf+2*le]<<8|_e.pending_buf[_e.d_buf+2*le+1],Fe=_e.pending_buf[_e.l_buf+le],le++,qe===0?Ae(_e,Fe,Se):(Ae(_e,(Te=$[Fe])+y+1,Se),(ke=V[Te])!==0&&xe(_e,Fe-=De[Te],ke),Ae(_e,Te=ue(--qe),He),(ke=B[Te])!==0&&xe(_e,qe-=Y[Te],ke)),le<_e.last_lit;);Ae(_e,j,Se)}function ze(_e,Se){var He,qe,Fe,Te=Se.dyn_tree,ke=Se.stat_desc.static_tree,le=Se.stat_desc.has_stree,Ue=Se.stat_desc.elems,et=-1;for(_e.heap_len=0,_e.heap_max=S,He=0;He<Ue;He++)Te[2*He]!==0?(_e.heap[++_e.heap_len]=et=He,_e.depth[He]=0):Te[2*He+1]=0;for(;_e.heap_len<2;)Te[2*(Fe=_e.heap[++_e.heap_len]=et<2?++et:0)]=1,_e.depth[Fe]=0,_e.opt_len--,le&&(_e.static_len-=ke[2*Fe+1]);for(Se.max_code=et,He=_e.heap_len>>1;1<=He;He--)Ee(_e,Te,He);for(Fe=Ue;He=_e.heap[1],_e.heap[1]=_e.heap[_e.heap_len--],Ee(_e,Te,1),qe=_e.heap[1],_e.heap[--_e.heap_max]=He,_e.heap[--_e.heap_max]=qe,Te[2*Fe]=Te[2*He]+Te[2*qe],_e.depth[Fe]=(_e.depth[He]>=_e.depth[qe]?_e.depth[He]:_e.depth[qe])+1,Te[2*He+1]=Te[2*qe+1]=Fe,_e.heap[1]=Fe++,Ee(_e,Te,1),2<=_e.heap_len;);_e.heap[--_e.heap_max]=_e.heap[1],function(nt,ct){var ht,Pt,Bt,bt,Yt,mn,qt=ct.dyn_tree,Vn=ct.max_code,rs=ct.stat_desc.static_tree,Ir=ct.stat_desc.has_stree,Rr=ct.stat_desc.extra_bits,ji=ct.stat_desc.extra_base,bi=ct.stat_desc.max_length,yi=0;for(bt=0;bt<=C;bt++)nt.bl_count[bt]=0;for(qt[2*nt.heap[nt.heap_max]+1]=0,ht=nt.heap_max+1;ht<S;ht++)bi<(bt=qt[2*qt[2*(Pt=nt.heap[ht])+1]+1]+1)&&(bt=bi,yi++),qt[2*Pt+1]=bt,Vn<Pt||(nt.bl_count[bt]++,Yt=0,ji<=Pt&&(Yt=Rr[Pt-ji]),mn=qt[2*Pt],nt.opt_len+=mn*(bt+Yt),Ir&&(nt.static_len+=mn*(rs[2*Pt+1]+Yt)));if(yi!==0){do{for(bt=bi-1;nt.bl_count[bt]===0;)bt--;nt.bl_count[bt]--,nt.bl_count[bt+1]+=2,nt.bl_count[bi]--,yi-=2}while(0<yi);for(bt=bi;bt!==0;bt--)for(Pt=nt.bl_count[bt];Pt!==0;)Vn<(Bt=nt.heap[--ht])||(qt[2*Bt+1]!==bt&&(nt.opt_len+=(bt-qt[2*Bt+1])*qt[2*Bt],qt[2*Bt+1]=bt),Pt--)}}(_e,Se),Pe(Te,et,_e.bl_count)}function G(_e,Se,He){var qe,Fe,Te=-1,ke=Se[1],le=0,Ue=7,et=4;for(ke===0&&(Ue=138,et=3),Se[2*(He+1)+1]=65535,qe=0;qe<=He;qe++)Fe=ke,ke=Se[2*(qe+1)+1],++le<Ue&&Fe===ke||(le<et?_e.bl_tree[2*Fe]+=le:Fe!==0?(Fe!==Te&&_e.bl_tree[2*Fe]++,_e.bl_tree[2*O]++):le<=10?_e.bl_tree[2*F]++:_e.bl_tree[2*U]++,Te=Fe,et=(le=0)===ke?(Ue=138,3):Fe===ke?(Ue=6,3):(Ue=7,4))}function Ce(_e,Se,He){var qe,Fe,Te=-1,ke=Se[1],le=0,Ue=7,et=4;for(ke===0&&(Ue=138,et=3),qe=0;qe<=He;qe++)if(Fe=ke,ke=Se[2*(qe+1)+1],!(++le<Ue&&Fe===ke)){if(le<et)for(;Ae(_e,Fe,_e.bl_tree),--le!=0;);else Fe!==0?(Fe!==Te&&(Ae(_e,Fe,_e.bl_tree),le--),Ae(_e,O,_e.bl_tree),xe(_e,le-3,2)):le<=10?(Ae(_e,F,_e.bl_tree),xe(_e,le-3,3)):(Ae(_e,U,_e.bl_tree),xe(_e,le-11,7));Te=Fe,et=(le=0)===ke?(Ue=138,3):Fe===ke?(Ue=6,3):(Ue=7,4)}}h(Y);var Ie=!1;function be(_e,Se,He,qe){xe(_e,(m<<1)+(qe?1:0),3),function(Fe,Te,ke,le){Ve(Fe),Z(Fe,ke),Z(Fe,~ke),l.arraySet(Fe.pending_buf,Fe.window,Te,ke,Fe.pending),Fe.pending+=ke}(_e,Se,He)}o._tr_init=function(_e){Ie||(function(){var Se,He,qe,Fe,Te,ke=new Array(C+1);for(Fe=qe=0;Fe<g-1;Fe++)for(De[Fe]=qe,Se=0;Se<1<<V[Fe];Se++)$[qe++]=Fe;for($[qe-1]=Fe,Fe=Te=0;Fe<16;Fe++)for(Y[Fe]=Te,Se=0;Se<1<<B[Fe];Se++)ge[Te++]=Fe;for(Te>>=7;Fe<_;Fe++)for(Y[Fe]=Te<<7,Se=0;Se<1<<B[Fe]-7;Se++)ge[256+Te++]=Fe;for(He=0;He<=C;He++)ke[He]=0;for(Se=0;Se<=143;)me[2*Se+1]=8,Se++,ke[8]++;for(;Se<=255;)me[2*Se+1]=9,Se++,ke[9]++;for(;Se<=279;)me[2*Se+1]=7,Se++,ke[7]++;for(;Se<=287;)me[2*Se+1]=8,Se++,ke[8]++;for(Pe(me,v+1,ke),Se=0;Se<_;Se++)Q[2*Se+1]=5,Q[2*Se]=Oe(Se,5);ie=new ne(me,V,y+1,v,C),ce=new ne(Q,B,0,_,C),X=new ne(new Array(0),K,0,A,N)}(),Ie=!0),_e.l_desc=new ee(_e.dyn_ltree,ie),_e.d_desc=new ee(_e.dyn_dtree,ce),_e.bl_desc=new ee(_e.bl_tree,X),_e.bi_buf=0,_e.bi_valid=0,Me(_e)},o._tr_stored_block=be,o._tr_flush_block=function(_e,Se,He,qe){var Fe,Te,ke=0;0<_e.level?(_e.strm.data_type===2&&(_e.strm.data_type=function(le){var Ue,et=4093624447;for(Ue=0;Ue<=31;Ue++,et>>>=1)if(1&et&&le.dyn_ltree[2*Ue]!==0)return c;if(le.dyn_ltree[18]!==0||le.dyn_ltree[20]!==0||le.dyn_ltree[26]!==0)return u;for(Ue=32;Ue<y;Ue++)if(le.dyn_ltree[2*Ue]!==0)return u;return c}(_e)),ze(_e,_e.l_desc),ze(_e,_e.d_desc),ke=function(le){var Ue;for(G(le,le.dyn_ltree,le.l_desc.max_code),G(le,le.dyn_dtree,le.d_desc.max_code),ze(le,le.bl_desc),Ue=A-1;3<=Ue&&le.bl_tree[2*oe[Ue]+1]===0;Ue--);return le.opt_len+=3*(Ue+1)+5+5+4,Ue}(_e),Fe=_e.opt_len+3+7>>>3,(Te=_e.static_len+3+7>>>3)<=Fe&&(Fe=Te)):Fe=Te=He+5,He+4<=Fe&&Se!==-1?be(_e,Se,He,qe):_e.strategy===4||Te===Fe?(xe(_e,2+(qe?1:0),3),we(_e,me,Q)):(xe(_e,4+(qe?1:0),3),function(le,Ue,et,nt){var ct;for(xe(le,Ue-257,5),xe(le,et-1,5),xe(le,nt-4,4),ct=0;ct<nt;ct++)xe(le,le.bl_tree[2*oe[ct]+1],3);Ce(le,le.dyn_ltree,Ue-1),Ce(le,le.dyn_dtree,et-1)}(_e,_e.l_desc.max_code+1,_e.d_desc.max_code+1,ke+1),we(_e,_e.dyn_ltree,_e.dyn_dtree)),Me(_e),qe&&Ve(_e)},o._tr_tally=function(_e,Se,He){return _e.pending_buf[_e.d_buf+2*_e.last_lit]=Se>>>8&255,_e.pending_buf[_e.d_buf+2*_e.last_lit+1]=255&Se,_e.pending_buf[_e.l_buf+_e.last_lit]=255&He,_e.last_lit++,Se===0?_e.dyn_ltree[2*He]++:(_e.matches++,Se--,_e.dyn_ltree[2*($[He]+y+1)]++,_e.dyn_dtree[2*ue(Se)]++),_e.last_lit===_e.lit_bufsize-1},o._tr_align=function(_e){xe(_e,2,3),Ae(_e,j,me),function(Se){Se.bi_valid===16?(Z(Se,Se.bi_buf),Se.bi_buf=0,Se.bi_valid=0):8<=Se.bi_valid&&(Se.pending_buf[Se.pending++]=255&Se.bi_buf,Se.bi_buf>>=8,Se.bi_valid-=8)}(_e)}},{"../utils/common":41}],53:[function(i,r,o){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(i,r,o){(function(l){(function(c,u){if(!c.setImmediate){var h,m,g,y,v=1,_={},A=!1,S=c.document,C=Object.getPrototypeOf&&Object.getPrototypeOf(c);C=C&&C.setTimeout?C:c,h={}.toString.call(c.process)==="[object process]"?function(O){process.nextTick(function(){N(O)})}:function(){if(c.postMessage&&!c.importScripts){var O=!0,F=c.onmessage;return c.onmessage=function(){O=!1},c.postMessage("","*"),c.onmessage=F,O}}()?(y="setImmediate$"+Math.random()+"$",c.addEventListener?c.addEventListener("message",j,!1):c.attachEvent("onmessage",j),function(O){c.postMessage(y+O,"*")}):c.MessageChannel?((g=new MessageChannel).port1.onmessage=function(O){N(O.data)},function(O){g.port2.postMessage(O)}):S&&"onreadystatechange"in S.createElement("script")?(m=S.documentElement,function(O){var F=S.createElement("script");F.onreadystatechange=function(){N(O),F.onreadystatechange=null,m.removeChild(F),F=null},m.appendChild(F)}):function(O){setTimeout(N,0,O)},C.setImmediate=function(O){typeof O!="function"&&(O=new Function(""+O));for(var F=new Array(arguments.length-1),U=0;U<F.length;U++)F[U]=arguments[U+1];var V={callback:O,args:F};return _[v]=V,h(v),v++},C.clearImmediate=T}function T(O){delete _[O]}function N(O){if(A)setTimeout(N,0,O);else{var F=_[O];if(F){A=!0;try{(function(U){var V=U.callback,B=U.args;switch(B.length){case 0:V();break;case 1:V(B[0]);break;case 2:V(B[0],B[1]);break;case 3:V(B[0],B[1],B[2]);break;default:V.apply(u,B)}})(F)}finally{T(O),A=!1}}}}function j(O){O.source===c&&typeof O.data=="string"&&O.data.indexOf(y)===0&&N(+O.data.slice(y.length))}})(typeof self>"u"?l===void 0?this:l:self)}).call(this,typeof Lt<"u"?Lt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(PQ);var Mke=PQ.exports,Oke=T3,Fke=Mke;ZS.openArrayBuffer=Uke;ZS.splitPath=Lke;ZS.joinPath=Bke;function Uke(n){return Fke.loadAsync(n).then(function(e){function i(c){return e.file(c)!==null}function r(c,u){return e.file(c).async("uint8array").then(function(h){if(u==="base64")return Oke.fromByteArray(h);if(u){var m=new TextDecoder(u);return m.decode(h)}else return h})}function o(c,u){e.file(c,u)}function l(){return e.generateAsync({type:"arraybuffer"})}return{exists:i,read:r,write:o,toArrayBuffer:l}})}function Lke(n){var e=n.lastIndexOf("/");return e===-1?{dirname:"",basename:n}:{dirname:n.substring(0,e),basename:n.substring(e+1)}}function Bke(){var n=Array.prototype.filter.call(arguments,function(i){return i}),e=[];return n.forEach(function(i){/^\//.test(i)?e=[i]:e.push(i)}),e.join("/")}var BF={},vf={},tx={},D3=lr;tx.Element=nx;tx.element=function(n,e,i){return new nx(n,e,i)};tx.text=function(n){return{type:"text",value:n}};var jQ=tx.emptyElement={first:function(){return null},firstOrEmpty:function(){return jQ},attributes:{},children:[]};function nx(n,e,i){this.type="element",this.name=n,this.attributes=e||{},this.children=i||[]}nx.prototype.first=function(n){return D3.find(this.children,function(e){return e.name===n})};nx.prototype.firstOrEmpty=function(n){return this.first(n)||jQ};nx.prototype.getElementsByTagName=function(n){var e=D3.filter(this.children,function(i){return i.name===n});return IQ(e)};nx.prototype.text=function(){if(this.children.length===0)return"";if(this.children.length!==1||this.children[0].type!=="text")throw new Error("Not implemented");return this.children[0].value};var zke={getElementsByTagName:function(n){return IQ(D3.flatten(this.map(function(e){return e.getElementsByTagName(n)},!0)))}};function IQ(n){return D3.extend(n,zke)}var RQ={},zF={},N3={},Ad={},wf={};function Vke(n,e,i){if(i===void 0&&(i=Array.prototype),n&&typeof i.find=="function")return i.find.call(n,e);for(var r=0;r<n.length;r++)if(Object.prototype.hasOwnProperty.call(n,r)){var o=n[r];if(e.call(void 0,o,r,n))return o}}function VF(n,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(n):n}function Wke(n,e){if(n===null||typeof n!="object")throw new TypeError("target is not an object");for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}var MQ=VF({HTML:"text/html",isHTML:function(n){return n===MQ.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),OQ=VF({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(n){return n===OQ.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});wf.assign=Wke;wf.find=Vke;wf.freeze=VF;wf.MIME_TYPE=MQ;wf.NAMESPACE=OQ;var FQ=wf,vd=FQ.find,tE=FQ.NAMESPACE;function $ke(n){return n!==""}function qke(n){return n?n.split(/[\t\n\f\r ]+/).filter($ke):[]}function Hke(n,e){return n.hasOwnProperty(e)||(n[e]=!0),n}function Z$(n){if(!n)return[];var e=qke(n);return Object.keys(e.reduce(Hke,{}))}function Gke(n){return function(e){return n&&n.indexOf(e)!==-1}}function JS(n,e){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}function ha(n,e){var i=n.prototype;if(!(i instanceof e)){let r=function(){};r.prototype=e.prototype,r=new r,JS(i,r),n.prototype=i=r}i.constructor!=n&&(typeof n!="function"&&console.error("unknown Class:"+n),i.constructor=n)}var fa={},Zc=fa.ELEMENT_NODE=1,F1=fa.ATTRIBUTE_NODE=2,eN=fa.TEXT_NODE=3,UQ=fa.CDATA_SECTION_NODE=4,LQ=fa.ENTITY_REFERENCE_NODE=5,Xke=fa.ENTITY_NODE=6,BQ=fa.PROCESSING_INSTRUCTION_NODE=7,zQ=fa.COMMENT_NODE=8,VQ=fa.DOCUMENT_NODE=9,WQ=fa.DOCUMENT_TYPE_NODE=10,ff=fa.DOCUMENT_FRAGMENT_NODE=11,Kke=fa.NOTATION_NODE=12,ro={},ts={};ro.INDEX_SIZE_ERR=(ts[1]="Index size error",1);ro.DOMSTRING_SIZE_ERR=(ts[2]="DOMString size error",2);var na=ro.HIERARCHY_REQUEST_ERR=(ts[3]="Hierarchy request error",3);ro.WRONG_DOCUMENT_ERR=(ts[4]="Wrong document",4);ro.INVALID_CHARACTER_ERR=(ts[5]="Invalid character",5);ro.NO_DATA_ALLOWED_ERR=(ts[6]="No data allowed",6);ro.NO_MODIFICATION_ALLOWED_ERR=(ts[7]="No modification allowed",7);var $Q=ro.NOT_FOUND_ERR=(ts[8]="Not found",8);ro.NOT_SUPPORTED_ERR=(ts[9]="Not supported",9);var J$=ro.INUSE_ATTRIBUTE_ERR=(ts[10]="Attribute in use",10);ro.INVALID_STATE_ERR=(ts[11]="Invalid state",11);ro.SYNTAX_ERR=(ts[12]="Syntax error",12);ro.INVALID_MODIFICATION_ERR=(ts[13]="Invalid modification",13);ro.NAMESPACE_ERR=(ts[14]="Invalid namespace",14);ro.INVALID_ACCESS_ERR=(ts[15]="Invalid access",15);function sr(n,e){if(e instanceof Error)var i=e;else i=this,Error.call(this,ts[n]),this.message=ts[n],Error.captureStackTrace&&Error.captureStackTrace(this,sr);return i.code=n,e&&(this.message=this.message+": "+e),i}sr.prototype=Error.prototype;JS(ro,sr);function ef(){}ef.prototype={length:0,item:function(n){return n>=0&&n<this.length?this[n]:null},toString:function(n,e){for(var i=[],r=0;r<this.length;r++)Yv(this[r],i,n,e);return i.join("")},filter:function(n){return Array.prototype.filter.call(this,n)},indexOf:function(n){return Array.prototype.indexOf.call(this,n)}};function U1(n,e){this._node=n,this._refresh=e,WF(this)}function WF(n){var e=n._node._inc||n._node.ownerDocument._inc;if(n._inc!==e){var i=n._refresh(n._node);if(nee(n,"length",i.length),!n.$$length||i.length<n.$$length)for(var r=i.length;r in n;r++)Object.prototype.hasOwnProperty.call(n,r)&&delete n[r];JS(i,n),n._inc=e}}U1.prototype.item=function(n){return WF(this),this[n]||null};ha(U1,ef);function tN(){}function qQ(n,e){for(var i=n.length;i--;)if(n[i]===e)return i}function Q$(n,e,i,r){if(r?e[qQ(e,r)]=i:e[e.length++]=i,n){i.ownerElement=n;var o=n.ownerDocument;o&&(r&&XQ(o,n,r),Yke(o,n,i))}}function eq(n,e,i){var r=qQ(e,i);if(r>=0){for(var o=e.length-1;r<o;)e[r]=e[++r];if(e.length=o,n){var l=n.ownerDocument;l&&(XQ(l,n,i),i.ownerElement=null)}}else throw new sr($Q,new Error(n.tagName+"@"+i))}tN.prototype={length:0,item:ef.prototype.item,getNamedItem:function(n){for(var e=this.length;e--;){var i=this[e];if(i.nodeName==n)return i}},setNamedItem:function(n){var e=n.ownerElement;if(e&&e!=this._ownerElement)throw new sr(J$);var i=this.getNamedItem(n.nodeName);return Q$(this._ownerElement,this,n,i),i},setNamedItemNS:function(n){var e=n.ownerElement,i;if(e&&e!=this._ownerElement)throw new sr(J$);return i=this.getNamedItemNS(n.namespaceURI,n.localName),Q$(this._ownerElement,this,n,i),i},removeNamedItem:function(n){var e=this.getNamedItem(n);return eq(this._ownerElement,this,e),e},removeNamedItemNS:function(n,e){var i=this.getNamedItemNS(n,e);return eq(this._ownerElement,this,i),i},getNamedItemNS:function(n,e){for(var i=this.length;i--;){var r=this[i];if(r.localName==e&&r.namespaceURI==n)return r}return null}};function HQ(){}HQ.prototype={hasFeature:function(n,e){return!0},createDocument:function(n,e,i){var r=new QS;if(r.implementation=this,r.childNodes=new ef,r.doctype=i||null,i&&r.appendChild(i),e){var o=r.createElementNS(n,e);r.appendChild(o)}return r},createDocumentType:function(n,e,i){var r=new P3;return r.name=n,r.nodeName=n,r.publicId=e||"",r.systemId=i||"",r}};function Qn(){}Qn.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(n,e){return nN(this,n,e)},replaceChild:function(n,e){nN(this,n,e,YQ),e&&this.removeChild(e)},removeChild:function(n){return KQ(this,n)},appendChild:function(n){return this.insertBefore(n,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(n){return M6(this.ownerDocument||this,this,n)},normalize:function(){for(var n=this.firstChild;n;){var e=n.nextSibling;e&&e.nodeType==eN&&n.nodeType==eN?(this.removeChild(e),n.appendData(e.data)):(n.normalize(),n=e)}},isSupported:function(n,e){return this.ownerDocument.implementation.hasFeature(n,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(n){for(var e=this;e;){var i=e._nsMap;if(i){for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)&&i[r]===n)return r}e=e.nodeType==F1?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(n){for(var e=this;e;){var i=e._nsMap;if(i&&Object.prototype.hasOwnProperty.call(i,n))return i[n];e=e.nodeType==F1?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(n){var e=this.lookupPrefix(n);return e==null}};function GQ(n){return n=="<"&&"&lt;"||n==">"&&"&gt;"||n=="&"&&"&amp;"||n=='"'&&"&quot;"||"&#"+n.charCodeAt()+";"}JS(fa,Qn);JS(fa,Qn.prototype);function nE(n,e){if(e(n))return!0;if(n=n.firstChild)do if(nE(n,e))return!0;while(n=n.nextSibling)}function QS(){this.ownerDocument=this}function Yke(n,e,i){n&&n._inc++;var r=i.namespaceURI;r===tE.XMLNS&&(e._nsMap[i.prefix?i.localName:""]=i.value)}function XQ(n,e,i,r){n&&n._inc++;var o=i.namespaceURI;o===tE.XMLNS&&delete e._nsMap[i.prefix?i.localName:""]}function $F(n,e,i){if(n&&n._inc){n._inc++;var r=e.childNodes;if(i)r[r.length++]=i;else{for(var o=e.firstChild,l=0;o;)r[l++]=o,o=o.nextSibling;r.length=l,delete r[r.length]}}}function KQ(n,e){var i=e.previousSibling,r=e.nextSibling;return i?i.nextSibling=r:n.firstChild=r,r?r.previousSibling=i:n.lastChild=i,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,$F(n.ownerDocument,n),e}function Zke(n){return n&&(n.nodeType===Qn.DOCUMENT_NODE||n.nodeType===Qn.DOCUMENT_FRAGMENT_NODE||n.nodeType===Qn.ELEMENT_NODE)}function Jke(n){return n&&(wd(n)||qF(n)||pf(n)||n.nodeType===Qn.DOCUMENT_FRAGMENT_NODE||n.nodeType===Qn.COMMENT_NODE||n.nodeType===Qn.PROCESSING_INSTRUCTION_NODE)}function pf(n){return n&&n.nodeType===Qn.DOCUMENT_TYPE_NODE}function wd(n){return n&&n.nodeType===Qn.ELEMENT_NODE}function qF(n){return n&&n.nodeType===Qn.TEXT_NODE}function tq(n,e){var i=n.childNodes||[];if(vd(i,wd)||pf(e))return!1;var r=vd(i,pf);return!(e&&r&&i.indexOf(r)>i.indexOf(e))}function nq(n,e){var i=n.childNodes||[];function r(l){return wd(l)&&l!==e}if(vd(i,r))return!1;var o=vd(i,pf);return!(e&&o&&i.indexOf(o)>i.indexOf(e))}function Qke(n,e,i){if(!Zke(n))throw new sr(na,"Unexpected parent node type "+n.nodeType);if(i&&i.parentNode!==n)throw new sr($Q,"child not in parent");if(!Jke(e)||pf(e)&&n.nodeType!==Qn.DOCUMENT_NODE)throw new sr(na,"Unexpected node type "+e.nodeType+" for parent node type "+n.nodeType)}function e2e(n,e,i){var r=n.childNodes||[],o=e.childNodes||[];if(e.nodeType===Qn.DOCUMENT_FRAGMENT_NODE){var l=o.filter(wd);if(l.length>1||vd(o,qF))throw new sr(na,"More than one element or text in fragment");if(l.length===1&&!tq(n,i))throw new sr(na,"Element in fragment can not be inserted before doctype")}if(wd(e)&&!tq(n,i))throw new sr(na,"Only one element can be added and only after doctype");if(pf(e)){if(vd(r,pf))throw new sr(na,"Only one doctype is allowed");var c=vd(r,wd);if(i&&r.indexOf(c)<r.indexOf(i))throw new sr(na,"Doctype can only be inserted before an element");if(!i&&c)throw new sr(na,"Doctype can not be appended since element is present")}}function YQ(n,e,i){var r=n.childNodes||[],o=e.childNodes||[];if(e.nodeType===Qn.DOCUMENT_FRAGMENT_NODE){var l=o.filter(wd);if(l.length>1||vd(o,qF))throw new sr(na,"More than one element or text in fragment");if(l.length===1&&!nq(n,i))throw new sr(na,"Element in fragment can not be inserted before doctype")}if(wd(e)&&!nq(n,i))throw new sr(na,"Only one element can be added and only after doctype");if(pf(e)){if(vd(r,function(h){return pf(h)&&h!==i}))throw new sr(na,"Only one doctype is allowed");var c=vd(r,wd);if(i&&r.indexOf(c)<r.indexOf(i))throw new sr(na,"Doctype can only be inserted before an element")}}function nN(n,e,i,r){Qke(n,e,i),n.nodeType===Qn.DOCUMENT_NODE&&(r||e2e)(n,e,i);var o=e.parentNode;if(o&&o.removeChild(e),e.nodeType===ff){var l=e.firstChild;if(l==null)return e;var c=e.lastChild}else l=c=e;var u=i?i.previousSibling:n.lastChild;l.previousSibling=u,c.nextSibling=i,u?u.nextSibling=l:n.firstChild=l,i==null?n.lastChild=c:i.previousSibling=c;do l.parentNode=n;while(l!==c&&(l=l.nextSibling));return $F(n.ownerDocument||n,n),e.nodeType==ff&&(e.firstChild=e.lastChild=null),e}function t2e(n,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=n,e.previousSibling=n.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:n.firstChild=e,n.lastChild=e,$F(n.ownerDocument,n,e),e}QS.prototype={nodeName:"#document",nodeType:VQ,doctype:null,documentElement:null,_inc:1,insertBefore:function(n,e){if(n.nodeType==ff){for(var i=n.firstChild;i;){var r=i.nextSibling;this.insertBefore(i,e),i=r}return n}return nN(this,n,e),n.ownerDocument=this,this.documentElement===null&&n.nodeType===Zc&&(this.documentElement=n),n},removeChild:function(n){return this.documentElement==n&&(this.documentElement=null),KQ(this,n)},replaceChild:function(n,e){nN(this,n,e,YQ),n.ownerDocument=this,e&&this.removeChild(e),wd(n)&&(this.documentElement=n)},importNode:function(n,e){return tee(this,n,e)},getElementById:function(n){var e=null;return nE(this.documentElement,function(i){if(i.nodeType==Zc&&i.getAttribute("id")==n)return e=i,!0}),e},getElementsByClassName:function(n){var e=Z$(n);return new U1(this,function(i){var r=[];return e.length>0&&nE(i.documentElement,function(o){if(o!==i&&o.nodeType===Zc){var l=o.getAttribute("class");if(l){var c=n===l;if(!c){var u=Z$(l);c=e.every(Gke(u))}c&&r.push(o)}}}),r})},createElement:function(n){var e=new P0;e.ownerDocument=this,e.nodeName=n,e.tagName=n,e.localName=n,e.childNodes=new ef;var i=e.attributes=new tN;return i._ownerElement=e,e},createDocumentFragment:function(){var n=new j3;return n.ownerDocument=this,n.childNodes=new ef,n},createTextNode:function(n){var e=new HF;return e.ownerDocument=this,e.appendData(n),e},createComment:function(n){var e=new GF;return e.ownerDocument=this,e.appendData(n),e},createCDATASection:function(n){var e=new XF;return e.ownerDocument=this,e.appendData(n),e},createProcessingInstruction:function(n,e){var i=new YF;return i.ownerDocument=this,i.tagName=i.nodeName=i.target=n,i.nodeValue=i.data=e,i},createAttribute:function(n){var e=new iN;return e.ownerDocument=this,e.name=n,e.nodeName=n,e.localName=n,e.specified=!0,e},createEntityReference:function(n){var e=new KF;return e.ownerDocument=this,e.nodeName=n,e},createElementNS:function(n,e){var i=new P0,r=e.split(":"),o=i.attributes=new tN;return i.childNodes=new ef,i.ownerDocument=this,i.nodeName=e,i.tagName=e,i.namespaceURI=n,r.length==2?(i.prefix=r[0],i.localName=r[1]):i.localName=e,o._ownerElement=i,i},createAttributeNS:function(n,e){var i=new iN,r=e.split(":");return i.ownerDocument=this,i.nodeName=e,i.name=e,i.namespaceURI=n,i.specified=!0,r.length==2?(i.prefix=r[0],i.localName=r[1]):i.localName=e,i}};ha(QS,Qn);function P0(){this._nsMap={}}P0.prototype={nodeType:Zc,hasAttribute:function(n){return this.getAttributeNode(n)!=null},getAttribute:function(n){var e=this.getAttributeNode(n);return e&&e.value||""},getAttributeNode:function(n){return this.attributes.getNamedItem(n)},setAttribute:function(n,e){var i=this.ownerDocument.createAttribute(n);i.value=i.nodeValue=""+e,this.setAttributeNode(i)},removeAttribute:function(n){var e=this.getAttributeNode(n);e&&this.removeAttributeNode(e)},appendChild:function(n){return n.nodeType===ff?this.insertBefore(n,null):t2e(this,n)},setAttributeNode:function(n){return this.attributes.setNamedItem(n)},setAttributeNodeNS:function(n){return this.attributes.setNamedItemNS(n)},removeAttributeNode:function(n){return this.attributes.removeNamedItem(n.nodeName)},removeAttributeNS:function(n,e){var i=this.getAttributeNodeNS(n,e);i&&this.removeAttributeNode(i)},hasAttributeNS:function(n,e){return this.getAttributeNodeNS(n,e)!=null},getAttributeNS:function(n,e){var i=this.getAttributeNodeNS(n,e);return i&&i.value||""},setAttributeNS:function(n,e,i){var r=this.ownerDocument.createAttributeNS(n,e);r.value=r.nodeValue=""+i,this.setAttributeNode(r)},getAttributeNodeNS:function(n,e){return this.attributes.getNamedItemNS(n,e)},getElementsByTagName:function(n){return new U1(this,function(e){var i=[];return nE(e,function(r){r!==e&&r.nodeType==Zc&&(n==="*"||r.tagName==n)&&i.push(r)}),i})},getElementsByTagNameNS:function(n,e){return new U1(this,function(i){var r=[];return nE(i,function(o){o!==i&&o.nodeType===Zc&&(n==="*"||o.namespaceURI===n)&&(e==="*"||o.localName==e)&&r.push(o)}),r})}};QS.prototype.getElementsByTagName=P0.prototype.getElementsByTagName;QS.prototype.getElementsByTagNameNS=P0.prototype.getElementsByTagNameNS;ha(P0,Qn);function iN(){}iN.prototype.nodeType=F1;ha(iN,Qn);function eA(){}eA.prototype={data:"",substringData:function(n,e){return this.data.substring(n,n+e)},appendData:function(n){n=this.data+n,this.nodeValue=this.data=n,this.length=n.length},insertData:function(n,e){this.replaceData(n,0,e)},appendChild:function(n){throw new Error(ts[na])},deleteData:function(n,e){this.replaceData(n,e,"")},replaceData:function(n,e,i){var r=this.data.substring(0,n),o=this.data.substring(n+e);i=r+i+o,this.nodeValue=this.data=i,this.length=i.length}};ha(eA,Qn);function HF(){}HF.prototype={nodeName:"#text",nodeType:eN,splitText:function(n){var e=this.data,i=e.substring(n);e=e.substring(0,n),this.data=this.nodeValue=e,this.length=e.length;var r=this.ownerDocument.createTextNode(i);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}};ha(HF,eA);function GF(){}GF.prototype={nodeName:"#comment",nodeType:zQ};ha(GF,eA);function XF(){}XF.prototype={nodeName:"#cdata-section",nodeType:UQ};ha(XF,eA);function P3(){}P3.prototype.nodeType=WQ;ha(P3,Qn);function ZQ(){}ZQ.prototype.nodeType=Kke;ha(ZQ,Qn);function JQ(){}JQ.prototype.nodeType=Xke;ha(JQ,Qn);function KF(){}KF.prototype.nodeType=LQ;ha(KF,Qn);function j3(){}j3.prototype.nodeName="#document-fragment";j3.prototype.nodeType=ff;ha(j3,Qn);function YF(){}YF.prototype.nodeType=BQ;ha(YF,Qn);function QQ(){}QQ.prototype.serializeToString=function(n,e,i){return eee.call(n,e,i)};Qn.prototype.toString=eee;function eee(n,e){var i=[],r=this.nodeType==9&&this.documentElement||this,o=r.prefix,l=r.namespaceURI;if(l&&o==null){var o=r.lookupPrefix(l);if(o==null)var c=[{namespace:l,prefix:null}]}return Yv(this,i,n,e,c),i.join("")}function iq(n,e,i){var r=n.prefix||"",o=n.namespaceURI;if(!o||r==="xml"&&o===tE.XML||o===tE.XMLNS)return!1;for(var l=i.length;l--;){var c=i[l];if(c.prefix===r)return c.namespace!==o}return!0}function h4(n,e,i){n.push(" ",e,'="',i.replace(/[<>&"\t\n\r]/g,GQ),'"')}function Yv(n,e,i,r,o){if(o||(o=[]),r)if(n=r(n),n){if(typeof n=="string"){e.push(n);return}}else return;switch(n.nodeType){case Zc:var l=n.attributes,c=l.length,T=n.firstChild,u=n.tagName;i=tE.isHTML(n.namespaceURI)||i;var h=u;if(!i&&!n.prefix&&n.namespaceURI){for(var m,g=0;g<l.length;g++)if(l.item(g).name==="xmlns"){m=l.item(g).value;break}if(!m)for(var y=o.length-1;y>=0;y--){var v=o[y];if(v.prefix===""&&v.namespace===n.namespaceURI){m=v.namespace;break}}if(m!==n.namespaceURI)for(var y=o.length-1;y>=0;y--){var v=o[y];if(v.namespace===n.namespaceURI){v.prefix&&(h=v.prefix+":"+u);break}}}e.push("<",h);for(var _=0;_<c;_++){var A=l.item(_);A.prefix=="xmlns"?o.push({prefix:A.localName,namespace:A.value}):A.nodeName=="xmlns"&&o.push({prefix:"",namespace:A.value})}for(var _=0;_<c;_++){var A=l.item(_);if(iq(A,i,o)){var S=A.prefix||"",C=A.namespaceURI;h4(e,S?"xmlns:"+S:"xmlns",C),o.push({prefix:S,namespace:C})}Yv(A,e,i,r,o)}if(u===h&&iq(n,i,o)){var S=n.prefix||"",C=n.namespaceURI;h4(e,S?"xmlns:"+S:"xmlns",C),o.push({prefix:S,namespace:C})}if(T||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(u)){if(e.push(">"),i&&/^script$/i.test(u))for(;T;)T.data?e.push(T.data):Yv(T,e,i,r,o.slice()),T=T.nextSibling;else for(;T;)Yv(T,e,i,r,o.slice()),T=T.nextSibling;e.push("</",h,">")}else e.push("/>");return;case VQ:case ff:for(var T=n.firstChild;T;)Yv(T,e,i,r,o.slice()),T=T.nextSibling;return;case F1:return h4(e,n.name,n.value);case eN:return e.push(n.data.replace(/[<&>]/g,GQ));case UQ:return e.push("<![CDATA[",n.data,"]]>");case zQ:return e.push("<!--",n.data,"-->");case WQ:var N=n.publicId,j=n.systemId;if(e.push("<!DOCTYPE ",n.name),N)e.push(" PUBLIC ",N),j&&j!="."&&e.push(" ",j),e.push(">");else if(j&&j!=".")e.push(" SYSTEM ",j,">");else{var O=n.internalSubset;O&&e.push(" [",O,"]"),e.push(">")}return;case BQ:return e.push("<?",n.target," ",n.data,"?>");case LQ:return e.push("&",n.nodeName,";");default:e.push("??",n.nodeName)}}function tee(n,e,i){var r;switch(e.nodeType){case Zc:r=e.cloneNode(!1),r.ownerDocument=n;case ff:break;case F1:i=!0;break}if(r||(r=e.cloneNode(!1)),r.ownerDocument=n,r.parentNode=null,i)for(var o=e.firstChild;o;)r.appendChild(tee(n,o,i)),o=o.nextSibling;return r}function M6(n,e,i){var r=new e.constructor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var l=e[o];typeof l!="object"&&l!=r[o]&&(r[o]=l)}switch(e.childNodes&&(r.childNodes=new ef),r.ownerDocument=n,r.nodeType){case Zc:var c=e.attributes,u=r.attributes=new tN,h=c.length;u._ownerElement=r;for(var m=0;m<h;m++)r.setAttributeNode(M6(n,c.item(m),!0));break;case F1:i=!0}if(i)for(var g=e.firstChild;g;)r.appendChild(M6(n,g,i)),g=g.nextSibling;return r}function nee(n,e,i){n[e]=i}try{if(Object.defineProperty){let n=function(e){switch(e.nodeType){case Zc:case ff:var i=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&i.push(n(e)),e=e.nextSibling;return i.join("");default:return e.nodeValue}};Object.defineProperty(U1.prototype,"length",{get:function(){return WF(this),this.$$length}}),Object.defineProperty(Qn.prototype,"textContent",{get:function(){return n(this)},set:function(e){switch(this.nodeType){case Zc:case ff:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),nee=function(e,i,r){e["$$"+i]=r}}}catch{}Ad.DocumentType=P3;Ad.DOMException=sr;Ad.DOMImplementation=HQ;Ad.Element=P0;Ad.Node=Qn;Ad.NodeList=ef;Ad.XMLSerializer=QQ;var I3={},iee={};(function(n){var e=wf.freeze;n.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),n.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),n.entityMap=n.HTML_ENTITIES})(iee);var ZF={},iE=wf.NAMESPACE,O6=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,rq=new RegExp("[\\-\\.0-9"+O6.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),sq=new RegExp("^"+O6.source+rq.source+"*(?::"+O6.source+rq.source+"*)?$"),vk=0,bp=1,vv=2,wk=3,wv=4,xv=5,xk=6,eD=7;function L1(n,e){this.message=n,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,L1)}L1.prototype=new Error;L1.prototype.name=L1.name;function ree(){}ree.prototype={parse:function(n,e,i){var r=this.domBuilder;r.startDocument(),see(e,e={}),n2e(n,e,i,r,this.errorHandler),r.endDocument()}};function n2e(n,e,i,r,o){function l(ie){if(ie>65535){ie-=65536;var ce=55296+(ie>>10),X=56320+(ie&1023);return String.fromCharCode(ce,X)}else return String.fromCharCode(ie)}function c(ie){var ce=ie.slice(1,-1);return Object.hasOwnProperty.call(i,ce)?i[ce]:ce.charAt(0)==="#"?l(parseInt(ce.substr(1).replace("x","0x"))):(o.error("entity not found:"+ie),ie)}function u(ie){if(ie>S){var ce=n.substring(S,ie).replace(/&#?\w+;/g,c);v&&h(S),r.characters(ce,0,ie-S),S=ie}}function h(ie,ce){for(;ie>=g&&(ce=y.exec(n));)m=ce.index,g=m+ce[0].length,v.lineNumber++;v.columnNumber=ie-m+1}for(var m=0,g=0,y=/.*(?:\r\n?|\n)|.*$/g,v=r.locator,_=[{currentNSMap:e}],A={},S=0;;){try{var C=n.indexOf("<",S);if(C<0){if(!n.substr(S).match(/^\s*$/)){var T=r.doc,N=T.createTextNode(n.substr(S));T.appendChild(N),r.currentElement=N}return}switch(C>S&&u(C),n.charAt(C+1)){case"/":var me=n.indexOf(">",C+3),j=n.substring(C+2,me).replace(/[ \t\n\r]+$/g,""),O=_.pop();me<0?(j=n.substring(C+2).replace(/[\s<].*/,""),o.error("end tag name: "+j+" is not complete:"+O.tagName),me=C+1+j.length):j.match(/\s</)&&(j=j.replace(/[\s<].*/,""),o.error("end tag name: "+j+" maybe not complete"),me=C+1+j.length);var F=O.localNSMap,U=O.tagName==j,V=U||O.tagName&&O.tagName.toLowerCase()==j.toLowerCase();if(V){if(r.endElement(O.uri,O.localName,j),F)for(var B in F)Object.prototype.hasOwnProperty.call(F,B)&&r.endPrefixMapping(B);U||o.fatalError("end tag name: "+j+" is not match the current start tagName:"+O.tagName)}else _.push(O);me++;break;case"?":v&&h(C),me=a2e(n,C,r);break;case"!":v&&h(C),me=o2e(n,C,r,o);break;default:v&&h(C);var K=new oee,oe=_[_.length-1].currentNSMap,me=i2e(n,C,K,oe,c,o),Q=K.length;if(!K.closed&&s2e(n,me,K.tagName,A)&&(K.closed=!0,i.nbsp||o.warning("unclosed xml attribute")),v&&Q){for(var ge=oq(v,{}),$=0;$<Q;$++){var De=K[$];h(De.offset),De.locator=oq(v,{})}r.locator=ge,aq(K,r,oe)&&_.push(K),r.locator=v}else aq(K,r,oe)&&_.push(K);iE.isHTML(K.uri)&&!K.closed?me=r2e(n,me,K.tagName,c,r):me++}}catch(ie){if(ie instanceof L1)throw ie;o.error("element parse error: "+ie),me=-1}me>S?S=me:u(Math.max(C,S)+1)}}function oq(n,e){return e.lineNumber=n.lineNumber,e.columnNumber=n.columnNumber,e}function i2e(n,e,i,r,o,l){function c(v,_,A){i.attributeNames.hasOwnProperty(v)&&l.fatalError("Attribute "+v+" redefined"),i.addValue(v,_.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,o),A)}for(var u,h,m=++e,g=vk;;){var y=n.charAt(m);switch(y){case"=":if(g===bp)u=n.slice(e,m),g=wk;else if(g===vv)g=wk;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(g===wk||g===bp)if(g===bp&&(l.warning('attribute value must after "="'),u=n.slice(e,m)),e=m+1,m=n.indexOf(y,e),m>0)h=n.slice(e,m),c(u,h,e-1),g=xv;else throw new Error("attribute value no end '"+y+"' match");else if(g==wv)h=n.slice(e,m),c(u,h,e),l.warning('attribute "'+u+'" missed start quot('+y+")!!"),e=m+1,g=xv;else throw new Error('attribute value must after "="');break;case"/":switch(g){case vk:i.setTagName(n.slice(e,m));case xv:case xk:case eD:g=eD,i.closed=!0;case wv:case bp:break;case vv:i.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return l.error("unexpected end of input"),g==vk&&i.setTagName(n.slice(e,m)),m;case">":switch(g){case vk:i.setTagName(n.slice(e,m));case xv:case xk:case eD:break;case wv:case bp:h=n.slice(e,m),h.slice(-1)==="/"&&(i.closed=!0,h=h.slice(0,-1));case vv:g===vv&&(h=u),g==wv?(l.warning('attribute "'+h+'" missed quot(")!'),c(u,h,e)):((!iE.isHTML(r[""])||!h.match(/^(?:disabled|checked|selected)$/i))&&l.warning('attribute "'+h+'" missed value!! "'+h+'" instead!!'),c(h,h,e));break;case wk:throw new Error("attribute value missed!!")}return m;case"":y=" ";default:if(y<=" ")switch(g){case vk:i.setTagName(n.slice(e,m)),g=xk;break;case bp:u=n.slice(e,m),g=vv;break;case wv:var h=n.slice(e,m);l.warning('attribute "'+h+'" missed quot(")!!'),c(u,h,e);case xv:g=xk;break}else switch(g){case vv:i.tagName,(!iE.isHTML(r[""])||!u.match(/^(?:disabled|checked|selected)$/i))&&l.warning('attribute "'+u+'" missed value!! "'+u+'" instead2!!'),c(u,u,e),e=m,g=bp;break;case xv:l.warning('attribute space is required"'+u+'"!!');case xk:g=bp,e=m;break;case wk:g=wv,e=m;break;case eD:throw new Error("elements closed character '/' and '>' must be connected to")}}m++}}function aq(n,e,i){for(var r=n.tagName,o=null,y=n.length;y--;){var l=n[y],c=l.qName,u=l.value,v=c.indexOf(":");if(v>0)var h=l.prefix=c.slice(0,v),m=c.slice(v+1),g=h==="xmlns"&&m;else m=c,h=null,g=c==="xmlns"&&"";l.localName=m,g!==!1&&(o==null&&(o={},see(i,i={})),i[g]=o[g]=u,l.uri=iE.XMLNS,e.startPrefixMapping(g,u))}for(var y=n.length;y--;){l=n[y];var h=l.prefix;h&&(h==="xml"&&(l.uri=iE.XML),h!=="xmlns"&&(l.uri=i[h||""]))}var v=r.indexOf(":");v>0?(h=n.prefix=r.slice(0,v),m=n.localName=r.slice(v+1)):(h=null,m=n.localName=r);var _=n.uri=i[h||""];if(e.startElement(_,m,r,n),n.closed){if(e.endElement(_,m,r),o)for(h in o)Object.prototype.hasOwnProperty.call(o,h)&&e.endPrefixMapping(h)}else return n.currentNSMap=i,n.localNSMap=o,!0}function r2e(n,e,i,r,o){if(/^(?:script|textarea)$/i.test(i)){var l=n.indexOf("</"+i+">",e),c=n.substring(e+1,l);if(/[&<]/.test(c))return/^script$/i.test(i)?(o.characters(c,0,c.length),l):(c=c.replace(/&#?\w+;/g,r),o.characters(c,0,c.length),l)}return e+1}function s2e(n,e,i,r){var o=r[i];return o==null&&(o=n.lastIndexOf("</"+i+">"),o<e&&(o=n.lastIndexOf("</"+i)),r[i]=o),o<e}function see(n,e){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}function o2e(n,e,i,r){var o=n.charAt(e+2);switch(o){case"-":if(n.charAt(e+3)==="-"){var l=n.indexOf("-->",e+4);return l>e?(i.comment(n,e+4,l-e-4),l+3):(r.error("Unclosed comment"),-1)}else return-1;default:if(n.substr(e+3,6)=="CDATA["){var l=n.indexOf("]]>",e+9);return i.startCDATA(),i.characters(n,e+9,l-e-9),i.endCDATA(),l+3}var c=l2e(n,e),u=c.length;if(u>1&&/!doctype/i.test(c[0][0])){var h=c[1][0],m=!1,g=!1;u>3&&(/^public$/i.test(c[2][0])?(m=c[3][0],g=u>4&&c[4][0]):/^system$/i.test(c[2][0])&&(g=c[3][0]));var y=c[u-1];return i.startDTD(h,m,g),i.endDTD(),y.index+y[0].length}}return-1}function a2e(n,e,i){var r=n.indexOf("?>",e);if(r){var o=n.substring(e,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return o?(o[0].length,i.processingInstruction(o[1],o[2]),r+2):-1}return-1}function oee(){this.attributeNames={}}oee.prototype={setTagName:function(n){if(!sq.test(n))throw new Error("invalid tagName:"+n);this.tagName=n},addValue:function(n,e,i){if(!sq.test(n))throw new Error("invalid attribute:"+n);this.attributeNames[n]=this.length,this[this.length++]={qName:n,value:e,offset:i}},length:0,getLocalName:function(n){return this[n].localName},getLocator:function(n){return this[n].locator},getQName:function(n){return this[n].qName},getURI:function(n){return this[n].uri},getValue:function(n){return this[n].value}};function l2e(n,e){var i,r=[],o=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(o.lastIndex=e,o.exec(n);i=o.exec(n);)if(r.push(i),i[1])return r}ZF.XMLReader=ree;ZF.ParseError=L1;var c2e=wf,u2e=Ad,lq=iee,aee=ZF,d2e=u2e.DOMImplementation,cq=c2e.NAMESPACE,h2e=aee.ParseError,f2e=aee.XMLReader;function lee(n){return n.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function cee(n){this.options=n||{locator:{}}}cee.prototype.parseFromString=function(n,e){var i=this.options,r=new f2e,o=i.domBuilder||new tA,l=i.errorHandler,c=i.locator,u=i.xmlns||{},h=/\/x?html?$/.test(e),m=h?lq.HTML_ENTITIES:lq.XML_ENTITIES;c&&o.setDocumentLocator(c),r.errorHandler=p2e(l,o,c),r.domBuilder=i.domBuilder||o,h&&(u[""]=cq.HTML),u.xml=u.xml||cq.XML;var g=i.normalizeLineEndings||lee;return n&&typeof n=="string"?r.parse(g(n),u,m):r.errorHandler.error("invalid doc source"),o.doc};function p2e(n,e,i){if(!n){if(e instanceof tA)return e;n=e}var r={},o=n instanceof Function;i=i||{};function l(c){var u=n[c];!u&&o&&(u=n.length==2?function(h){n(c,h)}:n),r[c]=u&&function(h){u("[xmldom "+c+"]	"+h+F6(i))}||function(){}}return l("warning"),l("error"),l("fatalError"),r}function tA(){this.cdata=!1}function _v(n,e){e.lineNumber=n.lineNumber,e.columnNumber=n.columnNumber}tA.prototype={startDocument:function(){this.doc=new d2e().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(n,e,i,r){var o=this.doc,l=o.createElementNS(n,i||e),c=r.length;tD(this,l),this.currentElement=l,this.locator&&_v(this.locator,l);for(var u=0;u<c;u++){var n=r.getURI(u),h=r.getValue(u),i=r.getQName(u),m=o.createAttributeNS(n,i);this.locator&&_v(r.getLocator(u),m),m.value=m.nodeValue=h,l.setAttributeNode(m)}},endElement:function(n,e,i){var r=this.currentElement;r.tagName,this.currentElement=r.parentNode},startPrefixMapping:function(n,e){},endPrefixMapping:function(n){},processingInstruction:function(n,e){var i=this.doc.createProcessingInstruction(n,e);this.locator&&_v(this.locator,i),tD(this,i)},ignorableWhitespace:function(n,e,i){},characters:function(n,e,i){if(n=uq.apply(this,arguments),n){if(this.cdata)var r=this.doc.createCDATASection(n);else var r=this.doc.createTextNode(n);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(n)&&this.doc.appendChild(r),this.locator&&_v(this.locator,r)}},skippedEntity:function(n){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(n){(this.locator=n)&&(n.lineNumber=0)},comment:function(n,e,i){n=uq.apply(this,arguments);var r=this.doc.createComment(n);this.locator&&_v(this.locator,r),tD(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(n,e,i){var r=this.doc.implementation;if(r&&r.createDocumentType){var o=r.createDocumentType(n,e,i);this.locator&&_v(this.locator,o),tD(this,o),this.doc.doctype=o}},warning:function(n){console.warn("[xmldom warning]	"+n,F6(this.locator))},error:function(n){console.error("[xmldom error]	"+n,F6(this.locator))},fatalError:function(n){throw new h2e(n,this.locator)}};function F6(n){if(n)return`
@`+(n.systemId||"")+"#[line:"+n.lineNumber+",col:"+n.columnNumber+"]"}function uq(n,e,i){return typeof n=="string"?n.substr(e,i):n.length>=e+i||e?new java.lang.String(n,e,i)+"":n}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(n){tA.prototype[n]=function(){return null}});function tD(n,e){n.currentElement?n.currentElement.appendChild(e):n.doc.appendChild(e)}I3.__DOMHandler=tA;I3.normalizeLineEndings=lee;I3.DOMParser=cee;var uee=Ad;N3.DOMImplementation=uee.DOMImplementation;N3.XMLSerializer=uee.XMLSerializer;N3.DOMParser=I3.DOMParser;var m2e=N3,g2e=Ad;function b2e(n){var e=null,i=new m2e.DOMParser({errorHandler:function(o,l){e={level:o,message:l}}}),r=i.parseFromString(n);if(e===null)return r;throw new Error(e.level+": "+e.message)}zF.parseFromString=b2e;zF.Node=g2e.Node;var f4=is,dq=lr,dee=zF,hee=tx,y2e=hee.Element;RQ.readString=v2e;var hq=dee.Node;function v2e(n,e){e=e||{};try{var i=dee.parseFromString(n,"text/xml")}catch(c){return f4.reject(c)}if(i.documentElement.tagName==="parsererror")return f4.resolve(new Error(i.documentElement.textContent));function r(c){switch(c.nodeType){case hq.ELEMENT_NODE:return o(c);case hq.TEXT_NODE:return hee.text(c.nodeValue)}}function o(c){var u=l(c),h=[];dq.forEach(c.childNodes,function(g){var y=r(g);y&&h.push(y)});var m={};return dq.forEach(c.attributes,function(g){m[l(g)]=g.value}),new y2e(u,m,h)}function l(c){if(c.namespaceURI){var u=e[c.namespaceURI],h;return u?h=u+":":h="{"+c.namespaceURI+"}",h+c.localName}else return c.localName}return f4.resolve(r(i.documentElement))}var fee={},Rk={},uh={},fq;function Km(){return fq||(fq=1,(function(){var n,e,i,r,o,l,c,u=[].slice,h={}.hasOwnProperty;n=function(){var m,g,y,v,_,A;if(A=arguments[0],_=2<=arguments.length?u.call(arguments,1):[],o(Object.assign))Object.assign.apply(null,arguments);else for(m=0,y=_.length;m<y;m++)if(v=_[m],v!=null)for(g in v)h.call(v,g)&&(A[g]=v[g]);return A},o=function(m){return!!m&&Object.prototype.toString.call(m)==="[object Function]"},l=function(m){var g;return!!m&&((g=typeof m)=="function"||g==="object")},i=function(m){return o(Array.isArray)?Array.isArray(m):Object.prototype.toString.call(m)==="[object Array]"},r=function(m){var g;if(i(m))return!m.length;for(g in m)if(h.call(m,g))return!1;return!0},c=function(m){var g,y;return l(m)&&(y=Object.getPrototypeOf(m))&&(g=y.constructor)&&typeof g=="function"&&g instanceof g&&Function.prototype.toString.call(g)===Function.prototype.toString.call(Object)},e=function(m){return o(m.valueOf)?m.valueOf():m},uh.assign=n,uh.isFunction=o,uh.isObject=l,uh.isArray=i,uh.isEmpty=r,uh.isPlainObject=c,uh.getValue=e}).call(Lt)),uh}var p4={exports:{}},m4={exports:{}},g4={exports:{}},b4={exports:{}},pq;function pee(){return pq||(pq=1,(function(){b4.exports=function(){function n(e,i,r){if(this.options=e.options,this.stringify=e.stringify,this.parent=e,i==null)throw new Error("Missing attribute name. "+this.debugInfo(i));if(r==null)throw new Error("Missing attribute value. "+this.debugInfo(i));this.name=this.stringify.attName(i),this.value=this.stringify.attValue(r)}return n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.set(e).attribute(this)},n.prototype.debugInfo=function(e){return e=e||this.name,e==null?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},n}()}).call(Lt)),b4.exports}var mq;function R3(){return mq||(mq=1,(function(){var n,e,i,r,o,l,c=function(h,m){for(var g in m)u.call(m,g)&&(h[g]=m[g]);function y(){this.constructor=h}return y.prototype=m.prototype,h.prototype=new y,h.__super__=m.prototype,h},u={}.hasOwnProperty;l=Km(),o=l.isObject,r=l.isFunction,i=l.getValue,e=pa(),n=pee(),g4.exports=function(h){c(m,h);function m(g,y,v){if(m.__super__.constructor.call(this,g),y==null)throw new Error("Missing element name. "+this.debugInfo());this.name=this.stringify.eleName(y),this.attributes={},v!=null&&this.attribute(v),g.isDocument&&(this.isRoot=!0,this.documentObject=g,g.rootObject=this)}return m.prototype.clone=function(){var g,y,v,_;v=Object.create(this),v.isRoot&&(v.documentObject=null),v.attributes={},_=this.attributes;for(y in _)u.call(_,y)&&(g=_[y],v.attributes[y]=g.clone());return v.children=[],this.children.forEach(function(A){var S;return S=A.clone(),S.parent=v,v.children.push(S)}),v},m.prototype.attribute=function(g,y){var v,_;if(g!=null&&(g=i(g)),o(g))for(v in g)u.call(g,v)&&(_=g[v],this.attribute(v,_));else r(y)&&(y=y.apply()),(!this.options.skipNullAttributes||y!=null)&&(this.attributes[g]=new n(this,g,y));return this},m.prototype.removeAttribute=function(g){var y,v,_;if(g==null)throw new Error("Missing attribute name. "+this.debugInfo());if(g=i(g),Array.isArray(g))for(v=0,_=g.length;v<_;v++)y=g[v],delete this.attributes[y];else delete this.attributes[g];return this},m.prototype.toString=function(g){return this.options.writer.set(g).element(this)},m.prototype.att=function(g,y){return this.attribute(g,y)},m.prototype.a=function(g,y){return this.attribute(g,y)},m}(e)}).call(Lt)),g4.exports}var y4={exports:{}},gq;function M3(){return gq||(gq=1,(function(){var n,e=function(r,o){for(var l in o)i.call(o,l)&&(r[l]=o[l]);function c(){this.constructor=r}return c.prototype=o.prototype,r.prototype=new c,r.__super__=o.prototype,r},i={}.hasOwnProperty;n=pa(),y4.exports=function(r){e(o,r);function o(l,c){if(o.__super__.constructor.call(this,l),c==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.text=this.stringify.cdata(c)}return o.prototype.clone=function(){return Object.create(this)},o.prototype.toString=function(l){return this.options.writer.set(l).cdata(this)},o}(n)}).call(Lt)),y4.exports}var v4={exports:{}},bq;function O3(){return bq||(bq=1,(function(){var n,e=function(r,o){for(var l in o)i.call(o,l)&&(r[l]=o[l]);function c(){this.constructor=r}return c.prototype=o.prototype,r.prototype=new c,r.__super__=o.prototype,r},i={}.hasOwnProperty;n=pa(),v4.exports=function(r){e(o,r);function o(l,c){if(o.__super__.constructor.call(this,l),c==null)throw new Error("Missing comment text. "+this.debugInfo());this.text=this.stringify.comment(c)}return o.prototype.clone=function(){return Object.create(this)},o.prototype.toString=function(l){return this.options.writer.set(l).comment(this)},o}(n)}).call(Lt)),v4.exports}var w4={exports:{}},yq;function F3(){return yq||(yq=1,(function(){var n,e,i=function(o,l){for(var c in l)r.call(l,c)&&(o[c]=l[c]);function u(){this.constructor=o}return u.prototype=l.prototype,o.prototype=new u,o.__super__=l.prototype,o},r={}.hasOwnProperty;e=Km().isObject,n=pa(),w4.exports=function(o){i(l,o);function l(c,u,h,m){var g;l.__super__.constructor.call(this,c),e(u)&&(g=u,u=g.version,h=g.encoding,m=g.standalone),u||(u="1.0"),this.version=this.stringify.xmlVersion(u),h!=null&&(this.encoding=this.stringify.xmlEncoding(h)),m!=null&&(this.standalone=this.stringify.xmlStandalone(m))}return l.prototype.toString=function(c){return this.options.writer.set(c).declaration(this)},l}(n)}).call(Lt)),w4.exports}var x4={exports:{}},_4={exports:{}},vq;function U3(){return vq||(vq=1,(function(){var n,e=function(r,o){for(var l in o)i.call(o,l)&&(r[l]=o[l]);function c(){this.constructor=r}return c.prototype=o.prototype,r.prototype=new c,r.__super__=o.prototype,r},i={}.hasOwnProperty;n=pa(),_4.exports=function(r){e(o,r);function o(l,c,u,h,m,g){if(o.__super__.constructor.call(this,l),c==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(u==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(c));if(!h)throw new Error("Missing DTD attribute type. "+this.debugInfo(c));if(!m)throw new Error("Missing DTD attribute default. "+this.debugInfo(c));if(m.indexOf("#")!==0&&(m="#"+m),!m.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(c));if(g&&!m.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(c));this.elementName=this.stringify.eleName(c),this.attributeName=this.stringify.attName(u),this.attributeType=this.stringify.dtdAttType(h),this.defaultValue=this.stringify.dtdAttDefault(g),this.defaultValueType=m}return o.prototype.toString=function(l){return this.options.writer.set(l).dtdAttList(this)},o}(n)}).call(Lt)),_4.exports}var k4={exports:{}},wq;function L3(){return wq||(wq=1,(function(){var n,e,i=function(o,l){for(var c in l)r.call(l,c)&&(o[c]=l[c]);function u(){this.constructor=o}return u.prototype=l.prototype,o.prototype=new u,o.__super__=l.prototype,o},r={}.hasOwnProperty;e=Km().isObject,n=pa(),k4.exports=function(o){i(l,o);function l(c,u,h,m){if(l.__super__.constructor.call(this,c),h==null)throw new Error("Missing DTD entity name. "+this.debugInfo(h));if(m==null)throw new Error("Missing DTD entity value. "+this.debugInfo(h));if(this.pe=!!u,this.name=this.stringify.eleName(h),!e(m))this.value=this.stringify.dtdEntityValue(m);else{if(!m.pubID&&!m.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(h));if(m.pubID&&!m.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(h));if(m.pubID!=null&&(this.pubID=this.stringify.dtdPubID(m.pubID)),m.sysID!=null&&(this.sysID=this.stringify.dtdSysID(m.sysID)),m.nData!=null&&(this.nData=this.stringify.dtdNData(m.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(h))}}return l.prototype.toString=function(c){return this.options.writer.set(c).dtdEntity(this)},l}(n)}).call(Lt)),k4.exports}var E4={exports:{}},xq;function B3(){return xq||(xq=1,(function(){var n,e=function(r,o){for(var l in o)i.call(o,l)&&(r[l]=o[l]);function c(){this.constructor=r}return c.prototype=o.prototype,r.prototype=new c,r.__super__=o.prototype,r},i={}.hasOwnProperty;n=pa(),E4.exports=function(r){e(o,r);function o(l,c,u){if(o.__super__.constructor.call(this,l),c==null)throw new Error("Missing DTD element name. "+this.debugInfo());u||(u="(#PCDATA)"),Array.isArray(u)&&(u="("+u.join(",")+")"),this.name=this.stringify.eleName(c),this.value=this.stringify.dtdElementValue(u)}return o.prototype.toString=function(l){return this.options.writer.set(l).dtdElement(this)},o}(n)}).call(Lt)),E4.exports}var S4={exports:{}},_q;function z3(){return _q||(_q=1,(function(){var n,e=function(r,o){for(var l in o)i.call(o,l)&&(r[l]=o[l]);function c(){this.constructor=r}return c.prototype=o.prototype,r.prototype=new c,r.__super__=o.prototype,r},i={}.hasOwnProperty;n=pa(),S4.exports=function(r){e(o,r);function o(l,c,u){if(o.__super__.constructor.call(this,l),c==null)throw new Error("Missing DTD notation name. "+this.debugInfo(c));if(!u.pubID&&!u.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(c));this.name=this.stringify.eleName(c),u.pubID!=null&&(this.pubID=this.stringify.dtdPubID(u.pubID)),u.sysID!=null&&(this.sysID=this.stringify.dtdSysID(u.sysID))}return o.prototype.toString=function(l){return this.options.writer.set(l).dtdNotation(this)},o}(n)}).call(Lt)),S4.exports}var kq;function V3(){return kq||(kq=1,(function(){var n,e,i,r,o,l,c=function(h,m){for(var g in m)u.call(m,g)&&(h[g]=m[g]);function y(){this.constructor=h}return y.prototype=m.prototype,h.prototype=new y,h.__super__=m.prototype,h},u={}.hasOwnProperty;l=Km().isObject,o=pa(),n=U3(),i=L3(),e=B3(),r=z3(),x4.exports=function(h){c(m,h);function m(g,y,v){var _,A;m.__super__.constructor.call(this,g),this.name="!DOCTYPE",this.documentObject=g,l(y)&&(_=y,y=_.pubID,v=_.sysID),v==null&&(A=[y,v],v=A[0],y=A[1]),y!=null&&(this.pubID=this.stringify.dtdPubID(y)),v!=null&&(this.sysID=this.stringify.dtdSysID(v))}return m.prototype.element=function(g,y){var v;return v=new e(this,g,y),this.children.push(v),this},m.prototype.attList=function(g,y,v,_,A){var S;return S=new n(this,g,y,v,_,A),this.children.push(S),this},m.prototype.entity=function(g,y){var v;return v=new i(this,!1,g,y),this.children.push(v),this},m.prototype.pEntity=function(g,y){var v;return v=new i(this,!0,g,y),this.children.push(v),this},m.prototype.notation=function(g,y){var v;return v=new r(this,g,y),this.children.push(v),this},m.prototype.toString=function(g){return this.options.writer.set(g).docType(this)},m.prototype.ele=function(g,y){return this.element(g,y)},m.prototype.att=function(g,y,v,_,A){return this.attList(g,y,v,_,A)},m.prototype.ent=function(g,y){return this.entity(g,y)},m.prototype.pent=function(g,y){return this.pEntity(g,y)},m.prototype.not=function(g,y){return this.notation(g,y)},m.prototype.up=function(){return this.root()||this.documentObject},m}(o)}).call(Lt)),x4.exports}var A4={exports:{}},Eq;function W3(){return Eq||(Eq=1,(function(){var n,e=function(r,o){for(var l in o)i.call(o,l)&&(r[l]=o[l]);function c(){this.constructor=r}return c.prototype=o.prototype,r.prototype=new c,r.__super__=o.prototype,r},i={}.hasOwnProperty;n=pa(),A4.exports=function(r){e(o,r);function o(l,c){if(o.__super__.constructor.call(this,l),c==null)throw new Error("Missing raw text. "+this.debugInfo());this.value=this.stringify.raw(c)}return o.prototype.clone=function(){return Object.create(this)},o.prototype.toString=function(l){return this.options.writer.set(l).raw(this)},o}(n)}).call(Lt)),A4.exports}var C4={exports:{}},Sq;function $3(){return Sq||(Sq=1,(function(){var n,e=function(r,o){for(var l in o)i.call(o,l)&&(r[l]=o[l]);function c(){this.constructor=r}return c.prototype=o.prototype,r.prototype=new c,r.__super__=o.prototype,r},i={}.hasOwnProperty;n=pa(),C4.exports=function(r){e(o,r);function o(l,c){if(o.__super__.constructor.call(this,l),c==null)throw new Error("Missing element text. "+this.debugInfo());this.value=this.stringify.eleText(c)}return o.prototype.clone=function(){return Object.create(this)},o.prototype.toString=function(l){return this.options.writer.set(l).text(this)},o}(n)}).call(Lt)),C4.exports}var T4={exports:{}},Aq;function q3(){return Aq||(Aq=1,(function(){var n,e=function(r,o){for(var l in o)i.call(o,l)&&(r[l]=o[l]);function c(){this.constructor=r}return c.prototype=o.prototype,r.prototype=new c,r.__super__=o.prototype,r},i={}.hasOwnProperty;n=pa(),T4.exports=function(r){e(o,r);function o(l,c,u){if(o.__super__.constructor.call(this,l),c==null)throw new Error("Missing instruction target. "+this.debugInfo());this.target=this.stringify.insTarget(c),u&&(this.value=this.stringify.insValue(u))}return o.prototype.clone=function(){return Object.create(this)},o.prototype.toString=function(l){return this.options.writer.set(l).processingInstruction(this)},o}(n)}).call(Lt)),T4.exports}var D4={exports:{}},Cq;function JF(){return Cq||(Cq=1,(function(){var n,e=function(r,o){for(var l in o)i.call(o,l)&&(r[l]=o[l]);function c(){this.constructor=r}return c.prototype=o.prototype,r.prototype=new c,r.__super__=o.prototype,r},i={}.hasOwnProperty;n=pa(),D4.exports=function(r){e(o,r);function o(l){o.__super__.constructor.call(this,l),this.isDummy=!0}return o.prototype.clone=function(){return Object.create(this)},o.prototype.toString=function(l){return""},o}(n)}).call(Lt)),D4.exports}var Tq;function pa(){return Tq||(Tq=1,(function(){var n,e,i,r,o,l,c,u,h,m,g,y,v,_,A={}.hasOwnProperty;_=Km(),v=_.isObject,y=_.isFunction,g=_.isEmpty,m=_.getValue,l=null,n=null,e=null,i=null,r=null,u=null,h=null,c=null,o=null,m4.exports=function(){function S(C){this.parent=C,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],l||(l=R3(),n=M3(),e=O3(),i=F3(),r=V3(),u=W3(),h=$3(),c=q3(),o=JF())}return S.prototype.element=function(C,T,N){var j,O,F,U,V,B,K,oe,me,Q,ge;if(B=null,T===null&&N==null&&(me=[{},null],T=me[0],N=me[1]),T==null&&(T={}),T=m(T),v(T)||(Q=[T,N],N=Q[0],T=Q[1]),C!=null&&(C=m(C)),Array.isArray(C))for(F=0,K=C.length;F<K;F++)O=C[F],B=this.element(O);else if(y(C))B=this.element(C.apply());else if(v(C)){for(V in C)if(A.call(C,V))if(ge=C[V],y(ge)&&(ge=ge.apply()),v(ge)&&g(ge)&&(ge=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&V.indexOf(this.stringify.convertAttKey)===0)B=this.attribute(V.substr(this.stringify.convertAttKey.length),ge);else if(!this.options.separateArrayItems&&Array.isArray(ge))for(U=0,oe=ge.length;U<oe;U++)O=ge[U],j={},j[V]=O,B=this.element(j);else v(ge)?(B=this.element(V),B.element(ge)):B=this.element(V,ge)}else this.options.skipNullNodes&&N===null?B=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&C.indexOf(this.stringify.convertTextKey)===0?B=this.text(N):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&C.indexOf(this.stringify.convertCDataKey)===0?B=this.cdata(N):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&C.indexOf(this.stringify.convertCommentKey)===0?B=this.comment(N):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&C.indexOf(this.stringify.convertRawKey)===0?B=this.raw(N):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&C.indexOf(this.stringify.convertPIKey)===0?B=this.instruction(C.substr(this.stringify.convertPIKey.length),N):B=this.node(C,T,N);if(B==null)throw new Error("Could not create any elements with: "+C+". "+this.debugInfo());return B},S.prototype.insertBefore=function(C,T,N){var j,O,F;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(C));return O=this.parent.children.indexOf(this),F=this.parent.children.splice(O),j=this.parent.element(C,T,N),Array.prototype.push.apply(this.parent.children,F),j},S.prototype.insertAfter=function(C,T,N){var j,O,F;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(C));return O=this.parent.children.indexOf(this),F=this.parent.children.splice(O+1),j=this.parent.element(C,T,N),Array.prototype.push.apply(this.parent.children,F),j},S.prototype.remove=function(){var C;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return C=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[C,C-C+1].concat([])),this.parent},S.prototype.node=function(C,T,N){var j,O;return C!=null&&(C=m(C)),T||(T={}),T=m(T),v(T)||(O=[T,N],N=O[0],T=O[1]),j=new l(this,C,T),N!=null&&j.text(N),this.children.push(j),j},S.prototype.text=function(C){var T;return T=new h(this,C),this.children.push(T),this},S.prototype.cdata=function(C){var T;return T=new n(this,C),this.children.push(T),this},S.prototype.comment=function(C){var T;return T=new e(this,C),this.children.push(T),this},S.prototype.commentBefore=function(C){var T,N;return T=this.parent.children.indexOf(this),N=this.parent.children.splice(T),this.parent.comment(C),Array.prototype.push.apply(this.parent.children,N),this},S.prototype.commentAfter=function(C){var T,N;return T=this.parent.children.indexOf(this),N=this.parent.children.splice(T+1),this.parent.comment(C),Array.prototype.push.apply(this.parent.children,N),this},S.prototype.raw=function(C){var T;return T=new u(this,C),this.children.push(T),this},S.prototype.dummy=function(){var C;return C=new o(this),this.children.push(C),C},S.prototype.instruction=function(C,T){var N,j,O,F,U;if(C!=null&&(C=m(C)),T!=null&&(T=m(T)),Array.isArray(C))for(F=0,U=C.length;F<U;F++)N=C[F],this.instruction(N);else if(v(C))for(N in C)A.call(C,N)&&(j=C[N],this.instruction(N,j));else y(T)&&(T=T.apply()),O=new c(this,C,T),this.children.push(O);return this},S.prototype.instructionBefore=function(C,T){var N,j;return N=this.parent.children.indexOf(this),j=this.parent.children.splice(N),this.parent.instruction(C,T),Array.prototype.push.apply(this.parent.children,j),this},S.prototype.instructionAfter=function(C,T){var N,j;return N=this.parent.children.indexOf(this),j=this.parent.children.splice(N+1),this.parent.instruction(C,T),Array.prototype.push.apply(this.parent.children,j),this},S.prototype.declaration=function(C,T,N){var j,O;return j=this.document(),O=new i(j,C,T,N),j.children[0]instanceof i?j.children[0]=O:j.children.unshift(O),j.root()||j},S.prototype.doctype=function(C,T){var N,j,O,F,U,V,B,K,oe,me;for(j=this.document(),O=new r(j,C,T),oe=j.children,F=U=0,B=oe.length;U<B;F=++U)if(N=oe[F],N instanceof r)return j.children[F]=O,O;for(me=j.children,F=V=0,K=me.length;V<K;F=++V)if(N=me[F],N.isRoot)return j.children.splice(F,0,O),O;return j.children.push(O),O},S.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},S.prototype.root=function(){var C;for(C=this;C;){if(C.isDocument)return C.rootObject;if(C.isRoot)return C;C=C.parent}},S.prototype.document=function(){var C;for(C=this;C;){if(C.isDocument)return C;C=C.parent}},S.prototype.end=function(C){return this.document().end(C)},S.prototype.prev=function(){var C;for(C=this.parent.children.indexOf(this);C>0&&this.parent.children[C-1].isDummy;)C=C-1;if(C<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[C-1]},S.prototype.next=function(){var C;for(C=this.parent.children.indexOf(this);C<this.parent.children.length-1&&this.parent.children[C+1].isDummy;)C=C+1;if(C===-1||C===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[C+1]},S.prototype.importDocument=function(C){var T;return T=C.root().clone(),T.parent=this,T.isRoot=!1,this.children.push(T),this},S.prototype.debugInfo=function(C){var T,N;return C=C||this.name,C==null&&!((T=this.parent)!=null&&T.name)?"":C==null?"parent: <"+this.parent.name+">":(N=this.parent)!=null&&N.name?"node: <"+C+">, parent: <"+this.parent.name+">":"node: <"+C+">"},S.prototype.ele=function(C,T,N){return this.element(C,T,N)},S.prototype.nod=function(C,T,N){return this.node(C,T,N)},S.prototype.txt=function(C){return this.text(C)},S.prototype.dat=function(C){return this.cdata(C)},S.prototype.com=function(C){return this.comment(C)},S.prototype.ins=function(C,T){return this.instruction(C,T)},S.prototype.doc=function(){return this.document()},S.prototype.dec=function(C,T,N){return this.declaration(C,T,N)},S.prototype.dtd=function(C,T){return this.doctype(C,T)},S.prototype.e=function(C,T,N){return this.element(C,T,N)},S.prototype.n=function(C,T,N){return this.node(C,T,N)},S.prototype.t=function(C){return this.text(C)},S.prototype.d=function(C){return this.cdata(C)},S.prototype.c=function(C){return this.comment(C)},S.prototype.r=function(C){return this.raw(C)},S.prototype.i=function(C,T){return this.instruction(C,T)},S.prototype.u=function(){return this.up()},S.prototype.importXMLBuilder=function(C){return this.importDocument(C)},S}()}).call(Lt)),m4.exports}var N4={exports:{}},Dq;function mee(){return Dq||(Dq=1,(function(){var n=function(i,r){return function(){return i.apply(r,arguments)}},e={}.hasOwnProperty;N4.exports=function(){function i(r){this.assertLegalChar=n(this.assertLegalChar,this);var o,l,c;r||(r={}),this.noDoubleEncoding=r.noDoubleEncoding,l=r.stringify||{};for(o in l)e.call(l,o)&&(c=l[o],this[o]=c)}return i.prototype.eleName=function(r){return r=""+r||"",this.assertLegalChar(r)},i.prototype.eleText=function(r){return r=""+r||"",this.assertLegalChar(this.elEscape(r))},i.prototype.cdata=function(r){return r=""+r||"",r=r.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(r)},i.prototype.comment=function(r){if(r=""+r||"",r.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+r);return this.assertLegalChar(r)},i.prototype.raw=function(r){return""+r||""},i.prototype.attName=function(r){return r=""+r||""},i.prototype.attValue=function(r){return r=""+r||"",this.attEscape(r)},i.prototype.insTarget=function(r){return""+r||""},i.prototype.insValue=function(r){if(r=""+r||"",r.match(/\?>/))throw new Error("Invalid processing instruction value: "+r);return r},i.prototype.xmlVersion=function(r){if(r=""+r||"",!r.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+r);return r},i.prototype.xmlEncoding=function(r){if(r=""+r||"",!r.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+r);return r},i.prototype.xmlStandalone=function(r){return r?"yes":"no"},i.prototype.dtdPubID=function(r){return""+r||""},i.prototype.dtdSysID=function(r){return""+r||""},i.prototype.dtdElementValue=function(r){return""+r||""},i.prototype.dtdAttType=function(r){return""+r||""},i.prototype.dtdAttDefault=function(r){return r!=null?""+r||"":r},i.prototype.dtdEntityValue=function(r){return""+r||""},i.prototype.dtdNData=function(r){return""+r||""},i.prototype.convertAttKey="@",i.prototype.convertPIKey="?",i.prototype.convertTextKey="#text",i.prototype.convertCDataKey="#cdata",i.prototype.convertCommentKey="#comment",i.prototype.convertRawKey="#raw",i.prototype.assertLegalChar=function(r){var o;if(o=r.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),o)throw new Error("Invalid character in string: "+r+" at index "+o.index);return r},i.prototype.elEscape=function(r){var o;return o=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(o,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},i.prototype.attEscape=function(r){var o;return o=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(o,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},i}()}).call(Lt)),N4.exports}var P4={exports:{}},j4={exports:{}},Nq;function gee(){return Nq||(Nq=1,(function(){var n={}.hasOwnProperty;j4.exports=function(){function e(i){var r,o,l,c,u,h,m,g,y;i||(i={}),this.pretty=i.pretty||!1,this.allowEmpty=(o=i.allowEmpty)!=null?o:!1,this.pretty?(this.indent=(l=i.indent)!=null?l:"  ",this.newline=(c=i.newline)!=null?c:`
`,this.offset=(u=i.offset)!=null?u:0,this.dontprettytextnodes=(h=i.dontprettytextnodes)!=null?h:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=(m=i.spacebeforeslash)!=null?m:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,g=i.writer||{};for(r in g)n.call(g,r)&&(y=g[r],this[r]=y)}return e.prototype.set=function(i){var r,o,l;i||(i={}),"pretty"in i&&(this.pretty=i.pretty),"allowEmpty"in i&&(this.allowEmpty=i.allowEmpty),this.pretty?(this.indent="indent"in i?i.indent:"  ",this.newline="newline"in i?i.newline:`
`,this.offset="offset"in i?i.offset:0,this.dontprettytextnodes="dontprettytextnodes"in i?i.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in i?i.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,o=i.writer||{};for(r in o)n.call(o,r)&&(l=o[r],this[r]=l);return this},e.prototype.space=function(i){var r;return this.pretty?(r=(i||0)+this.offset+1,r>0?new Array(r).join(this.indent):""):""},e}()}).call(Lt)),j4.exports}var Pq;function QF(){return Pq||(Pq=1,(function(){var n,e,i,r,o,l,c,u,h,m,g,y,v,_,A=function(C,T){for(var N in T)S.call(T,N)&&(C[N]=T[N]);function j(){this.constructor=C}return j.prototype=T.prototype,C.prototype=new j,C.__super__=T.prototype,C},S={}.hasOwnProperty;c=F3(),u=V3(),n=M3(),e=O3(),m=R3(),y=W3(),v=$3(),g=q3(),h=JF(),i=U3(),r=B3(),o=L3(),l=z3(),_=gee(),P4.exports=function(C){A(T,C);function T(N){T.__super__.constructor.call(this,N)}return T.prototype.document=function(N){var j,O,F,U,V;for(this.textispresent=!1,U="",V=N.children,O=0,F=V.length;O<F;O++)j=V[O],!(j instanceof h)&&(U+=(function(){switch(!1){case!(j instanceof c):return this.declaration(j);case!(j instanceof u):return this.docType(j);case!(j instanceof e):return this.comment(j);case!(j instanceof g):return this.processingInstruction(j);default:return this.element(j,0)}}).call(this));return this.pretty&&U.slice(-this.newline.length)===this.newline&&(U=U.slice(0,-this.newline.length)),U},T.prototype.attribute=function(N){return" "+N.name+'="'+N.value+'"'},T.prototype.cdata=function(N,j){return this.space(j)+"<![CDATA["+N.text+"]]>"+this.newline},T.prototype.comment=function(N,j){return this.space(j)+"<!-- "+N.text+" -->"+this.newline},T.prototype.declaration=function(N,j){var O;return O=this.space(j),O+='<?xml version="'+N.version+'"',N.encoding!=null&&(O+=' encoding="'+N.encoding+'"'),N.standalone!=null&&(O+=' standalone="'+N.standalone+'"'),O+=this.spacebeforeslash+"?>",O+=this.newline,O},T.prototype.docType=function(N,j){var O,F,U,V,B;if(j||(j=0),V=this.space(j),V+="<!DOCTYPE "+N.root().name,N.pubID&&N.sysID?V+=' PUBLIC "'+N.pubID+'" "'+N.sysID+'"':N.sysID&&(V+=' SYSTEM "'+N.sysID+'"'),N.children.length>0){for(V+=" [",V+=this.newline,B=N.children,F=0,U=B.length;F<U;F++)O=B[F],V+=(function(){switch(!1){case!(O instanceof i):return this.dtdAttList(O,j+1);case!(O instanceof r):return this.dtdElement(O,j+1);case!(O instanceof o):return this.dtdEntity(O,j+1);case!(O instanceof l):return this.dtdNotation(O,j+1);case!(O instanceof n):return this.cdata(O,j+1);case!(O instanceof e):return this.comment(O,j+1);case!(O instanceof g):return this.processingInstruction(O,j+1);default:throw new Error("Unknown DTD node type: "+O.constructor.name)}}).call(this);V+="]"}return V+=this.spacebeforeslash+">",V+=this.newline,V},T.prototype.element=function(N,j){var O,F,U,V,B,K,oe,me,Q,ge,$,De,ie;j||(j=0),ie=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),De=this.space(j),me="",me+=De+"<"+N.name,Q=N.attributes;for(oe in Q)S.call(Q,oe)&&(O=Q[oe],me+=this.attribute(O));if(N.children.length===0||N.children.every(function(ce){return ce.value===""}))this.allowEmpty?me+="></"+N.name+">"+this.newline:me+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&N.children.length===1&&N.children[0].value!=null)me+=">",me+=N.children[0].value,me+="</"+N.name+">"+this.newline;else{if(this.dontprettytextnodes){for(ge=N.children,U=0,B=ge.length;U<B;U++)if(F=ge[U],F.value!=null){this.textispresent++,ie=!0;break}}for(this.textispresent&&(this.newline="",this.pretty=!1,De=this.space(j)),me+=">"+this.newline,$=N.children,V=0,K=$.length;V<K;V++)F=$[V],me+=(function(){switch(!1){case!(F instanceof n):return this.cdata(F,j+1);case!(F instanceof e):return this.comment(F,j+1);case!(F instanceof m):return this.element(F,j+1);case!(F instanceof y):return this.raw(F,j+1);case!(F instanceof v):return this.text(F,j+1);case!(F instanceof g):return this.processingInstruction(F,j+1);case!(F instanceof h):return"";default:throw new Error("Unknown XML node type: "+F.constructor.name)}}).call(this);ie&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),me+=De+"</"+N.name+">"+this.newline}return me},T.prototype.processingInstruction=function(N,j){var O;return O=this.space(j)+"<?"+N.target,N.value&&(O+=" "+N.value),O+=this.spacebeforeslash+"?>"+this.newline,O},T.prototype.raw=function(N,j){return this.space(j)+N.value+this.newline},T.prototype.text=function(N,j){return this.space(j)+N.value+this.newline},T.prototype.dtdAttList=function(N,j){var O;return O=this.space(j)+"<!ATTLIST "+N.elementName+" "+N.attributeName+" "+N.attributeType,N.defaultValueType!=="#DEFAULT"&&(O+=" "+N.defaultValueType),N.defaultValue&&(O+=' "'+N.defaultValue+'"'),O+=this.spacebeforeslash+">"+this.newline,O},T.prototype.dtdElement=function(N,j){return this.space(j)+"<!ELEMENT "+N.name+" "+N.value+this.spacebeforeslash+">"+this.newline},T.prototype.dtdEntity=function(N,j){var O;return O=this.space(j)+"<!ENTITY",N.pe&&(O+=" %"),O+=" "+N.name,N.value?O+=' "'+N.value+'"':(N.pubID&&N.sysID?O+=' PUBLIC "'+N.pubID+'" "'+N.sysID+'"':N.sysID&&(O+=' SYSTEM "'+N.sysID+'"'),N.nData&&(O+=" NDATA "+N.nData)),O+=this.spacebeforeslash+">"+this.newline,O},T.prototype.dtdNotation=function(N,j){var O;return O=this.space(j)+"<!NOTATION "+N.name,N.pubID&&N.sysID?O+=' PUBLIC "'+N.pubID+'" "'+N.sysID+'"':N.pubID?O+=' PUBLIC "'+N.pubID+'"':N.sysID&&(O+=' SYSTEM "'+N.sysID+'"'),O+=this.spacebeforeslash+">"+this.newline,O},T.prototype.openNode=function(N,j){var O,F,U,V;if(j||(j=0),N instanceof m){U=this.space(j)+"<"+N.name,V=N.attributes;for(F in V)S.call(V,F)&&(O=V[F],U+=this.attribute(O));return U+=(N.children?">":"/>")+this.newline,U}else return U=this.space(j)+"<!DOCTYPE "+N.rootNodeName,N.pubID&&N.sysID?U+=' PUBLIC "'+N.pubID+'" "'+N.sysID+'"':N.sysID&&(U+=' SYSTEM "'+N.sysID+'"'),U+=(N.children?" [":">")+this.newline,U},T.prototype.closeNode=function(N,j){switch(j||(j=0),!1){case!(N instanceof m):return this.space(j)+"</"+N.name+">"+this.newline;case!(N instanceof u):return this.space(j)+"]>"+this.newline}},T}(_)}).call(Lt)),P4.exports}var jq;function w2e(){return jq||(jq=1,(function(){var n,e,i,r,o=function(c,u){for(var h in u)l.call(u,h)&&(c[h]=u[h]);function m(){this.constructor=c}return m.prototype=u.prototype,c.prototype=new m,c.__super__=u.prototype,c},l={}.hasOwnProperty;r=Km().isPlainObject,n=pa(),i=mee(),e=QF(),p4.exports=function(c){o(u,c);function u(h){u.__super__.constructor.call(this,null),this.name="?xml",h||(h={}),h.writer||(h.writer=new e),this.options=h,this.stringify=new i(h),this.isDocument=!0}return u.prototype.end=function(h){var m;return h?r(h)&&(m=h,h=this.options.writer.set(m)):h=this.options.writer,h.document(this)},u.prototype.toString=function(h){return this.options.writer.set(h).document(this)},u}(n)}).call(Lt)),p4.exports}var I4={exports:{}},Iq;function x2e(){return Iq||(Iq=1,(function(){var n,e,i,r,o,l,c,u,h,m,g,y,v,_,A,S,C,T,N,j,O={}.hasOwnProperty;j=Km(),T=j.isObject,C=j.isFunction,N=j.isPlainObject,S=j.getValue,m=R3(),e=M3(),i=O3(),y=W3(),A=$3(),g=q3(),u=F3(),h=V3(),r=U3(),l=L3(),o=B3(),c=z3(),n=pee(),_=mee(),v=QF(),I4.exports=function(){function F(U,V,B){var K;this.name="?xml",U||(U={}),U.writer?N(U.writer)&&(K=U.writer,U.writer=new v(K)):U.writer=new v(U),this.options=U,this.writer=U.writer,this.stringify=new _(U),this.onDataCallback=V||function(){},this.onEndCallback=B||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return F.prototype.node=function(U,V,B){var K,oe;if(U==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(U));return this.openCurrent(),U=S(U),V===null&&B==null&&(K=[{},null],V=K[0],B=K[1]),V==null&&(V={}),V=S(V),T(V)||(oe=[V,B],B=oe[0],V=oe[1]),this.currentNode=new m(this,U,V),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,B!=null&&this.text(B),this},F.prototype.element=function(U,V,B){return this.currentNode&&this.currentNode instanceof h?this.dtdElement.apply(this,arguments):this.node(U,V,B)},F.prototype.attribute=function(U,V){var B,K;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(U));if(U!=null&&(U=S(U)),T(U))for(B in U)O.call(U,B)&&(K=U[B],this.attribute(B,K));else C(V)&&(V=V.apply()),(!this.options.skipNullAttributes||V!=null)&&(this.currentNode.attributes[U]=new n(this,U,V));return this},F.prototype.text=function(U){var V;return this.openCurrent(),V=new A(this,U),this.onData(this.writer.text(V,this.currentLevel+1),this.currentLevel+1),this},F.prototype.cdata=function(U){var V;return this.openCurrent(),V=new e(this,U),this.onData(this.writer.cdata(V,this.currentLevel+1),this.currentLevel+1),this},F.prototype.comment=function(U){var V;return this.openCurrent(),V=new i(this,U),this.onData(this.writer.comment(V,this.currentLevel+1),this.currentLevel+1),this},F.prototype.raw=function(U){var V;return this.openCurrent(),V=new y(this,U),this.onData(this.writer.raw(V,this.currentLevel+1),this.currentLevel+1),this},F.prototype.instruction=function(U,V){var B,K,oe,me,Q;if(this.openCurrent(),U!=null&&(U=S(U)),V!=null&&(V=S(V)),Array.isArray(U))for(B=0,me=U.length;B<me;B++)K=U[B],this.instruction(K);else if(T(U))for(K in U)O.call(U,K)&&(oe=U[K],this.instruction(K,oe));else C(V)&&(V=V.apply()),Q=new g(this,U,V),this.onData(this.writer.processingInstruction(Q,this.currentLevel+1),this.currentLevel+1);return this},F.prototype.declaration=function(U,V,B){var K;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return K=new u(this,U,V,B),this.onData(this.writer.declaration(K,this.currentLevel+1),this.currentLevel+1),this},F.prototype.doctype=function(U,V,B){if(this.openCurrent(),U==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new h(this,V,B),this.currentNode.rootNodeName=U,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},F.prototype.dtdElement=function(U,V){var B;return this.openCurrent(),B=new o(this,U,V),this.onData(this.writer.dtdElement(B,this.currentLevel+1),this.currentLevel+1),this},F.prototype.attList=function(U,V,B,K,oe){var me;return this.openCurrent(),me=new r(this,U,V,B,K,oe),this.onData(this.writer.dtdAttList(me,this.currentLevel+1),this.currentLevel+1),this},F.prototype.entity=function(U,V){var B;return this.openCurrent(),B=new l(this,!1,U,V),this.onData(this.writer.dtdEntity(B,this.currentLevel+1),this.currentLevel+1),this},F.prototype.pEntity=function(U,V){var B;return this.openCurrent(),B=new l(this,!0,U,V),this.onData(this.writer.dtdEntity(B,this.currentLevel+1),this.currentLevel+1),this},F.prototype.notation=function(U,V){var B;return this.openCurrent(),B=new c(this,U,V),this.onData(this.writer.dtdNotation(B,this.currentLevel+1),this.currentLevel+1),this},F.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},F.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},F.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},F.prototype.openNode=function(U){if(!U.isOpen)return!this.root&&this.currentLevel===0&&U instanceof m&&(this.root=U),this.onData(this.writer.openNode(U,this.currentLevel),this.currentLevel),U.isOpen=!0},F.prototype.closeNode=function(U){if(!U.isClosed)return this.onData(this.writer.closeNode(U,this.currentLevel),this.currentLevel),U.isClosed=!0},F.prototype.onData=function(U,V){return this.documentStarted=!0,this.onDataCallback(U,V+1)},F.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},F.prototype.debugInfo=function(U){return U==null?"":"node: <"+U+">"},F.prototype.ele=function(){return this.element.apply(this,arguments)},F.prototype.nod=function(U,V,B){return this.node(U,V,B)},F.prototype.txt=function(U){return this.text(U)},F.prototype.dat=function(U){return this.cdata(U)},F.prototype.com=function(U){return this.comment(U)},F.prototype.ins=function(U,V){return this.instruction(U,V)},F.prototype.dec=function(U,V,B){return this.declaration(U,V,B)},F.prototype.dtd=function(U,V,B){return this.doctype(U,V,B)},F.prototype.e=function(U,V,B){return this.element(U,V,B)},F.prototype.n=function(U,V,B){return this.node(U,V,B)},F.prototype.t=function(U){return this.text(U)},F.prototype.d=function(U){return this.cdata(U)},F.prototype.c=function(U){return this.comment(U)},F.prototype.r=function(U){return this.raw(U)},F.prototype.i=function(U,V){return this.instruction(U,V)},F.prototype.att=function(){return this.currentNode&&this.currentNode instanceof h?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},F.prototype.a=function(){return this.currentNode&&this.currentNode instanceof h?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},F.prototype.ent=function(U,V){return this.entity(U,V)},F.prototype.pent=function(U,V){return this.pEntity(U,V)},F.prototype.not=function(U,V){return this.notation(U,V)},F}()}).call(Lt)),I4.exports}var R4={exports:{}},Rq;function _2e(){return Rq||(Rq=1,(function(){var n,e,i,r,o,l,c,u,h,m,g,y,v,_,A=function(C,T){for(var N in T)S.call(T,N)&&(C[N]=T[N]);function j(){this.constructor=C}return j.prototype=T.prototype,C.prototype=new j,C.__super__=T.prototype,C},S={}.hasOwnProperty;c=F3(),u=V3(),n=M3(),e=O3(),m=R3(),y=W3(),v=$3(),g=q3(),h=JF(),i=U3(),r=B3(),o=L3(),l=z3(),_=gee(),R4.exports=function(C){A(T,C);function T(N,j){T.__super__.constructor.call(this,j),this.stream=N}return T.prototype.document=function(N){var j,O,F,U,V,B,K,oe;for(B=N.children,O=0,U=B.length;O<U;O++)j=B[O],j.isLastRootNode=!1;for(N.children[N.children.length-1].isLastRootNode=!0,K=N.children,oe=[],F=0,V=K.length;F<V;F++)if(j=K[F],!(j instanceof h))switch(!1){case!(j instanceof c):oe.push(this.declaration(j));break;case!(j instanceof u):oe.push(this.docType(j));break;case!(j instanceof e):oe.push(this.comment(j));break;case!(j instanceof g):oe.push(this.processingInstruction(j));break;default:oe.push(this.element(j))}return oe},T.prototype.attribute=function(N){return this.stream.write(" "+N.name+'="'+N.value+'"')},T.prototype.cdata=function(N,j){return this.stream.write(this.space(j)+"<![CDATA["+N.text+"]]>"+this.endline(N))},T.prototype.comment=function(N,j){return this.stream.write(this.space(j)+"<!-- "+N.text+" -->"+this.endline(N))},T.prototype.declaration=function(N,j){return this.stream.write(this.space(j)),this.stream.write('<?xml version="'+N.version+'"'),N.encoding!=null&&this.stream.write(' encoding="'+N.encoding+'"'),N.standalone!=null&&this.stream.write(' standalone="'+N.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(N))},T.prototype.docType=function(N,j){var O,F,U,V;if(j||(j=0),this.stream.write(this.space(j)),this.stream.write("<!DOCTYPE "+N.root().name),N.pubID&&N.sysID?this.stream.write(' PUBLIC "'+N.pubID+'" "'+N.sysID+'"'):N.sysID&&this.stream.write(' SYSTEM "'+N.sysID+'"'),N.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(N)),V=N.children,F=0,U=V.length;F<U;F++)switch(O=V[F],!1){case!(O instanceof i):this.dtdAttList(O,j+1);break;case!(O instanceof r):this.dtdElement(O,j+1);break;case!(O instanceof o):this.dtdEntity(O,j+1);break;case!(O instanceof l):this.dtdNotation(O,j+1);break;case!(O instanceof n):this.cdata(O,j+1);break;case!(O instanceof e):this.comment(O,j+1);break;case!(O instanceof g):this.processingInstruction(O,j+1);break;default:throw new Error("Unknown DTD node type: "+O.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(N))},T.prototype.element=function(N,j){var O,F,U,V,B,K,oe,me;j||(j=0),me=this.space(j),this.stream.write(me+"<"+N.name),K=N.attributes;for(B in K)S.call(K,B)&&(O=K[B],this.attribute(O));if(N.children.length===0||N.children.every(function(Q){return Q.value===""}))this.allowEmpty?this.stream.write("></"+N.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&N.children.length===1&&N.children[0].value!=null)this.stream.write(">"),this.stream.write(N.children[0].value),this.stream.write("</"+N.name+">");else{for(this.stream.write(">"+this.newline),oe=N.children,U=0,V=oe.length;U<V;U++)switch(F=oe[U],!1){case!(F instanceof n):this.cdata(F,j+1);break;case!(F instanceof e):this.comment(F,j+1);break;case!(F instanceof m):this.element(F,j+1);break;case!(F instanceof y):this.raw(F,j+1);break;case!(F instanceof v):this.text(F,j+1);break;case!(F instanceof g):this.processingInstruction(F,j+1);break;case!(F instanceof h):break;default:throw new Error("Unknown XML node type: "+F.constructor.name)}this.stream.write(me+"</"+N.name+">")}return this.stream.write(this.endline(N))},T.prototype.processingInstruction=function(N,j){return this.stream.write(this.space(j)+"<?"+N.target),N.value&&this.stream.write(" "+N.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(N))},T.prototype.raw=function(N,j){return this.stream.write(this.space(j)+N.value+this.endline(N))},T.prototype.text=function(N,j){return this.stream.write(this.space(j)+N.value+this.endline(N))},T.prototype.dtdAttList=function(N,j){return this.stream.write(this.space(j)+"<!ATTLIST "+N.elementName+" "+N.attributeName+" "+N.attributeType),N.defaultValueType!=="#DEFAULT"&&this.stream.write(" "+N.defaultValueType),N.defaultValue&&this.stream.write(' "'+N.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(N))},T.prototype.dtdElement=function(N,j){return this.stream.write(this.space(j)+"<!ELEMENT "+N.name+" "+N.value),this.stream.write(this.spacebeforeslash+">"+this.endline(N))},T.prototype.dtdEntity=function(N,j){return this.stream.write(this.space(j)+"<!ENTITY"),N.pe&&this.stream.write(" %"),this.stream.write(" "+N.name),N.value?this.stream.write(' "'+N.value+'"'):(N.pubID&&N.sysID?this.stream.write(' PUBLIC "'+N.pubID+'" "'+N.sysID+'"'):N.sysID&&this.stream.write(' SYSTEM "'+N.sysID+'"'),N.nData&&this.stream.write(" NDATA "+N.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(N))},T.prototype.dtdNotation=function(N,j){return this.stream.write(this.space(j)+"<!NOTATION "+N.name),N.pubID&&N.sysID?this.stream.write(' PUBLIC "'+N.pubID+'" "'+N.sysID+'"'):N.pubID?this.stream.write(' PUBLIC "'+N.pubID+'"'):N.sysID&&this.stream.write(' SYSTEM "'+N.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(N))},T.prototype.endline=function(N){return N.isLastRootNode?"":this.newline},T}(_)}).call(Lt)),R4.exports}(function(){var n,e,i,r,o,l,c;c=Km(),o=c.assign,l=c.isFunction,n=w2e(),e=x2e(),r=QF(),i=_2e(),Rk.create=function(u,h,m,g){var y,v;if(u==null)throw new Error("Root element needs a name.");return g=o({},h,m,g),y=new n(g),v=y.element(u),g.headless||(y.declaration(g),(g.pubID!=null||g.sysID!=null)&&y.doctype(g)),v},Rk.begin=function(u,h,m){var g;return l(u)&&(g=[u,h],h=g[0],m=g[1],u={}),h?new e(u,h,m):new n(u)},Rk.stringWriter=function(u){return new r(u)},Rk.streamWriter=function(u,h){return new i(u,h)}}).call(Lt);var Mq=lr,k2e=Rk;fee.writeString=E2e;function E2e(n,e){var i=Mq.invert(e),r={element:l,text:S2e};function o(h,m){return r[m.type](h,m)}function l(h,m){var g=h.element(c(m.name),m.attributes);m.children.forEach(function(y){o(g,y)})}function c(h){var m=/^\{(.*)\}(.*)$/.exec(h);if(m){var g=i[m[1]];return g+(g===""?"":":")+m[2]}else return h}function u(h){var m=k2e.create(c(h.name),{version:"1.0",encoding:"UTF-8",standalone:!0});return Mq.forEach(e,function(g,y){var v="xmlns"+(y===""?"":":"+y);m.attribute(v,g)}),h.children.forEach(function(g){o(m,g)}),m.end()}return u(n)}function S2e(n,e){n.text(e.value)}var H3=tx;vf.Element=H3.Element;vf.element=H3.element;vf.emptyElement=H3.emptyElement;vf.text=H3.text;vf.readString=RQ.readString;vf.writeString=fee.writeString;var A2e=lr,C2e=is,T2e=vf;BF.read=bee;BF.readXmlFromZipFile=N2e;var D2e={"http://schemas.openxmlformats.org/wordprocessingml/2006/main":"w","http://schemas.openxmlformats.org/officeDocument/2006/relationships":"r","http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing":"wp","http://schemas.openxmlformats.org/drawingml/2006/main":"a","http://schemas.openxmlformats.org/drawingml/2006/picture":"pic","http://purl.oclc.org/ooxml/wordprocessingml/main":"w","http://purl.oclc.org/ooxml/officeDocument/relationships":"r","http://purl.oclc.org/ooxml/drawingml/wordprocessingDrawing":"wp","http://purl.oclc.org/ooxml/drawingml/main":"a","http://purl.oclc.org/ooxml/drawingml/picture":"pic","http://schemas.openxmlformats.org/package/2006/content-types":"content-types","http://schemas.openxmlformats.org/package/2006/relationships":"relationships","http://schemas.openxmlformats.org/markup-compatibility/2006":"mc","urn:schemas-microsoft-com:vml":"v","urn:schemas-microsoft-com:office:word":"office-word","http://schemas.microsoft.com/office/word/2010/wordml":"wordml"};function bee(n){return T2e.readString(n,D2e).then(function(e){return yee(e)[0]})}function N2e(n,e){return n.exists(e)?n.read(e,"utf-8").then(P2e).then(bee):C2e.resolve(null)}function P2e(n){return n.replace(/^\uFEFF/g,"")}function yee(n){return n.type==="element"?n.name==="mc:AlternateContent"?n.firstOrEmpty("mc:Fallback").children:(n.children=A2e.flatten(n.children.map(yee,!0)),[n]):[n]}var eU={},Cm={},tU={};Object.defineProperty(tU,"__esModule",{value:!0});var j2e=[{"Typeface name":"Symbol","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Symbol","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"33","Unicode hex":"21"},{"Typeface name":"Symbol","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"8704","Unicode hex":"2200"},{"Typeface name":"Symbol","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"35","Unicode hex":"23"},{"Typeface name":"Symbol","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"8707","Unicode hex":"2203"},{"Typeface name":"Symbol","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"37","Unicode hex":"25"},{"Typeface name":"Symbol","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"38","Unicode hex":"26"},{"Typeface name":"Symbol","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"8717","Unicode hex":"220D"},{"Typeface name":"Symbol","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"40","Unicode hex":"28"},{"Typeface name":"Symbol","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"41","Unicode hex":"29"},{"Typeface name":"Symbol","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"42","Unicode hex":"2A"},{"Typeface name":"Symbol","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"43","Unicode hex":"2B"},{"Typeface name":"Symbol","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"44","Unicode hex":"2C"},{"Typeface name":"Symbol","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"8722","Unicode hex":"2212"},{"Typeface name":"Symbol","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"46","Unicode hex":"2E"},{"Typeface name":"Symbol","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"47","Unicode hex":"2F"},{"Typeface name":"Symbol","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"48","Unicode hex":"30"},{"Typeface name":"Symbol","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"49","Unicode hex":"31"},{"Typeface name":"Symbol","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"50","Unicode hex":"32"},{"Typeface name":"Symbol","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"51","Unicode hex":"33"},{"Typeface name":"Symbol","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"52","Unicode hex":"34"},{"Typeface name":"Symbol","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"53","Unicode hex":"35"},{"Typeface name":"Symbol","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"54","Unicode hex":"36"},{"Typeface name":"Symbol","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"55","Unicode hex":"37"},{"Typeface name":"Symbol","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"56","Unicode hex":"38"},{"Typeface name":"Symbol","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"57","Unicode hex":"39"},{"Typeface name":"Symbol","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"58","Unicode hex":"3A"},{"Typeface name":"Symbol","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"59","Unicode hex":"3B"},{"Typeface name":"Symbol","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"60","Unicode hex":"3C"},{"Typeface name":"Symbol","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"61","Unicode hex":"3D"},{"Typeface name":"Symbol","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"62","Unicode hex":"3E"},{"Typeface name":"Symbol","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"63","Unicode hex":"3F"},{"Typeface name":"Symbol","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"8773","Unicode hex":"2245"},{"Typeface name":"Symbol","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"913","Unicode hex":"391"},{"Typeface name":"Symbol","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"914","Unicode hex":"392"},{"Typeface name":"Symbol","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"935","Unicode hex":"3A7"},{"Typeface name":"Symbol","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"916","Unicode hex":"394"},{"Typeface name":"Symbol","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"917","Unicode hex":"395"},{"Typeface name":"Symbol","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"934","Unicode hex":"3A6"},{"Typeface name":"Symbol","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"915","Unicode hex":"393"},{"Typeface name":"Symbol","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"919","Unicode hex":"397"},{"Typeface name":"Symbol","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"921","Unicode hex":"399"},{"Typeface name":"Symbol","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"977","Unicode hex":"3D1"},{"Typeface name":"Symbol","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"922","Unicode hex":"39A"},{"Typeface name":"Symbol","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"923","Unicode hex":"39B"},{"Typeface name":"Symbol","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"924","Unicode hex":"39C"},{"Typeface name":"Symbol","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"925","Unicode hex":"39D"},{"Typeface name":"Symbol","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"927","Unicode hex":"39F"},{"Typeface name":"Symbol","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"928","Unicode hex":"3A0"},{"Typeface name":"Symbol","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"920","Unicode hex":"398"},{"Typeface name":"Symbol","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"929","Unicode hex":"3A1"},{"Typeface name":"Symbol","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"931","Unicode hex":"3A3"},{"Typeface name":"Symbol","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"932","Unicode hex":"3A4"},{"Typeface name":"Symbol","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"933","Unicode hex":"3A5"},{"Typeface name":"Symbol","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"962","Unicode hex":"3C2"},{"Typeface name":"Symbol","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"937","Unicode hex":"3A9"},{"Typeface name":"Symbol","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"926","Unicode hex":"39E"},{"Typeface name":"Symbol","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"936","Unicode hex":"3A8"},{"Typeface name":"Symbol","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"918","Unicode hex":"396"},{"Typeface name":"Symbol","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"91","Unicode hex":"5B"},{"Typeface name":"Symbol","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"8756","Unicode hex":"2234"},{"Typeface name":"Symbol","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"93","Unicode hex":"5D"},{"Typeface name":"Symbol","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"8869","Unicode hex":"22A5"},{"Typeface name":"Symbol","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"95","Unicode hex":"5F"},{"Typeface name":"Symbol","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"8254","Unicode hex":"203E"},{"Typeface name":"Symbol","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"945","Unicode hex":"3B1"},{"Typeface name":"Symbol","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"946","Unicode hex":"3B2"},{"Typeface name":"Symbol","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"967","Unicode hex":"3C7"},{"Typeface name":"Symbol","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"948","Unicode hex":"3B4"},{"Typeface name":"Symbol","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"949","Unicode hex":"3B5"},{"Typeface name":"Symbol","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"966","Unicode hex":"3C6"},{"Typeface name":"Symbol","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"947","Unicode hex":"3B3"},{"Typeface name":"Symbol","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"951","Unicode hex":"3B7"},{"Typeface name":"Symbol","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"953","Unicode hex":"3B9"},{"Typeface name":"Symbol","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"981","Unicode hex":"3D5"},{"Typeface name":"Symbol","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"954","Unicode hex":"3BA"},{"Typeface name":"Symbol","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"955","Unicode hex":"3BB"},{"Typeface name":"Symbol","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"956","Unicode hex":"3BC"},{"Typeface name":"Symbol","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"957","Unicode hex":"3BD"},{"Typeface name":"Symbol","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"959","Unicode hex":"3BF"},{"Typeface name":"Symbol","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"960","Unicode hex":"3C0"},{"Typeface name":"Symbol","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"952","Unicode hex":"3B8"},{"Typeface name":"Symbol","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"961","Unicode hex":"3C1"},{"Typeface name":"Symbol","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"963","Unicode hex":"3C3"},{"Typeface name":"Symbol","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"964","Unicode hex":"3C4"},{"Typeface name":"Symbol","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"965","Unicode hex":"3C5"},{"Typeface name":"Symbol","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"982","Unicode hex":"3D6"},{"Typeface name":"Symbol","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"969","Unicode hex":"3C9"},{"Typeface name":"Symbol","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"958","Unicode hex":"3BE"},{"Typeface name":"Symbol","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"968","Unicode hex":"3C8"},{"Typeface name":"Symbol","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"950","Unicode hex":"3B6"},{"Typeface name":"Symbol","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"123","Unicode hex":"7B"},{"Typeface name":"Symbol","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"124","Unicode hex":"7C"},{"Typeface name":"Symbol","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"125","Unicode hex":"7D"},{"Typeface name":"Symbol","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"126","Unicode hex":"7E"},{"Typeface name":"Symbol","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"8364","Unicode hex":"20AC"},{"Typeface name":"Symbol","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"978","Unicode hex":"3D2"},{"Typeface name":"Symbol","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"8242","Unicode hex":"2032"},{"Typeface name":"Symbol","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"8804","Unicode hex":"2264"},{"Typeface name":"Symbol","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"8260","Unicode hex":"2044"},{"Typeface name":"Symbol","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"8734","Unicode hex":"221E"},{"Typeface name":"Symbol","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"402","Unicode hex":"192"},{"Typeface name":"Symbol","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9827","Unicode hex":"2663"},{"Typeface name":"Symbol","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9830","Unicode hex":"2666"},{"Typeface name":"Symbol","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"9829","Unicode hex":"2665"},{"Typeface name":"Symbol","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"9824","Unicode hex":"2660"},{"Typeface name":"Symbol","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"8596","Unicode hex":"2194"},{"Typeface name":"Symbol","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"8592","Unicode hex":"2190"},{"Typeface name":"Symbol","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"8593","Unicode hex":"2191"},{"Typeface name":"Symbol","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"8594","Unicode hex":"2192"},{"Typeface name":"Symbol","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"8595","Unicode hex":"2193"},{"Typeface name":"Symbol","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"176","Unicode hex":"B0"},{"Typeface name":"Symbol","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"177","Unicode hex":"B1"},{"Typeface name":"Symbol","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"8243","Unicode hex":"2033"},{"Typeface name":"Symbol","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"8805","Unicode hex":"2265"},{"Typeface name":"Symbol","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"215","Unicode hex":"D7"},{"Typeface name":"Symbol","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"8733","Unicode hex":"221D"},{"Typeface name":"Symbol","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"8706","Unicode hex":"2202"},{"Typeface name":"Symbol","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Symbol","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"247","Unicode hex":"F7"},{"Typeface name":"Symbol","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"8800","Unicode hex":"2260"},{"Typeface name":"Symbol","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"8801","Unicode hex":"2261"},{"Typeface name":"Symbol","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"8776","Unicode hex":"2248"},{"Typeface name":"Symbol","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"8230","Unicode hex":"2026"},{"Typeface name":"Symbol","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Symbol","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"9135","Unicode hex":"23AF"},{"Typeface name":"Symbol","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"8629","Unicode hex":"21B5"},{"Typeface name":"Symbol","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"8501","Unicode hex":"2135"},{"Typeface name":"Symbol","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"8465","Unicode hex":"2111"},{"Typeface name":"Symbol","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"8476","Unicode hex":"211C"},{"Typeface name":"Symbol","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"8472","Unicode hex":"2118"},{"Typeface name":"Symbol","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"8855","Unicode hex":"2297"},{"Typeface name":"Symbol","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"8853","Unicode hex":"2295"},{"Typeface name":"Symbol","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"8709","Unicode hex":"2205"},{"Typeface name":"Symbol","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"8745","Unicode hex":"2229"},{"Typeface name":"Symbol","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"8746","Unicode hex":"222A"},{"Typeface name":"Symbol","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"8835","Unicode hex":"2283"},{"Typeface name":"Symbol","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"8839","Unicode hex":"2287"},{"Typeface name":"Symbol","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"8836","Unicode hex":"2284"},{"Typeface name":"Symbol","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"8834","Unicode hex":"2282"},{"Typeface name":"Symbol","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"8838","Unicode hex":"2286"},{"Typeface name":"Symbol","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"8712","Unicode hex":"2208"},{"Typeface name":"Symbol","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"8713","Unicode hex":"2209"},{"Typeface name":"Symbol","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"8736","Unicode hex":"2220"},{"Typeface name":"Symbol","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"8711","Unicode hex":"2207"},{"Typeface name":"Symbol","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"8719","Unicode hex":"220F"},{"Typeface name":"Symbol","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8730","Unicode hex":"221A"},{"Typeface name":"Symbol","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Symbol","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"172","Unicode hex":"AC"},{"Typeface name":"Symbol","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"8743","Unicode hex":"2227"},{"Typeface name":"Symbol","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"8744","Unicode hex":"2228"},{"Typeface name":"Symbol","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"8660","Unicode hex":"21D4"},{"Typeface name":"Symbol","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"8656","Unicode hex":"21D0"},{"Typeface name":"Symbol","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"8657","Unicode hex":"21D1"},{"Typeface name":"Symbol","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"8658","Unicode hex":"21D2"},{"Typeface name":"Symbol","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"8659","Unicode hex":"21D3"},{"Typeface name":"Symbol","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Symbol","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"12296","Unicode hex":"3008"},{"Typeface name":"Symbol","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"8721","Unicode hex":"2211"},{"Typeface name":"Symbol","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"9115","Unicode hex":"239B"},{"Typeface name":"Symbol","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"9116","Unicode hex":"239C"},{"Typeface name":"Symbol","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9117","Unicode hex":"239D"},{"Typeface name":"Symbol","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9121","Unicode hex":"23A1"},{"Typeface name":"Symbol","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"9122","Unicode hex":"23A2"},{"Typeface name":"Symbol","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"9123","Unicode hex":"23A3"},{"Typeface name":"Symbol","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"9127","Unicode hex":"23A7"},{"Typeface name":"Symbol","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"9128","Unicode hex":"23A8"},{"Typeface name":"Symbol","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"9129","Unicode hex":"23A9"},{"Typeface name":"Symbol","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"9130","Unicode hex":"23AA"},{"Typeface name":"Symbol","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"63743","Unicode hex":"F8FF"},{"Typeface name":"Symbol","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"12297","Unicode hex":"3009"},{"Typeface name":"Symbol","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8747","Unicode hex":"222B"},{"Typeface name":"Symbol","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"8992","Unicode hex":"2320"},{"Typeface name":"Symbol","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"9134","Unicode hex":"23AE"},{"Typeface name":"Symbol","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"8993","Unicode hex":"2321"},{"Typeface name":"Symbol","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"9118","Unicode hex":"239E"},{"Typeface name":"Symbol","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"9119","Unicode hex":"239F"},{"Typeface name":"Symbol","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"9120","Unicode hex":"23A0"},{"Typeface name":"Symbol","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"9124","Unicode hex":"23A4"},{"Typeface name":"Symbol","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"9125","Unicode hex":"23A5"},{"Typeface name":"Symbol","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"9126","Unicode hex":"23A6"},{"Typeface name":"Symbol","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"9131","Unicode hex":"23AB"},{"Typeface name":"Symbol","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"9132","Unicode hex":"23AC"},{"Typeface name":"Symbol","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"9133","Unicode hex":"23AD"},{"Typeface name":"Webdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Webdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128375","Unicode hex":"1F577"},{"Typeface name":"Webdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128376","Unicode hex":"1F578"},{"Typeface name":"Webdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128370","Unicode hex":"1F572"},{"Typeface name":"Webdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128374","Unicode hex":"1F576"},{"Typeface name":"Webdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"127942","Unicode hex":"1F3C6"},{"Typeface name":"Webdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"127894","Unicode hex":"1F396"},{"Typeface name":"Webdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128391","Unicode hex":"1F587"},{"Typeface name":"Webdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128488","Unicode hex":"1F5E8"},{"Typeface name":"Webdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128489","Unicode hex":"1F5E9"},{"Typeface name":"Webdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128496","Unicode hex":"1F5F0"},{"Typeface name":"Webdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128497","Unicode hex":"1F5F1"},{"Typeface name":"Webdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"127798","Unicode hex":"1F336"},{"Typeface name":"Webdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"127895","Unicode hex":"1F397"},{"Typeface name":"Webdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128638","Unicode hex":"1F67E"},{"Typeface name":"Webdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128636","Unicode hex":"1F67C"},{"Typeface name":"Webdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128469","Unicode hex":"1F5D5"},{"Typeface name":"Webdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128470","Unicode hex":"1F5D6"},{"Typeface name":"Webdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128471","Unicode hex":"1F5D7"},{"Typeface name":"Webdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"9204","Unicode hex":"23F4"},{"Typeface name":"Webdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"9205","Unicode hex":"23F5"},{"Typeface name":"Webdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"9206","Unicode hex":"23F6"},{"Typeface name":"Webdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"9207","Unicode hex":"23F7"},{"Typeface name":"Webdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"9194","Unicode hex":"23EA"},{"Typeface name":"Webdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"9193","Unicode hex":"23E9"},{"Typeface name":"Webdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"9198","Unicode hex":"23EE"},{"Typeface name":"Webdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"9197","Unicode hex":"23ED"},{"Typeface name":"Webdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"9208","Unicode hex":"23F8"},{"Typeface name":"Webdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"9209","Unicode hex":"23F9"},{"Typeface name":"Webdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"9210","Unicode hex":"23FA"},{"Typeface name":"Webdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128474","Unicode hex":"1F5DA"},{"Typeface name":"Webdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128499","Unicode hex":"1F5F3"},{"Typeface name":"Webdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128736","Unicode hex":"1F6E0"},{"Typeface name":"Webdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"127959","Unicode hex":"1F3D7"},{"Typeface name":"Webdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"127960","Unicode hex":"1F3D8"},{"Typeface name":"Webdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"127961","Unicode hex":"1F3D9"},{"Typeface name":"Webdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"127962","Unicode hex":"1F3DA"},{"Typeface name":"Webdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"127964","Unicode hex":"1F3DC"},{"Typeface name":"Webdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"127981","Unicode hex":"1F3ED"},{"Typeface name":"Webdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"127963","Unicode hex":"1F3DB"},{"Typeface name":"Webdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"127968","Unicode hex":"1F3E0"},{"Typeface name":"Webdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"127958","Unicode hex":"1F3D6"},{"Typeface name":"Webdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"127965","Unicode hex":"1F3DD"},{"Typeface name":"Webdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128739","Unicode hex":"1F6E3"},{"Typeface name":"Webdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128269","Unicode hex":"1F50D"},{"Typeface name":"Webdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"127956","Unicode hex":"1F3D4"},{"Typeface name":"Webdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128065","Unicode hex":"1F441"},{"Typeface name":"Webdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128066","Unicode hex":"1F442"},{"Typeface name":"Webdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127966","Unicode hex":"1F3DE"},{"Typeface name":"Webdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"127957","Unicode hex":"1F3D5"},{"Typeface name":"Webdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"128740","Unicode hex":"1F6E4"},{"Typeface name":"Webdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127967","Unicode hex":"1F3DF"},{"Typeface name":"Webdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"128755","Unicode hex":"1F6F3"},{"Typeface name":"Webdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128364","Unicode hex":"1F56C"},{"Typeface name":"Webdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"128363","Unicode hex":"1F56B"},{"Typeface name":"Webdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128360","Unicode hex":"1F568"},{"Typeface name":"Webdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"128264","Unicode hex":"1F508"},{"Typeface name":"Webdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"127892","Unicode hex":"1F394"},{"Typeface name":"Webdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"127893","Unicode hex":"1F395"},{"Typeface name":"Webdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128492","Unicode hex":"1F5EC"},{"Typeface name":"Webdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128637","Unicode hex":"1F67D"},{"Typeface name":"Webdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"128493","Unicode hex":"1F5ED"},{"Typeface name":"Webdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128490","Unicode hex":"1F5EA"},{"Typeface name":"Webdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128491","Unicode hex":"1F5EB"},{"Typeface name":"Webdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"11156","Unicode hex":"2B94"},{"Typeface name":"Webdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"10004","Unicode hex":"2714"},{"Typeface name":"Webdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128690","Unicode hex":"1F6B2"},{"Typeface name":"Webdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"11036","Unicode hex":"2B1C"},{"Typeface name":"Webdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128737","Unicode hex":"1F6E1"},{"Typeface name":"Webdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128230","Unicode hex":"1F4E6"},{"Typeface name":"Webdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128753","Unicode hex":"1F6F1"},{"Typeface name":"Webdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"11035","Unicode hex":"2B1B"},{"Typeface name":"Webdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128657","Unicode hex":"1F691"},{"Typeface name":"Webdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"128712","Unicode hex":"1F6C8"},{"Typeface name":"Webdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128745","Unicode hex":"1F6E9"},{"Typeface name":"Webdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128752","Unicode hex":"1F6F0"},{"Typeface name":"Webdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"128968","Unicode hex":"1F7C8"},{"Typeface name":"Webdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128372","Unicode hex":"1F574"},{"Typeface name":"Webdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"11044","Unicode hex":"2B24"},{"Typeface name":"Webdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128741","Unicode hex":"1F6E5"},{"Typeface name":"Webdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128660","Unicode hex":"1F694"},{"Typeface name":"Webdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"128472","Unicode hex":"1F5D8"},{"Typeface name":"Webdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"128473","Unicode hex":"1F5D9"},{"Typeface name":"Webdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"10067","Unicode hex":"2753"},{"Typeface name":"Webdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"128754","Unicode hex":"1F6F2"},{"Typeface name":"Webdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"128647","Unicode hex":"1F687"},{"Typeface name":"Webdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"128653","Unicode hex":"1F68D"},{"Typeface name":"Webdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9971","Unicode hex":"26F3"},{"Typeface name":"Webdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Webdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"8854","Unicode hex":"2296"},{"Typeface name":"Webdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"128685","Unicode hex":"1F6AD"},{"Typeface name":"Webdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"128494","Unicode hex":"1F5EE"},{"Typeface name":"Webdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Webdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128495","Unicode hex":"1F5EF"},{"Typeface name":"Webdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128498","Unicode hex":"1F5F2"},{"Typeface name":"Webdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128697","Unicode hex":"1F6B9"},{"Typeface name":"Webdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"128698","Unicode hex":"1F6BA"},{"Typeface name":"Webdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"128713","Unicode hex":"1F6C9"},{"Typeface name":"Webdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"128714","Unicode hex":"1F6CA"},{"Typeface name":"Webdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"128700","Unicode hex":"1F6BC"},{"Typeface name":"Webdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"128125","Unicode hex":"1F47D"},{"Typeface name":"Webdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"127947","Unicode hex":"1F3CB"},{"Typeface name":"Webdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"9975","Unicode hex":"26F7"},{"Typeface name":"Webdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"127938","Unicode hex":"1F3C2"},{"Typeface name":"Webdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"127948","Unicode hex":"1F3CC"},{"Typeface name":"Webdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"127946","Unicode hex":"1F3CA"},{"Typeface name":"Webdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127940","Unicode hex":"1F3C4"},{"Typeface name":"Webdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"127949","Unicode hex":"1F3CD"},{"Typeface name":"Webdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"127950","Unicode hex":"1F3CE"},{"Typeface name":"Webdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128664","Unicode hex":"1F698"},{"Typeface name":"Webdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128480","Unicode hex":"1F5E0"},{"Typeface name":"Webdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128738","Unicode hex":"1F6E2"},{"Typeface name":"Webdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128176","Unicode hex":"1F4B0"},{"Typeface name":"Webdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"127991","Unicode hex":"1F3F7"},{"Typeface name":"Webdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128179","Unicode hex":"1F4B3"},{"Typeface name":"Webdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128106","Unicode hex":"1F46A"},{"Typeface name":"Webdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"128481","Unicode hex":"1F5E1"},{"Typeface name":"Webdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128482","Unicode hex":"1F5E2"},{"Typeface name":"Webdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128483","Unicode hex":"1F5E3"},{"Typeface name":"Webdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Webdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128388","Unicode hex":"1F584"},{"Typeface name":"Webdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128389","Unicode hex":"1F585"},{"Typeface name":"Webdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Webdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128390","Unicode hex":"1F586"},{"Typeface name":"Webdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128441","Unicode hex":"1F5B9"},{"Typeface name":"Webdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"128442","Unicode hex":"1F5BA"},{"Typeface name":"Webdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128443","Unicode hex":"1F5BB"},{"Typeface name":"Webdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128373","Unicode hex":"1F575"},{"Typeface name":"Webdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"128368","Unicode hex":"1F570"},{"Typeface name":"Webdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128445","Unicode hex":"1F5BD"},{"Typeface name":"Webdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128446","Unicode hex":"1F5BE"},{"Typeface name":"Webdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Webdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128466","Unicode hex":"1F5D2"},{"Typeface name":"Webdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128467","Unicode hex":"1F5D3"},{"Typeface name":"Webdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Webdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128218","Unicode hex":"1F4DA"},{"Typeface name":"Webdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128478","Unicode hex":"1F5DE"},{"Typeface name":"Webdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128479","Unicode hex":"1F5DF"},{"Typeface name":"Webdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128451","Unicode hex":"1F5C3"},{"Typeface name":"Webdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128450","Unicode hex":"1F5C2"},{"Typeface name":"Webdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128444","Unicode hex":"1F5BC"},{"Typeface name":"Webdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"127917","Unicode hex":"1F3AD"},{"Typeface name":"Webdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"127900","Unicode hex":"1F39C"},{"Typeface name":"Webdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"127896","Unicode hex":"1F398"},{"Typeface name":"Webdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"127897","Unicode hex":"1F399"},{"Typeface name":"Webdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"127911","Unicode hex":"1F3A7"},{"Typeface name":"Webdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128191","Unicode hex":"1F4BF"},{"Typeface name":"Webdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"127902","Unicode hex":"1F39E"},{"Typeface name":"Webdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128247","Unicode hex":"1F4F7"},{"Typeface name":"Webdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"127903","Unicode hex":"1F39F"},{"Typeface name":"Webdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"127916","Unicode hex":"1F3AC"},{"Typeface name":"Webdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128253","Unicode hex":"1F4FD"},{"Typeface name":"Webdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128249","Unicode hex":"1F4F9"},{"Typeface name":"Webdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128254","Unicode hex":"1F4FE"},{"Typeface name":"Webdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128251","Unicode hex":"1F4FB"},{"Typeface name":"Webdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"127898","Unicode hex":"1F39A"},{"Typeface name":"Webdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"127899","Unicode hex":"1F39B"},{"Typeface name":"Webdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128250","Unicode hex":"1F4FA"},{"Typeface name":"Webdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128187","Unicode hex":"1F4BB"},{"Typeface name":"Webdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128421","Unicode hex":"1F5A5"},{"Typeface name":"Webdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128422","Unicode hex":"1F5A6"},{"Typeface name":"Webdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128423","Unicode hex":"1F5A7"},{"Typeface name":"Webdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"128377","Unicode hex":"1F579"},{"Typeface name":"Webdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"127918","Unicode hex":"1F3AE"},{"Typeface name":"Webdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"128379","Unicode hex":"1F57B"},{"Typeface name":"Webdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128380","Unicode hex":"1F57C"},{"Typeface name":"Webdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128223","Unicode hex":"1F4DF"},{"Typeface name":"Webdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128385","Unicode hex":"1F581"},{"Typeface name":"Webdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128384","Unicode hex":"1F580"},{"Typeface name":"Webdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128424","Unicode hex":"1F5A8"},{"Typeface name":"Webdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128425","Unicode hex":"1F5A9"},{"Typeface name":"Webdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128447","Unicode hex":"1F5BF"},{"Typeface name":"Webdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128426","Unicode hex":"1F5AA"},{"Typeface name":"Webdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128476","Unicode hex":"1F5DC"},{"Typeface name":"Webdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128274","Unicode hex":"1F512"},{"Typeface name":"Webdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128275","Unicode hex":"1F513"},{"Typeface name":"Webdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128477","Unicode hex":"1F5DD"},{"Typeface name":"Webdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128229","Unicode hex":"1F4E5"},{"Typeface name":"Webdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128228","Unicode hex":"1F4E4"},{"Typeface name":"Webdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128371","Unicode hex":"1F573"},{"Typeface name":"Webdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"127779","Unicode hex":"1F323"},{"Typeface name":"Webdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"127780","Unicode hex":"1F324"},{"Typeface name":"Webdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"127781","Unicode hex":"1F325"},{"Typeface name":"Webdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"127782","Unicode hex":"1F326"},{"Typeface name":"Webdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"9729","Unicode hex":"2601"},{"Typeface name":"Webdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"127784","Unicode hex":"1F328"},{"Typeface name":"Webdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"127783","Unicode hex":"1F327"},{"Typeface name":"Webdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"127785","Unicode hex":"1F329"},{"Typeface name":"Webdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"127786","Unicode hex":"1F32A"},{"Typeface name":"Webdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"127788","Unicode hex":"1F32C"},{"Typeface name":"Webdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"127787","Unicode hex":"1F32B"},{"Typeface name":"Webdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"127772","Unicode hex":"1F31C"},{"Typeface name":"Webdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"127777","Unicode hex":"1F321"},{"Typeface name":"Webdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128715","Unicode hex":"1F6CB"},{"Typeface name":"Webdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128719","Unicode hex":"1F6CF"},{"Typeface name":"Webdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"127869","Unicode hex":"1F37D"},{"Typeface name":"Webdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"127864","Unicode hex":"1F378"},{"Typeface name":"Webdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128718","Unicode hex":"1F6CE"},{"Typeface name":"Webdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128717","Unicode hex":"1F6CD"},{"Typeface name":"Webdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9413","Unicode hex":"24C5"},{"Typeface name":"Webdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9855","Unicode hex":"267F"},{"Typeface name":"Webdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128710","Unicode hex":"1F6C6"},{"Typeface name":"Webdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"128392","Unicode hex":"1F588"},{"Typeface name":"Webdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"127891","Unicode hex":"1F393"},{"Typeface name":"Webdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128484","Unicode hex":"1F5E4"},{"Typeface name":"Webdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128485","Unicode hex":"1F5E5"},{"Typeface name":"Webdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128486","Unicode hex":"1F5E6"},{"Typeface name":"Webdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"128487","Unicode hex":"1F5E7"},{"Typeface name":"Webdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128746","Unicode hex":"1F6EA"},{"Typeface name":"Webdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128063","Unicode hex":"1F43F"},{"Typeface name":"Webdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"128038","Unicode hex":"1F426"},{"Typeface name":"Webdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128031","Unicode hex":"1F41F"},{"Typeface name":"Webdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128021","Unicode hex":"1F415"},{"Typeface name":"Webdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"128008","Unicode hex":"1F408"},{"Typeface name":"Webdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"128620","Unicode hex":"1F66C"},{"Typeface name":"Webdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"128622","Unicode hex":"1F66E"},{"Typeface name":"Webdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"128621","Unicode hex":"1F66D"},{"Typeface name":"Webdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"128623","Unicode hex":"1F66F"},{"Typeface name":"Webdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128506","Unicode hex":"1F5FA"},{"Typeface name":"Webdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"127757","Unicode hex":"1F30D"},{"Typeface name":"Webdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"127759","Unicode hex":"1F30F"},{"Typeface name":"Webdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"127758","Unicode hex":"1F30E"},{"Typeface name":"Webdings","Dingbat dec":"255","Dingbat hex":"FF","Unicode dec":"128330","Unicode hex":"1F54A"},{"Typeface name":"Wingdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128393","Unicode hex":"1F589"},{"Typeface name":"Wingdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"9986","Unicode hex":"2702"},{"Typeface name":"Wingdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"9985","Unicode hex":"2701"},{"Typeface name":"Wingdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128083","Unicode hex":"1F453"},{"Typeface name":"Wingdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"128365","Unicode hex":"1F56D"},{"Typeface name":"Wingdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Wingdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128367","Unicode hex":"1F56F"},{"Typeface name":"Wingdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128383","Unicode hex":"1F57F"},{"Typeface name":"Wingdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"9990","Unicode hex":"2706"},{"Typeface name":"Wingdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128386","Unicode hex":"1F582"},{"Typeface name":"Wingdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Wingdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128234","Unicode hex":"1F4EA"},{"Typeface name":"Wingdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128235","Unicode hex":"1F4EB"},{"Typeface name":"Wingdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128236","Unicode hex":"1F4EC"},{"Typeface name":"Wingdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128237","Unicode hex":"1F4ED"},{"Typeface name":"Wingdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128448","Unicode hex":"1F5C0"},{"Typeface name":"Wingdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128449","Unicode hex":"1F5C1"},{"Typeface name":"Wingdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128462","Unicode hex":"1F5CE"},{"Typeface name":"Wingdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128463","Unicode hex":"1F5CF"},{"Typeface name":"Wingdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128464","Unicode hex":"1F5D0"},{"Typeface name":"Wingdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128452","Unicode hex":"1F5C4"},{"Typeface name":"Wingdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"8987","Unicode hex":"231B"},{"Typeface name":"Wingdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128430","Unicode hex":"1F5AE"},{"Typeface name":"Wingdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128432","Unicode hex":"1F5B0"},{"Typeface name":"Wingdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128434","Unicode hex":"1F5B2"},{"Typeface name":"Wingdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128435","Unicode hex":"1F5B3"},{"Typeface name":"Wingdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128436","Unicode hex":"1F5B4"},{"Typeface name":"Wingdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128427","Unicode hex":"1F5AB"},{"Typeface name":"Wingdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128428","Unicode hex":"1F5AC"},{"Typeface name":"Wingdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"9991","Unicode hex":"2707"},{"Typeface name":"Wingdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"9997","Unicode hex":"270D"},{"Typeface name":"Wingdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128398","Unicode hex":"1F58E"},{"Typeface name":"Wingdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"9996","Unicode hex":"270C"},{"Typeface name":"Wingdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128399","Unicode hex":"1F58F"},{"Typeface name":"Wingdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128077","Unicode hex":"1F44D"},{"Typeface name":"Wingdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128078","Unicode hex":"1F44E"},{"Typeface name":"Wingdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"9756","Unicode hex":"261C"},{"Typeface name":"Wingdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"9758","Unicode hex":"261E"},{"Typeface name":"Wingdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"9757","Unicode hex":"261D"},{"Typeface name":"Wingdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"9759","Unicode hex":"261F"},{"Typeface name":"Wingdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128400","Unicode hex":"1F590"},{"Typeface name":"Wingdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"9786","Unicode hex":"263A"},{"Typeface name":"Wingdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128528","Unicode hex":"1F610"},{"Typeface name":"Wingdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"9785","Unicode hex":"2639"},{"Typeface name":"Wingdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128163","Unicode hex":"1F4A3"},{"Typeface name":"Wingdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128369","Unicode hex":"1F571"},{"Typeface name":"Wingdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"127987","Unicode hex":"1F3F3"},{"Typeface name":"Wingdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127985","Unicode hex":"1F3F1"},{"Typeface name":"Wingdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"9992","Unicode hex":"2708"},{"Typeface name":"Wingdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9788","Unicode hex":"263C"},{"Typeface name":"Wingdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127778","Unicode hex":"1F322"},{"Typeface name":"Wingdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"10052","Unicode hex":"2744"},{"Typeface name":"Wingdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128326","Unicode hex":"1F546"},{"Typeface name":"Wingdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"10014","Unicode hex":"271E"},{"Typeface name":"Wingdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128328","Unicode hex":"1F548"},{"Typeface name":"Wingdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10016","Unicode hex":"2720"},{"Typeface name":"Wingdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"10017","Unicode hex":"2721"},{"Typeface name":"Wingdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"9770","Unicode hex":"262A"},{"Typeface name":"Wingdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"9775","Unicode hex":"262F"},{"Typeface name":"Wingdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128329","Unicode hex":"1F549"},{"Typeface name":"Wingdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"9784","Unicode hex":"2638"},{"Typeface name":"Wingdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"9800","Unicode hex":"2648"},{"Typeface name":"Wingdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"9801","Unicode hex":"2649"},{"Typeface name":"Wingdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"9802","Unicode hex":"264A"},{"Typeface name":"Wingdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"9803","Unicode hex":"264B"},{"Typeface name":"Wingdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"9804","Unicode hex":"264C"},{"Typeface name":"Wingdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"9805","Unicode hex":"264D"},{"Typeface name":"Wingdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"9806","Unicode hex":"264E"},{"Typeface name":"Wingdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"9807","Unicode hex":"264F"},{"Typeface name":"Wingdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"9808","Unicode hex":"2650"},{"Typeface name":"Wingdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"9809","Unicode hex":"2651"},{"Typeface name":"Wingdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"9810","Unicode hex":"2652"},{"Typeface name":"Wingdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9811","Unicode hex":"2653"},{"Typeface name":"Wingdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128624","Unicode hex":"1F670"},{"Typeface name":"Wingdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128629","Unicode hex":"1F675"},{"Typeface name":"Wingdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9899","Unicode hex":"26AB"},{"Typeface name":"Wingdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128318","Unicode hex":"1F53E"},{"Typeface name":"Wingdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9724","Unicode hex":"25FC"},{"Typeface name":"Wingdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128911","Unicode hex":"1F78F"},{"Typeface name":"Wingdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128912","Unicode hex":"1F790"},{"Typeface name":"Wingdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"10065","Unicode hex":"2751"},{"Typeface name":"Wingdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"10066","Unicode hex":"2752"},{"Typeface name":"Wingdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"128927","Unicode hex":"1F79F"},{"Typeface name":"Wingdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"10731","Unicode hex":"29EB"},{"Typeface name":"Wingdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9670","Unicode hex":"25C6"},{"Typeface name":"Wingdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10070","Unicode hex":"2756"},{"Typeface name":"Wingdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"8999","Unicode hex":"2327"},{"Typeface name":"Wingdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"11193","Unicode hex":"2BB9"},{"Typeface name":"Wingdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"8984","Unicode hex":"2318"},{"Typeface name":"Wingdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"127989","Unicode hex":"1F3F5"},{"Typeface name":"Wingdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"127990","Unicode hex":"1F3F6"},{"Typeface name":"Wingdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128630","Unicode hex":"1F676"},{"Typeface name":"Wingdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128631","Unicode hex":"1F677"},{"Typeface name":"Wingdings","Dingbat dec":"127","Dingbat hex":"7F","Unicode dec":"9647","Unicode hex":"25AF"},{"Typeface name":"Wingdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"127243","Unicode hex":"1F10B"},{"Typeface name":"Wingdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"10112","Unicode hex":"2780"},{"Typeface name":"Wingdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"10113","Unicode hex":"2781"},{"Typeface name":"Wingdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"10114","Unicode hex":"2782"},{"Typeface name":"Wingdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"10115","Unicode hex":"2783"},{"Typeface name":"Wingdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10116","Unicode hex":"2784"},{"Typeface name":"Wingdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"10117","Unicode hex":"2785"},{"Typeface name":"Wingdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"10118","Unicode hex":"2786"},{"Typeface name":"Wingdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"10119","Unicode hex":"2787"},{"Typeface name":"Wingdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"10120","Unicode hex":"2788"},{"Typeface name":"Wingdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"10121","Unicode hex":"2789"},{"Typeface name":"Wingdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127244","Unicode hex":"1F10C"},{"Typeface name":"Wingdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"10122","Unicode hex":"278A"},{"Typeface name":"Wingdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"10123","Unicode hex":"278B"},{"Typeface name":"Wingdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"10124","Unicode hex":"278C"},{"Typeface name":"Wingdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"10125","Unicode hex":"278D"},{"Typeface name":"Wingdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"10126","Unicode hex":"278E"},{"Typeface name":"Wingdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"10127","Unicode hex":"278F"},{"Typeface name":"Wingdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"10128","Unicode hex":"2790"},{"Typeface name":"Wingdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"10129","Unicode hex":"2791"},{"Typeface name":"Wingdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"10130","Unicode hex":"2792"},{"Typeface name":"Wingdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"10131","Unicode hex":"2793"},{"Typeface name":"Wingdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128610","Unicode hex":"1F662"},{"Typeface name":"Wingdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128608","Unicode hex":"1F660"},{"Typeface name":"Wingdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"128609","Unicode hex":"1F661"},{"Typeface name":"Wingdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128611","Unicode hex":"1F663"},{"Typeface name":"Wingdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128606","Unicode hex":"1F65E"},{"Typeface name":"Wingdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128604","Unicode hex":"1F65C"},{"Typeface name":"Wingdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128605","Unicode hex":"1F65D"},{"Typeface name":"Wingdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128607","Unicode hex":"1F65F"},{"Typeface name":"Wingdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"8729","Unicode hex":"2219"},{"Typeface name":"Wingdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Wingdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"11037","Unicode hex":"2B1D"},{"Typeface name":"Wingdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"11096","Unicode hex":"2B58"},{"Typeface name":"Wingdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128902","Unicode hex":"1F786"},{"Typeface name":"Wingdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128904","Unicode hex":"1F788"},{"Typeface name":"Wingdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128906","Unicode hex":"1F78A"},{"Typeface name":"Wingdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128907","Unicode hex":"1F78B"},{"Typeface name":"Wingdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128319","Unicode hex":"1F53F"},{"Typeface name":"Wingdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9642","Unicode hex":"25AA"},{"Typeface name":"Wingdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128910","Unicode hex":"1F78E"},{"Typeface name":"Wingdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128961","Unicode hex":"1F7C1"},{"Typeface name":"Wingdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128965","Unicode hex":"1F7C5"},{"Typeface name":"Wingdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"9733","Unicode hex":"2605"},{"Typeface name":"Wingdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128971","Unicode hex":"1F7CB"},{"Typeface name":"Wingdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128975","Unicode hex":"1F7CF"},{"Typeface name":"Wingdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"128979","Unicode hex":"1F7D3"},{"Typeface name":"Wingdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"128977","Unicode hex":"1F7D1"},{"Typeface name":"Wingdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"11216","Unicode hex":"2BD0"},{"Typeface name":"Wingdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"8982","Unicode hex":"2316"},{"Typeface name":"Wingdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"11214","Unicode hex":"2BCE"},{"Typeface name":"Wingdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"11215","Unicode hex":"2BCF"},{"Typeface name":"Wingdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"11217","Unicode hex":"2BD1"},{"Typeface name":"Wingdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"10026","Unicode hex":"272A"},{"Typeface name":"Wingdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"10032","Unicode hex":"2730"},{"Typeface name":"Wingdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"128336","Unicode hex":"1F550"},{"Typeface name":"Wingdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128337","Unicode hex":"1F551"},{"Typeface name":"Wingdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128338","Unicode hex":"1F552"},{"Typeface name":"Wingdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128339","Unicode hex":"1F553"},{"Typeface name":"Wingdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128340","Unicode hex":"1F554"},{"Typeface name":"Wingdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"128341","Unicode hex":"1F555"},{"Typeface name":"Wingdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"128342","Unicode hex":"1F556"},{"Typeface name":"Wingdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128343","Unicode hex":"1F557"},{"Typeface name":"Wingdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128344","Unicode hex":"1F558"},{"Typeface name":"Wingdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128345","Unicode hex":"1F559"},{"Typeface name":"Wingdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128346","Unicode hex":"1F55A"},{"Typeface name":"Wingdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128347","Unicode hex":"1F55B"},{"Typeface name":"Wingdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11184","Unicode hex":"2BB0"},{"Typeface name":"Wingdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11185","Unicode hex":"2BB1"},{"Typeface name":"Wingdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11186","Unicode hex":"2BB2"},{"Typeface name":"Wingdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"11187","Unicode hex":"2BB3"},{"Typeface name":"Wingdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"11188","Unicode hex":"2BB4"},{"Typeface name":"Wingdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"11189","Unicode hex":"2BB5"},{"Typeface name":"Wingdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11190","Unicode hex":"2BB6"},{"Typeface name":"Wingdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11191","Unicode hex":"2BB7"},{"Typeface name":"Wingdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128618","Unicode hex":"1F66A"},{"Typeface name":"Wingdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128619","Unicode hex":"1F66B"},{"Typeface name":"Wingdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128597","Unicode hex":"1F655"},{"Typeface name":"Wingdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128596","Unicode hex":"1F654"},{"Typeface name":"Wingdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128599","Unicode hex":"1F657"},{"Typeface name":"Wingdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128598","Unicode hex":"1F656"},{"Typeface name":"Wingdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128592","Unicode hex":"1F650"},{"Typeface name":"Wingdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128593","Unicode hex":"1F651"},{"Typeface name":"Wingdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128594","Unicode hex":"1F652"},{"Typeface name":"Wingdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128595","Unicode hex":"1F653"},{"Typeface name":"Wingdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"9003","Unicode hex":"232B"},{"Typeface name":"Wingdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8998","Unicode hex":"2326"},{"Typeface name":"Wingdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"11160","Unicode hex":"2B98"},{"Typeface name":"Wingdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"11162","Unicode hex":"2B9A"},{"Typeface name":"Wingdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"11161","Unicode hex":"2B99"},{"Typeface name":"Wingdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"11163","Unicode hex":"2B9B"},{"Typeface name":"Wingdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"11144","Unicode hex":"2B88"},{"Typeface name":"Wingdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"11146","Unicode hex":"2B8A"},{"Typeface name":"Wingdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"11145","Unicode hex":"2B89"},{"Typeface name":"Wingdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"11147","Unicode hex":"2B8B"},{"Typeface name":"Wingdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129128","Unicode hex":"1F868"},{"Typeface name":"Wingdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129130","Unicode hex":"1F86A"},{"Typeface name":"Wingdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129129","Unicode hex":"1F869"},{"Typeface name":"Wingdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129131","Unicode hex":"1F86B"},{"Typeface name":"Wingdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129132","Unicode hex":"1F86C"},{"Typeface name":"Wingdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129133","Unicode hex":"1F86D"},{"Typeface name":"Wingdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129135","Unicode hex":"1F86F"},{"Typeface name":"Wingdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129134","Unicode hex":"1F86E"},{"Typeface name":"Wingdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129144","Unicode hex":"1F878"},{"Typeface name":"Wingdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129146","Unicode hex":"1F87A"},{"Typeface name":"Wingdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129145","Unicode hex":"1F879"},{"Typeface name":"Wingdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129147","Unicode hex":"1F87B"},{"Typeface name":"Wingdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129148","Unicode hex":"1F87C"},{"Typeface name":"Wingdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129149","Unicode hex":"1F87D"},{"Typeface name":"Wingdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129151","Unicode hex":"1F87F"},{"Typeface name":"Wingdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129150","Unicode hex":"1F87E"},{"Typeface name":"Wingdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"8678","Unicode hex":"21E6"},{"Typeface name":"Wingdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"8680","Unicode hex":"21E8"},{"Typeface name":"Wingdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"8679","Unicode hex":"21E7"},{"Typeface name":"Wingdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8681","Unicode hex":"21E9"},{"Typeface name":"Wingdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"11012","Unicode hex":"2B04"},{"Typeface name":"Wingdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"8691","Unicode hex":"21F3"},{"Typeface name":"Wingdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"11009","Unicode hex":"2B01"},{"Typeface name":"Wingdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11008","Unicode hex":"2B00"},{"Typeface name":"Wingdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11011","Unicode hex":"2B03"},{"Typeface name":"Wingdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"11010","Unicode hex":"2B02"},{"Typeface name":"Wingdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"129196","Unicode hex":"1F8AC"},{"Typeface name":"Wingdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"129197","Unicode hex":"1F8AD"},{"Typeface name":"Wingdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128502","Unicode hex":"1F5F6"},{"Typeface name":"Wingdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"10003","Unicode hex":"2713"},{"Typeface name":"Wingdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"128503","Unicode hex":"1F5F7"},{"Typeface name":"Wingdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"128505","Unicode hex":"1F5F9"},{"Typeface name":"Wingdings 2","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 2","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128394","Unicode hex":"1F58A"},{"Typeface name":"Wingdings 2","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128395","Unicode hex":"1F58B"},{"Typeface name":"Wingdings 2","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128396","Unicode hex":"1F58C"},{"Typeface name":"Wingdings 2","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128397","Unicode hex":"1F58D"},{"Typeface name":"Wingdings 2","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"9988","Unicode hex":"2704"},{"Typeface name":"Wingdings 2","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"9984","Unicode hex":"2700"},{"Typeface name":"Wingdings 2","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128382","Unicode hex":"1F57E"},{"Typeface name":"Wingdings 2","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128381","Unicode hex":"1F57D"},{"Typeface name":"Wingdings 2","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128453","Unicode hex":"1F5C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128454","Unicode hex":"1F5C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128455","Unicode hex":"1F5C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128456","Unicode hex":"1F5C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128457","Unicode hex":"1F5C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128458","Unicode hex":"1F5CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128459","Unicode hex":"1F5CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128460","Unicode hex":"1F5CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128461","Unicode hex":"1F5CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128465","Unicode hex":"1F5D1"},{"Typeface name":"Wingdings 2","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128468","Unicode hex":"1F5D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128437","Unicode hex":"1F5B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"128438","Unicode hex":"1F5B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128439","Unicode hex":"1F5B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128440","Unicode hex":"1F5B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128429","Unicode hex":"1F5AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128431","Unicode hex":"1F5AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128433","Unicode hex":"1F5B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128402","Unicode hex":"1F592"},{"Typeface name":"Wingdings 2","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128403","Unicode hex":"1F593"},{"Typeface name":"Wingdings 2","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128408","Unicode hex":"1F598"},{"Typeface name":"Wingdings 2","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128409","Unicode hex":"1F599"},{"Typeface name":"Wingdings 2","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128410","Unicode hex":"1F59A"},{"Typeface name":"Wingdings 2","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"128411","Unicode hex":"1F59B"},{"Typeface name":"Wingdings 2","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128072","Unicode hex":"1F448"},{"Typeface name":"Wingdings 2","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128073","Unicode hex":"1F449"},{"Typeface name":"Wingdings 2","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128412","Unicode hex":"1F59C"},{"Typeface name":"Wingdings 2","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"128413","Unicode hex":"1F59D"},{"Typeface name":"Wingdings 2","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"128414","Unicode hex":"1F59E"},{"Typeface name":"Wingdings 2","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"128415","Unicode hex":"1F59F"},{"Typeface name":"Wingdings 2","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"128416","Unicode hex":"1F5A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128417","Unicode hex":"1F5A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"128070","Unicode hex":"1F446"},{"Typeface name":"Wingdings 2","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128071","Unicode hex":"1F447"},{"Typeface name":"Wingdings 2","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128418","Unicode hex":"1F5A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128419","Unicode hex":"1F5A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128401","Unicode hex":"1F591"},{"Typeface name":"Wingdings 2","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128500","Unicode hex":"1F5F4"},{"Typeface name":"Wingdings 2","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"128504","Unicode hex":"1F5F8"},{"Typeface name":"Wingdings 2","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"128501","Unicode hex":"1F5F5"},{"Typeface name":"Wingdings 2","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9745","Unicode hex":"2611"},{"Typeface name":"Wingdings 2","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"11197","Unicode hex":"2BBD"},{"Typeface name":"Wingdings 2","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"9746","Unicode hex":"2612"},{"Typeface name":"Wingdings 2","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"11198","Unicode hex":"2BBE"},{"Typeface name":"Wingdings 2","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"11199","Unicode hex":"2BBF"},{"Typeface name":"Wingdings 2","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128711","Unicode hex":"1F6C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"128625","Unicode hex":"1F671"},{"Typeface name":"Wingdings 2","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"128628","Unicode hex":"1F674"},{"Typeface name":"Wingdings 2","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128626","Unicode hex":"1F672"},{"Typeface name":"Wingdings 2","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128627","Unicode hex":"1F673"},{"Typeface name":"Wingdings 2","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"8253","Unicode hex":"203D"},{"Typeface name":"Wingdings 2","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128633","Unicode hex":"1F679"},{"Typeface name":"Wingdings 2","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128634","Unicode hex":"1F67A"},{"Typeface name":"Wingdings 2","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"128635","Unicode hex":"1F67B"},{"Typeface name":"Wingdings 2","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"128614","Unicode hex":"1F666"},{"Typeface name":"Wingdings 2","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128612","Unicode hex":"1F664"},{"Typeface name":"Wingdings 2","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"128613","Unicode hex":"1F665"},{"Typeface name":"Wingdings 2","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128615","Unicode hex":"1F667"},{"Typeface name":"Wingdings 2","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128602","Unicode hex":"1F65A"},{"Typeface name":"Wingdings 2","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128600","Unicode hex":"1F658"},{"Typeface name":"Wingdings 2","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"128601","Unicode hex":"1F659"},{"Typeface name":"Wingdings 2","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128603","Unicode hex":"1F65B"},{"Typeface name":"Wingdings 2","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9450","Unicode hex":"24EA"},{"Typeface name":"Wingdings 2","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"9312","Unicode hex":"2460"},{"Typeface name":"Wingdings 2","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"9313","Unicode hex":"2461"},{"Typeface name":"Wingdings 2","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9314","Unicode hex":"2462"},{"Typeface name":"Wingdings 2","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"9315","Unicode hex":"2463"},{"Typeface name":"Wingdings 2","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9316","Unicode hex":"2464"},{"Typeface name":"Wingdings 2","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"9317","Unicode hex":"2465"},{"Typeface name":"Wingdings 2","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9318","Unicode hex":"2466"},{"Typeface name":"Wingdings 2","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9319","Unicode hex":"2467"},{"Typeface name":"Wingdings 2","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9320","Unicode hex":"2468"},{"Typeface name":"Wingdings 2","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9321","Unicode hex":"2469"},{"Typeface name":"Wingdings 2","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9471","Unicode hex":"24FF"},{"Typeface name":"Wingdings 2","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"10102","Unicode hex":"2776"},{"Typeface name":"Wingdings 2","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10103","Unicode hex":"2777"},{"Typeface name":"Wingdings 2","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"10104","Unicode hex":"2778"},{"Typeface name":"Wingdings 2","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10105","Unicode hex":"2779"},{"Typeface name":"Wingdings 2","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"10106","Unicode hex":"277A"},{"Typeface name":"Wingdings 2","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"10107","Unicode hex":"277B"},{"Typeface name":"Wingdings 2","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"10108","Unicode hex":"277C"},{"Typeface name":"Wingdings 2","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"10109","Unicode hex":"277D"},{"Typeface name":"Wingdings 2","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"10110","Unicode hex":"277E"},{"Typeface name":"Wingdings 2","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"10111","Unicode hex":"277F"},{"Typeface name":"Wingdings 2","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"9737","Unicode hex":"2609"},{"Typeface name":"Wingdings 2","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"127765","Unicode hex":"1F315"},{"Typeface name":"Wingdings 2","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"9789","Unicode hex":"263D"},{"Typeface name":"Wingdings 2","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"9790","Unicode hex":"263E"},{"Typeface name":"Wingdings 2","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11839","Unicode hex":"2E3F"},{"Typeface name":"Wingdings 2","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10013","Unicode hex":"271D"},{"Typeface name":"Wingdings 2","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"128327","Unicode hex":"1F547"},{"Typeface name":"Wingdings 2","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"128348","Unicode hex":"1F55C"},{"Typeface name":"Wingdings 2","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"128349","Unicode hex":"1F55D"},{"Typeface name":"Wingdings 2","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"128350","Unicode hex":"1F55E"},{"Typeface name":"Wingdings 2","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"128351","Unicode hex":"1F55F"},{"Typeface name":"Wingdings 2","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"128352","Unicode hex":"1F560"},{"Typeface name":"Wingdings 2","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"128353","Unicode hex":"1F561"},{"Typeface name":"Wingdings 2","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"128354","Unicode hex":"1F562"},{"Typeface name":"Wingdings 2","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128355","Unicode hex":"1F563"},{"Typeface name":"Wingdings 2","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128356","Unicode hex":"1F564"},{"Typeface name":"Wingdings 2","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128357","Unicode hex":"1F565"},{"Typeface name":"Wingdings 2","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128358","Unicode hex":"1F566"},{"Typeface name":"Wingdings 2","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"128359","Unicode hex":"1F567"},{"Typeface name":"Wingdings 2","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128616","Unicode hex":"1F668"},{"Typeface name":"Wingdings 2","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128617","Unicode hex":"1F669"},{"Typeface name":"Wingdings 2","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128900","Unicode hex":"1F784"},{"Typeface name":"Wingdings 2","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"10625","Unicode hex":"2981"},{"Typeface name":"Wingdings 2","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"9679","Unicode hex":"25CF"},{"Typeface name":"Wingdings 2","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"9675","Unicode hex":"25CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128901","Unicode hex":"1F785"},{"Typeface name":"Wingdings 2","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128903","Unicode hex":"1F787"},{"Typeface name":"Wingdings 2","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128905","Unicode hex":"1F789"},{"Typeface name":"Wingdings 2","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"8857","Unicode hex":"2299"},{"Typeface name":"Wingdings 2","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"10687","Unicode hex":"29BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128908","Unicode hex":"1F78C"},{"Typeface name":"Wingdings 2","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128909","Unicode hex":"1F78D"},{"Typeface name":"Wingdings 2","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"9726","Unicode hex":"25FE"},{"Typeface name":"Wingdings 2","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"9632","Unicode hex":"25A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"9633","Unicode hex":"25A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128913","Unicode hex":"1F791"},{"Typeface name":"Wingdings 2","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128914","Unicode hex":"1F792"},{"Typeface name":"Wingdings 2","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128915","Unicode hex":"1F793"},{"Typeface name":"Wingdings 2","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128916","Unicode hex":"1F794"},{"Typeface name":"Wingdings 2","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9635","Unicode hex":"25A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128917","Unicode hex":"1F795"},{"Typeface name":"Wingdings 2","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128918","Unicode hex":"1F796"},{"Typeface name":"Wingdings 2","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128919","Unicode hex":"1F797"},{"Typeface name":"Wingdings 2","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128920","Unicode hex":"1F798"},{"Typeface name":"Wingdings 2","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings 2","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"11045","Unicode hex":"2B25"},{"Typeface name":"Wingdings 2","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"9671","Unicode hex":"25C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"128922","Unicode hex":"1F79A"},{"Typeface name":"Wingdings 2","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"9672","Unicode hex":"25C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"128923","Unicode hex":"1F79B"},{"Typeface name":"Wingdings 2","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128924","Unicode hex":"1F79C"},{"Typeface name":"Wingdings 2","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"128925","Unicode hex":"1F79D"},{"Typeface name":"Wingdings 2","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128926","Unicode hex":"1F79E"},{"Typeface name":"Wingdings 2","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"11050","Unicode hex":"2B2A"},{"Typeface name":"Wingdings 2","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"11047","Unicode hex":"2B27"},{"Typeface name":"Wingdings 2","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128928","Unicode hex":"1F7A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"9686","Unicode hex":"25D6"},{"Typeface name":"Wingdings 2","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"9687","Unicode hex":"25D7"},{"Typeface name":"Wingdings 2","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"11210","Unicode hex":"2BCA"},{"Typeface name":"Wingdings 2","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"11211","Unicode hex":"2BCB"},{"Typeface name":"Wingdings 2","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"11200","Unicode hex":"2BC0"},{"Typeface name":"Wingdings 2","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"11201","Unicode hex":"2BC1"},{"Typeface name":"Wingdings 2","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"11039","Unicode hex":"2B1F"},{"Typeface name":"Wingdings 2","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"11202","Unicode hex":"2BC2"},{"Typeface name":"Wingdings 2","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"11043","Unicode hex":"2B23"},{"Typeface name":"Wingdings 2","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11042","Unicode hex":"2B22"},{"Typeface name":"Wingdings 2","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11203","Unicode hex":"2BC3"},{"Typeface name":"Wingdings 2","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11204","Unicode hex":"2BC4"},{"Typeface name":"Wingdings 2","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128929","Unicode hex":"1F7A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128930","Unicode hex":"1F7A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128931","Unicode hex":"1F7A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128932","Unicode hex":"1F7A4"},{"Typeface name":"Wingdings 2","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128933","Unicode hex":"1F7A5"},{"Typeface name":"Wingdings 2","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128934","Unicode hex":"1F7A6"},{"Typeface name":"Wingdings 2","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128935","Unicode hex":"1F7A7"},{"Typeface name":"Wingdings 2","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128936","Unicode hex":"1F7A8"},{"Typeface name":"Wingdings 2","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128937","Unicode hex":"1F7A9"},{"Typeface name":"Wingdings 2","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128938","Unicode hex":"1F7AA"},{"Typeface name":"Wingdings 2","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128939","Unicode hex":"1F7AB"},{"Typeface name":"Wingdings 2","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128940","Unicode hex":"1F7AC"},{"Typeface name":"Wingdings 2","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128941","Unicode hex":"1F7AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128942","Unicode hex":"1F7AE"},{"Typeface name":"Wingdings 2","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128943","Unicode hex":"1F7AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"128944","Unicode hex":"1F7B0"},{"Typeface name":"Wingdings 2","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"128945","Unicode hex":"1F7B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"128946","Unicode hex":"1F7B2"},{"Typeface name":"Wingdings 2","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"128947","Unicode hex":"1F7B3"},{"Typeface name":"Wingdings 2","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"128948","Unicode hex":"1F7B4"},{"Typeface name":"Wingdings 2","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"128949","Unicode hex":"1F7B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"128950","Unicode hex":"1F7B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"128951","Unicode hex":"1F7B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"128952","Unicode hex":"1F7B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"128953","Unicode hex":"1F7B9"},{"Typeface name":"Wingdings 2","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"128954","Unicode hex":"1F7BA"},{"Typeface name":"Wingdings 2","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"128955","Unicode hex":"1F7BB"},{"Typeface name":"Wingdings 2","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"128956","Unicode hex":"1F7BC"},{"Typeface name":"Wingdings 2","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128957","Unicode hex":"1F7BD"},{"Typeface name":"Wingdings 2","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128958","Unicode hex":"1F7BE"},{"Typeface name":"Wingdings 2","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"128959","Unicode hex":"1F7BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"128960","Unicode hex":"1F7C0"},{"Typeface name":"Wingdings 2","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128962","Unicode hex":"1F7C2"},{"Typeface name":"Wingdings 2","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128964","Unicode hex":"1F7C4"},{"Typeface name":"Wingdings 2","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"128966","Unicode hex":"1F7C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"128969","Unicode hex":"1F7C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128970","Unicode hex":"1F7CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"10038","Unicode hex":"2736"},{"Typeface name":"Wingdings 2","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"128972","Unicode hex":"1F7CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128974","Unicode hex":"1F7CE"},{"Typeface name":"Wingdings 2","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128976","Unicode hex":"1F7D0"},{"Typeface name":"Wingdings 2","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128978","Unicode hex":"1F7D2"},{"Typeface name":"Wingdings 2","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"10041","Unicode hex":"2739"},{"Typeface name":"Wingdings 2","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128963","Unicode hex":"1F7C3"},{"Typeface name":"Wingdings 2","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128967","Unicode hex":"1F7C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Wingdings 2","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128973","Unicode hex":"1F7CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128980","Unicode hex":"1F7D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11212","Unicode hex":"2BCC"},{"Typeface name":"Wingdings 2","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11213","Unicode hex":"2BCD"},{"Typeface name":"Wingdings 2","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"8251","Unicode hex":"203B"},{"Typeface name":"Wingdings 2","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"8258","Unicode hex":"2042"},{"Typeface name":"Wingdings 3","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 3","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"11104","Unicode hex":"2B60"},{"Typeface name":"Wingdings 3","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"11106","Unicode hex":"2B62"},{"Typeface name":"Wingdings 3","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"11105","Unicode hex":"2B61"},{"Typeface name":"Wingdings 3","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"11107","Unicode hex":"2B63"},{"Typeface name":"Wingdings 3","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"11110","Unicode hex":"2B66"},{"Typeface name":"Wingdings 3","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"11111","Unicode hex":"2B67"},{"Typeface name":"Wingdings 3","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"11113","Unicode hex":"2B69"},{"Typeface name":"Wingdings 3","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"11112","Unicode hex":"2B68"},{"Typeface name":"Wingdings 3","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"11120","Unicode hex":"2B70"},{"Typeface name":"Wingdings 3","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"11122","Unicode hex":"2B72"},{"Typeface name":"Wingdings 3","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"11121","Unicode hex":"2B71"},{"Typeface name":"Wingdings 3","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"11123","Unicode hex":"2B73"},{"Typeface name":"Wingdings 3","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"11126","Unicode hex":"2B76"},{"Typeface name":"Wingdings 3","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"11128","Unicode hex":"2B78"},{"Typeface name":"Wingdings 3","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"11131","Unicode hex":"2B7B"},{"Typeface name":"Wingdings 3","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"11133","Unicode hex":"2B7D"},{"Typeface name":"Wingdings 3","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"11108","Unicode hex":"2B64"},{"Typeface name":"Wingdings 3","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"11109","Unicode hex":"2B65"},{"Typeface name":"Wingdings 3","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"11114","Unicode hex":"2B6A"},{"Typeface name":"Wingdings 3","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"11116","Unicode hex":"2B6C"},{"Typeface name":"Wingdings 3","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"11115","Unicode hex":"2B6B"},{"Typeface name":"Wingdings 3","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"11117","Unicode hex":"2B6D"},{"Typeface name":"Wingdings 3","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"11085","Unicode hex":"2B4D"},{"Typeface name":"Wingdings 3","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"11168","Unicode hex":"2BA0"},{"Typeface name":"Wingdings 3","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"11169","Unicode hex":"2BA1"},{"Typeface name":"Wingdings 3","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"11170","Unicode hex":"2BA2"},{"Typeface name":"Wingdings 3","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"11171","Unicode hex":"2BA3"},{"Typeface name":"Wingdings 3","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"11172","Unicode hex":"2BA4"},{"Typeface name":"Wingdings 3","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"11173","Unicode hex":"2BA5"},{"Typeface name":"Wingdings 3","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"11174","Unicode hex":"2BA6"},{"Typeface name":"Wingdings 3","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"11175","Unicode hex":"2BA7"},{"Typeface name":"Wingdings 3","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"11152","Unicode hex":"2B90"},{"Typeface name":"Wingdings 3","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"11153","Unicode hex":"2B91"},{"Typeface name":"Wingdings 3","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"11154","Unicode hex":"2B92"},{"Typeface name":"Wingdings 3","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"11155","Unicode hex":"2B93"},{"Typeface name":"Wingdings 3","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"11136","Unicode hex":"2B80"},{"Typeface name":"Wingdings 3","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"11139","Unicode hex":"2B83"},{"Typeface name":"Wingdings 3","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"11134","Unicode hex":"2B7E"},{"Typeface name":"Wingdings 3","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"11135","Unicode hex":"2B7F"},{"Typeface name":"Wingdings 3","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"11140","Unicode hex":"2B84"},{"Typeface name":"Wingdings 3","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"11142","Unicode hex":"2B86"},{"Typeface name":"Wingdings 3","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"11141","Unicode hex":"2B85"},{"Typeface name":"Wingdings 3","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"11143","Unicode hex":"2B87"},{"Typeface name":"Wingdings 3","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"11151","Unicode hex":"2B8F"},{"Typeface name":"Wingdings 3","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"11149","Unicode hex":"2B8D"},{"Typeface name":"Wingdings 3","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"11150","Unicode hex":"2B8E"},{"Typeface name":"Wingdings 3","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"11148","Unicode hex":"2B8C"},{"Typeface name":"Wingdings 3","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"11118","Unicode hex":"2B6E"},{"Typeface name":"Wingdings 3","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"11119","Unicode hex":"2B6F"},{"Typeface name":"Wingdings 3","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9099","Unicode hex":"238B"},{"Typeface name":"Wingdings 3","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"8996","Unicode hex":"2324"},{"Typeface name":"Wingdings 3","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"8963","Unicode hex":"2303"},{"Typeface name":"Wingdings 3","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"8997","Unicode hex":"2325"},{"Typeface name":"Wingdings 3","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"9251","Unicode hex":"2423"},{"Typeface name":"Wingdings 3","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"9085","Unicode hex":"237D"},{"Typeface name":"Wingdings 3","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"8682","Unicode hex":"21EA"},{"Typeface name":"Wingdings 3","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"11192","Unicode hex":"2BB8"},{"Typeface name":"Wingdings 3","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"129184","Unicode hex":"1F8A0"},{"Typeface name":"Wingdings 3","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"129185","Unicode hex":"1F8A1"},{"Typeface name":"Wingdings 3","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"129186","Unicode hex":"1F8A2"},{"Typeface name":"Wingdings 3","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"129187","Unicode hex":"1F8A3"},{"Typeface name":"Wingdings 3","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"129188","Unicode hex":"1F8A4"},{"Typeface name":"Wingdings 3","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"129189","Unicode hex":"1F8A5"},{"Typeface name":"Wingdings 3","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"129190","Unicode hex":"1F8A6"},{"Typeface name":"Wingdings 3","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"129191","Unicode hex":"1F8A7"},{"Typeface name":"Wingdings 3","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"129192","Unicode hex":"1F8A8"},{"Typeface name":"Wingdings 3","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"129193","Unicode hex":"1F8A9"},{"Typeface name":"Wingdings 3","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"129194","Unicode hex":"1F8AA"},{"Typeface name":"Wingdings 3","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"129195","Unicode hex":"1F8AB"},{"Typeface name":"Wingdings 3","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"129104","Unicode hex":"1F850"},{"Typeface name":"Wingdings 3","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"129106","Unicode hex":"1F852"},{"Typeface name":"Wingdings 3","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"129105","Unicode hex":"1F851"},{"Typeface name":"Wingdings 3","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"129107","Unicode hex":"1F853"},{"Typeface name":"Wingdings 3","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"129108","Unicode hex":"1F854"},{"Typeface name":"Wingdings 3","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"129109","Unicode hex":"1F855"},{"Typeface name":"Wingdings 3","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"129111","Unicode hex":"1F857"},{"Typeface name":"Wingdings 3","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"129110","Unicode hex":"1F856"},{"Typeface name":"Wingdings 3","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"129112","Unicode hex":"1F858"},{"Typeface name":"Wingdings 3","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"129113","Unicode hex":"1F859"},{"Typeface name":"Wingdings 3","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9650","Unicode hex":"25B2"},{"Typeface name":"Wingdings 3","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9660","Unicode hex":"25BC"},{"Typeface name":"Wingdings 3","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9651","Unicode hex":"25B3"},{"Typeface name":"Wingdings 3","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9661","Unicode hex":"25BD"},{"Typeface name":"Wingdings 3","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9664","Unicode hex":"25C0"},{"Typeface name":"Wingdings 3","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9654","Unicode hex":"25B6"},{"Typeface name":"Wingdings 3","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"9665","Unicode hex":"25C1"},{"Typeface name":"Wingdings 3","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9655","Unicode hex":"25B7"},{"Typeface name":"Wingdings 3","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"9699","Unicode hex":"25E3"},{"Typeface name":"Wingdings 3","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"9698","Unicode hex":"25E2"},{"Typeface name":"Wingdings 3","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"9700","Unicode hex":"25E4"},{"Typeface name":"Wingdings 3","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"9701","Unicode hex":"25E5"},{"Typeface name":"Wingdings 3","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"128896","Unicode hex":"1F780"},{"Typeface name":"Wingdings 3","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128898","Unicode hex":"1F782"},{"Typeface name":"Wingdings 3","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128897","Unicode hex":"1F781"},{"Typeface name":"Wingdings 3","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128899","Unicode hex":"1F783"},{"Typeface name":"Wingdings 3","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"11205","Unicode hex":"2BC5"},{"Typeface name":"Wingdings 3","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"11206","Unicode hex":"2BC6"},{"Typeface name":"Wingdings 3","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"11207","Unicode hex":"2BC7"},{"Typeface name":"Wingdings 3","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11208","Unicode hex":"2BC8"},{"Typeface name":"Wingdings 3","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"11164","Unicode hex":"2B9C"},{"Typeface name":"Wingdings 3","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"11166","Unicode hex":"2B9E"},{"Typeface name":"Wingdings 3","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"11165","Unicode hex":"2B9D"},{"Typeface name":"Wingdings 3","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"11167","Unicode hex":"2B9F"},{"Typeface name":"Wingdings 3","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"129040","Unicode hex":"1F810"},{"Typeface name":"Wingdings 3","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"129042","Unicode hex":"1F812"},{"Typeface name":"Wingdings 3","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"129041","Unicode hex":"1F811"},{"Typeface name":"Wingdings 3","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"129043","Unicode hex":"1F813"},{"Typeface name":"Wingdings 3","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"129044","Unicode hex":"1F814"},{"Typeface name":"Wingdings 3","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"129046","Unicode hex":"1F816"},{"Typeface name":"Wingdings 3","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"129045","Unicode hex":"1F815"},{"Typeface name":"Wingdings 3","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"129047","Unicode hex":"1F817"},{"Typeface name":"Wingdings 3","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"129048","Unicode hex":"1F818"},{"Typeface name":"Wingdings 3","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"129050","Unicode hex":"1F81A"},{"Typeface name":"Wingdings 3","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"129049","Unicode hex":"1F819"},{"Typeface name":"Wingdings 3","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"129051","Unicode hex":"1F81B"},{"Typeface name":"Wingdings 3","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"129052","Unicode hex":"1F81C"},{"Typeface name":"Wingdings 3","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"129054","Unicode hex":"1F81E"},{"Typeface name":"Wingdings 3","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"129053","Unicode hex":"1F81D"},{"Typeface name":"Wingdings 3","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"129055","Unicode hex":"1F81F"},{"Typeface name":"Wingdings 3","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"129024","Unicode hex":"1F800"},{"Typeface name":"Wingdings 3","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"129026","Unicode hex":"1F802"},{"Typeface name":"Wingdings 3","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"129025","Unicode hex":"1F801"},{"Typeface name":"Wingdings 3","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"129027","Unicode hex":"1F803"},{"Typeface name":"Wingdings 3","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"129028","Unicode hex":"1F804"},{"Typeface name":"Wingdings 3","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"129030","Unicode hex":"1F806"},{"Typeface name":"Wingdings 3","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"129029","Unicode hex":"1F805"},{"Typeface name":"Wingdings 3","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"129031","Unicode hex":"1F807"},{"Typeface name":"Wingdings 3","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"129032","Unicode hex":"1F808"},{"Typeface name":"Wingdings 3","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"129034","Unicode hex":"1F80A"},{"Typeface name":"Wingdings 3","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"129033","Unicode hex":"1F809"},{"Typeface name":"Wingdings 3","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"129035","Unicode hex":"1F80B"},{"Typeface name":"Wingdings 3","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"129056","Unicode hex":"1F820"},{"Typeface name":"Wingdings 3","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"129058","Unicode hex":"1F822"},{"Typeface name":"Wingdings 3","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"129060","Unicode hex":"1F824"},{"Typeface name":"Wingdings 3","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"129062","Unicode hex":"1F826"},{"Typeface name":"Wingdings 3","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"129064","Unicode hex":"1F828"},{"Typeface name":"Wingdings 3","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"129066","Unicode hex":"1F82A"},{"Typeface name":"Wingdings 3","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"129068","Unicode hex":"1F82C"},{"Typeface name":"Wingdings 3","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"129180","Unicode hex":"1F89C"},{"Typeface name":"Wingdings 3","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"129181","Unicode hex":"1F89D"},{"Typeface name":"Wingdings 3","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"129182","Unicode hex":"1F89E"},{"Typeface name":"Wingdings 3","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"129183","Unicode hex":"1F89F"},{"Typeface name":"Wingdings 3","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"129070","Unicode hex":"1F82E"},{"Typeface name":"Wingdings 3","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"129072","Unicode hex":"1F830"},{"Typeface name":"Wingdings 3","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"129074","Unicode hex":"1F832"},{"Typeface name":"Wingdings 3","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"129076","Unicode hex":"1F834"},{"Typeface name":"Wingdings 3","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"129078","Unicode hex":"1F836"},{"Typeface name":"Wingdings 3","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"129080","Unicode hex":"1F838"},{"Typeface name":"Wingdings 3","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"129082","Unicode hex":"1F83A"},{"Typeface name":"Wingdings 3","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"129081","Unicode hex":"1F839"},{"Typeface name":"Wingdings 3","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"129083","Unicode hex":"1F83B"},{"Typeface name":"Wingdings 3","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"129176","Unicode hex":"1F898"},{"Typeface name":"Wingdings 3","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"129178","Unicode hex":"1F89A"},{"Typeface name":"Wingdings 3","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"129177","Unicode hex":"1F899"},{"Typeface name":"Wingdings 3","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"129179","Unicode hex":"1F89B"},{"Typeface name":"Wingdings 3","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"129084","Unicode hex":"1F83C"},{"Typeface name":"Wingdings 3","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"129086","Unicode hex":"1F83E"},{"Typeface name":"Wingdings 3","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"129085","Unicode hex":"1F83D"},{"Typeface name":"Wingdings 3","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"129087","Unicode hex":"1F83F"},{"Typeface name":"Wingdings 3","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"129088","Unicode hex":"1F840"},{"Typeface name":"Wingdings 3","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"129090","Unicode hex":"1F842"},{"Typeface name":"Wingdings 3","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"129089","Unicode hex":"1F841"},{"Typeface name":"Wingdings 3","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"129091","Unicode hex":"1F843"},{"Typeface name":"Wingdings 3","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"129092","Unicode hex":"1F844"},{"Typeface name":"Wingdings 3","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"129094","Unicode hex":"1F846"},{"Typeface name":"Wingdings 3","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"129093","Unicode hex":"1F845"},{"Typeface name":"Wingdings 3","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"129095","Unicode hex":"1F847"},{"Typeface name":"Wingdings 3","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11176","Unicode hex":"2BA8"},{"Typeface name":"Wingdings 3","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11177","Unicode hex":"2BA9"},{"Typeface name":"Wingdings 3","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"11178","Unicode hex":"2BAA"},{"Typeface name":"Wingdings 3","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"11179","Unicode hex":"2BAB"},{"Typeface name":"Wingdings 3","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"11180","Unicode hex":"2BAC"},{"Typeface name":"Wingdings 3","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"11181","Unicode hex":"2BAD"},{"Typeface name":"Wingdings 3","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"11182","Unicode hex":"2BAE"},{"Typeface name":"Wingdings 3","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"11183","Unicode hex":"2BAF"},{"Typeface name":"Wingdings 3","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"129120","Unicode hex":"1F860"},{"Typeface name":"Wingdings 3","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"129122","Unicode hex":"1F862"},{"Typeface name":"Wingdings 3","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"129121","Unicode hex":"1F861"},{"Typeface name":"Wingdings 3","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"129123","Unicode hex":"1F863"},{"Typeface name":"Wingdings 3","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"129124","Unicode hex":"1F864"},{"Typeface name":"Wingdings 3","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"129125","Unicode hex":"1F865"},{"Typeface name":"Wingdings 3","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"129127","Unicode hex":"1F867"},{"Typeface name":"Wingdings 3","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"129126","Unicode hex":"1F866"},{"Typeface name":"Wingdings 3","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"129136","Unicode hex":"1F870"},{"Typeface name":"Wingdings 3","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"129138","Unicode hex":"1F872"},{"Typeface name":"Wingdings 3","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"129137","Unicode hex":"1F871"},{"Typeface name":"Wingdings 3","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"129139","Unicode hex":"1F873"},{"Typeface name":"Wingdings 3","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"129140","Unicode hex":"1F874"},{"Typeface name":"Wingdings 3","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"129141","Unicode hex":"1F875"},{"Typeface name":"Wingdings 3","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129143","Unicode hex":"1F877"},{"Typeface name":"Wingdings 3","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129142","Unicode hex":"1F876"},{"Typeface name":"Wingdings 3","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129152","Unicode hex":"1F880"},{"Typeface name":"Wingdings 3","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129154","Unicode hex":"1F882"},{"Typeface name":"Wingdings 3","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129153","Unicode hex":"1F881"},{"Typeface name":"Wingdings 3","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129155","Unicode hex":"1F883"},{"Typeface name":"Wingdings 3","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129156","Unicode hex":"1F884"},{"Typeface name":"Wingdings 3","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129157","Unicode hex":"1F885"},{"Typeface name":"Wingdings 3","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129159","Unicode hex":"1F887"},{"Typeface name":"Wingdings 3","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129158","Unicode hex":"1F886"},{"Typeface name":"Wingdings 3","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129168","Unicode hex":"1F890"},{"Typeface name":"Wingdings 3","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129170","Unicode hex":"1F892"},{"Typeface name":"Wingdings 3","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129169","Unicode hex":"1F891"},{"Typeface name":"Wingdings 3","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129171","Unicode hex":"1F893"},{"Typeface name":"Wingdings 3","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129172","Unicode hex":"1F894"},{"Typeface name":"Wingdings 3","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129174","Unicode hex":"1F896"},{"Typeface name":"Wingdings 3","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"129173","Unicode hex":"1F895"},{"Typeface name":"Wingdings 3","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"129175","Unicode hex":"1F897"}];tU.default=j2e;var I2e=Lt&&Lt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Cm,"__esModule",{value:!0});Cm.hex=Cm.dec=Cm.codePoint=void 0;var R2e=I2e(tU),vee={},M2e=String.fromCodePoint?String.fromCodePoint:L2e;for(var M4=0,Oq=R2e.default;M4<Oq.length;M4++){var O4=Oq[M4],Fq=parseInt(O4["Unicode dec"],10),O2e={codePoint:Fq,string:M2e(Fq)};vee[O4["Typeface name"].toUpperCase()+"_"+O4["Dingbat dec"]]=O2e}function nU(n,e){return vee[n.toUpperCase()+"_"+e]}Cm.codePoint=nU;function F2e(n,e){return nU(n,parseInt(e,10))}Cm.dec=F2e;function U2e(n,e){return nU(n,parseInt(e,16))}Cm.hex=U2e;function L2e(n){if(n<=65535)return String.fromCharCode(n);var e=Math.floor((n-65536)/1024)+55296,i=(n-65536)%1024+56320;return String.fromCharCode(e,i)}var iU={};iU.uriToZipEntryName=B2e;iU.replaceFragment=z2e;function B2e(n,e){return e.charAt(0)==="/"?e.substr(1):n+"/"+e}function z2e(n,e){var i=n.indexOf("#");return i!==-1&&(n=n.substring(0,i)),n+"#"+e}eU.createBodyReader=W2e;eU._readNumberingProperties=xee;var Uq=Cm,Jl=lr,Oi=_n,wee=sl.Result,dh=sl.warning,V2e=vf,Lq=iU;function W2e(n){return{readXmlElement:function(e){return new Bq(n).readXmlElement(e)},readXmlElements:function(e){return new Bq(n).readXmlElements(e)}}}function Bq(n){var e=[],i=[],r=[],o=n.relationships,l=n.contentTypes,c=n.docxFile,u=n.files,h=n.numbering,m=n.styles;function g(Ee){var we=Ee.map(y);return zq(we)}function y(Ee){if(Ee.type==="element"){var we=ie[Ee.name];if(we)return we(Ee);if(!Object.prototype.hasOwnProperty.call(q2e,Ee.name)){var ze=dh("An unrecognised element was ignored: "+Ee.name);return _k([ze])}}return kk()}function v(Ee){return j(Ee).map(function(we){return{type:"paragraphProperties",styleId:we.styleId,styleName:we.name,alignment:Ee.firstOrEmpty("w:jc").attributes["w:val"],numbering:xee(we.styleId,Ee.firstOrEmpty("w:numPr"),h),indent:_(Ee.firstOrEmpty("w:ind"))}})}function _(Ee){return{start:Ee.attributes["w:start"]||Ee.attributes["w:left"],end:Ee.attributes["w:end"]||Ee.attributes["w:right"],firstLine:Ee.attributes["w:firstLine"],hanging:Ee.attributes["w:hanging"]}}function A(Ee){return O(Ee).map(function(we){var ze=Ee.firstOrEmpty("w:sz").attributes["w:val"],G=/^[0-9]+$/.test(ze)?parseInt(ze,10)/2:null;return{type:"runProperties",styleId:we.styleId,styleName:we.name,verticalAlignment:Ee.firstOrEmpty("w:vertAlign").attributes["w:val"],font:Ee.firstOrEmpty("w:rFonts").attributes["w:ascii"],fontSize:G,isBold:C(Ee.first("w:b")),isUnderline:S(Ee.first("w:u")),isItalic:C(Ee.first("w:i")),isStrikethrough:C(Ee.first("w:strike")),isAllCaps:C(Ee.first("w:caps")),isSmallCaps:C(Ee.first("w:smallCaps")),highlight:N(Ee.firstOrEmpty("w:highlight").attributes["w:val"])}})}function S(Ee){if(Ee){var we=Ee.attributes["w:val"];return we!==void 0&&we!=="false"&&we!=="0"&&we!=="none"}else return!1}function C(Ee){if(Ee){var we=Ee.attributes["w:val"];return we!=="false"&&we!=="0"}else return!1}function T(Ee){return Ee!=="false"&&Ee!=="0"}function N(Ee){return!Ee||Ee==="none"?null:Ee}function j(Ee){return U(Ee,"w:pStyle","Paragraph",m.findParagraphStyleById)}function O(Ee){return U(Ee,"w:rStyle","Run",m.findCharacterStyleById)}function F(Ee){return U(Ee,"w:tblStyle","Table",m.findTableStyleById)}function U(Ee,we,ze,G){var Ce=[],Ie=Ee.first(we),be=null,_e=null;if(Ie&&(be=Ie.attributes["w:val"],be)){var Se=G(be);Se?_e=Se.name:Ce.push(Le(ze,be))}return nD({styleId:be,name:_e},Ce)}function V(Ee){var we=Ee.attributes["w:fldCharType"];if(we==="begin")e.push({type:"begin",fldChar:Ee}),i=[];else if(we==="end"){var ze=e.pop();if(ze.type==="begin"&&(ze=K(ze)),ze.type==="checkbox")return Go(Oi.checkbox({checked:ze.checked}))}else if(we==="separate"){var G=e.pop(),Ce=K(G);e.push(Ce)}return kk()}function B(){var Ee=Jl.last(e.filter(function(we){return we.type==="hyperlink"}));return Ee?Ee.options:null}function K(Ee){return oe(i.join(""),Ee.type==="begin"?Ee.fldChar:V2e.emptyElement)}function oe(Ee,we){var ze=/\s*HYPERLINK "(.*)"/.exec(Ee);if(ze)return{type:"hyperlink",options:{href:ze[1]}};var G=/\s*HYPERLINK\s+\\l\s+"(.*)"/.exec(Ee);if(G)return{type:"hyperlink",options:{anchor:G[1]}};var Ce=/\s*FORMCHECKBOX\s*/.exec(Ee);if(Ce){var Ie=we.firstOrEmpty("w:ffData").firstOrEmpty("w:checkBox"),be=Ie.first("w:checked"),_e=be==null?C(Ie.first("w:default")):C(be);return{type:"checkbox",checked:_e}}return{type:"unknown"}}function me(Ee){return i.push(Ee.text()),kk()}function Q(Ee){var we=Ee.attributes["w:font"],ze=Ee.attributes["w:char"],G=Uq.hex(we,ze);return G==null&&/^F0..$/.test(ze)&&(G=Uq.hex(we,ze.substring(2))),G==null?_k([dh("A w:sym element with an unsupported character was ignored: char "+ze+" in font "+we)]):Go(new Oi.Text(G.string))}function ge(Ee){return function(we){var ze=we.attributes["w:id"];return Go(new Oi.NoteReference({noteType:Ee,noteId:ze}))}}function $(Ee){return Go(Oi.commentReference({commentId:Ee.attributes["w:id"]}))}function De(Ee){return g(Ee.children)}var ie={"w:p":function(Ee){var we=Ee.firstOrEmpty("w:pPr"),ze=!!we.firstOrEmpty("w:rPr").first("w:del");if(ze)return Ee.children.forEach(function(Ce){r.push(Ce)}),kk();var G=Ee.children;return r.length>0&&(G=r.concat(G),r=[]),Ds.map(v(we),g(G),function(Ce,Ie){return new Oi.Paragraph(Ie,Ce)}).insertExtra()},"w:r":function(Ee){return Ds.map(A(Ee.firstOrEmpty("w:rPr")),g(Ee.children),function(we,ze){var G=B();return G!==null&&(ze=[new Oi.Hyperlink(ze,G)]),new Oi.Run(ze,we)})},"w:fldChar":V,"w:instrText":me,"w:t":function(Ee){return Go(new Oi.Text(Ee.text()))},"w:tab":function(Ee){return Go(new Oi.Tab)},"w:noBreakHyphen":function(){return Go(new Oi.Text("‑"))},"w:softHyphen":function(Ee){return Go(new Oi.Text("­"))},"w:sym":Q,"w:hyperlink":function(Ee){var we=Ee.attributes["r:id"],ze=Ee.attributes["w:anchor"];return g(Ee.children).map(function(G){function Ce(be){var _e=Ee.attributes["w:tgtFrame"]||null;return new Oi.Hyperlink(G,Jl.extend({targetFrame:_e},be))}if(we){var Ie=o.findTargetByRelationshipId(we);return ze&&(Ie=Lq.replaceFragment(Ie,ze)),Ce({href:Ie})}else return ze?Ce({anchor:ze}):G})},"w:tbl":ce,"w:tr":Y,"w:tc":ne,"w:footnoteReference":ge("footnote"),"w:endnoteReference":ge("endnote"),"w:commentReference":$,"w:br":function(Ee){var we=Ee.attributes["w:type"];return we==null||we==="textWrapping"?Go(Oi.lineBreak):we==="page"?Go(Oi.pageBreak):we==="column"?Go(Oi.columnBreak):_k([dh("Unsupported break type: "+we)])},"w:bookmarkStart":function(Ee){var we=Ee.attributes["w:name"];return we==="_GoBack"?kk():Go(new Oi.BookmarkStart({name:we}))},"mc:AlternateContent":function(Ee){return De(Ee.firstOrEmpty("mc:Fallback"))},"w:sdt":function(Ee){var we=Ee.firstOrEmpty("w:sdtPr").first("wordml:checkbox");if(we){var ze=we.first("wordml:checked"),G=!!ze&&T(ze.attributes["wordml:val"]);return Go(Oi.checkbox({checked:G}))}else return g(Ee.firstOrEmpty("w:sdtContent").children)},"w:ins":De,"w:object":De,"w:smartTag":De,"w:drawing":De,"w:pict":function(Ee){return De(Ee).toExtra()},"v:roundrect":De,"v:shape":De,"v:textbox":De,"w:txbxContent":De,"wp:inline":Z,"wp:anchor":Z,"v:imagedata":Pe,"v:group":De,"v:rect":De};return{readXmlElement:y,readXmlElements:g};function ce(Ee){var we=X(Ee.firstOrEmpty("w:tblPr"));return g(Ee.children).flatMap(ue).flatMap(function(ze){return we.map(function(G){return Oi.Table(ze,G)})})}function X(Ee){return F(Ee).map(function(we){return{styleId:we.styleId,styleName:we.name}})}function Y(Ee){var we=Ee.firstOrEmpty("w:trPr"),ze=!!we.first("w:tblHeader");return g(Ee.children).map(function(G){return Oi.TableRow(G,{isHeader:ze})})}function ne(Ee){return g(Ee.children).map(function(we){var ze=Ee.firstOrEmpty("w:tcPr"),G=ze.firstOrEmpty("w:gridSpan").attributes["w:val"],Ce=G?parseInt(G,10):1,Ie=Oi.TableCell(we,{colSpan:Ce});return Ie._vMerge=ee(ze),Ie})}function ee(Ee){var we=Ee.first("w:vMerge");if(we){var ze=we.attributes["w:val"];return ze==="continue"||!ze}else return null}function ue(Ee){var we=Jl.any(Ee,function(Ce){return Ce.type!==Oi.types.tableRow});if(we)return nD(Ee,[dh("unexpected non-row element in table, cell merging may be incorrect")]);var ze=Jl.any(Ee,function(Ce){return Jl.any(Ce.children,function(Ie){return Ie.type!==Oi.types.tableCell})});if(ze)return nD(Ee,[dh("unexpected non-cell element in table row, cell merging may be incorrect")]);var G={};return Ee.forEach(function(Ce){var Ie=0;Ce.children.forEach(function(be){be._vMerge&&G[Ie]?G[Ie].rowSpan++:(G[Ie]=be,be._vMerge=!1),Ie+=be.colSpan})}),Ee.forEach(function(Ce){Ce.children=Ce.children.filter(function(Ie){return!Ie._vMerge}),Ce.children.forEach(function(Ie){delete Ie._vMerge})}),Go(Ee)}function Z(Ee){var we=Ee.getElementsByTagName("a:graphic").getElementsByTagName("a:graphicData").getElementsByTagName("pic:pic").getElementsByTagName("pic:blipFill").getElementsByTagName("a:blip");return zq(we.map(xe.bind(null,Ee)))}function xe(Ee,we){var ze=Ee.first("wp:docPr").attributes,G=Ae(ze.descr)?ze.title:ze.descr,Ce=Oe(we);return Ce===null?_k([dh("Could not find image file for a:blip element")]):Ve(Ce,G)}function Ae(Ee){return Ee==null||/^\s*$/.test(Ee)}function Oe(Ee){var we=Ee.attributes["r:embed"],ze=Ee.attributes["r:link"];if(we)return Me(we);if(ze){var G=o.findTargetByRelationshipId(ze);return{path:G,read:u.read.bind(u,G)}}else return null}function Pe(Ee){var we=Ee.attributes["r:id"];return we?Ve(Me(we),Ee.attributes["o:title"]):_k([dh("A v:imagedata element without a relationship ID was ignored")])}function Me(Ee){var we=Lq.uriToZipEntryName("word",o.findTargetByRelationshipId(Ee));return{path:we,read:c.read.bind(c,we)}}function Ve(Ee,we){var ze=l.findContentType(Ee.path),G=Oi.Image({readImage:Ee.read,altText:we,contentType:ze}),Ce=$2e[ze]?[]:dh("Image of type "+ze+" is unlikely to display in web browsers");return nD(G,Ce)}function Le(Ee,we){return dh(Ee+" style with ID "+we+" was referenced but not defined in the document")}}function xee(n,e,i){var r=e.firstOrEmpty("w:ilvl").attributes["w:val"],o=e.firstOrEmpty("w:numId").attributes["w:val"];if(r!==void 0&&o!==void 0)return i.findLevel(o,r);if(n!=null){var l=i.findLevelByParagraphStyleId(n);if(l!=null)return l}return null}var $2e={"image/png":!0,"image/gif":!0,"image/jpeg":!0,"image/svg+xml":!0,"image/tiff":!0},q2e={"office-word:wrap":!0,"v:shadow":!0,"v:shapetype":!0,"w:annotationRef":!0,"w:bookmarkEnd":!0,"w:sectPr":!0,"w:proofErr":!0,"w:lastRenderedPageBreak":!0,"w:commentRangeStart":!0,"w:commentRangeEnd":!0,"w:del":!0,"w:footnoteRef":!0,"w:endnoteRef":!0,"w:pPr":!0,"w:rPr":!0,"w:tblPr":!0,"w:tblGrid":!0,"w:trPr":!0,"w:tcPr":!0};function _k(n){return new Ds(null,null,n)}function kk(){return new Ds(null)}function Go(n){return new Ds(n)}function nD(n,e){return new Ds(n,null,e)}function Ds(n,e,i){this.value=n||[],this.extra=e||[],this._result=new wee({element:this.value,extra:e},i),this.messages=this._result.messages}Ds.prototype.toExtra=function(){return new Ds(null,G3(this.extra,this.value),this.messages)};Ds.prototype.insertExtra=function(){var n=this.extra;return n&&n.length?new Ds(G3(this.value,n),null,this.messages):this};Ds.prototype.map=function(n){var e=this._result.map(function(i){return n(i.element)});return new Ds(e.value,this.extra,e.messages)};Ds.prototype.flatMap=function(n){var e=this._result.flatMap(function(i){return n(i.element)._result});return new Ds(e.value.element,G3(this.extra,e.value.extra),e.messages)};Ds.map=function(n,e,i){return new Ds(i(n.value,e.value),G3(n.extra,e.extra),n.messages.concat(e.messages))};function zq(n){var e=wee.combine(Jl.pluck(n,"_result"));return new Ds(Jl.flatten(Jl.pluck(e.value,"element")),Jl.filter(Jl.flatten(Jl.pluck(e.value,"extra")),H2e),e.messages)}function G3(n,e){return Jl.flatten([n,e])}function H2e(n){return n}var _ee={};_ee.DocumentXmlReader=K2e;var G2e=_n,X2e=sl.Result;function K2e(n){var e=n.bodyReader;function i(r){var o=r.first("w:body");if(o==null)throw new Error("Could not find the body element: are you sure this is a docx file?");var l=e.readXmlElements(o.children).map(function(c){return new G2e.Document(c,{notes:n.notes,comments:n.comments})});return new X2e(l.value,l.messages)}return{convertXmlToDocument:i}}var X3={};X3.readRelationships=Y2e;X3.defaultValue=new rU([]);X3.Relationships=rU;function Y2e(n){var e=[];return n.children.forEach(function(i){if(i.name==="relationships:Relationship"){var r={relationshipId:i.attributes.Id,target:i.attributes.Target,type:i.attributes.Type};e.push(r)}}),new rU(e)}function rU(n){var e={};n.forEach(function(r){e[r.relationshipId]=r.target});var i={};return n.forEach(function(r){i[r.type]||(i[r.type]=[]),i[r.type].push(r.target)}),{findTargetByRelationshipId:function(r){return e[r]},findTargetsByType:function(r){return i[r]||[]}}}var sU={};sU.readContentTypesFromXml=J2e;var Z2e={png:"png",gif:"gif",jpeg:"jpeg",jpg:"jpeg",tif:"tiff",tiff:"tiff",bmp:"bmp"};sU.defaultContentTypes=kee({},{});function J2e(n){var e={},i={};return n.children.forEach(function(r){if(r.name==="content-types:Default"&&(e[r.attributes.Extension]=r.attributes.ContentType),r.name==="content-types:Override"){var o=r.attributes.PartName;o.charAt(0)==="/"&&(o=o.substring(1)),i[o]=r.attributes.ContentType}}),kee(i,e)}function kee(n,e){return{findContentType:function(i){var r=n[i];if(r)return r;var o=i.split("."),l=o[o.length-1];if(e.hasOwnProperty(l))return e[l];var c=Z2e[l.toLowerCase()];return c?"image/"+c:null}}}var K3={},iD=lr;K3.readNumberingXml=Q2e;K3.Numbering=oU;K3.defaultNumbering=new oU({},{});function oU(n,e,i){var r=iD.flatten(iD.values(e).map(function(u){return iD.values(u.levels)})),o=iD.indexBy(r.filter(function(u){return u.paragraphStyleId!=null}),"paragraphStyleId");function l(u,h){var m=n[u];if(m){var g=e[m.abstractNumId];if(g){if(g.numStyleLink==null)return e[m.abstractNumId].levels[h];var y=i.findNumberingStyleById(g.numStyleLink);return l(y.numId,h)}else return null}else return null}function c(u){return o[u]||null}return{findLevel:l,findLevelByParagraphStyleId:c}}function Q2e(n,e){if(!e||!e.styles)throw new Error("styles is missing");var i=eEe(n),r=nEe(n);return new oU(r,i,e.styles)}function eEe(n){var e={};return n.getElementsByTagName("w:abstractNum").forEach(function(i){var r=i.attributes["w:abstractNumId"];e[r]=tEe(i)}),e}function tEe(n){var e={};n.getElementsByTagName("w:lvl").forEach(function(r){var o=r.attributes["w:ilvl"],l=r.firstOrEmpty("w:numFmt").attributes["w:val"],c=r.firstOrEmpty("w:pStyle").attributes["w:val"];e[o]={isOrdered:l!=="bullet",level:o,paragraphStyleId:c}});var i=n.firstOrEmpty("w:numStyleLink").attributes["w:val"];return{levels:e,numStyleLink:i}}function nEe(n){var e={};return n.getElementsByTagName("w:num").forEach(function(i){var r=i.attributes["w:numId"],o=i.first("w:abstractNumId").attributes["w:val"];e[r]={abstractNumId:o}}),e}var Y3={};Y3.readStylesXml=iEe;Y3.Styles=rE;Y3.defaultStyles=new rE({},{});function rE(n,e,i,r){return{findParagraphStyleById:function(o){return n[o]},findCharacterStyleById:function(o){return e[o]},findTableStyleById:function(o){return i[o]},findNumberingStyleById:function(o){return r[o]}}}rE.EMPTY=new rE({},{},{},{});function iEe(n){var e={},i={},r={},o={},l={paragraph:e,character:i,table:r};return n.getElementsByTagName("w:style").forEach(function(c){var u=rEe(c);if(u.type==="numbering")o[u.styleId]=oEe(c);else{var h=l[u.type];h&&(h[u.styleId]=u)}}),new rE(e,i,r,o)}function rEe(n){var e=n.attributes["w:type"],i=n.attributes["w:styleId"],r=sEe(n);return{type:e,styleId:i,name:r}}function sEe(n){var e=n.first("w:name");return e?e.attributes["w:val"]:null}function oEe(n){var e=n.firstOrEmpty("w:pPr").firstOrEmpty("w:numPr").firstOrEmpty("w:numId").attributes["w:val"];return{numId:e}}var aU={},aEe=_n,lEe=sl.Result;aU.createFootnotesReader=Eee.bind(Lt,"footnote");aU.createEndnotesReader=Eee.bind(Lt,"endnote");function Eee(n,e){function i(l){return lEe.combine(l.getElementsByTagName("w:"+n).filter(r).map(o))}function r(l){var c=l.attributes["w:type"];return c!=="continuationSeparator"&&c!=="separator"}function o(l){var c=l.attributes["w:id"];return e.readXmlElements(l.children).map(function(u){return aEe.Note({noteType:n,noteId:c,body:u})})}return i}var See={},cEe=_n,uEe=sl.Result;function dEe(n){function e(r){return uEe.combine(r.getElementsByTagName("w:comment").map(i))}function i(r){var o=r.attributes["w:id"];function l(c){return(r.attributes[c]||"").trim()||null}return n.readXmlElements(r.children).map(function(c){return cEe.comment({commentId:o,body:c,authorName:l("w:author"),authorInitials:l("w:initials")})})}return e}See.createCommentsReader=dEe;var Aee={},hEe=is;Aee.Files=fEe;function fEe(){function n(e){return hEe.reject(new Error("could not open external image: '"+e+`'
cannot open linked files from a web browser`))}return{read:n}}FF.read=vEe;FF._findPartPaths=Tee;var pEe=is,mEe=_n,F4=sl.Result,rN=ZS,Cee=BF.readXmlFromZipFile,gEe=eU.createBodyReader,bEe=_ee.DocumentXmlReader,B1=X3,Vq=sU,Wq=K3,$q=Y3,qq=aU,yEe=See,Hq=Aee.Files;function vEe(n,e){return e=e||{},pEe.props({contentTypes:xEe(n),partPaths:Tee(n),docxFile:n,files:e.path?Hq.relativeToFile(e.path):new Hq(null)}).also(function(i){return{styles:kEe(n,i.partPaths.styles)}}).also(function(i){return{numbering:_Ee(n,i.partPaths.numbering,i.styles)}}).also(function(i){return{footnotes:rD(i.partPaths.footnotes,i,function(r,o){return o?qq.createFootnotesReader(r)(o):new F4([])}),endnotes:rD(i.partPaths.endnotes,i,function(r,o){return o?qq.createEndnotesReader(r)(o):new F4([])}),comments:rD(i.partPaths.comments,i,function(r,o){return o?yEe.createCommentsReader(r)(o):new F4([])})}}).also(function(i){return{notes:i.footnotes.flatMap(function(r){return i.endnotes.map(function(o){return new mEe.Notes(r.concat(o))})})}}).then(function(i){return rD(i.partPaths.mainDocument,i,function(r,o){return i.notes.flatMap(function(l){return i.comments.flatMap(function(c){var u=new bEe({bodyReader:r,notes:l,comments:c});return u.convertXmlToDocument(o)})})})})}function Tee(n){return EEe(n).then(function(e){var i=Gq({docxFile:n,relationships:e,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",basePath:"",fallbackPath:"word/document.xml"});if(!n.exists(i))throw new Error("Could not find main document part. Are you sure this is a valid .docx file?");return ix({filename:Dee(i),readElement:B1.readRelationships,defaultValue:B1.defaultValue})(n).then(function(r){function o(l){return Gq({docxFile:n,relationships:r,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/"+l,basePath:rN.splitPath(i).dirname,fallbackPath:"word/"+l+".xml"})}return{mainDocument:i,comments:o("comments"),endnotes:o("endnotes"),footnotes:o("footnotes"),numbering:o("numbering"),styles:o("styles")}})})}function Gq(n){var e=n.docxFile,i=n.relationships,r=n.relationshipType,o=n.basePath,l=n.fallbackPath,c=i.findTargetsByType(r),u=c.map(function(m){return wEe(rN.joinPath(o,m),"/")}),h=u.filter(function(m){return e.exists(m)});return h.length===0?l:h[0]}function wEe(n,e){return n.substring(0,e.length)===e?n.substring(e.length):n}function ix(n){return function(e){return Cee(e,n.filename).then(function(i){return i?n.readElement(i):n.defaultValue})}}function rD(n,e,i){var r=ix({filename:Dee(n),readElement:B1.readRelationships,defaultValue:B1.defaultValue});return r(e.docxFile).then(function(o){var l=new gEe({relationships:o,contentTypes:e.contentTypes,docxFile:e.docxFile,numbering:e.numbering,styles:e.styles,files:e.files});return Cee(e.docxFile,n).then(function(c){return i(l,c)})})}function Dee(n){var e=rN.splitPath(n);return rN.joinPath(e.dirname,"_rels",e.basename+".rels")}var xEe=ix({filename:"[Content_Types].xml",readElement:Vq.readContentTypesFromXml,defaultValue:Vq.defaultContentTypes});function _Ee(n,e,i){return ix({filename:e,readElement:function(r){return Wq.readNumberingXml(r,{styles:i})},defaultValue:Wq.defaultNumbering})(n)}function kEe(n,e){return ix({filename:e,readElement:$q.readStylesXml,defaultValue:$q.defaultStyles})(n)}var EEe=ix({filename:"_rels/.rels",readElement:B1.readRelationships,defaultValue:B1.defaultValue}),lU={},SEe=lr,AEe=is,sE=vf;lU.writeStyleMap=TEe;lU.readStyleMap=PEe;var CEe="http://schemas.zwobble.org/mammoth/style-map",sN="mammoth/style-map",Nee="/"+sN;function TEe(n,e){return n.write(sN,e),DEe(n).then(function(){return NEe(n)})}function DEe(n){var e="word/_rels/document.xml.rels",i="http://schemas.openxmlformats.org/package/2006/relationships",r="{"+i+"}Relationship";return n.read(e,"utf8").then(sE.readString).then(function(o){var l=o.children;Pee(l,r,"Id",{Id:"rMammothStyleMap",Type:CEe,Target:Nee});var c={"":i};return n.write(e,sE.writeString(o,c))})}function NEe(n){var e="[Content_Types].xml",i="http://schemas.openxmlformats.org/package/2006/content-types",r="{"+i+"}Override";return n.read(e,"utf8").then(sE.readString).then(function(o){var l=o.children;Pee(l,r,"PartName",{PartName:Nee,ContentType:"text/prs.mammoth.style-map"});var c={"":i};return n.write(e,sE.writeString(o,c))})}function Pee(n,e,i,r){var o=SEe.find(n,function(l){return l.name===e&&l.attributes[i]===r[i]});o?o.attributes=r:n.push(sE.element(e,r))}function PEe(n){return n.exists(sN)?n.read(sN,"utf8"):AEe.resolve(null)}var cU={},Kg={},hh={},yp={},Xq;function jee(){if(Xq)return yp;Xq=1;var n=J3();function e(h,m,g){return r(n.element(h,m,{fresh:!1}),g)}function i(h,m,g){var y=n.element(h,m,{fresh:!0});return r(y,g)}function r(h,m){return{type:"element",tag:h,children:m||[]}}function o(h){return{type:"text",value:h}}var l={type:"forceWrite"};yp.freshElement=i,yp.nonFreshElement=e,yp.elementWithTag=r,yp.text=o,yp.forceWrite=l;var c={br:!0,hr:!0,img:!0,input:!0};function u(h){return h.children.length===0&&c[h.tag.tagName]}return yp.isVoidElement=u,yp}var U4,Kq;function jEe(){if(Kq)return U4;Kq=1;var n=lr,e=jee();function i(S){return r(m(S))}function r(S){var C=[];return S.map(o).forEach(function(T){h(C,T)}),C}function o(S){return l[S.type](S)}var l={element:c,text:u,forceWrite:u};function c(S){return e.elementWithTag(S.tag,r(S.children))}function u(S){return S}function h(S,C){var T=S[S.length-1];C.type==="element"&&!C.tag.fresh&&T&&T.type==="element"&&C.tag.matchesElement(T.tag)?(C.tag.separator&&h(T.children,e.text(C.tag.separator)),C.children.forEach(function(N){h(T.children,N)})):S.push(C)}function m(S){return g(S,function(C){return y[C.type](C)})}function g(S,C){return n.flatten(n.map(S,C),!0)}var y={element:_,text:A,forceWrite:v};function v(S){return[S]}function _(S){var C=m(S.children);return C.length===0&&!e.isVoidElement(S)?[]:[e.elementWithTag(S.tag,C)]}function A(S){return S.value.length===0?[]:[S]}return U4=i,U4}var Yq;function Z3(){if(Yq)return hh;Yq=1;var n=jee();hh.freshElement=n.freshElement,hh.nonFreshElement=n.nonFreshElement,hh.elementWithTag=n.elementWithTag,hh.text=n.text,hh.forceWrite=n.forceWrite,hh.simplify=jEe();function e(c,u){u.forEach(function(h){i(c,h)})}function i(c,u){r[u.type](c,u)}var r={element:o,text:l,forceWrite:function(){}};function o(c,u){n.isVoidElement(u)?c.selfClosing(u.tag.tagName,u.tag.attributes):(c.open(u.tag.tagName,u.tag.attributes),e(c,u.children),c.close(u.tag.tagName))}function l(c,u){c.text(u.value)}return hh.write=e,hh}var Zq;function J3(){if(Zq)return Kg;Zq=1;var n=lr,e=Z3();Kg.topLevelElement=i,Kg.elements=r,Kg.element=l;function i(u,h){return r([l(u,h,{fresh:!0})])}function r(u){return new o(u.map(function(h){return n.isString(h)?l(h):h}))}function o(u){this._elements=u}o.prototype.wrap=function(h){for(var m=h(),g=this._elements.length-1;g>=0;g--)m=this._elements[g].wrapNodes(m);return m};function l(u,h,m){return m=m||{},new c(u,h,m)}function c(u,h,m){var g={};n.isArray(u)?(u.forEach(function(y){g[y]=!0}),u=u[0]):g[u]=!0,this.tagName=u,this.tagNames=g,this.attributes=h||{},this.fresh=m.fresh,this.separator=m.separator}return c.prototype.matchesElement=function(u){return this.tagNames[u.tagName]&&n.isEqual(this.attributes||{},u.attributes||{})},c.prototype.wrap=function(h){return this.wrapNodes(h())},c.prototype.wrapNodes=function(h){return[e.elementWithTag(this,h)]},Kg.empty=r([]),Kg.ignore={wrap:function(){return[]}},Kg}var uU={};(function(n){var e=lr,i=is,r=Z3();n.imgElement=o;function o(l){return function(c,u){return i.when(l(c)).then(function(h){var m={};return c.altText&&(m.alt=c.altText),e.extend(m,h),[r.freshElement("img",m)]})}}n.inline=n.imgElement,n.dataUri=o(function(l){return l.readAsBase64String().then(function(c){return{src:"data:"+l.contentType+";base64,"+c}})})})(uU);var Iee={},Ree={},Mee=lr;Ree.writer=IEe;function IEe(n){return n=n||{},n.prettyPrint?REe():Oee()}var sD={div:!0,p:!0,ul:!0,li:!0};function REe(){var n=0,e="  ",i=[],r=!0,o=!1,l=Oee();function c(A,S){sD[A]&&v(),i.push(A),l.open(A,S),sD[A]&&n++,r=!1}function u(A){sD[A]&&(n--,v()),i.pop(),l.close(A)}function h(A){y();var S=_()?A:A.replace(`
`,`
`+e);l.text(S)}function m(A,S){v(),l.selfClosing(A,S)}function g(){return i.length===0||sD[i[i.length-1]]}function y(){o||(v(),o=!0)}function v(){if(o=!1,!r&&g()&&!_()){l._append(`
`);for(var A=0;A<n;A++)l._append(e)}}function _(){return Mee.some(i,function(A){return A==="pre"})}return{asString:l.asString,open:c,close:u,text:h,selfClosing:m}}function Oee(){var n=[];function e(h,m){var g=o(m);n.push("<"+h+g+">")}function i(h){n.push("</"+h+">")}function r(h,m){var g=o(m);n.push("<"+h+g+" />")}function o(h){return Mee.map(h,function(m,g){return" "+g+'="'+OEe(m)+'"'}).join("")}function l(h){n.push(MEe(h))}function c(h){n.push(h)}function u(){return n.join("")}return{asString:u,open:e,close:i,text:l,selfClosing:r,_append:c}}function MEe(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function OEe(n){return n.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Fee={},FEe=lr;function Jq(n){return oN(n,n)}function oN(n,e){return function(){return{start:n,end:e}}}function UEe(n){var e=n.href||"";return e?{start:"[",end:"]("+e+")",anchorPosition:"before"}:{}}function LEe(n){var e=n.src||"",i=n.alt||"";return e||i?{start:"!["+i+"]("+e+")"}:{}}function Qq(n){return function(e,i){return{start:i?`
`:"",end:i?"":`
`,list:{isOrdered:n.isOrdered,indent:i?i.indent+1:0,count:0}}}}function BEe(n,e,i){e=e||{indent:0,isOrdered:!1,count:0},e.count++,i.hasClosed=!1;var r=e.isOrdered?e.count+".":"-",o=Lee("	",e.indent)+r+" ";return{start:o,end:function(){if(!i.hasClosed)return i.hasClosed=!0,`
`}}}var Uee={p:oN("",`

`),br:oN("",`  
`),ul:Qq({isOrdered:!1}),ol:Qq({isOrdered:!0}),li:BEe,strong:Jq("__"),em:Jq("*"),a:UEe,img:LEe};(function(){for(var n=1;n<=6;n++)Uee["h"+n]=oN(Lee("#",n)+" ",`

`)})();function Lee(n,e){return new Array(e+1).join(n)}function zEe(){var n=[],e=[],i=null,r={};function o(g,y){y=y||{};var v=Uee[g]||function(){return{}},_=v(y,i,r);e.push({end:_.end,list:i}),_.list&&(i=_.list);var A=_.anchorPosition==="before";A&&l(y),n.push(_.start||""),A||l(y)}function l(g){g.id&&n.push('<a id="'+g.id+'"></a>')}function c(g){var y=e.pop();i=y.list;var v=FEe.isFunction(y.end)?y.end():y.end;n.push(v||"")}function u(g,y){o(g,y),c()}function h(g){n.push(VEe(g))}function m(){return n.join("")}return{asString:m,open:o,close:c,text:h,selfClosing:u}}Fee.writer=zEe;function VEe(n){return n.replace(/\\/g,"\\\\").replace(/([\`\*_\{\}\[\]\(\)\#\+\-\.\!])/g,"\\$1")}var WEe=Ree,$Ee=Fee;Iee.writer=qEe;function qEe(n){return n=n||{},n.outputFormat==="markdown"?$Ee.writer():WEe.writer(n)}var Ap=lr,eH=is,ID=_n,Fl=J3(),U6=sl,HEe=uU,kn=Z3(),GEe=Iee;cU.DocumentConverter=XEe;function XEe(n){return{convertToHtml:function(e){var i=Ap.indexBy(e.type===ID.types.document?e.comments:[],"commentId"),r=new KEe(n,i);return r.convertToHtml(e)}}}function KEe(n,e){var i=1,r=[],o=[];n=Ap.extend({ignoreEmptyParagraphs:!0},n);var l=n.idPrefix===void 0?"":n.idPrefix,c=n.ignoreEmptyParagraphs,u=Fl.topLevelElement("p"),h=n.styleMap||[];function m(X){var Y=[],ne=y(X,Y,{}),ee=[];Bee(ne,function(Z){Z.type==="deferred"&&ee.push(Z)});var ue={};return eH.mapSeries(ee,function(Z){return Z.value().then(function(xe){ue[Z.id]=xe})}).then(function(){function Z(Ae){return L4(Ae,function(Oe){return Oe.type==="deferred"?ue[Oe.id]:Oe.children?[Ap.extend({},Oe,{children:Z(Oe.children)})]:[Oe]})}var xe=GEe.writer({prettyPrint:n.prettyPrint,outputFormat:n.outputFormat});return kn.write(xe,kn.simplify(Z(ne))),new U6.Result(xe.asString(),Y)})}function g(X,Y,ne){return L4(X,function(ee){return y(ee,Y,ne)})}function y(X,Y,ne){if(!ne)throw new Error("options not set");var ee=ce[X.type];return ee?ee(X,Y,ne):[]}function v(X,Y,ne){return _(X,Y).wrap(function(){var ee=g(X.children,Y,ne);return c?ee:[kn.forceWrite].concat(ee)})}function _(X,Y){var ne=T(X);return ne?ne.to:(X.styleId&&Y.push(tH("paragraph",X)),u)}function A(X,Y,ne){var ee=function(){return g(X.children,Y,ne)},ue=[];if(X.highlight!==null){var Z=C({type:"highlight",color:X.highlight});Z&&ue.push(Z)}X.isSmallCaps&&ue.push(S("smallCaps")),X.isAllCaps&&ue.push(S("allCaps")),X.isStrikethrough&&ue.push(S("strikethrough","s")),X.isUnderline&&ue.push(S("underline")),X.verticalAlignment===ID.verticalAlignment.subscript&&ue.push(Fl.element("sub",{},{fresh:!1})),X.verticalAlignment===ID.verticalAlignment.superscript&&ue.push(Fl.element("sup",{},{fresh:!1})),X.isItalic&&ue.push(S("italic","em")),X.isBold&&ue.push(S("bold","strong"));var xe=Fl.empty,Ae=T(X);return Ae?xe=Ae.to:X.styleId&&Y.push(tH("run",X)),ue.push(xe),ue.forEach(function(Oe){ee=Oe.wrap.bind(Oe,ee)}),ee()}function S(X,Y){var ne=C({type:X});return ne||(Y?Fl.element(Y,{},{fresh:!1}):Fl.empty)}function C(X,Y){var ne=T(X);return ne?ne.to:Y}function T(X){for(var Y=0;Y<h.length;Y++)if(h[Y].from.matches(X))return h[Y]}function N(X){return function(Y,ne){return eH.attempt(function(){return X(Y,ne)}).caught(function(ee){return ne.push(U6.error(ee)),[]})}}function j(X){return F(X.noteType,X.noteId)}function O(X){return U(X.noteType,X.noteId)}function F(X,Y){return V(X+"-"+Y)}function U(X,Y){return V(X+"-ref-"+Y)}function V(X){return l+X}var B=Fl.elements([Fl.element("table",{},{fresh:!0})]);function K(X,Y,ne){return C(X,B).wrap(function(){return oe(X,Y,ne)})}function oe(X,Y,ne){var ee=Ap.findIndex(X.children,function(Ae){return!Ae.type===ID.types.tableRow||!Ae.isHeader});ee===-1&&(ee=X.children.length);var ue;if(ee===0)ue=g(X.children,Y,Ap.extend({},ne,{isTableHeader:!1}));else{var Z=g(X.children.slice(0,ee),Y,Ap.extend({},ne,{isTableHeader:!0})),xe=g(X.children.slice(ee),Y,Ap.extend({},ne,{isTableHeader:!1}));ue=[kn.freshElement("thead",{},Z),kn.freshElement("tbody",{},xe)]}return[kn.forceWrite].concat(ue)}function me(X,Y,ne){var ee=g(X.children,Y,ne);return[kn.freshElement("tr",{},[kn.forceWrite].concat(ee))]}function Q(X,Y,ne){var ee=ne.isTableHeader?"th":"td",ue=g(X.children,Y,ne),Z={};return X.colSpan!==1&&(Z.colspan=X.colSpan.toString()),X.rowSpan!==1&&(Z.rowspan=X.rowSpan.toString()),[kn.freshElement(ee,Z,[kn.forceWrite].concat(ue))]}function ge(X,Y,ne){return C(X,Fl.ignore).wrap(function(){var ee=e[X.commentId],ue=o.length+1,Z="["+JEe(ee)+ue+"]";return o.push({label:Z,comment:ee}),[kn.freshElement("a",{href:"#"+F("comment",X.commentId),id:U("comment",X.commentId)},[kn.text(Z)])]})}function $(X,Y,ne){var ee=X.label,ue=X.comment,Z=g(ue.body,Y,ne).concat([kn.nonFreshElement("p",{},[kn.text(" "),kn.freshElement("a",{href:"#"+U("comment",ue.commentId)},[kn.text("↑")])])]);return[kn.freshElement("dt",{id:F("comment",ue.commentId)},[kn.text("Comment "+ee)]),kn.freshElement("dd",{},Z)]}function De(X,Y,ne){return ie(X).wrap(function(){return[]})}function ie(X){var Y=T(X);return Y?Y.to:X.breakType==="line"?Fl.topLevelElement("br"):Fl.empty}var ce={document:function(X,Y,ne){var ee=g(X.children,Y,ne),ue=r.map(function(xe){return X.notes.resolve(xe)}),Z=g(ue,Y,ne);return ee.concat([kn.freshElement("ol",{},Z),kn.freshElement("dl",{},L4(o,function(xe){return $(xe,Y,ne)}))])},paragraph:v,run:A,text:function(X,Y,ne){return[kn.text(X.value)]},tab:function(X,Y,ne){return[kn.text("	")]},hyperlink:function(X,Y,ne){var ee=X.anchor?"#"+V(X.anchor):X.href,ue={href:ee};X.targetFrame!=null&&(ue.target=X.targetFrame);var Z=g(X.children,Y,ne);return[kn.nonFreshElement("a",ue,Z)]},checkbox:function(X){var Y={type:"checkbox"};return X.checked&&(Y.checked="checked"),[kn.freshElement("input",Y)]},bookmarkStart:function(X,Y,ne){var ee=kn.freshElement("a",{id:V(X.name)},[kn.forceWrite]);return[ee]},noteReference:function(X,Y,ne){r.push(X);var ee=kn.freshElement("a",{href:"#"+j(X),id:O(X)},[kn.text("["+i+++"]")]);return[kn.freshElement("sup",{},[ee])]},note:function(X,Y,ne){var ee=g(X.body,Y,ne),ue=kn.elementWithTag(Fl.element("p",{},{fresh:!1}),[kn.text(" "),kn.freshElement("a",{href:"#"+O(X)},[kn.text("↑")])]),Z=ee.concat([ue]);return kn.freshElement("li",{id:j(X)},Z)},commentReference:ge,comment:$,image:ZEe(N(n.convertImage||HEe.dataUri)),table:K,tableRow:me,tableCell:Q,break:De};return{convertToHtml:m}}var YEe=1;function ZEe(n){return function(e,i,r){return[{type:"deferred",id:YEe++,value:function(){return n(e,i,r)}}]}}function tH(n,e){return U6.warning("Unrecognised "+n+" style: '"+e.styleName+"' (Style ID: "+e.styleId+")")}function L4(n,e){return Ap.flatten(n.map(e),!0)}function Bee(n,e){n.forEach(function(i){e(i),i.children&&Bee(i.children,e)})}var JEe=cU.commentAuthorLabel=function(e){return e.authorInitials||""},zee={},QEe=_n;function Vee(n){if(n.type==="text")return n.value;if(n.type===QEe.types.tab)return"	";var e=n.type==="paragraph"?`

`:"";return(n.children||[]).map(Vee).join("")+e}zee.convertElementToRawText=Vee;var Q3={},iu={},Wee={},$ee={exports:{}},z1=$ee.exports=function(n,e){this._tokens=n,this._startIndex=e||0};z1.prototype.head=function(){return this._tokens[this._startIndex]};z1.prototype.tail=function(n){return new z1(this._tokens,this._startIndex+1)};z1.prototype.toArray=function(){return this._tokens.slice(this._startIndex)};z1.prototype.end=function(){return this._tokens[this._tokens.length-1]};z1.prototype.to=function(n){var e=this.head().source,i=n.head()||n.end();return e.to(i.source)};var eSe=$ee.exports,tSe=eSe;Wee.Parser=function(n){var e=function(i,r){return i(new tSe(r))};return{parseTokens:e}};var dU={},qee={};(function(n){n.none=Object.create({value:function(){throw new Error("Called value on none")},isNone:function(){return!0},isSome:function(){return!1},map:function(){return n.none},flatMap:function(){return n.none},filter:function(){return n.none},toArray:function(){return[]},orElse:e,valueOrElse:e});function e(r){return typeof r=="function"?r():r}n.some=function(r){return new i(r)};var i=function(r){this._value=r};i.prototype.value=function(){return this._value},i.prototype.isNone=function(){return!1},i.prototype.isSome=function(){return!0},i.prototype.map=function(r){return new i(r(this._value))},i.prototype.flatMap=function(r){return r(this._value)},i.prototype.filter=function(r){return r(this._value)?this:n.none},i.prototype.toArray=function(){return[this._value]},i.prototype.orElse=function(r){return this},i.prototype.valueOrElse=function(r){return this._value},n.isOption=function(r){return r===n.none||r instanceof i},n.fromNullable=function(r){return r==null?n.none:new i(r)}})(qee);var hU={failure:function(n,e){if(n.length<1)throw new Error("Failure must have errors");return new eo({status:"failure",remaining:e,errors:n})},error:function(n,e){if(n.length<1)throw new Error("Failure must have errors");return new eo({status:"error",remaining:e,errors:n})},success:function(n,e,i){return new eo({status:"success",value:n,source:i,remaining:e,errors:[]})},cut:function(n){return new eo({status:"cut",remaining:n,errors:[]})}},eo=function(n){this._value=n.value,this._status=n.status,this._hasValue=n.value!==void 0,this._remaining=n.remaining,this._source=n.source,this._errors=n.errors};eo.prototype.map=function(n){return this._hasValue?new eo({value:n(this._value,this._source),status:this._status,remaining:this._remaining,source:this._source,errors:this._errors}):this};eo.prototype.changeRemaining=function(n){return new eo({value:this._value,status:this._status,remaining:n,source:this._source,errors:this._errors})};eo.prototype.isSuccess=function(){return this._status==="success"||this._status==="cut"};eo.prototype.isFailure=function(){return this._status==="failure"};eo.prototype.isError=function(){return this._status==="error"};eo.prototype.isCut=function(){return this._status==="cut"};eo.prototype.value=function(){return this._value};eo.prototype.remaining=function(){return this._remaining};eo.prototype.source=function(){return this._source};eo.prototype.errors=function(){return this._errors};var fU={};fU.error=function(n){return new eP(n)};var eP=function(n){this.expected=n.expected,this.actual=n.actual,this._location=n.location};eP.prototype.describe=function(){var n=this._location?this._location.describe()+`:
`:"";return n+"Expected "+this.expected+`
but got `+this.actual};eP.prototype.lineNumber=function(){return this._location.lineNumber()};eP.prototype.characterNumber=function(){return this._location.characterNumber()};var Hee={};Hee.fromArray=function(n){var e=0,i=function(){return e<n.length};return new j0({hasNext:i,next:function(){if(i())return n[e++];throw new Error("No more elements")}})};var j0=function(n){this._iterator=n};j0.prototype.map=function(n){var e=this._iterator;return new j0({hasNext:function(){return e.hasNext()},next:function(){return n(e.next())}})};j0.prototype.filter=function(n){var e=this._iterator,i=!1,r=!1,o,l=function(){if(!i)for(i=!0,r=!1;e.hasNext()&&!r;)o=e.next(),r=n(o)};return new j0({hasNext:function(){return l(),r},next:function(){l();var c=o;return i=!1,c}})};j0.prototype.first=function(){var n=this._iterator;return this._iterator.hasNext()?n.next():null};j0.prototype.toArray=function(){for(var n=[];this._iterator.hasNext();)n.push(this._iterator.next());return n};(function(n){var e=lr,i=qee,r=hU,o=fU,l=Hee;n.token=function(v,_){var A=_!==void 0;return function(S){var C=S.head();if(C&&C.name===v&&(!A||C.value===_))return r.success(C.value,S.tail(),C.source);var T=g({name:v,value:_});return y(S,T)}},n.tokenOfType=function(v){return n.token(v)},n.firstOf=function(v,_){return e.isArray(_)||(_=Array.prototype.slice.call(arguments,1)),function(A){return l.fromArray(_).map(function(S){return S(A)}).filter(function(S){return S.isSuccess()||S.isError()}).first()||y(A,v)}},n.then=function(v,_){return function(A){var S=v(A);return S.map||console.log(S),S.map(_)}},n.sequence=function(){var v=Array.prototype.slice.call(arguments,0),_=function(S){var C=e.foldl(v,function(N,j){var O=N.result,F=N.hasCut;if(!O.isSuccess())return{result:O,hasCut:F};var U=j(O.remaining());if(U.isCut())return{result:O,hasCut:!0};if(U.isSuccess()){var V;j.isCaptured?V=O.value().withValue(j,U.value()):V=O.value();var B=U.remaining(),K=S.to(B);return{result:r.success(V,B,K),hasCut:F}}else return F?{result:r.error(U.errors(),U.remaining()),hasCut:F}:{result:U,hasCut:F}},{result:r.success(new c,S),hasCut:!1}).result,T=S.to(C.remaining());return C.map(function(N){return N.withValue(n.sequence.source,T)})};_.head=function(){var S=e.find(v,A);return n.then(_,n.sequence.extract(S))},_.map=function(S){return n.then(_,function(C){return S.apply(this,C.toArray())})};function A(S){return S.isCaptured}return _};var c=function(v,_){this._values=v||{},this._valuesArray=_||[]};c.prototype.withValue=function(v,_){if(v.captureName&&v.captureName in this._values)throw new Error('Cannot add second value for capture "'+v.captureName+'"');var A=e.clone(this._values);A[v.captureName]=_;var S=this._valuesArray.concat([_]);return new c(A,S)},c.prototype.get=function(v){if(v.captureName in this._values)return this._values[v.captureName];throw new Error('No value for capture "'+v.captureName+'"')},c.prototype.toArray=function(){return this._valuesArray},n.sequence.capture=function(v,_){var A=function(){return v.apply(this,arguments)};return A.captureName=_,A.isCaptured=!0,A},n.sequence.extract=function(v){return function(_){return _.get(v)}},n.sequence.applyValues=function(v){var _=Array.prototype.slice.call(arguments,1);return function(A){var S=_.map(function(C){return A.get(C)});return v.apply(this,S)}},n.sequence.source={captureName:"☃source☃"},n.sequence.cut=function(){return function(v){return r.cut(v)}},n.optional=function(v){return function(_){var A=v(_);return A.isSuccess()?A.map(i.some):A.isFailure()?r.success(i.none,_):A}},n.zeroOrMoreWithSeparator=function(v,_){return m(v,_,!1)},n.oneOrMoreWithSeparator=function(v,_){return m(v,_,!0)};var u=n.zeroOrMore=function(v){return function(_){for(var A=[],S;(S=v(_))&&S.isSuccess();)_=S.remaining(),A.push(S.value());return S.isError()?S:r.success(A,_)}};n.oneOrMore=function(v){return n.oneOrMoreWithSeparator(v,h)};function h(v){return r.success(null,v)}var m=function(v,_,A){return function(S){var C=v(S);if(C.isSuccess()){var T=n.sequence.capture(v,"main"),N=u(n.then(n.sequence(_,T),n.sequence.extract(T))),j=N(C.remaining());return r.success([C.value()].concat(j.value()),j.remaining())}else return A||C.isError()?C:r.success([],S)}};n.leftAssociative=function(v,_,A){var S;A?S=[{func:A,rule:_}]:S=_,S=S.map(function(T){return n.then(T.rule,function(N){return function(j,O){return T.func(j,N,O)}})});var C=n.firstOf.apply(null,["rules"].concat(S));return function(T){var N=T,j=v(T);if(!j.isSuccess())return j;for(var O=C(j.remaining());O.isSuccess();){var F=O.remaining(),U=N.to(O.remaining()),V=O.value();j=r.success(V(j.value(),U),F,U),O=C(j.remaining())}return O.isError()?O:j}},n.leftAssociative.firstOf=function(){return Array.prototype.slice.call(arguments,0)},n.nonConsuming=function(v){return function(_){return v(_).changeRemaining(_)}};var g=function(v){return v.value?v.name+' "'+v.value+'"':v.name};function y(v,_){var A,S=v.head();return S?A=o.error({expected:_,actual:g(S),location:S.source}):A=o.error({expected:_,actual:"end of tokens"}),r.failure([A],v)}})(dU);var Gee={exports:{}};Gee.exports=function(n,e){var i={asString:function(){return n},range:function(r,o){return new I0(n,e,r,o)}};return i};var I0=function(n,e,i,r){this._string=n,this._description=e,this._startIndex=i,this._endIndex=r};I0.prototype.to=function(n){return new I0(this._string,this._description,this._startIndex,n._endIndex)};I0.prototype.describe=function(){var n=this._position(),e=this._description?this._description+`
`:"";return e+"Line number: "+n.lineNumber+`
Character number: `+n.characterNumber};I0.prototype.lineNumber=function(){return this._position().lineNumber};I0.prototype.characterNumber=function(){return this._position().characterNumber};I0.prototype._position=function(){for(var n=this,e=0,i=function(){return n._string.indexOf(`
`,e)},r=1;i()!==-1&&i()<this._startIndex;)e=i()+1,r+=1;var o=this._startIndex-e+1;return{lineNumber:r,characterNumber:o}};var Xee=Gee.exports,Kee=function(n,e,i){this.name=n,this.value=e,i&&(this.source=i)},Yee={};(function(n){var e=dU,i=hU;n.parser=function(l,c,u){var h={rule:v,leftAssociative:_,rightAssociative:A},m=new r(u.map(y)),g=e.firstOf(l,c);function y(T){return{name:T.name,rule:o(T.ruleBuilder.bind(null,h))}}function v(){return S(m)}function _(T){return S(m.untilExclusive(T))}function A(T){return S(m.untilInclusive(T))}function S(T){return C.bind(null,T)}function C(T,N){var j=g(N);return j.isSuccess()?T.apply(j):j}return h};function r(l){function c(y){return new r(l.slice(0,h().indexOf(y)))}function u(y){return new r(l.slice(0,h().indexOf(y)+1))}function h(){return l.map(function(y){return y.name})}function m(y){for(var v,_;;)if(v=g(y.remaining()),v.isSuccess())_=y.source().to(v.source()),y=i.success(v.value()(y.value(),_),v.remaining(),_);else return v.isFailure()?y:v}function g(y){return e.firstOf("infix",l.map(function(v){return v.rule}))(y)}return{apply:m,untilExclusive:c,untilInclusive:u}}n.infix=function(l,c){function u(h){return n.infix(l,function(m){var g=c(m);return function(y){var v=g(y);return v.map(function(_){return function(A,S){return h(A,_,S)}})}})}return{name:l,ruleBuilder:c,map:u}};var o=function(l){var c;return function(u){return c||(c=l()),c(u)}}})(Yee);var Zee={},B4=Kee,nSe=Xee;Zee.RegexTokeniser=iSe;function iSe(n){n=n.map(function(o){return{name:o.name,regex:new RegExp(o.regex.source,"g")}});function e(o,l){for(var c=new nSe(o,l),u=0,h=[];u<o.length;){var m=i(o,u,c);u=m.endIndex,h.push(m.token)}return h.push(r(o,c)),h}function i(o,l,c){for(var u=0;u<n.length;u++){var h=n[u].regex;h.lastIndex=l;var m=h.exec(o);if(m){var y=l+m[0].length;if(m.index===l&&y>l){var g=m[1],v=new B4(n[u].name,g,c.range(l,y));return{token:v,endIndex:y}}}}var y=l+1,v=new B4("unrecognisedCharacter",o.substring(l,y),c.range(l,y));return{token:v,endIndex:y}}function r(o,l){return new B4("end",null,l.range(o.length,o.length))}return{tokenise:e}}iu.Parser=Wee.Parser;iu.rules=dU;iu.errors=fU;iu.results=hU;iu.StringSource=Xee;iu.Token=Kee;iu.bottomUp=Yee;iu.RegexTokeniser=Zee.RegexTokeniser;iu.rule=function(n){var e;return function(i){return e||(e=n()),e(i)}};var Ps={};Ps.paragraph=rSe;Ps.run=sSe;Ps.table=oSe;Ps.bold=new ru("bold");Ps.italic=new ru("italic");Ps.underline=new ru("underline");Ps.strikethrough=new ru("strikethrough");Ps.allCaps=new ru("allCaps");Ps.smallCaps=new ru("smallCaps");Ps.highlight=aSe;Ps.commentReference=new ru("commentReference");Ps.lineBreak=new tP({breakType:"line"});Ps.pageBreak=new tP({breakType:"page"});Ps.columnBreak=new tP({breakType:"column"});Ps.equalTo=cSe;Ps.startsWith=uSe;function rSe(n){return new ru("paragraph",n)}function sSe(n){return new ru("run",n)}function oSe(n){return new ru("table",n)}function aSe(n){return new Jee(n)}function ru(n,e){e=e||{},this._elementType=n,this._styleId=e.styleId,this._styleName=e.styleName,e.list&&(this._listIndex=e.list.levelIndex,this._listIsOrdered=e.list.isOrdered)}ru.prototype.matches=function(n){return n.type===this._elementType&&(this._styleId===void 0||n.styleId===this._styleId)&&(this._styleName===void 0||n.styleName&&this._styleName.operator(this._styleName.operand,n.styleName))&&(this._listIndex===void 0||lSe(n,this._listIndex,this._listIsOrdered))&&(this._breakType===void 0||this._breakType===n.breakType)};function Jee(n){n=n||{},this._color=n.color}Jee.prototype.matches=function(n){return n.type==="highlight"&&(this._color===void 0||n.color===this._color)};function tP(n){n=n||{},this._breakType=n.breakType}tP.prototype.matches=function(n){return n.type==="break"&&(this._breakType===void 0||n.breakType===this._breakType)};function lSe(n,e,i){return n.numbering&&n.numbering.level==e&&n.numbering.isOrdered==i}function cSe(n){return{operator:dSe,operand:n}}function uSe(n){return{operator:hSe,operand:n}}function dSe(n,e){return n.toUpperCase()===e.toUpperCase()}function hSe(n,e){return e.toUpperCase().indexOf(n.toUpperCase())===0}var Qee={},fSe=iu,pSe=fSe.RegexTokeniser;Qee.tokenise=mSe;var nH="'((?:\\\\.|[^'])*)";function mSe(n){var e="(?:[a-zA-Z\\-_]|\\\\.)",i=new pSe([{name:"identifier",regex:new RegExp("("+e+"(?:"+e+"|[0-9])*)")},{name:"dot",regex:/\./},{name:"colon",regex:/:/},{name:"gt",regex:/>/},{name:"whitespace",regex:/\s+/},{name:"arrow",regex:/=>/},{name:"equals",regex:/=/},{name:"startsWith",regex:/\^=/},{name:"open-paren",regex:/\(/},{name:"close-paren",regex:/\)/},{name:"open-square-bracket",regex:/\[/},{name:"close-square-bracket",regex:/\]/},{name:"string",regex:new RegExp(nH+"'")},{name:"unterminated-string",regex:new RegExp(nH)},{name:"integer",regex:/([0-9]+)/},{name:"choice",regex:/\|/},{name:"bang",regex:/(!)/}]);return i.tokenise(n)}var gSe=lr,ot=iu,$s=Ps,RD=J3(),bSe=Qee.tokenise,z4=sl;Q3.readHtmlPath=xSe;Q3.readDocumentMatcher=wSe;Q3.readStyle=ySe;function ySe(n){return pU(DSe,n)}function vSe(){return ot.rules.sequence(ot.rules.sequence.capture(ete()),ot.rules.tokenOfType("whitespace"),ot.rules.tokenOfType("arrow"),ot.rules.sequence.capture(ot.rules.optional(ot.rules.sequence(ot.rules.tokenOfType("whitespace"),ot.rules.sequence.capture(tte())).head())),ot.rules.tokenOfType("end")).map(function(n,e){return{from:n,to:e.valueOrElse(RD.empty)}})}function wSe(n){return pU(ete(),n)}function ete(){var n=ot.rules.sequence,e=function(U,V){return ot.rules.then(ot.rules.token("identifier",U),function(){return V})},i=e("p",$s.paragraph),r=e("r",$s.run),o=ot.rules.firstOf("p or r or table",i,r),l=ot.rules.sequence(ot.rules.tokenOfType("dot"),ot.rules.sequence.cut(),ot.rules.sequence.capture(nP)).map(function(U){return{styleId:U}}),c=ot.rules.firstOf("style name matcher",ot.rules.then(ot.rules.sequence(ot.rules.tokenOfType("equals"),ot.rules.sequence.cut(),ot.rules.sequence.capture(Zv)).head(),function(U){return{styleName:$s.equalTo(U)}}),ot.rules.then(ot.rules.sequence(ot.rules.tokenOfType("startsWith"),ot.rules.sequence.cut(),ot.rules.sequence.capture(Zv)).head(),function(U){return{styleName:$s.startsWith(U)}})),u=ot.rules.sequence(ot.rules.tokenOfType("open-square-bracket"),ot.rules.sequence.cut(),ot.rules.token("identifier","style-name"),ot.rules.sequence.capture(c),ot.rules.tokenOfType("close-square-bracket")).head(),h=ot.rules.firstOf("list type",e("ordered-list",{isOrdered:!0}),e("unordered-list",{isOrdered:!1})),m=n(ot.rules.tokenOfType("colon"),n.capture(h),n.cut(),ot.rules.tokenOfType("open-paren"),n.capture(_Se),ot.rules.tokenOfType("close-paren")).map(function(U,V){return{list:{isOrdered:U.isOrdered,levelIndex:V-1}}});function g(U){var V=ot.rules.firstOf.apply(ot.rules.firstOf,["matcher suffix"].concat(U)),B=ot.rules.zeroOrMore(V);return ot.rules.then(B,function(K){var oe={};return K.forEach(function(me){gSe.extend(oe,me)}),oe})}var y=n(n.capture(o),n.capture(g([l,u,m]))).map(function(U,V){return U(V)}),v=n(ot.rules.token("identifier","table"),n.capture(g([l,u]))).map(function(U){return $s.table(U)}),_=e("b",$s.bold),A=e("i",$s.italic),S=e("u",$s.underline),C=e("strike",$s.strikethrough),T=e("all-caps",$s.allCaps),N=e("small-caps",$s.smallCaps),j=n(ot.rules.token("identifier","highlight"),ot.rules.sequence.capture(ot.rules.optional(ot.rules.sequence(ot.rules.tokenOfType("open-square-bracket"),ot.rules.sequence.cut(),ot.rules.token("identifier","color"),ot.rules.tokenOfType("equals"),ot.rules.sequence.capture(Zv),ot.rules.tokenOfType("close-square-bracket")).head()))).map(function(U){return $s.highlight({color:U.valueOrElse(void 0)})}),O=e("comment-reference",$s.commentReference),F=n(ot.rules.token("identifier","br"),n.cut(),ot.rules.tokenOfType("open-square-bracket"),ot.rules.token("identifier","type"),ot.rules.tokenOfType("equals"),n.capture(Zv),ot.rules.tokenOfType("close-square-bracket")).map(function(U){switch(U){case"line":return $s.lineBreak;case"page":return $s.pageBreak;case"column":return $s.columnBreak}});return ot.rules.firstOf("element type",y,v,_,A,S,C,T,N,j,O,F)}function xSe(n){return pU(tte(),n)}function tte(){var n=ot.rules.sequence.capture,e=ot.rules.tokenOfType("whitespace"),i=ot.rules.then(ot.rules.optional(ot.rules.sequence(ot.rules.tokenOfType("colon"),ot.rules.token("identifier","fresh"))),function(c){return c.map(function(){return!0}).valueOrElse(!1)}),r=ot.rules.then(ot.rules.optional(ot.rules.sequence(ot.rules.tokenOfType("colon"),ot.rules.token("identifier","separator"),ot.rules.tokenOfType("open-paren"),n(Zv),ot.rules.tokenOfType("close-paren")).head()),function(c){return c.valueOrElse("")}),o=ot.rules.oneOrMoreWithSeparator(nP,ot.rules.tokenOfType("choice")),l=ot.rules.sequence(n(o),n(ot.rules.zeroOrMore(ASe)),n(i),n(r)).map(function(c,u,h,m){var g={},y={};return u.forEach(function(v){v.append&&g[v.name]?g[v.name]+=" "+v.value:g[v.name]=v.value}),h&&(y.fresh=!0),m&&(y.separator=m),RD.element(c,g,y)});return ot.rules.firstOf("html path",ot.rules.then(ot.rules.tokenOfType("bang"),function(){return RD.ignore}),ot.rules.then(ot.rules.zeroOrMoreWithSeparator(l,ot.rules.sequence(e,ot.rules.tokenOfType("gt"),e)),RD.elements))}var nP=ot.rules.then(ot.rules.tokenOfType("identifier"),nte),_Se=ot.rules.tokenOfType("integer"),Zv=ot.rules.then(ot.rules.tokenOfType("string"),nte),kSe={n:`
`,r:"\r",t:"	"};function nte(n){return n.replace(/\\(.)/g,function(e,i){return kSe[i]||i})}var ESe=ot.rules.sequence(ot.rules.tokenOfType("open-square-bracket"),ot.rules.sequence.cut(),ot.rules.sequence.capture(nP),ot.rules.tokenOfType("equals"),ot.rules.sequence.capture(Zv),ot.rules.tokenOfType("close-square-bracket")).map(function(n,e){return{name:n,value:e,append:!1}}),SSe=ot.rules.sequence(ot.rules.tokenOfType("dot"),ot.rules.sequence.cut(),ot.rules.sequence.capture(nP)).map(function(n){return{name:"class",value:n,append:!0}}),ASe=ot.rules.firstOf("attribute or class",ESe,SSe);function pU(n,e){var i=bSe(e),r=ot.Parser(),o=r.parseTokens(n,i);return o.isSuccess()?z4.success(o.value()):new z4.Result(null,[z4.warning(CSe(e,o))])}function CSe(n,e){return"Did not understand this style mapping, so ignored it: "+n+`
`+e.errors().map(TSe).join(`
`)}function TSe(n){return"Error was at character number "+n.characterNumber()+": Expected "+n.expected+" but got "+n.actual}var DSe=vSe(),iP={};iP.readOptions=jSe;var ite=lr,NSe=iP._defaultStyleMap=["p.Heading1 => h1:fresh","p.Heading2 => h2:fresh","p.Heading3 => h3:fresh","p.Heading4 => h4:fresh","p.Heading5 => h5:fresh","p.Heading6 => h6:fresh","p[style-name='Heading 1'] => h1:fresh","p[style-name='Heading 2'] => h2:fresh","p[style-name='Heading 3'] => h3:fresh","p[style-name='Heading 4'] => h4:fresh","p[style-name='Heading 5'] => h5:fresh","p[style-name='Heading 6'] => h6:fresh","p[style-name='heading 1'] => h1:fresh","p[style-name='heading 2'] => h2:fresh","p[style-name='heading 3'] => h3:fresh","p[style-name='heading 4'] => h4:fresh","p[style-name='heading 5'] => h5:fresh","p[style-name='heading 6'] => h6:fresh","r[style-name='Strong'] => strong","p[style-name='footnote text'] => p:fresh","r[style-name='footnote reference'] =>","p[style-name='endnote text'] => p:fresh","r[style-name='endnote reference'] =>","p[style-name='annotation text'] => p:fresh","r[style-name='annotation reference'] =>","p[style-name='Footnote'] => p:fresh","r[style-name='Footnote anchor'] =>","p[style-name='Endnote'] => p:fresh","r[style-name='Endnote anchor'] =>","p:unordered-list(1) => ul > li:fresh","p:unordered-list(2) => ul|ol > li > ul > li:fresh","p:unordered-list(3) => ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:ordered-list(1) => ol > li:fresh","p:ordered-list(2) => ul|ol > li > ol > li:fresh","p:ordered-list(3) => ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","r[style-name='Hyperlink'] =>","p[style-name='Normal'] => p:fresh"],PSe=iP._standardOptions={transformDocument:ISe,includeDefaultStyleMap:!0,includeEmbeddedStyleMap:!0};function jSe(n){return n=n||{},ite.extend({},PSe,n,{customStyleMap:iH(n.styleMap),readStyleMap:function(){var e=this.customStyleMap;return this.includeEmbeddedStyleMap&&(e=e.concat(iH(this.embeddedStyleMap))),this.includeDefaultStyleMap&&(e=e.concat(NSe)),e}})}function iH(n){return n?ite.isString(n)?n.split(`
`).map(function(e){return e.trim()}).filter(function(e){return e!==""&&e.charAt(0)!=="#"}):n:[]}function ISe(n){return n}var rte={},rH=is,RSe=ZS;rte.openZip=MSe;function MSe(n){return n.arrayBuffer?rH.resolve(RSe.openArrayBuffer(n.arrayBuffer)):rH.reject(new Error("Could not find file in options"))}var rx={},sH=lr;rx.paragraph=OSe;rx.run=FSe;rx._elements=ote;rx.getDescendantsOfType=USe;rx.getDescendants=ate;function OSe(n){return ste("paragraph",n)}function FSe(n){return ste("run",n)}function ste(n,e){return ote(function(i){return i.type===n?e(i):i})}function ote(n){return function e(i){if(i.children){var r=sH.map(i.children,e);i=sH.extend(i,{children:r})}return n(i)}}function USe(n,e){return ate(n).filter(function(i){return i.type===e})}function ate(n){var e=[];return lte(n,function(i){e.push(i)}),e}function lte(n,e){n.children&&n.children.forEach(function(i){lte(i,e),e(i)})}var cte={},LSe=J3(),BSe=Z3();cte.element=zSe;function zSe(n){return function(e){return BSe.elementWithTag(LSe.element(n),[e])}}var VSe=lr,ute=FF,mU=lU,WSe=cU.DocumentConverter,$Se=zee.convertElementToRawText,qSe=Q3.readStyle,HSe=iP.readOptions,rP=rte,GSe=sl.Result;nu.convertToHtml=XSe;nu.convertToMarkdown=KSe;nu.convert=gU;nu.extractRawText=QSe;nu.images=uU;nu.transforms=rx;nu.underline=cte;nu.embedStyleMap=eAe;nu.readEmbeddedStyleMap=YSe;function XSe(n,e){return gU(n,e)}function KSe(n,e){var i=Object.create(e||{});return i.outputFormat="markdown",gU(n,i)}function gU(n,e){return e=HSe(e),rP.openZip(n).tap(function(i){return mU.readStyleMap(i).then(function(r){e.embeddedStyleMap=r})}).then(function(i){return ute.read(i,n).then(function(r){return r.map(e.transformDocument)}).then(function(r){return ZSe(r,e)})})}function YSe(n){return rP.openZip(n).then(mU.readStyleMap)}function ZSe(n,e){var i=JSe(e.readStyleMap()),r=VSe.extend({},e,{styleMap:i.value}),o=new WSe(r);return n.flatMapThen(function(l){return i.flatMapThen(function(c){return o.convertToHtml(l)})})}function JSe(n){return GSe.combine((n||[]).map(qSe)).map(function(e){return e.filter(function(i){return!!i})})}function QSe(n){return rP.openZip(n).then(ute.read).then(function(e){return e.map($Se)})}function eAe(n,e){return rP.openZip(n).tap(function(i){return mU.writeStyleMap(i,e)}).then(function(i){return i.toArrayBuffer()}).then(function(i){return{toArrayBuffer:function(){return i},toBuffer:function(){return Buffer.from(i)}}})}nu.styleMapping=function(){throw new Error(`Use a raw string instead of mammoth.styleMapping e.g. "p[style-name='Title'] => h1" instead of mammoth.styleMapping("p[style-name='Title'] => h1")`)};const Ao=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),L6=[.001,0,0,.001,0,0],V4=1.35,Xa={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Pp={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},tAe="pdfjs_internal_editor_",dn={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},En={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},nAe={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},qs={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},MD={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},mr={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Ev={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},sP={ERRORS:0,WARNINGS:1,INFOS:5},aN={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},oD={moveTo:0,lineTo:1,curveTo:2,closePath:3},iAe={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let oP=sP.WARNINGS;function rAe(n){Number.isInteger(n)&&(oP=n)}function sAe(){return oP}function aP(n){oP>=sP.INFOS&&console.log(`Info: ${n}`)}function hn(n){oP>=sP.WARNINGS&&console.log(`Warning: ${n}`)}function ri(n){throw new Error(n)}function yr(n,e){n||ri(e)}function oAe(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function dte(n,e=null,i=null){if(!n)return null;if(i&&typeof n=="string"){if(i.addDefaultProtocol&&n.startsWith("www.")){const o=n.match(/\./g);(o==null?void 0:o.length)>=2&&(n=`http://${n}`)}if(i.tryConvertEncoding)try{n=dAe(n)}catch{}}const r=e?URL.parse(n,e):URL.parse(n);return oAe(r)?r:null}function hte(n,e,i=!1){const r=URL.parse(n);return r?(r.hash=e,r.href):i&&dte(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function yn(n,e,i,r=!1){return Object.defineProperty(n,e,{value:i,enumerable:!r,configurable:!0,writable:!1}),i}const G0=function(){function e(i,r){this.message=i,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class oH extends G0{constructor(e,i){super(e,"PasswordException"),this.code=i}}class W4 extends G0{constructor(e,i){super(e,"UnknownErrorException"),this.details=i}}class B6 extends G0{constructor(e){super(e,"InvalidPDFException")}}class lN extends G0{constructor(e,i,r){super(e,"ResponseException"),this.status=i,this.missing=r}}class aAe extends G0{constructor(e){super(e,"FormatError")}}class Mm extends G0{constructor(e){super(e,"AbortException")}}function fte(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&ri("Invalid argument for bytesToString");const e=n.length,i=8192;if(e<i)return String.fromCharCode.apply(null,n);const r=[];for(let o=0;o<e;o+=i){const l=Math.min(o+i,e),c=n.subarray(o,l);r.push(String.fromCharCode.apply(null,c))}return r.join("")}function nA(n){typeof n!="string"&&ri("Invalid argument for stringToBytes");const e=n.length,i=new Uint8Array(e);for(let r=0;r<e;++r)i[r]=n.charCodeAt(r)&255;return i}function lAe(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function cAe(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function uAe(){try{return new Function(""),!0}catch{return!1}}class Cs{static get isLittleEndian(){return yn(this,"isLittleEndian",cAe())}static get isEvalSupported(){return yn(this,"isEvalSupported",uAe())}static get isOffscreenCanvasSupported(){return yn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return yn(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){if(typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"){const{platform:e,userAgent:i}=navigator;return yn(this,"platform",{isAndroid:i.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:i.includes("Firefox")})}return yn(this,"platform",{isAndroid:!1,isLinux:!1,isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,i;return yn(this,"isCSSRoundSupported",(i=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:i.call(e,"width: round(1.5px, 1px)"))}}const $4=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var tf,OD,z6;class Wt{static makeHexColor(e,i,r){return`#${$4[e]}${$4[i]}${$4[r]}`}static scaleMinMax(e,i){let r;e[0]?(e[0]<0&&(r=i[0],i[0]=i[2],i[2]=r),i[0]*=e[0],i[2]*=e[0],e[3]<0&&(r=i[1],i[1]=i[3],i[3]=r),i[1]*=e[3],i[3]*=e[3]):(r=i[0],i[0]=i[1],i[1]=r,r=i[2],i[2]=i[3],i[3]=r,e[1]<0&&(r=i[1],i[1]=i[3],i[3]=r),i[1]*=e[1],i[3]*=e[1],e[2]<0&&(r=i[0],i[0]=i[2],i[2]=r),i[0]*=e[2],i[2]*=e[2]),i[0]+=e[4],i[1]+=e[5],i[2]+=e[4],i[3]+=e[5]}static transform(e,i){return[e[0]*i[0]+e[2]*i[1],e[1]*i[0]+e[3]*i[1],e[0]*i[2]+e[2]*i[3],e[1]*i[2]+e[3]*i[3],e[0]*i[4]+e[2]*i[5]+e[4],e[1]*i[4]+e[3]*i[5]+e[5]]}static applyTransform(e,i,r=0){const o=e[r],l=e[r+1];e[r]=o*i[0]+l*i[2]+i[4],e[r+1]=o*i[1]+l*i[3]+i[5]}static applyTransformToBezier(e,i,r=0){const o=i[0],l=i[1],c=i[2],u=i[3],h=i[4],m=i[5];for(let g=0;g<6;g+=2){const y=e[r+g],v=e[r+g+1];e[r+g]=y*o+v*c+h,e[r+g+1]=y*l+v*u+m}}static applyInverseTransform(e,i){const r=e[0],o=e[1],l=i[0]*i[3]-i[1]*i[2];e[0]=(r*i[3]-o*i[2]+i[2]*i[5]-i[4]*i[3])/l,e[1]=(-r*i[1]+o*i[0]+i[4]*i[1]-i[5]*i[0])/l}static axialAlignedBoundingBox(e,i,r){const o=i[0],l=i[1],c=i[2],u=i[3],h=i[4],m=i[5],g=e[0],y=e[1],v=e[2],_=e[3];let A=o*g+h,S=A,C=o*v+h,T=C,N=u*y+m,j=N,O=u*_+m,F=O;if(l!==0||c!==0){const U=l*g,V=l*v,B=c*y,K=c*_;A+=B,T+=B,C+=K,S+=K,N+=U,F+=U,O+=V,j+=V}r[0]=Math.min(r[0],A,C,S,T),r[1]=Math.min(r[1],N,O,j,F),r[2]=Math.max(r[2],A,C,S,T),r[3]=Math.max(r[3],N,O,j,F)}static inverseTransform(e){const i=e[0]*e[3]-e[1]*e[2];return[e[3]/i,-e[1]/i,-e[2]/i,e[0]/i,(e[2]*e[5]-e[4]*e[3])/i,(e[4]*e[1]-e[5]*e[0])/i]}static singularValueDecompose2dScale(e,i){const r=e[0],o=e[1],l=e[2],c=e[3],u=r**2+o**2,h=r*l+o*c,m=l**2+c**2,g=(u+m)/2,y=Math.sqrt(g**2-(u*m-h**2));i[0]=Math.sqrt(g+y||1),i[1]=Math.sqrt(g-y||1)}static normalizeRect(e){const i=e.slice(0);return e[0]>e[2]&&(i[0]=e[2],i[2]=e[0]),e[1]>e[3]&&(i[1]=e[3],i[3]=e[1]),i}static intersect(e,i){const r=Math.max(Math.min(e[0],e[2]),Math.min(i[0],i[2])),o=Math.min(Math.max(e[0],e[2]),Math.max(i[0],i[2]));if(r>o)return null;const l=Math.max(Math.min(e[1],e[3]),Math.min(i[1],i[3])),c=Math.min(Math.max(e[1],e[3]),Math.max(i[1],i[3]));return l>c?null:[r,l,o,c]}static pointBoundingBox(e,i,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],i),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],i)}static rectBoundingBox(e,i,r,o,l){l[0]=Math.min(l[0],e,r),l[1]=Math.min(l[1],i,o),l[2]=Math.max(l[2],e,r),l[3]=Math.max(l[3],i,o)}static bezierBoundingBox(e,i,r,o,l,c,u,h,m){m[0]=Math.min(m[0],e,u),m[1]=Math.min(m[1],i,h),m[2]=Math.max(m[2],e,u),m[3]=Math.max(m[3],i,h),fe(this,tf,z6).call(this,e,r,l,u,i,o,c,h,3*(-e+3*(r-l)+u),6*(e-2*r+l),3*(r-e),m),fe(this,tf,z6).call(this,e,r,l,u,i,o,c,h,3*(-i+3*(o-c)+h),6*(i-2*o+c),3*(o-i),m)}}tf=new WeakSet,OD=function(e,i,r,o,l,c,u,h,m,g){if(m<=0||m>=1)return;const y=1-m,v=m*m,_=v*m,A=y*(y*(y*e+3*m*i)+3*v*r)+_*o,S=y*(y*(y*l+3*m*c)+3*v*u)+_*h;g[0]=Math.min(g[0],A),g[1]=Math.min(g[1],S),g[2]=Math.max(g[2],A),g[3]=Math.max(g[3],S)},z6=function(e,i,r,o,l,c,u,h,m,g,y,v){if(Math.abs(m)<1e-12){Math.abs(g)>=1e-12&&fe(this,tf,OD).call(this,e,i,r,o,l,c,u,h,-y/g,v);return}const _=g**2-4*y*m;if(_<0)return;const A=Math.sqrt(_),S=2*m;fe(this,tf,OD).call(this,e,i,r,o,l,c,u,h,(-g+A)/S,v),fe(this,tf,OD).call(this,e,i,r,o,l,c,u,h,(-g-A)/S,v)},he(Wt,tf);function dAe(n){return decodeURIComponent(escape(n))}let q4=null,aH=null;function hAe(n){return q4||(q4=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,aH=new Map([["ﬅ","ſt"]])),n.replaceAll(q4,(e,i,r)=>i?i.normalize("NFKC"):aH.get(r))}function pte(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),fte(n)}const bU="pdfjs_internal_id_";function fAe(n,e,i){if(!Array.isArray(i)||i.length<2)return!1;const[r,o,...l]=i;if(!n(r)&&!Number.isInteger(r)||!e(o))return!1;const c=l.length;let u=!0;switch(o.name){case"XYZ":if(c<2||c>3)return!1;break;case"Fit":case"FitB":return c===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(c>1)return!1;break;case"FitR":if(c!==4)return!1;u=!1;break;default:return!1}for(const h of l)if(!(typeof h=="number"||u&&h===null))return!1;return!0}function Co(n,e,i){return Math.min(Math.max(n,e),i)}function mte(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(fte(n))}function pAe(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):nA(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(i=>{i(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,i)=>e+i,0)});const fh="http://www.w3.org/2000/svg",rb=class rb{};mt(rb,"CSS",96),mt(rb,"PDF",72),mt(rb,"PDF_TO_CSS_UNITS",rb.CSS/rb.PDF);let Om=rb;async function iA(n,e="text"){if(Sv(n,document.baseURI)){const i=await fetch(n);if(!i.ok)throw new Error(i.statusText);switch(e){case"arraybuffer":return i.arrayBuffer();case"blob":return i.blob();case"json":return i.json()}return i.text()}return new Promise((i,r)=>{const o=new XMLHttpRequest;o.open("GET",n,!0),o.responseType=e,o.onreadystatechange=()=>{if(o.readyState===XMLHttpRequest.DONE){if(o.status===200||o.status===0){switch(e){case"arraybuffer":case"blob":case"json":i(o.response);return}i(o.responseText);return}r(new Error(o.statusText))}},o.send(null)})}class rA{constructor({viewBox:e,userUnit:i,scale:r,rotation:o,offsetX:l=0,offsetY:c=0,dontFlip:u=!1}){this.viewBox=e,this.userUnit=i,this.scale=r,this.rotation=o,this.offsetX=l,this.offsetY=c,r*=i;const h=(e[2]+e[0])/2,m=(e[3]+e[1])/2;let g,y,v,_;switch(o%=360,o<0&&(o+=360),o){case 180:g=-1,y=0,v=0,_=1;break;case 90:g=0,y=1,v=1,_=0;break;case 270:g=0,y=-1,v=-1,_=0;break;case 0:g=1,y=0,v=0,_=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(v=-v,_=-_);let A,S,C,T;g===0?(A=Math.abs(m-e[1])*r+l,S=Math.abs(h-e[0])*r+c,C=(e[3]-e[1])*r,T=(e[2]-e[0])*r):(A=Math.abs(h-e[0])*r+l,S=Math.abs(m-e[1])*r+c,C=(e[2]-e[0])*r,T=(e[3]-e[1])*r),this.transform=[g*r,y*r,v*r,_*r,A-g*r*h-v*r*m,S-y*r*h-_*r*m],this.width=C,this.height=T}get rawDims(){const e=this.viewBox;return yn(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:i=this.rotation,offsetX:r=this.offsetX,offsetY:o=this.offsetY,dontFlip:l=!1}={}){return new rA({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:i,offsetX:r,offsetY:o,dontFlip:l})}convertToViewportPoint(e,i){const r=[e,i];return Wt.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const i=[e[0],e[1]];Wt.applyTransform(i,this.transform);const r=[e[2],e[3]];return Wt.applyTransform(r,this.transform),[i[0],i[1],r[0],r[1]]}convertToPdfPoint(e,i){const r=[e,i];return Wt.applyInverseTransform(r,this.transform),r}}class yU extends G0{constructor(e,i=0){super(e,"RenderingCancelledException"),this.extraDelay=i}}function lP(n){const e=n.length;let i=0;for(;i<e&&n[i].trim()==="";)i++;return n.substring(i,i+5).toLowerCase()==="data:"}function vU(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function mAe(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function gAe(n,e="document.pdf"){if(typeof n!="string")return e;if(lP(n))return hn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const i=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,o=i.exec(n);let l=r.exec(o[1])||r.exec(o[2])||r.exec(o[3]);if(l&&(l=l[0],l.includes("%")))try{l=r.exec(decodeURIComponent(l))[0]}catch{}return l||e}class lH{constructor(){mt(this,"started",Object.create(null));mt(this,"times",[])}time(e){e in this.started&&hn(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||hn(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let i=0;for(const{name:r}of this.times)i=Math.max(r.length,i);for(const{name:r,start:o,end:l}of this.times)e.push(`${r.padEnd(i)} ${l-o}ms
`);return e.join("")}}function Sv(n,e){const i=e?URL.parse(n,e):URL.parse(n);return(i==null?void 0:i.protocol)==="http:"||(i==null?void 0:i.protocol)==="https:"}function eu(n){n.preventDefault()}function gr(n){n.preventDefault(),n.stopPropagation()}var lE;class wU{static toDateObject(e){if(!e||typeof e!="string")return null;P(this,lE)||te(this,lE,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const i=P(this,lE).exec(e);if(!i)return null;const r=parseInt(i[1],10);let o=parseInt(i[2],10);o=o>=1&&o<=12?o-1:0;let l=parseInt(i[3],10);l=l>=1&&l<=31?l:1;let c=parseInt(i[4],10);c=c>=0&&c<=23?c:0;let u=parseInt(i[5],10);u=u>=0&&u<=59?u:0;let h=parseInt(i[6],10);h=h>=0&&h<=59?h:0;const m=i[7]||"Z";let g=parseInt(i[8],10);g=g>=0&&g<=23?g:0;let y=parseInt(i[9],10)||0;return y=y>=0&&y<=59?y:0,m==="-"?(c+=g,u+=y):m==="+"&&(c-=g,u-=y),new Date(Date.UTC(r,o,l,c,u,h))}}lE=new WeakMap,he(wU,lE);function bAe(n,{scale:e=1,rotation:i=0}){const{width:r,height:o}=n.attributes.style,l=[0,0,parseInt(r),parseInt(o)];return new rA({viewBox:l,userUnit:1,scale:e,rotation:i})}function xU(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(hn(`Not a valid color format: "${n}"`),[0,0,0])}function yAe(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const i of n.keys()){e.style.color=i;const r=window.getComputedStyle(e).color;n.set(i,xU(r))}e.remove()}function Ui(n){const{a:e,b:i,c:r,d:o,e:l,f:c}=n.getTransform();return[e,i,r,o,l,c]}function Wu(n){const{a:e,b:i,c:r,d:o,e:l,f:c}=n.getTransform().invertSelf();return[e,i,r,o,l,c]}function R0(n,e,i=!1,r=!0){if(e instanceof rA){const{pageWidth:o,pageHeight:l}=e.rawDims,{style:c}=n,u=Cs.isCSSRoundSupported,h=`var(--total-scale-factor) * ${o}px`,m=`var(--total-scale-factor) * ${l}px`,g=u?`round(down, ${h}, var(--scale-round-x))`:`calc(${h})`,y=u?`round(down, ${m}, var(--scale-round-y))`:`calc(${m})`;!i||e.rotation%180===0?(c.width=g,c.height=y):(c.width=y,c.height=g)}r&&n.setAttribute("data-main-rotation",e.rotation)}class mf{constructor(){const{pixelRatio:e}=mf;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,i,r,o){let l=1/0,c=1/0,u=1/0;r>0&&(l=Math.sqrt(r/(e*i))),o!==-1&&(c=o/e,u=o/i);const h=Math.min(l,c,u);return this.sx>h||this.sy>h?(this.sx=h,this.sy=h,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}}const V6=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var jp,hb,zl,Ip,cE,pw,uE,gN,gte,Es,bte,yte,Mk,vte,FD;const yh=class yh{constructor(e){he(this,Es);he(this,jp,null);he(this,hb,null);he(this,zl);he(this,Ip,null);he(this,cE,null);he(this,pw,null);te(this,zl,e),P(yh,uE)||te(yh,uE,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=te(this,jp,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const i=P(this,zl)._uiManager._signal;e.addEventListener("contextmenu",eu,{signal:i}),e.addEventListener("pointerdown",fe(yh,gN,gte),{signal:i});const r=te(this,Ip,document.createElement("div"));r.className="buttons",e.append(r);const o=P(this,zl).toolbarPosition;if(o){const{style:l}=e,c=P(this,zl)._uiManager.direction==="ltr"?1-o[0]:o[0];l.insetInlineEnd=`${100*c}%`,l.top=`calc(${100*o[1]}% + var(--editor-toolbar-vert-offset))`}return fe(this,Es,vte).call(this),e}get div(){return P(this,jp)}hide(){var e;P(this,jp).classList.add("hidden"),(e=P(this,hb))==null||e.hideDropdown()}show(){var e;P(this,jp).classList.remove("hidden"),(e=P(this,cE))==null||e.shown()}async addAltText(e){const i=await e.render();fe(this,Es,Mk).call(this,i),P(this,Ip).prepend(i,P(this,Es,FD)),te(this,cE,e)}addColorPicker(e){te(this,hb,e);const i=e.renderButton();fe(this,Es,Mk).call(this,i),P(this,Ip).prepend(i,P(this,Es,FD))}async addEditSignatureButton(e){const i=te(this,pw,await e.renderEditButton(P(this,zl)));fe(this,Es,Mk).call(this,i),P(this,Ip).prepend(i,P(this,Es,FD))}updateEditSignatureButton(e){P(this,pw)&&(P(this,pw).title=e)}remove(){var e;P(this,jp).remove(),(e=P(this,hb))==null||e.destroy(),te(this,hb,null)}};jp=new WeakMap,hb=new WeakMap,zl=new WeakMap,Ip=new WeakMap,cE=new WeakMap,pw=new WeakMap,uE=new WeakMap,gN=new WeakSet,gte=function(e){e.stopPropagation()},Es=new WeakSet,bte=function(e){P(this,zl)._focusEventsAllowed=!1,gr(e)},yte=function(e){P(this,zl)._focusEventsAllowed=!0,gr(e)},Mk=function(e){const i=P(this,zl)._uiManager._signal;e.addEventListener("focusin",fe(this,Es,bte).bind(this),{capture:!0,signal:i}),e.addEventListener("focusout",fe(this,Es,yte).bind(this),{capture:!0,signal:i}),e.addEventListener("contextmenu",eu,{signal:i})},vte=function(){const{editorType:e,_uiManager:i}=P(this,zl),r=document.createElement("button");r.className="delete",r.tabIndex=0,r.setAttribute("data-l10n-id",P(yh,uE)[e]),fe(this,Es,Mk).call(this,r),r.addEventListener("click",o=>{i.delete()},{signal:i._signal}),P(this,Ip).append(r)},FD=function(){const e=document.createElement("div");return e.className="divider",e},he(yh,gN),he(yh,uE,null);let W6=yh;var dE,fb,pb,Fm,wte,xte,_te;class vAe{constructor(e){he(this,Fm);he(this,dE,null);he(this,fb,null);he(this,pb);te(this,pb,e)}show(e,i,r){const[o,l]=fe(this,Fm,xte).call(this,i,r),{style:c}=P(this,fb)||te(this,fb,fe(this,Fm,wte).call(this));e.append(P(this,fb)),c.insetInlineEnd=`${100*o}%`,c.top=`calc(${100*l}% + var(--editor-toolbar-vert-offset))`}hide(){P(this,fb).remove()}}dE=new WeakMap,fb=new WeakMap,pb=new WeakMap,Fm=new WeakSet,wte=function(){const e=te(this,fb,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",eu,{signal:P(this,pb)._signal});const i=te(this,dE,document.createElement("div"));return i.className="buttons",e.append(i),fe(this,Fm,_te).call(this),e},xte=function(e,i){let r=0,o=0;for(const l of e){const c=l.y+l.height;if(c<r)continue;const u=l.x+(i?l.width:0);if(c>r){o=u,r=c;continue}i?u>o&&(o=u):u<o&&(o=u)}return[i?1-o:o,r]},_te=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const i=document.createElement("span");e.append(i),i.className="visuallyHidden",i.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=P(this,pb)._signal;e.addEventListener("contextmenu",eu,{signal:r}),e.addEventListener("click",()=>{P(this,pb).highlightSelection("floating_button")},{signal:r}),P(this,dE).append(e)};function _U(n,e,i){for(const r of i)e.addEventListener(r,n[r].bind(n))}var bN;class wAe{constructor(){he(this,bN,0)}get id(){return`${tAe}${wo(this,bN)._++}`}}bN=new WeakMap;var mw,hE,Gs,gw,UD;const DU=class DU{constructor(){he(this,gw);he(this,mw,pte());he(this,hE,0);he(this,Gs,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),o=new Image;o.src=e;const l=o.decode().then(()=>(r.drawImage(o,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return yn(this,"_isSVGFittingCanvas",l)}async getFromFile(e){const{lastModified:i,name:r,size:o,type:l}=e;return fe(this,gw,UD).call(this,`${i}_${r}_${o}_${l}`,e)}async getFromUrl(e){return fe(this,gw,UD).call(this,e,e)}async getFromBlob(e,i){const r=await i;return fe(this,gw,UD).call(this,e,r)}async getFromId(e){P(this,Gs)||te(this,Gs,new Map);const i=P(this,Gs).get(e);if(!i)return null;if(i.bitmap)return i.refCounter+=1,i;if(i.file)return this.getFromFile(i.file);if(i.blobPromise){const{blobPromise:r}=i;return delete i.blobPromise,this.getFromBlob(i.id,r)}return this.getFromUrl(i.url)}getFromCanvas(e,i){P(this,Gs)||te(this,Gs,new Map);let r=P(this,Gs).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const o=new OffscreenCanvas(i.width,i.height);return o.getContext("2d").drawImage(i,0,0),r={bitmap:o.transferToImageBitmap(),id:`image_${P(this,mw)}_${wo(this,hE)._++}`,refCounter:1,isSvg:!1},P(this,Gs).set(e,r),P(this,Gs).set(r.id,r),r}getSvgUrl(e){const i=P(this,Gs).get(e);return i!=null&&i.isSvg?i.svgUrl:null}deleteId(e){var o;P(this,Gs)||te(this,Gs,new Map);const i=P(this,Gs).get(e);if(!i||(i.refCounter-=1,i.refCounter!==0))return;const{bitmap:r}=i;if(!i.url&&!i.file){const l=new OffscreenCanvas(r.width,r.height);l.getContext("bitmaprenderer").transferFromImageBitmap(r),i.blobPromise=l.convertToBlob()}(o=r.close)==null||o.call(r),i.bitmap=null}isValidId(e){return e.startsWith(`image_${P(this,mw)}_`)}};mw=new WeakMap,hE=new WeakMap,Gs=new WeakMap,gw=new WeakSet,UD=async function(e,i){P(this,Gs)||te(this,Gs,new Map);let r=P(this,Gs).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${P(this,mw)}_${wo(this,hE)._++}`,refCounter:0,isSvg:!1});let o;if(typeof i=="string"?(r.url=i,o=await iA(i,"blob")):i instanceof File?o=r.file=i:i instanceof Blob&&(o=i),o.type==="image/svg+xml"){const l=DU._isSVGFittingCanvas,c=new FileReader,u=new Image,h=new Promise((m,g)=>{u.onload=()=>{r.bitmap=u,r.isSvg=!0,m()},c.onload=async()=>{const y=r.svgUrl=c.result;u.src=await l?`${y}#svgView(preserveAspectRatio(none))`:y},u.onerror=c.onerror=g});c.readAsDataURL(o),await h}else r.bitmap=await createImageBitmap(o);r.refCounter=1}catch(o){hn(o),r=null}return P(this,Gs).set(e,r),r&&P(this,Gs).set(r.id,r),r};let $6=DU;var tr,Rp,fE,Fi;class xAe{constructor(e=128){he(this,tr,[]);he(this,Rp,!1);he(this,fE);he(this,Fi,-1);te(this,fE,e)}add({cmd:e,undo:i,post:r,mustExec:o,type:l=NaN,overwriteIfSameType:c=!1,keepUndo:u=!1}){if(o&&e(),P(this,Rp))return;const h={cmd:e,undo:i,post:r,type:l};if(P(this,Fi)===-1){P(this,tr).length>0&&(P(this,tr).length=0),te(this,Fi,0),P(this,tr).push(h);return}if(c&&P(this,tr)[P(this,Fi)].type===l){u&&(h.undo=P(this,tr)[P(this,Fi)].undo),P(this,tr)[P(this,Fi)]=h;return}const m=P(this,Fi)+1;m===P(this,fE)?P(this,tr).splice(0,1):(te(this,Fi,m),m<P(this,tr).length&&P(this,tr).splice(m)),P(this,tr).push(h)}undo(){if(P(this,Fi)===-1)return;te(this,Rp,!0);const{undo:e,post:i}=P(this,tr)[P(this,Fi)];e(),i==null||i(),te(this,Rp,!1),te(this,Fi,P(this,Fi)-1)}redo(){if(P(this,Fi)<P(this,tr).length-1){te(this,Fi,P(this,Fi)+1),te(this,Rp,!0);const{cmd:e,post:i}=P(this,tr)[P(this,Fi)];e(),i==null||i(),te(this,Rp,!1)}}hasSomethingToUndo(){return P(this,Fi)!==-1}hasSomethingToRedo(){return P(this,Fi)<P(this,tr).length-1}cleanType(e){if(P(this,Fi)!==-1){for(let i=P(this,Fi);i>=0;i--)if(P(this,tr)[i].type!==e){P(this,tr).splice(i+1,P(this,Fi)-i),te(this,Fi,i);return}P(this,tr).length=0,te(this,Fi,-1)}}destroy(){te(this,tr,null)}}tr=new WeakMap,Rp=new WeakMap,fE=new WeakMap,Fi=new WeakMap;var yN,kte;class sA{constructor(e){he(this,yN);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:i}=Cs.platform;for(const[r,o,l={}]of e)for(const c of r){const u=c.startsWith("mac+");i&&u?(this.callbacks.set(c.slice(4),{callback:o,options:l}),this.allKeys.add(c.split("+").at(-1))):!i&&!u&&(this.callbacks.set(c,{callback:o,options:l}),this.allKeys.add(c.split("+").at(-1)))}}exec(e,i){if(!this.allKeys.has(i.key))return;const r=this.callbacks.get(fe(this,yN,kte).call(this,i));if(!r)return;const{callback:o,options:{bubbles:l=!1,args:c=[],checker:u=null}}=r;u&&!u(e,i)||(o.bind(e,...c,i)(),l||gr(i))}}yN=new WeakSet,kte=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const i=this.buffer.join("+");return this.buffer.length=0,i};const vN=class vN{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return yAe(e),yn(this,"_colors",e)}convert(e){const i=xU(e);if(!window.matchMedia("(forced-colors: active)").matches)return i;for(const[r,o]of this._colors)if(o.every((l,c)=>l===i[c]))return vN._colorsMapping.get(r);return i}getHexCode(e){const i=this._colors.get(e);return i?Wt.makeHexColor(...i):e}};mt(vN,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let q6=vN;var bw,Ma,Cr,ms,yw,xh,vw,Vl,Mp,Op,ww,mb,Xu,Ic,gb,pE,mE,xw,gE,Ku,Fp,_w,Up,Yu,wN,Lp,bE,Bp,bb,yb,zp,yE,qr,Zn,_h,Vp,vb,vE,wE,Wp,Zu,kh,xE,Wl,yt,LD,H6,Ete,Ste,BD,Ate,Cte,Tte,G6,Dte,X6,K6,Nte,xo,ph,Pte,jte,Y6,Ite,Ok,Z6;const Qv=class Qv{constructor(e,i,r,o,l,c,u,h,m,g,y,v,_,A){he(this,yt);he(this,bw,new AbortController);he(this,Ma,null);he(this,Cr,new Map);he(this,ms,new Map);he(this,yw,null);he(this,xh,null);he(this,vw,null);he(this,Vl,new xAe);he(this,Mp,null);he(this,Op,null);he(this,ww,0);he(this,mb,new Set);he(this,Xu,null);he(this,Ic,null);he(this,gb,new Set);mt(this,"_editorUndoBar",null);he(this,pE,!1);he(this,mE,!1);he(this,xw,!1);he(this,gE,null);he(this,Ku,null);he(this,Fp,null);he(this,_w,null);he(this,Up,!1);he(this,Yu,null);he(this,wN,new wAe);he(this,Lp,!1);he(this,bE,!1);he(this,Bp,null);he(this,bb,null);he(this,yb,null);he(this,zp,null);he(this,yE,null);he(this,qr,dn.NONE);he(this,Zn,new Set);he(this,_h,null);he(this,Vp,null);he(this,vb,null);he(this,vE,null);he(this,wE,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});he(this,Wp,[0,0]);he(this,Zu,null);he(this,kh,null);he(this,xE,null);he(this,Wl,null);const S=this._signal=P(this,bw).signal;te(this,kh,e),te(this,xE,i),te(this,yw,r),te(this,Vp,o),this._eventBus=l,l._on("editingaction",this.onEditingAction.bind(this),{signal:S}),l._on("pagechanging",this.onPageChanging.bind(this),{signal:S}),l._on("scalechanging",this.onScaleChanging.bind(this),{signal:S}),l._on("rotationchanging",this.onRotationChanging.bind(this),{signal:S}),l._on("setpreference",this.onSetPreference.bind(this),{signal:S}),l._on("switchannotationeditorparams",C=>this.updateParams(C.type,C.value),{signal:S}),fe(this,yt,Ate).call(this),fe(this,yt,Nte).call(this),fe(this,yt,G6).call(this),te(this,xh,c.annotationStorage),te(this,gE,c.filterFactory),te(this,vb,u),te(this,_w,h||null),te(this,pE,m),te(this,mE,g),te(this,xw,y),te(this,yE,v||null),this.viewParameters={realScale:Om.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=_||null,this._supportsPinchToZoom=A!==!1}static get _keyboardManager(){const e=Qv.prototype,i=c=>P(c,kh).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),r=(c,{target:u})=>{if(u instanceof HTMLInputElement){const{type:h}=u;return h!=="text"&&h!=="number"}return!0},o=this.TRANSLATE_SMALL,l=this.TRANSLATE_BIG;return yn(this,"_keyboardManager",new sA([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(c,{target:u})=>!(u instanceof HTMLButtonElement)&&P(c,kh).contains(u)&&!c.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(c,{target:u})=>!(u instanceof HTMLButtonElement)&&P(c,kh).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-l,0],checker:i}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[l,0],checker:i}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-l],checker:i}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,l],checker:i}]]))}destroy(){var e,i,r,o,l,c,u,h;(e=P(this,Wl))==null||e.resolve(),te(this,Wl,null),(i=P(this,bw))==null||i.abort(),te(this,bw,null),this._signal=null;for(const m of P(this,ms).values())m.destroy();P(this,ms).clear(),P(this,Cr).clear(),P(this,gb).clear(),(r=P(this,zp))==null||r.clear(),te(this,Ma,null),P(this,Zn).clear(),P(this,Vl).destroy(),(o=P(this,yw))==null||o.destroy(),(l=P(this,Vp))==null||l.destroy(),(c=P(this,Yu))==null||c.hide(),te(this,Yu,null),(u=P(this,yb))==null||u.destroy(),te(this,yb,null),P(this,Ku)&&(clearTimeout(P(this,Ku)),te(this,Ku,null)),P(this,Zu)&&(clearTimeout(P(this,Zu)),te(this,Zu,null)),(h=this._editorUndoBar)==null||h.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return P(this,yE)}get useNewAltTextFlow(){return P(this,mE)}get useNewAltTextWhenAddingImage(){return P(this,xw)}get hcmFilter(){return yn(this,"hcmFilter",P(this,vb)?P(this,gE).addHCMFilter(P(this,vb).foreground,P(this,vb).background):"none")}get direction(){return yn(this,"direction",getComputedStyle(P(this,kh)).direction)}get highlightColors(){return yn(this,"highlightColors",P(this,_w)?new Map(P(this,_w).split(",").map(e=>e.split("=").map(i=>i.trim()))):null)}get highlightColorNames(){return yn(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),te(this,Op,e)}setMainHighlightColorPicker(e){te(this,yb,e)}editAltText(e,i=!1){var r;(r=P(this,yw))==null||r.editAltText(this,e,i)}getSignature(e){var i;(i=P(this,Vp))==null||i.getSignature({uiManager:this,editor:e})}get signatureManager(){return P(this,Vp)}switchToMode(e,i){this._eventBus.on("annotationeditormodechanged",i,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,i){this._eventBus.dispatch("setpreference",{source:this,name:e,value:i})}onSetPreference({name:e,value:i}){switch(e){case"enableNewAltTextWhenAddingImage":te(this,xw,i);break}}onPageChanging({pageNumber:e}){te(this,ww,e-1)}focusMainContainer(){P(this,kh).focus()}findParent(e,i){for(const r of P(this,ms).values()){const{x:o,y:l,width:c,height:u}=r.div.getBoundingClientRect();if(e>=o&&e<=o+c&&i>=l&&i<=l+u)return r}return null}disableUserSelect(e=!1){P(this,xE).classList.toggle("noUserSelect",e)}addShouldRescale(e){P(this,gb).add(e)}removeShouldRescale(e){P(this,gb).delete(e)}onScaleChanging({scale:e}){var i;this.commitOrRemove(),this.viewParameters.realScale=e*Om.PDF_TO_CSS_UNITS;for(const r of P(this,gb))r.onScaleChanging();(i=P(this,Op))==null||i.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:r,anchorOffset:o,focusNode:l,focusOffset:c}=i,u=i.toString(),m=fe(this,yt,LD).call(this,i).closest(".textLayer"),g=this.getSelectionBoxes(m);if(!g)return;i.empty();const y=fe(this,yt,H6).call(this,m),v=P(this,qr)===dn.NONE,_=()=>{y==null||y.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:g,anchorNode:r,anchorOffset:o,focusNode:l,focusOffset:c,text:u}),v&&this.showAllEditors("highlight",!0,!0)};if(v){this.switchToMode(dn.HIGHLIGHT,_);return}_()}addToAnnotationStorage(e){!e.isEmpty()&&P(this,xh)&&!P(this,xh).has(e.id)&&P(this,xh).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,P(this,Up)&&(te(this,Up,!1),fe(this,yt,BD).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const i of P(this,Zn))if(i.div.contains(e)){te(this,bb,[i,e]),i._focusEventsAllowed=!1;break}}focus(){if(!P(this,bb))return;const[e,i]=P(this,bb);te(this,bb,null),i.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),i.focus()}addEditListeners(){fe(this,yt,G6).call(this),fe(this,yt,X6).call(this)}removeEditListeners(){fe(this,yt,Dte).call(this),fe(this,yt,K6).call(this)}dragOver(e){for(const{type:i}of e.dataTransfer.items)for(const r of P(this,Ic))if(r.isHandlingMimeForPasting(i)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const i of e.dataTransfer.items)for(const r of P(this,Ic))if(r.isHandlingMimeForPasting(i.type)){r.paste(i,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=P(this,Ma))==null||r.commitOrRemove(),!this.hasSelection)return;const i=[];for(const o of P(this,Zn)){const l=o.serialize(!0);l&&i.push(l)}i.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(i))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:i}=e;for(const l of i.items)for(const c of P(this,Ic))if(c.isHandlingMimeForPasting(l.type)){c.paste(l,this.currentLayer);return}let r=i.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(l){hn(`paste: "${l.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const o=this.currentLayer;try{const l=[];for(const h of r){const m=await o.deserialize(h);if(!m)return;l.push(m)}const c=()=>{for(const h of l)fe(this,yt,Y6).call(this,h);fe(this,yt,Z6).call(this,l)},u=()=>{for(const h of l)h.remove()};this.addCommands({cmd:c,undo:u,mustExec:!0})}catch(l){hn(`paste: "${l.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),P(this,qr)!==dn.NONE&&!this.isEditorHandlingKeyboard&&Qv._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,P(this,Up)&&(te(this,Up,!1),fe(this,yt,BD).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(fe(this,yt,Cte).call(this),fe(this,yt,X6).call(this),fe(this,yt,xo).call(this,{isEditing:P(this,qr)!==dn.NONE,isEmpty:fe(this,yt,Ok).call(this),hasSomethingToUndo:P(this,Vl).hasSomethingToUndo(),hasSomethingToRedo:P(this,Vl).hasSomethingToRedo(),hasSelectedEditor:!1})):(fe(this,yt,Tte).call(this),fe(this,yt,K6).call(this),fe(this,yt,xo).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!P(this,Ic)){te(this,Ic,e);for(const i of P(this,Ic))fe(this,yt,ph).call(this,i.defaultPropertiesToUpdate)}}getId(){return P(this,wN).id}get currentLayer(){return P(this,ms).get(P(this,ww))}getLayer(e){return P(this,ms).get(e)}get currentPageIndex(){return P(this,ww)}addLayer(e){P(this,ms).set(e.pageIndex,e),P(this,Lp)?e.enable():e.disable()}removeLayer(e){P(this,ms).delete(e.pageIndex)}async updateMode(e,i=null,r=!1){var o,l,c;if(P(this,qr)!==e&&!(P(this,Wl)&&(await P(this,Wl).promise,!P(this,Wl)))){if(te(this,Wl,Promise.withResolvers()),(o=P(this,Op))==null||o.commitOrRemove(),te(this,qr,e),e===dn.NONE){this.setEditingState(!1),fe(this,yt,jte).call(this),(l=this._editorUndoBar)==null||l.hide(),P(this,Wl).resolve();return}e===dn.SIGNATURE&&await((c=P(this,Vp))==null?void 0:c.loadSignatures()),this.setEditingState(!0),await fe(this,yt,Pte).call(this),this.unselectAll();for(const u of P(this,ms).values())u.updateMode(e);if(!i){r&&this.addNewEditorFromKeyboard(),P(this,Wl).resolve();return}for(const u of P(this,Cr).values())u.annotationElementId===i?(this.setSelected(u),u.enterInEditMode()):u.unselect();P(this,Wl).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==P(this,qr)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,i){var r;if(P(this,Ic)){switch(e){case En.CREATE:this.currentLayer.addNewEditor(i);return;case En.HIGHLIGHT_DEFAULT_COLOR:(r=P(this,yb))==null||r.updateColor(i);break;case En.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(P(this,vE)||te(this,vE,new Map)).set(e,i),this.showAllEditors("highlight",i);break}for(const o of P(this,Zn))o.updateParams(e,i);for(const o of P(this,Ic))o.updateDefaultParams(e,i)}}showAllEditors(e,i,r=!1){var l;for(const c of P(this,Cr).values())c.editorType===e&&c.show(i);(((l=P(this,vE))==null?void 0:l.get(En.HIGHLIGHT_SHOW_ALL))??!0)!==i&&fe(this,yt,ph).call(this,[[En.HIGHLIGHT_SHOW_ALL,i]])}enableWaiting(e=!1){if(P(this,bE)!==e){te(this,bE,e);for(const i of P(this,ms).values())e?i.disableClick():i.enableClick(),i.div.classList.toggle("waiting",e)}}getEditors(e){const i=[];for(const r of P(this,Cr).values())r.pageIndex===e&&i.push(r);return i}getEditor(e){return P(this,Cr).get(e)}addEditor(e){P(this,Cr).set(e.id,e)}removeEditor(e){var i,r;e.div.contains(document.activeElement)&&(P(this,Ku)&&clearTimeout(P(this,Ku)),te(this,Ku,setTimeout(()=>{this.focusMainContainer(),te(this,Ku,null)},0))),P(this,Cr).delete(e.id),e.annotationElementId&&((i=P(this,zp))==null||i.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!P(this,mb).has(e.annotationElementId))&&((r=P(this,xh))==null||r.remove(e.id))}addDeletedAnnotationElement(e){P(this,mb).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return P(this,mb).has(e)}removeDeletedAnnotationElement(e){P(this,mb).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){P(this,Ma)!==e&&(te(this,Ma,e),e&&fe(this,yt,ph).call(this,e.propertiesToUpdate))}updateUI(e){P(this,yt,Ite)===e&&fe(this,yt,ph).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){fe(this,yt,ph).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(P(this,Zn).has(e)){P(this,Zn).delete(e),e.unselect(),fe(this,yt,xo).call(this,{hasSelectedEditor:this.hasSelection});return}P(this,Zn).add(e),e.select(),fe(this,yt,ph).call(this,e.propertiesToUpdate),fe(this,yt,xo).call(this,{hasSelectedEditor:!0})}setSelected(e){var i;(i=P(this,Op))==null||i.commitOrRemove();for(const r of P(this,Zn))r!==e&&r.unselect();P(this,Zn).clear(),P(this,Zn).add(e),e.select(),fe(this,yt,ph).call(this,e.propertiesToUpdate),fe(this,yt,xo).call(this,{hasSelectedEditor:!0})}isSelected(e){return P(this,Zn).has(e)}get firstSelectedEditor(){return P(this,Zn).values().next().value}unselect(e){e.unselect(),P(this,Zn).delete(e),fe(this,yt,xo).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return P(this,Zn).size!==0}get isEnterHandled(){return P(this,Zn).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;P(this,Vl).undo(),fe(this,yt,xo).call(this,{hasSomethingToUndo:P(this,Vl).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:fe(this,yt,Ok).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){P(this,Vl).redo(),fe(this,yt,xo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:P(this,Vl).hasSomethingToRedo(),isEmpty:fe(this,yt,Ok).call(this)})}addCommands(e){P(this,Vl).add(e),fe(this,yt,xo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:fe(this,yt,Ok).call(this)})}cleanUndoStack(e){P(this,Vl).cleanType(e)}delete(){var l;this.commitOrRemove();const e=(l=this.currentLayer)==null?void 0:l.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const i=e?[e]:[...P(this,Zn)],r=()=>{var c;(c=this._editorUndoBar)==null||c.show(o,i.length===1?i[0].editorType:i.length);for(const u of i)u.remove()},o=()=>{for(const c of i)fe(this,yt,Y6).call(this,c)};this.addCommands({cmd:r,undo:o,mustExec:!0})}commitOrRemove(){var e;(e=P(this,Ma))==null||e.commitOrRemove()}hasSomethingToControl(){return P(this,Ma)||this.hasSelection}selectAll(){for(const e of P(this,Zn))e.commit();fe(this,yt,Z6).call(this,P(this,Cr).values())}unselectAll(){var e;if(!(P(this,Ma)&&(P(this,Ma).commitOrRemove(),P(this,qr)!==dn.NONE))&&!((e=P(this,Op))!=null&&e.commitOrRemove())&&this.hasSelection){for(const i of P(this,Zn))i.unselect();P(this,Zn).clear(),fe(this,yt,xo).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,i,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;P(this,Wp)[0]+=e,P(this,Wp)[1]+=i;const[o,l]=P(this,Wp),c=[...P(this,Zn)],u=1e3;P(this,Zu)&&clearTimeout(P(this,Zu)),te(this,Zu,setTimeout(()=>{te(this,Zu,null),P(this,Wp)[0]=P(this,Wp)[1]=0,this.addCommands({cmd:()=>{for(const h of c)P(this,Cr).has(h.id)&&(h.translateInPage(o,l),h.translationDone())},undo:()=>{for(const h of c)P(this,Cr).has(h.id)&&(h.translateInPage(-o,-l),h.translationDone())},mustExec:!1})},u));for(const h of c)h.translateInPage(e,i),h.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),te(this,Xu,new Map);for(const e of P(this,Zn))P(this,Xu).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!P(this,Xu))return!1;this.disableUserSelect(!1);const e=P(this,Xu);te(this,Xu,null);let i=!1;for(const[{x:o,y:l,pageIndex:c},u]of e)u.newX=o,u.newY=l,u.newPageIndex=c,i||(i=o!==u.savedX||l!==u.savedY||c!==u.savedPageIndex);if(!i)return!1;const r=(o,l,c,u)=>{if(P(this,Cr).has(o.id)){const h=P(this,ms).get(u);h?o._setParentAndPosition(h,l,c):(o.pageIndex=u,o.x=l,o.y=c)}};return this.addCommands({cmd:()=>{for(const[o,{newX:l,newY:c,newPageIndex:u}]of e)r(o,l,c,u)},undo:()=>{for(const[o,{savedX:l,savedY:c,savedPageIndex:u}]of e)r(o,l,c,u)},mustExec:!0}),!0}dragSelectedEditors(e,i){if(P(this,Xu))for(const r of P(this,Xu).keys())r.drag(e,i)}rebuild(e){if(e.parent===null){const i=this.getLayer(e.pageIndex);i?(i.changeParent(e),i.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||P(this,Zn).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return P(this,Ma)===e}getActive(){return P(this,Ma)}getMode(){return P(this,qr)}get imageManager(){return yn(this,"imageManager",new $6)}getSelectionBoxes(e){if(!e)return null;const i=document.getSelection();for(let m=0,g=i.rangeCount;m<g;m++)if(!e.contains(i.getRangeAt(m).commonAncestorContainer))return null;const{x:r,y:o,width:l,height:c}=e.getBoundingClientRect();let u;switch(e.getAttribute("data-main-rotation")){case"90":u=(m,g,y,v)=>({x:(g-o)/c,y:1-(m+y-r)/l,width:v/c,height:y/l});break;case"180":u=(m,g,y,v)=>({x:1-(m+y-r)/l,y:1-(g+v-o)/c,width:y/l,height:v/c});break;case"270":u=(m,g,y,v)=>({x:1-(g+v-o)/c,y:(m-r)/l,width:v/c,height:y/l});break;default:u=(m,g,y,v)=>({x:(m-r)/l,y:(g-o)/c,width:y/l,height:v/c});break}const h=[];for(let m=0,g=i.rangeCount;m<g;m++){const y=i.getRangeAt(m);if(!y.collapsed)for(const{x:v,y:_,width:A,height:S}of y.getClientRects())A===0||S===0||h.push(u(v,_,A,S))}return h.length===0?null:h}addChangedExistingAnnotation({annotationElementId:e,id:i}){(P(this,vw)||te(this,vw,new Map)).set(e,i)}removeChangedExistingAnnotation({annotationElementId:e}){var i;(i=P(this,vw))==null||i.delete(e)}renderAnnotationElement(e){var o;const i=(o=P(this,vw))==null?void 0:o.get(e.data.id);if(!i)return;const r=P(this,xh).getRawValue(i);r&&(P(this,qr)===dn.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,i,r){var l;const o=(l=P(this,zp))==null?void 0:l.get(e);o&&(o.setCanvas(i,r),P(this,zp).delete(e))}addMissingCanvas(e,i){(P(this,zp)||te(this,zp,new Map)).set(e,i)}};bw=new WeakMap,Ma=new WeakMap,Cr=new WeakMap,ms=new WeakMap,yw=new WeakMap,xh=new WeakMap,vw=new WeakMap,Vl=new WeakMap,Mp=new WeakMap,Op=new WeakMap,ww=new WeakMap,mb=new WeakMap,Xu=new WeakMap,Ic=new WeakMap,gb=new WeakMap,pE=new WeakMap,mE=new WeakMap,xw=new WeakMap,gE=new WeakMap,Ku=new WeakMap,Fp=new WeakMap,_w=new WeakMap,Up=new WeakMap,Yu=new WeakMap,wN=new WeakMap,Lp=new WeakMap,bE=new WeakMap,Bp=new WeakMap,bb=new WeakMap,yb=new WeakMap,zp=new WeakMap,yE=new WeakMap,qr=new WeakMap,Zn=new WeakMap,_h=new WeakMap,Vp=new WeakMap,vb=new WeakMap,vE=new WeakMap,wE=new WeakMap,Wp=new WeakMap,Zu=new WeakMap,kh=new WeakMap,xE=new WeakMap,Wl=new WeakMap,yt=new WeakSet,LD=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},H6=function(e){const{currentLayer:i}=this;if(i.hasTextLayer(e))return i;for(const r of P(this,ms).values())if(r.hasTextLayer(e))return r;return null},Ete=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=fe(this,yt,LD).call(this,e).closest(".textLayer"),o=this.getSelectionBoxes(r);o&&(P(this,Yu)||te(this,Yu,new vAe(this)),P(this,Yu).show(r,o,this.direction==="ltr"))},Ste=function(){var l,c,u;const e=document.getSelection();if(!e||e.isCollapsed){P(this,_h)&&((l=P(this,Yu))==null||l.hide(),te(this,_h,null),fe(this,yt,xo).call(this,{hasSelectedText:!1}));return}const{anchorNode:i}=e;if(i===P(this,_h))return;const o=fe(this,yt,LD).call(this,e).closest(".textLayer");if(!o){P(this,_h)&&((c=P(this,Yu))==null||c.hide(),te(this,_h,null),fe(this,yt,xo).call(this,{hasSelectedText:!1}));return}if((u=P(this,Yu))==null||u.hide(),te(this,_h,i),fe(this,yt,xo).call(this,{hasSelectedText:!0}),!(P(this,qr)!==dn.HIGHLIGHT&&P(this,qr)!==dn.NONE)&&(P(this,qr)===dn.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),te(this,Up,this.isShiftKeyDown),!this.isShiftKeyDown)){const h=P(this,qr)===dn.HIGHLIGHT?fe(this,yt,H6).call(this,o):null;h==null||h.toggleDrawing();const m=new AbortController,g=this.combinedSignal(m),y=v=>{v.type==="pointerup"&&v.button!==0||(m.abort(),h==null||h.toggleDrawing(!0),v.type==="pointerup"&&fe(this,yt,BD).call(this,"main_toolbar"))};window.addEventListener("pointerup",y,{signal:g}),window.addEventListener("blur",y,{signal:g})}},BD=function(e=""){P(this,qr)===dn.HIGHLIGHT?this.highlightSelection(e):P(this,pE)&&fe(this,yt,Ete).call(this)},Ate=function(){document.addEventListener("selectionchange",fe(this,yt,Ste).bind(this),{signal:this._signal})},Cte=function(){if(P(this,Fp))return;te(this,Fp,new AbortController);const e=this.combinedSignal(P(this,Fp));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},Tte=function(){var e;(e=P(this,Fp))==null||e.abort(),te(this,Fp,null)},G6=function(){if(P(this,Bp))return;te(this,Bp,new AbortController);const e=this.combinedSignal(P(this,Bp));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},Dte=function(){var e;(e=P(this,Bp))==null||e.abort(),te(this,Bp,null)},X6=function(){if(P(this,Mp))return;te(this,Mp,new AbortController);const e=this.combinedSignal(P(this,Mp));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},K6=function(){var e;(e=P(this,Mp))==null||e.abort(),te(this,Mp,null)},Nte=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},xo=function(e){Object.entries(e).some(([r,o])=>P(this,wE)[r]!==o)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(P(this,wE),e)}),P(this,qr)===dn.HIGHLIGHT&&e.hasSelectedEditor===!1&&fe(this,yt,ph).call(this,[[En.HIGHLIGHT_FREE,!0]]))},ph=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},Pte=async function(){if(!P(this,Lp)){te(this,Lp,!0);const e=[];for(const i of P(this,ms).values())e.push(i.enable());await Promise.all(e);for(const i of P(this,Cr).values())i.enable()}},jte=function(){if(this.unselectAll(),P(this,Lp)){te(this,Lp,!1);for(const e of P(this,ms).values())e.disable();for(const e of P(this,Cr).values())e.disable()}},Y6=function(e){const i=P(this,ms).get(e.pageIndex);i?i.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},Ite=function(){let e=null;for(e of P(this,Zn));return e},Ok=function(){if(P(this,Cr).size===0)return!0;if(P(this,Cr).size===1)for(const e of P(this,Cr).values())return e.isEmpty();return!1},Z6=function(e){for(const i of P(this,Zn))i.unselect();P(this,Zn).clear();for(const i of e)i.isEmpty()||(P(this,Zn).add(i),i.select());fe(this,yt,xo).call(this,{hasSelectedEditor:this.hasSelection})},mt(Qv,"TRANSLATE_SMALL",1),mt(Qv,"TRANSLATE_BIG",10);let M0=Qv;var Hr,Ju,Rc,kw,Qu,Oa,Ew,ed,Yo,Eh,wb,td,$p,Xc,Fk,zD;const _o=class _o{constructor(e){he(this,Xc);he(this,Hr,null);he(this,Ju,!1);he(this,Rc,null);he(this,kw,null);he(this,Qu,null);he(this,Oa,null);he(this,Ew,!1);he(this,ed,null);he(this,Yo,null);he(this,Eh,null);he(this,wb,null);he(this,td,!1);te(this,Yo,e),te(this,td,e._uiManager.useNewAltTextFlow),P(_o,$p)||te(_o,$p,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){_o._l10n??(_o._l10n=e)}async render(){const e=te(this,Rc,document.createElement("button"));e.className="altText",e.tabIndex="0";const i=te(this,kw,document.createElement("span"));e.append(i),P(this,td)?(e.classList.add("new"),e.setAttribute("data-l10n-id",P(_o,$p).missing),i.setAttribute("data-l10n-id",P(_o,$p)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=P(this,Yo)._uiManager._signal;e.addEventListener("contextmenu",eu,{signal:r}),e.addEventListener("pointerdown",l=>l.stopPropagation(),{signal:r});const o=l=>{l.preventDefault(),P(this,Yo)._uiManager.editAltText(P(this,Yo)),P(this,td)&&P(this,Yo)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:P(this,Xc,Fk)}})};return e.addEventListener("click",o,{capture:!0,signal:r}),e.addEventListener("keydown",l=>{l.target===e&&l.key==="Enter"&&(te(this,Ew,!0),o(l))},{signal:r}),await fe(this,Xc,zD).call(this),e}finish(){P(this,Rc)&&(P(this,Rc).focus({focusVisible:P(this,Ew)}),te(this,Ew,!1))}isEmpty(){return P(this,td)?P(this,Hr)===null:!P(this,Hr)&&!P(this,Ju)}hasData(){return P(this,td)?P(this,Hr)!==null||!!P(this,Eh):this.isEmpty()}get guessedText(){return P(this,Eh)}async setGuessedText(e){P(this,Hr)===null&&(te(this,Eh,e),te(this,wb,await _o._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),fe(this,Xc,zD).call(this))}toggleAltTextBadge(e=!1){var i;if(!P(this,td)||P(this,Hr)){(i=P(this,ed))==null||i.remove(),te(this,ed,null);return}if(!P(this,ed)){const r=te(this,ed,document.createElement("div"));r.className="noAltTextBadge",P(this,Yo).div.append(r)}P(this,ed).classList.toggle("hidden",!e)}serialize(e){let i=P(this,Hr);return!e&&P(this,Eh)===i&&(i=P(this,wb)),{altText:i,decorative:P(this,Ju),guessedText:P(this,Eh),textWithDisclaimer:P(this,wb)}}get data(){return{altText:P(this,Hr),decorative:P(this,Ju)}}set data({altText:e,decorative:i,guessedText:r,textWithDisclaimer:o,cancel:l=!1}){r&&(te(this,Eh,r),te(this,wb,o)),!(P(this,Hr)===e&&P(this,Ju)===i)&&(l||(te(this,Hr,e),te(this,Ju,i)),fe(this,Xc,zD).call(this))}toggle(e=!1){P(this,Rc)&&(!e&&P(this,Oa)&&(clearTimeout(P(this,Oa)),te(this,Oa,null)),P(this,Rc).disabled=!e)}shown(){P(this,Yo)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:P(this,Xc,Fk)}})}destroy(){var e,i;(e=P(this,Rc))==null||e.remove(),te(this,Rc,null),te(this,kw,null),te(this,Qu,null),(i=P(this,ed))==null||i.remove(),te(this,ed,null)}};Hr=new WeakMap,Ju=new WeakMap,Rc=new WeakMap,kw=new WeakMap,Qu=new WeakMap,Oa=new WeakMap,Ew=new WeakMap,ed=new WeakMap,Yo=new WeakMap,Eh=new WeakMap,wb=new WeakMap,td=new WeakMap,$p=new WeakMap,Xc=new WeakSet,Fk=function(){return P(this,Hr)&&"added"||P(this,Hr)===null&&this.guessedText&&"review"||"missing"},zD=async function(){var o,l,c;const e=P(this,Rc);if(!e)return;if(P(this,td)){if(e.classList.toggle("done",!!P(this,Hr)),e.setAttribute("data-l10n-id",P(_o,$p)[P(this,Xc,Fk)]),(o=P(this,kw))==null||o.setAttribute("data-l10n-id",P(_o,$p)[`${P(this,Xc,Fk)}-label`]),!P(this,Hr)){(l=P(this,Qu))==null||l.remove();return}}else{if(!P(this,Hr)&&!P(this,Ju)){e.classList.remove("done"),(c=P(this,Qu))==null||c.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let i=P(this,Qu);if(!i){te(this,Qu,i=document.createElement("span")),i.className="tooltip",i.setAttribute("role","tooltip"),i.id=`alt-text-tooltip-${P(this,Yo).id}`;const u=100,h=P(this,Yo)._uiManager._signal;h.addEventListener("abort",()=>{clearTimeout(P(this,Oa)),te(this,Oa,null)},{once:!0}),e.addEventListener("mouseenter",()=>{te(this,Oa,setTimeout(()=>{te(this,Oa,null),P(this,Qu).classList.add("show"),P(this,Yo)._reportTelemetry({action:"alt_text_tooltip"})},u))},{signal:h}),e.addEventListener("mouseleave",()=>{var m;P(this,Oa)&&(clearTimeout(P(this,Oa)),te(this,Oa,null)),(m=P(this,Qu))==null||m.classList.remove("show")},{signal:h})}P(this,Ju)?i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(i.removeAttribute("data-l10n-id"),i.textContent=P(this,Hr)),i.parentNode||e.append(i);const r=P(this,Yo).getElementForAltText();r==null||r.setAttribute("aria-describedby",i.id)},he(_o,$p,null),mt(_o,"_l10n",null);let cN=_o;var Sw,xb,_E,kE,EE,SE,AE,Sh,_b,Ah,kb,Ch,Um,Rte,Mte,Ote;const NU=class NU{constructor({container:e,isPinchingDisabled:i=null,isPinchingStopped:r=null,onPinchStart:o=null,onPinching:l=null,onPinchEnd:c=null,signal:u}){he(this,Um);he(this,Sw);he(this,xb,!1);he(this,_E,null);he(this,kE);he(this,EE);he(this,SE);he(this,AE);he(this,Sh,null);he(this,_b);he(this,Ah,null);he(this,kb);he(this,Ch,null);te(this,Sw,e),te(this,_E,r),te(this,kE,i),te(this,EE,o),te(this,SE,l),te(this,AE,c),te(this,kb,new AbortController),te(this,_b,AbortSignal.any([u,P(this,kb).signal])),e.addEventListener("touchstart",fe(this,Um,Rte).bind(this),{passive:!1,signal:P(this,_b)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/mf.pixelRatio}destroy(){var e,i;(e=P(this,kb))==null||e.abort(),te(this,kb,null),(i=P(this,Sh))==null||i.abort(),te(this,Sh,null)}};Sw=new WeakMap,xb=new WeakMap,_E=new WeakMap,kE=new WeakMap,EE=new WeakMap,SE=new WeakMap,AE=new WeakMap,Sh=new WeakMap,_b=new WeakMap,Ah=new WeakMap,kb=new WeakMap,Ch=new WeakMap,Um=new WeakSet,Rte=function(e){var o,l,c;if((o=P(this,kE))!=null&&o.call(this))return;if(e.touches.length===1){if(P(this,Sh))return;const u=te(this,Sh,new AbortController),h=AbortSignal.any([P(this,_b),u.signal]),m=P(this,Sw),g={capture:!0,signal:h,passive:!1},y=v=>{var _;v.pointerType==="touch"&&((_=P(this,Sh))==null||_.abort(),te(this,Sh,null))};m.addEventListener("pointerdown",v=>{v.pointerType==="touch"&&(gr(v),y(v))},g),m.addEventListener("pointerup",y,g),m.addEventListener("pointercancel",y,g);return}if(!P(this,Ch)){te(this,Ch,new AbortController);const u=AbortSignal.any([P(this,_b),P(this,Ch).signal]),h=P(this,Sw),m={signal:u,capture:!1,passive:!1};h.addEventListener("touchmove",fe(this,Um,Mte).bind(this),m);const g=fe(this,Um,Ote).bind(this);h.addEventListener("touchend",g,m),h.addEventListener("touchcancel",g,m),m.capture=!0,h.addEventListener("pointerdown",gr,m),h.addEventListener("pointermove",gr,m),h.addEventListener("pointercancel",gr,m),h.addEventListener("pointerup",gr,m),(l=P(this,EE))==null||l.call(this)}if(gr(e),e.touches.length!==2||(c=P(this,_E))!=null&&c.call(this)){te(this,Ah,null);return}let[i,r]=e.touches;i.identifier>r.identifier&&([i,r]=[r,i]),te(this,Ah,{touch0X:i.screenX,touch0Y:i.screenY,touch1X:r.screenX,touch1Y:r.screenY})},Mte=function(e){var O;if(!P(this,Ah)||e.touches.length!==2)return;gr(e);let[i,r]=e.touches;i.identifier>r.identifier&&([i,r]=[r,i]);const{screenX:o,screenY:l}=i,{screenX:c,screenY:u}=r,h=P(this,Ah),{touch0X:m,touch0Y:g,touch1X:y,touch1Y:v}=h,_=y-m,A=v-g,S=c-o,C=u-l,T=Math.hypot(S,C)||1,N=Math.hypot(_,A)||1;if(!P(this,xb)&&Math.abs(N-T)<=NU.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(h.touch0X=o,h.touch0Y=l,h.touch1X=c,h.touch1Y=u,!P(this,xb)){te(this,xb,!0);return}const j=[(o+c)/2,(l+u)/2];(O=P(this,SE))==null||O.call(this,j,N,T)},Ote=function(e){var i;e.touches.length>=2||(P(this,Ch)&&(P(this,Ch).abort(),te(this,Ch,null),(i=P(this,AE))==null||i.call(this)),P(this,Ah)&&(gr(e),te(this,Ah,null),te(this,xb,!1)))};let uN=NU;var Eb,Mc,ki,Aw,qp,CE,Sb,gs,Ab,Th,Hp,TE,Cb,Fa,DE,Tb,Dh,nd,Cw,Tw,$l,Db,NE,xN,Jt,J6,PE,Q6,VD,Fte,Ute,eM,WD,tM,Lte,Bte,zte,nM,Vte,iM,Wte,$te,qte,rM,Uk;const gn=class gn{constructor(e){he(this,Jt);he(this,Eb,null);he(this,Mc,null);he(this,ki,null);he(this,Aw,!1);he(this,qp,null);he(this,CE,"");he(this,Sb,!1);he(this,gs,null);he(this,Ab,null);he(this,Th,null);he(this,Hp,null);he(this,TE,"");he(this,Cb,!1);he(this,Fa,null);he(this,DE,!1);he(this,Tb,!1);he(this,Dh,!1);he(this,nd,null);he(this,Cw,0);he(this,Tw,0);he(this,$l,null);he(this,Db,null);mt(this,"_isCopy",!1);mt(this,"_editToolbar",null);mt(this,"_initialOptions",Object.create(null));mt(this,"_initialData",null);mt(this,"_isVisible",!0);mt(this,"_uiManager",null);mt(this,"_focusEventsAllowed",!0);he(this,NE,!1);he(this,xN,gn._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:i,rawDims:{pageWidth:r,pageHeight:o,pageX:l,pageY:c}}=this.parent.viewport;this.rotation=i,this.pageRotation=(360+i-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,o],this.pageTranslation=[l,c];const[u,h]=this.parentDimensions;this.x=e.x/u,this.y=e.y/h,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=gn.prototype._resizeWithKeyboard,i=M0.TRANSLATE_SMALL,r=M0.TRANSLATE_BIG;return yn(this,"_resizerKeyboardManager",new sA([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-i,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[i,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-i]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,i]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],gn.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return yn(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const i=new _Ae({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});i.annotationElementId=e.annotationElementId,i.deleted=!0,i._uiManager.addToAnnotationStorage(i)}static initialize(e,i){if(gn._l10n??(gn._l10n=e),gn._l10nResizer||(gn._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),gn._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);gn._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,i){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,i){ri("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return P(this,NE)}set _isDraggable(e){var i;te(this,NE,e),(i=this.div)==null||i.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,i]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*i/(e*2),this.y+=this.width*e/(i*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*i/(e*2),this.y-=this.width*e/(i*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=P(this,xN)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):fe(this,Jt,Uk).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(P(this,Cb)?te(this,Cb,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const i=e.relatedTarget;i!=null&&i.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,i,r,o){const[l,c]=this.parentDimensions;[r,o]=this.screenToPageTranslation(r,o),this.x=(e+r)/l,this.y=(i+o)/c,this.fixAndSetPosition()}_moveAfterPaste(e,i){const[r,o]=this.parentDimensions;this.setAt(e*r,i*o,this.width*r,this.height*o),this._onTranslated()}translate(e,i){fe(this,Jt,J6).call(this,this.parentDimensions,e,i)}translateInPage(e,i){P(this,Fa)||te(this,Fa,[this.x,this.y,this.width,this.height]),fe(this,Jt,J6).call(this,this.pageDimensions,e,i),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,i){P(this,Fa)||te(this,Fa,[this.x,this.y,this.width,this.height]);const{div:r,parentDimensions:[o,l]}=this;if(this.x+=e/o,this.y+=i/l,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:y,y:v}=this.div.getBoundingClientRect();this.parent.findNewParent(this,y,v)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:c,y:u}=this;const[h,m]=this.getBaseTranslation();c+=h,u+=m;const{style:g}=r;g.left=`${(100*c).toFixed(2)}%`,g.top=`${(100*u).toFixed(2)}%`,this._onTranslating(c,u),r.scrollIntoView({block:"nearest"})}_onTranslating(e,i){}_onTranslated(e,i){}get _hasBeenMoved(){return!!P(this,Fa)&&(P(this,Fa)[0]!==this.x||P(this,Fa)[1]!==this.y)}get _hasBeenResized(){return!!P(this,Fa)&&(P(this,Fa)[2]!==this.width||P(this,Fa)[3]!==this.height)}getBaseTranslation(){const[e,i]=this.parentDimensions,{_borderLineWidth:r}=gn,o=r/e,l=r/i;switch(this.rotation){case 90:return[-o,l];case 180:return[o,l];case 270:return[o,-l];default:return[-o,-l]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:i},pageDimensions:[r,o]}=this;let{x:l,y:c,width:u,height:h}=this;if(u*=r,h*=o,l*=r,c*=o,this._mustFixPosition)switch(e){case 0:l=Co(l,0,r-u),c=Co(c,0,o-h);break;case 90:l=Co(l,0,r-h),c=Co(c,u,o);break;case 180:l=Co(l,u,r),c=Co(c,h,o);break;case 270:l=Co(l,h,r),c=Co(c,0,o-u);break}this.x=l/=r,this.y=c/=o;const[m,g]=this.getBaseTranslation();l+=m,c+=g,i.left=`${(100*l).toFixed(2)}%`,i.top=`${(100*c).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,i){var r;return fe(r=gn,PE,Q6).call(r,e,i,this.parentRotation)}pageTranslationToScreen(e,i){var r;return fe(r=gn,PE,Q6).call(r,e,i,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[i,r]}=this;return[i*e,r*e]}setDims(e,i){const[r,o]=this.parentDimensions,{style:l}=this.div;l.width=`${(100*e/r).toFixed(2)}%`,P(this,Sb)||(l.height=`${(100*i/o).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:i,width:r}=e,o=r.endsWith("%"),l=!P(this,Sb)&&i.endsWith("%");if(o&&l)return;const[c,u]=this.parentDimensions;o||(e.width=`${(100*parseFloat(r)/c).toFixed(2)}%`),!P(this,Sb)&&!l&&(e.height=`${(100*parseFloat(i)/u).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=P(this,ki))==null||e.finish()}async addEditToolbar(){return this._editToolbar||P(this,Tb)?this._editToolbar:(this._editToolbar=new W6(this),this.div.append(this._editToolbar.render()),P(this,ki)&&await this._editToolbar.addAltText(P(this,ki)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=P(this,ki))==null||e.destroy())}addContainer(e){var r;const i=(r=this._editToolbar)==null?void 0:r.div;i?i.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){P(this,ki)||(cN.initialize(gn._l10n),te(this,ki,new cN(this)),P(this,Eb)&&(P(this,ki).data=P(this,Eb),te(this,Eb,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=P(this,ki))==null?void 0:e.data}set altTextData(e){P(this,ki)&&(P(this,ki).data=e)}get guessedAltText(){var e;return(e=P(this,ki))==null?void 0:e.guessedText}async setGuessedAltText(e){var i;await((i=P(this,ki))==null?void 0:i.setGuessedText(e))}serializeAltText(e){var i;return(i=P(this,ki))==null?void 0:i.serialize(e)}hasAltText(){return!!P(this,ki)&&!P(this,ki).isEmpty()}hasAltTextData(){var e;return((e=P(this,ki))==null?void 0:e.hasData())??!1}render(){var c;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=P(this,Aw)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),fe(this,Jt,iM).call(this);const[i,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/i).toFixed(2)}%`,e.style.maxHeight=`${(100*i/r).toFixed(2)}%`);const[o,l]=this.getInitialTranslation();return this.translate(o,l),_U(this,e,["keydown","pointerdown"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(P(this,Db)||te(this,Db,new uN({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:fe(this,Jt,Lte).bind(this),onPinching:fe(this,Jt,Bte).bind(this),onPinchEnd:fe(this,Jt,zte).bind(this),signal:this._uiManager._signal}))),(c=this._uiManager._editorUndoBar)==null||c.hide(),e}pointerdown(e){const{isMac:i}=Cs.platform;if(e.button!==0||e.ctrlKey&&i){e.preventDefault();return}if(te(this,Cb,!0),this._isDraggable){fe(this,Jt,Vte).call(this,e);return}fe(this,Jt,nM).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){P(this,nd)&&clearTimeout(P(this,nd)),te(this,nd,setTimeout(()=>{var e;te(this,nd,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,i,r){e.changeParent(this),this.x=i,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,i,r=this.rotation){const o=this.parentScale,[l,c]=this.pageDimensions,[u,h]=this.pageTranslation,m=e/o,g=i/o,y=this.x*l,v=this.y*c,_=this.width*l,A=this.height*c;switch(r){case 0:return[y+m+u,c-v-g-A+h,y+m+_+u,c-v-g+h];case 90:return[y+g+u,c-v+m+h,y+g+A+u,c-v+m+_+h];case 180:return[y-m-_+u,c-v+g+h,y-m+u,c-v+g+A+h];case 270:return[y-g-A+u,c-v-m-_+h,y-g+u,c-v-m+h];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,i){const[r,o,l,c]=e,u=l-r,h=c-o;switch(this.rotation){case 0:return[r,i-c,u,h];case 90:return[r,i-o,h,u];case 180:return[l,i-o,u,h];case 270:return[l,i-c,h,u];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){te(this,Tb,!0)}disableEditMode(){te(this,Tb,!1)}isInEditMode(){return P(this,Tb)}shouldGetKeyboardEvents(){return P(this,Dh)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:i,bottom:r,right:o}=this.getClientDimensions(),{innerHeight:l,innerWidth:c}=window;return i<c&&o>0&&e<l&&r>0}rebuild(){fe(this,Jt,iM).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,i=null){ri("An editor must be serializable")}static async deserialize(e,i,r){const o=new this.prototype.constructor({parent:i,id:i.getNextId(),uiManager:r});o.rotation=e.rotation,te(o,Eb,e.accessibilityData),o._isCopy=e.isCopy||!1;const[l,c]=o.pageDimensions,[u,h,m,g]=o.getRectInCurrentCoords(e.rect,c);return o.x=u/l,o.y=h/c,o.width=m/l,o.height=g/c,o}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,i;if((e=P(this,Hp))==null||e.abort(),te(this,Hp,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),P(this,nd)&&(clearTimeout(P(this,nd)),te(this,nd,null)),fe(this,Jt,Uk).call(this),this.removeEditToolbar(),P(this,$l)){for(const r of P(this,$l).values())clearTimeout(r);te(this,$l,null)}this.parent=null,(i=P(this,Db))==null||i.destroy(),te(this,Db,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(fe(this,Jt,Fte).call(this),P(this,gs).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),te(this,Th,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const i=P(this,gs).children;if(!P(this,Mc)){te(this,Mc,Array.from(i));const c=fe(this,Jt,Wte).bind(this),u=fe(this,Jt,$te).bind(this),h=this._uiManager._signal;for(const m of P(this,Mc)){const g=m.getAttribute("data-resizer-name");m.setAttribute("role","spinbutton"),m.addEventListener("keydown",c,{signal:h}),m.addEventListener("blur",u,{signal:h}),m.addEventListener("focus",fe(this,Jt,qte).bind(this,g),{signal:h}),m.setAttribute("data-l10n-id",gn._l10nResizer[g])}}const r=P(this,Mc)[0];let o=0;for(const c of i){if(c===r)break;o++}const l=(360-this.rotation+this.parentRotation)%360/90*(P(this,Mc).length/4);if(l!==o){if(l<o)for(let u=0;u<o-l;u++)P(this,gs).append(P(this,gs).firstChild);else if(l>o)for(let u=0;u<l-o;u++)P(this,gs).firstChild.before(P(this,gs).lastChild);let c=0;for(const u of i){const m=P(this,Mc)[c++].getAttribute("data-resizer-name");u.setAttribute("data-l10n-id",gn._l10nResizer[m])}}fe(this,Jt,rM).call(this,0),te(this,Dh,!0),P(this,gs).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,i){P(this,Dh)&&fe(this,Jt,tM).call(this,P(this,TE),{deltaX:e,deltaY:i,fromKeyboard:!0})}_stopResizingWithKeyboard(){fe(this,Jt,Uk).call(this),this.div.focus()}select(){var e,i,r;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var o,l;(o=this.div)!=null&&o.classList.contains("selectedEditor")&&((l=this._editToolbar)==null||l.show())});return}(i=this._editToolbar)==null||i.show(),(r=P(this,ki))==null||r.toggleAltTextBadge(!1)}unselect(){var e,i,r,o,l;(e=P(this,gs))==null||e.classList.add("hidden"),(i=this.div)==null||i.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(o=this._editToolbar)==null||o.hide(),(l=P(this,ki))==null||l.toggleAltTextBadge(!0)}updateParams(e,i){}disableEditing(){}enableEditing(){}enterInEditMode(){}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return P(this,DE)}set isEditing(e){te(this,DE,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,i){te(this,Sb,!0);const r=e/i,{style:o}=this.div;o.aspectRatio=r,o.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,i=!1){if(i){P(this,$l)||te(this,$l,new Map);const{action:r}=e;let o=P(this,$l).get(r);o&&clearTimeout(o),o=setTimeout(()=>{this._reportTelemetry(e),P(this,$l).delete(r),P(this,$l).size===0&&te(this,$l,null)},gn._telemetryTimeout),P(this,$l).set(r,o);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),te(this,Aw,!1)}disable(){this.div&&(this.div.tabIndex=-1),te(this,Aw,!0)}renderAnnotationElement(e){let i=e.container.querySelector(".annotationContent");if(!i)i=document.createElement("div"),i.classList.add("annotationContent",this.editorType),e.container.prepend(i);else if(i.nodeName==="CANVAS"){const r=i;i=document.createElement("div"),i.classList.add("annotationContent",this.editorType),r.before(i)}return i}resetAnnotationElement(e){const{firstChild:i}=e.container;(i==null?void 0:i.nodeName)==="DIV"&&i.classList.contains("annotationContent")&&i.remove()}};Eb=new WeakMap,Mc=new WeakMap,ki=new WeakMap,Aw=new WeakMap,qp=new WeakMap,CE=new WeakMap,Sb=new WeakMap,gs=new WeakMap,Ab=new WeakMap,Th=new WeakMap,Hp=new WeakMap,TE=new WeakMap,Cb=new WeakMap,Fa=new WeakMap,DE=new WeakMap,Tb=new WeakMap,Dh=new WeakMap,nd=new WeakMap,Cw=new WeakMap,Tw=new WeakMap,$l=new WeakMap,Db=new WeakMap,NE=new WeakMap,xN=new WeakMap,Jt=new WeakSet,J6=function([e,i],r,o){[r,o]=this.screenToPageTranslation(r,o),this.x+=r/e,this.y+=o/i,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},PE=new WeakSet,Q6=function(e,i,r){switch(r){case 90:return[i,-e];case 180:return[-e,-i];case 270:return[-i,e];default:return[e,i]}},VD=function(e){switch(e){case 90:{const[i,r]=this.pageDimensions;return[0,-i/r,r/i,0]}case 180:return[-1,0,0,-1];case 270:{const[i,r]=this.pageDimensions;return[0,i/r,-r/i,0]}default:return[1,0,0,1]}},Fte=function(){if(P(this,gs))return;te(this,gs,document.createElement("div")),P(this,gs).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],i=this._uiManager._signal;for(const r of e){const o=document.createElement("div");P(this,gs).append(o),o.classList.add("resizer",r),o.setAttribute("data-resizer-name",r),o.addEventListener("pointerdown",fe(this,Jt,Ute).bind(this,r),{signal:i}),o.addEventListener("contextmenu",eu,{signal:i}),o.tabIndex=-1}this.div.prepend(P(this,gs))},Ute=function(e,i){var g;i.preventDefault();const{isMac:r}=Cs.platform;if(i.button!==0||i.ctrlKey&&r)return;(g=P(this,ki))==null||g.toggle(!1);const o=this._isDraggable;this._isDraggable=!1,te(this,Ab,[i.screenX,i.screenY]);const l=new AbortController,c=this._uiManager.combinedSignal(l);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",fe(this,Jt,tM).bind(this,e),{passive:!0,capture:!0,signal:c}),window.addEventListener("touchmove",gr,{passive:!1,signal:c}),window.addEventListener("contextmenu",eu,{signal:c}),te(this,Th,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const u=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(i.target).cursor;const m=()=>{var y;l.abort(),this.parent.togglePointerEvents(!0),(y=P(this,ki))==null||y.toggle(!0),this._isDraggable=o,this.parent.div.style.cursor=u,this.div.style.cursor=h,fe(this,Jt,WD).call(this)};window.addEventListener("pointerup",m,{signal:c}),window.addEventListener("blur",m,{signal:c})},eM=function(e,i,r,o){this.width=r,this.height=o,this.x=e,this.y=i;const[l,c]=this.parentDimensions;this.setDims(l*r,c*o),this.fixAndSetPosition(),this._onResized()},WD=function(){if(!P(this,Th))return;const{savedX:e,savedY:i,savedWidth:r,savedHeight:o}=P(this,Th);te(this,Th,null);const l=this.x,c=this.y,u=this.width,h=this.height;l===e&&c===i&&u===r&&h===o||this.addCommands({cmd:fe(this,Jt,eM).bind(this,l,c,u,h),undo:fe(this,Jt,eM).bind(this,e,i,r,o),mustExec:!0})},tM=function(e,i){const[r,o]=this.parentDimensions,l=this.x,c=this.y,u=this.width,h=this.height,m=gn.MIN_SIZE/r,g=gn.MIN_SIZE/o,y=fe(this,Jt,VD).call(this,this.rotation),v=(ie,ce)=>[y[0]*ie+y[2]*ce,y[1]*ie+y[3]*ce],_=fe(this,Jt,VD).call(this,360-this.rotation),A=(ie,ce)=>[_[0]*ie+_[2]*ce,_[1]*ie+_[3]*ce];let S,C,T=!1,N=!1;switch(e){case"topLeft":T=!0,S=(ie,ce)=>[0,0],C=(ie,ce)=>[ie,ce];break;case"topMiddle":S=(ie,ce)=>[ie/2,0],C=(ie,ce)=>[ie/2,ce];break;case"topRight":T=!0,S=(ie,ce)=>[ie,0],C=(ie,ce)=>[0,ce];break;case"middleRight":N=!0,S=(ie,ce)=>[ie,ce/2],C=(ie,ce)=>[0,ce/2];break;case"bottomRight":T=!0,S=(ie,ce)=>[ie,ce],C=(ie,ce)=>[0,0];break;case"bottomMiddle":S=(ie,ce)=>[ie/2,ce],C=(ie,ce)=>[ie/2,0];break;case"bottomLeft":T=!0,S=(ie,ce)=>[0,ce],C=(ie,ce)=>[ie,0];break;case"middleLeft":N=!0,S=(ie,ce)=>[0,ce/2],C=(ie,ce)=>[ie,ce/2];break}const j=S(u,h),O=C(u,h);let F=v(...O);const U=gn._round(l+F[0]),V=gn._round(c+F[1]);let B=1,K=1,oe,me;if(i.fromKeyboard)({deltaX:oe,deltaY:me}=i);else{const{screenX:ie,screenY:ce}=i,[X,Y]=P(this,Ab);[oe,me]=this.screenToPageTranslation(ie-X,ce-Y),P(this,Ab)[0]=ie,P(this,Ab)[1]=ce}if([oe,me]=A(oe/r,me/o),T){const ie=Math.hypot(u,h);B=K=Math.max(Math.min(Math.hypot(O[0]-j[0]-oe,O[1]-j[1]-me)/ie,1/u,1/h),m/u,g/h)}else N?B=Co(Math.abs(O[0]-j[0]-oe),m,1)/u:K=Co(Math.abs(O[1]-j[1]-me),g,1)/h;const Q=gn._round(u*B),ge=gn._round(h*K);F=v(...C(Q,ge));const $=U-F[0],De=V-F[1];P(this,Fa)||te(this,Fa,[this.x,this.y,this.width,this.height]),this.width=Q,this.height=ge,this.x=$,this.y=De,this.setDims(r*Q,o*ge),this.fixAndSetPosition(),this._onResizing()},Lte=function(){var e;te(this,Th,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=P(this,ki))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},Bte=function(e,i,r){let l=.7*(r/i)+1-.7;if(l===1)return;const c=fe(this,Jt,VD).call(this,this.rotation),u=(U,V)=>[c[0]*U+c[2]*V,c[1]*U+c[3]*V],[h,m]=this.parentDimensions,g=this.x,y=this.y,v=this.width,_=this.height,A=gn.MIN_SIZE/h,S=gn.MIN_SIZE/m;l=Math.max(Math.min(l,1/v,1/_),A/v,S/_);const C=gn._round(v*l),T=gn._round(_*l);if(C===v&&T===_)return;P(this,Fa)||te(this,Fa,[g,y,v,_]);const N=u(v/2,_/2),j=gn._round(g+N[0]),O=gn._round(y+N[1]),F=u(C/2,T/2);this.x=j-F[0],this.y=O-F[1],this.width=C,this.height=T,this.setDims(h*C,m*T),this.fixAndSetPosition(),this._onResizing()},zte=function(){var e;(e=P(this,ki))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),fe(this,Jt,WD).call(this)},nM=function(e){const{isMac:i}=Cs.platform;e.ctrlKey&&!i||e.shiftKey||e.metaKey&&i?this.parent.toggleSelected(this):this.parent.setSelected(this)},Vte=function(e){const{isSelected:i}=this;this._uiManager.setUpDragSession();let r=!1;const o=new AbortController,l=this._uiManager.combinedSignal(o),c={capture:!0,passive:!1,signal:l},u=m=>{o.abort(),te(this,qp,null),te(this,Cb,!1),this._uiManager.endDragSession()||fe(this,Jt,nM).call(this,m),r&&this._onStopDragging()};i&&(te(this,Cw,e.clientX),te(this,Tw,e.clientY),te(this,qp,e.pointerId),te(this,CE,e.pointerType),window.addEventListener("pointermove",m=>{r||(r=!0,this._onStartDragging());const{clientX:g,clientY:y,pointerId:v}=m;if(v!==P(this,qp)){gr(m);return}const[_,A]=this.screenToPageTranslation(g-P(this,Cw),y-P(this,Tw));te(this,Cw,g),te(this,Tw,y),this._uiManager.dragSelectedEditors(_,A)},c),window.addEventListener("touchmove",gr,c),window.addEventListener("pointerdown",m=>{m.pointerType===P(this,CE)&&(P(this,Db)||m.isPrimary)&&u(m),gr(m)},c));const h=m=>{if(!P(this,qp)||P(this,qp)===m.pointerId){u(m);return}gr(m)};window.addEventListener("pointerup",h,{signal:l}),window.addEventListener("blur",h,{signal:l})},iM=function(){if(P(this,Hp)||!this.div)return;te(this,Hp,new AbortController);const e=this._uiManager.combinedSignal(P(this,Hp));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},Wte=function(e){gn._resizerKeyboardManager.exec(this,e)},$te=function(e){var i;P(this,Dh)&&((i=e.relatedTarget)==null?void 0:i.parentNode)!==P(this,gs)&&fe(this,Jt,Uk).call(this)},qte=function(e){te(this,TE,P(this,Dh)?e:"")},rM=function(e){if(P(this,Mc))for(const i of P(this,Mc))i.tabIndex=e},Uk=function(){te(this,Dh,!1),fe(this,Jt,rM).call(this,-1),fe(this,Jt,WD).call(this)},he(gn,PE),mt(gn,"_l10n",null),mt(gn,"_l10nResizer",null),mt(gn,"_borderLineWidth",-1),mt(gn,"_colorManager",new q6),mt(gn,"_zIndex",1),mt(gn,"_telemetryTimeout",1e3);let mi=gn;class _Ae extends mi{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const cH=3285377520,Ul=4294901760,$u=65535;class Hte{constructor(e){this.h1=e?e&4294967295:cH,this.h2=e?e&4294967295:cH}update(e){let i,r;if(typeof e=="string"){i=new Uint8Array(e.length*2),r=0;for(let S=0,C=e.length;S<C;S++){const T=e.charCodeAt(S);T<=255?i[r++]=T:(i[r++]=T>>>8,i[r++]=T&255)}}else if(ArrayBuffer.isView(e))i=e.slice(),r=i.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const o=r>>2,l=r-o*4,c=new Uint32Array(i.buffer,0,o);let u=0,h=0,m=this.h1,g=this.h2;const y=3432918353,v=461845907,_=y&$u,A=v&$u;for(let S=0;S<o;S++)S&1?(u=c[S],u=u*y&Ul|u*_&$u,u=u<<15|u>>>17,u=u*v&Ul|u*A&$u,m^=u,m=m<<13|m>>>19,m=m*5+3864292196):(h=c[S],h=h*y&Ul|h*_&$u,h=h<<15|h>>>17,h=h*v&Ul|h*A&$u,g^=h,g=g<<13|g>>>19,g=g*5+3864292196);switch(u=0,l){case 3:u^=i[o*4+2]<<16;case 2:u^=i[o*4+1]<<8;case 1:u^=i[o*4],u=u*y&Ul|u*_&$u,u=u<<15|u>>>17,u=u*v&Ul|u*A&$u,o&1?m^=u:g^=u}this.h1=m,this.h2=g}hexdigest(){let e=this.h1,i=this.h2;return e^=i>>>1,e=e*3981806797&Ul|e*36045&$u,i=i*4283543511&Ul|((i<<16|e>>>16)*2950163797&Ul)>>>16,e^=i>>>1,e=e*444984403&Ul|e*60499&$u,i=i*3301882366&Ul|((i<<16|e>>>16)*3120437893&Ul)>>>16,e^=i>>>1,(e>>>0).toString(16).padStart(8,"0")+(i>>>0).toString(16).padStart(8,"0")}}const sM=Object.freeze({map:null,hash:"",transfer:void 0});var Nb,Pb,bs,_N,Gte;class kU{constructor(){he(this,_N);he(this,Nb,!1);he(this,Pb,null);he(this,bs,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,i){const r=P(this,bs).get(e);return r===void 0?i:Object.assign(i,r)}getRawValue(e){return P(this,bs).get(e)}remove(e){if(P(this,bs).delete(e),P(this,bs).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const i of P(this,bs).values())if(i instanceof mi)return;this.onAnnotationEditor(null)}}setValue(e,i){const r=P(this,bs).get(e);let o=!1;if(r!==void 0)for(const[l,c]of Object.entries(i))r[l]!==c&&(o=!0,r[l]=c);else o=!0,P(this,bs).set(e,i);o&&fe(this,_N,Gte).call(this),i instanceof mi&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(i.constructor._type)}has(e){return P(this,bs).has(e)}get size(){return P(this,bs).size}resetModified(){P(this,Nb)&&(te(this,Nb,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Xte(this)}get serializable(){if(P(this,bs).size===0)return sM;const e=new Map,i=new Hte,r=[],o=Object.create(null);let l=!1;for(const[c,u]of P(this,bs)){const h=u instanceof mi?u.serialize(!1,o):u;h&&(e.set(c,h),i.update(`${c}:${JSON.stringify(h)}`),l||(l=!!h.bitmap))}if(l)for(const c of e.values())c.bitmap&&r.push(c.bitmap);return e.size>0?{map:e,hash:i.hexdigest(),transfer:r}:sM}get editorStats(){let e=null;const i=new Map;for(const r of P(this,bs).values()){if(!(r instanceof mi))continue;const o=r.telemetryFinalData;if(!o)continue;const{type:l}=o;i.has(l)||i.set(l,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const c=e[l]||(e[l]=new Map);for(const[u,h]of Object.entries(o)){if(u==="type")continue;let m=c.get(u);m||(m=new Map,c.set(u,m));const g=m.get(h)??0;m.set(h,g+1)}}for(const[r,o]of i)e[r]=o.computeTelemetryFinalData(e[r]);return e}resetModifiedIds(){te(this,Pb,null)}get modifiedIds(){if(P(this,Pb))return P(this,Pb);const e=[];for(const i of P(this,bs).values())!(i instanceof mi)||!i.annotationElementId||!i.serialize()||e.push(i.annotationElementId);return te(this,Pb,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return P(this,bs).entries()}}Nb=new WeakMap,Pb=new WeakMap,bs=new WeakMap,_N=new WeakSet,Gte=function(){P(this,Nb)||(te(this,Nb,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var jE;class Xte extends kU{constructor(i){super();he(this,jE);const{map:r,hash:o,transfer:l}=i.serializable,c=structuredClone(r,l?{transfer:l}:null);te(this,jE,{map:c,hash:o,transfer:l})}get print(){ri("Should not call PrintAnnotationStorage.print")}get serializable(){return P(this,jE)}get modifiedIds(){return yn(this,"modifiedIds",{ids:new Set,hash:""})}}jE=new WeakMap;var Dw;class kAe{constructor({ownerDocument:e=globalThis.document,styleElement:i=null}){he(this,Dw,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const i=this.styleElement.sheet;i.insertRule(e,i.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),P(this,Dw).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:i,_inspectFont:r}){if(!(!e||P(this,Dw).has(e.loadedName))){if(yr(!i,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:o,src:l,style:c}=e,u=new FontFace(o,l,c);this.addNativeFontFace(u);try{await u.load(),P(this,Dw).add(o),r==null||r(e)}catch{hn(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}ri("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(o){throw hn(`Failed to load font '${r.family}': '${o}'.`),e.disableFontFace=!0,o}}return}const i=e.createFontFaceRule();if(i){if(this.insertRule(i),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const o=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,o)})}}get isFontLoadingAPISupported(){var i;const e=!!((i=this._document)!=null&&i.fonts);return yn(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return yn(this,"isSyncFontLoadingSupported",Ao||Cs.platform.isFirefox)}_queueLoadingCallback(e){function i(){for(yr(!o.done,"completeRequest() cannot be called twice."),o.done=!0;r.length>0&&r[0].done;){const l=r.shift();setTimeout(l.callback,0)}}const{loadingRequests:r}=this,o={done:!1,complete:i,callback:e};return r.push(o),o}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return yn(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,i){function r(O,F){return O.charCodeAt(F)<<24|O.charCodeAt(F+1)<<16|O.charCodeAt(F+2)<<8|O.charCodeAt(F+3)&255}function o(O,F,U,V){const B=O.substring(0,F),K=O.substring(F+U);return B+V+K}let l,c;const u=this._document.createElement("canvas");u.width=1,u.height=1;const h=u.getContext("2d");let m=0;function g(O,F){if(++m>30){hn("Load test font never loaded."),F();return}if(h.font="30px "+O,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0){F();return}setTimeout(g.bind(null,O,F))}const y=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=o(v,976,y.length,y);const A=16,S=1482184792;let C=r(v,A);for(l=0,c=y.length-3;l<c;l+=4)C=C-S+r(y,l)|0;l<y.length&&(C=C-S+r(y+"XXX",l)|0),v=o(v,A,4,lAe(C));const T=`url(data:font/opentype;base64,${btoa(v)});`,N=`@font-face {font-family:"${y}";src:${T}}`;this.insertRule(N);const j=this._document.createElement("div");j.style.visibility="hidden",j.style.width=j.style.height="10px",j.style.position="absolute",j.style.top=j.style.left="0px";for(const O of[e.loadedName,y]){const F=this._document.createElement("span");F.textContent="Hi",F.style.fontFamily=O,j.append(F)}this._document.body.append(j),g(y,()=>{j.remove(),i.complete()})}}Dw=new WeakMap;class EAe{constructor(e,i=null){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this._inspectFont=i}createNativeFontFace(){var i;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(i=this._inspectFont)==null||i.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${mte(this.data)});`;let i;if(!this.cssFontInfo)i=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let o=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(o+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),i=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${o}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),i}getPathGenerator(e,i){if(this.compiledGlyphs[i]!==void 0)return this.compiledGlyphs[i];const r=this.loadedName+"_path_"+i;let o;try{o=e.get(r)}catch(c){hn(`getPathGenerator - ignoring character: "${c}".`)}const l=new Path2D(o||"");return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[i]=l}}const aD={DATA:1,ERROR:2},pr={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function uH(){}function Xo(n){if(n instanceof Mm||n instanceof B6||n instanceof oH||n instanceof lN||n instanceof W4)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||ri('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Mm(n.message);case"InvalidPDFException":return new B6(n.message);case"PasswordException":return new oH(n.message,n.code);case"ResponseException":return new lN(n.message,n.status,n.missing);case"UnknownErrorException":return new W4(n.message,n.details)}return new W4(n.message,n.toString())}var Nw,rc,Kte,Yte,Zte,$D;class Lk{constructor(e,i,r){he(this,rc);he(this,Nw,new AbortController);this.sourceName=e,this.targetName=i,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",fe(this,rc,Kte).bind(this),{signal:P(this,Nw).signal})}on(e,i){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=i}send(e,i,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:i},r)}sendWithPromise(e,i,r){const o=this.callbackId++,l=Promise.withResolvers();this.callbackCapabilities[o]=l;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:o,data:i},r)}catch(c){l.reject(c)}return l.promise}sendWithStream(e,i,r,o){const l=this.streamId++,c=this.sourceName,u=this.targetName,h=this.comObj;return new ReadableStream({start:m=>{const g=Promise.withResolvers();return this.streamControllers[l]={controller:m,startCall:g,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:c,targetName:u,action:e,streamId:l,data:i,desiredSize:m.desiredSize},o),g.promise},pull:m=>{const g=Promise.withResolvers();return this.streamControllers[l].pullCall=g,h.postMessage({sourceName:c,targetName:u,stream:pr.PULL,streamId:l,desiredSize:m.desiredSize}),g.promise},cancel:m=>{yr(m instanceof Error,"cancel must have a valid reason");const g=Promise.withResolvers();return this.streamControllers[l].cancelCall=g,this.streamControllers[l].isClosed=!0,h.postMessage({sourceName:c,targetName:u,stream:pr.CANCEL,streamId:l,reason:Xo(m)}),g.promise}},r)}destroy(){var e;(e=P(this,Nw))==null||e.abort(),te(this,Nw,null)}}Nw=new WeakMap,rc=new WeakSet,Kte=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){fe(this,rc,Zte).call(this,e);return}if(e.callback){const r=e.callbackId,o=this.callbackCapabilities[r];if(!o)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===aD.DATA)o.resolve(e.data);else if(e.callback===aD.ERROR)o.reject(Xo(e.reason));else throw new Error("Unexpected callback case");return}const i=this.actionHandler[e.action];if(!i)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,o=e.sourceName,l=this.comObj;Promise.try(i,e.data).then(function(c){l.postMessage({sourceName:r,targetName:o,callback:aD.DATA,callbackId:e.callbackId,data:c})},function(c){l.postMessage({sourceName:r,targetName:o,callback:aD.ERROR,callbackId:e.callbackId,reason:Xo(c)})});return}if(e.streamId){fe(this,rc,Yte).call(this,e);return}i(e.data)},Yte=function(e){const i=e.streamId,r=this.sourceName,o=e.sourceName,l=this.comObj,c=this,u=this.actionHandler[e.action],h={enqueue(m,g=1,y){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=g,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),l.postMessage({sourceName:r,targetName:o,stream:pr.ENQUEUE,streamId:i,chunk:m},y)},close(){this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:r,targetName:o,stream:pr.CLOSE,streamId:i}),delete c.streamSinks[i])},error(m){yr(m instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,l.postMessage({sourceName:r,targetName:o,stream:pr.ERROR,streamId:i,reason:Xo(m)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[i]=h,Promise.try(u,e.data,h).then(function(){l.postMessage({sourceName:r,targetName:o,stream:pr.START_COMPLETE,streamId:i,success:!0})},function(m){l.postMessage({sourceName:r,targetName:o,stream:pr.START_COMPLETE,streamId:i,reason:Xo(m)})})},Zte=function(e){const i=e.streamId,r=this.sourceName,o=e.sourceName,l=this.comObj,c=this.streamControllers[i],u=this.streamSinks[i];switch(e.stream){case pr.START_COMPLETE:e.success?c.startCall.resolve():c.startCall.reject(Xo(e.reason));break;case pr.PULL_COMPLETE:e.success?c.pullCall.resolve():c.pullCall.reject(Xo(e.reason));break;case pr.PULL:if(!u){l.postMessage({sourceName:r,targetName:o,stream:pr.PULL_COMPLETE,streamId:i,success:!0});break}u.desiredSize<=0&&e.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=e.desiredSize,Promise.try(u.onPull||uH).then(function(){l.postMessage({sourceName:r,targetName:o,stream:pr.PULL_COMPLETE,streamId:i,success:!0})},function(m){l.postMessage({sourceName:r,targetName:o,stream:pr.PULL_COMPLETE,streamId:i,reason:Xo(m)})});break;case pr.ENQUEUE:if(yr(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(e.chunk);break;case pr.CLOSE:if(yr(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),fe(this,rc,$D).call(this,c,i);break;case pr.ERROR:yr(c,"error should have stream controller"),c.controller.error(Xo(e.reason)),fe(this,rc,$D).call(this,c,i);break;case pr.CANCEL_COMPLETE:e.success?c.cancelCall.resolve():c.cancelCall.reject(Xo(e.reason)),fe(this,rc,$D).call(this,c,i);break;case pr.CANCEL:if(!u)break;const h=Xo(e.reason);Promise.try(u.onCancel||uH,h).then(function(){l.postMessage({sourceName:r,targetName:o,stream:pr.CANCEL_COMPLETE,streamId:i,success:!0})},function(m){l.postMessage({sourceName:r,targetName:o,stream:pr.CANCEL_COMPLETE,streamId:i,reason:Xo(m)})}),u.sinkCapability.reject(h),u.isCancelled=!0,delete this.streamSinks[i];break;default:throw new Error("Unexpected stream case")}},$D=async function(e,i){var r,o,l;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(o=e.pullCall)==null?void 0:o.promise,(l=e.cancelCall)==null?void 0:l.promise]),delete this.streamControllers[i]};var IE;class Jte{constructor({enableHWA:e=!1}){he(this,IE,!1);te(this,IE,e)}create(e,i){if(e<=0||i<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,i);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!P(this,IE)})}}reset(e,i,r){if(!e.canvas)throw new Error("Canvas is not specified");if(i<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=i,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,i){ri("Abstract method `_createCanvas` called.")}}IE=new WeakMap;class SAe extends Jte{constructor({ownerDocument:e=globalThis.document,enableHWA:i=!1}){super({enableHWA:i}),this._document=e}_createCanvas(e,i){const r=this._document.createElement("canvas");return r.width=e,r.height=i,r}}class Qte{constructor({baseUrl:e=null,isCompressed:i=!0}){this.baseUrl=e,this.isCompressed=i}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const i=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(i).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${i}`)})}async _fetch(e){ri("Abstract method `_fetch` called.")}}class dH extends Qte{async _fetch(e){const i=await iA(e,this.isCompressed?"arraybuffer":"text");return i instanceof ArrayBuffer?new Uint8Array(i):nA(i)}}class ene{addFilter(e){return"none"}addHCMFilter(e,i){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,i,r,o,l){return"none"}destroy(e=!1){}}var jb,Pw,Nh,Ph,Xs,Ib,Rb,At,Hs,Bk,Av,qD,Cv,tne,oM,Tv,zk,Vk,aM,Wk;class AAe extends ene{constructor({docId:i,ownerDocument:r=globalThis.document}){super();he(this,At);he(this,jb);he(this,Pw);he(this,Nh);he(this,Ph);he(this,Xs);he(this,Ib);he(this,Rb,0);te(this,Ph,i),te(this,Xs,r)}addFilter(i){if(!i)return"none";let r=P(this,At,Hs).get(i);if(r)return r;const[o,l,c]=fe(this,At,qD).call(this,i),u=i.length===1?o:`${o}${l}${c}`;if(r=P(this,At,Hs).get(u),r)return P(this,At,Hs).set(i,r),r;const h=`g_${P(this,Ph)}_transfer_map_${wo(this,Rb)._++}`,m=fe(this,At,Cv).call(this,h);P(this,At,Hs).set(i,m),P(this,At,Hs).set(u,m);const g=fe(this,At,Tv).call(this,h);return fe(this,At,Vk).call(this,o,l,c,g),m}addHCMFilter(i,r){var A;const o=`${i}-${r}`,l="base";let c=P(this,At,Bk).get(l);if((c==null?void 0:c.key)===o||(c?((A=c.filter)==null||A.remove(),c.key=o,c.url="none",c.filter=null):(c={key:o,url:"none",filter:null},P(this,At,Bk).set(l,c)),!i||!r))return c.url;const u=fe(this,At,Wk).call(this,i);i=Wt.makeHexColor(...u);const h=fe(this,At,Wk).call(this,r);if(r=Wt.makeHexColor(...h),P(this,At,Av).style.color="",i==="#000000"&&r==="#ffffff"||i===r)return c.url;const m=new Array(256);for(let S=0;S<=255;S++){const C=S/255;m[S]=C<=.03928?C/12.92:((C+.055)/1.055)**2.4}const g=m.join(","),y=`g_${P(this,Ph)}_hcm_filter`,v=c.filter=fe(this,At,Tv).call(this,y);fe(this,At,Vk).call(this,g,g,g,v),fe(this,At,oM).call(this,v);const _=(S,C)=>{const T=u[S]/255,N=h[S]/255,j=new Array(C+1);for(let O=0;O<=C;O++)j[O]=T+O/C*(N-T);return j.join(",")};return fe(this,At,Vk).call(this,_(0,5),_(1,5),_(2,5),v),c.url=fe(this,At,Cv).call(this,y),c.url}addAlphaFilter(i){let r=P(this,At,Hs).get(i);if(r)return r;const[o]=fe(this,At,qD).call(this,[i]),l=`alpha_${o}`;if(r=P(this,At,Hs).get(l),r)return P(this,At,Hs).set(i,r),r;const c=`g_${P(this,Ph)}_alpha_map_${wo(this,Rb)._++}`,u=fe(this,At,Cv).call(this,c);P(this,At,Hs).set(i,u),P(this,At,Hs).set(l,u);const h=fe(this,At,Tv).call(this,c);return fe(this,At,aM).call(this,o,h),u}addLuminosityFilter(i){let r=P(this,At,Hs).get(i||"luminosity");if(r)return r;let o,l;if(i?([o]=fe(this,At,qD).call(this,[i]),l=`luminosity_${o}`):l="luminosity",r=P(this,At,Hs).get(l),r)return P(this,At,Hs).set(i,r),r;const c=`g_${P(this,Ph)}_luminosity_map_${wo(this,Rb)._++}`,u=fe(this,At,Cv).call(this,c);P(this,At,Hs).set(i,u),P(this,At,Hs).set(l,u);const h=fe(this,At,Tv).call(this,c);return fe(this,At,tne).call(this,h),i&&fe(this,At,aM).call(this,o,h),u}addHighlightHCMFilter(i,r,o,l,c){var N;const u=`${r}-${o}-${l}-${c}`;let h=P(this,At,Bk).get(i);if((h==null?void 0:h.key)===u||(h?((N=h.filter)==null||N.remove(),h.key=u,h.url="none",h.filter=null):(h={key:u,url:"none",filter:null},P(this,At,Bk).set(i,h)),!r||!o))return h.url;const[m,g]=[r,o].map(fe(this,At,Wk).bind(this));let y=Math.round(.2126*m[0]+.7152*m[1]+.0722*m[2]),v=Math.round(.2126*g[0]+.7152*g[1]+.0722*g[2]),[_,A]=[l,c].map(fe(this,At,Wk).bind(this));v<y&&([y,v,_,A]=[v,y,A,_]),P(this,At,Av).style.color="";const S=(j,O,F)=>{const U=new Array(256),V=(v-y)/F,B=j/255,K=(O-j)/(255*F);let oe=0;for(let me=0;me<=F;me++){const Q=Math.round(y+me*V),ge=B+me*K;for(let $=oe;$<=Q;$++)U[$]=ge;oe=Q+1}for(let me=oe;me<256;me++)U[me]=U[oe-1];return U.join(",")},C=`g_${P(this,Ph)}_hcm_${i}_filter`,T=h.filter=fe(this,At,Tv).call(this,C);return fe(this,At,oM).call(this,T),fe(this,At,Vk).call(this,S(_[0],A[0],5),S(_[1],A[1],5),S(_[2],A[2],5),T),h.url=fe(this,At,Cv).call(this,C),h.url}destroy(i=!1){var r,o,l,c;i&&((r=P(this,Ib))!=null&&r.size)||((o=P(this,Nh))==null||o.parentNode.parentNode.remove(),te(this,Nh,null),(l=P(this,Pw))==null||l.clear(),te(this,Pw,null),(c=P(this,Ib))==null||c.clear(),te(this,Ib,null),te(this,Rb,0))}}jb=new WeakMap,Pw=new WeakMap,Nh=new WeakMap,Ph=new WeakMap,Xs=new WeakMap,Ib=new WeakMap,Rb=new WeakMap,At=new WeakSet,Hs=function(){return P(this,Pw)||te(this,Pw,new Map)},Bk=function(){return P(this,Ib)||te(this,Ib,new Map)},Av=function(){if(!P(this,Nh)){const i=P(this,Xs).createElement("div"),{style:r}=i;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const o=P(this,Xs).createElementNS(fh,"svg");o.setAttribute("width",0),o.setAttribute("height",0),te(this,Nh,P(this,Xs).createElementNS(fh,"defs")),i.append(o),o.append(P(this,Nh)),P(this,Xs).body.append(i)}return P(this,Nh)},qD=function(i){if(i.length===1){const m=i[0],g=new Array(256);for(let v=0;v<256;v++)g[v]=m[v]/255;const y=g.join(",");return[y,y,y]}const[r,o,l]=i,c=new Array(256),u=new Array(256),h=new Array(256);for(let m=0;m<256;m++)c[m]=r[m]/255,u[m]=o[m]/255,h[m]=l[m]/255;return[c.join(","),u.join(","),h.join(",")]},Cv=function(i){if(P(this,jb)===void 0){te(this,jb,"");const r=P(this,Xs).URL;r!==P(this,Xs).baseURI&&(lP(r)?hn('#createUrl: ignore "data:"-URL for performance reasons.'):te(this,jb,hte(r,"")))}return`url(${P(this,jb)}#${i})`},tne=function(i){const r=P(this,Xs).createElementNS(fh,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),i.append(r)},oM=function(i){const r=P(this,Xs).createElementNS(fh,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),i.append(r)},Tv=function(i){const r=P(this,Xs).createElementNS(fh,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",i),P(this,At,Av).append(r),r},zk=function(i,r,o){const l=P(this,Xs).createElementNS(fh,r);l.setAttribute("type","discrete"),l.setAttribute("tableValues",o),i.append(l)},Vk=function(i,r,o,l){const c=P(this,Xs).createElementNS(fh,"feComponentTransfer");l.append(c),fe(this,At,zk).call(this,c,"feFuncR",i),fe(this,At,zk).call(this,c,"feFuncG",r),fe(this,At,zk).call(this,c,"feFuncB",o)},aM=function(i,r){const o=P(this,Xs).createElementNS(fh,"feComponentTransfer");r.append(o),fe(this,At,zk).call(this,o,"feFuncA",i)},Wk=function(i){return P(this,At,Av).style.color=i,xU(getComputedStyle(P(this,At,Av)).getPropertyValue("color"))};class nne{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const i=`${this.baseUrl}${e}`;return this._fetch(i).catch(r=>{throw new Error(`Unable to load font data at: ${i}`)})}async _fetch(e){ri("Abstract method `_fetch` called.")}}class hH extends nne{async _fetch(e){const i=await iA(e,"arraybuffer");return new Uint8Array(i)}}class ine{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const i=`${this.baseUrl}${e}`;return this._fetch(i).catch(r=>{throw new Error(`Unable to load wasm data at: ${i}`)})}async _fetch(e){ri("Abstract method `_fetch` called.")}}class fH extends ine{async _fetch(e){const i=await iA(e,"arraybuffer");return new Uint8Array(i)}}Ao&&hn("Please use the `legacy` build in Node.js environments.");async function EU(n){const i=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(i)}class CAe extends ene{}class TAe extends Jte{_createCanvas(e,i){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,i)}}class DAe extends Qte{async _fetch(e){return EU(e)}}class NAe extends nne{async _fetch(e){return EU(e)}}class PAe extends ine{async _fetch(e){return EU(e)}}const _s={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function lM(n,e){if(!e)return;const i=e[2]-e[0],r=e[3]-e[1],o=new Path2D;o.rect(e[0],e[1],i,r),n.clip(o)}class SU{isModifyingCurrentTransform(){return!1}getPattern(){ri("Abstract method `getPattern` called.")}}class jAe extends SU{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let i;this._type==="axial"?i=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(i=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)i.addColorStop(r[0],r[1]);return i}getPattern(e,i,r,o){let l;if(o===_s.STROKE||o===_s.FILL){const c=i.current.getClippedPathBoundingBox(o,Ui(e))||[0,0,0,0],u=Math.ceil(c[2]-c[0])||1,h=Math.ceil(c[3]-c[1])||1,m=i.cachedCanvases.getCanvas("pattern",u,h),g=m.context;g.clearRect(0,0,g.canvas.width,g.canvas.height),g.beginPath(),g.rect(0,0,g.canvas.width,g.canvas.height),g.translate(-c[0],-c[1]),r=Wt.transform(r,[1,0,0,1,c[0],c[1]]),g.transform(...i.baseTransform),this.matrix&&g.transform(...this.matrix),lM(g,this._bbox),g.fillStyle=this._createGradient(g),g.fill(),l=e.createPattern(m.canvas,"no-repeat");const y=new DOMMatrix(r);l.setTransform(y)}else lM(e,this._bbox),l=this._createGradient(e);return l}}function H4(n,e,i,r,o,l,c,u){const h=e.coords,m=e.colors,g=n.data,y=n.width*4;let v;h[i+1]>h[r+1]&&(v=i,i=r,r=v,v=l,l=c,c=v),h[r+1]>h[o+1]&&(v=r,r=o,o=v,v=c,c=u,u=v),h[i+1]>h[r+1]&&(v=i,i=r,r=v,v=l,l=c,c=v);const _=(h[i]+e.offsetX)*e.scaleX,A=(h[i+1]+e.offsetY)*e.scaleY,S=(h[r]+e.offsetX)*e.scaleX,C=(h[r+1]+e.offsetY)*e.scaleY,T=(h[o]+e.offsetX)*e.scaleX,N=(h[o+1]+e.offsetY)*e.scaleY;if(A>=N)return;const j=m[l],O=m[l+1],F=m[l+2],U=m[c],V=m[c+1],B=m[c+2],K=m[u],oe=m[u+1],me=m[u+2],Q=Math.round(A),ge=Math.round(N);let $,De,ie,ce,X,Y,ne,ee;for(let ue=Q;ue<=ge;ue++){if(ue<C){const Pe=ue<A?0:(A-ue)/(A-C);$=_-(_-S)*Pe,De=j-(j-U)*Pe,ie=O-(O-V)*Pe,ce=F-(F-B)*Pe}else{let Pe;ue>N?Pe=1:C===N?Pe=0:Pe=(C-ue)/(C-N),$=S-(S-T)*Pe,De=U-(U-K)*Pe,ie=V-(V-oe)*Pe,ce=B-(B-me)*Pe}let Z;ue<A?Z=0:ue>N?Z=1:Z=(A-ue)/(A-N),X=_-(_-T)*Z,Y=j-(j-K)*Z,ne=O-(O-oe)*Z,ee=F-(F-me)*Z;const xe=Math.round(Math.min($,X)),Ae=Math.round(Math.max($,X));let Oe=y*ue+xe*4;for(let Pe=xe;Pe<=Ae;Pe++)Z=($-Pe)/($-X),Z<0?Z=0:Z>1&&(Z=1),g[Oe++]=De-(De-Y)*Z|0,g[Oe++]=ie-(ie-ne)*Z|0,g[Oe++]=ce-(ce-ee)*Z|0,g[Oe++]=255}}function IAe(n,e,i){const r=e.coords,o=e.colors;let l,c;switch(e.type){case"lattice":const u=e.verticesPerRow,h=Math.floor(r.length/u)-1,m=u-1;for(l=0;l<h;l++){let g=l*u;for(let y=0;y<m;y++,g++)H4(n,i,r[g],r[g+1],r[g+u],o[g],o[g+1],o[g+u]),H4(n,i,r[g+u+1],r[g+1],r[g+u],o[g+u+1],o[g+1],o[g+u])}break;case"triangles":for(l=0,c=r.length;l<c;l+=3)H4(n,i,r[l],r[l+1],r[l+2],o[l],o[l+1],o[l+2]);break;default:throw new Error("illegal figure")}}class RAe extends SU{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,i,r){const u=Math.floor(this._bounds[0]),h=Math.floor(this._bounds[1]),m=Math.ceil(this._bounds[2])-u,g=Math.ceil(this._bounds[3])-h,y=Math.min(Math.ceil(Math.abs(m*e[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(g*e[1]*1.1)),3e3),_=m/y,A=g/v,S={coords:this._coords,colors:this._colors,offsetX:-u,offsetY:-h,scaleX:1/_,scaleY:1/A},C=y+2*2,T=v+2*2,N=r.getCanvas("mesh",C,T),j=N.context,O=j.createImageData(y,v);if(i){const U=O.data;for(let V=0,B=U.length;V<B;V+=4)U[V]=i[0],U[V+1]=i[1],U[V+2]=i[2],U[V+3]=255}for(const U of this._figures)IAe(O,U,S);return j.putImageData(O,2,2),{canvas:N.canvas,offsetX:u-2*_,offsetY:h-2*A,scaleX:_,scaleY:A}}isModifyingCurrentTransform(){return!0}getPattern(e,i,r,o){lM(e,this._bbox);const l=new Float32Array(2);if(o===_s.SHADING)Wt.singularValueDecompose2dScale(Ui(e),l);else if(this.matrix){Wt.singularValueDecompose2dScale(this.matrix,l);const[u,h]=l;Wt.singularValueDecompose2dScale(i.baseTransform,l),l[0]*=u,l[1]*=h}else Wt.singularValueDecompose2dScale(i.baseTransform,l);const c=this._createMeshCanvas(l,o===_s.SHADING?null:this._background,i.cachedCanvases);return o!==_s.SHADING&&(e.setTransform(...i.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(c.offsetX,c.offsetY),e.scale(c.scaleX,c.scaleY),e.createPattern(c.canvas,"no-repeat")}}class MAe extends SU{getPattern(){return"hotpink"}}function OAe(n){switch(n[0]){case"RadialAxial":return new jAe(n);case"Mesh":return new RAe(n);case"Dummy":return new MAe}throw new Error(`Unknown IR type: ${n[0]}`)}const pH={COLORED:1,UNCOLORED:2},kN=class kN{constructor(e,i,r,o){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=i,this.canvasGraphicsFactory=r,this.baseTransform=o}createPatternCanvas(e){const{bbox:i,operatorList:r,paintType:o,tilingType:l,color:c,canvasGraphicsFactory:u}=this;let{xstep:h,ystep:m}=this;h=Math.abs(h),m=Math.abs(m),aP("TilingType: "+l);const g=i[0],y=i[1],v=i[2],_=i[3],A=v-g,S=_-y,C=new Float32Array(2);Wt.singularValueDecompose2dScale(this.matrix,C);const[T,N]=C;Wt.singularValueDecompose2dScale(this.baseTransform,C);const j=T*C[0],O=N*C[1];let F=A,U=S,V=!1,B=!1;const K=Math.ceil(h*j),oe=Math.ceil(m*O),me=Math.ceil(A*j),Q=Math.ceil(S*O);K>=me?F=h:V=!0,oe>=Q?U=m:B=!0;const ge=this.getSizeAndScale(F,this.ctx.canvas.width,j),$=this.getSizeAndScale(U,this.ctx.canvas.height,O),De=e.cachedCanvases.getCanvas("pattern",ge.size,$.size),ie=De.context,ce=u.createCanvasGraphics(ie);if(ce.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(ce,o,c),ie.translate(-ge.scale*g,-$.scale*y),ce.transform(ge.scale,0,0,$.scale,0,0),ie.save(),this.clipBbox(ce,g,y,v,_),ce.baseTransform=Ui(ce.ctx),ce.executeOperatorList(r),ce.endDrawing(),ie.restore(),V||B){const X=De.canvas;V&&(F=h),B&&(U=m);const Y=this.getSizeAndScale(F,this.ctx.canvas.width,j),ne=this.getSizeAndScale(U,this.ctx.canvas.height,O),ee=Y.size,ue=ne.size,Z=e.cachedCanvases.getCanvas("pattern-workaround",ee,ue),xe=Z.context,Ae=V?Math.floor(A/h):0,Oe=B?Math.floor(S/m):0;for(let Pe=0;Pe<=Ae;Pe++)for(let Me=0;Me<=Oe;Me++)xe.drawImage(X,ee*Pe,ue*Me,ee,ue,0,0,ee,ue);return{canvas:Z.canvas,scaleX:Y.scale,scaleY:ne.scale,offsetX:g,offsetY:y}}return{canvas:De.canvas,scaleX:ge.scale,scaleY:$.scale,offsetX:g,offsetY:y}}getSizeAndScale(e,i,r){const o=Math.max(kN.MAX_PATTERN_SIZE,i);let l=Math.ceil(e*r);return l>=o?l=o:r=l/e,{scale:r,size:l}}clipBbox(e,i,r,o,l){const c=o-i,u=l-r;e.ctx.rect(i,r,c,u),Wt.axialAlignedBoundingBox([i,r,o,l],Ui(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,i,r){const o=e.ctx,l=e.current;switch(i){case pH.COLORED:const c=this.ctx;o.fillStyle=c.fillStyle,o.strokeStyle=c.strokeStyle,l.fillColor=c.fillStyle,l.strokeColor=c.strokeStyle;break;case pH.UNCOLORED:const u=Wt.makeHexColor(r[0],r[1],r[2]);o.fillStyle=u,o.strokeStyle=u,l.fillColor=u,l.strokeColor=u;break;default:throw new aAe(`Unsupported paint type: ${i}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,i,r,o){let l=r;o!==_s.SHADING&&(l=Wt.transform(l,i.baseTransform),this.matrix&&(l=Wt.transform(l,this.matrix)));const c=this.createPatternCanvas(i);let u=new DOMMatrix(l);u=u.translate(c.offsetX,c.offsetY),u=u.scale(1/c.scaleX,1/c.scaleY);const h=e.createPattern(c.canvas,"repeat");return h.setTransform(u),h}};mt(kN,"MAX_PATTERN_SIZE",3e3);let cM=kN;function FAe({src:n,srcPos:e=0,dest:i,width:r,height:o,nonBlackColor:l=4294967295,inverseDecode:c=!1}){const u=Cs.isLittleEndian?4278190080:255,[h,m]=c?[l,u]:[u,l],g=r>>3,y=r&7,v=n.length;i=new Uint32Array(i.buffer);let _=0;for(let A=0;A<o;A++){for(const C=e+g;e<C;e++){const T=e<v?n[e]:255;i[_++]=T&128?m:h,i[_++]=T&64?m:h,i[_++]=T&32?m:h,i[_++]=T&16?m:h,i[_++]=T&8?m:h,i[_++]=T&4?m:h,i[_++]=T&2?m:h,i[_++]=T&1?m:h}if(y===0)continue;const S=e<v?n[e++]:255;for(let C=0;C<y;C++)i[_++]=S&1<<7-C?m:h}return{srcPos:e,destPos:_}}const mH=16,gH=100,UAe=15,bH=10,Qo=16,G4=new DOMMatrix,Ya=new Float32Array(2),Jv=new Float32Array([1/0,1/0,-1/0,-1/0]);function LAe(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(i,r){e.translate(i,r),this.__originalTranslate(i,r)},n.scale=function(i,r){e.scale(i,r),this.__originalScale(i,r)},n.transform=function(i,r,o,l,c,u){e.transform(i,r,o,l,c,u),this.__originalTransform(i,r,o,l,c,u)},n.setTransform=function(i,r,o,l,c,u){e.setTransform(i,r,o,l,c,u),this.__originalSetTransform(i,r,o,l,c,u)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(i){e.rotate(i),this.__originalRotate(i)},n.clip=function(i){e.clip(i),this.__originalClip(i)},n.moveTo=function(i,r){e.moveTo(i,r),this.__originalMoveTo(i,r)},n.lineTo=function(i,r){e.lineTo(i,r),this.__originalLineTo(i,r)},n.bezierCurveTo=function(i,r,o,l,c,u){e.bezierCurveTo(i,r,o,l,c,u),this.__originalBezierCurveTo(i,r,o,l,c,u)},n.rect=function(i,r,o,l){e.rect(i,r,o,l),this.__originalRect(i,r,o,l)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class BAe{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,i,r){let o;return this.cache[e]!==void 0?(o=this.cache[e],this.canvasFactory.reset(o,i,r)):(o=this.canvasFactory.create(i,r),this.cache[e]=o),o}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const i=this.cache[e];this.canvasFactory.destroy(i),delete this.cache[e]}}}function lD(n,e,i,r,o,l,c,u,h,m){const[g,y,v,_,A,S]=Ui(n);if(y===0&&v===0){const N=c*g+A,j=Math.round(N),O=u*_+S,F=Math.round(O),U=(c+h)*g+A,V=Math.abs(Math.round(U)-j)||1,B=(u+m)*_+S,K=Math.abs(Math.round(B)-F)||1;return n.setTransform(Math.sign(g),0,0,Math.sign(_),j,F),n.drawImage(e,i,r,o,l,0,0,V,K),n.setTransform(g,y,v,_,A,S),[V,K]}if(g===0&&_===0){const N=u*v+A,j=Math.round(N),O=c*y+S,F=Math.round(O),U=(u+m)*v+A,V=Math.abs(Math.round(U)-j)||1,B=(c+h)*y+S,K=Math.abs(Math.round(B)-F)||1;return n.setTransform(0,Math.sign(y),Math.sign(v),0,j,F),n.drawImage(e,i,r,o,l,0,0,K,V),n.setTransform(g,y,v,_,A,S),[K,V]}n.drawImage(e,i,r,o,l,c,u,h,m);const C=Math.hypot(g,y),T=Math.hypot(v,_);return[C*h,T*m]}class yH{constructor(e,i){mt(this,"alphaIsShape",!1);mt(this,"fontSize",0);mt(this,"fontSizeScale",1);mt(this,"textMatrix",null);mt(this,"textMatrixScale",1);mt(this,"fontMatrix",L6);mt(this,"leading",0);mt(this,"x",0);mt(this,"y",0);mt(this,"lineX",0);mt(this,"lineY",0);mt(this,"charSpacing",0);mt(this,"wordSpacing",0);mt(this,"textHScale",1);mt(this,"textRenderingMode",qs.FILL);mt(this,"textRise",0);mt(this,"fillColor","#000000");mt(this,"strokeColor","#000000");mt(this,"patternFill",!1);mt(this,"patternStroke",!1);mt(this,"fillAlpha",1);mt(this,"strokeAlpha",1);mt(this,"lineWidth",1);mt(this,"activeSMask",null);mt(this,"transferMaps","none");this.clipBox=new Float32Array([0,0,e,i]),this.minMax=Jv.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=_s.FILL,i=null){const r=this.minMax.slice();if(e===_s.STROKE){i||ri("Stroke bounding box must include transform."),Wt.singularValueDecompose2dScale(i,Ya);const o=Ya[0]*this.lineWidth/2,l=Ya[1]*this.lineWidth/2;r[0]-=o,r[1]-=l,r[2]+=o,r[3]+=l}return r}updateClipFromPath(){const e=Wt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Jv,0)}getClippedPathBoundingBox(e=_s.FILL,i=null){return Wt.intersect(this.clipBox,this.getPathBoundingBox(e,i))}}function vH(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const i=e.height,r=e.width,o=i%Qo,l=(i-o)/Qo,c=o===0?l:l+1,u=n.createImageData(r,Qo);let h=0,m;const g=e.data,y=u.data;let v,_,A,S;if(e.kind===MD.GRAYSCALE_1BPP){const C=g.byteLength,T=new Uint32Array(y.buffer,0,y.byteLength>>2),N=T.length,j=r+7>>3,O=4294967295,F=Cs.isLittleEndian?4278190080:255;for(v=0;v<c;v++){for(A=v<l?Qo:o,m=0,_=0;_<A;_++){const U=C-h;let V=0;const B=U>j?r:U*8-7,K=B&-8;let oe=0,me=0;for(;V<K;V+=8)me=g[h++],T[m++]=me&128?O:F,T[m++]=me&64?O:F,T[m++]=me&32?O:F,T[m++]=me&16?O:F,T[m++]=me&8?O:F,T[m++]=me&4?O:F,T[m++]=me&2?O:F,T[m++]=me&1?O:F;for(;V<B;V++)oe===0&&(me=g[h++],oe=128),T[m++]=me&oe?O:F,oe>>=1}for(;m<N;)T[m++]=0;n.putImageData(u,0,v*Qo)}}else if(e.kind===MD.RGBA_32BPP){for(_=0,S=r*Qo*4,v=0;v<l;v++)y.set(g.subarray(h,h+S)),h+=S,n.putImageData(u,0,_),_+=Qo;v<c&&(S=r*o*4,y.set(g.subarray(h,h+S)),n.putImageData(u,0,_))}else if(e.kind===MD.RGB_24BPP)for(A=Qo,S=r*A,v=0;v<c;v++){for(v>=l&&(A=o,S=r*A),m=0,_=S;_--;)y[m++]=g[h++],y[m++]=g[h++],y[m++]=g[h++],y[m++]=255;n.putImageData(u,0,v*Qo)}else throw new Error(`bad image kind: ${e.kind}`)}function wH(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const i=e.height,r=e.width,o=i%Qo,l=(i-o)/Qo,c=o===0?l:l+1,u=n.createImageData(r,Qo);let h=0;const m=e.data,g=u.data;for(let y=0;y<c;y++){const v=y<l?Qo:o;({srcPos:h}=FAe({src:m,srcPos:h,dest:g,width:r,height:v,nonBlackColor:0})),n.putImageData(u,0,y*Qo)}}function Ek(n,e){const i=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of i)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function cD(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function xH(n,e){if(e)return!0;Wt.singularValueDecompose2dScale(n,Ya);const i=Math.fround(mf.pixelRatio*Om.PDF_TO_CSS_UNITS);return Ya[0]<=i&&Ya[1]<=i}const zAe=["butt","round","square"],VAe=["miter","round","bevel"],WAe={},_H={};var tu,uM,dM,hM;const PU=class PU{constructor(e,i,r,o,l,{optionalContentConfig:c,markedContentStack:u=null},h,m){he(this,tu);this.ctx=e,this.current=new yH(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=i,this.objs=r,this.canvasFactory=o,this.filterFactory=l,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=c,this.cachedCanvases=new BAe(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=m,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,i=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):i}beginDrawing({transform:e,viewport:i,transparency:r=!1,background:o=null}){const l=this.ctx.canvas.width,c=this.ctx.canvas.height,u=this.ctx.fillStyle;if(this.ctx.fillStyle=o||"#ffffff",this.ctx.fillRect(0,0,l,c),this.ctx.fillStyle=u,r){const h=this.cachedCanvases.getCanvas("transparent",l,c);this.compositeCtx=this.ctx,this.transparentCanvas=h.canvas,this.ctx=h.context,this.ctx.save(),this.ctx.transform(...Ui(this.compositeCtx))}this.ctx.save(),cD(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...i.transform),this.viewportScale=i.scale,this.baseTransform=Ui(this.ctx)}executeOperatorList(e,i,r,o){const l=e.argsArray,c=e.fnArray;let u=i||0;const h=l.length;if(h===u)return u;const m=h-u>bH&&typeof r=="function",g=m?Date.now()+UAe:0;let y=0;const v=this.commonObjs,_=this.objs;let A;for(;;){if(o!==void 0&&u===o.nextBreakPoint)return o.breakIt(u,r),u;if(A=c[u],A!==aN.dependency)this[A].apply(this,l[u]);else for(const S of l[u]){const C=S.startsWith("g_")?v:_;if(!C.has(S))return C.get(S,r),u}if(u++,u===h)return u;if(m&&++y>bH){if(Date.now()>g)return r(),u;y=0}}}endDrawing(){fe(this,tu,uM).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const i of e.values())typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement&&(i.width=i.height=0);e.clear()}this._cachedBitmapsMap.clear(),fe(this,tu,dM).call(this)}_scaleImage(e,i){const r=e.width??e.displayWidth,o=e.height??e.displayHeight;let l=Math.max(Math.hypot(i[0],i[1]),1),c=Math.max(Math.hypot(i[2],i[3]),1),u=r,h=o,m="prescale1",g,y;for(;l>2&&u>1||c>2&&h>1;){let v=u,_=h;l>2&&u>1&&(v=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),l/=u/v),c>2&&h>1&&(_=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,c/=h/_),g=this.cachedCanvases.getCanvas(m,v,_),y=g.context,y.clearRect(0,0,v,_),y.drawImage(e,0,0,u,h,0,0,v,_),e=g.canvas,u=v,h=_,m=m==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:u,paintHeight:h}}_createMaskCanvas(e){const i=this.ctx,{width:r,height:o}=e,l=this.current.fillColor,c=this.current.patternFill,u=Ui(i);let h,m,g,y;if((e.bitmap||e.data)&&e.count>1){const K=e.bitmap||e.data.buffer;m=JSON.stringify(c?u:[u.slice(0,4),l]),h=this._cachedBitmapsMap.get(K),h||(h=new Map,this._cachedBitmapsMap.set(K,h));const oe=h.get(m);if(oe&&!c){const me=Math.round(Math.min(u[0],u[2])+u[4]),Q=Math.round(Math.min(u[1],u[3])+u[5]);return{canvas:oe,offsetX:me,offsetY:Q}}g=oe}g||(y=this.cachedCanvases.getCanvas("maskCanvas",r,o),wH(y.context,e));let v=Wt.transform(u,[1/r,0,0,-1/o,0,0]);v=Wt.transform(v,[1,0,0,1,0,-o]);const _=Jv.slice();Wt.axialAlignedBoundingBox([0,0,r,o],v,_);const[A,S,C,T]=_,N=Math.round(C-A)||1,j=Math.round(T-S)||1,O=this.cachedCanvases.getCanvas("fillCanvas",N,j),F=O.context,U=A,V=S;F.translate(-U,-V),F.transform(...v),g||(g=this._scaleImage(y.canvas,Wu(F)),g=g.img,h&&c&&h.set(m,g)),F.imageSmoothingEnabled=xH(Ui(F),e.interpolate),lD(F,g,0,0,g.width,g.height,0,0,r,o),F.globalCompositeOperation="source-in";const B=Wt.transform(Wu(F),[1,0,0,1,-U,-V]);return F.fillStyle=c?l.getPattern(i,this,B,_s.FILL):l,F.fillRect(0,0,r,o),h&&!c&&(this.cachedCanvases.delete("fillCanvas"),h.set(m,O.canvas)),{canvas:O.canvas,offsetX:Math.round(U),offsetY:Math.round(V)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=zAe[e]}setLineJoin(e){this.ctx.lineJoin=VAe[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,i){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=i)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[i,r]of e)switch(i){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,i=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,o=this.cachedCanvases.getCanvas(r,e,i);this.suspendedCtx=this.ctx;const l=this.ctx=o.context;l.setTransform(this.suspendedCtx.getTransform()),Ek(this.suspendedCtx,l),LAe(l,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Ek(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const i=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,i,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,i,r,o){const l=o[0],c=o[1],u=o[2]-l,h=o[3]-c;u===0||h===0||(this.genericComposeSMask(i.context,r,u,h,i.subtype,i.backdrop,i.transferMap,l,c,i.offsetX,i.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,i,r,o,l,c,u,h,m,g,y){let v=e.canvas,_=h-g,A=m-y;if(c){const C=Wt.makeHexColor(...c);if(_<0||A<0||_+r>v.width||A+o>v.height){const T=this.cachedCanvases.getCanvas("maskExtension",r,o),N=T.context;N.drawImage(v,-_,-A),N.globalCompositeOperation="destination-atop",N.fillStyle=C,N.fillRect(0,0,r,o),N.globalCompositeOperation="source-over",v=T.canvas,_=A=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const T=new Path2D;T.rect(_,A,r,o),e.clip(T),e.globalCompositeOperation="destination-atop",e.fillStyle=C,e.fillRect(_,A,r,o),e.restore()}}i.save(),i.globalAlpha=1,i.setTransform(1,0,0,1,0,0),l==="Alpha"&&u?i.filter=this.filterFactory.addAlphaFilter(u):l==="Luminosity"&&(i.filter=this.filterFactory.addLuminosityFilter(u));const S=new Path2D;S.rect(h,m,r,o),i.clip(S),i.globalCompositeOperation="destination-in",i.drawImage(v,_,A,r,o,h,m,r,o),i.restore()}save(){this.inSMaskMode&&Ek(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Ek(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,i,r,o,l,c){this.ctx.transform(e,i,r,o,l,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,i,r){let[o]=i;if(!r){o||(o=i[0]=new Path2D),this[e](o);return}if(!(o instanceof Path2D)){const l=i[0]=new Path2D;for(let c=0,u=o.length;c<u;)switch(o[c++]){case oD.moveTo:l.moveTo(o[c++],o[c++]);break;case oD.lineTo:l.lineTo(o[c++],o[c++]);break;case oD.curveTo:l.bezierCurveTo(o[c++],o[c++],o[c++],o[c++],o[c++],o[c++]);break;case oD.closePath:l.closePath();break;default:hn(`Unrecognized drawing path operator: ${o[c-1]}`);break}o=l}Wt.axialAlignedBoundingBox(r,Ui(this.ctx),this.current.minMax),this[e](o)}closePath(){this.ctx.closePath()}stroke(e,i=!0){const r=this.ctx,o=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof o=="object"&&(o!=null&&o.getPattern)){const l=o.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=o.getPattern(r,this,Wu(r),_s.STROKE),l){const c=new Path2D;c.addPath(e,r.getTransform().invertSelf().multiplySelf(l)),e=c}this.rescaleAndStroke(e,!1),r.restore()}else this.rescaleAndStroke(e,!0);i&&this.consumePath(e,this.current.getClippedPathBoundingBox(_s.STROKE,Ui(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(e){this.stroke(e)}fill(e,i=!0){const r=this.ctx,o=this.current.fillColor,l=this.current.patternFill;let c=!1;if(l){const h=o.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.fillStyle=o.getPattern(r,this,Wu(r),_s.FILL),h){const m=new Path2D;m.addPath(e,r.getTransform().invertSelf().multiplySelf(h)),e=m}c=!0}const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(r.fill(e,"evenodd"),this.pendingEOFill=!1):r.fill(e)),c&&r.restore(),i&&this.consumePath(e,u)}eoFill(e){this.pendingEOFill=!0,this.fill(e)}fillStroke(e){this.fill(e,!1),this.stroke(e,!1),this.consumePath(e)}eoFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}closeFillStroke(e){this.fillStroke(e)}closeEOFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}endPath(e){this.consumePath(e)}rawFillPath(e){this.ctx.fill(e)}clip(){this.pendingClip=WAe}eoClip(){this.pendingClip=_H}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,i=this.ctx;if(e===void 0)return;const r=new Path2D,o=i.getTransform().invertSelf();for(const{transform:l,x:c,y:u,fontSize:h,path:m}of e)r.addPath(m,new DOMMatrix(l).preMultiplySelf(o).translate(c,u).scale(h,-h));i.clip(r),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,i){var g;const r=this.commonObjs.get(e),o=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(o.fontMatrix=r.fontMatrix||L6,(o.fontMatrix[0]===0||o.fontMatrix[3]===0)&&hn("Invalid font matrix for font "+e),i<0?(i=-i,o.fontDirection=-1):o.fontDirection=1,this.current.font=r,this.current.fontSize=i,r.isType3Font)return;const l=r.loadedName||"sans-serif",c=((g=r.systemFontInfo)==null?void 0:g.css)||`"${l}", ${r.fallbackName}`;let u="normal";r.black?u="900":r.bold&&(u="bold");const h=r.italic?"italic":"normal";let m=i;i<mH?m=mH:i>gH&&(m=gH),this.current.fontSizeScale=i/m,this.ctx.font=`${h} ${u} ${m}px ${c}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,i){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=i}setLeadingMoveText(e,i){this.setLeading(-i),this.moveText(e,i)}setTextMatrix(e){const{current:i}=this;i.textMatrix=e,i.textMatrixScale=Math.hypot(e[0],e[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,i,r,o,l){const c=this.ctx,u=this.current,h=u.font,m=u.textRenderingMode,g=u.fontSize/u.fontSizeScale,y=m&qs.FILL_STROKE_MASK,v=!!(m&qs.ADD_TO_PATH_FLAG),_=u.patternFill&&!h.missingFile,A=u.patternStroke&&!h.missingFile;let S;if((h.disableFontFace||v||_||A)&&(S=h.getPathGenerator(this.commonObjs,e)),h.disableFontFace||_||A){c.save(),c.translate(i,r),c.scale(g,-g);let C;if((y===qs.FILL||y===qs.FILL_STROKE)&&(o?(C=c.getTransform(),c.setTransform(...o),c.fill(fe(this,tu,hM).call(this,S,C,o))):c.fill(S)),y===qs.STROKE||y===qs.FILL_STROKE)if(l){C||(C=c.getTransform()),c.setTransform(...l);const{a:T,b:N,c:j,d:O}=C,F=Wt.inverseTransform(l),U=Wt.transform([T,N,j,O,0,0],F);Wt.singularValueDecompose2dScale(U,Ya),c.lineWidth*=Math.max(Ya[0],Ya[1])/g,c.stroke(fe(this,tu,hM).call(this,S,C,l))}else c.lineWidth/=g,c.stroke(S);c.restore()}else(y===qs.FILL||y===qs.FILL_STROKE)&&c.fillText(e,i,r),(y===qs.STROKE||y===qs.FILL_STROKE)&&c.strokeText(e,i,r);v&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Ui(c),x:i,y:r,fontSize:g,path:S})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const i=e.getImageData(0,0,10,10).data;let r=!1;for(let o=3;o<i.length;o+=4)if(i[o]>0&&i[o]<255){r=!0;break}return yn(this,"isFontSubpixelAAEnabled",r)}showText(e){const i=this.current,r=i.font;if(r.isType3Font)return this.showType3Text(e);const o=i.fontSize;if(o===0)return;const l=this.ctx,c=i.fontSizeScale,u=i.charSpacing,h=i.wordSpacing,m=i.fontDirection,g=i.textHScale*m,y=e.length,v=r.vertical,_=v?1:-1,A=r.defaultVMetrics,S=o*i.fontMatrix[0],C=i.textRenderingMode===qs.FILL&&!r.disableFontFace&&!i.patternFill;l.save(),i.textMatrix&&l.transform(...i.textMatrix),l.translate(i.x,i.y+i.textRise),m>0?l.scale(g,-1):l.scale(g,1);let T,N;if(i.patternFill){l.save();const V=i.fillColor.getPattern(l,this,Wu(l),_s.FILL);T=Ui(l),l.restore(),l.fillStyle=V}if(i.patternStroke){l.save();const V=i.strokeColor.getPattern(l,this,Wu(l),_s.STROKE);N=Ui(l),l.restore(),l.strokeStyle=V}let j=i.lineWidth;const O=i.textMatrixScale;if(O===0||j===0){const V=i.textRenderingMode&qs.FILL_STROKE_MASK;(V===qs.STROKE||V===qs.FILL_STROKE)&&(j=this.getSinglePixelWidth())}else j/=O;if(c!==1&&(l.scale(c,c),j/=c),l.lineWidth=j,r.isInvalidPDFjsFont){const V=[];let B=0;for(const K of e)V.push(K.unicode),B+=K.width;l.fillText(V.join(""),0,0),i.x+=B*S*g,l.restore(),this.compose();return}let F=0,U;for(U=0;U<y;++U){const V=e[U];if(typeof V=="number"){F+=_*V*o/1e3;continue}let B=!1;const K=(V.isSpace?h:0)+u,oe=V.fontChar,me=V.accent;let Q,ge,$=V.width;if(v){const ie=V.vmetric||A,ce=-(V.vmetric?ie[1]:$*.5)*S,X=ie[2]*S;$=ie?-ie[0]:$,Q=ce/c,ge=(F+X)/c}else Q=F/c,ge=0;if(r.remeasure&&$>0){const ie=l.measureText(oe).width*1e3/o*c;if($<ie&&this.isFontSubpixelAAEnabled){const ce=$/ie;B=!0,l.save(),l.scale(ce,1),Q/=ce}else $!==ie&&(Q+=($-ie)/2e3*o/c)}if(this.contentVisible&&(V.isInFont||r.missingFile)){if(C&&!me)l.fillText(oe,Q,ge);else if(this.paintChar(oe,Q,ge,T,N),me){const ie=Q+o*me.offset.x/c,ce=ge-o*me.offset.y/c;this.paintChar(me.fontChar,ie,ce,T,N)}}const De=v?$*S-K*m:$*S+K*m;F+=De,B&&l.restore()}v?i.y-=F:i.x+=F*g,l.restore(),this.compose()}showType3Text(e){const i=this.ctx,r=this.current,o=r.font,l=r.fontSize,c=r.fontDirection,u=o.vertical?1:-1,h=r.charSpacing,m=r.wordSpacing,g=r.textHScale*c,y=r.fontMatrix||L6,v=e.length,_=r.textRenderingMode===qs.INVISIBLE;let A,S,C,T;if(!(_||l===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),r.textMatrix&&i.transform(...r.textMatrix),i.translate(r.x,r.y+r.textRise),i.scale(g,c),A=0;A<v;++A){if(S=e[A],typeof S=="number"){T=u*S*l/1e3,this.ctx.translate(T,0),r.x+=T*g;continue}const N=(S.isSpace?m:0)+h,j=o.charProcOperatorList[S.operatorListId];j?this.contentVisible&&(this.save(),i.scale(l,l),i.transform(...y),this.executeOperatorList(j),this.restore()):hn(`Type3 character "${S.operatorListId}" is not available.`);const O=[S.width,0];Wt.applyTransform(O,y),C=O[0]*l+N,i.translate(C,0),r.x+=C*g}i.restore()}}setCharWidth(e,i){}setCharWidthAndBounds(e,i,r,o,l,c){const u=new Path2D;u.rect(r,o,l-r,c-o),this.ctx.clip(u),this.endPath()}getColorN_Pattern(e){let i;if(e[0]==="TilingPattern"){const r=this.baseTransform||Ui(this.ctx),o={createCanvasGraphics:l=>new PU(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};i=new cM(e,this.ctx,o,r)}else i=this._getPattern(e[1],e[2]);return i}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,i,r){this.ctx.strokeStyle=this.current.strokeColor=Wt.makeHexColor(e,i,r),this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,i,r){this.ctx.fillStyle=this.current.fillColor=Wt.makeHexColor(e,i,r),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,i=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=OAe(this.getObject(e)),this.cachedPatterns.set(e,r)),i&&(r.matrix=i),r}shadingFill(e){if(!this.contentVisible)return;const i=this.ctx;this.save();const r=this._getPattern(e);i.fillStyle=r.getPattern(i,this,Wu(i),_s.SHADING);const o=Wu(i);if(o){const{width:l,height:c}=i.canvas,u=Jv.slice();Wt.axialAlignedBoundingBox([0,0,l,c],o,u);const[h,m,g,y]=u;this.ctx.fillRect(h,m,g-h,y-m)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){ri("Should not call beginInlineImage")}beginImageData(){ri("Should not call beginImageData")}paintFormXObjectBegin(e,i){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Ui(this.ctx),i)){Wt.axialAlignedBoundingBox(i,this.baseTransform,this.current.minMax);const[r,o,l,c]=i,u=new Path2D;u.rect(r,o,l-r,c-o),this.ctx.clip(u),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;e.isolated||aP("TODO: Support non-isolated groups."),e.knockout&&hn("Knockout groups not supported.");const r=Ui(i);if(e.matrix&&i.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let o=Jv.slice();Wt.axialAlignedBoundingBox(e.bbox,Ui(i),o);const l=[0,0,i.canvas.width,i.canvas.height];o=Wt.intersect(o,l)||[0,0,0,0];const c=Math.floor(o[0]),u=Math.floor(o[1]),h=Math.max(Math.ceil(o[2])-c,1),m=Math.max(Math.ceil(o[3])-u,1);this.current.startNewPathAndClipBox([0,0,h,m]);let g="groupAt"+this.groupLevel;e.smask&&(g+="_smask_"+this.smaskCounter++%2);const y=this.cachedCanvases.getCanvas(g,h,m),v=y.context;v.translate(-c,-u),v.transform(...r);let _=new Path2D;const[A,S,C,T]=e.bbox;if(_.rect(A,S,C-A,T-S),e.matrix){const N=new Path2D;N.addPath(_,new DOMMatrix(e.matrix)),_=N}v.clip(_),e.smask?this.smaskStack.push({canvas:y.canvas,context:v,offsetX:c,offsetY:u,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(i.setTransform(1,0,0,1,0,0),i.translate(c,u),i.save()),Ek(i,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const o=Ui(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...o);const l=Jv.slice();Wt.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],o,l),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(e,i,r,o,l){if(fe(this,tu,uM).call(this),cD(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const c=i[2]-i[0],u=i[3]-i[1];if(l&&this.annotationCanvasMap){r=r.slice(),r[4]-=i[0],r[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=c,i[3]=u,Wt.singularValueDecompose2dScale(Ui(this.ctx),Ya);const{viewportScale:h}=this,m=Math.ceil(c*this.outputScaleX*h),g=Math.ceil(u*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(m,g);const{canvas:y,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(e,y),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(Ya[0],0,0,-Ya[1],0,u*Ya[1]),cD(this.ctx)}else{cD(this.ctx),this.endPath();const h=new Path2D;h.rect(i[0],i[1],c,u),this.ctx.clip(h)}}this.current=new yH(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...o)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),fe(this,tu,dM).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const i=e.count;e=this.getObject(e.data,e),e.count=i;const r=this.ctx,o=this._createMaskCanvas(e),l=o.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(l,o.offsetX,o.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,i,r=0,o=0,l,c){if(!this.contentVisible)return;e=this.getObject(e.data,e);const u=this.ctx;u.save();const h=Ui(u);u.transform(i,r,o,l,0,0);const m=this._createMaskCanvas(e);u.setTransform(1,0,0,1,m.offsetX-h[4],m.offsetY-h[5]);for(let g=0,y=c.length;g<y;g+=2){const v=Wt.transform(h,[i,r,o,l,c[g],c[g+1]]);u.drawImage(m.canvas,v[4],v[5])}u.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const i=this.ctx,r=this.current.fillColor,o=this.current.patternFill;for(const l of e){const{data:c,width:u,height:h,transform:m}=l,g=this.cachedCanvases.getCanvas("maskCanvas",u,h),y=g.context;y.save();const v=this.getObject(c,l);wH(y,v),y.globalCompositeOperation="source-in",y.fillStyle=o?r.getPattern(y,this,Wu(i),_s.FILL):r,y.fillRect(0,0,u,h),y.restore(),i.save(),i.transform(...m),i.scale(1,-1),lD(i,g.canvas,0,0,u,h,0,-1,1,1),i.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const i=this.getObject(e);if(!i){hn("Dependent image isn't ready yet");return}this.paintInlineImageXObject(i)}paintImageXObjectRepeat(e,i,r,o){if(!this.contentVisible)return;const l=this.getObject(e);if(!l){hn("Dependent image isn't ready yet");return}const c=l.width,u=l.height,h=[];for(let m=0,g=o.length;m<g;m+=2)h.push({transform:[i,0,0,r,o[m],o[m+1]],x:0,y:0,w:c,h:u});this.paintInlineImageXObjectGroup(l,h)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:i,width:r,height:o}=e,l=this.cachedCanvases.getCanvas("inlineImage",r,o),c=l.context;return c.filter=this.current.transferMaps,c.drawImage(i,0,0),c.filter="none",l.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const i=e.width,r=e.height,o=this.ctx;this.save();const{filter:l}=o;l!=="none"&&l!==""&&(o.filter="none"),o.scale(1/i,-1/r);let c;if(e.bitmap)c=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)c=e;else{const m=this.cachedCanvases.getCanvas("inlineImage",i,r).context;vH(m,e),c=this.applyTransferMapsToCanvas(m)}const u=this._scaleImage(c,Wu(o));o.imageSmoothingEnabled=xH(Ui(o),e.interpolate),lD(o,u.img,0,0,u.paintWidth,u.paintHeight,0,-r,i,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,i){if(!this.contentVisible)return;const r=this.ctx;let o;if(e.bitmap)o=e.bitmap;else{const l=e.width,c=e.height,h=this.cachedCanvases.getCanvas("inlineImage",l,c).context;vH(h,e),o=this.applyTransferMapsToCanvas(h)}for(const l of i)r.save(),r.transform(...l.transform),r.scale(1,-1),lD(r,o,l.x,l.y,l.w,l.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,i){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,i){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e,i){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const o=this.ctx;this.pendingClip&&(r||(this.pendingClip===_H?o.clip(e,"evenodd"):o.clip(e)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Ui(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const i=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),o=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,o)/i}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:i,b:r,c:o,d:l}=this.ctx.getTransform();let c,u;if(r===0&&o===0){const h=Math.abs(i),m=Math.abs(l);if(h===m)if(e===0)c=u=1/h;else{const g=h*e;c=u=g<1?1/g:1}else if(e===0)c=1/h,u=1/m;else{const g=h*e,y=m*e;c=g<1?1/g:1,u=y<1?1/y:1}}else{const h=Math.abs(i*l-r*o),m=Math.hypot(i,r),g=Math.hypot(o,l);if(e===0)c=g/h,u=m/h;else{const y=e*h;c=g>y?g/y:1,u=m>y?m/y:1}}this._cachedScaleForStroking[0]=c,this._cachedScaleForStroking[1]=u}return this._cachedScaleForStroking}rescaleAndStroke(e,i){const{ctx:r,current:{lineWidth:o}}=this,[l,c]=this.getScaleForStroking();if(l===c){r.lineWidth=(o||1)*l,r.stroke(e);return}const u=r.getLineDash();i&&r.save(),r.scale(l,c),G4.a=1/l,G4.d=1/c;const h=new Path2D;if(h.addPath(e,G4),u.length>0){const m=Math.max(l,c);r.setLineDash(u.map(g=>g/m)),r.lineDashOffset/=m}r.lineWidth=o||1,r.stroke(h),i&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};tu=new WeakSet,uM=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},dM=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const i=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=i}}},hM=function(e,i,r){const o=new Path2D;return o.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(i)),o};let hw=PU;for(const n in aN)hw.prototype[n]!==void 0&&(hw.prototype[aN[n]]=hw.prototype[n]);var RE,ME;class fd{static get workerPort(){return P(this,RE)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");te(this,RE,e)}static get workerSrc(){return P(this,ME)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");te(this,ME,e)}}RE=new WeakMap,ME=new WeakMap,he(fd,RE,null),he(fd,ME,"");var jw,OE;class $Ae{constructor({parsedData:e,rawData:i}){he(this,jw);he(this,OE);te(this,jw,e),te(this,OE,i)}getRaw(){return P(this,OE)}get(e){return P(this,jw).get(e)??null}[Symbol.iterator](){return P(this,jw).entries()}}jw=new WeakMap,OE=new WeakMap;const Dv=Symbol("INTERNAL");var FE,UE,LE,Iw;class qAe{constructor(e,{name:i,intent:r,usage:o,rbGroups:l}){he(this,FE,!1);he(this,UE,!1);he(this,LE,!1);he(this,Iw,!0);te(this,FE,!!(e&Xa.DISPLAY)),te(this,UE,!!(e&Xa.PRINT)),this.name=i,this.intent=r,this.usage=o,this.rbGroups=l}get visible(){if(P(this,LE))return P(this,Iw);if(!P(this,Iw))return!1;const{print:e,view:i}=this.usage;return P(this,FE)?(i==null?void 0:i.viewState)!=="OFF":P(this,UE)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,i,r=!1){e!==Dv&&ri("Internal method `_setVisible` called."),te(this,LE,r),te(this,Iw,i)}}FE=new WeakMap,UE=new WeakMap,LE=new WeakMap,Iw=new WeakMap;var Gp,ti,Rw,Mw,BE,fM;class HAe{constructor(e,i=Xa.DISPLAY){he(this,BE);he(this,Gp,null);he(this,ti,new Map);he(this,Rw,null);he(this,Mw,null);if(this.renderingIntent=i,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,te(this,Mw,e.order);for(const r of e.groups)P(this,ti).set(r.id,new qAe(i,r));if(e.baseState==="OFF")for(const r of P(this,ti).values())r._setVisible(Dv,!1);for(const r of e.on)P(this,ti).get(r)._setVisible(Dv,!0);for(const r of e.off)P(this,ti).get(r)._setVisible(Dv,!1);te(this,Rw,this.getHash())}}isVisible(e){if(P(this,ti).size===0)return!0;if(!e)return aP("Optional content group not defined."),!0;if(e.type==="OCG")return P(this,ti).has(e.id)?P(this,ti).get(e.id).visible:(hn(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return fe(this,BE,fM).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const i of e.ids){if(!P(this,ti).has(i))return hn(`Optional content group not found: ${i}`),!0;if(P(this,ti).get(i).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const i of e.ids){if(!P(this,ti).has(i))return hn(`Optional content group not found: ${i}`),!0;if(!P(this,ti).get(i).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const i of e.ids){if(!P(this,ti).has(i))return hn(`Optional content group not found: ${i}`),!0;if(!P(this,ti).get(i).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const i of e.ids){if(!P(this,ti).has(i))return hn(`Optional content group not found: ${i}`),!0;if(P(this,ti).get(i).visible)return!1}return!0}return hn(`Unknown optional content policy ${e.policy}.`),!0}return hn(`Unknown group type ${e.type}.`),!0}setVisibility(e,i=!0,r=!0){var l;const o=P(this,ti).get(e);if(!o){hn(`Optional content group not found: ${e}`);return}if(r&&i&&o.rbGroups.length)for(const c of o.rbGroups)for(const u of c)u!==e&&((l=P(this,ti).get(u))==null||l._setVisible(Dv,!1,!0));o._setVisible(Dv,!!i,!0),te(this,Gp,null)}setOCGState({state:e,preserveRB:i}){let r;for(const o of e){switch(o){case"ON":case"OFF":case"Toggle":r=o;continue}const l=P(this,ti).get(o);if(l)switch(r){case"ON":this.setVisibility(o,!0,i);break;case"OFF":this.setVisibility(o,!1,i);break;case"Toggle":this.setVisibility(o,!l.visible,i);break}}te(this,Gp,null)}get hasInitialVisibility(){return P(this,Rw)===null||this.getHash()===P(this,Rw)}getOrder(){return P(this,ti).size?P(this,Mw)?P(this,Mw).slice():[...P(this,ti).keys()]:null}getGroup(e){return P(this,ti).get(e)||null}getHash(){if(P(this,Gp)!==null)return P(this,Gp);const e=new Hte;for(const[i,r]of P(this,ti))e.update(`${i}:${r.visible}`);return te(this,Gp,e.hexdigest())}[Symbol.iterator](){return P(this,ti).entries()}}Gp=new WeakMap,ti=new WeakMap,Rw=new WeakMap,Mw=new WeakMap,BE=new WeakSet,fM=function(e){const i=e.length;if(i<2)return!0;const r=e[0];for(let o=1;o<i;o++){const l=e[o];let c;if(Array.isArray(l))c=fe(this,BE,fM).call(this,l);else if(P(this,ti).has(l))c=P(this,ti).get(l).visible;else return hn(`Optional content group not found: ${l}`),!0;switch(r){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return r==="And"};class GAe{constructor(e,{disableRange:i=!1,disableStream:r=!1}){yr(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:o,initialData:l,progressiveDone:c,contentDispositionFilename:u}=e;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=u,(l==null?void 0:l.length)>0){const h=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;this._queuedChunks.push(h)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!i,this._contentLength=o,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((h,m)=>{this._onReceiveData({begin:h,chunk:m})}),e.addProgressListener((h,m)=>{this._onProgress({loaded:h,total:m})}),e.addProgressiveReadListener(h=>{this._onReceiveData({chunk:h})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:i}){const r=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const o=this._rangeReaders.some(function(l){return l._begin!==e?!1:(l._enqueue(r),!0)});yr(o,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var i,r,o,l;e.total===void 0?(r=(i=this._rangeReaders[0])==null?void 0:i.onProgress)==null||r.call(i,{loaded:e.loaded}):(l=(o=this._fullRequestReader)==null?void 0:o.onProgress)==null||l.call(o,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const i=this._rangeReaders.indexOf(e);i>=0&&this._rangeReaders.splice(i,1)}getFullReader(){yr(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new XAe(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,i){if(i<=this._progressiveDataLength)return null;const r=new KAe(this,e,i);return this._pdfDataRangeTransport.requestDataRange(e,i),this._rangeReaders.push(r),r}cancelAllRequests(e){var i;(i=this._fullRequestReader)==null||i.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class XAe{constructor(e,i,r=!1,o=null){this._stream=e,this._done=r||!1,this._filename=vU(o)?o:null,this._queuedChunks=i||[],this._loaded=0;for(const l of this._queuedChunks)this._loaded+=l.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class KAe{constructor(e,i,r){this._stream=e,this._begin=i,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const i=this._queuedChunk;return this._queuedChunk=null,{value:i,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function YAe(n){let e=!0,i=r("filename\\*","i").exec(n);if(i){i=i[1];let g=u(i);return g=unescape(g),g=h(g),g=m(g),l(g)}if(i=c(n),i){const g=m(i);return l(g)}if(i=r("filename","i").exec(n),i){i=i[1];let g=u(i);return g=m(g),l(g)}function r(g,y){return new RegExp("(?:^|;)\\s*"+g+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',y)}function o(g,y){if(g){if(!/^[\x00-\xFF]+$/.test(y))return y;try{const v=new TextDecoder(g,{fatal:!0}),_=nA(y);y=v.decode(_),e=!1}catch{}}return y}function l(g){return e&&/[\x80-\xff]/.test(g)&&(g=o("utf-8",g),e&&(g=o("iso-8859-1",g))),g}function c(g){const y=[];let v;const _=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=_.exec(g))!==null;){let[,S,C,T]=v;if(S=parseInt(S,10),S in y){if(S===0)break;continue}y[S]=[C,T]}const A=[];for(let S=0;S<y.length&&S in y;++S){let[C,T]=y[S];T=u(T),C&&(T=unescape(T),S===0&&(T=h(T))),A.push(T)}return A.join("")}function u(g){if(g.startsWith('"')){const y=g.slice(1).split('\\"');for(let v=0;v<y.length;++v){const _=y[v].indexOf('"');_!==-1&&(y[v]=y[v].slice(0,_),y.length=v+1),y[v]=y[v].replaceAll(/\\(.)/g,"$1")}g=y.join('"')}return g}function h(g){const y=g.indexOf("'");if(y===-1)return g;const v=g.slice(0,y),A=g.slice(y+1).replace(/^[^']*'/,"");return o(v,A)}function m(g){return!g.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(g)?g:g.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(y,v,_,A){if(_==="q"||_==="Q")return A=A.replaceAll("_"," "),A=A.replaceAll(/=([0-9a-fA-F]{2})/g,function(S,C){return String.fromCharCode(parseInt(C,16))}),o(v,A);try{A=atob(A)}catch{}return o(v,A)})}return""}function rne(n,e){const i=new Headers;if(!n||!e||typeof e!="object")return i;for(const r in e){const o=e[r];o!==void 0&&i.append(r,o)}return i}function cP(n){var e;return((e=URL.parse(n))==null?void 0:e.origin)??null}function sne({responseHeaders:n,isHttp:e,rangeChunkSize:i,disableRange:r}){const o={allowRangeRequests:!1,suggestedLength:void 0},l=parseInt(n.get("Content-Length"),10);return!Number.isInteger(l)||(o.suggestedLength=l,l<=2*i)||r||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(o.allowRangeRequests=!0),o}function one(n){const e=n.get("Content-Disposition");if(e){let i=YAe(e);if(i.includes("%"))try{i=decodeURIComponent(i)}catch{}if(vU(i))return i}return null}function oA(n,e){return new lN(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function ane(n){return n===200||n===206}function lne(n,e,i){return{method:"GET",headers:n,signal:i.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function cne(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(hn(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class kH{constructor(e){mt(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=rne(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return yr(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new ZAe(this),this._fullRequestReader}getRangeReader(e,i){if(i<=this._progressiveDataLength)return null;const r=new JAe(this,e,i);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var i;(i=this._fullRequestReader)==null||i.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class ZAe{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const i=e.source;this._withCredentials=i.withCredentials||!1,this._contentLength=i.length,this._headersCapability=Promise.withResolvers(),this._disableRange=i.disableRange||!1,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!i.disableStream,this._isRangeSupported=!i.disableRange;const r=new Headers(e.headers),o=i.url;fetch(o,lne(r,this._withCredentials,this._abortController)).then(l=>{if(e._responseOrigin=cP(l.url),!ane(l.status))throw oA(l.status,o);this._reader=l.body.getReader(),this._headersCapability.resolve();const c=l.headers,{allowRangeRequests:u,suggestedLength:h}=sne({responseHeaders:c,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=h||this._contentLength,this._filename=one(c),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Mm("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:i}=await this._reader.read();return i?{value:e,done:i}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:cne(e),done:!1})}cancel(e){var i;(i=this._reader)==null||i.cancel(e),this._abortController.abort()}}class JAe{constructor(e,i,r){this._stream=e,this._reader=null,this._loaded=0;const o=e.source;this._withCredentials=o.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!o.disableStream,this._abortController=new AbortController;const l=new Headers(e.headers);l.append("Range",`bytes=${i}-${r-1}`);const c=o.url;fetch(c,lne(l,this._withCredentials,this._abortController)).then(u=>{const h=cP(u.url);if(h!==e._responseOrigin)throw new Error(`Expected range response-origin "${h}" to match "${e._responseOrigin}".`);if(!ane(u.status))throw oA(u.status,c);this._readCapability.resolve(),this._reader=u.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:i}=await this._reader.read();return i?{value:e,done:i}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:cne(e),done:!1})}cancel(e){var i;(i=this._reader)==null||i.cancel(e),this._abortController.abort()}}const X4=200,K4=206;function QAe(n){const e=n.response;return typeof e!="string"?e:nA(e).buffer}class eCe{constructor({url:e,httpHeaders:i,withCredentials:r}){mt(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=rne(this.isHttp,i),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const i=new XMLHttpRequest,r=this.currXhrId++,o=this.pendingRequests[r]={xhr:i};i.open("GET",this.url),i.withCredentials=this.withCredentials;for(const[l,c]of this.headers)i.setRequestHeader(l,c);return this.isHttp&&"begin"in e&&"end"in e?(i.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),o.expectedStatus=K4):o.expectedStatus=X4,i.responseType="arraybuffer",yr(e.onError,"Expected `onError` callback to be provided."),i.onerror=()=>{e.onError(i.status)},i.onreadystatechange=this.onStateChange.bind(this,r),i.onprogress=this.onProgress.bind(this,r),o.onHeadersReceived=e.onHeadersReceived,o.onDone=e.onDone,o.onError=e.onError,o.onProgress=e.onProgress,i.send(null),r}onProgress(e,i){var o;const r=this.pendingRequests[e];r&&((o=r.onProgress)==null||o.call(r,i))}onStateChange(e,i){const r=this.pendingRequests[e];if(!r)return;const o=r.xhr;if(o.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),o.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],o.status===0&&this.isHttp){r.onError(o.status);return}const l=o.status||X4;if(!(l===X4&&r.expectedStatus===K4)&&l!==r.expectedStatus){r.onError(o.status);return}const u=QAe(o);if(l===K4){const h=o.getResponseHeader("Content-Range"),m=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);m?r.onDone({begin:parseInt(m[1],10),chunk:u}):(hn('Missing or invalid "Content-Range" header.'),r.onError(0))}else u?r.onDone({begin:0,chunk:u}):r.onError(o.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const i=this.pendingRequests[e].xhr;delete this.pendingRequests[e],i.abort()}}class tCe{constructor(e){this._source=e,this._manager=new eCe(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const i=this._rangeRequestReaders.indexOf(e);i>=0&&this._rangeRequestReaders.splice(i,1)}getFullReader(){return yr(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new nCe(this._manager,this._source),this._fullRequestReader}getRangeReader(e,i){const r=new iCe(this._manager,e,i);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var i;(i=this._fullRequestReader)==null||i.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class nCe{constructor(e,i){this._manager=e,this._url=i.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=i.disableRange||!1,this._contentLength=i.length,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,i=this._manager.getRequestXhr(e);this._manager._responseOrigin=cP(i.responseURL);const r=i.getAllResponseHeaders(),o=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(u=>{const[h,...m]=u.split(": ");return[h,m.join(": ")]}):[]),{allowRangeRequests:l,suggestedLength:c}=sne({responseHeaders:o,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});l&&(this._isRangeSupported=!0),this._contentLength=c||this._contentLength,this._filename=one(o),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=oA(e,this._url),this._headersCapability.reject(this._storedError);for(const i of this._requests)i.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var i;(i=this.onProgress)==null||i.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class iCe{constructor(e,i,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:i,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var i;const e=cP((i=this._manager.getRequestXhr(this._requestId))==null?void 0:i.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const i=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:i,done:!1}):this._queuedChunk=i,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=oA(e,this._url));for(const i of this._requests)i.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var i;this.isStreamingSupported||(i=this.onProgress)==null||i.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const i=this._queuedChunk;return this._queuedChunk=null,{value:i,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const rCe=/^[a-z][a-z0-9\-+.]+:/i;function sCe(n){if(rCe.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class oCe{constructor(e){this.source=e,this.url=sCe(e.url),yr(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return yr(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new aCe(this),this._fullRequestReader}getRangeReader(e,i){if(i<=this._progressiveDataLength)return null;const r=new lCe(this,e,i);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var i;(i=this._fullRequestReader)==null||i.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class aCe{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const i=e.source;this._contentLength=i.length,this._loaded=0,this._filename=null,this._disableRange=i.disableRange||!1,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!i.disableStream,this._isRangeSupported=!i.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(o=>{this._contentLength=o.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},o=>{o.code==="ENOENT"&&(o=oA(0,this._url.href)),this._storedError=o,this._headersCapability.reject(o)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",i=>{this._error(i)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Mm("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class lCe{constructor(e,i,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const o=e.source;this._isStreamingSupported=!o.disableStream;const l=process.getBuiltinModule("fs");this._setReadableStream(l.createReadStream(this._url,{start:i,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",i=>{this._error(i)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const cCe=1e5,EH=30;var PH,Xp,Zo,zE,VE,Mb,jh,WE,$E,Ob,Ow,Fw,Kp,Uw,qE,Lw,Fb,HE,GE,Bw,Ub,XE,Yp,zw,gf,une,dne,pM,el,HD,mM,hne,fne;const Sr=class Sr{constructor({textContentSource:e,container:i,viewport:r}){he(this,gf);he(this,Xp,Promise.withResolvers());he(this,Zo,null);he(this,zE,!1);he(this,VE,!!((PH=globalThis.FontInspector)!=null&&PH.enabled));he(this,Mb,null);he(this,jh,null);he(this,WE,0);he(this,$E,0);he(this,Ob,null);he(this,Ow,null);he(this,Fw,0);he(this,Kp,0);he(this,Uw,Object.create(null));he(this,qE,[]);he(this,Lw,null);he(this,Fb,[]);he(this,HE,new WeakMap);he(this,GE,null);var h;if(e instanceof ReadableStream)te(this,Lw,e);else if(typeof e=="object")te(this,Lw,new ReadableStream({start(m){m.enqueue(e),m.close()}}));else throw new Error('No "textContentSource" parameter specified.');te(this,Zo,te(this,Ow,i)),te(this,Kp,r.scale*mf.pixelRatio),te(this,Fw,r.rotation),te(this,jh,{div:null,properties:null,ctx:null});const{pageWidth:o,pageHeight:l,pageX:c,pageY:u}=r.rawDims;te(this,GE,[1,0,0,-1,-c,u+l]),te(this,$E,o),te(this,WE,l),fe(h=Sr,el,hne).call(h),R0(i,r),P(this,Xp).promise.finally(()=>{P(Sr,zw).delete(this),te(this,jh,null),te(this,Uw,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:i}=Cs.platform;return yn(this,"fontFamilyMap",new Map([["sans-serif",`${e&&i?"Calibri, ":""}sans-serif`],["monospace",`${e&&i?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{P(this,Ob).read().then(({value:i,done:r})=>{if(r){P(this,Xp).resolve();return}P(this,Mb)??te(this,Mb,i.lang),Object.assign(P(this,Uw),i.styles),fe(this,gf,une).call(this,i.items),e()},P(this,Xp).reject)};return te(this,Ob,P(this,Lw).getReader()),P(Sr,zw).add(this),e(),P(this,Xp).promise}update({viewport:e,onBefore:i=null}){var l;const r=e.scale*mf.pixelRatio,o=e.rotation;if(o!==P(this,Fw)&&(i==null||i(),te(this,Fw,o),R0(P(this,Ow),{rotation:o})),r!==P(this,Kp)){i==null||i(),te(this,Kp,r);const c={div:null,properties:null,ctx:fe(l=Sr,el,HD).call(l,P(this,Mb))};for(const u of P(this,Fb))c.properties=P(this,HE).get(u),c.div=u,fe(this,gf,pM).call(this,c)}}cancel(){var i;const e=new Mm("TextLayer task cancelled.");(i=P(this,Ob))==null||i.cancel(e).catch(()=>{}),te(this,Ob,null),P(this,Xp).reject(e)}get textDivs(){return P(this,Fb)}get textContentItemsStr(){return P(this,qE)}static cleanup(){if(!(P(this,zw).size>0)){P(this,Bw).clear();for(const{canvas:e}of P(this,Ub).values())e.remove();P(this,Ub).clear()}}};Xp=new WeakMap,Zo=new WeakMap,zE=new WeakMap,VE=new WeakMap,Mb=new WeakMap,jh=new WeakMap,WE=new WeakMap,$E=new WeakMap,Ob=new WeakMap,Ow=new WeakMap,Fw=new WeakMap,Kp=new WeakMap,Uw=new WeakMap,qE=new WeakMap,Lw=new WeakMap,Fb=new WeakMap,HE=new WeakMap,GE=new WeakMap,Bw=new WeakMap,Ub=new WeakMap,XE=new WeakMap,Yp=new WeakMap,zw=new WeakMap,gf=new WeakSet,une=function(e){var o,l;if(P(this,zE))return;(l=P(this,jh)).ctx??(l.ctx=fe(o=Sr,el,HD).call(o,P(this,Mb)));const i=P(this,Fb),r=P(this,qE);for(const c of e){if(i.length>cCe){hn("Ignoring additional textDivs for performance reasons."),te(this,zE,!0);return}if(c.str===void 0){if(c.type==="beginMarkedContentProps"||c.type==="beginMarkedContent"){const u=P(this,Zo);te(this,Zo,document.createElement("span")),P(this,Zo).classList.add("markedContent"),c.id!==null&&P(this,Zo).setAttribute("id",`${c.id}`),u.append(P(this,Zo))}else c.type==="endMarkedContent"&&te(this,Zo,P(this,Zo).parentNode);continue}r.push(c.str),fe(this,gf,dne).call(this,c)}},dne=function(e){var S;const i=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};P(this,Fb).push(i);const o=Wt.transform(P(this,GE),e.transform);let l=Math.atan2(o[1],o[0]);const c=P(this,Uw)[e.fontName];c.vertical&&(l+=Math.PI/2);let u=P(this,VE)&&c.fontSubstitution||c.fontFamily;u=Sr.fontFamilyMap.get(u)||u;const h=Math.hypot(o[2],o[3]),m=h*fe(S=Sr,el,fne).call(S,u,c,P(this,Mb));let g,y;l===0?(g=o[4],y=o[5]-m):(g=o[4]+m*Math.sin(l),y=o[5]-m*Math.cos(l));const v="calc(var(--total-scale-factor) *",_=i.style;P(this,Zo)===P(this,Ow)?(_.left=`${(100*g/P(this,$E)).toFixed(2)}%`,_.top=`${(100*y/P(this,WE)).toFixed(2)}%`):(_.left=`${v}${g.toFixed(2)}px)`,_.top=`${v}${y.toFixed(2)}px)`),_.fontSize=`${v}${(P(Sr,Yp)*h).toFixed(2)}px)`,_.fontFamily=u,r.fontSize=h,i.setAttribute("role","presentation"),i.textContent=e.str,i.dir=e.dir,P(this,VE)&&(i.dataset.fontName=c.fontSubstitutionLoadedName||e.fontName),l!==0&&(r.angle=l*(180/Math.PI));let A=!1;if(e.str.length>1)A=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const C=Math.abs(e.transform[0]),T=Math.abs(e.transform[3]);C!==T&&Math.max(C,T)/Math.min(C,T)>1.5&&(A=!0)}if(A&&(r.canvasWidth=c.vertical?e.height:e.width),P(this,HE).set(i,r),P(this,jh).div=i,P(this,jh).properties=r,fe(this,gf,pM).call(this,P(this,jh)),r.hasText&&P(this,Zo).append(i),r.hasEOL){const C=document.createElement("br");C.setAttribute("role","presentation"),P(this,Zo).append(C)}},pM=function(e){var u;const{div:i,properties:r,ctx:o}=e,{style:l}=i;let c="";if(P(Sr,Yp)>1&&(c=`scale(${1/P(Sr,Yp)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:h}=l,{canvasWidth:m,fontSize:g}=r;fe(u=Sr,el,mM).call(u,o,g*P(this,Kp),h);const{width:y}=o.measureText(i.textContent);y>0&&(c=`scaleX(${m*P(this,Kp)/y}) ${c}`)}r.angle!==0&&(c=`rotate(${r.angle}deg) ${c}`),c.length>0&&(l.transform=c)},el=new WeakSet,HD=function(e=null){let i=P(this,Ub).get(e||(e=""));if(!i){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),i=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),P(this,Ub).set(e,i),P(this,XE).set(i,{size:0,family:""})}return i},mM=function(e,i,r){const o=P(this,XE).get(e);i===o.size&&r===o.family||(e.font=`${i}px ${r}`,o.size=i,o.family=r)},hne=function(){if(P(this,Yp)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),te(this,Yp,e.getBoundingClientRect().height),e.remove()},fne=function(e,i,r){const o=P(this,Bw).get(e);if(o)return o;const l=fe(this,el,HD).call(this,r);l.canvas.width=l.canvas.height=EH,fe(this,el,mM).call(this,l,EH,e);const c=l.measureText(""),u=c.fontBoundingBoxAscent,h=Math.abs(c.fontBoundingBoxDescent);l.canvas.width=l.canvas.height=0;let m=.8;return u?m=u/(u+h):(Cs.platform.isFirefox&&hn("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),i.ascent?m=i.ascent:i.descent&&(m=1+i.descent)),P(this,Bw).set(e,m),m},he(Sr,el),he(Sr,Bw,new Map),he(Sr,Ub,new Map),he(Sr,XE,new WeakMap),he(Sr,Yp,null),he(Sr,zw,new Set);let oE=Sr;class aE{static textContent(e){const i=[],r={items:i,styles:Object.create(null)};function o(l){var h;if(!l)return;let c=null;const u=l.name;if(u==="#text")c=l.value;else if(aE.shouldBuildText(u))(h=l==null?void 0:l.attributes)!=null&&h.textContent?c=l.attributes.textContent:l.value&&(c=l.value);else return;if(c!==null&&i.push({str:c}),!!l.children)for(const m of l.children)o(m)}return o(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const uCe=65536,dCe=100;function pne(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new bM,{docId:i}=e,r=n.url?hCe(n.url):null,o=n.data?fCe(n.data):null,l=n.httpHeaders||null,c=n.withCredentials===!0,u=n.password??null,h=n.range instanceof mne?n.range:null,m=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:uCe;let g=n.worker instanceof fw?n.worker:null;const y=n.verbosity,v=typeof n.docBaseUrl=="string"&&!lP(n.docBaseUrl)?n.docBaseUrl:null,_=uD(n.cMapUrl),A=n.cMapPacked!==!1,S=n.CMapReaderFactory||(Ao?DAe:dH),C=uD(n.iccUrl),T=uD(n.standardFontDataUrl),N=n.StandardFontDataFactory||(Ao?NAe:hH),j=uD(n.wasmUrl),O=n.WasmFactory||(Ao?PAe:fH),F=n.stopAtErrors!==!0,U=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,V=n.isEvalSupported!==!1,B=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Ao,K=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!Ao&&(Cs.platform.isFirefox||!globalThis.chrome),oe=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,me=typeof n.disableFontFace=="boolean"?n.disableFontFace:Ao,Q=n.fontExtraProperties===!0,ge=n.enableXfa===!0,$=n.ownerDocument||globalThis.document,De=n.disableRange===!0,ie=n.disableStream===!0,ce=n.disableAutoFetch===!0,X=n.pdfBug===!0,Y=n.CanvasFactory||(Ao?TAe:SAe),ne=n.FilterFactory||(Ao?CAe:AAe),ee=n.enableHWA===!0,ue=n.useWasm!==!1,Z=h?h.length:n.length??NaN,xe=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Ao&&!me,Ae=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(S===dH&&N===hH&&O===fH&&_&&T&&j&&Sv(_,document.baseURI)&&Sv(T,document.baseURI)&&Sv(j,document.baseURI)),Oe=null;rAe(y);const Pe={canvasFactory:new Y({ownerDocument:$,enableHWA:ee}),filterFactory:new ne({docId:i,ownerDocument:$}),cMapReaderFactory:Ae?null:new S({baseUrl:_,isCompressed:A}),standardFontDataFactory:Ae?null:new N({baseUrl:T}),wasmFactory:Ae?null:new O({baseUrl:j})};if(!g){const Le={verbosity:y,port:fd.workerPort};g=Le.port?fw.fromPort(Le):new fw(Le),e._worker=g}const Me={docId:i,apiVersion:"5.2.133",data:o,password:u,disableAutoFetch:ce,rangeChunkSize:m,length:Z,docBaseUrl:v,enableXfa:ge,evaluatorOptions:{maxImageSize:U,disableFontFace:me,ignoreErrors:F,isEvalSupported:V,isOffscreenCanvasSupported:B,isImageDecoderSupported:K,canvasMaxAreaInBytes:oe,fontExtraProperties:Q,useSystemFonts:xe,useWasm:ue,useWorkerFetch:Ae,cMapUrl:_,iccUrl:C,standardFontDataUrl:T,wasmUrl:j}},Ve={ownerDocument:$,pdfBug:X,styleElement:Oe,loadingParams:{disableAutoFetch:ce,enableXfa:ge}};return g.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const Le=g.messageHandler.sendWithPromise("GetDocRequest",Me,o?[o.buffer]:null);let Ee;if(h)Ee=new GAe(h,{disableRange:De,disableStream:ie});else if(!o){if(!r)throw new Error("getDocument - no `url` parameter provided.");let we;if(Ao)if(Sv(r)){if(typeof fetch>"u"||typeof Response>"u"||!("body"in Response.prototype))throw new Error("getDocument - the Fetch API was disabled in Node.js, see `--no-experimental-fetch`.");we=kH}else we=oCe;else we=Sv(r)?kH:tCe;Ee=new we({url:r,length:Z,httpHeaders:l,withCredentials:c,rangeChunkSize:m,disableRange:De,disableStream:ie})}return Le.then(we=>{if(e.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const ze=new Lk(i,we,g.port),G=new vCe(ze,e,Ee,Ve,Pe);e._transport=G,ze.send("Ready",null)})}).catch(e._capability.reject),e}function hCe(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(Ao)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function fCe(n){if(Ao&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return nA(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function uD(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const gM=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,pCe=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",mCe=fAe.bind(null,gM,pCe);var EN;const SN=class SN{constructor(){mt(this,"_capability",Promise.withResolvers());mt(this,"_transport",null);mt(this,"_worker",null);mt(this,"docId",`d${wo(SN,EN)._++}`);mt(this,"destroyed",!1);mt(this,"onPassword",null);mt(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,i,r,o;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((i=this._transport)==null?void 0:i.destroy())}catch(l){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,l}this._transport=null,(o=this._worker)==null||o.destroy(),this._worker=null}async getData(){return this._transport.getData()}};EN=new WeakMap,he(SN,EN,0);let bM=SN;class mne{constructor(e,i,r=!1,o=null){this.length=e,this.initialData=i,this.progressiveDone=r,this.contentDispositionFilename=o,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,i){for(const r of this._rangeListeners)r(e,i)}onDataProgress(e,i){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,i)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const i of this._progressiveReadListeners)i(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,i){ri("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class gCe{constructor(e,i){this._pdfInfo=e,this._transport=i}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return yn(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:i}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(i)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Ih,Lb,$k;class bCe{constructor(e,i,r,o=!1){he(this,Lb);he(this,Ih,!1);this._pageIndex=e,this._pageInfo=i,this._transport=r,this._stats=o?new lH:null,this._pdfBug=o,this.commonObjs=r.commonObjs,this.objs=new gne,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:i=this.rotate,offsetX:r=0,offsetY:o=0,dontFlip:l=!1}={}){return new rA({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:i,offsetX:r,offsetY:o,dontFlip:l})}getAnnotations({intent:e="display"}={}){const{renderingIntent:i}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,i)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return yn(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:i,intent:r="display",annotationMode:o=Pp.ENABLE,transform:l=null,background:c=null,optionalContentConfigPromise:u=null,annotationCanvasMap:h=null,pageColors:m=null,printAnnotationStorage:g=null,isEditing:y=!1}){var O,F;(O=this._stats)==null||O.time("Overall");const v=this._transport.getRenderingIntent(r,o,g,y),{renderingIntent:_,cacheKey:A}=v;te(this,Ih,!1),u||(u=this._transport.getOptionalContentConfig(_));let S=this._intentStates.get(A);S||(S=Object.create(null),this._intentStates.set(A,S)),S.streamReaderCancelTimeout&&(clearTimeout(S.streamReaderCancelTimeout),S.streamReaderCancelTimeout=null);const C=!!(_&Xa.PRINT);S.displayReadyCapability||(S.displayReadyCapability=Promise.withResolvers(),S.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(F=this._stats)==null||F.time("Page Request"),this._pumpOperatorList(v));const T=U=>{var V;S.renderTasks.delete(N),C&&te(this,Ih,!0),fe(this,Lb,$k).call(this),U?(N.capability.reject(U),this._abortOperatorList({intentState:S,reason:U instanceof Error?U:new Error(U)})):N.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(V=globalThis.Stats)!=null&&V.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},N=new vM({callback:T,params:{canvasContext:e,viewport:i,transform:l,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:h,operatorList:S.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!C,pdfBug:this._pdfBug,pageColors:m});(S.renderTasks||(S.renderTasks=new Set)).add(N);const j=N.task;return Promise.all([S.displayReadyCapability.promise,u]).then(([U,V])=>{var B;if(this.destroyed){T();return}if((B=this._stats)==null||B.time("Rendering"),!(V.renderingIntent&_))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");N.initializeGraphics({transparency:U,optionalContentConfig:V}),N.operatorListChanged()}).catch(T),j}getOperatorList({intent:e="display",annotationMode:i=Pp.ENABLE,printAnnotationStorage:r=null,isEditing:o=!1}={}){var m;function l(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(h))}const c=this._transport.getRenderingIntent(e,i,r,o,!0);let u=this._intentStates.get(c.cacheKey);u||(u=Object.create(null),this._intentStates.set(c.cacheKey,u));let h;return u.opListReadCapability||(h=Object.create(null),h.operatorListChanged=l,u.opListReadCapability=Promise.withResolvers(),(u.renderTasks||(u.renderTasks=new Set)).add(h),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(m=this._stats)==null||m.time("Page Request"),this._pumpOperatorList(c)),u.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:i=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:i===!0},{highWaterMark:100,size(o){return o.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>aE.textContent(r));const i=this.streamTextContent(e);return new Promise(function(r,o){function l(){c.read().then(function({value:h,done:m}){if(m){r(u);return}u.lang??(u.lang=h.lang),Object.assign(u.styles,h.styles),u.items.push(...h.items),l()},o)}const c=i.getReader(),u={items:[],styles:Object.create(null),lang:null};l()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const i of this._intentStates.values())if(this._abortOperatorList({intentState:i,reason:new Error("Page was destroyed."),force:!0}),!i.opListReadCapability)for(const r of i.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),te(this,Ih,!1),Promise.all(e)}cleanup(e=!1){te(this,Ih,!0);const i=fe(this,Lb,$k).call(this);return e&&i&&this._stats&&(this._stats=new lH),i}_startRenderPage(e,i){var o,l;const r=this._intentStates.get(i);r&&((o=this._stats)==null||o.timeEnd("Page Request"),(l=r.displayReadyCapability)==null||l.resolve(e))}_renderPageChunk(e,i){for(let r=0,o=e.length;r<o;r++)i.operatorList.fnArray.push(e.fnArray[r]),i.operatorList.argsArray.push(e.argsArray[r]);i.operatorList.lastChunk=e.lastChunk,i.operatorList.separateAnnots=e.separateAnnots;for(const r of i.renderTasks)r.operatorListChanged();e.lastChunk&&fe(this,Lb,$k).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:i,annotationStorageSerializable:r,modifiedIds:o}){const{map:l,transfer:c}=r,h=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:i,annotationStorage:l,modifiedIds:o},c).getReader(),m=this._intentStates.get(i);m.streamReader=h;const g=()=>{h.read().then(({value:y,done:v})=>{if(v){m.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(y,m),g())},y=>{if(m.streamReader=null,!this._transport.destroyed){if(m.operatorList){m.operatorList.lastChunk=!0;for(const v of m.renderTasks)v.operatorListChanged();fe(this,Lb,$k).call(this)}if(m.displayReadyCapability)m.displayReadyCapability.reject(y);else if(m.opListReadCapability)m.opListReadCapability.reject(y);else throw y}})};g()}_abortOperatorList({intentState:e,reason:i,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(i instanceof yU){let o=dCe;i.extraDelay>0&&i.extraDelay<1e3&&(o+=i.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:i,force:!0})},o);return}}if(e.streamReader.cancel(new Mm(i.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[o,l]of this._intentStates)if(l===e){this._intentStates.delete(o);break}this.cleanup()}}}get stats(){return this._stats}}Ih=new WeakMap,Lb=new WeakSet,$k=function(){if(!P(this,Ih)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:i}of this._intentStates.values())if(e.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),te(this,Ih,!1),!0};var Rh,AN;class yCe{constructor(){he(this,Rh,new Map);he(this,AN,Promise.resolve())}postMessage(e,i){const r={data:structuredClone(e,i?{transfer:i}:null)};P(this,AN).then(()=>{for(const[o]of P(this,Rh))o.call(this,r)})}addEventListener(e,i,r=null){let o=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:l}=r;if(l.aborted){hn("LoopbackPort - cannot use an `aborted` signal.");return}const c=()=>this.removeEventListener(e,i);o=()=>l.removeEventListener("abort",c),l.addEventListener("abort",c)}P(this,Rh).set(i,o)}removeEventListener(e,i){const r=P(this,Rh).get(i);r==null||r(),P(this,Rh).delete(i)}terminate(){for(const[,e]of P(this,Rh))e==null||e();P(this,Rh).clear()}}Rh=new WeakMap,AN=new WeakMap;var CN,Bb,zb,Vw,GD,Ww,XD;const Ti=class Ti{constructor({name:e=null,port:i=null,verbosity:r=sAe()}={}){he(this,Vw);var o;if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,i){if((o=P(Ti,zb))!=null&&o.has(i))throw new Error("Cannot use more than one PDFWorker per port.");(P(Ti,zb)||te(Ti,zb,new WeakMap)).set(i,this),this._initializeFromPort(i);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Lk("main","worker",e),this._messageHandler.on("ready",function(){}),fe(this,Vw,GD).call(this)}_initialize(){if(P(Ti,Bb)||P(Ti,Ww,XD)){this._setupFakeWorker();return}let{workerSrc:e}=Ti;try{Ti._isSameOrigin(window.location,e)||(e=Ti._createCDNWrapper(new URL(e,window.location).href));const i=new Worker(e,{type:"module"}),r=new Lk("main","worker",i),o=()=>{l.abort(),r.destroy(),i.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},l=new AbortController;i.addEventListener("error",()=>{this._webWorker||o()},{signal:l.signal}),r.on("test",u=>{if(l.abort(),this.destroyed||!u){o();return}this._messageHandler=r,this._port=i,this._webWorker=i,fe(this,Vw,GD).call(this)}),r.on("ready",u=>{if(l.abort(),this.destroyed){o();return}try{c()}catch{this._setupFakeWorker()}});const c=()=>{const u=new Uint8Array;r.send("test",u,[u.buffer])};c();return}catch{aP("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){P(Ti,Bb)||(hn("Setting up fake worker."),te(Ti,Bb,!0)),Ti._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const i=new yCe;this._port=i;const r=`fake${wo(Ti,CN)._++}`,o=new Lk(r+"_worker",r,i);e.setup(o,i),this._messageHandler=new Lk(r,r+"_worker",i),fe(this,Vw,GD).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e,i,r;this.destroyed=!0,(e=this._webWorker)==null||e.terminate(),this._webWorker=null,(i=P(Ti,zb))==null||i.delete(this._port),this._port=null,(r=this._messageHandler)==null||r.destroy(),this._messageHandler=null}static fromPort(e){var r;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const i=(r=P(this,zb))==null?void 0:r.get(e.port);if(i){if(i._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return i}return new Ti(e)}static get workerSrc(){if(fd.workerSrc)return fd.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return yn(this,"_setupFakeWorkerGlobal",(async()=>P(this,Ww,XD)?P(this,Ww,XD):(await import(this.workerSrc)).WorkerMessageHandler)())}};CN=new WeakMap,Bb=new WeakMap,zb=new WeakMap,Vw=new WeakSet,GD=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Ww=new WeakSet,XD=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},he(Ti,Ww),he(Ti,CN,0),he(Ti,Bb,!1),he(Ti,zb),Ao&&(te(Ti,Bb,!0),fd.workerSrc||(fd.workerSrc="./pdf.worker.mjs")),Ti._isSameOrigin=(e,i)=>{const r=URL.parse(e);if(!(r!=null&&r.origin)||r.origin==="null")return!1;const o=new URL(i,r);return r.origin===o.origin},Ti._createCDNWrapper=e=>{const i=`await import("${e}");`;return URL.createObjectURL(new Blob([i],{type:"text/javascript"}))};let fw=Ti;var Mh,id,$w,qw,Oh,Vb,qk;class vCe{constructor(e,i,r,o,l){he(this,Vb);he(this,Mh,new Map);he(this,id,new Map);he(this,$w,new Map);he(this,qw,new Map);he(this,Oh,null);this.messageHandler=e,this.loadingTask=i,this.commonObjs=new gne,this.fontLoader=new kAe({ownerDocument:o.ownerDocument,styleElement:o.styleElement}),this.loadingParams=o.loadingParams,this._params=o,this.canvasFactory=l.canvasFactory,this.filterFactory=l.filterFactory,this.cMapReaderFactory=l.cMapReaderFactory,this.standardFontDataFactory=l.standardFontDataFactory,this.wasmFactory=l.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return yn(this,"annotationStorage",new kU)}getRenderingIntent(e,i=Pp.ENABLE,r=null,o=!1,l=!1){let c=Xa.DISPLAY,u=sM;switch(e){case"any":c=Xa.ANY;break;case"display":break;case"print":c=Xa.PRINT;break;default:hn(`getRenderingIntent - invalid intent: ${e}`)}const h=c&Xa.PRINT&&r instanceof Xte?r:this.annotationStorage;switch(i){case Pp.DISABLE:c+=Xa.ANNOTATIONS_DISABLE;break;case Pp.ENABLE:break;case Pp.ENABLE_FORMS:c+=Xa.ANNOTATIONS_FORMS;break;case Pp.ENABLE_STORAGE:c+=Xa.ANNOTATIONS_STORAGE,u=h.serializable;break;default:hn(`getRenderingIntent - invalid annotationMode: ${i}`)}o&&(c+=Xa.IS_EDITING),l&&(c+=Xa.OPLIST);const{ids:m,hash:g}=h.modifiedIds,y=[c,u.hash,g];return{renderingIntent:c,cacheKey:y.join("_"),annotationStorageSerializable:u,modifiedIds:m}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=P(this,Oh))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const o of P(this,id).values())e.push(o._destroy());P(this,id).clear(),P(this,$w).clear(),P(this,qw).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const i=this.messageHandler.sendWithPromise("Terminate",null);return e.push(i),Promise.all(e).then(()=>{var o,l;this.commonObjs.clear(),this.fontLoader.clear(),P(this,Mh).clear(),this.filterFactory.destroy(),oE.cleanup(),(o=this._networkStream)==null||o.cancelAllRequests(new Mm("Worker was terminated.")),(l=this.messageHandler)==null||l.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:i}=this;e.on("GetReader",(r,o)=>{yr(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=l=>{this._lastProgress={loaded:l.loaded,total:l.total}},o.onPull=()=>{this._fullReader.read().then(function({value:l,done:c}){if(c){o.close();return}yr(l instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),o.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{o.error(l)})},o.onCancel=l=>{this._fullReader.cancel(l),o.ready.catch(c=>{if(!this.destroyed)throw c})}}),e.on("ReaderHeadersReady",async r=>{var u;await this._fullReader.headersReady;const{isStreamingSupported:o,isRangeSupported:l,contentLength:c}=this._fullReader;return(!o||!l)&&(this._lastProgress&&((u=i.onProgress)==null||u.call(i,this._lastProgress)),this._fullReader.onProgress=h=>{var m;(m=i.onProgress)==null||m.call(i,{loaded:h.loaded,total:h.total})}),{isStreamingSupported:o,isRangeSupported:l,contentLength:c}}),e.on("GetRangeReader",(r,o)=>{yr(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const l=this._networkStream.getRangeReader(r.begin,r.end);if(!l){o.close();return}o.onPull=()=>{l.read().then(function({value:c,done:u}){if(u){o.close();return}yr(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),o.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{o.error(c)})},o.onCancel=c=>{l.cancel(c),o.ready.catch(u=>{if(!this.destroyed)throw u})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,i._capability.resolve(new gCe(r,this))}),e.on("DocException",r=>{i._capability.reject(Xo(r))}),e.on("PasswordRequest",r=>{te(this,Oh,Promise.withResolvers());try{if(!i.onPassword)throw Xo(r);const o=l=>{l instanceof Error?P(this,Oh).reject(l):P(this,Oh).resolve({password:l})};i.onPassword(o,r.code)}catch(o){P(this,Oh).reject(o)}return P(this,Oh).promise}),e.on("DataLoaded",r=>{var o;(o=i.onProgress)==null||o.call(i,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;P(this,id).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,o,l])=>{var c;if(this.destroyed||this.commonObjs.has(r))return null;switch(o){case"Font":if("error"in l){const g=l.error;hn(`Error during font loading: ${g}`),this.commonObjs.resolve(r,g);break}const u=this._params.pdfBug&&((c=globalThis.FontInspector)!=null&&c.enabled)?(g,y)=>globalThis.FontInspector.fontAdded(g,y):null,h=new EAe(l,u);this.fontLoader.bind(h).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!h.fontExtraProperties&&h.data&&(h.data=null),this.commonObjs.resolve(r,h)});break;case"CopyLocalImage":const{imageRef:m}=l;yr(m,"The imageRef must be defined.");for(const g of P(this,id).values())for(const[,y]of g.objs)if((y==null?void 0:y.ref)===m)return y.dataLen?(this.commonObjs.resolve(r,structuredClone(y)),y.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,l);break;default:throw new Error(`Got unknown common object type ${o}`)}return null}),e.on("obj",([r,o,l,c])=>{var h;if(this.destroyed)return;const u=P(this,id).get(o);if(!u.objs.has(r)){if(u._intentStates.size===0){(h=c==null?void 0:c.bitmap)==null||h.close();return}switch(l){case"Image":case"Pattern":u.objs.resolve(r,c);break;default:throw new Error(`Got unknown object type ${l}`)}}}),e.on("DocProgress",r=>{var o;this.destroyed||(o=i.onProgress)==null||o.call(i,{loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const o=this[r.type];if(!o)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return o.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&hn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:i}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},i).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const i=e-1,r=P(this,$w).get(i);if(r)return r;const o=this.messageHandler.sendWithPromise("GetPage",{pageIndex:i}).then(l=>{if(this.destroyed)throw new Error("Transport destroyed");l.refStr&&P(this,qw).set(l.refStr,e);const c=new bCe(i,l,this,this._params.pdfBug);return P(this,id).set(i,c),c});return P(this,$w).set(i,o),o}getPageIndex(e){return gM(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,i){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:i})}getFieldObjects(){return fe(this,Vb,qk).call(this,"GetFieldObjects")}hasJSActions(){return fe(this,Vb,qk).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return fe(this,Vb,qk).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return fe(this,Vb,qk).call(this,"GetOptionalContentConfig").then(i=>new HAe(i,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",i=P(this,Mh).get(e);if(i)return i;const r=this.messageHandler.sendWithPromise(e,null).then(o=>{var l,c;return{info:o[0],metadata:o[1]?new $Ae(o[1]):null,contentDispositionFilename:((l=this._fullReader)==null?void 0:l.filename)??null,contentLength:((c=this._fullReader)==null?void 0:c.contentLength)??null}});return P(this,Mh).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const i of P(this,id).values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),P(this,Mh).clear(),this.filterFactory.destroy(!0),oE.cleanup()}}cachedPageNumber(e){if(!gM(e))return null;const i=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return P(this,qw).get(i)??null}}Mh=new WeakMap,id=new WeakMap,$w=new WeakMap,qw=new WeakMap,Oh=new WeakMap,Vb=new WeakSet,qk=function(e,i=null){const r=P(this,Mh).get(e);if(r)return r;const o=this.messageHandler.sendWithPromise(e,i);return P(this,Mh).set(e,o),o};const Sk=Symbol("INITIAL_DATA");var Ua,KE,yM;class gne{constructor(){he(this,KE);he(this,Ua,Object.create(null))}get(e,i=null){if(i){const o=fe(this,KE,yM).call(this,e);return o.promise.then(()=>i(o.data)),null}const r=P(this,Ua)[e];if(!r||r.data===Sk)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const i=P(this,Ua)[e];return!!i&&i.data!==Sk}delete(e){const i=P(this,Ua)[e];return!i||i.data===Sk?!1:(delete P(this,Ua)[e],!0)}resolve(e,i=null){const r=fe(this,KE,yM).call(this,e);r.data=i,r.resolve()}clear(){var e;for(const i in P(this,Ua)){const{data:r}=P(this,Ua)[i];(e=r==null?void 0:r.bitmap)==null||e.close()}te(this,Ua,Object.create(null))}*[Symbol.iterator](){for(const e in P(this,Ua)){const{data:i}=P(this,Ua)[e];i!==Sk&&(yield[e,i])}}}Ua=new WeakMap,KE=new WeakSet,yM=function(e){var i;return(i=P(this,Ua))[e]||(i[e]={...Promise.withResolvers(),data:Sk})};var Zp;class wCe{constructor(e){he(this,Zp,null);mt(this,"onContinue",null);mt(this,"onError",null);te(this,Zp,e)}get promise(){return P(this,Zp).capability.promise}cancel(e=0){P(this,Zp).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=P(this,Zp).operatorList;if(!e)return!1;const{annotationCanvasMap:i}=P(this,Zp);return e.form||e.canvas&&(i==null?void 0:i.size)>0}}Zp=new WeakMap;var Jp,Wb;const sb=class sb{constructor({callback:e,params:i,objs:r,commonObjs:o,annotationCanvasMap:l,operatorList:c,pageIndex:u,canvasFactory:h,filterFactory:m,useRequestAnimationFrame:g=!1,pdfBug:y=!1,pageColors:v=null}){he(this,Jp,null);this.callback=e,this.params=i,this.objs=r,this.commonObjs=o,this.annotationCanvasMap=l,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=u,this.canvasFactory=h,this.filterFactory=m,this._pdfBug=y,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=g===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new wCe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=i.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:i}){var u,h;if(this.cancelled)return;if(this._canvas){if(P(sb,Wb).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");P(sb,Wb).add(this._canvas)}this._pdfBug&&((u=globalThis.StepperManager)!=null&&u.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:o,transform:l,background:c}=this.params;this.gfx=new hw(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:i},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:l,viewport:o,transparency:e,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,(h=this.graphicsReadyCallback)==null||h.call(this)}cancel(e=null,i=0){var r,o,l;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),P(this,Jp)&&(window.cancelAnimationFrame(P(this,Jp)),te(this,Jp,null)),P(sb,Wb).delete(this._canvas),e||(e=new yU(`Rendering cancelled, page ${this._pageIndex+1}`,i)),this.callback(e),(l=(o=this.task).onError)==null||l.call(o,e)}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?te(this,Jp,window.requestAnimationFrame(()=>{te(this,Jp,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),P(sb,Wb).delete(this._canvas),this.callback())))}};Jp=new WeakMap,Wb=new WeakMap,he(sb,Wb,new WeakSet);let vM=sb;const xCe="5.2.133",_Ce="4f7761353";function SH(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Ak(n){return Math.max(0,Math.min(255,255*n))}class AH{static CMYK_G([e,i,r,o]){return["G",1-Math.min(1,.3*e+.59*r+.11*i+o)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Ak(e),[e,e,e]}static G_HTML([e]){const i=SH(e);return`#${i}${i}${i}`}static RGB_G([e,i,r]){return["G",.3*e+.59*i+.11*r]}static RGB_rgb(e){return e.map(Ak)}static RGB_HTML(e){return`#${e.map(SH).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,i,r,o]){return["RGB",1-Math.min(1,e+o),1-Math.min(1,r+o),1-Math.min(1,i+o)]}static CMYK_rgb([e,i,r,o]){return[Ak(1-Math.min(1,e+o)),Ak(1-Math.min(1,r+o)),Ak(1-Math.min(1,i+o))]}static CMYK_HTML(e){const i=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(i)}static RGB_CMYK([e,i,r]){const o=1-e,l=1-i,c=1-r,u=Math.min(o,l,c);return["CMYK",o,l,c,u]}}class kCe{create(e,i,r=!1){if(e<=0||i<=0)throw new Error("Invalid SVG dimensions");const o=this._createSVG("svg:svg");return o.setAttribute("version","1.1"),r||(o.setAttribute("width",`${e}px`),o.setAttribute("height",`${i}px`)),o.setAttribute("preserveAspectRatio","none"),o.setAttribute("viewBox",`0 0 ${e} ${i}`),o}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){ri("Abstract method `_createSVG` called.")}}class dN extends kCe{_createSVG(e){return document.createElementNS(fh,e)}}class bne{static setupStorage(e,i,r,o,l){const c=o.getValue(i,{value:null});switch(r.name){case"textarea":if(c.value!==null&&(e.textContent=c.value),l==="print")break;e.addEventListener("input",u=>{o.setValue(i,{value:u.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(c.value===r.attributes.xfaOn?e.setAttribute("checked",!0):c.value===r.attributes.xfaOff&&e.removeAttribute("checked"),l==="print")break;e.addEventListener("change",u=>{o.setValue(i,{value:u.target.checked?u.target.getAttribute("xfaOn"):u.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&e.setAttribute("value",c.value),l==="print")break;e.addEventListener("input",u=>{o.setValue(i,{value:u.target.value})})}break;case"select":if(c.value!==null){e.setAttribute("value",c.value);for(const u of r.children)u.attributes.value===c.value?u.attributes.selected=!0:u.attributes.hasOwnProperty("selected")&&delete u.attributes.selected}e.addEventListener("input",u=>{const h=u.target.options,m=h.selectedIndex===-1?"":h[h.selectedIndex].value;o.setValue(i,{value:m})});break}}static setAttributes({html:e,element:i,storage:r=null,intent:o,linkService:l}){const{attributes:c}=i,u=e instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${o}`);for(const[h,m]of Object.entries(c))if(m!=null)switch(h){case"class":m.length&&e.setAttribute(h,m.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",m);break;case"style":Object.assign(e.style,m);break;case"textContent":e.textContent=m;break;default:(!u||h!=="href"&&h!=="newWindow")&&e.setAttribute(h,m)}u&&l.addLinkAttributes(e,c.href,c.newWindow),r&&c.dataId&&this.setupStorage(e,c.dataId,i,r)}static render(e){var y,v;const i=e.annotationStorage,r=e.linkService,o=e.xfaHtml,l=e.intent||"display",c=document.createElement(o.name);o.attributes&&this.setAttributes({html:c,element:o,intent:l,linkService:r});const u=l!=="richText",h=e.div;if(h.append(c),e.viewport){const _=`matrix(${e.viewport.transform.join(",")})`;h.style.transform=_}u&&h.setAttribute("class","xfaLayer xfaFont");const m=[];if(o.children.length===0){if(o.value){const _=document.createTextNode(o.value);c.append(_),u&&aE.shouldBuildText(o.name)&&m.push(_)}return{textDivs:m}}const g=[[o,-1,c]];for(;g.length>0;){const[_,A,S]=g.at(-1);if(A+1===_.children.length){g.pop();continue}const C=_.children[++g.at(-1)[1]];if(C===null)continue;const{name:T}=C;if(T==="#text"){const j=document.createTextNode(C.value);m.push(j),S.append(j);continue}const N=(y=C==null?void 0:C.attributes)!=null&&y.xmlns?document.createElementNS(C.attributes.xmlns,T):document.createElement(T);if(S.append(N),C.attributes&&this.setAttributes({html:N,element:C,storage:i,intent:l,linkService:r}),((v=C.children)==null?void 0:v.length)>0)g.push([C,-1,N]);else if(C.value){const j=document.createTextNode(C.value);u&&aE.shouldBuildText(T)&&m.push(j),N.append(j)}}for(const _ of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))_.setAttribute("readOnly",!0);return{textDivs:m}}static update(e){const i=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=i,e.div.hidden=!1}}const aA=1e3,ECe=9,O0=new WeakSet;class CH{static create(e){switch(e.data.annotationType){case mr.LINK:return new yne(e);case mr.TEXT:return new SCe(e);case mr.WIDGET:switch(e.data.fieldType){case"Tx":return new ACe(e);case"Btn":return e.data.radioButton?new xne(e):e.data.checkBox?new TCe(e):new DCe(e);case"Ch":return new NCe(e);case"Sig":return new CCe(e)}return new X0(e);case mr.POPUP:return new xM(e);case mr.FREETEXT:return new Ane(e);case mr.LINE:return new jCe(e);case mr.SQUARE:return new ICe(e);case mr.CIRCLE:return new RCe(e);case mr.POLYLINE:return new Cne(e);case mr.CARET:return new OCe(e);case mr.INK:return new AU(e);case mr.POLYGON:return new MCe(e);case mr.HIGHLIGHT:return new Tne(e);case mr.UNDERLINE:return new FCe(e);case mr.SQUIGGLY:return new UCe(e);case mr.STRIKEOUT:return new LCe(e);case mr.STAMP:return new Dne(e);case mr.FILEATTACHMENT:return new BCe(e);default:return new ar(e)}}}var $b,Hw,Gw,YE,wM;const jU=class jU{constructor(e,{isRenderable:i=!1,ignoreBorder:r=!1,createQuadrilaterals:o=!1}={}){he(this,YE);he(this,$b,null);he(this,Hw,!1);he(this,Gw,null);this.isRenderable=i,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,i&&(this.container=this._createContainer(r)),o&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:i,richText:r}){return!!(e!=null&&e.str||i!=null&&i.str||r!=null&&r.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return jU._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;P(this,$b)||te(this,$b,{rect:this.data.rect.slice(0)});const{rect:i}=e;i&&fe(this,YE,wM).call(this,i),(r=P(this,Gw))==null||r.popup.updateEdited(e)}resetEdited(){var e;P(this,$b)&&(fe(this,YE,wM).call(this,P(this,$b).rect),(e=P(this,Gw))==null||e.popup.resetEdited(),te(this,$b,null))}_createContainer(e){const{data:i,parent:{page:r,viewport:o}}=this,l=document.createElement("section");l.setAttribute("data-annotation-id",i.id),this instanceof X0||(l.tabIndex=aA);const{style:c}=l;if(c.zIndex=this.parent.zIndex++,i.alternativeText&&(l.title=i.alternativeText),i.noRotate&&l.classList.add("norotate"),!i.rect||this instanceof xM){const{rotation:S}=i;return!i.hasOwnCanvas&&S!==0&&this.setRotation(S,l),l}const{width:u,height:h}=this;if(!e&&i.borderStyle.width>0){c.borderWidth=`${i.borderStyle.width}px`;const S=i.borderStyle.horizontalCornerRadius,C=i.borderStyle.verticalCornerRadius;if(S>0||C>0){const N=`calc(${S}px * var(--total-scale-factor)) / calc(${C}px * var(--total-scale-factor))`;c.borderRadius=N}else if(this instanceof xne){const N=`calc(${u}px * var(--total-scale-factor)) / calc(${h}px * var(--total-scale-factor))`;c.borderRadius=N}switch(i.borderStyle.style){case Ev.SOLID:c.borderStyle="solid";break;case Ev.DASHED:c.borderStyle="dashed";break;case Ev.BEVELED:hn("Unimplemented border style: beveled");break;case Ev.INSET:hn("Unimplemented border style: inset");break;case Ev.UNDERLINE:c.borderBottomStyle="solid";break}const T=i.borderColor||null;T?(te(this,Hw,!0),c.borderColor=Wt.makeHexColor(T[0]|0,T[1]|0,T[2]|0)):c.borderWidth=0}const m=Wt.normalizeRect([i.rect[0],r.view[3]-i.rect[1]+r.view[1],i.rect[2],r.view[3]-i.rect[3]+r.view[1]]),{pageWidth:g,pageHeight:y,pageX:v,pageY:_}=o.rawDims;c.left=`${100*(m[0]-v)/g}%`,c.top=`${100*(m[1]-_)/y}%`;const{rotation:A}=i;return i.hasOwnCanvas||A===0?(c.width=`${100*u/g}%`,c.height=`${100*h/y}%`):this.setRotation(A,l),l}setRotation(e,i=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:o}=this.parent.viewport.rawDims;let{width:l,height:c}=this;e%180!==0&&([l,c]=[c,l]),i.style.width=`${100*l/r}%`,i.style.height=`${100*c/o}%`,i.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(i,r,o)=>{const l=o.detail[i],c=l[0],u=l.slice(1);o.target.style[r]=AH[`${c}_HTML`](u),this.annotationStorage.setValue(this.data.id,{[r]:AH[`${c}_rgb`](u)})};return yn(this,"_commonActions",{display:i=>{const{display:r}=i.detail,o=r%2===1;this.container.style.visibility=o?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:o,noPrint:r===1||r===2})},print:i=>{this.annotationStorage.setValue(this.data.id,{noPrint:!i.detail.print})},hidden:i=>{const{hidden:r}=i.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:i=>{setTimeout(()=>i.target.focus({preventScroll:!1}),0)},userName:i=>{i.target.title=i.detail.userName},readonly:i=>{i.target.disabled=i.detail.readonly},required:i=>{this._setRequired(i.target,i.detail.required)},bgColor:i=>{e("bgColor","backgroundColor",i)},fillColor:i=>{e("fillColor","backgroundColor",i)},fgColor:i=>{e("fgColor","color",i)},textColor:i=>{e("textColor","color",i)},borderColor:i=>{e("borderColor","borderColor",i)},strokeColor:i=>{e("strokeColor","borderColor",i)},rotation:i=>{const r=i.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,i){const r=this._commonActions;for(const o of Object.keys(i.detail)){const l=e[o]||r[o];l==null||l(i)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const i=this.annotationStorage.getRawValue(this.data.id);if(!i)return;const r=this._commonActions;for(const[o,l]of Object.entries(i)){const c=r[o];if(c){const u={detail:{[o]:l},target:e};c(u),delete i[o]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[i,r,o,l]=this.data.rect.map(S=>Math.fround(S));if(e.length===8){const[S,C,T,N]=e.subarray(2,6);if(o===S&&l===C&&i===T&&r===N)return}const{style:c}=this.container;let u;if(P(this,Hw)){const{borderColor:S,borderWidth:C}=c;c.borderWidth=0,u=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${S}" stroke-width="${C}">`],this.container.classList.add("hasBorder")}const h=o-i,m=l-r,{svgFactory:g}=this,y=g.createElement("svg");y.classList.add("quadrilateralsContainer"),y.setAttribute("width",0),y.setAttribute("height",0);const v=g.createElement("defs");y.append(v);const _=g.createElement("clipPath"),A=`clippath_${this.data.id}`;_.setAttribute("id",A),_.setAttribute("clipPathUnits","objectBoundingBox"),v.append(_);for(let S=2,C=e.length;S<C;S+=8){const T=e[S],N=e[S+1],j=e[S+2],O=e[S+3],F=g.createElement("rect"),U=(j-i)/h,V=(l-N)/m,B=(T-j)/h,K=(N-O)/m;F.setAttribute("x",U),F.setAttribute("y",V),F.setAttribute("width",B),F.setAttribute("height",K),_.append(F),u==null||u.push(`<rect vector-effect="non-scaling-stroke" x="${U}" y="${V}" width="${B}" height="${K}"/>`)}P(this,Hw)&&(u.push("</g></svg>')"),c.backgroundImage=u.join("")),this.container.append(y),this.container.style.clipPath=`url(#${A})`}_createPopup(){const{data:e}=this,i=te(this,Gw,new xM({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(i.render())}render(){ri("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,i=null){const r=[];if(this._fieldObjects){const o=this._fieldObjects[e];if(o)for(const{page:l,id:c,exportValues:u}of o){if(l===-1||c===i)continue;const h=typeof u=="string"?u:null,m=document.querySelector(`[data-element-id="${c}"]`);if(m&&!O0.has(m)){hn(`_getElementsByName - element not allowed: ${c}`);continue}r.push({id:c,exportValue:h,domElement:m})}return r}for(const o of document.getElementsByName(e)){const{exportValue:l}=o,c=o.getAttribute("data-element-id");c!==i&&O0.has(o)&&r.push({id:c,exportValue:l,domElement:o})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const i of e)i.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:i}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:i})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};$b=new WeakMap,Hw=new WeakMap,Gw=new WeakMap,YE=new WeakSet,wM=function(e){const{container:{style:i},data:{rect:r,rotation:o},parent:{viewport:{rawDims:{pageWidth:l,pageHeight:c,pageX:u,pageY:h}}}}=this;r==null||r.splice(0,4,...e),i.left=`${100*(e[0]-u)/l}%`,i.top=`${100*(c-e[3]+h)/c}%`,o===0?(i.width=`${100*(e[2]-e[0])/l}%`,i.height=`${100*(e[3]-e[1])/c}%`):this.setRotation(o)};let ar=jU;var Za,eb,vne,wne;class yne extends ar{constructor(i,r=null){super(i,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});he(this,Za);this.isTooltipOnly=i.data.isTooltipOnly}render(){const{data:i,linkService:r}=this,o=document.createElement("a");o.setAttribute("data-element-id",i.id);let l=!1;return i.url?(r.addLinkAttributes(o,i.url,i.newWindow),l=!0):i.action?(this._bindNamedAction(o,i.action),l=!0):i.attachment?(fe(this,Za,vne).call(this,o,i.attachment,i.attachmentDest),l=!0):i.setOCGState?(fe(this,Za,wne).call(this,o,i.setOCGState),l=!0):i.dest?(this._bindLink(o,i.dest),l=!0):(i.actions&&(i.actions.Action||i.actions["Mouse Up"]||i.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(o,i),l=!0),i.resetForm?(this._bindResetFormAction(o,i.resetForm),l=!0):this.isTooltipOnly&&!l&&(this._bindLink(o,""),l=!0)),this.container.classList.add("linkAnnotation"),l&&this.container.append(o),this.container}_bindLink(i,r){i.href=this.linkService.getDestinationHash(r),i.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&fe(this,Za,eb).call(this)}_bindNamedAction(i,r){i.href=this.linkService.getAnchorUrl(""),i.onclick=()=>(this.linkService.executeNamedAction(r),!1),fe(this,Za,eb).call(this)}_bindJSAction(i,r){i.href=this.linkService.getAnchorUrl("");const o=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const l of Object.keys(r.actions)){const c=o.get(l);c&&(i[c]=()=>{var u;return(u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:l}}),!1})}i.onclick||(i.onclick=()=>!1),fe(this,Za,eb).call(this)}_bindResetFormAction(i,r){const o=i.onclick;if(o||(i.href=this.linkService.getAnchorUrl("")),fe(this,Za,eb).call(this),!this._fieldObjects){hn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),o||(i.onclick=()=>!1);return}i.onclick=()=>{var y;o==null||o();const{fields:l,refs:c,include:u}=r,h=[];if(l.length!==0||c.length!==0){const v=new Set(c);for(const _ of l){const A=this._fieldObjects[_]||[];for(const{id:S}of A)v.add(S)}for(const _ of Object.values(this._fieldObjects))for(const A of _)v.has(A.id)===u&&h.push(A)}else for(const v of Object.values(this._fieldObjects))h.push(...v);const m=this.annotationStorage,g=[];for(const v of h){const{id:_}=v;switch(g.push(_),v.type){case"text":{const S=v.defaultValue||"";m.setValue(_,{value:S});break}case"checkbox":case"radiobutton":{const S=v.defaultValue===v.exportValues;m.setValue(_,{value:S});break}case"combobox":case"listbox":{const S=v.defaultValue||"";m.setValue(_,{value:S});break}default:continue}const A=document.querySelector(`[data-element-id="${_}"]`);if(A){if(!O0.has(A)){hn(`_bindResetFormAction - element not allowed: ${_}`);continue}}else continue;A.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:g,name:"ResetForm"}})),!1}}}Za=new WeakSet,eb=function(){this.container.setAttribute("data-internal-link","")},vne=function(i,r,o=null){i.href=this.linkService.getAnchorUrl(""),r.description&&(i.title=r.description),i.onclick=()=>{var l;return(l=this.downloadManager)==null||l.openOrDownloadData(r.content,r.filename,o),!1},fe(this,Za,eb).call(this)},wne=function(i,r){i.href=this.linkService.getAnchorUrl(""),i.onclick=()=>(this.linkService.executeSetOCGState(r),!1),fe(this,Za,eb).call(this)};class SCe extends ar{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class X0 extends ar{render(){return this.container}showElementAndHideCanvas(e){var i;this.data.hasOwnCanvas&&(((i=e.previousSibling)==null?void 0:i.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Cs.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,i,r,o,l){r.includes("mouse")?e.addEventListener(r,c=>{var u;(u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:o,value:l(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):e.addEventListener(r,c=>{var u;if(r==="blur"){if(!i.focused||!c.relatedTarget)return;i.focused=!1}else if(r==="focus"){if(i.focused)return;i.focused=!0}l&&((u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:o,value:l(c)}}))})}_setEventListeners(e,i,r,o){var l,c,u;for(const[h,m]of r)(m==="Action"||(l=this.data.actions)!=null&&l[m])&&((m==="Focus"||m==="Blur")&&(i||(i={focused:!1})),this._setEventListener(e,i,h,m,o),m==="Focus"&&!((c=this.data.actions)!=null&&c.Blur)?this._setEventListener(e,i,"blur","Blur",null):m==="Blur"&&!((u=this.data.actions)!=null&&u.Focus)&&this._setEventListener(e,i,"focus","Focus",null))}_setBackgroundColor(e){const i=this.data.backgroundColor||null;e.style.backgroundColor=i===null?"transparent":Wt.makeHexColor(i[0],i[1],i[2])}_setTextStyle(e){const i=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,o=this.data.defaultAppearanceData.fontSize||ECe,l=e.style;let c;const u=2,h=m=>Math.round(10*m)/10;if(this.data.multiLine){const m=Math.abs(this.data.rect[3]-this.data.rect[1]-u),g=Math.round(m/(V4*o))||1,y=m/g;c=Math.min(o,h(y/V4))}else{const m=Math.abs(this.data.rect[3]-this.data.rect[1]-u);c=Math.min(o,h(m/V4))}l.fontSize=`calc(${c}px * var(--total-scale-factor))`,l.color=Wt.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(l.textAlign=i[this.data.textAlignment])}_setRequired(e,i){i?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",i)}}class ACe extends X0{constructor(e){const i=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:i})}setPropertyOnSiblings(e,i,r,o){const l=this.annotationStorage;for(const c of this._getElementsByName(e.name,e.id))c.domElement&&(c.domElement[i]=r),l.setValue(c.id,{[o]:r})}render(){var o,l;const e=this.annotationStorage,i=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const c=e.getValue(i,{value:this.data.fieldValue});let u=c.value||"";const h=e.getValue(i,{charLimit:this.data.maxLen}).charLimit;h&&u.length>h&&(u=u.slice(0,h));let m=c.formattedValue||((o=this.data.textContent)==null?void 0:o.join(`
`))||null;m&&this.data.comb&&(m=m.replaceAll(/\s+/g,""));const g={userValue:u,formattedValue:m,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=m??u,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",m??u),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),O0.add(r),r.setAttribute("data-element-id",i),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=aA,this._setRequired(r,this.data.required),h&&(r.maxLength=h),r.addEventListener("input",v=>{e.setValue(i,{value:v.target.value}),this.setPropertyOnSiblings(r,"value",v.target.value,"value"),g.formattedValue=null}),r.addEventListener("resetform",v=>{const _=this.data.defaultFieldValue??"";r.value=g.userValue=_,g.formattedValue=null});let y=v=>{const{formattedValue:_}=g;_!=null&&(v.target.value=_),v.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",_=>{var S;if(g.focused)return;const{target:A}=_;g.userValue&&(A.value=g.userValue),g.lastCommittedValue=A.value,g.commitKey=1,(S=this.data.actions)!=null&&S.Focus||(g.focused=!0)}),r.addEventListener("updatefromsandbox",_=>{this.showElementAndHideCanvas(_.target);const A={value(S){g.userValue=S.detail.value??"",e.setValue(i,{value:g.userValue.toString()}),S.target.value=g.userValue},formattedValue(S){const{formattedValue:C}=S.detail;g.formattedValue=C,C!=null&&S.target!==document.activeElement&&(S.target.value=C),e.setValue(i,{formattedValue:C})},selRange(S){S.target.setSelectionRange(...S.detail.selRange)},charLimit:S=>{var j;const{charLimit:C}=S.detail,{target:T}=S;if(C===0){T.removeAttribute("maxLength");return}T.setAttribute("maxLength",C);let N=g.userValue;!N||N.length<=C||(N=N.slice(0,C),T.value=g.userValue=N,e.setValue(i,{value:N}),(j=this.linkService.eventBus)==null||j.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:N,willCommit:!0,commitKey:1,selStart:T.selectionStart,selEnd:T.selectionEnd}}))}};this._dispatchEventFromSandbox(A,_)}),r.addEventListener("keydown",_=>{var C;g.commitKey=1;let A=-1;if(_.key==="Escape"?A=0:_.key==="Enter"&&!this.data.multiLine?A=2:_.key==="Tab"&&(g.commitKey=3),A===-1)return;const{value:S}=_.target;g.lastCommittedValue!==S&&(g.lastCommittedValue=S,g.userValue=S,(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:S,willCommit:!0,commitKey:A,selStart:_.target.selectionStart,selEnd:_.target.selectionEnd}}))});const v=y;y=null,r.addEventListener("blur",_=>{var S,C;if(!g.focused||!_.relatedTarget)return;(S=this.data.actions)!=null&&S.Blur||(g.focused=!1);const{value:A}=_.target;g.userValue=A,g.lastCommittedValue!==A&&((C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:A,willCommit:!0,commitKey:g.commitKey,selStart:_.target.selectionStart,selEnd:_.target.selectionEnd}})),v(_)}),(l=this.data.actions)!=null&&l.Keystroke&&r.addEventListener("beforeinput",_=>{var F;g.lastCommittedValue=null;const{data:A,target:S}=_,{value:C,selectionStart:T,selectionEnd:N}=S;let j=T,O=N;switch(_.inputType){case"deleteWordBackward":{const U=C.substring(0,T).match(/\w*[^\w]*$/);U&&(j-=U[0].length);break}case"deleteWordForward":{const U=C.substring(T).match(/^[^\w]*\w*/);U&&(O+=U[0].length);break}case"deleteContentBackward":T===N&&(j-=1);break;case"deleteContentForward":T===N&&(O+=1);break}_.preventDefault(),(F=this.linkService.eventBus)==null||F.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:C,change:A||"",willCommit:!1,selStart:j,selEnd:O}})}),this._setEventListeners(r,g,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],_=>_.target.value)}if(y&&r.addEventListener("blur",y),this.data.comb){const _=(this.data.rect[2]-this.data.rect[0])/h;r.classList.add("comb"),r.style.letterSpacing=`calc(${_}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class CCe extends X0{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class TCe extends X0{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,i=this.data,r=i.id;let o=e.getValue(r,{value:i.exportValue===i.fieldValue}).value;typeof o=="string"&&(o=o!=="Off",e.setValue(r,{value:o})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const l=document.createElement("input");return O0.add(l),l.setAttribute("data-element-id",r),l.disabled=i.readOnly,this._setRequired(l,this.data.required),l.type="checkbox",l.name=i.fieldName,o&&l.setAttribute("checked",!0),l.setAttribute("exportValue",i.exportValue),l.tabIndex=aA,l.addEventListener("change",c=>{const{name:u,checked:h}=c.target;for(const m of this._getElementsByName(u,r)){const g=h&&m.exportValue===i.exportValue;m.domElement&&(m.domElement.checked=g),e.setValue(m.id,{value:g})}e.setValue(r,{value:h})}),l.addEventListener("resetform",c=>{const u=i.defaultFieldValue||"Off";c.target.checked=u===i.exportValue}),this.enableScripting&&this.hasJSActions&&(l.addEventListener("updatefromsandbox",c=>{const u={value(h){h.target.checked=h.detail.value!=="Off",e.setValue(r,{value:h.target.checked})}};this._dispatchEventFromSandbox(u,c)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class xne extends X0{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,i=this.data,r=i.id;let o=e.getValue(r,{value:i.fieldValue===i.buttonValue}).value;if(typeof o=="string"&&(o=o!==i.buttonValue,e.setValue(r,{value:o})),o)for(const c of this._getElementsByName(i.fieldName,r))e.setValue(c.id,{value:!1});const l=document.createElement("input");if(O0.add(l),l.setAttribute("data-element-id",r),l.disabled=i.readOnly,this._setRequired(l,this.data.required),l.type="radio",l.name=i.fieldName,o&&l.setAttribute("checked",!0),l.tabIndex=aA,l.addEventListener("change",c=>{const{name:u,checked:h}=c.target;for(const m of this._getElementsByName(u,r))e.setValue(m.id,{value:!1});e.setValue(r,{value:h})}),l.addEventListener("resetform",c=>{const u=i.defaultFieldValue;c.target.checked=u!=null&&u===i.buttonValue}),this.enableScripting&&this.hasJSActions){const c=i.buttonValue;l.addEventListener("updatefromsandbox",u=>{const h={value:m=>{const g=c===m.detail.value;for(const y of this._getElementsByName(m.target.name)){const v=g&&y.id===r;y.domElement&&(y.domElement.checked=v),e.setValue(y.id,{value:v})}}};this._dispatchEventFromSandbox(h,u)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)}return this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class DCe extends yne{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const i=e.lastChild;return this.enableScripting&&this.hasJSActions&&i&&(this._setDefaultPropertiesFromJS(i),i.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class NCe extends X0{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,i=this.data.id,r=e.getValue(i,{value:this.data.fieldValue}),o=document.createElement("select");O0.add(o),o.setAttribute("data-element-id",i),o.disabled=this.data.readOnly,this._setRequired(o,this.data.required),o.name=this.data.fieldName,o.tabIndex=aA;let l=this.data.combo&&this.data.options.length>0;this.data.combo||(o.size=this.data.options.length,this.data.multiSelect&&(o.multiple=!0)),o.addEventListener("resetform",g=>{const y=this.data.defaultFieldValue;for(const v of o.options)v.selected=v.value===y});for(const g of this.data.options){const y=document.createElement("option");y.textContent=g.displayValue,y.value=g.exportValue,r.value.includes(g.exportValue)&&(y.setAttribute("selected",!0),l=!1),o.append(y)}let c=null;if(l){const g=document.createElement("option");g.value=" ",g.setAttribute("hidden",!0),g.setAttribute("selected",!0),o.prepend(g),c=()=>{g.remove(),o.removeEventListener("input",c),c=null},o.addEventListener("input",c)}const u=g=>{const y=g?"value":"textContent",{options:v,multiple:_}=o;return _?Array.prototype.filter.call(v,A=>A.selected).map(A=>A[y]):v.selectedIndex===-1?null:v[v.selectedIndex][y]};let h=u(!1);const m=g=>{const y=g.target.options;return Array.prototype.map.call(y,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(o.addEventListener("updatefromsandbox",g=>{const y={value(v){c==null||c();const _=v.detail.value,A=new Set(Array.isArray(_)?_:[_]);for(const S of o.options)S.selected=A.has(S.value);e.setValue(i,{value:u(!0)}),h=u(!1)},multipleSelection(v){o.multiple=!0},remove(v){const _=o.options,A=v.detail.remove;_[A].selected=!1,o.remove(A),_.length>0&&Array.prototype.findIndex.call(_,C=>C.selected)===-1&&(_[0].selected=!0),e.setValue(i,{value:u(!0),items:m(v)}),h=u(!1)},clear(v){for(;o.length!==0;)o.remove(0);e.setValue(i,{value:null,items:[]}),h=u(!1)},insert(v){const{index:_,displayValue:A,exportValue:S}=v.detail.insert,C=o.children[_],T=document.createElement("option");T.textContent=A,T.value=S,C?C.before(T):o.append(T),e.setValue(i,{value:u(!0),items:m(v)}),h=u(!1)},items(v){const{items:_}=v.detail;for(;o.length!==0;)o.remove(0);for(const A of _){const{displayValue:S,exportValue:C}=A,T=document.createElement("option");T.textContent=S,T.value=C,o.append(T)}o.options.length>0&&(o.options[0].selected=!0),e.setValue(i,{value:u(!0),items:m(v)}),h=u(!1)},indices(v){const _=new Set(v.detail.indices);for(const A of v.target.options)A.selected=_.has(A.index);e.setValue(i,{value:u(!0)}),h=u(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(y,g)}),o.addEventListener("input",g=>{var _;const y=u(!0),v=u(!1);e.setValue(i,{value:y}),g.preventDefault(),(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:h,change:v,changeEx:y,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(o,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],g=>g.target.value)):o.addEventListener("input",function(g){e.setValue(i,{value:u(!0)})}),this.data.combo&&this._setTextStyle(o),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class xM extends ar{constructor(e){const{data:i,elements:r}=e;super(e,{isRenderable:ar._hasPopupData(i)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new PCe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),i=[];for(const r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",i.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(r=>`${bU}${r}`).join(",")),this.container}}var Xw,TN,DN,Kw,Yw,Ki,Fh,Zw,ZE,JE,Jw,Uh,Oc,Lh,QE,Bh,eS,qb,Hb,si,KD,_M,_ne,kne,Ene,Sne,YD,ZD,kM;class PCe{constructor({container:e,color:i,elements:r,titleObj:o,modificationDate:l,contentsObj:c,richText:u,parent:h,rect:m,parentRect:g,open:y}){he(this,si);he(this,Xw,fe(this,si,Ene).bind(this));he(this,TN,fe(this,si,kM).bind(this));he(this,DN,fe(this,si,ZD).bind(this));he(this,Kw,fe(this,si,YD).bind(this));he(this,Yw,null);he(this,Ki,null);he(this,Fh,null);he(this,Zw,null);he(this,ZE,null);he(this,JE,null);he(this,Jw,null);he(this,Uh,!1);he(this,Oc,null);he(this,Lh,null);he(this,QE,null);he(this,Bh,null);he(this,eS,null);he(this,qb,null);he(this,Hb,!1);var v;te(this,Ki,e),te(this,eS,o),te(this,Fh,c),te(this,Bh,u),te(this,JE,h),te(this,Yw,i),te(this,QE,m),te(this,Jw,g),te(this,ZE,r),te(this,Zw,wU.toDateObject(l)),this.trigger=r.flatMap(_=>_.getElementsToTriggerPopup());for(const _ of this.trigger)_.addEventListener("click",P(this,Kw)),_.addEventListener("mouseenter",P(this,DN)),_.addEventListener("mouseleave",P(this,TN)),_.classList.add("popupTriggerArea");for(const _ of r)(v=_.container)==null||v.addEventListener("keydown",P(this,Xw));P(this,Ki).hidden=!0,y&&fe(this,si,YD).call(this)}render(){if(P(this,Oc))return;const e=te(this,Oc,document.createElement("div"));if(e.className="popup",P(this,Yw)){const l=e.style.outlineColor=Wt.makeHexColor(...P(this,Yw));e.style.backgroundColor=`color-mix(in srgb, ${l} 30%, white)`}const i=document.createElement("span");i.className="header";const r=document.createElement("h1");if(i.append(r),{dir:r.dir,str:r.textContent}=P(this,eS),e.append(i),P(this,Zw)){const l=document.createElement("span");l.classList.add("popupDate"),l.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),l.setAttribute("data-l10n-args",JSON.stringify({dateObj:P(this,Zw).valueOf()})),i.append(l)}const o=P(this,si,KD);if(o)bne.render({xfaHtml:o,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const l=this._formatContents(P(this,Fh));e.append(l)}P(this,Ki).append(e)}_formatContents({str:e,dir:i}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=i;const o=e.split(/(?:\r\n?|\n)/);for(let l=0,c=o.length;l<c;++l){const u=o[l];r.append(document.createTextNode(u)),l<c-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:i}){var r;P(this,qb)||te(this,qb,{contentsObj:P(this,Fh),richText:P(this,Bh)}),e&&te(this,Lh,null),i&&(te(this,Bh,fe(this,si,kne).call(this,i)),te(this,Fh,null)),(r=P(this,Oc))==null||r.remove(),te(this,Oc,null)}resetEdited(){var e;P(this,qb)&&({contentsObj:wo(this,Fh)._,richText:wo(this,Bh)._}=P(this,qb),te(this,qb,null),(e=P(this,Oc))==null||e.remove(),te(this,Oc,null),te(this,Lh,null))}forceHide(){te(this,Hb,this.isVisible),P(this,Hb)&&(P(this,Ki).hidden=!0)}maybeShow(){P(this,Hb)&&(P(this,Oc)||fe(this,si,ZD).call(this),te(this,Hb,!1),P(this,Ki).hidden=!1)}get isVisible(){return P(this,Ki).hidden===!1}}Xw=new WeakMap,TN=new WeakMap,DN=new WeakMap,Kw=new WeakMap,Yw=new WeakMap,Ki=new WeakMap,Fh=new WeakMap,Zw=new WeakMap,ZE=new WeakMap,JE=new WeakMap,Jw=new WeakMap,Uh=new WeakMap,Oc=new WeakMap,Lh=new WeakMap,QE=new WeakMap,Bh=new WeakMap,eS=new WeakMap,qb=new WeakMap,Hb=new WeakMap,si=new WeakSet,KD=function(){const e=P(this,Bh),i=P(this,Fh);return e!=null&&e.str&&(!(i!=null&&i.str)||i.str===e.str)&&P(this,Bh).html||null},_M=function(){var e,i,r;return((r=(i=(e=P(this,si,KD))==null?void 0:e.attributes)==null?void 0:i.style)==null?void 0:r.fontSize)||0},_ne=function(){var e,i,r;return((r=(i=(e=P(this,si,KD))==null?void 0:e.attributes)==null?void 0:i.style)==null?void 0:r.color)||null},kne=function(e){const i=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:i}]}},o={style:{color:P(this,si,_ne),fontSize:P(this,si,_M)?`calc(${P(this,si,_M)}px * var(--total-scale-factor))`:""}};for(const l of e.split(`
`))i.push({name:"span",value:l,attributes:o});return r},Ene=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&P(this,Uh))&&fe(this,si,YD).call(this)},Sne=function(){if(P(this,Lh)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:i,pageHeight:r,pageX:o,pageY:l}}}=P(this,JE);let c=!!P(this,Jw),u=c?P(this,Jw):P(this,QE);for(const A of P(this,ZE))if(!u||Wt.intersect(A.data.rect,u)!==null){u=A.data.rect,c=!0;break}const h=Wt.normalizeRect([u[0],e[3]-u[1]+e[1],u[2],e[3]-u[3]+e[1]]),g=c?u[2]-u[0]+5:0,y=h[0]+g,v=h[1];te(this,Lh,[100*(y-o)/i,100*(v-l)/r]);const{style:_}=P(this,Ki);_.left=`${P(this,Lh)[0]}%`,_.top=`${P(this,Lh)[1]}%`},YD=function(){te(this,Uh,!P(this,Uh)),P(this,Uh)?(fe(this,si,ZD).call(this),P(this,Ki).addEventListener("click",P(this,Kw)),P(this,Ki).addEventListener("keydown",P(this,Xw))):(fe(this,si,kM).call(this),P(this,Ki).removeEventListener("click",P(this,Kw)),P(this,Ki).removeEventListener("keydown",P(this,Xw)))},ZD=function(){P(this,Oc)||this.render(),this.isVisible?P(this,Uh)&&P(this,Ki).classList.add("focused"):(fe(this,si,Sne).call(this),P(this,Ki).hidden=!1,P(this,Ki).style.zIndex=parseInt(P(this,Ki).style.zIndex)+1e3)},kM=function(){P(this,Ki).classList.remove("focused"),!(P(this,Uh)||!this.isVisible)&&(P(this,Ki).hidden=!0,P(this,Ki).style.zIndex=parseInt(P(this,Ki).style.zIndex)-1e3)};class Ane extends ar{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=dn.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const i of this.textContent){const r=document.createElement("span");r.textContent=i,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var tS;class jCe extends ar{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});he(this,tS,null)}render(){this.container.classList.add("lineAnnotation");const{data:i,width:r,height:o}=this,l=this.svgFactory.create(r,o,!0),c=te(this,tS,this.svgFactory.createElement("svg:line"));return c.setAttribute("x1",i.rect[2]-i.lineCoordinates[0]),c.setAttribute("y1",i.rect[3]-i.lineCoordinates[1]),c.setAttribute("x2",i.rect[2]-i.lineCoordinates[2]),c.setAttribute("y2",i.rect[3]-i.lineCoordinates[3]),c.setAttribute("stroke-width",i.borderStyle.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),l.append(c),this.container.append(l),!i.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return P(this,tS)}addHighlightArea(){this.container.classList.add("highlightArea")}}tS=new WeakMap;var nS;class ICe extends ar{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});he(this,nS,null)}render(){this.container.classList.add("squareAnnotation");const{data:i,width:r,height:o}=this,l=this.svgFactory.create(r,o,!0),c=i.borderStyle.width,u=te(this,nS,this.svgFactory.createElement("svg:rect"));return u.setAttribute("x",c/2),u.setAttribute("y",c/2),u.setAttribute("width",r-c),u.setAttribute("height",o-c),u.setAttribute("stroke-width",c||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!i.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return P(this,nS)}addHighlightArea(){this.container.classList.add("highlightArea")}}nS=new WeakMap;var iS;class RCe extends ar{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});he(this,iS,null)}render(){this.container.classList.add("circleAnnotation");const{data:i,width:r,height:o}=this,l=this.svgFactory.create(r,o,!0),c=i.borderStyle.width,u=te(this,iS,this.svgFactory.createElement("svg:ellipse"));return u.setAttribute("cx",r/2),u.setAttribute("cy",o/2),u.setAttribute("rx",r/2-c/2),u.setAttribute("ry",o/2-c/2),u.setAttribute("stroke-width",c||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!i.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return P(this,iS)}addHighlightArea(){this.container.classList.add("highlightArea")}}iS=new WeakMap;var rS;class Cne extends ar{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});he(this,rS,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:i,vertices:r,borderStyle:o,popupRef:l},width:c,height:u}=this;if(!r)return this.container;const h=this.svgFactory.create(c,u,!0);let m=[];for(let y=0,v=r.length;y<v;y+=2){const _=r[y]-i[0],A=i[3]-r[y+1];m.push(`${_},${A}`)}m=m.join(" ");const g=te(this,rS,this.svgFactory.createElement(this.svgElementName));return g.setAttribute("points",m),g.setAttribute("stroke-width",o.width||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),h.append(g),this.container.append(h),!l&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return P(this,rS)}addHighlightArea(){this.container.classList.add("highlightArea")}}rS=new WeakMap;class MCe extends Cne{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class OCe extends ar{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var sS,Gb,oS,EM;class AU extends ar{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});he(this,oS);he(this,sS,null);he(this,Gb,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?dn.HIGHLIGHT:dn.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:i,rotation:r,inkLists:o,borderStyle:l,popupRef:c}}=this,{transform:u,width:h,height:m}=fe(this,oS,EM).call(this,r,i),g=this.svgFactory.create(h,m,!0),y=te(this,sS,this.svgFactory.createElement("svg:g"));g.append(y),y.setAttribute("stroke-width",l.width||1),y.setAttribute("stroke-linecap","round"),y.setAttribute("stroke-linejoin","round"),y.setAttribute("stroke-miterlimit",10),y.setAttribute("stroke","transparent"),y.setAttribute("fill","transparent"),y.setAttribute("transform",u);for(let v=0,_=o.length;v<_;v++){const A=this.svgFactory.createElement(this.svgElementName);P(this,Gb).push(A),A.setAttribute("points",o[v].join(",")),y.append(A)}return!c&&this.hasPopupData&&this._createPopup(),this.container.append(g),this._editOnDoubleClick(),this.container}updateEdited(i){super.updateEdited(i);const{thickness:r,points:o,rect:l}=i,c=P(this,sS);if(r>=0&&c.setAttribute("stroke-width",r||1),o)for(let u=0,h=P(this,Gb).length;u<h;u++)P(this,Gb)[u].setAttribute("points",o[u].join(","));if(l){const{transform:u,width:h,height:m}=fe(this,oS,EM).call(this,this.data.rotation,l);c.parentElement.setAttribute("viewBox",`0 0 ${h} ${m}`),c.setAttribute("transform",u)}}getElementsToTriggerPopup(){return P(this,Gb)}addHighlightArea(){this.container.classList.add("highlightArea")}}sS=new WeakMap,Gb=new WeakMap,oS=new WeakSet,EM=function(i,r){switch(i){case 90:return{transform:`rotate(90) translate(${-r[0]},${r[1]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};case 180:return{transform:`rotate(180) translate(${-r[2]},${r[1]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]};case 270:return{transform:`rotate(270) translate(${-r[2]},${r[3]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};default:return{transform:`translate(${-r[0]},${r[3]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]}}};class Tne extends ar{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=dn.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class FCe extends ar{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class UCe extends ar{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class LCe extends ar{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Dne extends ar{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=dn.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var aS,lS,SM;class BCe extends ar{constructor(i){var o;super(i,{isRenderable:!0});he(this,lS);he(this,aS,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(o=this.linkService.eventBus)==null||o.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:i,data:r}=this;let o;r.hasAppearance||r.fillAlpha===0?o=document.createElement("div"):(o=document.createElement("img"),o.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(o.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),o.addEventListener("dblclick",fe(this,lS,SM).bind(this)),te(this,aS,o);const{isMac:l}=Cs.platform;return i.addEventListener("keydown",c=>{c.key==="Enter"&&(l?c.metaKey:c.ctrlKey)&&fe(this,lS,SM).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():o.classList.add("popupTriggerArea"),i.append(o),i}getElementsToTriggerPopup(){return P(this,aS)}addHighlightArea(){this.container.classList.add("highlightArea")}}aS=new WeakMap,lS=new WeakSet,SM=function(){var i;(i=this.downloadManager)==null||i.openOrDownloadData(this.content,this.filename)};var cS,Xb,Qp,uS,Lm,CM,TM;const IU=class IU{constructor({div:e,accessibilityManager:i,annotationCanvasMap:r,annotationEditorUIManager:o,page:l,viewport:c,structTreeLayer:u}){he(this,Lm);he(this,cS,null);he(this,Xb,null);he(this,Qp,new Map);he(this,uS,null);this.div=e,te(this,cS,i),te(this,Xb,r),te(this,uS,u||null),this.page=l,this.viewport=c,this.zIndex=0,this._annotationEditorUIManager=o}hasEditableAnnotations(){return P(this,Qp).size>0}async render(e){var c;const{annotations:i}=e,r=this.div;R0(r,this.viewport);const o=new Map,l={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new dN,annotationStorage:e.annotationStorage||new kU,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const u of i){if(u.noHTML)continue;const h=u.annotationType===mr.POPUP;if(h){const y=o.get(u.id);if(!y)continue;l.elements=y}else if(u.rect[2]===u.rect[0]||u.rect[3]===u.rect[1])continue;l.data=u;const m=CH.create(l);if(!m.isRenderable)continue;if(!h&&u.popupRef){const y=o.get(u.popupRef);y?y.push(m):o.set(u.popupRef,[m])}const g=m.render();u.hidden&&(g.style.visibility="hidden"),await fe(this,Lm,CM).call(this,g,u.id),m._isEditable&&(P(this,Qp).set(m.data.id,m),(c=this._annotationEditorUIManager)==null||c.renderAnnotationElement(m))}fe(this,Lm,TM).call(this)}async addLinkAnnotations(e,i){const r={data:null,layer:this.div,linkService:i,svgFactory:new dN,parent:this};for(const o of e){o.borderStyle||(o.borderStyle=IU._defaultBorderStyle),r.data=o;const l=CH.create(r);if(!l.isRenderable)continue;const c=l.render();await fe(this,Lm,CM).call(this,c,o.id)}}update({viewport:e}){const i=this.div;this.viewport=e,R0(i,{rotation:e.rotation}),fe(this,Lm,TM).call(this),i.hidden=!1}getEditableAnnotations(){return Array.from(P(this,Qp).values())}getEditableAnnotation(e){return P(this,Qp).get(e)}static get _defaultBorderStyle(){return yn(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Ev.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};cS=new WeakMap,Xb=new WeakMap,Qp=new WeakMap,uS=new WeakMap,Lm=new WeakSet,CM=async function(e,i){var c,u;const r=e.firstChild||e,o=r.id=`${bU}${i}`,l=await((c=P(this,uS))==null?void 0:c.getAriaAttributes(o));if(l)for(const[h,m]of l)r.setAttribute(h,m);this.div.append(e),(u=P(this,cS))==null||u.moveElementInDOM(this.div,e,r,!1)},TM=function(){var i;if(!P(this,Xb))return;const e=this.div;for(const[r,o]of P(this,Xb)){const l=e.querySelector(`[data-annotation-id="${r}"]`);if(!l)continue;o.className="annotationContent";const{firstChild:c}=l;c?c.nodeName==="CANVAS"?c.replaceWith(o):c.classList.contains("annotationContent")?c.after(o):c.before(o):l.append(o);const u=P(this,Qp).get(r);u&&(u._hasNoCanvas?((i=this._annotationEditorUIManager)==null||i.setMissingCanvas(r,l.id,o),u._hasNoCanvas=!1):u.canvas=o)}P(this,Xb).clear()};let AM=IU;const dD=/\r\n?|\n/g;var Fc,La,dS,Kb,Ba,vr,Nne,Pne,jne,JD,nf,QD,e5,Ine,NM,Rne;const fi=class fi extends mi{constructor(i){super({...i,name:"freeTextEditor"});he(this,vr);he(this,Fc);he(this,La,"");he(this,dS,`${this.id}-editor`);he(this,Kb,null);he(this,Ba);te(this,Fc,i.color||fi._defaultColor||mi._defaultLineColor),te(this,Ba,i.fontSize||fi._defaultFontSize)}static get _keyboardManager(){const i=fi.prototype,r=c=>c.isEmpty(),o=M0.TRANSLATE_SMALL,l=M0.TRANSLATE_BIG;return yn(this,"_keyboardManager",new sA([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],i.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],i.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],i._translateEmpty,{args:[-o,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],i._translateEmpty,{args:[-l,0],checker:r}],[["ArrowRight","mac+ArrowRight"],i._translateEmpty,{args:[o,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],i._translateEmpty,{args:[l,0],checker:r}],[["ArrowUp","mac+ArrowUp"],i._translateEmpty,{args:[0,-o],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],i._translateEmpty,{args:[0,-l],checker:r}],[["ArrowDown","mac+ArrowDown"],i._translateEmpty,{args:[0,o],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],i._translateEmpty,{args:[0,l],checker:r}]]))}static initialize(i,r){mi.initialize(i,r);const o=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(o.getPropertyValue("--freetext-padding"))}static updateDefaultParams(i,r){switch(i){case En.FREETEXT_SIZE:fi._defaultFontSize=r;break;case En.FREETEXT_COLOR:fi._defaultColor=r;break}}updateParams(i,r){switch(i){case En.FREETEXT_SIZE:fe(this,vr,Nne).call(this,r);break;case En.FREETEXT_COLOR:fe(this,vr,Pne).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[En.FREETEXT_SIZE,fi._defaultFontSize],[En.FREETEXT_COLOR,fi._defaultColor||mi._defaultLineColor]]}get propertiesToUpdate(){return[[En.FREETEXT_SIZE,P(this,Ba)],[En.FREETEXT_COLOR,P(this,Fc)]]}_translateEmpty(i,r){this._uiManager.translateSelectedEditors(i,r,!0)}getInitialTranslation(){const i=this.parentScale;return[-fi._internalPadding*i,-(fi._internalPadding+P(this,Ba))*i]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(dn.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),te(this,Kb,new AbortController);const i=this._uiManager.combinedSignal(P(this,Kb));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:i}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:i}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:i}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:i}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:i})}disableEditMode(){var i;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",P(this,dS)),this._isDraggable=!0,(i=P(this,Kb))==null||i.abort(),te(this,Kb,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(i){this._focusEventsAllowed&&(super.focusin(i),i.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(i){var r;this.width||(this.enableEditMode(),i&&this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const i=P(this,La),r=te(this,La,fe(this,vr,jne).call(this).trimEnd());if(i===r)return;const o=l=>{if(te(this,La,l),!l){this.remove();return}fe(this,vr,e5).call(this),this._uiManager.rebuild(this),fe(this,vr,JD).call(this)};this.addCommands({cmd:()=>{o(r)},undo:()=>{o(i)},mustExec:!1}),fe(this,vr,JD).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(i){this.enterInEditMode()}keydown(i){i.target===this.div&&i.key==="Enter"&&(this.enterInEditMode(),i.preventDefault())}editorDivKeydown(i){fi._keyboardManager.exec(this,i)}editorDivFocus(i){this.isEditing=!0}editorDivBlur(i){this.isEditing=!1}editorDivInput(i){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let i,r;(this._isCopy||this.annotationElementId)&&(i=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",P(this,dS)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:o}=this.editorDiv;if(o.fontSize=`calc(${P(this,Ba)}px * var(--total-scale-factor))`,o.color=P(this,Fc),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),_U(this,this.div,["dblclick","keydown"]),this._isCopy||this.annotationElementId){const[l,c]=this.parentDimensions;if(this.annotationElementId){const{position:u}=this._initialData;let[h,m]=this.getInitialTranslation();[h,m]=this.pageTranslationToScreen(h,m);const[g,y]=this.pageDimensions,[v,_]=this.pageTranslation;let A,S;switch(this.rotation){case 0:A=i+(u[0]-v)/g,S=r+this.height-(u[1]-_)/y;break;case 90:A=i+(u[0]-v)/g,S=r-(u[1]-_)/y,[h,m]=[m,-h];break;case 180:A=i-this.width+(u[0]-v)/g,S=r-(u[1]-_)/y,[h,m]=[-h,-m];break;case 270:A=i+(u[0]-v-this.height*y)/g,S=r+(u[1]-_-this.width*g)/y,[h,m]=[-m,h];break}this.setAt(A*l,S*c,h,m)}else this._moveAfterPaste(i,r);fe(this,vr,e5).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(i){var A,S,C;const r=i.clipboardData||window.clipboardData,{types:o}=r;if(o.length===1&&o[0]==="text/plain")return;i.preventDefault();const l=fe(A=fi,nf,NM).call(A,r.getData("text")||"").replaceAll(dD,`
`);if(!l)return;const c=window.getSelection();if(!c.rangeCount)return;this.editorDiv.normalize(),c.deleteFromDocument();const u=c.getRangeAt(0);if(!l.includes(`
`)){u.insertNode(document.createTextNode(l)),this.editorDiv.normalize(),c.collapseToStart();return}const{startContainer:h,startOffset:m}=u,g=[],y=[];if(h.nodeType===Node.TEXT_NODE){const T=h.parentElement;if(y.push(h.nodeValue.slice(m).replaceAll(dD,"")),T!==this.editorDiv){let N=g;for(const j of this.editorDiv.childNodes){if(j===T){N=y;continue}N.push(fe(S=fi,nf,QD).call(S,j))}}g.push(h.nodeValue.slice(0,m).replaceAll(dD,""))}else if(h===this.editorDiv){let T=g,N=0;for(const j of this.editorDiv.childNodes)N++===m&&(T=y),T.push(fe(C=fi,nf,QD).call(C,j))}te(this,La,`${g.join(`
`)}${l}${y.join(`
`)}`),fe(this,vr,e5).call(this);const v=new Range;let _=Math.sumPrecise(g.map(T=>T.length));for(const{firstChild:T}of this.editorDiv.childNodes)if(T.nodeType===Node.TEXT_NODE){const N=T.nodeValue.length;if(_<=N){v.setStart(T,_),v.setEnd(T,_);break}_-=N}c.removeAllRanges(),c.addRange(v)}get contentDiv(){return this.editorDiv}static async deserialize(i,r,o){var u;let l=null;if(i instanceof Ane){const{data:{defaultAppearanceData:{fontSize:h,fontColor:m},rect:g,rotation:y,id:v,popupRef:_},textContent:A,textPosition:S,parent:{page:{pageNumber:C}}}=i;if(!A||A.length===0)return null;l=i={annotationType:dn.FREETEXT,color:Array.from(m),fontSize:h,value:A.join(`
`),position:S,pageIndex:C-1,rect:g.slice(0),rotation:y,id:v,deleted:!1,popupRef:_}}const c=await super.deserialize(i,r,o);return te(c,Ba,i.fontSize),te(c,Fc,Wt.makeHexColor(...i.color)),te(c,La,fe(u=fi,nf,NM).call(u,i.value)),c.annotationElementId=i.id||null,c._initialData=l,c}serialize(i=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=fi._internalPadding*this.parentScale,o=this.getRect(r,r),l=mi._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:P(this,Fc)),c={annotationType:dn.FREETEXT,color:l,fontSize:P(this,Ba),value:fe(this,vr,Ine).call(this),pageIndex:this.pageIndex,rect:o,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return i?(c.isCopy=!0,c):this.annotationElementId&&!fe(this,vr,Rne).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(i){const r=super.renderAnnotationElement(i);if(this.deleted)return r;const{style:o}=r;o.fontSize=`calc(${P(this,Ba)}px * var(--total-scale-factor))`,o.color=P(this,Fc),r.replaceChildren();for(const c of P(this,La).split(`
`)){const u=document.createElement("div");u.append(c?document.createTextNode(c):document.createElement("br")),r.append(u)}const l=fi._internalPadding*this.parentScale;return i.updateEdited({rect:this.getRect(l,l),popupContent:P(this,La)}),r}resetAnnotationElement(i){super.resetAnnotationElement(i),i.resetEdited()}};Fc=new WeakMap,La=new WeakMap,dS=new WeakMap,Kb=new WeakMap,Ba=new WeakMap,vr=new WeakSet,Nne=function(i){const r=l=>{this.editorDiv.style.fontSize=`calc(${l}px * var(--total-scale-factor))`,this.translate(0,-(l-P(this,Ba))*this.parentScale),te(this,Ba,l),fe(this,vr,JD).call(this)},o=P(this,Ba);this.addCommands({cmd:r.bind(this,i),undo:r.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:En.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Pne=function(i){const r=l=>{te(this,Fc,this.editorDiv.style.color=l)},o=P(this,Fc);this.addCommands({cmd:r.bind(this,i),undo:r.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:En.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},jne=function(){var o;const i=[];this.editorDiv.normalize();let r=null;for(const l of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&l.nodeName==="BR"||(i.push(fe(o=fi,nf,QD).call(o,l)),r=l);return i.join(`
`)},JD=function(){const[i,r]=this.parentDimensions;let o;if(this.isAttachedToDOM)o=this.div.getBoundingClientRect();else{const{currentLayer:l,div:c}=this,u=c.style.display,h=c.classList.contains("hidden");c.classList.remove("hidden"),c.style.display="hidden",l.div.append(this.div),o=c.getBoundingClientRect(),c.remove(),c.style.display=u,c.classList.toggle("hidden",h)}this.rotation%180===this.parentRotation%180?(this.width=o.width/i,this.height=o.height/r):(this.width=o.height/i,this.height=o.width/r),this.fixAndSetPosition()},nf=new WeakSet,QD=function(i){return(i.nodeType===Node.TEXT_NODE?i.nodeValue:i.innerText).replaceAll(dD,"")},e5=function(){if(this.editorDiv.replaceChildren(),!!P(this,La))for(const i of P(this,La).split(`
`)){const r=document.createElement("div");r.append(i?document.createTextNode(i):document.createElement("br")),this.editorDiv.append(r)}},Ine=function(){return P(this,La).replaceAll(" "," ")},NM=function(i){return i.replaceAll(" "," ")},Rne=function(i){const{value:r,fontSize:o,color:l,pageIndex:c}=this._initialData;return this._hasBeenMoved||i.value!==r||i.fontSize!==o||i.color.some((u,h)=>u!==l[h])||i.pageIndex!==c},he(fi,nf),mt(fi,"_freeTextDefaultContent",""),mt(fi,"_internalPadding",0),mt(fi,"_defaultColor",null),mt(fi,"_defaultFontSize",10),mt(fi,"_type","freetext"),mt(fi,"_editorType",dn.FREETEXT);let DM=fi;class Ct{toSVGPath(){ri("Abstract method `toSVGPath` must be implemented.")}get box(){ri("Abstract getter `box` must be implemented.")}serialize(e,i){ri("Abstract method `serialize` must be implemented.")}static _rescale(e,i,r,o,l,c){c||(c=new Float32Array(e.length));for(let u=0,h=e.length;u<h;u+=2)c[u]=i+e[u]*o,c[u+1]=r+e[u+1]*l;return c}static _rescaleAndSwap(e,i,r,o,l,c){c||(c=new Float32Array(e.length));for(let u=0,h=e.length;u<h;u+=2)c[u]=i+e[u+1]*o,c[u+1]=r+e[u]*l;return c}static _translate(e,i,r,o){o||(o=new Float32Array(e.length));for(let l=0,c=e.length;l<c;l+=2)o[l]=i+e[l],o[l+1]=r+e[l+1];return o}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,i,r,o,l){switch(l){case 90:return[1-i/r,e/o];case 180:return[1-e/r,1-i/o];case 270:return[i/r,1-e/o];default:return[e/r,i/o]}}static _normalizePagePoint(e,i,r){switch(r){case 90:return[1-i,e];case 180:return[1-e,1-i];case 270:return[i,1-e];default:return[e,i]}}static createBezierPoints(e,i,r,o,l,c){return[(e+5*r)/6,(i+5*o)/6,(5*r+l)/6,(5*o+c)/6,(r+l)/2,(o+c)/2]}}mt(Ct,"PRECISION",1e-4);var za,Uc,Qw,e1,rd,bn,Yb,Zb,hS,fS,t1,n1,em,pS,NN,PN,Pr,Hk,Mne,One,Fne,Une,Lne,Bne;const vh=class vh{constructor({x:e,y:i},r,o,l,c,u=0){he(this,Pr);he(this,za);he(this,Uc,[]);he(this,Qw);he(this,e1);he(this,rd,[]);he(this,bn,new Float32Array(18));he(this,Yb);he(this,Zb);he(this,hS);he(this,fS);he(this,t1);he(this,n1);he(this,em,[]);te(this,za,r),te(this,n1,l*o),te(this,e1,c),P(this,bn).set([NaN,NaN,NaN,NaN,e,i],6),te(this,Qw,u),te(this,fS,P(vh,pS)*o),te(this,hS,P(vh,PN)*o),te(this,t1,o),P(this,em).push(e,i)}isEmpty(){return isNaN(P(this,bn)[8])}add({x:e,y:i}){var K;te(this,Yb,e),te(this,Zb,i);const[r,o,l,c]=P(this,za);let[u,h,m,g]=P(this,bn).subarray(8,12);const y=e-m,v=i-g,_=Math.hypot(y,v);if(_<P(this,hS))return!1;const A=_-P(this,fS),S=A/_,C=S*y,T=S*v;let N=u,j=h;u=m,h=g,m+=C,g+=T,(K=P(this,em))==null||K.push(e,i);const O=-T/A,F=C/A,U=O*P(this,n1),V=F*P(this,n1);return P(this,bn).set(P(this,bn).subarray(2,8),0),P(this,bn).set([m+U,g+V],4),P(this,bn).set(P(this,bn).subarray(14,18),12),P(this,bn).set([m-U,g-V],16),isNaN(P(this,bn)[6])?(P(this,rd).length===0&&(P(this,bn).set([u+U,h+V],2),P(this,rd).push(NaN,NaN,NaN,NaN,(u+U-r)/l,(h+V-o)/c),P(this,bn).set([u-U,h-V],14),P(this,Uc).push(NaN,NaN,NaN,NaN,(u-U-r)/l,(h-V-o)/c)),P(this,bn).set([N,j,u,h,m,g],6),!this.isEmpty()):(P(this,bn).set([N,j,u,h,m,g],6),Math.abs(Math.atan2(j-h,N-u)-Math.atan2(T,C))<Math.PI/2?([u,h,m,g]=P(this,bn).subarray(2,6),P(this,rd).push(NaN,NaN,NaN,NaN,((u+m)/2-r)/l,((h+g)/2-o)/c),[u,h,N,j]=P(this,bn).subarray(14,18),P(this,Uc).push(NaN,NaN,NaN,NaN,((N+u)/2-r)/l,((j+h)/2-o)/c),!0):([N,j,u,h,m,g]=P(this,bn).subarray(0,6),P(this,rd).push(((N+5*u)/6-r)/l,((j+5*h)/6-o)/c,((5*u+m)/6-r)/l,((5*h+g)/6-o)/c,((u+m)/2-r)/l,((h+g)/2-o)/c),[m,g,u,h,N,j]=P(this,bn).subarray(12,18),P(this,Uc).push(((N+5*u)/6-r)/l,((j+5*h)/6-o)/c,((5*u+m)/6-r)/l,((5*h+g)/6-o)/c,((u+m)/2-r)/l,((h+g)/2-o)/c),!0))}toSVGPath(){if(this.isEmpty())return"";const e=P(this,rd),i=P(this,Uc);if(isNaN(P(this,bn)[6])&&!this.isEmpty())return fe(this,Pr,Mne).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let o=6;o<e.length;o+=6)isNaN(e[o])?r.push(`L${e[o+4]} ${e[o+5]}`):r.push(`C${e[o]} ${e[o+1]} ${e[o+2]} ${e[o+3]} ${e[o+4]} ${e[o+5]}`);fe(this,Pr,Fne).call(this,r);for(let o=i.length-6;o>=6;o-=6)isNaN(i[o])?r.push(`L${i[o+4]} ${i[o+5]}`):r.push(`C${i[o]} ${i[o+1]} ${i[o+2]} ${i[o+3]} ${i[o+4]} ${i[o+5]}`);return fe(this,Pr,One).call(this,r),r.join(" ")}newFreeDrawOutline(e,i,r,o,l,c){return new zne(e,i,r,o,l,c)}getOutlines(){var y;const e=P(this,rd),i=P(this,Uc),r=P(this,bn),[o,l,c,u]=P(this,za),h=new Float32Array((((y=P(this,em))==null?void 0:y.length)??0)+2);for(let v=0,_=h.length-2;v<_;v+=2)h[v]=(P(this,em)[v]-o)/c,h[v+1]=(P(this,em)[v+1]-l)/u;if(h[h.length-2]=(P(this,Yb)-o)/c,h[h.length-1]=(P(this,Zb)-l)/u,isNaN(r[6])&&!this.isEmpty())return fe(this,Pr,Une).call(this,h);const m=new Float32Array(P(this,rd).length+24+P(this,Uc).length);let g=e.length;for(let v=0;v<g;v+=2){if(isNaN(e[v])){m[v]=m[v+1]=NaN;continue}m[v]=e[v],m[v+1]=e[v+1]}g=fe(this,Pr,Bne).call(this,m,g);for(let v=i.length-6;v>=6;v-=6)for(let _=0;_<6;_+=2){if(isNaN(i[v+_])){m[g]=m[g+1]=NaN,g+=2;continue}m[g]=i[v+_],m[g+1]=i[v+_+1],g+=2}return fe(this,Pr,Lne).call(this,m,g),this.newFreeDrawOutline(m,h,P(this,za),P(this,t1),P(this,Qw),P(this,e1))}};za=new WeakMap,Uc=new WeakMap,Qw=new WeakMap,e1=new WeakMap,rd=new WeakMap,bn=new WeakMap,Yb=new WeakMap,Zb=new WeakMap,hS=new WeakMap,fS=new WeakMap,t1=new WeakMap,n1=new WeakMap,em=new WeakMap,pS=new WeakMap,NN=new WeakMap,PN=new WeakMap,Pr=new WeakSet,Hk=function(){const e=P(this,bn).subarray(4,6),i=P(this,bn).subarray(16,18),[r,o,l,c]=P(this,za);return[(P(this,Yb)+(e[0]-i[0])/2-r)/l,(P(this,Zb)+(e[1]-i[1])/2-o)/c,(P(this,Yb)+(i[0]-e[0])/2-r)/l,(P(this,Zb)+(i[1]-e[1])/2-o)/c]},Mne=function(){const[e,i,r,o]=P(this,za),[l,c,u,h]=fe(this,Pr,Hk).call(this);return`M${(P(this,bn)[2]-e)/r} ${(P(this,bn)[3]-i)/o} L${(P(this,bn)[4]-e)/r} ${(P(this,bn)[5]-i)/o} L${l} ${c} L${u} ${h} L${(P(this,bn)[16]-e)/r} ${(P(this,bn)[17]-i)/o} L${(P(this,bn)[14]-e)/r} ${(P(this,bn)[15]-i)/o} Z`},One=function(e){const i=P(this,Uc);e.push(`L${i[4]} ${i[5]} Z`)},Fne=function(e){const[i,r,o,l]=P(this,za),c=P(this,bn).subarray(4,6),u=P(this,bn).subarray(16,18),[h,m,g,y]=fe(this,Pr,Hk).call(this);e.push(`L${(c[0]-i)/o} ${(c[1]-r)/l} L${h} ${m} L${g} ${y} L${(u[0]-i)/o} ${(u[1]-r)/l}`)},Une=function(e){const i=P(this,bn),[r,o,l,c]=P(this,za),[u,h,m,g]=fe(this,Pr,Hk).call(this),y=new Float32Array(36);return y.set([NaN,NaN,NaN,NaN,(i[2]-r)/l,(i[3]-o)/c,NaN,NaN,NaN,NaN,(i[4]-r)/l,(i[5]-o)/c,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,m,g,NaN,NaN,NaN,NaN,(i[16]-r)/l,(i[17]-o)/c,NaN,NaN,NaN,NaN,(i[14]-r)/l,(i[15]-o)/c],0),this.newFreeDrawOutline(y,e,P(this,za),P(this,t1),P(this,Qw),P(this,e1))},Lne=function(e,i){const r=P(this,Uc);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],i),i+=6},Bne=function(e,i){const r=P(this,bn).subarray(4,6),o=P(this,bn).subarray(16,18),[l,c,u,h]=P(this,za),[m,g,y,v]=fe(this,Pr,Hk).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-l)/u,(r[1]-c)/h,NaN,NaN,NaN,NaN,m,g,NaN,NaN,NaN,NaN,y,v,NaN,NaN,NaN,NaN,(o[0]-l)/u,(o[1]-c)/h],i),i+=24},he(vh,pS,8),he(vh,NN,2),he(vh,PN,P(vh,pS)+P(vh,NN));let hN=vh;var i1,Jb,zh,mS,Va,gS,nr,jN,Vne;class zne extends Ct{constructor(i,r,o,l,c,u){super();he(this,jN);he(this,i1);he(this,Jb,new Float32Array(4));he(this,zh);he(this,mS);he(this,Va);he(this,gS);he(this,nr);te(this,nr,i),te(this,Va,r),te(this,i1,o),te(this,gS,l),te(this,zh,c),te(this,mS,u),this.lastPoint=[NaN,NaN],fe(this,jN,Vne).call(this,u);const[h,m,g,y]=P(this,Jb);for(let v=0,_=i.length;v<_;v+=2)i[v]=(i[v]-h)/g,i[v+1]=(i[v+1]-m)/y;for(let v=0,_=r.length;v<_;v+=2)r[v]=(r[v]-h)/g,r[v+1]=(r[v+1]-m)/y}toSVGPath(){const i=[`M${P(this,nr)[4]} ${P(this,nr)[5]}`];for(let r=6,o=P(this,nr).length;r<o;r+=6){if(isNaN(P(this,nr)[r])){i.push(`L${P(this,nr)[r+4]} ${P(this,nr)[r+5]}`);continue}i.push(`C${P(this,nr)[r]} ${P(this,nr)[r+1]} ${P(this,nr)[r+2]} ${P(this,nr)[r+3]} ${P(this,nr)[r+4]} ${P(this,nr)[r+5]}`)}return i.push("Z"),i.join(" ")}serialize([i,r,o,l],c){const u=o-i,h=l-r;let m,g;switch(c){case 0:m=Ct._rescale(P(this,nr),i,l,u,-h),g=Ct._rescale(P(this,Va),i,l,u,-h);break;case 90:m=Ct._rescaleAndSwap(P(this,nr),i,r,u,h),g=Ct._rescaleAndSwap(P(this,Va),i,r,u,h);break;case 180:m=Ct._rescale(P(this,nr),o,r,-u,h),g=Ct._rescale(P(this,Va),o,r,-u,h);break;case 270:m=Ct._rescaleAndSwap(P(this,nr),o,l,-u,-h),g=Ct._rescaleAndSwap(P(this,Va),o,l,-u,-h);break}return{outline:Array.from(m),points:[Array.from(g)]}}get box(){return P(this,Jb)}newOutliner(i,r,o,l,c,u=0){return new hN(i,r,o,l,c,u)}getNewOutline(i,r){const[o,l,c,u]=P(this,Jb),[h,m,g,y]=P(this,i1),v=c*g,_=u*y,A=o*g+h,S=l*y+m,C=this.newOutliner({x:P(this,Va)[0]*v+A,y:P(this,Va)[1]*_+S},P(this,i1),P(this,gS),i,P(this,mS),r??P(this,zh));for(let T=2;T<P(this,Va).length;T+=2)C.add({x:P(this,Va)[T]*v+A,y:P(this,Va)[T+1]*_+S});return C.getOutlines()}}i1=new WeakMap,Jb=new WeakMap,zh=new WeakMap,mS=new WeakMap,Va=new WeakMap,gS=new WeakMap,nr=new WeakMap,jN=new WeakSet,Vne=function(i){const r=P(this,nr);let o=r[4],l=r[5];const c=[o,l,o,l];let u=o,h=l;const m=i?Math.max:Math.min;for(let y=6,v=r.length;y<v;y+=6){const _=r[y+4],A=r[y+5];if(isNaN(r[y]))Wt.pointBoundingBox(_,A,c),h<A?(u=_,h=A):h===A&&(u=m(u,_));else{const S=[1/0,1/0,-1/0,-1/0];Wt.bezierBoundingBox(o,l,...r.slice(y,y+6),S),Wt.rectBoundingBox(...S,c),h<S[3]?(u=S[2],h=S[3]):h===S[3]&&(u=m(u,S[2]))}o=_,l=A}const g=P(this,Jb);g[0]=c[0]-P(this,zh),g[1]=c[1]-P(this,zh),g[2]=c[2]-c[0]+2*P(this,zh),g[3]=c[3]-c[1]+2*P(this,zh),this.lastPoint=[u,h]};var bS,yS,tm,Lc,Po,Wne,t5,$ne,qne,jM;class PM{constructor(e,i=0,r=0,o=!0){he(this,Po);he(this,bS);he(this,yS);he(this,tm,[]);he(this,Lc,[]);const l=[1/0,1/0,-1/0,-1/0],c=10**-4;for(const{x:_,y:A,width:S,height:C}of e){const T=Math.floor((_-i)/c)*c,N=Math.ceil((_+S+i)/c)*c,j=Math.floor((A-i)/c)*c,O=Math.ceil((A+C+i)/c)*c,F=[T,j,O,!0],U=[N,j,O,!1];P(this,tm).push(F,U),Wt.rectBoundingBox(T,j,N,O,l)}const u=l[2]-l[0]+2*r,h=l[3]-l[1]+2*r,m=l[0]-r,g=l[1]-r,y=P(this,tm).at(o?-1:-2),v=[y[0],y[2]];for(const _ of P(this,tm)){const[A,S,C]=_;_[0]=(A-m)/u,_[1]=(S-g)/h,_[2]=(C-g)/h}te(this,bS,new Float32Array([m,g,u,h])),te(this,yS,v)}getOutlines(){P(this,tm).sort((i,r)=>i[0]-r[0]||i[1]-r[1]||i[2]-r[2]);const e=[];for(const i of P(this,tm))i[3]?(e.push(...fe(this,Po,jM).call(this,i)),fe(this,Po,$ne).call(this,i)):(fe(this,Po,qne).call(this,i),e.push(...fe(this,Po,jM).call(this,i)));return fe(this,Po,Wne).call(this,e)}}bS=new WeakMap,yS=new WeakMap,tm=new WeakMap,Lc=new WeakMap,Po=new WeakSet,Wne=function(e){const i=[],r=new Set;for(const c of e){const[u,h,m]=c;i.push([u,h,c],[u,m,c])}i.sort((c,u)=>c[1]-u[1]||c[0]-u[0]);for(let c=0,u=i.length;c<u;c+=2){const h=i[c][2],m=i[c+1][2];h.push(m),m.push(h),r.add(h),r.add(m)}const o=[];let l;for(;r.size>0;){const c=r.values().next().value;let[u,h,m,g,y]=c;r.delete(c);let v=u,_=h;for(l=[u,m],o.push(l);;){let A;if(r.has(g))A=g;else if(r.has(y))A=y;else break;r.delete(A),[u,h,m,g,y]=A,v!==u&&(l.push(v,_,u,_===h?h:m),v=u),_=_===h?m:h}l.push(v,_)}return new zCe(o,P(this,bS),P(this,yS))},t5=function(e){const i=P(this,Lc);let r=0,o=i.length-1;for(;r<=o;){const l=r+o>>1,c=i[l][0];if(c===e)return l;c<e?r=l+1:o=l-1}return o+1},$ne=function([,e,i]){const r=fe(this,Po,t5).call(this,e);P(this,Lc).splice(r,0,[e,i])},qne=function([,e,i]){const r=fe(this,Po,t5).call(this,e);for(let o=r;o<P(this,Lc).length;o++){const[l,c]=P(this,Lc)[o];if(l!==e)break;if(l===e&&c===i){P(this,Lc).splice(o,1);return}}for(let o=r-1;o>=0;o--){const[l,c]=P(this,Lc)[o];if(l!==e)break;if(l===e&&c===i){P(this,Lc).splice(o,1);return}}},jM=function(e){const[i,r,o]=e,l=[[i,r,o]],c=fe(this,Po,t5).call(this,o);for(let u=0;u<c;u++){const[h,m]=P(this,Lc)[u];for(let g=0,y=l.length;g<y;g++){const[,v,_]=l[g];if(!(m<=v||_<=h)){if(v>=h){if(_>m)l[g][1]=m;else{if(y===1)return[];l.splice(g,1),g--,y--}continue}l[g][2]=h,_>m&&l.push([i,m,_])}}}return l};var vS,r1;class zCe extends Ct{constructor(i,r,o){super();he(this,vS);he(this,r1);te(this,r1,i),te(this,vS,r),this.lastPoint=o}toSVGPath(){const i=[];for(const r of P(this,r1)){let[o,l]=r;i.push(`M${o} ${l}`);for(let c=2;c<r.length;c+=2){const u=r[c],h=r[c+1];u===o?(i.push(`V${h}`),l=h):h===l&&(i.push(`H${u}`),o=u)}i.push("Z")}return i.join(" ")}serialize([i,r,o,l],c){const u=[],h=o-i,m=l-r;for(const g of P(this,r1)){const y=new Array(g.length);for(let v=0;v<g.length;v+=2)y[v]=i+g[v]*h,y[v+1]=l-g[v+1]*m;u.push(y)}return u}get box(){return P(this,vS)}get classNamesForOutlining(){return["highlightOutline"]}}vS=new WeakMap,r1=new WeakMap;class IM extends hN{newFreeDrawOutline(e,i,r,o,l,c){return new VCe(e,i,r,o,l,c)}}class VCe extends zne{newOutliner(e,i,r,o,l,c=0){return new IM(e,i,r,o,l,c)}}var Bc,Qb,s1,Tr,wS,o1,xS,_S,nm,zc,a1,kS,ii,RM,MM,OM,tb,Hne,_p;const Ko=class Ko{constructor({editor:e=null,uiManager:i=null}){he(this,ii);he(this,Bc,null);he(this,Qb,null);he(this,s1);he(this,Tr,null);he(this,wS,!1);he(this,o1,!1);he(this,xS,null);he(this,_S);he(this,nm,null);he(this,zc,null);he(this,a1);var r;e?(te(this,o1,!1),te(this,a1,En.HIGHLIGHT_COLOR),te(this,xS,e)):(te(this,o1,!0),te(this,a1,En.HIGHLIGHT_DEFAULT_COLOR)),te(this,zc,(e==null?void 0:e._uiManager)||i),te(this,_S,P(this,zc)._eventBus),te(this,s1,(e==null?void 0:e.color)||((r=P(this,zc))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),P(Ko,kS)||te(Ko,kS,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return yn(this,"_keyboardManager",new sA([[["Escape","mac+Escape"],Ko.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ko.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ko.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ko.prototype._moveToPrevious],[["Home","mac+Home"],Ko.prototype._moveToBeginning],[["End","mac+End"],Ko.prototype._moveToEnd]]))}renderButton(){const e=te(this,Bc,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const i=P(this,zc)._signal;e.addEventListener("click",fe(this,ii,tb).bind(this),{signal:i}),e.addEventListener("keydown",fe(this,ii,OM).bind(this),{signal:i});const r=te(this,Qb,document.createElement("span"));return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=P(this,s1),e.append(r),e}renderMainDropdown(){const e=te(this,Tr,fe(this,ii,RM).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===P(this,Bc)){fe(this,ii,tb).call(this,e);return}const i=e.target.getAttribute("data-color");i&&fe(this,ii,MM).call(this,i,e)}_moveToNext(e){var i,r;if(!P(this,ii,_p)){fe(this,ii,tb).call(this,e);return}if(e.target===P(this,Bc)){(i=P(this,Tr).firstChild)==null||i.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var i,r;if(e.target===((i=P(this,Tr))==null?void 0:i.firstChild)||e.target===P(this,Bc)){P(this,ii,_p)&&this._hideDropdownFromKeyboard();return}P(this,ii,_p)||fe(this,ii,tb).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var i;if(!P(this,ii,_p)){fe(this,ii,tb).call(this,e);return}(i=P(this,Tr).firstChild)==null||i.focus()}_moveToEnd(e){var i;if(!P(this,ii,_p)){fe(this,ii,tb).call(this,e);return}(i=P(this,Tr).lastChild)==null||i.focus()}hideDropdown(){var e,i;(e=P(this,Tr))==null||e.classList.add("hidden"),(i=P(this,nm))==null||i.abort(),te(this,nm,null)}_hideDropdownFromKeyboard(){var e;if(!P(this,o1)){if(!P(this,ii,_p)){(e=P(this,xS))==null||e.unselect();return}this.hideDropdown(),P(this,Bc).focus({preventScroll:!0,focusVisible:P(this,wS)})}}updateColor(e){if(P(this,Qb)&&(P(this,Qb).style.backgroundColor=e),!P(this,Tr))return;const i=P(this,zc).highlightColors.values();for(const r of P(this,Tr).children)r.setAttribute("aria-selected",i.next().value===e)}destroy(){var e,i;(e=P(this,Bc))==null||e.remove(),te(this,Bc,null),te(this,Qb,null),(i=P(this,Tr))==null||i.remove(),te(this,Tr,null)}};Bc=new WeakMap,Qb=new WeakMap,s1=new WeakMap,Tr=new WeakMap,wS=new WeakMap,o1=new WeakMap,xS=new WeakMap,_S=new WeakMap,nm=new WeakMap,zc=new WeakMap,a1=new WeakMap,kS=new WeakMap,ii=new WeakSet,RM=function(){const e=document.createElement("div"),i=P(this,zc)._signal;e.addEventListener("contextmenu",eu,{signal:i}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[r,o]of P(this,zc).highlightColors){const l=document.createElement("button");l.tabIndex="0",l.role="option",l.setAttribute("data-color",o),l.title=r,l.setAttribute("data-l10n-id",P(Ko,kS)[r]);const c=document.createElement("span");l.append(c),c.className="swatch",c.style.backgroundColor=o,l.setAttribute("aria-selected",o===P(this,s1)),l.addEventListener("click",fe(this,ii,MM).bind(this,o),{signal:i}),e.append(l)}return e.addEventListener("keydown",fe(this,ii,OM).bind(this),{signal:i}),e},MM=function(e,i){i.stopPropagation(),P(this,_S).dispatch("switchannotationeditorparams",{source:this,type:P(this,a1),value:e})},OM=function(e){Ko._keyboardManager.exec(this,e)},tb=function(e){if(P(this,ii,_p)){this.hideDropdown();return}if(te(this,wS,e.detail===0),P(this,nm)||(te(this,nm,new AbortController),window.addEventListener("pointerdown",fe(this,ii,Hne).bind(this),{signal:P(this,zc).combinedSignal(P(this,nm))})),P(this,Tr)){P(this,Tr).classList.remove("hidden");return}const i=te(this,Tr,fe(this,ii,RM).call(this));P(this,Bc).append(i)},Hne=function(e){var i;(i=P(this,Tr))!=null&&i.contains(e.target)||this.hideDropdown()},_p=function(){return P(this,Tr)&&!P(this,Tr).classList.contains("hidden")},he(Ko,kS,null);let fN=Ko;var l1,ES,Vh,e0,c1,Jo,SS,AS,t0,ql,Wa,ys,u1,Wh,Ks,d1,Hl,CS,fn,FM,n5,Gne,Xne,Kne,UM,nb,Ql,Nv,Yne,i5,Gk,Zne,Jne,Qne,eie,tie;const zn=class zn extends mi{constructor(i){super({...i,name:"highlightEditor"});he(this,fn);he(this,l1,null);he(this,ES,0);he(this,Vh);he(this,e0,null);he(this,c1,null);he(this,Jo,null);he(this,SS,null);he(this,AS,0);he(this,t0,null);he(this,ql,null);he(this,Wa,null);he(this,ys,!1);he(this,u1,null);he(this,Wh);he(this,Ks,null);he(this,d1,"");he(this,Hl);he(this,CS,"");this.color=i.color||zn._defaultColor,te(this,Hl,i.thickness||zn._defaultThickness),te(this,Wh,i.opacity||zn._defaultOpacity),te(this,Vh,i.boxes||null),te(this,CS,i.methodOfCreation||""),te(this,d1,i.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",i.highlightId>-1?(te(this,ys,!0),fe(this,fn,n5).call(this,i),fe(this,fn,nb).call(this)):P(this,Vh)&&(te(this,l1,i.anchorNode),te(this,ES,i.anchorOffset),te(this,SS,i.focusNode),te(this,AS,i.focusOffset),fe(this,fn,FM).call(this),fe(this,fn,nb).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const i=zn.prototype;return yn(this,"_keyboardManager",new sA([[["ArrowLeft","mac+ArrowLeft"],i._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],i._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],i._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],i._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:P(this,ys)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:P(this,Hl),methodOfCreation:P(this,CS)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(i){return{numberOfColors:i.get("color").size}}static initialize(i,r){var o;mi.initialize(i,r),zn._defaultColor||(zn._defaultColor=((o=r.highlightColors)==null?void 0:o.values().next().value)||"#fff066")}static updateDefaultParams(i,r){switch(i){case En.HIGHLIGHT_DEFAULT_COLOR:zn._defaultColor=r;break;case En.HIGHLIGHT_THICKNESS:zn._defaultThickness=r;break}}translateInPage(i,r){}get toolbarPosition(){return P(this,u1)}updateParams(i,r){switch(i){case En.HIGHLIGHT_COLOR:fe(this,fn,Gne).call(this,r);break;case En.HIGHLIGHT_THICKNESS:fe(this,fn,Xne).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[En.HIGHLIGHT_DEFAULT_COLOR,zn._defaultColor],[En.HIGHLIGHT_THICKNESS,zn._defaultThickness]]}get propertiesToUpdate(){return[[En.HIGHLIGHT_COLOR,this.color||zn._defaultColor],[En.HIGHLIGHT_THICKNESS,P(this,Hl)||zn._defaultThickness],[En.HIGHLIGHT_FREE,P(this,ys)]]}async addEditToolbar(){const i=await super.addEditToolbar();return i?(this._uiManager.highlightColors&&(te(this,c1,new fN({editor:this})),i.addColorPicker(P(this,c1))),i):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(fe(this,fn,Gk).call(this))}getBaseTranslation(){return[0,0]}getRect(i,r){return super.getRect(i,r,fe(this,fn,Gk).call(this))}onceAdded(i){this.annotationElementId||this.parent.addUndoableEditor(this),i&&this.div.focus()}remove(){fe(this,fn,UM).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(fe(this,fn,nb).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(i){var o;let r=!1;this.parent&&!i?fe(this,fn,UM).call(this):i&&(fe(this,fn,nb).call(this,i),r=!this.parent&&((o=this.div)==null?void 0:o.classList.contains("selectedEditor"))),super.setParent(i),this.show(this._isVisible),r&&this.select()}rotate(i){var l,c,u;const{drawLayer:r}=this.parent;let o;P(this,ys)?(i=(i-this.rotation+360)%360,o=fe(l=zn,Ql,Nv).call(l,P(this,ql).box,i)):o=fe(c=zn,Ql,Nv).call(c,[this.x,this.y,this.width,this.height],i),r.updateProperties(P(this,Wa),{bbox:o,root:{"data-main-rotation":i}}),r.updateProperties(P(this,Ks),{bbox:fe(u=zn,Ql,Nv).call(u,P(this,Jo).box,i),root:{"data-main-rotation":i}})}render(){if(this.div)return this.div;const i=super.render();P(this,d1)&&(i.setAttribute("aria-label",P(this,d1)),i.setAttribute("role","mark")),P(this,ys)?i.classList.add("free"):this.div.addEventListener("keydown",fe(this,fn,Yne).bind(this),{signal:this._uiManager._signal});const r=te(this,t0,document.createElement("div"));i.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=P(this,e0);const[o,l]=this.parentDimensions;return this.setDims(this.width*o,this.height*l),_U(this,P(this,t0),["pointerover","pointerleave"]),this.enableEditing(),i}pointerover(){var i;this.isSelected||(i=this.parent)==null||i.drawLayer.updateProperties(P(this,Ks),{rootClass:{hovered:!0}})}pointerleave(){var i;this.isSelected||(i=this.parent)==null||i.drawLayer.updateProperties(P(this,Ks),{rootClass:{hovered:!1}})}_moveCaret(i){switch(this.parent.unselect(this),i){case 0:case 2:fe(this,fn,i5).call(this,!0);break;case 1:case 3:fe(this,fn,i5).call(this,!1);break}}select(){var i;super.select(),P(this,Ks)&&((i=this.parent)==null||i.drawLayer.updateProperties(P(this,Ks),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var i;super.unselect(),P(this,Ks)&&((i=this.parent)==null||i.drawLayer.updateProperties(P(this,Ks),{rootClass:{selected:!1}}),P(this,ys)||fe(this,fn,i5).call(this,!1))}get _mustFixPosition(){return!P(this,ys)}show(i=this._isVisible){super.show(i),this.parent&&(this.parent.drawLayer.updateProperties(P(this,Wa),{rootClass:{hidden:!i}}),this.parent.drawLayer.updateProperties(P(this,Ks),{rootClass:{hidden:!i}}))}static startHighlighting(i,r,{target:o,x:l,y:c}){const{x:u,y:h,width:m,height:g}=o.getBoundingClientRect(),y=new AbortController,v=i.combinedSignal(y),_=A=>{y.abort(),fe(this,Ql,eie).call(this,i,A)};window.addEventListener("blur",_,{signal:v}),window.addEventListener("pointerup",_,{signal:v}),window.addEventListener("pointerdown",gr,{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",eu,{signal:v}),o.addEventListener("pointermove",fe(this,Ql,Qne).bind(this,i),{signal:v}),this._freeHighlight=new IM({x:l,y:c},[u,h,m,g],i.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=i.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(i,r,o){var S,C,T,N;let l=null;if(i instanceof Tne){const{data:{quadPoints:j,rect:O,rotation:F,id:U,color:V,opacity:B,popupRef:K},parent:{page:{pageNumber:oe}}}=i;l=i={annotationType:dn.HIGHLIGHT,color:Array.from(V),opacity:B,quadPoints:j,boxes:null,pageIndex:oe-1,rect:O.slice(0),rotation:F,id:U,deleted:!1,popupRef:K}}else if(i instanceof AU){const{data:{inkLists:j,rect:O,rotation:F,id:U,color:V,borderStyle:{rawWidth:B},popupRef:K},parent:{page:{pageNumber:oe}}}=i;l=i={annotationType:dn.HIGHLIGHT,color:Array.from(V),thickness:B,inkLists:j,boxes:null,pageIndex:oe-1,rect:O.slice(0),rotation:F,id:U,deleted:!1,popupRef:K}}const{color:c,quadPoints:u,inkLists:h,opacity:m}=i,g=await super.deserialize(i,r,o);g.color=Wt.makeHexColor(...c),te(g,Wh,m||1),h&&te(g,Hl,i.thickness),g.annotationElementId=i.id||null,g._initialData=l;const[y,v]=g.pageDimensions,[_,A]=g.pageTranslation;if(u){const j=te(g,Vh,[]);for(let O=0;O<u.length;O+=8)j.push({x:(u[O]-_)/y,y:1-(u[O+1]-A)/v,width:(u[O+2]-u[O])/y,height:(u[O+1]-u[O+5])/v});fe(S=g,fn,FM).call(S),fe(C=g,fn,nb).call(C),g.rotate(g.rotation)}else if(h){te(g,ys,!0);const j=h[0],O={x:j[0]-_,y:v-(j[1]-A)},F=new IM(O,[0,0,y,v],1,P(g,Hl)/2,!0,.001);for(let B=0,K=j.length;B<K;B+=2)O.x=j[B]-_,O.y=v-(j[B+1]-A),F.add(O);const{id:U,clipPathId:V}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:g.color,"fill-opacity":g._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:F.toSVGPath()}},!0,!0);fe(T=g,fn,n5).call(T,{highlightOutlines:F.getOutlines(),highlightId:U,clipPathId:V}),fe(N=g,fn,nb).call(N),g.rotate(g.parentRotation)}return g}serialize(i=!1){if(this.isEmpty()||i)return null;if(this.deleted)return this.serializeDeleted();const r=this.getRect(0,0),o=mi._colorManager.convert(this.color),l={annotationType:dn.HIGHLIGHT,color:o,opacity:P(this,Wh),thickness:P(this,Hl),quadPoints:fe(this,fn,Zne).call(this),outlines:fe(this,fn,Jne).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:fe(this,fn,Gk).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!fe(this,fn,tie).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(i){return i.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};l1=new WeakMap,ES=new WeakMap,Vh=new WeakMap,e0=new WeakMap,c1=new WeakMap,Jo=new WeakMap,SS=new WeakMap,AS=new WeakMap,t0=new WeakMap,ql=new WeakMap,Wa=new WeakMap,ys=new WeakMap,u1=new WeakMap,Wh=new WeakMap,Ks=new WeakMap,d1=new WeakMap,Hl=new WeakMap,CS=new WeakMap,fn=new WeakSet,FM=function(){const i=new PM(P(this,Vh),.001);te(this,ql,i.getOutlines()),[this.x,this.y,this.width,this.height]=P(this,ql).box;const r=new PM(P(this,Vh),.0025,.001,this._uiManager.direction==="ltr");te(this,Jo,r.getOutlines());const{lastPoint:o}=P(this,Jo);te(this,u1,[(o[0]-this.x)/this.width,(o[1]-this.y)/this.height])},n5=function({highlightOutlines:i,highlightId:r,clipPathId:o}){var y,v;if(te(this,ql,i),te(this,Jo,i.getNewOutline(P(this,Hl)/2+1.5,.0025)),r>=0)te(this,Wa,r),te(this,e0,o),this.parent.drawLayer.finalizeDraw(r,{bbox:i.box,path:{d:i.toSVGPath()}}),te(this,Ks,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:P(this,Jo).box,path:{d:P(this,Jo).toSVGPath()}},!0));else if(this.parent){const _=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(P(this,Wa),{bbox:fe(y=zn,Ql,Nv).call(y,P(this,ql).box,(_-this.rotation+360)%360),path:{d:i.toSVGPath()}}),this.parent.drawLayer.updateProperties(P(this,Ks),{bbox:fe(v=zn,Ql,Nv).call(v,P(this,Jo).box,_),path:{d:P(this,Jo).toSVGPath()}})}const[c,u,h,m]=i.box;switch(this.rotation){case 0:this.x=c,this.y=u,this.width=h,this.height=m;break;case 90:{const[_,A]=this.parentDimensions;this.x=u,this.y=1-c,this.width=h*A/_,this.height=m*_/A;break}case 180:this.x=1-c,this.y=1-u,this.width=h,this.height=m;break;case 270:{const[_,A]=this.parentDimensions;this.x=1-u,this.y=c,this.width=h*A/_,this.height=m*_/A;break}}const{lastPoint:g}=P(this,Jo);te(this,u1,[(g[0]-c)/h,(g[1]-u)/m])},Gne=function(i){const r=(c,u)=>{var h,m;this.color=c,te(this,Wh,u),(h=this.parent)==null||h.drawLayer.updateProperties(P(this,Wa),{root:{fill:c,"fill-opacity":u}}),(m=P(this,c1))==null||m.updateColor(c)},o=this.color,l=P(this,Wh);this.addCommands({cmd:r.bind(this,i,zn._defaultOpacity),undo:r.bind(this,o,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:En.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(i)},!0)},Xne=function(i){const r=P(this,Hl),o=l=>{te(this,Hl,l),fe(this,fn,Kne).call(this,l)};this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:En.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:i},!0)},Kne=function(i){if(!P(this,ys))return;fe(this,fn,n5).call(this,{highlightOutlines:P(this,ql).getNewOutline(i/2)}),this.fixAndSetPosition();const[r,o]=this.parentDimensions;this.setDims(this.width*r,this.height*o)},UM=function(){P(this,Wa)===null||!this.parent||(this.parent.drawLayer.remove(P(this,Wa)),te(this,Wa,null),this.parent.drawLayer.remove(P(this,Ks)),te(this,Ks,null))},nb=function(i=this.parent){P(this,Wa)===null&&({id:wo(this,Wa)._,clipPathId:wo(this,e0)._}=i.drawLayer.draw({bbox:P(this,ql).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":P(this,Wh)},rootClass:{highlight:!0,free:P(this,ys)},path:{d:P(this,ql).toSVGPath()}},!1,!0),te(this,Ks,i.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:P(this,ys)},bbox:P(this,Jo).box,path:{d:P(this,Jo).toSVGPath()}},P(this,ys))),P(this,t0)&&(P(this,t0).style.clipPath=P(this,e0)))},Ql=new WeakSet,Nv=function([i,r,o,l],c){switch(c){case 90:return[1-r-l,i,l,o];case 180:return[1-i-o,1-r-l,o,l];case 270:return[r,1-i-o,l,o]}return[i,r,o,l]},Yne=function(i){zn._keyboardManager.exec(this,i)},i5=function(i){if(!P(this,l1))return;const r=window.getSelection();i?r.setPosition(P(this,l1),P(this,ES)):r.setPosition(P(this,SS),P(this,AS))},Gk=function(){return P(this,ys)?this.rotation:0},Zne=function(){if(P(this,ys))return null;const[i,r]=this.pageDimensions,[o,l]=this.pageTranslation,c=P(this,Vh),u=new Float32Array(c.length*8);let h=0;for(const{x:m,y:g,width:y,height:v}of c){const _=m*i+o,A=(1-g)*r+l;u[h]=u[h+4]=_,u[h+1]=u[h+3]=A,u[h+2]=u[h+6]=_+y*i,u[h+5]=u[h+7]=A-v*r,h+=8}return u},Jne=function(i){return P(this,ql).serialize(i,fe(this,fn,Gk).call(this))},Qne=function(i,r){this._freeHighlight.add(r)&&i.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},eie=function(i,r){this._freeHighlight.isEmpty()?i.drawLayer.remove(this._freeHighlightId):i.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},tie=function(i){const{color:r}=this._initialData;return i.color.some((o,l)=>o!==r[l])},he(zn,Ql),mt(zn,"_defaultColor",null),mt(zn,"_defaultOpacity",1),mt(zn,"_defaultThickness",12),mt(zn,"_type","highlight"),mt(zn,"_editorType",dn.HIGHLIGHT),mt(zn,"_freeHighlightId",-1),mt(zn,"_freeHighlight",null),mt(zn,"_freeHighlightClipId","");let pN=zn;var n0;class nie{constructor(){he(this,n0,Object.create(null))}updateProperty(e,i){this[e]=i,this.updateSVGProperty(e,i)}updateProperties(e){if(e)for(const[i,r]of Object.entries(e))i.startsWith("_")||this.updateProperty(i,r)}updateSVGProperty(e,i){P(this,n0)[e]=i}toSVGProperties(){const e=P(this,n0);return te(this,n0,Object.create(null)),{root:e}}reset(){te(this,n0,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){ri("Not implemented")}}n0=new WeakMap;var $a,h1,Gr,i0,r0,im,rm,sm,s0,Dn,LM,BM,zM,Xk,iie,r5,Kk,Pv;const Nt=class Nt extends mi{constructor(i){super(i);he(this,Dn);he(this,$a,null);he(this,h1);mt(this,"_drawId",null);te(this,h1,i.mustBeCommitted||!1),this._addOutlines(i)}_addOutlines(i){i.drawOutlines&&(fe(this,Dn,LM).call(this,i),fe(this,Dn,Xk).call(this))}static _mergeSVGProperties(i,r){const o=new Set(Object.keys(i));for(const[l,c]of Object.entries(r))o.has(l)?Object.assign(i[l],c):i[l]=c;return i}static getDefaultDrawingOptions(i){ri("Not implemented")}static get typesMap(){ri("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(i,r){const o=this.typesMap.get(i);o&&this._defaultDrawingOptions.updateProperty(o,r),this._currentParent&&(P(Nt,Gr).updateProperty(o,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(i,r){const o=this.constructor.typesMap.get(i);o&&this._updateProperty(i,o,r)}static get defaultPropertiesToUpdate(){const i=[],r=this._defaultDrawingOptions;for(const[o,l]of this.typesMap)i.push([o,r[l]]);return i}get propertiesToUpdate(){const i=[],{_drawingOptions:r}=this;for(const[o,l]of this.constructor.typesMap)i.push([o,r[l]]);return i}_updateProperty(i,r,o){const l=this._drawingOptions,c=l[r],u=h=>{var g;l.updateProperty(r,h);const m=P(this,$a).updateProperty(r,h);m&&fe(this,Dn,Kk).call(this,m),(g=this.parent)==null||g.drawLayer.updateProperties(this._drawId,l.toSVGProperties())};this.addCommands({cmd:u.bind(this,o),undo:u.bind(this,c),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:i,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,Nt._mergeSVGProperties(P(this,$a).getPathResizingSVGProperties(fe(this,Dn,r5).call(this)),{bbox:fe(this,Dn,Pv).call(this)}))}_onResized(){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,Nt._mergeSVGProperties(P(this,$a).getPathResizedSVGProperties(fe(this,Dn,r5).call(this)),{bbox:fe(this,Dn,Pv).call(this)}))}_onTranslating(i,r){var o;(o=this.parent)==null||o.drawLayer.updateProperties(this._drawId,{bbox:fe(this,Dn,Pv).call(this)})}_onTranslated(){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,Nt._mergeSVGProperties(P(this,$a).getPathTranslatedSVGProperties(fe(this,Dn,r5).call(this),this.parentDimensions),{bbox:fe(this,Dn,Pv).call(this)}))}_onStartDragging(){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(i){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,P(this,h1)&&(te(this,h1,!1),this.commit(),this.parent.setSelected(this),i&&this.isOnScreen&&this.div.focus())}remove(){fe(this,Dn,zM).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(fe(this,Dn,Xk).call(this),fe(this,Dn,Kk).call(this,P(this,$a).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(i){var o;let r=!1;this.parent&&!i?(this._uiManager.removeShouldRescale(this),fe(this,Dn,zM).call(this)):i&&(this._uiManager.addShouldRescale(this),fe(this,Dn,Xk).call(this,i),r=!this.parent&&((o=this.div)==null?void 0:o.classList.contains("selectedEditor"))),super.setParent(i),r&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Nt._mergeSVGProperties({bbox:fe(this,Dn,Pv).call(this)},P(this,$a).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&fe(this,Dn,Kk).call(this,P(this,$a).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let i,r;this._isCopy&&(i=this.x,r=this.y);const o=super.render();o.classList.add("draw");const l=document.createElement("div");o.append(l),l.setAttribute("aria-hidden","true"),l.className="internal";const[c,u]=this.parentDimensions;return this.setDims(this.width*c,this.height*u),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(i,r),o}static createDrawerInstance(i,r,o,l,c){ri("Not implemented")}static startDrawing(i,r,o,l){var C;const{target:c,offsetX:u,offsetY:h,pointerId:m,pointerType:g}=l;if(P(Nt,rm)&&P(Nt,rm)!==g)return;const{viewport:{rotation:y}}=i,{width:v,height:_}=c.getBoundingClientRect(),A=te(Nt,i0,new AbortController),S=i.combinedSignal(A);if(P(Nt,im)||te(Nt,im,m),P(Nt,rm)??te(Nt,rm,g),window.addEventListener("pointerup",T=>{var N;P(Nt,im)===T.pointerId?this._endDraw(T):(N=P(Nt,sm))==null||N.delete(T.pointerId)},{signal:S}),window.addEventListener("pointercancel",T=>{var N;P(Nt,im)===T.pointerId?this._currentParent.endDrawingSession():(N=P(Nt,sm))==null||N.delete(T.pointerId)},{signal:S}),window.addEventListener("pointerdown",T=>{P(Nt,rm)===T.pointerType&&((P(Nt,sm)||te(Nt,sm,new Set)).add(T.pointerId),P(Nt,Gr).isCancellable()&&(P(Nt,Gr).removeLastElement(),P(Nt,Gr).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:S}),window.addEventListener("contextmenu",eu,{signal:S}),c.addEventListener("pointermove",this._drawMove.bind(this),{signal:S}),c.addEventListener("touchmove",T=>{T.timeStamp===P(Nt,s0)&&gr(T)},{signal:S}),i.toggleDrawing(),(C=r._editorUndoBar)==null||C.hide(),P(Nt,Gr)){i.drawLayer.updateProperties(this._currentDrawId,P(Nt,Gr).startNew(u,h,v,_,y));return}r.updateUIForDefaultProperties(this),te(Nt,Gr,this.createDrawerInstance(u,h,v,_,y)),te(Nt,r0,this.getDefaultDrawingOptions()),this._currentParent=i,{id:this._currentDrawId}=i.drawLayer.draw(this._mergeSVGProperties(P(Nt,r0).toSVGProperties(),P(Nt,Gr).defaultSVGProperties),!0,!1)}static _drawMove(i){var c;if(te(Nt,s0,-1),!P(Nt,Gr))return;const{offsetX:r,offsetY:o,pointerId:l}=i;if(P(Nt,im)===l){if(((c=P(Nt,sm))==null?void 0:c.size)>=1){this._endDraw(i);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,P(Nt,Gr).add(r,o)),te(Nt,s0,i.timeStamp),gr(i)}}static _cleanup(i){i&&(this._currentDrawId=-1,this._currentParent=null,te(Nt,Gr,null),te(Nt,r0,null),te(Nt,rm,null),te(Nt,s0,NaN)),P(Nt,i0)&&(P(Nt,i0).abort(),te(Nt,i0,null),te(Nt,im,NaN),te(Nt,sm,null))}static _endDraw(i){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),(i==null?void 0:i.target)===r.div&&r.drawLayer.updateProperties(this._currentDrawId,P(Nt,Gr).end(i.offsetX,i.offsetY)),this.supportMultipleDrawings){const o=P(Nt,Gr),l=this._currentDrawId,c=o.getLastElement();r.addCommands({cmd:()=>{r.drawLayer.updateProperties(l,o.setLastElement(c))},undo:()=>{r.drawLayer.updateProperties(l,o.removeLastElement())},mustExec:!1,type:En.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(i){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(En.DRAW_STEP),!P(Nt,Gr).isEmpty()){const{pageDimensions:[o,l],scale:c}=r,u=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:P(Nt,Gr).getOutlines(o*c,l*c,c,this._INNER_MARGIN),drawingOptions:P(Nt,r0),mustBeCommitted:!i});return this._cleanup(!0),u}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(i){}static deserializeDraw(i,r,o,l,c,u){ri("Not implemented")}static async deserialize(i,r,o){var y,v;const{rawDims:{pageWidth:l,pageHeight:c,pageX:u,pageY:h}}=r.viewport,m=this.deserializeDraw(u,h,l,c,this._INNER_MARGIN,i),g=await super.deserialize(i,r,o);return g.createDrawingOptions(i),fe(y=g,Dn,LM).call(y,{drawOutlines:m}),fe(v=g,Dn,Xk).call(v),g.onScaleChanging(),g.rotate(),g}serializeDraw(i){const[r,o]=this.pageTranslation,[l,c]=this.pageDimensions;return P(this,$a).serialize([r,o,l,c],i)}renderAnnotationElement(i){return i.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};$a=new WeakMap,h1=new WeakMap,Gr=new WeakMap,i0=new WeakMap,r0=new WeakMap,im=new WeakMap,rm=new WeakMap,sm=new WeakMap,s0=new WeakMap,Dn=new WeakSet,LM=function({drawOutlines:i,drawId:r,drawingOptions:o}){te(this,$a,i),this._drawingOptions||(this._drawingOptions=o),r>=0?(this._drawId=r,this.parent.drawLayer.finalizeDraw(r,i.defaultProperties)):this._drawId=fe(this,Dn,BM).call(this,i,this.parent),fe(this,Dn,Kk).call(this,i.box)},BM=function(i,r){const{id:o}=r.drawLayer.draw(Nt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),i.defaultSVGProperties),!1,!1);return o},zM=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Xk=function(i=this.parent){if(!(this._drawId!==null&&this.parent===i)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,i.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=fe(this,Dn,BM).call(this,P(this,$a),i)}},iie=function([i,r,o,l]){const{parentDimensions:[c,u],rotation:h}=this;switch(h){case 90:return[r,1-i,o*(u/c),l*(c/u)];case 180:return[1-i,1-r,o,l];case 270:return[1-r,i,o*(u/c),l*(c/u)];default:return[i,r,o,l]}},r5=function(){const{x:i,y:r,width:o,height:l,parentDimensions:[c,u],rotation:h}=this;switch(h){case 90:return[1-r,i,o*(c/u),l*(u/c)];case 180:return[1-i,1-r,o,l];case 270:return[r,1-i,o*(c/u),l*(u/c)];default:return[i,r,o,l]}},Kk=function(i){if([this.x,this.y,this.width,this.height]=fe(this,Dn,iie).call(this,i),this.div){this.fixAndSetPosition();const[r,o]=this.parentDimensions;this.setDims(this.width*r,this.height*o)}this._onResized()},Pv=function(){const{x:i,y:r,width:o,height:l,rotation:c,parentRotation:u,parentDimensions:[h,m]}=this;switch((c*4+u)/90){case 1:return[1-r-l,i,l,o];case 2:return[1-i-o,1-r-l,o,l];case 3:return[r,1-i-o,l,o];case 4:return[i,r-o*(h/m),l*(m/h),o*(h/m)];case 5:return[1-r,i,o*(h/m),l*(m/h)];case 6:return[1-i-l*(m/h),1-r,l*(m/h),o*(h/m)];case 7:return[r-o*(h/m),1-i-l*(m/h),o*(h/m),l*(m/h)];case 8:return[i-o,r-l,o,l];case 9:return[1-r,i-o,l,o];case 10:return[1-i,1-r,o,l];case 11:return[r-l,1-i,l,o];case 12:return[i-l*(m/h),r,l*(m/h),o*(h/m)];case 13:return[1-r-o*(h/m),i-l*(m/h),o*(h/m),l*(m/h)];case 14:return[1-i,1-r-o*(h/m),l*(m/h),o*(h/m)];case 15:return[r,1-i,o*(h/m),l*(m/h)];default:return[i,r,o,l]}},mt(Nt,"_currentDrawId",-1),mt(Nt,"_currentParent",null),he(Nt,Gr,null),he(Nt,i0,null),he(Nt,r0,null),he(Nt,im,NaN),he(Nt,rm,null),he(Nt,sm,null),he(Nt,s0,NaN),mt(Nt,"_INNER_MARGIN",3);let mN=Nt;var sd,Xr,Kr,o0,f1,ko,vs,Gl,a0,l0,c0,p1,s5;class WCe{constructor(e,i,r,o,l,c){he(this,p1);he(this,sd,new Float64Array(6));he(this,Xr);he(this,Kr);he(this,o0);he(this,f1);he(this,ko);he(this,vs,"");he(this,Gl,0);he(this,a0,new lA);he(this,l0);he(this,c0);te(this,l0,r),te(this,c0,o),te(this,o0,l),te(this,f1,c),[e,i]=fe(this,p1,s5).call(this,e,i);const u=te(this,Xr,[NaN,NaN,NaN,NaN,e,i]);te(this,ko,[e,i]),te(this,Kr,[{line:u,points:P(this,ko)}]),P(this,sd).set(u,0)}updateProperty(e,i){e==="stroke-width"&&te(this,f1,i)}isEmpty(){return!P(this,Kr)||P(this,Kr).length===0}isCancellable(){return P(this,ko).length<=10}add(e,i){[e,i]=fe(this,p1,s5).call(this,e,i);const[r,o,l,c]=P(this,sd).subarray(2,6),u=e-l,h=i-c;return Math.hypot(P(this,l0)*u,P(this,c0)*h)<=2?null:(P(this,ko).push(e,i),isNaN(r)?(P(this,sd).set([l,c,e,i],2),P(this,Xr).push(NaN,NaN,NaN,NaN,e,i),{path:{d:this.toSVGPath()}}):(isNaN(P(this,sd)[0])&&P(this,Xr).splice(6,6),P(this,sd).set([r,o,l,c,e,i],0),P(this,Xr).push(...Ct.createBezierPoints(r,o,l,c,e,i)),{path:{d:this.toSVGPath()}}))}end(e,i){const r=this.add(e,i);return r||(P(this,ko).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,i,r,o,l){te(this,l0,r),te(this,c0,o),te(this,o0,l),[e,i]=fe(this,p1,s5).call(this,e,i);const c=te(this,Xr,[NaN,NaN,NaN,NaN,e,i]);te(this,ko,[e,i]);const u=P(this,Kr).at(-1);return u&&(u.line=new Float32Array(u.line),u.points=new Float32Array(u.points)),P(this,Kr).push({line:c,points:P(this,ko)}),P(this,sd).set(c,0),te(this,Gl,0),this.toSVGPath(),null}getLastElement(){return P(this,Kr).at(-1)}setLastElement(e){return P(this,Kr)?(P(this,Kr).push(e),te(this,Xr,e.line),te(this,ko,e.points),te(this,Gl,0),{path:{d:this.toSVGPath()}}):P(this,a0).setLastElement(e)}removeLastElement(){if(!P(this,Kr))return P(this,a0).removeLastElement();P(this,Kr).pop(),te(this,vs,"");for(let e=0,i=P(this,Kr).length;e<i;e++){const{line:r,points:o}=P(this,Kr)[e];te(this,Xr,r),te(this,ko,o),te(this,Gl,0),this.toSVGPath()}return{path:{d:P(this,vs)}}}toSVGPath(){const e=Ct.svgRound(P(this,Xr)[4]),i=Ct.svgRound(P(this,Xr)[5]);if(P(this,ko).length===2)return te(this,vs,`${P(this,vs)} M ${e} ${i} Z`),P(this,vs);if(P(this,ko).length<=6){const o=P(this,vs).lastIndexOf("M");te(this,vs,`${P(this,vs).slice(0,o)} M ${e} ${i}`),te(this,Gl,6)}if(P(this,ko).length===4){const o=Ct.svgRound(P(this,Xr)[10]),l=Ct.svgRound(P(this,Xr)[11]);return te(this,vs,`${P(this,vs)} L ${o} ${l}`),te(this,Gl,12),P(this,vs)}const r=[];P(this,Gl)===0&&(r.push(`M ${e} ${i}`),te(this,Gl,6));for(let o=P(this,Gl),l=P(this,Xr).length;o<l;o+=6){const[c,u,h,m,g,y]=P(this,Xr).slice(o,o+6).map(Ct.svgRound);r.push(`C${c} ${u} ${h} ${m} ${g} ${y}`)}return te(this,vs,P(this,vs)+r.join(" ")),te(this,Gl,P(this,Xr).length),P(this,vs)}getOutlines(e,i,r,o){const l=P(this,Kr).at(-1);return l.line=new Float32Array(l.line),l.points=new Float32Array(l.points),P(this,a0).build(P(this,Kr),e,i,r,P(this,o0),P(this,f1),o),te(this,sd,null),te(this,Xr,null),te(this,Kr,null),te(this,vs,null),P(this,a0)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}sd=new WeakMap,Xr=new WeakMap,Kr=new WeakMap,o0=new WeakMap,f1=new WeakMap,ko=new WeakMap,vs=new WeakMap,Gl=new WeakMap,a0=new WeakMap,l0=new WeakMap,c0=new WeakMap,p1=new WeakSet,s5=function(e,i){return Ct._normalizePoint(e,i,P(this,l0),P(this,c0),P(this,o0))};var Eo,TS,DS,qa,od,ad,m1,g1,u0,ks,mh,rie,sie,oie;class lA extends Ct{constructor(){super(...arguments);he(this,ks);he(this,Eo);he(this,TS,0);he(this,DS);he(this,qa);he(this,od);he(this,ad);he(this,m1);he(this,g1);he(this,u0)}build(i,r,o,l,c,u,h){te(this,od,r),te(this,ad,o),te(this,m1,l),te(this,g1,c),te(this,u0,u),te(this,DS,h??0),te(this,qa,i),fe(this,ks,sie).call(this)}get thickness(){return P(this,u0)}setLastElement(i){return P(this,qa).push(i),{path:{d:this.toSVGPath()}}}removeLastElement(){return P(this,qa).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const i=[];for(const{line:r}of P(this,qa)){if(i.push(`M${Ct.svgRound(r[4])} ${Ct.svgRound(r[5])}`),r.length===6){i.push("Z");continue}if(r.length===12&&isNaN(r[6])){i.push(`L${Ct.svgRound(r[10])} ${Ct.svgRound(r[11])}`);continue}for(let o=6,l=r.length;o<l;o+=6){const[c,u,h,m,g,y]=r.subarray(o,o+6).map(Ct.svgRound);i.push(`C${c} ${u} ${h} ${m} ${g} ${y}`)}}return i.join("")}serialize([i,r,o,l],c){const u=[],h=[],[m,g,y,v]=fe(this,ks,rie).call(this);let _,A,S,C,T,N,j,O,F;switch(P(this,g1)){case 0:F=Ct._rescale,_=i,A=r+l,S=o,C=-l,T=i+m*o,N=r+(1-g-v)*l,j=i+(m+y)*o,O=r+(1-g)*l;break;case 90:F=Ct._rescaleAndSwap,_=i,A=r,S=o,C=l,T=i+g*o,N=r+m*l,j=i+(g+v)*o,O=r+(m+y)*l;break;case 180:F=Ct._rescale,_=i+o,A=r,S=-o,C=l,T=i+(1-m-y)*o,N=r+g*l,j=i+(1-m)*o,O=r+(g+v)*l;break;case 270:F=Ct._rescaleAndSwap,_=i+o,A=r+l,S=-o,C=-l,T=i+(1-g-v)*o,N=r+(1-m-y)*l,j=i+(1-g)*o,O=r+(1-m)*l;break}for(const{line:U,points:V}of P(this,qa))u.push(F(U,_,A,S,C,c?new Array(U.length):null)),h.push(F(V,_,A,S,C,c?new Array(V.length):null));return{lines:u,points:h,rect:[T,N,j,O]}}static deserialize(i,r,o,l,c,{paths:{lines:u,points:h},rotation:m,thickness:g}){const y=[];let v,_,A,S,C;switch(m){case 0:C=Ct._rescale,v=-i/o,_=r/l+1,A=1/o,S=-1/l;break;case 90:C=Ct._rescaleAndSwap,v=-r/l,_=-i/o,A=1/l,S=1/o;break;case 180:C=Ct._rescale,v=i/o+1,_=-r/l,A=-1/o,S=1/l;break;case 270:C=Ct._rescaleAndSwap,v=r/l+1,_=i/o+1,A=-1/l,S=-1/o;break}if(!u){u=[];for(const N of h){const j=N.length;if(j===2){u.push(new Float32Array([NaN,NaN,NaN,NaN,N[0],N[1]]));continue}if(j===4){u.push(new Float32Array([NaN,NaN,NaN,NaN,N[0],N[1],NaN,NaN,NaN,NaN,N[2],N[3]]));continue}const O=new Float32Array(3*(j-2));u.push(O);let[F,U,V,B]=N.subarray(0,4);O.set([NaN,NaN,NaN,NaN,F,U],0);for(let K=4;K<j;K+=2){const oe=N[K],me=N[K+1];O.set(Ct.createBezierPoints(F,U,V,B,oe,me),(K-2)*3),[F,U,V,B]=[V,B,oe,me]}}}for(let N=0,j=u.length;N<j;N++)y.push({line:C(u[N].map(O=>O??NaN),v,_,A,S),points:C(h[N].map(O=>O??NaN),v,_,A,S)});const T=new this.prototype.constructor;return T.build(y,o,l,1,m,g,c),T}get box(){return P(this,Eo)}updateProperty(i,r){return i==="stroke-width"?fe(this,ks,oie).call(this,r):null}updateParentDimensions([i,r],o){const[l,c]=fe(this,ks,mh).call(this);te(this,od,i),te(this,ad,r),te(this,m1,o);const[u,h]=fe(this,ks,mh).call(this),m=u-l,g=h-c,y=P(this,Eo);return y[0]-=m,y[1]-=g,y[2]+=2*m,y[3]+=2*g,y}updateRotation(i){return te(this,TS,i),{path:{transform:this.rotationTransform}}}get viewBox(){return P(this,Eo).map(Ct.svgRound).join(" ")}get defaultProperties(){const[i,r]=P(this,Eo);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ct.svgRound(i)} ${Ct.svgRound(r)}`}}}get rotationTransform(){const[,,i,r]=P(this,Eo);let o=0,l=0,c=0,u=0,h=0,m=0;switch(P(this,TS)){case 90:l=r/i,c=-i/r,h=i;break;case 180:o=-1,u=-1,h=i,m=r;break;case 270:l=-r/i,c=i/r,m=r;break;default:return""}return`matrix(${o} ${l} ${c} ${u} ${Ct.svgRound(h)} ${Ct.svgRound(m)})`}getPathResizingSVGProperties([i,r,o,l]){const[c,u]=fe(this,ks,mh).call(this),[h,m,g,y]=P(this,Eo);if(Math.abs(g-c)<=Ct.PRECISION||Math.abs(y-u)<=Ct.PRECISION){const C=i+o/2-(h+g/2),T=r+l/2-(m+y/2);return{path:{"transform-origin":`${Ct.svgRound(i)} ${Ct.svgRound(r)}`,transform:`${this.rotationTransform} translate(${C} ${T})`}}}const v=(o-2*c)/(g-2*c),_=(l-2*u)/(y-2*u),A=g/o,S=y/l;return{path:{"transform-origin":`${Ct.svgRound(h)} ${Ct.svgRound(m)}`,transform:`${this.rotationTransform} scale(${A} ${S}) translate(${Ct.svgRound(c)} ${Ct.svgRound(u)}) scale(${v} ${_}) translate(${Ct.svgRound(-c)} ${Ct.svgRound(-u)})`}}}getPathResizedSVGProperties([i,r,o,l]){const[c,u]=fe(this,ks,mh).call(this),h=P(this,Eo),[m,g,y,v]=h;if(h[0]=i,h[1]=r,h[2]=o,h[3]=l,Math.abs(y-c)<=Ct.PRECISION||Math.abs(v-u)<=Ct.PRECISION){const T=i+o/2-(m+y/2),N=r+l/2-(g+v/2);for(const{line:j,points:O}of P(this,qa))Ct._translate(j,T,N,j),Ct._translate(O,T,N,O);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ct.svgRound(i)} ${Ct.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const _=(o-2*c)/(y-2*c),A=(l-2*u)/(v-2*u),S=-_*(m+c)+i+c,C=-A*(g+u)+r+u;if(_!==1||A!==1||S!==0||C!==0)for(const{line:T,points:N}of P(this,qa))Ct._rescale(T,S,C,_,A,T),Ct._rescale(N,S,C,_,A,N);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ct.svgRound(i)} ${Ct.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([i,r],o){const[l,c]=o,u=P(this,Eo),h=i-u[0],m=r-u[1];if(P(this,od)===l&&P(this,ad)===c)for(const{line:g,points:y}of P(this,qa))Ct._translate(g,h,m,g),Ct._translate(y,h,m,y);else{const g=P(this,od)/l,y=P(this,ad)/c;te(this,od,l),te(this,ad,c);for(const{line:v,points:_}of P(this,qa))Ct._rescale(v,h,m,g,y,v),Ct._rescale(_,h,m,g,y,_);u[2]*=g,u[3]*=y}return u[0]=i,u[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Ct.svgRound(i)} ${Ct.svgRound(r)}`}}}get defaultSVGProperties(){const i=P(this,Eo);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Ct.svgRound(i[0])} ${Ct.svgRound(i[1])}`,transform:this.rotationTransform||null},bbox:i}}}Eo=new WeakMap,TS=new WeakMap,DS=new WeakMap,qa=new WeakMap,od=new WeakMap,ad=new WeakMap,m1=new WeakMap,g1=new WeakMap,u0=new WeakMap,ks=new WeakSet,mh=function(i=P(this,u0)){const r=P(this,DS)+i/2*P(this,m1);return P(this,g1)%180===0?[r/P(this,od),r/P(this,ad)]:[r/P(this,ad),r/P(this,od)]},rie=function(){const[i,r,o,l]=P(this,Eo),[c,u]=fe(this,ks,mh).call(this,0);return[i+c,r+u,o-2*c,l-2*u]},sie=function(){const i=te(this,Eo,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:l}of P(this,qa)){if(l.length<=12){for(let h=4,m=l.length;h<m;h+=6)Wt.pointBoundingBox(l[h],l[h+1],i);continue}let c=l[4],u=l[5];for(let h=6,m=l.length;h<m;h+=6){const[g,y,v,_,A,S]=l.subarray(h,h+6);Wt.bezierBoundingBox(c,u,g,y,v,_,A,S,i),c=A,u=S}}const[r,o]=fe(this,ks,mh).call(this);i[0]=Co(i[0]-r,0,1),i[1]=Co(i[1]-o,0,1),i[2]=Co(i[2]+r,0,1),i[3]=Co(i[3]+o,0,1),i[2]-=i[0],i[3]-=i[1]},oie=function(i){const[r,o]=fe(this,ks,mh).call(this);te(this,u0,i);const[l,c]=fe(this,ks,mh).call(this),[u,h]=[l-r,c-o],m=P(this,Eo);return m[0]-=u,m[1]-=h,m[2]+=2*u,m[3]+=2*h,m};class uP extends nie{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:mi._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,i){e==="stroke-width"&&(i??(i=this["stroke-width"]),i*=this._viewParameters.realScale),super.updateSVGProperty(e,i)}clone(){const e=new uP(this._viewParameters);return e.updateAll(this),e}}var IN,aie;const ew=class ew extends mN{constructor(i){super({...i,name:"inkEditor"});he(this,IN);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(i,r){mi.initialize(i,r),this._defaultDrawingOptions=new uP(r.viewParameters)}static getDefaultDrawingOptions(i){const r=this._defaultDrawingOptions.clone();return r.updateProperties(i),r}static get supportMultipleDrawings(){return!0}static get typesMap(){return yn(this,"typesMap",new Map([[En.INK_THICKNESS,"stroke-width"],[En.INK_COLOR,"stroke"],[En.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(i,r,o,l,c){return new WCe(i,r,o,l,c,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(i,r,o,l,c,u){return lA.deserialize(i,r,o,l,c,u)}static async deserialize(i,r,o){let l=null;if(i instanceof AU){const{data:{inkLists:u,rect:h,rotation:m,id:g,color:y,opacity:v,borderStyle:{rawWidth:_},popupRef:A},parent:{page:{pageNumber:S}}}=i;l=i={annotationType:dn.INK,color:Array.from(y),thickness:_,opacity:v,paths:{points:u},boxes:null,pageIndex:S-1,rect:h.slice(0),rotation:m,id:g,deleted:!1,popupRef:A}}const c=await super.deserialize(i,r,o);return c.annotationElementId=i.id||null,c._initialData=l,c}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:i,_drawingOptions:r,parent:o}=this;r.updateSVGProperty("stroke-width"),o.drawLayer.updateProperties(i,r.toSVGProperties())}static onScaleChangingWhenDrawing(){const i=this._currentParent;i&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:i,thickness:r,opacity:o}){this._drawingOptions=ew.getDefaultDrawingOptions({stroke:Wt.makeHexColor(...i),"stroke-width":r,"stroke-opacity":o})}serialize(i=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:r,points:o,rect:l}=this.serializeDraw(i),{_drawingOptions:{stroke:c,"stroke-opacity":u,"stroke-width":h}}=this,m={annotationType:dn.INK,color:mi._colorManager.convert(c),opacity:u,thickness:h,paths:{lines:r,points:o},pageIndex:this.pageIndex,rect:l,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return i?(m.isCopy=!0,m):this.annotationElementId&&!fe(this,IN,aie).call(this,m)?null:(m.id=this.annotationElementId,m)}renderAnnotationElement(i){const{points:r,rect:o}=this.serializeDraw(!1);return i.updateEdited({rect:o,thickness:this._drawingOptions["stroke-width"],points:r}),null}};IN=new WeakSet,aie=function(i){const{color:r,thickness:o,opacity:l,pageIndex:c}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||i.color.some((u,h)=>u!==r[h])||i.thickness!==o||i.opacity!==l||i.pageIndex!==c},mt(ew,"_type","ink"),mt(ew,"_editorType",dn.INK),mt(ew,"_defaultDrawingOptions",null);let VM=ew;class WM extends lA{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const hD=8,Ck=3;var d0,Gn,$M,Vc,lie,cie,qM,o5,uie,die,hie,HM,GM,fie;class Yh{static extractContoursFromText(e,{fontFamily:i,fontStyle:r,fontWeight:o},l,c,u,h){let m=new OffscreenCanvas(1,1),g=m.getContext("2d",{alpha:!1});const y=200,v=g.font=`${r} ${o} ${y}px ${i}`,{actualBoundingBoxLeft:_,actualBoundingBoxRight:A,actualBoundingBoxAscent:S,actualBoundingBoxDescent:C,fontBoundingBoxAscent:T,fontBoundingBoxDescent:N,width:j}=g.measureText(e),O=1.5,F=Math.ceil(Math.max(Math.abs(_)+Math.abs(A)||0,j)*O),U=Math.ceil(Math.max(Math.abs(S)+Math.abs(C)||y,Math.abs(T)+Math.abs(N)||y)*O);m=new OffscreenCanvas(F,U),g=m.getContext("2d",{alpha:!0,willReadFrequently:!0}),g.font=v,g.filter="grayscale(1)",g.fillStyle="white",g.fillRect(0,0,F,U),g.fillStyle="black",g.fillText(e,F*(O-1)/2,U*(3-O)/2);const V=fe(this,Gn,HM).call(this,g.getImageData(0,0,F,U).data),B=fe(this,Gn,hie).call(this,V),K=fe(this,Gn,GM).call(this,B),oe=fe(this,Gn,qM).call(this,V,F,U,K);return this.processDrawnLines({lines:{curves:oe,width:F,height:U},pageWidth:l,pageHeight:c,rotation:u,innerMargin:h,mustSmooth:!0,areContours:!0})}static process(e,i,r,o,l){const[c,u,h]=fe(this,Gn,fie).call(this,e),[m,g]=fe(this,Gn,die).call(this,c,u,h,Math.hypot(u,h)*P(this,d0).sigmaSFactor,P(this,d0).sigmaR,P(this,d0).kernelSize),y=fe(this,Gn,GM).call(this,g),v=fe(this,Gn,qM).call(this,m,u,h,y);return this.processDrawnLines({lines:{curves:v,width:u,height:h},pageWidth:i,pageHeight:r,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:i,pageHeight:r,rotation:o,innerMargin:l,mustSmooth:c,areContours:u}){o%180!==0&&([i,r]=[r,i]);const{curves:h,width:m,height:g}=e,y=e.thickness??0,v=[],_=Math.min(i/m,r/g),A=_/i,S=_/r,C=[];for(const{points:N}of h){const j=c?fe(this,Gn,uie).call(this,N):N;if(!j)continue;C.push(j);const O=j.length,F=new Float32Array(O),U=new Float32Array(3*(O===2?2:O-2));if(v.push({line:U,points:F}),O===2){F[0]=j[0]*A,F[1]=j[1]*S,U.set([NaN,NaN,NaN,NaN,F[0],F[1]],0);continue}let[V,B,K,oe]=j;V*=A,B*=S,K*=A,oe*=S,F.set([V,B,K,oe],0),U.set([NaN,NaN,NaN,NaN,V,B],0);for(let me=4;me<O;me+=2){const Q=F[me]=j[me]*A,ge=F[me+1]=j[me+1]*S;U.set(Ct.createBezierPoints(V,B,K,oe,Q,ge),(me-2)*3),[V,B,K,oe]=[K,oe,Q,ge]}}if(v.length===0)return null;const T=u?new WM:new lA;return T.build(v,i,r,1,o,u?0:y,l),{outline:T,newCurves:C,areContours:u,thickness:y,width:m,height:g}}static async compressSignature({outlines:e,areContours:i,thickness:r,width:o,height:l}){let c=1/0,u=-1/0,h=0;for(const j of e){h+=j.length;for(let O=2,F=j.length;O<F;O++){const U=j[O]-j[O-2];c=Math.min(c,U),u=Math.max(u,U)}}let m;c>=-128&&u<=127?m=Int8Array:c>=-32768&&u<=32767?m=Int16Array:m=Int32Array;const g=e.length,y=hD+Ck*g,v=new Uint32Array(y);let _=0;v[_++]=y*Uint32Array.BYTES_PER_ELEMENT+(h-2*g)*m.BYTES_PER_ELEMENT,v[_++]=0,v[_++]=o,v[_++]=l,v[_++]=i?0:1,v[_++]=Math.max(0,Math.floor(r??0)),v[_++]=g,v[_++]=m.BYTES_PER_ELEMENT;for(const j of e)v[_++]=j.length-2,v[_++]=j[0],v[_++]=j[1];const A=new CompressionStream("deflate-raw"),S=A.writable.getWriter();await S.ready,S.write(v);const C=m.prototype.constructor;for(const j of e){const O=new C(j.length-2);for(let F=2,U=j.length;F<U;F++)O[F-2]=j[F]-j[F-2];S.write(O)}S.close();const T=await new Response(A.readable).arrayBuffer(),N=new Uint8Array(T);return mte(N)}static async decompressSignature(e){try{const i=pAe(e),{readable:r,writable:o}=new DecompressionStream("deflate-raw"),l=o.getWriter();await l.ready,l.write(i).then(async()=>{await l.ready,await l.close()}).catch(()=>{});let c=null,u=0;for await(const j of r)c||(c=new Uint8Array(new Uint32Array(j.buffer,0,4)[0])),c.set(j,u),u+=j.length;const h=new Uint32Array(c.buffer,0,c.length>>2),m=h[1];if(m!==0)throw new Error(`Invalid version: ${m}`);const g=h[2],y=h[3],v=h[4]===0,_=h[5],A=h[6],S=h[7],C=[],T=(hD+Ck*A)*Uint32Array.BYTES_PER_ELEMENT;let N;switch(S){case Int8Array.BYTES_PER_ELEMENT:N=new Int8Array(c.buffer,T);break;case Int16Array.BYTES_PER_ELEMENT:N=new Int16Array(c.buffer,T);break;case Int32Array.BYTES_PER_ELEMENT:N=new Int32Array(c.buffer,T);break}u=0;for(let j=0;j<A;j++){const O=h[Ck*j+hD],F=new Float32Array(O+2);C.push(F);for(let U=0;U<Ck-1;U++)F[U]=h[Ck*j+hD+U+1];for(let U=0;U<O;U++)F[U+2]=F[U]+N[u++]}return{areContours:v,thickness:_,outlines:C,width:g,height:y}}catch(i){return hn(`decompressSignature: ${i}`),null}}}d0=new WeakMap,Gn=new WeakSet,$M=function(e,i,r,o){return r-=e,o-=i,r===0?o>0?0:4:r===1?o+6:2-o},Vc=new WeakMap,lie=function(e,i,r,o,l,c,u){const h=fe(this,Gn,$M).call(this,r,o,l,c);for(let m=0;m<8;m++){const g=(-m+h-u+16)%8,y=P(this,Vc)[2*g],v=P(this,Vc)[2*g+1];if(e[(r+y)*i+(o+v)]!==0)return g}return-1},cie=function(e,i,r,o,l,c,u){const h=fe(this,Gn,$M).call(this,r,o,l,c);for(let m=0;m<8;m++){const g=(m+h+u+16)%8,y=P(this,Vc)[2*g],v=P(this,Vc)[2*g+1];if(e[(r+y)*i+(o+v)]!==0)return g}return-1},qM=function(e,i,r,o){const l=e.length,c=new Int32Array(l);for(let g=0;g<l;g++)c[g]=e[g]<=o?1:0;for(let g=1;g<r-1;g++)c[g*i]=c[g*i+i-1]=0;for(let g=0;g<i;g++)c[g]=c[i*r-1-g]=0;let u=1,h;const m=[];for(let g=1;g<r-1;g++){h=1;for(let y=1;y<i-1;y++){const v=g*i+y,_=c[v];if(_===0)continue;let A=g,S=y;if(_===1&&c[v-1]===0)u+=1,S-=1;else if(_>=1&&c[v+1]===0)u+=1,S+=1,_>1&&(h=_);else{_!==1&&(h=Math.abs(_));continue}const C=[y,g],T=S===y+1,N={isHole:T,points:C,id:u,parent:0};m.push(N);let j;for(const me of m)if(me.id===h){j=me;break}j?j.isHole?N.parent=T?j.parent:h:N.parent=T?h:j.parent:N.parent=T?h:0;const O=fe(this,Gn,lie).call(this,c,i,g,y,A,S,0);if(O===-1){c[v]=-u,c[v]!==1&&(h=Math.abs(c[v]));continue}let F=P(this,Vc)[2*O],U=P(this,Vc)[2*O+1];const V=g+F,B=y+U;A=V,S=B;let K=g,oe=y;for(;;){const me=fe(this,Gn,cie).call(this,c,i,K,oe,A,S,1);F=P(this,Vc)[2*me],U=P(this,Vc)[2*me+1];const Q=K+F,ge=oe+U;C.push(ge,Q);const $=K*i+oe;if(c[$+1]===0?c[$]=-u:c[$]===1&&(c[$]=u),Q===g&&ge===y&&K===V&&oe===B){c[v]!==1&&(h=Math.abs(c[v]));break}else A=K,S=oe,K=Q,oe=ge}}}return m},o5=function(e,i,r,o){if(r-i<=4){for(let V=i;V<r-2;V+=2)o.push(e[V],e[V+1]);return}const l=e[i],c=e[i+1],u=e[r-4]-l,h=e[r-3]-c,m=Math.hypot(u,h),g=u/m,y=h/m,v=g*c-y*l,_=h/u,A=1/m,S=Math.atan(_),C=Math.cos(S),T=Math.sin(S),N=A*(Math.abs(C)+Math.abs(T)),j=A*(1-N+N**2),O=Math.max(Math.atan(Math.abs(T+C)*j),Math.atan(Math.abs(T-C)*j));let F=0,U=i;for(let V=i+2;V<r-2;V+=2){const B=Math.abs(v-g*e[V+1]+y*e[V]);B>F&&(U=V,F=B)}F>(m*O)**2?(fe(this,Gn,o5).call(this,e,i,U+2,o),fe(this,Gn,o5).call(this,e,U,r,o)):o.push(l,c)},uie=function(e){const i=[],r=e.length;return fe(this,Gn,o5).call(this,e,0,r,i),i.push(e[r-2],e[r-1]),i.length<=4?null:i},die=function(e,i,r,o,l,c){const u=new Float32Array(c**2),h=-2*o**2,m=c>>1;for(let S=0;S<c;S++){const C=(S-m)**2;for(let T=0;T<c;T++)u[S*c+T]=Math.exp((C+(T-m)**2)/h)}const g=new Float32Array(256),y=-2*l**2;for(let S=0;S<256;S++)g[S]=Math.exp(S**2/y);const v=e.length,_=new Uint8Array(v),A=new Uint32Array(256);for(let S=0;S<r;S++)for(let C=0;C<i;C++){const T=S*i+C,N=e[T];let j=0,O=0;for(let U=0;U<c;U++){const V=S+U-m;if(!(V<0||V>=r))for(let B=0;B<c;B++){const K=C+B-m;if(K<0||K>=i)continue;const oe=e[V*i+K],me=u[U*c+B]*g[Math.abs(oe-N)];j+=oe*me,O+=me}}const F=_[T]=Math.round(j/O);A[F]++}return[_,A]},hie=function(e){const i=new Uint32Array(256);for(const r of e)i[r]++;return i},HM=function(e){const i=e.length,r=new Uint8ClampedArray(i>>2);let o=-1/0,l=1/0;for(let u=0,h=r.length;u<h;u++){if(e[(u<<2)+3]===0){o=r[u]=255;continue}const g=r[u]=e[u<<2];g>o&&(o=g),g<l&&(l=g)}const c=255/(o-l);for(let u=0;u<i;u++)r[u]=(r[u]-l)*c;return r},GM=function(e){let i,r=-1/0,o=-1/0;const l=e.findIndex(h=>h!==0);let c=l,u=l;for(i=l;i<256;i++){const h=e[i];h>r&&(i-c>o&&(o=i-c,u=i-1),r=h,c=i)}for(i=u-1;i>=0&&!(e[i]>e[i+1]);i--);return i},fie=function(e){const i=e,{width:r,height:o}=e,{maxDim:l}=P(this,d0);let c=r,u=o;if(r>l||o>l){let v=r,_=o,A=Math.log2(Math.max(r,o)/l);const S=Math.floor(A);A=A===S?S-1:S;for(let T=0;T<A;T++){c=v,u=_,c>l&&(c=Math.ceil(c/2)),u>l&&(u=Math.ceil(u/2));const N=new OffscreenCanvas(c,u);N.getContext("2d").drawImage(e,0,0,v,_,0,0,c,u),v=c,_=u,e!==i&&e.close(),e=N.transferToImageBitmap()}const C=Math.min(l/c,l/u);c=Math.round(c*C),u=Math.round(u*C)}const m=new OffscreenCanvas(c,u).getContext("2d",{willReadFrequently:!0});m.filter="grayscale(1)",m.drawImage(e,0,0,e.width,e.height,0,0,c,u);const g=m.getImageData(0,0,c,u).data;return[fe(this,Gn,HM).call(this,g),c,u]},he(Yh,Gn),he(Yh,d0,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),he(Yh,Vc,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class CU extends nie{constructor(){super(),super.updateProperties({fill:mi._defaultLineColor,"stroke-width":0})}clone(){const e=new CU;return e.updateAll(this),e}}class TU extends uP{constructor(e){super(e),super.updateProperties({stroke:mi._defaultLineColor,"stroke-width":1})}clone(){const e=new TU(this._viewParameters);return e.updateAll(this),e}}var om,Ha,am,lm;const Ra=class Ra extends mN{constructor(i){super({...i,mustBeCommitted:!0,name:"signatureEditor"});he(this,om,!1);he(this,Ha,null);he(this,am,null);he(this,lm,null);this._willKeepAspectRatio=!0,te(this,am,i.signatureData||null),te(this,Ha,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(i,r){mi.initialize(i,r),this._defaultDrawingOptions=new CU,this._defaultDrawnSignatureOptions=new TU(r.viewParameters)}static getDefaultDrawingOptions(i){const r=this._defaultDrawingOptions.clone();return r.updateProperties(i),r}static get supportMultipleDrawings(){return!1}static get typesMap(){return yn(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!P(this,Ha)}}static computeTelemetryFinalData(i){const r=i.get("hasDescription");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let i,r;const{_isCopy:o}=this;if(o&&(this._isCopy=!1,i=this.x,r=this.y),super.render(),this._drawId===null)if(P(this,am)){const{lines:l,mustSmooth:c,areContours:u,description:h,uuid:m,heightInPage:g}=P(this,am),{rawDims:{pageWidth:y,pageHeight:v},rotation:_}=this.parent.viewport,A=Yh.processDrawnLines({lines:l,pageWidth:y,pageHeight:v,rotation:_,innerMargin:Ra._INNER_MARGIN,mustSmooth:c,areContours:u});this.addSignature(A,g,h,m)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return o&&(this._isCopy=!0,this._moveAfterPaste(i,r)),this.div}setUuid(i){te(this,lm,i),this.addEditToolbar()}getUuid(){return P(this,lm)}get description(){return P(this,Ha)}set description(i){te(this,Ha,i),super.addEditToolbar().then(r=>{r==null||r.updateEditSignatureButton(i)})}getSignaturePreview(){const{newCurves:i,areContours:r,thickness:o,width:l,height:c}=P(this,am),u=Math.max(l,c),h=Yh.processDrawnLines({lines:{curves:i.map(m=>({points:m})),thickness:o,width:l,height:c},pageWidth:u,pageHeight:u,rotation:0,innerMargin:0,mustSmooth:!1,areContours:r});return{areContours:r,outline:h.outline}}async addEditToolbar(){const i=await super.addEditToolbar();return i?(this._uiManager.signatureManager&&P(this,Ha)!==null&&(await i.addEditSignatureButton(this._uiManager.signatureManager,P(this,lm),P(this,Ha)),i.show()),i):null}addSignature(i,r,o,l){const{x:c,y:u}=this,{outline:h}=te(this,am,i);te(this,om,h instanceof WM),te(this,Ha,o),this.div.setAttribute("data-l10n-args",JSON.stringify({description:o}));let m;P(this,om)?m=Ra.getDefaultDrawingOptions():(m=Ra._defaultDrawnSignatureOptions.clone(),m.updateProperties({"stroke-width":h.thickness})),this._addOutlines({drawOutlines:h,drawingOptions:m});const[g,y]=this.parentDimensions,[,v]=this.pageDimensions;let _=r/v;_=_>=1?.5:_,this.width*=_/this.height,this.width>=1&&(_*=.9/this.width,this.width=.9),this.height=_,this.setDims(g*this.width,y*this.height),this.x=c,this.y=u,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(l),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!l,hasDescription:!!o}}),this.div.hidden=!1}getFromImage(i){const{rawDims:{pageWidth:r,pageHeight:o},rotation:l}=this.parent.viewport;return Yh.process(i,r,o,l,Ra._INNER_MARGIN)}getFromText(i,r){const{rawDims:{pageWidth:o,pageHeight:l},rotation:c}=this.parent.viewport;return Yh.extractContoursFromText(i,r,o,l,c,Ra._INNER_MARGIN)}getDrawnSignature(i){const{rawDims:{pageWidth:r,pageHeight:o},rotation:l}=this.parent.viewport;return Yh.processDrawnLines({lines:i,pageWidth:r,pageHeight:o,rotation:l,innerMargin:Ra._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:i,thickness:r}){i?this._drawingOptions=Ra.getDefaultDrawingOptions():(this._drawingOptions=Ra._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":r}))}serialize(i=!1){if(this.isEmpty())return null;const{lines:r,points:o,rect:l}=this.serializeDraw(i),{_drawingOptions:{"stroke-width":c}}=this,u={annotationType:dn.SIGNATURE,isSignature:!0,areContours:P(this,om),color:[0,0,0],thickness:P(this,om)?0:c,pageIndex:this.pageIndex,rect:l,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return i?(u.paths={lines:r,points:o},u.uuid=P(this,lm),u.isCopy=!0):u.lines=r,P(this,Ha)&&(u.accessibilityData={type:"Figure",alt:P(this,Ha)}),u}static deserializeDraw(i,r,o,l,c,u){return u.areContours?WM.deserialize(i,r,o,l,c,u):lA.deserialize(i,r,o,l,c,u)}static async deserialize(i,r,o){var c;const l=await super.deserialize(i,r,o);return te(l,om,i.areContours),te(l,Ha,((c=i.accessibilityData)==null?void 0:c.alt)||""),te(l,lm,i.uuid),l}};om=new WeakMap,Ha=new WeakMap,am=new WeakMap,lm=new WeakMap,mt(Ra,"_type","signature"),mt(Ra,"_editorType",dn.SIGNATURE),mt(Ra,"_defaultDrawingOptions",null);let XM=Ra;var Di,Yr,cm,$h,um,b1,qh,h0,ld,Ga,y1,Nn,Yk,Zk,a5,l5,c5,YM,u5,pie;class KM extends mi{constructor(i){super({...i,name:"stampEditor"});he(this,Nn);he(this,Di,null);he(this,Yr,null);he(this,cm,null);he(this,$h,null);he(this,um,null);he(this,b1,"");he(this,qh,null);he(this,h0,!1);he(this,ld,null);he(this,Ga,!1);he(this,y1,!1);te(this,$h,i.bitmapUrl),te(this,um,i.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(i,r){mi.initialize(i,r)}static isHandlingMimeForPasting(i){return V6.includes(i)}static paste(i,r){r.pasteEditor(dn.STAMP,{bitmapFile:i.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var i;return{type:"stamp",hasAltText:!!((i=this.altTextData)!=null&&i.altText)}}static computeTelemetryFinalData(i){const r=i.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(i=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:o}=this._uiManager;if(!o)throw new Error("No ML.");if(!await o.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:l,width:c,height:u}=i||this.copyCanvas(null,null,!0).imageData,h=await o.guess({name:"altText",request:{data:l,width:c,height:u,channels:l.length/(c*u)}});if(!h)throw new Error("No response from the AI service.");if(h.error)throw new Error("Error from the AI service.");if(h.cancel)return null;if(!h.output)throw new Error("No valid response from the AI service.");const m=h.output;return await this.setGuessedAltText(m),r&&!this.hasAltTextData()&&(this.altTextData={alt:m,decorative:!1}),m}remove(){var i;P(this,Yr)&&(te(this,Di,null),this._uiManager.imageManager.deleteId(P(this,Yr)),(i=P(this,qh))==null||i.remove(),te(this,qh,null),P(this,ld)&&(clearTimeout(P(this,ld)),te(this,ld,null))),super.remove()}rebuild(){if(!this.parent){P(this,Yr)&&fe(this,Nn,a5).call(this);return}super.rebuild(),this.div!==null&&(P(this,Yr)&&P(this,qh)===null&&fe(this,Nn,a5).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(i){this._isDraggable=!0,i&&this.div.focus()}isEmpty(){return!(P(this,cm)||P(this,Di)||P(this,$h)||P(this,um)||P(this,Yr)||P(this,h0))}get isResizable(){return!0}render(){if(this.div)return this.div;let i,r;return this._isCopy&&(i=this.x,r=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),P(this,h0)||(P(this,Di)?fe(this,Nn,l5).call(this):fe(this,Nn,a5).call(this)),this._isCopy&&this._moveAfterPaste(i,r),this._uiManager.addShouldRescale(this),this.div}setCanvas(i,r){const{id:o,bitmap:l}=this._uiManager.imageManager.getFromCanvas(i,r);r.remove(),o&&this._uiManager.imageManager.isValidId(o)&&(te(this,Yr,o),l&&te(this,Di,l),te(this,h0,!1),fe(this,Nn,l5).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;P(this,ld)!==null&&clearTimeout(P(this,ld)),te(this,ld,setTimeout(()=>{te(this,ld,null),fe(this,Nn,YM).call(this)},200))}copyCanvas(i,r,o=!1){var _;i||(i=224);const{width:l,height:c}=P(this,Di),u=new mf;let h=P(this,Di),m=l,g=c,y=null;if(r){if(l>r||c>r){const B=Math.min(r/l,r/c);m=Math.floor(l*B),g=Math.floor(c*B)}y=document.createElement("canvas");const A=y.width=Math.ceil(m*u.sx),S=y.height=Math.ceil(g*u.sy);P(this,Ga)||(h=fe(this,Nn,c5).call(this,A,S));const C=y.getContext("2d");C.filter=this._uiManager.hcmFilter;let T="white",N="#cfcfd8";this._uiManager.hcmFilter!=="none"?N="black":(_=window.matchMedia)!=null&&_.call(window,"(prefers-color-scheme: dark)").matches&&(T="#8f8f9d",N="#42414d");const j=15,O=j*u.sx,F=j*u.sy,U=new OffscreenCanvas(O*2,F*2),V=U.getContext("2d");V.fillStyle=T,V.fillRect(0,0,O*2,F*2),V.fillStyle=N,V.fillRect(0,0,O,F),V.fillRect(O,F,O,F),C.fillStyle=C.createPattern(U,"repeat"),C.fillRect(0,0,A,S),C.drawImage(h,0,0,h.width,h.height,0,0,A,S)}let v=null;if(o){let A,S;if(u.symmetric&&h.width<i&&h.height<i)A=h.width,S=h.height;else if(h=P(this,Di),l>i||c>i){const N=Math.min(i/l,i/c);A=Math.floor(l*N),S=Math.floor(c*N),P(this,Ga)||(h=fe(this,Nn,c5).call(this,A,S))}const T=new OffscreenCanvas(A,S).getContext("2d",{willReadFrequently:!0});T.drawImage(h,0,0,h.width,h.height,0,0,A,S),v={width:A,height:S,data:T.getImageData(0,0,A,S).data}}return{canvas:y,width:m,height:g,imageData:v}}static async deserialize(i,r,o){var C;let l=null,c=!1;if(i instanceof Dne){const{data:{rect:T,rotation:N,id:j,structParent:O,popupRef:F},container:U,parent:{page:{pageNumber:V}},canvas:B}=i;let K,oe;B?(delete i.canvas,{id:K,bitmap:oe}=o.imageManager.getFromCanvas(U.id,B),B.remove()):(c=!0,i._hasNoCanvas=!0);const me=((C=await r._structTree.getAriaAttributes(`${bU}${j}`))==null?void 0:C.get("aria-label"))||"";l=i={annotationType:dn.STAMP,bitmapId:K,bitmap:oe,pageIndex:V-1,rect:T.slice(0),rotation:N,id:j,deleted:!1,accessibilityData:{decorative:!1,altText:me},isSvg:!1,structParent:O,popupRef:F}}const u=await super.deserialize(i,r,o),{rect:h,bitmap:m,bitmapUrl:g,bitmapId:y,isSvg:v,accessibilityData:_}=i;c?(o.addMissingCanvas(i.id,u),te(u,h0,!0)):y&&o.imageManager.isValidId(y)?(te(u,Yr,y),m&&te(u,Di,m)):te(u,$h,g),te(u,Ga,v);const[A,S]=u.pageDimensions;return u.width=(h[2]-h[0])/A,u.height=(h[3]-h[1])/S,u.annotationElementId=i.id||null,_&&(u.altTextData=_),u._initialData=l,te(u,y1,!!l),u}serialize(i=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const o={annotationType:dn.STAMP,bitmapId:P(this,Yr),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:P(this,Ga),structTreeParentId:this._structTreeParentId};if(i)return o.bitmapUrl=fe(this,Nn,u5).call(this,!0),o.accessibilityData=this.serializeAltText(!0),o.isCopy=!0,o;const{decorative:l,altText:c}=this.serializeAltText(!1);if(!l&&c&&(o.accessibilityData={type:"Figure",alt:c}),this.annotationElementId){const h=fe(this,Nn,pie).call(this,o);if(h.isSame)return null;h.isSameAltText?delete o.accessibilityData:o.accessibilityData.structParent=this._initialData.structParent??-1}if(o.id=this.annotationElementId,r===null)return o;r.stamps||(r.stamps=new Map);const u=P(this,Ga)?(o.rect[2]-o.rect[0])*(o.rect[3]-o.rect[1]):null;if(!r.stamps.has(P(this,Yr)))r.stamps.set(P(this,Yr),{area:u,serialized:o}),o.bitmap=fe(this,Nn,u5).call(this,!1);else if(P(this,Ga)){const h=r.stamps.get(P(this,Yr));u>h.area&&(h.area=u,h.serialized.bitmap.close(),h.serialized.bitmap=fe(this,Nn,u5).call(this,!1))}return o}renderAnnotationElement(i){return i.updateEdited({rect:this.getRect(0,0)}),null}}Di=new WeakMap,Yr=new WeakMap,cm=new WeakMap,$h=new WeakMap,um=new WeakMap,b1=new WeakMap,qh=new WeakMap,h0=new WeakMap,ld=new WeakMap,Ga=new WeakMap,y1=new WeakMap,Nn=new WeakSet,Yk=function(i,r=!1){if(!i){this.remove();return}te(this,Di,i.bitmap),r||(te(this,Yr,i.id),te(this,Ga,i.isSvg)),i.file&&te(this,b1,i.file.name),fe(this,Nn,l5).call(this)},Zk=function(){if(te(this,cm,null),this._uiManager.enableWaiting(!1),!!P(this,qh)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&P(this,Di)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&P(this,Di)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},a5=function(){if(P(this,Yr)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(P(this,Yr)).then(o=>fe(this,Nn,Yk).call(this,o,!0)).finally(()=>fe(this,Nn,Zk).call(this));return}if(P(this,$h)){const o=P(this,$h);te(this,$h,null),this._uiManager.enableWaiting(!0),te(this,cm,this._uiManager.imageManager.getFromUrl(o).then(l=>fe(this,Nn,Yk).call(this,l)).finally(()=>fe(this,Nn,Zk).call(this)));return}if(P(this,um)){const o=P(this,um);te(this,um,null),this._uiManager.enableWaiting(!0),te(this,cm,this._uiManager.imageManager.getFromFile(o).then(l=>fe(this,Nn,Yk).call(this,l)).finally(()=>fe(this,Nn,Zk).call(this)));return}const i=document.createElement("input");i.type="file",i.accept=V6.join(",");const r=this._uiManager._signal;te(this,cm,new Promise(o=>{i.addEventListener("change",async()=>{if(!i.files||i.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const l=await this._uiManager.imageManager.getFromFile(i.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),fe(this,Nn,Yk).call(this,l)}o()},{signal:r}),i.addEventListener("cancel",()=>{this.remove(),o()},{signal:r})}).finally(()=>fe(this,Nn,Zk).call(this))),i.click()},l5=function(){var y;const{div:i}=this;let{width:r,height:o}=P(this,Di);const[l,c]=this.pageDimensions,u=.75;if(this.width)r=this.width*l,o=this.height*c;else if(r>u*l||o>u*c){const v=Math.min(u*l/r,u*c/o);r*=v,o*=v}const[h,m]=this.parentDimensions;this.setDims(r*h/l,o*m/c),this._uiManager.enableWaiting(!1);const g=te(this,qh,document.createElement("canvas"));g.setAttribute("role","img"),this.addContainer(g),this.width=r/l,this.height=o/c,(y=this._initialOptions)!=null&&y.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(i.hidden=!1),fe(this,Nn,YM).call(this),P(this,y1)||(this.parent.addUndoableEditor(this),te(this,y1,!0)),this._reportTelemetry({action:"inserted_image"}),P(this,b1)&&this.div.setAttribute("aria-description",P(this,b1))},c5=function(i,r){const{width:o,height:l}=P(this,Di);let c=o,u=l,h=P(this,Di);for(;c>2*i||u>2*r;){const m=c,g=u;c>2*i&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2)),u>2*r&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2));const y=new OffscreenCanvas(c,u);y.getContext("2d").drawImage(h,0,0,m,g,0,0,c,u),h=y.transferToImageBitmap()}return h},YM=function(){const[i,r]=this.parentDimensions,{width:o,height:l}=this,c=new mf,u=Math.ceil(o*i*c.sx),h=Math.ceil(l*r*c.sy),m=P(this,qh);if(!m||m.width===u&&m.height===h)return;m.width=u,m.height=h;const g=P(this,Ga)?P(this,Di):fe(this,Nn,c5).call(this,u,h),y=m.getContext("2d");y.filter=this._uiManager.hcmFilter,y.drawImage(g,0,0,g.width,g.height,0,0,u,h)},u5=function(i){if(i){if(P(this,Ga)){const l=this._uiManager.imageManager.getSvgUrl(P(this,Yr));if(l)return l}const r=document.createElement("canvas");return{width:r.width,height:r.height}=P(this,Di),r.getContext("2d").drawImage(P(this,Di),0,0),r.toDataURL()}if(P(this,Ga)){const[r,o]=this.pageDimensions,l=Math.round(this.width*r*Om.PDF_TO_CSS_UNITS),c=Math.round(this.height*o*Om.PDF_TO_CSS_UNITS),u=new OffscreenCanvas(l,c);return u.getContext("2d").drawImage(P(this,Di),0,0,P(this,Di).width,P(this,Di).height,0,0,l,c),u.transferToImageBitmap()}return structuredClone(P(this,Di))},pie=function(i){var u;const{pageIndex:r,accessibilityData:{altText:o}}=this._initialData,l=i.pageIndex===r,c=(((u=i.accessibilityData)==null?void 0:u.alt)||"")===o;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&l&&c,isSameAltText:c}},mt(KM,"_type","stamp"),mt(KM,"_editorType",dn.STAMP);var f0,v1,cd,dm,Hh,Xl,hm,w1,p0,Wc,Gh,Ys,Xh,$t,fm,Ni,mie,Hu,JM,QM,d5;const Pc=class Pc{constructor({uiManager:e,pageIndex:i,div:r,structTreeLayer:o,accessibilityManager:l,annotationLayer:c,drawLayer:u,textLayer:h,viewport:m,l10n:g}){he(this,Ni);he(this,f0);he(this,v1,!1);he(this,cd,null);he(this,dm,null);he(this,Hh,null);he(this,Xl,new Map);he(this,hm,!1);he(this,w1,!1);he(this,p0,!1);he(this,Wc,null);he(this,Gh,null);he(this,Ys,null);he(this,Xh,null);he(this,$t);const y=[...P(Pc,fm).values()];if(!Pc._initialized){Pc._initialized=!0;for(const v of y)v.initialize(g,e)}e.registerEditorTypes(y),te(this,$t,e),this.pageIndex=i,this.div=r,te(this,f0,l),te(this,cd,c),this.viewport=m,te(this,Ys,h),this.drawLayer=u,this._structTree=o,P(this,$t).addLayer(this)}get isEmpty(){return P(this,Xl).size===0}get isInvisible(){return this.isEmpty&&P(this,$t).getMode()===dn.NONE}updateToolbar(e){P(this,$t).updateToolbar(e)}updateMode(e=P(this,$t).getMode()){switch(fe(this,Ni,d5).call(this),e){case dn.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case dn.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case dn.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:i}=this.div;for(const r of P(Pc,fm).values())i.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var i;return e===((i=P(this,Ys))==null?void 0:i.div)}setEditingState(e){P(this,$t).setEditingState(e)}addCommands(e){P(this,$t).addCommands(e)}cleanUndoStack(e){P(this,$t).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var i;(i=P(this,cd))==null||i.div.classList.toggle("disabled",!e)}async enable(){te(this,p0,!0),this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of P(this,Xl).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(P(this,$t).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!P(this,cd)){te(this,p0,!1);return}const i=P(this,cd).getEditableAnnotations();for(const r of i){if(r.hide(),P(this,$t).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const o=await this.deserialize(r);o&&(this.addOrRebuild(o),o.enableEditing())}te(this,p0,!1)}disable(){var o;te(this,w1,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,i=new Map;for(const l of P(this,Xl).values())if(l.disableEditing(),!!l.annotationElementId){if(l.serialize()!==null){e.set(l.annotationElementId,l);continue}else i.set(l.annotationElementId,l);(o=this.getEditableAnnotation(l.annotationElementId))==null||o.show(),l.remove()}if(P(this,cd)){const l=P(this,cd).getEditableAnnotations();for(const c of l){const{id:u}=c.data;if(P(this,$t).isDeletedAnnotationElement(u))continue;let h=i.get(u);if(h){h.resetAnnotationElement(c),h.show(!1),c.show();continue}h=e.get(u),h&&(P(this,$t).addChangedExistingAnnotation(h),h.renderAnnotationElement(c)&&h.show(!1)),c.show()}}fe(this,Ni,d5).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const l of P(Pc,fm).values())r.remove(`${l._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),te(this,w1,!1)}getEditableAnnotation(e){var i;return((i=P(this,cd))==null?void 0:i.getEditableAnnotation(e))||null}setActiveEditor(e){P(this,$t).getActive()!==e&&P(this,$t).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=P(this,Ys))!=null&&e.div&&!P(this,Xh)){te(this,Xh,new AbortController);const i=P(this,$t).combinedSignal(P(this,Xh));P(this,Ys).div.addEventListener("pointerdown",fe(this,Ni,mie).bind(this),{signal:i}),P(this,Ys).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=P(this,Ys))!=null&&e.div&&P(this,Xh)&&(P(this,Xh).abort(),te(this,Xh,null),P(this,Ys).div.classList.remove("highlighting"))}enableClick(){if(P(this,dm))return;te(this,dm,new AbortController);const e=P(this,$t).combinedSignal(P(this,dm));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const i=this.pointerup.bind(this);this.div.addEventListener("pointerup",i,{signal:e}),this.div.addEventListener("pointercancel",i,{signal:e})}disableClick(){var e;(e=P(this,dm))==null||e.abort(),te(this,dm,null)}attach(e){P(this,Xl).set(e.id,e);const{annotationElementId:i}=e;i&&P(this,$t).isDeletedAnnotationElement(i)&&P(this,$t).removeDeletedAnnotationElement(e)}detach(e){var i;P(this,Xl).delete(e.id),(i=P(this,f0))==null||i.removePointerInTextLayer(e.contentDiv),!P(this,w1)&&e.annotationElementId&&P(this,$t).addDeletedAnnotationElement(e)}remove(e){this.detach(e),P(this,$t).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var i;e.parent!==this&&(e.parent&&e.annotationElementId&&(P(this,$t).addDeletedAnnotationElement(e.annotationElementId),mi.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(i=e.parent)==null||i.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),P(this,$t).addEditor(e),this.attach(e),!e.isAttachedToDOM){const i=e.render();this.div.append(i),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!P(this,p0)),P(this,$t).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:i}=document;e.div.contains(i)&&!P(this,Hh)&&(e._focusEventsAllowed=!1,te(this,Hh,setTimeout(()=>{te(this,Hh,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:P(this,$t)._signal}),i.focus())},0))),e._structTreeParentId=(r=P(this,f0))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const i=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:i,undo:r,mustExec:!1})}getNextId(){return P(this,$t).getId()}combinedSignal(e){return P(this,$t).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=P(this,Ni,Hu))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,i){P(this,$t).updateToolbar(e),await P(this,$t).updateMode(e);const{offsetX:r,offsetY:o}=fe(this,Ni,QM).call(this),l=this.getNextId(),c=fe(this,Ni,JM).call(this,{parent:this,id:l,x:r,y:o,uiManager:P(this,$t),isCentered:!0,...i});c&&this.add(c)}async deserialize(e){var i;return await((i=P(Pc,fm).get(e.annotationType??e.annotationEditorType))==null?void 0:i.deserialize(e,this,P(this,$t)))||null}createAndAddNewEditor(e,i,r={}){const o=this.getNextId(),l=fe(this,Ni,JM).call(this,{parent:this,id:o,x:e.offsetX,y:e.offsetY,uiManager:P(this,$t),isCentered:i,...r});return l&&this.add(l),l}addNewEditor(e={}){this.createAndAddNewEditor(fe(this,Ni,QM).call(this),!0,e)}setSelected(e){P(this,$t).setSelected(e)}toggleSelected(e){P(this,$t).toggleSelected(e)}unselect(e){P(this,$t).unselect(e)}pointerup(e){var o;const{isMac:i}=Cs.platform;if(e.button!==0||e.ctrlKey&&i||e.target!==this.div||!P(this,hm)||(te(this,hm,!1),(o=P(this,Ni,Hu))!=null&&o.isDrawer&&P(this,Ni,Hu).supportMultipleDrawings))return;if(!P(this,v1)){te(this,v1,!0);return}const r=P(this,$t).getMode();if(r===dn.STAMP||r===dn.SIGNATURE){P(this,$t).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var o;if(P(this,$t).getMode()===dn.HIGHLIGHT&&this.enableTextSelection(),P(this,hm)){te(this,hm,!1);return}const{isMac:i}=Cs.platform;if(e.button!==0||e.ctrlKey&&i||e.target!==this.div)return;if(te(this,hm,!0),(o=P(this,Ni,Hu))!=null&&o.isDrawer){this.startDrawingSession(e);return}const r=P(this,$t).getActive();te(this,v1,!r||r.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),P(this,Wc)){P(this,Ni,Hu).startDrawing(this,P(this,$t),!1,e);return}P(this,$t).setCurrentDrawingSession(this),te(this,Wc,new AbortController);const i=P(this,$t).combinedSignal(P(this,Wc));this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(te(this,Gh,null),this.commitOrRemove())},{signal:i}),P(this,Ni,Hu).startDrawing(this,P(this,$t),!1,e)}pause(e){if(e){const{activeElement:i}=document;this.div.contains(i)&&te(this,Gh,i);return}P(this,Gh)&&setTimeout(()=>{var i;(i=P(this,Gh))==null||i.focus(),te(this,Gh,null)},0)}endDrawingSession(e=!1){return P(this,Wc)?(P(this,$t).setCurrentDrawingSession(null),P(this,Wc).abort(),te(this,Wc,null),te(this,Gh,null),P(this,Ni,Hu).endDrawing(e)):null}findNewParent(e,i,r){const o=P(this,$t).findParent(i,r);return o===null||o===this?!1:(o.changeParent(e),!0)}commitOrRemove(){return P(this,Wc)?(this.endDrawingSession(),!0):!1}onScaleChanging(){P(this,Wc)&&P(this,Ni,Hu).onScaleChangingWhenDrawing(this)}destroy(){var e,i;this.commitOrRemove(),((e=P(this,$t).getActive())==null?void 0:e.parent)===this&&(P(this,$t).commitOrRemove(),P(this,$t).setActiveEditor(null)),P(this,Hh)&&(clearTimeout(P(this,Hh)),te(this,Hh,null));for(const r of P(this,Xl).values())(i=P(this,f0))==null||i.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,P(this,Xl).clear(),P(this,$t).removeLayer(this)}render({viewport:e}){this.viewport=e,R0(this.div,e);for(const i of P(this,$t).getEditors(this.pageIndex))this.add(i),i.rebuild();this.updateMode()}update({viewport:e}){P(this,$t).commitOrRemove(),fe(this,Ni,d5).call(this);const i=this.viewport.rotation,r=e.rotation;if(this.viewport=e,R0(this.div,{rotation:r}),i!==r)for(const o of P(this,Xl).values())o.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:i}=this.viewport.rawDims;return[e,i]}get scale(){return P(this,$t).viewParameters.realScale}};f0=new WeakMap,v1=new WeakMap,cd=new WeakMap,dm=new WeakMap,Hh=new WeakMap,Xl=new WeakMap,hm=new WeakMap,w1=new WeakMap,p0=new WeakMap,Wc=new WeakMap,Gh=new WeakMap,Ys=new WeakMap,Xh=new WeakMap,$t=new WeakMap,fm=new WeakMap,Ni=new WeakSet,mie=function(e){P(this,$t).unselectAll();const{target:i}=e;if(i===P(this,Ys).div||(i.getAttribute("role")==="img"||i.classList.contains("endOfContent"))&&P(this,Ys).div.contains(i)){const{isMac:r}=Cs.platform;if(e.button!==0||e.ctrlKey&&r)return;P(this,$t).showAllEditors("highlight",!0,!0),P(this,Ys).div.classList.add("free"),this.toggleDrawing(),pN.startHighlighting(this,P(this,$t).direction==="ltr",{target:P(this,Ys).div,x:e.x,y:e.y}),P(this,Ys).div.addEventListener("pointerup",()=>{P(this,Ys).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:P(this,$t)._signal}),e.preventDefault()}},Hu=function(){return P(Pc,fm).get(P(this,$t).getMode())},JM=function(e){const i=P(this,Ni,Hu);return i?new i.prototype.constructor(e):null},QM=function(){const{x:e,y:i,width:r,height:o}=this.div.getBoundingClientRect(),l=Math.max(0,e),c=Math.max(0,i),u=Math.min(window.innerWidth,e+r),h=Math.min(window.innerHeight,i+o),m=(l+u)/2-e,g=(c+h)/2-i,[y,v]=this.viewport.rotation%180===0?[m,g]:[g,m];return{offsetX:y,offsetY:v}},d5=function(){for(const e of P(this,Xl).values())e.isEmpty()&&e.remove()},mt(Pc,"_initialized",!1),he(Pc,fm,new Map([DM,VM,KM,pN,XM].map(e=>[e._editorType,e])));let ZM=Pc;var $c,So,m0,NS,RN,gie,_d,tO,bie,nO;const Ar=class Ar{constructor({pageIndex:e}){he(this,_d);he(this,$c,null);he(this,So,new Map);he(this,m0,new Map);this.pageIndex=e}setParent(e){if(!P(this,$c)){te(this,$c,e);return}if(P(this,$c)!==e){if(P(this,So).size>0)for(const i of P(this,So).values())i.remove(),e.append(i);te(this,$c,e)}}static get _svgFactory(){return yn(this,"_svgFactory",new dN)}draw(e,i=!1,r=!1){const o=wo(Ar,NS)._++,l=fe(this,_d,tO).call(this),c=Ar._svgFactory.createElement("defs");l.append(c);const u=Ar._svgFactory.createElement("path");c.append(u);const h=`path_p${this.pageIndex}_${o}`;u.setAttribute("id",h),u.setAttribute("vector-effect","non-scaling-stroke"),i&&P(this,m0).set(o,u);const m=r?fe(this,_d,bie).call(this,c,h):null,g=Ar._svgFactory.createElement("use");return l.append(g),g.setAttribute("href",`#${h}`),this.updateProperties(l,e),P(this,So).set(o,l),{id:o,clipPathId:`url(#${m})`}}drawOutline(e,i){const r=wo(Ar,NS)._++,o=fe(this,_d,tO).call(this),l=Ar._svgFactory.createElement("defs");o.append(l);const c=Ar._svgFactory.createElement("path");l.append(c);const u=`path_p${this.pageIndex}_${r}`;c.setAttribute("id",u),c.setAttribute("vector-effect","non-scaling-stroke");let h;if(i){const y=Ar._svgFactory.createElement("mask");l.append(y),h=`mask_p${this.pageIndex}_${r}`,y.setAttribute("id",h),y.setAttribute("maskUnits","objectBoundingBox");const v=Ar._svgFactory.createElement("rect");y.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const _=Ar._svgFactory.createElement("use");y.append(_),_.setAttribute("href",`#${u}`),_.setAttribute("stroke","none"),_.setAttribute("fill","black"),_.setAttribute("fill-rule","nonzero"),_.classList.add("mask")}const m=Ar._svgFactory.createElement("use");o.append(m),m.setAttribute("href",`#${u}`),h&&m.setAttribute("mask",`url(#${h})`);const g=m.cloneNode();return o.append(g),m.classList.add("mainOutline"),g.classList.add("secondaryOutline"),this.updateProperties(o,e),P(this,So).set(r,o),r}finalizeDraw(e,i){P(this,m0).delete(e),this.updateProperties(e,i)}updateProperties(e,i){var h;if(!i)return;const{root:r,bbox:o,rootClass:l,path:c}=i,u=typeof e=="number"?P(this,So).get(e):e;if(u){if(r&&fe(this,_d,nO).call(this,u,r),o&&fe(h=Ar,RN,gie).call(h,u,o),l){const{classList:m}=u;for(const[g,y]of Object.entries(l))m.toggle(g,y)}if(c){const g=u.firstChild.firstChild;fe(this,_d,nO).call(this,g,c)}}}updateParent(e,i){if(i===this)return;const r=P(this,So).get(e);r&&(P(i,$c).append(r),P(this,So).delete(e),P(i,So).set(e,r))}remove(e){P(this,m0).delete(e),P(this,$c)!==null&&(P(this,So).get(e).remove(),P(this,So).delete(e))}destroy(){te(this,$c,null);for(const e of P(this,So).values())e.remove();P(this,So).clear(),P(this,m0).clear()}};$c=new WeakMap,So=new WeakMap,m0=new WeakMap,NS=new WeakMap,RN=new WeakSet,gie=function(e,[i,r,o,l]){const{style:c}=e;c.top=`${100*r}%`,c.left=`${100*i}%`,c.width=`${100*o}%`,c.height=`${100*l}%`},_d=new WeakSet,tO=function(){const e=Ar._svgFactory.create(1,1,!0);return P(this,$c).append(e),e.setAttribute("aria-hidden",!0),e},bie=function(e,i){const r=Ar._svgFactory.createElement("clipPath");e.append(r);const o=`clip_${i}`;r.setAttribute("id",o),r.setAttribute("clipPathUnits","objectBoundingBox");const l=Ar._svgFactory.createElement("use");return r.append(l),l.setAttribute("href",`#${i}`),l.classList.add("clip"),o},nO=function(e,i){for(const[r,o]of Object.entries(i))o===null?e.removeAttribute(r):e.setAttribute(r,o)},he(Ar,RN),he(Ar,NS,0);let eO=Ar;globalThis.pdfjsTestingUtils={HighlightOutliner:PM};globalThis.pdfjsLib={AbortException:Mm,AnnotationEditorLayer:ZM,AnnotationEditorParamsType:En,AnnotationEditorType:dn,AnnotationEditorUIManager:M0,AnnotationLayer:AM,AnnotationMode:Pp,AnnotationType:mr,build:_Ce,ColorPicker:fN,createValidAbsoluteUrl:dte,DOMSVGFactory:dN,DrawLayer:eO,FeatureTest:Cs,fetchData:iA,getDocument:pne,getFilenameFromUrl:mAe,getPdfFilenameFromUrl:gAe,getUuid:pte,getXfaPageViewport:bAe,GlobalWorkerOptions:fd,ImageKind:MD,InvalidPDFException:B6,isDataScheme:lP,isPdfFile:vU,isValidExplicitDest:mCe,MathClamp:Co,noContextMenu:eu,normalizeUnicode:hAe,OPS:aN,OutputScale:mf,PasswordResponses:iAe,PDFDataRangeTransport:mne,PDFDateString:wU,PDFWorker:fw,PermissionFlag:nAe,PixelsPerInch:Om,RenderingCancelledException:yU,ResponseException:lN,setLayerDimensions:R0,shadow:yn,SignatureExtractor:Yh,stopEvent:gr,SupportedImageMimeTypes:V6,TextLayer:oE,TouchManager:uN,updateUrlHash:hte,Util:Wt,VerbosityLevel:sP,version:xCe,XfaLayer:bne};function $Ce(n){return new Worker("/accreda.github.io/assets/pdf.worker-BKIAaNPc.js",{name:n==null?void 0:n.name})}function yie(n){return!n||n.length===0?null:n.reduce((e,i)=>new Date(i.updated_at)>new Date(e.updated_at)?i:e)}const qCe=({isOpen:n,onClose:e,editSAO:i,onCreated:r,initialContent:o,onInitialContentUsed:l})=>{const[c,u]=H.useState(""),[h,m]=H.useState(""),[g,y]=H.useState([]),[v,_]=H.useState("draft"),[A,S]=H.useState(!1),[C,T]=H.useState(!1),[N,j]=H.useState(null),[O,F]=H.useState(""),[U,V]=H.useState([]),{skillCategories:B}=uf(),{createSAO:K,updateSAO:oe,loading:me,error:Q,requestFeedback:ge,loadUserSAOs:$}=HS(),[De,ie]=H.useState(!1),[ce,X]=H.useState(""),{checkSaoLimit:Y,tier:ne,fetchSubscription:ee}=$S(),[ue,Z]=H.useState(null),[xe,Ae]=H.useState(0),[Oe,Pe]=H.useState(!1),Me=i&&i.feedback?yie(i.feedback):null;H.useEffect(()=>{n&&(async()=>{const{data:{user:Ie}}=await Re.auth.getUser();if(!Ie)return;const{data:be}=await Re.from("supervisor_eit_relationships").select(`
          supervisor_id,
          supervisor_profiles (
            id,
            full_name
          )
        `).eq("eit_id",Ie.id).eq("status","active");be&&V(be.map(_e=>({id:_e.supervisor_profiles.id,name:_e.supervisor_profiles.full_name})))})()},[n]),H.useEffect(()=>{n&&i?(u(i.title),m(i.content),y(i.skills),_(i.status||"draft")):n&&(u(""),m(""),y([]),_("draft"))},[n,i]),H.useEffect(()=>{n&&o&&(m(o),l&&l())},[n,o,l]),H.useEffect(()=>{(async()=>{await ee();const{data:{user:Ie}}=await Re.auth.getUser();if(Ie){const{data:be}=await Re.from("subscriptions").select("sao_created_count").eq("user_id",Ie.id).single();be&&typeof be.sao_created_count=="number"&&Ae(be.sao_created_count)}})()},[n]);const Ve=async Ce=>{Ce.preventDefault(),Z(null);try{if(!i&&ne==="free"&&!await Y()){Z("You have reached your SAO limit for the Free plan. Upgrade to add more.");return}i?await oe(i.id,c,h,g,v):await K(c,h,g,v),u(""),m(""),y([]),F(""),e(),$(),r&&r()}catch(Ie){console.error("Error saving SAO:",Ie)}},Le=async()=>{if(h.trim()){T(!0);try{console.log("Starting enhancement process...");const Ce=await n1e(h);console.log("Enhancement completed:",Ce),j(Ce)}catch(Ce){console.error("Error in handleEnhanceWithAI:",Ce),alert(Ce instanceof Error?Ce.message:"Failed to enhance text. Please try again.")}finally{T(!1)}}},Ee=()=>{N&&(m(N),j(null))},we=()=>{j(null)},ze=async()=>{if(!O||!i)return;const{data:{user:Ce}}=await Re.auth.getUser();if(!Ce)return;const{count:Ie}=await Re.from("skill_validations").select("*",{count:"exact",head:!0}).eq("eit_id",Ce.id).eq("validator_id",O);if((Ie||0)>=20){X("This supervisor has already validated 20 skills for you. Please select a different supervisor."),ie(!0);return}await ge(i.id,O)},G=Oe?(i==null?void 0:i.feedback)||[]:i!=null&&i.feedback&&i.feedback.length>0?[i.feedback[i.feedback.length-1]]:[];return n?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:b.jsxs("div",{className:"bg-white rounded-lg p-8 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("h2",{className:"text-2xl font-semibold",children:i?"Edit SAO":"Create New SAO"}),Me&&Me.status==="pending"&&b.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-yellow-100 text-yellow-800",children:"Pending"}),Me&&Me.status==="submitted"&&b.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-800",children:"Marked"})]}),b.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600",children:b.jsx(As,{size:24})})]}),ue&&b.jsx("div",{className:"mb-6 p-4 bg-red-50 text-red-700 rounded-md text-sm font-semibold text-center",children:ue}),Q&&b.jsx("div",{className:"mb-6 p-4 bg-red-50 text-red-700 rounded-md text-sm",children:Q}),i&&b.jsxs("div",{className:"mb-6",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx("span",{className:"font-semibold text-slate-700",children:"Comments & Feedback"}),b.jsx("button",{type:"button",className:"p-1 rounded hover:bg-slate-200",title:Oe?"Hide Feedback History":"Show Feedback History",onClick:()=>Pe(Ce=>!Ce),children:b.jsx(V0,{size:18,className:Oe?"text-blue-600":"text-slate-400"})})]}),b.jsx(KZ,{saoId:i.id,content:i.content}),Oe&&G.length>1&&b.jsxs("div",{className:"mt-4",children:[b.jsx("div",{className:"font-semibold text-xs text-slate-500 mb-1",children:"Feedback History"}),G.slice(0,-1).map((Ce,Ie)=>b.jsxs("div",{className:"bg-slate-100 rounded p-2 mb-2 text-xs text-slate-700",children:[b.jsx("div",{className:"mb-1",children:Ce.feedback}),b.jsx("div",{className:"text-slate-400",children:new Date(Ce.updated_at).toLocaleDateString()})]},Ce.id))]})]}),i&&i.feedback&&i.feedback.length>0&&b.jsx("div",{className:"mb-6",children:b.jsx(G8,{feedback:G,onResolve:async()=>Promise.resolve(),onSubmitFeedback:async()=>Promise.resolve(),isSupervisor:!1})}),b.jsxs("form",{onSubmit:Ve,className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-slate-700 mb-2",children:"Title"}),b.jsx("input",{type:"text",id:"title",value:c,onChange:Ce=>u(Ce.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 text-lg",placeholder:"Enter SAO title",required:!0,disabled:me})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"sao",className:"block text-sm font-medium text-slate-700 mb-2",children:"Situation-Action-Outcome"}),b.jsxs("div",{className:"relative",children:[b.jsx(K8,{content:N||h,onChange:Ce=>{N||m(Ce)},onSave:()=>{},onCancel:()=>{}}),ne!=="free"&&b.jsxs("button",{type:"button",onClick:Le,disabled:!h.trim()||me||C,className:"absolute top-4 right-4 p-3 text-slate-400 hover:text-teal-600 hover:bg-slate-100 rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed group",title:"Enhance with AI",children:[b.jsxs("div",{className:"relative",children:[b.jsx(mZ,{size:24,className:`${C?"animate-pulse":""} transition-transform duration-300 group-hover:scale-110`}),C&&b.jsx("div",{className:"absolute inset-0 animate-ping rounded-full bg-teal-400 opacity-20"})]}),b.jsx("span",{className:"absolute right-full mr-2 top-1/2 -translate-y-1/2 bg-slate-800 text-white px-3 py-1.5 rounded text-sm font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap",children:"Enhance with AI"})]})]}),N&&b.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[b.jsx("span",{className:"text-sm text-slate-600",children:"AI Enhancement Preview"}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{type:"button",onClick:Ee,className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 hover:bg-teal-700 rounded-md transition-all duration-300 hover:scale-105 active:scale-95",children:"Accept"}),b.jsx("button",{type:"button",onClick:we,className:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-800 hover:bg-slate-100 rounded-md transition-all duration-300 hover:scale-105 active:scale-95",children:"Decline"})]})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Status"}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("button",{type:"button",className:`px-4 py-2 rounded-full border text-sm font-semibold transition-colors duration-200 ${v==="draft"?"bg-slate-200 text-slate-800 border-slate-400":"bg-white text-slate-500 border-slate-200"}`,onClick:()=>_("draft"),"aria-pressed":v==="draft",children:"Draft"}),b.jsx("button",{type:"button",className:`px-4 py-2 rounded-full border text-sm font-semibold transition-colors duration-200 ${v==="complete"?"bg-green-200 text-green-800 border-green-400":"bg-white text-slate-500 border-slate-200"}`,onClick:()=>_("complete"),"aria-pressed":v==="complete",children:"Completed"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Relevant Skills"}),b.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:g.map(Ce=>b.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-teal-100 text-teal-800",children:[Ce.name,b.jsx("button",{type:"button",onClick:()=>y(Ie=>Ie.filter(be=>be.id!==Ce.id)),className:"ml-2 text-teal-600 hover:text-teal-800",disabled:me,children:b.jsx(As,{size:16})})]},Ce.id))}),b.jsxs("button",{type:"button",onClick:()=>S(!0),className:"btn btn-secondary w-full flex items-center justify-center gap-2 py-3 text-lg",disabled:me,children:[b.jsx(Kv,{size:20}),"Select Skills"]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Supervisor Selection"}),b.jsxs("div",{className:"flex gap-3",children:[b.jsxs("select",{value:O,onChange:Ce=>F(Ce.target.value),className:"flex-1 px-4 py-3 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 text-lg",disabled:me||U.length===0,children:[b.jsx("option",{value:"",children:"Select a supervisor"}),U.map(Ce=>b.jsx("option",{value:Ce.id,children:Ce.name},Ce.id))]}),b.jsx("button",{type:"button",onClick:ze,disabled:!O||me||!i,className:"px-4 py-3 bg-teal-600 text-white rounded-md hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:"Send for Validation"})]}),U.length===0&&b.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"No active supervisors found. Connect with a supervisor first."})]}),b.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[b.jsx("button",{type:"button",onClick:e,className:"btn btn-secondary px-6 py-3 text-lg",disabled:me,children:"Cancel"}),b.jsx("button",{type:"submit",className:"btn btn-primary px-6 py-3 text-lg",disabled:me,children:me?"Saving...":i?"Update SAO":"Create SAO"})]})]}),A&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:b.jsxs("div",{className:"bg-white rounded-lg p-8 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsx("h3",{className:"text-2xl font-semibold",children:"Select Skills"}),b.jsx("button",{onClick:()=>S(!1),className:"text-slate-400 hover:text-slate-600",children:b.jsx(As,{size:24})})]}),b.jsx("div",{className:"space-y-6",children:B.map(Ce=>b.jsxs("div",{className:"border rounded-lg p-6",children:[b.jsx("h4",{className:"font-medium text-slate-900 text-lg mb-4",children:Ce.name}),b.jsx("div",{className:"space-y-3",children:Ce.skills.map(Ie=>b.jsxs("label",{className:"flex items-center space-x-3 p-3 hover:bg-slate-50 rounded cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:g.some(be=>be.id===Ie.id),onChange:be=>{be.target.checked?y(_e=>[..._e,{...Ie,category_name:Ce.name}]):y(_e=>_e.filter(Se=>Se.id!==Ie.id))},className:"rounded text-teal-600 focus:ring-teal-500 w-5 h-5"}),b.jsx("span",{className:"text-base",children:Ie.name})]},Ie.id))})]},Ce.name))}),b.jsx("div",{className:"flex justify-end mt-8",children:b.jsx("button",{onClick:()=>S(!1),className:"btn btn-primary px-6 py-3 text-lg",children:"Done"})})]})}),b.jsx(lw,{isOpen:De,onClose:()=>ie(!1),children:b.jsxs("div",{className:"p-6",children:[b.jsx("h2",{className:"text-lg font-semibold mb-4 text-red-700",children:"Validation Rule Violation"}),b.jsx("p",{className:"text-slate-700 mb-4",children:ce}),b.jsx("button",{className:"btn btn-primary",onClick:()=>ie(!1),children:"OK"})]})})]})}):null},HCe=({sao:n,onDelete:e,onEdit:i})=>{const r=H.useRef(null),[o]=sK(),l=o.get("saoId"),c=n.feedback?yie(n.feedback):null;return H.useEffect(()=>{var u,h;l===n.id&&((u=r.current)==null||u.scrollIntoView({behavior:"smooth",block:"center"}),(h=r.current)==null||h.classList.add("ring","ring-teal-400"),setTimeout(()=>{var m;(m=r.current)==null||m.classList.remove("ring","ring-teal-400")},1500))},[l,n.id]),b.jsxs("div",{ref:r,className:"bg-white rounded-lg shadow p-6",children:[b.jsxs("div",{className:"flex justify-between items-start mb-4",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:n.title}),c&&c.status==="pending"&&b.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-yellow-100 text-yellow-800",children:"Pending"}),c&&c.status==="submitted"&&b.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-800",children:"Marked"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[n.status==="draft"&&b.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold bg-slate-200 text-slate-700",children:"Draft"}),n.status==="complete"&&b.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold bg-green-100 text-green-800",children:"Complete"}),b.jsx("button",{onClick:()=>i(n),className:"text-slate-400 hover:text-teal-600 transition-colors",title:"Edit SAO",children:b.jsx(g2,{size:18})}),b.jsx("button",{onClick:()=>e(n.id),className:"text-slate-400 hover:text-red-600 transition-colors",title:"Delete SAO",children:b.jsx(D0,{size:18})})]})]}),b.jsx("p",{className:"text-slate-600 whitespace-pre-wrap mb-4",children:n.content}),b.jsx("div",{className:"flex flex-wrap gap-2",children:n.skills.map(u=>b.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium bg-teal-100 text-teal-800",children:u.name},u.id))}),b.jsxs("div",{className:"mt-4 text-sm text-slate-500",children:["Created: ",new Date(n.created_at).toLocaleDateString()]})]})},GCe=()=>{const[n,e]=H.useState(!1),[i,r]=H.useState(),{saos:o,loading:l,error:c,loadUserSAOs:u,deleteSAO:h}=HS(),{tier:m,saoLimit:g,fetchSubscription:y}=$S(),[v]=sK(),_=v.get("saoId"),[A,S]=H.useState(0),[C,T]=H.useState(null),[N,j]=H.useState(!1),[O,F]=H.useState(null),[U,V]=H.useState(!1),[B]=H.useState(()=>or.createRef()),[K,oe]=H.useState(null),me=()=>window.gapi?Promise.resolve():new Promise(Y=>{const ne=document.createElement("script");ne.src="https://apis.google.com/js/api.js",ne.onload=Y,document.body.appendChild(ne)}),Q=async()=>{j(!1),await me(),alert("Google Drive picker scaffolded. Add credentials and logic when ready."),F("Imported content from Google Drive (simulated)."),V(!0)},ge=()=>window.OneDrive?Promise.resolve():new Promise(Y=>{const ne=document.createElement("script");ne.src="https://js.live.net/v7.2/OneDrive.js",ne.onload=Y,document.body.appendChild(ne)}),$=async()=>{j(!1),await ge(),alert("OneDrive picker scaffolded. Add credentials and logic when ready."),F("Imported content from OneDrive (simulated)."),V(!0)};H.useEffect(()=>{(async()=>{await y();const{data:{user:ne}}=await Re.auth.getUser();if(ne){const{data:ee}=await Re.from("subscriptions").select("sao_created_count").eq("user_id",ne.id).single();ee&&typeof ee.sao_created_count=="number"&&S(ee.sao_created_count)}})()},[n]),H.useEffect(()=>{u()},[u]),H.useEffect(()=>{if(_&&o.length>0){const Y=o.find(ne=>ne.id===_);Y&&(r(Y),e(!0))}},[_,o]),H.useEffect(()=>{(async()=>{const{data:{user:ne}}=await Re.auth.getUser();if(!ne)return;const{data:ee}=await Re.from("supervisor_profiles").select("id").eq("id",ne.id).single();T(ee?"supervisor":"eit")})()},[]);const De=async Y=>{window.confirm("Are you sure you want to delete this SAO?")&&await h(Y)},ie=Y=>{r(Y),e(!0)},ce=()=>{e(!1),r(void 0),u()},X=async Y=>{var Z;const ne=(Z=Y.target.files)==null?void 0:Z[0];if(!ne)return;let ee="",ue=!1;try{if(ne.type==="text/plain")ee=await ne.text();else if(ne.name.endsWith(".docx")){const xe=await ne.arrayBuffer();ee=(await nu.convertToHtml({arrayBuffer:xe})).value,ue=!0}else if(ne.type==="application/pdf"||ne.name.endsWith(".pdf")){fd.workerPort=new $Ce;const xe=await ne.arrayBuffer(),Ae=await pne({data:xe}).promise;let Oe="";for(let Pe=1;Pe<=Ae.numPages;Pe++){const Ve=await(await Ae.getPage(Pe)).getTextContent();Oe+=Ve.items.map(Le=>Le.str).join(" ")+`
`}ee=Oe,ud("PDF formatting is not preserved. Only plain text is extracted.",{icon:"⚠️"})}else ee="Unsupported file type."}catch(xe){ee="Failed to extract content: "+(xe instanceof Error?xe.message:String(xe))}oe(ee),e(!0),j(!1),B.current&&(B.current.value="")};return b.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[m==="free"&&b.jsx("div",{className:"p-4 mb-4 bg-yellow-50 border border-yellow-200 rounded-lg text-yellow-900 text-center font-semibold",children:A<g?`You have ${g-A} SAO${g-A===1?"":"s"} left on the Free plan.`:"You have reached your SAO limit for the Free plan. Upgrade to add more."}),b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Situation-Action-Outcome (SAO)"}),b.jsx("p",{className:"text-slate-500 mt-1",children:"Write and manage your SAO essays."})]}),b.jsxs("div",{className:"flex gap-2 items-center relative",children:[b.jsxs("button",{className:"btn flex items-center gap-2 bg-slate-100 hover:bg-slate-200 text-slate-700 border border-slate-200",onClick:()=>j(Y=>!Y),type:"button",children:[b.jsx(bZ,{size:18}),"Import / Upload"]}),N&&b.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-slate-200 rounded-lg shadow-lg z-10",children:[b.jsx("button",{className:"w-full text-left px-4 py-2 hover:bg-slate-100",onClick:()=>{var Y;j(!1),(Y=B.current)==null||Y.click()},children:"Upload from Device"}),b.jsx("button",{className:"w-full text-left px-4 py-2 hover:bg-slate-100",onClick:Q,children:"Import from Google Drive"}),b.jsx("button",{className:"w-full text-left px-4 py-2 hover:bg-slate-100",onClick:$,children:"Import from OneDrive"})]}),b.jsx("input",{type:"file",className:"hidden",ref:B,onChange:X,accept:".txt,.docx,.pdf"}),C==="eit"&&b.jsx("button",{className:`btn btn-primary ${l?"opacity-75 cursor-not-allowed":""}`,onClick:()=>u(!0),disabled:l,children:l?"Refreshing...":"Refresh"}),b.jsxs("button",{onClick:()=>{A<g&&e(!0)},className:`btn flex items-center gap-2 ${A>=g?"bg-gray-300 text-gray-500 border-gray-300 cursor-not-allowed":"btn-primary"}`,disabled:A>=g,"aria-disabled":A>=g,title:A>=g?"You have reached your SAO limit for the Free plan.":"Start a new SAO",children:[b.jsx(Kv,{size:18}),"Start New SAO"]})]})]}),c&&b.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:b.jsxs("div",{className:"flex items-start gap-2",children:[b.jsx("span",{className:"text-red-600",children:"Error:"}),b.jsx("p",{className:"text-sm text-red-800",children:c})]})}),l?b.jsx("div",{className:"flex items-center justify-center py-12",children:b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-teal-600"})}):o.length>0?b.jsx("div",{className:"space-y-4",children:o.map(Y=>b.jsx(HCe,{sao:Y,onDelete:De,onEdit:ie},Y.id))}):b.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:b.jsxs("div",{className:"text-center py-12",children:[b.jsx(V8,{className:"mx-auto h-12 w-12 text-slate-400"}),b.jsx("h3",{className:"mt-4 text-lg font-medium text-slate-900",children:"No SAOs yet"}),b.jsx("p",{className:"mt-2 text-slate-500",children:"Get started by writing your first SAO essay."}),b.jsx("button",{onClick:()=>e(!0),className:"mt-4 btn btn-primary",children:"Start Writing"})]})}),b.jsx(qCe,{isOpen:n,onClose:ce,editSAO:i,onCreated:()=>{u(),e(!1)},initialContent:K,onInitialContentUsed:()=>oe(null)}),b.jsx(lw,{isOpen:U,onClose:()=>V(!1),children:b.jsxs("div",{className:"p-6",children:[b.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Imported Content Preview"}),b.jsx("div",{className:"bg-slate-50 p-4 rounded mb-4 whitespace-pre-wrap text-slate-800 min-h-[120px]",children:O}),b.jsx("button",{className:"btn btn-primary",onClick:()=>V(!1),children:"Close"})]})})]})},XCe=()=>{const[n,e]=H.useState(""),[i,r]=H.useState(""),[o,l]=H.useState(""),[c,u]=H.useState(!1),[h,m]=H.useState(null),[g,y]=H.useState(!1),[v,_]=H.useState(null),[A,S]=H.useState("general"),[C,T]=H.useState("help"),N=async F=>{F.preventDefault(),u(!0),m(null),y(!1);try{const U=await fetch("https://bbixvnkqroskholbxkgj.supabase.co/functions/v1/send-support-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU"},body:JSON.stringify({email:n,subject:i,message:o,issueType:A,mode:C})}),V=await U.json();if(!U.ok)throw new Error(V.error||"Failed to send message");y(!0),e(""),r(""),l(""),S("general")}catch(U){m(U instanceof Error?U.message:"Failed to send message. Please try again later."),console.error("Error sending support message:",U)}finally{u(!1)}},j=[{id:"sao",question:"What is an SAO?",answer:"A Situation-Action-Outcome (SAO) is a structured way to document your experiences and demonstrate your competencies. It helps you reflect on specific situations, the actions you took, and the outcomes achieved. This format is crucial for showcasing your professional growth and meeting EIT program requirements."},{id:"progress",question:"How do I track my progress?",answer:"Your progress is automatically tracked as you complete skills and document experiences. Visit the Dashboard to see your overall progress and skill-specific achievements. The progress bar shows your completion rate for skills, documented experiences, and supervisor approvals."},{id:"supervisor",question:"How do I connect with my supervisor?",answer:`You can connect with your supervisor through the "My Supervisor" section on your dashboard. If you haven't connected yet, you'll see an option to send a connection request. Once connected, your supervisor can review and validate your skills and experiences.`},{id:"skills",question:"How do I mark skills as complete?",answer:"To mark a skill as complete, navigate to the Skills section, select the skill you want to mark, and provide your self-assessment score. You'll need to document relevant experiences (SAOs) that demonstrate your competency in that skill. Your supervisor will then review and validate your assessment."},{id:"experiences",question:"How many experiences do I need to document?",answer:"You need to document at least 24 experiences (SAOs) across different skills. Each experience should demonstrate your competency in specific skills. Make sure to provide detailed descriptions of situations, your actions, and the outcomes achieved."}],O=[{title:"EIT Program Guide",description:"Comprehensive guide to the EIT program requirements and process",icon:b.jsx(Z1,{size:20}),link:"/resources/eit-guide"},{title:"SAO Writing Tips",description:"Best practices for writing effective Situation-Action-Outcome statements",icon:b.jsx(Sd,{size:20}),link:"/resources/sao-tips"},{title:"Skills Framework",description:"Detailed breakdown of all required skills and competencies",icon:b.jsx(j1,{size:20}),link:"/resources/skills-framework"}];return b.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-8",children:[b.jsxs("div",{className:"text-center mb-8",children:[b.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Help & Support"}),b.jsx("p",{className:"text-slate-500 mt-2 text-lg",children:"Get help with your EIT program journey"}),b.jsx("div",{className:"mt-6 flex justify-center",children:b.jsxs("div",{className:"inline-flex rounded-lg border border-slate-200 p-1 bg-white",children:[b.jsxs("button",{onClick:()=>T("help"),className:`px-4 py-2 rounded-md text-sm font-medium flex items-center gap-2 ${C==="help"?"bg-teal-50 text-teal-700":"text-slate-600 hover:text-slate-900"}`,children:[b.jsx(j1,{size:16}),"Help"]}),b.jsxs("button",{onClick:()=>T("feedback"),className:`px-4 py-2 rounded-md text-sm font-medium flex items-center gap-2 ${C==="feedback"?"bg-teal-50 text-teal-700":"text-slate-600 hover:text-slate-900"}`,children:[b.jsx(T0,{size:16}),"Feedback"]})]})})]}),C==="help"?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"bg-teal-50 rounded-lg p-6 mb-8",children:[b.jsx("h2",{className:"text-xl font-semibold text-teal-800 mb-4",children:"Quick Help"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[b.jsxs("a",{href:"/dashboard",className:"bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[b.jsx("h3",{className:"font-medium text-teal-700",children:"View Progress"}),b.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Check your current progress and achievements"})]}),b.jsxs("a",{href:"/skills",className:"bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[b.jsx("h3",{className:"font-medium text-teal-700",children:"Manage Skills"}),b.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Update and track your skill assessments"})]}),b.jsxs("a",{href:"/experiences",className:"bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[b.jsx("h3",{className:"font-medium text-teal-700",children:"Document Experiences"}),b.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Add new experiences and SAOs"})]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[b.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Contact Support"}),b.jsxs("form",{onSubmit:N,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-1",children:"Your Email"}),b.jsx("input",{type:"email",id:"email",value:n,onChange:F=>e(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter your email",required:!0,disabled:c})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"issueType",className:"block text-sm font-medium text-slate-700 mb-1",children:"Issue Type"}),b.jsxs("select",{id:"issueType",value:A,onChange:F=>S(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",required:!0,disabled:c,children:[b.jsx("option",{value:"general",children:"General Inquiry"}),b.jsx("option",{value:"technical",children:"Technical Issue"}),b.jsx("option",{value:"skills",children:"Skills & Assessment"}),b.jsx("option",{value:"supervisor",children:"Supervisor Related"}),b.jsx("option",{value:"other",children:"Other"})]})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-slate-700 mb-1",children:"Subject"}),b.jsx("input",{type:"text",id:"subject",value:i,onChange:F=>r(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"What's your question about?",required:!0,disabled:c})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-slate-700 mb-1",children:"Message"}),b.jsx("textarea",{id:"message",value:o,onChange:F=>l(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 min-h-[150px]",placeholder:"Describe your issue or question...",required:!0,disabled:c})]}),h&&b.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-md text-sm flex items-center gap-2",children:[b.jsx(C0,{size:16}),h]}),g&&b.jsx("div",{className:"p-3 bg-green-50 text-green-700 rounded-md text-sm",children:"Your message has been sent successfully. We'll get back to you soon!"}),b.jsx("button",{type:"submit",className:"btn btn-primary w-full flex items-center justify-center gap-2",disabled:c,children:c?b.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):b.jsxs(b.Fragment,{children:[b.jsx(q5,{size:18}),"Send Message"]})})]})]}),b.jsxs("div",{className:"space-y-8",children:[b.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Frequently Asked Questions"}),b.jsx("div",{className:"space-y-4",children:j.map(F=>b.jsxs("div",{className:"border-b border-slate-200 last:border-0 pb-4 last:pb-0",children:[b.jsxs("button",{className:"w-full flex items-center justify-between text-left",onClick:()=>_(v===F.id?null:F.id),children:[b.jsx("h3",{className:"font-medium text-slate-900",children:F.question}),v===F.id?b.jsx(L8,{size:20}):b.jsx(VS,{size:20})]}),v===F.id&&b.jsx("p",{className:"text-sm text-slate-600 mt-2",children:F.answer})]},F.id))})]}),b.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Helpful Resources"}),b.jsx("div",{className:"space-y-4",children:O.map((F,U)=>b.jsxs("a",{href:F.link,className:"flex items-start gap-3 p-3 rounded-lg hover:bg-slate-50 transition-colors",children:[b.jsx("div",{className:"text-teal-600 mt-1",children:F.icon}),b.jsxs("div",{children:[b.jsx("h3",{className:"font-medium text-slate-900",children:F.title}),b.jsx("p",{className:"text-sm text-slate-600 mt-1",children:F.description})]}),b.jsx(B8,{size:16,className:"text-slate-400 ml-auto mt-1"})]},U))})]})]})]})]}):b.jsx("div",{className:"max-w-2xl mx-auto",children:b.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Share Your Feedback"}),b.jsx("p",{className:"text-slate-600 mb-6",children:"We value your feedback! Let us know what you think about the EIT program platform, what's working well, and what we can improve."}),b.jsxs("form",{onSubmit:N,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-1",children:"Your Email"}),b.jsx("input",{type:"email",id:"email",value:n,onChange:F=>e(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter your email",required:!0,disabled:c})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-slate-700 mb-1",children:"Subject"}),b.jsx("input",{type:"text",id:"subject",value:i,onChange:F=>r(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Brief summary of your feedback",required:!0,disabled:c})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-slate-700 mb-1",children:"Your Feedback"}),b.jsx("textarea",{id:"message",value:o,onChange:F=>l(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 min-h-[200px]",placeholder:"Share your thoughts, suggestions, or concerns...",required:!0,disabled:c})]}),h&&b.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-md text-sm flex items-center gap-2",children:[b.jsx(C0,{size:16}),h]}),g&&b.jsx("div",{className:"p-3 bg-green-50 text-green-700 rounded-md text-sm",children:"Thank you for your feedback! We appreciate your input."}),b.jsx("button",{type:"submit",className:"btn btn-primary w-full flex items-center justify-center gap-2",disabled:c,children:c?b.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):b.jsxs(b.Fragment,{children:[b.jsx(q5,{size:18}),"Submit Feedback"]})})]})]})})]})},KCe=()=>b.jsxs("div",{className:"min-h-screen bg-white",children:[b.jsx("div",{className:"relative bg-gradient-to-b from-teal-50 to-white",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-16 text-center",children:[b.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-slate-900 mb-6",children:"Streamline Your EIT Journey"}),b.jsx("p",{className:"text-xl text-slate-600 mb-8 max-w-3xl mx-auto",children:"Accreda helps engineers track, document, and manage their professional development journey towards becoming an Engineer in Training (EIT)."}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[b.jsx(Zl,{to:"/signup",className:"btn btn-primary text-lg px-8 py-3",children:"Get Started"}),b.jsx(Zl,{to:"/login",className:"btn btn-secondary text-lg px-8 py-3",children:"Sign In"})]})]})}),b.jsx("div",{className:"py-20 bg-white",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[b.jsx("h2",{className:"text-3xl font-bold text-center text-slate-900 mb-12",children:"Everything You Need to Succeed"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[b.jsx("div",{className:"card hover:scale-105 transition-transform",children:b.jsxs("div",{className:"p-6",children:[b.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center mb-4",children:b.jsx(d3,{className:"w-6 h-6 text-teal-600"})}),b.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Skill Tracking"}),b.jsx("p",{className:"text-slate-600",children:"Track your progress across all required engineering competencies with our intuitive skill assessment system."})]})}),b.jsx("div",{className:"card hover:scale-105 transition-transform",children:b.jsxs("div",{className:"p-6",children:[b.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center mb-4",children:b.jsx(Sd,{className:"w-6 h-6 text-teal-600"})}),b.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Experience Documentation"}),b.jsx("p",{className:"text-slate-600",children:"Document your engineering experiences with our structured templates and guidance."})]})}),b.jsx("div",{className:"card hover:scale-105 transition-transform",children:b.jsxs("div",{className:"p-6",children:[b.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center mb-4",children:b.jsx(Z1,{className:"w-6 h-6 text-teal-600"})}),b.jsx("h3",{className:"text-xl font-semibold mb-2",children:"SAO Management"}),b.jsx("p",{className:"text-slate-600",children:"Create and manage your Self-Assessment Outcomes with our AI-powered writing assistant."})]})})]})]})}),b.jsx("div",{className:"py-20 bg-slate-50",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[b.jsx("h2",{className:"text-3xl font-bold text-center text-slate-900 mb-12",children:"Why Choose Accreda?"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[b.jsxs("div",{className:"flex items-start space-x-4",children:[b.jsx("div",{className:"flex-shrink-0",children:b.jsx(jm,{className:"w-6 h-6 text-teal-600"})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Structured Progress Tracking"}),b.jsx("p",{className:"text-slate-600",children:"Stay organized with our comprehensive tracking system for skills, experiences, and documentation."})]})]}),b.jsxs("div",{className:"flex items-start space-x-4",children:[b.jsx("div",{className:"flex-shrink-0",children:b.jsx(WS,{className:"w-6 h-6 text-teal-600"})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Supervisor Collaboration"}),b.jsx("p",{className:"text-slate-600",children:"Streamline the approval process with our integrated supervisor review system."})]})]}),b.jsxs("div",{className:"flex items-start space-x-4",children:[b.jsx("div",{className:"flex-shrink-0",children:b.jsx(V0,{className:"w-6 h-6 text-teal-600"})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Time-Saving Tools"}),b.jsx("p",{className:"text-slate-600",children:"Our AI-powered writing assistant helps you draft professional documentation quickly."})]})]}),b.jsxs("div",{className:"flex items-start space-x-4",children:[b.jsx("div",{className:"flex-shrink-0",children:b.jsx(hye,{className:"w-6 h-6 text-teal-600"})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Progress Analytics"}),b.jsx("p",{className:"text-slate-600",children:"Get clear insights into your progress with detailed analytics and visualizations."})]})]})]})]})}),b.jsx("div",{className:"py-20 bg-white",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[b.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-6",children:"Ready to Start Your EIT Journey?"}),b.jsx("p",{className:"text-xl text-slate-600 mb-8 max-w-2xl mx-auto",children:"Join thousands of engineers who are using Accreda to streamline their path to becoming an Engineer in Training."}),b.jsxs(Zl,{to:"/signup",className:"btn btn-primary text-lg px-8 py-3 inline-flex items-center",children:["Get Started Now",b.jsx(uye,{className:"ml-2 w-5 h-5"})]})]})}),b.jsx("footer",{className:"bg-slate-900 text-white py-12",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Accreda"}),b.jsx("p",{className:"text-slate-400",children:"Helping engineers achieve their professional goals through structured development and documentation."})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),b.jsxs("ul",{className:"space-y-2",children:[b.jsx("li",{children:b.jsx(Zl,{to:"/login",className:"text-slate-400 hover:text-white",children:"Sign In"})}),b.jsx("li",{children:b.jsx(Zl,{to:"/signup",className:"text-slate-400 hover:text-white",children:"Sign Up"})}),b.jsx("li",{children:b.jsx(Zl,{to:"/help",className:"text-slate-400 hover:text-white",children:"Help & Support"})})]})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contact"}),b.jsxs("ul",{className:"space-y-2 text-slate-400",children:[b.jsx("li",{children:"Email: support@accreda.com"}),b.jsx("li",{children:"Phone: (555) 123-4567"})]})]})]}),b.jsx("div",{className:"border-t border-slate-800 mt-8 pt-8 text-center text-slate-400",children:b.jsxs("p",{children:["© ",new Date().getFullYear()," Accreda. All rights reserved."]})})]})})]}),YCe=({value:n,onChange:e,disabled:i=!1})=>{const[r,o]=H.useState([]),[l,c]=H.useState(!1),[u,h]=H.useState(!1),[m,g]=H.useState([]),y=H.useRef(null);H.useEffect(()=>{(async()=>{try{const{data:{user:S}}=await Re.auth.getUser();if(!S)return;const{data:C,error:T}=await Re.from("supervisor_eit_relationships").select("supervisor_id").eq("eit_id",S.id).eq("status","active");if(T)throw T;const N=Array.from(new Set((C||[]).map(j=>j.supervisor_id)));console.log("Supervisor connections:",N),g(N)}catch(S){console.error("Error loading supervisor connections:",S)}})()},[]),H.useEffect(()=>{const A=S=>{y.current&&!y.current.contains(S.target)&&c(!1)};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]);const v=async A=>{const S=A.target.value;if(e(S,""),!S.trim()){o([]),c(!1);return}h(!0);try{const{data:{user:C}}=await Re.auth.getUser();if(!C)return;if(m===void 0){o([]),c(!0),h(!1);return}if(!m.length){o([]),c(!0),h(!1);return}const{data:T,error:N}=await Re.from("supervisor_profiles").select("id, full_name, email").or(`full_name.ilike.%${S}%,email.ilike.%${S}%`).in("id",m).limit(5);if(N)throw N;o(T||[]),c(!0)}catch(C){console.error("Error fetching supervisors:",C),o([])}finally{h(!1)}},_=A=>{e(A.full_name,A.email),c(!1)};return b.jsxs("div",{className:"relative",ref:y,children:[b.jsx("input",{type:"text",value:n,onChange:v,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter validator's full name",required:!0,disabled:i}),l&&(n.trim()||u)&&b.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white rounded-lg shadow-lg border border-slate-200 max-h-60 overflow-y-auto",children:u?b.jsx("div",{className:"p-2 text-sm text-slate-500",children:"Searching..."}):r.length>0?r.map(A=>b.jsxs("button",{className:"w-full px-4 py-2 text-left hover:bg-slate-50 focus:outline-none focus:bg-slate-50",onClick:()=>_(A),children:[b.jsx("div",{className:"font-medium text-slate-900",children:A.full_name}),b.jsx("div",{className:"text-sm text-slate-500",children:A.email})]},A.id)):b.jsx("div",{className:"p-2 text-sm text-slate-500",children:"No matching connected supervisors found"})})]})},ZCe=({value:n,onChange:e,disabled:i=!1})=>{const[r,o]=H.useState([]),[l,c]=H.useState(!1),[u,h]=H.useState(!1),m=H.useRef(null);H.useEffect(()=>{const v=_=>{m.current&&!m.current.contains(_.target)&&c(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const g=async v=>{const _=v.target.value;if(e(_,""),!_.trim()){o([]),c(!1);return}h(!0);try{const{data:{user:A}}=await Re.auth.getUser();if(!A)return;const{data:S,error:C}=await Re.from("job_references").select("id, full_name, email").or(`full_name.ilike.%${_}%,email.ilike.%${_}%`).eq("eit_id",A.id).limit(5);if(C)throw C;const T=Array.from(new Map((S||[]).map(N=>[N.email,N])).values());o(T),c(!0)}catch(A){console.error("Error fetching references:",A),o([])}finally{h(!1)}},y=v=>{e(v.full_name,v.email),c(!1)};return b.jsxs("div",{className:"relative",ref:m,children:[b.jsx("input",{type:"text",value:n,onChange:g,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter reference's full name",required:!0,disabled:i}),l&&(n.trim()||u)&&b.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white rounded-lg shadow-lg border border-slate-200 max-h-60 overflow-y-auto",children:u?b.jsx("div",{className:"p-2 text-sm text-slate-500",children:"Searching..."}):r.length>0?r.map(v=>b.jsxs("button",{className:"w-full px-4 py-2 text-left hover:bg-slate-50 focus:outline-none focus:bg-slate-50",onClick:()=>y(v),children:[b.jsx("div",{className:"font-medium text-slate-900",children:v.full_name}),b.jsx("div",{className:"text-sm text-slate-500",children:v.email})]},v.id)):b.jsx("div",{className:"p-2 text-sm text-slate-500",children:"No matching references found"})})]})},JCe=({isOpen:n,onClose:e,skillName:i,skillId:r,existingValidator:o,onSave:l,status:c,loadValidators:u})=>{const[h,m]=H.useState({fullName:(o==null?void 0:o.full_name)||"",email:(o==null?void 0:o.email)||"",description:(o==null?void 0:o.description)||""}),[g,y]=H.useState(!1),[v,_]=H.useState(null);H.useEffect(()=>{n&&m(o?{fullName:o.full_name,email:o.email,description:o.description}:{fullName:"",email:"",description:""})},[n,o,r]);const A=async S=>{S.preventDefault(),y(!0),_(null);try{const{data:{user:C}}=await Re.auth.getUser();if(!C)throw new Error("No authenticated user");const{data:T,error:N}=await Re.from("eit_profiles").select("full_name").eq("id",C.id).single();if(N)throw N;const{data:j,error:O}=await Re.from("supervisor_profiles").select("id").eq("email",h.email).single();if(O)throw O;if(o){const{error:F}=await Re.from("validators").update({full_name:h.fullName,email:h.email,description:h.description}).eq("id",o.id);if(F)throw F}else{const{error:F}=await Re.from("validators").insert([{eit_id:C.id,skill_id:r,full_name:h.fullName,email:h.email,description:h.description,status:"pending"}]);if(F)throw F;await D6(j.id,T.full_name,i)}l(),e(),setTimeout(()=>u(),300)}catch(C){console.error("Validator insert error:",C),_(C instanceof Error?C.message:JSON.stringify(C)),ni.error(C instanceof Error?C.message:"Error submitting validator")}finally{y(!1)}};return n?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:b.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsxs("h3",{className:"text-lg font-semibold",children:[o?"Edit":"Add"," Validator for ",i]}),b.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600",children:b.jsx(As,{size:24})})]}),v&&b.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:b.jsx("p",{className:"text-sm text-red-600",children:v})}),b.jsxs("form",{onSubmit:A,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),b.jsx(YCe,{value:h.fullName,onChange:(S,C)=>m(T=>({...T,fullName:S,email:C})),disabled:c!=="draft"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),b.jsx("input",{type:"email",value:h.email,onChange:S=>m(C=>({...C,email:S.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter validator's email",required:!0,disabled:c!=="draft"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),b.jsx("textarea",{value:h.description,onChange:S=>m(C=>({...C,description:S.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter description of validation",rows:4,required:!0,disabled:c!=="draft"})]}),b.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[b.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 rounded-lg",disabled:g,children:"Cancel"}),b.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 hover:bg-teal-700 rounded-lg disabled:opacity-50",disabled:g,children:g?"Saving...":o?"Update Validator":"Add Validator"})]})]})]})}):null},QCe=({isOpen:n,onClose:e,job:i,referenceNumber:r,existingReference:o,onSave:l})=>{const[c,u]=H.useState({fullName:"",email:"",referenceText:""}),[h,m]=H.useState(!1),[g,y]=H.useState(null),[v,_]=H.useState(!1);H.useEffect(()=>{n&&u(o?{fullName:o.full_name,email:o.email,referenceText:o.description}:{fullName:"",email:"",referenceText:""})},[n,o]);const A=async T=>{T.preventDefault(),m(!0),y(null);try{const{data:{user:N}}=await Re.auth.getUser();if(!N)throw new Error("No authenticated user");const j={job_id:i.id,full_name:c.fullName,email:c.email,description:c.referenceText,reference_number:r,eit_id:N.id,validation_status:(o==null?void 0:o.validation_status)||"unsent"};if(o){const{error:O}=await Re.from("job_references").update(j).eq("id",o.id);if(O)throw O}else{const{error:O}=await Re.from("job_references").insert([j]);if(O)throw O}l(),e()}catch(N){console.error("ReferencePopup error:",N),y(N instanceof Error?N.message:"An error occurred"),ni.error(N instanceof Error?N.message:"Error submitting reference")}finally{m(!1)}},S=async()=>{if(o){_(!0),y(null);try{const T=await fetch("https://bbixvnkqroskholbxkgj.supabase.co/functions/v1/send-reference",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU"},body:JSON.stringify({reference_id:o.id,email:o.email})});if(!T.ok){const N=await T.json();throw new Error(N.error||"Failed to send reference")}l(),e(),ni.success("Reference request sent successfully")}catch(T){console.error("Error sending reference:",T),y(T instanceof Error?T.message:"An error occurred while sending the reference"),ni.error(T instanceof Error?T.message:"Error sending reference")}finally{_(!1)}}},C=async()=>{if(o){m(!0),y(null);try{const{error:T}=await Re.from("job_references").update({validation_status:"unsent"}).eq("id",o.id);if(T)throw T;l(),e()}catch(T){console.error("Error canceling reference:",T),y(T instanceof Error?T.message:"An error occurred while canceling the reference"),ni.error(T instanceof Error?T.message:"Error canceling reference")}finally{m(!1)}}};return n?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:b.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsxs("h3",{className:"text-lg font-semibold",children:[o?"Edit":"Add"," Reference ",r," for ",i.title," at ",i.company]}),b.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600",children:b.jsx(As,{size:24})})]}),g&&b.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:b.jsx("p",{className:"text-sm text-red-600",children:g})}),b.jsxs("form",{onSubmit:A,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),b.jsx(ZCe,{value:c.fullName,onChange:(T,N)=>u(j=>({...j,fullName:T,email:N})),disabled:(o==null?void 0:o.validation_status)==="validated"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),b.jsx("input",{type:"email",value:c.email,onChange:T=>u(N=>({...N,email:T.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter reference's email",required:!0,disabled:(o==null?void 0:o.validation_status)==="validated"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Reference Text"}),b.jsx("textarea",{value:c.referenceText,onChange:T=>u(N=>({...N,referenceText:T.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter reference text",rows:4,required:!0,disabled:(o==null?void 0:o.validation_status)==="validated"})]}),b.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[o&&o.validation_status==="pending"&&b.jsx("button",{type:"button",onClick:C,className:"px-4 py-2 text-sm font-medium text-red-600 hover:bg-red-50 rounded-lg",disabled:h||v,children:"Cancel Reference"}),o&&o.validation_status==="unsent"&&b.jsx("button",{type:"button",onClick:S,className:"px-4 py-2 text-sm font-medium text-teal-600 hover:bg-teal-50 rounded-lg",disabled:h||v,children:v?"Sending...":"Send Reference"}),b.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 rounded-lg",disabled:h||v,children:"Close"}),(o==null?void 0:o.validation_status)!=="validated"&&b.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 hover:bg-teal-700 rounded-lg disabled:opacity-50",disabled:h||v,children:h?"Saving...":o?"Update Reference":"Add Reference"})]})]})]})}):null},eTe=()=>{var Ee;const[n,e]=H.useState("references"),[i,r]=H.useState(null),[o,l]=H.useState(null),[c,u]=H.useState(null),[h,m]=H.useState(null),[g,y]=H.useState(null),[v,_]=H.useState({}),[A,S]=H.useState({}),[C,T]=H.useState([]),{skillCategories:N}=uf(),j=H.useRef(null),O=H.useRef(null),F=H.useRef(null),[U,V]=H.useState({}),[B,K]=H.useState(null),[oe,me]=H.useState(""),[Q,ge]=H.useState([]),[$,De]=H.useState(null),[ie,ce]=H.useState(""),X=N.map(we=>({...we,skills:we.skills.filter(ze=>ze.status==="completed"||ze.rank!==void 0)})).filter(we=>we.skills.length>0),Y=async()=>{try{const{data:{user:we}}=await Re.auth.getUser();if(!we)return;const{data:ze,error:G}=await Re.from("validators").select("*").eq("eit_id",we.id);if(G)throw G;const Ce=ze.reduce((Ie,be)=>(Ie[be.skill_id]||(Ie[be.skill_id]=[]),Ie[be.skill_id].push(be),Ie),{});_(Ce)}catch(we){console.error("Error loading validators:",we)}},ne=async()=>{try{const{data:{user:we}}=await Re.auth.getUser();if(!we)return;const{data:ze,error:G}=await Re.from("jobs").select("*").eq("eit_id",we.id).order("start_date",{ascending:!1});if(G)throw G;T(ze||[])}catch(we){console.error("Error loading jobs:",we)}},ee=async()=>{try{const{data:{user:we}}=await Re.auth.getUser();if(!we)return;const{data:ze,error:G}=await Re.from("job_references").select("*").eq("eit_id",we.id);if(G)throw G;const Ce=ze.reduce((Ie,be)=>(Ie[be.job_id]||(Ie[be.job_id]=[]),Ie[be.job_id].push(be),Ie),{});S(Ce)}catch(we){console.error("Error loading references:",we)}},ue=async()=>{try{const{data:{user:we}}=await Re.auth.getUser();if(!we)return;const{data:ze,error:G}=await Re.from("eit_connections").select("*").or(`eit_id.eq.${we.id},connected_eit_id.eq.${we.id}`).eq("status","accepted");if(G)throw G;ge(ze||[])}catch(we){console.error("Error loading connections:",we)}};H.useEffect(()=>{Y(),ne(),ee(),ue()},[]),H.useEffect(()=>{let we,ze=!0;return(async()=>{const{data:{user:G}}=await Re.auth.getUser();G&&(we=Re.channel("validators-realtime").on("postgres_changes",{event:"*",schema:"public",table:"validators",filter:`eit_id=eq.${G.id}`},Ce=>{ze&&Y()}).subscribe())})(),()=>{ze=!1,we&&we.unsubscribe()}},[]),H.useEffect(()=>{const we=ze=>{const{itemId:G,itemType:Ce}=ze.detail||{},Ie=()=>{var Se,He;const be=Ce==="reference"?`[data-reference-id="${G}"]`:Ce==="validator"?`[data-validator-id="${G}"]`:Ce==="job"?`[data-job-id="${G}"]`:"";if(!be)return;const _e=document.querySelector(be);_e&&(Ce==="reference"?(e("references"),(Se=O.current)==null||Se.scrollIntoView({behavior:"smooth",block:"start"})):Ce==="validator"&&(e("validators"),(He=F.current)==null||He.scrollIntoView({behavior:"smooth",block:"start"})),setTimeout(()=>{_e.scrollIntoView({behavior:"smooth",block:"center"}),_e.classList.add("highlight-item"),_e.classList.add("animate-bounce-subtle"),setTimeout(()=>{_e.classList.remove("highlight-item","animate-bounce-subtle")},2e3)},300))};requestAnimationFrame(()=>{Ce==="reference"&&n!=="references"||Ce==="validator"&&n!=="validators"?setTimeout(Ie,100):Ie()})};return window.addEventListener("scroll-to-item",we),()=>window.removeEventListener("scroll-to-item",we)},[n]),H.useEffect(()=>{const we=()=>{ne(),ee()};return window.addEventListener("jobs-updated",we),()=>window.removeEventListener("jobs-updated",we)},[]);const Z=()=>{Y()},xe=()=>{ee()},Ae=async(we,ze)=>{try{const{data:{user:G}}=await Re.auth.getUser();if(!G)throw new Error("No authenticated user");const{error:Ce}=await Re.from("job_references").update({validation_status:ze,validator_id:G.id,validated_at:new Date().toISOString(),validation_notes:ie}).eq("id",we.id);if(Ce)throw Ce;De(null),ce(""),ee(),ni.success(`Reference ${ze==="validated"?"validated":"rejected"} successfully`)}catch(G){console.error("Error validating reference:",G),ni.error("Failed to validate reference")}},Oe=async we=>{try{const{error:ze}=await Re.from("job_references").delete().eq("id",we.id);if(ze)throw ze;ee(),ni.success("Reference unsent successfully")}catch(ze){console.error("Error unsending reference:",ze),ni.error("Failed to unsend reference")}},Me=[...C].sort((we,ze)=>new Date(ze.start_date).getTime()-new Date(we.start_date).getTime()).filter(we=>we.title.toLowerCase().includes(oe.toLowerCase())||we.company.toLowerCase().includes(oe.toLowerCase())||we.skills&&we.skills.some(ze=>{const G=N.flatMap(Ce=>Ce.skills).find(Ce=>Ce.id===ze);return G&&G.name.toLowerCase().includes(oe.toLowerCase())})),Ve=we=>{switch(we){case"validated":return"bg-green-100 text-green-700";case"rejected":return"bg-red-100 text-red-700";default:return"bg-yellow-100 text-yellow-700"}},Le=we=>{switch(we){case"validated":return b.jsx(k6,{size:16,className:"text-green-600"});case"rejected":return b.jsx(vZ,{size:16,className:"text-red-600"});default:return b.jsx(C0,{size:16,className:"text-yellow-600"})}};return b.jsxs("div",{className:"space-y-6",children:[b.jsx("div",{className:"flex items-center justify-between",ref:j,children:b.jsxs("h1",{className:"text-2xl font-semibold text-slate-900 flex items-center",children:[b.jsx(cZ,{size:24,className:"mr-2 text-teal-600"}),"Jobs"]})}),b.jsxs("div",{className:"mb-8",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[b.jsx(m2,{size:24,className:"text-teal-600"}),"Work Experience"]}),b.jsxs("button",{className:"btn btn-primary flex items-center gap-2 shadow-lg fixed bottom-8 right-8 z-40",onClick:()=>{},title:"Add Job",children:[b.jsx(Kv,{size:18})," Add Job"]})]}),b.jsx("div",{className:"mb-6",children:b.jsxs("div",{className:"relative max-w-md",children:[b.jsx(q8,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),b.jsx("input",{type:"text",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Search jobs by title, company, or skill...",value:oe,onChange:we=>me(we.target.value)})]})}),b.jsx("div",{className:"relative border-l-2 border-slate-200 pl-6",children:Me.length>0?Me.map((we,ze)=>{const G=!we.end_date,Ce=G?"bg-green-100 text-green-700":"bg-slate-100 text-slate-600",Ie=we.company.split(" ").map(be=>be[0]).join("").toUpperCase();return b.jsxs("div",{className:"mb-10 relative",children:[b.jsx("span",{className:"absolute -left-7 top-4 w-5 h-5 rounded-full bg-white border-2 border-teal-500 flex items-center justify-center text-teal-600 font-bold text-sm shadow",children:Ie}),b.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-slate-100 p-6 flex flex-col gap-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsxs("h3",{className:"text-xl font-semibold text-slate-900 flex items-center gap-2",children:[we.title,b.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs font-semibold ${Ce}`,children:G?"Current":"Past"})]}),b.jsx("p",{className:"text-slate-600 font-medium",children:we.company}),b.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500 mt-1",children:[b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx(q2,{size:14}),new Date(we.start_date).toLocaleDateString()," - ",we.end_date?new Date(we.end_date).toLocaleDateString():"Present"]}),b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx(qW,{size:14}),we.location]})]})]}),b.jsx("button",{className:"ml-4 p-2 rounded-full hover:bg-slate-100 text-slate-500",onClick:()=>K(B===we.id?null:we.id),title:B===we.id?"Collapse":"Expand",children:B===we.id?b.jsx(L8,{size:20}):b.jsx(VS,{size:20})})]}),B===we.id&&b.jsxs("div",{className:"mt-4 space-y-3",children:[we.description&&b.jsx("p",{className:"text-slate-700 text-sm mb-2",children:we.description}),we.skills&&we.skills.length>0&&b.jsxs("div",{children:[b.jsx("h4",{className:"text-sm font-medium text-slate-700 mb-1",children:"Skills:"}),b.jsx("div",{className:"flex flex-wrap gap-2",children:we.skills.map(be=>{const _e=N.flatMap(Se=>Se.skills).find(Se=>Se.id===be);return _e?b.jsx("span",{className:"px-2 py-1 bg-slate-100 text-slate-700 rounded-full text-xs",children:_e.name},be):null})})]}),b.jsxs("div",{className:"mt-2",children:[b.jsx("h4",{className:"text-sm font-medium text-slate-700 mb-1",children:"References:"}),b.jsx("div",{className:"flex gap-2",children:[1,2].map(be=>{var Se;const _e=(Se=A[we.id])==null?void 0:Se.find(He=>He.reference_number===be);return _e?b.jsxs("button",{onClick:()=>{u(we),m(_e),y(be),window.dispatchEvent(new CustomEvent("scroll-to-item",{detail:{itemId:_e.id,itemType:"reference"}}))},className:"px-3 py-1.5 text-sm font-medium text-slate-600 hover:text-slate-700 hover:bg-slate-50 rounded-lg transition-colors flex items-center gap-2 border border-slate-200","data-reference-id":_e.id,children:[b.jsx(g2,{size:14}),"Reference ",be,": ",_e.full_name]},_e.id):b.jsxs("button",{onClick:()=>{u(we),m(null),y(be)},className:"px-3 py-1.5 text-sm font-medium text-teal-600 hover:text-teal-700 hover:bg-teal-50 rounded-lg transition-colors flex items-center gap-2 border border-teal-200",children:[b.jsx(Kv,{size:14}),"Add Reference ",be]},be)})})]})]})]})]},we.id)}):b.jsxs("div",{className:"text-center py-8 text-slate-500",children:[b.jsx(m2,{size:24,className:"mx-auto mb-2 text-slate-400"}),b.jsx("p",{children:"No work experience added yet"}),b.jsx("p",{className:"text-sm mt-1",children:"Add jobs using the button above"})]})})]}),b.jsxs("div",{className:"card",ref:O,children:[b.jsxs("div",{className:"flex border-b border-slate-200",children:[b.jsx("button",{onClick:()=>e("references"),className:`flex-1 py-3 px-4 text-sm font-medium ${n==="references"?"text-teal-600 border-b-2 border-teal-600":"text-slate-500 hover:text-slate-700"}`,children:b.jsxs("div",{className:"flex items-center justify-center gap-2",children:[b.jsx(WS,{size:18}),"References"]})}),b.jsx("button",{onClick:async()=>{await Y(),e("validators")},className:`flex-1 py-3 px-4 text-sm font-medium ${n==="validators"?"text-teal-600 border-b-2 border-teal-600":"text-slate-500 hover:text-slate-700"}`,children:b.jsxs("div",{className:"flex items-center justify-center gap-2",children:[b.jsx(jm,{size:18}),"Validators"]})})]}),b.jsx("div",{className:"p-6",ref:F,children:n==="references"?b.jsx("div",{className:"space-y-6",children:C.length>0?C.map(we=>b.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4","data-job-id":we.id,children:[b.jsxs("div",{className:"flex justify-between items-start mb-2",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"font-semibold text-slate-900",children:we.title}),b.jsx("p",{className:"text-slate-600",children:we.company})]}),b.jsx("div",{className:"flex gap-2",children:[1,2].map(ze=>{var Ce;const G=(Ce=A[we.id])==null?void 0:Ce.find(Ie=>Ie.reference_number===ze);return G?b.jsxs("button",{onClick:()=>{u(we),m(G),y(ze),window.dispatchEvent(new CustomEvent("scroll-to-item",{detail:{itemId:G.id,itemType:"reference"}}))},className:"px-3 py-1.5 text-sm font-medium text-slate-600 hover:text-slate-700 hover:bg-slate-50 rounded-lg transition-colors flex items-center gap-2 border border-slate-200","data-reference-id":G.id,children:[b.jsx(g2,{size:14}),"Reference ",ze,": ",G.full_name]},G.id):b.jsxs("button",{onClick:()=>{u(we),m(null),y(ze)},className:"px-3 py-1.5 text-sm font-medium text-teal-600 hover:text-teal-700 hover:bg-teal-50 rounded-lg transition-colors flex items-center gap-2 border border-teal-200",children:[b.jsx(Kv,{size:14}),"Add Reference ",ze]},ze)})})]}),b.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500 mb-3",children:[b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx(q2,{size:14}),b.jsxs("span",{children:[new Date(we.start_date).toLocaleDateString()," - ",we.end_date?new Date(we.end_date).toLocaleDateString():"Present"]})]}),b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx(qW,{size:14}),b.jsx("span",{children:we.location})]})]}),we.description&&b.jsx("p",{className:"text-slate-600 text-sm mb-3",children:we.description}),we.skills&&we.skills.length>0&&b.jsxs("div",{className:"mt-3",children:[b.jsx("h4",{className:"text-sm font-medium text-slate-700 mb-2",children:"Skills:"}),b.jsx("div",{className:"flex flex-wrap gap-2",children:we.skills.map(ze=>{const G=N.flatMap(Ce=>Ce.skills).find(Ce=>Ce.id===ze);return G?b.jsx("span",{className:"px-2 py-1 bg-slate-100 text-slate-700 rounded-full text-xs",children:G.name},ze):null})})]}),b.jsxs("div",{className:"mt-4 space-y-4",children:[b.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"References"}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[1,2].map(ze=>{var Ce;const G=(Ce=A[we.id])==null?void 0:Ce.find(Ie=>Ie.reference_number===ze);return b.jsx("div",{className:"border border-slate-200 rounded-lg p-4",children:G?b.jsxs("div",{children:[b.jsx("div",{className:"flex items-center justify-between mb-2",children:b.jsx("h5",{className:"font-medium text-slate-900",children:G.full_name})}),b.jsx("p",{className:"text-sm text-slate-600 mb-2",children:G.email}),G.description&&b.jsx("p",{className:"text-sm text-slate-700 mb-2",children:G.description}),G.validation_status==="pending"&&b.jsx("div",{className:"mb-2",children:b.jsx("button",{onClick:()=>Oe(G),className:"px-3 py-1.5 text-sm font-medium text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors",children:"Unsend"})}),b.jsxs("div",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${Ve(G.validation_status)}`,children:[Le(G.validation_status),G.validation_status.charAt(0).toUpperCase()+G.validation_status.slice(1)]}),G.validation_notes&&b.jsxs("div",{className:"mt-2 p-2 bg-slate-50 rounded text-sm text-slate-600",children:[b.jsx("p",{className:"font-medium",children:"Validation Notes:"}),b.jsx("p",{children:G.validation_notes})]}),G.validated_at&&b.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["Validated on ",new Date(G.validated_at).toLocaleDateString()]}),Q.some(Ie=>Ie.connected_eit_id===we.eit_id)&&G.validation_status==="pending"&&b.jsx("div",{className:"mt-3 flex gap-2",children:b.jsx("button",{onClick:()=>{De(G),ce("")},className:"px-3 py-1.5 text-sm font-medium text-teal-600 hover:text-teal-700 hover:bg-teal-50 rounded-lg transition-colors flex items-center gap-2 border border-teal-200",children:"Validate Reference"})})]}):b.jsxs("button",{onClick:()=>{u(we),m(null),y(ze)},className:"w-full px-3 py-1.5 text-sm font-medium text-teal-600 hover:text-teal-700 hover:bg-teal-50 rounded-lg transition-colors flex items-center gap-2 border border-teal-200",children:[b.jsx(Kv,{size:14}),"Add Reference ",ze]})},ze)})})]})]},we.id)):b.jsxs("div",{className:"text-center py-8 text-slate-500",children:[b.jsx(m2,{size:24,className:"mx-auto mb-2 text-slate-400"}),b.jsx("p",{children:"No work experience added yet"}),b.jsx("p",{className:"text-sm mt-1",children:"Add jobs in the Work Experience section above"})]})}):b.jsx("div",{className:"space-y-6",children:X.length>0?X.map(we=>b.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4",children:[b.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:we.name}),b.jsx("div",{className:"space-y-4",children:we.skills.map(ze=>{var G;return b.jsx("div",{className:"flex items-center justify-between","data-skill-id":ze.id,children:b.jsxs("div",{className:"flex-1",children:[b.jsx("h4",{className:"font-medium text-slate-800",children:ze.name}),b.jsxs("div",{className:"flex items-center gap-2",children:[(G=v[ze.id])==null?void 0:G.map(Ce=>b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("button",{onClick:()=>{Ce.status==="draft"&&(r(ze.id),l(Ce),window.dispatchEvent(new CustomEvent("scroll-to-item",{detail:{itemId:Ce.id,itemType:"validator"}})))},className:`px-3 py-1.5 text-sm font-medium rounded-lg transition-colors flex items-center gap-2 ${Ce.status!=="draft"?"bg-slate-100 text-slate-400 cursor-not-allowed":"text-slate-600 hover:text-slate-700 hover:bg-slate-50"}`,"data-validator-id":Ce.id,disabled:Ce.status!=="draft",children:[b.jsx(g2,{size:14}),Ce.full_name]}),b.jsx("span",{className:`ml-2 px-2 py-0.5 rounded text-xs font-semibold ${Ce.status==="draft"?"bg-yellow-100 text-yellow-800":Ce.status==="pending"?"bg-blue-100 text-blue-800":Ce.status==="scored"?"bg-green-100 text-green-800":"bg-slate-100 text-slate-500"}`,children:Ce.status.charAt(0).toUpperCase()+Ce.status.slice(1)}),Ce.status==="scored"&&b.jsxs("span",{className:"ml-2 text-green-700 font-bold",children:["Supervisor Score: ",Ce.score]}),Ce.status==="pending"&&b.jsx("button",{className:"ml-2 px-2 py-0.5 text-xs font-medium bg-orange-500 text-white rounded hover:bg-orange-600 disabled:bg-orange-200 disabled:cursor-not-allowed",disabled:!!(U[Ce.id]&&Date.now()-U[Ce.id]<5*60*1e3),onClick:async()=>{V(Ie=>({...Ie,[Ce.id]:Date.now()}));try{const{data:{user:Ie}}=await Re.auth.getUser();if(!Ie)return;const{data:be}=await Re.from("eit_profiles").select("full_name").eq("id",Ie.id).single(),{data:_e}=await Re.from("supervisor_profiles").select("id").eq("email",Ce.email).single();await D6((_e==null?void 0:_e.id)||Ce.email,(be==null?void 0:be.full_name)||Ie.email,ze.name),await Re.from("validators").update({status:"pending",score:null}).eq("id",Ce.id),await Y(),ni.success("Nudge sent!")}catch{ni.error("Failed to send nudge.")}},children:U[Ce.id]&&Date.now()-U[Ce.id]<5*60*1e3?`Nudged (wait ${Math.ceil((5*60*1e3-(Date.now()-U[Ce.id]))/1e3)}s)`:"Nudge Supervisor"}),Ce.status==="scored"&&b.jsx("button",{className:"ml-2 px-2 py-0.5 text-xs font-medium bg-green-800 text-white rounded hover:bg-green-900 disabled:bg-green-300 disabled:cursor-not-allowed",disabled:!!(U[Ce.id]&&Date.now()-U[Ce.id]<5*60*1e3),onClick:async()=>{V(Ie=>({...Ie,[Ce.id]:Date.now()}));try{const{data:{user:Ie}}=await Re.auth.getUser();if(!Ie)return;const{data:be}=await Re.from("eit_profiles").select("full_name").eq("id",Ie.id).single(),{data:_e}=await Re.from("supervisor_profiles").select("id").eq("email",Ce.email).single();await D6((_e==null?void 0:_e.id)||Ce.email,(be==null?void 0:be.full_name)||Ie.email,ze.name),await Re.from("validators").update({status:"pending",score:null}).eq("id",Ce.id),await Y(),ni.success("Rescore request sent!")}catch{ni.error("Failed to request rescore.")}},children:U[Ce.id]&&Date.now()-U[Ce.id]<5*60*1e3?`Requested (wait ${Math.ceil((5*60*1e3-(Date.now()-U[Ce.id]))/6e4)} min)`:"Ask for Rescore"}),(Ce.status==="draft"||Ce.status==="pending")&&b.jsx("button",{className:"btn btn-danger btn-xs",onClick:async()=>{await Re.from("validators").delete().eq("id",Ce.id),setTimeout(()=>Y(),300)},children:"Cancel"})]},Ce.id)),(!v[ze.id]||v[ze.id].length===0)&&b.jsx("button",{onClick:()=>{r(ze.id),l(null)},className:"px-3 py-1.5 text-sm font-medium text-teal-600 hover:text-teal-700 hover:bg-teal-50 rounded-lg transition-colors",children:"Add Validator"})]})]})},ze.id)})})]},we.name)):b.jsxs("div",{className:"text-center py-8 text-slate-500",children:[b.jsx(jm,{size:24,className:"mx-auto mb-2 text-slate-400"}),b.jsx("p",{children:"No completed skills yet"}),b.jsx("p",{className:"text-sm mt-1",children:"Complete skills in the Skills section to see them here"})]})})})]}),b.jsx(JCe,{isOpen:i!==null,onClose:()=>{r(null),l(null)},skillName:i&&((Ee=N.flatMap(we=>we.skills).find(we=>we.id===i))==null?void 0:Ee.name)||"",skillId:i||"",existingValidator:o||void 0,onSave:Z,status:(o==null?void 0:o.status)??"draft",loadValidators:Y}),b.jsx(QCe,{isOpen:c!==null&&g!==null,onClose:()=>{u(null),m(null),y(null)},job:c,referenceNumber:g,existingReference:h||void 0,onSave:xe}),$&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-lg w-full mx-4",children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Validate Reference"}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Validation Notes"}),b.jsx("textarea",{value:ie,onChange:we=>ce(we.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",rows:4,placeholder:"Add any notes about the validation..."})]}),b.jsxs("div",{className:"flex justify-end gap-3",children:[b.jsx("button",{onClick:()=>{De(null),ce("")},className:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-700 hover:bg-slate-50 rounded-lg transition-colors",children:"Cancel"}),b.jsx("button",{onClick:()=>Ae($,"rejected"),className:"px-4 py-2 text-sm font-medium text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors",children:"Reject"}),b.jsx("button",{onClick:()=>Ae($,"validated"),className:"px-4 py-2 text-sm font-medium text-green-600 hover:text-green-700 hover:bg-green-50 rounded-lg transition-colors",children:"Validate"})]})]})})]})},tTe=({onMenuClick:n})=>b.jsxs("header",{className:"fixed top-0 right-0 left-0 md:left-64 bg-white/80 backdrop-blur-md z-10 border-b border-slate-200 px-4 py-3 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center",children:[n&&b.jsx("button",{className:"md:hidden p-2 rounded-lg text-slate-500 hover:bg-slate-100 mr-2",onClick:n,"aria-label":"Open sidebar menu",children:b.jsx(hZ,{size:24})}),b.jsx("div",{className:"ml-2 md:ml-0",children:b.jsx("h1",{className:"text-xl font-semibold text-slate-800",children:"Supervisor Dashboard"})})]}),b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("div",{className:"hidden md:block",children:b.jsx(DZ,{})}),b.jsx("div",{className:"relative inline-block",children:b.jsx(jZ,{})}),b.jsx(NZ,{})]})]}),nTe=({appLoaded:n})=>{const[e,i]=H.useState(!1);return b.jsxs("div",{className:"min-h-screen bg-[#F5F7FA]",children:[b.jsx("div",{className:"hidden md:block",children:b.jsx(A6,{})}),e&&b.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[b.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:()=>i(!1)}),b.jsx("div",{className:"fixed inset-y-0 left-0 w-full max-w-xs bg-white shadow-xl",children:b.jsx(A6,{onClose:()=>i(!1)})})]}),b.jsxs("div",{className:"md:pl-64 flex flex-col min-h-screen",children:[b.jsx(tTe,{onMenuClick:()=>i(!0)}),b.jsx("main",{className:"flex-1 p-4 md:p-6 pt-20 md:pt-24 pb-20 md:pb-6",children:b.jsx(iK,{context:{appLoaded:n}})})]})]})},cA=()=>b.jsx("div",{className:"flex items-center justify-center min-h-screen",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-teal-500"})}),fD={"Category 1 – Technical Competence":3,"Category 2 – Communication":3,"Category 3 – Project & Financial Management":2,"Category 4 – Team Effectiveness":3,"Category 5 – Professional Accountability":3,"Category 6 – Social, Economic, Environmental & Sustainability":2},TH=async n=>{try{const[e,i,r]=await Promise.all([Re.from("eit_skills").select("id",{count:"exact",head:!0}).eq("eit_id",n).not("rank","is",null),Re.from("experiences").select("id",{count:"exact",head:!0}).eq("eit_id",n),Re.from("experiences").select("id",{count:"exact",head:!0}).eq("eit_id",n).eq("supervisor_approved",!0)]);if(e.error||i.error||r.error)throw new Error("Failed to fetch EIT progress");const o=e.count||0,l=i.count||0,c=r.count||0,u=o/22,h=l/24,m=c/24;return{overallProgress:Math.round((u+h+m)/3*100),completedSkills:o,documentedExperiences:l,supervisorApprovals:c}}catch(e){return console.error("Error fetching EIT progress:",e),{overallProgress:0,completedSkills:0,documentedExperiences:0,supervisorApprovals:0}}},iTe=()=>{const[n,e]=H.useState(!0),[i,r]=H.useState(null),[o,l]=H.useState([]),[c,u]=H.useState([]),[h,m]=H.useState({}),[g,y]=H.useState(null),[v,_]=H.useState([]),[A,S]=H.useState(!1),[C,T]=H.useState({}),[N,j]=H.useState(null),[O,F]=H.useState(""),[U,V]=H.useState(!1),[B,K]=H.useState(null),[oe,me]=H.useState(null),[Q,ge]=H.useState(null),[$,De]=H.useState(null),ie=async()=>{e(!0),r(null);try{const{data:{user:Z}}=await Re.auth.getUser();if(!Z){r("No user found");return}const[xe,Ae]=await Promise.all([Re.from("supervisor_eit_relationships").select("id, eit_id, status, created_at, eit_profiles (id, full_name, email, start_date, target_date)").eq("supervisor_id",Z.id).eq("status","pending"),Re.from("supervisor_eit_relationships").select("eit_id, eit_profiles (id, full_name, email, start_date, target_date)").eq("supervisor_id",Z.id).eq("status","active")]);if(xe.error)throw xe.error;if(Ae.error)throw Ae.error;const Oe=(xe.data||[]).map(Ee=>({...Ee,eit_profiles:Array.isArray(Ee.eit_profiles)?Ee.eit_profiles[0]:Ee.eit_profiles}));l(Oe);const Pe=(Ae.data||[]).map(Ee=>{const we=Array.isArray(Ee.eit_profiles)?Ee.eit_profiles[0]:Ee.eit_profiles;return{id:String((we==null?void 0:we.id)||""),full_name:String((we==null?void 0:we.full_name)||""),email:String((we==null?void 0:we.email)||""),start_date:(we==null?void 0:we.start_date)||void 0,target_date:(we==null?void 0:we.target_date)||void 0}});u(Pe);const Me=Pe.map(Ee=>TH(Ee.id)),Ve=await Promise.all(Me),Le=Pe.map((Ee,we)=>[Ee.id,Ve[we]]);if(m(Object.fromEntries(Le)),g){const Ee=Pe.find(we=>we.id===g.id);Ee&&await X(Ee)}}catch(Z){console.error("Error fetching team data:",Z),r("Failed to load team data. Please try again.")}finally{e(!1)}};H.useEffect(()=>{ie();const Z=()=>{ie()};return window.addEventListener("focus",Z),()=>{window.removeEventListener("focus",Z)}},[]),H.useEffect(()=>{const Z=setInterval(async()=>{if(c.length>0){const xe=c.map(Pe=>TH(Pe.id)),Ae=await Promise.all(xe),Oe=c.map((Pe,Me)=>[Pe.id,Ae[Me]]);m(Object.fromEntries(Oe))}},3e4);return()=>clearInterval(Z)},[c]);const ce=async(Z,xe)=>{if(Z){e(!0);try{const{error:Ae}=await Re.from("supervisor_eit_relationships").update({status:xe?"active":"denied",updated_at:new Date().toISOString()}).eq("id",Z);if(Ae)throw Ae;if(l(Oe=>Oe.filter(Pe=>Pe.id!==Z)),xe){const Oe=o.find(Pe=>Pe.id===Z);Oe&&Oe.eit_profiles&&u(Pe=>[...Pe,Oe.eit_profiles])}}catch(Ae){console.error("Error handling request:",Ae),r("Failed to process request. Please try again.")}finally{e(!1)}}},X=async Z=>{if(!Z||!Z.id)return;y(Z),S(!0);const{data:xe,error:Ae}=await Re.from("eit_skills").select("skill_id, rank, supervisor_score, category_name, skill_name, status, eit_id").eq("eit_id",Z.id),{data:Oe,error:Pe}=await Re.from("validators").select("*").eq("eit_id",Z.id),Me={};(Oe||[]).forEach(Le=>{Me[Le.skill_id]||(Me[Le.skill_id]=[]),Me[Le.skill_id].push(Le)});const Ve={};(xe||[]).forEach(Le=>{Ve[Le.category_name]||(Ve[Le.category_name]=[]),Ve[Le.category_name].push({...Le,validators:Me[Le.skill_id]||[]})}),T(Ve),S(!1)},Y=async()=>{if(N){V(!0),K(null),me(null);try{const{data:{user:Z}}=await Re.auth.getUser();if(!Z)throw new Error("No supervisor user");await J1({userId:N.id,type:"nudge",title:"Nudge from Supervisor",message:O||"Keep going! Your supervisor believes in you!"}),K("Nudge sent!"),F(""),setTimeout(()=>j(null),1200)}catch(Z){me(Z.message||"Failed to send nudge")}finally{V(!1)}}},ne=c.length>0?Math.round(c.reduce((Z,xe)=>{var Ae;return Z+(((Ae=h[xe.id])==null?void 0:Ae.overallProgress)||0)},0)/c.length):0,ee="linear-gradient(90deg, #14b8a6 0%, #3b82f6 100%)",ue="#f59e42";return n?b.jsx(cA,{}):i?b.jsx("div",{className:"p-6 text-red-600",children:i}):b.jsxs("div",{className:"p-6",children:[b.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Team"}),b.jsx("button",{className:"btn btn-primary mb-4",onClick:ie,disabled:n,children:n?"Reloading...":"Reload Team"}),b.jsxs("div",{className:"mb-8",children:[b.jsx("h2",{className:"text-lg font-semibold mb-2 text-slate-800",children:"Team Progress"}),b.jsxs("div",{className:"flex items-center justify-between mb-1",children:[b.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Average Completion"}),b.jsxs("span",{className:"text-sm font-semibold text-teal-600",children:[ne,"%"]})]}),b.jsx("div",{className:"h-3 bg-slate-100 rounded-full overflow-hidden",children:b.jsx("div",{className:"h-full bg-teal-500 rounded-full transition-all duration-300",style:{width:`${ne}%`}})}),b.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"This is the average overall progress of all your connected EITs."})]}),o.length>0&&b.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-8",children:[b.jsx("h2",{className:"text-lg font-semibold mb-2 text-yellow-800",children:"Pending Requests"}),b.jsx("button",{className:"btn btn-primary btn-sm mb-4",onClick:async()=>{e(!0);try{await Promise.all(o.map(Z=>ce(Z.id,!0)))}finally{e(!1)}},disabled:n,children:"Approve All"}),b.jsx("div",{className:"space-y-3",children:o.map(Z=>b.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 border-b border-yellow-100 pb-2 last:border-0",children:[b.jsxs("div",{children:[b.jsx("span",{className:"font-medium",children:Z.eit_profiles.full_name})," (",Z.eit_profiles.email,")",b.jsxs("span",{className:"ml-2 text-xs text-slate-500",children:["Requested on ",new Date(Z.created_at).toLocaleDateString()]})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>ce(Z.id,!0),children:"Accept"}),b.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>ce(Z.id,!1),children:"Deny"})]})]},Z.id))})]}),b.jsx("div",{className:"bg-white rounded-lg shadow mb-8",children:b.jsxs("div",{className:"p-6",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Team Members"}),b.jsx("div",{className:"flex flex-col gap-4",children:c.map(Z=>{const xe=h[Z.id],Ae=3.2,Oe=Object.values(fD).reduce((Ee,we)=>Ee+we,0)/Object.values(fD).length;Object.entries(fD).map(([Ee,we],ze)=>({name:Ee,eitMean:3.2-ze*.2,required:we}));let Pe=null,Me="teal",Ve="",Le=!1;if(Z.start_date&&Z.target_date){const Ee=new Date,we=new Date(Z.start_date),G=new Date(Z.target_date).getTime()-we.getTime(),Ce=Ee.getTime()-we.getTime();let Ie=Math.max(0,Math.min(100,Math.round(Ce/G*100)));if(Pe=Ie,xe){const be=xe.overallProgress-Ie;be>0?(Me="teal",Ve="Ahead of schedule"):be>=-5?(Me="blue",Ve="On track"):(Me="purple",Ve="Behind schedule",Le=!0)}}return b.jsx("div",{className:"border-b border-gray-200 pb-4 last:border-0",children:b.jsxs("div",{className:"flex flex-col md:flex-row md:items-stretch md:gap-6 md:justify-between",children:[b.jsxs("div",{className:"flex-1 min-w-0 md:max-w-xl",children:[b.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),b.jsx("button",{className:"font-medium text-teal-700 hover:underline",onClick:()=>X(Z),children:Z.full_name}),b.jsxs("div",{className:"mt-2",children:[b.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),b.jsx("p",{className:"font-medium",children:Z.email})]}),xe&&b.jsxs("div",{className:"mt-4",children:[b.jsxs("div",{className:"flex items-center justify-between mb-1",children:[b.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Overall Progress"}),b.jsxs("span",{className:"text-sm font-semibold text-teal-600",children:[xe.overallProgress,"%"]})]}),b.jsx("div",{className:"h-2 bg-slate-100 rounded-full overflow-hidden max-w-xs md:max-w-md w-full",children:b.jsx("div",{className:`h-full rounded-full transition-all duration-300 ${Me==="teal"?"bg-teal-500":Me==="blue"?"bg-blue-500":"bg-purple-500"}`,style:{width:`${xe.overallProgress}%`}})}),b.jsxs("div",{className:"flex flex-col gap-1 mt-2",children:[b.jsxs("div",{className:"flex gap-4 text-xs text-slate-500",children:[b.jsxs("span",{children:["Skills: ",xe.completedSkills,"/22"]}),b.jsxs("span",{children:["Experiences: ",xe.documentedExperiences,"/24"]}),b.jsxs("span",{children:["Approvals: ",xe.supervisorApprovals,"/24"]})]}),Pe!==null&&b.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 mt-1",children:[Ve," (Expected: ",Pe,"%)",Le&&b.jsxs("button",{className:"ml-2 px-2 py-0.5 rounded bg-red-100 text-red-700 text-xs font-semibold flex items-center gap-1 hover:bg-red-200 transition",onClick:()=>{j(Z),F("")},children:[b.jsx($8,{size:14,className:"mr-1"})," Nudge"]})]})]})]})]}),b.jsxs("button",{className:"md:self-center md:ml-auto w-full md:w-80 flex flex-col justify-center items-center bg-white rounded-lg shadow p-6 mt-4 md:mt-0 focus:outline-none focus:ring-2 focus:ring-teal-400 hover:shadow-md hover:bg-slate-50 transition cursor-pointer group",onClick:()=>De(Z),type:"button",children:[b.jsx("span",{className:"text-xl font-semibold text-slate-700 mb-3 group-hover:text-teal-700 transition",children:"Skills Average"}),b.jsxs("div",{className:"flex flex-col items-center w-full mb-2",children:[b.jsx("div",{className:"relative w-full flex justify-center mb-3",style:{height:"22px"},children:b.jsx("div",{className:"absolute",style:{left:`calc(${Oe/5*100}% - 18px)`},children:b.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold bg-yellow-100 text-yellow-700 shadow",style:{fontSize:"13px"},children:Oe.toFixed(1)})})}),b.jsxs("div",{className:"relative w-64 h-4 bg-slate-100 rounded-full overflow-hidden mb-3",children:[b.jsx("div",{className:"h-full rounded-full transition-all duration-300",style:{width:`${Ae/5*100}%`,background:"#14b8a6"}}),b.jsx("div",{className:"absolute top-1/2 -translate-y-1/2",style:{left:`calc(${Oe/5*100}% - 10px)`},children:b.jsx("span",{className:"w-5 h-5 rounded-full border-2 border-white shadow-md block",style:{background:"#fde047"}})})]}),b.jsx("span",{className:"text-lg text-slate-700 font-bold mt-1",children:Ae})]}),b.jsx("span",{className:"text-xs text-slate-500 group-hover:text-teal-600 transition mt-2",children:"Click for category breakdown"})]})]})},Z.id)})})]})}),g&&b.jsx(lw,{isOpen:!!g,onClose:()=>y(null),children:b.jsxs("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto bg-white rounded-lg p-8",children:[b.jsxs("h2",{className:"text-2xl font-bold mb-6",children:[g.full_name,"'s Skills"]}),A?b.jsx("div",{children:"Loading..."}):Object.keys(C).length===0?b.jsx("div",{children:"No marked skills found."}):b.jsx("div",{className:"pr-2",children:Object.entries(C).sort(([Z],[xe])=>{var Pe,Me;const Ae=parseInt(((Pe=Z.match(/\d+/))==null?void 0:Pe[0])||"0"),Oe=parseInt(((Me=xe.match(/\d+/))==null?void 0:Me[0])||"0");return Ae-Oe}).map(([Z,xe])=>{const Ae=Pe=>{const Me=Pe.match(/^([\d.]+)/);return Me?Me[1].split(".").map(Number):[0]},Oe=[...xe].sort((Pe,Me)=>{const Ve=Ae(Pe.skill_name),Le=Ae(Me.skill_name);for(let Ee=0;Ee<Math.max(Ve.length,Le.length);Ee++){const we=Ve[Ee]??0,ze=Le[Ee]??0;if(we!==ze)return we-ze}return 0});return b.jsxs("div",{className:"mb-6",children:[b.jsx("h3",{className:"font-semibold text-slate-800 mb-3 text-lg",children:Z}),b.jsx("div",{className:"divide-y divide-slate-100 rounded-lg border border-slate-200 bg-white shadow-sm",children:Oe.map(Pe=>b.jsxs("div",{className:"flex flex-row items-center gap-4 px-4 py-3 transition-colors hover:bg-slate-50 group",children:[b.jsx("span",{className:"font-medium text-slate-800 flex-1 min-w-0 truncate",children:Pe.skill_name}),b.jsxs("div",{className:"flex gap-2",children:[Pe.rank!==null&&Pe.rank!==void 0&&b.jsxs("span",{className:"inline-block px-2 py-0.5 rounded-full text-xs font-semibold bg-blue-100 text-blue-800 group-hover:bg-blue-200 transition-colors",title:"EIT's self score",children:["EIT: ",Pe.rank]}),Pe.supervisor_score!==null&&Pe.supervisor_score!==void 0&&b.jsxs("span",{className:"inline-block px-2 py-0.5 rounded-full text-xs font-semibold bg-green-100 text-green-800 group-hover:bg-green-200 transition-colors",title:"Supervisor's score",children:["Supervisor: ",Pe.supervisor_score]})]})]},Pe.skill_id))})]},Z)})})]})}),N&&b.jsx(lw,{isOpen:!!N,onClose:()=>j(null),children:b.jsxs("div",{className:"w-full max-w-md p-6 bg-white rounded-lg",children:[b.jsxs("h2",{className:"text-lg font-semibold mb-4",children:["Send a Nudge to ",N.full_name]}),b.jsx("textarea",{className:"w-full border rounded p-2 mb-3",rows:3,placeholder:"Type your message (or leave blank for a default nudge)",value:O,onChange:Z=>F(Z.target.value),disabled:U}),oe&&b.jsx("div",{className:"text-red-600 text-sm mb-2",children:oe}),B&&b.jsx("div",{className:"text-green-600 text-sm mb-2",children:B}),b.jsxs("div",{className:"flex gap-2 justify-end",children:[b.jsx("button",{className:"btn btn-secondary",onClick:()=>j(null),disabled:U,children:"Cancel"}),b.jsx("button",{className:"btn btn-primary",onClick:Y,disabled:U,children:U?"Sending...":"Send Nudge"})]})]})}),$&&b.jsx(lw,{isOpen:!!$,onClose:()=>De(null),children:b.jsxs("div",{className:"w-full max-w-lg bg-white rounded-xl p-8 shadow-lg relative",children:[b.jsx("button",{className:"absolute top-4 right-4 text-slate-400 hover:text-slate-700",onClick:()=>De(null),"aria-label":"Close",children:b.jsx(As,{size:24})}),b.jsxs("h2",{className:"text-2xl font-bold mb-6 text-slate-800",children:[$.full_name,"'s Skills by Category"]}),b.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"inline-block w-3 h-3 rounded-full",style:{background:"linear-gradient(90deg, #14b8a6 0%, #3b82f6 100%)"}}),b.jsx("span",{className:"text-xs text-slate-700 font-medium",children:"Your Mean"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"inline-block w-3 h-3 rounded-full",style:{background:ue}}),b.jsx("span",{className:"text-xs text-slate-700 font-medium",children:"Required Mean"})]})]}),b.jsx("div",{className:"space-y-5",children:Object.entries(fD).map(([Z,xe],Ae)=>{const Oe=3.2-Ae*.2;return b.jsxs("div",{className:"mb-2",children:[b.jsxs("div",{className:"flex justify-between items-center mb-1",children:[b.jsx("span",{className:"text-sm font-semibold text-slate-700",children:Z}),b.jsx("span",{className:"text-base font-bold text-blue-700",children:Oe.toFixed(1)})]}),b.jsxs("div",{className:"relative w-full h-4 bg-slate-200 rounded-full overflow-hidden mb-3",children:[b.jsx("div",{className:"h-full rounded-full transition-all duration-300",style:{width:`${Oe/5*100}%`,background:ee}}),b.jsx("div",{className:"absolute left-0 top-0 w-full h-full pointer-events-none",children:b.jsxs("div",{className:"absolute flex flex-col items-center",style:{left:`calc(${xe/5*100}% - 10px)`},children:[b.jsx("span",{className:"mb-1 px-2 py-0.5 rounded-full text-xs font-semibold bg-orange-100 text-orange-700 shadow",style:{fontSize:"11px"},children:xe}),b.jsx("span",{className:"w-4 h-4 rounded-full border-2 border-white shadow-md",style:{background:ue}})]})})]})]},Z)})})]})})]})},rTe={"1.1 Regulations, Codes & Standards":`Correct selection and application of statutory and technical requirements.
Evidence: Explicit citation of CSA, IEC, ABSA, etc.; design reviews addressing code clauses.
Level cues:
1 = can name relevant codes.
3 = interprets and applies clauses without oversight.
5 = authoring corporate standards; mentoring others on compliance.`,"1.2 Technical & Design Constraints":`Identifying limits (temperature, load, schedule) and designing within them.
Evidence: Trade-off studies, design margin calculations, interdisciplinary coordination notes.
Level cues:
1 = recognises simple constraints given by others.
3 = optimises design under multiple constraints.
5 = sets project-wide constraint envelopes and negotiates them.`,"1.3 Risk Management for Technical Work":`Systematic identification and mitigation of technical risks (distinct from safety).
Evidence: FMEA tables, hazard logs, risk registers with action plans.
Level cues:
1 = attends risk meetings.
3 = creates risk matrix and closes actions.
5 = institutionalises risk methodologies across projects.`,"1.4 Application of Theory":`Using engineering science to create or validate designs.
Evidence: Hand calculations, simulation models, design notes.
Level cues:
1 = performs textbook calcs shown by others.
3 = selects appropriate theory and justifies assumptions.
5 = derives novel analytical methods adopted by peers.`,"1.5 Solution Techniques & Results Verification":`Self-checking, peer-reviewing, and validating outputs.
Evidence: Check prints, back-calculations, test-vs-model comparisons.
Level cues:
1 = runs software without independent check.
3 = uses alternative method to cross-verify.
5 = implements QA verification workflows enterprise-wide.`,"1.6 Safety in Design & Technical Work":`Integrating safety / HAZOP thinking into technical tasks.
Evidence: SIL/LOPA studies, safety factors, safeguard design notes.
Level cues:
1 = attends toolbox talks.
3 = designs safety features and documents residual risk.
5 = chairs safety reviews and influences corporate safety culture.`,"1.7 Systems & Their Components":`Understanding and managing interactions within complex systems.
Evidence: System block diagrams, interface registers, control narratives.
Level cues:
1 = works on single component.
3 = balances interfaces across disciplines.
5 = architects whole-of-plant integration strategies.`,"1.8 Project or Asset Life-Cycle Awareness":`Considering feasibility through decommissioning.
Evidence: Stage-gate reports, O&M cost analyses, end-of-life plans.
Level cues:
1 = aware of immediate project phase.
3 = optimises design for O&M and eventual retirement.
5 = leads life-cycle cost optimisation across portfolio.`,"1.9 Quality Assurance":`Ensuring designs and deliverables meet defined quality criteria.
Evidence: ITPs, NCR resolution, audit findings.
Level cues:
1 = follows checklists.
3 = designs QA checks and resolves NCRs.
5 = drives continuous-improvement programs, reduces defect rates.`,"1.10 Engineering Documentation":`Creating clear drawings, reports, calculations.
Evidence: Issued-for-construction packages, calculation books.
Level cues:
1 = fills templates.
3 = authors multi-disciplinary documents accepted without major edits.
5 = sets documentation standards and trains staff.`,"2.1 Oral Communication (English)":`Clear, professional spoken English (presentations, meetings).
Evidence: Recorded presentations, client kick-off meetings.
Level cues:
1 = reads prepared notes.
3 = leads technical meetings, answers questions concisely.
5 = facilitates high-stakes negotiations.`,"2.2 Written Communication (English)":`Clear, structured technical writing.
Evidence: Formal reports, proposals, standards.
Level cues:
1 = grammar issues persist.
3 = reports accepted by clients without rewrite.
5 = publishes guidance documents adopted by organisation.`,"2.3 Reading & Comprehension (English)":`Using written technical material effectively.
Evidence: Mark-ups showing critical review, code interpretation memos.
Level cues:
1 = needs help interpreting dense specs.
3 = extracts crucial requirements, flags conflicts.
5 = synthesises complex literature into design policy.`,"3.1 Project Management Principles":`Scope, schedule, risk, change control.
Evidence: Gantt charts, change-order logs, status reports.
Level cues:
1 = tracks own tasks only.
3 = develops baselines, mitigates slippage.
5 = manages multi-discipline programs, mentors PMs.`,"3.2 Finances & Budget":`Cost estimating, cash-flow tracking, value engineering.
Evidence: CAPEX/OPEX estimates, variance analyses.
Level cues:
1 = inputs timesheets.
3 = owns WBS cost code, forecasts EAC accurately.
5 = optimises portfolio budgets, secures funding approvals.`,"4.1 Promote Team Effectiveness & Resolve Conflict":`Fostering collaboration and addressing interpersonal issues.
Evidence: Meeting minutes, stakeholder feedback, conflict-resolution plans.
Level cues:
1 = participates politely.
3 = facilitates consensus, resolves minor conflicts.
5 = leads high-tension negotiations, builds high-performing multi-site teams.`,"5.1 Professional Accountability (Ethics, Liability, Limits)":`Acting ethically, declaring limits, managing conflicts of interest.
Evidence: Signed professional-practice declarations, ethics case notes.
Level cues:
1 = knows the Code of Ethics exists.
3 = raises concerns proactively, seeks guidance.
5 = champions ethical culture, develops training modules.`,"6.1 Protection of the Public Interest":`Safety audits, public-impact assessments.
Evidence: Safety audits, public-impact assessments.
Level cues:
1 = identifies obvious hazards.
3 = designs to mitigate societal risk.
5 = influences public-safety policy.`,"6.2 Benefits of Engineering to the Public":`Community engagement records, cost-benefit studies.
Evidence: Community engagement records, cost-benefit studies.
Level cues:
1 = mentions public benefit.
3 = quantifies benefits, presents to stakeholders.
5 = leads projects delivering measurable public value.`,"6.3 Role of Regulatory Bodies":`Compliance registers, correspondence with AHJs.
Evidence: Compliance registers, correspondence with AHJs.
Level cues:
1 = names APEGA.
3 = coordinates approvals with multiple regulators.
5 = advises regulators, serves on industry committees.`,"6.4 Application of Sustainability Principles":`Life-cycle carbon analyses, circular-economy studies.
Evidence: Life-cycle carbon analyses, circular-economy studies.
Level cues:
1 = reuses specs.
3 = optimises design for energy/resource efficiency.
5 = drives corporate ESG strategy.`,"6.5 Promotion of Sustainability":`Training sessions delivered, sustainability KPIs met.
Evidence: Training sessions delivered, sustainability KPIs met.
Level cues:
1 = attends webinars.
3 = implements team sustainability actions.
5 = publishes best-practice guides, influences supply chain.`};function sTe(n){const e=rTe[n];if(!e)return b.jsx("span",{children:"No summary available for this skill."});const[i,r,...o]=e.split(/\n|\r/).filter(Boolean),l=r==null?void 0:r.replace(/^Evidence:/,"").trim(),c=o.filter(u=>u.trim().match(/^\d/));return b.jsxs("div",{children:[b.jsxs("div",{className:"mb-2",children:[b.jsx("span",{className:"font-semibold",children:"Skill Definition:"}),b.jsx("span",{className:"block text-slate-700 mt-1",children:i})]}),l&&b.jsxs("div",{className:"mb-2",children:[b.jsx("span",{className:"font-semibold",children:"Evidence supervisors might look for:"}),b.jsx("ul",{className:"list-disc ml-6 mt-1 text-slate-700",children:l.split(";").map((u,h)=>b.jsx("li",{children:u.trim()},h))})]}),c.length>0&&b.jsxs("div",{className:"mb-1",children:[b.jsx("span",{className:"font-semibold",children:"Level-specific indicators (cues):"}),b.jsx("ul",{className:"mt-1 ml-6 text-slate-700",children:c.map((u,h)=>{const m=u.match(/^(\d)\s*=\s*(.*)$/);return m?b.jsxs("li",{children:[b.jsx("span",{className:"font-bold",children:m[1]}),": ",m[2]]},h):b.jsx("li",{children:u},h)})})]})]})}const oTe=()=>{var Ie,be,_e;const[n,e]=H.useState("skills"),[i,r]=H.useState("all"),[o,l]=H.useState([]),[c,u]=H.useState({}),[h,m]=H.useState({}),[g,y]=H.useState({}),[v,_]=H.useState({}),[A,S]=H.useState(!0),[C,T]=H.useState([]),[N,j]=H.useState(!0),[O,F]=H.useState(null),[U,V]=H.useState(null),[B,K]=H.useState(!1),[oe,me]=H.useState({}),[Q,ge]=H.useState(null),[$,De]=H.useState(!1),[ie,ce]=H.useState([]),[X,Y]=H.useState([]),[ne,ee]=H.useState([]),[ue,Z]=H.useState(null),[xe,Ae]=H.useState(null),{notifications:Oe,markAsRead:Pe}=p3(),Me=i==="all"?ie:ie.filter(Se=>Se.eit_id===i),Ve=i==="all"?X:X.filter(Se=>{var He;return((He=Se.sao)==null?void 0:He.eit_id)===i}),Le=i==="all"?v:Object.fromEntries(Object.entries(v).filter(([Se])=>Se.startsWith(i+"_")));H.useEffect(()=>{(async()=>{S(!0);const{data:{user:He}}=await Re.auth.getUser();if(!He)return;const{data:qe,error:Fe}=await Re.from("skill_validations").select("*").eq("validator_id",He.id).order("validated_at",{ascending:!1}),{data:Te,error:ke}=await Re.from("validators").select("*").eq("email",He.email).eq("status","pending");if(Fe||!qe){S(!1);return}const le=Array.from(new Set([...qe.map(bt=>bt.eit_id),...(Te||[]).map(bt=>bt.eit_id)])),Ue=Array.from(new Set([...qe.map(bt=>bt.skill_id),...(Te||[]).map(bt=>bt.skill_id)])),[{data:et},{data:nt}]=await Promise.all([Re.from("eit_profiles").select("id, full_name, email").in("id",le),Re.from("skills").select("id, name").in("id",Ue)]),ct={};(et||[]).forEach(bt=>{ct[bt.id]=bt}),m(ct);const ht={};(nt||[]).forEach(bt=>{ht[bt.id]=bt}),y(ht);const Pt={};qe.forEach(bt=>{const Yt=`${bt.eit_id}_${bt.skill_id}`;Pt[Yt]||(Pt[Yt]=[]),Pt[Yt].push(bt)});const Bt=Object.values(Pt).map(bt=>{var mn,qt;const Yt=bt[0];return{id:`${Yt.eit_id}_${Yt.skill_id}`,skill_id:Yt.skill_id,full_name:((mn=ct[Yt.eit_id])==null?void 0:mn.full_name)||"",email:((qt=ct[Yt.eit_id])==null?void 0:qt.email)||"",description:Yt.feedback||"",status:"completed",score:Yt.score,created_at:Yt.validated_at,updated_at:Yt.validated_at,eit_id:Yt.eit_id}});l(Bt),ce((Te||[]).map(bt=>({...bt,id:bt.id}))),_(Pt),S(!1)})()},[]);const Ee=async()=>{j(!0),F(null);try{const{data:{user:Se}}=await Re.auth.getUser();if(!Se)throw new Error("No authenticated user");const{data:He,error:qe}=await Re.from("sao_feedback").select("*, sao:saos (title, content, created_at, eit_id)").eq("supervisor_id",Se.id).order("created_at",{ascending:!1});if(qe)throw qe;ee(He||[]),Y((He||[]).filter(Te=>Te.status==="pending"));const Fe=Array.from(new Set((He||[]).map(Te=>{var ke;return(ke=Te.sao)==null?void 0:ke.eit_id}).filter(Boolean)));if(Fe.length>0){const{data:Te}=await Re.from("eit_profiles").select("id, full_name").in("id",Fe),ke={};(Te||[]).forEach(le=>{ke[le.id]=le.full_name}),me(ke)}}catch(Se){F(Se.message||"Failed to load feedback requests")}finally{j(!1)}};H.useEffect(()=>{Ee()},[]);const we=(Se,He)=>{u(qe=>({...qe,[Se]:He}))},ze=async Se=>{try{Z(Se.id),Ae(null);const He=c[Se.id];if(!He||He<1||He>5)return;const{data:{user:qe}}=await Re.auth.getUser();if(!qe)return;const{error:Fe}=await Re.from("validators").update({score:He,description:Se.description,status:"scored",updated_at:new Date().toISOString()}).eq("id",Se.id);if(Fe)throw Fe;ce(le=>le.filter(Ue=>Ue.id!==Se.id)),u(le=>{const Ue={...le};return delete Ue[Se.id],Ue});const Te=g[Se.skill_id];await sxe(Se.eit_id,Te?Te.name:Se.skill_id,He),await Re.from("eit_skills").update({supervisor_score:He}).eq("eit_id",Se.eit_id).eq("skill_id",Se.skill_id);const ke=Te?Te.name:Se.skill_id;Oe.filter(le=>le.type==="validation_request"&&!le.read&&le.data&&le.data.skillName===ke).forEach(le=>Pe(le.id)),Ae("Score submitted successfully!"),setTimeout(()=>Ae(null),2e3)}catch(He){console.error("Error submitting score:",He),ud.error(He.message||"Error submitting score")}finally{Z(null)}},G=async Se=>{await Re.from("sao_feedback").update({status:"resolved"}).eq("id",Se),T(He=>He.map(qe=>qe.id===Se?{...qe,status:"resolved"}:qe))},Ce=async(Se,He)=>{Z(Se),Ae(null);try{const{data:{user:qe}}=await Re.auth.getUser();if(!qe)return;await Re.from("sao_feedback").update({feedback:He,status:"submitted"}).eq("sao_id",Se).eq("supervisor_id",qe.id),ee(Fe=>Fe.map(Te=>Te.sao_id===Se?{...Te,feedback:He,status:"submitted"}:Te)),Y(Fe=>Fe.filter(Te=>!(Te.sao_id===Se&&Te.status!=="pending"))),K(!1),V(null),Oe.filter(Fe=>{var Te;return Fe.type==="validation_request"&&!Fe.read&&Fe.data&&Fe.data.saoTitle&&U&&Fe.data.saoTitle===((Te=U.sao)==null?void 0:Te.title)}).forEach(Fe=>Pe(Fe.id)),Ae("Feedback submitted successfully!"),setTimeout(()=>Ae(null),2e3),ud.success("Feedback submitted successfully!")}catch(qe){ud.error(qe.message||"Error submitting feedback")}finally{Z(null)}};return b.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[b.jsx("div",{className:"flex items-center justify-between mb-6",children:b.jsx("h1",{className:"text-2xl font-bold",children:"Review Center"})}),b.jsxs("div",{className:"flex items-center justify-between my-8 w-full",children:[b.jsx("div",{className:"flex items-center",children:b.jsx("button",{onClick:n==="skills"?()=>window.location.reload():Ee,disabled:A||N,className:"px-4 py-2 bg-teal-600 text-white rounded-md hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:A&&n==="skills"||N&&n==="saos"?"Refreshing...":"Refresh"})}),b.jsx("div",{className:"flex-1 flex justify-center",children:b.jsxs("div",{className:"relative flex bg-slate-100 rounded-full p-1 shadow-inner gap-0 items-center",children:[b.jsx("button",{onClick:()=>e("skills"),className:`px-6 py-2 rounded-full font-semibold transition-all duration-200 text-sm focus:outline-none z-10
                ${n==="skills"?"bg-teal-600 text-white shadow-lg":"text-slate-700 hover:text-teal-600"}`,style:{marginRight:"-0.5rem",marginLeft:"0.5rem"},"aria-pressed":n==="skills",children:"Skills"}),b.jsx("button",{onClick:()=>e("saos"),className:`px-6 py-2 rounded-full font-semibold transition-all duration-200 text-sm focus:outline-none z-10
                ${n==="saos"?"bg-teal-600 text-white shadow-lg":"text-slate-700 hover:text-teal-600"}`,style:{marginLeft:"-0.5rem",marginRight:"0.5rem"},"aria-pressed":n==="saos",children:"SAOs"})]})}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("div",{className:"ml-2 flex items-center gap-2",children:[b.jsx("label",{htmlFor:"eit-filter",className:"text-sm font-medium text-slate-700",children:"Filter by EIT:"}),b.jsxs("select",{id:"eit-filter",value:i,onChange:Se=>r(Se.target.value),className:"rounded-lg border border-slate-300 px-3 py-1.5 text-sm focus:border-teal-500 focus:outline-none focus:ring-1 focus:ring-teal-500",children:[b.jsx("option",{value:"all",children:"All EITs"}),Object.values(h).map(Se=>b.jsx("option",{value:Se.id,children:Se.full_name},Se.id))]})]}),b.jsx("button",{className:`p-2 rounded-full text-slate-500 hover:bg-slate-200 transition ${$?"bg-slate-300":""}`,title:"Show History",onClick:()=>De(Se=>!Se),type:"button",children:b.jsx(V0,{size:20})})]})]}),n==="skills"&&!$&&b.jsx("div",{children:A?b.jsx("div",{children:"Loading..."}):Me.length===0?b.jsx("div",{children:"No pending skill validation requests."}):b.jsxs("div",{className:"space-y-4",children:[xe&&b.jsx("div",{className:"p-3 bg-green-50 text-green-700 rounded-md text-sm mb-4",children:xe}),Me.map(Se=>{const He=h[Se.eit_id],qe=g[Se.skill_id];return b.jsxs("div",{className:"bg-white rounded-lg shadow p-4 flex flex-col md:flex-row md:items-center md:justify-between gap-4 transition-all duration-300",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"font-semibold flex items-center gap-2",children:["Skill: ",qe?qe.name:Se.skill_id,qe&&b.jsx("button",{className:"ml-1 p-1 rounded-full text-blue-500 hover:bg-blue-50",title:"View Skill Rubric",onClick:()=>ge(qe.name),type:"button",children:b.jsx(E6,{size:18})})]}),b.jsxs("div",{className:"text-slate-600",children:["EIT: ",He?`${He.full_name} (${He.email})`:Se.eit_id]}),b.jsxs("div",{className:"text-slate-600",children:["Description: ",Se.description]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("input",{type:"number",min:1,max:5,value:c[Se.id]||"",onChange:Fe=>we(Se.id,Number(Fe.target.value)),className:"input w-24",placeholder:"Score"}),b.jsx("button",{className:"btn btn-primary flex items-center gap-2",onClick:()=>ze(Se),disabled:ue===Se.id||!c[Se.id]||c[Se.id]<1||c[Se.id]>5,children:ue===Se.id?b.jsx("span",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):"Submit Score"})]})]},Se.id)})]})}),n==="skills"&&$&&b.jsxs("div",{children:[b.jsx("div",{className:"text-xl font-bold mb-4",children:"History"}),A?b.jsx("div",{children:"Loading..."}):Object.keys(Le).length===0?b.jsx("div",{children:"No history available."}):b.jsx("div",{className:"space-y-4",children:Object.entries(Le).map(([Se,He])=>{const qe=He[0],Fe=h[qe.eit_id],Te=g[qe.skill_id];return b.jsxs("div",{className:"bg-white rounded-lg shadow p-4 flex flex-col md:flex-row md:items-center md:justify-between gap-4 transition-all duration-300",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"font-semibold flex items-center gap-2",children:["Skill: ",Te?Te.name:qe.skill_id,Te&&b.jsx("button",{className:"ml-1 p-1 rounded-full text-blue-500 hover:bg-blue-50",title:"View Skill Rubric",onClick:()=>ge(Te.name),type:"button",children:b.jsx(E6,{size:18})})]}),b.jsxs("div",{className:"text-slate-600",children:["EIT: ",Fe?`${Fe.full_name} (${Fe.email})`:qe.eit_id]}),b.jsxs("div",{className:"text-slate-600",children:["Description: ",qe.feedback||""]}),b.jsx("div",{className:"mt-3 border-t pt-3",children:b.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-2",children:He.map((ke,le)=>b.jsxs("div",{className:"bg-slate-50 rounded-lg p-2 text-sm",children:[b.jsxs("div",{className:"flex items-center justify-between mb-1",children:[b.jsxs("span",{className:"font-medium text-slate-700",children:["Score: ",ke.score]}),b.jsx("span",{className:"text-xs text-slate-500",children:ke.validated_at?new Date(ke.validated_at).toLocaleDateString():""})]}),ke.feedback&&b.jsxs("div",{className:"text-slate-600 text-xs mt-1",children:[b.jsx("span",{className:"font-medium",children:"Feedback:"})," ",ke.feedback]})]},le))})})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("input",{type:"number",min:1,max:5,value:c[`${qe.eit_id}_${qe.skill_id}`]||"",onChange:ke=>we(`${qe.eit_id}_${qe.skill_id}`,Number(ke.target.value)),className:"input w-24",placeholder:"Score"}),b.jsx("button",{className:"btn btn-primary",onClick:()=>ze({...qe,id:`${qe.eit_id}_${qe.skill_id}`,description:qe.feedback||""}),disabled:!c[`${qe.eit_id}_${qe.skill_id}`]||c[`${qe.eit_id}_${qe.skill_id}`]<1||c[`${qe.eit_id}_${qe.skill_id}`]>5,children:"Update Score"})]})]},Se)})})]}),n==="saos"&&!$&&b.jsx("div",{children:N?b.jsx("div",{children:"Loading..."}):O?b.jsx("div",{className:"text-red-600",children:O}):Ve.length===0?b.jsx("div",{className:"text-slate-500",children:"No pending feedback requests assigned to you."}):b.jsx("div",{className:"space-y-4",children:Ve.map(Se=>{var He,qe,Fe;return b.jsx("div",{className:"bg-white rounded-lg shadow p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{V(Se),K(!0)},children:b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-lg font-semibold text-teal-600",children:((He=Se.sao)==null?void 0:He.title)||"Untitled SAO"}),b.jsxs("p",{className:"text-sm text-slate-500",children:["From: ",oe[((qe=Se.sao)==null?void 0:qe.eit_id)||""]||((Fe=Se.sao)==null?void 0:Fe.eit_id)||"Unknown"]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[Se.status==="pending"&&b.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold bg-yellow-100 text-yellow-800",children:"Pending Review"}),Se.status==="submitted"&&b.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800",children:"Feedback Submitted"})]})]})},Se.id)})})}),n==="saos"&&$&&b.jsxs("div",{children:[b.jsx("div",{className:"text-xl font-bold mb-4",children:"History"}),N?b.jsx("div",{children:"Loading..."}):ne.filter(Se=>Se.status==="submitted").length===0?b.jsx("div",{className:"text-slate-500",children:"No SAO history available."}):b.jsx("div",{className:"space-y-4",children:ne.filter(Se=>Se.status==="submitted").map(Se=>{var He,qe,Fe;return b.jsx("div",{className:"bg-white rounded-lg shadow p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{V(Se),K(!0)},children:b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-lg font-semibold text-teal-600",children:((He=Se.sao)==null?void 0:He.title)||"Untitled SAO"}),b.jsxs("p",{className:"text-sm text-slate-500",children:["From: ",oe[((qe=Se.sao)==null?void 0:qe.eit_id)||""]||((Fe=Se.sao)==null?void 0:Fe.eit_id)||"Unknown"]})]}),b.jsx("div",{className:"flex items-center gap-2",children:b.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800",children:"Feedback Submitted"})})]})},Se.id)})})]}),B&&U&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:b.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:b.jsxs("div",{className:"p-6",children:[b.jsxs("div",{className:"flex justify-between items-start mb-4",children:[b.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:((Ie=U.sao)==null?void 0:Ie.title)||"Untitled SAO"}),b.jsx("button",{onClick:()=>{K(!1),V(null)},className:"text-slate-400 hover:text-slate-600",children:b.jsx(As,{size:24})})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-2",children:"SAO Content"}),b.jsx("div",{className:"bg-slate-50 rounded-lg p-4",children:U.sao_id&&((be=U.sao)==null?void 0:be.content)&&b.jsx(KZ,{saoId:U.sao_id,content:U.sao.content})})]}),b.jsx(G8,{feedback:[U],onResolve:G,onSubmitFeedback:Ce,isSupervisor:!0,saoContent:(_e=U.sao)==null?void 0:_e.content})]})})}),Q&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full relative",children:[b.jsx("button",{className:"absolute top-2 right-2 text-slate-400 hover:text-slate-600",onClick:()=>ge(null),children:"×"}),b.jsx("h3",{className:"text-lg font-semibold mb-4",children:Q}),sTe(Q)]})})]})},aTe=()=>{const[n,e]=H.useState([]),[i,r]=H.useState({}),[o,l]=H.useState(!0),[c,u]=H.useState(null),[h,m]=H.useState(null),[g,y]=H.useState("all");H.useEffect(()=>{(async()=>{l(!0),u(null);try{const{data:{user:S}}=await Re.auth.getUser();if(!S)throw new Error("No authenticated user");const{data:C,error:T}=await Re.from("documents").select("*").eq("supervisor_id",S.id).order("created_at",{ascending:!1});if(T)throw T;e(C||[]);const N=Array.from(new Set((C||[]).map(j=>j.eit_id).filter(Boolean)));if(N.length>0){const{data:j,error:O}=await Re.from("eit_profiles").select("id, full_name, email").in("id",N);if(!O&&j){const F={};j.forEach(U=>{F[U.id]=U}),r(F)}}}catch{u("Failed to load documents.")}finally{l(!1)}})()},[]);const v=Object.values(i),_=g==="all"?n:n.filter(A=>A.eit_id===g);return b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Shared Documents"}),v.length>0&&b.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[b.jsx("label",{htmlFor:"eit-filter",className:"text-sm font-medium text-slate-700",children:"Filter by EIT:"}),b.jsxs("select",{id:"eit-filter",value:g,onChange:A=>y(A.target.value),className:"rounded-lg border border-slate-300 px-3 py-1.5 text-sm focus:border-teal-500 focus:outline-none focus:ring-1 focus:ring-teal-500",children:[b.jsx("option",{value:"all",children:"All EITs"}),v.map(A=>b.jsxs("option",{value:A.id,children:[A.full_name," (",A.email,")"]},A.id))]})]}),o&&b.jsx("div",{children:"Loading..."}),c&&b.jsx("div",{className:"text-red-600",children:c}),!o&&!c&&n.length===0&&b.jsxs("div",{className:"text-slate-500 flex flex-col items-center py-12",children:[b.jsx(Sd,{size:48,className:"mx-auto text-slate-400"}),b.jsx("div",{className:"mt-4 text-lg font-medium",children:"No documents shared with you yet."})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:_.map(A=>{const S=A.eit_id?i[A.eit_id]:void 0;return b.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200 ease-in-out",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("h3",{className:"font-semibold text-lg text-slate-800",children:A.title}),b.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-slate-700",onClick:()=>m(A),title:"Preview",children:b.jsx(z8,{size:16})})]}),b.jsxs("div",{className:"text-xs text-slate-500 mb-2",children:[b.jsx("span",{children:new Date(A.created_at).toLocaleDateString()}),b.jsx("span",{className:"mx-2",children:"•"}),b.jsx("span",{className:"capitalize",children:A.status})]}),S&&b.jsx("div",{className:"text-xs text-slate-600 mt-1",children:b.jsxs("span",{children:["From: ",b.jsx("span",{className:"font-medium",children:S.full_name})," (",S.email,")"]})})]},A.id)})}),h&&b.jsx(UZ,{document:{...h,type:["essay","saos","other"].includes(h.type)?h.type:"other",status:["draft","submitted","approved","rejected"].includes(h.status)?h.status:"draft",word_count:typeof h.word_count=="number"?h.word_count:0},onClose:()=>m(null)})]})},lTe=ac()(X8(n=>({eitRequests:!0,skillValidationRequests:!0,saoFeedback:!0,weeklyDigest:!0,toggleEitRequests:()=>n(e=>({eitRequests:!e.eitRequests})),toggleSkillValidationRequests:()=>n(e=>({skillValidationRequests:!e.skillValidationRequests})),toggleSaoFeedback:()=>n(e=>({saoFeedback:!e.saoFeedback})),toggleWeeklyDigest:()=>n(e=>({weeklyDigest:!e.weeklyDigest}))}),{name:"supervisor-notification-preferences"})),cTe=()=>{var vi;const[n,e]=H.useState(null),[i,r]=H.useState(""),[o,l]=H.useState(""),[c,u]=H.useState(""),[h,m]=H.useState(!1),[g,y]=H.useState({type:"",text:""}),[v,_]=H.useState(!1),[A,S]=H.useState(!1),[C,T]=H.useState(!1),[N,j]=H.useState(""),[O,F]=H.useState(""),[U,V]=H.useState(""),[B,K]=H.useState(""),[oe,me]=H.useState("Free"),[Q,ge]=H.useState([]),[$,De]=H.useState(""),[ie,ce]=H.useState("idle"),[X,Y]=H.useState(""),[ne,ee]=H.useState(!1),[ue,Z]=H.useState(""),[xe,Ae]=H.useState(""),[Oe,Pe]=H.useState(""),[Me,Ve]=H.useState("idle"),[Le,Ee]=H.useState(""),{eitRequests:we,skillValidationRequests:ze,saoFeedback:G,weeklyDigest:Ce,toggleEitRequests:Ie,toggleSkillValidationRequests:be,toggleSaoFeedback:_e,toggleWeeklyDigest:Se}=lTe(),[He,qe]=H.useState(!1),[Fe,Te]=H.useState(""),[ke,le]=H.useState(""),[Ue,et]=H.useState(""),[nt,ct]=H.useState(""),[ht,Pt]=H.useState(!1),[Bt,bt]=H.useState(null),[Yt,mn]=H.useState(!1),{tier:qt,documentLimit:Vn,saoLimit:rs,supervisorLimit:Ir,hasAiAccess:Rr,fetchSubscription:ji}=$S();H.useEffect(()=>{(async()=>{var sn;const{data:{user:Ht}}=await Re.auth.getUser();Ht&&(e(Ht),r(((sn=Ht.user_metadata)==null?void 0:sn.full_name)||""),l(Ht.email||""),u(Ht.email||""),Re.from("supervisor_eit_relationships").select("eit_profiles (id, full_name, email)").eq("supervisor_id",Ht.id).eq("status","active").then(({data:Wn})=>{Wn&&ge(Wn.map(Xn=>Xn.eit_profiles).filter(Xn=>Xn))}),Re.auth.mfa.listFactors().then(({data:Wn})=>{var Mr;const Xn=(Mr=Wn==null?void 0:Wn.all)==null?void 0:Mr.find(Ji=>Ji.factor_type==="totp"&&Ji.status==="verified");ee(!!Xn)}))})(),ji()},[]);const bi=async wt=>{wt.preventDefault(),m(!0),y({type:"",text:""});try{const Ht={};v&&(Ht.data={full_name:i}),A&&c!==o&&(Ht.email=c);const{error:sn}=await Re.auth.updateUser(Ht);if(sn)throw sn;if(v&&n){const{error:Xn}=await Re.from("supervisor_profiles").update({full_name:i}).eq("id",n.id);if(Xn)throw Xn}y({type:"success",text:"Profile updated successfully!"}),_(!1),S(!1);const{data:{user:Wn}}=await Re.auth.getUser();Wn&&(e(Wn),l(Wn.email||""),u(Wn.email||""))}catch(Ht){y({type:"error",text:"Failed to update profile. Please try again."}),console.error("Error updating profile:",Ht)}finally{m(!1)}},yi=wt=>wt.split(" ").map(Ht=>Ht[0]).join("").toUpperCase();return b.jsxs("div",{className:"max-w-3xl mx-auto p-6 space-y-8",children:[b.jsxs("section",{className:"card p-6 flex flex-col md:flex-row gap-6 items-center",children:[b.jsx("div",{className:"flex flex-col items-center",children:b.jsx("div",{className:"relative",children:(vi=n==null?void 0:n.user_metadata)!=null&&vi.avatar_url?b.jsx("img",{src:n.user_metadata.avatar_url,className:"w-24 h-24 rounded-full object-cover bg-slate-100",alt:"Profile"}):b.jsx("div",{className:"w-24 h-24 rounded-full bg-teal-500 flex items-center justify-center text-white text-3xl font-bold",children:yi(i||o)})})}),b.jsxs("form",{className:"flex-1 space-y-4 w-full",onSubmit:bi,children:[b.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[b.jsx(yZ,{})," Profile Information",b.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"SUPERVISOR"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"fullName",className:"label",children:"Full Name"}),v?b.jsxs("div",{className:"space-y-2",children:[b.jsx("input",{type:"text",id:"fullName",value:i,onChange:wt=>r(wt.target.value),className:"input",placeholder:"Enter your full name"}),b.jsx("div",{className:"flex space-x-2",children:b.jsx("button",{type:"button",onClick:()=>_(!1),className:"btn btn-secondary",children:"Cancel"})})]}):b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("p",{children:i||"Not set"}),b.jsx("button",{type:"button",onClick:()=>_(!0),className:"text-sm text-teal-600 hover:text-teal-700",children:"Edit"})]})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"label",children:"Email Address"}),A?b.jsxs("div",{className:"space-y-2",children:[b.jsx("input",{type:"email",id:"newEmail",value:c,onChange:wt=>u(wt.target.value),className:"input",placeholder:"Enter your new email"}),b.jsx("p",{className:"text-sm text-slate-500",children:"After changing your email, you'll need to use the new email address to log in."}),b.jsx("div",{className:"flex space-x-2",children:b.jsx("button",{type:"button",onClick:()=>S(!1),className:"btn btn-secondary",children:"Cancel"})})]}):b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("p",{children:o}),b.jsx("button",{type:"button",onClick:()=>S(!0),className:"text-sm text-teal-600 hover:text-teal-700",children:"Edit"})]})]}),(v||A)&&b.jsx("button",{type:"submit",disabled:h,className:"btn btn-primary",children:h?"Saving...":"Save Changes"})]})]}),b.jsxs("section",{className:"card p-6",children:[b.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[b.jsx(dZ,{})," Security"]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"label",children:"Password"}),C?b.jsxs("div",{className:"space-y-4",children:[b.jsx("input",{type:"password",id:"currentPassword",value:N,onChange:wt=>j(wt.target.value),className:"input",placeholder:"Current password"}),b.jsx("input",{type:"password",id:"newPassword",value:O,onChange:wt=>F(wt.target.value),className:"input",placeholder:"New password"}),b.jsx("input",{type:"password",id:"confirmPassword",value:U,onChange:wt=>V(wt.target.value),className:"input",placeholder:"Confirm new password"}),B&&b.jsx("p",{className:"text-sm text-red-600",children:B}),b.jsx("div",{className:"flex space-x-2",children:b.jsx("button",{type:"button",onClick:()=>T(!1),className:"btn btn-secondary",children:"Cancel"})})]}):b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("p",{children:"••••••••"}),b.jsx("button",{type:"button",onClick:()=>T(!0),className:"text-sm text-teal-600 hover:text-teal-700",children:"Change"})]})]}),b.jsxs("div",{className:"mt-4",children:[b.jsx("label",{className:"label",children:"Two-Factor Authentication"}),ne?b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("span",{className:"text-green-700 font-medium",children:"Enabled (TOTP)"}),b.jsx("button",{className:"btn btn-danger w-fit",onClick:async()=>{var wt;Ve("idle"),Ee("");try{const{data:Ht}=await Re.auth.mfa.listFactors(),sn=(wt=Ht==null?void 0:Ht.all)==null?void 0:wt.find(Wn=>Wn.factor_type==="totp"&&Wn.status==="verified");sn&&(await Re.auth.mfa.unenroll({factorId:sn.id}),ee(!1))}catch{Ee("Failed to disable 2FA.")}},children:"Disable 2FA"}),Le&&b.jsx("span",{className:"text-red-600 text-sm",children:Le})]}):Me==="enrolling"?b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("span",{children:"Scan this QR code with your authenticator app:"}),ue&&b.jsx("img",{src:ue,alt:"TOTP QR Code",className:"w-40 h-40"}),b.jsx("input",{type:"text",className:"input mt-2",placeholder:"Enter 6-digit code",value:Oe,onChange:wt=>Pe(wt.target.value),maxLength:6}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{className:"btn btn-primary w-fit",onClick:async()=>{Ve("verifying"),Ee("");try{const{data:wt,error:Ht}=await Re.auth.mfa.challenge({factorId:xe});if(Ht)throw Ht;const{error:sn}=await Re.auth.mfa.verify({factorId:xe,challengeId:wt.id,code:Oe});if(sn)throw sn;ee(!0),Ve("enabled")}catch{Ee("Invalid code. Please try again."),Ve("enrolling")}},disabled:Oe.length!==6,children:"Verify"}),b.jsx("button",{className:"btn btn-secondary w-fit",onClick:async()=>{Ve("idle"),Z(""),Ae(""),Pe(""),Ee("");try{const{data:wt}=await Re.auth.mfa.listFactors();if(wt!=null&&wt.all)for(const Ht of wt.all)Ht.factor_type==="totp"&&Ht.status!=="verified"&&await Re.auth.mfa.unenroll({factorId:Ht.id})}catch{}},children:"Cancel"})]}),Le&&b.jsx("span",{className:"text-red-600 text-sm",children:Le})]}):b.jsx("button",{className:"btn btn-primary w-fit",onClick:async()=>{Ve("enrolling"),Ee(""),Z(""),Ae(""),Pe("");try{const{data:wt}=await Re.auth.mfa.listFactors();if(wt!=null&&wt.all)for(const Ht of wt.all)Ht.factor_type==="totp"&&Ht.status!=="verified"&&await Re.auth.mfa.unenroll({factorId:Ht.id})}catch{}try{const{data:wt,error:Ht}=await Re.auth.mfa.enroll({factorType:"totp"});if(Ht)throw Ht;Z(wt.totp.qr_code),Ae(wt.id)}catch{Ee("Failed to start 2FA enrollment."),Ve("idle")}},children:"Set up Two-Factor Authentication"})]})]})]}),b.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[b.jsx("div",{className:"flex items-center justify-between mb-4",children:b.jsxs("div",{className:"flex items-center",children:[b.jsx(U8,{className:"h-6 w-6 text-gray-400 mr-2"}),b.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Notification Preferences"})]})}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"EIT Connection Requests"}),b.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when an EIT requests to connect with you"})]}),b.jsx(Kh,{checked:we,onChange:Ie,className:`${we?"bg-teal-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2`,children:b.jsx("span",{className:`${we?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Skill Validation Requests"}),b.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when an EIT requests skill validation"})]}),b.jsx(Kh,{checked:ze,onChange:be,className:`${ze?"bg-teal-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2`,children:b.jsx("span",{className:`${ze?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"SAO Feedback"}),b.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when you receive new SAO feedback requests"})]}),b.jsx(Kh,{checked:G,onChange:_e,className:`${G?"bg-teal-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2`,children:b.jsx("span",{className:`${G?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Weekly Digest"}),b.jsxs("p",{className:"text-sm text-gray-500",children:["Receive a weekly report on your EITs' progress and activities (",o,")"]})]}),b.jsx(Kh,{checked:Ce,onChange:Se,className:`${Ce?"bg-teal-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2`,children:b.jsx("span",{className:`${Ce?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]})]})]}),b.jsxs("section",{className:"card p-6",children:[b.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[b.jsx($8,{})," EIT Connections"]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-3",children:"Current Connections"}),Q.length===0?b.jsx("div",{className:"text-slate-400",children:"No active EIT connections."}):b.jsx("ul",{className:"divide-y divide-slate-200",children:Q.map(wt=>b.jsxs("li",{className:"py-2 flex flex-col md:flex-row md:items-center md:justify-between",children:[b.jsx("span",{className:"font-medium text-slate-800",children:wt.full_name}),b.jsx("span",{className:"text-slate-500 text-sm",children:wt.email})]},wt.id))})]}),b.jsx("div",{className:"border-t border-slate-200 my-4"}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-3",children:"Connect with a New EIT"}),qt==="free"&&Q.length>=1&&b.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded text-yellow-900 font-semibold text-center",children:"You have reached your EIT connection limit for the Free plan. Upgrade to Enterprise to connect with more EITs."}),b.jsxs("form",{className:"flex flex-col md:flex-row gap-4 items-start md:items-end",onSubmit:async wt=>{if(wt.preventDefault(),ce("idle"),Y(""),!!$){if(qt==="free"&&Q.length>=1){ce("error"),Y("You have reached your EIT connection limit for the Free plan. Please upgrade to Enterprise to connect with more EITs.");return}m(!0);try{const{data:Ht}=await Re.from("eit_profiles").select("id, email, full_name").eq("email",$).single();if(!Ht){ce("notfound"),Y("No EIT found with that email."),m(!1);return}const{data:sn}=await Re.from("supervisor_eit_relationships").select("id, status").eq("supervisor_id",n==null?void 0:n.id).eq("eit_id",Ht.id).maybeSingle();if(sn&&sn.status==="pending"){ce("pending"),Y("A request is already pending for this EIT."),m(!1);return}if(sn&&sn.status==="active"){ce("already"),Y("This EIT is already connected."),m(!1);return}const{error:Wn}=await Re.from("supervisor_eit_relationships").upsert({supervisor_id:n==null?void 0:n.id,eit_id:Ht.id,status:"pending",created_at:new Date().toISOString(),updated_at:new Date().toISOString()});if(Wn)throw Wn;ce("success"),Y("Request sent! The EIT will see it in their dashboard."),De("")}catch(Ht){console.error(Ht),ce("error"),Y("Failed to send request. Please try again.")}finally{m(!1)}}},children:[b.jsxs("div",{className:"flex-1 w-full",children:[b.jsx("label",{htmlFor:"eitEmail",className:"label",children:"EIT Email"}),b.jsx("input",{type:"email",id:"eitEmail",value:$,onChange:wt=>De(wt.target.value),className:"input w-full",placeholder:"Enter EIT's email",required:!0,disabled:qt==="free"&&Q.length>=1})]}),b.jsx("button",{type:"submit",className:"btn btn-primary whitespace-nowrap",disabled:h||qt==="free"&&Q.length>=1,children:h?"Sending...":"Send Request"})]}),X&&b.jsx("div",{className:`mt-3 text-sm p-2 rounded-md ${ie==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:X})]})]})]}),b.jsxs("section",{className:"card p-6",children:[b.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[b.jsx(gZ,{})," Appearance"]}),b.jsx("p",{className:"text-slate-500 text-sm",children:"Coming soon: Switch between light and dark mode."})]}),b.jsxs("div",{className:"pt-8",children:[b.jsxs("div",{className:"mb-6 text-center",children:[b.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-2",children:"Choose Your Plan"}),b.jsx("p",{className:"text-gray-600 text-md max-w-2xl mx-auto",children:"Select the plan that best fits your needs"})]}),b.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[b.jsxs("div",{className:`border ${qt==="free"?"border-blue-500":"border-gray-200"} rounded-2xl p-8 bg-gradient-to-br from-blue-50 to-white flex flex-col items-center shadow-sm`,children:[b.jsx("h3",{className:"text-2xl font-bold text-blue-900 mb-2",children:"Free"}),b.jsx("p",{className:"text-5xl font-extrabold text-blue-800 mb-4",children:"$0"}),b.jsxs("ul",{className:"mb-6 w-full space-y-3",children:[b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"Up to 5 documents"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"Up to 5 SAOs"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"Connect with 1 EIT"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Standard support"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-red-500 mr-2",children:"✗"})," AI Features"]})]}),qt==="free"?b.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 px-4 py-2 rounded-full font-semibold text-sm shadow",children:"Current Plan"}):b.jsx("button",{onClick:()=>window.location.href="mailto:contact@accreda.com?subject=Downgrade to Free Plan",className:"inline-block bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-full font-semibold text-sm shadow transition-colors",children:"Contact to Downgrade"})]}),b.jsxs("div",{className:`border ${qt==="enterprise"?"border-purple-500":"border-gray-200"} rounded-2xl p-8 bg-gradient-to-br from-purple-50 to-white flex flex-col items-center shadow-sm`,children:[b.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-2",children:"Enterprise"}),b.jsx("p",{className:"text-base font-semibold text-purple-800 mb-4",children:"Custom Pricing"}),b.jsxs("ul",{className:"mb-6 w-full space-y-3",children:[b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Unlimited documents"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Unlimited SAOs"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Unlimited EIT connections"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Priority support"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," AI Features"]}),b.jsxs("li",{className:"flex items-center text-gray-700",children:[b.jsx("span",{className:"text-green-500 mr-2",children:"✓"})," Dedicated account manager"]})]}),qt==="enterprise"?b.jsx("span",{className:"inline-block bg-purple-100 text-purple-800 px-4 py-2 rounded-full font-semibold text-sm shadow",children:"Current Plan"}):b.jsx("button",{onClick:()=>qe(!0),className:"inline-block bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-full font-semibold text-sm shadow transition-colors",children:"Contact Us"})]})]})]}),He&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full relative",children:[b.jsx("button",{className:"absolute top-2 right-2 text-slate-400 hover:text-slate-600",onClick:()=>{qe(!1),mn(!1),bt(null)},"aria-label":"Close",children:"×"}),b.jsx("h2",{className:"text-xl font-bold mb-4 text-purple-800",children:"Enterprise Plan Inquiry"}),Yt?b.jsx("div",{className:"p-3 bg-green-50 text-green-700 rounded-md text-sm mb-4",children:"Your inquiry has been sent successfully. We'll get back to you soon!"}):b.jsxs("form",{onSubmit:async wt=>{wt.preventDefault(),Pt(!0),bt(null),mn(!1);try{const Ht=await fetch("https://bbixvnkqroskholbxkgj.supabase.co/functions/v1/send-support-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU"},body:JSON.stringify({email:ke,subject:"Enterprise Plan Inquiry",message:`Name: ${Fe}
Corporation: ${Ue}

${nt}`,issueType:"enterprise",mode:"help"})}),sn=await Ht.json();if(!Ht.ok)throw new Error(sn.error||"Failed to send message");mn(!0),Te(""),le(""),et(""),ct("")}catch(Ht){bt(Ht instanceof Error?Ht.message:"Failed to send message. Please try again later.")}finally{Pt(!1)}},className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"contactName",className:"label",children:"Full Name"}),b.jsx("input",{type:"text",id:"contactName",value:Fe,onChange:wt=>Te(wt.target.value),className:"input",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"contactEmail",className:"label",children:"Email Address"}),b.jsx("input",{type:"email",id:"contactEmail",value:ke,onChange:wt=>le(wt.target.value),className:"input",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"contactCorporation",className:"label",children:"Organization"}),b.jsx("input",{type:"text",id:"contactCorporation",value:Ue,onChange:wt=>et(wt.target.value),className:"input",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"contactMessage",className:"label",children:"Message"}),b.jsx("textarea",{id:"contactMessage",value:nt,onChange:wt=>ct(wt.target.value),className:"input h-32",required:!0,placeholder:"Tell us about your needs and how we can help..."})]}),Bt&&b.jsx("div",{className:"p-3 bg-red-50 text-red-700 rounded-md text-sm",children:Bt}),b.jsxs("div",{className:"flex justify-end gap-2",children:[b.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{qe(!1),mn(!1),bt(null)},disabled:ht,children:"Cancel"}),b.jsx("button",{type:"submit",className:"btn btn-primary",disabled:ht,children:ht?"Sending...":"Send Message"})]})]})]})}),b.jsxs("section",{className:"card p-6 border-red-200",children:[b.jsxs("h2",{className:"text-lg font-semibold text-red-600 flex items-center gap-2 mb-2",children:[b.jsx(D0,{})," Danger Zone"]}),b.jsx("button",{className:"btn btn-danger",children:"Delete Account"}),b.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"This action is irreversible. Your data will be permanently deleted."})]}),g.text&&b.jsx("div",{className:`fixed bottom-4 right-4 p-4 rounded-md z-50 ${g.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:g.text})]})},uTe=()=>{const[n,e]=H.useState(""),[i,r]=H.useState(""),[o,l]=H.useState(""),[c,u]=H.useState(!1),[h,m]=H.useState(null),[g,y]=H.useState(!1),[v,_]=H.useState(null),[A,S]=H.useState("general"),[C,T]=H.useState("help"),N=async F=>{F.preventDefault(),u(!0),m(null),y(!1);try{const U=await fetch("https://bbixvnkqroskholbxkgj.supabase.co/functions/v1/send-support-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU"},body:JSON.stringify({email:n,subject:i,message:o,issueType:A,mode:C,userType:"supervisor"})}),V=await U.json();if(!U.ok)throw new Error(V.error||"Failed to send message");y(!0),e(""),r(""),l(""),S("general")}catch(U){m(U instanceof Error?U.message:"Failed to send message. Please try again later."),console.error("Error sending support message:",U)}finally{u(!1)}},j=[{id:"validation",question:"How do I validate EIT skills?",answer:"To validate an EIT's skills, navigate to the Validation Requests section. Here you can review their self-assessments and supporting experiences. For each skill, you can provide a score and feedback based on the evidence presented. Make sure to thoroughly review their documented experiences before making your assessment."},{id:"team",question:"How do I manage my EIT team?",answer:"The Team section allows you to view all your connected EITs, their progress, and pending requests. You can accept new EIT connections, view individual progress, and access detailed skill assessments for each team member. Regular check-ins and feedback are essential for effective team management."},{id:"reviews",question:"What should I look for in experience reviews?",answer:"When reviewing experiences, focus on the quality of the Situation-Action-Outcome (SAO) documentation. Look for clear descriptions of the situation, specific actions taken, and measurable outcomes. The experience should demonstrate clear competency in the associated skills and show professional growth."},{id:"progress",question:"How do I track team progress?",answer:"The Dashboard provides an overview of your team's progress, including completed skills, documented experiences, and validation status. You can view individual progress for each EIT and identify areas that need attention or additional support."},{id:"guidance",question:"How can I provide effective guidance?",answer:"Effective guidance involves regular communication, constructive feedback, and clear expectations. Use the platform's messaging features to maintain open communication, provide timely feedback on submissions, and help EITs understand how to improve their documentation and skill assessments."}],O=[{title:"Supervisor Guide",description:"Comprehensive guide to supervising EITs and using the platform effectively",icon:b.jsx(Z1,{size:20}),link:"/resources/supervisor-guide"},{title:"Validation Guidelines",description:"Best practices for validating EIT skills and experiences",icon:b.jsx(jm,{size:20}),link:"/resources/validation-guidelines"},{title:"Team Management",description:"Tips and strategies for effective EIT team management",icon:b.jsx(WS,{size:20}),link:"/resources/team-management"}];return b.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-8",children:[b.jsxs("div",{className:"text-center mb-8",children:[b.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Help & Support"}),b.jsx("p",{className:"text-slate-500 mt-2 text-lg",children:"Get help with managing and supporting your EIT team"}),b.jsx("div",{className:"mt-6 flex justify-center",children:b.jsxs("div",{className:"inline-flex rounded-lg border border-slate-200 p-1 bg-white",children:[b.jsxs("button",{onClick:()=>T("help"),className:`px-4 py-2 rounded-md text-sm font-medium flex items-center gap-2 ${C==="help"?"bg-teal-50 text-teal-700":"text-slate-600 hover:text-slate-900"}`,children:[b.jsx(j1,{size:16}),"Help"]}),b.jsxs("button",{onClick:()=>T("feedback"),className:`px-4 py-2 rounded-md text-sm font-medium flex items-center gap-2 ${C==="feedback"?"bg-teal-50 text-teal-700":"text-slate-600 hover:text-slate-900"}`,children:[b.jsx(T0,{size:16}),"Feedback"]})]})})]}),C==="help"?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"bg-teal-50 rounded-lg p-6 mb-8",children:[b.jsx("h2",{className:"text-xl font-semibold text-teal-800 mb-4",children:"Quick Access"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[b.jsxs("a",{href:"/dashboard/supervisor/team",className:"bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[b.jsx("h3",{className:"font-medium text-teal-700",children:"Team Management"}),b.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"View and manage your EIT team members"})]}),b.jsxs("a",{href:"/dashboard/supervisor/validation-requests",className:"bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[b.jsx("h3",{className:"font-medium text-teal-700",children:"Validation Requests"}),b.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Review and validate EIT skills and experiences"})]}),b.jsxs("a",{href:"/dashboard/supervisor/reviews",className:"bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[b.jsx("h3",{className:"font-medium text-teal-700",children:"Experience Reviews"}),b.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Review and provide feedback on EIT experiences"})]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[b.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Contact Support"}),b.jsxs("form",{onSubmit:N,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-1",children:"Your Email"}),b.jsx("input",{type:"email",id:"email",value:n,onChange:F=>e(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter your email",required:!0,disabled:c})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"issueType",className:"block text-sm font-medium text-slate-700 mb-1",children:"Issue Type"}),b.jsxs("select",{id:"issueType",value:A,onChange:F=>S(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",required:!0,disabled:c,children:[b.jsx("option",{value:"general",children:"General Inquiry"}),b.jsx("option",{value:"technical",children:"Technical Issue"}),b.jsx("option",{value:"validation",children:"Validation Process"}),b.jsx("option",{value:"team",children:"Team Management"}),b.jsx("option",{value:"other",children:"Other"})]})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-slate-700 mb-1",children:"Subject"}),b.jsx("input",{type:"text",id:"subject",value:i,onChange:F=>r(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"What's your question about?",required:!0,disabled:c})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-slate-700 mb-1",children:"Message"}),b.jsx("textarea",{id:"message",value:o,onChange:F=>l(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 min-h-[150px]",placeholder:"Describe your issue or question...",required:!0,disabled:c})]}),h&&b.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-md text-sm flex items-center gap-2",children:[b.jsx(C0,{size:16}),h]}),g&&b.jsx("div",{className:"p-3 bg-green-50 text-green-700 rounded-md text-sm",children:"Your message has been sent successfully. We'll get back to you soon!"}),b.jsx("button",{type:"submit",className:"btn btn-primary w-full flex items-center justify-center gap-2",disabled:c,children:c?b.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):b.jsxs(b.Fragment,{children:[b.jsx(q5,{size:18}),"Send Message"]})})]})]}),b.jsxs("div",{className:"space-y-8",children:[b.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Frequently Asked Questions"}),b.jsx("div",{className:"space-y-4",children:j.map(F=>b.jsxs("div",{className:"border-b border-slate-200 last:border-0 pb-4 last:pb-0",children:[b.jsxs("button",{className:"w-full flex items-center justify-between text-left",onClick:()=>_(v===F.id?null:F.id),children:[b.jsx("h3",{className:"font-medium text-slate-900",children:F.question}),v===F.id?b.jsx(L8,{size:20}):b.jsx(VS,{size:20})]}),v===F.id&&b.jsx("p",{className:"text-sm text-slate-600 mt-2",children:F.answer})]},F.id))})]}),b.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Helpful Resources"}),b.jsx("div",{className:"space-y-4",children:O.map((F,U)=>b.jsxs("a",{href:F.link,className:"flex items-start gap-3 p-3 rounded-lg hover:bg-slate-50 transition-colors",children:[b.jsx("div",{className:"text-teal-600 mt-1",children:F.icon}),b.jsxs("div",{children:[b.jsx("h3",{className:"font-medium text-slate-900",children:F.title}),b.jsx("p",{className:"text-sm text-slate-600 mt-1",children:F.description})]}),b.jsx(B8,{size:16,className:"text-slate-400 ml-auto mt-1"})]},U))})]})]})]})]}):b.jsx("div",{className:"max-w-2xl mx-auto",children:b.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Share Your Feedback"}),b.jsx("p",{className:"text-slate-600 mb-6",children:"We value your feedback as a supervisor! Let us know what you think about the platform, what's working well for your team, and what we can improve to better support your role."}),b.jsxs("form",{onSubmit:N,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-1",children:"Your Email"}),b.jsx("input",{type:"email",id:"email",value:n,onChange:F=>e(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter your email",required:!0,disabled:c})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-slate-700 mb-1",children:"Subject"}),b.jsx("input",{type:"text",id:"subject",value:i,onChange:F=>r(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Brief summary of your feedback",required:!0,disabled:c})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-slate-700 mb-1",children:"Your Feedback"}),b.jsx("textarea",{id:"message",value:o,onChange:F=>l(F.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 min-h-[200px]",placeholder:"Share your thoughts, suggestions, or concerns...",required:!0,disabled:c})]}),h&&b.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-md text-sm flex items-center gap-2",children:[b.jsx(C0,{size:16}),h]}),g&&b.jsx("div",{className:"p-3 bg-green-50 text-green-700 rounded-md text-sm",children:"Thank you for your feedback! We appreciate your input as a supervisor."}),b.jsx("button",{type:"submit",className:"btn btn-primary w-full flex items-center justify-center gap-2",disabled:c,children:c?b.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):b.jsxs(b.Fragment,{children:[b.jsx(q5,{size:18}),"Submit Feedback"]})})]})]})})]})};class dTe{async getTeamMembers(){return[]}async getPendingReviews(){return[]}async getTeamPerformance(){return[]}async getSupervisorStats(){return{totalTeamMembers:0,pendingReviews:0,completedReviews:0,averageTeamPerformance:0}}async submitReview(e,i,r){}async updateTeamMember(e,i){}async getCategoryAverages(e){const{data:i,error:r}=await(await la(async()=>{const{supabase:o}=await Promise.resolve().then(()=>AD);return{supabase:o}},[])).supabase.rpc("get_supervisor_category_averages",{supervisor_uuid:e});if(r)throw new Error(`Supabase error: ${r.message}`);return i}}const hTe=new dTe,fTe=()=>{const[n,e]=H.useState([]),[i,r]=H.useState(!0),[o,l]=H.useState(!1),c=ns(),u=async(y,v,_=5)=>{try{console.log("🔄 Starting fetchActivities for supervisor:",y),r(!0);const{data:A,error:S}=await Re.from("skill_validations").select("id, validated_at, feedback, eit_id, skill_id, score, eit_profiles (full_name), skills (name)").eq("validator_id",y).order("validated_at",{ascending:!1}).limit(_);if(S)throw S;const{data:C,error:T}=await Re.from("sao_feedback").select("id, sao_id, feedback, status, updated_at, sao:saos (title), eit_profiles (full_name)").eq("supervisor_id",y).order("updated_at",{ascending:!1}).limit(_);if(T)throw T;const{data:N,error:j}=await Re.from("validators").select("id, updated_at, status, skill_id, eit_id, description, score, skills (name), eit_profiles (full_name)").eq("email",v).neq("status","pending").order("updated_at",{ascending:!1}).limit(_);if(j)throw j;const O=(U,V,B)=>Array.isArray(U)&&U.length>0&&typeof U[0][V]=="string"?U[0][V]:U&&typeof U[V]=="string"?U[V]:B,F=[...(A||[]).map(U=>{const V=O(U.skills,"name",U.skill_id),B=O(U.eit_profiles,"full_name",U.eit_id);return{id:U.id,type:"validation",title:`Validated "${V}" for ${B}`,timestamp:U.validated_at?String(U.validated_at):"",eitName:B,eitId:U.eit_id,status:U.score?`Score: ${U.score}`:void 0}}),...(C||[]).map(U=>{const V=O(U.sao,"title",U.sao_id),B=O(U.eit_profiles,"full_name","");return{id:U.id,type:"feedback",title:`Provided SAO feedback for "${V}"`,timestamp:U.updated_at?String(U.updated_at):"",eitName:B,eitId:void 0,status:U.status}}),...(N||[]).map(U=>{const V=O(U.skills,"name",U.skill_id),B=O(U.eit_profiles,"full_name",U.eit_id);return{id:U.id,type:"validation",title:`Scored "${V}" for ${B}`,timestamp:U.updated_at?String(U.updated_at):"",eitName:B,eitId:U.eit_id,status:U.score?`Score: ${U.score}`:U.status}})].sort((U,V)=>new Date(V.timestamp).getTime()-new Date(U.timestamp).getTime()).slice(0,_);e(F)}catch(A){console.error("❌ Error in fetchActivities:",A),e([])}finally{r(!1)}};H.useEffect(()=>((async()=>{try{const{data:{user:v}}=await Re.auth.getUser();if(!v){console.error("❌ No authenticated user found");return}await u(v.id,v.email||"")}catch(v){console.error("❌ Error setting up subscriptions:",v)}})(),()=>{}),[]);const h={approval:b.jsx(jm,{size:16,className:"text-green-500"}),feedback:b.jsx(T0,{size:16,className:"text-blue-500"}),validation:b.jsx(kye,{size:16,className:"text-purple-500"}),review:b.jsx(S6,{size:16,className:"text-amber-500"}),comment:b.jsx(T0,{size:16,className:"text-indigo-500"})},m=y=>{const v=new Date(y),A=new Date().getTime()-v.getTime(),S=Math.floor(A/(1e3*60)),C=Math.floor(A/(1e3*60*60)),T=Math.floor(A/(1e3*60*60*24));return S<5?"Just now":S<30?`${Math.floor(S/5)*5} minutes ago`:C<1?"30 minutes ago":C===1?"1 hour ago":C<24?`${C} hours ago`:T===1?"1 day ago":`${T} days ago`},g=y=>{y.type==="feedback"?c(`/supervisor/saos?saoId=${y.id}`):y.type==="validation"?c(`/supervisor/validations?validationId=${y.id}`):y.type==="review"&&c(`/supervisor/reviews?experienceId=${y.id}`)};return i?b.jsx("div",{className:"space-y-4",children:[...Array(3)].map((y,v)=>b.jsxs("div",{className:"flex items-start space-x-3 animate-pulse",children:[b.jsx("div",{className:"p-2 rounded-full bg-slate-200 mt-0.5 w-8 h-8"}),b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"h-4 bg-slate-200 rounded w-3/4 mb-2"}),b.jsx("div",{className:"h-3 bg-slate-200 rounded w-1/4"})]})]},v))}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"space-y-4",children:[n.length>0?n.slice(0,5).map(y=>b.jsxs("div",{className:"flex items-start space-x-3",children:[b.jsx("div",{className:"p-2 rounded-full bg-slate-100 mt-0.5",children:h[y.type]}),b.jsxs("div",{className:"flex-1",children:[b.jsx("p",{className:"text-sm text-slate-800",children:y.title}),b.jsxs("div",{className:"flex items-center mt-1",children:[y.eitName&&b.jsx("span",{className:"text-xs font-medium text-slate-700 mr-2",children:y.eitName}),b.jsx("span",{className:"text-xs text-slate-500",children:m(y.timestamp)})]})]}),b.jsx("button",{className:"ml-2 px-3 py-1 text-xs bg-amber-100 text-amber-700 hover:bg-amber-200",onClick:()=>g(y),children:"View"})]},y.id)):b.jsx("div",{className:"text-center py-4 text-slate-500",children:"No recent activities"}),b.jsx("button",{className:"w-full text-center py-2 text-lg text-teal-600 hover:underline font-medium",onClick:()=>c("/supervisor/activities"),children:"View more activities"})]}),o&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl mx-4 max-h-[80vh] overflow-hidden",children:[b.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[b.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Recent Activities"}),b.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-slate-100 rounded-lg",children:b.jsx(As,{size:20,className:"text-slate-500"})})]}),b.jsx("div",{className:"p-4 overflow-y-auto max-h-[calc(80vh-4rem)]",children:b.jsx("div",{className:"space-y-4",children:n.map(y=>b.jsxs("div",{className:"flex items-start space-x-3",children:[b.jsx("div",{className:"p-2 rounded-full bg-slate-100 mt-0.5",children:h[y.type]}),b.jsxs("div",{className:"flex-1",children:[b.jsx("p",{className:"text-sm text-slate-800",children:y.title}),b.jsxs("div",{className:"flex items-center mt-1",children:[y.eitName&&b.jsx("span",{className:"text-xs font-medium text-slate-700 mr-2",children:y.eitName}),b.jsx("span",{className:"text-xs text-slate-500",children:m(y.timestamp)})]})]}),b.jsx("button",{className:"ml-2 px-3 py-1 text-xs bg-amber-100 text-amber-700 hover:bg-amber-200",onClick:()=>{g(y),l(!1)},children:"View"})]},y.id))})})]})})]})},pTe=()=>{const[n,e]=H.useState(!1),[i,r]=H.useState([]),[o,l]=H.useState(!0);H.useEffect(()=>{(async()=>{const m=new Date,g=m.getDay();if(g===1||g===2&&c(m)){const v=localStorage.getItem("lastDigestShown"),_=m.toDateString();v!==_&&(await u(),e(!0),localStorage.setItem("lastDigestShown",_))}})()},[]);const c=h=>{const m=new Date(h);m.setDate(m.getDate()-1);const g=m.getMonth(),y=m.getDate();return[{month:0,day:1},{month:0,day:15},{month:1,day:19},{month:4,day:27},{month:6,day:4},{month:8,day:2},{month:9,day:14},{month:10,day:11},{month:11,day:25}].some(_=>_.month===g&&_.day===y)},u=async()=>{try{const{data:{user:h}}=await Re.auth.getUser();if(!h)return;const{data:m,error:g}=await Re.from("supervisor_eit_relationships").select(`
          eit_profiles (
            id,
            full_name,
            email,
            start_date,
            target_date
          )
        `).eq("supervisor_id",h.id).eq("status","active");if(g)throw g;const y=await Promise.all(m.map(async v=>{const _=Array.isArray(v.eit_profiles)?v.eit_profiles[0]:v.eit_profiles;if(!_)return null;const{data:A}=await Re.from("skill_validations").select(`
              score,
              feedback,
              validated_at,
              skills (
                name
              )
            `).eq("eit_id",_.id).gte("validated_at",new Date(Date.now()-7*24*60*60*1e3).toISOString()).order("validated_at",{ascending:!1}),S=(A||[]).map(C=>({...C,skills:Array.isArray(C.skills)?C.skills[0]:C.skills}));return{eit:_,activities:S}}));r(y.filter(Boolean))}catch(h){console.error("Error fetching EIT activities:",h)}finally{l(!1)}};return n?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:b.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:b.jsxs("div",{className:"p-6",children:[b.jsxs("div",{className:"flex items-center justify-between mb-6",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(q2,{className:"h-6 w-6 text-teal-600"}),b.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Weekly EIT Progress Report"})]}),b.jsx("button",{onClick:()=>e(!1),className:"text-gray-400 hover:text-gray-500",children:b.jsx(As,{className:"h-6 w-6"})})]}),o?b.jsxs("div",{className:"text-center py-8",children:[b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 mx-auto"}),b.jsx("p",{className:"mt-4 text-gray-600",children:"Loading weekly report..."})]}):b.jsx("div",{className:"space-y-6",children:i.map(({eit:h,activities:m})=>b.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[b.jsxs("div",{className:"flex justify-between items-start mb-4",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:h.full_name}),b.jsx("p",{className:"text-gray-500",children:h.email})]}),b.jsxs("div",{className:"text-right",children:[b.jsxs("p",{className:"text-sm text-gray-600",children:["Program Start: ",new Date(h.start_date).toLocaleDateString()]}),b.jsxs("p",{className:"text-sm text-gray-600",children:["Target: ",new Date(h.target_date).toLocaleDateString()]})]})]}),b.jsxs("div",{className:"mt-4",children:[b.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-3",children:"Recent Activities"}),m.length>0?b.jsx("div",{className:"space-y-3",children:m.map((g,y)=>b.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsx("h5",{className:"font-medium text-gray-900",children:g.skills.name}),b.jsx("p",{className:"text-sm text-gray-500",children:new Date(g.validated_at).toLocaleDateString()})]}),b.jsxs("div",{className:"bg-teal-100 text-teal-800 px-3 py-1 rounded-full text-sm font-medium",children:["Score: ",g.score,"/5"]})]}),g.feedback&&b.jsx("p",{className:"mt-2 text-gray-600 text-sm",children:g.feedback})]},y))}):b.jsx("p",{className:"text-gray-500 italic",children:"No recent activities"})]})]},h.id))})]})})}):null},mTe=()=>{const{appLoaded:n}=QX(),[e,i]=H.useState(!0),[r,o]=H.useState([]),[l,c]=H.useState([]),[u,h]=H.useState({totalEITs:0,pendingReviews:0,completedReviews:0,averageTeamProgress:0}),[m,g]=H.useState("Supervisor"),[y,v]=H.useState(new Date().toISOString()),[_,A]=H.useState(!1),[S,C]=H.useState(0),[T,N]=H.useState(0),[j,O]=H.useState({}),[F,U]=H.useState([]),V=async()=>{try{A(!0);const{data:{user:me}}=await Re.auth.getUser();if(!me)return;const{data:Q}=await Re.from("supervisor_profiles").select("full_name").eq("id",me.id).single();Q&&Q.full_name&&g(Q.full_name);const{data:ge,error:$}=await Re.from("supervisor_eit_relationships").select(`
          eit_id,
          eit_profiles (
            id,
            full_name,
            email
          )
        `).eq("supervisor_id",me.id).eq("status","active");if($)throw $;const De=ge?ge.map(X=>X.eit_profiles):[];console.log("DEBUG relationships:",ge),console.log("DEBUG eitData:",De),o(De);const{count:ie}=await Re.from("validators").select("*",{count:"exact",head:!0}).eq("email",me.email).eq("status","pending");C(ie||0);const{count:ce}=await Re.from("sao_feedback").select("*",{count:"exact",head:!0}).eq("supervisor_id",me.id).eq("status","pending");if(N(ce||0),De.length>0){const{data:X,error:Y}=await Re.from("experiences").select("*").in("eit_id",De.map(xe=>xe.id)).eq("supervisor_approved",!1);if(Y)throw Y;const{data:ne,error:ee}=await Re.from("experiences").select("*").in("eit_id",De.map(xe=>xe.id)).eq("supervisor_approved",!0);if(ee)throw ee;h({totalEITs:De.length,pendingReviews:S+T,completedReviews:(ne==null?void 0:ne.length)||0,averageTeamProgress:0});const{data:ue,error:Z}=await Re.from("experiences").select("*").in("eit_id",De.map(xe=>xe.id)).order("created_at",{ascending:!1}).limit(5);if(Z)throw Z;c(ue||[])}else h({totalEITs:0,pendingReviews:0,completedReviews:0,averageTeamProgress:0}),c([]);try{const X=await hTe.getCategoryAverages(me.id);U(X)}catch(X){console.error("Error fetching category averages:",X),U([])}v(new Date().toISOString())}catch(me){console.error("Error fetching dashboard data:",me)}finally{i(!1),A(!1)}},B=async me=>{const Q=await Promise.all(me.map(async ge=>{const[$,De,ie]=await Promise.all([Re.from("eit_skills").select("id",{count:"exact",head:!0}).eq("eit_id",ge).not("rank","is",null),Re.from("experiences").select("id",{count:"exact",head:!0}).eq("eit_id",ge),Re.from("experiences").select("id",{count:"exact",head:!0}).eq("eit_id",ge).eq("supervisor_approved",!0)]),ce=$.count||0,X=De.count||0,Y=ie.count||0,ne=ce/22,ee=X/24,ue=Y/24,Z=Math.round((ne+ee+ue)/3*100);return[ge,Z]}));return O(Object.fromEntries(Q)),Q};H.useEffect(()=>{if(r.length>0){B(r.map(Q=>Q.id));const me=setInterval(()=>{B(r.map(Q=>Q.id))},3e4);return()=>clearInterval(me)}},[r]);const K=r.length>0?Math.round(r.reduce((me,Q)=>me+(j[Q.id]||0),0)/r.length):0;H.useEffect(()=>{V()},[]);const oe=me=>new Date(me).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return e&&n?b.jsx(cA,{}):b.jsxs("div",{className:"container mx-auto px-4 py-8",children:[b.jsx(pTe,{}),b.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[b.jsxs("div",{children:[b.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800 flex items-center gap-2",children:["Welcome back, ",m,"!",b.jsx("span",{className:"ml-2 px-2 py-0.5 rounded text-xs font-semibold bg-purple-100 text-purple-800",children:"SUPERVISOR"})]}),b.jsx("p",{className:"text-slate-500 mt-1",children:"Here's an overview of your team's progress"})]}),b.jsxs("div",{className:"flex items-center space-x-2 mt-4 md:mt-0",children:[b.jsxs("span",{className:"text-sm text-slate-500 flex items-center",children:[b.jsx(V0,{size:14,className:"mr-1"}),"Last updated: ",oe(y)]}),b.jsx("button",{className:`btn btn-primary ${_?"opacity-75 cursor-not-allowed":""}`,onClick:V,disabled:_,children:_?"Refreshing...":"Refresh"})]})]}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[b.jsxs("div",{className:"bg-white rounded-2xl shadow p-6 flex flex-col gap-4 min-w-[220px]",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("span",{className:"font-semibold text-lg text-slate-800",children:"Team Progress"}),b.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-bold bg-teal-50 text-teal-600",children:[K,"%"]})]}),b.jsx("div",{className:"w-full h-2 rounded bg-slate-100",children:b.jsx("div",{className:"h-full rounded bg-teal-500 transition-all duration-700",style:{width:`${K}%`}})}),b.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Average team completion rate"})]}),b.jsxs("div",{className:"bg-white rounded-2xl shadow p-6 flex flex-col gap-4 min-w-[220px]",children:[b.jsx("div",{className:"flex items-center justify-between",children:b.jsx("span",{className:"font-semibold text-lg text-slate-800",children:"Total EITs"})}),b.jsx("span",{className:"block text-3xl font-extrabold text-slate-900 leading-tight",children:u.totalEITs}),b.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"EITs under your supervision"})]}),b.jsxs("div",{className:"bg-white rounded-2xl shadow p-6 flex flex-col gap-4 min-w-[220px]",children:[b.jsx("div",{className:"flex items-center justify-between",children:b.jsx("span",{className:"font-semibold text-lg text-slate-800",children:"Pending Reviews"})}),b.jsx("span",{className:"block text-3xl font-extrabold text-slate-900 leading-tight",children:S+T}),b.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Validations: ",S,", SAOs: ",T]})]}),b.jsxs("div",{className:"bg-white rounded-2xl shadow p-6 flex flex-col gap-4 min-w-[220px]",children:[b.jsx("div",{className:"flex items-center justify-between",children:b.jsx("span",{className:"font-semibold text-lg text-slate-800",children:"Completed Reviews"})}),b.jsx("span",{className:"block text-3xl font-extrabold text-slate-900 leading-tight",children:u.completedReviews}),b.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Reviews completed"})]})]}),F.length>0&&b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mb-8",children:F.map(me=>{var Q;return b.jsxs("div",{className:"bg-white rounded-2xl shadow p-6 flex flex-col gap-2 min-w-[220px]",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("span",{className:"font-semibold text-lg text-slate-800",children:me.category}),b.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-bold bg-blue-50 text-blue-600",children:((Q=me.average_score)==null?void 0:Q.toFixed(2))??"0.00"})]}),b.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Avg. self-score (from ",me.num_eits," EIT",me.num_eits!==1?"s":"",")"]})]},me.category)})}),r.length>0&&b.jsx("div",{className:"card mb-8",children:b.jsxs("div",{className:"p-6",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Team Members"}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:r.map(me=>b.jsxs("div",{className:"border-b border-gray-200 pb-4 last:border-0",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),b.jsx("p",{className:"font-medium",children:me.full_name})]}),b.jsxs("div",{className:"mt-2",children:[b.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),b.jsx("p",{className:"font-medium",children:me.email})]})]},me.id))})]})}),b.jsx("div",{className:"bg-white rounded-2xl shadow-sm hover:shadow-md transition-shadow duration-300",children:b.jsxs("div",{className:"p-6",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4 text-[#2C3E50]",children:"Recent Activities"}),b.jsx(fTe,{})]})})]})},gTe=mTe;let Y4=!1;const bTe=()=>{var n,e,i,r,o,l,c,u;if(!Y4)try{Y4=!0,(e=(n=H2.getState()).clearState)==null||e.call(n),(r=(i=uf.getState()).clearState)==null||r.call(i),(l=(o=HS.getState()).clearState)==null||l.call(o),(u=(c=FZ.getState()).clearState)==null||u.call(c)}finally{Y4=!1}},yTe=()=>{const[n,e]=H.useState(!0),[i,r]=H.useState(null),[o,l]=H.useState(null),c=ns(),u=H.useCallback(async()=>{try{e(!0),r(null);const{data:{user:h},error:m}=await Re.auth.getUser();if(m)throw new Error(`Authentication error: ${m.message}`);if(!h)throw new Error("No authenticated user found");const[g,y]=await Promise.all([Re.from("eit_profiles").select("account_type").eq("id",h.id).single(),Re.from("supervisor_profiles").select("account_type").eq("id",h.id).single()]);if(g.error&&y.error)throw new Error("Failed to fetch user profiles");if(y.data)l("supervisor"),c("/dashboard/supervisor",{replace:!0});else if(g.data)l("eit"),c("/dashboard",{replace:!0});else throw new Error("No profile found for user")}catch(h){const m=h instanceof Error?h.message:"An unexpected error occurred";r(m),console.error("Error checking user role:",h),c("/login")}finally{e(!1)}},[c]);return H.useEffect(()=>{u();const{data:{subscription:h}}=Re.auth.onAuthStateChange(m=>{m==="SIGNED_OUT"?(bTe(),c("/login")):m==="SIGNED_IN"&&u()});return()=>{h.unsubscribe()}},[u,c]),n?b.jsx(cA,{}):i?b.jsx("div",{className:"flex items-center justify-center min-h-screen",children:b.jsxs("div",{className:"text-red-500 text-center",children:[b.jsxs("p",{children:["Error: ",i]}),b.jsx("button",{onClick:()=>c("/login"),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Return to Login"})]})}):null},DH=ac(n=>({loading:!1,startWriting:async()=>{n({loading:!0});try{const{data:e}=await Re.from("eit_skills").select("*").eq("status","completed"),i=await fetch("https://bbixvnkqroskholbxkgj.supabase.co/functions/v1/generate-essay",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU","Content-Type":"application/json"},body:JSON.stringify({skills:e,experiences:[]})});if(!i.ok)throw new Error("Failed to generate essay");const{essay:r}=await i.json();await Re.from("essays").insert({title:"AI Generated Essay",content:r,ai_generated:!0})}finally{n({loading:!1})}}}));class vTe extends or.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,i){}render(){return this.state.hasError?b.jsxs("div",{className:"p-8 text-center",children:[b.jsx("h2",{className:"text-2xl font-bold text-red-600",children:"Something went wrong."}),b.jsx("pre",{className:"mt-4 text-sm text-slate-700",children:String(this.state.error)})]}):this.props.children}}const NH=or.lazy(()=>la(()=>import("./ProgressCard-BwjYkweB.js"),[])),wTe=or.lazy(()=>la(()=>import("./RecentActivities-Dtfsoyff.js"),[]));or.lazy(()=>la(()=>import("./UpcomingDeadlines-CNA2MrM6.js"),[]));const xTe=or.lazy(()=>la(()=>import("./SkillsOverview-Z-fC2Q2e.js"),[])),_Te=()=>{ns();const{appLoaded:n}=QX(),[e,i]=H.useState(""),[r,o]=H.useState(null),{overallProgress:l,completedSkills:c,totalSkills:u,documentedExperiences:h,totalExperiences:m,supervisorApprovals:g,totalApprovals:y,lastUpdated:v,loading:_,updateProgress:A,initialize:S}=H2(),C=DH(Ae=>Ae.startWriting),T=DH(Ae=>Ae.loading),N=uf(Ae=>Ae.loadUserSkills),{saos:j,loading:O,loadUserSAOs:F}=HS(),[U,V]=H.useState(null),[B,K]=H.useState([]),[oe,me]=H.useState(!1);console.log("Google Client ID (from import.meta.env):","521009491275-0m5p9k9vm29fc1v6v91f9k25v4godaem.apps.googleusercontent.com");const[ge,$]=H.useState(!0),[De,ie]=H.useState(!1),[ce,X]=H.useState(null);H.useEffect(()=>{(async()=>{var Oe;try{const{data:{user:Pe}}=await Re.auth.getUser();if(!Pe)return;(Oe=Pe.user_metadata)!=null&&Oe.full_name&&i(Pe.user_metadata.full_name);const[Me,Ve,Le,Ee,we]=await Promise.all([Re.from("eit_profiles").select("id, start_date, target_date").eq("id",Pe.id).single(),Re.from("supervisor_profiles").select("id").eq("id",Pe.id).single(),N(),S(),j.length===0&&!O?F():Promise.resolve()]);Ve.data?o("supervisor"):Me.data&&o("eit"),X({eitProfile:Me.data,supervisorProfile:Ve.data})}catch(Pe){console.error("Error initializing dashboard data:",Pe)}finally{$(!1)}})()},[N,S,j.length,O,F]),H.useEffect(()=>{U&&(me(!0),fetch("https://www.googleapis.com/calendar/v3/calendars/primary/events?maxResults=5&orderBy=startTime&singleEvents=true&timeMin="+new Date().toISOString(),{headers:{Authorization:`Bearer ${U}`}}).then(Ae=>Ae.json()).then(Ae=>{K(Ae.items||[])}).catch(()=>K([])).finally(()=>me(!1)))},[U]);const Y=j.filter(Ae=>Ae.status==="complete"),ne=[{title:"Overall Progress",value:l,description:l>=75?"Excellent progress!":l>=50?"Good progress!":l>=25?"Keep going!":"Just getting started!",color:"teal"},{title:"Completed Skills",value:c,total:u,description:`${u-c} skills remaining to complete`,color:"blue"},{title:"Completed SAOs",value:Y.length,total:24,description:`${24-Y.length} SAOs remaining to complete`,color:"indigo"}];let ee=null,ue="teal",Z="";if(r==="eit"&&(ce!=null&&ce.eitProfile)){const{start_date:Ae,target_date:Oe}=ce.eitProfile;if(Ae&&Oe){const Pe=new Date,Me=new Date(Ae),Le=new Date(Oe).getTime()-Me.getTime(),Ee=Pe.getTime()-Me.getTime();let we=Math.max(0,Math.min(100,Math.round(Ee/Le*100)));ee=we;const ze=l-we;ze>0?(ue="teal",Z="You are ahead of schedule!"):ze>=-5?(ue="blue",Z="You are on track!"):(ue="purple",Z="You are behind schedule.")}}const xe=Ae=>new Date(Ae).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return ge&&n?b.jsx(cA,{}):b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[b.jsxs("div",{children:[b.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800 flex items-center gap-2",children:["Welcome back, ",e||"Engineer","!",r&&b.jsx("span",{className:`ml-2 px-2 py-0.5 rounded text-xs font-semibold
                  ${r==="eit"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:r==="eit"?"EIT":"Supervisor"})]}),b.jsx("p",{className:"text-slate-500 mt-1",children:r==="eit"?"Here's an overview of your EIT progress":"Here's an overview of your team's progress"})]}),b.jsxs("div",{className:"flex items-center space-x-2 mt-4 md:mt-0",children:[b.jsxs("span",{className:"text-sm text-slate-500 flex items-center",children:[b.jsx(V0,{size:14,className:"mr-1"}),"Last updated: ",xe(v)]}),b.jsx("button",{className:`btn btn-primary ${De?"opacity-75 cursor-not-allowed":""}`,onClick:async()=>{if(!De){ie(!0);try{await Promise.all([N(),A(!0),F()])}catch(Ae){console.error("Error refreshing dashboard:",Ae)}finally{ie(!1)}}},disabled:De,children:De?"Refreshing...":"Refresh"})]})]}),b.jsx(H.Suspense,{fallback:b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(3)].map((Ae,Oe)=>b.jsx("div",{className:"card animate-pulse h-32"},Oe))}),children:b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[b.jsx(NH,{title:"Overall Progress",value:l,total:100,description:r==="eit"&&ee!==null?`${Z} (Expected: ${ee}%)`:l>=75?"Excellent progress!":l>=50?"Good progress!":l>=25?"Keep going!":"Just getting started!",color:r==="eit"&&ee!==null?ue:"teal"}),ne.slice(1).map((Ae,Oe)=>b.jsx(NH,{...Ae},Oe))]})}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[b.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[b.jsxs("div",{className:"card",children:[b.jsx("div",{className:"flex justify-between items-center mb-4",children:b.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[b.jsx(q2,{size:18,className:"mr-2 text-teal-600"}),"Recent Activities"]})}),b.jsx(H.Suspense,{fallback:b.jsx("div",{className:"p-6 text-center text-slate-400",children:"Loading activities..."}),children:b.jsx(wTe,{})})]}),b.jsx("div",{className:"card",children:b.jsx("div",{className:"flex justify-between items-center mb-4",children:b.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[b.jsx(d3,{size:18,className:"mr-2 text-teal-600"}),"Upcoming Deadlines"]})})})]}),b.jsxs("div",{className:"space-y-6",children:[r==="eit"&&b.jsx(H.Suspense,{fallback:b.jsx("div",{className:"card animate-pulse h-32"}),children:b.jsx(xTe,{})}),b.jsxs("div",{className:"card border-2 border-teal-100 bg-teal-50/50",children:[b.jsx("h3",{className:"font-semibold text-teal-800 mb-2",children:"AI Writing Assistant"}),b.jsx("p",{className:"text-sm text-teal-700 mb-3",children:"Let our AI help you draft your next Self-Assessment Outcome (SAO) essay based on your documented experiences."}),b.jsx("button",{className:`btn btn-primary w-full ${T?"opacity-75 cursor-not-allowed":""}`,onClick:()=>C(),disabled:T,children:T?"Generating...":"Start Writing"})]})]})]})]})};function kTe(){return b.jsx(vTe,{children:b.jsx(_Te,{})})}const ETe=()=>{const[n,e]=H.useState(null),[i,r]=H.useState(!0),o=ns();return H.useEffect(()=>{(async()=>{r(!0);const{data:{user:c}}=await Re.auth.getUser();if(!c){o("/login");return}const{data:u}=await Re.from("supervisor_profiles").select("id").eq("id",c.id).single();u?o("/dashboard/supervisor",{replace:!0}):e("eit"),r(!1)})()},[o]),i?b.jsx(cA,{}):n==="eit"?b.jsx(kTe,{}):null},STe={"1.1 Regulations, Codes & Standards":"Demonstrates knowledge and application of relevant regulations, codes, standards, and safety requirements in engineering practice. This includes identifying which standards apply to a given project, ensuring compliance, and keeping up to date with changes in the regulatory environment. Example: Ensuring a design meets all applicable building codes and safety standards.","1.2 Technical & Design Constraints":"Understands and works within technical and design constraints, including limitations of materials, processes, and systems. Able to identify constraints early in the design process and adapt solutions accordingly. Example: Designing a bridge that meets both load requirements and material limitations.","1.3 Risk Management for Technical Work":"Identifies, assesses, and manages risks associated with technical work. This includes conducting risk assessments, implementing mitigation strategies, and monitoring risk throughout the project lifecycle. Example: Performing a hazard analysis for a new manufacturing process.","1.4 Application of Theory":"Applies engineering theory and principles to solve practical problems. Demonstrates the ability to use theoretical knowledge in real-world situations. Example: Using fluid dynamics equations to design a piping system.","1.5 Solution Techniques – Results Verification":"Selects and applies appropriate solution techniques and verifies results for accuracy and reliability. Example: Double-checking calculations and using simulation software to validate a design.","1.6 Safety in Design & Technical Work":"Prioritizes safety in all aspects of design and technical work. Identifies potential hazards and incorporates safety measures into engineering solutions. Example: Designing a machine with proper guarding to prevent operator injury.","1.7 Systems & Their Components":"Understands how systems and their components interact. Able to analyze and optimize system performance. Example: Evaluating the impact of a new component on an existing electrical system.","1.8 Project or Asset Life-Cycle Awareness":"Considers the entire life cycle of a project or asset, from conception to decommissioning. Example: Selecting materials that minimize maintenance costs over the lifespan of a product.","1.9 Quality Assurance":"Implements quality assurance processes to ensure deliverables meet required standards. Example: Developing and following a quality control checklist for a construction project.","1.10 Engineering Documentation":"Prepares clear, accurate, and comprehensive engineering documentation. Example: Writing detailed reports, specifications, and drawings that can be understood by others.","2.1 Oral Communication (English)":"Communicates effectively in spoken English with colleagues, clients, and stakeholders. Example: Leading a project meeting or presenting technical information to a non-technical audience.","2.2 Written Communication (English)":"Communicates effectively in written English, producing clear and concise reports, emails, and documentation. Example: Writing a technical report or project proposal.","2.3 Reading & Comprehension (English)":"Reads and comprehends technical documents, standards, and instructions in English. Example: Interpreting a complex engineering standard or technical manual.","3.1 Project Management Principles":"Applies project management principles to plan, execute, and close projects successfully. Example: Creating a project schedule, managing resources, and tracking progress.","3.2 Finances & Budget":"Manages project finances and budgets, including cost estimation, tracking, and reporting. Example: Preparing a project budget and monitoring expenses to stay within limits.","4.1 Promote Team Effectiveness & Resolve Conflict":"Demonstrates the ability to work effectively in teams, resolve conflicts, and promote collaboration. Example: Facilitating a team meeting to resolve technical disagreements and reach consensus.","5.1 Professional Accountability (Ethics, Liability, Limits)":"Understands and applies professional ethics, legal responsibilities, and limitations in engineering practice. Example: Making decisions that prioritize public safety and environmental protection while considering legal implications.","6.1 Protection of the Public Interest":"Prioritizes public safety, health, and welfare in engineering decisions and actions. Example: Ensuring a design meets all safety requirements and minimizes potential risks to the public.","6.2 Benefits of Engineering to the Public":"Understands and communicates how engineering solutions benefit society and improve quality of life. Example: Explaining how a new infrastructure project will improve community access and safety.","6.3 Role of Regulatory Bodies":"Understands the role and importance of regulatory bodies in engineering practice. Example: Working with building inspectors to ensure compliance with local regulations.","6.4 Application of Sustainability Principles":"Applies sustainability principles to engineering solutions, considering environmental, social, and economic impacts. Example: Designing a building with energy-efficient systems and sustainable materials.","6.5 Promotion of Sustainability":"Actively promotes and implements sustainable practices in engineering work. Example: Leading initiatives to reduce waste and energy consumption in manufacturing processes."},vie=H.memo(({skill:n,skillRef:e})=>{const[i,r]=H.useState(!1);return b.jsxs(b.Fragment,{children:[b.jsxs("div",{ref:e,className:"flex items-center justify-between p-3 rounded-lg border hover:border-slate-300 hover:bg-slate-50 transition-colors",children:[b.jsx("span",{className:"font-medium",children:n.name}),b.jsx("button",{className:"p-2 rounded-full text-blue-500 hover:bg-blue-50",onClick:()=>r(!0),title:"More Info",children:b.jsx(E6,{size:18})})]}),i&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full relative",children:[b.jsx("button",{className:"absolute top-2 right-2 text-slate-400 hover:text-slate-600",onClick:()=>r(!1),children:"×"}),b.jsx("h3",{className:"text-lg font-semibold mb-2",children:n.name}),b.jsx("p",{className:"text-slate-700 text-base",children:STe[n.name]||"No summary available for this skill."})]})})]})});H.memo(({category:n})=>b.jsxs("div",{className:"card",children:[b.jsx("div",{className:"flex justify-between items-center mb-4",children:b.jsx("h2",{className:"text-lg font-semibold",children:n.name})}),b.jsx("div",{className:"space-y-3",children:n.skills.map(e=>b.jsx(vie,{skill:e},e.id))})]}));const ATe=()=>{const{skillCategories:n,loadUserSkills:e,loading:i,error:r}=uf(),o=H.useRef({}),[l,c]=H.useState({}),[u,h]=H.useState({});ns();const m=Ed(),g=["#14b8a6","#3b82f6","#6366f1","#a21caf","#ec4899","#22c55e"];H.useEffect(()=>{async function v(){await e(),await y()}v()},[e,m]),H.useEffect(()=>{const v=_=>{const{skillId:A,timestamp:S}=_.detail;setTimeout(()=>{const C=o.current[A];C&&(C.scrollIntoView({behavior:"smooth",block:"center"}),C.classList.add("ring","ring-teal-400","highlight-item"),setTimeout(()=>C.classList.remove("ring","ring-teal-400","highlight-item"),1500))},100)};return window.addEventListener("scroll-to-skill",v),()=>window.removeEventListener("scroll-to-skill",v)},[]);const y=async()=>{try{const{data:{user:v}}=await Re.auth.getUser();if(!v)return;const{data:_,error:A}=await Re.from("supervisor_eit_relationships").select("eit_id").eq("supervisor_id",v.id);if(A)throw A;const S=_.map(O=>O.eit_id),{data:C,error:T}=await Re.from("eit_skills").select("*").in("eit_id",S);if(T)throw T;const N={};n.forEach(O=>{N[O.name]={eitSelfScores:[],supervisorScores:[],completed:0,total:O.skills.length*S.length,eitCount:S.length}}),C.forEach(O=>{const F=n.find(U=>U.skills.some(V=>V.id===O.skill_id));F&&(O.rank!==null&&O.rank!==void 0&&N[F.name].eitSelfScores.push(O.rank),O.supervisor_score!==null&&O.supervisor_score!==void 0&&(N[F.name].supervisorScores.push(O.supervisor_score),N[F.name].completed+=1))});const j={};Object.entries(N).forEach(([O,F])=>{const U=F.eitSelfScores.reduce((oe,me)=>oe+me,0),V=F.eitSelfScores.length,B=F.supervisorScores.reduce((oe,me)=>oe+me,0),K=F.supervisorScores.length;j[O]={eitSelfAvg:V>0?Number((U/V).toFixed(2)):0,supervisorAvg:K>0?Number((B/K).toFixed(2)):0,completionRate:F.total>0?Number((F.completed/F.total*100).toFixed(1)):0}}),h(j)}catch(v){console.error("Error calculating category averages:",v)}};return H.useEffect(()=>{y()},[]),b.jsxs("div",{className:"space-y-6",children:[b.jsx("div",{className:"flex items-center justify-between",children:b.jsxs("h1",{className:"text-2xl font-semibold text-slate-900 flex items-center",children:[b.jsx(d3,{size:24,className:"mr-2 text-teal-600"}),"Skills"]})}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:n.map((v,_)=>{const A=u[v.name]||{eitSelfAvg:0,supervisorAvg:0},S=g[_%g.length];return b.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4",children:[b.jsx("div",{className:"flex justify-between items-center mb-2",children:b.jsx("h3",{className:"font-medium text-slate-900 text-lg",children:v.name})}),b.jsxs("div",{className:"space-y-5",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("span",{className:"w-40 text-base font-semibold",children:"Average EIT Self Score"}),b.jsx("div",{className:"w-10 flex-shrink-0 flex justify-center",children:b.jsxs("div",{className:"w-9 h-9 rounded-full flex items-center justify-center bg-slate-100 text-slate-800 text-sm font-bold border border-slate-200",children:[Math.round(A.eitSelfAvg/5*100),"%"]})}),b.jsx("div",{className:"flex-1",children:b.jsx("div",{className:"w-full max-w-[160px] bg-slate-200 rounded-full h-2",children:b.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${A.eitSelfAvg/5*100}%`,background:S}})})}),b.jsxs("div",{className:"w-14 text-xs text-slate-500 text-right",children:[A.eitSelfAvg.toFixed(2),"/5.0"]})]}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("span",{className:"w-40 text-base font-semibold",children:"Average Supervisor Score"}),b.jsx("div",{className:"w-10 flex-shrink-0 flex justify-center",children:b.jsxs("div",{className:"w-9 h-9 rounded-full flex items-center justify-center bg-slate-100 text-slate-800 text-sm font-bold border border-slate-200",children:[Math.round(A.supervisorAvg/5*100),"%"]})}),b.jsx("div",{className:"flex-1",children:b.jsx("div",{className:"w-full max-w-[160px] bg-slate-200 rounded-full h-2",children:b.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${A.supervisorAvg/5*100}%`,background:S}})})}),b.jsxs("div",{className:"w-14 text-xs text-slate-500 text-right",children:[A.supervisorAvg.toFixed(2),"/5.0"]})]})]})]},v.name)})}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Skills & Competencies"}),b.jsx("p",{className:"text-slate-500 mt-1",children:"View the EIT program competencies"})]}),r&&b.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:b.jsxs("div",{className:"flex items-start gap-2",children:[b.jsx(F8,{size:18,className:"text-red-600 mt-0.5 flex-shrink-0"}),b.jsx("p",{className:"text-sm text-red-800",children:r})]})}),i?b.jsx("div",{className:"flex items-center justify-center py-12",children:b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):b.jsx("div",{className:"space-y-6",children:n.map(v=>b.jsxs("div",{className:"card",children:[b.jsx("div",{className:"flex justify-between items-center mb-4",children:b.jsx("h2",{className:"text-lg font-semibold",children:v.name})}),b.jsx("div",{className:"space-y-3",children:v.skills.map(_=>b.jsx(vie,{skill:_,skillRef:A=>o.current[_.id]=A},_.id))})]},v.name))})]})},CTe=n=>{H.useEffect(()=>{const e=[];return n.forEach(({table:i,filter:r,callback:o})=>{const l=Re.channel(`${i}_changes`).on("postgres_changes",{event:"*",schema:"public",table:i,filter:r},c=>{o(c)}).subscribe();e.push(l)}),()=>{e.forEach(i=>{Re.removeChannel(i)})}},[n])},TTe=ac(n=>({supervisorReviews:[],saoFeedback:[],relationships:[],userSkills:[],addSupervisorReview:e=>n(i=>({supervisorReviews:[...i.supervisorReviews,e]})),updateSupervisorReview:e=>n(i=>({supervisorReviews:i.supervisorReviews.map(r=>r.id===e.id?e:r)})),removeSupervisorReview:e=>n(i=>({supervisorReviews:i.supervisorReviews.filter(r=>r.id!==e)})),addSaoFeedback:e=>n(i=>({saoFeedback:[...i.saoFeedback,e]})),updateSaoFeedback:e=>n(i=>({saoFeedback:i.saoFeedback.map(r=>r.id===e.id?e:r)})),removeSaoFeedback:e=>n(i=>({saoFeedback:i.saoFeedback.filter(r=>r.id!==e)})),updateRelationship:e=>n(i=>({relationships:i.relationships.map(r=>r.id===e.id?e:r)})),updateUserSkill:e=>n(i=>({userSkills:i.userSkills.map(r=>r.id===e.id?e:r)}))})),DTe=({userId:n})=>{const{addSupervisorReview:e,updateSupervisorReview:i,addSaoFeedback:r,updateSaoFeedback:o,updateRelationship:l,updateUserSkill:c}=TTe(),{supervisorReviews:u,saoFeedback:h,relationships:m,userSkills:g}=BZ();return CTe([{table:"supervisor_reviews",filter:`eit_id=eq.${n}`,callback:y=>{u&&(y.eventType==="INSERT"?(e(y.new),ud.success("New review received!")):y.eventType==="UPDATE"&&(i(y.new),ud.success("Review updated!")))}},{table:"sao_feedback",filter:`sao_id=in.(select id from saos where user_id=eq.${n})`,callback:y=>{h&&(y.eventType==="INSERT"?(r(y.new),ud.success("New SAO feedback received!")):y.eventType==="UPDATE"&&(o(y.new),ud.success("SAO feedback updated!")))}},{table:"supervisor_eit_relationships",filter:`eit_id=eq.${n}`,callback:y=>{m&&y.eventType==="UPDATE"&&(l(y.new),ud.success("Relationship status updated!"))}},{table:"user_skills",filter:`user_id=eq.${n}`,callback:y=>{g&&y.eventType==="UPDATE"&&(c(y.new),ud.success("Skill status updated!"))}}]),null};function NTe(){const[n,e]=H.useState(null),[i,r]=H.useState(!0),o=H2(m=>m.initialize),l=H2(m=>m.setupRealtimeSubscriptions),c=uf(m=>m.loadUserSkills),u=p3(m=>m.initialize),h=async()=>{try{console.log("Starting app initialization..."),await c(),console.log("Skills loaded successfully"),await o(),console.log("Progress initialized successfully"),await l(),console.log("Realtime subscriptions set up successfully"),await u(),console.log("Notifications initialized successfully")}catch(m){console.error("Error initializing app:",m)}};return H.useEffect(()=>{console.log("Checking for existing session..."),Re.auth.getSession().then(({data:{session:g}})=>{console.log("Session check result:",g?"Session found":"No session"),e(g),r(!1),g&&(console.log("Session found, initializing app..."),h())});const{data:{subscription:m}}=Re.auth.onAuthStateChange((g,y)=>{console.log("Auth state changed:",g,y?"Session present":"No session"),e(y),y&&(console.log("New session detected, initializing app..."),h())});return()=>m.unsubscribe()},[o,l,c]),H.useEffect(()=>{const m="accreda_last_tab_close",y=localStorage.getItem(m);if(y){const _=parseInt(y,10);!isNaN(_)&&Date.now()-_>18e5&&Re.auth.signOut().then(()=>{e(null)})}const v=()=>{localStorage.setItem(m,Date.now().toString())};return window.addEventListener("beforeunload",v),()=>{window.removeEventListener("beforeunload",v)}},[]),i?b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"})}):b.jsxs(b.Fragment,{children:[n&&b.jsx(DTe,{userId:n.user.id}),b.jsx(Jxe,{position:"top-right"}),b.jsxs(Wde,{children:[b.jsx(di,{path:"/",element:n?b.jsx(yTe,{}):b.jsx(KCe,{})}),b.jsx(di,{path:"/login",element:n?b.jsx(pv,{to:"/dashboard"}):b.jsx(iye,{})}),b.jsx(di,{path:"/signup",element:n?b.jsx(pv,{to:"/dashboard"}):b.jsx(rye,{})}),b.jsx(di,{path:"/forgot-password",element:n?b.jsx(pv,{to:"/dashboard"}):b.jsx(sye,{})}),b.jsx(di,{path:"/reset-password",element:n?b.jsx(pv,{to:"/dashboard"}):b.jsx(oye,{})}),b.jsxs(di,{path:"/dashboard",element:n?b.jsx(t1e,{appLoaded:!i}):b.jsx(pv,{to:"/"}),children:[b.jsx(di,{index:!0,element:b.jsx(ETe,{})}),b.jsx(di,{path:"skills",element:b.jsx(l1e,{})}),b.jsx(di,{path:"saos",element:b.jsx(GCe,{})}),b.jsx(di,{path:"documents",element:b.jsx(c1e,{})}),b.jsx(di,{path:"essays",element:b.jsx(u1e,{})}),b.jsx(di,{path:"text-input",element:b.jsx(v1e,{})}),b.jsx(di,{path:"edit-document/:id",element:b.jsx(x1e,{})}),b.jsx(di,{path:"settings",element:b.jsx(lxe,{})}),b.jsx(di,{path:"help",element:b.jsx(XCe,{})}),b.jsx(di,{path:"references",element:b.jsx(eTe,{})})]}),b.jsxs(di,{path:"/dashboard/supervisor",element:n?b.jsx(nTe,{appLoaded:!i}):b.jsx(pv,{to:"/"}),children:[b.jsx(di,{index:!0,element:b.jsx(gTe,{})}),b.jsx(di,{path:"team",element:b.jsx(iTe,{})}),b.jsx(di,{path:"reviews",element:b.jsx(oTe,{})}),b.jsx(di,{path:"documents",element:b.jsx(aTe,{})}),b.jsx(di,{path:"settings",element:b.jsx(cTe,{})}),b.jsx(di,{path:"support",element:b.jsx(uTe,{})}),b.jsx(di,{path:"skills",element:b.jsx(ATe,{})})]}),b.jsx(di,{path:"*",element:b.jsx(w1e,{})})]})]})}qX(document.getElementById("root")).render(b.jsx(H.StrictMode,{children:b.jsx(Jde,{children:b.jsx(NTe,{})})}));export{d3 as A,m2 as B,jm as C,Sd as F,S6 as P,qCe as S,WS as U,As as X,uf as a,ns as b,kye as c,Ut as d,MN as g,b as j,H as r,Re as s,HS as u};
