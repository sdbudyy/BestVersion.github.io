function Iy(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in e)){const i=Object.getOwnPropertyDescriptor(s,r);i&&Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();var Ie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ly(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var r=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:function(){return e[s]}})}),n}var Cp={exports:{}},uo={},Tp={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ci=Symbol.for("react.element"),Dy=Symbol.for("react.portal"),My=Symbol.for("react.fragment"),Uy=Symbol.for("react.strict_mode"),$y=Symbol.for("react.profiler"),Fy=Symbol.for("react.provider"),zy=Symbol.for("react.context"),Vy=Symbol.for("react.forward_ref"),By=Symbol.for("react.suspense"),qy=Symbol.for("react.memo"),Hy=Symbol.for("react.lazy"),ah=Symbol.iterator;function Wy(e){return e===null||typeof e!="object"?null:(e=ah&&e[ah]||e["@@iterator"],typeof e=="function"?e:null)}var Pp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ap=Object.assign,Rp={};function tr(e,t,n){this.props=e,this.context=t,this.refs=Rp,this.updater=n||Pp}tr.prototype.isReactComponent={};tr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};tr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Op(){}Op.prototype=tr.prototype;function mu(e,t,n){this.props=e,this.context=t,this.refs=Rp,this.updater=n||Pp}var pu=mu.prototype=new Op;pu.constructor=mu;Ap(pu,tr.prototype);pu.isPureReactComponent=!0;var oh=Array.isArray,Ip=Object.prototype.hasOwnProperty,gu={current:null},Lp={key:!0,ref:!0,__self:!0,__source:!0};function Dp(e,t,n){var s,r={},i=null,a=null;if(t!=null)for(s in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Ip.call(t,s)&&!Lp.hasOwnProperty(s)&&(r[s]=t[s]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)r[s]===void 0&&(r[s]=l[s]);return{$$typeof:Ci,type:e,key:i,ref:a,props:r,_owner:gu.current}}function Gy(e,t){return{$$typeof:Ci,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function vu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ci}function Ky(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var lh=/\/+/g;function Wo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ky(""+e.key):t.toString(36)}function pa(e,t,n,s,r){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ci:case Dy:a=!0}}if(a)return a=e,r=r(a),e=s===""?"."+Wo(a,0):s,oh(r)?(n="",e!=null&&(n=e.replace(lh,"$&/")+"/"),pa(r,t,n,"",function(u){return u})):r!=null&&(vu(r)&&(r=Gy(r,n+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(lh,"$&/")+"/")+e)),t.push(r)),1;if(a=0,s=s===""?".":s+":",oh(e))for(var l=0;l<e.length;l++){i=e[l];var c=s+Wo(i,l);a+=pa(i,t,n,c,r)}else if(c=Wy(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=s+Wo(i,l++),a+=pa(i,t,n,c,r);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Bi(e,t,n){if(e==null)return e;var s=[],r=0;return pa(e,s,"","",function(i){return t.call(n,i,r++)}),s}function Jy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Fe={current:null},ga={transition:null},Yy={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:ga,ReactCurrentOwner:gu};function Mp(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:Bi,forEach:function(e,t,n){Bi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Bi(e,function(){t++}),t},toArray:function(e){return Bi(e,function(t){return t})||[]},only:function(e){if(!vu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=tr;W.Fragment=My;W.Profiler=$y;W.PureComponent=mu;W.StrictMode=Uy;W.Suspense=By;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yy;W.act=Mp;W.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Ap({},e.props),r=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=gu.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Ip.call(t,c)&&!Lp.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:Ci,type:e.type,key:r,ref:i,props:s,_owner:a}};W.createContext=function(e){return e={$$typeof:zy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Fy,_context:e},e.Consumer=e};W.createElement=Dp;W.createFactory=function(e){var t=Dp.bind(null,e);return t.type=e,t};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:Vy,render:e}};W.isValidElement=vu;W.lazy=function(e){return{$$typeof:Hy,_payload:{_status:-1,_result:e},_init:Jy}};W.memo=function(e,t){return{$$typeof:qy,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=ga.transition;ga.transition={};try{e()}finally{ga.transition=t}};W.unstable_act=Mp;W.useCallback=function(e,t){return Fe.current.useCallback(e,t)};W.useContext=function(e){return Fe.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return Fe.current.useDeferredValue(e)};W.useEffect=function(e,t){return Fe.current.useEffect(e,t)};W.useId=function(){return Fe.current.useId()};W.useImperativeHandle=function(e,t,n){return Fe.current.useImperativeHandle(e,t,n)};W.useInsertionEffect=function(e,t){return Fe.current.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return Fe.current.useLayoutEffect(e,t)};W.useMemo=function(e,t){return Fe.current.useMemo(e,t)};W.useReducer=function(e,t,n){return Fe.current.useReducer(e,t,n)};W.useRef=function(e){return Fe.current.useRef(e)};W.useState=function(e){return Fe.current.useState(e)};W.useSyncExternalStore=function(e,t,n){return Fe.current.useSyncExternalStore(e,t,n)};W.useTransition=function(){return Fe.current.useTransition()};W.version="18.3.1";Tp.exports=W;var v=Tp.exports;const Ae=fu(v),Qy=Iy({__proto__:null,default:Ae},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy=v,Zy=Symbol.for("react.element"),ew=Symbol.for("react.fragment"),tw=Object.prototype.hasOwnProperty,nw=Xy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sw={key:!0,ref:!0,__self:!0,__source:!0};function Up(e,t,n){var s,r={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(s in t)tw.call(t,s)&&!sw.hasOwnProperty(s)&&(r[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)r[s]===void 0&&(r[s]=t[s]);return{$$typeof:Zy,type:e,key:i,ref:a,props:r,_owner:nw.current}}uo.Fragment=ew;uo.jsx=Up;uo.jsxs=Up;Cp.exports=uo;var o=Cp.exports,$p={exports:{}},it={},Fp={exports:{}},zp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,D){var V=C.length;C.push(D);e:for(;0<V;){var K=V-1>>>1,H=C[K];if(0<r(H,D))C[K]=D,C[V]=H,V=K;else break e}}function n(C){return C.length===0?null:C[0]}function s(C){if(C.length===0)return null;var D=C[0],V=C.pop();if(V!==D){C[0]=V;e:for(var K=0,H=C.length,xe=H>>>1;K<xe;){var ye=2*(K+1)-1,Qe=C[ye],ot=ye+1,Ln=C[ot];if(0>r(Qe,V))ot<H&&0>r(Ln,Qe)?(C[K]=Ln,C[ot]=V,K=ot):(C[K]=Qe,C[ye]=V,K=ye);else if(ot<H&&0>r(Ln,V))C[K]=Ln,C[ot]=V,K=ot;else break e}}return D}function r(C,D){var V=C.sortIndex-D.sortIndex;return V!==0?V:C.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,x=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(C){for(var D=n(u);D!==null;){if(D.callback===null)s(u);else if(D.startTime<=C)s(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=n(u)}}function j(C){if(y=!1,w(C),!x)if(n(c)!==null)x=!0,R(S);else{var D=n(u);D!==null&&$(j,D.startTime-C)}}function S(C,D){x=!1,y&&(y=!1,m(N),N=-1),p=!0;var V=f;try{for(w(D),h=n(c);h!==null&&(!(h.expirationTime>D)||C&&!T());){var K=h.callback;if(typeof K=="function"){h.callback=null,f=h.priorityLevel;var H=K(h.expirationTime<=D);D=e.unstable_now(),typeof H=="function"?h.callback=H:h===n(c)&&s(c),w(D)}else s(c);h=n(c)}if(h!==null)var xe=!0;else{var ye=n(u);ye!==null&&$(j,ye.startTime-D),xe=!1}return xe}finally{h=null,f=V,p=!1}}var _=!1,k=null,N=-1,O=5,I=-1;function T(){return!(e.unstable_now()-I<O)}function U(){if(k!==null){var C=e.unstable_now();I=C;var D=!0;try{D=k(!0,C)}finally{D?A():(_=!1,k=null)}}else _=!1}var A;if(typeof g=="function")A=function(){g(U)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,E=M.port2;M.port1.onmessage=U,A=function(){E.postMessage(null)}}else A=function(){b(U,0)};function R(C){k=C,_||(_=!0,A())}function $(C,D){N=b(function(){C(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,R(S))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(C){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var V=f;f=D;try{return C()}finally{f=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,D){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var V=f;f=C;try{return D()}finally{f=V}},e.unstable_scheduleCallback=function(C,D,V){var K=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?K+V:K):V=K,C){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=V+H,C={id:d++,callback:D,priorityLevel:C,startTime:V,expirationTime:H,sortIndex:-1},V>K?(C.sortIndex=V,t(u,C),n(c)===null&&C===n(u)&&(y?(m(N),N=-1):y=!0,$(j,V-K))):(C.sortIndex=H,t(c,C),x||p||(x=!0,R(S))),C},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(C){var D=f;return function(){var V=f;f=D;try{return C.apply(this,arguments)}finally{f=V}}}})(zp);Fp.exports=zp;var rw=Fp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iw=v,rt=rw;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vp=new Set,Wr={};function is(e,t){Bs(e,t),Bs(e+"Capture",t)}function Bs(e,t){for(Wr[e]=t,e=0;e<t.length;e++)Vp.add(t[e])}var Wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zl=Object.prototype.hasOwnProperty,aw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ch={},uh={};function ow(e){return zl.call(uh,e)?!0:zl.call(ch,e)?!1:aw.test(e)?uh[e]=!0:(ch[e]=!0,!1)}function lw(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function cw(e,t,n,s){if(t===null||typeof t>"u"||lw(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ze(e,t,n,s,r,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Ne={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ne[e]=new ze(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ne[t]=new ze(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ne[e]=new ze(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ne[e]=new ze(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ne[e]=new ze(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ne[e]=new ze(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ne[e]=new ze(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ne[e]=new ze(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ne[e]=new ze(e,5,!1,e.toLowerCase(),null,!1,!1)});var xu=/[\-:]([a-z])/g;function yu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xu,yu);Ne[t]=new ze(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xu,yu);Ne[t]=new ze(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xu,yu);Ne[t]=new ze(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ne[e]=new ze(e,1,!1,e.toLowerCase(),null,!1,!1)});Ne.xlinkHref=new ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ne[e]=new ze(e,1,!1,e.toLowerCase(),null,!0,!0)});function wu(e,t,n,s){var r=Ne.hasOwnProperty(t)?Ne[t]:null;(r!==null?r.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(cw(t,n,r,s)&&(n=null),s||r===null?ow(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,s=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var Xt=iw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qi=Symbol.for("react.element"),ys=Symbol.for("react.portal"),ws=Symbol.for("react.fragment"),bu=Symbol.for("react.strict_mode"),Vl=Symbol.for("react.profiler"),Bp=Symbol.for("react.provider"),qp=Symbol.for("react.context"),ju=Symbol.for("react.forward_ref"),Bl=Symbol.for("react.suspense"),ql=Symbol.for("react.suspense_list"),Su=Symbol.for("react.memo"),an=Symbol.for("react.lazy"),Hp=Symbol.for("react.offscreen"),dh=Symbol.iterator;function dr(e){return e===null||typeof e!="object"?null:(e=dh&&e[dh]||e["@@iterator"],typeof e=="function"?e:null)}var ue=Object.assign,Go;function jr(e){if(Go===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Go=t&&t[1]||""}return`
`+Go+e}var Ko=!1;function Jo(e,t){if(!e||Ko)return"";Ko=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),i=s.stack.split(`
`),a=r.length-1,l=i.length-1;1<=a&&0<=l&&r[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(r[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||r[a]!==i[l]){var c=`
`+r[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Ko=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?jr(e):""}function uw(e){switch(e.tag){case 5:return jr(e.type);case 16:return jr("Lazy");case 13:return jr("Suspense");case 19:return jr("SuspenseList");case 0:case 2:case 15:return e=Jo(e.type,!1),e;case 11:return e=Jo(e.type.render,!1),e;case 1:return e=Jo(e.type,!0),e;default:return""}}function Hl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ws:return"Fragment";case ys:return"Portal";case Vl:return"Profiler";case bu:return"StrictMode";case Bl:return"Suspense";case ql:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qp:return(e.displayName||"Context")+".Consumer";case Bp:return(e._context.displayName||"Context")+".Provider";case ju:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Su:return t=e.displayName||null,t!==null?t:Hl(e.type)||"Memo";case an:t=e._payload,e=e._init;try{return Hl(e(t))}catch{}}return null}function dw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hl(t);case 8:return t===bu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function hw(e){var t=Wp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(a){s=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(a){s=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hi(e){e._valueTracker||(e._valueTracker=hw(e))}function Gp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Wp(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Ra(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wl(e,t){var n=t.checked;return ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function hh(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Nn(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Kp(e,t){t=t.checked,t!=null&&wu(e,"checked",t,!1)}function Gl(e,t){Kp(e,t);var n=Nn(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Kl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Kl(e,t.type,Nn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Kl(e,t,n){(t!=="number"||Ra(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Sr=Array.isArray;function Ds(e,t,n,s){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Nn(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,s&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Jl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function mh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(L(92));if(Sr(n)){if(1<n.length)throw Error(L(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Nn(n)}}function Jp(e,t){var n=Nn(t.value),s=Nn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function ph(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Yp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Yp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wi,Qp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wi=Wi||document.createElement("div"),Wi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Gr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Cr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fw=["Webkit","ms","Moz","O"];Object.keys(Cr).forEach(function(e){fw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Cr[t]=Cr[e]})});function Xp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Cr.hasOwnProperty(e)&&Cr[e]?(""+t).trim():t+"px"}function Zp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=Xp(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,r):e[n]=r}}var mw=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ql(e,t){if(t){if(mw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function Xl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zl=null;function ku(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ec=null,Ms=null,Us=null;function gh(e){if(e=Ai(e)){if(typeof ec!="function")throw Error(L(280));var t=e.stateNode;t&&(t=go(t),ec(e.stateNode,e.type,t))}}function eg(e){Ms?Us?Us.push(e):Us=[e]:Ms=e}function tg(){if(Ms){var e=Ms,t=Us;if(Us=Ms=null,gh(e),t)for(e=0;e<t.length;e++)gh(t[e])}}function ng(e,t){return e(t)}function sg(){}var Yo=!1;function rg(e,t,n){if(Yo)return e(t,n);Yo=!0;try{return ng(e,t,n)}finally{Yo=!1,(Ms!==null||Us!==null)&&(sg(),tg())}}function Kr(e,t){var n=e.stateNode;if(n===null)return null;var s=go(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var tc=!1;if(Wt)try{var hr={};Object.defineProperty(hr,"passive",{get:function(){tc=!0}}),window.addEventListener("test",hr,hr),window.removeEventListener("test",hr,hr)}catch{tc=!1}function pw(e,t,n,s,r,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Tr=!1,Oa=null,Ia=!1,nc=null,gw={onError:function(e){Tr=!0,Oa=e}};function vw(e,t,n,s,r,i,a,l,c){Tr=!1,Oa=null,pw.apply(gw,arguments)}function xw(e,t,n,s,r,i,a,l,c){if(vw.apply(this,arguments),Tr){if(Tr){var u=Oa;Tr=!1,Oa=null}else throw Error(L(198));Ia||(Ia=!0,nc=u)}}function as(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ig(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vh(e){if(as(e)!==e)throw Error(L(188))}function yw(e){var t=e.alternate;if(!t){if(t=as(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,s=t;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return vh(r),e;if(i===s)return vh(r),t;i=i.sibling}throw Error(L(188))}if(n.return!==s.return)n=r,s=i;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,s=i;break}if(l===s){a=!0,s=r,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,s=r;break}if(l===s){a=!0,s=i,n=r;break}l=l.sibling}if(!a)throw Error(L(189))}}if(n.alternate!==s)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function ag(e){return e=yw(e),e!==null?og(e):null}function og(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=og(e);if(t!==null)return t;e=e.sibling}return null}var lg=rt.unstable_scheduleCallback,xh=rt.unstable_cancelCallback,ww=rt.unstable_shouldYield,bw=rt.unstable_requestPaint,me=rt.unstable_now,jw=rt.unstable_getCurrentPriorityLevel,_u=rt.unstable_ImmediatePriority,cg=rt.unstable_UserBlockingPriority,La=rt.unstable_NormalPriority,Sw=rt.unstable_LowPriority,ug=rt.unstable_IdlePriority,ho=null,Ot=null;function kw(e){if(Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(ho,e,void 0,(e.current.flags&128)===128)}catch{}}var Nt=Math.clz32?Math.clz32:Ew,_w=Math.log,Nw=Math.LN2;function Ew(e){return e>>>=0,e===0?32:31-(_w(e)/Nw|0)|0}var Gi=64,Ki=4194304;function kr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Da(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,r=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~r;l!==0?s=kr(l):(i&=a,i!==0&&(s=kr(i)))}else a=n&~r,a!==0?s=kr(a):i!==0&&(s=kr(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&r)&&(r=s&-s,i=t&-t,r>=i||r===16&&(i&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Nt(t),r=1<<n,s|=e[n],t&=~r;return s}function Cw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tw(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Nt(i),l=1<<a,c=r[a];c===-1?(!(l&n)||l&s)&&(r[a]=Cw(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function sc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dg(){var e=Gi;return Gi<<=1,!(Gi&4194240)&&(Gi=64),e}function Qo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ti(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nt(t),e[t]=n}function Pw(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-Nt(n),i=1<<r;t[r]=0,s[r]=-1,e[r]=-1,n&=~i}}function Nu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Nt(n),r=1<<s;r&t|e[s]&t&&(e[s]|=t),n&=~r}}var Q=0;function hg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fg,Eu,mg,pg,gg,rc=!1,Ji=[],gn=null,vn=null,xn=null,Jr=new Map,Yr=new Map,un=[],Aw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yh(e,t){switch(e){case"focusin":case"focusout":gn=null;break;case"dragenter":case"dragleave":vn=null;break;case"mouseover":case"mouseout":xn=null;break;case"pointerover":case"pointerout":Jr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yr.delete(t.pointerId)}}function fr(e,t,n,s,r,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},t!==null&&(t=Ai(t),t!==null&&Eu(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function Rw(e,t,n,s,r){switch(t){case"focusin":return gn=fr(gn,e,t,n,s,r),!0;case"dragenter":return vn=fr(vn,e,t,n,s,r),!0;case"mouseover":return xn=fr(xn,e,t,n,s,r),!0;case"pointerover":var i=r.pointerId;return Jr.set(i,fr(Jr.get(i)||null,e,t,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,Yr.set(i,fr(Yr.get(i)||null,e,t,n,s,r)),!0}return!1}function vg(e){var t=Bn(e.target);if(t!==null){var n=as(t);if(n!==null){if(t=n.tag,t===13){if(t=ig(n),t!==null){e.blockedOn=t,gg(e.priority,function(){mg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function va(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ic(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Zl=s,n.target.dispatchEvent(s),Zl=null}else return t=Ai(n),t!==null&&Eu(t),e.blockedOn=n,!1;t.shift()}return!0}function wh(e,t,n){va(e)&&n.delete(t)}function Ow(){rc=!1,gn!==null&&va(gn)&&(gn=null),vn!==null&&va(vn)&&(vn=null),xn!==null&&va(xn)&&(xn=null),Jr.forEach(wh),Yr.forEach(wh)}function mr(e,t){e.blockedOn===t&&(e.blockedOn=null,rc||(rc=!0,rt.unstable_scheduleCallback(rt.unstable_NormalPriority,Ow)))}function Qr(e){function t(r){return mr(r,e)}if(0<Ji.length){mr(Ji[0],e);for(var n=1;n<Ji.length;n++){var s=Ji[n];s.blockedOn===e&&(s.blockedOn=null)}}for(gn!==null&&mr(gn,e),vn!==null&&mr(vn,e),xn!==null&&mr(xn,e),Jr.forEach(t),Yr.forEach(t),n=0;n<un.length;n++)s=un[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<un.length&&(n=un[0],n.blockedOn===null);)vg(n),n.blockedOn===null&&un.shift()}var $s=Xt.ReactCurrentBatchConfig,Ma=!0;function Iw(e,t,n,s){var r=Q,i=$s.transition;$s.transition=null;try{Q=1,Cu(e,t,n,s)}finally{Q=r,$s.transition=i}}function Lw(e,t,n,s){var r=Q,i=$s.transition;$s.transition=null;try{Q=4,Cu(e,t,n,s)}finally{Q=r,$s.transition=i}}function Cu(e,t,n,s){if(Ma){var r=ic(e,t,n,s);if(r===null)ol(e,t,s,Ua,n),yh(e,s);else if(Rw(r,e,t,n,s))s.stopPropagation();else if(yh(e,s),t&4&&-1<Aw.indexOf(e)){for(;r!==null;){var i=Ai(r);if(i!==null&&fg(i),i=ic(e,t,n,s),i===null&&ol(e,t,s,Ua,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else ol(e,t,s,null,n)}}var Ua=null;function ic(e,t,n,s){if(Ua=null,e=ku(s),e=Bn(e),e!==null)if(t=as(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ig(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ua=e,null}function xg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jw()){case _u:return 1;case cg:return 4;case La:case Sw:return 16;case ug:return 536870912;default:return 16}default:return 16}}var fn=null,Tu=null,xa=null;function yg(){if(xa)return xa;var e,t=Tu,n=t.length,s,r="value"in fn?fn.value:fn.textContent,i=r.length;for(e=0;e<n&&t[e]===r[e];e++);var a=n-e;for(s=1;s<=a&&t[n-s]===r[i-s];s++);return xa=r.slice(e,1<s?1-s:void 0)}function ya(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yi(){return!0}function bh(){return!1}function at(e){function t(n,s,r,i,a){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Yi:bh,this.isPropagationStopped=bh,this}return ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),t}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pu=at(nr),Pi=ue({},nr,{view:0,detail:0}),Dw=at(Pi),Xo,Zo,pr,fo=ue({},Pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Au,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pr&&(pr&&e.type==="mousemove"?(Xo=e.screenX-pr.screenX,Zo=e.screenY-pr.screenY):Zo=Xo=0,pr=e),Xo)},movementY:function(e){return"movementY"in e?e.movementY:Zo}}),jh=at(fo),Mw=ue({},fo,{dataTransfer:0}),Uw=at(Mw),$w=ue({},Pi,{relatedTarget:0}),el=at($w),Fw=ue({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),zw=at(Fw),Vw=ue({},nr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Bw=at(Vw),qw=ue({},nr,{data:0}),Sh=at(qw),Hw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ww={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Gw[e])?!!t[e]:!1}function Au(){return Kw}var Jw=ue({},Pi,{key:function(e){if(e.key){var t=Hw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ya(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ww[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Au,charCode:function(e){return e.type==="keypress"?ya(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ya(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Yw=at(Jw),Qw=ue({},fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kh=at(Qw),Xw=ue({},Pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Au}),Zw=at(Xw),eb=ue({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),tb=at(eb),nb=ue({},fo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sb=at(nb),rb=[9,13,27,32],Ru=Wt&&"CompositionEvent"in window,Pr=null;Wt&&"documentMode"in document&&(Pr=document.documentMode);var ib=Wt&&"TextEvent"in window&&!Pr,wg=Wt&&(!Ru||Pr&&8<Pr&&11>=Pr),_h=" ",Nh=!1;function bg(e,t){switch(e){case"keyup":return rb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bs=!1;function ab(e,t){switch(e){case"compositionend":return jg(t);case"keypress":return t.which!==32?null:(Nh=!0,_h);case"textInput":return e=t.data,e===_h&&Nh?null:e;default:return null}}function ob(e,t){if(bs)return e==="compositionend"||!Ru&&bg(e,t)?(e=yg(),xa=Tu=fn=null,bs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wg&&t.locale!=="ko"?null:t.data;default:return null}}var lb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!lb[e.type]:t==="textarea"}function Sg(e,t,n,s){eg(s),t=$a(t,"onChange"),0<t.length&&(n=new Pu("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Ar=null,Xr=null;function cb(e){Ig(e,0)}function mo(e){var t=ks(e);if(Gp(t))return e}function ub(e,t){if(e==="change")return t}var kg=!1;if(Wt){var tl;if(Wt){var nl="oninput"in document;if(!nl){var Ch=document.createElement("div");Ch.setAttribute("oninput","return;"),nl=typeof Ch.oninput=="function"}tl=nl}else tl=!1;kg=tl&&(!document.documentMode||9<document.documentMode)}function Th(){Ar&&(Ar.detachEvent("onpropertychange",_g),Xr=Ar=null)}function _g(e){if(e.propertyName==="value"&&mo(Xr)){var t=[];Sg(t,Xr,e,ku(e)),rg(cb,t)}}function db(e,t,n){e==="focusin"?(Th(),Ar=t,Xr=n,Ar.attachEvent("onpropertychange",_g)):e==="focusout"&&Th()}function hb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mo(Xr)}function fb(e,t){if(e==="click")return mo(t)}function mb(e,t){if(e==="input"||e==="change")return mo(t)}function pb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ct=typeof Object.is=="function"?Object.is:pb;function Zr(e,t){if(Ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!zl.call(t,r)||!Ct(e[r],t[r]))return!1}return!0}function Ph(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ah(e,t){var n=Ph(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ph(n)}}function Ng(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ng(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Eg(){for(var e=window,t=Ra();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ra(e.document)}return t}function Ou(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gb(e){var t=Eg(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ng(n.ownerDocument.documentElement,n)){if(s!==null&&Ou(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,i=Math.min(s.start,r);s=s.end===void 0?i:Math.min(s.end,r),!e.extend&&i>s&&(r=s,s=i,i=r),r=Ah(n,i);var a=Ah(n,s);r&&a&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vb=Wt&&"documentMode"in document&&11>=document.documentMode,js=null,ac=null,Rr=null,oc=!1;function Rh(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;oc||js==null||js!==Ra(s)||(s=js,"selectionStart"in s&&Ou(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Rr&&Zr(Rr,s)||(Rr=s,s=$a(ac,"onSelect"),0<s.length&&(t=new Pu("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=js)))}function Qi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ss={animationend:Qi("Animation","AnimationEnd"),animationiteration:Qi("Animation","AnimationIteration"),animationstart:Qi("Animation","AnimationStart"),transitionend:Qi("Transition","TransitionEnd")},sl={},Cg={};Wt&&(Cg=document.createElement("div").style,"AnimationEvent"in window||(delete Ss.animationend.animation,delete Ss.animationiteration.animation,delete Ss.animationstart.animation),"TransitionEvent"in window||delete Ss.transitionend.transition);function po(e){if(sl[e])return sl[e];if(!Ss[e])return e;var t=Ss[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Cg)return sl[e]=t[n];return e}var Tg=po("animationend"),Pg=po("animationiteration"),Ag=po("animationstart"),Rg=po("transitionend"),Og=new Map,Oh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pn(e,t){Og.set(e,t),is(t,[e])}for(var rl=0;rl<Oh.length;rl++){var il=Oh[rl],xb=il.toLowerCase(),yb=il[0].toUpperCase()+il.slice(1);Pn(xb,"on"+yb)}Pn(Tg,"onAnimationEnd");Pn(Pg,"onAnimationIteration");Pn(Ag,"onAnimationStart");Pn("dblclick","onDoubleClick");Pn("focusin","onFocus");Pn("focusout","onBlur");Pn(Rg,"onTransitionEnd");Bs("onMouseEnter",["mouseout","mouseover"]);Bs("onMouseLeave",["mouseout","mouseover"]);Bs("onPointerEnter",["pointerout","pointerover"]);Bs("onPointerLeave",["pointerout","pointerover"]);is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));is("onBeforeInput",["compositionend","keypress","textInput","paste"]);is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wb=new Set("cancel close invalid load scroll toggle".split(" ").concat(_r));function Ih(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,xw(s,t,void 0,e),e.currentTarget=null}function Ig(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],r=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var a=s.length-1;0<=a;a--){var l=s[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&r.isPropagationStopped())break e;Ih(r,l,u),i=c}else for(a=0;a<s.length;a++){if(l=s[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&r.isPropagationStopped())break e;Ih(r,l,u),i=c}}}if(Ia)throw e=nc,Ia=!1,nc=null,e}function ne(e,t){var n=t[hc];n===void 0&&(n=t[hc]=new Set);var s=e+"__bubble";n.has(s)||(Lg(t,e,2,!1),n.add(s))}function al(e,t,n){var s=0;t&&(s|=4),Lg(n,e,s,t)}var Xi="_reactListening"+Math.random().toString(36).slice(2);function ei(e){if(!e[Xi]){e[Xi]=!0,Vp.forEach(function(n){n!=="selectionchange"&&(wb.has(n)||al(n,!1,e),al(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xi]||(t[Xi]=!0,al("selectionchange",!1,t))}}function Lg(e,t,n,s){switch(xg(t)){case 1:var r=Iw;break;case 4:r=Lw;break;default:r=Cu}n=r.bind(null,t,n,e),r=void 0,!tc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),s?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function ol(e,t,n,s,r){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var l=s.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(a===4)for(a=s.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;a=a.return}for(;l!==null;){if(a=Bn(l),a===null)return;if(c=a.tag,c===5||c===6){s=i=a;continue e}l=l.parentNode}}s=s.return}rg(function(){var u=i,d=ku(n),h=[];e:{var f=Og.get(e);if(f!==void 0){var p=Pu,x=e;switch(e){case"keypress":if(ya(n)===0)break e;case"keydown":case"keyup":p=Yw;break;case"focusin":x="focus",p=el;break;case"focusout":x="blur",p=el;break;case"beforeblur":case"afterblur":p=el;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=jh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Uw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Zw;break;case Tg:case Pg:case Ag:p=zw;break;case Rg:p=tb;break;case"scroll":p=Dw;break;case"wheel":p=sb;break;case"copy":case"cut":case"paste":p=Bw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=kh}var y=(t&4)!==0,b=!y&&e==="scroll",m=y?f!==null?f+"Capture":null:f;y=[];for(var g=u,w;g!==null;){w=g;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,m!==null&&(j=Kr(g,m),j!=null&&y.push(ti(g,j,w)))),b)break;g=g.return}0<y.length&&(f=new p(f,x,null,n,d),h.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==Zl&&(x=n.relatedTarget||n.fromElement)&&(Bn(x)||x[Gt]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(x=n.relatedTarget||n.toElement,p=u,x=x?Bn(x):null,x!==null&&(b=as(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=u),p!==x)){if(y=jh,j="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=kh,j="onPointerLeave",m="onPointerEnter",g="pointer"),b=p==null?f:ks(p),w=x==null?f:ks(x),f=new y(j,g+"leave",p,n,d),f.target=b,f.relatedTarget=w,j=null,Bn(d)===u&&(y=new y(m,g+"enter",x,n,d),y.target=w,y.relatedTarget=b,j=y),b=j,p&&x)t:{for(y=p,m=x,g=0,w=y;w;w=hs(w))g++;for(w=0,j=m;j;j=hs(j))w++;for(;0<g-w;)y=hs(y),g--;for(;0<w-g;)m=hs(m),w--;for(;g--;){if(y===m||m!==null&&y===m.alternate)break t;y=hs(y),m=hs(m)}y=null}else y=null;p!==null&&Lh(h,f,p,y,!1),x!==null&&b!==null&&Lh(h,b,x,y,!0)}}e:{if(f=u?ks(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=ub;else if(Eh(f))if(kg)S=mb;else{S=hb;var _=db}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=fb);if(S&&(S=S(e,u))){Sg(h,S,n,d);break e}_&&_(e,f,u),e==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&Kl(f,"number",f.value)}switch(_=u?ks(u):window,e){case"focusin":(Eh(_)||_.contentEditable==="true")&&(js=_,ac=u,Rr=null);break;case"focusout":Rr=ac=js=null;break;case"mousedown":oc=!0;break;case"contextmenu":case"mouseup":case"dragend":oc=!1,Rh(h,n,d);break;case"selectionchange":if(vb)break;case"keydown":case"keyup":Rh(h,n,d)}var k;if(Ru)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else bs?bg(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(wg&&n.locale!=="ko"&&(bs||N!=="onCompositionStart"?N==="onCompositionEnd"&&bs&&(k=yg()):(fn=d,Tu="value"in fn?fn.value:fn.textContent,bs=!0)),_=$a(u,N),0<_.length&&(N=new Sh(N,e,null,n,d),h.push({event:N,listeners:_}),k?N.data=k:(k=jg(n),k!==null&&(N.data=k)))),(k=ib?ab(e,n):ob(e,n))&&(u=$a(u,"onBeforeInput"),0<u.length&&(d=new Sh("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=k))}Ig(h,t)})}function ti(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $a(e,t){for(var n=t+"Capture",s=[];e!==null;){var r=e,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=Kr(e,n),i!=null&&s.unshift(ti(e,i,r)),i=Kr(e,t),i!=null&&s.push(ti(e,i,r))),e=e.return}return s}function hs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Lh(e,t,n,s,r){for(var i=t._reactName,a=[];n!==null&&n!==s;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&u!==null&&(l=u,r?(c=Kr(n,i),c!=null&&a.unshift(ti(n,c,l))):r||(c=Kr(n,i),c!=null&&a.push(ti(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var bb=/\r\n?/g,jb=/\u0000|\uFFFD/g;function Dh(e){return(typeof e=="string"?e:""+e).replace(bb,`
`).replace(jb,"")}function Zi(e,t,n){if(t=Dh(t),Dh(e)!==t&&n)throw Error(L(425))}function Fa(){}var lc=null,cc=null;function uc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var dc=typeof setTimeout=="function"?setTimeout:void 0,Sb=typeof clearTimeout=="function"?clearTimeout:void 0,Mh=typeof Promise=="function"?Promise:void 0,kb=typeof queueMicrotask=="function"?queueMicrotask:typeof Mh<"u"?function(e){return Mh.resolve(null).then(e).catch(_b)}:dc;function _b(e){setTimeout(function(){throw e})}function ll(e,t){var n=t,s=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){e.removeChild(r),Qr(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);Qr(t)}function yn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Uh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var sr=Math.random().toString(36).slice(2),Rt="__reactFiber$"+sr,ni="__reactProps$"+sr,Gt="__reactContainer$"+sr,hc="__reactEvents$"+sr,Nb="__reactListeners$"+sr,Eb="__reactHandles$"+sr;function Bn(e){var t=e[Rt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Gt]||n[Rt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Uh(e);e!==null;){if(n=e[Rt])return n;e=Uh(e)}return t}e=n,n=e.parentNode}return null}function Ai(e){return e=e[Rt]||e[Gt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ks(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function go(e){return e[ni]||null}var fc=[],_s=-1;function An(e){return{current:e}}function se(e){0>_s||(e.current=fc[_s],fc[_s]=null,_s--)}function te(e,t){_s++,fc[_s]=e.current,e.current=t}var En={},De=An(En),Ke=An(!1),Xn=En;function qs(e,t){var n=e.type.contextTypes;if(!n)return En;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Je(e){return e=e.childContextTypes,e!=null}function za(){se(Ke),se(De)}function $h(e,t,n){if(De.current!==En)throw Error(L(168));te(De,t),te(Ke,n)}function Dg(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in t))throw Error(L(108,dw(e)||"Unknown",r));return ue({},n,s)}function Va(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||En,Xn=De.current,te(De,e),te(Ke,Ke.current),!0}function Fh(e,t,n){var s=e.stateNode;if(!s)throw Error(L(169));n?(e=Dg(e,t,Xn),s.__reactInternalMemoizedMergedChildContext=e,se(Ke),se(De),te(De,e)):se(Ke),te(Ke,n)}var Vt=null,vo=!1,cl=!1;function Mg(e){Vt===null?Vt=[e]:Vt.push(e)}function Cb(e){vo=!0,Mg(e)}function Rn(){if(!cl&&Vt!==null){cl=!0;var e=0,t=Q;try{var n=Vt;for(Q=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Vt=null,vo=!1}catch(r){throw Vt!==null&&(Vt=Vt.slice(e+1)),lg(_u,Rn),r}finally{Q=t,cl=!1}}return null}var Ns=[],Es=0,Ba=null,qa=0,dt=[],ht=0,Zn=null,Bt=1,qt="";function Un(e,t){Ns[Es++]=qa,Ns[Es++]=Ba,Ba=e,qa=t}function Ug(e,t,n){dt[ht++]=Bt,dt[ht++]=qt,dt[ht++]=Zn,Zn=e;var s=Bt;e=qt;var r=32-Nt(s)-1;s&=~(1<<r),n+=1;var i=32-Nt(t)+r;if(30<i){var a=r-r%5;i=(s&(1<<a)-1).toString(32),s>>=a,r-=a,Bt=1<<32-Nt(t)+r|n<<r|s,qt=i+e}else Bt=1<<i|n<<r|s,qt=e}function Iu(e){e.return!==null&&(Un(e,1),Ug(e,1,0))}function Lu(e){for(;e===Ba;)Ba=Ns[--Es],Ns[Es]=null,qa=Ns[--Es],Ns[Es]=null;for(;e===Zn;)Zn=dt[--ht],dt[ht]=null,qt=dt[--ht],dt[ht]=null,Bt=dt[--ht],dt[ht]=null}var nt=null,tt=null,re=!1,_t=null;function $g(e,t){var n=mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function zh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,nt=e,tt=yn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,nt=e,tt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Zn!==null?{id:Bt,overflow:qt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,nt=e,tt=null,!0):!1;default:return!1}}function mc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function pc(e){if(re){var t=tt;if(t){var n=t;if(!zh(e,t)){if(mc(e))throw Error(L(418));t=yn(n.nextSibling);var s=nt;t&&zh(e,t)?$g(s,n):(e.flags=e.flags&-4097|2,re=!1,nt=e)}}else{if(mc(e))throw Error(L(418));e.flags=e.flags&-4097|2,re=!1,nt=e}}}function Vh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;nt=e}function ea(e){if(e!==nt)return!1;if(!re)return Vh(e),re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!uc(e.type,e.memoizedProps)),t&&(t=tt)){if(mc(e))throw Fg(),Error(L(418));for(;t;)$g(e,t),t=yn(t.nextSibling)}if(Vh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){tt=yn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}tt=null}}else tt=nt?yn(e.stateNode.nextSibling):null;return!0}function Fg(){for(var e=tt;e;)e=yn(e.nextSibling)}function Hs(){tt=nt=null,re=!1}function Du(e){_t===null?_t=[e]:_t.push(e)}var Tb=Xt.ReactCurrentBatchConfig;function gr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var s=n.stateNode}if(!s)throw Error(L(147,e));var r=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=r.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,e))}return e}function ta(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Bh(e){var t=e._init;return t(e._payload)}function zg(e){function t(m,g){if(e){var w=m.deletions;w===null?(m.deletions=[g],m.flags|=16):w.push(g)}}function n(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function s(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function r(m,g){return m=Sn(m,g),m.index=0,m.sibling=null,m}function i(m,g,w){return m.index=w,e?(w=m.alternate,w!==null?(w=w.index,w<g?(m.flags|=2,g):w):(m.flags|=2,g)):(m.flags|=1048576,g)}function a(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,g,w,j){return g===null||g.tag!==6?(g=gl(w,m.mode,j),g.return=m,g):(g=r(g,w),g.return=m,g)}function c(m,g,w,j){var S=w.type;return S===ws?d(m,g,w.props.children,j,w.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===an&&Bh(S)===g.type)?(j=r(g,w.props),j.ref=gr(m,g,w),j.return=m,j):(j=Na(w.type,w.key,w.props,null,m.mode,j),j.ref=gr(m,g,w),j.return=m,j)}function u(m,g,w,j){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=vl(w,m.mode,j),g.return=m,g):(g=r(g,w.children||[]),g.return=m,g)}function d(m,g,w,j,S){return g===null||g.tag!==7?(g=Jn(w,m.mode,j,S),g.return=m,g):(g=r(g,w),g.return=m,g)}function h(m,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=gl(""+g,m.mode,w),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case qi:return w=Na(g.type,g.key,g.props,null,m.mode,w),w.ref=gr(m,null,g),w.return=m,w;case ys:return g=vl(g,m.mode,w),g.return=m,g;case an:var j=g._init;return h(m,j(g._payload),w)}if(Sr(g)||dr(g))return g=Jn(g,m.mode,w,null),g.return=m,g;ta(m,g)}return null}function f(m,g,w,j){var S=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(m,g,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case qi:return w.key===S?c(m,g,w,j):null;case ys:return w.key===S?u(m,g,w,j):null;case an:return S=w._init,f(m,g,S(w._payload),j)}if(Sr(w)||dr(w))return S!==null?null:d(m,g,w,j,null);ta(m,w)}return null}function p(m,g,w,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return m=m.get(w)||null,l(g,m,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case qi:return m=m.get(j.key===null?w:j.key)||null,c(g,m,j,S);case ys:return m=m.get(j.key===null?w:j.key)||null,u(g,m,j,S);case an:var _=j._init;return p(m,g,w,_(j._payload),S)}if(Sr(j)||dr(j))return m=m.get(w)||null,d(g,m,j,S,null);ta(g,j)}return null}function x(m,g,w,j){for(var S=null,_=null,k=g,N=g=0,O=null;k!==null&&N<w.length;N++){k.index>N?(O=k,k=null):O=k.sibling;var I=f(m,k,w[N],j);if(I===null){k===null&&(k=O);break}e&&k&&I.alternate===null&&t(m,k),g=i(I,g,N),_===null?S=I:_.sibling=I,_=I,k=O}if(N===w.length)return n(m,k),re&&Un(m,N),S;if(k===null){for(;N<w.length;N++)k=h(m,w[N],j),k!==null&&(g=i(k,g,N),_===null?S=k:_.sibling=k,_=k);return re&&Un(m,N),S}for(k=s(m,k);N<w.length;N++)O=p(k,m,N,w[N],j),O!==null&&(e&&O.alternate!==null&&k.delete(O.key===null?N:O.key),g=i(O,g,N),_===null?S=O:_.sibling=O,_=O);return e&&k.forEach(function(T){return t(m,T)}),re&&Un(m,N),S}function y(m,g,w,j){var S=dr(w);if(typeof S!="function")throw Error(L(150));if(w=S.call(w),w==null)throw Error(L(151));for(var _=S=null,k=g,N=g=0,O=null,I=w.next();k!==null&&!I.done;N++,I=w.next()){k.index>N?(O=k,k=null):O=k.sibling;var T=f(m,k,I.value,j);if(T===null){k===null&&(k=O);break}e&&k&&T.alternate===null&&t(m,k),g=i(T,g,N),_===null?S=T:_.sibling=T,_=T,k=O}if(I.done)return n(m,k),re&&Un(m,N),S;if(k===null){for(;!I.done;N++,I=w.next())I=h(m,I.value,j),I!==null&&(g=i(I,g,N),_===null?S=I:_.sibling=I,_=I);return re&&Un(m,N),S}for(k=s(m,k);!I.done;N++,I=w.next())I=p(k,m,N,I.value,j),I!==null&&(e&&I.alternate!==null&&k.delete(I.key===null?N:I.key),g=i(I,g,N),_===null?S=I:_.sibling=I,_=I);return e&&k.forEach(function(U){return t(m,U)}),re&&Un(m,N),S}function b(m,g,w,j){if(typeof w=="object"&&w!==null&&w.type===ws&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case qi:e:{for(var S=w.key,_=g;_!==null;){if(_.key===S){if(S=w.type,S===ws){if(_.tag===7){n(m,_.sibling),g=r(_,w.props.children),g.return=m,m=g;break e}}else if(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===an&&Bh(S)===_.type){n(m,_.sibling),g=r(_,w.props),g.ref=gr(m,_,w),g.return=m,m=g;break e}n(m,_);break}else t(m,_);_=_.sibling}w.type===ws?(g=Jn(w.props.children,m.mode,j,w.key),g.return=m,m=g):(j=Na(w.type,w.key,w.props,null,m.mode,j),j.ref=gr(m,g,w),j.return=m,m=j)}return a(m);case ys:e:{for(_=w.key;g!==null;){if(g.key===_)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(m,g.sibling),g=r(g,w.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else t(m,g);g=g.sibling}g=vl(w,m.mode,j),g.return=m,m=g}return a(m);case an:return _=w._init,b(m,g,_(w._payload),j)}if(Sr(w))return x(m,g,w,j);if(dr(w))return y(m,g,w,j);ta(m,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(m,g.sibling),g=r(g,w),g.return=m,m=g):(n(m,g),g=gl(w,m.mode,j),g.return=m,m=g),a(m)):n(m,g)}return b}var Ws=zg(!0),Vg=zg(!1),Ha=An(null),Wa=null,Cs=null,Mu=null;function Uu(){Mu=Cs=Wa=null}function $u(e){var t=Ha.current;se(Ha),e._currentValue=t}function gc(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Fs(e,t){Wa=e,Mu=Cs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(We=!0),e.firstContext=null)}function xt(e){var t=e._currentValue;if(Mu!==e)if(e={context:e,memoizedValue:t,next:null},Cs===null){if(Wa===null)throw Error(L(308));Cs=e,Wa.dependencies={lanes:0,firstContext:e}}else Cs=Cs.next=e;return t}var qn=null;function Fu(e){qn===null?qn=[e]:qn.push(e)}function Bg(e,t,n,s){var r=t.interleaved;return r===null?(n.next=n,Fu(t)):(n.next=r.next,r.next=n),t.interleaved=n,Kt(e,s)}function Kt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var on=!1;function zu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ht(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function wn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Y&2){var r=s.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t,Kt(e,n)}return r=s.interleaved,r===null?(t.next=t,Fu(s)):(t.next=r.next,r.next=t),s.interleaved=t,Kt(e,n)}function wa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Nu(e,n)}}function qh(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?r=i=t:i=i.next=t}else r=i=t;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ga(e,t,n,s){var r=e.updateQueue;on=!1;var i=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=r.baseState;a=0,d=u=c=null,l=i;do{var f=l.lane,p=l.eventTime;if((s&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,y=l;switch(f=t,p=n,y.tag){case 1:if(x=y.payload,typeof x=="function"){h=x.call(p,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,f=typeof x=="function"?x.call(p,h,f):x,f==null)break e;h=ue({},h,f);break e;case 2:on=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=r.effects,f===null?r.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,a|=f;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;f=l,l=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(d===null&&(c=h),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=d,t=r.shared.interleaved,t!==null){r=t;do a|=r.lane,r=r.next;while(r!==t)}else i===null&&(r.shared.lanes=0);ts|=a,e.lanes=a,e.memoizedState=h}}function Hh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(L(191,r));r.call(s)}}}var Ri={},It=An(Ri),si=An(Ri),ri=An(Ri);function Hn(e){if(e===Ri)throw Error(L(174));return e}function Vu(e,t){switch(te(ri,t),te(si,e),te(It,Ri),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Yl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Yl(t,e)}se(It),te(It,t)}function Gs(){se(It),se(si),se(ri)}function Hg(e){Hn(ri.current);var t=Hn(It.current),n=Yl(t,e.type);t!==n&&(te(si,e),te(It,n))}function Bu(e){si.current===e&&(se(It),se(si))}var ie=An(0);function Ka(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ul=[];function qu(){for(var e=0;e<ul.length;e++)ul[e]._workInProgressVersionPrimary=null;ul.length=0}var ba=Xt.ReactCurrentDispatcher,dl=Xt.ReactCurrentBatchConfig,es=0,oe=null,ge=null,be=null,Ja=!1,Or=!1,ii=0,Pb=0;function Ee(){throw Error(L(321))}function Hu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ct(e[n],t[n]))return!1;return!0}function Wu(e,t,n,s,r,i){if(es=i,oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ba.current=e===null||e.memoizedState===null?Ib:Lb,e=n(s,r),Or){i=0;do{if(Or=!1,ii=0,25<=i)throw Error(L(301));i+=1,be=ge=null,t.updateQueue=null,ba.current=Db,e=n(s,r)}while(Or)}if(ba.current=Ya,t=ge!==null&&ge.next!==null,es=0,be=ge=oe=null,Ja=!1,t)throw Error(L(300));return e}function Gu(){var e=ii!==0;return ii=0,e}function At(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?oe.memoizedState=be=e:be=be.next=e,be}function yt(){if(ge===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=ge.next;var t=be===null?oe.memoizedState:be.next;if(t!==null)be=t,ge=e;else{if(e===null)throw Error(L(310));ge=e,e={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},be===null?oe.memoizedState=be=e:be=be.next=e}return be}function ai(e,t){return typeof t=="function"?t(e):t}function hl(e){var t=yt(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var s=ge,r=s.baseQueue,i=n.pending;if(i!==null){if(r!==null){var a=r.next;r.next=i.next,i.next=a}s.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,s=s.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((es&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=s):c=c.next=h,oe.lanes|=d,ts|=d}u=u.next}while(u!==null&&u!==i);c===null?a=s:c.next=l,Ct(s,t.memoizedState)||(We=!0),t.memoizedState=s,t.baseState=a,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){r=e;do i=r.lane,oe.lanes|=i,ts|=i,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function fl(e){var t=yt(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var s=n.dispatch,r=n.pending,i=t.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do i=e(i,a.action),a=a.next;while(a!==r);Ct(i,t.memoizedState)||(We=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function Wg(){}function Gg(e,t){var n=oe,s=yt(),r=t(),i=!Ct(s.memoizedState,r);if(i&&(s.memoizedState=r,We=!0),s=s.queue,Ku(Yg.bind(null,n,s,e),[e]),s.getSnapshot!==t||i||be!==null&&be.memoizedState.tag&1){if(n.flags|=2048,oi(9,Jg.bind(null,n,s,r,t),void 0,null),je===null)throw Error(L(349));es&30||Kg(n,t,r)}return r}function Kg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Jg(e,t,n,s){t.value=n,t.getSnapshot=s,Qg(t)&&Xg(e)}function Yg(e,t,n){return n(function(){Qg(t)&&Xg(e)})}function Qg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ct(e,n)}catch{return!0}}function Xg(e){var t=Kt(e,1);t!==null&&Et(t,e,1,-1)}function Wh(e){var t=At();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:e},t.queue=e,e=e.dispatch=Ob.bind(null,oe,e),[t.memoizedState,e]}function oi(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Zg(){return yt().memoizedState}function ja(e,t,n,s){var r=At();oe.flags|=e,r.memoizedState=oi(1|t,n,void 0,s===void 0?null:s)}function xo(e,t,n,s){var r=yt();s=s===void 0?null:s;var i=void 0;if(ge!==null){var a=ge.memoizedState;if(i=a.destroy,s!==null&&Hu(s,a.deps)){r.memoizedState=oi(t,n,i,s);return}}oe.flags|=e,r.memoizedState=oi(1|t,n,i,s)}function Gh(e,t){return ja(8390656,8,e,t)}function Ku(e,t){return xo(2048,8,e,t)}function e0(e,t){return xo(4,2,e,t)}function t0(e,t){return xo(4,4,e,t)}function n0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function s0(e,t,n){return n=n!=null?n.concat([e]):null,xo(4,4,n0.bind(null,t,e),n)}function Ju(){}function r0(e,t){var n=yt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Hu(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function i0(e,t){var n=yt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Hu(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function a0(e,t,n){return es&21?(Ct(n,t)||(n=dg(),oe.lanes|=n,ts|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,We=!0),e.memoizedState=n)}function Ab(e,t){var n=Q;Q=n!==0&&4>n?n:4,e(!0);var s=dl.transition;dl.transition={};try{e(!1),t()}finally{Q=n,dl.transition=s}}function o0(){return yt().memoizedState}function Rb(e,t,n){var s=jn(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},l0(e))c0(t,n);else if(n=Bg(e,t,n,s),n!==null){var r=$e();Et(n,e,s,r),u0(n,t,s)}}function Ob(e,t,n){var s=jn(e),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(l0(e))c0(t,r);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,n);if(r.hasEagerState=!0,r.eagerState=l,Ct(l,a)){var c=t.interleaved;c===null?(r.next=r,Fu(t)):(r.next=c.next,c.next=r),t.interleaved=r;return}}catch{}finally{}n=Bg(e,t,r,s),n!==null&&(r=$e(),Et(n,e,s,r),u0(n,t,s))}}function l0(e){var t=e.alternate;return e===oe||t!==null&&t===oe}function c0(e,t){Or=Ja=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function u0(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Nu(e,n)}}var Ya={readContext:xt,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useInsertionEffect:Ee,useLayoutEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useMutableSource:Ee,useSyncExternalStore:Ee,useId:Ee,unstable_isNewReconciler:!1},Ib={readContext:xt,useCallback:function(e,t){return At().memoizedState=[e,t===void 0?null:t],e},useContext:xt,useEffect:Gh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ja(4194308,4,n0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ja(4194308,4,e,t)},useInsertionEffect:function(e,t){return ja(4,2,e,t)},useMemo:function(e,t){var n=At();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=At();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Rb.bind(null,oe,e),[s.memoizedState,e]},useRef:function(e){var t=At();return e={current:e},t.memoizedState=e},useState:Wh,useDebugValue:Ju,useDeferredValue:function(e){return At().memoizedState=e},useTransition:function(){var e=Wh(!1),t=e[0];return e=Ab.bind(null,e[1]),At().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=oe,r=At();if(re){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),je===null)throw Error(L(349));es&30||Kg(s,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,Gh(Yg.bind(null,s,i,e),[e]),s.flags|=2048,oi(9,Jg.bind(null,s,i,n,t),void 0,null),n},useId:function(){var e=At(),t=je.identifierPrefix;if(re){var n=qt,s=Bt;n=(s&~(1<<32-Nt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=ii++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Pb++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Lb={readContext:xt,useCallback:r0,useContext:xt,useEffect:Ku,useImperativeHandle:s0,useInsertionEffect:e0,useLayoutEffect:t0,useMemo:i0,useReducer:hl,useRef:Zg,useState:function(){return hl(ai)},useDebugValue:Ju,useDeferredValue:function(e){var t=yt();return a0(t,ge.memoizedState,e)},useTransition:function(){var e=hl(ai)[0],t=yt().memoizedState;return[e,t]},useMutableSource:Wg,useSyncExternalStore:Gg,useId:o0,unstable_isNewReconciler:!1},Db={readContext:xt,useCallback:r0,useContext:xt,useEffect:Ku,useImperativeHandle:s0,useInsertionEffect:e0,useLayoutEffect:t0,useMemo:i0,useReducer:fl,useRef:Zg,useState:function(){return fl(ai)},useDebugValue:Ju,useDeferredValue:function(e){var t=yt();return ge===null?t.memoizedState=e:a0(t,ge.memoizedState,e)},useTransition:function(){var e=fl(ai)[0],t=yt().memoizedState;return[e,t]},useMutableSource:Wg,useSyncExternalStore:Gg,useId:o0,unstable_isNewReconciler:!1};function jt(e,t){if(e&&e.defaultProps){t=ue({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function vc(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:ue({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var yo={isMounted:function(e){return(e=e._reactInternals)?as(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=$e(),r=jn(e),i=Ht(s,r);i.payload=t,n!=null&&(i.callback=n),t=wn(e,i,r),t!==null&&(Et(t,e,r,s),wa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=$e(),r=jn(e),i=Ht(s,r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=wn(e,i,r),t!==null&&(Et(t,e,r,s),wa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$e(),s=jn(e),r=Ht(n,s);r.tag=2,t!=null&&(r.callback=t),t=wn(e,r,s),t!==null&&(Et(t,e,s,n),wa(t,e,s))}};function Kh(e,t,n,s,r,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,a):t.prototype&&t.prototype.isPureReactComponent?!Zr(n,s)||!Zr(r,i):!0}function d0(e,t,n){var s=!1,r=En,i=t.contextType;return typeof i=="object"&&i!==null?i=xt(i):(r=Je(t)?Xn:De.current,s=t.contextTypes,i=(s=s!=null)?qs(e,r):En),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yo,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),t}function Jh(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&yo.enqueueReplaceState(t,t.state,null)}function xc(e,t,n,s){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},zu(e);var i=t.contextType;typeof i=="object"&&i!==null?r.context=xt(i):(i=Je(t)?Xn:De.current,r.context=qs(e,i)),r.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(vc(e,t,i,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&yo.enqueueReplaceState(r,r.state,null),Ga(e,n,r,s),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function Ks(e,t){try{var n="",s=t;do n+=uw(s),s=s.return;while(s);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:r,digest:null}}function ml(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function yc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Mb=typeof WeakMap=="function"?WeakMap:Map;function h0(e,t,n){n=Ht(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Xa||(Xa=!0,Tc=s),yc(e,t)},n}function f0(e,t,n){n=Ht(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var r=t.value;n.payload=function(){return s(r)},n.callback=function(){yc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){yc(e,t),typeof s!="function"&&(bn===null?bn=new Set([this]):bn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Yh(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Mb;var r=new Set;s.set(t,r)}else r=s.get(t),r===void 0&&(r=new Set,s.set(t,r));r.has(n)||(r.add(n),e=Qb.bind(null,e,t,n),t.then(e,e))}function Qh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Xh(e,t,n,s,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ht(-1,1),t.tag=2,wn(n,t,1))),n.lanes|=1),e)}var Ub=Xt.ReactCurrentOwner,We=!1;function Me(e,t,n,s){t.child=e===null?Vg(t,null,n,s):Ws(t,e.child,n,s)}function Zh(e,t,n,s,r){n=n.render;var i=t.ref;return Fs(t,r),s=Wu(e,t,n,s,i,r),n=Gu(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Jt(e,t,r)):(re&&n&&Iu(t),t.flags|=1,Me(e,t,s,r),t.child)}function ef(e,t,n,s,r){if(e===null){var i=n.type;return typeof i=="function"&&!sd(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,m0(e,t,i,s,r)):(e=Na(n.type,null,s,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&r)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Zr,n(a,s)&&e.ref===t.ref)return Jt(e,t,r)}return t.flags|=1,e=Sn(i,s),e.ref=t.ref,e.return=t,t.child=e}function m0(e,t,n,s,r){if(e!==null){var i=e.memoizedProps;if(Zr(i,s)&&e.ref===t.ref)if(We=!1,t.pendingProps=s=i,(e.lanes&r)!==0)e.flags&131072&&(We=!0);else return t.lanes=e.lanes,Jt(e,t,r)}return wc(e,t,n,s,r)}function p0(e,t,n){var s=t.pendingProps,r=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(Ps,et),et|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,te(Ps,et),et|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,te(Ps,et),et|=s}else i!==null?(s=i.baseLanes|n,t.memoizedState=null):s=n,te(Ps,et),et|=s;return Me(e,t,r,n),t.child}function g0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function wc(e,t,n,s,r){var i=Je(n)?Xn:De.current;return i=qs(t,i),Fs(t,r),n=Wu(e,t,n,s,i,r),s=Gu(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Jt(e,t,r)):(re&&s&&Iu(t),t.flags|=1,Me(e,t,n,r),t.child)}function tf(e,t,n,s,r){if(Je(n)){var i=!0;Va(t)}else i=!1;if(Fs(t,r),t.stateNode===null)Sa(e,t),d0(t,n,s),xc(t,n,s,r),s=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=xt(u):(u=Je(n)?Xn:De.current,u=qs(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==s||c!==u)&&Jh(t,a,s,u),on=!1;var f=t.memoizedState;a.state=f,Ga(t,s,a,r),c=t.memoizedState,l!==s||f!==c||Ke.current||on?(typeof d=="function"&&(vc(t,n,d,s),c=t.memoizedState),(l=on||Kh(t,n,l,s,f,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),a.props=s,a.state=c,a.context=u,s=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{a=t.stateNode,qg(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:jt(t.type,l),a.props=u,h=t.pendingProps,f=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=xt(c):(c=Je(n)?Xn:De.current,c=qs(t,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Jh(t,a,s,c),on=!1,f=t.memoizedState,a.state=f,Ga(t,s,a,r);var x=t.memoizedState;l!==h||f!==x||Ke.current||on?(typeof p=="function"&&(vc(t,n,p,s),x=t.memoizedState),(u=on||Kh(t,n,u,s,f,x,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(s,x,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(s,x,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=x),a.props=s,a.state=x,a.context=c,s=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),s=!1)}return bc(e,t,n,s,i,r)}function bc(e,t,n,s,r,i){g0(e,t);var a=(t.flags&128)!==0;if(!s&&!a)return r&&Fh(t,n,!1),Jt(e,t,i);s=t.stateNode,Ub.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&a?(t.child=Ws(t,e.child,null,i),t.child=Ws(t,null,l,i)):Me(e,t,l,i),t.memoizedState=s.state,r&&Fh(t,n,!0),t.child}function v0(e){var t=e.stateNode;t.pendingContext?$h(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$h(e,t.context,!1),Vu(e,t.containerInfo)}function nf(e,t,n,s,r){return Hs(),Du(r),t.flags|=256,Me(e,t,n,s),t.child}var jc={dehydrated:null,treeContext:null,retryLane:0};function Sc(e){return{baseLanes:e,cachePool:null,transitions:null}}function x0(e,t,n){var s=t.pendingProps,r=ie.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(r&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),te(ie,r&1),e===null)return pc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=s.children,e=s.fallback,i?(s=t.mode,i=t.child,a={mode:"hidden",children:a},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=jo(a,s,0,null),e=Jn(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Sc(n),t.memoizedState=jc,e):Yu(t,a));if(r=e.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return $b(e,t,a,s,l,r,n);if(i){i=s.fallback,a=t.mode,r=e.child,l=r.sibling;var c={mode:"hidden",children:s.children};return!(a&1)&&t.child!==r?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=Sn(r,c),s.subtreeFlags=r.subtreeFlags&14680064),l!==null?i=Sn(l,i):(i=Jn(i,a,n,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,a=e.child.memoizedState,a=a===null?Sc(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=jc,s}return i=e.child,e=i.sibling,s=Sn(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Yu(e,t){return t=jo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function na(e,t,n,s){return s!==null&&Du(s),Ws(t,e.child,null,n),e=Yu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $b(e,t,n,s,r,i,a){if(n)return t.flags&256?(t.flags&=-257,s=ml(Error(L(422))),na(e,t,a,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,r=t.mode,s=jo({mode:"visible",children:s.children},r,0,null),i=Jn(i,r,a,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&Ws(t,e.child,null,a),t.child.memoizedState=Sc(a),t.memoizedState=jc,i);if(!(t.mode&1))return na(e,t,a,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(L(419)),s=ml(i,s,void 0),na(e,t,a,s)}if(l=(a&e.childLanes)!==0,We||l){if(s=je,s!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|a)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,Kt(e,r),Et(s,e,r,-1))}return nd(),s=ml(Error(L(421))),na(e,t,a,s)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=Xb.bind(null,e),r._reactRetry=t,null):(e=i.treeContext,tt=yn(r.nextSibling),nt=t,re=!0,_t=null,e!==null&&(dt[ht++]=Bt,dt[ht++]=qt,dt[ht++]=Zn,Bt=e.id,qt=e.overflow,Zn=t),t=Yu(t,s.children),t.flags|=4096,t)}function sf(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),gc(e.return,t,n)}function pl(e,t,n,s,r){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function y0(e,t,n){var s=t.pendingProps,r=s.revealOrder,i=s.tail;if(Me(e,t,s.children,n),s=ie.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sf(e,n,t);else if(e.tag===19)sf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(te(ie,s),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Ka(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),pl(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Ka(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}pl(t,!0,n,null,i);break;case"together":pl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Jt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ts|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=Sn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Sn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Fb(e,t,n){switch(t.tag){case 3:v0(t),Hs();break;case 5:Hg(t);break;case 1:Je(t.type)&&Va(t);break;case 4:Vu(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,r=t.memoizedProps.value;te(Ha,s._currentValue),s._currentValue=r;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(te(ie,ie.current&1),t.flags|=128,null):n&t.child.childLanes?x0(e,t,n):(te(ie,ie.current&1),e=Jt(e,t,n),e!==null?e.sibling:null);te(ie,ie.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return y0(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),te(ie,ie.current),s)break;return null;case 22:case 23:return t.lanes=0,p0(e,t,n)}return Jt(e,t,n)}var w0,kc,b0,j0;w0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};kc=function(){};b0=function(e,t,n,s){var r=e.memoizedProps;if(r!==s){e=t.stateNode,Hn(It.current);var i=null;switch(n){case"input":r=Wl(e,r),s=Wl(e,s),i=[];break;case"select":r=ue({},r,{value:void 0}),s=ue({},s,{value:void 0}),i=[];break;case"textarea":r=Jl(e,r),s=Jl(e,s),i=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Fa)}Ql(n,s);var a;n=null;for(u in r)if(!s.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var l=r[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Wr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var c=s[u];if(l=r!=null?r[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Wr.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ne("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};j0=function(e,t,n,s){n!==s&&(t.flags|=4)};function vr(e,t){if(!re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ce(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function zb(e,t,n){var s=t.pendingProps;switch(Lu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(t),null;case 1:return Je(t.type)&&za(),Ce(t),null;case 3:return s=t.stateNode,Gs(),se(Ke),se(De),qu(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ea(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_t!==null&&(Rc(_t),_t=null))),kc(e,t),Ce(t),null;case 5:Bu(t);var r=Hn(ri.current);if(n=t.type,e!==null&&t.stateNode!=null)b0(e,t,n,s,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(L(166));return Ce(t),null}if(e=Hn(It.current),ea(t)){s=t.stateNode,n=t.type;var i=t.memoizedProps;switch(s[Rt]=t,s[ni]=i,e=(t.mode&1)!==0,n){case"dialog":ne("cancel",s),ne("close",s);break;case"iframe":case"object":case"embed":ne("load",s);break;case"video":case"audio":for(r=0;r<_r.length;r++)ne(_r[r],s);break;case"source":ne("error",s);break;case"img":case"image":case"link":ne("error",s),ne("load",s);break;case"details":ne("toggle",s);break;case"input":hh(s,i),ne("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},ne("invalid",s);break;case"textarea":mh(s,i),ne("invalid",s)}Ql(n,i),r=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&Zi(s.textContent,l,e),r=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Zi(s.textContent,l,e),r=["children",""+l]):Wr.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&ne("scroll",s)}switch(n){case"input":Hi(s),fh(s,i,!0);break;case"textarea":Hi(s),ph(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Fa)}s=r,t.updateQueue=s,s!==null&&(t.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Yp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=a.createElement(n,{is:s.is}):(e=a.createElement(n),n==="select"&&(a=e,s.multiple?a.multiple=!0:s.size&&(a.size=s.size))):e=a.createElementNS(e,n),e[Rt]=t,e[ni]=s,w0(e,t,!1,!1),t.stateNode=e;e:{switch(a=Xl(n,s),n){case"dialog":ne("cancel",e),ne("close",e),r=s;break;case"iframe":case"object":case"embed":ne("load",e),r=s;break;case"video":case"audio":for(r=0;r<_r.length;r++)ne(_r[r],e);r=s;break;case"source":ne("error",e),r=s;break;case"img":case"image":case"link":ne("error",e),ne("load",e),r=s;break;case"details":ne("toggle",e),r=s;break;case"input":hh(e,s),r=Wl(e,s),ne("invalid",e);break;case"option":r=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},r=ue({},s,{value:void 0}),ne("invalid",e);break;case"textarea":mh(e,s),r=Jl(e,s),ne("invalid",e);break;default:r=s}Ql(n,r),l=r;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Zp(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Qp(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Gr(e,c):typeof c=="number"&&Gr(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Wr.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ne("scroll",e):c!=null&&wu(e,i,c,a))}switch(n){case"input":Hi(e),fh(e,s,!1);break;case"textarea":Hi(e),ph(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Nn(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?Ds(e,!!s.multiple,i,!1):s.defaultValue!=null&&Ds(e,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=Fa)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ce(t),null;case 6:if(e&&t.stateNode!=null)j0(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(L(166));if(n=Hn(ri.current),Hn(It.current),ea(t)){if(s=t.stateNode,n=t.memoizedProps,s[Rt]=t,(i=s.nodeValue!==n)&&(e=nt,e!==null))switch(e.tag){case 3:Zi(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zi(s.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Rt]=t,t.stateNode=s}return Ce(t),null;case 13:if(se(ie),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(re&&tt!==null&&t.mode&1&&!(t.flags&128))Fg(),Hs(),t.flags|=98560,i=!1;else if(i=ea(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(L(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(L(317));i[Rt]=t}else Hs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ce(t),i=!1}else _t!==null&&(Rc(_t),_t=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||ie.current&1?ve===0&&(ve=3):nd())),t.updateQueue!==null&&(t.flags|=4),Ce(t),null);case 4:return Gs(),kc(e,t),e===null&&ei(t.stateNode.containerInfo),Ce(t),null;case 10:return $u(t.type._context),Ce(t),null;case 17:return Je(t.type)&&za(),Ce(t),null;case 19:if(se(ie),i=t.memoizedState,i===null)return Ce(t),null;if(s=(t.flags&128)!==0,a=i.rendering,a===null)if(s)vr(i,!1);else{if(ve!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ka(e),a!==null){for(t.flags|=128,vr(i,!1),s=a.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)i=n,e=s,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return te(ie,ie.current&1|2),t.child}e=e.sibling}i.tail!==null&&me()>Js&&(t.flags|=128,s=!0,vr(i,!1),t.lanes=4194304)}else{if(!s)if(e=Ka(a),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),vr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!re)return Ce(t),null}else 2*me()-i.renderingStartTime>Js&&n!==1073741824&&(t.flags|=128,s=!0,vr(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=me(),t.sibling=null,n=ie.current,te(ie,s?n&1|2:n&1),t):(Ce(t),null);case 22:case 23:return td(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?et&1073741824&&(Ce(t),t.subtreeFlags&6&&(t.flags|=8192)):Ce(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function Vb(e,t){switch(Lu(t),t.tag){case 1:return Je(t.type)&&za(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gs(),se(Ke),se(De),qu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Bu(t),null;case 13:if(se(ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));Hs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return se(ie),null;case 4:return Gs(),null;case 10:return $u(t.type._context),null;case 22:case 23:return td(),null;case 24:return null;default:return null}}var sa=!1,Re=!1,Bb=typeof WeakSet=="function"?WeakSet:Set,F=null;function Ts(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){he(e,t,s)}else n.current=null}function _c(e,t,n){try{n()}catch(s){he(e,t,s)}}var rf=!1;function qb(e,t){if(lc=Ma,e=Eg(),Ou(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||r!==0&&h.nodeType!==3||(l=a+r),h!==i||s!==0&&h.nodeType!==3||(c=a+s),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===r&&(l=a),f===i&&++d===s&&(c=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(cc={focusedElem:e,selectionRange:n},Ma=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,b=x.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:jt(t.type,y),b);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(j){he(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return x=rf,rf=!1,x}function Ir(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&e)===e){var i=r.destroy;r.destroy=void 0,i!==void 0&&_c(t,n,i)}r=r.next}while(r!==s)}}function wo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function Nc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function S0(e){var t=e.alternate;t!==null&&(e.alternate=null,S0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rt],delete t[ni],delete t[hc],delete t[Nb],delete t[Eb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function k0(e){return e.tag===5||e.tag===3||e.tag===4}function af(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||k0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ec(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Fa));else if(s!==4&&(e=e.child,e!==null))for(Ec(e,t,n),e=e.sibling;e!==null;)Ec(e,t,n),e=e.sibling}function Cc(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Cc(e,t,n),e=e.sibling;e!==null;)Cc(e,t,n),e=e.sibling}var Se=null,St=!1;function tn(e,t,n){for(n=n.child;n!==null;)_0(e,t,n),n=n.sibling}function _0(e,t,n){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(ho,n)}catch{}switch(n.tag){case 5:Re||Ts(n,t);case 6:var s=Se,r=St;Se=null,tn(e,t,n),Se=s,St=r,Se!==null&&(St?(e=Se,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Se.removeChild(n.stateNode));break;case 18:Se!==null&&(St?(e=Se,n=n.stateNode,e.nodeType===8?ll(e.parentNode,n):e.nodeType===1&&ll(e,n),Qr(e)):ll(Se,n.stateNode));break;case 4:s=Se,r=St,Se=n.stateNode.containerInfo,St=!0,tn(e,t,n),Se=s,St=r;break;case 0:case 11:case 14:case 15:if(!Re&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var i=r,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&_c(n,t,a),r=r.next}while(r!==s)}tn(e,t,n);break;case 1:if(!Re&&(Ts(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){he(n,t,l)}tn(e,t,n);break;case 21:tn(e,t,n);break;case 22:n.mode&1?(Re=(s=Re)||n.memoizedState!==null,tn(e,t,n),Re=s):tn(e,t,n);break;default:tn(e,t,n)}}function of(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Bb),t.forEach(function(s){var r=Zb.bind(null,e,s);n.has(s)||(n.add(s),s.then(r,r))})}}function wt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Se=l.stateNode,St=!1;break e;case 3:Se=l.stateNode.containerInfo,St=!0;break e;case 4:Se=l.stateNode.containerInfo,St=!0;break e}l=l.return}if(Se===null)throw Error(L(160));_0(i,a,r),Se=null,St=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(u){he(r,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)N0(t,e),t=t.sibling}function N0(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wt(t,e),Tt(e),s&4){try{Ir(3,e,e.return),wo(3,e)}catch(y){he(e,e.return,y)}try{Ir(5,e,e.return)}catch(y){he(e,e.return,y)}}break;case 1:wt(t,e),Tt(e),s&512&&n!==null&&Ts(n,n.return);break;case 5:if(wt(t,e),Tt(e),s&512&&n!==null&&Ts(n,n.return),e.flags&32){var r=e.stateNode;try{Gr(r,"")}catch(y){he(e,e.return,y)}}if(s&4&&(r=e.stateNode,r!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Kp(r,i),Xl(l,a);var u=Xl(l,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?Zp(r,h):d==="dangerouslySetInnerHTML"?Qp(r,h):d==="children"?Gr(r,h):wu(r,d,h,u)}switch(l){case"input":Gl(r,i);break;case"textarea":Jp(r,i);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ds(r,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Ds(r,!!i.multiple,i.defaultValue,!0):Ds(r,!!i.multiple,i.multiple?[]:"",!1))}r[ni]=i}catch(y){he(e,e.return,y)}}break;case 6:if(wt(t,e),Tt(e),s&4){if(e.stateNode===null)throw Error(L(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(y){he(e,e.return,y)}}break;case 3:if(wt(t,e),Tt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Qr(t.containerInfo)}catch(y){he(e,e.return,y)}break;case 4:wt(t,e),Tt(e);break;case 13:wt(t,e),Tt(e),r=e.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(Zu=me())),s&4&&of(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Re=(u=Re)||d,wt(t,e),Re=u):wt(t,e),Tt(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(F=e,d=e.child;d!==null;){for(h=F=d;F!==null;){switch(f=F,p=f.child,f.tag){case 0:case 11:case 14:case 15:Ir(4,f,f.return);break;case 1:Ts(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){s=f,n=f.return;try{t=s,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(y){he(s,n,y)}}break;case 5:Ts(f,f.return);break;case 22:if(f.memoizedState!==null){cf(h);continue}}p!==null?(p.return=f,F=p):cf(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{r=h.stateNode,u?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Xp("display",a))}catch(y){he(e,e.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){he(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:wt(t,e),Tt(e),s&4&&of(e);break;case 21:break;default:wt(t,e),Tt(e)}}function Tt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(k0(n)){var s=n;break e}n=n.return}throw Error(L(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(Gr(r,""),s.flags&=-33);var i=af(e);Cc(e,i,r);break;case 3:case 4:var a=s.stateNode.containerInfo,l=af(e);Ec(e,l,a);break;default:throw Error(L(161))}}catch(c){he(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Hb(e,t,n){F=e,E0(e)}function E0(e,t,n){for(var s=(e.mode&1)!==0;F!==null;){var r=F,i=r.child;if(r.tag===22&&s){var a=r.memoizedState!==null||sa;if(!a){var l=r.alternate,c=l!==null&&l.memoizedState!==null||Re;l=sa;var u=Re;if(sa=a,(Re=c)&&!u)for(F=r;F!==null;)a=F,c=a.child,a.tag===22&&a.memoizedState!==null?uf(r):c!==null?(c.return=a,F=c):uf(r);for(;i!==null;)F=i,E0(i),i=i.sibling;F=r,sa=l,Re=u}lf(e)}else r.subtreeFlags&8772&&i!==null?(i.return=r,F=i):lf(e)}}function lf(e){for(;F!==null;){var t=F;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Re||wo(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Re)if(n===null)s.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:jt(t.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Hh(t,i,s);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Hh(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Qr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Re||t.flags&512&&Nc(t)}catch(f){he(t,t.return,f)}}if(t===e){F=null;break}if(n=t.sibling,n!==null){n.return=t.return,F=n;break}F=t.return}}function cf(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var n=t.sibling;if(n!==null){n.return=t.return,F=n;break}F=t.return}}function uf(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{wo(4,t)}catch(c){he(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var r=t.return;try{s.componentDidMount()}catch(c){he(t,r,c)}}var i=t.return;try{Nc(t)}catch(c){he(t,i,c)}break;case 5:var a=t.return;try{Nc(t)}catch(c){he(t,a,c)}}}catch(c){he(t,t.return,c)}if(t===e){F=null;break}var l=t.sibling;if(l!==null){l.return=t.return,F=l;break}F=t.return}}var Wb=Math.ceil,Qa=Xt.ReactCurrentDispatcher,Qu=Xt.ReactCurrentOwner,pt=Xt.ReactCurrentBatchConfig,Y=0,je=null,pe=null,_e=0,et=0,Ps=An(0),ve=0,li=null,ts=0,bo=0,Xu=0,Lr=null,qe=null,Zu=0,Js=1/0,Ft=null,Xa=!1,Tc=null,bn=null,ra=!1,mn=null,Za=0,Dr=0,Pc=null,ka=-1,_a=0;function $e(){return Y&6?me():ka!==-1?ka:ka=me()}function jn(e){return e.mode&1?Y&2&&_e!==0?_e&-_e:Tb.transition!==null?(_a===0&&(_a=dg()),_a):(e=Q,e!==0||(e=window.event,e=e===void 0?16:xg(e.type)),e):1}function Et(e,t,n,s){if(50<Dr)throw Dr=0,Pc=null,Error(L(185));Ti(e,n,s),(!(Y&2)||e!==je)&&(e===je&&(!(Y&2)&&(bo|=n),ve===4&&dn(e,_e)),Ye(e,s),n===1&&Y===0&&!(t.mode&1)&&(Js=me()+500,vo&&Rn()))}function Ye(e,t){var n=e.callbackNode;Tw(e,t);var s=Da(e,e===je?_e:0);if(s===0)n!==null&&xh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&xh(n),t===1)e.tag===0?Cb(df.bind(null,e)):Mg(df.bind(null,e)),kb(function(){!(Y&6)&&Rn()}),n=null;else{switch(hg(s)){case 1:n=_u;break;case 4:n=cg;break;case 16:n=La;break;case 536870912:n=ug;break;default:n=La}n=L0(n,C0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function C0(e,t){if(ka=-1,_a=0,Y&6)throw Error(L(327));var n=e.callbackNode;if(zs()&&e.callbackNode!==n)return null;var s=Da(e,e===je?_e:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=eo(e,s);else{t=s;var r=Y;Y|=2;var i=P0();(je!==e||_e!==t)&&(Ft=null,Js=me()+500,Kn(e,t));do try{Jb();break}catch(l){T0(e,l)}while(!0);Uu(),Qa.current=i,Y=r,pe!==null?t=0:(je=null,_e=0,t=ve)}if(t!==0){if(t===2&&(r=sc(e),r!==0&&(s=r,t=Ac(e,r))),t===1)throw n=li,Kn(e,0),dn(e,s),Ye(e,me()),n;if(t===6)dn(e,s);else{if(r=e.current.alternate,!(s&30)&&!Gb(r)&&(t=eo(e,s),t===2&&(i=sc(e),i!==0&&(s=i,t=Ac(e,i))),t===1))throw n=li,Kn(e,0),dn(e,s),Ye(e,me()),n;switch(e.finishedWork=r,e.finishedLanes=s,t){case 0:case 1:throw Error(L(345));case 2:$n(e,qe,Ft);break;case 3:if(dn(e,s),(s&130023424)===s&&(t=Zu+500-me(),10<t)){if(Da(e,0)!==0)break;if(r=e.suspendedLanes,(r&s)!==s){$e(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=dc($n.bind(null,e,qe,Ft),t);break}$n(e,qe,Ft);break;case 4:if(dn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,r=-1;0<s;){var a=31-Nt(s);i=1<<a,a=t[a],a>r&&(r=a),s&=~i}if(s=r,s=me()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Wb(s/1960))-s,10<s){e.timeoutHandle=dc($n.bind(null,e,qe,Ft),s);break}$n(e,qe,Ft);break;case 5:$n(e,qe,Ft);break;default:throw Error(L(329))}}}return Ye(e,me()),e.callbackNode===n?C0.bind(null,e):null}function Ac(e,t){var n=Lr;return e.current.memoizedState.isDehydrated&&(Kn(e,t).flags|=256),e=eo(e,t),e!==2&&(t=qe,qe=n,t!==null&&Rc(t)),e}function Rc(e){qe===null?qe=e:qe.push.apply(qe,e)}function Gb(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!Ct(i(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function dn(e,t){for(t&=~Xu,t&=~bo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Nt(t),s=1<<n;e[n]=-1,t&=~s}}function df(e){if(Y&6)throw Error(L(327));zs();var t=Da(e,0);if(!(t&1))return Ye(e,me()),null;var n=eo(e,t);if(e.tag!==0&&n===2){var s=sc(e);s!==0&&(t=s,n=Ac(e,s))}if(n===1)throw n=li,Kn(e,0),dn(e,t),Ye(e,me()),n;if(n===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$n(e,qe,Ft),Ye(e,me()),null}function ed(e,t){var n=Y;Y|=1;try{return e(t)}finally{Y=n,Y===0&&(Js=me()+500,vo&&Rn())}}function ns(e){mn!==null&&mn.tag===0&&!(Y&6)&&zs();var t=Y;Y|=1;var n=pt.transition,s=Q;try{if(pt.transition=null,Q=1,e)return e()}finally{Q=s,pt.transition=n,Y=t,!(Y&6)&&Rn()}}function td(){et=Ps.current,se(Ps)}function Kn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Sb(n)),pe!==null)for(n=pe.return;n!==null;){var s=n;switch(Lu(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&za();break;case 3:Gs(),se(Ke),se(De),qu();break;case 5:Bu(s);break;case 4:Gs();break;case 13:se(ie);break;case 19:se(ie);break;case 10:$u(s.type._context);break;case 22:case 23:td()}n=n.return}if(je=e,pe=e=Sn(e.current,null),_e=et=t,ve=0,li=null,Xu=bo=ts=0,qe=Lr=null,qn!==null){for(t=0;t<qn.length;t++)if(n=qn[t],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,i=n.pending;if(i!==null){var a=i.next;i.next=r,s.next=a}n.pending=s}qn=null}return e}function T0(e,t){do{var n=pe;try{if(Uu(),ba.current=Ya,Ja){for(var s=oe.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Ja=!1}if(es=0,be=ge=oe=null,Or=!1,ii=0,Qu.current=null,n===null||n.return===null){ve=1,li=t,pe=null;break}e:{var i=e,a=n.return,l=n,c=t;if(t=_e,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Qh(a);if(p!==null){p.flags&=-257,Xh(p,a,l,i,t),p.mode&1&&Yh(i,u,t),t=p,c=u;var x=t.updateQueue;if(x===null){var y=new Set;y.add(c),t.updateQueue=y}else x.add(c);break e}else{if(!(t&1)){Yh(i,u,t),nd();break e}c=Error(L(426))}}else if(re&&l.mode&1){var b=Qh(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Xh(b,a,l,i,t),Du(Ks(c,l));break e}}i=c=Ks(c,l),ve!==4&&(ve=2),Lr===null?Lr=[i]:Lr.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=h0(i,c,t);qh(i,m);break e;case 1:l=c;var g=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(bn===null||!bn.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=f0(i,l,t);qh(i,j);break e}}i=i.return}while(i!==null)}R0(n)}catch(S){t=S,pe===n&&n!==null&&(pe=n=n.return);continue}break}while(!0)}function P0(){var e=Qa.current;return Qa.current=Ya,e===null?Ya:e}function nd(){(ve===0||ve===3||ve===2)&&(ve=4),je===null||!(ts&268435455)&&!(bo&268435455)||dn(je,_e)}function eo(e,t){var n=Y;Y|=2;var s=P0();(je!==e||_e!==t)&&(Ft=null,Kn(e,t));do try{Kb();break}catch(r){T0(e,r)}while(!0);if(Uu(),Y=n,Qa.current=s,pe!==null)throw Error(L(261));return je=null,_e=0,ve}function Kb(){for(;pe!==null;)A0(pe)}function Jb(){for(;pe!==null&&!ww();)A0(pe)}function A0(e){var t=I0(e.alternate,e,et);e.memoizedProps=e.pendingProps,t===null?R0(e):pe=t,Qu.current=null}function R0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Vb(n,t),n!==null){n.flags&=32767,pe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ve=6,pe=null;return}}else if(n=zb(n,t,et),n!==null){pe=n;return}if(t=t.sibling,t!==null){pe=t;return}pe=t=e}while(t!==null);ve===0&&(ve=5)}function $n(e,t,n){var s=Q,r=pt.transition;try{pt.transition=null,Q=1,Yb(e,t,n,s)}finally{pt.transition=r,Q=s}return null}function Yb(e,t,n,s){do zs();while(mn!==null);if(Y&6)throw Error(L(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Pw(e,i),e===je&&(pe=je=null,_e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ra||(ra=!0,L0(La,function(){return zs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=pt.transition,pt.transition=null;var a=Q;Q=1;var l=Y;Y|=4,Qu.current=null,qb(e,n),N0(n,e),gb(cc),Ma=!!lc,cc=lc=null,e.current=n,Hb(n),bw(),Y=l,Q=a,pt.transition=i}else e.current=n;if(ra&&(ra=!1,mn=e,Za=r),i=e.pendingLanes,i===0&&(bn=null),kw(n.stateNode),Ye(e,me()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(Xa)throw Xa=!1,e=Tc,Tc=null,e;return Za&1&&e.tag!==0&&zs(),i=e.pendingLanes,i&1?e===Pc?Dr++:(Dr=0,Pc=e):Dr=0,Rn(),null}function zs(){if(mn!==null){var e=hg(Za),t=pt.transition,n=Q;try{if(pt.transition=null,Q=16>e?16:e,mn===null)var s=!1;else{if(e=mn,mn=null,Za=0,Y&6)throw Error(L(331));var r=Y;for(Y|=4,F=e.current;F!==null;){var i=F,a=i.child;if(F.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(F=u;F!==null;){var d=F;switch(d.tag){case 0:case 11:case 15:Ir(8,d,i)}var h=d.child;if(h!==null)h.return=d,F=h;else for(;F!==null;){d=F;var f=d.sibling,p=d.return;if(S0(d),d===u){F=null;break}if(f!==null){f.return=p,F=f;break}F=p}}}var x=i.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}F=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,F=a;else e:for(;F!==null;){if(i=F,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ir(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,F=m;break e}F=i.return}}var g=e.current;for(F=g;F!==null;){a=F;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,F=w;else e:for(a=g;F!==null;){if(l=F,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:wo(9,l)}}catch(S){he(l,l.return,S)}if(l===a){F=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,F=j;break e}F=l.return}}if(Y=r,Rn(),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(ho,e)}catch{}s=!0}return s}finally{Q=n,pt.transition=t}}return!1}function hf(e,t,n){t=Ks(n,t),t=h0(e,t,1),e=wn(e,t,1),t=$e(),e!==null&&(Ti(e,1,t),Ye(e,t))}function he(e,t,n){if(e.tag===3)hf(e,e,n);else for(;t!==null;){if(t.tag===3){hf(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(bn===null||!bn.has(s))){e=Ks(n,e),e=f0(t,e,1),t=wn(t,e,1),e=$e(),t!==null&&(Ti(t,1,e),Ye(t,e));break}}t=t.return}}function Qb(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=$e(),e.pingedLanes|=e.suspendedLanes&n,je===e&&(_e&n)===n&&(ve===4||ve===3&&(_e&130023424)===_e&&500>me()-Zu?Kn(e,0):Xu|=n),Ye(e,t)}function O0(e,t){t===0&&(e.mode&1?(t=Ki,Ki<<=1,!(Ki&130023424)&&(Ki=4194304)):t=1);var n=$e();e=Kt(e,t),e!==null&&(Ti(e,t,n),Ye(e,n))}function Xb(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),O0(e,n)}function Zb(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(L(314))}s!==null&&s.delete(t),O0(e,n)}var I0;I0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ke.current)We=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return We=!1,Fb(e,t,n);We=!!(e.flags&131072)}else We=!1,re&&t.flags&1048576&&Ug(t,qa,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Sa(e,t),e=t.pendingProps;var r=qs(t,De.current);Fs(t,n),r=Wu(null,t,s,e,r,n);var i=Gu();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Je(s)?(i=!0,Va(t)):i=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,zu(t),r.updater=yo,t.stateNode=r,r._reactInternals=t,xc(t,s,e,n),t=bc(null,t,s,!0,i,n)):(t.tag=0,re&&i&&Iu(t),Me(null,t,r,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Sa(e,t),e=t.pendingProps,r=s._init,s=r(s._payload),t.type=s,r=t.tag=t1(s),e=jt(s,e),r){case 0:t=wc(null,t,s,e,n);break e;case 1:t=tf(null,t,s,e,n);break e;case 11:t=Zh(null,t,s,e,n);break e;case 14:t=ef(null,t,s,jt(s.type,e),n);break e}throw Error(L(306,s,""))}return t;case 0:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:jt(s,r),wc(e,t,s,r,n);case 1:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:jt(s,r),tf(e,t,s,r,n);case 3:e:{if(v0(t),e===null)throw Error(L(387));s=t.pendingProps,i=t.memoizedState,r=i.element,qg(e,t),Ga(t,s,null,n);var a=t.memoizedState;if(s=a.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){r=Ks(Error(L(423)),t),t=nf(e,t,s,n,r);break e}else if(s!==r){r=Ks(Error(L(424)),t),t=nf(e,t,s,n,r);break e}else for(tt=yn(t.stateNode.containerInfo.firstChild),nt=t,re=!0,_t=null,n=Vg(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hs(),s===r){t=Jt(e,t,n);break e}Me(e,t,s,n)}t=t.child}return t;case 5:return Hg(t),e===null&&pc(t),s=t.type,r=t.pendingProps,i=e!==null?e.memoizedProps:null,a=r.children,uc(s,r)?a=null:i!==null&&uc(s,i)&&(t.flags|=32),g0(e,t),Me(e,t,a,n),t.child;case 6:return e===null&&pc(t),null;case 13:return x0(e,t,n);case 4:return Vu(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ws(t,null,s,n):Me(e,t,s,n),t.child;case 11:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:jt(s,r),Zh(e,t,s,r,n);case 7:return Me(e,t,t.pendingProps,n),t.child;case 8:return Me(e,t,t.pendingProps.children,n),t.child;case 12:return Me(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,r=t.pendingProps,i=t.memoizedProps,a=r.value,te(Ha,s._currentValue),s._currentValue=a,i!==null)if(Ct(i.value,a)){if(i.children===r.children&&!Ke.current){t=Jt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=Ht(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),gc(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(L(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),gc(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Me(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,s=t.pendingProps.children,Fs(t,n),r=xt(r),s=s(r),t.flags|=1,Me(e,t,s,n),t.child;case 14:return s=t.type,r=jt(s,t.pendingProps),r=jt(s.type,r),ef(e,t,s,r,n);case 15:return m0(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:jt(s,r),Sa(e,t),t.tag=1,Je(s)?(e=!0,Va(t)):e=!1,Fs(t,n),d0(t,s,r),xc(t,s,r,n),bc(null,t,s,!0,e,n);case 19:return y0(e,t,n);case 22:return p0(e,t,n)}throw Error(L(156,t.tag))};function L0(e,t){return lg(e,t)}function e1(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mt(e,t,n,s){return new e1(e,t,n,s)}function sd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function t1(e){if(typeof e=="function")return sd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ju)return 11;if(e===Su)return 14}return 2}function Sn(e,t){var n=e.alternate;return n===null?(n=mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Na(e,t,n,s,r,i){var a=2;if(s=e,typeof e=="function")sd(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case ws:return Jn(n.children,r,i,t);case bu:a=8,r|=8;break;case Vl:return e=mt(12,n,t,r|2),e.elementType=Vl,e.lanes=i,e;case Bl:return e=mt(13,n,t,r),e.elementType=Bl,e.lanes=i,e;case ql:return e=mt(19,n,t,r),e.elementType=ql,e.lanes=i,e;case Hp:return jo(n,r,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Bp:a=10;break e;case qp:a=9;break e;case ju:a=11;break e;case Su:a=14;break e;case an:a=16,s=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=mt(a,n,t,r),t.elementType=e,t.type=s,t.lanes=i,t}function Jn(e,t,n,s){return e=mt(7,e,s,t),e.lanes=n,e}function jo(e,t,n,s){return e=mt(22,e,s,t),e.elementType=Hp,e.lanes=n,e.stateNode={isHidden:!1},e}function gl(e,t,n){return e=mt(6,e,null,t),e.lanes=n,e}function vl(e,t,n){return t=mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function n1(e,t,n,s,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qo(0),this.expirationTimes=Qo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qo(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function rd(e,t,n,s,r,i,a,l,c){return e=new n1(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=mt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zu(i),e}function s1(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ys,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function D0(e){if(!e)return En;e=e._reactInternals;e:{if(as(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Je(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var n=e.type;if(Je(n))return Dg(e,n,t)}return t}function M0(e,t,n,s,r,i,a,l,c){return e=rd(n,s,!0,e,r,i,a,l,c),e.context=D0(null),n=e.current,s=$e(),r=jn(n),i=Ht(s,r),i.callback=t??null,wn(n,i,r),e.current.lanes=r,Ti(e,r,s),Ye(e,s),e}function So(e,t,n,s){var r=t.current,i=$e(),a=jn(r);return n=D0(n),t.context===null?t.context=n:t.pendingContext=n,t=Ht(i,a),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=wn(r,t,a),e!==null&&(Et(e,r,a,i),wa(e,r,a)),a}function to(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ff(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function id(e,t){ff(e,t),(e=e.alternate)&&ff(e,t)}function r1(){return null}var U0=typeof reportError=="function"?reportError:function(e){console.error(e)};function ad(e){this._internalRoot=e}ko.prototype.render=ad.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));So(e,t,null,null)};ko.prototype.unmount=ad.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ns(function(){So(null,e,null,null)}),t[Gt]=null}};function ko(e){this._internalRoot=e}ko.prototype.unstable_scheduleHydration=function(e){if(e){var t=pg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<un.length&&t!==0&&t<un[n].priority;n++);un.splice(n,0,e),n===0&&vg(e)}};function od(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mf(){}function i1(e,t,n,s,r){if(r){if(typeof s=="function"){var i=s;s=function(){var u=to(a);i.call(u)}}var a=M0(t,s,e,0,null,!1,!1,"",mf);return e._reactRootContainer=a,e[Gt]=a.current,ei(e.nodeType===8?e.parentNode:e),ns(),a}for(;r=e.lastChild;)e.removeChild(r);if(typeof s=="function"){var l=s;s=function(){var u=to(c);l.call(u)}}var c=rd(e,0,!1,null,null,!1,!1,"",mf);return e._reactRootContainer=c,e[Gt]=c.current,ei(e.nodeType===8?e.parentNode:e),ns(function(){So(t,c,n,s)}),c}function No(e,t,n,s,r){var i=n._reactRootContainer;if(i){var a=i;if(typeof r=="function"){var l=r;r=function(){var c=to(a);l.call(c)}}So(t,a,e,r)}else a=i1(n,t,e,r,s);return to(a)}fg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=kr(t.pendingLanes);n!==0&&(Nu(t,n|1),Ye(t,me()),!(Y&6)&&(Js=me()+500,Rn()))}break;case 13:ns(function(){var s=Kt(e,1);if(s!==null){var r=$e();Et(s,e,1,r)}}),id(e,1)}};Eu=function(e){if(e.tag===13){var t=Kt(e,134217728);if(t!==null){var n=$e();Et(t,e,134217728,n)}id(e,134217728)}};mg=function(e){if(e.tag===13){var t=jn(e),n=Kt(e,t);if(n!==null){var s=$e();Et(n,e,t,s)}id(e,t)}};pg=function(){return Q};gg=function(e,t){var n=Q;try{return Q=e,t()}finally{Q=n}};ec=function(e,t,n){switch(t){case"input":if(Gl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var r=go(s);if(!r)throw Error(L(90));Gp(s),Gl(s,r)}}}break;case"textarea":Jp(e,n);break;case"select":t=n.value,t!=null&&Ds(e,!!n.multiple,t,!1)}};ng=ed;sg=ns;var a1={usingClientEntryPoint:!1,Events:[Ai,ks,go,eg,tg,ed]},xr={findFiberByHostInstance:Bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},o1={bundleType:xr.bundleType,version:xr.version,rendererPackageName:xr.rendererPackageName,rendererConfig:xr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ag(e),e===null?null:e.stateNode},findFiberByHostInstance:xr.findFiberByHostInstance||r1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ia=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ia.isDisabled&&ia.supportsFiber)try{ho=ia.inject(o1),Ot=ia}catch{}}it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a1;it.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!od(t))throw Error(L(200));return s1(e,t,null,n)};it.createRoot=function(e,t){if(!od(e))throw Error(L(299));var n=!1,s="",r=U0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=rd(e,1,!1,null,null,n,!1,s,r),e[Gt]=t.current,ei(e.nodeType===8?e.parentNode:e),new ad(t)};it.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=ag(t),e=e===null?null:e.stateNode,e};it.flushSync=function(e){return ns(e)};it.hydrate=function(e,t,n){if(!_o(t))throw Error(L(200));return No(null,e,t,!0,n)};it.hydrateRoot=function(e,t,n){if(!od(e))throw Error(L(405));var s=n!=null&&n.hydratedSources||null,r=!1,i="",a=U0;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=M0(t,null,e,1,n??null,r,!1,i,a),e[Gt]=t.current,ei(e),s)for(e=0;e<s.length;e++)n=s[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new ko(t)};it.render=function(e,t,n){if(!_o(t))throw Error(L(200));return No(null,e,t,!1,n)};it.unmountComponentAtNode=function(e){if(!_o(e))throw Error(L(40));return e._reactRootContainer?(ns(function(){No(null,null,e,!1,function(){e._reactRootContainer=null,e[Gt]=null})}),!0):!1};it.unstable_batchedUpdates=ed;it.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!_o(n))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return No(e,t,n,!1,s)};it.version="18.3.1-next-f1338f8080-20240426";function $0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($0)}catch(e){console.error(e)}}$0(),$p.exports=it;var l1=$p.exports,F0,pf=l1;F0=pf.createRoot,pf.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ci(){return ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ci.apply(this,arguments)}var pn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(pn||(pn={}));const gf="popstate";function c1(e){e===void 0&&(e={});function t(r,i){let{pathname:a="/",search:l="",hash:c=""}=os(r.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Oc("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){let a=r.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let c=r.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof i=="string"?i:no(i))}function s(r,i){ld(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return d1(t,n,s,e)}function le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ld(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function u1(){return Math.random().toString(36).substr(2,8)}function vf(e,t){return{usr:e.state,key:e.key,idx:t}}function Oc(e,t,n,s){return n===void 0&&(n=null),ci({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?os(t):t,{state:n,key:t&&t.key||s||u1()})}function no(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function os(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function d1(e,t,n,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:i=!1}=s,a=r.history,l=pn.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(ci({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){l=pn.Pop;let b=d(),m=b==null?null:b-u;u=b,c&&c({action:l,location:y.location,delta:m})}function f(b,m){l=pn.Push;let g=Oc(y.location,b,m);n&&n(g,b),u=d()+1;let w=vf(g,u),j=y.createHref(g);try{a.pushState(w,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;r.location.assign(j)}i&&c&&c({action:l,location:y.location,delta:1})}function p(b,m){l=pn.Replace;let g=Oc(y.location,b,m);n&&n(g,b),u=d();let w=vf(g,u),j=y.createHref(g);a.replaceState(w,"",j),i&&c&&c({action:l,location:y.location,delta:0})}function x(b){let m=r.location.origin!=="null"?r.location.origin:r.location.href,g=typeof b=="string"?b:no(b);return g=g.replace(/ $/,"%20"),le(m,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,m)}let y={get action(){return l},get location(){return e(r,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(gf,h),c=b,()=>{r.removeEventListener(gf,h),c=null}},createHref(b){return t(r,b)},createURL:x,encodeLocation(b){let m=x(b);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(b){return a.go(b)}};return y}var xf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(xf||(xf={}));function h1(e,t,n){return n===void 0&&(n="/"),f1(e,t,n)}function f1(e,t,n,s){let r=typeof t=="string"?os(t):t,i=Ys(r.pathname||"/",n);if(i==null)return null;let a=z0(e);m1(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=_1(i);l=S1(a[c],u)}return l}function z0(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let r=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(le(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=kn([s,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(le(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),z0(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:b1(u,i.index),routesMeta:d})};return e.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))r(i,a);else for(let c of V0(i.path))r(i,a,c)}),t}function V0(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let a=V0(s.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),r&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function m1(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:j1(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const p1=/^:[\w-]+$/,g1=3,v1=2,x1=1,y1=10,w1=-2,yf=e=>e==="*";function b1(e,t){let n=e.split("/"),s=n.length;return n.some(yf)&&(s+=w1),t&&(s+=v1),n.filter(r=>!yf(r)).reduce((r,i)=>r+(p1.test(i)?g1:i===""?x1:y1),s)}function j1(e,t){return e.length===t.length&&e.slice(0,-1).every((s,r)=>s===t[r])?e[e.length-1]-t[t.length-1]:0}function S1(e,t,n){let{routesMeta:s}=e,r={},i="/",a=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Ic({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(r,h.params),a.push({params:r,pathname:kn([i,h.pathname]),pathnameBase:T1(kn([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=kn([i,h.pathnameBase]))}return a}function Ic(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=k1(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let i=r[0],a=i.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:s.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let y=l[h]||"";a=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const x=l[h];return p&&!x?u[f]=void 0:u[f]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function k1(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ld(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function _1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ld(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ys(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function N1(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:r=""}=typeof e=="string"?os(e):e;return{pathname:n?n.startsWith("/")?n:E1(n,t):t,search:P1(s),hash:A1(r)}}function E1(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function xl(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function C1(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function cd(e,t){let n=C1(e);return t?n.map((s,r)=>r===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function ud(e,t,n,s){s===void 0&&(s=!1);let r;typeof e=="string"?r=os(e):(r=ci({},e),le(!r.pathname||!r.pathname.includes("?"),xl("?","pathname","search",r)),le(!r.pathname||!r.pathname.includes("#"),xl("#","pathname","hash",r)),le(!r.search||!r.search.includes("#"),xl("#","search","hash",r)));let i=e===""||r.pathname==="",a=i?"/":r.pathname,l;if(a==null)l=n;else{let h=t.length-1;if(!s&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;r.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=N1(r,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const kn=e=>e.join("/").replace(/\/\/+/g,"/"),T1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),P1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,A1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function R1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const B0=["post","put","patch","delete"];new Set(B0);const O1=["get",...B0];new Set(O1);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ui(){return ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ui.apply(this,arguments)}const Eo=v.createContext(null),q0=v.createContext(null),Zt=v.createContext(null),Co=v.createContext(null),$t=v.createContext({outlet:null,matches:[],isDataRoute:!1}),H0=v.createContext(null);function I1(e,t){let{relative:n}=t===void 0?{}:t;rr()||le(!1);let{basename:s,navigator:r}=v.useContext(Zt),{hash:i,pathname:a,search:l}=To(e,{relative:n}),c=a;return s!=="/"&&(c=a==="/"?s:kn([s,a])),r.createHref({pathname:c,search:l,hash:i})}function rr(){return v.useContext(Co)!=null}function en(){return rr()||le(!1),v.useContext(Co).location}function W0(e){v.useContext(Zt).static||v.useLayoutEffect(e)}function Ve(){let{isDataRoute:e}=v.useContext($t);return e?J1():L1()}function L1(){rr()||le(!1);let e=v.useContext(Eo),{basename:t,future:n,navigator:s}=v.useContext(Zt),{matches:r}=v.useContext($t),{pathname:i}=en(),a=JSON.stringify(cd(r,n.v7_relativeSplatPath)),l=v.useRef(!1);return W0(()=>{l.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){s.go(u);return}let h=ud(u,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:kn([t,h.pathname])),(d.replace?s.replace:s.push)(h,d.state,d)},[t,s,a,i,e])}const G0=v.createContext(null);function K0(){return v.useContext(G0)}function D1(e){let t=v.useContext($t).outlet;return t&&v.createElement(G0.Provider,{value:e},t)}function M1(){let{matches:e}=v.useContext($t),t=e[e.length-1];return t?t.params:{}}function To(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=v.useContext(Zt),{matches:r}=v.useContext($t),{pathname:i}=en(),a=JSON.stringify(cd(r,s.v7_relativeSplatPath));return v.useMemo(()=>ud(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function U1(e,t){return $1(e,t)}function $1(e,t,n,s){rr()||le(!1);let{navigator:r,static:i}=v.useContext(Zt),{matches:a}=v.useContext($t),l=a[a.length-1],c=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let d=en(),h;if(t){var f;let m=typeof t=="string"?os(t):t;u==="/"||(f=m.pathname)!=null&&f.startsWith(u)||le(!1),h=m}else h=d;let p=h.pathname||"/",x=p;if(u!=="/"){let m=u.replace(/^\//,"").split("/");x="/"+p.replace(/^\//,"").split("/").slice(m.length).join("/")}let y=h1(e,{pathname:x}),b=q1(y&&y.map(m=>Object.assign({},m,{params:Object.assign({},c,m.params),pathname:kn([u,r.encodeLocation?r.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?u:kn([u,r.encodeLocation?r.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),a,n,s);return t&&b?v.createElement(Co.Provider,{value:{location:ui({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:pn.Pop}},b):b}function F1(){let e=K1(),t=R1(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:r},n):null,null)}const z1=v.createElement(F1,null);class V1 extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?v.createElement($t.Provider,{value:this.props.routeContext},v.createElement(H0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function B1(e){let{routeContext:t,match:n,children:s}=e,r=v.useContext(Eo);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement($t.Provider,{value:t},s)}function q1(e,t,n,s){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=(r=n)==null?void 0:r.errors;if(l!=null){let d=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||le(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=n,x=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||x){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let p,x=!1,y=null,b=null;n&&(p=l&&h.route.id?l[h.route.id]:void 0,y=h.route.errorElement||z1,c&&(u<0&&f===0?(Y1("route-fallback"),x=!0,b=null):u===f&&(x=!0,b=h.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,f+1)),g=()=>{let w;return p?w=y:x?w=b:h.route.Component?w=v.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,v.createElement(B1,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?v.createElement(V1,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var J0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(J0||{}),Y0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Y0||{});function H1(e){let t=v.useContext(Eo);return t||le(!1),t}function W1(e){let t=v.useContext(q0);return t||le(!1),t}function G1(e){let t=v.useContext($t);return t||le(!1),t}function Q0(e){let t=G1(),n=t.matches[t.matches.length-1];return n.route.id||le(!1),n.route.id}function K1(){var e;let t=v.useContext(H0),n=W1(),s=Q0();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function J1(){let{router:e}=H1(J0.UseNavigateStable),t=Q0(Y0.UseNavigateStable),n=v.useRef(!1);return W0(()=>{n.current=!0}),v.useCallback(function(r,i){i===void 0&&(i={}),n.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,ui({fromRouteId:t},i)))},[e,t])}const wf={};function Y1(e,t,n){wf[e]||(wf[e]=!0)}function Q1(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function fs(e){let{to:t,replace:n,state:s,relative:r}=e;rr()||le(!1);let{future:i,static:a}=v.useContext(Zt),{matches:l}=v.useContext($t),{pathname:c}=en(),u=Ve(),d=ud(t,cd(l,i.v7_relativeSplatPath),c,r==="path"),h=JSON.stringify(d);return v.useEffect(()=>u(JSON.parse(h),{replace:n,state:s,relative:r}),[u,h,r,n,s]),null}function X0(e){return D1(e.context)}function Z(e){le(!1)}function X1(e){let{basename:t="/",children:n=null,location:s,navigationType:r=pn.Pop,navigator:i,static:a=!1,future:l}=e;rr()&&le(!1);let c=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:i,static:a,future:ui({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof s=="string"&&(s=os(s));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:x="default"}=s,y=v.useMemo(()=>{let b=Ys(d,c);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:x},navigationType:r}},[c,d,h,f,p,x,r]);return y==null?null:v.createElement(Zt.Provider,{value:u},v.createElement(Co.Provider,{children:n,value:y}))}function Z1(e){let{children:t,location:n}=e;return U1(Lc(t),n)}new Promise(()=>{});function Lc(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(s,r)=>{if(!v.isValidElement(s))return;let i=[...t,r];if(s.type===v.Fragment){n.push.apply(n,Lc(s.props.children,i));return}s.type!==Z&&le(!1),!s.props.index||!s.props.children||le(!1);let a={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(a.children=Lc(s.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function so(){return so=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},so.apply(this,arguments)}function Z0(e,t){if(e==null)return{};var n={},s=Object.keys(e),r,i;for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function ej(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function tj(e,t){return e.button===0&&(!t||t==="_self")&&!ej(e)}function Dc(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(r=>[n,r]):[[n,s]])},[]))}function nj(e,t){let n=Dc(e);return t&&t.forEach((s,r)=>{n.has(r)||t.getAll(r).forEach(i=>{n.append(r,i)})}),n}const sj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rj=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],ij="6";try{window.__reactRouterVersion=ij}catch{}const aj=v.createContext({isTransitioning:!1}),oj="startTransition",bf=Qy[oj];function lj(e){let{basename:t,children:n,future:s,window:r}=e,i=v.useRef();i.current==null&&(i.current=c1({window:r,v5Compat:!0}));let a=i.current,[l,c]=v.useState({action:a.action,location:a.location}),{v7_startTransition:u}=s||{},d=v.useCallback(h=>{u&&bf?bf(()=>c(h)):c(h)},[c,u]);return v.useLayoutEffect(()=>a.listen(d),[a,d]),v.useEffect(()=>Q1(s),[s]),v.createElement(X1,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:s})}const cj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ft=v.forwardRef(function(t,n){let{onClick:s,relative:r,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=Z0(t,sj),{basename:p}=v.useContext(Zt),x,y=!1;if(typeof u=="string"&&uj.test(u)&&(x=u,cj))try{let w=new URL(window.location.href),j=u.startsWith("//")?new URL(w.protocol+u):new URL(u),S=Ys(j.pathname,p);j.origin===w.origin&&S!=null?u=S+j.search+j.hash:y=!0}catch{}let b=I1(u,{relative:r}),m=hj(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:r,viewTransition:h});function g(w){s&&s(w),w.defaultPrevented||m(w)}return v.createElement("a",so({},f,{href:x||b,onClick:y||i?s:g,ref:n,target:c}))}),di=v.forwardRef(function(t,n){let{"aria-current":s="page",caseSensitive:r=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:u,children:d}=t,h=Z0(t,rj),f=To(c,{relative:h.relative}),p=en(),x=v.useContext(q0),{navigator:y,basename:b}=v.useContext(Zt),m=x!=null&&fj(f)&&u===!0,g=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,w=p.pathname,j=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(w=w.toLowerCase(),j=j?j.toLowerCase():null,g=g.toLowerCase()),j&&b&&(j=Ys(j,b)||j);const S=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let _=w===g||!a&&w.startsWith(g)&&w.charAt(S)==="/",k=j!=null&&(j===g||!a&&j.startsWith(g)&&j.charAt(g.length)==="/"),N={isActive:_,isPending:k,isTransitioning:m},O=_?s:void 0,I;typeof i=="function"?I=i(N):I=[i,_?"active":null,k?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let T=typeof l=="function"?l(N):l;return v.createElement(ft,so({},h,{"aria-current":O,className:I,ref:n,style:T,to:c,viewTransition:u}),typeof d=="function"?d(N):d)});var Mc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Mc||(Mc={}));var jf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(jf||(jf={}));function dj(e){let t=v.useContext(Eo);return t||le(!1),t}function hj(e,t){let{target:n,replace:s,state:r,preventScrollReset:i,relative:a,viewTransition:l}=t===void 0?{}:t,c=Ve(),u=en(),d=To(e,{relative:a});return v.useCallback(h=>{if(tj(h,n)){h.preventDefault();let f=s!==void 0?s:no(u)===no(d);c(e,{replace:f,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,d,s,r,n,e,i,a,l])}function ev(e){let t=v.useRef(Dc(e)),n=v.useRef(!1),s=en(),r=v.useMemo(()=>nj(s.search,n.current?null:t.current),[s.search]),i=Ve(),a=v.useCallback((l,c)=>{const u=Dc(typeof l=="function"?l(r):l);n.current=!0,i("?"+u,c)},[i,r]);return[r,a]}function fj(e,t){t===void 0&&(t={});let n=v.useContext(aj);n==null&&le(!1);let{basename:s}=dj(Mc.useViewTransitionState),r=To(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=Ys(n.currentLocation.pathname,s)||n.currentLocation.pathname,a=Ys(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ic(r.pathname,a)!=null||Ic(r.pathname,i)!=null}const mj="modulepreload",pj=function(e){return"/accreda.github.io/"+e},Sf={},st=function(t,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=Promise.allSettled(n.map(c=>{if(c=pj(c),c in Sf)return;Sf[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":mj,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return r.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},gj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>st(async()=>{const{default:s}=await Promise.resolve().then(()=>ir);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)};class dd extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class vj extends dd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class xj extends dd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class yj extends dd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Uc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Uc||(Uc={}));var wj=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(s.next(d))}catch(h){a(h)}}function c(d){try{u(s.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};class bj{constructor(t,{headers:n={},customFetch:s,region:r=Uc.Any}={}){this.url=t,this.headers=n,this.region=r,this.fetch=gj(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var s;return wj(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:a}=n;let l={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;a&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=a):typeof a=="string"?(l["Content-Type"]="text/plain",u=a):typeof FormData<"u"&&a instanceof FormData?u=a:(l["Content-Type"]="application/json",u=JSON.stringify(a)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),r),body:u}).catch(x=>{throw new vj(x)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new xj(d);if(!d.ok)throw new yj(d);let f=((s=d.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield d.json():f==="application/octet-stream"?p=yield d.blob():f==="text/event-stream"?p=d:f==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(r){return{data:null,error:r}}})}}var He={},hd={},Po={},Oi={},Ao={},Ro={},jj=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Qs=jj();const Sj=Qs.fetch,tv=Qs.fetch.bind(Qs),nv=Qs.Headers,kj=Qs.Request,_j=Qs.Response,ir=Object.freeze(Object.defineProperty({__proto__:null,Headers:nv,Request:kj,Response:_j,default:tv,fetch:Sj},Symbol.toStringTag,{value:"Module"})),Nj=Ly(ir);var Oo={};Object.defineProperty(Oo,"__esModule",{value:!0});let Ej=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Oo.default=Ej;var sv=Ie&&Ie.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ro,"__esModule",{value:!0});const Cj=sv(Nj),Tj=sv(Oo);let Pj=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Cj.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let r=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,l,c;let u=null,d=null,h=null,f=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const y=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),b=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");y&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await i.text();try{u=JSON.parse(y),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,p="OK")}catch{i.status===404&&y===""?(f=204,p="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,p="OK"),u&&this.shouldThrowOnError)throw new Tj.default(u)}return{error:u,data:d,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(r=r.catch(i=>{var a,l,c;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),r.then(t,n)}returns(){return this}overrideTypes(){return this}};Ro.default=Pj;var Aj=Ie&&Ie.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ao,"__esModule",{value:!0});const Rj=Aj(Ro);let Oj=class extends Rj.default{select(t){let n=!1;const s=(t??"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:s,foreignTable:r,referencedTable:i=r}={}){const a=i?`${i}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:s=n}={}){const r=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,n,{foreignTable:s,referencedTable:r=s}={}){const i=typeof r>"u"?"offset":`${r}.offset`,a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:s=!1,buffers:r=!1,wal:i=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,s?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ao.default=Oj;var Ij=Ie&&Ie.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Oi,"__esModule",{value:!0});const Lj=Ij(Ao);let Dj=class extends Lj.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const s=Array.from(new Set(n)).map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:s,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const a=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${i}fts${a}.${n}`),this}match(t){return Object.entries(t).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(t,n,s){return this.url.searchParams.append(t,`not.${n}.${s}`),this}or(t,{foreignTable:n,referencedTable:s=n}={}){const r=s?`${s}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,n,s){return this.url.searchParams.append(t,`${n}.${s}`),this}};Oi.default=Dj;var Mj=Ie&&Ie.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Po,"__esModule",{value:!0});const yr=Mj(Oi);let Uj=class{constructor(t,{headers:n={},schema:s,fetch:r}){this.url=t,this.headers=n,this.schema=s,this.fetch=r}select(t,{head:n=!1,count:s}={}){const r=n?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),s&&(this.headers.Prefer=`count=${s}`),new yr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:s=!0}={}){const r="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new yr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:s=!1,count:r,defaultToNull:i=!0}={}){const a="POST",l=[`resolution=${s?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),r&&l.push(`count=${r}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new yr.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const s="PATCH",r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),n&&r.push(`count=${n}`),this.headers.Prefer=r.join(","),new yr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",s=[];return t&&s.push(`count=${t}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new yr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Po.default=Uj;var Io={},Lo={};Object.defineProperty(Lo,"__esModule",{value:!0});Lo.version=void 0;Lo.version="0.0.0-automated";Object.defineProperty(Io,"__esModule",{value:!0});Io.DEFAULT_HEADERS=void 0;const $j=Lo;Io.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${$j.version}`};var rv=Ie&&Ie.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hd,"__esModule",{value:!0});const Fj=rv(Po),zj=rv(Oi),Vj=Io;let Bj=class iv{constructor(t,{headers:n={},schema:s,fetch:r}={}){this.url=t,this.headers=Object.assign(Object.assign({},Vj.DEFAULT_HEADERS),n),this.schemaName=s,this.fetch=r}from(t){const n=new URL(`${this.url}/${t}`);return new Fj.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new iv(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:s=!1,get:r=!1,count:i}={}){let a;const l=new URL(`${this.url}/rpc/${t}`);let c;s||r?(a=s?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(a="POST",c=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new zj.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};hd.default=Bj;var ar=Ie&&Ie.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(He,"__esModule",{value:!0});He.PostgrestError=He.PostgrestBuilder=He.PostgrestTransformBuilder=He.PostgrestFilterBuilder=He.PostgrestQueryBuilder=He.PostgrestClient=void 0;const av=ar(hd);He.PostgrestClient=av.default;const ov=ar(Po);He.PostgrestQueryBuilder=ov.default;const lv=ar(Oi);He.PostgrestFilterBuilder=lv.default;const cv=ar(Ao);He.PostgrestTransformBuilder=cv.default;const uv=ar(Ro);He.PostgrestBuilder=uv.default;const dv=ar(Oo);He.PostgrestError=dv.default;var qj=He.default={PostgrestClient:av.default,PostgrestQueryBuilder:ov.default,PostgrestFilterBuilder:lv.default,PostgrestTransformBuilder:cv.default,PostgrestBuilder:uv.default,PostgrestError:dv.default};const{PostgrestClient:Hj,PostgrestQueryBuilder:hR,PostgrestFilterBuilder:fR,PostgrestTransformBuilder:mR,PostgrestBuilder:pR,PostgrestError:gR}=qj,Wj="2.11.2",Gj={"X-Client-Info":`realtime-js/${Wj}`},Kj="1.0.0",hv=1e4,Jj=1e3;var Vs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Vs||(Vs={}));var Ze;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ze||(Ze={}));var kt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(kt||(kt={}));var $c;(function(e){e.websocket="websocket"})($c||($c={}));var Vn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Vn||(Vn={}));class Yj{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const r=n.getUint8(1),i=n.getUint8(2);let a=this.HEADER_LENGTH+2;const l=s.decode(t.slice(a,a+r));a=a+r;const c=s.decode(t.slice(a,a+i));a=a+i;const u=JSON.parse(s.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class fv{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ee;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ee||(ee={}));const kf=(e,t,n={})=>{var s;const r=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((i,a)=>(i[a]=Qj(a,e,t,r),i),{})},Qj=(e,t,n,s)=>{const r=t.find(l=>l.name===e),i=r==null?void 0:r.type,a=n[e];return i&&!s.includes(i)?mv(i,a):Fc(a)},mv=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return tS(t,n)}switch(e){case ee.bool:return Xj(t);case ee.float4:case ee.float8:case ee.int2:case ee.int4:case ee.int8:case ee.numeric:case ee.oid:return Zj(t);case ee.json:case ee.jsonb:return eS(t);case ee.timestamp:return nS(t);case ee.abstime:case ee.date:case ee.daterange:case ee.int4range:case ee.int8range:case ee.money:case ee.reltime:case ee.text:case ee.time:case ee.timestamptz:case ee.timetz:case ee.tsrange:case ee.tstzrange:return Fc(t);default:return Fc(t)}},Fc=e=>e,Xj=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Zj=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},eS=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},tS=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let i;const a=e.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>mv(t,l))}return e},nS=e=>typeof e=="string"?e.replace(" ","T"):e,pv=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class yl{constructor(t,n,s={},r=hv){this.channel=t,this.event=n,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var _f;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(_f||(_f={}));class Mr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},r=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Mr.syncState(this.state,r,i,a),this.pendingDiffs.forEach(c=>{this.state=Mr.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},r=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Mr.syncDiff(this.state,r,i,a),l())}),this.onJoin((r,i,a)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:a})}),this.onLeave((r,i,a)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,r){const i=this.cloneDeep(t),a=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const f=d.map(b=>b.presence_ref),p=h.map(b=>b.presence_ref),x=d.filter(b=>p.indexOf(b.presence_ref)<0),y=h.filter(b=>f.indexOf(b.presence_ref)<0);x.length>0&&(l[u]=x),y.length>0&&(c[u]=y)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},s,r)}static syncDiff(t,n,s,r){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);t[l].unshift(...f)}s(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,r(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const r=t[s];return"metas"in r?n[s]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[s]=r,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Nf;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Nf||(Nf={}));var Ef;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ef||(Ef={}));var zt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(zt||(zt={}));class fd{constructor(t,n={config:{}},s){this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=Ze.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new yl(this,kt.join,this.params,this.timeout),this.rejoinTimer=new fv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ze.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ze.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this._on(kt.reply,{},(r,i)=>{this._trigger(this._replyEventName(i),r)}),this.presence=new Mr(this),this.broadcastEndpointURL=pv(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var s,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:l}}=this.params;this._onError(d=>t==null?void 0:t(zt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(zt.CLOSED));const c={},u={broadcast:i,presence:a,postgres_changes:(r=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(d=>d.filter))!==null&&r!==void 0?r:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(zt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,x=[];for(let y=0;y<p;y++){const b=f[y],{filter:{event:m,schema:g,table:w,filter:j}}=b,S=d&&d[y];if(S&&S.event===m&&S.schema===g&&S.table===w&&S.filter===j)x.push(Object.assign(Object.assign({},b),{id:S.id}));else{this.unsubscribe(),t==null||t(zt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(zt.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(zt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(zt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this._on(t,n,s)}async send(t,n={}){var s,r;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((r=u.body)===null||r===void 0?void 0:r.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ze.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(kt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const r=new yl(this,kt.leave,{},t);r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}async _fetchWithTimeout(t,n,s){const r=new AbortController,i=setTimeout(()=>r.abort(),s),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(i),a}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new yl(this,t,n,s);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var r,i;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=kt;if(s&&[l,c,u,d].indexOf(a)>=0&&s!==this._joinRef())return;let f=this._onMessage(a,n,s);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(p=>{var x,y,b;return((x=p.filter)===null||x===void 0?void 0:x.event)==="*"||((b=(y=p.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(p=>p.callback(f,s)):(i=this.bindings[a])===null||i===void 0||i.filter(p=>{var x,y,b,m,g,w;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const j=p.id,S=(x=p.filter)===null||x===void 0?void 0:x.event;return j&&((y=n.ids)===null||y===void 0?void 0:y.includes(j))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const j=(g=(m=p==null?void 0:p.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return j==="*"||j===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof f=="object"&&"ids"in f){const x=f.data,{schema:y,table:b,commit_timestamp:m,type:g,errors:w}=x;f=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:m,eventType:g,new:{},old:{},errors:w}),this._getPayloadRecords(x))}p.callback(f,s)})}_isClosed(){return this.state===Ze.closed}_isJoined(){return this.state===Ze.joined}_isJoining(){return this.state===Ze.joining}_isLeaving(){return this.state===Ze.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const r=t.toLocaleLowerCase(),i={type:r,filter:n,callback:s};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&fd.isEqual(r.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(kt.close,{},t)}_onError(t){this._on(kt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ze.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=kf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=kf(t.columns,t.old_record)),n}}const sS=()=>{},rS=typeof WebSocket<"u",iS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class aS{constructor(t,n){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Gj,this.params={},this.timeout=hv,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=sS,this.conn=null,this.sendBuffer=[],this.serializer=new Yj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...l)=>st(async()=>{const{default:c}=await Promise.resolve().then(()=>ir);return{default:c}},void 0).then(({default:c})=>c(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${t}/${$c.websocket}`,this.httpEndpoint=pv(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const r=(s=n==null?void 0:n.params)===null||s===void 0?void 0:s.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,a)=>a(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new fv(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(rS){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new oS(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),st(async()=>{const{default:t}=await import("./browser-DL_UI9SE.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Kj}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Vs.connecting:return Vn.Connecting;case Vs.open:return Vn.Open;case Vs.closing:return Vn.Closing;default:return Vn.Closed}}isConnected(){return this.connectionState()===Vn.Open}channel(t,n={config:{}}){const s=new fd(`realtime:${t}`,n,this);return this.channels.push(s),s}push(t){const{topic:n,event:s,payload:r,ref:i}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${s} (${i})`,r),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let s=null;try{s=JSON.parse(atob(n.split(".")[1]))}catch{}if(s&&s.exp&&!(Math.floor(Date.now()/1e3)-s.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`);this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n}),r.joinedOnce&&r._isJoined()&&r._push(kt.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Jj,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:s,event:r,payload:i,ref:a}=n;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${s} ${r} ${a&&"("+a+")"||""}`,i),this.channels.filter(l=>l._isMember(s)).forEach(l=>l._trigger(r,i,a)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(kt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${t}${s}${r}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([iS],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}}class oS{constructor(t,n,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Vs.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=s.close}}class md extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function we(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class lS extends md{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class zc extends md{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var cS=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(s.next(d))}catch(h){a(h)}}function c(d){try{u(s.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const gv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>st(async()=>{const{default:s}=await Promise.resolve().then(()=>ir);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},uS=()=>cS(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield st(()=>Promise.resolve().then(()=>ir),void 0)).Response:Response}),Vc=e=>{if(Array.isArray(e))return e.map(n=>Vc(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const r=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[r]=Vc(s)}),t};var ls=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(s.next(d))}catch(h){a(h)}}function c(d){try{u(s.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const wl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),dS=(e,t,n)=>ls(void 0,void 0,void 0,function*(){const s=yield uS();e instanceof s&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{t(new lS(wl(r),e.status||500))}).catch(r=>{t(new zc(wl(r),r))}):t(new zc(wl(e),e))}),hS=(e,t,n,s)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s&&(r.body=JSON.stringify(s)),Object.assign(Object.assign({},r),n))};function Ii(e,t,n,s,r,i){return ls(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(n,hS(t,s,r,i)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>dS(c,l,s))})})}function ro(e,t,n,s){return ls(this,void 0,void 0,function*(){return Ii(e,"GET",t,n,s)})}function ln(e,t,n,s,r){return ls(this,void 0,void 0,function*(){return Ii(e,"POST",t,s,r,n)})}function fS(e,t,n,s,r){return ls(this,void 0,void 0,function*(){return Ii(e,"PUT",t,s,r,n)})}function mS(e,t,n,s){return ls(this,void 0,void 0,function*(){return Ii(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function vv(e,t,n,s,r){return ls(this,void 0,void 0,function*(){return Ii(e,"DELETE",t,s,r,n)})}var Be=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(s.next(d))}catch(h){a(h)}}function c(d){try{u(s.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const pS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Cf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class gS{constructor(t,n={},s,r){this.url=t,this.headers=n,this.bucketId=s,this.fetch=gv(r)}uploadOrUpdate(t,n,s,r){return Be(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Cf),r);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=s,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),r!=null&&r.headers&&(l=Object.assign(Object.assign({},l),r.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(we(i))return{data:null,error:i};throw i}})}upload(t,n,s){return Be(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}uploadToSignedUrl(t,n,s,r){return Be(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:Cf.upsert},r),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",u.cacheControl)):(c=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(we(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Be(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const r=Object.assign({},this.headers);n!=null&&n.upsert&&(r["x-upsert"]="true");const i=yield ln(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:r}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new md("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}})}update(t,n,s){return Be(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n,s){return Be(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}})}copy(t,n,s){return Be(this,void 0,void 0,function*(){try{return{data:{path:(yield ln(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}})}createSignedUrl(t,n,s){return Be(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),i=yield ln(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const a=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}})}createSignedUrls(t,n,s){return Be(this,void 0,void 0,function*(){try{const r=yield ln(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:r.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}})}download(t,n){return Be(this,void 0,void 0,function*(){const r=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield ro(this.fetch,`${this.url}/${r}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(we(l))return{data:null,error:l};throw l}})}info(t){return Be(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const s=yield ro(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Vc(s),error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}})}exists(t){return Be(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield mS(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(we(s)&&s instanceof zc){const r=s.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,n){const s=this._getFinalPath(t),r=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&r.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&r.push(c);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${u}`)}}}remove(t){return Be(this,void 0,void 0,function*(){try{return{data:yield vv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}})}list(t,n,s){return Be(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},pS),n),{prefix:t||""});return{data:yield ln(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const vS="2.7.1",xS={"X-Client-Info":`storage-js/${vS}`};var ms=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(s.next(d))}catch(h){a(h)}}function c(d){try{u(s.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};class yS{constructor(t,n={},s){this.url=t,this.headers=Object.assign(Object.assign({},xS),n),this.fetch=gv(s)}listBuckets(){return ms(this,void 0,void 0,function*(){try{return{data:yield ro(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(we(t))return{data:null,error:t};throw t}})}getBucket(t){return ms(this,void 0,void 0,function*(){try{return{data:yield ro(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return ms(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return ms(this,void 0,void 0,function*(){try{return{data:yield fS(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}})}emptyBucket(t){return ms(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ms(this,void 0,void 0,function*(){try{return{data:yield vv(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}})}}class wS extends yS{constructor(t,n={},s){super(t,n,s)}from(t){return new gS(this.url,this.headers,t,this.fetch)}}const bS="2.49.4";let Nr="";typeof Deno<"u"?Nr="deno":typeof document<"u"?Nr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Nr="react-native":Nr="node";const jS={"X-Client-Info":`supabase-js-${Nr}/${bS}`},SS={headers:jS},kS={schema:"public"},_S={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},NS={};var ES=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(s.next(d))}catch(h){a(h)}}function c(d){try{u(s.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const CS=e=>{let t;return e?t=e:typeof fetch>"u"?t=tv:t=fetch,(...n)=>t(...n)},TS=()=>typeof Headers>"u"?nv:Headers,PS=(e,t,n)=>{const s=CS(n),r=TS();return(i,a)=>ES(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new r(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),s(i,Object.assign(Object.assign({},a),{headers:u}))})};var AS=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(s.next(d))}catch(h){a(h)}}function c(d){try{u(s.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};function RS(e){return e.replace(/\/$/,"")}function OS(e,t){const{db:n,auth:s,realtime:r,global:i}=e,{db:a,auth:l,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},a),n),auth:Object.assign(Object.assign({},l),s),realtime:Object.assign(Object.assign({},c),r),global:Object.assign(Object.assign({},u),i),accessToken:()=>AS(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const xv="2.69.1",xs=30*1e3,Bc=3,bl=Bc*xs,IS="http://localhost:9999",LS="supabase.auth.token",DS={"X-Client-Info":`gotrue-js/${xv}`},qc="X-Supabase-Api-Version",yv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},MS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,US=6e5;class pd extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function q(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class $S extends pd{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function FS(e){return q(e)&&e.name==="AuthApiError"}class wv extends pd{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class On extends pd{constructor(t,n,s,r){super(t,s,r),this.name=n,this.status=s}}class nn extends On{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function zS(e){return q(e)&&e.name==="AuthSessionMissingError"}class jl extends On{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class aa extends On{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class oa extends On{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function VS(e){return q(e)&&e.name==="AuthImplicitGrantRedirectError"}class Tf extends On{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Hc extends On{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Sl(e){return q(e)&&e.name==="AuthRetryableFetchError"}class Pf extends On{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class Ur extends On{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Af="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Rf=` 	
\r=`.split(""),BS=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Rf.length;t+=1)e[Rf[t].charCodeAt(0)]=-2;for(let t=0;t<Af.length;t+=1)e[Af[t].charCodeAt(0)]=t;return e})();function bv(e,t,n){const s=BS[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Of(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},s={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},i=a=>{WS(a,s,n)};for(let a=0;a<e.length;a+=1)bv(e.charCodeAt(a),r,i);return t.join("")}function qS(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function HS(e,t){for(let n=0;n<e.length;n+=1){let s=e.charCodeAt(n);if(s>55295&&s<=56319){const r=(s-55296)*1024&65535;s=(e.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}qS(s,t)}}function WS(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function GS(e){const t=[],n={queue:0,queuedBits:0},s=r=>{t.push(r)};for(let r=0;r<e.length;r+=1)bv(e.charCodeAt(r),n,s);return new Uint8Array(t)}function KS(e){const t=[];return HS(e,n=>t.push(n)),new Uint8Array(t)}function JS(e){return Math.round(Date.now()/1e3)+e}function YS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Pt=()=>typeof window<"u"&&typeof document<"u",Dn={tested:!1,writable:!1},$r=()=>{if(!Pt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Dn.tested)return Dn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Dn.tested=!0,Dn.writable=!0}catch{Dn.tested=!0,Dn.writable=!1}return Dn.writable};function QS(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,i)=>{t[i]=r})}catch{}return n.searchParams.forEach((s,r)=>{t[r]=s}),t}const jv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>st(async()=>{const{default:s}=await Promise.resolve().then(()=>ir);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},XS=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Sv=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},la=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ca=async(e,t)=>{await e.removeItem(t)};class Do{constructor(){this.promise=new Do.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Do.promiseConstructor=Promise;function kl(e){const t=e.split(".");if(t.length!==3)throw new Ur("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!MS.test(t[s]))throw new Ur("JWT not in base64url format");return{header:JSON.parse(Of(t[0])),payload:JSON.parse(Of(t[1])),signature:GS(t[2]),raw:{header:t[0],payload:t[1]}}}async function ZS(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function ek(e,t){return new Promise((s,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){s(a);return}}catch(a){if(!t(i,a)){r(a);return}}})()})}function tk(e){return("0"+e.toString(16)).substr(-2)}function nk(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let r="";for(let i=0;i<56;i++)r+=n.charAt(Math.floor(Math.random()*s));return r}return crypto.getRandomValues(t),Array.from(t,tk).join("")}async function sk(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(s);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}async function rk(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await sk(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ps(e,t,n=!1){const s=nk();let r=s;n&&(r+="/PASSWORD_RECOVERY"),await Sv(e,`${t}-code-verifier`,r);const i=await rk(s);return[i,s===i?"plain":"s256"]}const ik=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ak(e){const t=e.headers.get(qc);if(!t||!t.match(ik))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function ok(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function lk(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var ck=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]]);return n};const Fn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uk=[502,503,504];async function If(e){var t;if(!XS(e))throw new Hc(Fn(e),0);if(uk.includes(e.status))throw new Hc(Fn(e),e.status);let n;try{n=await e.json()}catch(i){throw new wv(Fn(i),i)}let s;const r=ak(e);if(r&&r.getTime()>=yv["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new Pf(Fn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new nn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Pf(Fn(n),e.status,n.weak_password.reasons);throw new $S(Fn(n),e.status||500,s)}const dk=(e,t,n,s)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),r.body=JSON.stringify(s),Object.assign(Object.assign({},r),n))};async function G(e,t,n,s){var r;const i=Object.assign({},s==null?void 0:s.headers);i[qc]||(i[qc]=yv["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const a=(r=s==null?void 0:s.query)!==null&&r!==void 0?r:{};s!=null&&s.redirectTo&&(a.redirect_to=s.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await hk(e,t,n+l,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function hk(e,t,n,s,r,i){const a=dk(t,s,r,i);let l;try{l=await e(n,Object.assign({},a))}catch(c){throw console.error(c),new Hc(Fn(c),0)}if(l.ok||await If(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(c){await If(c)}}function sn(e){var t;let n=null;gk(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=JS(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function Lf(e){const t=sn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function hn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function fk(e){return{data:e,error:null}}function mk(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:r,verification_type:i}=e,a=ck(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:s,redirect_to:r,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function pk(e){return e}function gk(e){return e.access_token&&e.refresh_token&&e.expires_in}var vk=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]]);return n};class xk{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=jv(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await G(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(q(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await G(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:hn})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=vk(t,["options"]),r=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(r.new_email=s==null?void 0:s.newEmail,delete r.newEmail),await G(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:mk,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(q(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await G(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:hn})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,r,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await G(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(i=(r=t==null?void 0:t.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:pk});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const y=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(q(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await G(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:hn})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await G(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:hn})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){try{return await G(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:hn})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){try{const{data:n,error:s}=await G(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:s}}catch(n){if(q(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await G(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}}const yk={getItem:e=>$r()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{$r()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{$r()&&globalThis.localStorage.removeItem(e)}};function Df(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function wk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const gs={debug:!!(globalThis&&$r()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class kv extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class bk extends kv{}async function jk(e,t,n){gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),gs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async r=>{if(r){gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}else{if(t===0)throw gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new bk(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(gs.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}wk();const Sk={url:IS,storageKey:LS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Mf(e,t,n){return await n()}class hi{constructor(t){var n,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=hi.nextInstanceID,hi.nextInstanceID+=1,this.instanceID>0&&Pt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},Sk),t);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new xk({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=jv(r.fetch),this.lock=r.lock||Mf,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Pt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=jk:this.lock=Mf,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:$r()?this.storage=yk:(this.memoryStorage={},this.storage=Df(this.memoryStorage)):(this.memoryStorage={},this.storage=Df(this.memoryStorage)),Pt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${xv}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=QS(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),Pt()&&this.detectSessionInUrl&&s!=="none"){const{data:r,error:i}=await this._getSessionFromURL(n,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),VS(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=r;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return q(n)?{error:n}:{error:new wv("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,r;try{const i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.captchaToken}},xform:sn}),{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,s,r;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await ps(this.storage,this.storageKey)),i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:x},xform:sn})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},channel:(r=f==null?void 0:f.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:sn})}else throw new aa("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:a,options:l}=t;n=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Lf})}else if("phone"in t){const{phone:i,password:a,options:l}=t;n=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Lf})}else throw new aa("You must provide either an email or phone number and a password");const{data:s,error:r}=n;return r?{data:{user:null,session:null},error:r}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new jl}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,s,r,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(r=t.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await la(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(n??"").split("/");try{const{data:i,error:a}=await G(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:sn});if(await ca(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new jl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:a})}catch(i){if(q(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:s,token:r,access_token:i,nonce:a}=t,l=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:sn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new jl}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,s,r,i,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ps(this.storage,this.storageKey));const{error:h}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new aa("You must provide either an email or phone number.")}catch(l){if(q(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,s;try{let r,i;"options"in t&&(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:a,error:l}=await G(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:sn});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(t){var n,s,r;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await ps(this.storage,this.storageKey)),await G(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((r=t==null?void 0:t.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:fk})}catch(i){if(q(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new nn;const{error:r}=await G(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(t){if(q(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:r,options:i}=t,{error:a}=await G(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:s,type:r,options:i}=t,{data:a,error:l}=await G(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new aa("You must provide either an email or phone number and a type")}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await la(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<bl:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:hn}):await this._useSession(async n=>{var s,r,i;const{data:a,error:l}=n;if(l)throw l;return!(!((s=a.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new nn}:await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:hn})})}catch(n){if(q(n))return zS(n)&&(await this._removeSession(),await ca(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:r,error:i}=s;if(i)throw i;if(!r.session)throw new nn;const a=r.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await ps(this.storage,this.storageKey));const{data:u,error:d}=await G(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:hn});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new nn;const n=Date.now()/1e3;let s=n,r=!0,i=null;const{payload:a}=kl(t.access_token);if(a.exp&&(s=a.exp,r=s<=n),r){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(q(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:a,error:l}=n;if(l)throw l;t=(s=a.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new nn;const{session:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Pt())throw new oa("No browser detected.");if(t.error||t.error_description||t.error_code)throw new oa(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Tf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new oa("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Tf("No code detected.");const{data:g,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:r,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!a||!u)throw new oa("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const p=f-d;p*1e3<=xs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const x=f-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,f,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,f,d);const{data:y,error:b}=await this._getUser(i);if(b)throw b;const m={provider_token:s,provider_refresh_token:r,access_token:i,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(s){if(q(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await la(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:r,error:i}=n;if(i)return{error:i};const a=(s=r.session)===null||s===void 0?void 0:s.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(FS(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await ca(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=YS(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,r;try{const{data:{session:i},error:a}=n;if(a)throw a;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let s=null,r=null;this.flowType==="pkce"&&([s,r]=await ps(this.storage,this.storageKey,!0));try{return await G(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(q(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:s,error:r}=await this._useSession(async i=>{var a,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await G(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(r)throw r;return Pt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(q(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,r;const{data:i,error:a}=n;if(a)throw a;return await G(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(r=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await ek(async r=>(r>0&&await ZS(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await G(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:sn})),(r,i)=>{const a=200*Math.pow(2,r);return i&&Sl(i)&&Date.now()+a-s<xs})}catch(s){if(this._debug(n,"error",s),q(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),Pt()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await la(this.storage,this.storageKey);if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const r=((t=s.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<bl;if(this._debug(n,`session has${r?"":" not"} expired with margin of ${bl}s`),r){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),Sl(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new nn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Do;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new nn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(r,"error",i),q(i)){const a={session:null,error:i};return Sl(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(t,n,s=!0){const r=`#_notifyAllSubscribers(${t})`;this._debug(r,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Sv(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ca(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Pt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),xs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((s.expires_at*1e3-t)/xs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${xs}ms, refresh threshold is ${Bc} ticks`),r<=Bc&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof kv)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const r=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,a]=await ps(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});r.push(l.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);r.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${r.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;return i?{data:null,error:i}:await G(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await G(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((r=c==null?void 0:c.totp)===null||r===void 0)&&r.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;if(i)return{data:null,error:i};const{data:a,error:l}=await G(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(q(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;return i?{data:null,error:i}:await G(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(q(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(t==null?void 0:t.factors)||[],r=s.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=s.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:s,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,s;const{data:{session:r},error:i}=t;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=kl(r.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((s=(n=r.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let s=n.keys.find(a=>a.kid===t);if(s||(s=this.jwks.keys.find(a=>a.kid===t),s&&this.jwks_cached_at+US>Date.now()))return s;const{data:r,error:i}=await G(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!r.keys||r.keys.length===0)throw new Ur("JWKS is empty");if(this.jwks=r,this.jwks_cached_at=Date.now(),s=r.keys.find(a=>a.kid===t),!s)throw new Ur("No matching signing key found in JWKS");return s}async getClaims(t,n={keys:[]}){try{let s=t;if(!s){const{data:p,error:x}=await this.getSession();if(x||!p.session)return{data:null,error:x};s=p.session.access_token}const{header:r,payload:i,signature:a,raw:{header:l,payload:c}}=kl(s);if(ok(i.exp),!r.kid||r.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(s);if(p)throw p;return{data:{claims:i,header:r,signature:a},error:null}}const u=lk(r.alg),d=await this.fetchJwk(r.kid,n),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,a,KS(`${l}.${c}`)))throw new Ur("Invalid JWT signature");return{data:{claims:i,header:r,signature:a},error:null}}catch(s){if(q(s))return{data:null,error:s};throw s}}}hi.nextInstanceID=0;const kk=hi;class _k extends kk{constructor(t){super(t)}}var Nk=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(s.next(d))}catch(h){a(h)}}function c(d){try{u(s.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};class Ek{constructor(t,n,s){var r,i,a;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=RS(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:kS,realtime:NS,auth:Object.assign(Object.assign({},_S),{storageKey:c}),global:SS},d=OS(s??{},u);this.storageKey=(r=d.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=PS(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Hj(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new bj(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new wS(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},s={}){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Nk(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:r,storageKey:i,flowType:a,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _k({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:r,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new aS(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ck=(e,t,n)=>new Ek(e,t,n);console.log("Environment variables check:");console.log("NODE_ENV:","production");console.log("VITE_SUPABASE_URL exists:",!0);console.log("VITE_SUPABASE_ANON_KEY exists:",!0);console.log("VITE_SUPABASE_URL:","https://bbixvnkqroskholbxkgj.supabase.co");console.log("VITE_SUPABASE_ANON_KEY:","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU");const Tk="https://bbixvnkqroskholbxkgj.supabase.co",Pk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU",P=Ck(Tk,Pk),_l=Object.freeze(Object.defineProperty({__proto__:null,supabase:P},Symbol.toStringTag,{value:"Module"})),cs="/accreda.github.io/assets/accreda-logo-rSXzK5SL.png";function Ak(){var f;const[e,t]=v.useState(""),[n,s]=v.useState(""),[r,i]=v.useState(null),[a,l]=v.useState(!1),c=Ve(),d=(f=en().state)==null?void 0:f.message,h=async p=>{p.preventDefault(),i(null),l(!0);try{console.log("Attempting login...");const{data:x,error:y}=await P.auth.signInWithPassword({email:e,password:n});if(y)throw console.error("Login error:",y),y;if(x!=null&&x.user)console.log("Login successful, navigating to dashboard..."),c("/dashboard");else throw new Error("No user data received after successful login")}catch(x){console.error("Login error details:",x),x instanceof Error?x.message.includes("Invalid login credentials")?i("Invalid email or password"):x.message.includes("Email not confirmed")?i("Please confirm your email address before logging in"):i(x.message):i("An unexpected error occurred during login")}finally{l(!1)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-slate-50 to-slate-100 py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("img",{src:cs,alt:"Accreda Logo",className:"h-24 w-auto mb-6 cursor-pointer",onClick:()=>c("/")}),o.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Welcome back"}),o.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Sign in to your EIT Track account"})]}),d&&o.jsx("div",{className:"rounded-lg bg-green-50 p-4 border border-green-100",children:o.jsx("div",{className:"text-sm text-green-700",children:d})}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[r&&o.jsx("div",{className:"rounded-lg bg-red-50 p-4 border border-red-100",children:o.jsx("div",{className:"text-sm text-red-700",children:r})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-slate-700 mb-1",children:"Email address"}),o.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your email",value:e,onChange:p=>t(p.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),o.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your password",value:n,onChange:p=>s(p.target.value)})]})]}),o.jsx("div",{className:"flex items-center justify-end",children:o.jsx("div",{className:"text-sm",children:o.jsx(ft,{to:"/forgot-password",className:"font-medium text-teal-600 hover:text-teal-500 transition-colors",children:"Forgot your password?"})})}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:a,className:"group relative w-full flex justify-center py-2.5 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-colors disabled:opacity-75 disabled:cursor-not-allowed",children:a?"Signing in...":"Sign in"})}),o.jsx("div",{className:"text-center",children:o.jsxs("p",{className:"text-sm text-slate-600",children:["Don't have an account?"," ",o.jsx(ft,{to:"/signup",className:"font-medium text-teal-600 hover:text-teal-500 transition-colors",children:"Create one now"})]})})]})]})})}function Rk(){const[e,t]=v.useState({email:"",password:"",confirmPassword:"",fullName:"",organization:"",accountType:"eit"}),[n,s]=v.useState(null),[r,i]=v.useState(!1),[a,l]=v.useState(null),c=Ve(),u=async d=>{d.preventDefault(),s(null),i(!0);try{if(e.password!==e.confirmPassword)throw new Error("Passwords do not match");if(e.password.length<6)throw new Error("Password must be at least 6 characters long");if(!e.fullName.trim())throw new Error("Full name is required");if(e.accountType==="supervisor"&&!e.organization.trim())throw new Error("Organization is required for supervisors");console.log("Creating auth user with:",{email:e.email,accountType:e.accountType});const{data:h,error:f}=await P.auth.signUp({email:e.email,password:e.password,options:{emailRedirectTo:`${window.location.origin}/login`}});if(f)throw console.error("Auth error:",f),new Error(`Authentication error: ${f.message}`);if(!h.user)throw console.error("No user data returned from auth signup"),new Error("Failed to create user account");console.log("Auth user created:",h.user.id);const p={id:h.user.id,email:e.email,full_name:e.fullName,account_type:e.accountType,...e.accountType==="supervisor"&&{organization:e.organization}};console.log("Creating profile with data:",p);const{error:x}=await P.from(e.accountType==="eit"?"eit_profiles":"supervisor_profiles").insert([p]);if(x)throw console.error("Profile creation error:",x),new Error(`Failed to create profile: ${x.message}`);console.log("Profile created successfully"),l("Account created successfully! Please check your email for verification."),t({email:"",password:"",confirmPassword:"",fullName:"",organization:"",accountType:"eit"}),c("/login",{state:{message:"Please check your email to confirm your account. You can now sign in."}})}catch(h){console.error("Signup error:",h);let f=h instanceof Error?h.message:"An error occurred during signup";(f.includes("duplicate key value")||f.includes("unique constraint")||f.toLowerCase().includes("already exists"))&&(f="An account with this email already exists. Please log in or use a different email address."),s(f)}finally{i(!1)}};return v.useEffect(()=>{P.auth.getSession().then(({data:{session:d}})=>{})},[]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-slate-50 to-slate-100 py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("img",{src:cs,alt:"Accreda Logo",className:"h-24 w-auto mb-6 cursor-pointer",onClick:()=>c("/")}),o.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Create your account"}),o.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Join Accreda to start your journey"})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[n&&o.jsx("div",{className:"rounded-lg bg-red-50 p-4 border border-red-100",children:o.jsx("div",{className:"text-sm text-red-700",children:n})}),a&&o.jsx("div",{className:"rounded-lg bg-green-50 p-4 border border-green-100",children:o.jsx("div",{className:"text-sm text-green-700",children:a})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-center mb-4 gap-3",children:[o.jsx("button",{type:"button",className:`px-4 py-2 rounded-lg border font-semibold transition-all duration-200 transform focus:outline-none focus:ring-2 focus:ring-teal-400
                  ${e.accountType==="eit"?"bg-teal-600 text-white scale-105 shadow-lg":"bg-white text-teal-600 border-teal-600 hover:scale-105 hover:brightness-95"}
                `,onClick:()=>t({...e,accountType:"eit"}),children:"EIT"}),o.jsx("button",{type:"button",className:`px-4 py-2 rounded-lg border font-semibold transition-all duration-200 transform focus:outline-none focus:ring-2 focus:ring-teal-400
                  ${e.accountType==="supervisor"?"bg-teal-600 text-white scale-105 shadow-lg":"bg-white text-teal-600 border-teal-600 hover:scale-105 hover:brightness-95"}
                `,onClick:()=>t({...e,accountType:"supervisor"}),children:"Supervisor"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"full-name",className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),o.jsx("input",{id:"full-name",name:"full-name",type:"text",autoComplete:"name",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your full name",value:e.fullName,onChange:d=>t({...e,fullName:d.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"organization",className:"block text-sm font-medium text-slate-700 mb-1",children:"Organization"}),o.jsx("input",{id:"organization",name:"organization",type:"text",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your organization",value:e.organization,onChange:d=>t({...e,organization:d.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-slate-700 mb-1",children:"Email address"}),o.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your email",value:e.email,onChange:d=>t({...e,email:d.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),o.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Create a password",value:e.password,onChange:d=>t({...e,password:d.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-slate-700 mb-1",children:"Confirm Password"}),o.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Confirm your password",value:e.confirmPassword,onChange:d=>t({...e,confirmPassword:d.target.value})})]})]}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:r,className:"group relative w-full flex justify-center py-2.5 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-colors disabled:opacity-75 disabled:cursor-not-allowed",children:r?"Creating account...":"Create account"})}),o.jsx("div",{className:"text-center",children:o.jsxs("p",{className:"text-sm text-slate-600",children:["Already have an account?"," ",o.jsx(ft,{to:"/login",className:"font-medium text-teal-600 hover:text-teal-500 transition-colors",children:"Sign in"})]})})]})]})})}function Ok(){const[e,t]=v.useState(""),[n,s]=v.useState(null),[r,i]=v.useState(null),[a,l]=v.useState(!1),c=async u=>{u.preventDefault(),s(null),i(null),l(!0);try{const{error:d}=await P.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});if(d)throw d;i("Password reset instructions have been sent to your email address."),t("")}catch(d){s(d instanceof Error?d.message:"An error occurred while sending reset instructions")}finally{l(!1)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-slate-50 to-slate-100 py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("img",{src:cs,alt:"Accreda Logo",className:"h-24 w-auto mb-6"}),o.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Reset your password"}),o.jsx("p",{className:"mt-2 text-sm text-slate-600 text-center",children:"Enter your email address and we'll send you instructions to reset your password"})]}),r&&o.jsx("div",{className:"rounded-lg bg-green-50 p-4 border border-green-100",children:o.jsx("div",{className:"text-sm text-green-700",children:r})}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:c,children:[n&&o.jsx("div",{className:"rounded-lg bg-red-50 p-4 border border-red-100",children:o.jsx("div",{className:"text-sm text-red-700",children:n})}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-slate-700 mb-1",children:"Email address"}),o.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your email",value:e,onChange:u=>t(u.target.value)})]}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:a,className:"group relative w-full flex justify-center py-2.5 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-colors disabled:opacity-75 disabled:cursor-not-allowed",children:a?"Sending instructions...":"Send reset instructions"})}),o.jsx("div",{className:"text-center",children:o.jsxs("p",{className:"text-sm text-slate-600",children:["Remember your password?"," ",o.jsx(ft,{to:"/login",className:"font-medium text-teal-600 hover:text-teal-500 transition-colors",children:"Sign in"})]})})]})]})})}function Ik(){const[e,t]=v.useState(""),[n,s]=v.useState(""),[r,i]=v.useState(null),[a,l]=v.useState(!1),c=Ve();v.useEffect(()=>{P.auth.getSession().then(({data:{session:d}})=>{d||c("/login",{state:{message:"Password reset link is invalid or has expired. Please try again."}})})},[c]);const u=async d=>{if(d.preventDefault(),i(null),e!==n){i("Passwords do not match");return}if(e.length<6){i("Password must be at least 6 characters long");return}l(!0);try{const{error:h}=await P.auth.updateUser({password:e});if(h)throw h;await P.auth.signOut(),c("/login",{state:{message:"Your password has been reset successfully. Please sign in with your new password."}})}catch(h){i(h instanceof Error?h.message:"An error occurred while resetting your password")}finally{l(!1)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-slate-50 to-slate-100 py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("img",{src:cs,alt:"Accreda Logo",className:"h-24 w-auto mb-6"}),o.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Set new password"}),o.jsx("p",{className:"mt-2 text-sm text-slate-600 text-center",children:"Please enter your new password below"})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[r&&o.jsx("div",{className:"rounded-lg bg-red-50 p-4 border border-red-100",children:o.jsx("div",{className:"text-sm text-red-700",children:r})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-1",children:"New Password"}),o.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your new password",value:e,onChange:d=>t(d.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-slate-700 mb-1",children:"Confirm New Password"}),o.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Confirm your new password",value:n,onChange:d=>s(d.target.value)})]})]}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:a,className:"group relative w-full flex justify-center py-2.5 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-colors disabled:opacity-75 disabled:cursor-not-allowed",children:a?"Resetting password...":"Reset password"})})]})]})})}/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),z=(e,t)=>{const n=v.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,...u},d)=>v.createElement("svg",{ref:d,...Lk,width:r,height:r,stroke:s,strokeWidth:a?Number(i)*24/Number(r):i,className:["lucide",`lucide-${Dk(e)}`,l].join(" "),...u},[...t.map(([h,f])=>v.createElement(h,f)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=z("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=z("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=z("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=z("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=z("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=z("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=z("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=z("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=z("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=z("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=z("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=z("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=z("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=z("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=z("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=z("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=z("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=z("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=z("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=z("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=z("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=z("FilePen",[["path",{d:"M12 22h6a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v10",key:"x7tsz2"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10.4 12.6a2 2 0 1 1 3 3L8 21l-4 1 1-4Z",key:"o3xyfb"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=z("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=z("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=z("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=z("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=z("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=z("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=z("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=z("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=z("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=z("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=z("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=z("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=z("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=z("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=z("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=z("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=z("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=z("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=z("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=z("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=z("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=z("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=z("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=z("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=z("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Uv=()=>{const[e,t]=v.useState(!1),[n,s]=v.useState(""),[r,i]=v.useState(""),[a,l]=v.useState(""),[c,u]=v.useState(null),d=v.useRef(null),h=Ve();v.useEffect(()=>{(async()=>{var m,g,w;const{data:{user:b}}=await P.auth.getUser();if(b){i(b.email||""),s(((m=b.user_metadata)==null?void 0:m.full_name)||((g=b.email)==null?void 0:g.split("@")[0])||"User"),l(((w=b.user_metadata)==null?void 0:w.avatar_url)||"");const{data:j}=await P.from("eit_profiles").select("id").eq("id",b.id).single(),{data:S}=await P.from("supervisor_profiles").select("id").eq("id",b.id).single();S?u("supervisor"):j&&u("eit")}})()},[]),v.useEffect(()=>{const y=b=>{d.current&&!d.current.contains(b.target)&&t(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const f=async()=>{try{await P.auth.signOut(),h("/login")}catch(y){console.error("Error signing out:",y)}},p=y=>y.split(" ").map(b=>b[0]).join("").toUpperCase().slice(0,2),x=()=>{h(c==="supervisor"?"/dashboard/supervisor/settings":"/dashboard/settings"),t(!1)};return o.jsxs("div",{className:"relative",ref:d,children:[o.jsxs("button",{className:"flex items-center space-x-2 focus:outline-none",onClick:()=>t(!e),children:[a?o.jsx("img",{src:a,alt:"Avatar",className:"w-8 h-8 rounded-full object-cover bg-teal-500 text-white"}):o.jsx("div",{className:"w-8 h-8 rounded-full bg-teal-500 flex items-center justify-center text-white",children:o.jsx("span",{className:"text-sm font-semibold",children:p(n)})}),o.jsx("span",{className:"hidden md:block text-sm font-medium",children:n}),o.jsx(Pv,{size:16,className:`text-slate-500 transition-transform ${e?"rotate-180":""}`})]}),e&&o.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-1 z-50 border border-slate-200 animate-in fade-in slide-in-from-top-3 duration-200",children:[o.jsxs("div",{className:"px-4 py-2 border-b border-slate-200",children:[o.jsx("p",{className:"text-sm font-semibold",children:n}),o.jsx("p",{className:"text-xs text-slate-500",children:r})]}),o.jsxs("ul",{children:[o.jsx("li",{children:o.jsxs("button",{onClick:x,className:"w-full flex items-center px-4 py-2 text-sm text-slate-700 hover:bg-slate-50",children:[o.jsx(kd,{size:16,className:"mr-2"}),"Settings"]})}),o.jsx("li",{className:"border-t border-slate-200 mt-1",children:o.jsxs("button",{onClick:f,className:"w-full flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[o.jsx(jd,{size:16,className:"mr-2"}),"Sign out"]})})]})]})]})},c2={},Ff=e=>{let t;const n=new Set,s=(d,h)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const p=t;t=h??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(x=>x(t,p))}},r=()=>t,c={setState:s,getState:r,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(c2?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(s,r,c);return c},u2=e=>e?Ff(e):Ff;var $v={exports:{}},Fv={},zv={exports:{}},Vv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xs=v;function d2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var h2=typeof Object.is=="function"?Object.is:d2,f2=Xs.useState,m2=Xs.useEffect,p2=Xs.useLayoutEffect,g2=Xs.useDebugValue;function v2(e,t){var n=t(),s=f2({inst:{value:n,getSnapshot:t}}),r=s[0].inst,i=s[1];return p2(function(){r.value=n,r.getSnapshot=t,Nl(r)&&i({inst:r})},[e,n,t]),m2(function(){return Nl(r)&&i({inst:r}),e(function(){Nl(r)&&i({inst:r})})},[e]),g2(n),n}function Nl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!h2(e,n)}catch{return!0}}function x2(e,t){return t()}var y2=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?x2:v2;Vv.useSyncExternalStore=Xs.useSyncExternalStore!==void 0?Xs.useSyncExternalStore:y2;zv.exports=Vv;var w2=zv.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zo=v,b2=w2;function j2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var S2=typeof Object.is=="function"?Object.is:j2,k2=b2.useSyncExternalStore,_2=zo.useRef,N2=zo.useEffect,E2=zo.useMemo,C2=zo.useDebugValue;Fv.useSyncExternalStoreWithSelector=function(e,t,n,s,r){var i=_2(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=E2(function(){function c(p){if(!u){if(u=!0,d=p,p=s(p),r!==void 0&&a.hasValue){var x=a.value;if(r(x,p))return h=x}return h=p}if(x=h,S2(d,p))return x;var y=s(p);return r!==void 0&&r(x,y)?(d=p,x):(d=p,h=y)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,n,s,r]);var l=k2(e,i[0],i[1]);return N2(function(){a.hasValue=!0,a.value=l},[l]),C2(l),l};$v.exports=Fv;var T2=$v.exports;const P2=fu(T2),Bv={},{useDebugValue:A2}=Ae,{useSyncExternalStoreWithSelector:R2}=P2;let zf=!1;const O2=e=>e;function I2(e,t=O2,n){(Bv?"production":void 0)!=="production"&&n&&!zf&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),zf=!0);const s=R2(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return A2(s),s}const Vf=e=>{(Bv?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?u2(e):e,n=(s,r)=>I2(t,s,r);return Object.assign(n,t),n},ds=e=>e?Vf(e):Vf;function L2(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var qv=L2,D2=typeof Ie=="object"&&Ie&&Ie.Object===Object&&Ie,M2=D2,U2=M2,$2=typeof self=="object"&&self&&self.Object===Object&&self,F2=U2||$2||Function("return this")(),Hv=F2,z2=Hv,V2=function(){return z2.Date.now()},B2=V2,q2=/\s/;function H2(e){for(var t=e.length;t--&&q2.test(e.charAt(t)););return t}var W2=H2,G2=W2,K2=/^\s+/;function J2(e){return e&&e.slice(0,G2(e)+1).replace(K2,"")}var Y2=J2,Q2=Hv,X2=Q2.Symbol,Wv=X2,Bf=Wv,Gv=Object.prototype,Z2=Gv.hasOwnProperty,e_=Gv.toString,wr=Bf?Bf.toStringTag:void 0;function t_(e){var t=Z2.call(e,wr),n=e[wr];try{e[wr]=void 0;var s=!0}catch{}var r=e_.call(e);return s&&(t?e[wr]=n:delete e[wr]),r}var n_=t_,s_=Object.prototype,r_=s_.toString;function i_(e){return r_.call(e)}var a_=i_,qf=Wv,o_=n_,l_=a_,c_="[object Null]",u_="[object Undefined]",Hf=qf?qf.toStringTag:void 0;function d_(e){return e==null?e===void 0?u_:c_:Hf&&Hf in Object(e)?o_(e):l_(e)}var h_=d_;function f_(e){return e!=null&&typeof e=="object"}var m_=f_,p_=h_,g_=m_,v_="[object Symbol]";function x_(e){return typeof e=="symbol"||g_(e)&&p_(e)==v_}var y_=x_,w_=Y2,Wf=qv,b_=y_,Gf=NaN,j_=/^[-+]0x[0-9a-f]+$/i,S_=/^0b[01]+$/i,k_=/^0o[0-7]+$/i,__=parseInt;function N_(e){if(typeof e=="number")return e;if(b_(e))return Gf;if(Wf(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Wf(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=w_(e);var n=S_.test(e);return n||k_.test(e)?__(e.slice(2),n?2:8):j_.test(e)?Gf:+e}var E_=N_,C_=qv,El=B2,Kf=E_,T_="Expected a function",P_=Math.max,A_=Math.min;function R_(e,t,n){var s,r,i,a,l,c,u=0,d=!1,h=!1,f=!0;if(typeof e!="function")throw new TypeError(T_);t=Kf(t)||0,C_(n)&&(d=!!n.leading,h="maxWait"in n,i=h?P_(Kf(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f);function p(_){var k=s,N=r;return s=r=void 0,u=_,a=e.apply(N,k),a}function x(_){return u=_,l=setTimeout(m,t),d?p(_):a}function y(_){var k=_-c,N=_-u,O=t-k;return h?A_(O,i-N):O}function b(_){var k=_-c,N=_-u;return c===void 0||k>=t||k<0||h&&N>=i}function m(){var _=El();if(b(_))return g(_);l=setTimeout(m,y(_))}function g(_){return l=void 0,f&&s?p(_):(s=r=void 0,a)}function w(){l!==void 0&&clearTimeout(l),u=0,s=c=r=l=void 0}function j(){return l===void 0?a:g(El())}function S(){var _=El(),k=b(_);if(s=arguments,r=this,c=_,k){if(l===void 0)return x(c);if(h)return clearTimeout(l),l=setTimeout(m,t),p(c)}return l===void 0&&(l=setTimeout(m,t)),a}return S.cancel=w,S.flush=j,S}var O_=R_;const I_=fu(O_),L_=ds(e=>({results:[],loading:!1,error:null,search:I_(async t=>{if(!t.trim()){e({results:[],loading:!1,error:null});return}e({loading:!0,error:null});try{const{data:{user:n}}=await P.auth.getUser();if(!n)throw new Error("No user found");const{data:s,error:r}=await P.rpc("search_all",{search_query:t,user_id:n.id});if(r)throw console.error("Search error:",r),new Error(r.message);const i=(s||[]).map(a=>{const l={id:a.id,type:a.type,title:a.title,description:a.description,category:a.category};switch(a.type){case"job":return{...l,metadata:{company:a.company,location:a.location}};case"reference":return{...l,metadata:{email:a.email,referenceNumber:a.reference_number}};case"validator":return{...l,metadata:{email:a.email,skillName:a.skill_name}};default:return l}});e({results:i,loading:!1})}catch(n){console.error("Search error:",n),e({error:"Failed to search",loading:!1})}},300),clearResults:()=>e({results:[],error:null})})),Kv=()=>{const[e,t]=v.useState(""),[n,s]=v.useState(!1),[r,i]=v.useState(null),{results:a,loading:l,error:c,search:u,clearResults:d}=L_(),h=Ve(),f=v.useRef(null);v.useEffect(()=>{const m=g=>{f.current&&!f.current.contains(g.target)&&s(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]),v.useEffect(()=>{(async()=>{const{data:{user:g}}=await st(()=>Promise.resolve().then(()=>_l),void 0).then(S=>S.supabase.auth.getUser());if(!g)return;const{data:w}=await st(async()=>{const{data:S}=await Promise.resolve().then(()=>_l);return{data:S}},void 0).then(S=>S.supabase.from("eit_profiles").select("id").eq("id",g.id).single()),{data:j}=await st(async()=>{const{data:S}=await Promise.resolve().then(()=>_l);return{data:S}},void 0).then(S=>S.supabase.from("supervisor_profiles").select("id").eq("id",g.id).single());j?i("supervisor"):w&&i("eit")})()},[]);const p=async m=>{if(t(m),m.trim()){s(!0);try{await u(m)}catch(g){console.error("Search error:",g),s(!0)}}else s(!1),d()},x=m=>{switch(s(!1),t(""),d(),m.type){case"document":h("/dashboard/documents"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("highlight-document",{detail:{documentId:m.id}}))},500);break;case"sao":h("/dashboard/saos"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("highlight-sao",{detail:{saoId:m.id}}))},500);break;case"skill":r==="eit"?(h("/dashboard/skills"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("scroll-to-skill",{detail:{skillId:m.id,timestamp:Date.now()}}))},500)):r==="supervisor"&&(h("/dashboard/supervisor/skills"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("scroll-to-skill",{detail:{skillId:m.id,timestamp:Date.now()}}))},500));break;case"job":h("/dashboard/references"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("scroll-to-item",{detail:{itemId:m.id,itemType:"job"}}))},500);break;case"reference":h("/dashboard/references"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("scroll-to-item",{detail:{itemId:m.id,itemType:"reference"}}))},500);break;case"validator":h("/dashboard/references"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("scroll-to-item",{detail:{itemId:m.id,itemType:"validator"}}))},500);break}},y=m=>{switch(m){case"document":return o.jsx(us,{size:16,className:"text-blue-500"});case"sao":return o.jsx(wd,{size:16,className:"text-amber-500"});case"skill":return o.jsx(Uo,{size:16,className:"text-green-500"});case"job":return o.jsx(fi,{size:16,className:"text-purple-500"});case"reference":return o.jsx(Fo,{size:16,className:"text-indigo-500"});case"validator":return o.jsx(ss,{size:16,className:"text-teal-500"})}},b=m=>{if(!m.metadata)return null;switch(m.type){case"job":return`${m.metadata.company} • ${m.metadata.location}`;case"reference":return`Reference ${m.metadata.referenceNumber} • ${m.metadata.email}`;case"validator":return`${m.metadata.skillName} • ${m.metadata.email}`;default:return null}};return o.jsxs("div",{className:"relative",ref:f,children:[o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"Search documents, SAOs, skills, jobs, references...",value:e,onChange:m=>p(m.target.value),className:"pl-9 pr-4 py-2 bg-slate-100 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 w-64"}),o.jsx(Lv,{className:"absolute left-3 top-2.5 text-slate-400",size:18}),l&&o.jsx(n2,{className:"absolute right-3 top-2.5 text-slate-400 animate-spin",size:18})]}),n&&(e.trim()||a.length>0)&&o.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white rounded-lg shadow-lg border border-slate-200 max-h-96 overflow-y-auto z-50",children:c?o.jsx("div",{className:"px-4 py-3 text-sm text-red-500",children:c}):a.length>0?o.jsx("div",{className:"py-2",children:a.map(m=>o.jsxs("button",{onClick:()=>x(m),className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center space-x-3",children:[y(m.type),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:m.title}),m.description&&o.jsx("p",{className:"text-xs text-slate-500 truncate",children:m.description}),m.category&&o.jsx("p",{className:"text-xs text-slate-500",children:m.category}),b(m)&&o.jsx("p",{className:"text-xs text-slate-500",children:b(m)})]})]},`${m.type}-${m.id}`))}):o.jsx("div",{className:"px-4 py-3 text-sm text-slate-500",children:"No results found"})})]})},D_=({onMenuClick:e})=>o.jsxs("header",{className:"fixed top-0 right-0 left-0 md:left-64 bg-white/80 backdrop-blur-md z-10 border-b border-slate-200 px-4 py-3 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:e,className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100 md:hidden","aria-label":"Menu",children:o.jsx(Ov,{size:24})}),o.jsx("div",{className:"ml-2 md:ml-0",children:o.jsx("h1",{className:"text-xl font-semibold text-slate-800",children:"EIT Progress"})})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"hidden md:block",children:o.jsx(Kv,{})}),o.jsxs("button",{className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100 relative","aria-label":"Notifications",children:[o.jsx(Mo,{size:20}),o.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),o.jsx(Uv,{})]})]}),M_=()=>{const e=[{name:"Home",path:"/dashboard",icon:o.jsx($o,{size:20})},{name:"Skills",path:"/dashboard/skills",icon:o.jsx(Jk,{size:20})},{name:"Documents",path:"/dashboard/documents",icon:o.jsx(us,{size:20})},{name:"Essays",path:"/dashboard/essays",icon:o.jsx(Iv,{size:20})},{name:"Help",path:"/dashboard/help",icon:o.jsx(bd,{size:20})}];return o.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 p-2 z-10",children:o.jsx("ul",{className:"flex justify-around",children:e.map(t=>o.jsx("li",{children:o.jsxs(di,{to:t.path,className:({isActive:n})=>`flex flex-col items-center p-2 rounded-lg transition-colors ${n?"text-teal-600":"text-slate-500 hover:text-teal-600"}`,children:[o.jsx("span",{children:t.icon}),o.jsx("span",{className:"text-xs mt-1",children:t.name})]})},t.name))})})},U_=()=>{const[e,t]=v.useState(!1),[n,s]=v.useState(!0),r=v.useRef(0);v.useEffect(()=>{const l=()=>{const c=window.pageYOffset;c>r.current&&(r.current=c),c>300?(t(!0),s(!1)):c===0?(t(!0),s(!0)):(t(!1),s(!1))};return window.addEventListener("scroll",l),()=>{window.removeEventListener("scroll",l)}},[]);const i=()=>{window.scrollTo({top:0,behavior:"smooth"})},a=()=>{window.scrollTo({top:r.current,behavior:"smooth"})};return o.jsx("div",{className:`fixed bottom-20 md:bottom-6 right-6 transition-all duration-300 z-50 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"}`,children:o.jsx("button",{onClick:n?a:i,className:`p-3 text-white rounded-full shadow-lg transition-all duration-300 transform hover:scale-110 active:scale-95 ${n?"bg-slate-600 hover:bg-slate-700":"bg-teal-600 hover:bg-teal-700"}`,"aria-label":n?"Scroll to last position":"Scroll to top",children:n?o.jsx(Mk,{size:20}):o.jsx(Uk,{size:20})})})},ua=[{name:"Category 1 – Technical Competence",skills:[{id:"temp-1",name:"1.1 Regulations, Codes & Standards",status:"not-started",rank:void 0},{id:"temp-2",name:"1.2 Technical & Design Constraints",status:"not-started",rank:void 0},{id:"temp-3",name:"1.3 Risk Management for Technical Work",status:"not-started",rank:void 0},{id:"temp-4",name:"1.4 Application of Theory",status:"not-started",rank:void 0},{id:"temp-5",name:"1.5 Solution Techniques – Results Verification",status:"not-started",rank:void 0},{id:"temp-6",name:"1.6 Safety in Design & Technical Work",status:"not-started",rank:void 0},{id:"temp-7",name:"1.7 Systems & Their Components",status:"not-started",rank:void 0},{id:"temp-8",name:"1.8 Project or Asset Life-Cycle Awareness",status:"not-started",rank:void 0},{id:"temp-9",name:"1.9 Quality Assurance",status:"not-started",rank:void 0},{id:"temp-10",name:"1.10 Engineering Documentation",status:"not-started",rank:void 0}]},{name:"Category 2 – Communication",skills:[{id:"temp-11",name:"2.1 Oral Communication (English)",status:"not-started",rank:void 0},{id:"temp-12",name:"2.2 Written Communication (English)",status:"not-started",rank:void 0},{id:"temp-13",name:"2.3 Reading & Comprehension (English)",status:"not-started",rank:void 0}]},{name:"Category 3 – Project & Financial Management",skills:[{id:"temp-14",name:"3.1 Project Management Principles",status:"not-started",rank:void 0},{id:"temp-15",name:"3.2 Finances & Budget",status:"not-started",rank:void 0}]},{name:"Category 4 – Team Effectiveness",skills:[{id:"temp-16",name:"4.1 Promote Team Effectiveness & Resolve Conflict",status:"not-started",rank:void 0}]},{name:"Category 5 – Professional Accountability",skills:[{id:"temp-17",name:"5.1 Professional Accountability (Ethics, Liability, Limits)",status:"not-started",rank:void 0}]},{name:"Category 6 – Social, Economic, Environmental & Sustainability",skills:[{id:"temp-18",name:"6.1 Protection of the Public Interest",status:"not-started",rank:void 0},{id:"temp-19",name:"6.2 Benefits of Engineering to the Public",status:"not-started",rank:void 0},{id:"temp-20",name:"6.3 Role of Regulatory Bodies",status:"not-started",rank:void 0},{id:"temp-21",name:"6.4 Application of Sustainability Principles",status:"not-started",rank:void 0},{id:"temp-22",name:"6.5 Promotion of Sustainability",status:"not-started",rank:void 0}]}],Ut=ds((e,t)=>({skillCategories:ua,loading:!1,error:null,skills:[],lastFetched:null,clearState:()=>e({skillCategories:ua,loading:!1,error:null,skills:[],lastFetched:null}),setSkillCategories:n=>e({skillCategories:n}),loadUserSkills:async(n=!1)=>{var i;const s=Date.now(),r=t().lastFetched;if(!(!n&&r&&s-r<5*60*1e3)){e({loading:!0,error:null});try{console.log("Starting loadUserSkills...");const{data:{user:a}}=await P.auth.getUser();if(!a)throw console.error("No authenticated user found"),new Error("No authenticated user found");console.log("User authenticated:",a.id),await P.from("eit_profiles").upsert({id:a.id,full_name:((i=a.user_metadata)==null?void 0:i.full_name)||"",email:a.email||""});const[l,c]=await Promise.all([P.from("skills").select("id, name, category"),P.from("eit_skills").select("id, eit_id, skill_id, category_name, skill_name, rank, status").eq("eit_id",a.id)]),u=l.data||[];let d=c.data||[];if(console.log("Skills fetched from DB:",u.length),console.log("Existing user skills:",d.length),!d||d.length===0){console.log("No existing skills found, initializing for new user...");const f=ua.flatMap(b=>b.skills.map(m=>{const g=u.find(w=>w.name===m.name&&w.category===b.name);return g?{eit_id:a.id,skill_id:g.id,category_name:b.name,skill_name:m.name,rank:null,status:"not-started"}:(console.warn(`No matching DB skill found for: ${m.name} in ${b.name}`),null)}).filter(Boolean));console.log("Initializing skills:",f.length);const{error:p}=await P.from("eit_skills").insert(f);if(p)throw console.error("Error initializing user skills:",p),p;console.log("Fetching newly initialized skills...");const{data:x,error:y}=await P.from("eit_skills").select("id, eit_id, skill_id, category_name, skill_name, rank, status").eq("eit_id",a.id);if(y)throw console.error("Error fetching newly initialized skills:",y),y;d=x,console.log("New skills fetched:",d==null?void 0:d.length)}console.log("Updating store with user skills...");const h=ua.map(f=>({...f,skills:f.skills.map(p=>{const x=u.find(b=>b.name===p.name&&b.category===f.name);if(!x)throw new Error(`No matching DB skill found for: ${p.name} in ${f.name}`);const y=d==null?void 0:d.find(b=>b.skill_id===x.id);return{...p,id:x.id,category_name:x.category,rank:(y==null?void 0:y.rank)||void 0,status:(y==null?void 0:y.status)||"not-started"}})}));console.log("Setting updated categories in store:",h.length),e({skillCategories:h,skills:h.flatMap(f=>f.skills),lastFetched:s})}catch(a){throw console.error("Error in loadUserSkills:",{error:a,message:a.message,details:a.details,hint:a.hint}),e({error:`Failed to load skills: ${a.message||"Unknown error"}`}),a}finally{e({loading:!1})}}},updateSkillRank:async(n,s,r)=>{try{const{data:{user:i},error:a}=await P.auth.getUser();if(a)throw console.error("Auth error:",a),new Error("Authentication error: "+a.message);if(!i)throw console.error("No authenticated user found"),new Error("No authenticated user found");console.log("Updating skill rank:",{categoryIndex:n,skillId:s,rank:r,userId:i.id});const l=t().skillCategories[n],c=l.skills.find(h=>h.id===s);if(!c)throw console.error("Skill not found:",{categoryIndex:n,skillId:s}),new Error("Skill not found");e(h=>({skillCategories:h.skillCategories.map((f,p)=>p===n?{...f,skills:f.skills.map(x=>x.id===s?{...x,rank:r||void 0,status:r?"completed":"not-started"}:x)}:f)}));const u={eit_id:i.id,skill_id:s,category_name:c.category_name||l.name,skill_name:c.name,rank:r||null,status:r?"completed":"not-started"};console.log("Sending update to Supabase:",u);const{error:d}=await P.from("eit_skills").upsert(u,{onConflict:"eit_id,skill_id"});if(d)throw console.error("Supabase error:",{error:d,message:d.message,details:d.details,hint:d.hint,code:d.code}),await t().loadUserSkills(),d;console.log("Successfully updated skill rank")}catch(i){console.error("Error updating skill rank:",{error:i,message:i.message,details:i.details,hint:i.hint,code:i.code}),e({error:`Failed to update skill rank: ${i.message||"Unknown error"}`})}},consoleLogSkillCategories:()=>{console.log("Skill categories in store:",t().skillCategories)}})),vi=ds((e,t)=>({overallProgress:0,completedSkills:0,totalSkills:22,documentedExperiences:0,totalExperiences:24,supervisorApprovals:0,totalApprovals:24,lastUpdated:new Date().toISOString(),loading:!1,initialized:!1,lastFetched:null,clearState:()=>e({overallProgress:0,completedSkills:0,documentedExperiences:0,supervisorApprovals:0,lastUpdated:new Date().toISOString(),loading:!1,initialized:!1,lastFetched:null}),setupRealtimeSubscriptions:async()=>{const{data:{user:n}}=await P.auth.getUser();if(!n)return;const s=P.channel("experiences-changes").on("postgres_changes",{event:"*",schema:"public",table:"experiences",filter:`eit_id=eq.${n.id}`},()=>{console.log("📝 Experience change detected, updating progress..."),t().updateProgress()}).subscribe(),r=P.channel("skills-changes").on("postgres_changes",{event:"*",schema:"public",table:"skills",filter:`eit_id=eq.${n.id}`},()=>{console.log("🎯 Skill change detected, updating progress..."),t().updateProgress()}).subscribe(),i=()=>{s.unsubscribe(),r.unsubscribe()};window.addEventListener("unload",i)},initialize:async(n=!1)=>{if(t().loading)return;const s=Date.now(),r=t().lastFetched;if(!(!n&&r&&s-r<5*60*1e3)){e({loading:!0});try{const{data:{user:i}}=await P.auth.getUser();if(!i)throw new Error("No user found");const a=Ut.getState();a.skillCategories.length===0&&await a.loadUserSkills(),await new Promise(b=>setTimeout(b,100));const l=a.skillCategories.reduce((b,m)=>b+m.skills.filter(g=>g.rank!==void 0).length,0),{data:c,error:u}=await P.from("experiences").select("*").eq("eit_id",i.id);if(u)throw u;const{data:d,error:h}=await P.from("experiences").select("*").eq("eit_id",i.id).eq("supervisor_approved",!0);if(h)throw h;const f=l/22,p=((c==null?void 0:c.length)||0)/24,x=((d==null?void 0:d.length)||0)/24,y=Math.round((f+p+x)/3*100);console.log("Progress calculation:",{completedSkills:l,skillsProgress:f,experiencesProgress:p,approvalsProgress:x,overallProgress:y}),e({overallProgress:y,completedSkills:l,documentedExperiences:(c==null?void 0:c.length)||0,supervisorApprovals:(d==null?void 0:d.length)||0,lastUpdated:new Date().toISOString(),loading:!1,initialized:!0,lastFetched:s}),await t().setupRealtimeSubscriptions()}catch(i){console.error("Error initializing progress:",i),e({loading:!1,initialized:!1})}}},updateProgress:async(n=!1)=>{if(t().loading)return;const s=Date.now(),r=t().lastFetched;if(!(!n&&r&&s-r<5*60*1e3)){e({loading:!0});try{const{data:{user:i}}=await P.auth.getUser();if(!i)throw new Error("No user found");const a=Ut.getState();a.skillCategories.length===0&&await a.loadUserSkills(),await new Promise(b=>setTimeout(b,100));const l=a.skillCategories.reduce((b,m)=>b+m.skills.filter(g=>g.rank!==void 0).length,0),{data:c,error:u}=await P.from("experiences").select("*").eq("eit_id",i.id);if(u)throw u;const{data:d,error:h}=await P.from("experiences").select("*").eq("eit_id",i.id).eq("supervisor_approved",!0);if(h)throw h;const f=l/22,p=((c==null?void 0:c.length)||0)/24,x=((d==null?void 0:d.length)||0)/24,y=Math.round((f+p+x)/3*100);console.log("Progress update calculation:",{completedSkills:l,skillsProgress:f,experiencesProgress:p,approvalsProgress:x,overallProgress:y}),e({overallProgress:y,completedSkills:l,documentedExperiences:(c==null?void 0:c.length)||0,supervisorApprovals:(d==null?void 0:d.length)||0,lastUpdated:new Date().toISOString(),loading:!1,lastFetched:s})}catch(i){console.error("Error updating progress:",i),e({loading:!1})}}}})),$_=[{name:"Dashboard",path:"/dashboard",icon:o.jsx($o,{size:20})},{name:"Skills",path:"/dashboard/skills",icon:o.jsx(Uo,{size:20})},{name:"SAOs",path:"/dashboard/saos",icon:o.jsx(wd,{size:20})},{name:"Documents",path:"/dashboard/documents",icon:o.jsx(us,{size:20})},{name:"Jobs",path:"/dashboard/references",icon:o.jsx(Cv,{size:20})},{name:"Settings",path:"/dashboard/settings",icon:o.jsx(kd,{size:20})}],F_=[{name:"Help & Support",path:"/dashboard/help",icon:o.jsx(bd,{size:20})}],z_=({onClose:e})=>{const{overallProgress:t,loading:n}=vi(),s=en(),r=async()=>{await P.auth.signOut()},i=a=>a==="/dashboard"?s.pathname==="/dashboard":s.pathname.startsWith(a);return o.jsxs("aside",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-slate-900 text-white flex flex-col",children:[o.jsx("div",{className:"p-4 border-b border-slate-800 flex items-center justify-center",children:o.jsx("img",{src:cs,alt:"Accreda Logo",className:"h-28 w-auto"})}),o.jsxs("nav",{className:"flex-1 py-6",children:[o.jsx("ul",{className:"space-y-1 px-3",children:$_.map(a=>o.jsx("li",{children:o.jsxs(di,{to:a.path,className:({isActive:l})=>`flex items-center px-3 py-2.5 rounded-lg transition-colors ${i(a.path)?"bg-teal-600 text-white":"text-slate-300 hover:text-white hover:bg-slate-800"}`,onClick:()=>{window.scrollTo({top:0,behavior:"smooth"}),e==null||e()},children:[o.jsx("span",{className:"mr-3",children:a.icon}),o.jsx("span",{children:a.name})]})},a.name))}),o.jsxs("div",{className:"mt-10 px-4",children:[o.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 mb-2 px-3",children:"Support"}),o.jsxs("ul",{className:"space-y-1 px-3",children:[F_.map(a=>o.jsx("li",{children:o.jsxs(di,{to:a.path,className:({isActive:l})=>`flex items-center px-3 py-2.5 rounded-lg transition-colors ${i(a.path)?"bg-slate-800 text-white":"text-slate-400 hover:text-white hover:bg-slate-800"}`,onClick:()=>{window.scrollTo({top:0,behavior:"smooth"}),e==null||e()},children:[o.jsx("span",{className:"mr-3",children:a.icon}),o.jsx("span",{children:a.name})]})},a.name)),o.jsx("li",{children:o.jsxs("button",{onClick:r,className:"flex items-center px-3 py-2.5 rounded-lg transition-colors w-full text-slate-400 hover:text-white hover:bg-slate-800",children:[o.jsx(jd,{size:20,className:"mr-3"}),o.jsx("span",{children:"Sign Out"})]})})]})]})]}),o.jsxs("div",{className:"p-4 border-t border-slate-800 sticky bottom-0 bg-slate-900",children:[o.jsxs("div",{className:"mb-2 flex justify-between items-center",children:[o.jsx("h3",{className:"text-sm font-medium text-slate-300",children:"Program Progress"}),o.jsx("span",{className:"text-sm font-semibold text-teal-400",children:n?o.jsx("span",{className:"animate-pulse",children:"..."}):`${t}%`})]}),o.jsx("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-teal-500 rounded-full transition-all duration-300",style:{width:n?"0%":`${t}%`}})})]})]})},V_=[{to:"/dashboard/supervisor",label:"Dashboard",icon:o.jsx($o,{size:20})},{to:"/dashboard/supervisor/skills",label:"Skills",icon:o.jsx(Uo,{size:20})},{to:"/dashboard/supervisor/validation-requests",label:"Validation Requests",icon:o.jsx(ss,{size:20})},{to:"/dashboard/supervisor/team",label:"Team",icon:o.jsx(Fo,{size:20})},{to:"/dashboard/supervisor/reviews",label:"Reviews",icon:o.jsx(qk,{size:20})},{to:"/dashboard/supervisor/documents",label:"Documents",icon:o.jsx(us,{size:20})},{to:"/dashboard/supervisor/settings",label:"Settings",icon:o.jsx(kd,{size:20})}],B_=[{to:"/dashboard/supervisor/support",label:"Support",icon:o.jsx(bd,{size:20})}],Wc=({onClose:e})=>{const t=Ve(),n=async()=>{await P.auth.signOut(),t("/login")};return o.jsxs("aside",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-slate-900 text-white flex flex-col",children:[o.jsx("div",{className:"p-4 border-b border-slate-800 flex items-center justify-center",children:o.jsx("img",{src:cs,alt:"Accreda Logo",className:"h-28 w-auto"})}),o.jsxs("nav",{className:"flex-1 py-6",children:[o.jsx("ul",{className:"space-y-1 px-3",children:V_.map(s=>o.jsx("li",{children:o.jsxs(di,{to:s.to,className:({isActive:r})=>`flex items-center px-3 py-2.5 rounded-lg transition-colors font-medium ${r?"bg-teal-600 text-white":"text-slate-300 hover:text-white hover:bg-slate-800"}`,end:s.to==="/dashboard/supervisor",onClick:e,children:[o.jsx("span",{className:"mr-3",children:s.icon}),o.jsx("span",{children:s.label})]})},s.to))}),o.jsxs("div",{className:"mt-10 px-4",children:[o.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 mb-2 px-3",children:"Support"}),o.jsxs("ul",{className:"space-y-1 px-3",children:[B_.map(s=>o.jsx("li",{children:o.jsxs(di,{to:s.to,className:({isActive:r})=>`flex items-center px-3 py-2.5 rounded-lg transition-colors font-medium ${r?"bg-slate-800 text-white":"text-slate-400 hover:text-white hover:bg-slate-800"}`,onClick:e,children:[o.jsx("span",{className:"mr-3",children:s.icon}),o.jsx("span",{children:s.label})]})},s.to)),o.jsx("li",{children:o.jsxs("button",{onClick:()=>{n(),e==null||e()},className:"flex items-center px-3 py-2.5 rounded-lg transition-colors w-full text-slate-400 hover:text-white hover:bg-slate-800",children:[o.jsx(jd,{size:20,className:"mr-3"}),o.jsx("span",{children:"Sign Out"})]})})]})]})]})]})},q_=()=>o.jsxs("aside",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-slate-900 text-white flex flex-col animate-pulse [animation-duration:2s]",children:[o.jsx("div",{className:"p-4 border-b border-slate-800 flex items-center justify-center",children:o.jsx("img",{src:cs,alt:"Accreda Logo",className:"h-28 w-auto"})}),o.jsx("div",{className:"flex-1 py-6 space-y-4 px-6",children:[...Array(6)].map((e,t)=>o.jsx("div",{className:"h-8 bg-slate-800/80 rounded-lg"},t))}),o.jsxs("div",{className:"p-4 border-t border-slate-800 bg-slate-900",children:[o.jsx("div",{className:"h-4 bg-slate-800/80 rounded w-1/2 mb-2"}),o.jsx("div",{className:"h-2 bg-slate-800/80 rounded w-full"})]})]}),Jf=({onClose:e})=>{const[t,n]=v.useState(null),[s,r]=v.useState(!0);return v.useEffect(()=>{(async()=>{r(!0);const{data:{user:a}}=await P.auth.getUser();if(a){const{data:l}=await P.from("eit_profiles").select("id").eq("id",a.id).single(),{data:c}=await P.from("supervisor_profiles").select("id").eq("id",a.id).single();n(c?"supervisor":l?"eit":null)}r(!1)})()},[]),s?o.jsx(q_,{}):t==="supervisor"?o.jsx(Wc,{onClose:e}):o.jsx(z_,{onClose:e})},H_=({appLoaded:e})=>{const[t,n]=v.useState(!1);return o.jsxs("div",{className:"min-h-screen bg-slate-50",children:[o.jsx("div",{className:"hidden md:block",children:o.jsx(Jf,{})}),t&&o.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[o.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:()=>n(!1)}),o.jsx("div",{className:"fixed inset-y-0 left-0 w-full max-w-xs bg-white shadow-xl",children:o.jsx(Jf,{onClose:()=>n(!1)})})]}),o.jsxs("div",{className:"md:pl-64 flex flex-col min-h-screen",children:[o.jsx(D_,{onMenuClick:()=>n(!0)}),o.jsx("main",{className:"flex-1 p-4 md:p-6 pt-20 md:pt-24 pb-20 md:pb-6",children:o.jsx(X0,{context:{appLoaded:e}})}),o.jsx("div",{className:"md:hidden",children:o.jsx(M_,{})}),o.jsx(U_,{})]})]})},W_=({isOpen:e,onClose:t,skillName:n,saos:s,jobs:r})=>{const i=Ve();if(!e)return null;const a=c=>{i(`/saos?saoId=${c}`),t()},l=c=>{i(`/references?jobId=${c}`),t()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold",children:["Linked Items for ",n]}),o.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600",children:o.jsx(gt,{size:24})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Linked SAOs"}),o.jsx("div",{className:"space-y-4",children:s.length>0?s.map(c=>o.jsxs("div",{className:"border rounded-lg p-4 hover:bg-slate-50",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("h4",{className:"font-medium text-slate-900",children:c.title}),o.jsx("button",{onClick:()=>a(c.id),className:"p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Open SAO",children:o.jsx(Wk,{size:18})})]}),o.jsx("p",{className:"text-sm text-slate-600",children:c.content}),o.jsxs("div",{className:"mt-2 text-xs text-slate-500",children:["Created: ",new Date(c.created_at).toLocaleDateString()]})]},c.id)):o.jsx("p",{className:"text-slate-500 italic",children:"No SAOs linked to this skill yet."})})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Linked Jobs"}),o.jsx("div",{className:"space-y-4",children:r.length>0?r.map(c=>o.jsxs("div",{className:"border rounded-lg p-4 hover:bg-slate-50",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-slate-900",children:c.title}),o.jsx("p",{className:"text-sm text-slate-600",children:c.company})]}),o.jsx("button",{onClick:()=>l(c.id),className:"p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Open Job",children:o.jsx(fi,{size:18})})]}),o.jsxs("div",{className:"mt-2 text-xs text-slate-500",children:[new Date(c.start_date).toLocaleDateString()," - ",c.end_date?new Date(c.end_date).toLocaleDateString():"Present"]})]},c.id)):o.jsx("p",{className:"text-slate-500 italic",children:"No jobs linked to this skill yet."})})]})]}),o.jsx("div",{className:"flex justify-end mt-6",children:o.jsx("button",{onClick:t,className:"btn btn-primary",children:"Close"})})]})})},G_=v.memo(({skill:e,categoryIndex:t,onRankChange:n,getStatusIcon:s,getStatusLabel:r,getStatusClass:i,getRankColor:a,getRankLabel:l,skillRef:c,linkedSkillIds:u,fetchLinkedItems:d})=>{const[h,f]=v.useState(!1),[p,x]=v.useState([]),[y,b]=v.useState([]),[m,g]=v.useState(!1),w=u.has(e.id),j=async()=>{g(!0);try{const{saos:S,jobs:_}=await d(e.id);x(S),b(_),f(!0)}catch(S){console.error("Error fetching linked items:",S)}finally{g(!1)}};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{ref:c,className:"flex items-center justify-between p-3 rounded-lg border hover:border-slate-300 hover:bg-slate-50 transition-colors",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"mr-3",children:s(e)}),o.jsx("span",{className:"font-medium",children:e.name})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("button",{onClick:j,className:`p-2 rounded-full transition-colors ${w?"text-amber-500 hover:text-amber-600 hover:bg-amber-50 shadow-[0_0_8px_rgba(245,158,11,0.5)]":"text-slate-400 hover:text-slate-600 hover:bg-slate-100"}`,title:w?"View linked items":"No linked items",disabled:m,children:o.jsx(us,{size:18,className:m?"animate-pulse":""})}),o.jsxs("div",{className:"relative",children:[o.jsxs("select",{value:e.rank||"",onChange:S=>{n(t,e.id,Number(S.target.value))},className:`appearance-none px-3 py-1.5 rounded-full text-sm font-medium ${a(e.rank)} border-0 focus:ring-2 focus:ring-teal-500 focus:outline-none cursor-pointer`,children:[o.jsx("option",{value:"",children:"Not Ranked"}),[1,2,3,4,5].map(S=>o.jsxs("option",{value:S,children:[S," - ",l(S)]},S))]}),o.jsx(Pv,{size:16,className:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none text-current"})]}),o.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full ${i(e)}`,children:r(e)})]})]}),o.jsx(W_,{isOpen:h,onClose:()=>f(!1),skillName:e.name,saos:p,jobs:y})]})}),K_=v.memo(({category:e,categoryIndex:t,onRankChange:n,getStatusIcon:s,getStatusLabel:r,getStatusClass:i,getRankColor:a,getRankLabel:l,getCategoryProgress:c,calculateCategoryMean:u,getMeanColor:d,showRequirementWarning:h,getRequirementMessage:f,skillRefs:p,linkedSkillIds:x,fetchLinkedItems:y})=>{const b=c(e.skills),{mean:m,isComplete:g}=u(e.skills);return o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("h2",{className:"text-lg font-semibold",children:e.name}),g&&o.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${d(m)}`,children:[o.jsx(vd,{size:16}),o.jsxs("span",{className:"text-sm font-medium",children:["Mean Score: ",m]})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-green-100 text-green-700 mr-2",children:o.jsx("span",{className:"text-sm font-bold",children:b.completed})}),o.jsx("div",{children:o.jsx("p",{className:"text-xs font-medium",children:"Completed"})})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-slate-100 text-slate-700 mr-2",children:o.jsx("span",{className:"text-sm font-bold",children:b.notStarted})}),o.jsx("div",{children:o.jsx("p",{className:"text-xs font-medium",children:"Not Started"})})]})]})]}),g&&h(e.name,m)&&o.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(gd,{size:18,className:"text-red-600 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-red-800",children:"Warning: This category does not meet the minimum requirements"}),o.jsx("p",{className:"text-sm text-red-600 mt-1",children:f(e.name,m)})]})]})}),o.jsx("div",{className:"space-y-3",children:e.skills.map(w=>o.jsx(G_,{skill:w,categoryIndex:t,onRankChange:n,getStatusIcon:s,getStatusLabel:r,getStatusClass:i,getRankColor:a,getRankLabel:l,skillRef:j=>p.current[w.id]=j,linkedSkillIds:x,fetchLinkedItems:y},w.id))})]})}),J_=()=>{const{skillCategories:e,updateSkillRank:t,loadUserSkills:n,loading:s,error:r}=Ut(),i=v.useRef({}),[a,l]=v.useState(new Set),c=v.useRef({});v.useEffect(()=>{n()},[n]),v.useEffect(()=>{(async()=>{try{const{data:{user:N}}=await P.auth.getUser();if(!N)return;const[{data:O},{data:I}]=await Promise.all([P.from("saos").select("*, sao_skills(skill_id)").eq("eit_id",N.id),P.from("jobs").select("id, skills").eq("eit_id",N.id)]),T=O||[],U=I||[],A=new Set;T.forEach(M=>{M.sao_skills&&M.sao_skills.forEach(E=>A.add(E.skill_id))}),U.forEach(M=>{Array.isArray(M.skills)&&M.skills.forEach(E=>A.add(E))}),l(A)}catch(N){console.error("Error fetching all linked items:",N)}})()},[n]);const u=async k=>{if(c.current[k])return c.current[k];const{data:{user:N}}=await P.auth.getUser();if(!N)return{saos:[],jobs:[]};const{data:O}=await P.from("saos").select("*, sao_skills!inner(skill_id)").eq("eit_id",N.id).eq("sao_skills.skill_id",k),I=O||[],{data:T}=await P.from("jobs").select("*").eq("eit_id",N.id).contains("skills",[k]),U=T||[];return c.current[k]={saos:I,jobs:U},{saos:I,jobs:U}};v.useEffect(()=>{const k=N=>{const{skillId:O,timestamp:I}=N.detail;console.log("Scroll event received:",{skillId:O,timestamp:I}),setTimeout(()=>{const T=i.current[O];console.log("Looking for element:",{skillId:O,element:T}),T?(console.log("Scrolling to element"),T.scrollIntoView({behavior:"smooth",block:"center"}),T.classList.add("ring","ring-teal-400"),setTimeout(()=>T.classList.remove("ring","ring-teal-400"),1500)):(console.log("Element not found, retrying in 100ms"),setTimeout(()=>{const U=i.current[O];U&&(U.scrollIntoView({behavior:"smooth",block:"center"}),U.classList.add("ring","ring-teal-400"),setTimeout(()=>U.classList.remove("ring","ring-teal-400"),1500))},100))},100)};return window.addEventListener("scroll-to-skill",k),()=>window.removeEventListener("scroll-to-skill",k)},[]);const d=v.useCallback(async(k,N,O)=>{try{console.log("Updating skill rank for skillId:",N,typeof N),await t(k,N,O)}catch(I){console.error("Error in handleRankChange:",I)}},[t]),h=v.useCallback(k=>k.reduce((N,O)=>(O.rank!==void 0?N.completed++:N.notStarted++,N),{completed:0,notStarted:0}),[]),f=v.useCallback(k=>{const N=k.filter(I=>I.rank!==void 0);if(N.length!==k.length)return{mean:0,isComplete:!1};const O=N.reduce((I,T)=>I+(T.rank||0),0);return{mean:Number((O/k.length).toFixed(1)),isComplete:!0}},[]),p=v.useCallback(k=>k>=4.5?"bg-green-100 text-green-700":k>=3.5?"bg-blue-100 text-blue-700":k>=2.5?"bg-yellow-100 text-yellow-700":k>=1.5?"bg-orange-100 text-orange-700":"bg-red-100 text-red-700",[]),x=v.useCallback(k=>k.status==="completed"?o.jsx(ss,{size:18,className:"text-green-500"}):k.status==="in-progress"?o.jsx(a2,{size:18,className:"text-amber-500"}):k.rank!==void 0?o.jsx(Vk,{size:18,className:"text-green-500"}):o.jsx(Bk,{size:18,className:"text-slate-300"}),[]),y=v.useCallback(k=>k.rank!==void 0||k.status==="completed"?"Completed":k.status==="in-progress"?"In Progress":"Not Started",[]),b=v.useCallback(k=>k.rank!==void 0||k.status==="completed"?"bg-green-100 text-green-800":k.status==="in-progress"?"bg-amber-100 text-amber-800":"bg-slate-100 text-slate-800",[]),m=v.useCallback(k=>{if(!k)return"bg-slate-100 text-slate-600";switch(k){case 1:return"bg-red-100 text-red-600";case 2:return"bg-orange-100 text-orange-600";case 3:return"bg-yellow-100 text-yellow-600";case 4:return"bg-blue-100 text-blue-600";case 5:return"bg-green-100 text-green-600";default:return"bg-slate-100 text-slate-600"}},[]),g=v.useCallback(k=>{if(!k)return"Not Ranked";switch(k){case 1:return"Beginner";case 2:return"Basic";case 3:return"Intermediate";case 4:return"Advanced";case 5:return"Expert";default:return"Not Ranked"}},[]),w={"Category 1 – Technical Competence":3,"Category 2 – Communication":3,"Category 3 – Project & Financial Management":2,"Category 4 – Team Effectiveness":3,"Category 5 – Professional Accountability":3,"Category 6 – Social, Economic, Environmental & Sustainability":2},j=v.useCallback((k,N)=>{const O=w[k];return N<O},[]),S=v.useCallback((k,N)=>`A minimum average score of ${w[k]} is required for ${k}. Current average: ${N}`,[]),_=v.useMemo(()=>e.reduce((k,N)=>(N.skills.forEach(O=>{O.rank!==void 0?k.completed++:k.notStarted++}),k),{completed:0,notStarted:0}),[e]);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Skills & Competencies"}),o.jsx("p",{className:"text-slate-500 mt-1",children:"Track and document your EIT program competencies"})]}),r&&o.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(gd,{size:18,className:"text-red-600 mt-0.5 flex-shrink-0"}),o.jsx("p",{className:"text-sm text-red-800",children:r})]})}),s?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"card p-6",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Overall Progress"}),o.jsxs("div",{className:"flex flex-wrap gap-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center bg-green-100 text-green-700 mr-3",children:o.jsx("span",{className:"text-lg font-bold",children:_.completed})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Completed"}),o.jsx("p",{className:"text-sm text-slate-500",children:"Skills"})]})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center bg-slate-100 text-slate-700 mr-3",children:o.jsx("span",{className:"text-lg font-bold",children:_.notStarted})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Not Started"}),o.jsx("p",{className:"text-sm text-slate-500",children:"Skills"})]})]})]})]}),o.jsx("div",{className:"space-y-6",children:e.map((k,N)=>o.jsx(K_,{category:k,categoryIndex:N,onRankChange:d,getStatusIcon:x,getStatusLabel:y,getStatusClass:b,getRankColor:m,getRankLabel:g,getCategoryProgress:h,calculateCategoryMean:f,getMeanColor:p,showRequirementWarning:j,getRequirementMessage:S,skillRefs:i,linkedSkillIds:a,fetchLinkedItems:u},k.name))})]})]})},Y_=v.memo(J_),Jv=ds((e,t)=>({documents:[],loading:!1,error:null,lastFetched:null,clearState:()=>e({documents:[],loading:!1,error:null,lastFetched:null}),createDocument:async(n,s,r,i,a)=>{var l;e({loading:!0,error:null});try{const{data:{user:c},error:u}=await P.auth.getUser();if(u)throw console.error("Auth error:",u),new Error("Authentication error: "+u.message);if(!c)throw new Error("No authenticated user found");await P.from("eit_profiles").upsert({id:c.id,full_name:((l=c.user_metadata)==null?void 0:l.full_name)||"",email:c.email||""});const d=(i==null?void 0:i.type)||"text/plain",h=(i==null?void 0:i.size)||s.length,f=a||"Uncategorized";console.log("Creating document:",{title:n,type:r,eit_id:c.id,file_type:d,file_size:h,category:f});const{data:p,error:x}=await P.from("documents").insert([{eit_id:c.id,title:n,content:s,type:r,status:"draft",word_count:s.split(/\s+/).length,file_type:d,file_size:h,category:f}]).select().single();if(x)throw console.error("Error creating document:",{error:x,message:x.message,details:x.details,hint:x.hint}),x;console.log("Document created successfully:",p),e(y=>({documents:[p,...y.documents]}))}catch(c){throw console.error("Error in createDocument:",{error:c,message:c.message,details:c.details,hint:c.hint}),e({error:`Failed to create document: ${c.message||"Unknown error"}`}),c}finally{e({loading:!1})}},updateDocument:async(n,s,r)=>{e({loading:!0,error:null});try{console.log("Updating document:",{id:n,title:s});const{data:{user:i},error:a}=await P.auth.getUser();if(a)throw console.error("Auth error:",a),new Error("Authentication error: "+a.message);if(!i)throw new Error("No authenticated user found");const{error:l}=await P.from("documents").update({title:s,content:r,word_count:r.split(/\s+/).length,updated_at:new Date().toISOString()}).eq("id",n).eq("eit_id",i.id);if(l)throw console.error("Error updating document:",{error:l,message:l.message,details:l.details,hint:l.hint}),l;e(c=>({documents:c.documents.map(u=>u.id===n?{...u,title:s,content:r,word_count:r.split(/\s+/).length,updated_at:new Date().toISOString()}:u)}))}catch(i){throw console.error("Error in updateDocument:",{error:i,message:i.message,details:i.details,hint:i.hint}),e({error:`Failed to update document: ${i.message||"Unknown error"}`}),i}finally{e({loading:!1})}},deleteDocument:async n=>{e({loading:!0,error:null});try{console.log("Deleting document:",n);const{data:{user:s},error:r}=await P.auth.getUser();if(r)throw console.error("Auth error:",r),new Error("Authentication error: "+r.message);if(!s)throw new Error("No authenticated user found");const{error:i}=await P.from("documents").delete().eq("id",n).eq("eit_id",s.id);if(i)throw console.error("Error deleting document:",{error:i,message:i.message,details:i.details,hint:i.hint}),i;e(a=>({documents:a.documents.filter(l=>l.id!==n)}))}catch(s){throw console.error("Error in deleteDocument:",{error:s,message:s.message,details:s.details,hint:s.hint}),e({error:`Failed to delete document: ${s.message||"Unknown error"}`}),s}finally{e({loading:!1})}},loadUserDocuments:async(n=!1)=>{const s=Date.now(),r=t().lastFetched;if(!(!n&&r&&s-r<5*60*1e3)){e({loading:!0,error:null});try{console.log("Loading user documents...");const{data:{user:i},error:a}=await P.auth.getUser();if(a)throw console.error("Auth error:",a),new Error("Authentication error: "+a.message);if(!i)throw new Error("No authenticated user found");console.log("Fetching documents for user:",i.id);const{data:l,error:c}=await P.from("documents").select("*").eq("eit_id",i.id).order("created_at",{ascending:!1});if(c)throw console.error("Error fetching documents:",{error:c,message:c.message,details:c.details,hint:c.hint}),c;console.log("Documents fetched:",l==null?void 0:l.length),e({documents:l||[],lastFetched:s})}catch(i){throw console.error("Error in loadUserDocuments:",{error:i,message:i.message,details:i.details,hint:i.hint}),e({error:`Failed to load documents: ${i.message||"Unknown error"}`}),i}finally{e({loading:!1})}}}})),Q_=()=>{const{documents:e,loading:t,error:n,createDocument:s,updateDocument:r,deleteDocument:i,loadUserDocuments:a}=Jv(),[l,c]=v.useState(""),[u,d]=v.useState("all"),[h,f]=v.useState(!1),[p,x]=v.useState("all"),[y,b]=v.useState("date"),[m,g]=v.useState("desc"),[w,j]=v.useState(null),[S,_]=v.useState(""),k=Ae.useRef({});v.useEffect(()=>{console.log("Documents component mounted"),a()},[a]),v.useEffect(()=>{console.log("Documents array updated:",{documentCount:e.length,documents:e})},[e]),v.useEffect(()=>{const E=R=>{const $=R.detail.documentId,C=k.current[$];C&&(C.scrollIntoView({behavior:"smooth",block:"center"}),C.classList.add("ring","ring-teal-400","transition-all","duration-300"),setTimeout(()=>{C.classList.remove("ring","ring-teal-400")},2e3))};return window.addEventListener("scroll-to-document",E),()=>window.removeEventListener("scroll-to-document",E)},[]);const N=async E=>{var $;const R=($=E.target.files)==null?void 0:$[0];if(R)try{console.log("Starting document creation process...");let C="";const D=R.type;D.startsWith("text/")?C=await R.text():C=`File type (${D}) not directly viewable. Will be stored.`,await s(R.name,C,"other",R),console.log("Document creation completed successfully"),E.target.value=""}catch(C){console.error("Document creation failed:",C),alert("Failed to create document. Please try again.")}},O=async E=>{try{const R=new Blob([E.content],{type:"text/plain"}),$=URL.createObjectURL(R),C=document.createElement("a");C.href=$,C.download=`${E.title}.txt`,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL($)}catch(R){console.error("Download failed:",R),alert("Failed to download document")}},I=async E=>{if(window.confirm("Are you sure you want to delete this document?"))try{await i(E.id)}catch(R){console.error("Delete failed:",R),alert("Failed to delete document")}},T=async E=>{j({id:E.id,title:E.title}),_(E.title)},U=async()=>{if(w)try{const E=e.find(R=>R.id===w.id);if(!E)throw new Error("Document not found");await r(w.id,S,E.content),j(null)}catch(E){console.error("Update failed:",E),alert("Failed to update document title")}},A=e.filter(E=>{const R=E.title.toLowerCase().includes(l.toLowerCase())||E.content.toLowerCase().includes(l.toLowerCase()),$=u==="all"||E.type===u,C=p==="all"||E.status===p;return R&&$&&C}).sort((E,R)=>y==="date"?m==="asc"?new Date(E.created_at).getTime()-new Date(R.created_at).getTime():new Date(R.created_at).getTime()-new Date(E.created_at).getTime():m==="asc"?E.title.localeCompare(R.title):R.title.localeCompare(E.title)),M=["all",...new Set(e.map(E=>E.type))];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Documents"}),o.jsxs("label",{className:"btn btn-primary cursor-pointer",children:[o.jsx(l2,{size:16,className:"mr-1.5"}),"Upload Document",o.jsx("input",{type:"file",className:"hidden",onChange:N})]})]}),o.jsxs("div",{className:"card p-4",children:[o.jsxs("div",{className:"flex flex-wrap gap-4",children:[o.jsx("div",{className:"flex-1 min-w-[200px]",children:o.jsxs("div",{className:"relative",children:[o.jsx(Lv,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),o.jsx("input",{type:"text",value:l,onChange:E=>c(E.target.value),placeholder:"Search documents...",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500"}),l&&o.jsx("button",{onClick:()=>c(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:o.jsx(gt,{size:16})})]})}),o.jsxs("button",{onClick:()=>f(!h),className:"btn btn-secondary flex items-center",children:[o.jsx(Kk,{size:16,className:"mr-1.5"}),"Filters"]})]}),h&&o.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Type"}),o.jsx("select",{value:u,onChange:E=>d(E.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:M.map(E=>o.jsx("option",{value:E,children:E.charAt(0).toUpperCase()+E.slice(1)},E))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),o.jsxs("select",{value:p,onChange:E=>x(E.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:[o.jsx("option",{value:"all",children:"All Statuses"}),o.jsx("option",{value:"draft",children:"Draft"}),o.jsx("option",{value:"submitted",children:"Submitted"}),o.jsx("option",{value:"approved",children:"Approved"}),o.jsx("option",{value:"rejected",children:"Rejected"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Sort By"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("select",{value:y,onChange:E=>b(E.target.value),className:"flex-1 px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:[o.jsx("option",{value:"date",children:"Date"}),o.jsx("option",{value:"name",children:"Name"})]}),o.jsx("button",{onClick:()=>g(m==="asc"?"desc":"asc"),className:"px-3 py-2 border border-slate-200 rounded-lg hover:bg-slate-50",children:m==="asc"?"↑":"↓"})]})]})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map(E=>o.jsxs("div",{ref:R=>k.current[E.id]=R,"data-document-id":E.id,className:"document-card bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200 ease-in-out",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[(w==null?void 0:w.id)===E.id?o.jsx("div",{className:"flex-1 mr-2",children:o.jsx("input",{type:"text",value:S,onChange:R=>_(R.target.value),className:"w-full px-2 py-1 border border-slate-200 rounded",onKeyDown:R=>{R.key==="Enter"&&U(),R.key==="Escape"&&j(null)},autoFocus:!0})}):o.jsx("h3",{className:"font-semibold text-lg text-slate-800",children:E.title}),o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-slate-700",onClick:()=>T(E),children:o.jsx(pi,{size:16})}),o.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-slate-700",onClick:()=>O(E),children:o.jsx(Hk,{size:16})}),o.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-red-600",onClick:()=>I(E),children:o.jsx(or,{size:16})})]})]}),E.file_type&&E.file_type.startsWith("text/")?o.jsx("p",{className:"text-sm text-slate-600 mt-2 line-clamp-2",children:E.content}):o.jsx("p",{className:"text-sm text-slate-400 mt-2 italic",children:"Content not viewable here. Download to see full content."}),o.jsxs("div",{className:"flex justify-between items-center mt-4 pt-3 border-t border-slate-100",children:[o.jsxs("div",{className:"text-xs text-slate-500",children:[o.jsx("span",{children:new Date(E.created_at).toLocaleDateString()}),o.jsx("span",{className:"mx-2",children:"•"}),o.jsx("span",{className:"capitalize",children:E.status})]}),o.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-600",children:E.type})]})]},E.id))}),A.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(us,{size:48,className:"mx-auto text-slate-400"}),o.jsx("h3",{className:"mt-4 text-lg font-medium text-slate-900",children:"No documents found"}),o.jsx("p",{className:"mt-2 text-slate-500",children:l||u!=="all"||p!=="all"?"Try adjusting your search or filters":"Get started by uploading your first document"})]}),t&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-slate-500",children:"Loading documents..."})]}),n&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(_v,{size:48,className:"mx-auto text-red-400"}),o.jsx("h3",{className:"mt-4 text-lg font-medium text-slate-900",children:"Error loading documents"}),o.jsx("p",{className:"mt-2 text-slate-500",children:n})]})]})},X_=()=>{const e=[{id:1,title:"Technical Problem Analysis",description:"Self-Assessment Outcome (SAO) for problem analysis competency",status:"complete",updatedAt:"2025-04-12",wordCount:850},{id:2,title:"Team Leadership Experience",description:"SAO documenting leadership skills in team environments",status:"draft",updatedAt:"2025-04-08",wordCount:620},{id:3,title:"Project Management Methodology",description:"SAO for project planning and execution competency",status:"ai-assisted",updatedAt:"2025-04-02",wordCount:740},{id:4,title:"Professional Ethics Application",description:"SAO for ethical decision making in engineering",status:"in-review",updatedAt:"2025-03-25",wordCount:910}],t={complete:"bg-green-100 text-green-800 border-green-200",draft:"bg-slate-100 text-slate-800 border-slate-200","ai-assisted":"bg-purple-100 text-purple-800 border-purple-200","in-review":"bg-amber-100 text-amber-800 border-amber-200"},n={complete:o.jsx(zk,{size:16,className:"mr-1"}),draft:o.jsx($f,{size:16,className:"mr-1"}),"ai-assisted":o.jsx(Uf,{size:16,className:"mr-1"}),"in-review":o.jsx(yd,{size:16,className:"mr-1"})};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Essays"}),o.jsx("p",{className:"text-slate-500 mt-1",children:"Manage your Self-Assessment Outcome (SAO) essays"})]}),o.jsx("div",{className:"card bg-gradient-to-br from-teal-500 to-teal-700 text-white p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[o.jsxs("div",{className:"mb-4 md:mb-0",children:[o.jsx("h2",{className:"text-xl font-bold",children:"AI Essay Assistant"}),o.jsx("p",{className:"mt-1 text-teal-100",children:"Let our AI analyze your documented experiences and draft SAO essays that highlight your key competencies."})]}),o.jsxs("button",{className:"btn bg-white text-teal-700 hover:bg-teal-50 flex items-center self-start",children:[o.jsx(Uf,{size:16,className:"mr-2"}),"Start New AI-Assisted Essay"]})]})}),o.jsxs("div",{className:"flex flex-col md:flex-row justify-between space-y-4 md:space-y-0",children:[o.jsxs("button",{className:"btn btn-primary flex items-center",children:[o.jsx(Iv,{size:16,className:"mr-1.5"}),"Create New Essay"]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("select",{className:"px-3 py-2 rounded-lg border border-slate-200 bg-white text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:[o.jsx("option",{value:"all",children:"All Essays"}),o.jsx("option",{value:"complete",children:"Completed"}),o.jsx("option",{value:"draft",children:"Drafts"}),o.jsx("option",{value:"ai-assisted",children:"AI-Assisted"}),o.jsx("option",{value:"in-review",children:"In Review"})]}),o.jsxs("select",{className:"px-3 py-2 rounded-lg border border-slate-200 bg-white text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:[o.jsx("option",{value:"recent",children:"Recently Updated"}),o.jsx("option",{value:"oldest",children:"Oldest First"}),o.jsx("option",{value:"alphabetical",children:"Alphabetical"})]})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(s=>o.jsxs("div",{className:"card hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("h3",{className:"font-semibold text-lg text-slate-800",children:s.title}),o.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${t[s.status]}`,children:[n[s.status],s.status==="ai-assisted"?"AI Assisted":s.status.charAt(0).toUpperCase()+s.status.slice(1)]})]}),o.jsx("p",{className:"text-sm text-slate-600 mt-2",children:s.description}),o.jsxs("div",{className:"flex justify-between items-center mt-4 pt-3 border-t border-slate-100",children:[o.jsxs("div",{className:"text-xs text-slate-500",children:[o.jsxs("span",{children:["Updated ",new Date(s.updatedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]}),o.jsx("span",{className:"mx-2",children:"•"}),o.jsxs("span",{children:[s.wordCount," words"]})]}),o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-slate-700",children:o.jsx(Gk,{size:16})}),o.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-slate-700",children:o.jsx($f,{size:16})}),o.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-red-600",children:o.jsx(or,{size:16})})]})]})]},s.id))})]})},Z_={};function eN(e,t){let n;try{n=e()}catch{return}return{getItem:r=>{var i;const a=c=>c===null?null:JSON.parse(c,void 0),l=(i=n.getItem(r))!=null?i:null;return l instanceof Promise?l.then(a):a(l)},setItem:(r,i)=>n.setItem(r,JSON.stringify(i,void 0)),removeItem:r=>n.removeItem(r)}}const xi=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(s){return xi(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return xi(s)(n)}}}},tN=(e,t)=>(n,s,r)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:b=>b,version:0,merge:(b,m)=>({...m,...b}),...t},a=!1;const l=new Set,c=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return e((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...b)},s,r);const d=xi(i.serialize),h=()=>{const b=i.partialize({...s()});let m;const g=d({state:b,version:i.version}).then(w=>u.setItem(i.name,w)).catch(w=>{m=w});if(m)throw m;return g},f=r.setState;r.setState=(b,m)=>{f(b,m),h()};const p=e((...b)=>{n(...b),h()},s,r);let x;const y=()=>{var b;if(!u)return;a=!1,l.forEach(g=>g(s()));const m=((b=i.onRehydrateStorage)==null?void 0:b.call(i,s()))||void 0;return xi(u.getItem.bind(u))(i.name).then(g=>{if(g)return i.deserialize(g)}).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==i.version){if(i.migrate)return i.migrate(g.state,g.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return g.state}).then(g=>{var w;return x=i.merge(g,(w=s())!=null?w:p),n(x,!0),h()}).then(()=>{m==null||m(x,void 0),a=!0,c.forEach(g=>g(x))}).catch(g=>{m==null||m(void 0,g)})};return r.persist={setOptions:b=>{i={...i,...b},b.getStorage&&(u=b.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>a,onHydrate:b=>(l.add(b),()=>{l.delete(b)}),onFinishHydration:b=>(c.add(b),()=>{c.delete(b)})},y(),x||p},nN=(e,t)=>(n,s,r)=>{let i={storage:eN(()=>localStorage),partialize:y=>y,version:0,merge:(y,b)=>({...b,...y}),...t},a=!1;const l=new Set,c=new Set;let u=i.storage;if(!u)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...y)},s,r);const d=()=>{const y=i.partialize({...s()});return u.setItem(i.name,{state:y,version:i.version})},h=r.setState;r.setState=(y,b)=>{h(y,b),d()};const f=e((...y)=>{n(...y),d()},s,r);r.getInitialState=()=>f;let p;const x=()=>{var y,b;if(!u)return;a=!1,l.forEach(g=>{var w;return g((w=s())!=null?w:f)});const m=((b=i.onRehydrateStorage)==null?void 0:b.call(i,(y=s())!=null?y:f))||void 0;return xi(u.getItem.bind(u))(i.name).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==i.version){if(i.migrate)return[!0,i.migrate(g.state,g.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,g.state];return[!1,void 0]}).then(g=>{var w;const[j,S]=g;if(p=i.merge(S,(w=s())!=null?w:f),n(p,!0),j)return d()}).then(()=>{m==null||m(p,void 0),p=s(),a=!0,c.forEach(g=>g(p))}).catch(g=>{m==null||m(void 0,g)})};return r.persist={setOptions:y=>{i={...i,...y},y.storage&&(u=y.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>x(),hasHydrated:()=>a,onHydrate:y=>(l.add(y),()=>{l.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},i.skipHydration||x(),p||f},sN=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((Z_?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),tN(e,t)):nN(e,t),rN=sN,Yv=ds()(rN((e,t)=>({documents:[],loading:!1,error:null,addDocument:(n,s,r)=>{const i={id:Date.now().toString(),name:n,content:s,category:r,size:`${(s.length/1024).toFixed(1)} KB`,created_at:new Date().toISOString(),attachments:[]};e(a=>({documents:[i,...a.documents]}))},getDocuments:()=>t().documents,getDocument:n=>t().documents.find(s=>s.id===n),updateDocument:(n,s)=>{e(r=>({documents:r.documents.map(i=>{if(i.id===n){const a={...i,...s};return s.content&&(a.size=`${(s.content.length/1024).toFixed(1)} KB`),a}return i})}))},deleteDocument:n=>{e(s=>({documents:s.documents.filter(r=>r.id!==n)}))}}),{name:"local-documents-storage"})),Qv=({content:e,onChange:t,onSave:n,onCancel:s})=>{const[r,i]=v.useState(!1),[a,l]=v.useState(""),[c,u]=v.useState(!1),[d,h]=v.useState(""),f=b=>{document.execCommand(b,!1)},p=()=>{a&&(document.execCommand("createLink",!1,a),i(!1),l(""))},x=()=>{d&&(document.execCommand("insertImage",!1,d),u(!1),h(""))},y=b=>{var g;const m=(g=b.target.files)==null?void 0:g[0];m&&console.log("File selected:",m)};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-wrap gap-2 p-2 bg-slate-50 rounded-lg border border-slate-200",children:[o.jsx("button",{onClick:()=>f("bold"),className:"p-2 rounded hover:bg-slate-200",title:"Bold",children:o.jsx(Fk,{size:16})}),o.jsx("button",{onClick:()=>f("italic"),className:"p-2 rounded hover:bg-slate-200",title:"Italic",children:o.jsx(Xk,{size:16})}),o.jsx("button",{onClick:()=>f("underline"),className:"p-2 rounded hover:bg-slate-200",title:"Underline",children:o.jsx(o2,{size:16})}),o.jsx("div",{className:"w-px h-6 bg-slate-300 mx-1"}),o.jsx("button",{onClick:()=>f("insertUnorderedList"),className:"p-2 rounded hover:bg-slate-200",title:"Bullet List",children:o.jsx(t2,{size:16})}),o.jsx("button",{onClick:()=>f("insertOrderedList"),className:"p-2 rounded hover:bg-slate-200",title:"Numbered List",children:o.jsx(e2,{size:16})}),o.jsx("div",{className:"w-px h-6 bg-slate-300 mx-1"}),o.jsx("button",{onClick:()=>i(!0),className:"p-2 rounded hover:bg-slate-200",title:"Insert Link",children:o.jsx(Zk,{size:16})}),o.jsx("button",{onClick:()=>u(!0),className:"p-2 rounded hover:bg-slate-200",title:"Insert Image",children:o.jsx(Yk,{size:16})}),o.jsx("div",{className:"w-px h-6 bg-slate-300 mx-1"}),o.jsxs("label",{className:"p-2 rounded hover:bg-slate-200 cursor-pointer",title:"Attach File",children:[o.jsx(mi,{size:16}),o.jsx("input",{type:"file",className:"hidden",onChange:y})]})]}),r&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Insert Link"}),o.jsx("input",{type:"url",value:a,onChange:b=>l(b.target.value),placeholder:"Enter URL",className:"w-full px-3 py-2 border rounded-lg mb-2"}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),o.jsx("button",{onClick:p,className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700",children:"Insert"})]})]})}),c&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Insert Image"}),o.jsx("input",{type:"url",value:d,onChange:b=>h(b.target.value),placeholder:"Enter image URL",className:"w-full px-3 py-2 border rounded-lg mb-2"}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),o.jsx("button",{onClick:x,className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700",children:"Insert"})]})]})}),o.jsx("div",{contentEditable:!0,className:"min-h-[400px] p-4 border rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",onInput:b=>t(b.currentTarget.innerHTML),dangerouslySetInnerHTML:{__html:e}}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsxs("button",{onClick:s,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg flex items-center",children:[o.jsx(gt,{size:16,className:"mr-1"}),"Cancel"]}),o.jsxs("button",{onClick:n,className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 flex items-center",children:[o.jsx(Sd,{size:16,className:"mr-1"}),"Save"]})]})]})},iN=()=>{const[e,t]=v.useState(""),[n,s]=v.useState(""),[r,i]=v.useState("Experience Reports"),[a,l]=v.useState([]),[c,u]=v.useState(!1),d=Ve(),{addDocument:h}=Yv(),f=async()=>{try{if(!n.trim()){alert("Please enter a document name");return}u(!0),h(n,e,r),d("/documents")}catch(y){console.error("Error saving document:",y),alert("Error saving document. Please try again.")}finally{u(!1)}},p=async y=>{var m;const b=(m=y.target.files)==null?void 0:m[0];if(b)try{const g={id:Date.now().toString(),name:b.name,type:b.type,size:b.size,url:URL.createObjectURL(b)};l(w=>[...w,g])}catch(g){console.error("Error uploading file:",g),alert("Error uploading file. Please try again.")}},x=y=>{l(b=>b.filter(m=>m.id!==y))};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("button",{onClick:()=>d("/documents"),className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100",children:o.jsx(Nv,{size:20})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"New Text Document"}),o.jsx("p",{className:"text-slate-500 mt-1",children:"Write and save your text"})]})]}),o.jsxs("div",{className:"card space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"documentName",className:"block text-sm font-medium text-slate-700 mb-1",children:"Document Name"}),o.jsx("input",{id:"documentName",type:"text",value:n,onChange:y=>s(y.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter document name..."})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-slate-700 mb-1",children:"Category"}),o.jsxs("select",{id:"category",value:r,onChange:y=>i(y.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:[o.jsx("option",{value:"Experience Reports",children:"Experience Reports"}),o.jsx("option",{value:"Technical Reports",children:"Technical Reports"}),o.jsx("option",{value:"Certificates",children:"Certificates"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Content"}),o.jsx(Qv,{content:e,onChange:t,onSave:f,onCancel:()=>d("/documents")})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Attachments"}),o.jsxs("div",{className:"space-y-2",children:[a.map(y=>o.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(mi,{size:16,className:"text-slate-500"}),o.jsx("span",{className:"text-sm text-slate-700",children:y.name}),o.jsxs("span",{className:"text-xs text-slate-500",children:["(",(y.size/1024).toFixed(1)," KB)"]})]}),o.jsx("button",{onClick:()=>x(y.id),className:"p-1 text-slate-500 hover:text-red-600",children:o.jsx(gt,{size:16})})]},y.id)),o.jsxs("label",{className:"flex items-center space-x-2 p-2 border-2 border-dashed border-slate-200 rounded-lg cursor-pointer hover:border-teal-500",children:[o.jsx(mi,{size:16,className:"text-slate-500"}),o.jsx("span",{className:"text-sm text-slate-700",children:"Add attachment"}),o.jsx("input",{type:"file",className:"hidden",onChange:p})]})]})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{onClick:f,disabled:c,className:"btn btn-primary flex items-center",children:[o.jsx(Sd,{size:16,className:"mr-1.5"}),c?"Saving...":"Save Document"]})})]})},aN=()=>o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-4",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-9xl font-bold text-teal-600",children:"404"}),o.jsx("h2",{className:"text-3xl font-semibold text-slate-800 mt-4",children:"Page Not Found"}),o.jsx("p",{className:"text-slate-500 max-w-md mx-auto mt-2",children:"The page you're looking for doesn't exist or has been moved."}),o.jsxs(ft,{to:"/",className:"inline-flex items-center px-4 py-2 mt-6 rounded-lg bg-teal-600 text-white hover:bg-teal-700 transition-colors",children:[o.jsx($o,{size:18,className:"mr-2"}),"Back to Dashboard"]})]})}),oN=()=>{const{id:e}=M1(),t=Ve(),{getDocument:n,updateDocument:s}=Yv(),[r,i]=v.useState(""),[a,l]=v.useState(""),[c,u]=v.useState("Experience Reports"),[d,h]=v.useState([]),[f,p]=v.useState(!1);v.useEffect(()=>{if(e){const m=n(e);m?(i(m.content),l(m.name),u(m.category),m.attachments&&h(m.attachments)):t("/documents")}},[e,n,t]);const x=async()=>{try{if(!a.trim()){alert("Please enter a document name");return}p(!0),e&&(await s(e,{name:a,content:r,category:c,attachments:d}),t("/documents"))}catch(m){console.error("Error updating document:",m),alert("Error updating document. Please try again.")}finally{p(!1)}},y=async m=>{var w;const g=(w=m.target.files)==null?void 0:w[0];if(g)try{const j={id:Date.now().toString(),name:g.name,type:g.type,size:g.size,url:URL.createObjectURL(g)};h(S=>[...S,j])}catch(j){console.error("Error uploading file:",j),alert("Error uploading file. Please try again.")}},b=m=>{h(g=>g.filter(w=>w.id!==m))};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("button",{onClick:()=>t("/documents"),className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100",children:o.jsx(Nv,{size:20})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Edit Document"}),o.jsx("p",{className:"text-slate-500 mt-1",children:"Modify your document"})]})]}),o.jsxs("div",{className:"card space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"documentName",className:"block text-sm font-medium text-slate-700 mb-1",children:"Document Name"}),o.jsx("input",{id:"documentName",type:"text",value:a,onChange:m=>l(m.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter document name..."})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-slate-700 mb-1",children:"Category"}),o.jsxs("select",{id:"category",value:c,onChange:m=>u(m.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:[o.jsx("option",{value:"Experience Reports",children:"Experience Reports"}),o.jsx("option",{value:"Technical Reports",children:"Technical Reports"}),o.jsx("option",{value:"Certificates",children:"Certificates"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Content"}),o.jsx(Qv,{content:r,onChange:i,onSave:x,onCancel:()=>t("/documents")})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Attachments"}),o.jsxs("div",{className:"space-y-2",children:[d.map(m=>o.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(mi,{size:16,className:"text-slate-500"}),o.jsx("span",{className:"text-sm text-slate-700",children:m.name}),o.jsxs("span",{className:"text-xs text-slate-500",children:["(",(m.size/1024).toFixed(1)," KB)"]})]}),o.jsx("button",{onClick:()=>b(m.id),className:"p-1 text-slate-500 hover:text-red-600",children:o.jsx(gt,{size:16})})]},m.id)),o.jsxs("label",{className:"flex items-center space-x-2 p-2 border-2 border-dashed border-slate-200 rounded-lg cursor-pointer hover:border-teal-500",children:[o.jsx(mi,{size:16,className:"text-slate-500"}),o.jsx("span",{className:"text-sm text-slate-700",children:"Add attachment"}),o.jsx("input",{type:"file",className:"hidden",onChange:y})]})]})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{onClick:x,disabled:f,className:"btn btn-primary flex items-center",children:[o.jsx(Sd,{size:16,className:"mr-1.5"}),f?"Saving...":"Save Changes"]})})]})},lN=[{name:"Free",price:"$0",description:"Perfect for getting started",features:["Basic progress tracking","Up to 5 documents","Standard support","Basic analytics"],buttonText:"Current Plan",isPopular:!1}],cN=()=>{const[e,t]=v.useState(null),[n,s]=v.useState(""),[r,i]=v.useState(""),[a,l]=v.useState(""),[c,u]=v.useState(""),[d,h]=v.useState(!1),[f,p]=v.useState({type:"",text:""}),[x,y]=v.useState(!1),[b,m]=v.useState(!1),[g,w]=v.useState(!1),[j,S]=v.useState(""),[_,k]=v.useState(""),[N,O]=v.useState(""),[I,T]=v.useState(""),[U,A]=v.useState("Free"),[M,E]=v.useState(null),[R,$]=v.useState(""),[C,D]=v.useState(null),[V,K]=v.useState(""),[H,xe]=v.useState("idle"),[ye,Qe]=v.useState("");v.useEffect(()=>{(async()=>{var Xe,lt;const{data:{user:X}}=await P.auth.getUser();if(X){t(X),s(((Xe=X.user_metadata)==null?void 0:Xe.full_name)||""),i(X.email||""),l(X.email||""),u(((lt=X.user_metadata)==null?void 0:lt.avatar_url)||"");const{data:zi}=await P.from("eit_profiles").select("id").eq("id",X.id).single(),{data:Vi}=await P.from("supervisor_profiles").select("id").eq("id",X.id).single();Vi?D("supervisor"):zi&&D("eit")}})()},[]);const ot=J=>J.split(" ").map(X=>X[0]).join("").toUpperCase(),Ln=async()=>{if(!(!M||!e)){h(!0);try{const J=M.name.split(".").pop(),X=`${e.id}.${J}`,{error:Xe}=await P.storage.from("avatars").upload(X,M,{upsert:!0});if(Xe)throw Xe;const{data:lt}=P.storage.from("avatars").getPublicUrl(X),zi=lt.publicUrl,{error:Vi}=await P.auth.updateUser({data:{...e.user_metadata,avatar_url:zi}});if(Vi)throw Vi;u(zi),p({type:"success",text:"Profile picture updated!"}),E(null),$("")}catch{p({type:"error",text:"Failed to update avatar."})}finally{h(!1)}}},rh=async()=>{if(e){h(!0);try{const{error:J}=await P.auth.updateUser({data:{...e.user_metadata,avatar_url:""}});if(J)throw J;u(""),p({type:"success",text:"Profile picture removed."})}catch{p({type:"error",text:"Failed to remove avatar."})}finally{h(!1)}}},ih=async J=>{J.preventDefault(),h(!0),p({type:"",text:""});try{const X={};x&&(X.data={full_name:n}),b&&a!==r&&(X.email=a);const{error:Xe}=await P.auth.updateUser(X);if(Xe)throw Xe;p({type:"success",text:"Profile updated successfully!"}),y(!1),m(!1);const{data:{user:lt}}=await P.auth.getUser();lt&&(t(lt),i(lt.email||""),l(lt.email||""))}catch(X){p({type:"error",text:"Failed to update profile. Please try again."}),console.error("Error updating profile:",X)}finally{h(!1)}};return o.jsxs("div",{className:"max-w-3xl mx-auto p-6 space-y-8",children:[o.jsxs("section",{className:"card p-6 flex flex-col md:flex-row gap-6 items-center",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsxs("div",{className:"relative",children:[R||c?o.jsx("img",{src:R||c,className:"w-24 h-24 rounded-full object-cover bg-slate-100",alt:"Profile"}):o.jsx("div",{className:"w-24 h-24 rounded-full bg-teal-500 flex items-center justify-center text-white text-3xl font-bold",children:ot(n||r)}),(R||c)&&o.jsx("button",{className:"absolute -top-2 -right-2 bg-slate-100 rounded-full p-1 shadow hover:bg-slate-200",onClick:rh,disabled:d,title:"Remove profile picture",style:{zIndex:10},children:o.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",className:"text-red-600",children:o.jsx("path",{d:"M6 6l8 8M6 14L14 6",strokeWidth:"2"})})})]}),M&&o.jsx("button",{className:"btn btn-primary mt-2",onClick:Ln,disabled:d,children:d?"Uploading...":"Save Photo"})]}),o.jsxs("form",{className:"flex-1 space-y-4",onSubmit:ih,children:[o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[o.jsx(Mv,{})," Profile Information",C&&o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${C==="eit"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:C.toUpperCase()})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"fullName",className:"label",children:"Full Name"}),x?o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{type:"text",id:"fullName",value:n,onChange:J=>s(J.target.value),className:"input",placeholder:"Enter your full name"}),o.jsx("div",{className:"flex space-x-2",children:o.jsx("button",{type:"button",onClick:()=>y(!1),className:"btn btn-secondary",children:"Cancel"})})]}):o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{children:n||"Not set"}),o.jsx("button",{type:"button",onClick:()=>y(!0),className:"text-sm text-teal-600 hover:text-teal-700",children:"Edit"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"label",children:"Email Address"}),b?o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{type:"email",id:"newEmail",value:a,onChange:J=>l(J.target.value),className:"input",placeholder:"Enter your new email"}),o.jsx("p",{className:"text-sm text-slate-500",children:"After changing your email, you'll need to use the new email address to log in."}),o.jsx("div",{className:"flex space-x-2",children:o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-secondary",children:"Cancel"})})]}):o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{children:r}),o.jsx("button",{type:"button",onClick:()=>m(!0),className:"text-sm text-teal-600 hover:text-teal-700",children:"Edit"})]})]}),(x||b)&&o.jsx("button",{type:"submit",disabled:d,className:"btn btn-primary",children:d?"Saving...":"Save Changes"})]})]}),o.jsxs("section",{className:"card p-6",children:[o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[o.jsx(Av,{})," Security"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"label",children:"Password"}),g?o.jsxs("div",{className:"space-y-4",children:[o.jsx("input",{type:"password",id:"currentPassword",value:j,onChange:J=>S(J.target.value),className:"input",placeholder:"Current password"}),o.jsx("input",{type:"password",id:"newPassword",value:_,onChange:J=>k(J.target.value),className:"input",placeholder:"New password"}),o.jsx("input",{type:"password",id:"confirmPassword",value:N,onChange:J=>O(J.target.value),className:"input",placeholder:"Confirm new password"}),I&&o.jsx("p",{className:"text-sm text-red-600",children:I}),o.jsx("div",{className:"flex space-x-2",children:o.jsx("button",{type:"button",onClick:()=>w(!1),className:"btn btn-secondary",children:"Cancel"})})]}):o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{children:"••••••••"}),o.jsx("button",{type:"button",onClick:()=>w(!0),className:"text-sm text-teal-600 hover:text-teal-700",children:"Change"})]})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:"label",children:"Two-Factor Authentication"}),o.jsx("p",{className:"text-slate-500 text-sm",children:"Coming soon: Add an extra layer of security to your account."})]})]})]}),o.jsxs("section",{className:"card p-6",children:[o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[o.jsx(Mo,{})," Notifications"]}),o.jsx("p",{className:"text-slate-500 text-sm",children:"Coming soon: Manage your email and in-app notification preferences."})]}),o.jsxs("section",{className:"card p-6",children:[o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[o.jsx(Dv,{})," Appearance"]}),o.jsx("p",{className:"text-slate-500 text-sm",children:"Coming soon: Switch between light and dark mode."})]}),o.jsxs("section",{className:"card p-6",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Subscription Plan"}),o.jsx("div",{className:"grid gap-6 md:grid-cols-1",children:lN.map(J=>o.jsxs("div",{className:`relative rounded-lg border ${J.isPopular?"border-teal-500":"border-slate-200"} p-6`,children:[J.isPopular&&o.jsx("span",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-teal-500 text-white px-3 py-1 rounded-full text-sm",children:"Most Popular"}),o.jsx("h3",{className:"text-lg font-semibold",children:J.name}),o.jsx("div",{className:"mt-2 flex items-baseline",children:o.jsx("span",{className:"text-2xl font-bold",children:J.price})}),o.jsx("p",{className:"mt-2 text-sm text-slate-500",children:J.description}),o.jsx("ul",{className:"mt-4 space-y-2",children:J.features.map(X=>o.jsxs("li",{className:"flex items-center",children:[o.jsx(Tv,{className:"h-4 w-4 text-teal-500 mr-2"}),o.jsx("span",{className:"text-sm text-slate-600",children:X})]},X))}),o.jsx("button",{className:`mt-6 w-full rounded-md px-4 py-2 text-sm font-medium ${J.isPopular?"bg-teal-600 text-white hover:bg-teal-700":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,disabled:!0,children:J.buttonText})]},J.name))})]}),o.jsxs("section",{className:"card p-6 border-red-200",children:[o.jsxs("h2",{className:"text-lg font-semibold text-red-600 flex items-center gap-2 mb-2",children:[o.jsx(or,{})," Danger Zone"]}),o.jsx("button",{className:"btn btn-danger",children:"Delete Account"}),o.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"This action is irreversible. Your data will be permanently deleted."})]}),f.text&&o.jsx("div",{className:`fixed bottom-4 right-4 p-4 rounded-md z-50 ${f.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:f.text}),C==="eit"&&o.jsxs("section",{className:"card p-6",children:[o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[o.jsx(s2,{})," Connect with Supervisor"]}),o.jsxs("form",{className:"flex flex-col md:flex-row gap-4 items-start md:items-end",onSubmit:async J=>{if(J.preventDefault(),xe("idle"),Qe(""),!!V){h(!0);try{const{data:X}=await P.from("supervisor_profiles").select("id, email, full_name").eq("email",V).single();if(!X){xe("notfound"),Qe("No supervisor found with that email."),h(!1);return}const{data:Xe}=await P.from("supervisor_eit_relationships").select("id, status").eq("supervisor_id",X.id).eq("eit_id",e==null?void 0:e.id).maybeSingle();if(Xe&&Xe.status==="pending"){xe("pending"),Qe("A request is already pending for this supervisor."),h(!1);return}if(Xe&&Xe.status==="active"){xe("already"),Qe("This supervisor is already connected."),h(!1);return}const{error:lt}=await P.from("supervisor_eit_relationships").upsert({supervisor_id:X.id,eit_id:e==null?void 0:e.id,status:"pending",created_at:new Date().toISOString(),updated_at:new Date().toISOString()});if(lt)throw lt;xe("success"),Qe("Request sent! Your supervisor will see it in their dashboard.")}catch(X){console.error(X),xe("error"),Qe("Failed to send request. Please try again.")}finally{h(!1)}}},children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{htmlFor:"supervisorEmail",className:"label",children:"Supervisor Email"}),o.jsx("input",{type:"email",id:"supervisorEmail",value:V,onChange:J=>K(J.target.value),className:"input",placeholder:"Enter supervisor's email",required:!0})]}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Sending...":"Send Request"})]}),ye&&o.jsx("div",{className:`mt-3 text-sm ${H==="success"?"text-green-700":"text-red-700"}`,children:ye})]})]})},Vo=ds((e,t)=>({saos:[],loading:!1,error:null,lastFetched:null,clearState:()=>e({saos:[],loading:!1,error:null,lastFetched:null}),createSAO:async(n,s,r)=>{var i;e({loading:!0,error:null});try{console.log("Creating new SAO...");const{data:{user:a},error:l}=await P.auth.getUser();if(l)throw console.error("Auth error:",l),new Error("Authentication error: "+l.message);if(!a)throw new Error("No authenticated user found");await P.from("eit_profiles").upsert({id:a.id,full_name:((i=a.user_metadata)==null?void 0:i.full_name)||"",email:a.email||""}),console.log("Creating SAO:",{title:n,content:s,skills:r,eit_id:a.id});const{data:c,error:u}=await P.from("saos").insert([{eit_id:a.id,title:n,content:s}]).select().single();if(u)throw console.error("Error creating SAO:",{error:u,message:u.message,details:u.details,hint:u.hint,code:u.code}),u;console.log("SAO created successfully:",c);const d=r.map(f=>({sao_id:c.id,skill_id:f.id,category_name:f.category_name||""}));console.log("Creating SAO skills relationships:",d);const{error:h}=await P.from("sao_skills").insert(d);if(h)throw console.error("Error creating SAO skills:",{error:h,message:h.message,details:h.details,hint:h.hint,code:h.code}),h;console.log("SAO skills created successfully"),await t().loadUserSAOs()}catch(a){throw console.error("Error in createSAO:",{error:a,message:a.message,details:a.details,hint:a.hint}),e({error:`Failed to create SAO: ${a.message||"Unknown error"}`}),a}finally{e({loading:!1})}},updateSAO:async(n,s,r,i)=>{e({loading:!0,error:null});try{console.log("Updating SAO:",{id:n,title:s,content:r,skills:i});const{data:{user:a},error:l}=await P.auth.getUser();if(l)throw console.error("Auth error:",l),new Error("Authentication error: "+l.message);if(!a)throw new Error("No authenticated user found");const{error:c}=await P.from("saos").update({title:s,content:r}).eq("id",n).eq("eit_id",a.id);if(c)throw console.error("Error updating SAO:",c),c;const{error:u}=await P.from("sao_skills").delete().eq("sao_id",n);if(u)throw console.error("Error deleting existing SAO skills:",u),u;const d=i.map(f=>({sao_id:n,skill_id:f.id,category_name:f.category_name||""})),{error:h}=await P.from("sao_skills").insert(d);if(h)throw console.error("Error updating SAO skills:",h),h;await t().loadUserSAOs()}catch(a){throw console.error("Error in updateSAO:",{error:a,message:a.message,details:a.details,hint:a.hint}),e({error:`Failed to update SAO: ${a.message||"Unknown error"}`}),a}finally{e({loading:!1})}},deleteSAO:async n=>{e({loading:!0,error:null});try{console.log("Deleting SAO:",n);const{data:{user:s},error:r}=await P.auth.getUser();if(r)throw console.error("Auth error:",r),new Error("Authentication error: "+r.message);if(!s)throw new Error("No authenticated user found");const{error:i}=await P.from("sao_skills").delete().eq("sao_id",n);if(i)throw console.error("Error deleting SAO skills:",i),i;const{error:a}=await P.from("saos").delete().eq("id",n).eq("eit_id",s.id);if(a)throw console.error("Error deleting SAO:",a),a;e(l=>({saos:l.saos.filter(c=>c.id!==n)}))}catch(s){throw console.error("Error in deleteSAO:",{error:s,message:s.message,details:s.details,hint:s.hint}),e({error:`Failed to delete SAO: ${s.message||"Unknown error"}`}),s}finally{e({loading:!1})}},loadUserSAOs:async(n=!1)=>{const s=Date.now(),r=t().lastFetched;if(!(!n&&r&&s-r<5*60*1e3)){e({loading:!0,error:null});try{console.log("Loading user SAOs...");const{data:{user:i},error:a}=await P.auth.getUser();if(a)throw console.error("Auth error:",a),new Error("Authentication error: "+a.message);if(!i)throw new Error("No authenticated user found");console.log("Fetching SAOs for user:",i.id);const{data:l,error:c}=await P.from("saos").select(`
          *,
          sao_skills (
            skill_id,
            category_name
          )
        `).eq("eit_id",i.id).order("created_at",{ascending:!1});if(c)throw console.error("Error fetching SAOs:",c),c;console.log("SAOs fetched:",l==null?void 0:l.length);const u=(l==null?void 0:l.map(d=>({...d,skills:d.sao_skills.map(h=>({id:h.skill_id,name:"",category_name:h.category_name,status:"not-started"}))})))||[];console.log("Transformed SAOs:",u.length),e({saos:u,lastFetched:s})}catch(i){throw console.error("Error in loadUserSAOs:",{error:i,message:i.message,details:i.details,hint:i.hint}),e({error:`Failed to load SAOs: ${i.message||"Unknown error"}`}),i}finally{e({loading:!1})}}}}));var Yf;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(Yf||(Yf={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qf;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(Qf||(Qf={}));var Xf;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Xf||(Xf={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=["user","model","function","system"];var em;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(em||(em={}));var tm;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(tm||(tm={}));var nm;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(nm||(nm={}));var sm;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(sm||(sm={}));var Fr;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(Fr||(Fr={}));var rm;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(rm||(rm={}));var im;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(im||(im={}));var am;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(am||(am={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class vs extends Oe{constructor(t,n){super(t),this.response=n}}class Xv extends Oe{constructor(t,n,s,r){super(t),this.status=n,this.statusText=s,this.errorDetails=r}}class _n extends Oe{}class Zv extends Oe{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN="https://generativelanguage.googleapis.com",dN="v1beta",hN="0.24.1",fN="genai-js";var rs;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(rs||(rs={}));class mN{constructor(t,n,s,r,i){this.model=t,this.task=n,this.apiKey=s,this.stream=r,this.requestOptions=i}toString(){var t,n;const s=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||dN;let i=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||uN}/${s}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}function pN(e){const t=[];return e!=null&&e.apiClient&&t.push(e.apiClient),t.push(`${fN}/${hN}`),t.join(" ")}async function gN(e){var t;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",pN(e.requestOptions)),n.append("x-goog-api-key",e.apiKey);let s=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(s){if(!(s instanceof Headers))try{s=new Headers(s)}catch(r){throw new _n(`unable to convert customHeaders value ${JSON.stringify(s)} to Headers: ${r.message}`)}for(const[r,i]of s.entries()){if(r==="x-goog-api-key")throw new _n(`Cannot set reserved header name ${r}`);if(r==="x-goog-api-client")throw new _n(`Header name ${r} can only be set using the apiClient field`);n.append(r,i)}}return n}async function vN(e,t,n,s,r,i){const a=new mN(e,t,n,s,i);return{url:a.toString(),fetchOptions:Object.assign(Object.assign({},bN(i)),{method:"POST",headers:await gN(a),body:r})}}async function Li(e,t,n,s,r,i={},a=fetch){const{url:l,fetchOptions:c}=await vN(e,t,n,s,r,i);return xN(l,c,a)}async function xN(e,t,n=fetch){let s;try{s=await n(e,t)}catch(r){yN(r,e)}return s.ok||await wN(s,e),s}function yN(e,t){let n=e;throw n.name==="AbortError"?(n=new Zv(`Request aborted when fetching ${t.toString()}: ${e.message}`),n.stack=e.stack):e instanceof Xv||e instanceof _n||(n=new Oe(`Error fetching from ${t.toString()}: ${e.message}`),n.stack=e.stack),n}async function wN(e,t){let n="",s;try{const r=await e.json();n=r.error.message,r.error.details&&(n+=` ${JSON.stringify(r.error.details)}`,s=r.error.details)}catch{}throw new Xv(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${n}`,e.status,e.statusText,s)}function bN(e){const t={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const n=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>n.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{n.abort()}),t.signal=n.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Ea(e.candidates[0]))throw new vs(`${cn(e)}`,e);return jN(e)}else if(e.promptFeedback)throw new vs(`Text not available. ${cn(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Ea(e.candidates[0]))throw new vs(`${cn(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),om(e)[0]}else if(e.promptFeedback)throw new vs(`Function call not available. ${cn(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Ea(e.candidates[0]))throw new vs(`${cn(e)}`,e);return om(e)}else if(e.promptFeedback)throw new vs(`Function call not available. ${cn(e)}`,e)},e}function jN(e){var t,n,s,r;const i=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const a of(r=(s=e.candidates)===null||s===void 0?void 0:s[0].content)===null||r===void 0?void 0:r.parts)a.text&&i.push(a.text),a.executableCode&&i.push("\n```"+a.executableCode.language+`
`+a.executableCode.code+"\n```\n"),a.codeExecutionResult&&i.push("\n```\n"+a.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}function om(e){var t,n,s,r;const i=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const a of(r=(s=e.candidates)===null||s===void 0?void 0:s[0].content)===null||r===void 0?void 0:r.parts)a.functionCall&&i.push(a.functionCall);if(i.length>0)return i}const SN=[Fr.RECITATION,Fr.SAFETY,Fr.LANGUAGE];function Ea(e){return!!e.finishReason&&SN.includes(e.finishReason)}function cn(e){var t,n,s;let r="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)r+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(r+=` due to ${e.promptFeedback.blockReason}`),!((n=e.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(r+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((s=e.candidates)===null||s===void 0)&&s[0]){const i=e.candidates[0];Ea(i)&&(r+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(r+=`: ${i.finishMessage}`))}return r}function yi(e){return this instanceof yi?(this.v=e,this):new yi(e)}function kN(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(e,t||[]),r,i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(f){s[f]&&(r[f]=function(p){return new Promise(function(x,y){i.push([f,p,x,y])>1||l(f,p)})})}function l(f,p){try{c(s[f](p))}catch(x){h(i[0][3],x)}}function c(f){f.value instanceof yi?Promise.resolve(f.value.v).then(u,d):h(i[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,p){f(p),i.shift(),i.length&&l(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function _N(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=CN(t),[s,r]=n.tee();return{stream:EN(s),response:NN(r)}}async function NN(e){const t=[],n=e.getReader();for(;;){const{done:s,value:r}=await n.read();if(s)return _d(TN(t));t.push(r)}}function EN(e){return kN(this,arguments,function*(){const n=e.getReader();for(;;){const{value:s,done:r}=yield yi(n.read());if(r)break;yield yield yi(_d(s))}})}function CN(e){const t=e.getReader();return new ReadableStream({start(s){let r="";return i();function i(){return t.read().then(({value:a,done:l})=>{if(l){if(r.trim()){s.error(new Oe("Failed to parse stream"));return}s.close();return}r+=a;let c=r.match(lm),u;for(;c;){try{u=JSON.parse(c[1])}catch{s.error(new Oe(`Error parsing JSON response: "${c[1]}"`));return}s.enqueue(u),r=r.substring(c[0].length),c=r.match(lm)}return i()}).catch(a=>{let l=a;throw l.stack=a.stack,l.name==="AbortError"?l=new Zv("Request aborted when reading from the stream"):l=new Oe("Error reading from the stream"),l})}}})}function TN(e){const t=e[e.length-1],n={promptFeedback:t==null?void 0:t.promptFeedback};for(const s of e){if(s.candidates){let r=0;for(const i of s.candidates)if(n.candidates||(n.candidates=[]),n.candidates[r]||(n.candidates[r]={index:r}),n.candidates[r].citationMetadata=i.citationMetadata,n.candidates[r].groundingMetadata=i.groundingMetadata,n.candidates[r].finishReason=i.finishReason,n.candidates[r].finishMessage=i.finishMessage,n.candidates[r].safetyRatings=i.safetyRatings,i.content&&i.content.parts){n.candidates[r].content||(n.candidates[r].content={role:i.content.role||"user",parts:[]});const a={};for(const l of i.content.parts)l.text&&(a.text=l.text),l.functionCall&&(a.functionCall=l.functionCall),l.executableCode&&(a.executableCode=l.executableCode),l.codeExecutionResult&&(a.codeExecutionResult=l.codeExecutionResult),Object.keys(a).length===0&&(a.text=""),n.candidates[r].content.parts.push(a)}r++}s.usageMetadata&&(n.usageMetadata=s.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ex(e,t,n,s){const r=await Li(t,rs.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(n),s);return _N(r)}async function tx(e,t,n,s){const i=await(await Li(t,rs.GENERATE_CONTENT,e,!1,JSON.stringify(n),s)).json();return{response:_d(i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function wi(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const n of e)typeof n=="string"?t.push({text:n}):t.push(n);return PN(t)}function PN(e){const t={role:"user",parts:[]},n={role:"function",parts:[]};let s=!1,r=!1;for(const i of e)"functionResponse"in i?(n.parts.push(i),r=!0):(t.parts.push(i),s=!0);if(s&&r)throw new Oe("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!s&&!r)throw new Oe("No content is provided for sending chat message.");return s?t:n}function AN(e,t){var n;let s={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(n=t==null?void 0:t.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const r=e.generateContentRequest!=null;if(e.contents){if(r)throw new _n("CountTokensRequest must have one of contents or generateContentRequest, not both.");s.contents=e.contents}else if(r)s=Object.assign(Object.assign({},s),e.generateContentRequest);else{const i=wi(e);s.contents=[i]}return{generateContentRequest:s}}function cm(e){let t;return e.contents?t=e:t={contents:[wi(e)]},e.systemInstruction&&(t.systemInstruction=nx(e.systemInstruction)),t}function RN(e){return typeof e=="string"||Array.isArray(e)?{content:wi(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],ON={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function IN(e){let t=!1;for(const n of e){const{role:s,parts:r}=n;if(!t&&s!=="user")throw new Oe(`First content should be with role 'user', got ${s}`);if(!Zf.includes(s))throw new Oe(`Each item should include role field. Got ${s} but valid roles are: ${JSON.stringify(Zf)}`);if(!Array.isArray(r))throw new Oe("Content should have 'parts' property with an array of Parts");if(r.length===0)throw new Oe("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const l of r)for(const c of um)c in l&&(i[c]+=1);const a=ON[s];for(const l of um)if(!a.includes(l)&&i[l]>0)throw new Oe(`Content with role '${s}' can't contain '${l}' part`);t=!0}}function dm(e){var t;if(e.candidates===void 0||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const s of n.parts)if(s===void 0||Object.keys(s).length===0||s.text!==void 0&&s.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="SILENT_ERROR";class LN{constructor(t,n,s,r={}){this.model=n,this.params=s,this._requestOptions=r,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,s!=null&&s.history&&(IN(s.history),this._history=s.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,n={}){var s,r,i,a,l,c;await this._sendPromise;const u=wi(t),d={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,u]},h=Object.assign(Object.assign({},this._requestOptions),n);let f;return this._sendPromise=this._sendPromise.then(()=>tx(this._apiKey,this.model,d,h)).then(p=>{var x;if(dm(p.response)){this._history.push(u);const y=Object.assign({parts:[],role:"model"},(x=p.response.candidates)===null||x===void 0?void 0:x[0].content);this._history.push(y)}else{const y=cn(p.response);y&&console.warn(`sendMessage() was unsuccessful. ${y}. Inspect response object for details.`)}f=p}).catch(p=>{throw this._sendPromise=Promise.resolve(),p}),await this._sendPromise,f}async sendMessageStream(t,n={}){var s,r,i,a,l,c;await this._sendPromise;const u=wi(t),d={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,u]},h=Object.assign(Object.assign({},this._requestOptions),n),f=ex(this._apiKey,this.model,d,h);return this._sendPromise=this._sendPromise.then(()=>f).catch(p=>{throw new Error(hm)}).then(p=>p.response).then(p=>{if(dm(p)){this._history.push(u);const x=Object.assign({},p.candidates[0].content);x.role||(x.role="model"),this._history.push(x)}else{const x=cn(p);x&&console.warn(`sendMessageStream() was unsuccessful. ${x}. Inspect response object for details.`)}}).catch(p=>{p.message!==hm&&console.error(p)}),f}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN(e,t,n,s){return(await Li(t,rs.COUNT_TOKENS,e,!1,JSON.stringify(n),s)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MN(e,t,n,s){return(await Li(t,rs.EMBED_CONTENT,e,!1,JSON.stringify(n),s)).json()}async function UN(e,t,n,s){const r=n.requests.map(a=>Object.assign(Object.assign({},a),{model:t}));return(await Li(t,rs.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:r}),s)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(t,n,s={}){this.apiKey=t,this._requestOptions=s,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=nx(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(t,n={}){var s;const r=cm(t),i=Object.assign(Object.assign({},this._requestOptions),n);return tx(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},r),i)}async generateContentStream(t,n={}){var s;const r=cm(t),i=Object.assign(Object.assign({},this._requestOptions),n);return ex(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},r),i)}startChat(t){var n;return new LN(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},t),this._requestOptions)}async countTokens(t,n={}){const s=AN(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),r=Object.assign(Object.assign({},this._requestOptions),n);return DN(this.apiKey,this.model,s,r)}async embedContent(t,n={}){const s=RN(t),r=Object.assign(Object.assign({},this._requestOptions),n);return MN(this.apiKey,this.model,s,r)}async batchEmbedContents(t,n={}){const s=Object.assign(Object.assign({},this._requestOptions),n);return UN(this.apiKey,this.model,t,s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(t){this.apiKey=t}getGenerativeModel(t,n){if(!t.model)throw new Oe("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new fm(this.apiKey,t,n)}getGenerativeModelFromCachedContent(t,n,s){if(!t.name)throw new _n("Cached content must contain a `name` field.");if(!t.model)throw new _n("Cached content must contain a `model` field.");const r=["model","systemInstruction"];for(const a of r)if(n!=null&&n[a]&&t[a]&&(n==null?void 0:n[a])!==t[a]){if(a==="model"){const l=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,c=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(l===c)continue}throw new _n(`Different value for "${a}" specified in modelParams (${n[a]}) and cachedContent (${t[a]})`)}const i=Object.assign(Object.assign({},n),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new fm(this.apiKey,i,s)}}const FN=({isOpen:e,onClose:t,editSAO:n})=>{const[s,r]=v.useState(""),[i,a]=v.useState(""),[l,c]=v.useState([]),[u,d]=v.useState(!1),[h,f]=v.useState(!1),[p,x]=v.useState(null),{skillCategories:y}=Ut(),{createSAO:b,updateSAO:m,loading:g,error:w}=Vo();v.useEffect(()=>{e&&n?(r(n.title),a(n.content),c(n.skills)):e&&(r(""),a(""),c([]))},[e,n]);const j=async O=>{O.preventDefault();try{n?await m(n.id,s,i,l):await b(s,i,l),r(""),a(""),c([]),t()}catch(I){console.error("Error saving SAO:",I)}},S=async O=>{console.log("Making API call to Gemini...");const T=`You are an expert in writing professional Situation-Action-Outcome (SAO) statements. Please enhance the following SAO statement following these specific guidelines:

1. Structure:
   - Situation: Clearly describe the context, challenge, or problem faced
   - Action: Detail the specific steps taken, emphasizing your personal involvement
   - Outcome: Quantify results and highlight the impact of your actions

2. Best Practices:
   - Use active voice and strong action verbs
   - Include specific metrics and numbers where possible
   - Focus on your personal contributions and leadership
   - Highlight problem-solving and decision-making skills
   - Maintain a professional and confident tone
   - Keep the statement concise but impactful

3. Key Elements to Include:
   - Clear problem statement
   - Specific actions taken
   - Measurable results
   - Skills demonstrated
   - Impact on the organization/team

Please enhance the following SAO statement while maintaining its core message and following these guidelines:

${O}

Format the response as a clear SAO statement with Situation, Action, and Outcome sections clearly separated.`;try{const R=(await(await new $N(void 0).getGenerativeModel({model:"gemini-2.0-flash"}).generateContent(T)).response).text();return console.log("API Response received:",R),R}catch(U){throw console.error("Error in enhanceWithGemini:",U),U}},_=async()=>{if(i.trim()){f(!0);try{console.log("Starting enhancement process...");const O=await S(i);console.log("Enhancement completed:",O),x(O)}catch(O){console.error("Error in handleEnhanceWithAI:",O),alert(O instanceof Error?O.message:"Failed to enhance text. Please try again.")}finally{f(!1)}}},k=()=>{p&&(a(p),x(null))},N=()=>{x(null)};return e?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-8 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-2xl font-semibold",children:n?"Edit SAO":"Create New SAO"}),o.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600",children:o.jsx(gt,{size:24})})]}),w&&o.jsx("div",{className:"mb-6 p-4 bg-red-50 text-red-700 rounded-md text-sm",children:w}),o.jsxs("form",{onSubmit:j,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-slate-700 mb-2",children:"Title"}),o.jsx("input",{type:"text",id:"title",value:s,onChange:O=>r(O.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 text-lg",placeholder:"Enter SAO title",required:!0,disabled:g})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"sao",className:"block text-sm font-medium text-slate-700 mb-2",children:"Situation-Action-Outcome"}),o.jsxs("div",{className:"relative",children:[o.jsx("textarea",{id:"sao",value:p||i,onChange:O=>{p||a(O.target.value)},className:"w-full px-4 py-3 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 min-h-[400px] text-lg",placeholder:"Describe your situation, actions, and outcomes...",required:!0,disabled:g||h}),o.jsxs("button",{type:"button",onClick:_,disabled:!i.trim()||g||h,className:"absolute top-4 right-4 p-3 text-slate-400 hover:text-teal-600 hover:bg-slate-100 rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed group",title:"Enhance with AI",children:[o.jsxs("div",{className:"relative",children:[o.jsx(i2,{size:24,className:`${h?"animate-pulse":""} transition-transform duration-300 group-hover:scale-110`}),h&&o.jsx("div",{className:"absolute inset-0 animate-ping rounded-full bg-teal-400 opacity-20"})]}),o.jsx("span",{className:"absolute right-full mr-2 top-1/2 -translate-y-1/2 bg-slate-800 text-white px-3 py-1.5 rounded text-sm font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap",children:"Enhance with AI"})]})]}),p&&o.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[o.jsx("span",{className:"text-sm text-slate-600",children:"AI Enhancement Preview"}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{type:"button",onClick:k,className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 hover:bg-teal-700 rounded-md transition-all duration-300 hover:scale-105 active:scale-95",children:"Accept"}),o.jsx("button",{type:"button",onClick:N,className:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-800 hover:bg-slate-100 rounded-md transition-all duration-300 hover:scale-105 active:scale-95",children:"Decline"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Relevant Skills"}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:l.map(O=>o.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-teal-100 text-teal-800",children:[O.name,o.jsx("button",{type:"button",onClick:()=>c(I=>I.filter(T=>T.id!==O.id)),className:"ml-2 text-teal-600 hover:text-teal-800",disabled:g,children:o.jsx(gt,{size:16})})]},O.id))}),o.jsxs("button",{type:"button",onClick:()=>d(!0),className:"btn btn-secondary w-full flex items-center justify-center gap-2 py-3 text-lg",disabled:g,children:[o.jsx(gi,{size:20}),"Select Skills"]})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[o.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary px-6 py-3 text-lg",disabled:g,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary px-6 py-3 text-lg",disabled:g,children:g?"Saving...":n?"Update SAO":"Create SAO"})]})]}),u&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:o.jsxs("div",{className:"bg-white rounded-lg p-8 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h3",{className:"text-2xl font-semibold",children:"Select Skills"}),o.jsx("button",{onClick:()=>d(!1),className:"text-slate-400 hover:text-slate-600",children:o.jsx(gt,{size:24})})]}),o.jsx("div",{className:"space-y-6",children:y.map(O=>o.jsxs("div",{className:"border rounded-lg p-6",children:[o.jsx("h4",{className:"font-medium text-slate-900 text-lg mb-4",children:O.name}),o.jsx("div",{className:"space-y-3",children:O.skills.map(I=>o.jsxs("label",{className:"flex items-center space-x-3 p-3 hover:bg-slate-50 rounded cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:l.some(T=>T.id===I.id),onChange:T=>{T.target.checked?c(U=>[...U,{...I,category_name:O.name}]):c(U=>U.filter(A=>A.id!==I.id))},className:"rounded text-teal-600 focus:ring-teal-500 w-5 h-5"}),o.jsx("span",{className:"text-base",children:I.name})]},I.id))})]},O.name))}),o.jsx("div",{className:"flex justify-end mt-8",children:o.jsx("button",{onClick:()=>d(!1),className:"btn btn-primary px-6 py-3 text-lg",children:"Done"})})]})})]})}):null},zN=({sao:e,onDelete:t,onEdit:n})=>{const s=v.useRef(null),[r]=ev(),i=r.get("saoId");return v.useEffect(()=>{var a,l;i===e.id&&((a=s.current)==null||a.scrollIntoView({behavior:"smooth",block:"center"}),(l=s.current)==null||l.classList.add("ring","ring-teal-400"),setTimeout(()=>{var c;(c=s.current)==null||c.classList.remove("ring","ring-teal-400")},1500))},[i,e.id]),o.jsxs("div",{ref:s,className:"bg-white rounded-lg shadow p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:e.title}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>n(e),className:"text-slate-400 hover:text-teal-600 transition-colors",title:"Edit SAO",children:o.jsx(pi,{size:18})}),o.jsx("button",{onClick:()=>t(e.id),className:"text-slate-400 hover:text-red-600 transition-colors",title:"Delete SAO",children:o.jsx(or,{size:18})})]})]}),o.jsx("p",{className:"text-slate-600 whitespace-pre-wrap mb-4",children:e.content}),o.jsx("div",{className:"flex flex-wrap gap-2",children:e.skills.map(a=>o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium bg-teal-100 text-teal-800",children:a.name},a.id))}),o.jsxs("div",{className:"mt-4 text-sm text-slate-500",children:["Created: ",new Date(e.created_at).toLocaleDateString()]})]})},VN=()=>{const[e,t]=v.useState(!1),[n,s]=v.useState(),{saos:r,loading:i,error:a,loadUserSAOs:l,deleteSAO:c}=Vo(),[u]=ev(),d=u.get("saoId");v.useEffect(()=>{l()},[l]),v.useEffect(()=>{if(d&&r.length>0){const x=r.find(y=>y.id===d);x&&(s(x),t(!0))}},[d,r]);const h=async x=>{window.confirm("Are you sure you want to delete this SAO?")&&await c(x)},f=x=>{s(x),t(!0)},p=()=>{t(!1),s(void 0)};return o.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Situation-Action-Outcome (SAO)"}),o.jsx("p",{className:"text-slate-500 mt-1",children:"Write and manage your SAO essays."})]}),o.jsxs("button",{onClick:()=>t(!0),className:"btn btn-primary flex items-center gap-2",children:[o.jsx(gi,{size:18}),"Start New SAO"]})]}),a&&o.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-red-600",children:"Error:"}),o.jsx("p",{className:"text-sm text-red-800",children:a})]})}),i?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-teal-600"})}):r.length>0?o.jsx("div",{className:"space-y-4",children:r.map(x=>o.jsx(zN,{sao:x,onDelete:h,onEdit:f},x.id))}):o.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx(wd,{className:"mx-auto h-12 w-12 text-slate-400"}),o.jsx("h3",{className:"mt-4 text-lg font-medium text-slate-900",children:"No SAOs yet"}),o.jsx("p",{className:"mt-2 text-slate-500",children:"Get started by writing your first SAO essay."}),o.jsx("button",{onClick:()=>t(!0),className:"mt-4 btn btn-primary",children:"Start Writing"})]})}),o.jsx(FN,{isOpen:e,onClose:p,editSAO:n})]})},BN=()=>{const[e,t]=v.useState(""),[n,s]=v.useState(""),[r,i]=v.useState(""),[a,l]=v.useState(!1),[c,u]=v.useState(null),[d,h]=v.useState(!1),f=async p=>{p.preventDefault(),l(!0),u(null),h(!1);try{const x=await fetch("https://bbixvnkqroskholbxkgj.supabase.co/functions/v1/send-support-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU"},body:JSON.stringify({email:e,subject:n,message:r})}),y=await x.json();if(!x.ok)throw new Error(y.error||"Failed to send message");h(!0),t(""),s(""),i("")}catch(x){u(x instanceof Error?x.message:"Failed to send message. Please try again later."),console.error("Error sending support message:",x)}finally{l(!1)}};return o.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Help & Support"}),o.jsx("p",{className:"text-slate-500 mt-1",children:"Get help with your EIT program journey"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Contact Us"}),o.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-1",children:"Your Email"}),o.jsx("input",{type:"email",id:"email",value:e,onChange:p=>t(p.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter your email",required:!0,disabled:a})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-slate-700 mb-1",children:"Subject"}),o.jsx("input",{type:"text",id:"subject",value:n,onChange:p=>s(p.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"What's your question about?",required:!0,disabled:a})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-slate-700 mb-1",children:"Message"}),o.jsx("textarea",{id:"message",value:r,onChange:p=>i(p.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 min-h-[150px]",placeholder:"Describe your issue or question...",required:!0,disabled:a})]}),c&&o.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-md text-sm flex items-center gap-2",children:[o.jsx(_v,{size:16}),c]}),d&&o.jsx("div",{className:"p-3 bg-green-50 text-green-700 rounded-md text-sm",children:"Your message has been sent successfully. We'll get back to you soon!"}),o.jsx("button",{type:"submit",className:"btn btn-primary w-full flex items-center justify-center gap-2",disabled:a,children:a?o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):o.jsxs(o.Fragment,{children:[o.jsx(r2,{size:18}),"Send Message"]})})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Frequently Asked Questions"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-slate-900",children:"What is an SAO?"}),o.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"A Situation-Action-Outcome (SAO) is a structured way to document your experiences and demonstrate your competencies. It helps you reflect on specific situations, the actions you took, and the outcomes achieved."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-slate-900",children:"How do I track my progress?"}),o.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Your progress is automatically tracked as you complete skills and document experiences. Visit the Dashboard to see your overall progress and skill-specific achievements."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-slate-900",children:"Need more help?"}),o.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"If you can't find what you're looking for, use the contact form to send us a message. Our support team will get back to you as soon as possible."})]})]})]})]})]})},sx=v.createContext({});function qN(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const Nd=typeof window<"u",HN=Nd?v.useLayoutEffect:v.useEffect,Ed=v.createContext(null),rx=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function WN(e=!0){const t=v.useContext(Ed);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=t,i=v.useId();v.useEffect(()=>{if(e)return r(i)},[e]);const a=v.useCallback(()=>e&&s&&s(i),[i,s,e]);return!n&&s?[!1,a]:[!0]}function Cd(e,t){e.indexOf(t)===-1&&e.push(t)}function Td(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Yt=(e,t,n)=>n>t?t:n<e?e:n;let Pd=()=>{};const Qt={},ix=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),ax=e=>/^0[^.\s]+$/u.test(e);function Ad(e){let t;return()=>(t===void 0&&(t=e()),t)}const vt=e=>e,GN=(e,t)=>n=>t(e(n)),Di=(...e)=>e.reduce(GN),bi=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Rd{constructor(){this.subscriptions=[]}add(t){return Cd(this.subscriptions,t),()=>Td(this.subscriptions,t)}notify(t,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,n,s);else for(let i=0;i<r;i++){const a=this.subscriptions[i];a&&a(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Lt=e=>e*1e3,Dt=e=>e/1e3;function ox(e,t){return t?e*(1e3/t):0}const lx=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,KN=1e-7,JN=12;function YN(e,t,n,s,r){let i,a,l=0;do a=t+(n-t)/2,i=lx(a,s,r)-e,i>0?n=a:t=a;while(Math.abs(i)>KN&&++l<JN);return a}function Mi(e,t,n,s){if(e===t&&n===s)return vt;const r=i=>YN(i,0,1,e,n);return i=>i===0||i===1?i:lx(r(i),t,s)}const cx=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ux=e=>t=>1-e(1-t),dx=Mi(.33,1.53,.69,.99),Od=ux(dx),hx=cx(Od),fx=e=>(e*=2)<1?.5*Od(e):.5*(2-Math.pow(2,-10*(e-1))),Id=e=>1-Math.sin(Math.acos(e)),mx=ux(Id),px=cx(Id),QN=Mi(.42,0,1,1),XN=Mi(0,0,.58,1),gx=Mi(.42,0,.58,1),ZN=e=>Array.isArray(e)&&typeof e[0]!="number",vx=e=>Array.isArray(e)&&typeof e[0]=="number",eE={linear:vt,easeIn:QN,easeInOut:gx,easeOut:XN,circIn:Id,circInOut:px,circOut:mx,backIn:Od,backInOut:hx,backOut:dx,anticipate:fx},tE=e=>typeof e=="string",mm=e=>{if(vx(e)){Pd(e.length===4);const[t,n,s,r]=e;return Mi(t,n,s,r)}else if(tE(e))return eE[e];return e},da=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],pm={value:null};function nE(e,t){let n=new Set,s=new Set,r=!1,i=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(h){a.has(h)&&(d.schedule(h),e()),c++,h(l)}const d={schedule:(h,f=!1,p=!1)=>{const y=p&&r?n:s;return f&&a.add(h),y.has(h)||y.add(h),h},cancel:h=>{s.delete(h),a.delete(h)},process:h=>{if(l=h,r){i=!0;return}r=!0,[n,s]=[s,n],n.forEach(u),t&&pm.value&&pm.value.frameloop[t].push(c),c=0,n.clear(),r=!1,i&&(i=!1,d.process(h))}};return d}const sE=40;function xx(e,t){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=da.reduce((w,j)=>(w[j]=nE(i,t?j:void 0),w),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:h,preRender:f,render:p,postRender:x}=a,y=()=>{const w=Qt.useManualTiming?r.timestamp:performance.now();n=!1,Qt.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(w-r.timestamp,sE),1)),r.timestamp=w,r.isProcessing=!0,l.process(r),c.process(r),u.process(r),d.process(r),h.process(r),f.process(r),p.process(r),x.process(r),r.isProcessing=!1,n&&t&&(s=!1,e(y))},b=()=>{n=!0,s=!0,r.isProcessing||e(y)};return{schedule:da.reduce((w,j)=>{const S=a[j];return w[j]=(_,k=!1,N=!1)=>(n||b(),S.schedule(_,k,N)),w},{}),cancel:w=>{for(let j=0;j<da.length;j++)a[da[j]].cancel(w)},state:r,steps:a}}const{schedule:ce,cancel:Cn,state:ke,steps:Cl}=xx(typeof requestAnimationFrame<"u"?requestAnimationFrame:vt,!0);let Ca;function rE(){Ca=void 0}const Ge={now:()=>(Ca===void 0&&Ge.set(ke.isProcessing||Qt.useManualTiming?ke.timestamp:performance.now()),Ca),set:e=>{Ca=e,queueMicrotask(rE)}},yx=e=>t=>typeof t=="string"&&t.startsWith(e),Ld=yx("--"),iE=yx("var(--"),Dd=e=>iE(e)?aE.test(e.split("/*")[0].trim()):!1,aE=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,lr={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ji={...lr,transform:e=>Yt(0,1,e)},ha={...lr,default:1},zr=e=>Math.round(e*1e5)/1e5,Md=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function oE(e){return e==null}const lE=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ud=(e,t)=>n=>!!(typeof n=="string"&&lE.test(n)&&n.startsWith(e)||t&&!oE(n)&&Object.prototype.hasOwnProperty.call(n,t)),wx=(e,t,n)=>s=>{if(typeof s!="string")return s;const[r,i,a,l]=s.match(Md);return{[e]:parseFloat(r),[t]:parseFloat(i),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},cE=e=>Yt(0,255,e),Tl={...lr,transform:e=>Math.round(cE(e))},Wn={test:Ud("rgb","red"),parse:wx("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Tl.transform(e)+", "+Tl.transform(t)+", "+Tl.transform(n)+", "+zr(ji.transform(s))+")"};function uE(e){let t="",n="",s="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,s+=s,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const Gc={test:Ud("#"),parse:uE,transform:Wn.transform},Ui=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),rn=Ui("deg"),Mt=Ui("%"),B=Ui("px"),dE=Ui("vh"),hE=Ui("vw"),gm={...Mt,parse:e=>Mt.parse(e)/100,transform:e=>Mt.transform(e*100)},As={test:Ud("hsl","hue"),parse:wx("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Mt.transform(zr(t))+", "+Mt.transform(zr(n))+", "+zr(ji.transform(s))+")"},Pe={test:e=>Wn.test(e)||Gc.test(e)||As.test(e),parse:e=>Wn.test(e)?Wn.parse(e):As.test(e)?As.parse(e):Gc.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Wn.transform(e):As.transform(e)},fE=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function mE(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Md))==null?void 0:t.length)||0)+(((n=e.match(fE))==null?void 0:n.length)||0)>0}const bx="number",jx="color",pE="var",gE="var(",vm="${}",vE=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Si(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},r=[];let i=0;const l=t.replace(vE,c=>(Pe.test(c)?(s.color.push(i),r.push(jx),n.push(Pe.parse(c))):c.startsWith(gE)?(s.var.push(i),r.push(pE),n.push(c)):(s.number.push(i),r.push(bx),n.push(parseFloat(c))),++i,vm)).split(vm);return{values:n,split:l,indexes:s,types:r}}function Sx(e){return Si(e).values}function kx(e){const{split:t,types:n}=Si(e),s=t.length;return r=>{let i="";for(let a=0;a<s;a++)if(i+=t[a],r[a]!==void 0){const l=n[a];l===bx?i+=zr(r[a]):l===jx?i+=Pe.transform(r[a]):i+=r[a]}return i}}const xE=e=>typeof e=="number"?0:e;function yE(e){const t=Sx(e);return kx(e)(t.map(xE))}const Tn={test:mE,parse:Sx,createTransformer:kx,getAnimatableNone:yE};function Pl(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function wE({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let r=0,i=0,a=0;if(!t)r=i=a=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;r=Pl(c,l,e+1/3),i=Pl(c,l,e),a=Pl(c,l,e-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:s}}function io(e,t){return n=>n>0?t:e}const ae=(e,t,n)=>e+(t-e)*n,Al=(e,t,n)=>{const s=e*e,r=n*(t*t-s)+s;return r<0?0:Math.sqrt(r)},bE=[Gc,Wn,As],jE=e=>bE.find(t=>t.test(e));function xm(e){const t=jE(e);if(!t)return!1;let n=t.parse(e);return t===As&&(n=wE(n)),n}const ym=(e,t)=>{const n=xm(e),s=xm(t);if(!n||!s)return io(e,t);const r={...n};return i=>(r.red=Al(n.red,s.red,i),r.green=Al(n.green,s.green,i),r.blue=Al(n.blue,s.blue,i),r.alpha=ae(n.alpha,s.alpha,i),Wn.transform(r))},Kc=new Set(["none","hidden"]);function SE(e,t){return Kc.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function kE(e,t){return n=>ae(e,t,n)}function $d(e){return typeof e=="number"?kE:typeof e=="string"?Dd(e)?io:Pe.test(e)?ym:EE:Array.isArray(e)?_x:typeof e=="object"?Pe.test(e)?ym:_E:io}function _x(e,t){const n=[...e],s=n.length,r=e.map((i,a)=>$d(i)(i,t[a]));return i=>{for(let a=0;a<s;a++)n[a]=r[a](i);return n}}function _E(e,t){const n={...e,...t},s={};for(const r in n)e[r]!==void 0&&t[r]!==void 0&&(s[r]=$d(e[r])(e[r],t[r]));return r=>{for(const i in s)n[i]=s[i](r);return n}}function NE(e,t){const n=[],s={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const i=t.types[r],a=e.indexes[i][s[i]],l=e.values[a]??0;n[r]=l,s[i]++}return n}const EE=(e,t)=>{const n=Tn.createTransformer(t),s=Si(e),r=Si(t);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?Kc.has(e)&&!r.values.length||Kc.has(t)&&!s.values.length?SE(e,t):Di(_x(NE(s,r),r.values),n):io(e,t)};function Nx(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ae(e,t,n):$d(e)(e,t)}const CE=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ce.update(t,n),stop:()=>Cn(t),now:()=>ke.isProcessing?ke.timestamp:Ge.now()}},Ex=(e,t,n=10)=>{let s="";const r=Math.max(Math.round(t/n),2);for(let i=0;i<r;i++)s+=e(i/(r-1))+", ";return`linear(${s.substring(0,s.length-2)})`},ao=2e4;function Fd(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<ao;)t+=n,s=e.next(t);return t>=ao?1/0:t}function TE(e,t=100,n){const s=n({...e,keyframes:[0,t]}),r=Math.min(Fd(s),ao);return{type:"keyframes",ease:i=>s.next(r*i).value/t,duration:Dt(r)}}const PE=5;function Cx(e,t,n){const s=Math.max(t-PE,0);return ox(n-e(s),t-s)}const de={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},wm=.001;function AE({duration:e=de.duration,bounce:t=de.bounce,velocity:n=de.velocity,mass:s=de.mass}){let r,i,a=1-t;a=Yt(de.minDamping,de.maxDamping,a),e=Yt(de.minDuration,de.maxDuration,Dt(e)),a<1?(r=u=>{const d=u*a,h=d*e,f=d-n,p=Jc(u,a),x=Math.exp(-h);return wm-f/p*x},i=u=>{const h=u*a*e,f=h*n+n,p=Math.pow(a,2)*Math.pow(u,2)*e,x=Math.exp(-h),y=Jc(Math.pow(u,2),a);return(-r(u)+wm>0?-1:1)*((f-p)*x)/y}):(r=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-.001+d*h},i=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const l=5/e,c=OE(r,i,l);if(e=Lt(e),isNaN(c))return{stiffness:de.stiffness,damping:de.damping,duration:e};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:a*2*Math.sqrt(s*u),duration:e}}}const RE=12;function OE(e,t,n){let s=n;for(let r=1;r<RE;r++)s=s-e(s)/t(s);return s}function Jc(e,t){return e*Math.sqrt(1-t*t)}const IE=["duration","bounce"],LE=["stiffness","damping","mass"];function bm(e,t){return t.some(n=>e[n]!==void 0)}function DE(e){let t={velocity:de.velocity,stiffness:de.stiffness,damping:de.damping,mass:de.mass,isResolvedFromDuration:!1,...e};if(!bm(e,LE)&&bm(e,IE))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),r=s*s,i=2*Yt(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:de.mass,stiffness:r,damping:i}}else{const n=AE(e);t={...t,...n,mass:de.mass},t.isResolvedFromDuration=!0}return t}function oo(e=de.visualDuration,t=de.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:r}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=DE({...n,velocity:-Dt(n.velocity||0)}),x=f||0,y=u/(2*Math.sqrt(c*d)),b=a-i,m=Dt(Math.sqrt(c/d)),g=Math.abs(b)<5;s||(s=g?de.restSpeed.granular:de.restSpeed.default),r||(r=g?de.restDelta.granular:de.restDelta.default);let w;if(y<1){const S=Jc(m,y);w=_=>{const k=Math.exp(-y*m*_);return a-k*((x+y*m*b)/S*Math.sin(S*_)+b*Math.cos(S*_))}}else if(y===1)w=S=>a-Math.exp(-m*S)*(b+(x+m*b)*S);else{const S=m*Math.sqrt(y*y-1);w=_=>{const k=Math.exp(-y*m*_),N=Math.min(S*_,300);return a-k*((x+y*m*b)*Math.sinh(N)+S*b*Math.cosh(N))/S}}const j={calculatedDuration:p&&h||null,next:S=>{const _=w(S);if(p)l.done=S>=h;else{let k=S===0?x:0;y<1&&(k=S===0?Lt(x):Cx(w,S,_));const N=Math.abs(k)<=s,O=Math.abs(a-_)<=r;l.done=N&&O}return l.value=l.done?a:_,l},toString:()=>{const S=Math.min(Fd(j),ao),_=Ex(k=>j.next(S*k).value,S,30);return S+"ms "+_},toTransition:()=>{}};return j}oo.applyToOptions=e=>{const t=TE(e,100,oo);return e.ease=t.ease,e.duration=Lt(t.duration),e.type="keyframes",e};function Yc({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},p=N=>l!==void 0&&N<l||c!==void 0&&N>c,x=N=>l===void 0?c:c===void 0||Math.abs(l-N)<Math.abs(c-N)?l:c;let y=n*t;const b=h+y,m=a===void 0?b:a(b);m!==b&&(y=m-h);const g=N=>-y*Math.exp(-N/s),w=N=>m+g(N),j=N=>{const O=g(N),I=w(N);f.done=Math.abs(O)<=u,f.value=f.done?m:I};let S,_;const k=N=>{p(f.value)&&(S=N,_=oo({keyframes:[f.value,x(f.value)],velocity:Cx(w,N,f.value),damping:r,stiffness:i,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:N=>{let O=!1;return!_&&S===void 0&&(O=!0,j(N),k(N)),S!==void 0&&N>=S?_.next(N-S):(!O&&j(N),f)}}}function ME(e,t,n){const s=[],r=n||Qt.mix||Nx,i=e.length-1;for(let a=0;a<i;a++){let l=r(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||vt:t;l=Di(c,l)}s.push(l)}return s}function UE(e,t,{clamp:n=!0,ease:s,mixer:r}={}){const i=e.length;if(Pd(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=ME(t,s,r),c=l.length,u=d=>{if(a&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=bi(e[h],e[h+1],d);return l[h](f)};return n?d=>u(Yt(e[0],e[i-1],d)):u}function $E(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const r=bi(0,t,s);e.push(ae(n,1,r))}}function FE(e){const t=[0];return $E(t,e.length-1),t}function zE(e,t){return e.map(n=>n*t)}function VE(e,t){return e.map(()=>t||gx).splice(0,e.length-1)}function Vr({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const r=ZN(s)?s.map(mm):mm(s),i={done:!1,value:t[0]},a=zE(n&&n.length===t.length?n:FE(t),e),l=UE(a,t,{ease:Array.isArray(r)?r:VE(t,r)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const BE=e=>e!==null;function zd(e,{repeat:t,repeatType:n="loop"},s,r=1){const i=e.filter(BE),l=r<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!l||s===void 0?i[l]:s}const qE={decay:Yc,inertia:Yc,tween:Vr,keyframes:Vr,spring:oo};function Tx(e){typeof e.type=="string"&&(e.type=qE[e.type])}class Vd{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const HE=e=>e/100;class Bd extends Vd{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{var s,r;if(n){const{motionValue:i}=this.options;i&&i.updatedAt!==Ge.now()&&this.tick(Ge.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(s=this.options).onStop)==null||r.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Tx(t);const{type:n=Vr,repeat:s=0,repeatDelay:r=0,repeatType:i,velocity:a=0}=t;let{keyframes:l}=t;const c=n||Vr;c!==Vr&&typeof l[0]!="number"&&(this.mixKeyframes=Di(HE,Nx(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=Fd(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:r,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:p,type:x,onUpdate:y,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const m=this.currentTime-u*(this.playbackSpeed>=0?1:-1),g=this.playbackSpeed>=0?m<0:m>r;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let w=this.currentTime,j=s;if(h){const N=Math.min(this.currentTime,r)/l;let O=Math.floor(N),I=N%1;!I&&N>=1&&(I=1),I===1&&O--,O=Math.min(O,h+1),!!(O%2)&&(f==="reverse"?(I=1-I,p&&(I-=p/l)):f==="mirror"&&(j=a)),w=Yt(0,1,I)*l}const S=g?{done:!1,value:d[0]}:j.next(w);i&&(S.value=i(S.value));let{done:_}=S;!g&&c!==null&&(_=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_);return k&&x!==Yc&&(S.value=zd(d,this.options,b,this.speed)),y&&y(S.value),k&&this.finish(),S}then(t,n){return this.finished.then(t,n)}get duration(){return Dt(this.calculatedDuration)}get time(){return Dt(this.currentTime)}set time(t){var n;t=Lt(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ge.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Dt(this.currentTime))}play(){var r,i;if(this.isStopped)return;const{driver:t=CE,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(i=(r=this.options).onPlay)==null||i.call(r);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ge.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function WE(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Gn=e=>e*180/Math.PI,Qc=e=>{const t=Gn(Math.atan2(e[1],e[0]));return Xc(t)},GE={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Qc,rotateZ:Qc,skewX:e=>Gn(Math.atan(e[1])),skewY:e=>Gn(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Xc=e=>(e=e%360,e<0&&(e+=360),e),jm=Qc,Sm=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),km=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),KE={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Sm,scaleY:km,scale:e=>(Sm(e)+km(e))/2,rotateX:e=>Xc(Gn(Math.atan2(e[6],e[5]))),rotateY:e=>Xc(Gn(Math.atan2(-e[2],e[0]))),rotateZ:jm,rotate:jm,skewX:e=>Gn(Math.atan(e[4])),skewY:e=>Gn(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Zc(e){return e.includes("scale")?1:0}function eu(e,t){if(!e||e==="none")return Zc(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(n)s=KE,r=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=GE,r=l}if(!r)return Zc(t);const i=s[t],a=r[1].split(",").map(YE);return typeof i=="function"?i(a):a[i]}const JE=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return eu(n,t)};function YE(e){return parseFloat(e.trim())}const cr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ur=new Set(cr),_m=e=>e===lr||e===B,QE=new Set(["x","y","z"]),XE=cr.filter(e=>!QE.has(e));function ZE(e){const t=[];return XE.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Yn={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>eu(t,"x"),y:(e,{transform:t})=>eu(t,"y")};Yn.translateX=Yn.x;Yn.translateY=Yn.y;const Qn=new Set;let tu=!1,nu=!1,su=!1;function Px(){if(nu){const e=Array.from(Qn).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const r=ZE(s);r.length&&(n.set(s,r),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([i,a])=>{var l;(l=s.getValue(i))==null||l.set(a)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}nu=!1,tu=!1,Qn.forEach(e=>e.complete(su)),Qn.clear()}function Ax(){Qn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(nu=!0)})}function eC(){su=!0,Ax(),Px(),su=!1}class qd{constructor(t,n,s,r,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=r,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Qn.add(this),tu||(tu=!0,ce.read(Ax),ce.resolveKeyframes(Px))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:r}=this;if(t[0]===null){const i=r==null?void 0:r.get(),a=t[t.length-1];if(i!==void 0)t[0]=i;else if(s&&n){const l=s.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),r&&i===void 0&&r.set(t[0])}WE(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Qn.delete(this)}cancel(){this.state==="scheduled"&&(Qn.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const tC=e=>e.startsWith("--");function nC(e,t,n){tC(t)?e.style.setProperty(t,n):e.style[t]=n}const sC=Ad(()=>window.ScrollTimeline!==void 0),rC={};function iC(e,t){const n=Ad(e);return()=>rC[t]??n()}const Rx=iC(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Er=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,Nm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Er([0,.65,.55,1]),circOut:Er([.55,0,1,.45]),backIn:Er([.31,.01,.66,-.59]),backOut:Er([.33,1.53,.69,.99])};function Ox(e,t){if(e)return typeof e=="function"?Rx()?Ex(e,t):"ease-out":vx(e)?Er(e):Array.isArray(e)?e.map(n=>Ox(n,t)||Nm.easeOut):Nm[e]}function aC(e,t,n,{delay:s=0,duration:r=300,repeat:i=0,repeatType:a="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:n};c&&(d.offset=c);const h=Ox(l,r);Array.isArray(h)&&(d.easing=h);const f={delay:s,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),e.animate(d,f)}function Ix(e){return typeof e=="function"&&"applyToOptions"in e}function oC({type:e,...t}){return Ix(e)&&Rx()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class lC extends Vd{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:r,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=t,Pd(typeof t.type!="string");const u=oC(t);this.animation=aC(n,s,r,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=zd(r,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):nC(n,s,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return Dt(Number(t))}get time(){return Dt(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Lt(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&sC()?(this.animation.timeline=t,vt):n(this)}}const Lx={anticipate:fx,backInOut:hx,circInOut:px};function cC(e){return e in Lx}function uC(e){typeof e.ease=="string"&&cC(e.ease)&&(e.ease=Lx[e.ease])}const Em=10;class dC extends lC{constructor(t){uC(t),Tx(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:r,element:i,...a}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new Bd({...a,autoplay:!1}),c=Lt(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-Em).value,l.sample(c).value,Em),l.stop()}}const Cm=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Tn.test(e)||e==="0")&&!e.startsWith("url("));function hC(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function fC(e,t,n,s){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],a=Cm(r,t),l=Cm(i,t);return!a||!l?!1:hC(e)||(n==="spring"||Ix(n))&&s}const mC=new Set(["opacity","clipPath","filter","transform"]),pC=Ad(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function gC(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:r,damping:i,type:a}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return pC()&&n&&mC.has(n)&&(n!=="transform"||!c)&&!l&&!s&&r!=="mirror"&&i!==0&&a!=="inertia"}const vC=40;class xC extends Vd{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a="loop",keyframes:l,name:c,motionValue:u,element:d,...h}){var x;super(),this.stop=()=>{var y,b;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=Ge.now();const f={autoplay:t,delay:n,type:s,repeat:r,repeatDelay:i,repeatType:a,name:c,motionValue:u,element:d,...h},p=(d==null?void 0:d.KeyframeResolver)||qd;this.keyframeResolver=new p(l,(y,b,m)=>this.onKeyframesResolved(y,b,f,!m),c,u,d),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(t,n,s,r){this.keyframeResolver=void 0;const{name:i,type:a,velocity:l,delay:c,isHandoff:u,onUpdate:d}=s;this.resolvedAt=Ge.now(),fC(t,i,a,l)||((Qt.instantAnimations||!c)&&(d==null||d(zd(t,s,n))),t[0]=t[t.length-1],s.duration=0,s.repeat=0);const f={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>vC?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},p=!u&&gC(f)?new dC({...f,element:f.motionValue.owner.current}):new Bd(f);p.finished.then(()=>this.notifyFinished()).catch(vt),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),eC()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const yC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function wC(e){const t=yC.exec(e);if(!t)return[,];const[,n,s,r]=t;return[`--${n??s}`,r]}function Dx(e,t,n=1){const[s,r]=wC(e);if(!s)return;const i=window.getComputedStyle(t).getPropertyValue(s);if(i){const a=i.trim();return ix(a)?parseFloat(a):a}return Dd(r)?Dx(r,t,n+1):r}function Hd(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Mx=new Set(["width","height","top","left","right","bottom",...cr]),bC={test:e=>e==="auto",parse:e=>e},Ux=e=>t=>t.test(e),$x=[lr,B,Mt,rn,hE,dE,bC],Tm=e=>$x.find(Ux(e));function jC(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||ax(e):!0}const SC=new Set(["brightness","contrast","saturate","opacity"]);function kC(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Md)||[];if(!s)return e;const r=n.replace(s,"");let i=SC.has(t)?1:0;return s!==n&&(i*=100),t+"("+i+r+")"}const _C=/\b([a-z-]*)\(.*?\)/gu,ru={...Tn,getAnimatableNone:e=>{const t=e.match(_C);return t?t.map(kC).join(" "):e}},Pm={...lr,transform:Math.round},NC={rotate:rn,rotateX:rn,rotateY:rn,rotateZ:rn,scale:ha,scaleX:ha,scaleY:ha,scaleZ:ha,skew:rn,skewX:rn,skewY:rn,distance:B,translateX:B,translateY:B,translateZ:B,x:B,y:B,z:B,perspective:B,transformPerspective:B,opacity:ji,originX:gm,originY:gm,originZ:B},Wd={borderWidth:B,borderTopWidth:B,borderRightWidth:B,borderBottomWidth:B,borderLeftWidth:B,borderRadius:B,radius:B,borderTopLeftRadius:B,borderTopRightRadius:B,borderBottomRightRadius:B,borderBottomLeftRadius:B,width:B,maxWidth:B,height:B,maxHeight:B,top:B,right:B,bottom:B,left:B,padding:B,paddingTop:B,paddingRight:B,paddingBottom:B,paddingLeft:B,margin:B,marginTop:B,marginRight:B,marginBottom:B,marginLeft:B,backgroundPositionX:B,backgroundPositionY:B,...NC,zIndex:Pm,fillOpacity:ji,strokeOpacity:ji,numOctaves:Pm},EC={...Wd,color:Pe,backgroundColor:Pe,outlineColor:Pe,fill:Pe,stroke:Pe,borderColor:Pe,borderTopColor:Pe,borderRightColor:Pe,borderBottomColor:Pe,borderLeftColor:Pe,filter:ru,WebkitFilter:ru},Fx=e=>EC[e];function zx(e,t){let n=Fx(e);return n!==ru&&(n=Tn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const CC=new Set(["auto","none","0"]);function TC(e,t,n){let s=0,r;for(;s<e.length&&!r;){const i=e[s];typeof i=="string"&&!CC.has(i)&&Si(i).values.length&&(r=e[s]),s++}if(r&&n)for(const i of t)e[i]=zx(n,r)}class PC extends qd{constructor(t,n,s,r,i){super(t,n,s,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),Dd(u))){const d=Dx(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Mx.has(s)||t.length!==2)return;const[r,i]=t,a=Tm(r),l=Tm(i);if(a!==l)if(_m(a)&&_m(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else Yn[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let r=0;r<t.length;r++)(t[r]===null||jC(t[r]))&&s.push(r);s.length&&TC(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Yn[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&t.getValue(s,r).jump(r,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const r=t.getValue(n);r&&r.jump(this.measuredOrigin,!1);const i=s.length-1,a=s[i];s[i]=Yn[n](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function AC(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const r=(n==null?void 0:n[e])??s.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}const Am=30,RC=e=>!isNaN(parseFloat(e));class OC{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,r=!0)=>{var a,l;const i=Ge.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();r&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ge.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=RC(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Rd);const s=this.events[t].add(n);return t==="change"?()=>{s(),ce.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ge.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Am)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Am);return ox(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zs(e,t){return new OC(e,t)}const Vx=(e,t)=>t&&typeof e=="number"?t.transform(e):e,{schedule:Gd}=xx(queueMicrotask,!1),bt={x:!1,y:!1};function Bx(){return bt.x||bt.y}function IC(e){return e==="x"||e==="y"?bt[e]?null:(bt[e]=!0,()=>{bt[e]=!1}):bt.x||bt.y?null:(bt.x=bt.y=!0,()=>{bt.x=bt.y=!1})}function qx(e,t){const n=AC(e),s=new AbortController,r={passive:!0,...t,signal:s.signal};return[n,r,()=>s.abort()]}function Rm(e){return!(e.pointerType==="touch"||Bx())}function LC(e,t,n={}){const[s,r,i]=qx(e,n),a=l=>{if(!Rm(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=h=>{Rm(h)&&(u(h),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,r)};return s.forEach(l=>{l.addEventListener("pointerenter",a,r)}),i}const Hx=(e,t)=>t?e===t?!0:Hx(e,t.parentElement):!1,Kd=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,DC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function MC(e){return DC.has(e.tagName)||e.tabIndex!==-1}const Ta=new WeakSet;function Om(e){return t=>{t.key==="Enter"&&e(t)}}function Rl(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const UC=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=Om(()=>{if(Ta.has(n))return;Rl(n,"down");const r=Om(()=>{Rl(n,"up")}),i=()=>Rl(n,"cancel");n.addEventListener("keyup",r,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function Im(e){return Kd(e)&&!Bx()}function $C(e,t,n={}){const[s,r,i]=qx(e,n),a=l=>{const c=l.currentTarget;if(!Im(l))return;Ta.add(c);const u=t(c,l),d=(p,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),Ta.has(c)&&Ta.delete(c),Im(p)&&typeof u=="function"&&u(p,{success:x})},h=p=>{d(p,c===window||c===document||n.useGlobalTarget||Hx(c,p.target))},f=p=>{d(p,!1)};window.addEventListener("pointerup",h,r),window.addEventListener("pointercancel",f,r)};return s.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,r),l instanceof HTMLElement&&(l.addEventListener("focus",u=>UC(u,r)),!MC(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}const FC=[...$x,Pe,Tn],zC=e=>FC.find(Ux(e)),Wx=v.createContext({strict:!1}),Lm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},er={};for(const e in Lm)er[e]={isEnabled:t=>Lm[e].some(n=>!!t[n])};function VC(e){for(const t in e)er[t]={...er[t],...e[t]}}const BC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function lo(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||BC.has(e)}let Gx=e=>!lo(e);function qC(e){e&&(Gx=t=>t.startsWith("on")?!lo(t):e(t))}try{qC(require("@emotion/is-prop-valid").default)}catch{}function HC(e,t,n){const s={};for(const r in e)r==="values"&&typeof e.values=="object"||(Gx(r)||n===!0&&lo(r)||!t&&!lo(r)||e.draggable&&r.startsWith("onDrag"))&&(s[r]=e[r]);return s}function WC(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...s)=>e(...s);return new Proxy(n,{get:(s,r)=>r==="create"?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}const Bo=v.createContext({});function qo(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function ki(e){return typeof e=="string"||Array.isArray(e)}const Jd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Yd=["initial",...Jd];function Ho(e){return qo(e.animate)||Yd.some(t=>ki(e[t]))}function Kx(e){return!!(Ho(e)||e.variants)}function GC(e,t){if(Ho(e)){const{initial:n,animate:s}=e;return{initial:n===!1||ki(n)?n:void 0,animate:ki(s)?s:void 0}}return e.inherit!==!1?t:{}}function KC(e){const{initial:t,animate:n}=GC(e,v.useContext(Bo));return v.useMemo(()=>({initial:t,animate:n}),[Dm(t),Dm(n)])}function Dm(e){return Array.isArray(e)?e.join(" "):e}const JC=Symbol.for("motionComponentSymbol");function Rs(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function YC(e,t,n){return v.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):Rs(n)&&(n.current=s))},[t])}const Qd=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),QC="framerAppearId",Jx="data-"+Qd(QC),Yx=v.createContext({});function XC(e,t,n,s,r){var y,b;const{visualElement:i}=v.useContext(Bo),a=v.useContext(Wx),l=v.useContext(Ed),c=v.useContext(rx).reducedMotion,u=v.useRef(null);s=s||a.renderer,!u.current&&s&&(u.current=s(e,{visualState:t,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,h=v.useContext(Yx);d&&!d.projection&&r&&(d.type==="html"||d.type==="svg")&&ZC(u.current,n,r,h);const f=v.useRef(!1);v.useInsertionEffect(()=>{d&&f.current&&d.update(n,l)});const p=n[Jx],x=v.useRef(!!p&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,p))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,p)));return HN(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),Gd.render(d.render),x.current&&d.animationState&&d.animationState.animateChanges())}),v.useEffect(()=>{d&&(!x.current&&d.animationState&&d.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)==null||m.call(window,p)}),x.current=!1))}),d}function ZC(e,t,n,s){const{layoutId:r,layout:i,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Qx(e.parent)),e.projection.setOptions({layoutId:r,layout:i,alwaysMeasureLayout:!!a||l&&Rs(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,crossfade:d,layoutScroll:c,layoutRoot:u})}function Qx(e){if(e)return e.options.allowProjection!==!1?e.projection:Qx(e.parent)}function eT({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:s,Component:r}){e&&VC(e);function i(l,c){let u;const d={...v.useContext(rx),...l,layoutId:tT(l)},{isStatic:h}=d,f=KC(l),p=s(l,h);if(!h&&Nd){nT();const x=sT(d);u=x.MeasureLayout,f.visualElement=XC(r,p,d,t,x.ProjectionNode)}return o.jsxs(Bo.Provider,{value:f,children:[u&&f.visualElement?o.jsx(u,{visualElement:f.visualElement,...d}):null,n(r,l,YC(p,f.visualElement,c),p,h,f.visualElement)]})}i.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const a=v.forwardRef(i);return a[JC]=r,a}function tT({layoutId:e}){const t=v.useContext(sx).id;return t&&e!==void 0?t+"-"+e:e}function nT(e,t){v.useContext(Wx).strict}function sT(e){const{drag:t,layout:n}=er;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const _i={};function rT(e){for(const t in e)_i[t]=e[t],Ld(t)&&(_i[t].isCSSVariable=!0)}function Xx(e,{layout:t,layoutId:n}){return ur.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!_i[e]||e==="opacity")}const Le=e=>!!(e&&e.getVelocity),iT={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},aT=cr.length;function oT(e,t,n){let s="",r=!0;for(let i=0;i<aT;i++){const a=cr[i],l=e[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=Vx(l,Wd[a]);if(!c){r=!1;const d=iT[a]||a;s+=`${d}(${u}) `}n&&(t[a]=u)}}return s=s.trim(),n?s=n(t,r?"":s):r&&(s="none"),s}function Xd(e,t,n){const{style:s,vars:r,transformOrigin:i}=e;let a=!1,l=!1;for(const c in t){const u=t[c];if(ur.has(c)){a=!0;continue}else if(Ld(c)){r[c]=u;continue}else{const d=Vx(u,Wd[c]);c.startsWith("origin")?(l=!0,i[c]=d):s[c]=d}}if(t.transform||(a||n?s.transform=oT(t,e.transform,n):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;s.transformOrigin=`${c} ${u} ${d}`}}const Zd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Zx(e,t,n){for(const s in t)!Le(t[s])&&!Xx(s,n)&&(e[s]=t[s])}function lT({transformTemplate:e},t){return v.useMemo(()=>{const n=Zd();return Xd(n,t,e),Object.assign({},n.vars,n.style)},[t])}function cT(e,t){const n=e.style||{},s={};return Zx(s,n,e),Object.assign(s,lT(e,t)),s}function uT(e,t){const n={},s=cT(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const dT=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function eh(e){return typeof e!="string"||e.includes("-")?!1:!!(dT.indexOf(e)>-1||/[A-Z]/u.test(e))}const hT={offset:"stroke-dashoffset",array:"stroke-dasharray"},fT={offset:"strokeDashoffset",array:"strokeDasharray"};function mT(e,t,n=1,s=0,r=!0){e.pathLength=1;const i=r?hT:fT;e[i.offset]=B.transform(-s);const a=B.transform(t),l=B.transform(n);e[i.array]=`${a} ${l}`}function ey(e,{attrX:t,attrY:n,attrScale:s,pathLength:r,pathSpacing:i=1,pathOffset:a=0,...l},c,u,d){if(Xd(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),s!==void 0&&(h.scale=s),r!==void 0&&mT(h,r,i,a,!1)}const ty=()=>({...Zd(),attrs:{}}),ny=e=>typeof e=="string"&&e.toLowerCase()==="svg";function pT(e,t,n,s){const r=v.useMemo(()=>{const i=ty();return ey(i,t,ny(s),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Zx(i,e.style,e),r.style={...i,...r.style}}return r}function gT(e=!1){return(n,s,r,{latestValues:i},a)=>{const c=(eh(n)?pT:uT)(s,i,a,n),u=HC(s,typeof n=="string",e),d=n!==v.Fragment?{...u,...c,ref:r}:{},{children:h}=s,f=v.useMemo(()=>Le(h)?h.get():h,[h]);return v.createElement(n,{...d,children:f})}}function Mm(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function th(e,t,n,s){if(typeof t=="function"){const[r,i]=Mm(s);t=t(n!==void 0?n:e.custom,r,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,i]=Mm(s);t=t(n!==void 0?n:e.custom,r,i)}return t}function Pa(e){return Le(e)?e.get():e}function vT({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,r){return{latestValues:xT(n,s,r,e),renderState:t()}}const sy=e=>(t,n)=>{const s=v.useContext(Bo),r=v.useContext(Ed),i=()=>vT(e,t,s,r);return n?i():qN(i)};function xT(e,t,n,s){const r={},i=s(e,{});for(const f in i)r[f]=Pa(i[f]);let{initial:a,animate:l}=e;const c=Ho(e),u=Kx(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const h=d?l:a;if(h&&typeof h!="boolean"&&!qo(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const x=th(e,f[p]);if(x){const{transitionEnd:y,transition:b,...m}=x;for(const g in m){let w=m[g];if(Array.isArray(w)){const j=d?w.length-1:0;w=w[j]}w!==null&&(r[g]=w)}for(const g in y)r[g]=y[g]}}}return r}function nh(e,t,n){var i;const{style:s}=e,r={};for(const a in s)(Le(s[a])||t.style&&Le(t.style[a])||Xx(a,e)||((i=n==null?void 0:n.getValue(a))==null?void 0:i.liveStyle)!==void 0)&&(r[a]=s[a]);return r}const yT={useVisualState:sy({scrapeMotionValuesFromProps:nh,createRenderState:Zd})};function ry(e,t,n){const s=nh(e,t,n);for(const r in e)if(Le(e[r])||Le(t[r])){const i=cr.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[i]=e[r]}return s}const wT={useVisualState:sy({scrapeMotionValuesFromProps:ry,createRenderState:ty})};function bT(e,t){return function(s,{forwardMotionProps:r}={forwardMotionProps:!1}){const a={...eh(s)?wT:yT,preloadedFeatures:e,useRender:gT(r),createVisualElement:t,Component:s};return eT(a)}}function Ni(e,t,n){const s=e.getProps();return th(s,t,n!==void 0?n:s.custom,e)}const iu=e=>Array.isArray(e);function jT(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Zs(n))}function ST(e){return iu(e)?e[e.length-1]||0:e}function kT(e,t){const n=Ni(e,t);let{transitionEnd:s={},transition:r={},...i}=n||{};i={...i,...s};for(const a in i){const l=ST(i[a]);jT(e,a,l)}}function _T(e){return!!(Le(e)&&e.add)}function au(e,t){const n=e.getValue("willChange");if(_T(n))return n.add(t);if(!n&&Qt.WillChange){const s=new Qt.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function iy(e){return e.props[Jx]}const NT=e=>e!==null;function ET(e,{repeat:t,repeatType:n="loop"},s){const r=e.filter(NT),i=t&&n!=="loop"&&t%2===1?0:r.length-1;return r[i]}const CT={type:"spring",stiffness:500,damping:25,restSpeed:10},TT=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),PT={type:"keyframes",duration:.8},AT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},RT=(e,{keyframes:t})=>t.length>2?PT:ur.has(e)?e.startsWith("scale")?TT(t[1]):CT:AT;function OT({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:i,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const sh=(e,t,n,s={},r,i)=>a=>{const l=Hd(s,e)||{},c=l.delay||s.delay||0;let{elapsed:u=0}=s;u=u-Lt(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:r};OT(l)||Object.assign(d,RT(e,d)),d.duration&&(d.duration=Lt(d.duration)),d.repeatDelay&&(d.repeatDelay=Lt(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),(Qt.instantAnimations||Qt.skipAnimations)&&(h=!0,d.duration=0,d.delay=0),d.allowFlatten=!l.type&&!l.ease,h&&!i&&t.get()!==void 0){const f=ET(d.keyframes,l);if(f!==void 0){ce.update(()=>{d.onUpdate(f),d.onComplete()});return}}return l.isSync?new Bd(d):new xC(d)};function IT({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function ay(e,t,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:a,...l}=t;s&&(i=s);const c=[],u=r&&e.animationState&&e.animationState.getState()[r];for(const d in l){const h=e.getValue(d,e.latestValues[d]??null),f=l[d];if(f===void 0||u&&IT(u,d))continue;const p={delay:n,...Hd(i||{},d)},x=h.get();if(x!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===x&&!p.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const m=iy(e);if(m){const g=window.MotionHandoffAnimation(m,d,ce);g!==null&&(p.startTime=g,y=!0)}}au(e,d),h.start(sh(d,h,f,e.shouldReduceMotion&&Mx.has(d)?{type:!1}:p,e,y));const b=h.animation;b&&c.push(b)}return a&&Promise.all(c).then(()=>{ce.update(()=>{a&&kT(e,a)})}),c}function ou(e,t,n={}){var c;const s=Ni(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:r=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const i=s?()=>Promise.all(ay(e,s,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=r;return LT(e,t,d+u,h,f,n)}:()=>Promise.resolve(),{when:l}=r;if(l){const[u,d]=l==="beforeChildren"?[i,a]:[a,i];return u().then(()=>d())}else return Promise.all([i(),a(n.delay)])}function LT(e,t,n=0,s=0,r=1,i){const a=[],l=(e.variantChildren.size-1)*s,c=r===1?(u=0)=>u*s:(u=0)=>l-u*s;return Array.from(e.variantChildren).sort(DT).forEach((u,d)=>{u.notify("AnimationStart",t),a.push(ou(u,t,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(a)}function DT(e,t){return e.sortNodePosition(t)}function MT(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const r=t.map(i=>ou(e,i,n));s=Promise.all(r)}else if(typeof t=="string")s=ou(e,t,n);else{const r=typeof t=="function"?Ni(e,t,n.custom):t;s=Promise.all(ay(e,r,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function oy(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const UT=Yd.length;function ly(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?ly(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<UT;n++){const s=Yd[n],r=e.props[s];(ki(r)||r===!1)&&(t[s]=r)}return t}const $T=[...Jd].reverse(),FT=Jd.length;function zT(e){return t=>Promise.all(t.map(({animation:n,options:s})=>MT(e,n,s)))}function VT(e){let t=zT(e),n=Um(),s=!0;const r=c=>(u,d)=>{var f;const h=Ni(e,d,c==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:p,transitionEnd:x,...y}=h;u={...u,...y,...x}}return u};function i(c){t=c(e)}function a(c){const{props:u}=e,d=ly(e.parent)||{},h=[],f=new Set;let p={},x=1/0;for(let b=0;b<FT;b++){const m=$T[b],g=n[m],w=u[m]!==void 0?u[m]:d[m],j=ki(w),S=m===c?g.isActive:null;S===!1&&(x=b);let _=w===d[m]&&w!==u[m]&&j;if(_&&s&&e.manuallyAnimateOnMount&&(_=!1),g.protectedKeys={...p},!g.isActive&&S===null||!w&&!g.prevProp||qo(w)||typeof w=="boolean")continue;const k=BT(g.prevProp,w);let N=k||m===c&&g.isActive&&!_&&j||b>x&&j,O=!1;const I=Array.isArray(w)?w:[w];let T=I.reduce(r(m),{});S===!1&&(T={});const{prevResolvedValues:U={}}=g,A={...U,...T},M=$=>{N=!0,f.has($)&&(O=!0,f.delete($)),g.needsAnimating[$]=!0;const C=e.getValue($);C&&(C.liveStyle=!1)};for(const $ in A){const C=T[$],D=U[$];if(p.hasOwnProperty($))continue;let V=!1;iu(C)&&iu(D)?V=!oy(C,D):V=C!==D,V?C!=null?M($):f.add($):C!==void 0&&f.has($)?M($):g.protectedKeys[$]=!0}g.prevProp=w,g.prevResolvedValues=T,g.isActive&&(p={...p,...T}),s&&e.blockInitialAnimation&&(N=!1),N&&(!(_&&k)||O)&&h.push(...I.map($=>({animation:$,options:{type:m}})))}if(f.size){const b={};if(typeof u.initial!="boolean"){const m=Ni(e,Array.isArray(u.initial)?u.initial[0]:u.initial);m&&m.transition&&(b.transition=m.transition)}f.forEach(m=>{const g=e.getBaseTarget(m),w=e.getValue(m);w&&(w.liveStyle=!0),b[m]=g??null}),h.push({animation:b})}let y=!!h.length;return s&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),s=!1,y?t(h):Promise.resolve()}function l(c,u){var h;if(n[c].isActive===u)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(f=>{var p;return(p=f.animationState)==null?void 0:p.setActive(c,u)}),n[c].isActive=u;const d=a(c);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Um(),s=!0}}}function BT(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!oy(t,e):!1}function Mn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Um(){return{animate:Mn(!0),whileInView:Mn(),whileHover:Mn(),whileTap:Mn(),whileDrag:Mn(),whileFocus:Mn(),exit:Mn()}}class In{constructor(t){this.isMounted=!1,this.node=t}update(){}}class qT extends In{constructor(t){super(t),t.animationState||(t.animationState=VT(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();qo(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let HT=0;class WT extends In{constructor(){super(...arguments),this.id=HT++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const r=this.node.animationState.setActive("exit",!t);n&&!t&&r.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const GT={animation:{Feature:qT},exit:{Feature:WT}};function Ei(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function $i(e){return{point:{x:e.pageX,y:e.pageY}}}const KT=e=>t=>Kd(t)&&e(t,$i(t));function Br(e,t,n,s){return Ei(e,t,KT(n),s)}function cy({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function JT({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function YT(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const uy=1e-4,QT=1-uy,XT=1+uy,dy=.01,ZT=0-dy,eP=0+dy;function Ue(e){return e.max-e.min}function tP(e,t,n){return Math.abs(e-t)<=n}function $m(e,t,n,s=.5){e.origin=s,e.originPoint=ae(t.min,t.max,e.origin),e.scale=Ue(n)/Ue(t),e.translate=ae(n.min,n.max,e.origin)-e.originPoint,(e.scale>=QT&&e.scale<=XT||isNaN(e.scale))&&(e.scale=1),(e.translate>=ZT&&e.translate<=eP||isNaN(e.translate))&&(e.translate=0)}function qr(e,t,n,s){$m(e.x,t.x,n.x,s?s.originX:void 0),$m(e.y,t.y,n.y,s?s.originY:void 0)}function Fm(e,t,n){e.min=n.min+t.min,e.max=e.min+Ue(t)}function nP(e,t,n){Fm(e.x,t.x,n.x),Fm(e.y,t.y,n.y)}function zm(e,t,n){e.min=t.min-n.min,e.max=e.min+Ue(t)}function Hr(e,t,n){zm(e.x,t.x,n.x),zm(e.y,t.y,n.y)}const Vm=()=>({translate:0,scale:1,origin:0,originPoint:0}),Os=()=>({x:Vm(),y:Vm()}),Bm=()=>({min:0,max:0}),fe=()=>({x:Bm(),y:Bm()});function ut(e){return[e("x"),e("y")]}function Ol(e){return e===void 0||e===1}function lu({scale:e,scaleX:t,scaleY:n}){return!Ol(e)||!Ol(t)||!Ol(n)}function zn(e){return lu(e)||hy(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function hy(e){return qm(e.x)||qm(e.y)}function qm(e){return e&&e!=="0%"}function co(e,t,n){const s=e-n,r=t*s;return n+r}function Hm(e,t,n,s,r){return r!==void 0&&(e=co(e,r,s)),co(e,n,s)+t}function cu(e,t=0,n=1,s,r){e.min=Hm(e.min,t,n,s,r),e.max=Hm(e.max,t,n,s,r)}function fy(e,{x:t,y:n}){cu(e.x,t.translate,t.scale,t.originPoint),cu(e.y,n.translate,n.scale,n.originPoint)}const Wm=.999999999999,Gm=1.0000000000001;function sP(e,t,n,s=!1){const r=n.length;if(!r)return;t.x=t.y=1;let i,a;for(let l=0;l<r;l++){i=n[l],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ls(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,fy(e,a)),s&&zn(i.latestValues)&&Ls(e,i.latestValues))}t.x<Gm&&t.x>Wm&&(t.x=1),t.y<Gm&&t.y>Wm&&(t.y=1)}function Is(e,t){e.min=e.min+t,e.max=e.max+t}function Km(e,t,n,s,r=.5){const i=ae(e.min,e.max,r);cu(e,t,n,i,s)}function Ls(e,t){Km(e.x,t.x,t.scaleX,t.scale,t.originX),Km(e.y,t.y,t.scaleY,t.scale,t.originY)}function my(e,t){return cy(YT(e.getBoundingClientRect(),t))}function rP(e,t,n){const s=my(e,n),{scroll:r}=t;return r&&(Is(s.x,r.offset.x),Is(s.y,r.offset.y)),s}const py=({current:e})=>e?e.ownerDocument.defaultView:null,Jm=(e,t)=>Math.abs(e-t);function iP(e,t){const n=Jm(e.x,t.x),s=Jm(e.y,t.y);return Math.sqrt(n**2+s**2)}class gy{constructor(t,n,{transformPagePoint:s,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Ll(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=iP(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:x}=h,{timestamp:y}=ke;this.history.push({...x,timestamp:y});const{onStart:b,onMove:m}=this.handlers;f||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Il(f,this.transformPagePoint),ce.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:x,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Ll(h.type==="pointercancel"?this.lastMoveEventInfo:Il(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,b),x&&x(h,b)},!Kd(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.contextWindow=r||window;const a=$i(t),l=Il(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=ke;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,Ll(l,this.history)),this.removeListeners=Di(Br(this.contextWindow,"pointermove",this.handlePointerMove),Br(this.contextWindow,"pointerup",this.handlePointerUp),Br(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Cn(this.updatePoint)}}function Il(e,t){return t?{point:t(e.point)}:e}function Ym(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ll({point:e},t){return{point:e,delta:Ym(e,vy(t)),offset:Ym(e,aP(t)),velocity:oP(t,.1)}}function aP(e){return e[0]}function vy(e){return e[e.length-1]}function oP(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const r=vy(e);for(;n>=0&&(s=e[n],!(r.timestamp-s.timestamp>Lt(t)));)n--;if(!s)return{x:0,y:0};const i=Dt(r.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const a={x:(r.x-s.x)/i,y:(r.y-s.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function lP(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?ae(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?ae(n,e,s.max):Math.min(e,n)),e}function Qm(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function cP(e,{top:t,left:n,bottom:s,right:r}){return{x:Qm(e.x,n,r),y:Qm(e.y,t,s)}}function Xm(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function uP(e,t){return{x:Xm(e.x,t.x),y:Xm(e.y,t.y)}}function dP(e,t){let n=.5;const s=Ue(e),r=Ue(t);return r>s?n=bi(t.min,t.max-s,e.min):s>r&&(n=bi(e.min,e.max-r,t.min)),Yt(0,1,n)}function hP(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const uu=.35;function fP(e=uu){return e===!1?e=0:e===!0&&(e=uu),{x:Zm(e,"left","right"),y:Zm(e,"top","bottom")}}function Zm(e,t,n){return{min:ep(e,t),max:ep(e,n)}}function ep(e,t){return typeof e=="number"?e:e[t]||0}const mP=new WeakMap;class pP{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=fe(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor($i(d).point)},i=(d,h)=>{const{drag:f,dragPropagation:p,onDragStart:x}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=IC(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ut(b=>{let m=this.getAxisMotionValue(b).get()||0;if(Mt.test(m)){const{projection:g}=this.visualElement;if(g&&g.layout){const w=g.layout.layoutBox[b];w&&(m=Ue(w)*(parseFloat(m)/100))}}this.originPoint[b]=m}),x&&ce.postRender(()=>x(d,h)),au(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(d,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:x,onDrag:y}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:b}=h;if(p&&this.currentDirection===null){this.currentDirection=gP(b),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),y&&y(d,h)},l=(d,h)=>this.stop(d,h),c=()=>ut(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)==null?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new gy(t,{onSessionStart:r,onStart:i,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:py(this.visualElement)})}stop(t,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&ce.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:r}=this.getProps();if(!s||!fa(t,r,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(a=lP(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,r=this.constraints;t&&Rs(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=cP(s.layoutBox,t):this.constraints=!1,this.elastic=fP(n),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ut(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=hP(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Rs(t))return!1;const s=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=rP(s,r.root,this.visualElement.getTransformPagePoint());let a=uP(r.layout.layoutBox,i);if(n){const l=n(JT(a));this.hasMutatedConstraints=!!l,l&&(a=cy(l))}return a}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=ut(d=>{if(!fa(d,n,this.currentDirection))return;let h=c&&c[d]||{};a&&(h={min:0,max:0});const f=r?200:1e6,p=r?40:1e7,x={type:"inertia",velocity:s?t[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return au(this.visualElement,t),s.start(sh(t,s,0,n,this.visualElement,!1))}stopAnimation(){ut(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ut(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){ut(n=>{const{drag:s}=this.getProps();if(!fa(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(n);if(r&&r.layout){const{min:a,max:l}=r.layout.layoutBox[n];i.set(t[n]-ae(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Rs(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};ut(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();r[a]=dP({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ut(a=>{if(!fa(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(ae(c,u,r[a]))})}addListeners(){if(!this.visualElement.current)return;mP.set(this.visualElement,this);const t=this.visualElement.current,n=Br(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();Rs(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),ce.read(s);const a=Ei(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ut(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=uu,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function fa(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function gP(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class vP extends In{constructor(t){super(t),this.removeGroupControls=vt,this.removeListeners=vt,this.controls=new pP(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vt}unmount(){this.removeGroupControls(),this.removeListeners()}}const tp=e=>(t,n)=>{e&&ce.postRender(()=>e(t,n))};class xP extends In{constructor(){super(...arguments),this.removePointerDownListener=vt}onPointerDown(t){this.session=new gy(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:py(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:tp(t),onStart:tp(n),onMove:s,onEnd:(i,a)=>{delete this.session,r&&ce.postRender(()=>r(i,a))}}}mount(){this.removePointerDownListener=Br(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Aa={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function np(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const br={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(B.test(e))e=parseFloat(e);else return e;const n=np(e,t.target.x),s=np(e,t.target.y);return`${n}% ${s}%`}},yP={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,r=Tn.parse(e);if(r.length>5)return s;const i=Tn.createTransformer(e),a=typeof r[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;r[0+a]/=l,r[1+a]/=c;const u=ae(l,c,.5);return typeof r[2+a]=="number"&&(r[2+a]/=u),typeof r[3+a]=="number"&&(r[3+a]/=u),i(r)}};class wP extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:i}=t;rT(bP),i&&(n.group&&n.group.add(i),s&&s.register&&r&&s.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Aa.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:r,isPresent:i}=this.props,{projection:a}=s;return a&&(a.isPresent=i,r||t.layoutDependency!==n||n===void 0||t.isPresent!==i?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||ce.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Gd.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function xy(e){const[t,n]=WN(),s=v.useContext(sx);return o.jsx(wP,{...e,layoutGroup:s,switchLayoutGroup:v.useContext(Yx),isPresent:t,safeToRemove:n})}const bP={borderRadius:{...br,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:br,borderTopRightRadius:br,borderBottomLeftRadius:br,borderBottomRightRadius:br,boxShadow:yP};function jP(e,t,n){const s=Le(e)?e:Zs(e);return s.start(sh("",s,t,n)),s.animation}function SP(e){return e instanceof SVGElement&&e.tagName!=="svg"}const kP=(e,t)=>e.depth-t.depth;class _P{constructor(){this.children=[],this.isDirty=!1}add(t){Cd(this.children,t),this.isDirty=!0}remove(t){Td(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(kP),this.isDirty=!1,this.children.forEach(t)}}function NP(e,t){const n=Ge.now(),s=({timestamp:r})=>{const i=r-n;i>=t&&(Cn(s),e(i-t))};return ce.setup(s,!0),()=>Cn(s)}const yy=["TopLeft","TopRight","BottomLeft","BottomRight"],EP=yy.length,sp=e=>typeof e=="string"?parseFloat(e):e,rp=e=>typeof e=="number"||B.test(e);function CP(e,t,n,s,r,i){r?(e.opacity=ae(0,n.opacity??1,TP(s)),e.opacityExit=ae(t.opacity??1,0,PP(s))):i&&(e.opacity=ae(t.opacity??1,n.opacity??1,s));for(let a=0;a<EP;a++){const l=`border${yy[a]}Radius`;let c=ip(t,l),u=ip(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||rp(c)===rp(u)?(e[l]=Math.max(ae(sp(c),sp(u),s),0),(Mt.test(u)||Mt.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=ae(t.rotate||0,n.rotate||0,s))}function ip(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const TP=wy(0,.5,mx),PP=wy(.5,.95,vt);function wy(e,t,n){return s=>s<e?0:s>t?1:n(bi(e,t,s))}function ap(e,t){e.min=t.min,e.max=t.max}function ct(e,t){ap(e.x,t.x),ap(e.y,t.y)}function op(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function lp(e,t,n,s,r){return e-=t,e=co(e,1/n,s),r!==void 0&&(e=co(e,1/r,s)),e}function AP(e,t=0,n=1,s=.5,r,i=e,a=e){if(Mt.test(t)&&(t=parseFloat(t),t=ae(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=ae(i.min,i.max,s);e===i&&(l-=t),e.min=lp(e.min,t,n,l,r),e.max=lp(e.max,t,n,l,r)}function cp(e,t,[n,s,r],i,a){AP(e,t[n],t[s],t[r],t.scale,i,a)}const RP=["x","scaleX","originX"],OP=["y","scaleY","originY"];function up(e,t,n,s){cp(e.x,t,RP,n?n.x:void 0,s?s.x:void 0),cp(e.y,t,OP,n?n.y:void 0,s?s.y:void 0)}function dp(e){return e.translate===0&&e.scale===1}function by(e){return dp(e.x)&&dp(e.y)}function hp(e,t){return e.min===t.min&&e.max===t.max}function IP(e,t){return hp(e.x,t.x)&&hp(e.y,t.y)}function fp(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function jy(e,t){return fp(e.x,t.x)&&fp(e.y,t.y)}function mp(e){return Ue(e.x)/Ue(e.y)}function pp(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class LP{constructor(){this.members=[]}add(t){Cd(this.members,t),t.scheduleRender()}remove(t){if(Td(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(r=>t===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function DP(e,t,n){let s="";const r=e.x.translate/t.x,i=e.y.translate/t.y,a=(n==null?void 0:n.z)||0;if((r||i||a)&&(s=`translate3d(${r}px, ${i}px, ${a}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:p,skewY:x}=n;u&&(s=`perspective(${u}px) ${s}`),d&&(s+=`rotate(${d}deg) `),h&&(s+=`rotateX(${h}deg) `),f&&(s+=`rotateY(${f}deg) `),p&&(s+=`skewX(${p}deg) `),x&&(s+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const Dl=["","X","Y","Z"],MP={visibility:"hidden"},UP=1e3;let $P=0;function Ml(e,t,n,s){const{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),s&&(s[e]=0))}function Sy(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=iy(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ce,!(r||i))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&Sy(s)}function ky({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(a={},l=t==null?void 0:t()){this.id=$P++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(VP),this.nodes.forEach(GP),this.nodes.forEach(KP),this.nodes.forEach(BP)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new _P)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Rd),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=SP(a),this.instance=a;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d;const h=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=NP(h,250),Aa.hasAnimatedSinceResize&&(Aa.hasAnimatedSinceResize=!1,this.nodes.forEach(vp))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||ZP,{onLayoutAnimationStart:y,onLayoutAnimationComplete:b}=u.getProps(),m=!this.targetLayout||!jy(this.targetLayout,p),g=!h&&f;if(this.options.layoutRoot||this.resumeFrom||g||h&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,g);const w={...Hd(x,"layout"),onPlay:y,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else h||vp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Cn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(JP),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Sy(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(gp);return}this.isUpdating||this.nodes.forEach(HP),this.isUpdating=!1,this.nodes.forEach(WP),this.nodes.forEach(FP),this.nodes.forEach(zP),this.clearAllSnapshots();const l=Ge.now();ke.delta=Yt(0,1e3/60,l-ke.timestamp),ke.timestamp=l,ke.isProcessing=!0,Cl.update.process(ke),Cl.preRender.process(ke),Cl.render.process(ke),ke.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Gd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(qP),this.sharedNodes.forEach(YP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ce.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ce.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ue(this.snapshot.measuredBox.x)&&!Ue(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=fe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!by(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&this.instance&&(l||zn(this.latestValues)||d)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),eA(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return fe();const l=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(tA))){const{scroll:d}=this.root;d&&(Is(l.x,d.offset.x),Is(l.y,d.offset.y))}return l}removeElementScroll(a){var c;const l=fe();if(ct(l,a),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&ct(l,a),Is(l.x,h.offset.x),Is(l.y,h.offset.y))}return l}applyTransform(a,l=!1){const c=fe();ct(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ls(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),zn(d.latestValues)&&Ls(c,d.latestValues)}return zn(this.latestValues)&&Ls(c,this.latestValues),c}removeTransform(a){const l=fe();ct(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!zn(u.latestValues))continue;lu(u.latestValues)&&u.updateSnapshot();const d=fe(),h=u.measurePageBox();ct(d,h),up(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return zn(this.latestValues)&&up(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ke.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var f;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=ke.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fe(),this.relativeTargetOrigin=fe(),Hr(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ct(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=fe(),this.targetWithTransforms=fe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),nP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ct(this.target,this.layout.layoutBox),fy(this.target,this.targetDelta)):ct(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fe(),this.relativeTargetOrigin=fe(),Hr(this.relativeTargetOrigin,this.target,p.target),ct(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||lu(this.parent.latestValues)||hy(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ke.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;ct(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;sP(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=fe());const{target:p}=a;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(op(this.prevProjectionDelta.x,this.projectionDelta.x),op(this.prevProjectionDelta.y,this.projectionDelta.y)),qr(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!pp(this.projectionDelta.x,this.prevProjectionDelta.x)||!pp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Os(),this.projectionDelta=Os(),this.projectionDeltaWithTransform=Os()}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Os();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=fe(),p=c?c.source:void 0,x=this.layout?this.layout.source:void 0,y=p!==x,b=this.getStack(),m=!b||b.members.length<=1,g=!!(y&&!m&&this.options.crossfade===!0&&!this.path.some(XP));this.animationProgress=0;let w;this.mixTargetDelta=j=>{const S=j/1e3;xp(h.x,a.x,S),xp(h.y,a.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hr(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),QP(this.relativeTarget,this.relativeTargetOrigin,f,S),w&&IP(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=fe()),ct(w,this.relativeTarget)),y&&(this.animationValues=d,CP(d,u,this.latestValues,S,g,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(!1),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(!1),this.pendingAnimation&&(Cn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ce.update(()=>{Aa.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Zs(0)),this.currentAnimation=jP(this.motionValue,[0,1e3],{...a,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(UP),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&_y(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||fe();const h=Ue(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const f=Ue(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+f}ct(l,c),Ls(l,d),qr(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new LP),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Ml("z",a,u,this.animationValues);for(let d=0;d<Dl.length;d++)Ml(`rotate${Dl[d]}`,a,u,this.animationValues),Ml(`skew${Dl[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}getProjectionStyles(a){if(!this.instance||this.isSVG)return;if(!this.isVisible)return MP;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=Pa(a==null?void 0:a.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=Pa(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!zn(this.latestValues)&&(p.transform=c?c({},""):"none",this.hasProjected=!1),p}const d=u.animationValues||u.latestValues;this.applyTransformsToTarget(),l.transform=DP(this.projectionDeltaWithTransform,this.treeScale,d),c&&(l.transform=c(d,l.transform));const{x:h,y:f}=this.projectionDelta;l.transformOrigin=`${h.origin*100}% ${f.origin*100}% 0`,u.animationValues?l.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:l.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const p in _i){if(d[p]===void 0)continue;const{correct:x,applyTo:y,isCSSVariable:b}=_i[p],m=l.transform==="none"?d[p]:x(d[p],u);if(y){const g=y.length;for(let w=0;w<g;w++)l[y[w]]=m}else b?this.options.visualElement.renderState.vars[p]=m:l[p]=m}return this.options.layoutId&&(l.pointerEvents=u===this?Pa(a==null?void 0:a.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)==null?void 0:l.stop(!1)}),this.root.nodes.forEach(gp),this.root.sharedNodes.clear()}}}function FP(e){e.updateLayout()}function zP(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i==="size"?ut(h=>{const f=a?t.measuredBox[h]:t.layoutBox[h],p=Ue(f);f.min=s[h].min,f.max=f.min+p}):_y(i,t.layoutBox,s)&&ut(h=>{const f=a?t.measuredBox[h]:t.layoutBox[h],p=Ue(s[h]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const l=Os();qr(l,s,t.layoutBox);const c=Os();a?qr(c,e.applyTransform(r,!0),t.measuredBox):qr(c,s,t.layoutBox);const u=!by(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const x=fe();Hr(x,t.layoutBox,f.layoutBox);const y=fe();Hr(y,s,p.layoutBox),jy(x,y)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=x,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function VP(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function BP(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function qP(e){e.clearSnapshot()}function gp(e){e.clearMeasurements()}function HP(e){e.isLayoutDirty=!1}function WP(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function vp(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function GP(e){e.resolveTargetDelta()}function KP(e){e.calcProjection()}function JP(e){e.resetSkewAndRotation()}function YP(e){e.removeLeadSnapshot()}function xp(e,t,n){e.translate=ae(t.translate,0,n),e.scale=ae(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function yp(e,t,n,s){e.min=ae(t.min,n.min,s),e.max=ae(t.max,n.max,s)}function QP(e,t,n,s){yp(e.x,t.x,n.x,s),yp(e.y,t.y,n.y,s)}function XP(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const ZP={duration:.45,ease:[.4,0,.1,1]},wp=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),bp=wp("applewebkit/")&&!wp("chrome/")?Math.round:vt;function jp(e){e.min=bp(e.min),e.max=bp(e.max)}function eA(e){jp(e.x),jp(e.y)}function _y(e,t,n){return e==="position"||e==="preserve-aspect"&&!tP(mp(t),mp(n),.2)}function tA(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const nA=ky({attachResizeListener:(e,t)=>Ei(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ul={current:void 0},Ny=ky({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ul.current){const e=new nA({});e.mount(window),e.setOptions({layoutScroll:!0}),Ul.current=e}return Ul.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),sA={pan:{Feature:xP},drag:{Feature:vP,ProjectionNode:Ny,MeasureLayout:xy}};function Sp(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,i=s[r];i&&ce.postRender(()=>i(t,$i(t)))}class rA extends In{mount(){const{current:t}=this.node;t&&(this.unmount=LC(t,(n,s)=>(Sp(this.node,s,"Start"),r=>Sp(this.node,r,"End"))))}unmount(){}}class iA extends In{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Di(Ei(this.node.current,"focus",()=>this.onFocus()),Ei(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function kp(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),i=s[r];i&&ce.postRender(()=>i(t,$i(t)))}class aA extends In{mount(){const{current:t}=this.node;t&&(this.unmount=$C(t,(n,s)=>(kp(this.node,s,"Start"),(r,{success:i})=>kp(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const du=new WeakMap,$l=new WeakMap,oA=e=>{const t=du.get(e.target);t&&t(e)},lA=e=>{e.forEach(oA)};function cA({root:e,...t}){const n=e||document;$l.has(n)||$l.set(n,{});const s=$l.get(n),r=JSON.stringify(t);return s[r]||(s[r]=new IntersectionObserver(lA,{root:e,...t})),s[r]}function uA(e,t,n){const s=cA(t);return du.set(e,n),s.observe(e),()=>{du.delete(e),s.unobserve(e)}}const dA={some:0,all:1};class hA extends In{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:i}=t,a={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:dA[r]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return uA(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(fA(t,n))&&this.startObserver()}unmount(){}}function fA({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const mA={inView:{Feature:hA},tap:{Feature:aA},focus:{Feature:iA},hover:{Feature:rA}},pA={layout:{ProjectionNode:Ny,MeasureLayout:xy}},hu={current:null},Ey={current:!1};function gA(){if(Ey.current=!0,!!Nd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>hu.current=e.matches;e.addListener(t),t()}else hu.current=!1}const vA=new WeakMap;function xA(e,t,n){for(const s in t){const r=t[s],i=n[s];if(Le(r))e.addValue(s,r);else if(Le(i))e.addValue(s,Zs(r,{owner:e}));else if(i!==r)if(e.hasValue(s)){const a=e.getValue(s);a.liveStyle===!0?a.jump(r):a.hasAnimated||a.set(r)}else{const a=e.getStaticValue(s);e.addValue(s,Zs(a!==void 0?a:r,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const _p=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class yA{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:i,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=qd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Ge.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,ce.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Ho(n),this.isVariantNode=Kx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const p=h[f];c[f]!==void 0&&Le(p)&&p.set(c[f],!1)}}mount(t){this.current=t,vA.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),Ey.current||gA(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:hu.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Cn(this.notifyUpdate),Cn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=ur.has(t);s&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&ce.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{r(),i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in er){const n=er[t];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[t]&&r&&s(this.props)&&(this.features[t]=new r(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):fe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<_p.length;s++){const r=_p[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i="on"+r,a=t[i];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=xA(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Zs(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(ix(s)||ax(s))?s=parseFloat(s):!zC(s)&&Tn.test(n)&&(s=zx(t,n)),this.setBaseTarget(t,Le(s)?s.get():s)),Le(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const a=th(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);a&&(s=a[t])}if(n&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!Le(r)?r:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Rd),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Cy extends yA{constructor(){super(...arguments),this.KeyframeResolver=PC}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Le(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Ty(e,{style:t,vars:n},s,r){Object.assign(e.style,t,r&&r.getProjectionStyles(s));for(const i in n)e.style.setProperty(i,n[i])}function wA(e){return window.getComputedStyle(e)}class bA extends Cy{constructor(){super(...arguments),this.type="html",this.renderInstance=Ty}readValueFromInstance(t,n){var s;if(ur.has(n))return(s=this.projection)!=null&&s.isProjecting?Zc(n):JE(t,n);{const r=wA(t),i=(Ld(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return my(t,n)}build(t,n,s){Xd(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return nh(t,n,s)}}const Py=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jA(e,t,n,s){Ty(e,t,void 0,s);for(const r in t.attrs)e.setAttribute(Py.has(r)?r:Qd(r),t.attrs[r])}class SA extends Cy{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=fe}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ur.has(n)){const s=Fx(n);return s&&s.default||0}return n=Py.has(n)?n:Qd(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return ry(t,n,s)}build(t,n,s){ey(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,r){jA(t,n,s,r)}mount(t){this.isSVGTag=ny(t.tagName),super.mount(t)}}const kA=(e,t)=>eh(e)?new SA(t):new bA(t,{allowProjection:e!==v.Fragment}),_A=bT({...GT,...mA,...sA,...pA},kA),Te=WC(_A),NA=()=>{const[e,t]=v.useState(""),[n,s]=v.useState(""),[r,i]=v.useState("idle"),[a,l]=v.useState(""),c=async u=>{u.preventDefault(),i("loading"),l("");try{const h=await(await fetch("/api/waitlist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,province:n})})).json();h.success?(i("success"),t(""),s("")):(i("error"),l(h.error||"Something went wrong."))}catch{i("error"),l("Network error.")}};return o.jsxs("div",{className:"min-h-screen bg-white",children:[o.jsxs("div",{className:"relative bg-gradient-to-b from-teal-50 to-white overflow-hidden",children:[o.jsx(Te.div,{className:"absolute top-0 left-1/2 w-[600px] h-[600px] bg-teal-100 rounded-full opacity-30 -translate-x-1/2 -z-10",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:1.2,ease:"easeOut"}}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-16 text-center",children:[o.jsx(Te.h1,{className:"text-4xl md:text-6xl font-bold text-slate-900 mb-4",initial:{y:-40,opacity:0},animate:{y:0,opacity:1},transition:{duration:.7},children:"Streamline Your EIT Journey"}),o.jsx(Te.p,{className:"text-2xl text-teal-700 mb-2 font-semibold",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.7},children:"Your path to engineering excellence starts here."}),o.jsx(Te.p,{className:"text-xl text-slate-600 mb-8 max-w-3xl mx-auto",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4,duration:.7},children:"Accreda helps engineers track, document, and manage their professional development journey towards becoming an Engineer in Training (EIT)."}),o.jsxs(Te.div,{className:"flex flex-col sm:flex-row gap-4 justify-center",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.6,duration:.5},children:[o.jsx(ft,{to:"/signup",className:"btn btn-primary text-lg px-8 py-3",children:"Get Started"}),o.jsx(ft,{to:"/login",className:"btn btn-secondary text-lg px-8 py-3",children:"Sign In"}),o.jsx("a",{href:"#features",className:"btn btn-outline text-lg px-8 py-3 border-teal-500 text-teal-700 hover:bg-teal-50 transition",children:"Learn More"})]})]})]}),o.jsx("div",{className:"bg-yellow-50 border-b border-yellow-200 py-12",children:o.jsxs("div",{className:"max-w-2xl mx-auto px-4 text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-yellow-800 mb-2",children:"Currently Available Only in Alberta (APEGA)"}),o.jsx("p",{className:"text-yellow-700 mb-6",children:"We're working hard to expand Accreda to other provinces. Join our waitlist to be notified when we launch in your area!"}),o.jsxs("form",{className:"flex flex-col sm:flex-row gap-3 justify-center items-center",onSubmit:c,children:[o.jsx("input",{type:"email",required:!0,placeholder:"Your email",className:"border border-yellow-300 rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-400",value:e,onChange:u=>t(u.target.value),disabled:r==="loading"}),o.jsxs("select",{required:!0,className:"border border-yellow-300 rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-400",value:n,onChange:u=>s(u.target.value),disabled:r==="loading",children:[o.jsx("option",{value:"",children:"Select province"}),o.jsx("option",{value:"AB",children:"Alberta"}),o.jsx("option",{value:"BC",children:"British Columbia"}),o.jsx("option",{value:"MB",children:"Manitoba"}),o.jsx("option",{value:"NB",children:"New Brunswick"}),o.jsx("option",{value:"NL",children:"Newfoundland and Labrador"}),o.jsx("option",{value:"NS",children:"Nova Scotia"}),o.jsx("option",{value:"ON",children:"Ontario"}),o.jsx("option",{value:"PE",children:"Prince Edward Island"}),o.jsx("option",{value:"QC",children:"Quebec"}),o.jsx("option",{value:"SK",children:"Saskatchewan"}),o.jsx("option",{value:"NT",children:"Northwest Territories"}),o.jsx("option",{value:"NU",children:"Nunavut"}),o.jsx("option",{value:"YT",children:"Yukon"})]}),o.jsx("button",{type:"submit",className:"btn btn-primary px-6 py-2",disabled:r==="loading",children:r==="loading"?"Joining...":"Join Waitlist"})]}),r==="success"&&o.jsx("div",{className:"text-green-700 mt-3",children:"Thank you! You've been added to the waitlist."}),r==="error"&&o.jsx("div",{className:"text-red-700 mt-3",children:a})]})}),o.jsx("div",{id:"features",className:"py-20 bg-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsx(Te.h2,{className:"text-3xl font-bold text-center text-slate-900 mb-4",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.7},children:"Everything You Need to Succeed"}),o.jsx(Te.p,{className:"text-lg text-center text-slate-600 mb-12 max-w-2xl mx-auto",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2,duration:.7},children:"Accreda provides a comprehensive suite of tools to help you document, track, and showcase your engineering journey with confidence."}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[0,1,2].map(u=>o.jsxs(Te.div,{className:"card hover:scale-105 transition-transform",initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2+u*.15,duration:.7},children:[u===0&&o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center mb-4",children:o.jsx(vd,{className:"w-6 h-6 text-teal-600"})}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Skill Tracking"}),o.jsx("p",{className:"text-slate-600",children:"Track your progress across all required engineering competencies with our intuitive skill assessment system."})]}),u===1&&o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center mb-4",children:o.jsx(us,{className:"w-6 h-6 text-teal-600"})}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Experience Documentation"}),o.jsx("p",{className:"text-slate-600",children:"Document your engineering experiences with our structured templates and guidance."})]}),u===2&&o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center mb-4",children:o.jsx(Uo,{className:"w-6 h-6 text-teal-600"})}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:"SAO Management"}),o.jsx("p",{className:"text-slate-600",children:"Create and manage your Self-Assessment Outcomes with our AI-powered writing assistant."})]})]},u))})]})}),o.jsx("div",{className:"py-20 bg-slate-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsx(Te.h2,{className:"text-3xl font-bold text-center text-slate-900 mb-12",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.7},children:"Why Choose Accreda?"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[0,1,2,3].map(u=>o.jsxs(Te.div,{className:"flex items-start space-x-4",initial:{opacity:0,x:u%2===0?-40:40},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:.2+u*.1,duration:.7},children:[u===0&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(ss,{className:"w-6 h-6 text-teal-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Structured Progress Tracking"}),o.jsx("p",{className:"text-slate-600",children:"Stay organized with our comprehensive tracking system for skills, experiences, and documentation."})]})]}),u===1&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(Fo,{className:"w-6 h-6 text-teal-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Supervisor Collaboration"}),o.jsx("p",{className:"text-slate-600",children:"Streamline the approval process with our integrated supervisor review system."})]})]}),u===2&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(yd,{className:"w-6 h-6 text-teal-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Time-Saving Tools"}),o.jsx("p",{className:"text-slate-600",children:"Our AI-powered writing assistant helps you draft professional documentation quickly."})]})]}),u===3&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx($k,{className:"w-6 h-6 text-teal-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Progress Analytics"}),o.jsx("p",{className:"text-slate-600",children:"Get clear insights into your progress with detailed analytics and visualizations."})]})]})]},u))}),o.jsxs(Te.div,{className:"mt-16 max-w-2xl mx-auto bg-white rounded-xl shadow-lg p-8 text-center",initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:.5,duration:.7},children:[o.jsx("p",{className:"text-lg italic text-slate-700 mb-4",children:'"Accreda made my EIT journey so much easier. The skill tracking and supervisor collaboration features are game changers!"'}),o.jsx("div",{className:"font-semibold text-slate-900",children:"— Alex P., EIT Candidate"})]})]})}),o.jsx("div",{className:"py-20 bg-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[o.jsx(Te.h2,{className:"text-3xl font-bold text-slate-900 mb-6",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.7},children:"Ready to Start Your EIT Journey?"}),o.jsx(Te.p,{className:"text-xl text-slate-600 mb-8 max-w-2xl mx-auto",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2,duration:.7},children:"Join thousands of engineers who are using Accreda to streamline their path to becoming an Engineer in Training."}),o.jsxs(Te.div,{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:.4,duration:.5},children:[o.jsxs(ft,{to:"/signup",className:"btn btn-primary text-lg px-8 py-3 inline-flex items-center",children:["Get Started Now",o.jsx(Ev,{className:"ml-2 w-5 h-5"})]}),o.jsx("a",{href:"#features",className:"btn btn-outline text-lg px-8 py-3 border-teal-500 text-teal-700 hover:bg-teal-50 transition",children:"See How It Works"})]})]})}),o.jsx("footer",{className:"bg-slate-900 text-white py-12",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Accreda"}),o.jsx("p",{className:"text-slate-400",children:"Helping engineers achieve their professional goals through structured development and documentation."}),o.jsxs("div",{className:"flex space-x-4 mt-4",children:[o.jsx(Te.a,{href:"#",whileHover:{scale:1.2,rotate:10},className:"text-slate-400 hover:text-white transition","aria-label":"Twitter",children:o.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M24 4.557a9.93 9.93 0 0 1-2.828.775 4.932 4.932 0 0 0 2.165-2.724c-.951.564-2.005.974-3.127 1.195A4.92 4.92 0 0 0 16.616 3c-2.73 0-4.942 2.21-4.942 4.932 0 .386.045.762.127 1.124C7.728 8.807 4.1 6.884 1.671 3.965c-.423.722-.666 1.561-.666 2.475 0 1.708.87 3.216 2.188 4.099a4.904 4.904 0 0 1-2.239-.616c-.054 2.281 1.581 4.415 3.949 4.89a4.936 4.936 0 0 1-2.224.084c.627 1.956 2.444 3.377 4.6 3.417A9.867 9.867 0 0 1 0 21.543a13.94 13.94 0 0 0 7.548 2.209c9.057 0 14.009-7.496 14.009-13.986 0-.213-.005-.425-.014-.636A9.936 9.936 0 0 0 24 4.557z"})})}),o.jsx(Te.a,{href:"#",whileHover:{scale:1.2,rotate:-10},className:"text-slate-400 hover:text-white transition","aria-label":"LinkedIn",children:o.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M19 0h-14c-2.76 0-5 2.24-5 5v14c0 2.76 2.24 5 5 5h14c2.76 0 5-2.24 5-5v-14c0-2.76-2.24-5-5-5zm-11 19h-3v-10h3v10zm-1.5-11.28c-.966 0-1.75-.79-1.75-1.76s.784-1.76 1.75-1.76 1.75.79 1.75 1.76-.784 1.76-1.75 1.76zm13.5 11.28h-3v-5.6c0-1.34-.03-3.07-1.87-3.07-1.87 0-2.16 1.46-2.16 2.97v5.7h-3v-10h2.89v1.36h.04c.4-.76 1.37-1.56 2.82-1.56 3.01 0 3.57 1.98 3.57 4.56v5.64z"})})})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx(ft,{to:"/login",className:"text-slate-400 hover:text-white",children:"Sign In"})}),o.jsx("li",{children:o.jsx(ft,{to:"/signup",className:"text-slate-400 hover:text-white",children:"Sign Up"})}),o.jsx("li",{children:o.jsx(ft,{to:"/help",className:"text-slate-400 hover:text-white",children:"Help & Support"})})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contact"}),o.jsxs("ul",{className:"space-y-2 text-slate-400",children:[o.jsx("li",{children:"Email: support@accreda.com"}),o.jsx("li",{children:"Phone: (555) 123-4567"})]})]})]}),o.jsx("div",{className:"border-t border-slate-800 mt-8 pt-8 text-center text-slate-400",children:o.jsxs("p",{children:["© ",new Date().getFullYear()," Accreda. All rights reserved."]})})]})})]})},Np=({onSubmit:e,onCancel:t,isEditing:n,job:s,onJobChange:r,onSkillsToggle:i,onSkillsPopupOpen:a,skillCategories:l})=>{var c;return o.jsxs("div",{className:"mb-6 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[o.jsx("h3",{className:"font-medium mb-4",children:n?"Edit Job":"Add New Job"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Job Title"}),o.jsx("input",{type:"text",value:s.title||"",onChange:u=>r("title",u.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 min-w-[200px]",placeholder:"e.g., Software Engineer",maxLength:100})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Company"}),o.jsx("input",{type:"text",value:s.company||"",onChange:u=>r("company",u.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 min-w-[200px]",placeholder:"e.g., Tech Corp",maxLength:100})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Location"}),o.jsx("input",{type:"text",value:s.location||"",onChange:u=>r("location",u.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 min-w-[200px]",placeholder:"e.g., San Francisco, CA",maxLength:100})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Start Date"}),o.jsx("input",{type:"date",value:s.start_date||"",onChange:u=>r("start_date",u.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 min-w-[150px]"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"End Date"}),o.jsx("input",{type:"date",value:s.end_date||"",onChange:u=>r("end_date",u.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 min-w-[150px]",placeholder:"Present"})]})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),o.jsx("textarea",{value:s.description||"",onChange:u=>r("description",u.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 min-w-[200px]",rows:3,placeholder:"Brief description of your role and responsibilities",maxLength:500})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Skills"}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:(s.skills||[]).map(u=>{const d=l.flatMap(h=>h.skills).find(h=>h.id===u);return d?o.jsxs("span",{className:"px-2 py-1 bg-slate-100 text-slate-700 rounded-full text-xs flex items-center gap-1",children:[d.name,o.jsx("button",{onClick:()=>i(u),className:"text-slate-400 hover:text-red-600",children:o.jsx(gt,{size:12})})]},u):null})}),o.jsx("button",{onClick:a,className:"btn btn-secondary w-full",children:(c=s.skills)!=null&&c.length?"Edit Skills":"Select Skills"})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[o.jsx("button",{onClick:t,className:"btn btn-secondary",children:"Cancel"}),o.jsx("button",{onClick:e,className:"btn btn-primary",children:n?"Update Job":"Save Job"})]})]})},EA=()=>{const[e,t]=v.useState([]),[n,s]=v.useState({}),[r,i]=v.useState({}),[a,l]=v.useState(!1),[c,u]=v.useState(null),[d,h]=v.useState(null),[f,p]=v.useState(!0),{skillCategories:x}=Ut(),[y,b]=v.useState({title:"",company:"",location:"",start_date:"",end_date:"",description:"",skills:[]}),[m,g]=v.useState(null),w=async()=>{p(!0);try{const{data:{user:T}}=await P.auth.getUser();if(!T)return;const U=await P.from("jobs").select("id, title, company, location, start_date, end_date, description, skills").eq("eit_id",T.id).order("start_date",{ascending:!1});t(U.data||[]);const A=(U.data||[]).map(C=>C.id);let M={data:[]};A.length>0&&(M=await P.from("job_references").select("id, job_id, full_name, email, description, reference_number, created_at, updated_at").in("job_id",A));const E=await P.from("validators").select("id, eit_id, skill_id, full_name, email, description, created_at, updated_at").eq("eit_id",T.id);let R=[];!M.error&&Array.isArray(M.data)&&(R=M.data);const $=R.reduce((C,D)=>(C[D.job_id]||(C[D.job_id]=[]),C[D.job_id].push(D),C),{});if(s($),E.data){const C=E.data.reduce((D,V)=>(D[V.skill_id]||(D[V.skill_id]=[]),D[V.skill_id].push(V),D),{});i(C)}}catch(T){console.error("Error loading jobs, references, or validators:",T)}finally{p(!1)}};v.useEffect(()=>{w();const T=sessionStorage.getItem("pendingScroll");if(T){try{const A=JSON.parse(T);A&&A.itemId&&A.itemType&&g({itemId:A.itemId,itemType:A.itemType})}catch{}sessionStorage.removeItem("pendingScroll")}const U=A=>{console.log("Scroll event received, queuing:",A.detail);const{itemId:M,itemType:E}=A.detail;M&&E&&g({itemId:M,itemType:E})};return window.addEventListener("scroll-to-item",U),()=>{window.removeEventListener("scroll-to-item",U)}},[]),v.useEffect(()=>{if(!m||f){m&&f&&console.log("Holding scroll for item",m.itemId,"due to main loading state.");return}const{itemId:T,itemType:U}=m;let A=null,M=!1;if(console.log(`Processing pending scroll for ${U} ${T}`),U==="job"){M=!0;const E=`[data-job-id="${T}"]`;console.log("Attempting to find job element with selector:",E),A=document.querySelector(E)}else if(U==="reference")if(Object.keys(n).length>0||e.some(E=>{var R;return(R=n[E.id])==null?void 0:R.some($=>$.id===T)})){M=!0;const E=`[data-reference-id="${T}"]`;console.log("Attempting to find reference element with selector:",E),A=document.querySelector(E)}else console.log("References data not yet populated enough to find item:",T);else if(U==="validator"){let E=Object.keys(r).length>0,R=null;for(const $ in r)if(r[$].some(C=>C.id===T)){R=$;break}if(R&&e.some($=>{var C;return(C=$.skills)==null?void 0:C.includes(R)})?M=!0:E?(M=!0,console.log("Validator data seems generally loaded, attempting query for:",T)):console.log("Validators data not yet populated enough to find item:",T),M){const $=`[data-validator-id="${T}"]`;console.log("Attempting to find validator element with selector:",$),A=document.querySelector($)}}if(M&&A)console.log(`Performing queued scroll for ${U} ${T} to element:`,A),requestAnimationFrame(()=>{requestAnimationFrame(()=>{A.scrollIntoView({behavior:"smooth",block:"center"}),A.classList.add("highlight-item"),setTimeout(()=>{A==null||A.classList.remove("highlight-item")},2e3)})}),g(null);else if(M&&!A){let E=0;const R=30,$=U==="job"?`[data-job-id="${T}"]`:U==="reference"?`[data-reference-id="${T}"]`:U==="validator"?`[data-validator-id="${T}"]`:"";if(!$){g(null);return}const C=setInterval(()=>{const D=document.querySelector($);E++,D?(console.log(`Polling found element for ${U} ${T} after ${E} attempts.`),D.scrollIntoView({behavior:"smooth",block:"center"}),D.classList.add("highlight-item"),setTimeout(()=>{D.classList.remove("highlight-item")},2e3),clearInterval(C),g(null)):E>=R&&(console.warn(`Polling failed to find element for ${U} ${T} after ${E} attempts.`),clearInterval(C),g(null))},100)}else M||console.log(`Data not yet ready for ${U} ${T}. Scroll remains pending. Will retry on next data update.`)},[m,e,n,r,f]);const j=async()=>{try{const{data:{user:T}}=await P.auth.getUser();if(!T)return;const{error:U}=await P.from("jobs").insert([{...y,eit_id:T.id,skills:y.skills||[]}]);if(U)throw U;b({title:"",company:"",location:"",start_date:"",end_date:"",description:"",skills:[]}),l(!1),await w(),window.dispatchEvent(new Event("jobs-updated"))}catch(T){console.error("Error adding job:",T)}},S=async(T,U)=>{try{const{data:{user:A}}=await P.auth.getUser();if(!A){console.error("No user found");return}const{data:M,error:E}=await P.from("jobs").select("*").eq("id",T).single();if(E)throw console.error("Error fetching existing job:",E),E;if(!M){console.error("Job not found");return}const R={title:y.title||M.title,description:y.description||M.description,skills:U||y.skills||[],eit_id:A.id};console.log("Updating job with data:",{jobId:T,updateData:R,currentSkills:y.skills});const{error:$}=await P.from("jobs").update(R).eq("id",T).eq("eit_id",A.id);if($)throw console.error("Error updating job:",$),$;b({title:"",company:"",location:"",start_date:"",end_date:"",description:"",skills:[]}),u(null),await w(),window.dispatchEvent(new Event("jobs-updated"))}catch(A){console.error("Error in handleUpdateJob:",A)}},_=async T=>{try{const{error:U}=await P.from("jobs").delete().eq("id",T);if(U)throw U;await w(),window.dispatchEvent(new Event("jobs-updated"))}catch(U){console.error("Error deleting job:",U)}},k=T=>{b({...T,skills:T.skills||[]}),u(T.id)},N=T=>{b(U=>{const A=U.skills||[],M=A.includes(T)?A.filter(E=>E!==T):[...A,T];return console.log("Updating skills:",{currentSkills:A,updatedSkills:M,skillId:T}),{...U,skills:M}})},O=(T,U)=>{b(A=>({...A,[T]:U}))},I=()=>{const T=Ae.useRef(null),[U,A]=Ae.useState([]),M=Ae.useRef(null);Ae.useEffect(()=>{d&&M.current!==d&&(A(y.skills?[...y.skills]:[]),M.current=d),d||(M.current=null)},[d,y.skills]);const E=Ae.useRef(0),R=C=>{T.current&&(E.current=T.current.scrollTop),A(D=>D.includes(C)?D.filter(V=>V!==C):[...D,C])};Ae.useLayoutEffect(()=>{T.current&&(T.current.scrollTop=E.current)}),Ae.useEffect(()=>{T.current&&(E.current=T.current.scrollTop)},[U]);const $=async()=>{d!=="new"&&d&&(await S(d,U),await w()),h(null)};return o.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 transition-opacity duration-200 ${d?"":"hidden"}`,children:o.jsxs("div",{ref:T,className:"bg-white rounded-lg p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Select Skills"}),o.jsx("button",{onClick:()=>h(null),className:"text-slate-400 hover:text-slate-600",children:o.jsx(gt,{size:20})})]}),o.jsx("div",{className:"space-y-4",children:x.map(C=>o.jsxs("div",{className:"border rounded-lg p-4",children:[o.jsx("h4",{className:"font-medium mb-2",children:C.name}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:C.skills.map(D=>o.jsxs("label",{className:"flex items-center space-x-2 p-2 rounded hover:bg-slate-50 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:U.includes(D.id),onChange:()=>R(D.id),className:"rounded text-teal-600 focus:ring-teal-500"}),o.jsx("span",{className:"text-sm",children:D.name})]},D.id))})]},C.name))}),o.jsx("div",{className:"flex justify-end mt-6",children:o.jsx("button",{onClick:$,className:"btn btn-primary",children:"Done"})})]})})};return v.useEffect(()=>{a&&!c&&b({title:"",company:"",location:"",start_date:"",end_date:"",description:"",skills:[]})},[a,c]),f?o.jsx("div",{className:"card animate-pulse",children:o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"h-6 bg-slate-200 rounded w-1/4 mb-4"}),o.jsx("div",{className:"space-y-4",children:[1,2,3].map(T=>o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"w-24 h-24 bg-slate-200 rounded"}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/3"}),o.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4"})]})]},T))})]})}):o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Work Experience"}),o.jsx("p",{className:"text-slate-500 mt-1",children:"Track your professional journey and achievements"})]}),o.jsxs("button",{onClick:()=>l(!0),className:"btn btn-primary flex items-center gap-2 shadow-sm hover:shadow-md transition-all duration-200",children:[o.jsx(gi,{size:16}),"Add Experience"]})]}),a&&o.jsx("div",{className:"mb-8",children:o.jsx(Np,{onSubmit:j,onCancel:()=>{l(!1),b({title:"",company:"",location:"",start_date:"",end_date:"",description:"",skills:[]})},isEditing:!1,job:y,onJobChange:O,onSkillsToggle:N,onSkillsPopupOpen:()=>h("new"),skillCategories:x})}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gradient-to-b from-teal-500 via-blue-400 to-indigo-500"}),o.jsxs("div",{className:"space-y-8",children:[e.map((T,U)=>{var A,M,E,R,$;return o.jsxs("div",{className:"relative pl-12","data-job-id":T.id,"data-reference-id":(M=(A=n[T.id])==null?void 0:A[0])==null?void 0:M.id,"data-validator-id":(E=T.skills)!=null&&E[0]?($=(R=r[T.skills[0]])==null?void 0:R[0])==null?void 0:$.id:void 0,children:[o.jsx("div",{className:"absolute left-0 w-8 h-8 rounded-full bg-gradient-to-br from-teal-400 to-blue-500 border-4 border-white flex items-center justify-center shadow-lg z-10",children:o.jsx(fi,{size:16,className:"text-white"})}),c===T.id?o.jsx(Np,{onSubmit:()=>S(T.id),onCancel:()=>{u(null),b({title:"",company:"",location:"",start_date:"",end_date:"",description:"",skills:[]})},isEditing:!0,job:y,onJobChange:O,onSkillsToggle:N,onSkillsPopupOpen:()=>h(T.id),skillCategories:x}):o.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm hover:shadow-md transition-all duration-200",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-1",children:T.title}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-slate-600 font-medium",children:T.company}),o.jsx("span",{className:"text-slate-400",children:"•"}),o.jsx("span",{className:"text-slate-500",children:T.location})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>{b({...T,skills:T.skills||[]}),h(T.id)},className:"p-2 text-slate-400 hover:text-teal-600 hover:bg-teal-50 rounded-lg transition-all duration-200",title:"Edit Skills",children:o.jsx(gi,{size:16})}),o.jsx("button",{onClick:()=>k(T),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200",title:"Edit Job",children:o.jsx(pi,{size:16})}),o.jsx("button",{onClick:()=>_(T.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200",title:"Delete Job",children:o.jsx(or,{size:16})})]})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(xd,{size:16,className:"text-teal-500"}),o.jsxs("span",{children:[new Date(T.start_date).toLocaleDateString("en-US",{year:"numeric",month:"long"})," - ",T.end_date?new Date(T.end_date).toLocaleDateString("en-US",{year:"numeric",month:"long"}):"Present"]})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Rv,{size:16,className:"text-teal-500"}),o.jsx("span",{children:T.location})]})]}),T.description&&o.jsx("p",{className:"text-slate-600 mb-4 leading-relaxed",children:T.description}),T.skills&&T.skills.length>0&&o.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx(ss,{size:16,className:"text-green-500"}),o.jsx("h4",{className:"text-sm font-semibold text-green-700 uppercase tracking-wide",children:"Skills & Validators"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:T.skills.map(C=>{const D=x.flatMap(K=>K.skills).find(K=>K.id===C),V=r[C]||[];return D?o.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-teal-50 rounded-full px-3 py-1.5 border border-green-100 text-sm text-green-800 flex items-center gap-2 shadow-sm",children:[o.jsx("span",{className:"font-medium",children:D.name}),D.rank&&o.jsxs("span",{className:"ml-2 px-2 py-0.5 bg-green-100 text-green-700 rounded-full text-xs font-semibold",children:["Score ",D.rank]}),V.length>0&&o.jsx("span",{className:"ml-2 flex items-center gap-1",children:V.map(K=>o.jsx("span",{className:"bg-white border border-green-200 rounded-full px-2 py-0.5 text-green-700 text-xs font-medium ml-1",children:K.full_name},K.id))})]},C):null})})]})]})]},T.id)}),e.length===0&&!a&&o.jsxs("div",{className:"text-center py-12 bg-slate-50 rounded-xl border-2 border-dashed border-slate-200",children:[o.jsx(fi,{size:32,className:"mx-auto mb-3 text-slate-400"}),o.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-2",children:"No work experience added yet"}),o.jsx("p",{className:"text-slate-500 mb-4",children:"Start building your professional profile by adding your work experience"}),o.jsx("button",{onClick:()=>l(!0),className:"btn btn-primary",children:"Add your first job"})]})]})]})]}),o.jsx(I,{}),o.jsx("style",{children:`
          .highlight-item {
            animation: highlight 2s ease-out;
          }

          @keyframes highlight {
            0% {
              background-color: rgba(99, 102, 241, 0.1);
            }
            100% {
              background-color: transparent;
            }
          }
        `})]})},CA=({isOpen:e,onClose:t,skillName:n,skillId:s,existingValidator:r,onSave:i,status:a,loadValidators:l})=>{const[c,u]=v.useState({fullName:(r==null?void 0:r.full_name)||"",email:(r==null?void 0:r.email)||"",description:(r==null?void 0:r.description)||""}),[d,h]=v.useState(!1),[f,p]=v.useState(null);v.useEffect(()=>{e&&u(r?{fullName:r.full_name,email:r.email,description:r.description}:{fullName:"",email:"",description:""})},[e,r,s]);const x=async y=>{y.preventDefault(),h(!0),p(null);try{const{data:{user:b}}=await P.auth.getUser();if(!b)throw new Error("No authenticated user");if(r){const{error:m}=await P.from("validators").update({full_name:c.fullName,email:c.email,description:c.description}).eq("id",r.id);if(m)throw m}else{const{error:m}=await P.from("validators").insert([{eit_id:b.id,skill_id:s,full_name:c.fullName,email:c.email,description:c.description}]);if(m)throw m}i(),t(),setTimeout(()=>l(),300)}catch(b){console.error("Validator insert error:",b),p(b instanceof Error?b.message:JSON.stringify(b))}finally{h(!1)}};return e?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold",children:[r?"Edit":"Add"," Validator for ",n]}),o.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600",children:o.jsx(gt,{size:24})})]}),f&&o.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:o.jsx("p",{className:"text-sm text-red-600",children:f})}),o.jsxs("form",{onSubmit:x,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),o.jsx("input",{type:"text",value:c.fullName,onChange:y=>u(b=>({...b,fullName:y.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter validator's full name",required:!0,disabled:a!=="draft"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),o.jsx("input",{type:"email",value:c.email,onChange:y=>u(b=>({...b,email:y.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter validator's email",required:!0,disabled:a!=="draft"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),o.jsx("textarea",{value:c.description,onChange:y=>u(b=>({...b,description:y.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter description of validation",rows:4,required:!0,disabled:a!=="draft"})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 rounded-lg",disabled:d,children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 hover:bg-teal-700 rounded-lg disabled:opacity-50",disabled:d,children:d?"Saving...":r?"Update Validator":"Add Validator"})]})]})]})}):null},TA=({isOpen:e,onClose:t,job:n,referenceNumber:s,existingReference:r,onSave:i})=>{const[a,l]=v.useState({fullName:"",email:"",referenceText:""}),[c,u]=v.useState(!1),[d,h]=v.useState(null);v.useEffect(()=>{e&&l(r?{fullName:r.full_name,email:r.email,referenceText:r.description}:{fullName:"",email:"",referenceText:""})},[e,r]);const f=async p=>{p.preventDefault(),u(!0),h(null);try{const{data:{user:x}}=await P.auth.getUser();if(!x)throw new Error("No authenticated user");const y={job_id:n.id,full_name:a.fullName,email:a.email,description:a.referenceText,reference_number:s,eit_id:x.id};if(console.log("Reference data to insert/update:",y),r){const{error:b}=await P.from("job_references").update(y).eq("id",r.id);if(b)throw console.error("Update error:",b),b}else{const{error:b}=await P.from("job_references").insert([y]);if(b)throw console.error("Insert error:",b),b}i(),t()}catch(x){console.error("ReferencePopup error:",x),h(x instanceof Error?x.message:"An error occurred")}finally{u(!1)}};return e?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold",children:[r?"Edit":"Add"," Reference ",s," for ",n.title," at ",n.company]}),o.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600",children:o.jsx(gt,{size:24})})]}),d&&o.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:o.jsx("p",{className:"text-sm text-red-600",children:d})}),o.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),o.jsx("input",{type:"text",value:a.fullName,onChange:p=>l(x=>({...x,fullName:p.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter reference's full name",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),o.jsx("input",{type:"email",value:a.email,onChange:p=>l(x=>({...x,email:p.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter reference's email",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Reference Text"}),o.jsx("textarea",{value:a.referenceText,onChange:p=>l(x=>({...x,referenceText:p.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter reference text",rows:4,required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 rounded-lg",disabled:c,children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 hover:bg-teal-700 rounded-lg disabled:opacity-50",disabled:c,children:c?"Saving...":r?"Update Reference":"Add Reference"})]})]})]})}):null},PA=()=>{var U;const[e,t]=v.useState("references"),[n,s]=v.useState(null),[r,i]=v.useState(null),[a,l]=v.useState(null),[c,u]=v.useState(null),[d,h]=v.useState(null),[f,p]=v.useState({}),[x,y]=v.useState({}),[b,m]=v.useState([]),{skillCategories:g}=Ut(),w=v.useRef(null),j=v.useRef(null),S=v.useRef(null),_=g.map(A=>({...A,skills:A.skills.filter(M=>M.status==="completed"||M.rank!==void 0)})).filter(A=>A.skills.length>0),k=async()=>{try{const{data:{user:A}}=await P.auth.getUser();if(!A)return;const{data:M,error:E}=await P.from("validators").select("*").eq("eit_id",A.id);if(E)throw E;const R=M.reduce(($,C)=>($[C.skill_id]||($[C.skill_id]=[]),$[C.skill_id].push(C),$),{});p(R)}catch(A){console.error("Error loading validators:",A)}},N=async()=>{try{const{data:{user:A}}=await P.auth.getUser();if(!A)return;const{data:M,error:E}=await P.from("jobs").select("*").eq("eit_id",A.id).order("start_date",{ascending:!1});if(E)throw E;m(M||[])}catch(A){console.error("Error loading jobs:",A)}},O=async()=>{try{const{data:{user:A}}=await P.auth.getUser();if(!A)return;const{data:M,error:E}=await P.from("job_references").select("*").eq("eit_id",A.id);if(E)throw E;const R=M.reduce(($,C)=>($[C.job_id]||($[C.job_id]=[]),$[C.job_id].push(C),$),{});y(R)}catch(A){console.error("Error loading references:",A)}};v.useEffect(()=>{k(),N(),O()},[]),v.useEffect(()=>{const A=M=>{const{itemId:E,itemType:R}=M.detail||{},$=()=>{var V,K;const C=R==="reference"?`[data-reference-id="${E}"]`:R==="validator"?`[data-validator-id="${E}"]`:R==="job"?`[data-job-id="${E}"]`:"";if(!C)return;const D=document.querySelector(C);D&&(R==="reference"?(t("references"),(V=j.current)==null||V.scrollIntoView({behavior:"smooth",block:"start"})):R==="validator"&&(t("validators"),(K=S.current)==null||K.scrollIntoView({behavior:"smooth",block:"start"})),setTimeout(()=>{D.scrollIntoView({behavior:"smooth",block:"center"}),D.classList.add("highlight-item"),D.classList.add("animate-bounce-subtle"),setTimeout(()=>{D.classList.remove("highlight-item","animate-bounce-subtle")},2e3)},300))};requestAnimationFrame(()=>{R==="reference"&&e!=="references"||R==="validator"&&e!=="validators"?setTimeout($,100):$()})};return window.addEventListener("scroll-to-item",A),()=>window.removeEventListener("scroll-to-item",A)},[e]),v.useEffect(()=>{const A=()=>{N(),O()};return window.addEventListener("jobs-updated",A),()=>window.removeEventListener("jobs-updated",A)},[]);const I=()=>{k()},T=()=>{O()};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",ref:w,children:o.jsxs("h1",{className:"text-2xl font-semibold text-slate-900 flex items-center",children:[o.jsx(Cv,{size:24,className:"mr-2 text-teal-600"}),"Jobs"]})}),o.jsx(EA,{}),o.jsxs("div",{className:"card",ref:j,children:[o.jsxs("div",{className:"flex border-b border-slate-200",children:[o.jsx("button",{onClick:()=>t("references"),className:`flex-1 py-3 px-4 text-sm font-medium ${e==="references"?"text-teal-600 border-b-2 border-teal-600":"text-slate-500 hover:text-slate-700"}`,children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx(Fo,{size:18}),"References"]})}),o.jsx("button",{onClick:()=>t("validators"),className:`flex-1 py-3 px-4 text-sm font-medium ${e==="validators"?"text-teal-600 border-b-2 border-teal-600":"text-slate-500 hover:text-slate-700"}`,children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx(ss,{size:18}),"Validators"]})})]}),o.jsx("div",{className:"p-6",ref:S,children:e==="references"?o.jsx("div",{className:"space-y-6",children:b.length>0?b.map(A=>o.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4","data-job-id":A.id,children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-slate-900",children:A.title}),o.jsx("p",{className:"text-slate-600",children:A.company})]}),o.jsx("div",{className:"flex gap-2",children:[1,2].map(M=>{var R;const E=(R=x[A.id])==null?void 0:R.find($=>$.reference_number===M);return E?o.jsxs("button",{onClick:()=>{l(A),u(E),h(M),window.dispatchEvent(new CustomEvent("scroll-to-item",{detail:{itemId:E.id,itemType:"reference"}}))},className:"px-3 py-1.5 text-sm font-medium text-slate-600 hover:text-slate-700 hover:bg-slate-50 rounded-lg transition-colors flex items-center gap-2","data-reference-id":E.id,children:[o.jsx(pi,{size:14}),"Reference ",M,": ",E.full_name]},E.id):o.jsxs("button",{onClick:()=>{l(A),u(null),h(M)},className:"px-3 py-1.5 text-sm font-medium text-teal-600 hover:text-teal-700 hover:bg-teal-50 rounded-lg transition-colors flex items-center gap-2",children:[o.jsx(gi,{size:14}),"Add Reference ",M]},M)})})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500 mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(xd,{size:14}),o.jsxs("span",{children:[new Date(A.start_date).toLocaleDateString()," - ",A.end_date?new Date(A.end_date).toLocaleDateString():"Present"]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Rv,{size:14}),o.jsx("span",{children:A.location})]})]}),A.description&&o.jsx("p",{className:"text-slate-600 text-sm mb-3",children:A.description}),A.skills&&A.skills.length>0&&o.jsxs("div",{className:"mt-3",children:[o.jsx("h4",{className:"text-sm font-medium text-slate-700 mb-2",children:"Skills:"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:A.skills.map(M=>{const E=g.flatMap(R=>R.skills).find(R=>R.id===M);return E?o.jsx("span",{className:"px-2 py-1 bg-slate-100 text-slate-700 rounded-full text-xs",children:E.name},M):null})})]})]},A.id)):o.jsxs("div",{className:"text-center py-8 text-slate-500",children:[o.jsx(fi,{size:24,className:"mx-auto mb-2 text-slate-400"}),o.jsx("p",{children:"No work experience added yet"}),o.jsx("p",{className:"text-sm mt-1",children:"Add jobs in the Work Experience section above"})]})}):o.jsx("div",{className:"space-y-6",children:_.length>0?_.map(A=>o.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4",children:[o.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:A.name}),o.jsx("div",{className:"space-y-4",children:A.skills.map(M=>{var E;return o.jsx("div",{className:"flex items-center justify-between","data-skill-id":M.id,children:o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-slate-800",children:M.name}),o.jsxs("div",{className:"flex items-center gap-2",children:[(E=f[M.id])==null?void 0:E.map(R=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{onClick:()=>{R.status==="draft"&&(s(M.id),i(R),window.dispatchEvent(new CustomEvent("scroll-to-item",{detail:{itemId:R.id,itemType:"validator"}})))},className:`px-3 py-1.5 text-sm font-medium rounded-lg transition-colors flex items-center gap-2 ${R.status!=="draft"?"bg-slate-100 text-slate-400 cursor-not-allowed":"text-slate-600 hover:text-slate-700 hover:bg-slate-50"}`,"data-validator-id":R.id,disabled:R.status!=="draft",children:[o.jsx(pi,{size:14}),R.full_name]}),o.jsx("span",{className:`ml-2 px-2 py-0.5 rounded text-xs font-semibold ${R.status==="draft"?"bg-yellow-100 text-yellow-800":R.status==="pending"?"bg-blue-100 text-blue-800":R.status==="scored"?"bg-green-100 text-green-800":"bg-slate-100 text-slate-500"}`,children:R.status.charAt(0).toUpperCase()+R.status.slice(1)}),R.status==="scored"&&o.jsxs("span",{className:"ml-2 text-green-700 font-bold",children:["Score: ",R.score]}),R.status==="draft"&&o.jsx("button",{className:"ml-2 px-2 py-0.5 text-xs font-medium bg-blue-600 text-white rounded hover:bg-blue-700",onClick:async()=>{await P.from("validators").update({status:"pending"}).eq("id",R.id),setTimeout(()=>k(),300)},children:"Send for Validation"}),(R.status==="draft"||R.status==="pending")&&o.jsx("button",{className:"btn btn-danger btn-xs",onClick:async()=>{await P.from("validators").delete().eq("id",R.id),setTimeout(()=>k(),300)},children:"Cancel"})]},R.id)),(!f[M.id]||f[M.id].length===0)&&o.jsx("button",{onClick:()=>{s(M.id),i(null)},className:"px-3 py-1.5 text-sm font-medium text-teal-600 hover:text-teal-700 hover:bg-teal-50 rounded-lg transition-colors",children:"Add Validator"})]})]})},M.id)})})]},A.name)):o.jsxs("div",{className:"text-center py-8 text-slate-500",children:[o.jsx(ss,{size:24,className:"mx-auto mb-2 text-slate-400"}),o.jsx("p",{children:"No completed skills yet"}),o.jsx("p",{className:"text-sm mt-1",children:"Complete skills in the Skills section to see them here"})]})})})]}),o.jsx(CA,{isOpen:n!==null,onClose:()=>{s(null),i(null)},skillName:n&&((U=g.flatMap(A=>A.skills).find(A=>A.id===n))==null?void 0:U.name)||"",skillId:n||"",existingValidator:r||void 0,onSave:I,status:(r==null?void 0:r.status)??"draft",loadValidators:k}),o.jsx(TA,{isOpen:a!==null&&d!==null,onClose:()=>{l(null),u(null),h(null)},job:a,referenceNumber:d,existingReference:c||void 0,onSave:T})]})};function AA(e={}){const{nonce:t,onScriptLoadSuccess:n,onScriptLoadError:s}=e,[r,i]=v.useState(!1),a=v.useRef(n);a.current=n;const l=v.useRef(s);return l.current=s,v.useEffect(()=>{const c=document.createElement("script");return c.src="https://accounts.google.com/gsi/client",c.async=!0,c.defer=!0,c.nonce=t,c.onload=()=>{var u;i(!0),(u=a.current)===null||u===void 0||u.call(a)},c.onerror=()=>{var u;i(!1),(u=l.current)===null||u===void 0||u.call(l)},document.body.appendChild(c),()=>{document.body.removeChild(c)}},[t]),r}const Ay=v.createContext(null);function Ry({clientId:e,nonce:t,onScriptLoadSuccess:n,onScriptLoadError:s,children:r}){const i=AA({nonce:t,onScriptLoadSuccess:n,onScriptLoadError:s}),a=v.useMemo(()=>({clientId:e,scriptLoadedSuccessfully:i}),[e,i]);return Ae.createElement(Ay.Provider,{value:a},r)}function RA(){const e=v.useContext(Ay);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}function OA({flow:e="implicit",scope:t="",onSuccess:n,onError:s,onNonOAuthError:r,overrideScope:i,state:a,...l}){const{clientId:c,scriptLoadedSuccessfully:u}=RA(),d=v.useRef(),h=v.useRef(n);h.current=n;const f=v.useRef(s);f.current=s;const p=v.useRef(r);p.current=r,v.useEffect(()=>{var b,m;if(!u)return;const g=e==="implicit"?"initTokenClient":"initCodeClient",w=(m=(b=window==null?void 0:window.google)===null||b===void 0?void 0:b.accounts)===null||m===void 0?void 0:m.oauth2[g]({client_id:c,scope:i?t:`openid profile email ${t}`,callback:j=>{var S,_;if(j.error)return(S=f.current)===null||S===void 0?void 0:S.call(f,j);(_=h.current)===null||_===void 0||_.call(h,j)},error_callback:j=>{var S;(S=p.current)===null||S===void 0||S.call(p,j)},state:a,...l});d.current=w},[c,u,e,t,a]);const x=v.useCallback(b=>{var m;return(m=d.current)===null||m===void 0?void 0:m.requestAccessToken(b)},[]),y=v.useCallback(()=>{var b;return(b=d.current)===null||b===void 0?void 0:b.requestCode()},[]);return e==="implicit"?x:y}const IA=({onMenuClick:e})=>o.jsxs("header",{className:"fixed top-0 right-0 left-0 md:left-64 bg-white/80 backdrop-blur-md z-10 border-b border-slate-200 px-4 py-3 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[e&&o.jsx("button",{className:"md:hidden p-2 rounded-lg text-slate-500 hover:bg-slate-100 mr-2",onClick:e,"aria-label":"Open sidebar menu",children:o.jsx(Ov,{size:24})}),o.jsx("div",{className:"ml-2 md:ml-0",children:o.jsx("h1",{className:"text-xl font-semibold text-slate-800",children:"Supervisor Dashboard"})})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"hidden md:block",children:o.jsx(Kv,{})}),o.jsxs("button",{className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100 relative","aria-label":"Notifications",children:[o.jsx(Mo,{size:20}),o.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),o.jsx(Uv,{})]})]}),LA=({appLoaded:e})=>{const[t,n]=v.useState(!1);return o.jsxs("div",{className:"min-h-screen bg-slate-50",children:[o.jsx("div",{className:"hidden md:block",children:o.jsx(Wc,{})}),t&&o.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[o.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:()=>n(!1)}),o.jsx("div",{className:"fixed inset-y-0 left-0 w-full max-w-xs bg-white shadow-xl",children:o.jsx(Wc,{onClose:()=>n(!1)})})]}),o.jsxs("div",{className:"md:pl-64 flex flex-col min-h-screen",children:[o.jsx(IA,{onMenuClick:()=>n(!0)}),o.jsx("main",{className:"flex-1 p-4 md:p-6 pt-20 md:pt-24 pb-20 md:pb-6",children:o.jsx(X0,{context:{appLoaded:e}})})]})]})},Fi=()=>o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-teal-500"})}),DA=({isOpen:e,onClose:t,children:n})=>e?o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-lg w-full relative",children:[o.jsx("button",{className:"absolute top-2 right-2 text-slate-400 hover:text-slate-600 text-xl font-bold",onClick:t,"aria-label":"Close",children:"×"}),n]})}):null,MA=async e=>{try{const[t,n,s]=await Promise.all([P.from("eit_skills").select("id",{count:"exact",head:!0}).eq("eit_id",e).not("rank","is",null),P.from("experiences").select("id",{count:"exact",head:!0}).eq("eit_id",e),P.from("experiences").select("id",{count:"exact",head:!0}).eq("eit_id",e).eq("supervisor_approved",!0)]);if(t.error||n.error||s.error)throw new Error("Failed to fetch EIT progress");const r=t.count||0,i=n.count||0,a=s.count||0,l=r/22,c=i/24,u=a/24;return{overallProgress:Math.round((l+c+u)/3*100),completedSkills:r,documentedExperiences:i,supervisorApprovals:a}}catch(t){return console.error("Error fetching EIT progress:",t),{overallProgress:0,completedSkills:0,documentedExperiences:0,supervisorApprovals:0}}},UA=()=>{const[e,t]=v.useState(!0),[n,s]=v.useState(null),[r,i]=v.useState([]),[a,l]=v.useState([]),[c,u]=v.useState({}),[d,h]=v.useState(null),[f,p]=v.useState([]),[x,y]=v.useState(!1),[b,m]=v.useState({});v.useEffect(()=>{(async()=>{t(!0),s(null);try{const{data:{user:S}}=await P.auth.getUser();if(!S){s("No user found");return}const[_,k]=await Promise.all([P.from("supervisor_eit_relationships").select("id, eit_id, status, created_at, eit_profiles (id, full_name, email)").eq("supervisor_id",S.id).eq("status","pending"),P.from("supervisor_eit_relationships").select("eit_id, eit_profiles (id, full_name, email)").eq("supervisor_id",S.id).eq("status","active")]);if(_.error)throw _.error;if(k.error)throw k.error;const N=(_.data||[]).map(A=>({...A,eit_profiles:Array.isArray(A.eit_profiles)?A.eit_profiles[0]:A.eit_profiles}));i(N);const O=(k.data||[]).map(A=>Array.isArray(A.eit_profiles)?A.eit_profiles[0]:A.eit_profiles);l(O);const I=O.map(A=>MA(A.id)),T=await Promise.all(I),U=O.map((A,M)=>[A.id,T[M]]);u(Object.fromEntries(U))}catch(S){console.error("Error fetching team data:",S),s("Failed to load team data. Please try again.")}finally{t(!1)}})()},[]);const g=async(j,S)=>{t(!0);try{const{error:_}=await P.from("supervisor_eit_relationships").update({status:S?"active":"denied",updated_at:new Date().toISOString()}).eq("id",j);if(_)throw _;if(i(k=>k.filter(N=>N.id!==j)),S){const k=r.find(N=>N.id===j);k&&l(N=>[...N,k.eit_profiles])}}catch(_){console.error("Error handling request:",_),s("Failed to process request. Please try again.")}finally{t(!1)}},w=async j=>{h(j),y(!0);const S=await P.auth.getUser();console.log("Supervisor auth user:",S),console.log("SupervisorTeam: Fetching skills for EIT",j.id);const{data:_,error:k}=await P.from("eit_skills").select("skill_id, rank, supervisor_score, category_name, skill_name, status, eit_id").eq("eit_id",j.id);k&&console.error("Supabase error:",k),console.log("Fetched skills:",_);const N=(_||[]).filter(I=>I.supervisor_score!==null&&I.supervisor_score!==void 0),O={};N.forEach(I=>{O[I.category_name]||(O[I.category_name]=[]),O[I.category_name].push(I)}),console.log("Grouped by category:",O),Object.keys(O).forEach(I=>{O[I].sort((T,U)=>{const A=parseFloat((T.skill_name.match(/^[\d.]+/)||[0])[0]),M=parseFloat((U.skill_name.match(/^[\d.]+/)||[0])[0]);return A-M})}),m(O),y(!1)};return e?o.jsx(Fi,{}):n?o.jsx("div",{className:"p-6 text-red-600",children:n}):o.jsxs("div",{className:"p-6",children:[o.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Team"}),r.length>0&&o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-8",children:[o.jsx("h2",{className:"text-lg font-semibold mb-2 text-yellow-800",children:"Pending Requests"}),o.jsx("div",{className:"space-y-3",children:r.map(j=>o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 border-b border-yellow-100 pb-2 last:border-0",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:j.eit_profiles.full_name})," (",j.eit_profiles.email,")",o.jsxs("span",{className:"ml-2 text-xs text-slate-500",children:["Requested on ",new Date(j.created_at).toLocaleDateString()]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>g(j.id,!0),children:"Accept"}),o.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>g(j.id,!1),children:"Deny"})]})]},j.id))})]}),o.jsx("div",{className:"bg-white rounded-lg shadow mb-8",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Team Members"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(j=>{const S=c[j.id];return o.jsxs("div",{className:"border-b border-gray-200 pb-4 last:border-0",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),o.jsx("button",{className:"font-medium text-teal-700 hover:underline",onClick:()=>w(j),children:j.full_name})]}),o.jsxs("div",{className:"mt-2",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),o.jsx("p",{className:"font-medium",children:j.email})]}),S&&o.jsxs("div",{className:"mt-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Overall Progress"}),o.jsxs("span",{className:"text-sm font-semibold text-teal-600",children:[S.overallProgress,"%"]})]}),o.jsx("div",{className:"h-2 bg-slate-100 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-teal-500 rounded-full transition-all duration-300",style:{width:`${S.overallProgress}%`}})}),o.jsxs("div",{className:"flex gap-4 mt-2 text-xs text-slate-500",children:[o.jsxs("span",{children:["Skills: ",S.completedSkills,"/22"]}),o.jsxs("span",{children:["Experiences: ",S.documentedExperiences,"/24"]}),o.jsxs("span",{children:["Approvals: ",S.supervisorApprovals,"/24"]})]})]})]},j.id)})})]})}),d&&o.jsx(DA,{isOpen:!!d,onClose:()=>h(null),children:o.jsxs("div",{className:"p-6 max-w-lg mx-auto",children:[o.jsxs("h2",{className:"text-xl font-bold mb-4",children:[d.full_name,"'s Marked Skills"]}),x?o.jsx("div",{children:"Loading..."}):Object.keys(b).length===0?o.jsx("div",{children:"No marked skills found."}):o.jsx("div",{className:"space-y-4",children:Object.entries(b).map(([j,S])=>o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-slate-800 mb-2",children:j}),o.jsx("ul",{className:"list-disc ml-6",children:S.map(_=>o.jsxs("li",{className:"mb-1",children:[o.jsx("span",{className:"font-medium",children:_.skill_name}),o.jsxs("span",{className:"text-xs text-slate-500 ml-2",children:["(EIT Score: ",_.rank,", Validator Score: ",_.supervisor_score,")"]})]},_.skill_id))})]},j))})]})})]})},$A=()=>o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Reviews"}),o.jsx("p",{children:"View and manage pending and completed reviews. (Coming soon)"})]}),FA=()=>o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Documents"}),o.jsx("p",{children:"Access and share documents with your team. (Coming soon)"})]}),zA=[{name:"Free",price:"$0",description:"Perfect for getting started",features:["Basic progress tracking","Up to 5 documents","Standard support","Basic analytics"],buttonText:"Current Plan",isPopular:!1}],VA=()=>{var M;const[e,t]=v.useState(null),[n,s]=v.useState(""),[r,i]=v.useState(""),[a,l]=v.useState(""),[c,u]=v.useState(!1),[d,h]=v.useState({type:"",text:""}),[f,p]=v.useState(!1),[x,y]=v.useState(!1),[b,m]=v.useState(!1),[g,w]=v.useState(""),[j,S]=v.useState(""),[_,k]=v.useState(""),[N,O]=v.useState(""),[I,T]=v.useState("Free");v.useEffect(()=>{(async()=>{var $;const{data:{user:R}}=await P.auth.getUser();R&&(t(R),s((($=R.user_metadata)==null?void 0:$.full_name)||""),i(R.email||""),l(R.email||""))})()},[]);const U=async E=>{E.preventDefault(),u(!0),h({type:"",text:""});try{const R={};f&&(R.data={full_name:n}),x&&a!==r&&(R.email=a);const{error:$}=await P.auth.updateUser(R);if($)throw $;if(f&&e){const{error:D}=await P.from("supervisor_profiles").update({full_name:n}).eq("id",e.id);if(D)throw D}h({type:"success",text:"Profile updated successfully!"}),p(!1),y(!1);const{data:{user:C}}=await P.auth.getUser();C&&(t(C),i(C.email||""),l(C.email||""))}catch(R){h({type:"error",text:"Failed to update profile. Please try again."}),console.error("Error updating profile:",R)}finally{u(!1)}},A=E=>E.split(" ").map(R=>R[0]).join("").toUpperCase();return o.jsxs("div",{className:"max-w-3xl mx-auto p-6 space-y-8",children:[o.jsxs("section",{className:"card p-6 flex flex-col md:flex-row gap-6 items-center",children:[o.jsx("div",{className:"flex flex-col items-center",children:o.jsx("div",{className:"relative",children:(M=e==null?void 0:e.user_metadata)!=null&&M.avatar_url?o.jsx("img",{src:e.user_metadata.avatar_url,className:"w-24 h-24 rounded-full object-cover bg-slate-100",alt:"Profile"}):o.jsx("div",{className:"w-24 h-24 rounded-full bg-teal-500 flex items-center justify-center text-white text-3xl font-bold",children:A(n||r)})})}),o.jsxs("form",{className:"flex-1 space-y-4 w-full",onSubmit:U,children:[o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[o.jsx(Mv,{})," Profile Information",o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"SUPERVISOR"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"fullName",className:"label",children:"Full Name"}),f?o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{type:"text",id:"fullName",value:n,onChange:E=>s(E.target.value),className:"input",placeholder:"Enter your full name"}),o.jsx("div",{className:"flex space-x-2",children:o.jsx("button",{type:"button",onClick:()=>p(!1),className:"btn btn-secondary",children:"Cancel"})})]}):o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{children:n||"Not set"}),o.jsx("button",{type:"button",onClick:()=>p(!0),className:"text-sm text-teal-600 hover:text-teal-700",children:"Edit"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"label",children:"Email Address"}),x?o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{type:"email",id:"newEmail",value:a,onChange:E=>l(E.target.value),className:"input",placeholder:"Enter your new email"}),o.jsx("p",{className:"text-sm text-slate-500",children:"After changing your email, you'll need to use the new email address to log in."}),o.jsx("div",{className:"flex space-x-2",children:o.jsx("button",{type:"button",onClick:()=>y(!1),className:"btn btn-secondary",children:"Cancel"})})]}):o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{children:r}),o.jsx("button",{type:"button",onClick:()=>y(!0),className:"text-sm text-teal-600 hover:text-teal-700",children:"Edit"})]})]}),(f||x)&&o.jsx("button",{type:"submit",disabled:c,className:"btn btn-primary",children:c?"Saving...":"Save Changes"})]})]}),o.jsxs("section",{className:"card p-6",children:[o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[o.jsx(Av,{})," Security"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"label",children:"Password"}),b?o.jsxs("div",{className:"space-y-4",children:[o.jsx("input",{type:"password",id:"currentPassword",value:g,onChange:E=>w(E.target.value),className:"input",placeholder:"Current password"}),o.jsx("input",{type:"password",id:"newPassword",value:j,onChange:E=>S(E.target.value),className:"input",placeholder:"New password"}),o.jsx("input",{type:"password",id:"confirmPassword",value:_,onChange:E=>k(E.target.value),className:"input",placeholder:"Confirm new password"}),N&&o.jsx("p",{className:"text-sm text-red-600",children:N}),o.jsx("div",{className:"flex space-x-2",children:o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-secondary",children:"Cancel"})})]}):o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{children:"••••••••"}),o.jsx("button",{type:"button",onClick:()=>m(!0),className:"text-sm text-teal-600 hover:text-teal-700",children:"Change"})]})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:"label",children:"Two-Factor Authentication"}),o.jsx("p",{className:"text-slate-500 text-sm",children:"Coming soon: Add an extra layer of security to your account."})]})]})]}),o.jsxs("section",{className:"card p-6",children:[o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[o.jsx(Mo,{})," Notifications"]}),o.jsx("p",{className:"text-slate-500 text-sm",children:"Coming soon: Manage your email and in-app notification preferences."})]}),o.jsxs("section",{className:"card p-6",children:[o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[o.jsx(Dv,{})," Appearance"]}),o.jsx("p",{className:"text-slate-500 text-sm",children:"Coming soon: Switch between light and dark mode."})]}),o.jsxs("section",{className:"card p-6",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Subscription Plan"}),o.jsx("div",{className:"grid gap-6 md:grid-cols-1",children:zA.map(E=>o.jsxs("div",{className:`relative rounded-lg border ${E.isPopular?"border-teal-500":"border-slate-200"} p-6`,children:[E.isPopular&&o.jsx("span",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-teal-500 text-white px-3 py-1 rounded-full text-sm",children:"Most Popular"}),o.jsx("h3",{className:"text-lg font-semibold",children:E.name}),o.jsx("div",{className:"mt-2 flex items-baseline",children:o.jsx("span",{className:"text-2xl font-bold",children:E.price})}),o.jsx("p",{className:"mt-2 text-sm text-slate-500",children:E.description}),o.jsx("ul",{className:"mt-4 space-y-2",children:E.features.map(R=>o.jsxs("li",{className:"flex items-center",children:[o.jsx(Tv,{className:"h-4 w-4 text-teal-500 mr-2"}),o.jsx("span",{className:"text-sm text-slate-600",children:R})]},R))}),o.jsx("button",{className:`mt-6 w-full rounded-md px-4 py-2 text-sm font-medium ${E.isPopular?"bg-teal-600 text-white hover:bg-teal-700":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,disabled:!0,children:E.buttonText})]},E.name))})]}),o.jsxs("section",{className:"card p-6 border-red-200",children:[o.jsxs("h2",{className:"text-lg font-semibold text-red-600 flex items-center gap-2 mb-2",children:[o.jsx(or,{})," Danger Zone"]}),o.jsx("button",{className:"btn btn-danger",children:"Delete Account"}),o.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"This action is irreversible. Your data will be permanently deleted."})]}),d.text&&o.jsx("div",{className:`fixed bottom-4 right-4 p-4 rounded-md z-50 ${d.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:d.text})]})},BA=()=>o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Support"}),o.jsx("p",{children:"Get help and support for supervisor features. (Coming soon)"})]}),ma=({title:e,value:t,total:n=100,description:s,color:r})=>{const[i,a]=v.useState(0),l=Math.round(t/n*100);v.useEffect(()=>{const u=setTimeout(()=>{requestAnimationFrame(()=>{a(l)})},100);return()=>clearTimeout(u)},[l]);const c={teal:{bg:"bg-teal-500",text:"text-teal-700",lightBg:"bg-teal-100"},blue:{bg:"bg-blue-500",text:"text-blue-700",lightBg:"bg-blue-100"},indigo:{bg:"bg-indigo-500",text:"text-indigo-700",lightBg:"bg-indigo-100"},purple:{bg:"bg-purple-500",text:"text-purple-700",lightBg:"bg-purple-100"}};return o.jsxs("div",{className:"card hover:scale-[1.02] transition-transform duration-200",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsx("h3",{className:"font-medium text-slate-800",children:e}),o.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-slate-100",children:o.jsxs("span",{className:`text-sm font-semibold ${c[r].text}`,children:[l,"%"]})})]}),o.jsx("div",{className:"progress-bar mb-2",children:o.jsx("div",{className:`progress-bar-fill ${c[r].bg}`,style:{width:`${i}%`,transition:"width 0.8s cubic-bezier(0.4, 0, 0.2, 1)"}})}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-slate-500",children:s}),n!==100&&o.jsxs("span",{className:"font-medium text-slate-700",children:[t,"/",n]})]})]})},qA=()=>{const{appLoaded:e}=K0(),[t,n]=v.useState(!0),[s,r]=v.useState([]),[i,a]=v.useState([]),[l,c]=v.useState({totalEITs:0,pendingReviews:0,completedReviews:0,averageTeamProgress:0}),[u,d]=v.useState("Supervisor"),[h,f]=v.useState(new Date().toISOString()),[p,x]=v.useState(!1),y=async()=>{try{x(!0);const{data:{user:m}}=await P.auth.getUser();if(!m)return;const{data:g}=await P.from("supervisor_profiles").select("full_name").eq("id",m.id).single();g&&g.full_name&&d(g.full_name);const{data:w,error:j}=await P.from("supervisor_eit_relationships").select(`
          eit_id,
          eit_profiles (
            id,
            full_name,
            email
          )
        `).eq("supervisor_id",m.id).eq("status","active");if(j)throw j;let S=[];w&&(S=w.map(U=>U.eit_profiles),r(S));const{data:_,error:k}=await P.from("experiences").select("*").in("eit_id",S.map(U=>U.id)).eq("status","pending").eq("needs_supervisor_review",!0);if(k)throw k;const{data:N,error:O}=await P.from("experiences").select("*").in("eit_id",S.map(U=>U.id)).eq("status","approved").eq("needs_supervisor_review",!1);if(O)throw O;c({totalEITs:S.length,pendingReviews:(_==null?void 0:_.length)||0,completedReviews:(N==null?void 0:N.length)||0,averageTeamProgress:0});const{data:I,error:T}=await P.from("experiences").select("*").in("eit_id",S.map(U=>U.id)).order("created_at",{ascending:!1}).limit(5);if(T)throw T;a(I||[]),f(new Date().toISOString())}catch(m){console.error("Error fetching dashboard data:",m)}finally{n(!1),x(!1)}};v.useEffect(()=>{y()},[]);const b=m=>new Date(m).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return t&&e?o.jsx(Fi,{}):o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800 flex items-center gap-2",children:["Welcome back, ",u,"!"]}),o.jsx("p",{className:"text-slate-500 mt-1",children:"Here's an overview of your team's progress"})]}),o.jsxs("div",{className:"flex items-center space-x-2 mt-4 md:mt-0",children:[o.jsxs("span",{className:"text-sm text-slate-500 flex items-center",children:["Last updated: ",b(h)]}),o.jsx("button",{className:`btn btn-primary ${p?"opacity-75 cursor-not-allowed":""}`,onClick:y,disabled:p,children:p?"Refreshing...":"Refresh"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[o.jsx(ma,{title:"Total EITs",value:l.totalEITs,description:"EITs under your supervision",color:"teal"}),o.jsx(ma,{title:"Pending Reviews",value:l.pendingReviews,description:"Items awaiting your review",color:"blue"}),o.jsx(ma,{title:"Completed Reviews",value:l.completedReviews,description:"Reviews completed",color:"indigo"}),o.jsx(ma,{title:"Team Progress",value:l.averageTeamProgress,total:100,description:"Average team completion rate",color:"purple"})]}),s.length>0&&o.jsx("div",{className:"card mb-8",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Team Members"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:s.map(m=>o.jsxs("div",{className:"border-b border-gray-200 pb-4 last:border-0",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),o.jsx("p",{className:"font-medium",children:m.full_name})]}),o.jsxs("div",{className:"mt-2",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),o.jsx("p",{className:"font-medium",children:m.email})]})]},m.id))})]})}),o.jsx("div",{className:"card",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Recent Activities"}),o.jsxs("div",{className:"space-y-4",children:[i.length===0&&o.jsx("div",{className:"text-slate-400",children:"No recent activities"}),i.map(m=>o.jsxs("div",{className:"border-b border-gray-200 pb-4 last:border-0",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:m.title}),o.jsx("p",{className:"text-sm text-gray-500",children:m.description})]}),o.jsx("span",{className:"text-sm text-gray-500",children:new Date(m.created_at).toLocaleDateString()})]}),o.jsx("div",{className:"mt-2",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m.status==="approved"?"bg-green-100 text-green-800":m.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:m.status.charAt(0).toUpperCase()+m.status.slice(1)})})]},m.id))]})]})})]})},HA=qA;let Fl=!1;const WA=()=>{var e,t,n,s,r,i,a,l;if(!Fl)try{Fl=!0,(t=(e=vi.getState()).clearState)==null||t.call(e),(s=(n=Ut.getState()).clearState)==null||s.call(n),(i=(r=Vo.getState()).clearState)==null||i.call(r),(l=(a=Jv.getState()).clearState)==null||l.call(a)}finally{Fl=!1}},GA=()=>{const[e,t]=v.useState(!0),[n,s]=v.useState(null),[r,i]=v.useState(null),a=Ve(),l=v.useCallback(async()=>{try{t(!0),s(null);const{data:{user:c},error:u}=await P.auth.getUser();if(u)throw new Error(`Authentication error: ${u.message}`);if(!c)throw new Error("No authenticated user found");const[d,h]=await Promise.all([P.from("eit_profiles").select("account_type").eq("id",c.id).single(),P.from("supervisor_profiles").select("account_type").eq("id",c.id).single()]);if(d.error&&h.error)throw new Error("Failed to fetch user profiles");if(h.data)i("supervisor"),a("/dashboard/supervisor",{replace:!0});else if(d.data)i("eit"),a("/dashboard",{replace:!0});else throw new Error("No profile found for user")}catch(c){const u=c instanceof Error?c.message:"An unexpected error occurred";s(u),console.error("Error checking user role:",c),a("/login")}finally{t(!1)}},[a]);return v.useEffect(()=>{l();const{data:{subscription:c}}=P.auth.onAuthStateChange(u=>{u==="SIGNED_OUT"?(WA(),a("/login")):u==="SIGNED_IN"&&l()});return()=>{c.unsubscribe()}},[l,a]),e?o.jsx(Fi,{}):n?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsxs("div",{className:"text-red-500 text-center",children:[o.jsxs("p",{children:["Error: ",n]}),o.jsx("button",{onClick:()=>a("/login"),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Return to Login"})]})}):null},Ep=ds(e=>({loading:!1,startWriting:async()=>{e({loading:!0});try{const{data:t}=await P.from("eit_skills").select("*").eq("status","completed"),n=await fetch("https://bbixvnkqroskholbxkgj.supabase.co/functions/v1/generate-essay",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU","Content-Type":"application/json"},body:JSON.stringify({skills:t,experiences:[]})});if(!n.ok)throw new Error("Failed to generate essay");const{essay:s}=await n.json();await P.from("essays").insert({title:"AI Generated Essay",content:s,ai_generated:!0})}finally{e({loading:!1})}}}));class KA extends Ae.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){}render(){return this.state.hasError?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-red-600",children:"Something went wrong."}),o.jsx("pre",{className:"mt-4 text-sm text-slate-700",children:String(this.state.error)})]}):this.props.children}}const JA=Ae.lazy(()=>st(()=>import("./ProgressCard-DaLFSSU3.js"),[])),YA=Ae.lazy(()=>st(()=>import("./RecentActivities-ByzXS6fI.js"),[])),QA=Ae.lazy(()=>st(()=>import("./UpcomingDeadlines-DllQiMMo.js"),[])),XA=Ae.lazy(()=>st(()=>import("./SkillsOverview-CrH9cR6P.js"),[])),ZA=()=>{Ve();const{appLoaded:e}=K0(),[t,n]=v.useState(""),[s,r]=v.useState(null),{overallProgress:i,completedSkills:a,totalSkills:l,documentedExperiences:c,totalExperiences:u,supervisorApprovals:d,totalApprovals:h,lastUpdated:f,loading:p,updateProgress:x,initialize:y}=vi(),b=Ep(H=>H.startWriting),m=Ep(H=>H.loading),g=Ut(H=>H.loadUserSkills),{saos:w,loading:j,loadUserSAOs:S}=Vo(),[_,k]=v.useState(null),[N,O]=v.useState([]),[I,T]=v.useState(!1);console.log("Google Client ID (from import.meta.env):","75421336207-tftquv2i1mvom7ve3abijonie2r70kb6.apps.googleusercontent.com");const[A,M]=v.useState(!0),[E,R]=v.useState(!1),[$,C]=v.useState(null);v.useEffect(()=>{(async()=>{var xe;try{const{data:{user:ye}}=await P.auth.getUser();if(!ye)return;(xe=ye.user_metadata)!=null&&xe.full_name&&n(ye.user_metadata.full_name);const[Qe,ot,Ln,rh,ih]=await Promise.all([P.from("eit_profiles").select("id").eq("id",ye.id).single(),P.from("supervisor_profiles").select("id").eq("id",ye.id).single(),g(),y(),w.length===0&&!j?S():Promise.resolve()]);ot.data?r("supervisor"):Qe.data&&r("eit"),C({eitProfile:Qe.data,supervisorProfile:ot.data})}catch(ye){console.error("Error initializing dashboard data:",ye)}finally{M(!1)}})()},[g,y,w.length,j,S]),v.useEffect(()=>{_&&(T(!0),fetch("https://www.googleapis.com/calendar/v3/calendars/primary/events?maxResults=5&orderBy=startTime&singleEvents=true&timeMin="+new Date().toISOString(),{headers:{Authorization:`Bearer ${_}`}}).then(H=>H.json()).then(H=>{O(H.items||[])}).catch(()=>O([])).finally(()=>T(!1)))},[_]);const D=[{title:"Overall Progress",value:i,description:i>=75?"Excellent progress!":i>=50?"Good progress!":i>=25?"Keep going!":"Just getting started!",color:"teal"},{title:"Completed Skills",value:a,total:l,description:`${l-a} skills remaining to complete`,color:"blue"},{title:"SAOs Completed",value:w.length,total:24,description:`${24-w.length} SAOs remaining to complete`,color:"indigo"},{title:"Supervisor Approvals",value:d,total:h,description:`${h-d} items pending approval`,color:"purple"}],V=H=>new Date(H).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),K=OA({onSuccess:H=>{k(H.access_token)},onError:()=>{alert("Google Login Failed")},scope:"https://www.googleapis.com/auth/calendar.readonly",flow:"implicit"});return A&&e?o.jsx(Fi,{}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800 flex items-center gap-2",children:["Welcome back, ",t||"Engineer","!",s&&o.jsx("span",{className:`ml-2 px-2 py-0.5 rounded text-xs font-semibold
                  ${s==="eit"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:s==="eit"?"EIT":"Supervisor"})]}),o.jsx("p",{className:"text-slate-500 mt-1",children:s==="eit"?"Here's an overview of your EIT progress":"Here's an overview of your team's progress"})]}),o.jsxs("div",{className:"flex items-center space-x-2 mt-4 md:mt-0",children:[o.jsxs("span",{className:"text-sm text-slate-500 flex items-center",children:[o.jsx(yd,{size:14,className:"mr-1"}),"Last updated: ",V(f)]}),o.jsx("button",{className:`btn btn-primary ${E?"opacity-75 cursor-not-allowed":""}`,onClick:async()=>{if(!E){R(!0);try{await Promise.all([g(),x(!0),S()])}catch(H){console.error("Error refreshing dashboard:",H)}finally{R(!1)}}},disabled:E,children:E?"Refreshing...":"Refresh"})]})]}),!1,o.jsx(v.Suspense,{fallback:o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((H,xe)=>o.jsx("div",{className:"card animate-pulse h-32"},xe))}),children:o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:D.map((H,xe)=>o.jsx(JA,{...H},xe))})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"flex justify-between items-center mb-4",children:o.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[o.jsx(xd,{size:18,className:"mr-2 text-teal-600"}),"Recent Activities"]})}),o.jsx(v.Suspense,{fallback:o.jsx("div",{className:"p-6 text-center text-slate-400",children:"Loading activities..."}),children:o.jsx(YA,{})})]}),o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[o.jsx(vd,{size:18,className:"mr-2 text-teal-600"}),"Upcoming Deadlines"]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("button",{className:"text-sm text-teal-600 hover:text-teal-700 flex items-center",children:["View All ",o.jsx(Ev,{size:14,className:"ml-1"})]}),!_&&o.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700 flex items-center border border-blue-200 rounded px-2 py-1 ml-2",onClick:()=>K(),type:"button",children:"Connect Calendar"})]})]}),_?o.jsx("div",{className:"flex justify-center py-4",children:o.jsx("iframe",{src:"https://calendar.google.com/calendar/embed?mode=AGENDA",style:{border:0,width:"100%",height:"400px",minHeight:"300px"},frameBorder:"0",scrolling:"no",title:"Google Calendar"})}):o.jsx(v.Suspense,{fallback:o.jsx("div",{className:"p-6 text-center text-slate-400",children:"Loading deadlines..."}),children:o.jsx(QA,{})})]})]}),o.jsxs("div",{className:"space-y-6",children:[s==="eit"&&o.jsx(v.Suspense,{fallback:o.jsx("div",{className:"card animate-pulse h-32"}),children:o.jsx(XA,{})}),o.jsxs("div",{className:"card border-2 border-teal-100 bg-teal-50/50",children:[o.jsx("h3",{className:"font-semibold text-teal-800 mb-2",children:"AI Writing Assistant"}),o.jsx("p",{className:"text-sm text-teal-700 mb-3",children:"Let our AI help you draft your next Self-Assessment Outcome (SAO) essay based on your documented experiences."}),o.jsx("button",{className:`btn btn-primary w-full ${m?"opacity-75 cursor-not-allowed":""}`,onClick:()=>b(),disabled:m,children:m?"Generating...":"Start Writing"})]})]})]})]})};function eR(){return o.jsx(KA,{children:o.jsx(Ry,{clientId:"75421336207-tftquv2i1mvom7ve3abijonie2r70kb6.apps.googleusercontent.com",children:o.jsx(ZA,{})})})}const tR=()=>{const[e,t]=v.useState(null),[n,s]=v.useState(!0),r=Ve();return v.useEffect(()=>{(async()=>{s(!0);const{data:{user:a}}=await P.auth.getUser();if(!a){r("/login");return}const{data:l}=await P.from("supervisor_profiles").select("id").eq("id",a.id).single();l?r("/dashboard/supervisor",{replace:!0}):t("eit"),s(!1)})()},[r]),n?o.jsx(Fi,{}):e==="eit"?o.jsx(eR,{}):null},nR={"1.1 Regulations, Codes & Standards":"Demonstrates knowledge and application of relevant regulations, codes, standards, and safety requirements in engineering practice. This includes identifying which standards apply to a given project, ensuring compliance, and keeping up to date with changes in the regulatory environment. Example: Ensuring a design meets all applicable building codes and safety standards.","1.2 Technical & Design Constraints":"Understands and works within technical and design constraints, including limitations of materials, processes, and systems. Able to identify constraints early in the design process and adapt solutions accordingly. Example: Designing a bridge that meets both load requirements and material limitations.","1.3 Risk Management for Technical Work":"Identifies, assesses, and manages risks associated with technical work. This includes conducting risk assessments, implementing mitigation strategies, and monitoring risk throughout the project lifecycle. Example: Performing a hazard analysis for a new manufacturing process.","1.4 Application of Theory":"Applies engineering theory and principles to solve practical problems. Demonstrates the ability to use theoretical knowledge in real-world situations. Example: Using fluid dynamics equations to design a piping system.","1.5 Solution Techniques – Results Verification":"Selects and applies appropriate solution techniques and verifies results for accuracy and reliability. Example: Double-checking calculations and using simulation software to validate a design.","1.6 Safety in Design & Technical Work":"Prioritizes safety in all aspects of design and technical work. Identifies potential hazards and incorporates safety measures into engineering solutions. Example: Designing a machine with proper guarding to prevent operator injury.","1.7 Systems & Their Components":"Understands how systems and their components interact. Able to analyze and optimize system performance. Example: Evaluating the impact of a new component on an existing electrical system.","1.8 Project or Asset Life-Cycle Awareness":"Considers the entire life cycle of a project or asset, from conception to decommissioning. Example: Selecting materials that minimize maintenance costs over the lifespan of a product.","1.9 Quality Assurance":"Implements quality assurance processes to ensure deliverables meet required standards. Example: Developing and following a quality control checklist for a construction project.","1.10 Engineering Documentation":"Prepares clear, accurate, and comprehensive engineering documentation. Example: Writing detailed reports, specifications, and drawings that can be understood by others.","2.1 Oral Communication (English)":"Communicates effectively in spoken English with colleagues, clients, and stakeholders. Example: Leading a project meeting or presenting technical information to a non-technical audience.","2.2 Written Communication (English)":"Communicates effectively in written English, producing clear and concise reports, emails, and documentation. Example: Writing a technical report or project proposal.","2.3 Reading & Comprehension (English)":"Reads and comprehends technical documents, standards, and instructions in English. Example: Interpreting a complex engineering standard or technical manual.","3.1 Project Management Principles":"Applies project management principles to plan, execute, and close projects successfully. Example: Creating a project schedule, managing resources, and tracking progress.","3.2 Finances & Budget":"Manages project finances and budgets, including cost estimation, tracking, and reporting. Example: Preparing a project budget and monitoring expenses to stay within limits."},Oy=v.memo(({skill:e,skillRef:t})=>{const[n,s]=v.useState(!1);return o.jsxs(o.Fragment,{children:[o.jsxs("div",{ref:t,className:"flex items-center justify-between p-3 rounded-lg border hover:border-slate-300 hover:bg-slate-50 transition-colors",children:[o.jsx("span",{className:"font-medium",children:e.name}),o.jsx("button",{className:"p-2 rounded-full text-blue-500 hover:bg-blue-50",onClick:()=>s(!0),title:"More Info",children:o.jsx(Qk,{size:18})})]}),n&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full relative",children:[o.jsx("button",{className:"absolute top-2 right-2 text-slate-400 hover:text-slate-600",onClick:()=>s(!1),children:"×"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:e.name}),o.jsx("p",{className:"text-slate-700 text-base",children:nR[e.name]||"No summary available for this skill."})]})})]})});v.memo(({category:e})=>o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"flex justify-between items-center mb-4",children:o.jsx("h2",{className:"text-lg font-semibold",children:e.name})}),o.jsx("div",{className:"space-y-3",children:e.skills.map(t=>o.jsx(Oy,{skill:t},t.id))})]}));const sR=()=>{const{skillCategories:e,loadUserSkills:t,loading:n,error:s}=Ut(),r=v.useRef({});return v.useEffect(()=>{t()},[t]),v.useEffect(()=>{const i=a=>{const{skillId:l,timestamp:c}=a.detail;setTimeout(()=>{const u=r.current[l];u&&(u.scrollIntoView({behavior:"smooth",block:"center"}),u.classList.add("ring","ring-teal-400","highlight-item"),setTimeout(()=>u.classList.remove("ring","ring-teal-400","highlight-item"),1500))},100)};return window.addEventListener("scroll-to-skill",i),()=>window.removeEventListener("scroll-to-skill",i)},[]),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Skills & Competencies"}),o.jsx("p",{className:"text-slate-500 mt-1",children:"View the EIT program competencies"})]}),s&&o.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(gd,{size:18,className:"text-red-600 mt-0.5 flex-shrink-0"}),o.jsx("p",{className:"text-sm text-red-800",children:s})]})}),n?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):o.jsx("div",{className:"space-y-6",children:e.map(i=>o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"flex justify-between items-center mb-4",children:o.jsx("h2",{className:"text-lg font-semibold",children:i.name})}),o.jsx("div",{className:"space-y-3",children:i.skills.map(a=>o.jsx(Oy,{skill:a,skillRef:l=>r.current[a.id]=l},a.id))})]},i.name))})]})};async function rR(e,t,n){const{error:s}=await P.from("eit_skills").update({supervisor_score:n,status:"completed"}).eq("eit_id",e).eq("skill_id",t);if(s)throw console.error("Error updating supervisor score:",s),s}const iR=()=>{const[e,t]=v.useState([]),[n,s]=v.useState(!0),[r,i]=v.useState({}),[a,l]=v.useState({}),[c,u]=v.useState({});v.useEffect(()=>{(async()=>{s(!0);const{data:{user:p}}=await P.auth.getUser();if(!p)return;const{data:x,error:y}=await P.from("validators").select("*").eq("email",p.email).eq("status","pending");if(y||!x){s(!1);return}t(x);const b=Array.from(new Set(x.map(_=>_.eit_id))),m=Array.from(new Set(x.map(_=>_.skill_id))),[{data:g},{data:w}]=await Promise.all([P.from("eit_profiles").select("id, full_name, email").in("id",b),P.from("skills").select("id, name").in("id",m)]),j={};(g||[]).forEach(_=>{j[_.id]=_}),l(j);const S={};(w||[]).forEach(_=>{S[_.id]=_}),u(S),s(!1)})()},[]);const d=(f,p)=>{i(x=>({...x,[f]:p}))},h=async f=>{const p=r[f.id];!p||p<1||p>5||(await P.from("validators").update({status:"scored",score:p}).eq("id",f.id),await rR(f.eit_id,f.skill_id,p),t(x=>x.filter(y=>y.id!==f.id)))};return n?o.jsx("div",{children:"Loading..."}):o.jsxs("div",{className:"p-6",children:[o.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Skill Validation Requests"}),e.length===0?o.jsx("div",{children:"No pending validation requests."}):o.jsx("div",{className:"space-y-4",children:e.map(f=>{const p=a[f.eit_id],x=c[f.skill_id];return o.jsxs("div",{className:"bg-white rounded-lg shadow p-4 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"font-semibold",children:["Skill: ",x?x.name:f.skill_id]}),o.jsxs("div",{className:"text-slate-600",children:["EIT: ",p?`${p.full_name} (${p.email})`:f.eit_id]}),o.jsxs("div",{className:"text-slate-600",children:["Description: ",f.description]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"number",min:1,max:5,value:r[f.id]||"",onChange:y=>d(f.id,Number(y.target.value)),className:"input w-24",placeholder:"Score (1-5)"}),o.jsx("button",{className:"btn btn-primary",onClick:()=>h(f),disabled:!r[f.id]||r[f.id]<1||r[f.id]>5,children:"Submit Score"})]})]},f.id)})})]})};function aR(){const[e,t]=v.useState(null),[n,s]=v.useState(!0),r=vi(u=>u.initialize),i=vi(u=>u.setupRealtimeSubscriptions),a=Ut(u=>u.loadUserSkills),l="75421336207-tftquv2i1mvom7ve3abijonie2r70kb6.apps.googleusercontent.com",c=async()=>{try{console.log("Starting app initialization..."),await a(),console.log("Skills loaded successfully"),await r(),console.log("Progress initialized successfully"),await i(),console.log("Realtime subscriptions set up successfully")}catch(u){console.error("Error initializing app:",u)}};return v.useEffect(()=>{console.log("Checking for existing session..."),P.auth.getSession().then(({data:{session:d}})=>{console.log("Session check result:",d?"Session found":"No session"),t(d),s(!1),d&&(console.log("Session found, initializing app..."),c())});const{data:{subscription:u}}=P.auth.onAuthStateChange((d,h)=>{console.log("Auth state changed:",d,h?"Session present":"No session"),t(h),h&&(console.log("New session detected, initializing app..."),c())});return()=>u.unsubscribe()},[r,i,a]),v.useEffect(()=>{const u="accreda_last_tab_close",h=localStorage.getItem(u);if(h){const p=parseInt(h,10);!isNaN(p)&&Date.now()-p>18e5&&P.auth.signOut().then(()=>{t(null)})}const f=()=>{localStorage.setItem(u,Date.now().toString())};return window.addEventListener("beforeunload",f),()=>{window.removeEventListener("beforeunload",f)}},[]),n?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"})}):o.jsx(Ry,{clientId:l,children:o.jsxs(Z1,{children:[o.jsx(Z,{path:"/",element:e?o.jsx(GA,{}):o.jsx(NA,{})}),o.jsx(Z,{path:"/login",element:e?o.jsx(fs,{to:"/dashboard"}):o.jsx(Ak,{})}),o.jsx(Z,{path:"/signup",element:e?o.jsx(fs,{to:"/dashboard"}):o.jsx(Rk,{})}),o.jsx(Z,{path:"/forgot-password",element:e?o.jsx(fs,{to:"/dashboard"}):o.jsx(Ok,{})}),o.jsx(Z,{path:"/reset-password",element:e?o.jsx(fs,{to:"/dashboard"}):o.jsx(Ik,{})}),o.jsxs(Z,{path:"/dashboard",element:e?o.jsx(H_,{appLoaded:!n}):o.jsx(fs,{to:"/"}),children:[o.jsx(Z,{index:!0,element:o.jsx(tR,{})}),o.jsx(Z,{path:"skills",element:o.jsx(Y_,{})}),o.jsx(Z,{path:"saos",element:o.jsx(VN,{})}),o.jsx(Z,{path:"documents",element:o.jsx(Q_,{})}),o.jsx(Z,{path:"essays",element:o.jsx(X_,{})}),o.jsx(Z,{path:"text-input",element:o.jsx(iN,{})}),o.jsx(Z,{path:"edit-document/:id",element:o.jsx(oN,{})}),o.jsx(Z,{path:"settings",element:o.jsx(cN,{})}),o.jsx(Z,{path:"help",element:o.jsx(BN,{})}),o.jsx(Z,{path:"references",element:o.jsx(PA,{})})]}),o.jsxs(Z,{path:"/dashboard/supervisor",element:e?o.jsx(LA,{appLoaded:!n}):o.jsx(fs,{to:"/"}),children:[o.jsx(Z,{index:!0,element:o.jsx(HA,{})}),o.jsx(Z,{path:"team",element:o.jsx(UA,{})}),o.jsx(Z,{path:"reviews",element:o.jsx($A,{})}),o.jsx(Z,{path:"documents",element:o.jsx(FA,{})}),o.jsx(Z,{path:"settings",element:o.jsx(VA,{})}),o.jsx(Z,{path:"support",element:o.jsx(BA,{})}),o.jsx(Z,{path:"skills",element:o.jsx(sR,{})}),o.jsx(Z,{path:"validation-requests",element:o.jsx(iR,{})})]}),o.jsx(Z,{path:"*",element:o.jsx(aN,{})})]})})}F0(document.getElementById("root")).render(o.jsx(v.StrictMode,{children:o.jsx(lj,{children:o.jsx(aR,{})})}));export{vd as A,fi as B,ss as C,us as F,$f as P,FN as S,Fo as U,gt as X,Ut as a,Ve as b,z as c,fu as g,o as j,v as r,P as s,Vo as u};
