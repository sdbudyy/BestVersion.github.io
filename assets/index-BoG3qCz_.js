function Bb(e,t){for(var s=0;s<t.length;s++){const n=t[s];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in e)){const i=Object.getOwnPropertyDescriptor(n,r);i&&Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();var Be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _d(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function qb(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var s=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(s,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),s}var h0={exports:{}},ul={},f0={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fa=Symbol.for("react.element"),Wb=Symbol.for("react.portal"),Hb=Symbol.for("react.fragment"),Gb=Symbol.for("react.strict_mode"),Kb=Symbol.for("react.profiler"),Jb=Symbol.for("react.provider"),Yb=Symbol.for("react.context"),Xb=Symbol.for("react.forward_ref"),Qb=Symbol.for("react.suspense"),Zb=Symbol.for("react.memo"),e1=Symbol.for("react.lazy"),Tf=Symbol.iterator;function t1(e){return e===null||typeof e!="object"?null:(e=Tf&&e[Tf]||e["@@iterator"],typeof e=="function"?e:null)}var m0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p0=Object.assign,g0={};function Rr(e,t,s){this.props=e,this.context=t,this.refs=g0,this.updater=s||m0}Rr.prototype.isReactComponent={};Rr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Rr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function x0(){}x0.prototype=Rr.prototype;function Ed(e,t,s){this.props=e,this.context=t,this.refs=g0,this.updater=s||m0}var Cd=Ed.prototype=new x0;Cd.constructor=Ed;p0(Cd,Rr.prototype);Cd.isPureReactComponent=!0;var Pf=Array.isArray,v0=Object.prototype.hasOwnProperty,Td={current:null},y0={key:!0,ref:!0,__self:!0,__source:!0};function w0(e,t,s){var n,r={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)v0.call(t,n)&&!y0.hasOwnProperty(n)&&(r[n]=t[n]);var l=arguments.length-2;if(l===1)r.children=s;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)r[n]===void 0&&(r[n]=l[n]);return{$$typeof:fa,type:e,key:i,ref:o,props:r,_owner:Td.current}}function s1(e,t){return{$$typeof:fa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Pd(e){return typeof e=="object"&&e!==null&&e.$$typeof===fa}function n1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var Af=/\/+/g;function Jl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?n1(""+e.key):t.toString(36)}function lo(e,t,s,n,r){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case fa:case Wb:o=!0}}if(o)return o=e,r=r(o),e=n===""?"."+Jl(o,0):n,Pf(r)?(s="",e!=null&&(s=e.replace(Af,"$&/")+"/"),lo(r,t,s,"",function(u){return u})):r!=null&&(Pd(r)&&(r=s1(r,s+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Af,"$&/")+"/")+e)),t.push(r)),1;if(o=0,n=n===""?".":n+":",Pf(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Jl(i,l);o+=lo(i,t,s,c,r)}else if(c=t1(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Jl(i,l++),o+=lo(i,t,s,c,r);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ia(e,t,s){if(e==null)return e;var n=[],r=0;return lo(e,n,"","",function(i){return t.call(s,i,r++)}),n}function r1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xe={current:null},co={transition:null},i1={ReactCurrentDispatcher:Xe,ReactCurrentBatchConfig:co,ReactCurrentOwner:Td};function b0(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:Ia,forEach:function(e,t,s){Ia(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return Ia(e,function(){t++}),t},toArray:function(e){return Ia(e,function(t){return t})||[]},only:function(e){if(!Pd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};X.Component=Rr;X.Fragment=Hb;X.Profiler=Kb;X.PureComponent=Ed;X.StrictMode=Gb;X.Suspense=Qb;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i1;X.act=b0;X.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=p0({},e.props),r=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Td.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)v0.call(t,c)&&!y0.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=s;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:fa,type:e.type,key:r,ref:i,props:n,_owner:o}};X.createContext=function(e){return e={$$typeof:Yb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Jb,_context:e},e.Consumer=e};X.createElement=w0;X.createFactory=function(e){var t=w0.bind(null,e);return t.type=e,t};X.createRef=function(){return{current:null}};X.forwardRef=function(e){return{$$typeof:Xb,render:e}};X.isValidElement=Pd;X.lazy=function(e){return{$$typeof:e1,_payload:{_status:-1,_result:e},_init:r1}};X.memo=function(e,t){return{$$typeof:Zb,type:e,compare:t===void 0?null:t}};X.startTransition=function(e){var t=co.transition;co.transition={};try{e()}finally{co.transition=t}};X.unstable_act=b0;X.useCallback=function(e,t){return Xe.current.useCallback(e,t)};X.useContext=function(e){return Xe.current.useContext(e)};X.useDebugValue=function(){};X.useDeferredValue=function(e){return Xe.current.useDeferredValue(e)};X.useEffect=function(e,t){return Xe.current.useEffect(e,t)};X.useId=function(){return Xe.current.useId()};X.useImperativeHandle=function(e,t,s){return Xe.current.useImperativeHandle(e,t,s)};X.useInsertionEffect=function(e,t){return Xe.current.useInsertionEffect(e,t)};X.useLayoutEffect=function(e,t){return Xe.current.useLayoutEffect(e,t)};X.useMemo=function(e,t){return Xe.current.useMemo(e,t)};X.useReducer=function(e,t,s){return Xe.current.useReducer(e,t,s)};X.useRef=function(e){return Xe.current.useRef(e)};X.useState=function(e){return Xe.current.useState(e)};X.useSyncExternalStore=function(e,t,s){return Xe.current.useSyncExternalStore(e,t,s)};X.useTransition=function(){return Xe.current.useTransition()};X.version="18.3.1";f0.exports=X;var m=f0.exports;const ne=_d(m),Kc=Bb({__proto__:null,default:ne},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a1=m,o1=Symbol.for("react.element"),l1=Symbol.for("react.fragment"),c1=Object.prototype.hasOwnProperty,u1=a1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d1={key:!0,ref:!0,__self:!0,__source:!0};function j0(e,t,s){var n,r={},i=null,o=null;s!==void 0&&(i=""+s),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)c1.call(t,n)&&!d1.hasOwnProperty(n)&&(r[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)r[n]===void 0&&(r[n]=t[n]);return{$$typeof:o1,type:e,key:i,ref:o,props:r,_owner:u1.current}}ul.Fragment=l1;ul.jsx=j0;ul.jsxs=j0;h0.exports=ul;var a=h0.exports,S0={exports:{}},mt={},k0={exports:{}},N0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,L){var z=T.length;T.push(L);e:for(;0<z;){var G=z-1>>>1,H=T[G];if(0<r(H,L))T[G]=L,T[z]=H,z=G;else break e}}function s(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var L=T[0],z=T.pop();if(z!==L){T[0]=z;e:for(var G=0,H=T.length,ge=H>>>1;G<ge;){var ye=2*(G+1)-1,Re=T[ye],Oe=ye+1,Et=T[Oe];if(0>r(Re,z))Oe<H&&0>r(Et,Re)?(T[G]=Et,T[Oe]=z,G=Oe):(T[G]=Re,T[ye]=z,G=ye);else if(Oe<H&&0>r(Et,z))T[G]=Et,T[Oe]=z,G=Oe;else break e}}return L}function r(T,L){var z=T.sortIndex-L.sortIndex;return z!==0?z:T.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,v=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(T){for(var L=s(u);L!==null;){if(L.callback===null)n(u);else if(L.startTime<=T)n(u),L.sortIndex=L.expirationTime,t(c,L);else break;L=s(u)}}function S(T){if(y=!1,w(T),!v)if(s(c)!==null)v=!0,I(j);else{var L=s(u);L!==null&&M(S,L.startTime-T)}}function j(T,L){v=!1,y&&(y=!1,g(E),E=-1),p=!0;var z=f;try{for(w(L),h=s(c);h!==null&&(!(h.expirationTime>L)||T&&!A());){var G=h.callback;if(typeof G=="function"){h.callback=null,f=h.priorityLevel;var H=G(h.expirationTime<=L);L=e.unstable_now(),typeof H=="function"?h.callback=H:h===s(c)&&n(c),w(L)}else n(c);h=s(c)}if(h!==null)var ge=!0;else{var ye=s(u);ye!==null&&M(S,ye.startTime-L),ge=!1}return ge}finally{h=null,f=z,p=!1}}var k=!1,_=null,E=-1,P=5,D=-1;function A(){return!(e.unstable_now()-D<P)}function F(){if(_!==null){var T=e.unstable_now();D=T;var L=!0;try{L=_(!0,T)}finally{L?O():(k=!1,_=null)}}else k=!1}var O;if(typeof x=="function")O=function(){x(F)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,C=R.port2;R.port1.onmessage=F,O=function(){C.postMessage(null)}}else O=function(){b(F,0)};function I(T){_=T,k||(k=!0,O())}function M(T,L){E=b(function(){T(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,I(j))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(T){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var z=f;f=L;try{return T()}finally{f=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,L){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var z=f;f=T;try{return L()}finally{f=z}},e.unstable_scheduleCallback=function(T,L,z){var G=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?G+z:G):z=G,T){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=z+H,T={id:d++,callback:L,priorityLevel:T,startTime:z,expirationTime:H,sortIndex:-1},z>G?(T.sortIndex=z,t(u,T),s(c)===null&&T===s(u)&&(y?(g(E),E=-1):y=!0,M(S,z-G))):(T.sortIndex=H,t(c,T),v||p||(v=!0,I(j))),T},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(T){var L=f;return function(){var z=f;f=L;try{return T.apply(this,arguments)}finally{f=z}}}})(N0);k0.exports=N0;var h1=k0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f1=m,ft=h1;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _0=new Set,Pi={};function Tn(e,t){vr(e,t),vr(e+"Capture",t)}function vr(e,t){for(Pi[e]=t,e=0;e<t.length;e++)_0.add(t[e])}var cs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jc=Object.prototype.hasOwnProperty,m1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Rf={},Of={};function p1(e){return Jc.call(Of,e)?!0:Jc.call(Rf,e)?!1:m1.test(e)?Of[e]=!0:(Rf[e]=!0,!1)}function g1(e,t,s,n){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function x1(e,t,s,n){if(t===null||typeof t>"u"||g1(e,t,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qe(e,t,s,n,r,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Me[e]=new Qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Me[t]=new Qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Me[e]=new Qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Me[e]=new Qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Me[e]=new Qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Me[e]=new Qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Me[e]=new Qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Me[e]=new Qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Me[e]=new Qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ad=/[\-:]([a-z])/g;function Rd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ad,Rd);Me[t]=new Qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ad,Rd);Me[t]=new Qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ad,Rd);Me[t]=new Qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Me[e]=new Qe(e,1,!1,e.toLowerCase(),null,!1,!1)});Me.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Me[e]=new Qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Od(e,t,s,n){var r=Me.hasOwnProperty(t)?Me[t]:null;(r!==null?r.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(x1(t,s,r,n)&&(s=null),n||r===null?p1(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):r.mustUseProperty?e[r.propertyName]=s===null?r.type===3?!1:"":s:(t=r.attributeName,n=r.attributeNamespace,s===null?e.removeAttribute(t):(r=r.type,s=r===3||r===4&&s===!0?"":""+s,n?e.setAttributeNS(n,t,s):e.setAttribute(t,s))))}var ps=f1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Da=Symbol.for("react.element"),Gn=Symbol.for("react.portal"),Kn=Symbol.for("react.fragment"),Id=Symbol.for("react.strict_mode"),Yc=Symbol.for("react.profiler"),E0=Symbol.for("react.provider"),C0=Symbol.for("react.context"),Dd=Symbol.for("react.forward_ref"),Xc=Symbol.for("react.suspense"),Qc=Symbol.for("react.suspense_list"),Ld=Symbol.for("react.memo"),Ss=Symbol.for("react.lazy"),T0=Symbol.for("react.offscreen"),If=Symbol.iterator;function Br(e){return e===null||typeof e!="object"?null:(e=If&&e[If]||e["@@iterator"],typeof e=="function"?e:null)}var pe=Object.assign,Yl;function ni(e){if(Yl===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Yl=t&&t[1]||""}return`
`+Yl+e}var Xl=!1;function Ql(e,t){if(!e||Xl)return"";Xl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),i=n.stack.split(`
`),o=r.length-1,l=i.length-1;1<=o&&0<=l&&r[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(r[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||r[o]!==i[l]){var c=`
`+r[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Xl=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?ni(e):""}function v1(e){switch(e.tag){case 5:return ni(e.type);case 16:return ni("Lazy");case 13:return ni("Suspense");case 19:return ni("SuspenseList");case 0:case 2:case 15:return e=Ql(e.type,!1),e;case 11:return e=Ql(e.type.render,!1),e;case 1:return e=Ql(e.type,!0),e;default:return""}}function Zc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Kn:return"Fragment";case Gn:return"Portal";case Yc:return"Profiler";case Id:return"StrictMode";case Xc:return"Suspense";case Qc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case C0:return(e.displayName||"Context")+".Consumer";case E0:return(e._context.displayName||"Context")+".Provider";case Dd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ld:return t=e.displayName||null,t!==null?t:Zc(e.type)||"Memo";case Ss:t=e._payload,e=e._init;try{return Zc(e(t))}catch{}}return null}function y1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zc(t);case 8:return t===Id?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ws(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function P0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function w1(e){var t=P0(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var r=s.get,i=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function La(e){e._valueTracker||(e._valueTracker=w1(e))}function A0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=P0(e)?e.checked?"true":"false":e.value),e=n,e!==s?(t.setValue(e),!0):!1}function Po(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function eu(e,t){var s=t.checked;return pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Df(e,t){var s=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;s=Ws(t.value!=null?t.value:s),e._wrapperState={initialChecked:n,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function R0(e,t){t=t.checked,t!=null&&Od(e,"checked",t,!1)}function tu(e,t){R0(e,t);var s=Ws(t.value),n=t.type;if(s!=null)n==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?su(e,t.type,s):t.hasOwnProperty("defaultValue")&&su(e,t.type,Ws(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Lf(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function su(e,t,s){(t!=="number"||Po(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var ri=Array.isArray;function ur(e,t,s,n){if(e=e.options,t){t={};for(var r=0;r<s.length;r++)t["$"+s[r]]=!0;for(s=0;s<e.length;s++)r=t.hasOwnProperty("$"+e[s].value),e[s].selected!==r&&(e[s].selected=r),r&&n&&(e[s].defaultSelected=!0)}else{for(s=""+Ws(s),t=null,r=0;r<e.length;r++){if(e[r].value===s){e[r].selected=!0,n&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function nu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Mf(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error($(92));if(ri(s)){if(1<s.length)throw Error($(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:Ws(s)}}function O0(e,t){var s=Ws(t.value),n=Ws(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),n!=null&&(e.defaultValue=""+n)}function $f(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function I0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ru(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?I0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ma,D0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,n,r){MSApp.execUnsafeLocalFunction(function(){return e(t,s,n,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ma=Ma||document.createElement("div"),Ma.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ma.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ai(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var ci={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},b1=["Webkit","ms","Moz","O"];Object.keys(ci).forEach(function(e){b1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ci[t]=ci[e]})});function L0(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||ci.hasOwnProperty(e)&&ci[e]?(""+t).trim():t+"px"}function M0(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var n=s.indexOf("--")===0,r=L0(s,t[s],n);s==="float"&&(s="cssFloat"),n?e.setProperty(s,r):e[s]=r}}var j1=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function iu(e,t){if(t){if(j1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function au(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ou=null;function Md(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lu=null,dr=null,hr=null;function Ff(e){if(e=ga(e)){if(typeof lu!="function")throw Error($(280));var t=e.stateNode;t&&(t=pl(t),lu(e.stateNode,e.type,t))}}function $0(e){dr?hr?hr.push(e):hr=[e]:dr=e}function F0(){if(dr){var e=dr,t=hr;if(hr=dr=null,Ff(e),t)for(e=0;e<t.length;e++)Ff(t[e])}}function U0(e,t){return e(t)}function z0(){}var Zl=!1;function V0(e,t,s){if(Zl)return e(t,s);Zl=!0;try{return U0(e,t,s)}finally{Zl=!1,(dr!==null||hr!==null)&&(z0(),F0())}}function Ri(e,t){var s=e.stateNode;if(s===null)return null;var n=pl(s);if(n===null)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error($(231,t,typeof s));return s}var cu=!1;if(cs)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){cu=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{cu=!1}function S1(e,t,s,n,r,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(s,u)}catch(d){this.onError(d)}}var ui=!1,Ao=null,Ro=!1,uu=null,k1={onError:function(e){ui=!0,Ao=e}};function N1(e,t,s,n,r,i,o,l,c){ui=!1,Ao=null,S1.apply(k1,arguments)}function _1(e,t,s,n,r,i,o,l,c){if(N1.apply(this,arguments),ui){if(ui){var u=Ao;ui=!1,Ao=null}else throw Error($(198));Ro||(Ro=!0,uu=u)}}function Pn(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function B0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Uf(e){if(Pn(e)!==e)throw Error($(188))}function E1(e){var t=e.alternate;if(!t){if(t=Pn(e),t===null)throw Error($(188));return t!==e?null:e}for(var s=e,n=t;;){var r=s.return;if(r===null)break;var i=r.alternate;if(i===null){if(n=r.return,n!==null){s=n;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===s)return Uf(r),e;if(i===n)return Uf(r),t;i=i.sibling}throw Error($(188))}if(s.return!==n.return)s=r,n=i;else{for(var o=!1,l=r.child;l;){if(l===s){o=!0,s=r,n=i;break}if(l===n){o=!0,n=r,s=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===s){o=!0,s=i,n=r;break}if(l===n){o=!0,n=i,s=r;break}l=l.sibling}if(!o)throw Error($(189))}}if(s.alternate!==n)throw Error($(190))}if(s.tag!==3)throw Error($(188));return s.stateNode.current===s?e:t}function q0(e){return e=E1(e),e!==null?W0(e):null}function W0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=W0(e);if(t!==null)return t;e=e.sibling}return null}var H0=ft.unstable_scheduleCallback,zf=ft.unstable_cancelCallback,C1=ft.unstable_shouldYield,T1=ft.unstable_requestPaint,be=ft.unstable_now,P1=ft.unstable_getCurrentPriorityLevel,$d=ft.unstable_ImmediatePriority,G0=ft.unstable_UserBlockingPriority,Oo=ft.unstable_NormalPriority,A1=ft.unstable_LowPriority,K0=ft.unstable_IdlePriority,dl=null,Ht=null;function R1(e){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(dl,e,void 0,(e.current.flags&128)===128)}catch{}}var Lt=Math.clz32?Math.clz32:D1,O1=Math.log,I1=Math.LN2;function D1(e){return e>>>=0,e===0?32:31-(O1(e)/I1|0)|0}var $a=64,Fa=4194304;function ii(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Io(e,t){var s=e.pendingLanes;if(s===0)return 0;var n=0,r=e.suspendedLanes,i=e.pingedLanes,o=s&268435455;if(o!==0){var l=o&~r;l!==0?n=ii(l):(i&=o,i!==0&&(n=ii(i)))}else o=s&~r,o!==0?n=ii(o):i!==0&&(n=ii(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&r)&&(r=n&-n,i=t&-t,r>=i||r===16&&(i&4194240)!==0))return t;if(n&4&&(n|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)s=31-Lt(t),r=1<<s,n|=e[s],t&=~r;return n}function L1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function M1(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Lt(i),l=1<<o,c=r[o];c===-1?(!(l&s)||l&n)&&(r[o]=L1(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function du(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function J0(){var e=$a;return $a<<=1,!($a&4194240)&&($a=64),e}function ec(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function ma(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Lt(t),e[t]=s}function $1(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<s;){var r=31-Lt(s),i=1<<r;t[r]=0,n[r]=-1,e[r]=-1,s&=~i}}function Fd(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-Lt(s),r=1<<n;r&t|e[n]&t&&(e[n]|=t),s&=~r}}var te=0;function Y0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var X0,Ud,Q0,Z0,ex,hu=!1,Ua=[],Ds=null,Ls=null,Ms=null,Oi=new Map,Ii=new Map,Es=[],F1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vf(e,t){switch(e){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":Oi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ii.delete(t.pointerId)}}function Wr(e,t,s,n,r,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:i,targetContainers:[r]},t!==null&&(t=ga(t),t!==null&&Ud(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function U1(e,t,s,n,r){switch(t){case"focusin":return Ds=Wr(Ds,e,t,s,n,r),!0;case"dragenter":return Ls=Wr(Ls,e,t,s,n,r),!0;case"mouseover":return Ms=Wr(Ms,e,t,s,n,r),!0;case"pointerover":var i=r.pointerId;return Oi.set(i,Wr(Oi.get(i)||null,e,t,s,n,r)),!0;case"gotpointercapture":return i=r.pointerId,Ii.set(i,Wr(Ii.get(i)||null,e,t,s,n,r)),!0}return!1}function tx(e){var t=hn(e.target);if(t!==null){var s=Pn(t);if(s!==null){if(t=s.tag,t===13){if(t=B0(s),t!==null){e.blockedOn=t,ex(e.priority,function(){Q0(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function uo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=fu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var n=new s.constructor(s.type,s);ou=n,s.target.dispatchEvent(n),ou=null}else return t=ga(s),t!==null&&Ud(t),e.blockedOn=s,!1;t.shift()}return!0}function Bf(e,t,s){uo(e)&&s.delete(t)}function z1(){hu=!1,Ds!==null&&uo(Ds)&&(Ds=null),Ls!==null&&uo(Ls)&&(Ls=null),Ms!==null&&uo(Ms)&&(Ms=null),Oi.forEach(Bf),Ii.forEach(Bf)}function Hr(e,t){e.blockedOn===t&&(e.blockedOn=null,hu||(hu=!0,ft.unstable_scheduleCallback(ft.unstable_NormalPriority,z1)))}function Di(e){function t(r){return Hr(r,e)}if(0<Ua.length){Hr(Ua[0],e);for(var s=1;s<Ua.length;s++){var n=Ua[s];n.blockedOn===e&&(n.blockedOn=null)}}for(Ds!==null&&Hr(Ds,e),Ls!==null&&Hr(Ls,e),Ms!==null&&Hr(Ms,e),Oi.forEach(t),Ii.forEach(t),s=0;s<Es.length;s++)n=Es[s],n.blockedOn===e&&(n.blockedOn=null);for(;0<Es.length&&(s=Es[0],s.blockedOn===null);)tx(s),s.blockedOn===null&&Es.shift()}var fr=ps.ReactCurrentBatchConfig,Do=!0;function V1(e,t,s,n){var r=te,i=fr.transition;fr.transition=null;try{te=1,zd(e,t,s,n)}finally{te=r,fr.transition=i}}function B1(e,t,s,n){var r=te,i=fr.transition;fr.transition=null;try{te=4,zd(e,t,s,n)}finally{te=r,fr.transition=i}}function zd(e,t,s,n){if(Do){var r=fu(e,t,s,n);if(r===null)uc(e,t,n,Lo,s),Vf(e,n);else if(U1(r,e,t,s,n))n.stopPropagation();else if(Vf(e,n),t&4&&-1<F1.indexOf(e)){for(;r!==null;){var i=ga(r);if(i!==null&&X0(i),i=fu(e,t,s,n),i===null&&uc(e,t,n,Lo,s),i===r)break;r=i}r!==null&&n.stopPropagation()}else uc(e,t,n,null,s)}}var Lo=null;function fu(e,t,s,n){if(Lo=null,e=Md(n),e=hn(e),e!==null)if(t=Pn(e),t===null)e=null;else if(s=t.tag,s===13){if(e=B0(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Lo=e,null}function sx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(P1()){case $d:return 1;case G0:return 4;case Oo:case A1:return 16;case K0:return 536870912;default:return 16}default:return 16}}var As=null,Vd=null,ho=null;function nx(){if(ho)return ho;var e,t=Vd,s=t.length,n,r="value"in As?As.value:As.textContent,i=r.length;for(e=0;e<s&&t[e]===r[e];e++);var o=s-e;for(n=1;n<=o&&t[s-n]===r[i-n];n++);return ho=r.slice(e,1<n?1-n:void 0)}function fo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function za(){return!0}function qf(){return!1}function pt(e){function t(s,n,r,i,o){this._reactName=s,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(s=e[l],this[l]=s?s(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?za:qf,this.isPropagationStopped=qf,this}return pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=za)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=za)},persist:function(){},isPersistent:za}),t}var Or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bd=pt(Or),pa=pe({},Or,{view:0,detail:0}),q1=pt(pa),tc,sc,Gr,hl=pe({},pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gr&&(Gr&&e.type==="mousemove"?(tc=e.screenX-Gr.screenX,sc=e.screenY-Gr.screenY):sc=tc=0,Gr=e),tc)},movementY:function(e){return"movementY"in e?e.movementY:sc}}),Wf=pt(hl),W1=pe({},hl,{dataTransfer:0}),H1=pt(W1),G1=pe({},pa,{relatedTarget:0}),nc=pt(G1),K1=pe({},Or,{animationName:0,elapsedTime:0,pseudoElement:0}),J1=pt(K1),Y1=pe({},Or,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),X1=pt(Y1),Q1=pe({},Or,{data:0}),Hf=pt(Q1),Z1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ej={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=tj[e])?!!t[e]:!1}function qd(){return sj}var nj=pe({},pa,{key:function(e){if(e.key){var t=Z1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ej[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qd,charCode:function(e){return e.type==="keypress"?fo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rj=pt(nj),ij=pe({},hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gf=pt(ij),aj=pe({},pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qd}),oj=pt(aj),lj=pe({},Or,{propertyName:0,elapsedTime:0,pseudoElement:0}),cj=pt(lj),uj=pe({},hl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dj=pt(uj),hj=[9,13,27,32],Wd=cs&&"CompositionEvent"in window,di=null;cs&&"documentMode"in document&&(di=document.documentMode);var fj=cs&&"TextEvent"in window&&!di,rx=cs&&(!Wd||di&&8<di&&11>=di),Kf=" ",Jf=!1;function ix(e,t){switch(e){case"keyup":return hj.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ax(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jn=!1;function mj(e,t){switch(e){case"compositionend":return ax(t);case"keypress":return t.which!==32?null:(Jf=!0,Kf);case"textInput":return e=t.data,e===Kf&&Jf?null:e;default:return null}}function pj(e,t){if(Jn)return e==="compositionend"||!Wd&&ix(e,t)?(e=nx(),ho=Vd=As=null,Jn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rx&&t.locale!=="ko"?null:t.data;default:return null}}var gj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gj[e.type]:t==="textarea"}function ox(e,t,s,n){$0(n),t=Mo(t,"onChange"),0<t.length&&(s=new Bd("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var hi=null,Li=null;function xj(e){vx(e,0)}function fl(e){var t=Qn(e);if(A0(t))return e}function vj(e,t){if(e==="change")return t}var lx=!1;if(cs){var rc;if(cs){var ic="oninput"in document;if(!ic){var Xf=document.createElement("div");Xf.setAttribute("oninput","return;"),ic=typeof Xf.oninput=="function"}rc=ic}else rc=!1;lx=rc&&(!document.documentMode||9<document.documentMode)}function Qf(){hi&&(hi.detachEvent("onpropertychange",cx),Li=hi=null)}function cx(e){if(e.propertyName==="value"&&fl(Li)){var t=[];ox(t,Li,e,Md(e)),V0(xj,t)}}function yj(e,t,s){e==="focusin"?(Qf(),hi=t,Li=s,hi.attachEvent("onpropertychange",cx)):e==="focusout"&&Qf()}function wj(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fl(Li)}function bj(e,t){if(e==="click")return fl(t)}function jj(e,t){if(e==="input"||e==="change")return fl(t)}function Sj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $t=typeof Object.is=="function"?Object.is:Sj;function Mi(e,t){if($t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var r=s[n];if(!Jc.call(t,r)||!$t(e[r],t[r]))return!1}return!0}function Zf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function em(e,t){var s=Zf(e);e=0;for(var n;s;){if(s.nodeType===3){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Zf(s)}}function ux(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ux(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dx(){for(var e=window,t=Po();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Po(e.document)}return t}function Hd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kj(e){var t=dx(),s=e.focusedElem,n=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&ux(s.ownerDocument.documentElement,s)){if(n!==null&&Hd(s)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=s.textContent.length,i=Math.min(n.start,r);n=n.end===void 0?i:Math.min(n.end,r),!e.extend&&i>n&&(r=n,n=i,i=r),r=em(s,i);var o=em(s,n);r&&o&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Nj=cs&&"documentMode"in document&&11>=document.documentMode,Yn=null,mu=null,fi=null,pu=!1;function tm(e,t,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;pu||Yn==null||Yn!==Po(n)||(n=Yn,"selectionStart"in n&&Hd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),fi&&Mi(fi,n)||(fi=n,n=Mo(mu,"onSelect"),0<n.length&&(t=new Bd("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=Yn)))}function Va(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Xn={animationend:Va("Animation","AnimationEnd"),animationiteration:Va("Animation","AnimationIteration"),animationstart:Va("Animation","AnimationStart"),transitionend:Va("Transition","TransitionEnd")},ac={},hx={};cs&&(hx=document.createElement("div").style,"AnimationEvent"in window||(delete Xn.animationend.animation,delete Xn.animationiteration.animation,delete Xn.animationstart.animation),"TransitionEvent"in window||delete Xn.transitionend.transition);function ml(e){if(ac[e])return ac[e];if(!Xn[e])return e;var t=Xn[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in hx)return ac[e]=t[s];return e}var fx=ml("animationend"),mx=ml("animationiteration"),px=ml("animationstart"),gx=ml("transitionend"),xx=new Map,sm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Js(e,t){xx.set(e,t),Tn(t,[e])}for(var oc=0;oc<sm.length;oc++){var lc=sm[oc],_j=lc.toLowerCase(),Ej=lc[0].toUpperCase()+lc.slice(1);Js(_j,"on"+Ej)}Js(fx,"onAnimationEnd");Js(mx,"onAnimationIteration");Js(px,"onAnimationStart");Js("dblclick","onDoubleClick");Js("focusin","onFocus");Js("focusout","onBlur");Js(gx,"onTransitionEnd");vr("onMouseEnter",["mouseout","mouseover"]);vr("onMouseLeave",["mouseout","mouseover"]);vr("onPointerEnter",["pointerout","pointerover"]);vr("onPointerLeave",["pointerout","pointerover"]);Tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ai="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cj=new Set("cancel close invalid load scroll toggle".split(" ").concat(ai));function nm(e,t,s){var n=e.type||"unknown-event";e.currentTarget=s,_1(n,t,void 0,e),e.currentTarget=null}function vx(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var n=e[s],r=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&r.isPropagationStopped())break e;nm(r,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&r.isPropagationStopped())break e;nm(r,l,u),i=c}}}if(Ro)throw e=uu,Ro=!1,uu=null,e}function le(e,t){var s=t[wu];s===void 0&&(s=t[wu]=new Set);var n=e+"__bubble";s.has(n)||(yx(t,e,2,!1),s.add(n))}function cc(e,t,s){var n=0;t&&(n|=4),yx(s,e,n,t)}var Ba="_reactListening"+Math.random().toString(36).slice(2);function $i(e){if(!e[Ba]){e[Ba]=!0,_0.forEach(function(s){s!=="selectionchange"&&(Cj.has(s)||cc(s,!1,e),cc(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ba]||(t[Ba]=!0,cc("selectionchange",!1,t))}}function yx(e,t,s,n){switch(sx(t)){case 1:var r=V1;break;case 4:r=B1;break;default:r=zd}s=r.bind(null,t,s,e),r=void 0,!cu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),n?r!==void 0?e.addEventListener(t,s,{capture:!0,passive:r}):e.addEventListener(t,s,!0):r!==void 0?e.addEventListener(t,s,{passive:r}):e.addEventListener(t,s,!1)}function uc(e,t,s,n,r){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;o=o.return}for(;l!==null;){if(o=hn(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}V0(function(){var u=i,d=Md(s),h=[];e:{var f=xx.get(e);if(f!==void 0){var p=Bd,v=e;switch(e){case"keypress":if(fo(s)===0)break e;case"keydown":case"keyup":p=rj;break;case"focusin":v="focus",p=nc;break;case"focusout":v="blur",p=nc;break;case"beforeblur":case"afterblur":p=nc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Wf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=H1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=oj;break;case fx:case mx:case px:p=J1;break;case gx:p=cj;break;case"scroll":p=q1;break;case"wheel":p=dj;break;case"copy":case"cut":case"paste":p=X1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Gf}var y=(t&4)!==0,b=!y&&e==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var x=u,w;x!==null;){w=x;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,g!==null&&(S=Ri(x,g),S!=null&&y.push(Fi(x,S,w)))),b)break;x=x.return}0<y.length&&(f=new p(f,v,null,s,d),h.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&s!==ou&&(v=s.relatedTarget||s.fromElement)&&(hn(v)||v[us]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=s.relatedTarget||s.toElement,p=u,v=v?hn(v):null,v!==null&&(b=Pn(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(y=Wf,S="onMouseLeave",g="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(y=Gf,S="onPointerLeave",g="onPointerEnter",x="pointer"),b=p==null?f:Qn(p),w=v==null?f:Qn(v),f=new y(S,x+"leave",p,s,d),f.target=b,f.relatedTarget=w,S=null,hn(d)===u&&(y=new y(g,x+"enter",v,s,d),y.target=w,y.relatedTarget=b,S=y),b=S,p&&v)t:{for(y=p,g=v,x=0,w=y;w;w=Fn(w))x++;for(w=0,S=g;S;S=Fn(S))w++;for(;0<x-w;)y=Fn(y),x--;for(;0<w-x;)g=Fn(g),w--;for(;x--;){if(y===g||g!==null&&y===g.alternate)break t;y=Fn(y),g=Fn(g)}y=null}else y=null;p!==null&&rm(h,f,p,y,!1),v!==null&&b!==null&&rm(h,b,v,y,!0)}}e:{if(f=u?Qn(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var j=vj;else if(Yf(f))if(lx)j=jj;else{j=wj;var k=yj}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=bj);if(j&&(j=j(e,u))){ox(h,j,s,d);break e}k&&k(e,f,u),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&su(f,"number",f.value)}switch(k=u?Qn(u):window,e){case"focusin":(Yf(k)||k.contentEditable==="true")&&(Yn=k,mu=u,fi=null);break;case"focusout":fi=mu=Yn=null;break;case"mousedown":pu=!0;break;case"contextmenu":case"mouseup":case"dragend":pu=!1,tm(h,s,d);break;case"selectionchange":if(Nj)break;case"keydown":case"keyup":tm(h,s,d)}var _;if(Wd)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Jn?ix(e,s)&&(E="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(E="onCompositionStart");E&&(rx&&s.locale!=="ko"&&(Jn||E!=="onCompositionStart"?E==="onCompositionEnd"&&Jn&&(_=nx()):(As=d,Vd="value"in As?As.value:As.textContent,Jn=!0)),k=Mo(u,E),0<k.length&&(E=new Hf(E,e,null,s,d),h.push({event:E,listeners:k}),_?E.data=_:(_=ax(s),_!==null&&(E.data=_)))),(_=fj?mj(e,s):pj(e,s))&&(u=Mo(u,"onBeforeInput"),0<u.length&&(d=new Hf("onBeforeInput","beforeinput",null,s,d),h.push({event:d,listeners:u}),d.data=_))}vx(h,t)})}function Fi(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Mo(e,t){for(var s=t+"Capture",n=[];e!==null;){var r=e,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=Ri(e,s),i!=null&&n.unshift(Fi(e,i,r)),i=Ri(e,t),i!=null&&n.push(Fi(e,i,r))),e=e.return}return n}function Fn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function rm(e,t,s,n,r){for(var i=t._reactName,o=[];s!==null&&s!==n;){var l=s,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,r?(c=Ri(s,i),c!=null&&o.unshift(Fi(s,c,l))):r||(c=Ri(s,i),c!=null&&o.push(Fi(s,c,l)))),s=s.return}o.length!==0&&e.push({event:t,listeners:o})}var Tj=/\r\n?/g,Pj=/\u0000|\uFFFD/g;function im(e){return(typeof e=="string"?e:""+e).replace(Tj,`
`).replace(Pj,"")}function qa(e,t,s){if(t=im(t),im(e)!==t&&s)throw Error($(425))}function $o(){}var gu=null,xu=null;function vu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var yu=typeof setTimeout=="function"?setTimeout:void 0,Aj=typeof clearTimeout=="function"?clearTimeout:void 0,am=typeof Promise=="function"?Promise:void 0,Rj=typeof queueMicrotask=="function"?queueMicrotask:typeof am<"u"?function(e){return am.resolve(null).then(e).catch(Oj)}:yu;function Oj(e){setTimeout(function(){throw e})}function dc(e,t){var s=t,n=0;do{var r=s.nextSibling;if(e.removeChild(s),r&&r.nodeType===8)if(s=r.data,s==="/$"){if(n===0){e.removeChild(r),Di(t);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=r}while(s);Di(t)}function $s(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function om(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var Ir=Math.random().toString(36).slice(2),Wt="__reactFiber$"+Ir,Ui="__reactProps$"+Ir,us="__reactContainer$"+Ir,wu="__reactEvents$"+Ir,Ij="__reactListeners$"+Ir,Dj="__reactHandles$"+Ir;function hn(e){var t=e[Wt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[us]||s[Wt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=om(e);e!==null;){if(s=e[Wt])return s;e=om(e)}return t}e=s,s=e.parentNode}return null}function ga(e){return e=e[Wt]||e[us],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function pl(e){return e[Ui]||null}var bu=[],Zn=-1;function Ys(e){return{current:e}}function ce(e){0>Zn||(e.current=bu[Zn],bu[Zn]=null,Zn--)}function oe(e,t){Zn++,bu[Zn]=e.current,e.current=t}var Hs={},We=Ys(Hs),rt=Ys(!1),Sn=Hs;function yr(e,t){var s=e.type.contextTypes;if(!s)return Hs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in s)r[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function it(e){return e=e.childContextTypes,e!=null}function Fo(){ce(rt),ce(We)}function lm(e,t,s){if(We.current!==Hs)throw Error($(168));oe(We,t),oe(rt,s)}function wx(e,t,s){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var r in n)if(!(r in t))throw Error($(108,y1(e)||"Unknown",r));return pe({},s,n)}function Uo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hs,Sn=We.current,oe(We,e),oe(rt,rt.current),!0}function cm(e,t,s){var n=e.stateNode;if(!n)throw Error($(169));s?(e=wx(e,t,Sn),n.__reactInternalMemoizedMergedChildContext=e,ce(rt),ce(We),oe(We,e)):ce(rt),oe(rt,s)}var is=null,gl=!1,hc=!1;function bx(e){is===null?is=[e]:is.push(e)}function Lj(e){gl=!0,bx(e)}function Xs(){if(!hc&&is!==null){hc=!0;var e=0,t=te;try{var s=is;for(te=1;e<s.length;e++){var n=s[e];do n=n(!0);while(n!==null)}is=null,gl=!1}catch(r){throw is!==null&&(is=is.slice(e+1)),H0($d,Xs),r}finally{te=t,hc=!1}}return null}var er=[],tr=0,zo=null,Vo=0,yt=[],wt=0,kn=null,as=1,os="";function on(e,t){er[tr++]=Vo,er[tr++]=zo,zo=e,Vo=t}function jx(e,t,s){yt[wt++]=as,yt[wt++]=os,yt[wt++]=kn,kn=e;var n=as;e=os;var r=32-Lt(n)-1;n&=~(1<<r),s+=1;var i=32-Lt(t)+r;if(30<i){var o=r-r%5;i=(n&(1<<o)-1).toString(32),n>>=o,r-=o,as=1<<32-Lt(t)+r|s<<r|n,os=i+e}else as=1<<i|s<<r|n,os=e}function Gd(e){e.return!==null&&(on(e,1),jx(e,1,0))}function Kd(e){for(;e===zo;)zo=er[--tr],er[tr]=null,Vo=er[--tr],er[tr]=null;for(;e===kn;)kn=yt[--wt],yt[wt]=null,os=yt[--wt],yt[wt]=null,as=yt[--wt],yt[wt]=null}var dt=null,ut=null,ue=!1,It=null;function Sx(e,t){var s=jt(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function um(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,dt=e,ut=$s(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,dt=e,ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=kn!==null?{id:as,overflow:os}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=jt(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,dt=e,ut=null,!0):!1;default:return!1}}function ju(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Su(e){if(ue){var t=ut;if(t){var s=t;if(!um(e,t)){if(ju(e))throw Error($(418));t=$s(s.nextSibling);var n=dt;t&&um(e,t)?Sx(n,s):(e.flags=e.flags&-4097|2,ue=!1,dt=e)}}else{if(ju(e))throw Error($(418));e.flags=e.flags&-4097|2,ue=!1,dt=e}}}function dm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;dt=e}function Wa(e){if(e!==dt)return!1;if(!ue)return dm(e),ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!vu(e.type,e.memoizedProps)),t&&(t=ut)){if(ju(e))throw kx(),Error($(418));for(;t;)Sx(e,t),t=$s(t.nextSibling)}if(dm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){ut=$s(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}ut=null}}else ut=dt?$s(e.stateNode.nextSibling):null;return!0}function kx(){for(var e=ut;e;)e=$s(e.nextSibling)}function wr(){ut=dt=null,ue=!1}function Jd(e){It===null?It=[e]:It.push(e)}var Mj=ps.ReactCurrentBatchConfig;function Kr(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error($(309));var n=s.stateNode}if(!n)throw Error($(147,e));var r=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=r.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error($(284));if(!s._owner)throw Error($(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hm(e){var t=e._init;return t(e._payload)}function Nx(e){function t(g,x){if(e){var w=g.deletions;w===null?(g.deletions=[x],g.flags|=16):w.push(x)}}function s(g,x){if(!e)return null;for(;x!==null;)t(g,x),x=x.sibling;return null}function n(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function r(g,x){return g=Vs(g,x),g.index=0,g.sibling=null,g}function i(g,x,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<x?(g.flags|=2,x):w):(g.flags|=2,x)):(g.flags|=1048576,x)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,x,w,S){return x===null||x.tag!==6?(x=yc(w,g.mode,S),x.return=g,x):(x=r(x,w),x.return=g,x)}function c(g,x,w,S){var j=w.type;return j===Kn?d(g,x,w.props.children,S,w.key):x!==null&&(x.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ss&&hm(j)===x.type)?(S=r(x,w.props),S.ref=Kr(g,x,w),S.return=g,S):(S=wo(w.type,w.key,w.props,null,g.mode,S),S.ref=Kr(g,x,w),S.return=g,S)}function u(g,x,w,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=wc(w,g.mode,S),x.return=g,x):(x=r(x,w.children||[]),x.return=g,x)}function d(g,x,w,S,j){return x===null||x.tag!==7?(x=wn(w,g.mode,S,j),x.return=g,x):(x=r(x,w),x.return=g,x)}function h(g,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=yc(""+x,g.mode,w),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Da:return w=wo(x.type,x.key,x.props,null,g.mode,w),w.ref=Kr(g,null,x),w.return=g,w;case Gn:return x=wc(x,g.mode,w),x.return=g,x;case Ss:var S=x._init;return h(g,S(x._payload),w)}if(ri(x)||Br(x))return x=wn(x,g.mode,w,null),x.return=g,x;Ha(g,x)}return null}function f(g,x,w,S){var j=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(g,x,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Da:return w.key===j?c(g,x,w,S):null;case Gn:return w.key===j?u(g,x,w,S):null;case Ss:return j=w._init,f(g,x,j(w._payload),S)}if(ri(w)||Br(w))return j!==null?null:d(g,x,w,S,null);Ha(g,w)}return null}function p(g,x,w,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(w)||null,l(x,g,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Da:return g=g.get(S.key===null?w:S.key)||null,c(x,g,S,j);case Gn:return g=g.get(S.key===null?w:S.key)||null,u(x,g,S,j);case Ss:var k=S._init;return p(g,x,w,k(S._payload),j)}if(ri(S)||Br(S))return g=g.get(w)||null,d(x,g,S,j,null);Ha(x,S)}return null}function v(g,x,w,S){for(var j=null,k=null,_=x,E=x=0,P=null;_!==null&&E<w.length;E++){_.index>E?(P=_,_=null):P=_.sibling;var D=f(g,_,w[E],S);if(D===null){_===null&&(_=P);break}e&&_&&D.alternate===null&&t(g,_),x=i(D,x,E),k===null?j=D:k.sibling=D,k=D,_=P}if(E===w.length)return s(g,_),ue&&on(g,E),j;if(_===null){for(;E<w.length;E++)_=h(g,w[E],S),_!==null&&(x=i(_,x,E),k===null?j=_:k.sibling=_,k=_);return ue&&on(g,E),j}for(_=n(g,_);E<w.length;E++)P=p(_,g,E,w[E],S),P!==null&&(e&&P.alternate!==null&&_.delete(P.key===null?E:P.key),x=i(P,x,E),k===null?j=P:k.sibling=P,k=P);return e&&_.forEach(function(A){return t(g,A)}),ue&&on(g,E),j}function y(g,x,w,S){var j=Br(w);if(typeof j!="function")throw Error($(150));if(w=j.call(w),w==null)throw Error($(151));for(var k=j=null,_=x,E=x=0,P=null,D=w.next();_!==null&&!D.done;E++,D=w.next()){_.index>E?(P=_,_=null):P=_.sibling;var A=f(g,_,D.value,S);if(A===null){_===null&&(_=P);break}e&&_&&A.alternate===null&&t(g,_),x=i(A,x,E),k===null?j=A:k.sibling=A,k=A,_=P}if(D.done)return s(g,_),ue&&on(g,E),j;if(_===null){for(;!D.done;E++,D=w.next())D=h(g,D.value,S),D!==null&&(x=i(D,x,E),k===null?j=D:k.sibling=D,k=D);return ue&&on(g,E),j}for(_=n(g,_);!D.done;E++,D=w.next())D=p(_,g,E,D.value,S),D!==null&&(e&&D.alternate!==null&&_.delete(D.key===null?E:D.key),x=i(D,x,E),k===null?j=D:k.sibling=D,k=D);return e&&_.forEach(function(F){return t(g,F)}),ue&&on(g,E),j}function b(g,x,w,S){if(typeof w=="object"&&w!==null&&w.type===Kn&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Da:e:{for(var j=w.key,k=x;k!==null;){if(k.key===j){if(j=w.type,j===Kn){if(k.tag===7){s(g,k.sibling),x=r(k,w.props.children),x.return=g,g=x;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ss&&hm(j)===k.type){s(g,k.sibling),x=r(k,w.props),x.ref=Kr(g,k,w),x.return=g,g=x;break e}s(g,k);break}else t(g,k);k=k.sibling}w.type===Kn?(x=wn(w.props.children,g.mode,S,w.key),x.return=g,g=x):(S=wo(w.type,w.key,w.props,null,g.mode,S),S.ref=Kr(g,x,w),S.return=g,g=S)}return o(g);case Gn:e:{for(k=w.key;x!==null;){if(x.key===k)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){s(g,x.sibling),x=r(x,w.children||[]),x.return=g,g=x;break e}else{s(g,x);break}else t(g,x);x=x.sibling}x=wc(w,g.mode,S),x.return=g,g=x}return o(g);case Ss:return k=w._init,b(g,x,k(w._payload),S)}if(ri(w))return v(g,x,w,S);if(Br(w))return y(g,x,w,S);Ha(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(s(g,x.sibling),x=r(x,w),x.return=g,g=x):(s(g,x),x=yc(w,g.mode,S),x.return=g,g=x),o(g)):s(g,x)}return b}var br=Nx(!0),_x=Nx(!1),Bo=Ys(null),qo=null,sr=null,Yd=null;function Xd(){Yd=sr=qo=null}function Qd(e){var t=Bo.current;ce(Bo),e._currentValue=t}function ku(e,t,s){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function mr(e,t){qo=e,Yd=sr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(st=!0),e.firstContext=null)}function Nt(e){var t=e._currentValue;if(Yd!==e)if(e={context:e,memoizedValue:t,next:null},sr===null){if(qo===null)throw Error($(308));sr=e,qo.dependencies={lanes:0,firstContext:e}}else sr=sr.next=e;return t}var fn=null;function Zd(e){fn===null?fn=[e]:fn.push(e)}function Ex(e,t,s,n){var r=t.interleaved;return r===null?(s.next=s,Zd(t)):(s.next=r.next,r.next=s),t.interleaved=s,ds(e,n)}function ds(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var ks=!1;function eh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ls(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fs(e,t,s){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Z&2){var r=n.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),n.pending=t,ds(e,s)}return r=n.interleaved,r===null?(t.next=t,Zd(n)):(t.next=r.next,r.next=t),n.interleaved=t,ds(e,s)}function mo(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,Fd(e,s)}}function fm(e,t){var s=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var r=null,i=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};i===null?r=i=o:i=i.next=o,s=s.next}while(s!==null);i===null?r=i=t:i=i.next=t}else r=i=t;s={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Wo(e,t,s,n){var r=e.updateQueue;ks=!1;var i=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=r.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,p=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,y=l;switch(f=t,p=s,y.tag){case 1:if(v=y.payload,typeof v=="function"){h=v.call(p,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,f=typeof v=="function"?v.call(p,h,f):v,f==null)break e;h=pe({},h,f);break e;case 2:ks=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=r.effects,f===null?r.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,o|=f;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;f=l,l=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(d===null&&(c=h),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=d,t=r.shared.interleaved,t!==null){r=t;do o|=r.lane,r=r.next;while(r!==t)}else i===null&&(r.shared.lanes=0);_n|=o,e.lanes=o,e.memoizedState=h}}function mm(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],r=n.callback;if(r!==null){if(n.callback=null,n=s,typeof r!="function")throw Error($(191,r));r.call(n)}}}var xa={},Gt=Ys(xa),zi=Ys(xa),Vi=Ys(xa);function mn(e){if(e===xa)throw Error($(174));return e}function th(e,t){switch(oe(Vi,t),oe(zi,e),oe(Gt,xa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ru(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ru(t,e)}ce(Gt),oe(Gt,t)}function jr(){ce(Gt),ce(zi),ce(Vi)}function Tx(e){mn(Vi.current);var t=mn(Gt.current),s=ru(t,e.type);t!==s&&(oe(zi,e),oe(Gt,s))}function sh(e){zi.current===e&&(ce(Gt),ce(zi))}var de=Ys(0);function Ho(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fc=[];function nh(){for(var e=0;e<fc.length;e++)fc[e]._workInProgressVersionPrimary=null;fc.length=0}var po=ps.ReactCurrentDispatcher,mc=ps.ReactCurrentBatchConfig,Nn=0,fe=null,Ne=null,Pe=null,Go=!1,mi=!1,Bi=0,$j=0;function $e(){throw Error($(321))}function rh(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!$t(e[s],t[s]))return!1;return!0}function ih(e,t,s,n,r,i){if(Nn=i,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,po.current=e===null||e.memoizedState===null?Vj:Bj,e=s(n,r),mi){i=0;do{if(mi=!1,Bi=0,25<=i)throw Error($(301));i+=1,Pe=Ne=null,t.updateQueue=null,po.current=qj,e=s(n,r)}while(mi)}if(po.current=Ko,t=Ne!==null&&Ne.next!==null,Nn=0,Pe=Ne=fe=null,Go=!1,t)throw Error($(300));return e}function ah(){var e=Bi!==0;return Bi=0,e}function qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?fe.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function _t(){if(Ne===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=Pe===null?fe.memoizedState:Pe.next;if(t!==null)Pe=t,Ne=e;else{if(e===null)throw Error($(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Pe===null?fe.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function qi(e,t){return typeof t=="function"?t(e):t}function pc(e){var t=_t(),s=t.queue;if(s===null)throw Error($(311));s.lastRenderedReducer=e;var n=Ne,r=n.baseQueue,i=s.pending;if(i!==null){if(r!==null){var o=r.next;r.next=i.next,i.next=o}n.baseQueue=r=i,s.pending=null}if(r!==null){i=r.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Nn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,fe.lanes|=d,_n|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,$t(n,t.memoizedState)||(st=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,s.lastRenderedState=n}if(e=s.interleaved,e!==null){r=e;do i=r.lane,fe.lanes|=i,_n|=i,r=r.next;while(r!==e)}else r===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function gc(e){var t=_t(),s=t.queue;if(s===null)throw Error($(311));s.lastRenderedReducer=e;var n=s.dispatch,r=s.pending,i=t.memoizedState;if(r!==null){s.pending=null;var o=r=r.next;do i=e(i,o.action),o=o.next;while(o!==r);$t(i,t.memoizedState)||(st=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),s.lastRenderedState=i}return[i,n]}function Px(){}function Ax(e,t){var s=fe,n=_t(),r=t(),i=!$t(n.memoizedState,r);if(i&&(n.memoizedState=r,st=!0),n=n.queue,oh(Ix.bind(null,s,n,e),[e]),n.getSnapshot!==t||i||Pe!==null&&Pe.memoizedState.tag&1){if(s.flags|=2048,Wi(9,Ox.bind(null,s,n,r,t),void 0,null),Ae===null)throw Error($(349));Nn&30||Rx(s,t,r)}return r}function Rx(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=fe.updateQueue,t===null?(t={lastEffect:null,stores:null},fe.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Ox(e,t,s,n){t.value=s,t.getSnapshot=n,Dx(t)&&Lx(e)}function Ix(e,t,s){return s(function(){Dx(t)&&Lx(e)})}function Dx(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!$t(e,s)}catch{return!0}}function Lx(e){var t=ds(e,1);t!==null&&Mt(t,e,1,-1)}function pm(e){var t=qt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:e},t.queue=e,e=e.dispatch=zj.bind(null,fe,e),[t.memoizedState,e]}function Wi(e,t,s,n){return e={tag:e,create:t,destroy:s,deps:n,next:null},t=fe.updateQueue,t===null?(t={lastEffect:null,stores:null},fe.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e)),e}function Mx(){return _t().memoizedState}function go(e,t,s,n){var r=qt();fe.flags|=e,r.memoizedState=Wi(1|t,s,void 0,n===void 0?null:n)}function xl(e,t,s,n){var r=_t();n=n===void 0?null:n;var i=void 0;if(Ne!==null){var o=Ne.memoizedState;if(i=o.destroy,n!==null&&rh(n,o.deps)){r.memoizedState=Wi(t,s,i,n);return}}fe.flags|=e,r.memoizedState=Wi(1|t,s,i,n)}function gm(e,t){return go(8390656,8,e,t)}function oh(e,t){return xl(2048,8,e,t)}function $x(e,t){return xl(4,2,e,t)}function Fx(e,t){return xl(4,4,e,t)}function Ux(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zx(e,t,s){return s=s!=null?s.concat([e]):null,xl(4,4,Ux.bind(null,t,e),s)}function lh(){}function Vx(e,t){var s=_t();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&rh(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function Bx(e,t){var s=_t();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&rh(t,n[1])?n[0]:(e=e(),s.memoizedState=[e,t],e)}function qx(e,t,s){return Nn&21?($t(s,t)||(s=J0(),fe.lanes|=s,_n|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,st=!0),e.memoizedState=s)}function Fj(e,t){var s=te;te=s!==0&&4>s?s:4,e(!0);var n=mc.transition;mc.transition={};try{e(!1),t()}finally{te=s,mc.transition=n}}function Wx(){return _t().memoizedState}function Uj(e,t,s){var n=zs(e);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},Hx(e))Gx(t,s);else if(s=Ex(e,t,s,n),s!==null){var r=Ye();Mt(s,e,n,r),Kx(s,t,n)}}function zj(e,t,s){var n=zs(e),r={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(Hx(e))Gx(t,r);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,s);if(r.hasEagerState=!0,r.eagerState=l,$t(l,o)){var c=t.interleaved;c===null?(r.next=r,Zd(t)):(r.next=c.next,c.next=r),t.interleaved=r;return}}catch{}finally{}s=Ex(e,t,r,n),s!==null&&(r=Ye(),Mt(s,e,n,r),Kx(s,t,n))}}function Hx(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function Gx(e,t){mi=Go=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Kx(e,t,s){if(s&4194240){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,Fd(e,s)}}var Ko={readContext:Nt,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useInsertionEffect:$e,useLayoutEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useMutableSource:$e,useSyncExternalStore:$e,useId:$e,unstable_isNewReconciler:!1},Vj={readContext:Nt,useCallback:function(e,t){return qt().memoizedState=[e,t===void 0?null:t],e},useContext:Nt,useEffect:gm,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,go(4194308,4,Ux.bind(null,t,e),s)},useLayoutEffect:function(e,t){return go(4194308,4,e,t)},useInsertionEffect:function(e,t){return go(4,2,e,t)},useMemo:function(e,t){var s=qt();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var n=qt();return t=s!==void 0?s(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Uj.bind(null,fe,e),[n.memoizedState,e]},useRef:function(e){var t=qt();return e={current:e},t.memoizedState=e},useState:pm,useDebugValue:lh,useDeferredValue:function(e){return qt().memoizedState=e},useTransition:function(){var e=pm(!1),t=e[0];return e=Fj.bind(null,e[1]),qt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var n=fe,r=qt();if(ue){if(s===void 0)throw Error($(407));s=s()}else{if(s=t(),Ae===null)throw Error($(349));Nn&30||Rx(n,t,s)}r.memoizedState=s;var i={value:s,getSnapshot:t};return r.queue=i,gm(Ix.bind(null,n,i,e),[e]),n.flags|=2048,Wi(9,Ox.bind(null,n,i,s,t),void 0,null),s},useId:function(){var e=qt(),t=Ae.identifierPrefix;if(ue){var s=os,n=as;s=(n&~(1<<32-Lt(n)-1)).toString(32)+s,t=":"+t+"R"+s,s=Bi++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=$j++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Bj={readContext:Nt,useCallback:Vx,useContext:Nt,useEffect:oh,useImperativeHandle:zx,useInsertionEffect:$x,useLayoutEffect:Fx,useMemo:Bx,useReducer:pc,useRef:Mx,useState:function(){return pc(qi)},useDebugValue:lh,useDeferredValue:function(e){var t=_t();return qx(t,Ne.memoizedState,e)},useTransition:function(){var e=pc(qi)[0],t=_t().memoizedState;return[e,t]},useMutableSource:Px,useSyncExternalStore:Ax,useId:Wx,unstable_isNewReconciler:!1},qj={readContext:Nt,useCallback:Vx,useContext:Nt,useEffect:oh,useImperativeHandle:zx,useInsertionEffect:$x,useLayoutEffect:Fx,useMemo:Bx,useReducer:gc,useRef:Mx,useState:function(){return gc(qi)},useDebugValue:lh,useDeferredValue:function(e){var t=_t();return Ne===null?t.memoizedState=e:qx(t,Ne.memoizedState,e)},useTransition:function(){var e=gc(qi)[0],t=_t().memoizedState;return[e,t]},useMutableSource:Px,useSyncExternalStore:Ax,useId:Wx,unstable_isNewReconciler:!1};function At(e,t){if(e&&e.defaultProps){t=pe({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function Nu(e,t,s,n){t=e.memoizedState,s=s(n,t),s=s==null?t:pe({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var vl={isMounted:function(e){return(e=e._reactInternals)?Pn(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var n=Ye(),r=zs(e),i=ls(n,r);i.payload=t,s!=null&&(i.callback=s),t=Fs(e,i,r),t!==null&&(Mt(t,e,r,n),mo(t,e,r))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=Ye(),r=zs(e),i=ls(n,r);i.tag=1,i.payload=t,s!=null&&(i.callback=s),t=Fs(e,i,r),t!==null&&(Mt(t,e,r,n),mo(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Ye(),n=zs(e),r=ls(s,n);r.tag=2,t!=null&&(r.callback=t),t=Fs(e,r,n),t!==null&&(Mt(t,e,n,s),mo(t,e,n))}};function xm(e,t,s,n,r,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Mi(s,n)||!Mi(r,i):!0}function Jx(e,t,s){var n=!1,r=Hs,i=t.contextType;return typeof i=="object"&&i!==null?i=Nt(i):(r=it(t)?Sn:We.current,n=t.contextTypes,i=(n=n!=null)?yr(e,r):Hs),t=new t(s,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vl,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),t}function vm(e,t,s,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&vl.enqueueReplaceState(t,t.state,null)}function _u(e,t,s,n){var r=e.stateNode;r.props=s,r.state=e.memoizedState,r.refs={},eh(e);var i=t.contextType;typeof i=="object"&&i!==null?r.context=Nt(i):(i=it(t)?Sn:We.current,r.context=yr(e,i)),r.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Nu(e,t,i,s),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&vl.enqueueReplaceState(r,r.state,null),Wo(e,s,r,n),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function Sr(e,t){try{var s="",n=t;do s+=v1(n),n=n.return;while(n);var r=s}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:r,digest:null}}function xc(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function Eu(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var Wj=typeof WeakMap=="function"?WeakMap:Map;function Yx(e,t,s){s=ls(-1,s),s.tag=3,s.payload={element:null};var n=t.value;return s.callback=function(){Yo||(Yo=!0,Mu=n),Eu(e,t)},s}function Xx(e,t,s){s=ls(-1,s),s.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var r=t.value;s.payload=function(){return n(r)},s.callback=function(){Eu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(s.callback=function(){Eu(e,t),typeof n!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),s}function ym(e,t,s){var n=e.pingCache;if(n===null){n=e.pingCache=new Wj;var r=new Set;n.set(t,r)}else r=n.get(t),r===void 0&&(r=new Set,n.set(t,r));r.has(s)||(r.add(s),e=iS.bind(null,e,t,s),t.then(e,e))}function wm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function bm(e,t,s,n,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=ls(-1,1),t.tag=2,Fs(s,t,1))),s.lanes|=1),e)}var Hj=ps.ReactCurrentOwner,st=!1;function Ge(e,t,s,n){t.child=e===null?_x(t,null,s,n):br(t,e.child,s,n)}function jm(e,t,s,n,r){s=s.render;var i=t.ref;return mr(t,r),n=ih(e,t,s,n,i,r),s=ah(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,hs(e,t,r)):(ue&&s&&Gd(t),t.flags|=1,Ge(e,t,n,r),t.child)}function Sm(e,t,s,n,r){if(e===null){var i=s.type;return typeof i=="function"&&!gh(i)&&i.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=i,Qx(e,t,i,n,r)):(e=wo(s.type,null,n,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&r)){var o=i.memoizedProps;if(s=s.compare,s=s!==null?s:Mi,s(o,n)&&e.ref===t.ref)return hs(e,t,r)}return t.flags|=1,e=Vs(i,n),e.ref=t.ref,e.return=t,t.child=e}function Qx(e,t,s,n,r){if(e!==null){var i=e.memoizedProps;if(Mi(i,n)&&e.ref===t.ref)if(st=!1,t.pendingProps=n=i,(e.lanes&r)!==0)e.flags&131072&&(st=!0);else return t.lanes=e.lanes,hs(e,t,r)}return Cu(e,t,s,n,r)}function Zx(e,t,s){var n=t.pendingProps,r=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(rr,ct),ct|=s;else{if(!(s&1073741824))return e=i!==null?i.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,oe(rr,ct),ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:s,oe(rr,ct),ct|=n}else i!==null?(n=i.baseLanes|s,t.memoizedState=null):n=s,oe(rr,ct),ct|=n;return Ge(e,t,r,s),t.child}function ev(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function Cu(e,t,s,n,r){var i=it(s)?Sn:We.current;return i=yr(t,i),mr(t,r),s=ih(e,t,s,n,i,r),n=ah(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,hs(e,t,r)):(ue&&n&&Gd(t),t.flags|=1,Ge(e,t,s,r),t.child)}function km(e,t,s,n,r){if(it(s)){var i=!0;Uo(t)}else i=!1;if(mr(t,r),t.stateNode===null)xo(e,t),Jx(t,s,n),_u(t,s,n,r),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=s.contextType;typeof u=="object"&&u!==null?u=Nt(u):(u=it(s)?Sn:We.current,u=yr(t,u));var d=s.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&vm(t,o,n,u),ks=!1;var f=t.memoizedState;o.state=f,Wo(t,n,o,r),c=t.memoizedState,l!==n||f!==c||rt.current||ks?(typeof d=="function"&&(Nu(t,s,d,n),c=t.memoizedState),(l=ks||xm(t,s,l,n,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Cx(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:At(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=s.contextType,typeof c=="object"&&c!==null?c=Nt(c):(c=it(s)?Sn:We.current,c=yr(t,c));var p=s.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&vm(t,o,n,c),ks=!1,f=t.memoizedState,o.state=f,Wo(t,n,o,r);var v=t.memoizedState;l!==h||f!==v||rt.current||ks?(typeof p=="function"&&(Nu(t,s,p,n),v=t.memoizedState),(u=ks||xm(t,s,u,n,f,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Tu(e,t,s,n,i,r)}function Tu(e,t,s,n,r,i){ev(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return r&&cm(t,s,!1),hs(e,t,i);n=t.stateNode,Hj.current=t;var l=o&&typeof s.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=br(t,e.child,null,i),t.child=br(t,null,l,i)):Ge(e,t,l,i),t.memoizedState=n.state,r&&cm(t,s,!0),t.child}function tv(e){var t=e.stateNode;t.pendingContext?lm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&lm(e,t.context,!1),th(e,t.containerInfo)}function Nm(e,t,s,n,r){return wr(),Jd(r),t.flags|=256,Ge(e,t,s,n),t.child}var Pu={dehydrated:null,treeContext:null,retryLane:0};function Au(e){return{baseLanes:e,cachePool:null,transitions:null}}function sv(e,t,s){var n=t.pendingProps,r=de.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(r&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),oe(de,r&1),e===null)return Su(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=bl(o,n,0,null),e=wn(e,n,s,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Au(s),t.memoizedState=Pu,e):ch(t,o));if(r=e.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return Gj(e,t,o,n,l,r,s);if(i){i=n.fallback,o=t.mode,r=e.child,l=r.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==r?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Vs(r,c),n.subtreeFlags=r.subtreeFlags&14680064),l!==null?i=Vs(l,i):(i=wn(i,o,s,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Au(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~s,t.memoizedState=Pu,n}return i=e.child,e=i.sibling,n=Vs(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=s),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n}function ch(e,t){return t=bl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ga(e,t,s,n){return n!==null&&Jd(n),br(t,e.child,null,s),e=ch(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Gj(e,t,s,n,r,i,o){if(s)return t.flags&256?(t.flags&=-257,n=xc(Error($(422))),Ga(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,r=t.mode,n=bl({mode:"visible",children:n.children},r,0,null),i=wn(i,r,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&br(t,e.child,null,o),t.child.memoizedState=Au(o),t.memoizedState=Pu,i);if(!(t.mode&1))return Ga(e,t,o,null);if(r.data==="$!"){if(n=r.nextSibling&&r.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error($(419)),n=xc(i,n,void 0),Ga(e,t,o,n)}if(l=(o&e.childLanes)!==0,st||l){if(n=Ae,n!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(n.suspendedLanes|o)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,ds(e,r),Mt(n,e,r,-1))}return ph(),n=xc(Error($(421))),Ga(e,t,o,n)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=aS.bind(null,e),r._reactRetry=t,null):(e=i.treeContext,ut=$s(r.nextSibling),dt=t,ue=!0,It=null,e!==null&&(yt[wt++]=as,yt[wt++]=os,yt[wt++]=kn,as=e.id,os=e.overflow,kn=t),t=ch(t,n.children),t.flags|=4096,t)}function _m(e,t,s){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ku(e.return,t,s)}function vc(e,t,s,n,r){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=s,i.tailMode=r)}function nv(e,t,s){var n=t.pendingProps,r=n.revealOrder,i=n.tail;if(Ge(e,t,n.children,s),n=de.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_m(e,s,t);else if(e.tag===19)_m(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(oe(de,n),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(s=t.child,r=null;s!==null;)e=s.alternate,e!==null&&Ho(e)===null&&(r=s),s=s.sibling;s=r,s===null?(r=t.child,t.child=null):(r=s.sibling,s.sibling=null),vc(t,!1,r,s,i);break;case"backwards":for(s=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Ho(e)===null){t.child=r;break}e=r.sibling,r.sibling=s,s=r,r=e}vc(t,!0,s,null,i);break;case"together":vc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hs(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),_n|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,s=Vs(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Vs(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Kj(e,t,s){switch(t.tag){case 3:tv(t),wr();break;case 5:Tx(t);break;case 1:it(t.type)&&Uo(t);break;case 4:th(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,r=t.memoizedProps.value;oe(Bo,n._currentValue),n._currentValue=r;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(oe(de,de.current&1),t.flags|=128,null):s&t.child.childLanes?sv(e,t,s):(oe(de,de.current&1),e=hs(e,t,s),e!==null?e.sibling:null);oe(de,de.current&1);break;case 19:if(n=(s&t.childLanes)!==0,e.flags&128){if(n)return nv(e,t,s);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),oe(de,de.current),n)break;return null;case 22:case 23:return t.lanes=0,Zx(e,t,s)}return hs(e,t,s)}var rv,Ru,iv,av;rv=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Ru=function(){};iv=function(e,t,s,n){var r=e.memoizedProps;if(r!==n){e=t.stateNode,mn(Gt.current);var i=null;switch(s){case"input":r=eu(e,r),n=eu(e,n),i=[];break;case"select":r=pe({},r,{value:void 0}),n=pe({},n,{value:void 0}),i=[];break;case"textarea":r=nu(e,r),n=nu(e,n),i=[];break;default:typeof r.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=$o)}iu(s,n);var o;s=null;for(u in r)if(!n.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var l=r[u];for(o in l)l.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Pi.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=r!=null?r[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(s||(s={}),s[o]=c[o])}else s||(i||(i=[]),i.push(u,s)),s=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Pi.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&le("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}s&&(i=i||[]).push("style",s);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};av=function(e,t,s,n){s!==n&&(t.flags|=4)};function Jr(e,t){if(!ue)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,n=0;if(t)for(var r=e.child;r!==null;)s|=r.lanes|r.childLanes,n|=r.subtreeFlags&14680064,n|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)s|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function Jj(e,t,s){var n=t.pendingProps;switch(Kd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(t),null;case 1:return it(t.type)&&Fo(),Fe(t),null;case 3:return n=t.stateNode,jr(),ce(rt),ce(We),nh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Wa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,It!==null&&(Uu(It),It=null))),Ru(e,t),Fe(t),null;case 5:sh(t);var r=mn(Vi.current);if(s=t.type,e!==null&&t.stateNode!=null)iv(e,t,s,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error($(166));return Fe(t),null}if(e=mn(Gt.current),Wa(t)){n=t.stateNode,s=t.type;var i=t.memoizedProps;switch(n[Wt]=t,n[Ui]=i,e=(t.mode&1)!==0,s){case"dialog":le("cancel",n),le("close",n);break;case"iframe":case"object":case"embed":le("load",n);break;case"video":case"audio":for(r=0;r<ai.length;r++)le(ai[r],n);break;case"source":le("error",n);break;case"img":case"image":case"link":le("error",n),le("load",n);break;case"details":le("toggle",n);break;case"input":Df(n,i),le("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},le("invalid",n);break;case"textarea":Mf(n,i),le("invalid",n)}iu(s,i),r=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&qa(n.textContent,l,e),r=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&qa(n.textContent,l,e),r=["children",""+l]):Pi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&le("scroll",n)}switch(s){case"input":La(n),Lf(n,i,!0);break;case"textarea":La(n),$f(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=$o)}n=r,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=I0(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(s,{is:n.is}):(e=o.createElement(s),s==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,s),e[Wt]=t,e[Ui]=n,rv(e,t,!1,!1),t.stateNode=e;e:{switch(o=au(s,n),s){case"dialog":le("cancel",e),le("close",e),r=n;break;case"iframe":case"object":case"embed":le("load",e),r=n;break;case"video":case"audio":for(r=0;r<ai.length;r++)le(ai[r],e);r=n;break;case"source":le("error",e),r=n;break;case"img":case"image":case"link":le("error",e),le("load",e),r=n;break;case"details":le("toggle",e),r=n;break;case"input":Df(e,n),r=eu(e,n),le("invalid",e);break;case"option":r=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},r=pe({},n,{value:void 0}),le("invalid",e);break;case"textarea":Mf(e,n),r=nu(e,n),le("invalid",e);break;default:r=n}iu(s,r),l=r;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?M0(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&D0(e,c)):i==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&Ai(e,c):typeof c=="number"&&Ai(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Pi.hasOwnProperty(i)?c!=null&&i==="onScroll"&&le("scroll",e):c!=null&&Od(e,i,c,o))}switch(s){case"input":La(e),Lf(e,n,!1);break;case"textarea":La(e),$f(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ws(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?ur(e,!!n.multiple,i,!1):n.defaultValue!=null&&ur(e,!!n.multiple,n.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=$o)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Fe(t),null;case 6:if(e&&t.stateNode!=null)av(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error($(166));if(s=mn(Vi.current),mn(Gt.current),Wa(t)){if(n=t.stateNode,s=t.memoizedProps,n[Wt]=t,(i=n.nodeValue!==s)&&(e=dt,e!==null))switch(e.tag){case 3:qa(n.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qa(n.nodeValue,s,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[Wt]=t,t.stateNode=n}return Fe(t),null;case 13:if(ce(de),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ue&&ut!==null&&t.mode&1&&!(t.flags&128))kx(),wr(),t.flags|=98560,i=!1;else if(i=Wa(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error($(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[Wt]=t}else wr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Fe(t),i=!1}else It!==null&&(Uu(It),It=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||de.current&1?_e===0&&(_e=3):ph())),t.updateQueue!==null&&(t.flags|=4),Fe(t),null);case 4:return jr(),Ru(e,t),e===null&&$i(t.stateNode.containerInfo),Fe(t),null;case 10:return Qd(t.type._context),Fe(t),null;case 17:return it(t.type)&&Fo(),Fe(t),null;case 19:if(ce(de),i=t.memoizedState,i===null)return Fe(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Jr(i,!1);else{if(_e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ho(e),o!==null){for(t.flags|=128,Jr(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=s,s=t.child;s!==null;)i=s,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return oe(de,de.current&1|2),t.child}e=e.sibling}i.tail!==null&&be()>kr&&(t.flags|=128,n=!0,Jr(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ho(o),e!==null){if(t.flags|=128,n=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Jr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ue)return Fe(t),null}else 2*be()-i.renderingStartTime>kr&&s!==1073741824&&(t.flags|=128,n=!0,Jr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(s=i.last,s!==null?s.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=be(),t.sibling=null,s=de.current,oe(de,n?s&1|2:s&1),t):(Fe(t),null);case 22:case 23:return mh(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ct&1073741824&&(Fe(t),t.subtreeFlags&6&&(t.flags|=8192)):Fe(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function Yj(e,t){switch(Kd(t),t.tag){case 1:return it(t.type)&&Fo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return jr(),ce(rt),ce(We),nh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return sh(t),null;case 13:if(ce(de),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));wr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ce(de),null;case 4:return jr(),null;case 10:return Qd(t.type._context),null;case 22:case 23:return mh(),null;case 24:return null;default:return null}}var Ka=!1,ze=!1,Xj=typeof WeakSet=="function"?WeakSet:Set,V=null;function nr(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){ve(e,t,n)}else s.current=null}function Ou(e,t,s){try{s()}catch(n){ve(e,t,n)}}var Em=!1;function Qj(e,t){if(gu=Do,e=dx(),Hd(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var r=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{s.nodeType,i.nodeType}catch{s=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==s||r!==0&&h.nodeType!==3||(l=o+r),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===s&&++u===r&&(l=o),f===i&&++d===n&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(xu={focusedElem:e,selectionRange:s},Do=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,b=v.memoizedState,g=t.stateNode,x=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:At(t.type,y),b);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(S){ve(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return v=Em,Em=!1,v}function pi(e,t,s){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do{if((r.tag&e)===e){var i=r.destroy;r.destroy=void 0,i!==void 0&&Ou(t,s,i)}r=r.next}while(r!==n)}}function yl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var n=s.create;s.destroy=n()}s=s.next}while(s!==t)}}function Iu(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function ov(e){var t=e.alternate;t!==null&&(e.alternate=null,ov(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Wt],delete t[Ui],delete t[wu],delete t[Ij],delete t[Dj])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lv(e){return e.tag===5||e.tag===3||e.tag===4}function Cm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Du(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=$o));else if(n!==4&&(e=e.child,e!==null))for(Du(e,t,s),e=e.sibling;e!==null;)Du(e,t,s),e=e.sibling}function Lu(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Lu(e,t,s),e=e.sibling;e!==null;)Lu(e,t,s),e=e.sibling}var Ie=null,Rt=!1;function vs(e,t,s){for(s=s.child;s!==null;)cv(e,t,s),s=s.sibling}function cv(e,t,s){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(dl,s)}catch{}switch(s.tag){case 5:ze||nr(s,t);case 6:var n=Ie,r=Rt;Ie=null,vs(e,t,s),Ie=n,Rt=r,Ie!==null&&(Rt?(e=Ie,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ie.removeChild(s.stateNode));break;case 18:Ie!==null&&(Rt?(e=Ie,s=s.stateNode,e.nodeType===8?dc(e.parentNode,s):e.nodeType===1&&dc(e,s),Di(e)):dc(Ie,s.stateNode));break;case 4:n=Ie,r=Rt,Ie=s.stateNode.containerInfo,Rt=!0,vs(e,t,s),Ie=n,Rt=r;break;case 0:case 11:case 14:case 15:if(!ze&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){r=n=n.next;do{var i=r,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ou(s,t,o),r=r.next}while(r!==n)}vs(e,t,s);break;case 1:if(!ze&&(nr(s,t),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(l){ve(s,t,l)}vs(e,t,s);break;case 21:vs(e,t,s);break;case 22:s.mode&1?(ze=(n=ze)||s.memoizedState!==null,vs(e,t,s),ze=n):vs(e,t,s);break;default:vs(e,t,s)}}function Tm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Xj),t.forEach(function(n){var r=oS.bind(null,e,n);s.has(n)||(s.add(n),n.then(r,r))})}}function Tt(e,t){var s=t.deletions;if(s!==null)for(var n=0;n<s.length;n++){var r=s[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ie=l.stateNode,Rt=!1;break e;case 3:Ie=l.stateNode.containerInfo,Rt=!0;break e;case 4:Ie=l.stateNode.containerInfo,Rt=!0;break e}l=l.return}if(Ie===null)throw Error($(160));cv(i,o,r),Ie=null,Rt=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(u){ve(r,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)uv(t,e),t=t.sibling}function uv(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tt(t,e),Vt(e),n&4){try{pi(3,e,e.return),yl(3,e)}catch(y){ve(e,e.return,y)}try{pi(5,e,e.return)}catch(y){ve(e,e.return,y)}}break;case 1:Tt(t,e),Vt(e),n&512&&s!==null&&nr(s,s.return);break;case 5:if(Tt(t,e),Vt(e),n&512&&s!==null&&nr(s,s.return),e.flags&32){var r=e.stateNode;try{Ai(r,"")}catch(y){ve(e,e.return,y)}}if(n&4&&(r=e.stateNode,r!=null)){var i=e.memoizedProps,o=s!==null?s.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&R0(r,i),au(l,o);var u=au(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?M0(r,h):d==="dangerouslySetInnerHTML"?D0(r,h):d==="children"?Ai(r,h):Od(r,d,h,u)}switch(l){case"input":tu(r,i);break;case"textarea":O0(r,i);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ur(r,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?ur(r,!!i.multiple,i.defaultValue,!0):ur(r,!!i.multiple,i.multiple?[]:"",!1))}r[Ui]=i}catch(y){ve(e,e.return,y)}}break;case 6:if(Tt(t,e),Vt(e),n&4){if(e.stateNode===null)throw Error($(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(y){ve(e,e.return,y)}}break;case 3:if(Tt(t,e),Vt(e),n&4&&s!==null&&s.memoizedState.isDehydrated)try{Di(t.containerInfo)}catch(y){ve(e,e.return,y)}break;case 4:Tt(t,e),Vt(e);break;case 13:Tt(t,e),Vt(e),r=e.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(hh=be())),n&4&&Tm(e);break;case 22:if(d=s!==null&&s.memoizedState!==null,e.mode&1?(ze=(u=ze)||d,Tt(t,e),ze=u):Tt(t,e),Vt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(V=e,d=e.child;d!==null;){for(h=V=d;V!==null;){switch(f=V,p=f.child,f.tag){case 0:case 11:case 14:case 15:pi(4,f,f.return);break;case 1:nr(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,s=f.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){ve(n,s,y)}}break;case 5:nr(f,f.return);break;case 22:if(f.memoizedState!==null){Am(h);continue}}p!==null?(p.return=f,V=p):Am(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{r=h.stateNode,u?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=L0("display",o))}catch(y){ve(e,e.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){ve(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Tt(t,e),Vt(e),n&4&&Tm(e);break;case 21:break;default:Tt(t,e),Vt(e)}}function Vt(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(lv(s)){var n=s;break e}s=s.return}throw Error($(160))}switch(n.tag){case 5:var r=n.stateNode;n.flags&32&&(Ai(r,""),n.flags&=-33);var i=Cm(e);Lu(e,i,r);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Cm(e);Du(e,l,o);break;default:throw Error($(161))}}catch(c){ve(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Zj(e,t,s){V=e,dv(e)}function dv(e,t,s){for(var n=(e.mode&1)!==0;V!==null;){var r=V,i=r.child;if(r.tag===22&&n){var o=r.memoizedState!==null||Ka;if(!o){var l=r.alternate,c=l!==null&&l.memoizedState!==null||ze;l=Ka;var u=ze;if(Ka=o,(ze=c)&&!u)for(V=r;V!==null;)o=V,c=o.child,o.tag===22&&o.memoizedState!==null?Rm(r):c!==null?(c.return=o,V=c):Rm(r);for(;i!==null;)V=i,dv(i),i=i.sibling;V=r,Ka=l,ze=u}Pm(e)}else r.subtreeFlags&8772&&i!==null?(i.return=r,V=i):Pm(e)}}function Pm(e){for(;V!==null;){var t=V;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ze||yl(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ze)if(s===null)n.componentDidMount();else{var r=t.elementType===t.type?s.memoizedProps:At(t.type,s.memoizedProps);n.componentDidUpdate(r,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&mm(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}mm(t,o,s)}break;case 5:var l=t.stateNode;if(s===null&&t.flags&4){s=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Di(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}ze||t.flags&512&&Iu(t)}catch(f){ve(t,t.return,f)}}if(t===e){V=null;break}if(s=t.sibling,s!==null){s.return=t.return,V=s;break}V=t.return}}function Am(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var s=t.sibling;if(s!==null){s.return=t.return,V=s;break}V=t.return}}function Rm(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{yl(4,t)}catch(c){ve(t,s,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var r=t.return;try{n.componentDidMount()}catch(c){ve(t,r,c)}}var i=t.return;try{Iu(t)}catch(c){ve(t,i,c)}break;case 5:var o=t.return;try{Iu(t)}catch(c){ve(t,o,c)}}}catch(c){ve(t,t.return,c)}if(t===e){V=null;break}var l=t.sibling;if(l!==null){l.return=t.return,V=l;break}V=t.return}}var eS=Math.ceil,Jo=ps.ReactCurrentDispatcher,uh=ps.ReactCurrentOwner,St=ps.ReactCurrentBatchConfig,Z=0,Ae=null,Se=null,Le=0,ct=0,rr=Ys(0),_e=0,Hi=null,_n=0,wl=0,dh=0,gi=null,et=null,hh=0,kr=1/0,ns=null,Yo=!1,Mu=null,Us=null,Ja=!1,Rs=null,Xo=0,xi=0,$u=null,vo=-1,yo=0;function Ye(){return Z&6?be():vo!==-1?vo:vo=be()}function zs(e){return e.mode&1?Z&2&&Le!==0?Le&-Le:Mj.transition!==null?(yo===0&&(yo=J0()),yo):(e=te,e!==0||(e=window.event,e=e===void 0?16:sx(e.type)),e):1}function Mt(e,t,s,n){if(50<xi)throw xi=0,$u=null,Error($(185));ma(e,s,n),(!(Z&2)||e!==Ae)&&(e===Ae&&(!(Z&2)&&(wl|=s),_e===4&&Cs(e,Le)),at(e,n),s===1&&Z===0&&!(t.mode&1)&&(kr=be()+500,gl&&Xs()))}function at(e,t){var s=e.callbackNode;M1(e,t);var n=Io(e,e===Ae?Le:0);if(n===0)s!==null&&zf(s),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(s!=null&&zf(s),t===1)e.tag===0?Lj(Om.bind(null,e)):bx(Om.bind(null,e)),Rj(function(){!(Z&6)&&Xs()}),s=null;else{switch(Y0(n)){case 1:s=$d;break;case 4:s=G0;break;case 16:s=Oo;break;case 536870912:s=K0;break;default:s=Oo}s=yv(s,hv.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function hv(e,t){if(vo=-1,yo=0,Z&6)throw Error($(327));var s=e.callbackNode;if(pr()&&e.callbackNode!==s)return null;var n=Io(e,e===Ae?Le:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Qo(e,n);else{t=n;var r=Z;Z|=2;var i=mv();(Ae!==e||Le!==t)&&(ns=null,kr=be()+500,yn(e,t));do try{nS();break}catch(l){fv(e,l)}while(!0);Xd(),Jo.current=i,Z=r,Se!==null?t=0:(Ae=null,Le=0,t=_e)}if(t!==0){if(t===2&&(r=du(e),r!==0&&(n=r,t=Fu(e,r))),t===1)throw s=Hi,yn(e,0),Cs(e,n),at(e,be()),s;if(t===6)Cs(e,n);else{if(r=e.current.alternate,!(n&30)&&!tS(r)&&(t=Qo(e,n),t===2&&(i=du(e),i!==0&&(n=i,t=Fu(e,i))),t===1))throw s=Hi,yn(e,0),Cs(e,n),at(e,be()),s;switch(e.finishedWork=r,e.finishedLanes=n,t){case 0:case 1:throw Error($(345));case 2:ln(e,et,ns);break;case 3:if(Cs(e,n),(n&130023424)===n&&(t=hh+500-be(),10<t)){if(Io(e,0)!==0)break;if(r=e.suspendedLanes,(r&n)!==n){Ye(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=yu(ln.bind(null,e,et,ns),t);break}ln(e,et,ns);break;case 4:if(Cs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,r=-1;0<n;){var o=31-Lt(n);i=1<<o,o=t[o],o>r&&(r=o),n&=~i}if(n=r,n=be()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*eS(n/1960))-n,10<n){e.timeoutHandle=yu(ln.bind(null,e,et,ns),n);break}ln(e,et,ns);break;case 5:ln(e,et,ns);break;default:throw Error($(329))}}}return at(e,be()),e.callbackNode===s?hv.bind(null,e):null}function Fu(e,t){var s=gi;return e.current.memoizedState.isDehydrated&&(yn(e,t).flags|=256),e=Qo(e,t),e!==2&&(t=et,et=s,t!==null&&Uu(t)),e}function Uu(e){et===null?et=e:et.push.apply(et,e)}function tS(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var r=s[n],i=r.getSnapshot;r=r.value;try{if(!$t(i(),r))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cs(e,t){for(t&=~dh,t&=~wl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Lt(t),n=1<<s;e[s]=-1,t&=~n}}function Om(e){if(Z&6)throw Error($(327));pr();var t=Io(e,0);if(!(t&1))return at(e,be()),null;var s=Qo(e,t);if(e.tag!==0&&s===2){var n=du(e);n!==0&&(t=n,s=Fu(e,n))}if(s===1)throw s=Hi,yn(e,0),Cs(e,t),at(e,be()),s;if(s===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ln(e,et,ns),at(e,be()),null}function fh(e,t){var s=Z;Z|=1;try{return e(t)}finally{Z=s,Z===0&&(kr=be()+500,gl&&Xs())}}function En(e){Rs!==null&&Rs.tag===0&&!(Z&6)&&pr();var t=Z;Z|=1;var s=St.transition,n=te;try{if(St.transition=null,te=1,e)return e()}finally{te=n,St.transition=s,Z=t,!(Z&6)&&Xs()}}function mh(){ct=rr.current,ce(rr)}function yn(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Aj(s)),Se!==null)for(s=Se.return;s!==null;){var n=s;switch(Kd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Fo();break;case 3:jr(),ce(rt),ce(We),nh();break;case 5:sh(n);break;case 4:jr();break;case 13:ce(de);break;case 19:ce(de);break;case 10:Qd(n.type._context);break;case 22:case 23:mh()}s=s.return}if(Ae=e,Se=e=Vs(e.current,null),Le=ct=t,_e=0,Hi=null,dh=wl=_n=0,et=gi=null,fn!==null){for(t=0;t<fn.length;t++)if(s=fn[t],n=s.interleaved,n!==null){s.interleaved=null;var r=n.next,i=s.pending;if(i!==null){var o=i.next;i.next=r,n.next=o}s.pending=n}fn=null}return e}function fv(e,t){do{var s=Se;try{if(Xd(),po.current=Ko,Go){for(var n=fe.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Go=!1}if(Nn=0,Pe=Ne=fe=null,mi=!1,Bi=0,uh.current=null,s===null||s.return===null){_e=1,Hi=t,Se=null;break}e:{var i=e,o=s.return,l=s,c=t;if(t=Le,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=wm(o);if(p!==null){p.flags&=-257,bm(p,o,l,i,t),p.mode&1&&ym(i,u,t),t=p,c=u;var v=t.updateQueue;if(v===null){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}else{if(!(t&1)){ym(i,u,t),ph();break e}c=Error($(426))}}else if(ue&&l.mode&1){var b=wm(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),bm(b,o,l,i,t),Jd(Sr(c,l));break e}}i=c=Sr(c,l),_e!==4&&(_e=2),gi===null?gi=[i]:gi.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Yx(i,c,t);fm(i,g);break e;case 1:l=c;var x=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Us===null||!Us.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=Xx(i,l,t);fm(i,S);break e}}i=i.return}while(i!==null)}gv(s)}catch(j){t=j,Se===s&&s!==null&&(Se=s=s.return);continue}break}while(!0)}function mv(){var e=Jo.current;return Jo.current=Ko,e===null?Ko:e}function ph(){(_e===0||_e===3||_e===2)&&(_e=4),Ae===null||!(_n&268435455)&&!(wl&268435455)||Cs(Ae,Le)}function Qo(e,t){var s=Z;Z|=2;var n=mv();(Ae!==e||Le!==t)&&(ns=null,yn(e,t));do try{sS();break}catch(r){fv(e,r)}while(!0);if(Xd(),Z=s,Jo.current=n,Se!==null)throw Error($(261));return Ae=null,Le=0,_e}function sS(){for(;Se!==null;)pv(Se)}function nS(){for(;Se!==null&&!C1();)pv(Se)}function pv(e){var t=vv(e.alternate,e,ct);e.memoizedProps=e.pendingProps,t===null?gv(e):Se=t,uh.current=null}function gv(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=Yj(s,t),s!==null){s.flags&=32767,Se=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_e=6,Se=null;return}}else if(s=Jj(s,t,ct),s!==null){Se=s;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);_e===0&&(_e=5)}function ln(e,t,s){var n=te,r=St.transition;try{St.transition=null,te=1,rS(e,t,s,n)}finally{St.transition=r,te=n}return null}function rS(e,t,s,n){do pr();while(Rs!==null);if(Z&6)throw Error($(327));s=e.finishedWork;var r=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var i=s.lanes|s.childLanes;if($1(e,i),e===Ae&&(Se=Ae=null,Le=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Ja||(Ja=!0,yv(Oo,function(){return pr(),null})),i=(s.flags&15990)!==0,s.subtreeFlags&15990||i){i=St.transition,St.transition=null;var o=te;te=1;var l=Z;Z|=4,uh.current=null,Qj(e,s),uv(s,e),kj(xu),Do=!!gu,xu=gu=null,e.current=s,Zj(s),T1(),Z=l,te=o,St.transition=i}else e.current=s;if(Ja&&(Ja=!1,Rs=e,Xo=r),i=e.pendingLanes,i===0&&(Us=null),R1(s.stateNode),at(e,be()),t!==null)for(n=e.onRecoverableError,s=0;s<t.length;s++)r=t[s],n(r.value,{componentStack:r.stack,digest:r.digest});if(Yo)throw Yo=!1,e=Mu,Mu=null,e;return Xo&1&&e.tag!==0&&pr(),i=e.pendingLanes,i&1?e===$u?xi++:(xi=0,$u=e):xi=0,Xs(),null}function pr(){if(Rs!==null){var e=Y0(Xo),t=St.transition,s=te;try{if(St.transition=null,te=16>e?16:e,Rs===null)var n=!1;else{if(e=Rs,Rs=null,Xo=0,Z&6)throw Error($(331));var r=Z;for(Z|=4,V=e.current;V!==null;){var i=V,o=i.child;if(V.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(V=u;V!==null;){var d=V;switch(d.tag){case 0:case 11:case 15:pi(8,d,i)}var h=d.child;if(h!==null)h.return=d,V=h;else for(;V!==null;){d=V;var f=d.sibling,p=d.return;if(ov(d),d===u){V=null;break}if(f!==null){f.return=p,V=f;break}V=p}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}V=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,V=o;else e:for(;V!==null;){if(i=V,i.flags&2048)switch(i.tag){case 0:case 11:case 15:pi(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,V=g;break e}V=i.return}}var x=e.current;for(V=x;V!==null;){o=V;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,V=w;else e:for(o=x;V!==null;){if(l=V,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:yl(9,l)}}catch(j){ve(l,l.return,j)}if(l===o){V=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,V=S;break e}V=l.return}}if(Z=r,Xs(),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(dl,e)}catch{}n=!0}return n}finally{te=s,St.transition=t}}return!1}function Im(e,t,s){t=Sr(s,t),t=Yx(e,t,1),e=Fs(e,t,1),t=Ye(),e!==null&&(ma(e,1,t),at(e,t))}function ve(e,t,s){if(e.tag===3)Im(e,e,s);else for(;t!==null;){if(t.tag===3){Im(t,e,s);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Us===null||!Us.has(n))){e=Sr(s,e),e=Xx(t,e,1),t=Fs(t,e,1),e=Ye(),t!==null&&(ma(t,1,e),at(t,e));break}}t=t.return}}function iS(e,t,s){var n=e.pingCache;n!==null&&n.delete(t),t=Ye(),e.pingedLanes|=e.suspendedLanes&s,Ae===e&&(Le&s)===s&&(_e===4||_e===3&&(Le&130023424)===Le&&500>be()-hh?yn(e,0):dh|=s),at(e,t)}function xv(e,t){t===0&&(e.mode&1?(t=Fa,Fa<<=1,!(Fa&130023424)&&(Fa=4194304)):t=1);var s=Ye();e=ds(e,t),e!==null&&(ma(e,t,s),at(e,s))}function aS(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),xv(e,s)}function oS(e,t){var s=0;switch(e.tag){case 13:var n=e.stateNode,r=e.memoizedState;r!==null&&(s=r.retryLane);break;case 19:n=e.stateNode;break;default:throw Error($(314))}n!==null&&n.delete(t),xv(e,s)}var vv;vv=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||rt.current)st=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return st=!1,Kj(e,t,s);st=!!(e.flags&131072)}else st=!1,ue&&t.flags&1048576&&jx(t,Vo,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;xo(e,t),e=t.pendingProps;var r=yr(t,We.current);mr(t,s),r=ih(null,t,n,e,r,s);var i=ah();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,it(n)?(i=!0,Uo(t)):i=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,eh(t),r.updater=vl,t.stateNode=r,r._reactInternals=t,_u(t,n,e,s),t=Tu(null,t,n,!0,i,s)):(t.tag=0,ue&&i&&Gd(t),Ge(null,t,r,s),t=t.child),t;case 16:n=t.elementType;e:{switch(xo(e,t),e=t.pendingProps,r=n._init,n=r(n._payload),t.type=n,r=t.tag=cS(n),e=At(n,e),r){case 0:t=Cu(null,t,n,e,s);break e;case 1:t=km(null,t,n,e,s);break e;case 11:t=jm(null,t,n,e,s);break e;case 14:t=Sm(null,t,n,At(n.type,e),s);break e}throw Error($(306,n,""))}return t;case 0:return n=t.type,r=t.pendingProps,r=t.elementType===n?r:At(n,r),Cu(e,t,n,r,s);case 1:return n=t.type,r=t.pendingProps,r=t.elementType===n?r:At(n,r),km(e,t,n,r,s);case 3:e:{if(tv(t),e===null)throw Error($(387));n=t.pendingProps,i=t.memoizedState,r=i.element,Cx(e,t),Wo(t,n,null,s);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){r=Sr(Error($(423)),t),t=Nm(e,t,n,s,r);break e}else if(n!==r){r=Sr(Error($(424)),t),t=Nm(e,t,n,s,r);break e}else for(ut=$s(t.stateNode.containerInfo.firstChild),dt=t,ue=!0,It=null,s=_x(t,null,n,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(wr(),n===r){t=hs(e,t,s);break e}Ge(e,t,n,s)}t=t.child}return t;case 5:return Tx(t),e===null&&Su(t),n=t.type,r=t.pendingProps,i=e!==null?e.memoizedProps:null,o=r.children,vu(n,r)?o=null:i!==null&&vu(n,i)&&(t.flags|=32),ev(e,t),Ge(e,t,o,s),t.child;case 6:return e===null&&Su(t),null;case 13:return sv(e,t,s);case 4:return th(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=br(t,null,n,s):Ge(e,t,n,s),t.child;case 11:return n=t.type,r=t.pendingProps,r=t.elementType===n?r:At(n,r),jm(e,t,n,r,s);case 7:return Ge(e,t,t.pendingProps,s),t.child;case 8:return Ge(e,t,t.pendingProps.children,s),t.child;case 12:return Ge(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(n=t.type._context,r=t.pendingProps,i=t.memoizedProps,o=r.value,oe(Bo,n._currentValue),n._currentValue=o,i!==null)if($t(i.value,o)){if(i.children===r.children&&!rt.current){t=hs(e,t,s);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=ls(-1,s&-s),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=s,c=i.alternate,c!==null&&(c.lanes|=s),ku(i.return,s,t),l.lanes|=s;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error($(341));o.lanes|=s,l=o.alternate,l!==null&&(l.lanes|=s),ku(o,s,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ge(e,t,r.children,s),t=t.child}return t;case 9:return r=t.type,n=t.pendingProps.children,mr(t,s),r=Nt(r),n=n(r),t.flags|=1,Ge(e,t,n,s),t.child;case 14:return n=t.type,r=At(n,t.pendingProps),r=At(n.type,r),Sm(e,t,n,r,s);case 15:return Qx(e,t,t.type,t.pendingProps,s);case 17:return n=t.type,r=t.pendingProps,r=t.elementType===n?r:At(n,r),xo(e,t),t.tag=1,it(n)?(e=!0,Uo(t)):e=!1,mr(t,s),Jx(t,n,r),_u(t,n,r,s),Tu(null,t,n,!0,e,s);case 19:return nv(e,t,s);case 22:return Zx(e,t,s)}throw Error($(156,t.tag))};function yv(e,t){return H0(e,t)}function lS(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(e,t,s,n){return new lS(e,t,s,n)}function gh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cS(e){if(typeof e=="function")return gh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Dd)return 11;if(e===Ld)return 14}return 2}function Vs(e,t){var s=e.alternate;return s===null?(s=jt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function wo(e,t,s,n,r,i){var o=2;if(n=e,typeof e=="function")gh(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Kn:return wn(s.children,r,i,t);case Id:o=8,r|=8;break;case Yc:return e=jt(12,s,t,r|2),e.elementType=Yc,e.lanes=i,e;case Xc:return e=jt(13,s,t,r),e.elementType=Xc,e.lanes=i,e;case Qc:return e=jt(19,s,t,r),e.elementType=Qc,e.lanes=i,e;case T0:return bl(s,r,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case E0:o=10;break e;case C0:o=9;break e;case Dd:o=11;break e;case Ld:o=14;break e;case Ss:o=16,n=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=jt(o,s,t,r),t.elementType=e,t.type=n,t.lanes=i,t}function wn(e,t,s,n){return e=jt(7,e,n,t),e.lanes=s,e}function bl(e,t,s,n){return e=jt(22,e,n,t),e.elementType=T0,e.lanes=s,e.stateNode={isHidden:!1},e}function yc(e,t,s){return e=jt(6,e,null,t),e.lanes=s,e}function wc(e,t,s){return t=jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function uS(e,t,s,n,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ec(0),this.expirationTimes=ec(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ec(0),this.identifierPrefix=n,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function xh(e,t,s,n,r,i,o,l,c){return e=new uS(e,t,s,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=jt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},eh(i),e}function dS(e,t,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:s}}function wv(e){if(!e)return Hs;e=e._reactInternals;e:{if(Pn(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(it(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var s=e.type;if(it(s))return wx(e,s,t)}return t}function bv(e,t,s,n,r,i,o,l,c){return e=xh(s,n,!0,e,r,i,o,l,c),e.context=wv(null),s=e.current,n=Ye(),r=zs(s),i=ls(n,r),i.callback=t??null,Fs(s,i,r),e.current.lanes=r,ma(e,r,n),at(e,n),e}function jl(e,t,s,n){var r=t.current,i=Ye(),o=zs(r);return s=wv(s),t.context===null?t.context=s:t.pendingContext=s,t=ls(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Fs(r,t,o),e!==null&&(Mt(e,r,o,i),mo(e,r,o)),o}function Zo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Dm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function vh(e,t){Dm(e,t),(e=e.alternate)&&Dm(e,t)}function hS(){return null}var jv=typeof reportError=="function"?reportError:function(e){console.error(e)};function yh(e){this._internalRoot=e}Sl.prototype.render=yh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));jl(e,t,null,null)};Sl.prototype.unmount=yh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;En(function(){jl(null,e,null,null)}),t[us]=null}};function Sl(e){this._internalRoot=e}Sl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Z0();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Es.length&&t!==0&&t<Es[s].priority;s++);Es.splice(s,0,e),s===0&&tx(e)}};function wh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function kl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Lm(){}function fS(e,t,s,n,r){if(r){if(typeof n=="function"){var i=n;n=function(){var u=Zo(o);i.call(u)}}var o=bv(t,n,e,0,null,!1,!1,"",Lm);return e._reactRootContainer=o,e[us]=o.current,$i(e.nodeType===8?e.parentNode:e),En(),o}for(;r=e.lastChild;)e.removeChild(r);if(typeof n=="function"){var l=n;n=function(){var u=Zo(c);l.call(u)}}var c=xh(e,0,!1,null,null,!1,!1,"",Lm);return e._reactRootContainer=c,e[us]=c.current,$i(e.nodeType===8?e.parentNode:e),En(function(){jl(t,c,s,n)}),c}function Nl(e,t,s,n,r){var i=s._reactRootContainer;if(i){var o=i;if(typeof r=="function"){var l=r;r=function(){var c=Zo(o);l.call(c)}}jl(t,o,e,r)}else o=fS(s,t,e,r,n);return Zo(o)}X0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=ii(t.pendingLanes);s!==0&&(Fd(t,s|1),at(t,be()),!(Z&6)&&(kr=be()+500,Xs()))}break;case 13:En(function(){var n=ds(e,1);if(n!==null){var r=Ye();Mt(n,e,1,r)}}),vh(e,1)}};Ud=function(e){if(e.tag===13){var t=ds(e,134217728);if(t!==null){var s=Ye();Mt(t,e,134217728,s)}vh(e,134217728)}};Q0=function(e){if(e.tag===13){var t=zs(e),s=ds(e,t);if(s!==null){var n=Ye();Mt(s,e,t,n)}vh(e,t)}};Z0=function(){return te};ex=function(e,t){var s=te;try{return te=e,t()}finally{te=s}};lu=function(e,t,s){switch(t){case"input":if(tu(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var r=pl(n);if(!r)throw Error($(90));A0(n),tu(n,r)}}}break;case"textarea":O0(e,s);break;case"select":t=s.value,t!=null&&ur(e,!!s.multiple,t,!1)}};U0=fh;z0=En;var mS={usingClientEntryPoint:!1,Events:[ga,Qn,pl,$0,F0,fh]},Yr={findFiberByHostInstance:hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pS={bundleType:Yr.bundleType,version:Yr.version,rendererPackageName:Yr.rendererPackageName,rendererConfig:Yr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ps.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=q0(e),e===null?null:e.stateNode},findFiberByHostInstance:Yr.findFiberByHostInstance||hS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ya=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ya.isDisabled&&Ya.supportsFiber)try{dl=Ya.inject(pS),Ht=Ya}catch{}}mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mS;mt.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wh(t))throw Error($(200));return dS(e,t,null,s)};mt.createRoot=function(e,t){if(!wh(e))throw Error($(299));var s=!1,n="",r=jv;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=xh(e,1,!1,null,null,s,!1,n,r),e[us]=t.current,$i(e.nodeType===8?e.parentNode:e),new yh(t)};mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=q0(t),e=e===null?null:e.stateNode,e};mt.flushSync=function(e){return En(e)};mt.hydrate=function(e,t,s){if(!kl(t))throw Error($(200));return Nl(null,e,t,!0,s)};mt.hydrateRoot=function(e,t,s){if(!wh(e))throw Error($(405));var n=s!=null&&s.hydratedSources||null,r=!1,i="",o=jv;if(s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),t=bv(t,null,e,1,s??null,r,!1,i,o),e[us]=t.current,$i(e),n)for(e=0;e<n.length;e++)s=n[e],r=s._getVersion,r=r(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,r]:t.mutableSourceEagerHydrationData.push(s,r);return new Sl(t)};mt.render=function(e,t,s){if(!kl(t))throw Error($(200));return Nl(null,e,t,!1,s)};mt.unmountComponentAtNode=function(e){if(!kl(e))throw Error($(40));return e._reactRootContainer?(En(function(){Nl(null,null,e,!1,function(){e._reactRootContainer=null,e[us]=null})}),!0):!1};mt.unstable_batchedUpdates=fh;mt.unstable_renderSubtreeIntoContainer=function(e,t,s,n){if(!kl(s))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return Nl(e,t,s,!1,n)};mt.version="18.3.1-next-f1338f8080-20240426";function Sv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sv)}catch(e){console.error(e)}}Sv(),S0.exports=mt;var gS=S0.exports,kv,Mm=gS;kv=Mm.createRoot,Mm.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gi(){return Gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Gi.apply(this,arguments)}var Os;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Os||(Os={}));const $m="popstate";function xS(e){e===void 0&&(e={});function t(r,i){let{pathname:o="/",search:l="",hash:c=""}=An(r.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),zu("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(r,i){let o=r.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=r.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof i=="string"?i:el(i))}function n(r,i){bh(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return yS(t,s,n,e)}function me(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function bh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function vS(){return Math.random().toString(36).substr(2,8)}function Fm(e,t){return{usr:e.state,key:e.key,idx:t}}function zu(e,t,s,n){return s===void 0&&(s=null),Gi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?An(t):t,{state:s,key:t&&t.key||n||vS()})}function el(e){let{pathname:t="/",search:s="",hash:n=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function An(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function yS(e,t,s,n){n===void 0&&(n={});let{window:r=document.defaultView,v5Compat:i=!1}=n,o=r.history,l=Os.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Gi({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Os.Pop;let b=d(),g=b==null?null:b-u;u=b,c&&c({action:l,location:y.location,delta:g})}function f(b,g){l=Os.Push;let x=zu(y.location,b,g);s&&s(x,b),u=d()+1;let w=Fm(x,u),S=y.createHref(x);try{o.pushState(w,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;r.location.assign(S)}i&&c&&c({action:l,location:y.location,delta:1})}function p(b,g){l=Os.Replace;let x=zu(y.location,b,g);s&&s(x,b),u=d();let w=Fm(x,u),S=y.createHref(x);o.replaceState(w,"",S),i&&c&&c({action:l,location:y.location,delta:0})}function v(b){let g=r.location.origin!=="null"?r.location.origin:r.location.href,x=typeof b=="string"?b:el(b);return x=x.replace(/ $/,"%20"),me(g,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,g)}let y={get action(){return l},get location(){return e(r,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener($m,h),c=b,()=>{r.removeEventListener($m,h),c=null}},createHref(b){return t(r,b)},createURL:v,encodeLocation(b){let g=v(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(b){return o.go(b)}};return y}var Um;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Um||(Um={}));function wS(e,t,s){return s===void 0&&(s="/"),bS(e,t,s)}function bS(e,t,s,n){let r=typeof t=="string"?An(t):t,i=Nr(r.pathname||"/",s);if(i==null)return null;let o=Nv(e);jS(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=OS(i);l=AS(o[c],u)}return l}function Nv(e,t,s,n){t===void 0&&(t=[]),s===void 0&&(s=[]),n===void 0&&(n="");let r=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(me(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Bs([n,c.relativePath]),d=s.concat(c);i.children&&i.children.length>0&&(me(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Nv(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:TS(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))r(i,o);else for(let c of _v(i.path))r(i,o,c)}),t}function _v(e){let t=e.split("/");if(t.length===0)return[];let[s,...n]=t,r=s.endsWith("?"),i=s.replace(/\?$/,"");if(n.length===0)return r?[i,""]:[i];let o=_v(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),r&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function jS(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:PS(t.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}const SS=/^:[\w-]+$/,kS=3,NS=2,_S=1,ES=10,CS=-2,zm=e=>e==="*";function TS(e,t){let s=e.split("/"),n=s.length;return s.some(zm)&&(n+=CS),t&&(n+=NS),s.filter(r=>!zm(r)).reduce((r,i)=>r+(SS.test(i)?kS:i===""?_S:ES),n)}function PS(e,t){return e.length===t.length&&e.slice(0,-1).every((n,r)=>n===t[r])?e[e.length-1]-t[t.length-1]:0}function AS(e,t,s){let{routesMeta:n}=e,r={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Vu({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(r,h.params),o.push({params:r,pathname:Bs([i,h.pathname]),pathnameBase:MS(Bs([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Bs([i,h.pathnameBase]))}return o}function Vu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=RS(e.path,e.caseSensitive,e.end),r=t.match(s);if(!r)return null;let i=r[0],o=i.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let y=l[h]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const v=l[h];return p&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function RS(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),bh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),n]}function OS(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return bh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Nr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&n!=="/"?null:e.slice(s)||"/"}function IS(e,t){t===void 0&&(t="/");let{pathname:s,search:n="",hash:r=""}=typeof e=="string"?An(e):e;return{pathname:s?s.startsWith("/")?s:DS(s,t):t,search:$S(n),hash:FS(r)}}function DS(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?s.length>1&&s.pop():r!=="."&&s.push(r)}),s.length>1?s.join("/"):"/"}function bc(e,t,s,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function LS(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function jh(e,t){let s=LS(e);return t?s.map((n,r)=>r===s.length-1?n.pathname:n.pathnameBase):s.map(n=>n.pathnameBase)}function Sh(e,t,s,n){n===void 0&&(n=!1);let r;typeof e=="string"?r=An(e):(r=Gi({},e),me(!r.pathname||!r.pathname.includes("?"),bc("?","pathname","search",r)),me(!r.pathname||!r.pathname.includes("#"),bc("#","pathname","hash",r)),me(!r.search||!r.search.includes("#"),bc("#","search","hash",r)));let i=e===""||r.pathname==="",o=i?"/":r.pathname,l;if(o==null)l=s;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;r.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=IS(r,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Bs=e=>e.join("/").replace(/\/\/+/g,"/"),MS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$S=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,FS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function US(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ev=["post","put","patch","delete"];new Set(Ev);const zS=["get",...Ev];new Set(zS);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ki(){return Ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Ki.apply(this,arguments)}const _l=m.createContext(null),Cv=m.createContext(null),gs=m.createContext(null),El=m.createContext(null),Zt=m.createContext({outlet:null,matches:[],isDataRoute:!1}),Tv=m.createContext(null);function VS(e,t){let{relative:s}=t===void 0?{}:t;Dr()||me(!1);let{basename:n,navigator:r}=m.useContext(gs),{hash:i,pathname:o,search:l}=Cl(e,{relative:s}),c=o;return n!=="/"&&(c=o==="/"?n:Bs([n,o])),r.createHref({pathname:c,search:l,hash:i})}function Dr(){return m.useContext(El)!=null}function xs(){return Dr()||me(!1),m.useContext(El).location}function Pv(e){m.useContext(gs).static||m.useLayoutEffect(e)}function He(){let{isDataRoute:e}=m.useContext(Zt);return e?nk():BS()}function BS(){Dr()||me(!1);let e=m.useContext(_l),{basename:t,future:s,navigator:n}=m.useContext(gs),{matches:r}=m.useContext(Zt),{pathname:i}=xs(),o=JSON.stringify(jh(r,s.v7_relativeSplatPath)),l=m.useRef(!1);return Pv(()=>{l.current=!0}),m.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=Sh(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Bs([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,i,e])}const Av=m.createContext(null);function Rv(){return m.useContext(Av)}function qS(e){let t=m.useContext(Zt).outlet;return t&&m.createElement(Av.Provider,{value:e},t)}function WS(){let{matches:e}=m.useContext(Zt),t=e[e.length-1];return t?t.params:{}}function Cl(e,t){let{relative:s}=t===void 0?{}:t,{future:n}=m.useContext(gs),{matches:r}=m.useContext(Zt),{pathname:i}=xs(),o=JSON.stringify(jh(r,n.v7_relativeSplatPath));return m.useMemo(()=>Sh(e,JSON.parse(o),i,s==="path"),[e,o,i,s])}function HS(e,t){return GS(e,t)}function GS(e,t,s,n){Dr()||me(!1);let{navigator:r,static:i}=m.useContext(gs),{matches:o}=m.useContext(Zt),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let d=xs(),h;if(t){var f;let g=typeof t=="string"?An(t):t;u==="/"||(f=g.pathname)!=null&&f.startsWith(u)||me(!1),h=g}else h=d;let p=h.pathname||"/",v=p;if(u!=="/"){let g=u.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(g.length).join("/")}let y=wS(e,{pathname:v}),b=QS(y&&y.map(g=>Object.assign({},g,{params:Object.assign({},c,g.params),pathname:Bs([u,r.encodeLocation?r.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?u:Bs([u,r.encodeLocation?r.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,s,n);return t&&b?m.createElement(El.Provider,{value:{location:Ki({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Os.Pop}},b):b}function KS(){let e=sk(),t=US(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),s?m.createElement("pre",{style:r},s):null,null)}const JS=m.createElement(KS,null);class YS extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?m.createElement(Zt.Provider,{value:this.props.routeContext},m.createElement(Tv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function XS(e){let{routeContext:t,match:s,children:n}=e,r=m.useContext(_l);return r&&r.static&&r.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=s.route.id),m.createElement(Zt.Provider,{value:t},n)}function QS(e,t,s,n){var r;if(t===void 0&&(t=[]),s===void 0&&(s=null),n===void 0&&(n=null),e==null){var i;if(!s)return null;if(s.errors)e=s.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let o=e,l=(r=s)==null?void 0:r.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||me(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(s&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=s,v=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,v=!1,y=null,b=null;s&&(p=l&&h.route.id?l[h.route.id]:void 0,y=h.route.errorElement||JS,c&&(u<0&&f===0?(rk("route-fallback"),v=!0,b=null):u===f&&(v=!0,b=h.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,f+1)),x=()=>{let w;return p?w=y:v?w=b:h.route.Component?w=m.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,m.createElement(XS,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:s!=null},children:w})};return s&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?m.createElement(YS,{location:s.location,revalidation:s.revalidation,component:y,error:p,children:x(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):x()},null)}var Ov=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ov||{}),Iv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Iv||{});function ZS(e){let t=m.useContext(_l);return t||me(!1),t}function ek(e){let t=m.useContext(Cv);return t||me(!1),t}function tk(e){let t=m.useContext(Zt);return t||me(!1),t}function Dv(e){let t=tk(),s=t.matches[t.matches.length-1];return s.route.id||me(!1),s.route.id}function sk(){var e;let t=m.useContext(Tv),s=ek(),n=Dv();return t!==void 0?t:(e=s.errors)==null?void 0:e[n]}function nk(){let{router:e}=ZS(Ov.UseNavigateStable),t=Dv(Iv.UseNavigateStable),s=m.useRef(!1);return Pv(()=>{s.current=!0}),m.useCallback(function(r,i){i===void 0&&(i={}),s.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,Ki({fromRouteId:t},i)))},[e,t])}const Vm={};function rk(e,t,s){Vm[e]||(Vm[e]=!0)}function ik(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Un(e){let{to:t,replace:s,state:n,relative:r}=e;Dr()||me(!1);let{future:i,static:o}=m.useContext(gs),{matches:l}=m.useContext(Zt),{pathname:c}=xs(),u=He(),d=Sh(t,jh(l,i.v7_relativeSplatPath),c,r==="path"),h=JSON.stringify(d);return m.useEffect(()=>u(JSON.parse(h),{replace:s,state:n,relative:r}),[u,h,r,s,n]),null}function Lv(e){return qS(e.context)}function se(e){me(!1)}function ak(e){let{basename:t="/",children:s=null,location:n,navigationType:r=Os.Pop,navigator:i,static:o=!1,future:l}=e;Dr()&&me(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:i,static:o,future:Ki({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=An(n));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:v="default"}=n,y=m.useMemo(()=>{let b=Nr(d,c);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:v},navigationType:r}},[c,d,h,f,p,v,r]);return y==null?null:m.createElement(gs.Provider,{value:u},m.createElement(El.Provider,{children:s,value:y}))}function ok(e){let{children:t,location:s}=e;return HS(Bu(t),s)}new Promise(()=>{});function Bu(e,t){t===void 0&&(t=[]);let s=[];return m.Children.forEach(e,(n,r)=>{if(!m.isValidElement(n))return;let i=[...t,r];if(n.type===m.Fragment){s.push.apply(s,Bu(n.props.children,i));return}n.type!==se&&me(!1),!n.props.index||!n.props.children||me(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Bu(n.props.children,i)),s.push(o)}),s}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tl(){return tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},tl.apply(this,arguments)}function Mv(e,t){if(e==null)return{};var s={},n=Object.keys(e),r,i;for(i=0;i<n.length;i++)r=n[i],!(t.indexOf(r)>=0)&&(s[r]=e[r]);return s}function lk(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ck(e,t){return e.button===0&&(!t||t==="_self")&&!lk(e)}function qu(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,s)=>{let n=e[s];return t.concat(Array.isArray(n)?n.map(r=>[s,r]):[[s,n]])},[]))}function uk(e,t){let s=qu(e);return t&&t.forEach((n,r)=>{s.has(r)||t.getAll(r).forEach(i=>{s.append(r,i)})}),s}const dk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hk=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],fk="6";try{window.__reactRouterVersion=fk}catch{}const mk=m.createContext({isTransitioning:!1}),pk="startTransition",Bm=Kc[pk];function gk(e){let{basename:t,children:s,future:n,window:r}=e,i=m.useRef();i.current==null&&(i.current=xS({window:r,v5Compat:!0}));let o=i.current,[l,c]=m.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=m.useCallback(h=>{u&&Bm?Bm(()=>c(h)):c(h)},[c,u]);return m.useLayoutEffect(()=>o.listen(d),[o,d]),m.useEffect(()=>ik(n),[n]),m.createElement(ak,{basename:t,children:s,location:l.location,navigationType:l.action,navigator:o,future:n})}const xk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bt=m.forwardRef(function(t,s){let{onClick:n,relative:r,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=Mv(t,dk),{basename:p}=m.useContext(gs),v,y=!1;if(typeof u=="string"&&vk.test(u)&&(v=u,xk))try{let w=new URL(window.location.href),S=u.startsWith("//")?new URL(w.protocol+u):new URL(u),j=Nr(S.pathname,p);S.origin===w.origin&&j!=null?u=j+S.search+S.hash:y=!0}catch{}let b=VS(u,{relative:r}),g=wk(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:r,viewTransition:h});function x(w){n&&n(w),w.defaultPrevented||g(w)}return m.createElement("a",tl({},f,{href:v||b,onClick:y||i?n:x,ref:s,target:c}))}),Ji=m.forwardRef(function(t,s){let{"aria-current":n="page",caseSensitive:r=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,h=Mv(t,hk),f=Cl(c,{relative:h.relative}),p=xs(),v=m.useContext(Cv),{navigator:y,basename:b}=m.useContext(gs),g=v!=null&&bk(f)&&u===!0,x=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,w=p.pathname,S=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(w=w.toLowerCase(),S=S?S.toLowerCase():null,x=x.toLowerCase()),S&&b&&(S=Nr(S,b)||S);const j=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let k=w===x||!o&&w.startsWith(x)&&w.charAt(j)==="/",_=S!=null&&(S===x||!o&&S.startsWith(x)&&S.charAt(x.length)==="/"),E={isActive:k,isPending:_,isTransitioning:g},P=k?n:void 0,D;typeof i=="function"?D=i(E):D=[i,k?"active":null,_?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let A=typeof l=="function"?l(E):l;return m.createElement(bt,tl({},h,{"aria-current":P,className:D,ref:s,style:A,to:c,viewTransition:u}),typeof d=="function"?d(E):d)});var Wu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Wu||(Wu={}));var qm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(qm||(qm={}));function yk(e){let t=m.useContext(_l);return t||me(!1),t}function wk(e,t){let{target:s,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=He(),u=xs(),d=Cl(e,{relative:o});return m.useCallback(h=>{if(ck(h,s)){h.preventDefault();let f=n!==void 0?n:el(u)===el(d);c(e,{replace:f,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,r,s,e,i,o,l])}function $v(e){let t=m.useRef(qu(e)),s=m.useRef(!1),n=xs(),r=m.useMemo(()=>uk(n.search,s.current?null:t.current),[n.search]),i=He(),o=m.useCallback((l,c)=>{const u=qu(typeof l=="function"?l(r):l);s.current=!0,i("?"+u,c)},[i,r]);return[r,o]}function bk(e,t){t===void 0&&(t={});let s=m.useContext(mk);s==null&&me(!1);let{basename:n}=yk(Wu.useViewTransitionState),r=Cl(e,{relative:t.relative});if(!s.isTransitioning)return!1;let i=Nr(s.currentLocation.pathname,n)||s.currentLocation.pathname,o=Nr(s.nextLocation.pathname,n)||s.nextLocation.pathname;return Vu(r.pathname,o)!=null||Vu(r.pathname,i)!=null}const jk="modulepreload",Sk=function(e){return"/accreda.github.io/"+e},Wm={},ht=function(t,s,n){let r=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(s.map(c=>{if(c=Sk(c),c in Wm)return;Wm[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":jk,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return r.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},kk=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>ht(async()=>{const{default:n}=await Promise.resolve().then(()=>Lr);return{default:n}},void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)};class kh extends Error{constructor(t,s="FunctionsError",n){super(t),this.name=s,this.context=n}}class Nk extends kh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class _k extends kh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Ek extends kh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Hu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Hu||(Hu={}));var Ck=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Tk{constructor(t,{headers:s={},customFetch:n,region:r=Hu.Any}={}){this.url=t,this.headers=s,this.region=r,this.fetch=kk(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var n;return Ck(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:o}=s;let l={},{region:c}=s;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),r),body:u}).catch(v=>{throw new Nk(v)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new _k(d);if(!d.ok)throw new Ek(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield d.json():f==="application/octet-stream"?p=yield d.blob():f==="text/event-stream"?p=d:f==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(r){return{data:null,error:r}}})}}var tt={},Nh={},Tl={},va={},Pl={},Al={},Pk=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},_r=Pk();const Ak=_r.fetch,Fv=_r.fetch.bind(_r),Uv=_r.Headers,Rk=_r.Request,Ok=_r.Response,Lr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Uv,Request:Rk,Response:Ok,default:Fv,fetch:Ak},Symbol.toStringTag,{value:"Module"})),Ik=qb(Lr);var Rl={};Object.defineProperty(Rl,"__esModule",{value:!0});let Dk=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Rl.default=Dk;var zv=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Al,"__esModule",{value:!0});const Lk=zv(Ik),Mk=zv(Rl);let $k=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Lk.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,s){return this.headers=Object.assign({},this.headers),this.headers[t]=s,this}then(t,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let r=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,d=null,h=null,f=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const y=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");y&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await i.text();try{u=JSON.parse(y),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,p="OK")}catch{i.status===404&&y===""?(f=204,p="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,p="OK"),u&&this.shouldThrowOnError)throw new Mk.default(u)}return{error:u,data:d,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(r=r.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),r.then(t,s)}returns(){return this}overrideTypes(){return this}};Al.default=$k;var Fk=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pl,"__esModule",{value:!0});const Uk=Fk(Al);let zk=class extends Uk.default{select(t){let s=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!s?"":(r==='"'&&(s=!s),r)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:s=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${s?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:s,referencedTable:n=s}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,s,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${s-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:s=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,s?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Pl.default=zk;var Vk=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(va,"__esModule",{value:!0});const Bk=Vk(Pl);let qk=class extends Bk.default{eq(t,s){return this.url.searchParams.append(t,`eq.${s}`),this}neq(t,s){return this.url.searchParams.append(t,`neq.${s}`),this}gt(t,s){return this.url.searchParams.append(t,`gt.${s}`),this}gte(t,s){return this.url.searchParams.append(t,`gte.${s}`),this}lt(t,s){return this.url.searchParams.append(t,`lt.${s}`),this}lte(t,s){return this.url.searchParams.append(t,`lte.${s}`),this}like(t,s){return this.url.searchParams.append(t,`like.${s}`),this}likeAllOf(t,s){return this.url.searchParams.append(t,`like(all).{${s.join(",")}}`),this}likeAnyOf(t,s){return this.url.searchParams.append(t,`like(any).{${s.join(",")}}`),this}ilike(t,s){return this.url.searchParams.append(t,`ilike.${s}`),this}ilikeAllOf(t,s){return this.url.searchParams.append(t,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(t,s){return this.url.searchParams.append(t,`ilike(any).{${s.join(",")}}`),this}is(t,s){return this.url.searchParams.append(t,`is.${s}`),this}in(t,s){const n=Array.from(new Set(s)).map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cs.{${s.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(s)}`),this}containedBy(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cd.{${s.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(s)}`),this}rangeGt(t,s){return this.url.searchParams.append(t,`sr.${s}`),this}rangeGte(t,s){return this.url.searchParams.append(t,`nxl.${s}`),this}rangeLt(t,s){return this.url.searchParams.append(t,`sl.${s}`),this}rangeLte(t,s){return this.url.searchParams.append(t,`nxr.${s}`),this}rangeAdjacent(t,s){return this.url.searchParams.append(t,`adj.${s}`),this}overlaps(t,s){return typeof s=="string"?this.url.searchParams.append(t,`ov.${s}`):this.url.searchParams.append(t,`ov.{${s.join(",")}}`),this}textSearch(t,s,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${s}`),this}match(t){return Object.entries(t).forEach(([s,n])=>{this.url.searchParams.append(s,`eq.${n}`)}),this}not(t,s,n){return this.url.searchParams.append(t,`not.${s}.${n}`),this}or(t,{foreignTable:s,referencedTable:n=s}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,s,n){return this.url.searchParams.append(t,`${s}.${n}`),this}};va.default=qk;var Wk=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tl,"__esModule",{value:!0});const Xr=Wk(va);let Hk=class{constructor(t,{headers:s={},schema:n,fetch:r}){this.url=t,this.headers=s,this.schema=n,this.fetch=r}select(t,{head:s=!1,count:n}={}){const r=s?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Xr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:s,defaultToNull:n=!0}={}){const r="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Xr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:s,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&l.push(this.headers.Prefer),r&&l.push(`count=${r}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Xr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:s}={}){const n="PATCH",r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),s&&r.push(`count=${s}`),this.headers.Prefer=r.join(","),new Xr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const s="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Xr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Tl.default=Hk;var Ol={},Il={};Object.defineProperty(Il,"__esModule",{value:!0});Il.version=void 0;Il.version="0.0.0-automated";Object.defineProperty(Ol,"__esModule",{value:!0});Ol.DEFAULT_HEADERS=void 0;const Gk=Il;Ol.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Gk.version}`};var Vv=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nh,"__esModule",{value:!0});const Kk=Vv(Tl),Jk=Vv(va),Yk=Ol;let Xk=class Bv{constructor(t,{headers:s={},schema:n,fetch:r}={}){this.url=t,this.headers=Object.assign(Object.assign({},Yk.DEFAULT_HEADERS),s),this.schemaName=n,this.fetch=r}from(t){const s=new URL(`${this.url}/${t}`);return new Kk.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Bv(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,s={},{head:n=!1,get:r=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||r?(o=n?"HEAD":"GET",Object.entries(s).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",c=s);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Jk.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Nh.default=Xk;var Mr=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tt,"__esModule",{value:!0});tt.PostgrestError=tt.PostgrestBuilder=tt.PostgrestTransformBuilder=tt.PostgrestFilterBuilder=tt.PostgrestQueryBuilder=tt.PostgrestClient=void 0;const qv=Mr(Nh);tt.PostgrestClient=qv.default;const Wv=Mr(Tl);tt.PostgrestQueryBuilder=Wv.default;const Hv=Mr(va);tt.PostgrestFilterBuilder=Hv.default;const Gv=Mr(Pl);tt.PostgrestTransformBuilder=Gv.default;const Kv=Mr(Al);tt.PostgrestBuilder=Kv.default;const Jv=Mr(Rl);tt.PostgrestError=Jv.default;var Qk=tt.default={PostgrestClient:qv.default,PostgrestQueryBuilder:Wv.default,PostgrestFilterBuilder:Hv.default,PostgrestTransformBuilder:Gv.default,PostgrestBuilder:Kv.default,PostgrestError:Jv.default};const{PostgrestClient:Zk,PostgrestQueryBuilder:xD,PostgrestFilterBuilder:vD,PostgrestTransformBuilder:yD,PostgrestBuilder:wD,PostgrestError:bD}=Qk,e2="2.11.2",t2={"X-Client-Info":`realtime-js/${e2}`},s2="1.0.0",Yv=1e4,n2=1e3;var gr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(gr||(gr={}));var lt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(lt||(lt={}));var Ot;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ot||(Ot={}));var Gu;(function(e){e.websocket="websocket"})(Gu||(Gu={}));var dn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(dn||(dn={}));class r2{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,s,n)}_decodeBroadcast(t,s,n){const r=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+r));o=o+r;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Xv{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ae;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ae||(ae={}));const Hm=(e,t,s={})=>{var n;const r=(n=s.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=i2(o,e,t,r),i),{})},i2=(e,t,s,n)=>{const r=t.find(l=>l.name===e),i=r==null?void 0:r.type,o=s[e];return i&&!n.includes(i)?Qv(i,o):Ku(o)},Qv=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return c2(t,s)}switch(e){case ae.bool:return a2(t);case ae.float4:case ae.float8:case ae.int2:case ae.int4:case ae.int8:case ae.numeric:case ae.oid:return o2(t);case ae.json:case ae.jsonb:return l2(t);case ae.timestamp:return u2(t);case ae.abstime:case ae.date:case ae.daterange:case ae.int4range:case ae.int8range:case ae.money:case ae.reltime:case ae.text:case ae.time:case ae.timestamptz:case ae.timetz:case ae.tsrange:case ae.tstzrange:return Ku(t);default:return Ku(t)}},Ku=e=>e,a2=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},o2=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},l2=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},c2=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,n=e[s];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Qv(t,l))}return e},u2=e=>typeof e=="string"?e.replace(" ","T"):e,Zv=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class jc{constructor(t,s,n={},r=Yv){this.channel=t,this.event=s,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var n;return this._hasReceived(t)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Gm;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Gm||(Gm={}));class vi{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},r=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vi.syncState(this.state,r,i,o),this.pendingDiffs.forEach(c=>{this.state=vi.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},r=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=vi.syncDiff(this.state,r,i,o),l())}),this.onJoin((r,i,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:o})}),this.onLeave((r,i,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,n,r){const i=this.cloneDeep(t),o=this.transformState(s),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(b=>b.presence_ref),p=h.map(b=>b.presence_ref),v=d.filter(b=>p.indexOf(b.presence_ref)<0),y=h.filter(b=>f.indexOf(b.presence_ref)<0);v.length>0&&(l[u]=v),y.length>0&&(c[u]=y)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,r)}static syncDiff(t,s,n,r){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);t[l].unshift(...f)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,r(l,u,c),u.length===0&&delete t[l]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(n=>s(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,n)=>{const r=t[n];return"metas"in r?s[n]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[n]=r,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Km;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Km||(Km={}));var Jm;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Jm||(Jm={}));var rs;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(rs||(rs={}));class _h{constructor(t,s={config:{}},n){this.topic=t,this.params=s,this.socket=n,this.bindings={},this.state=lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new jc(this,Ot.join,this.params,this.timeout),this.rejoinTimer=new Xv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=lt.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ot.reply,{},(r,i)=>{this._trigger(this._replyEventName(i),r)}),this.presence=new vi(this),this.broadcastEndpointURL=Zv(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var n,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(rs.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(rs.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(r=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&r!==void 0?r:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(rs.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,v=[];for(let y=0;y<p;y++){const b=f[y],{filter:{event:g,schema:x,table:w,filter:S}}=b,j=d&&d[y];if(j&&j.event===g&&j.schema===x&&j.table===w&&j.filter===S)v.push(Object.assign(Object.assign({},b),{id:j.id}));else{this.unsubscribe(),t==null||t(rs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(rs.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(rs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(rs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,n){return this._on(t,s,n)}async send(t,s={}){var n,r;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((r=u.body)===null||r===void 0?void 0:r.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=lt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ot.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const r=new jc(this,Ot.leave,{},t);r.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}async _fetchWithTimeout(t,s,n){const r=new AbortController,i=setTimeout(()=>r.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:r.signal}));return clearTimeout(i),o}_push(t,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new jc(this,t,s,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(t,s,n){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,n){var r,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Ot;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,s,n);if(s&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(p=>{var v,y,b;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(y=p.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(p=>p.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var v,y,b,g,x,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const S=p.id,j=(v=p.filter)===null||v===void 0?void 0:v.event;return S&&((y=s.ids)===null||y===void 0?void 0:y.includes(S))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((b=s.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const S=(x=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return S==="*"||S===((w=s==null?void 0:s.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:y,table:b,commit_timestamp:g,type:x,errors:w}=v;f=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:g,eventType:x,new:{},old:{},errors:w}),this._getPayloadRecords(v))}p.callback(f,n)})}_isClosed(){return this.state===lt.closed}_isJoined(){return this.state===lt.joined}_isJoining(){return this.state===lt.joining}_isLeaving(){return this.state===lt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,n){const r=t.toLocaleLowerCase(),i={type:r,filter:s,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(t,s){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&_h.isEqual(r.filter,s))}),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const n in t)if(t[n]!==s[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ot.close,{},t)}_onError(t){this._on(Ot.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=lt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=Hm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=Hm(t.columns,t.old_record)),s}}const d2=()=>{},h2=typeof WebSocket<"u",f2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class m2{constructor(t,s){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=t2,this.params={},this.timeout=Yv,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=d2,this.conn=null,this.sendBuffer=[],this.serializer=new r2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>ht(async()=>{const{default:c}=await Promise.resolve().then(()=>Lr);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${Gu.websocket}`,this.httpEndpoint=Zv(t),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const r=(n=s==null?void 0:s.params)===null||n===void 0?void 0:n.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Xv(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(h2){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new p2(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ht(async()=>{const{default:t}=await import("./browser-Dn1VzZQo.js").then(s=>s.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:s2}))}disconnect(t,s){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),t}log(t,s,n){this.logger(t,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case gr.connecting:return dn.Connecting;case gr.open:return dn.Open;case gr.closing:return dn.Closing;default:return dn.Closed}}isConnected(){return this.connectionState()===dn.Open}channel(t,s={config:{}}){const n=new _h(`realtime:${t}`,s,this);return this.channels.push(n),n}push(t){const{topic:s,event:n,payload:r,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${s} ${n} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let s=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let n=null;try{n=JSON.parse(atob(s.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=s,this.channels.forEach(r=>{s&&r.updateJoinPayload({access_token:s}),r.joinedOnce&&r._isJoined()&&r._push(Ot.access_token,{access_token:s})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(n2,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,s=>{let{topic:n,event:r,payload:i,ref:o}=s;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${r} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(r,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ot.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const n=t.match(/\?/)?"&":"?",r=new URLSearchParams(s);return`${t}${n}${r}`}_workerObjectUrl(t){let s;if(t)s=t;else{const n=new Blob([f2],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}}class p2{constructor(t,s,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=gr.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Eh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ce(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class g2 extends Eh{constructor(t,s){super(t),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ju extends Eh{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var x2=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const ey=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>ht(async()=>{const{default:n}=await Promise.resolve().then(()=>Lr);return{default:n}},void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)},v2=()=>x2(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ht(()=>Promise.resolve().then(()=>Lr),void 0)).Response:Response}),Yu=e=>{if(Array.isArray(e))return e.map(s=>Yu(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,n])=>{const r=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[r]=Yu(n)}),t};var Rn=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Sc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),y2=(e,t,s)=>Rn(void 0,void 0,void 0,function*(){const n=yield v2();e instanceof n&&!(s!=null&&s.noResolveJson)?e.json().then(r=>{t(new g2(Sc(r),e.status||500))}).catch(r=>{t(new Ju(Sc(r),r))}):t(new Ju(Sc(e),e))}),w2=(e,t,s,n)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(r.body=JSON.stringify(n)),Object.assign(Object.assign({},r),s))};function ya(e,t,s,n,r,i){return Rn(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(s,w2(t,n,r,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>y2(c,l,n))})})}function sl(e,t,s,n){return Rn(this,void 0,void 0,function*(){return ya(e,"GET",t,s,n)})}function Ns(e,t,s,n,r){return Rn(this,void 0,void 0,function*(){return ya(e,"POST",t,n,r,s)})}function b2(e,t,s,n,r){return Rn(this,void 0,void 0,function*(){return ya(e,"PUT",t,n,r,s)})}function j2(e,t,s,n){return Rn(this,void 0,void 0,function*(){return ya(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),n)})}function ty(e,t,s,n,r){return Rn(this,void 0,void 0,function*(){return ya(e,"DELETE",t,n,r,s)})}var Ze=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const S2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ym={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class k2{constructor(t,s={},n,r){this.url=t,this.headers=s,this.bucketId=n,this.fetch=ey(r)}uploadOrUpdate(t,s,n,r){return Ze(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ym),r);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),r!=null&&r.headers&&(l=Object.assign(Object.assign({},l),r.headers));const u=this._removeEmptyFolders(s),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(Ce(i))return{data:null,error:i};throw i}})}upload(t,s,n){return Ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,n)})}uploadToSignedUrl(t,s,n,r){return Ze(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",s);try{let c;const u=Object.assign({upsert:Ym.upsert},r),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(Ce(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,s){return Ze(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const r=Object.assign({},this.headers);s!=null&&s.upsert&&(r["x-upsert"]="true");const i=yield Ns(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Eh("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}update(t,s,n){return Ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,n)})}move(t,s,n){return Ze(this,void 0,void 0,function*(){try{return{data:yield Ns(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}copy(t,s,n){return Ze(this,void 0,void 0,function*(){try{return{data:{path:(yield Ns(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}createSignedUrl(t,s,n){return Ze(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),i=yield Ns(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:s},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}createSignedUrls(t,s,n){return Ze(this,void 0,void 0,function*(){try{const r=yield Ns(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}download(t,s){return Ze(this,void 0,void 0,function*(){const r=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield sl(this.fetch,`${this.url}/${r}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Ce(l))return{data:null,error:l};throw l}})}info(t){return Ze(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const n=yield sl(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Yu(n),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}exists(t){return Ze(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield j2(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ce(n)&&n instanceof Ju){const r=n.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,s){const n=this._getFinalPath(t),r=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&r.push(i);const l=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});c!==""&&r.push(c);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Ze(this,void 0,void 0,function*(){try{return{data:yield ty(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}list(t,s,n){return Ze(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},S2),s),{prefix:t||""});return{data:yield Ns(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const N2="2.7.1",_2={"X-Client-Info":`storage-js/${N2}`};var zn=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class E2{constructor(t,s={},n){this.url=t,this.headers=Object.assign(Object.assign({},_2),s),this.fetch=ey(n)}listBuckets(){return zn(this,void 0,void 0,function*(){try{return{data:yield sl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ce(t))return{data:null,error:t};throw t}})}getBucket(t){return zn(this,void 0,void 0,function*(){try{return{data:yield sl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return zn(this,void 0,void 0,function*(){try{return{data:yield Ns(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}updateBucket(t,s){return zn(this,void 0,void 0,function*(){try{return{data:yield b2(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}emptyBucket(t){return zn(this,void 0,void 0,function*(){try{return{data:yield Ns(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}deleteBucket(t){return zn(this,void 0,void 0,function*(){try{return{data:yield ty(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}}class C2 extends E2{constructor(t,s={},n){super(t,s,n)}from(t){return new k2(this.url,this.headers,t,this.fetch)}}const T2="2.49.7";let oi="";typeof Deno<"u"?oi="deno":typeof document<"u"?oi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?oi="react-native":oi="node";const P2={"X-Client-Info":`supabase-js-${oi}/${T2}`},A2={headers:P2},R2={schema:"public"},O2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},I2={};var D2=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const L2=e=>{let t;return e?t=e:typeof fetch>"u"?t=Fv:t=fetch,(...s)=>t(...s)},M2=()=>typeof Headers>"u"?Uv:Headers,$2=(e,t,s)=>{const n=L2(s),r=M2();return(i,o)=>D2(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new r(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var F2=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function U2(e){return e.replace(/\/$/,"")}function z2(e,t){var s,n;const{db:r,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},c),r),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>F2(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const sy="2.69.1",Hn=30*1e3,Xu=3,kc=Xu*Hn,V2="http://localhost:9999",B2="supabase.auth.token",q2={"X-Client-Info":`gotrue-js/${sy}`},Qu="X-Supabase-Api-Version",ny={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},W2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,H2=6e5;class Ch extends Error{constructor(t,s,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function Y(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class G2 extends Ch{constructor(t,s,n){super(t,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function K2(e){return Y(e)&&e.name==="AuthApiError"}class ry extends Ch{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class Qs extends Ch{constructor(t,s,n,r){super(t,n,r),this.name=s,this.status=n}}class ys extends Qs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function J2(e){return Y(e)&&e.name==="AuthSessionMissingError"}class Nc extends Qs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xa extends Qs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Qa extends Qs{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Y2(e){return Y(e)&&e.name==="AuthImplicitGrantRedirectError"}class Xm extends Qs{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Zu extends Qs{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function _c(e){return Y(e)&&e.name==="AuthRetryableFetchError"}class Qm extends Qs{constructor(t,s,n){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}class yi extends Qs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Zm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ep=` 	
\r=`.split(""),X2=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ep.length;t+=1)e[ep[t].charCodeAt(0)]=-2;for(let t=0;t<Zm.length;t+=1)e[Zm[t].charCodeAt(0)]=t;return e})();function iy(e,t,s){const n=X2[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function tp(e){const t=[],s=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},i=o=>{eN(o,n,s)};for(let o=0;o<e.length;o+=1)iy(e.charCodeAt(o),r,i);return t.join("")}function Q2(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Z2(e,t){for(let s=0;s<e.length;s+=1){let n=e.charCodeAt(s);if(n>55295&&n<=56319){const r=(n-55296)*1024&65535;n=(e.charCodeAt(s+1)-56320&65535|r)+65536,s+=1}Q2(n,t)}}function eN(e,t,s){if(t.utf8seq===0){if(e<=127){s(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function tN(e){const t=[],s={queue:0,queuedBits:0},n=r=>{t.push(r)};for(let r=0;r<e.length;r+=1)iy(e.charCodeAt(r),s,n);return new Uint8Array(t)}function sN(e){const t=[];return Z2(e,s=>t.push(s)),new Uint8Array(t)}function nN(e){return Math.round(Date.now()/1e3)+e}function rN(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Bt=()=>typeof window<"u"&&typeof document<"u",rn={tested:!1,writable:!1},wi=()=>{if(!Bt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(rn.tested)return rn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),rn.tested=!0,rn.writable=!0}catch{rn.tested=!0,rn.writable=!1}return rn.writable};function iN(e){const t={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((r,i)=>{t[i]=r})}catch{}return s.searchParams.forEach((n,r)=>{t[r]=n}),t}const ay=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>ht(async()=>{const{default:n}=await Promise.resolve().then(()=>Lr);return{default:n}},void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)},aN=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",oy=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},Za=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},eo=async(e,t)=>{await e.removeItem(t)};class Dl{constructor(){this.promise=new Dl.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Dl.promiseConstructor=Promise;function Ec(e){const t=e.split(".");if(t.length!==3)throw new yi("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!W2.test(t[n]))throw new yi("JWT not in base64url format");return{header:JSON.parse(tp(t[0])),payload:JSON.parse(tp(t[1])),signature:tN(t[2]),raw:{header:t[0],payload:t[1]}}}async function oN(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function lN(e,t){return new Promise((n,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){r(o);return}}})()})}function cN(e){return("0"+e.toString(16)).substr(-2)}function uN(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let r="";for(let i=0;i<56;i++)r+=s.charAt(Math.floor(Math.random()*n));return r}return crypto.getRandomValues(t),Array.from(t,cN).join("")}async function dN(e){const s=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",s),r=new Uint8Array(n);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}async function hN(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await dN(e);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vn(e,t,s=!1){const n=uN();let r=n;s&&(r+="/PASSWORD_RECOVERY"),await oy(e,`${t}-code-verifier`,r);const i=await hN(n);return[i,n===i?"plain":"s256"]}const fN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mN(e){const t=e.headers.get(Qu);if(!t||!t.match(fN))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function pN(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function gN(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var xN=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]]);return s};const cn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),vN=[502,503,504];async function sp(e){var t;if(!aN(e))throw new Zu(cn(e),0);if(vN.includes(e.status))throw new Zu(cn(e),e.status);let s;try{s=await e.json()}catch(i){throw new ry(cn(i),i)}let n;const r=mN(e);if(r&&r.getTime()>=ny["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new Qm(cn(s),e.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ys}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Qm(cn(s),e.status,s.weak_password.reasons);throw new G2(cn(s),e.status||500,n)}const yN=(e,t,s,n)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),r.body=JSON.stringify(n),Object.assign(Object.assign({},r),s))};async function Q(e,t,s,n){var r;const i=Object.assign({},n==null?void 0:n.headers);i[Qu]||(i[Qu]=ny["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(r=n==null?void 0:n.query)!==null&&r!==void 0?r:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await wN(e,t,s+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function wN(e,t,s,n,r,i){const o=yN(t,n,r,i);let l;try{l=await e(s,Object.assign({},o))}catch(c){throw console.error(c),new Zu(cn(c),0)}if(l.ok||await sp(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await sp(c)}}function ws(e){var t;let s=null;kN(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=nN(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:n},error:null}}function np(e){const t=ws(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ts(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function bN(e){return{data:e,error:null}}function jN(e){const{action_link:t,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i}=e,o=xN(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function SN(e){return e}function kN(e){return e.access_token&&e.refresh_token&&e.expires_in}var NN=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]]);return s};class _N{constructor({url:t="",headers:s={},fetch:n}){this.url=t,this.headers=s,this.fetch=ay(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s="global"){try{return await Q(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,s={}){try{return await Q(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Ts})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:s}=t,n=NN(t,["options"]),r=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(r.new_email=n==null?void 0:n.newEmail,delete r.newEmail),await Q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:jN,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(Y(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await Q(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ts})}catch(s){if(Y(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,n,r,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(i=(r=t==null?void 0:t.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:SN});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Y(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await Q(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ts})}catch(s){if(Y(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){try{return await Q(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Ts})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,s=!1){try{return await Q(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Ts})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:s,error:n}=await Q(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:s,error:n}}catch(s){if(Y(s))return{data:null,error:s};throw s}}async _deleteFactor(t){try{return{data:await Q(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(Y(s))return{data:null,error:s};throw s}}}const EN={getItem:e=>wi()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{wi()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{wi()&&globalThis.localStorage.removeItem(e)}};function rp(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}function CN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Bn={debug:!!(globalThis&&wi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ly extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class TN extends ly{}async function PN(e,t,s){Bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Bn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async r=>{if(r){Bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await s()}finally{Bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}else{if(t===0)throw Bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new TN(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Bn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}CN();const AN={url:V2,storageKey:B2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:q2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ip(e,t,s){return await s()}class Yi{constructor(t){var s,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Yi.nextInstanceID,Yi.nextInstanceID+=1,this.instanceID>0&&Bt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},AN),t);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new _N({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=ay(r.fetch),this.lock=r.lock||ip,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Bt()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=PN:this.lock=ip,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:wi()?this.storage=EN:(this.memoryStorage={},this.storage=rp(this.memoryStorage)):(this.memoryStorage={},this.storage=rp(this.memoryStorage)),Bt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${sy}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=iN(window.location.href);let n="none";if(this._isImplicitGrantCallback(s)?n="implicit":await this._isPKCECallback(s)&&(n="pkce"),Bt()&&this.detectSessionInUrl&&n!=="none"){const{data:r,error:i}=await this._getSessionFromURL(s,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Y2(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return Y(s)?{error:s}:{error:new ry("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,n,r;try{const i=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.captchaToken}},xform:ws}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Y(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var s,n,r;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await Vn(this.storage,this.storageKey)),i=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:v},xform:ws})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(r=f==null?void 0:f.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ws})}else throw new Xa("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Y(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let s;if("email"in t){const{email:i,password:o,options:l}=t;s=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:np})}else if("phone"in t){const{phone:i,password:o,options:l}=t;s=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:np})}else throw new Xa("You must provide either an email or phone number and a password");const{data:n,error:r}=s;return r?{data:{user:null,session:null},error:r}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Nc}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(s){if(Y(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,n,r,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(r=t.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const s=await Za(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(s??"").split("/");try{const{data:i,error:o}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ws});if(await eo(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Nc}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:o})}catch(i){if(Y(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:s,provider:n,token:r,access_token:i,nonce:o}=t,l=await Q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:ws}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Nc}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(s){if(Y(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,n,r,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Vn(this.storage,this.storageKey));const{error:h}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Xa("You must provide either an email or phone number.")}catch(l){if(Y(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var s,n;try{let r,i;"options"in t&&(r=(s=t.options)===null||s===void 0?void 0:s.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:ws});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(t){var s,n,r;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Vn(this.storage,this.storageKey)),await Q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((r=t==null?void 0:t.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:bN})}catch(i){if(Y(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:n}=t;if(n)throw n;if(!s)throw new ys;const{error:r}=await Q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:r}})}catch(t){if(Y(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:n,type:r,options:i}=t,{error:o}=await Q(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:r,options:i}=t,{data:o,error:l}=await Q(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Xa("You must provide either an email or phone number and a type")}catch(s){if(Y(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await Za(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<kc:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ts}):await this._useSession(async s=>{var n,r,i;const{data:o,error:l}=s;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ys}:await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:Ts})})}catch(s){if(Y(s))return J2(s)&&(await this._removeSession(),await eo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async n=>{const{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new ys;const o=r.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Vn(this.storage,this.storageKey));const{data:u,error:d}=await Q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Ts});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ys;const s=Date.now()/1e3;let n=s,r=!0,i=null;const{payload:o}=Ec(t.access_token);if(o.exp&&(n=o.exp,r=n<=s),r){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(Y(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var n;if(!t){const{data:o,error:l}=s;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ys;const{session:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(Y(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!Bt())throw new Qa("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Qa(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Xm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qa("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Xm("No code detected.");const{data:x,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Qa("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const p=f-d;p*1e3<=Hn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:y,error:b}=await this._getUser(i);if(b)throw b;const g={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(Y(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await Za(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{error:i};const o=(n=r.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(K2(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await eo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=rN(),n={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async s=>{var n,r;try{const{data:{session:i},error:o}=s;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,s={}){let n=null,r=null;this.flowType==="pkce"&&([n,r]=await Vn(this.storage,this.storageKey,!0));try{return await Q(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(Y(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(Y(s))return{data:null,error:s};throw s}}async linkIdentity(t){var s;try{const{data:n,error:r}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Q(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(r)throw r;return Bt()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Y(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)throw o;return await Q(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(r=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:void 0})})}catch(s){if(Y(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await lN(async r=>(r>0&&await oN(200*Math.pow(2,r-1)),this._debug(s,"refreshing attempt",r),await Q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ws})),(r,i)=>{const o=200*Math.pow(2,r);return i&&_c(i)&&Date.now()+o-n<Hn})}catch(n){if(this._debug(s,"error",n),Y(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",n),Bt()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await Za(this.storage,this.storageKey);if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const r=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<kc;if(this._debug(s,`session has${r?"":" not"} expired with margin of ${kc}s`),r){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),_c(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var s,n;if(!t)throw new ys;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Dl;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new ys;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(r,"error",i),Y(i)){const o={session:null,error:i};return _c(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(t,s,n=!0){const r=`#_notifyAllSubscribers(${t})`;this._debug(r,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,s)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await oy(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await eo(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Bt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Hn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((n.expires_at*1e3-t)/Hn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Hn}ms, refresh threshold is ${Xu} ticks`),r<=Xu&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ly)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Bt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,n){const r=[`provider=${encodeURIComponent(s)}`];if(n!=null&&n.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Vn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);r.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${r.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;return i?{data:null,error:i}:await Q(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(Y(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Q(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((r=c==null?void 0:c.totp)===null||r===void 0)&&r.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(s){if(Y(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:l}=await Q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(s){if(Y(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;return i?{data:null,error:i}:await Q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(Y(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const n=(t==null?void 0:t.factors)||[],r=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,n;const{data:{session:r},error:i}=t;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ec(r.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(s=r.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,s={keys:[]}){let n=s.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+H2>Date.now()))return n;const{data:r,error:i}=await Q(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!r.keys||r.keys.length===0)throw new yi("JWKS is empty");if(this.jwks=r,this.jwks_cached_at=Date.now(),n=r.keys.find(o=>o.kid===t),!n)throw new yi("No matching signing key found in JWKS");return n}async getClaims(t,s={keys:[]}){try{let n=t;if(!n){const{data:p,error:v}=await this.getSession();if(v||!p.session)return{data:null,error:v};n=p.session.access_token}const{header:r,payload:i,signature:o,raw:{header:l,payload:c}}=Ec(n);if(pN(i.exp),!r.kid||r.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:r,signature:o},error:null}}const u=gN(r.alg),d=await this.fetchJwk(r.kid,s),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,sN(`${l}.${c}`)))throw new yi("Invalid JWT signature");return{data:{claims:i,header:r,signature:o},error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}}Yi.nextInstanceID=0;const RN=Yi;class ON extends RN{constructor(t){super(t)}}var IN=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class DN{constructor(t,s,n){var r,i,o;if(this.supabaseUrl=t,this.supabaseKey=s,!t)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const l=U2(t),c=new URL(l);this.realtimeUrl=new URL("/realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("/auth/v1",c),this.storageUrl=new URL("/storage/v1",c),this.functionsUrl=new URL("/functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:R2,realtime:I2,auth:Object.assign(Object.assign({},O2),{storageKey:u}),global:A2},h=z2(n??{},d);this.storageKey=(r=h.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=$2(s,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Zk(`${l}/rest/v1`,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new Tk(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new C2(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},n={}){return this.rest.rpc(t,s,n)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return IN(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(s=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:n,storage:r,storageKey:i,flowType:o,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ON({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:s,detectSessionInUrl:n,storage:r,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new m2(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,s,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const LN=(e,t,s)=>new DN(e,t,s);console.log("Environment variables check:");console.log("NODE_ENV:","production");console.log("VITE_SUPABASE_URL exists:",!0);console.log("VITE_SUPABASE_ANON_KEY exists:",!0);console.log("VITE_SUPABASE_URL:","https://bbixvnkqroskholbxkgj.supabase.co");console.log("VITE_SUPABASE_ANON_KEY:","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU");const MN="https://bbixvnkqroskholbxkgj.supabase.co",$N="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU",N=LN(MN,$N),Cc=Object.freeze(Object.defineProperty({__proto__:null,supabase:N},Symbol.toStringTag,{value:"Module"})),On="/accreda.github.io/assets/accreda-logo-rSXzK5SL.png",cy=m.createContext({});function Ll(e){const t=m.useRef(null);return t.current===null&&(t.current=e()),t.current}const Th=typeof window<"u",Ph=Th?m.useLayoutEffect:m.useEffect,Ah=m.createContext(null);function Rh(e,t){e.indexOf(t)===-1&&e.push(t)}function Oh(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const Xt=(e,t,s)=>s>t?t:s<e?e:s;let FN=()=>{},Ih=()=>{};const fs={},uy=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function dy(e){return typeof e=="object"&&e!==null}const hy=e=>/^0[^.\s]+$/u.test(e);function Dh(e){let t;return()=>(t===void 0&&(t=e()),t)}const ot=e=>e,UN=(e,t)=>s=>t(e(s)),wa=(...e)=>e.reduce(UN),Er=(e,t,s)=>{const n=t-e;return n===0?1:(s-e)/n};class Lh{constructor(){this.subscriptions=[]}add(t){return Rh(this.subscriptions,t),()=>Oh(this.subscriptions,t)}notify(t,s,n){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,s,n);else for(let i=0;i<r;i++){const o=this.subscriptions[i];o&&o(t,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Kt=e=>e*1e3,Jt=e=>e/1e3;function Mh(e,t){return t?e*(1e3/t):0}const fy=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,zN=1e-7,VN=12;function BN(e,t,s,n,r){let i,o,l=0;do o=t+(s-t)/2,i=fy(o,n,r)-e,i>0?s=o:t=o;while(Math.abs(i)>zN&&++l<VN);return o}function ba(e,t,s,n){if(e===t&&s===n)return ot;const r=i=>BN(i,0,1,e,s);return i=>i===0||i===1?i:fy(r(i),t,n)}const my=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,py=e=>t=>1-e(1-t),gy=ba(.33,1.53,.69,.99),$h=py(gy),xy=my($h),vy=e=>(e*=2)<1?.5*$h(e):.5*(2-Math.pow(2,-10*(e-1))),Fh=e=>1-Math.sin(Math.acos(e)),yy=py(Fh),wy=my(Fh),qN=ba(.42,0,1,1),WN=ba(0,0,.58,1),by=ba(.42,0,.58,1),HN=e=>Array.isArray(e)&&typeof e[0]!="number",jy=e=>Array.isArray(e)&&typeof e[0]=="number",GN={linear:ot,easeIn:qN,easeInOut:by,easeOut:WN,circIn:Fh,circInOut:wy,circOut:yy,backIn:$h,backInOut:xy,backOut:gy,anticipate:vy},KN=e=>typeof e=="string",ap=e=>{if(jy(e)){Ih(e.length===4);const[t,s,n,r]=e;return ba(t,s,n,r)}else if(KN(e))return GN[e];return e},to=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function JN(e,t){let s=new Set,n=new Set,r=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){o.has(d)&&(u.schedule(d),e()),d(l)}const u={schedule:(d,h=!1,f=!1)=>{const v=f&&r?s:n;return h&&o.add(d),v.has(d)||v.add(d),d},cancel:d=>{n.delete(d),o.delete(d)},process:d=>{if(l=d,r){i=!0;return}r=!0,[s,n]=[n,s],s.forEach(c),s.clear(),r=!1,i&&(i=!1,u.process(d))}};return u}const YN=40;function Sy(e,t){let s=!1,n=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>s=!0,o=to.reduce((w,S)=>(w[S]=JN(i),w),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:h,preRender:f,render:p,postRender:v}=o,y=()=>{const w=fs.useManualTiming?r.timestamp:performance.now();s=!1,fs.useManualTiming||(r.delta=n?1e3/60:Math.max(Math.min(w-r.timestamp,YN),1)),r.timestamp=w,r.isProcessing=!0,l.process(r),c.process(r),u.process(r),d.process(r),h.process(r),f.process(r),p.process(r),v.process(r),r.isProcessing=!1,s&&t&&(n=!1,e(y))},b=()=>{s=!0,n=!0,r.isProcessing||e(y)};return{schedule:to.reduce((w,S)=>{const j=o[S];return w[S]=(k,_=!1,E=!1)=>(s||b(),j.schedule(k,_,E)),w},{}),cancel:w=>{for(let S=0;S<to.length;S++)o[to[S]].cancel(w)},state:r,steps:o}}const{schedule:ee,cancel:Ft,state:Te,steps:Tc}=Sy(typeof requestAnimationFrame<"u"?requestAnimationFrame:ot,!0);let bo;function XN(){bo=void 0}const nt={now:()=>(bo===void 0&&nt.set(Te.isProcessing||fs.useManualTiming?Te.timestamp:performance.now()),bo),set:e=>{bo=e,queueMicrotask(XN)}},ky=e=>t=>typeof t=="string"&&t.startsWith(e),Uh=ky("--"),QN=ky("var(--"),zh=e=>QN(e)?ZN.test(e.split("/*")[0].trim()):!1,ZN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$r={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Xi={...$r,transform:e=>Xt(0,1,e)},so={...$r,default:1},bi=e=>Math.round(e*1e5)/1e5,Vh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function e_(e){return e==null}const t_=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Bh=(e,t)=>s=>!!(typeof s=="string"&&t_.test(s)&&s.startsWith(e)||t&&!e_(s)&&Object.prototype.hasOwnProperty.call(s,t)),Ny=(e,t,s)=>n=>{if(typeof n!="string")return n;const[r,i,o,l]=n.match(Vh);return{[e]:parseFloat(r),[t]:parseFloat(i),[s]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},s_=e=>Xt(0,255,e),Pc={...$r,transform:e=>Math.round(s_(e))},pn={test:Bh("rgb","red"),parse:Ny("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:n=1})=>"rgba("+Pc.transform(e)+", "+Pc.transform(t)+", "+Pc.transform(s)+", "+bi(Xi.transform(n))+")"};function n_(e){let t="",s="",n="",r="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),n=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),n=e.substring(3,4),r=e.substring(4,5),t+=t,s+=s,n+=n,r+=r),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}}const ed={test:Bh("#"),parse:n_,transform:pn.transform},ja=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),bs=ja("deg"),Yt=ja("%"),K=ja("px"),r_=ja("vh"),i_=ja("vw"),op={...Yt,parse:e=>Yt.parse(e)/100,transform:e=>Yt.transform(e*100)},ir={test:Bh("hsl","hue"),parse:Ny("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:n=1})=>"hsla("+Math.round(e)+", "+Yt.transform(bi(t))+", "+Yt.transform(bi(s))+", "+bi(Xi.transform(n))+")"},Ue={test:e=>pn.test(e)||ed.test(e)||ir.test(e),parse:e=>pn.test(e)?pn.parse(e):ir.test(e)?ir.parse(e):ed.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?pn.transform(e):ir.transform(e)},a_=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function o_(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Vh))==null?void 0:t.length)||0)+(((s=e.match(a_))==null?void 0:s.length)||0)>0}const _y="number",Ey="color",l_="var",c_="var(",lp="${}",u_=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Qi(e){const t=e.toString(),s=[],n={color:[],number:[],var:[]},r=[];let i=0;const l=t.replace(u_,c=>(Ue.test(c)?(n.color.push(i),r.push(Ey),s.push(Ue.parse(c))):c.startsWith(c_)?(n.var.push(i),r.push(l_),s.push(c)):(n.number.push(i),r.push(_y),s.push(parseFloat(c))),++i,lp)).split(lp);return{values:s,split:l,indexes:n,types:r}}function Cy(e){return Qi(e).values}function Ty(e){const{split:t,types:s}=Qi(e),n=t.length;return r=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],r[o]!==void 0){const l=s[o];l===_y?i+=bi(r[o]):l===Ey?i+=Ue.transform(r[o]):i+=r[o]}return i}}const d_=e=>typeof e=="number"?0:e;function h_(e){const t=Cy(e);return Ty(e)(t.map(d_))}const Gs={test:o_,parse:Cy,createTransformer:Ty,getAnimatableNone:h_};function Ac(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function f_({hue:e,saturation:t,lightness:s,alpha:n}){e/=360,t/=100,s/=100;let r=0,i=0,o=0;if(!t)r=i=o=s;else{const l=s<.5?s*(1+t):s+t-s*t,c=2*s-l;r=Ac(c,l,e+1/3),i=Ac(c,l,e),o=Ac(c,l,e-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function nl(e,t){return s=>s>0?t:e}const he=(e,t,s)=>e+(t-e)*s,Rc=(e,t,s)=>{const n=e*e,r=s*(t*t-n)+n;return r<0?0:Math.sqrt(r)},m_=[ed,pn,ir],p_=e=>m_.find(t=>t.test(e));function cp(e){const t=p_(e);if(!t)return!1;let s=t.parse(e);return t===ir&&(s=f_(s)),s}const up=(e,t)=>{const s=cp(e),n=cp(t);if(!s||!n)return nl(e,t);const r={...s};return i=>(r.red=Rc(s.red,n.red,i),r.green=Rc(s.green,n.green,i),r.blue=Rc(s.blue,n.blue,i),r.alpha=he(s.alpha,n.alpha,i),pn.transform(r))},td=new Set(["none","hidden"]);function g_(e,t){return td.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function x_(e,t){return s=>he(e,t,s)}function qh(e){return typeof e=="number"?x_:typeof e=="string"?zh(e)?nl:Ue.test(e)?up:w_:Array.isArray(e)?Py:typeof e=="object"?Ue.test(e)?up:v_:nl}function Py(e,t){const s=[...e],n=s.length,r=e.map((i,o)=>qh(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)s[o]=r[o](i);return s}}function v_(e,t){const s={...e,...t},n={};for(const r in s)e[r]!==void 0&&t[r]!==void 0&&(n[r]=qh(e[r])(e[r],t[r]));return r=>{for(const i in n)s[i]=n[i](r);return s}}function y_(e,t){const s=[],n={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const i=t.types[r],o=e.indexes[i][n[i]],l=e.values[o]??0;s[r]=l,n[i]++}return s}const w_=(e,t)=>{const s=Gs.createTransformer(t),n=Qi(e),r=Qi(t);return n.indexes.var.length===r.indexes.var.length&&n.indexes.color.length===r.indexes.color.length&&n.indexes.number.length>=r.indexes.number.length?td.has(e)&&!r.values.length||td.has(t)&&!n.values.length?g_(e,t):wa(Py(y_(n,r),r.values),s):nl(e,t)};function Ay(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?he(e,t,s):qh(e)(e,t)}const b_=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>ee.update(t,s),stop:()=>Ft(t),now:()=>Te.isProcessing?Te.timestamp:nt.now()}},Ry=(e,t,s=10)=>{let n="";const r=Math.max(Math.round(t/s),2);for(let i=0;i<r;i++)n+=e(i/(r-1))+", ";return`linear(${n.substring(0,n.length-2)})`},rl=2e4;function Wh(e){let t=0;const s=50;let n=e.next(t);for(;!n.done&&t<rl;)t+=s,n=e.next(t);return t>=rl?1/0:t}function j_(e,t=100,s){const n=s({...e,keyframes:[0,t]}),r=Math.min(Wh(n),rl);return{type:"keyframes",ease:i=>n.next(r*i).value/t,duration:Jt(r)}}const S_=5;function Oy(e,t,s){const n=Math.max(t-S_,0);return Mh(s-e(n),t-n)}const xe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},dp=.001;function k_({duration:e=xe.duration,bounce:t=xe.bounce,velocity:s=xe.velocity,mass:n=xe.mass}){let r,i,o=1-t;o=Xt(xe.minDamping,xe.maxDamping,o),e=Xt(xe.minDuration,xe.maxDuration,Jt(e)),o<1?(r=u=>{const d=u*o,h=d*e,f=d-s,p=sd(u,o),v=Math.exp(-h);return dp-f/p*v},i=u=>{const h=u*o*e,f=h*s+s,p=Math.pow(o,2)*Math.pow(u,2)*e,v=Math.exp(-h),y=sd(Math.pow(u,2),o);return(-r(u)+dp>0?-1:1)*((f-p)*v)/y}):(r=u=>{const d=Math.exp(-u*e),h=(u-s)*e+1;return-.001+d*h},i=u=>{const d=Math.exp(-u*e),h=(s-u)*(e*e);return d*h});const l=5/e,c=__(r,i,l);if(e=Kt(e),isNaN(c))return{stiffness:xe.stiffness,damping:xe.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const N_=12;function __(e,t,s){let n=s;for(let r=1;r<N_;r++)n=n-e(n)/t(n);return n}function sd(e,t){return e*Math.sqrt(1-t*t)}const E_=["duration","bounce"],C_=["stiffness","damping","mass"];function hp(e,t){return t.some(s=>e[s]!==void 0)}function T_(e){let t={velocity:xe.velocity,stiffness:xe.stiffness,damping:xe.damping,mass:xe.mass,isResolvedFromDuration:!1,...e};if(!hp(e,C_)&&hp(e,E_))if(e.visualDuration){const s=e.visualDuration,n=2*Math.PI/(s*1.2),r=n*n,i=2*Xt(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:xe.mass,stiffness:r,damping:i}}else{const s=k_(e);t={...t,...s,mass:xe.mass},t.isResolvedFromDuration=!0}return t}function il(e=xe.visualDuration,t=xe.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:r}=s;const i=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=T_({...s,velocity:-Jt(s.velocity||0)}),v=f||0,y=u/(2*Math.sqrt(c*d)),b=o-i,g=Jt(Math.sqrt(c/d)),x=Math.abs(b)<5;n||(n=x?xe.restSpeed.granular:xe.restSpeed.default),r||(r=x?xe.restDelta.granular:xe.restDelta.default);let w;if(y<1){const j=sd(g,y);w=k=>{const _=Math.exp(-y*g*k);return o-_*((v+y*g*b)/j*Math.sin(j*k)+b*Math.cos(j*k))}}else if(y===1)w=j=>o-Math.exp(-g*j)*(b+(v+g*b)*j);else{const j=g*Math.sqrt(y*y-1);w=k=>{const _=Math.exp(-y*g*k),E=Math.min(j*k,300);return o-_*((v+y*g*b)*Math.sinh(E)+j*b*Math.cosh(E))/j}}const S={calculatedDuration:p&&h||null,next:j=>{const k=w(j);if(p)l.done=j>=h;else{let _=j===0?v:0;y<1&&(_=j===0?Kt(v):Oy(w,j,k));const E=Math.abs(_)<=n,P=Math.abs(o-k)<=r;l.done=E&&P}return l.value=l.done?o:k,l},toString:()=>{const j=Math.min(Wh(S),rl),k=Ry(_=>S.next(j*_).value,j,30);return j+"ms "+k},toTransition:()=>{}};return S}il.applyToOptions=e=>{const t=j_(e,100,il);return e.ease=t.ease,e.duration=Kt(t.duration),e.type="keyframes",e};function nd({keyframes:e,velocity:t=0,power:s=.8,timeConstant:n=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},p=E=>l!==void 0&&E<l||c!==void 0&&E>c,v=E=>l===void 0?c:c===void 0||Math.abs(l-E)<Math.abs(c-E)?l:c;let y=s*t;const b=h+y,g=o===void 0?b:o(b);g!==b&&(y=g-h);const x=E=>-y*Math.exp(-E/n),w=E=>g+x(E),S=E=>{const P=x(E),D=w(E);f.done=Math.abs(P)<=u,f.value=f.done?g:D};let j,k;const _=E=>{p(f.value)&&(j=E,k=il({keyframes:[f.value,v(f.value)],velocity:Oy(w,E,f.value),damping:r,stiffness:i,restDelta:u,restSpeed:d}))};return _(0),{calculatedDuration:null,next:E=>{let P=!1;return!k&&j===void 0&&(P=!0,S(E),_(E)),j!==void 0&&E>=j?k.next(E-j):(!P&&S(E),f)}}}function P_(e,t,s){const n=[],r=s||fs.mix||Ay,i=e.length-1;for(let o=0;o<i;o++){let l=r(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||ot:t;l=wa(c,l)}n.push(l)}return n}function Hh(e,t,{clamp:s=!0,ease:n,mixer:r}={}){const i=e.length;if(Ih(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=P_(t,n,r),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=Er(e[h],e[h+1],d);return l[h](f)};return s?d=>u(Xt(e[0],e[i-1],d)):u}function A_(e,t){const s=e[e.length-1];for(let n=1;n<=t;n++){const r=Er(0,t,n);e.push(he(s,1,r))}}function Iy(e){const t=[0];return A_(t,e.length-1),t}function R_(e,t){return e.map(s=>s*t)}function O_(e,t){return e.map(()=>t||by).splice(0,e.length-1)}function ji({duration:e=300,keyframes:t,times:s,ease:n="easeInOut"}){const r=HN(n)?n.map(ap):ap(n),i={done:!1,value:t[0]},o=R_(s&&s.length===t.length?s:Iy(t),e),l=Hh(o,t,{ease:Array.isArray(r)?r:O_(t,r)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const I_=e=>e!==null;function Gh(e,{repeat:t,repeatType:s="loop"},n,r=1){const i=e.filter(I_),l=r<0||t&&s!=="loop"&&t%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const D_={decay:nd,inertia:nd,tween:ji,keyframes:ji,spring:il};function Dy(e){typeof e.type=="string"&&(e.type=D_[e.type])}class Kh{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const L_=e=>e/100;class Jh extends Kh{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(s=!0)=>{var n,r;if(s){const{motionValue:i}=this.options;i&&i.updatedAt!==nt.now()&&this.tick(nt.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(n=this.options).onStop)==null||r.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Dy(t);const{type:s=ji,repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=s||ji;c!==ji&&typeof l[0]!="number"&&(this.mixKeyframes=wa(L_,Ay(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Wh(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=u}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:n,totalDuration:r,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:p,type:v,onUpdate:y,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const g=this.currentTime-u*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let w=this.currentTime,S=n;if(h){const E=Math.min(this.currentTime,r)/l;let P=Math.floor(E),D=E%1;!D&&E>=1&&(D=1),D===1&&P--,P=Math.min(P,h+1),!!(P%2)&&(f==="reverse"?(D=1-D,p&&(D-=p/l)):f==="mirror"&&(S=o)),w=Xt(0,1,D)*l}const j=x?{done:!1,value:d[0]}:S.next(w);i&&(j.value=i(j.value));let{done:k}=j;!x&&c!==null&&(k=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return _&&v!==nd&&(j.value=Gh(d,this.options,b,this.speed)),y&&y(j.value),_&&this.finish(),j}then(t,s){return this.finished.then(t,s)}get duration(){return Jt(this.calculatedDuration)}get time(){return Jt(this.currentTime)}set time(t){var s;t=Kt(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(nt.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=Jt(this.currentTime))}play(){var r,i;if(this.isStopped)return;const{driver:t=b_,startTime:s}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(r=this.options).onPlay)==null||i.call(r);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=s??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(nt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(t=this.options).onComplete)==null||s.call(t)}cancel(){var t,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(t=this.options).onCancel)==null||s.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),t.observe(this)}}function M_(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const gn=e=>e*180/Math.PI,rd=e=>{const t=gn(Math.atan2(e[1],e[0]));return id(t)},$_={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:rd,rotateZ:rd,skewX:e=>gn(Math.atan(e[1])),skewY:e=>gn(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},id=e=>(e=e%360,e<0&&(e+=360),e),fp=rd,mp=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),pp=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),F_={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:mp,scaleY:pp,scale:e=>(mp(e)+pp(e))/2,rotateX:e=>id(gn(Math.atan2(e[6],e[5]))),rotateY:e=>id(gn(Math.atan2(-e[2],e[0]))),rotateZ:fp,rotate:fp,skewX:e=>gn(Math.atan(e[4])),skewY:e=>gn(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function ad(e){return e.includes("scale")?1:0}function od(e,t){if(!e||e==="none")return ad(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,r;if(s)n=F_,r=s;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=$_,r=l}if(!r)return ad(t);const i=n[t],o=r[1].split(",").map(z_);return typeof i=="function"?i(o):o[i]}const U_=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return od(s,t)};function z_(e){return parseFloat(e.trim())}const Fr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ur=new Set(Fr),gp=e=>e===$r||e===K,V_=new Set(["x","y","z"]),B_=Fr.filter(e=>!V_.has(e));function q_(e){const t=[];return B_.forEach(s=>{const n=e.getValue(s);n!==void 0&&(t.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),t}const bn={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>od(t,"x"),y:(e,{transform:t})=>od(t,"y")};bn.translateX=bn.x;bn.translateY=bn.y;const jn=new Set;let ld=!1,cd=!1,ud=!1;function Ly(){if(cd){const e=Array.from(jn).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),s=new Map;t.forEach(n=>{const r=q_(n);r.length&&(s.set(n,r),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const r=s.get(n);r&&r.forEach(([i,o])=>{var l;(l=n.getValue(i))==null||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}cd=!1,ld=!1,jn.forEach(e=>e.complete(ud)),jn.clear()}function My(){jn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(cd=!0)})}function W_(){ud=!0,My(),Ly(),ud=!1}class Yh{constructor(t,s,n,r,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=n,this.motionValue=r,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(jn.add(this),ld||(ld=!0,ee.read(My),ee.resolveKeyframes(Ly))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:n,motionValue:r}=this;if(t[0]===null){const i=r==null?void 0:r.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&s){const l=n.readValue(s,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),r&&i===void 0&&r.set(t[0])}M_(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),jn.delete(this)}cancel(){this.state==="scheduled"&&(jn.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const H_=e=>e.startsWith("--");function G_(e,t,s){H_(t)?e.style.setProperty(t,s):e.style[t]=s}const $y=Dh(()=>window.ScrollTimeline!==void 0),K_={};function J_(e,t){const s=Dh(e);return()=>K_[t]??s()}const Fy=J_(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),li=([e,t,s,n])=>`cubic-bezier(${e}, ${t}, ${s}, ${n})`,xp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:li([0,.65,.55,1]),circOut:li([.55,0,1,.45]),backIn:li([.31,.01,.66,-.59]),backOut:li([.33,1.53,.69,.99])};function Uy(e,t){if(e)return typeof e=="function"?Fy()?Ry(e,t):"ease-out":jy(e)?li(e):Array.isArray(e)?e.map(s=>Uy(s,t)||xp.easeOut):xp[e]}function Y_(e,t,s,{delay:n=0,duration:r=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:s};c&&(d.offset=c);const h=Uy(l,r);Array.isArray(h)&&(d.easing=h);const f={delay:n,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),e.animate(d,f)}function zy(e){return typeof e=="function"&&"applyToOptions"in e}function X_({type:e,...t}){return zy(e)&&Fy()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Q_ extends Kh{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:n,keyframes:r,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,Ih(typeof t.type!="string");const u=X_(t);this.animation=Y_(s,n,r,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=Gh(r,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):G_(s,n,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,s;(s=(t=this.animation).finish)==null||s.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,s;this.isPseudoElement||(s=(t=this.animation).commitStyles)==null||s.call(t)}get duration(){var s,n;const t=((n=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:n.call(s).duration)||0;return Jt(Number(t))}get time(){return Jt(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Kt(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&$y()?(this.animation.timeline=t,ot):s(this)}}const Vy={anticipate:vy,backInOut:xy,circInOut:wy};function Z_(e){return e in Vy}function eE(e){typeof e.ease=="string"&&Z_(e.ease)&&(e.ease=Vy[e.ease])}const vp=10;class tE extends Q_{constructor(t){eE(t),Dy(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:n,onComplete:r,element:i,...o}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const l=new Jh({...o,autoplay:!1}),c=Kt(this.finishedTime??this.time);s.setWithVelocity(l.sample(c-vp).value,l.sample(c).value,vp),l.stop()}}const yp=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Gs.test(e)||e==="0")&&!e.startsWith("url("));function sE(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function nE(e,t,s,n){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=yp(r,t),l=yp(i,t);return!o||!l?!1:sE(e)||(s==="spring"||zy(s))&&n}function Xh(e){return dy(e)&&"offsetHeight"in e}const rE=new Set(["opacity","clipPath","filter","transform"]),iE=Dh(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function aE(e){var u;const{motionValue:t,name:s,repeatDelay:n,repeatType:r,damping:i,type:o}=e;if(!Xh((u=t==null?void 0:t.owner)==null?void 0:u.current))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return iE()&&s&&rE.has(s)&&(s!=="transform"||!c)&&!l&&!n&&r!=="mirror"&&i!==0&&o!=="inertia"}const oE=40;class lE extends Kh{constructor({autoplay:t=!0,delay:s=0,type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d,...h}){var v;super(),this.stop=()=>{var y,b;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=nt.now();const f={autoplay:t,delay:s,type:n,repeat:r,repeatDelay:i,repeatType:o,name:c,motionValue:u,element:d,...h},p=(d==null?void 0:d.KeyframeResolver)||Yh;this.keyframeResolver=new p(l,(y,b,g)=>this.onKeyframesResolved(y,b,f,!g),c,u,d),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(t,s,n,r){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=nt.now(),nE(t,i,o,l)||((fs.instantAnimations||!c)&&(d==null||d(Gh(t,n,s))),t[0]=t[t.length-1],n.duration=0,n.repeat=0);const f={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>oE?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...n,keyframes:t},p=!u&&aE(f)?new tE({...f,element:f.motionValue.owner.current}):new Jh(f);p.finished.then(()=>this.notifyFinished()).catch(ot),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),W_()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const cE=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function uE(e){const t=cE.exec(e);if(!t)return[,];const[,s,n,r]=t;return[`--${s??n}`,r]}function By(e,t,s=1){const[n,r]=uE(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return uy(o)?parseFloat(o):o}return zh(r)?By(r,t,s+1):r}function Qh(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const qy=new Set(["width","height","top","left","right","bottom",...Fr]),dE={test:e=>e==="auto",parse:e=>e},Wy=e=>t=>t.test(e),Hy=[$r,K,Yt,bs,i_,r_,dE],wp=e=>Hy.find(Wy(e));function hE(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||hy(e):!0}const fE=new Set(["brightness","contrast","saturate","opacity"]);function mE(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=s.match(Vh)||[];if(!n)return e;const r=s.replace(n,"");let i=fE.has(t)?1:0;return n!==s&&(i*=100),t+"("+i+r+")"}const pE=/\b([a-z-]*)\(.*?\)/gu,dd={...Gs,getAnimatableNone:e=>{const t=e.match(pE);return t?t.map(mE).join(" "):e}},bp={...$r,transform:Math.round},gE={rotate:bs,rotateX:bs,rotateY:bs,rotateZ:bs,scale:so,scaleX:so,scaleY:so,scaleZ:so,skew:bs,skewX:bs,skewY:bs,distance:K,translateX:K,translateY:K,translateZ:K,x:K,y:K,z:K,perspective:K,transformPerspective:K,opacity:Xi,originX:op,originY:op,originZ:K},Zh={borderWidth:K,borderTopWidth:K,borderRightWidth:K,borderBottomWidth:K,borderLeftWidth:K,borderRadius:K,radius:K,borderTopLeftRadius:K,borderTopRightRadius:K,borderBottomRightRadius:K,borderBottomLeftRadius:K,width:K,maxWidth:K,height:K,maxHeight:K,top:K,right:K,bottom:K,left:K,padding:K,paddingTop:K,paddingRight:K,paddingBottom:K,paddingLeft:K,margin:K,marginTop:K,marginRight:K,marginBottom:K,marginLeft:K,backgroundPositionX:K,backgroundPositionY:K,...gE,zIndex:bp,fillOpacity:Xi,strokeOpacity:Xi,numOctaves:bp},xE={...Zh,color:Ue,backgroundColor:Ue,outlineColor:Ue,fill:Ue,stroke:Ue,borderColor:Ue,borderTopColor:Ue,borderRightColor:Ue,borderBottomColor:Ue,borderLeftColor:Ue,filter:dd,WebkitFilter:dd},Gy=e=>xE[e];function Ky(e,t){let s=Gy(e);return s!==dd&&(s=Gs),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const vE=new Set(["auto","none","0"]);function yE(e,t,s){let n=0,r;for(;n<e.length&&!r;){const i=e[n];typeof i=="string"&&!vE.has(i)&&Qi(i).values.length&&(r=e[n]),n++}if(r&&s)for(const i of t)e[i]=Ky(s,r)}class wE extends Yh{constructor(t,s,n,r,i){super(t,s,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:n}=this;if(!s||!s.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),zh(u))){const d=By(u,s.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!qy.has(n)||t.length!==2)return;const[r,i]=t,o=wp(r),l=wp(i);if(o!==l)if(gp(o)&&gp(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else bn[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,n=[];for(let r=0;r<t.length;r++)(t[r]===null||hE(t[r]))&&n.push(r);n.length&&yE(t,n,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=bn[n](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const r=s[s.length-1];r!==void 0&&t.getValue(n,r).jump(r,!1)}measureEndState(){var l;const{element:t,name:s,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const r=t.getValue(s);r&&r.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=bn[s](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function Jy(e,t,s){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const r=document.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}const jp=30,bE=e=>!isNaN(parseFloat(e)),Si={current:void 0};class jE{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,r=!0)=>{var o,l;const i=nt.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();r&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=nt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=bE(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new Lh);const n=this.events[t].add(s);return t==="change"?()=>{n(),ee.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,n){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Si.current&&Si.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=nt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>jp)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,jp);return Mh(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,s;(t=this.dependents)==null||t.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Dt(e,t){return new jE(e,t)}const Yy=(e,t)=>t&&typeof e=="number"?t.transform(e):e,{schedule:ef}=Sy(queueMicrotask,!1),Pt={x:!1,y:!1};function Xy(){return Pt.x||Pt.y}function SE(e){return e==="x"||e==="y"?Pt[e]?null:(Pt[e]=!0,()=>{Pt[e]=!1}):Pt.x||Pt.y?null:(Pt.x=Pt.y=!0,()=>{Pt.x=Pt.y=!1})}function Qy(e,t){const s=Jy(e),n=new AbortController,r={passive:!0,...t,signal:n.signal};return[s,r,()=>n.abort()]}function Sp(e){return!(e.pointerType==="touch"||Xy())}function kE(e,t,s={}){const[n,r,i]=Qy(e,s),o=l=>{if(!Sp(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=h=>{Sp(h)&&(u(h),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,r)};return n.forEach(l=>{l.addEventListener("pointerenter",o,r)}),i}const Zy=(e,t)=>t?e===t?!0:Zy(e,t.parentElement):!1,tf=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,NE=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _E(e){return NE.has(e.tagName)||e.tabIndex!==-1}const jo=new WeakSet;function kp(e){return t=>{t.key==="Enter"&&e(t)}}function Oc(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const EE=(e,t)=>{const s=e.currentTarget;if(!s)return;const n=kp(()=>{if(jo.has(s))return;Oc(s,"down");const r=kp(()=>{Oc(s,"up")}),i=()=>Oc(s,"cancel");s.addEventListener("keyup",r,t),s.addEventListener("blur",i,t)});s.addEventListener("keydown",n,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",n),t)};function Np(e){return tf(e)&&!Xy()}function CE(e,t,s={}){const[n,r,i]=Qy(e,s),o=l=>{const c=l.currentTarget;if(!Np(l))return;jo.add(c);const u=t(c,l),d=(p,v)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),jo.has(c)&&jo.delete(c),Np(p)&&typeof u=="function"&&u(p,{success:v})},h=p=>{d(p,c===window||c===document||s.useGlobalTarget||Zy(c,p.target))},f=p=>{d(p,!1)};window.addEventListener("pointerup",h,r),window.addEventListener("pointercancel",f,r)};return n.forEach(l=>{(s.useGlobalTarget?window:l).addEventListener("pointerdown",o,r),Xh(l)&&(l.addEventListener("focus",u=>EE(u,r)),!_E(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function ew(e,t){let s;const n=()=>{const{currentTime:r}=t,o=(r===null?0:r.value)/100;s!==o&&e(o),s=o};return ee.preUpdate(n,!0),()=>Ft(n)}function sf(e){return dy(e)&&"ownerSVGElement"in e}function TE(e){return sf(e)&&e.tagName==="svg"}function PE(...e){const t=!Array.isArray(e[0]),s=t?0:-1,n=e[0+s],r=e[1+s],i=e[2+s],o=e[3+s],l=Hh(r,i,o);return t?l(n):l}const qe=e=>!!(e&&e.getVelocity),AE=[...Hy,Ue,Gs],RE=e=>AE.find(Wy(e)),nf=m.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function OE(e=!0){const t=m.useContext(Ah);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:n,register:r}=t,i=m.useId();m.useEffect(()=>{if(e)return r(i)},[e]);const o=m.useCallback(()=>e&&n&&n(i),[i,n,e]);return!s&&n?[!1,o]:[!0]}const tw=m.createContext({strict:!1}),_p={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Cr={};for(const e in _p)Cr[e]={isEnabled:t=>_p[e].some(s=>!!t[s])};function IE(e){for(const t in e)Cr[t]={...Cr[t],...e[t]}}const DE=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function al(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||DE.has(e)}let sw=e=>!al(e);function LE(e){e&&(sw=t=>t.startsWith("on")?!al(t):e(t))}try{LE(require("@emotion/is-prop-valid").default)}catch{}function ME(e,t,s){const n={};for(const r in e)r==="values"&&typeof e.values=="object"||(sw(r)||s===!0&&al(r)||!t&&!al(r)||e.draggable&&r.startsWith("onDrag"))&&(n[r]=e[r]);return n}function $E(e){if(typeof Proxy>"u")return e;const t=new Map,s=(...n)=>e(...n);return new Proxy(s,{get:(n,r)=>r==="create"?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}const Ml=m.createContext({});function $l(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Zi(e){return typeof e=="string"||Array.isArray(e)}const rf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],af=["initial",...rf];function Fl(e){return $l(e.animate)||af.some(t=>Zi(e[t]))}function nw(e){return!!(Fl(e)||e.variants)}function FE(e,t){if(Fl(e)){const{initial:s,animate:n}=e;return{initial:s===!1||Zi(s)?s:void 0,animate:Zi(n)?n:void 0}}return e.inherit!==!1?t:{}}function UE(e){const{initial:t,animate:s}=FE(e,m.useContext(Ml));return m.useMemo(()=>({initial:t,animate:s}),[Ep(t),Ep(s)])}function Ep(e){return Array.isArray(e)?e.join(" "):e}const zE=Symbol.for("motionComponentSymbol");function ar(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function VE(e,t,s){return m.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),s&&(typeof s=="function"?s(n):ar(s)&&(s.current=n))},[t])}const of=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),BE="framerAppearId",rw="data-"+of(BE),iw=m.createContext({});function qE(e,t,s,n,r){var y,b;const{visualElement:i}=m.useContext(Ml),o=m.useContext(tw),l=m.useContext(Ah),c=m.useContext(nf).reducedMotion,u=m.useRef(null);n=n||o.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:i,props:s,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,h=m.useContext(iw);d&&!d.projection&&r&&(d.type==="html"||d.type==="svg")&&WE(u.current,s,r,h);const f=m.useRef(!1);m.useInsertionEffect(()=>{d&&f.current&&d.update(s,l)});const p=s[rw],v=m.useRef(!!p&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,p))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,p)));return Ph(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),ef.render(d.render),v.current&&d.animationState&&d.animationState.animateChanges())}),m.useEffect(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,p)}),v.current=!1))}),d}function WE(e,t,s,n){const{layoutId:r,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:aw(e.parent)),e.projection.setOptions({layoutId:r,layout:i,alwaysMeasureLayout:!!o||l&&ar(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function aw(e){if(e)return e.options.allowProjection!==!1?e.projection:aw(e.parent)}function HE({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:n,Component:r}){e&&IE(e);function i(l,c){let u;const d={...m.useContext(nf),...l,layoutId:GE(l)},{isStatic:h}=d,f=UE(l),p=n(l,h);if(!h&&Th){KE();const v=JE(d);u=v.MeasureLayout,f.visualElement=qE(r,p,d,t,v.ProjectionNode)}return a.jsxs(Ml.Provider,{value:f,children:[u&&f.visualElement?a.jsx(u,{visualElement:f.visualElement,...d}):null,s(r,l,VE(p,f.visualElement,c),p,h,f.visualElement)]})}i.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const o=m.forwardRef(i);return o[zE]=r,o}function GE({layoutId:e}){const t=m.useContext(cy).id;return t&&e!==void 0?t+"-"+e:e}function KE(e,t){m.useContext(tw).strict}function JE(e){const{drag:t,layout:s}=Cr;if(!t&&!s)return{};const n={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(e)||s!=null&&s.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const ea={};function YE(e){for(const t in e)ea[t]=e[t],Uh(t)&&(ea[t].isCSSVariable=!0)}function ow(e,{layout:t,layoutId:s}){return Ur.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!ea[e]||e==="opacity")}const XE={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},QE=Fr.length;function ZE(e,t,s){let n="",r=!0;for(let i=0;i<QE;i++){const o=Fr[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||s){const u=Yy(l,Zh[o]);if(!c){r=!1;const d=XE[o]||o;n+=`${d}(${u}) `}s&&(t[o]=u)}}return n=n.trim(),s?n=s(t,r?"":n):r&&(n="none"),n}function lf(e,t,s){const{style:n,vars:r,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(Ur.has(c)){o=!0;continue}else if(Uh(c)){r[c]=u;continue}else{const d=Yy(u,Zh[c]);c.startsWith("origin")?(l=!0,i[c]=d):n[c]=d}}if(t.transform||(o||s?n.transform=ZE(t,e.transform,s):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;n.transformOrigin=`${c} ${u} ${d}`}}const cf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function lw(e,t,s){for(const n in t)!qe(t[n])&&!ow(n,s)&&(e[n]=t[n])}function eC({transformTemplate:e},t){return m.useMemo(()=>{const s=cf();return lf(s,t,e),Object.assign({},s.vars,s.style)},[t])}function tC(e,t){const s=e.style||{},n={};return lw(n,s,e),Object.assign(n,eC(e,t)),n}function sC(e,t){const s={},n=tC(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=n,s}const nC={offset:"stroke-dashoffset",array:"stroke-dasharray"},rC={offset:"strokeDashoffset",array:"strokeDasharray"};function iC(e,t,s=1,n=0,r=!0){e.pathLength=1;const i=r?nC:rC;e[i.offset]=K.transform(-n);const o=K.transform(t),l=K.transform(s);e[i.array]=`${o} ${l}`}function cw(e,{attrX:t,attrY:s,attrScale:n,pathLength:r,pathSpacing:i=1,pathOffset:o=0,...l},c,u,d){if(lf(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),s!==void 0&&(h.y=s),n!==void 0&&(h.scale=n),r!==void 0&&iC(h,r,i,o,!1)}const uw=()=>({...cf(),attrs:{}}),dw=e=>typeof e=="string"&&e.toLowerCase()==="svg";function aC(e,t,s,n){const r=m.useMemo(()=>{const i=uw();return cw(i,t,dw(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};lw(i,e.style,e),r.style={...i,...r.style}}return r}const oC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function uf(e){return typeof e!="string"||e.includes("-")?!1:!!(oC.indexOf(e)>-1||/[A-Z]/u.test(e))}function lC(e=!1){return(s,n,r,{latestValues:i},o)=>{const c=(uf(s)?aC:sC)(n,i,o,s),u=ME(n,typeof s=="string",e),d=s!==m.Fragment?{...u,...c,ref:r}:{},{children:h}=n,f=m.useMemo(()=>qe(h)?h.get():h,[h]);return m.createElement(s,{...d,children:f})}}function Cp(e){const t=[{},{}];return e==null||e.values.forEach((s,n)=>{t[0][n]=s.get(),t[1][n]=s.getVelocity()}),t}function df(e,t,s,n){if(typeof t=="function"){const[r,i]=Cp(n);t=t(s!==void 0?s:e.custom,r,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,i]=Cp(n);t=t(s!==void 0?s:e.custom,r,i)}return t}function So(e){return qe(e)?e.get():e}function cC({scrapeMotionValuesFromProps:e,createRenderState:t},s,n,r){return{latestValues:uC(s,n,r,e),renderState:t()}}const hw=e=>(t,s)=>{const n=m.useContext(Ml),r=m.useContext(Ah),i=()=>cC(e,t,n,r);return s?i():Ll(i)};function uC(e,t,s,n){const r={},i=n(e,{});for(const f in i)r[f]=So(i[f]);let{initial:o,animate:l}=e;const c=Fl(e),u=nw(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=s?s.initial===!1:!1;d=d||o===!1;const h=d?l:o;if(h&&typeof h!="boolean"&&!$l(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const v=df(e,f[p]);if(v){const{transitionEnd:y,transition:b,...g}=v;for(const x in g){let w=g[x];if(Array.isArray(w)){const S=d?w.length-1:0;w=w[S]}w!==null&&(r[x]=w)}for(const x in y)r[x]=y[x]}}}return r}function hf(e,t,s){var i;const{style:n}=e,r={};for(const o in n)(qe(n[o])||t.style&&qe(t.style[o])||ow(o,e)||((i=s==null?void 0:s.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(r[o]=n[o]);return r}const dC={useVisualState:hw({scrapeMotionValuesFromProps:hf,createRenderState:cf})};function fw(e,t,s){const n=hf(e,t,s);for(const r in e)if(qe(e[r])||qe(t[r])){const i=Fr.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}const hC={useVisualState:hw({scrapeMotionValuesFromProps:fw,createRenderState:uw})};function fC(e,t){return function(n,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={...uf(n)?hC:dC,preloadedFeatures:e,useRender:lC(r),createVisualElement:t,Component:n};return HE(o)}}function ta(e,t,s){const n=e.getProps();return df(n,t,s!==void 0?s:n.custom,e)}const hd=e=>Array.isArray(e);function mC(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,Dt(s))}function pC(e){return hd(e)?e[e.length-1]||0:e}function gC(e,t){const s=ta(e,t);let{transitionEnd:n={},transition:r={},...i}=s||{};i={...i,...n};for(const o in i){const l=pC(i[o]);mC(e,o,l)}}function xC(e){return!!(qe(e)&&e.add)}function fd(e,t){const s=e.getValue("willChange");if(xC(s))return s.add(t);if(!s&&fs.WillChange){const n=new fs.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function mw(e){return e.props[rw]}const vC=e=>e!==null;function yC(e,{repeat:t,repeatType:s="loop"},n){const r=e.filter(vC),i=t&&s!=="loop"&&t%2===1?0:r.length-1;return r[i]}const wC={type:"spring",stiffness:500,damping:25,restSpeed:10},bC=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),jC={type:"keyframes",duration:.8},SC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},kC=(e,{keyframes:t})=>t.length>2?jC:Ur.has(e)?e.startsWith("scale")?bC(t[1]):wC:SC;function NC({when:e,delay:t,delayChildren:s,staggerChildren:n,staggerDirection:r,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const ff=(e,t,s,n={},r,i)=>o=>{const l=Qh(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Kt(c);const d={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:r};NC(l)||Object.assign(d,kC(e,d)),d.duration&&(d.duration=Kt(d.duration)),d.repeatDelay&&(d.repeatDelay=Kt(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),(fs.instantAnimations||fs.skipAnimations)&&(h=!0,d.duration=0,d.delay=0),d.allowFlatten=!l.type&&!l.ease,h&&!i&&t.get()!==void 0){const f=yC(d.keyframes,l);if(f!==void 0){ee.update(()=>{d.onUpdate(f),d.onComplete()});return}}return l.isSync?new Jh(d):new lE(d)};function _C({protectedKeys:e,needsAnimating:t},s){const n=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,n}function pw(e,t,{delay:s=0,transitionOverride:n,type:r}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;n&&(i=n);const c=[],u=r&&e.animationState&&e.animationState.getState()[r];for(const d in l){const h=e.getValue(d,e.latestValues[d]??null),f=l[d];if(f===void 0||u&&_C(u,d))continue;const p={delay:s,...Qh(i||{},d)},v=h.get();if(v!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===v&&!p.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const g=mw(e);if(g){const x=window.MotionHandoffAnimation(g,d,ee);x!==null&&(p.startTime=x,y=!0)}}fd(e,d),h.start(ff(d,h,f,e.shouldReduceMotion&&qy.has(d)?{type:!1}:p,e,y));const b=h.animation;b&&c.push(b)}return o&&Promise.all(c).then(()=>{ee.update(()=>{o&&gC(e,o)})}),c}function md(e,t,s={}){var c;const n=ta(e,t,s.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:r=e.getDefaultTransition()||{}}=n||{};s.transitionOverride&&(r=s.transitionOverride);const i=n?()=>Promise.all(pw(e,n,s)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=r;return EC(e,t,d+u,h,f,s)}:()=>Promise.resolve(),{when:l}=r;if(l){const[u,d]=l==="beforeChildren"?[i,o]:[o,i];return u().then(()=>d())}else return Promise.all([i(),o(s.delay)])}function EC(e,t,s=0,n=0,r=1,i){const o=[],l=(e.variantChildren.size-1)*n,c=r===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(CC).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(md(u,t,{...i,delay:s+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function CC(e,t){return e.sortNodePosition(t)}function TC(e,t,s={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const r=t.map(i=>md(e,i,s));n=Promise.all(r)}else if(typeof t=="string")n=md(e,t,s);else{const r=typeof t=="function"?ta(e,t,s.custom):t;n=Promise.all(pw(e,r,s))}return n.then(()=>{e.notify("AnimationComplete",t)})}function gw(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let n=0;n<s;n++)if(t[n]!==e[n])return!1;return!0}const PC=af.length;function xw(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?xw(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<PC;s++){const n=af[s],r=e.props[n];(Zi(r)||r===!1)&&(t[n]=r)}return t}const AC=[...rf].reverse(),RC=rf.length;function OC(e){return t=>Promise.all(t.map(({animation:s,options:n})=>TC(e,s,n)))}function IC(e){let t=OC(e),s=Tp(),n=!0;const r=c=>(u,d)=>{var f;const h=ta(e,d,c==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:p,transitionEnd:v,...y}=h;u={...u,...y,...v}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,d=xw(e.parent)||{},h=[],f=new Set;let p={},v=1/0;for(let b=0;b<RC;b++){const g=AC[b],x=s[g],w=u[g]!==void 0?u[g]:d[g],S=Zi(w),j=g===c?x.isActive:null;j===!1&&(v=b);let k=w===d[g]&&w!==u[g]&&S;if(k&&n&&e.manuallyAnimateOnMount&&(k=!1),x.protectedKeys={...p},!x.isActive&&j===null||!w&&!x.prevProp||$l(w)||typeof w=="boolean")continue;const _=DC(x.prevProp,w);let E=_||g===c&&x.isActive&&!k&&S||b>v&&S,P=!1;const D=Array.isArray(w)?w:[w];let A=D.reduce(r(g),{});j===!1&&(A={});const{prevResolvedValues:F={}}=x,O={...F,...A},R=M=>{E=!0,f.has(M)&&(P=!0,f.delete(M)),x.needsAnimating[M]=!0;const T=e.getValue(M);T&&(T.liveStyle=!1)};for(const M in O){const T=A[M],L=F[M];if(p.hasOwnProperty(M))continue;let z=!1;hd(T)&&hd(L)?z=!gw(T,L):z=T!==L,z?T!=null?R(M):f.add(M):T!==void 0&&f.has(M)?R(M):x.protectedKeys[M]=!0}x.prevProp=w,x.prevResolvedValues=A,x.isActive&&(p={...p,...A}),n&&e.blockInitialAnimation&&(E=!1),E&&(!(k&&_)||P)&&h.push(...D.map(M=>({animation:M,options:{type:g}})))}if(f.size){const b={};if(typeof u.initial!="boolean"){const g=ta(e,Array.isArray(u.initial)?u.initial[0]:u.initial);g&&g.transition&&(b.transition=g.transition)}f.forEach(g=>{const x=e.getBaseTarget(g),w=e.getValue(g);w&&(w.liveStyle=!0),b[g]=x??null}),h.push({animation:b})}let y=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),n=!1,y?t(h):Promise.resolve()}function l(c,u){var h;if(s[c].isActive===u)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(f=>{var p;return(p=f.animationState)==null?void 0:p.setActive(c,u)}),s[c].isActive=u;const d=o(c);for(const f in s)s[f].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>s,reset:()=>{s=Tp(),n=!0}}}function DC(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!gw(t,e):!1}function an(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Tp(){return{animate:an(!0),whileInView:an(),whileHover:an(),whileTap:an(),whileDrag:an(),whileFocus:an(),exit:an()}}class Zs{constructor(t){this.isMounted=!1,this.node=t}update(){}}class LC extends Zs{constructor(t){super(t),t.animationState||(t.animationState=IC(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();$l(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let MC=0;class $C extends Zs{constructor(){super(...arguments),this.id=MC++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const r=this.node.animationState.setActive("exit",!t);s&&!t&&r.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const FC={animation:{Feature:LC},exit:{Feature:$C}};function sa(e,t,s,n={passive:!0}){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s)}function Sa(e){return{point:{x:e.pageX,y:e.pageY}}}const UC=e=>t=>tf(t)&&e(t,Sa(t));function ki(e,t,s,n){return sa(e,t,UC(s),n)}function vw({top:e,left:t,right:s,bottom:n}){return{x:{min:t,max:s},y:{min:e,max:n}}}function zC({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function VC(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}const yw=1e-4,BC=1-yw,qC=1+yw,ww=.01,WC=0-ww,HC=0+ww;function Je(e){return e.max-e.min}function GC(e,t,s){return Math.abs(e-t)<=s}function Pp(e,t,s,n=.5){e.origin=n,e.originPoint=he(t.min,t.max,e.origin),e.scale=Je(s)/Je(t),e.translate=he(s.min,s.max,e.origin)-e.originPoint,(e.scale>=BC&&e.scale<=qC||isNaN(e.scale))&&(e.scale=1),(e.translate>=WC&&e.translate<=HC||isNaN(e.translate))&&(e.translate=0)}function Ni(e,t,s,n){Pp(e.x,t.x,s.x,n?n.originX:void 0),Pp(e.y,t.y,s.y,n?n.originY:void 0)}function Ap(e,t,s){e.min=s.min+t.min,e.max=e.min+Je(t)}function KC(e,t,s){Ap(e.x,t.x,s.x),Ap(e.y,t.y,s.y)}function Rp(e,t,s){e.min=t.min-s.min,e.max=e.min+Je(t)}function _i(e,t,s){Rp(e.x,t.x,s.x),Rp(e.y,t.y,s.y)}const Op=()=>({translate:0,scale:1,origin:0,originPoint:0}),or=()=>({x:Op(),y:Op()}),Ip=()=>({min:0,max:0}),we=()=>({x:Ip(),y:Ip()});function vt(e){return[e("x"),e("y")]}function Ic(e){return e===void 0||e===1}function pd({scale:e,scaleX:t,scaleY:s}){return!Ic(e)||!Ic(t)||!Ic(s)}function un(e){return pd(e)||bw(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function bw(e){return Dp(e.x)||Dp(e.y)}function Dp(e){return e&&e!=="0%"}function ol(e,t,s){const n=e-s,r=t*n;return s+r}function Lp(e,t,s,n,r){return r!==void 0&&(e=ol(e,r,n)),ol(e,s,n)+t}function gd(e,t=0,s=1,n,r){e.min=Lp(e.min,t,s,n,r),e.max=Lp(e.max,t,s,n,r)}function jw(e,{x:t,y:s}){gd(e.x,t.translate,t.scale,t.originPoint),gd(e.y,s.translate,s.scale,s.originPoint)}const Mp=.999999999999,$p=1.0000000000001;function JC(e,t,s,n=!1){const r=s.length;if(!r)return;t.x=t.y=1;let i,o;for(let l=0;l<r;l++){i=s[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&cr(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,jw(e,o)),n&&un(i.latestValues)&&cr(e,i.latestValues))}t.x<$p&&t.x>Mp&&(t.x=1),t.y<$p&&t.y>Mp&&(t.y=1)}function lr(e,t){e.min=e.min+t,e.max=e.max+t}function Fp(e,t,s,n,r=.5){const i=he(e.min,e.max,r);gd(e,t,s,i,n)}function cr(e,t){Fp(e.x,t.x,t.scaleX,t.scale,t.originX),Fp(e.y,t.y,t.scaleY,t.scale,t.originY)}function Sw(e,t){return vw(VC(e.getBoundingClientRect(),t))}function YC(e,t,s){const n=Sw(e,s),{scroll:r}=t;return r&&(lr(n.x,r.offset.x),lr(n.y,r.offset.y)),n}const kw=({current:e})=>e?e.ownerDocument.defaultView:null,Up=(e,t)=>Math.abs(e-t);function XC(e,t){const s=Up(e.x,t.x),n=Up(e.y,t.y);return Math.sqrt(s**2+n**2)}class Nw{constructor(t,s,{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Lc(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=XC(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:v}=h,{timestamp:y}=Te;this.history.push({...v,timestamp:y});const{onStart:b,onMove:g}=this.handlers;f||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Dc(f,this.transformPagePoint),ee.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:v,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Lc(h.type==="pointercancel"?this.lastMoveEventInfo:Dc(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,b),v&&v(h,b)},!tf(t))return;this.dragSnapToOrigin=i,this.handlers=s,this.transformPagePoint=n,this.contextWindow=r||window;const o=Sa(t),l=Dc(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Te;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=s;d&&d(t,Lc(l,this.history)),this.removeListeners=wa(ki(this.contextWindow,"pointermove",this.handlePointerMove),ki(this.contextWindow,"pointerup",this.handlePointerUp),ki(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ft(this.updatePoint)}}function Dc(e,t){return t?{point:t(e.point)}:e}function zp(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Lc({point:e},t){return{point:e,delta:zp(e,_w(t)),offset:zp(e,QC(t)),velocity:ZC(t,.1)}}function QC(e){return e[0]}function _w(e){return e[e.length-1]}function ZC(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,n=null;const r=_w(e);for(;s>=0&&(n=e[s],!(r.timestamp-n.timestamp>Kt(t)));)s--;if(!n)return{x:0,y:0};const i=Jt(r.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(r.x-n.x)/i,y:(r.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function eT(e,{min:t,max:s},n){return t!==void 0&&e<t?e=n?he(t,e,n.min):Math.max(e,t):s!==void 0&&e>s&&(e=n?he(s,e,n.max):Math.min(e,s)),e}function Vp(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function tT(e,{top:t,left:s,bottom:n,right:r}){return{x:Vp(e.x,s,r),y:Vp(e.y,t,n)}}function Bp(e,t){let s=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,n]=[n,s]),{min:s,max:n}}function sT(e,t){return{x:Bp(e.x,t.x),y:Bp(e.y,t.y)}}function nT(e,t){let s=.5;const n=Je(e),r=Je(t);return r>n?s=Er(t.min,t.max-n,e.min):n>r&&(s=Er(e.min,e.max-r,t.min)),Xt(0,1,s)}function rT(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const xd=.35;function iT(e=xd){return e===!1?e=0:e===!0&&(e=xd),{x:qp(e,"left","right"),y:qp(e,"top","bottom")}}function qp(e,t,s){return{min:Wp(e,t),max:Wp(e,s)}}function Wp(e,t){return typeof e=="number"?e:e[t]||0}const aT=new WeakMap;class oT{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=we(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Sa(d).point)},i=(d,h)=>{const{drag:f,dragPropagation:p,onDragStart:v}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=SE(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vt(b=>{let g=this.getAxisMotionValue(b).get()||0;if(Yt.test(g)){const{projection:x}=this.visualElement;if(x&&x.layout){const w=x.layout.layoutBox[b];w&&(g=Je(w)*(parseFloat(g)/100))}}this.originPoint[b]=g}),v&&ee.postRender(()=>v(d,h)),fd(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:v,onDrag:y}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:b}=h;if(p&&this.currentDirection===null){this.currentDirection=lT(b),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),y&&y(d,h)},l=(d,h)=>this.stop(d,h),c=()=>vt(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)==null?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Nw(t,{onSessionStart:r,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:kw(this.visualElement)})}stop(t,s){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=s;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&ee.postRender(()=>i(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,n){const{drag:r}=this.getProps();if(!n||!no(t,r,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=eT(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:s}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,r=this.constraints;t&&ar(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=tT(n.layoutBox,t):this.constraints=!1,this.elastic=iT(s),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&vt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=rT(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!ar(t))return!1;const n=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=YC(n,r.root,this.visualElement.getTransformPagePoint());let o=sT(r.layout.layoutBox,i);if(s){const l=s(zC(o));this.hasMutatedConstraints=!!l,l&&(o=vw(l))}return o}startAnimation(t){const{drag:s,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=vt(d=>{if(!no(d,s,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const f=r?200:1e6,p=r?40:1e7,v={type:"inertia",velocity:n?t[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(l)}startAxisValueAnimation(t,s){const n=this.getAxisMotionValue(t);return fd(this.visualElement,t),n.start(ff(t,n,0,s,this.visualElement,!1))}stopAnimation(){vt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){vt(t=>{var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),r=n[s];return r||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){vt(s=>{const{drag:n}=this.getProps();if(!no(s,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(s);if(r&&r.layout){const{min:o,max:l}=r.layout.layoutBox[s];i.set(t[s]-he(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!ar(s)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};vt(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();r[o]=nT({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),vt(o=>{if(!no(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(he(c,u,r[o]))})}addListeners(){if(!this.visualElement.current)return;aT.set(this.visualElement,this);const t=this.visualElement.current,s=ki(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();ar(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),ee.read(n);const o=sa(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(vt(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),s(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=xd,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function no(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function lT(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class cT extends Zs{constructor(t){super(t),this.removeGroupControls=ot,this.removeListeners=ot,this.controls=new oT(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ot}unmount(){this.removeGroupControls(),this.removeListeners()}}const Hp=e=>(t,s)=>{e&&ee.postRender(()=>e(t,s))};class uT extends Zs{constructor(){super(...arguments),this.removePointerDownListener=ot}onPointerDown(t){this.session=new Nw(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kw(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Hp(t),onStart:Hp(s),onMove:n,onEnd:(i,o)=>{delete this.session,r&&ee.postRender(()=>r(i,o))}}}mount(){this.removePointerDownListener=ki(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ko={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Gp(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Qr={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(K.test(e))e=parseFloat(e);else return e;const s=Gp(e,t.target.x),n=Gp(e,t.target.y);return`${s}% ${n}%`}},dT={correct:(e,{treeScale:t,projectionDelta:s})=>{const n=e,r=Gs.parse(e);if(r.length>5)return n;const i=Gs.createTransformer(e),o=typeof r[0]!="number"?1:0,l=s.x.scale*t.x,c=s.y.scale*t.y;r[0+o]/=l,r[1+o]/=c;const u=he(l,c,.5);return typeof r[2+o]=="number"&&(r[2+o]/=u),typeof r[3+o]=="number"&&(r[3+o]/=u),i(r)}};class hT extends m.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=t;YE(fT),i&&(s.group&&s.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ko.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:n,drag:r,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,r||t.layoutDependency!==s||s===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||ee.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ef.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Ew(e){const[t,s]=OE(),n=m.useContext(cy);return a.jsx(hT,{...e,layoutGroup:n,switchLayoutGroup:m.useContext(iw),isPresent:t,safeToRemove:s})}const fT={borderRadius:{...Qr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qr,borderTopRightRadius:Qr,borderBottomLeftRadius:Qr,borderBottomRightRadius:Qr,boxShadow:dT};function mT(e,t,s){const n=qe(e)?e:Dt(e);return n.start(ff("",n,t,s)),n.animation}const pT=(e,t)=>e.depth-t.depth;class gT{constructor(){this.children=[],this.isDirty=!1}add(t){Rh(this.children,t),this.isDirty=!0}remove(t){Oh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(pT),this.isDirty=!1,this.children.forEach(t)}}function xT(e,t){const s=nt.now(),n=({timestamp:r})=>{const i=r-s;i>=t&&(Ft(n),e(i-t))};return ee.setup(n,!0),()=>Ft(n)}const Cw=["TopLeft","TopRight","BottomLeft","BottomRight"],vT=Cw.length,Kp=e=>typeof e=="string"?parseFloat(e):e,Jp=e=>typeof e=="number"||K.test(e);function yT(e,t,s,n,r,i){r?(e.opacity=he(0,s.opacity??1,wT(n)),e.opacityExit=he(t.opacity??1,0,bT(n))):i&&(e.opacity=he(t.opacity??1,s.opacity??1,n));for(let o=0;o<vT;o++){const l=`border${Cw[o]}Radius`;let c=Yp(t,l),u=Yp(s,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Jp(c)===Jp(u)?(e[l]=Math.max(he(Kp(c),Kp(u),n),0),(Yt.test(u)||Yt.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||s.rotate)&&(e.rotate=he(t.rotate||0,s.rotate||0,n))}function Yp(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const wT=Tw(0,.5,yy),bT=Tw(.5,.95,ot);function Tw(e,t,s){return n=>n<e?0:n>t?1:s(Er(e,t,n))}function Xp(e,t){e.min=t.min,e.max=t.max}function xt(e,t){Xp(e.x,t.x),Xp(e.y,t.y)}function Qp(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Zp(e,t,s,n,r){return e-=t,e=ol(e,1/s,n),r!==void 0&&(e=ol(e,1/r,n)),e}function jT(e,t=0,s=1,n=.5,r,i=e,o=e){if(Yt.test(t)&&(t=parseFloat(t),t=he(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=he(i.min,i.max,n);e===i&&(l-=t),e.min=Zp(e.min,t,s,l,r),e.max=Zp(e.max,t,s,l,r)}function eg(e,t,[s,n,r],i,o){jT(e,t[s],t[n],t[r],t.scale,i,o)}const ST=["x","scaleX","originX"],kT=["y","scaleY","originY"];function tg(e,t,s,n){eg(e.x,t,ST,s?s.x:void 0,n?n.x:void 0),eg(e.y,t,kT,s?s.y:void 0,n?n.y:void 0)}function sg(e){return e.translate===0&&e.scale===1}function Pw(e){return sg(e.x)&&sg(e.y)}function ng(e,t){return e.min===t.min&&e.max===t.max}function NT(e,t){return ng(e.x,t.x)&&ng(e.y,t.y)}function rg(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Aw(e,t){return rg(e.x,t.x)&&rg(e.y,t.y)}function ig(e){return Je(e.x)/Je(e.y)}function ag(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class _T{constructor(){this.members=[]}add(t){Rh(this.members,t),t.scheduleRender()}remove(t){if(Oh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(r=>t===r);if(s===0)return!1;let n;for(let r=s;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,s){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,s&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:n}=t;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ET(e,t,s){let n="";const r=e.x.translate/t.x,i=e.y.translate/t.y,o=(s==null?void 0:s.z)||0;if((r||i||o)&&(n=`translate3d(${r}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:p,skewY:v}=s;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),h&&(n+=`rotateX(${h}deg) `),f&&(n+=`rotateY(${f}deg) `),p&&(n+=`skewX(${p}deg) `),v&&(n+=`skewY(${v}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const Mc=["","X","Y","Z"],CT={visibility:"hidden"},TT=1e3;let PT=0;function $c(e,t,s,n){const{latestValues:r}=t;r[e]&&(s[e]=r[e],t.setStaticValue(e,0),n&&(n[e]=0))}function Rw(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=mw(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:r,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",ee,!(r||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&Rw(n)}function Ow({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:n,resetTransform:r}){return class{constructor(o={},l=t==null?void 0:t()){this.id=PT++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(OT),this.nodes.forEach($T),this.nodes.forEach(FT),this.nodes.forEach(IT)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new gT)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Lh),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=sf(o)&&!TE(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=xT(h,250),ko.hasAnimatedSinceResize&&(ko.hasAnimatedSinceResize=!1,this.nodes.forEach(lg))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||qT,{onLayoutAnimationStart:y,onLayoutAnimationComplete:b}=u.getProps(),g=!this.targetLayout||!Aw(this.targetLayout,p),x=!h&&f;if(this.options.layoutRoot||this.resumeFrom||x||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,x);const w={...Qh(v,"layout"),onPlay:y,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else h||lg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ft(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(UT),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Rw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(og);return}this.isUpdating||this.nodes.forEach(LT),this.isUpdating=!1,this.nodes.forEach(MT),this.nodes.forEach(AT),this.nodes.forEach(RT),this.clearAllSnapshots();const l=nt.now();Te.delta=Xt(0,1e3/60,l-Te.timestamp),Te.timestamp=l,Te.isProcessing=!0,Tc.update.process(Te),Tc.preRender.process(Te),Tc.render.process(Te),Te.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ef.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(DT),this.sharedNodes.forEach(zT)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ee.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ee.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Je(this.snapshot.measuredBox.x)&&!Je(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=we(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Pw(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||un(this.latestValues)||d)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),WT(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return we();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(HT))){const{scroll:d}=this.root;d&&(lr(l.x,d.offset.x),lr(l.y,d.offset.y))}return l}removeElementScroll(o){var c;const l=we();if(xt(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&xt(l,o),lr(l.x,h.offset.x),lr(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=we();xt(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&cr(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),un(d.latestValues)&&cr(c,d.latestValues)}return un(this.latestValues)&&cr(c,this.latestValues),c}removeTransform(o){const l=we();xt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!un(u.latestValues))continue;pd(u.latestValues)&&u.updateSnapshot();const d=we(),h=u.measurePageBox();xt(d,h),tg(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return un(this.latestValues)&&tg(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Te.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Te.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=we(),this.relativeTargetOrigin=we(),_i(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),xt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=we(),this.targetWithTransforms=we()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),KC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xt(this.target,this.layout.layoutBox),jw(this.target,this.targetDelta)):xt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=we(),this.relativeTargetOrigin=we(),_i(this.relativeTargetOrigin,this.target,p.target),xt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||pd(this.parent.latestValues)||bw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Te.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;xt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;JC(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=we());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Qp(this.prevProjectionDelta.x,this.projectionDelta.x),Qp(this.prevProjectionDelta.y,this.projectionDelta.y)),Ni(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!ag(this.projectionDelta.x,this.prevProjectionDelta.x)||!ag(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=or(),this.projectionDelta=or(),this.projectionDeltaWithTransform=or()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=or();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=we(),p=c?c.source:void 0,v=this.layout?this.layout.source:void 0,y=p!==v,b=this.getStack(),g=!b||b.members.length<=1,x=!!(y&&!g&&this.options.crossfade===!0&&!this.path.some(BT));this.animationProgress=0;let w;this.mixTargetDelta=S=>{const j=S/1e3;cg(h.x,o.x,j),cg(h.y,o.y,j),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_i(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),VT(this.relativeTarget,this.relativeTargetOrigin,f,j),w&&NT(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=we()),xt(w,this.relativeTarget)),y&&(this.animationValues=d,yT(d,u,this.latestValues,j,x,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(!1),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(!1),this.pendingAnimation&&(Ft(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ee.update(()=>{ko.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Dt(0)),this.currentAnimation=mT(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(TT),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&Iw(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||we();const h=Je(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=Je(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}xt(l,c),cr(l,d),Ni(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new _T),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&$c("z",o,u,this.animationValues);for(let d=0;d<Mc.length;d++)$c(`rotate${Mc[d]}`,o,u,this.animationValues),$c(`skew${Mc[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return CT;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=So(o==null?void 0:o.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=So(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!un(this.latestValues)&&(p.transform=c?c({},""):"none",this.hasProjected=!1),p}const d=u.animationValues||u.latestValues;this.applyTransformsToTarget(),l.transform=ET(this.projectionDeltaWithTransform,this.treeScale,d),c&&(l.transform=c(d,l.transform));const{x:h,y:f}=this.projectionDelta;l.transformOrigin=`${h.origin*100}% ${f.origin*100}% 0`,u.animationValues?l.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:l.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const p in ea){if(d[p]===void 0)continue;const{correct:v,applyTo:y,isCSSVariable:b}=ea[p],g=l.transform==="none"?d[p]:v(d[p],u);if(y){const x=y.length;for(let w=0;w<x;w++)l[y[w]]=g}else b?this.options.visualElement.renderState.vars[p]=g:l[p]=g}return this.options.layoutId&&(l.pointerEvents=u===this?So(o==null?void 0:o.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop(!1)}),this.root.nodes.forEach(og),this.root.sharedNodes.clear()}}}function AT(e){e.updateLayout()}function RT(e){var s;const t=((s=e.resumeFrom)==null?void 0:s.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?vt(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],p=Je(f);f.min=n[h].min,f.max=f.min+p}):Iw(i,t.layoutBox,n)&&vt(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],p=Je(n[h]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const l=or();Ni(l,n,t.layoutBox);const c=or();o?Ni(c,e.applyTransform(r,!0),t.measuredBox):Ni(c,n,t.layoutBox);const u=!Pw(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const v=we();_i(v,t.layoutBox,f.layoutBox);const y=we();_i(y,n,p.layoutBox),Aw(v,y)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=v,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function OT(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function IT(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function DT(e){e.clearSnapshot()}function og(e){e.clearMeasurements()}function LT(e){e.isLayoutDirty=!1}function MT(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function lg(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function $T(e){e.resolveTargetDelta()}function FT(e){e.calcProjection()}function UT(e){e.resetSkewAndRotation()}function zT(e){e.removeLeadSnapshot()}function cg(e,t,s){e.translate=he(t.translate,0,s),e.scale=he(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function ug(e,t,s,n){e.min=he(t.min,s.min,n),e.max=he(t.max,s.max,n)}function VT(e,t,s,n){ug(e.x,t.x,s.x,n),ug(e.y,t.y,s.y,n)}function BT(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const qT={duration:.45,ease:[.4,0,.1,1]},dg=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),hg=dg("applewebkit/")&&!dg("chrome/")?Math.round:ot;function fg(e){e.min=hg(e.min),e.max=hg(e.max)}function WT(e){fg(e.x),fg(e.y)}function Iw(e,t,s){return e==="position"||e==="preserve-aspect"&&!GC(ig(t),ig(s),.2)}function HT(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const GT=Ow({attachResizeListener:(e,t)=>sa(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fc={current:void 0},Dw=Ow({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Fc.current){const e=new GT({});e.mount(window),e.setOptions({layoutScroll:!0}),Fc.current=e}return Fc.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),KT={pan:{Feature:uT},drag:{Feature:cT,ProjectionNode:Dw,MeasureLayout:Ew}};function mg(e,t,s){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",s==="Start");const r="onHover"+s,i=n[r];i&&ee.postRender(()=>i(t,Sa(t)))}class JT extends Zs{mount(){const{current:t}=this.node;t&&(this.unmount=kE(t,(s,n)=>(mg(this.node,n,"Start"),r=>mg(this.node,r,"End"))))}unmount(){}}class YT extends Zs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wa(sa(this.node.current,"focus",()=>this.onFocus()),sa(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function pg(e,t,s){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",s==="Start");const r="onTap"+(s==="End"?"":s),i=n[r];i&&ee.postRender(()=>i(t,Sa(t)))}class XT extends Zs{mount(){const{current:t}=this.node;t&&(this.unmount=CE(t,(s,n)=>(pg(this.node,n,"Start"),(r,{success:i})=>pg(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const vd=new WeakMap,Uc=new WeakMap,QT=e=>{const t=vd.get(e.target);t&&t(e)},ZT=e=>{e.forEach(QT)};function eP({root:e,...t}){const s=e||document;Uc.has(s)||Uc.set(s,{});const n=Uc.get(s),r=JSON.stringify(t);return n[r]||(n[r]=new IntersectionObserver(ZT,{root:e,...t})),n[r]}function tP(e,t,s){const n=eP(t);return vd.set(e,s),n.observe(e),()=>{vd.delete(e),n.unobserve(e)}}const sP={some:0,all:1};class nP extends Zs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:n,amount:r="some",once:i}=t,o={root:s?s.current:void 0,rootMargin:n,threshold:typeof r=="number"?r:sP[r]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return tP(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(rP(t,s))&&this.startObserver()}unmount(){}}function rP({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const iP={inView:{Feature:nP},tap:{Feature:XT},focus:{Feature:YT},hover:{Feature:JT}},aP={layout:{ProjectionNode:Dw,MeasureLayout:Ew}},yd={current:null},Lw={current:!1};function oP(){if(Lw.current=!0,!!Th)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>yd.current=e.matches;e.addListener(t),t()}else yd.current=!1}const lP=new WeakMap;function cP(e,t,s){for(const n in t){const r=t[n],i=s[n];if(qe(r))e.addValue(n,r);else if(qe(i))e.addValue(n,Dt(r,{owner:e}));else if(i!==r)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=e.getStaticValue(n);e.addValue(n,Dt(o!==void 0?o:r,{owner:e}))}}for(const n in s)t[n]===void 0&&e.removeValue(n);return t}const gg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class uP{scrapeMotionValuesFromProps(t,s,n){return{}}constructor({parent:t,props:s,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Yh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=nt.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,ee.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=s.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=s,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Fl(s),this.isVariantNode=nw(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(s,{},this);for(const f in h){const p=h[f];c[f]!==void 0&&qe(p)&&p.set(c[f],!1)}}mount(t){this.current=t,lP.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,n)=>this.bindToMotionValue(n,s)),Lw.current||oP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:yd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ft(this.notifyUpdate),Ft(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Ur.has(t);n&&this.onBindTransform&&this.onBindTransform();const r=s.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&ee.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=s.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{r(),i(),o&&o(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Cr){const s=Cr[t];if(!s)continue;const{isEnabled:n,Feature:r}=s;if(!this.features[t]&&r&&n(this.props)&&(this.features[t]=new r(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):we()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<gg.length;n++){const r=gg[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i="on"+r,o=t[i];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=cP(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const n=this.values.get(t);s!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&s!==void 0&&(n=Dt(s===null?void 0:s,{owner:this}),this.addValue(t,n)),n}readValue(t,s){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(uy(n)||hy(n))?n=parseFloat(n):!RE(n)&&Gs.test(s)&&(n=Ky(t,s)),this.setBaseTarget(t,qe(n)?n.get():n)),qe(n)?n.get():n}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var i;const{initial:s}=this.props;let n;if(typeof s=="string"||typeof s=="object"){const o=df(this.props,s,(i=this.presenceContext)==null?void 0:i.custom);o&&(n=o[t])}if(s&&n!==void 0)return n;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!qe(r)?r:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new Lh),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class Mw extends uP{constructor(){super(...arguments),this.KeyframeResolver=wE}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:n}){delete s[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;qe(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function $w(e,{style:t,vars:s},n,r){Object.assign(e.style,t,r&&r.getProjectionStyles(n));for(const i in s)e.style.setProperty(i,s[i])}function dP(e){return window.getComputedStyle(e)}class hP extends Mw{constructor(){super(...arguments),this.type="html",this.renderInstance=$w}readValueFromInstance(t,s){var n;if(Ur.has(s))return(n=this.projection)!=null&&n.isProjecting?ad(s):U_(t,s);{const r=dP(t),i=(Uh(s)?r.getPropertyValue(s):r[s])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:s}){return Sw(t,s)}build(t,s,n){lf(t,s,n.transformTemplate)}scrapeMotionValuesFromProps(t,s,n){return hf(t,s,n)}}const Fw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fP(e,t,s,n){$w(e,t,void 0,n);for(const r in t.attrs)e.setAttribute(Fw.has(r)?r:of(r),t.attrs[r])}class mP extends Mw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=we}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(Ur.has(s)){const n=Gy(s);return n&&n.default||0}return s=Fw.has(s)?s:of(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,n){return fw(t,s,n)}build(t,s,n){cw(t,s,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,s,n,r){fP(t,s,n,r)}mount(t){this.isSVGTag=dw(t.tagName),super.mount(t)}}const pP=(e,t)=>uf(e)?new mP(t):new hP(t,{allowProjection:e!==m.Fragment}),gP=fC({...FC,...iP,...KT,...aP},pP),ie=$E(gP),No=new WeakMap;let js;function xP(e,t){if(t){const{inlineSize:s,blockSize:n}=t[0];return{width:s,height:n}}else return sf(e)&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}function vP({target:e,contentRect:t,borderBoxSize:s}){var n;(n=No.get(e))==null||n.forEach(r=>{r({target:e,contentSize:t,get size(){return xP(e,s)}})})}function yP(e){e.forEach(vP)}function wP(){typeof ResizeObserver>"u"||(js=new ResizeObserver(yP))}function bP(e,t){js||wP();const s=Jy(e);return s.forEach(n=>{let r=No.get(n);r||(r=new Set,No.set(n,r)),r.add(t),js==null||js.observe(n)}),()=>{s.forEach(n=>{const r=No.get(n);r==null||r.delete(t),r!=null&&r.size||js==null||js.unobserve(n)})}}const _o=new Set;let Ei;function jP(){Ei=()=>{const e={width:window.innerWidth,height:window.innerHeight},t={target:window,size:e,contentSize:e};_o.forEach(s=>s(t))},window.addEventListener("resize",Ei)}function SP(e){return _o.add(e),Ei||jP(),()=>{_o.delete(e),!_o.size&&Ei&&(Ei=void 0)}}function kP(e,t){return typeof e=="function"?SP(e):bP(e,t)}const NP=50,xg=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),_P=()=>({time:0,x:xg(),y:xg()}),EP={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function vg(e,t,s,n){const r=s[t],{length:i,position:o}=EP[t],l=r.current,c=s.time;r.current=e[`scroll${o}`],r.scrollLength=e[`scroll${i}`]-e[`client${i}`],r.offset.length=0,r.offset[0]=0,r.offset[1]=r.scrollLength,r.progress=Er(0,r.scrollLength,r.current);const u=n-c;r.velocity=u>NP?0:Mh(r.current-l,u)}function CP(e,t,s){vg(e,"x",t,s),vg(e,"y",t,s),t.time=s}function TP(e,t){const s={x:0,y:0};let n=e;for(;n&&n!==t;)if(Xh(n))s.x+=n.offsetLeft,s.y+=n.offsetTop,n=n.offsetParent;else if(n.tagName==="svg"){const r=n.getBoundingClientRect();n=n.parentElement;const i=n.getBoundingClientRect();s.x+=r.left-i.left,s.y+=r.top-i.top}else if(n instanceof SVGGraphicsElement){const{x:r,y:i}=n.getBBox();s.x+=r,s.y+=i;let o=null,l=n.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=n.parentNode;n=o}else break;return s}const wd={start:0,center:.5,end:1};function yg(e,t,s=0){let n=0;if(e in wd&&(e=wd[e]),typeof e=="string"){const r=parseFloat(e);e.endsWith("px")?n=r:e.endsWith("%")?e=r/100:e.endsWith("vw")?n=r/100*document.documentElement.clientWidth:e.endsWith("vh")?n=r/100*document.documentElement.clientHeight:e=r}return typeof e=="number"&&(n=t*e),s+n}const PP=[0,0];function AP(e,t,s,n){let r=Array.isArray(e)?e:PP,i=0,o=0;return typeof e=="number"?r=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?r=e.split(" "):r=[e,wd[e]?e:"0"]),i=yg(r[0],s,n),o=yg(r[1],t),i-o}const RP={All:[[0,0],[1,1]]},OP={x:0,y:0};function IP(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function DP(e,t,s){const{offset:n=RP.All}=s,{target:r=e,axis:i="y"}=s,o=i==="y"?"height":"width",l=r!==e?TP(r,e):OP,c=r===e?{width:e.scrollWidth,height:e.scrollHeight}:IP(r),u={width:e.clientWidth,height:e.clientHeight};t[i].offset.length=0;let d=!t[i].interpolate;const h=n.length;for(let f=0;f<h;f++){const p=AP(n[f],u[o],c[o],l[i]);!d&&p!==t[i].interpolatorOffsets[f]&&(d=!0),t[i].offset[f]=p}d&&(t[i].interpolate=Hh(t[i].offset,Iy(n),{clamp:!1}),t[i].interpolatorOffsets=[...t[i].offset]),t[i].progress=Xt(0,1,t[i].interpolate(t[i].current))}function LP(e,t=e,s){if(s.x.targetOffset=0,s.y.targetOffset=0,t!==e){let n=t;for(;n&&n!==e;)s.x.targetOffset+=n.offsetLeft,s.y.targetOffset+=n.offsetTop,n=n.offsetParent}s.x.targetLength=t===e?t.scrollWidth:t.clientWidth,s.y.targetLength=t===e?t.scrollHeight:t.clientHeight,s.x.containerLength=e.clientWidth,s.y.containerLength=e.clientHeight}function MP(e,t,s,n={}){return{measure:()=>LP(e,n.target,s),update:r=>{CP(e,s,r),(n.offset||n.target)&&DP(e,s,n)},notify:()=>t(s)}}const Zr=new WeakMap,wg=new WeakMap,zc=new WeakMap,bg=e=>e===document.scrollingElement?window:e;function Uw(e,{container:t=document.scrollingElement,...s}={}){if(!t)return ot;let n=zc.get(t);n||(n=new Set,zc.set(t,n));const r=_P(),i=MP(t,e,r,s);if(n.add(i),!Zr.has(t)){const l=()=>{for(const f of n)f.measure()},c=()=>{for(const f of n)f.update(Te.timestamp)},u=()=>{for(const f of n)f.notify()},d=()=>{ee.read(l),ee.read(c),ee.preUpdate(u)};Zr.set(t,d);const h=bg(t);window.addEventListener("resize",d,{passive:!0}),t!==document.documentElement&&wg.set(t,kP(t,d)),h.addEventListener("scroll",d,{passive:!0}),d()}const o=Zr.get(t);return ee.read(o,!1,!0),()=>{var u;Ft(o);const l=zc.get(t);if(!l||(l.delete(i),l.size))return;const c=Zr.get(t);Zr.delete(t),c&&(bg(t).removeEventListener("scroll",c),(u=wg.get(t))==null||u(),window.removeEventListener("resize",c))}}const jg=new Map;function $P(e){const t={value:0},s=Uw(n=>{t.value=n[e.axis].progress*100},e);return{currentTime:t,cancel:s}}function zw({source:e,container:t,...s}){const{axis:n}=s;e&&(t=e);const r=jg.get(t)??new Map;jg.set(t,r);const i=s.target??"self",o=r.get(i)??{},l=n+(s.offset??[]).join(",");return o[l]||(o[l]=!s.target&&$y()?new ScrollTimeline({source:t,axis:n}):$P({container:t,...s})),o[l]}function FP(e,t){const s=zw(t);return e.attachTimeline({timeline:t.target?void 0:s,observe:n=>(n.pause(),ew(r=>{n.time=n.duration*r},s))})}function UP(e){return e.length===2}function zP(e,t){return UP(e)?Uw(s=>{e(s[t.axis].progress,s)},t):ew(e,zw(t))}function VP(e,{axis:t="y",container:s=document.scrollingElement,...n}={}){if(!s)return ot;const r={axis:t,container:s,...n};return typeof e=="function"?zP(e,r):FP(e,r)}function Sg(e,t){FN(!!(!t||t.current))}const BP=()=>({scrollX:Dt(0),scrollY:Dt(0),scrollXProgress:Dt(0),scrollYProgress:Dt(0)});function qP({container:e,target:t,layoutEffect:s=!0,...n}={}){const r=Ll(BP);return(s?Ph:m.useEffect)(()=>(Sg("target",t),Sg("container",e),VP((o,{x:l,y:c})=>{r.scrollX.set(l.current),r.scrollXProgress.set(l.progress),r.scrollY.set(c.current),r.scrollYProgress.set(c.progress)},{...n,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0})),[e,t,JSON.stringify(n.offset)]),r}function WP(e){const t=Ll(()=>Dt(e)),{isStatic:s}=m.useContext(nf);if(s){const[,n]=m.useState(e);m.useEffect(()=>t.on("change",n),[])}return t}function Vw(e,t){const s=WP(t()),n=()=>s.set(t());return n(),Ph(()=>{const r=()=>ee.preRender(n,!1,!0),i=e.map(o=>o.on("change",r));return()=>{i.forEach(o=>o()),Ft(n)}}),s}function HP(e){Si.current=[],e();const t=Vw(Si.current,e);return Si.current=void 0,t}function kg(e,t,s,n){if(typeof e=="function")return HP(e);const r=typeof t=="function"?t:PE(t,s,n);return Array.isArray(e)?Ng(e,r):Ng([e],([i])=>r(i))}function Ng(e,t){const s=Ll(()=>[]);return Vw(e,()=>{s.length=0;const n=e.length;for(let r=0;r<n;r++)s[r]=e[r].get();return t(s)})}function GP(){var f;const[e,t]=m.useState(""),[s,n]=m.useState(""),[r,i]=m.useState(null),[o,l]=m.useState(!1),c=He(),d=(f=xs().state)==null?void 0:f.message,h=async p=>{p.preventDefault(),i(null),l(!0);try{const{data:v,error:y}=await N.auth.signInWithPassword({email:e,password:s});if(y)throw y;v!=null&&v.user&&c("/dashboard")}catch(v){v instanceof Error?v.message.includes("Invalid login credentials")?i("Invalid email or password"):v.message.includes("Email not confirmed")?i("Please confirm your email address before logging in"):i(v.message):i("An unexpected error occurred during login")}finally{l(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#FDFBF7] py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md w-full space-y-8 bg-white p-8 rounded-2xl shadow-sm hover:shadow-md transition-shadow duration-300",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("img",{src:On,alt:"Accreda Logo",className:"h-24 w-auto mb-6 cursor-pointer",onClick:()=>c("/")}),a.jsx("h2",{className:"text-2xl font-bold text-[#2C3E50]",children:"Welcome back"}),a.jsx("p",{className:"mt-2 text-sm text-[#34495E]",children:"Sign in to your EIT Track account"})]}),d&&a.jsx("div",{className:"rounded-lg bg-green-50 p-4 border border-green-100",children:a.jsx("div",{className:"text-sm text-green-700",children:d})}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[r&&a.jsx("div",{className:"rounded-lg bg-red-50 p-4 border border-red-100",children:a.jsx("div",{className:"text-sm text-red-700",children:r})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-[#2C3E50] mb-1",children:"Email address"}),a.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-[#E8E4D9] placeholder-[#34495E] text-[#2C3E50] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#3498DB] focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your email",value:e,onChange:p=>t(p.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-[#2C3E50] mb-1",children:"Password"}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-[#E8E4D9] placeholder-[#34495E] text-[#2C3E50] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#3498DB] focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your password",value:s,onChange:p=>n(p.target.value)})]})]}),a.jsx("div",{className:"flex items-center justify-end",children:a.jsx("div",{className:"text-sm",children:a.jsx(bt,{to:"/forgot-password",className:"font-medium text-[#3498DB] hover:text-[#2980B9] transition-colors",children:"Forgot your password?"})})}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-2.5 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-[#3498DB] hover:bg-[#2980B9] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#3498DB] transition-all duration-300 transform hover:scale-105 disabled:opacity-75 disabled:cursor-not-allowed",children:o?"Signing in...":"Sign in"})}),a.jsx("div",{className:"text-center",children:a.jsxs("p",{className:"text-sm text-[#34495E]",children:["Don't have an account?"," ",a.jsx(bt,{to:"/signup",className:"font-medium text-[#3498DB] hover:text-[#2980B9] transition-colors",children:"Create one now"})]})})]})]})})}function KP(){const[e,t]=m.useState({email:"",password:"",confirmPassword:"",fullName:"",organization:"",accountType:"eit"}),[s,n]=m.useState(null),[r,i]=m.useState(!1),[o,l]=m.useState(null),c=He(),u=async d=>{d.preventDefault(),n(null),i(!0);try{if(e.password!==e.confirmPassword)throw new Error("Passwords do not match");if(e.password.length<6)throw new Error("Password must be at least 6 characters long");if(!e.fullName.trim())throw new Error("Full name is required");if(e.accountType==="supervisor"&&!e.organization.trim())throw new Error("Organization is required for supervisors");console.log("Creating auth user with:",{email:e.email,accountType:e.accountType});const{data:h,error:f}=await N.auth.signUp({email:e.email,password:e.password,options:{emailRedirectTo:`${window.location.origin}/login`}});if(f)throw console.error("Auth error:",f),new Error(`Authentication error: ${f.message}`);if(!h.user)throw console.error("No user data returned from auth signup"),new Error("Failed to create user account");console.log("Auth user created:",h.user.id);const p={id:h.user.id,email:e.email,full_name:e.fullName,account_type:e.accountType,...e.accountType==="supervisor"&&{organization:e.organization}};console.log("Creating profile with data:",p);const{error:v}=await N.from(e.accountType==="eit"?"eit_profiles":"supervisor_profiles").insert([p]);if(v)throw console.error("Profile creation error:",v),new Error(`Failed to create profile: ${v.message}`);console.log("Profile created successfully"),l("Account created successfully! Please check your email for verification."),t({email:"",password:"",confirmPassword:"",fullName:"",organization:"",accountType:"eit"}),c("/login",{state:{message:"Please check your email to confirm your account. You can now sign in."}})}catch(h){console.error("Signup error:",h);let f=h instanceof Error?h.message:"An error occurred during signup";(f.includes("duplicate key value")||f.includes("unique constraint")||f.toLowerCase().includes("already exists"))&&(f="An account with this email already exists. Please log in or use a different email address."),n(f)}finally{i(!1)}};return m.useEffect(()=>{N.auth.getSession().then(({data:{session:d}})=>{})},[]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-slate-50 to-slate-100 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("img",{src:On,alt:"Accreda Logo",className:"h-24 w-auto mb-6 cursor-pointer",onClick:()=>c("/")}),a.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Create your account"}),a.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Join Accreda to start your journey"})]}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[s&&a.jsx("div",{className:"rounded-lg bg-red-50 p-4 border border-red-100",children:a.jsx("div",{className:"text-sm text-red-700",children:s})}),o&&a.jsx("div",{className:"rounded-lg bg-green-50 p-4 border border-green-100",children:a.jsx("div",{className:"text-sm text-green-700",children:o})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-center mb-4 gap-3",children:[a.jsx("button",{type:"button",className:`px-4 py-2 rounded-lg border font-semibold transition-all duration-200 transform focus:outline-none focus:ring-2 focus:ring-teal-400
                  ${e.accountType==="eit"?"bg-teal-600 text-white scale-105 shadow-lg":"bg-white text-teal-600 border-teal-600 hover:scale-105 hover:brightness-95"}
                `,onClick:()=>t({...e,accountType:"eit"}),children:"EIT"}),a.jsx("button",{type:"button",className:`px-4 py-2 rounded-lg border font-semibold transition-all duration-200 transform focus:outline-none focus:ring-2 focus:ring-teal-400
                  ${e.accountType==="supervisor"?"bg-teal-600 text-white scale-105 shadow-lg":"bg-white text-teal-600 border-teal-600 hover:scale-105 hover:brightness-95"}
                `,onClick:()=>t({...e,accountType:"supervisor"}),children:"Supervisor"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"full-name",className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),a.jsx("input",{id:"full-name",name:"full-name",type:"text",autoComplete:"name",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your full name",value:e.fullName,onChange:d=>t({...e,fullName:d.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"organization",className:"block text-sm font-medium text-slate-700 mb-1",children:"Organization"}),a.jsx("input",{id:"organization",name:"organization",type:"text",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your organization",value:e.organization,onChange:d=>t({...e,organization:d.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-slate-700 mb-1",children:"Email address"}),a.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your email",value:e.email,onChange:d=>t({...e,email:d.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Create a password",value:e.password,onChange:d=>t({...e,password:d.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-slate-700 mb-1",children:"Confirm Password"}),a.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Confirm your password",value:e.confirmPassword,onChange:d=>t({...e,confirmPassword:d.target.value})})]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:r,className:"group relative w-full flex justify-center py-2.5 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-colors disabled:opacity-75 disabled:cursor-not-allowed",children:r?"Creating account...":"Create account"})}),a.jsx("div",{className:"text-center",children:a.jsxs("p",{className:"text-sm text-slate-600",children:["Already have an account?"," ",a.jsx(bt,{to:"/login",className:"font-medium text-teal-600 hover:text-teal-500 transition-colors",children:"Sign in"})]})})]})]})})}function JP(){const[e,t]=m.useState(""),[s,n]=m.useState(null),[r,i]=m.useState(null),[o,l]=m.useState(!1),c=async u=>{u.preventDefault(),n(null),i(null),l(!0);try{const{error:d}=await N.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});if(d)throw d;i("Password reset instructions have been sent to your email address."),t("")}catch(d){n(d instanceof Error?d.message:"An error occurred while sending reset instructions")}finally{l(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-slate-50 to-slate-100 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("img",{src:On,alt:"Accreda Logo",className:"h-24 w-auto mb-6"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Reset your password"}),a.jsx("p",{className:"mt-2 text-sm text-slate-600 text-center",children:"Enter your email address and we'll send you instructions to reset your password"})]}),r&&a.jsx("div",{className:"rounded-lg bg-green-50 p-4 border border-green-100",children:a.jsx("div",{className:"text-sm text-green-700",children:r})}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:c,children:[s&&a.jsx("div",{className:"rounded-lg bg-red-50 p-4 border border-red-100",children:a.jsx("div",{className:"text-sm text-red-700",children:s})}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-slate-700 mb-1",children:"Email address"}),a.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your email",value:e,onChange:u=>t(u.target.value)})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-2.5 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-colors disabled:opacity-75 disabled:cursor-not-allowed",children:o?"Sending instructions...":"Send reset instructions"})}),a.jsx("div",{className:"text-center",children:a.jsxs("p",{className:"text-sm text-slate-600",children:["Remember your password?"," ",a.jsx(bt,{to:"/login",className:"font-medium text-teal-600 hover:text-teal-500 transition-colors",children:"Sign in"})]})})]})]})})}function YP(){const[e,t]=m.useState(""),[s,n]=m.useState(""),[r,i]=m.useState(null),[o,l]=m.useState(!1),c=He();m.useEffect(()=>{N.auth.getSession().then(({data:{session:d}})=>{d||c("/login",{state:{message:"Password reset link is invalid or has expired. Please try again."}})})},[c]);const u=async d=>{if(d.preventDefault(),i(null),e!==s){i("Passwords do not match");return}if(e.length<6){i("Password must be at least 6 characters long");return}l(!0);try{const{error:h}=await N.auth.updateUser({password:e});if(h)throw h;await N.auth.signOut(),c("/login",{state:{message:"Your password has been reset successfully. Please sign in with your new password."}})}catch(h){i(h instanceof Error?h.message:"An error occurred while resetting your password")}finally{l(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-slate-50 to-slate-100 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("img",{src:On,alt:"Accreda Logo",className:"h-24 w-auto mb-6"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Set new password"}),a.jsx("p",{className:"mt-2 text-sm text-slate-600 text-center",children:"Please enter your new password below"})]}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[r&&a.jsx("div",{className:"rounded-lg bg-red-50 p-4 border border-red-100",children:a.jsx("div",{className:"text-sm text-red-700",children:r})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-1",children:"New Password"}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Enter your new password",value:e,onChange:d=>t(d.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-slate-700 mb-1",children:"Confirm New Password"}),a.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent sm:text-sm transition-colors",placeholder:"Confirm your new password",value:s,onChange:d=>n(d.target.value)})]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-2.5 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-colors disabled:opacity-75 disabled:cursor-not-allowed",children:o?"Resetting password...":"Reset password"})})]})]})})}/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),B=(e,t)=>{const s=m.forwardRef(({color:n="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>m.createElement("svg",{ref:d,...XP,width:r,height:r,stroke:n,strokeWidth:o?Number(i)*24/Number(r):i,className:["lucide",`lucide-${QP(e)}`,l].join(" "),...u},[...t.map(([h,f])=>m.createElement(h,f)),...Array.isArray(c)?c:[c]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=B("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=B("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=B("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=B("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=B("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=B("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=B("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=B("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=B("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=B("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=B("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=B("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=B("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=B("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=B("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=B("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=B("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=B("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=B("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=B("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=B("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=B("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=B("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=B("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=B("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=B("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=B("FilePen",[["path",{d:"M12 22h6a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v10",key:"x7tsz2"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10.4 12.6a2 2 0 1 1 3 3L8 21l-4 1 1-4Z",key:"o3xyfb"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=B("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=B("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=B("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=B("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=B("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=B("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=B("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=B("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=B("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=B("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=B("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=B("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=B("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=B("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=B("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=B("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=B("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=B("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=B("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=B("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=B("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=B("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=B("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=B("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=B("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=B("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=B("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=B("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=B("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=B("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=B("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=B("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=B("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=B("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=B("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=B("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=B("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),jA={},Tg=e=>{let t;const s=new Set,n=(d,h)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const p=t;t=h??(typeof f!="object"||f===null)?f:Object.assign({},t,f),s.forEach(v=>v(t,p))}},r=()=>t,c={setState:n,getState:r,getInitialState:()=>u,subscribe:d=>(s.add(d),()=>s.delete(d)),destroy:()=>{(jA?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},u=t=e(n,r,c);return c},SA=e=>e?Tg(e):Tg;var sb={exports:{}},nb={},rb={exports:{}},ib={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pr=m;function kA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var NA=typeof Object.is=="function"?Object.is:kA,_A=Pr.useState,EA=Pr.useEffect,CA=Pr.useLayoutEffect,TA=Pr.useDebugValue;function PA(e,t){var s=t(),n=_A({inst:{value:s,getSnapshot:t}}),r=n[0].inst,i=n[1];return CA(function(){r.value=s,r.getSnapshot=t,Vc(r)&&i({inst:r})},[e,s,t]),EA(function(){return Vc(r)&&i({inst:r}),e(function(){Vc(r)&&i({inst:r})})},[e]),TA(s),s}function Vc(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!NA(e,s)}catch{return!0}}function AA(e,t){return t()}var RA=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?AA:PA;ib.useSyncExternalStore=Pr.useSyncExternalStore!==void 0?Pr.useSyncExternalStore:RA;rb.exports=ib;var OA=rb.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bl=m,IA=OA;function DA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var LA=typeof Object.is=="function"?Object.is:DA,MA=IA.useSyncExternalStore,$A=Bl.useRef,FA=Bl.useEffect,UA=Bl.useMemo,zA=Bl.useDebugValue;nb.useSyncExternalStoreWithSelector=function(e,t,s,n,r){var i=$A(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=UA(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),r!==void 0&&o.hasValue){var v=o.value;if(r(v,p))return h=v}return h=p}if(v=h,LA(d,p))return v;var y=n(p);return r!==void 0&&r(v,y)?(d=p,v):(d=p,h=y)}var u=!1,d,h,f=s===void 0?null:s;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,s,n,r]);var l=MA(e,i[0],i[1]);return FA(function(){o.hasValue=!0,o.value=l},[l]),zA(l),l};sb.exports=nb;var VA=sb.exports;const BA=_d(VA),ab={},{useDebugValue:qA}=ne,{useSyncExternalStoreWithSelector:WA}=BA;let Pg=!1;const HA=e=>e;function GA(e,t=HA,s){(ab?"production":void 0)!=="production"&&s&&!Pg&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Pg=!0);const n=WA(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,s);return qA(n),n}const Ag=e=>{(ab?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?SA(e):e,s=(n,r)=>GA(t,n,r);return Object.assign(s,t),s},Ut=e=>e?Ag(e):Ag;function KA(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ob=KA,JA=typeof Be=="object"&&Be&&Be.Object===Object&&Be,YA=JA,XA=YA,QA=typeof self=="object"&&self&&self.Object===Object&&self,ZA=XA||QA||Function("return this")(),lb=ZA,eR=lb,tR=function(){return eR.Date.now()},sR=tR,nR=/\s/;function rR(e){for(var t=e.length;t--&&nR.test(e.charAt(t)););return t}var iR=rR,aR=iR,oR=/^\s+/;function lR(e){return e&&e.slice(0,aR(e)+1).replace(oR,"")}var cR=lR,uR=lb,dR=uR.Symbol,cb=dR,Rg=cb,ub=Object.prototype,hR=ub.hasOwnProperty,fR=ub.toString,ei=Rg?Rg.toStringTag:void 0;function mR(e){var t=hR.call(e,ei),s=e[ei];try{e[ei]=void 0;var n=!0}catch{}var r=fR.call(e);return n&&(t?e[ei]=s:delete e[ei]),r}var pR=mR,gR=Object.prototype,xR=gR.toString;function vR(e){return xR.call(e)}var yR=vR,Og=cb,wR=pR,bR=yR,jR="[object Null]",SR="[object Undefined]",Ig=Og?Og.toStringTag:void 0;function kR(e){return e==null?e===void 0?SR:jR:Ig&&Ig in Object(e)?wR(e):bR(e)}var NR=kR;function _R(e){return e!=null&&typeof e=="object"}var ER=_R,CR=NR,TR=ER,PR="[object Symbol]";function AR(e){return typeof e=="symbol"||TR(e)&&CR(e)==PR}var RR=AR,OR=cR,Dg=ob,IR=RR,Lg=NaN,DR=/^[-+]0x[0-9a-f]+$/i,LR=/^0b[01]+$/i,MR=/^0o[0-7]+$/i,$R=parseInt;function FR(e){if(typeof e=="number")return e;if(IR(e))return Lg;if(Dg(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Dg(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=OR(e);var s=LR.test(e);return s||MR.test(e)?$R(e.slice(2),s?2:8):DR.test(e)?Lg:+e}var UR=FR,zR=ob,Bc=sR,Mg=UR,VR="Expected a function",BR=Math.max,qR=Math.min;function WR(e,t,s){var n,r,i,o,l,c,u=0,d=!1,h=!1,f=!0;if(typeof e!="function")throw new TypeError(VR);t=Mg(t)||0,zR(s)&&(d=!!s.leading,h="maxWait"in s,i=h?BR(Mg(s.maxWait)||0,t):i,f="trailing"in s?!!s.trailing:f);function p(k){var _=n,E=r;return n=r=void 0,u=k,o=e.apply(E,_),o}function v(k){return u=k,l=setTimeout(g,t),d?p(k):o}function y(k){var _=k-c,E=k-u,P=t-_;return h?qR(P,i-E):P}function b(k){var _=k-c,E=k-u;return c===void 0||_>=t||_<0||h&&E>=i}function g(){var k=Bc();if(b(k))return x(k);l=setTimeout(g,y(k))}function x(k){return l=void 0,f&&n?p(k):(n=r=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=r=l=void 0}function S(){return l===void 0?o:x(Bc())}function j(){var k=Bc(),_=b(k);if(n=arguments,r=this,c=k,_){if(l===void 0)return v(c);if(h)return clearTimeout(l),l=setTimeout(g,t),p(c)}return l===void 0&&(l=setTimeout(g,t)),o}return j.cancel=w,j.flush=S,j}var HR=WR;const GR=_d(HR),KR=Ut(e=>({results:[],loading:!1,error:null,search:GR(async t=>{if(!t.trim()){e({results:[],loading:!1,error:null});return}e({loading:!0,error:null});try{const{data:{user:s}}=await N.auth.getUser();if(!s)throw new Error("No user found");const{data:n,error:r}=await N.rpc("search_all",{search_query:t,user_id:s.id});if(r)throw console.error("Search error:",r),new Error(r.message);const i=(n||[]).map(o=>{const l={id:o.id,type:o.type,title:o.title,description:o.description,category:o.category};switch(o.type){case"job":return{...l,metadata:{company:o.company,location:o.location}};case"reference":return{...l,metadata:{email:o.email,referenceNumber:o.reference_number}};case"validator":return{...l,metadata:{email:o.email,skillName:o.skill_name}};default:return l}});e({results:i,loading:!1})}catch(s){console.error("Search error:",s),e({error:"Failed to search",loading:!1})}},300),clearResults:()=>e({results:[],error:null})})),db=()=>{const[e,t]=m.useState(""),[s,n]=m.useState(!1),[r,i]=m.useState(null),{results:o,loading:l,error:c,search:u,clearResults:d}=KR(),h=He(),f=m.useRef(null);m.useEffect(()=>{const g=x=>{f.current&&!f.current.contains(x.target)&&n(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]),m.useEffect(()=>{(async()=>{const{data:{user:x}}=await ht(()=>Promise.resolve().then(()=>Cc),void 0).then(j=>j.supabase.auth.getUser());if(!x)return;const{data:w}=await ht(async()=>{const{data:j}=await Promise.resolve().then(()=>Cc);return{data:j}},void 0).then(j=>j.supabase.from("eit_profiles").select("id").eq("id",x.id).single()),{data:S}=await ht(async()=>{const{data:j}=await Promise.resolve().then(()=>Cc);return{data:j}},void 0).then(j=>j.supabase.from("supervisor_profiles").select("id").eq("id",x.id).single());S?i("supervisor"):w&&i("eit")})()},[]);const p=async g=>{if(t(g),g.trim()){n(!0);try{await u(g)}catch(x){console.error("Search error:",x),n(!0)}}else n(!1),d()},v=g=>{switch(n(!1),t(""),d(),g.type){case"document":h("/dashboard/documents"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("highlight-document",{detail:{documentId:g.id}}))},500);break;case"sao":h("/dashboard/saos"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("highlight-sao",{detail:{saoId:g.id}}))},500);break;case"skill":r==="eit"?(h("/dashboard/skills"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("scroll-to-skill",{detail:{skillId:g.id,timestamp:Date.now()}}))},500)):r==="supervisor"&&(h("/dashboard/supervisor/skills"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("scroll-to-skill",{detail:{skillId:g.id,timestamp:Date.now()}}))},500));break;case"job":h("/dashboard/references"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("scroll-to-item",{detail:{itemId:g.id,itemType:"job"}}))},500);break;case"reference":h("/dashboard/references"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("scroll-to-item",{detail:{itemId:g.id,itemType:"reference"}}))},500);break;case"validator":h("/dashboard/references"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("scroll-to-item",{detail:{itemId:g.id,itemType:"validator"}}))},500);break}},y=g=>{switch(g){case"document":return a.jsx(In,{size:16,className:"text-blue-500"});case"sao":return a.jsx(vf,{size:16,className:"text-amber-500"});case"skill":return a.jsx(ka,{size:16,className:"text-green-500"});case"job":return a.jsx(ia,{size:16,className:"text-purple-500"});case"reference":return a.jsx(Vl,{size:16,className:"text-indigo-500"});case"validator":return a.jsx(Ks,{size:16,className:"text-teal-500"})}},b=g=>{if(!g.metadata)return null;switch(g.type){case"job":return`${g.metadata.company} • ${g.metadata.location}`;case"reference":return`Reference ${g.metadata.referenceNumber} • ${g.metadata.email}`;case"validator":return`${g.metadata.skillName} • ${g.metadata.email}`;default:return null}};return a.jsxs("div",{className:"relative",ref:f,children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:"Search documents, SAOs, skills, jobs, references...",value:e,onChange:g=>p(g.target.value),className:"pl-9 pr-4 py-2 bg-slate-100 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 w-64"}),a.jsx(Zw,{className:"absolute left-3 top-2.5 text-slate-400",size:18}),l&&a.jsx(gA,{className:"absolute right-3 top-2.5 text-slate-400 animate-spin",size:18})]}),s&&(e.trim()||o.length>0)&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white rounded-lg shadow-lg border border-slate-200 max-h-96 overflow-y-auto z-50",children:c?a.jsx("div",{className:"px-4 py-3 text-sm text-red-500",children:c}):o.length>0?a.jsx("div",{className:"py-2",children:o.map(g=>a.jsxs("button",{onClick:()=>v(g),className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center space-x-3",children:[y(g.type),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:g.title}),g.description&&a.jsx("p",{className:"text-xs text-slate-500 truncate",children:g.description}),g.category&&a.jsx("p",{className:"text-xs text-slate-500",children:g.category}),b(g)&&a.jsx("p",{className:"text-xs text-slate-500",children:b(g)})]})]},`${g.type}-${g.id}`))}):a.jsx("div",{className:"px-4 py-3 text-sm text-slate-500",children:"No results found"})})]})},hb=()=>{const[e,t]=m.useState(!1),[s,n]=m.useState(""),[r,i]=m.useState(""),[o,l]=m.useState(""),[c,u]=m.useState(null),d=m.useRef(null),h=He();m.useEffect(()=>{(async()=>{var g,x,w;const{data:{user:b}}=await N.auth.getUser();if(b){i(b.email||""),n(((g=b.user_metadata)==null?void 0:g.full_name)||((x=b.email)==null?void 0:x.split("@")[0])||"User"),l(((w=b.user_metadata)==null?void 0:w.avatar_url)||"");const{data:S}=await N.from("eit_profiles").select("id").eq("id",b.id).single(),{data:j}=await N.from("supervisor_profiles").select("id").eq("id",b.id).single();j?u("supervisor"):S&&u("eit")}})()},[]),m.useEffect(()=>{const y=b=>{d.current&&!d.current.contains(b.target)&&t(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const f=async()=>{try{await N.auth.signOut(),h("/login")}catch(y){console.error("Error signing out:",y)}},p=y=>y.split(" ").map(b=>b[0]).join("").toUpperCase().slice(0,2),v=()=>{h(c==="supervisor"?"/dashboard/supervisor/settings":"/dashboard/settings"),t(!1)};return a.jsxs("div",{className:"relative",ref:d,children:[a.jsxs("button",{className:"flex items-center space-x-2 focus:outline-none",onClick:()=>t(!e),children:[o?a.jsx("img",{src:o,alt:"Avatar",className:"w-8 h-8 rounded-full object-cover bg-teal-500 text-white"}):a.jsx("div",{className:"w-8 h-8 rounded-full bg-teal-500 flex items-center justify-center text-white",children:a.jsx("span",{className:"text-sm font-semibold",children:p(s)})}),a.jsx("span",{className:"hidden md:block text-sm font-medium",children:s}),a.jsx(Ul,{size:16,className:`text-slate-500 transition-transform ${e?"rotate-180":""}`})]}),e&&a.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-1 z-50 border border-slate-200 animate-in fade-in slide-in-from-top-3 duration-200",children:[a.jsxs("div",{className:"px-4 py-2 border-b border-slate-200",children:[a.jsx("p",{className:"text-sm font-semibold",children:s}),a.jsx("p",{className:"text-xs text-slate-500",children:r})]}),a.jsxs("ul",{children:[a.jsx("li",{children:a.jsxs("button",{onClick:v,className:"w-full flex items-center px-4 py-2 text-sm text-slate-700 hover:bg-slate-50",children:[a.jsx(jf,{size:16,className:"mr-2"}),"Settings"]})}),a.jsx("li",{className:"border-t border-slate-200 mt-1",children:a.jsxs("button",{onClick:f,className:"w-full flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[a.jsx(yf,{size:16,className:"mr-2"}),"Sign out"]})})]})]})]})},fb=Ut((e,t)=>({notifications:[],unreadCount:0,loading:!1,initialized:!1,initialize:async()=>{try{e({loading:!0});const{data:{user:s}}=await N.auth.getUser();if(!s)return;const{data:n,error:r}=await N.from("notifications").select("*").eq("user_id",s.id).order("created_at",{ascending:!1});if(r)throw r;e({notifications:n||[],unreadCount:(n==null?void 0:n.filter(i=>!i.read).length)||0,loading:!1,initialized:!0}),await t().setupRealtimeSubscriptions()}catch(s){console.error("Error initializing notifications:",s),e({loading:!1,initialized:!1})}},markAsRead:async s=>{try{const{error:n}=await N.from("notifications").update({read:!0}).eq("id",s);if(n)throw n;e(r=>({notifications:r.notifications.map(i=>i.id===s?{...i,read:!0}:i),unreadCount:r.unreadCount-1}))}catch(n){console.error("Error marking notification as read:",n)}},markAllAsRead:async()=>{try{const{data:{user:s}}=await N.auth.getUser();if(!s)return;const{error:n}=await N.from("notifications").update({read:!0}).eq("user_id",s.id).eq("read",!1);if(n)throw n;e(r=>({notifications:r.notifications.map(i=>({...i,read:!0})),unreadCount:0}))}catch(s){console.error("Error marking all notifications as read:",s)}},clearNotifications:()=>{e({notifications:[],unreadCount:0})},setupRealtimeSubscriptions:async()=>{const{data:{user:s}}=await N.auth.getUser();if(!s)return;const n=N.channel("notifications-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${s.id}`},r=>{const i=r.new;e(o=>({notifications:[i,...o.notifications],unreadCount:i.read?o.unreadCount:o.unreadCount+1}))}).subscribe();window.addEventListener("unload",()=>{n.unsubscribe()})}}));function De(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function JR(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const ro=43200,$g=1440;let YR={};function XR(){return YR}function Fg(e){const t=De(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function Eo(e,t){const s=De(e),n=De(t),r=s.getTime()-n.getTime();return r<0?-1:r>0?1:r}function QR(e){return JR(e,Date.now())}function ZR(e,t){const s=De(e),n=De(t),r=s.getFullYear()-n.getFullYear(),i=s.getMonth()-n.getMonth();return r*12+i}function eO(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function tO(e,t){return+De(e)-+De(t)}function sO(e){const t=De(e);return t.setHours(23,59,59,999),t}function nO(e){const t=De(e),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function rO(e){const t=De(e);return+sO(t)==+nO(t)}function iO(e,t){const s=De(e),n=De(t),r=Eo(s,n),i=Math.abs(ZR(s,n));let o;if(i<1)o=0;else{s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-r*i);let l=Eo(s,n)===-r;rO(De(e))&&i===1&&Eo(e,n)===1&&(l=!1),o=r*(i-Number(l))}return o===0?0:o}function aO(e,t,s){const n=tO(e,t)/1e3;return eO(s==null?void 0:s.roundingMethod)(n)}const oO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},lO=(e,t,s)=>{let n;const r=oO[e];return typeof r=="string"?n=r:t===1?n=r.one:n=r.other.replace("{{count}}",t.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+n:n+" ago":n};function qc(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const cO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},uO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},hO={date:qc({formats:cO,defaultWidth:"full"}),time:qc({formats:uO,defaultWidth:"full"}),dateTime:qc({formats:dO,defaultWidth:"full"})},fO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},mO=(e,t,s,n)=>fO[e];function ti(e){return(t,s)=>{const n=s!=null&&s.context?String(s.context):"standalone";let r;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=s!=null&&s.width?String(s.width):o;r=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=s!=null&&s.width?String(s.width):e.defaultWidth;r=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return r[i]}}const pO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},gO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},xO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},vO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},wO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},bO=(e,t)=>{const s=Number(e),n=s%100;if(n>20||n<10)switch(n%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},jO={ordinalNumber:bO,era:ti({values:pO,defaultWidth:"wide"}),quarter:ti({values:gO,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ti({values:xO,defaultWidth:"wide"}),day:ti({values:vO,defaultWidth:"wide"}),dayPeriod:ti({values:yO,defaultWidth:"wide",formattingValues:wO,defaultFormattingWidth:"wide"})};function si(e){return(t,s={})=>{const n=s.width,r=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(r);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?kO(l,h=>h.test(o)):SO(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=s.valueCallback?s.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function SO(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function kO(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function NO(e){return(t,s={})=>{const n=t.match(e.matchPattern);if(!n)return null;const r=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=s.valueCallback?s.valueCallback(o):o;const l=t.slice(r.length);return{value:o,rest:l}}}const _O=/^(\d+)(th|st|nd|rd)?/i,EO=/\d+/i,CO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},TO={any:[/^b/i,/^(a|c)/i]},PO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},AO={any:[/1/i,/2/i,/3/i,/4/i]},RO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},OO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},IO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},DO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},LO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},MO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$O={ordinalNumber:NO({matchPattern:_O,parsePattern:EO,valueCallback:e=>parseInt(e,10)}),era:si({matchPatterns:CO,defaultMatchWidth:"wide",parsePatterns:TO,defaultParseWidth:"any"}),quarter:si({matchPatterns:PO,defaultMatchWidth:"wide",parsePatterns:AO,defaultParseWidth:"any",valueCallback:e=>e+1}),month:si({matchPatterns:RO,defaultMatchWidth:"wide",parsePatterns:OO,defaultParseWidth:"any"}),day:si({matchPatterns:IO,defaultMatchWidth:"wide",parsePatterns:DO,defaultParseWidth:"any"}),dayPeriod:si({matchPatterns:LO,defaultMatchWidth:"any",parsePatterns:MO,defaultParseWidth:"any"})},FO={code:"en-US",formatDistance:lO,formatLong:hO,formatRelative:mO,localize:jO,match:$O,options:{weekStartsOn:0,firstWeekContainsDate:1}};function UO(e,t,s){const n=XR(),r=(s==null?void 0:s.locale)??n.locale??FO,i=2520,o=Eo(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},s,{addSuffix:s==null?void 0:s.addSuffix,comparison:o});let c,u;o>0?(c=De(t),u=De(e)):(c=De(e),u=De(t));const d=aO(u,c),h=(Fg(u)-Fg(c))/1e3,f=Math.round((d-h)/60);let p;if(f<2)return s!=null&&s.includeSeconds?d<5?r.formatDistance("lessThanXSeconds",5,l):d<10?r.formatDistance("lessThanXSeconds",10,l):d<20?r.formatDistance("lessThanXSeconds",20,l):d<40?r.formatDistance("halfAMinute",0,l):d<60?r.formatDistance("lessThanXMinutes",1,l):r.formatDistance("xMinutes",1,l):f===0?r.formatDistance("lessThanXMinutes",1,l):r.formatDistance("xMinutes",f,l);if(f<45)return r.formatDistance("xMinutes",f,l);if(f<90)return r.formatDistance("aboutXHours",1,l);if(f<$g){const v=Math.round(f/60);return r.formatDistance("aboutXHours",v,l)}else{if(f<i)return r.formatDistance("xDays",1,l);if(f<ro){const v=Math.round(f/$g);return r.formatDistance("xDays",v,l)}else if(f<ro*2)return p=Math.round(f/ro),r.formatDistance("aboutXMonths",p,l)}if(p=iO(u,c),p<12){const v=Math.round(f/ro);return r.formatDistance("xMonths",v,l)}else{const v=p%12,y=Math.trunc(p/12);return v<3?r.formatDistance("aboutXYears",y,l):v<9?r.formatDistance("overXYears",y,l):r.formatDistance("almostXYears",y+1,l)}}function zO(e,t){return UO(e,QR(e),t)}const mb=()=>{const[e,t]=m.useState(!1),s=m.useRef(null),{notifications:n,unreadCount:r,markAsRead:i,markAllAsRead:o}=fb(),l=He();m.useEffect(()=>{const d=h=>{s.current&&!s.current.contains(h.target)&&t(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[]);const c=async d=>{switch(d.read||await i(d.id),d.type){case"validation_request":l("/dashboard/supervisor/validation-requests"),setTimeout(()=>{const h=document.getElementById("validation-requests");h&&(h.scrollIntoView({behavior:"smooth"}),h.classList.add("highlight"),setTimeout(()=>h.classList.remove("highlight"),2e3))},100);break;case"request":l("/dashboard/supervisor/team");break;case"score":l("/dashboard/eit/skills");break;case"approval":l("/dashboard/eit/skills");break;case"sao_feedback":l("/dashboard/supervisor/sao-feedback");break}t(!1)},u=d=>{switch(d){case"request":return"📝";case"score":return"⭐";case"approval":return"✅";case"validation_request":return"🔍";case"sao_feedback":return"📝";default:return"📬"}};return a.jsxs("div",{className:"relative",ref:s,children:[a.jsxs("button",{className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100 relative",onClick:()=>t(!e),"aria-label":"Notifications",children:[a.jsx(ra,{size:20}),r>0&&a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),e&&a.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-slate-200 z-50",children:[a.jsxs("div",{className:"p-3 border-b border-slate-200 flex justify-between items-center",children:[a.jsx("h3",{className:"font-semibold text-slate-800",children:"Notifications"}),r>0&&a.jsx("button",{onClick:()=>o(),className:"text-sm text-teal-600 hover:text-teal-700",children:"Mark all as read"})]}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:n.length>0?n.map(d=>a.jsx("div",{className:`p-3 border-b border-slate-100 hover:bg-slate-50 cursor-pointer ${d.read?"":"bg-slate-50"}`,onClick:()=>c(d),children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-xl",children:u(d.type)}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-slate-800",children:d.title}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:d.message}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:zO(new Date(d.created_at),{addSuffix:!0})})]}),!d.read&&a.jsx("span",{className:"w-2 h-2 bg-teal-500 rounded-full mt-2"})]})},d.id)):a.jsx("div",{className:"p-4 text-center text-slate-500",children:"No notifications"})})]})]})},VO=({onMenuClick:e})=>a.jsxs("header",{className:"fixed top-0 right-0 left-0 md:left-64 bg-white/80 backdrop-blur-md z-10 border-b border-slate-200 px-4 py-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("button",{onClick:e,className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100 md:hidden","aria-label":"Menu",children:a.jsx(Xw,{size:24})}),a.jsx("div",{className:"ml-2 md:ml-0",children:a.jsx("h1",{className:"text-xl font-semibold text-slate-800",children:"EIT Progress"})})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"hidden md:block",children:a.jsx(db,{})}),a.jsx(mb,{}),a.jsx(hb,{})]})]}),BO=()=>{const e=[{name:"Home",path:"/dashboard",icon:a.jsx(zl,{size:20})},{name:"Skills",path:"/dashboard/skills",icon:a.jsx(cA,{size:20})},{name:"Documents",path:"/dashboard/documents",icon:a.jsx(In,{size:20})},{name:"Essays",path:"/dashboard/essays",icon:a.jsx(Qw,{size:20})},{name:"Help",path:"/dashboard/help",icon:a.jsx(Tr,{size:20})}];return a.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 p-2 z-10",children:a.jsx("ul",{className:"flex justify-around",children:e.map(t=>a.jsx("li",{children:a.jsxs(Ji,{to:t.path,className:({isActive:s})=>`flex flex-col items-center p-2 rounded-lg transition-colors ${s?"text-teal-600":"text-slate-500 hover:text-teal-600"}`,children:[a.jsx("span",{children:t.icon}),a.jsx("span",{className:"text-xs mt-1",children:t.name})]})},t.name))})})},qO=()=>{const[e,t]=m.useState(!1),[s,n]=m.useState(!0),r=m.useRef(0);m.useEffect(()=>{const l=()=>{const c=window.pageYOffset;c>r.current&&(r.current=c),c>300?(t(!0),n(!1)):c===0?(t(!0),n(!0)):(t(!1),n(!1))};return window.addEventListener("scroll",l),()=>{window.removeEventListener("scroll",l)}},[]);const i=()=>{window.scrollTo({top:0,behavior:"smooth"})},o=()=>{window.scrollTo({top:r.current,behavior:"smooth"})};return a.jsx("div",{className:`fixed bottom-20 md:bottom-6 right-6 transition-all duration-300 z-50 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"}`,children:a.jsx("button",{onClick:s?o:i,className:`p-3 text-white rounded-full shadow-lg transition-all duration-300 transform hover:scale-110 active:scale-95 ${s?"bg-slate-600 hover:bg-slate-700":"bg-teal-600 hover:bg-teal-700"}`,"aria-label":s?"Scroll to last position":"Scroll to top",children:s?a.jsx(ZP,{size:20}):a.jsx(tA,{size:20})})})},io=[{name:"Category 1 – Technical Competence",skills:[{id:"temp-1",name:"1.1 Regulations, Codes & Standards",status:"not-started",rank:void 0},{id:"temp-2",name:"1.2 Technical & Design Constraints",status:"not-started",rank:void 0},{id:"temp-3",name:"1.3 Risk Management for Technical Work",status:"not-started",rank:void 0},{id:"temp-4",name:"1.4 Application of Theory",status:"not-started",rank:void 0},{id:"temp-5",name:"1.5 Solution Techniques – Results Verification",status:"not-started",rank:void 0},{id:"temp-6",name:"1.6 Safety in Design & Technical Work",status:"not-started",rank:void 0},{id:"temp-7",name:"1.7 Systems & Their Components",status:"not-started",rank:void 0},{id:"temp-8",name:"1.8 Project or Asset Life-Cycle Awareness",status:"not-started",rank:void 0},{id:"temp-9",name:"1.9 Quality Assurance",status:"not-started",rank:void 0},{id:"temp-10",name:"1.10 Engineering Documentation",status:"not-started",rank:void 0}]},{name:"Category 2 – Communication",skills:[{id:"temp-11",name:"2.1 Oral Communication (English)",status:"not-started",rank:void 0},{id:"temp-12",name:"2.2 Written Communication (English)",status:"not-started",rank:void 0},{id:"temp-13",name:"2.3 Reading & Comprehension (English)",status:"not-started",rank:void 0}]},{name:"Category 3 – Project & Financial Management",skills:[{id:"temp-14",name:"3.1 Project Management Principles",status:"not-started",rank:void 0},{id:"temp-15",name:"3.2 Finances & Budget",status:"not-started",rank:void 0}]},{name:"Category 4 – Team Effectiveness",skills:[{id:"temp-16",name:"4.1 Promote Team Effectiveness & Resolve Conflict",status:"not-started",rank:void 0}]},{name:"Category 5 – Professional Accountability",skills:[{id:"temp-17",name:"5.1 Professional Accountability (Ethics, Liability, Limits)",status:"not-started",rank:void 0}]},{name:"Category 6 – Social, Economic, Environmental & Sustainability",skills:[{id:"temp-18",name:"6.1 Protection of the Public Interest",status:"not-started",rank:void 0},{id:"temp-19",name:"6.2 Benefits of Engineering to the Public",status:"not-started",rank:void 0},{id:"temp-20",name:"6.3 Role of Regulatory Bodies",status:"not-started",rank:void 0},{id:"temp-21",name:"6.4 Application of Sustainability Principles",status:"not-started",rank:void 0},{id:"temp-22",name:"6.5 Promotion of Sustainability",status:"not-started",rank:void 0}]}],Qt=Ut((e,t)=>({skillCategories:io,loading:!1,error:null,skills:[],lastFetched:null,clearState:()=>e({skillCategories:io,loading:!1,error:null,skills:[],lastFetched:null}),setSkillCategories:s=>e({skillCategories:s}),loadUserSkills:async(s=!1)=>{var i;const n=Date.now(),r=t().lastFetched;if(!(!s&&r&&n-r<5*60*1e3)){e({loading:!0,error:null});try{console.log("Starting loadUserSkills...");const{data:{user:o}}=await N.auth.getUser();if(!o)throw console.error("No authenticated user found"),new Error("No authenticated user found");console.log("User authenticated:",o.id),await N.from("eit_profiles").upsert({id:o.id,full_name:((i=o.user_metadata)==null?void 0:i.full_name)||"",email:o.email||""});const[l,c]=await Promise.all([N.from("skills").select("id, name, category"),N.from("eit_skills").select("id, eit_id, skill_id, category_name, skill_name, rank, status").eq("eit_id",o.id)]),u=l.data||[];let d=c.data||[];if(console.log("Skills fetched from DB:",u.length),console.log("Existing user skills:",d.length),!d||d.length===0){console.log("No existing skills found, initializing for new user...");const f=io.flatMap(b=>b.skills.map(g=>{const x=u.find(w=>w.name===g.name&&w.category===b.name);return x?{eit_id:o.id,skill_id:x.id,category_name:b.name,skill_name:g.name,rank:null,status:"not-started"}:(console.warn(`No matching DB skill found for: ${g.name} in ${b.name}`),null)}).filter(Boolean));console.log("Initializing skills:",f.length);const{error:p}=await N.from("eit_skills").insert(f);if(p)throw console.error("Error initializing user skills:",p),p;console.log("Fetching newly initialized skills...");const{data:v,error:y}=await N.from("eit_skills").select("id, eit_id, skill_id, category_name, skill_name, rank, status").eq("eit_id",o.id);if(y)throw console.error("Error fetching newly initialized skills:",y),y;d=v,console.log("New skills fetched:",d==null?void 0:d.length)}console.log("Updating store with user skills...");const h=io.map(f=>({...f,skills:f.skills.map(p=>{const v=u.find(b=>b.name===p.name&&b.category===f.name);if(!v)throw new Error(`No matching DB skill found for: ${p.name} in ${f.name}`);const y=d==null?void 0:d.find(b=>b.skill_id===v.id);return{...p,id:v.id,category_name:v.category,rank:(y==null?void 0:y.rank)||void 0,status:(y==null?void 0:y.status)||"not-started"}})}));console.log("Setting updated categories in store:",h.length),e({skillCategories:h,skills:h.flatMap(f=>f.skills),lastFetched:n})}catch(o){throw console.error("Error in loadUserSkills:",{error:o,message:o.message,details:o.details,hint:o.hint}),e({error:`Failed to load skills: ${o.message||"Unknown error"}`}),o}finally{e({loading:!1})}}},updateSkillRank:async(s,n,r)=>{try{const{data:{user:i},error:o}=await N.auth.getUser();if(o)throw console.error("Auth error:",o),new Error("Authentication error: "+o.message);if(!i)throw console.error("No authenticated user found"),new Error("No authenticated user found");console.log("Updating skill rank:",{categoryIndex:s,skillId:n,rank:r,userId:i.id});const l=t().skillCategories[s],c=l.skills.find(h=>h.id===n);if(!c)throw console.error("Skill not found:",{categoryIndex:s,skillId:n}),new Error("Skill not found");e(h=>({skillCategories:h.skillCategories.map((f,p)=>p===s?{...f,skills:f.skills.map(v=>v.id===n?{...v,rank:r||void 0,status:r?"completed":"not-started"}:v)}:f)}));const u={eit_id:i.id,skill_id:n,category_name:c.category_name||l.name,skill_name:c.name,rank:r||null,status:r?"completed":"not-started"};console.log("Sending update to Supabase:",u);const{error:d}=await N.from("eit_skills").upsert(u,{onConflict:"eit_id,skill_id"});if(d)throw console.error("Supabase error:",{error:d,message:d.message,details:d.details,hint:d.hint,code:d.code}),await t().loadUserSkills(),d;console.log("Successfully updated skill rank")}catch(i){console.error("Error updating skill rank:",{error:i,message:i.message,details:i.details,hint:i.hint,code:i.code}),e({error:`Failed to update skill rank: ${i.message||"Unknown error"}`})}},consoleLogSkillCategories:()=>{console.log("Skill categories in store:",t().skillCategories)}})),ca=Ut((e,t)=>({overallProgress:0,completedSkills:0,totalSkills:22,documentedExperiences:0,totalExperiences:24,supervisorApprovals:0,totalApprovals:24,lastUpdated:new Date().toISOString(),loading:!1,initialized:!1,lastFetched:null,clearState:()=>e({overallProgress:0,completedSkills:0,documentedExperiences:0,supervisorApprovals:0,lastUpdated:new Date().toISOString(),loading:!1,initialized:!1,lastFetched:null}),setupRealtimeSubscriptions:async()=>{const{data:{user:s}}=await N.auth.getUser();if(!s)return;const n=N.channel("experiences-changes").on("postgres_changes",{event:"*",schema:"public",table:"experiences",filter:`eit_id=eq.${s.id}`},()=>{console.log("📝 Experience change detected, updating progress..."),t().updateProgress()}).subscribe(),r=N.channel("skills-changes").on("postgres_changes",{event:"*",schema:"public",table:"skills",filter:`eit_id=eq.${s.id}`},()=>{console.log("🎯 Skill change detected, updating progress..."),t().updateProgress()}).subscribe(),i=()=>{n.unsubscribe(),r.unsubscribe()};window.addEventListener("unload",i)},initialize:async(s=!1)=>{if(t().loading)return;const n=Date.now(),r=t().lastFetched;if(!(!s&&r&&n-r<5*60*1e3)){e({loading:!0});try{const{data:{user:i}}=await N.auth.getUser();if(!i)throw new Error("No user found");const o=Qt.getState();o.skillCategories.length===0&&await o.loadUserSkills(),await new Promise(b=>setTimeout(b,100));const l=o.skillCategories.reduce((b,g)=>b+g.skills.filter(x=>x.rank!==void 0).length,0),{data:c,error:u}=await N.from("experiences").select("*").eq("eit_id",i.id);if(u)throw u;const{data:d,error:h}=await N.from("experiences").select("*").eq("eit_id",i.id).eq("supervisor_approved",!0);if(h)throw h;const f=l/22,p=((c==null?void 0:c.length)||0)/24,v=((d==null?void 0:d.length)||0)/24,y=Math.round((f+p+v)/3*100);console.log("Progress calculation:",{completedSkills:l,skillsProgress:f,experiencesProgress:p,approvalsProgress:v,overallProgress:y}),e({overallProgress:y,completedSkills:l,documentedExperiences:(c==null?void 0:c.length)||0,supervisorApprovals:(d==null?void 0:d.length)||0,lastUpdated:new Date().toISOString(),loading:!1,initialized:!0,lastFetched:n}),await t().setupRealtimeSubscriptions()}catch(i){console.error("Error initializing progress:",i),e({loading:!1,initialized:!1})}}},updateProgress:async(s=!1)=>{if(t().loading)return;const n=Date.now(),r=t().lastFetched;if(!(!s&&r&&n-r<5*60*1e3)){e({loading:!0});try{const{data:{user:i}}=await N.auth.getUser();if(!i)throw new Error("No user found");const o=Qt.getState();o.skillCategories.length===0&&await o.loadUserSkills(),await new Promise(b=>setTimeout(b,100));const l=o.skillCategories.reduce((b,g)=>b+g.skills.filter(x=>x.rank!==void 0).length,0),{data:c,error:u}=await N.from("experiences").select("*").eq("eit_id",i.id);if(u)throw u;const{data:d,error:h}=await N.from("experiences").select("*").eq("eit_id",i.id).eq("supervisor_approved",!0);if(h)throw h;const f=l/22,p=((c==null?void 0:c.length)||0)/24,v=((d==null?void 0:d.length)||0)/24,y=Math.round((f+p+v)/3*100);console.log("Progress update calculation:",{completedSkills:l,skillsProgress:f,experiencesProgress:p,approvalsProgress:v,overallProgress:y}),e({overallProgress:y,completedSkills:l,documentedExperiences:(c==null?void 0:c.length)||0,supervisorApprovals:(d==null?void 0:d.length)||0,lastUpdated:new Date().toISOString(),loading:!1,lastFetched:n})}catch(i){console.error("Error updating progress:",i),e({loading:!1})}}}})),WO=[{name:"Dashboard",path:"/dashboard",icon:a.jsx(zl,{size:20})},{name:"Skills",path:"/dashboard/skills",icon:a.jsx(ka,{size:20})},{name:"SAOs",path:"/dashboard/saos",icon:a.jsx(vf,{size:20})},{name:"Documents",path:"/dashboard/documents",icon:a.jsx(In,{size:20})},{name:"Jobs",path:"/dashboard/references",icon:a.jsx(Ww,{size:20})},{name:"Settings",path:"/dashboard/settings",icon:a.jsx(jf,{size:20})}],HO=[{name:"Help & Support",path:"/dashboard/help",icon:a.jsx(Tr,{size:20})}],GO=({onClose:e})=>{const{overallProgress:t,loading:s}=ca(),n=xs(),r=async()=>{await N.auth.signOut()},i=o=>o==="/dashboard"?n.pathname==="/dashboard":n.pathname.startsWith(o);return a.jsxs("aside",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-slate-900 text-white flex flex-col",children:[a.jsx("div",{className:"p-4 border-b border-slate-800 flex items-center justify-center",children:a.jsx("img",{src:On,alt:"Accreda Logo",className:"h-28 w-auto"})}),a.jsxs("nav",{className:"flex-1 py-6",children:[a.jsx("ul",{className:"space-y-1 px-3",children:WO.map(o=>a.jsx("li",{children:a.jsxs(Ji,{to:o.path,className:({isActive:l})=>`flex items-center px-3 py-2.5 rounded-lg transition-colors ${i(o.path)?"bg-teal-600 text-white":"text-slate-300 hover:text-white hover:bg-slate-800"}`,onClick:()=>{window.scrollTo({top:0,behavior:"smooth"}),e==null||e()},children:[a.jsx("span",{className:"mr-3",children:o.icon}),a.jsx("span",{children:o.name})]})},o.name))}),a.jsxs("div",{className:"mt-10 px-4",children:[a.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 mb-2 px-3",children:"Support"}),a.jsxs("ul",{className:"space-y-1 px-3",children:[HO.map(o=>a.jsx("li",{children:a.jsxs(Ji,{to:o.path,className:({isActive:l})=>`flex items-center px-3 py-2.5 rounded-lg transition-colors ${i(o.path)?"bg-slate-800 text-white":"text-slate-400 hover:text-white hover:bg-slate-800"}`,onClick:()=>{window.scrollTo({top:0,behavior:"smooth"}),e==null||e()},children:[a.jsx("span",{className:"mr-3",children:o.icon}),a.jsx("span",{children:o.name})]})},o.name)),a.jsx("li",{children:a.jsxs("button",{onClick:r,className:"flex items-center px-3 py-2.5 rounded-lg transition-colors w-full text-slate-400 hover:text-white hover:bg-slate-800",children:[a.jsx(yf,{size:20,className:"mr-3"}),a.jsx("span",{children:"Sign Out"})]})})]})]})]}),a.jsxs("div",{className:"p-4 border-t border-slate-800 sticky bottom-0 bg-slate-900",children:[a.jsxs("div",{className:"mb-2 flex justify-between items-center",children:[a.jsx("h3",{className:"text-sm font-medium text-slate-300",children:"Program Progress"}),a.jsx("span",{className:"text-sm font-semibold text-teal-400",children:s?a.jsx("span",{className:"animate-pulse",children:"..."}):`${t}%`})]}),a.jsx("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-teal-500 rounded-full transition-all duration-300",style:{width:s?"0%":`${t}%`}})})]})]})},KO=[{to:"/dashboard/supervisor",label:"Dashboard",icon:a.jsx(zl,{size:20})},{to:"/dashboard/supervisor/skills",label:"Skills",icon:a.jsx(ka,{size:20})},{to:"/dashboard/supervisor/validation-requests",label:"Validation Requests",icon:a.jsx(Ks,{size:20})},{to:"/dashboard/supervisor/team",label:"Team",icon:a.jsx(Vl,{size:20})},{to:"/dashboard/supervisor/reviews",label:"Reviews",icon:a.jsx(Eg,{size:20})},{to:"/dashboard/supervisor/sao-feedback",label:"SAO Feedback",icon:a.jsx(Eg,{size:20})},{to:"/dashboard/supervisor/documents",label:"Documents",icon:a.jsx(In,{size:20})},{to:"/dashboard/supervisor/settings",label:"Settings",icon:a.jsx(jf,{size:20})}],JO=[{to:"/dashboard/supervisor/support",label:"Help & Support",icon:a.jsx(Tr,{size:20})}],bd=({onClose:e})=>{const t=He(),s=async()=>{await N.auth.signOut(),t("/login")};return a.jsxs("aside",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-slate-900 text-white flex flex-col",children:[a.jsx("div",{className:"p-4 border-b border-slate-800 flex items-center justify-center",children:a.jsx("img",{src:On,alt:"Accreda Logo",className:"h-28 w-auto"})}),a.jsxs("nav",{className:"flex-1 py-6",children:[a.jsx("ul",{className:"space-y-1 px-3",children:KO.map(n=>a.jsx("li",{children:a.jsxs(Ji,{to:n.to,className:({isActive:r})=>`flex items-center px-3 py-2.5 rounded-lg transition-colors font-medium ${r?"bg-teal-600 text-white":"text-slate-300 hover:text-white hover:bg-slate-800"}`,end:n.to==="/dashboard/supervisor",onClick:e,children:[a.jsx("span",{className:"mr-3",children:n.icon}),a.jsx("span",{children:n.label})]})},n.to))}),a.jsxs("div",{className:"mt-10 px-4",children:[a.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 mb-2 px-3",children:"Help & Support"}),a.jsxs("ul",{className:"space-y-1 px-3",children:[JO.map(n=>a.jsx("li",{children:a.jsxs(Ji,{to:n.to,className:({isActive:r})=>`flex items-center px-3 py-2.5 rounded-lg transition-colors font-medium ${r?"bg-slate-800 text-white":"text-slate-400 hover:text-white hover:bg-slate-800"}`,onClick:e,children:[a.jsx("span",{className:"mr-3",children:n.icon}),a.jsx("span",{children:n.label})]})},n.to)),a.jsx("li",{children:a.jsxs("button",{onClick:()=>{s(),e==null||e()},className:"flex items-center px-3 py-2.5 rounded-lg transition-colors w-full text-slate-400 hover:text-white hover:bg-slate-800",children:[a.jsx(yf,{size:20,className:"mr-3"}),a.jsx("span",{children:"Sign Out"})]})})]})]})]})]})},YO=()=>a.jsxs("aside",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-slate-900 text-white flex flex-col animate-pulse [animation-duration:2s]",children:[a.jsx("div",{className:"p-4 border-b border-slate-800 flex items-center justify-center",children:a.jsx("img",{src:On,alt:"Accreda Logo",className:"h-28 w-auto"})}),a.jsx("div",{className:"flex-1 py-6 space-y-4 px-6",children:[...Array(6)].map((e,t)=>a.jsx("div",{className:"h-8 bg-slate-800/80 rounded-lg"},t))}),a.jsxs("div",{className:"p-4 border-t border-slate-800 bg-slate-900",children:[a.jsx("div",{className:"h-4 bg-slate-800/80 rounded w-1/2 mb-2"}),a.jsx("div",{className:"h-2 bg-slate-800/80 rounded w-full"})]})]}),Ug=({onClose:e})=>{const[t,s]=m.useState(null),[n,r]=m.useState(!0);return m.useEffect(()=>{(async()=>{r(!0);const{data:{user:o}}=await N.auth.getUser();if(o){const{data:l}=await N.from("eit_profiles").select("id").eq("id",o.id).single(),{data:c}=await N.from("supervisor_profiles").select("id").eq("id",o.id).single();s(c?"supervisor":l?"eit":null)}r(!1)})()},[]),n?a.jsx(YO,{}):t==="supervisor"?a.jsx(bd,{onClose:e}):a.jsx(GO,{onClose:e})},XO=({appLoaded:e})=>{const[t,s]=m.useState(!1);return a.jsxs("div",{className:"min-h-screen bg-slate-50",children:[a.jsx("div",{className:"hidden md:block",children:a.jsx(Ug,{})}),t&&a.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[a.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:()=>s(!1)}),a.jsx("div",{className:"fixed inset-y-0 left-0 w-full max-w-xs bg-white shadow-xl",children:a.jsx(Ug,{onClose:()=>s(!1)})})]}),a.jsxs("div",{className:"md:pl-64 flex flex-col min-h-screen",children:[a.jsx(VO,{onMenuClick:()=>s(!0)}),a.jsx("main",{className:"flex-1 p-4 md:p-6 pt-20 md:pt-24 pb-20 md:pb-6",children:a.jsx(Lv,{context:{appLoaded:e}})}),a.jsx("div",{className:"md:hidden",children:a.jsx(BO,{})}),a.jsx(qO,{})]})]})},QO=({isOpen:e,onClose:t,skillName:s,saos:n,jobs:r})=>{const i=He();if(!e)return null;const o=c=>{i(`/saos?saoId=${c}`),t()},l=c=>{i(`/references?jobId=${c}`),t()};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold",children:["Linked Items for ",s]}),a.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600",children:a.jsx(kt,{size:24})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Linked SAOs"}),a.jsx("div",{className:"space-y-4",children:n.length>0?n.map(c=>a.jsxs("div",{className:"border rounded-lg p-4 hover:bg-slate-50",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("h4",{className:"font-medium text-slate-900",children:c.title}),a.jsx("button",{onClick:()=>o(c.id),className:"p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Open SAO",children:a.jsx(xf,{size:18})})]}),a.jsx("p",{className:"text-sm text-slate-600",children:c.content}),a.jsxs("div",{className:"mt-2 text-xs text-slate-500",children:["Created: ",new Date(c.created_at).toLocaleDateString()]})]},c.id)):a.jsx("p",{className:"text-slate-500 italic",children:"No SAOs linked to this skill yet."})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Linked Jobs"}),a.jsx("div",{className:"space-y-4",children:r.length>0?r.map(c=>a.jsxs("div",{className:"border rounded-lg p-4 hover:bg-slate-50",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-slate-900",children:c.title}),a.jsx("p",{className:"text-sm text-slate-600",children:c.company})]}),a.jsx("button",{onClick:()=>l(c.id),className:"p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Open Job",children:a.jsx(ia,{size:18})})]}),a.jsxs("div",{className:"mt-2 text-xs text-slate-500",children:[new Date(c.start_date).toLocaleDateString()," - ",c.end_date?new Date(c.end_date).toLocaleDateString():"Present"]})]},c.id)):a.jsx("p",{className:"text-slate-500 italic",children:"No jobs linked to this skill yet."})})]})]}),a.jsx("div",{className:"flex justify-end mt-6",children:a.jsx("button",{onClick:t,className:"btn btn-primary",children:"Close"})})]})})},ZO=m.memo(({skill:e,categoryIndex:t,onRankChange:s,getStatusIcon:n,getStatusLabel:r,getStatusClass:i,getRankColor:o,getRankLabel:l,skillRef:c,linkedSkillIds:u,fetchLinkedItems:d})=>{const[h,f]=m.useState(!1),[p,v]=m.useState([]),[y,b]=m.useState([]),[g,x]=m.useState(!1),w=u.has(e.id),S=async()=>{x(!0);try{const{saos:j,jobs:k}=await d(e.id);v(j),b(k),f(!0)}catch(j){console.error("Error fetching linked items:",j)}finally{x(!1)}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{ref:c,className:"flex items-center justify-between p-3 rounded-lg border hover:border-slate-300 hover:bg-slate-50 transition-colors",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"mr-3",children:n(e)}),a.jsx("span",{className:"font-medium",children:e.name})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:S,className:`p-2 rounded-full transition-colors ${w?"text-amber-500 hover:text-amber-600 hover:bg-amber-50 shadow-[0_0_8px_rgba(245,158,11,0.5)]":"text-slate-400 hover:text-slate-600 hover:bg-slate-100"}`,title:w?"View linked items":"No linked items",disabled:g,children:a.jsx(In,{size:18,className:g?"animate-pulse":""})}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:e.rank||"",onChange:j=>{s(t,e.id,Number(j.target.value))},className:`appearance-none px-3 py-1.5 rounded-full text-sm font-medium ${o(e.rank)} border-0 focus:ring-2 focus:ring-teal-500 focus:outline-none cursor-pointer`,children:[a.jsx("option",{value:"",children:"Not Ranked"}),[1,2,3,4,5].map(j=>a.jsxs("option",{value:j,children:[j," - ",l(j)]},j))]}),a.jsx(Ul,{size:16,className:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none text-current"})]}),a.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full ${i(e)}`,children:r(e)})]})]}),a.jsx(QO,{isOpen:h,onClose:()=>f(!1),skillName:e.name,saos:p,jobs:y})]})}),eI=m.memo(({category:e,categoryIndex:t,onRankChange:s,getStatusIcon:n,getStatusLabel:r,getStatusClass:i,getRankColor:o,getRankLabel:l,getCategoryProgress:c,calculateCategoryMean:u,getMeanColor:d,showRequirementWarning:h,getRequirementMessage:f,skillRefs:p,linkedSkillIds:v,fetchLinkedItems:y})=>{const b=c(e.skills),{mean:g,isComplete:x}=u(e.skills);return a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("h2",{className:"text-lg font-semibold",children:e.name}),x&&a.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${d(g)}`,children:[a.jsx(qw,{size:16}),a.jsxs("span",{className:"text-sm font-medium",children:["Mean Score: ",g]})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-green-100 text-green-700 mr-2",children:a.jsx("span",{className:"text-sm font-bold",children:b.completed})}),a.jsx("div",{children:a.jsx("p",{className:"text-xs font-medium",children:"Completed"})})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-slate-100 text-slate-700 mr-2",children:a.jsx("span",{className:"text-sm font-bold",children:b.notStarted})}),a.jsx("div",{children:a.jsx("p",{className:"text-xs font-medium",children:"Not Started"})})]})]})]}),x&&h(e.name,g)&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(mf,{size:18,className:"text-red-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-red-800",children:"Warning: This category does not meet the minimum requirements"}),a.jsx("p",{className:"text-sm text-red-600 mt-1",children:f(e.name,g)})]})]})}),a.jsx("div",{className:"space-y-3",children:e.skills.map(w=>a.jsx(ZO,{skill:w,categoryIndex:t,onRankChange:s,getStatusIcon:n,getStatusLabel:r,getStatusClass:i,getRankColor:o,getRankLabel:l,skillRef:S=>p.current[w.id]=S,linkedSkillIds:v,fetchLinkedItems:y},w.id))})]})}),tI=()=>{const{skillCategories:e,updateSkillRank:t,loadUserSkills:s,loading:n,error:r}=Qt(),i=m.useRef({}),[o,l]=m.useState(new Set),c=m.useRef({});m.useEffect(()=>{s()},[s]),m.useEffect(()=>{(async()=>{try{const{data:{user:E}}=await N.auth.getUser();if(!E)return;const[{data:P},{data:D}]=await Promise.all([N.from("saos").select("*, sao_skills(skill_id)").eq("eit_id",E.id),N.from("jobs").select("id, skills").eq("eit_id",E.id)]),A=P||[],F=D||[],O=new Set;A.forEach(R=>{R.sao_skills&&R.sao_skills.forEach(C=>O.add(C.skill_id))}),F.forEach(R=>{Array.isArray(R.skills)&&R.skills.forEach(C=>O.add(C))}),l(O)}catch(E){console.error("Error fetching all linked items:",E)}})()},[s]);const u=async _=>{if(c.current[_])return c.current[_];const{data:{user:E}}=await N.auth.getUser();if(!E)return{saos:[],jobs:[]};const{data:P}=await N.from("saos").select("*, sao_skills!inner(skill_id)").eq("eit_id",E.id).eq("sao_skills.skill_id",_),D=P||[],{data:A}=await N.from("jobs").select("*").eq("eit_id",E.id).contains("skills",[_]),F=A||[];return c.current[_]={saos:D,jobs:F},{saos:D,jobs:F}};m.useEffect(()=>{const _=E=>{const{skillId:P,timestamp:D}=E.detail;console.log("Scroll event received:",{skillId:P,timestamp:D}),setTimeout(()=>{const A=i.current[P];console.log("Looking for element:",{skillId:P,element:A}),A?(console.log("Scrolling to element"),A.scrollIntoView({behavior:"smooth",block:"center"}),A.classList.add("ring","ring-teal-400"),setTimeout(()=>A.classList.remove("ring","ring-teal-400"),1500)):(console.log("Element not found, retrying in 100ms"),setTimeout(()=>{const F=i.current[P];F&&(F.scrollIntoView({behavior:"smooth",block:"center"}),F.classList.add("ring","ring-teal-400"),setTimeout(()=>F.classList.remove("ring","ring-teal-400"),1500))},100))},100)};return window.addEventListener("scroll-to-skill",_),()=>window.removeEventListener("scroll-to-skill",_)},[]);const d=m.useCallback(async(_,E,P)=>{try{console.log("Updating skill rank for skillId:",E,typeof E),await t(_,E,P)}catch(D){console.error("Error in handleRankChange:",D)}},[t]),h=m.useCallback(_=>_.reduce((E,P)=>(P.rank!==void 0?E.completed++:E.notStarted++,E),{completed:0,notStarted:0}),[]),f=m.useCallback(_=>{const E=_.filter(D=>D.rank!==void 0);if(E.length!==_.length)return{mean:0,isComplete:!1};const P=E.reduce((D,A)=>D+(A.rank||0),0);return{mean:Number((P/_.length).toFixed(1)),isComplete:!0}},[]),p=m.useCallback(_=>_>=4.5?"bg-green-100 text-green-700":_>=3.5?"bg-blue-100 text-blue-700":_>=2.5?"bg-yellow-100 text-yellow-700":_>=1.5?"bg-orange-100 text-orange-700":"bg-red-100 text-red-700",[]),v=m.useCallback(_=>_.status==="completed"?a.jsx(Ks,{size:18,className:"text-green-500"}):_.status==="in-progress"?a.jsx(vA,{size:18,className:"text-amber-500"}):_.rank!==void 0?a.jsx(rA,{size:18,className:"text-green-500"}):a.jsx(iA,{size:18,className:"text-slate-300"}),[]),y=m.useCallback(_=>_.rank!==void 0||_.status==="completed"?"Completed":_.status==="in-progress"?"In Progress":"Not Started",[]),b=m.useCallback(_=>_.rank!==void 0||_.status==="completed"?"bg-green-100 text-green-800":_.status==="in-progress"?"bg-amber-100 text-amber-800":"bg-slate-100 text-slate-800",[]),g=m.useCallback(_=>{if(!_)return"bg-slate-100 text-slate-600";switch(_){case 1:return"bg-red-100 text-red-600";case 2:return"bg-orange-100 text-orange-600";case 3:return"bg-yellow-100 text-yellow-600";case 4:return"bg-blue-100 text-blue-600";case 5:return"bg-green-100 text-green-600";default:return"bg-slate-100 text-slate-600"}},[]),x=m.useCallback(_=>{if(!_)return"Not Ranked";switch(_){case 1:return"Beginner";case 2:return"Basic";case 3:return"Intermediate";case 4:return"Advanced";case 5:return"Expert";default:return"Not Ranked"}},[]),w={"Category 1 – Technical Competence":3,"Category 2 – Communication":3,"Category 3 – Project & Financial Management":2,"Category 4 – Team Effectiveness":3,"Category 5 – Professional Accountability":3,"Category 6 – Social, Economic, Environmental & Sustainability":2},S=m.useCallback((_,E)=>{const P=w[_];return E<P},[]),j=m.useCallback((_,E)=>`A minimum average score of ${w[_]} is required for ${_}. Current average: ${E}`,[]),k=m.useMemo(()=>e.reduce((_,E)=>(E.skills.forEach(P=>{P.rank!==void 0?_.completed++:_.notStarted++}),_),{completed:0,notStarted:0}),[e]);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Skills & Competencies"}),a.jsx("p",{className:"text-slate-500 mt-1",children:"Track and document your EIT program competencies"})]}),r&&a.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(mf,{size:18,className:"text-red-600 mt-0.5 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-red-800",children:r})]})}),n?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"card p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Overall Progress"}),a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center bg-green-100 text-green-700 mr-3",children:a.jsx("span",{className:"text-lg font-bold",children:k.completed})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Completed"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Skills"})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center bg-slate-100 text-slate-700 mr-3",children:a.jsx("span",{className:"text-lg font-bold",children:k.notStarted})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Not Started"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Skills"})]})]})]})]}),a.jsx("div",{className:"space-y-6",children:e.map((_,E)=>a.jsx(eI,{category:_,categoryIndex:E,onRankChange:d,getStatusIcon:v,getStatusLabel:y,getStatusClass:b,getRankColor:g,getRankLabel:x,getCategoryProgress:h,calculateCategoryMean:f,getMeanColor:p,showRequirementWarning:S,getRequirementMessage:j,skillRefs:i,linkedSkillIds:o,fetchLinkedItems:u},_.name))})]})]})},sI=m.memo(tI),pb=Ut((e,t)=>({documents:[],loading:!1,error:null,lastFetched:null,clearState:()=>e({documents:[],loading:!1,error:null,lastFetched:null}),createDocument:async(s,n,r,i,o)=>{var l;e({loading:!0,error:null});try{const{data:{user:c},error:u}=await N.auth.getUser();if(u)throw console.error("Auth error:",u),new Error("Authentication error: "+u.message);if(!c)throw new Error("No authenticated user found");await N.from("eit_profiles").upsert({id:c.id,full_name:((l=c.user_metadata)==null?void 0:l.full_name)||"",email:c.email||""});const d=(i==null?void 0:i.type)||"text/plain",h=(i==null?void 0:i.size)||n.length,f=o||"Uncategorized";console.log("Creating document:",{title:s,type:r,eit_id:c.id,file_type:d,file_size:h,category:f});const{data:p,error:v}=await N.from("documents").insert([{eit_id:c.id,title:s,content:n,type:r,status:"draft",word_count:n.split(/\s+/).length,file_type:d,file_size:h,category:f}]).select().single();if(v)throw console.error("Error creating document:",{error:v,message:v.message,details:v.details,hint:v.hint}),v;console.log("Document created successfully:",p),e(y=>({documents:[p,...y.documents]}))}catch(c){throw console.error("Error in createDocument:",{error:c,message:c.message,details:c.details,hint:c.hint}),e({error:`Failed to create document: ${c.message||"Unknown error"}`}),c}finally{e({loading:!1})}},updateDocument:async(s,n,r)=>{e({loading:!0,error:null});try{console.log("Updating document:",{id:s,title:n});const{data:{user:i},error:o}=await N.auth.getUser();if(o)throw console.error("Auth error:",o),new Error("Authentication error: "+o.message);if(!i)throw new Error("No authenticated user found");const{error:l}=await N.from("documents").update({title:n,content:r,word_count:r.split(/\s+/).length,updated_at:new Date().toISOString()}).eq("id",s).eq("eit_id",i.id);if(l)throw console.error("Error updating document:",{error:l,message:l.message,details:l.details,hint:l.hint}),l;e(c=>({documents:c.documents.map(u=>u.id===s?{...u,title:n,content:r,word_count:r.split(/\s+/).length,updated_at:new Date().toISOString()}:u)}))}catch(i){throw console.error("Error in updateDocument:",{error:i,message:i.message,details:i.details,hint:i.hint}),e({error:`Failed to update document: ${i.message||"Unknown error"}`}),i}finally{e({loading:!1})}},deleteDocument:async s=>{e({loading:!0,error:null});try{console.log("Deleting document:",s);const{data:{user:n},error:r}=await N.auth.getUser();if(r)throw console.error("Auth error:",r),new Error("Authentication error: "+r.message);if(!n)throw new Error("No authenticated user found");const{error:i}=await N.from("documents").delete().eq("id",s).eq("eit_id",n.id);if(i)throw console.error("Error deleting document:",{error:i,message:i.message,details:i.details,hint:i.hint}),i;e(o=>({documents:o.documents.filter(l=>l.id!==s)}))}catch(n){throw console.error("Error in deleteDocument:",{error:n,message:n.message,details:n.details,hint:n.hint}),e({error:`Failed to delete document: ${n.message||"Unknown error"}`}),n}finally{e({loading:!1})}},loadUserDocuments:async(s=!1)=>{const n=Date.now(),r=t().lastFetched;if(!(!s&&r&&n-r<5*60*1e3)){e({loading:!0,error:null});try{console.log("Loading user documents...");const{data:{user:i},error:o}=await N.auth.getUser();if(o)throw console.error("Auth error:",o),new Error("Authentication error: "+o.message);if(!i)throw new Error("No authenticated user found");console.log("Fetching documents for user:",i.id);const{data:l,error:c}=await N.from("documents").select("*").eq("eit_id",i.id).order("created_at",{ascending:!1});if(c)throw console.error("Error fetching documents:",{error:c,message:c.message,details:c.details,hint:c.hint}),c;console.log("Documents fetched:",l==null?void 0:l.length),e({documents:l||[],lastFetched:n})}catch(i){throw console.error("Error in loadUserDocuments:",{error:i,message:i.message,details:i.details,hint:i.hint}),e({error:`Failed to load documents: ${i.message||"Unknown error"}`}),i}finally{e({loading:!1})}}}})),nI=()=>{const{documents:e,loading:t,error:s,createDocument:n,updateDocument:r,deleteDocument:i,loadUserDocuments:o}=pb(),[l,c]=m.useState(""),[u,d]=m.useState("all"),[h,f]=m.useState(!1),[p,v]=m.useState("all"),[y,b]=m.useState("date"),[g,x]=m.useState("desc"),[w,S]=m.useState(null),[j,k]=m.useState(""),_=ne.useRef({});m.useEffect(()=>{console.log("Documents component mounted"),o()},[o]),m.useEffect(()=>{console.log("Documents array updated:",{documentCount:e.length,documents:e})},[e]),m.useEffect(()=>{const C=I=>{const M=I.detail.documentId,T=_.current[M];T&&(T.scrollIntoView({behavior:"smooth",block:"center"}),T.classList.add("ring","ring-teal-400","transition-all","duration-300"),setTimeout(()=>{T.classList.remove("ring","ring-teal-400")},2e3))};return window.addEventListener("scroll-to-document",C),()=>window.removeEventListener("scroll-to-document",C)},[]);const E=async C=>{var M;const I=(M=C.target.files)==null?void 0:M[0];if(I)try{console.log("Starting document creation process...");let T="";const L=I.type;L.startsWith("text/")?T=await I.text():T=`File type (${L}) not directly viewable. Will be stored.`,await n(I.name,T,"other",I),console.log("Document creation completed successfully"),C.target.value=""}catch(T){console.error("Document creation failed:",T),alert("Failed to create document. Please try again.")}},P=async C=>{try{const I=new Blob([C.content],{type:"text/plain"}),M=URL.createObjectURL(I),T=document.createElement("a");T.href=M,T.download=`${C.title}.txt`,document.body.appendChild(T),T.click(),document.body.removeChild(T),URL.revokeObjectURL(M)}catch(I){console.error("Download failed:",I),alert("Failed to download document")}},D=async C=>{if(window.confirm("Are you sure you want to delete this document?"))try{await i(C.id)}catch(I){console.error("Delete failed:",I),alert("Failed to delete document")}},A=async C=>{S({id:C.id,title:C.title}),k(C.title)},F=async()=>{if(w)try{const C=e.find(I=>I.id===w.id);if(!C)throw new Error("Document not found");await r(w.id,j,C.content),S(null)}catch(C){console.error("Update failed:",C),alert("Failed to update document title")}},O=e.filter(C=>{const I=C.title.toLowerCase().includes(l.toLowerCase())||C.content.toLowerCase().includes(l.toLowerCase()),M=u==="all"||C.type===u,T=p==="all"||C.status===p;return I&&M&&T}).sort((C,I)=>y==="date"?g==="asc"?new Date(C.created_at).getTime()-new Date(I.created_at).getTime():new Date(I.created_at).getTime()-new Date(C.created_at).getTime():g==="asc"?C.title.localeCompare(I.title):I.title.localeCompare(C.title)),R=["all",...new Set(e.map(C=>C.type))];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Documents"}),a.jsxs("label",{className:"btn btn-primary cursor-pointer",children:[a.jsx(wA,{size:16,className:"mr-1.5"}),"Upload Document",a.jsx("input",{type:"file",className:"hidden",onChange:E})]})]}),a.jsxs("div",{className:"card p-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsx("div",{className:"flex-1 min-w-[200px]",children:a.jsxs("div",{className:"relative",children:[a.jsx(Zw,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),a.jsx("input",{type:"text",value:l,onChange:C=>c(C.target.value),placeholder:"Search documents...",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500"}),l&&a.jsx("button",{onClick:()=>c(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:a.jsx(kt,{size:16})})]})}),a.jsxs("button",{onClick:()=>f(!h),className:"btn btn-secondary flex items-center",children:[a.jsx(lA,{size:16,className:"mr-1.5"}),"Filters"]})]}),h&&a.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Type"}),a.jsx("select",{value:u,onChange:C=>d(C.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:R.map(C=>a.jsx("option",{value:C,children:C.charAt(0).toUpperCase()+C.slice(1)},C))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),a.jsxs("select",{value:p,onChange:C=>v(C.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"draft",children:"Draft"}),a.jsx("option",{value:"submitted",children:"Submitted"}),a.jsx("option",{value:"approved",children:"Approved"}),a.jsx("option",{value:"rejected",children:"Rejected"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Sort By"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("select",{value:y,onChange:C=>b(C.target.value),className:"flex-1 px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:[a.jsx("option",{value:"date",children:"Date"}),a.jsx("option",{value:"name",children:"Name"})]}),a.jsx("button",{onClick:()=>x(g==="asc"?"desc":"asc"),className:"px-3 py-2 border border-slate-200 rounded-lg hover:bg-slate-50",children:g==="asc"?"↑":"↓"})]})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:O.map(C=>a.jsxs("div",{ref:I=>_.current[C.id]=I,"data-document-id":C.id,className:"document-card bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200 ease-in-out",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[(w==null?void 0:w.id)===C.id?a.jsx("div",{className:"flex-1 mr-2",children:a.jsx("input",{type:"text",value:j,onChange:I=>k(I.target.value),className:"w-full px-2 py-1 border border-slate-200 rounded",onKeyDown:I=>{I.key==="Enter"&&F(),I.key==="Escape"&&S(null)},autoFocus:!0})}):a.jsx("h3",{className:"font-semibold text-lg text-slate-800",children:C.title}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-slate-700",onClick:()=>A(C),children:a.jsx(oa,{size:16})}),a.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-slate-700",onClick:()=>P(C),children:a.jsx(aA,{size:16})}),a.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-red-600",onClick:()=>D(C),children:a.jsx(zr,{size:16})})]})]}),C.file_type&&C.file_type.startsWith("text/")?a.jsx("p",{className:"text-sm text-slate-600 mt-2 line-clamp-2",children:C.content}):a.jsx("p",{className:"text-sm text-slate-400 mt-2 italic",children:"Content not viewable here. Download to see full content."}),a.jsxs("div",{className:"flex justify-between items-center mt-4 pt-3 border-t border-slate-100",children:[a.jsxs("div",{className:"text-xs text-slate-500",children:[a.jsx("span",{children:new Date(C.created_at).toLocaleDateString()}),a.jsx("span",{className:"mx-2",children:"•"}),a.jsx("span",{className:"capitalize",children:C.status})]}),a.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-600",children:C.type})]})]},C.id))}),O.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(In,{size:48,className:"mx-auto text-slate-400"}),a.jsx("h3",{className:"mt-4 text-lg font-medium text-slate-900",children:"No documents found"}),a.jsx("p",{className:"mt-2 text-slate-500",children:l||u!=="all"||p!=="all"?"Try adjusting your search or filters":"Get started by uploading your first document"})]}),t&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-slate-500",children:"Loading documents..."})]}),s&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(na,{size:48,className:"mx-auto text-red-400"}),a.jsx("h3",{className:"mt-4 text-lg font-medium text-slate-900",children:"Error loading documents"}),a.jsx("p",{className:"mt-2 text-slate-500",children:s})]})]})},rI=()=>{const e=[{id:1,title:"Technical Problem Analysis",description:"Self-Assessment Outcome (SAO) for problem analysis competency",status:"complete",updatedAt:"2025-04-12",wordCount:850},{id:2,title:"Team Leadership Experience",description:"SAO documenting leadership skills in team environments",status:"draft",updatedAt:"2025-04-08",wordCount:620},{id:3,title:"Project Management Methodology",description:"SAO for project planning and execution competency",status:"ai-assisted",updatedAt:"2025-04-02",wordCount:740},{id:4,title:"Professional Ethics Application",description:"SAO for ethical decision making in engineering",status:"in-review",updatedAt:"2025-03-25",wordCount:910}],t={complete:"bg-green-100 text-green-800 border-green-200",draft:"bg-slate-100 text-slate-800 border-slate-200","ai-assisted":"bg-purple-100 text-purple-800 border-purple-200","in-review":"bg-amber-100 text-amber-800 border-amber-200"},s={complete:a.jsx(nA,{size:16,className:"mr-1"}),draft:a.jsx(Cg,{size:16,className:"mr-1"}),"ai-assisted":a.jsx(_g,{size:16,className:"mr-1"}),"in-review":a.jsx(gf,{size:16,className:"mr-1"})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Essays"}),a.jsx("p",{className:"text-slate-500 mt-1",children:"Manage your Self-Assessment Outcome (SAO) essays"})]}),a.jsx("div",{className:"card bg-gradient-to-br from-teal-500 to-teal-700 text-white p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[a.jsxs("div",{className:"mb-4 md:mb-0",children:[a.jsx("h2",{className:"text-xl font-bold",children:"AI Essay Assistant"}),a.jsx("p",{className:"mt-1 text-teal-100",children:"Let our AI analyze your documented experiences and draft SAO essays that highlight your key competencies."})]}),a.jsxs("button",{className:"btn bg-white text-teal-700 hover:bg-teal-50 flex items-center self-start",children:[a.jsx(_g,{size:16,className:"mr-2"}),"Start New AI-Assisted Essay"]})]})}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-between space-y-4 md:space-y-0",children:[a.jsxs("button",{className:"btn btn-primary flex items-center",children:[a.jsx(Qw,{size:16,className:"mr-1.5"}),"Create New Essay"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("select",{className:"px-3 py-2 rounded-lg border border-slate-200 bg-white text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:[a.jsx("option",{value:"all",children:"All Essays"}),a.jsx("option",{value:"complete",children:"Completed"}),a.jsx("option",{value:"draft",children:"Drafts"}),a.jsx("option",{value:"ai-assisted",children:"AI-Assisted"}),a.jsx("option",{value:"in-review",children:"In Review"})]}),a.jsxs("select",{className:"px-3 py-2 rounded-lg border border-slate-200 bg-white text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:[a.jsx("option",{value:"recent",children:"Recently Updated"}),a.jsx("option",{value:"oldest",children:"Oldest First"}),a.jsx("option",{value:"alphabetical",children:"Alphabetical"})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(n=>a.jsxs("div",{className:"card hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("h3",{className:"font-semibold text-lg text-slate-800",children:n.title}),a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${t[n.status]}`,children:[s[n.status],n.status==="ai-assisted"?"AI Assisted":n.status.charAt(0).toUpperCase()+n.status.slice(1)]})]}),a.jsx("p",{className:"text-sm text-slate-600 mt-2",children:n.description}),a.jsxs("div",{className:"flex justify-between items-center mt-4 pt-3 border-t border-slate-100",children:[a.jsxs("div",{className:"text-xs text-slate-500",children:[a.jsxs("span",{children:["Updated ",new Date(n.updatedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]}),a.jsx("span",{className:"mx-2",children:"•"}),a.jsxs("span",{children:[n.wordCount," words"]})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-slate-700",children:a.jsx(oA,{size:16})}),a.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-slate-700",children:a.jsx(Cg,{size:16})}),a.jsx("button",{className:"p-1.5 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-red-600",children:a.jsx(zr,{size:16})})]})]})]},n.id))})]})},iI={};function aI(e,t){let s;try{s=e()}catch{return}return{getItem:r=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=s.getItem(r))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(r,i)=>s.setItem(r,JSON.stringify(i,void 0)),removeItem:r=>s.removeItem(r)}}const ua=e=>t=>{try{const s=e(t);return s instanceof Promise?s:{then(n){return ua(n)(s)},catch(n){return this}}}catch(s){return{then(n){return this},catch(n){return ua(n)(s)}}}},oI=(e,t)=>(s,n,r)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:b=>b,version:0,merge:(b,g)=>({...g,...b}),...t},o=!1;const l=new Set,c=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return e((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),s(...b)},n,r);const d=ua(i.serialize),h=()=>{const b=i.partialize({...n()});let g;const x=d({state:b,version:i.version}).then(w=>u.setItem(i.name,w)).catch(w=>{g=w});if(g)throw g;return x},f=r.setState;r.setState=(b,g)=>{f(b,g),h()};const p=e((...b)=>{s(...b),h()},n,r);let v;const y=()=>{var b;if(!u)return;o=!1,l.forEach(x=>x(n()));const g=((b=i.onRehydrateStorage)==null?void 0:b.call(i,n()))||void 0;return ua(u.getItem.bind(u))(i.name).then(x=>{if(x)return i.deserialize(x)}).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==i.version){if(i.migrate)return i.migrate(x.state,x.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return x.state}).then(x=>{var w;return v=i.merge(x,(w=n())!=null?w:p),s(v,!0),h()}).then(()=>{g==null||g(v,void 0),o=!0,c.forEach(x=>x(v))}).catch(x=>{g==null||g(void 0,x)})};return r.persist={setOptions:b=>{i={...i,...b},b.getStorage&&(u=b.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:b=>(l.add(b),()=>{l.delete(b)}),onFinishHydration:b=>(c.add(b),()=>{c.delete(b)})},y(),v||p},lI=(e,t)=>(s,n,r)=>{let i={storage:aI(()=>localStorage),partialize:y=>y,version:0,merge:(y,b)=>({...b,...y}),...t},o=!1;const l=new Set,c=new Set;let u=i.storage;if(!u)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),s(...y)},n,r);const d=()=>{const y=i.partialize({...n()});return u.setItem(i.name,{state:y,version:i.version})},h=r.setState;r.setState=(y,b)=>{h(y,b),d()};const f=e((...y)=>{s(...y),d()},n,r);r.getInitialState=()=>f;let p;const v=()=>{var y,b;if(!u)return;o=!1,l.forEach(x=>{var w;return x((w=n())!=null?w:f)});const g=((b=i.onRehydrateStorage)==null?void 0:b.call(i,(y=n())!=null?y:f))||void 0;return ua(u.getItem.bind(u))(i.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==i.version){if(i.migrate)return[!0,i.migrate(x.state,x.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var w;const[S,j]=x;if(p=i.merge(j,(w=n())!=null?w:f),s(p,!0),S)return d()}).then(()=>{g==null||g(p,void 0),p=n(),o=!0,c.forEach(x=>x(p))}).catch(x=>{g==null||g(void 0,x)})};return r.persist={setOptions:y=>{i={...i,...y},y.storage&&(u=y.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:y=>(l.add(y),()=>{l.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},i.skipHydration||v(),p||f},cI=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((iI?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),oI(e,t)):lI(e,t),Sf=cI,gb=Ut()(Sf((e,t)=>({documents:[],loading:!1,error:null,addDocument:(s,n,r)=>{const i={id:Date.now().toString(),name:s,content:n,category:r,size:`${(n.length/1024).toFixed(1)} KB`,created_at:new Date().toISOString(),attachments:[]};e(o=>({documents:[i,...o.documents]}))},getDocuments:()=>t().documents,getDocument:s=>t().documents.find(n=>n.id===s),updateDocument:(s,n)=>{e(r=>({documents:r.documents.map(i=>{if(i.id===s){const o={...i,...n};return n.content&&(o.size=`${(n.content.length/1024).toFixed(1)} KB`),o}return i})}))},deleteDocument:s=>{e(n=>({documents:n.documents.filter(r=>r.id!==s)}))}}),{name:"local-documents-storage"})),xb=({content:e,onChange:t,onSave:s,onCancel:n})=>{const[r,i]=m.useState(!1),[o,l]=m.useState(""),[c,u]=m.useState(!1),[d,h]=m.useState(""),f=b=>{document.execCommand(b,!1)},p=()=>{o&&(document.execCommand("createLink",!1,o),i(!1),l(""))},v=()=>{d&&(document.execCommand("insertImage",!1,d),u(!1),h(""))},y=b=>{var x;const g=(x=b.target.files)==null?void 0:x[0];g&&console.log("File selected:",g)};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-2 p-2 bg-slate-50 rounded-lg border border-slate-200",children:[a.jsx("button",{onClick:()=>f("bold"),className:"p-2 rounded hover:bg-slate-200",title:"Bold",children:a.jsx(sA,{size:16})}),a.jsx("button",{onClick:()=>f("italic"),className:"p-2 rounded hover:bg-slate-200",title:"Italic",children:a.jsx(hA,{size:16})}),a.jsx("button",{onClick:()=>f("underline"),className:"p-2 rounded hover:bg-slate-200",title:"Underline",children:a.jsx(yA,{size:16})}),a.jsx("div",{className:"w-px h-6 bg-slate-300 mx-1"}),a.jsx("button",{onClick:()=>f("insertUnorderedList"),className:"p-2 rounded hover:bg-slate-200",title:"Bullet List",children:a.jsx(pA,{size:16})}),a.jsx("button",{onClick:()=>f("insertOrderedList"),className:"p-2 rounded hover:bg-slate-200",title:"Numbered List",children:a.jsx(mA,{size:16})}),a.jsx("div",{className:"w-px h-6 bg-slate-300 mx-1"}),a.jsx("button",{onClick:()=>i(!0),className:"p-2 rounded hover:bg-slate-200",title:"Insert Link",children:a.jsx(fA,{size:16})}),a.jsx("button",{onClick:()=>u(!0),className:"p-2 rounded hover:bg-slate-200",title:"Insert Image",children:a.jsx(uA,{size:16})}),a.jsx("div",{className:"w-px h-6 bg-slate-300 mx-1"}),a.jsxs("label",{className:"p-2 rounded hover:bg-slate-200 cursor-pointer",title:"Attach File",children:[a.jsx(aa,{size:16}),a.jsx("input",{type:"file",className:"hidden",onChange:y})]})]}),r&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Insert Link"}),a.jsx("input",{type:"url",value:o,onChange:b=>l(b.target.value),placeholder:"Enter URL",className:"w-full px-3 py-2 border rounded-lg mb-2"}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),a.jsx("button",{onClick:p,className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700",children:"Insert"})]})]})}),c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Insert Image"}),a.jsx("input",{type:"url",value:d,onChange:b=>h(b.target.value),placeholder:"Enter image URL",className:"w-full px-3 py-2 border rounded-lg mb-2"}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),a.jsx("button",{onClick:v,className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700",children:"Insert"})]})]})}),a.jsx("div",{contentEditable:!0,className:"min-h-[400px] p-4 border rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",onInput:b=>t(b.currentTarget.innerHTML),dangerouslySetInnerHTML:{__html:e}}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsxs("button",{onClick:n,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg flex items-center",children:[a.jsx(kt,{size:16,className:"mr-1"}),"Cancel"]}),a.jsxs("button",{onClick:s,className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 flex items-center",children:[a.jsx(bf,{size:16,className:"mr-1"}),"Save"]})]})]})},uI=()=>{const[e,t]=m.useState(""),[s,n]=m.useState(""),[r,i]=m.useState("Experience Reports"),[o,l]=m.useState([]),[c,u]=m.useState(!1),d=He(),{addDocument:h}=gb(),f=async()=>{try{if(!s.trim()){alert("Please enter a document name");return}u(!0),h(s,e,r),d("/documents")}catch(y){console.error("Error saving document:",y),alert("Error saving document. Please try again.")}finally{u(!1)}},p=async y=>{var g;const b=(g=y.target.files)==null?void 0:g[0];if(b)try{const x={id:Date.now().toString(),name:b.name,type:b.type,size:b.size,url:URL.createObjectURL(b)};l(w=>[...w,x])}catch(x){console.error("Error uploading file:",x),alert("Error uploading file. Please try again.")}},v=y=>{l(b=>b.filter(g=>g.id!==y))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>d("/documents"),className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100",children:a.jsx(Bw,{size:20})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"New Text Document"}),a.jsx("p",{className:"text-slate-500 mt-1",children:"Write and save your text"})]})]}),a.jsxs("div",{className:"card space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"documentName",className:"block text-sm font-medium text-slate-700 mb-1",children:"Document Name"}),a.jsx("input",{id:"documentName",type:"text",value:s,onChange:y=>n(y.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter document name..."})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-slate-700 mb-1",children:"Category"}),a.jsxs("select",{id:"category",value:r,onChange:y=>i(y.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:[a.jsx("option",{value:"Experience Reports",children:"Experience Reports"}),a.jsx("option",{value:"Technical Reports",children:"Technical Reports"}),a.jsx("option",{value:"Certificates",children:"Certificates"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Content"}),a.jsx(xb,{content:e,onChange:t,onSave:f,onCancel:()=>d("/documents")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Attachments"}),a.jsxs("div",{className:"space-y-2",children:[o.map(y=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(aa,{size:16,className:"text-slate-500"}),a.jsx("span",{className:"text-sm text-slate-700",children:y.name}),a.jsxs("span",{className:"text-xs text-slate-500",children:["(",(y.size/1024).toFixed(1)," KB)"]})]}),a.jsx("button",{onClick:()=>v(y.id),className:"p-1 text-slate-500 hover:text-red-600",children:a.jsx(kt,{size:16})})]},y.id)),a.jsxs("label",{className:"flex items-center space-x-2 p-2 border-2 border-dashed border-slate-200 rounded-lg cursor-pointer hover:border-teal-500",children:[a.jsx(aa,{size:16,className:"text-slate-500"}),a.jsx("span",{className:"text-sm text-slate-700",children:"Add attachment"}),a.jsx("input",{type:"file",className:"hidden",onChange:p})]})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:f,disabled:c,className:"btn btn-primary flex items-center",children:[a.jsx(bf,{size:16,className:"mr-1.5"}),c?"Saving...":"Save Document"]})})]})},dI=()=>a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-9xl font-bold text-teal-600",children:"404"}),a.jsx("h2",{className:"text-3xl font-semibold text-slate-800 mt-4",children:"Page Not Found"}),a.jsx("p",{className:"text-slate-500 max-w-md mx-auto mt-2",children:"The page you're looking for doesn't exist or has been moved."}),a.jsxs(bt,{to:"/",className:"inline-flex items-center px-4 py-2 mt-6 rounded-lg bg-teal-600 text-white hover:bg-teal-700 transition-colors",children:[a.jsx(zl,{size:18,className:"mr-2"}),"Back to Dashboard"]})]})}),hI=()=>{const{id:e}=WS(),t=He(),{getDocument:s,updateDocument:n}=gb(),[r,i]=m.useState(""),[o,l]=m.useState(""),[c,u]=m.useState("Experience Reports"),[d,h]=m.useState([]),[f,p]=m.useState(!1);m.useEffect(()=>{if(e){const g=s(e);g?(i(g.content),l(g.name),u(g.category),g.attachments&&h(g.attachments)):t("/documents")}},[e,s,t]);const v=async()=>{try{if(!o.trim()){alert("Please enter a document name");return}p(!0),e&&(await n(e,{name:o,content:r,category:c,attachments:d}),t("/documents"))}catch(g){console.error("Error updating document:",g),alert("Error updating document. Please try again.")}finally{p(!1)}},y=async g=>{var w;const x=(w=g.target.files)==null?void 0:w[0];if(x)try{const S={id:Date.now().toString(),name:x.name,type:x.type,size:x.size,url:URL.createObjectURL(x)};h(j=>[...j,S])}catch(S){console.error("Error uploading file:",S),alert("Error uploading file. Please try again.")}},b=g=>{h(x=>x.filter(w=>w.id!==g))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>t("/documents"),className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100",children:a.jsx(Bw,{size:20})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Edit Document"}),a.jsx("p",{className:"text-slate-500 mt-1",children:"Modify your document"})]})]}),a.jsxs("div",{className:"card space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"documentName",className:"block text-sm font-medium text-slate-700 mb-1",children:"Document Name"}),a.jsx("input",{id:"documentName",type:"text",value:o,onChange:g=>l(g.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter document name..."})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-slate-700 mb-1",children:"Category"}),a.jsxs("select",{id:"category",value:c,onChange:g=>u(g.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:[a.jsx("option",{value:"Experience Reports",children:"Experience Reports"}),a.jsx("option",{value:"Technical Reports",children:"Technical Reports"}),a.jsx("option",{value:"Certificates",children:"Certificates"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Content"}),a.jsx(xb,{content:r,onChange:i,onSave:v,onCancel:()=>t("/documents")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Attachments"}),a.jsxs("div",{className:"space-y-2",children:[d.map(g=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(aa,{size:16,className:"text-slate-500"}),a.jsx("span",{className:"text-sm text-slate-700",children:g.name}),a.jsxs("span",{className:"text-xs text-slate-500",children:["(",(g.size/1024).toFixed(1)," KB)"]})]}),a.jsx("button",{onClick:()=>b(g.id),className:"p-1 text-slate-500 hover:text-red-600",children:a.jsx(kt,{size:16})})]},g.id)),a.jsxs("label",{className:"flex items-center space-x-2 p-2 border-2 border-dashed border-slate-200 rounded-lg cursor-pointer hover:border-teal-500",children:[a.jsx(aa,{size:16,className:"text-slate-500"}),a.jsx("span",{className:"text-sm text-slate-700",children:"Add attachment"}),a.jsx("input",{type:"file",className:"hidden",onChange:y})]})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:v,disabled:f,className:"btn btn-primary flex items-center",children:[a.jsx(bf,{size:16,className:"mr-1.5"}),f?"Saving...":"Save Changes"]})})]})},vb=Ut()(Sf(e=>({supervisorReviews:!0,saoFeedback:!0,relationships:!0,userSkills:!0,toggleSupervisorReviews:()=>e(t=>({supervisorReviews:!t.supervisorReviews})),toggleSaoFeedback:()=>e(t=>({saoFeedback:!t.saoFeedback})),toggleRelationships:()=>e(t=>({relationships:!t.relationships})),toggleUserSkills:()=>e(t=>({userSkills:!t.userSkills}))}),{name:"notification-preferences"}));var fI=Object.defineProperty,mI=(e,t,s)=>t in e?fI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Wc=(e,t,s)=>(mI(e,typeof t!="symbol"?t+"":t,s),s);let pI=class{constructor(){Wc(this,"current",this.detect()),Wc(this,"handoffState","pending"),Wc(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},xr=new pI,Ar=(e,t)=>{xr.isServer?m.useEffect(e,t):m.useLayoutEffect(e,t)};function gI(e){let t=m.useRef(e);return Ar(()=>{t.current=e},[e]),t}let Is=function(e){let t=gI(e);return ne.useCallback((...s)=>t.current(...s),[t])};function xI(e,t,s){let[n,r]=m.useState(s),i=e!==void 0,o=m.useRef(i),l=m.useRef(!1),c=m.useRef(!1);return i&&!o.current&&!l.current?(l.current=!0,o.current=i,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!i&&o.current&&!c.current&&(c.current=!0,o.current=i,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[i?e:n,Is(u=>(i||r(u),t==null?void 0:t(u)))]}function vI(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function yb(){let e=[],t={addEventListener(s,n,r,i){return s.addEventListener(n,r,i),t.add(()=>s.removeEventListener(n,r,i))},requestAnimationFrame(...s){let n=requestAnimationFrame(...s);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...s){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...s))},setTimeout(...s){let n=setTimeout(...s);return t.add(()=>clearTimeout(n))},microTask(...s){let n={current:!0};return vI(()=>{n.current&&s[0]()}),t.add(()=>{n.current=!1})},style(s,n,r){let i=s.style.getPropertyValue(n);return Object.assign(s.style,{[n]:r}),this.add(()=>{Object.assign(s.style,{[n]:i})})},group(s){let n=yb();return s(n),this.add(()=>n.dispose())},add(s){return e.push(s),()=>{let n=e.indexOf(s);if(n>=0)for(let r of e.splice(n,1))r()}},dispose(){for(let s of e.splice(0))s()}};return t}function yI(){let[e]=m.useState(yb);return m.useEffect(()=>()=>e.dispose(),[e]),e}function wI(){let e=typeof document>"u";return"useSyncExternalStore"in Kc?(t=>t.useSyncExternalStore)(Kc)(()=>()=>{},()=>!1,()=>!e):!1}function bI(){let e=wI(),[t,s]=m.useState(xr.isHandoffComplete);return t&&xr.isHandoffComplete===!1&&s(!1),m.useEffect(()=>{t!==!0&&s(!0)},[t]),m.useEffect(()=>xr.handoff(),[]),e?!1:t}var zg;let kf=(zg=ne.useId)!=null?zg:function(){let e=bI(),[t,s]=ne.useState(e?()=>xr.nextId():null);return Ar(()=>{t===null&&s(xr.nextId())},[t]),t!=null?""+t:void 0};function wb(e,t,...s){if(e in t){let r=t[e];return typeof r=="function"?r(...s):r}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(r=>`"${r}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,wb),n}function Vg(e){var t;if(e.type)return e.type;let s=(t=e.as)!=null?t:"button";if(typeof s=="string"&&s.toLowerCase()==="button")return"button"}function jI(e,t){let[s,n]=m.useState(()=>Vg(e));return Ar(()=>{n(Vg(e))},[e.type,e.as]),Ar(()=>{s||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&n("button")},[s,t]),s}let SI=Symbol();function Nf(...e){let t=m.useRef(e);m.useEffect(()=>{t.current=e},[e]);let s=Is(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)});return e.every(n=>n==null||(n==null?void 0:n[SI]))?void 0:s}function Bg(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}var kI=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(kI||{}),NI=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(NI||{});function Na({ourProps:e,theirProps:t,slot:s,defaultTag:n,features:r,visible:i=!0,name:o,mergeRefs:l}){l=l??_I;let c=bb(t,e);if(i)return ao(c,s,n,o,l);let u=r??0;if(u&2){let{static:d=!1,...h}=c;if(d)return ao(h,s,n,o,l)}if(u&1){let{unmount:d=!0,...h}=c;return wb(d?0:1,{0(){return null},1(){return ao({...h,hidden:!0,style:{display:"none"}},s,n,o,l)}})}return ao(c,s,n,o,l)}function ao(e,t={},s,n,r){let{as:i=s,children:o,refName:l="ref",...c}=Hc(e,["unmount","static"]),u=e.ref!==void 0?{[l]:e.ref}:{},d=typeof o=="function"?o(t):o;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t));let h={};if(t){let f=!1,p=[];for(let[v,y]of Object.entries(t))typeof y=="boolean"&&(f=!0),y===!0&&p.push(v);f&&(h["data-headlessui-state"]=p.join(" "))}if(i===m.Fragment&&Object.keys(jd(c)).length>0){if(!m.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`));let f=d.props,p=typeof(f==null?void 0:f.className)=="function"?(...y)=>Bg(f==null?void 0:f.className(...y),c.className):Bg(f==null?void 0:f.className,c.className),v=p?{className:p}:{};return m.cloneElement(d,Object.assign({},bb(d.props,jd(Hc(c,["ref"]))),h,u,{ref:r(d.ref,u.ref)},v))}return m.createElement(i,Object.assign({},Hc(c,["ref"]),i!==m.Fragment&&u,i!==m.Fragment&&h),d)}function _I(...e){return e.every(t=>t==null)?void 0:t=>{for(let s of e)s!=null&&(typeof s=="function"?s(t):s.current=t)}}function bb(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},s={};for(let n of e)for(let r in n)r.startsWith("on")&&typeof n[r]=="function"?(s[r]!=null||(s[r]=[]),s[r].push(n[r])):t[r]=n[r];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(s).map(n=>[n,void 0])));for(let n in s)Object.assign(t,{[n](r,...i){let o=s[n];for(let l of o){if((r instanceof Event||(r==null?void 0:r.nativeEvent)instanceof Event)&&r.defaultPrevented)return;l(r,...i)}}});return t}function ql(e){var t;return Object.assign(m.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function jd(e){let t=Object.assign({},e);for(let s in t)t[s]===void 0&&delete t[s];return t}function Hc(e,t=[]){let s=Object.assign({},e);for(let n of t)n in s&&delete s[n];return s}let EI="div";var jb=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(jb||{});function CI(e,t){var s;let{features:n=1,...r}=e,i={ref:t,"aria-hidden":(n&2)===2?!0:(s=r["aria-hidden"])!=null?s:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return Na({ourProps:i,theirProps:r,slot:{},defaultTag:EI,name:"Hidden"})}let TI=ql(CI);function PI(e){let t=e.parentElement,s=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(s=t),t=t.parentElement;let n=(t==null?void 0:t.getAttribute("disabled"))==="";return n&&AI(s)?!1:n}function AI(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}function RI(e){var t,s;let n=(t=e==null?void 0:e.form)!=null?t:e.closest("form");if(n){for(let r of n.elements)if(r!==e&&(r.tagName==="INPUT"&&r.type==="submit"||r.tagName==="BUTTON"&&r.type==="submit"||r.nodeName==="INPUT"&&r.type==="image")){r.click();return}(s=n.requestSubmit)==null||s.call(n)}}var Sd=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Sd||{});let Sb=m.createContext(null);function kb(){let e=m.useContext(Sb);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,kb),t}return e}function OI(){let[e,t]=m.useState([]);return[e.length>0?e.join(" "):void 0,m.useMemo(()=>function(s){let n=Is(i=>(t(o=>[...o,i]),()=>t(o=>{let l=o.slice(),c=l.indexOf(i);return c!==-1&&l.splice(c,1),l}))),r=m.useMemo(()=>({register:n,slot:s.slot,name:s.name,props:s.props}),[n,s.slot,s.name,s.props]);return ne.createElement(Sb.Provider,{value:r},s.children)},[t])]}let II="p";function DI(e,t){let s=kf(),{id:n=`headlessui-description-${s}`,...r}=e,i=kb(),o=Nf(t);Ar(()=>i.register(n),[n,i.register]);let l={ref:o,...i.props,id:n};return Na({ourProps:l,theirProps:r,slot:i.slot||{},defaultTag:II,name:i.name||"Description"})}let LI=ql(DI),MI=Object.assign(LI,{}),Nb=m.createContext(null);function _b(){let e=m.useContext(Nb);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,_b),t}return e}function $I(){let[e,t]=m.useState([]);return[e.length>0?e.join(" "):void 0,m.useMemo(()=>function(s){let n=Is(i=>(t(o=>[...o,i]),()=>t(o=>{let l=o.slice(),c=l.indexOf(i);return c!==-1&&l.splice(c,1),l}))),r=m.useMemo(()=>({register:n,slot:s.slot,name:s.name,props:s.props}),[n,s.slot,s.name,s.props]);return ne.createElement(Nb.Provider,{value:r},s.children)},[t])]}let FI="label";function UI(e,t){let s=kf(),{id:n=`headlessui-label-${s}`,passive:r=!1,...i}=e,o=_b(),l=Nf(t);Ar(()=>o.register(n),[n,o.register]);let c={ref:l,...o.props,id:n};return r&&("onClick"in c&&(delete c.htmlFor,delete c.onClick),"onClick"in i&&delete i.onClick),Na({ourProps:c,theirProps:i,slot:o.slot||{},defaultTag:FI,name:o.name||"Label"})}let zI=ql(UI),VI=Object.assign(zI,{}),_f=m.createContext(null);_f.displayName="GroupContext";let BI=m.Fragment;function qI(e){var t;let[s,n]=m.useState(null),[r,i]=$I(),[o,l]=OI(),c=m.useMemo(()=>({switch:s,setSwitch:n,labelledby:r,describedby:o}),[s,n,r,o]),u={},d=e;return ne.createElement(l,{name:"Switch.Description"},ne.createElement(i,{name:"Switch.Label",props:{htmlFor:(t=c.switch)==null?void 0:t.id,onClick(h){s&&(h.currentTarget.tagName==="LABEL"&&h.preventDefault(),s.click(),s.focus({preventScroll:!0}))}}},ne.createElement(_f.Provider,{value:c},Na({ourProps:u,theirProps:d,defaultTag:BI,name:"Switch.Group"}))))}let WI="button";function HI(e,t){var s;let n=kf(),{id:r=`headlessui-switch-${n}`,checked:i,defaultChecked:o=!1,onChange:l,disabled:c=!1,name:u,value:d,form:h,...f}=e,p=m.useContext(_f),v=m.useRef(null),y=Nf(v,t,p===null?null:p.setSwitch),[b,g]=xI(i,l,o),x=Is(()=>g==null?void 0:g(!b)),w=Is(P=>{if(PI(P.currentTarget))return P.preventDefault();P.preventDefault(),x()}),S=Is(P=>{P.key===Sd.Space?(P.preventDefault(),x()):P.key===Sd.Enter&&RI(P.currentTarget)}),j=Is(P=>P.preventDefault()),k=m.useMemo(()=>({checked:b}),[b]),_={id:r,ref:y,role:"switch",type:jI(e,v),tabIndex:e.tabIndex===-1?0:(s=e.tabIndex)!=null?s:0,"aria-checked":b,"aria-labelledby":p==null?void 0:p.labelledby,"aria-describedby":p==null?void 0:p.describedby,disabled:c,onClick:w,onKeyUp:S,onKeyPress:j},E=yI();return m.useEffect(()=>{var P;let D=(P=v.current)==null?void 0:P.closest("form");D&&o!==void 0&&E.addEventListener(D,"reset",()=>{g(o)})},[v,g]),ne.createElement(ne.Fragment,null,u!=null&&b&&ne.createElement(TI,{features:jb.Hidden,...jd({as:"input",type:"checkbox",hidden:!0,readOnly:!0,disabled:c,form:h,checked:b,name:u,value:d})}),Na({ourProps:_,theirProps:f,slot:k,defaultTag:WI,name:"Switch"}))}let GI=ql(HI),KI=qI,xn=Object.assign(GI,{Group:KI,Label:VI,Description:MI});const JI=[{name:"Free",price:"$0",description:"Perfect for getting started",features:["Basic progress tracking","Up to 5 documents","Standard support","Basic analytics"],buttonText:"Current Plan",isPopular:!1}],YI=()=>{const[e,t]=m.useState(null),[s,n]=m.useState(""),[r,i]=m.useState(""),[o,l]=m.useState(""),[c,u]=m.useState(""),[d,h]=m.useState(!1),[f,p]=m.useState({type:"",text:""}),[v,y]=m.useState(!1),[b,g]=m.useState(!1),[x,w]=m.useState(!1),[S,j]=m.useState(""),[k,_]=m.useState(""),[E,P]=m.useState(""),[D,A]=m.useState(""),[F,O]=m.useState("Free"),[R,C]=m.useState(null),[I,M]=m.useState(""),[T,L]=m.useState(null),[z,G]=m.useState(""),[H,ge]=m.useState("idle"),[ye,Re]=m.useState(""),[Oe,Et]=m.useState([]),[Ta,gt]=m.useState(!1),[tn,Ct]=m.useState(""),[Ln,sn]=m.useState(""),[nn,Vr]=m.useState(""),[Kl,es]=m.useState("idle"),[Mn,ts]=m.useState(""),{supervisorReviews:$n,saoFeedback:q,relationships:J,userSkills:je,toggleSupervisorReviews:ke,toggleSaoFeedback:zt,toggleRelationships:Pa,toggleUserSkills:Aa}=vb();m.useEffect(()=>{(async()=>{var re,Ee;const{data:{user:W}}=await N.auth.getUser();if(W){t(W),n(((re=W.user_metadata)==null?void 0:re.full_name)||""),i(W.email||""),l(W.email||""),u(((Ee=W.user_metadata)==null?void 0:Ee.avatar_url)||"");const{data:Ra}=await N.from("eit_profiles").select("id").eq("id",W.id).single(),{data:Oa}=await N.from("supervisor_profiles").select("id").eq("id",W.id).single();Oa?L("supervisor"):Ra&&L("eit")}})()},[]),m.useEffect(()=>{T==="eit"&&e&&Cf(e.id)},[T,e]),m.useEffect(()=>{e&&N.auth.mfa.listFactors().then(({data:U})=>{var re;const W=(re=U==null?void 0:U.all)==null?void 0:re.find(Ee=>Ee.factor_type==="totp"&&Ee.status==="verified");gt(!!W)})},[e]);const Fb=U=>U.split(" ").map(W=>W[0]).join("").toUpperCase(),Ub=async()=>{if(!(!R||!e)){h(!0);try{const U=R.name.split(".").pop(),W=`${e.id}.${U}`,{error:re}=await N.storage.from("avatars").upload(W,R,{upsert:!0});if(re)throw re;const{data:Ee}=N.storage.from("avatars").getPublicUrl(W),Ra=Ee.publicUrl,{error:Oa}=await N.auth.updateUser({data:{...e.user_metadata,avatar_url:Ra}});if(Oa)throw Oa;u(Ra),p({type:"success",text:"Profile picture updated!"}),C(null),M("")}catch{p({type:"error",text:"Failed to update avatar."})}finally{h(!1)}}},zb=async()=>{if(e){h(!0);try{const{error:U}=await N.auth.updateUser({data:{...e.user_metadata,avatar_url:""}});if(U)throw U;u(""),p({type:"success",text:"Profile picture removed."})}catch{p({type:"error",text:"Failed to remove avatar."})}finally{h(!1)}}},Vb=async U=>{U.preventDefault(),h(!0),p({type:"",text:""});try{const W={};v&&(W.data={full_name:s}),b&&o!==r&&(W.email=o);const{error:re}=await N.auth.updateUser(W);if(re)throw re;p({type:"success",text:"Profile updated successfully!"}),y(!1),g(!1);const{data:{user:Ee}}=await N.auth.getUser();Ee&&(t(Ee),i(Ee.email||""),l(Ee.email||""))}catch(W){p({type:"error",text:"Failed to update profile. Please try again."}),console.error("Error updating profile:",W)}finally{h(!1)}},Cf=async U=>{const{data:W}=await N.from("supervisor_eit_relationships").select("supervisor_profiles (id, full_name, email)").eq("eit_id",U).eq("status","active");W&&Et(W.map(re=>re.supervisor_profiles).filter(re=>re))};return a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("section",{className:"card p-6 flex flex-col md:flex-row gap-6 items-center",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsxs("div",{className:"relative",children:[I||c?a.jsx("img",{src:I||c,className:"w-24 h-24 rounded-full object-cover bg-slate-100",alt:"Profile"}):a.jsx("div",{className:"w-24 h-24 rounded-full bg-teal-500 flex items-center justify-center text-white text-3xl font-bold",children:Fb(s||r)}),(I||c)&&a.jsx("button",{className:"absolute -top-2 -right-2 bg-slate-100 rounded-full p-1 shadow hover:bg-slate-200",onClick:zb,disabled:d,title:"Remove profile picture",style:{zIndex:10},children:a.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",className:"text-red-600",children:a.jsx("path",{d:"M6 6l8 8M6 14L14 6",strokeWidth:"2"})})})]}),R&&a.jsx("button",{className:"btn btn-primary mt-2",onClick:Ub,disabled:d,children:d?"Uploading...":"Save Photo"})]}),a.jsxs("form",{className:"flex-1 space-y-4",onSubmit:Vb,children:[a.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[a.jsx(tb,{})," Profile Information",T&&a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${T==="eit"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:T.toUpperCase()})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fullName",className:"label",children:"Full Name"}),v?a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{type:"text",id:"fullName",value:s,onChange:U=>n(U.target.value),className:"input",placeholder:"Enter your full name"}),a.jsx("div",{className:"flex space-x-2",children:a.jsx("button",{type:"button",onClick:()=>y(!1),className:"btn btn-secondary",children:"Cancel"})})]}):a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{children:s||"Not set"}),a.jsx("button",{type:"button",onClick:()=>y(!0),className:"text-sm text-teal-600 hover:text-teal-700",children:"Edit"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"label",children:"Email Address"}),b?a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{type:"email",id:"newEmail",value:o,onChange:U=>l(U.target.value),className:"input",placeholder:"Enter your new email"}),a.jsx("p",{className:"text-sm text-slate-500",children:"After changing your email, you'll need to use the new email address to log in."}),a.jsx("div",{className:"flex space-x-2",children:a.jsx("button",{type:"button",onClick:()=>g(!1),className:"btn btn-secondary",children:"Cancel"})})]}):a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{children:r}),a.jsx("button",{type:"button",onClick:()=>g(!0),className:"text-sm text-teal-600 hover:text-teal-700",children:"Edit"})]})]}),(v||b)&&a.jsx("button",{type:"submit",disabled:d,className:"btn btn-primary",children:d?"Saving...":"Save Changes"})]})]}),a.jsxs("section",{className:"card p-6",children:[a.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[a.jsx(Kw,{})," Security"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"label",children:"Password"}),x?a.jsxs("div",{className:"space-y-4",children:[a.jsx("input",{type:"password",id:"currentPassword",value:S,onChange:U=>j(U.target.value),className:"input",placeholder:"Current password"}),a.jsx("input",{type:"password",id:"newPassword",value:k,onChange:U=>_(U.target.value),className:"input",placeholder:"New password"}),a.jsx("input",{type:"password",id:"confirmPassword",value:E,onChange:U=>P(U.target.value),className:"input",placeholder:"Confirm new password"}),D&&a.jsx("p",{className:"text-sm text-red-600",children:D}),a.jsx("div",{className:"flex space-x-2",children:a.jsx("button",{type:"button",onClick:()=>w(!1),className:"btn btn-secondary",children:"Cancel"})})]}):a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{children:"••••••••"}),a.jsx("button",{type:"button",onClick:()=>w(!0),className:"text-sm text-teal-600 hover:text-teal-700",children:"Change"})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"label",children:"Two-Factor Authentication"}),Ta?a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("span",{className:"text-green-700 font-medium",children:"Enabled (TOTP)"}),a.jsx("button",{className:"btn btn-danger w-fit",onClick:async()=>{var U;es("idle"),ts("");try{const{data:W}=await N.auth.mfa.listFactors(),re=(U=W==null?void 0:W.all)==null?void 0:U.find(Ee=>Ee.factor_type==="totp"&&Ee.status==="verified");re&&(await N.auth.mfa.unenroll({factorId:re.id}),gt(!1))}catch{ts("Failed to disable 2FA.")}},children:"Disable 2FA"}),Mn&&a.jsx("span",{className:"text-red-600 text-sm",children:Mn})]}):Kl==="enrolling"?a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("span",{children:"Scan this QR code with your authenticator app:"}),tn&&a.jsx("img",{src:tn,alt:"TOTP QR Code",className:"w-40 h-40"}),a.jsx("input",{type:"text",className:"input mt-2",placeholder:"Enter 6-digit code",value:nn,onChange:U=>Vr(U.target.value),maxLength:6}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"btn btn-primary w-fit",onClick:async()=>{es("verifying"),ts("");try{const{data:U,error:W}=await N.auth.mfa.challenge({factorId:Ln});if(W)throw W;const{error:re}=await N.auth.mfa.verify({factorId:Ln,challengeId:U.id,code:nn});if(re)throw re;gt(!0),es("enabled")}catch{ts("Invalid code. Please try again."),es("enrolling")}},disabled:nn.length!==6,children:"Verify"}),a.jsx("button",{className:"btn btn-secondary w-fit",onClick:async()=>{es("idle"),Ct(""),sn(""),Vr(""),ts("");try{const{data:U}=await N.auth.mfa.listFactors();if(U!=null&&U.all)for(const W of U.all)W.factor_type==="totp"&&W.status!=="verified"&&await N.auth.mfa.unenroll({factorId:W.id})}catch{}},children:"Cancel"})]}),Mn&&a.jsx("span",{className:"text-red-600 text-sm",children:Mn})]}):a.jsx("button",{className:"btn btn-primary w-fit",onClick:async()=>{es("enrolling"),ts(""),Ct(""),sn(""),Vr("");try{const{data:U}=await N.auth.mfa.listFactors();if(U!=null&&U.all)for(const W of U.all)W.factor_type==="totp"&&W.status!=="verified"&&await N.auth.mfa.unenroll({factorId:W.id})}catch{}try{const{data:U,error:W}=await N.auth.mfa.enroll({factorType:"totp"});if(W)throw W;Ct(U.totp.qr_code),sn(U.id)}catch{ts("Failed to start 2FA enrollment."),es("idle")}},children:"Set up Two-Factor Authentication"})]})]})]}),T==="eit"&&a.jsxs("section",{className:"card p-6",children:[a.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[a.jsx(Jw,{})," Supervisor Connections"]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-3",children:"Current Connections"}),Oe.length===0?a.jsx("div",{className:"text-slate-400",children:"No active supervisor connections."}):a.jsx("ul",{className:"divide-y divide-slate-200",children:Oe.map(U=>a.jsxs("li",{className:"py-2 flex flex-col md:flex-row md:items-center md:justify-between",children:[a.jsx("span",{className:"font-medium text-slate-800",children:U.full_name}),a.jsx("span",{className:"text-slate-500 text-sm",children:U.email})]},U.id))})]}),a.jsx("div",{className:"border-t border-slate-200 my-4"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-3",children:"Connect with a New Supervisor"}),a.jsxs("form",{className:"flex flex-col md:flex-row gap-4 items-start md:items-end",onSubmit:async U=>{if(U.preventDefault(),ge("idle"),Re(""),!!z){h(!0);try{const{data:W}=await N.from("supervisor_profiles").select("id, email, full_name").eq("email",z).single();if(!W){ge("notfound"),Re("No supervisor found with that email."),h(!1);return}const{data:re}=await N.from("supervisor_eit_relationships").select("id, status").eq("supervisor_id",W.id).eq("eit_id",e==null?void 0:e.id).maybeSingle();if(re&&re.status==="pending"){ge("pending"),Re("A request is already pending for this supervisor."),h(!1);return}if(re&&re.status==="active"){ge("already"),Re("This supervisor is already connected."),h(!1);return}const{error:Ee}=await N.from("supervisor_eit_relationships").upsert({supervisor_id:W.id,eit_id:e==null?void 0:e.id,status:"pending",created_at:new Date().toISOString(),updated_at:new Date().toISOString()});if(Ee)throw Ee;ge("success"),Re("Request sent! Your supervisor will see it in their dashboard."),G(""),e&&Cf(e.id)}catch(W){console.error(W),ge("error"),Re("Failed to send request. Please try again.")}finally{h(!1)}}},children:[a.jsxs("div",{className:"flex-1 w-full",children:[a.jsx("label",{htmlFor:"supervisorEmail",className:"label",children:"Supervisor Email"}),a.jsx("input",{type:"email",id:"supervisorEmail",value:z,onChange:U=>G(U.target.value),className:"input w-full",placeholder:"Enter supervisor's email",required:!0})]}),a.jsx("button",{type:"submit",className:"btn btn-primary whitespace-nowrap",disabled:d,children:d?"Sending...":"Send Request"})]}),ye&&a.jsx("div",{className:`mt-3 text-sm p-2 rounded-md ${H==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:ye})]})]})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ra,{className:"h-6 w-6 text-gray-400 mr-2"}),a.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Notification Preferences"})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Supervisor Reviews"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when you receive new reviews or updates"})]}),a.jsx(xn,{checked:$n,onChange:ke,className:`${$n?"bg-teal-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2`,children:a.jsx("span",{className:`${$n?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"SAO Feedback"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when you receive feedback on your SAOs"})]}),a.jsx(xn,{checked:q,onChange:zt,className:`${q?"bg-teal-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2`,children:a.jsx("span",{className:`${q?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Relationship Updates"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when your supervisor relationship status changes"})]}),a.jsx(xn,{checked:J,onChange:Pa,className:`${J?"bg-teal-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2`,children:a.jsx("span",{className:`${J?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Skill Updates"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when your skills are updated or approved"})]}),a.jsx(xn,{checked:je,onChange:Aa,className:`${je?"bg-teal-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2`,children:a.jsx("span",{className:`${je?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]})]})]}),a.jsxs("section",{className:"card p-6",children:[a.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[a.jsx(ra,{})," Notifications"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Coming soon: Manage your email and in-app notification preferences."})]}),a.jsxs("section",{className:"card p-6",children:[a.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[a.jsx(eb,{})," Appearance"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Coming soon: Switch between light and dark mode."})]}),a.jsxs("section",{className:"card p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Subscription Plan"}),a.jsx("div",{className:"grid gap-6 md:grid-cols-1",children:JI.map(U=>a.jsxs("div",{className:`relative rounded-lg border ${U.isPopular?"border-teal-500":"border-slate-200"} p-6`,children:[U.isPopular&&a.jsx("span",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-teal-500 text-white px-3 py-1 rounded-full text-sm",children:"Most Popular"}),a.jsx("h3",{className:"text-lg font-semibold",children:U.name}),a.jsx("div",{className:"mt-2 flex items-baseline",children:a.jsx("span",{className:"text-2xl font-bold",children:U.price})}),a.jsx("p",{className:"mt-2 text-sm text-slate-500",children:U.description}),a.jsx("ul",{className:"mt-4 space-y-2",children:U.features.map(W=>a.jsxs("li",{className:"flex items-center",children:[a.jsx(Hw,{className:"h-4 w-4 text-teal-500 mr-2"}),a.jsx("span",{className:"text-sm text-slate-600",children:W})]},W))}),a.jsx("button",{className:`mt-6 w-full rounded-md px-4 py-2 text-sm font-medium ${U.isPopular?"bg-teal-600 text-white hover:bg-teal-700":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,disabled:!0,children:U.buttonText})]},U.name))})]}),a.jsxs("section",{className:"card p-6 border-red-200",children:[a.jsxs("h2",{className:"text-lg font-semibold text-red-600 flex items-center gap-2 mb-2",children:[a.jsx(zr,{})," Danger Zone"]}),a.jsx("button",{className:"btn btn-danger",children:"Delete Account"}),a.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"This action is irreversible. Your data will be permanently deleted."})]}),f.text&&a.jsx("div",{className:`fixed bottom-4 right-4 p-4 rounded-md z-50 ${f.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:f.text})]})})},Wl=async(e,t,s,n,r)=>{try{const{error:i}=await N.from("notifications").insert({user_id:e,type:t,title:s,message:n,data:r,read:!1});if(i)throw i;return!0}catch(i){return console.error("Error sending notification:",i),!1}},XI=async(e,t,s)=>Wl(e,"score","New Skill Score",`You received a score of ${s} for ${t}.`,{type:"skill_score",skillName:t,score:s}),QI=async(e,t,s)=>Wl(e,"validation_request","New Skill Validation Request",`${t} has requested your validation for ${s}.`,{type:"validation_request",skillName:s}),ZI=async(e,t,s)=>Wl(e,"score","New SAO Score",`You received a score of ${s} for your SAO: "${t}".`,{type:"sao_score",saoTitle:t,score:s}),e4=async(e,t,s)=>Wl(e,"validation_request","New SAO Validation Request",`${t} has requested your validation for SAO: "${s}".`,{type:"sao_validation_request",saoTitle:s}),Hl=Ut((e,t)=>({saos:[],loading:!1,error:null,lastFetched:null,clearState:()=>e({saos:[],loading:!1,error:null,lastFetched:null}),createSAO:async(s,n,r)=>{var i;e({loading:!0,error:null});try{console.log("Creating new SAO...");const{data:{user:o},error:l}=await N.auth.getUser();if(l)throw console.error("Auth error:",l),new Error("Authentication error: "+l.message);if(!o)throw new Error("No authenticated user found");await N.from("eit_profiles").upsert({id:o.id,full_name:((i=o.user_metadata)==null?void 0:i.full_name)||"",email:o.email||""}),console.log("Creating SAO:",{title:s,content:n,skills:r,eit_id:o.id});const{data:c,error:u}=await N.from("saos").insert([{eit_id:o.id,title:s,content:n}]).select().single();if(u)throw console.error("Error creating SAO:",{error:u,message:u.message,details:u.details,hint:u.hint,code:u.code}),u;console.log("SAO created successfully:",c);const d=r.map(f=>({sao_id:c.id,skill_id:f.id,category_name:f.category_name||""}));console.log("Creating SAO skills relationships:",d);const{error:h}=await N.from("sao_skills").insert(d);if(h)throw console.error("Error creating SAO skills:",{error:h,message:h.message,details:h.details,hint:h.hint,code:h.code}),h;console.log("SAO skills created successfully"),await t().loadUserSAOs()}catch(o){throw console.error("Error in createSAO:",{error:o,message:o.message,details:o.details,hint:o.hint}),e({error:`Failed to create SAO: ${o.message||"Unknown error"}`}),o}finally{e({loading:!1})}},updateSAO:async(s,n,r,i)=>{e({loading:!0,error:null});try{console.log("Updating SAO:",{id:s,title:n,content:r,skills:i});const{data:{user:o},error:l}=await N.auth.getUser();if(l)throw console.error("Auth error:",l),new Error("Authentication error: "+l.message);if(!o)throw new Error("No authenticated user found");const{error:c}=await N.from("saos").update({title:n,content:r}).eq("id",s).eq("eit_id",o.id);if(c)throw console.error("Error updating SAO:",c),c;const{error:u}=await N.from("sao_skills").delete().eq("sao_id",s);if(u)throw console.error("Error deleting existing SAO skills:",u),u;const d=i.map(f=>({sao_id:s,skill_id:f.id,category_name:f.category_name||""})),{error:h}=await N.from("sao_skills").insert(d);if(h)throw console.error("Error updating SAO skills:",h),h;await t().loadUserSAOs()}catch(o){throw console.error("Error in updateSAO:",{error:o,message:o.message,details:o.details,hint:o.hint}),e({error:`Failed to update SAO: ${o.message||"Unknown error"}`}),o}finally{e({loading:!1})}},deleteSAO:async s=>{e({loading:!0,error:null});try{console.log("Deleting SAO:",s);const{data:{user:n},error:r}=await N.auth.getUser();if(r)throw console.error("Auth error:",r),new Error("Authentication error: "+r.message);if(!n)throw new Error("No authenticated user found");const{error:i}=await N.from("sao_skills").delete().eq("sao_id",s);if(i)throw console.error("Error deleting SAO skills:",i),i;const{error:o}=await N.from("saos").delete().eq("id",s).eq("eit_id",n.id);if(o)throw console.error("Error deleting SAO:",o),o;e(l=>({saos:l.saos.filter(c=>c.id!==s)}))}catch(n){throw console.error("Error in deleteSAO:",{error:n,message:n.message,details:n.details,hint:n.hint}),e({error:`Failed to delete SAO: ${n.message||"Unknown error"}`}),n}finally{e({loading:!1})}},requestFeedback:async(s,n)=>{var r;e({loading:!0,error:null});try{const{data:{user:i}}=await N.auth.getUser();if(!i)throw new Error("No authenticated user found");const{data:o}=await N.from("saos").select("title").eq("id",s).single();await N.from("sao_feedback").insert([{sao_id:s,supervisor_id:n,feedback:"",status:"pending"}]),await e4(n,((r=i.user_metadata)==null?void 0:r.full_name)||i.email,(o==null?void 0:o.title)||"SAO"),await t().loadUserSAOs(!0)}catch(i){throw e({error:`Failed to request feedback: ${i.message||"Unknown error"}`}),i}finally{e({loading:!1})}},submitFeedback:async(s,n)=>{e({loading:!0,error:null});try{const{data:{user:r}}=await N.auth.getUser();if(!r)throw new Error("No authenticated user found");const{data:i}=await N.from("saos").select("eit_id, title").eq("id",s).single();await N.from("sao_feedback").update({feedback:n,status:"submitted"}).eq("sao_id",s).eq("supervisor_id",r.id),i!=null&&i.eit_id&&await ZI(i.eit_id,(i==null?void 0:i.title)||"SAO",1),await t().loadUserSAOs(!0)}catch(r){throw e({error:`Failed to submit feedback: ${r.message||"Unknown error"}`}),r}finally{e({loading:!1})}},resolveFeedback:async s=>{e({loading:!0,error:null});try{const{error:n}=await N.from("sao_feedback").update({status:"resolved"}).eq("id",s);if(n)throw n;await t().loadUserSAOs(!0)}catch(n){throw e({error:`Failed to resolve feedback: ${n.message||"Unknown error"}`}),n}finally{e({loading:!1})}},loadUserSAOs:async(s=!1)=>{const n=Date.now(),r=t().lastFetched;if(!(!s&&r&&n-r<5*60*1e3)){e({loading:!0,error:null});try{console.log("Loading user SAOs...");const{data:{user:i},error:o}=await N.auth.getUser();if(o)throw console.error("Auth error:",o),new Error("Authentication error: "+o.message);if(!i)throw new Error("No authenticated user found");console.log("Fetching SAOs for user:",i.id);const{data:l,error:c}=await N.from("saos").select(`
          *,
          sao_skills (
            skill_id,
            category_name
          ),
          sao_feedback:sao_feedback_sao_id_fkey (
            id,
            supervisor_id,
            feedback,
            status,
            created_at,
            updated_at
          )
        `).eq("eit_id",i.id).order("created_at",{ascending:!1});if(c)throw console.error("Error fetching SAOs:",c),c;console.log("SAOs fetched:",l==null?void 0:l.length);const u=(l==null?void 0:l.map(d=>({...d,skills:d.sao_skills.map(h=>({id:h.skill_id,name:"",category_name:h.category_name,status:"not-started"})),feedback:d.sao_feedback||[]})))||[];console.log("Transformed SAOs:",u.length),e({saos:u,lastFetched:n})}catch(i){throw console.error("Error in loadUserSAOs:",{error:i,message:i.message,details:i.details,hint:i.hint}),e({error:`Failed to load SAOs: ${i.message||"Unknown error"}`}),i}finally{e({loading:!1})}}}}));var qg;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(qg||(qg={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wg;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(Wg||(Wg={}));var Hg;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Hg||(Hg={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg=["user","model","function","system"];var Kg;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Kg||(Kg={}));var Jg;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Jg||(Jg={}));var Yg;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Yg||(Yg={}));var Xg;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(Xg||(Xg={}));var Ci;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(Ci||(Ci={}));var Qg;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(Qg||(Qg={}));var Zg;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(Zg||(Zg={}));var e0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(e0||(e0={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class qn extends Ve{constructor(t,s){super(t),this.response=s}}class Eb extends Ve{constructor(t,s,n,r){super(t),this.status=s,this.statusText=n,this.errorDetails=r}}class qs extends Ve{}class Cb extends Ve{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4="https://generativelanguage.googleapis.com",s4="v1beta",n4="0.24.1",r4="genai-js";var Cn;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Cn||(Cn={}));class i4{constructor(t,s,n,r,i){this.model=t,this.task=s,this.apiKey=n,this.stream=r,this.requestOptions=i}toString(){var t,s;const n=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||s4;let i=`${((s=this.requestOptions)===null||s===void 0?void 0:s.baseUrl)||t4}/${n}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}function a4(e){const t=[];return e!=null&&e.apiClient&&t.push(e.apiClient),t.push(`${r4}/${n4}`),t.join(" ")}async function o4(e){var t;const s=new Headers;s.append("Content-Type","application/json"),s.append("x-goog-api-client",a4(e.requestOptions)),s.append("x-goog-api-key",e.apiKey);let n=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(n){if(!(n instanceof Headers))try{n=new Headers(n)}catch(r){throw new qs(`unable to convert customHeaders value ${JSON.stringify(n)} to Headers: ${r.message}`)}for(const[r,i]of n.entries()){if(r==="x-goog-api-key")throw new qs(`Cannot set reserved header name ${r}`);if(r==="x-goog-api-client")throw new qs(`Header name ${r} can only be set using the apiClient field`);s.append(r,i)}}return s}async function l4(e,t,s,n,r,i){const o=new i4(e,t,s,n,i);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},h4(i)),{method:"POST",headers:await o4(o),body:r})}}async function _a(e,t,s,n,r,i={},o=fetch){const{url:l,fetchOptions:c}=await l4(e,t,s,n,r,i);return c4(l,c,o)}async function c4(e,t,s=fetch){let n;try{n=await s(e,t)}catch(r){u4(r,e)}return n.ok||await d4(n,e),n}function u4(e,t){let s=e;throw s.name==="AbortError"?(s=new Cb(`Request aborted when fetching ${t.toString()}: ${e.message}`),s.stack=e.stack):e instanceof Eb||e instanceof qs||(s=new Ve(`Error fetching from ${t.toString()}: ${e.message}`),s.stack=e.stack),s}async function d4(e,t){let s="",n;try{const r=await e.json();s=r.error.message,r.error.details&&(s+=` ${JSON.stringify(r.error.details)}`,n=r.error.details)}catch{}throw new Eb(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${s}`,e.status,e.statusText,n)}function h4(e){const t={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const s=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>s.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{s.abort()}),t.signal=s.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Co(e.candidates[0]))throw new qn(`${_s(e)}`,e);return f4(e)}else if(e.promptFeedback)throw new qn(`Text not available. ${_s(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Co(e.candidates[0]))throw new qn(`${_s(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),t0(e)[0]}else if(e.promptFeedback)throw new qn(`Function call not available. ${_s(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Co(e.candidates[0]))throw new qn(`${_s(e)}`,e);return t0(e)}else if(e.promptFeedback)throw new qn(`Function call not available. ${_s(e)}`,e)},e}function f4(e){var t,s,n,r;const i=[];if(!((s=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||s===void 0)&&s.parts)for(const o of(r=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||r===void 0?void 0:r.parts)o.text&&i.push(o.text),o.executableCode&&i.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&i.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}function t0(e){var t,s,n,r;const i=[];if(!((s=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||s===void 0)&&s.parts)for(const o of(r=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||r===void 0?void 0:r.parts)o.functionCall&&i.push(o.functionCall);if(i.length>0)return i}const m4=[Ci.RECITATION,Ci.SAFETY,Ci.LANGUAGE];function Co(e){return!!e.finishReason&&m4.includes(e.finishReason)}function _s(e){var t,s,n;let r="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)r+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(r+=` due to ${e.promptFeedback.blockReason}`),!((s=e.promptFeedback)===null||s===void 0)&&s.blockReasonMessage&&(r+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((n=e.candidates)===null||n===void 0)&&n[0]){const i=e.candidates[0];Co(i)&&(r+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(r+=`: ${i.finishMessage}`))}return r}function da(e){return this instanceof da?(this.v=e,this):new da(e)}function p4(e,t,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=s.apply(e,t||[]),r,i=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(f){n[f]&&(r[f]=function(p){return new Promise(function(v,y){i.push([f,p,v,y])>1||l(f,p)})})}function l(f,p){try{c(n[f](p))}catch(v){h(i[0][3],v)}}function c(f){f.value instanceof da?Promise.resolve(f.value.v).then(u,d):h(i[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,p){f(p),i.shift(),i.length&&l(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function g4(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),s=y4(t),[n,r]=s.tee();return{stream:v4(n),response:x4(r)}}async function x4(e){const t=[],s=e.getReader();for(;;){const{done:n,value:r}=await s.read();if(n)return Ef(w4(t));t.push(r)}}function v4(e){return p4(this,arguments,function*(){const s=e.getReader();for(;;){const{value:n,done:r}=yield da(s.read());if(r)break;yield yield da(Ef(n))}})}function y4(e){const t=e.getReader();return new ReadableStream({start(n){let r="";return i();function i(){return t.read().then(({value:o,done:l})=>{if(l){if(r.trim()){n.error(new Ve("Failed to parse stream"));return}n.close();return}r+=o;let c=r.match(s0),u;for(;c;){try{u=JSON.parse(c[1])}catch{n.error(new Ve(`Error parsing JSON response: "${c[1]}"`));return}n.enqueue(u),r=r.substring(c[0].length),c=r.match(s0)}return i()}).catch(o=>{let l=o;throw l.stack=o.stack,l.name==="AbortError"?l=new Cb("Request aborted when reading from the stream"):l=new Ve("Error reading from the stream"),l})}}})}function w4(e){const t=e[e.length-1],s={promptFeedback:t==null?void 0:t.promptFeedback};for(const n of e){if(n.candidates){let r=0;for(const i of n.candidates)if(s.candidates||(s.candidates=[]),s.candidates[r]||(s.candidates[r]={index:r}),s.candidates[r].citationMetadata=i.citationMetadata,s.candidates[r].groundingMetadata=i.groundingMetadata,s.candidates[r].finishReason=i.finishReason,s.candidates[r].finishMessage=i.finishMessage,s.candidates[r].safetyRatings=i.safetyRatings,i.content&&i.content.parts){s.candidates[r].content||(s.candidates[r].content={role:i.content.role||"user",parts:[]});const o={};for(const l of i.content.parts)l.text&&(o.text=l.text),l.functionCall&&(o.functionCall=l.functionCall),l.executableCode&&(o.executableCode=l.executableCode),l.codeExecutionResult&&(o.codeExecutionResult=l.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),s.candidates[r].content.parts.push(o)}r++}n.usageMetadata&&(s.usageMetadata=n.usageMetadata)}return s}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tb(e,t,s,n){const r=await _a(t,Cn.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(s),n);return g4(r)}async function Pb(e,t,s,n){const i=await(await _a(t,Cn.GENERATE_CONTENT,e,!1,JSON.stringify(s),n)).json();return{response:Ef(i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function ha(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const s of e)typeof s=="string"?t.push({text:s}):t.push(s);return b4(t)}function b4(e){const t={role:"user",parts:[]},s={role:"function",parts:[]};let n=!1,r=!1;for(const i of e)"functionResponse"in i?(s.parts.push(i),r=!0):(t.parts.push(i),n=!0);if(n&&r)throw new Ve("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!n&&!r)throw new Ve("No content is provided for sending chat message.");return n?t:s}function j4(e,t){var s;let n={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(s=t==null?void 0:t.cachedContent)===null||s===void 0?void 0:s.name,contents:[]};const r=e.generateContentRequest!=null;if(e.contents){if(r)throw new qs("CountTokensRequest must have one of contents or generateContentRequest, not both.");n.contents=e.contents}else if(r)n=Object.assign(Object.assign({},n),e.generateContentRequest);else{const i=ha(e);n.contents=[i]}return{generateContentRequest:n}}function n0(e){let t;return e.contents?t=e:t={contents:[ha(e)]},e.systemInstruction&&(t.systemInstruction=Ab(e.systemInstruction)),t}function S4(e){return typeof e=="string"||Array.isArray(e)?{content:ha(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],k4={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function N4(e){let t=!1;for(const s of e){const{role:n,parts:r}=s;if(!t&&n!=="user")throw new Ve(`First content should be with role 'user', got ${n}`);if(!Gg.includes(n))throw new Ve(`Each item should include role field. Got ${n} but valid roles are: ${JSON.stringify(Gg)}`);if(!Array.isArray(r))throw new Ve("Content should have 'parts' property with an array of Parts");if(r.length===0)throw new Ve("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const l of r)for(const c of r0)c in l&&(i[c]+=1);const o=k4[n];for(const l of r0)if(!o.includes(l)&&i[l]>0)throw new Ve(`Content with role '${n}' can't contain '${l}' part`);t=!0}}function i0(e){var t;if(e.candidates===void 0||e.candidates.length===0)return!1;const s=(t=e.candidates[0])===null||t===void 0?void 0:t.content;if(s===void 0||s.parts===void 0||s.parts.length===0)return!1;for(const n of s.parts)if(n===void 0||Object.keys(n).length===0||n.text!==void 0&&n.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="SILENT_ERROR";class _4{constructor(t,s,n,r={}){this.model=s,this.params=n,this._requestOptions=r,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,n!=null&&n.history&&(N4(n.history),this._history=n.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,s={}){var n,r,i,o,l,c;await this._sendPromise;const u=ha(t),d={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,u]},h=Object.assign(Object.assign({},this._requestOptions),s);let f;return this._sendPromise=this._sendPromise.then(()=>Pb(this._apiKey,this.model,d,h)).then(p=>{var v;if(i0(p.response)){this._history.push(u);const y=Object.assign({parts:[],role:"model"},(v=p.response.candidates)===null||v===void 0?void 0:v[0].content);this._history.push(y)}else{const y=_s(p.response);y&&console.warn(`sendMessage() was unsuccessful. ${y}. Inspect response object for details.`)}f=p}).catch(p=>{throw this._sendPromise=Promise.resolve(),p}),await this._sendPromise,f}async sendMessageStream(t,s={}){var n,r,i,o,l,c;await this._sendPromise;const u=ha(t),d={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,u]},h=Object.assign(Object.assign({},this._requestOptions),s),f=Tb(this._apiKey,this.model,d,h);return this._sendPromise=this._sendPromise.then(()=>f).catch(p=>{throw new Error(a0)}).then(p=>p.response).then(p=>{if(i0(p)){this._history.push(u);const v=Object.assign({},p.candidates[0].content);v.role||(v.role="model"),this._history.push(v)}else{const v=_s(p);v&&console.warn(`sendMessageStream() was unsuccessful. ${v}. Inspect response object for details.`)}}).catch(p=>{p.message!==a0&&console.error(p)}),f}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E4(e,t,s,n){return(await _a(t,Cn.COUNT_TOKENS,e,!1,JSON.stringify(s),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C4(e,t,s,n){return(await _a(t,Cn.EMBED_CONTENT,e,!1,JSON.stringify(s),n)).json()}async function T4(e,t,s,n){const r=s.requests.map(o=>Object.assign(Object.assign({},o),{model:t}));return(await _a(t,Cn.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:r}),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(t,s,n={}){this.apiKey=t,this._requestOptions=n,s.model.includes("/")?this.model=s.model:this.model=`models/${s.model}`,this.generationConfig=s.generationConfig||{},this.safetySettings=s.safetySettings||[],this.tools=s.tools,this.toolConfig=s.toolConfig,this.systemInstruction=Ab(s.systemInstruction),this.cachedContent=s.cachedContent}async generateContent(t,s={}){var n;const r=n0(t),i=Object.assign(Object.assign({},this._requestOptions),s);return Pb(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},r),i)}async generateContentStream(t,s={}){var n;const r=n0(t),i=Object.assign(Object.assign({},this._requestOptions),s);return Tb(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},r),i)}startChat(t){var s;return new _4(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},t),this._requestOptions)}async countTokens(t,s={}){const n=j4(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),r=Object.assign(Object.assign({},this._requestOptions),s);return E4(this.apiKey,this.model,n,r)}async embedContent(t,s={}){const n=S4(t),r=Object.assign(Object.assign({},this._requestOptions),s);return C4(this.apiKey,this.model,n,r)}async batchEmbedContents(t,s={}){const n=Object.assign(Object.assign({},this._requestOptions),s);return T4(this.apiKey,this.model,t,n)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(t){this.apiKey=t}getGenerativeModel(t,s){if(!t.model)throw new Ve("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new o0(this.apiKey,t,s)}getGenerativeModelFromCachedContent(t,s,n){if(!t.name)throw new qs("Cached content must contain a `name` field.");if(!t.model)throw new qs("Cached content must contain a `model` field.");const r=["model","systemInstruction"];for(const o of r)if(s!=null&&s[o]&&t[o]&&(s==null?void 0:s[o])!==t[o]){if(o==="model"){const l=s.model.startsWith("models/")?s.model.replace("models/",""):s.model,c=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(l===c)continue}throw new qs(`Different value for "${o}" specified in modelParams (${s[o]}) and cachedContent (${t[o]})`)}const i=Object.assign(Object.assign({},s),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new o0(this.apiKey,i,n)}}const A4=({isOpen:e,onClose:t,editSAO:s})=>{const[n,r]=m.useState(""),[i,o]=m.useState(""),[l,c]=m.useState([]),[u,d]=m.useState(!1),[h,f]=m.useState(!1),[p,v]=m.useState(null),[y,b]=m.useState(""),[g,x]=m.useState([]),{skillCategories:w}=Qt(),{createSAO:S,updateSAO:j,loading:k,error:_,requestFeedback:E}=Hl();m.useEffect(()=>{e&&(async()=>{const{data:{user:C}}=await N.auth.getUser();if(!C)return;const{data:I}=await N.from("supervisor_eit_relationships").select(`
          supervisor_id,
          supervisor_profiles (
            id,
            full_name
          )
        `).eq("eit_id",C.id).eq("status","active");I&&x(I.map(M=>({id:M.supervisor_profiles.id,name:M.supervisor_profiles.full_name})))})()},[e]),m.useEffect(()=>{e&&s?(r(s.title),o(s.content),c(s.skills)):e&&(r(""),o(""),c([]))},[e,s]);const P=async R=>{R.preventDefault();try{if(s?await j(s.id,n,i,l):await S(n,i,l),y){const{data:{user:C}}=await N.auth.getUser();if(C){const{data:I}=await N.from("saos").select("id").eq("eit_id",C.id).order("created_at",{ascending:!1}).limit(1).single();I&&await E(I.id,y)}}r(""),o(""),c([]),b(""),t()}catch(C){console.error("Error saving SAO:",C)}},D=async R=>{console.log("Making API call to Gemini...");const I=`You are an expert in writing professional Situation-Action-Outcome (SAO) statements. Please enhance the following SAO statement following these specific guidelines:

1. Structure:
   - Situation: Clearly describe the context, challenge, or problem faced
   - Action: Detail the specific steps taken, emphasizing your personal involvement
   - Outcome: Quantify results and highlight the impact of your actions

2. Best Practices:
   - Use active voice and strong action verbs
   - Include specific metrics and numbers where possible
   - Focus on your personal contributions and leadership
   - Highlight problem-solving and decision-making skills
   - Maintain a professional and confident tone
   - Keep the statement concise but impactful

3. Key Elements to Include:
   - Clear problem statement
   - Specific actions taken
   - Measurable results
   - Skills demonstrated
   - Impact on the organization/team

Please enhance the following SAO statement while maintaining its core message and following these guidelines:

${R}

Format the response as a clear SAO statement with Situation, Action, and Outcome sections clearly separated.`;try{const G=(await(await new P4(void 0).getGenerativeModel({model:"gemini-2.0-flash"}).generateContent(I)).response).text();return console.log("API Response received:",G),G}catch(M){throw console.error("Error in enhanceWithGemini:",M),M}},A=async()=>{if(i.trim()){f(!0);try{console.log("Starting enhancement process...");const R=await D(i);console.log("Enhancement completed:",R),v(R)}catch(R){console.error("Error in handleEnhanceWithAI:",R),alert(R instanceof Error?R.message:"Failed to enhance text. Please try again.")}finally{f(!1)}}},F=()=>{p&&(o(p),v(null))},O=()=>{v(null)};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-8 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-semibold",children:s?"Edit SAO":"Create New SAO"}),a.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600",children:a.jsx(kt,{size:24})})]}),_&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 text-red-700 rounded-md text-sm",children:_}),a.jsxs("form",{onSubmit:P,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-slate-700 mb-2",children:"Title"}),a.jsx("input",{type:"text",id:"title",value:n,onChange:R=>r(R.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 text-lg",placeholder:"Enter SAO title",required:!0,disabled:k})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"sao",className:"block text-sm font-medium text-slate-700 mb-2",children:"Situation-Action-Outcome"}),a.jsxs("div",{className:"relative",children:[a.jsx("textarea",{id:"sao",value:p||i,onChange:R=>{p||o(R.target.value)},className:"w-full px-4 py-3 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 min-h-[400px] text-lg",placeholder:"Describe your situation, actions, and outcomes...",required:!0,disabled:k||h}),a.jsxs("button",{type:"button",onClick:A,disabled:!i.trim()||k||h,className:"absolute top-4 right-4 p-3 text-slate-400 hover:text-teal-600 hover:bg-slate-100 rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed group",title:"Enhance with AI",children:[a.jsxs("div",{className:"relative",children:[a.jsx(xA,{size:24,className:`${h?"animate-pulse":""} transition-transform duration-300 group-hover:scale-110`}),h&&a.jsx("div",{className:"absolute inset-0 animate-ping rounded-full bg-teal-400 opacity-20"})]}),a.jsx("span",{className:"absolute right-full mr-2 top-1/2 -translate-y-1/2 bg-slate-800 text-white px-3 py-1.5 rounded text-sm font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap",children:"Enhance with AI"})]})]}),p&&a.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[a.jsx("span",{className:"text-sm text-slate-600",children:"AI Enhancement Preview"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:F,className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 hover:bg-teal-700 rounded-md transition-all duration-300 hover:scale-105 active:scale-95",children:"Accept"}),a.jsx("button",{type:"button",onClick:O,className:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-800 hover:bg-slate-100 rounded-md transition-all duration-300 hover:scale-105 active:scale-95",children:"Decline"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Relevant Skills"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:l.map(R=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-teal-100 text-teal-800",children:[R.name,a.jsx("button",{type:"button",onClick:()=>c(C=>C.filter(I=>I.id!==R.id)),className:"ml-2 text-teal-600 hover:text-teal-800",disabled:k,children:a.jsx(kt,{size:16})})]},R.id))}),a.jsxs("button",{type:"button",onClick:()=>d(!0),className:"btn btn-secondary w-full flex items-center justify-center gap-2 py-3 text-lg",disabled:k,children:[a.jsx(la,{size:20}),"Select Skills"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Request Supervisor Feedback (Optional)"}),a.jsxs("select",{value:y,onChange:R=>b(R.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 text-lg",disabled:k||g.length===0,children:[a.jsx("option",{value:"",children:"Select a supervisor"}),g.map(R=>a.jsx("option",{value:R.id,children:R.name},R.id))]}),g.length===0&&a.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"No active supervisors found. Connect with a supervisor first."})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[a.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary px-6 py-3 text-lg",disabled:k,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary px-6 py-3 text-lg",disabled:k,children:k?"Saving...":s?"Update SAO":"Create SAO"})]})]}),u&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:a.jsxs("div",{className:"bg-white rounded-lg p-8 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-2xl font-semibold",children:"Select Skills"}),a.jsx("button",{onClick:()=>d(!1),className:"text-slate-400 hover:text-slate-600",children:a.jsx(kt,{size:24})})]}),a.jsx("div",{className:"space-y-6",children:w.map(R=>a.jsxs("div",{className:"border rounded-lg p-6",children:[a.jsx("h4",{className:"font-medium text-slate-900 text-lg mb-4",children:R.name}),a.jsx("div",{className:"space-y-3",children:R.skills.map(C=>a.jsxs("label",{className:"flex items-center space-x-3 p-3 hover:bg-slate-50 rounded cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:l.some(I=>I.id===C.id),onChange:I=>{I.target.checked?c(M=>[...M,{...C,category_name:R.name}]):c(M=>M.filter(T=>T.id!==C.id))},className:"rounded text-teal-600 focus:ring-teal-500 w-5 h-5"}),a.jsx("span",{className:"text-base",children:C.name})]},C.id))})]},R.name))}),a.jsx("div",{className:"flex justify-end mt-8",children:a.jsx("button",{onClick:()=>d(!1),className:"btn btn-primary px-6 py-3 text-lg",children:"Done"})})]})})]})}):null},R4=({sao:e,onDelete:t,onEdit:s})=>{const n=m.useRef(null),[r]=$v(),i=r.get("saoId");return m.useEffect(()=>{var o,l;i===e.id&&((o=n.current)==null||o.scrollIntoView({behavior:"smooth",block:"center"}),(l=n.current)==null||l.classList.add("ring","ring-teal-400"),setTimeout(()=>{var c;(c=n.current)==null||c.classList.remove("ring","ring-teal-400")},1500))},[i,e.id]),a.jsxs("div",{ref:n,className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:e.title}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>s(e),className:"text-slate-400 hover:text-teal-600 transition-colors",title:"Edit SAO",children:a.jsx(oa,{size:18})}),a.jsx("button",{onClick:()=>t(e.id),className:"text-slate-400 hover:text-red-600 transition-colors",title:"Delete SAO",children:a.jsx(zr,{size:18})})]})]}),a.jsx("p",{className:"text-slate-600 whitespace-pre-wrap mb-4",children:e.content}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.skills.map(o=>a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium bg-teal-100 text-teal-800",children:o.name},o.id))}),a.jsxs("div",{className:"mt-4 text-sm text-slate-500",children:["Created: ",new Date(e.created_at).toLocaleDateString()]})]})},O4=()=>{const[e,t]=m.useState(!1),[s,n]=m.useState(),{saos:r,loading:i,error:o,loadUserSAOs:l,deleteSAO:c}=Hl(),[u]=$v(),d=u.get("saoId");m.useEffect(()=>{l()},[l]),m.useEffect(()=>{if(d&&r.length>0){const v=r.find(y=>y.id===d);v&&(n(v),t(!0))}},[d,r]);const h=async v=>{window.confirm("Are you sure you want to delete this SAO?")&&await c(v)},f=v=>{n(v),t(!0)},p=()=>{t(!1),n(void 0)};return a.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Situation-Action-Outcome (SAO)"}),a.jsx("p",{className:"text-slate-500 mt-1",children:"Write and manage your SAO essays."})]}),a.jsxs("button",{onClick:()=>t(!0),className:"btn btn-primary flex items-center gap-2",children:[a.jsx(la,{size:18}),"Start New SAO"]})]}),o&&a.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-600",children:"Error:"}),a.jsx("p",{className:"text-sm text-red-800",children:o})]})}),i?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-teal-600"})}):r.length>0?a.jsx("div",{className:"space-y-4",children:r.map(v=>a.jsx(R4,{sao:v,onDelete:h,onEdit:f},v.id))}):a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx(vf,{className:"mx-auto h-12 w-12 text-slate-400"}),a.jsx("h3",{className:"mt-4 text-lg font-medium text-slate-900",children:"No SAOs yet"}),a.jsx("p",{className:"mt-2 text-slate-500",children:"Get started by writing your first SAO essay."}),a.jsx("button",{onClick:()=>t(!0),className:"mt-4 btn btn-primary",children:"Start Writing"})]})}),a.jsx(A4,{isOpen:e,onClose:p,editSAO:s})]})},I4=()=>{const[e,t]=m.useState(""),[s,n]=m.useState(""),[r,i]=m.useState(""),[o,l]=m.useState(!1),[c,u]=m.useState(null),[d,h]=m.useState(!1),[f,p]=m.useState(null),[v,y]=m.useState("general"),[b,g]=m.useState("help"),x=async j=>{j.preventDefault(),l(!0),u(null),h(!1);try{const k=await fetch("https://bbixvnkqroskholbxkgj.supabase.co/functions/v1/send-support-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU"},body:JSON.stringify({email:e,subject:s,message:r,issueType:v,mode:b})}),_=await k.json();if(!k.ok)throw new Error(_.error||"Failed to send message");h(!0),t(""),n(""),i(""),y("general")}catch(k){u(k instanceof Error?k.message:"Failed to send message. Please try again later."),console.error("Error sending support message:",k)}finally{l(!1)}},w=[{id:"sao",question:"What is an SAO?",answer:"A Situation-Action-Outcome (SAO) is a structured way to document your experiences and demonstrate your competencies. It helps you reflect on specific situations, the actions you took, and the outcomes achieved. This format is crucial for showcasing your professional growth and meeting EIT program requirements."},{id:"progress",question:"How do I track my progress?",answer:"Your progress is automatically tracked as you complete skills and document experiences. Visit the Dashboard to see your overall progress and skill-specific achievements. The progress bar shows your completion rate for skills, documented experiences, and supervisor approvals."},{id:"supervisor",question:"How do I connect with my supervisor?",answer:`You can connect with your supervisor through the "My Supervisor" section on your dashboard. If you haven't connected yet, you'll see an option to send a connection request. Once connected, your supervisor can review and validate your skills and experiences.`},{id:"skills",question:"How do I mark skills as complete?",answer:"To mark a skill as complete, navigate to the Skills section, select the skill you want to mark, and provide your self-assessment score. You'll need to document relevant experiences (SAOs) that demonstrate your competency in that skill. Your supervisor will then review and validate your assessment."},{id:"experiences",question:"How many experiences do I need to document?",answer:"You need to document at least 24 experiences (SAOs) across different skills. Each experience should demonstrate your competency in specific skills. Make sure to provide detailed descriptions of situations, your actions, and the outcomes achieved."}],S=[{title:"EIT Program Guide",description:"Comprehensive guide to the EIT program requirements and process",icon:a.jsx(ka,{size:20}),link:"/resources/eit-guide"},{title:"SAO Writing Tips",description:"Best practices for writing effective Situation-Action-Outcome statements",icon:a.jsx(In,{size:20}),link:"/resources/sao-tips"},{title:"Skills Framework",description:"Detailed breakdown of all required skills and competencies",icon:a.jsx(Tr,{size:20}),link:"/resources/skills-framework"}];return a.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Help & Support"}),a.jsx("p",{className:"text-slate-500 mt-2 text-lg",children:"Get help with your EIT program journey"}),a.jsx("div",{className:"mt-6 flex justify-center",children:a.jsxs("div",{className:"inline-flex rounded-lg border border-slate-200 p-1 bg-white",children:[a.jsxs("button",{onClick:()=>g("help"),className:`px-4 py-2 rounded-md text-sm font-medium flex items-center gap-2 ${b==="help"?"bg-teal-50 text-teal-700":"text-slate-600 hover:text-slate-900"}`,children:[a.jsx(Tr,{size:16}),"Help"]}),a.jsxs("button",{onClick:()=>g("feedback"),className:`px-4 py-2 rounded-md text-sm font-medium flex items-center gap-2 ${b==="feedback"?"bg-teal-50 text-teal-700":"text-slate-600 hover:text-slate-900"}`,children:[a.jsx(wf,{size:16}),"Feedback"]})]})})]}),b==="help"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-teal-50 rounded-lg p-6 mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-teal-800 mb-4",children:"Quick Help"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("a",{href:"/dashboard",className:"bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[a.jsx("h3",{className:"font-medium text-teal-700",children:"View Progress"}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Check your current progress and achievements"})]}),a.jsxs("a",{href:"/skills",className:"bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[a.jsx("h3",{className:"font-medium text-teal-700",children:"Manage Skills"}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Update and track your skill assessments"})]}),a.jsxs("a",{href:"/experiences",className:"bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[a.jsx("h3",{className:"font-medium text-teal-700",children:"Document Experiences"}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Add new experiences and SAOs"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Contact Support"}),a.jsxs("form",{onSubmit:x,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-1",children:"Your Email"}),a.jsx("input",{type:"email",id:"email",value:e,onChange:j=>t(j.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter your email",required:!0,disabled:o})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"issueType",className:"block text-sm font-medium text-slate-700 mb-1",children:"Issue Type"}),a.jsxs("select",{id:"issueType",value:v,onChange:j=>y(j.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",required:!0,disabled:o,children:[a.jsx("option",{value:"general",children:"General Inquiry"}),a.jsx("option",{value:"technical",children:"Technical Issue"}),a.jsx("option",{value:"skills",children:"Skills & Assessment"}),a.jsx("option",{value:"supervisor",children:"Supervisor Related"}),a.jsx("option",{value:"other",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-slate-700 mb-1",children:"Subject"}),a.jsx("input",{type:"text",id:"subject",value:s,onChange:j=>n(j.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"What's your question about?",required:!0,disabled:o})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-slate-700 mb-1",children:"Message"}),a.jsx("textarea",{id:"message",value:r,onChange:j=>i(j.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 min-h-[150px]",placeholder:"Describe your issue or question...",required:!0,disabled:o})]}),c&&a.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-md text-sm flex items-center gap-2",children:[a.jsx(na,{size:16}),c]}),d&&a.jsx("div",{className:"p-3 bg-green-50 text-green-700 rounded-md text-sm",children:"Your message has been sent successfully. We'll get back to you soon!"}),a.jsx("button",{type:"submit",className:"btn btn-primary w-full flex items-center justify-center gap-2",disabled:o,children:o?a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):a.jsxs(a.Fragment,{children:[a.jsx(ll,{size:18}),"Send Message"]})})]})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Frequently Asked Questions"}),a.jsx("div",{className:"space-y-4",children:w.map(j=>a.jsxs("div",{className:"border-b border-slate-200 last:border-0 pb-4 last:pb-0",children:[a.jsxs("button",{className:"w-full flex items-center justify-between text-left",onClick:()=>p(f===j.id?null:j.id),children:[a.jsx("h3",{className:"font-medium text-slate-900",children:j.question}),f===j.id?a.jsx(Gw,{size:20}):a.jsx(Ul,{size:20})]}),f===j.id&&a.jsx("p",{className:"text-sm text-slate-600 mt-2",children:j.answer})]},j.id))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Helpful Resources"}),a.jsx("div",{className:"space-y-4",children:S.map((j,k)=>a.jsxs("a",{href:j.link,className:"flex items-start gap-3 p-3 rounded-lg hover:bg-slate-50 transition-colors",children:[a.jsx("div",{className:"text-teal-600 mt-1",children:j.icon}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-slate-900",children:j.title}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:j.description})]}),a.jsx(xf,{size:16,className:"text-slate-400 ml-auto mt-1"})]},k))})]})]})]})]}):a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Share Your Feedback"}),a.jsx("p",{className:"text-slate-600 mb-6",children:"We value your feedback! Let us know what you think about the EIT program platform, what's working well, and what we can improve."}),a.jsxs("form",{onSubmit:x,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-1",children:"Your Email"}),a.jsx("input",{type:"email",id:"email",value:e,onChange:j=>t(j.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter your email",required:!0,disabled:o})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-slate-700 mb-1",children:"Subject"}),a.jsx("input",{type:"text",id:"subject",value:s,onChange:j=>n(j.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Brief summary of your feedback",required:!0,disabled:o})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-slate-700 mb-1",children:"Your Feedback"}),a.jsx("textarea",{id:"message",value:r,onChange:j=>i(j.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 min-h-[200px]",placeholder:"Share your thoughts, suggestions, or concerns...",required:!0,disabled:o})]}),c&&a.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-md text-sm flex items-center gap-2",children:[a.jsx(na,{size:16}),c]}),d&&a.jsx("div",{className:"p-3 bg-green-50 text-green-700 rounded-md text-sm",children:"Thank you for your feedback! We appreciate your input."}),a.jsx("button",{type:"submit",className:"btn btn-primary w-full flex items-center justify-center gap-2",disabled:o,children:o?a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):a.jsxs(a.Fragment,{children:[a.jsx(ll,{size:18}),"Submit Feedback"]})})]})]})})]})},D4=()=>{const[e,t]=m.useState(""),[s,n]=m.useState(""),[r,i]=m.useState("idle"),[o,l]=m.useState(""),{scrollY:c}=qP();kg(c,[0,300],[1,0]),kg(c,[0,300],[1,.8]);const u=async d=>{d.preventDefault(),i("loading"),l("");try{const f=await(await fetch("/api/waitlist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,province:s})})).json();f.success?(i("success"),t(""),n("")):(i("error"),l(f.error||"Something went wrong."))}catch{i("error"),l("Network error.")}};return a.jsxs("div",{className:"min-h-screen bg-[#FDFBF7]",children:[a.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden bg-[#FDFBF7]",children:[a.jsxs("div",{className:"absolute inset-0 z-0",children:[a.jsx(ie.div,{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-[#3498DB] opacity-10 rounded-full",animate:{scale:[1,1.2,1],rotate:[0,90,0]},transition:{duration:20,repeat:1/0,ease:"linear"}}),a.jsx(ie.div,{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-[#E8E4D9] opacity-20 rounded-full",animate:{scale:[1,1.1,1],rotate:[0,-90,0]},transition:{duration:15,repeat:1/0,ease:"linear"}})]}),a.jsx("div",{className:"container mx-auto px-4 z-10",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[a.jsx(ie.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-5xl md:text-6xl font-bold text-[#2C3E50] mb-6",children:"Streamline Your Engineering Journey"}),a.jsx(ie.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-xl text-[#34495E] mb-8",children:"Track your progress, document your experiences, and get certified with EIT Track. The modern platform for engineering professionals."}),a.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsx(bt,{to:"/signup",className:"px-8 py-3 bg-[#3498DB] text-white rounded-full font-medium hover:bg-[#2980B9] transition-all duration-300 transform hover:scale-105",children:"Get Started"}),a.jsx(bt,{to:"/login",className:"px-8 py-3 bg-white text-[#2C3E50] rounded-full font-medium border border-[#E8E4D9] hover:bg-[#FDFBF7] transition-all duration-300 transform hover:scale-105",children:"Sign In"})]})]})})]}),a.jsx("section",{className:"py-20 bg-white",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx(ie.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},className:"text-3xl font-bold text-[#2C3E50] text-center mb-12",children:"Why Choose EIT Track?"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},viewport:{once:!0},className:"p-6 rounded-2xl bg-[#FDFBF7] hover:shadow-md transition-shadow duration-300",children:[a.jsx("h3",{className:"text-xl font-semibold text-[#2C3E50] mb-4",children:"Smart Progress Tracking"}),a.jsx("p",{className:"text-[#34495E]",children:"Automatically track your progress across all required competencies and skills."})]}),a.jsxs(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.3},viewport:{once:!0},className:"p-6 rounded-2xl bg-[#FDFBF7] hover:shadow-md transition-shadow duration-300",children:[a.jsx("h3",{className:"text-xl font-semibold text-[#2C3E50] mb-4",children:"Supervisor Integration"}),a.jsx("p",{className:"text-[#34495E]",children:"Seamlessly connect with your supervisor for approvals and feedback."})]}),a.jsxs(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.4},viewport:{once:!0},className:"p-6 rounded-2xl bg-[#FDFBF7] hover:shadow-md transition-shadow duration-300",children:[a.jsx("h3",{className:"text-xl font-semibold text-[#2C3E50] mb-4",children:"Documentation Made Easy"}),a.jsx("p",{className:"text-[#34495E]",children:"Streamlined process for documenting your engineering experiences."})]})]})]})})}),a.jsx("section",{className:"py-20 bg-[#FDFBF7]",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx(ie.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},className:"text-3xl font-bold text-[#2C3E50] text-center mb-12",children:"How It Works"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},viewport:{once:!0},className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-[#3498DB] rounded-full flex items-center justify-center text-white text-2xl font-bold mx-auto mb-4",children:"1"}),a.jsx("h3",{className:"text-xl font-semibold text-[#2C3E50] mb-2",children:"Create Account"}),a.jsx("p",{className:"text-[#34495E]",children:"Sign up as an EIT or Supervisor"})]}),a.jsxs(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.3},viewport:{once:!0},className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-[#3498DB] rounded-full flex items-center justify-center text-white text-2xl font-bold mx-auto mb-4",children:"2"}),a.jsx("h3",{className:"text-xl font-semibold text-[#2C3E50] mb-2",children:"Document Experiences"}),a.jsx("p",{className:"text-[#34495E]",children:"Record your engineering work"})]}),a.jsxs(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.4},viewport:{once:!0},className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-[#3498DB] rounded-full flex items-center justify-center text-white text-2xl font-bold mx-auto mb-4",children:"3"}),a.jsx("h3",{className:"text-xl font-semibold text-[#2C3E50] mb-2",children:"Get Approval"}),a.jsx("p",{className:"text-[#34495E]",children:"Submit for supervisor review"})]}),a.jsxs(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.5},viewport:{once:!0},className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-[#3498DB] rounded-full flex items-center justify-center text-white text-2xl font-bold mx-auto mb-4",children:"4"}),a.jsx("h3",{className:"text-xl font-semibold text-[#2C3E50] mb-2",children:"Track Progress"}),a.jsx("p",{className:"text-[#34495E]",children:"Monitor your certification journey"})]})]})]})})}),a.jsx("section",{className:"py-20 bg-white",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx(ie.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},className:"text-3xl font-bold text-[#2C3E50] text-center mb-12",children:"What Our Users Say"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},viewport:{once:!0},className:"p-6 rounded-2xl bg-[#FDFBF7] hover:shadow-md transition-shadow duration-300",children:[a.jsx("p",{className:"text-[#34495E] mb-4",children:'"EIT Track has revolutionized how I document my engineering experiences. The platform is intuitive and makes the certification process much smoother."'}),a.jsx("p",{className:"font-semibold text-[#2C3E50]",children:"- Sarah Johnson, EIT"})]}),a.jsxs(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.3},viewport:{once:!0},className:"p-6 rounded-2xl bg-[#FDFBF7] hover:shadow-md transition-shadow duration-300",children:[a.jsx("p",{className:"text-[#34495E] mb-4",children:`"As a supervisor, I appreciate how easy it is to review and approve my team's experiences. The platform saves us valuable time."`}),a.jsx("p",{className:"font-semibold text-[#2C3E50]",children:"- Michael Chen, P.Eng."})]})]})]})})}),a.jsx("section",{className:"py-20 bg-[#FDFBF7]",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[a.jsx(ie.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},className:"text-3xl font-bold text-[#2C3E50] mb-6",children:"Ready to Start Your Journey?"}),a.jsx(ie.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},viewport:{once:!0},className:"text-xl text-[#34495E] mb-8",children:"Join thousands of engineering professionals using EIT Track to advance their careers."}),a.jsx(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.4},viewport:{once:!0},children:a.jsx(bt,{to:"/signup",className:"px-8 py-3 bg-[#3498DB] text-white rounded-full font-medium hover:bg-[#2980B9] transition-all duration-300 transform hover:scale-105",children:"Get Started Now"})})]})})}),a.jsx("footer",{className:"bg-white py-12",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[a.jsx("p",{className:"text-[#34495E] mb-4",children:"© 2024 EIT Track. All rights reserved."}),a.jsxs("div",{className:"flex justify-center space-x-6",children:[a.jsx(bt,{to:"/privacy",className:"text-[#3498DB] hover:text-[#2980B9] transition-colors",children:"Privacy Policy"}),a.jsx(bt,{to:"/terms",className:"text-[#3498DB] hover:text-[#2980B9] transition-colors",children:"Terms of Service"}),a.jsx(bt,{to:"/contact",className:"text-[#3498DB] hover:text-[#2980B9] transition-colors",children:"Contact Us"})]})]})})}),a.jsx("div",{className:"py-32 bg-[#FDFBF7]",children:a.jsxs("div",{className:"max-w-2xl mx-auto px-4 text-center",children:[a.jsx(ie.h2,{className:"text-3xl font-bold text-[#2C3E50] mb-6",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.7},children:"Currently Available Only in Alberta (APEGA)"}),a.jsx(ie.p,{className:"text-[#34495E] mb-8",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2,duration:.7},children:"We're working hard to expand Accreda to other provinces. Join our waitlist to be notified when we launch in your area!"}),a.jsxs(ie.form,{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",onSubmit:u,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.4,duration:.7},children:[a.jsx("input",{type:"email",required:!0,placeholder:"Your email",className:"w-full sm:w-auto px-6 py-3 rounded-full border-2 border-[#E8E4D9] focus:outline-none focus:border-[#3498DB] transition-colors",value:e,onChange:d=>t(d.target.value),disabled:r==="loading"}),a.jsxs("select",{required:!0,className:"w-full sm:w-auto px-6 py-3 rounded-full border-2 border-[#E8E4D9] focus:outline-none focus:border-[#3498DB] transition-colors",value:s,onChange:d=>n(d.target.value),disabled:r==="loading",children:[a.jsx("option",{value:"",children:"Select province"}),a.jsx("option",{value:"AB",children:"Alberta"}),a.jsx("option",{value:"BC",children:"British Columbia"}),a.jsx("option",{value:"MB",children:"Manitoba"}),a.jsx("option",{value:"NB",children:"New Brunswick"}),a.jsx("option",{value:"NL",children:"Newfoundland and Labrador"}),a.jsx("option",{value:"NS",children:"Nova Scotia"}),a.jsx("option",{value:"ON",children:"Ontario"}),a.jsx("option",{value:"PE",children:"Prince Edward Island"}),a.jsx("option",{value:"QC",children:"Quebec"}),a.jsx("option",{value:"SK",children:"Saskatchewan"}),a.jsx("option",{value:"NT",children:"Northwest Territories"}),a.jsx("option",{value:"NU",children:"Nunavut"}),a.jsx("option",{value:"YT",children:"Yukon"})]}),a.jsx("button",{type:"submit",className:"w-full sm:w-auto px-8 py-3 bg-[#3498DB] text-white rounded-full font-medium hover:bg-[#2980B9] transition-all duration-300 transform hover:scale-105 disabled:opacity-50",disabled:r==="loading",children:r==="loading"?"Joining...":"Join Waitlist"})]}),r==="success"&&a.jsx(ie.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-[#27AE60] mt-4",children:"Thank you! You've been added to the waitlist."}),r==="error"&&a.jsx(ie.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-[#E74C3C] mt-4",children:o})]})})]})},l0=({onSubmit:e,onCancel:t,isEditing:s,job:n,onJobChange:r,onSkillsToggle:i,onSkillsPopupOpen:o,skillCategories:l})=>{var c;return a.jsxs("div",{className:"mb-6 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[a.jsx("h3",{className:"font-medium mb-4",children:s?"Edit Job":"Add New Job"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Job Title"}),a.jsx("input",{type:"text",value:n.title||"",onChange:u=>r("title",u.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 min-w-[200px]",placeholder:"e.g., Software Engineer",maxLength:100})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Company"}),a.jsx("input",{type:"text",value:n.company||"",onChange:u=>r("company",u.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 min-w-[200px]",placeholder:"e.g., Tech Corp",maxLength:100})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Location"}),a.jsx("input",{type:"text",value:n.location||"",onChange:u=>r("location",u.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 min-w-[200px]",placeholder:"e.g., San Francisco, CA",maxLength:100})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Start Date"}),a.jsx("input",{type:"date",value:n.start_date||"",onChange:u=>r("start_date",u.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 min-w-[150px]"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"End Date"}),a.jsx("input",{type:"date",value:n.end_date||"",onChange:u=>r("end_date",u.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 min-w-[150px]",placeholder:"Present"})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),a.jsx("textarea",{value:n.description||"",onChange:u=>r("description",u.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 min-w-[200px]",rows:3,placeholder:"Brief description of your role and responsibilities",maxLength:500})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Skills"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:(n.skills||[]).map(u=>{const d=l.flatMap(h=>h.skills).find(h=>h.id===u);return d?a.jsxs("span",{className:"px-2 py-1 bg-slate-100 text-slate-700 rounded-full text-xs flex items-center gap-1",children:[d.name,a.jsx("button",{onClick:()=>i(u),className:"text-slate-400 hover:text-red-600",children:a.jsx(kt,{size:12})})]},u):null})}),a.jsx("button",{onClick:o,className:"btn btn-secondary w-full",children:(c=n.skills)!=null&&c.length?"Edit Skills":"Select Skills"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[a.jsx("button",{onClick:t,className:"btn btn-secondary",children:"Cancel"}),a.jsx("button",{onClick:e,className:"btn btn-primary",children:s?"Update Job":"Save Job"})]})]})},L4=()=>{const[e,t]=m.useState([]),[s,n]=m.useState({}),[r,i]=m.useState({}),[o,l]=m.useState(!1),[c,u]=m.useState(null),[d,h]=m.useState(null),[f,p]=m.useState(!0),{skillCategories:v}=Qt(),[y,b]=m.useState({title:"",company:"",location:"",start_date:"",end_date:"",description:"",skills:[]}),[g,x]=m.useState(null),w=async()=>{p(!0);try{const{data:{user:A}}=await N.auth.getUser();if(!A)return;const F=await N.from("jobs").select("id, title, company, location, start_date, end_date, description, skills").eq("eit_id",A.id).order("start_date",{ascending:!1});t(F.data||[]);const O=(F.data||[]).map(T=>T.id);let R={data:[]};O.length>0&&(R=await N.from("job_references").select("id, job_id, full_name, email, description, reference_number, created_at, updated_at").in("job_id",O));const C=await N.from("validators").select("id, eit_id, skill_id, full_name, email, description, created_at, updated_at").eq("eit_id",A.id);let I=[];!R.error&&Array.isArray(R.data)&&(I=R.data);const M=I.reduce((T,L)=>(T[L.job_id]||(T[L.job_id]=[]),T[L.job_id].push(L),T),{});if(n(M),C.data){const T=C.data.reduce((L,z)=>(L[z.skill_id]||(L[z.skill_id]=[]),L[z.skill_id].push(z),L),{});i(T)}}catch(A){console.error("Error loading jobs, references, or validators:",A)}finally{p(!1)}};m.useEffect(()=>{w();const A=sessionStorage.getItem("pendingScroll");if(A){try{const O=JSON.parse(A);O&&O.itemId&&O.itemType&&x({itemId:O.itemId,itemType:O.itemType})}catch{}sessionStorage.removeItem("pendingScroll")}const F=O=>{console.log("Scroll event received, queuing:",O.detail);const{itemId:R,itemType:C}=O.detail;R&&C&&x({itemId:R,itemType:C})};return window.addEventListener("scroll-to-item",F),()=>{window.removeEventListener("scroll-to-item",F)}},[]),m.useEffect(()=>{if(!g||f){g&&f&&console.log("Holding scroll for item",g.itemId,"due to main loading state.");return}const{itemId:A,itemType:F}=g;let O=null,R=!1;if(console.log(`Processing pending scroll for ${F} ${A}`),F==="job"){R=!0;const C=`[data-job-id="${A}"]`;console.log("Attempting to find job element with selector:",C),O=document.querySelector(C)}else if(F==="reference")if(Object.keys(s).length>0||e.some(C=>{var I;return(I=s[C.id])==null?void 0:I.some(M=>M.id===A)})){R=!0;const C=`[data-reference-id="${A}"]`;console.log("Attempting to find reference element with selector:",C),O=document.querySelector(C)}else console.log("References data not yet populated enough to find item:",A);else if(F==="validator"){let C=Object.keys(r).length>0,I=null;for(const M in r)if(r[M].some(T=>T.id===A)){I=M;break}if(I&&e.some(M=>{var T;return(T=M.skills)==null?void 0:T.includes(I)})?R=!0:C?(R=!0,console.log("Validator data seems generally loaded, attempting query for:",A)):console.log("Validators data not yet populated enough to find item:",A),R){const M=`[data-validator-id="${A}"]`;console.log("Attempting to find validator element with selector:",M),O=document.querySelector(M)}}if(R&&O)console.log(`Performing queued scroll for ${F} ${A} to element:`,O),requestAnimationFrame(()=>{requestAnimationFrame(()=>{O.scrollIntoView({behavior:"smooth",block:"center"}),O.classList.add("highlight-item"),setTimeout(()=>{O==null||O.classList.remove("highlight-item")},2e3)})}),x(null);else if(R&&!O){let C=0;const I=30,M=F==="job"?`[data-job-id="${A}"]`:F==="reference"?`[data-reference-id="${A}"]`:F==="validator"?`[data-validator-id="${A}"]`:"";if(!M){x(null);return}const T=setInterval(()=>{const L=document.querySelector(M);C++,L?(console.log(`Polling found element for ${F} ${A} after ${C} attempts.`),L.scrollIntoView({behavior:"smooth",block:"center"}),L.classList.add("highlight-item"),setTimeout(()=>{L.classList.remove("highlight-item")},2e3),clearInterval(T),x(null)):C>=I&&(console.warn(`Polling failed to find element for ${F} ${A} after ${C} attempts.`),clearInterval(T),x(null))},100)}else R||console.log(`Data not yet ready for ${F} ${A}. Scroll remains pending. Will retry on next data update.`)},[g,e,s,r,f]);const S=async()=>{try{const{data:{user:A}}=await N.auth.getUser();if(!A)return;const{error:F}=await N.from("jobs").insert([{...y,eit_id:A.id,skills:y.skills||[]}]);if(F)throw F;b({title:"",company:"",location:"",start_date:"",end_date:"",description:"",skills:[]}),l(!1),await w(),window.dispatchEvent(new Event("jobs-updated"))}catch(A){console.error("Error adding job:",A)}},j=async(A,F)=>{try{const{data:{user:O}}=await N.auth.getUser();if(!O){console.error("No user found");return}const{data:R,error:C}=await N.from("jobs").select("*").eq("id",A).single();if(C)throw console.error("Error fetching existing job:",C),C;if(!R){console.error("Job not found");return}const I={title:y.title||R.title,description:y.description||R.description,skills:F||y.skills||[],eit_id:O.id};console.log("Updating job with data:",{jobId:A,updateData:I,currentSkills:y.skills});const{error:M}=await N.from("jobs").update(I).eq("id",A).eq("eit_id",O.id);if(M)throw console.error("Error updating job:",M),M;b({title:"",company:"",location:"",start_date:"",end_date:"",description:"",skills:[]}),u(null),await w(),window.dispatchEvent(new Event("jobs-updated"))}catch(O){console.error("Error in handleUpdateJob:",O)}},k=async A=>{try{const{error:F}=await N.from("jobs").delete().eq("id",A);if(F)throw F;await w(),window.dispatchEvent(new Event("jobs-updated"))}catch(F){console.error("Error deleting job:",F)}},_=A=>{b({...A,skills:A.skills||[]}),u(A.id)},E=A=>{b(F=>{const O=F.skills||[],R=O.includes(A)?O.filter(C=>C!==A):[...O,A];return console.log("Updating skills:",{currentSkills:O,updatedSkills:R,skillId:A}),{...F,skills:R}})},P=(A,F)=>{b(O=>({...O,[A]:F}))},D=()=>{const A=ne.useRef(null),[F,O]=ne.useState([]),R=ne.useRef(null);ne.useEffect(()=>{d&&R.current!==d&&(O(y.skills?[...y.skills]:[]),R.current=d),d||(R.current=null)},[d,y.skills]);const C=ne.useRef(0),I=T=>{A.current&&(C.current=A.current.scrollTop),O(L=>L.includes(T)?L.filter(z=>z!==T):[...L,T])};ne.useLayoutEffect(()=>{A.current&&(A.current.scrollTop=C.current)}),ne.useEffect(()=>{A.current&&(C.current=A.current.scrollTop)},[F]);const M=async()=>{d!=="new"&&d&&(await j(d,F),await w()),h(null)};return a.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 transition-opacity duration-200 ${d?"":"hidden"}`,children:a.jsxs("div",{ref:A,className:"bg-white rounded-lg p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Select Skills"}),a.jsx("button",{onClick:()=>h(null),className:"text-slate-400 hover:text-slate-600",children:a.jsx(kt,{size:20})})]}),a.jsx("div",{className:"space-y-4",children:v.map(T=>a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium mb-2",children:T.name}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:T.skills.map(L=>a.jsxs("label",{className:"flex items-center space-x-2 p-2 rounded hover:bg-slate-50 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:F.includes(L.id),onChange:()=>I(L.id),className:"rounded text-teal-600 focus:ring-teal-500"}),a.jsx("span",{className:"text-sm",children:L.name})]},L.id))})]},T.name))}),a.jsx("div",{className:"flex justify-end mt-6",children:a.jsx("button",{onClick:M,className:"btn btn-primary",children:"Done"})})]})})};return m.useEffect(()=>{o&&!c&&b({title:"",company:"",location:"",start_date:"",end_date:"",description:"",skills:[]})},[o,c]),f?a.jsx("div",{className:"card animate-pulse",children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"h-6 bg-slate-200 rounded w-1/4 mb-4"}),a.jsx("div",{className:"space-y-4",children:[1,2,3].map(A=>a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"w-24 h-24 bg-slate-200 rounded"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/3"}),a.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4"})]})]},A))})]})}):a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Work Experience"}),a.jsx("p",{className:"text-slate-500 mt-1",children:"Track your professional journey and achievements"})]}),a.jsxs("button",{onClick:()=>l(!0),className:"btn btn-primary flex items-center gap-2 shadow-sm hover:shadow-md transition-all duration-200",children:[a.jsx(la,{size:16}),"Add Experience"]})]}),o&&a.jsx("div",{className:"mb-8",children:a.jsx(l0,{onSubmit:S,onCancel:()=>{l(!1),b({title:"",company:"",location:"",start_date:"",end_date:"",description:"",skills:[]})},isEditing:!1,job:y,onJobChange:P,onSkillsToggle:E,onSkillsPopupOpen:()=>h("new"),skillCategories:v})}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gradient-to-b from-teal-500 via-blue-400 to-indigo-500"}),a.jsxs("div",{className:"space-y-8",children:[e.map((A,F)=>{var O,R,C,I,M;return a.jsxs("div",{className:"relative pl-12","data-job-id":A.id,"data-reference-id":(R=(O=s[A.id])==null?void 0:O[0])==null?void 0:R.id,"data-validator-id":(C=A.skills)!=null&&C[0]?(M=(I=r[A.skills[0]])==null?void 0:I[0])==null?void 0:M.id:void 0,children:[a.jsx("div",{className:"absolute left-0 w-8 h-8 rounded-full bg-gradient-to-br from-teal-400 to-blue-500 border-4 border-white flex items-center justify-center shadow-lg z-10",children:a.jsx(ia,{size:16,className:"text-white"})}),c===A.id?a.jsx(l0,{onSubmit:()=>j(A.id),onCancel:()=>{u(null),b({title:"",company:"",location:"",start_date:"",end_date:"",description:"",skills:[]})},isEditing:!0,job:y,onJobChange:P,onSkillsToggle:E,onSkillsPopupOpen:()=>h(A.id),skillCategories:v}):a.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm hover:shadow-md transition-all duration-200",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-1",children:A.title}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-slate-600 font-medium",children:A.company}),a.jsx("span",{className:"text-slate-400",children:"•"}),a.jsx("span",{className:"text-slate-500",children:A.location})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>{b({...A,skills:A.skills||[]}),h(A.id)},className:"p-2 text-slate-400 hover:text-teal-600 hover:bg-teal-50 rounded-lg transition-all duration-200",title:"Edit Skills",children:a.jsx(la,{size:16})}),a.jsx("button",{onClick:()=>_(A),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200",title:"Edit Job",children:a.jsx(oa,{size:16})}),a.jsx("button",{onClick:()=>k(A.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200",title:"Delete Job",children:a.jsx(zr,{size:16})})]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(pf,{size:16,className:"text-teal-500"}),a.jsxs("span",{children:[new Date(A.start_date).toLocaleDateString("en-US",{year:"numeric",month:"long"})," - ",A.end_date?new Date(A.end_date).toLocaleDateString("en-US",{year:"numeric",month:"long"}):"Present"]})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(Yw,{size:16,className:"text-teal-500"}),a.jsx("span",{children:A.location})]})]}),A.description&&a.jsx("p",{className:"text-slate-600 mb-4 leading-relaxed",children:A.description}),A.skills&&A.skills.length>0&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Ks,{size:16,className:"text-green-500"}),a.jsx("h4",{className:"text-sm font-semibold text-green-700 uppercase tracking-wide",children:"Skills & Validators"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:A.skills.map(T=>{const L=v.flatMap(G=>G.skills).find(G=>G.id===T),z=r[T]||[];return L?a.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-teal-50 rounded-full px-3 py-1.5 border border-green-100 text-sm text-green-800 flex items-center gap-2 shadow-sm",children:[a.jsx("span",{className:"font-medium",children:L.name}),L.rank&&a.jsxs("span",{className:"ml-2 px-2 py-0.5 bg-green-100 text-green-700 rounded-full text-xs font-semibold",children:["Score ",L.rank]}),z.length>0&&a.jsx("span",{className:"ml-2 flex items-center gap-1",children:z.map(G=>a.jsx("span",{className:"bg-white border border-green-200 rounded-full px-2 py-0.5 text-green-700 text-xs font-medium ml-1",children:G.full_name},G.id))})]},T):null})})]})]})]},A.id)}),e.length===0&&!o&&a.jsxs("div",{className:"text-center py-12 bg-slate-50 rounded-xl border-2 border-dashed border-slate-200",children:[a.jsx(ia,{size:32,className:"mx-auto mb-3 text-slate-400"}),a.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-2",children:"No work experience added yet"}),a.jsx("p",{className:"text-slate-500 mb-4",children:"Start building your professional profile by adding your work experience"}),a.jsx("button",{onClick:()=>l(!0),className:"btn btn-primary",children:"Add your first job"})]})]})]})]}),a.jsx(D,{}),a.jsx("style",{children:`
          .highlight-item {
            animation: highlight 2s ease-out;
          }

          @keyframes highlight {
            0% {
              background-color: rgba(99, 102, 241, 0.1);
            }
            100% {
              background-color: transparent;
            }
          }
        `})]})},M4=({value:e,onChange:t,disabled:s=!1})=>{const[n,r]=m.useState([]),[i,o]=m.useState(!1),[l,c]=m.useState(!1),u=m.useRef(null);m.useEffect(()=>{const p=v=>{u.current&&!u.current.contains(v.target)&&o(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const d=async p=>{if(!p.trim()){r([]);return}c(!0);try{const{data:{user:v}}=await N.auth.getUser();if(!v)return;const{data:y}=await N.from("supervisor_eit_relationships").select("supervisor_id").eq("eit_id",v.id).eq("status","active");if(!y)return;const b=y.map(x=>x.supervisor_id),{data:g}=await N.from("supervisor_profiles").select("id, full_name, email").in("id",b).ilike("full_name",`%${p}%`).limit(5);r(g||[])}catch(v){console.error("Error searching supervisors:",v)}finally{c(!1)}},h=p=>{const v=p.target.value;t(v,""),d(v),o(!0)},f=p=>{t(p.full_name,p.email),o(!1)};return a.jsxs("div",{className:"relative",ref:u,children:[a.jsx("input",{type:"text",value:e,onChange:h,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter validator's full name",required:!0,disabled:s}),i&&(e.trim()||l)&&a.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white rounded-lg shadow-lg border border-slate-200 max-h-60 overflow-y-auto",children:l?a.jsx("div",{className:"p-2 text-sm text-slate-500",children:"Searching..."}):n.length>0?n.map(p=>a.jsxs("button",{className:"w-full px-4 py-2 text-left hover:bg-slate-50 focus:outline-none focus:bg-slate-50",onClick:()=>f(p),children:[a.jsx("div",{className:"font-medium text-slate-900",children:p.full_name}),a.jsx("div",{className:"text-sm text-slate-500",children:p.email})]},p.id)):a.jsx("div",{className:"p-2 text-sm text-slate-500",children:"No matching supervisors found"})})]})},$4=({isOpen:e,onClose:t,skillName:s,skillId:n,existingValidator:r,onSave:i,status:o,loadValidators:l})=>{const[c,u]=m.useState({fullName:(r==null?void 0:r.full_name)||"",email:(r==null?void 0:r.email)||"",description:(r==null?void 0:r.description)||""}),[d,h]=m.useState(!1),[f,p]=m.useState(null);m.useEffect(()=>{e&&u(r?{fullName:r.full_name,email:r.email,description:r.description}:{fullName:"",email:"",description:""})},[e,r,n]);const v=async y=>{y.preventDefault(),h(!0),p(null);try{const{data:{user:b}}=await N.auth.getUser();if(!b)throw new Error("No authenticated user");const{data:g,error:x}=await N.from("eit_profiles").select("full_name").eq("id",b.id).single();if(x)throw x;const{data:w,error:S}=await N.from("supervisor_profiles").select("id").eq("email",c.email).single();if(S)throw S;if(r){const{error:j}=await N.from("validators").update({full_name:c.fullName,email:c.email,description:c.description}).eq("id",r.id);if(j)throw j}else{const{error:j}=await N.from("validators").insert([{eit_id:b.id,skill_id:n,full_name:c.fullName,email:c.email,description:c.description}]);if(j)throw j;await QI(w.id,g.full_name,s)}i(),t(),setTimeout(()=>l(),300)}catch(b){console.error("Validator insert error:",b),p(b instanceof Error?b.message:JSON.stringify(b))}finally{h(!1)}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold",children:[r?"Edit":"Add"," Validator for ",s]}),a.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600",children:a.jsx(kt,{size:24})})]}),f&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-600",children:f})}),a.jsxs("form",{onSubmit:v,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),a.jsx(M4,{value:c.fullName,onChange:(y,b)=>u(g=>({...g,fullName:y,email:b})),disabled:o!=="draft"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",value:c.email,onChange:y=>u(b=>({...b,email:y.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter validator's email",required:!0,disabled:o!=="draft"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),a.jsx("textarea",{value:c.description,onChange:y=>u(b=>({...b,description:y.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter description of validation",rows:4,required:!0,disabled:o!=="draft"})]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 rounded-lg",disabled:d,children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 hover:bg-teal-700 rounded-lg disabled:opacity-50",disabled:d,children:d?"Saving...":r?"Update Validator":"Add Validator"})]})]})]})}):null},F4=({isOpen:e,onClose:t,job:s,referenceNumber:n,existingReference:r,onSave:i})=>{const[o,l]=m.useState({fullName:"",email:"",referenceText:""}),[c,u]=m.useState(!1),[d,h]=m.useState(null);m.useEffect(()=>{e&&l(r?{fullName:r.full_name,email:r.email,referenceText:r.description}:{fullName:"",email:"",referenceText:""})},[e,r]);const f=async p=>{p.preventDefault(),u(!0),h(null);try{const{data:{user:v}}=await N.auth.getUser();if(!v)throw new Error("No authenticated user");const y={job_id:s.id,full_name:o.fullName,email:o.email,description:o.referenceText,reference_number:n,eit_id:v.id};if(console.log("Reference data to insert/update:",y),r){const{error:b}=await N.from("job_references").update(y).eq("id",r.id);if(b)throw console.error("Update error:",b),b}else{const{error:b}=await N.from("job_references").insert([y]);if(b)throw console.error("Insert error:",b),b}i(),t()}catch(v){console.error("ReferencePopup error:",v),h(v instanceof Error?v.message:"An error occurred")}finally{u(!1)}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold",children:[r?"Edit":"Add"," Reference ",n," for ",s.title," at ",s.company]}),a.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600",children:a.jsx(kt,{size:24})})]}),d&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-600",children:d})}),a.jsxs("form",{onSubmit:f,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),a.jsx("input",{type:"text",value:o.fullName,onChange:p=>l(v=>({...v,fullName:p.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter reference's full name",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",value:o.email,onChange:p=>l(v=>({...v,email:p.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter reference's email",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Reference Text"}),a.jsx("textarea",{value:o.referenceText,onChange:p=>l(v=>({...v,referenceText:p.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter reference text",rows:4,required:!0})]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 rounded-lg",disabled:c,children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-teal-600 hover:bg-teal-700 rounded-lg disabled:opacity-50",disabled:c,children:c?"Saving...":r?"Update Reference":"Add Reference"})]})]})]})}):null},U4=()=>{var F;const[e,t]=m.useState("references"),[s,n]=m.useState(null),[r,i]=m.useState(null),[o,l]=m.useState(null),[c,u]=m.useState(null),[d,h]=m.useState(null),[f,p]=m.useState({}),[v,y]=m.useState({}),[b,g]=m.useState([]),{skillCategories:x}=Qt(),w=m.useRef(null),S=m.useRef(null),j=m.useRef(null),k=x.map(O=>({...O,skills:O.skills.filter(R=>R.status==="completed"||R.rank!==void 0)})).filter(O=>O.skills.length>0),_=async()=>{try{const{data:{user:O}}=await N.auth.getUser();if(!O)return;const{data:R,error:C}=await N.from("validators").select("*").eq("eit_id",O.id);if(C)throw C;const I=R.reduce((M,T)=>(M[T.skill_id]||(M[T.skill_id]=[]),M[T.skill_id].push(T),M),{});p(I)}catch(O){console.error("Error loading validators:",O)}},E=async()=>{try{const{data:{user:O}}=await N.auth.getUser();if(!O)return;const{data:R,error:C}=await N.from("jobs").select("*").eq("eit_id",O.id).order("start_date",{ascending:!1});if(C)throw C;g(R||[])}catch(O){console.error("Error loading jobs:",O)}},P=async()=>{try{const{data:{user:O}}=await N.auth.getUser();if(!O)return;const{data:R,error:C}=await N.from("job_references").select("*").eq("eit_id",O.id);if(C)throw C;const I=R.reduce((M,T)=>(M[T.job_id]||(M[T.job_id]=[]),M[T.job_id].push(T),M),{});y(I)}catch(O){console.error("Error loading references:",O)}};m.useEffect(()=>{_(),E(),P()},[]),m.useEffect(()=>{const O=R=>{const{itemId:C,itemType:I}=R.detail||{},M=()=>{var z,G;const T=I==="reference"?`[data-reference-id="${C}"]`:I==="validator"?`[data-validator-id="${C}"]`:I==="job"?`[data-job-id="${C}"]`:"";if(!T)return;const L=document.querySelector(T);L&&(I==="reference"?(t("references"),(z=S.current)==null||z.scrollIntoView({behavior:"smooth",block:"start"})):I==="validator"&&(t("validators"),(G=j.current)==null||G.scrollIntoView({behavior:"smooth",block:"start"})),setTimeout(()=>{L.scrollIntoView({behavior:"smooth",block:"center"}),L.classList.add("highlight-item"),L.classList.add("animate-bounce-subtle"),setTimeout(()=>{L.classList.remove("highlight-item","animate-bounce-subtle")},2e3)},300))};requestAnimationFrame(()=>{I==="reference"&&e!=="references"||I==="validator"&&e!=="validators"?setTimeout(M,100):M()})};return window.addEventListener("scroll-to-item",O),()=>window.removeEventListener("scroll-to-item",O)},[e]),m.useEffect(()=>{const O=()=>{E(),P()};return window.addEventListener("jobs-updated",O),()=>window.removeEventListener("jobs-updated",O)},[]);const D=()=>{_()},A=()=>{P()};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",ref:w,children:a.jsxs("h1",{className:"text-2xl font-semibold text-slate-900 flex items-center",children:[a.jsx(Ww,{size:24,className:"mr-2 text-teal-600"}),"Jobs"]})}),a.jsx(L4,{}),a.jsxs("div",{className:"card",ref:S,children:[a.jsxs("div",{className:"flex border-b border-slate-200",children:[a.jsx("button",{onClick:()=>t("references"),className:`flex-1 py-3 px-4 text-sm font-medium ${e==="references"?"text-teal-600 border-b-2 border-teal-600":"text-slate-500 hover:text-slate-700"}`,children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(Vl,{size:18}),"References"]})}),a.jsx("button",{onClick:()=>t("validators"),className:`flex-1 py-3 px-4 text-sm font-medium ${e==="validators"?"text-teal-600 border-b-2 border-teal-600":"text-slate-500 hover:text-slate-700"}`,children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(Ks,{size:18}),"Validators"]})})]}),a.jsx("div",{className:"p-6",ref:j,children:e==="references"?a.jsx("div",{className:"space-y-6",children:b.length>0?b.map(O=>a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4","data-job-id":O.id,children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-900",children:O.title}),a.jsx("p",{className:"text-slate-600",children:O.company})]}),a.jsx("div",{className:"flex gap-2",children:[1,2].map(R=>{var I;const C=(I=v[O.id])==null?void 0:I.find(M=>M.reference_number===R);return C?a.jsxs("button",{onClick:()=>{l(O),u(C),h(R),window.dispatchEvent(new CustomEvent("scroll-to-item",{detail:{itemId:C.id,itemType:"reference"}}))},className:"px-3 py-1.5 text-sm font-medium text-slate-600 hover:text-slate-700 hover:bg-slate-50 rounded-lg transition-colors flex items-center gap-2","data-reference-id":C.id,children:[a.jsx(oa,{size:14}),"Reference ",R,": ",C.full_name]},C.id):a.jsxs("button",{onClick:()=>{l(O),u(null),h(R)},className:"px-3 py-1.5 text-sm font-medium text-teal-600 hover:text-teal-700 hover:bg-teal-50 rounded-lg transition-colors flex items-center gap-2",children:[a.jsx(la,{size:14}),"Add Reference ",R]},R)})})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500 mb-3",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(pf,{size:14}),a.jsxs("span",{children:[new Date(O.start_date).toLocaleDateString()," - ",O.end_date?new Date(O.end_date).toLocaleDateString():"Present"]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Yw,{size:14}),a.jsx("span",{children:O.location})]})]}),O.description&&a.jsx("p",{className:"text-slate-600 text-sm mb-3",children:O.description}),O.skills&&O.skills.length>0&&a.jsxs("div",{className:"mt-3",children:[a.jsx("h4",{className:"text-sm font-medium text-slate-700 mb-2",children:"Skills:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:O.skills.map(R=>{const C=x.flatMap(I=>I.skills).find(I=>I.id===R);return C?a.jsx("span",{className:"px-2 py-1 bg-slate-100 text-slate-700 rounded-full text-xs",children:C.name},R):null})})]})]},O.id)):a.jsxs("div",{className:"text-center py-8 text-slate-500",children:[a.jsx(ia,{size:24,className:"mx-auto mb-2 text-slate-400"}),a.jsx("p",{children:"No work experience added yet"}),a.jsx("p",{className:"text-sm mt-1",children:"Add jobs in the Work Experience section above"})]})}):a.jsx("div",{className:"space-y-6",children:k.length>0?k.map(O=>a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4",children:[a.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:O.name}),a.jsx("div",{className:"space-y-4",children:O.skills.map(R=>{var C;return a.jsx("div",{className:"flex items-center justify-between","data-skill-id":R.id,children:a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-slate-800",children:R.name}),a.jsxs("div",{className:"flex items-center gap-2",children:[(C=f[R.id])==null?void 0:C.map(I=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>{I.status==="draft"&&(n(R.id),i(I),window.dispatchEvent(new CustomEvent("scroll-to-item",{detail:{itemId:I.id,itemType:"validator"}})))},className:`px-3 py-1.5 text-sm font-medium rounded-lg transition-colors flex items-center gap-2 ${I.status!=="draft"?"bg-slate-100 text-slate-400 cursor-not-allowed":"text-slate-600 hover:text-slate-700 hover:bg-slate-50"}`,"data-validator-id":I.id,disabled:I.status!=="draft",children:[a.jsx(oa,{size:14}),I.full_name]}),a.jsx("span",{className:`ml-2 px-2 py-0.5 rounded text-xs font-semibold ${I.status==="draft"?"bg-yellow-100 text-yellow-800":I.status==="pending"?"bg-blue-100 text-blue-800":I.status==="scored"?"bg-green-100 text-green-800":"bg-slate-100 text-slate-500"}`,children:I.status.charAt(0).toUpperCase()+I.status.slice(1)}),I.status==="scored"&&a.jsxs("span",{className:"ml-2 text-green-700 font-bold",children:["Score: ",I.score]}),I.status==="draft"&&a.jsx("button",{className:"ml-2 px-2 py-0.5 text-xs font-medium bg-blue-600 text-white rounded hover:bg-blue-700",onClick:async()=>{await N.from("validators").update({status:"pending"}).eq("id",I.id),setTimeout(()=>_(),300)},children:"Send for Validation"}),(I.status==="draft"||I.status==="pending")&&a.jsx("button",{className:"btn btn-danger btn-xs",onClick:async()=>{await N.from("validators").delete().eq("id",I.id),setTimeout(()=>_(),300)},children:"Cancel"})]},I.id)),(!f[R.id]||f[R.id].length===0)&&a.jsx("button",{onClick:()=>{n(R.id),i(null)},className:"px-3 py-1.5 text-sm font-medium text-teal-600 hover:text-teal-700 hover:bg-teal-50 rounded-lg transition-colors",children:"Add Validator"})]})]})},R.id)})})]},O.name)):a.jsxs("div",{className:"text-center py-8 text-slate-500",children:[a.jsx(Ks,{size:24,className:"mx-auto mb-2 text-slate-400"}),a.jsx("p",{children:"No completed skills yet"}),a.jsx("p",{className:"text-sm mt-1",children:"Complete skills in the Skills section to see them here"})]})})})]}),a.jsx($4,{isOpen:s!==null,onClose:()=>{n(null),i(null)},skillName:s&&((F=x.flatMap(O=>O.skills).find(O=>O.id===s))==null?void 0:F.name)||"",skillId:s||"",existingValidator:r||void 0,onSave:D,status:(r==null?void 0:r.status)??"draft",loadValidators:_}),a.jsx(F4,{isOpen:o!==null&&d!==null,onClose:()=>{l(null),u(null),h(null)},job:o,referenceNumber:d,existingReference:c||void 0,onSave:A})]})};function z4(e={}){const{nonce:t,onScriptLoadSuccess:s,onScriptLoadError:n}=e,[r,i]=m.useState(!1),o=m.useRef(s);o.current=s;const l=m.useRef(n);return l.current=n,m.useEffect(()=>{const c=document.createElement("script");return c.src="https://accounts.google.com/gsi/client",c.async=!0,c.defer=!0,c.nonce=t,c.onload=()=>{var u;i(!0),(u=o.current)===null||u===void 0||u.call(o)},c.onerror=()=>{var u;i(!1),(u=l.current)===null||u===void 0||u.call(l)},document.body.appendChild(c),()=>{document.body.removeChild(c)}},[t]),r}const Rb=m.createContext(null);function Ob({clientId:e,nonce:t,onScriptLoadSuccess:s,onScriptLoadError:n,children:r}){const i=z4({nonce:t,onScriptLoadSuccess:s,onScriptLoadError:n}),o=m.useMemo(()=>({clientId:e,scriptLoadedSuccessfully:i}),[e,i]);return ne.createElement(Rb.Provider,{value:o},r)}function V4(){const e=m.useContext(Rb);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}function B4({flow:e="implicit",scope:t="",onSuccess:s,onError:n,onNonOAuthError:r,overrideScope:i,state:o,...l}){const{clientId:c,scriptLoadedSuccessfully:u}=V4(),d=m.useRef(),h=m.useRef(s);h.current=s;const f=m.useRef(n);f.current=n;const p=m.useRef(r);p.current=r,m.useEffect(()=>{var b,g;if(!u)return;const x=e==="implicit"?"initTokenClient":"initCodeClient",w=(g=(b=window==null?void 0:window.google)===null||b===void 0?void 0:b.accounts)===null||g===void 0?void 0:g.oauth2[x]({client_id:c,scope:i?t:`openid profile email ${t}`,callback:S=>{var j,k;if(S.error)return(j=f.current)===null||j===void 0?void 0:j.call(f,S);(k=h.current)===null||k===void 0||k.call(h,S)},error_callback:S=>{var j;(j=p.current)===null||j===void 0||j.call(p,S)},state:o,...l});d.current=w},[c,u,e,t,o]);const v=m.useCallback(b=>{var g;return(g=d.current)===null||g===void 0?void 0:g.requestAccessToken(b)},[]),y=m.useCallback(()=>{var b;return(b=d.current)===null||b===void 0?void 0:b.requestCode()},[]);return e==="implicit"?v:y}const q4=({onMenuClick:e})=>a.jsxs("header",{className:"fixed top-0 right-0 left-0 md:left-64 bg-white/80 backdrop-blur-md z-10 border-b border-slate-200 px-4 py-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[e&&a.jsx("button",{className:"md:hidden p-2 rounded-lg text-slate-500 hover:bg-slate-100 mr-2",onClick:e,"aria-label":"Open sidebar menu",children:a.jsx(Xw,{size:24})}),a.jsx("div",{className:"ml-2 md:ml-0",children:a.jsx("h1",{className:"text-xl font-semibold text-slate-800",children:"Supervisor Dashboard"})})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"hidden md:block",children:a.jsx(db,{})}),a.jsx(mb,{}),a.jsx(hb,{})]})]}),W4=({appLoaded:e})=>{const[t,s]=m.useState(!1);return a.jsxs("div",{className:"min-h-screen bg-slate-50",children:[a.jsx("div",{className:"hidden md:block",children:a.jsx(bd,{})}),t&&a.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[a.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:()=>s(!1)}),a.jsx("div",{className:"fixed inset-y-0 left-0 w-full max-w-xs bg-white shadow-xl",children:a.jsx(bd,{onClose:()=>s(!1)})})]}),a.jsxs("div",{className:"md:pl-64 flex flex-col min-h-screen",children:[a.jsx(q4,{onMenuClick:()=>s(!0)}),a.jsx("main",{className:"flex-1 p-4 md:p-6 pt-20 md:pt-24 pb-20 md:pb-6",children:a.jsx(Lv,{context:{appLoaded:e}})})]})]})},Ea=()=>a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-teal-500"})}),H4=({isOpen:e,onClose:t,children:s})=>e?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-lg w-full relative",children:[a.jsx("button",{className:"absolute top-2 right-2 text-slate-400 hover:text-slate-600 text-xl font-bold",onClick:t,"aria-label":"Close",children:"×"}),s]})}):null,c0=async e=>{try{const[t,s,n]=await Promise.all([N.from("eit_skills").select("id",{count:"exact",head:!0}).eq("eit_id",e).not("rank","is",null),N.from("experiences").select("id",{count:"exact",head:!0}).eq("eit_id",e),N.from("experiences").select("id",{count:"exact",head:!0}).eq("eit_id",e).eq("supervisor_approved",!0)]);if(t.error||s.error||n.error)throw new Error("Failed to fetch EIT progress");const r=t.count||0,i=s.count||0,o=n.count||0,l=r/22,c=i/24,u=o/24;return{overallProgress:Math.round((l+c+u)/3*100),completedSkills:r,documentedExperiences:i,supervisorApprovals:o}}catch(t){return console.error("Error fetching EIT progress:",t),{overallProgress:0,completedSkills:0,documentedExperiences:0,supervisorApprovals:0}}},G4=()=>{const[e,t]=m.useState(!0),[s,n]=m.useState(null),[r,i]=m.useState([]),[o,l]=m.useState([]),[c,u]=m.useState({}),[d,h]=m.useState(null),[f,p]=m.useState([]),[v,y]=m.useState(!1),[b,g]=m.useState({});m.useEffect(()=>{(async()=>{t(!0),n(null);try{const{data:{user:k}}=await N.auth.getUser();if(!k){n("No user found");return}const[_,E]=await Promise.all([N.from("supervisor_eit_relationships").select("id, eit_id, status, created_at, eit_profiles (id, full_name, email)").eq("supervisor_id",k.id).eq("status","pending"),N.from("supervisor_eit_relationships").select("eit_id, eit_profiles (id, full_name, email)").eq("supervisor_id",k.id).eq("status","active")]);if(_.error)throw _.error;if(E.error)throw E.error;const P=(_.data||[]).map(R=>({...R,eit_profiles:Array.isArray(R.eit_profiles)?R.eit_profiles[0]:R.eit_profiles}));i(P);const D=(E.data||[]).map(R=>Array.isArray(R.eit_profiles)?R.eit_profiles[0]:R.eit_profiles);l(D);const A=D.map(R=>c0(R.id)),F=await Promise.all(A),O=D.map((R,C)=>[R.id,F[C]]);u(Object.fromEntries(O))}catch(k){console.error("Error fetching team data:",k),n("Failed to load team data. Please try again.")}finally{t(!1)}})()},[]),m.useEffect(()=>{const j=setInterval(async()=>{if(o.length>0){const k=o.map(P=>c0(P.id)),_=await Promise.all(k),E=o.map((P,D)=>[P.id,_[D]]);u(Object.fromEntries(E))}},3e4);return()=>clearInterval(j)},[o]);const x=async(j,k)=>{t(!0);try{const{error:_}=await N.from("supervisor_eit_relationships").update({status:k?"active":"denied",updated_at:new Date().toISOString()}).eq("id",j);if(_)throw _;if(i(E=>E.filter(P=>P.id!==j)),k){const E=r.find(P=>P.id===j);E&&l(P=>[...P,E.eit_profiles])}}catch(_){console.error("Error handling request:",_),n("Failed to process request. Please try again.")}finally{t(!1)}},w=async j=>{h(j),y(!0);const k=await N.auth.getUser();console.log("Supervisor auth user:",k),console.log("SupervisorTeam: Fetching skills for EIT",j.id);const{data:_,error:E}=await N.from("eit_skills").select("skill_id, rank, supervisor_score, category_name, skill_name, status, eit_id").eq("eit_id",j.id);E&&console.error("Supabase error:",E),console.log("Fetched skills:",_);const P={};(_||[]).forEach(D=>{P[D.category_name]||(P[D.category_name]=[]),P[D.category_name].push(D)}),console.log("Grouped by category:",P),g(P),y(!1)},S=o.length>0?Math.round(o.reduce((j,k)=>{var _;return j+(((_=c[k.id])==null?void 0:_.overallProgress)||0)},0)/o.length):0;return e?a.jsx(Ea,{}):s?a.jsx("div",{className:"p-6 text-red-600",children:s}):a.jsxs("div",{className:"p-6",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Team"}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-lg font-semibold mb-2 text-slate-800",children:"Team Progress"}),a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Average Completion"}),a.jsxs("span",{className:"text-sm font-semibold text-teal-600",children:[S,"%"]})]}),a.jsx("div",{className:"h-3 bg-slate-100 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-teal-500 rounded-full transition-all duration-300",style:{width:`${S}%`}})}),a.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"This is the average overall progress of all your connected EITs."})]}),r.length>0&&a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-8",children:[a.jsx("h2",{className:"text-lg font-semibold mb-2 text-yellow-800",children:"Pending Requests"}),a.jsx("div",{className:"space-y-3",children:r.map(j=>a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 border-b border-yellow-100 pb-2 last:border-0",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:j.eit_profiles.full_name})," (",j.eit_profiles.email,")",a.jsxs("span",{className:"ml-2 text-xs text-slate-500",children:["Requested on ",new Date(j.created_at).toLocaleDateString()]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>x(j.id,!0),children:"Accept"}),a.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>x(j.id,!1),children:"Deny"})]})]},j.id))})]}),a.jsx("div",{className:"bg-white rounded-lg shadow mb-8",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Team Members"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(j=>{const k=c[j.id];return a.jsxs("div",{className:"border-b border-gray-200 pb-4 last:border-0",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),a.jsx("button",{className:"font-medium text-teal-700 hover:underline",onClick:()=>w(j),children:j.full_name})]}),a.jsxs("div",{className:"mt-2",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),a.jsx("p",{className:"font-medium",children:j.email})]}),k&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Overall Progress"}),a.jsxs("span",{className:"text-sm font-semibold text-teal-600",children:[k.overallProgress,"%"]})]}),a.jsx("div",{className:"h-2 bg-slate-100 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-teal-500 rounded-full transition-all duration-300",style:{width:`${k.overallProgress}%`}})}),a.jsxs("div",{className:"flex gap-4 mt-2 text-xs text-slate-500",children:[a.jsxs("span",{children:["Skills: ",k.completedSkills,"/22"]}),a.jsxs("span",{children:["Experiences: ",k.documentedExperiences,"/24"]}),a.jsxs("span",{children:["Approvals: ",k.supervisorApprovals,"/24"]})]})]})]},j.id)})})]})}),d&&a.jsx(H4,{isOpen:!!d,onClose:()=>h(null),children:a.jsxs("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto bg-white rounded-lg p-8",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-6",children:[d.full_name,"'s Skills"]}),v?a.jsx("div",{children:"Loading..."}):Object.keys(b).length===0?a.jsx("div",{children:"No marked skills found."}):a.jsx("div",{className:"pr-2",children:Object.entries(b).map(([j,k])=>{const _=P=>{const D=P.match(/^([\d.]+)/);return D?D[1].split(".").map(Number):[0]},E=[...k].sort((P,D)=>{const A=_(P.skill_name),F=_(D.skill_name);for(let O=0;O<Math.max(A.length,F.length);O++){const R=A[O]??0,C=F[O]??0;if(R!==C)return R-C}return 0});return a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"font-semibold text-slate-800 mb-3 text-lg",children:j}),a.jsx("div",{className:"divide-y divide-slate-100 rounded-lg border border-slate-200 bg-white shadow-sm",children:E.map(P=>a.jsxs("div",{className:"flex flex-row items-center gap-4 px-4 py-3 transition-colors hover:bg-slate-50 group",children:[a.jsx("span",{className:"font-medium text-slate-800 flex-1 min-w-0 truncate",children:P.skill_name}),a.jsxs("div",{className:"flex gap-2",children:[P.rank!==null&&P.rank!==void 0&&a.jsxs("span",{className:"inline-block px-2 py-0.5 rounded-full text-xs font-semibold bg-blue-100 text-blue-800 group-hover:bg-blue-200 transition-colors",title:"EIT's self score",children:["EIT: ",P.rank]}),P.supervisor_score!==null&&P.supervisor_score!==void 0&&a.jsxs("span",{className:"inline-block px-2 py-0.5 rounded-full text-xs font-semibold bg-green-100 text-green-800 group-hover:bg-green-200 transition-colors",title:"Supervisor's score",children:["Supervisor: ",P.supervisor_score]})]})]},P.skill_id))})]},j)})})]})})]})},K4=()=>a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Reviews"}),a.jsx("p",{children:"View and manage pending and completed reviews. (Coming soon)"})]}),J4=()=>a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Documents"}),a.jsx("p",{children:"Access and share documents with your team. (Coming soon)"})]}),Y4=Ut()(Sf(e=>({eitRequests:!0,skillValidationRequests:!0,saoFeedback:!0,toggleEitRequests:()=>e(t=>({eitRequests:!t.eitRequests})),toggleSkillValidationRequests:()=>e(t=>({skillValidationRequests:!t.skillValidationRequests})),toggleSaoFeedback:()=>e(t=>({saoFeedback:!t.saoFeedback}))}),{name:"supervisor-notification-preferences"})),X4=[{name:"Free",price:"$0",description:"Perfect for getting started",features:["Basic progress tracking","Up to 5 documents","Standard support","Basic analytics"],buttonText:"Current Plan",isPopular:!1}],Q4=()=>{var $n;const[e,t]=m.useState(null),[s,n]=m.useState(""),[r,i]=m.useState(""),[o,l]=m.useState(""),[c,u]=m.useState(!1),[d,h]=m.useState({type:"",text:""}),[f,p]=m.useState(!1),[v,y]=m.useState(!1),[b,g]=m.useState(!1),[x,w]=m.useState(""),[S,j]=m.useState(""),[k,_]=m.useState(""),[E,P]=m.useState(""),[D,A]=m.useState("Free"),[F,O]=m.useState([]),[R,C]=m.useState(""),[I,M]=m.useState("idle"),[T,L]=m.useState(""),[z,G]=m.useState(!1),[H,ge]=m.useState(""),[ye,Re]=m.useState(""),[Oe,Et]=m.useState(""),[Ta,gt]=m.useState("idle"),[tn,Ct]=m.useState(""),{eitRequests:Ln,skillValidationRequests:sn,saoFeedback:nn,toggleEitRequests:Vr,toggleSkillValidationRequests:Kl,toggleSaoFeedback:es}=Y4();m.useEffect(()=>{(async()=>{var je;const{data:{user:J}}=await N.auth.getUser();J&&(t(J),n(((je=J.user_metadata)==null?void 0:je.full_name)||""),i(J.email||""),l(J.email||""),N.from("supervisor_eit_relationships").select("eit_profiles (id, full_name, email)").eq("supervisor_id",J.id).eq("status","active").then(({data:ke})=>{ke&&O(ke.map(zt=>zt.eit_profiles).filter(zt=>zt))}),N.auth.mfa.listFactors().then(({data:ke})=>{var Pa;const zt=(Pa=ke==null?void 0:ke.all)==null?void 0:Pa.find(Aa=>Aa.factor_type==="totp"&&Aa.status==="verified");G(!!zt)}))})()},[]);const Mn=async q=>{q.preventDefault(),u(!0),h({type:"",text:""});try{const J={};f&&(J.data={full_name:s}),v&&o!==r&&(J.email=o);const{error:je}=await N.auth.updateUser(J);if(je)throw je;if(f&&e){const{error:zt}=await N.from("supervisor_profiles").update({full_name:s}).eq("id",e.id);if(zt)throw zt}h({type:"success",text:"Profile updated successfully!"}),p(!1),y(!1);const{data:{user:ke}}=await N.auth.getUser();ke&&(t(ke),i(ke.email||""),l(ke.email||""))}catch(J){h({type:"error",text:"Failed to update profile. Please try again."}),console.error("Error updating profile:",J)}finally{u(!1)}},ts=q=>q.split(" ").map(J=>J[0]).join("").toUpperCase();return a.jsxs("div",{className:"max-w-3xl mx-auto p-6 space-y-8",children:[a.jsxs("section",{className:"card p-6 flex flex-col md:flex-row gap-6 items-center",children:[a.jsx("div",{className:"flex flex-col items-center",children:a.jsx("div",{className:"relative",children:($n=e==null?void 0:e.user_metadata)!=null&&$n.avatar_url?a.jsx("img",{src:e.user_metadata.avatar_url,className:"w-24 h-24 rounded-full object-cover bg-slate-100",alt:"Profile"}):a.jsx("div",{className:"w-24 h-24 rounded-full bg-teal-500 flex items-center justify-center text-white text-3xl font-bold",children:ts(s||r)})})}),a.jsxs("form",{className:"flex-1 space-y-4 w-full",onSubmit:Mn,children:[a.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[a.jsx(tb,{})," Profile Information",a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"SUPERVISOR"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fullName",className:"label",children:"Full Name"}),f?a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{type:"text",id:"fullName",value:s,onChange:q=>n(q.target.value),className:"input",placeholder:"Enter your full name"}),a.jsx("div",{className:"flex space-x-2",children:a.jsx("button",{type:"button",onClick:()=>p(!1),className:"btn btn-secondary",children:"Cancel"})})]}):a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{children:s||"Not set"}),a.jsx("button",{type:"button",onClick:()=>p(!0),className:"text-sm text-teal-600 hover:text-teal-700",children:"Edit"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"label",children:"Email Address"}),v?a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{type:"email",id:"newEmail",value:o,onChange:q=>l(q.target.value),className:"input",placeholder:"Enter your new email"}),a.jsx("p",{className:"text-sm text-slate-500",children:"After changing your email, you'll need to use the new email address to log in."}),a.jsx("div",{className:"flex space-x-2",children:a.jsx("button",{type:"button",onClick:()=>y(!1),className:"btn btn-secondary",children:"Cancel"})})]}):a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{children:r}),a.jsx("button",{type:"button",onClick:()=>y(!0),className:"text-sm text-teal-600 hover:text-teal-700",children:"Edit"})]})]}),(f||v)&&a.jsx("button",{type:"submit",disabled:c,className:"btn btn-primary",children:c?"Saving...":"Save Changes"})]})]}),a.jsxs("section",{className:"card p-6",children:[a.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[a.jsx(Kw,{})," Security"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"label",children:"Password"}),b?a.jsxs("div",{className:"space-y-4",children:[a.jsx("input",{type:"password",id:"currentPassword",value:x,onChange:q=>w(q.target.value),className:"input",placeholder:"Current password"}),a.jsx("input",{type:"password",id:"newPassword",value:S,onChange:q=>j(q.target.value),className:"input",placeholder:"New password"}),a.jsx("input",{type:"password",id:"confirmPassword",value:k,onChange:q=>_(q.target.value),className:"input",placeholder:"Confirm new password"}),E&&a.jsx("p",{className:"text-sm text-red-600",children:E}),a.jsx("div",{className:"flex space-x-2",children:a.jsx("button",{type:"button",onClick:()=>g(!1),className:"btn btn-secondary",children:"Cancel"})})]}):a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{children:"••••••••"}),a.jsx("button",{type:"button",onClick:()=>g(!0),className:"text-sm text-teal-600 hover:text-teal-700",children:"Change"})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"label",children:"Two-Factor Authentication"}),z?a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("span",{className:"text-green-700 font-medium",children:"Enabled (TOTP)"}),a.jsx("button",{className:"btn btn-danger w-fit",onClick:async()=>{var q;gt("idle"),Ct("");try{const{data:J}=await N.auth.mfa.listFactors(),je=(q=J==null?void 0:J.all)==null?void 0:q.find(ke=>ke.factor_type==="totp"&&ke.status==="verified");je&&(await N.auth.mfa.unenroll({factorId:je.id}),G(!1))}catch{Ct("Failed to disable 2FA.")}},children:"Disable 2FA"}),tn&&a.jsx("span",{className:"text-red-600 text-sm",children:tn})]}):Ta==="enrolling"?a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("span",{children:"Scan this QR code with your authenticator app:"}),H&&a.jsx("img",{src:H,alt:"TOTP QR Code",className:"w-40 h-40"}),a.jsx("input",{type:"text",className:"input mt-2",placeholder:"Enter 6-digit code",value:Oe,onChange:q=>Et(q.target.value),maxLength:6}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"btn btn-primary w-fit",onClick:async()=>{gt("verifying"),Ct("");try{const{data:q,error:J}=await N.auth.mfa.challenge({factorId:ye});if(J)throw J;const{error:je}=await N.auth.mfa.verify({factorId:ye,challengeId:q.id,code:Oe});if(je)throw je;G(!0),gt("enabled")}catch{Ct("Invalid code. Please try again."),gt("enrolling")}},disabled:Oe.length!==6,children:"Verify"}),a.jsx("button",{className:"btn btn-secondary w-fit",onClick:async()=>{gt("idle"),ge(""),Re(""),Et(""),Ct("");try{const{data:q}=await N.auth.mfa.listFactors();if(q!=null&&q.all)for(const J of q.all)J.factor_type==="totp"&&J.status!=="verified"&&await N.auth.mfa.unenroll({factorId:J.id})}catch{}},children:"Cancel"})]}),tn&&a.jsx("span",{className:"text-red-600 text-sm",children:tn})]}):a.jsx("button",{className:"btn btn-primary w-fit",onClick:async()=>{gt("enrolling"),Ct(""),ge(""),Re(""),Et("");try{const{data:q}=await N.auth.mfa.listFactors();if(q!=null&&q.all)for(const J of q.all)J.factor_type==="totp"&&J.status!=="verified"&&await N.auth.mfa.unenroll({factorId:J.id})}catch{}try{const{data:q,error:J}=await N.auth.mfa.enroll({factorType:"totp"});if(J)throw J;ge(q.totp.qr_code),Re(q.id)}catch{Ct("Failed to start 2FA enrollment."),gt("idle")}},children:"Set up Two-Factor Authentication"})]})]})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ra,{className:"h-6 w-6 text-gray-400 mr-2"}),a.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Notification Preferences"})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"EIT Connection Requests"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when an EIT requests to connect with you"})]}),a.jsx(xn,{checked:Ln,onChange:Vr,className:`${Ln?"bg-teal-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2`,children:a.jsx("span",{className:`${Ln?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Skill Validation Requests"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when an EIT requests skill validation"})]}),a.jsx(xn,{checked:sn,onChange:Kl,className:`${sn?"bg-teal-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2`,children:a.jsx("span",{className:`${sn?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"SAO Feedback"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when you receive new SAO feedback requests"})]}),a.jsx(xn,{checked:nn,onChange:es,className:`${nn?"bg-teal-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2`,children:a.jsx("span",{className:`${nn?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]})]})]}),a.jsxs("section",{className:"card p-6",children:[a.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[a.jsx(Jw,{})," EIT Connections"]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-3",children:"Current Connections"}),F.length===0?a.jsx("div",{className:"text-slate-400",children:"No active EIT connections."}):a.jsx("ul",{className:"divide-y divide-slate-200",children:F.map(q=>a.jsxs("li",{className:"py-2 flex flex-col md:flex-row md:items-center md:justify-between",children:[a.jsx("span",{className:"font-medium text-slate-800",children:q.full_name}),a.jsx("span",{className:"text-slate-500 text-sm",children:q.email})]},q.id))})]}),a.jsx("div",{className:"border-t border-slate-200 my-4"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-3",children:"Connect with a New EIT"}),a.jsxs("form",{className:"flex flex-col md:flex-row gap-4 items-start md:items-end",onSubmit:async q=>{if(q.preventDefault(),M("idle"),L(""),!!R){u(!0);try{const{data:J}=await N.from("eit_profiles").select("id, email, full_name").eq("email",R).single();if(!J){M("notfound"),L("No EIT found with that email."),u(!1);return}const{data:je}=await N.from("supervisor_eit_relationships").select("id, status").eq("supervisor_id",e==null?void 0:e.id).eq("eit_id",J.id).maybeSingle();if(je&&je.status==="pending"){M("pending"),L("A request is already pending for this EIT."),u(!1);return}if(je&&je.status==="active"){M("already"),L("This EIT is already connected."),u(!1);return}const{error:ke}=await N.from("supervisor_eit_relationships").upsert({supervisor_id:e==null?void 0:e.id,eit_id:J.id,status:"pending",created_at:new Date().toISOString(),updated_at:new Date().toISOString()});if(ke)throw ke;M("success"),L("Request sent! The EIT will see it in their dashboard."),C("")}catch(J){console.error(J),M("error"),L("Failed to send request. Please try again.")}finally{u(!1)}}},children:[a.jsxs("div",{className:"flex-1 w-full",children:[a.jsx("label",{htmlFor:"eitEmail",className:"label",children:"EIT Email"}),a.jsx("input",{type:"email",id:"eitEmail",value:R,onChange:q=>C(q.target.value),className:"input w-full",placeholder:"Enter EIT's email",required:!0})]}),a.jsx("button",{type:"submit",className:"btn btn-primary whitespace-nowrap",disabled:c,children:c?"Sending...":"Send Request"})]}),T&&a.jsx("div",{className:`mt-3 text-sm p-2 rounded-md ${I==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:T})]})]})]}),a.jsxs("section",{className:"card p-6",children:[a.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[a.jsx(ra,{})," Notifications"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Coming soon: Manage your email and in-app notification preferences."})]}),a.jsxs("section",{className:"card p-6",children:[a.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-2",children:[a.jsx(eb,{})," Appearance"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Coming soon: Switch between light and dark mode."})]}),a.jsxs("section",{className:"card p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Subscription Plan"}),a.jsx("div",{className:"grid gap-6 md:grid-cols-1",children:X4.map(q=>a.jsxs("div",{className:`relative rounded-lg border ${q.isPopular?"border-teal-500":"border-slate-200"} p-6`,children:[q.isPopular&&a.jsx("span",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-teal-500 text-white px-3 py-1 rounded-full text-sm",children:"Most Popular"}),a.jsx("h3",{className:"text-lg font-semibold",children:q.name}),a.jsx("div",{className:"mt-2 flex items-baseline",children:a.jsx("span",{className:"text-2xl font-bold",children:q.price})}),a.jsx("p",{className:"mt-2 text-sm text-slate-500",children:q.description}),a.jsx("ul",{className:"mt-4 space-y-2",children:q.features.map(J=>a.jsxs("li",{className:"flex items-center",children:[a.jsx(Hw,{className:"h-4 w-4 text-teal-500 mr-2"}),a.jsx("span",{className:"text-sm text-slate-600",children:J})]},J))}),a.jsx("button",{className:`mt-6 w-full rounded-md px-4 py-2 text-sm font-medium ${q.isPopular?"bg-teal-600 text-white hover:bg-teal-700":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,disabled:!0,children:q.buttonText})]},q.name))})]}),a.jsxs("section",{className:"card p-6 border-red-200",children:[a.jsxs("h2",{className:"text-lg font-semibold text-red-600 flex items-center gap-2 mb-2",children:[a.jsx(zr,{})," Danger Zone"]}),a.jsx("button",{className:"btn btn-danger",children:"Delete Account"}),a.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"This action is irreversible. Your data will be permanently deleted."})]}),d.text&&a.jsx("div",{className:`fixed bottom-4 right-4 p-4 rounded-md z-50 ${d.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:d.text})]})},Z4=()=>{const[e,t]=m.useState(""),[s,n]=m.useState(""),[r,i]=m.useState(""),[o,l]=m.useState(!1),[c,u]=m.useState(null),[d,h]=m.useState(!1),[f,p]=m.useState(null),[v,y]=m.useState("general"),[b,g]=m.useState("help"),x=async j=>{j.preventDefault(),l(!0),u(null),h(!1);try{const k=await fetch("https://bbixvnkqroskholbxkgj.supabase.co/functions/v1/send-support-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU"},body:JSON.stringify({email:e,subject:s,message:r,issueType:v,mode:b,userType:"supervisor"})}),_=await k.json();if(!k.ok)throw new Error(_.error||"Failed to send message");h(!0),t(""),n(""),i(""),y("general")}catch(k){u(k instanceof Error?k.message:"Failed to send message. Please try again later."),console.error("Error sending support message:",k)}finally{l(!1)}},w=[{id:"validation",question:"How do I validate EIT skills?",answer:"To validate an EIT's skills, navigate to the Validation Requests section. Here you can review their self-assessments and supporting experiences. For each skill, you can provide a score and feedback based on the evidence presented. Make sure to thoroughly review their documented experiences before making your assessment."},{id:"team",question:"How do I manage my EIT team?",answer:"The Team section allows you to view all your connected EITs, their progress, and pending requests. You can accept new EIT connections, view individual progress, and access detailed skill assessments for each team member. Regular check-ins and feedback are essential for effective team management."},{id:"reviews",question:"What should I look for in experience reviews?",answer:"When reviewing experiences, focus on the quality of the Situation-Action-Outcome (SAO) documentation. Look for clear descriptions of the situation, specific actions taken, and measurable outcomes. The experience should demonstrate clear competency in the associated skills and show professional growth."},{id:"progress",question:"How do I track team progress?",answer:"The Dashboard provides an overview of your team's progress, including completed skills, documented experiences, and validation status. You can view individual progress for each EIT and identify areas that need attention or additional support."},{id:"guidance",question:"How can I provide effective guidance?",answer:"Effective guidance involves regular communication, constructive feedback, and clear expectations. Use the platform's messaging features to maintain open communication, provide timely feedback on submissions, and help EITs understand how to improve their documentation and skill assessments."}],S=[{title:"Supervisor Guide",description:"Comprehensive guide to supervising EITs and using the platform effectively",icon:a.jsx(ka,{size:20}),link:"/resources/supervisor-guide"},{title:"Validation Guidelines",description:"Best practices for validating EIT skills and experiences",icon:a.jsx(Ks,{size:20}),link:"/resources/validation-guidelines"},{title:"Team Management",description:"Tips and strategies for effective EIT team management",icon:a.jsx(Vl,{size:20}),link:"/resources/team-management"}];return a.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Help & Support"}),a.jsx("p",{className:"text-slate-500 mt-2 text-lg",children:"Get help with managing and supporting your EIT team"}),a.jsx("div",{className:"mt-6 flex justify-center",children:a.jsxs("div",{className:"inline-flex rounded-lg border border-slate-200 p-1 bg-white",children:[a.jsxs("button",{onClick:()=>g("help"),className:`px-4 py-2 rounded-md text-sm font-medium flex items-center gap-2 ${b==="help"?"bg-teal-50 text-teal-700":"text-slate-600 hover:text-slate-900"}`,children:[a.jsx(Tr,{size:16}),"Help"]}),a.jsxs("button",{onClick:()=>g("feedback"),className:`px-4 py-2 rounded-md text-sm font-medium flex items-center gap-2 ${b==="feedback"?"bg-teal-50 text-teal-700":"text-slate-600 hover:text-slate-900"}`,children:[a.jsx(wf,{size:16}),"Feedback"]})]})})]}),b==="help"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-teal-50 rounded-lg p-6 mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-teal-800 mb-4",children:"Quick Access"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("a",{href:"/dashboard/supervisor/team",className:"bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[a.jsx("h3",{className:"font-medium text-teal-700",children:"Team Management"}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"View and manage your EIT team members"})]}),a.jsxs("a",{href:"/dashboard/supervisor/validation-requests",className:"bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[a.jsx("h3",{className:"font-medium text-teal-700",children:"Validation Requests"}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Review and validate EIT skills and experiences"})]}),a.jsxs("a",{href:"/dashboard/supervisor/reviews",className:"bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[a.jsx("h3",{className:"font-medium text-teal-700",children:"Experience Reviews"}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Review and provide feedback on EIT experiences"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Contact Support"}),a.jsxs("form",{onSubmit:x,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-1",children:"Your Email"}),a.jsx("input",{type:"email",id:"email",value:e,onChange:j=>t(j.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter your email",required:!0,disabled:o})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"issueType",className:"block text-sm font-medium text-slate-700 mb-1",children:"Issue Type"}),a.jsxs("select",{id:"issueType",value:v,onChange:j=>y(j.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",required:!0,disabled:o,children:[a.jsx("option",{value:"general",children:"General Inquiry"}),a.jsx("option",{value:"technical",children:"Technical Issue"}),a.jsx("option",{value:"validation",children:"Validation Process"}),a.jsx("option",{value:"team",children:"Team Management"}),a.jsx("option",{value:"other",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-slate-700 mb-1",children:"Subject"}),a.jsx("input",{type:"text",id:"subject",value:s,onChange:j=>n(j.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"What's your question about?",required:!0,disabled:o})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-slate-700 mb-1",children:"Message"}),a.jsx("textarea",{id:"message",value:r,onChange:j=>i(j.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 min-h-[150px]",placeholder:"Describe your issue or question...",required:!0,disabled:o})]}),c&&a.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-md text-sm flex items-center gap-2",children:[a.jsx(na,{size:16}),c]}),d&&a.jsx("div",{className:"p-3 bg-green-50 text-green-700 rounded-md text-sm",children:"Your message has been sent successfully. We'll get back to you soon!"}),a.jsx("button",{type:"submit",className:"btn btn-primary w-full flex items-center justify-center gap-2",disabled:o,children:o?a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):a.jsxs(a.Fragment,{children:[a.jsx(ll,{size:18}),"Send Message"]})})]})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Frequently Asked Questions"}),a.jsx("div",{className:"space-y-4",children:w.map(j=>a.jsxs("div",{className:"border-b border-slate-200 last:border-0 pb-4 last:pb-0",children:[a.jsxs("button",{className:"w-full flex items-center justify-between text-left",onClick:()=>p(f===j.id?null:j.id),children:[a.jsx("h3",{className:"font-medium text-slate-900",children:j.question}),f===j.id?a.jsx(Gw,{size:20}):a.jsx(Ul,{size:20})]}),f===j.id&&a.jsx("p",{className:"text-sm text-slate-600 mt-2",children:j.answer})]},j.id))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Helpful Resources"}),a.jsx("div",{className:"space-y-4",children:S.map((j,k)=>a.jsxs("a",{href:j.link,className:"flex items-start gap-3 p-3 rounded-lg hover:bg-slate-50 transition-colors",children:[a.jsx("div",{className:"text-teal-600 mt-1",children:j.icon}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-slate-900",children:j.title}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:j.description})]}),a.jsx(xf,{size:16,className:"text-slate-400 ml-auto mt-1"})]},k))})]})]})]})]}):a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Share Your Feedback"}),a.jsx("p",{className:"text-slate-600 mb-6",children:"We value your feedback as a supervisor! Let us know what you think about the platform, what's working well for your team, and what we can improve to better support your role."}),a.jsxs("form",{onSubmit:x,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-1",children:"Your Email"}),a.jsx("input",{type:"email",id:"email",value:e,onChange:j=>t(j.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Enter your email",required:!0,disabled:o})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-slate-700 mb-1",children:"Subject"}),a.jsx("input",{type:"text",id:"subject",value:s,onChange:j=>n(j.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Brief summary of your feedback",required:!0,disabled:o})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-slate-700 mb-1",children:"Your Feedback"}),a.jsx("textarea",{id:"message",value:r,onChange:j=>i(j.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 min-h-[200px]",placeholder:"Share your thoughts, suggestions, or concerns...",required:!0,disabled:o})]}),c&&a.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-md text-sm flex items-center gap-2",children:[a.jsx(na,{size:16}),c]}),d&&a.jsx("div",{className:"p-3 bg-green-50 text-green-700 rounded-md text-sm",children:"Thank you for your feedback! We appreciate your input as a supervisor."}),a.jsx("button",{type:"submit",className:"btn btn-primary w-full flex items-center justify-center gap-2",disabled:o,children:o?a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):a.jsxs(a.Fragment,{children:[a.jsx(ll,{size:18}),"Submit Feedback"]})})]})]})})]})},e3=()=>{const{appLoaded:e}=Rv(),[t,s]=m.useState(!0),[n,r]=m.useState([]),[i,o]=m.useState([]),[l,c]=m.useState({totalEITs:0,pendingReviews:0,completedReviews:0,averageTeamProgress:0}),[u,d]=m.useState("Supervisor"),[h,f]=m.useState(new Date().toISOString()),[p,v]=m.useState(!1),[y,b]=m.useState(0),[g,x]=m.useState(0),[w,S]=m.useState({}),j=async()=>{try{v(!0);const{data:{user:P}}=await N.auth.getUser();if(!P)return;const{data:D}=await N.from("supervisor_profiles").select("full_name").eq("id",P.id).single();D&&D.full_name&&d(D.full_name);const{data:A,error:F}=await N.from("supervisor_eit_relationships").select(`
          eit_id,
          eit_profiles (
            id,
            full_name,
            email
          )
        `).eq("supervisor_id",P.id).eq("status","active");if(F)throw F;const O=A?A.map(I=>I.eit_profiles):[];console.log("DEBUG relationships:",A),console.log("DEBUG eitData:",O),r(O);const{count:R}=await N.from("validators").select("*",{count:"exact",head:!0}).eq("email",P.email).eq("status","pending");b(R||0);const{count:C}=await N.from("sao_feedback").select("*",{count:"exact",head:!0}).eq("supervisor_id",P.id).eq("status","pending");if(x(C||0),O.length>0){const{data:I,error:M}=await N.from("experiences").select("*").in("eit_id",O.map(H=>H.id)).eq("supervisor_approved",!1);if(M)throw M;const{data:T,error:L}=await N.from("experiences").select("*").in("eit_id",O.map(H=>H.id)).eq("supervisor_approved",!0);if(L)throw L;c({totalEITs:O.length,pendingReviews:y+g,completedReviews:(T==null?void 0:T.length)||0,averageTeamProgress:0});const{data:z,error:G}=await N.from("experiences").select("*").in("eit_id",O.map(H=>H.id)).order("created_at",{ascending:!1}).limit(5);if(G)throw G;o(z||[])}else c({totalEITs:0,pendingReviews:0,completedReviews:0,averageTeamProgress:0}),o([]);f(new Date().toISOString())}catch(P){console.error("Error fetching dashboard data:",P)}finally{s(!1),v(!1)}},k=async P=>{const D=await Promise.all(P.map(async A=>{const[F,O,R]=await Promise.all([N.from("eit_skills").select("id",{count:"exact",head:!0}).eq("eit_id",A).not("rank","is",null),N.from("experiences").select("id",{count:"exact",head:!0}).eq("eit_id",A),N.from("experiences").select("id",{count:"exact",head:!0}).eq("eit_id",A).eq("supervisor_approved",!0)]),C=F.count||0,I=O.count||0,M=R.count||0,T=C/22,L=I/24,z=M/24,G=Math.round((T+L+z)/3*100);return[A,G]}));return S(Object.fromEntries(D)),D};m.useEffect(()=>{if(n.length>0){k(n.map(D=>D.id));const P=setInterval(()=>{k(n.map(D=>D.id))},3e4);return()=>clearInterval(P)}},[n]);const _=n.length>0?Math.round(n.reduce((P,D)=>P+(w[D.id]||0),0)/n.length):0;m.useEffect(()=>{j()},[]);const E=P=>new Date(P).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return t&&e?a.jsx(Ea,{}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800 flex items-center gap-2",children:["Welcome back, ",u,"!",a.jsx("span",{className:"ml-2 px-2 py-0.5 rounded text-xs font-semibold bg-purple-100 text-purple-800",children:"SUPERVISOR"})]}),a.jsx("p",{className:"text-slate-500 mt-1",children:"Here's an overview of your team's progress"})]}),a.jsxs("div",{className:"flex items-center space-x-2 mt-4 md:mt-0",children:[a.jsxs("span",{className:"text-sm text-slate-500 flex items-center",children:[a.jsx(gf,{size:14,className:"mr-1"}),"Last updated: ",E(h)]}),a.jsx("button",{className:`btn btn-primary ${p?"opacity-75 cursor-not-allowed":""}`,onClick:j,disabled:p,children:p?"Refreshing...":"Refresh"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow p-6 flex flex-col gap-4 min-w-[220px]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-semibold text-lg text-slate-800",children:"Team Progress"}),a.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-bold bg-teal-50 text-teal-600",children:[_,"%"]})]}),a.jsx("div",{className:"w-full h-2 rounded bg-slate-100",children:a.jsx("div",{className:"h-full rounded bg-teal-500 transition-all duration-700",style:{width:`${_}%`}})}),a.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Average team completion rate"})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow p-6 flex flex-col gap-4 min-w-[220px]",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("span",{className:"font-semibold text-lg text-slate-800",children:"Total EITs"})}),a.jsx("span",{className:"block text-3xl font-extrabold text-slate-900 leading-tight",children:l.totalEITs}),a.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"EITs under your supervision"})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow p-6 flex flex-col gap-4 min-w-[220px]",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("span",{className:"font-semibold text-lg text-slate-800",children:"Pending Reviews"})}),a.jsx("span",{className:"block text-3xl font-extrabold text-slate-900 leading-tight",children:y+g}),a.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Validations: ",y,", SAOs: ",g]})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow p-6 flex flex-col gap-4 min-w-[220px]",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("span",{className:"font-semibold text-lg text-slate-800",children:"Completed Reviews"})}),a.jsx("span",{className:"block text-3xl font-extrabold text-slate-900 leading-tight",children:l.completedReviews}),a.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Reviews completed"})]})]}),n.length>0&&a.jsx("div",{className:"card mb-8",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Team Members"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:n.map(P=>a.jsxs("div",{className:"border-b border-gray-200 pb-4 last:border-0",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),a.jsx("p",{className:"font-medium",children:P.full_name})]}),a.jsxs("div",{className:"mt-2",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),a.jsx("p",{className:"font-medium",children:P.email})]})]},P.id))})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Recent Activities"}),a.jsxs("div",{className:"space-y-4",children:[i.length===0&&a.jsx("div",{className:"text-slate-400",children:"No recent activities"}),i.map(P=>a.jsxs("div",{className:"border-b border-gray-200 pb-4 last:border-0",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:P.title}),a.jsx("p",{className:"text-sm text-gray-500",children:P.description})]}),a.jsx("span",{className:"text-sm text-gray-500",children:new Date(P.created_at).toLocaleDateString()})]}),a.jsx("div",{className:"mt-2",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${P.status==="approved"?"bg-green-100 text-green-800":P.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:P.status.charAt(0).toUpperCase()+P.status.slice(1)})})]},P.id))]})]})})]})},t3=e3;let Gc=!1;const s3=()=>{var e,t,s,n,r,i,o,l;if(!Gc)try{Gc=!0,(t=(e=ca.getState()).clearState)==null||t.call(e),(n=(s=Qt.getState()).clearState)==null||n.call(s),(i=(r=Hl.getState()).clearState)==null||i.call(r),(l=(o=pb.getState()).clearState)==null||l.call(o)}finally{Gc=!1}},n3=()=>{const[e,t]=m.useState(!0),[s,n]=m.useState(null),[r,i]=m.useState(null),o=He(),l=m.useCallback(async()=>{try{t(!0),n(null);const{data:{user:c},error:u}=await N.auth.getUser();if(u)throw new Error(`Authentication error: ${u.message}`);if(!c)throw new Error("No authenticated user found");const[d,h]=await Promise.all([N.from("eit_profiles").select("account_type").eq("id",c.id).single(),N.from("supervisor_profiles").select("account_type").eq("id",c.id).single()]);if(d.error&&h.error)throw new Error("Failed to fetch user profiles");if(h.data)i("supervisor"),o("/dashboard/supervisor",{replace:!0});else if(d.data)i("eit"),o("/dashboard",{replace:!0});else throw new Error("No profile found for user")}catch(c){const u=c instanceof Error?c.message:"An unexpected error occurred";n(u),console.error("Error checking user role:",c),o("/login")}finally{t(!1)}},[o]);return m.useEffect(()=>{l();const{data:{subscription:c}}=N.auth.onAuthStateChange(u=>{u==="SIGNED_OUT"?(s3(),o("/login")):u==="SIGNED_IN"&&l()});return()=>{c.unsubscribe()}},[l,o]),e?a.jsx(Ea,{}):s?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsxs("div",{className:"text-red-500 text-center",children:[a.jsxs("p",{children:["Error: ",s]}),a.jsx("button",{onClick:()=>o("/login"),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Return to Login"})]})}):null},u0=Ut(e=>({loading:!1,startWriting:async()=>{e({loading:!0});try{const{data:t}=await N.from("eit_skills").select("*").eq("status","completed"),s=await fetch("https://bbixvnkqroskholbxkgj.supabase.co/functions/v1/generate-essay",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaXh2bmtxcm9za2hvbGJ4a2dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwMTg3NjMsImV4cCI6MjA2MjU5NDc2M30.6oGRIhAuzrOq3UI9bOUlxyIoaslzK_UtjrgaxV9WIrU","Content-Type":"application/json"},body:JSON.stringify({skills:t,experiences:[]})});if(!s.ok)throw new Error("Failed to generate essay");const{essay:n}=await s.json();await N.from("essays").insert({title:"AI Generated Essay",content:n,ai_generated:!0})}finally{e({loading:!1})}}}));class r3 extends ne.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,s){}render(){return this.state.hasError?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-red-600",children:"Something went wrong."}),a.jsx("pre",{className:"mt-4 text-sm text-slate-700",children:String(this.state.error)})]}):this.props.children}}const i3=ne.lazy(()=>ht(()=>import("./ProgressCard-CtRnHVUJ.js"),[])),a3=ne.lazy(()=>ht(()=>import("./RecentActivities-C1MhFLER.js"),[])),o3=ne.lazy(()=>ht(()=>import("./UpcomingDeadlines-Dd5gXmuk.js"),[])),l3=ne.lazy(()=>ht(()=>import("./SkillsOverview-DxxUlR8y.js"),[])),c3=()=>{He();const{appLoaded:e}=Rv(),[t,s]=m.useState(""),[n,r]=m.useState(null),{overallProgress:i,completedSkills:o,totalSkills:l,documentedExperiences:c,totalExperiences:u,supervisorApprovals:d,totalApprovals:h,lastUpdated:f,loading:p,updateProgress:v,initialize:y}=ca(),b=u0(H=>H.startWriting),g=u0(H=>H.loading),x=Qt(H=>H.loadUserSkills),{saos:w,loading:S,loadUserSAOs:j}=Hl(),[k,_]=m.useState(null),[E,P]=m.useState([]),[D,A]=m.useState(!1);console.log("Google Client ID (from import.meta.env):","75421336207-tftquv2i1mvom7ve3abijonie2r70kb6.apps.googleusercontent.com");const[O,R]=m.useState(!0),[C,I]=m.useState(!1),[M,T]=m.useState(null);m.useEffect(()=>{(async()=>{var ge;try{const{data:{user:ye}}=await N.auth.getUser();if(!ye)return;(ge=ye.user_metadata)!=null&&ge.full_name&&s(ye.user_metadata.full_name);const[Re,Oe,Et,Ta,gt]=await Promise.all([N.from("eit_profiles").select("id").eq("id",ye.id).single(),N.from("supervisor_profiles").select("id").eq("id",ye.id).single(),x(),y(),w.length===0&&!S?j():Promise.resolve()]);Oe.data?r("supervisor"):Re.data&&r("eit"),T({eitProfile:Re.data,supervisorProfile:Oe.data})}catch(ye){console.error("Error initializing dashboard data:",ye)}finally{R(!1)}})()},[x,y,w.length,S,j]),m.useEffect(()=>{k&&(A(!0),fetch("https://www.googleapis.com/calendar/v3/calendars/primary/events?maxResults=5&orderBy=startTime&singleEvents=true&timeMin="+new Date().toISOString(),{headers:{Authorization:`Bearer ${k}`}}).then(H=>H.json()).then(H=>{P(H.items||[])}).catch(()=>P([])).finally(()=>A(!1)))},[k]);const L=[{title:"Overall Progress",value:i,description:i>=75?"Excellent progress!":i>=50?"Good progress!":i>=25?"Keep going!":"Just getting started!",color:"teal"},{title:"Completed Skills",value:o,total:l,description:`${l-o} skills remaining to complete`,color:"blue"},{title:"SAOs Completed",value:w.length,total:24,description:`${24-w.length} SAOs remaining to complete`,color:"indigo"},{title:"Supervisor Approvals",value:d,total:h,description:`${h-d} items pending approval`,color:"purple"}],z=H=>new Date(H).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),G=B4({onSuccess:H=>{_(H.access_token)},onError:()=>{alert("Google Login Failed")},scope:"https://www.googleapis.com/auth/calendar.readonly",flow:"implicit"});return O&&e?a.jsx(Ea,{}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800 flex items-center gap-2",children:["Welcome back, ",t||"Engineer","!",n&&a.jsx("span",{className:`ml-2 px-2 py-0.5 rounded text-xs font-semibold
                  ${n==="eit"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:n==="eit"?"EIT":"Supervisor"})]}),a.jsx("p",{className:"text-slate-500 mt-1",children:n==="eit"?"Here's an overview of your EIT progress":"Here's an overview of your team's progress"})]}),a.jsxs("div",{className:"flex items-center space-x-2 mt-4 md:mt-0",children:[a.jsxs("span",{className:"text-sm text-slate-500 flex items-center",children:[a.jsx(gf,{size:14,className:"mr-1"}),"Last updated: ",z(f)]}),a.jsx("button",{className:`btn btn-primary ${C?"opacity-75 cursor-not-allowed":""}`,onClick:async()=>{if(!C){I(!0);try{await Promise.all([x(),v(!0),j()])}catch(H){console.error("Error refreshing dashboard:",H)}finally{I(!1)}}},disabled:C,children:C?"Refreshing...":"Refresh"})]})]}),!1,a.jsx(m.Suspense,{fallback:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((H,ge)=>a.jsx("div",{className:"card animate-pulse h-32"},ge))}),children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:L.map((H,ge)=>a.jsx(i3,{...H},ge))})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"card",children:[a.jsx("div",{className:"flex justify-between items-center mb-4",children:a.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[a.jsx(pf,{size:18,className:"mr-2 text-teal-600"}),"Recent Activities"]})}),a.jsx(m.Suspense,{fallback:a.jsx("div",{className:"p-6 text-center text-slate-400",children:"Loading activities..."}),children:a.jsx(a3,{})})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[a.jsx(qw,{size:18,className:"mr-2 text-teal-600"}),"Upcoming Deadlines"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{className:"text-sm text-teal-600 hover:text-teal-700 flex items-center",children:["View All ",a.jsx(eA,{size:14,className:"ml-1"})]}),!k&&a.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700 flex items-center border border-blue-200 rounded px-2 py-1 ml-2",onClick:()=>G(),type:"button",children:"Connect Calendar"})]})]}),k?a.jsx("div",{className:"flex justify-center py-4",children:a.jsx("iframe",{src:"https://calendar.google.com/calendar/embed?mode=AGENDA",style:{border:0,width:"100%",height:"400px",minHeight:"300px"},frameBorder:"0",scrolling:"no",title:"Google Calendar"})}):a.jsx(m.Suspense,{fallback:a.jsx("div",{className:"p-6 text-center text-slate-400",children:"Loading deadlines..."}),children:a.jsx(o3,{})})]})]}),a.jsxs("div",{className:"space-y-6",children:[n==="eit"&&a.jsx(m.Suspense,{fallback:a.jsx("div",{className:"card animate-pulse h-32"}),children:a.jsx(l3,{})}),a.jsxs("div",{className:"card border-2 border-teal-100 bg-teal-50/50",children:[a.jsx("h3",{className:"font-semibold text-teal-800 mb-2",children:"AI Writing Assistant"}),a.jsx("p",{className:"text-sm text-teal-700 mb-3",children:"Let our AI help you draft your next Self-Assessment Outcome (SAO) essay based on your documented experiences."}),a.jsx("button",{className:`btn btn-primary w-full ${g?"opacity-75 cursor-not-allowed":""}`,onClick:()=>b(),disabled:g,children:g?"Generating...":"Start Writing"})]})]})]})]})};function u3(){return a.jsx(r3,{children:a.jsx(Ob,{clientId:"75421336207-tftquv2i1mvom7ve3abijonie2r70kb6.apps.googleusercontent.com",children:a.jsx(c3,{})})})}const d3=()=>{const[e,t]=m.useState(null),[s,n]=m.useState(!0),r=He();return m.useEffect(()=>{(async()=>{n(!0);const{data:{user:o}}=await N.auth.getUser();if(!o){r("/login");return}const{data:l}=await N.from("supervisor_profiles").select("id").eq("id",o.id).single();l?r("/dashboard/supervisor",{replace:!0}):t("eit"),n(!1)})()},[r]),s?a.jsx(Ea,{}):e==="eit"?a.jsx(u3,{}):null},h3={"1.1 Regulations, Codes & Standards":"Demonstrates knowledge and application of relevant regulations, codes, standards, and safety requirements in engineering practice. This includes identifying which standards apply to a given project, ensuring compliance, and keeping up to date with changes in the regulatory environment. Example: Ensuring a design meets all applicable building codes and safety standards.","1.2 Technical & Design Constraints":"Understands and works within technical and design constraints, including limitations of materials, processes, and systems. Able to identify constraints early in the design process and adapt solutions accordingly. Example: Designing a bridge that meets both load requirements and material limitations.","1.3 Risk Management for Technical Work":"Identifies, assesses, and manages risks associated with technical work. This includes conducting risk assessments, implementing mitigation strategies, and monitoring risk throughout the project lifecycle. Example: Performing a hazard analysis for a new manufacturing process.","1.4 Application of Theory":"Applies engineering theory and principles to solve practical problems. Demonstrates the ability to use theoretical knowledge in real-world situations. Example: Using fluid dynamics equations to design a piping system.","1.5 Solution Techniques – Results Verification":"Selects and applies appropriate solution techniques and verifies results for accuracy and reliability. Example: Double-checking calculations and using simulation software to validate a design.","1.6 Safety in Design & Technical Work":"Prioritizes safety in all aspects of design and technical work. Identifies potential hazards and incorporates safety measures into engineering solutions. Example: Designing a machine with proper guarding to prevent operator injury.","1.7 Systems & Their Components":"Understands how systems and their components interact. Able to analyze and optimize system performance. Example: Evaluating the impact of a new component on an existing electrical system.","1.8 Project or Asset Life-Cycle Awareness":"Considers the entire life cycle of a project or asset, from conception to decommissioning. Example: Selecting materials that minimize maintenance costs over the lifespan of a product.","1.9 Quality Assurance":"Implements quality assurance processes to ensure deliverables meet required standards. Example: Developing and following a quality control checklist for a construction project.","1.10 Engineering Documentation":"Prepares clear, accurate, and comprehensive engineering documentation. Example: Writing detailed reports, specifications, and drawings that can be understood by others.","2.1 Oral Communication (English)":"Communicates effectively in spoken English with colleagues, clients, and stakeholders. Example: Leading a project meeting or presenting technical information to a non-technical audience.","2.2 Written Communication (English)":"Communicates effectively in written English, producing clear and concise reports, emails, and documentation. Example: Writing a technical report or project proposal.","2.3 Reading & Comprehension (English)":"Reads and comprehends technical documents, standards, and instructions in English. Example: Interpreting a complex engineering standard or technical manual.","3.1 Project Management Principles":"Applies project management principles to plan, execute, and close projects successfully. Example: Creating a project schedule, managing resources, and tracking progress.","3.2 Finances & Budget":"Manages project finances and budgets, including cost estimation, tracking, and reporting. Example: Preparing a project budget and monitoring expenses to stay within limits."},Ib=m.memo(({skill:e,skillRef:t})=>{const[s,n]=m.useState(!1);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{ref:t,className:"flex items-center justify-between p-3 rounded-lg border hover:border-slate-300 hover:bg-slate-50 transition-colors",children:[a.jsx("span",{className:"font-medium",children:e.name}),a.jsx("button",{className:"p-2 rounded-full text-blue-500 hover:bg-blue-50",onClick:()=>n(!0),title:"More Info",children:a.jsx(dA,{size:18})})]}),s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full relative",children:[a.jsx("button",{className:"absolute top-2 right-2 text-slate-400 hover:text-slate-600",onClick:()=>n(!1),children:"×"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:e.name}),a.jsx("p",{className:"text-slate-700 text-base",children:h3[e.name]||"No summary available for this skill."})]})})]})});m.memo(({category:e})=>a.jsxs("div",{className:"card",children:[a.jsx("div",{className:"flex justify-between items-center mb-4",children:a.jsx("h2",{className:"text-lg font-semibold",children:e.name})}),a.jsx("div",{className:"space-y-3",children:e.skills.map(t=>a.jsx(Ib,{skill:t},t.id))})]}));const f3=()=>{const{skillCategories:e,loadUserSkills:t,loading:s,error:n}=Qt(),r=m.useRef({});return m.useEffect(()=>{t()},[t]),m.useEffect(()=>{const i=o=>{const{skillId:l,timestamp:c}=o.detail;setTimeout(()=>{const u=r.current[l];u&&(u.scrollIntoView({behavior:"smooth",block:"center"}),u.classList.add("ring","ring-teal-400","highlight-item"),setTimeout(()=>u.classList.remove("ring","ring-teal-400","highlight-item"),1500))},100)};return window.addEventListener("scroll-to-skill",i),()=>window.removeEventListener("scroll-to-skill",i)},[]),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Skills & Competencies"}),a.jsx("p",{className:"text-slate-500 mt-1",children:"View the EIT program competencies"})]}),n&&a.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(mf,{size:18,className:"text-red-600 mt-0.5 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-red-800",children:n})]})}),s?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):a.jsx("div",{className:"space-y-6",children:e.map(i=>a.jsxs("div",{className:"card",children:[a.jsx("div",{className:"flex justify-between items-center mb-4",children:a.jsx("h2",{className:"text-lg font-semibold",children:i.name})}),a.jsx("div",{className:"space-y-3",children:i.skills.map(o=>a.jsx(Ib,{skill:o,skillRef:l=>r.current[o.id]=l},o.id))})]},i.name))})]})};async function m3(e,t,s){const{error:n}=await N.from("eit_skills").update({supervisor_score:s,status:"completed"}).eq("eit_id",e).eq("skill_id",t);if(n)throw console.error("Error updating supervisor score:",n),n}const p3=()=>{const[e,t]=m.useState([]),[s,n]=m.useState(!0),[r,i]=m.useState({}),[o,l]=m.useState({}),[c,u]=m.useState({});m.useEffect(()=>{(async()=>{n(!0);const{data:{user:p}}=await N.auth.getUser();if(!p)return;const{data:v,error:y}=await N.from("validators").select("*").eq("email",p.email).eq("status","pending");if(y||!v){n(!1);return}t(v);const b=Array.from(new Set(v.map(k=>k.eit_id))),g=Array.from(new Set(v.map(k=>k.skill_id))),[{data:x},{data:w}]=await Promise.all([N.from("eit_profiles").select("id, full_name, email").in("id",b),N.from("skills").select("id, name").in("id",g)]),S={};(x||[]).forEach(k=>{S[k.id]=k}),l(S);const j={};(w||[]).forEach(k=>{j[k.id]=k}),u(j),n(!1)})()},[]);const d=(f,p)=>{i(v=>({...v,[f]:p}))},h=async f=>{const p=r[f.id];if(!p||p<1||p>5)return;await N.from("validators").update({status:"scored",score:p}).eq("id",f.id),await m3(f.eit_id,f.skill_id,p);const v=o[f.eit_id],y=c[f.skill_id];v&&y&&await XI(v.id,y.name,p),t(b=>b.filter(g=>g.id!==f.id))};return s?a.jsx("div",{children:"Loading..."}):a.jsxs("div",{className:"p-6",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Skill Validation Requests"}),e.length===0?a.jsx("div",{children:"No pending validation requests."}):a.jsx("div",{id:"validation-requests",className:"space-y-4",children:e.map(f=>{const p=o[f.eit_id],v=c[f.skill_id];return a.jsxs("div",{className:"bg-white rounded-lg shadow p-4 flex flex-col md:flex-row md:items-center md:justify-between gap-4 transition-all duration-300",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"font-semibold",children:["Skill: ",v?v.name:f.skill_id]}),a.jsxs("div",{className:"text-slate-600",children:["EIT: ",p?`${p.full_name} (${p.email})`:f.eit_id]}),a.jsxs("div",{className:"text-slate-600",children:["Description: ",f.description]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",min:1,max:5,value:r[f.id]||"",onChange:y=>d(f.id,Number(y.target.value)),className:"input w-24",placeholder:"Score (1-5)"}),a.jsx("button",{className:"btn btn-primary",onClick:()=>h(f),disabled:!r[f.id]||r[f.id]<1||r[f.id]>5,children:"Submit Score"})]})]},f.id)})})]})},g3=({feedback:e,onResolve:t,onSubmitFeedback:s,isSupervisor:n})=>{const[r,i]=m.useState(""),[o,l]=m.useState(!1),c=async h=>{if(h.preventDefault(),!!r.trim()){l(!0);try{await s(e[0].sao_id,r),i("")}catch(f){console.error("Error submitting feedback:",f)}finally{l(!1)}}},u=h=>{switch(h){case"pending":return a.jsx(wf,{className:"text-yellow-500",size:16});case"submitted":return a.jsx(Ks,{className:"text-green-500",size:16});case"resolved":return a.jsx(bA,{className:"text-slate-400",size:16});default:return null}},d=h=>{switch(h){case"pending":return"Pending Review";case"submitted":return"Feedback Submitted";case"resolved":return"Resolved";default:return h}};return a.jsxs("div",{className:"mt-6 border-t pt-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Supervisor Feedback"}),e.length>0?a.jsx("div",{className:"space-y-4",children:e.map(h=>a.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[u(h.status),a.jsx("span",{className:"text-sm font-medium text-slate-700",children:d(h.status)})]}),n&&h.status==="submitted"&&a.jsx("button",{onClick:()=>t(h.id),className:"text-sm text-teal-600 hover:text-teal-700",disabled:o,children:"Mark as Resolved"})]}),h.feedback&&a.jsx("p",{className:"text-slate-600 whitespace-pre-wrap",children:h.feedback}),a.jsx("div",{className:"mt-2 text-xs text-slate-500",children:new Date(h.updated_at).toLocaleDateString()})]},h.id))}):a.jsx("p",{className:"text-slate-500 italic",children:"No feedback yet."}),n&&e.length>0&&e[0].status==="pending"&&a.jsxs("form",{onSubmit:c,className:"mt-4",children:[a.jsx("textarea",{value:r,onChange:h=>i(h.target.value),placeholder:"Enter your feedback...",className:"w-full px-4 py-3 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",rows:4,disabled:o}),a.jsx("div",{className:"mt-2 flex justify-end",children:a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:o||!r.trim(),children:o?"Submitting...":"Submit Feedback"})})]})]})},x3=()=>{const[e,t]=m.useState([]),[s,n]=m.useState(!0),[r,i]=m.useState(null);m.useEffect(()=>{(async()=>{n(!0),i(null);try{const{data:{user:u}}=await N.auth.getUser();if(!u)throw new Error("No authenticated user");const{data:d,error:h}=await N.from("sao_feedback").select("*, sao:saos (title, content, created_at, eit_id)").eq("supervisor_id",u.id).order("created_at",{ascending:!1});if(h)throw h;t(d||[])}catch(u){i(u.message||"Failed to load feedback requests")}finally{n(!1)}})()},[]);const o=async c=>{await N.from("sao_feedback").update({status:"resolved"}).eq("id",c),t(u=>u.map(d=>d.id===c?{...d,status:"resolved"}:d))},l=async(c,u)=>{const{data:{user:d}}=await N.auth.getUser();d&&(await N.from("sao_feedback").update({feedback:u,status:"submitted"}).eq("sao_id",c).eq("supervisor_id",d.id),t(h=>h.map(f=>f.sao_id===c?{...f,feedback:u,status:"submitted"}:f)))};return a.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"SAO Feedback Requests"}),s?a.jsx("div",{children:"Loading..."}):r?a.jsx("div",{className:"text-red-600",children:r}):e.length===0?a.jsx("div",{className:"text-slate-500",children:"No feedback requests assigned to you."}):a.jsx("div",{className:"space-y-8",children:e.map(c=>{var u,d;return a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-2",children:((u=c.sao)==null?void 0:u.title)||"Untitled SAO"}),a.jsx("div",{className:"mb-2 text-slate-600 whitespace-pre-wrap",children:(d=c.sao)==null?void 0:d.content}),a.jsxs("div",{className:"mb-2 text-xs text-slate-500",children:["Created: ",c.sao?new Date(c.sao.created_at).toLocaleDateString():""]}),a.jsx(g3,{feedback:[c],onResolve:o,onSubmitFeedback:l,isSupervisor:!0})]},c.id)})})]})},v3=e=>{m.useEffect(()=>{const t=[];return e.forEach(({table:s,filter:n,callback:r})=>{const i=N.channel(`${s}_changes`).on("postgres_changes",{event:"*",schema:"public",table:s,filter:n},o=>{r(o)}).subscribe();t.push(i)}),()=>{t.forEach(s=>{N.removeChannel(s)})}},[e])},y3=Ut(e=>({supervisorReviews:[],saoFeedback:[],relationships:[],userSkills:[],addSupervisorReview:t=>e(s=>({supervisorReviews:[...s.supervisorReviews,t]})),updateSupervisorReview:t=>e(s=>({supervisorReviews:s.supervisorReviews.map(n=>n.id===t.id?t:n)})),removeSupervisorReview:t=>e(s=>({supervisorReviews:s.supervisorReviews.filter(n=>n.id!==t)})),addSaoFeedback:t=>e(s=>({saoFeedback:[...s.saoFeedback,t]})),updateSaoFeedback:t=>e(s=>({saoFeedback:s.saoFeedback.map(n=>n.id===t.id?t:n)})),removeSaoFeedback:t=>e(s=>({saoFeedback:s.saoFeedback.filter(n=>n.id!==t)})),updateRelationship:t=>e(s=>({relationships:s.relationships.map(n=>n.id===t.id?t:n)})),updateUserSkill:t=>e(s=>({userSkills:s.userSkills.map(n=>n.id===t.id?t:n)}))}));let w3={data:""},b3=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||w3,j3=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,S3=/\/\*[^]*?\*\/|  +/g,d0=/\n+/g,Ps=(e,t)=>{let s="",n="",r="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?s=i+" "+o+";":n+=i[1]=="f"?Ps(o,i):i+"{"+Ps(o,i[1]=="k"?"":t)+"}":typeof o=="object"?n+=Ps(o,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=Ps.p?Ps.p(i,o):i+":"+o+";")}return s+(t&&r?t+"{"+r+"}":r)+n},ss={},Db=e=>{if(typeof e=="object"){let t="";for(let s in e)t+=s+Db(e[s]);return t}return e},k3=(e,t,s,n,r)=>{let i=Db(e),o=ss[i]||(ss[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!ss[o]){let c=i!==e?e:(u=>{let d,h,f=[{}];for(;d=j3.exec(u.replace(S3,""));)d[4]?f.shift():d[3]?(h=d[3].replace(d0," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][d[1]]=d[2].replace(d0," ").trim();return f[0]})(e);ss[o]=Ps(r?{["@keyframes "+o]:c}:c,s?"":"."+o)}let l=s&&ss.g?ss.g:null;return s&&(ss.g=ss[o]),((c,u,d,h)=>{h?u.data=u.data.replace(h,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(ss[o],t,n,l),o},N3=(e,t,s)=>e.reduce((n,r,i)=>{let o=t[i];if(o&&o.call){let l=o(s),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":Ps(l,""):l===!1?"":l}return n+r+(o??"")},"");function Gl(e){let t=this||{},s=e.call?e(t.p):e;return k3(s.unshift?s.raw?N3(s,[].slice.call(arguments,1),t.p):s.reduce((n,r)=>Object.assign(n,r&&r.call?r(t.p):r),{}):s,b3(t.target),t.g,t.o,t.k)}let Lb,kd,Nd;Gl.bind({g:1});let ms=Gl.bind({k:1});function _3(e,t,s,n){Ps.p=t,Lb=e,kd=s,Nd=n}function en(e,t){let s=this||{};return function(){let n=arguments;function r(i,o){let l=Object.assign({},i),c=l.className||r.className;s.p=Object.assign({theme:kd&&kd()},l),s.o=/ *go\d+/.test(c),l.className=Gl.apply(s,n)+(c?" "+c:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),Nd&&u[0]&&Nd(l),Lb(u,l)}return r}}var E3=e=>typeof e=="function",cl=(e,t)=>E3(e)?e(t):e,C3=(()=>{let e=0;return()=>(++e).toString()})(),Mb=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),T3=20,$b=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,T3)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:s}=t;return $b(e,{type:e.toasts.find(i=>i.id===s.id)?1:0,toast:s});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let r=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+r}))}}},To=[],vn={toasts:[],pausedAt:void 0},Dn=e=>{vn=$b(vn,e),To.forEach(t=>{t(vn)})},P3={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},A3=(e={})=>{let[t,s]=m.useState(vn),n=m.useRef(vn);m.useEffect(()=>(n.current!==vn&&s(vn),To.push(s),()=>{let i=To.indexOf(s);i>-1&&To.splice(i,1)}),[]);let r=t.toasts.map(i=>{var o,l,c;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((o=e[i.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((l=e[i.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||P3[i.type],style:{...e.style,...(c=e[i.type])==null?void 0:c.style,...i.style}}});return{...t,toasts:r}},R3=(e,t="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...s,id:(s==null?void 0:s.id)||C3()}),Ca=e=>(t,s)=>{let n=R3(t,e,s);return Dn({type:2,toast:n}),n.id},Ke=(e,t)=>Ca("blank")(e,t);Ke.error=Ca("error");Ke.success=Ca("success");Ke.loading=Ca("loading");Ke.custom=Ca("custom");Ke.dismiss=e=>{Dn({type:3,toastId:e})};Ke.remove=e=>Dn({type:4,toastId:e});Ke.promise=(e,t,s)=>{let n=Ke.loading(t.loading,{...s,...s==null?void 0:s.loading});return typeof e=="function"&&(e=e()),e.then(r=>{let i=t.success?cl(t.success,r):void 0;return i?Ke.success(i,{id:n,...s,...s==null?void 0:s.success}):Ke.dismiss(n),r}).catch(r=>{let i=t.error?cl(t.error,r):void 0;i?Ke.error(i,{id:n,...s,...s==null?void 0:s.error}):Ke.dismiss(n)}),e};var O3=(e,t)=>{Dn({type:1,toast:{id:e,height:t}})},I3=()=>{Dn({type:5,time:Date.now()})},Ti=new Map,D3=1e3,L3=(e,t=D3)=>{if(Ti.has(e))return;let s=setTimeout(()=>{Ti.delete(e),Dn({type:4,toastId:e})},t);Ti.set(e,s)},M3=e=>{let{toasts:t,pausedAt:s}=A3(e);m.useEffect(()=>{if(s)return;let i=Date.now(),o=t.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(i-l.createdAt);if(c<0){l.visible&&Ke.dismiss(l.id);return}return setTimeout(()=>Ke.dismiss(l.id),c)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[t,s]);let n=m.useCallback(()=>{s&&Dn({type:6,time:Date.now()})},[s]),r=m.useCallback((i,o)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=o||{},d=t.filter(p=>(p.position||u)===(i.position||u)&&p.height),h=d.findIndex(p=>p.id===i.id),f=d.filter((p,v)=>v<h&&p.visible).length;return d.filter(p=>p.visible).slice(...l?[f+1]:[0,f]).reduce((p,v)=>p+(v.height||0)+c,0)},[t]);return m.useEffect(()=>{t.forEach(i=>{if(i.dismissed)L3(i.id,i.removeDelay);else{let o=Ti.get(i.id);o&&(clearTimeout(o),Ti.delete(i.id))}})},[t]),{toasts:t,handlers:{updateHeight:O3,startPause:I3,endPause:n,calculateOffset:r}}},$3=ms`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,F3=ms`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,U3=ms`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,z3=en("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$3} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${F3} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${U3} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,V3=ms`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,B3=en("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${V3} 1s linear infinite;
`,q3=ms`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,W3=ms`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,H3=en("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${q3} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${W3} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,G3=en("div")`
  position: absolute;
`,K3=en("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,J3=ms`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Y3=en("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${J3} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,X3=({toast:e})=>{let{icon:t,type:s,iconTheme:n}=e;return t!==void 0?typeof t=="string"?m.createElement(Y3,null,t):t:s==="blank"?null:m.createElement(K3,null,m.createElement(B3,{...n}),s!=="loading"&&m.createElement(G3,null,s==="error"?m.createElement(z3,{...n}):m.createElement(H3,{...n})))},Q3=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Z3=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,eD="0%{opacity:0;} 100%{opacity:1;}",tD="0%{opacity:1;} 100%{opacity:0;}",sD=en("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,nD=en("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,rD=(e,t)=>{let s=e.includes("top")?1:-1,[n,r]=Mb()?[eD,tD]:[Q3(s),Z3(s)];return{animation:t?`${ms(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ms(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},iD=m.memo(({toast:e,position:t,style:s,children:n})=>{let r=e.height?rD(e.position||t||"top-center",e.visible):{opacity:0},i=m.createElement(X3,{toast:e}),o=m.createElement(nD,{...e.ariaProps},cl(e.message,e));return m.createElement(sD,{className:e.className,style:{...r,...s,...e.style}},typeof n=="function"?n({icon:i,message:o}):m.createElement(m.Fragment,null,i,o))});_3(m.createElement);var aD=({id:e,className:t,style:s,onHeightUpdate:n,children:r})=>{let i=m.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;n(e,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return m.createElement("div",{ref:i,className:t,style:s},r)},oD=(e,t)=>{let s=e.includes("top"),n=s?{top:0}:{bottom:0},r=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Mb()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(s?1:-1)}px)`,...n,...r}},lD=Gl`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,oo=16,cD=({reverseOrder:e,position:t="top-center",toastOptions:s,gutter:n,children:r,containerStyle:i,containerClassName:o})=>{let{toasts:l,handlers:c}=M3(s);return m.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:oo,left:oo,right:oo,bottom:oo,pointerEvents:"none",...i},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||t,h=c.calculateOffset(u,{reverseOrder:e,gutter:n,defaultPosition:t}),f=oD(d,h);return m.createElement(aD,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?lD:"",style:f},u.type==="custom"?cl(u.message,u):r?r(u):m.createElement(iD,{toast:u,position:d}))}))},Wn=Ke;const uD=({userId:e})=>{const{addSupervisorReview:t,updateSupervisorReview:s,addSaoFeedback:n,updateSaoFeedback:r,updateRelationship:i,updateUserSkill:o}=y3(),{supervisorReviews:l,saoFeedback:c,relationships:u,userSkills:d}=vb();return v3([{table:"supervisor_reviews",filter:`eit_id=eq.${e}`,callback:h=>{l&&(h.eventType==="INSERT"?(t(h.new),Wn.success("New review received!")):h.eventType==="UPDATE"&&(s(h.new),Wn.success("Review updated!")))}},{table:"sao_feedback",filter:`sao_id=in.(select id from saos where user_id=eq.${e})`,callback:h=>{c&&(h.eventType==="INSERT"?(n(h.new),Wn.success("New SAO feedback received!")):h.eventType==="UPDATE"&&(r(h.new),Wn.success("SAO feedback updated!")))}},{table:"supervisor_eit_relationships",filter:`eit_id=eq.${e}`,callback:h=>{u&&h.eventType==="UPDATE"&&(i(h.new),Wn.success("Relationship status updated!"))}},{table:"user_skills",filter:`user_id=eq.${e}`,callback:h=>{d&&h.eventType==="UPDATE"&&(o(h.new),Wn.success("Skill status updated!"))}}]),null};function dD(){const[e,t]=m.useState(null),[s,n]=m.useState(!0),r=ca(d=>d.initialize),i=ca(d=>d.setupRealtimeSubscriptions),o=Qt(d=>d.loadUserSkills),l=fb(d=>d.initialize),c="75421336207-tftquv2i1mvom7ve3abijonie2r70kb6.apps.googleusercontent.com",u=async()=>{try{console.log("Starting app initialization..."),await o(),console.log("Skills loaded successfully"),await r(),console.log("Progress initialized successfully"),await i(),console.log("Realtime subscriptions set up successfully"),await l(),console.log("Notifications initialized successfully")}catch(d){console.error("Error initializing app:",d)}};return m.useEffect(()=>{console.log("Checking for existing session..."),N.auth.getSession().then(({data:{session:h}})=>{console.log("Session check result:",h?"Session found":"No session"),t(h),n(!1),h&&(console.log("Session found, initializing app..."),u())});const{data:{subscription:d}}=N.auth.onAuthStateChange((h,f)=>{console.log("Auth state changed:",h,f?"Session present":"No session"),t(f),f&&(console.log("New session detected, initializing app..."),u())});return()=>d.unsubscribe()},[r,i,o]),m.useEffect(()=>{const d="accreda_last_tab_close",f=localStorage.getItem(d);if(f){const v=parseInt(f,10);!isNaN(v)&&Date.now()-v>18e5&&N.auth.signOut().then(()=>{t(null)})}const p=()=>{localStorage.setItem(d,Date.now().toString())};return window.addEventListener("beforeunload",p),()=>{window.removeEventListener("beforeunload",p)}},[]),s?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"})}):a.jsxs(Ob,{clientId:c,children:[e&&a.jsx(uD,{userId:e.user.id}),a.jsx(cD,{position:"top-right"}),a.jsxs(ok,{children:[a.jsx(se,{path:"/",element:e?a.jsx(n3,{}):a.jsx(D4,{})}),a.jsx(se,{path:"/login",element:e?a.jsx(Un,{to:"/dashboard"}):a.jsx(GP,{})}),a.jsx(se,{path:"/signup",element:e?a.jsx(Un,{to:"/dashboard"}):a.jsx(KP,{})}),a.jsx(se,{path:"/forgot-password",element:e?a.jsx(Un,{to:"/dashboard"}):a.jsx(JP,{})}),a.jsx(se,{path:"/reset-password",element:e?a.jsx(Un,{to:"/dashboard"}):a.jsx(YP,{})}),a.jsxs(se,{path:"/dashboard",element:e?a.jsx(XO,{appLoaded:!s}):a.jsx(Un,{to:"/"}),children:[a.jsx(se,{index:!0,element:a.jsx(d3,{})}),a.jsx(se,{path:"skills",element:a.jsx(sI,{})}),a.jsx(se,{path:"saos",element:a.jsx(O4,{})}),a.jsx(se,{path:"documents",element:a.jsx(nI,{})}),a.jsx(se,{path:"essays",element:a.jsx(rI,{})}),a.jsx(se,{path:"text-input",element:a.jsx(uI,{})}),a.jsx(se,{path:"edit-document/:id",element:a.jsx(hI,{})}),a.jsx(se,{path:"settings",element:a.jsx(YI,{})}),a.jsx(se,{path:"help",element:a.jsx(I4,{})}),a.jsx(se,{path:"references",element:a.jsx(U4,{})})]}),a.jsxs(se,{path:"/dashboard/supervisor",element:e?a.jsx(W4,{appLoaded:!s}):a.jsx(Un,{to:"/"}),children:[a.jsx(se,{index:!0,element:a.jsx(t3,{})}),a.jsx(se,{path:"team",element:a.jsx(G4,{})}),a.jsx(se,{path:"reviews",element:a.jsx(K4,{})}),a.jsx(se,{path:"documents",element:a.jsx(J4,{})}),a.jsx(se,{path:"settings",element:a.jsx(Q4,{})}),a.jsx(se,{path:"support",element:a.jsx(Z4,{})}),a.jsx(se,{path:"skills",element:a.jsx(f3,{})}),a.jsx(se,{path:"validation-requests",element:a.jsx(p3,{})}),a.jsx(se,{path:"sao-feedback",element:a.jsx(x3,{})})]}),a.jsx(se,{path:"*",element:a.jsx(dI,{})})]})]})}kv(document.getElementById("root")).render(a.jsx(m.StrictMode,{children:a.jsx(gk,{children:a.jsx(dD,{})})}));export{qw as A,ia as B,Ks as C,In as F,Cg as P,A4 as S,Vl as U,kt as X,Qt as a,He as b,B as c,_d as g,a as j,m as r,N as s,Hl as u};
